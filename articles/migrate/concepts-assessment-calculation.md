---
title: "Вычисление оценок в службе \"Миграция Azure\" | Документация Майкрософт"
description: "Эта статья содержит обзор вычисления оценок в службе \"Миграция Azure\"."
author: rayne-wiselman
ms.service: azure-migrate
ms.topic: conceptual
ms.date: 12/12/2017
ms.author: raynew
ms.openlocfilehash: b8075f0e1149a6fc5194347fc34e2a16d5eb2ffc
ms.sourcegitcommit: d6984ef8cc057423ff81efb4645af9d0b902f843
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/05/2018
---
# <a name="assessment-calculations"></a>Вычисление оценок

Служба [Миграция Azure](migrate-overview.md) выполняет оценку локальных рабочих нагрузок для переноса в Azure. В этой статье содержатся сведения о том, как эти оценки вычисляются.



## <a name="overview"></a>Обзор

Оценка службы "Миграция Azure" состоит из трех этапов. Оценка начинается с анализа пригодности, затем следует оценка размера на основе производительности и, наконец, оценка ежемесячной стоимости. Компьютер переходит на следующий этап, только если проходит предыдущий. Например, если компьютер не прошел проверку пригодности для Azure, то он помечается как непригодный для Azure, и размер и стоимость для него вычисляться не будут. 


## <a name="azure-suitability-analysis"></a>Анализ пригодности для Azure

Компьютеры, которые требуется перенести в Azure, должны соответствовать требованиям и ограничениям Azure. Например, если размер диска локальной виртуальной машины превышает 4 ТБ, то ее невозможно будет разместить на Azure. Проверки соответствия Azure приведены в следующей таблице. 

**Проверка** | **Дополнительные сведения**
--- | ---
**Тип загрузки** | Диск гостевой ОС должен использовать тип загрузки BIOS, а не UEFI.
**Ядра** | Число ядер в компьютерах должно быть равно (или меньше) максимальному количеству ядер (32), поддерживаемых для виртуальной машины Azure.<br/><br/> Если доступен журнал производительности, служба "Миграция Azure" рассматривает используемые ядра для сравнения. Если в параметрах оценки указан фактор комфорта, то количество используемых ядер умножается на него.<br/><br/> Если журнал производительности отсутствует, служба "Миграция Azure" использует выделенные ядра, не применяя фактор комфорта.
**Память** | Объем памяти компьютера должен быть равен (или меньше) максимальному объему памяти (448 ГБ), допустимому для виртуальной машины Azure. <br/><br/> Если доступен журнал производительности, служба "Миграция Azure" рассматривает используемую память для сравнения. Если задан фактор комфорта, объем используемой памяти умножается на него.<br/><br/> Если журнал отсутствует, используется выделенная память без применения фактора комфорта.<br/><br/> 
**Windows Server 2003–2008 R2** | Поддержка 32-разрядных и 64-разрядных версий.<br/><br/> Azure обеспечивает только поддержку по принципу лучшего из возможного.
**Windows Server 2008 R2 со всеми пакетами обновления** | Поддержка 64-разрядных версий.<br/><br/> Azure обеспечивает полную поддержку.
**Windows Server 2012 и все пакеты обновления** | Поддержка 64-разрядных версий.<br/><br/> Azure обеспечивает полную поддержку.
**Windows Server 2012 R2 и все пакеты обновления** | Поддержка 64-разрядных версий.<br/><br/> Azure обеспечивает полную поддержку.
**Windows Server 2016 и все пакеты обновления** | Поддержка 64-разрядных версий.<br/><br/> Azure обеспечивает полную поддержку.
**Windows Client 7 и более поздние версии** | Поддержка 64-разрядных версий.<br/><br/> Azure обеспечивает поддержку только для подписки Visual Studio.
**Linux** | Поддержка 64-разрядных версий.<br/><br/> Azure обеспечивает полную поддержку этих [операционных систем](../virtual-machines/linux/endorsed-distros.md).
**Диск хранилища** | Выделенный размер диска не должен превышать 4 ТБ (4096 ГБ).<br/><br/> Количество дисков, подключенных к компьютеру, не должно превышать 65, включая диск операционной системы. 
**Сеть** | К компьютеру должно быть подключено не более 32 сетевых адаптеров.


## <a name="performance-based-sizing"></a>Выбор размера на основе производительности

После того, как компьютер помечается как подходящий для Azure, служба "Миграция Azure" сопоставляет его с размером виртуальной машины в Azure, используя следующие критерии.

- **Проверка хранения**: перенос Azure пытается сопоставить каждый диск, подключенный к компьютеру, на диск в Azure:
    - Коэффициент удобства Azure миграции умножает ввода-вывода в секунду (IOPS). Она также умножает пропускную способность (в МБ/с) каждого диска на фактор комфорта. Это обеспечивает эффективность дисковых операций ввода-вывода и использования пропускной способности. В соответствии с этим служба "Миграция Azure" сопоставляет диск с диском уровня "Стандартный" или "Премиум" в Azure.
      - Если службе не удается найти диск, обеспечивающий необходимое число операций ввода-вывода и пропускную способность, она помечает компьютер как неподходящий для Azure.
      - При обнаружении набора подходящих дисков служба "Миграция Azure" выбирает те, которые поддерживают метод обеспечения избыточности хранилища и расположение, указанное в параметрах оценки.
      - Если доступно несколько соответствующих дисков, она выбирает тот, который обеспечивает наименьшие затраты.
- **Пропускная способность диска хранилища**. [Узнайте больше](../azure-subscription-service-limits.md#storage-limits) об ограничениях Azure для диска и виртуальной машины.
- **Тип диска**. Служба "Миграция Azure" поддерживает только управляемые диски.
- **Проверка сети**. Служба "Миграция Azure" пытается найти виртуальную машину Azure, которая может поддерживать число сетевых адаптеров на локальном компьютере.
    - Для этого она суммирует данные, передаваемые в секунду (Мбит/с) из компьютера (исходящий сетевой трафик) через все сетевые адаптеры, и применяет к совокупному числу фактор комфорта. Это число используется для поиска виртуальной машины Azure, обеспечивающей нужную производительность сети.
    - Служба "Миграция Azure" принимает параметры сети из виртуальной машины и предполагает, что это сеть вне центра обработки данных.
    - Если данные о производительности сети недоступны, то для выбора размера виртуальной машины учитывается только число сетевых адаптеров.
- **Проверка вычислений**. После вычисления требований к хранилищу и сети служба "Миграция Azure" рассматривает требования к вычислениям.
    - Если доступны данные о производительности для виртуальной машины, она учитывает используемые ядра и память и применяет фактор комфорта. Исходя из этого числа служба пытается найти подходящий размер виртуальной машины в Azure.
    - Если найти подходящий размер не удалось, компьютер помечается как неподходящий для Azure.
    - Если найден подходящий размер, служба "Миграция Azure" применяет результаты вычисления параметров хранилища и сети. Затем она применяет параметры расположения и ценовой категории, чтобы получить окончательный рекомендуемый размер виртуальной машины.


## <a name="monthly-cost-estimation"></a>Примерная ежемесячная стоимость

После определения рекомендуемого размера служба "Миграция Azure" рассчитывает затраты на вычисления и хранилище после миграции.

- **Стоимость вычислений**. Служба "Миграция Azure" использует API выставления счетов, чтобы на основании рекомендуемого размера виртуальной машины Azure вычислить ежемесячные затраты на виртуальную машину. При этом учитывается операционная система, программа Software Assurance, расположение и параметры валюты. Служба суммирует затраты на все компьютеры, чтобы рассчитать общие ежемесячные затраты на вычисления.
- **Стоимость хранилища**. Ежемесячные затраты на хранилище для компьютера вычисляются путем суммирования ежемесячных затрат на все диски, подключенные к компьютеру. Служба "Миграция Azure" вычисляет общие ежемесячные затраты на хранилище, суммируя затраты на хранилище для всех компьютеров. В настоящее время при вычислении не учитываются предложения, указанные в параметрах оценки.

Цены отображаются в валюте, заданной в настройках оценки. 


## <a name="next-steps"></a>Дальнейшие действия

[Настройка оценки локальных виртуальных машин VMware](tutorial-assessment-vmware.md)
