---
title: "aaaDynamic ускорение сайта через Azure CDN"
description: "Подробный обзор динамического ускорения сайтов"
services: cdn
documentationcenter: 
author: smcevoy
manager: erikre
editor: 
ms.assetid: 
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/02/2017
ms.author: v-semcev
ms.openlocfilehash: 37e6312ae5e83448f2d87c95ef48c387355748bb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="dynamic-site-acceleration-via-azure-cdn"></a>Динамическое ускорение сайтов с помощью Azure CDN

С hello развертывание социальных сетей, электронной торговли и web hyper персонализированных hello быстро увеличивающий процент hello содержимого обслуживаться tooend пользователи будут создаваться в режиме реального времени. Пользователям необходимы быстрые, надежные и настраиваемые решения, которые не зависят от браузера, расположения, устройства или сети. Однако hello очень нововведения, которые делают интерфейсы, поэтому привлечения также замедлить загрузки страницы и поставить под угрозу hello высокое качество работы hello потребителя. 

Стандартные возможности CDN включает hello возможность toocache файлы ближе tooend пользователей toospeed параметров представления статических файлов. Тем не менее динамических веб-приложений, кэширование содержимого в краев невозможна, поскольку сервер hello формирует содержимое hello в ответ toouser поведение. Ускорение hello доставки такого содержимого сложнее, чем традиционные пограничным кэшированием и требует решение начала до конца, которое точно настраивает каждый элемент пути hello все данные с момента начала toodelivery. С помощью Azure CDN динамического сайта ускорение DSA, значительно улучшена производительность hello веб-страниц с динамическим содержимым.

Azure CDN с Akamai и Verizon оптимизирует DSA через hello **оптимизирован для** меню во время создания конечной точки.

## <a name="configuring-cdn-endpoint-tooaccelerate-delivery-of-dynamic-files"></a>Настройка доставки tooaccelerate конечной точки CDN динамических файлов

Toooptimize доставки конечной точки CDN вашей динамических файлов через портал Azure можно настроить, выбрав hello **ускорение динамического узла** параметр в списке hello **оптимизирован для** Выбор свойств во время Создание конечной точки Hello. Можно также использовать нашими API REST или любой из toodo SDK клиента hello hello же программными средствами. 

### <a name="probe-path"></a>Путь пробы
Путь проверки является tooDynamic конкретных-функция ускорения сайта, и правильно необходим для создания. DSA используется небольшого *путь проверки* файл размещен на hello источника toooptimize сетевой конфигурации маршрутизации для hello CDN. Можно загрузить и отправить наш сайт tooyour образец файла или использовать существующий актив на источнике, примерно 10 КБ для hello проверки пути вместо Если активов hello существует.

> [!Note]
> За использование DSA взимается дополнительная плата. Дополнительные сведения см. в разделе hello [странице цен](https://azure.microsoft.com/pricing/details/cdn/) для получения дополнительной информации.

следующие снимки экрана приветствия иллюстрируют процесс hello через портал Azure.
 
![Добавление новой конечной точки CDN](./media/cdn-dynamic-site-acceleration/01_Endpoint_Profile.png) 

*Рисунок 1: Добавление новой конечной точки CDN из hello профиль CDN*
 
![Создание конечной точки CDN с поддержкой DSA](./media/cdn-dynamic-site-acceleration/02_Optimized_DSA.png)  

*Рис. 2. Создание конечной точки CDN с выбранным параметром оптимизации "Динамическое ускорение сайтов"*

После создания конечной точки CDN hello, оно применяется hello DSA оптимизации для всех файлов, соответствующих определенным критериям. Привет, в следующем разделе описываются DSA оптимизации подробно.

## <a name="dsa-optimization-using-azure-cdn"></a>Оптимизация DSA с помощью Azure CDN

Динамические ускорение сайта на Azure CDN ускоряет доставку динамического активов, используя следующие приемы hello:

-   Оптимизация маршрутов
-   Оптимизация TCP
-   Предварительная выборка объектов (только Akamai).
-   Сжатие мобильных изображений (только Akamai).

### <a name="route-optimization"></a>Оптимизация маршрутов

Оптимизации маршрута важен, так как hello Интернет динамического месте, где трафик и временно простои постоянно изменяются hello топологии сети. Hello протокол пограничного шлюза (BGP) — протокол маршрутизации hello для hello Internet, но может быть быстрее маршруты через промежуточные серверы точки присутствия (PoP). 

Hello оптимальный путь toohello источника так, чтобы сайт постоянно доступны и динамическое содержимое доставляется tooend пользователей с помощью hello самый быстрый и самый надежный маршрута возможных выберет оптимизации маршрута. 

Hello Akamai сети использует данные в реальном времени toocollect методы и сравнения различных путей различных узлов на сервере Akamai hello, а также маршрут BGP по умолчанию hello по hello откройте Internet toodetermine hello быстрым маршрут между исходной hello и hello Граница CDN. Это позволяет избегать длинных маршрутов и точек перегрузки в Интернете. 

Аналогичным образом hello Verizon сети использует сочетание произвольной рассылки DNS, большой емкости поддерживает извлекает и проверки работоспособности toodetermine hello наиболее шлюзы toobest данные о маршруте из hello источника toohello клиента.
 
В результате доставки содержимого полностью динамических и транзакций быстрее и надежнее tooend пользователях, даже в том случае, если он является некэшируемый. 

### <a name="tcp-optimizations"></a>Оптимизация TCP

Протокол управления передачей (TCP) — hello стандартного набора протоколов Интернета hello используемых toodeliver сведений между приложениями на IP-сети.  По умолчанию существует несколько назад и вперед запросов требуется tooset копирование подключение TCP, а также congestions сети tooavoid ограничения, которые приводить к снижению эффективности работы в масштабе. Azure CDN от Akamai решает эту проблему путем оптимизации в трех областях: 

 - устранение медленного запуска;
 - использование постоянных подключений;
 - настройка параметров TCP-пакетов (только Akamai).

#### <a name="eliminating-slow-start"></a>Устранение медленного запуска

*Медленный запуск* является частью hello протокол TCP, не позволяющая перегрузки сети, ограничивая объем данных, отправляемых по сети hello hello. Он начинается с размером окна небольших перегрузки между отправителем и получателем до достижения максимального hello или обнаруживается потеря пакетов.

Azure CDN от Akamai и Verizon устраняют медленный запуск в 3 этапа:

1.  Akamai и Verizon по сети используйте работоспособности и пропускной способности, наблюдение за toomeasure hello пропускной способности соединения между серверами PoP edge.
2. метрики Hello являются общими для PoP пограничные серверы, чтобы каждый сервер учитывает hello состояния сети и других извлекает вокруг них hello работоспособность сервера.  
3. Пограничные серверы Hello CDN стали может toomake предположения о некоторые параметры передачи, например какие hello оптимального размера окна должен быть при взаимодействии с другими серверами edge CDN в его близости. Этот шаг означает, поддерживает передачу данных более поздней версии пакета ли работоспособности hello hello соединения между hello CDN пограничных серверов можно увеличить размер окна hello начальной перегрузки.  

#### <a name="leveraging-persistent-connections"></a>Использование постоянных подключений

С помощью CDN меньшее число уникальных компьютеров Подключите исходный сервер tooyour непосредственно по сравнению с пользователями, непосредственное подключение tooyour источника. Azure CDN с Akamai и Verizon пулов пользователь запросов вместе tooestablish меньшее количество соединений с источником hello.

Как упоминалось ранее, TCP-подключений предпринять несколько запросов и обратно в ошибку подтверждения tooestablish новое соединение. Постоянные подключения, также известный как «HTTP Keep-Alive,» повторно использовать существующие подключения TCP для нескольких HTTP запросы toosave времени приема-передачи и ускорить доставки. 

Hello Verizon сети также отправляет периодические пакеты проверки активности через tooprevent подключение TCP hello из закрывается открытое соединение.

#### <a name="tuning-tcp-packet-parameters"></a>Настройка параметров TCP-пакетов

Azure CDN с Akamai также производит настройку hello параметров, управляющих подключения сервера к серверу и снижается hello объем дальней round tooretrieve необходимые приема-передачи содержимого внедренных в hello сайта с помощью hello следующие методы:

1.  Увеличение окна hello начальной нагрузки, чтобы дополнительные пакеты могут быть отправлены без ожидания подтверждения.
2.  Уменьшение времени ожидания начальной истекают hello, чтобы обнаруживается потеря и повторной передачи происходит быстрее.
3.  Уменьшающегося hello минимума и максимума повторной время ожидания tooreduce hello время ожидания при условии, что пакеты были потеряны при передаче.

### <a name="object-prefetch-akamai-only"></a>Предварительная выборка объектов (только Akamai)

Большинство веб-сайтов состоит из HTML-страницы, которая ссылается на другие ресурсы, такие как изображения и сценарии. Как правило когда клиент запрашивает веб-страницу, браузер hello сначала загружает и выполняет синтаксический анализ hello объекта HTML, а затем вызывает дополнительные запросы, что toolinked активах, которые требуется toofully загрузить страницу приветствия. 

*Предварительную загрузку* — это методика, tooretrieve изображения и сценарии внедрено в hello HTML-страница hello HTML-код предоставляется toohello браузера, а перед hello браузер даже отправляет запросы на этих объектов. 

С hello **предварительной выборки** параметр отключен во время hello, когда сеть CDN обслуживает hello HTML базовой страницы toohello клиентского браузера, hello hello CDN выполняет синтаксический разбор файла hello HTML и дополнительные запросы для всех связанных ресурсов и сохраните в своем кэше. Hello клиент создает запросы hello для средств hello связаны, hello CDN пограничный сервер уже имеет hello запрошенные объекты и может обслуживать их немедленно без источник toohello кругового пути. Такая оптимизация полезна как для кэшируемого, так и для некэшируемого содержимого.

### <a name="adaptive-image-compression-akamai-only"></a>Адаптивное сжатие изображений (только Akamai)

Некоторые устройства, особенно из них мобильных наблюдаться низкая скорость сети из tootime времени. В этих случаях более эффективным для hello пользователя tooreceive меньшего размера изображений в веб-странице поставщика быстрее, а не ожидают длительное время для полного разрешения изображений.

Эта функция автоматически отслеживает качество сети и использует стандартные методы сжатия JPEG при медленнее время доставки tooimprove скорости сети.

Адаптивное сжатие изображений | Расширения файлов  
--- | ---  
Сжатие JPEG | .jpg, .jpeg, .jpe, .jig, .jgig, .jgi

## <a name="caching"></a>Caching

С DSA кэширование отключено по умолчанию hello CDN, даже в том случае, если источник hello включает заголовки элемент управления или срок действия кэша в ответ hello. Это значение по умолчанию отключена, так как DSA обычно используется для динамического средств, не должен быть кэширован, так как они уникальный tooeach клиента и включение кэширования по умолчанию может нарушить работу этого поведения.

Если у вас есть веб-сайт с помощью набора средств статические и динамические, это лучший tootake гибридный подход tooget hello наилучшей производительности. 

При использовании сети ADN с Verizon Premium можно включить кэширование на для особых случаев с помощью модуля правил hello.  

Альтернативой является toouse две конечные точки CDN. С динамической активы toodeliver DSA, а другой конечной точкой со статической оптимизации типа, такие как общие доставки web toodelivery кэшируемый активы. В этом альтернативных tooaccomplish заказа будут изменены вашей toolink URL-адреса веб-страницы напрямую toohello активов на hello планирование toouse конечной точки CDN. 

Например: `mydynamic.azureedge.net/index.html` является динамической страницы и загружается из конечной точки DSA hello.  Hello HTML-страница ссылается на несколько статических ресурсов, таких как библиотеки JavaScript или изображения, загруженные из hello статических конечной точки CDN, таких как `mystatic.azureedge.net/banner.jpg` и `mystatic.azureedge.net/scripts.js`. 

Пример можно найти [здесь](https://docs.microsoft.com/azure/cdn/cdn-cloud-service-with-cdn#controller) на как toouse контроллеров в ASP.NET веб-приложения tooserve содержимого с помощью конкретного URL-адрес CDN.




