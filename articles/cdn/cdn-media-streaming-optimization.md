---
title: "aaaMedia оптимизации через сеть доставки содержимого Azure hello потоков"
description: "Оптимизация потоковой передачи файлов мультимедиа для непрерывной доставки"
services: cdn
documentationcenter: 
author: smcevoy
manager: erikre
editor: 
ms.assetid: 
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/16/2017
ms.author: v-semcev
ms.openlocfilehash: a05a86204708c7ea7ef1f9be04323cdda6a2d403
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="media-streaming-optimization-via-hello-azure-content-delivery-network"></a>Оптимизация через сеть доставки содержимого Azure hello потоковой передачи мультимедиа 
 
Использование видео высокого увеличивается на hello Интернет, что создает трудности для эффективной доставке больших файлов. Пользователи ожидают Плавное воспроизведение видео по запросу или live видео средств на разных сетей и клиентов по всему Здравствуй, мир!. Для потоковой передачи файлов быстрого и эффективного механизма — критический tooensure smooth и гибких пользователем.  

Потоковой передачи мультимедиа — особенно трудно toodeliver из-за больших размеров hello и количество одновременных средства просмотра. Длительные задержки вызвать tooleave пользователей. Поскольку обновляющиеся потоки не может быть кэширован заранее и большие задержки не являются приемлемым tooviewers, фрагменты видео должно быть доставлено своевременно. 

шаблоны запроса Hello потоковой передачи также предоставляют новые проблемы. При отпускании популярных обновляющегося потока или новый ряд видео по запросу, тысяч toomillions средств просмотра может запросить поток hello в hello то же время. В этом случае смарт-запрос консолидации является жизненно важной toonot перегрузки hello исходные серверы при еще не кэшируются активы hello.
 
Hello сети доставки содержимого Azure из Akamai теперь предоставляет возможность, обеспечивающая потоковой передачи мультимедиа эффективно toousers всех земной шар hello в масштабе. функция Hello сокращает задержки, так как это снижает нагрузку hello на исходные серверы hello. Этот компонент доступен в ценовой категории Standard Akamai hello. 

Hello сети доставки содержимого Azure из Verizon доставляет потокового мультимедиа непосредственно в тип оптимизации доставки общие web hello.
 
## <a name="configure-an-endpoint-toooptimize-media-streaming-in-hello-azure-content-delivery-network-from-akamai"></a>Настройка конечной точки toooptimize потоковой передачи мультимедиа в сети доставки содержимого Azure из Akamai hello
 
Можно настроить на доставку доставки содержимого сети (CDN) конечной точки toooptimize для больших файлов через портал Azure hello. Можно также использовать нашими API REST или любой из hello клиента SDK toodo это. Hello следующие шаги показывают процесс hello через портал Azure hello:

1. tooadd новую конечную точку на hello **профиля CDN** выберите **конечная точка**.
  
    ![Новая конечная точка](./media/cdn-media-streaming-optimization/01_Adding.png)

2. В hello **оптимизирован для** раскрывающемся списке выберите **видео потоковой передачи мультимедиа по требованию** для средств видео по запросу. Если используется сочетание потоковой передачи видео в реальном времени и потоковой передачи видео по запросу, выберите **Общая потоковая передача мультимедиа**.

    ![Выбранная потоковая передача](./media/cdn-media-streaming-optimization/02_Creating.png) 
 
После создания конечной точки hello, оно применяется hello оптимизации для всех файлов, соответствующих определенным условиям. Этот процесс описан в следующем разделе Hello. 
 
## <a name="media-streaming-optimizations-for-hello-azure-content-delivery-network-from-akamai"></a>Оптимизация для hello сети доставки содержимого Azure из Akamai потоковой передачи мультимедиа
 
Оптимизация потоковой передачи из Akamai эффективна для потоковой передачи видео по запросу, при которой передаются отдельные фрагменты мультимедиа. Этот процесс отличается от передачи одного большого ресурса с помощью последовательной загрузки или с помощью запросов на диапазоны байт. Дополнительные сведения о таком типе доставки мультимедиа см. в статье [Оптимизация больших файлов](cdn-large-file-optimization.md).


Hello общие носителя доставки или видео по запросу мультимедиа доставки оптимизации типа используются CDN внутренней оптимизации toodeliver мультимедийные ресурсы быстрее. В них также используются конфигурации для ресурсов мультимедиа на основе общих рекомендаций, выработанных с течением времени.

### <a name="caching"></a>Caching

Если hello сети доставки содержимого Azure из Akamai обнаруживает, что этого hello ресурса манифеста потоковой передачи или фрагмент, в нем разное время истечения срока действия кэширования, доставка общие веб. (См. Полный список hello в следующей таблице hello). Как всегда соблюдаются cache-control и Expires заголовки, отправленные из исходной hello. Если активов hello не актив мультимедиа, он кэширует с помощью hello сроков для доставки в общие web.

Hello короткое время отрицательное кэширования полезен для разгрузки источника при запросе много фрагмент, который еще не существует. Например, обновляющегося потока, где приветственных пакетов недоступны из исходной hello, в секунду. интервал больше кэширования приветствия также позволяет разгрузить запросы от начала координат hello, так как обычно не изменил содержимое видео.
 

|    | Общие сведения<br> web<br>доставки | Общие сведения<br> Схема<br> Потоковая передача | Видео по запросу <br>Схема<br> Потоковая передача  
--- | --- | --- | ---
Кэширование: положительное <br> HTTP 200, 203, 300, <br> 301, 302 и 410 | 7 дней |365 дней | 365 дней   
Кэширование: отрицательное <br> HTTP 204, 305, 404 <br> и 405 | None | 1 с | 1 с
 
### <a name="deal-with-origin-failure"></a>Устранение сбоев источника  

При общей передаче мультимедиа и передаче видео по запросу также используются время ожидания источника и журнал повторных попыток в соответствии с рекомендациями для шаблонов типичных запросов. Например поскольку доставки мультимедиа, общие для динамическую и доставки мультимедиа видео по запросу, он использует короткое время ожидания подключения из-за характера срочных toohello динамической потоковой передачи.

После истечения времени ожидания соединения hello CDN повторяет несколько раз перед отправкой «504 - истекло время ожидания шлюза» ошибка toohello клиента. 

Если файл соответствует hello тип и размер условия список файлов, hello CDN использует поведение hello для потоковой передачи мультимедиа. В противном случае используется общая веб-доставка.
   
### <a name="conditions-for-media-streaming-optimization"></a>Условия для оптимизации потоковой передачи мультимедиа 

Привет, в следующей таблице перечислены hello toobe условия удовлетворены для оптимизации потоковой передачи мультимедиа: 
 
Поддерживаемые типы потоковой передачи | Расширения файлов  
--- | ---  
Apple HLS | m3u8, m3u, m3ub, key, ts, aac
Adobe HDS | f4m, f4x, drmmeta, bootstrap, f4f,<br>Структура URL Seg-Frag <br> (сопоставления регулярного выражения: ^(/.*)Seq(\d+)-Frag(\d+)
DASH | mpd, тире, divx, ismv, m4s, m4v, mp4, mp4v, <br> sidx, webm, mp4a, m4a, isma
Потоковая передача Smooth Streaming | /manifest/,/QualityLevels/Fragments/
  

 
## <a name="media-streaming-optimizations-for-hello-azure-content-delivery-network-from-verizon"></a>Оптимизация для hello сети доставки содержимого Azure из Verizon потоковой передачи мультимедиа

Hello сети доставки содержимого Azure из Verizon доставляет потоковой передачи мультимедиа напрямую с помощью тип оптимизации доставки общие web hello. Несколько функций на hello CDN непосредственно поможет доставки мультимедиа по умолчанию.

### <a name="partial-cache-sharing"></a>Совместное использование частичного кэширования

Совместное использование частичного кэширования позволяет запросы содержимого toonew tooserve частично в кэше CDN hello. Например если toohello первый запрос hello CDN Промах кэша, hello запрос отправляется toohello источника. Несмотря на то, что это неполный содержимое загружается в hello кэша CDN, другие запросы toohello CDN можно начать получение этих данных. 

### <a name="cache-fill-wait-time"></a>Время ожидания заполнения кэша

 функция времени ожидания заполнения кэша Hello принудительно hello пограничного сервера toohold последующие запросы для того же ресурса hello до ответа HTTP, заголовки, поставляемых hello исходного сервера. Если заголовки HTTP-ответа от источника hello поступило до истечения времени ожидания hello, все запросы, которые были поставить на удержание обслуживается hello растет кэша. В hello же время hello кэш заполняется данными из источника hello. По умолчанию время ожидания для заполнения кэша hello установлено too3 000 миллисекунд. 

