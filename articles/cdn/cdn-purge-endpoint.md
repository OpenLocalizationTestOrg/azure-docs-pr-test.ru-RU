---
title: "Очистка конечной точки Azure CDN | Документация Майкрософт"
description: "Узнайте, как удалить все кэшированное содержимое из конечной точки Azure CDN."
services: cdn
documentationcenter: 
author: zhangmanling
manager: erikre
editor: 
ms.assetid: 0b50230b-fe82-4740-90aa-95d4dde8bd4f
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: mazha
ms.openlocfilehash: b035c232bb58d653960190d4974cc3789d55a51d
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="purge-an-azure-cdn-endpoint"></a>Очистка конечной точки сети CDN Azure
## <a name="overview"></a>Обзор
Пограничные узлы Azure CDN кэшируют ресурсы до истечения срока жизни (TTL) ресурса.  Когда после истечения срока TTL ресурса клиент запрашивает ресурс с пограничного узла, этот узел извлекает новую обновленную копию ресурса для обработки клиентского запроса и сохраняет обновление в кэше.

Лучший способ убедиться, что пользователи всегда получают последнюю версию ресурсов — изменять версию ресурсов при каждом обновлении и публиковать их в виде нового URL-адреса.  CDN будет незамедлительно получать ресурсы для следующих клиентских запросов.  Иногда может потребоваться очистить кэшированное содержимое со всех пограничных узлов и сделать так, чтобы узлы получили новые обновленные ресурсы.  Это может быть вызвано обновлениями веб-приложения или быстрого обновления ресурсов, которые содержат неверные сведения.

> [!TIP]
> Обратите внимание, что во время процесса очистки ресурсов с пограничных серверов CDN будет удалено только кэшированное содержимое.  В любых подчиненных кэшах, например кешах прокси-серверов и локального браузера, по-прежнему могут содержаться кэшированные копии файла.  Это необходимо учитывать при указании срока жизни файла.  Вы можете принудительно запросить с подчиненного клиента последнюю версию файла, задавая ему при каждом обновлении уникальное имя или воспользовавшись преимуществами функции [кэширования строк запроса](cdn-query-string.md).  
> 
> 

В этом учебнике приведен процесс очистки ресурсов со всех пограничных узлов конечной точки.

## <a name="walkthrough"></a>Пошаговое руководство
1. На [портале Azure](https://portal.azure.com)перейдите к профилю сети CDN, содержащему конечную точку, которую необходимо очистить.
2. В колонке профиля сети CDN нажмите кнопку "Очистить".
   
    ![Колонка профиля сети CDN](./media/cdn-purge-endpoint/cdn-profile-blade.png)
   
    Откроется колонка "Очистка".
   
    ![Колонка очистки CDN](./media/cdn-purge-endpoint/cdn-purge-blade.png)
3. В колонке "Очистка" выберите адрес службы для удаления из раскрывающегося списка URL-адресов.
   
    ![Форма очистки](./media/cdn-purge-endpoint/cdn-purge-form.png)
   
   > [!NOTE]
   > Можно также перейти к колонке "Очистка", нажав кнопку **Очистить** в колонке конечной точки CDN.  В этом случае в поле **URL-адрес** будет вставлен адрес службы этой конкретной конечной точки.
   > 
   > 
4. Выберите, какие ресурсы нужно удалить из пограничных узлов.  Чтобы очистить все ресурсы, установите флажок **Очистить все** .  В противном случае в поле **Путь** введите путь к каждому ресурсу, который нужно очистить. В поле "Путь" поддерживаются следующие форматы.
    1. **Очистка отдельного URL-адреса.** Очищает отдельный ресурс, указав полный URL-адрес с расширением файла или без него, например,`/pictures/strasbourg.png` или `/pictures/strasbourg`.
    2. **Очистка по подстановочным знакам.** В качестве подстановочного знака можно использовать звездочку (\*). Очищает все папки, вложенные папки и файлы конечной точки, в пути которой есть знак `/*`, или очищает все вложенные папки и файлы в определенной папке, указав в соответствующей папке `/*`, например `/pictures/*`.  Обратите внимание, что в настоящее время в Azure CDN от Akamai не поддерживается очистка по подстановочным знакам. 
    3. **Очистка корневого домена.** Очищает содержимое в корне конечной точки, в пути которой есть знак "/".
   
   > [!TIP]
   > Пути должны быть указаны для очистки и быть относительными URL-адресами, которые соответствуют следующему [регулярному выражению](https://msdn.microsoft.com/library/az24scfc.aspx). **Очистить все** и **Очистка по подстановочным знакам** в настоящее время не поддерживается в **Azure CDN от Akamai**.
   > > Очистка отдельного URL-адреса: `@"^\/(?>(?:[a-zA-Z0-9-_.%=\(\)\u0020]+\/?)*)$";`  
   > > Строка запроса: `@"^(?:\?[-\@_a-zA-Z0-9\/%:;=!,.\+'&\(\)\u0020]*)?$";`  
   > > Очистка по подстановочным знакам: `@"^\/(?:[a-zA-Z0-9-_.%=\(\)\u0020]+\/)*\*$";`. 
   > 
   > После ввода текста появятся дополнительные поля **Путь** для формирования списка из нескольких ресурсов.  Ресурсы можно удалить из списка, нажав кнопку с многоточием (...).
   > 
5. Нажмите кнопку **Очистить** .
   
    ![Кнопка очистки](./media/cdn-purge-endpoint/cdn-purge-button.png)

> [!IMPORTANT]
> Запросы на очистку для **Azure CDN от Verizon** обрабатываются приблизительно 2–3 минуты (уровня "Стандартный" и "Премиум") и приблизительно 7 минут для **Azure CDN от Akamai**.  Azure CDN может выполнять до 50 одновременных запросов на очистку в любой момент времени. 
> 
> 

## <a name="see-also"></a>Дополнительные материалы
* [Предварительная загрузка ресурсов на конечной точке CDN Azure](cdn-preload-endpoint.md)
* [Справочник по API REST CDN. Очистка и предварительная загрузка конечной точки](https://msdn.microsoft.com/library/mt634451.aspx)

