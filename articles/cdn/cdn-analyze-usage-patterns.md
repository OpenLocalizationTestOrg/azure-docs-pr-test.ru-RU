---
title: "шаблоны использования Azure CDN aaaAnalyze | Документы Microsoft"
description: "Можно просмотреть шаблоны использования CDN с помощью hello следующие отчеты: пропускной способности, объем переданных данных, попаданий, состояния кэша, Коэффициент попаданий в кэш, объем переданных данных IPV4 или IPV6."
services: cdn
documentationcenter: 
author: zhangmanling
manager: erikre
editor: 
ms.assetid: 5a0d9018-8bdb-48ff-84df-23648ebcf763
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: mazha
ms.openlocfilehash: d27e6f60acaed66abb27d860c3a3e2e81c9f60cf
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="analyze-azure-cdn-usage-patterns"></a>Анализ вариантов использования CDN Azure

[!INCLUDE[cdn-verizon-only](../../includes/cdn-verizon-only.md)]

руководство Hello ниже проходит через hello действия tooview hello основных отчетов через портал управление hello Verizon профилей. Вы также можете экспортировать toostorage данных аналитики core концентратора событий и анализа журналов (oms) для профилей Verizon и Akamai [через портал hello azure](cdn-log-analysis.md).

Вы можете просмотреть шаблоны использования для CDN с помощью hello следующие отчеты:

* Пропускная способность
* Переданные данные
* Попадания
* Состояния кэша
* Коэффициент попаданий в кэш
* Переданные данные по протоколам IPV4/IPV6

## <a name="accessing-core-reports"></a>Доступ к базовым отчетам
1. В колонке профиля CDN hello выберите hello **управление** кнопки.
   
    ![Кнопка управления в колонке профиля CDN](./media/cdn-reports/cdn-manage-btn.png)
   
    Открытие портала управления CDN Hello.
2. Наведите указатель мыши hello **Analytics** , а затем наведите указатель мыши hello **основные отчеты** всплывающим меню.  Щелкните отчет требуемого hello в меню hello.
   
    ![Портал управления CDN — меню базовых отчетов](./media/cdn-reports/cdn-core-reports.png)

## <a name="bandwidth"></a>Пропускная способность
Hello пропускной способности отчет состоит из диаграммы и таблица данных, указывающее hello использование пропускной способности для HTTP и HTTPS через определенный период времени. Вы можете просмотреть использование пропускной способности hello между извлекает все CDN или определенной POP. Это позволяет вам tooview hello трафика пиков или распространения между CDN будет отображена в Мбит/с.

* Выберите все узлы Edge toosee трафик со всех узлов или определенного региона или узла hello в раскрывающемся списке.
* Выберите дату диапазона tooview данных для текущей или этой неделе/этого месяца, т. д. или введите пользовательский даты, щелкните «go» toomake действительно обновить выбранные параметры.
* Можно экспортировать и загрузки данных hello, щелкнув hello excel лист значок, расположенный рядом слишком «Пуск».

Hello отчет обновляется каждые 5 минут.

![Отчет о пропускной способности](./media/cdn-reports/cdn-bandwidth.png)

## <a name="data-transferred"></a>Переданные данные
Этот отчет состоит из таблицы диаграммы и данные, указывающие использование трафика hello для HTTP и HTTPS, за определенный период времени. Вы можете просмотреть использование трафика hello между извлекает все CDN или определенной POP. Это позволяет вам tooview hello трафика пиков или распространения между CDN будет отображена в ГБ.

* Выберите все узлы Edge toosee трафик из всех заметок или определенного региона или узла hello в раскрывающемся списке.
* Выберите дату диапазона tooview данных для текущей или этой неделе/этого месяца, т. д. или введите пользовательский даты, щелкните «go» toomake действительно обновить выбранные параметры.
* Можно экспортировать и загрузки данных hello, щелкнув hello excel лист значок, расположенный рядом слишком «Пуск».

Hello отчет обновляется каждые 5 минут.

![Отчет о переданных данных](./media/cdn-reports/cdn-data-transferred.png)

## <a name="hits-status-codes"></a>Попадания (коды состояния)
В этом отчете описывает распределение hello коды состояния запроса для содержимого. Каждый запрос содержимого создает код состояния HTTP. Код состояния Hello описывает, как извлекает пограничного обработки запроса hello. Например коды состояния 2xx обозначают успешно обслуживания этого запроса hello tooa клиента, пока код состояния 4xx указывает, что произошла ошибка. Чтобы узнать больше о коде состояния HTTP, ознакомьтесь с [кодами состояний](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes).

* Выберите дату диапазона tooview данных для текущей или этой неделе/этого месяца, т. д. или введите пользовательский даты, щелкните «go» toomake действительно обновить выбранные параметры.
* Можно экспортировать и загрузки данных hello, щелкнув hello листом, находящийся рядом excel слишком «Пуск».

![Отчет о попаданиях](./media/cdn-reports/cdn-hits.png)

## <a name="cache-statuses"></a>Состояния кэша
В этом отчете описывает распределение hello попаданий и промахов в кэше клиентского запроса. Поскольку наибольшую производительность hello поступают из попаданий в кэш, можно оптимизировать скорость доставки данных по минимизации промахи кэша и попаданий в кэш с истекшим сроком действия. Промахи кэша может быть уменьшена путем настройки вашего сервера tooavoid источник, назначение заголовки ответа «no-cache», чтобы избежать строки запроса кэширование за исключением случаев, где минимально необходимые и, чтобы избежать коды кэширование ответа. Истек срок действия кэша попаданий можно избежать, делая активов max-age до тех пор, пока возможных toominimize hello число запросов toohello исходного сервера.

![Отчет о попаданиях в кэш](./media/cdn-reports/cdn-cache-statuses.png)

### <a name="main-cache-statuses-include"></a>Существуют следующие состояния кэша:
* TCP_HIT: подано с Edge. Hello объект находился в кэше и не превысил max-age.
* TCP_MISS: подано с сервера-источника. Hello объект не найден в кэше и получен ответ hello tooorigin назад.
* TCP_EXPIRED _MISS: подано из источника после повторной проверки с сервером-источником. Hello объекта находился в кэше, но превысил max-age. Сверка с начала координат завершилась hello объекта кэша, сейчас заменяется на новый ответ от начала координат.
* TCP_EXPIRED _HIT: получено с Edge после повторной сверки с источником. Hello объекта находился в кэше, но превысил max-age. Сверка с исходного сервера hello завершился объект кэша hello без изменений.
* Выберите дату диапазона tooview данных для текущей или этой неделе/этого месяца, т. д. или введите пользовательский даты, щелкните «go» toomake действительно обновить выбранные параметры.
* Можно экспортировать и загрузки данных hello, щелкнув hello excel лист значок, расположенный рядом слишком «Пуск».

### <a name="full-list-of-cache-statuses"></a>Полный список состояний кэша
* TCP_HIT - это состояние возникает в том случае, когда запрос обслуживается непосредственно из клиента toohello hello POP. Актив немедленно обслуживается POP, если он кэшируется на клиенте toohello ближайший POP hello и имеет допустимый срок жизни или истечения срока ЖИЗНИ. Срок ЖИЗНИ определяется hello следующие заголовки ответа.
  
  * Cache-Control: s-maxage
  * Cache-Control: max-age
  * Expires
* TCP_MISS - это состояние указывает, кэшированная версия hello запрошенного ресурса не найден на клиенте toohello ближайший POP hello. Hello активов будет запрашиваться из исходного сервера или щита исходного сервера. Если hello исходного сервера или сервера щита источника hello возвращает ресурс, он будет обработан toohello клиента и кэширована на hello пограничного сервера и клиента hello. В противном случае будет возвращен код состояния, отличный от 200 (например, 403 Forbidden, 404 Not Found и т. п.).
* TCP_EXPIRED _HIT - это состояние возникает в том случае, когда был обработан запрос, который нацелен актива с истекшим TTL, например когда hello активов max-age истек, непосредственно из клиента toohello hello POP.
  
    Запрос с истекшим сроком действия обычно приводит к повторной проверки подлинности запроса toohello исходного сервера. Чтобы toooccur _HIT TCP_EXPIRED hello исходного сервера необходимо указать более новой версии средства hello не существует. В такой ситуации обычно выполняется обновление заголовков Cache-Control и Expires в ресурс-контейнере.
* TCP_EXPIRED _MISS - это состояние появляется, когда новая версия актива истекшим сроком действия кэшированных обслуживается hello POP toohello клиента. Это происходит, когда hello срок ЖИЗНИ кэшированного средства (например, истек срок действия max-age) и более новой версии этого средства возвращает hello исходного сервера. Эту новую версию средств hello будет обслуживаться клиент toohello вместо hello кэшированная версия. Кроме того он будет кэшироваться на hello пограничный сервер и клиент hello.
* CONFIG_NOCACHE - это состояние указывает, что конфигурации клиента на нашей стороне POP могут активов hello кэширования.
* NONE — это состояние указывает на то, что проверка актуальности содержимого кэша не была выполнена.
* _MISS TCP_ CLIENT_REFRESH - это состояние возникает в том случае, когда HTTP-клиента (например, обозреватель) принудительно edge POP tooretrieve новую версию устаревшей ОС из hello исходного сервера.
  
    По умолчанию наши серверы предотвратить принудительное нашей tooretrieve серверы edge новую версию средств hello из исходного сервера hello HTTP-клиента.
* TCP_ PARTIAL_HIT — это состояние возникает, когда запрос по диапазону байтов приводит к нахождению совпадения с частично кэшированным ресурс-контейнером. Hello запрошенный диапазон байтов немедленно обслуживается hello POP toohello клиента.
* НЕКЭШИРУЕМЫЙ - это состояние указывается в том случае, когда активов Cache-Control и Expires заголовки указывают, что его не следует кэшировать POP или клиентом hello HTTP. Эти типы запросы обслуживаются hello исходного сервера

## <a name="cache-hit-ratio"></a>Коэффициент попаданий в кэш
Этот отчет показывает процент hello кэшированные запросы, которые были получены непосредственно из кэша.

в отчете Hello представлено hello, приведенные ниже сведения.

* содержимое кэширована на инициатор запроса ближайший toohello hello POP запросил Hello.
* Hello запрос был обработан непосредственно от hello границы сети.
* запрос Hello не требует повторной проверки зависимого приветствия исходном сервере.

Hello отчет не включает:

* Запросы отклоняются из-за toocountry параметры фильтрации.
* Запросы ресурсов, заголовки которых указывают, что они не должны кэшироваться. Например, заголовки Cache-Control: private, Cache-Control: no-cache или Pragma: no-cache не позволяют кэшировать ресурс-контейнер.
* Запросы диапазона байтов для частично кэшированного содержимого.

Формула Hello: (TCP_ ПОПАДАНИЙ / (TCP_ ПОПАДАНИЕ + TCP_MISS)) * 100

* Выберите дату диапазона tooview данных для текущей или этой неделе/этого месяца, т. д. или введите пользовательский даты, щелкните «go» toomake действительно обновить выбранные параметры.
* Можно экспортировать и загрузки данных hello, щелкнув hello excel лист значок, расположенный рядом слишком «Пуск».

![Отчет о коэффициенте попадания в кэш](./media/cdn-reports/cdn-cache-hit-ratio.png)

## <a name="ipv4ipv6-data-transferred"></a>Переданные данные по протоколам IPV4/IPV6
Этот отчет показывает распределение использования hello трафика в IPV4 и IPV6.

![Переданные данные по протоколам IPV4/IPV6](./media/cdn-reports/cdn-ipv4-ipv6.png)

* Выберите дату диапазона tooview данных для текущей или этой неделе/этого месяца, т. д., или введите пользовательский даты.
* Нажмите кнопку «go» toomake действительно обновить выбранные параметры.

## <a name="considerations"></a>Рекомендации
Отчеты могут формироваться только в пределах hello последние 18 месяцев.

