---
title: "Устранение неполадок с конечными точками Azure CDN, которые возвращают состояние 404 | Документация Майкрософт"
description: "Устранение неполадок с конечными точками Azure CDN, связанных с кодами ответа 404."
services: cdn
documentationcenter: 
author: zhangmanling
manager: erikre
editor: 
ms.assetid: b588a1eb-ab69-4fc7-ae4d-157c3e46f4a8
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: mazha
ms.openlocfilehash: f59fbd18413fb44026d8c92b7f6940ed2f8a00a8
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshooting-cdn-endpoints-returning-404-statuses"></a><span data-ttu-id="5a9cf-103">Устранение неполадок конечных точек CDN, возвращающих состояние 404</span><span class="sxs-lookup"><span data-stu-id="5a9cf-103">Troubleshooting CDN endpoints returning 404 statuses</span></span>
<span data-ttu-id="5a9cf-104">Эта статья поможет вам устранить неполадки с [конечными точками CDN](cdn-create-new-endpoint.md) , возвращающими ошибки 404.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-104">This article helps you troubleshoot issues with [CDN endpoints](cdn-create-new-endpoint.md) returning 404 errors.</span></span>

<span data-ttu-id="5a9cf-105">Если вам потребуется дополнительная помощь по любому из вопросов, рассматриваемых в статье, вы можете обратиться к экспертам по Azure на [форумах MSDN Azure и Stack Overflow](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="5a9cf-105">If you need more help at any point in this article, you can contact the Azure experts on [the MSDN Azure and the Stack Overflow forums](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="5a9cf-106">Кроме того, можно зарегистрировать обращение в службу поддержки Azure.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-106">Alternatively, you can also file an Azure support incident.</span></span> <span data-ttu-id="5a9cf-107">Перейдите на [сайт службы поддержки Azure](https://azure.microsoft.com/support/options/) и щелкните **Поддержка**.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-107">Go to the [Azure Support site](https://azure.microsoft.com/support/options/) and click on **Get Support**.</span></span>

## <a name="symptom"></a><span data-ttu-id="5a9cf-108">Симптом</span><span class="sxs-lookup"><span data-stu-id="5a9cf-108">Symptom</span></span>
<span data-ttu-id="5a9cf-109">Вы создали профиль CDN и конечную точку, но содержимое недоступно в сети CDN.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-109">You've created a CDN profile and an endpoint, but your content doesn't seem to be available on the CDN.</span></span>  <span data-ttu-id="5a9cf-110">Пользователи, пытающиеся получить доступ к вашему содержимому через URL-адрес CDN, получают коды состояния HTTP 404.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-110">Users who attempt to access your content via the CDN URL receive HTTP 404 status codes.</span></span> 

## <a name="cause"></a><span data-ttu-id="5a9cf-111">Причина:</span><span class="sxs-lookup"><span data-stu-id="5a9cf-111">Cause</span></span>
<span data-ttu-id="5a9cf-112">Возможно несколько причин, включая указанные ниже.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-112">There are several possible causes, including:</span></span>

* <span data-ttu-id="5a9cf-113">Источник файла недоступен для CDN.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-113">The file's origin isn't visible to the CDN</span></span>
* <span data-ttu-id="5a9cf-114">Конечная точка настроена неправильно, поэтому CDN выполняет поиск в неправильном месте.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-114">The endpoint is misconfigured, causing the CDN to look in the wrong place</span></span>
* <span data-ttu-id="5a9cf-115">Узел отклоняет заголовок узла от CDN.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-115">The host is rejecting the host header from the CDN</span></span>
* <span data-ttu-id="5a9cf-116">У конечной точки не было времени для распространения в сети CDN.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-116">The endpoint hasn't had time to propagate throughout the CDN</span></span>

## <a name="troubleshooting-steps"></a><span data-ttu-id="5a9cf-117">Действия по устранению неполадок</span><span class="sxs-lookup"><span data-stu-id="5a9cf-117">Troubleshooting steps</span></span>
> [!IMPORTANT]
> <span data-ttu-id="5a9cf-118">После создания конечной точки CDN она не будет доступна сразу. Распространение регистрационных сведений по сети CDN может занять некоторое время.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-118">After creating a CDN endpoint, it will not immediately be available for use, as it takes time for the registration to propagate through the CDN.</span></span>  <span data-ttu-id="5a9cf-119">Для профилей <b>Azure CDN от Akamai</b> распространение обычно завершается в течение одной минуты.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-119">For <b>Azure CDN from Akamai</b> profiles, propagation usually completes within one minute.</span></span>  <span data-ttu-id="5a9cf-120">Для профилей <b>Azure CDN от Verizon</b> распространение обычно завершается в течение 90 минут, но в некоторых случаях может занимать больше времени.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-120">For <b>Azure CDN from Verizon</b> profiles, propagation will usually complete within 90 minutes, but in some cases can take longer.</span></span>  <span data-ttu-id="5a9cf-121">Если вы по-прежнему получаете ответы 404 после выполнения процедур, описанных в этом документе, подождите еще несколько часов, чтобы повторить проверку, прежде чем открыть запрос в службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-121">If you complete the steps in this document and you're still getting 404 responses, consider waiting a few hours to check again before opening a support ticket.</span></span>
> 
> 

### <a name="check-the-origin-file"></a><span data-ttu-id="5a9cf-122">Проверка исходного файла</span><span class="sxs-lookup"><span data-stu-id="5a9cf-122">Check the origin file</span></span>
<span data-ttu-id="5a9cf-123">Во-первых, следует убедиться, что нужный кэшированный файл доступен в источнике в режиме общего доступа.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-123">First, we should verify the that the file we want cached is available on our origin and is publicly accessible.</span></span>  <span data-ttu-id="5a9cf-124">Самый быстрый способ — открыть браузер в анонимном режиме или режиме InPrivate и перейти к файлу напрямую.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-124">The quickest way to do that is to open a browser in an In-Private or Incognito session and browse directly to the file.</span></span>  <span data-ttu-id="5a9cf-125">Просто введите или вставьте URL-адрес в поле адреса и убедитесь, что выведен нужный вам файл.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-125">Just type or paste the URL into the address box and see if that results in the file you expect.</span></span>  <span data-ttu-id="5a9cf-126">В этом примере я собираюсь использовать файл из своей учетной записи хранения Azure, доступный по адресу `https://cdndocdemo.blob.core.windows.net/publicblob/lorem.txt`.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-126">For this example, I'm going to use a file I have in an Azure Storage account, accessible at `https://cdndocdemo.blob.core.windows.net/publicblob/lorem.txt`.</span></span>  <span data-ttu-id="5a9cf-127">Как видим, проверка пройдена успешно.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-127">As you can see, it successfully passes the test.</span></span>

![Готово!](./media/cdn-troubleshoot-endpoint/cdn-origin-file.png)

> [!WARNING]
> <span data-ttu-id="5a9cf-129">Хотя это и самый быстрый и простой способ проверки общего доступа к файлу, некоторые конфигурации сети в организации могут создавать впечатление, что этот файл является общедоступным, когда как на самом деле он доступен только для пользователей вашей корпоративной сети (даже если размещен в Azure).</span><span class="sxs-lookup"><span data-stu-id="5a9cf-129">While this is the quickest and easiest way to verify your file is publicly available, some network configurations in your organization could give you the illusion that this file is publicly available when it is, in fact, only visible to users of your network (even if it's hosted in Azure).</span></span>  <span data-ttu-id="5a9cf-130">При наличии внешнего браузера, из которого можно выполнить проверку, например, на мобильном устройстве, не подключенном к сети вашей организации, или на виртуальной машине в Azure, проверка будет действительно эффективной.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-130">If you have an external browser from which you can test, such as a mobile device that is not connected to your organization's network, or a virtual machine in Azure, that would be best.</span></span>
> 
> 

### <a name="check-the-origin-settings"></a><span data-ttu-id="5a9cf-131">Проверка параметров источника</span><span class="sxs-lookup"><span data-stu-id="5a9cf-131">Check the origin settings</span></span>
<span data-ttu-id="5a9cf-132">Когда мы убедились, что файл находится в открытом доступе в Интернете, необходимо проверить параметры источника.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-132">Now that we've verified the file is publicly available on the internet, we should verify our origin settings.</span></span>  <span data-ttu-id="5a9cf-133">На [портале Azure](https://portal.azure.com)перейдите к профилю CDN и щелкните конечную точку, для которой вы устраняете неполадки.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-133">In the [Azure Portal](https://portal.azure.com), browse to your CDN profile and click the endpoint you're troubleshooting.</span></span>  <span data-ttu-id="5a9cf-134">В открывшейся колонке **Конечная точка** щелкните источник.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-134">In the resulting **Endpoint** blade, click the origin.</span></span>  

![Колонка "Конечная точка" с выделенным источником](./media/cdn-troubleshoot-endpoint/cdn-endpoint.png)

<span data-ttu-id="5a9cf-136">Откроется колонка **Источник** .</span><span class="sxs-lookup"><span data-stu-id="5a9cf-136">The **Origin** blade appears.</span></span> 

![Колонка "Источник"](./media/cdn-troubleshoot-endpoint/cdn-origin-settings.png)

#### <a name="origin-type-and-hostname"></a><span data-ttu-id="5a9cf-138">Тип и имя узла источника</span><span class="sxs-lookup"><span data-stu-id="5a9cf-138">Origin type and hostname</span></span>
<span data-ttu-id="5a9cf-139">Убедитесь, что **тип источника** указан правильно, и проверьте **имя узла источника**.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-139">Verify the **Origin type** is correct, and verify the **Origin hostname**.</span></span>  <span data-ttu-id="5a9cf-140">В нашем примере, `https://cdndocdemo.blob.core.windows.net/publicblob/lorem.txt`, часть имени узла URL-адреса — `cdndocdemo.blob.core.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-140">In my example, `https://cdndocdemo.blob.core.windows.net/publicblob/lorem.txt`, the hostname portion of the URL is `cdndocdemo.blob.core.windows.net`.</span></span>  <span data-ttu-id="5a9cf-141">Как мы видим на снимке экрана, все указано правильно.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-141">As you can see in the screenshot, this is correct.</span></span>  <span data-ttu-id="5a9cf-142">Для источников "Служба хранилища Azure", "Веб-приложение" и "Облачная служба" поле **Имя узла источника** содержит раскрывающийся список, поэтому нам не нужно беспокоиться о правильности написания.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-142">For Azure Storage, Web App, and Cloud Service origins, the **Origin hostname** field is a dropdown, so we don't need to worry about spelling it correctly.</span></span>  <span data-ttu-id="5a9cf-143">Однако если вы используете настраиваемый источник, *очень важно* правильно указать имя вашего узла.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-143">However, if you're using a custom origin, it is *absolutely critical* your hostname is spelled correctly!</span></span>

#### <a name="http-and-https-ports"></a><span data-ttu-id="5a9cf-144">Порты HTTP и HTTPS</span><span class="sxs-lookup"><span data-stu-id="5a9cf-144">HTTP and HTTPS ports</span></span>
<span data-ttu-id="5a9cf-145">Необходимо также проверить порты **HTTP** и **HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-145">The other thing to check here is your **HTTP** and **HTTPS ports**.</span></span>  <span data-ttu-id="5a9cf-146">В большинстве случаев значения 80 и 443 правильны и изменять их не требуется.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-146">In most cases, 80 and 443 are correct, and you will require no changes.</span></span>  <span data-ttu-id="5a9cf-147">Тем не менее, если сервер-источник прослушивает другой порт, необходимо указать именно его.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-147">However, if the origin server is listening on a different port, that will need to be represented here.</span></span>  <span data-ttu-id="5a9cf-148">Если вам это неизвестно, взгляните на URL-адрес для исходного файла.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-148">If you're not sure, just look at the URL for your origin file.</span></span>  <span data-ttu-id="5a9cf-149">Спецификации HTTP и HTTPS указывают порты 80 и 443 по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-149">The HTTP and HTTPS specifications specify ports 80 and 443 as the defaults.</span></span> <span data-ttu-id="5a9cf-150">В моем URL-адресе, `https://cdndocdemo.blob.core.windows.net/publicblob/lorem.txt`, порт не указан, поэтому предполагается значение по умолчанию 443 и параметры заданы правильно.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-150">In my URL, `https://cdndocdemo.blob.core.windows.net/publicblob/lorem.txt`, a port is not specified, so the default of 443 is assumed and my settings are correct.</span></span>  

<span data-ttu-id="5a9cf-151">Тем не менее рассмотрим такой URL-адрес для ранее тестируемого исходного файла: `http://www.contoso.com:8080/file.txt`.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-151">However, say the URL for your origin file that you tested earlier is `http://www.contoso.com:8080/file.txt`.</span></span>  <span data-ttu-id="5a9cf-152">Обратите внимание на часть `:8080` в конце сегмента имени узла.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-152">Note the `:8080` at the end of the hostname segment.</span></span>  <span data-ttu-id="5a9cf-153">Она сообщает браузеру о необходимости использовать порт `8080` для подключения к веб-серверу по адресу `www.contoso.com`, поэтому вам потребуется ввести 8080 в поле **Порт HTTP**.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-153">That tells the browser to use port `8080` to connect to the web server at `www.contoso.com`, so you'll need to enter 8080 in the **HTTP port** field.</span></span>  <span data-ttu-id="5a9cf-154">Важно отметить, что эти параметры портов влияют только на определение порта, используемого конечной точкой для получения сведений из источника.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-154">It's important to note that these port settings only affect what port the endpoint uses to retrieve information from the origin.</span></span>

> [!NOTE]
> <span data-ttu-id="5a9cf-155">В конечных точках **Azure CDN от Akamai** запрещено использовать полный диапазон портов TCP для источников.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-155">**Azure CDN from Akamai** endpoints do not allow the full TCP port range for origins.</span></span>  <span data-ttu-id="5a9cf-156">Список запрещенных портов источников см. в статье о [разрешенных портах источников Azure CDN от Akamai](https://msdn.microsoft.com/library/mt757337.aspx).</span><span class="sxs-lookup"><span data-stu-id="5a9cf-156">For a list of origin ports that are not allowed, see [Azure CDN from Akamai Allowed Origin Ports](https://msdn.microsoft.com/library/mt757337.aspx).</span></span>  
> 
> 

### <a name="check-the-endpoint-settings"></a><span data-ttu-id="5a9cf-157">Проверка параметров конечной точки</span><span class="sxs-lookup"><span data-stu-id="5a9cf-157">Check the endpoint settings</span></span>
<span data-ttu-id="5a9cf-158">В колонке **Конечная точка** нажмите кнопку **Настройка**.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-158">Back on the **Endpoint** blade, click the **Configure** button.</span></span>

![Колонка "Конечная точка" с выделенной кнопкой "Настройка"](./media/cdn-troubleshoot-endpoint/cdn-endpoint-configure-button.png)

<span data-ttu-id="5a9cf-160">Откроется колонка **настройки** конечной точки.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-160">The endpoint's **Configure** blade appears.</span></span>

![Колонка «Настройка»](./media/cdn-troubleshoot-endpoint/cdn-configure.png)

#### <a name="protocols"></a><span data-ttu-id="5a9cf-162">Протоколы</span><span class="sxs-lookup"><span data-stu-id="5a9cf-162">Protocols</span></span>
<span data-ttu-id="5a9cf-163">В разделе **Протоколы** убедитесь, что выбран протокол, используемый клиентами.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-163">For **Protocols**, verify that the protocol being used by the clients is selected.</span></span>  <span data-ttu-id="5a9cf-164">Протокол, используемый клиентом, будет также использоваться для доступа к источнику, поэтому важно, чтобы порты источника были настроены правильно (см. предыдущий раздел).</span><span class="sxs-lookup"><span data-stu-id="5a9cf-164">The same protocol used by the client will be the one used to access the origin, so it's important to have the origin ports configured correctly in the previous section.</span></span>  <span data-ttu-id="5a9cf-165">Конечная точка будет прослушивать только порты HTTP и HTTPS по умолчанию (80 и 443), независимо от портов источника.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-165">The endpoint only listens on the default HTTP and HTTPS ports (80 and 443), regardless of the origin ports.</span></span>

<span data-ttu-id="5a9cf-166">Давайте вернемся к нашему гипотетическому примеру с `http://www.contoso.com:8080/file.txt`.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-166">Let's return to our hypothetical example with `http://www.contoso.com:8080/file.txt`.</span></span>  <span data-ttu-id="5a9cf-167">Как вы помните, компания Contoso указала `8080` как HTTP-порт, однако также предположим, что она указала `44300` как HTTPS-порт.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-167">As you'll remember, Contoso specified `8080` as their HTTP port, but let's also assume they specified `44300` as their HTTPS port.</span></span>  <span data-ttu-id="5a9cf-168">Если сотрудники компании создали конечную точку с именем `contoso`, то именем узла их конечной точки CDN будет `contoso.azureedge.net`.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-168">If they created an endpoint named `contoso`, their CDN endpoint hostname would be `contoso.azureedge.net`.</span></span>  <span data-ttu-id="5a9cf-169">Запрос файла `http://contoso.azureedge.net/file.txt` является HTTP-запросом, поэтому конечная точка будет использовать HTTP на порту 8080, чтобы получить его из источника.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-169">A request for `http://contoso.azureedge.net/file.txt` is an HTTP request, so the endpoint would use HTTP on port 8080 to retrieve it from the origin.</span></span>  <span data-ttu-id="5a9cf-170">При использовании безопасного запроса по протоколу HTTPS, `https://contoso.azureedge.net/file.txt`, конечная точка будет использовать HTTPS на порту 44300 во время получения файла из источника.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-170">A secure request over HTTPS, `https://contoso.azureedge.net/file.txt`, would cause the endpoint to use HTTPS on port 44300 when retriving the file from the origin.</span></span>

#### <a name="origin-host-header"></a><span data-ttu-id="5a9cf-171">Заголовок узла источника</span><span class="sxs-lookup"><span data-stu-id="5a9cf-171">Origin host header</span></span>
<span data-ttu-id="5a9cf-172">**Заголовок узла источника** — это значение заголовка узла, отправляемое в источник с каждым запросом.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-172">The **Origin host header** is the host header value sent to the origin with each request.</span></span>  <span data-ttu-id="5a9cf-173">В большинстве случаев оно должно совпадать со значением **имени узла источника** , которое мы проверяли ранее.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-173">In most cases, this should be the same as the **Origin hostname** we verified earlier.</span></span>  <span data-ttu-id="5a9cf-174">Неверное значение в этом поле, как правило, не вызывает состояния 404, но может вызвать другие состояния 4xx, в зависимости от данных, ожидаемых источником.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-174">An incorrect value in this field won't generally cause 404 statuses, but is likely to cause other 4xx statuses, depending on what the origin expects.</span></span>

#### <a name="origin-path"></a><span data-ttu-id="5a9cf-175">Путь к источнику</span><span class="sxs-lookup"><span data-stu-id="5a9cf-175">Origin path</span></span>
<span data-ttu-id="5a9cf-176">Наконец, следует проверить **путь к источнику**.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-176">Lastly, we should verify our **Origin path**.</span></span>  <span data-ttu-id="5a9cf-177">По умолчанию это пустое поле.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-177">By default this is blank.</span></span>  <span data-ttu-id="5a9cf-178">Это поле следует использовать только в том случае, если требуется сузить область размещенных в источнике ресурсов, которые требуется сделать доступными в сети CDN.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-178">You should only use this field if you want to narrow the scope of the origin-hosted resources you want to make available on the CDN.</span></span>  

<span data-ttu-id="5a9cf-179">Например, для моей конечной точки необходимо, чтобы все ресурсы в моей учетной записи хранения были доступными, поэтому я оставил поле **Путь к источнику** пустым.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-179">For example, in my endpoint, I wanted all resources on my storage account to be available, so I left **Origin path** blank.</span></span>  <span data-ttu-id="5a9cf-180">Это означает, что запрос файла `https://cdndocdemo.azureedge.net/publicblob/lorem.txt` вызовет подключение из конечной точки к узлу `cdndocdemo.core.windows.net`, который запросит файл `/publicblob/lorem.txt`.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-180">This means that a request to `https://cdndocdemo.azureedge.net/publicblob/lorem.txt` results in a connection from my endpoint to `cdndocdemo.core.windows.net` that requests `/publicblob/lorem.txt`.</span></span>  <span data-ttu-id="5a9cf-181">Аналогичным образом, запрос файла `https://cdndocdemo.azureedge.net/donotcache/status.png` приведет к запросу конечной точкой файла `/donotcache/status.png` из источника.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-181">Likewise, a request for `https://cdndocdemo.azureedge.net/donotcache/status.png` results in the endpoint requesting `/donotcache/status.png` from the origin.</span></span>

<span data-ttu-id="5a9cf-182">Но что делать, если я не хочу использовать CDN для каждого пути к источнику?</span><span class="sxs-lookup"><span data-stu-id="5a9cf-182">But what if I don't want to use the CDN for every path on my origin?</span></span>  <span data-ttu-id="5a9cf-183">Предположим, я хочу предоставить только путь `publicblob` .</span><span class="sxs-lookup"><span data-stu-id="5a9cf-183">Say I only wanted to expose the `publicblob` path.</span></span>  <span data-ttu-id="5a9cf-184">Если ввести */publicblob* в поле **Путь к источнику**, то конечная точка будет вставлять */publicblob* перед каждым запросом к источнику.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-184">If I enter */publicblob* in my **Origin path** field, that will cause the endpoint to insert */publicblob* before every request being made to the origin.</span></span>  <span data-ttu-id="5a9cf-185">Это означает, что запрос файла `https://cdndocdemo.azureedge.net/publicblob/lorem.txt` теперь фактически будет использовать часть запроса URL-адреса, `/publicblob/lorem.txt`, добавляя в начало `/publicblob`.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-185">This means that the request for `https://cdndocdemo.azureedge.net/publicblob/lorem.txt` will now actually take the request portion of the URL, `/publicblob/lorem.txt`, and append `/publicblob` to the beginning.</span></span> <span data-ttu-id="5a9cf-186">Это приводит к запросу файла `/publicblob/publicblob/lorem.txt` из источника.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-186">This results in a request for `/publicblob/publicblob/lorem.txt` from the origin.</span></span>  <span data-ttu-id="5a9cf-187">Если этот путь не разрешается в фактический файл, источник будет возвращать состояние 404.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-187">If that path doesn't resolve to an actual file, the origin will return a 404 status.</span></span>  <span data-ttu-id="5a9cf-188">Правильный URL-адрес для получения файла lorem.txt в этом примере: `https://cdndocdemo.azureedge.net/lorem.txt`.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-188">The correct URL to retrieve lorem.txt in this example would actually be `https://cdndocdemo.azureedge.net/lorem.txt`.</span></span>  <span data-ttu-id="5a9cf-189">Обратите внимание, что мы не включали путь */publicblob*, так как часть запроса URL-адреса — `/lorem.txt` и конечная точка добавляет `/publicblob`, в результате чего создается запрос `/publicblob/lorem.txt`, передаваемый источнику.</span><span class="sxs-lookup"><span data-stu-id="5a9cf-189">Note that we don't include the */publicblob* path at all, because the request portion of the URL is `/lorem.txt` and the endpoint adds `/publicblob`, resulting in `/publicblob/lorem.txt` being the request passed to the origin.</span></span>

