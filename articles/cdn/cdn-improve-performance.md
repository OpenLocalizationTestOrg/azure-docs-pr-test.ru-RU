---
title: "aaaImprove производительности с помощью сжатия файлов в сети доставки Содержимого Azure | Документы Microsoft"
description: "Узнайте, как передача файлов tooimprove скорость и повышает производительность загрузки страницы, сжатие файлов в сети доставки Содержимого Azure."
services: cdn
documentationcenter: 
author: zhangmanling
manager: erikre
editor: 
ms.assetid: af1cddff-78d8-476b-a9d0-8c2164e4de5d
ms.service: cdn
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: mazha
ms.openlocfilehash: 9a1698b6c29233c2e2e6fb17cdd8e919ae8bfa1c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="improve-performance-by-compressing-files-in-azure-cdn"></a>Повышение производительности за счет сжатия файлов в Azure CDN
Сжатие — это простой и эффективный метод скорость передачи файла tooimprove и увеличение производительности загрузки страницы за счет уменьшения размера файла до его отправки с сервера hello. Этот позволяет снизить потребление пропускной способности и обеспечивает более высокую скорость работы для пользователей.

Существует два способа tooenable сжатия:

* Можно включить сжатие на исходный сервер, в этом случае hello CDN, проходит через hello сжатые файлы и доставки tooclients сжатых файлов, запрашивают их.
* Можно включить сжатие непосредственно на пограничных серверов CDN, в которых сжимает CDN вариантов hello hello файлы и обслуживать пользователей tooend, даже если они не сжимает hello исходного сервера.

> [!IMPORTANT]
> Изменения конфигурации CDN раньше некоторые toopropagate времени через сеть hello.  Для профилей <b>Azure CDN от Akamai</b> распространение обычно завершается в течение одной минуты.  Для профилей <b>Azure CDN от Verizon</b> изменения вступают в силу в течение 90 минут.  Если это hello при первом запуске настройки сжатия для конечной точки CDN, следует рассмотреть возможность ожидания toobe 1 – 2 часов, убедиться, что распространения параметров сжатия hello извлекает toohello до устранения неполадок
> 
> 

## <a name="enabling-compression"></a>Включение сжатия
> [!NOTE]
> Hello уровней Standard и Premium CDN предоставляют hello же функциональные возможности сжатия, но hello пользовательский интерфейс отличается.  Дополнительные сведения об отличиях hello уровней Standard и Premium CDN см. в разделе [Общие сведения о Azure CDN](cdn-overview.md).
> 
> 

### <a name="standard-tier"></a>Уровень Standard
> [!NOTE]
> В этом разделе также применяется**Azure CDN Standard из Verizon** и **Azure CDN Standard из Akamai** профилей.
> 
> 

1. На странице профиля CDN hello нажмите hello конечной точкой CDN необходимо toomanage.
   
    ![Конечные точки на странице профиля CDN](./media/cdn-file-compression/cdn-endpoints.png)
   
    Откроется страница конечной точки CDN Hello.
2. Нажмите кнопку hello **Настройка** кнопки.
   
    ![Кнопка управления на странице профиля CDN](./media/cdn-file-compression/cdn-config-btn.png)
   
    Откроется страница конфигурации CDN Hello.
3. Включите параметр **Сжатие**.
   
    ![Параметры сжатия CDN](./media/cdn-file-compression/cdn-compress-standard.png)
4. Используйте типы по умолчанию hello, или изменить список hello путем удаления или добавления типов файлов.
   
   > [!TIP]
   > Время, возможно, не рекомендуется tooapply сжатия toocompressed форматах, например ZIP, MP3, MP4, JPG и т. д.
   > 
   > 
5. После внесения изменений, нажмите кнопку hello **Сохранить** кнопки.

### <a name="premium-tier"></a>Уровень Premium
> [!NOTE]
> В этом разделе также применяется**Azure CDN Premium из Verizon** профилей.
> 
> 

1. На странице профиля CDN hello нажмите hello **управление** кнопки.
   
    ![Кнопка управления на странице профиля CDN](./media/cdn-file-compression/cdn-manage-btn.png)
   
    Открытие портала управления CDN Hello.
2. Наведите указатель мыши hello **HTTP больших** , а затем наведите указатель мыши hello **параметры кэша** всплывающим меню.  Щелкните **Сжатие**.

    ![Выбор сжатия файлов](./media/cdn-file-compression/cdn-compress-select.png)
   
    Отобразятся параметры сжатия.
   
    ![Сжатие файлов](./media/cdn-file-compression/cdn-compress-files.png)
3. Включить сжатие, щелкнув hello **включить сжатие** переключатель.  Введите типы MIME hello toocompress обратиться в виде списка с разделителями запятыми (без пробелов) в hello **типы файлов** текстового поля.
   
   > [!TIP]
   > Время, возможно, не рекомендуется tooapply сжатия toocompressed форматах, например ZIP, MP3, MP4, JPG и т. д. 
   > 
   > 
4. После внесения изменений, нажмите кнопку hello **обновление** кнопки.

## <a name="compression-rules"></a>Правила сжатия
В приведенных ниже таблицах описан принцип работы сжатия CDN Azure для всех сценариев.

> [!IMPORTANT]
> Для **Azure CDN от Verizon** (уровня "Стандартный" и "Премиум") будут сжаты только подходящие файлы.  toobe отсрочить сжатие файла необходимо:
> 
> * более 128 байт;
> * менее 1 МБ;
> 
> Для **Azure CDN от Akamai**сжатие допускается для всех файлов.
> 
> Во всех продуктах Azure CDN используется файл типа MIME, для которого [в настройках разрешено сжатие](#enabling-compression).
> 
> Профили **Azure CDN от Verizon** (уровня "Стандартный" и "Премиум") поддерживают кодирование **GZIP** (GNU zip), **Deflate**, **BZIP2** или **BR** (Brotli). Для кодирования Brotli, hello сжатие выполняется только на границе hello. Hello браузер должен отправить запрос hello для кодирования Brotli и сжатых активов hello должен сжаты на стороне источника hello сначала. 
>
>Профили **Azure CDN от Akamai** поддерживают только кодирование **GZIP**.
> 
> **Azure CDN с Akamai** конечных точек всегда запрашивают **gzip** файлы из исходной hello, вне зависимости от запроса клиента hello кодировке. 

### <a name="compression-disabled-or-file-is-ineligible-for-compression"></a>Сжатие отключено или для файла сжатие недопустимо
| Запрошенный клиентом формат (через заголовок Accept-Encoding) | Кэшированный формат файла | Клиент toohello CDN ответа | Примечания |
| --- | --- | --- | --- |
| сжатые; |сжатые; |сжатые; | |
| сжатые; |Без сжатия |Без сжатия | |
| сжатые; |Не кэширован |Сжатый или несжатый |Зависит от ответа источника |
| Без сжатия |сжатые; |Без сжатия | |
| Без сжатия |Без сжатия |Без сжатия | |
| Без сжатия |Не кэширован |Без сжатия | |

### <a name="compression-enabled-and-file-is-eligible-for-compression"></a>Сжатие включено и для файла допускается сжатие
| Запрошенный клиентом формат (через заголовок Accept-Encoding) | Кэшированный формат файла | Клиент toohello CDN ответа | Примечания |
| --- | --- | --- | --- |
| сжатые; |сжатые; |сжатые; |CDN перекодирует из одного поддерживаемого формата в другой |
| сжатые; |Без сжатия |сжатые; |CDN выполняет сжатие |
| сжатые; |Не кэширован |сжатые; |CDN выполняет сжатие, если источник возвращает несжатый файл.  **CDN Azure из Verizon** передает hello несжатого файла на первый запрос hello и затем сжимает и кэши hello файл для последующих запросов.  Файлы с заголовком `Cache-Control: no-cache` никогда не сжимаются. |
| Без сжатия |сжатые; |Без сжатия |CDN проводит распаковку |
| Без сжатия |Без сжатия |Без сжатия | |
| Без сжатия |Не кэширован |Без сжатия | |

## <a name="media-services-cdn-compression"></a>Сжатие CDN для служб мультимедиа
Для конечных точек потоковой передачи с поддержкой CDN служб мультимедиа, сжатие включено по умолчанию для hello следующие типы содержимого: приложение/vnd.ms-sstr + xml, application/dash+xml,application/vnd.apple.mpegurl, приложения или f4m + xml. Вы не удается включить/отключить сжатие для hello упомянутые типов с помощью портала Azure hello.  

## <a name="see-also"></a>См. также
* [Устранение неполадок со сжатием файлов CDN](cdn-troubleshoot-compression.md)    

