---
title: "Обзор ретранслятора Azure и его возможностей | Документация Майкрософт"
description: "Общие сведения о ретрансляторе Azure"
services: service-bus-relay
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 1e3e971d-2a24-4f96-a88a-ce3ea2b1a1cd
ms.service: service-bus-relay
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: get-started-article
ms.date: 12/20/2017
ms.author: sethm
ms.openlocfilehash: d1b1c0661458669dc8f05a49037943320de2ecb3
ms.sourcegitcommit: b5c6197f997aa6858f420302d375896360dd7ceb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="what-is-azure-relay"></a>Что такое ретранслятор Azure?

Ретранслятор Azure упрощает работу с гибридными приложениями, позволяя безопасно предоставлять в общедоступном облаке службы, используемые в корпоративной сети предприятия, без необходимости открывать подключения брандмауэра или вносить значительные изменения в инфраструктуру корпоративной сети. Ретранслятор поддерживает множество различных транспортных протоколов и стандартов веб-служб.

Служба ретрансляции поддерживает традиционный односторонний трафик, трафик на основе запроса и ответа и трафик в одноранговых сетях. Она также поддерживает распространение событий по сети Интернет для поддержки сценариев публикации/подписки и двунаправленного обмена данными по сокетам, что позволяет повысить эффективность соединений типа "точка-точка". 

В схеме передачи данных с ретрансляцией локальная служба подключается к службе ретранслятора через исходящий порт и создает двунаправленный сокет для обмена данными с привязкой к конкретному необходимому адресу. После этого клиент может обмениваться данными с локальной службой, отправляя трафик в службу ретрансляции, которая перенаправит его по нужному адресу. Затем служба ретрансляции "ретранслирует" данные в локальную службу через созданный двунаправленный сокет, выделенный каждому клиенту. Клиенту не требуются прямое подключение к локальной службе и информация о ее местонахождении, а локальной службе не требуется открывать на брандмауэре входящие порты.

Ключевыми возможностями, предоставляемые ретранслятором, являются двунаправленный обмен данными без буферизации в пределах сети с регулированием наподобие протокола TCP, обнаружение конечных точек, использование состояний подключений и перекрытие безопасности конечных точек. Возможности ретранслятора отличаются от возможностей таких технологий интеграции сетевого уровня, как VPN, тем, что ретранслятор может применяться к одной конечной точке приложения на одном компьютере, тогда как влияние технологии VPN гораздо обширнее, ведь предусматривает изменение сетевой среды.

Ретранслятор Azure предоставляет две функции:

1. [Гибридные подключения](#hybrid-connections). Используются веб-сокеты на основе открытых стандартов, что обеспечивает реализацию многоплатформенных сценариев.
2. [Ретрансляторы WCF](#wcf-relays). Используется Windows Communication Foundation (WCF), чтобы обеспечить возможность удаленно вызывать процедуры (RPC). Ретранслятор WCF — это устаревшее предложение для ретрансляции, которое многие клиенты уже используют в своих моделях программирования WCF.

Гибридные подключения и ретрансляторы WCF обеспечивают безопасное подключение к ресурсам в корпоративной сети предприятия. При выборе одной из этих технологий необходимо учитывать конкретные потребности:

|  | Ретранслятор WCF | через гибридные подключения |
| --- |:---:|:---:|
| **WCF** |x | |
| **.NET Core** | |x |
| **.NET Framework** |x |x |
| **JavaScript, NodeJS** | |x |
| **Открытый протокол на основе стандартов** | |x |
| **Несколько моделей программирования RPC** | |x |

## <a name="hybrid-connections"></a>через гибридные подключения

[Гибридные подключения ретранслятора Azure](relay-hybrid-connections-protocol.md) являются безопасным решением на основе открытых протоколов, возникшим вследствие развития существующих возможностей ретранслятора. Его можно реализовать на любой платформе и на любом языке с поддержкой WebSocket, что явно включает в себя API WebSocket в распространенных веб-браузерах. Гибридные подключения основаны на протоколах HTTP и WebSockets.

### <a name="service-history"></a>Журнал службы

Гибридные подключения заменяют предыдущий компонент, также называемый службами BizTalk, созданный на основе ретранслятора WCF служебной шины Azure. Новые возможности гибридных подключений дополняют функции существующего ретранслятора WCF. В службе ретранслятора Azure реализованы обе эти возможности. Они совместно используют общий шлюз, но реализуются по-разному.

## <a name="wcf-relay"></a>Ретранслятор WCF

Ретрансляторы WCF подходят для полной платформы .NET Framework (NETFX) и WCF. Подключение между локальной службой и службой ретранслятора создается с помощью привязок WCF для ретранслятора. Привязки для ретрансляции сопоставляются в фоновом режиме с новыми элементами привязки транспорта, предназначенными для создания компонентов канала WCF, которые интегрируются со служебной шиной в облаке. Дополнительные сведения см. в статье [Как использовать ретрансляторы WCF на основе ретранслятора Azure с помощью .NET](relay-wcf-dotnet-get-started.md).

## <a name="architecture-processing-of-incoming-relay-requests"></a>Архитектура: обработка входящих запросов на ретрансляцию

Когда клиент отправляет запрос [ретранслятору Azure](/azure/service-bus-relay/), подсистема балансировки нагрузки Azure передает его в один из узлов шлюза. Если запрос связан с прослушиванием, узел шлюза создает новую ретрансляцию. Если запрос связан с подключением к определенной ретрансляции, узел шлюза переадресовывает его на узел шлюза, которому принадлежит ретрансляция. Узел шлюза, которому принадлежит ретрансляция, отправляет запрос о подключении клиенту прослушивания, чтобы прослушиватель создал временный канал к узлу шлюза, получившему запрос на подключение.

Как только подключение ретрансляции будет установлено, клиенты смогут обмениваться сообщениями через узел шлюза, используемый для связи.

![Обработка входящих запросов ретранслятора WCF](./media/relay-what-is-it/ic690645.png)

## <a name="next-steps"></a>Дальнейшие действия

* [Вопросы и ответы по ретранслятору](relay-faq.md)
* [Создание пространства имен](relay-create-namespace-portal.md)
* [Приступая к работе с .NET](relay-hybrid-connections-dotnet-get-started.md)
* [Приступая к работе с Node](relay-hybrid-connections-node-get-started.md)

