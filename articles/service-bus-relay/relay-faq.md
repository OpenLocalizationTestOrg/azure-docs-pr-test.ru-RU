---
title: "Часто задаваемые вопросы о ретрансляторе Azure | Документация Майкрософт"
description: "Получите ответы на некоторые часто задаваемые вопросы о ретрансляторе Azure."
services: service-bus-relay
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 886d2c7f-838f-4938-bd23-466662fb1c8e
ms.service: service-bus-relay
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: e8c146f4b6d02449be6ad9e991e52db8dfd58e04
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="azure-relay-faqs"></a><span data-ttu-id="c91fe-103">Часто задаваемые вопросы о ретрансляторе Azure</span><span class="sxs-lookup"><span data-stu-id="c91fe-103">Azure Relay FAQs</span></span>

<span data-ttu-id="c91fe-104">В этой статье содержатся ответы на некоторые часто задаваемые вопросы о [ретрансляторе Azure](https://azure.microsoft.com/services/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="c91fe-104">This article answers some frequently asked questions (FAQs) about [Azure Relay](https://azure.microsoft.com/services/service-bus/).</span></span> <span data-ttu-id="c91fe-105">Общие сведения о расценках и поддержке Azure см. на странице [Часто задаваемые вопросы о поддержке Azure](http://go.microsoft.com/fwlink/?LinkID=185083).</span><span class="sxs-lookup"><span data-stu-id="c91fe-105">For general Azure pricing and support information, see [Azure Support FAQs](http://go.microsoft.com/fwlink/?LinkID=185083).</span></span>

## <a name="general-questions"></a><span data-ttu-id="c91fe-106">Общие вопросы</span><span class="sxs-lookup"><span data-stu-id="c91fe-106">General questions</span></span>
### <a name="what-is-azure-relay"></a><span data-ttu-id="c91fe-107">Что такое ретранслятор Azure?</span><span class="sxs-lookup"><span data-stu-id="c91fe-107">What is Azure Relay?</span></span>
<span data-ttu-id="c91fe-108">[Служба ретранслятора Azure](relay-what-is-it.md) упрощает работу с гибридными приложениями, позволяя безопаснее предоставлять в общедоступном облаке службы, используемые в корпоративной сети предприятия.</span><span class="sxs-lookup"><span data-stu-id="c91fe-108">The [Azure Relay service](relay-what-is-it.md) facilitates your hybrid applications by helping you more securely expose services that reside within a corporate enterprise network to the public cloud.</span></span> <span data-ttu-id="c91fe-109">Вам не нужно открывать подключения брандмауэра или вносить значительные изменения в инфраструктуру корпоративной сети.</span><span class="sxs-lookup"><span data-stu-id="c91fe-109">You can expose the services without opening a firewall connection, and without requiring intrusive changes to a corporate network infrastructure.</span></span>

### <a name="what-is-a-relay-namespace"></a><span data-ttu-id="c91fe-110">Что такое пространство имен ретранслятора?</span><span class="sxs-lookup"><span data-stu-id="c91fe-110">What is a Relay namespace?</span></span>
<span data-ttu-id="c91fe-111">[Пространство имен](relay-create-namespace-portal.md) — это контейнер, который можно использовать для адресации ресурсов ретранслятора в вашем приложении.</span><span class="sxs-lookup"><span data-stu-id="c91fe-111">A [namespace](relay-create-namespace-portal.md) is a scoping container that you can use to address Relay resources within your application.</span></span> <span data-ttu-id="c91fe-112">Чтобы использовать ретранслятор, необходимо создать пространство имен.</span><span class="sxs-lookup"><span data-stu-id="c91fe-112">You must create a namespace to use Relay.</span></span> <span data-ttu-id="c91fe-113">Это один из первых шагов для начала работы.</span><span class="sxs-lookup"><span data-stu-id="c91fe-113">This is one of the first steps in getting started.</span></span>

### <a name="what-happened-to-service-bus-relay-service"></a><span data-ttu-id="c91fe-114">Что случилось со службой ретранслятора служебной шины?</span><span class="sxs-lookup"><span data-stu-id="c91fe-114">What happened to Service Bus Relay service?</span></span>
<span data-ttu-id="c91fe-115">Служба, которая называлась службой ретранслятора служебной шины, теперь называется ретранслятором WCF.</span><span class="sxs-lookup"><span data-stu-id="c91fe-115">The previously named Service Bus Relay service is now called WCF Relay.</span></span> <span data-ttu-id="c91fe-116">Вы можете использовать эту службу как обычно.</span><span class="sxs-lookup"><span data-stu-id="c91fe-116">You can continue to use this service as usual.</span></span> <span data-ttu-id="c91fe-117">Функция гибридных подключений представляет собой обновленную версию службы, перенесенной из служб BizTalk Azure.</span><span class="sxs-lookup"><span data-stu-id="c91fe-117">The Hybrid Connections feature is an updated version of a service that's been transplanted from Azure BizTalk Services.</span></span> <span data-ttu-id="c91fe-118">Ретранслятор WCF и гибридные подключения будут и дальше поддерживаться.</span><span class="sxs-lookup"><span data-stu-id="c91fe-118">WCF Relay and Hybrid Connections both continue to be supported.</span></span>

## <a name="pricing"></a><span data-ttu-id="c91fe-119">Цены</span><span class="sxs-lookup"><span data-stu-id="c91fe-119">Pricing</span></span>
<span data-ttu-id="c91fe-120">В этом разделе содержатся ответы на некоторые часто задаваемые вопросы о ценах на использование ретранслятора.</span><span class="sxs-lookup"><span data-stu-id="c91fe-120">This section answers some frequently asked questions about the Relay pricing structure.</span></span> <span data-ttu-id="c91fe-121">Общие сведения о расценках Azure см. на странице [Часто задаваемые вопросы о поддержке Azure](http://go.microsoft.com/fwlink/?LinkID=185083).</span><span class="sxs-lookup"><span data-stu-id="c91fe-121">You also can see [Azure Support FAQs](http://go.microsoft.com/fwlink/?LinkID=185083) for general Azure pricing information.</span></span> <span data-ttu-id="c91fe-122">Дополнительные сведения о ценах на использование ретранслятора см. на странице [цен на служебную шину][Pricing overview].</span><span class="sxs-lookup"><span data-stu-id="c91fe-122">For complete information about Relay pricing, see [Service Bus pricing details][Pricing overview].</span></span>

### <a name="how-do-you-charge-for-hybrid-connections-and-wcf-relay"></a><span data-ttu-id="c91fe-123">Как выставляется цена за гибридные подключения и ретранслятор WCF?</span><span class="sxs-lookup"><span data-stu-id="c91fe-123">How do you charge for Hybrid Connections and WCF Relay?</span></span>
<span data-ttu-id="c91fe-124">Подробные сведения см. в таблице [гибридных подключений и ретрансляторов WCF][Pricing overview] на странице с ценами на служебную шину.</span><span class="sxs-lookup"><span data-stu-id="c91fe-124">For complete information about Relay pricing, see the [Hybrid Connections and WCF Relays][Pricing overview] table on the Service Bus pricing details page.</span></span> <span data-ttu-id="c91fe-125">Помимо платы, указанной на этой странице, также взимается плата за связанные операции передачи данных, исходящих из центра данных, в котором подготавливается ваше приложение.</span><span class="sxs-lookup"><span data-stu-id="c91fe-125">In addition to the prices noted on that page, you are charged for associated data transfers for egress outside of the datacenter in which your application is provisioned.</span></span>

### <a name="how-am-i-billed-for-hybrid-connections"></a><span data-ttu-id="c91fe-126">Как рассчитывается стоимость использования гибридных подключений?</span><span class="sxs-lookup"><span data-stu-id="c91fe-126">How am I billed for Hybrid Connections?</span></span>
<span data-ttu-id="c91fe-127">Ниже приведены три примера сценария выставления счетов за гибридные подключения.</span><span class="sxs-lookup"><span data-stu-id="c91fe-127">Here are three example billing scenarios for Hybrid Connections:</span></span>

*   <span data-ttu-id="c91fe-128">Сценарий 1.</span><span class="sxs-lookup"><span data-stu-id="c91fe-128">Scenario 1:</span></span>
    *   <span data-ttu-id="c91fe-129">У вас есть один прослушиватель, например диспетчер гибридных подключений, который постоянно работает в течение месяца.</span><span class="sxs-lookup"><span data-stu-id="c91fe-129">You have a single listener, such as an instance of the Hybrid Connections Manager installed and continuously running for the entire month.</span></span>
    *   <span data-ttu-id="c91fe-130">В течение месяца вы передаете через это подключение 3 ГБ данных.</span><span class="sxs-lookup"><span data-stu-id="c91fe-130">You send 3 GB of data across the connection during the month.</span></span> 
    *   <span data-ttu-id="c91fe-131">В этом случае общая стоимость составит 5 долл. США.</span><span class="sxs-lookup"><span data-stu-id="c91fe-131">Your total charge is $5.</span></span>
*   <span data-ttu-id="c91fe-132">Сценарий 2.</span><span class="sxs-lookup"><span data-stu-id="c91fe-132">Scenario 2:</span></span>
    *   <span data-ttu-id="c91fe-133">У вас есть один прослушиватель, например диспетчер гибридных подключений, который постоянно работает в течение месяца.</span><span class="sxs-lookup"><span data-stu-id="c91fe-133">You have a single listener, such as an instance of the Hybrid Connections Manager installed and continuously running for the entire month.</span></span>
    *   <span data-ttu-id="c91fe-134">В течение месяца вы передаете через это подключение 10 ГБ данных.</span><span class="sxs-lookup"><span data-stu-id="c91fe-134">You send 10 GB of data across the connection during the month.</span></span>
    *   <span data-ttu-id="c91fe-135">В этом случае общая стоимость составит 7,50 долл. США.</span><span class="sxs-lookup"><span data-stu-id="c91fe-135">Your total charge is $7.50.</span></span> <span data-ttu-id="c91fe-136">Это 5 долл. США за подключение и первые 5 ГБ + 2,50 долл. США за дополнительные 5 ГБ данных.</span><span class="sxs-lookup"><span data-stu-id="c91fe-136">That's $5 for the connection and first 5 GB + $2.50 for the additional 5 GB of data.</span></span>
*   <span data-ttu-id="c91fe-137">Сценарий 3.</span><span class="sxs-lookup"><span data-stu-id="c91fe-137">Scenario 3:</span></span>
    *   <span data-ttu-id="c91fe-138">У вас есть два экземпляра диспетчера гибридных подключений, А и Б, которые постоянно работают в течение месяца.</span><span class="sxs-lookup"><span data-stu-id="c91fe-138">You have two instances, A and B, of the Hybrid Connections Manager installed and continuously running for the entire month.</span></span>
    *   <span data-ttu-id="c91fe-139">В течение месяца вы передаете через подключение А 3 ГБ данных,</span><span class="sxs-lookup"><span data-stu-id="c91fe-139">You send 3 GB of data across connection A during the month.</span></span>
    *   <span data-ttu-id="c91fe-140">а через подключение Б — 6 ГБ данных.</span><span class="sxs-lookup"><span data-stu-id="c91fe-140">You send 6 GB of data across connection B during the month.</span></span>
    *   <span data-ttu-id="c91fe-141">В этом случае общая стоимость составит 10,50 долл. США.</span><span class="sxs-lookup"><span data-stu-id="c91fe-141">Your total charge is $10.50.</span></span> <span data-ttu-id="c91fe-142">Это 5 долл. США за подключение А + 5 долл. США за подключение Б + 0,50 долл. США (за шестой гигабайт через подключение Б).</span><span class="sxs-lookup"><span data-stu-id="c91fe-142">That's $5 for connection A + $5 for connection B + $0.50 (for the sixth gigabyte on connection B).</span></span>

<span data-ttu-id="c91fe-143">Обратите внимание, что в примерах расчетов использованы цены на период действия предварительной версии гибридного подключения.</span><span class="sxs-lookup"><span data-stu-id="c91fe-143">Note that the prices used in the examples are applicable only during the Hybrid Connections preview period.</span></span> <span data-ttu-id="c91fe-144">После выхода общедоступной версии гибридных подключений цена может измениться.</span><span class="sxs-lookup"><span data-stu-id="c91fe-144">Prices are subject to change upon general availability of Hybrid Connections.</span></span>

### <a name="how-are-hours-calculated-for-relay"></a><span data-ttu-id="c91fe-145">Как вычисляются часы ретрансляции?</span><span class="sxs-lookup"><span data-stu-id="c91fe-145">How are hours calculated for Relay?</span></span>

<span data-ttu-id="c91fe-146">Ретранслятор WCF доступен только в пространствах имен уровня "Стандартный".</span><span class="sxs-lookup"><span data-stu-id="c91fe-146">WCF Relay is available only in Standard tier namespaces.</span></span> <span data-ttu-id="c91fe-147">В остальном расценки и [квоты подключения](../service-bus-messaging/service-bus-quotas.md) для ретрансляторов остались неизменными.</span><span class="sxs-lookup"><span data-stu-id="c91fe-147">Pricing and [connection quotas](../service-bus-messaging/service-bus-quotas.md) for relays otherwise have not changed.</span></span> <span data-ttu-id="c91fe-148">Это означает, что тарификация для них будет по-прежнему выполняться на основе количества сообщений (а не операций) и часов ретрансляции.</span><span class="sxs-lookup"><span data-stu-id="c91fe-148">This means that relays continue to be charged based on the number of messages (not operations) and relay hours.</span></span> <span data-ttu-id="c91fe-149">Дополнительные сведения см. в таблице [гибридных подключений и ретрансляторов WCF](https://azure.microsoft.com/pricing/details/service-bus/) на странице с ценами.</span><span class="sxs-lookup"><span data-stu-id="c91fe-149">For more information, see the ["Hybrid Connections and WCF Relays"](https://azure.microsoft.com/pricing/details/service-bus/) table on the pricing details page.</span></span>

### <a name="what-if-i-have-more-than-one-listener-connected-to-a-specific-relay"></a><span data-ttu-id="c91fe-150">Что делать, если к конкретному ретранслятору подключено несколько прослушивателей?</span><span class="sxs-lookup"><span data-stu-id="c91fe-150">What if I have more than one listener connected to a specific relay?</span></span>
<span data-ttu-id="c91fe-151">В некоторых случаях к одному ретранслятору могут подключаться несколько прослушивателей.</span><span class="sxs-lookup"><span data-stu-id="c91fe-151">In some cases, a single relay might have multiple connected listeners.</span></span> <span data-ttu-id="c91fe-152">Ретранслятор считается открытым, если к нему подключен хотя бы один прослушиватель.</span><span class="sxs-lookup"><span data-stu-id="c91fe-152">A relay is considered open when at least one relay listener is connected to it.</span></span> <span data-ttu-id="c91fe-153">Добавление прослушивателей к открытому ретранслятору приведет к появлению дополнительных часов ретрансляции.</span><span class="sxs-lookup"><span data-stu-id="c91fe-153">Adding listeners to an open relay results in additional relay hours.</span></span> <span data-ttu-id="c91fe-154">Количество отправителей ретрансляции (клиентов, вызывающих или отправляющих сообщения ретрансляторам), подключенных к ретранслятору, не влияет на подсчет часов ретрансляции.</span><span class="sxs-lookup"><span data-stu-id="c91fe-154">The number of relay senders (clients that invoke or send messages to relays) that are connected to a relay does not affect the calculation of relay hours.</span></span>

### <a name="how-is-the-messages-meter-calculated-for-wcf-relays"></a><span data-ttu-id="c91fe-155">Как вычисляется количество сообщений ретрансляторам WCF?</span><span class="sxs-lookup"><span data-stu-id="c91fe-155">How is the messages meter calculated for WCF Relays?</span></span>
<span data-ttu-id="c91fe-156">(**Следующие сведения касаются только ретрансляторов WCF. Цена на сообщения никак не связана со стоимостью гибридных подключений.**)</span><span class="sxs-lookup"><span data-stu-id="c91fe-156">(**This applies only to WCF relays. Messages are not a cost for Hybrid Connections.**)</span></span>

<span data-ttu-id="c91fe-157">В целом количество оплачиваемых сообщений для ретрансляторов вычисляется так же, как и для сущностей, использующих брокер (очередей, разделов и подписок), как описано ранее.</span><span class="sxs-lookup"><span data-stu-id="c91fe-157">In general, billable messages for relays are calculated by using the same method that is used for brokered entities (queues, topics, and subscriptions), described previously.</span></span> <span data-ttu-id="c91fe-158">Тем не менее существует несколько важных отличий.</span><span class="sxs-lookup"><span data-stu-id="c91fe-158">However, there are some notable differences.</span></span>

<span data-ttu-id="c91fe-159">Отправка сообщения ретранслятору служебной шины рассматривается как полностью осуществленная отправка прослушивателю ретрансляции, который получает сообщение,</span><span class="sxs-lookup"><span data-stu-id="c91fe-159">Sending a message to a Service Bus relay is treated as a "full through" send to the relay listener that receives the message.</span></span> <span data-ttu-id="c91fe-160">а не как операция отправки сообщения в ретранслятор служебной шины с последующей его доставкой в прослушиватель ретрансляции.</span><span class="sxs-lookup"><span data-stu-id="c91fe-160">It is not treated as a send operation to the Service Bus relay, followed by a delivery to the relay listener.</span></span> <span data-ttu-id="c91fe-161">При вызове службы типа "запрос — ответ" (размером до 64 КБ) на уровне прослушивателя ретрансляции будут зафиксированы следующие сообщения: одно оплачиваемое сообщение для запроса и одно оплачиваемое сообщение для ответа (при условии, что размер ответа также не превышает 64 КБ).</span><span class="sxs-lookup"><span data-stu-id="c91fe-161">A request-reply style service invocation (of up to 64 KB) against a relay listener results in two billable messages: one billable message for the request and one billable message for the response (assuming the response is also 64 KB or smaller).</span></span> <span data-ttu-id="c91fe-162">Это отличается от механизма использования очереди в качестве посредника между клиентом и службой.</span><span class="sxs-lookup"><span data-stu-id="c91fe-162">This is different than using a queue to mediate between a client and a service.</span></span> <span data-ttu-id="c91fe-163">При использовании очереди в качестве посредника между клиентом и службой в рамках одного и того же алгоритма "запрос — ответ" предусмотрена отправка запроса в очередь с последующим изъятием из очереди и доставкой в службы,</span><span class="sxs-lookup"><span data-stu-id="c91fe-163">If you use a queue to mediate between a client and a service, the same request-reply pattern requires a request send to the queue, followed by a dequeue/delivery from the queue to the service.</span></span> <span data-ttu-id="c91fe-164">отправкой ответа в другую очередь, а также изъятием из очереди и доставкой клиенту.</span><span class="sxs-lookup"><span data-stu-id="c91fe-164">This is followed by a response send to another queue, and a dequeue/delivery from that queue to the client.</span></span> <span data-ttu-id="c91fe-165">Если размер вызова не превышает 64 КБ, использование схемы с посредником в виде очереди приводит к выставлению счета за 4 оплачиваемых сообщения.</span><span class="sxs-lookup"><span data-stu-id="c91fe-165">Using the same size assumptions throughout (up to 64 KB), the mediated queue pattern results in 4 billable messages.</span></span> <span data-ttu-id="c91fe-166">При этом плата за количество сообщений в два раза выше, чем при реализации аналогичной схемы с использованием ретранслятора.</span><span class="sxs-lookup"><span data-stu-id="c91fe-166">You'd be billed for twice the number of messages to implement the same pattern that you accomplish by using relay.</span></span> <span data-ttu-id="c91fe-167">Конечно, использование такой схемы связано с определенными преимуществами, включая надежность и выравнивание нагрузки.</span><span class="sxs-lookup"><span data-stu-id="c91fe-167">Of course, there are benefits to using queues to achieve this pattern, such as durability and load leveling.</span></span> <span data-ttu-id="c91fe-168">Эти преимущества могут оправдать дополнительные расходы.</span><span class="sxs-lookup"><span data-stu-id="c91fe-168">These benefits might justify the additional expense.</span></span>

<span data-ttu-id="c91fe-169">Ретрансляторы, открытые с помощью привязки WCF **netTCPRelay**, обрабатывают сообщения не по отдельности, а как поток данных, передаваемых через систему.</span><span class="sxs-lookup"><span data-stu-id="c91fe-169">Relays that are opened by using the **netTCPRelay** WCF binding treat messages not as individual messages, but as a stream of data flowing through the system.</span></span> <span data-ttu-id="c91fe-170">Сведения о формировании отдельных сообщений, отправленных и полученных с помощью этой привязки, доступны только отправителю и прослушивателю.</span><span class="sxs-lookup"><span data-stu-id="c91fe-170">When you use this binding, only the sender and listener have visibility into the framing of the individual messages sent and received.</span></span> <span data-ttu-id="c91fe-171">Для ретрансляторов, использующих привязку **netTCPRelay**, все данные обрабатываются как поток при вычислении количества оплачиваемых сообщений.</span><span class="sxs-lookup"><span data-stu-id="c91fe-171">For relays that use the **netTCPRelay** binding, all data is treated as a stream for calculating billable messages.</span></span> <span data-ttu-id="c91fe-172">В этом случае служебная шина вычисляет общий объем данных, отправленных или полученных в ходе отдельной ретрансляции с 5-минутными интервалами.</span><span class="sxs-lookup"><span data-stu-id="c91fe-172">In this case, Service Bus calculates the total amount of data sent or received via each individual relay on a 5-minute basis.</span></span> <span data-ttu-id="c91fe-173">Затем общий объем данных будет поделен на блоки по 64 КБ, чтобы определить количество оплачиваемых сообщений ретранслятору, обработанных за заданный период времени.</span><span class="sxs-lookup"><span data-stu-id="c91fe-173">Then, it divides that total amount of data by 64 KB to determine the number of billable messages for that relay during that time period.</span></span>

## <a name="quotas"></a><span data-ttu-id="c91fe-174">Квоты</span><span class="sxs-lookup"><span data-stu-id="c91fe-174">Quotas</span></span>
| <span data-ttu-id="c91fe-175">Имя квоты</span><span class="sxs-lookup"><span data-stu-id="c91fe-175">Quota name</span></span> | <span data-ttu-id="c91fe-176">Область</span><span class="sxs-lookup"><span data-stu-id="c91fe-176">Scope</span></span> | <span data-ttu-id="c91fe-177">Тип</span><span class="sxs-lookup"><span data-stu-id="c91fe-177">Type</span></span> | <span data-ttu-id="c91fe-178">Поведение при превышении квот</span><span class="sxs-lookup"><span data-stu-id="c91fe-178">Behavior when exceeded</span></span> | <span data-ttu-id="c91fe-179">Значение</span><span class="sxs-lookup"><span data-stu-id="c91fe-179">Value</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="c91fe-180">Параллельные прослушиватели ретранслятора</span><span class="sxs-lookup"><span data-stu-id="c91fe-180">Concurrent listeners on a relay</span></span> |<span data-ttu-id="c91fe-181">Сущность</span><span class="sxs-lookup"><span data-stu-id="c91fe-181">Entity</span></span> |<span data-ttu-id="c91fe-182">Статическое</span><span class="sxs-lookup"><span data-stu-id="c91fe-182">Static</span></span> |<span data-ttu-id="c91fe-183">Запросы на дополнительные соединения отклоняются, а вызывающий код получает исключение.</span><span class="sxs-lookup"><span data-stu-id="c91fe-183">Subsequent requests for additional connections are rejected and an exception is received by the calling code.</span></span> |<span data-ttu-id="c91fe-184">25</span><span class="sxs-lookup"><span data-stu-id="c91fe-184">25</span></span> |
| <span data-ttu-id="c91fe-185">Параллельные прослушиватели ретрансляции</span><span class="sxs-lookup"><span data-stu-id="c91fe-185">Concurrent relay listeners</span></span> |<span data-ttu-id="c91fe-186">Во всей системе</span><span class="sxs-lookup"><span data-stu-id="c91fe-186">Systemwide</span></span> |<span data-ttu-id="c91fe-187">Статическое</span><span class="sxs-lookup"><span data-stu-id="c91fe-187">Static</span></span> |<span data-ttu-id="c91fe-188">Запросы на дополнительные соединения отклоняются, а вызывающий код получает исключение.</span><span class="sxs-lookup"><span data-stu-id="c91fe-188">Subsequent requests for additional connections are rejected and an exception is received by the calling code.</span></span> |<span data-ttu-id="c91fe-189">2 000</span><span class="sxs-lookup"><span data-stu-id="c91fe-189">2,000</span></span> |
| <span data-ttu-id="c91fe-190">Параллельные подключения ретрансляции для всех конечных точек ретрансляции в пространстве имен службы</span><span class="sxs-lookup"><span data-stu-id="c91fe-190">Concurrent relay connections per all relay endpoints in a service namespace</span></span> |<span data-ttu-id="c91fe-191">Во всей системе</span><span class="sxs-lookup"><span data-stu-id="c91fe-191">Systemwide</span></span> |<span data-ttu-id="c91fe-192">Статическое</span><span class="sxs-lookup"><span data-stu-id="c91fe-192">Static</span></span> |- |<span data-ttu-id="c91fe-193">5 000</span><span class="sxs-lookup"><span data-stu-id="c91fe-193">5,000</span></span> |
| <span data-ttu-id="c91fe-194">Конечные точки ретрансляции на одно пространство имен службы</span><span class="sxs-lookup"><span data-stu-id="c91fe-194">Relay endpoints per service namespace</span></span> |<span data-ttu-id="c91fe-195">Во всей системе</span><span class="sxs-lookup"><span data-stu-id="c91fe-195">Systemwide</span></span> |<span data-ttu-id="c91fe-196">Статическое</span><span class="sxs-lookup"><span data-stu-id="c91fe-196">Static</span></span> |- |<span data-ttu-id="c91fe-197">10 000</span><span class="sxs-lookup"><span data-stu-id="c91fe-197">10,000</span></span> |
| <span data-ttu-id="c91fe-198">Размер сообщения для ретрансляций [NetOnewayRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.netonewayrelaybinding.aspx) и [NetEventRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.neteventrelaybinding.aspx)</span><span class="sxs-lookup"><span data-stu-id="c91fe-198">Message size for [NetOnewayRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.netonewayrelaybinding.aspx) and [NetEventRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.neteventrelaybinding.aspx) relays</span></span> |<span data-ttu-id="c91fe-199">Во всей системе</span><span class="sxs-lookup"><span data-stu-id="c91fe-199">Systemwide</span></span> |<span data-ttu-id="c91fe-200">Статическое</span><span class="sxs-lookup"><span data-stu-id="c91fe-200">Static</span></span> |<span data-ttu-id="c91fe-201">Входящие сообщения, размер которых превышает эти значения, отклоняются, а в вызывающем коде возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="c91fe-201">Incoming messages that exceed these quotas are rejected and an exception is received by the calling code.</span></span> |<span data-ttu-id="c91fe-202">64 КБ</span><span class="sxs-lookup"><span data-stu-id="c91fe-202">64 KB</span></span> |
| <span data-ttu-id="c91fe-203">Размер сообщения для ретрансляций [HttpRelayTransportBindingElement](https://msdn.microsoft.com/library/microsoft.servicebus.httprelaytransportbindingelement.aspx) и [NetTcpRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.nettcprelaybinding.aspx)</span><span class="sxs-lookup"><span data-stu-id="c91fe-203">Message size for [HttpRelayTransportBindingElement](https://msdn.microsoft.com/library/microsoft.servicebus.httprelaytransportbindingelement.aspx) and [NetTcpRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.nettcprelaybinding.aspx) relays</span></span> |<span data-ttu-id="c91fe-204">Во всей системе</span><span class="sxs-lookup"><span data-stu-id="c91fe-204">Systemwide</span></span> |<span data-ttu-id="c91fe-205">Статическое</span><span class="sxs-lookup"><span data-stu-id="c91fe-205">Static</span></span> |- |<span data-ttu-id="c91fe-206">Без ограничений</span><span class="sxs-lookup"><span data-stu-id="c91fe-206">Unlimited</span></span> |

### <a name="does-relay-have-any-usage-quotas"></a><span data-ttu-id="c91fe-207">Есть ли у ретранслятора квоты использования?</span><span class="sxs-lookup"><span data-stu-id="c91fe-207">Does Relay have any usage quotas?</span></span>
<span data-ttu-id="c91fe-208">По умолчанию для любой облачной службы Майкрософт устанавливается квота совокупного месячного использования в рамках всех подписок клиента.</span><span class="sxs-lookup"><span data-stu-id="c91fe-208">By default, for any cloud service, Microsoft sets an aggregate monthly usage quota that is calculated across all of a customer's subscriptions.</span></span> <span data-ttu-id="c91fe-209">Мы понимаем, что в некоторых случаях вам может потребоваться больше, чем разрешено этими ограничениями.</span><span class="sxs-lookup"><span data-stu-id="c91fe-209">We understand that at times your needs might exceed these limits.</span></span> <span data-ttu-id="c91fe-210">Вы можете в любой момент обратиться в службу поддержки клиентов и договориться об изменении квот в соответствии с вашими потребностями.</span><span class="sxs-lookup"><span data-stu-id="c91fe-210">You can contact customer service at any time, so we can understand your needs and adjust these limits appropriately.</span></span> <span data-ttu-id="c91fe-211">Для служебной шины установлены следующие квоты общего использования:</span><span class="sxs-lookup"><span data-stu-id="c91fe-211">For Service Bus, the aggregate usage quotas are as follows:</span></span>

* <span data-ttu-id="c91fe-212">5 миллиардов сообщений;</span><span class="sxs-lookup"><span data-stu-id="c91fe-212">5 billion messages</span></span>
* <span data-ttu-id="c91fe-213">2 миллиона часов ретрансляции.</span><span class="sxs-lookup"><span data-stu-id="c91fe-213">2 million relay hours</span></span>

<span data-ttu-id="c91fe-214">Мы оставляем за собой право отключить учетную запись в случае превышения месячных квот использования. Но перед выполнением каких-либо действий мы отправляем уведомления по электронной почте, а также предпринимаем несколько попыток связаться с клиентом.</span><span class="sxs-lookup"><span data-stu-id="c91fe-214">Although we reserve the right to disable an account that exceeds its monthly usage quotas, we provide e-mail notification, and we make multiple attempts to contact the customer before taking any action.</span></span> <span data-ttu-id="c91fe-215">Клиентам, превысившим свои квоты, будут выставлены соответствующие счета.</span><span class="sxs-lookup"><span data-stu-id="c91fe-215">Customers that exceed these quotas are still responsible for excess charges.</span></span>

### <a name="naming-restrictions"></a><span data-ttu-id="c91fe-216">Ограничения для имен</span><span class="sxs-lookup"><span data-stu-id="c91fe-216">Naming restrictions</span></span>
<span data-ttu-id="c91fe-217">Имя пространства имен ретранслятора должно содержать от 6 до 50 знаков.</span><span class="sxs-lookup"><span data-stu-id="c91fe-217">A Relay namespace name must be between 6 and 50 characters in length.</span></span>

## <a name="subscription-and-namespace-management"></a><span data-ttu-id="c91fe-218">Управление подпиской и пространством имен</span><span class="sxs-lookup"><span data-stu-id="c91fe-218">Subscription and namespace management</span></span>
### <a name="how-do-i-migrate-a-namespace-to-another-azure-subscription"></a><span data-ttu-id="c91fe-219">Как перенести пространство имен в другую подписку Azure?</span><span class="sxs-lookup"><span data-stu-id="c91fe-219">How do I migrate a namespace to another Azure subscription?</span></span>

<span data-ttu-id="c91fe-220">Чтобы переместить пространство имен из одной подписки Azure в другую, можно воспользоваться [порталом Azure](https://portal.azure.com) или выполнить команды PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c91fe-220">To move a namespace from one Azure subscription to another subscription, you can either use the [Azure portal](https://portal.azure.com) or use PowerShell commands.</span></span> <span data-ttu-id="c91fe-221">При перемещении пространство имен должно быть активно.</span><span class="sxs-lookup"><span data-stu-id="c91fe-221">To move a namespace to another subscription, the namespace must already be active.</span></span> <span data-ttu-id="c91fe-222">Пользователь, выполняющий команды, должен обладать правами администратора как в исходной, так и в целевой подписках.</span><span class="sxs-lookup"><span data-stu-id="c91fe-222">The user running the commands must be an Administrator user on both the source and target subscriptions.</span></span>

#### <a name="azure-portal"></a><span data-ttu-id="c91fe-223">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="c91fe-223">Azure portal</span></span>

<span data-ttu-id="c91fe-224">Сведения об использовании портала Azure для переноса пространства имен ретранслятора Azure из одной подписки в другую см. в разделе [С помощью портала](../azure-resource-manager/resource-group-move-resources.md#use-portal).</span><span class="sxs-lookup"><span data-stu-id="c91fe-224">To use the Azure portal to migrate Azure Relay namespaces from one subscription to another subscription, see [Move resources to a new resource group or subscription](../azure-resource-manager/resource-group-move-resources.md#use-portal).</span></span> 

#### <a name="powershell"></a><span data-ttu-id="c91fe-225">PowerShell</span><span class="sxs-lookup"><span data-stu-id="c91fe-225">PowerShell</span></span>

<span data-ttu-id="c91fe-226">Чтобы переместить пространство имен из одной подписки Azure в другую с помощью PowerShell, выполните указанную ниже последовательность команд.</span><span class="sxs-lookup"><span data-stu-id="c91fe-226">To use PowerShell to move a namespace from one Azure subscription to another subscription, use the following sequence of commands.</span></span> <span data-ttu-id="c91fe-227">Для выполнения этой операции пространство имен уже должно быть активным, а пользователь, выполняющий команды PowerShell, должен обладать правами администратора в исходной и целевой подписках.</span><span class="sxs-lookup"><span data-stu-id="c91fe-227">To execute this operation, the namespace must already be active, and the user running the PowerShell commands must be an Administrator user on both the source and target subscriptions.</span></span>

```powershell
# Create a new resource group in the target subscription.
Select-AzureRmSubscription -SubscriptionId 'ffffffff-ffff-ffff-ffff-ffffffffffff'
New-AzureRmResourceGroup -Name 'targetRG' -Location 'East US'

# Move the namespace from the source subscription to the target subscription.
Select-AzureRmSubscription -SubscriptionId 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa'
$res = Find-AzureRmResource -ResourceNameContains mynamespace -ResourceType 'Microsoft.ServiceBus/namespaces'
Move-AzureRmResource -DestinationResourceGroupName 'targetRG' -DestinationSubscriptionId 'ffffffff-ffff-ffff-ffff-ffffffffffff' -ResourceId $res.ResourceId
```

## <a name="troubleshooting"></a><span data-ttu-id="c91fe-228">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="c91fe-228">Troubleshooting</span></span>
### <a name="what-are-some-of-the-exceptions-generated-by-azure-relay-apis-and-suggested-actions-you-can-take"></a><span data-ttu-id="c91fe-229">Какие исключения создаются API ретранслятора Azure? Какие действия можно предпринять?</span><span class="sxs-lookup"><span data-stu-id="c91fe-229">What are some of the exceptions generated by Azure Relay APIs, and suggested actions you can take?</span></span>
<span data-ttu-id="c91fe-230">Описание распространенных исключений и сведения о действиях, которые можно предпринять, см. в статье [Исключения ретранслятора][Relay exceptions].</span><span class="sxs-lookup"><span data-stu-id="c91fe-230">For a description of common exceptions and suggested actions you can take, see [Relay exceptions][Relay exceptions].</span></span>

### <a name="what-is-a-shared-access-signature-and-which-languages-can-i-use-to-generate-a-signature"></a><span data-ttu-id="c91fe-231">Что такое подписанный URL-адрес? На каких языках можно создавать подписи?</span><span class="sxs-lookup"><span data-stu-id="c91fe-231">What is a shared access signature, and which languages can I use to generate a signature?</span></span>
<span data-ttu-id="c91fe-232">Подписанные URL-адреса (SAS) представляют собой механизм аутентификации на базе алгоритма безопасного хэширования SHA-256 или URI.</span><span class="sxs-lookup"><span data-stu-id="c91fe-232">Shared Access Signatures (SAS) are an authentication mechanism based on SHA-256 secure hashes or URIs.</span></span> <span data-ttu-id="c91fe-233">Дополнительные сведения о том, как создавать собственные подписи с использованием Node, PHP, Java, C и C#, см. в статье [Аутентификация служебной шины с помощью подписанных URL-адресов][Shared Access Signatures].</span><span class="sxs-lookup"><span data-stu-id="c91fe-233">For information about how to generate your own signatures in Node, PHP, Java, C, and C#, see [Service Bus authentication with shared access signatures][Shared Access Signatures].</span></span>

### <a name="is-it-possible-to-whitelist-relay-endpoints"></a><span data-ttu-id="c91fe-234">Можно ли добавить конечные точки ретрансляции в список разрешений?</span><span class="sxs-lookup"><span data-stu-id="c91fe-234">Is it possible to whitelist relay endpoints?</span></span>
<span data-ttu-id="c91fe-235">Да.</span><span class="sxs-lookup"><span data-stu-id="c91fe-235">Yes.</span></span> <span data-ttu-id="c91fe-236">Клиент ретрансляции устанавливает подключения к службе ретрансляции Azure, используя полные доменные имена.</span><span class="sxs-lookup"><span data-stu-id="c91fe-236">The relay client makes connections to the Azure Relay service by using fully qualified domain names.</span></span> <span data-ttu-id="c91fe-237">Пользователи могут добавить запись для `*.servicebus.windows.net` в брандмауэры, поддерживающие добавление в список разрешений DNS.</span><span class="sxs-lookup"><span data-stu-id="c91fe-237">Customers can add an entry for `*.servicebus.windows.net` on firewalls that support DNS whitelisting.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c91fe-238">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="c91fe-238">Next steps</span></span>
* [<span data-ttu-id="c91fe-239">Создание пространства имен</span><span class="sxs-lookup"><span data-stu-id="c91fe-239">Create a namespace</span></span>](relay-create-namespace-portal.md)
* [<span data-ttu-id="c91fe-240">Приступая к работе с .NET</span><span class="sxs-lookup"><span data-stu-id="c91fe-240">Get started with .NET</span></span>](relay-hybrid-connections-dotnet-get-started.md)
* [<span data-ttu-id="c91fe-241">Приступая к работе с Node</span><span class="sxs-lookup"><span data-stu-id="c91fe-241">Get started with Node</span></span>](relay-hybrid-connections-node-get-started.md)

[Pricing overview]: https://azure.microsoft.com/pricing/details/service-bus/
[Relay exceptions]: relay-exceptions.md
[Shared access signatures]: ../service-bus-messaging/service-bus-sas.md