---
title: "aaaAzure ретрансляции часто задаваемые вопросы | Документы Microsoft"
description: "Получите ответы toosome часто задаваемые вопросы о Azure ретрансляции."
services: service-bus-relay
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 886d2c7f-838f-4938-bd23-466662fb1c8e
ms.service: service-bus-relay
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: ab14431e27df43287940e7d12ea37e4093638d21
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-relay-faqs"></a>Часто задаваемые вопросы о ретрансляторе Azure

В этой статье содержатся ответы на некоторые часто задаваемые вопросы о [ретрансляторе Azure](https://azure.microsoft.com/services/service-bus/). Общие сведения о расценках и поддержке Azure см. на странице [Часто задаваемые вопросы о поддержке Azure](http://go.microsoft.com/fwlink/?LinkID=185083).

## <a name="general-questions"></a>Общие вопросы
### <a name="what-is-azure-relay"></a>Что такое ретранслятор Azure?
Hello [служба ретрансляции Azure](relay-what-is-it.md) облегчает гибридных приложений, помогая более безопасно предоставляют службы, которые находятся в корпоративной среде организации сети toohello общедоступное облако. Можно предоставлять службы hello без открытия подключения брандмауэра и без необходимости изменения продвинутых tooa корпоративной сети инфраструктуры.

### <a name="what-is-a-relay-namespace"></a>Что такое пространство имен ретранслятора?
Объект [имен](relay-create-namespace-portal.md) является контейнером, tooaddress ретрансляции ресурсы можно использовать в приложении. Необходимо создать пространство имен toouse ретрансляции. Это является одним из первых шагов hello в Приступая к работе.

### <a name="what-happened-tooservice-bus-relay-service"></a>Какая ошибка tooService ретрансляции шины службы?
предыдущее название — служба ретрансляции шины обслуживания Hello, теперь называется ретрансляции WCF. Вы можете продолжить toouse эту службу обычным образом. функция Hello гибридные подключения представляет собой обновленную версию службы, которая является были transplanted из служб Azure BizTalk. Ретрансляции WCF и гибридные подключения по-прежнему поддерживается toobe.

## <a name="pricing"></a>Цены
Этот раздел ответов, которые часто задаваемые вопросы о hello ретрансляции структуре ценообразования. Общие сведения о расценках Azure см. на странице [Часто задаваемые вопросы о поддержке Azure](http://go.microsoft.com/fwlink/?LinkID=185083). Дополнительные сведения о ценах на использование ретранслятора см. на странице [цен на служебную шину][Pricing overview].

### <a name="how-do-you-charge-for-hybrid-connections-and-wcf-relay"></a>Как выставляется цена за гибридные подключения и ретранслятор WCF?
Полные сведения о ценах на ретрансляции см. в разделе hello [гибридных подключений и ретрансляции WCF] [ Pricing overview] таблицы на странице сведения о ценах hello Service Bus. В дополнение к этому toohello цены указаны на этой странице плата за сопутствующие передачи данных для выходящих hello центра обработки данных, в котором подготавливается ваше приложение.

### <a name="how-am-i-billed-for-hybrid-connections"></a>Как рассчитывается стоимость использования гибридных подключений?
Ниже приведены три примера сценария выставления счетов за гибридные подключения.

*   Сценарий 1.
    *   У вас есть один прослушиватель, такие как экземпляр hello диспетчер гибридного подключения установлены и запущены постоянно за весь месяц hello.
    *   Отправить 3 ГБ данных через соединение hello hello месяц. 
    *   В этом случае общая стоимость составит 5 долл. США.
*   Сценарий 2.
    *   У вас есть один прослушиватель, такие как экземпляр hello диспетчер гибридного подключения установлены и запущены постоянно за весь месяц hello.
    *   10 ГБ данных отправлять через подключение hello hello месяц.
    *   В этом случае общая стоимость составит 7,50 долл. США. Это 5 $ для подключения hello и первые 5 ГБ + 2,50 для hello дополнительных 5 ГБ данных.
*   Сценарий 3.
    *   У вас есть два экземпляра, А и Б из hello диспетчер гибридного подключения установлены и запущены постоянно за весь месяц hello.
    *   Отправить 3 ГБ данных через подключение, А в течение месяца hello.
    *   Отправить 6 ГБ данных через подключение Б в течение месяца hello.
    *   В этом случае общая стоимость составит 10,50 долл. США. Это 5 $ для подключения объект + 5 $ для подключения B + $0,50 (для hello шестой ГБ на подключение Б).

Обратите внимание, что используется в примерах hello цены hello применимо только в течение периода предварительного просмотра hello гибридных подключений. Цены — тема toochange после общедоступной гибридных подключений.

### <a name="how-are-hours-calculated-for-relay"></a>Как вычисляются часы ретрансляции?

Ретранслятор WCF доступен только в пространствах имен уровня "Стандартный". В остальном расценки и [квоты подключения](../service-bus-messaging/service-bus-quotas.md) для ретрансляторов остались неизменными. Это означает, что ретрансляции продолжающие toobe за цена на основании hello число сообщений (не операций) и часов ретрансляции. Дополнительные сведения см. в разделе hello [«Гибридных подключений и WCF ретрансляции»](https://azure.microsoft.com/pricing/details/service-bus/) таблицы на страницу сведений о ценах hello.

### <a name="what-if-i-have-more-than-one-listener-connected-tooa-specific-relay"></a>Что делать, если имеется более одного прослушивателя ретрансляции определенного подключенного tooa?
В некоторых случаях к одному ретранслятору могут подключаться несколько прослушивателей. При подключенном tooit слушателя ретрансляции по крайней мере один ретрансляция считается открытым. Добавление прослушивателей tooan открытой ретрансляции результаты в часы дополнительных ретрансляции. Здравствуйте, номер пересылка отправителей (клиенты, которые вызывают или отправки сообщений toorelays), подключенных tooa ретрансляции не влияет на вычисления hello часов ретрансляции.

### <a name="how-is-hello-messages-meter-calculated-for-wcf-relays"></a>Как вычисляется метр сообщений hello для ретрансляций WCF
(**Это относится только tooWCF ретрансляции. Цена на сообщения никак не связана со стоимостью гибридных подключений.**)

В общем случае оплачиваемых сообщений для ретрансляций вычисляются с помощью hello же метод, используемый для брокера сущностей (очереди, разделы и подписки) было описано выше. Тем не менее существует несколько важных отличий.

Отправка сообщения tooa ретрансляции служебной шины рассматривается как «полную через» отправить toohello слушателя ретрансляции, который получает сообщение hello. Он не рассматривается как отправки операции toohello ретрансляции служебной шины, следуют слушателя ретрансляции toohello доставки. Вызов службы типа запрос ответ (из копии too64 КБ) результатах слушателя ретрансляции двум оплачиваемым сообщениям: одно Оплачиваемое сообщение для запроса hello и одно Оплачиваемое сообщение для ответа hello (при условии, что ответ hello также составляет 64 КБ или меньше). Это отличается от использования очереди toomediate между клиентом и службой. При использовании очереди toomediate между клиентом и службой hello же шаблону запрос ответ требуется запрос toohello очереди отправки, следует вывода из очереди/доставкой от службы toohello hello очередей. Это сопровождается tooanother очередь отправки ответа и вывода из очереди/доставкой от клиента toohello этой очереди. С помощью такого же размера, предположения по всему (вверх too64 КБ) hello, hello Опосредованная результаты шаблон очереди в 4 оплачиваемых сообщения. Будет выставлен счет за дважды hello количество сообщений tooimplement приветствия же шаблона, можно сделать с помощью ретрансляции. Конечно существуют преимущества toousing очереди tooachieve этот шаблон, например устойчивость и выравнивание нагрузки. Эти преимущества могут оправдать hello дополнительных затрат.

Ретрансляции, открытые с помощью hello **netTCPRelay** привязки WCF рассматривают сообщения не как отдельные сообщения, а также как поток данные, проходящие через систему hello. При использовании этой привязкой, только hello отправитель и слушатель имеют видимость в кадрировании hello отдельных сообщений, отправляемых и получаемых hello. Для ретрансляций, использующих hello **netTCPRelay** привязки, все данные обрабатываются как поток для вычисления оплачиваемых сообщений. В этом случае Service Bus вычисляет общий объем данных, отправленных или полученных посредством индивидуальных ретрансляций 5-минутный период hello. Затем он делит общий объем данных 64 КБ toodetermine hello количество оплачиваемых сообщений для ретрансляции во время этого периода времени.

## <a name="quotas"></a>Квоты
| Имя квоты | Область | Тип | Поведение при превышении квот | Значение |
| --- | --- | --- | --- | --- |
| Параллельные прослушиватели ретранслятора |Сущность |Статическое |Последующие запросы на дополнительные соединения будут отклонены и получает исключение hello в вызывающем коде. |25 |
| Параллельные прослушиватели ретрансляции |Во всей системе |Статическое |Последующие запросы на дополнительные соединения будут отклонены и получает исключение hello в вызывающем коде. |2 000 |
| Параллельные подключения ретрансляции для всех конечных точек ретрансляции в пространстве имен службы |Во всей системе |Статическое |- |5 000 |
| Конечные точки ретрансляции на одно пространство имен службы |Во всей системе |Статическое |- |10 000 |
| Размер сообщения для ретрансляций [NetOnewayRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.netonewayrelaybinding.aspx) и [NetEventRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.neteventrelaybinding.aspx) |Во всей системе |Статическое |Входящие сообщения, превышающие эти квоты будут отклонены и получает исключение hello в вызывающем коде. |64 КБ |
| Размер сообщения для ретрансляций [HttpRelayTransportBindingElement](https://msdn.microsoft.com/library/microsoft.servicebus.httprelaytransportbindingelement.aspx) и [NetTcpRelayBinding](https://msdn.microsoft.com/library/microsoft.servicebus.nettcprelaybinding.aspx) |Во всей системе |Статическое |- |Без ограничений |

### <a name="does-relay-have-any-usage-quotas"></a>Есть ли у ретранслятора квоты использования?
По умолчанию для любой облачной службы Майкрософт устанавливается квота совокупного месячного использования в рамках всех подписок клиента. Мы понимаем, что в некоторых случаях вам может потребоваться больше, чем разрешено этими ограничениями. Вы можете в любой момент обратиться в службу поддержки клиентов и договориться об изменении квот в соответствии с вашими потребностями. Для служебной шины квоты статистического использования hello выглядят следующим образом:

* 5 миллиардов сообщений;
* 2 миллиона часов ретрансляции.

Несмотря на то, что мы оставляем правой toodisable hello, размер которой превышает ежемесячный квоты на использование учетной записи, мы предоставляем уведомление по электронной почте, и мы предоставим несколько попыток toocontact hello клиента до выполнения любого действия. Клиентам, превысившим свои квоты, будут выставлены соответствующие счета.

### <a name="naming-restrictions"></a>Ограничения для имен
Имя пространства имен ретранслятора должно содержать от 6 до 50 знаков.

## <a name="subscription-and-namespace-management"></a>Управление подпиской и пространством имен
### <a name="how-do-i-migrate-a-namespace-tooanother-azure-subscription"></a>Как перенести имен tooanother подписки Azure?

toomove пространства имен из одной подписки tooanother подписки Azure, вы можете либо используйте hello [портал Azure](https://portal.azure.com) или с помощью команд PowerShell. toomove подписки tooanother пространства имен, имен hello уже должна быть активной. Hello пользователь, запускающий hello команды должен быть администратором на hello исходная и целевая подписки.

#### <a name="azure-portal"></a>Портал Azure

hello toouse пространства имен Azure ретрансляции Azure портала toomigrate из одной подписки tooanother подписки, в разделе [переместить ресурсы tooa группы ресурсов или подписку](../azure-resource-manager/resource-group-move-resources.md#use-portal). 

#### <a name="powershell"></a>PowerShell

toomove PowerShell toouse пространства имен из одной подписки Azure tooanother подписки, hello используется следующая последовательность команд. tooexecute этой операции hello пространство имен уже должна быть активной, hello пользователя, выполнение команд PowerShell hello должен быть администратором на hello исходная и целевая подписки.

```powershell
# Create a new resource group in hello target subscription.
Select-AzureRmSubscription -SubscriptionId 'ffffffff-ffff-ffff-ffff-ffffffffffff'
New-AzureRmResourceGroup -Name 'targetRG' -Location 'East US'

# Move hello namespace from hello source subscription toohello target subscription.
Select-AzureRmSubscription -SubscriptionId 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa'
$res = Find-AzureRmResource -ResourceNameContains mynamespace -ResourceType 'Microsoft.ServiceBus/namespaces'
Move-AzureRmResource -DestinationResourceGroupName 'targetRG' -DestinationSubscriptionId 'ffffffff-ffff-ffff-ffff-ffffffffffff' -ResourceId $res.ResourceId
```

## <a name="troubleshooting"></a>Устранение неполадок
### <a name="what-are-some-of-hello-exceptions-generated-by-azure-relay-apis-and-suggested-actions-you-can-take"></a>Какие существуют исключения hello созданные API-интерфейсов Azure ретрансляции и рекомендуемые действия, которые можно предпринять?
Описание распространенных исключений и сведения о действиях, которые можно предпринять, см. в статье [Исключения ретранслятора][Relay exceptions].

### <a name="what-is-a-shared-access-signature-and-which-languages-can-i-use-toogenerate-a-signature"></a>Что такое подписанный URL-адрес, и какие языки можно использовать toogenerate подпись?
Подписанные URL-адреса (SAS) представляют собой механизм аутентификации на базе алгоритма безопасного хэширования SHA-256 или URI. Сведения о том, как toogenerate собственные подписи в узел, PHP, Java, C и C#, отображается [проверки подлинности Service Bus с подписями общего доступа][Shared Access Signatures].

### <a name="is-it-possible-toowhitelist-relay-endpoints"></a>Это возможно toowhitelist конечных точек ретрансляции?
Да. Hello ретрансляции клиент устанавливает соединения toohello служба ретрансляции Azure с использованием полных доменных имен. Пользователи могут добавить запись для `*.servicebus.windows.net` в брандмауэры, поддерживающие добавление в список разрешений DNS.

## <a name="next-steps"></a>Дальнейшие действия
* [Создание пространства имен](relay-create-namespace-portal.md)
* [Приступая к работе с .NET](relay-hybrid-connections-dotnet-get-started.md)
* [Приступая к работе с Node](relay-hybrid-connections-node-get-started.md)

[Pricing overview]: https://azure.microsoft.com/pricing/details/service-bus/
[Relay exceptions]: relay-exceptions.md
[Shared access signatures]: ../service-bus-messaging/service-bus-sas.md