---
title: "Планировщик ресурсов Azure Site Recovery для сценариев развертывания виртуальных машин VMware в Azure | Документация Майкрософт"
description: "Руководство по использованию планировщика ресурсов Azure Site Recovery."
services: site-recovery
documentationcenter: 
author: nsoneji
manager: garavd
editor: 
ms.assetid: 
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: hero-article
ms.date: 08/28/2017
ms.author: nisoneji
ms.openlocfilehash: 60b0641076c2fa8ed2feb5c64e7b119519f46cf4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="azure-site-recovery-deployment-planner"></a><span data-ttu-id="4c0ad-103">Планировщик ресурсов Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="4c0ad-103">Azure Site Recovery deployment planner</span></span>
<span data-ttu-id="4c0ad-104">В этой статье приведены рекомендации по использованию планировщика развертывания Azure Site Recovery в сценариях рабочих развертываний виртуальных машин VMware в Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-104">This article is the Azure Site Recovery Deployment Planner user guide for VMware-to-Azure production deployments.</span></span>

## <a name="overview"></a><span data-ttu-id="4c0ad-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="4c0ad-105">Overview</span></span>

<span data-ttu-id="4c0ad-106">Перед установкой защиты виртуальных машин VMware с помощью Site Recovery выделите достаточный объем пропускной способности в зависимости от частоты ежедневного изменения данных в соответствии с требуемой целевой точкой восстановления (RPO).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-106">Before you begin protecting any VMware virtual machines (VMs) by using Site Recovery, allocate sufficient bandwidth, based on your daily data-change rate, to meet your desired recovery point objective (RPO).</span></span> <span data-ttu-id="4c0ad-107">В локальной среде необходимо развернуть нужное число серверов конфигурации и обработки.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-107">Be sure to deploy the right number of configuration servers and process servers on-premises.</span></span>

<span data-ttu-id="4c0ad-108">Кроме того, необходимо создать требуемое количество целевых учетных записей хранения Azure соответствующего типа</span><span class="sxs-lookup"><span data-stu-id="4c0ad-108">You also need to create the right type and number of target Azure storage accounts.</span></span> <span data-ttu-id="4c0ad-109">(класса Standard или Premium), учитывая рост нагрузки на исходные рабочие серверы из-за более активного их использования в будущем.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-109">You create either standard or premium storage accounts, factoring in growth on your source production servers because of increased usage over time.</span></span> <span data-ttu-id="4c0ad-110">Тип хранилища определяется для каждой виртуальной машины на основе особенностей рабочей нагрузки (количества операций записи и чтения на диск в секунду, активности обработки данных) и ограничений Azure Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-110">You choose the storage type per VM, based on workload characteristics (for example, read/write I/O operations per second [IOPS], or data churn) and Site Recovery limits.</span></span>

<span data-ttu-id="4c0ad-111">Общедоступная предварительная версия планировщика ресурсов Site Recovery — это программа командной строки, доступная сейчас только в сценариях развертывания виртуальных машин VMware в Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-111">The Site Recovery deployment planner public preview is a command-line tool that's currently available only for the VMware-to-Azure scenario.</span></span> <span data-ttu-id="4c0ad-112">Эта программа позволяет выполнить удаленное профилирование виртуальных машин VMware (никоим образом не влияя на рабочий процесс), чтобы оценить требования к пропускной способности и службе хранилища Azure для успешной репликации и отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-112">You can remotely profile your VMware VMs by using this tool (with no production impact whatsoever) to understand the bandwidth and Azure Storage requirements for successful replication and test failover.</span></span> <span data-ttu-id="4c0ad-113">Вы можете запустить эту программу, не устанавливая в локальной среде каких-либо дополнительных компонентов Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-113">You can run the tool without installing any Site Recovery components on-premises.</span></span> <span data-ttu-id="4c0ad-114">Однако чтобы получить более точные сведения о пропускной способности, мы рекомендуем запустить планировщик ресурсов на виртуальной машине Windows Server, соответствующей минимальным требованиям сервера конфигурации Site Recovery, который в конечном итоге потребуется развернуть на одном из первых этапов рабочего развертывания.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-114">However, to get accurate achieved throughput results, we recommend that you run the planner on a Windows Server that meets the minimum requirements of the Site Recovery configuration server that you would eventually need to deploy as one of the first steps in production deployment.</span></span>

<span data-ttu-id="4c0ad-115">Эта программа предоставляет указанные ниже сведения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-115">The tool provides the following details:</span></span>

<span data-ttu-id="4c0ad-116">**Оценка совместимости**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-116">**Compatibility assessment**</span></span>

* <span data-ttu-id="4c0ad-117">Оценка совместимости виртуальной машины в зависимости от количества дисков, их размера, числа операций ввода-вывода в секунду, активности обработки данных и типа загрузки (EFI/BIOS).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-117">A VM eligibility assessment, based on number of disks, disk size, IOPS, churn and boot type(EFI/BIOS)</span></span>
* <span data-ttu-id="4c0ad-118">Расчетное значение пропускной способности, необходимой для разностной репликации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-118">The estimated network bandwidth that's required for delta replication</span></span>

<span data-ttu-id="4c0ad-119">**Оценка пропускной способности сети и целевой точки восстановления**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-119">**Network bandwidth need versus RPO assessment**</span></span>

* <span data-ttu-id="4c0ad-120">Расчетное значение пропускной способности, необходимой для разностной репликации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-120">The estimated network bandwidth that's required for delta replication</span></span>
* <span data-ttu-id="4c0ad-121">Пропускная способность, которую может получить Site Recovery при репликации данных из локальной среды в Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-121">The throughput that Site Recovery can get from on-premises to Azure</span></span>
* <span data-ttu-id="4c0ad-122">Количество виртуальных машин, которое можно включить в пакет, на основе расчетного значения пропускной способности для завершения начальной репликации в указанный промежуток времени.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-122">The number of VMs to batch, based on the estimated bandwidth to complete initial replication in a given amount of time</span></span>

<span data-ttu-id="4c0ad-123">**Требования к инфраструктуре Azure**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-123">**Azure infrastructure requirements**</span></span>

* <span data-ttu-id="4c0ad-124">Требование к типу хранилища (хранилище класса Standard или Premium) каждой виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-124">The storage type (standard or premium storage account) requirement for each VM</span></span>
* <span data-ttu-id="4c0ad-125">Общее число учетных записей хранения уровня Standard или Premium, которое необходимо настроить для репликации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-125">The total number of standard and premium storage accounts to be set up for replication</span></span>
* <span data-ttu-id="4c0ad-126">Именование учетных записей хранения в соответствии с рекомендациями к службе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-126">Storage-account naming suggestions, based on Azure Storage guidance</span></span>
* <span data-ttu-id="4c0ad-127">Размещение учетной записи хранения каждой виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-127">The storage-account placement for all VMs</span></span>
* <span data-ttu-id="4c0ad-128">Число ядер Azure, которое необходимо настроить перед отработкой отказа или тестовой отработкой отказа, на подписку.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-128">The number of Azure cores to be set up before test failover or failover on the subscription</span></span>
* <span data-ttu-id="4c0ad-129">Рекомендуемый размер виртуальной машины Azure для каждой локальной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-129">The Azure VM-recommended size for each on-premises VM</span></span>

<span data-ttu-id="4c0ad-130">**Требования к локальной инфраструктуре**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-130">**On-premises infrastructure requirements**</span></span>
* <span data-ttu-id="4c0ad-131">Число серверов конфигурации и серверов обработки, которые необходимо развернуть в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-131">The required number of configuration servers and process servers to be deployed on-premises</span></span>

>[!IMPORTANT]
>
><span data-ttu-id="4c0ad-132">При выполнении вычислений в программе использовался 30%-ный коэффициент роста характеристик рабочей нагрузки (из-за возможного роста использования со временем) и 95-й процентиль всех метрик профилирования (число операций записи и чтения в секунду, активность обработки данных и т. д.).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-132">Because usage is likely to increase over time, all the preceding tool calculations are performed assuming a 30 percent growth factor in  workload characteristics, and using a 95th percentile value of all the profiling metrics (read/write IOPS, churn, and so forth).</span></span> <span data-ttu-id="4c0ad-133">Оба эти элемента (коэффициент роста и используемый процентиль) можно изменить.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-133">Both of these elements (growth factor and percentile calculation) are configurable.</span></span> <span data-ttu-id="4c0ad-134">Дополнительные сведения о коэффициенте роста и используемом процентиле см. в разделе "Рекомендации по коэффициенту роста"</span><span class="sxs-lookup"><span data-stu-id="4c0ad-134">To learn more about growth factor, see the "Growth-factor considerations" section.</span></span> <span data-ttu-id="4c0ad-135">и "Значение процентиля, используемое для вычисления".</span><span class="sxs-lookup"><span data-stu-id="4c0ad-135">To learn more about  percentile value, see the "Percentile value used for the calculation" section.</span></span>
>

## <a name="requirements"></a><span data-ttu-id="4c0ad-136">Требования</span><span class="sxs-lookup"><span data-stu-id="4c0ad-136">Requirements</span></span>
<span data-ttu-id="4c0ad-137">Программа выполняет два основных действия: осуществляет профилирование и создает отчет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-137">The tool has two main phases: profiling and report generation.</span></span> <span data-ttu-id="4c0ad-138">С ее помощью также можно оценить пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-138">There is also a third option to calculate throughput only.</span></span> <span data-ttu-id="4c0ad-139">В таблице ниже приведены требования к серверу, на котором инициируется профилирование и измерение пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-139">The requirements for the server from which the profiling and throughput measurement is initiated are presented in the following table:</span></span>

| <span data-ttu-id="4c0ad-140">Требование к серверу</span><span class="sxs-lookup"><span data-stu-id="4c0ad-140">Server requirement</span></span> | <span data-ttu-id="4c0ad-141">Описание</span><span class="sxs-lookup"><span data-stu-id="4c0ad-141">Description</span></span>|
|---|---|
|<span data-ttu-id="4c0ad-142">Профилирование и измерение пропускной способности</span><span class="sxs-lookup"><span data-stu-id="4c0ad-142">Profiling and throughput measurement</span></span>| <ul><li><span data-ttu-id="4c0ad-143">Операционная система: Microsoft Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="4c0ad-143">Operating system: Microsoft Windows Server 2012 R2</span></span><br><span data-ttu-id="4c0ad-144">(в идеале соответствует [рекомендациям по размеру сервера конфигурации](https://aka.ms/asr-v2a-on-prem-components)).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-144">(ideally matching at least the [size recommendations for the configuration server](https://aka.ms/asr-v2a-on-prem-components))</span></span></li><li><span data-ttu-id="4c0ad-145">Конфигурация виртуальной машины: 8 виртуальных ЦП, 16 ГБ ОЗУ, жесткий диск емкостью 300 ГБ.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-145">Machine configuration: 8 vCPUs, 16 GB RAM, 300 GB HDD</span></span></li><li>[<span data-ttu-id="4c0ad-146">Microsoft .NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="4c0ad-146">Microsoft .NET Framework 4.5</span></span>](https://aka.ms/dotnet-framework-45)</li><li><span data-ttu-id="4c0ad-147">[VMware vSphere PowerCLI 6.0 R3](https://aka.ms/download_powercli).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-147">[VMware vSphere PowerCLI 6.0 R3](https://aka.ms/download_powercli)</span></span></li><li><span data-ttu-id="4c0ad-148">[Распространяемый компонент Microsoft Visual C++ для Visual Studio 2012](https://aka.ms/vcplusplus-redistributable).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-148">[Microsoft Visual C++ Redistributable for Visual Studio 2012](https://aka.ms/vcplusplus-redistributable)</span></span></li><li><span data-ttu-id="4c0ad-149">Интернет-доступ к Azure с этого сервера.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-149">Internet access to Azure from this server</span></span></li><li><span data-ttu-id="4c0ad-150">Учетная запись хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-150">Azure storage account</span></span></li><li><span data-ttu-id="4c0ad-151">Права администратора на доступ к серверу.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-151">Administrator access on the server</span></span></li><li><span data-ttu-id="4c0ad-152">Минимальное свободное место на диске: 100 ГБ (предполагается, что профилирование 1000 виртуальных машин в среднем с 3 дисками на каждую выполняется 30 дней).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-152">Minimum 100 GB of free disk space (assuming 1000 VMs with an average of three disks each, profiled for 30 days)</span></span></li><li><span data-ttu-id="4c0ad-153">Параметрам уровня статистики vCenter VMware необходимо присвоить значение 2 или выше.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-153">VMware vCenter statistics level settings should be set to 2 or high level</span></span></li><li><span data-ttu-id="4c0ad-154">Разрешение порта 443: планировщик развертывания ASR использует этот порт для подключения к серверу vCenter или узлу ESXi</span><span class="sxs-lookup"><span data-stu-id="4c0ad-154">Allow 443 port: ASR Deployment Planner uses this port to connect to vCenter server/ESXi host</span></span></ul></ul>|
| <span data-ttu-id="4c0ad-155">Создание отчетов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-155">Report generation</span></span> | <span data-ttu-id="4c0ad-156">Любой компьютер с Windows или Windows Server с Microsoft Excel 2013 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-156">A Windows PC or Windows Server with Microsoft Excel 2013 or later</span></span> |
| <span data-ttu-id="4c0ad-157">Разрешения пользователя</span><span class="sxs-lookup"><span data-stu-id="4c0ad-157">User permissions</span></span> | <span data-ttu-id="4c0ad-158">Разрешение только на чтение для учетной записи пользователя, используемой для доступа к серверу VMware vCenter Server или узлу VMware vSphere ESXi во время профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-158">Read-only permission for the user account that's used to access the VMware vCenter server/VMware vSphere ESXi host during profiling</span></span> |

> [!NOTE]
>
><span data-ttu-id="4c0ad-159">Эта программа позволяет профилировать только виртуальные машины с дисками VMDK и RDM</span><span class="sxs-lookup"><span data-stu-id="4c0ad-159">The tool can profile only VMs with VMDK and RDM disks.</span></span> <span data-ttu-id="4c0ad-160">и не поддерживает диски iSCSI или NFS.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-160">It cannot profile VMs with iSCSI or NFS disks.</span></span> <span data-ttu-id="4c0ad-161">Site Recovery поддерживает диски iSCSI и NFS для серверов VMware, но так как планировщик ресурсов запущен не в гостевой ОС и выполняет профилирование только на основе показателей счетчиков производительности vCenter, он не видит диски этого типа.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-161">Site Recovery does support iSCSI and NFS disks for VMware servers but, because the deployment planner is not inside the guest and it profiles only by using vCenter performance counters, the tool does not have visibility into these disk types.</span></span>
>

## <a name="download-and-extract-the-public-preview"></a><span data-ttu-id="4c0ad-162">Скачивание и распаковка общедоступной предварительной версии</span><span class="sxs-lookup"><span data-stu-id="4c0ad-162">Download and extract the public preview</span></span>
1. <span data-ttu-id="4c0ad-163">Скачайте последнюю [общедоступную предварительную версию планировщика ресурсов Site Recovery](https://aka.ms/asr-deployment-planner).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-163">Download the latest version of the [Site Recovery deployment planner public preview](https://aka.ms/asr-deployment-planner).</span></span>  
<span data-ttu-id="4c0ad-164">Эта программа упакована в формате ZIP.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-164">The tool is packaged in a .zip folder.</span></span> <span data-ttu-id="4c0ad-165">Текущая ее версия поддерживает только сценарии развертывания виртуальных машин VMware в Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-165">The current version of the tool supports only the VMware-to-Azure scenario.</span></span>

2. <span data-ttu-id="4c0ad-166">Скопируйте ZIP-папку на сервер Windows Server, на котором необходимо запустить программу.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-166">Copy the .zip folder to the Windows server from which you want to run the tool.</span></span>  
<span data-ttu-id="4c0ad-167">Вы можете запустить планировщик на любом сервере Windows Server 2012 R2, имеющем сетевой доступ к vCenter Server или узлу vSphere ESXi, в котором содержатся виртуальные машины, профилирование которых необходимо выполнить.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-167">You can run the tool from Windows Server 2012 R2 if the server has network access to connect to the vCenter server/vSphere ESXi host that holds the VMs to be profiled.</span></span> <span data-ttu-id="4c0ad-168">Но мы советуем запускать эту программу на сервере, конфигурация оборудования которого соответствует [рекомендациям по размеру сервера конфигурации](https://aka.ms/asr-v2a-on-prem-components).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-168">However, we recommend that you run the tool on a server whose hardware configuration meets the [configuration server sizing guideline](https://aka.ms/asr-v2a-on-prem-components).</span></span> <span data-ttu-id="4c0ad-169">Если вы уже развернули компоненты Site Recovery в локальной среде, запустите программу на сервере конфигурации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-169">If you have already deployed Site Recovery components on-premises, run the tool from the configuration server.</span></span>

 <span data-ttu-id="4c0ad-170">При одинаковых конфигурациях оборудования сервера, рекомендуемого для запуска программы, и сервера конфигурации (со встроенным сервером обработки)</span><span class="sxs-lookup"><span data-stu-id="4c0ad-170">We recommend that you have the same hardware configuration as the configuration server (which has an in-built process server) on the server where you run the tool.</span></span> <span data-ttu-id="4c0ad-171">пропускная способность, сведения о которой получены с помощью планировщика, будет соответствовать фактической пропускной способности, которой Site Recovery может добиться во время репликации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-171">Such a configuration ensures that the achieved throughput that the tool reports matches the actual throughput that Site Recovery can achieve during replication.</span></span> <span data-ttu-id="4c0ad-172">Значение пропускной способности зависит от доступной пропускной способности сети и конфигурации оборудования сервера (ЦП, хранилище и т. д.).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-172">The throughput calculation depends on available network bandwidth on the server and hardware configuration (CPU, storage, and so forth) of the server.</span></span> <span data-ttu-id="4c0ad-173">При запуске программы на другом сервере пропускная способность вычисляется при передаче из этого сервера в Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-173">If you run the tool from any other server, the throughput is calculated from that server to Microsoft Azure.</span></span> <span data-ttu-id="4c0ad-174">Кроме того, конфигурация оборудования на этом сервере и на сервере конфигурации может отличаться. И поэтому значение достигаемой пропускной способности, полученное с помощью этой программы, будет неточным.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-174">Also, because the hardware configuration of the server might differ from that of the configuration server, the achieved throughput that the tool reports might be inaccurate.</span></span>

3. <span data-ttu-id="4c0ad-175">Распакуйте ZIP-папку.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-175">Extract the .zip folder.</span></span>  
<span data-ttu-id="4c0ad-176">Папка содержит несколько файлов и вложенных папок.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-176">The folder contains multiple files and subfolders.</span></span> <span data-ttu-id="4c0ad-177">Исполняемый файл ASRDeploymentPlanner.exe находится в родительской папке.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-177">The executable file is ASRDeploymentPlanner.exe in the parent folder.</span></span>

    <span data-ttu-id="4c0ad-178">Пример:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-178">Example:</span></span>  
    <span data-ttu-id="4c0ad-179">Скопируйте ZIP-файл в папку E:\ drive и распакуйте его.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-179">Copy the .zip file to E:\ drive and extract it.</span></span>
   <span data-ttu-id="4c0ad-180">E:\ASR Deployment Planner-Preview_v1.2.zip</span><span class="sxs-lookup"><span data-stu-id="4c0ad-180">E:\ASR Deployment Planner-Preview_v1.2.zip</span></span>

    <span data-ttu-id="4c0ad-181">E:\ASR Deployment Planner-Preview_v1.2\ ASR Deployment Planner-Preview_v1.2\ ASRDeploymentPlanner.exe</span><span class="sxs-lookup"><span data-stu-id="4c0ad-181">E:\ASR Deployment Planner-Preview_v1.2\ ASR Deployment Planner-Preview_v1.2\ ASRDeploymentPlanner.exe</span></span>

## <a name="capabilities"></a><span data-ttu-id="4c0ad-182">Возможности</span><span class="sxs-lookup"><span data-stu-id="4c0ad-182">Capabilities</span></span>
<span data-ttu-id="4c0ad-183">Программу командной строки (ASRDeploymentPlanner.exe) можно запустить в любом из следующих трех режимов:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-183">You can run the command-line tool (ASRDeploymentPlanner.exe) in any of the following three modes:</span></span>

1. <span data-ttu-id="4c0ad-184">Профилирование.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-184">Profiling</span></span>  
2. <span data-ttu-id="4c0ad-185">Создание отчетов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-185">Report generation</span></span>
3. <span data-ttu-id="4c0ad-186">Оценка пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-186">Get throughput</span></span>

<span data-ttu-id="4c0ad-187">Сначала планировщик необходимо запустить в режиме профилирования, чтобы получить сведения об активности обработки данных и числе операций ввода-вывода в секунду на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-187">First, run the tool in profiling mode to gather VM data churn and IOPS.</span></span> <span data-ttu-id="4c0ad-188">Затем запустите его в режиме создания отчетов, чтобы оценить требования к пропускной способности сети и хранилищу.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-188">Next, run the tool to generate the report to find the network bandwidth and storage requirements.</span></span>

## <a name="profiling"></a><span data-ttu-id="4c0ad-189">Профилирование.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-189">Profiling</span></span>
<span data-ttu-id="4c0ad-190">В режиме профилирования планировщик ресурсов подключается к серверу vCenter Server или узлам vSphere ESXi, чтобы собрать данные о производительности виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-190">In profiling mode, the deployment planner tool connects to the vCenter server/vSphere ESXi host to collect performance data about the VM.</span></span>

* <span data-ttu-id="4c0ad-191">Профилирование не влияет на производительность рабочих процессов виртуальных машин, так как программа напрямую не подключается к виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-191">Profiling does not affect the performance of the production VMs, because no direct connection is made to them.</span></span> <span data-ttu-id="4c0ad-192">Все данные о производительности собираются на сервере vCenter Server или узле vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-192">All performance data is collected from the vCenter server/vSphere ESXi host.</span></span>
* <span data-ttu-id="4c0ad-193">Программа отправляет запросы к серверу vCenter Server или узлу vSphere ESXi каждые 15 минут. За счет этого влияние на сервер во время профилирования незначительное.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-193">To ensure that there is a negligible impact on the server because of profiling, the tool queries the vCenter server/vSphere ESXi host once every 15 minutes.</span></span> <span data-ttu-id="4c0ad-194">Такой интервал запросов не влияет на точность профилирования, так как программа сохраняет данные счетчика производительности, получаемые каждую минуту.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-194">This query interval does not compromise profiling accuracy, because the tool stores every minute’s performance counter data.</span></span>

### <a name="create-a-list-of-vms-to-profile"></a><span data-ttu-id="4c0ad-195">Создание списка виртуальных машин для профилирования</span><span class="sxs-lookup"><span data-stu-id="4c0ad-195">Create a list of VMs to profile</span></span>
<span data-ttu-id="4c0ad-196">Сначала вы должны создать список виртуальных машин, профилирование которых нужно выполнить.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-196">First, you need a list of the VMs to be profiled.</span></span> <span data-ttu-id="4c0ad-197">Список всех имен виртуальных машин можно получить на сервере vCenter Server или узле vSphere ESXi, используя приведенные ниже команды VMware vSphere PowerCLI.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-197">You can get all the names of VMs on a vCenter server/vSphere ESXi host by using the VMware vSphere PowerCLI commands in the following procedure.</span></span> <span data-ttu-id="4c0ad-198">Кроме того, вы можете выбрать знакомые имена или IP-адреса виртуальных машин, для которых следует выполнить профилирование, вручную в файле.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-198">Alternatively, you can list in a file the friendly names or IP addresses of the VMs that you want to profile manually.</span></span>

1. <span data-ttu-id="4c0ad-199">Войдите в виртуальную машину, на которой установлен VMware vSphere PowerCLI.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-199">Sign in to the VM that VMware vSphere PowerCLI is installed in.</span></span>
2. <span data-ttu-id="4c0ad-200">Откройте консоль VMware vSphere PowerCLI.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-200">Open the VMware vSphere PowerCLI console.</span></span>
3. <span data-ttu-id="4c0ad-201">Проверьте, включена ли политика выполнения скрипта.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-201">Ensure that the execution policy is enabled for the script.</span></span> <span data-ttu-id="4c0ad-202">Если отключена, запустите консоль VMware vSphere PowerCLI в режиме администратора и включите ее, выполнив следующую команду:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-202">If it is disabled, launch the VMware vSphere PowerCLI console in administrator mode, and then enable it by running the following command:</span></span>

            Set-ExecutionPolicy –ExecutionPolicy AllSigned

4. <span data-ttu-id="4c0ad-203">Если Connect-VIServer не распознается как имя командлета, вам может потребоваться выполнить следующую команду:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-203">You may optionly need to run the following command if Connect-VIServer is not recognized as the name of cmdlet.</span></span>
 
            Add-PSSnapin VMware.VimAutomation.Core 

5. <span data-ttu-id="4c0ad-204">Чтобы получить список всех имен виртуальных машин на сервере vCenter Server или узле vSphere ESXi и сохранить их в TXT-файле, выполните приведенные ниже команды.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-204">To get all the names of VMs on a vCenter server/vSphere ESXi host and store the list in a .txt file, run the two commands listed here.</span></span>
<span data-ttu-id="4c0ad-205">Замените значения &lsaquo;имени сервера&rsaquo;, &lsaquo;имени пользователя&rsaquo;, &lsaquo;пароля&rsaquo; и &lsaquo;выходного TXT-файла&rsaquo; собственными.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-205">Replace &lsaquo;server name&rsaquo;, &lsaquo;user name&rsaquo;, &lsaquo;password&rsaquo;, &lsaquo;outputfile.txt&rsaquo;; with your inputs.</span></span>

            Connect-VIServer -Server <server name> -User <user name> -Password <password>

            Get-VM |  Select Name | Sort-Object -Property Name >  <outputfile.txt>

6. <span data-ttu-id="4c0ad-206">Откройте выходной файл в Блокноте. Скопируйте имена виртуальных машин, профилирование которых необходимо выполнить, в другой файл (например, в файл ProfileVMList.txt) по одному на строку.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-206">Open the output file in Notepad, and then copy the names of all VMs that you want to profile to another file (for example, ProfileVMList.txt), one VM name per line.</span></span> <span data-ttu-id="4c0ad-207">Этот файл используется в качестве входного значения параметра *-VMListFile* в программе командной строки.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-207">This file is used as input to the *-VMListFile* parameter of the command-line tool.</span></span>

    ![Список имен виртуальных машин в планировщике ресурсов](./media/site-recovery-deployment-planner/profile-vm-list.png)

### <a name="start-profiling"></a><span data-ttu-id="4c0ad-209">Начало профилирования</span><span class="sxs-lookup"><span data-stu-id="4c0ad-209">Start profiling</span></span>
<span data-ttu-id="4c0ad-210">После создания списка виртуальных машин можно запустить программу в режиме профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-210">After you have the list of VMs to be profiled, you can run the tool in profiling mode.</span></span> <span data-ttu-id="4c0ad-211">Ниже приведен список обязательных и необязательных параметров для запуска планировщика в режиме профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-211">Here is the list of mandatory and optional parameters of the tool to run in profiling mode.</span></span>

<span data-ttu-id="4c0ad-212">ASRDeploymentPlanner.exe -Operation StartProfiling /?</span><span class="sxs-lookup"><span data-stu-id="4c0ad-212">ASRDeploymentPlanner.exe -Operation StartProfiling /?</span></span>

| <span data-ttu-id="4c0ad-213">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="4c0ad-213">Parameter name</span></span> | <span data-ttu-id="4c0ad-214">Описание</span><span class="sxs-lookup"><span data-stu-id="4c0ad-214">Description</span></span> |
|---|---|
| <span data-ttu-id="4c0ad-215">-Operation</span><span class="sxs-lookup"><span data-stu-id="4c0ad-215">-Operation</span></span> | <span data-ttu-id="4c0ad-216">StartProfiling</span><span class="sxs-lookup"><span data-stu-id="4c0ad-216">StartProfiling</span></span> |
| <span data-ttu-id="4c0ad-217">-Server</span><span class="sxs-lookup"><span data-stu-id="4c0ad-217">-Server</span></span> | <span data-ttu-id="4c0ad-218">Полное доменное имя или IP-адрес сервера vCenter Server или узла vSphere ESXi, профилирование виртуальных машин которого необходимо выполнить.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-218">The fully qualified domain name or IP address of the vCenter server/vSphere ESXi host whose VMs are to be profiled.</span></span>|
| <span data-ttu-id="4c0ad-219">-User</span><span class="sxs-lookup"><span data-stu-id="4c0ad-219">-User</span></span> | <span data-ttu-id="4c0ad-220">Имя пользователя для подключения к серверу vCenter Server или узлу vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-220">The user name to connect to the vCenter server/vSphere ESXi host.</span></span> <span data-ttu-id="4c0ad-221">Пользователь должен иметь по крайней мере доступ с правами только для чтения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-221">The user needs to have read-only access, at minimum.</span></span>|
| <span data-ttu-id="4c0ad-222">-VMListFile</span><span class="sxs-lookup"><span data-stu-id="4c0ad-222">-VMListFile</span></span> | <span data-ttu-id="4c0ad-223">Файл со списком виртуальных машин для профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-223">The file that contains the list of VMs to be profiled.</span></span> <span data-ttu-id="4c0ad-224">Путь к файлу может быть абсолютным или относительным.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-224">The file path can be absolute or relative.</span></span> <span data-ttu-id="4c0ad-225">Этот файл должен содержать по одному имени или IP-адресу виртуальной машины в каждой строке.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-225">The file should contain one VM name/IP address per line.</span></span> <span data-ttu-id="4c0ad-226">Имя виртуальной машины, указанное в файле, должно совпадать с именем виртуальной машины на сервере vCenter Server или узле vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-226">Virtual machine name specified in the file should be the same as the VM name on the vCenter server/vSphere ESXi host.</span></span><br><span data-ttu-id="4c0ad-227">Например, файл VMList.txt содержит следующие виртуальные машины:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-227">For example, the file VMList.txt contains the following VMs:</span></span><ul><li><span data-ttu-id="4c0ad-228">virtual_machine_A</span><span class="sxs-lookup"><span data-stu-id="4c0ad-228">virtual_machine_A</span></span></li><li><span data-ttu-id="4c0ad-229">10.150.29.110</span><span class="sxs-lookup"><span data-stu-id="4c0ad-229">10.150.29.110</span></span></li><li><span data-ttu-id="4c0ad-230">virtual_machine_B</span><span class="sxs-lookup"><span data-stu-id="4c0ad-230">virtual_machine_B</span></span></li><ul> |
| <span data-ttu-id="4c0ad-231">-NoOfDaysToProfile</span><span class="sxs-lookup"><span data-stu-id="4c0ad-231">-NoOfDaysToProfile</span></span> | <span data-ttu-id="4c0ad-232">Число дней, в течение которых будет выполняться профилирование.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-232">The number of days for which profiling is to be run.</span></span> <span data-ttu-id="4c0ad-233">Мы рекомендуем выполнять профилирование более 15 дней. Это позволит более детально определить шаблон рабочей нагрузки в среде и предоставить более точные рекомендации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-233">We recommend that you run profiling for more than 15 days to ensure that the workload pattern in your environment over the specified period is observed and used to provide an accurate recommendation.</span></span> |
| <span data-ttu-id="4c0ad-234">-Directory</span><span class="sxs-lookup"><span data-stu-id="4c0ad-234">-Directory</span></span> | <span data-ttu-id="4c0ad-235">(Необязательно.) UNC-путь или путь к локальному каталогу для хранения данных профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-235">(Optional) The universal naming convention (UNC) or local directory path to store profiling data generated during profiling.</span></span> <span data-ttu-id="4c0ad-236">Если имя каталога не задано, в качестве каталога по умолчанию используется каталог ProfiledData, расположенный по текущему пути.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-236">If a directory name is not given, the directory named ‘ProfiledData’ under the current path will be used as the default directory.</span></span> |
| <span data-ttu-id="4c0ad-237">-Password</span><span class="sxs-lookup"><span data-stu-id="4c0ad-237">-Password</span></span> | <span data-ttu-id="4c0ad-238">(Необязательно.) Пароль, используемый для подключения к серверу vCenter Server или узлу vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-238">(Optional) The password to use to connect to the vCenter server/vSphere ESXi host.</span></span> <span data-ttu-id="4c0ad-239">Если не указать его сейчас, запрос на ввод пароля отобразится после выполнения команды.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-239">If you do not specify one now, you will be prompted for it when the command is executed.</span></span>|
| <span data-ttu-id="4c0ad-240">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="4c0ad-240">-StorageAccountName</span></span> | <span data-ttu-id="4c0ad-241">(Необязательно.) Имя учетной записи хранения, используемой для определения объема пропускной способности, доступной для репликации данных из локальной среды в Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-241">(Optional) The storage-account name that's used to find the throughput achievable for replication of data from on-premises to Azure.</span></span> <span data-ttu-id="4c0ad-242">Программа отправляет тестовые данные в эту учетную запись хранения, чтобы рассчитать пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-242">The tool uploads test data to this storage account to calculate throughput.</span></span>|
| <span data-ttu-id="4c0ad-243">-StorageAccountKey</span><span class="sxs-lookup"><span data-stu-id="4c0ad-243">-StorageAccountKey</span></span> | <span data-ttu-id="4c0ad-244">(Необязательно.) Ключ, используемый для доступа к учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-244">(Optional) The storage-account key that's used to access the storage account.</span></span> <span data-ttu-id="4c0ad-245">Перейдите на портал Azure и выберите "Учетные записи хранения > *имя_учетной записи_хранения* > Параметры > Ключи доступа > Ключ 1" (или первичный ключ доступа для классической учетной записи хранения).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-245">Go to the Azure portal > Storage accounts > <*Storage account name*> > Settings > Access Keys > Key1 (or primary access key for classic storage account).</span></span> |
| <span data-ttu-id="4c0ad-246">-Environment</span><span class="sxs-lookup"><span data-stu-id="4c0ad-246">-Environment</span></span> | <span data-ttu-id="4c0ad-247">(необязательно) Это целевая среда учетной записи хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-247">(optional) This is your target Azure Storage account environment.</span></span> <span data-ttu-id="4c0ad-248">Этот параметр может иметь одно из трех значений: AzureCloud, AzureUSGovernment, AzureChinaCloud.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-248">This can be one of three values - AzureCloud,AzureUSGovernment, AzureChinaCloud.</span></span> <span data-ttu-id="4c0ad-249">Значение по умолчанию — AzureCloud.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-249">Default is AzureCloud.</span></span> <span data-ttu-id="4c0ad-250">Используйте этот параметр, если ваш целевой регион Azure — Azure для государственных организаций США или Azure для Китая.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-250">Use the parameter when your target Azure region is either Azure US Government or Azure China clouds.</span></span> |


<span data-ttu-id="4c0ad-251">Мы рекомендуем выполнять профилирование виртуальной машины от 15 до 30 дней.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-251">We recommend that you profile your VMs for at least 15 to 30 days.</span></span> <span data-ttu-id="4c0ad-252">В течение этого периода программа ASRDeploymentPlanner.exe продолжает работать.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-252">During the profiling period, ASRDeploymentPlanner.exe keeps running.</span></span> <span data-ttu-id="4c0ad-253">Время профилирования необходимо указать в днях.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-253">The tool takes profiling time input in days.</span></span> <span data-ttu-id="4c0ad-254">Если вы хотите запустить профилирование в общедоступной предварительной версии на несколько часов или минут (например, чтобы быстро проверить эту программу), это время необходимо преобразовать в эквивалент в днях.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-254">If you want to profile for few hours or minutes for a quick test of the tool, in the public preview, you will need to convert the time into the equivalent measure of days.</span></span> <span data-ttu-id="4c0ad-255">Например, чтобы выполнить профилирование в течение 30 минут, это значение необходимо преобразовать следующим образом: 30/(60*24) = 0,021 дней.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-255">For example, to profile for 30 minutes, the input must be 30/(60*24) = 0.021 days.</span></span> <span data-ttu-id="4c0ad-256">Минимальное разрешенное время профилирования составляет 30 минут.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-256">The minimum allowed profiling time is 30 minutes.</span></span>

<span data-ttu-id="4c0ad-257">В процессе профилирования при необходимости можно передать имя и ключ учетной записи хранения, чтобы определить пропускную способность, которой может достигнуть Site Recovery во время репликации данных с сервера конфигурации и сервера обработки в Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-257">During profiling, you can optionally pass a storage-account name and key to find the throughput that Site Recovery can achieve at the time of replication from the configuration server or process server to Azure.</span></span> <span data-ttu-id="4c0ad-258">Если их не передать, планировщик не будет рассчитывать достигаемую пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-258">If the storage-account name and key are not passed during profiling, the tool does not calculate achievable throughput.</span></span>

<span data-ttu-id="4c0ad-259">Вы можете запустить несколько экземпляров этой программы для наборов виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-259">You can run multiple instances of the tool for various sets of VMs.</span></span> <span data-ttu-id="4c0ad-260">Убедитесь, что в этих наборах профилирования имена виртуальных машин не повторяются.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-260">Ensure that the VM names are not repeated in any of the profiling sets.</span></span> <span data-ttu-id="4c0ad-261">Например, вы выполнили профилирование десяти виртуальных машин (VM1–VM10) и спустя несколько дней хотите повторить этот процесс для еще пяти (VM11–VM15). Для профилирования второго набора виртуальных машин (VM11–VM15) эту программу можно запустить в другой консоли командной строки.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-261">For example, if you have profiled ten VMs (VM1 through VM10) and after few days you want to profile another five VMs (VM11 through VM15), you can run the tool from another command-line console for the second set of VMs (VM11 through VM15).</span></span> <span data-ttu-id="4c0ad-262">Проверьте, не входят ли во второй набор виртуальные машины из первого экземпляра профилирования или не используется ли для второго запуска другой выходной каталог.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-262">Ensure that the second set of VMs do not have any VM names from the first profiling instance or you use a different output directory for the second run.</span></span> <span data-ttu-id="4c0ad-263">Если два экземпляра планировщика выполняют профилирование тех же самых виртуальных машин и используется тот же выходной каталог, созданный отчет будет неправильным.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-263">If two instances of the tool are used for profiling the same VMs and use the same output directory, the generated report will be incorrect.</span></span>

<span data-ttu-id="4c0ad-264">Конфигурации виртуальных машин записываются один раз при запуске профилирования и сохраняются в файле VMDetailList.xml.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-264">VM configurations are captured once at the beginning of the profiling operation and stored in a file called VMDetailList.xml.</span></span> <span data-ttu-id="4c0ad-265">Эти сведения используются во время создания отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-265">This information is used when the report is generated.</span></span> <span data-ttu-id="4c0ad-266">Изменения в конфигурации виртуальной машины (например, увеличение числа ядер, дисков, сетевых карт и т. д.), внесенные после запуска профилирования до завершения этого процесса, не записываются.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-266">Any change in VM configuration (for example, an increased number of cores, disks, or NICs) from the beginning to the end of profiling is not captured.</span></span> <span data-ttu-id="4c0ad-267">Если конфигурация виртуальной машины изменилась во время профилирования в общедоступной предварительной версии планировщика, ниже приведены рекомендации по получению последних сведений о виртуальной машине, используемых при создании отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-267">If a profiled VM configuration has changed during the course of profiling, in the public preview, here is the workaround to get latest VM details when generating the report:</span></span>

* <span data-ttu-id="4c0ad-268">Создайте резервную копию файла VMdetailList.xml и удалите его из текущего расположения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-268">Back up VMdetailList.xml, and delete the file from its current location.</span></span>
* <span data-ttu-id="4c0ad-269">Передайте аргументы -User и -Password во время создания отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-269">Pass -User and -Password arguments at the time of report generation.</span></span>

<span data-ttu-id="4c0ad-270">Команда профилирования создает в каталоге профилирования несколько файлов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-270">The profiling command generates several files in the profiling directory.</span></span> <span data-ttu-id="4c0ad-271">Не удаляйте их, так как это повлияет на создание отчетов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-271">Do not delete any of the files, because doing so affects report generation.</span></span>

#### <a name="example-1-profile-vms-for-30-days-and-find-the-throughput-from-on-premises-to-azure"></a><span data-ttu-id="4c0ad-272">Пример 1. Профилирование виртуальных машин, выполняемое в течение 30 дней, и определение пропускной способности, достигаемой при репликации данных из локальной среды в Azure</span><span class="sxs-lookup"><span data-stu-id="4c0ad-272">Example 1: Profile VMs for 30 days, and find the throughput from on-premises to Azure</span></span>
```
ASRDeploymentPlanner.exe -Operation StartProfiling -Directory “E:\vCenter1_ProfiledData” -Server vCenter1.contoso.com -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt”  -NoOfDaysToProfile  30  -User vCenterUser1 -StorageAccountName  asrspfarm1 -StorageAccountKey Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==
```

#### <a name="example-2-profile-vms-for-15-days"></a><span data-ttu-id="4c0ad-273">Пример 2. Профилирование виртуальных машин, выполняемое в течение 15 дней</span><span class="sxs-lookup"><span data-stu-id="4c0ad-273">Example 2: Profile VMs for 15 days</span></span>

```
ASRDeploymentPlanner.exe -Operation StartProfiling -Directory “E:\vCenter1_ProfiledData” -Server vCenter1.contoso.com -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt”  -NoOfDaysToProfile  15  -User vCenterUser1
```

#### <a name="example-3-profile-vms-for-1-hour-for-a-quick-test-of-the-tool"></a><span data-ttu-id="4c0ad-274">Пример 3. Профилирование виртуальных машин, выполняемое в течение часа, чтобы быстро проверить программу</span><span class="sxs-lookup"><span data-stu-id="4c0ad-274">Example 3: Profile VMs for 1 hour for a quick test of the tool</span></span>
```
ASRDeploymentPlanner.exe -Operation StartProfiling -Directory “E:\vCenter1_ProfiledData” -Server vCenter1.contoso.com -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt”  -NoOfDaysToProfile  0.04  -User vCenterUser1
```

>[!NOTE]
>
>* <span data-ttu-id="4c0ad-275">Если сервер, на котором выполняется программа, перезагрузился или на нем произошел сбой, а также если вы вышли из нее, нажав клавиши CTRL+C, данные профилирования сохраняются.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-275">If the server that the tool is running on is rebooted or has crashed, or if you close the tool by using Ctrl + C, the profiled data is preserved.</span></span> <span data-ttu-id="4c0ad-276">Однако вы можете потерять данные за последние 15 минут.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-276">However, there is a chance of missing the last 15 minutes of profiled data.</span></span> <span data-ttu-id="4c0ad-277">В этом случае после перезагрузки сервера повторно запустите планировщик в режиме профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-277">In such an instance, rerun the tool in profiling mode after the server restarts.</span></span>
>* <span data-ttu-id="4c0ad-278">Получив имя и ключ учетной записи хранения, программа измеряет пропускную способность на последнем этапе профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-278">When the storage-account name and key are passed, the tool measures the throughput at the last step of profiling.</span></span> <span data-ttu-id="4c0ad-279">Если она прерывает работу до завершения профилирования, пропускная способность не измеряется.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-279">If the tool is closed before profiling is completed, the throughput is not calculated.</span></span> <span data-ttu-id="4c0ad-280">Чтобы определить пропускную способность перед созданием отчета, вы можете выполнить операцию GetThroughput в консоли командной строки.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-280">To find the throughput before generating the report, you can run the GetThroughput operation from the command-line console.</span></span> <span data-ttu-id="4c0ad-281">В противном случае сведения о достигаемой пропускной способности не будут включены в отчет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-281">Otherwise, the generated report will not contain the throughput information.</span></span>


## <a name="generate-a-report"></a><span data-ttu-id="4c0ad-282">Создание отчета</span><span class="sxs-lookup"><span data-stu-id="4c0ad-282">Generate a report</span></span>
<span data-ttu-id="4c0ad-283">Планировщик создает отчет в формате XLSM (файл Microsoft Excel с поддержкой макросов). В нем содержатся все рекомендации по развертыванию.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-283">The tool generates a macro-enabled Microsoft Excel file (XLSM file) as the report output, which summarizes all the deployment recommendations.</span></span> <span data-ttu-id="4c0ad-284">Этот отчет называется DeploymentPlannerReport_<*уникальный_числовой_идентификатор*>.xlsm и помещается в указанный каталог.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-284">The report is named DeploymentPlannerReport_<*unique numeric identifier*>.xlsm and placed in the specified directory.</span></span>

<span data-ttu-id="4c0ad-285">После завершения профилирования планировщик можно запустить в режиме создания отчетов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-285">After profiling is complete, you can run the tool in report-generation mode.</span></span> <span data-ttu-id="4c0ad-286">В таблице ниже приведен список обязательных и необязательных параметров для запуска программы в режиме создания отчетов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-286">The following table contains a list of mandatory and optional tool parameters to run in report-generation mode.</span></span>

`ASRDeploymentPlanner.exe -Operation GenerateReport /?`

|<span data-ttu-id="4c0ad-287">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="4c0ad-287">Parameter name</span></span> | <span data-ttu-id="4c0ad-288">Описание</span><span class="sxs-lookup"><span data-stu-id="4c0ad-288">Description</span></span> |
|-|-|
| <span data-ttu-id="4c0ad-289">-Operation</span><span class="sxs-lookup"><span data-stu-id="4c0ad-289">-Operation</span></span> | <span data-ttu-id="4c0ad-290">Создание отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-290">GenerateReport</span></span> |
| <span data-ttu-id="4c0ad-291">-Server</span><span class="sxs-lookup"><span data-stu-id="4c0ad-291">-Server</span></span> |  <span data-ttu-id="4c0ad-292">Полное доменное имя или IP-адрес сервера vCenter Server или сервера vSphere (имя или IP-адрес должны совпадать с используемыми во время профилирования), где расположены виртуальные машины, для которых необходимо создать отчет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-292">The vCenter/vSphere server fully qualified domain name or IP address (use the same name or IP address that you used at the time of profiling) where the profiled VMs whose report is to be generated are located.</span></span> <span data-ttu-id="4c0ad-293">Обратите внимание, если профилирование выполняется на сервере vCenter Server, вы не можете использовать для создания отчетов сервер vSphere (и наоборот).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-293">Note that if you used a vCenter server at the time of profiling, you cannot use a vSphere server for report generation, and vice-versa.</span></span>|
| <span data-ttu-id="4c0ad-294">-VMListFile</span><span class="sxs-lookup"><span data-stu-id="4c0ad-294">-VMListFile</span></span> | <span data-ttu-id="4c0ad-295">Файл со списком профилированных виртуальных машин, для которых необходимо создать отчет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-295">The file that contains the list of profiled VMs that the report is to be generated for.</span></span> <span data-ttu-id="4c0ad-296">Путь к файлу может быть абсолютным или относительным.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-296">The file path can be absolute or relative.</span></span> <span data-ttu-id="4c0ad-297">Этот файл должен содержать по одному имени или IP-адресу виртуальной машины в каждой строке.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-297">The file should contain one VM name or IP address per line.</span></span> <span data-ttu-id="4c0ad-298">Имена виртуальных машин, указанные в файле, должны совпадать с именами на сервере vCenter Server или узле vSphere ESXi, а также с именами, используемыми в процессе профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-298">The VM names that are specified in the file should be the same as the VM names on the vCenter server/vSphere ESXi host, and match what was used during profiling.</span></span>|
| <span data-ttu-id="4c0ad-299">-Directory</span><span class="sxs-lookup"><span data-stu-id="4c0ad-299">-Directory</span></span> | <span data-ttu-id="4c0ad-300">(Необязательно.) UNC-путь или путь к локальному каталогу, в котором хранятся данные профилирования (файлы, созданные в процессе профилирования).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-300">(Optional) The UNC or local directory path where the profiled data (files generated during profiling) is stored.</span></span> <span data-ttu-id="4c0ad-301">Эти данные используются для создания отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-301">This data is required for generating the report.</span></span> <span data-ttu-id="4c0ad-302">Если имя не указано, используется каталог ProfiledData.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-302">If a name isn't specified, ‘ProfiledData’ directory will be used.</span></span> |
| <span data-ttu-id="4c0ad-303">-GoalToCompleteIR</span><span class="sxs-lookup"><span data-stu-id="4c0ad-303">-GoalToCompleteIR</span></span> | <span data-ttu-id="4c0ad-304">(Необязательно.) Время (в часах), необходимое для завершения начальной репликации профилированных виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-304">(Optional) The number of hours in which the initial replication of the profiled VMs needs to be completed.</span></span> <span data-ttu-id="4c0ad-305">В созданном отчете содержатся сведения о количестве виртуальных машин, репликацию которых можно выполнить в течение указанного времени.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-305">The generated report provides the number of VMs for which initial replication can be completed in the specified time.</span></span> <span data-ttu-id="4c0ad-306">По умолчанию — 72 часа.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-306">The default is 72 hours.</span></span> |
| <span data-ttu-id="4c0ad-307">-User</span><span class="sxs-lookup"><span data-stu-id="4c0ad-307">-User</span></span> | <span data-ttu-id="4c0ad-308">(Необязательно.) Имя пользователя, используемое для подключения к серверу vCenter Server или vSphere.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-308">(Optional) The user name to use to connect to the vCenter/vSphere server.</span></span> <span data-ttu-id="4c0ad-309">Имя используется для получения последних сведений о конфигурации виртуальных машин, например о количестве дисков, ядер, сетевых карт и т. д., используемых в отчете.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-309">The name is used to fetch the latest configuration information of the VMs, such as the number of disks, number of cores, and number of NICs, to use in the report.</span></span> <span data-ttu-id="4c0ad-310">Если не указать имя, используются сведения о конфигурации, полученные в начале профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-310">If the name isn't provided, the configuration information collected at the beginning of the profiling kickoff is used.</span></span> |
| <span data-ttu-id="4c0ad-311">-Password</span><span class="sxs-lookup"><span data-stu-id="4c0ad-311">-Password</span></span> | <span data-ttu-id="4c0ad-312">(Необязательно.) Пароль, используемый для подключения к серверу vCenter Server или узлу vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-312">(Optional) The password to use to connect to the vCenter server/vSphere ESXi host.</span></span> <span data-ttu-id="4c0ad-313">Если не указать его в качестве параметра, запрос на ввод пароля отобразится позже после выполнения команды.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-313">If the password isn't specified as a parameter, you will be prompted for it later when the command is executed.</span></span> |
| <span data-ttu-id="4c0ad-314">-DesiredRPO</span><span class="sxs-lookup"><span data-stu-id="4c0ad-314">-DesiredRPO</span></span> | <span data-ttu-id="4c0ad-315">(Необязательно.) Требуемая целевая точка восстановления в минутах.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-315">(Optional) The desired recovery point objective, in minutes.</span></span> <span data-ttu-id="4c0ad-316">Значение по умолчанию — 15 минут.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-316">The default is 15 minutes.</span></span>|
| <span data-ttu-id="4c0ad-317">-Bandwidth</span><span class="sxs-lookup"><span data-stu-id="4c0ad-317">-Bandwidth</span></span> | <span data-ttu-id="4c0ad-318">Пропускная способность в Мбит/с.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-318">Bandwidth in Mbps.</span></span> <span data-ttu-id="4c0ad-319">Этот параметр используется для вычисления значения целевой точки восстановления, которого можно достигнуть для указанной пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-319">The parameter to use to calculate the RPO that can be achieved for the specified bandwidth.</span></span> |
| <span data-ttu-id="4c0ad-320">-StartDate</span><span class="sxs-lookup"><span data-stu-id="4c0ad-320">-StartDate</span></span> | <span data-ttu-id="4c0ad-321">(Необязательно.) Дата и время начала в формате ММ-ДД-ГГГГ:ЧЧ:ММ (24-часовой цикл).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-321">(Optional) The start date and time in MM-DD-YYYY:HH:MM (24-hour format).</span></span> <span data-ttu-id="4c0ad-322">Параметр *StartDate* необходимо указать с параметром *EndDate*.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-322">*StartDate* must be specified along with *EndDate*.</span></span> <span data-ttu-id="4c0ad-323">Если указать параметр StartDate, отчет будет создан на основе данных, собранных в период между датой начала и окончания.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-323">When StartDate is specified, the report is generated for the profiled data that's collected between StartDate and EndDate.</span></span> |
| <span data-ttu-id="4c0ad-324">-EndDate</span><span class="sxs-lookup"><span data-stu-id="4c0ad-324">-EndDate</span></span> | <span data-ttu-id="4c0ad-325">(Необязательно.) Дата и время окончания в формате ММ-ДД-ГГГГ:ЧЧ:ММ (24-часовой цикл).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-325">(Optional) The end date and time in MM-DD-YYYY:HH:MM (24-hour format).</span></span> <span data-ttu-id="4c0ad-326">Параметр *EndDate* необходимо указать с параметром *StartDate*.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-326">*EndDate* must be specified along with *StartDate*.</span></span> <span data-ttu-id="4c0ad-327">Если указать параметр EndDate, отчет будет создан на основе данных, собранных в период между датой начала и окончания.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-327">When EndDate is specified, the report is generated for the profiled data that's collected between StartDate and EndDate.</span></span> |
| <span data-ttu-id="4c0ad-328">-GrowthFactor</span><span class="sxs-lookup"><span data-stu-id="4c0ad-328">-GrowthFactor</span></span> | <span data-ttu-id="4c0ad-329">(Необязательно.) Коэффициент роста в процентах.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-329">(Optional) The growth factor, expressed as a percentage.</span></span> <span data-ttu-id="4c0ad-330">Значение по умолчанию — 30 процентов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-330">The default is 30 percent.</span></span> |
| <span data-ttu-id="4c0ad-331">-UseManagedDisks</span><span class="sxs-lookup"><span data-stu-id="4c0ad-331">-UseManagedDisks</span></span> | <span data-ttu-id="4c0ad-332">(Необязательно) UseManagedDisks — "Да" или "Нет".</span><span class="sxs-lookup"><span data-stu-id="4c0ad-332">(Optional) UseManagedDisks - Yes/No.</span></span> <span data-ttu-id="4c0ad-333">Значение по умолчанию — "Да".</span><span class="sxs-lookup"><span data-stu-id="4c0ad-333">Default is Yes.</span></span> <span data-ttu-id="4c0ad-334">Число виртуальных машин, которые можно разместить в одной учетной записи хранения, вычисляется с учетом того, где выполняется отработка отказа или тестовая отработка отказа виртуальных машин — на управляемом или на неуправляемом диске.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-334">The number of virtual machines that can be placed into a single storage account is calculated considering whether Failover/Test failover of virtual machines is done on managed disk instead of unmanaged disk.</span></span> |

#### <a name="example-1-generate-a-report-with-default-values-when-the-profiled-data-is-on-the-local-drive"></a><span data-ttu-id="4c0ad-335">Пример 1. Создание отчета со значениями по умолчанию, когда данные профилирования находятся на локальном диске</span><span class="sxs-lookup"><span data-stu-id="4c0ad-335">Example 1: Generate a report with default values when the profiled data is on the local drive</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “\\PS1-W2K12R2\vCenter1_ProfiledData” -VMListFile “\\PS1-W2K12R2\vCenter1_ProfiledData\ProfileVMList1.txt”
```

#### <a name="example-2-generate-a-report-when-the-profiled-data-is-on-a-remote-server"></a><span data-ttu-id="4c0ad-336">Пример 2. Создание отчета, когда данные профилирования находятся на удаленном сервере</span><span class="sxs-lookup"><span data-stu-id="4c0ad-336">Example 2: Generate a report when the profiled data is on a remote server</span></span>
<span data-ttu-id="4c0ad-337">У вас должен быть доступ на чтение и запись к удаленному каталогу.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-337">You should have read/write access on the remote directory.</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “\\PS1-W2K12R2\vCenter1_ProfiledData” -VMListFile “\\PS1-W2K12R2\vCenter1_ProfiledData\ProfileVMList1.txt”
```

#### <a name="example-3-generate-a-report-with-a-specific-bandwidth-and-goal-to-complete-ir-within-specified-time"></a><span data-ttu-id="4c0ad-338">Пример 3. Создание отчета с определенной пропускной способностью для выполнения начальной репликации в указанный интервал времени</span><span class="sxs-lookup"><span data-stu-id="4c0ad-338">Example 3: Generate a report with a specific bandwidth and goal to complete IR within specified time</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “E:\vCenter1_ProfiledData” -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt” -Bandwidth 100 -GoalToCompleteIR 24
```

#### <a name="example-4-generate-a-report-with-a-5-percent-growth-factor-instead-of-the-default-30-percent"></a><span data-ttu-id="4c0ad-339">Пример 4. Создание отчета с коэффициентом роста 5 %, а не 30 % (значение по умолчанию)</span><span class="sxs-lookup"><span data-stu-id="4c0ad-339">Example 4: Generate a report with a 5 percent growth factor instead of the default 30 percent</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “E:\vCenter1_ProfiledData” -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt” -GrowthFactor 5
```

#### <a name="example-5-generate-a-report-with-a-subset-of-profiled-data"></a><span data-ttu-id="4c0ad-340">Пример 5. Создание отчета с подмножеством данных профилирования</span><span class="sxs-lookup"><span data-stu-id="4c0ad-340">Example 5: Generate a report with a subset of profiled data</span></span>
<span data-ttu-id="4c0ad-341">Например, у вас есть данные профилирования за 30 дней, но вы хотите создать отчет только за 20 дней.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-341">For example, you have 30 days of profiled data and want to generate a report for only 20 days.</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “E:\vCenter1_ProfiledData” -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt” -StartDate  01-10-2017:12:30 -EndDate 01-19-2017:12:30
```

#### <a name="example-6-generate-a-report-for-5-minute-rpo"></a><span data-ttu-id="4c0ad-342">Пример 6. Создание отчета для 5-минутной целевой точки восстановления</span><span class="sxs-lookup"><span data-stu-id="4c0ad-342">Example 6: Generate a report for 5-minute RPO</span></span>
```
ASRDeploymentPlanner.exe -Operation GenerateReport -Server vCenter1.contoso.com -Directory “E:\vCenter1_ProfiledData” -VMListFile “E:\vCenter1_ProfiledData\ProfileVMList1.txt”  -DesiredRPO 5
```

## <a name="percentile-value-used-for-the-calculation"></a><span data-ttu-id="4c0ad-343">Значение процентиля, используемое для вычисления</span><span class="sxs-lookup"><span data-stu-id="4c0ad-343">Percentile value used for the calculation</span></span>
<span data-ttu-id="4c0ad-344">**Значение какого процентиля метрик производительности, собранных во время профилирования, по умолчанию использует планировщик при создании отчета?**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-344">**What default percentile value of the performance metrics collected during profiling does the tool use when it generates a report?**</span></span>

<span data-ttu-id="4c0ad-345">По умолчанию планировщик использует значения 95-го процентиля числа операций записи и чтения на диск в секунду, числа операций вода-вывода в секунду при записи и активности обработки данных, собранных во время профилирования всех виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-345">The tool defaults to the 95th percentile values of read/write IOPS, write IOPS, and data churn that are collected during profiling of all the VMs.</span></span> <span data-ttu-id="4c0ad-346">Это гарантирует, что для определения требований к пропускной способности учетной записи хранения и целевой службы не будут использоваться пиковые значения 100-го процентиля, которые могут возникать на виртуальной машине из-за временных событий,</span><span class="sxs-lookup"><span data-stu-id="4c0ad-346">This metric ensures that the 100th percentile spike your VMs might see because of temporary events is not used to determine your target storage-account and source-bandwidth requirements.</span></span> <span data-ttu-id="4c0ad-347">например из-за выполнения задания архивации раз в день, периодического индексирования базы данных, создания аналитического отчета или какого-либо другого кратковременного события, происходящего в определенный момент времени.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-347">For example, a temporary event might be a backup job running once a day, a periodic database indexing or analytics report-generation activity, or other similar short-lived, point-in-time events.</span></span>

<span data-ttu-id="4c0ad-348">При использовании значений 95-го процентиля вы получите точные сведения об особенностях рабочей нагрузки, что, в свою очередь, позволяет обеспечить наилучшую производительность при выполнении этих рабочих нагрузок в Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-348">Using 95th percentile values gives a true picture of real workload characteristics, and it gives you the best performance when the workloads are running on Azure.</span></span> <span data-ttu-id="4c0ad-349">Мы не рекомендуем изменять это значение,</span><span class="sxs-lookup"><span data-stu-id="4c0ad-349">We do not anticipate that you would need to change this number.</span></span> <span data-ttu-id="4c0ad-350">но если вы решили сделать это, например изменить на 90-й процентиль, обновите файл конфигурации *ASRDeploymentPlanner.exe.config*, который находится в каталоге по умолчанию, а затем сохраните этот файл, чтобы создать отчет на основе имеющихся данных профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-350">If you do change the value (to the 90th percentile, for example), you can update the configuration file *ASRDeploymentPlanner.exe.config* in the default folder and save it to generate a new report on the existing profiled data.</span></span>
```
<add key="WriteIOPSPercentile" value="95" />      
<add key="ReadWriteIOPSPercentile" value="95" />      
<add key="DataChurnPercentile" value="95" />
```

## <a name="growth-factor-considerations"></a><span data-ttu-id="4c0ad-351">Рекомендации по коэффициенту роста</span><span class="sxs-lookup"><span data-stu-id="4c0ad-351">Growth-factor considerations</span></span>
<span data-ttu-id="4c0ad-352">**Почему следует учитывать коэффициент роста при планировании развертывания?**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-352">**Why should I consider growth factor when I plan deployments?**</span></span>

<span data-ttu-id="4c0ad-353">Крайне важно учитывать расширение характеристик рабочей нагрузки при увеличении шаблона использования с течением времени.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-353">It is critical to account for growth in your workload characteristics, assuming a potential increase in usage over time.</span></span> <span data-ttu-id="4c0ad-354">После установки защиты виртуальной машины изменяются характеристики рабочей нагрузки. Сейчас невозможно переключиться на другую учетную запись хранения Azure, не отключая защиту.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-354">After protection is in place, if your workload characteristics change, you cannot switch to a different storage account for protection without disabling and re-enabling the protection.</span></span>

<span data-ttu-id="4c0ad-355">Например, сейчас виртуальная машина находится в учетной записи репликации хранилища класса Standard.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-355">For example, let's say that today your VM fits in a standard storage replication account.</span></span> <span data-ttu-id="4c0ad-356">За следующие три месяца произошли некоторые изменения:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-356">Over the next three months, several changes are likely to occur:</span></span>

* <span data-ttu-id="4c0ad-357">Увеличилось количество пользователей приложения, запущенного на этой виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-357">The number of users of the application that runs on the VM will increase.</span></span>
* <span data-ttu-id="4c0ad-358">Объем данных на ней вырос, и из-за этого вам потребуется перейти на хранилище класса Premium. Это позволит Site Recovery обрабатывать еще больший объем данных во время репликации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-358">The resulting increased churn on the VM will require the VM to go to premium storage so that Site Recovery replication can keep pace.</span></span>
* <span data-ttu-id="4c0ad-359">Для этого вам потребуется отключить защиту, а затем повторно включить ее в учетной записи хранения уровня Premium.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-359">Consequently, you will have to disable and re-enable protection to a premium storage account.</span></span>

<span data-ttu-id="4c0ad-360">Поэтому мы настоятельно рекомендуем спланировать рост во время планирования развертывания. По умолчанию коэффициент роста составляет 30 %.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-360">We strongly recommend that you plan for growth during deployment planning and while the default value is 30 percent.</span></span> <span data-ttu-id="4c0ad-361">Вы знаете шаблон использования ваших приложений и можете оценить рост их использования. Измените этот коэффициент соответствующим образом при создании отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-361">You are the expert on your application usage pattern and growth projections, and you can change this number accordingly while generating a report.</span></span> <span data-ttu-id="4c0ad-362">Кроме того, вы можете создать несколько отчетов с разными коэффициентами роста на основе тех же данных профилирования и оценить, какие рекомендации по пропускной способности источника данных и целевого хранилища лучше всего соответствуют вашим требованиям.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-362">Moreover, you can  generate multiple reports with various growth factors with the same profiled data and determine what target storage and source bandwidth recommendations work best for you.</span></span>

<span data-ttu-id="4c0ad-363">Созданный отчет Microsoft Excel содержит следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-363">The generated Microsoft Excel report contains the following information:</span></span>

* [<span data-ttu-id="4c0ad-364">Входные данные</span><span class="sxs-lookup"><span data-stu-id="4c0ad-364">Input</span></span>](site-recovery-deployment-planner.md#input)
* <span data-ttu-id="4c0ad-365">[рекомендации](site-recovery-deployment-planner.md#recommendations-with-desired-rpo-as-input);</span><span class="sxs-lookup"><span data-stu-id="4c0ad-365">[Recommendations](site-recovery-deployment-planner.md#recommendations-with-desired-rpo-as-input)</span></span>
* <span data-ttu-id="4c0ad-366">[рекомендации по вводу значения пропускной способности](site-recovery-deployment-planner.md#recommendations-with-available-bandwidth-as-input);</span><span class="sxs-lookup"><span data-stu-id="4c0ad-366">[Recommendations-Bandwidth Input](site-recovery-deployment-planner.md#recommendations-with-available-bandwidth-as-input)</span></span>
* [<span data-ttu-id="4c0ad-367">Размещение хранилища виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-367">VM<->Storage Placement</span></span>](site-recovery-deployment-planner.md#vm-storage-placement)
* [<span data-ttu-id="4c0ad-368">Совместимые виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-368">Compatible VMs</span></span>](site-recovery-deployment-planner.md#compatible-vms)
* [<span data-ttu-id="4c0ad-369">Несовместимые виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-369">Incompatible VMs</span></span>](site-recovery-deployment-planner.md#incompatible-vms)

![Планировщик ресурсов](./media/site-recovery-deployment-planner/dp-report.png)

## <a name="get-throughput"></a><span data-ttu-id="4c0ad-371">Оценка пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-371">Get throughput</span></span>

<span data-ttu-id="4c0ad-372">Чтобы оценить пропускную способность, которой Site Recovery может достигнуть при репликации данных из локальной среды в Azure, запустите программу в режиме GetThroughput.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-372">To estimate the throughput that Site Recovery can achieve from on-premises to Azure during replication, run the tool in GetThroughput mode.</span></span> <span data-ttu-id="4c0ad-373">Планировщик вычисляет пропускную способность на сервере, где он запущен.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-373">The tool calculates the throughput from the server that the tool is running on.</span></span> <span data-ttu-id="4c0ad-374">В идеале используется сервер, конфигурация оборудования которого соответствует рекомендациям по размеру сервера конфигурации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-374">Ideally, this server is based on the configuration server sizing guide.</span></span> <span data-ttu-id="4c0ad-375">Если вы уже развернули компоненты инфраструктуры Site Recovery в локальной среде, запустите эту программу на сервере конфигурации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-375">If you have already deployed Site Recovery infrastructure components on-premises, run the tool on the configuration server.</span></span>

<span data-ttu-id="4c0ad-376">Откройте консоль командной строки и перейдите в папку планировщика ресурсов Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-376">Open a command-line console, and go to the Site Recovery deployment planning tool folder.</span></span> <span data-ttu-id="4c0ad-377">Запустите ASRDeploymentPlanner.exe с указанными ниже параметрами.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-377">Run ASRDeploymentPlanner.exe with following parameters.</span></span>

`ASRDeploymentPlanner.exe -Operation GetThroughput /?`

|<span data-ttu-id="4c0ad-378">Имя параметра</span><span class="sxs-lookup"><span data-stu-id="4c0ad-378">Parameter name</span></span> | <span data-ttu-id="4c0ad-379">Описание</span><span class="sxs-lookup"><span data-stu-id="4c0ad-379">Description</span></span> |
|-|-|
| <span data-ttu-id="4c0ad-380">-Operation</span><span class="sxs-lookup"><span data-stu-id="4c0ad-380">-Operation</span></span> | <span data-ttu-id="4c0ad-381">Оценка пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-381">GetThroughput</span></span> |
| <span data-ttu-id="4c0ad-382">-Directory</span><span class="sxs-lookup"><span data-stu-id="4c0ad-382">-Directory</span></span> | <span data-ttu-id="4c0ad-383">(Необязательно.) UNC-путь или путь к локальному каталогу, в котором хранятся данные профилирования (файлы, созданные в процессе профилирования).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-383">(Optional) The UNC or local directory path where the profiled data (files generated during profiling) is stored.</span></span> <span data-ttu-id="4c0ad-384">Эти данные используются для создания отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-384">This data is required for generating the report.</span></span> <span data-ttu-id="4c0ad-385">Если имя каталога не указано, используется каталог ProfiledData.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-385">If a directory name is not specified, ‘ProfiledData’ directory is used.</span></span> |
| <span data-ttu-id="4c0ad-386">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="4c0ad-386">-StorageAccountName</span></span> | <span data-ttu-id="4c0ad-387">Имя учетной записи хранения, используемой для определения пропускной способности, необходимой для репликации данных из локальной среды в Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-387">The storage-account name that's used to find the bandwidth consumed for replication of data from on-premises to Azure.</span></span> <span data-ttu-id="4c0ad-388">Программа отправляет тестовые данные в эту учетную запись хранения, чтобы рассчитать используемую пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-388">The tool uploads test data to this storage account to find the bandwidth consumed.</span></span> |
| <span data-ttu-id="4c0ad-389">-StorageAccountKey</span><span class="sxs-lookup"><span data-stu-id="4c0ad-389">-StorageAccountKey</span></span> | <span data-ttu-id="4c0ad-390">Ключ, используемый для доступа к учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-390">The storage-account key that's used to access the storage account.</span></span> <span data-ttu-id="4c0ad-391">Перейдите на портал Azure и выберите "Учетные записи хранения > *имя_учетной записи_хранения* > Параметры > Ключи доступа > Ключ 1" (или первичный ключ доступа для классической учетной записи хранения).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-391">Go to the Azure portal > Storage accounts > <*Storage account name*> > Settings > Access Keys > Key1 (or a primary access key for a classic storage account).</span></span> |
| <span data-ttu-id="4c0ad-392">-VMListFile</span><span class="sxs-lookup"><span data-stu-id="4c0ad-392">-VMListFile</span></span> | <span data-ttu-id="4c0ad-393">Файл со списком виртуальных машин, профилирование которых необходимо выполнить, для расчета используемой пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-393">The file that contains the list of VMs to be profiled for calculating the bandwidth consumed.</span></span> <span data-ttu-id="4c0ad-394">Путь к файлу может быть абсолютным или относительным.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-394">The file path can be absolute or relative.</span></span> <span data-ttu-id="4c0ad-395">Этот файл должен содержать по одному имени или IP-адресу виртуальной машины в каждой строке.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-395">The file should contain one VM name/IP address per line.</span></span> <span data-ttu-id="4c0ad-396">Имена виртуальных машин, указанные в файле, должны совпадать с именами виртуальных машин на сервере vCenter Server или узле vSphere ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-396">The VM names specified in the file should be the same as the VM names on the vCenter server/vSphere ESXi host.</span></span><br><span data-ttu-id="4c0ad-397">Например, файл VMList.txt содержит следующие виртуальные машины:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-397">For example, the file VMList.txt contains the following VMs:</span></span><ul><li><span data-ttu-id="4c0ad-398">VM_A;</span><span class="sxs-lookup"><span data-stu-id="4c0ad-398">VM_A</span></span></li><li><span data-ttu-id="4c0ad-399">10.150.29.110</span><span class="sxs-lookup"><span data-stu-id="4c0ad-399">10.150.29.110</span></span></li><li><span data-ttu-id="4c0ad-400">VM_B.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-400">VM_B</span></span></li></ul>|
| <span data-ttu-id="4c0ad-401">-Environment</span><span class="sxs-lookup"><span data-stu-id="4c0ad-401">-Environment</span></span> | <span data-ttu-id="4c0ad-402">(необязательно) Это целевая среда учетной записи хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-402">(optional) This is your target Azure Storage account environment.</span></span> <span data-ttu-id="4c0ad-403">Этот параметр может иметь одно из трех значений: AzureCloud, AzureUSGovernment, AzureChinaCloud.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-403">This can be one of three values - AzureCloud,AzureUSGovernment, AzureChinaCloud.</span></span> <span data-ttu-id="4c0ad-404">Значение по умолчанию — AzureCloud.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-404">Default is AzureCloud.</span></span> <span data-ttu-id="4c0ad-405">Используйте этот параметр, если ваш целевой регион Azure — Azure для государственных организаций США или Azure для Китая.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-405">Use the parameter when your target Azure region is either Azure US Government or Azure China clouds.</span></span> |

<span data-ttu-id="4c0ad-406">Планировщик создает в указанном каталоге несколько файлов asrvhdfile<#>.vhd емкостью 64 МБ (# — число),</span><span class="sxs-lookup"><span data-stu-id="4c0ad-406">The tool creates several 64-MB asrvhdfile<#>.vhd files (where "#" is the number of files) on the specified directory.</span></span> <span data-ttu-id="4c0ad-407">а затем передает их в учетную запись хранения для определения пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-407">The tool uploads the files to the storage account to find the throughput.</span></span> <span data-ttu-id="4c0ad-408">После измерения пропускной способности он удаляет эти файлы из учетной записи хранения и с локального сервера.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-408">After the throughput is measured, the tool deletes all the files from the storage account and from the local server.</span></span> <span data-ttu-id="4c0ad-409">Если программа по каким-либо причинам прерывает работу, не завершив оценку пропускной способности, она не удаляет файлы.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-409">If the tool is terminated for any reason while it is calculating throughput, it doesn't delete the files from the storage or from the local server.</span></span> <span data-ttu-id="4c0ad-410">Их необходимо удалить вручную.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-410">You will have to delete them manually.</span></span>

<span data-ttu-id="4c0ad-411">Пропускная способность измеряется в определенный момент времени. Это максимальная пропускная способность, которой может достигнуть Site Recovery во время репликации (при условии, что все остальные факторы не изменяются).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-411">The throughput is measured at a specified point in time, and it is the maximum throughput that Site Recovery can achieve during replication, provided that all other factors remain the same.</span></span> <span data-ttu-id="4c0ad-412">Например, если любое приложение начинает использовать больший объем пропускной способности сети, тогда фактическая пропускная способность меняется во время репликации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-412">For example, if any application starts consuming more bandwidth on the same network, the actual throughput varies during replication.</span></span> <span data-ttu-id="4c0ad-413">При выполнении команды GetThroughput на сервере конфигурации планировщик не учитывает все защищенные виртуальные машины и непрерывную репликацию.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-413">If you are running the GetThroughput command from a configuration server, the tool is unaware of any protected VMs and ongoing replication.</span></span> <span data-ttu-id="4c0ad-414">Если выполнить команду GetThroughput на защищенных виртуальных машинах с активной обработкой данных, результаты измерения пропускной способности будут отличаться.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-414">The result of the measured throughput is different if the GetThroughput operation is run when the protected VMs have high data churn.</span></span> <span data-ttu-id="4c0ad-415">Мы рекомендуем запустить программу несколько раз во время профилирования, чтобы оценить, какой пропускной способности можно достигнуть в разные моменты времени.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-415">We recommend that you run the tool at various points in time during profiling to understand what throughput levels can be achieved at various times.</span></span> <span data-ttu-id="4c0ad-416">В отчете планировщик отображает последнюю измеренную пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-416">In the report, the tool shows the last measured throughput.</span></span>

### <a name="example"></a><span data-ttu-id="4c0ad-417">Пример</span><span class="sxs-lookup"><span data-stu-id="4c0ad-417">Example</span></span>
```
ASRDeploymentPlanner.exe -Operation GetThroughput -Directory  E:\vCenter1_ProfiledData -VMListFile E:\vCenter1_ProfiledData\ProfileVMList1.txt  -StorageAccountName  asrspfarm1 -StorageAccountKey by8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==
```

>[!NOTE]
>
> <span data-ttu-id="4c0ad-418">Запустите программу на сервере с такими же характеристиками хранилища и ЦП, что и на сервере конфигурации.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-418">Run the tool on a server that has the same storage and CPU characteristics as the configuration server.</span></span>
>
> <span data-ttu-id="4c0ad-419">При выполнении репликации установите рекомендуемый объем пропускной способности, необходимый для соблюдения требований к RPO в 100 % случаев.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-419">For replication, set the recommended bandwidth to meet the RPO 100 percent of the time.</span></span> <span data-ttu-id="4c0ad-420">Если после установки достаточной пропускной способности результаты в отчете не улучшились, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-420">After you set the right bandwidth, if you don’t see an increase in the achieved throughput reported by the tool, do the following:</span></span>
>
>  1. <span data-ttu-id="4c0ad-421">Проверьте наличие требований к качеству обслуживания сети, которые ограничивают пропускную способность Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-421">Check to determine whether there is any network Quality of Service (QoS) that is limiting Site Recovery throughput.</span></span>
>
>  2. <span data-ttu-id="4c0ad-422">Проверьте, находится ли хранилище Site Recovery в ближайшем поддерживаемом физическом регионе Microsoft Azure, чтобы минимизировать сетевые задержки.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-422">Check to determine whether your Site Recovery vault is in the nearest physically supported Microsoft Azure region to minimize network latency.</span></span>
>
>  3. <span data-ttu-id="4c0ad-423">Проверьте характеристики локального хранилища, чтобы определить, можно ли улучшить оборудование (например, замените жесткие диски на твердотельные).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-423">Check your local storage characteristics to determine whether you can improve the hardware (for example, HDD to SSD).</span></span>
>
>  4. <span data-ttu-id="4c0ad-424">Измените параметры Site Recovery на сервере обработки, чтобы [увеличить объем пропускной способности сети, необходимой для репликации](./site-recovery-plan-capacity-vmware.md#control-network-bandwidth).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-424">Change the Site Recovery settings in the process server to [increase the amount of network bandwidth used for replication](./site-recovery-plan-capacity-vmware.md#control-network-bandwidth).</span></span>

## <a name="recommendations-with-desired-rpo-as-input"></a><span data-ttu-id="4c0ad-425">Рекомендации относительно требуемого значения RPO</span><span class="sxs-lookup"><span data-stu-id="4c0ad-425">Recommendations with desired RPO as input</span></span>

### <a name="profiled-data"></a><span data-ttu-id="4c0ad-426">Данные профилирования</span><span class="sxs-lookup"><span data-stu-id="4c0ad-426">Profiled data</span></span>

![Представления данных профилирования в планировщике ресурсов](./media/site-recovery-deployment-planner/profiled-data-period.png)

<span data-ttu-id="4c0ad-428">**Profiled data period** (Период профилирования данных) — длительность выполнения профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-428">**Profiled data period**: The period during which the profiling was run.</span></span> <span data-ttu-id="4c0ad-429">По умолчанию программа использует для вычисления все данные профилирования, за исключением случаев, когда создается отчет для определенного периода времени с использованием параметров StartDate и EndDate.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-429">By default, the tool includes all profiled data in the calculation, unless it generates the report for a specific period by using StartDate and EndDate options during report generation.</span></span>

<span data-ttu-id="4c0ad-430">**Имя сервера** — имя или IP-адрес сервера VMware vCenter Server или узла ESXi, для виртуальных машин которого создается отчет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-430">**Server Name**: The name or IP address of the VMware vCenter or ESXi host whose VMs’ report is generated.</span></span>

<span data-ttu-id="4c0ad-431">**Desired RPO** (Требуемое значение RPO) — значение целевой точки восстановления для развертывания.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-431">**Desired RPO**: The recovery point objective for your deployment.</span></span> <span data-ttu-id="4c0ad-432">По умолчанию необходимая пропускная способность рассчитывается для значений RPO, равных 15, 30 и 60 минутам.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-432">By default, the required network bandwidth is calculated for RPO values of 15, 30, and 60 minutes.</span></span> <span data-ttu-id="4c0ad-433">В зависимости от выбора в отчете обновляются затронутые значения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-433">Based on the selection, the affected values are updated on the sheet.</span></span> <span data-ttu-id="4c0ad-434">Если во время создания отчета вы использовали параметр *DesiredRPOinMin*, это значение отображается в результатах по параметру Desired RPO (Требуемое значение RPO).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-434">If you have used the *DesiredRPOinMin* parameter while generating the report, that value is shown in the Desired RPO result.</span></span>

### <a name="profiling-overview"></a><span data-ttu-id="4c0ad-435">Общие сведения о профилировании</span><span class="sxs-lookup"><span data-stu-id="4c0ad-435">Profiling overview</span></span>

![Результаты профилирования в планировщике ресурсов](./media/site-recovery-deployment-planner/profiling-overview.png)

<span data-ttu-id="4c0ad-437">**Total Profiled Virtual Machines** (Общее число профилированных виртуальных машин) — общее количество виртуальных машин, данные профилирования которых доступны.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-437">**Total Profiled Virtual Machines**: The total number of VMs whose profiled data is available.</span></span> <span data-ttu-id="4c0ad-438">Если в качестве значений параметра VMListFile заданы виртуальные машины, профилирование которых не выполнялось, они не учитываются при создании отчета и исключаются из общего числа профилированных виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-438">If the VMListFile has names of any VMs which were not profiled, those VMs are not considered in the report generation and are excluded from the total profiled VMs count.</span></span>

<span data-ttu-id="4c0ad-439">**Compatible Virtual Machines** (Совместимые виртуальные машины) — число виртуальных машин, которые можно защитить с помощью Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-439">**Compatible Virtual Machines**: The number of VMs that can be protected to Azure by using Site Recovery.</span></span> <span data-ttu-id="4c0ad-440">Это общее число совместимых виртуальных машин, использующих пропускную способность сети, а также необходимое число учетных записей хранения, ядер Azure, серверов конфигурации и дополнительных серверов обработки.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-440">It is the total number of compatible VMs for which the required network bandwidth, number of storage accounts, number of Azure cores, and number of configuration servers and additional process servers are calculated.</span></span> <span data-ttu-id="4c0ad-441">Сведения о каждой совместимой виртуальной машине см. в соответствующем разделе.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-441">The details of every compatible VM are available in the "Compatible VMs" section.</span></span>

<span data-ttu-id="4c0ad-442">**Incompatible Virtual Machines** (Несовместимые виртуальные машины) — число виртуальных машин, которые нельзя защитить с помощью Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-442">**Incompatible Virtual Machines**: The number of profiled VMs that are incompatible for protection with Site Recovery.</span></span> <span data-ttu-id="4c0ad-443">Причины несовместимости см. в разделе "Несовместимые виртуальные машины".</span><span class="sxs-lookup"><span data-stu-id="4c0ad-443">The reasons for incompatibility are noted in the "Incompatible VMs" section.</span></span> <span data-ttu-id="4c0ad-444">Если в качестве значений параметра VMListFile заданы виртуальные машины, профилирование которых не выполнялось, они исключаются из общего числа несовместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-444">If the VMListFile has names of any VMs that were not profiled, those VMs are excluded from the incompatible VMs count.</span></span> <span data-ttu-id="4c0ad-445">Эти виртуальные машины перечислены в списке Data not found (Данные не найдены) в нижней части раздела Incompatible Virtual Machines (Несовместимые виртуальные машины).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-445">These VMs are listed as "Data not found" at the end of the "Incompatible VMs" section.</span></span>

<span data-ttu-id="4c0ad-446">**Desired RPO** (Требуемое значение RPO) — требуемая целевая точка восстановления в минутах.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-446">**Desired RPO**: Your desired recovery point objective, in minutes.</span></span> <span data-ttu-id="4c0ad-447">Отчет создается на основе трех значений RPO: 15, 30 и 60 минут.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-447">The report is generated for three RPO values: 15 (default), 30, and 60 minutes.</span></span> <span data-ttu-id="4c0ad-448">Рекомендации относительно пропускной способности изменяются в отчете в зависимости от значения, выбранного в раскрывающемся списке Desired RPO (Требуемое значение RPO). Этот список расположен в верхнем правом углу страницы.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-448">The bandwidth recommendation in the report is changed based on your selection in the Desired RPO drop-down list at the top right of the sheet.</span></span> <span data-ttu-id="4c0ad-449">Если при создании отчета вы использовали другое значение параметра *-DesiredRPO*, оно будет отображаться в этом раскрывающемся списке в качестве значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-449">If you have generated the report by using the *-DesiredRPO* parameter with a custom value, this custom value will show as the default in the Desired RPO drop-down list.</span></span>

### <a name="required-network-bandwidth-mbps"></a><span data-ttu-id="4c0ad-450">Требуемая пропускная способность сети (Мбит/с)</span><span class="sxs-lookup"><span data-stu-id="4c0ad-450">Required network bandwidth (Mbps)</span></span>

![Требуемая пропускная способность сети в планировщике ресурсов](./media/site-recovery-deployment-planner/required-network-bandwidth.png)

<span data-ttu-id="4c0ad-452">**To meet RPO 100 percent of the time** (Соблюдение требований к RPO 100 % времени). Рекомендуемая пропускная способность (в Мбит/с), необходимая для соблюдения требований к RPO в 100 % случаев.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-452">**To meet RPO 100 percent of the time:** The recommended bandwidth in Mbps to be allocated to meet your desired RPO 100 percent of the time.</span></span> <span data-ttu-id="4c0ad-453">Это объем пропускной способности, необходимый для разностной репликации в устойчивом состоянии всех совместимых виртуальных машин, чтобы избежать каких-либо нарушений требований к RPO.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-453">This amount of bandwidth must be dedicated for steady-state delta replication of all your compatible VMs to avoid any RPO violations.</span></span>

<span data-ttu-id="4c0ad-454">**To meet RPO 90 percent of the time** (Соблюдение требований к RPO 90 % времени). Из-за цены на высокоскоростное подключение или по какой-либо другой причине, когда вы не можете установить объем пропускной способности, необходимый для соблюдения требований к RPO в 100 % случаев, вы можете установить меньший объем пропускной способности, необходимый для соблюдения требований к RPO в 90 % случаев.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-454">**To meet RPO 90 percent of the time**: Because of broadband pricing or for any other reason, if you cannot set the bandwidth needed to meet your desired RPO 100 percent of the time, you can choose to go with a lower bandwidth setting that can meet your desired RPO 90 percent of the time.</span></span> <span data-ttu-id="4c0ad-455">Чтобы оценить влияние установки меньшего объема, в отчете можно просмотреть сведения о возможном количестве нарушений требований к RPO и их продолжительности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-455">To understand the implications of setting this lower bandwidth, the report provides a what-if analysis on the number and duration of RPO violations to expect.</span></span>

<span data-ttu-id="4c0ad-456">**Achieved Throughput** (Достигнутая пропускная способность) — это пропускная способность сервера, на котором вы выполнили команду GetThroughput, доступная для региона Microsoft Azure, где расположена учетная запись хранения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-456">**Achieved Throughput:** The throughput from the server on which you have run the GetThroughput command to the Microsoft Azure region where the storage account is located.</span></span> <span data-ttu-id="4c0ad-457">Это значение указывает примерную пропускную способность, которой можно достичь при защите совместимых виртуальных машин с помощью Site Recovery при условии, что характеристики хранилища и сети сервера конфигурации и сервера обработки такие же, как и на сервере, на котором вы запустили программу.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-457">This throughput number indicates the estimated level that you can achieve when you protect the compatible VMs by using Site Recovery, provided that your configuration server or process server storage and network characteristics remain the same as that of the server from which you have run the tool.</span></span>

<span data-ttu-id="4c0ad-458">При выполнении репликации нужно установить рекомендуемый объем пропускной способности, необходимый для соблюдения требований к RPO в 100 % случаев.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-458">For replication, you should set the recommended bandwidth to meet the RPO 100 percent of the time.</span></span> <span data-ttu-id="4c0ad-459">Если после установки пропускной способности результаты в отчете не улучшились, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-459">After you set the bandwidth, if you don’t see any increase in the achieved throughput, as reported by the tool, do the following:</span></span>

1. <span data-ttu-id="4c0ad-460">Проверьте наличие требований к качеству обслуживания сети, которые ограничивают пропускную способность Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-460">Check to see whether there is any network Quality of Service (QoS) that is limiting Site Recovery throughput.</span></span>

2. <span data-ttu-id="4c0ad-461">Проверьте, находится ли хранилище Site Recovery в ближайшем поддерживаемом физическом регионе Microsoft Azure, чтобы минимизировать сетевые задержки.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-461">Check to see whether your Site Recovery vault is in the nearest physically supported Microsoft Azure region to minimize network latency.</span></span>

3. <span data-ttu-id="4c0ad-462">Проверьте характеристики локального хранилища, чтобы определить, можно ли улучшить оборудование (например, замените жесткие диски на твердотельные).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-462">Check your local storage characteristics to determine whether you can improve the hardware (for example, HDD to SSD).</span></span>

4. <span data-ttu-id="4c0ad-463">Измените параметры Site Recovery на сервере обработки, чтобы [увеличить объем пропускной способности сети, необходимой для репликации](./site-recovery-plan-capacity-vmware.md#control-network-bandwidth).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-463">Change the Site Recovery settings in the process server to [increase the amount network bandwidth used for replication](./site-recovery-plan-capacity-vmware.md#control-network-bandwidth).</span></span>

<span data-ttu-id="4c0ad-464">Если вы запустили программу на сервере конфигурации или сервере обработки, на котором уже расположены защищенные виртуальные машины, запустите ее еще несколько раз,</span><span class="sxs-lookup"><span data-stu-id="4c0ad-464">If you are running the tool on a configuration server or process server that already has protected VMs, run the tool a few times.</span></span> <span data-ttu-id="4c0ad-465">так как значение достигаемой пропускной способности будет изменяться в зависимости от активности обработки данных в определенный момент времени.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-465">The achieved throughput number changes depending on the amount of churn being processed at that point in time.</span></span>

<span data-ttu-id="4c0ad-466">Для всех развертываний Site Recovery в корпоративных средах мы рекомендуем использовать [ExpressRoute](https://aka.ms/expressroute).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-466">For all enterprise Site Recovery deployments, we recommend that you use [ExpressRoute](https://aka.ms/expressroute).</span></span>

### <a name="required-storage-accounts"></a><span data-ttu-id="4c0ad-467">Диаграмма Required Azure Storage Accounts (Требуемые учетные записи хранения Azure)</span><span class="sxs-lookup"><span data-stu-id="4c0ad-467">Required storage accounts</span></span>
<span data-ttu-id="4c0ad-468">На следующей диаграмме показано общее число учетных записей хранения Azure (уровня Standard и Premium), необходимых для защиты всех совместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-468">The following chart shows the total number of storage accounts (standard and premium) that are required to protect all the compatible VMs.</span></span> <span data-ttu-id="4c0ad-469">Чтобы узнать, какую учетную запись хранения необходимо использовать для каждой виртуальной машины, см. раздел "Размещение хранилища виртуальной машины".</span><span class="sxs-lookup"><span data-stu-id="4c0ad-469">To learn which storage account to use for each VM, see the "VM-storage placement" section.</span></span>

![Требуемые учетные записи хранения в планировщике развертывания](./media/site-recovery-deployment-planner/required-azure-storage-accounts.png)

### <a name="required-number-of-azure-cores"></a><span data-ttu-id="4c0ad-471">Область Required Number of Azure Cores (Необходимое число ядер Azure)</span><span class="sxs-lookup"><span data-stu-id="4c0ad-471">Required number of Azure cores</span></span>
<span data-ttu-id="4c0ad-472">Это значение указывает на общее число ядер, которое необходимо задать перед отработкой отказа (или тестовой отработкой отказа) всех совместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-472">This result is the total number of cores to be set up before failover or test failover of all the compatible VMs.</span></span> <span data-ttu-id="4c0ad-473">Если в подписке доступно слишком мало ядер, Site Recovery не сможет создать виртуальные машины и этот процесс завершится сбоем во время отработки отказа (или тестовой отработки отказа).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-473">If too few cores are available in the subscription, Site Recovery fails to create VMs at the time of test failover or failover.</span></span>

![Требуемое количество ядер Azure в планировщике ресурсов](./media/site-recovery-deployment-planner/required-number-of-azure-cores.png)

### <a name="required-on-premises-infrastructure"></a><span data-ttu-id="4c0ad-475">Область Required On-premises Infrastructure (Необходимая локальная инфраструктура)</span><span class="sxs-lookup"><span data-stu-id="4c0ad-475">Required on-premises infrastructure</span></span>
<span data-ttu-id="4c0ad-476">Это значение указывает на общее число серверов конфигурации и дополнительных серверов обработки, которых хватит для защиты всех совместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-476">This figure is the total number of configuration servers and additional process servers to be configured that would suffice to protect all the compatible VMs.</span></span> <span data-ttu-id="4c0ad-477">В зависимости от поддерживаемых [рекомендаций по размеру сервера конфигурации](https://aka.ms/asr-v2a-on-prem-components),</span><span class="sxs-lookup"><span data-stu-id="4c0ad-477">Depending on the supported [size recommendations for the configuration server](https://aka.ms/asr-v2a-on-prem-components), the tool might recommend additional servers.</span></span> <span data-ttu-id="4c0ad-478">например рекомендаций по большему значению объема обработки данных в день или максимальному количеству защищенных виртуальных машин (в зависимости от значения, которое достигается первым, при условии, что к каждой виртуальной машине подключено три диска), на сервере конфигурации или дополнительном сервере планировщик может порекомендовать использовать дополнительные серверы.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-478">The recommendation is based on the larger of either the per-day churn or the maximum number of protected VMs (assuming an average of three disks per VM), whichever is hit first on the configuration server or the additional process server.</span></span> <span data-ttu-id="4c0ad-479">Сведения об общем количестве данных, обработанных за день, и общем числе защищенных дисков см. в разделе "Входные данные".</span><span class="sxs-lookup"><span data-stu-id="4c0ad-479">You'll find the details of total churn per day and total number of protected disks in the "Input" section.</span></span>

![Требуемая локальная инфраструктура в планировщике ресурсов](./media/site-recovery-deployment-planner/required-on-premises-infrastructure.png)

### <a name="what-if-analysis"></a><span data-ttu-id="4c0ad-481">Анализ "что если"</span><span class="sxs-lookup"><span data-stu-id="4c0ad-481">What-if analysis</span></span>
<span data-ttu-id="4c0ad-482">В этом анализе отображаются сведения о возможном количестве нарушений, которые могут произойти в процессе профилирования при установке меньшего объема пропускной способности, необходимой для соблюдения требований к RPO только в 90 % случаев.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-482">This analysis outlines how many violations could occur during the profiling period when you set a lower bandwidth for the desired RPO to be met only 90 percent of the time.</span></span> <span data-ttu-id="4c0ad-483">Это может быть одно или несколько нарушений, которые могут произойти в любой заданный день.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-483">One or more RPO violations can occur on any given day.</span></span> <span data-ttu-id="4c0ad-484">На диаграмме показано максимальное значение RPO за день.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-484">The graph shows the peak RPO of the day.</span></span>
<span data-ttu-id="4c0ad-485">По результатам анализа вы можете определить, допустимо ли количество нарушений требований к RPO за все время и максимальное значение RPO за день для выделенного объема пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-485">Based on this analysis, you can decide if the number of RPO violations across all days and peak RPO hit per day is acceptable with the specified lower bandwidth.</span></span> <span data-ttu-id="4c0ad-486">В зависимости от результатов вы можете выделить меньший объем пропускной способности для репликации или повысить ее пределы для соблюдения требований к RPO в 100 % случаев.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-486">If it is acceptable, you can allocate the lower bandwidth for replication, else allocate the higher bandwidth as suggested to meet the desired RPO 100 percent of the time.</span></span>

![Анализ "что если" в планировщике ресурсов](./media/site-recovery-deployment-planner/what-if-analysis.png)

### <a name="recommended-vm-batch-size-for-initial-replication"></a><span data-ttu-id="4c0ad-488">Recommended VM batch size for initial replication (Рекомендуемый размер пакета виртуальных машин для начальной репликации)</span><span class="sxs-lookup"><span data-stu-id="4c0ad-488">Recommended VM batch size for initial replication</span></span>
<span data-ttu-id="4c0ad-489">В этом разделе приведено рекомендуемое число виртуальных машин, которые можно защищать в параллельном режиме, чтобы завершить начальную репликацию в течение 72 часов с пропускной способностью, необходимой для соблюдения требований к RPO в 100 % случаев.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-489">In this section, we recommend the number of VMs that can be protected in parallel to complete the initial replication within 72 hours with the suggested bandwidth to meet desired RPO 100 percent of the time being set.</span></span> <span data-ttu-id="4c0ad-490">Это значение можно изменить</span><span class="sxs-lookup"><span data-stu-id="4c0ad-490">This value is configurable value.</span></span> <span data-ttu-id="4c0ad-491">во время создания отчетов с помощью параметра *GoalToCompleteIR*.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-491">To change it at report-generation time, use the *GoalToCompleteIR* parameter.</span></span>

<span data-ttu-id="4c0ad-492">На диаграмме отображается диапазон значений пропускной способности и рекомендуемый размер пакета виртуальных машин, необходимые для завершения начальной репликации в течение 72 часов. Размер пакета определяется на основе среднего размера всех совместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-492">The graph here shows a range of bandwidth values and a calculated VM batch size count to complete initial replication in 72 hours, based on the average detected VM size across all the compatible VMs.</span></span>

<span data-ttu-id="4c0ad-493">В общедоступной предварительной версии в отчет не входят сведения о том, какие виртуальные машины необходимо добавить в пакет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-493">In the public preview, the report does not specify which VMs should be included in a batch.</span></span> <span data-ttu-id="4c0ad-494">Вы можете просмотреть размер каждой виртуальной машины в разделе "Совместимые виртуальные машины", а затем на основе этих сведений или известных характеристик рабочей нагрузки сформировать пакет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-494">You can use the disk size shown in the "Compatible VMs" section to find each VM’s size and select them for a batch, or you can select the VMs based on known workload characteristics.</span></span> <span data-ttu-id="4c0ad-495">Время выполнения начальной репликации изменяется пропорционально в зависимости от фактического размера диска виртуальной машины, используемого дискового пространства и доступной пропускной способности сети.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-495">The completion time of the initial replication changes proportionally, based on the actual VM disk size, used disk space, and available network throughput.</span></span>

![Рекомендуемый размер пакета виртуальных машин](./media/site-recovery-deployment-planner/recommended-vm-batch-size.png)

### <a name="growth-factor-and-percentile-values-used"></a><span data-ttu-id="4c0ad-497">Коэффициент роста и используемые значения процентилей</span><span class="sxs-lookup"><span data-stu-id="4c0ad-497">Growth factor and percentile values used</span></span>
<span data-ttu-id="4c0ad-498">Этот раздел находится в нижней части страницы. В нем содержатся сведения о значении процентиля, используемом для всех счетчиков производительности профилированных виртуальных машин (по умолчанию 95-й процентиль), а также о коэффициенте роста, используемом во всех вычислениях (по умолчанию — 30 %).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-498">This section at the bottom of the sheet shows the percentile value used for all the performance counters of the profiled VMs (default is 95th percentile), and the growth factor (default is 30 percent) that's used in all the calculations.</span></span>

![Коэффициент роста и используемые значения процентилей](./media/site-recovery-deployment-planner/max-iops-and-data-churn-setting.png)

## <a name="recommendations-with-available-bandwidth-as-input"></a><span data-ttu-id="4c0ad-500">Рекомендации по вводу значения доступной пропускной способности</span><span class="sxs-lookup"><span data-stu-id="4c0ad-500">Recommendations with available bandwidth as input</span></span>

![Рекомендации по вводу значения доступной пропускной способности](./media/site-recovery-deployment-planner/profiling-overview-bandwidth-input.png)

<span data-ttu-id="4c0ad-502">Возможны ситуации, когда вы не сможете установить для репликации Site Recovery достаточный объем пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-502">You might have a situation where you know that you cannot set a bandwidth of more than x Mbps for Site Recovery replication.</span></span> <span data-ttu-id="4c0ad-503">Эта программа позволяет вам во время создания отчета ввести значение доступной пропускной способности (с помощью параметра -Bandwidth) и получить достигаемое значение RPO в минутах.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-503">The tool allows you to input available bandwidth (using the -Bandwidth parameter during report generation) and get the achievable RPO in minutes.</span></span> <span data-ttu-id="4c0ad-504">На основе полученного значения вы можете определить, нужно ли установить дополнительный объем пропускной способности или можно просто создать решение для аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-504">With this achievable RPO value, you can decide whether you need to set up additional bandwidth or you are OK with having a disaster recovery solution with this RPO.</span></span>

![Достигаемое значение RPO для пропускной способности 500 Мбит/с](./media/site-recovery-deployment-planner/achievable-rpos.png)

## <a name="input"></a><span data-ttu-id="4c0ad-506">Входные данные</span><span class="sxs-lookup"><span data-stu-id="4c0ad-506">Input</span></span>
<span data-ttu-id="4c0ad-507">На листе "Входные данные" содержатся общие сведения о профилированной среде VMware.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-507">The Input worksheet provides an overview of the profiled VMware environment.</span></span>

![Общие сведения о профилированной среде VMware](./media/site-recovery-deployment-planner/Input.png)

<span data-ttu-id="4c0ad-509">**Дата начала** и **Дата окончания** — даты начала и окончания профилирования данных, используемых при создании отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-509">**Start Date** and **End Date**: The start and end dates of the profiling data considered for report generation.</span></span> <span data-ttu-id="4c0ad-510">По умолчанию "Дата начала" — это дата начала профилирования, а "Дата окончания" — это дата окончания.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-510">By default, the start date is the date when profiling starts, and the end date is the date when profiling stops.</span></span> <span data-ttu-id="4c0ad-511">При создании отчета с этими параметрами им соответствуют значения StartDate и EndDate.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-511">This can be the ‘StartDate’ and ‘EndDate’ values if the report is generated with these parameters.</span></span>

<span data-ttu-id="4c0ad-512">**Total number of profiling days** (Общее число дней профилирования) — общее число дней профилирования между датами начала и окончания, для которых создается отчет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-512">**Total number of profiling days**: The total number of days of profiling between the start and end dates for which the report is generated.</span></span>

<span data-ttu-id="4c0ad-513">**Number of compatible virtual machines** (Число совместимых виртуальных машин) — это общее число совместимых виртуальных машин, использующих пропускную способность сети, а также необходимое число учетных записей хранения, ядер Microsoft Azure, серверов конфигурации и дополнительных серверов обработки.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-513">**Number of compatible virtual machines**: The total number of compatible VMs for which the required network bandwidth, required number of storage accounts, Microsoft Azure cores, configuration servers and additional process servers are calculated.</span></span>

<span data-ttu-id="4c0ad-514">**Total number of disks across all compatible virtual machines** (Общее число дисков на всех совместимых виртуальных машинах). Это значение используется в качестве одного из входных параметров при определении необходимого числа серверов конфигурации и дополнительных серверов обработки, используемых во время развертывания.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-514">**Total number of disks across all compatible virtual machines**: The number that's used as one of the inputs to decide the number of configuration servers and additional process servers to be used in the deployment.</span></span>

<span data-ttu-id="4c0ad-515">**Average number of disks per compatible virtual machine** (Среднее число дисков на каждой совместимой виртуальной машине) — среднее число дисков, вычисленное для всех совместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-515">**Average number of disks per compatible virtual machine**: The average number of disks calculated across all compatible VMs.</span></span>

<span data-ttu-id="4c0ad-516">**Average disk size (GB)** (Средний размер диска (ГБ)) — средний размер диска, вычисленный для всех совместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-516">**Average disk size (GB)**: The average disk size calculated across all compatible VMs.</span></span>

<span data-ttu-id="4c0ad-517">**Desired RPO (minutes)** (Требуемое значение RPO (в минутах)) — значение целевой точки восстановления по умолчанию или значение, заданное для параметра DesiredRPO во время создания отчета для оценки необходимой пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-517">**Desired RPO (minutes)**: Either the default recovery point objective or the value passed for the ‘DesiredRPO’ parameter at the time of report generation to estimate required bandwidth.</span></span>

<span data-ttu-id="4c0ad-518">**Desired bandwidth (Mbps)** (Необходимая пропускная способность (Мбит/с)) — значение, заданное для параметра Bandwidth во время создания отчета для оценки достигаемого значения RPO.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-518">**Desired bandwidth (Mbps)**: The value that you have passed for the ‘Bandwidth’ parameter at the time of report generation to estimate achievable RPO.</span></span>

<span data-ttu-id="4c0ad-519">**Observed typical data churn per day (GB)** (Стандартная активность обработки данных в день (ГБ)) — среднее значение обработки данных в течение профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-519">**Observed typical data churn per day (GB)**: The average data churn observed across all profiling days.</span></span> <span data-ttu-id="4c0ad-520">Это значение используется в качестве одного из входных параметров при определении необходимого числа серверов конфигурации и дополнительных серверов обработки, используемых во время развертывания.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-520">This number is used as one of the inputs to decide the number of configuration servers and additional process servers to be used in the deployment.</span></span>


## <a name="vm-storage-placement"></a><span data-ttu-id="4c0ad-521">Размещение хранилища виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-521">VM-storage placement</span></span>

![Размещение хранилища виртуальной машины](./media/site-recovery-deployment-planner/vm-storage-placement.png)

<span data-ttu-id="4c0ad-523">**Disk Storage Type** (Тип хранилища дисков) — учетная запись хранения уровня Standard или Premium, используемая для репликации всех соответствующих виртуальных машин, указанных в столбце **VMs to Place** (Виртуальные машины для размещения).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-523">**Disk Storage Type**: Either a standard or premium storage account, which is used to replicate all the corresponding VMs mentioned in the **VMs to Place** column.</span></span>

<span data-ttu-id="4c0ad-524">**Suggested Prefix** (Рекомендуемый префикс) — префикс из трех знаков, который можно использовать для создания имени учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-524">**Suggested Prefix**: The suggested three-character prefix that can be used for naming the storage account.</span></span> <span data-ttu-id="4c0ad-525">Вы можете использовать собственный префикс, но для программы мы рекомендуем использовать префикс, соответствующий требованиям [соглашения об именовании секций учетных записей хранения](https://aka.ms/storage-performance-checklist).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-525">You can use your own prefix, but the tool's suggestion follows the [partition naming convention for storage accounts](https://aka.ms/storage-performance-checklist).</span></span>

<span data-ttu-id="4c0ad-526">**Suggested Account Name** (Рекомендуемое имя учетной записи) — имя учетной записи хранения после добавления рекомендуемого префикса.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-526">**Suggested Account Name**: The storage-account name after you include the suggested prefix.</span></span> <span data-ttu-id="4c0ad-527">Замените имя в угловых скобках (< и >) именем своей учетной записи.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-527">Replace the name within the angle brackets (< and >) with your custom input.</span></span>

<span data-ttu-id="4c0ad-528">**Log Storage Account** (Учетная запись хранения журналов). Все журналы репликации хранятся в учетной записи хранения уровня Standard.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-528">**Log Storage Account**: All the replication logs are stored in a standard storage account.</span></span> <span data-ttu-id="4c0ad-529">Если репликация виртуальных машин выполняется в учетную запись хранения уровня Premium, для хранения журналов необходимо настроить дополнительную учетную запись уровня Standard.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-529">For VMs that replicate to a premium storage account, set up an additional standard storage account for log storage.</span></span> <span data-ttu-id="4c0ad-530">Одна учетная запись хранения журналов уровня Standard может использоваться несколькими учетными записями хранения репликации уровня Premium.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-530">A single standard log-storage account can be used by multiple premium replication storage accounts.</span></span> <span data-ttu-id="4c0ad-531">Виртуальные машины, реплицированные в учетные записи хранения уровня Standard, используют ту же учетную запись хранения для журналов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-531">VMs that are replicated to standard storage accounts use the same storage account for logs.</span></span>

<span data-ttu-id="4c0ad-532">**Suggested Log Account Name** (Рекомендуемое имя учетной записи) — имя учетной записи хранения журналов после добавления рекомендуемого префикса.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-532">**Suggested Log Account Name**: Your storage log account name after you include the suggested prefix.</span></span> <span data-ttu-id="4c0ad-533">Замените имя в угловых скобках (< и >) именем своей учетной записи.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-533">Replace the name within the angle brackets (< and >) with your custom input.</span></span>

<span data-ttu-id="4c0ad-534">**Placement Summary** (Сводка размещения) — сводные данные об общем числе виртуальных машин, переданных в учетную запись хранения во время репликации и отработки отказа (или тестовой отработки отказа).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-534">**Placement Summary**: A summary of the total VMs' load on the storage account at the time of replication and test failover or failover.</span></span> <span data-ttu-id="4c0ad-535">В этом столбце содержатся сведения об общем числе виртуальных машин, сопоставленных с учетной записью хранения, общем количестве операций записи и чтения на диск в секунду на всех виртуальных машинах, размещенных в этой учетной записи, общем количестве операций ввода-вывода в секунду при записи (репликации), общем объеме установленного пространства на всех дисках и общем числе дисков.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-535">It includes the total number of VMs mapped to the storage account, total read/write IOPS across all VMs being placed in this storage account, total write (replication) IOPS, total setup size across all disks, and total number of disks.</span></span>

<span data-ttu-id="4c0ad-536">В столбце **Virtual Machines to Place** (Виртуальные машины для размещения) перечислены все виртуальные машины, которые необходимо поместить в определенную учетную запись хранения для обеспечения оптимальной производительности и эффективного использования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-536">**Virtual Machines to Place**: A list of all the VMs that should be placed on the given storage account for optimal performance and use.</span></span>

## <a name="compatible-vms"></a><span data-ttu-id="4c0ad-537">Совместимые виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-537">Compatible VMs</span></span>
![Электронная таблица Excel с совместимыми виртуальными машинами](./media/site-recovery-deployment-planner/compatible-vms.png)

<span data-ttu-id="4c0ad-539">**Имя виртуальной машины** — имя или IP-адрес виртуальной машины, заданные в качестве значения параметра VMListFile во время создания отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-539">**VM Name**: The VM name or IP address that's used in the VMListFile when a report is generated.</span></span> <span data-ttu-id="4c0ad-540">В этом столбце также перечислены диски (VMDK-файлы), присоединенные к виртуальным машинам.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-540">This column also lists the disks (VMDKs) that are attached to the VMs.</span></span> <span data-ttu-id="4c0ad-541">Чтобы различать виртуальные машины, для виртуальных машин в vCenter с повторяющимися именами или IP-адресами указывается имя узла ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-541">To distinguish vCenter VMs with duplicate names or IP addresses, the names include the ESXi host name.</span></span> <span data-ttu-id="4c0ad-542">Это узел ESXi, на котором размещалась виртуальная машина, когда она была впервые обнаружена с помощью средства в процессе профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-542">The listed ESXi host is the one where the VM was placed when the tool discovered during the profiling period.</span></span>

<span data-ttu-id="4c0ad-543">Параметр **VM Compatibility** (Совместимость виртуальной машины) имеет два значения: **Да** и **Да**\*.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-543">**VM Compatibility**: Values are **Yes** and **Yes**\*.</span></span> <span data-ttu-id="4c0ad-544">Значение **Да**\* используется в тех случаях, когда виртуальная машина подготавливается для [хранилища Azure класса Premium](https://aka.ms/premium-storage-workload).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-544">**Yes**\* is for instances in which the VM is a fit for [Azure Premium Storage](https://aka.ms/premium-storage-workload).</span></span> <span data-ttu-id="4c0ad-545">За счет высокой активности обработки данных и обработки большого числа операций ввода-вывода в секунду на диске она подходит для категории P20 или P30, но из-за размера диска она сопоставляется с категорией P10 или P20.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-545">Here, the profiled high-churn or IOPS disk fits in the P20 or P30 category, but the size of the disk causes it to be mapped down to a P10 or P20.</span></span> <span data-ttu-id="4c0ad-546">Служба хранилища Azure определяет, с каким типом диска хранилища класса Premium сопоставить диск виртуальной машины на основе его размера.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-546">The storage account decides which premium storage disk type to map a disk to, based on its size.</span></span> <span data-ttu-id="4c0ad-547">Например:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-547">For example:</span></span>
* <span data-ttu-id="4c0ad-548">если емкость диска составляет меньше 128 ГБ, он сопоставляется с категорией P10;</span><span class="sxs-lookup"><span data-stu-id="4c0ad-548"><128 GB is a P10.</span></span>
* <span data-ttu-id="4c0ad-549">если емкость диска составляет от 128 до 512 ГБ, он сопоставляется с категорией P20;</span><span class="sxs-lookup"><span data-stu-id="4c0ad-549">128 GB to 512 GB is a P20.</span></span>
* <span data-ttu-id="4c0ad-550">если емкость диска составляет от 512 до 1024 ГБ, он сопоставляется с категорией P30;</span><span class="sxs-lookup"><span data-stu-id="4c0ad-550">512 GB to 1024 GB is a P30.</span></span>
* <span data-ttu-id="4c0ad-551">если емкость диска составляет от 1025 до 2048 ГБ, он сопоставляется с категорией P40;</span><span class="sxs-lookup"><span data-stu-id="4c0ad-551">1025 GB to 2048 GB is a P40.</span></span>
* <span data-ttu-id="4c0ad-552">если емкость диска составляет от 2049 до 4095 ГБ, он сопоставляется с категорией P50.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-552">2049 GB to 4095 GB is a P50.</span></span>

<span data-ttu-id="4c0ad-553">Если из-за характеристик рабочей нагрузки диска виртуальная машина подпадает под категорию P20 или P30, но из-за своего размера этот диск сопоставляется с типом диска хранилища класса Premium более низкой категории, программа отмечает эту виртуальную машину значением **Да**\*</span><span class="sxs-lookup"><span data-stu-id="4c0ad-553">If the workload characteristics of a disk put it in the P20 or P30 category, but the size maps it down to a lower premium storage disk type, the tool marks that VM as **Yes**\*.</span></span> <span data-ttu-id="4c0ad-554">и рекомендует вам либо изменить размер исходного диска для соответствия рекомендуемому типу диска хранилища класса Premium, либо изменить тип целевого диска после отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-554">The tool also recommends that you either change the source disk size to fit into the recommended premium storage disk type or change the target disk type post-failover.</span></span>

<span data-ttu-id="4c0ad-555">**Тип хранилища** — Standard или Premium.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-555">**Storage Type**: Standard or premium.</span></span>

<span data-ttu-id="4c0ad-556">**Suggested Prefix** (Рекомендуемый префикс) — префикс имени учетной записи хранения, состоящий из трех знаков.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-556">**Suggested Prefix**: The three-character storage-account prefix.</span></span>

<span data-ttu-id="4c0ad-557">**Учетная запись хранения** — имя, к которому добавляется рекомендуемый префикс.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-557">**Storage Account**: The name that uses the suggested storage-account prefix.</span></span>

<span data-ttu-id="4c0ad-558">**R/W IOPS (with Growth Factor)** (Количество операций записи и чтения на диск в секунду (с коэффициентом роста)) — пиковое значение числа операций ввода-вывода в секунду при чтении и записи на диске (95-й процентиль), включая будущий коэффициент роста (по умолчанию — 30 %).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-558">**R/W IOPS (with Growth Factor)**: The peak workload read/write IOPS on the disk (default is 95th percentile), including the future growth factor (default is 30 percent).</span></span> <span data-ttu-id="4c0ad-559">Обратите внимание, что общее число операций записи и чтения на диск в секунду не всегда вычисляется путем сложения операций записи и чтения каждого отдельного диска виртуальной машины, так как максимальное число операций записи и чтения в секунду виртуальной машины состоит из максимальных значений каждого отдельного диска в течение каждой минуты процесса профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-559">Note that the total read/write IOPS of a VM is not always the sum of the VM’s individual disks’ read/write IOPS, because the peak read/write IOPS of the VM is the peak of the sum of its individual disks' read/write IOPS during every minute of the profiling period.</span></span>

<span data-ttu-id="4c0ad-560">**Data Churn in Mbps (with Growth Factor)** (Активность обработки данных на диске в Мбит/с (с коэффициентом роста)) — пиковая скорость обработки данных на диске (95-й процентиль), включая будущий коэффициент роста (по умолчанию — 30 %).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-560">**Data Churn in Mbps (with Growth Factor)**: The peak churn rate on the disk (default is 95th percentile), including the future growth factor (default is 30 percent).</span></span> <span data-ttu-id="4c0ad-561">Обратите внимание, что общая скорость обработки данных виртуальной машины не всегда вычисляется путем сложения скорости обработки данных на каждом ее отдельном диске, так как максимальная скорость обработки данных виртуальной машины состоит из максимальных значений обработки на каждом отдельном диске в течение каждой минуты процесса профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-561">Note that the total data churn of the VM is not always the sum of the VM’s individual disks’ data churn, because the peak data churn of the VM is the peak of the sum of its individual disks' churn during every minute of the profiling period.</span></span>

<span data-ttu-id="4c0ad-562">**Azure VM Size** (Размер виртуальной машины Azure) — размер виртуальной машины облачных служб Azure, который лучше всего использовать для сопоставления с локальной виртуальной машиной.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-562">**Azure VM Size**: The ideal mapped Azure Cloud Services virtual-machine size for this on-premises VM.</span></span> <span data-ttu-id="4c0ad-563">Это сопоставление выполняется на основе памяти, числа дисков, ядер, сетевых карт и операций записи и чтения на диск в секунду локальной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-563">The mapping is based on the on-premises VM’s memory, number of disks/cores/NICs, and read/write IOPS.</span></span> <span data-ttu-id="4c0ad-564">Мы рекомендуем всегда использовать виртуальную машину Azure наименьшего размера, характеристики которой соответствуют всем этим характеристикам локальной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-564">The recommendation is always the lowest Azure VM size that matches all of the on-premises VM characteristics.</span></span>

<span data-ttu-id="4c0ad-565">**Количество дисков** — общее количество дисков (VMDK-файлов) на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-565">**Number of Disks**: The total number of virtual machine disks (VMDKs) on the VM.</span></span>

<span data-ttu-id="4c0ad-566">**Размер диска (ГБ)** — общий размер, настроенный на всех дисках виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-566">**Disk size (GB)**: The total setup size of all disks of the VM.</span></span> <span data-ttu-id="4c0ad-567">Эта программа также показывает размер каждого отдельного диска виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-567">The tool also shows the disk size for the individual disks in the VM.</span></span>

<span data-ttu-id="4c0ad-568">**Ядра** — количество ядер ЦП на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-568">**Cores**: The number of CPU cores on the VM.</span></span>

<span data-ttu-id="4c0ad-569">**Память (МБ)** — ОЗУ виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-569">**Memory (MB)**: The RAM on the VM.</span></span>

<span data-ttu-id="4c0ad-570">**Сетевые карты** — количество сетевых карт на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-570">**NICs**: The number of NICs on the VM.</span></span>

<span data-ttu-id="4c0ad-571">**Тип загрузки** — тип загрузки виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-571">**Boot Type**: It is boot type of the VM.</span></span> <span data-ttu-id="4c0ad-572">(BIOS или EFI).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-572">It can be either BIOS or EFI.</span></span> <span data-ttu-id="4c0ad-573">Сейчас Azure Site Recovery поддерживает только тип загрузки BIOS.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-573">Currently Azure Site Recovery supports only BIOS boot type.</span></span> <span data-ttu-id="4c0ad-574">Все виртуальные машины с типом загрузки EFI перечислены на листе со списком несовместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-574">All the virtual machines of EFI boot type are listed in Incompatible VMs worksheet.</span></span>

<span data-ttu-id="4c0ad-575">**Тип ОС** — тип операционной системы виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-575">**OS Type**: The is OS type of the VM.</span></span> <span data-ttu-id="4c0ad-576">(Windows, Linux или другая ОС).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-576">It can be either Windows or Linux or other.</span></span>

## <a name="incompatible-vms"></a><span data-ttu-id="4c0ad-577">Несовместимые виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-577">Incompatible VMs</span></span>

![Электронная таблица Excel с несовместимыми виртуальными машинами](./media/site-recovery-deployment-planner/incompatible-vms.png)

<span data-ttu-id="4c0ad-579">**Имя виртуальной машины** — имя или IP-адрес виртуальной машины, заданные в качестве значения параметра VMListFile во время создания отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-579">**VM Name**: The VM name or IP address that's used in the VMListFile when a report is generated.</span></span> <span data-ttu-id="4c0ad-580">В этом столбце также перечислены диски (VMDK-файлы), присоединенные к виртуальным машинам.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-580">This column also lists the VMDKs that are attached to the VMs.</span></span> <span data-ttu-id="4c0ad-581">Чтобы различать виртуальные машины, для виртуальных машин в vCenter с повторяющимися именами или IP-адресами указывается имя узла ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-581">To distinguish vCenter VMs with duplicate names or IP addresses, the names include the ESXi host name.</span></span> <span data-ttu-id="4c0ad-582">Это узел ESXi, на котором размещалась виртуальная машина, когда она была впервые обнаружена с помощью средства в процессе профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-582">The listed ESXi host is the one where the VM was placed when the tool discovered during the profiling period.</span></span>

<span data-ttu-id="4c0ad-583">Параметр **VM Compatibility** (Совместимость виртуальной машины) указывает, почему определенная виртуальная машина не поддерживает Site Recovery.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-583">**VM Compatibility**: Indicates why the given VM is incompatible for use with Site Recovery.</span></span> <span data-ttu-id="4c0ad-584">Причины приводятся для каждого несовместимого диска виртуальной машины, и в зависимости от опубликованных [ограничений хранилища](https://aka.ms/azure-storage-scalbility-performance) эта проблема может быть вызвана следующим:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-584">The reasons are described for each incompatible disk of the VM and, based on published [storage limits](https://aka.ms/azure-storage-scalbility-performance), can be any of the following:</span></span>

* <span data-ttu-id="4c0ad-585">Размер диска превышает 4095 ГБ.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-585">Disk size is >4095 GB.</span></span> <span data-ttu-id="4c0ad-586">Сейчас служба хранилища Azure не поддерживает диски данных емкостью более 4095 ГБ.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-586">Azure Storage currently does not support data disk sizes greater than 4095 GB.</span></span>
* <span data-ttu-id="4c0ad-587">Размер диска ОС превышает 2048 ГБ.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-587">OS disk is >2048 GB.</span></span> <span data-ttu-id="4c0ad-588">Сейчас служба хранилища Azure не поддерживает диски ОС емкостью более 2048 ГБ.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-588">Azure Storage currently does not support OS disk size greater than 2048 GB.</span></span>
* <span data-ttu-id="4c0ad-589">Тип загрузки — EFI.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-589">Boot type is EFI.</span></span> <span data-ttu-id="4c0ad-590">Сейчас Azure Site Recovery поддерживает только виртуальные машины с типом загрузки BIOS.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-590">Azure Site Recovery currently supports only BIOS boot type virtual machine.</span></span>

* <span data-ttu-id="4c0ad-591">Общий размер виртуальной машины (репликация и тестовая отработка отказа) превышает поддерживаемый размер учетной записи хранения (35 ТБ).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-591">Total VM size (replication + TFO) exceeds the supported storage-account size limit (35 TB).</span></span> <span data-ttu-id="4c0ad-592">Это обычно происходит на виртуальных машинах с одним диском, показатели производительности которого превышают максимально поддерживаемые ограничения Microsoft Azure или Azure Site Recovery для хранилища класса Standard,</span><span class="sxs-lookup"><span data-stu-id="4c0ad-592">This incompatibility usually occurs when a single disk in the VM has a performance characteristic that exceeds the maximum supported Azure or Site Recovery limits for standard storage.</span></span> <span data-ttu-id="4c0ad-593">используемого для отправки виртуальной машины в зону хранилища класса Premium.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-593">Such an instance pushes the VM into the premium storage zone.</span></span> <span data-ttu-id="4c0ad-594">Однако максимальный поддерживаемый размер учетной записи хранения класса Premium составляет 35 ТБ, и поэтому невозможно обеспечить защиту одной виртуальной машины в нескольких учетных записях хранения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-594">However, the maximum supported size of a premium storage account is 35 TB, and a single protected VM cannot be protected across multiple storage accounts.</span></span> <span data-ttu-id="4c0ad-595">Кроме того, обратите внимание, что если тестовая отработка отказа выполняется на защищенной виртуальной машине, этот процесс происходит в той же учетной записи хранения, где выполняется репликация.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-595">Also note that when a test failover is executed on a protected VM, it runs in the same storage account where replication is progressing.</span></span> <span data-ttu-id="4c0ad-596">Поэтому на диске необходимо настроить в 2 раза больше пространства для выполнения репликации и тестовой отработки отказа в параллельном режиме.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-596">In this instance, set up 2x the size of the disk for replication to progress and test failover to succeed in parallel.</span></span>
* <span data-ttu-id="4c0ad-597">Число операций ввода-вывода в секунду источника превышает поддерживаемое хранилищем ограничение в 5000 операций ввода-вывода в секунду на диск.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-597">Source IOPS exceeds supported storage IOPS limit of 5000 per disk.</span></span>
* <span data-ttu-id="4c0ad-598">Число операций ввода-вывода в секунду источника превышает поддерживаемое хранилищем ограничение в 80 000 операций ввода-вывода в секунду на виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-598">Source IOPS exceeds supported storage IOPS limit of 80,000 per VM.</span></span>
* <span data-ttu-id="4c0ad-599">Среднее значение скорости обработки данных превышает поддерживаемое Site Recovery ограничение в 10 Мбит/с для среднего объема ввода-вывода на диск.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-599">Average data churn exceeds supported Site Recovery data churn limit of 10 MBps for average I/O size for the disk.</span></span>
* <span data-ttu-id="4c0ad-600">Общая скорость обработки данных на всех дисках виртуальной машины превышает максимально поддерживаемое Site Recovery ограничение в 54 Мбит/с на виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-600">Total data churn across all disks on the VM exceeds the maximum supported Site Recovery data churn limit of 54 MBps per VM.</span></span>
* <span data-ttu-id="4c0ad-601">Среднее эффективное значение количества операций ввода-вывода в секунду при записи превышает поддерживаемое Site Recovery ограничение в 840 операций на диск.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-601">Average effective write IOPS exceeds the supported Site Recovery IOPS limit of 840 for disk.</span></span>
* <span data-ttu-id="4c0ad-602">Вычисленный объем хранилища моментальных снимков превышает поддерживаемое ограничение в 10 ТБ.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-602">Calculated snapshot storage exceeds the supported snapshot storage limit of 10 TB.</span></span>

<span data-ttu-id="4c0ad-603">**R/W IOPS (with Growth Factor)** (Количество операций записи и чтения на диск в секунду (с коэффициентом роста)) — пиковое значение числа операций ввода-вывода в секунду на диске (95-й процентиль), включая будущий коэффициент роста (по умолчанию — 30 %).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-603">**R/W IOPS (with Growth Factor)**: The peak workload IOPS on the disk (default is 95th percentile), including the future growth factor (default is 30 percent).</span></span> <span data-ttu-id="4c0ad-604">Обратите внимание, что общее число операций записи и чтения на диск в секунду не всегда вычисляется путем сложения операций записи и чтения каждого отдельного диска виртуальной машины, так как максимальное число операций записи и чтения в секунду виртуальной машины состоит из максимальных значений каждого отдельного диска в течение каждой минуты процесса профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-604">Note that the total read/write IOPS of the VM is not always the sum of the VM’s individual disks’ read/write IOPS, because the peak read/write IOPS of the VM is the peak of the sum of its individual disks' read/write IOPS during every minute of the profiling period.</span></span>

<span data-ttu-id="4c0ad-605">**Data Churn in Mbps (with Growth Factor)** (Активность обработки данных на диске в Мбит/с (с коэффициентом роста)) — пиковая скорость обработки данных на диске (95-й процентиль), включая будущий коэффициент роста (по умолчанию — 30 %).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-605">**Data Churn in Mbps (with Growth Factor)**: The peak churn rate on the disk (default 95th percentile) including the future growth factor (default 30 percent).</span></span> <span data-ttu-id="4c0ad-606">Обратите внимание, что общая скорость обработки данных виртуальной машины не всегда вычисляется путем сложения скорости обработки данных на каждом ее отдельном диске, так как максимальная скорость обработки данных виртуальной машины состоит из максимальных значений обработки на каждом отдельном диске в течение каждой минуты процесса профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-606">Note that the total data churn of the VM is not always the sum of the VM’s individual disks’ data churn, because the peak data churn of the VM is the peak of the sum of its individual disks' churn during every minute of the profiling period.</span></span>

<span data-ttu-id="4c0ad-607">**Количество дисков** — общее количество VMDK-файлов на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-607">**Number of Disks**: The total number of VMDKs on the VM.</span></span>

<span data-ttu-id="4c0ad-608">**Размер диска (ГБ)** — общий размер, настроенный на всех дисках виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-608">**Disk size (GB)**: The total setup size of all disks of the VM.</span></span> <span data-ttu-id="4c0ad-609">Эта программа также показывает размер каждого отдельного диска виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-609">The tool also shows the disk size for the individual disks in the VM.</span></span>

<span data-ttu-id="4c0ad-610">**Ядра** — количество ядер ЦП на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-610">**Cores**: The number of CPU cores on the VM.</span></span>

<span data-ttu-id="4c0ad-611">**Память (МБ)** — объем ОЗУ виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-611">**Memory (MB)**: The amount of RAM on the VM.</span></span>

<span data-ttu-id="4c0ad-612">**Сетевые карты** — количество сетевых карт на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-612">**NICs**: The number of NICs on the VM.</span></span>

<span data-ttu-id="4c0ad-613">**Тип загрузки** — тип загрузки виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-613">**Boot Type**: It is boot type of the VM.</span></span> <span data-ttu-id="4c0ad-614">(BIOS или EFI).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-614">It can be either BIOS or EFI.</span></span> <span data-ttu-id="4c0ad-615">Сейчас Azure Site Recovery поддерживает только тип загрузки BIOS.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-615">Currently Azure Site Recovery supports only BIOS boot type.</span></span> <span data-ttu-id="4c0ad-616">Все виртуальные машины с типом загрузки EFI перечислены на листе со списком несовместимых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-616">All the virtual machines of EFI boot type are listed in Incompatible VMs worksheet.</span></span>

<span data-ttu-id="4c0ad-617">**Тип ОС** — тип операционной системы виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="4c0ad-617">**OS Type**: The is OS type of the VM.</span></span> <span data-ttu-id="4c0ad-618">(Windows, Linux или другая ОС).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-618">It can be either Windows or Linux or other.</span></span>


## <a name="site-recovery-limits"></a><span data-ttu-id="4c0ad-619">Ограничения Site Recovery</span><span class="sxs-lookup"><span data-stu-id="4c0ad-619">Site Recovery limits</span></span>

<span data-ttu-id="4c0ad-620">**Целевое хранилище репликации**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-620">**Replication storage target**</span></span> | <span data-ttu-id="4c0ad-621">**Средний размер ввода-вывода исходного диска**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-621">**Average source disk I/O size**</span></span> |<span data-ttu-id="4c0ad-622">**Средняя скорость обработки данных исходного диска**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-622">**Average source disk data churn**</span></span> | <span data-ttu-id="4c0ad-623">**Общий размер обработанных данных на исходном диске за день**</span><span class="sxs-lookup"><span data-stu-id="4c0ad-623">**Total source disk data churn per day**</span></span>
---|---|---|---
<span data-ttu-id="4c0ad-624">Хранилище уровня "Стандартный"</span><span class="sxs-lookup"><span data-stu-id="4c0ad-624">Standard storage</span></span> | <span data-ttu-id="4c0ad-625">8 КБ</span><span class="sxs-lookup"><span data-stu-id="4c0ad-625">8 KB</span></span> | <span data-ttu-id="4c0ad-626">2 Мбит/с</span><span class="sxs-lookup"><span data-stu-id="4c0ad-626">2 MBps</span></span> | <span data-ttu-id="4c0ad-627">168 ГБ на диск</span><span class="sxs-lookup"><span data-stu-id="4c0ad-627">168 GB per disk</span></span>
<span data-ttu-id="4c0ad-628">Диск класса Premium категории P10</span><span class="sxs-lookup"><span data-stu-id="4c0ad-628">Premium P10 disk</span></span> | <span data-ttu-id="4c0ad-629">8 КБ</span><span class="sxs-lookup"><span data-stu-id="4c0ad-629">8 KB</span></span> | <span data-ttu-id="4c0ad-630">2 Мбит/с</span><span class="sxs-lookup"><span data-stu-id="4c0ad-630">2 MBps</span></span> | <span data-ttu-id="4c0ad-631">168 ГБ на диск</span><span class="sxs-lookup"><span data-stu-id="4c0ad-631">168 GB per disk</span></span>
<span data-ttu-id="4c0ad-632">Диск класса Premium категории P10</span><span class="sxs-lookup"><span data-stu-id="4c0ad-632">Premium P10 disk</span></span> | <span data-ttu-id="4c0ad-633">16 КБ</span><span class="sxs-lookup"><span data-stu-id="4c0ad-633">16 KB</span></span> | <span data-ttu-id="4c0ad-634">4 Мбит/с</span><span class="sxs-lookup"><span data-stu-id="4c0ad-634">4 MBps</span></span> | <span data-ttu-id="4c0ad-635">336 ГБ на диск</span><span class="sxs-lookup"><span data-stu-id="4c0ad-635">336 GB per disk</span></span>
<span data-ttu-id="4c0ad-636">Диск класса Premium категории P10</span><span class="sxs-lookup"><span data-stu-id="4c0ad-636">Premium P10 disk</span></span> | <span data-ttu-id="4c0ad-637">32 КБ или выше</span><span class="sxs-lookup"><span data-stu-id="4c0ad-637">32 KB or greater</span></span> | <span data-ttu-id="4c0ad-638">8 Мбит/с</span><span class="sxs-lookup"><span data-stu-id="4c0ad-638">8 MBps</span></span> | <span data-ttu-id="4c0ad-639">672 ГБ на диск</span><span class="sxs-lookup"><span data-stu-id="4c0ad-639">672 GB per disk</span></span>
<span data-ttu-id="4c0ad-640">Диск уровня Premium категории P20 или P30</span><span class="sxs-lookup"><span data-stu-id="4c0ad-640">Premium P20 or P30 disk</span></span> | <span data-ttu-id="4c0ad-641">8 КБ</span><span class="sxs-lookup"><span data-stu-id="4c0ad-641">8 KB</span></span>  | <span data-ttu-id="4c0ad-642">5 Мбит/с</span><span class="sxs-lookup"><span data-stu-id="4c0ad-642">5 MBps</span></span> | <span data-ttu-id="4c0ad-643">421 ГБ на диск</span><span class="sxs-lookup"><span data-stu-id="4c0ad-643">421 GB per disk</span></span>
<span data-ttu-id="4c0ad-644">Диск уровня Premium категории P20 или P30</span><span class="sxs-lookup"><span data-stu-id="4c0ad-644">Premium P20 or P30 disk</span></span> | <span data-ttu-id="4c0ad-645">16 КБ или выше</span><span class="sxs-lookup"><span data-stu-id="4c0ad-645">16 KB or greater</span></span> |<span data-ttu-id="4c0ad-646">10 Мбит/с</span><span class="sxs-lookup"><span data-stu-id="4c0ad-646">10 MBps</span></span> | <span data-ttu-id="4c0ad-647">842 ГБ на диск</span><span class="sxs-lookup"><span data-stu-id="4c0ad-647">842 GB per disk</span></span>

<span data-ttu-id="4c0ad-648">В указанных средних значениях предполагается 30-процентное перекрытие операций ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-648">These are average numbers assuming a 30 percent I/O overlap.</span></span> <span data-ttu-id="4c0ad-649">В зависимости от коэффициента перекрытия, размера записи и фактической рабочей нагрузки ввода-вывода Site Recovery может обрабатывать более высокую пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-649">Site Recovery is capable of handling higher throughput based on overlap ratio, larger write sizes, and actual workload I/O behavior.</span></span> <span data-ttu-id="4c0ad-650">В приведенных выше значениях предполагается, что длина очереди невыполненной работы составляет примерно 5 минут,</span><span class="sxs-lookup"><span data-stu-id="4c0ad-650">The preceding numbers assume a typical backlog of approximately five minutes.</span></span> <span data-ttu-id="4c0ad-651">то есть после передачи выполняется обработка данных, а созданная точка восстановления составляет 5 минут.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-651">That is, after data is uploaded, it is processed and a recovery point is created within five minutes.</span></span>

<span data-ttu-id="4c0ad-652">Эти ограничения получены на основе наших проверок, но они не охватывают все возможные сочетания операций ввода-вывода в приложении.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-652">These limits are based on our tests, but they cannot cover all possible application I/O combinations.</span></span> <span data-ttu-id="4c0ad-653">Фактические результаты зависят от сочетания операций ввода-вывода приложения.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-653">Actual results can vary based on your application I/O mix.</span></span> <span data-ttu-id="4c0ad-654">Чтобы получить более точные сведения о производительности, мы рекомендуем всегда выполнять расширенное тестирование приложения с помощью тестовой отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-654">For best results, even after deployment planning, we always recommend that you perform extensive application testing by using a test failover to get the true performance picture.</span></span>

## <a name="updating-the-deployment-planner"></a><span data-ttu-id="4c0ad-655">Обновление планировщика ресурсов</span><span class="sxs-lookup"><span data-stu-id="4c0ad-655">Updating the deployment planner</span></span>
<span data-ttu-id="4c0ad-656">Чтобы обновить планировщик ресурсов, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-656">To update the deployment planner, do the following:</span></span>

1. <span data-ttu-id="4c0ad-657">Скачайте последнюю версию [планировщика ресурсов Azure Site Recovery](https://aka.ms/asr-deployment-planner).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-657">Download the latest version of the [Azure Site Recovery deployment planner](https://aka.ms/asr-deployment-planner).</span></span>

2. <span data-ttu-id="4c0ad-658">Скопируйте ZIP-папку на сервер, на котором вы хотите запустить планировщик.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-658">Copy the .zip folder to a server that you want to run it on.</span></span>

3. <span data-ttu-id="4c0ad-659">Распакуйте ZIP-папку.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-659">Extract the .zip folder.</span></span>

4. <span data-ttu-id="4c0ad-660">Выполните одно из приведенных ниже действий.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-660">Do either of the following:</span></span>
 * <span data-ttu-id="4c0ad-661">Если в последней версии нет исправления профилирования и оно уже выполняется, вам не нужно останавливать его.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-661">If the latest version doesn't contain a profiling fix and profiling is already in progress on your current version of the planner, continue the profiling.</span></span>
 * <span data-ttu-id="4c0ad-662">Если в последней версии есть исправления профилирования, мы рекомендуем остановить профилирование, выполняемое в текущей версии, и запустить его с использованием новой версии.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-662">If the latest version does contain a profiling fix, we recommended that you stop profiling on your current version and restart the profiling with the new version.</span></span>

  >[!NOTE]
  >
  ><span data-ttu-id="4c0ad-663">При запуске профилирования с использованием новой версии передайте тот же путь к выходному каталогу, который будет использоваться средством для добавления данных профиля в существующие файлы.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-663">When you start profiling with the new version, pass the same output directory path so that the tool appends profile data on the existing files.</span></span> <span data-ttu-id="4c0ad-664">При создании отчетов будет использоваться полный набор данных профилирования.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-664">A complete set of profiled data will be used to generate the report.</span></span> <span data-ttu-id="4c0ad-665">Если передать разные выходные каталоги, то создадутся файлы, а старые данные профилирования нельзя будет использовать при создании отчета.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-665">If you pass a different output directory, new files are created, and old profiled data is not used to generate the report.</span></span>
  >
  ><span data-ttu-id="4c0ad-666">Каждое обновление планировщика ресурсов с использованием ZIP-файла является накопительным.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-666">Each new deployment planner is a cumulative update of the .zip file.</span></span> <span data-ttu-id="4c0ad-667">Не нужно копировать файлы новой версии в папку со старой версией.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-667">You don't need to copy the newest files to the previous  folder.</span></span> <span data-ttu-id="4c0ad-668">Вы можете создать и использовать папку.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-668">You can create and use a new folder.</span></span>


## <a name="version-history"></a><span data-ttu-id="4c0ad-669">Журнал версий</span><span class="sxs-lookup"><span data-stu-id="4c0ad-669">Version history</span></span>

### <a name="131"></a><span data-ttu-id="4c0ad-670">1.3.1</span><span class="sxs-lookup"><span data-stu-id="4c0ad-670">1.3.1</span></span>
<span data-ttu-id="4c0ad-671">Обновление: 19 июля 2017 г.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-671">Updated: July 19, 2017</span></span>

<span data-ttu-id="4c0ad-672">Добавлена следующая новая функция:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-672">Following new feature is added:</span></span>

* <span data-ttu-id="4c0ad-673">Добавлена поддержка дисков большого объема (>1 ТБ) при создании отчетов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-673">Added support for large disks (> 1TB) in report generation.</span></span> <span data-ttu-id="4c0ad-674">Теперь для планирования репликации виртуальных машин с дисками размером более 1 ТБ (но не более 4095 ГБ) можно использовать планировщик развертывания.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-674">Now you can use deployment planner to plan replication for virtual machines that have disk sizes greater than 1 TB (upto 4095 GB).</span></span>
<span data-ttu-id="4c0ad-675">Дополнительные сведения о [поддержке дисков большого размера в Azure Site Recovery](https://azure.microsoft.com/en-us/blog/azure-site-recovery-large-disks/).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-675">Read more about [Large disk support in Azure Site Recovery](https://azure.microsoft.com/en-us/blog/azure-site-recovery-large-disks/)</span></span>


### <a name="13"></a><span data-ttu-id="4c0ad-676">1,3</span><span class="sxs-lookup"><span data-stu-id="4c0ad-676">1.3</span></span>
<span data-ttu-id="4c0ad-677">Обновление: 9 мая 2017 г.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-677">Updated: May 9, 2017</span></span>

<span data-ttu-id="4c0ad-678">Добавлена следующая новая функция:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-678">Following new feature is added:</span></span>

* <span data-ttu-id="4c0ad-679">Добавлена поддержка управляемых дисков при создании отчетов.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-679">Added Managed Disk support in report generation.</span></span> <span data-ttu-id="4c0ad-680">Число виртуальных машин, которые можно разместить в одной учетной записи хранения, вычисляется в зависимости от того, выбран ли управляемый диск для отработки отказа или тестовой отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-680">The number of virtual machines can be placed to a single storage account is calcuated based on if managed disk is selected for Failover/Test failover.</span></span>        


### <a name="12"></a><span data-ttu-id="4c0ad-681">1.2</span><span class="sxs-lookup"><span data-stu-id="4c0ad-681">1.2</span></span>
<span data-ttu-id="4c0ad-682">Обновлено: 7 апреля 2017 г.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-682">Updated: April 7, 2017</span></span>

<span data-ttu-id="4c0ad-683">Добавлены следующие исправления:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-683">Added following fixes:</span></span>

* <span data-ttu-id="4c0ad-684">Добавлена проверка типа загрузки (BIOS или EFI) для каждой виртуальной машины. Это позволяет определить, совместима ли виртуальная машина для обеспечения защиты.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-684">Added boot type( BIOS or EFI) check for each virtual machine to determine if the virtual machine is compatible or incompatible for the protection.</span></span>
* <span data-ttu-id="4c0ad-685">На листах со списками совместимых и несовместимых виртуальных машин добавлены сведения о типе ОС каждой виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-685">Added OS type information for each virtual machine in the Compatible VMs  and Incompatible VMs worksheets.</span></span>
* <span data-ttu-id="4c0ad-686">Операция GetThroughput теперь поддерживается в регионах Microsoft Azure для государственных организаций США и Microsoft Azure для Китая.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-686">The GetThroughput operation is now supported in the US Government and China Microsoft Azure regions.</span></span>
* <span data-ttu-id="4c0ad-687">Добавлено несколько дополнительных проверок необходимых компонентов для vCenter и сервера ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-687">Added few more prerequisite checks for vCenter and ESXi Server.</span></span>
* <span data-ttu-id="4c0ad-688">Если были заданы параметры языкового стандарта, отличного от английского, создавался неправильный отчет.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-688">Incorrect report was getting generated when locale settings is set to non-English.</span></span>


### <a name="11"></a><span data-ttu-id="4c0ad-689">1,1</span><span class="sxs-lookup"><span data-stu-id="4c0ad-689">1.1</span></span>
<span data-ttu-id="4c0ad-690">Обновление: 9 марта 2017 г.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-690">Updated: March 9, 2017</span></span>

<span data-ttu-id="4c0ad-691">Исправлены следующие ошибки:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-691">Fixed the following issues:</span></span>

* <span data-ttu-id="4c0ad-692">Программа не поддерживает профилирование виртуальных машин, если на сервере vCenter Server находится несколько виртуальных машин с одинаковым именем или IP-адресом, расположенных на разных узлах ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-692">The tool cannot profile VMs if the vCenter has two or more VMs with the same name or IP address across various ESXi hosts.</span></span>
* <span data-ttu-id="4c0ad-693">Для электронных таблиц совместимых и несовместимых виртуальных машин отключены функции копирования и поиска.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-693">Copy and search is disabled for the Compatible VMs and Incompatible VMs worksheets.</span></span>

### <a name="10"></a><span data-ttu-id="4c0ad-694">1.0</span><span class="sxs-lookup"><span data-stu-id="4c0ad-694">1.0</span></span>
<span data-ttu-id="4c0ad-695">Обновление: 23 февраля 2017 г.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-695">Updated: February 23, 2017</span></span>

<span data-ttu-id="4c0ad-696">Общедоступная предварительная версия планировщика ресурсов Azure Site Recovery 1.0 имеет описанные ниже известные проблемы, которые будут устранены в предстоящих обновлениях:</span><span class="sxs-lookup"><span data-stu-id="4c0ad-696">Azure Site Recovery Deployment Planner public preview 1.0 has the following known issues (to be addressed in upcoming updates):</span></span>

* <span data-ttu-id="4c0ad-697">Эта программа поддерживает только сценарии развертывания виртуальных машин VMware в Azure (а не развертывание виртуальных машин Hyper-V в Azure).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-697">The tool works only for VMware-to-Azure scenarios, not for Hyper-V-to-Azure deployments.</span></span> <span data-ttu-id="4c0ad-698">В сценариях развертывания виртуальных машин Hyper-V в Azure используйте [планировщик ресурсов Hyper-V](./site-recovery-capacity-planning-for-hyper-v-replication.md).</span><span class="sxs-lookup"><span data-stu-id="4c0ad-698">For Hyper-V-to-Azure scenarios, use the [Hyper-V capacity planner tool](./site-recovery-capacity-planning-for-hyper-v-replication.md).</span></span>
* <span data-ttu-id="4c0ad-699">Операция GetThroughput не поддерживается в регионах Microsoft Azure для государственных организаций США и в регионах Microsoft Azure в Китае.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-699">The GetThroughput operation is not supported in the US Government and China Microsoft Azure regions.</span></span>
* <span data-ttu-id="4c0ad-700">Программа не поддерживает профилирование виртуальных машин, если на сервере vCenter Server находится несколько виртуальных машин с одинаковым именем или IP-адресом, расположенных на разных узлах ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-700">The tool cannot profile VMs if the vCenter server has two or more VMs with the same name or IP address across various ESXi hosts.</span></span> <span data-ttu-id="4c0ad-701">В этой версии программа пропускает профилирование виртуальных машин, имена или IP-адреса которых заданы в качестве значения параметра VMListFile несколько раз.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-701">In this version, the tool skips profiling for duplicate VM names or IP addresses in the VMListFile.</span></span> <span data-ttu-id="4c0ad-702">Возможное решение — выполнить профилирование виртуальных машин на узле ESXi, а не на сервере vCenter Server.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-702">The workaround is to profile the VMs by using an ESXi host instead of the vCenter server.</span></span> <span data-ttu-id="4c0ad-703">Необходимо запустить один экземпляр для каждого узла ESXi.</span><span class="sxs-lookup"><span data-stu-id="4c0ad-703">You must run one instance for each ESXi host.</span></span>
