---
title: "aaaCreate или обновление шлюза приложения Azure с брандмауэр веб-приложения | Документы Microsoft"
description: "Узнайте, как toocreate с брандмауэр веб-приложения с помощью шлюза приложения hello портала"
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: b561a210-ed99-4ab4-be06-b49215e3255a
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: gwallace
ms.openlocfilehash: 68d140fef14499da654ea251d1208e6a800f55a9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-application-gateway-with-web-application-firewall-by-using-hello-portal"></a><span data-ttu-id="7d90a-103">Создание шлюза приложения с брандмауэр веб-приложения с помощью портала hello</span><span class="sxs-lookup"><span data-stu-id="7d90a-103">Create an application gateway with web application firewall by using hello portal</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="7d90a-104">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="7d90a-104">Azure portal</span></span>](application-gateway-web-application-firewall-portal.md)
> * [<span data-ttu-id="7d90a-105">PowerShell</span><span class="sxs-lookup"><span data-stu-id="7d90a-105">PowerShell</span></span>](application-gateway-web-application-firewall-powershell.md)
> * [<span data-ttu-id="7d90a-106">Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="7d90a-106">Azure CLI</span></span>](application-gateway-web-application-firewall-cli.md)

<span data-ttu-id="7d90a-107">Узнайте, как toocreate брандмауэр веб-приложения включено использование шлюза приложений.</span><span class="sxs-lookup"><span data-stu-id="7d90a-107">Learn how toocreate a web application firewall enabled application gateway.</span></span>

<span data-ttu-id="7d90a-108">Hello брандмауэр веб-приложения (WAF) в шлюз приложений Azure защищает веб-приложений из распространенных веб-атак, например путем внедрения кода SQL, атак с использованием межсайтовых сценариев и сеанса захвата.</span><span class="sxs-lookup"><span data-stu-id="7d90a-108">hello web application firewall (WAF) in Azure Application Gateway protects web applications from common web-based attacks like SQL injection, cross-site scripting attacks, and session hijacks.</span></span> <span data-ttu-id="7d90a-109">Веб-приложение обеспечивает защиту от многих hello OWASP top 10 распространенных web уязвимостей.</span><span class="sxs-lookup"><span data-stu-id="7d90a-109">Web application protects against many of hello OWASP top 10 common web vulnerabilities.</span></span>

## <a name="scenarios"></a><span data-ttu-id="7d90a-110">Сценарии</span><span class="sxs-lookup"><span data-stu-id="7d90a-110">Scenarios</span></span>

<span data-ttu-id="7d90a-111">В этой статье представлено два сценария.</span><span class="sxs-lookup"><span data-stu-id="7d90a-111">In this article there are two scenarios:</span></span>

<span data-ttu-id="7d90a-112">В первом сценарии hello, вы узнаете, слишком[создания шлюза приложения с брандмауэр веб-приложения](#create-an-application-gateway-with-web-application-firewall)</span><span class="sxs-lookup"><span data-stu-id="7d90a-112">In hello first scenario, you learn too[create an application gateway with web application firewall](#create-an-application-gateway-with-web-application-firewall)</span></span>

<span data-ttu-id="7d90a-113">Второй сценарий hello, вы узнаете слишком[добавить веб-приложение брандмауэра tooan существующие приложения шлюза](#add-web-application-firewall-to-an-existing-application-gateway).</span><span class="sxs-lookup"><span data-stu-id="7d90a-113">In hello second scenario, you learn too[add web application firewall tooan existing application gateway](#add-web-application-firewall-to-an-existing-application-gateway).</span></span>

![Пример сценария][scenario]

> [!NOTE]
> <span data-ttu-id="7d90a-115">Дополнительная настройка шлюза приложения hello, включая пользовательские работоспособности проверяет, пул адресов серверной части и дополнительные правила настраиваются после настройки шлюза приложения hello, а не во время первоначального развертывания.</span><span class="sxs-lookup"><span data-stu-id="7d90a-115">Additional configuration of hello application gateway, including custom health probes, backend pool addresses, and additional rules are configured after hello application gateway is configured and not during initial deployment.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="7d90a-116">Перед началом работы</span><span class="sxs-lookup"><span data-stu-id="7d90a-116">Before you begin</span></span>

<span data-ttu-id="7d90a-117">Шлюзу приложений Azure требуется собственная подсеть.</span><span class="sxs-lookup"><span data-stu-id="7d90a-117">Azure Application Gateway requires its own subnet.</span></span> <span data-ttu-id="7d90a-118">При создании виртуальной сети, убедитесь, оставьте достаточно toohave пространства адресов несколько подсетей.</span><span class="sxs-lookup"><span data-stu-id="7d90a-118">When creating a virtual network, ensure that you leave enough address space toohave multiple subnets.</span></span> <span data-ttu-id="7d90a-119">После развертывания приложения шлюза tooa подсети шлюзы только дополнительных приложений, могут toobe добавлены toohello подсети.</span><span class="sxs-lookup"><span data-stu-id="7d90a-119">Once you deploy an application gateway tooa subnet, only additional application gateways are able toobe added toohello subnet.</span></span>

##<span data-ttu-id="7d90a-120"><a name="add-web-application-firewall-to-an-existing-application-gateway"></a>Добавить веб-приложение брандмауэра tooan существующие приложения шлюза</span><span class="sxs-lookup"><span data-stu-id="7d90a-120"><a name="add-web-application-firewall-to-an-existing-application-gateway"></a> Add web application firewall tooan existing application gateway</span></span>

<span data-ttu-id="7d90a-121">В этом примере обновляет существующие приложения шлюза toosupport брандмауэр веб-приложения в режим предотвращения.</span><span class="sxs-lookup"><span data-stu-id="7d90a-121">This example updates an existing application gateway toosupport web application firewall in prevention mode.</span></span>

1. <span data-ttu-id="7d90a-122">В hello портал Azure **Избранное** области, нажмите кнопку **все ресурсы**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-122">In hello Azure portal **Favorites** pane, click **All resources**.</span></span> <span data-ttu-id="7d90a-123">Здравствуйте, щелкните существующий шлюз приложения в hello **все ресурсы** колонку.</span><span class="sxs-lookup"><span data-stu-id="7d90a-123">Click hello existing Application Gateway in hello **All resources** blade.</span></span> <span data-ttu-id="7d90a-124">Если подписка hello, уже содержит несколько ресурсов, можно ввести имя hello в hello **фильтрация по имени...**</span><span class="sxs-lookup"><span data-stu-id="7d90a-124">If hello subscription you selected already has several resources in it, you can enter hello name in hello **Filter by name…**</span></span> <span data-ttu-id="7d90a-125">зона DNS hello доступа tooeasily поле.</span><span class="sxs-lookup"><span data-stu-id="7d90a-125">box tooeasily access hello DNS zone.</span></span>

   ![Создание шлюза приложений][1]

1. <span data-ttu-id="7d90a-127">Нажмите кнопку **брандмауэр веб-приложения** и обновите параметры шлюза приложения hello.</span><span class="sxs-lookup"><span data-stu-id="7d90a-127">Click **Web application firewall** and update hello application gateway settings.</span></span> <span data-ttu-id="7d90a-128">По завершении нажмите кнопку **Сохранить**</span><span class="sxs-lookup"><span data-stu-id="7d90a-128">When complete click **Save**</span></span>

    <span data-ttu-id="7d90a-129">перечислены tooupdate Hello параметры существующего приложения шлюза toosupport брандмауэр веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="7d90a-129">hello settings tooupdate an existing application gateway toosupport web application firewall are:</span></span>

   | <span data-ttu-id="7d90a-130">**Параметр**</span><span class="sxs-lookup"><span data-stu-id="7d90a-130">**Setting**</span></span> | <span data-ttu-id="7d90a-131">**Значение**</span><span class="sxs-lookup"><span data-stu-id="7d90a-131">**Value**</span></span> | <span data-ttu-id="7d90a-132">**Дополнительные сведения**</span><span class="sxs-lookup"><span data-stu-id="7d90a-132">**Details**</span></span>
   |---|---|---|
   |<span data-ttu-id="7d90a-133">**Обновление tooWAF уровня**</span><span class="sxs-lookup"><span data-stu-id="7d90a-133">**Upgrade tooWAF Tier**</span></span>| <span data-ttu-id="7d90a-134">Флажок установлен</span><span class="sxs-lookup"><span data-stu-id="7d90a-134">Checked</span></span> | <span data-ttu-id="7d90a-135">Таким образом задается уровень hello уровня WAF toohello шлюза приложения hello.</span><span class="sxs-lookup"><span data-stu-id="7d90a-135">This sets hello tier of hello application gateway toohello WAF tier.</span></span>|
   |<span data-ttu-id="7d90a-136">**Состояние брандмауэра**</span><span class="sxs-lookup"><span data-stu-id="7d90a-136">**Firewall status**</span></span>| <span data-ttu-id="7d90a-137">Включено</span><span class="sxs-lookup"><span data-stu-id="7d90a-137">Enabled</span></span> | <span data-ttu-id="7d90a-138">Этот параметр включает hello брандмауэр на hello WAF.</span><span class="sxs-lookup"><span data-stu-id="7d90a-138">This setting enables hello firewall on hello WAF.</span></span>|
   |<span data-ttu-id="7d90a-139">**Режим брандмауэра**</span><span class="sxs-lookup"><span data-stu-id="7d90a-139">**Firewall mode**</span></span> | <span data-ttu-id="7d90a-140">Предотвращение</span><span class="sxs-lookup"><span data-stu-id="7d90a-140">Prevention</span></span> | <span data-ttu-id="7d90a-141">Этот параметр определяет, как брандмауэр веб-приложения поступает с вредоносным трафиком.</span><span class="sxs-lookup"><span data-stu-id="7d90a-141">This setting is how web application firewall deals with malicious traffic.</span></span> <span data-ttu-id="7d90a-142">**Обнаружение** режим только журналы событий hello, где **Предотвращение** режим регистрирует события hello и останавливает hello вредоносного трафика.</span><span class="sxs-lookup"><span data-stu-id="7d90a-142">**Detection** mode only logs hello events, where **Prevention** mode logs hello events and stops hello malicious traffic.</span></span>|
   |<span data-ttu-id="7d90a-143">**Набор правил**</span><span class="sxs-lookup"><span data-stu-id="7d90a-143">**Rule set**</span></span>|<span data-ttu-id="7d90a-144">3.0</span><span class="sxs-lookup"><span data-stu-id="7d90a-144">3.0</span></span>|<span data-ttu-id="7d90a-145">Этот параметр определяет hello [основной набор правил](application-gateway-web-application-firewall-overview.md#core-rule-sets) , используемые tooprotect hello внутренних членов пула.</span><span class="sxs-lookup"><span data-stu-id="7d90a-145">This setting determines hello [core rule set](application-gateway-web-application-firewall-overview.md#core-rule-sets) that is used tooprotect hello backend pool members.</span></span>|
   |<span data-ttu-id="7d90a-146">**Настройка отключенных правил**</span><span class="sxs-lookup"><span data-stu-id="7d90a-146">**Configure disabled rules**</span></span>|<span data-ttu-id="7d90a-147">различные</span><span class="sxs-lookup"><span data-stu-id="7d90a-147">varies</span></span>|<span data-ttu-id="7d90a-148">tooprevent возможных ложных положительных результатов, этот параметр позволяет toodisable определенных [правил и групп правил](application-gateway-crs-rulegroups-rules.md).</span><span class="sxs-lookup"><span data-stu-id="7d90a-148">tooprevent possible false positives, this setting allows you toodisable certain [rules and rule groups](application-gateway-crs-rulegroups-rules.md).</span></span>|

    >[!NOTE]
    > <span data-ttu-id="7d90a-149">При обновлении существующего шлюза приложения toohello WAF SKU, hello SKU размер изменения слишком**Средний**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-149">When upgrading an existing application gateway toohello WAF SKU, hello SKU size changes too**medium**.</span></span> <span data-ttu-id="7d90a-150">Это можно изменить после завершения настройки.</span><span class="sxs-lookup"><span data-stu-id="7d90a-150">This can be reconfigured after configuration is complete.</span></span>

    ![Колонка основных параметров][2-1]

    > [!NOTE]
    > <span data-ttu-id="7d90a-152">журналы брандмауэра приложений web tooview, диагностика должна быть включена и выбран ApplicationGatewayFirewallLog.</span><span class="sxs-lookup"><span data-stu-id="7d90a-152">tooview web application firewall logs, diagnostics must be enabled and ApplicationGatewayFirewallLog selected.</span></span> <span data-ttu-id="7d90a-153">Для тестирования можно выбрать число экземпляров, равное 1.</span><span class="sxs-lookup"><span data-stu-id="7d90a-153">An instance count of 1 can be chosen for testing purposes.</span></span> <span data-ttu-id="7d90a-154">Очень важно, tooknow, что любой экземпляр подсчет в двух экземпляров не распространяется действие соглашения об уровне ОБСЛУЖИВАНИЯ hello и поэтому не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="7d90a-154">It is important tooknow that any instance count under two instances is not covered by hello SLA and are therefore not recommended.</span></span> <span data-ttu-id="7d90a-155">При использовании брандмауэра веб-приложения шлюзы уровня "Мелкий" недоступны.</span><span class="sxs-lookup"><span data-stu-id="7d90a-155">Small gateways are not available when using web application firewall.</span></span>

## <a name="create-an-application-gateway-with-web-application-firewall"></a><span data-ttu-id="7d90a-156">создание шлюза приложений с брандмауэром веб-приложения</span><span class="sxs-lookup"><span data-stu-id="7d90a-156">Create an application gateway with web application firewall</span></span>

<span data-ttu-id="7d90a-157">Вы узнаете:</span><span class="sxs-lookup"><span data-stu-id="7d90a-157">This scenario will:</span></span>

* <span data-ttu-id="7d90a-158">как создать средний шлюз приложений с брандмауэром веб-приложения и двумя экземплярами;</span><span class="sxs-lookup"><span data-stu-id="7d90a-158">Create a medium web application firewall application gateway with two instances.</span></span>
* <span data-ttu-id="7d90a-159">как создать виртуальную сеть AdatumAppGatewayVNET с зарезервированным блоком CIDR (10.0.0.0/16);</span><span class="sxs-lookup"><span data-stu-id="7d90a-159">Create a virtual network named AdatumAppGatewayVNET with a reserved CIDR block of 10.0.0.0/16.</span></span>
* <span data-ttu-id="7d90a-160">как создать подсеть с именем Appgatewaysubnet и блоком CIDR (10.0.0.0/28);</span><span class="sxs-lookup"><span data-stu-id="7d90a-160">Create a subnet called Appgatewaysubnet that uses 10.0.0.0/28 as its CIDR block.</span></span>
* <span data-ttu-id="7d90a-161">как настроить сертификат для разгрузки SSL.</span><span class="sxs-lookup"><span data-stu-id="7d90a-161">Configure a certificate for SSL offload.</span></span>

1. <span data-ttu-id="7d90a-162">Войдите в toohello [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="7d90a-162">Log in toohello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="7d90a-163">Если у вас нет учетной записи, вы можете зарегистрироваться для получения [бесплатной пробной версии на один месяц](https://azure.microsoft.com/free).</span><span class="sxs-lookup"><span data-stu-id="7d90a-163">If you don't already have an account, you can sign up for a [free one-month trial](https://azure.microsoft.com/free)</span></span>
1. <span data-ttu-id="7d90a-164">В области "Избранное" hello hello портала щелкните **New**</span><span class="sxs-lookup"><span data-stu-id="7d90a-164">In hello Favorites pane of hello portal, click **New**</span></span>
1. <span data-ttu-id="7d90a-165">В hello **New** колонка, щелкните **сети**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-165">In hello **New** blade, click **Networking**.</span></span> <span data-ttu-id="7d90a-166">В hello **сети** колонка, щелкните **шлюза приложений**, как показано в hello после изображения:</span><span class="sxs-lookup"><span data-stu-id="7d90a-166">In hello **Networking** blade, click **Application Gateway**, as shown in hello following image:</span></span>
1. <span data-ttu-id="7d90a-167">Перейдите toohello портал Azure, щелкните **New** > **сети** > **шлюза приложений**</span><span class="sxs-lookup"><span data-stu-id="7d90a-167">Navigate toohello Azure portal, click **New** > **Networking** > **Application Gateway**</span></span>

    ![Создание шлюза приложений][1]

1. <span data-ttu-id="7d90a-169">В hello **основы** колонки, отображается, введите следующие значения hello, затем щелкните **ОК**:</span><span class="sxs-lookup"><span data-stu-id="7d90a-169">In hello **Basics** blade that appears, enter hello following values, then click **OK**:</span></span>

   | <span data-ttu-id="7d90a-170">**Параметр**</span><span class="sxs-lookup"><span data-stu-id="7d90a-170">**Setting**</span></span> | <span data-ttu-id="7d90a-171">**Значение**</span><span class="sxs-lookup"><span data-stu-id="7d90a-171">**Value**</span></span> | <span data-ttu-id="7d90a-172">**Дополнительные сведения**</span><span class="sxs-lookup"><span data-stu-id="7d90a-172">**Details**</span></span>
   |---|---|---|
   |<span data-ttu-id="7d90a-173">**Имя**</span><span class="sxs-lookup"><span data-stu-id="7d90a-173">**Name**</span></span>|<span data-ttu-id="7d90a-174">AdatumAppGateway</span><span class="sxs-lookup"><span data-stu-id="7d90a-174">AdatumAppGateway</span></span>|<span data-ttu-id="7d90a-175">имя шлюза приложения hello Hello</span><span class="sxs-lookup"><span data-stu-id="7d90a-175">hello name of hello application gateway</span></span>|
   |<span data-ttu-id="7d90a-176">**Уровень**</span><span class="sxs-lookup"><span data-stu-id="7d90a-176">**Tier**</span></span>|<span data-ttu-id="7d90a-177">WAF</span><span class="sxs-lookup"><span data-stu-id="7d90a-177">WAF</span></span>|<span data-ttu-id="7d90a-178">Доступные значения: "Стандартный" или "WAF".</span><span class="sxs-lookup"><span data-stu-id="7d90a-178">Available values are Standard and WAF.</span></span> <span data-ttu-id="7d90a-179">Посетите [брандмауэр веб-приложения](application-gateway-web-application-firewall-overview.md) toolearn Дополнительные сведения о WAF.</span><span class="sxs-lookup"><span data-stu-id="7d90a-179">Visit [web application firewall](application-gateway-web-application-firewall-overview.md) toolearn more about WAF.</span></span>|
   |<span data-ttu-id="7d90a-180">**Размер номера SKU**</span><span class="sxs-lookup"><span data-stu-id="7d90a-180">**SKU Size**</span></span>|<span data-ttu-id="7d90a-181">Средний</span><span class="sxs-lookup"><span data-stu-id="7d90a-181">Medium</span></span>|<span data-ttu-id="7d90a-182">При выборе уровня "Стандартный" доступны мелкий, средний и большой размеры.</span><span class="sxs-lookup"><span data-stu-id="7d90a-182">Choices when choosing Standard tier are Small, Medium, and Large.</span></span> <span data-ttu-id="7d90a-183">При выборе уровня "WAF" можно выбрать только средний или большой размер.</span><span class="sxs-lookup"><span data-stu-id="7d90a-183">When choosing WAF tier, options are Medium and Large only.</span></span>|
   |<span data-ttu-id="7d90a-184">**Число экземпляров**</span><span class="sxs-lookup"><span data-stu-id="7d90a-184">**Instance count**</span></span>|<span data-ttu-id="7d90a-185">2</span><span class="sxs-lookup"><span data-stu-id="7d90a-185">2</span></span>|<span data-ttu-id="7d90a-186">Количество экземпляров шлюза приложения hello для обеспечения высокой доступности.</span><span class="sxs-lookup"><span data-stu-id="7d90a-186">Number of instances of hello application gateway for high availability.</span></span> <span data-ttu-id="7d90a-187">Количество экземпляров, равное 1, следует использовать только для тестирования.</span><span class="sxs-lookup"><span data-stu-id="7d90a-187">Instance counts of 1 should only be used for testing purposes.</span></span>|
   |<span data-ttu-id="7d90a-188">**Подписка**</span><span class="sxs-lookup"><span data-stu-id="7d90a-188">**Subscription**</span></span>|<span data-ttu-id="7d90a-189">[Ваша подписка]</span><span class="sxs-lookup"><span data-stu-id="7d90a-189">[Your subscription]</span></span>|<span data-ttu-id="7d90a-190">Выберите шлюз приложения hello toocreate подписки в.</span><span class="sxs-lookup"><span data-stu-id="7d90a-190">Select a subscription toocreate hello application gateway in.</span></span>|
   |<span data-ttu-id="7d90a-191">**Группа ресурсов**</span><span class="sxs-lookup"><span data-stu-id="7d90a-191">**Resource group**</span></span>|<span data-ttu-id="7d90a-192">**Создать:** AdatumAppGatewayRG</span><span class="sxs-lookup"><span data-stu-id="7d90a-192">**Create new:** AdatumAppGatewayRG</span></span>|<span data-ttu-id="7d90a-193">Создайте группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7d90a-193">Create a resource group.</span></span> <span data-ttu-id="7d90a-194">Имя группы ресурсов Hello должно быть уникальным в пределах hello подписки, выбранной.</span><span class="sxs-lookup"><span data-stu-id="7d90a-194">hello resource group name must be unique within hello subscription you selected.</span></span> <span data-ttu-id="7d90a-195">Дополнительные сведения о группах ресурсов, чтение hello toolearn [диспетчера ресурсов](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fapplication-gateway%2ftoc.json#resource-groups) обзорную статью.</span><span class="sxs-lookup"><span data-stu-id="7d90a-195">toolearn more about resource groups, read hello [Resource Manager](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fapplication-gateway%2ftoc.json#resource-groups) overview article.</span></span>|
   |<span data-ttu-id="7d90a-196">**Расположение**</span><span class="sxs-lookup"><span data-stu-id="7d90a-196">**Location**</span></span>|<span data-ttu-id="7d90a-197">Запад США</span><span class="sxs-lookup"><span data-stu-id="7d90a-197">West US</span></span>||

   ![Колонка основных параметров][2-2]

1. <span data-ttu-id="7d90a-199">В hello **параметры** колонки, отображается в узле **виртуальная сеть**, нажмите кнопку **выберите виртуальную сеть**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-199">In hello **Settings** blade that appears under **Virtual network**, click **Choose a virtual network**.</span></span> <span data-ttu-id="7d90a-200">Этот шаг откроется введите hello **виртуальной сети выберите** колонку.</span><span class="sxs-lookup"><span data-stu-id="7d90a-200">This step opens enter hello **Choose virtual network** blade.</span></span>  <span data-ttu-id="7d90a-201">Нажмите кнопку **создать новый** tooopen hello **Создание виртуальной сети** колонку.</span><span class="sxs-lookup"><span data-stu-id="7d90a-201">Click **Create new** tooopen hello **Create virtual network** blade.</span></span>

   ![Выбор виртуальной сети][2]

1. <span data-ttu-id="7d90a-203">На hello **Создание виртуальной сети колонке** введите следующие значения hello, а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-203">On hello **Create virtual network blade** enter hello following values, then click **OK**.</span></span> <span data-ttu-id="7d90a-204">Этот шаг закрывает hello **Создание виртуальной сети** и **виртуальной сети выберите** колонок.</span><span class="sxs-lookup"><span data-stu-id="7d90a-204">This step closes hello **Create virtual network** and **Choose virtual network** blades.</span></span> <span data-ttu-id="7d90a-205">Это заполняет hello **подсети** на hello **параметры** колонка с выбранной подсети hello.</span><span class="sxs-lookup"><span data-stu-id="7d90a-205">This populates hello **Subnet** field on hello **Settings** blade with hello subnet chosen.</span></span>

   |<span data-ttu-id="7d90a-206">**Параметр**</span><span class="sxs-lookup"><span data-stu-id="7d90a-206">**Setting**</span></span> | <span data-ttu-id="7d90a-207">**Значение**</span><span class="sxs-lookup"><span data-stu-id="7d90a-207">**Value**</span></span> | <span data-ttu-id="7d90a-208">**Дополнительные сведения**</span><span class="sxs-lookup"><span data-stu-id="7d90a-208">**Details**</span></span> |
   |---|---|---|
   |<span data-ttu-id="7d90a-209">**Имя**</span><span class="sxs-lookup"><span data-stu-id="7d90a-209">**Name**</span></span>|<span data-ttu-id="7d90a-210">AdatumAppGatewayVNET</span><span class="sxs-lookup"><span data-stu-id="7d90a-210">AdatumAppGatewayVNET</span></span>|<span data-ttu-id="7d90a-211">Имя шлюза приложения hello</span><span class="sxs-lookup"><span data-stu-id="7d90a-211">Name of hello application gateway</span></span>|
   |<span data-ttu-id="7d90a-212">**Адресное пространство**</span><span class="sxs-lookup"><span data-stu-id="7d90a-212">**Address Space**</span></span>|<span data-ttu-id="7d90a-213">10.0.0.0/16</span><span class="sxs-lookup"><span data-stu-id="7d90a-213">10.0.0.0/16</span></span>| <span data-ttu-id="7d90a-214">Это значение является hello адресное пространство виртуальной сети hello</span><span class="sxs-lookup"><span data-stu-id="7d90a-214">This value is hello address space for hello virtual network</span></span>|
   |<span data-ttu-id="7d90a-215">**Имя подсети**</span><span class="sxs-lookup"><span data-stu-id="7d90a-215">**Subnet name**</span></span>|<span data-ttu-id="7d90a-216">AppGatewaySubnet</span><span class="sxs-lookup"><span data-stu-id="7d90a-216">AppGatewaySubnet</span></span>|<span data-ttu-id="7d90a-217">Имя подсети hello для шлюза приложения hello</span><span class="sxs-lookup"><span data-stu-id="7d90a-217">Name of hello subnet for hello application gateway</span></span>|
   |<span data-ttu-id="7d90a-218">**Диапазон адресов подсети**</span><span class="sxs-lookup"><span data-stu-id="7d90a-218">**Subnet address range**</span></span>|<span data-ttu-id="7d90a-219">10.0.0.0/28</span><span class="sxs-lookup"><span data-stu-id="7d90a-219">10.0.0.0/28</span></span> | <span data-ttu-id="7d90a-220">Эта подсеть позволяет несколько дополнительных подсетей в виртуальной сети hello для внутренних членов пула</span><span class="sxs-lookup"><span data-stu-id="7d90a-220">This subnet allows more additional subnets in hello virtual network for backend pool members</span></span>|

1. <span data-ttu-id="7d90a-221">На hello **параметры** колонке под **конфигурации интерфейсных IP-адресов**, выберите **открытый** как hello **тип IP-адреса**</span><span class="sxs-lookup"><span data-stu-id="7d90a-221">On hello **Settings** blade under **Frontend IP configuration**, choose **Public** as hello **IP address type**</span></span>

1. <span data-ttu-id="7d90a-222">На hello **параметры** колонке под **общедоступный IP-адрес**, нажмите кнопку **выберите общедоступный IP-адрес**, это приведет к открытию hello **выберите общедоступный IP-адрес**колонка, щелкните **создать новый**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-222">On hello **Settings** blade under **Public IP address**, click **Choose a public IP address**, this step opens hello **Choose public IP address** blade, click **Create new**.</span></span>

   ![Выбор общедоступного IP-адреса][3]

1. <span data-ttu-id="7d90a-224">На hello **создать общедоступный IP-адрес** , примите значение по умолчанию hello и, при необходимости щелкните **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-224">On hello **Create public IP address** blade, accept hello default value, and click **OK**.</span></span> <span data-ttu-id="7d90a-225">Этот шаг закрывает hello **выберите общедоступный IP-адрес** колонки, hello **создать общедоступный IP-адрес** колонке и заполнить **общедоступный IP-адрес** с hello общедоступный IP-адрес выбранного.</span><span class="sxs-lookup"><span data-stu-id="7d90a-225">This step closes hello **Choose public IP address** blade, hello **Create public IP address** blade, and populate **Public IP address** with hello public IP address chosen.</span></span>

1. <span data-ttu-id="7d90a-226">На hello **параметры** колонке под **конфигурации прослушивателя**, нажмите кнопку **HTTP** под **протокола**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-226">On hello **Settings** blade under **Listener configuration**, click **HTTP** under **Protocol**.</span></span> <span data-ttu-id="7d90a-227">toouse **https**, требуется сертификат.</span><span class="sxs-lookup"><span data-stu-id="7d90a-227">toouse **https**, a certificate is required.</span></span> <span data-ttu-id="7d90a-228">закрытый ключ сертификата hello Hello необходимости, так, что экспорт hello сертификата PFX-файл должен toobe предоставленный и hello пароль для файла hello.</span><span class="sxs-lookup"><span data-stu-id="7d90a-228">hello private key of hello certificate is needed so a .pfx export of hello certificate needs toobe provided and hello password for hello file.</span></span>

1. <span data-ttu-id="7d90a-229">Настройка hello **WAF** определенные параметры.</span><span class="sxs-lookup"><span data-stu-id="7d90a-229">Configure hello **WAF** specific settings.</span></span>

   |<span data-ttu-id="7d90a-230">**Параметр**</span><span class="sxs-lookup"><span data-stu-id="7d90a-230">**Setting**</span></span> | <span data-ttu-id="7d90a-231">**Значение**</span><span class="sxs-lookup"><span data-stu-id="7d90a-231">**Value**</span></span> | <span data-ttu-id="7d90a-232">**Дополнительные сведения**</span><span class="sxs-lookup"><span data-stu-id="7d90a-232">**Details**</span></span> |
   |---|---|---|
   |<span data-ttu-id="7d90a-233">**Состояние брандмауэра**</span><span class="sxs-lookup"><span data-stu-id="7d90a-233">**Firewall status**</span></span>| <span data-ttu-id="7d90a-234">Включено</span><span class="sxs-lookup"><span data-stu-id="7d90a-234">Enabled</span></span>| <span data-ttu-id="7d90a-235">Этот параметр позволяет включить или отключить WAF.</span><span class="sxs-lookup"><span data-stu-id="7d90a-235">This setting turns WAF on or off.</span></span>|
   |<span data-ttu-id="7d90a-236">**Режим брандмауэра**</span><span class="sxs-lookup"><span data-stu-id="7d90a-236">**Firewall mode**</span></span> | <span data-ttu-id="7d90a-237">Предотвращение</span><span class="sxs-lookup"><span data-stu-id="7d90a-237">Prevention</span></span>| <span data-ttu-id="7d90a-238">Этот параметр определяет hello действия, которые принимает WAF вредоносного трафика.</span><span class="sxs-lookup"><span data-stu-id="7d90a-238">This setting determines hello actions WAF takes on malicious traffic.</span></span> <span data-ttu-id="7d90a-239">Если выбран режим **Обнаружение**, то трафик только регистрируются в журнале.</span><span class="sxs-lookup"><span data-stu-id="7d90a-239">If **Detection** is chosen, traffic is only logged.</span></span>  <span data-ttu-id="7d90a-240">Если выбран режим **Предотвращение**, то трафик регистрируется в журнале и останавливается с выводом ответа "403 — не авторизовано".</span><span class="sxs-lookup"><span data-stu-id="7d90a-240">If **Prevention** is chosen, traffic is logged and stopped with a 403 Unauthorized response.</span></span>|


1. <span data-ttu-id="7d90a-241">Просмотрите страницу сводки hello и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7d90a-241">Review hello Summary page and click **OK**.</span></span>  <span data-ttu-id="7d90a-242">Теперь в очередь и создания шлюза приложения hello.</span><span class="sxs-lookup"><span data-stu-id="7d90a-242">Now hello application gateway is queued up and created.</span></span>

1. <span data-ttu-id="7d90a-243">После создания шлюза приложения hello перейдите tooit в конфигурации портала toocontinue hello шлюза приложения hello.</span><span class="sxs-lookup"><span data-stu-id="7d90a-243">Once hello application gateway has been created, navigate tooit in hello portal toocontinue configuration of hello application gateway.</span></span>

    ![Представление ресурса шлюза приложений][10]

<span data-ttu-id="7d90a-245">Эти шаги создают шлюза простое приложение с параметрами по умолчанию для прослушивателя hello, внутреннего пула, параметров серверного http и правил.</span><span class="sxs-lookup"><span data-stu-id="7d90a-245">These steps create a basic application gateway with default settings for hello listener, backend pool, backend http settings, and rules.</span></span> <span data-ttu-id="7d90a-246">Можно изменить эти параметры toosuit развертывания после успешной подготовки hello</span><span class="sxs-lookup"><span data-stu-id="7d90a-246">You can modify these settings toosuit your deployment once hello provisioning is successful</span></span>

> [!NOTE]
> <span data-ttu-id="7d90a-247">Шлюзы приложений, созданных с помощью конфигурации брандмауэра hello основные веб-приложений, настроенных с CRS 3.0 для защиты.</span><span class="sxs-lookup"><span data-stu-id="7d90a-247">Application gateways created with hello basic web application firewall configuration are configured with CRS 3.0 for protections.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7d90a-248">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7d90a-248">Next steps</span></span>

<span data-ttu-id="7d90a-249">Далее рассказывается, как tooconfigure псевдонимом пользовательского домена для hello [общедоступный IP-адрес](../dns/dns-custom-domain.md#public-ip-address) с помощью Azure DNS или другого поставщика DNS.</span><span class="sxs-lookup"><span data-stu-id="7d90a-249">Next, you can learn how tooconfigure a custom domain alias for hello [public IP address](../dns/dns-custom-domain.md#public-ip-address) using Azure DNS or another DNS provider.</span></span>

<span data-ttu-id="7d90a-250">Узнайте, как ведение журнала диагностики tooconfigure, toolog hello события, которые обнаружены или предотвратить брандмауэр веб-приложения, посетив [диагностики шлюза приложений](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="7d90a-250">Learn how tooconfigure diagnostic logging, toolog hello events that are detected or prevented with web application firewall by visiting [Application Gateway Diagnostics](application-gateway-diagnostics.md)</span></span>

<span data-ttu-id="7d90a-251">Узнайте, как пользовательские работоспособности toocreate проверяет, посетив [пробу пользовательского состояния](application-gateway-create-probe-portal.md)</span><span class="sxs-lookup"><span data-stu-id="7d90a-251">Learn how toocreate custom health probes by visiting [Create a custom health probe](application-gateway-create-probe-portal.md)</span></span>

<span data-ttu-id="7d90a-252">Узнайте, как tooconfigure разгрузки SSL и дешифрования SSL дорогостоящих take hello off веб-серверов, посетив [Настройка разгрузки SSL](application-gateway-ssl-portal.md)</span><span class="sxs-lookup"><span data-stu-id="7d90a-252">Learn how tooconfigure SSL Offloading and take hello costly SSL decryption off your web servers by visiting [Configure SSL Offload](application-gateway-ssl-portal.md)</span></span>

<!--Image references-->
[1]: ./media/application-gateway-web-application-firewall-portal/figure1.png
[2]: ./media/application-gateway-web-application-firewall-portal/figure2.png
[2-1]: ./media/application-gateway-web-application-firewall-portal/figure2-1.png
[2-2]: ./media/application-gateway-web-application-firewall-portal/figure2-2.png
[3]: ./media/application-gateway-web-application-firewall-portal/figure3.png
[10]: ./media/application-gateway-web-application-firewall-portal/figure10.png
[scenario]: ./media/application-gateway-web-application-firewall-portal/scenario.png
