---
title: "Настройка разгрузки SSL для шлюза приложений Azure с помощью портала Azure | Документация Майкрософт"
description: "В этой статье приводятся инструкции по созданию шлюза приложений с разгрузкой SSL с помощью портала Azure."
documentationcenter: na
services: application-gateway
author: davidmu1
manager: timlt
editor: tysonn
ms.assetid: 8373379a-a26a-45d2-aa62-dd282298eff3
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 01/23/2017
ms.author: davidmu
ms.openlocfilehash: 2f7f5d4132e28c8c192d90d5f4bfb2a9034f8b8c
ms.sourcegitcommit: b5c6197f997aa6858f420302d375896360dd7ceb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2017
---
# <a name="configure-an-application-gateway-for-ssl-offload-by-using-the-azure-portal"></a>Настройка шлюза приложений для разгрузки SSL с помощью портала Azure

> [!div class="op_single_selector"]
> * [портал Azure](application-gateway-ssl-portal.md)
> * [PowerShell и диспетчер ресурсов Azure](application-gateway-ssl-arm.md)
> * [Классическая модель — Azure PowerShell](application-gateway-ssl.md)
> * [Azure CLI 2.0](application-gateway-ssl-cli.md)

Шлюз приложений Azure можно настроить на завершение сеанса SSL в шлюзе, что позволит избежать выполнения дорогостоящей задачи SSL-шифрования на веб-ферме. Кроме того, разгрузка SSL упрощает процесс установки внешнего сервера и управления веб-приложением.

## <a name="scenario"></a>Сценарий

В следующем сценарии рассматривается настройка разгрузки SSL в имеющемся шлюзе приложений. Предполагается, что действия по [созданию шлюза приложений](application-gateway-create-gateway-portal.md) уже выполнены.

## <a name="before-you-begin"></a>Перед началом работы

Чтобы настроить разгрузку SSL с помощью шлюза приложений, требуется сертификат. Этот сертификат загружается в шлюз приложений и используется для шифрования и расшифровки трафика, передаваемого через подключение SSL. Сертификат должен быть в формате PFX (файл обмена личной информацией). Этот формат файла позволяет экспортировать закрытый ключ, необходимый шлюзу приложений для шифрования и расшифровки трафика.

## <a name="add-an-https-listener"></a>Добавление прослушивателя HTTPS

Прослушиватель HTTPS ищет трафик согласно заданной конфигурации и помогает направлять трафик во внутренние пулы. Чтобы добавить прослушиватель HTTPS, сделайте следующее:

   1. Перейдите на портал Azure и выберите имеющийся шлюз приложений.

   2. Щелкните **Прослушиватели** и нажмите кнопку **Добавить**, чтобы добавить прослушиватель.

   ![Область обзора шлюза приложения][1]


   3. Введите необходимые сведения о прослушивателе и передайте PFX-файл сертификата.
      - **Имя** — понятное имя прослушивателя.

      - **Frontend IP configuration** (Интерфейсная IP-конфигурация) — конфигурация интерфейсных IP-адресов, используемая для прослушивателя.

      - **Frontend port (Name/Port)** (Интерфейсный порт (имя и порт)) — понятное имя порта, используемого во внешнем интерфейсе шлюза приложений, и фактически используемый порт.

      - **Протокол** — параметр, позволяющий определить протокол, используемый для внешнего интерфейса: HTTPS или HTTP.

      - **Certificate (Name/Password)** (Сертификат (имя и пароль)) — если используется разгрузка SSL, то для этого параметра требуется указать PFX-файл сертификата. Понятное имя и пароль также необходимы.

   4. Нажмите кнопку **ОК**.

![Область добавления прослушивателя][2]

## <a name="create-a-rule-and-associate-it-to-the-listener"></a>Создание правила и его привязка к прослушивателю

Теперь прослушиватель создан. Создайте правило для обработки трафика, поступающего от этого прослушивателя. Правила определяют, как трафик направляется во внутренние пулы, согласно параметрам нескольких конфигураций, включая использование сходства сеансов на основе файлов cookie, а также протокол, порт и пробы работоспособности. Чтобы создать правило и привязать его к прослушивателю, сделайте следующее:


   1. Выберите **Правила** для шлюза приложений, а затем щелкните **Добавить**.

   ![Область правил шлюза приложения][3]


   2. В разделе **Add basic rule** (Добавление базового правила) в поле **Имя** введите понятное имя правила и выберите **прослушиватель**, созданный на предыдущем шаге. Выберите соответствующий **внутренний пул** и **параметр HTTP**, а затем нажмите кнопку **ОК**.

   ![Окно параметров HTTPS][4]

Теперь параметры сохранены в шлюзе приложений. Процесс сохранения этих параметров может занять некоторое время, которое пройдет, прежде чем они станут доступны для просмотра посредством портала или PowerShell. После сохранения параметров шлюз приложений выполняет шифрование и расшифровку трафика. Весь трафик между шлюзом приложений и внутренними веб-серверами будет передаваться с помощью протокола HTTP. Если передача была инициирована по протоколу HTTPS, то любые данные, передаваемые обратно клиенту, будут шифроваться.

## <a name="next-steps"></a>Дальнейшие действия

Чтобы узнать, как настроить пользовательскую пробу работоспособности с использованием шлюза приложений Azure, ознакомьтесь с разделом [Create a custom probe for Application Gateway by using the portal](application-gateway-create-gateway-portal.md)(Создание пользовательской пробы для шлюза приложений с помощью портала).

[1]: ./media/application-gateway-ssl-portal/figure1.png
[2]: ./media/application-gateway-ssl-portal/figure2.png
[3]: ./media/application-gateway-ssl-portal/figure3.png
[4]: ./media/application-gateway-ssl-portal/figure4.png

