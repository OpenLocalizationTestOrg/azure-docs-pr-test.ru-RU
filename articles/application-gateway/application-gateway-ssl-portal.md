---
title: "Настройка разгрузки SSL для шлюза приложений Azure с помощью портала Azure | Документация Майкрософт"
description: "На этой странице приводятся инструкции по созданию шлюза приложений с разгрузкой SSL с помощью портала."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: tysonn
ms.assetid: 8373379a-a26a-45d2-aa62-dd282298eff3
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 01/23/2017
ms.author: gwallace
ms.openlocfilehash: f61be0cc4c9274c9914f7c468ce48a2a3d0a4f4a
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="configure-an-application-gateway-for-ssl-offload-by-using-the-portal"></a>Настройка шлюза приложений для разгрузки SSL с помощью портала

> [!div class="op_single_selector"]
> * [портал Azure](application-gateway-ssl-portal.md)
> * [PowerShell и диспетчер ресурсов Azure](application-gateway-ssl-arm.md)
> * [Классическая модель — Azure PowerShell](application-gateway-ssl.md)
> * [Azure CLI 2.0](application-gateway-ssl-cli.md)

Шлюз приложений Azure можно настроить на завершение сеанса SSL в шлюзе, что позволит избежать выполнения дорогостоящей задачи SSL-шифрования на веб-ферме. Кроме того, разгрузка SSL упрощает процесс установки внешнего сервера и управления веб-приложением.

## <a name="scenario"></a>Сценарий

В следующем сценарии рассматривается настройка разгрузки SSL в существующем шлюзе приложений. Предполагается, что действия по [созданию шлюза приложений](application-gateway-create-gateway-portal.md)уже выполнены.

## <a name="before-you-begin"></a>Перед началом работы

Чтобы настроить разгрузку SSL с помощью шлюза приложений, требуется сертификат. Этот сертификат загружается в шлюз приложений и используется для шифрования и расшифровки трафика, передаваемого через подключение SSL. Сертификат должен быть в формате PFX (файл обмена личной информацией). Этот формат файла позволяет экспортировать закрытый ключ, необходимый шлюзу приложений для шифрования и расшифровки трафика.

## <a name="add-an-https-listener"></a>Добавление прослушивателя HTTPS

Прослушиватель HTTPS ищет трафик согласно заданной конфигурации и помогает направлять трафик во внутренние пулы.

### <a name="step-1"></a>Шаг 1

Перейдите на портал Azure и выберите существующий шлюз приложений.

### <a name="step-2"></a>Шаг 2

Щелкните "Прослушиватели" и нажмите кнопку "Добавить", чтобы добавить прослушиватель.

![Колонка обзора шлюза приложений][1]

### <a name="step-3"></a>Шаг 3.

Введите необходимые сведения о прослушивателе и передайте PFX-файл сертификата. По завершении нажмите кнопку "ОК".

**Имя** — понятное имя прослушивателя.

**Интерфейсная IP-конфигурация** — конфигурация интерфейсных IP-адресов, используемая для прослушивателя.

**Интерфейсный порт (имя и порт)** — понятное имя порта, используемого во внешнем интерфейсе шлюза приложений, и фактически используемый порт.

**Протокол** — параметр, позволяющий определить протокол, используемый для внешнего интерфейса: https или http.

**Сертификат (имя и пароль)** — если используется разгрузка SSL, то для этого параметра требуется указать PFX-файл сертификата, понятное имя и пароль.

![Колонка добавления прослушивателя][2]

## <a name="create-a-rule-and-associate-it-to-the-listener"></a>Создание правила и его привязка к прослушивателю

Теперь прослушиватель создан. Пора создать правило для обработки трафика, поступающего от этого прослушивателя. Правила определяют, как трафик направляется во внутренние пулы, согласно параметрам нескольких конфигураций, включая использование сходства сеансов на основе файлов cookie, а также протокол, порт и пробы работоспособности.

### <a name="step-1"></a>Шаг 1

Щелкните **Правила** для шлюза приложений, затем щелкните "Добавить".

![Колонка правил шлюза приложений][3]

### <a name="step-2"></a>Шаг 2

В колонке **Добавление базового правила** введите понятное имя правила и выберите прослушиватель, созданный на предыдущем шаге. Выберите соответствующий внутренний пул и параметр http, затем нажмите кнопку **ОК**

![Окно параметров HTTPS][4]

Теперь параметры сохранены в шлюзе приложений. Процесс сохранения этих параметров может занять некоторое время, которое пройдет, прежде чем они станут доступны для просмотра посредством портала или PowerShell. После сохранения параметров шлюз приложений выполняет шифрование и расшифровку трафика. Весь трафик между шлюзом приложений и внутренними веб-серверами будет передаваться с помощью протокола HTTP. Если передача была инициирована по протоколу HTTPS, то любые данные, передаваемые обратно клиенту, будут шифроваться.

## <a name="next-steps"></a>Дальнейшие действия

Чтобы узнать, как настроить пользовательскую пробу работоспособности с использованием шлюза приложений Azure, ознакомьтесь с разделом [Create a custom probe for Application Gateway by using the portal](application-gateway-create-gateway-portal.md)(Создание пользовательской пробы для шлюза приложений с помощью портала).

[1]: ./media/application-gateway-ssl-portal/figure1.png
[2]: ./media/application-gateway-ssl-portal/figure2.png
[3]: ./media/application-gateway-ssl-portal/figure3.png
[4]: ./media/application-gateway-ssl-portal/figure4.png
