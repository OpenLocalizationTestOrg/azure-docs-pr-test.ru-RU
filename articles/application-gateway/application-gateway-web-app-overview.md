---
title: "aaaOverview обратно несколькими клиентами заканчивается шлюза приложения Azure | Документы Microsoft"
description: "Эта страница предоставляет обзор поддержки шлюза приложения hello для заканчивается обратной несколькими клиентами."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: 
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: gwallace
ms.openlocfilehash: b7da8c9c68e34bd83ad2b828fab62c00caea354a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="application-gateway-support-for-multi-tenant-back-ends"></a><span data-ttu-id="54146-103">Поддерживает ли шлюз приложений мультитенантные серверные части</span><span class="sxs-lookup"><span data-stu-id="54146-103">Application Gateway support for multi-tenant back ends</span></span>

<span data-ttu-id="54146-104">Шлюз приложений Azure поддерживает масштабируемые наборы виртуальных машин, сетевые интерфейсы, частные и общедоступные IP-адреса или полные доменные имена в качестве пулов серверной части.</span><span class="sxs-lookup"><span data-stu-id="54146-104">Azure Application Gateway supports virtual machine scale sets, network interfaces, public/private IP, or fully qualified domain name (FQDN) as part of its back end pools.</span></span> <span data-ttu-id="54146-105">По умолчанию шлюз приложений не изменяет hello входящих заголовок узла HTTP от клиента hello и отправляет hello заголовок неизмененным toohello серверной части.</span><span class="sxs-lookup"><span data-stu-id="54146-105">By default, application gateway does not change hello incoming HTTP host header from hello client and sends hello header unaltered toohello back end.</span></span> <span data-ttu-id="54146-106">Существует много служб, таких как [веб-приложениях Azure](../app-service-web/app-service-web-overview.md) и [управления API](../api-management/api-management-key-concepts.md) , которые нескольких клиентов по своей природе и зависящие от конкретного узла заголовок или SNI расширения tooresolve toohello правильную конечную точку.</span><span class="sxs-lookup"><span data-stu-id="54146-106">There are many services like [Azure Web Apps](../app-service-web/app-service-web-overview.md) and [API Management](../api-management/api-management-key-concepts.md) that are multi-tenant in nature and rely on a specific host header or SNI extension tooresolve toohello correct endpoint.</span></span> <span data-ttu-id="54146-107">Шлюз приложений теперь поддерживает hello возможности для пользователей toooverwrite hello входящих HTTP заголовок узла на основе параметров hello серверной части HTTP.</span><span class="sxs-lookup"><span data-stu-id="54146-107">Application Gateway now supports hello ability for users toooverwrite hello incoming HTTP host header based on hello back end HTTP settings.</span></span> <span data-ttu-id="54146-108">Эта возможность включает поддержку веб-приложений Azure и службы управления API с мультитенантными серверными частями.</span><span class="sxs-lookup"><span data-stu-id="54146-108">This capability enables support for multi-tenant back ends Azure web apps and API management.</span></span> <span data-ttu-id="54146-109">Эта возможность доступна для стандартных hello и WAF SKU.</span><span class="sxs-lookup"><span data-stu-id="54146-109">This capability is available for both hello standard and WAF SKU.</span></span> <span data-ttu-id="54146-110">Мультитенантное внутренних поддержки также работает с SSL завершения и окончания tooend SSL сценариев.</span><span class="sxs-lookup"><span data-stu-id="54146-110">Multi-tenant back end support also works with SSL termination and end tooend SSL scenarios.</span></span>

![сценарий веб-приложения](./media/application-gateway-web-app-overview/scenario.png)

<span data-ttu-id="54146-112">Переопределение узла определяется на toospecify возможность Hello hello параметры HTTP и может быть применен tooany обратно завершить пул при создании правила.</span><span class="sxs-lookup"><span data-stu-id="54146-112">hello ability toospecify a host override is defined at hello HTTP settings and can be applied tooany back end pool during rule creation.</span></span> <span data-ttu-id="54146-113">Мультитенантное обратно завершает hello поддержки следующих двух способов переопределения заголовок узла и расширение SNI.</span><span class="sxs-lookup"><span data-stu-id="54146-113">Multi-tenant back ends support hello following two ways of overriding host header and SNI extension.</span></span>

1. <span data-ttu-id="54146-114">Имя узла tooa для Hello возможность tooset hello фиксированное значение в hello параметры HTTP.</span><span class="sxs-lookup"><span data-stu-id="54146-114">hello ability tooset hello host name tooa fixed value in hello HTTP settings.</span></span> <span data-ttu-id="54146-115">Эта возможность гарантирует заголовок узла, hello переопределяется значение toothis для всех пула серверной части toohello трафика, где применяются параметры hello HTTP.</span><span class="sxs-lookup"><span data-stu-id="54146-115">This capability ensures that hello host header is overridden toothis value for all traffic toohello back end pool where hello HTTP settings are applied.</span></span> <span data-ttu-id="54146-116">При использовании tooend окончания SSL, это имя узла переопределенный используется в hello SNI расширения.</span><span class="sxs-lookup"><span data-stu-id="54146-116">When using end tooend SSL, this overridden host name is used in hello SNI extension.</span></span> <span data-ttu-id="54146-117">Эта возможность позволяет использовать сценарии, где ферме пула серверной части ожидает заголовок узла, который отличается от hello входящих заголовок узла клиента.</span><span class="sxs-lookup"><span data-stu-id="54146-117">This capability enables scenarios where a back end pool farm expects a host header that is different from hello incoming customer host header.</span></span>

2. <span data-ttu-id="54146-118">Hello возможность tooderive hello имя узла из hello IP-адрес или полное доменное имя члена пула hello серверной части.</span><span class="sxs-lookup"><span data-stu-id="54146-118">hello ability tooderive hello host name from hello IP or FQDN of hello back end pool members.</span></span> <span data-ttu-id="54146-119">Параметры HTTP также укажите имя узла hello toopick параметр из полного доменного ИМЕНИ член пула серверной части Если настроен с именем узла hello параметр tooderive от элемента пула отдельных серверной части.</span><span class="sxs-lookup"><span data-stu-id="54146-119">HTTP settings also provide an option toopick hello host name from a back end pool member's FQDN if configured with hello option tooderive host name from an individual back end pool member.</span></span> <span data-ttu-id="54146-120">При использовании tooend окончания SSL, это имя узла является производным от hello полное доменное имя и используется в hello SNI расширения.</span><span class="sxs-lookup"><span data-stu-id="54146-120">When using end tooend SSL, this host name is derived from hello FQDN and is used in hello SNI extension.</span></span> <span data-ttu-id="54146-121">Эта возможность позволяет использовать сценарии, в которых внутренний пул может содержать два или несколько служб PaaS несколькими клиентами, таких как веб-приложениях Azure, а член tooeach заголовок узла запроса hello hello имя узла, полученное от его полное доменное имя.</span><span class="sxs-lookup"><span data-stu-id="54146-121">This capability enables scenarios where a back end pool can have two or more multi-tenant PaaS services like Azure web apps and hello request's host header tooeach member contains hello host name derived from its FQDN.</span></span>

> [!NOTE]
> <span data-ttu-id="54146-122">В обоих предыдущих случаев hello hello параметры влияют только на поведение трафик динамической hello, а не hello поведение проверки работоспособности.</span><span class="sxs-lookup"><span data-stu-id="54146-122">In both of hello preceding cases hello settings only affect hello live traffic behavior and not hello health probe behavior.</span></span> <span data-ttu-id="54146-123">Настраиваемый уже зондами toospecify возможность поддержки hello заголовок узла в конфигурации пробы hello.</span><span class="sxs-lookup"><span data-stu-id="54146-123">Custom probes already support hello ability toospecify a host header in hello probe configuration.</span></span> <span data-ttu-id="54146-124">Пользовательские зонды теперь также поддерживает hello возможность tooderive hello узла заголовок поведение из параметров hello настроенного HTTP.</span><span class="sxs-lookup"><span data-stu-id="54146-124">Custom probes now also support hello ability tooderive hello host header behavior from hello currently configured HTTP settings.</span></span> <span data-ttu-id="54146-125">Эта конфигурация может быть указан с помощью hello `PickHostNameFromback endAddress` параметр в конфигурации пробы hello.</span><span class="sxs-lookup"><span data-stu-id="54146-125">This configuration can be specified by using hello `PickHostNameFromback endAddress` parameter in hello probe configuration.</span></span> <span data-ttu-id="54146-126">Для toowork функциональность tooend end измененные tooreflect hello правильной конфигурации необходимо hello проверки и параметры HTTP hello.</span><span class="sxs-lookup"><span data-stu-id="54146-126">For end tooend functionality toowork, both hello probe and hello HTTP settings must be modified tooreflect hello correct configuration.</span></span>

<span data-ttu-id="54146-127">Благодаря этой возможности клиенты укажите параметры hello в параметрах hello HTTP и настраиваемые зонды toohello соответствующей конфигурации.</span><span class="sxs-lookup"><span data-stu-id="54146-127">With this capability, customers specify hello options in hello HTTP settings and custom probes toohello appropriate configuration.</span></span> <span data-ttu-id="54146-128">Этот параметр затем привязывается tooa прослушивателя и обратно завершить пула с помощью правила.</span><span class="sxs-lookup"><span data-stu-id="54146-128">This setting is then tied tooa listener and a back end pool by using a rule.</span></span>

## <a name="next-steps"></a><span data-ttu-id="54146-129">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="54146-129">Next steps</span></span>

<span data-ttu-id="54146-130">Дополнительные сведения tooset копирование шлюза приложения с веб-приложения в качестве резервной конечного член пула, посетив: [Настройка приложения-службы веб-приложений с использование шлюза приложений](application-gateway-web-app-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="54146-130">Learn how tooset up an application gateway with a web app as a back end pool member by visiting: [Configure App Service web apps with Application Gateway](application-gateway-web-app-powershell.md)</span></span>
