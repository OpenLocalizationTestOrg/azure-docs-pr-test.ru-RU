---
title: "журналы и показатели данных аналитики хранилища Azure toocollect aaaUse | Документы Microsoft"
description: "Аналитика хранилища позволяет tootrack данные метрик для всех служб хранилища, а toocollect журналы для хранения больших двоичных объектов, очередей и таблиц."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 7894993b-ca42-4125-8f17-8f6dfe3dca76
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/03/2017
ms.author: robinsh
ms.openlocfilehash: aba1a236cb69fa2e60bcb8fda5d34841e36e379a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="storage-analytics"></a><span data-ttu-id="e8dfc-103">аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-103">Storage Analytics</span></span>

<span data-ttu-id="e8dfc-104">Аналитика хранилища Azure ведет журналы и предоставляет данные метрик для учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-104">Azure Storage Analytics performs logging and provides metrics data for a storage account.</span></span> <span data-ttu-id="e8dfc-105">Можно использовать этот tootrace запросы данных, анализа тенденций использования и диагностики проблем с вашей учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-105">You can use this data tootrace requests, analyze usage trends, and diagnose issues with your storage account.</span></span>

<span data-ttu-id="e8dfc-106">toouse аналитики хранилища ее необходимо включить отдельно для каждой службы требуется toomonitor.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-106">toouse Storage Analytics, you must enable it individually for each service you want toomonitor.</span></span> <span data-ttu-id="e8dfc-107">Его можно включить из hello [портала Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-107">You can enable it from hello [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="e8dfc-108">Дополнительные сведения см. в разделе [отслеживание учетной записи хранения в портале Azure hello](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-108">For details, see [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="e8dfc-109">Можно также включить аналитики хранилища программно через hello API-интерфейса REST или клиентской библиотеки hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-109">You can also enable Storage Analytics programmatically via hello REST API or hello client library.</span></span> <span data-ttu-id="e8dfc-110">Используйте hello [получение свойств службы BLOB-объектов](https://msdn.microsoft.com/library/hh452239.aspx), [получение свойств службы очередей](https://msdn.microsoft.com/library/hh452243.aspx), [получение свойств службы таблиц](https://msdn.microsoft.com/library/hh452238.aspx), и [свойств службы получения файлов](https://msdn.microsoft.com/library/mt427369.aspx) tooenable операций аналитики хранилища для каждой службы.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-110">Use hello [Get Blob Service Properties](https://msdn.microsoft.com/library/hh452239.aspx), [Get Queue Service Properties](https://msdn.microsoft.com/library/hh452243.aspx), [Get Table Service Properties](https://msdn.microsoft.com/library/hh452238.aspx), and [Get File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) operations tooenable Storage Analytics for each service.</span></span>

<span data-ttu-id="e8dfc-111">Hello статистические данные хранятся в известном большом двоичном объекте (для ведения журнала) и в известных таблицах (для метрик), к которым можно получить с помощью службы BLOB-объектов hello и API службы таблиц.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-111">hello aggregated data is stored in a well-known blob (for logging) and in well-known tables (for metrics), which may be accessed using hello Blob service and Table service APIs.</span></span>

<span data-ttu-id="e8dfc-112">Аналитике хранилища установлено ограничение в 20 ТБ для hello объема хранимых данных, которая независима от hello общее ограничение для вашей учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-112">Storage Analytics has a 20 TB limit on hello amount of stored data that is independent of hello total limit for your storage account.</span></span> <span data-ttu-id="e8dfc-113">Дополнительную информацию о выставлении счетов и политиках хранения данных см. в разделе [Аналитика хранилища и выставление счетов](https://msdn.microsoft.com/library/hh360997.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-113">For more information about billing and data retention policies, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span> <span data-ttu-id="e8dfc-114">Дополнительные сведения об ограничениях учетных записей хранения см. в разделе [Целевые показатели масштабируемости и производительности хранилища Azure](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-114">For more information about storage account limits, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>

<span data-ttu-id="e8dfc-115">Подробное руководство по использованию аналитики хранилища и других tooidentify средства диагностики и устранение неполадок, связанных с хранилищем Azure см. в разделе [монитора, диагностики и устранения неполадок хранилища Microsoft Azure](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-115">For an in-depth guide on using Storage Analytics and other tools tooidentify, diagnose, and troubleshoot Azure Storage-related issues, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="about-storage-analytics-logging"></a><span data-ttu-id="e8dfc-116">Информация о ведении журнала аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-116">About Storage Analytics logging</span></span>
<span data-ttu-id="e8dfc-117">Аналитика хранилища заносит в журнал подробные сведения о службе хранилища tooa успешных и неудачных запросах.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-117">Storage Analytics logs detailed information about successful and failed requests tooa storage service.</span></span> <span data-ttu-id="e8dfc-118">Эти сведения можно использовать toomonitor отдельных запросов и toodiagnose проблем со службой хранилища.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-118">This information can be used toomonitor individual requests and toodiagnose issues with a storage service.</span></span> <span data-ttu-id="e8dfc-119">Запросы вносятся в журнал наилучшим возможным образом.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-119">Requests are logged on a best-effort basis.</span></span>

<span data-ttu-id="e8dfc-120">Записи журнала создаются только при условии активности службы хранилища.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-120">Log entries are created only if there is storage service activity.</span></span> <span data-ttu-id="e8dfc-121">Например если учетной записи хранения имеет действия, в свою службу больших двоичных объектов, но не его таблиц или очередей служб, будут создаваться только журналы, имеющие отношение toohello службы BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-121">For example, if a storage account has activity in its Blob service but not in its Table or Queue services, only logs pertaining toohello Blob service will be created.</span></span>

<span data-ttu-id="e8dfc-122">Ведение журнала аналитики хранилища недоступно для хранилища файлов Azure.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-122">Storage Analytics Logging is not available for Azure File storage.</span></span>

### <a name="logging-authenticated-requests"></a><span data-ttu-id="e8dfc-123">Ведение журналов запросов, прошедших аутентификацию</span><span class="sxs-lookup"><span data-stu-id="e8dfc-123">Logging authenticated requests</span></span>
<span data-ttu-id="e8dfc-124">регистрируются следующие типы запросов на проверку подлинности Hello:</span><span class="sxs-lookup"><span data-stu-id="e8dfc-124">hello following types of authenticated requests are logged:</span></span>

* <span data-ttu-id="e8dfc-125">успешные запросы;</span><span class="sxs-lookup"><span data-stu-id="e8dfc-125">Successful requests.</span></span>
* <span data-ttu-id="e8dfc-126">неудачные запросы, в том числе из-за ошибок, связанных с временем ожидания, регулированием, сетью, авторизацией и др.;</span><span class="sxs-lookup"><span data-stu-id="e8dfc-126">Failed requests, including timeout, throttling, network, authorization, and other errors.</span></span>
* <span data-ttu-id="e8dfc-127">запросы, в которых используется подписанный URL-адрес (SAS), в том числе неудачные и успешные запросы;</span><span class="sxs-lookup"><span data-stu-id="e8dfc-127">Requests using a Shared Access Signature (SAS), including failed and successful requests.</span></span>
* <span data-ttu-id="e8dfc-128">Данные tooanalytics запросов.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-128">Requests tooanalytics data.</span></span>

<span data-ttu-id="e8dfc-129">Запросы, выполненные в самой аналитике хранилища, такие как запросы на создание или удаление журнала, не регистрируются.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-129">Requests made by Storage Analytics itself, such as log creation or deletion, are not logged.</span></span> <span data-ttu-id="e8dfc-130">Полный список hello в журнал данных описаны в hello [операций ведения журнала аналитики хранилища и сообщения о состоянии](https://msdn.microsoft.com/library/hh343260.aspx) и [формат журнала аналитики хранилища](https://msdn.microsoft.com/library/hh343259.aspx) разделы.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-130">A full list of hello logged data is documented in hello [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="logging-anonymous-requests"></a><span data-ttu-id="e8dfc-131">Ведение журналов анонимных запросов</span><span class="sxs-lookup"><span data-stu-id="e8dfc-131">Logging anonymous requests</span></span>
<span data-ttu-id="e8dfc-132">регистрируются следующие типы анонимные запросы Hello:</span><span class="sxs-lookup"><span data-stu-id="e8dfc-132">hello following types of anonymous requests are logged:</span></span>

* <span data-ttu-id="e8dfc-133">успешные запросы;</span><span class="sxs-lookup"><span data-stu-id="e8dfc-133">Successful requests.</span></span>
* <span data-ttu-id="e8dfc-134">ошибки сервера;</span><span class="sxs-lookup"><span data-stu-id="e8dfc-134">Server errors.</span></span>
* <span data-ttu-id="e8dfc-135">ошибки времени ожидания для клиента и сервера;</span><span class="sxs-lookup"><span data-stu-id="e8dfc-135">Timeout errors for both client and server.</span></span>
* <span data-ttu-id="e8dfc-136">неудачные запросы GET с кодом ошибки 304 (не изменено).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-136">Failed GET requests with error code 304 (Not Modified).</span></span>

<span data-ttu-id="e8dfc-137">Остальные неудачные анонимные запросы не регистрируются.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-137">All other failed anonymous requests are not logged.</span></span> <span data-ttu-id="e8dfc-138">Полный список hello в журнал данных описаны в hello [операций ведения журнала аналитики хранилища и сообщения о состоянии](https://msdn.microsoft.com/library/hh343260.aspx) и [формат журнала аналитики хранилища](https://msdn.microsoft.com/library/hh343259.aspx) разделы.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-138">A full list of hello logged data is documented in hello [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="how-logs-are-stored"></a><span data-ttu-id="e8dfc-139">Хранение журналов</span><span class="sxs-lookup"><span data-stu-id="e8dfc-139">How logs are stored</span></span>
<span data-ttu-id="e8dfc-140">Все журналы хранятся в блочных больших двоичных объектах в контейнере $logs, который автоматически создается при включении аналитики хранилища для учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-140">All logs are stored in block blobs in a container named $logs, which is automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="e8dfc-141">контейнер Hello $logs находится в пространстве имен BLOB-объектов hello hello учетной записи хранилища, например: `http://<accountname>.blob.core.windows.net/$logs`.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-141">hello $logs container is located in hello blob namespace of hello storage account, for example: `http://<accountname>.blob.core.windows.net/$logs`.</span></span> <span data-ttu-id="e8dfc-142">После включения аналитики хранилища этот контейнер нельзя удалить, но вы можете удалить его содержимое.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-142">This container cannot be deleted once Storage Analytics has been enabled, though its contents can be deleted.</span></span>

> [!NOTE]
> <span data-ttu-id="e8dfc-143">контейнер Hello $logs не отображается при выполнении операции листинга контейнеров, таких как hello [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) метод.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-143">hello $logs container is not displayed when a container listing operation is performed, such as hello [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) method.</span></span> <span data-ttu-id="e8dfc-144">Доступ к нему можно получить только непосредственно.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-144">It must be accessed directly.</span></span> <span data-ttu-id="e8dfc-145">Например, можно использовать hello [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) метод tooaccess hello BLOB-объектов в hello `$logs` контейнера.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-145">For example, you can use hello [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) method tooaccess hello blobs in hello `$logs` container.</span></span>
> <span data-ttu-id="e8dfc-146">По мере регистрации запросов в аналитике хранилища промежуточные результаты передаются в качестве блоков.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-146">As requests are logged, Storage Analytics will upload intermediate results as blocks.</span></span> <span data-ttu-id="e8dfc-147">Периодически эти блоки фиксируются в аналитике хранилища и к ним предоставляется доступ как к большим двоичным объектам.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-147">Periodically, Storage Analytics will commit these blocks and make them available as a blob.</span></span>
> 
> 

<span data-ttu-id="e8dfc-148">Могут присутствовать повторяющиеся записи в журналах, созданных в hello того же часа.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-148">Duplicate records may exist for logs created in hello same hour.</span></span> <span data-ttu-id="e8dfc-149">Можно определить, является ли запись дубликат проверив hello **RequestId** и **операции** номер.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-149">You can determine if a record is a duplicate by checking hello **RequestId** and **Operation** number.</span></span>

### <a name="log-naming-conventions"></a><span data-ttu-id="e8dfc-150">Соглашения об именовании журналов</span><span class="sxs-lookup"><span data-stu-id="e8dfc-150">Log naming conventions</span></span>
<span data-ttu-id="e8dfc-151">Каждый журнал будут записаны в кодировке hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-151">Each log will be written in hello following format.</span></span>

    <service-name>/YYYY/MM/DD/hhmm/<counter>.log

<span data-ttu-id="e8dfc-152">Hello следующей таблице описан каждый атрибут в имени журнала hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-152">hello following table describes each attribute in hello log name.</span></span>

| <span data-ttu-id="e8dfc-153">Атрибут</span><span class="sxs-lookup"><span data-stu-id="e8dfc-153">Attribute</span></span> | <span data-ttu-id="e8dfc-154">Описание</span><span class="sxs-lookup"><span data-stu-id="e8dfc-154">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e8dfc-155"><service-name></span><span class="sxs-lookup"><span data-stu-id="e8dfc-155"><service-name></span></span> |<span data-ttu-id="e8dfc-156">Имя службы хранилища hello Hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-156">hello name of hello storage service.</span></span> <span data-ttu-id="e8dfc-157">Например: blob, table или queue.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-157">For example: blob, table, or queue.</span></span> |
| <span data-ttu-id="e8dfc-158">YYYY</span><span class="sxs-lookup"><span data-stu-id="e8dfc-158">YYYY</span></span> |<span data-ttu-id="e8dfc-159">четырехзначное число года Hello hello журнала.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-159">hello four-digit year for hello log.</span></span> <span data-ttu-id="e8dfc-160">Например, 2011.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-160">For example: 2011.</span></span> |
| <span data-ttu-id="e8dfc-161">ММ</span><span class="sxs-lookup"><span data-stu-id="e8dfc-161">MM</span></span> |<span data-ttu-id="e8dfc-162">Hello двузначным месяцем для журнала hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-162">hello two-digit month for hello log.</span></span> <span data-ttu-id="e8dfc-163">Например, 07.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-163">For example: 07.</span></span> |
| <span data-ttu-id="e8dfc-164">DD</span><span class="sxs-lookup"><span data-stu-id="e8dfc-164">DD</span></span> |<span data-ttu-id="e8dfc-165">Hello двузначным месяцем для журнала hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-165">hello two-digit month for hello log.</span></span> <span data-ttu-id="e8dfc-166">Например, 07.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-166">For example: 07.</span></span> |
| <span data-ttu-id="e8dfc-167">hh</span><span class="sxs-lookup"><span data-stu-id="e8dfc-167">hh</span></span> |<span data-ttu-id="e8dfc-168">Регистрирует Hello двузначными часами, указывающее hello начиная час для hello в 24-часовом формате времени UTC.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-168">hello two-digit hour that indicates hello starting hour for hello logs, in 24-hour UTC format.</span></span> <span data-ttu-id="e8dfc-169">Например, 18.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-169">For example: 18.</span></span> |
| <span data-ttu-id="e8dfc-170">ММ</span><span class="sxs-lookup"><span data-stu-id="e8dfc-170">mm</span></span> |<span data-ttu-id="e8dfc-171">Hello двузначное число, указывающее hello начиная минуты для журналов hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-171">hello two-digit number that indicates hello starting minute for hello logs.</span></span> <span data-ttu-id="e8dfc-172">Это значение не поддерживается в текущей версии hello аналитики хранилища и его значение всегда будет равно 00.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-172">This value is unsupported in hello current version of Storage Analytics, and its value will always be 00.</span></span> |
| <counter> |<span data-ttu-id="e8dfc-173">Отсчитываемый от нуля шестизначный счетчик с, указывающее номер hello больших двоичных объектов журнала, созданный для службы хранилища hello в течение часа.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-173">A zero-based counter with six digits that indicates hello number of log blobs generated for hello storage service in an hour time period.</span></span> <span data-ttu-id="e8dfc-174">Отсчет этого счетчика начинается с 000000.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-174">This counter starts at 000000.</span></span> <span data-ttu-id="e8dfc-175">Например, 000001.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-175">For example: 000001.</span></span> |

<span data-ttu-id="e8dfc-176">Hello ниже приведен полный пример имя журнала, объединяющее hello предыдущих примерах.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-176">hello following is a complete sample log name that combines hello previous examples.</span></span>

    blob/2011/07/31/1800/000001.log

<span data-ttu-id="e8dfc-177">Hello ниже приведен пример URI, который может быть используется tooaccess hello предыдущем журнале.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-177">hello following is a sample URI that can be used tooaccess hello previous log.</span></span>

    https://<accountname>.blob.core.windows.net/$logs/blob/2011/07/31/1800/000001.log

<span data-ttu-id="e8dfc-178">При регистрации запроса к хранилищу имя результирующего журнала hello сопоставляет час toohello при hello запросе операция завершена.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-178">When a storage request is logged, hello resulting log name correlates toohello hour when hello requested operation completed.</span></span> <span data-ttu-id="e8dfc-179">Например, если запрос GetBlob был завершен в 18:30</span><span class="sxs-lookup"><span data-stu-id="e8dfc-179">For example, if a GetBlob request was completed at 6:30 P.M.</span></span> <span data-ttu-id="e8dfc-180">7/31/2011 г. hello журнал должен быть записан с префикса hello:`blob/2011/07/31/1800/`</span><span class="sxs-lookup"><span data-stu-id="e8dfc-180">on 7/31/2011, hello log would be written with hello following prefix: `blob/2011/07/31/1800/`</span></span>

### <a name="log-metadata"></a><span data-ttu-id="e8dfc-181">Метаданные журнала</span><span class="sxs-lookup"><span data-stu-id="e8dfc-181">Log metadata</span></span>
<span data-ttu-id="e8dfc-182">Все большие двоичные объекты журнала хранятся с метаданными, которое может быть используется tooidentify содержит какие hello большой двоичный объект ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-182">All log blobs are stored with metadata that can be used tooidentify what logging data hello blob contains.</span></span> <span data-ttu-id="e8dfc-183">Привет, в следующей таблице описан каждый атрибут метаданных.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-183">hello following table describes each metadata attribute.</span></span>

| <span data-ttu-id="e8dfc-184">Атрибут</span><span class="sxs-lookup"><span data-stu-id="e8dfc-184">Attribute</span></span> | <span data-ttu-id="e8dfc-185">Описание</span><span class="sxs-lookup"><span data-stu-id="e8dfc-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="e8dfc-186">LogType</span><span class="sxs-lookup"><span data-stu-id="e8dfc-186">LogType</span></span> |<span data-ttu-id="e8dfc-187">Описывает ли hello журнал содержит сведения о компонентах tooread, записи или операции удаления.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-187">Describes whether hello log contains information pertaining tooread, write, or delete operations.</span></span> <span data-ttu-id="e8dfc-188">Это значение может содержать данные одного типа или сочетание всех трех типов данных, разделенных запятыми.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-188">This value can include one type or a combination of all three, separated by commas.</span></span> <span data-ttu-id="e8dfc-189">Пример 1: write. Пример 2: read,write. Пример 3: read,write,delete.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-189">Example 1: write; Example 2: read,write; Example 3: read,write,delete.</span></span> |
| <span data-ttu-id="e8dfc-190">StartTime</span><span class="sxs-lookup"><span data-stu-id="e8dfc-190">StartTime</span></span> |<span data-ttu-id="e8dfc-191">Здравствуйте, самое раннее время записи в журнале hello в форме hello гггг-мм-: Ssz.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-191">hello earliest time of an entry in hello log, in hello form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="e8dfc-192">Например, 2011-07-31T18:21:46Z.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-192">For example: 2011-07-31T18:21:46Z.</span></span> |
| <span data-ttu-id="e8dfc-193">EndTime</span><span class="sxs-lookup"><span data-stu-id="e8dfc-193">EndTime</span></span> |<span data-ttu-id="e8dfc-194">Здравствуйте, времени последней записи в журнале hello в форме hello гггг-мм-: Ssz.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-194">hello latest time of an entry in hello log, in hello form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="e8dfc-195">Например, 2011-07-31T18:22:09Z.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-195">For example: 2011-07-31T18:22:09Z.</span></span> |
| <span data-ttu-id="e8dfc-196">LogVersion</span><span class="sxs-lookup"><span data-stu-id="e8dfc-196">LogVersion</span></span> |<span data-ttu-id="e8dfc-197">версия формата журнала hello Hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-197">hello version of hello log format.</span></span> <span data-ttu-id="e8dfc-198">В настоящее время поддерживается только hello значение равно 1.0.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-198">Currently hello only supported value is 1.0.</span></span> |

<span data-ttu-id="e8dfc-199">Hello в списке отображаются полный образец метаданных с помощью hello предыдущих примерах.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-199">hello following list displays complete sample metadata using hello previous examples.</span></span>

* <span data-ttu-id="e8dfc-200">LogType=write</span><span class="sxs-lookup"><span data-stu-id="e8dfc-200">LogType=write</span></span>
* <span data-ttu-id="e8dfc-201">StartTime=2011-07-31T18:21:46Z</span><span class="sxs-lookup"><span data-stu-id="e8dfc-201">StartTime=2011-07-31T18:21:46Z</span></span>
* <span data-ttu-id="e8dfc-202">EndTime=2011-07-31T18:22:09Z</span><span class="sxs-lookup"><span data-stu-id="e8dfc-202">EndTime=2011-07-31T18:22:09Z</span></span>
* <span data-ttu-id="e8dfc-203">LogVersion=1.0</span><span class="sxs-lookup"><span data-stu-id="e8dfc-203">LogVersion=1.0</span></span>

### <a name="accessing-logging-data"></a><span data-ttu-id="e8dfc-204">Доступ к данным журнала</span><span class="sxs-lookup"><span data-stu-id="e8dfc-204">Accessing logging data</span></span>
<span data-ttu-id="e8dfc-205">Все данные в hello `$logs` контейнер может осуществляться с использованием API службы BLOB-объектов hello, включая API .NET, предоставленные hello hello Azure управляемой библиотеке.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-205">All data in hello `$logs` container can be accessed by using hello Blob service APIs, including hello .NET APIs provided by hello Azure managed library.</span></span> <span data-ttu-id="e8dfc-206">Здравствуйте, администратор учетной записи хранилища можно читать и удалять журналы, но невозможно создать или обновить их.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-206">hello storage account administrator can read and delete logs, but cannot create or update them.</span></span> <span data-ttu-id="e8dfc-207">Метаданные журнала hello и имя журнала можно использовать при запросе к журналу.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-207">Both hello log's metadata and log name can be used when querying for a log.</span></span> <span data-ttu-id="e8dfc-208">Возможно, для заданного часа журналы tooappear по порядку, но hello метаданные всегда указывают timespan hello записей журнала в журнале.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-208">It is possible for a given hour's logs tooappear out of order, but hello metadata always specifies hello timespan of log entries in a log.</span></span> <span data-ttu-id="e8dfc-209">Таким образом, при поиске конкретного журнала можно использовать сочетание имен журналов и метаданных.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-209">Therefore, you can use a combination of log names and metadata when searching for a particular log.</span></span>

## <a name="about-storage-analytics-metrics"></a><span data-ttu-id="e8dfc-210">Информация о метриках аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-210">About Storage Analytics metrics</span></span>
<span data-ttu-id="e8dfc-211">Аналитики хранилища могут хранить метрики, которые включают статистические операции статистику и данные о емкости службы хранилища tooa запросов.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-211">Storage Analytics can store metrics that include aggregated transaction statistics and capacity data about requests tooa storage service.</span></span> <span data-ttu-id="e8dfc-212">Транзакции фиксируются на уровне операции обоих hello API, а также на уровне службы хранилища hello и емкости предоставляются на уровне службы хранилища hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-212">Transactions are reported at both hello API operation level as well as at hello storage service level, and capacity is reported at hello storage service level.</span></span> <span data-ttu-id="e8dfc-213">Данные метрик можно использовать tooanalyze использования службы хранилища, диагностики проблем с запросами к службе хранилища hello и tooimprove hello производительность приложений, использующих службу.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-213">Metrics data can be used tooanalyze storage service usage, diagnose issues with requests made against hello storage service, and tooimprove hello performance of applications that use a service.</span></span>

<span data-ttu-id="e8dfc-214">toouse аналитики хранилища ее необходимо включить отдельно для каждой службы требуется toomonitor.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-214">toouse Storage Analytics, you must enable it individually for each service you want toomonitor.</span></span> <span data-ttu-id="e8dfc-215">Его можно включить из hello [портала Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-215">You can enable it from hello [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="e8dfc-216">Дополнительные сведения см. в разделе [отслеживание учетной записи хранения в портале Azure hello](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-216">For details, see [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="e8dfc-217">Можно также включить аналитики хранилища программно через hello API-интерфейса REST или клиентской библиотеки hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-217">You can also enable Storage Analytics programmatically via hello REST API or hello client library.</span></span> <span data-ttu-id="e8dfc-218">Используйте hello **получение свойств службы** tooenable операций аналитики хранилища для каждой службы.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-218">Use hello **Get Service Properties** operations tooenable Storage Analytics for each service.</span></span>

### <a name="transaction-metrics"></a><span data-ttu-id="e8dfc-219">Метрики транзакций</span><span class="sxs-lookup"><span data-stu-id="e8dfc-219">Transaction metrics</span></span>
<span data-ttu-id="e8dfc-220">Широкий набор данных записывается раз в час или раз в минуту для каждой службы хранилища и запрошенных операций API, включая входящие и выходящие данные, информацию о доступности, ошибки и процент категоризованных запросов.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-220">A robust set of data is recorded at hourly or minute intervals for each storage service and requested API operation, including ingress/egress, availability, errors, and categorized request percentages.</span></span> <span data-ttu-id="e8dfc-221">Можно просмотреть полный список деталей транзакции hello в hello [схема таблицы метрик аналитики хранилища](https://msdn.microsoft.com/library/hh343264.aspx) раздела.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-221">You can see a complete list of hello transaction details in hello [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx) topic.</span></span>

<span data-ttu-id="e8dfc-222">Данные транзакций записываются на двух уровнях — уровне службы hello и hello операции API.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-222">Transaction data is recorded at two levels – hello service level and hello API operation level.</span></span> <span data-ttu-id="e8dfc-223">На уровне службы hello запросил статистика, суммирующая все операции API-интерфейса записываются tooa сущность таблицы каждый час даже если запросы не были внесены toohello службы.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-223">At hello service level, statistics summarizing all requested API operations are written tooa table entity every hour even if no requests were made toohello service.</span></span> <span data-ttu-id="e8dfc-224">На уровне операции hello API статистику, только запись tooan сущности, если была запрошена операция hello в течение этого часа.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-224">At hello API operation level, statistics are only written tooan entity if hello operation was requested within that hour.</span></span>

<span data-ttu-id="e8dfc-225">Например, если вы выполняете **GetBlob** операции в службе BLOB-объектов метрики аналитики хранилища будут регистрировать запрос hello и включите его в hello статистическую обработку данных, для обоих hello службы BLOB-объектов, а также hello **GetBlob** операции.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-225">For example, if you perform a **GetBlob** operation on your Blob service, Storage Analytics Metrics will log hello request and include it in hello aggregated data for both hello Blob service as well as hello **GetBlob** operation.</span></span> <span data-ttu-id="e8dfc-226">Тем не менее если не **GetBlob** запросе операции в течение часа hello сущности не будут записаны toohello `$MetricsTransactionsBlob` для этой операции.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-226">However, if no **GetBlob** operation is requested during hello hour, an entity will not be written toohello `$MetricsTransactionsBlob` for that operation.</span></span>

<span data-ttu-id="e8dfc-227">Метрики транзакций записываются как для запросов пользователей, так и для запросов, сделанных самой аналитикой хранилища.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-227">Transaction metrics are recorded for both user requests and requests made by Storage Analytics itself.</span></span> <span data-ttu-id="e8dfc-228">Например записываются запросы сущностей журналов toowrite аналитики хранилища и таблиц.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-228">For example, requests by Storage Analytics toowrite logs and table entities are recorded.</span></span> <span data-ttu-id="e8dfc-229">Дополнительную информацию о выставлении счетов для этих запросов см. в разделе [Аналитика хранилища и выставление счетов](https://msdn.microsoft.com/library/hh360997.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-229">For more information about how these requests are billed, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span>

### <a name="capacity-metrics"></a><span data-ttu-id="e8dfc-230">Метрики емкости</span><span class="sxs-lookup"><span data-stu-id="e8dfc-230">Capacity metrics</span></span>
> [!NOTE]
> <span data-ttu-id="e8dfc-231">В настоящее время метрики емкости доступны только для hello службы BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-231">Currently, capacity metrics are only available for hello Blob service.</span></span> <span data-ttu-id="e8dfc-232">Метрики емкости для службы таблиц hello и службы очередей будут доступны в будущих версиях аналитики хранилища.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-232">Capacity metrics for hello Table service and Queue service will be available in future versions of Storage Analytics.</span></span>
> 
> 

<span data-ttu-id="e8dfc-233">Данные о емкости записываются ежедневно для службы BLOB-объектов учетной записи хранения, и при этом записываются две сущности таблицы.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-233">Capacity data is recorded daily for a storage account's Blob service, and two table entities are written.</span></span> <span data-ttu-id="e8dfc-234">Одна сущность содержит статистику для данных пользователей и других hello предоставляет статистику hello `$logs` контейнер больших двоичных объектов, используемого аналитикой хранилища.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-234">One entity provides statistics for user data, and hello other provides statistics about hello `$logs` blob container used by Storage Analytics.</span></span> <span data-ttu-id="e8dfc-235">Hello `$MetricsCapacityBlob` таблица включает в себя hello следующая статистика:</span><span class="sxs-lookup"><span data-stu-id="e8dfc-235">hello `$MetricsCapacityBlob` table includes hello following statistics:</span></span>

* <span data-ttu-id="e8dfc-236">**Емкость**: hello объем хранилища, используемый службой BLOB-объектов учетной записи хранилища hello, в байтах.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-236">**Capacity**: hello amount of storage used by hello storage account's Blob service, in bytes.</span></span>
* <span data-ttu-id="e8dfc-237">**ContainerCount**: hello число контейнеров больших двоичных объектов в службе BLOB-объектов учетной записи хранения hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-237">**ContainerCount**: hello number of blob containers in hello storage account's Blob service.</span></span>
* <span data-ttu-id="e8dfc-238">**ObjectCount**: hello количество зафиксированных и незафиксированных блочных или страничных больших двоичных объектов в службе BLOB-объектов учетной записи хранения hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-238">**ObjectCount**: hello number of committed and uncommitted block or page blobs in hello storage account's Blob service.</span></span>

<span data-ttu-id="e8dfc-239">Дополнительные сведения о метриках емкости hello см. в разделе [схема таблицы метрик аналитики хранилища](https://msdn.microsoft.com/library/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-239">For more information about hello capacity metrics, see [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx).</span></span>

### <a name="how-metrics-are-stored"></a><span data-ttu-id="e8dfc-240">Как хранятся метрики</span><span class="sxs-lookup"><span data-stu-id="e8dfc-240">How metrics are stored</span></span>
<span data-ttu-id="e8dfc-241">Все данные метрик для каждой из служб хранения hello хранятся в трех таблицах, зарезервированных для этой службы: одной таблице содержатся сведения о транзакциях, одна таблица для минутных транзакциях и другую таблицу для данных о производительности.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-241">All metrics data for each of hello storage services is stored in three tables reserved for that service: one table for transaction information, one table for minute transaction information, and another table for capacity information.</span></span> <span data-ttu-id="e8dfc-242">Информация о транзакциях и минутных транзакциях включает в себя данные запросов и ответов, а информация о емкости содержит данные об использовании хранилища.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-242">Transaction and minute transaction information consists of request and response data, and capacity information consists of storage usage data.</span></span> <span data-ttu-id="e8dfc-243">Час метрики, ежеминутных метрик и емкости для учетной записи хранилища BLOB-объектов может осуществляться в таблицах, которые имеют имена, как описано в следующей таблице hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-243">Hour metrics, minute metrics, and capacity for a storage account's Blob service can be accessed in tables that are named as described in hello following table.</span></span>

| <span data-ttu-id="e8dfc-244">Уровень метрик</span><span class="sxs-lookup"><span data-stu-id="e8dfc-244">Metrics level</span></span> | <span data-ttu-id="e8dfc-245">Имена таблиц</span><span class="sxs-lookup"><span data-stu-id="e8dfc-245">Table names</span></span> | <span data-ttu-id="e8dfc-246">Поддерживаемые версии</span><span class="sxs-lookup"><span data-stu-id="e8dfc-246">Supported versions</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e8dfc-247">Часовые метрики, основное расположение</span><span class="sxs-lookup"><span data-stu-id="e8dfc-247">Hourly metrics, primary location</span></span> |<span data-ttu-id="e8dfc-248">$MetricsTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="e8dfc-248">$MetricsTransactionsBlob</span></span> <br/><span data-ttu-id="e8dfc-249">$MetricsTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="e8dfc-249">$MetricsTransactionsTable</span></span> <br/> <span data-ttu-id="e8dfc-250">$MetricsTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="e8dfc-250">$MetricsTransactionsQueue</span></span> |<span data-ttu-id="e8dfc-251">Версии предыдущих too2013-08-15 только.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-251">Versions prior too2013-08-15 only.</span></span> <span data-ttu-id="e8dfc-252">Хотя эти имена по-прежнему поддерживаются, рекомендуется переключиться toousing hello таблиц, перечисленных ниже.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-252">While these names are still supported, it's recommended that you switch toousing hello tables listed below.</span></span> |
| <span data-ttu-id="e8dfc-253">Часовые метрики, основное расположение</span><span class="sxs-lookup"><span data-stu-id="e8dfc-253">Hourly metrics, primary location</span></span> |<span data-ttu-id="e8dfc-254">$MetricsHourPrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="e8dfc-254">$MetricsHourPrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="e8dfc-255">$MetricsHourPrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="e8dfc-255">$MetricsHourPrimaryTransactionsTable</span></span> <br/><span data-ttu-id="e8dfc-256">$MetricsHourPrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="e8dfc-256">$MetricsHourPrimaryTransactionsQueue</span></span> |<span data-ttu-id="e8dfc-257">Все версии, включая 15.08.2013 г.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-257">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="e8dfc-258">Минутные метрики, основное расположение</span><span class="sxs-lookup"><span data-stu-id="e8dfc-258">Minute metrics, primary location</span></span> |<span data-ttu-id="e8dfc-259">$MetricsMinutePrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="e8dfc-259">$MetricsMinutePrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="e8dfc-260">$MetricsMinutePrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="e8dfc-260">$MetricsMinutePrimaryTransactionsTable</span></span> <br/><span data-ttu-id="e8dfc-261">$MetricsMinutePrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="e8dfc-261">$MetricsMinutePrimaryTransactionsQueue</span></span> |<span data-ttu-id="e8dfc-262">Все версии, включая 15.08.2013 г.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-262">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="e8dfc-263">Часовые метрики, вторичное расположение</span><span class="sxs-lookup"><span data-stu-id="e8dfc-263">Hourly metrics, secondary location</span></span> |<span data-ttu-id="e8dfc-264">$MetricsHourSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="e8dfc-264">$MetricsHourSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="e8dfc-265">$MetricsHourSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="e8dfc-265">$MetricsHourSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="e8dfc-266">$MetricsHourSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="e8dfc-266">$MetricsHourSecondaryTransactionsQueue</span></span> |<span data-ttu-id="e8dfc-267">Все версии, включая 15.08.2013 г.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-267">All versions, including 2013-08-15.</span></span> <span data-ttu-id="e8dfc-268">Должна быть включена геоизбыточная репликация с доступом для чтения.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-268">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="e8dfc-269">Минутные метрики, вторичное расположение</span><span class="sxs-lookup"><span data-stu-id="e8dfc-269">Minute metrics, secondary location</span></span> |<span data-ttu-id="e8dfc-270">$MetricsMinuteSecondaryTransactionsBlob </span><span class="sxs-lookup"><span data-stu-id="e8dfc-270">$MetricsMinuteSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="e8dfc-271">$MetricsMinuteSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="e8dfc-271">$MetricsMinuteSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="e8dfc-272">$MetricsMinuteSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="e8dfc-272">$MetricsMinuteSecondaryTransactionsQueue</span></span> |<span data-ttu-id="e8dfc-273">Все версии, включая 15.08.2013 г.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-273">All versions, including 2013-08-15.</span></span> <span data-ttu-id="e8dfc-274">Должна быть включена геоизбыточная репликация с доступом для чтения.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-274">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="e8dfc-275">Емкость (только для службы BLOB-объектов)</span><span class="sxs-lookup"><span data-stu-id="e8dfc-275">Capacity (Blob service only)</span></span> |<span data-ttu-id="e8dfc-276">$MetricsCapacityBlob</span><span class="sxs-lookup"><span data-stu-id="e8dfc-276">$MetricsCapacityBlob</span></span> |<span data-ttu-id="e8dfc-277">Все версии, включая 15.08.2013 г.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-277">All versions, including 2013-08-15.</span></span> |

<span data-ttu-id="e8dfc-278">Эти таблицы автоматически создаются при включении аналитики хранилища для учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-278">These tables are automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="e8dfc-279">К ним осуществляется доступ через пространство имен hello hello учетной записи хранилища, например:`https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span><span class="sxs-lookup"><span data-stu-id="e8dfc-279">They are accessed via hello namespace of hello storage account, for example: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span></span>

### <a name="accessing-metrics-data"></a><span data-ttu-id="e8dfc-280">Доступ к данным метрик</span><span class="sxs-lookup"><span data-stu-id="e8dfc-280">Accessing metrics data</span></span>
<span data-ttu-id="e8dfc-281">Все данные в таблицах метрик hello может осуществляться с помощью API службы таблиц hello, включая API .NET, предоставленные hello hello Azure управляемой библиотеке.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-281">All data in hello metrics tables can be accessed by using hello Table service APIs, including hello .NET APIs provided by hello Azure managed library.</span></span> <span data-ttu-id="e8dfc-282">Здравствуйте, администратор учетной записи хранилища можно читать и удалять сущности таблиц, но невозможно создать или обновить их.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-282">hello storage account administrator can read and delete table entities, but cannot create or update them.</span></span>

## <a name="billing-for-storage-analytics"></a><span data-ttu-id="e8dfc-283">Оплата аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-283">Billing for Storage Analytics</span></span>
<span data-ttu-id="e8dfc-284">Все данные метрик записываются службами hello учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-284">All metrics data is written by hello services of a storage account.</span></span> <span data-ttu-id="e8dfc-285">В результате каждая из операций записи, выполняемая аналитикой хранилища, тарифицируется.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-285">As a result, each write operation performed by Storage Analytics is billable.</span></span> <span data-ttu-id="e8dfc-286">Кроме того hello объем хранилища, используемый данными показателей, также тарифицируется.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-286">Additionally, hello amount of storage used by metrics data is also billable.</span></span>

<span data-ttu-id="e8dfc-287">Привет, выполнив действия, выполняемые аналитикой хранилища являются оплачиваемыми:</span><span class="sxs-lookup"><span data-stu-id="e8dfc-287">hello following actions performed by Storage Analytics are billable:</span></span>

* <span data-ttu-id="e8dfc-288">Запросы toocreate большие двоичные объекты для ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-288">Requests toocreate blobs for logging.</span></span> 
* <span data-ttu-id="e8dfc-289">Запросы toocreate сущностей таблиц для показателей.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-289">Requests toocreate table entities for metrics.</span></span>

<span data-ttu-id="e8dfc-290">Если вы настроили политику хранения данных, за транзакции удаления, выполняемые, когда аналитика хранилища удаляет старые данные журналов и метрики, плата не взимается.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-290">If you have configured a data retention policy, you are not charged for delete transactions when Storage Analytics deletes old logging and metrics data.</span></span> <span data-ttu-id="e8dfc-291">В то же время транзакции удаления, инициируемые клиентом, тарифицируются.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-291">However, delete transactions from a client are billable.</span></span> <span data-ttu-id="e8dfc-292">Дополнительную информацию о политиках хранения см. в разделе [Задание политики хранения данных для аналитик хранилища](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-292">For more information about retention policies, see [Setting a Storage Analytics Data Retention Policy](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span></span>

### <a name="understanding-billable-requests"></a><span data-ttu-id="e8dfc-293">Общая информация о тарифицируемых запросах</span><span class="sxs-lookup"><span data-stu-id="e8dfc-293">Understanding billable requests</span></span>
<span data-ttu-id="e8dfc-294">Каждый запрос tooan учетной записи службы хранилища является оплаты или нет.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-294">Every request made tooan account's storage service is either billable or non-billable.</span></span> <span data-ttu-id="e8dfc-295">Аналитика хранилища регистрирует каждый отдельный запрос tooa службы, включая сообщение о состоянии, указывающее обработку запроса hello.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-295">Storage Analytics logs each individual request made tooa service, including a status message that indicates how hello request was handled.</span></span> <span data-ttu-id="e8dfc-296">Аналогичным образом аналитика хранилища сохраняет показатели для операций службы, так и hello API службы, включая hello процентные доли и количества определенных сообщений о состоянии.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-296">Similarly, Storage Analytics stores metrics for both a service and hello API operations of that service, including hello percentages and count of certain status messages.</span></span> <span data-ttu-id="e8dfc-297">Вместе эти функции помогают проанализировать тарифицируемые запросы, улучшить приложение и диагностики проблем со службами tooyour запросов.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-297">Together, these features can help you analyze your billable requests, make improvements on your application, and diagnose issues with requests tooyour services.</span></span> <span data-ttu-id="e8dfc-298">Дополнительную информацию о выставлении счетов см. в разделе [Общая информация о выставлении счетов за использование хранилища Azure — пропускная способность, транзакции и емкость](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span><span class="sxs-lookup"><span data-stu-id="e8dfc-298">For more information about billing, see [Understanding Azure Storage Billing - Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

<span data-ttu-id="e8dfc-299">При просмотре данных аналитики хранилища, можно использовать таблицы hello в hello [операций ведения журнала аналитики хранилища и сообщения о состоянии](https://msdn.microsoft.com/library/azure/hh343260.aspx) toodetermine разделе запросов являются оплачиваемыми.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-299">When looking at Storage Analytics data, you can use hello tables in hello [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/azure/hh343260.aspx) topic toodetermine what requests are billable.</span></span> <span data-ttu-id="e8dfc-300">Затем можно сравнить журналы и показатели данных toohello состояние сообщения toosee Если оплаченные для определенного запроса.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-300">Then you can compare your logs and metrics data toohello status messages toosee if you were charged for a particular request.</span></span> <span data-ttu-id="e8dfc-301">Также можно использовать таблицы hello hello предыдущего раздела tooinvestigate доступности для службы хранилища или отдельной операции API.</span><span class="sxs-lookup"><span data-stu-id="e8dfc-301">You can also use hello tables in hello previous topic tooinvestigate availability for a storage service or individual API operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e8dfc-302">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="e8dfc-302">Next steps</span></span>
### <a name="setting-up-storage-analytics"></a><span data-ttu-id="e8dfc-303">Настройка аналитики службы хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-303">Setting up Storage Analytics</span></span>
* [<span data-ttu-id="e8dfc-304">Монитор учетной записи хранения в портале Azure hello</span><span class="sxs-lookup"><span data-stu-id="e8dfc-304">Monitor a storage account in hello Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="e8dfc-305">Включение и настройка аналитик хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-305">Enabling and Configuring Storage Analytics</span></span>](https://msdn.microsoft.com/library/hh360996.aspx)

### <a name="storage-analytics-logging"></a><span data-ttu-id="e8dfc-306">Ведение журнала аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-306">Storage Analytics logging</span></span>
* [<span data-ttu-id="e8dfc-307">Информация о ведении журнала аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-307">About Storage Analytics Logging</span></span>](https://msdn.microsoft.com/library/hh343262.aspx)
* [<span data-ttu-id="e8dfc-308">Формат журналов аналитик хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-308">Storage Analytics Log Format</span></span>](https://msdn.microsoft.com/library/hh343259.aspx)
* [<span data-ttu-id="e8dfc-309">Операции с протоколированием и сообщения о состоянии аналитик хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-309">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)

### <a name="storage-analytics-metrics"></a><span data-ttu-id="e8dfc-310">Метрики аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-310">Storage Analytics metrics</span></span>
* [<span data-ttu-id="e8dfc-311">Информация о метриках аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-311">About Storage Analytics Metrics</span></span>](https://msdn.microsoft.com/library/hh343258.aspx)
* [<span data-ttu-id="e8dfc-312">Схема таблицы метрик аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-312">Storage Analytics Metrics Table Schema</span></span>](https://msdn.microsoft.com/library/hh343264.aspx)
* [<span data-ttu-id="e8dfc-313">Операции с протоколированием и сообщения о состоянии аналитик хранилища</span><span class="sxs-lookup"><span data-stu-id="e8dfc-313">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)  

