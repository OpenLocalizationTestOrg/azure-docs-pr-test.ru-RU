---
title: "Azure CDN tooaccess aaaUsing hello BLOB-объектов с пользовательскими доменами по протоколу HTTPS"
description: "Узнайте, как toointegrate hello Azure CDN с tooaccess хранилища BLOB-объектов BLOB-объектов с пользовательскими доменами по протоколу HTTPS"
services: storage
documentationcenter: 
author: michaelhauss
manager: vamshik
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2017
ms.author: mihauss
ms.openlocfilehash: f6cee36ca5495983545f2f6a8ff140677cf6914b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="using-hello-azure-cdn-tooaccess-blobs-with-custom-domains-over-https"></a><span data-ttu-id="57e14-103">Использование больших двоичных объектов tooaccess Azure CDN hello с пользовательскими доменами по протоколу HTTPS</span><span class="sxs-lookup"><span data-stu-id="57e14-103">Using hello Azure CDN tooaccess blobs with custom domains over HTTPS</span></span>

<span data-ttu-id="57e14-104">Сеть доставки содержимого (CDN) Azure теперь поддерживает HTTPS для имен личных доменов.</span><span class="sxs-lookup"><span data-stu-id="57e14-104">Azure Content Delivery Network (CDN) now supports HTTPS for custom domain names.</span></span>
<span data-ttu-id="57e14-105">Вы можете использовать этот компонент tooaccess хранилища больших двоичных объектов с помощью личного домена по протоколу HTTPS.</span><span class="sxs-lookup"><span data-stu-id="57e14-105">You can leverage this feature tooaccess storage blobs using your custom domain over HTTPS.</span></span> <span data-ttu-id="57e14-106">toodo таким образом, сначала потребуется tooenable Azure CDN в большой двоичный объект конечной точки и карты hello CDN tooa пользовательское имя домена.</span><span class="sxs-lookup"><span data-stu-id="57e14-106">toodo so, you’ll first need tooenable Azure CDN on your blob endpoint and map hello CDN tooa custom domain name.</span></span> <span data-ttu-id="57e14-107">Когда вы выполните эти действия, включении HTTPS для пользовательского домена упрощено посредством включения одним щелчком, полное управление сертификатами и все с без дополнительных toonormal CDN себестоимость.</span><span class="sxs-lookup"><span data-stu-id="57e14-107">Once you take these steps, enabling HTTPS for your custom domain is simplified via one-click enablement, complete certificate management, and all with no additional cost toonormal CDN pricing.</span></span>

<span data-ttu-id="57e14-108">Эта возможность важна, так как он позволяет вам tooprotect hello конфиденциальность и целостность данных web конфиденциальных данных приложения во время передачи.</span><span class="sxs-lookup"><span data-stu-id="57e14-108">This ability is important because it enables you tooprotect hello privacy and data integrity of your sensitive web application data while in transit.</span></span> <span data-ttu-id="57e14-109">Использование hello трафика tooserve по протоколу SSL через HTTPS обеспечивает шифрование данных при отправке по hello Интернета.</span><span class="sxs-lookup"><span data-stu-id="57e14-109">Using hello SSL protocol tooserve traffic via HTTPS ensures that data is encrypted when it is sent across hello internet.</span></span> <span data-ttu-id="57e14-110">Протокол HTTPS обеспечивает доверие, аутентификацию и защиту веб-приложений от атак.</span><span class="sxs-lookup"><span data-stu-id="57e14-110">HTTPS provides trust and authentication, and protects your web applications from attacks.</span></span>

> [!NOTE]
> <span data-ttu-id="57e14-111">В дополнение к этому tooproviding поддерживает SSL для пользовательских имен домена, hello Azure CDN может помочь масштабировать содержимое приложения toodeliver высокой пропускной способностью вокруг Здравствуй, мир.</span><span class="sxs-lookup"><span data-stu-id="57e14-111">In addition tooproviding SSL support for custom domain names, hello Azure CDN can help you scale your application toodeliver high-bandwidth content around hello world.</span></span>
> <span data-ttu-id="57e14-112">toolearn более, извлечь [Общие сведения о Azure CDN hello](../../cdn/cdn-overview.md).</span><span class="sxs-lookup"><span data-stu-id="57e14-112">toolearn more, check out [Overview of hello Azure CDN](../../cdn/cdn-overview.md).</span></span>
>
>

## <a name="quick-start"></a><span data-ttu-id="57e14-113">Быстрый запуск</span><span class="sxs-lookup"><span data-stu-id="57e14-113">Quick start</span></span>

<span data-ttu-id="57e14-114">Ниже перечислены hello действия требуется tooenable HTTPS для хранилища blob пользовательского конечной точки:</span><span class="sxs-lookup"><span data-stu-id="57e14-114">These are hello steps required tooenable HTTPS for your custom blob storage endpoint:</span></span>

1.  <span data-ttu-id="57e14-115">[Интеграция учетной записи хранения Azure с Azure CDN](../../cdn/cdn-create-a-storage-account-with-cdn.md).</span><span class="sxs-lookup"><span data-stu-id="57e14-115">[Integrate an Azure storage account with Azure CDN](../../cdn/cdn-create-a-storage-account-with-cdn.md).</span></span>
    <span data-ttu-id="57e14-116">В этой статье описывается создание учетной записи хранилища в hello портал Azure, если вы еще не сделано.</span><span class="sxs-lookup"><span data-stu-id="57e14-116">This article walks you through creating a storage account in hello Azure Portal if you have not done so already.</span></span>
2.  <span data-ttu-id="57e14-117">[Личный домен карты Azure CDN содержимого tooa](../../cdn/cdn-map-content-to-custom-domain.md).</span><span class="sxs-lookup"><span data-stu-id="57e14-117">[Map Azure CDN content tooa custom domain](../../cdn/cdn-map-content-to-custom-domain.md).</span></span>
3.  <span data-ttu-id="57e14-118">[Включение протокола HTTPS для личного домена Azure CDN](../../cdn/cdn-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="57e14-118">[Enable HTTPS on an Azure CDN custom domain](../../cdn/cdn-custom-ssl.md).</span></span>

## <a name="shared-access-signatures"></a><span data-ttu-id="57e14-119">Подписи коллективного доступа</span><span class="sxs-lookup"><span data-stu-id="57e14-119">Shared Access Signatures</span></span>

<span data-ttu-id="57e14-120">Если к конечной точке хранилища больших двоичных объектов настроенных toodisallow анонимный доступ для чтения, необходимо будет tooprovide [подписи общего доступа (SAS)](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) маркера в каждом запросе сделать tooyour пользовательского домена.</span><span class="sxs-lookup"><span data-stu-id="57e14-120">If your blob storage endpoint is configured toodisallow anonymous read access, you will need tooprovide a [Shared Access Signature (SAS)](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) token in each request you make tooyour custom domain.</span></span> <span data-ttu-id="57e14-121">По умолчанию конечные точки хранилища BLOB-объектов запрещают анонимный доступ для чтения.</span><span class="sxs-lookup"><span data-stu-id="57e14-121">By default, blob storage endpoints disallow anonymous read access.</span></span> <span data-ttu-id="57e14-122">Дополнительные сведения о подписанных URL-адресах см. в статье [Управление анонимным доступом на чтение к контейнерам и большим двоичным объектам](storage-manage-access-to-resources.md).</span><span class="sxs-lookup"><span data-stu-id="57e14-122">See [Managing anonymous read access to containers and blobs](storage-manage-access-to-resources.md) for more information on shared access signatures.</span></span>

<span data-ttu-id="57e14-123">Маркер SAS добавлены toohello любые ограничения не влияют на Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="57e14-123">Azure CDN does not respect any restrictions added toohello SAS token.</span></span> <span data-ttu-id="57e14-124">Например, все токены SAS имеют срок действия.</span><span class="sxs-lookup"><span data-stu-id="57e14-124">For example, all SAS tokens have an expiration time.</span></span> <span data-ttu-id="57e14-125">Это означает, что содержимое по-прежнему может осуществляться с истекшим сроком действия SAS, пока содержимое удаляется из hello CDN краевым узлам.</span><span class="sxs-lookup"><span data-stu-id="57e14-125">This means that content can still be accessed with an expired SAS until that content is purged from hello CDN edge nodes.</span></span> <span data-ttu-id="57e14-126">Можно управлять, как долго данные кэшируются на hello CDN задание заголовка ответа hello кэша.</span><span class="sxs-lookup"><span data-stu-id="57e14-126">You can control how long data is cached on hello CDN by setting hello cache response header.</span></span> <span data-ttu-id="57e14-127">См. статью [Управление сроком действия больших двоичных объектов службы хранилища Azure в Azure CDN](../../cdn/cdn-manage-expiration-of-blob-content.md).</span><span class="sxs-lookup"><span data-stu-id="57e14-127">See [Managing expiration of Azure Storage blobs in Azure CDN](../../cdn/cdn-manage-expiration-of-blob-content.md) for instructions.</span></span>

<span data-ttu-id="57e14-128">При создании нескольких URL-адреса SAS для hello одной конечной точкой BLOB-объектов, мы рекомендуем Включение кэширование строки запроса для Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="57e14-128">If you create multiple SAS URLs for hello same blob endpoint, we recommend turning on query string caching for your Azure CDN.</span></span> <span data-ttu-id="57e14-129">Это tooensure каждого URL-адреса должно рассматриваться как уникальную сущность.</span><span class="sxs-lookup"><span data-stu-id="57e14-129">This is tooensure that each URL is treated as a unique entity.</span></span> <span data-ttu-id="57e14-130">Дополнительные сведения см. в статье [Управление режимом кэширования Azure CDN с помощью строк запросов](../../cdn/cdn-query-string.md).</span><span class="sxs-lookup"><span data-stu-id="57e14-130">See [Controlling Azure CDN caching behavior with query strings](../../cdn/cdn-query-string.md) for more information.</span></span>

## <a name="http-toohttps-redirection"></a><span data-ttu-id="57e14-131">Перенаправление HTTP tooHTTPS</span><span class="sxs-lookup"><span data-stu-id="57e14-131">HTTP tooHTTPS redirection</span></span>

<span data-ttu-id="57e14-132">Можно выбрать tooHTTPS трафика HTTP tooredirect.</span><span class="sxs-lookup"><span data-stu-id="57e14-132">You can elect tooredirect HTTP traffic tooHTTPS.</span></span> <span data-ttu-id="57e14-133">Это требует использования предложения premium hello Azure CDN из Verizon.</span><span class="sxs-lookup"><span data-stu-id="57e14-133">This requires use of hello Azure CDN premium offering from Verizon.</span></span> <span data-ttu-id="57e14-134">Требуется слишком[HTTP переопределить поведение использование обработчика правил Azure CDN](../../cdn/cdn-rules-engine.md) с следующее правило:</span><span class="sxs-lookup"><span data-stu-id="57e14-134">You need too[Override HTTP behavior using the Azure CDN rules engine](../../cdn/cdn-rules-engine.md) with the following rule:</span></span>

![](./media/storage-https-custom-domain-cdn/redirect-to-https.png)

<span data-ttu-id="57e14-135">«Имя Cdn конечную точку» указывает имя toohello, настроенный для конечной точки CDN.</span><span class="sxs-lookup"><span data-stu-id="57e14-135">“Cdn-endpoint-name” refers toohello name that you configured for your CDN endpoint.</span></span> <span data-ttu-id="57e14-136">Это значение можно выбрать из раскрывающегося списка hello.</span><span class="sxs-lookup"><span data-stu-id="57e14-136">You can select this value from hello dropdown.</span></span> <span data-ttu-id="57e14-137">«Исходный путь» ссылается на путь hello в вашей учетной записи хранилища источника, где находится ваш статического содержимого.</span><span class="sxs-lookup"><span data-stu-id="57e14-137">“Origin-path” refers to hello path within your origin storage account where your static content resides.</span></span>
<span data-ttu-id="57e14-138">При размещении все статическое содержимое в одном контейнере, замените «исходный путь» hello имя этого контейнера.</span><span class="sxs-lookup"><span data-stu-id="57e14-138">If you are hosting all static content in a single container, replace “origin-path” with hello name of that container.</span></span>

<span data-ttu-id="57e14-139">Для углубленного изучения правила, см. в разделе hello [система правил Azure CDN функции](../../cdn/cdn-rules-engine-reference-features.md).</span><span class="sxs-lookup"><span data-stu-id="57e14-139">For a deeper dive into rules, please see hello [Azure CDN rules engine features](../../cdn/cdn-rules-engine-reference-features.md).</span></span>

## <a name="pricing-and-billing"></a><span data-ttu-id="57e14-140">Цены и выставление счетов</span><span class="sxs-lookup"><span data-stu-id="57e14-140">Pricing and billing</span></span>

<span data-ttu-id="57e14-141">При получении доступа к большим двоичным объектам через CDN Azure, вы платите [большой двоичный объект хранения цены](https://azure.microsoft.com/pricing/details/storage/blobs/) для трафика между узлами edge hello и происхождение hello (хранилище Blob) и [цены CDN](https://azure.microsoft.com/pricing/details/cdn/) для данные из hello краевым узлам.</span><span class="sxs-lookup"><span data-stu-id="57e14-141">When you access blobs through an Azure CDN, you pay [Blob storage prices](https://azure.microsoft.com/pricing/details/storage/blobs/) for traffic between hello edge nodes and hello origin (Blob storage), and [CDN prices](https://azure.microsoft.com/pricing/details/cdn/) for data accessed from hello edge nodes.</span></span>

<span data-ttu-id="57e14-142">Например, предположим, что у вас есть учетная запись хранения в регионе "Западная часть США", доступ к которой осуществляется с помощью Azure CDN.</span><span class="sxs-lookup"><span data-stu-id="57e14-142">For example, say you have a storage account in West US that is being accessed using an Azure CDN.</span></span> <span data-ttu-id="57e14-143">Если кто-то в Великобритании hello пытается tooaccess один hello больших двоичных объектов в этой учетной записи хранилища с помощью hello CDN, Azure сначала проверяет граничного узла hello, наиболее близкое к hello UK для этого большого двоичного объекта.</span><span class="sxs-lookup"><span data-stu-id="57e14-143">If someone in hello UK tries tooaccess one of hello blobs in that storage account via hello CDN, Azure first checks hello edge node closest to hello UK for that blob.</span></span> <span data-ttu-id="57e14-144">Если найден, он обращается к этой копии большого двоичного объекта hello и будет использовать CDN цен, так как она доступна на hello CDN.</span><span class="sxs-lookup"><span data-stu-id="57e14-144">If found, it accesses that copy of hello blob and will use CDN pricing, because it is being accessed on hello CDN.</span></span> <span data-ttu-id="57e14-145">Если объект не найден, Azure скопирует hello большого двоичного объекта toohello граничного узла, что приведет к исходящих и плата за транзакции как указано в hello больших двоичных объектов цены на хранилище, а затем открыть файл hello на hello граничного узла, что приведет к CDN выставления счетов.</span><span class="sxs-lookup"><span data-stu-id="57e14-145">If not found, Azure will copy hello blob toohello edge node, which will result in egress and transaction charges as specified in hello Blob storage pricing, and then access hello file on hello edge node, which will result in CDN billing.</span></span>

<span data-ttu-id="57e14-146">При просмотре hello [CDN странице цен](https://azure.microsoft.com/pricing/details/cdn/), обратите внимание, что поддержка HTTPS для имен пользовательских доменов доступна только для Azure CDN Verizon продуктов (Standard и Premium).</span><span class="sxs-lookup"><span data-stu-id="57e14-146">When looking at hello [CDN pricing page](https://azure.microsoft.com/pricing/details/cdn/), note that HTTPS support for custom domain names is only available for Azure CDN from Verizon products (Standard and Premium).</span></span>

## <a name="next-steps"></a><span data-ttu-id="57e14-147">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="57e14-147">Next steps</span></span>

[<span data-ttu-id="57e14-148">Настройка имени личного домена для конечной точки хранилища BLOB-объектов</span><span class="sxs-lookup"><span data-stu-id="57e14-148">Configure a custom domain name for your Blob storage endpoint</span></span>](storage-custom-domain-name.md)
