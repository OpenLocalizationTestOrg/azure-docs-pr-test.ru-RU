---
title: "Использование Azure CDN для доступа к BLOB-объектам с помощью личных доменов по протоколу HTTPS"
description: "Сведения об интеграции Azure CDN с хранилищем BLOB-объектов для доступа к BLOB-объектам с помощью личных доменов по протоколу HTTPS"
services: storage
documentationcenter: 
author: michaelhauss
manager: vamshik
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/04/2017
ms.author: mihauss
ms.openlocfilehash: 6bad04df324a374f6e8473890345cf516322abd6
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="using-the-azure-cdn-to-access-blobs-with-custom-domains-over-https"></a>Использование Azure CDN для доступа к BLOB-объектам с помощью личных доменов по протоколу HTTPS

Сеть доставки содержимого (CDN) Azure теперь поддерживает HTTPS для имен личных доменов.
Вы можете использовать эту функцию, чтобы получить доступ к BLOB-объектам в хранилище с помощью личного домена по протоколу HTTPS. Для этого сначала необходимо включить Azure CDN для конечной точки BLOB-объектов и сопоставить сеть доставки содержимого с именем личного домена. После выполнения этих действий включение поддержки протокола HTTPS для личного домена значительно упрощается благодаря включению одним щелчком, комплексному управлению сертификатами в рамках обычных расценок Azure CDN без дополнительных затрат.

Эта возможность важна, так как позволяет защитить конфиденциальность и целостность данных веб-приложений в процессе их передачи. Использование протокола SSL для обслуживания трафика по HTTPS обеспечивает шифрование данных при их передаче через Интернет. Протокол HTTPS обеспечивает доверие, аутентификацию и защиту веб-приложений от атак.

> [!NOTE]
> Помимо поддержки SSL для имен личных доменов, Azure CDN помогает масштабировать приложение для быстрой доставки содержимого по всему миру.
> Для получения дополнительных сведений ознакомьтесь с [обзором Azure CDN](../../cdn/cdn-overview.md).
>
>

## <a name="quick-start"></a>Быстрый запуск

В следующих статьях приведены шаги, необходимые для включения протокола HTTPS для конечной точки вашего собственного хранилища BLOB-объектов.

1.  [Интеграция учетной записи хранения Azure с Azure CDN](../../cdn/cdn-create-a-storage-account-with-cdn.md).
    В этой статье приводится пошаговая процедура создания учетной записи хранения на портале Azure.
2.  [Сопоставление содержимого Azure CDN с личным доменом](../../cdn/cdn-map-content-to-custom-domain.md).
3.  [Включение протокола HTTPS для личного домена Azure CDN](../../cdn/cdn-custom-ssl.md).

## <a name="shared-access-signatures"></a>Подписи коллективного доступа

Если для конечной точки хранилища BLOB-объектов настроен запрет анонимного доступа для чтения, необходимо предоставить токен [подписанного URL-адреса (SAS)](../common/storage-dotnet-shared-access-signature-part-1.md?toc=%2fazure%2fstorage%2fblobs%2ftoc.json) в каждом запросе к личному домену. По умолчанию конечные точки хранилища BLOB-объектов запрещают анонимный доступ для чтения. Дополнительные сведения о подписанных URL-адресах см. в статье [Управление анонимным доступом на чтение к контейнерам и большим двоичным объектам](storage-manage-access-to-resources.md).

Azure CDN не учитывает ограничения, добавленные в токен SAS. Например, все токены SAS имеют срок действия. Это означает, что доступ к содержимому по-прежнему может осуществляться с помощью SAS с истекшим сроком действия, пока это содержимое не будет удалено с граничных узлов сети доставки содержимого. Вы можете контролировать срок кэширования данных в сети CDN, задав заголовок ответа кэша. См. статью [Управление сроком действия больших двоичных объектов службы хранилища Azure в Azure CDN](../../cdn/cdn-manage-expiration-of-blob-content.md).

При создании нескольких подписанных URL-адресов для одной и той же конечной точки BLOB-объектов рекомендуется включить кэширование строк запросов для Azure CDN. Это гарантирует, что каждый URL-адрес будет рассматриваться как уникальная сущность. Дополнительные сведения см. в статье [Управление режимом кэширования Azure CDN с помощью строк запросов](../../cdn/cdn-query-string.md).

## <a name="http-to-https-redirection"></a>Перенаправление трафика HTTP в HTTPS

Вы можете настроить перенаправление трафика HTTP в HTTPS. Это потребует использования предложения Azure CDN Premium от компании Verizon. Вам потребуется [переопределить режим HTTP с помощью обработчика правил Azure CDN](../../cdn/cdn-rules-engine.md), используя следующее правило:

![](./media/storage-https-custom-domain-cdn/redirect-to-https.png)

Cdn-endpoint-name относится к имени, настроенному для конечной точки CDN. Это значение можно выбрать в раскрывающемся списке. Origin-path относится к пути в вашей учетной записи хранения-источнике, в которой размещается статическое содержимое.
Если все статическое содержимое размещается в одном контейнере, замените origin-path именем этого контейнера.

Более подробно правила рассматриваются в статье [Функции обработчика правил Azure CDN](../../cdn/cdn-rules-engine-reference-features.md).

## <a name="pricing-and-billing"></a>Цены и выставление счетов

При доступе к BLOB-объектам через Azure CDN вы оплачиваете трафик между граничными узлами и источником по [расценкам хранилища BLOB-объектов](https://azure.microsoft.com/pricing/details/storage/blobs/), а данные, доступ к которым получаете из граничных узлов, — по [расценкам CDN](https://azure.microsoft.com/pricing/details/cdn/).

Например, предположим, что у вас есть учетная запись хранения в регионе "Западная часть США", доступ к которой осуществляется с помощью Azure CDN. Если пользователь в Великобритании пытается получить доступ к одному из BLOB-объектов в этой учетной записи хранения через сеть CDN, Azure сначала пытается найти граничный узел для этого BLOB-объекта, ближайший к Великобритании. Если он найден, система обращается к этой копии большого двоичного объекта и будет использовать расценки CDN, так как доступ к нему осуществляется через сеть CDN. В противном случае Azure скопирует большой двоичный объект на граничный узел, что повлечет за собой начисление платы за транзакции и исходящий трафик (как указано в расценках хранилища BLOB-объектов), а затем обратится к файлу на граничном узле, за что будет начислена плата по расценкам CDN.

При изучении [страницы расценок CDN](https://azure.microsoft.com/pricing/details/cdn/) обратите внимание, что поддержка HTTPS для имен личных доменов доступна только для продуктов Azure CDN от Verizon (Standard и Premium).

## <a name="next-steps"></a>Дальнейшие действия

[Настройка имени личного домена для конечной точки хранилища BLOB-объектов](storage-custom-domain-name.md)
