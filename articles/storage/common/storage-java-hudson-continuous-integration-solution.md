---
title: "toouse aaaHow Hudson с хранилищем больших двоичных объектов | Документы Microsoft"
description: "Описывает способ toouse Hudson с хранилищем больших двоичных объектов Azure как хранилище артефактов сборки."
services: storage
documentationcenter: java
author: seguler
manager: jahogg
editor: tysonn
ms.assetid: 119becdd-72c4-4ade-a439-070233c1e1ac
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 02/28/2017
ms.author: seguler
ms.openlocfilehash: 196b5d014b0318c5972a052f7822b568cfcc23df
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="using-azure-storage-with-a-hudson-continuous-integration-solution"></a>Использование хранилища Azure с решением непрерывной интеграции Hudson
## <a name="overview"></a>Обзор
Hello следующие сведения показано, как хранилище больших двоичных объектов toouse как хранилище артефактов сборки, созданные с помощью решения Hudson непрерывной интеграции (CI) или как источник toobe загружаемые файлы использовать в процессе построения. Один из сценариев hello, где это может оказаться полезным при разработки в среде гибкой разработки (с использованием Java и других языков), на непрерывной интеграции будут выполняться на основе сборки и требуется хранилище для вашего артефактов сборки, чтобы можно было бы , например, использовать их совместно с другими членами организации, ваши клиенты или ведите архив.  Другой случай — когда работа построения сам требует от других файлов, например, зависимости toodownload как часть hello построения входных данных.

В этом учебнике будет использоваться подключаемого модуля hello хранилища Azure для непрерывной Интеграции Hudson, предоставляемых Майкрософт.

## <a name="introduction-toohudson"></a>Введение tooHudson
Непрерывная интеграция Hudson включает проекта программного обеспечения, позволяя разработчикам tooeasily интеграции их изменений кода и имеют создает созданных автоматически и часто, тем самым повышая hello производительности разработчиков hello. Сборки, управляются и артефактов сборки может быть загруженного toovarious репозиториев. В этой статье описан способ артефакты построения toouse хранилища больших двоичных объектов Azure как хранилище hello hello. Он также будет показано, как toodownload зависимости из хранилища больших двоичных объектов Azure.

Дополнительные сведения о Hudson см. в разделе [Знакомство с Hudson](http://wiki.eclipse.org/Hudson-ci/Meet_Hudson).

## <a name="benefits-of-using-hello-blob-service"></a>Преимущества использования службы BLOB-объектов hello
Преимущества использования toohost службы BLOB-объектов hello артефактов сборки на гибкой разработки:

* Высокая доступность артефактов построения и (или) загружаемых зависимостей.
* Производительность при отправке артефактов построения решением Hudson CI.
* Производительность при загрузке артефактов построения клиентами и партнерами.
* Контроль политики доступа пользователей с возможностью выбора между анонимным доступом, общим доступом на основе срока действия, доступом по подписи, закрытым доступом и т. п.

## <a name="prerequisites"></a>Предварительные требования
Вам будет необходимо hello следующие toouse hello службы BLOB-объектов вместе с решением непрерывной Интеграции Hudson:

* Решение непрерывной интеграции Hudson.
  
    Если в настоящее время у вас нет решений непрерывной Интеграции Hudson, можно запустить непрерывной Интеграции Hudson решения с использованием hello следующий метод:
  
  1. На компьютере с поддержкой Java загрузки hello WAR Hudson из <http://hudson-ci.org/>.
  2. В командной строке, opened toohello папку, содержащую hello Hudson WAR запустите hello Hudson WAR. Например, если вы загрузили версию 3.1.2:
     
      `java -jar hudson-3.1.2.war`

  3. Откройте в браузере `http://localhost:8080/`. Откроется панель мониторинга Hudson hello.
  4. При их первом использовании Hudson, завершения начальной настройки hello в `http://localhost:8080/`.
  5. После завершения начальной настройки hello, Отмена hello запущен экземпляр hello Hudson WAR, запуск приветствия Hudson WAR снова и снова откройте hello Hudson панели мониторинга, `http://localhost:8080/`, который будет использоваться tooinstall и настроить подключаемый модуль hello хранилища Azure.
     
      При выполнении стандартного решения непрерывной Интеграции Hudson нужно настроить toorun как служба, запустившего hello Hudson war hello командной строки будет достаточно для этого учебника.
* Учетная запись Azure. Зарегистрироваться для получения учетной записи Azure можно по адресу <http://www.windowsazure.com>.
* Учетная запись хранения Azure. Если еще нет учетной записи хранилища, ее можно создать с помощью действия hello в [создать учетную запись хранилища](../common/storage-create-storage-account.md#create-a-storage-account).
* Знакомство с решением непрерывной Интеграции Hudson hello рекомендуется, но не является обязательным, как hello следующее содержимое будет использовать простой пример tooshow, hello шаги, необходимые при использовании hello BLOB-объектов в качестве репозитория для непрерывной Интеграции Hudson сборки артефактов.

## <a name="how-toouse-hello-blob-service-with-hudson-ci"></a>Как toouse hello BLOB-объектов с непрерывной Интеграции Hudson
toouse hello BLOB-объектов с Hudson, вам потребуется tooinstall hello подключаемого модуля хранилища Azure, настройте подключаемый модуль toouse hello вашей учетной записи хранилища и создайте действие после сборки, передающий вашей учетной записи хранилища сборки артефактов tooyour. Эти действия описаны в следующих разделах hello.

## <a name="how-tooinstall-hello-azure-storage-plugin"></a>Как tooinstall hello подключаемого модуля хранилища Azure
1. В пределах hello Hudson панели мониторинга щелкните **управление Hudson**.
2. На hello **управление Hudson** щелкните **управление подключаемыми модулями**.
3. Нажмите кнопку hello **доступно** вкладки.
4. Нажмите кнопку **Others**(Другие).
5. В hello **Uploaders артефакта** выберите **подключаемый модуль хранилища Microsoft Azure**.
6. Щелкните **Install**(Установить).
7. После завершения установки hello, перезапустите Hudson.

## <a name="how-tooconfigure-hello-azure-storage-plugin-toouse-your-storage-account"></a>Как tooconfigure hello toouse подключаемый модуль хранилища Azure вашей учетной записи хранения
1. В пределах hello Hudson панели мониторинга щелкните **управление Hudson**.
2. На hello **управление Hudson** щелкните **Настройка системы**.
3. В hello **настройки учетной записи хранилища Microsoft Azure** раздела:
   
    а. Введите имя учетной записи хранилища, который можно получить из hello [портала Azure](https://portal.azure.com).
   
    b. Введите ключ учетной записи хранилища, также доступен из hello [портала Azure](https://portal.azure.com).
   
    c. Используйте значение по умолчанию hello **URL-адрес конечной точки службы BLOB-объект** при использовании общедоступных облаков Azure hello. При использовании другой Azure облачной использовать конечную точку hello как указано в hello [портала Azure](https://portal.azure.com) для вашей учетной записи.
   
    d. Нажмите кнопку **проверки учетных данных хранилища** toovalidate вашей учетной записи хранилища.
   
    д. [Необязательно] Если у вас есть дополнительные учетные записи хранения, вы должны делать доступными tooyour непрерывной Интеграции Hudson, нажмите кнопку **добавить дополнительные учетные записи хранения**.
   
    f. Нажмите кнопку **Сохранить** toosave параметры.

## <a name="how-toocreate-a-post-build-action-that-uploads-your-build-artifacts-tooyour-storage-account"></a>Как toocreate действие после сборки, которое передает вашей учетной записи хранилища сборки артефактов tooyour
В целях инструкция сначала нам потребуется toocreate задание, которое создаст несколько файлов и затем добавить в hello действия после построения tooupload hello файлы tooyour учетной записи хранения.

1. В пределах hello Hudson панели мониторинга щелкните **новое задание**.
2. Имя задания hello **MyJob**, нажмите кнопку **задание программного обеспечения освободить стиль сборки**и нажмите кнопку **ОК**.
3. В hello **построения** раздела конфигурации задания hello, нажмите кнопку **добавить шаг сборки** и выберите **Windows выполнения пакетной команды**.
4. В **команда**, использовать hello, следующие команды:

    ```   
        md text
        cd text
        echo Hello Azure Storage from Hudson > hello.txt
        date /t > date.txt
        time /t >> date.txt
    ```

5. В hello **действия после построения** раздела конфигурации задания hello, нажмите кнопку **отправить хранилища больших двоичных объектов Azure артефакты tooMicrosoft**.
6. Для **имя учетной записи хранения**, выберите hello toouse учетной записи хранилища.
7. Для **имя контейнера**, укажите имя контейнера hello. (будет создан контейнер hello, если он еще не существует при передаче артефактов сборки hello.) Можно использовать переменные среды, поэтому в данном примере введите **${JOB_NAME}** имени контейнера hello.
   
    **Подсказка**
   
    Ниже hello **команда** раздел, где вы ввели скрипт для **Windows выполнения пакетной команды** является ссылкой toohello переменные среды, распознаваемые Hudson. Щелкните связанный имена переменных среды toolearn hello и описания. Обратите внимание, что среда переменных, которые содержат специальные символы, такие как hello **BUILD_URL** переменной среды, не разрешены в качестве имени контейнера или общий виртуальный путь.
8. Щелкните **Сделать новый контейнер открытым по умолчанию** для этого примера. (Если вы хотите toouse закрытый контейнер, вам нужно toocreate доступа tooallow подпись общего доступа. Выходит за рамки данной статьи hello. Дополнительные сведения о подписанных URL-адресах см. в статье [Использование подписанных URL-адресов (SAS)](../storage-dotnet-shared-access-signature-part-1.md)).
9. [Необязательно] Нажмите кнопку **чистой контейнера перед отправкой** Если hello контейнера toobe очищен содержимого перед отправкой артефактов сборки (не ее флажок, если не нужно, чтобы содержимое hello tooclean hello контейнера).
10. Для **tooupload список артефактов**, введите  **текст /*.txt**.
11. Для параметра **Общий виртуальный путь для отправленных артефактов** введите значение **${BUILD\_ID}/${BUILD\_NUMBER}**.
12. Нажмите кнопку **Сохранить** toosave параметры.
13. В hello Hudson панели мониторинга щелкните **сборки теперь** toorun **MyJob**. Изучите выходные данные консоли hello для состояния. Сообщения о состоянии для хранилища Azure будут включены в вывод на консоль hello в начале артефактов сборки tooupload hello действия после построения.
14. После успешного завершения задания hello можно проверить, открыв hello большой двоичный объект открытого артефактов сборки hello.
    
    а. Войдите в toohello [портала Azure](https://portal.azure.com).
    
    b. Щелкните **Хранилище**.
    
    c. Щелкните имя учетной записи хранения hello, который использовался для Hudson.
    
    d. Щелкните **Контейнеры**.
    
    д. Щелкните контейнер hello **myjob**, который является строчной версией hello hello имя задания, назначенный при создании задания Hudson hello. Имена контейнеров и больших двоичных объектов в хранилище Azure отображаются строчными буквами (и с учетом регистра). В пределах списка hello больших двоичных объектов для hello контейнер с именем **myjob** вы увидите **hello.txt** и **date.txt**. Скопируйте URL-адрес hello для любой из этих элементов и откройте его в браузере. Вы увидите hello текстовый файл, который был загружен в качестве артефакта для сборки.

Можно создать только одно действие после сборки, передающий артефакты tooAzure хранилища BLOB-объектов на задание. Обратите внимание, что хранилище больших двоичных объектов tooAzure артефакты tooupload hello одно действие после сборки можно различные файлы (включая подстановочные знаки) и toofiles путей в пределах **tooupload список артефактов** через точку с запятой в качестве разделителя. Например, если ваш Hudson сборку создает JAR-файла и TXT-файлов в рабочую область **построения** папку, вы tooupload оба tooAzure хранилища больших двоичных объектов, необходимо использовать следующие hello для hello **список артефактов tooupload** значение: **построения /\*.jar; сборка /\*.txt**. Также можно использовать синтаксис с двойным двоеточием toospecify toouse путь внутри имени большого двоичного объекта hello. Например, если вы хотите tooget hello JAR-файлов, переданных с использованием **двоичные файлы** в пути больших двоичных объектов hello и tooget файлы TXT hello загружаются с помощью **уведомления** hello пути больших двоичных объектов, используйте hello ниже для hello  **Список артефактов tooupload** значение: **построения /\*. jar::binaries; сборка /\*. txt::notices**.

## <a name="how-toocreate-a-build-step-that-downloads-from-azure-blob-storage"></a>Как toocreate действие сборки для загрузки из хранилища больших двоичных объектов Azure
Здравствуй, следующие шаги показывают, как tooconfigure построения шаг toodownload элементов из хранилища больших двоичных объектов Azure. Это может потребоваться, если требуется tooinclude элементы сборки, например, JAR-файлов, хранящихся в хранилище больших двоичных объектов Azure.

1. В hello **построения** раздела конфигурации задания hello, нажмите кнопку **добавить шаг сборки** и выберите **загружают из хранилища больших двоичных объектов Azure**.
2. Для **имя учетной записи хранения**, выберите hello toouse учетной записи хранилища.
3. Для **имя контейнера**, укажите имя hello hello контейнера, который содержит hello BLOB-объектов требуется toodownload. Можно использовать переменные среды.
4. Для **имя большого двоичного объекта**, укажите имя большого двоичного объекта hello. Можно использовать переменные среды. Кроме того можно использовать символ звездочки в качестве подстановочного знака после указания начального буквами hello hello имени большого двоичного объекта. Например, имя **project\*** будет определять все BLOB-объекты, имя которых начинается с **project**.
5. [Необязательно] Для **путь загрузки**, укажите путь к hello на hello Hudson компьютер, где toodownload файлы из хранилища больших двоичных объектов Azure. Переменные среды также могут использоваться. (Если не указано значение для **путь загрузки**, hello файлы из хранилища больших двоичных объектов Azure будут загруженный toohello задания рабочей области.)

Если у вас есть дополнительные элементы, которые необходимо toodownload из хранилища больших двоичных объектов Azure, можно создать дополнительные сборки действия.

После выполнения сборки, можно проверить выходные данные консоли журнал сборки hello, или просмотрите место для загрузки, toosee ли hello больших двоичных объектов, которые должны были успешно загружены.

## <a name="components-used-by-hello-blob-service"></a>Компоненты, используемые hello службы BLOB-объектов
Hello следующие общие компоненты службы hello больших двоичных объектов.

* **Учетная запись хранения**: обращаться к tooAzure хранилища осуществляется через учетную запись хранилища. Это наивысший уровень hello hello пространство имен для доступа к большим двоичным объектам. Учетная запись может содержать неограниченное число контейнеров при условии, что их общий размер не достигает 100 ТБ.
* **Контейнер**. Контейнер обеспечивает группировку набора BLOB-объектов. Все BLOB-объекты должны содержаться в контейнере. Учетная запись может содержать неограниченное число контейнеров. Контейнер может хранить неограниченное количество больших двоичных объектов.
* **BLOB-объект**. Файл любого типа и размера. Существует два типа BLOB-объектов, которые могут храниться в хранилище Azure: блоки и страницы. Большинство файлов являются BLOB-блоками. Копирование too200 ГБ может быть одного большого двоичного объекта. В этом учебнике используются BLOB-блоки. Страничных BLOB-объектов другого типа больших двоичных объектов может быть вверх too1 ТБ, размер и являются более эффективным, когда диапазоны байтов в файле часто изменяются. Дополнительные сведения о BLOB-объектах см. в разделе [Основные сведения о блочных, добавочных и страничных BLOB-объектах](http://msdn.microsoft.com/library/azure/ee691964.aspx).
* **Формат URL-адреса**: BLOB-объектов можно с помощью hello следующий формат URL-адреса:
  
    `http://storageaccount.blob.core.windows.net/container_name/blob_name`
  
    (выше формат hello применяется toohello общедоступных облаков Azure. При использовании другой Azure облачной используется конечная точка hello в hello [портала Azure](https://portal.azure.com) toodetermine URL-адрес конечной точки.)
  
    В формате hello выше `storageaccount` представляет hello имя учетной записи `container_name` представляет hello именем своего контейнера и `blob_name` представляет hello имя большого двоичного объекта, соответственно. В имени контейнера hello, может иметь несколько путей, разделенных косой чертой,  **/** . Имя контейнера пример Hello в этом учебнике было **MyJob**, и **${ПОСТРОЕНИЯ\_идентификатор} / ${ПОСТРОЕНИЯ\_номер}** был использован для hello общих виртуального пути, что приводит к необходимости hello больших двоичных объектов URL-адрес hello следующие формы:
  
    `http://example.blob.core.windows.net/myjob/2014-05-01_11-56-22/1/hello.txt`

## <a name="next-steps"></a>Дальнейшие действия
* [Знакомство с Hudson](http://wiki.eclipse.org/Hudson-ci/Meet_Hudson)
* [Пакет SDK для службы хранилища Azure для Java](https://github.com/azure/azure-storage-java)
* [справочнике по пакету SDK для клиента службы хранилища Azure](http://dl.windowsazure.com/storage/javadoc/)
* [API-интерфейс REST служб хранилища Azure](https://msdn.microsoft.com/library/azure/dd179355.aspx)
* [Блог рабочей группы службы хранилища Azure](http://blogs.msdn.com/b/windowsazurestorage/)

Дополнительные сведения см. в разделе [Azure for Java developers](/java/azure) (Azure для разработчиков Java).