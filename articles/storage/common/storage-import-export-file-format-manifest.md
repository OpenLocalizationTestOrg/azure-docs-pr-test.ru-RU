---
title: "формат файла манифеста для импорта и экспорта aaaAzure | Документы Microsoft"
description: "Узнайте о hello формат файла манифеста диска hello, описывающий сопоставление hello больших двоичных объектов в хранилище больших двоичных объектов Azure и файлами на диске в задание импорта или экспорта в службе импорта и экспорта hello."
author: muralikk
manager: syadav
editor: tysonn
services: storage
documentationcenter: 
ms.assetid: f3119e1c-2c25-48ad-8752-a6ed4adadbb0
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: muralikk
ms.openlocfilehash: d7e5e1990482916f7ff5f891c97343b52e82b2f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-importexport-service-manifest-file-format"></a>Формат файла манифеста службы импорта и экспорта Azure
Hello файл манифеста диска описывает сопоставление hello больших двоичных объектов в хранилище больших двоичных объектов Azure и файлов на диске, составляющие задания импорта или экспорта. Для операции импорта файл манифеста hello создается как часть процесса подготовки диска hello и хранится на диске hello перед отправкой диска hello toohello центр обработки данных Azure. Во время операции экспорта манифест hello создается и сохраняется на диске hello, hello службы импорта и экспорта Azure.  
  
Для импорта и задания экспорта, hello файл манифеста диска хранится на hello импортировать или экспортировать диска; Это не передаются toohello службы через API-операции.  
  
Hello ниже описаны hello общий формат файла манифеста диска:  
  
```xml
<?xml version="1.0" encoding="UTF-8"?>  
<DriveManifest Version="2014-11-01">  
  <Drive>  
    <DriveId>drive-id</DriveId>  
    import-export-credential  
  
    <!-- First Blob List -->  
    <BlobList>  
      <!-- Global properties and metadata that applies tooall blobs -->  
      [<MetadataPath Hash="md5-hash">global-metadata-file-path</MetadataPath>]  
      [<PropertiesPath   
        Hash="md5-hash">global-properties-file-path</PropertiesPath>]  
  
      <!-- First Blob -->  
      <Blob>  
        <BlobPath>blob-path-relative-to-account</BlobPath>  
        <FilePath>file-path-relative-to-transfer-disk</FilePath>  
        [<ClientData>client-data</ClientData>]  
        [<Snapshot>snapshot</Snapshot>]  
        <Length>content-length</Length>  
        [<ImportDisposition>import-disposition</ImportDisposition>]  
        page-range-list-or-block-list          
        [<MetadataPath Hash="md5-hash">metadata-file-path</MetadataPath>]  
        [<PropertiesPath Hash="md5-hash">properties-file-path</PropertiesPath>]  
      </Blob>  
  
      <!-- Second Blob -->  
      <Blob>  
      . . .  
      </Blob>  
    </BlobList>  
  
    <!-- Second Blob List -->  
    <BlobList>  
    . . .  
    </BlobList>  
  </Drive>  
</DriveManifest>  
  
import-export-credential ::=   
  <StorageAccountKey>storage-account-key</StorageAccountKey> | <ContainerSas>container-sas</ContainerSas>  
  
page-range-list-or-block-list ::=   
  page-range-list | block-list  
  
page-range-list ::=   
    <PageRangeList>  
      [<PageRange Offset="page-range-offset" Length="page-range-length"   
       Hash="md5-hash"/>]  
      [<PageRange Offset="page-range-offset" Length="page-range-length"   
       Hash="md5-hash"/>]  
    </PageRangeList>  
  
block-list ::=  
    <BlockList>  
      [<Block Offset="block-offset" Length="block-length" [Id="block-id"]  
       Hash="md5-hash"/>]  
      [<Block Offset="block-offset" Length="block-length" [Id="block-id"]   
       Hash="md5-hash"/>]  
    </BlockList>  

```

## <a name="manifest-xml-elements-and-attributes"></a>XML-элементы и атрибуты манифеста

Hello данных элементы и атрибуты формата XML манифеста диска hello указаны в следующей таблице hello.  
  
|XML-элемент|Тип|Описание|  
|-----------------|----------|-----------------|  
|`DriveManifest`|Корневой элемент|корневой элемент файла манифеста hello Hello. Все остальные элементы в файле hello находятся под этим элементом.|  
|`Version`|Атрибут, строка|Версия файла манифеста hello Hello.|  
|`Drive`|Вложенный XML-элемент|Содержит hello манифест для каждого диска.|  
|`DriveId`|Строка|Здравствуйте, уникальный идентификатор диска hello. Hello идентификатор диска обнаруживается при запросе диска hello серийного номера. серийный номер Hello диска обычно напечатан на hello за пределами также диска hello. Hello `DriveID` элемент должен указываться перед любым `BlobList` в файле манифеста hello.|  
|`StorageAccountKey`|Строка|Требуется для заданий импорта, если не указан `ContainerSas`. ключ учетной записи Hello для hello учетной записи хранилища Azure, связанный с заданием hello.<br /><br /> Этот элемент отсутствует в манифесте hello для операции экспорта.|  
|`ContainerSas`|Строка|Требуется для заданий импорта, если не указан `StorageAccountKey`. Hello SAS контейнера для доступа к большим двоичным объектам hello, связанный с заданием hello. В разделе [вставки задания](/rest/api/storageimportexport/jobs#Jobs_CreateOrUpdate) для его формат. Этот элемент отсутствует в манифесте hello для операции экспорта.|  
|`ClientCreator`|Строка|Указывает клиента hello, создавшего hello XML-файл. Это значение не интерпретируется hello службы импорта и экспорта.|  
|`BlobList`|Вложенный XML-элемент|Содержит список больших двоичных объектов, которые являются частью hello импорта или экспорта задания. Каждый BLOB-объект из списка общих папок hello одинаковые метаданные и свойства.|  
|`BlobList/MetadataPath`|Строка|необязательный параметр. Указывает относительный путь к файлу на диске hello, содержащий метаданные по умолчанию hello, которые будут установлены для больших двоичных объектов в hello списка больших двоичных объектов для операции импорта hello. При необходимости эти метаданные можно переопределить для каждого конкретного большого двоичного объекта.<br /><br /> Этот элемент отсутствует в манифесте hello для операции экспорта.|  
|`BlobList/MetadataPath/@Hash`|Атрибут, строка|Задает значение хэша hello MD5 в кодировке base16 для файла метаданных hello.|  
|`BlobList/PropertiesPath`|Строка|необязательный параметр. Указывает относительный путь к файлу на диске hello, содержащий свойства по умолчанию hello, которые будут установлены для больших двоичных объектов в hello списка больших двоичных объектов для операции импорта hello. При необходимости эти свойства можно переопределить для каждого конкретного большого двоичного объекта.<br /><br /> Этот элемент отсутствует в манифесте hello для операции экспорта.|  
|`BlobList/PropertiesPath/@Hash`|Атрибут, строка|Указывает значение хэша MD5 в кодировке base16 hello для hello свойства файла.|  
|`Blob`|Вложенный XML-элемент|Содержит сведения о каждом большом двоичном объекте в каждом списке таких объектов.|  
|`Blob/BlobPath`|Строка|Hello относительный URI toohello большой двоичный объект, начиная с имени контейнера hello. Если большой двоичный объект hello в корневом контейнере, оно должно начинаться с `$root`.|  
|`Blob/FilePath`|Строка|Указывает файл toohello hello относительный путь на диске hello. Для заданий экспорта путь больших двоичных объектов hello будет использоваться для hello путь к файлу, если это возможно; *например*, `pictures/bob/wild/desert.jpg` будут экспортированы слишком`\pictures\bob\wild\desert.jpg`. Однако из-за toohello ограничениями имен NTFS, большой двоичный объект может быть tooa экспортированного файла с путем, который не соответствует пути большого двоичного объекта hello.|  
|`Blob/ClientData`|Строка|необязательный параметр. Содержит комментарии от клиента hello. Это значение не интерпретируется hello службы импорта и экспорта.|  
|`Blob/Snapshot`|DateTime|Необязательно для заданий экспорта. Указывает идентификатор моментального снимка hello снимка экспортированного большого двоичного объекта.|  
|`Blob/Length`|Целое число |Указывает общую длину hello hello большого двоичного объекта в байтах. Hello значение может быть too200 ГБ для блочного BLOB-объекта и копию too1 ТБ для страничного большого двоичного объекта. Для страничного BLOB-объекта это значение должно быть кратно 512.|  
|`Blob/ImportDisposition`|Строка|Необязательно для заданий импорта, пропущено для заданий экспорта. Указывает, как hello службы импорта и экспорта должна обрабатывать случай hello для задания импорта где большой двоичный объект с hello таким же именем уже существует. Если это значение опущено из манифеста импорта hello, значение по умолчанию hello — `rename`.<br /><br /> Hello значения для этого элемента:<br /><br /> -   `no-overwrite`: Если BLOB-объект назначения уже существует с hello таким же именем, hello операция импорта пропускает этот файл.<br />-   `overwrite`: Любой существующий целевой большой двоичный объект полностью перезаписывается новым импортированным файлом hello.<br />-   `rename`: hello новый большой двоичный объект будет загружен с измененным именем.<br /><br /> Переименование правила Hello выглядит следующим образом:<br /><br /> — Если имя большого двоичного объекта hello не содержит точку, новое имя создается путем добавления `(2)` toohello исходное имя большого двоичного объекта; Если это новое имя также конфликтует с существующим именем большого двоичного объекта, затем `(3)` добавляется вместо `(2)`; и т. д.<br />— Если имя большого двоичного объекта hello содержит точку, hello часть после последней точки hello считается именем расширения hello. Аналогичные toohello выше процедуру, `(2)` вставляется перед hello последней точкой toogenerate новое имя; если новое имя hello по-прежнему конфликтует с существующим именем большого двоичного объекта, службы hello пытается `(3)`, `(4)`и так далее до неконфликтующее найти имя.<br /><br /> Некоторые примеры<br /><br /> большой двоичный объект Hello `BlobNameWithoutDot` будет переименован в:<br /><br /> `BlobNameWithoutDot (2)  // if BlobNameWithoutDot exists`<br /><br /> `BlobNameWithoutDot (3)  // if both BlobNameWithoutDot and BlobNameWithoutDot (2) exist`<br /><br /> большой двоичный объект Hello `Seattle.jpg` будет переименован в:<br /><br /> `Seattle (2).jpg  // if Seattle.jpg exists`<br /><br /> `Seattle (3).jpg  // if both Seattle.jpg and Seattle (2).jpg exist`|  
|`PageRangeList`|Вложенный XML-элемент|Требуется для страничного BLOB-объекта.<br /><br /> Для импорта операции указывает список байтовых диапазонов toobe файл импорта. Каждый диапазон страниц описывается смещением и длиной в исходном файле hello, который описывает диапазон страниц hello, вместе с MD5-хэш участка hello. Hello `Hash` атрибут диапазона страниц является обязательным. Hello служба проверяет соответствие hello хэш данных hello в большом двоичном объекте hello hello вычисляемые MD5-хэшу из диапазона страниц hello. Любое число диапазонов страниц может быть используется toodescribe файла для импорта, с hello общий размер копии too1 ТБ. Все диапазоны страниц должны быть упорядочены по смещению и не должны перекрываться.<br /><br /> Для операции экспорта указывает набор байтовых диапазонов большого двоичного объекта, которые были экспортированы toohello диска.<br /><br /> Hello диапазоны страниц могут совместно покрыть только поддиапазоны большого двоичного объекта или файла.  Ожидается оставшаяся часть файла hello, не связанная с любой диапазон страниц Hello и его содержимое может быть неопределенным.|  
|`PageRange`|XML-элемент|Представляет диапазон страниц.|  
|`PageRange/@Offset`|Атрибут, целое число|Указывает, что начинается hello смещение в файле передачи hello и hello больших двоичных объектов, где hello указан диапазон страниц. Это значение должно быть кратно 512.|  
|`PageRange/@Length`|Атрибут, целое число|Указывает длину диапазона страниц hello hello. Это значение должно быть кратно 512 и не превышать 4 МБ.|  
|`PageRange/@Hash`|Атрибут, строка|Задает значение хэша hello кодировке base16 MD5 для диапазона страниц hello.|  
|`BlockList`|Вложенный XML-элемент|Требуется для блочного BLOB-объекта с именованными блоками.<br /><br /> Для операции импорта список блокировок hello указывает набор блоков, которые будут импортированы в хранилище Azure. Для операции экспорта список блокировок hello указывает, где каждый блок сохранен в hello файла на диске экспорта hello. Каждый блок описывается смещением в файле hello и длиной блока; Каждый блок называется более атрибутом идентификатора блока и содержит MD5-хэш для блока hello. Копирование too50 000 блоки могут быть используется toodescribe большого двоичного объекта.  Все блоки должны быть упорядочены по смещению и вместе должны охватывать полный диапазон файла hello hello *т. е.*, между блоками должно быть пропусков. Если большой двоичный объект hello не более 64 МБ, hello идентификаторы блокировок для каждого блока должен быть либо все отсутствующий или всех. Идентификаторы блокировок — это обязательный toobe строки в кодировке Base64. Дополнительные требования к идентификаторам блоков см. в статье [Put Block](/rest/api/storageservices/put-block) (Операция Put Block).|  
|`Block`|XML-элемент|Представляет блок.|  
|`Block/@Offset`|Атрибут, целое число|Задает смещение hello, где начинается указанный блок hello.|  
|`Block/@Length`|Атрибут, целое число|Определяет hello число байтов в блоке hello; Это значение должно быть не более 4 МБ.|  
|`Block/@Id`|Атрибут, строка|Задает строку, представляющую идентификатор блока hello для блока hello.|  
|`Block/@Hash`|Атрибут, строка|Задает хэш MD5 в кодировке base16 hello hello блока.|  
|`Blob/MetadataPath`|Строка|необязательный параметр. Указывает относительный путь к файлу метаданных hello. Во время импорта метаданных hello устанавливается для BLOB-объект назначения hello. Во время операции экспорта метаданных hello blob хранится в файле метаданных hello на диске hello.|  
|`Blob/MetadataPath/@Hash`|Атрибут, строка|Указывает hello кодировке base16 MD5-хэш файла метаданных hello большого двоичного объекта.|  
|`Blob/PropertiesPath`|Строка|необязательный параметр. Указывает относительный путь к файлу свойств hello. Во время импорта hello свойства задаются в BLOB-объект назначения hello. Во время операции экспорта свойства большого двоичного объекта hello хранятся в файле свойств hello на диске hello.|  
|`Blob/PropertiesPath/@Hash`|Атрибут, строка|Указывает hello кодировке base16 MD5-хэш файла свойств hello большого двоичного объекта.|  
  
## <a name="next-steps"></a>Дальнейшие действия
 
* [Справочник по REST API импорта и экспорта службы хранилища](/rest/api/storageimportexport/)
