---
title: "Использование эмулятора хранения Azure для разработки и тестирования | Документы Майкрософт"
description: "Эмулятор хранения Azure предоставляет свободную локальную среду для разработки и тестирования приложений службы хранилища Azure. Вы можете подробнее узнать о способе проверки подлинности запросов, подключении к эмулятору из приложения и использовании программы командной строки."
services: storage
documentationcenter: 
author: mmacy
manager: timlt
editor: tysonn
ms.assetid: f480b059-df8a-4a63-b05a-7f2f5d1f5c2a
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/08/2017
ms.author: marsma
ms.openlocfilehash: eef0ff164b2857172fc24d8a0af7beddb29b262c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="use-the-azure-storage-emulator-for-development-and-testing"></a><span data-ttu-id="f8636-104">Использование эмулятора хранения Azure для разработки и тестирования</span><span class="sxs-lookup"><span data-stu-id="f8636-104">Use the Azure storage emulator for development and testing</span></span>

<span data-ttu-id="f8636-105">Эмулятор службы хранилища Microsoft Azure предоставляет собой локальную среду, эмулирующую службы BLOB-объектов, очередей и таблиц для целей разработки.</span><span class="sxs-lookup"><span data-stu-id="f8636-105">The Microsoft Azure storage emulator provides a local environment that emulates the Azure Blob, Queue, and Table services for development purposes.</span></span> <span data-ttu-id="f8636-106">Используя эмулятор хранения, можно локально протестировать приложение со службами хранилища без создания подписки Azure, избежав затрат.</span><span class="sxs-lookup"><span data-stu-id="f8636-106">Using the storage emulator, you can test your application against the storage services locally, without creating an Azure subscription or incurring any costs.</span></span> <span data-ttu-id="f8636-107">Если приложение в эмуляторе работает правильно, вы можете использовать учетную запись хранения Azure в облаке.</span><span class="sxs-lookup"><span data-stu-id="f8636-107">When you're satisfied with how your application is working in the emulator, you can switch to using an Azure storage account in the cloud.</span></span>

## <a name="get-the-storage-emulator"></a><span data-ttu-id="f8636-108">Получение эмулятора хранения</span><span class="sxs-lookup"><span data-stu-id="f8636-108">Get the storage emulator</span></span>
<span data-ttu-id="f8636-109">Эмулятор хранения входит в [пакет SDK для Microsoft Azure](https://azure.microsoft.com/downloads/).</span><span class="sxs-lookup"><span data-stu-id="f8636-109">The storage emulator is available as part of the [Microsoft Azure SDK](https://azure.microsoft.com/downloads/).</span></span> <span data-ttu-id="f8636-110">Его также можно установить с помощью [автономного установщика](https://go.microsoft.com/fwlink/?linkid=717179&clcid=0x409) (скачиваемого напрямую).</span><span class="sxs-lookup"><span data-stu-id="f8636-110">You can also install the storage emulator by using the [standalone installer](https://go.microsoft.com/fwlink/?linkid=717179&clcid=0x409) (direct download).</span></span> <span data-ttu-id="f8636-111">Чтобы установить эмулятор хранения, нужно обладать правами администратора на компьютере.</span><span class="sxs-lookup"><span data-stu-id="f8636-111">To install the storage emulator, you must have administrative privileges on your computer.</span></span>

<span data-ttu-id="f8636-112">В настоящее время эмулятор хранилища работает только в Windows.</span><span class="sxs-lookup"><span data-stu-id="f8636-112">The storage emulator currently runs only on Windows.</span></span> <span data-ttu-id="f8636-113">Те, кто рассматривает возможность использовать эмулятор хранения для Linux, могут воспользоваться эмулятором хранения с открытым кодом [Azurite](https://github.com/arafato/azurite), поддерживаемым сообществом.</span><span class="sxs-lookup"><span data-stu-id="f8636-113">For those considering a storage emulator for Linux, one option is the community maintained, open source storage emulator [Azurite](https://github.com/arafato/azurite).</span></span>

> [!NOTE]
> <span data-ttu-id="f8636-114">Данные, созданные в одной версии эмулятора хранения, могут быть недоступны при использовании другой версии.</span><span class="sxs-lookup"><span data-stu-id="f8636-114">Data created in one version of the storage emulator is not guaranteed to be accessible when using a different version.</span></span> <span data-ttu-id="f8636-115">Если нужно сохранить данные на длительный срок, рекомендуется хранить их в учетной записи хранения Azure, а не в эмуляторе хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-115">If you need to persist your data for the long term, we recommended that you store that data in an Azure storage account, rather than in the storage emulator.</span></span>
> <p/>
> <span data-ttu-id="f8636-116">Эмулятор хранения зависит от определенных версий библиотек OData.</span><span class="sxs-lookup"><span data-stu-id="f8636-116">The storage emulator depends on specific versions of the OData libraries.</span></span> <span data-ttu-id="f8636-117">Замена библиотек DLL OData, используемых эмулятором хранения, не поддерживается другими версиями и может привести к непредвиденному поведению.</span><span class="sxs-lookup"><span data-stu-id="f8636-117">Replacing the OData DLLs used by the storage emulator with other versions is unsupported, and may cause unexpected behavior.</span></span> <span data-ttu-id="f8636-118">Тем не менее для отправки запросов к эмулятору может использоваться любая версия OData, поддерживаемая службой хранилища.</span><span class="sxs-lookup"><span data-stu-id="f8636-118">However, any version of OData supported by the storage service may be used to send requests to the emulator.</span></span>
>

## <a name="how-the-storage-emulator-works"></a><span data-ttu-id="f8636-119">Принцип работы эмулятора хранения</span><span class="sxs-lookup"><span data-stu-id="f8636-119">How the storage emulator works</span></span>
<span data-ttu-id="f8636-120">Для эмуляции служб хранилища Azure эмулятор хранения использует локальный экземпляр Microsoft SQL Server и локальную файловую систему.</span><span class="sxs-lookup"><span data-stu-id="f8636-120">The storage emulator uses a local Microsoft SQL Server instance and the local file system to emulate Azure storage services.</span></span> <span data-ttu-id="f8636-121">По умолчанию эмулятор хранения использует базу данных, расположенную в Microsoft® SQL Server 2012 Express LocalDB.</span><span class="sxs-lookup"><span data-stu-id="f8636-121">By default, the storage emulator uses a database in Microsoft SQL Server 2012 Express LocalDB.</span></span> <span data-ttu-id="f8636-122">Вы можете настроить эмулятор хранения для доступа к локальному экземпляру SQL Server вместо LocalDB.</span><span class="sxs-lookup"><span data-stu-id="f8636-122">You can choose to configure the storage emulator to access a local instance of SQL Server instead of the LocalDB instance.</span></span> <span data-ttu-id="f8636-123">Дополнительные сведения см. ниже в разделе [Запуск и инициализация эмулятора хранения](#start-and-initialize-the-storage-emulator).</span><span class="sxs-lookup"><span data-stu-id="f8636-123">For more information, see the [Start and initialize the storage emulator](#start-and-initialize-the-storage-emulator) section later in this article.</span></span>

<span data-ttu-id="f8636-124">Эмулятор хранения подключается к SQL Server или LocalDB с использованием аутентификации Windows.</span><span class="sxs-lookup"><span data-stu-id="f8636-124">The storage emulator connects to SQL Server or LocalDB using Windows authentication.</span></span>

<span data-ttu-id="f8636-125">Между эмулятором хранения и службой хранилища Azure есть несколько различий.</span><span class="sxs-lookup"><span data-stu-id="f8636-125">Some differences in functionality exist between the storage emulator and Azure storage services.</span></span> <span data-ttu-id="f8636-126">Дополнительные сведения об этих различиях см. в разделе [Различия между эмулятором хранения и службами хранилища Azure](#differences-between-the-storage-emulator-and-azure-storage) ниже.</span><span class="sxs-lookup"><span data-stu-id="f8636-126">For more information about these differences, see the [Differences between the storage emulator and Azure Storage](#differences-between-the-storage-emulator-and-azure-storage) section later in this article.</span></span>

## <a name="start-and-initialize-the-storage-emulator"></a><span data-ttu-id="f8636-127">Запуск и инициализация эмулятора хранения</span><span class="sxs-lookup"><span data-stu-id="f8636-127">Start and initialize the storage emulator</span></span>
<span data-ttu-id="f8636-128">Чтобы запустить эмулятор хранения Azure, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="f8636-128">To start the Azure storage emulator:</span></span>
1. <span data-ttu-id="f8636-129">Нажмите кнопку **Пуск** или клавишу **Windows**.</span><span class="sxs-lookup"><span data-stu-id="f8636-129">Select the **Start** button or press the **Windows** key.</span></span>
1. <span data-ttu-id="f8636-130">Начните вводить текст `Azure Storage Emulator`.</span><span class="sxs-lookup"><span data-stu-id="f8636-130">Begin typing `Azure Storage Emulator`.</span></span>
1. <span data-ttu-id="f8636-131">Выберите эмулятор в списке отображенных приложений.</span><span class="sxs-lookup"><span data-stu-id="f8636-131">Select the emulator from the list of displayed applications.</span></span>

<span data-ttu-id="f8636-132">При запуске эмулятора хранения отображается окно командной строки.</span><span class="sxs-lookup"><span data-stu-id="f8636-132">When the storage emulator starts, a Command Prompt window will appear.</span></span> <span data-ttu-id="f8636-133">Вы можете использовать это окно консоли для запуска и остановки эмулятора хранения, очистки данных, получения состояния и инициализации эмулятора.</span><span class="sxs-lookup"><span data-stu-id="f8636-133">You can use this console window to start and stop the storage emulator, clear data, get status, and initialize the emulator.</span></span> <span data-ttu-id="f8636-134">Дополнительные сведения см. ниже в разделе [Справочник по программе командной строки эмулятора хранения](#storage-emulator-command-line-tool-reference).</span><span class="sxs-lookup"><span data-stu-id="f8636-134">For more information, see the [Storage emulator command-line tool reference](#storage-emulator-command-line-tool-reference) section later in this article.</span></span>

<span data-ttu-id="f8636-135">При запуске эмулятора в области уведомлений панели задач Windows появится соответствующий значок.</span><span class="sxs-lookup"><span data-stu-id="f8636-135">When the emulator is running, you'll see an icon in the Windows taskbar notification area.</span></span>

<span data-ttu-id="f8636-136">При закрытии окна командной строки эмулятора хранения эмулятор продолжит работу.</span><span class="sxs-lookup"><span data-stu-id="f8636-136">When you close the storage emulator Command Prompt window, the storage emulator will continue to run.</span></span> <span data-ttu-id="f8636-137">Чтобы снова вызвать окно консоли, повторите приведенные выше действия, как если бы снова запускали эмулятор хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-137">To bring up the Storage Emulator console window again, follow the preceding steps as if starting the storage emulator.</span></span>

<span data-ttu-id="f8636-138">При первом запуске эмулятора хранения инициализируется локальная среда хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-138">The first time you run the storage emulator, the local storage environment is initialized for you.</span></span> <span data-ttu-id="f8636-139">В процессе инициализации создается база данных в LocalDB и резервируются порты HTTP для каждой локальной службы хранилища.</span><span class="sxs-lookup"><span data-stu-id="f8636-139">The initialization process creates a database in LocalDB and reserves HTTP ports for each local storage service.</span></span>

<span data-ttu-id="f8636-140">Эмулятор хранения по умолчанию устанавливается в `C:\Program Files (x86)\Microsoft SDKs\Azure\Storage Emulator`.</span><span class="sxs-lookup"><span data-stu-id="f8636-140">The storage emulator is installed by default to `C:\Program Files (x86)\Microsoft SDKs\Azure\Storage Emulator`.</span></span>

> [!TIP]
> <span data-ttu-id="f8636-141">Для работы с локальными ресурсами эмулятора можно использовать [обозреватель хранилищ Microsoft Azure](http://storageexplorer.com).</span><span class="sxs-lookup"><span data-stu-id="f8636-141">You can use the [Microsoft Azure Storage Explorer](http://storageexplorer.com) to work with local storage emulator resources.</span></span> <span data-ttu-id="f8636-142">После установки и запуска эмулятора хранения найдите пункт "(Разработка)" в разделе "Учетные записи хранения" дерева ресурсов обозревателя хранилищ.</span><span class="sxs-lookup"><span data-stu-id="f8636-142">Look for "(Development)" under "Storage Accounts" in the Storage Explorer resources tree after you've installed and started the storage emulator.</span></span>
>

### <a name="initialize-the-storage-emulator-to-use-a-different-sql-database"></a><span data-ttu-id="f8636-143">Инициализация эмулятора хранения для использования другой базы данных SQL</span><span class="sxs-lookup"><span data-stu-id="f8636-143">Initialize the storage emulator to use a different SQL database</span></span>
<span data-ttu-id="f8636-144">Вы можете использовать программу командной строки эмулятора хранения, чтобы инициализировать эмулятор хранения для указания экземпляра базы данных SQL, отличного от экземпляра LocalDB по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f8636-144">You can use the storage emulator command-line tool to initialize the storage emulator to point to a SQL database instance other than the default LocalDB instance:</span></span>

1. <span data-ttu-id="f8636-145">Откройте окно консоли эмулятора хранения, как описано в разделе [Запуск и инициализация эмулятора хранения](#start-and-initialize-the-storage-emulator).</span><span class="sxs-lookup"><span data-stu-id="f8636-145">Open the Storage Emulator console window as described in the [Start and initialize the storage emulator](#start-and-initialize-the-storage-emulator) section.</span></span>
1. <span data-ttu-id="f8636-146">В окне консоли введите следующую команду, где `<SQLServerInstance>` — имя экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f8636-146">In the console window, type the following command, where `<SQLServerInstance>` is the name of the SQL Server instance.</span></span> <span data-ttu-id="f8636-147">Чтобы использовать LocalDB, укажите `(localdb)\MSSQLLocalDb` в качестве экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f8636-147">To use LocalDB, specify `(localdb)\MSSQLLocalDb` as the SQL Server instance.</span></span>

  `AzureStorageEmulator.exe init /server <SQLServerInstance>`

  <span data-ttu-id="f8636-148">Можно использовать следующую команду, которая указывает эмулятору использовать экземпляр SQL Server по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="f8636-148">You can also use the following command, which directs the emulator to use the default SQL Server instance:</span></span>

  `AzureStorageEmulator.exe init /server .\\`

  <span data-ttu-id="f8636-149">Кроме этого, вы можете также использовать следующую команду, которая повторно инициализирует базу данных до экземпляра LocalDB по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f8636-149">Or, you can use the following command, which reinitializes the database to the default LocalDB instance:</span></span>

  `AzureStorageEmulator.exe init /forceCreate`

<span data-ttu-id="f8636-150">Дополнительные сведения об этих командах см. в разделе [Справочник по программе командной строки эмулятора хранения](#storage-emulator-command-line-tool-reference).</span><span class="sxs-lookup"><span data-stu-id="f8636-150">For more information about these commands, see [Storage emulator command-line tool reference](#storage-emulator-command-line-tool-reference).</span></span>

> [!TIP]
> <span data-ttu-id="f8636-151">Для управления экземплярами SQL Server, включая установку LocalDB, можно использовать [Microsoft SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms) (SSMS).</span><span class="sxs-lookup"><span data-stu-id="f8636-151">You can use the [Microsoft SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms) (SSMS) to manage your SQL Server instances, including the LocalDB installation.</span></span> <span data-ttu-id="f8636-152">В диалоговом окне **Подключение к серверу** SMSS укажите `(localdb)\MSSQLLocalDb` в поле **Имя сервера:**, чтобы подключиться к экземпляру LocalDB.</span><span class="sxs-lookup"><span data-stu-id="f8636-152">In the SMSS **Connect to Server** dialog, specify `(localdb)\MSSQLLocalDb` in the **Server name:** field to connect to the LocalDB instance.</span></span>

## <a name="authenticating-requests-against-the-storage-emulator"></a><span data-ttu-id="f8636-153">Проверка подлинности запросов на эмулятор хранения</span><span class="sxs-lookup"><span data-stu-id="f8636-153">Authenticating requests against the storage emulator</span></span>
<span data-ttu-id="f8636-154">После установки и запуска эмулятора хранения можно проверить в нем свой код.</span><span class="sxs-lookup"><span data-stu-id="f8636-154">Once you've installed and started the storage emulator, you can test your code against it.</span></span> <span data-ttu-id="f8636-155">Как и в службе хранилища Azure в облаке, подлинность каждого запроса, отправляемого в эмулятор хранения, должна быть подтверждена. В противном случае такой запрос будет считаться анонимным.</span><span class="sxs-lookup"><span data-stu-id="f8636-155">As with Azure Storage in the cloud, every request you make against the storage emulator must be authenticated, unless it is an anonymous request.</span></span> <span data-ttu-id="f8636-156">Проверить подлинность запросов на эмулятор хранения можно с помощью проверки подлинности по общему ключу или с помощью подписанного URL-адреса (SAS).</span><span class="sxs-lookup"><span data-stu-id="f8636-156">You can authenticate requests against the storage emulator using Shared Key authentication or with a shared access signature (SAS).</span></span>

### <a name="authenticate-with-shared-key-credentials"></a><span data-ttu-id="f8636-157">Проверка подлинности с использованием учетных данных общего ключа</span><span class="sxs-lookup"><span data-stu-id="f8636-157">Authenticate with Shared Key credentials</span></span>
[!INCLUDE [storage-emulator-connection-string-include](../../../includes/storage-emulator-connection-string-include.md)]

<span data-ttu-id="f8636-158">Дополнительные сведения о строках подключения см. в разделе [Настройка строк подключения службы хранилища Azure](../storage-configure-connection-string.md).</span><span class="sxs-lookup"><span data-stu-id="f8636-158">For more information on connection strings, see [Configure Azure Storage connection strings](../storage-configure-connection-string.md).</span></span>

### <a name="authenticate-with-a-shared-access-signature"></a><span data-ttu-id="f8636-159">Проверка подлинности с помощью подписанного URL-адреса</span><span class="sxs-lookup"><span data-stu-id="f8636-159">Authenticate with a shared access signature</span></span>
<span data-ttu-id="f8636-160">Некоторые клиентские библиотеки хранилища Azure, такие как библиотека Xamarin, поддерживают только проверку подлинности с помощью маркера подписанного URL-адреса (SAS).</span><span class="sxs-lookup"><span data-stu-id="f8636-160">Some Azure storage client libraries, such as the Xamarin library, only support authentication with a shared access signature (SAS) token.</span></span> <span data-ttu-id="f8636-161">Вы можете создать токен SAS, используя такое средство, как [обозреватель хранилищ](http://storageexplorer.com/), либо другое приложение, поддерживающее проверку подлинности с помощью общего ключа.</span><span class="sxs-lookup"><span data-stu-id="f8636-161">You can create the SAS token using a tool like the [Storage Explorer](http://storageexplorer.com/) or another application that supports Shared Key authentication.</span></span>

<span data-ttu-id="f8636-162">Кроме того, для этого можно использовать Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f8636-162">You can also generate a SAS token by using Azure PowerShell.</span></span> <span data-ttu-id="f8636-163">Следующий пример создает токен SAS с полными правами на контейнер BLOB-объектов:</span><span class="sxs-lookup"><span data-stu-id="f8636-163">The following example generates a SAS token with full permissions to a blob container:</span></span>

1. <span data-ttu-id="f8636-164">Установите Azure PowerShell, если это еще не сделано (рекомендуется использовать последнюю версию командлетов Azure PowerShell).</span><span class="sxs-lookup"><span data-stu-id="f8636-164">Install Azure PowerShell if you haven't already (using the latest version of the Azure PowerShell cmdlets is recommended).</span></span> <span data-ttu-id="f8636-165">Инструкции по установке см. в статье [Установка и настройка Azure PowerShell](/powershell/azure/install-azurerm-ps).</span><span class="sxs-lookup"><span data-stu-id="f8636-165">For installation instructions, see [Install and configure Azure PowerShell](/powershell/azure/install-azurerm-ps).</span></span>
2. <span data-ttu-id="f8636-166">Откройте Azure PowerShell и выполните приведенные ниже команды, заменив `ACCOUNT_NAME` и `ACCOUNT_KEY==` своими учетными данными, а `CONTAINER_NAME` — именем на свой выбор.</span><span class="sxs-lookup"><span data-stu-id="f8636-166">Open Azure PowerShell and run the following commands, replacing `ACCOUNT_NAME` and `ACCOUNT_KEY==` with your own credentials, and `CONTAINER_NAME` with a name of your choosing:</span></span>

```powershell
$context = New-AzureStorageContext -StorageAccountName "ACCOUNT_NAME" -StorageAccountKey "ACCOUNT_KEY=="

New-AzureStorageContainer CONTAINER_NAME -Permission Off -Context $context

$now = Get-Date

New-AzureStorageContainerSASToken -Name CONTAINER_NAME -Permission rwdl -ExpiryTime $now.AddDays(1.0) -Context $context -FullUri
```

<span data-ttu-id="f8636-167">Полученный универсальный код ресурса (URI) для подписанного URL-адреса нового контейнера должен быть аналогичен следующему:</span><span class="sxs-lookup"><span data-stu-id="f8636-167">The resulting shared access signature URI for the new container should be similar to:</span></span>

```
https://storageaccount.blob.core.windows.net/sascontainer?sv=2012-02-12&se=2015-07-08T00%3A12%3A08Z&sr=c&sp=wl&sig=t%2BbzU9%2B7ry4okULN9S0wst%2F8MCUhTjrHyV9rDNLSe8g%3Dsss
```

<span data-ttu-id="f8636-168">Подписанный URL-адрес, созданный с помощью этого примера, действителен один день.</span><span class="sxs-lookup"><span data-stu-id="f8636-168">The shared access signature created with this example is valid for one day.</span></span> <span data-ttu-id="f8636-169">Подписанный URL-адрес предоставляет полные права (чтение, запись, удаление и создание списка) для BLOB-объектов в контейнере.</span><span class="sxs-lookup"><span data-stu-id="f8636-169">The signature grants full access (read, write, delete, list) to blobs within the container.</span></span>

<span data-ttu-id="f8636-170">Дополнительные сведения о подписанных URL-адресах см. в разделе [Использование подписанных URL-адресов (SAS) в службе хранилища Azure](../storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="f8636-170">For more information on shared access signatures, see [Using shared access signatures (SAS) in Azure Storage](../storage-dotnet-shared-access-signature-part-1.md).</span></span>

## <a name="addressing-resources-in-the-storage-emulator"></a><span data-ttu-id="f8636-171">Обращение к ресурсам в эмуляторе хранения</span><span class="sxs-lookup"><span data-stu-id="f8636-171">Addressing resources in the storage emulator</span></span>
<span data-ttu-id="f8636-172">Конечные точки службы для эмулятора хранения отличаются от аналогичных точек учетной записи хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="f8636-172">The service endpoints for the storage emulator are different from those of an Azure storage account.</span></span> <span data-ttu-id="f8636-173">Различие заключается в том, что локальный компьютер не обеспечивает разрешение доменных имен, поэтому конечные точки эмулятора хранения должны иметь локальный адрес.</span><span class="sxs-lookup"><span data-stu-id="f8636-173">The difference is because the local computer does not perform domain name resolution, requiring the storage emulator endpoints to be local addresses.</span></span>

<span data-ttu-id="f8636-174">При обращении к ресурсу в учетной записи хранения Azure используйте приведенную ниже схему.</span><span class="sxs-lookup"><span data-stu-id="f8636-174">When you address a resource in an Azure storage account, you use the following scheme.</span></span> <span data-ttu-id="f8636-175">Имя учетной записи представляет собой часть имени узла в универсальном коде ресурса (URI), а ресурс, к которому выполняется обращение, — часть пути в универсальном коде ресурса (URI).</span><span class="sxs-lookup"><span data-stu-id="f8636-175">The account name is part of the URI host name, and the resource being addressed is part of the URI path:</span></span>

`<http|https>://<account-name>.<service-name>.core.windows.net/<resource-path>`

<span data-ttu-id="f8636-176">Например, допустимым адресом для большого двоичного объекта в учетной записи хранения Azure можно считать такой URI:</span><span class="sxs-lookup"><span data-stu-id="f8636-176">For example, the following URI is a valid address for a blob in an Azure storage account:</span></span>

`https://myaccount.blob.core.windows.net/mycontainer/myblob.txt`

<span data-ttu-id="f8636-177">Однако в эмуляторе хранения имя учетной записи является частью пути URI, а не именем узла, так как локальный компьютер не обеспечивает разрешение доменных имен.</span><span class="sxs-lookup"><span data-stu-id="f8636-177">However, the storage emulator, because the local computer does not perform domain name resolution, the account name is part of the URI path instead of the host name.</span></span> <span data-ttu-id="f8636-178">Используйте для ресурса в эмуляторе хранения следующий формат URI:</span><span class="sxs-lookup"><span data-stu-id="f8636-178">Use the following URI format for a resource in the storage emulator:</span></span>

`http://<local-machine-address>:<port>/<account-name>/<resource-path>`

<span data-ttu-id="f8636-179">Например, следующий адрес можно использовать для получения доступа к большому двоичному объекту в эмуляторе службы хранилища:</span><span class="sxs-lookup"><span data-stu-id="f8636-179">For example, the following address might be used for accessing a blob in the storage emulator:</span></span>

`http://127.0.0.1:10000/myaccount/mycontainer/myblob.txt`

<span data-ttu-id="f8636-180">Ниже перечислены конечные точки службы для эмулятора хранения:</span><span class="sxs-lookup"><span data-stu-id="f8636-180">The service endpoints for the storage emulator are:</span></span>

* <span data-ttu-id="f8636-181">Служба BLOB-объектов: `http://127.0.0.1:10000/<account-name>/<resource-path>`</span><span class="sxs-lookup"><span data-stu-id="f8636-181">Blob service: `http://127.0.0.1:10000/<account-name>/<resource-path>`</span></span>
* <span data-ttu-id="f8636-182">Служба очередей: `http://127.0.0.1:10001/<account-name>/<resource-path>`</span><span class="sxs-lookup"><span data-stu-id="f8636-182">Queue service: `http://127.0.0.1:10001/<account-name>/<resource-path>`</span></span>
* <span data-ttu-id="f8636-183">Служба таблиц: `http://127.0.0.1:10002/<account-name>/<resource-path>`</span><span class="sxs-lookup"><span data-stu-id="f8636-183">Table service: `http://127.0.0.1:10002/<account-name>/<resource-path>`</span></span>

### <a name="addressing-the-account-secondary-with-ra-grs"></a><span data-ttu-id="f8636-184">Обращение к вторичному расположению учетной записи с помощью RA-GRS</span><span class="sxs-lookup"><span data-stu-id="f8636-184">Addressing the account secondary with RA-GRS</span></span>
<span data-ttu-id="f8636-185">Начиная с версии 3.1, эмулятор хранения поддерживает геоизбыточную репликацию с доступом только для чтения (RA-GRS).</span><span class="sxs-lookup"><span data-stu-id="f8636-185">Beginning with version 3.1, the storage emulator supports read-access geo-redundant replication (RA-GRS).</span></span> <span data-ttu-id="f8636-186">Чтобы использовать ресурсы хранилища в облаке или локальном эмуляторе, вы можете получить доступ к вторичному расположению, добавив -secondary к имени учетной записи.</span><span class="sxs-lookup"><span data-stu-id="f8636-186">For storage resources both in the cloud and in the local emulator, you can access the secondary location by appending -secondary to the account name.</span></span> <span data-ttu-id="f8636-187">Например, следующий адрес можно использовать для получения доступа к большому двоичному объекту с помощью вторичного только для чтения в эмуляторе службы хранилища:</span><span class="sxs-lookup"><span data-stu-id="f8636-187">For example, the following address might be used for accessing a blob using the read-only secondary in the storage emulator:</span></span>

`http://127.0.0.1:10000/myaccount-secondary/mycontainer/myblob.txt`

> [!NOTE]
> <span data-ttu-id="f8636-188">Для программного доступа к вторичному расположению с помощью эмулятора хранения используйте клиентскую библиотеку хранилища для .NET 3.2 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="f8636-188">For programmatic access to the secondary with the storage emulator, use the Storage Client Library for .NET version 3.2 or later.</span></span> <span data-ttu-id="f8636-189">Дополнительные сведения см. в разделе [Клиентская библиотека хранилища Microsoft Azure для .NET](https://msdn.microsoft.com/library/azure/dn261237.aspx).</span><span class="sxs-lookup"><span data-stu-id="f8636-189">See the [Microsoft Azure Storage Client Library for .NET](https://msdn.microsoft.com/library/azure/dn261237.aspx) for details.</span></span>
>
>

## <a name="storage-emulator-command-line-tool-reference"></a><span data-ttu-id="f8636-190">Справочник по программе командной строки эмулятора хранения</span><span class="sxs-lookup"><span data-stu-id="f8636-190">Storage emulator command-line tool reference</span></span>
<span data-ttu-id="f8636-191">Начиная с версии 3.0, при запуске эмулятора хранения отображается окно консоли.</span><span class="sxs-lookup"><span data-stu-id="f8636-191">Starting in version 3.0, a console window is displayed when you start the Storage Emulator.</span></span> <span data-ttu-id="f8636-192">Используйте командную строку в окне консоли для запуска и остановки работы эмулятора, а также для запроса состояния и выполнения других операций.</span><span class="sxs-lookup"><span data-stu-id="f8636-192">Use the command line in the console window to start and stop the emulator as well as query for status and perform other operations.</span></span>

> [!NOTE]
> <span data-ttu-id="f8636-193">Если у вас уже установлен эмулятор вычислений Microsoft Azure, то при запуске эмулятора хранения в области уведомлений появится соответствующий значок.</span><span class="sxs-lookup"><span data-stu-id="f8636-193">If you have the Microsoft Azure compute emulator installed, a system tray icon appears when you launch the Storage Emulator.</span></span> <span data-ttu-id="f8636-194">Щелкните этот значок правой кнопкой мыши, чтобы вызвать меню, которое позволяет запустить и остановить работу эмулятора хранения графическим путем.</span><span class="sxs-lookup"><span data-stu-id="f8636-194">Right-click on the icon to reveal a menu that provides a graphical way to start and stop the Storage Emulator.</span></span>
>
>

### <a name="command-line-syntax"></a><span data-ttu-id="f8636-195">Синтаксис командной строки</span><span class="sxs-lookup"><span data-stu-id="f8636-195">Command line syntax</span></span>
`AzureStorageEmulator.exe [start] [stop] [status] [clear] [init] [help]`

### <a name="options"></a><span data-ttu-id="f8636-196">Параметры</span><span class="sxs-lookup"><span data-stu-id="f8636-196">Options</span></span>
<span data-ttu-id="f8636-197">Чтобы просмотреть список параметров, в командной строке введите `/help` .</span><span class="sxs-lookup"><span data-stu-id="f8636-197">To view the list of options, type `/help` at the command prompt.</span></span>

| <span data-ttu-id="f8636-198">Параметр</span><span class="sxs-lookup"><span data-stu-id="f8636-198">Option</span></span> | <span data-ttu-id="f8636-199">Описание</span><span class="sxs-lookup"><span data-stu-id="f8636-199">Description</span></span> | <span data-ttu-id="f8636-200">Команда</span><span class="sxs-lookup"><span data-stu-id="f8636-200">Command</span></span> | <span data-ttu-id="f8636-201">Аргументы</span><span class="sxs-lookup"><span data-stu-id="f8636-201">Arguments</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f8636-202">**Начало**</span><span class="sxs-lookup"><span data-stu-id="f8636-202">**Start**</span></span> |<span data-ttu-id="f8636-203">Запускает эмулятор хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-203">Starts up the storage emulator.</span></span> |`AzureStorageEmulator.exe start [-inprocess]` |<span data-ttu-id="f8636-204">*-inprocess*: запускает эмулятор в текущем процессе вместо создания нового процесса.</span><span class="sxs-lookup"><span data-stu-id="f8636-204">*-inprocess*: Start the emulator in the current process instead of creating a new process.</span></span> |
| <span data-ttu-id="f8636-205">**Остановить**</span><span class="sxs-lookup"><span data-stu-id="f8636-205">**Stop**</span></span> |<span data-ttu-id="f8636-206">Останавливает эмулятор хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-206">Stops the storage emulator.</span></span> |`AzureStorageEmulator.exe stop` | |
| <span data-ttu-id="f8636-207">**Состояние**</span><span class="sxs-lookup"><span data-stu-id="f8636-207">**Status**</span></span> |<span data-ttu-id="f8636-208">Печатает состояние эмулятора хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-208">Prints the status of the storage emulator.</span></span> |`AzureStorageEmulator.exe status` | |
| <span data-ttu-id="f8636-209">**Clear**</span><span class="sxs-lookup"><span data-stu-id="f8636-209">**Clear**</span></span> |<span data-ttu-id="f8636-210">Очищает данные во всех службах, указанных в командной строке.</span><span class="sxs-lookup"><span data-stu-id="f8636-210">Clears the data in all services specified on the command line.</span></span> |`AzureStorageEmulator.exe clear [blob] [table] [queue] [all]                                                    ` |<span data-ttu-id="f8636-211">*blob*: удаляет данные о больших двоичных объектах.</span><span class="sxs-lookup"><span data-stu-id="f8636-211">*blob*: Clears blob data.</span></span> <br/><span data-ttu-id="f8636-212">*queue*: удаляет данные об очередях.</span><span class="sxs-lookup"><span data-stu-id="f8636-212">*queue*: Clears queue data.</span></span> <br/><span data-ttu-id="f8636-213">*table*: удаляет данные о таблицах.</span><span class="sxs-lookup"><span data-stu-id="f8636-213">*table*: Clears table data.</span></span> <br/><span data-ttu-id="f8636-214">*all*: удаляет все данные во всех службах.</span><span class="sxs-lookup"><span data-stu-id="f8636-214">*all*: Clears all data in all services.</span></span> |
| <span data-ttu-id="f8636-215">**Init**</span><span class="sxs-lookup"><span data-stu-id="f8636-215">**Init**</span></span> |<span data-ttu-id="f8636-216">Выполняет одноразовую инициализацию для настройки эмулятора.</span><span class="sxs-lookup"><span data-stu-id="f8636-216">Performs one-time initialization to set up the emulator.</span></span> |<code>AzureStorageEmulator.exe init [-server serverName] [-sqlinstance instanceName] [-forcecreate&#124;-skipcreate] [-reserveports&#124;-unreserveports] [-inprocess]</code> |<span data-ttu-id="f8636-217">*-server serverName\instanceName*: указывает сервер для размещения экземпляра SQL.</span><span class="sxs-lookup"><span data-stu-id="f8636-217">*-server serverName\instanceName*: Specifies the server hosting the SQL instance.</span></span> <br/><span data-ttu-id="f8636-218">*-sqlinstance имя_экземпляра*: указывает имя экземпляра SQL, используемого на сервере по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="f8636-218">*-sqlinstance instanceName*: Specifies the name of the SQL instance to be used in the default server instance.</span></span> <br/><span data-ttu-id="f8636-219">*-forcecreate*: принудительно создает базу данных SQL, даже если она уже существует.</span><span class="sxs-lookup"><span data-stu-id="f8636-219">*-forcecreate*: Forces creation of the SQL database, even if it already exists.</span></span> <br/><span data-ttu-id="f8636-220">*-skipcreate*: пропускает создание базы данных SQL.</span><span class="sxs-lookup"><span data-stu-id="f8636-220">*-skipcreate*: Skips creation of the SQL database.</span></span> <span data-ttu-id="f8636-221">Имеет приоритет над -forcecreate.</span><span class="sxs-lookup"><span data-stu-id="f8636-221">This takes precedence over -forcecreate.</span></span><br/><span data-ttu-id="f8636-222">*-reserveports*: пытается зарезервировать порты HTTP, связанные со службами.</span><span class="sxs-lookup"><span data-stu-id="f8636-222">*-reserveports*: Attempts to reserve the HTTP ports associated with the services.</span></span><br/><span data-ttu-id="f8636-223">*-unreserveports*: пытается отменить резервирование портов HTTP, связанных со службами.</span><span class="sxs-lookup"><span data-stu-id="f8636-223">*-unreserveports*: Attempts to remove reservations for the HTTP ports associated with the services.</span></span> <span data-ttu-id="f8636-224">Имеет приоритет над -reserveports.</span><span class="sxs-lookup"><span data-stu-id="f8636-224">This takes precedence over -reserveports.</span></span><br/><span data-ttu-id="f8636-225">*-inprocess*: выполняет инициализацию в текущем процессе вместо порождения нового процесса.</span><span class="sxs-lookup"><span data-stu-id="f8636-225">*-inprocess*: Performs initialization in the current process instead of spawning a new process.</span></span> <span data-ttu-id="f8636-226">При изменении резервирований портов нужно запустить текущий процесс с повышенными привилегиями.</span><span class="sxs-lookup"><span data-stu-id="f8636-226">The current process must be launched with elevated permissions if changing port reservations.</span></span> |

## <a name="differences-between-the-storage-emulator-and-azure-storage"></a><span data-ttu-id="f8636-227">Различия между эмулятором хранения и службой хранилища Azure</span><span class="sxs-lookup"><span data-stu-id="f8636-227">Differences between the storage emulator and Azure Storage</span></span>
<span data-ttu-id="f8636-228">Эмулятор хранения представляет собой эмулированную среду, выполняемую в локальном экземпляре SQL. Поэтому между эмулятором и учетной записью хранения Azure в облаке существуют функциональные различия.</span><span class="sxs-lookup"><span data-stu-id="f8636-228">Because the storage emulator is an emulated environment running in a local SQL instance, there are differences in functionality between the emulator and an Azure storage account in the cloud:</span></span>

* <span data-ttu-id="f8636-229">Эмулятор хранения поддерживает только одну предопределенную учетную запись и известный ключ аутентификации.</span><span class="sxs-lookup"><span data-stu-id="f8636-229">The storage emulator supports only a single fixed account and a well-known authentication key.</span></span>
* <span data-ttu-id="f8636-230">Эмулятор хранения не является масштабируемой службой хранения и не поддерживает большое количество одновременных клиентов.</span><span class="sxs-lookup"><span data-stu-id="f8636-230">The storage emulator is not a scalable storage service and does not support a large number of concurrent clients.</span></span>
* <span data-ttu-id="f8636-231">Как описано в разделе [Обращение к ресурсам в эмуляторе хранения](#addressing-resources-in-the-storage-emulator), обращение к ресурсам в эмуляторе хранения и в учетной записи хранения Azure происходит по-разному.</span><span class="sxs-lookup"><span data-stu-id="f8636-231">As described in [Addressing resources in the storage emulator](#addressing-resources-in-the-storage-emulator), resources are addressed differently in the storage emulator versus an Azure storage account.</span></span> <span data-ttu-id="f8636-232">Основное отличие заключается в том, что разрешение доменных имен доступно в облаке, но не на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="f8636-232">This difference is because domain name resolution is available in the cloud but not on the local computer.</span></span>
* <span data-ttu-id="f8636-233">Начиная с версии 3.1, учетная запись эмулятора хранения поддерживает геоизбыточную репликацию с доступом только для чтения (RA-GRS).</span><span class="sxs-lookup"><span data-stu-id="f8636-233">Beginning with version 3.1, the storage emulator account supports read-access geo-redundant replication (RA-GRS).</span></span> <span data-ttu-id="f8636-234">В эмуляторе у всех учетных записей включена служба RA-GRS, и между первичной и вторичной репликами запаздывание отсутствует.</span><span class="sxs-lookup"><span data-stu-id="f8636-234">In the emulator, all accounts have RA-GRS enabled, and there is never any lag between the primary and secondary replicas.</span></span> <span data-ttu-id="f8636-235">Операции получения статистики службы BLOB-объектов, получения статистики службы очередей и получения статистики службы таблиц поддерживаются во вторичном расположении учетной записи и всегда будут возвращать значение элемента ответа `LastSyncTime` в виде текущего времени в соответствии с основной базой данных SQL.</span><span class="sxs-lookup"><span data-stu-id="f8636-235">The Get Blob Service Stats, Get Queue Service Stats, and Get Table Service Stats operations are supported on the account secondary and will always return the value of the `LastSyncTime` response element as the current time according to the underlying SQL database.</span></span>
* <span data-ttu-id="f8636-236">Службы файлов и конечные точки службы протокола SMB не поддерживаются в настоящее время в эмуляторе хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-236">The File service and SMB protocol service endpoints are not currently supported in the storage emulator.</span></span>
* <span data-ttu-id="f8636-237">Если для используемой версии эмулятора хранения в настоящее время не поддерживается используемая версия служб хранилища, то он возвращает ошибку VersionNotSupportedByEmulator (код состояния "HTTP 400 — ошибочный запрос").</span><span class="sxs-lookup"><span data-stu-id="f8636-237">If you use a version of the storage services that is not yet supported by the emulator, the storage emulator returns a VersionNotSupportedByEmulator error (HTTP status code 400 - Bad Request).</span></span>

### <a name="differences-for-blob-storage"></a><span data-ttu-id="f8636-238">Отличия для хранилища больших двоичных объектов</span><span class="sxs-lookup"><span data-stu-id="f8636-238">Differences for Blob storage</span></span>
<span data-ttu-id="f8636-239">Хранилище больших двоичных объектов в эмуляторе отличается следующим образом:</span><span class="sxs-lookup"><span data-stu-id="f8636-239">The following differences apply to Blob storage in the emulator:</span></span>

* <span data-ttu-id="f8636-240">Эмулятор хранения поддерживает только большие двоичные объекты размером до 2 ГБ.</span><span class="sxs-lookup"><span data-stu-id="f8636-240">The storage emulator only supports blob sizes up to 2 GB.</span></span>
* <span data-ttu-id="f8636-241">Добавочное копирование позволяет копировать моментальные снимки перезаписанных больших двоичных объектов, что возвращает ошибку в службе.</span><span class="sxs-lookup"><span data-stu-id="f8636-241">Incremental copy allows snapshots from overwritten blobs to be copied, which returns a failure on the service.</span></span>
* <span data-ttu-id="f8636-242">Операция Get Page Ranges Diff не работает для моментальных снимков, скопированных с помощью операции Incremental Copy Blob.</span><span class="sxs-lookup"><span data-stu-id="f8636-242">Get Page Ranges Diff does not work between snapshots copied using Incremental Copy Blob.</span></span>
* <span data-ttu-id="f8636-243">Операция Put Blob с существующим в эмуляторе хранения большим двоичным объектом с активной арендой может быть успешно выполнена, даже если в запросе не был указан идентификатор аренды.</span><span class="sxs-lookup"><span data-stu-id="f8636-243">A Put Blob operation may succeed against a blob that exists in the storage emulator with an active lease, even if the lease ID has not been specified in the request.</span></span>
* <span data-ttu-id="f8636-244">Эмулятор не поддерживает операции с добавочными большими двоичными объектами.</span><span class="sxs-lookup"><span data-stu-id="f8636-244">Append Blob operations are not supported by the emulator.</span></span> <span data-ttu-id="f8636-245">При попытке выполнить операцию с добавочным большим двоичным объектом возвращается ошибка FeatureNotSupportedByEmulator (код состояния HTTP «400 — Неверный запрос»).</span><span class="sxs-lookup"><span data-stu-id="f8636-245">Attempting an operation on an append blob returns a FeatureNotSupportedByEmulator error (HTTP status code 400 - Bad Request).</span></span>

### <a name="differences-for-table-storage"></a><span data-ttu-id="f8636-246">Отличия для хранилища таблиц</span><span class="sxs-lookup"><span data-stu-id="f8636-246">Differences for Table storage</span></span>
<span data-ttu-id="f8636-247">Хранилище таблиц в эмуляторе отличается следующим образом:</span><span class="sxs-lookup"><span data-stu-id="f8636-247">The following differences apply to Table storage in the emulator:</span></span>

* <span data-ttu-id="f8636-248">Свойства даты в службе таблиц в эмуляторе хранения поддерживают только диапазон, поддерживаемый SQL Server 2005 (даты должны быть позднее 1 января 1753 г.).</span><span class="sxs-lookup"><span data-stu-id="f8636-248">Date properties in the Table service in the storage emulator support only the range supported by SQL Server 2005 (they are required to be later than January 1, 1753).</span></span> <span data-ttu-id="f8636-249">Все даты до 1 января 1753 г. заменяются этим значением.</span><span class="sxs-lookup"><span data-stu-id="f8636-249">All dates before January 1, 1753 are changed to this value.</span></span> <span data-ttu-id="f8636-250">Точность дат ограничивается точностью SQL Server 2005, т. е. 1/300 секунды.</span><span class="sxs-lookup"><span data-stu-id="f8636-250">The precision of dates is limited to the precision of SQL Server 2005, meaning that dates are precise to 1/300th of a second.</span></span>
* <span data-ttu-id="f8636-251">Эмулятор хранения поддерживает значения ключа раздела и строки свойств ключа, каждое из которых не превышает 512 байт.</span><span class="sxs-lookup"><span data-stu-id="f8636-251">The storage emulator supports partition key and row key property values of less than 512 bytes each.</span></span> <span data-ttu-id="f8636-252">Кроме того, общий размер имени учетной записи, имени таблицы и имен свойств ключей совокупно не может превышать 900 байт.</span><span class="sxs-lookup"><span data-stu-id="f8636-252">Additionally, the total size of the account name, table name, and key property names together cannot exceed 900 bytes.</span></span>
* <span data-ttu-id="f8636-253">Общий размер строки в таблице эмулятора хранения не должен превышать 1 МБ.</span><span class="sxs-lookup"><span data-stu-id="f8636-253">The total size of a row in a table in the storage emulator is limited to less than 1 MB.</span></span>
* <span data-ttu-id="f8636-254">В эмуляторе хранения свойства типа данных `Edm.Guid` или `Edm.Binary` поддерживают только операторы сравнения `Equal (eq)` и `NotEqual (ne)` в строках фильтра запроса.</span><span class="sxs-lookup"><span data-stu-id="f8636-254">In the storage emulator, properties of data type `Edm.Guid` or `Edm.Binary` support only the `Equal (eq)` and `NotEqual (ne)` comparison operators in query filter strings.</span></span>

### <a name="differences-for-queue-storage"></a><span data-ttu-id="f8636-255">Отличия для хранилища очередей</span><span class="sxs-lookup"><span data-stu-id="f8636-255">Differences for Queue storage</span></span>
<span data-ttu-id="f8636-256">Хранилище очередей в эмуляторе не имеет отличий.</span><span class="sxs-lookup"><span data-stu-id="f8636-256">There are no differences specific to Queue storage in the emulator.</span></span>

## <a name="storage-emulator-release-notes"></a><span data-ttu-id="f8636-257">Замечания к выпуску эмулятора хранения</span><span class="sxs-lookup"><span data-stu-id="f8636-257">Storage emulator release notes</span></span>
### <a name="version-52"></a><span data-ttu-id="f8636-258">Версия 5.2</span><span class="sxs-lookup"><span data-stu-id="f8636-258">Version 5.2</span></span>
* <span data-ttu-id="f8636-259">Теперь эмулятор хранения поддерживает версию 2017-04-17 служб хранения для конечных точек служб BLOB-объектов, очередей и таблиц.</span><span class="sxs-lookup"><span data-stu-id="f8636-259">The storage emulator now supports version 2017-04-17 of the storage services on Blob, Queue, and Table service endpoints.</span></span>
* <span data-ttu-id="f8636-260">Исправлена ошибка, когда значения свойств таблиц кодировались неправильно.</span><span class="sxs-lookup"><span data-stu-id="f8636-260">Fixed a bug where table property values were not being properly encoded.</span></span>

### <a name="version-51"></a><span data-ttu-id="f8636-261">Версия 5.1</span><span class="sxs-lookup"><span data-stu-id="f8636-261">Version 5.1</span></span>
* <span data-ttu-id="f8636-262">Исправлена ошибка, когда эмулятор хранения возвращал заголовок `DataServiceVersion` в некоторых ответах, а служба не возвращала.</span><span class="sxs-lookup"><span data-stu-id="f8636-262">Fixed a bug where the storage emulator was returning the `DataServiceVersion` header in some responses where the service was not.</span></span>

### <a name="version-50"></a><span data-ttu-id="f8636-263">Версия 5.0</span><span class="sxs-lookup"><span data-stu-id="f8636-263">Version 5.0</span></span>
* <span data-ttu-id="f8636-264">Установщик эмулятора хранения больше не проверяет наличие существующих установок MSSQL и .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f8636-264">The storage emulator installer no longer checks for existing MSSQL and .NET Framework installs.</span></span>
* <span data-ttu-id="f8636-265">Установщик эмулятора хранения больше не создает базу данных в ходе установки.</span><span class="sxs-lookup"><span data-stu-id="f8636-265">The storage emulator installer no longer creates the database as part of install.</span></span> <span data-ttu-id="f8636-266">При необходимости база данных будет по-прежнему создаваться в процессе запуска.</span><span class="sxs-lookup"><span data-stu-id="f8636-266">Database will still be created if needed as part of startup.</span></span>
* <span data-ttu-id="f8636-267">Для создания базы данных больше не требуются повышенные права.</span><span class="sxs-lookup"><span data-stu-id="f8636-267">Database creation no longer requires elevation.</span></span>
* <span data-ttu-id="f8636-268">Для запуска больше не требуются резервирования портов.</span><span class="sxs-lookup"><span data-stu-id="f8636-268">Port reservations are no longer needed for startup.</span></span>
* <span data-ttu-id="f8636-269">Добавлены следующие параметры для `init`: `-reserveports` (требуются повышенные права), `-unreserveports` (требуются повышенные права), `-skipcreate`.</span><span class="sxs-lookup"><span data-stu-id="f8636-269">Adds the following options to `init`: `-reserveports` (requires elevation), `-unreserveports` (requires elevation), `-skipcreate`.</span></span>
* <span data-ttu-id="f8636-270">Параметр пользовательского интерфейс эмулятора хранения на значке в панели задач теперь запускает интерфейс командной строки.</span><span class="sxs-lookup"><span data-stu-id="f8636-270">The Storage Emulator UI option on the system tray icon now launches the command line interface.</span></span> <span data-ttu-id="f8636-271">Старый графический интерфейс пользователя больше недоступен.</span><span class="sxs-lookup"><span data-stu-id="f8636-271">The old GUI is no longer available.</span></span>
* <span data-ttu-id="f8636-272">Некоторые библиотеки DLL были удалены или переименованы.</span><span class="sxs-lookup"><span data-stu-id="f8636-272">Some DLLs have been removed or renamed.</span></span>

### <a name="version-46"></a><span data-ttu-id="f8636-273">Версия 4.6</span><span class="sxs-lookup"><span data-stu-id="f8636-273">Version 4.6</span></span>
* <span data-ttu-id="f8636-274">Теперь эмулятор хранения поддерживает версию 2016-05-31 служб хранилища для конечных точек служб BLOB-объектов, очередей и таблиц.</span><span class="sxs-lookup"><span data-stu-id="f8636-274">The storage emulator now supports version 2016-05-31 of the storage services on Blob, Queue, and Table service endpoints.</span></span>

### <a name="version-45"></a><span data-ttu-id="f8636-275">Версия 4.5</span><span class="sxs-lookup"><span data-stu-id="f8636-275">Version 4.5</span></span>
* <span data-ttu-id="f8636-276">Исправлена ошибка, которая вызывала сбой при инициализации и установке эмулятора хранения в случае переименования резервной базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8636-276">Fixed a bug that caused initialization and installation of the storage emulator to fail when the backing database was renamed.</span></span>

### <a name="version-44"></a><span data-ttu-id="f8636-277">Версия 4.4</span><span class="sxs-lookup"><span data-stu-id="f8636-277">Version 4.4</span></span>
* <span data-ttu-id="f8636-278">Теперь эмулятор хранения поддерживает версию 2015-12-11 служб хранилища для конечных точек служб больших двоичных объектов, очередей и таблиц.</span><span class="sxs-lookup"><span data-stu-id="f8636-278">The storage emulator now supports version 2015-12-11 of the storage services on Blob, Queue, and Table service endpoints.</span></span>
* <span data-ttu-id="f8636-279">Выполняемая в эмуляторе хранения сборка ненужных данных больших двоичных объектов теперь оптимизирована для работы с большим количеством BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="f8636-279">The storage emulator's garbage collection of blob data is now more efficient when dealing with large numbers of blobs.</span></span>
* <span data-ttu-id="f8636-280">Исправлена ошибка, которая приводила к небольшим различиям в процедуре проверки контейнера XML ACL (в сравнении с проверкой, выполняемой службой хранилища).</span><span class="sxs-lookup"><span data-stu-id="f8636-280">Fixed a bug that caused container ACL XML to be validated slightly differently from how the storage service does it.</span></span>
* <span data-ttu-id="f8636-281">Исправлена ошибка, которая иногда приводила к сообщениям о минимальном и максимальном значениях времени и даты для неправильного часового пояса.</span><span class="sxs-lookup"><span data-stu-id="f8636-281">Fixed a bug that sometimes caused max and min DateTime values to be reported in the incorrect time zone.</span></span>

### <a name="version-43"></a><span data-ttu-id="f8636-282">Версия 4.3</span><span class="sxs-lookup"><span data-stu-id="f8636-282">Version 4.3</span></span>
* <span data-ttu-id="f8636-283">Теперь эмулятор хранения поддерживает версии 2015-07-08 служб хранилища для конечных точек служб BLOB-объектов, очередей и таблиц.</span><span class="sxs-lookup"><span data-stu-id="f8636-283">The storage emulator now supports version 2015-07-08 of the storage services on Blob, Queue, and Table service endpoints.</span></span>

### <a name="version-42"></a><span data-ttu-id="f8636-284">Версия 4.2</span><span class="sxs-lookup"><span data-stu-id="f8636-284">Version 4.2</span></span>
* <span data-ttu-id="f8636-285">Теперь эмулятор хранения поддерживает версию 2015-04-05 служб хранилища для конечных точек служб больших двоичных объектов, очередей и таблиц.</span><span class="sxs-lookup"><span data-stu-id="f8636-285">The storage emulator now supports version 2015-04-05 of the storage services on Blob, Queue, and Table service endpoints.</span></span>

### <a name="version-41"></a><span data-ttu-id="f8636-286">Версия 4.1</span><span class="sxs-lookup"><span data-stu-id="f8636-286">Version 4.1</span></span>
* <span data-ttu-id="f8636-287">Эмулятор хранения этой версии поддерживает версию 2015-02-21 служб хранилища для конечных точек службы BLOB-объектов, очередей и таблиц, за исключением новых функций добавочных больших двоичных объектов.</span><span class="sxs-lookup"><span data-stu-id="f8636-287">The storage emulator now supports version 2015-02-21 of the storage services on Blob, Queue, and Table service endpoints, except for the new Append Blob features.</span></span>
* <span data-ttu-id="f8636-288">Если вы используете службы хранилища версии, которая пока не поддерживается используемой версией эмулятора, то эмулятор хранения возвращает информативное сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="f8636-288">If you use a version of the storage services that is not yet supported by the emulator, the emulator returns a meaningful error message.</span></span> <span data-ttu-id="f8636-289">Мы советуем использовать эмулятор последней версии.</span><span class="sxs-lookup"><span data-stu-id="f8636-289">We recommend using the latest version of the emulator.</span></span> <span data-ttu-id="f8636-290">При возникновении ошибки VersionNotSupportedByEmulator (код состояния HTTP «400 — Неверный запрос») скачайте последнюю версию эмулятора хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-290">If you encounter a VersionNotSupportedByEmulator error (HTTP status code 400 - Bad Request), please download the latest version of the storage emulator.</span></span>
* <span data-ttu-id="f8636-291">Исправлена ошибка состояния гонки, которая приводила к неправильным данным сущности таблицы при одновременных операциях слияния.</span><span class="sxs-lookup"><span data-stu-id="f8636-291">Fixed a bug wherein a race condition caused table entity data to be incorrect during concurrent merge operations.</span></span>

### <a name="version-40"></a><span data-ttu-id="f8636-292">Версия 4.0</span><span class="sxs-lookup"><span data-stu-id="f8636-292">Version 4.0</span></span>
* <span data-ttu-id="f8636-293">Исполняемый файл эмулятора хранения был переименован на *AzureStorageEmulator.exe*.</span><span class="sxs-lookup"><span data-stu-id="f8636-293">The storage emulator executable has been renamed to *AzureStorageEmulator.exe*.</span></span>

### <a name="version-32"></a><span data-ttu-id="f8636-294">Версия 3.2</span><span class="sxs-lookup"><span data-stu-id="f8636-294">Version 3.2</span></span>
* <span data-ttu-id="f8636-295">Теперь эмулятор хранения поддерживает версии 2014-02-14 служб хранилища для конечных точек служб больших двоичных объектов, очередей и таблиц.</span><span class="sxs-lookup"><span data-stu-id="f8636-295">The storage emulator now supports version 2014-02-14 of the storage services on Blob, Queue, and Table service endpoints.</span></span> <span data-ttu-id="f8636-296">Конечные точки службы файлов в настоящее время в эмуляторе хранения не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="f8636-296">File service endpoints are not currently supported in the storage emulator.</span></span> <span data-ttu-id="f8636-297">Дополнительные сведения о версии 2014-02-14 см. в разделе [Управление версиями для служб хранилища Azure](/rest/api/storageservices/Versioning-for-the-Azure-Storage-Services).</span><span class="sxs-lookup"><span data-stu-id="f8636-297">See [Versioning for the Azure Storage Services](/rest/api/storageservices/Versioning-for-the-Azure-Storage-Services) for details about version 2014-02-14.</span></span>

### <a name="version-31"></a><span data-ttu-id="f8636-298">Версия 3.1</span><span class="sxs-lookup"><span data-stu-id="f8636-298">Version 3.1</span></span>
* <span data-ttu-id="f8636-299">Теперь геоизбыточное хранилище с доступом для чтения (RA-GRS) поддерживается и в эмуляторе хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-299">Read-access geo-redundant storage (RA-GRS) is now supported in the storage emulator.</span></span> <span data-ttu-id="f8636-300">Интерфейсы API получения статистики службы BLOB-объектов, получения статистики службы очередей и получения статистики службы таблиц поддерживаются во вторичном расположении учетной записи и всегда будут возвращать значение элемента ответа LastSyncTime в виде текущего времени в соответствии с основной базой данных SQL.</span><span class="sxs-lookup"><span data-stu-id="f8636-300">The Get Blob Service Stats, Get Queue Service Stats, and Get Table Service Stats APIs are supported for the account secondary and will always return the value of the LastSyncTime response element as the current time according to the underlying SQL database.</span></span> <span data-ttu-id="f8636-301">Для программного доступа к вторичному расположению с помощью эмулятора хранения используйте клиентскую библиотеку хранилища для .NET 3.2 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="f8636-301">For programmatic access to the secondary with the storage emulator, use the Storage Client Library for .NET version 3.2 or later.</span></span> <span data-ttu-id="f8636-302">Подробнее см. в справочнике по клиентской библиотеке хранилища Microsoft Azure для .NET.</span><span class="sxs-lookup"><span data-stu-id="f8636-302">See the Microsoft Azure Storage Client Library for .NET Reference for details.</span></span>

### <a name="version-30"></a><span data-ttu-id="f8636-303">Версия 3.0</span><span class="sxs-lookup"><span data-stu-id="f8636-303">Version 3.0</span></span>
* <span data-ttu-id="f8636-304">Эмулятор хранения Azure больше не поставляется в одном пакете с эмулятором вычислений.</span><span class="sxs-lookup"><span data-stu-id="f8636-304">The Azure storage emulator is no longer shipped in the same package as the compute emulator.</span></span>
* <span data-ttu-id="f8636-305">Графический пользовательский интерфейс эмулятора хранения считается устаревшим. Вместо него используется интерфейс командной строки с поддержкой сценариев.</span><span class="sxs-lookup"><span data-stu-id="f8636-305">The storage emulator graphical user interface is deprecated in favor of a scriptable command-line interface.</span></span> <span data-ttu-id="f8636-306">Дополнительную информацию об интерфейсе командной строки см. в справочнике по программе командной строки эмулятора хранения.</span><span class="sxs-lookup"><span data-stu-id="f8636-306">For details on the command-line interface, see Storage Emulator Command-Line Tool Reference.</span></span> <span data-ttu-id="f8636-307">Графический интерфейс будет доступен в версии 3.0, но только после установки эмулятора вычислений щелчком правой кнопкой мыши на значке области уведомлений и при последующем выборе значения «Показать пользовательский интерфейс эмулятора хранения».</span><span class="sxs-lookup"><span data-stu-id="f8636-307">The graphical interface will continue to be present in version 3.0, but it can only be accessed when the Compute Emulator is installed by right-clicking on the system tray icon and selecting Show Storage Emulator UI.</span></span>
* <span data-ttu-id="f8636-308">Версия 2013-08-15 служб хранилища Azure теперь поддерживается полностью.</span><span class="sxs-lookup"><span data-stu-id="f8636-308">Version 2013-08-15 of the Azure storage services is now fully supported.</span></span> <span data-ttu-id="f8636-309">(Ранее эта версия поддерживалась только в предварительной версии 2.2.1 эмулятора хранения)</span><span class="sxs-lookup"><span data-stu-id="f8636-309">(Previously this version was only supported by Storage Emulator version 2.2.1 Preview.)</span></span>

## <a name="next-steps"></a><span data-ttu-id="f8636-310">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="f8636-310">Next steps</span></span>

* <span data-ttu-id="f8636-311">Оцените кроссплатформенный эмулятор хранения с открытым кодом [Azurite](https://github.com/arafato/azurite) от сообщества.</span><span class="sxs-lookup"><span data-stu-id="f8636-311">Evaluate the cross-platform, community-maintained open source storage emulator [Azurite](https://github.com/arafato/azurite).</span></span> 
* <span data-ttu-id="f8636-312">Статья [Примеры для службы хранилища Azure с использованием .NET](../storage-samples-dotnet.md) содержит ссылки на несколько примеров кода, которые можно использовать при разработке приложения.</span><span class="sxs-lookup"><span data-stu-id="f8636-312">[Azure Storage samples using .NET](../storage-samples-dotnet.md) contains links to several code samples you can use when developing your application.</span></span>
* <span data-ttu-id="f8636-313">Для работы с ресурсами в облачной учетной записи и эмуляторе хранения можно использовать [обозреватель хранилищ Microsoft Azure](http://storageexplorer.com).</span><span class="sxs-lookup"><span data-stu-id="f8636-313">You can use the [Microsoft Azure Storage Explorer](http://storageexplorer.com) to work with resources in your cloud Storage account, and in the storage emulator.</span></span>
