---
title: "Целевые показатели масштабируемости и производительности службы хранилища Azure | Документация Майкрософт"
description: "Узнайте подробнее о целевых показателях масштабируемости и производительности службы хранилища Azure, включая показатели объема, частоты запросов, входящей и исходящей пропускной способности, как для стандартных учетных записей хранения, так и для учетных записей хранения класса Premium. Понимание целевых показателей производительности для разделов каждой из служб хранилища Azure."
services: storage
documentationcenter: na
author: tamram
manager: timlt
editor: tysonn
ms.assetid: be721bd3-159f-40a1-88c1-96418537fe75
ms.service: storage
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage
ms.date: 07/12/2017
ms.author: tamram
ms.openlocfilehash: 1ed933493da1842201bb9293f514ea4d0e7a75ce
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="azure-storage-scalability-and-performance-targets"></a>Целевые показатели масштабируемости и производительности службы хранилища Azure
## <a name="overview"></a>Обзор
Данная статья посвящена вопросам масштабируемости и производительности службы хранилища Microsoft Azure. Сведения о других ограничениях Azure приведены в статье [Подписка Azure, границы, квоты и ограничения службы](../../azure-subscription-service-limits.md).

> [!NOTE]
> Все учетные записи хранения функционируют в новой плоской сетевой топологии и поддерживают приведенные ниже целевые показатели масштабируемости и производительности независимо от того, когда они были созданы. Дополнительные сведения о неструктурированной сетевой архитектуре службы хранилища Azure и масштабируемости см. в разделе [Хранилище Microsoft Azure: доступная служба облачного хранения с развитой системой согласованности](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx).
> 
> [!IMPORTANT]
> Приведенные целевые показатели производительности и масштабируемости предельно высоки, но достижимы. В любом случае частота запросов, с которой успешно справляется учетная запись хранения, и ее пропускная способность зависят от размера хранимых объектов, используемых схем доступа и типа рабочей нагрузки приложения. Обязательно протестируйте службу для определения соответствия ее производительности необходимым требованиям. По возможности избегайте внезапных пиковых нагрузок по трафику. Убедитесь в том, что трафик соответствующим образом распределяется по разделам.
> 
> Когда при работе приложения достигается предельная рабочая нагрузка на раздел, хранилище Azure начинает выдавать код ошибки 503 (сервер занят) или код ошибки 500 (время ожидания операции истекло). В этом случае при повторных попытках приложение должно использовать политику экспоненциального откладывания. Экспоненциальное откладывание позволяет уменьшить нагрузку на раздел и облегчить обработку им пикового трафика. 
> 
> 

Если предельно достижимых показателей масштабируемости для одной учетной записи хранения недостаточно для работы приложения, то при разработке такого приложения его можно настроить на использование нескольких таких учетных записей и распределить объекты данных между ними. Дополнительные сведения о ценах см. на странице [Цены на хранилища Azure](https://azure.microsoft.com/pricing/details/storage/).

## <a name="scalability-targets-for-blobs-queues-tables-and-files"></a>Целевые показатели масштабируемости для больших двоичных объектов, очередей, таблиц и файлов
[!INCLUDE [azure-storage-limits](../../../includes/azure-storage-limits.md)]

<!-- conceptual info about disk limits -- applies to unmanaged and managed -->
## <a name="scalability-targets-for-virtual-machine-disks"></a>Целевые показатели масштабируемости для дисков виртуальной машины
[!INCLUDE [azure-storage-limits-vm-disks](../../../includes/azure-storage-limits-vm-disks.md)]

Дополнительные сведения см. в статьях [Размеры виртуальных машин Windows](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) или [Размеры виртуальных машин Linux](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).

## <a name="managed-virtual-machine-disks"></a>Управляемые диски виртуальной машины

[!INCLUDE [azure-storage-limits-vm-disks-managed](../../../includes/azure-storage-limits-vm-disks-managed.md)]

## <a name="unmanaged-virtual-machine-disks"></a>Неуправляемые диски виртуальной машины
[!INCLUDE [azure-storage-limits-vm-disks-standard](../../../includes/azure-storage-limits-vm-disks-standard.md)]

[!INCLUDE [azure-storage-limits-vm-disks-premium](../../../includes/azure-storage-limits-vm-disks-premium.md)]

## <a name="scalability-targets-for-azure-resource-manager"></a>Целевые показатели масштабируемости для диспетчера ресурсов Azure
[!INCLUDE [azure-storage-limits-azure-resource-manager](../../../includes/azure-storage-limits-azure-resource-manager.md)]

## <a name="partitions-in-azure-storage"></a>Разделы в хранилище Azure
Каждый объект, содержащий данные, которые хранятся в хранилище Azure (большие двоичные объекты, сообщения, сущности и файлы), относится к определенному разделу и идентифицируется по ключу раздела. То, как хранилище Azure распределяет большие двоичные объекты, сообщения, сущности и файлы по серверам для удовлетворения потребности этих объектов в трафике, обусловлено параметрами раздела. Ключ секции уникален и используется для обнаружения большого двоичного объекта, сообщения или сущности.

В таблице, приведенной выше в разделе [Целевые показатели масштабируемости для стандартных учетных записей хранения](#standard-storage-accounts) , перечислены целевые показатели производительности одного раздела для каждой из служб.

Разделы оказывают влияние на балансировку нагрузки и масштабируемость для каждой из служб хранилища следующими способами:

* **Большие двоичные объекты**: ключ секции для большого двоичного объекта — это имя учетной записи плюс имя контейнера плюс имя большого двоичного объекта. Это означает, что у каждого большого двоичного объекта может иметь собственная секция, если это требуется для нагрузки большого двоичного объекта. Большие двоичные объекты могут быть распределены по нескольким серверам для развертывания доступа к ним, но один большой двоичный объект может обслуживаться только одним сервером. Хотя большие двоичные объекты могут быть логически сгруппированы в контейнеры, это не отражается на их распределении по разделам.
* **Файлы**: ключ раздела для файла состоит из имени учетной записи и имени файлового ресурса. Это означает, что все файлы в общей папке также находятся в одном разделе.
* **Сообщения**: ключ секции для сообщения — это имя учетной записи плюс имя очереди, поэтому все сообщения в очереди группируются в одну секцию и обслуживаются одним сервером. В то же время для балансировки нагрузки множества возможных очередей учетной записи хранения разные очереди могут обрабатываться разными серверами.
* **Сущности**: ключ секции для сущности — это имя учетной записи плюс имя таблицы плюс ключ секции, где ключ секции — значение необходимого определяемого пользователем свойства **PartitionKey** для этой сущности. Все сущности с одинаковым значением ключа секции группируются в одной секции и обслуживаются одним сервером секций. Это важно понимать при разработке приложения. Приложение должно поддерживать баланс между преимуществом в масштабируемости при распределении сущностей между несколькими разделами и пользой от лучшего доступа к данным при группировании сущностей в одном разделе.  

Ключевым преимуществом группирования набора сущностей таблицы в один раздел является возможность выполнения атомарных пакетных операций с сущностями в одном разделе, находящемся на одном сервере. Таким образом, если вы хотите выполнить пакетные операции с группой сущностей, рекомендуется сгруппировать их с одинаковым значением ключа секции. 

С другой стороны, для балансировки нагрузки находящиеся в той же таблице, но имеющие разные ключи секции сущности могут быть распределены по разным серверам, что позволит улучшить масштабируемость.

Подробные рекомендации по проектированию стратегии секционирования для таблиц можно найти [здесь](https://msdn.microsoft.com/library/azure/hh508997.aspx).

## <a name="see-also"></a>См. также
* [Сведения о ценах на хранилище](https://azure.microsoft.com/pricing/details/storage/)
* [Лимиты, квоты и ограничения подписки и обслуживания Azure](../../azure-subscription-service-limits.md)
* [Хранилище Premium: высокопроизводительное хранилище для рабочих нагрузок виртуальной машины Azure](../storage-premium-storage.md)
* [Репликация хранилища Azure](../storage-redundancy.md)
* [Производительность хранилища Microsoft Azure и контрольный список масштабируемости](../storage-performance-checklist.md)
* [Хранилище Azure: доступная служба облачного хранения со строгой согласованностью](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/11/20/windows-azure-storage-a-highly-available-cloud-storage-service-with-strong-consistency.aspx)

