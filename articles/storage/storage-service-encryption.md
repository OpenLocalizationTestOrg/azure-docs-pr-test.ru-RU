---
title: "Шифрование службы хранилища для статических данных aaaAzure | Документы Microsoft"
description: "Используйте функцию tooencrypt hello шифрование службы хранилища Azure хранилище BLOB-объектов Azure на стороне службы hello при сохранении данных hello и расшифровать его при извлечении данных hello."
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: edabe3ee-688b-41e0-b34f-613ac9c3fdfd
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/09/2017
ms.author: robinsh
ms.openlocfilehash: 304f1c21200f86f2084ce98788b2fc7ca893d1f1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-storage-service-encryption-for-data-at-rest"></a>Шифрование службы хранилища Azure для неактивных данных (предварительная версия)
Azure хранилища службы шифрования (SSE) для статических данных помогает защитить и защиты вашего toomeet данных организации безопасности и соответствия обязательства. С помощью этой функции хранилища Azure автоматически шифрует вашей toostorage toopersisting предыдущих данных и расшифровывает предыдущих tooretrieval. Hello шифрования, расшифровки и управления ключами, полностью прозрачными toousers.

Hello следующих разделах содержатся подробные инструкции о том, как toouse hello шифрование службы хранилища функций, а также hello поддерживает сценарии и взаимодействия с пользователем.

## <a name="overview"></a>Обзор
Хранилище Azure предоставляет широкий набор возможностей безопасности, которые вместе позволяют разработчикам toobuild безопасных приложений. Защитить данные в процессе передачи между приложением и Azure можно с помощью [шифрования на стороне клиента](storage-client-side-encryption.md), HTTPS или SMB 3.0. Шифрование службы хранилища обеспечивает шифрование при хранении, а также полностью прозрачное шифрование, расшифровку и управление ключами. Все данные шифруются с помощью 256-разрядный [шифрование AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard), один блок сильные hello шифры доступны.

SSE работает путем шифрования данных hello записывается tooAzure хранилища, и может использоваться для хранилища больших двоичных объектов и хранением файлов. Он работает под hello следующее:

* стандартное хранилище: учетные записи хранения общего назначения для хранилища BLOB-объектов и хранилища файлов, а также учетные записи хранения больших двоичных объектов;
* Хранилище уровня "Премиум" 
* все уровни избыточности (LRS, ZRS, GRS и RA-GRS);
* учетные записи хранения Azure Resource Manager (но не классические учетные записи хранения); 
* все регионы.

toolearn более, см. вопросы и ответы toohello.

tooenable или отключить шифрование службы хранилища для учетной записи хранения, войдите на hello [портал Azure](https://portal.azure.com) и выберите учетную запись хранения. В колонке параметров hello искать hello раздела службы BLOB-объектов, как показано на этом снимке экрана и щелкните шифрования.

![Снимок экрана портала с параметром шифрования](./media/storage-service-encryption/image1.png)
<br/>*Рис. 1. Включение SSE для службы BLOB-объектов (шаг 1)*

![Снимок экрана портала с параметром шифрования](./media/storage-service-encryption/image3.png)
<br/>*Рис. 2. Включение SSE для службы файлов (шаг 1)*

После щелчка шифрования приветствия, можно включить или отключить шифрование службы хранилища.

![Снимок экрана портала со свойствами шифрования](./media/storage-service-encryption/image2.png)
<br/>*Рис. 3. Включение SSE для службы BLOB-объектов и службы файлов (шаг 2)*

## <a name="encryption-scenarios"></a>Сценарии шифрования
Шифрование службы хранилища можно включить на уровне учетной записи хранения. После включения клиенты будут выбрать какие tooencrypt служб. Она поддерживает следующие сценарии клиента hello:

* шифрование хранилища BLOB-объектов и хранилища файлов в учетных записях Resource Manager;
* Шифрование больших двоичных объектов и службы файлов в учетных записях хранения классический один раз миграции учетных записей хранения tooResource диспетчера.

SSE имеет hello следующие ограничения:

* Шифрование классических учетных записей хранения не поддерживается.
* Существующие данные - SSE только шифрует данные, созданный после включения шифрования hello. Если пример создания новой учетной записи хранения диспетчера ресурсов, но не включить шифрование, а затем отправить BLOB-объектов или учетной записи хранения архивных toothat виртуальных жестких дисков и затем включите SSE этих больших двоичных объектов будет не шифруются, если их переписать или копирования.
* Поддержка Marketplace — включить шифрование виртуальных машин, созданные на основе hello Marketplace с помощью hello [портал Azure](https://portal.azure.com), PowerShell и Azure CLI. базовый образ VHD Hello останется незашифрованным; Однако запись выполнена после зацикливается hello виртуальной Машины будут зашифрованы.
* Таблицы и файлы не шифруются.

## <a name="getting-started"></a>Приступая к работе
### <a name="step-1-create-a-new-storage-accountstorage-create-storage-accountmd"></a>Этап 1. [Создание учетной записи хранения](storage-create-storage-account.md)
### <a name="step-2-enable-encryption"></a>Этап 2. Включение шифрования
Можно включить шифрование с использованием hello [портал Azure](https://portal.azure.com).

> [!NOTE]
> Если требуется tooprogrammatically включить или отключить hello шифрование службы хранилища в учетной записи хранения, можно использовать hello [API REST поставщика ресурсов хранилища Azure](https://msdn.microsoft.com/library/azure/mt163683.aspx), hello [клиентской библиотеки поставщика ресурсов хранилища для .NET](https://msdn.microsoft.com/library/azure/mt131037.aspx), [Azure PowerShell](/powershell/azureps-cmdlets-docs), или hello [Azure CLI](storage-azure-cli.md).
> 
> 

### <a name="step-3-copy-data-toostorage-account"></a>Шаг 3: Скопируйте учетная запись toostorage данных
При включении SSE hello службы BLOB-объектов, будут зашифрованы все большие двоичные объекты, записанных toothat учетной записи хранилища. Большие двоичные объекты, которые уже находятся в этой учетной записи не будут зашифрованы, если их не перезаписать. Можно скопировать hello данных из одного места хранения tooone учетной записи с SSE шифрование, или даже включить SSE и скопируйте hello большие двоичные объекты из одного контейнера tooanother toosure, предыдущие данные шифруются. Можно использовать любой из hello следующие средства tooaccomplish это. Это является hello такое же поведение для хранения файлов также.

#### <a name="using-azcopy"></a>Использование AzCopy
AzCopy — это программа командной строки Windows, предназначенных для копирования данных tooand из хранилища больших двоичных объектов Microsoft Azure, таблицы и файла с помощью простой команды с оптимальной производительностью. Можно использовать этот toocopy больших двоичных объектов или файлов из одного tooanother учетную запись хранилища имеет SSE включена. 

toolearn более, перейдите на страницу [перенесите данные с помощью служебной программы командной строки AzCopy hello](storage-use-azcopy.md).

#### <a name="using-smb"></a>Использование SMB
Хранилище файлов Azure предлагает общих файловых ресурсов в облаке hello, с помощью стандартного протокола SMB hello. Общую папку можно подключить через клиент на локальном компьютере или в Azure. После подключения, средства, такие как Robocopy могут использоваться файлы используется toocopy через tooAzure, файловыми ресурсами общего доступа. Дополнительные сведения см. в разделе [как toomount Azure общей папки в Windows](storage-file-how-to-use-files-windows.md) и [как поделиться toomount файлов Azure для Linux](storage-how-to-use-files-linux.md).


#### <a name="using-hello-storage-client-libraries"></a>С помощью клиентских библиотек хранилища hello
Большой двоичный объект или файл tooand данных можно скопировать из хранилища BLOB-объектов или между учетными записями хранения с помощью наших широкий набор клиентских библиотек хранилища, включая .NET, C++, Java, Android, Node.js, PHP, Python и Ruby.

toolearn, посетите наш [приступить к работе с хранилищем больших двоичных объектов Azure с помощью .NET](storage-dotnet-how-to-use-blobs.md).

#### <a name="using-a-storage-explorer"></a>Использование обозревателя хранилищ
Можно использовать обозреватель хранилища toocreate учетных записей хранилища, передача и загрузка данных, просмотр содержимого больших двоичных объектов и перемещаться по каталогам. Можно использовать один из этих учетных записей хранилища tooupload большие двоичные объекты tooyour с включенным шифрованием. С некоторыми обозреватели хранилища также можно скопировать данные из существующего большого двоичного объекта хранилища tooa другой контейнер в учетной записи хранения hello или новой учетной записи хранения с SSE включена.

toolearn более, перейдите на страницу [обозреватели хранилища Azure](storage-explorers.md).

### <a name="step-4-query-hello-status-of-hello-encrypted-data"></a>Шаг 4: Запрос состояния hello hello зашифрованных данных
Обновленная версия библиотеки клиента хранения hello развертывания, позволяющий tooquery состояние hello объекта toodetermine если он зашифрован или нет. Сейчас эта функция поддерживается только для хранилища BLOB-объектов. Для хранения файлов поддерживается на стратегия hello. 

В hello это время можно вызвать [получение свойств учетной записи](https://msdn.microsoft.com/library/azure/mt163553.aspx) tooverify, hello учетной записи хранения имеет включено шифрование или представление hello свойства учетной записи хранения в hello портал Azure.

## <a name="encryption-and-decryption-workflow"></a>Рабочий процесс шифрования и расшифровки
Вот краткое описание рабочего процесса шифрования или расшифровки hello.

* Hello клиента включает шифрование на hello учетной записи хранилища.
* При hello клиент записывает новый tooBlob данных (PUT Blob, ПОМЕСТИТЬ блок, вставки страницы, ПОМЕСТИТЕ файл и т.д.) или хранения файлов; Каждая запись шифруется с помощью 256-разрядный [шифрование AES](https://en.wikipedia.org/wiki/Advanced_Encryption_Standard), один блок сильные hello шифры доступны.
* Если hello клиента должны tooaccess (получение большого двоичного объекта, т. д.), данные будут автоматически расшифровывается перед возвратом toohello пользователя.
* Если шифрование отключено, новые записи больше не шифруются и существующие зашифрованные данные остается зашифрованным, пока не будет переписан пользователем hello. Хотя шифрование включено, записывает tooBlob или хранения файлов, будут зашифрованы. состояние Hello данных изменяется с пользователем hello, переключение между Включение и отключение шифрования для учетной записи хранения hello.
* Все ключи шифрования хранятся в зашифрованном виде и управляются корпорацией Майкрософт.

## <a name="frequently-asked-questions-about-storage-service-encryption-for-data-at-rest"></a>Часто задаваемые вопросы о шифровании службы хранилища для неактивных данных
**Вопрос. У меня есть классическая учетная запись хранения. Можно включить в ней SSE?**

Ответ. Нет, SSE поддерживается только для учетных записей хранения Resource Manager.

**Вопрос. Каким образом можно зашифровать данные в классической учетной записи хранения?**

Ответ. можно создать новую учетную запись хранения диспетчера ресурсов и копирования данных с помощью [AzCopy](storage-use-azcopy.md) из существующей учетной записи хранилища классический tooyour вновь созданные диспетчера ресурсов учетной записи хранилища. 

При переносе вашей tooa учетной записи хранилища классический учетной записи хранилища диспетчера ресурсов, эта операция происходит мгновенно, меняет тип hello вашей учетной записи, но не влияет на существующие данные. Все новые записанные данные будут шифроваться только после включения шифрования. Дополнительные сведения см. в разделе [поддерживается миграция из IaaS ресурсы платформы из tooResource классический диспетчер](https://azure.microsoft.com/blog/iaas-migration-classic-resource-manager/). Обратите внимание, что эта функция поддерживается только для служб BLOB-объектов и служб файлов.

**Вопрос. У меня есть учетная запись хранения Resource Manager. Можно включить в ней SSE?**

Ответ. Да, но шифрование будет применяться только к тем данным, которые будут записываться после включения SSE. Данные, сохраненные до этого, шифроваться не будут. Это еще не поддерживается для hello Просмотр хранилища файлов.

**Вопрос. я хочу tooencrypt hello текущие данные в существующей учетной записи диспетчера ресурсов хранилища?**

Ответ. Вы можете включить SSE в учетной записи Resource Manager в любое время. Однако данные, которые существовали до этого, не будут зашифрованы. tooencrypt существующие данные, можно скопировать их tooanother имя или другой контейнер и затем удалить версии hello в незашифрованном виде.

**Вопрос. Я использую хранилище класса "Премиум"; доступна ли мне функция SSE?**

Ответ. Да, функция SSE поддерживается для хранилища класса как "Стандартный", так и "Премиум".  Хранилище Premium не поддерживается для hello службы файлов.

**Вопрос. Если я создаю учетную запись хранения, включив SSE, а затем создаю с ее помощью новую виртуальную машину, означает ли это, что виртуальная машина зашифрована?**

Ответ. Да. Все диски, созданные, использующих hello новой учетной записи хранения, будут зашифрованы, при условии, что они создаются после включения SSE. Если виртуальная машина была создана с помощью Azure рынок, базовый образ VHD hello hello останется незашифрованным; Однако запись выполнена после зацикливается hello виртуальной Машины будут зашифрованы.

**Вопрос. Можно ли создавать учетные записи хранения с включенной функцией SSE с помощью интерфейса командной строки Azure и Azure PowerShell?**

Ответ. Да.

**Вопрос. Насколько дороже обходится служба хранилища Azure с включенным SSE?**

Ответ. Дополнительные затраты не требуются.

**Вопрос, управляющий hello ключи шифрования?**

Ответ ключи hello осуществляется корпорацией Майкрософт.

**Вопрос. Можно ли использовать собственные ключи шифрования?**

Ответ. мы работаем над предоставление возможностей для клиентов toobring собственные ключи шифрования.

**Вопрос. можно ли отзывать ключи шифрования toohello доступа?**

Ответ не в данный момент; ключи Hello полностью управляются корпорацией Майкрософт.

**Вопрос. Включается ли SSE по умолчанию при создании учетной записи хранения?**

Ответ SSE не включена по умолчанию. можно использовать hello Azure портала tooenable его. Можно также программно включить этот компонент с помощью API-интерфейса REST поставщика ресурсов хранилища hello.

**Вопрос. Чем это отличается от шифрования дисков Azure?**

Ответ эту функцию можно использовать tooencrypt данных в хранилище больших двоичных объектов Azure. Hello шифрование диска Azure — используется tooencrypt ОС и дисков данных в виртуальных машинах IaaS. Дополнительные сведения см. в [руководстве по безопасности службы хранилища](storage-security-guide.md).

**Вопрос. что если включать SSE, а затем перейдите и включить шифрование диска Azure на дисках hello?**

Ответ. Это поддерживаемый режим работы. Данные будут шифроваться с помощью обоих методов.

**Вопрос моей учетной записи хранилища настроена репликация geo Дополнительно toobe. Если включить SSE, будет зашифрована и избыточная копия?**

Ответ Да, шифруются все копии hello учетной записи хранилища, и поддерживаются все параметры избыточности — локально избыточное хранилище (LRS), хранения резервированием зоны (ZRS), Гео-избыточное хранилище (GRS) и хранилище географически избыточная доступ для чтения (RA-GRS) —.

**Вопрос. Не удается включить шифрование для учетной записи хранения.**

Ответ. Это учетная запись Resource Manager? Классические учетные записи хранения не поддерживаются. 

**Вопрос. Услуга SSE доступна только в некоторых регионах?**

Ответ hello SSE доступна во всех регионах для хранилища больших двоичных объектов. Проверьте правильность hello раздела доступности для хранения файлов. 

**Вопрос. как связаться кого-либо если я все проблемы, так и tooprovide отзыв?**

Ответ обратитесь в службу [ ssediscussions@microsoft.com ](mailto:ssediscussions@microsoft.com) для проблем, связанных tooStorage шифрования службы.

## <a name="next-steps"></a>Дальнейшие действия
Хранилище Azure предоставляет широкий набор возможностей безопасности, которые вместе позволяют разработчикам toobuild безопасных приложений. Для получения дополнительных сведений посетите hello [руководство по безопасности хранилища](storage-security-guide.md).

