---
title: "Подключение общей папки Azure через протокол SMB с помощью macOS | Документация Майкрософт"
description: "Узнайте, как подключить общую папку Azure через протокол SMB с помощью macOS."
services: storage
documentationcenter: 
author: RenaShahMSFT
manager: aungoo
editor: tysonn
ms.assetid: 
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 09/19/2017
ms.author: renash
ms.openlocfilehash: 6e71a13f99160fdd310be1e9a59717c9fecbf35d
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="mount-azure-file-share-over-smb-with-macos"></a>Подключение общей папки Azure через протокол SMB с помощью macOS
[Файлы Azure](storage-files-introduction.md) — это служба Майкрософт, которая позволяет создавать и использовать сетевые файловые ресурсы в Azure, применяя отраслевой стандарт. Файловые ресурсы Azure можно подключить в macOS Sierra (10.12) и El Capitan (10.11). В этой статье описываются два разных способа подключения общей папки Azure в macOS: с помощью пользовательского интерфейса поиска и терминала.

> [!Note]  
> Перед подключением общей папки Azure через протокол SMB, мы рекомендуем отключить подпись SMB-пакета. Если этого не сделать, это может вызвать снижение производительности при получении доступа к общей папке Azure из macOS. Ваше подключение SMB будет зашифровано, поэтому на безопасность подключения это не повлияет. Выполнив следующие команды из терминала, вы отключите подпись SMB-пакетов, как описано на странице об [отключении подписи пакета для подключений протоколов SMB 2 и SMB 3](https://support.apple.com/HT205926):  
>    ```
>    sudo -s
>    echo "[default]" >> /etc/nsmb.conf
>    echo "signing_required=no" >> /etc/nsmb.conf
>    exit
>    ```

## <a name="prerequisites-for-mounting-an-azure-file-share-on-macos"></a>Предварительные требования для подключения общей папки Azure в macOS
* **Имя учетной записи хранения**: чтобы подключить общую папку Azure, вам потребуется имя учетной записи хранения.

* **Ключ учетной записи хранения**: чтобы подключить общую папку Azure, вам потребуется первичный (или вторичный) ключ учетной записи хранения. В настоящее время ключи SAS для подключения не поддерживаются.

* **Откройте порт 445**: взаимодействие SMB выполняется через TCP-порт 445. Проверьте, чтобы брандмауэр не блокировал TCP-порт 445 с клиентского компьютера (Mac).

## <a name="mount-an-azure-file-share-via-finder"></a>Подключение общей папки Azure через систему поиска
1. **Откройте систему поиска**: она открыта в macOS по умолчанию, но вы можете открыть ее для текущего выбранного приложения. Щелкните значок распознавания лиц macOS на панели закрепления:  
    ![Значок распознавания лиц macOS](./media/storage-how-to-use-files-mac/mount-via-finder-1.png)

2. **Выберите "Подключение к серверу" в меню "Перейти"**: использование UNC-пути, описанного в [предварительных требованиях](#preq), преобразует первую двойную обратную косую черту (`\\`) в `smb://`, а также все другие обратные косые черты (`\`) в косые черты с направлением вправо (`/`). Ссылка должна выглядеть следующим образом: ![диалоговое окно "Подключение к серверу"](./media/storage-how-to-use-files-mac/mount-via-finder-2.png)

3. **Используйте имя общей папки и ключ учетной записи хранения при появлении запроса имени пользователя и пароля**: когда вы щелкнете "Подключиться" в диалоговом окне "Подключение к серверу", вы получите запрос имени пользователя и пароля (значения будут заполнены автоматически именем пользователя macOS). Вы также можете разместить ключ учетной записи хранения и имя общей папки в цепочке ключей macOS.

4. **Выберите общую папку Azure**: после замены имени общей папки, а также ключа учетной записи хранения именем пользователя и паролем, общая папка будет подключена. Вы можете использовать ее обычным образом, как вы обычно использовали локальные файловые ресурсы, а также можете перетаскивать в нее файлы и удалять их:

    ![Снимок подключенной общей папки Azure](./media/storage-how-to-use-files-mac/mount-via-finder-3.png)

## <a name="mount-an-azure-file-share-via-terminal"></a>Подключение общей папки Azure через терминал
1. Замените `<storage-account-name>` именем своей учетной записи хранения. При появлении запроса укажите ключ учетной записи хранения в качестве пароля. 

    ```
    mount_smbfs //<storage-account-name>@<storage-account-name>.file.core.windows.net/<share-name> <desired-mount-point>
    ```

2. **Выберите общую папку Azure**: общая папка Azure будет подключена в точке подключения, указанной предыдущей командой.  

    ![Моментальный снимок подключенной общей папки Azure](./media/storage-how-to-use-files-mac/mount-via-terminal-1.png)

## <a name="next-steps"></a>Дальнейшие действия
Дополнительную информацию о службе файлов Azure см. по следующим ссылкам.

* [Использование функции общего доступа к файлам на компьютере Mac](https://support.apple.com/HT204445)
* [Часто задаваемые вопросы](../storage-files-faq.md)
* [Troubleshoot Azure File storage problems in Windows](storage-troubleshoot-windows-file-connection-problems.md) (Устранение неполадок хранилища файлов Azure в Windows)      
* [Troubleshoot Azure File storage problems in Linux](storage-troubleshoot-linux-file-connection-problems.md) (Устранение неполадок хранилища файлов Azure в Linux)    