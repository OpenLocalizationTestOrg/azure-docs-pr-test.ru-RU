---
title: "aaaCortana репертуара шаблон решения аналитики для прогноза спроса энергии | Документы Microsoft"
description: "Шаблон решения Microsoft Cortana Intelligence для прогнозирования спроса на энергию в электроэнергетической компании."
services: cortana-analytics
documentationcenter: 
author: ilanr9
manager: ilanr9
editor: yijichen
ms.assetid: 8855dbb9-8543-45b9-b4c6-aa743a04d547
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/24/2016
ms.author: ilanr9;yijichen;garye
ms.openlocfilehash: 32fc6ece7e24ced34282baf107548039694a38b4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="cortana-intelligence-solution-template-playbook-for-demand-forecasting-of-energy"></a>Сборник шаблонов решений Cortana Intelligence для прогнозирования энергопотребления
## <a name="executive-summary"></a>Аннотация
В hello за несколько лет, Интернета вещей (IoT) энергии альтернативные источники и большие наборы данных которых произошло слияние toocreate большие возможности программа hello и домене энергии. В hello одновременно, программа hello и сектор всю энергии hello видели потребления сведение их использование энергии с потребителями, лучше toocontrol способами, где это требуется. Здравствуйте, таким образом, программа и смарт-сетки компаний в tooinnovate срочно требуется и обновить себя. Кроме того многие сетки включения питания и служебной программы становится устаревшей и очень дорого toomaintain и управление ими. Во время hello за прошлый год команда hello работал в ряд вовлечения в пределах домена энергии hello. Во время этих вовлечения возникла многих случаях, в какие hello служебных программ или независимые поставщики программного обеспечения (независимые поставщики программного обеспечения) нужно в прогнозы для будущих энергии спроса. Эти прогнозы играют важную роль в их текущих и будущих бизнес- и стали hello foundation для различных вариантов использования. Сюда входят краткосрочные и долгосрочные прогнозы электрических нагрузок, торговой деятельности, распределения нагрузки, оптимизации сети и т. п. Большие наборы данных и методов Advanced Analytics (AA) например машины обучения (ML) являются hello перечень для создания прогнозов точной и надежной.  

В этом репертуара мы объединить hello бизнеса и аналитических рекомендации, необходимые для успешной разработки и развертывания спроса энергии прогноза решения. Представленные рекомендации помогут коммунальным предприятиям, а также специалистам по обработке и анализу данных внедрить полностью готовые к эксплуатации облачные решения по прогнозированию спроса. Для компаний, которые запускаются только их больших объемов данных и расширенной аналитики пути такое решение может представлять hello первоначальное заполнение в их долгосрочной стратегии смарт-сетки.

> [!TIP]
> toodownload на диаграмме, которая содержится обзор архитектуры этого шаблона, в разделе [архитектура шаблон решения аналитики Cortana для прогноза спроса энергии](cortana-analytics-architecture-demand-forecasting-energy.md).  
> 
> 

## <a name="overview"></a>Обзор
В этом документе рассматриваются hello business, данных и технические аспекты использования аналитики Cortana и в определенной Azure машины обучения AML () для реализации hello и развертывания решений для прогнозирования энергии. Hello документ состоит из трех главных частей:  

1. Коммерческий аспект.  
2. Аспект данных.  
3. Техническая реализация.

Hello **понимания деловых** части контуров hello toounderstand потребностей один аспект бизнеса и рассмотрим предыдущий toomaking принятия решения об инвестиций. Здесь объясняется, как tooqualify hello бизнес-задачи, в наличии tooensure прогнозной аналитики и машинное обучение, действительно эффективным и может быть использован. Hello документе также объясняет основы hello машинного обучения и как она используется tooaddress прогнозирования энергии проблем. В нем изложены hello предварительные условия и критерии квалификации hello варианта использования. Также приведены некоторые примеры сценариев использования и экономических моделей.

Данные представляют Привет основной составная часть любого решения машинного обучения. Hello **основные сведения о данных** из частей этого документа описаны некоторые важные аспекты данных hello. В нем изложены hello рода данные, которые необходимы для прогнозирования энергии, требования к качеству данных и источники данных обычно существует. Мы также объясняется, как необработанные данные hello — используется tooprepare данных, которая фактически диска моделирования часть hello.

Третья часть документа hello Hello охватывает hello **Техническая реализация** аспекта решения. Конструируются и моделирования, в основе hello процесса обработки и анализа данных hello и таким образом подробно обсуждаются некоторые. Она охватывает hello понятие веб-служб, которые являются важным средством развертывания облака прогнозирующего анализа решений. Также здесь описана стандартная архитектура комплексного решения, готового к эксплуатации.

Кроме того документ hello включает справочные материалы, можно использовать toogain дополнительные основные сведения о домене hello и технологий.

Это важные toonote, что мы не будут toocover в этот документ hello глубже процесса анализа данных обработки и анализа, математические и технические аспекты. Эти сведения можно найти в [документации по машинному обучению](http://azure.microsoft.com/services/machine-learning/) Azure и [блогах](http://blogs.microsoft.com/blog/tag/azure-machine-learning/).

### <a name="target-audience"></a>Целевая аудитория
Hello этот документ предназначен для бизнес- и технических специалистов, требующий toogain знаний и основные сведения о машинного обучения на основе решений, и как они используются специально в пределах домена прогнозирования энергии hello.

Специалисты по анализу данных также могут выиграть от чтения этого документа toogain лучшего понимания того, высокий уровень процесса hello, диски hello развертывания энергии прогнозирования решения. В этом контексте его также можно использовать tooestablish хорошую основу Начальная точка для получения дополнительных сведений подробные и дополнительные материалы.

### <a name="industry-trends"></a>Тенденции отрасли
В hello за несколько лет IoT, энергии альтернативные источники и большие наборы данных которых произошло слияние toocreate большие возможности в пространстве энергии и программа hello. В hello одновременно, программа hello и секторов всего энергии hello видели потребления сведение их использование энергии с потребителями, лучше toocontrol способами, где это требуется.

Многие программы и смарт-энергетические компании первые hello [смарт-сетки](https://en.wikipedia.org/wiki/Smart_grid) , развернув ряд используйте варианты, которые делают использовать hello данных, сформированных сеткой hello. Множество вариантов использования опираться на hello связаны конкретные характеристики производства электроэнергии: накапливаются ни выделить хранятся как производственные запасы. Поэтому все, что вырабатывается, должно быть использовано. Служебные программы, которые требуется более эффективно toobecome требуется tooforecast энергопотребление просто потому, что это даст их большие возможности слишком**сбалансировать спрос и предложение**, предотвращая отходов энергии **уменьшить greenhouse полученные вывод**и управления расходами.

Что касается затрат, есть еще один немаловажный аспект — цена. Возможности tootrade питания между служебные программы привести срочно требуется слишком**прогнозирования будущих потребностей и будущих стоимость электроэнергии**. Это поможет компаниям определить объемы производства.

Если мы используем слово hello «интеллектуально», фактически мы называем tooa сетки, можно узнать, а затем создавать прогнозы. Она может предвидеть сезонные колебания в энергопотреблении, а также **прогнозирует возможные ситуации временной перегрузки и автоматически подстраивается под них**. С помощью удаленно регулирования потребления (с помощью hello эти смарт-м), могут обрабатываться ситуациях локализованные перегрузки. **Сначала Прогнозирование и затем принимает**, сетка hello делает себя оптимизированное со временем.

Hello оставшейся части этого документа основное внимание уделяется определенного семейства варианты использования, которые охватывают прогнозирования будущих краткосрочные и долгосрочные требования энергии. Мы работали в этих областях несколько месяцев и там некоторые базы знаний и навыков, позволит нам tooproduce отрасли Оценка результатов. Другие варианты использования рассматриваются также в документе hello в hello ближайшее будущее.

## <a name="business-understanding"></a>Коммерческий аспект.
### <a name="business-goals"></a>Бизнес-цели
Hello **Демонстрация энергии** цель — toodemonstrate обычной прогнозной аналитики и машинное обучение решение, которое может быть развернуто на очень короткий промежуток времени. В данном случае основное внимание уделяется активации решений по прогнозированию спроса на энергию, которые помогут оперативно оценить и использовать его коммерческую ценность. Hello в этом репертуара сведениями клиента hello осуществления hello следующих целей:

* Решения на основе toovalue короткое время машинного обучения
* Возможность tooexpand tooother вариантов пилотного развертывания используйте варианты использования и tooa более широкой областью, в зависимости от их потребностей бизнеса
* Быстрое обучение работе с продуктом Cortana Intelligence Suite.

С помощью этих целей в виду этого репертуара намеревается доставки hello бизнеса и технических знаний, которая поможет достичь этой цели.

### <a name="power-load-and-demand-forecasting"></a>Прогнозирование электрической нагрузки и спроса
В пределах сектора hello энергии может быть различными способами, в какие запросу прогнозирования могут помочь в решении важных задач бизнеса. На самом деле прогноз спроса могут считаться hello основой многих вариантов использования ядра в отрасли hello. Мы рассмотрим два общих типа прогнозов спроса на энергию: краткосрочный и долгосрочный. Они могут служить различным целям и задействовать разные подходы. Hello основное различие между двумя hello — hello, прогнозирования период, то есть hello диапазон времени в будущем hello, для которой мы прогноза.

#### <a name="short-term-load-forecasting"></a>Краткосрочное прогнозирование нагрузки
В контексте hello спроса энергии короткое термин загрузить прогнозирования (STLF) определяется как нагрузки агрегированных hello, прогнозируемое в hello ближайшее будущее на различные части сетки hello (или hello сетки в целом). В этом контексте Краткосрочные является определенным toobe временной диапазон в пределах диапазона hello часов too24 1 час. В некоторых случаях можно установить период в 48 часов. Таким образом STLF очень проявляется в случае работы hello сетки. Ниже приведены некоторые примеры сценариев использования на основе STLF.

* Балансировка спроса и предложения.
* Поддержка торговли энергией.
* Рыночная деятельность (назначение цены на электроэнергию).
* Рабочая оптимизация сети.
* [Регулирование спроса](https://en.wikipedia.org/wiki/Demand_response)
* Прогнозирование пикового спроса.
* Управление спросом.
* Балансировка нагрузки и предотвращение перегрузки.
* Долгосрочное прогнозирование нагрузки.
* Обнаружение сбоев и аномалий.
* Сокращение (выравнивание) пиков. 

Модель STLF преимущественно основаны на hello вблизи за (последнего дня или недели) потребления данных и использование прогнозируемое температуры важным показателем прогнозирования. Получение точной температуры прогноз для следующего часа hello и часы too24 становится меньше запрос теперь дней. Эти модели, менее важной tooseasonal шаблоны или долгосрочных тенденций потребления.

SLTF решения также, скорее всего, toogenerate большое количество вызовов прогноз (запросы на обслуживание), так как они вызовов на почасовой основе и в некоторых случаях даже с более высокой частотой. Это также очень часто implantation toosee, где каждый отдельных подстанции или преобразователь представляется в виде автономной моделью и таким образом hello объема прогнозирующих запросов выполняется еще больше.

#### <a name="long-term-load-forecasting"></a>Долгосрочное прогнозирование нагрузки.
Задача Hello из Long термин нагрузки прогнозирования (LTLF) — требованию power tooforecast с временной диапазон, в диапазоне 1 неделю месяца toomultiple (и в некоторых случаях для нескольких лет). Этот период применяется в основном для сценариев использования в сферах планирования и инвестирования.

Для долгосрочной сценариях это важные toohave высокое качество данных, включающий диапазон несколько лет (минимальное 3 года). Эти модели обычно извлекают сезонных шаблоны от данных с предысторией hello и использовать внешние predicators такие как погода и Климат шаблоны.

Важно tooclarify, Здравствуйте дольше hello прогнозирования горизонта, может быть hello менее точные hello прогноз. Именно поэтому важные tooproduce, интервалы достоверности вместе с hello фактическое прогноз, позволит пользователю toofactor hello возможных вариантов на процесс планирования.

Поскольку сценарий потребления hello LTLF большей части планирования, мы предполагаем гораздо более низком уровне громкости прогноз (в виде сравниваемых tooSTLF). Мы обычно можно увидеть эти прогнозы, внедренных в средства визуализации, таких как Excel или PowerBI и вызываться вручную пользователем hello.

### <a name="short-term-vs-long-term-prediction"></a>Сравнительная характеристика краткосрочного и долгосрочного прогнозирования
Hello в следующей таблице сравниваются STLF и LTLF в отношении toohello самым важным атрибутам.

| Атрибут | Краткосрочный прогноз нагрузки | Долгосрочный прогноз нагрузки |
| --- | --- | --- |
| Период прогноза |От 1 час too48 часов |Из месяцев 1 too6 или более |
| Степень детализации данных |Ежечасно |Ежечасно или ежедневно |
| Стандартные сценарии использования |<ul><li>Балансировка спроса и предложения</li><li>Прогнозирование времени наибольшей нагрузки</li><li>Регулирование спроса</li></ul> |<ul><li>Долгосрочное планирование</li><li>Планирование ресурсов сети</li><li>Планирование ресурсов</li></ul> |
| Стандартные прогностические факторы |<ul><li>День или неделя</li><li>Час дня</li><li>Почасовая температура</li></ul> |<ul><li>Месяц года</li><li>День месяца</li><li>Долгосрочное прогнозирование температуры и климатических условий</li></ul> |
| Диапазон исторических данных |Данные за два года toothree |Данные, накопленные за пять лет too10 |
| Стандартная точность |MAPE* — 5 % и меньше |MAPE* — 25 % и меньше |
| Частота прогнозирования |Создается каждый час или каждые 24 часа |Создается раз в месяц, квартал или год |

\*[ MAPE](https://en.wikipedia.org/wiki/Mean_absolute_percentage_error) — средняя погрешность в процентах.

Как видно из этой таблицы, это довольно важным toodistinguish между hello короткий и hello долговременного прогнозирования сценариев, поскольку они представляют различные бизнес-требованиями и может иметь разные развертывания и использования шаблонов.

### <a name="example-use-case-1-esmart-systems--overload-optimization"></a>Пример сценария использования 1. Системы eSmart — оптимизация при перегрузке
Важную роль для [смарт-сетки](https://en.wikipedia.org/wiki/Smart_grid) — toodynamically и постоянно оптимизации и настроить изменение схемы потребления hello. Краткосрочные изменения, вызванные, как правило, колебаниями температуры, могут повлиять на энергопотребление (*например*, дополнительная электроэнергия используется для кондиционирования воздуха или отопления). AT hello же долгосрочных тенденций также влияет на время, выключите потребления. Среди них — сезонные колебания, государственные праздники, долгосрочный рост потребления и даже экономические факторы, такие как индекс потребительских цен, цена на нефть и ВВП.

В этом случае [eSmart](http://www.esmartsystems.com/) было toodeploy Облачное решение, позволяющее прогнозирующих склонностью hello из ситуацию перегрузки для любого заданного подстанции hello сетки. В частности eSmart было substations tooidentify, скорее всего, toooverload внутри hello следующего часа, поэтому немедленное действие удалось перевести tooavoid или устранения этой ситуации.

Для точного и быстрого прогнозирования необходимо реализовать три прогнозные модели.

* Долго термин модели, что включает прогнозирование потребления питания на каждом подстанции во время hello Далее несколько недель или месяцев
* Краткосрочные модель, позволяющая прогноза ситуацию перегрузки на заданной подстанции во время следующего часа hello
* Модель температуры, которая обеспечивает прогнозирование будущей температуры при нескольких сценариях.

Цель Hello hello долгосрочной модели — substations hello toorank по их toooverload склонностью (при наличии их передачи мощности) во время hello следующую неделю или месяц. Это позволяет создать hello краткого списка substations, выступает в качестве входных данных для краткосрочного прогнозирования hello. — Как температуры является важным показателем прогнозирования для модели долгосрочной hello, создают несколькими сценарий необходимость tooconstantly температуры прогнозов и перевода их в качестве ввода в модель долгосрочной toohello. Hello краткосрочный прогноз, затем вызывается toopredict какие подстанции превышает скорее всего toooverload hello следующего часа.

Hello краткосрочном и долгосрочном плане модели развертываются отдельно на каждом подстанции. Таким образом hello практические выполнения этих моделей требуется расширенная orchestration. выделенный toogain повышенную точность прогноза hello короткий срок, более детальная модель за каждый час дня hello. Эти модели, выполняются каждый час и завершить выполнение в течение нескольких минут tooallow достаточно времени toorespond и выполните превентивные действия, при необходимости. Эта коллекция моделей является обновляется с помощью периодический переподготовки с использованием самых последних данных hello.

Дополнительные сведения об этом сценарии использования см. [здесь](https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=18945).

#### <a name="use-case-qualification-criteria--prerequisites"></a>Квалификационные критерии сценария использования — предварительные требования
Hello основной стойкость Cortana аналитики, мощные возможности toodeploy и масштаб машины обучения полноценных решений. Это спроектированный toosupport тысяч прогнозы, которые выполняются параллельно. Его можно автоматически масштабировать toomeet изменение шаблона потребления. Решение прежде всего ориентировано на точность и производительность вычислений. Например компании программа заинтересована в формирующего точные энергии прогноз продаж для hello следующего часа, а также за каждый час дня hello. На Здравствуйте другой стороны, менее мы заинтересованы в ответ на вопрос: Почему запросу hello не прогнозируемое toobe, поскольку она является hello (самой модели hello берет на себя,).

Именно поэтому важные toorealize, что не все варианты использования и бизнес-задачи, можно эффективно решать с помощью машинного обучения.

Cortana аналитики и машинное обучение может быть в решении данного бизнес-проблемы, если выполняются следующие критерии hello высокоэффективный:

* Hello бизнес-задачи, в наличии — **прогнозной** по своей природе. Пример использования прогнозирующих — это служебная программа компания, будет toopredict нагрузка на заданной подстанции во время следующего часа hello. На hello другой стороны, анализ и ранжирование драйверов исторических спроса бы **описательные** по своей природе и поэтому не применим.
* Есть очевидная **путь к действию** toobe один раз выполнить прогноз hello доступен. Например прогноз перегрузку на подстанции во время следующего часа hello можно запустить действие упреждающего уменьшения нагрузки, связанной с этой подстанции и потенциально предотвращения перегрузки.
* вариант использования Hello представляет **типичные проблемы типа** таким образом, что при решена его pave toosolving способом hello другие аналогичные области применения.
* можно установить клиента Hello **Количественный и качественный целей** toodemonstrate реализацию удачным решением. Например, хорошим количественную цель прогноз спроса энергии будет пороговое значение hello требуемая точность (*например*, копирование too5 может быть ошибка в %) или при прогнозировании подстанции перегрузки, а затем hello точности (количество истинных положительных результатов) и отзыв (степень истинных положительных результатов) должно быть превышает заданный порог. Эти цели должны быть получены из клиента hello бизнес-целей.
* Есть очевидная **сценария интеграции** с hello компании рабочий процесс. Например прогноз нагрузки подстанции hello могут интегрироваться в hello сетки center tooallow перегрузка Предотвращение действий по управлению.
* у клиента Hello готов toouse **данных с достаточно качеством** toosupport hello вариант использования (Подробнее см. в следующем разделе hello **качества данных**, из этого репертуара).
* Здравствуйте архитектуры ориентированных на данные клиента ситуации облака или **облачного машинного обучения**, включая машинного Обучения Azure и других компонентов пакета аналитики Cortana.
* Клиент Hello является пойти tooestablish **поток данных tooend** hello доставки данных в облаке hello регулярно средства и осуществляет слишком**ввода в эксплуатацию** hello решения.
* Hello клиента готов слишком**выделять ресурсы** , будет иметь активно участвует во время начальной пилотных hello, чтобы можно было базы знаний и владения решения hello передаются toohello клиенту по успешно Завершение.
* ресурс Hello клиента должен быть **professional квалифицированный данных**, предпочтительно специалист по анализу данных.

Квалификация варианта использования на основании hello приведенным выше критериям может значительно улучшить показатели успеха hello варианта использования и устанавливать хорошо beachhead для реализации hello случаев использования в будущем.

### <a name="cloud-based-solutions"></a>Облачные решения
Комплект аналитики Cortana в Azure — интегрированную среду, которая находится в облаке hello. Hello развертывания решения углубленной аналитики в облачной среде содержит значительные преимущества для бизнеса и на hello то же время может указывать большое изменение для компаний, по-прежнему использовать локальную ИТ-решениями. В сектор энергии hello есть тенденция к очистить Постепенная миграция операций в облаке hello. Эта тенденция рука об руку передается вместе с разработки hello hello смарт-сетки, как описано выше, в **тенденции в отрасли**. Как это репертуара основное внимание уделено Облачное решение в домене энергии hello, это tooexplain важные преимущества hello и другие рекомендации по развертыванию решения на основе облака.

Возможно hello главным преимуществом Облачное решение является стоимость hello. Так как решение использует компоненты, развернутые в облаке, оно исключает необходимость в начальных капиталовложениях или расходах COGS (себестоимость проданных товаров) на компоненты. Означает, что нет нет необходимости tooinvest оборудования, программного обеспечения и обслуживания ИТ и поэтому является значительно сократить риск компании.

Другое важное преимущество — hello структуры по мере использования затрат облачных решений. Облачные серверы для вычислений и хранения можно развертывать и масштабировать по необходимости. Это значение представляет эффективности затрат hello облачного решения.

Наконец нет необходимости для инвестиции в ИТ-обслуживания или будущих инфраструктуры разработки, как все это является частью hello Облачное решение. степени toothat, Cortana аналитики Suite включает в себя hello лучше всего в классе службы и отслеживает развития для карты дорог. Постоянно добавляются и разрабатываются новые функции, компоненты и возможности.

Для компании, которая только что начала перехода в облаке hello высокой рекомендуемых tootake постепенное подход путем реализации ориентир миграции облака. Мы надеемся, что служебных программ и компаний в домене энергии hello, варианты использования hello, которые рассматриваются в этом репертуара представляют отличную возможность Пилотное развертывание решения прогнозирующего анализа в облаке hello.

#### <a name="business-case-justification-considerations"></a>Рекомендации по использованию бизнес-модели
Во многих случаях hello могут быть заинтересованы в создании коммерческое обоснование для случая вариантов использования, в котором Облачное решение и машинное обучение являются важным компонентом. В отличие от локального решения, в случае, когда hello Облачное решение hello снижают затраты на компонент минимально, а большая часть стоимости элементов hello связаны с фактическим использованием. Что касается toodeploying энергии прогнозирования решения о Cortana аналитики Suite, несколько служб могут интегрироваться с одной общей структуре затрат. Например, базы данных (*например*, SQL Azure) можно использовать toostore hello необработанные данные и затем для фактического hello прогнозирующую машинного Обучения Azure используется toohost hello прогнозирования службы. В этом примере hello стоимости структуру может включать хранения и транзакционные компоненты.

На hello другой стороны, один должен хорошо понимает бизнес-ценности hello операционные требование энергии прогнозирования (короткий или длинный выражение). По сути это важно toorealize hello ценность для бизнеса каждой операции прогноза. Например точно прогнозирования нагрузка для hello ближайшие 24 часа, разрешено ли overproduction или предотвращения перегрузки на сетке hello и это может быть выражено с точки зрения финансовых экономии на ежедневной основе.

Базовая формула для вычисления hello финансовые преимущества спроса прогноз решением было бы: ![базовая формула для вычисления hello финансовые преимущества спроса прогноз решения](media/cortana-analytics-playbook-demand-forecasting-energy/financial-benefit-formula.png)

Поскольку набор Cortana аналитики предоставляет по мере использования модели ценообразования, нет необходимости для несения формулу toothis компонент фиксированные издержки. Формула может вычисляться ежедневно, ежемесячно или ежегодно.

Текущие тарифные планы Cortana Intelligence Suite и машинного обучения Azure можно найти [здесь](http://azure.microsoft.com/pricing/details/machine-learning/).

### <a name="solution-development-process"></a>Процесс разработки решения
использование цикла разработки Hello требование энергии прогнозирования решения обычно включает четыре этапа, которые мы предоставим облачных технологий и служб в hello Suite аналитики Cortana.

Это продемонстрировано в hello, следующая схема:

![Цикл интеллектуальной сети](media/cortana-analytics-playbook-demand-forecasting-energy/smart-grid-cycle.png)

следующий абзац Hello описывает этот процесс для шага 4:

1. **Сбор данных.** В основе любого современного аналитического решения лежат данные (см. раздел **Аспект данных**). В частности когда речь заходит toopredictive анализа и прогнозирования, мы полагаемся на текущих и динамический поток данных. В случае hello прогноз спроса энергии эти данные могут быть изготовлены непосредственно смарт-м или уже быть статистически вычислена в локальной базе данных. Кроме того, используются другие внешние источники данных, такие как погода и температура. Непрерывный поток данных должен упорядочиваться, заноситься в график и сохраняться. [Фабрика данных Azure](http://azure.microsoft.com/services/data-factory/) (ADF) является основным средством для выполнения этих задач.
2. **Моделирование** — для прогнозов точной и надежной энергии один разработки (обучение) и поддерживать большие модели, которые должны использовать hello исторических данных и извлекает hello может применяться и Здравствуйте, прогнозирующее закономерности в данных. область Hello машины обучения (ML) быстро растет с более сложные алгоритмы обычно разрабатываются. Azure ML Studio предоставляет удобную работу пользователя, позволяет использовать наиболее advanced алгоритмов машинного Обучения в поток операций завершения hello. Этот рабочий процесс проиллюстрирован на схеме потока интуитивно понятный и включает hello подготовки данных, извлечения признаков, моделирования и вычисления моделей. Hello пользователь может включить в сотни различных моделей, которые включены в этой среде. Специалист по анализу данных hello завершения этой фазы получат работе модели, полностью вычисляется и Готово к развертыванию.
   
   Следующая схема Hello. приведен пример типичный рабочий процесс:
   
   ![Рабочий процесс моделирования](media/cortana-analytics-playbook-demand-forecasting-energy/modeling-workflow.png)
3. **Развертывание** — с моделью рабочий, hello следующим шагом является развертывания. Здесь hello модели будут преобразованы в веб-службы, предоставляющей API RESTful, который одновременно вызывать hello Интернет от различных клиентов потребления. Azure ML предоставляет простой способ развертывания модели непосредственно из hello Azure ML Studio одним щелчком кнопки. Hello всего процесса развертывания происходит механизме hello. Это решение можно автоматически масштабировать toomeet hello необходимые потребления.
4. **Потребление** — на этом этапе мы действительно сделать использование hello tooproduce прогнозы модели прогнозирования. потребление Hello может быть получена из пользовательского приложения (*например*, панели мониторинга) или непосредственно из операционной системы, такие как спроса и предложения балансировки системы или решения по оптимизации сетки. На основе одной модели можно разработать несколько сценариев использования.

## <a name="data-understanding"></a>Аспект данных.
После обсуждения hello деловые соображения (см. **понимания деловых**) требования энергии, прогнозирования решение, мы, теперь готовы toodiscuss hello часть данных. В основе любого решения прогнозной аналитики лежат надежные данные. Для прогнозирования спроса на энергию мы полагаемся на исторические данные по энергопотреблению с различными уровнями детализации. Эти данные с предысторией используется как сырье hello. Она подвергнется в какой hello специалист по анализу данных будет идентифицировать для прогнозирования (также назывались tooas функции), могут быть помещены в модели, который в конечном итоге будет создавать прогнозы hello требуется тщательного анализа.

В hello оставшейся части этого раздела, мы опишем hello различные инструкции и рекомендации для понимания данных hello и как toobring его tooa можно использовать форму.

### <a name="hello-model-development-cycle"></a>Hello цикл разработки модели
Создание надежных моделей прогнозирования требует тщательной подготовки и планирования. Дробление hello процесс моделирования на несколько этапов и сосредоточиться на один шаг, одновременно может существенно повысить hello результат hello всего процесса.

Hello следующей схеме показана как hello процесс моделирования можно разбить на несколько этапов.

![Цикл разработки модели](media/cortana-analytics-playbook-demand-forecasting-energy/model-development-cycle.png)

Как можно видеть, что цикл hello состоит из шести шагов:

* Постановка задачи.
* Прием и изучение данных.
* Подготовка данных и проектирование функций.
* Моделирование.
* Оценка модели.
* Разработка

В hello оставшейся части этого раздела мы опишем отдельные шаги hello и tooconsider элементы на каждом шаге.

### <a name="problem-formulation"></a>Постановка задачи.
Мы можно рассмотреть возможность формирования проблема hello мере hello наиболее важный первый шаг предыдущих tooimplementing tootake решения для прогнозирующего анализа. Здесь мы преобразования hello бизнес-задачи и выполним его сегментацию toospecific элементов, которые можно решить с помощью данных методов. Проблема связана с хорошей практикой tooformulate hello как набор вопросов, мы хотели бы tooanswer. Ниже приведены некоторые возможные вопросы, которые могут быть применимы в пределах области hello прогноз спроса энергии.

* Что такое hello ожидается нагрузки на отдельные подстанции в hello Далее час или день?
* В какое время суток hello моей сетке столкнутся с пиковой?
* Какова вероятность является пиковой нагрузки ожидается hello Мой toosustain сетки?
* Сведения о количестве энергии станции power hello должно создавать во время каждый час дня hello?

Составление эти вопросы позволят нам toofocus на получение данных справа hello и реализации решения, который полностью соответствует под рукой hello бизнес-задачи. Кроме того мы затем можно задать некоторые ключевые показатели, позволит нам tooevaluate производительность hello hello модели. Например насколько точным следует hello прогноз быть и каков диапазон hello ошибки, по-прежнему допустима hello бизнеса?

### <a name="data-sources"></a>Источники данных
Современные смарт-сетки Hello собирает данные из различных частей и компонентов hello сетки. Эти данные представляют различные аспекты hello операции, а также использование hello hello power сетки. В пределах области hello прогноз спроса энергии hello ограничивает обсуждений hello в источниках данных, которые отражают фактический спрос потребления hello. Важным источником сведений о потреблении энергии являются интеллектуальные счетчики. Служебные программы земного шара hello быстро развертывают смарт-м их пользователями. Смарт-м запись Реальное энергопотребление hello и постоянно ретрансляции этой компании программа задней toohello данных. Данные собираются и отправляются обратно с фиксированным интервалом, начиная от каждый час too1 5 минут. Более сложные смарт-м можно запрограммировать удаленно toocontrol и баланс hello фактического потребления в семейство. Данные интеллектуальных счетчиков относительно надежны и содержат метку времени. Это делает их важным элементом прогнозирования спроса. Индикатор данные могут быть агрегированными (суммарные вверх) на различных уровнях сетки топологии hello: преобразователя, подстанции, регион, *и т. д*. Можно затем выбирается toobuild уровня статистической обработки hello необходимые модели прогнозирования для него. Например если компания программа hello как tooforecast будущих загружает на каждом из его substations сетки затем данных всех показателей статистическое вычисление для каждого отдельного подстанции и используются в качестве входных для модели прогнозирования hello. М toosmart мы называем внутреннего источника данных.

Для надежного прогнозирования спроса на энергию необходимо также задействовать внешние источники данных. Влияет на энергопотребление один важный фактор — hello погоды или точнее температуры hello. Исторические данные демонстрируют очевидную взаимосвязь между температурой окружающей среды и энергопотреблением. Во время дней горячей летние внести потребителям использовать их кондиционера и во время включения зимний hello отопления систем. Таким образом, надежного источника исторических температур в расположении сетки hello является ключом. Кроме того, мы можем полагаться на точный прогноз температуры как на прогностический фактор энергопотребления.

Другие внешние источники данных также применяются при создании прогнозных моделей спроса на энергию. Это могут быть длительные климатические изменения, экономические показатели (*например*, ВВП) и др. Однако в этом документе мы не будем останавливаться на такого рода источниках данных.

### <a name="data-structure"></a>Структура данных
После идентификации hello требуются источники данных, мы бы как tooensure, необработанные данные, которые были собраны включает hello исправьте компоненты данных. toobuild требование надежного прогнозную модель, нам понадобится tooensure, hello собираемых данных включает в себя элементы данных, для прогнозирования будущих потребностей hello. Ниже приведены некоторые основные требования в отношении структуры данных hello (схемы) hello необработанных данных.

необработанные данные Hello состоит из строк и столбцов. Каждый замер должен быть представлен в виде одной строки данных. Каждая строка данных содержит несколько столбцов (и особенностей, который ссылается tooas или полей).

1. **Отметка времени** — поле метки времени hello представляет фактическое время hello при записи измерения hello. Он должен соответствовать один из стандартных форматов даты и времени hello. Необходимо наличие обоих компонентов — даты и времени. В большинстве случаев нет необходимости для hello время toobe записываются до hello второй уровень гранулярности. Это важные toospecify hello часовой пояс, в который записываются данные hello.
2. **Измерительные идентификатор** -это поле определяет индикатор hello или устройство измерения hello. Это категориальная переменная, которая может быть сочетанием цифр и других символов.
3. **Значение потребления** — это фактическое использование hello на заданной даты и времени. потребление Hello может измеряться кВт/ч (kilowatt-hour) или любой другой предпочитаемый единицы. Очень важно, что между единиц измерения в данных hello toonote, hello единиц измерения необходимо остаются согласованными. Иногда электроэнергия подается при помощи более чем трех фаз. В этом случае нам понадобится toocollect всем этапам, от независимых потребления hello.
4. **Температуры** — температуры hello обычно полученные от независимого источника. Тем не менее он должен быть совместим с hello потребления данных. Этот план должен содержать отметку времени как описано выше, обеспечивают toobe синхронизированы с данными hello фактического потребления. значение температуры Hello указываются в градусах Цельсия или Фаренгейта, но должны оставаться согласованное для всех измерений.
5. **Расположение —** hello поле «расположение» обычно связаны с hello месте, где собраны hello температур. Расположение может быть представлено в формате индекса или широты и долготы.

Hello в следующей таблице показаны примеры хорошо потребления и температуры формата данных:

| **Дата** | **Время** | **Идентификатор средства измерения** | **Фаза 1** | **Фаза 2** | **Фаза 3** |
| --- | --- | --- | --- | --- | --- |
| 01.07.2015 |10:00:00 |АБВ1234 |7.0 |2,1 |5,3 |
| 01.07.2015 |10:00:01 |АБВ1234 |7.1. |2.2 |4.3. |
| 01.07.2015 |10:00:02 |АБВ1234 |6,0 |2,1 |4,0 |

| **Дата** | **Время** | **Расположение** | **Температура** |
| --- | --- | --- | --- |
| 01.07.2015 |10:00:00 |11242 |24,4 |
| 01.07.2015 |10:00:01 |11242 |24,4 |
| 01.07.2015 |10:00:02 |11242 |24,5 |

Как видим, этот пример включает три различных значения для энергопотребления, связанных с тремя фазами электричества. Кроме того Обратите внимание, что разделены hello поля даты и времени, однако они также могут сочетаться в одном столбце. В этом случае hello расположение представляется в формате индекс из 5 цифр и температуры hello в формате градусов по Цельсию.

### <a name="data-format"></a>Формат данных
Пакет аналитики Cortana может поддерживать hello наиболее распространенных форматов данных, например CSV, TSV, JSON, *и т. д*. Очень важно, что формат данных, hello остается согласованной hello весь жизненный цикл проекта hello.

### <a name="data-ingestion"></a>Прием данных
Поскольку прогноз спроса энергии, постоянно и часто согласно прогнозу, мы необходимо убедиться, что hello необработанных данных передается с помощью процесса приема сплошной и достоверные данные. процесс приема Hello должны гарантировать, что hello необработанных данных доступна для прогнозирования процесса во время hello необходимые hello. Это подразумевает, что частоту приема данных hello должно быть больше hello прогнозирования частоты.

Например: Если наши запросу прогнозирования решения, создает новый прогноз в 8:00 ежедневно, то мы должны tooensure, все hello данные, собранные во время последнего hello 24 часа были полностью полученный до этого момента и имеет tooeven включают hello последний час данных.

Чтобы tooaccomplish, Cortana аналитики Suite предлагает различные способы toosupport процесс приема достоверных данных. Это будет подробнее рассматривается в hello **развертывания** раздел этого документа.

### <a name="data-quality"></a>Качество данных
Источник Hello необработанные данные, необходимые для выполнения прогноза спроса надежных и точных должны соответствовать критериям качества некоторых основных данных. Несмотря на то, что расширенные статистические методы могут быть используется toocompensate некоторые проблемы качества данных, необходимо по-прежнему tooensure, что мы пересекать пороговое значение качества некоторые базовые данные при передаче новых данных. Ниже приведены некоторые рекомендации, касающиеся качества необработанных данных.

* **Отсутствует значение** — это относится toohello ситуации, когда конкретного измерения не удалось собрать данные. Hello здесь основные требование заключается в том, hello отсутствует значение частоты не должно быть больше 10% для любого заданного периода времени. В случае отсутствия одиночного значения оно должно быть указано с помощью предварительно определенного значения (например, 9999), которое не равно 0 и может использоваться в допустимом измерении.
* **Измерения точности** — фактическое значение hello потребления или температуры точно должны быть записаны. На основе неточных измерений создаются неточные прогнозы. Как правило ошибка hello измерения должен быть меньше значения true относительный toohello 1%.
* **Время измерения** — это необходимо, метка времени фактического hello собираемых данных hello будет не отличаются более чем 10 секунд относительный toohello true время измерения фактических hello.
* **Синхронизация.** Если используется несколько источников данных (*например*, энергопотребления и температуры), следует убедиться, что между ними нет проблем синхронизации времени. Это означает, что время hello различие между timestamp hello собираются из любой двух независимых источников данных не должно превышать более чем за 10 секунд.
* **Задержка.** Как описано выше в разделе **Прием данных**, прогнозирование зависит от надежности потока данных и их приема. toocontrol, что нам необходимо убедиться, что мы управления hello задержка данных. Этот параметр указан как hello разница во времени между временем hello hello фактическое измерения и hello время она была загружена в hello Suite Cortana аналитики хранилища и готов к использованию. Для загрузки Краткосрочные прогнозирования Общая задержка hello необходимо больше 30 минут. Для долговременного нагрузки прогнозирования Общая задержка hello не должны иметь размер более 1 день.

### <a name="data-preparation-and-feature-engineering"></a>Подготовка данных и проектирование функций.
После hello необработанных данных были полученный (см. **приема данных**) был безопасно сохранены, — Готово toobe обработки. Hello фазе подготовки данных по сути Получение необработанных данных hello и преобразование (преобразование, изменение формы) его в форму для фазы моделирования hello. Который может содержать простые операции, например, с помощью столбца необработанных данных hello, — с его фактическое измеренное значение, стандартных значений, более сложных операций, таких как [время Запаздывающий](https://en.wikipedia.org/wiki/Lag_operator)и др. столбцы данных только что созданный Hello являются ссылка tooas данных функциями, hello процесс создания этих является ссылка tooas конструируются. По завершении процесса hello бы набор данных, полученные из необработанных данных hello и может использоваться для моделирования. Кроме того, фазе подготовки данных hello должен tootake заботиться о отсутствующие значения (в разделе **качества данных**) и исправлять их. В некоторых случаях нам также понадобится toonormalize hello данных tooensure, все значения представляются в hello же шкале.

В этом разделе перечислены некоторые функции hello общих данных, включенных в энергии hello модели прогноза спроса.

**Управляемые компоненты времени:** эти функции являются производными от данных date и timestamp hello. Они извлекаются и преобразуются в категориальные функции, такие как:

* Время дня — это hello час дня hello, который принимает значения от 0 too23
* День недели — это представляет hello день недели hello и принимает значения от 1 (воскресенье) too7 (суббота)
* День месяца — это представляет фактическую дату hello и может принимать значения от 1 too31
* Месяц года — это представляет месяц hello и принимает значения от 1 (январь) too12 (декабрь)
* Выходные дни — это двоичное значение функции, который принимает hello значения 0 для дней недели или 1 для выходных дней
* Праздников - это двоичное значение функции, который принимает hello значения 0 для регулярного день или 1 для праздничной
* Фурье условия — hello Фурье условия находятся в весовых коэффициентов, производным от hello отметки времени и не используется toocapture сезонных hello (циклы) в данных hello. Поскольку данные могут охватывать несколько сезонов, может понадобиться несколько условий Фурье. Например, для значений спроса могут учитываться ежегодные, еженедельные и ежедневные сезоны или циклы, что требует наличия трех условий Фурье.

**Возможностях независимо измерения:** hello независимых входят все элементы данных hello, что в нашей модели мы предлагаем toouse как для прогнозирования. Здесь мы исключить hello зависимого компонента, которую мы должна toopredict.

* Функция Lag — это время сдвиг значения фактического спроса hello. Например функции lag 1 будет содержать значение запросу hello в предыдущий час (при условии, что каждый час данных) hello относительный toohello Текущая отметка времени. Аналогичным образом можно добавить запаздывания 2, запаздывания 3, *и т. д*. hello фактическое сочетание запаздывания компонентам, которые определяются во время фазы моделирования hello оценки результатов модели hello.
* Долгосрочное тенденций — эта функция представляет hello линейный рост спроса между годами.

**Зависимый компонент:** hello зависимого компонента является hello столбец данных, который мы предлагаем наши toopredict модели. С [защищено машинного обучения](https://en.wikipedia.org/wiki/Supervised_learning), нам нужно сначала обучения hello модель, используя зависимые функции hello (который также является ссылка tooas метки). Это позволяет hello модели toolearn hello шаблоны в hello данные, связанные с hello зависимого компонента. В прогноз продаж энергии обычно мы хотим toopredict hello фактического спроса и таким образом мы будет использовать в качестве зависимого компонента hello.

**Обработка отсутствующих значений:** во время фазы подготовки данных hello, потребуется toodetermine hello лучшие стратегии toohandle отсутствующие значения. Это чаще всего с помощью hello различных статистических [методы подстановки данных](https://en.wikipedia.org/wiki/Imputation_\(statistics\)). В случае hello прогноз спроса энергии обычно мы добавить отсутствующие значения с помощью скользящее среднее от предыдущих точек данных.

**Нормализация данных:** Нормализация данных имеет другой тип преобразование, которое будет использоваться toobring, все числовые данные, такие как запросу прогноз в одинаковый масштаб. Обычно, это помогает повысить точность модели hello и точности. Мы обычно для этого путем деления фактическое значение hello hello диапазон данных hello.
Это будет масштабировать hello исходное значение в диапазон меньшего размера, обычно в диапазоне от -1 до 1.

## <a name="modeling"></a>Моделирование
фазы моделирования Hello —, где выполняется преобразование hello hello данных в модель. В hello core этого процесса существует — это дополнительные алгоритмы, проверка hello исторические данные (обучения), выявить закономерности и построить модель. Эту модель можно позже используется toopredict на новые данные, которые еще не используется toobuild hello модели.

После получения рабочего надежного модели, можно затем использовать их tooscore новые данные, структурированные tooinclude hello требуется компонентов (X). Hello оценки процесса будет делать при использовании модели материализованный hello (объект из этапа обучения hello) и прогнозирования целевой переменной hello, обозначается Ŷ.

### <a name="demand-forecasting-modeling-techniques"></a>Методы моделирования для прогнозирования спроса
В случае hello спроса прогнозирования, мы предоставим использовать исторических данных, которые упорядочены по времени. Как правило, мы называем toodata, включающий hello измерение времени в качестве [временные ряды](https://en.wikipedia.org/wiki/Time_series). Цель Hello в раз, когда время toofind связанных рядов моделирования тенденции, сезонных auto корреляция (корреляции со временем) и сформулировать их в модель.

В последние годы дополнительные алгоритмы были прогнозирования временных рядов развитых tooaccommodate и tooimprove точности прогнозирования. Вкратце опишем некоторые из них.

> [!NOTE]
> Этот раздел не предназначен toobe используется как машины обучения и прогнозирования Обзор, а также как краткий опрос моделирования методы, которые обычно используются для прогноза спроса. Дополнительные сведения и учебных материалов об прогнозирования временных рядов, корпорация Майкрософт рекомендует hello интерактивной книги [Forecasting: принципы и практика](https://www.otexts.org/book/fpp).
> 
> 

#### <a name="ma-moving-averagehttpswwwotextsorgfpp62"></a>[**МА (скользящее среднее)**](https://www.otexts.org/fpp/6/2)
Скользящее среднее — один из первого hello аналитических методов, которые был использован для прогнозирования временных рядов, и она по-прежнему один из способов hello наиболее часто используемые на текущую дату. Это также hello основой для более сложных прогнозирования методы. Со скользящим средним hello следующей точки данных Прогнозирование промежутков через hello K самой последней точки, где K указывает порядок hello hello скользящее среднее.

Скользящее среднее методика Hello действует hello сглаживания прогноза hello и таким образом, не может обрабатывать также больших изменчивость данных hello.

#### <a name="ets-exponential-smoothinghttpswwwotextsorgfpp75"></a>[**ETS (экспоненциальное сглаживание)**](https://www.otexts.org/fpp/7/5)
Экспоненциальное сглаживание (ETS) — это семейство различные методы, которые используют взвешенного среднего последние точки данных в следующей точке данных заказа toopredict hello. Идея Hello — больших весов tooassign toomore последние значения и постепенно уменьшить этот вес для более старых измеренные значения. Существует несколько различных методов с этого семейства, некоторые из них включают, такие как обработка сезонности в данных hello [Holt Winters сезонных метод](https://www.otexts.org/fpp/7/5).

Некоторые из этих методов также учитывать сезонных hello hello данных.

#### <a name="arima-auto-regression-integrated-moving-averagehttpswwwotextsorgfpp8"></a>[**ARIMA (интегрированное скользящее среднее с авторегрессией)**](https://www.otexts.org/fpp/8)
Интегрированное скользящее среднее с авторегрессией (ARIMA) — это еще одно семейство методов, часто используемых для прогнозирования временного ряда. Фактически в нем объединяются методы авторегрессии и скользящего среднего. Методы регрессии автоматически использовать модели регрессии, используя предыдущие значения рядов времени в следующей точке Дата заказа toocompute hello. Методы ARIMA также применить разностный методы, которые включают вычисление hello различие между точками данных и использования этих вместо исходного измеренное значение hello. Наконец, ARIMA также используется hello скользящее среднее методик, описанных выше. Hello сочетание все эти методы разными способами — конструкции hello семейство методов ARIMA.

Сегодня ETS и ARIMA широко используются для прогнозирования спроса на энергию и многих других задач прогнозирования. Во многих случаях они объединяются вместе toodeliver очень точные результаты.

**Общие множественной регрессии** моделей регрессии может быть наиболее важных подхода моделирования hello в пределах домена hello машинного обучения и статистику. В контексте hello временных рядов, мы используем регрессии toopredict hello будущих значений (*например*, спроса). В регрессии мы воспользуйтесь линейное сочетание hello для прогнозирования и узнайте hello весов (также назывались tooas коэффициенты) для прогнозирования этих во время процесса обучения hello. Задача Hello — tooproduce линии регрессии, будет прогноз нашей прогнозируемое значение. Методы регрессии подходят при hello целевой переменной является числовым и поэтому также соответствует прогнозирования временных рядов. Есть широкий спектр регрессионных методов, включая очень простые модели регрессии, такие как [линейная регрессия](https://en.wikipedia.org/wiki/Linear_regression), и более сложные, такие как деревья принятия решений, [случайные леса](https://en.wikipedia.org/wiki/Random_forest), [нейронные сети](https://en.wikipedia.org/wiki/Artificial_neural_network) и увеличивающиеся деревья принятия решений.

Создав запросу энергии прогнозирования проблем регрессии дает большую гибкость в выборе наши данные признаки, которые могут быть объединены из данных временных рядов hello фактического спроса и внешних факторов, например температуры. Дополнительные сведения о возможностях hello выбран рассматриваются в функции проектирования hello (см. **подготовки данных и функции проектирования**) репертуара этого раздела.

Из опыт реализации и развертывания пилотного проекта прогнозы запросу энергии найдено, hello моделей Дополнительно регрессии, доступные в Azure ML, как правило, лучшие результаты tooproduce hello счет и используют их.

## <a name="model-evaluation"></a>Оценка модели.
Модель оценки имеет важную роль в hello **цикл разработки модели**. На этом этапе мы рассмотрим проверки модели hello и его производительность с реальных данных. Во время моделирования шаг hello мы используем часть hello доступных данных для обучения модели hello. Во время этапа оценки hello мы используем hello оставшуюся часть tootest hello hello данных модели. Практически это означает, что мы направляя новые данные модели hello, расположения и содержит hello же возможности, как hello обучающий набор данных. Однако во время процесса проверки hello, мы использовать hello модели toopredict hello целевой переменной вместо Укажите переменную доступные целевые hello. Мы часто ссылаются процесса toothis как оценки модели. Мы будет использовать hello true целевых значений и сравнить их с hello прогнозировать те. Цель Hello является toomeasure и свести к минимуму ошибки прогноза hello, то есть разность hello прогнозов hello и true значение hello. Квантификация hello ошибка измерения является ключом, потому что бы как настраивать toofine hello модели и проверить, совпадает ли ошибка hello фактически уменьшается. Точной настройки hello модели можно сделать путем изменения параметров модели, которые управляют hello обучения процесса или путем добавления или удаления данных компонентов (называется tooas [Очистка параметров](https://channel9.msdn.com/Blogs/Azure/Data-Science-Series-Building-an-Optimal-Model-With-Parameter-Sweep)). Практически, означает, что мы может требуется tooiterate между hello конструируются моделирования и модели этапа оценки несколько раз, пока мы уровень toohello необходимые возможности tooreduce hello ошибки не будут.

Очень важно tooemphasis ошибка прогноза hello никогда не будет равным нулю никогда не является модель, можно полностью прогнозирования каждого результата. Однако есть величиной ошибки, являющийся приемлемым hello бизнеса. Во время процесса проверки hello мы хотели бы tooensure, что ошибка прогноза нашей модели — на hello уровне или лучше, чем допуск бизнеса hello уровня. Поэтому очень важно tooset hello уровень ошибки приемлемый hello в начале hello hello цикла во время hello **формирование проблема** этап.

### <a name="typical-evaluation-techniques"></a>Стандартные методы оценки
Существуют различные методы измерения и вычисления погрешности прогноза. В этом разделе рассматривается hello-обсуждений рядов tootime соответствующие методы оценки и конкретной для прогноза спроса энергии.

#### <a name="mapehttpsenwikipediaorgwikimeanabsolutepercentageerror"></a>[**MAPE**](https://en.wikipedia.org/wiki/Mean_absolute_percentage_error)
MAPE — это средняя абсолютная погрешность в процентах. С MAPE мы Вычисление разницы hello между каждым прогнозируемых точек и фактическое значение hello этой точки. Затем мы учитывают hello ошибки на каждую точку, вычисляя hello долю hello различие относительный toohello фактическое значение. На последнем этапе эти значения усредняются. Математическая формула Hello, используемый для MAPE необходимо hello в следующем:

![Формула MAPE](media/cortana-analytics-playbook-demand-forecasting-energy/mape-formula.png)
*где A<sub>t</sub> — фактическое значение hello, F<sub>t</sub> — hello прогнозируемое значение, а n — горизонта прогноза hello.*

## <a name="deployment"></a>Развертывание
Когда мы уже закрепленных вниз hello фазы моделирования и проверена hello модели производительности не готов toogo в этапе развертывания hello. В этом контексте развертывания означает включение клиента hello tooconsume hello модели, выполнив на нем при больших масштабах фактическое прогнозов. концепции развертывания Hello равен ключа в Azure ML, поскольку нашей главной целью tooconstantly вызывать прогнозы как противоположность toojust получение hello анализ на основе данных hello. Этап развертывания Hello входит hello где мы можем добавить toobe модели hello потребляется при больших масштабах.

В контексте hello прогноз продаж энергии нашей целью является tooinvoke непрерывные и периодических прогнозы свежими данными доступна для hello модели, а прогнозируемое hello, что данные отправляются назад toohello много клиента.

### <a name="web-services-deployment"></a>Развертывание веб-служб
Hello основной развертываемых структурным машинного Обучения Azure является hello веб-службы. Это hello наиболее эффективным способом tooenable потребление прогнозной модели в облаке hello. Hello веб-службы инкапсулирует модели hello и переносит его с [категории RESTful](http://www.restapitutorial.com/) API (Application Programming Interface). Hello API можно использовать как часть любого клиентского кода, как показано на следующей схеме hello.

![Развертывание и использование веб-службы](media/cortana-analytics-playbook-demand-forecasting-energy/web-service-deployment-and-consumption.png)

Как можно увидеть, hello веб-служба развертывается в hello облака Suite аналитики Cortana и может вызываться по его предоставляемой конечной точки REST API. Другой тип клиентов в различных доменах может вызывать службу hello через веб-API hello одновременно. также можно масштабировать Hello веб-службы для поддержки тысяч одновременных вызовов.

### <a name="a-typical-solution-architecture"></a>Стандартная архитектура решения
При развертывании требование энергии прогнозирования решение, мы будем рады получить развертывание решения tooend end, который выходит за рамки hello прогноза веб-службы и упрощает выполнение потока данных целиком hello. Во время hello, мы вызвать новый прогноз потребуется toomake том, что модели, hello передавались с функциями самые последние данные. Это подразумевает, что hello вновь собранные необработанные данные постоянно полученный, обработки и преобразуется в набор на какие hello модель создавалась обязательных компонентов hello. AT hello же времени, мы хотели бы toomake hello прогнозируемое конец данных, доступных для hello много клиентов. В приведенной ниже схеме hello показана пример данных потока цикла (или конвейера данных).

![Прогноза спроса энергии tooEnd окончания потока данных](media/cortana-analytics-playbook-demand-forecasting-energy/energy-demand-forecase-end-data-flow.png)

Это hello действия, выполняемые в рамках цикла прогноза спроса энергии hello.

1. Миллионы развернутых счетчиков данных непрерывно создают данные энергопотребления в режиме реального времени.
2. Эти данные собираются и загружаются в облачное хранилище (*например*, в хранилище BLOB-объектов Azure).
3. Перед началом обработки необработанных данных hello — подстанции агрегированных tooa или региональном уровне в соответствии с бизнес hello.
4. функции обработки Hello (см. **подготовки данных и возможность обработки**) затем имело место и модели данных создает hello, требуемые для обучения или оценки — hello функция набор данных хранится в базе данных (*например*, SQL Azure).
5. Привет, повторного обучения службы вызывается hello toore Обучение модели —, обновленная версия hello модели прогнозирования сохраняется, чтобы он может использоваться hello оценки веб-службы.
6. по расписанию, которое соответствует прогноза частоты hello необходимые вызывается Hello оценки веб-службы.
7. Hello прогнозируемое данные, хранимые в базе данных, может осуществляться hello окончания использования клиента.
8. Hello потребления клиент извлекает hello прогнозы, применяет их обратно в сетке hello и использует его в соответствии с варианта использования требуется hello.

Это важные toonote, это весь цикл полностью автоматизировать и выполняется по расписанию. всего orchestration Hello этого цикла данных можно сделать с помощью средств, таких как [фабрики данных Azure](http://azure.microsoft.com/services/data-factory/).

### <a name="end-tooend-deployment-architecture"></a>Завершить tooEnd архитектуры развертывания
В порядке toopractically развертывания решения прогноза спроса энергии Cortana аналитика, нам нужно tooensure, что установлено и настроены правильно hello необходимые компоненты.

Hello следующей схеме показана типичная архитектура на основе аналитики Cortana, реализующий и организует цикл потока данных hello, описанную выше.

![Завершить tooEnd архитектуры развертывания](media/cortana-analytics-playbook-demand-forecasting-energy/architecture.png)

Дополнительные сведения о каждом из компонентов hello и архитектуре целиком hello обратитесь toohello шаблон решения энергии.

