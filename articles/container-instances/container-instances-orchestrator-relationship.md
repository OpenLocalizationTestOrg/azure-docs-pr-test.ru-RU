---
title: "Экземпляры контейнеров Azure и оркестрация контейнеров"
description: "Узнайте, как Экземпляры контейнеров Azure взаимодействуют с оркестраторами контейнеров."
services: container-instances
author: seanmck
manager: timlt
ms.service: container-instances
ms.topic: article
ms.date: 01/09/2018
ms.author: seanmck
ms.custom: mvc
ms.openlocfilehash: 4954dcb4cb03407b85ad35aec94920e39644844b
ms.sourcegitcommit: 9292e15fc80cc9df3e62731bafdcb0bb98c256e1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/10/2018
---
# <a name="azure-container-instances-and-container-orchestrators"></a>Экземпляры контейнеров Azure и оркестраторы контейнеров

Благодаря небольшому размеру и ориентации приложения контейнеры хорошо подходят для эластичных сред доставки и архитектур на основе микрослужб. Задача автоматизации большого числа контейнеров, управления ими, а также способом их взаимодействия называется *оркестрацией*. В число популярных оркестраторов контейнеров входят Kubernetes, DC/OS и Docker Swarm, каждый из которых доступен в [службе контейнеров Azure](https://docs.microsoft.com/azure/container-service/).

Экземпляры контейнеров Azure предоставляют некоторые основные функции планирования платформ оркестрации, однако они не охватывают службы более высокого значения, которые предоставляют эти платформы, и могут их дополнять. В этой статье описывается область, которую обрабатывают экземпляры контейнеров Azure, и как она взаимодействует с полной оркестрацией контейнера.

## <a name="traditional-orchestration"></a>Традиционная оркестрация

Стандартное определение оркестрации включает в себя следующие задачи:

- **Планирование.** Получив образ контейнера и запрос ресурса, найдите подходящий компьютер для запуска контейнера.
- **Сходство/удаление сходства.** Укажите, что контейнеры должны выполняться рядом друг с другом (для повышения производительности) или на достаточном расстоянии друг от друга (для увеличения доступности).
- **Мониторинг работоспособности.** Проверьте наличие ошибок в контейнере и автоматически перенесите их устранение.
- **Отработка отказа.** Отслеживайте процессы, которые выполняются на каждом компьютере, и перенесите контейнеры из неисправных компьютеров в работоспособные узлы.
- **Масштабирование.** Добавьте или удалите экземпляры контейнеров в соответствии с требованиями вручную или автоматически.
- **Сеть.** Укажите наложенную сеть для координации контейнеров, взаимодействующих в нескольких хост-компьютерах.
- **Обнаружение служб.** Позвольте контейнерам автоматически находить друг друга, даже когда они перемещаются между хост-компьютерами и их IP-адреса изменяются.
- **Координирование обновлений приложений.** Управляйте обновлениями контейнера, чтобы избежать простоя приложения, и выполняйте откат, если что-то пошло не так.

## <a name="orchestration-with-azure-container-instances-a-layered-approach"></a>Оркестрация с помощью экземпляров контейнеров Azure: многоуровневый подход

Экземпляры контейнеров Azure позволяют применять многоуровневый подход для выполнения оркестрации, предоставляя все возможности планирования и управления, необходимые для запуска одного контейнера. Они также позволяют использовать платформы оркестратора, чтобы управлять многоконтейнерными задачами на их базе.

Так как вся базовая инфраструктура для экземпляров контейнеров управляется с помощью Azure, платформе оркестратора не нужно самостоятельно искать подходящий хост-компьютер для запуска одного контейнера. Благодаря гибкости облака один контейнер всегда будет доступным. Вместо этого оркестратор может сосредоточиться на задачах, которые упрощают разработку архитектуры нескольких контейнеров, включая масштабирование и скоординированные обновления.

## <a name="potential-scenarios"></a>Возможные сценарии

Хотя интеграция оркестратора с экземплярами контейнеров Azure еще только на начальной стадии, мы ожидаем возникновения нескольких различных сред.

### <a name="orchestration-of-container-instances-exclusively"></a>Монопольная оркестрация экземпляров контейнера

Так как они позволяют быстро начать работу и оплачиваются по секундам, среда, которая основывается исключительно на экземплярах контейнеров Azure, предоставляет самый быстрый способ приступить к работе и обрабатывать крайне изменчивые рабочие нагрузки.

### <a name="combination-of-container-instances-and-containers-in-virtual-machines"></a>Сочетание Экземпляров контейнеров и контейнеров в виртуальных машинах

Для длительных и стабильных рабочих нагрузок оркестрация контейнеров в кластере выделенных виртуальных машин обычно будет дешевле, чем выполнение тех же контейнеров с помощью экземпляров контейнеров. Однако экземпляры контейнеров предлагают эффективное решение для быстрого развертывания и сжатия общей емкости для обработки непредвиденных или кратковременных пиковых нагрузок в использовании. Вместо масштабирования количества виртуальных машин в кластере и развертывания дополнительных контейнеров на этих компьютерах оркестратор может просто составить расписание для добавления контейнеров с помощью Экземпляров контейнеров и удалить их, когда они больше не требуются.

## <a name="sample-implementation-azure-container-instances-connector-for-kubernetes"></a>Пример реализации: соединитель экземпляров контейнеров Azure для Kubernetes

Чтобы показать, как можно интегрировать платформы оркестрации контейнеров с экземплярами контейнеров Azure, мы приступили к созданию [примера соединителя для Kubernetes][aci-connector-k8s].

Соединитель для Kubernetes имитирует [kubelet][kubelet-doc], выполняя регистрацию в качестве узла с неограниченной емкостью, а также подготавливает создание модулей [pod][pod-doc] в качестве групп контейнеров в экземплярах контейнеров Azure.

<!-- ![ACI Connector for Kubernetes][aci-connector-k8s-gif] -->

Вы можете создать соединители для других оркестраторов, которые аналогичным образом интегрируются с примитивами платформы, чтобы сочетать возможности API оркестратора со скоростью и простотой управления контейнерами в экземплярах контейнеров Azure.

> [!WARNING]
> Соединитель ACI для Kubernetes является *экспериментальным* и не должен использоваться в рабочих средах.

## <a name="next-steps"></a>Дополнительная информация

Создайте свой первый контейнер с использованием службы "Экземпляры контейнеров Azure", используя [краткое руководство](container-instances-quickstart.md).

<!-- IMAGES -->
[aci-connector-k8s-gif]: ./media/container-instances-orchestrator-relationship/aci-connector-k8s.gif

<!-- LINKS -->
[aci-connector-k8s]: https://github.com/virtual-kubelet/virtual-kubelet/tree/master/providers/azure
[kubelet-doc]: https://kubernetes.io/docs/admin/kubelet/
[pod-doc]: https://kubernetes.io/docs/concepts/workloads/pods/pod/