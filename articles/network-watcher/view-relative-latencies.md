---
title: "Просмотр относительный задержки для регионов Azure находящихся в определенном месте | Документы Microsoft"
description: "Дополнительные сведения о просмотра относительный задержки между поставщиками Интернет регионах Azure находящихся в определенном месте."
services: network-watcher
documentationcenter: 
author: jimdial
manager: jeconnoc
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 12/14/2017
ms.author: jdial
ms.custom: 
ms.openlocfilehash: a6c2ffa619eeff8b455df8a8b2157525af12c640
ms.sourcegitcommit: 3cdc82a5561abe564c318bd12986df63fc980a5a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/05/2018
---
# <a name="view-relative-latency-to-azure-regions-from-specific-locations"></a>Представление относительной задержки для регионов Azure находящихся в определенном месте

В этом учебнике рассматривается использование Azure [Наблюдатель сети](network-watcher-monitoring-overview.md) службы помогут решить, какие региона Azure для развертывания приложений или служб, зависимости от демографических пользователя. Кроме того его можно использовать для оценки поставщиков услуг подключения к Azure.  
        
## <a name="create-a-network-watcher"></a>Создание Наблюдатель сети

Если уже имеется Наблюдатель сети в Azure по крайней мере один [область](https://azure.microsoft.com/regions), задачи в этом разделе можно пропустить. Создание группы ресурсов для Наблюдатель сети. В этом примере группа ресурсов создается в регионе Восток США, но можно создать группу ресурсов в любом регионе Azure.

```powershell
New-AzureRmResourceGroup -Name NetworkWatcherRG -Location eastus
```

Создайте Наблюдатель сети. Необходимо иметь Наблюдатель сети, созданные в по крайней мере один регион Azure. В этом примере Наблюдатель сети создается в регионе Azure Восток США.

```powershell
New-AzureRmNetworkWatcher -Name NetworkWatcher_eastus -ResourceGroupName NetworkWatcherRG -Location eastus
```

## <a name="compare-relative-network-latencies-to-a-single-azure-region-from-a-specific-location"></a>Сравнение относительных сетевые задержки в одном регионе Azure из конкретного расположения

Оценить поставщиков услуг или устранения неполадок пользователя о проблеме, такие как «сайт был медленно,» из конкретного расположения регион azure, где развернута служба. Например следующая команда возвращает средней задержкой поставщика относительный службы Интернета между штата Вашингтон в США и Западная часть США 2 область Azure между 13 15 декабря 2017 г.:

```powershell
Get-AzureRmNetworkWatcherReachabilityReport `
  -NetworkWatcherName NetworkWatcher_eastus `
  -ResourceGroupName NetworkWatcherRG `
  -Location "West US 2" `
  -Country "United States" `
  -State "washington" `
  -StartTime "2017-12-13" `
  -EndTime "2017-12-15"
```

> [!NOTE]
> Регион, указываемые в предыдущей команде не обязательно должно быть таким же, как области, которую вы указали при извлечении Наблюдатель сети. Предыдущая команда просто необходимо указать существующий Наблюдатель сети. Наблюдатель сети могут находиться в любом регионе. При указании значения для `-Country` и `-State`, должен быть допустимым. Значения, с учетом регистра. Данные будут доступны для ограниченного количества стран, штатов и городов. Выполните команды [Просмотр доступных стран, штатов, городов и поставщики](#view-available) для просмотра списка доступных стран, города и состояний для предыдущей команды. 

> [!WARNING]
> Необходимо указать дату после 14 ноября 2017 г. для `-StartTime` и `-EndTime`. Указания даты до 14 ноября 2017 г. не возвращает никаких данных. 

Выходные данные предыдущей команды выглядит следующим образом:

```powershell
AggregationLevel   : State
ProviderLocation   : {
                       "Country": "United States",
                       "State": "washington"
                     }
ReachabilityReport : [
                       {
                         "Provider": "Qwest Communications Company, LLC - ASN 209",
                         "AzureLocation": "West US 2",
                         "Latencies": [
                           {
                             "TimeStamp": "2017-12-14T00:00:00Z",
                             "Score": 92
                           },
                           {
                             "TimeStamp": "2017-12-13T00:00:00Z",
                             "Score": 92
                           }
                         ]
                       },
                       {
                         "Provider": "Comcast Cable Communications, LLC - ASN 7922",
                         "AzureLocation": "West US 2",
                         "Latencies": [
                           {
                             "TimeStamp": "2017-12-14T00:00:00Z",
                             "Score": 96
                           },
                           {
                             "TimeStamp": "2017-12-13T00:00:00Z",
                             "Score": 96
                           }
                         ]
                       }
                     ]
```

В выходных данных возвращаемого значения для **Оценка** является относительной задержки в областях или поставщиков. Показатель 1 — худший (наивысшая) задержка, то время как 100 является наименьшим значением задержки. Относительный задержек, Усредненное за день. В предыдущем примере хотя ясно, задержек в результате выполнения обоих дней, и что существует небольшое различие между задержки двух поставщиков, также позволяет понять задержки для обоих поставщиков они низкий в масштабе 1-100. Хотя это ожидалось, поскольку штата Вашингтон в Соединенных Штатах физически близок к Западная часть США 2 область Azure, иногда результаты не являются должным образом. Укажите больший диапазон дат, тем более среднее время задержки со временем.

## <a name="compare-relative-network-latencies-across-azure-regions-from-a-specific-location"></a>Сравнение разных регионах Azure из конкретного расположения относительный сетевые задержки

Если вместо указания относительного задержек между определенным элементом и в определенном регионе Azure с помощью `-Location`, требуется определить относительный задержек все регионы Azure из конкретного физического расположения, это можно сделать слишком. Например следующая команда позволяет оценить, какие регион azure для развертывания службы в, если основной они Comcast пользователей в штате Вашингтон:

```powershell
Get-AzureRmNetworkWatcherReachabilityReport `
  -NetworkWatcherName NetworkWatcher_eastus `
  -ResourceGroupName NetworkWatcherRG `
  -Provider "Comcast Cable Communications, LLC - ASN 7922" `
  -Country "United States" `
  -State "washington" `
  -StartTime "2017-12-13" `
  -EndTime "2017-12-15"
```

>[!NOTE]
В отличие от при указании одного расположения, если не указать расположение, или указать несколько расположений, таких как «Западная US2», «West US», необходимо указать поставщика услуг Интернета при выполнении команды. 

## <a name="view-available"></a>Просмотр доступных стран, штатов, городов и поставщиков

Данные недоступны для определенных поставщиков услуг Интернета, стран, состояния и городов. Чтобы просмотреть список всех доступных поставщиков услуг Интернета, страны, штатов и городов, которые могут просматривать данные, введите следующую команду:

```powershell
Get-AzureRmNetworkWatcherReachabilityProvidersList -NetworkWatcherName NetworkWatcher_eastus -ResourceGroupName NetworkWatcherRG
```

Данные только доступны для стран, штатов и городов, возвращенный предыдущей команды. Предыдущая команда необходимо указать существующий Наблюдатель сети. Пример, который указан *NetworkWatcher_eastus* Наблюдатель сети в группе ресурсов с именем *NetworkWatcherRG*, но можно указать любой существующий Наблюдатель сети. Если у вас нет существующих Наблюдатель сети, создайте его путем выполнения этих задач в [создать Наблюдатель сети](#create-a-network-watcher). 

После выполнения предыдущей команды, можно отфильтровать данные, возвращаемые, указав допустимые значения для **страны**, **состояние**, и **Город**при необходимости.  Например чтобы просмотреть список поставщиков услуг Интернета в Сиэтле, штат Вашингтон, США, введите следующую команду:

```powershell
Get-AzureRmNetworkWatcherReachabilityProvidersList `
  -NetworkWatcherName NetworkWatcher_eastus `
  -ResourceGroupName NetworkWatcherRG `
  -City seattle `
  -Country "United States" `
  -State washington
```

> [!WARNING]
> Значение, указанное для **страны** должно быть в верхнем и нижнем регистре. Значения, указанные для **состояние** и **Город** должны быть строчными. Значения должны быть перечислены в выходные данные, возвращаемые после выполнения команды без значений для **страны**, **состояние**, и **Город**. Если указать неверный регистр, или укажите значение для **страны**, **состояние**, или **Город** , не находится в выходные данные, возвращаемые после выполнения команды без значений для этих свойства, данные, возвращенные пуст.
