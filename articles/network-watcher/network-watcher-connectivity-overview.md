---
title: "Возврат tooconnectivity aaaIntroduction Наблюдатель сети Azure | Документы Microsoft"
description: "Эта страница содержит краткую hello Наблюдатель сети возможностям подключения"
services: network-watcher
documentationcenter: na
author: georgewallace
manager: timlt
editor: 
ms.service: network-watcher
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/11/2017
ms.author: gwallace
ms.openlocfilehash: 52fc4547f167cea2992a046859dc0550d136e80d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="introduction-tooconnectivity-check-in-azure-network-watcher"></a><span data-ttu-id="2fcc8-103">Возврат tooconnectivity введение Наблюдатель сети Azure</span><span class="sxs-lookup"><span data-stu-id="2fcc8-103">Introduction tooconnectivity check in Azure Network Watcher</span></span>

<span data-ttu-id="2fcc8-104">Hello подключения компонент Наблюдатель сети предоставляет возможность toocheck hello прямое подключение TCP от виртуальной машины tooa виртуальной машины (VM), полное доменное имя (FQDN), URI, или IPv4-адрес.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-104">hello connectivity feature of Network Watcher provides hello capability toocheck a direct TCP connection from a virtual machine tooa virtual machine (VM), fully qualified domain name (FQDN), URI, or IPv4 address.</span></span> <span data-ttu-id="2fcc8-105">Сетевые сценарии сложные. Они реализуются с помощью групп безопасности сети, брандмауэров, определяемых пользователем маршрутов и ресурсов, предоставляемых Azure.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-105">Network scenarios are complex, they are implemented using Network Security Groups, firewalls, User-defined routes, and resources provided by Azure.</span></span> <span data-ttu-id="2fcc8-106">Сложные конфигурации делают устранение неполадок, связанных с подключением, непростой задачей.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-106">Complex configurations make troubleshooting connectivity issues challenging.</span></span> <span data-ttu-id="2fcc8-107">Наблюдатель сети помогает уменьшить объем hello toofind времени и обнаружить проблемы с подключением.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-107">Network Watcher helps reduce hello amount of time toofind and detect connectivity issues.</span></span> <span data-ttu-id="2fcc8-108">Возвращенные результаты Hello можно получить представление о ли проблема с подключением — из-за tooa платформы или неполадку конфигурации пользователя.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-108">hello results returned can provide insights into whether a connectivity issue is due tooa platform or a user configuration issue.</span></span> <span data-ttu-id="2fcc8-109">Подключение можно проверить с помощью [PowerShell](network-watcher-connectivity-powershell.md), [Azure CLI](network-watcher-connectivity-cli.md) и [REST API](network-watcher-connectivity-rest.md).</span><span class="sxs-lookup"><span data-stu-id="2fcc8-109">Connectivity can be checked with [PowerShell](network-watcher-connectivity-powershell.md), [Azure CLI](network-watcher-connectivity-cli.md), and [REST API](network-watcher-connectivity-rest.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2fcc8-110">Для проверки возможности подключения требуется расширение виртуальной машины `AzureNetworkWatcherExtension`.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-110">Connectivity check requires a virtual machine extension `AzureNetworkWatcherExtension`.</span></span> <span data-ttu-id="2fcc8-111">Установка расширения hello на виртуальной Машине Windows на сайте [расширение виртуальной машины агента Наблюдатель сети Azure для Windows](../virtual-machines/windows/extensions-nwa.md) и виртуальной Машине Linux см. по адресу [расширение виртуальной машины агента Наблюдатель сети Azure для Linux](../virtual-machines/linux/extensions-nwa.md).</span><span class="sxs-lookup"><span data-stu-id="2fcc8-111">For installing hello extension on a Windows VM visit [Azure Network Watcher Agent virtual machine extension for Windows](../virtual-machines/windows/extensions-nwa.md) and for Linux VM visit [Azure Network Watcher Agent virtual machine extension for Linux](../virtual-machines/linux/extensions-nwa.md).</span></span>

## <a name="response"></a><span data-ttu-id="2fcc8-112">Ответ</span><span class="sxs-lookup"><span data-stu-id="2fcc8-112">Response</span></span>

<span data-ttu-id="2fcc8-113">Привет, в следующей таблице показаны свойства hello, возвращается, если проверка возможности подключения завершила выполнение.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-113">hello following table shows hello properties returned when a connectivity check has finished running.</span></span>

|<span data-ttu-id="2fcc8-114">Свойство</span><span class="sxs-lookup"><span data-stu-id="2fcc8-114">Property</span></span>  |<span data-ttu-id="2fcc8-115">Описание</span><span class="sxs-lookup"><span data-stu-id="2fcc8-115">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="2fcc8-116">ConnectionStatus</span><span class="sxs-lookup"><span data-stu-id="2fcc8-116">ConnectionStatus</span></span>     | <span data-ttu-id="2fcc8-117">состояние проверки подключения hello Hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-117">hello status of hello connectivity check.</span></span> <span data-ttu-id="2fcc8-118">Возможные результаты: **Reachable** и **Unreachable**.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-118">Possible results are **Reachable** and **Unreachable**.</span></span>        |
|<span data-ttu-id="2fcc8-119">AvgLatencyInMs</span><span class="sxs-lookup"><span data-stu-id="2fcc8-119">AvgLatencyInMs</span></span>     | <span data-ttu-id="2fcc8-120">Среднее время задержки при проверке подключения hello в миллисекундах.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-120">Average latency during hello connectivity check in milliseconds.</span></span> <span data-ttu-id="2fcc8-121">(Возвращается, только если подключение доступно.)</span><span class="sxs-lookup"><span data-stu-id="2fcc8-121">(Only shown if check status is reachable)</span></span>        |
|<span data-ttu-id="2fcc8-122">MinLatencyInMs</span><span class="sxs-lookup"><span data-stu-id="2fcc8-122">MinLatencyInMs</span></span>     | <span data-ttu-id="2fcc8-123">Проверка минимальной задержке во время подключения hello миллисекунд.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-123">Minimum latency during hello connectivity check in milliseconds.</span></span> <span data-ttu-id="2fcc8-124">(Возвращается, только если подключение доступно.)</span><span class="sxs-lookup"><span data-stu-id="2fcc8-124">(Only shown if check status is reachable)</span></span>        |
|<span data-ttu-id="2fcc8-125">MaxLatencyInMs</span><span class="sxs-lookup"><span data-stu-id="2fcc8-125">MaxLatencyInMs</span></span>     | <span data-ttu-id="2fcc8-126">Максимальное значение задержки во время подключения hello Проверьте в миллисекундах.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-126">Maximum latency during hello connectivity check in milliseconds.</span></span> <span data-ttu-id="2fcc8-127">(Возвращается, только если подключение доступно.)</span><span class="sxs-lookup"><span data-stu-id="2fcc8-127">(Only shown if check status is reachable)</span></span>        |
|<span data-ttu-id="2fcc8-128">ProbesSent</span><span class="sxs-lookup"><span data-stu-id="2fcc8-128">ProbesSent</span></span>     | <span data-ttu-id="2fcc8-129">Число проб, отправленных во время проверки hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-129">Number of probes sent during hello check.</span></span> <span data-ttu-id="2fcc8-130">Максимальное значение — 100.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-130">Max value is 100.</span></span>        |
|<span data-ttu-id="2fcc8-131">ProbesFailed</span><span class="sxs-lookup"><span data-stu-id="2fcc8-131">ProbesFailed</span></span>     | <span data-ttu-id="2fcc8-132">Число проб, не прошедшие проверку hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-132">Number of probes that failed during hello check.</span></span> <span data-ttu-id="2fcc8-133">Максимальное значение — 100.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-133">Max value is 100.</span></span>        |
|<span data-ttu-id="2fcc8-134">Hops</span><span class="sxs-lookup"><span data-stu-id="2fcc8-134">Hops</span></span>     | <span data-ttu-id="2fcc8-135">Прыжок путем перехода из toodestination источника.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-135">Hop by hop path from source toodestination.</span></span>        |
|<span data-ttu-id="2fcc8-136">Hops[].Type</span><span class="sxs-lookup"><span data-stu-id="2fcc8-136">Hops[].Type</span></span>     | <span data-ttu-id="2fcc8-137">Тип ресурса.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-137">Type of resource.</span></span> <span data-ttu-id="2fcc8-138">Возможные значения: **Source**, **VirtualAppliance**, **VnetLocal** и **Internet**.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-138">Possible values are **Source**, **VirtualAppliance**, **VnetLocal**, and **Internet**.</span></span>        |
|<span data-ttu-id="2fcc8-139">Hops[].Id</span><span class="sxs-lookup"><span data-stu-id="2fcc8-139">Hops[].Id</span></span> | <span data-ttu-id="2fcc8-140">Уникальный идентификатор hello прыжка.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-140">Unique identifier of hello hop.</span></span>|
|<span data-ttu-id="2fcc8-141">Hops[].Address</span><span class="sxs-lookup"><span data-stu-id="2fcc8-141">Hops[].Address</span></span> | <span data-ttu-id="2fcc8-142">IP-адрес прыжка hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-142">IP address of hello hop.</span></span>|
|<span data-ttu-id="2fcc8-143">Hops[].ResourceId</span><span class="sxs-lookup"><span data-stu-id="2fcc8-143">Hops[].ResourceId</span></span> | <span data-ttu-id="2fcc8-144">ResourceID прыжка hello, если hello прыжка — это ресурс Azure.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-144">ResourceID of hello hop if hello hop is an Azure resource.</span></span> <span data-ttu-id="2fcc8-145">Если это ресурс интернета, ResourceID — это **Интернет**.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-145">If it is an internet resource, ResourceID is **Internet**.</span></span> |
|<span data-ttu-id="2fcc8-146">Hops[].NextHopIds</span><span class="sxs-lookup"><span data-stu-id="2fcc8-146">Hops[].NextHopIds</span></span> | <span data-ttu-id="2fcc8-147">Hello уникальный идентификатор следующего прыжка hello выполнены.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-147">hello unique identifier of hello next hop taken.</span></span>|
|<span data-ttu-id="2fcc8-148">Hops[].Issues</span><span class="sxs-lookup"><span data-stu-id="2fcc8-148">Hops[].Issues</span></span> | <span data-ttu-id="2fcc8-149">Коллекция проблемы, возникшие во время проверки hello при перехода.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-149">A collection of issues that were encountered during hello check at that hop.</span></span> <span data-ttu-id="2fcc8-150">Если возникли проблемы отсутствуют, hello значение пусто.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-150">If there were no issues, hello value is blank.</span></span>|
|<span data-ttu-id="2fcc8-151">Hops[].Issues[].Origin</span><span class="sxs-lookup"><span data-stu-id="2fcc8-151">Hops[].Issues[].Origin</span></span> | <span data-ttu-id="2fcc8-152">В hello текущий этап, где возникла проблема.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-152">At hello current hop, where issue occurred.</span></span> <span data-ttu-id="2fcc8-153">Возможные значения:</span><span class="sxs-lookup"><span data-stu-id="2fcc8-153">Possible values are:</span></span><br/> <span data-ttu-id="2fcc8-154">**Входящий** -вызвано hello ссылку из hello предыдущих прыжка toohello текущего перехода</span><span class="sxs-lookup"><span data-stu-id="2fcc8-154">**Inbound** - Issue is on hello link from hello previous hop toohello current hop</span></span><br/><span data-ttu-id="2fcc8-155">**Исходящие** -вызвано hello ссылку из hello текущего прыжка toohello следующего прыжка</span><span class="sxs-lookup"><span data-stu-id="2fcc8-155">**Outbound** - Issue is on hello link from hello current hop toohello next hop</span></span><br/><span data-ttu-id="2fcc8-156">**Локальный** -проблема находится на текущей прыжка hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-156">**Local** - Issue is on hello current hop.</span></span>|
|<span data-ttu-id="2fcc8-157">Hops[].Issues[].Severity</span><span class="sxs-lookup"><span data-stu-id="2fcc8-157">Hops[].Issues[].Severity</span></span> | <span data-ttu-id="2fcc8-158">Серьезность обнаруженной проблеме hello Hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-158">hello severity of hello issue detected.</span></span> <span data-ttu-id="2fcc8-159">Возможные значения: **Error** и **Warning**.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-159">Possible values are **Error** and **Warning**.</span></span> |
|<span data-ttu-id="2fcc8-160">Hops[].Issues[].Type</span><span class="sxs-lookup"><span data-stu-id="2fcc8-160">Hops[].Issues[].Type</span></span> |<span data-ttu-id="2fcc8-161">Тип Hello обнаружена проблема.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-161">hello type of issue found.</span></span> <span data-ttu-id="2fcc8-162">Возможные значения:</span><span class="sxs-lookup"><span data-stu-id="2fcc8-162">Possible values are:</span></span> <br/><span data-ttu-id="2fcc8-163">**ЦП**</span><span class="sxs-lookup"><span data-stu-id="2fcc8-163">**CPU**</span></span><br/><span data-ttu-id="2fcc8-164">**Память**</span><span class="sxs-lookup"><span data-stu-id="2fcc8-164">**Memory**</span></span><br/><span data-ttu-id="2fcc8-165">**GuestFirewall**</span><span class="sxs-lookup"><span data-stu-id="2fcc8-165">**GuestFirewall**</span></span><br/><span data-ttu-id="2fcc8-166">**DnsResolution**</span><span class="sxs-lookup"><span data-stu-id="2fcc8-166">**DnsResolution**</span></span><br/><span data-ttu-id="2fcc8-167">**NetworkSecurityRule**</span><span class="sxs-lookup"><span data-stu-id="2fcc8-167">**NetworkSecurityRule**</span></span><br/><span data-ttu-id="2fcc8-168">**UserDefinedRoute**</span><span class="sxs-lookup"><span data-stu-id="2fcc8-168">**UserDefinedRoute**</span></span> |
|<span data-ttu-id="2fcc8-169">Hops[].Issues[].Context</span><span class="sxs-lookup"><span data-stu-id="2fcc8-169">Hops[].Issues[].Context</span></span> |<span data-ttu-id="2fcc8-170">Сведения о обнаружена проблема hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-170">Details regarding hello issue found.</span></span>|
|<span data-ttu-id="2fcc8-171">Hops[].Issues[].Context[].key</span><span class="sxs-lookup"><span data-stu-id="2fcc8-171">Hops[].Issues[].Context[].key</span></span> |<span data-ttu-id="2fcc8-172">Возвращаемый ключ из пары ключей значение hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-172">Key of hello key value pair returned.</span></span>|
|<span data-ttu-id="2fcc8-173">Hops[].Issues[].Context[].value</span><span class="sxs-lookup"><span data-stu-id="2fcc8-173">Hops[].Issues[].Context[].value</span></span> |<span data-ttu-id="2fcc8-174">Возвращаемое значение из пары ключей значение hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-174">Value of hello key value pair returned.</span></span>|

<span data-ttu-id="2fcc8-175">Hello ниже приведен пример проблеме, обнаруженной при пересылке.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-175">hello following is an example of an issue found on a hop.</span></span>

```json
"Issues": [
    {
        "Origin": "Outbound",
        "Severity": "Error",
        "Type": "NetworkSecurityRule",
        "Context": [
            {
                "key": "RuleName",
                "value": "UserRule_Port80"
            }
        ]
    }
]
```
## <a name="fault-types"></a><span data-ttu-id="2fcc8-176">Типы ошибок</span><span class="sxs-lookup"><span data-stu-id="2fcc8-176">Fault types</span></span>

<span data-ttu-id="2fcc8-177">Проверка возможности подключения Hello возвращает типы ошибку о подключении hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-177">hello connectivity check returns fault types about hello connection.</span></span> <span data-ttu-id="2fcc8-178">Hello следующей таблице приведен список типов hello текущей ошибки возвращаются.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-178">hello following table provides a list of hello current fault types returned.</span></span>

|<span data-ttu-id="2fcc8-179">Тип</span><span class="sxs-lookup"><span data-stu-id="2fcc8-179">Type</span></span>  |<span data-ttu-id="2fcc8-180">Описание</span><span class="sxs-lookup"><span data-stu-id="2fcc8-180">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="2fcc8-181">ЦП</span><span class="sxs-lookup"><span data-stu-id="2fcc8-181">CPU</span></span>     | <span data-ttu-id="2fcc8-182">Высокая загрузка ЦП.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-182">High CPU utilization.</span></span>       |
|<span data-ttu-id="2fcc8-183">Память</span><span class="sxs-lookup"><span data-stu-id="2fcc8-183">Memory</span></span>     | <span data-ttu-id="2fcc8-184">Высокий уровень использования памяти.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-184">High Memory utilization.</span></span>       |
|<span data-ttu-id="2fcc8-185">GuestFirewall</span><span class="sxs-lookup"><span data-stu-id="2fcc8-185">GuestFirewall</span></span>     | <span data-ttu-id="2fcc8-186">Трафик блокируется из-за конфигурации брандмауэра tooa виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-186">Traffic is blocked due tooa virtual machine firewall configuration.</span></span>        |
|<span data-ttu-id="2fcc8-187">DnsResolution</span><span class="sxs-lookup"><span data-stu-id="2fcc8-187">DNSResolution</span></span>     | <span data-ttu-id="2fcc8-188">Сбой разрешения DNS для адреса назначения hello.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-188">DNS resolution failed for hello destination address.</span></span>        |
|<span data-ttu-id="2fcc8-189">NetworkSecurityRule</span><span class="sxs-lookup"><span data-stu-id="2fcc8-189">NetworkSecurityRule</span></span>    | <span data-ttu-id="2fcc8-190">Трафик блокируется правилом группы безопасности сети (возвращается правило).</span><span class="sxs-lookup"><span data-stu-id="2fcc8-190">Traffic is blocked by an NSG Rule (Rule is returned)</span></span>        |
|<span data-ttu-id="2fcc8-191">UserDefinedRoute</span><span class="sxs-lookup"><span data-stu-id="2fcc8-191">UserDefinedRoute</span></span>|<span data-ttu-id="2fcc8-192">Трафик удаляется из-за определенные пользователем tooa или маршрут системы.</span><span class="sxs-lookup"><span data-stu-id="2fcc8-192">Traffic is dropped due tooa user defined or system route.</span></span> |

### <a name="next-steps"></a><span data-ttu-id="2fcc8-193">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="2fcc8-193">Next steps</span></span>

<span data-ttu-id="2fcc8-194">Узнайте, как ресурс tooa подключения к tooverify, посетив: [проверки связи с Наблюдатель сети Azure](network-watcher-connectivity-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="2fcc8-194">Learn how tooverify connectivity tooa resource by visiting: [Check connectivity with Azure Network Watcher](network-watcher-connectivity-powershell.md).</span></span>

<!--Image references-->
[1]: ./media/network-watcher-next-hop-overview/figure1.png

