---
title: "aaaHandling порядок событий и просрочка с Azure Stream Analytics | Документы Microsoft"
description: "Узнайте об обработке неупорядоченных или поздних событий в потоках данных Stream Analytics."
keywords: "не по порядку, поздний, события"
documentationcenter: 
services: stream-analytics
author: jeffstokes72
manager: jhubbard
editor: cgronlun
ms.assetid: 
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 04/20/2017
ms.author: jeffstok
ms.openlocfilehash: 87c028662fbafbf4f72f57f215d017f65bb649f0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-stream-analytics-event-order-handling"></a>Обработка порядка событий Azure Stream Analytics

В потоке темпоральных данных событий регистрируется каждого события с временем hello получении hello события. Для некоторых условий может привести к toooccasionally получать потоки событий некоторые события в другом порядке, чем та, которую они были отправлены. Простые TCP повторной или даже Отклонение времени между отправкой устройства и получение концентратора событий hello hello может привести к этой toooccur. События «Пунктуация» также добавляются tooreceived потоков событий, время tooadvance hello в отсутствие поступлений hello. Это нужно в сценариях типа "Уведомить меня, если операция входа не выполняется в течение 3 минут".

С неупорядоченными входными потоками происходит одно из следующих событий:
* сортировка (и, следовательно, **удаление**);
* Выровнен по hello системы, в соответствии с tooa пользовательской политики.


## <a name="lateness-tolerance"></a>Допуск по просрочке
Stream Analytics допускает такие типы сценариев. В этой службе предусмотрены механизмы обработки неупорядоченных и поздних событий. Он обрабатывает эти события в hello следующих способов:

* События, которые не по порядку, но в пределах hello задайте допустимые значения: **переупорядочить по отметкам времени**.
* События, поступающие позже допустимого, **удаляются или корректируются**.
    * **Скорректировать**: toohave скорректированное tooappear достигают hello последние допустимого времени.
    * **Удаление** предполагает удаление.

![Обработка событий Stream Analytics](media/stream-analytics-event-handling/stream-analytics-event-handling.png)

## <a name="reduce-hello-number-of-out-of-order-events"></a>Сократите число hello ожидания неупорядоченных событий

Так как при обработке входящих событий Stream Analytics применяет временное преобразование (например, агрегаты данных на основе периодов времени или временные соединения), они сортируются в порядке метки времени.

Ключевое слово hello «метка времени,» при **не** используется, по умолчанию используется время постановки в очередь событий концентраторов событий Azure hello. Концентраторы событий гарантирует монотонности из hello метка времени для каждой секции концентратора событий hello. а также объединение событий из всех разделов в порядке метки времени. Благодаря этому обеспечивается отсутствие неупорядоченных событий.

В некоторых случаях важно для вас toouse hello отправителя меток времени. В этом случае отметки времени из полезных данных события hello выбирается с помощью «метка времени,». В этих сценариях может появиться несколько источников неупорядоченных событий:

* Часы поставщиков событий рассинхронизированы. Обычно это происходит, если используются поставщики с разных компьютеров с разными часами.
* Возникает задержка сети из источника hello hello события toohello назначения события концентратора.
* Часы разделов концентратора событий рассинхронизированы. Сначала Stream Analytics сортирует события из всех разделов концентратора событий по времени постановки события в очередь. Затем он проверяет hello потока данных для событий с неправильным порядком расположения.

На вкладке настройки hello вы видите hello следующие значения по умолчанию:

![Обработка неупорядоченных событий в Stream Analytics](media/stream-analytics-event-handling/stream-analytics-out-of-order-handling.png)

При использовании окна out заказах hello 0 секунд вы утверждаете, что все события отображаются в порядке все время hello. Имея hello три источника событий с неправильным порядком расположения, маловероятно, что это значение равно true. 

toocorrect Stream Analytics tooallow misorder событий, можно указать ненулевой из внеочередной временной интервал. Stream Analytics буферизацию событий вверх toothat окон, а затем Дозаказы их с помощью hello отметки времени, выбранный. Затем он применяет преобразование во времени hello. Можно запустить с помощью окна 3 секунды, а также настроить hello значение tooreduce hello число событий, которые корректируются по времени. 

Побочным эффектом буферизации hello является выходной hello **задержан hello же время**. Можно настроить hello значение tooreduce hello число из неупорядоченные события и свести задержку задания hello.

## <a name="get-help"></a>Получение справки
Дополнительную помощь вы можете получить на нашем [форуме Azure Stream Analytics](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).

## <a name="next-steps"></a>Дальнейшие действия
* [Введение tooStream аналитика](stream-analytics-introduction.md)
* [Приступая к работе с Azure Stream Analytics: выявление мошенничества в режиме реального времени](stream-analytics-real-time-fraud-detection.md)
* [Масштабирование заданий Azure Stream Analytics для повышения пропускной способности базы данных](stream-analytics-scale-jobs.md)
* [Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) (Справочник по языку запросов Stream Analytics)
* [Stream Analytics management REST API reference](https://msdn.microsoft.com/library/azure/dn835031.aspx) (Справочник по API-интерфейсу REST для управления Stream Analytics)