---
title: "Тестовый выпуск включенного веб-приложения Azure AD B2C | Документация Майкрософт"
description: "Протестируйте вход, регистрацию, изменение профиля и сброс пароля с помощью тестовой среды Azure AD B2C"
services: active-directory-b2c
documentationcenter: .net
author: saraford
manager: mtillman
editor: PatAltimore
ms.assetid: 2ffb780d-2c51-4c2e-b8d6-39c40a81a77e
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 10/31/2017
ms.author: patricka
ms.openlocfilehash: bc56da695145f396a2899fb9dc7add3af9a549e8
ms.sourcegitcommit: e266df9f97d04acfc4a843770fadfd8edf4fa2b7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/11/2017
---
# <a name="test-drive-an-azure-ad-b2c-enabled-web-app"></a>Тестовый выпуск включенного веб-приложения Azure AD B2C

Azure Active Directory B2C обеспечивает управление идентификаторами облака для защиты приложения, бизнеса и клиентов. В этом кратком руководстве используется пример приложения списка текущих дел, чтобы продемонстрировать следующее:

> [!div class="checklist"]
> * вход в систему с пользовательской страницы входа;
> * регистрация с помощью поставщика удостоверений в социальных сетях;
> * создание учетной записи и профиля пользователя Azure AD B2C и управление ими;
> * вызов веб-API, защищенного Azure AD B2C.

## <a name="prerequisites"></a>Технические условия

* [Visual Studio 2017](https://www.visualstudio.com/downloads/) с рабочей нагрузкой **ASP.NET и веб-разработка**. 
* Учетная запись социальных сетей Facebook, Google, Microsoft или Twitter.

[!INCLUDE [quickstarts-free-trial-note](../../includes/quickstarts-free-trial-note.md)]

## <a name="download-the-sample"></a>Скачивание примера приложения

[Скачайте или клонируйте образец приложения](https://github.com/Azure-Samples/active-directory-b2c-dotnet-webapp-and-webapi) из GitHub.

## <a name="run-the-app-in-visual-studio"></a>Запуск приложения в Visual Studio

В папке проекта образца приложения откройте решение `B2C-WebAPI-DotNet.sln` в Visual Studio. 

Решение представляет собой пример приложения списка дел, состоящего из двух проектов:

* **TaskWebApp** — веб-приложение ASP.NET MVC, в котором пользователь может управлять элементами списка дел.  
* **TaskService** — серверная часть веб-API ASP.NET, которая управляет операциями, выполненными в элементах списка дел пользователя. Веб-приложение вызывает этот веб-API и отображает результаты.

Для этого краткого руководства необходимо одновременно выполнить проекты `TaskWebApp` и `TaskService`. 

1. В меню Visual Studio выберите **Проекты > Назначить запускаемые проекты...** 
2. Выберите переключатель **Multiple startup projects** (Несколько запускаемых проектов).
3. Установите **Запуск** в качестве **действия** для обоих проектов. Последовательно выберите **ОК**.

![Назначение начальной страницы в Visual Studio](media/active-directory-b2c-quickstarts-web-app/setup-startup-projects.png)

Выберите **Debug > Start Debugging** (Отладка > Начать отладку), чтобы выполнить сборку и запустить оба приложения. Каждое приложение открывается в отдельной вкладке браузера.

`https://localhost:44316/` — эта страница является веб-приложением ASP.NET. В этом кратком руководстве вы работаете непосредственно с этим приложением.
`https://localhost:44332/` — эта страница является веб-API, который вызывается веб-приложением ASP.NET.

## <a name="create-an-account"></a>Создание учетной записи

Нажмите ссылку **Sign up / Sign in** (Вход / Регистрация) в веб-приложении ASP.NET, чтобы запустить рабочий процесс **регистрации или входа**. При создании учетной записи можно использовать имеющуюся учетную запись поставщика удостоверений в социальных сетях или учетную запись электронной почты. В рамках этого краткого руководства используется учетная запись поставщика удостоверений в социальных сетях (Facebook, Google, Microsoft или Twitter).

![Образец веб-приложения ASP.NET](media/active-directory-b2c-quickstarts-web-app/web-app-sign-in.png)

### <a name="sign-up-using-a-social-identity-provider"></a>Регистрация с помощью поставщика удостоверений в социальных сетях

Чтобы зарегистрироваться с помощью поставщика удостоверений в социальных сетях, нажмите кнопку поставщика удостоверений, которого нужно использовать. 

![Поставщик входа или регистрации](media/active-directory-b2c-quickstarts-web-app/sign-in-or-sign-up-web.png)

В этом случае необходимо выполнить аутентификацию (вход) с помощью данных учетной записи социальных сетей и авторизовать приложение для чтения информации из учетной записи социальных сетей. Предоставляя доступ, приложение может получить сведения о профиле из учетной записи социальных сетей (например, имя и город). 

Завершите процесс входа для поставщика удостоверений. Например, если вы выбрали Twitter, введите свои учетные данные Twitter и нажмите кнопку **Sign in** (Войти).

![Аутентификация и авторизация с помощью учетной записи социальных сетей](media/active-directory-b2c-quickstarts-web-app/twitter-authenticate-authorize-web.png)

Сведения о профиле новой учетной записи Azure AD B2C будут заполнены информацией из учетной записи социальных сетей.

Обновите поля "Отображаемое имя", "Должность" и "Город" и щелкните **Продолжить**.  Введенные значения используются для профиля учетной записи пользователя Azure AD B2C.

![Сведения о новом профиле регистрации учетной записи](media/active-directory-b2c-quickstarts-web-app/new-account-sign-up-profile-details-web.png)

Вы успешно:

> [!div class="checklist"]
> * прошли проверку подлинности с помощью поставщика удостоверений;
> * создали учетную запись пользователя Azure AD B2C. 

## <a name="edit-your-profile"></a>Изменение профиля

Azure Active Directory B2C предоставляет функциональные возможности, обеспечивающие пользователям возможность обновления профилей. В строке меню веб-приложения, щелкните имя профиля и выберите **Edit profile** (Изменить профиль), чтобы изменить созданный профиль.

![Изменение профиля](media/active-directory-b2c-quickstarts-web-app/edit-profile-web.png)

Измените **отображаемое имя** и **город**.  Нажмите кнопку **Продолжить**, чтобы обновить профиль.

![Обновить профиль](media/active-directory-b2c-quickstarts-web-app/update-profile-web.png)

Обратите внимание, что отображаемое имя в верхней правой части страницы обновляется. 

## <a name="access-a-secured-web-api-resource"></a>Доступ к защищенным ресурсам веб-API

Щелкните **To-Do List** (Список дел), чтобы ввести и изменить элементы списка дел. Веб-приложение ASP.NET включает в себя маркер доступа в запросе к ресурсу веб-API на разрешение выполнения операций с элементами списка дел пользователя. 

Введите текст в текстовое поле **New Item** (Создать элемент). Щелкните **Добавить**, чтобы вызвать защищенный веб-API Azure AD B2C, добавляющий элемент списка дел.

![Добавление элемента списка дел](media/active-directory-b2c-quickstarts-web-app/add-todo-item-web.png)

Вы успешно использовали свою учетную запись пользователя Azure AD B2C, чтобы выполнить авторизованный вызов защищенного веб-API Azure AD B2C.

## <a name="next-steps"></a>Дальнейшие действия

Образец, используемый в этом кратком руководстве, можно применять для других сценариев Azure AD B2C, включая:

* создание локальной учетной записи с помощью адреса электронной почты;
* сброс пароля локальной учетной записи.

Если вы готовы приступить к созданию клиента Azure AD B2C Azure AD B2C и настройке образца для запуска с помощью собственного клиента, изучите следующее руководство.

> [!div class="nextstepaction"]
> [Создание веб-приложения ASP.NET с возможностями регистрации, входа, редактирования профиля и сброса пароля Azure Active Directory B2C](active-directory-b2c-devquickstarts-web-dotnet-susi.md)