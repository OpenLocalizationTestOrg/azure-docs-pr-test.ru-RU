---
title: "Azure Active Directory B2C. Одностраничные приложения, использующие неявный поток | Документация Майкрософт"
description: "Узнайте, как toobuild одностраничного приложения непосредственно с помощью OAuth 2.0 неявного потока с Azure Active Directory B2C."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 5e52abc18fe545f0f6d1745cdb2ea42c5b2698cc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="6c137-103">Azure AD B2C. Вход в одностраничные приложения с помощью неявного потока OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="6c137-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="6c137-104">Эта функция предоставляется в предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="6c137-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="6c137-105">Многие современные приложения содержат интерфейсное одностраничное приложение, созданное преимущественно на языке JavaScript.</span><span class="sxs-lookup"><span data-stu-id="6c137-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="6c137-106">Часто приложение hello записывается с помощью платформы наподобие AngularJS, Ember.js или Durandal.</span><span class="sxs-lookup"><span data-stu-id="6c137-106">Often, hello app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="6c137-107">При аутентификации одностраничные и другие приложения JavaScript, которые запускаются в основном в браузере, сталкиваются с некоторыми дополнительными проблемами:</span><span class="sxs-lookup"><span data-stu-id="6c137-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="6c137-108">Hello характеристики безопасности этих приложений, значительно отличаются от традиционных серверных веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="6c137-108">hello security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="6c137-109">Многие серверы авторизации и поставщики удостоверений не поддерживают запросы на общий доступ к ресурсам независимо от источника (CORS).</span><span class="sxs-lookup"><span data-stu-id="6c137-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="6c137-110">Перенаправления браузера полностраничном вне приложение hello может быть значительно вмешивается в работу toohello взаимодействие с пользователем.</span><span class="sxs-lookup"><span data-stu-id="6c137-110">Full-page browser redirects away from hello app can be significantly invasive toohello user experience.</span></span>

<span data-ttu-id="6c137-111">toosupport эти приложения Azure Active Directory B2C (Azure AD B2C) использует неявного потока OAuth 2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-111">toosupport these applications, Azure Active Directory B2C (Azure AD B2C) uses hello OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="6c137-112">поток неявного предоставления авторизации OAuth 2.0 Hello описан в [статьи 4.2 спецификации OAuth 2.0 hello](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="6c137-112">hello OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="6c137-113">В неявного потока приложение hello получение маркеров непосредственно из hello конечную точку, без любого сервера на сервер exchange авторизации Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="6c137-113">In implicit flow, hello app receives tokens directly from hello Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="6c137-114">Все логики проверки подлинности и обработки принимает сеанса поместите полностью в клиенте JavaScript hello без перенаправления дополнительных страниц.</span><span class="sxs-lookup"><span data-stu-id="6c137-114">All authentication logic and session handling takes place entirely in hello JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="6c137-115">Azure AD B2C расширяет возможности стандартных toomore неявного потока OAuth 2.0 hello чем простой проверки подлинности и авторизации.</span><span class="sxs-lookup"><span data-stu-id="6c137-115">Azure AD B2C extends hello standard OAuth 2.0 implicit flow toomore than simple authentication and authorization.</span></span> <span data-ttu-id="6c137-116">Azure AD B2C вводит hello [параметра политики](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="6c137-116">Azure AD B2C introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="6c137-117">При использовании параметра политики hello, можно использовать tooadd взаимодействие с пользователем; tooyour приложения, такие как OAuth 2.0 регистрации, вход и управление профилями пользователей.</span><span class="sxs-lookup"><span data-stu-id="6c137-117">With hello policy parameter, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="6c137-118">В этой статье мы покажем как toouse hello неявного потока и Azure AD tooimplement каждого этих функций в одной страницы приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-118">In this article, we show you how toouse hello implicit flow and Azure AD tooimplement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="6c137-119">toohelp приступить к работе, ознакомьтесь с нашей [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) и [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) образцов.</span><span class="sxs-lookup"><span data-stu-id="6c137-119">toohelp you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="6c137-120">В запросах HTTP пример hello в этой статье, мы используем наш каталог Azure AD B2C образцов, **fabrikamb2c.onmicrosoft.com**. Также используются наши примеры приложения и политик.</span><span class="sxs-lookup"><span data-stu-id="6c137-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our own sample application and policies.</span></span> <span data-ttu-id="6c137-121">Попробуйте hello запросы вручную с помощью этих значений или их можно заменить собственные значения.</span><span class="sxs-lookup"><span data-stu-id="6c137-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="6c137-122">Узнайте, каким образом слишком[собственного каталога Azure AD B2C, приложения и политики](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="6c137-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="6c137-123">Схема протокола</span><span class="sxs-lookup"><span data-stu-id="6c137-123">Protocol diagram</span></span>

<span data-ttu-id="6c137-124">Hello неявного входа потока будет выглядеть примерно так hello следующий рисунок.</span><span class="sxs-lookup"><span data-stu-id="6c137-124">hello implicit sign-in flow looks something like hello following figure.</span></span> <span data-ttu-id="6c137-125">Каждый шаг описан более подробно в статье hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-125">Each step is described in detail later in hello article.</span></span>

![Дорожки OpenID Connect](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="6c137-127">Отправка запросов проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="6c137-127">Send authentication requests</span></span>
<span data-ttu-id="6c137-128">Когда веб-приложения требуется tooauthenticate пользователя hello и выполнить политику, он направляет пользователя toohello hello `/authorize` конечной точки.</span><span class="sxs-lookup"><span data-stu-id="6c137-128">When your web app needs tooauthenticate hello user and execute a policy, it directs hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="6c137-129">Это интерактивный часть потока hello hello где hello пользователь выполняет действие, в зависимости от политики hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-129">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span> <span data-ttu-id="6c137-130">Hello пользователь получает идентификатор маркера из конечной точки Azure AD hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-130">hello user gets an ID token from hello Azure AD endpoint.</span></span>

<span data-ttu-id="6c137-131">В этом запросе hello клиент указывает в hello `scope` параметр hello разрешения, необходимость tooacquire от пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-131">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="6c137-132">В hello `p` параметра, он указывает tooexecute политики hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-132">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="6c137-133">Hello следующих трех примерах (с разбиением на строки для удобства чтения) каждого с помощью другой политики.</span><span class="sxs-lookup"><span data-stu-id="6c137-133">hello following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="6c137-134">tooget вид, как работает каждый запрос, повторите запрос вставки hello в браузере и запустив его.</span><span class="sxs-lookup"><span data-stu-id="6c137-134">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="6c137-135">Пример с политикой входа в систему</span><span class="sxs-lookup"><span data-stu-id="6c137-135">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="6c137-136">Пример с политикой регистрации</span><span class="sxs-lookup"><span data-stu-id="6c137-136">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="6c137-137">Пример с политикой изменения профиля</span><span class="sxs-lookup"><span data-stu-id="6c137-137">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="6c137-138">Параметр</span><span class="sxs-lookup"><span data-stu-id="6c137-138">Parameter</span></span> | <span data-ttu-id="6c137-139">Обязательный?</span><span class="sxs-lookup"><span data-stu-id="6c137-139">Required?</span></span> | <span data-ttu-id="6c137-140">Описание</span><span class="sxs-lookup"><span data-stu-id="6c137-140">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6c137-141">client_id</span><span class="sxs-lookup"><span data-stu-id="6c137-141">client_id</span></span> |<span data-ttu-id="6c137-142">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-142">Required</span></span> |<span data-ttu-id="6c137-143">Идентификатор приложения Hello назначен tooyour приложения hello [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6c137-143">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="6c137-144">response_type</span><span class="sxs-lookup"><span data-stu-id="6c137-144">response_type</span></span> |<span data-ttu-id="6c137-145">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-145">Required</span></span> |<span data-ttu-id="6c137-146">Должен включать `id_token` для входа в OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="6c137-146">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="6c137-147">Он также может включать тип ответа hello `token`.</span><span class="sxs-lookup"><span data-stu-id="6c137-147">It also can include hello response type `token`.</span></span> <span data-ttu-id="6c137-148">Если вы используете `token`, приложение немедленно могут получить токен доступа от hello авторизации конечной точки, не внося второй toohello запроса конечной точки проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="6c137-148">If you use `token`, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span>  <span data-ttu-id="6c137-149">Если вы используете hello `token` тип ответа, hello `scope` параметр должен содержать область, которая указывает, какой ресурс tooissue hello токен для.</span><span class="sxs-lookup"><span data-stu-id="6c137-149">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="6c137-150">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="6c137-150">redirect_uri</span></span> |<span data-ttu-id="6c137-151">Рекомендуется</span><span class="sxs-lookup"><span data-stu-id="6c137-151">Recommended</span></span> |<span data-ttu-id="6c137-152">URI приложения, где запросы проверки подлинности можно отправленных и полученных приложения перенаправления Hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-152">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="6c137-153">Его должен точно соответствовать одно перенаправление hello URI, которые зарегистрированы в портале hello, за исключением того, он должен быть в кодировке URL.</span><span class="sxs-lookup"><span data-stu-id="6c137-153">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="6c137-154">response_mode</span><span class="sxs-lookup"><span data-stu-id="6c137-154">response_mode</span></span> |<span data-ttu-id="6c137-155">Рекомендуется</span><span class="sxs-lookup"><span data-stu-id="6c137-155">Recommended</span></span> |<span data-ttu-id="6c137-156">Указывает метод toouse toosend hello результирующий токен задней tooyour приложение hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-156">Specifies hello method toouse toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="6c137-157">Для неявных потоков используйте `fragment`.</span><span class="sxs-lookup"><span data-stu-id="6c137-157">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="6c137-158">scope</span><span class="sxs-lookup"><span data-stu-id="6c137-158">scope</span></span> |<span data-ttu-id="6c137-159">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-159">Required</span></span> |<span data-ttu-id="6c137-160">Список областей с разделителями-пробелами.</span><span class="sxs-lookup"><span data-stu-id="6c137-160">A space-separated list of scopes.</span></span> <span data-ttu-id="6c137-161">Значение одной области указывает tooAzure AD обоих hello разрешений, которые запрашиваются.</span><span class="sxs-lookup"><span data-stu-id="6c137-161">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="6c137-162">Hello `openid` область указывает toosign разрешение в hello пользователей и получения данных о пользователе hello в форме hello маркеров безопасности.</span><span class="sxs-lookup"><span data-stu-id="6c137-162">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="6c137-163">(Мы рассмотрим это более далее в статье hello.) Hello `offline_access` область является необязательным для веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="6c137-163">(We'll talk about this more later in hello article.) hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="6c137-164">Он показывает, что приложение требует токен обновления для tooresources долгоживущие доступа.</span><span class="sxs-lookup"><span data-stu-id="6c137-164">It indicates that your app needs a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="6c137-165">state</span><span class="sxs-lookup"><span data-stu-id="6c137-165">state</span></span> |<span data-ttu-id="6c137-166">Рекомендуется</span><span class="sxs-lookup"><span data-stu-id="6c137-166">Recommended</span></span> |<span data-ttu-id="6c137-167">Значение, включенных в запрос hello, которое также возвращается в ответ на токен hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-167">A value included in hello request that also is returned in hello token response.</span></span> <span data-ttu-id="6c137-168">Он может быть строка любое содержимое, которое следует toouse.</span><span class="sxs-lookup"><span data-stu-id="6c137-168">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="6c137-169">Как правило, используется значение созданный случайным образом уникальный, tooprevent атак с подделкой межсайтовых запросов.</span><span class="sxs-lookup"><span data-stu-id="6c137-169">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="6c137-170">Hello состояния является также используется tooencode сведения о состоянии пользователя hello в приложение hello до возникновения hello запрос проверки подлинности, как страница hello они находились на.</span><span class="sxs-lookup"><span data-stu-id="6c137-170">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, like hello page they were on.</span></span> |
| <span data-ttu-id="6c137-171">nonce</span><span class="sxs-lookup"><span data-stu-id="6c137-171">nonce</span></span> |<span data-ttu-id="6c137-172">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-172">Required</span></span> |<span data-ttu-id="6c137-173">Значение, включенных в запрос hello (созданных в ходе приложение hello), включенный в hello полученный маркер идентификатора как утверждения.</span><span class="sxs-lookup"><span data-stu-id="6c137-173">A value included in hello request (generated by hello app) that is included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="6c137-174">приложение Hello можно затем удостоверьтесь, что атак воспроизведения токена значение toomitigate.</span><span class="sxs-lookup"><span data-stu-id="6c137-174">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="6c137-175">Как правило значение hello является случайного уникальный строкой, можно использовать tooidentify hello источник запроса hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-175">Usually, hello value is a randomized, unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="6c137-176">p</span><span class="sxs-lookup"><span data-stu-id="6c137-176">p</span></span> |<span data-ttu-id="6c137-177">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-177">Required</span></span> |<span data-ttu-id="6c137-178">tooexecute политики Hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-178">hello policy tooexecute.</span></span> <span data-ttu-id="6c137-179">Он является hello имя политики, которая создается в клиенте Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="6c137-179">It's hello name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="6c137-180">Имя политики Hello значение должна начинаться с **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="6c137-180">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="6c137-181">Дополнительные сведения см. в [документации по встроенным политикам Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="6c137-181">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="6c137-182">prompt</span><span class="sxs-lookup"><span data-stu-id="6c137-182">prompt</span></span> |<span data-ttu-id="6c137-183">Необязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-183">Optional</span></span> |<span data-ttu-id="6c137-184">взаимодействие с пользователем, необходимый тип Hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-184">hello type of user interaction that's required.</span></span> <span data-ttu-id="6c137-185">В настоящее время является единственным допустимым значением hello `login`.</span><span class="sxs-lookup"><span data-stu-id="6c137-185">Currently, hello only valid value is `login`.</span></span> <span data-ttu-id="6c137-186">Это заставляет пользователя tooenter hello свои учетные данные в этот запрос.</span><span class="sxs-lookup"><span data-stu-id="6c137-186">This forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="6c137-187">Единый вход не сработает.</span><span class="sxs-lookup"><span data-stu-id="6c137-187">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="6c137-188">На этом этапе hello пользователя запрашивается toocomplete hello политики рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="6c137-188">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="6c137-189">Это может вызвать hello пользователь вводит свое имя пользователя и пароль, вход удостоверений из социальных сетей, зарегистрировавшись для каталога hello или любое другое число шагов.</span><span class="sxs-lookup"><span data-stu-id="6c137-189">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="6c137-190">Действие пользователя зависит от того, как определяется политика hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-190">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="6c137-191">После завершения политики hello hello пользователя Azure AD возвращает приложении tooyour ответа hello значения, используемые для `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="6c137-191">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="6c137-192">Она использует hello метода, указанного в hello `response_mode` параметра.</span><span class="sxs-lookup"><span data-stu-id="6c137-192">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="6c137-193">Hello ответа ровно hello же для каждого hello действия сценариев пользователя, независимо от политики hello, который был выполнен.</span><span class="sxs-lookup"><span data-stu-id="6c137-193">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="6c137-194">Успешный ответ</span><span class="sxs-lookup"><span data-stu-id="6c137-194">Successful response</span></span>
<span data-ttu-id="6c137-195">Успешный ответ, который использует `response_mode=fragment` и `response_type=id_token+token` выглядит в разрывы строк для удобочитаемости hello следующим:</span><span class="sxs-lookup"><span data-stu-id="6c137-195">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like hello following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="6c137-196">Параметр</span><span class="sxs-lookup"><span data-stu-id="6c137-196">Parameter</span></span> | <span data-ttu-id="6c137-197">Описание</span><span class="sxs-lookup"><span data-stu-id="6c137-197">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6c137-198">access_token</span><span class="sxs-lookup"><span data-stu-id="6c137-198">access_token</span></span> |<span data-ttu-id="6c137-199">маркер доступа Hello, hello запрошенного приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-199">hello access token that hello app requested.</span></span>  <span data-ttu-id="6c137-200">не следует декодировать или проверять Hello маркер доступа.</span><span class="sxs-lookup"><span data-stu-id="6c137-200">hello access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="6c137-201">Его можно рассматривать как непрозрачную строку.</span><span class="sxs-lookup"><span data-stu-id="6c137-201">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="6c137-202">token_type</span><span class="sxs-lookup"><span data-stu-id="6c137-202">token_type</span></span> |<span data-ttu-id="6c137-203">значение типа токена Hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-203">hello token type value.</span></span> <span data-ttu-id="6c137-204">Hello вводить только что поддерживает Azure AD является носителя.</span><span class="sxs-lookup"><span data-stu-id="6c137-204">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="6c137-205">expires_in</span><span class="sxs-lookup"><span data-stu-id="6c137-205">expires_in</span></span> |<span data-ttu-id="6c137-206">Hello продолжительность hello токен доступа является допустимым (в секундах).</span><span class="sxs-lookup"><span data-stu-id="6c137-206">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="6c137-207">scope</span><span class="sxs-lookup"><span data-stu-id="6c137-207">scope</span></span> |<span data-ttu-id="6c137-208">Hello областям hello маркер является допустимым для.</span><span class="sxs-lookup"><span data-stu-id="6c137-208">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="6c137-209">Также можно использовать токены toocache областей для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="6c137-209">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="6c137-210">id_token</span><span class="sxs-lookup"><span data-stu-id="6c137-210">id_token</span></span> |<span data-ttu-id="6c137-211">Здравствуйте, маркер идентификатора, hello запрошенного приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-211">hello ID token that hello app requested.</span></span> <span data-ttu-id="6c137-212">Можно использовать удостоверение маркера tooverify hello hello идентификатор пользователя и начать сеанс с пользователем hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-212">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="6c137-213">Дополнительные сведения о маркеров безопасности и их содержимое. в разделе hello [ссылку маркера Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="6c137-213">For more information about ID tokens and their contents, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="6c137-214">state</span><span class="sxs-lookup"><span data-stu-id="6c137-214">state</span></span> |<span data-ttu-id="6c137-215">Если `state` параметр включен в запрос hello hello же значение должно содержаться в ответе hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-215">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="6c137-216">Hello приложения следует убедиться, что hello `state` значения в hello запроса и ответа идентичны.</span><span class="sxs-lookup"><span data-stu-id="6c137-216">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="6c137-217">Сообщение об ошибке</span><span class="sxs-lookup"><span data-stu-id="6c137-217">Error response</span></span>
<span data-ttu-id="6c137-218">Сообщения об ошибках могут отправляться также toohello URI перенаправления, чтобы hello приложение может обрабатывать их соответствующим образом:</span><span class="sxs-lookup"><span data-stu-id="6c137-218">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="6c137-219">Параметр</span><span class="sxs-lookup"><span data-stu-id="6c137-219">Parameter</span></span> | <span data-ttu-id="6c137-220">Описание</span><span class="sxs-lookup"><span data-stu-id="6c137-220">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6c137-221">error</span><span class="sxs-lookup"><span data-stu-id="6c137-221">error</span></span> |<span data-ttu-id="6c137-222">Строка кода ошибки используемых типов tooclassify возникающие ошибки.</span><span class="sxs-lookup"><span data-stu-id="6c137-222">An error code string used tooclassify types of errors that occur.</span></span> <span data-ttu-id="6c137-223">Код ошибки hello также можно использовать для обработки ошибок.</span><span class="sxs-lookup"><span data-stu-id="6c137-223">You also can use hello error code for error handling.</span></span> |
| <span data-ttu-id="6c137-224">error_description</span><span class="sxs-lookup"><span data-stu-id="6c137-224">error_description</span></span> |<span data-ttu-id="6c137-225">Сообщение об ошибке, которые могут помочь определить причину ошибки проверки подлинности hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-225">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="6c137-226">state</span><span class="sxs-lookup"><span data-stu-id="6c137-226">state</span></span> |<span data-ttu-id="6c137-227">См. полное описание hello в предшествующей таблице hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-227">See hello full description in hello preceding table.</span></span> <span data-ttu-id="6c137-228">Если `state` параметр включен в запрос hello hello же значение должно содержаться в ответе hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-228">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="6c137-229">Hello приложения следует убедиться, что hello `state` значения в hello запроса и ответа идентичны.</span><span class="sxs-lookup"><span data-stu-id="6c137-229">hello app should verify that hello `state` values in hello request and response are identical.</span></span>|

## <a name="validate-hello-id-token"></a><span data-ttu-id="6c137-230">Проверка токена идентификатор hello</span><span class="sxs-lookup"><span data-stu-id="6c137-230">Validate hello ID token</span></span>
<span data-ttu-id="6c137-231">Получает маркер идентификатора не хватает tooauthenticate hello пользователем.</span><span class="sxs-lookup"><span data-stu-id="6c137-231">Receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="6c137-232">Проверить подпись маркер идентификатора hello и проверить hello утверждения маркера hello в соответствии с требованиями приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-232">You must validate hello ID token's signature, and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="6c137-233">Использует Azure AD B2C [веб-маркеры JSON (JWT)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) и открытый ключ шифрования toosign маркеры и убедитесь, что они являются допустимыми.</span><span class="sxs-lookup"><span data-stu-id="6c137-233">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="6c137-234">Многие библиотеки с открытым исходным кодом, доступных для проверки маркеров JWT, в зависимости от языка hello вы предпочитаете toouse.</span><span class="sxs-lookup"><span data-stu-id="6c137-234">Many open-source libraries are available for validating JWTs, depending on hello language you prefer toouse.</span></span> <span data-ttu-id="6c137-235">Рекомендуется изучить доступные библиотеки с открытым исходным кодом, а не реализовывать логику проверки самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="6c137-235">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="6c137-236">Можно использовать информацию hello в toohelp этой статьи вы узнаете, как tooproperly использование этих библиотек.</span><span class="sxs-lookup"><span data-stu-id="6c137-236">You can use hello information in this article toohelp you learn how tooproperly use those libraries.</span></span>

<span data-ttu-id="6c137-237">Служба Azure AD B2C имеет конечную точку метаданных OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="6c137-237">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="6c137-238">Приложение может использовать сведения о Azure AD B2C toofetch конечных точках hello во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="6c137-238">An app can use hello endpoint toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="6c137-239">Эти сведения включают конечные точки, содержимое маркеров и ключи подписи маркеров.</span><span class="sxs-lookup"><span data-stu-id="6c137-239">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="6c137-240">Для каждой политики в клиенте Azure AD B2C есть собственный документ метаданных JSON.</span><span class="sxs-lookup"><span data-stu-id="6c137-240">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="6c137-241">Например документ метаданных hello политики b2c_1_sign_in hello в клиенте fabrikamb2c.onmicrosoft.com hello расположен по адресу:</span><span class="sxs-lookup"><span data-stu-id="6c137-241">For example, hello metadata document for hello b2c_1_sign_in policy in hello fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="6c137-242">Одно из свойств hello этого документа конфигурации — hello `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="6c137-242">One of hello properties of this configuration document is hello `jwks_uri`.</span></span> <span data-ttu-id="6c137-243">значение Hello приветствия бы одной политике:</span><span class="sxs-lookup"><span data-stu-id="6c137-243">hello value for hello same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="6c137-244">toodetermine, какая политика была toosign используется маркер идентификатора (и где toofetch hello метаданные из), у вас есть два варианта.</span><span class="sxs-lookup"><span data-stu-id="6c137-244">toodetermine which policy was used toosign an ID token (and where toofetch hello metadata from), you have two options.</span></span> <span data-ttu-id="6c137-245">Во-первых, имя политики hello включается в hello `acr` утверждения в `id_token`.</span><span class="sxs-lookup"><span data-stu-id="6c137-245">First, hello policy name is included in hello `acr` claim in `id_token`.</span></span> <span data-ttu-id="6c137-246">Сведения о как tooparse hello утверждений от маркер идентификатора содержатся hello [ссылку маркера Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="6c137-246">For information about how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="6c137-247">Другой вариант — tooencode политики hello в значение hello hello `state` параметра при выполнении запроса hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-247">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request.</span></span> <span data-ttu-id="6c137-248">Затем декодировать hello `state` toodetermine параметра политики, был использован.</span><span class="sxs-lookup"><span data-stu-id="6c137-248">Then, decode hello `state` parameter toodetermine which policy was used.</span></span> <span data-ttu-id="6c137-249">Каждый из этих методов является допустимым.</span><span class="sxs-lookup"><span data-stu-id="6c137-249">Either method is valid.</span></span>

<span data-ttu-id="6c137-250">После приобретен hello документов метаданных из конечной точки метаданных OpenID Connect hello можно использовать hello RSA 256 toovalidate открытых ключей (находится в этой конечной точке) hello подпись токена идентификатор hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-250">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA-256 public keys (located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="6c137-251">В каждый момент времени в этой конечной точке может находиться множество ключей, каждый из которых определяется `kid`.</span><span class="sxs-lookup"><span data-stu-id="6c137-251">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="6c137-252">Заголовок Hello `id_token` также содержит `kid` утверждения.</span><span class="sxs-lookup"><span data-stu-id="6c137-252">hello header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="6c137-253">Он указывает, какой из этих ключей был маркер идентификатора используется toosign hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-253">It indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="6c137-254">Дополнительные сведения, включая изучение [проверку маркеров](active-directory-b2c-reference-tokens.md#token-validation), в разделе hello [ссылку маркера Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="6c137-254">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="6c137-255">После проверки hello подпись токена идентификатор hello несколько утверждений требуется проверка.</span><span class="sxs-lookup"><span data-stu-id="6c137-255">After you validate hello signature of hello ID token, several claims require verification.</span></span> <span data-ttu-id="6c137-256">Например:</span><span class="sxs-lookup"><span data-stu-id="6c137-256">For example:</span></span>

* <span data-ttu-id="6c137-257">Проверка hello `nonce` утверждения tooprevent атак с повторением токенов.</span><span class="sxs-lookup"><span data-stu-id="6c137-257">Validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="6c137-258">Его значение должно быть указанный запрос hello вход.</span><span class="sxs-lookup"><span data-stu-id="6c137-258">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="6c137-259">Проверка hello `aud` утверждения, hello маркер идентификатора tooensure был выпущен для приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-259">Validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="6c137-260">Его значение должно быть Идентификатором приложения hello приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-260">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="6c137-261">Проверка hello `iat` и `exp` утверждений tooensure, hello маркер идентификатора не истек.</span><span class="sxs-lookup"><span data-stu-id="6c137-261">Validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="6c137-262">Некоторые дополнительные проверки, которые необходимо выполнить подробно описывается в hello [OpenID подключения Core Spec](http://openid.net/specs/openid-connect-core-1_0.html). Можно также toovalidate дополнительные утверждения, в зависимости от вашего сценария.</span><span class="sxs-lookup"><span data-stu-id="6c137-262">Several more validations that you should perform are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html). You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="6c137-263">Ниже приведены некоторые из стандартных проверок:</span><span class="sxs-lookup"><span data-stu-id="6c137-263">Some common validations include:</span></span>

* <span data-ttu-id="6c137-264">Обеспечение hello пользователю или организации зарегистрировался для приложения hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-264">Ensuring that hello user or organization has signed up for hello app.</span></span>
* <span data-ttu-id="6c137-265">Гарантирует, что hello пользователь имеет необходимые права и привилегии.</span><span class="sxs-lookup"><span data-stu-id="6c137-265">Ensuring that hello user has proper authorization and privileges.</span></span>
* <span data-ttu-id="6c137-266">Обеспечение определенного уровня аутентификации, например с помощью Многофакторной идентификации Azure.</span><span class="sxs-lookup"><span data-stu-id="6c137-266">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="6c137-267">Дополнительные сведения об утверждениях hello в маркер идентификатора см. в разделе hello [ссылку маркера Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="6c137-267">For more information about hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="6c137-268">После полной проверки маркер идентификатора hello можно начать сеанс с пользователем hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-268">After you have completely validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="6c137-269">В приложении используйте hello утверждений в hello идентификатор маркера tooobtain сведения о пользователе hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-269">In your app, use hello claims in hello ID token tooobtain information about hello user.</span></span> <span data-ttu-id="6c137-270">Эти сведения можно использовать для отображения, записей, авторизации и т. д.</span><span class="sxs-lookup"><span data-stu-id="6c137-270">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="6c137-271">Получение маркеров доступа</span><span class="sxs-lookup"><span data-stu-id="6c137-271">Get access tokens</span></span>
<span data-ttu-id="6c137-272">Если hello единственное является вашей toodo потребностей приложения web выполнение политик, можно пропустить hello следующие несколько разделов.</span><span class="sxs-lookup"><span data-stu-id="6c137-272">If hello only thing your web apps needs toodo is execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="6c137-273">Hello сведения в следующих разделах hello, применимые только tooweb приложения, требующие проверку подлинности toomake вызовы tooa веб-API, и которой защищаются с помощью Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="6c137-273">hello information in hello following sections are applicable only tooweb apps that need toomake authenticated calls tooa web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="6c137-274">Теперь, когда вы вышли из пользователя hello в tooyour одностраничного приложения, можно получить токены доступа для вызова веб-API, защищенные Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6c137-274">Now that you've signed hello user in tooyour single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="6c137-275">Даже если вы уже получили маркер с помощью hello `token` тип ответа можно использовать этот метод tooacquire токены дополнительные ресурсы без перенаправления toosign пользователя hello в еще раз.</span><span class="sxs-lookup"><span data-stu-id="6c137-275">Even if you have already received a token by using hello `token` response type, you can use this method tooacquire tokens for additional resources without redirecting hello user toosign in again.</span></span>

<span data-ttu-id="6c137-276">В потоке приложения обычно web это делается, делая toohello запроса `/token` конечной точки.</span><span class="sxs-lookup"><span data-stu-id="6c137-276">In a typical web app flow, you would do this by making a request toohello `/token` endpoint.</span></span>  <span data-ttu-id="6c137-277">Однако hello конечные точки не не CORS запросов поддержки, так что AJAX вызывает tooget и токены обновления являются обязательными.</span><span class="sxs-lookup"><span data-stu-id="6c137-277">However, hello endpoint does not support CORS requests, so making AJAX calls tooget and refresh tokens is not an option.</span></span> <span data-ttu-id="6c137-278">Вместо этого можно использовать hello неявного потока в скрытый HTML iframe элемент tooget новые маркеры для других веб-API.</span><span class="sxs-lookup"><span data-stu-id="6c137-278">Instead, you can use hello implicit flow in a hidden HTML iframe element tooget new tokens for other web APIs.</span></span> <span data-ttu-id="6c137-279">Ниже приведен пример (разрывы строк — для удобства чтения):</span><span class="sxs-lookup"><span data-stu-id="6c137-279">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="6c137-280">Параметр</span><span class="sxs-lookup"><span data-stu-id="6c137-280">Parameter</span></span> | <span data-ttu-id="6c137-281">Обязательный?</span><span class="sxs-lookup"><span data-stu-id="6c137-281">Required?</span></span> | <span data-ttu-id="6c137-282">Описание</span><span class="sxs-lookup"><span data-stu-id="6c137-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6c137-283">client_id</span><span class="sxs-lookup"><span data-stu-id="6c137-283">client_id</span></span> |<span data-ttu-id="6c137-284">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-284">Required</span></span> |<span data-ttu-id="6c137-285">Идентификатор приложения Hello назначен tooyour приложения hello [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6c137-285">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="6c137-286">response_type</span><span class="sxs-lookup"><span data-stu-id="6c137-286">response_type</span></span> |<span data-ttu-id="6c137-287">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-287">Required</span></span> |<span data-ttu-id="6c137-288">Должен включать `id_token` для входа в OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="6c137-288">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="6c137-289">Она также может включать тип ответа hello `token`.</span><span class="sxs-lookup"><span data-stu-id="6c137-289">It might also include hello response type `token`.</span></span> <span data-ttu-id="6c137-290">Если вы используете `token` здесь, приложения могут немедленно получить маркер доступа от hello авторизации конечной точки, не внося второй toohello запроса конечной точки проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="6c137-290">If you use `token` here, your app can immediately receive an access token from hello authorize endpoint, without making a second request toohello authorize endpoint.</span></span> <span data-ttu-id="6c137-291">Если вы используете hello `token` тип ответа, hello `scope` параметр должен содержать область, которая указывает, какой ресурс tooissue hello токен для.</span><span class="sxs-lookup"><span data-stu-id="6c137-291">If you use hello `token` response type, hello `scope` parameter must contain a scope that indicates which resource tooissue hello token for.</span></span> |
| <span data-ttu-id="6c137-292">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="6c137-292">redirect_uri</span></span> |<span data-ttu-id="6c137-293">Рекомендуется</span><span class="sxs-lookup"><span data-stu-id="6c137-293">Recommended</span></span> |<span data-ttu-id="6c137-294">URI приложения, где запросы проверки подлинности можно отправленных и полученных приложения перенаправления Hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-294">hello redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="6c137-295">Его должен точно соответствовать один hello перенаправления зарегистрирован в портале hello идентификаторы URI, за исключением того, он должен быть в кодировке URL.</span><span class="sxs-lookup"><span data-stu-id="6c137-295">It must exactly match one of hello redirect URIs you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="6c137-296">scope</span><span class="sxs-lookup"><span data-stu-id="6c137-296">scope</span></span> |<span data-ttu-id="6c137-297">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-297">Required</span></span> |<span data-ttu-id="6c137-298">Список областей с разделителями-пробелами.</span><span class="sxs-lookup"><span data-stu-id="6c137-298">A space-separated list of scopes.</span></span>  <span data-ttu-id="6c137-299">Для получения маркеров, включают все области, необходимые для hello предназначен ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6c137-299">For getting tokens, include all scopes that you require for hello intended resource.</span></span> |
| <span data-ttu-id="6c137-300">response_mode</span><span class="sxs-lookup"><span data-stu-id="6c137-300">response_mode</span></span> |<span data-ttu-id="6c137-301">Рекомендуется</span><span class="sxs-lookup"><span data-stu-id="6c137-301">Recommended</span></span> |<span data-ttu-id="6c137-302">Указывает метод hello, используемые toosend hello итоговое маркера задней tooyour приложение.</span><span class="sxs-lookup"><span data-stu-id="6c137-302">Specifies hello method that is used toosend hello resulting token back tooyour app.</span></span>  <span data-ttu-id="6c137-303">Возможные значения: `query`, `form_post` или `fragment`.</span><span class="sxs-lookup"><span data-stu-id="6c137-303">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="6c137-304">state</span><span class="sxs-lookup"><span data-stu-id="6c137-304">state</span></span> |<span data-ttu-id="6c137-305">Рекомендуется</span><span class="sxs-lookup"><span data-stu-id="6c137-305">Recommended</span></span> |<span data-ttu-id="6c137-306">Значение, включенных в запрос hello, возвращаемых в ответ на токен hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-306">A value included in hello request that is returned in hello token response.</span></span>  <span data-ttu-id="6c137-307">Он может быть строка любое содержимое, которое следует toouse.</span><span class="sxs-lookup"><span data-stu-id="6c137-307">It can be a string of any content that you want toouse.</span></span>  <span data-ttu-id="6c137-308">Как правило, используется значение созданный случайным образом уникальный, tooprevent атак с подделкой межсайтовых запросов.</span><span class="sxs-lookup"><span data-stu-id="6c137-308">Usually, a randomly generated, unique value is used, tooprevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="6c137-309">состояние Hello также является используется tooencode сведения о состоянии пользователя hello в приложение hello, до возникновения hello запрос проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="6c137-309">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="6c137-310">Например, hello страницы или представления hello пользователя была.</span><span class="sxs-lookup"><span data-stu-id="6c137-310">For example, hello page or view hello user was on.</span></span> |
| <span data-ttu-id="6c137-311">nonce</span><span class="sxs-lookup"><span data-stu-id="6c137-311">nonce</span></span> |<span data-ttu-id="6c137-312">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-312">Required</span></span> |<span data-ttu-id="6c137-313">Значение, включенных в запрос hello, созданное приложение hello, входящую в hello полученный маркер идентификатора как утверждения.</span><span class="sxs-lookup"><span data-stu-id="6c137-313">A value included in hello request, generated by hello app, that is included in hello resulting ID token as a claim.</span></span>  <span data-ttu-id="6c137-314">приложение Hello можно затем удостоверьтесь, что атак воспроизведения токена значение toomitigate.</span><span class="sxs-lookup"><span data-stu-id="6c137-314">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="6c137-315">Как правило значение hello — случайным образом уникальный строка, определяющая источник hello hello запроса.</span><span class="sxs-lookup"><span data-stu-id="6c137-315">Usually, hello value is a randomized, unique string that identifies hello origin of hello request.</span></span> |
| <span data-ttu-id="6c137-316">prompt</span><span class="sxs-lookup"><span data-stu-id="6c137-316">prompt</span></span> |<span data-ttu-id="6c137-317">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-317">Required</span></span> |<span data-ttu-id="6c137-318">использовать токены toorefresh и get в скрытого iframe, `prompt=none` tooensure, hello iframe не возникли затруднения на страницу входа hello и возвращается немедленно.</span><span class="sxs-lookup"><span data-stu-id="6c137-318">toorefresh and get tokens in a hidden iframe, use `prompt=none` tooensure that hello iframe does not get stuck on hello sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="6c137-319">login_hint</span><span class="sxs-lookup"><span data-stu-id="6c137-319">login_hint</span></span> |<span data-ttu-id="6c137-320">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-320">Required</span></span> |<span data-ttu-id="6c137-321">toorefresh и get токенов в скрытого iframe, включите пользователя hello hello в это указание toodistinguish между несколько сеансов, которые hello пользователя может иметь в определенный момент времени.</span><span class="sxs-lookup"><span data-stu-id="6c137-321">toorefresh and get tokens in a hidden iframe, include hello username of hello user in this hint toodistinguish between multiple sessions hello user might have at a given  time.</span></span> <span data-ttu-id="6c137-322">Имя пользователя hello можно извлечь из более ранних вход с помощью hello `preferred_username` утверждения.</span><span class="sxs-lookup"><span data-stu-id="6c137-322">You can extract hello username from an earlier sign-in by using hello `preferred_username` claim.</span></span> |
| <span data-ttu-id="6c137-323">domain_hint</span><span class="sxs-lookup"><span data-stu-id="6c137-323">domain_hint</span></span> |<span data-ttu-id="6c137-324">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-324">Required</span></span> |<span data-ttu-id="6c137-325">Может иметь значение `consumers` или `organizations`.</span><span class="sxs-lookup"><span data-stu-id="6c137-325">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="6c137-326">Для обновления и получения токенов в скрытого iframe, необходимо включить hello `domain_hint` значение в запросе hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-326">For refreshing and getting tokens in a hidden iframe, you must include hello `domain_hint` value in hello request.</span></span>  <span data-ttu-id="6c137-327">Извлеките hello `tid` утверждение от токен идентификатор hello ранее вход toodetermine какие toouse значение.</span><span class="sxs-lookup"><span data-stu-id="6c137-327">Extract hello `tid` claim from hello ID token of an earlier sign-in toodetermine which value toouse.</span></span>  <span data-ttu-id="6c137-328">Если hello `tid` утверждения, значение — `9188040d-6c67-4c5b-b112-36a304b66dad`, используйте `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="6c137-328">If hello `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="6c137-329">Или используйте `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="6c137-329">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="6c137-330">Путем установки hello `prompt=none` параметра, этот запрос либо выполняется успешно или прекращается немедленно и возвращает tooyour приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-330">By setting hello `prompt=none` parameter, this request either succeeds or fails immediately, and returns tooyour application.</span></span>  <span data-ttu-id="6c137-331">Успешный ответ отправляется tooyour приложения в указанном hello перенаправление URI, с помощью метода hello, указанного в hello `response_mode` параметра.</span><span class="sxs-lookup"><span data-stu-id="6c137-331">A successful response is sent tooyour app at hello indicated redirect URI, by using hello method specified in hello `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="6c137-332">Успешный ответ</span><span class="sxs-lookup"><span data-stu-id="6c137-332">Successful response</span></span>
<span data-ttu-id="6c137-333">Успешный ответ с использованием `response_mode=fragment` выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="6c137-333">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="6c137-334">Параметр</span><span class="sxs-lookup"><span data-stu-id="6c137-334">Parameter</span></span> | <span data-ttu-id="6c137-335">Описание</span><span class="sxs-lookup"><span data-stu-id="6c137-335">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6c137-336">access_token</span><span class="sxs-lookup"><span data-stu-id="6c137-336">access_token</span></span> |<span data-ttu-id="6c137-337">токен Hello, hello запрошенного приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-337">hello token that hello app requested.</span></span> |
| <span data-ttu-id="6c137-338">token_type</span><span class="sxs-lookup"><span data-stu-id="6c137-338">token_type</span></span> |<span data-ttu-id="6c137-339">Тип токена Hello всегда будет носителя.</span><span class="sxs-lookup"><span data-stu-id="6c137-339">hello token type will always be Bearer.</span></span> |
| <span data-ttu-id="6c137-340">state</span><span class="sxs-lookup"><span data-stu-id="6c137-340">state</span></span> |<span data-ttu-id="6c137-341">Если `state` параметр включен в запрос hello hello же значение должно содержаться в ответе hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-341">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="6c137-342">Hello приложения следует убедиться, что hello `state` значения в hello запроса и ответа идентичны.</span><span class="sxs-lookup"><span data-stu-id="6c137-342">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |
| <span data-ttu-id="6c137-343">expires_in</span><span class="sxs-lookup"><span data-stu-id="6c137-343">expires_in</span></span> |<span data-ttu-id="6c137-344">Как долго маркер доступа hello является действительным (в секундах).</span><span class="sxs-lookup"><span data-stu-id="6c137-344">How long hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="6c137-345">scope</span><span class="sxs-lookup"><span data-stu-id="6c137-345">scope</span></span> |<span data-ttu-id="6c137-346">Hello областям hello токен доступа является действительным для.</span><span class="sxs-lookup"><span data-stu-id="6c137-346">hello scopes that hello access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="6c137-347">Сообщение об ошибке</span><span class="sxs-lookup"><span data-stu-id="6c137-347">Error response</span></span>
<span data-ttu-id="6c137-348">Сообщения об ошибках могут отправляться также toohello URI перенаправления, чтобы hello приложение может обрабатывать их соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="6c137-348">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately.</span></span>  <span data-ttu-id="6c137-349">Для `prompt=none` ожидаемая ошибка выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="6c137-349">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="6c137-350">Параметр</span><span class="sxs-lookup"><span data-stu-id="6c137-350">Parameter</span></span> | <span data-ttu-id="6c137-351">Описание</span><span class="sxs-lookup"><span data-stu-id="6c137-351">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6c137-352">error</span><span class="sxs-lookup"><span data-stu-id="6c137-352">error</span></span> |<span data-ttu-id="6c137-353">Строка кода ошибки, может быть типов используемых tooclassify возникающие ошибки.</span><span class="sxs-lookup"><span data-stu-id="6c137-353">An error code string that can be used tooclassify types of errors that occur.</span></span> <span data-ttu-id="6c137-354">Также можно использовать tooerrors tooreact строку hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-354">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="6c137-355">error_description</span><span class="sxs-lookup"><span data-stu-id="6c137-355">error_description</span></span> |<span data-ttu-id="6c137-356">Сообщение об ошибке, которые могут помочь определить причину ошибки проверки подлинности hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-356">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

<span data-ttu-id="6c137-357">Если эта ошибка возникает в запросе iframe hello, hello пользователь должен интерактивно войти снова tooretrieve новый маркер.</span><span class="sxs-lookup"><span data-stu-id="6c137-357">If you receive this error in hello iframe request, hello user must interactively sign in again tooretrieve a new token.</span></span> <span data-ttu-id="6c137-358">Это можно обрабатывать любым способом, который лучше всего подходит для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-358">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="6c137-359">Маркеры обновления</span><span class="sxs-lookup"><span data-stu-id="6c137-359">Refresh tokens</span></span>
<span data-ttu-id="6c137-360">Срок действия маркеров идентификации и доступа достаточно короткий.</span><span class="sxs-lookup"><span data-stu-id="6c137-360">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="6c137-361">Приложение должно быть готово toorefresh эти токены периодически.</span><span class="sxs-lookup"><span data-stu-id="6c137-361">Your app must be prepared toorefresh these tokens periodically.</span></span>  <span data-ttu-id="6c137-362">toorefresh любого типа маркера, выполнять hello скрытого iframe запросе используется в предыдущем примере, с помощью hello `prompt=none` действия параметра toocontrol Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6c137-362">toorefresh either type of token, perform hello same hidden iframe request we used in an earlier example, by using hello `prompt=none` parameter toocontrol Azure AD steps.</span></span>  <span data-ttu-id="6c137-363">tooreceive новый `id_token` значение, равно, что toouse `response_type=id_token` и `scope=openid`и `nonce` параметра.</span><span class="sxs-lookup"><span data-stu-id="6c137-363">tooreceive a new `id_token` value, be sure toouse `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="6c137-364">Отправка запроса на выход</span><span class="sxs-lookup"><span data-stu-id="6c137-364">Send a sign-out request</span></span>
<span data-ttu-id="6c137-365">При необходимости hello toosign выход пользователя из приложения hello перенаправление hello пользователя tooAzure AD toosign out. Если этого не сделать, hello пользователь может быть приложение может tooreauthenticate tooyour без еще раз ввести свои учетные данные.</span><span class="sxs-lookup"><span data-stu-id="6c137-365">When you want toosign hello user out of hello app, redirect hello user tooAzure AD toosign out. If you don't do this, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="6c137-366">так как они будут иметь действительный сеанс единого входа с Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6c137-366">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="6c137-367">Можно просто перенаправить пользователя toohello hello `end_session_endpoint` , перечисленных в hello того же документа метаданных OpenID Connect описано в [маркер идентификатора hello проверки](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="6c137-367">You can simply redirect hello user toohello `end_session_endpoint` that is listed in hello same OpenID Connect metadata document described in [Validate hello ID token](#validate-the-id-token).</span></span> <span data-ttu-id="6c137-368">Например:</span><span class="sxs-lookup"><span data-stu-id="6c137-368">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="6c137-369">Параметр</span><span class="sxs-lookup"><span data-stu-id="6c137-369">Parameter</span></span> | <span data-ttu-id="6c137-370">Обязательный?</span><span class="sxs-lookup"><span data-stu-id="6c137-370">Required?</span></span> | <span data-ttu-id="6c137-371">Описание</span><span class="sxs-lookup"><span data-stu-id="6c137-371">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6c137-372">p</span><span class="sxs-lookup"><span data-stu-id="6c137-372">p</span></span> |<span data-ttu-id="6c137-373">Обязательно</span><span class="sxs-lookup"><span data-stu-id="6c137-373">Required</span></span> |<span data-ttu-id="6c137-374">Hello политики toouse toosign hello выход пользователя из приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-374">hello policy toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="6c137-375">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="6c137-375">post_logout_redirect_uri</span></span> |<span data-ttu-id="6c137-376">Рекомендуется</span><span class="sxs-lookup"><span data-stu-id="6c137-376">Recommended</span></span> |<span data-ttu-id="6c137-377">Hello URL-адрес этого hello пользователя должно быть перенаправленный tooafter успешного выхода. Если не указан, Azure AD B2C отображает пользователь toohello универсальное сообщение.</span><span class="sxs-lookup"><span data-stu-id="6c137-377">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C displays a generic message toohello user.</span></span> |

> [!NOTE]
> <span data-ttu-id="6c137-378">Направление hello пользователя toohello `end_session_endpoint` очищает некоторые из одного состояния входа с Azure AD B2C hello пользователя.</span><span class="sxs-lookup"><span data-stu-id="6c137-378">Directing hello user toohello `end_session_endpoint` clears some of hello user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="6c137-379">Тем не менее он не подписывать hello выход пользователя из сеанса поставщика удостоверений из социальных сетей hello пользователя.</span><span class="sxs-lookup"><span data-stu-id="6c137-379">However, it doesn't sign hello user out of hello user's social identity provider session.</span></span> <span data-ttu-id="6c137-380">Если hello пользователь выбирает hello же определения поставщика при последующем входе в систему, hello пользователя выполняется повторная проверка подлинности, не вводя свои учетные данные.</span><span class="sxs-lookup"><span data-stu-id="6c137-380">If hello user selects hello same identify provider during a subsequent sign-in, hello user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="6c137-381">Если пользователю toosign приложения Azure AD B2C, оно означает, что им нужен toocompletely выхода свою учетную запись Facebook, например.</span><span class="sxs-lookup"><span data-stu-id="6c137-381">If a user wants toosign out of your Azure AD B2C application, it does not necessarily mean they want toocompletely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="6c137-382">Тем не менее, для локальных учетных записей пользователя hello сеанс будет завершен правильно.</span><span class="sxs-lookup"><span data-stu-id="6c137-382">However, for local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="6c137-383">Использование собственного клиента Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="6c137-383">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="6c137-384">Эти запросы самостоятельно, выполните tootry hello следующие три шага.</span><span class="sxs-lookup"><span data-stu-id="6c137-384">tootry these requests yourself, complete hello following three steps.</span></span> <span data-ttu-id="6c137-385">Замените примеры значений hello, мы используем в этой статье собственными значениями:</span><span class="sxs-lookup"><span data-stu-id="6c137-385">Replace hello example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="6c137-386">[Создайте клиента Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="6c137-386">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="6c137-387">Используйте имя hello вашего клиента в запросах hello.</span><span class="sxs-lookup"><span data-stu-id="6c137-387">Use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="6c137-388">[Создание приложения](active-directory-b2c-app-registration.md) tooobtain идентификатора приложения и `redirect_uri` значение.</span><span class="sxs-lookup"><span data-stu-id="6c137-388">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="6c137-389">Включите в свое приложение веб-приложение или веб-API.</span><span class="sxs-lookup"><span data-stu-id="6c137-389">Include a web app or web API in your app.</span></span> <span data-ttu-id="6c137-390">При необходимости можно также создать секретный код приложения.</span><span class="sxs-lookup"><span data-stu-id="6c137-390">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="6c137-391">[Создание политик](active-directory-b2c-reference-policies.md) tooobtain имена ваших политики.</span><span class="sxs-lookup"><span data-stu-id="6c137-391">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="6c137-392">Примеры</span><span class="sxs-lookup"><span data-stu-id="6c137-392">Samples</span></span>

* [<span data-ttu-id="6c137-393">Создание одностраничного приложения с помощью Node.js</span><span class="sxs-lookup"><span data-stu-id="6c137-393">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="6c137-394">Создание одностраничного приложения с помощью .NET</span><span class="sxs-lookup"><span data-stu-id="6c137-394">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

