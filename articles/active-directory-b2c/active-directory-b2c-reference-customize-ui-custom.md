---
title: "Azure Active Directory B2C: Ссылки: Настройка hello пользовательского интерфейса его пути пользователя с помощью пользовательских политик | Документы Microsoft"
description: "В этой статье описываются пользовательские политики Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: rojasja
manager: krassk
editor: rojasja
ms.assetid: 
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/25/2017
ms.author: joroja
ms.openlocfilehash: 11f2a7575b95a186399d83266850fe44d650371b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="customize-hello-ui-of-a-user-journey-with-custom-policies"></a><span data-ttu-id="cf014-103">Настройка пользовательского интерфейса его пути пользователя с помощью пользовательских политик hello</span><span class="sxs-lookup"><span data-stu-id="cf014-103">Customize hello UI of a user journey with Custom Policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

> [!NOTE]
> <span data-ttu-id="cf014-104">Эта статья является Дополнительно описание как Настройка пользовательского интерфейса работает и как tooenable с B2C пользовательских политик, с помощью hello Identity Framework качества</span><span class="sxs-lookup"><span data-stu-id="cf014-104">This article is an advanced description of how UI customization works and how tooenable with B2C Custom policies, using hello Identity Experience Framework</span></span>


<span data-ttu-id="cf014-105">Удобная работа пользователя является ключевым фактором для любого корпоративного решения, предоставляемого потребителям.</span><span class="sxs-lookup"><span data-stu-id="cf014-105">A seamless user experience is key for any business-to-consumer solution.</span></span> <span data-ttu-id="cf014-106">Простое взаимодействие с пользователем мы означает качества на устройстве или в браузере, где пути пользователя до нашей службе невозможно отличить от, hello обслуживания клиентов, которые они используют.</span><span class="sxs-lookup"><span data-stu-id="cf014-106">By seamless user experience, we mean an experience, whether on device or browser, where a user’s journey through our service cannot be distinguished from that of hello customer service they are using.</span></span>

## <a name="understand-hello-cors-way-for-ui-customization"></a><span data-ttu-id="cf014-107">Понять, как hello CORS для настройки пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="cf014-107">Understand hello CORS way for UI customization</span></span>

<span data-ttu-id="cf014-108">Azure AD B2C позволяет вам toocustomize hello оформление и поведение взаимодействие с пользователем (UX) hello различных страниц, которые потенциально обслуживаться и отображаются с помощью пользовательских политик по Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="cf014-108">Azure AD B2C allows you toocustomize hello look-and-feel of user experience (UX) on hello various pages that can be potentially served and displayed by Azure AD B2C via your custom policies.</span></span>

<span data-ttu-id="cf014-109">Для этой цели Azure AD B2C выполняется код в браузере вашей потребителя и использует hello современных и стандартный подход [общий доступ к ресурсам независимо от источника (CORS)](http://www.w3.org/TR/cors/) tooload пользовательское содержимое из определенному URL-АДРЕСУ, указанному в настраиваемую политику шаблоны HTML5/CSS tooyour toopoint.</span><span class="sxs-lookup"><span data-stu-id="cf014-109">For that purpose, Azure AD B2C runs code in your consumer's browser and uses hello modern and standard approach [Cross-Origin Resource Sharing (CORS)](http://www.w3.org/TR/cors/) tooload custom content from a specific URL that you specify in a custom policy toopoint tooyour HTML5/CSS templates.</span></span> <span data-ttu-id="cf014-110">CORS является механизм, позволяющий ограниченные ресурсы как шрифты, на веб-странице toobe, запрошено, из другого домена за пределами домена hello, из которой был сформирован hello ресурсов.</span><span class="sxs-lookup"><span data-stu-id="cf014-110">CORS is a mechanism that allows restricted resources, like fonts, on a web page toobe requested from another domain outside hello domain from which hello resource originated.</span></span>

<span data-ttu-id="cf014-111">По сравнению с toohello старого традиционному подходу, где страницы шаблонов принадлежат hello решение, где указано только текст и изображения, где ограниченное управления макет и вид предлагалось начальные toomore чем tooachieve трудностей эффективной работы, hello CORS средство поддерживает HTML5 и CSS и позволяют:</span><span class="sxs-lookup"><span data-stu-id="cf014-111">Compared toohello old traditional way, where template pages are owned by hello solution where you provided limited text and images, where limited control of layout and feel was offered leading toomore than difficulties tooachieve a seamless experience, hello CORS way supports HTML5 and CSS and allow you to:</span></span>

- <span data-ttu-id="cf014-112">Разместить содержимое hello и hello решение внедряет ее элементов управления, используя клиентский сценарий.</span><span class="sxs-lookup"><span data-stu-id="cf014-112">Host hello content and hello solution injects its controls using client side script.</span></span>
- <span data-ttu-id="cf014-113">Полный контроль над каждым пикселем и внешним видом макета.</span><span class="sxs-lookup"><span data-stu-id="cf014-113">Have full control over every pixel of layout and feel.</span></span>

<span data-ttu-id="cf014-114">Вы можете предоставить любое количество страниц содержимого, составляя файлы HTML5 и CSS соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="cf014-114">You can provide as many content pages as you like by crafting HTML5/CSS files as appropriate.</span></span>

> [!NOTE]
> <span data-ttu-id="cf014-115">По соображениям безопасности hello использование JavaScript в данный момент заблокирована для настройки.</span><span class="sxs-lookup"><span data-stu-id="cf014-115">For security reasons, hello use of JavaScript is currently blocked for customization.</span></span> <span data-ttu-id="cf014-116">требуется toounblock JavaScript, использование имени пользовательского домена для вашего клиента Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="cf014-116">toounblock JavaScript, use of a custom domain name for your Azure AD B2C tenant is needed.</span></span>

<span data-ttu-id="cf014-117">В каждом из ваших шаблонов HTML5/CSS, предоставляют *привязки* элемент, который соответствует toohello необходимые `<div id=”api”>` элемент hello HTML или hello странице содержимого как показано далее.</span><span class="sxs-lookup"><span data-stu-id="cf014-117">In each of your HTML5/CSS templates, you provide an *anchor* element, which corresponds toohello required `<div id=”api”>` element in hello HTML or hello content page as illustrate hereafter.</span></span> <span data-ttu-id="cf014-118">Для Azure AD B2C необходимо, чтобы все страницы содержимого имели этот div.</span><span class="sxs-lookup"><span data-stu-id="cf014-118">Azure AD B2C requires that all content pages have this specific div.</span></span>

```
<!DOCTYPE html>
<html>
  <head>
    <title>Your page content’s tile!</title>
  </head>
  <body>
    <div id="api"></div>
  </body>
</html>
```

<span data-ttu-id="cf014-119">Azure AD B2C содержимое для страницы приветствия будут вноситься в этот разделитель при hello остальной части страницы приветствия принадлежит вам toocontrol.</span><span class="sxs-lookup"><span data-stu-id="cf014-119">Azure AD B2C-related content for hello page will be injected into this div, while hello rest of hello page is yours toocontrol.</span></span> <span data-ttu-id="cf014-120">код JavaScript Hello Azure AD B2C извлекает в содержимом и внедряет нашей HTML в этот элемент div определенных.</span><span class="sxs-lookup"><span data-stu-id="cf014-120">hello Azure AD B2C’s JavaScript code pulls in your content and injects our HTML into this specific div element.</span></span> <span data-ttu-id="cf014-121">Azure AD B2C внедряет следующие элементы управления соответствующим образом hello: Выбор элемента управления, элементов управления входом, элементы управления (в настоящее время телефону) многофакторной и элементами управления коллекцией атрибутов учетной записи.</span><span class="sxs-lookup"><span data-stu-id="cf014-121">Azure AD B2C injects hello following controls as appropriate: account chooser control, login controls, multi-factor (currently phone-based) controls, and attribute collection controls.</span></span> <span data-ttu-id="cf014-122">Azure AD B2C гарантирует, что все элементы управления hello HTML5 совместимых и доступен, все элементы управления hello может быть полностью со стилем и что версия элемента управления не будет регрессировать.</span><span class="sxs-lookup"><span data-stu-id="cf014-122">Azure AD B2C ensures that all hello controls are HTML5 compliant and accessible, all hello controls can be fully styled, and that a control version will not regress.</span></span>

<span data-ttu-id="cf014-123">Hello объединенное содержимое в конечном итоге отображаются в виде потребитель tooyour hello динамического документа.</span><span class="sxs-lookup"><span data-stu-id="cf014-123">hello merged content is eventually displayed as hello dynamic document tooyour consumer.</span></span>

<span data-ttu-id="cf014-124">tooensure из hello выше работает должным образом, необходимо:</span><span class="sxs-lookup"><span data-stu-id="cf014-124">tooensure of hello above works as expected, you must:</span></span>

- <span data-ttu-id="cf014-125">Убедитесь, что содержимое HTML5 соответствует и доступно.</span><span class="sxs-lookup"><span data-stu-id="cf014-125">Ensure your content is HTML5 compliant and accessible</span></span>
- <span data-ttu-id="cf014-126">Убедитесь, что на сервере содержимого включен механизм CORS.</span><span class="sxs-lookup"><span data-stu-id="cf014-126">Ensure your content server is enabled for CORS.</span></span>
- <span data-ttu-id="cf014-127">Передавайте содержимое по протоколу HTTPS.</span><span class="sxs-lookup"><span data-stu-id="cf014-127">Serve content over HTTPS.</span></span>
- <span data-ttu-id="cf014-128">Используйте абсолютные URL-адреса для всех ссылок и содержимого CSS, например https://yourdomain/content.</span><span class="sxs-lookup"><span data-stu-id="cf014-128">Use absolute URLS such as https://yourdomain/content for all links and CSS content.</span></span>

> [!TIP]
> <span data-ttu-id="cf014-129">tooverify, hello в размещается контент сайта имеет включен CORS и запросов CORS тестов, можно использовать узел http://test-cors.org/ hello.</span><span class="sxs-lookup"><span data-stu-id="cf014-129">tooverify that hello site you are hosting your content on has CORS enabled and test CORS requests, you can use hello site http://test-cors.org/.</span></span> <span data-ttu-id="cf014-130">Спасибо toothis сайта, можно просто отправить hello CORS запрос tooa к удаленному серверу (если поддерживается CORS tootest), или отправить hello CORS запроса tooa тестового сервера (tooexplore некоторых функций CORS).</span><span class="sxs-lookup"><span data-stu-id="cf014-130">Thanks toothis site, you can simply either send hello CORS request tooa remote server (tootest if CORS is supported), or send hello CORS request tooa test server (tooexplore certain features of CORS).</span></span>

> [!TIP]
> <span data-ttu-id="cf014-131">Hello сайта http://enable-cors.org/ также составляет более полезные ресурсы для CORS.</span><span class="sxs-lookup"><span data-stu-id="cf014-131">hello site http://enable-cors.org/ also constitutes a more than useful resources on CORS.</span></span>

<span data-ttu-id="cf014-132">Благодаря использованию toothis подход на основе CORS hello конечным пользователям будет иметь одинаковое отображение между приложением и обслуживается Azure AD B2C страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="cf014-132">Thanks toothis CORS-based approach, hello end users will then have consistent experiences between your application and hello pages served by Azure AD B2C.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="cf014-133">Создайте учетную запись хранения.</span><span class="sxs-lookup"><span data-stu-id="cf014-133">Create a storage account</span></span>

<span data-ttu-id="cf014-134">Перед началом необходимо toocreate учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="cf014-134">As a prerequisite, you need toocreate a storage account.</span></span> <span data-ttu-id="cf014-135">Вам потребуется подписка Azure toocreate учетную запись хранилища больших двоичных объектов.</span><span class="sxs-lookup"><span data-stu-id="cf014-135">You will need an Azure subscription toocreate an Azure Blob Storage account.</span></span> <span data-ttu-id="cf014-136">Можно зарегистрировать бесплатную пробную версию на hello [веб-сайте Azure](https://azure.microsoft.com/en-us/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="cf014-136">You can sign up a free trial at hello [Azure website](https://azure.microsoft.com/en-us/pricing/free-trial/).</span></span>

1. <span data-ttu-id="cf014-137">Откройте сеанс браузера и перейдите toohello [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="cf014-137">Open a browsing session and navigate toohello [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="cf014-138">Выполните вход с использованием учетных данных администратора.</span><span class="sxs-lookup"><span data-stu-id="cf014-138">Sign in with your administrative credentials.</span></span>
3. <span data-ttu-id="cf014-139">Последовательно выберите пункты **+Создать** > **Данные+хранилище** > **Учетная запись хранения**.</span><span class="sxs-lookup"><span data-stu-id="cf014-139">Click **New** > **Data + Storage** > **Storage account**.</span></span>  <span data-ttu-id="cf014-140">Откроется колонка **Создание учетной записи хранения**.</span><span class="sxs-lookup"><span data-stu-id="cf014-140">A **Create storage account** blade opens up.</span></span>
4. <span data-ttu-id="cf014-141">В **имя**, например, введите имя для учетной записи хранения hello, *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="cf014-141">In **Name**, provide a name for hello storage account, for example, *contoso369b2c*.</span></span> <span data-ttu-id="cf014-142">Это значение будет позже называться слишком*storageAccountName*.</span><span class="sxs-lookup"><span data-stu-id="cf014-142">This value will be later referred as too*storageAccountName*.</span></span>
5. <span data-ttu-id="cf014-143">Выберите hello соответствующие значения для hello Ценовая категория, группа ресурсов hello и hello подписки.</span><span class="sxs-lookup"><span data-stu-id="cf014-143">Pick hello appropriate selections for hello pricing tier, hello resource group and hello subscription.</span></span> <span data-ttu-id="cf014-144">Убедитесь, что имеется hello **tooStartboard ПИН-код** установлен.</span><span class="sxs-lookup"><span data-stu-id="cf014-144">Make sure that you have hello **Pin tooStartboard** option checked.</span></span> <span data-ttu-id="cf014-145">Щелкните **Создать**.</span><span class="sxs-lookup"><span data-stu-id="cf014-145">Click **Create**.</span></span>
6. <span data-ttu-id="cf014-146">Вернитесь toohello начальной панели и выберите учетную запись хранения hello только что созданный.</span><span class="sxs-lookup"><span data-stu-id="cf014-146">Go back toohello Startboard and click hello storage account that you just created.</span></span>
7. <span data-ttu-id="cf014-147">В hello **службы** щелкните **большие двоичные объекты**.</span><span class="sxs-lookup"><span data-stu-id="cf014-147">In hello **Services** section, click **Blobs**.</span></span> <span data-ttu-id="cf014-148">Откроется колонка **Служба BLOB-объектов**.</span><span class="sxs-lookup"><span data-stu-id="cf014-148">A **Blob service blade** opens up.</span></span>
8. <span data-ttu-id="cf014-149">Щелкните **+ Container** (+ Контейнер).</span><span class="sxs-lookup"><span data-stu-id="cf014-149">Click **+ Container**.</span></span>
9. <span data-ttu-id="cf014-150">В **имя**, например, введите имя для контейнера hello *b2c*.</span><span class="sxs-lookup"><span data-stu-id="cf014-150">In **Name**, provide a name for hello container, for example, *b2c*.</span></span> <span data-ttu-id="cf014-151">Это значение будет позже ссылка tooas *containerName*.</span><span class="sxs-lookup"><span data-stu-id="cf014-151">This value will be later referred tooas *containerName*.</span></span>
9. <span data-ttu-id="cf014-152">Выберите **большого двоичного объекта** как hello **тип доступа**.</span><span class="sxs-lookup"><span data-stu-id="cf014-152">Select **Blob** as hello **Access type**.</span></span> <span data-ttu-id="cf014-153">Щелкните **Создать**.</span><span class="sxs-lookup"><span data-stu-id="cf014-153">Click **Create**.</span></span>
10. <span data-ttu-id="cf014-154">Hello контейнер, который вы создали будет отображаться в списке hello на hello **колонке службы BLOB-объекта**.</span><span class="sxs-lookup"><span data-stu-id="cf014-154">hello container that you created will appear in hello list on hello **Blob service blade**.</span></span>
11. <span data-ttu-id="cf014-155">Закрыть hello **большие двоичные объекты** колонку.</span><span class="sxs-lookup"><span data-stu-id="cf014-155">Close hello **Blobs** blade.</span></span>
12. <span data-ttu-id="cf014-156">На hello **колонке учетной записи хранилища**, нажмите кнопку hello **ключ** значок.</span><span class="sxs-lookup"><span data-stu-id="cf014-156">On hello **storage account blade**, click hello **Key** icon.</span></span> <span data-ttu-id="cf014-157">Откроется колонка **Ключи доступа**.</span><span class="sxs-lookup"><span data-stu-id="cf014-157">An **Access keys blade** opens up.</span></span>  
13. <span data-ttu-id="cf014-158">Запишите значение hello **key1**.</span><span class="sxs-lookup"><span data-stu-id="cf014-158">Write down hello value of **key1**.</span></span> <span data-ttu-id="cf014-159">Это значение будет позже называться *key1*.</span><span class="sxs-lookup"><span data-stu-id="cf014-159">This value will be later referred as *key1*.</span></span>

## <a name="downloading-hello-helper-tool"></a><span data-ttu-id="cf014-160">Вспомогательное средство по загрузке hello</span><span class="sxs-lookup"><span data-stu-id="cf014-160">Downloading hello helper tool</span></span>

1.  <span data-ttu-id="cf014-161">Загрузите средство поддержки hello из [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span><span class="sxs-lookup"><span data-stu-id="cf014-161">Download hello helper tool from [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span></span>
2.  <span data-ttu-id="cf014-162">Сохранить hello *B2C AzureBlobStorage-клиент master.zip* файл на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="cf014-162">Save hello *B2C-AzureBlobStorage-Client-master.zip* file on your local machine.</span></span>
3.  <span data-ttu-id="cf014-163">Извлечение содержимого hello hello B2C AzureBlobStorage-клиент master.zip файла на локальном диске, например в разделе hello **пакета поддержки интерфейса настройки** папки.</span><span class="sxs-lookup"><span data-stu-id="cf014-163">Extract hello content of hello B2C-AzureBlobStorage-Client-master.zip file on your local disk, for example under hello **UI-Customization-Pack** folder.</span></span> <span data-ttu-id="cf014-164">В ней появится папка *B2C-AzureBlobStorage-Client-master*.</span><span class="sxs-lookup"><span data-stu-id="cf014-164">This will create a *B2C-AzureBlobStorage-Client-master* folder underneath.</span></span>
4.  <span data-ttu-id="cf014-165">Откройте эту папку и извлеките содержимое файла архива hello hello *B2CAzureStorageClient.zip* внутри него.</span><span class="sxs-lookup"><span data-stu-id="cf014-165">Open that folder and extract hello content of hello archive file *B2CAzureStorageClient.zip* within it.</span></span>

## <a name="upload-hello-ui-customization-pack-sample-files"></a><span data-ttu-id="cf014-166">Отправка файлов образца hello настройки пакета поддержки интерфейса</span><span class="sxs-lookup"><span data-stu-id="cf014-166">Upload hello UI-Customization-Pack sample files</span></span>

1.  <span data-ttu-id="cf014-167">С помощью проводника Windows перейдите в папку toohello *B2C AzureBlobStorage-клиент главными* в компоненте hello *пакета поддержки интерфейса настройки* папки, созданной в предыдущем разделе hello.</span><span class="sxs-lookup"><span data-stu-id="cf014-167">Using Windows Explorer, navigate toohello folder *B2C-AzureBlobStorage-Client-master* located under hello *UI-Customization-Pack* folder created in hello previous section.</span></span>
2.  <span data-ttu-id="cf014-168">Запустите hello *B2CAzureStorageClient.exe* файла.</span><span class="sxs-lookup"><span data-stu-id="cf014-168">Run hello *B2CAzureStorageClient.exe* file.</span></span> <span data-ttu-id="cf014-169">Эта программа будет просто отправьте все файлы hello в каталоге hello, укажите учетную запись хранения tooyour и включить CORS доступ для этих файлов.</span><span class="sxs-lookup"><span data-stu-id="cf014-169">This program will simply upload all hello files in hello directory that you specify tooyour storage account, and enable CORS access for those files.</span></span>
3.  <span data-ttu-id="cf014-170">При появлении запроса укажите:</span><span class="sxs-lookup"><span data-stu-id="cf014-170">When prompted, specify: a.</span></span>  <span data-ttu-id="cf014-171">имя вашей учетной записи хранения Hello *storageAccountName*, например *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="cf014-171">hello name of your storage account, *storageAccountName*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="cf014-172">b.</span><span class="sxs-lookup"><span data-stu-id="cf014-172">b.</span></span>  <span data-ttu-id="cf014-173">Hello первичный ключ доступа хранилища BLOB-объектов azure, *key1*, например *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="cf014-173">hello primary access key of your azure blob storage, *key1*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="cf014-174">c.</span><span class="sxs-lookup"><span data-stu-id="cf014-174">c.</span></span>  <span data-ttu-id="cf014-175">Имя контейнера хранилища BLOB-объекта хранилища, Hello *containerName*, например *b2c*.</span><span class="sxs-lookup"><span data-stu-id="cf014-175">hello name of your storage blob storage container, *containerName*, for example *b2c*.</span></span>
    <span data-ttu-id="cf014-176">d.</span><span class="sxs-lookup"><span data-stu-id="cf014-176">d.</span></span>  <span data-ttu-id="cf014-177">путь Hello hello *пакет начального* образцы файлов, например *... \B2CTemplates\wingtiptoys*.</span><span class="sxs-lookup"><span data-stu-id="cf014-177">hello path of hello *Starter-Pack* sample files, for example *..\B2CTemplates\wingtiptoys*.</span></span>

<span data-ttu-id="cf014-178">HTML5 и CSS-файлы из hello Здравствуйте, если вы следовали приведенным выше шагам hello, *пакета поддержки интерфейса настройки* для вымышленной компании hello **wingtiptoys** будет указывать tooyour учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="cf014-178">If you followed hello steps above, hello HTML5 and CSS files of hello *UI-Customization-Pack* for hello fictitious company **wingtiptoys** will now be pointing tooyour storage account.</span></span>  <span data-ttu-id="cf014-179">Вы можете проверить, содержимое hello отправлен правильно, открыв колонку связанных контейнеров hello в hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="cf014-179">You can verify that hello content has been uploaded correctly by opening hello related container blade in hello Azure portal.</span></span> <span data-ttu-id="cf014-180">Кроме того, вы можете проверить, содержимое hello отправлен правильно hello страницу в браузере.</span><span class="sxs-lookup"><span data-stu-id="cf014-180">You can alternatively verify that hello content has been uploaded correctly by accessing hello page from a browser.</span></span> <span data-ttu-id="cf014-181">Дополнительные сведения см. в разделе [Azure Active Directory B2C: функции toodemonstrate hello страницы пользовательского интерфейса (UI) настройки используется вспомогательное средство](active-directory-b2c-reference-ui-customization-helper-tool.md).</span><span class="sxs-lookup"><span data-stu-id="cf014-181">For more information, see [Azure Active Directory B2C: A helper tool used toodemonstrate hello page user interface (UI) customization feature](active-directory-b2c-reference-ui-customization-helper-tool.md).</span></span>

## <a name="ensure-hello-storage-account-has-cors-enabled"></a><span data-ttu-id="cf014-182">Убедитесь, что учетная запись хранения hello CORS включен</span><span class="sxs-lookup"><span data-stu-id="cf014-182">Ensure hello storage account has CORS enabled</span></span>

<span data-ttu-id="cf014-183">CORS (доступ к ресурсам независимо от источника) должен быть включен на конечной точке для Azure AD B2C Premium tooload контента.</span><span class="sxs-lookup"><span data-stu-id="cf014-183">CORS (Cross-Origin Resource Sharing) must be enabled on your endpoint for Azure AD B2C Premium tooload your content.</span></span> <span data-ttu-id="cf014-184">Это так, как содержимое размещается на другом домене не hello домен Azure AD B2C Premium будут содержать страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="cf014-184">This is because your content is hosted on a different domain than hello domain Azure AD B2C Premium will be serving hello page from.</span></span>

<span data-ttu-id="cf014-185">tooverify с CORS включен, hello хранилища в размещается контент продолжить hello следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="cf014-185">tooverify that hello storage you are hosting your content on has CORS enabled, proceed with hello following steps:</span></span>

1. <span data-ttu-id="cf014-186">Откройте сеанс просмотра и перейдите на страницу toohello *unified.html* hello полный URL-адрес расположения в вашей учетной записи хранилища с помощью `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span><span class="sxs-lookup"><span data-stu-id="cf014-186">Open a browsing session and navigate toohello page *unified.html* using hello full URL of its location in your storage account, `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span></span> <span data-ttu-id="cf014-187">Например, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span><span class="sxs-lookup"><span data-stu-id="cf014-187">For example, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span></span>
2. <span data-ttu-id="cf014-188">Перейдите toohttp://test-cors.org. Этот узел позволяет вам tooverify, hello страницу, которую вы используете был включен CORS.</span><span class="sxs-lookup"><span data-stu-id="cf014-188">Navigate toohttp://test-cors.org. This site allows you tooverify that hello page you are using has CORS enabled.</span></span>  
<!--
![test-cors.org](../../media/active-directory-b2c-customize-ui-of-a-user-journey/test-cors.png)
-->

3. <span data-ttu-id="cf014-189">В **URL-адрес удаленного**, введите полный URL-адрес hello unified.html содержимого и нажмите кнопку **запроса на отправку**.</span><span class="sxs-lookup"><span data-stu-id="cf014-189">In **Remote URL**, enter hello full URL for your unified.html content, and click **Send Request**.</span></span>
4. <span data-ttu-id="cf014-190">Проверьте выходные данные hello в hello **результатов** раздел содержит *XHR состояния: 200*.</span><span class="sxs-lookup"><span data-stu-id="cf014-190">Verify that hello output in hello **Results** section contains *XHR status: 200*.</span></span> <span data-ttu-id="cf014-191">Это означает, что CORS включен.</span><span class="sxs-lookup"><span data-stu-id="cf014-191">This indicates that CORS is enabled.</span></span>
<!--
![CORS enabled](../../media/active-directory-b2c-customize-ui-of-a-user-journey/cors-enabled.png)
-->
<span data-ttu-id="cf014-192">Учетная запись хранения Hello теперь должен содержать контейнер больших двоичных объектов с именем *b2c* нашей иллюстрации, содержащий следующую wingtiptoys шаблоны из hello hello *пакет начального*.</span><span class="sxs-lookup"><span data-stu-id="cf014-192">hello storage account should now contain a blob container named *b2c* in our illustration that contains hello following wingtiptoys templates from hello *Starter-Pack*.</span></span>

<!--
![Correctly configured storage account](../../articles/active-directory-b2c/media/active-directory-b2c-reference-customize-ui-custom/storage-account-final.png)
-->

<span data-ttu-id="cf014-193">Hello Следующая таблица содержит описание hello назначения hello выше HTML5 страниц.</span><span class="sxs-lookup"><span data-stu-id="cf014-193">hello following table describes hello purpose of hello above HTML5 pages.</span></span>

| <span data-ttu-id="cf014-194">Шаблон HTML5</span><span class="sxs-lookup"><span data-stu-id="cf014-194">HTML5 template</span></span> | <span data-ttu-id="cf014-195">Описание</span><span class="sxs-lookup"><span data-stu-id="cf014-195">Description</span></span> |
|----------------|-------------|
| <span data-ttu-id="cf014-196">*phonefactor.html*</span><span class="sxs-lookup"><span data-stu-id="cf014-196">*phonefactor.html*</span></span> | <span data-ttu-id="cf014-197">Эта страница используется как шаблон для страницы Многофакторной идентификации.</span><span class="sxs-lookup"><span data-stu-id="cf014-197">This page can be used as a template for a multi-factor authentication page.</span></span> |
| <span data-ttu-id="cf014-198">*ResetPassword.html*</span><span class="sxs-lookup"><span data-stu-id="cf014-198">*resetpassword.html*</span></span> | <span data-ttu-id="cf014-199">Эту страницу можно использовать в качестве шаблона для страницы восстановления пароля.</span><span class="sxs-lookup"><span data-stu-id="cf014-199">This page can be used as a template for a forgot password page.</span></span> |
| <span data-ttu-id="cf014-200">*selfasserted.html*</span><span class="sxs-lookup"><span data-stu-id="cf014-200">*selfasserted.html*</span></span> | <span data-ttu-id="cf014-201">Эта страница используется как шаблон для страницы регистрации учетных записей социальных сетей, страницы регистрации локальной учетной записи или страницы входа в локальную учетную запись.</span><span class="sxs-lookup"><span data-stu-id="cf014-201">This page can be used as a template for a social account sign-up page, a local account sign-up page, or a local account sign-in page.</span></span> |
| <span data-ttu-id="cf014-202">*unified.html*</span><span class="sxs-lookup"><span data-stu-id="cf014-202">*unified.html*</span></span> | <span data-ttu-id="cf014-203">Эта страница используется как шаблон для единой страницы регистрации или входа в систему.</span><span class="sxs-lookup"><span data-stu-id="cf014-203">This page can be used as a template for a unified sign-up or sign-in page.</span></span> |
| <span data-ttu-id="cf014-204">*updateprofile.html*</span><span class="sxs-lookup"><span data-stu-id="cf014-204">*updateprofile.html*</span></span> | <span data-ttu-id="cf014-205">Эта страница используется как шаблон для страницы обновления профиля.</span><span class="sxs-lookup"><span data-stu-id="cf014-205">This page can be used as a template for a profile update page.</span></span> |

## <a name="add-a-link-tooyour-html5css-templates-tooyour-user-journey"></a><span data-ttu-id="cf014-206">Добавить ссылку tooyour HTML5/CSS шаблоны tooyour пользователя поездки.</span><span class="sxs-lookup"><span data-stu-id="cf014-206">Add a link tooyour HTML5/CSS templates tooyour user journey</span></span>

<span data-ttu-id="cf014-207">Путешествия ссылку Шаблоны HTML5/CSS tooyour tooyour пользователя можно добавить путем непосредственного изменения настраиваемой политики.</span><span class="sxs-lookup"><span data-stu-id="cf014-207">You can add a link tooyour HTML5/CSS templates tooyour user journey by editing a custom policy directly.</span></span>

<span data-ttu-id="cf014-208">пользовательские toouse шаблоны HTML5/CSS Hello в поездке пользователя имеют toobe, указанные в списке содержимого определений, которые можно использовать в пути этих пользователей.</span><span class="sxs-lookup"><span data-stu-id="cf014-208">hello custom HTML5/CSS templates toouse in your user journey have toobe specified in a list of content definitions that can be used in those user journeys.</span></span> <span data-ttu-id="cf014-209">Для этой цели необязательный  *<ContentDefinitions>*  XML должен быть объявлен в hello  *<BuildingBlocks>*  вашей настраиваемой политики XML-файла.</span><span class="sxs-lookup"><span data-stu-id="cf014-209">For that purpose, an optional *<ContentDefinitions>* XML element must be declared under hello *<BuildingBlocks>* section of your custom policy XML file.</span></span>

<span data-ttu-id="cf014-210">Hello следующей таблице описаны hello набор идентификаторов определение содержимого, распознаваемые engine качества hello Azure AD B2C удостоверение и типом hello страниц, связанным toothem.</span><span class="sxs-lookup"><span data-stu-id="cf014-210">hello following table describes hello set of content definition ids recognized by hello Azure AD B2C identity experience engine and hello type of pages that relates toothem.</span></span>

| <span data-ttu-id="cf014-211">Идентификатор определения содержимого</span><span class="sxs-lookup"><span data-stu-id="cf014-211">Content definition id</span></span> | <span data-ttu-id="cf014-212">Описание</span><span class="sxs-lookup"><span data-stu-id="cf014-212">Description</span></span> |
|-----------------------|-------------|
| <span data-ttu-id="cf014-213">*api.error*</span><span class="sxs-lookup"><span data-stu-id="cf014-213">*api.error*</span></span> | <span data-ttu-id="cf014-214">**Страница ошибки.**</span><span class="sxs-lookup"><span data-stu-id="cf014-214">**Error page**.</span></span> <span data-ttu-id="cf014-215">Эта страница отображается при обнаружении исключения или ошибки.</span><span class="sxs-lookup"><span data-stu-id="cf014-215">This page is displayed when an exception or an error is encountered.</span></span> |
| <span data-ttu-id="cf014-216">*api.idpselections*</span><span class="sxs-lookup"><span data-stu-id="cf014-216">*api.idpselections*</span></span> | <span data-ttu-id="cf014-217">**Страница выбора поставщика удостоверений.**</span><span class="sxs-lookup"><span data-stu-id="cf014-217">**Identity provider selection page**.</span></span> <span data-ttu-id="cf014-218">Эта страница содержит список идентификаторов, можно выбрать поставщиков, которые hello пользователя при входе в систему.</span><span class="sxs-lookup"><span data-stu-id="cf014-218">This page contains a list of identity providers that hello user can choose from during sign-in.</span></span> <span data-ttu-id="cf014-219">Это поставщики удостоверений организаций, социальных сетей, например Facebook и Google+, или локальных учетных записей (адрес электронной почты или имя пользователя).</span><span class="sxs-lookup"><span data-stu-id="cf014-219">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="cf014-220">*api.idpselections.signup*</span><span class="sxs-lookup"><span data-stu-id="cf014-220">*api.idpselections.signup*</span></span> | <span data-ttu-id="cf014-221">**Выбор поставщика удостоверений для регистрации.**</span><span class="sxs-lookup"><span data-stu-id="cf014-221">**Identity provider selection for sign-up**.</span></span> <span data-ttu-id="cf014-222">Эта страница содержит список идентификаторов, которые можно выбрать поставщиков, которые hello пользователя во время регистрации.</span><span class="sxs-lookup"><span data-stu-id="cf014-222">This page contains a list of identity providers that hello user can choose from during sign-up.</span></span> <span data-ttu-id="cf014-223">Это поставщики удостоверений организаций, социальных сетей, например Facebook и Google+, или локальных учетных записей (адрес электронной почты или имя пользователя).</span><span class="sxs-lookup"><span data-stu-id="cf014-223">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="cf014-224">*api.localaccountpasswordreset*</span><span class="sxs-lookup"><span data-stu-id="cf014-224">*api.localaccountpasswordreset*</span></span> | <span data-ttu-id="cf014-225">**Страница восстановления пароля.**</span><span class="sxs-lookup"><span data-stu-id="cf014-225">**Forgot password page**.</span></span> <span data-ttu-id="cf014-226">Эта страница содержит форму пользователь hello не tooinitiate toofill сбросить свой пароль.</span><span class="sxs-lookup"><span data-stu-id="cf014-226">This page contains a form that hello user has toofill tooinitiate their password reset.</span></span>  |
| <span data-ttu-id="cf014-227">*api.localaccountsignin*</span><span class="sxs-lookup"><span data-stu-id="cf014-227">*api.localaccountsignin*</span></span> | <span data-ttu-id="cf014-228">**Страница входа в локальную учетную запись.**</span><span class="sxs-lookup"><span data-stu-id="cf014-228">**Local account sign-in page**.</span></span> <span data-ttu-id="cf014-229">Эта страница содержит форму входа этого пользователя hello имеет toofill в при входе с использованием локальной учетной записи, которая основана на адрес электронной почты или имя пользователя.</span><span class="sxs-lookup"><span data-stu-id="cf014-229">This page contains a sign-in form that hello user has toofill in when signing in with a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="cf014-230">Hello форма может содержать поля ввода текста и окне ввода пароля.</span><span class="sxs-lookup"><span data-stu-id="cf014-230">hello form can contain a text input box and password entry box.</span></span> |
| <span data-ttu-id="cf014-231">*api.localaccountsignup*</span><span class="sxs-lookup"><span data-stu-id="cf014-231">*api.localaccountsignup*</span></span> | <span data-ttu-id="cf014-232">**Страница регистрации локальной учетной записи.**</span><span class="sxs-lookup"><span data-stu-id="cf014-232">**Local account sign-up page**.</span></span> <span data-ttu-id="cf014-233">Эта страница содержит форму регистрации пользователя hello имеет toofill в при регистрации для локальной учетной записи, которая основана на адрес электронной почты или имя пользователя.</span><span class="sxs-lookup"><span data-stu-id="cf014-233">This page contains a sign-up form that hello user has toofill in when signing up for a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="cf014-234">Hello форма может содержать различные элементы управления для ввода как поле ввода текста, окне ввода пароля, переключатель, раскрывающихся списков выберите один и выбрать несколько флажков.</span><span class="sxs-lookup"><span data-stu-id="cf014-234">hello form can contain different input controls such as text input box, password entry box, radio button, single-select drop-down boxes, and multi-select check boxes.</span></span> |
| <span data-ttu-id="cf014-235">*api.phonefactor*</span><span class="sxs-lookup"><span data-stu-id="cf014-235">*api.phonefactor*</span></span> | <span data-ttu-id="cf014-236">**Страница Многофакторной идентификации.**</span><span class="sxs-lookup"><span data-stu-id="cf014-236">**Multi-factor authentication page**.</span></span> <span data-ttu-id="cf014-237">Эта страница позволяет пользователю подтвердить свой номер телефона (с помощью SMS-сообщения или голосового звонка) во время регистрации или входа.</span><span class="sxs-lookup"><span data-stu-id="cf014-237">On this page, users can verify their phone numbers (using text or voice) during sign-up or sign-in.</span></span> |
| <span data-ttu-id="cf014-238">*api.selfasserted*</span><span class="sxs-lookup"><span data-stu-id="cf014-238">*api.selfasserted*</span></span> | <span data-ttu-id="cf014-239">**Страница регистрации учетной записи социальных сетей.**</span><span class="sxs-lookup"><span data-stu-id="cf014-239">**Social account sign-up page**.</span></span> <span data-ttu-id="cf014-240">Эта страница содержит форму регистрации пользователь hello не toofill в при регистрации с помощью существующей учетной записи от поставщика удостоверений из социальных сетей, например Facebook или Google +.</span><span class="sxs-lookup"><span data-stu-id="cf014-240">This page contains a sign-up form that hello user has toofill in when signing up using an existing account from a social identity provider such as Facebook or Google+.</span></span> <span data-ttu-id="cf014-241">Данная страница является аналогичные toohello выше страницы регистрации социальных учетной записи с исключением hello hello полей ввода пароля.</span><span class="sxs-lookup"><span data-stu-id="cf014-241">This page is similar toohello above social account sign-up page with hello exception of hello password entry fields.</span></span> |
| <span data-ttu-id="cf014-242">*api.selfasserted.profileupdate*</span><span class="sxs-lookup"><span data-stu-id="cf014-242">*api.selfasserted.profileupdate*</span></span> | <span data-ttu-id="cf014-243">**Страница обновления профиля.**</span><span class="sxs-lookup"><span data-stu-id="cf014-243">**Profile update page**.</span></span> <span data-ttu-id="cf014-244">Эта страница содержит форму hello пользователя можно использовать tooupdate свой профиль.</span><span class="sxs-lookup"><span data-stu-id="cf014-244">This page contains a form that hello user can use tooupdate their profile.</span></span> <span data-ttu-id="cf014-245">Данная страница является аналогичные toohello выше страницы регистрации социальных учетной записи с исключением hello hello полей ввода пароля.</span><span class="sxs-lookup"><span data-stu-id="cf014-245">This page is similar toohello above social account sign-up page with hello exception of hello password entry fields.</span></span> |
| <span data-ttu-id="cf014-246">*api.signuporsignin*</span><span class="sxs-lookup"><span data-stu-id="cf014-246">*api.signuporsignin*</span></span> | <span data-ttu-id="cf014-247">**Единая страница регистрации или входа.**</span><span class="sxs-lookup"><span data-stu-id="cf014-247">**Unified sign-up or sign-in page**.</span></span>  <span data-ttu-id="cf014-248">На этой странице обрабатывается регистрация и вход пользователей, которые могут использовать поставщики удостоверений организаций, поставщики удостоверений социальных сетей, такие как Facebook или Google+, или локальные учетные записи.</span><span class="sxs-lookup"><span data-stu-id="cf014-248">This page handles both sign-up & sign-in of users, who can use enterprise identity providers, social identity providers such as Facebook or Google+, or local accounts.</span></span>

## <a name="next-steps"></a><span data-ttu-id="cf014-249">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="cf014-249">Next steps</span></span>
[<span data-ttu-id="cf014-250">Ссылка: Понять, каким образом пользовательские политики работают с hello Identity Framework взаимодействие в B2C</span><span class="sxs-lookup"><span data-stu-id="cf014-250">Reference: Understand how custom policies work with hello Identity Experience Framework in B2C</span></span>](active-directory-b2c-reference-custom-policies-understanding-contents.md)
