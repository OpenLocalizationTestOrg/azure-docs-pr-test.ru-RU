---
title: "Azure Active Directory B2C: настройка маркера, сеанса и единого входа | Документация Майкрософт"
description: "Конфигурация маркера, сеанса и единого входа в Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: swkrish
manager: mbaldwin
editor: bryanla
ms.assetid: e78e6344-0089-49bf-8c7b-5f634326f58c
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/26/2017
ms.author: swkrish
ms.openlocfilehash: 63325ed97a7363723c97ee3a992046ebb5592662
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-token-session-and-single-sign-on-configuration"></a>Azure Active Directory B2C: конфигурация маркера, сеанса и единого входа
Эта возможность обеспечивает более точный контроль указанных далее параметров, осуществляемый [для каждой политики](active-directory-b2c-reference-policies.md).

1. Время существования маркеров безопасности, выдаваемых Azure Active Directory (Azure AD) B2C.
2. Время существования сеансов веб-приложения, управляемых Azure AD B2C.
3. Форматы важные утверждений в токенах безопасности hello, создаваемых Azure AD B2C.
4. Поведение единого входа (SSO) в нескольких приложениях и политиках в клиенте B2C.

Далее приводятся указания по использованию этой функции в клиенте B2C.

1. Выполните следующие действия слишком[перейдите в колонку функции toohello B2C](active-directory-b2c-app-registration.md#navigate-to-b2c-settings) на hello портал Azure.
2. Щелкните **Политики входа**. *Примечание. Эту функцию можно использовать с любым типом политики, а не только с **политиками входа***.
3. Откройте политику, щелкнув ее. Например, щелкните **B2C_1_SiIn**.
4. Нажмите кнопку **изменить** hello верхней части колонки hello.
5. Щелкните **Конфигурация маркера, сеанса и единого входа**.
6. Внесите нужные изменения. Сведения о доступных свойствах см. в последующих разделах.
7. Нажмите кнопку **ОК**.
8. Нажмите кнопку **Сохранить** на hello верхней части колонки hello.

## <a name="token-lifetimes-configuration"></a>Конфигурация времени существования маркеров
Azure AD B2C поддерживает hello [протокола авторизации OAuth 2.0](active-directory-b2c-reference-protocols.md) для включения защиты доступа к tooprotected ресурсов. tooimplement эта поддержка Azure AD B2C выдает различные [маркеры безопасности](active-directory-b2c-reference-tokens.md). Это свойства hello, можно использовать время существования маркеров безопасности, создаваемых Azure AD B2C toomanage:

* **Доступ к & идентификатор токена время жизни (мин)**: hello время существования маркера используется toogain доступа OAuth 2.0 hello носителя tooa защищенный ресурс. На данный момент Azure AD B2C выдает только маркеры идентификаторов. Это значение будет применена tooaccess токены, когда мы добавили поддержку для них.
  * Значение по умолчанию — 60 минут.
  * Минимум (включительно) — 5 минут.
  * Максимум (включительно) — 1440 минут.
* **Обновить время жизни токена (в днях)**: hello максимальный период, перед которым токен обновления может быть tooacquire используется новый доступ или маркер идентификатора (и при необходимости новый токен обновления, если приложение предоставлено hello `offline_access` область).
  * Значение по умолчанию — 14 дней.
  * Минимум (включительно) — 1 день.
  * Максимум (включительно) — 90 дней.
* **Обновить время существования маркера скользящего окна (в днях)**: после принудительного toore пользователя hello истечении этого времени-проверки подлинности, независимо от того, срок действия hello токен самые последние обновления получена приложением hello hello. Он может быть задан, только если hello переключатель установлен слишком**Bounded**. Требует toobe больше или равно toohello **время существования токена обновления (в днях)** значение. Если переключатель hello установлен слишком**Unbounded**, не может предоставить конкретное значение.
  * Значение по умолчанию — 90 дней.
  * Минимум (включительно) — 1 день.
  * Максимум (включительно) — 365 дней.

Ниже приведено несколько вариантов использования, которые можно реализовать с помощью этих свойств.

* Разрешить toostay пользователя, вход в мобильные приложения неопределенно долгое время, при условии, что он или она активна постоянно в приложение hello. Это можно сделать, установка hello **обновления скользящее окно времени существования маркера (в днях)** переключения слишком**Unbounded** в политике вход.
* Требованиям вашей отрасли безопасности и соответствия требованиям, задав hello времени жизни токенов соответствующие права доступа.

    > [!NOTE]
    > Эти параметры недоступны для политик сброса пароля.
    > 
    > 

## <a name="token-compatibility-settings"></a>Параметры маркеров совместимости
Мы внесли форматирования изменения tooimportant утверждений в токенах безопасности, создаваемых Azure AD B2C. Это было сделано tooimprove поддержка стандартного протокола и для улучшения возможностей взаимодействия с использованием удостоверения сторонних библиотек. Однако tooavoid переноса существующих приложений, мы создали hello следующие свойства tooallow клиентов tooopt-при необходимости:

* **Утверждение издателя (iss)**: Определяет клиента Azure AD B2C hello, выдавшего токен hello.
  * `https://login.microsoftonline.com/{B2C tenant GUID}/v2.0/`: Это значение по умолчанию hello.
  * `https://login.microsoftonline.com/tfp/{B2C tenant GUID}/{Policy ID}/v2.0/`: Это значение включает идентификаторы для hello B2C клиента и hello политику, используемую в запросе токена hello. Если приложение или библиотека требуется Azure AD B2C toobe соответствуют hello [OpenID Connect 1.0 обнаружения spec](http://openid.net/specs/openid-connect-discovery-1_0.html), используйте это значение.
* **Утверждение темы (sub)**: определяет сущности hello, т. е. пользователь hello, какие hello информацию подтверждает маркер.
  * **ObjectID**: это значение по умолчанию hello. Он заполняет идентификатор hello объекта hello пользователя в каталоге hello в hello `sub` утверждения в маркере hello.
  * **Не поддерживается**: это предоставляется только для обратной совместимости, и мы рекомендуем слишком переключения**ObjectID** как можно скорее возможность.
* **Утверждение, представляющее идентификатор политики**: Определяет тип утверждения hello, в которой hello заполняется идентификатор политики, используемый в запросе токена hello.
  * **tfp**: это значение по умолчанию hello.
  * **записи контроля доступа**: это предоставляется только для обратной совместимости, и мы рекомендуем слишком переключения`tfp` как можно скорее возможность.

## <a name="session-behavior"></a>Режим работы сеанса
Azure AD B2C поддерживает hello [протокол проверки подлинности OpenID Connect](active-directory-b2c-reference-oidc.md) позволяет приложениям безопасного tooweb. Это свойства hello, можно использовать toomanage сессии веб-приложения:

* **Веб-приложение, время жизни сеанса (в минутах)**: hello время существования файла cookie сеанса Azure AD B2C, хранимых в браузере пользователя hello после успешной проверки подлинности.
  * Значение по умолчанию — 1440 минут.
  * Минимум (включительно) — 15 минут.
  * Максимум (включительно) — 1440 минут.
* **Время ожидания сеанса приложения Web**: Если этот переключатель установлен слишком**абсолютный**, пользователь hello является принудительное toore-проверки подлинности после hello периода времени, заданного по **веб-приложение, время жизни сеанса (в минутах)** истекает. Если этот переключатель установлен слишком**чередующимся** (hello по умолчанию), hello пользователь останется выполнившего вход, при условии, что пользователь hello постоянно активен в веб-приложении.

Ниже приведено несколько вариантов использования, которые можно реализовать с помощью этих свойств.

* Соответствует требованиям безопасности и соответствия требованиям вашей отрасли, задав сеанса приложения hello соответствующий веб времени существования.
* Применение принудительной повторной проверки подлинности по истечении заданного периода во время взаимодействия пользователя с высокозащищенной частью веб-приложения. 

    > [!NOTE]
    > Эти параметры недоступны для политик сброса пароля.
    > 
    > 

## <a name="single-sign-on-sso-configuration"></a>Конфигурация единого входа (SSO)
При наличии нескольких приложений и политик в клиенте B2C управлять взаимодействия пользователей по их с помощью hello **настройки единого входа** свойство. Можно задать tooone свойства hello объекта hello следующие параметры:

* **Клиент**: это параметр по умолчанию hello. Использование этого параметра позволяет несколькими приложениями и политиками в клиенте B2C tooshare hello одного сеанса пользователя. Например, когда пользователь входит в приложение Contoso Shopping, он (или она) также может легко войти в другое приложение — Contoso Pharmacy — непосредственно во время доступа к нему.
* **Приложение**: Это позволяет toomaintain сеанс пользователя исключительно для приложения, независимо от других приложений. Например, если вы хотите toosign пользователя hello в tooContoso лекарственных средств (с hello одинаковые учетные данные), даже если пользователь уже выполнил вход в Contoso покупок, другое приложение на hello того же клиента B2C. 
* **Политика**: Это позволяет toomaintain сеанс пользователя исключительно для политики, независимо от использующие его приложения hello. Например если hello пользователь уже выполнил вход и выполнить шаг multi фактор проверки подлинности (MFA), он или она может получить частей toohigher безопасности доступа нескольких приложений до тех пор, пока не заканчивается hello сеанс привязан toohello политики.
* **Отключенные**: это заставляет toorun hello пользователя через весь пользовательский пути hello при каждом выполнении политики hello. Например это позволит выполнять несколько пользователей toosign tooyour приложения (в общего сценария рабочего стола), даже в том случае, пока один пользователь знаком в во время всей hello.

    > [!NOTE]
    > Эти параметры недоступны для политик сброса пароля.
    > 
    > 

