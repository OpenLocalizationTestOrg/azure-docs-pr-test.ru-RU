---
title: "Интеграция с Operations Management Suite (OMS) | Документация Майкрософт"
description: "Вы можете не только пользоваться стандартными функциями консоли OMS, но также интегрировать ее с другими приложениями и службами управления. В результате вы получите гибридную среду управления со сценариями управления, соответствующими вашей среде, или пользовательский интерфейс управления для своих клиентов.  В этой статье описаны разные варианты интеграции с OMS и приведены ссылки на статьи с подробными техническими сведениями."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: fc5f3a8a-77f7-4103-bd7e-744c15ffcca7
ms.service: operations-management-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/11/2017
ms.author: bwren
ms.openlocfilehash: 7a24df6f2c3b2c091d1b66b8b9c0a61035ffde11
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="integrating-with-operations-management-suite-oms"></a>Интеграция с Operations Management Suite (OMS)
Operations Management Suite (OMS) — это облачное решение Майкрософт для управления ИТ-средой, которое помогает управлять локальной и облачной инфраструктурой и защищать ее.  Вы можете не только пользоваться стандартными функциями консоли OMS, но также интегрировать ее с другими приложениями и службами управления. В результате вы получите гибридную среду управления со сценариями управления, соответствующими вашей среде, или пользовательский интерфейс управления для своих клиентов.  В этой статье описаны разные варианты интеграции со службами OMS и приведены ссылки на статьи с подробными техническими сведениями. 

## <a name="log-analytics"></a>Служба Log Analytics
Все собранные Log Analytics данные хранятся в репозитории, размещенном в среде Azure.  Все данные, хранящиеся в репозитории, доступны с помощью поиска по журналам, который выполняет быстрый анализ очень больших объемов данных.  Требования к интеграции могут предусматривать заполнение репозитория новыми данными, делая его доступным для анализа, или извлечение данных в хранилище для создания представления, или интеграцию с помощью другого средства управления.

Данные в репозитории хранятся как набор записей.  При заполнении хранилища вы должны указать для пользователей тип записи, используемый в решении, а также описать его свойства.  Это информация о получаемых данных, с которыми вы работаете.

![Заполнение репозитория OMS](media/operations-management-suite-integration/repository.png)

### <a name="populate-the-log-analytics-repository"></a>Заполнение репозитория Log Analytics
Есть несколько способов заполнить репозиторий OMS.  Используемый вариант зависит от таких факторов, как расположение источника данных, формат данных, а также особенности клиентов.  Если данные сохранены в репозитории, не имеет значения, как они были собраны.

В следующих разделах описаны разные варианты заполнения репозитория OMS.

#### <a name="connected-sources-and-data-sources"></a>Подключенные источники и источники данных
Подключенные источники — это расположения, из которых данные могут быть получены для репозитория OMS.  Источники данных и решений выполняются на подключенных источниках, определяя конкретные данные для сбора.  Если приложение записывает данные в один из этих источников данных, их можно получить, настроив такой источник данных.  Например, если приложение создает события системного журнала, эти данные затем могут быть собраны в источнике данных системного журнала на агенте Linux.

* [Источники данных в Log Analytics](../log-analytics/log-analytics-data-sources.md)

#### <a name="solutions"></a>Решения
Решения расширяют возможности OMS.  Решение может собирать данные из подключенного источника или выполнять анализ записей, которые уже собраны в репозиторий.  Каждое решение, предоставляемое корпорацией Майкрософт, сопровождается документацией со сведениями о данных, которые оно собирает.

* [Добавление решений Log Analytics из коллекции решений](../log-analytics/log-analytics-add-solutions.md)

#### <a name="http-data-collector-api"></a>API сборщика данных HTTP
API сборщика данных HTTP в Log Analytics — это REST API, который позволяет добавлять данные JSON в репозиторий Log Analytics.  Этот API можно использовать при наличии приложения, которое не предоставляет данные с помощью других источников данных или решений.  Он может использоваться для заполнения репозитория из любого клиента, который может вызвать API. Также он не зависит от расписания сбора данных из любого источника данных или решения.

* [API сборщика данных HTTP для Log Analytics](../log-analytics/log-analytics-data-collector-api.md)

### <a name="retrieve-data-from-the-log-analytics-repository"></a>Получение данных из репозитория Log Analytics
Есть несколько способов получить данные из репозитория OMS.  Можно сделать так, чтобы пользователи получали данные с помощью консоли OMS, предоставив им разные способы визуализации и анализа.  Также данные можно получить из внешнего процесса, например из другого решения для управления.

#### <a name="log-searches"></a>Поиск по журналам
Все данные, хранящиеся в репозитории OMS, доступны для поиска по журналам.  Пользователи могут выполнить собственный нерегламентированный анализ в OMS консоли или создать панель мониторинга с визуализацией для поиска по определенному журналу.  Решения могут включать настраиваемые представления с визуализацией на основе предопределенных операций поиска.  Вы можете использовать API поиска по журналам для доступа к данным в хранилище OMS из внешнего приложения или средства управления.  

* [Поиск по журналам в Log Analytics](../log-analytics/log-analytics-log-searches.md)
* [API REST поиска по журналам Log Analytics](../log-analytics/log-analytics-log-search-api.md)
* [Azure Operational Insights Cmdlets](https://msdn.microsoft.com/library/mt188224.aspx) (Командлеты оперативной аналитики Azure)

#### <a name="custom-views"></a>Пользовательские представления
Конструктор представлений помогает создавать пользовательские представления в консоли OMS, предоставляя пользователям средства для визуализации и анализа данных в решении.  Каждое представление содержит плитки, отображаемые на главной странице консоли, а также любое число элементов визуализации, которые основываются на определенных вами операциях поиска по журналам.

* [Log Analytics View Designer](../log-analytics/log-analytics-view-designer.md) (Конструктор представлений Log Analytics)

#### <a name="power-bi"></a>Power BI
Log Analytics может автоматически экспортировать данные из репозитория OMS в Power BI, чтобы вы могли использовать предоставляемые службой визуализации и средства анализа.  Экспорт выполняется по расписанию, поэтому поддерживается актуальность данных. 

* [Экспорт данных Log Analytics в Power BI](../log-analytics/log-analytics-powerbi.md)

## <a name="automation"></a>Автоматизация
OMS может автоматизировать процессы для обработки собранных данных или выполнения других функций управления.  Консоль может собирать данные из приложения и помещать их в репозиторий OMS. Кроме того, вы можете автоматизировать устранение известных проблем на основе данных, найденных в репозитории. 

![Автоматизация](media/operations-management-suite-integration/automate.png)

### <a name="runbooks"></a>Модули Runbook
Модули Runbook в службе автоматизации Azure запускают скрипты PowerShell и рабочие процессы в облаке Azure.  Их можно использовать для управления ресурсами Azure и другими ресурсами, доступными из облака.  Модули Runbook также могут выполняться в локальном центре обработки данных с использованием гибридной рабочей роли Runbook.  Модуль Runbook можно запустить на портале Azure или из внешних процессов с помощью нескольких средств, включая PowerShell или API автоматизации.

* [Запуск модуля Runbook в службе автоматизации Azure](../automation/automation-starting-a-runbook.md)
* [Azure Automation cmdlets](https://msdn.microsoft.com/library/dn690262.aspx) (Командлеты службы автоматизации Azure)
* [REST API службы автоматизации](https://msdn.microsoft.com/library/mt662285.aspx)
* [Automation .NET](https://msdn.microsoft.com//library/mt465763.aspx) (Пакет .NET для службы автоматизации)

### <a name="alerts"></a>Оповещения
Правила оповещений автоматически запускают операции поиска по журналам в соответствии с расписанием.  Если результаты соответствуют определенным критериям, итоговое оповещение запустит модуль Runbook в службе автоматизации Azure или вызовет объект webhook, который запустит внешний процесс.  Оба эти ответа могут включать сведения об оповещении, в том числе данные, возвращаемые операцией поиска по журналам.

* [Оповещения в Log Analytics](../log-analytics/log-analytics-alerts.md)
* [REST API оповещений в Log Analytics](../log-analytics/log-analytics-api-alerts.md)

## <a name="backup-and-site-recovery"></a>Служба архивации и службы Site Recovery
Служба архивации Azure и служба Site Recovery предоставляют средства защиты корпоративных данных и обеспечивают доступность серверов и приложений.  Вы можете использовать эти службы для выполнения таких сценариев, как резервное копирование своего приложения или переход на другой ресурс виртуальной машины.

* [Azure Backup cmdlets](https://msdn.microsoft.com/library/mt619253.aspx) (Командлеты службы архивации Azure)
* [Azure Site Recovery REST API](https://msdn.microsoft.com/library/azure/mt750497.aspx) (REST API для Azure Site Recovery)
* [Azure Site Recovery Cmdlets](https://msdn.microsoft.com/library/mt637930.aspx) (Командлеты Azure Site Recovery)

## <a name="custom-solutions"></a>Пользовательские решения
Вы можете реализовать логику интеграции в пользовательском решении для запуска в своей рабочей области или рабочей области клиента.  Решение может включать любые методы интеграции, описанные в этой статье, наряду с другими ресурсами в соответствии с полным сценарием управления.  Ресурсы в решении упакованы так, что при удалении решения все созданные им ресурсы также удаляются из рабочей области OMS и подписки Azure.

Например, решение может содержать модуль службы автоматизации Runbook для сбора и обработки данных с последующим заполнением репозитория Log Analytics с помощью API сборщика данных HTTP.  Вы также можете включить пользовательское представление, которое отображает и анализирует собранные данные.  

* Создание пользовательских решений (ожидается в ближайшее время)    

## <a name="next-steps"></a>Дальнейшие действия
* Технические сведения об автоматизации службы OMS см. в документации по [пакету SDK для OMS](operations-management-suite-sdk.md).  

