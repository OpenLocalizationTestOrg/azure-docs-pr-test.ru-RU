---
title: "в службе OMS это решение для управления aaaBuild | Документы Microsoft"
description: "Решения для управления расширить функциональность hello Operations Management Suite (OMS), предоставляя сценариев пакете управления, клиентам можно добавить tootheir рабочей области OMS.  Эта статья содержит сведения по созданию toobe решений управления используется в вашей рабочей среде или сделаны доступными tooyour клиентов."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: 1915e204-ba7e-431b-9718-9eb6b4213ad8
ms.service: operations-management-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/20/2017
ms.author: bwren
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: dea4c0d9e608d9fe4aa41088705958c9fe999372
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="design-and-build-a-management-solution-in-operations-management-suite-oms-preview"></a><span data-ttu-id="92b44-104">Проектирование и создание решения по управлению в Operations Management Suite (OMS) (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="92b44-104">Design and build a management solution in Operations Management Suite (OMS) (Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="92b44-105">Это предварительная документация для создания решений для управления в консоли OMS, которая доступна в данный момент в режиме предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="92b44-105">This is preliminary documentation for creating management solutions in OMS which are currently in preview.</span></span> <span data-ttu-id="92b44-106">Ни одной схеме, описанной ниже — toochange субъекта.</span><span class="sxs-lookup"><span data-stu-id="92b44-106">Any schema described below is subject toochange.</span></span>

<span data-ttu-id="92b44-107">[Решения для управления](operations-management-suite-solutions.md) расширить функциональность hello Operations Management Suite (OMS), предоставляя сценариев пакете управления, клиентам можно добавить tootheir рабочей области OMS.</span><span class="sxs-lookup"><span data-stu-id="92b44-107">[Management solutions](operations-management-suite-solutions.md) extend hello functionality of Operations Management Suite (OMS) by providing packaged management scenarios that customers can add tootheir OMS workspace.</span></span>  <span data-ttu-id="92b44-108">В этой статье представлены toodesign базовый процесс и построения решения по управлению, подходящий для наиболее распространенных.</span><span class="sxs-lookup"><span data-stu-id="92b44-108">This article presents a basic process toodesign and build a management solution that is suitable for most common requirements.</span></span>  <span data-ttu-id="92b44-109">При наличии новых решений по управлению toobuilding, вы можете использовать этот процесс в качестве отправной точки и затем использовать основные понятия hello для более сложных решений в случае изменения требований.</span><span class="sxs-lookup"><span data-stu-id="92b44-109">If you are new toobuilding management solutions then you can use this process as a starting point and then leverage hello concepts for more complex solutions as your requirements evolve.</span></span>

## <a name="what-is-a-management-solution"></a><span data-ttu-id="92b44-110">Что такое решение по управлению?</span><span class="sxs-lookup"><span data-stu-id="92b44-110">What is a management solution?</span></span>

<span data-ttu-id="92b44-111">Решения управления содержат OMS и ресурсах Azure, которые работают совместно tooachieve того или иного сценария мониторинга.</span><span class="sxs-lookup"><span data-stu-id="92b44-111">Management solutions contain OMS and Azure resources that work together tooachieve a particular monitoring scenario.</span></span>  <span data-ttu-id="92b44-112">Они реализованы в виде [управление ресурсами шаблоны](../azure-resource-manager/resource-manager-template-walkthrough.md) , которые содержат подробные сведения о том, как tooinstall и настроить их автономной ресурсы, после установки решения hello.</span><span class="sxs-lookup"><span data-stu-id="92b44-112">They are implemented as [Resource Management templates](../azure-resource-manager/resource-manager-template-walkthrough.md) that contain details of how tooinstall and configure their contained resources when hello solution is installed.</span></span>

<span data-ttu-id="92b44-113">Здравствуйте, основная стратегия является toostart решения по управлению путем создания отдельных компонентов hello в вашей среде Azure.</span><span class="sxs-lookup"><span data-stu-id="92b44-113">hello basic strategy is toostart your management solution by building hello individual components in your Azure environment.</span></span>  <span data-ttu-id="92b44-114">После правильной работе функции hello, затем можно запустить их в упаковку [файл решения управления](operations-management-suite-solutions-solution-file.md).</span><span class="sxs-lookup"><span data-stu-id="92b44-114">Once you have hello functionality working properly, then you can start packaging them into a [management solution file](operations-management-suite-solutions-solution-file.md).</span></span> 


## <a name="design-your-solution"></a><span data-ttu-id="92b44-115">Разработка решения</span><span class="sxs-lookup"><span data-stu-id="92b44-115">Design your solution</span></span>
<span data-ttu-id="92b44-116">наиболее распространенным шаблоном Hello как решения для управления отображается в hello следующие схемы.</span><span class="sxs-lookup"><span data-stu-id="92b44-116">hello most common pattern for a management solution is shown in hello following diagram.</span></span>  <span data-ttu-id="92b44-117">Hello различные компоненты в этом шаблоне рассматриваются в hello ниже.</span><span class="sxs-lookup"><span data-stu-id="92b44-117">hello different components in this pattern are discussed in hello below.</span></span>

![Обзор решения OMS](media/operations-management-suite-solutions/solution-overview.png)


### <a name="data-sources"></a><span data-ttu-id="92b44-119">Источники данных</span><span class="sxs-lookup"><span data-stu-id="92b44-119">Data sources</span></span>
<span data-ttu-id="92b44-120">Hello первым шагом при разработке решения является определение hello данные, которые требуют из репозитория hello анализа журналов.</span><span class="sxs-lookup"><span data-stu-id="92b44-120">hello first step in designing a solution is determining hello data that you require from hello Log Analytics repository.</span></span>  <span data-ttu-id="92b44-121">Эти данные могут быть собранные [источника данных](../log-analytics/log-analytics-data-sources.md) или [другое решение](operations-management-suite-solutions.md), или решения может потребоваться tooprovide hello процесса toocollect его.</span><span class="sxs-lookup"><span data-stu-id="92b44-121">This data may be collected by a [data source](../log-analytics/log-analytics-data-sources.md) or [another solution](operations-management-suite-solutions.md), or your solution may need tooprovide hello process toocollect it.</span></span>

<span data-ttu-id="92b44-122">Существует несколько способов источники данных, которые могут быть собраны в репозитории hello анализа журналов, как описано в [источники данных в службе анализа журналов](../log-analytics/log-analytics-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="92b44-122">There are a number of ways data sources that can be collected in hello Log Analytics repository as described in [Data sources in Log Analytics](../log-analytics/log-analytics-data-sources.md).</span></span>  <span data-ttu-id="92b44-123">Это включает в себя события в журнал событий Windows hello или созданные Syslog Кроме tooperformance счетчики для клиентов Windows и Linux.</span><span class="sxs-lookup"><span data-stu-id="92b44-123">This includes events in hello Windows Event Log or generated by Syslog in addition tooperformance counters for both Windows and Linux clients.</span></span>  <span data-ttu-id="92b44-124">Вы также можете собирать данные из ресурсов Azure, полученных службой Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="92b44-124">You can also gather data from Azure resources collected by Azure Monitor.</span></span>  

<span data-ttu-id="92b44-125">Если необходимо использовать данные, не доступны через все hello доступных источников данных, то можно использовать hello [HTTP API-Интерфейс сборщика данных](../log-analytics/log-analytics-data-collector-api.md) позволяющее репозитории анализа журналов toohello toowrite данных из любого клиента, который можно вызвать REST API-ИНТЕРФЕЙС.</span><span class="sxs-lookup"><span data-stu-id="92b44-125">If you require data that's not accessible through any of hello available data sources, then you can use hello [HTTP Data Collector API](../log-analytics/log-analytics-data-collector-api.md) which allows you toowrite data toohello Log Analytics repository from any client that can call a REST API.</span></span>  <span data-ttu-id="92b44-126">Hello наиболее распространенных средств сбора пользовательских данных в решении для управления является toocreate [runbook в автоматизации Azure](../automation/automation-runbook-types.md) , собирает hello необходимые данные из Azure или внешние ресурсы и использует hello toowrite API-Интерфейс сборщика данных toohello репозиторий.</span><span class="sxs-lookup"><span data-stu-id="92b44-126">hello most common means of custom data collection in a management solution is toocreate a [runbook in Azure Automation](../automation/automation-runbook-types.md) that collects hello required data from Azure or external resources and uses hello Data Collector API toowrite toohello repository.</span></span>  

### <a name="log-searches"></a><span data-ttu-id="92b44-127">Поиск по журналам</span><span class="sxs-lookup"><span data-stu-id="92b44-127">Log searches</span></span>
<span data-ttu-id="92b44-128">[Поиск журнала](../log-analytics/log-analytics-log-searches.md) , используемые tooextract и анализировать данные в репозиторий hello анализа журналов.</span><span class="sxs-lookup"><span data-stu-id="92b44-128">[Log searches](../log-analytics/log-analytics-log-searches.md) are used tooextract and analyze data in hello Log Analytics repository.</span></span>  <span data-ttu-id="92b44-129">Они используются представления и оповещений в дополнение tooallowing hello пользователя tooperform нерегламентированный анализ данных в репозитории hello.</span><span class="sxs-lookup"><span data-stu-id="92b44-129">They are used by views and alerts in addition tooallowing hello user tooperform ad hoc analysis of data in hello repository.</span></span>  

<span data-ttu-id="92b44-130">Следует определить все запросы, которые вы считаете, что будет полезно toohello пользователь, даже если они не используются все представления и предупреждения.</span><span class="sxs-lookup"><span data-stu-id="92b44-130">You should define any queries that you think will be helpful toohello user even if they aren't used by any views or alerts.</span></span>  <span data-ttu-id="92b44-131">Это будут доступны toothem как сохраненные условия поиска в портале hello, а также могут быть заданы в [визуализации части списка запросов](../log-analytics/log-analytics-view-designer-parts.md#list-of-queries-part) в представлении.</span><span class="sxs-lookup"><span data-stu-id="92b44-131">These will be available toothem as Saved Searches in hello portal, and you can also include them in a [List of Queries visualization part](../log-analytics/log-analytics-view-designer-parts.md#list-of-queries-part) in your custom view.</span></span>

### <a name="alerts"></a><span data-ttu-id="92b44-132">Оповещения</span><span class="sxs-lookup"><span data-stu-id="92b44-132">Alerts</span></span>
<span data-ttu-id="92b44-133">[Предупреждения в службе анализа журналов](../log-analytics/log-analytics-alerts.md) идентификации ошибок с помощью [входа выполняет](#log-searches) данных hello в репозиторий hello.</span><span class="sxs-lookup"><span data-stu-id="92b44-133">[Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md) identify issues through [log searches](#log-searches) against hello data in hello repository.</span></span>  <span data-ttu-id="92b44-134">Они уведомлять пользователя hello или автоматически выполнять действия в ответ.</span><span class="sxs-lookup"><span data-stu-id="92b44-134">They either notify hello user or automatically run an action in response.</span></span> <span data-ttu-id="92b44-135">Вы должны определить разные условия оповещений для приложения и включить соответствующие правила оповещений в файл решения.</span><span class="sxs-lookup"><span data-stu-id="92b44-135">You should identify different alert conditions for your application and include corresponding alert rules in your solution file.</span></span>

<span data-ttu-id="92b44-136">Если проблема hello потенциально могут исправляться посредством автоматизированного процесса, затем обычно создается runbook в автоматизации Azure tooperform этого исправления.</span><span class="sxs-lookup"><span data-stu-id="92b44-136">If hello issue can potentially be corrected with an automated process, then you'll typically create a runbook in Azure Automation tooperform this remediation.</span></span>  <span data-ttu-id="92b44-137">Большинство служб Azure можно управлять с помощью [командлеты](/powershell/azure/overview) какие hello runbook будет использовать tooperform такие функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="92b44-137">Most Azure services can be managed with [cmdlets](/powershell/azure/overview) which hello runbook would leverage tooperform such functionality.</span></span>

<span data-ttu-id="92b44-138">Если решение требует внешних функциональных возможностей в предупреждении tooan ответ, то можно использовать [ответа веб-перехватчика](../log-analytics/log-analytics-alerts-actions.md).</span><span class="sxs-lookup"><span data-stu-id="92b44-138">If your solution requires external functionality in response tooan alert, then you can use a [webhook response](../log-analytics/log-analytics-alerts-actions.md).</span></span>  <span data-ttu-id="92b44-139">Это позволяет вам toocall внешней веб-службе, отправке информации из hello предупреждение.</span><span class="sxs-lookup"><span data-stu-id="92b44-139">This allows you toocall an external web service sending information from hello alert.</span></span>

### <a name="views"></a><span data-ttu-id="92b44-140">Views</span><span class="sxs-lookup"><span data-stu-id="92b44-140">Views</span></span>
<span data-ttu-id="92b44-141">Представления в службе анализа журналов, используемых toovisualize данными из репозитория анализа журналов hello.</span><span class="sxs-lookup"><span data-stu-id="92b44-141">Views in Log Analytics are used toovisualize data from hello Log Analytics repository.</span></span>  <span data-ttu-id="92b44-142">Каждое решение обычно будет содержать одно представление с [плитки](../log-analytics/log-analytics-view-designer-tiles.md) , отображаемое на главной информационной hello пользователя.</span><span class="sxs-lookup"><span data-stu-id="92b44-142">Each solution will typically contain a single view with a [tile](../log-analytics/log-analytics-view-designer-tiles.md) that is displayed on hello user's main dashboard.</span></span>  <span data-ttu-id="92b44-143">Hello представление может содержать любое количество [визуализации частей](../log-analytics/log-analytics-view-designer-parts.md) tooprovide зрительные пользователя toohello hello собранных данных.</span><span class="sxs-lookup"><span data-stu-id="92b44-143">hello view can contain any number of [visualization parts](../log-analytics/log-analytics-view-designer-parts.md) tooprovide different visualizations of hello collected data toohello user.</span></span>

<span data-ttu-id="92b44-144">Вы [создавать пользовательские представления, с помощью конструктора представлений hello](../log-analytics/log-analytics-view-designer.md) которого можно позднее экспортировать для включения в файл решения.</span><span class="sxs-lookup"><span data-stu-id="92b44-144">You [create custom views using hello View Designer](../log-analytics/log-analytics-view-designer.md) which you can later export for inclusion in your solution file.</span></span>  


## <a name="create-solution-file"></a><span data-ttu-id="92b44-145">Создание файла решения</span><span class="sxs-lookup"><span data-stu-id="92b44-145">Create solution file</span></span>
<span data-ttu-id="92b44-146">После настройки и тестирования hello компоненты, которые должны быть частью решения, вы можете [создайте файл решения](operations-management-suite-solutions-solution-file.md).</span><span class="sxs-lookup"><span data-stu-id="92b44-146">Once you've configured and tested hello components that will be part of your solution, you can [create your solution file](operations-management-suite-solutions-solution-file.md).</span></span>  <span data-ttu-id="92b44-147">Будет реализовывать hello компоненты решения в [шаблона диспетчера ресурсов](../azure-resource-manager/resource-group-authoring-templates.md) , включающего [ресурсов](operations-management-suite-solutions-solution-file.md#solution-resource) с toohello связи другие ресурсы в hello файла.</span><span class="sxs-lookup"><span data-stu-id="92b44-147">You will implement hello solution components in a [Resource Manager template](../azure-resource-manager/resource-group-authoring-templates.md) that includes a [solution resource](operations-management-suite-solutions-solution-file.md#solution-resource) with relationships toohello other resources in hello file.</span></span>  


## <a name="test-your-solution"></a><span data-ttu-id="92b44-148">Тестирование решения</span><span class="sxs-lookup"><span data-stu-id="92b44-148">Test your solution</span></span>
<span data-ttu-id="92b44-149">При разработке решения может потребоваться tooinstall и тестировать их в рабочей области.</span><span class="sxs-lookup"><span data-stu-id="92b44-149">While you are developing your solution, you will need tooinstall and test it in your workspace.</span></span>  <span data-ttu-id="92b44-150">Это можно сделать с помощью любой из доступных методов hello слишком[проверить и установить шаблоны диспетчера ресурсов](../azure-resource-manager/resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="92b44-150">You can do this using any of hello available methods too[test and install Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span></span>

## <a name="publish-your-solution"></a><span data-ttu-id="92b44-151">Опубликуйте свое решения</span><span class="sxs-lookup"><span data-stu-id="92b44-151">Publish your solution</span></span>
<span data-ttu-id="92b44-152">После завершения и тестирование решения, вы можете сделать доступной toocustomers через либо hello следующие источники.</span><span class="sxs-lookup"><span data-stu-id="92b44-152">Once you have completed and tested your solution, you can make it available toocustomers through either hello following sources.</span></span>

- <span data-ttu-id="92b44-153">**Шаблоны быстрого запуска Azure**.</span><span class="sxs-lookup"><span data-stu-id="92b44-153">**Azure Quickstart templates**.</span></span>  <span data-ttu-id="92b44-154">[Шаблоны Azure краткое руководство](https://azure.microsoft.com/resources/templates/) — это набор шаблонов диспетчера ресурсов, предоставленного сообществом hello через GitHub.</span><span class="sxs-lookup"><span data-stu-id="92b44-154">[Azure Quickstart templates](https://azure.microsoft.com/resources/templates/) is a set of Resource Manager templates contributed by hello community through GitHub.</span></span>  <span data-ttu-id="92b44-155">Выполненные решения доступны следующие сведения в hello [руководство по участию в](https://github.com/Azure/azure-quickstart-templates/tree/master/1-CONTRIBUTION-GUIDE).</span><span class="sxs-lookup"><span data-stu-id="92b44-155">You can make your solution available by following information in hello [contribution guide](https://github.com/Azure/azure-quickstart-templates/tree/master/1-CONTRIBUTION-GUIDE).</span></span>
- <span data-ttu-id="92b44-156">**Azure Marketplace**.</span><span class="sxs-lookup"><span data-stu-id="92b44-156">**Azure Marketplace**.</span></span>  <span data-ttu-id="92b44-157">Hello [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/) позволяет toodistribute и продавать решения tooother разработчиков, разработчиков и ИТ-специалистов.</span><span class="sxs-lookup"><span data-stu-id="92b44-157">hello [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/) allows you toodistribute and sell your solution tooother developers, ISVs, and IT professionals.</span></span>  <span data-ttu-id="92b44-158">Рассказывается, как toopublish вашего решения tooAzure Marketplace в [как toopublish и управлять ими в Azure Marketplace hello предложение](../marketplace-publishing/marketplace-publishing-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="92b44-158">You can learn how toopublish your solution tooAzure Marketplace at [How toopublish and manage an offer in hello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span></span>



## <a name="next-steps"></a><span data-ttu-id="92b44-159">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="92b44-159">Next steps</span></span>
* <span data-ttu-id="92b44-160">Узнайте, каким образом слишком[создайте файл решения](operations-management-suite-solutions-solution-file.md) для решения управления.</span><span class="sxs-lookup"><span data-stu-id="92b44-160">Learn how too[create a solution file](operations-management-suite-solutions-solution-file.md) for your management solution.</span></span>
* <span data-ttu-id="92b44-161">Узнайте подробности hello [шаблоны разработки Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="92b44-161">Learn hello details of [Authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span></span>
* <span data-ttu-id="92b44-162">Найдите в коллекции [шаблонов быстрого запуска Azure](https://azure.microsoft.com/documentation/templates) примеры разных шаблонов Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="92b44-162">Search [Azure Quickstart Templates](https://azure.microsoft.com/documentation/templates) for samples of different Resource Manager templates.</span></span>