---
title: "Рекомендации по работе с решениями для управления OMS | Документация Майкрософт"
description: 
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: 1915e204-ba7e-431b-9718-9eb6b4213ad8
ms.service: operations-management-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/27/2017
ms.author: bwren
ms.openlocfilehash: b3d07ad3164609a5628c0d9805de55a32870ab94
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="best-practices-for-creating-management-solutions-in-operations-management-suite-oms-preview"></a><span data-ttu-id="7406a-102">Рекомендации по созданию решений для управления в Operations Management Suite (OMS) (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="7406a-102">Best practices for creating management solutions in Operations Management Suite (OMS) (Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="7406a-103">Это предварительная документация для создания решений для управления в консоли OMS, которая доступна в данный момент в режиме предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="7406a-103">This is preliminary documentation for creating management solutions in OMS which are currently in preview.</span></span> <span data-ttu-id="7406a-104">Любые схемы, приведенные ниже, могут измениться.</span><span class="sxs-lookup"><span data-stu-id="7406a-104">Any schema described below is subject to change.</span></span>  

<span data-ttu-id="7406a-105">В этой статье приводятся рекомендации по [созданию файла решения для управления](operations-management-suite-solutions-solution-file.md) в Operations Management Suite (OMS).</span><span class="sxs-lookup"><span data-stu-id="7406a-105">This article provides best practices for [creating a management solution file](operations-management-suite-solutions-solution-file.md) in Operations Management Suite (OMS).</span></span>  <span data-ttu-id="7406a-106">Эти сведения будут обновляться по мере появления дополнительных рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="7406a-106">This information will be updated as additional best practices are identified.</span></span>

## <a name="data-sources"></a><span data-ttu-id="7406a-107">Источники данных</span><span class="sxs-lookup"><span data-stu-id="7406a-107">Data sources</span></span>
- <span data-ttu-id="7406a-108">Источники данных можно [настроить с помощью шаблона Resource Manager](../log-analytics/log-analytics-template-workspace-configuration.md), но их не следует включать в файл решения.</span><span class="sxs-lookup"><span data-stu-id="7406a-108">Data sources can be [configured with a Resource Manager template](../log-analytics/log-analytics-template-workspace-configuration.md), but they should not be included in a solution file.</span></span>  <span data-ttu-id="7406a-109">Потому что настройка источников данных в настоящее время не является идемпотентной. Это означает, что решение может перезаписать существующую конфигурацию в рабочей области пользователя.</span><span class="sxs-lookup"><span data-stu-id="7406a-109">The reason is that configuring data sources is not currently idempotent meaning that your solution could overwrite existing configuration in the user's workspace.</span></span><br><br><span data-ttu-id="7406a-110">Например, решению могут требоваться события предупреждений и ошибок из журнала событий приложения.</span><span class="sxs-lookup"><span data-stu-id="7406a-110">For example, your solution may require Warning and Error events from the Application event log.</span></span>  <span data-ttu-id="7406a-111">Если его указать в решении в качестве источника данных, то возникает риск удаления информационных событий, когда пользователь делает соответствующую настройку в своей рабочей области.</span><span class="sxs-lookup"><span data-stu-id="7406a-111">If you specify this as a data source in your solution, you risk removing Information events if the user had this configured in their workspace.</span></span>  <span data-ttu-id="7406a-112">Если включить все события, то в рабочей области пользователя могут собираться избыточные информационные события.</span><span class="sxs-lookup"><span data-stu-id="7406a-112">If you included all events, then you may be collecting excessive Information events in the user's workspace.</span></span>

- <span data-ttu-id="7406a-113">Если решению требуются данные из одного из стандартных источников данных, то следует определить этот источник в качестве предварительного требования.</span><span class="sxs-lookup"><span data-stu-id="7406a-113">If your solution requires data from one of the standard data sources, then you should define this as a prerequisite.</span></span>  <span data-ttu-id="7406a-114">Укажите в документации, что пользователь должен самостоятельно настроить источник данных.</span><span class="sxs-lookup"><span data-stu-id="7406a-114">State in documentation that the customer must configure the data source on their own.</span></span>  
- <span data-ttu-id="7406a-115">Добавьте также сообщение о [проверке потока данных](../log-analytics/log-analytics-view-designer-tiles.md) во все представления своего решения, где требуется сообщить пользователю об источниках данных, которые должны быть настроены для сбора необходимых данных.</span><span class="sxs-lookup"><span data-stu-id="7406a-115">Add a [Data Flow Verification](../log-analytics/log-analytics-view-designer-tiles.md) message to any views in your solution to instruct the user on data sources that need to be configured for required data to be collected.</span></span>  <span data-ttu-id="7406a-116">Это сообщение отображается в элементе представления, если необходимые данные не найдены.</span><span class="sxs-lookup"><span data-stu-id="7406a-116">This message is displayed on the tile of the view when required data is not found.</span></span>


## <a name="runbooks"></a><span data-ttu-id="7406a-117">Модули Runbook</span><span class="sxs-lookup"><span data-stu-id="7406a-117">Runbooks</span></span>
- <span data-ttu-id="7406a-118">Добавьте [расписание автоматизации](../automation/automation-schedules.md) для каждого модуля Runbook в решении, которое должно выполняться по расписанию.</span><span class="sxs-lookup"><span data-stu-id="7406a-118">Add an [Automation schedule](../automation/automation-schedules.md) for each runbook in your solution that needs to run on a schedule.</span></span>
- <span data-ttu-id="7406a-119">Включите в решение [модуль IngestionAPI](https://www.powershellgallery.com/packages/OMSIngestionAPI/1.5), который будет использоваться модулями Runbook при записи данных в репозиторий Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="7406a-119">Include the [IngestionAPI module](https://www.powershellgallery.com/packages/OMSIngestionAPI/1.5) in your solution to be used by runbooks writing data to the Log Analytics repository.</span></span>  <span data-ttu-id="7406a-120">Настройте в решении [ссылку](operations-management-suite-solutions-solution-file.md#solution-resource) на этот ресурс, чтобы он сохранялся в случае удаления решения.</span><span class="sxs-lookup"><span data-stu-id="7406a-120">Configure the solution to [reference](operations-management-suite-solutions-solution-file.md#solution-resource) this resource so that it remains if the solution is removed.</span></span>  <span data-ttu-id="7406a-121">Это позволит нескольким решениям совместно использовать модуль.</span><span class="sxs-lookup"><span data-stu-id="7406a-121">This allows multiple solutions to share the module.</span></span>
- <span data-ttu-id="7406a-122">Используйте [переменные автоматизации](../automation/automation-schedules.md), чтобы задать в решении значения, которые пользователи затем смогут изменить.</span><span class="sxs-lookup"><span data-stu-id="7406a-122">Use [Automation variables](../automation/automation-schedules.md) to provide values to the solution that users may want to change later.</span></span>  <span data-ttu-id="7406a-123">Даже если в соответствии с настройками решение содержит переменную, то это значение можно изменить.</span><span class="sxs-lookup"><span data-stu-id="7406a-123">Even if the solution is configured to contain the variable, it's value can still be changed.</span></span>

## <a name="views"></a><span data-ttu-id="7406a-124">Views</span><span class="sxs-lookup"><span data-stu-id="7406a-124">Views</span></span>
- <span data-ttu-id="7406a-125">Все решения должны содержать одно представление, отображаемое на портале пользователя.</span><span class="sxs-lookup"><span data-stu-id="7406a-125">All solutions should include a single view that is displayed in the user's portal.</span></span>  <span data-ttu-id="7406a-126">Представление может содержать несколько [элементов визуализации](../log-analytics/log-analytics-view-designer-parts.md) для демонстрации различных наборов данных.</span><span class="sxs-lookup"><span data-stu-id="7406a-126">The view can contain multiple [visualization parts](../log-analytics/log-analytics-view-designer-parts.md) to illustrate different sets of data.</span></span>
- <span data-ttu-id="7406a-127">Добавьте также сообщение о [проверке потока данных](../log-analytics/log-analytics-view-designer-tiles.md) во все представления своего решения, где требуется сообщить пользователю об источниках данных, которые должны быть настроены для сбора необходимых данных.</span><span class="sxs-lookup"><span data-stu-id="7406a-127">Add a [Data Flow Verification](../log-analytics/log-analytics-view-designer-tiles.md) message to any views in your solution to instruct the user on data sources that need to be configured for required data to be collected.</span></span>
- <span data-ttu-id="7406a-128">Настройте решение таким образом, чтобы оно [содержало](operations-management-suite-solutions-solution-file.md#solution-resource) представление. В этом случае оно будет удаляться при удалении решения.</span><span class="sxs-lookup"><span data-stu-id="7406a-128">Configure the solution to [contain](operations-management-suite-solutions-solution-file.md#solution-resource) the view so that it's removed if the solution is removed.</span></span>

## <a name="alerts"></a><span data-ttu-id="7406a-129">Оповещения</span><span class="sxs-lookup"><span data-stu-id="7406a-129">Alerts</span></span>
- <span data-ttu-id="7406a-130">Определите список получателей как параметр в файле решения, что позволит пользователю указать значения при установке решения.</span><span class="sxs-lookup"><span data-stu-id="7406a-130">Define the recipients list as a parameter in the solution file so the user can define them when they install the solution.</span></span>
- <span data-ttu-id="7406a-131">Настройте в решении [ссылку](operations-management-suite-solutions-solution-file.md#solution-resource) на правила оповещения, чтобы пользователи могли изменить свою конфигурацию.</span><span class="sxs-lookup"><span data-stu-id="7406a-131">Configure the solution to [reference](operations-management-suite-solutions-solution-file.md#solution-resource) alert rules so that user's can change their configuration.</span></span>  <span data-ttu-id="7406a-132">Им может потребоваться внести изменения, например изменить список получателей или пороговое значение для оповещения, а также отключить правило оповещения.</span><span class="sxs-lookup"><span data-stu-id="7406a-132">They may want to make changes such as modifying the recipient list, changing the threshold of the alert, or disabling the alert rule.</span></span> 


## <a name="next-steps"></a><span data-ttu-id="7406a-133">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7406a-133">Next steps</span></span>
* <span data-ttu-id="7406a-134">Ознакомьтесь с базовым процессом [разработки и создания решения по управлению](operations-management-suite-solutions-creating.md).</span><span class="sxs-lookup"><span data-stu-id="7406a-134">Walk through the basic process of [designing and building a management solution](operations-management-suite-solutions-creating.md).</span></span>
* <span data-ttu-id="7406a-135">Узнайте, как [создать файл решения](operations-management-suite-solutions-solution-file.md).</span><span class="sxs-lookup"><span data-stu-id="7406a-135">Learn how to [create a solution file](operations-management-suite-solutions-solution-file.md).</span></span>
* <span data-ttu-id="7406a-136">[Добавьте сохраненные поиски и оповещения](operations-management-suite-solutions-resources-searches-alerts.md) в решение для управления.</span><span class="sxs-lookup"><span data-stu-id="7406a-136">[Add saved searches and alerts](operations-management-suite-solutions-resources-searches-alerts.md) to your management solution.</span></span>
* <span data-ttu-id="7406a-137">[Добавьте представления](operations-management-suite-solutions-resources-views.md) в решение для управления.</span><span class="sxs-lookup"><span data-stu-id="7406a-137">[Add views](operations-management-suite-solutions-resources-views.md) to your management solution.</span></span>
* <span data-ttu-id="7406a-138">[Добавьте модули Runbook и другие ресурсы службы автоматизации](operations-management-suite-solutions-resources-automation.md) в решение для управления.</span><span class="sxs-lookup"><span data-stu-id="7406a-138">[Add Automation runbooks and other resources](operations-management-suite-solutions-resources-automation.md) to your management solution.</span></span>

