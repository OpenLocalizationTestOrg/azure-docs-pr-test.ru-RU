---
title: "aaaService карту решения self скорость Демонстрация | Документы Microsoft"
description: "Схемы услуг — это решение в Operations Management Suite (OMS), автоматически обнаруживает компоненты приложения для Windows и системами Linux и карты hello обмен данными между службами.  Это себя темпе демонстрационную версию перебор с помощью схемы услуг tooidentify и имитацию диагностики для веб-приложения."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: 9dc437b9-e83c-45da-917c-cb4f4d8d6333
ms.service: operations-management-suite
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/12/2017
ms.author: bwren
ms.openlocfilehash: 13f26241cd55a9b35c07d6ca52760a968abffc64
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="operations-management-suite-oms-self-paced-demo---service-map"></a><span data-ttu-id="620a5-104">Гибкая демонстрация работы с решением "Схема услуги" в Operations Management Suite (OMS).</span><span class="sxs-lookup"><span data-stu-id="620a5-104">Operations Management Suite (OMS) self paced demo - Service Map</span></span>
<span data-ttu-id="620a5-105">Это себя темпе демонстрационную версию, подробно с помощью hello [карту службы решения](operations-management-suite-service-map.md) в tooidentify Operations Management Suite (OMS) и имитацию диагностики для веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="620a5-105">This is a self paced demo that walks through using hello [Service Map solution](operations-management-suite-service-map.md) in Operations Management Suite (OMS) tooidentify and diagnose a simulated problem in a web application.</span></span>  <span data-ttu-id="620a5-106">Схемы услуг автоматически обнаруживает компонентов приложений в системах Windows и Linux и maps hello обмен данными между службами.</span><span class="sxs-lookup"><span data-stu-id="620a5-106">Service Map automatically discovers application components on Windows and Linux systems and maps hello communication between services.</span></span>  <span data-ttu-id="620a5-107">Он также объединяет данные, собранные других tooassist службы OMS в анализ производительности и выявления проблем.</span><span class="sxs-lookup"><span data-stu-id="620a5-107">It also consolidates data collected by other OMS services tooassist you in analyzing performance and identifying issues.</span></span>  <span data-ttu-id="620a5-108">Вы также будете использовать [входа поиска аналитики журналов](../log-analytics/log-analytics-log-searches.md) toodrill вниз на собранные данные в порядке tooidentify hello корень проблемы.</span><span class="sxs-lookup"><span data-stu-id="620a5-108">You'll also use [log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md) toodrill down on collected data in order tooidentify hello root problem.</span></span>


## <a name="scenario-description"></a><span data-ttu-id="620a5-109">Описание сценария</span><span class="sxs-lookup"><span data-stu-id="620a5-109">Scenario description</span></span>
<span data-ttu-id="620a5-110">Только что получил уведомление, что приложение hello ACME портал клиента возникают проблемы с производительностью.</span><span class="sxs-lookup"><span data-stu-id="620a5-110">You've just received a notification that hello ACME Customer Portal application is having performance issues.</span></span>  <span data-ttu-id="620a5-111">Hello единственное, что у вас есть — запуска около 4:00 по тихоокеанскому времени сегодня этих проблем.</span><span class="sxs-lookup"><span data-stu-id="620a5-111">hello only information that you have is that these issues started about 4:00 am PST today.</span></span>  <span data-ttu-id="620a5-112">Вы не уверены, полностью всех компонентов hello этот портал hello зависит от отличный от набора веб-серверов.</span><span class="sxs-lookup"><span data-stu-id="620a5-112">You aren't entirely sure of all hello components that hello portal is dependent on other than a set of web servers.</span></span>  

## <a name="components-and-features-used"></a><span data-ttu-id="620a5-113">Используемые компоненты и функции</span><span class="sxs-lookup"><span data-stu-id="620a5-113">Components and features used</span></span>
- [<span data-ttu-id="620a5-114">Решение "Схема услуги"</span><span class="sxs-lookup"><span data-stu-id="620a5-114">Service Map solution</span></span>](operations-management-suite-service-map.md)
- [<span data-ttu-id="620a5-115">Поиск по журналам Log Analytics</span><span class="sxs-lookup"><span data-stu-id="620a5-115">Log Analytics log searches</span></span>](../log-analytics/log-analytics-log-searches.md)


## <a name="walk-through"></a><span data-ttu-id="620a5-116">Пошаговое руководство</span><span class="sxs-lookup"><span data-stu-id="620a5-116">Walk through</span></span>

### <a name="1-connect-toohello-oms-experience-center"></a><span data-ttu-id="620a5-117">1. Подключение к toohello OMS качества Center</span><span class="sxs-lookup"><span data-stu-id="620a5-117">1. Connect toohello OMS Experience Center</span></span>
<span data-ttu-id="620a5-118">Этот проход по использует hello [центр качества набор операций управления](https://experience.mms.microsoft.com/) которого предоставляет полную среду OMS с образцами данных.</span><span class="sxs-lookup"><span data-stu-id="620a5-118">This walk through uses hello [Operations Management Suite Experience Center](https://experience.mms.microsoft.com/) which provides a complete OMS environment with sample data.</span></span> <span data-ttu-id="620a5-119">Начать со следующих эту ссылку, предоставлять данные и затем выберите hello **аналитика** сценария.</span><span class="sxs-lookup"><span data-stu-id="620a5-119">Start by following this link, provide your information and then select hello **Insight and Analytics** scenario.</span></span>


### <a name="2-start-service-map"></a><span data-ttu-id="620a5-120">2. Запуск решения "Схема услуги"</span><span class="sxs-lookup"><span data-stu-id="620a5-120">2. Start Service Map</span></span>
<span data-ttu-id="620a5-121">Запуск службы карту решения hello, щелкнув hello **схемы услуг** плитки.</span><span class="sxs-lookup"><span data-stu-id="620a5-121">Start hello Service Map solution by clicking on hello **Service Map** tile.</span></span>

![Плитка "Схемы услуги"](media/operations-management-suite-walkthrough-servicemap/tile.png)

<span data-ttu-id="620a5-123">Отобразится консоль схемы услуг Hello.</span><span class="sxs-lookup"><span data-stu-id="620a5-123">hello Service Map console is displayed.</span></span>  <span data-ttu-id="620a5-124">В hello слева находится список компьютеров в вашей среде с установленным агентом hello схемы услуг.</span><span class="sxs-lookup"><span data-stu-id="620a5-124">In hello left pane is a list of computers in your environment with hello Service Map agent installed.</span></span>  <span data-ttu-id="620a5-125">Будет предложено выбрать компьютер hello, что требуется tooview из этого списка.</span><span class="sxs-lookup"><span data-stu-id="620a5-125">You'll select hello computer that you want tooview from this list.</span></span>

![Список компьютеров](media/operations-management-suite-walkthrough-servicemap/computer-list.png)


### <a name="3-view-computer"></a><span data-ttu-id="620a5-127">3. Просмотр компьютера</span><span class="sxs-lookup"><span data-stu-id="620a5-127">3. View computer</span></span>
<span data-ttu-id="620a5-128">Мы знаем, что веб-серверы hello называются AcmeWFE001 и AcmeWFE002, поэтому на первый взгляд toostart допустимое место.</span><span class="sxs-lookup"><span data-stu-id="620a5-128">We know that hello web servers are called AcmeWFE001 and AcmeWFE002, so this seems like a reasonable place toostart.</span></span>  <span data-ttu-id="620a5-129">Щелкните **AcmeWFE001**.</span><span class="sxs-lookup"><span data-stu-id="620a5-129">Click on **AcmeWFE001**.</span></span>  <span data-ttu-id="620a5-130">Отобразится карта hello для AcmeWFE001 и все его зависимости.</span><span class="sxs-lookup"><span data-stu-id="620a5-130">This displays hello map for AcmeWFE001 and all of its dependencies.</span></span>  <span data-ttu-id="620a5-131">Вы увидите, какие процессы запущены на выбранном компьютере hello и что они взаимодействуют с внешним службам.</span><span class="sxs-lookup"><span data-stu-id="620a5-131">You can see which processes are running on hello selected computer and which external services they communicate with.</span></span>

![Веб-сервер](media/operations-management-suite-walkthrough-servicemap/web-server.png)

<span data-ttu-id="620a5-133">Мы беспокоит производительности hello нашими веб-приложения, поэтому щелкните на hello **AcmeAppPool (пула приложений IIS)** процесса.</span><span class="sxs-lookup"><span data-stu-id="620a5-133">We're concerned about hello performance of our web application so click on hello **AcmeAppPool (IIS App Pool)** process.</span></span>  <span data-ttu-id="620a5-134">Отображается hello сведения для этого процесса и выделяет его зависимости.</span><span class="sxs-lookup"><span data-stu-id="620a5-134">This displays hello details for this process and highlights its dependencies.</span></span>  

![Пул приложений](media/operations-management-suite-walkthrough-servicemap/app-pool.png)


### <a name="4-change-time-window"></a><span data-ttu-id="620a5-136">4. Изменение временного окна</span><span class="sxs-lookup"><span data-stu-id="620a5-136">4. Change time window</span></span>

<span data-ttu-id="620a5-137">Говорят, hello проблемы запуска в 4:00, так что давайте посмотрим на то, что происходило в это время.</span><span class="sxs-lookup"><span data-stu-id="620a5-137">We heard that hello problem started at 4:00 AM so let's have a look at what was happening at that time.</span></span> <span data-ttu-id="620a5-138">Щелкните **диапазон времени** и изменить время too4 hello: 00 по тихоокеанскому времени (Сохранить текущую дату hello и настроить для вашего часового пояса) с длительностью 20 минут.</span><span class="sxs-lookup"><span data-stu-id="620a5-138">Click on **Time Range** and change hello time too4:00 AM PST (keep hello current date and adjust for your local time zone) with a duration of 20 minutes.</span></span>

![Средство выбора времени](./media/operations-management-suite-walkthrough-servicemap/time-picker.png)


### <a name="5-view-alert"></a><span data-ttu-id="620a5-140">5. Просмотр оповещений</span><span class="sxs-lookup"><span data-stu-id="620a5-140">5. View alert</span></span>

<span data-ttu-id="620a5-141">Теперь мы видим, hello **acmetomcat** зависимостей имеет предупреждение отображается, поэтому, нашей потенциальную проблему.</span><span class="sxs-lookup"><span data-stu-id="620a5-141">We now see that hello **acmetomcat** dependency has an alert displayed, so that's our potential problem.</span></span>  <span data-ttu-id="620a5-142">Щелкните значок предупреждения hello в **acmetomcat** tooshow hello сведения о предупреждении hello.</span><span class="sxs-lookup"><span data-stu-id="620a5-142">Click on hello alert icon in **acmetomcat** tooshow hello details for hello alert.</span></span>  <span data-ttu-id="620a5-143">Видно, что ЦП критически загружен. Если развернуть зависимость, мы можем получить больше сведений.</span><span class="sxs-lookup"><span data-stu-id="620a5-143">We can see that we have critical CPU utilization and can expand it for more detail.</span></span>  <span data-ttu-id="620a5-144">Вероятно, это причина снижения производительности.</span><span class="sxs-lookup"><span data-stu-id="620a5-144">This is probably what's causing our slow performance.</span></span> 

![Предупреждение](./media/operations-management-suite-walkthrough-servicemap/alert.png)


### <a name="6-view-performance"></a><span data-ttu-id="620a5-146">6. Просмотр производительности</span><span class="sxs-lookup"><span data-stu-id="620a5-146">6. View performance</span></span>

<span data-ttu-id="620a5-147">Давайте подробнее рассмотрим **acmetomcat**.</span><span class="sxs-lookup"><span data-stu-id="620a5-147">Let's have a closer look at **acmetomcat**.</span></span>  <span data-ttu-id="620a5-148">Нажмите кнопку в hello верхней правой части **acmetomcat** и выберите **загрузка сервера карты** tooshow hello детализации и зависимости для этой машины.</span><span class="sxs-lookup"><span data-stu-id="620a5-148">Click in hello top right of **acmetomcat** and select **Load Server Map** tooshow hello detail and dependencies for this machine.</span></span> <span data-ttu-id="620a5-149">Можно затем просмотреть более в этих tooverify счетчики производительности подозрения в нашем.</span><span class="sxs-lookup"><span data-stu-id="620a5-149">We can then look a bit more into those performance counters tooverify our suspicion.</span></span>  <span data-ttu-id="620a5-150">Выберите hello **производительности** hello вкладку toodisplay [счетчики производительности, собранные службой аналитики журналов](../log-analytics/log-analytics-data-sources-performance-counters.md) hello диапазоне времени.</span><span class="sxs-lookup"><span data-stu-id="620a5-150">Select hello **Performance** tab toodisplay hello [performance counters collected by Log Analytics](../log-analytics/log-analytics-data-sources-performance-counters.md) over hello time range.</span></span>  <span data-ttu-id="620a5-151">Мы видим, что мы начинаем пиковых hello процессора и памяти.</span><span class="sxs-lookup"><span data-stu-id="620a5-151">We can see that we're getting periodic spikes in hello processor and memory.</span></span>

![Производительность](./media/operations-management-suite-walkthrough-servicemap/performance.png)


### <a name="7-view-change-tracking"></a><span data-ttu-id="620a5-153">7. Просмотр отслеживаемых изменений</span><span class="sxs-lookup"><span data-stu-id="620a5-153">7. View change tracking</span></span>
<span data-ttu-id="620a5-154">Давайте посмотрим, можем ли мы выяснить причину этой высокой загрузки.</span><span class="sxs-lookup"><span data-stu-id="620a5-154">Let's see if we can find out what might have caused this high utilization.</span></span>  <span data-ttu-id="620a5-155">Щелкните hello **Сводка** вкладки.  Это предоставляет сведения, которые OMS собрал с компьютера hello, такие как сбой соединения, критические оповещения и изменения программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="620a5-155">Click on hello **Summary** tab.  This provides information that OMS has collected from hello computer such as failed connections, critical alerts, and software changes.</span></span>  <span data-ttu-id="620a5-156">Разделы с интересные сведения о последних уже развернута, а можно развернуть другие сведения tooinspect разделы, которые они содержат.</span><span class="sxs-lookup"><span data-stu-id="620a5-156">Sections with interesting recent information should already be expanded, and you can expand other sections tooinspect information that they contain.</span></span>


<span data-ttu-id="620a5-157">Если узел **Отслеживание изменений** не открыт, разверните его.</span><span class="sxs-lookup"><span data-stu-id="620a5-157">If **Change Tracking** isn't already open, then expand it.</span></span>  <span data-ttu-id="620a5-158">Это показывает сведения, собранные программой hello [решения для отслеживания изменений](../log-analytics/log-analytics-change-tracking.md).</span><span class="sxs-lookup"><span data-stu-id="620a5-158">This shows information collected by hello [Change Tracking solution](../log-analytics/log-analytics-change-tracking.md).</span></span>  <span data-ttu-id="620a5-159">Похоже в течение этого диапазона времени произошло изменение в программном обеспечении.</span><span class="sxs-lookup"><span data-stu-id="620a5-159">It looks like there was a software change made during this time window.</span></span>  <span data-ttu-id="620a5-160">Щелкните **программного обеспечения** tooget сведения.</span><span class="sxs-lookup"><span data-stu-id="620a5-160">Click on **Software** tooget details.</span></span>  <span data-ttu-id="620a5-161">Процесс резервного копирования был добавлен toohello машины сразу после 4:00 AM, поэтому это выглядит toobe hello причиной для hello избыточные ресурсы используются.</span><span class="sxs-lookup"><span data-stu-id="620a5-161">A backup process was added toohello machine just after 4:00 AM, so this appears toobe hello culprit for hello excessive resources being consumed.</span></span>

![Отслеживание изменений](./media/operations-management-suite-walkthrough-servicemap/change-tracking.png)



### <a name="8-view-details-in-log-search"></a><span data-ttu-id="620a5-163">8. Просмотр сведений в поиске по журналам</span><span class="sxs-lookup"><span data-stu-id="620a5-163">8. View details in Log Search</span></span>
<span data-ttu-id="620a5-164">Мы можете дополнительную проверку, просмотрев hello подробные сведения о производительности, собранных в репозитории hello анализа журналов.</span><span class="sxs-lookup"><span data-stu-id="620a5-164">We can further verify this by looking at hello detailed performance information collected in hello Log Analytics repository.</span></span>  <span data-ttu-id="620a5-165">Щелкните hello **оповещения** вкладке еще раз и затем на одном из hello **высокой загрузки ЦП** предупреждения.</span><span class="sxs-lookup"><span data-stu-id="620a5-165">Click on hello **Alerts** tab again and then on one of hello **High CPU** alerts.</span></span>  <span data-ttu-id="620a5-166">Щелкните **Показать в поиске по журналам**.</span><span class="sxs-lookup"><span data-stu-id="620a5-166">Click on  **Show in Log Search**.</span></span>  <span data-ttu-id="620a5-167">Откроется диалоговое окно поиска журналов hello, где можно выполнить [входа выполняет](../log-analytics/log-analytics-log-searches.md) данных, сохраненные в репозитории hello.</span><span class="sxs-lookup"><span data-stu-id="620a5-167">This opens hello Log Search window where you can perform [log searches](../log-analytics/log-analytics-log-searches.md) against any data stored in hello repository.</span></span>  <span data-ttu-id="620a5-168">Схемы услуг уже заполнены queriy нам предупреждение hello tooretrieve нас интересуют.</span><span class="sxs-lookup"><span data-stu-id="620a5-168">Service Map already filled in a queriy for us tooretrieve hello alert we're interested in.</span></span>  

![Поиск по журналам](./media/operations-management-suite-walkthrough-servicemap/log-search.png)


### <a name="9-open-saved-search"></a><span data-ttu-id="620a5-170">9. Открытие сохраненного поиска</span><span class="sxs-lookup"><span data-stu-id="620a5-170">9. Open saved search</span></span>
<span data-ttu-id="620a5-171">Давайте посмотрим, если мы найти некоторые дополнительные сведения о hello сбор данных о производительности, создавшем данное предупреждение и проверить наши подозрения, возможность возникновения проблем hello этим процессом резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="620a5-171">Let's see if we can get some more detail on hello performance collection that generated this alert and verify our suspicion that hello problems are being caused by that backup process.</span></span>  <span data-ttu-id="620a5-172">Изменить диапазон времени hello слишком**6 часов**.</span><span class="sxs-lookup"><span data-stu-id="620a5-172">Change hello time range too**6 hours**.</span></span>  <span data-ttu-id="620a5-173">Нажмите кнопку на **Избранное** и прокрутите вниз ищет toohello Сохранить **схемы услуг**.</span><span class="sxs-lookup"><span data-stu-id="620a5-173">Then click on **Favorites** and scroll down toohello saved searches for **Service Map**.</span></span>  <span data-ttu-id="620a5-174">Это запросы, созданные специально для этого анализа.</span><span class="sxs-lookup"><span data-stu-id="620a5-174">These are queries that we created specifically for this analysis.</span></span>  <span data-ttu-id="620a5-175">Щелкните **Top 5 Processes by CPU for acmetomcat** (5 основных процессов ЦП для acmetomcat).</span><span class="sxs-lookup"><span data-stu-id="620a5-175">Click on **Top 5 Processes by CPU for acmetomcat**.</span></span>

![Сохраненный поиск](./media/operations-management-suite-walkthrough-servicemap/saved-search.png)


<span data-ttu-id="620a5-177">Этот запрос возвращает список hello первые 5 процессами использование процессора на **acmetomcat**.</span><span class="sxs-lookup"><span data-stu-id="620a5-177">This query returns a list of hello top 5 processes consuming processor on **acmetomcat**.</span></span>  <span data-ttu-id="620a5-178">Можно проверить и tooget запроса hello введение toohello запроса язык, используемый для поиска журнала.</span><span class="sxs-lookup"><span data-stu-id="620a5-178">You can inspect hello query tooget an introduction toohello query language used for log searches.</span></span>  <span data-ttu-id="620a5-179">Если вам было интересно hello процессов на других компьютерах, можно изменить запрос tooretrieve hello эту информацию.</span><span class="sxs-lookup"><span data-stu-id="620a5-179">If you were interested in hello processes on other computers, you could modify hello query tooretrieve that information.</span></span>

<span data-ttu-id="620a5-180">В этом случае можно увидеть процесс резервного копирования hello постоянно занимает около 60% ЦП на сервере приложений hello.</span><span class="sxs-lookup"><span data-stu-id="620a5-180">In this case, we can see that hello backup process is consistently consuming about 60% of hello app server’s CPU.</span></span>  <span data-ttu-id="620a5-181">Довольно очевидно, что из-за этого процесса возникли проблемы с производительностью.</span><span class="sxs-lookup"><span data-stu-id="620a5-181">It's pretty obvious that this new process is responsible for our performance problem.</span></span>  <span data-ttu-id="620a5-182">Наши решения стало бы этот новый tooremove резервного копирования сервера приложения hello.</span><span class="sxs-lookup"><span data-stu-id="620a5-182">Our solution would obviously be tooremove this new backup software off hello application server.</span></span>  <span data-ttu-id="620a5-183">Мы фактически эффективно использовать требуемого состояния (DSC) под управлением службы автоматизации Azure toodefine политик, убедитесь, что этот процесс никогда не выполняется на этих важных систем.</span><span class="sxs-lookup"><span data-stu-id="620a5-183">We could actually leverage Desired State Configuration (DSC) managed by Azure Automation toodefine policies that ensure this process never runs on these critical systems.</span></span>


## <a name="summary-points"></a><span data-ttu-id="620a5-184">Основные положения</span><span class="sxs-lookup"><span data-stu-id="620a5-184">Summary points</span></span>
- <span data-ttu-id="620a5-185">[Схема услуг](operations-management-suite-service-map.md) предоставляет возможность просмотра всего приложения, даже если вы не знаете всех его серверов и зависимостей.</span><span class="sxs-lookup"><span data-stu-id="620a5-185">[Service Map](operations-management-suite-service-map.md) provides you with a view of your entire application even if you don't know all of its servers and dependencies.</span></span>
- <span data-ttu-id="620a5-186">Схемы услуг в областях данных собираемых других toohelp решений OMS можно выявить проблемы с приложением и базовой инфраструктуре.</span><span class="sxs-lookup"><span data-stu-id="620a5-186">Service Map surfaces data collected by other OMS solutions toohelp you identify issues with your application and its underlying infrastructure.</span></span>
- <span data-ttu-id="620a5-187">[Поиск журнала](../log-analytics/log-analytics-log-searches.md) позволяют toodrill вниз в конкретные данные, собранные в репозитории hello анализа журналов.</span><span class="sxs-lookup"><span data-stu-id="620a5-187">[Log searches](../log-analytics/log-analytics-log-searches.md) allow you toodrill down into specific data collected in hello Log Analytics repository.</span></span>    

## <a name="next-steps"></a><span data-ttu-id="620a5-188">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="620a5-188">Next steps</span></span>
- <span data-ttu-id="620a5-189">Дополнительные сведения о [Схеме услуги](operations-management-suite-service-map.md)</span><span class="sxs-lookup"><span data-stu-id="620a5-189">Learn more about [Service Map](operations-management-suite-service-map.md).</span></span>
- <span data-ttu-id="620a5-190">[Разверните и настройте](operations-management-suite-service-map-configure.md) решение "Схема услуг".</span><span class="sxs-lookup"><span data-stu-id="620a5-190">[Deploy and configure](operations-management-suite-service-map-configure.md) Service Map.</span></span>
- <span data-ttu-id="620a5-191">Дополнительные сведения о службе [Log Analytics](../log-analytics/log-analytics-overview.md), требуемой для решения "Схема услуг" и сохраняющей рабочие данные агентов.</span><span class="sxs-lookup"><span data-stu-id="620a5-191">Learn about [Log Analytics](../log-analytics/log-analytics-overview.md) which is required for Service Map and stores operational data stored by agents.</span></span>