---
title: "Управление aaaAlert в Microsoft monitoring продукты | Документы Microsoft"
description: "Оповещение указывает на некоторые проблемы, которые требуют внимания администратора.  В этой статье описываются различия hello в как предупреждения создаются и управляются System Center Operations Manager (SCOM) и анализа журналов и предоставляет рекомендации по использованию hello двух продуктов для управления оповещениями гибридной стратегии."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6572c3f8-78ca-4fa9-8fe1-d0b488590788
ms.service: operations-management-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/11/2017
ms.author: bwren
ms.openlocfilehash: 526a3d92f3b6a5d6dec2f3979a934cc94c13f2e1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="managing-alerts-with-microsoft-monitoring"></a><span data-ttu-id="aa8b9-104">Управление оповещениями с помощью решений Майкрософт для мониторинга</span><span class="sxs-lookup"><span data-stu-id="aa8b9-104">Managing alerts with Microsoft monitoring</span></span>
<span data-ttu-id="aa8b9-105">Оповещение указывает на некоторые проблемы, которые требуют внимания администратора.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-105">An alert indicates some issue that requires attention from an administrator.</span></span>  <span data-ttu-id="aa8b9-106">Между System Center Operations Manager (SCOM) и службой Log Analytics в составе Operations Management Suite (OMS) существуют четкие различия с точки зрения создания оповещений, управления и анализа, а также уведомления пользователей об обнаружении критических ошибок.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-106">There are distinct differences between System Center Operations Manager (SCOM) and Log Analytics in Operations Management Suite (OMS) in terms of how alerts are created, how they are managed and analyzed, and how you are notified that a critical issue has been detected.</span></span>

## <a name="alerts-in-operations-manager"></a><span data-ttu-id="aa8b9-107">Оповещения в Operations Manager</span><span class="sxs-lookup"><span data-stu-id="aa8b9-107">Alerts in Operations Manager</span></span>
<span data-ttu-id="aa8b9-108">В SCOM генерируются отдельных правил или мониторов tooindicate конкретной проблемы.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-108">Alerts in SCOM are generated by individual rules or monitors tooindicate a specific issue.</span></span>  <span data-ttu-id="aa8b9-109">Монитор может создает предупреждение, когда он переходит в состояние ошибки во время правила могут формироваться предупреждения tooindicate некоторые важные проблемы, которые не работоспособности непосредственно связанная toohello управляемого объекта.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-109">A monitor can generate an alert when it enters an error state while a rule may generate an alert tooindicate some critical issue that is not directly related toohello health of a managed object.</span></span>  <span data-ttu-id="aa8b9-110">Пакеты управления включают различные рабочие процессы, создание оповещений для hello приложения или службы, которыми они управляют.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-110">Management packs include a variety of workflows that create alerts for hello application or service that they manage.</span></span>  <span data-ttu-id="aa8b9-111">Часть hello процесс настройки нового пакета управления настраивает его tooensure, что вы не будете получать чрезмерного предупреждений на наличие проблем, которые не считаются критическое.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-111">Part of hello process of configuring a new management pack is tuning it tooensure that you don’t receive excessive alerts for issues that you don’t consider critical.</span></span>

![Представление оповещений SCOM](media/operations-management-suite-monitoring-alerts/scom-alert-view.png)

<span data-ttu-id="aa8b9-113">SCOM обеспечивает полное Управление оповещениями с оповещениями, наличие состояния, которые могут быть изменены администраторами в них tooresolve hello проблему.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-113">SCOM provides complete alert management with alerts having a status that can be changed by administrators as they work tooresolve hello issue.</span></span>  <span data-ttu-id="aa8b9-114">При hello неполадка устранена, Здравствуйте, администратор задает предупреждения tooclosed hello, после чего он больше не будет отображаться в представлениях, отображение активных оповещений.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-114">When hello issue has been resolved, hello administrator sets hello alert tooclosed at which time it will no longer appear in views displaying active alerts.</span></span>  <span data-ttu-id="aa8b9-115">Оповещения, которые созданы из мониторов можно разрешаются автоматически, при возвращении монитора hello tooa работоспособное состояние.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-115">Alerts that are generated from monitors can be automatically resolved when hello monitor returns tooa healthy state.</span></span>

![Состояние оповещения](media/operations-management-suite-monitoring-alerts/scom-alert-status.png)

## <a name="alerts-in-log-analytics"></a><span data-ttu-id="aa8b9-117">Оповещения в Log Analytics</span><span class="sxs-lookup"><span data-stu-id="aa8b9-117">Alerts in Log Analytics</span></span>
<span data-ttu-id="aa8b9-118">Оповещения в Log Analytics создаются на основе запроса журнала, который автоматически выполняется через определенные интервалы.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-118">An alert in Log Analytics is created from a log query that is automatically run at regular intervals.</span></span>  <span data-ttu-id="aa8b9-119">Правило оповещения можно создать на основе любого запроса журнала.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-119">You can create an alert rule from any log query.</span></span>  <span data-ttu-id="aa8b9-120">Если hello запрос возвращает результаты, которые соответствуют заданным критериям hello, создается предупреждение.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-120">If hello query returns results that match hello criteria that you specify, then an alert is created.</span></span>  <span data-ttu-id="aa8b9-121">Это может быть определенный запрос, который создает предупреждение при обнаружении определенного события или можно использовать общие запросов, выполняет поиск любых событий ошибок, связанные с tooa конкретного приложения.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-121">This could be a specific query that creates an alert if a particular event is detected, or you could use a more general query that looks for any error event related tooa particular application.</span></span>

<span data-ttu-id="aa8b9-122">Предупреждения анализа журнала записываются репозиторий OMS toohello как событие и могут быть получены с помощью запроса журнала.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-122">Log Analytics alerts are written toohello OMS repository as an event and can be retrieved with a log query.</span></span>  <span data-ttu-id="aa8b9-123">Они имеют состояние как SCOM событиями, можно указать, когда hello неполадка устранена.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-123">They do not have a status like SCOM events so that you can indicate when hello issue has been resolved.</span></span>

![Оповещение OMS](media/operations-management-suite-monitoring-alerts/oms-alert.png)

<span data-ttu-id="aa8b9-125">При SCOM используется в качестве источника данных для анализа журналов, как они создаются и изменяются SCOM предупреждения записываются toohello репозиторий OMS.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-125">When SCOM is used as a data source for Log Analytics, SCOM alerts are written toohello OMS repository as they are created and modified.</span></span>  

![Оповещение SCOM](media/operations-management-suite-monitoring-alerts/scom-alert.png)

<span data-ttu-id="aa8b9-127">Hello [решение для управления оповещениями](http://technet.microsoft.com/library/mt484092.aspx) предоставляет сводку оповещений и несколько общих запросов tooretrieve два набора предупреждений.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-127">hello [Alert Management solution](http://technet.microsoft.com/library/mt484092.aspx) provides a summary of active alerts and several common queries tooretrieve different sets of alerts.</span></span>  <span data-ttu-id="aa8b9-128">Это обеспечивает более эффективный анализ оповещений, чем отчет в SCOM.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-128">This provides you with more effective analysis of your alerts than a report in SCOM.</span></span>  <span data-ttu-id="aa8b9-129">Можно детализировать данные сводки toodetailed hello и создавать нерегламентированные запросы tooretrieve различные наборы предупреждения.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-129">You can drill down on from hello summaries toodetailed data and create ad hoc queries tooretrieve different sets of alerts.</span></span>

![Решение для управления оповещениями](media/operations-management-suite-monitoring-alerts/alert-management.png)

## <a name="notifications"></a><span data-ttu-id="aa8b9-131">Уведомления</span><span class="sxs-lookup"><span data-stu-id="aa8b9-131">Notifications</span></span>
<span data-ttu-id="aa8b9-132">Уведомления в SCOM отправки почты или текст tooalerts ответ, который соответствует конкретным условиям.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-132">Notifications in SCOM send you a mail or text in response tooalerts that match particular criteria.</span></span>  <span data-ttu-id="aa8b9-133">Можно создать различные уведомления подписки, которые имеют разные люди, уведомление о том, в зависимости от критериев, таких как hello объект отслеживается, hello серьезность предупреждения hello, тип проблемы, обнаруженной hello или hello время дня.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-133">You can create different notification subscriptions that have different people notified depending on such criteria as hello object being monitored, hello severity of hello alert, hello kind of problem that detected, or hello time of day.</span></span>

<span data-ttu-id="aa8b9-134">Несколько подписок можно использовать tooimplement стратегию завершения уведомления большое количество пакетов управления.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-134">Few subscriptions can be used tooimplement a complete notification strategy for a large number of management packs.</span></span>

![Оповещения SCOM](media/operations-management-suite-monitoring-alerts/alerts-overview-scom.png)

<span data-ttu-id="aa8b9-136">Служба Log Analytics отправляет по почте уведомление о создании оповещения путем настройки действия уведомления по электронной почте для каждого [правила оповещений](http://technet.microsoft.com/library/mt614775.aspx).</span><span class="sxs-lookup"><span data-stu-id="aa8b9-136">Log Analytics can notify you through mail that an alert has been created by setting an email notification action on each [alert rule](http://technet.microsoft.com/library/mt614775.aspx).</span></span>  <span data-ttu-id="aa8b9-137">Он не имеет возможность hello SCOM hello toomultiple предупреждений с помощью одного правила подписки.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-137">It does not have hello ability of SCOM hello subscribe toomultiple alerts with a single rule.</span></span>  <span data-ttu-id="aa8b9-138">Необходимо также toocreate правилами генерации оповещений, так как OMS не поддерживает все предварительно настроенных.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-138">You also need toocreate your own alert rules since OMS does not provide any preconfigured.</span></span>

![Оповещения Log Analytics](media/operations-management-suite-monitoring-alerts/alerts-overview-oms.png)

<span data-ttu-id="aa8b9-140">Нельзя управлять полностью SCOM предупреждения в службе анализа журналов хотя так, как их можно изменять только в консоли управления hello.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-140">You can’t completely manage SCOM alerts in Log Analytics though since you can only modify them in hello Operations Console.</span></span>  <span data-ttu-id="aa8b9-141">Службу Log Analytics можно использовать в составе процесса управления оповещениями, так как она предоставляет инструменты анализа, которых нет в SCOM.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-141">Log Analytics is useful as part of an alert management process though for providing analysis tools that SCOM alone doesn’t have.</span></span>

## <a name="alert-remediation"></a><span data-ttu-id="aa8b9-142">Исправление оповещений</span><span class="sxs-lookup"><span data-stu-id="aa8b9-142">Alert Remediation</span></span>
<span data-ttu-id="aa8b9-143">[Исправления](http://technet.microsoft.com/library/mt614775.aspx) ссылается правильный hello tooan попытка tooautomatically проблему, связанную с оповещение.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-143">[Remediation](http://technet.microsoft.com/library/mt614775.aspx) refers tooan attempt tooautomatically correct hello problem identified by an alert.</span></span>

<span data-ttu-id="aa8b9-144">SCOM позволяет toorun диагностики и восстановления в мониторе tooa ответа, введя в недопустимом состоянии.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-144">SCOM allows you toorun Diagnostics and Recoveries in response tooa monitor entering an unhealthy state.</span></span>  <span data-ttu-id="aa8b9-145">Это происходит, монитор toohello одновременное создание предупреждения hello.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-145">This happens simultaneous toohello monitor creating hello alert.</span></span>  <span data-ttu-id="aa8b9-146">Диагностика и восстановление обычно реализуется в виде сценарий, который выполняется на агенте hello.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-146">Diagnostics and recoveries are typically implemented as a script that runs on hello agent.</span></span>  <span data-ttu-id="aa8b9-147">Во время восстановления пытается toocorrect hello проблема toogather диагностики попыток Дополнительные сведения о hello обнаруженной неполадки.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-147">A diagnostic attempts toogather more information about hello detected issue while a recovery attempts toocorrect hello problem.</span></span>

<span data-ttu-id="aa8b9-148">Аналитика журналов позволяет toostart [runbook службы автоматизации Azure](https://azure.microsoft.com/documentation/services/automation/) или вызвать веб-перехватчик в ответ tooa анализа журналов предупреждение.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-148">Log Analytics allows you toostart an [Azure Automation runbook](https://azure.microsoft.com/documentation/services/automation/) or call a webhook in response tooa Log Analytics alert.</span></span>  <span data-ttu-id="aa8b9-149">Модули Runbook могут содержать сложную логику, реализованную в PowerShell.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-149">Runbooks can contain complex logic implemented in PowerShell.</span></span>  <span data-ttu-id="aa8b9-150">Hello скрипт выполняется в Azure и можно доступ к ресурсам Azure или внешние ресурсы, доступные из облака hello.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-150">hello script runs in Azure and can access any Azure resources or external resources available from hello cloud.</span></span>  <span data-ttu-id="aa8b9-151">Службы автоматизации Azure имеют runbooks tooexecute hello возможности на сервере в локальном центре обработки данных, но этот компонент недоступен в настоящее время при запуске hello runbook в ответ tooLog Analytics предупреждения.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-151">Azure Automation does have hello ability tooexecute runbooks on a server in your local datacenter, but this feature is not currently available when starting hello runbook in response tooLog Analytics alerts.</span></span>

<span data-ttu-id="aa8b9-152">Восстановление в SCOM и модулей Runbook в службе OMS может содержать сценариев PowerShell, но операции восстановления являются более сложным toocreate и управления, поскольку они должны находиться в пределах пакета управления.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-152">Both recoveries in SCOM and runbooks in OMS can contain PowerShell scripts, but recoveries are more difficult toocreate and manage because they must be contained within a management pack.</span></span>  <span data-ttu-id="aa8b9-153">Модули Runbook хранятся в службе автоматизации Azure, которая предоставляет возможности разработки, тестирования и управления модулями Runbook.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-153">Runbooks are stored in Azure Automation which provides features for authoring, testing, and managing runbooks.</span></span>

<span data-ttu-id="aa8b9-154">При использовании SCOM как источник данных для анализа журналов, можно создать предупреждение анализа журналов с помощью запроса журнала tooretrieve что SCOM предупреждения, хранящихся в hello репозиторий OMS.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-154">If you use SCOM as a data source for Log Analytics, you could create a Log Analytics alert using a log query tooretrieve SCOM alerts stored in hello OMS repository.</span></span>  <span data-ttu-id="aa8b9-155">Это позволит вам toorun runbook службы автоматизации Azure в ответ tooa SCOM предупреждение.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-155">This would allow you toorun an Azure Automation runbook in response tooa SCOM alert.</span></span>  <span data-ttu-id="aa8b9-156">Конечно так как hello runbook будет выполняться в Azure, это не будет реальную стратегии для восстановления локальных проблем.</span><span class="sxs-lookup"><span data-stu-id="aa8b9-156">Of course, since hello runbook will run in Azure, this would not be a viable strategy for recoveries of on-premises issues.</span></span>

## <a name="next-steps"></a><span data-ttu-id="aa8b9-157">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="aa8b9-157">Next steps</span></span>
* <span data-ttu-id="aa8b9-158">Узнайте подробности hello [предупреждения в System Center Operations Manager (SCOM)](https://technet.microsoft.com/library/hh212913.aspx).</span><span class="sxs-lookup"><span data-stu-id="aa8b9-158">Learn hello details of [alerts in System Center Operations Manager (SCOM)](https://technet.microsoft.com/library/hh212913.aspx).</span></span>

