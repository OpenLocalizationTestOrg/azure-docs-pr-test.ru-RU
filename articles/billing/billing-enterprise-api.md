---
title: "Интерфейсы API для выставления счетов Azure корпоративным клиентам | Документация Майкрософт"
description: "Узнайте, как с помощью интерфейсов API отчетов для корпоративных клиентов Azure извлекать данные о потреблении программным способом."
services: 
documentationcenter: 
author: anandedwin
manager: aedwin
editor: 
tags: billing
ms.assetid: 3e817b43-0696-400c-a02e-47b7817f9b77
ms.service: billing
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: billing
ms.date: 04/25/2017
ms.author: aedwin
ms.openlocfilehash: 62a69aeb7499a961f95739fb3836942b670c7320
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="overview-of-reporting-apis-for-enterprise-customers"></a>Обзор API- интерфейсов отчетов для корпоративных клиентов
Интерфейсы API отчетов позволяют корпоративным клиентам Azure извлекать данные о потреблении и выставлении счетов программным способом и передавать их в предпочитаемые средства анализа данных. 

## <a name="enabling-data-access-to-the-api"></a>Включение доступа данных к API
* **Создание или получение ключа API**. Войдите на корпоративный портал и следуйте инструкциям в статье справки, посвященной API-интерфейсам отчетов. В первом разделе этой статьи описывается, как создать или получить ключ API для определенной регистрации.
* **Передача ключей в API**. Для аутентификации и авторизации необходимо передать ключ API для каждого вызова. В заголовки HTTP необходимо добавить следующее свойство:

|Ключ заголовка запроса | Значение|
|-|-|
|Авторизация| Укажите значение в следующем формате: **bearer {API_KEY}** <br/> Пример: bearer eyr....09|

## <a name="consumption-apis"></a>Интерфейсы API потребления
[Здесь](https://consumption.azure.com/swagger/ui/index) вы можете найти конечную точку Swagger для интерфейсов API, описанных ниже. С ее помощью можно упростить самоанализ API и создать клиентские пакеты SDK, используя [AutoRest](https://github.com/Azure/AutoRest) или [Swagger CodeGen](http://swagger.io/swagger-codegen/). С 1 мая 2014 г. данные доступны через этот API. 

* **Баланс и сводка**. [Интерфейс API для управления балансом и просмотра сводки](https://docs.microsoft.com/rest/api/billing/enterprise/billing-enterprise-api-balance-summary) предоставляет ежемесячную сводку о состоянии баланса, новых покупках, расходах на службы Azure Marketplace, корректировках и взимании платы за превышение.

* **Сведения об использовании**. [Интерфейс API сведений об использовании](https://docs.microsoft.com/rest/api/billing/enterprise/billing-enterprise-api-usage-detail) предоставляет сводку об израсходованных объемах и предполагаемых расходах для каждой регистрации с разбивкой по дням. Результаты также содержат сведения об экземплярах, метриках и отделах. Запрашивать данные в API можно по расчетному периоду или по дате начала и окончания. 

* **Платежи в Marketplace**. [Интерфейс API платежей в Marketplace](https://docs.microsoft.com/rest/api/billing/enterprise/billing-enterprise-api-marketplace-storecharge) предоставляет сводку о расходах в Marketplace с разбивкой по дням. Данные основаны на фактическом использовании и отображаются для указанного расчетного периода или дат начала и окончания (однократные сборы не включаются).

* **Прейскурант**. [API прейскуранта](https://docs.microsoft.com/rest/api/billing/enterprise/billing-enterprise-api-pricesheet) предоставляет соответствующий тариф для каждой метрики в отдельной регистрации и за определенный расчетный период. 

## <a name="helper-apis"></a>Интерфейсы API вспомогательного приложения
 **Список расчетных периодов**. [API расчетных периодов](https://docs.microsoft.com/rest/api/billing/enterprise/billing-enterprise-api-billing-periods) возвращает список расчетных периодов, которые содержат данные о потреблении для определенной регистрации, приведенные в обратном хронологическом порядке. Каждый период содержит свойство, указывающее на маршрут API к четырем наборам данных: BalanceSummary, UsageDetails, Marketplace Charges и Price Sheet.


## <a name="api-response-codes"></a>Коды ответов API  
|Код состояния отклика|Сообщение|Описание|
|-|-|-|
|200| ОК|Без ошибок|
|401| Не авторизовано| Ключ API не найден, недопустимый формат, срок действия истек и т. д.|
|404| Рекомендации недоступны| Не найдена конечная точка отчетов|
|400| Ошибка запроса| Недопустимые параметры — диапазоны дат, числа EA и т. д.|
|500| Ошибка сервера| Непредвиденная ошибка при обработке запроса| 









