---
title: "Выставление счетов API-интерфейсы aaaAzure | Документы Microsoft"
description: "Дополнительные сведения об использовании выставления счетов Azure и RateCard API-интерфейсы, которые используется tooprovide анализировать потребление ресурсов Azure и тенденции."
services: 
documentationcenter: 
author: BryanLa
manager: tonguyen
editor: 
tags: billing
ms.assetid: 3e817b43-0696-400c-a02e-47b7817f9b77
ms.service: billing
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: billing
ms.date: 04/18/2017
ms.author: mobandyo;bryanla
ms.openlocfilehash: b3214996cc3279f76fdc7f0dbd2059c3ae7bb15c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="use-azure-billing-apis-tooprogrammatically-get-insight-into-your-azure-usage"></a><span data-ttu-id="f40f8-103">Используйте API-интерфейсов выставления счетов Azure tooprogrammatically получить подробные сведения об использовании Azure</span><span class="sxs-lookup"><span data-stu-id="f40f8-103">Use Azure Billing APIs tooprogrammatically get insight into your Azure usage</span></span>
<span data-ttu-id="f40f8-104">Используйте API-интерфейсов выставления счетов Azure toopull использования и данные ресурсов в вашей предпочтительный средства анализа.</span><span class="sxs-lookup"><span data-stu-id="f40f8-104">Use Azure Billing APIs toopull usage and resource data into your preferred data analysis tools.</span></span> <span data-ttu-id="f40f8-105">Hello использование ресурсов Azure и API-интерфейсы RateCard поможет вам точно спрогнозировать и затраты на управление.</span><span class="sxs-lookup"><span data-stu-id="f40f8-105">hello Azure Resource Usage and RateCard APIs can help you accurately predict and manage your costs.</span></span> <span data-ttu-id="f40f8-106">Hello API-интерфейсы реализуются как поставщик ресурсов и частью семейства hello API-интерфейсов, предоставляемых hello диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="f40f8-106">hello APIs are implemented as a Resource Provider and part of hello family of APIs exposed by hello Azure Resource Manager.</span></span>  

## <a name="azure-invoice-download-api-preview"></a><span data-ttu-id="f40f8-107">API для скачивания счетов Azure (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="f40f8-107">Azure Invoice Download API (Preview)</span></span>
<span data-ttu-id="f40f8-108">Здравствуйте, один раз [участия в программе было завершено](billing-manage-access.md#opt-in), с помощью предварительной версии hello счетов загрузки [API счета](/rest/api/billing).</span><span class="sxs-lookup"><span data-stu-id="f40f8-108">Once hello [opt-in has been complete](billing-manage-access.md#opt-in), download invoices using hello preview version of [Invoice API](/rest/api/billing).</span></span> <span data-ttu-id="f40f8-109">функции Hello:</span><span class="sxs-lookup"><span data-stu-id="f40f8-109">hello features include:</span></span>

* <span data-ttu-id="f40f8-110">**Azure Role-based Access Control** -Настройка доступа политики на hello [портал Azure](https://portal.azure.com) или через [командлетов Azure PowerShell](/powershell/azure/overview) toospecify, какие пользователи или приложения могут получить доступ данные об использовании toohello подписки.</span><span class="sxs-lookup"><span data-stu-id="f40f8-110">**Azure Role-based Access Control** - Configure access policies on hello [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) toospecify which users or applications can get access toohello subscription’s usage data.</span></span> <span data-ttu-id="f40f8-111">Вызывающие объекты должны использовать стандартные маркеры Azure Active Directory для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="f40f8-111">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="f40f8-112">Добавьте hello вызывающего объекта tooeither hello выставления счетов чтения, чтения, владельца или участника роли tooget toohello данных об использовании для определенной подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="f40f8-112">Add hello caller tooeither hello Billing Reader, Reader, Owner, or Contributor role tooget access toohello usage data for a specific Azure subscription.</span></span>
* <span data-ttu-id="f40f8-113">**Дата, фильтрация** -hello используйте `$filter` tooget параметр, все счета hello в обратном хронологическом порядке по hello счет Дата окончания периода.</span><span class="sxs-lookup"><span data-stu-id="f40f8-113">**Date Filtering** - Use hello `$filter` parameter tooget all hello invoices in reverse chronological order by hello invoice period end date.</span></span> 

> [!NOTE]
> <span data-ttu-id="f40f8-114">Эта функция находится в первой версии preview и могут быть несовместимы toobackward изменения темы.</span><span class="sxs-lookup"><span data-stu-id="f40f8-114">This feature is in first version of preview and may be subject toobackward-incompatible changes.</span></span> <span data-ttu-id="f40f8-115">Сейчас она недоступна для определенных предложений подписки (не поддерживаются EA, CSP, AIO), а также в Azure для Германии.</span><span class="sxs-lookup"><span data-stu-id="f40f8-115">Currently, it's not available for certain subscription offers (EA, CSP, AIO not supported) and Azure Germany.</span></span>

## <a name="azure-resource-usage-api-preview"></a><span data-ttu-id="f40f8-116">API использования ресурсов Azure (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="f40f8-116">Azure Resource Usage API (Preview)</span></span>
<span data-ttu-id="f40f8-117">Используйте hello Azure [API использования ресурсов](https://msdn.microsoft.com/library/azure/mt219003) tooget оценка Azure потребления данных.</span><span class="sxs-lookup"><span data-stu-id="f40f8-117">Use hello Azure [Resource Usage API](https://msdn.microsoft.com/library/azure/mt219003) tooget your estimated Azure consumption data.</span></span> <span data-ttu-id="f40f8-118">включает Hello API:</span><span class="sxs-lookup"><span data-stu-id="f40f8-118">hello API includes:</span></span>

* <span data-ttu-id="f40f8-119">**Azure Role-based Access Control** -Настройка доступа политики на hello [портал Azure](https://portal.azure.com) или через [командлетов Azure PowerShell](/powershell/azure/overview) toospecify, какие пользователи или приложения могут получить доступ данные об использовании toohello подписки.</span><span class="sxs-lookup"><span data-stu-id="f40f8-119">**Azure Role-based Access Control** - Configure access policies on hello [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) toospecify which users or applications can get access toohello subscription’s usage data.</span></span> <span data-ttu-id="f40f8-120">Вызывающие объекты должны использовать стандартные маркеры Azure Active Directory для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="f40f8-120">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="f40f8-121">Добавьте hello вызывающего объекта tooeither hello выставления счетов чтения, чтения, владельца или участника роли tooget toohello данных об использовании для определенной подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="f40f8-121">Add hello caller tooeither hello Billing Reader, Reader, Owner, or Contributor role tooget access toohello usage data for a specific Azure subscription.</span></span>
* <span data-ttu-id="f40f8-122">**Hourly or Daily Aggregations** (Агрегирование по часам или по дням) — вызывающие объекты могут указать, требуется ли получать данные об использовании Azure сегментами за каждый час или за каждый день.</span><span class="sxs-lookup"><span data-stu-id="f40f8-122">**Hourly or Daily Aggregations** - Callers can specify whether they want their Azure usage data in hourly buckets or daily buckets.</span></span> <span data-ttu-id="f40f8-123">по умолчанию Hello — ежедневно.</span><span class="sxs-lookup"><span data-stu-id="f40f8-123">hello default is daily.</span></span>
* <span data-ttu-id="f40f8-124">**Экземпляр метаданных (включая теги ресурсов)** — получение сведений уровня экземпляра как hello полное имя ресурса uri (/subscriptions/ {код_подписки} /..), hello тегов ресурсов и сведения о группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="f40f8-124">**Instance metadata (includes resource tags)** – Get instance-level detail like hello fully qualified resource uri (/subscriptions/{subscription-id}/..), hello resource group information, and resource tags.</span></span> <span data-ttu-id="f40f8-125">Эти метаданные помогает детерминированного и программно выделить использования по тегам hello, в целях как заряжается между.</span><span class="sxs-lookup"><span data-stu-id="f40f8-125">This metadata helps you deterministically and programmatically allocate usage by hello tags, for use-cases like cross-charging.</span></span>
* <span data-ttu-id="f40f8-126">**Метаданные ресурса** -ресурсов как имя индикатора hello, индикатор категории, подкатегории индикатор, модульного и области приводятся подробные вызывающий hello хорошее представление о том, что было получено.</span><span class="sxs-lookup"><span data-stu-id="f40f8-126">**Resource metadata** - Resource details such as hello meter name, meter category, meter sub category, unit, and region give hello caller a better understanding of what was consumed.</span></span> <span data-ttu-id="f40f8-127">Также мы работаем терминология метаданных ресурсов tooalign во всех hello портал Azure, Azure использование CSV, EA, CSV, выставление счетов и другие виды взаимодействия общедоступным, toolet сопоставлять данные между взаимодействий.</span><span class="sxs-lookup"><span data-stu-id="f40f8-127">We're also working tooalign resource metadata terminology across hello Azure portal, Azure usage CSV, EA billing CSV, and other public-facing experiences, toolet you correlate data across experiences.</span></span>
* <span data-ttu-id="f40f8-128">**Usage for all offer types** (Использование для всех видов предложений). Данные об использовании доступны для всех видов предложений, таких как оплата по мере использования, MSDN, денежные обязательства, денежный кредит и EA.</span><span class="sxs-lookup"><span data-stu-id="f40f8-128">**Usage for all offer types** – Usage data is available for all offer types like Pay-as-you-go, MSDN, Monetary commitment, Monetary credit, and EA.</span></span>

## <a name="azure-resource-ratecard-api-preview"></a><span data-ttu-id="f40f8-129">API RateCard по ресурсам Azure (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="f40f8-129">Azure Resource RateCard API (Preview)</span></span>
<span data-ttu-id="f40f8-130">Используйте hello [API RateCard ресурсов Azure](https://msdn.microsoft.com/library/azure/mt219005) tooget hello список доступных ресурсов Azure и оценка сведения о ценах для каждого.</span><span class="sxs-lookup"><span data-stu-id="f40f8-130">Use hello [Azure Resource RateCard API](https://msdn.microsoft.com/library/azure/mt219005) tooget hello list of available Azure resources and estimated pricing information for each.</span></span> <span data-ttu-id="f40f8-131">включает Hello API:</span><span class="sxs-lookup"><span data-stu-id="f40f8-131">hello API includes:</span></span>

* <span data-ttu-id="f40f8-132">**Azure Role-based Access Control** -Настройка политик доступа на hello [портал Azure](https://portal.azure.com) или через [командлетов Azure PowerShell](/powershell/azure/overview) toospecify, какие пользователи или приложения могут получить доступ toohello RateCard данных.</span><span class="sxs-lookup"><span data-stu-id="f40f8-132">**Azure Role-based Access Control** - Configure your access policies on hello [Azure portal](https://portal.azure.com) or through [Azure PowerShell cmdlets](/powershell/azure/overview) toospecify which users or applications can get access toohello RateCard data.</span></span> <span data-ttu-id="f40f8-133">Вызывающие объекты должны использовать стандартные маркеры Azure Active Directory для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="f40f8-133">Callers must use standard Azure Active Directory tokens for authentication.</span></span> <span data-ttu-id="f40f8-134">Добавьте hello вызывающего объекта tooeither hello чтения, владельца или участника роли tooget toohello данных об использовании для определенной подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="f40f8-134">Add hello caller tooeither hello Reader, Owner, or Contributor role tooget access toohello usage data for a particular Azure subscription.</span></span>
* <span data-ttu-id="f40f8-135">**Support for Pay-as-you-go, MSDN, Monetary commitment, and Monetary credit offers (EA not supported)** (Поддержка оплаты по мере использования, MSDN, денежных обязательств, денежного кредита, EA не поддерживается). Этот API предоставляет сведения о тарифах Azure на уровне предложений.</span><span class="sxs-lookup"><span data-stu-id="f40f8-135">**Support for Pay-as-you-go, MSDN, Monetary commitment, and Monetary credit offers (EA not supported)** - This API provides Azure offer-level rate information.</span></span>  <span data-ttu-id="f40f8-136">Hello код, вызывающий этот API необходимо передавать сведения о ресурсах tooget сведения предложение hello и ставки.</span><span class="sxs-lookup"><span data-stu-id="f40f8-136">hello caller of this API must pass in hello offer information tooget resource details and rates.</span></span> <span data-ttu-id="f40f8-137">Мы ставки EA tooprovide в настоящее время не удается, так как предлагает EA настроили ставки по регистрации.</span><span class="sxs-lookup"><span data-stu-id="f40f8-137">We're currently unable tooprovide EA rates because EA offers have customized rates per enrollment.</span></span> 

## <a name="scenarios"></a><span data-ttu-id="f40f8-138">Сценарии</span><span class="sxs-lookup"><span data-stu-id="f40f8-138">Scenarios</span></span>
<span data-ttu-id="f40f8-139">Ниже приведены некоторые сценарии hello, которые возможно сочетание hello hello использования и hello RateCard API-интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="f40f8-139">Here are some of hello scenarios that are made possible with hello combination of hello Usage and hello RateCard APIs:</span></span>

* <span data-ttu-id="f40f8-140">**Потратьте Azure в течение месяца hello** -используйте сочетание hello hello использования и API-интерфейсы RateCard tooget улучшение анализа облачных тратить hello месяц.</span><span class="sxs-lookup"><span data-stu-id="f40f8-140">**Azure spend during hello month** - Use hello combination of hello Usage and RateCard APIs tooget better insights into your cloud spend during hello month.</span></span> <span data-ttu-id="f40f8-141">Можно анализировать hello каждый час и оценку контейнеров ежедневного использования и издержек.</span><span class="sxs-lookup"><span data-stu-id="f40f8-141">You can analyze hello hourly and daily buckets of usage and charge estimates.</span></span>
* <span data-ttu-id="f40f8-142">**Настройка оповещений** — использовать hello использования и hello tooget RateCard API-интерфейсы Оценка потребления облака и расходов и установка предупреждений на основе ресурсов или денежных.</span><span class="sxs-lookup"><span data-stu-id="f40f8-142">**Set up alerts** – Use hello Usage and hello RateCard APIs tooget estimated cloud consumption and charges, and set up resource-based or monetary-based alerts.</span></span>
* <span data-ttu-id="f40f8-143">**Прогноз счета** — Get Оценка потребления и облако расходов и применить машинного обучения toopredict алгоритмы в конце hello hello цикл выставления счетов будет какие счета hello.</span><span class="sxs-lookup"><span data-stu-id="f40f8-143">**Predict bill** – Get your estimated consumption and cloud spend, and apply machine learning algorithms toopredict what hello bill would be at hello end of hello billing cycle.</span></span>
* <span data-ttu-id="f40f8-144">**До использования анализ затрат** — использовать RateCard API toopredict hello, сколько счете мог бы быть ожидаемым использования при перемещении вашей tooAzure рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="f40f8-144">**Pre-consumption cost analysis** – Use hello RateCard API toopredict how much your bill would be for your expected usage when you move your workloads tooAzure.</span></span> <span data-ttu-id="f40f8-145">При наличии существующих рабочих нагрузок в других облаках или частных облаков, также можно сопоставить использования с hello Azure ставки tooget лучшую оценку Azure расходов.</span><span class="sxs-lookup"><span data-stu-id="f40f8-145">If you have existing workloads in other clouds or private clouds, you can also map your usage with hello Azure rates tooget a better estimate of Azure spend.</span></span> <span data-ttu-id="f40f8-146">Это дает оценку hello toopivot возможности на предложение и сравнение и контрастности между типами другое предложение hello за оплату по мере использования, например денежных обязательств и Денежный кредит.</span><span class="sxs-lookup"><span data-stu-id="f40f8-146">This estimate gives you hello ability toopivot on offer, and compare and contrast between hello different offer types beyond Pay-As-You-Go, like Monetary commitment and Monetary credit.</span></span> <span data-ttu-id="f40f8-147">также позволяет Hello API hello возможность toosee стоимость различия по региону, а также toodo toohelp стоимость гипотетического анализа, при принятии решений развертывания.</span><span class="sxs-lookup"><span data-stu-id="f40f8-147">hello API also gives you hello ability toosee cost differences by region and allows you toodo a what-if cost analysis toohelp you make deployment decisions.</span></span>
* <span data-ttu-id="f40f8-148">**What-if analysis** -</span><span class="sxs-lookup"><span data-stu-id="f40f8-148">**What-if analysis** -</span></span>
  
  * <span data-ttu-id="f40f8-149">Можно определить, является ли дополнительные рабочих нагрузок экономичное toorun в другой регион или в другой конфигурации hello ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="f40f8-149">You can determine whether it is more cost-effective toorun workloads in another region, or on another configuration of hello Azure resource.</span></span> <span data-ttu-id="f40f8-150">Ресурс Azure, могут отличаться затраты на основании hello регион Azure, которую вы используете.</span><span class="sxs-lookup"><span data-stu-id="f40f8-150">Azure resource costs may differ based on hello Azure region you're using.</span></span>
  * <span data-ttu-id="f40f8-151">Вы также можете определить, предоставляет ли другое предложение Azure более выгодный тариф на ресурс Azure.</span><span class="sxs-lookup"><span data-stu-id="f40f8-151">You can also determine if another Azure offer type gives a better rate on an Azure resource.</span></span>
  
## <a name="partner-solutions"></a><span data-ttu-id="f40f8-152">Решения партнеров</span><span class="sxs-lookup"><span data-stu-id="f40f8-152">Partner solutions</span></span>
<span data-ttu-id="f40f8-153">[Использование Microsoft Azure и Cloudyn включить API-интерфейсы RateCard tooProvide ITFM для клиентов](billing-usage-rate-card-partner-solution-cloudyn.md) описывается интеграция hello, предоставляемые API выставления счетов Azure партнера [Cloudyn](https://www.cloudyn.com/microsoft-azure/).</span><span class="sxs-lookup"><span data-stu-id="f40f8-153">[Microsoft Azure Usage and RateCard APIs Enable Cloudyn tooProvide ITFM for Customers](billing-usage-rate-card-partner-solution-cloudyn.md) describes hello integration experience offered by Azure Billing API partner [Cloudyn](https://www.cloudyn.com/microsoft-azure/).</span></span> <span data-ttu-id="f40f8-154">В этой статье рассказывается о работе и включает в себя видео, в котором показано, как использовать Cloudyn и hello API-интерфейсов выставления счетов Azure tooget аналитики из данных использование Azure.</span><span class="sxs-lookup"><span data-stu-id="f40f8-154">This article talks about their experiences and includes a video that shows how you can use Cloudyn and hello Azure Billing APIs tooget insights from Azure consumption data.</span></span>

<span data-ttu-id="f40f8-155">[Cloud Cruiser и выставление счетов интеграции API Microsoft Azure](billing-usage-rate-card-partner-solution-cloudcruiser.md) описывает способ [Cruiser облака Express для Azure Pack](http://www.cloudcruiser.com/partners/microsoft/) работает непосредственно с портала Windows Azure Pack (MAP) hello.</span><span class="sxs-lookup"><span data-stu-id="f40f8-155">[Cloud Cruiser and Microsoft Azure Billing API Integration](billing-usage-rate-card-partner-solution-cloudcruiser.md) describes how [Cloud Cruiser's Express for Azure Pack](http://www.cloudcruiser.com/partners/microsoft/) works directly from hello Windows Azure Pack (WAP) portal.</span></span> <span data-ttu-id="f40f8-156">Можно легко управлять обоих hello операционных и финансовых аспектами hello private или размещенного общедоступное облако Microsoft Azure с единого пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="f40f8-156">You can seamlessly manage both hello operational and financial aspects of hello Microsoft Azure private or hosted public cloud from a single user interface.</span></span>   

## <a name="next-steps"></a><span data-ttu-id="f40f8-157">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="f40f8-157">Next steps</span></span>
* <span data-ttu-id="f40f8-158">Ознакомьтесь с примерами кода hello на GitHub:</span><span class="sxs-lookup"><span data-stu-id="f40f8-158">Check out hello code samples on GitHub:</span></span>
  * [<span data-ttu-id="f40f8-159">Пример кода API счетов</span><span class="sxs-lookup"><span data-stu-id="f40f8-159">Invoice API code sample</span></span>](https://go.microsoft.com/fwlink/?linkid=845124)

  * [<span data-ttu-id="f40f8-160">Пример кода API использования</span><span class="sxs-lookup"><span data-stu-id="f40f8-160">Usage API code sample</span></span>](https://github.com/Azure-Samples/billing-dotnet-usage-api)

  * [<span data-ttu-id="f40f8-161">Пример кода API RateCard</span><span class="sxs-lookup"><span data-stu-id="f40f8-161">RateCard API code sample</span></span>](https://github.com/Azure-Samples/billing-dotnet-ratecard-api)

* <span data-ttu-id="f40f8-162">toolearn Дополнительные сведения о hello Azure Resource Manager в разделе [Обзор диспетчера ресурсов Azure](../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f40f8-162">toolearn more about hello Azure Resource Manager, see [Azure Resource Manager Overview](../azure-resource-manager/resource-group-overview.md).</span></span> 

* <span data-ttu-id="f40f8-163">Дополнительные сведения о hello набор инструментов, необходимые toohelp получить представление об облаке расходов, см. статьи hello [рынка руководство для средств управления финансовых ИТ (ITFM)](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb).</span><span class="sxs-lookup"><span data-stu-id="f40f8-163">For more information on hello suite of tools necessary toohelp you get an understanding of cloud spend, see hello Gartner article [Market Guide for IT Financial Management (ITFM) Tools](http://www.gartner.com/technology/reprints.do?id=1-212F7AL&ct=140909&st=sb).</span></span>

