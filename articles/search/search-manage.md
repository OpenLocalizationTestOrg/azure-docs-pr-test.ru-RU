---
title: "aaaService администрирования для службы поиска Azure в hello портал Azure"
description: "Управление поиском Azure, размещенной облачной службой поиска в Microsoft Azure с помощью портала Azure hello."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: c87d1fdd-b3b8-4702-a753-6d7e29dbe0a2
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 06/18/2017
ms.author: heidist
ms.openlocfilehash: 9bb33660d93e068e0f35b856cba0a41c92623644
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="service-administration-for-azure-search-in-hello-azure-portal"></a><span data-ttu-id="58a86-103">Администрирование службы для службы поиска Azure в hello портал Azure</span><span class="sxs-lookup"><span data-stu-id="58a86-103">Service administration for Azure Search in hello Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="58a86-104">Портал</span><span class="sxs-lookup"><span data-stu-id="58a86-104">Portal</span></span>](search-manage.md)
> * [<span data-ttu-id="58a86-105">PowerShell</span><span class="sxs-lookup"><span data-stu-id="58a86-105">PowerShell</span></span>](search-manage-powershell.md)
> * [<span data-ttu-id="58a86-106">Пакет SDK для .NET</span><span class="sxs-lookup"><span data-stu-id="58a86-106">.NET SDK</span></span>](https://docs.microsoft.com/dotnet/api/microsoft.azure.management.search)
> * <span data-ttu-id="58a86-107">[Python](https://pypi.python.org/pypi/azure-mgmt-search/0.1.0)></span><span class="sxs-lookup"><span data-stu-id="58a86-107">[Python](https://pypi.python.org/pypi/azure-mgmt-search/0.1.0)></span></span> 

<span data-ttu-id="58a86-108">Поиск Azure — это облачная служба поиска с полным управлением, которая используется для создания многофункционального поискового интерфейса в пользовательских приложениях.</span><span class="sxs-lookup"><span data-stu-id="58a86-108">Azure Search is a fully managed, cloud-based search service used for building a rich search experience into custom apps.</span></span> <span data-ttu-id="58a86-109">В этой статье рассматриваются hello *службы администрирования* задачи, которые можно выполнять в hello [портал Azure](https://portal.azure.com) для службы поиска, который уже инициализирован.</span><span class="sxs-lookup"><span data-stu-id="58a86-109">This article covers hello *service administration* tasks that you can perform in hello [Azure portal](https://portal.azure.com) for a search service that you've already provisioned.</span></span> <span data-ttu-id="58a86-110">*Служба администрирования* простой предусмотренные ограниченный toohello следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="58a86-110">*Service administration* is lightweight by design, limited toohello following tasks:</span></span>

* <span data-ttu-id="58a86-111">Управление и защиту доступа к toohello *ключи api* используется для чтения или записи tooyour службы.</span><span class="sxs-lookup"><span data-stu-id="58a86-111">Manage and secure access toohello *api-keys* used for read or write access tooyour service.</span></span>
* <span data-ttu-id="58a86-112">Настройте службы емкость, изменив hello выделение разделов и реплик.</span><span class="sxs-lookup"><span data-stu-id="58a86-112">Adjust service capacity by changing hello allocation of partitions and replicas.</span></span>
* <span data-ttu-id="58a86-113">Наблюдение за использованием ресурсов, относительный toomaximum ограничения уровня службы.</span><span class="sxs-lookup"><span data-stu-id="58a86-113">Monitor resource usage, relative toomaximum limits of your service tier.</span></span>

<span data-ttu-id="58a86-114">**За рамками данной статьи**</span><span class="sxs-lookup"><span data-stu-id="58a86-114">**Not in scope**</span></span> 

<span data-ttu-id="58a86-115">*Управление содержимым* (или индекс управления) относится toooperations анализа toounderstand запрос поиска трафика тома, обнаружение которого термины людей, поиск и успешность поиска результаты возвращаются в руководить toospecific клиентов документы в индексе.</span><span class="sxs-lookup"><span data-stu-id="58a86-115">*Content management* (or index management) refers toooperations such as analyzing search traffic toounderstand query volume, discover which terms people search for, and how successful search results are in guiding customers toospecific documents in your index.</span></span> <span data-ttu-id="58a86-116">Дополнительные сведения об этом см. в статье, посвященной [поиску аналитики трафика для службы Поиска Azure](search-traffic-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="58a86-116">For help in this area, see [Search Traffic Analytics for Azure Search](search-traffic-analytics.md).</span></span>

<span data-ttu-id="58a86-117">*Производительность запросов,* также выходит за рамки данной статьи hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-117">*Query performance* is also beyond hello scope of this article.</span></span> <span data-ttu-id="58a86-118">Дополнительные сведения см. в статьях [Контроль использования и статистики в службе поиска Azure](search-monitor-usage.md) и [Рекомендации по производительности и оптимизации Поиска Azure](search-performance-optimization.md).</span><span class="sxs-lookup"><span data-stu-id="58a86-118">For more information, see [Monitor usage and query metrics](search-monitor-usage.md) and [Performance and optimization](search-performance-optimization.md).</span></span>

<span data-ttu-id="58a86-119">*Обновление* не является задачей администрирования.</span><span class="sxs-lookup"><span data-stu-id="58a86-119">*Upgrade* is not an administrative task.</span></span> <span data-ttu-id="58a86-120">Поскольку ресурсы выделяются при подготовке службы hello, перемещение другому уровню tooa требует новой службы.</span><span class="sxs-lookup"><span data-stu-id="58a86-120">Because resources are allocated when hello service is provisioned, moving tooa different tier requires a new service.</span></span> <span data-ttu-id="58a86-121">Подробные сведения см. в статье [Создание службы поиска Azure](search-create-service-portal.md).</span><span class="sxs-lookup"><span data-stu-id="58a86-121">For details, see [Create an Azure Search service](search-create-service-portal.md).</span></span>

<a id="admin-rights"></a>

## <a name="administrator-rights"></a><span data-ttu-id="58a86-122">Права администратора</span><span class="sxs-lookup"><span data-stu-id="58a86-122">Administrator rights</span></span>
<span data-ttu-id="58a86-123">Подготовки или списания саму службу hello может выполняться администратором подписки Azure или соадминистратором.</span><span class="sxs-lookup"><span data-stu-id="58a86-123">Provisioning or decommissioning hello service itself can be done by an Azure subscription administrator or co-administrator.</span></span>

<span data-ttu-id="58a86-124">В службе любой пользователь с URL-адрес службы toohello доступа и api ключ администратора есть доступ для чтения и записи toohello служба.</span><span class="sxs-lookup"><span data-stu-id="58a86-124">Within a service, anyone with access toohello service URL and an admin api-key has read-write access toohello service.</span></span> <span data-ttu-id="58a86-125">Доступ для чтения и записи предоставляет возможность tooadd hello, удаления или изменения серверных объектов, включая ключи api, индексы, индексаторы, источники данных, расписаний и назначения ролей, как реализуется с помощью [роли, определяемые RBAC](#rbac).</span><span class="sxs-lookup"><span data-stu-id="58a86-125">Read-write access provides hello ability tooadd, delete, or modify server objects, including api-keys, indexes, indexers, data sources, schedules, and role assignments as implemented through [RBAC-defined roles](#rbac).</span></span>

<span data-ttu-id="58a86-126">Все взаимодействие с пользователем с поиском Azure находится в одном из следующих режимов: чтения и записи службы доступа к toohello (прав администратора) или службы toohello доступ только для чтения (запрос прав).</span><span class="sxs-lookup"><span data-stu-id="58a86-126">All user interaction with Azure Search falls within one of these modes: read-write access toohello service (administrator rights), or read-only access toohello service (query rights).</span></span> <span data-ttu-id="58a86-127">Дополнительные сведения см. в разделе [управление ключи api hello](#manage-keys).</span><span class="sxs-lookup"><span data-stu-id="58a86-127">For more information, see [Manage hello api-keys](#manage-keys).</span></span>

<a id="sys-info"></a>

## <a name="set-rbac-roles-for-administrative-access"></a><span data-ttu-id="58a86-128">Настройка ролей RBAC с правами администратора</span><span class="sxs-lookup"><span data-stu-id="58a86-128">Set RBAC roles for administrative access</span></span>
<span data-ttu-id="58a86-129">Azure предоставляет [модель глобального авторизации на основе ролей](../active-directory/role-based-access-control-configure.md) для всех служб, управляемых с помощью портала hello или интерфейсы API диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58a86-129">Azure provides a [global role-based authorization model](../active-directory/role-based-access-control-configure.md) for all services managed through hello portal or Resource Manager APIs.</span></span> <span data-ttu-id="58a86-130">Владельца, участника и чтения роли определяют уровень hello администрирования службы Active Directory-пользователи, группы и роли назначенного tooeach субъектов безопасности.</span><span class="sxs-lookup"><span data-stu-id="58a86-130">Owner, Contributor, and Reader roles determine hello level of service administration for Active Directory users, groups, and security principals assigned tooeach role.</span></span> 

<span data-ttu-id="58a86-131">Для поиска Azure RBAC разрешения определяют hello следующие административные задачи:</span><span class="sxs-lookup"><span data-stu-id="58a86-131">For Azure Search, RBAC permissions determine hello following administrative tasks:</span></span>

| <span data-ttu-id="58a86-132">Роль</span><span class="sxs-lookup"><span data-stu-id="58a86-132">Role</span></span> | <span data-ttu-id="58a86-133">Задача</span><span class="sxs-lookup"><span data-stu-id="58a86-133">Task</span></span> |
| --- | --- |
| <span data-ttu-id="58a86-134">Владелец</span><span class="sxs-lookup"><span data-stu-id="58a86-134">Owner</span></span> |<span data-ttu-id="58a86-135">Создание или удаление hello службы или любого объекта на службу hello, включая ключи api, индексы, индексаторы, индексатор источники данных и расписания индексатора.</span><span class="sxs-lookup"><span data-stu-id="58a86-135">Create or delete hello service or any object on hello service, including api-keys, indexes, indexers, indexer data sources, and indexer schedules.</span></span><p><span data-ttu-id="58a86-136">Просмотр состояния службы, в том числе счетчиков и размера хранилища.</span><span class="sxs-lookup"><span data-stu-id="58a86-136">View service status, including counts and storage size.</span></span><p><span data-ttu-id="58a86-137">Добавление или удаление ролевой принадлежности (только владелец может управлять ролевой принадлежностью).</span><span class="sxs-lookup"><span data-stu-id="58a86-137">Add or delete role membership (only an Owner can manage role membership).</span></span><p><span data-ttu-id="58a86-138">Администраторы подписки и владельцы службы иметь автоматическое членство в роли Владельцы hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-138">Subscription administrators and service owners have automatic membership in hello Owners role.</span></span> |
| <span data-ttu-id="58a86-139">Участник</span><span class="sxs-lookup"><span data-stu-id="58a86-139">Contributor</span></span> |<span data-ttu-id="58a86-140">Тот же уровень доступа, что и владелец, но без возможности управлять ролями.</span><span class="sxs-lookup"><span data-stu-id="58a86-140">Same level of access as Owner, minus RBAC role management.</span></span> <span data-ttu-id="58a86-141">Например, участник может просматривать и повторно создавать `api-key`, но не может изменять членство в ролях.</span><span class="sxs-lookup"><span data-stu-id="58a86-141">For example, a Contributor can view and regenerate `api-key`, but cannot modify role memberships.</span></span> |
| <span data-ttu-id="58a86-142">читатель.</span><span class="sxs-lookup"><span data-stu-id="58a86-142">Reader</span></span> |<span data-ttu-id="58a86-143">Просматривает состояние службы и ключи запросов.</span><span class="sxs-lookup"><span data-stu-id="58a86-143">View service status and query keys.</span></span> <span data-ttu-id="58a86-144">Пользователи в этой роли не могут изменять конфигурацию службы, а также не могут просматривать ключи администратора.</span><span class="sxs-lookup"><span data-stu-id="58a86-144">Members of this role cannot change service configuration, nor can they view admin keys.</span></span> |

<span data-ttu-id="58a86-145">Роли не предоставляйте конечной точки службы toohello прав доступа.</span><span class="sxs-lookup"><span data-stu-id="58a86-145">Roles do not grant access rights toohello service endpoint.</span></span> <span data-ttu-id="58a86-146">Операции службы поиска, такие как управление индексами, совокупностями индексов и поисковые запросы к данным, управляются посредством ключей API, а не через роли.</span><span class="sxs-lookup"><span data-stu-id="58a86-146">Search service operations, such as index management, index population, and queries on search data, are controlled through api-keys, not roles.</span></span> <span data-ttu-id="58a86-147">Дополнительные сведения см. в разделе "Предоставление прав на управление и операции с данными" статьи [Начало работы с управлением доступом на портале Azure](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="58a86-147">For more information, see "Authorization for management versus data operations" in [What is Role-based access control](../active-directory/role-based-access-control-what-is.md).</span></span>

<a id="secure-keys"></a>
## <a name="logging-and-system-information"></a><span data-ttu-id="58a86-148">Ведение журнала и сведения о системе</span><span class="sxs-lookup"><span data-stu-id="58a86-148">Logging and system information</span></span>
<span data-ttu-id="58a86-149">Поиск Azure не предоставляет файлы журналов для отдельной службы через портал hello или программных интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="58a86-149">Azure Search does not expose log files for an individual service either through hello portal or programmatic interfaces.</span></span> <span data-ttu-id="58a86-150">На уровне Basic hello и более поздних версий Microsoft отслеживает все службы поиска Azure для обеспечения доступности 99,9% каждого соглашения об уровне обслуживания (SLA).</span><span class="sxs-lookup"><span data-stu-id="58a86-150">At hello Basic tier and above, Microsoft monitors all Azure Search services for 99.9% availability per service level agreements (SLA).</span></span> <span data-ttu-id="58a86-151">Если служба hello работает медленно или пропускной способности запроса падает ниже пороговых значений соглашения об уровне ОБСЛУЖИВАНИЯ, группы поддержки просмотрите toothem доступные файлы журнала hello и адрес hello проблему.</span><span class="sxs-lookup"><span data-stu-id="58a86-151">If hello service is slow or request throughput falls below SLA thresholds, support teams review hello log files available toothem and address hello issue.</span></span>

<span data-ttu-id="58a86-152">С точки зрения Общие сведения о службе можно узнать в hello следующих способов:</span><span class="sxs-lookup"><span data-stu-id="58a86-152">In terms of general information about your service, you can obtain information in hello following ways:</span></span>

* <span data-ttu-id="58a86-153">На портале hello на панель мониторинга службы hello посредством уведомлений, свойств и сообщения о состоянии.</span><span class="sxs-lookup"><span data-stu-id="58a86-153">In hello portal, on hello service dashboard, through notifications, properties, and status messages.</span></span>
* <span data-ttu-id="58a86-154">С помощью [PowerShell](search-manage-powershell.md) или hello [API REST управления](https://docs.microsoft.com/rest/api/searchmanagement/) слишком[получение свойств службы](https://docs.microsoft.com/rest/api/searchmanagement/services), или состояние индекса использование ресурсов.</span><span class="sxs-lookup"><span data-stu-id="58a86-154">Using [PowerShell](search-manage-powershell.md) or hello [Management REST API](https://docs.microsoft.com/rest/api/searchmanagement/) too[get service properties](https://docs.microsoft.com/rest/api/searchmanagement/services), or status on index resource usage.</span></span>
* <span data-ttu-id="58a86-155">с помощью функции [аналитики поискового трафика](search-traffic-analytics.md), как уже говорилось ранее.</span><span class="sxs-lookup"><span data-stu-id="58a86-155">Via [search traffic analytics](search-traffic-analytics.md), as noted previously.</span></span>

<a id="manage-keys"></a>

## <a name="manage-api-keys"></a><span data-ttu-id="58a86-156">Управление ключами API</span><span class="sxs-lookup"><span data-stu-id="58a86-156">Manage api-keys</span></span>
<span data-ttu-id="58a86-157">Служба поиска tooa все запросы должны api ключ, созданный специально для вашей службы.</span><span class="sxs-lookup"><span data-stu-id="58a86-157">All requests tooa search service need an api-key that was generated specifically for your service.</span></span> <span data-ttu-id="58a86-158">Этот ключ api — hello единственный механизм для проверки подлинности конечной точки службы поиска tooyour доступа.</span><span class="sxs-lookup"><span data-stu-id="58a86-158">This api-key is hello sole mechanism for authenticating access tooyour search service endpoint.</span></span> 

<span data-ttu-id="58a86-159">Ключ API является строкой, состоящей из случайно сгенерированных букв и цифр.</span><span class="sxs-lookup"><span data-stu-id="58a86-159">An api-key is a string composed of randomly generated numbers and letters.</span></span> <span data-ttu-id="58a86-160">Через [разрешения RBAC](#rbac), можно удалить или прочитать hello ключи, но нельзя заменить ключ пользовательским паролем.</span><span class="sxs-lookup"><span data-stu-id="58a86-160">Through [RBAC permissions](#rbac), you can delete or read hello keys, but you can't replace a key with a user-defined password.</span></span> 

<span data-ttu-id="58a86-161">Два типа ключей являются tooaccess используется службой поиска:</span><span class="sxs-lookup"><span data-stu-id="58a86-161">Two types of keys are used tooaccess your search service:</span></span>

* <span data-ttu-id="58a86-162">Admin (действителен для любой операции чтения и записи к службе hello)</span><span class="sxs-lookup"><span data-stu-id="58a86-162">Admin (valid for any read-write operation against hello service)</span></span>
* <span data-ttu-id="58a86-163">ключ запроса (применяется только к операциям чтения, таким как запросы к индексу).</span><span class="sxs-lookup"><span data-stu-id="58a86-163">Query (valid for read-only operations such as queries against an index)</span></span>

<span data-ttu-id="58a86-164">Ключ api администратора создается при подготовке службы hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-164">An admin api-key is created when hello service is provisioned.</span></span> <span data-ttu-id="58a86-165">Имеется два ключа администратора, в качестве *основной* и *получателя* tookeep их непосредственно, но в действительности они являются взаимозаменяемыми.</span><span class="sxs-lookup"><span data-stu-id="58a86-165">There are two admin keys, designated as *primary* and *secondary* tookeep them straight, but in fact they are interchangeable.</span></span> <span data-ttu-id="58a86-166">Каждая служба имеет два ключа администратора, чтобы Смена один без потери доступа tooyour службы.</span><span class="sxs-lookup"><span data-stu-id="58a86-166">Each service has two admin keys so that you can roll one over without losing access tooyour service.</span></span> <span data-ttu-id="58a86-167">Можно повторно создать или ключ администратора, но не удается добавить число ключей toohello общее администратора.</span><span class="sxs-lookup"><span data-stu-id="58a86-167">You can regenerate either admin key, but you cannot add toohello total admin key count.</span></span> <span data-ttu-id="58a86-168">На одну службу поиска допускается не более двух ключей администратора.</span><span class="sxs-lookup"><span data-stu-id="58a86-168">There is a maximum of two admin keys per search service.</span></span>

<span data-ttu-id="58a86-169">Ключи запроса предназначены для клиентских приложений, которые могут напрямую вызывать поиск.</span><span class="sxs-lookup"><span data-stu-id="58a86-169">Query keys are designed for client applications that call Search directly.</span></span> <span data-ttu-id="58a86-170">Можно создать копии ключей too50 запроса.</span><span class="sxs-lookup"><span data-stu-id="58a86-170">You can create up too50 query keys.</span></span> <span data-ttu-id="58a86-171">В коде приложения укажите URL-адрес для поиска hello и доступ только для чтения toohello запроса tooallow ключ api службы.</span><span class="sxs-lookup"><span data-stu-id="58a86-171">In application code, you specify hello search URL and a query api-key tooallow read-only access toohello service.</span></span> <span data-ttu-id="58a86-172">Код приложения также указывает индекс hello, используемую приложением.</span><span class="sxs-lookup"><span data-stu-id="58a86-172">Your application code also specifies hello index used by your application.</span></span> <span data-ttu-id="58a86-173">Вместе, конечная точка hello, ключ api для доступа только для чтения и целевой индекс определить hello области и уровень доступа hello подключения из клиентского приложения.</span><span class="sxs-lookup"><span data-stu-id="58a86-173">Together, hello endpoint, an api-key for read-only access, and a target index define hello scope and access level of hello connection from your client application.</span></span>

<span data-ttu-id="58a86-174">tooget или повторное создание ключей api, Привет открыть панель мониторинга службы.</span><span class="sxs-lookup"><span data-stu-id="58a86-174">tooget or regenerate api-keys, open hello service dashboard.</span></span> <span data-ttu-id="58a86-175">Нажмите кнопку **КЛЮЧЕЙ** tooslide откройте страницу управления ключами hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-175">Click **KEYS** tooslide open hello key management page.</span></span> <span data-ttu-id="58a86-176">Команды, для повторного создания или создание ключей, в начале hello страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="58a86-176">Commands for regenerating or creating keys are at hello top of hello page.</span></span> <span data-ttu-id="58a86-177">По умолчанию создаются только ключи администратора.</span><span class="sxs-lookup"><span data-stu-id="58a86-177">By default, only admin keys are created.</span></span> <span data-ttu-id="58a86-178">Ключи API запроса необходимо создать вручную.</span><span class="sxs-lookup"><span data-stu-id="58a86-178">Query api-keys must be created manually.</span></span>

 ![][9]

<a id="rbac"></a>

## <a name="secure-api-keys"></a><span data-ttu-id="58a86-179">Обеспечение безопасности ключей API</span><span class="sxs-lookup"><span data-stu-id="58a86-179">Secure api-keys</span></span>
<span data-ttu-id="58a86-180">Безопасность ключей обеспечивается путем ограничения доступа через портал hello или интерфейсы диспетчера ресурсов (PowerShell или интерфейса командной строки).</span><span class="sxs-lookup"><span data-stu-id="58a86-180">Key security is ensured by restricting access via hello portal or Resource Manager interfaces (PowerShell or command-line interface).</span></span> <span data-ttu-id="58a86-181">Как уже упоминалось, администраторы подписки могут просматривать и повторно создавать все ключи API.</span><span class="sxs-lookup"><span data-stu-id="58a86-181">As noted, subscription administrators can view and regenerate all api-keys.</span></span> <span data-ttu-id="58a86-182">В качестве меры предосторожности просмотрите toounderstand назначения роли, имеющий ключи администратора toohello доступа.</span><span class="sxs-lookup"><span data-stu-id="58a86-182">As a precaution, review role assignments toounderstand who has access toohello admin keys.</span></span>

1. <span data-ttu-id="58a86-183">В панели мониторинга службы hello щелкните hello доступа значок tooslide Привет открыть колонка "пользователи".</span><span class="sxs-lookup"><span data-stu-id="58a86-183">In hello service dashboard, click hello Access icon tooslide open hello Users blade.</span></span>
   ![][7]
2. <span data-ttu-id="58a86-184">В колонке "Пользователи" проверьте существующие назначения ролей.</span><span class="sxs-lookup"><span data-stu-id="58a86-184">In Users, review existing role assignments.</span></span> <span data-ttu-id="58a86-185">Как и ожидалось, администраторы подписки уже есть полный доступ службы toohello через роль владельца hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-185">As expected, Subscription admins already have full access toohello service via hello Owner role.</span></span>
3. <span data-ttu-id="58a86-186">Нажмите кнопку Далее, toodrill **Администраторы подписки** и разверните hello назначения роли список toosee с правами совместного администрирования на службе поиска.</span><span class="sxs-lookup"><span data-stu-id="58a86-186">toodrill further, click **Subscription admins** and then expand hello role assignment list toosee who has co-administration rights on your search service.</span></span>

<span data-ttu-id="58a86-187">Разрешения на доступ другим способом tooview — tooclick **ролей** на колонка "пользователи" hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-187">Another way tooview access permissions is tooclick **Roles** on hello Users blade.</span></span> <span data-ttu-id="58a86-188">При этом отображаются доступные роли и номер hello назначенного tooeach роли пользователям или группам.</span><span class="sxs-lookup"><span data-stu-id="58a86-188">Doing so displays available roles and hello number of users or groups assigned tooeach role.</span></span>

<a id="sub-5"></a>

## <a name="monitor-resource-usage"></a><span data-ttu-id="58a86-189">Отслеживание использования ресурсов</span><span class="sxs-lookup"><span data-stu-id="58a86-189">Monitor resource usage</span></span>
<span data-ttu-id="58a86-190">В панели мониторинга hello отслеживание ресурсов является ограниченной toohello сведения, отображаемые на панели мониторинга службы hello и несколько метрик, которые можно получить с помощью запроса к службе hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-190">In hello dashboard, resource monitoring is limited toohello information shown in hello service dashboard and a few metrics that you can obtain by querying hello service.</span></span> <span data-ttu-id="58a86-191">На панель мониторинга службы hello в разделе "использование" hello можно быстро определить, соответствуют ли уровни раздел ресурсов приложения.</span><span class="sxs-lookup"><span data-stu-id="58a86-191">On hello service dashboard, in hello Usage section, you can quickly determine whether partition resource levels are adequate for your application.</span></span>

<span data-ttu-id="58a86-192">С помощью hello API службы поиска, можно получить число документов и индексы.</span><span class="sxs-lookup"><span data-stu-id="58a86-192">Using hello Search Service API, you can get a count on documents and indexes.</span></span> <span data-ttu-id="58a86-193">Существуют жесткие ограничения, связанные с этих счетчиков, в зависимости от ценового уровня hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-193">There are hard limits associated with these counts based on hello pricing tier.</span></span> <span data-ttu-id="58a86-194">Дополнительные сведения см. в статье [Ограничения поиска Azure](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="58a86-194">For more information, see [Search service limits](search-limits-quotas-capacity.md).</span></span> 

* [<span data-ttu-id="58a86-195">Получение статистики индексов</span><span class="sxs-lookup"><span data-stu-id="58a86-195">Get Index Statistics</span></span>](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)
* [<span data-ttu-id="58a86-196">Подсчет документов</span><span class="sxs-lookup"><span data-stu-id="58a86-196">Count Documents</span></span>](https://docs.microsoft.com/rest/api/searchservice/count-documents)

> [!NOTE]
> <span data-ttu-id="58a86-197">Поведение кэша может временно превышать предел.</span><span class="sxs-lookup"><span data-stu-id="58a86-197">Caching behaviors can temporarily overstate a limit.</span></span> <span data-ttu-id="58a86-198">Например, при использовании hello общие службы, может появиться документа счетчик через hello жестко ограничен: максимум 10 000 документов.</span><span class="sxs-lookup"><span data-stu-id="58a86-198">For example, when using hello shared service, you might see a document count over hello hard limit of 10,000 documents.</span></span> <span data-ttu-id="58a86-199">Hello overstatement являются временными и будут определяться на hello Далее проверки принудительного применения ограничения.</span><span class="sxs-lookup"><span data-stu-id="58a86-199">hello overstatement is temporary and will be detected on hello next limit enforcement check.</span></span> 
> 
> 

## <a name="disaster-recovery-and-service-outages"></a><span data-ttu-id="58a86-200">Аварийное восстановление и простои службы</span><span class="sxs-lookup"><span data-stu-id="58a86-200">Disaster recovery and service outages</span></span>

<span data-ttu-id="58a86-201">Несмотря на то, что мы спасти данные, поиска Azure не предоставляет немедленной отработки отказа службы hello, если происходит сбой на уровне центра hello кластера или данных.</span><span class="sxs-lookup"><span data-stu-id="58a86-201">Although we can salvage your data, Azure Search does not provide instant failover of hello service if there is an outage at hello cluster or data center level.</span></span> <span data-ttu-id="58a86-202">В случае кластера в центре обработки данных hello hello рабочая группа обнаруживает и служба toorestore рабочих.</span><span class="sxs-lookup"><span data-stu-id="58a86-202">If a cluster fails in hello data center, hello operations team will detect and work toorestore service.</span></span> <span data-ttu-id="58a86-203">Во время восстановления службы возникнет простой.</span><span class="sxs-lookup"><span data-stu-id="58a86-203">You will experience downtime during service restoration.</span></span> <span data-ttu-id="58a86-204">Можно запросить toocompensate кредиты службы для недоступности службы на hello [соглашения уровня службы (SLA)](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="58a86-204">You can request service credits toocompensate for service unavailability per hello [Service Level Agreement (SLA)](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span> 

<span data-ttu-id="58a86-205">Если в событии hello критическим сбоям за пределами контроля корпорации Майкрософт требуется непрерывной работы, вы можете [подготовить это дополнительная служба](search-create-service-portal.md) в другом регионе и реализовать географическую репликацию стратегии tooensure индексов являются полностью избыточные во всех службах.</span><span class="sxs-lookup"><span data-stu-id="58a86-205">If continuous service is required in hello event of catastrophic failures outside of Microsoft’s control, you could [provision an additional service](search-create-service-portal.md) in a different region and implement a geo-replication strategy tooensure indexes are fully redundant across all services.</span></span>

<span data-ttu-id="58a86-206">Пользователи, использующие [индексаторы](search-indexer-overview.md) toopopulate и обновления индексов может обрабатывать аварийное восстановление с помощью конкретного geo индексаторы, используя hello одного источника данных.</span><span class="sxs-lookup"><span data-stu-id="58a86-206">Customers who use [indexers](search-indexer-overview.md) toopopulate and refresh indexes can handle disaster recovery through geo-specific indexers leveraging hello same data source.</span></span> <span data-ttu-id="58a86-207">Две службы в различных регионах, в которых запущена индексатора, делает индекс из hello же tooachieve геоизбыточность источника данных.</span><span class="sxs-lookup"><span data-stu-id="58a86-207">Two services in different regions, each running an indexer, could index from hello same data source tooachieve geo-redundancy.</span></span> <span data-ttu-id="58a86-208">Если индексация осуществляется из источников данных, которые также обладают географической избыточностью, следует учитывать, что индексаторы поиска Azure могут выполнять добавочную индексацию только из первичных реплик.</span><span class="sxs-lookup"><span data-stu-id="58a86-208">If you are indexing from data sources that are also geo-redundant, be aware that Azure Search indexers can only perform incremental indexing from primary replicas.</span></span> <span data-ttu-id="58a86-209">В отработки отказа нужно убедиться, что точка toore hello индексатора toohello новой первичной репликой.</span><span class="sxs-lookup"><span data-stu-id="58a86-209">In a failover event, be sure toore-point hello indexer toohello new primary replica.</span></span> 

<span data-ttu-id="58a86-210">Если вы не используете индексаторы, используется код toopush объектов и данных toodifferent поиска служб приложения в параллельном режиме.</span><span class="sxs-lookup"><span data-stu-id="58a86-210">If you do not use indexers, you would use your application code toopush objects and data toodifferent search services in parallel.</span></span> <span data-ttu-id="58a86-211">Дополнительные сведения см. в статье [Рекомендации по производительности и оптимизации Поиска Azure](search-performance-optimization.md).</span><span class="sxs-lookup"><span data-stu-id="58a86-211">For more information, see [Performance and optimization in Azure Search](search-performance-optimization.md).</span></span>

## <a name="backup-and-restore"></a><span data-ttu-id="58a86-212">Архивация и восстановление</span><span class="sxs-lookup"><span data-stu-id="58a86-212">Backup and restore</span></span>

<span data-ttu-id="58a86-213">Так как Поиск Azure не является основным решением для хранения данных, мы не предоставляем формальный механизм для автоматического резервного копирования и самостоятельного восстановления.</span><span class="sxs-lookup"><span data-stu-id="58a86-213">Because Azure Search is not a primary data storage solution, we do not provide a formal mechanism for self-service backup and restore.</span></span> <span data-ttu-id="58a86-214">Код приложения, используемый для создания и заполнения индекса является hello фактически параметр восстановления, если индекс был удален по ошибке.</span><span class="sxs-lookup"><span data-stu-id="58a86-214">Your application code used for creating and populating an index is hello de facto restore option if you delete an index by mistake.</span></span> 

<span data-ttu-id="58a86-215">toorebuild индекса, будет удалить его (если он существует), заново создайте индекс hello в службе hello и перезагрузить путем извлечения данных из источника данных хранилища.</span><span class="sxs-lookup"><span data-stu-id="58a86-215">toorebuild an index, you would delete it (assuming it exists), recreate hello index in hello service, and reload by retrieving data from your primary data store.</span></span> <span data-ttu-id="58a86-216">Кроме того, можно получить доступ к слишком[поддержки]() toosalvage индексы при региональном сбое.</span><span class="sxs-lookup"><span data-stu-id="58a86-216">Alternatively, you can reach out too[customer support]() toosalvage indexes if there is a regional outage.</span></span>


<a id="scale"></a>

## <a name="scale-up-or-down"></a><span data-ttu-id="58a86-217">Масштабирование вверх или вниз</span><span class="sxs-lookup"><span data-stu-id="58a86-217">Scale up or down</span></span>
<span data-ttu-id="58a86-218">Каждая поисковая служба стартует минимум с одной реплики и одного раздела.</span><span class="sxs-lookup"><span data-stu-id="58a86-218">Every search service starts with a minimum of one replica and one partition.</span></span> <span data-ttu-id="58a86-219">Если вы зарегистрировались на [уровня, который предоставляет выделенные ресурсы](search-limits-quotas-capacity.md), щелкните hello **ШКАЛЫ** плитки уровня использования ресурсов tooadjust hello службы мониторинга.</span><span class="sxs-lookup"><span data-stu-id="58a86-219">If you signed up for a [tier that provides dedicated resources](search-limits-quotas-capacity.md), click hello **SCALE** tile in hello service dashboard tooadjust resource usage.</span></span>

<span data-ttu-id="58a86-220">При добавлении мощность за счет либо ресурсов hello служба использует их автоматически.</span><span class="sxs-lookup"><span data-stu-id="58a86-220">When you add capacity through either resource, hello service uses them automatically.</span></span> <span data-ttu-id="58a86-221">Никаких дополнительных действий со стороны пользователя требуется, но есть небольшая задержка перед реализуется hello влияние hello новый ресурс.</span><span class="sxs-lookup"><span data-stu-id="58a86-221">No further action is required on your part, but there is a slight delay before hello impact of hello new resource is realized.</span></span> <span data-ttu-id="58a86-222">Дополнительные ресурсы может потребоваться 15 минут или более tooprovision.</span><span class="sxs-lookup"><span data-stu-id="58a86-222">It can take 15 minutes or more tooprovision additional resources.</span></span>

 ![][10]

### <a name="add-replicas"></a><span data-ttu-id="58a86-223">Добавление реплик</span><span class="sxs-lookup"><span data-stu-id="58a86-223">Add replicas</span></span>
<span data-ttu-id="58a86-224">Увеличение количества запросов в секунду (QPS) или достижение высокой производительности осуществляется посредством добавления реплик.</span><span class="sxs-lookup"><span data-stu-id="58a86-224">Increasing queries per second (QPS) or achieving high availability is done by adding replicas.</span></span> <span data-ttu-id="58a86-225">Каждой реплики имеет одну копию индекса, поэтому добавляется один дополнительные реплика переводит tooone дополнительные индекса, доступных для обработки запросов на обслуживание запроса.</span><span class="sxs-lookup"><span data-stu-id="58a86-225">Each replica has one copy of an index, so adding one more replica translates tooone more index available for handling service query requests.</span></span> <span data-ttu-id="58a86-226">Для обеспечения высокой доступности требуется не менее 3 реплик (дополнительные сведения см. в статье [Масштабирование уровней ресурсов для рабочих нагрузок запросов и индексирования в Поиске Azure](search-capacity-planning.md)).</span><span class="sxs-lookup"><span data-stu-id="58a86-226">A minimum of 3 replicas are required for high availability (see [Capacity Planning](search-capacity-planning.md) for details).</span></span>

<span data-ttu-id="58a86-227">Служба поиска с большим количеством реплик может загружать баланс поисковых запросов по большему числу индексов.</span><span class="sxs-lookup"><span data-stu-id="58a86-227">A search service having more replicas can load balance query requests over a larger number of indexes.</span></span> <span data-ttu-id="58a86-228">Присвоен уровень число запросов, запросов пропускной способности будет toobe быстрее, если существует несколько копий hello индекс доступен tooservice hello запроса.</span><span class="sxs-lookup"><span data-stu-id="58a86-228">Given a level of query volume, query throughput is going toobe faster when there are more copies of hello index available tooservice hello request.</span></span> <span data-ttu-id="58a86-229">Если наблюдается задержка обработки запросов, можно ожидать положительное влияние на производительность после hello другие реплики находятся в оперативном режиме.</span><span class="sxs-lookup"><span data-stu-id="58a86-229">If you are experiencing query latency, you can expect a positive impact on performance once hello additional replicas are online.</span></span>

<span data-ttu-id="58a86-230">Несмотря на то, что пропускная способность запросов возрастает по мере добавления реплик, он не точно дважды или Тройное по мере добавления реплик tooyour службы.</span><span class="sxs-lookup"><span data-stu-id="58a86-230">Although query throughput goes up as you add replicas, it does not precisely double or triple as you add replicas tooyour service.</span></span> <span data-ttu-id="58a86-231">Тема tooexternal факторов, которые могут impinge на производительность запроса, все приложения поиска.</span><span class="sxs-lookup"><span data-stu-id="58a86-231">All search applications are subject tooexternal factors that can impinge on query performance.</span></span> <span data-ttu-id="58a86-232">Сложные запросы и задержки сети являются двух факторов, которые входят toovariations время ответа на запрос.</span><span class="sxs-lookup"><span data-stu-id="58a86-232">Complex queries and network latency are two factors that contribute toovariations in query response times.</span></span>

### <a name="add-partitions"></a><span data-ttu-id="58a86-233">Добавление разделов</span><span class="sxs-lookup"><span data-stu-id="58a86-233">Add partitions</span></span>
<span data-ttu-id="58a86-234">Большинство приложений-служб имеет встроенную потребность в большем количестве реплик, а не секций.</span><span class="sxs-lookup"><span data-stu-id="58a86-234">Most service applications have a built-in need for more replicas rather than partitions.</span></span> <span data-ttu-id="58a86-235">В случае необходимости повысить количество документов нужно добавить секции, если вы подписаны на службу ценовой категории "Стандартный".</span><span class="sxs-lookup"><span data-stu-id="58a86-235">For those cases where an increased document count is required, you can add partitions if you signed up for Standard service.</span></span> <span data-ttu-id="58a86-236">Для категории "Базовый" дополнительные секции не предоставляются.</span><span class="sxs-lookup"><span data-stu-id="58a86-236">Basic tier does not provide for additional partitions.</span></span>

<span data-ttu-id="58a86-237">На уровне Standard hello кратно 12 добавляются секции (в частности, 1, 2, 3, 4, 6 или 12).</span><span class="sxs-lookup"><span data-stu-id="58a86-237">At hello Standard tier, partitions are added in multiples of 12 (specifically, 1, 2, 3, 4, 6, or 12).</span></span> <span data-ttu-id="58a86-238">Это артефакт сегментирования.</span><span class="sxs-lookup"><span data-stu-id="58a86-238">This is an artifact of sharding.</span></span> <span data-ttu-id="58a86-239">Индекс создается в 12 сегментах, которые все вместе могут храниться в одной секции или равномерно распределяться по 2, 3, 4, 6 или 12 секциям (один сегмент на секцию).</span><span class="sxs-lookup"><span data-stu-id="58a86-239">An index is created in 12 shards, which can all be stored on 1 partition or equally divided into 2, 3, 4, 6, or 12 partitions (one shard per partition).</span></span>

### <a name="remove-replicas"></a><span data-ttu-id="58a86-240">Удаление реплик</span><span class="sxs-lookup"><span data-stu-id="58a86-240">Remove replicas</span></span>
<span data-ttu-id="58a86-241">После окончания периода большого количества запросов вы можете сократить число реплик, когда нагрузки поисковых запросов нормализуются (например, после окончания периода сезонных распродаж).</span><span class="sxs-lookup"><span data-stu-id="58a86-241">After periods of high query volumes, you can reduce replicas after search query loads have normalized (for example, after holiday sales are over).</span></span>

<span data-ttu-id="58a86-242">toodo, перемещения hello реплики ползунок задней tooa меньшее число.</span><span class="sxs-lookup"><span data-stu-id="58a86-242">toodo this, move hello replica slider back tooa lower number.</span></span> <span data-ttu-id="58a86-243">Больше с вашей стороны ничего делать не нужно.</span><span class="sxs-lookup"><span data-stu-id="58a86-243">There are no further steps required on your part.</span></span> <span data-ttu-id="58a86-244">Уменьшение числа реплик hello освобождает виртуальных машин в центре обработки данных hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-244">Lowering hello replica count relinquishes virtual machines in hello data center.</span></span> <span data-ttu-id="58a86-245">Теперь ваши запросы и операции приема данных будут работать на меньшем количестве виртуальных машин, чем раньше.</span><span class="sxs-lookup"><span data-stu-id="58a86-245">Your query and data ingestion operations will now run on fewer VMs than before.</span></span> <span data-ttu-id="58a86-246">Hello минимальное ограничение — одна из реплик.</span><span class="sxs-lookup"><span data-stu-id="58a86-246">hello minimum limit is one replica.</span></span>

### <a name="remove-partitions"></a><span data-ttu-id="58a86-247">Удаление разделов</span><span class="sxs-lookup"><span data-stu-id="58a86-247">Remove partitions</span></span>
<span data-ttu-id="58a86-248">В отличие от Удаление реплик, который требуется никаких дополнительных действий со стороны пользователя, может потребоваться некоторые toodo работы при использовании больше памяти, чем может быть уменьшен.</span><span class="sxs-lookup"><span data-stu-id="58a86-248">In contrast with removing replicas, which requires no extra effort on your part, you might have some work toodo if you are using more storage than can be reduced.</span></span> <span data-ttu-id="58a86-249">Например если решение использует три секции, загружаемый шрифт tooone или две секции будут вызывать ошибку, если новое дисковое пространство hello меньше, чем требуется.</span><span class="sxs-lookup"><span data-stu-id="58a86-249">For example, if your solution is using three partitions, downsizing tooone or two partitions will generate an error if hello new storage space is less than required.</span></span> <span data-ttu-id="58a86-250">Как и следует ожидать, сделанного выбора toodelete индексы и документы в toofree связанный индекс места или сохранить текущую конфигурацию hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-250">As you might expect, your choices are toodelete indexes or documents within an associated index toofree up space, or keep hello current configuration.</span></span>

<span data-ttu-id="58a86-251">Не существует метода, задающего конкретные сегменты индекса, хранящиеся в каждом разделе.</span><span class="sxs-lookup"><span data-stu-id="58a86-251">There is no detection method that tells you which index shards are stored on specific partitions.</span></span> <span data-ttu-id="58a86-252">Каждой секции предоставляет около 25 ГБ в хранилище, поэтому вам необходимо будет tooreduce хранения tooa размер, который может быть размещено hello число секций, которые у вас есть.</span><span class="sxs-lookup"><span data-stu-id="58a86-252">Each partition provides approximately 25 GB in storage, so you will need tooreduce storage tooa size that can be accommodated by hello number of partitions you have.</span></span> <span data-ttu-id="58a86-253">Если требуется toorevert tooone секции, все 12 сегментов потребуется toofit.</span><span class="sxs-lookup"><span data-stu-id="58a86-253">If you want toorevert tooone partition, all 12 shards will need toofit.</span></span>

<span data-ttu-id="58a86-254">toohelp планирования будущих может потребоваться toocheck хранилища (с помощью [получить статистику индекса](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)) toosee, насколько вы использовали.</span><span class="sxs-lookup"><span data-stu-id="58a86-254">toohelp with future planning, you might want toocheck storage (using [Get Index Statistics](https://docs.microsoft.com/rest/api/searchservice/Get-Index-Statistics)) toosee how much you actually used.</span></span> 

<a id="advanced-deployment"></a>

## <a name="best-practices-on-scale-and-deployment"></a><span data-ttu-id="58a86-255">Рекомендации по масштабированию и развертыванию</span><span class="sxs-lookup"><span data-stu-id="58a86-255">Best practices on scale and deployment</span></span>
<span data-ttu-id="58a86-256">В этом 30-минутном видеоролике представлены рекомендации для расширенных сценариев развертывания, включая геораспределение рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="58a86-256">This 30-minute video reviews best practices for advanced deployment scenarios, including geo-distributed workloads.</span></span> <span data-ttu-id="58a86-257">Можно также просмотреть [производительности и оптимизации в поиске Azure](search-performance-optimization.md) hello, титульных страниц справки же точек.</span><span class="sxs-lookup"><span data-stu-id="58a86-257">You can also see [Performance and optimization in Azure Search](search-performance-optimization.md) for help pages that cover hello same points.</span></span>

> [!VIDEO https://channel9.msdn.com/Events/Microsoft-Azure/AzureCon-2015/ACON319/player]
> 
> 

<a id="next-steps"></a>

## <a name="next-steps"></a><span data-ttu-id="58a86-258">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="58a86-258">Next steps</span></span>
<span data-ttu-id="58a86-259">Поняв принципы hello администрирования службы, рассмотрите возможность использования [PowerShell](search-manage-powershell.md) tooautomate задачи.</span><span class="sxs-lookup"><span data-stu-id="58a86-259">Once you understand hello concepts behind service administration, consider using [PowerShell](search-manage-powershell.md) tooautomate tasks.</span></span>

<span data-ttu-id="58a86-260">Также рекомендуется ознакомиться с hello [оптимизация производительности и статьи](search-performance-optimization.md).</span><span class="sxs-lookup"><span data-stu-id="58a86-260">We also recommend reviewing hello [performance and optimization article](search-performance-optimization.md).</span></span>

<span data-ttu-id="58a86-261">Другой рекомендуется toowatch hello видео, указаны в предыдущем разделе hello.</span><span class="sxs-lookup"><span data-stu-id="58a86-261">Another recommendation is toowatch hello video noted in hello previous section.</span></span> <span data-ttu-id="58a86-262">Он обеспечивает более глубокого покрытия hello методы, описанные в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="58a86-262">It provides deeper coverage of hello techniques mentioned in this section.</span></span>

<!--Image references-->
[7]: ./media/search-manage/rbac-icon.png
[8]: ./media/search-manage/Azure-Search-Manage-1-URL.png
[9]: ./media/search-manage/Azure-Search-Manage-2-Keys.png
[10]: ./media/search-manage/Azure-Search-Manage-3-ScaleUp.png



