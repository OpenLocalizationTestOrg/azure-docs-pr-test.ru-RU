---
title: "Отправка данных в службу поиска Azure | Документация Майкрософт"
description: "Сведения об отправке данных в индекс в службе поиска Azure."
services: search
documentationcenter: 
author: ashmaka
manager: jhubbard
editor: 
tags: 
ms.assetid: aa8d47c1-4ae6-4209-a8ce-48d5a9474707
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.date: 05/01/2017
ms.author: ashmaka
ms.openlocfilehash: 5a601b75ec67824e72d8736bc3c45f8e1231ca86
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="upload-data-to-azure-search"></a><span data-ttu-id="a1092-103">Отправка данных в службу поиска Azure</span><span class="sxs-lookup"><span data-stu-id="a1092-103">Upload data to Azure Search</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="a1092-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="a1092-104">Overview</span></span>](search-what-is-data-import.md)
> * [<span data-ttu-id="a1092-105">.NET</span><span class="sxs-lookup"><span data-stu-id="a1092-105">.NET</span></span>](search-import-data-dotnet.md)
> * [<span data-ttu-id="a1092-106">REST</span><span class="sxs-lookup"><span data-stu-id="a1092-106">REST</span></span>](search-import-data-rest-api.md)
> 
> 

<span data-ttu-id="a1092-107">Есть два способа заполнения индекса данными.</span><span class="sxs-lookup"><span data-stu-id="a1092-107">There are two ways to populate an index with your data.</span></span> <span data-ttu-id="a1092-108">Первый вариант — вручную передать данные в индекс с помощью [REST API](search-import-data-rest-api.md) или [пакета SDK для .NET](search-import-data-dotnet.md) службы поиска Azure.</span><span class="sxs-lookup"><span data-stu-id="a1092-108">The first option is manually pushing your data into the index using the Azure Search [REST API](search-import-data-rest-api.md) or [.NET SDK](search-import-data-dotnet.md).</span></span> <span data-ttu-id="a1092-109">Второй вариант — [указать поддерживаемый источник данных](search-indexer-overview.md) для индекса, после чего служба поиска Azure будет извлекать данные автоматически.</span><span class="sxs-lookup"><span data-stu-id="a1092-109">The second option is to [point a supported data source](search-indexer-overview.md) to your index and let Azure Search automatically pull in the data.</span></span>

## <a name="push-data-to-an-index"></a><span data-ttu-id="a1092-110">Передача данных в индекс</span><span class="sxs-lookup"><span data-stu-id="a1092-110">Push data to an index</span></span>
<span data-ttu-id="a1092-111">Этот подход заключается в программной отправке данных в службу поиска Azure, что сделает их доступными для поиска.</span><span class="sxs-lookup"><span data-stu-id="a1092-111">This approach refers to programmatically sending your data to Azure Search to make it available for searching.</span></span> <span data-ttu-id="a1092-112">Для приложений с очень высокими требованиями к задержке (например, если операции поиска должны синхронизироваться с динамической учетной базой данных) можно использовать только модель передачи.</span><span class="sxs-lookup"><span data-stu-id="a1092-112">For applications having very low latency requirements (for example, if you need search operations to be in sync with dynamic inventory databases), the push model is your only option.</span></span>

<span data-ttu-id="a1092-113">Передать данные в индекс можно с использованием интерфейса [REST API](https://docs.microsoft.com/rest/api/searchservice/AddUpdate-or-Delete-Documents) или [пакета SDK для .NET](search-import-data-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="a1092-113">You can use the [REST API](https://docs.microsoft.com/rest/api/searchservice/AddUpdate-or-Delete-Documents) or [.NET SDK](search-import-data-dotnet.md) to push data to an index.</span></span> <span data-ttu-id="a1092-114">Инструментов для передачи данных через портал пока не существует.</span><span class="sxs-lookup"><span data-stu-id="a1092-114">There is currently no tool support for pushing data via the portal.</span></span>

<span data-ttu-id="a1092-115">Передача является более гибким подходом, чем извлечение, поскольку документы можно передавать по одному или пакетами (не более 1000 документов и не более 16 МБ в каждом пакете).</span><span class="sxs-lookup"><span data-stu-id="a1092-115">This approach is more flexible than the pull model because you can upload documents individually or in batches (up to 1000 per batch or 16 MB, whichever limit comes first).</span></span> <span data-ttu-id="a1092-116">Модель передачи позволяет отправлять документы в службу поиска Azure независимо от расположения данных.</span><span class="sxs-lookup"><span data-stu-id="a1092-116">The push model also allows you to upload documents to Azure Search regardless of where your data is.</span></span>

<span data-ttu-id="a1092-117">Формат данных, поддерживаемый службой поиска Azure, — JSON. Все документы в наборе данных должны иметь поля, которые сопоставляются с полями, определенными в схеме индекса.</span><span class="sxs-lookup"><span data-stu-id="a1092-117">The data format understood by Azure Search is JSON, and all documents in the dataset must have fields that map to fields defined in your index schema.</span></span> 

## <a name="pull-data-into-an-index"></a><span data-ttu-id="a1092-118">Извлечение данных в индекс</span><span class="sxs-lookup"><span data-stu-id="a1092-118">Pull data into an index</span></span>
<span data-ttu-id="a1092-119">Модель извлечения выполняет поиск в поддерживаемом источнике данных, автоматически загружая данные в индекс.</span><span class="sxs-lookup"><span data-stu-id="a1092-119">The pull model crawls a supported data source and automatically uploads the data into your index.</span></span> <span data-ttu-id="a1092-120">Служба поиска Azure реализует эту возможность с помощью *индексаторов*, которые сейчас доступны для [хранилища BLOB-объектов](search-howto-indexing-azure-blob-storage.md), [хранилища таблиц](search-howto-indexing-azure-tables.md), [Azure Cosmos DB](http://aka.ms/documentdb-search-indexer), [базы данных SQL Azure и SQL Server на виртуальных машинах Azure](search-howto-connecting-azure-sql-database-to-azure-search-using-indexers.md).</span><span class="sxs-lookup"><span data-stu-id="a1092-120">In Azure Search, this capability is implemented through *indexers*, currently available for [Blob storage](search-howto-indexing-azure-blob-storage.md), [Table storage](search-howto-indexing-azure-tables.md), [Azure Cosmos DB](http://aka.ms/documentdb-search-indexer), [Azure SQL database, and SQL Server on Azure VMs](search-howto-connecting-azure-sql-database-to-azure-search-using-indexers.md).</span></span> 

<span data-ttu-id="a1092-121">Индексаторы подключают индекс к источнику данных (как правило, это таблица, представление или эквивалентная структура) и сопоставляют поля источника с эквивалентными полями в индексе.</span><span class="sxs-lookup"><span data-stu-id="a1092-121">Indexers connect an index to a data source (usually a table, view, or equivalent structure), and map source fields to equivalent fields in the index.</span></span> <span data-ttu-id="a1092-122">Во время выполнения набор строк автоматически преобразуется в формат JSON и загружается в указанный индекс.</span><span class="sxs-lookup"><span data-stu-id="a1092-122">During execution, the rowset is automatically transformed to JSON and loaded into the specified index.</span></span> <span data-ttu-id="a1092-123">Все индексаторы поддерживают планирование, так что вы можете указать частоту обновления данных.</span><span class="sxs-lookup"><span data-stu-id="a1092-123">All indexers support scheduling so that you can specify how frequently the data is to be refreshed.</span></span> <span data-ttu-id="a1092-124">Большинство индексаторов позволяют отслеживать изменения, если источник данных поддерживает такую возможность.</span><span class="sxs-lookup"><span data-stu-id="a1092-124">Most indexers provide change tracking if the data source supports it.</span></span> <span data-ttu-id="a1092-125">Отслеживая процессы изменения и удаления существующих документов, помимо распознания новых документов, индексаторы исключают необходимость в активном управлении данными в индексе.</span><span class="sxs-lookup"><span data-stu-id="a1092-125">By tracking changes and deletes to existing documents in addition to recognizing new documents, indexers remove the need to actively manage the data in your index.</span></span> 

<span data-ttu-id="a1092-126">Индексатор доступен на [портале Azure](search-import-data-portal.md), в интерфейсе [REST API](/rest/api/searchservice/Indexer-operations) и в [пакете SDK для .NET](/dotnet/api/microsoft.azure.search.indexersoperations).</span><span class="sxs-lookup"><span data-stu-id="a1092-126">Indexer functionality is exposed in the [Azure portal](search-import-data-portal.md), the [REST API](/rest/api/searchservice/Indexer-operations), and the [.NET SDK](/dotnet/api/microsoft.azure.search.indexersoperations).</span></span> 

<span data-ttu-id="a1092-127">Преимуществом использования портала является то, что служба поиска Azure, как правило, способна автоматически создавать стандартную схему индекса при чтении метаданных из исходного набора данных.</span><span class="sxs-lookup"><span data-stu-id="a1092-127">An advantage to using the portal is that Azure Search can usually generate a default index schema for you by reading the metadata of the source dataset.</span></span> <span data-ttu-id="a1092-128">Можно изменить создаваемый индекс до его обработки, после чего будут разрешены только те изменения схемы, которые не требуют повторного индексирования.</span><span class="sxs-lookup"><span data-stu-id="a1092-128">You can modify the generated index until the index is processed, after which the only schema edits allowed are those that do not require reindexing.</span></span> <span data-ttu-id="a1092-129">Если вносимые изменения непосредственно влияют на схему, вам потребуется повторно создать индекс.</span><span class="sxs-lookup"><span data-stu-id="a1092-129">If the changes you want to make impact the schema directly, you would need to rebuild the index.</span></span> 

<span data-ttu-id="a1092-130">Когда индекс будет заполнен, вы можете использовать для проверки **проводник поиска** на панели команд портала.</span><span class="sxs-lookup"><span data-stu-id="a1092-130">After the index is populated, you can use **Search Explorer** in the portal command bar as a verification step.</span></span>

## <a name="query-an-index-using-search-explorer"></a><span data-ttu-id="a1092-131">Создание запроса к индексу с помощью проводника поиска</span><span class="sxs-lookup"><span data-stu-id="a1092-131">Query an index using Search Explorer</span></span>

<span data-ttu-id="a1092-132">Чтобы быстро выполнить предварительную проверку загрузки документа, можно воспользоваться **проводником поиска** на портале.</span><span class="sxs-lookup"><span data-stu-id="a1092-132">A quick way to perform a preliminary check on the document upload is to use **Search Explorer** in the portal.</span></span> <span data-ttu-id="a1092-133">Проводник позволяет создавать запросы к индексу без необходимости писать код.</span><span class="sxs-lookup"><span data-stu-id="a1092-133">The explorer lets you query an index without having to write any code.</span></span> <span data-ttu-id="a1092-134">Возможности поиска используют стандартные параметры, включая [простой синтаксис](/rest/api/searchservice/simple-query-syntax-in-azure-search) и стандартный [параметр запроса searchMode](/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="a1092-134">The search experience is based on default settings, such as the [simple syntax](/rest/api/searchservice/simple-query-syntax-in-azure-search) and default [searchMode query parameter](/rest/api/searchservice/search-documents).</span></span> <span data-ttu-id="a1092-135">Результаты возвращаются в формате JSON, позволяя проверить весь документ.</span><span class="sxs-lookup"><span data-stu-id="a1092-135">Results are returned in JSON so that you can inspect the entire document.</span></span>

> [!TIP]
> <span data-ttu-id="a1092-136">Доступно множество [примеров кода для службы поиска Azure](https://github.com/Azure-Samples/?utf8=%E2%9C%93&query=search), которые включают внедренные или готовые наборы данных, позволяющие быстро начать работу.</span><span class="sxs-lookup"><span data-stu-id="a1092-136">Numerous [Azure Search code samples](https://github.com/Azure-Samples/?utf8=%E2%9C%93&query=search) include embedded or readily available datasets, offering an easy way to get started.</span></span> <span data-ttu-id="a1092-137">На портале также доступен пример индексатора и источника данных, представленного небольшим набором данных, связанных с недвижимостью (realestate-us-sample).</span><span class="sxs-lookup"><span data-stu-id="a1092-137">The portal also provides a sample indexer and data source consisting of a small real estate dataset (named "realestate-us-sample").</span></span> <span data-ttu-id="a1092-138">При запуске предварительно настроенного индексатора с примером источника данных создается и загружается индекс с документами. Затем вы можете создать запрос к этому индексу, используя проводник поиска или программные средства.</span><span class="sxs-lookup"><span data-stu-id="a1092-138">When you run the preconfigured indexer on the sample data source, an index is created and loaded with documents that can then be queried in Search Explorer or by code that you write.</span></span>