---
title: "aaaMonitor использования и статистики в службе поиска Azure | Документы Microsoft"
description: "Отслеживайте потребление ресурсов и размера индексов для Поиска Azure, размещенной облачной службы поиска в Microsoft Azure."
services: search
documentationcenter: 
author: bernitorres
manager: jlembicz
editor: 
tags: azure-portal
ms.assetid: 122948de-d29a-426e-88b4-58cbcee4bc23
ms.service: search
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: required
ms.date: 05/01/2017
ms.author: betorres
ms.openlocfilehash: f38eabb5d04a410e11eaaff22157da8aba9e4845
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="monitoring-an-azure-search-service"></a><span data-ttu-id="32fb4-103">Мониторинг службы поиска Azure</span><span class="sxs-lookup"><span data-stu-id="32fb4-103">Monitoring an Azure Search service</span></span>

<span data-ttu-id="32fb4-104">Поиск Azure предлагает различные ресурсы для отслеживания использования и производительности служб поиска.</span><span class="sxs-lookup"><span data-stu-id="32fb4-104">Azure Search offers various resources for tracking usage and performance of search services.</span></span> <span data-ttu-id="32fb4-105">Он предоставляет доступ к toometrics, журналы, статистика индекса и расширенные возможности мониторинга в Power BI.</span><span class="sxs-lookup"><span data-stu-id="32fb4-105">It gives you access toometrics, logs, index statistics, and extended monitoring capabilities on Power BI.</span></span> <span data-ttu-id="32fb4-106">Эта статья описывает, как tooenable hello различные стратегии мониторинга и как toointerpret hello результирующие данные.</span><span class="sxs-lookup"><span data-stu-id="32fb4-106">This article describes how tooenable hello different monitoring strategies and how toointerpret hello resulting data.</span></span>

## <a name="azure-search-metrics"></a><span data-ttu-id="32fb4-107">Метрики Поиска Azure</span><span class="sxs-lookup"><span data-stu-id="32fb4-107">Azure Search metrics</span></span>
<span data-ttu-id="32fb4-108">Метрики позволяют почти в реальном времени отслеживать службу поиска, и они доступны для каждой службы без дополнительной настройки.</span><span class="sxs-lookup"><span data-stu-id="32fb4-108">Metrics give you near real-time visibility into your search service and are available for every service, with no additional setup.</span></span> <span data-ttu-id="32fb4-109">Они позволяют отслеживать производительность hello службы для копирования too30 дней.</span><span class="sxs-lookup"><span data-stu-id="32fb4-109">They let you track hello performance of your service for up too30 days.</span></span>

<span data-ttu-id="32fb4-110">Поиск Azure собирает данные для трех различных метрик:</span><span class="sxs-lookup"><span data-stu-id="32fb4-110">Azure Search collects data for three different metrics:</span></span>

* <span data-ttu-id="32fb4-111">Поиск задержка: время служба поиска hello необходимости tooprocess поисковые запросы, объединение идет Поминутно.</span><span class="sxs-lookup"><span data-stu-id="32fb4-111">Search latency: Time hello search service needed tooprocess search queries, aggregated per minute.</span></span>
* <span data-ttu-id="32fb4-112">Запросов поиска в секунду: число запросов поиска, получаемых в секунду (данные агрегируются поминутно).</span><span class="sxs-lookup"><span data-stu-id="32fb4-112">Search queries per second (QPS): Number of search queries received per second, aggregated per minute.</span></span>
* <span data-ttu-id="32fb4-113">Процент регулируемых поисковых запросов: процент отрегулированных запросов поиска (данные агрегируются поминутно).</span><span class="sxs-lookup"><span data-stu-id="32fb4-113">Throttled search queries percentage: Percentage of search queries that were throttled, aggregated per minute.</span></span>

![Снимок экрана. Число запросов в секунду][1]

### <a name="set-up-alerts"></a><span data-ttu-id="32fb4-115">Настройка оповещений</span><span class="sxs-lookup"><span data-stu-id="32fb4-115">Set up alerts</span></span>
<span data-ttu-id="32fb4-116">Со страницы подробные метрики hello можно настроить оповещения tootrigger уведомление по электронной почте или автоматическое действие при метрики пересекает пороговое значение, которое вы определили.</span><span class="sxs-lookup"><span data-stu-id="32fb4-116">From hello metric detail page, you can configure alerts tootrigger an email notification or an automated action when a metric crosses a threshold that you have defined.</span></span>

<span data-ttu-id="32fb4-117">Дополнительные сведения о метриках проверьте hello Полная документация по Azure монитора.</span><span class="sxs-lookup"><span data-stu-id="32fb4-117">For more information about metrics, check hello full documentation on Azure Monitor.</span></span>  

## <a name="how-tootrack-resource-usage"></a><span data-ttu-id="32fb4-118">Как tootrack использование ресурсов</span><span class="sxs-lookup"><span data-stu-id="32fb4-118">How tootrack resource usage</span></span>
<span data-ttu-id="32fb4-119">Отслеживание hello роста индексов и размер документа может помочь заранее настроить емкость до обращения hello верхний предел, установленным для службы.</span><span class="sxs-lookup"><span data-stu-id="32fb4-119">Tracking hello growth of indexes and document size can help you proactively adjust capacity before hitting hello upper limit you've established for your service.</span></span> <span data-ttu-id="32fb4-120">Это можно сделать на портале hello или программным путем с помощью API-интерфейса REST hello.</span><span class="sxs-lookup"><span data-stu-id="32fb4-120">You can do this on hello portal or programmatically using hello REST API.</span></span>

### <a name="using-hello-portal"></a><span data-ttu-id="32fb4-121">С помощью портала hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-121">Using hello portal</span></span>

<span data-ttu-id="32fb4-122">Использование ресурсов toomonitor, просмотреть счетчики hello и статистики для службы в hello [портала](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="32fb4-122">toomonitor resource usage, view hello counts and statistics for your service in hello [portal](https://portal.azure.com).</span></span>

1. <span data-ttu-id="32fb4-123">Войдите в toohello [портала](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="32fb4-123">Sign in toohello [portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="32fb4-124">Откройте панель мониторинга службы hello службы поиска Azure.</span><span class="sxs-lookup"><span data-stu-id="32fb4-124">Open hello service dashboard of your Azure Search service.</span></span> <span data-ttu-id="32fb4-125">Плитки для hello службы можно найти на домашней странице hello или просмотре toohello службы перейдите на hello JumpBar.</span><span class="sxs-lookup"><span data-stu-id="32fb4-125">Tiles for hello service can be found on hello Home page, or you can browse toohello service from Browse on hello JumpBar.</span></span>

<span data-ttu-id="32fb4-126">раздел, посвященный использованию Hello включает индикатор, который определяет, какая часть доступных ресурсов, сейчас используются.</span><span class="sxs-lookup"><span data-stu-id="32fb4-126">hello Usage section includes a meter that tells you what portion of available resources are currently in use.</span></span> <span data-ttu-id="32fb4-127">Сведения об ограничениях индексов, документов и объема хранилища для каждой службы см. в статье [Ограничения поиска Azure](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="32fb4-127">For information on per-service limits for indexes, documents, and storage, see [Service limits](search-limits-quotas-capacity.md).</span></span>

  ![Плитка "Использование"][2]

> [!NOTE]
> <span data-ttu-id="32fb4-129">Снимок экрана приветствия для hello бесплатной службы, которая содержит не более одной реплики и каждой секции можно только индексы узла 3, 10 000 документов или 50 МБ данных, наступит раньше.</span><span class="sxs-lookup"><span data-stu-id="32fb4-129">hello screenshot above is for hello Free service, which has a maximum of one replica and partition each, and can only host 3 indexes, 10,000 documents, or 50 MB of data, whichever comes first.</span></span> <span data-ttu-id="32fb4-130">Службы, созданные на уровне "Базовый" или "Стандартный", предоставляют значительно больше возможностей.</span><span class="sxs-lookup"><span data-stu-id="32fb4-130">Services created at a Basic or Standard tier have much larger service limits.</span></span> <span data-ttu-id="32fb4-131">Дополнительные сведения о выборе ценовой категории см. в статье [Выбор SKU или ценовой категории для службы поиска Azure](search-sku-tier.md).</span><span class="sxs-lookup"><span data-stu-id="32fb4-131">For more information on choosing a tier, see [Choose a tier or SKU](search-sku-tier.md).</span></span>
>
>

### <a name="using-hello-rest-api"></a><span data-ttu-id="32fb4-132">С помощью API-интерфейса REST hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-132">Using hello REST API</span></span>
<span data-ttu-id="32fb4-133">Hello REST API поиска Azure и hello .NET SDK предоставляют программный доступ tooservice метрики.</span><span class="sxs-lookup"><span data-stu-id="32fb4-133">Both hello Azure Search REST API and hello .NET SDK provide programmatic access tooservice metrics.</span></span>  <span data-ttu-id="32fb4-134">Если вы используете [индексаторы](https://msdn.microsoft.com/library/azure/dn946891.aspx) tooload индекса из базы данных SQL Azure или Azure Cosmos DB дополнительный API-Интерфейс-числа доступных tooget hello, требуется.</span><span class="sxs-lookup"><span data-stu-id="32fb4-134">If you are using [indexers](https://msdn.microsoft.com/library/azure/dn946891.aspx) tooload an index from Azure SQL Database or Azure Cosmos DB, an additional API is available tooget hello numbers you require.</span></span>

* [<span data-ttu-id="32fb4-135">Получение статистики индексов</span><span class="sxs-lookup"><span data-stu-id="32fb4-135">Get Index Statistics</span></span>](/rest/api/searchservice/get-index-statistics)
* [<span data-ttu-id="32fb4-136">Подсчет документов</span><span class="sxs-lookup"><span data-stu-id="32fb4-136">Count Documents</span></span>](/rest/api/searchservice/count-documents)
* [<span data-ttu-id="32fb4-137">Получение состояния индексатора</span><span class="sxs-lookup"><span data-stu-id="32fb4-137">Get Indexer Status</span></span>](/rest/api/searchservice/get-indexer-status)

## <a name="how-tooexport-logs-and-metrics"></a><span data-ttu-id="32fb4-138">Каким образом ведет журнал tooexport и метрики</span><span class="sxs-lookup"><span data-stu-id="32fb4-138">How tooexport logs and metrics</span></span>

<span data-ttu-id="32fb4-139">Вы можете экспортировать hello журналы операций службы и hello необработанных данных для метрик hello, описанные в предшествующих раздел hello.</span><span class="sxs-lookup"><span data-stu-id="32fb4-139">You can export hello operation logs for your service and hello raw data for hello metrics described in hello preceding section.</span></span> <span data-ttu-id="32fb4-140">Журналы операций позволяют понять, как используется служба hello и могут быть использованы из Power BI, когда данные копируются tooa учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="32fb4-140">Operation logs let you know how hello service is being used and can be consumed from Power BI when data is copied tooa storage account.</span></span> <span data-ttu-id="32fb4-141">С этой целью Поиск Azure предлагает пакет Power BI для мониторинга содержимого.</span><span class="sxs-lookup"><span data-stu-id="32fb4-141">Azure search provides a monitoring Power BI content pack for this purpose.</span></span>


### <a name="enabling-monitoring"></a><span data-ttu-id="32fb4-142">Включение мониторинга</span><span class="sxs-lookup"><span data-stu-id="32fb4-142">Enabling monitoring</span></span>
<span data-ttu-id="32fb4-143">Откройте службы поиска Azure в hello [портал Azure](http://portal.azure.com) под hello включение наблюдения на параметр.</span><span class="sxs-lookup"><span data-stu-id="32fb4-143">Open your Azure Search service in hello [Azure portal](http://portal.azure.com) under hello Enable Monitoring option.</span></span>

<span data-ttu-id="32fb4-144">Выбор данных hello требуется tooexport: журналы и показатели.</span><span class="sxs-lookup"><span data-stu-id="32fb4-144">Choose hello data you want tooexport: Logs, Metrics or both.</span></span> <span data-ttu-id="32fb4-145">Можно скопировать его tooa учетной записи хранилища, отправкой tooan концентратора событий или экспортировать его tooLog Analytics.</span><span class="sxs-lookup"><span data-stu-id="32fb4-145">You can copy it tooa storage account, send it tooan event hub or export it tooLog Analytics.</span></span>

![Как tooenable мониторинга на портале hello][3]

<span data-ttu-id="32fb4-147">с помощью PowerShell или Azure CLI hello tooenable см. в документации hello [здесь](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs#how-to-enable-collection-of-diagnostic-logs).</span><span class="sxs-lookup"><span data-stu-id="32fb4-147">tooenable using PowerShell or hello Azure CLI, see hello documentation [here](https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs#how-to-enable-collection-of-diagnostic-logs).</span></span>

### <a name="logs-and-metrics-schemas"></a><span data-ttu-id="32fb4-148">Журналы и схемы метрик</span><span class="sxs-lookup"><span data-stu-id="32fb4-148">Logs and metrics schemas</span></span>
<span data-ttu-id="32fb4-149">При хранения скопированных tooa hello данных учетной записи, hello данные форматируются как JSON и его место в два контейнера:</span><span class="sxs-lookup"><span data-stu-id="32fb4-149">When hello data is copied tooa storage account, hello data is formatted as JSON and it's place in two containers:</span></span>

* <span data-ttu-id="32fb4-150">insights-logs-operationlogs: для поиска журналов трафика</span><span class="sxs-lookup"><span data-stu-id="32fb4-150">insights-logs-operationlogs: for search traffic logs</span></span>
* <span data-ttu-id="32fb4-151">insights-metrics-pt1m: для метрик</span><span class="sxs-lookup"><span data-stu-id="32fb4-151">insights-metrics-pt1m: for metrics</span></span>

<span data-ttu-id="32fb4-152">Для каждого часа и каждого контейнера создается один большой двоичный объект.</span><span class="sxs-lookup"><span data-stu-id="32fb4-152">There is one blob, per hour, per container.</span></span>

<span data-ttu-id="32fb4-153">Пример пути: `resourceId=/subscriptions/<subscriptionID>/resourcegroups/<resourceGroupName>/providers/microsoft.search/searchservices/<searchServiceName>/y=2015/m=12/d=25/h=01/m=00/name=PT1H.json`</span><span class="sxs-lookup"><span data-stu-id="32fb4-153">Example path: `resourceId=/subscriptions/<subscriptionID>/resourcegroups/<resourceGroupName>/providers/microsoft.search/searchservices/<searchServiceName>/y=2015/m=12/d=25/h=01/m=00/name=PT1H.json`</span></span>

#### <a name="log-schema"></a><span data-ttu-id="32fb4-154">Схема журнала</span><span class="sxs-lookup"><span data-stu-id="32fb4-154">Log schema</span></span>
<span data-ttu-id="32fb4-155">большие двоичные объекты для Hello журналы содержат журналы трафика службы поиска.</span><span class="sxs-lookup"><span data-stu-id="32fb4-155">hello logs blobs contain your search service traffic logs.</span></span>
<span data-ttu-id="32fb4-156">Каждый большой двоичный объект имеет один корневой объект под названием **records** , который содержит массив объектов журнала.</span><span class="sxs-lookup"><span data-stu-id="32fb4-156">Each blob has one root object called **records** that contains an array of log objects.</span></span>
<span data-ttu-id="32fb4-157">Каждый BLOB-объект имеет записей на все операции hello, выполняемых на каждом hello того же часа.</span><span class="sxs-lookup"><span data-stu-id="32fb4-157">Each blob has records on all hello operation that took place during hello same hour.</span></span>

| <span data-ttu-id="32fb4-158">Имя</span><span class="sxs-lookup"><span data-stu-id="32fb4-158">Name</span></span> | <span data-ttu-id="32fb4-159">Тип</span><span class="sxs-lookup"><span data-stu-id="32fb4-159">Type</span></span> | <span data-ttu-id="32fb4-160">Пример</span><span class="sxs-lookup"><span data-stu-id="32fb4-160">Example</span></span> | <span data-ttu-id="32fb4-161">Примечания</span><span class="sxs-lookup"><span data-stu-id="32fb4-161">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="32fb4-162">time</span><span class="sxs-lookup"><span data-stu-id="32fb4-162">time</span></span> |<span data-ttu-id="32fb4-163">datetime;</span><span class="sxs-lookup"><span data-stu-id="32fb4-163">datetime</span></span> |<span data-ttu-id="32fb4-164">"2015-12-07T00:00:43.6872559Z"</span><span class="sxs-lookup"><span data-stu-id="32fb4-164">"2015-12-07T00:00:43.6872559Z"</span></span> |<span data-ttu-id="32fb4-165">Отметка времени операции hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-165">Timestamp of hello operation</span></span> |
| <span data-ttu-id="32fb4-166">resourceId</span><span class="sxs-lookup"><span data-stu-id="32fb4-166">resourceId</span></span> |<span data-ttu-id="32fb4-167">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-167">string</span></span> |<span data-ttu-id="32fb4-168">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span><span class="sxs-lookup"><span data-stu-id="32fb4-168">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span></span><br/><span data-ttu-id="32fb4-169">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span><span class="sxs-lookup"><span data-stu-id="32fb4-169">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span></span><br/> <span data-ttu-id="32fb4-170">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span><span class="sxs-lookup"><span data-stu-id="32fb4-170">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span></span> |<span data-ttu-id="32fb4-171">Идентификатор вашего ресурса</span><span class="sxs-lookup"><span data-stu-id="32fb4-171">Your ResourceId</span></span> |
| <span data-ttu-id="32fb4-172">operationName</span><span class="sxs-lookup"><span data-stu-id="32fb4-172">operationName</span></span> |<span data-ttu-id="32fb4-173">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-173">string</span></span> |<span data-ttu-id="32fb4-174">"Query.Search"</span><span class="sxs-lookup"><span data-stu-id="32fb4-174">"Query.Search"</span></span> |<span data-ttu-id="32fb4-175">Имя Hello операции hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-175">hello name of hello operation</span></span> |
| <span data-ttu-id="32fb4-176">operationVersion</span><span class="sxs-lookup"><span data-stu-id="32fb4-176">operationVersion</span></span> |<span data-ttu-id="32fb4-177">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-177">string</span></span> |<span data-ttu-id="32fb4-178">"2015-02-28"</span><span class="sxs-lookup"><span data-stu-id="32fb4-178">"2015-02-28"</span></span> |<span data-ttu-id="32fb4-179">Hello api-version используется</span><span class="sxs-lookup"><span data-stu-id="32fb4-179">hello api-version used</span></span> |
| <span data-ttu-id="32fb4-180">category</span><span class="sxs-lookup"><span data-stu-id="32fb4-180">category</span></span> |<span data-ttu-id="32fb4-181">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-181">string</span></span> |<span data-ttu-id="32fb4-182">"OperationLogs"</span><span class="sxs-lookup"><span data-stu-id="32fb4-182">"OperationLogs"</span></span> |<span data-ttu-id="32fb4-183">константа</span><span class="sxs-lookup"><span data-stu-id="32fb4-183">constant</span></span> |
| <span data-ttu-id="32fb4-184">resultType</span><span class="sxs-lookup"><span data-stu-id="32fb4-184">resultType</span></span> |<span data-ttu-id="32fb4-185">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-185">string</span></span> |<span data-ttu-id="32fb4-186">Success</span><span class="sxs-lookup"><span data-stu-id="32fb4-186">"Success"</span></span> |<span data-ttu-id="32fb4-187">Возможные значения: Success или Failure</span><span class="sxs-lookup"><span data-stu-id="32fb4-187">Possible values: Success or Failure</span></span> |
| <span data-ttu-id="32fb4-188">resultSignature</span><span class="sxs-lookup"><span data-stu-id="32fb4-188">resultSignature</span></span> |<span data-ttu-id="32fb4-189">int</span><span class="sxs-lookup"><span data-stu-id="32fb4-189">int</span></span> |<span data-ttu-id="32fb4-190">200</span><span class="sxs-lookup"><span data-stu-id="32fb4-190">200</span></span> |<span data-ttu-id="32fb4-191">Код результата HTTP</span><span class="sxs-lookup"><span data-stu-id="32fb4-191">HTTP result code</span></span> |
| <span data-ttu-id="32fb4-192">durationMS</span><span class="sxs-lookup"><span data-stu-id="32fb4-192">durationMS</span></span> |<span data-ttu-id="32fb4-193">int</span><span class="sxs-lookup"><span data-stu-id="32fb4-193">int</span></span> |<span data-ttu-id="32fb4-194">50</span><span class="sxs-lookup"><span data-stu-id="32fb4-194">50</span></span> |<span data-ttu-id="32fb4-195">Время выполнения операции hello в миллисекундах</span><span class="sxs-lookup"><span data-stu-id="32fb4-195">Duration of hello operation in milliseconds</span></span> |
| <span data-ttu-id="32fb4-196">properties</span><span class="sxs-lookup"><span data-stu-id="32fb4-196">properties</span></span> |<span data-ttu-id="32fb4-197">object</span><span class="sxs-lookup"><span data-stu-id="32fb4-197">object</span></span> |<span data-ttu-id="32fb4-198">см. в следующей таблице hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-198">see hello following table</span></span> |<span data-ttu-id="32fb4-199">Объект, содержащий данные об операции</span><span class="sxs-lookup"><span data-stu-id="32fb4-199">Object containing operation-specific data</span></span> |

<span data-ttu-id="32fb4-200">**Схема свойств**</span><span class="sxs-lookup"><span data-stu-id="32fb4-200">**Properties schema**</span></span>
| <span data-ttu-id="32fb4-201">Имя</span><span class="sxs-lookup"><span data-stu-id="32fb4-201">Name</span></span> | <span data-ttu-id="32fb4-202">Тип</span><span class="sxs-lookup"><span data-stu-id="32fb4-202">Type</span></span> | <span data-ttu-id="32fb4-203">Пример</span><span class="sxs-lookup"><span data-stu-id="32fb4-203">Example</span></span> | <span data-ttu-id="32fb4-204">Примечания</span><span class="sxs-lookup"><span data-stu-id="32fb4-204">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="32fb4-205">Описание</span><span class="sxs-lookup"><span data-stu-id="32fb4-205">Description</span></span> |<span data-ttu-id="32fb4-206">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-206">string</span></span> |<span data-ttu-id="32fb4-207">"GET /indexes('content')/docs"</span><span class="sxs-lookup"><span data-stu-id="32fb4-207">"GET /indexes('content')/docs"</span></span> |<span data-ttu-id="32fb4-208">Конечная точка Hello операции</span><span class="sxs-lookup"><span data-stu-id="32fb4-208">hello operation's endpoint</span></span> |
| <span data-ttu-id="32fb4-209">Запрос</span><span class="sxs-lookup"><span data-stu-id="32fb4-209">Query</span></span> |<span data-ttu-id="32fb4-210">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-210">string</span></span> |<span data-ttu-id="32fb4-211">"?search=AzureSearch&$count=true&api-version=2015-02-28"</span><span class="sxs-lookup"><span data-stu-id="32fb4-211">"?search=AzureSearch&$count=true&api-version=2015-02-28"</span></span> |<span data-ttu-id="32fb4-212">Параметры запроса Hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-212">hello query parameters</span></span> |
| <span data-ttu-id="32fb4-213">Документы</span><span class="sxs-lookup"><span data-stu-id="32fb4-213">Documents</span></span> |<span data-ttu-id="32fb4-214">int</span><span class="sxs-lookup"><span data-stu-id="32fb4-214">int</span></span> |<span data-ttu-id="32fb4-215">42</span><span class="sxs-lookup"><span data-stu-id="32fb4-215">42</span></span> |<span data-ttu-id="32fb4-216">Количество обработанных документов</span><span class="sxs-lookup"><span data-stu-id="32fb4-216">Number of documents processed</span></span> |
| <span data-ttu-id="32fb4-217">IndexName</span><span class="sxs-lookup"><span data-stu-id="32fb4-217">IndexName</span></span> |<span data-ttu-id="32fb4-218">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-218">string</span></span> |<span data-ttu-id="32fb4-219">"testindex"</span><span class="sxs-lookup"><span data-stu-id="32fb4-219">"testindex"</span></span> |<span data-ttu-id="32fb4-220">Имя индекса hello, связанные с операцией hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-220">Name of hello index associated with hello operation</span></span> |

#### <a name="metrics-schema"></a><span data-ttu-id="32fb4-221">Схема метрик</span><span class="sxs-lookup"><span data-stu-id="32fb4-221">Metrics schema</span></span>
| <span data-ttu-id="32fb4-222">Имя</span><span class="sxs-lookup"><span data-stu-id="32fb4-222">Name</span></span> | <span data-ttu-id="32fb4-223">Тип</span><span class="sxs-lookup"><span data-stu-id="32fb4-223">Type</span></span> | <span data-ttu-id="32fb4-224">Пример</span><span class="sxs-lookup"><span data-stu-id="32fb4-224">Example</span></span> | <span data-ttu-id="32fb4-225">Примечания</span><span class="sxs-lookup"><span data-stu-id="32fb4-225">Notes</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="32fb4-226">resourceId</span><span class="sxs-lookup"><span data-stu-id="32fb4-226">resourceId</span></span> |<span data-ttu-id="32fb4-227">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-227">string</span></span> |<span data-ttu-id="32fb4-228">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span><span class="sxs-lookup"><span data-stu-id="32fb4-228">"/SUBSCRIPTIONS/11111111-1111-1111-1111-111111111111/</span></span><br/><span data-ttu-id="32fb4-229">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span><span class="sxs-lookup"><span data-stu-id="32fb4-229">RESOURCEGROUPS/DEFAULT/PROVIDERS/</span></span><br/><span data-ttu-id="32fb4-230">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span><span class="sxs-lookup"><span data-stu-id="32fb4-230">MICROSOFT.SEARCH/SEARCHSERVICES/SEARCHSERVICE"</span></span> |<span data-ttu-id="32fb4-231">Идентификатор вашего ресурса</span><span class="sxs-lookup"><span data-stu-id="32fb4-231">your resource id</span></span> |
| <span data-ttu-id="32fb4-232">metricName</span><span class="sxs-lookup"><span data-stu-id="32fb4-232">metricName</span></span> |<span data-ttu-id="32fb4-233">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-233">string</span></span> |<span data-ttu-id="32fb4-234">"Latency"</span><span class="sxs-lookup"><span data-stu-id="32fb4-234">"Latency"</span></span> |<span data-ttu-id="32fb4-235">Имя метрики hello Hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-235">hello name of hello metric</span></span> |
| <span data-ttu-id="32fb4-236">Twitter в режиме реального</span><span class="sxs-lookup"><span data-stu-id="32fb4-236">time</span></span> |<span data-ttu-id="32fb4-237">datetime;</span><span class="sxs-lookup"><span data-stu-id="32fb4-237">datetime</span></span> |<span data-ttu-id="32fb4-238">"2015-12-07T00:00:43.6872559Z"</span><span class="sxs-lookup"><span data-stu-id="32fb4-238">"2015-12-07T00:00:43.6872559Z"</span></span> |<span data-ttu-id="32fb4-239">Отметка времени Hello операции</span><span class="sxs-lookup"><span data-stu-id="32fb4-239">hello operation's timestamp</span></span> |
| <span data-ttu-id="32fb4-240">average</span><span class="sxs-lookup"><span data-stu-id="32fb4-240">average</span></span> |<span data-ttu-id="32fb4-241">int</span><span class="sxs-lookup"><span data-stu-id="32fb4-241">int</span></span> |<span data-ttu-id="32fb4-242">64</span><span class="sxs-lookup"><span data-stu-id="32fb4-242">64</span></span> |<span data-ttu-id="32fb4-243">Среднее значение Hello hello необработанных выборок в интервале времени метрики hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-243">hello average value of hello raw samples in hello metric time interval</span></span> |
| <span data-ttu-id="32fb4-244">minimum</span><span class="sxs-lookup"><span data-stu-id="32fb4-244">minimum</span></span> |<span data-ttu-id="32fb4-245">int</span><span class="sxs-lookup"><span data-stu-id="32fb4-245">int</span></span> |<span data-ttu-id="32fb4-246">37</span><span class="sxs-lookup"><span data-stu-id="32fb4-246">37</span></span> |<span data-ttu-id="32fb4-247">Минимальное значение Hello hello необработанных выборок в интервале времени метрики hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-247">hello minimum value of hello raw samples in hello metric time interval</span></span> |
| <span data-ttu-id="32fb4-248">maximum</span><span class="sxs-lookup"><span data-stu-id="32fb4-248">maximum</span></span> |<span data-ttu-id="32fb4-249">int</span><span class="sxs-lookup"><span data-stu-id="32fb4-249">int</span></span> |<span data-ttu-id="32fb4-250">78</span><span class="sxs-lookup"><span data-stu-id="32fb4-250">78</span></span> |<span data-ttu-id="32fb4-251">Максимальное значение Hello hello необработанных выборок в интервале времени метрики hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-251">hello maximum value of hello raw samples in hello metric time interval</span></span> |
| <span data-ttu-id="32fb4-252">total</span><span class="sxs-lookup"><span data-stu-id="32fb4-252">total</span></span> |<span data-ttu-id="32fb4-253">int</span><span class="sxs-lookup"><span data-stu-id="32fb4-253">int</span></span> |<span data-ttu-id="32fb4-254">258</span><span class="sxs-lookup"><span data-stu-id="32fb4-254">258</span></span> |<span data-ttu-id="32fb4-255">Общее значение Hello hello необработанных выборок в интервале времени метрики hello</span><span class="sxs-lookup"><span data-stu-id="32fb4-255">hello total value of hello raw samples in hello metric time interval</span></span> |
| <span data-ttu-id="32fb4-256">count</span><span class="sxs-lookup"><span data-stu-id="32fb4-256">count</span></span> |<span data-ttu-id="32fb4-257">int</span><span class="sxs-lookup"><span data-stu-id="32fb4-257">int</span></span> |<span data-ttu-id="32fb4-258">4.</span><span class="sxs-lookup"><span data-stu-id="32fb4-258">4</span></span> |<span data-ttu-id="32fb4-259">Метрика hello toogenerate используется Hello количество необработанных выборок</span><span class="sxs-lookup"><span data-stu-id="32fb4-259">hello number of raw samples used toogenerate hello metric</span></span> |
| <span data-ttu-id="32fb4-260">timegrain</span><span class="sxs-lookup"><span data-stu-id="32fb4-260">timegrain</span></span> |<span data-ttu-id="32fb4-261">string</span><span class="sxs-lookup"><span data-stu-id="32fb4-261">string</span></span> |<span data-ttu-id="32fb4-262">"PT1M"</span><span class="sxs-lookup"><span data-stu-id="32fb4-262">"PT1M"</span></span> |<span data-ttu-id="32fb4-263">Hello интервала метрика hello в формате ISO 8601</span><span class="sxs-lookup"><span data-stu-id="32fb4-263">hello time grain of hello metric in ISO 8601</span></span> |

<span data-ttu-id="32fb4-264">Все метрики передают данные с интервалом в одну минуту.</span><span class="sxs-lookup"><span data-stu-id="32fb4-264">All metrics are reported in one-minute intervals.</span></span> <span data-ttu-id="32fb4-265">Каждая метрика отражает минимальное, максимальное и среднее значения за минуту.</span><span class="sxs-lookup"><span data-stu-id="32fb4-265">Every metric exposes minimum, maximum and average values per minute.</span></span>

<span data-ttu-id="32fb4-266">Метрика SearchQueriesPerSecond hello минимальное значение — наименьшее значение hello для поисковых запросов в секунду, которое было зарегистрировано в течение этой минуты.</span><span class="sxs-lookup"><span data-stu-id="32fb4-266">For hello SearchQueriesPerSecond metric, minimum is hello lowest value for search queries per second that was registered during that minute.</span></span> <span data-ttu-id="32fb4-267">Hello применимо и к toohello максимальное значение.</span><span class="sxs-lookup"><span data-stu-id="32fb4-267">hello same applies toohello maximum value.</span></span> <span data-ttu-id="32fb4-268">Среднее, hello статистические через минуту всей hello.</span><span class="sxs-lookup"><span data-stu-id="32fb4-268">Average, is hello aggregate across hello entire minute.</span></span>
<span data-ttu-id="32fb4-269">Определите, этот сценарий за одну минуту: одной секунде высокой нагрузки, hello максимальное значение для SearchQueriesPerSecond, следуют 58 секунд среднюю нагрузку, и наконец одной секунды с более одного запроса, это минимальное hello.</span><span class="sxs-lookup"><span data-stu-id="32fb4-269">Think about this scenario during one minute: one second of high load that is hello maximum for SearchQueriesPerSecond, followed by 58 seconds of average load, and finally one second with only one query, which is hello minimum.</span></span>

<span data-ttu-id="32fb4-270">Для ThrottledSearchQueriesPercentage, минимальное, максимальное, среднее и общего количества, все имеют hello одинаковые значения: hello процент поисковые запросы, которые были регулированию из hello общее число запросов поиска в течение одной минуты.</span><span class="sxs-lookup"><span data-stu-id="32fb4-270">For ThrottledSearchQueriesPercentage, minimum, maximum, average and total, all have hello same value: hello percentage of search queries that were throttled, from hello total number of search queries during one minute.</span></span>

## <a name="analyzing-your-data-with-power-bi"></a><span data-ttu-id="32fb4-271">Анализ данных с помощью Power BI</span><span class="sxs-lookup"><span data-stu-id="32fb4-271">Analyzing your data With Power BI</span></span>

<span data-ttu-id="32fb4-272">Мы рекомендуем использовать [Power BI](https://powerbi.microsoft.com) tooexplore и визуализации данных.</span><span class="sxs-lookup"><span data-stu-id="32fb4-272">We recommend using [Power BI](https://powerbi.microsoft.com) tooexplore and visualize your data.</span></span> <span data-ttu-id="32fb4-273">Можно легко подключать tooyour учетной записи хранилища Azure и быстро приступить к анализу данных.</span><span class="sxs-lookup"><span data-stu-id="32fb4-273">You can easily connect it tooyour Azure Storage Account and quickly start analyzing your data.</span></span>

<span data-ttu-id="32fb4-274">Поиск Azure предоставляет [пакет содержимого Power BI](https://app.powerbi.com/getdata/services/azure-search) , позволяет вам toomonitor и понять трафика поиска с помощью стандартных диаграмм и таблиц.</span><span class="sxs-lookup"><span data-stu-id="32fb4-274">Azure Search provides a [Power BI Content Pack](https://app.powerbi.com/getdata/services/azure-search) that allows you toomonitor and understand your search traffic with predefined charts and tables.</span></span> <span data-ttu-id="32fb4-275">Он содержит набор отчетов Power BI, которые автоматически подключаются tooyour данных и предоставления visual ценной информации о службе поиска.</span><span class="sxs-lookup"><span data-stu-id="32fb4-275">It contains a set of Power BI reports that automatically connect tooyour data and provide visual insights about your search service.</span></span> <span data-ttu-id="32fb4-276">Дополнительные сведения см. в разделе hello [странице справки пакета содержимого](https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-search/).</span><span class="sxs-lookup"><span data-stu-id="32fb4-276">For more information, see hello [content pack help page](https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-search/).</span></span>

![Панель мониторинга Power BI для Поиска Azure][4]

## <a name="next-steps"></a><span data-ttu-id="32fb4-278">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="32fb4-278">Next steps</span></span>
<span data-ttu-id="32fb4-279">Просмотрите [масштабирования реплик и секции](search-limits-quotas-capacity.md) рекомендации по как toobalance hello выделения секции и реплики для существующей службы.</span><span class="sxs-lookup"><span data-stu-id="32fb4-279">Review [Scale replicas and partitions](search-limits-quotas-capacity.md) for guidance on how toobalance hello allocation of partitions and replicas for an existing service.</span></span>

<span data-ttu-id="32fb4-280">Более подробные сведения об администрировании службы поиска см. в статье [Администрирование службы поиска Azure на портале Azure](search-manage.md), а рекомендации по настройке в статье [Рекомендации по производительности и оптимизации Поиска Azure](search-performance-optimization.md).</span><span class="sxs-lookup"><span data-stu-id="32fb4-280">Visit [Manage your Search service on Microsoft Azure](search-manage.md) for more information on service administration, or [Performance and optimization](search-performance-optimization.md) for tuning guidance.</span></span>

<span data-ttu-id="32fb4-281">Узнайте больше о создании удивительных отчетов.</span><span class="sxs-lookup"><span data-stu-id="32fb4-281">Learn more about creating amazing reports.</span></span> <span data-ttu-id="32fb4-282">См. статью [Начало работы с Power BI Desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-getting-started/).</span><span class="sxs-lookup"><span data-stu-id="32fb4-282">See [Getting started with Power BI Desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-getting-started/) for details</span></span>

<!--Image references-->
[1]: ./media/search-monitor-usage/AzSearch-Monitor-BarChart.PNG
[2]: ./media/search-monitor-usage/AzureSearch-Monitor1.PNG
[3]: ./media/search-monitor-usage/AzureSearch-Enable-Monitoring.PNG
[4]: ./media/search-monitor-usage/AzureSearch-PowerBI-Dashboard.png
