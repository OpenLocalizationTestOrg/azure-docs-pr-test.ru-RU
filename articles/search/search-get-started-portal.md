---
Заголовок: aaa» учебника: создать первый индекс поиска Azure на портале hello | Описание документы Microsoft»: В hello портал Azure, использование стандартных toogenerate образец данных индекса. Научитесь использовать полнотекстовой поиск, поиск нечетких соответствий, геопространственный поиск, а также работать с фильтрами, аспектами и многими другими возможностями.
службы: поиска documentationcenter: '' Автор: диспетчер HeidiSteen: редактор jhubbard: '' теги: портал azure

MS.AssetId: 21adc351-69bb-4a39-bc59-598c60c8f958 ms.service: поиска ms.devlang: н/д ms.workload: поиска ms.topic: ms.tgt_pltfrm героя статьи: н/д ms.date: ms.author 06/26/2017 г.: heidist

---
# <a name="tutorial-create-your-first-azure-search-index-in-hello-portal"></a>Учебник: Создайте первый индекс поиска Azure на портале hello

Hello портал Azure, начинаются с tooquickly предопределенных образец набора данных создавать индекса при помощи hello **импорта данных** мастера. Научитесь использовать полнотекстовой поиск, поиск нечетких соответствий, геопространственный поиск, а также работать с фильтрами и аспектами в **обозревателе поиска**.  

В этой статье в общих чертах (без примеров кода) описывается использование готовых данных, которые позволяют сразу приступить к написанию интересных запросов. Хотя инструменты портала не заменяют код, их можно использовать для выполнения следующих задач:

+ практическое обучение для ознакомления с основными возможностями;
+ создание прототипа индекса до написания кода в мастере **импорта данных**;
+ тестирование запросов и анализ синтаксиса в **обозревателе поиска**;
+ Просмотр существующего индекса опубликованных tooyour службы и выполнять поиск атрибутов

**Оценка времени:** примерно 15 минут, если учетная запись и служба уже зарегистрированы. 

Кроме того, освоить использование [tooprogramming на основе кода введение поиска Azure в .NET](search-howto-dotnet-sdk.md).

## <a name="prerequisites"></a>Предварительные требования

В этом руководстве предполагается наличие [подписки Azure](https://azure.microsoft.com/pricing/free-trial/?WT.mc_id=A261C142F) и [службы поиска Azure](search-create-service-portal.md). 

Если вы не хотите немедленно tooprovision службы, вы можете ознакомиться с 6 минут Демонстрация hello шаги в этом учебнике, начиная с примерно три минуты в этот [видео Обзор поиска Azure](https://channel9.msdn.com/Events/Connect/2016/138).

## <a name="find-your-service"></a>Поиск службы
1. Войдите в toohello [портал Azure](https://portal.azure.com).
2. Откройте панель мониторинга службы hello службы поиска Azure. Если не Закрепить панель мониторинга tooyour плитки приветствия, можно найти службу таким образом: 
   
   * В hello Jumpbar щелкните **больше услуг** hello нижней части панели навигации слева hello.
   * Введите в поле поиска hello *поиска* tooget список поиска служб для вашей подписки. Службы должны появиться в списке hello. 

## <a name="check-for-space"></a>Проверка доступного пространства
Многие клиенты начните с бесплатной службы hello. Эта версия не ограниченной toothree индексы, три источника данных и три индексаторов. Перед началом работы убедитесь, что у вас достаточно места для дополнительных элементов. В этом руководстве каждый объект создается один раз. 

> [!TIP] 
> Плитки на панели мониторинга службы hello показывают, сколько индексов, индексаторов и источников данных уже есть. Hello индексатора плитке отображаются показатели успеха и неудачи. Щелкните hello плитки tooview hello индексатора count. 
>
> ![Плитки для индексаторов и источников данных][1]
>

## <a name="create-index"></a> Создание индекса и загрузка данных
Поисковые запросы выполняют итерацию по *индексу* , содержащему доступные для поиска данные, метаданные и конструкции, которые используются для оптимизации способов поиска.

tookeep этой задачи на основе портала, мы используем встроенных образец набора данных, который может выполняться с помощью индексатора через hello **импорта данных** мастера. 

#### <a name="step-1-start-hello-import-data-wizard"></a>Шаг 1: Запуск мастера импорта данных hello
1. На панели мониторинга службы поиска Azure, нажмите кнопку **импорта данных** в hello командной строке toostart мастер, который создает и заполняет индекс.
   
    ![Команда импорта данных][2]

2. В мастере приветствия щелкните **источника данных** > **образцы** > **объем отображаемой us пример**. Для этого источника данных задано имя, тип и сведения о подключении. После создания он становится существующим источником данных, который можно повторно использовать в других операциях импорта.

    ![Пример набора данных][9]

3. Нажмите кнопку **ОК** toouse его.

#### <a name="step-2-define-hello-index"></a>Шаг 2: Определение индекса hello
Создание индекса обычно ручных, так и на основе кода, однако приветствия мастера можно создать индекс для любой источник данных, которые можно выполнять обход содержимого. Как минимум индекса необходимо указать имя и коллекцию полей, с одним полем с пометкой hello ключа toouniquely документа идентификации каждого документа.

Поля имеют типы данных и атрибуты. флажки Hello сверху hello не *индексировать атрибуты* управление, как используется поле hello. 

* **Доступный для получения** означает, что поле будет показано в списке результатов поиска. Вы можете снять этот флажок напротив отдельных полей, чтобы исключить их из результатов поиска (например, если такие поля используются только в выражениях фильтра). 
* Атрибуты **Фильтруемый**, **Сортируемый** и **Аспектируемый** определяют, может ли поле использоваться в структуре фильтруемой, сортируемой или фасетной навигации. 
* **Доступный для поиска** включает поле в полнотекстовый поиск. Строки доступны для поиска. Поиск по числовым и логическим полям часто исключается. 

По умолчанию мастер hello просматривает hello источника данных для уникальных идентификаторов в качестве основы hello hello ключевого поля. Строки помечаются как доступные для получения и для поиска, а целые числа — как доступные для получения, сортируемые, фильтруемые и аспектируемые.

  ![Созданный индекс для примера, относящегося к недвижимости][3]

Нажмите кнопку **ОК** toocreate hello индекса.

#### <a name="step-3-define-hello-indexer"></a>Шаг 3: Определение индексатора hello
По-прежнему в hello **импорта данных** мастера, нажмите кнопку **индексатора** > **имя**и введите имя для hello индексатора. 

Этот объект определяет исполняемый процесс. Можно поместить его на повторяющееся расписание, но для toorun индексатор hello hello по умолчанию теперь используется параметр один раз, сразу же, при нажатии кнопки **ОК**.  

  ![индексатор для примера, относящегося к недвижимости][8]

## <a name="check-progress"></a>Проверка хода выполнения
toomonitor данных импорт, вернитесь на панели мониторинга службы toohello, прокрутите вниз и дважды щелкните hello **индексаторы** список индексаторов hello tooopen плиток. Вы увидите только что созданный hello индексатора в списке hello, указывающую состояния, в состоянии «выполняется» или его успешное выполнение, а также hello число индексированных документов.

   ![Сообщение о ходе обработки индексатором][4]

## <a name="query-index"></a>Индекс hello запросов
Теперь у вас есть индекс поиска tooquery готовности. **Поиск в обозревателе** — это средство запроса, встроенные в портал hello. Это поле для поиска, с помощью которого можно проверить, возвращаются ли ожидаемые результаты поиска. 

> [!TIP]
> В hello [видео Обзор поиска Azure](https://channel9.msdn.com/Events/Connect/2016/138), hello следующие шаги демонстрируются в 6m08s на видео hello.
>

1. Нажмите кнопку **обозреватель поиска** на панели команд hello.

   ![Команда обозревателя поиска][5]

2. Нажмите кнопку **изменений индекса** на hello командной строке tooswitch слишком*объем отображаемой us пример*.

   ![Команды индекса и API][6]

3. Нажмите кнопку **версии API заданного** на hello командной строке toosee доступные интерфейсы API REST. Предварительный просмотр интерфейсов API предоставляют доступ toonew функции обычно еще не выпущены. Для запросов hello ниже используйте hello общедоступной версии (2016-09-01) только указанию. 

    > [!NOTE]
    > [Azure REST API поиска](https://docs.microsoft.com/rest/api/searchservice/search-documents) и hello [библиотеки .NET](search-howto-dotnet-sdk.md#core-scenarios) полностью эквивалентны, но **поиск в обозревателе** только мощной toohandle вызовы REST. Он принимает синтаксис для обоих [синтаксис простого запроса](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) и [полного синтаксического анализа запросов Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), плюс все hello параметры поиска, доступные в [поиска документов](https://docs.microsoft.com/rest/api/searchservice/search-documents) операций.
    > 

4. В строке поиска hello, введите ниже строки запроса hello и нажмите кнопку **поиска**.

  ![Пример поискового запроса][7]

**`search=seattle`**

+ Hello `search` параметр является используется tooinput поиск по ключевому слову полнотекстовый поиск в этом случае возвращение вхождений в состоянии Кинг, штат Вашингтон, содержащий *Seattle* в любом поле для поиска в документе hello. 

+ **Поиск в обозревателе** возвращает результаты в формате JSON, verbose и жестких tooread используется, если документы имеют высокую плотность структуры. В зависимости от того, документы может потребоваться toowrite кода, дескрипторы поиска важных элементов tooextract результаты. 

+ Документы состоят из все поля, помеченные как извлекаемые в индексе hello. атрибуты индекса tooview hello портала щелкните *объем отображаемой us образец* в hello **индексы** плитки.

**`search=seattle&$count=true&$top=100`**

+ Hello `&` символ является используется tooappend поиск параметров, которые можно указывать в любом порядке. 

+  Hello `$count=true` параметр Возвращает количество для hello сумма всех документов, возвращаемых. Запросы фильтра можно проверять, наблюдая за изменениями результатов, возвращаемых параметром `$count=true`. 

+ Hello `$top=100` hello Возвращает наибольший ранг 100 документы из общего hello. По умолчанию поиск Azure возвращает hello первые 50 наилучших соответствий. Можно увеличить или уменьшить объем hello через `$top`.

**`search=*&facet=city&$top=2`**

+ `search=*` является пустым полем поиска. Пустые поля поиска выполняют поиск по всему. Одна из причин для отправки, пустой запрос слишком фильтрации или аспекта по hello полный набор документов. Например вы хотите tooconsist структуры аспекты навигации всех городов, в индексе hello.

+  `facet`Возвращает навигации структур, что можно передать tooa элемент управления пользовательского интерфейса. Он возвращает категории и количество. В этом случае категории формируются на основе hello количество городов. Служба поиска Azure не поддерживает агрегирование, но приблизительный результат можно получить с помощью параметра `facet`, который возвращает количество документов в каждой категории.

+ `$top=2`Возвращает два документа, демонстрирующая, которые можно использовать `top` tooboth уменьшить или увеличить результаты.

**`search=seattle&facet=beds`**

+ Этот запрос задает аспект beds (кровати) для поиска по тексту документов, содержащих *Seattle*. `"beds"`можно указать как аспект, так как поле hello помечен как извлекаемые, которые можно использовать и facetable в индекс hello и hello значениями, он содержит (число от 1 до 5), подходят для распределение списки по группам (предложения с помощью спален 3, 4 спальни). 

+ Аспектировать можно только фильтруемые поля. Только извлекаемые поля могут возвращаться в результатах hello.

**`search=seattle&$filter=beds gt 3`**

+ Hello `filter` параметр возвращает результатов, удовлетворяющих условиям hello, вы указали. В этом случае жилье, где более 3 спален. 

+ Синтаксис фильтра — это конструкция OData. Дополнительные сведения см. в статье [OData Expression Syntax for Azure Search](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) (Синтаксис выражений OData для службы поиска Azure).

**`search=granite countertops&highlight=description`**

+ Выделение совпадений ссылается tooformatting по тексту, ключевое слово hello, заданному совпадений найти совпадающие одного поля. Если условие поиска глубоко скрыта в описание, можно добавить попаданий выделения toomake его проще toospot. В этом случае hello в формате фразу `"granite countertops"` является простой toosee в поле описания hello.

**`search=mice&highlight=description`**

+ Полнотекстовой поиск находит словоформы со схожей семантикой. В этом случае результаты поиска содержат выделенного текста «мышь», для дома, имеющих подключались мыши в поиск по ключевому слову tooa ответ на «мышь». Различные формы слова могут отображаться в результатах из-за лингвистический анализ приветствия. 

+ Поиск Azure поддерживает 56 анализаторов от Lucene и корпорации Майкрософт. по умолчанию Hello, используемых поиском Azure — стандартный анализатор Lucene hello. 

**`search=samamish`**

+ Слов с ошибками, как «samamish» для hello Samammish Полка в hello области Сиэтл ошибкой tooreturn совпадений в обычной поисковой. орфографические toohandle использовании нечеткого поиска, описанные в следующем примере hello.

**`search=samamish~&queryType=full`**

+ Нечеткий поиск включен, при указании hello `~` символов и использовать полный запрос hello синтаксического анализа, которая интерпретирует и правильно выполняет синтаксический анализ hello `~` синтаксиса. 

+ Нечеткий поиск доступен, если вы выбрали для синтаксического анализа полный запрос hello, которое происходит при установке `queryType=full`. Дополнительные сведения о сценариях запроса включен полный запрос анализатором hello см. в разделе [Lucene синтаксис запроса в поиске Azure](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search).

+ Когда `queryType` — не указано, используется средство синтаксического анализа простого запроса по умолчанию hello. средство синтаксического анализа Hello простой запрос выполняется быстрее, но если требуется нечеткого поиска, регулярные выражения, поиск по сходству или дополнительных запросов других типов, необходимо будет полный синтаксис hello. 

**`search=*&$count=true&$filter=geo.distance(location,geography'POINT(-122.121513 47.673988)') le 5`**

+ Поддерживается геопространственного поиска с помощью hello [модели edm. Тип данных GeographyPoint](https://docs.microsoft.com/rest/api/searchservice/supported-data-types) на поле, содержащее координаты. Геопространственный поиск — это тип фильтра, описанный в статье [OData Expression Syntax for Azure Search](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) (Синтаксис выражений OData для службы поиска Azure). 

+ Hello пример запроса фильтрует все результаты для позиционных данных, результаты которых меньше 5 километров от заданной точки (заданное как координаты широты и долготы). Добавив `$count`, можно увидеть, сколько результатов при изменении расстояние hello или координаты hello. 

+ Геопространственный поиск полезен в том случае, когда приложение поиска имеет функцию поиска соседних объектов или использует навигацию по карте. Однако это не полнотекстовой поиск. При наличии требований пользователей для поиска по городу или стране, по имени, добавьте поля, содержащие имена страны или название города, в toocoordinates сложения.

## <a name="next-steps"></a>Дальнейшие действия

+ Изменяйте hello объекты, которые вы только что создали. После один раз при запуске мастера hello, можно вернуться назад и просматривать или изменять отдельные компоненты: индекс, индексатор или источник данных. Некоторые изменения, такие как изменение типа данных поля hello, hello hello индексе не допускаются, но большинство свойств и параметров можно изменять.

  tooview отдельных компонентов, нажмите кнопку hello **индекс**, **индексатора**, или **источники данных** плиток на вашей панели мониторинга toodisplay список существующих объектов. toolearn Дополнительные сведения о индекс изменения, которые не требуют повторного построения, в разделе [обновление индекса (REST API поиска Azure)](https://docs.microsoft.com/rest/api/searchservice/update-index).

+ Попробуйте средства hello и действия с другими источниками данных. Здравствуйте, образец набора данных, `realestate-us-sample`, находится в базе данных SQL Azure, можно выполнять обход содержимого службы поиска Azure. Помимо базы данных SQL Azure служба поиска Azure может сканировать и получать индекс из плоских структур данных в хранилище таблиц Azure, хранилище BLOB-объектов, SQL Server на виртуальной машине Azure и Azure Cosmos DB. Поддерживаются все источники данных в мастере hello. В коде можно с легкостью заполнить индекс с помощью *индексатора*.

+ Все другие источники данных не индексаторы поддерживаются через модель принудительной, где ваш код помещает новые и изменены наборов строк в индекс JSON tooyour. Дополнительные сведения см. в статье [Add, Update or Delete Documents (Azure Search Service REST API)](https://docs.microsoft.com/rest/api/searchservice/addupdate-or-delete-documents) (Добавление, обновление и удаление документов (REST API службы поиска Azure)).

Дополнительные сведения о других возможностях, упоминаемых в этом руководстве, см. в следующих статьях.

* [Индексаторы в службе поиска Azure](search-indexer-overview.md)
* [Создание индекса (включает подробное описание hello атрибуты индекса)](https://docs.microsoft.com/rest/api/searchservice/create-index)
* [Обозреватель поиска](search-explorer.md)
* [Search Documents (Azure Search Service REST API) (Поиск по документам (REST API службы поиска Azure)). Содержит примеры синтаксиса запросов.](https://docs.microsoft.com/rest/api/searchservice/search-documents)


<!--Image references-->
[1]: ./media/search-get-started-portal/tiles-indexers-datasources2.png
[2]: ./media/search-get-started-portal/import-data-cmd2.png
[3]: ./media/search-get-started-portal/realestateindex2.png
[4]: ./media/search-get-started-portal/indexers-inprogress2.png
[5]: ./media/search-get-started-portal/search-explorer-cmd2.png
[6]: ./media/search-get-started-portal/search-explorer-changeindex-se2.png
[7]: ./media/search-get-started-portal/search-explorer-query2.png
[8]: ./media/search-get-started-portal/realestate-indexer2.png
[9]: ./media/search-get-started-portal/import-datasource-sample2.png