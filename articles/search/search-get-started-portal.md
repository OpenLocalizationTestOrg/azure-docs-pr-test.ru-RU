---
title: "Руководство по созданию первого индекса службы поиска Azure на портале | Документация Майкрософт"
description: "Создайте индекс на портале Azure, используя готовые примеры данных. Научитесь использовать полнотекстовой поиск, поиск нечетких соответствий, геопространственный поиск, а также работать с фильтрами, аспектами и многими другими возможностями."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: 21adc351-69bb-4a39-bc59-598c60c8f958
ms.service: search
ms.devlang: na
ms.workload: search
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.date: 06/26/2017
ms.author: heidist
ms.openlocfilehash: c49989058fdd98d623c5517060f725e5f7e436d8
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="tutorial-create-your-first-azure-search-index-in-the-portal"></a><span data-ttu-id="498ed-104">Руководство по созданию первого индекса службы поиска Azure на портале</span><span class="sxs-lookup"><span data-stu-id="498ed-104">Tutorial: Create your first Azure Search index in the portal</span></span>

<span data-ttu-id="498ed-105">На портале Azure используйте готовый пример набора данных, чтобы быстро создать индекс с помощью мастера **импорта данных**.</span><span class="sxs-lookup"><span data-stu-id="498ed-105">In the Azure portal, start with a predefined sample dataset to quickly generate an index using the **Import data** wizard.</span></span> <span data-ttu-id="498ed-106">Научитесь использовать полнотекстовой поиск, поиск нечетких соответствий, геопространственный поиск, а также работать с фильтрами и аспектами в **обозревателе поиска**.</span><span class="sxs-lookup"><span data-stu-id="498ed-106">Explore full text search, filters, facets, fuzzy search, and geosearch with **Search explorer**.</span></span>  

<span data-ttu-id="498ed-107">В этой статье в общих чертах (без примеров кода) описывается использование готовых данных, которые позволяют сразу приступить к написанию интересных запросов.</span><span class="sxs-lookup"><span data-stu-id="498ed-107">This code-free introduction gets you started with predefined data so that you can write interesting queries right away.</span></span> <span data-ttu-id="498ed-108">Хотя инструменты портала не заменяют код, их можно использовать для выполнения следующих задач:</span><span class="sxs-lookup"><span data-stu-id="498ed-108">While portal tools are not a substitute for code, tools are useful for these tasks:</span></span>

+ <span data-ttu-id="498ed-109">практическое обучение для ознакомления с основными возможностями;</span><span class="sxs-lookup"><span data-stu-id="498ed-109">Hands on learning with minimal ramp-up</span></span>
+ <span data-ttu-id="498ed-110">создание прототипа индекса до написания кода в мастере **импорта данных**;</span><span class="sxs-lookup"><span data-stu-id="498ed-110">Prototype an index before you write code in **Import data**</span></span>
+ <span data-ttu-id="498ed-111">тестирование запросов и анализ синтаксиса в **обозревателе поиска**;</span><span class="sxs-lookup"><span data-stu-id="498ed-111">Test queries and parser syntax in **Search explorer**</span></span>
+ <span data-ttu-id="498ed-112">просмотр опубликованного в службе индекса и поиск его атрибутов.</span><span class="sxs-lookup"><span data-stu-id="498ed-112">View an existing index published to your service and look up its attributes</span></span>

<span data-ttu-id="498ed-113">**Оценка времени:** примерно 15 минут, если учетная запись и служба уже зарегистрированы.</span><span class="sxs-lookup"><span data-stu-id="498ed-113">**Time Estimate:** About 15 minutes, but longer if account or service sign-up is also required.</span></span> 

<span data-ttu-id="498ed-114">Кроме того, ознакомьтесь с [вводными сведениями о программировании службы поиска Azure в приложении .NET с помощью кода](search-howto-dotnet-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="498ed-114">Alternatively, ramp up using a [code-based introduction to programming Azure Search in .NET](search-howto-dotnet-sdk.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="498ed-115">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="498ed-115">Prerequisites</span></span>

<span data-ttu-id="498ed-116">В этом руководстве предполагается наличие [подписки Azure](https://azure.microsoft.com/pricing/free-trial/?WT.mc_id=A261C142F) и [службы поиска Azure](search-create-service-portal.md).</span><span class="sxs-lookup"><span data-stu-id="498ed-116">This tutorial assumes an [Azure subscription](https://azure.microsoft.com/pricing/free-trial/?WT.mc_id=A261C142F) and [Azure Search service](search-create-service-portal.md).</span></span> 

<span data-ttu-id="498ed-117">Если вы не хотите подготавливать службу сейчас, можно просмотреть 6-минутное [обзорное видео о службе поиска Azure](https://channel9.msdn.com/Events/Connect/2016/138), демонстрирующее шаги в этом руководстве, начиная с 3 минуты.</span><span class="sxs-lookup"><span data-stu-id="498ed-117">If you don't want to provision a service immediately, you can watch a 6-minute demonstration of the steps in this tutorial, starting at about three minutes into this [Azure Search Overview video](https://channel9.msdn.com/Events/Connect/2016/138).</span></span>

## <a name="find-your-service"></a><span data-ttu-id="498ed-118">Поиск службы</span><span class="sxs-lookup"><span data-stu-id="498ed-118">Find your service</span></span>
1. <span data-ttu-id="498ed-119">Войдите на [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="498ed-119">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="498ed-120">Откройте служебную панель службы поиска Azure.</span><span class="sxs-lookup"><span data-stu-id="498ed-120">Open the service dashboard of your Azure Search service.</span></span> <span data-ttu-id="498ed-121">Если вы не закрепили плитку службы на панели мониторинга, ее можно найти следующим образом:</span><span class="sxs-lookup"><span data-stu-id="498ed-121">If you didn't pin the service tile to your dashboard, you can find your service this way:</span></span> 
   
   * <span data-ttu-id="498ed-122">В области навигации слева внизу щелкните **Больше служб**.</span><span class="sxs-lookup"><span data-stu-id="498ed-122">In the Jumpbar, click **More services** at the bottom of the left navigation pane.</span></span>
   * <span data-ttu-id="498ed-123">В поле поиска введите *поиск*, чтобы получить список служб поиска в своей подписке.</span><span class="sxs-lookup"><span data-stu-id="498ed-123">In the search box, type *search* to get a list of search services for your subscription.</span></span> <span data-ttu-id="498ed-124">Служба появится в списке.</span><span class="sxs-lookup"><span data-stu-id="498ed-124">Your service should appear in the list.</span></span> 

## <a name="check-for-space"></a><span data-ttu-id="498ed-125">Проверка доступного пространства</span><span class="sxs-lookup"><span data-stu-id="498ed-125">Check for space</span></span>
<span data-ttu-id="498ed-126">Многие пользователи предпочитают начать работу с бесплатной службой.</span><span class="sxs-lookup"><span data-stu-id="498ed-126">Many customers start with the free service.</span></span> <span data-ttu-id="498ed-127">В бесплатной версии можно использовать только три индекса, три источника данных и три индексатора.</span><span class="sxs-lookup"><span data-stu-id="498ed-127">This version is limited to three indexes, three data sources, and three indexers.</span></span> <span data-ttu-id="498ed-128">Перед началом работы убедитесь, что у вас достаточно места для дополнительных элементов.</span><span class="sxs-lookup"><span data-stu-id="498ed-128">Make sure you have room for extra items before you begin.</span></span> <span data-ttu-id="498ed-129">В этом руководстве каждый объект создается один раз.</span><span class="sxs-lookup"><span data-stu-id="498ed-129">This tutorial creates one of each object.</span></span> 

> [!TIP] 
> <span data-ttu-id="498ed-130">Плитки на панели мониторинга службы содержат сведения о количестве имеющихся индексов, индексаторов и источников данных.</span><span class="sxs-lookup"><span data-stu-id="498ed-130">Tiles on the service dashboard show how many indexes, indexers, and data sources you already have.</span></span> <span data-ttu-id="498ed-131">На плитке индексатора отображаются индикаторы успешных и неудачных операций.</span><span class="sxs-lookup"><span data-stu-id="498ed-131">The Indexer tile shows success and failure indicators.</span></span> <span data-ttu-id="498ed-132">Щелкните плитку, чтобы просмотреть количество индексаторов.</span><span class="sxs-lookup"><span data-stu-id="498ed-132">Click the tile to view the indexer count.</span></span> 
>
> ![Плитки для индексаторов и источников данных][1]
>

## <span data-ttu-id="498ed-134"><a name="create-index"></a> Создание индекса и загрузка данных</span><span class="sxs-lookup"><span data-stu-id="498ed-134"><a name="create-index"></a> Create an index and load data</span></span>
<span data-ttu-id="498ed-135">Поисковые запросы выполняют итерацию по *индексу* , содержащему доступные для поиска данные, метаданные и конструкции, которые используются для оптимизации способов поиска.</span><span class="sxs-lookup"><span data-stu-id="498ed-135">Search queries iterate over an *index* containing searchable data, metadata, and constructs used for optimizing certain search behaviors.</span></span>

<span data-ttu-id="498ed-136">Чтобы выполнить эту задачу с помощью портала, мы будем использовать встроенный пример набора данных. Индексатор сможет просканировать его с помощью мастера **импорта данных**.</span><span class="sxs-lookup"><span data-stu-id="498ed-136">To keep this task portal-based, we use a built-in sample dataset that can be crawled using an indexer via the **Import data** wizard.</span></span> 

#### <a name="step-1-start-the-import-data-wizard"></a><span data-ttu-id="498ed-137">Шаг 1. Запуск мастера импорта данных</span><span class="sxs-lookup"><span data-stu-id="498ed-137">Step 1: Start the Import data wizard</span></span>
1. <span data-ttu-id="498ed-138">На панели мониторинга службы поиска Azure щелкните в командной строке **Импорт данных**. Запустится мастер, который создает и заполняет индекс.</span><span class="sxs-lookup"><span data-stu-id="498ed-138">On your Azure Search service dashboard, click **Import data** in the command bar to start a wizard that both creates and populates an index.</span></span>
   
    ![Команда импорта данных][2]

2. <span data-ttu-id="498ed-140">В окне мастера щелкните **Источник данных** > **Примеры** > **realestate-us-sample**.</span><span class="sxs-lookup"><span data-stu-id="498ed-140">In the wizard, click **Data Source** > **Samples** > **realestate-us-sample**.</span></span> <span data-ttu-id="498ed-141">Для этого источника данных задано имя, тип и сведения о подключении.</span><span class="sxs-lookup"><span data-stu-id="498ed-141">This data source is preconfigured with a name, type, and connection information.</span></span> <span data-ttu-id="498ed-142">После создания он становится существующим источником данных, который можно повторно использовать в других операциях импорта.</span><span class="sxs-lookup"><span data-stu-id="498ed-142">Once created, it becomes an "existing data source" that can be reused in other import operations.</span></span>

    ![Пример набора данных][9]

3. <span data-ttu-id="498ed-144">Нажмите кнопку **ОК**, чтобы использовать его.</span><span class="sxs-lookup"><span data-stu-id="498ed-144">Click **OK** to use it.</span></span>

#### <a name="step-2-define-the-index"></a><span data-ttu-id="498ed-145">Этап 2. Определение индекса</span><span class="sxs-lookup"><span data-stu-id="498ed-145">Step 2: Define the index</span></span>
<span data-ttu-id="498ed-146">Как правило, индекс нужно создавать вручную с использованием кода, но мастер может создавать индекс для любого источника данных, который он может просканировать.</span><span class="sxs-lookup"><span data-stu-id="498ed-146">Creating an index is typically manual and code-based, but the wizard can generate an index for any data source it can crawl.</span></span> <span data-ttu-id="498ed-147">Для индекса необходимо указать как минимум имя и коллекцию полей, а одно поле отметить как ключ документа, однозначно определяющий его.</span><span class="sxs-lookup"><span data-stu-id="498ed-147">Minimally, an index requires a name, and a fields collection, with one field marked as the document key to uniquely identify each document.</span></span>

<span data-ttu-id="498ed-148">Поля имеют типы данных и атрибуты.</span><span class="sxs-lookup"><span data-stu-id="498ed-148">Fields have data types and attributes.</span></span> <span data-ttu-id="498ed-149">Флажки в верхней части — это *атрибуты индекса*, которые определяют, как используется поле.</span><span class="sxs-lookup"><span data-stu-id="498ed-149">The check boxes across the top are *index attributes* controlling how the field is used.</span></span> 

* <span data-ttu-id="498ed-150">**Доступный для получения** означает, что поле будет показано в списке результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="498ed-150">**Retrievable** means that it shows up in search results list.</span></span> <span data-ttu-id="498ed-151">Вы можете снять этот флажок напротив отдельных полей, чтобы исключить их из результатов поиска (например, если такие поля используются только в выражениях фильтра).</span><span class="sxs-lookup"><span data-stu-id="498ed-151">You can mark individual fields as off limits for search results by clearing this checkbox, for example when fields used only in filter expressions.</span></span> 
* <span data-ttu-id="498ed-152">Атрибуты **Фильтруемый**, **Сортируемый** и **Аспектируемый** определяют, может ли поле использоваться в структуре фильтруемой, сортируемой или фасетной навигации.</span><span class="sxs-lookup"><span data-stu-id="498ed-152">**Filterable**, **Sortable**, and **Facetable** determine whether a field can be used in a filter, a sort, or a facet navigation structure.</span></span> 
* <span data-ttu-id="498ed-153">**Доступный для поиска** включает поле в полнотекстовый поиск.</span><span class="sxs-lookup"><span data-stu-id="498ed-153">**Searchable** means that a field is included in full text search.</span></span> <span data-ttu-id="498ed-154">Строки доступны для поиска.</span><span class="sxs-lookup"><span data-stu-id="498ed-154">Strings are searchable.</span></span> <span data-ttu-id="498ed-155">Поиск по числовым и логическим полям часто исключается.</span><span class="sxs-lookup"><span data-stu-id="498ed-155">Numeric fields and Boolean fields are often marked as not searchable.</span></span> 

<span data-ttu-id="498ed-156">По умолчанию мастер сканирует источник данных на наличие уникального идентификатора, который будет использоваться в качестве основы для ключевого поля.</span><span class="sxs-lookup"><span data-stu-id="498ed-156">By default, the wizard scans the data source for unique identifiers as the basis for the key field.</span></span> <span data-ttu-id="498ed-157">Строки помечаются как доступные для получения и для поиска,</span><span class="sxs-lookup"><span data-stu-id="498ed-157">Strings are attributed as retrievable and searchable.</span></span> <span data-ttu-id="498ed-158">а целые числа — как доступные для получения, сортируемые, фильтруемые и аспектируемые.</span><span class="sxs-lookup"><span data-stu-id="498ed-158">Integers are attributed as retrievable, filterable, sortable, and facetable.</span></span>

  ![Созданный индекс для примера, относящегося к недвижимости][3]

<span data-ttu-id="498ed-160">Нажмите кнопку **ОК**, чтобы создать индекс.</span><span class="sxs-lookup"><span data-stu-id="498ed-160">Click **OK** to create the index.</span></span>

#### <a name="step-3-define-the-indexer"></a><span data-ttu-id="498ed-161">Этап 3. Определение индексатора</span><span class="sxs-lookup"><span data-stu-id="498ed-161">Step 3: Define the indexer</span></span>
<span data-ttu-id="498ed-162">В мастере **импорта данных** щелкните **Индексатор** > **Имя** и введите имя индексатора.</span><span class="sxs-lookup"><span data-stu-id="498ed-162">Still in the **Import data** wizard, click **Indexer** > **Name**, and type a name for the indexer.</span></span> 

<span data-ttu-id="498ed-163">Этот объект определяет исполняемый процесс.</span><span class="sxs-lookup"><span data-stu-id="498ed-163">This object defines an executable process.</span></span> <span data-ttu-id="498ed-164">Вы можете задать для него повторяющееся расписание. А пока используйте параметр по умолчанию, чтобы однократно и немедленно запустить индексатор после нажатия кнопки **ОК**.</span><span class="sxs-lookup"><span data-stu-id="498ed-164">You could put it on recurring schedule, but for now use the default option to run the indexer once, immediately, when you click **OK**.</span></span>  

  ![индексатор для примера, относящегося к недвижимости][8]

## <a name="check-progress"></a><span data-ttu-id="498ed-166">Проверка хода выполнения</span><span class="sxs-lookup"><span data-stu-id="498ed-166">Check progress</span></span>
<span data-ttu-id="498ed-167">Чтобы отслеживать импорт данных, на панели мониторинга службы прокрутите вниз и дважды щелкните плитку **Индексаторы**. Откроется список индексаторов.</span><span class="sxs-lookup"><span data-stu-id="498ed-167">To monitor data import, go back to the service dashboard, scroll down, and double-click the **Indexers** tile to open the indexers list.</span></span> <span data-ttu-id="498ed-168">В списке вы увидите только что созданный индексатор с состоянием, указывающим на выполнение или завершение, а также количество проиндексированных документов.</span><span class="sxs-lookup"><span data-stu-id="498ed-168">You should see the newly created indexer in the list, with status indicating "in progress" or success, along with the number of documents indexed.</span></span>

   ![Сообщение о ходе обработки индексатором][4]

## <span data-ttu-id="498ed-170"><a name="query-index"></a> Запрос индекса</span><span class="sxs-lookup"><span data-stu-id="498ed-170"><a name="query-index"></a> Query the index</span></span>
<span data-ttu-id="498ed-171">Теперь индекс службы поиска может создавать запросы.</span><span class="sxs-lookup"><span data-stu-id="498ed-171">You now have a search index that's ready to query.</span></span> <span data-ttu-id="498ed-172">**Проводник поиска** — это средство работы с запросами, встроенное в портал.</span><span class="sxs-lookup"><span data-stu-id="498ed-172">**Search explorer** is a query tool built into the portal.</span></span> <span data-ttu-id="498ed-173">Это поле для поиска, с помощью которого можно проверить, возвращаются ли ожидаемые результаты поиска.</span><span class="sxs-lookup"><span data-stu-id="498ed-173">It provides a search box so that you can verify whether search results are what you expect.</span></span> 

> [!TIP]
> <span data-ttu-id="498ed-174">В [обзорном видео о службе поиска Azure](https://channel9.msdn.com/Events/Connect/2016/138) следующие действия демонстрируются начиная с 6:08.</span><span class="sxs-lookup"><span data-stu-id="498ed-174">In the [Azure Search Overview video](https://channel9.msdn.com/Events/Connect/2016/138), the following steps are demonstrated at 6m08s into the video.</span></span>
>

1. <span data-ttu-id="498ed-175">Щелкните **Проводник поиска** на панели команд.</span><span class="sxs-lookup"><span data-stu-id="498ed-175">Click **Search explorer** on the command bar.</span></span>

   ![Команда обозревателя поиска][5]

2. <span data-ttu-id="498ed-177">Щелкните **Изменить индекс** на панели команд, чтобы переключиться на пример *realestate-us-sample*.</span><span class="sxs-lookup"><span data-stu-id="498ed-177">Click **Change index** on the command bar to switch to *realestate-us-sample*.</span></span>

   ![Команды индекса и API][6]

3. <span data-ttu-id="498ed-179">Щелкните **Задать версию API** на панели команд, чтобы просмотреть доступные интерфейсы REST API.</span><span class="sxs-lookup"><span data-stu-id="498ed-179">Click **Set API version** on the command bar to see which REST APIs are available.</span></span> <span data-ttu-id="498ed-180">Предварительные версии API обеспечивают доступ к новым функциям, которые еще не являются общедоступными.</span><span class="sxs-lookup"><span data-stu-id="498ed-180">Preview APIs give you access to new features not yet generally released.</span></span> <span data-ttu-id="498ed-181">Для приведенных ниже запросов используйте общедоступную версию (2016-09-01), если не указано иное.</span><span class="sxs-lookup"><span data-stu-id="498ed-181">For the queries below, use the generally available version (2016-09-01) unless directed.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="498ed-182">[REST API службы поиска Azure](https://docs.microsoft.com/rest/api/searchservice/search-documents) и [библиотека .NET](search-howto-dotnet-sdk.md#core-scenarios) полностью эквивалентны, но **обозреватель поиска** может обрабатывать только вызовы REST.</span><span class="sxs-lookup"><span data-stu-id="498ed-182">[Azure Search REST API](https://docs.microsoft.com/rest/api/searchservice/search-documents) and the [.NET library](search-howto-dotnet-sdk.md#core-scenarios) are fully equivalent, but **Search explorer** is only equipped to handle REST calls.</span></span> <span data-ttu-id="498ed-183">Он поддерживает и [простой синтаксис запросов](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search), и [средство полного синтаксического анализа запросов Lucene](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), а также все параметры поиска, доступные в операциях [поиска документов](https://docs.microsoft.com/rest/api/searchservice/search-documents).</span><span class="sxs-lookup"><span data-stu-id="498ed-183">It accepts syntax for both [simple query syntax](https://docs.microsoft.com/rest/api/searchservice/simple-query-syntax-in-azure-search) and [full Lucene query parser](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search), plus all the search parameters available in [Search Document](https://docs.microsoft.com/rest/api/searchservice/search-documents) operations.</span></span>
    > 

4. <span data-ttu-id="498ed-184">В строке поиска введите приведенные ниже строки запроса и нажмите кнопку **Поиск**.</span><span class="sxs-lookup"><span data-stu-id="498ed-184">In the search bar, enter the query strings below and click **Search**.</span></span>

  ![Пример поискового запроса][7]

**`search=seattle`**

+ <span data-ttu-id="498ed-186">Параметр `search` используется для ввода ключевого слова поиска для полнотекстового поиска. В нашем случае будут возвращены результаты для округа Кинг, штат Вашингтон, содержащие *Seattle* в любом доступном для поиска поле в документе.</span><span class="sxs-lookup"><span data-stu-id="498ed-186">The `search` parameter is used to input a keyword search for full text search, in this case, returning listings in King County, Washington state, containing *Seattle* in any searchable field in the document.</span></span> 

+ <span data-ttu-id="498ed-187">**Обозреватель поиска** возвращает результаты в подробном JSON-файле, который трудно читать, если документы имеют высокую плотность структуры.</span><span class="sxs-lookup"><span data-stu-id="498ed-187">**Search explorer** returns results in JSON, which is verbose and hard to read if documents have a dense structure.</span></span> <span data-ttu-id="498ed-188">В зависимости от документов может понадобиться написать код, который обрабатывает результаты поиска для извлечения важных элементов.</span><span class="sxs-lookup"><span data-stu-id="498ed-188">Depending on your documents, you might need to write code that handles search results to extract important elements.</span></span> 

+ <span data-ttu-id="498ed-189">Документы содержат все поля, помеченные как доступные для получения в индексе.</span><span class="sxs-lookup"><span data-stu-id="498ed-189">Documents are composed of all fields marked as retrievable in the index.</span></span> <span data-ttu-id="498ed-190">Чтобы просмотреть атрибуты индекса на портале, на плитке **Индексы** щелкните *realestate-us-sample*.</span><span class="sxs-lookup"><span data-stu-id="498ed-190">To view index attributes in the portal, click *realestate-us-sample* in the **Indexes** tile.</span></span>

**`search=seattle&$count=true&$top=100`**

+ <span data-ttu-id="498ed-191">Символ `&` используется для добавления параметров поиска, которые можно указать в любом порядке.</span><span class="sxs-lookup"><span data-stu-id="498ed-191">The `&` symbol is used to append search parameters, which can be specified in any order.</span></span> 

+  <span data-ttu-id="498ed-192">Параметр `$count=true` возвращает число всех возвращенных документов.</span><span class="sxs-lookup"><span data-stu-id="498ed-192">The `$count=true` parameter returns a count for the sum of all documents returned.</span></span> <span data-ttu-id="498ed-193">Запросы фильтра можно проверять, наблюдая за изменениями результатов, возвращаемых параметром `$count=true`.</span><span class="sxs-lookup"><span data-stu-id="498ed-193">You can verify filter queries by monitoring changes reported by `$count=true`.</span></span> 

+ <span data-ttu-id="498ed-194">Параметр `$top=100` возвращает 100 документов с самым высоким рангом.</span><span class="sxs-lookup"><span data-stu-id="498ed-194">The `$top=100` returns the highest ranked 100 documents out of the total.</span></span> <span data-ttu-id="498ed-195">По умолчанию служба поиска Azure возвращает первые 50 лучших соответствий.</span><span class="sxs-lookup"><span data-stu-id="498ed-195">By default, Azure Search returns the first 50 best matches.</span></span> <span data-ttu-id="498ed-196">Увеличить или уменьшить объем можно с помощью параметра `$top`.</span><span class="sxs-lookup"><span data-stu-id="498ed-196">You can increase or decrease the amount via `$top`.</span></span>

**`search=*&facet=city&$top=2`**

+ <span data-ttu-id="498ed-197">`search=*` является пустым полем поиска.</span><span class="sxs-lookup"><span data-stu-id="498ed-197">`search=*` is an empty search.</span></span> <span data-ttu-id="498ed-198">Пустые поля поиска выполняют поиск по всему.</span><span class="sxs-lookup"><span data-stu-id="498ed-198">Empty searches search over everything.</span></span> <span data-ttu-id="498ed-199">Одна из причин отправки пустого запроса — отфильтровать или аспектировать полный набор документов.</span><span class="sxs-lookup"><span data-stu-id="498ed-199">One reason for submitting an empty query is to  filter or facet over the complete set of documents.</span></span> <span data-ttu-id="498ed-200">Например, вы хотите, чтобы структура аспектированной навигации состояла из всех городов в индексе.</span><span class="sxs-lookup"><span data-stu-id="498ed-200">For example, you want a faceting navigation structure to consist of all cities in the index.</span></span>

+  <span data-ttu-id="498ed-201">Параметр `facet` возвращает структуру навигации, которую можно передать в элемент управления пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="498ed-201">`facet` returns a navigation structure that you can pass to a UI control.</span></span> <span data-ttu-id="498ed-202">Он возвращает категории и количество.</span><span class="sxs-lookup"><span data-stu-id="498ed-202">It returns categories and a count.</span></span> <span data-ttu-id="498ed-203">В нашем случае категории основаны на количестве городов.</span><span class="sxs-lookup"><span data-stu-id="498ed-203">In this case, categories are based on the number of cities.</span></span> <span data-ttu-id="498ed-204">Служба поиска Azure не поддерживает агрегирование, но приблизительный результат можно получить с помощью параметра `facet`, который возвращает количество документов в каждой категории.</span><span class="sxs-lookup"><span data-stu-id="498ed-204">There is no aggregation in Azure Search, but you can approximate aggregation via `facet`, which gives a count of documents in each category.</span></span>

+ <span data-ttu-id="498ed-205">Параметр `$top=2` возвращает два документа и демонстрирует, что `top` можно использовать для уменьшения или увеличения результатов.</span><span class="sxs-lookup"><span data-stu-id="498ed-205">`$top=2` brings back two documents, illustrating that you can use `top` to both reduce or increase results.</span></span>

**`search=seattle&facet=beds`**

+ <span data-ttu-id="498ed-206">Этот запрос задает аспект beds (кровати) для поиска по тексту документов, содержащих *Seattle*.</span><span class="sxs-lookup"><span data-stu-id="498ed-206">This query is facet for beds, on a text search for *Seattle*.</span></span> <span data-ttu-id="498ed-207">`"beds"` можно указать в качестве аспекта, так как это поле помечено как доступное для получения, фильтруемое и аспектируемое в индексе, а содержащиеся в нем значения (числовые, от 1 до 5) подходят для упорядочивания списков по группам (списки с 3 или 4 спальнями).</span><span class="sxs-lookup"><span data-stu-id="498ed-207">`"beds"` can be specified as a facet because the field is marked as retrievable, filterable, and facetable in the index, and the values it contains (numeric, 1 through 5), are suitable for categorizing listings into groups (listings with 3 bedrooms, 4 bedrooms).</span></span> 

+ <span data-ttu-id="498ed-208">Аспектировать можно только фильтруемые поля.</span><span class="sxs-lookup"><span data-stu-id="498ed-208">Only filterable fields can be faceted.</span></span> <span data-ttu-id="498ed-209">В результатах могут быть возвращены только поля, доступные для получения.</span><span class="sxs-lookup"><span data-stu-id="498ed-209">Only retrievable fields can be returned in the results.</span></span>

**`search=seattle&$filter=beds gt 3`**

+ <span data-ttu-id="498ed-210">Параметр `filter` возвращает результаты, соответствующие указанным условиям.</span><span class="sxs-lookup"><span data-stu-id="498ed-210">The `filter` parameter returns results matching the criteria you provided.</span></span> <span data-ttu-id="498ed-211">В этом случае жилье, где более 3 спален.</span><span class="sxs-lookup"><span data-stu-id="498ed-211">In this case, bedrooms greater than 3.</span></span> 

+ <span data-ttu-id="498ed-212">Синтаксис фильтра — это конструкция OData.</span><span class="sxs-lookup"><span data-stu-id="498ed-212">Filter syntax is an OData construction.</span></span> <span data-ttu-id="498ed-213">Дополнительные сведения см. в статье [OData Expression Syntax for Azure Search](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) (Синтаксис выражений OData для службы поиска Azure).</span><span class="sxs-lookup"><span data-stu-id="498ed-213">For more information, see [Filter OData syntax](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search).</span></span>

**`search=granite countertops&highlight=description`**

+ <span data-ttu-id="498ed-214">Выделение совпадений — это форматирование совпадений, найденных в конкретном поле, по ключевому слову.</span><span class="sxs-lookup"><span data-stu-id="498ed-214">Hit highlighting refers to formatting on text matching the keyword, given matches are found in a specific field.</span></span> <span data-ttu-id="498ed-215">Если условие поиска глубоко скрыто в описании, выделение совпадений позволяет легче его найти.</span><span class="sxs-lookup"><span data-stu-id="498ed-215">If your search term is deeply buried in a description, you can add hit highlighting to make it easier to spot.</span></span> <span data-ttu-id="498ed-216">В данном случае выделенную фразу `"granite countertops"` легче увидеть в поле описания.</span><span class="sxs-lookup"><span data-stu-id="498ed-216">In this case, the formatted phrase `"granite countertops"` is easier to see in the description field.</span></span>

**`search=mice&highlight=description`**

+ <span data-ttu-id="498ed-217">Полнотекстовой поиск находит словоформы со схожей семантикой.</span><span class="sxs-lookup"><span data-stu-id="498ed-217">Full text search finds word forms with similar semantics.</span></span> <span data-ttu-id="498ed-218">В этом случае если задать ключевое слово поиска "мыши", то в результатах поиска отобразится текст, где будет выделено слово "мышь", для домов, где завелись эти грызуны.</span><span class="sxs-lookup"><span data-stu-id="498ed-218">In this case, search results contain highlighted text for "mouse", for homes that have mouse infestation, in response to a keyword search on "mice".</span></span> <span data-ttu-id="498ed-219">Различные формы одно и того же слова могут отображаться в результатах за счет лингвистического анализа.</span><span class="sxs-lookup"><span data-stu-id="498ed-219">Different forms of the same word can appear in results because of linguistic analysis.</span></span> 

+ <span data-ttu-id="498ed-220">Поиск Azure поддерживает 56 анализаторов от Lucene и корпорации Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="498ed-220">Azure Search supports 56 analyzers from both Lucene and Microsoft.</span></span> <span data-ttu-id="498ed-221">По умолчанию служба поиска Azure использует стандартный анализатор Lucene.</span><span class="sxs-lookup"><span data-stu-id="498ed-221">The default used by Azure Search is the standard Lucene analyzer.</span></span> 

**`search=samamish`**

+ <span data-ttu-id="498ed-222">При стандартном поиске слова с ошибками, например "самамиш" для города Саммамиш в Сиэтле, не будут распознаны как совпадения.</span><span class="sxs-lookup"><span data-stu-id="498ed-222">Misspelled words, like 'samamish' for the Samammish plateau in the Seattle area, fail to return matches in typical search.</span></span> <span data-ttu-id="498ed-223">Для обработки ошибок можно использовать поиск нечетких соответствий, описанный в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="498ed-223">To handle misspellings, you can use fuzzy search, described in the next example.</span></span>

**`search=samamish~&queryType=full`**

+ <span data-ttu-id="498ed-224">Чтобы включить поиск нечетких соответствий, укажите символ `~` и используйте средство полного синтаксического анализа запросов, которое интерпретирует и правильно анализирует синтаксис `~`.</span><span class="sxs-lookup"><span data-stu-id="498ed-224">Fuzzy search is enabled when you specify the `~` symbol and use the full query parser, which interprets and correctly parses the `~` syntax.</span></span> 

+ <span data-ttu-id="498ed-225">Поиск нечетких соответствий доступен, если вы настроили использование средства полного синтаксического анализа запросов с помощью параметра `queryType=full`.</span><span class="sxs-lookup"><span data-stu-id="498ed-225">Fuzzy search is available when you opt in for the full query parser, which occurs when you set `queryType=full`.</span></span> <span data-ttu-id="498ed-226">Дополнительные сведения о сценариях запроса при использовании средства полного синтаксического анализа запросов см. в статье [Lucene query syntax in Azure Search](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search) (Синтаксис запросов Lucene в службе поиска Azure).</span><span class="sxs-lookup"><span data-stu-id="498ed-226">For more information about query scenarios enabled by the full query parser, see [Lucene query syntax in Azure Search](https://docs.microsoft.com/rest/api/searchservice/lucene-query-syntax-in-azure-search).</span></span>

+ <span data-ttu-id="498ed-227">Если параметр `queryType` не задан, используется простое средство полного синтаксического анализа запросов по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="498ed-227">When `queryType` is unspecified, the default simple query parser is used.</span></span> <span data-ttu-id="498ed-228">Это средство работает быстрее, но если вам требуется поиск нечетких соответствий, регулярные выражения, поиск с учетом расположения или расширение типов запросов, вам понадобится средство полного синтаксического анализа.</span><span class="sxs-lookup"><span data-stu-id="498ed-228">The simple query parser is faster, but if you require fuzzy search, regular expressions, proximity search, or other advanced query types, you will need the full syntax.</span></span> 

**`search=*&$count=true&$filter=geo.distance(location,geography'POINT(-122.121513 47.673988)') le 5`**

+ <span data-ttu-id="498ed-229">Для поддержки геопространственного поиска нужно задать [тип данных edm.GeographyPoint](https://docs.microsoft.com/rest/api/searchservice/supported-data-types) для поля, содержащего координаты.</span><span class="sxs-lookup"><span data-stu-id="498ed-229">Geospatial search is supported through the [edm.GeographyPoint data type](https://docs.microsoft.com/rest/api/searchservice/supported-data-types) on a field containing coordinates.</span></span> <span data-ttu-id="498ed-230">Геопространственный поиск — это тип фильтра, описанный в статье [OData Expression Syntax for Azure Search](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search) (Синтаксис выражений OData для службы поиска Azure).</span><span class="sxs-lookup"><span data-stu-id="498ed-230">Geosearch is a type of filter, specified in [Filter OData syntax](https://docs.microsoft.com/rest/api/searchservice/odata-expression-syntax-for-azure-search).</span></span> 

+ <span data-ttu-id="498ed-231">Пример запроса фильтрует все результаты по данным о положении и выводит те, которые находятся на расстоянии менее 5 километров от заданной точки (по координатам широты и долготы).</span><span class="sxs-lookup"><span data-stu-id="498ed-231">The example query filters all results for positional data, where results are less than 5 kilometers from a given point (specified as latitude and longitude coordinates).</span></span> <span data-ttu-id="498ed-232">Если добавить параметр `$count`, можно увидеть, сколько результатов возвращается при изменении расстояния или координат.</span><span class="sxs-lookup"><span data-stu-id="498ed-232">By adding `$count`, you can see how many results are returned when you change either the distance or the coordinates.</span></span> 

+ <span data-ttu-id="498ed-233">Геопространственный поиск полезен в том случае, когда приложение поиска имеет функцию поиска соседних объектов или использует навигацию по карте.</span><span class="sxs-lookup"><span data-stu-id="498ed-233">Geospatial search is useful if your search application has a 'find near me' feature or uses map navigation.</span></span> <span data-ttu-id="498ed-234">Однако это не полнотекстовой поиск.</span><span class="sxs-lookup"><span data-stu-id="498ed-234">It is not full text search, however.</span></span> <span data-ttu-id="498ed-235">Если нужно выполнить поиск для определенного города или страны, помимо координат, добавьте поля, содержащие названия города или страны.</span><span class="sxs-lookup"><span data-stu-id="498ed-235">If you have user requirements for searching on a city or country by name, add fields containing city or country names, in addition to coordinates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="498ed-236">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="498ed-236">Next steps</span></span>

+ <span data-ttu-id="498ed-237">Вы можете изменять все только что созданные объекты.</span><span class="sxs-lookup"><span data-stu-id="498ed-237">Modify any of the objects you just created.</span></span> <span data-ttu-id="498ed-238">После первого запуска мастера вы можете вернуться назад и просмотреть или изменить отдельные компоненты: индекс, индексатор или источник данных.</span><span class="sxs-lookup"><span data-stu-id="498ed-238">After you run the wizard once, you can go back and view or modify individual components: index, indexer, or data source.</span></span> <span data-ttu-id="498ed-239">Некоторые изменения, например изменение типа данных поля, недоступны в индексе, но большинство свойств и настроек можно изменять.</span><span class="sxs-lookup"><span data-stu-id="498ed-239">Some edits, such as the changing the field data type, are not allowed on the index, but most properties and settings are modifiable.</span></span>

  <span data-ttu-id="498ed-240">Чтобы просмотреть отдельные компоненты, на панели мониторинга щелкните плитку **Индекс**, **Индексатор** или **Источники данных**. Отобразится список имеющихся объектов.</span><span class="sxs-lookup"><span data-stu-id="498ed-240">To view individual components, click the **Index**, **Indexer**, or **Data Sources** tiles on your dashboard to display a list of existing objects.</span></span> <span data-ttu-id="498ed-241">Дополнительные сведения об операциях изменения индекса, не требующих его перестройки, см. в статье [Update Index (Azure Search Service REST API)](https://docs.microsoft.com/rest/api/searchservice/update-index) (Обновление индекса (REST API службы поиска Azure)).</span><span class="sxs-lookup"><span data-stu-id="498ed-241">To learn more about index edits that do not require a rebuild, see [Update Index (Azure Search REST API)](https://docs.microsoft.com/rest/api/searchservice/update-index).</span></span>

+ <span data-ttu-id="498ed-242">Попробуйте использовать средства и выполнить действия для других источников данных.</span><span class="sxs-lookup"><span data-stu-id="498ed-242">Try the tools and steps with other data sources.</span></span> <span data-ttu-id="498ed-243">Пример набора данных `realestate-us-sample` находится в базе данных SQL Azure, которую может просканировать служба поиска Azure.</span><span class="sxs-lookup"><span data-stu-id="498ed-243">The sample dataset, `realestate-us-sample`, is from an Azure SQL Database that Azure Search can crawl.</span></span> <span data-ttu-id="498ed-244">Помимо базы данных SQL Azure служба поиска Azure может сканировать и получать индекс из плоских структур данных в хранилище таблиц Azure, хранилище BLOB-объектов, SQL Server на виртуальной машине Azure и Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="498ed-244">Besides Azure SQL Database, Azure Search can crawl and infer an index from flat data structures in Azure Table storage, Blob storage, SQL Server on an Azure VM, and Azure Cosmos DB.</span></span> <span data-ttu-id="498ed-245">Все эти источники данных поддерживаются в мастере.</span><span class="sxs-lookup"><span data-stu-id="498ed-245">All of these data sources are supported in the wizard.</span></span> <span data-ttu-id="498ed-246">В коде можно с легкостью заполнить индекс с помощью *индексатора*.</span><span class="sxs-lookup"><span data-stu-id="498ed-246">In code, you can populate an index easily using an *indexer*.</span></span>

+ <span data-ttu-id="498ed-247">Все другие неиндексированные источники данных поддерживаются через модель передачи, где код передает новые и измененные наборы строк в JSON-файле в индекс.</span><span class="sxs-lookup"><span data-stu-id="498ed-247">All other non-indexer data sources are supported via a push model, where your code pushes new and changed rowsets in JSON to your index.</span></span> <span data-ttu-id="498ed-248">Дополнительные сведения см. в статье [Add, Update or Delete Documents (Azure Search Service REST API)](https://docs.microsoft.com/rest/api/searchservice/addupdate-or-delete-documents) (Добавление, обновление и удаление документов (REST API службы поиска Azure)).</span><span class="sxs-lookup"><span data-stu-id="498ed-248">For more information, see [Add, update, or delete documents in Azure Search](https://docs.microsoft.com/rest/api/searchservice/addupdate-or-delete-documents).</span></span>

<span data-ttu-id="498ed-249">Дополнительные сведения о других возможностях, упоминаемых в этом руководстве, см. в следующих статьях.</span><span class="sxs-lookup"><span data-stu-id="498ed-249">Learn more about other features mentioned in this article by visiting these links:</span></span>

* [<span data-ttu-id="498ed-250">Индексаторы в службе поиска Azure</span><span class="sxs-lookup"><span data-stu-id="498ed-250">Indexers overview</span></span>](search-indexer-overview.md)
* [<span data-ttu-id="498ed-251">Create Index (Azure Search Service REST API) (Создание индекса (REST API службы поиска Azure)). Содержит подробное описание атрибутов индекса.</span><span class="sxs-lookup"><span data-stu-id="498ed-251">Create Index (includes a detailed explanation of the index attributes)</span></span>](https://docs.microsoft.com/rest/api/searchservice/create-index)
* [<span data-ttu-id="498ed-252">Обозреватель поиска</span><span class="sxs-lookup"><span data-stu-id="498ed-252">Search Explorer</span></span>](search-explorer.md)
* [<span data-ttu-id="498ed-253">Search Documents (Azure Search Service REST API) (Поиск по документам (REST API службы поиска Azure)). Содержит примеры синтаксиса запросов.</span><span class="sxs-lookup"><span data-stu-id="498ed-253">Search Documents (includes examples of query syntax)</span></span>](https://docs.microsoft.com/rest/api/searchservice/search-documents)


<!--Image references-->
[1]: ./media/search-get-started-portal/tiles-indexers-datasources2.png
[2]: ./media/search-get-started-portal/import-data-cmd2.png
[3]: ./media/search-get-started-portal/realestateindex2.png
[4]: ./media/search-get-started-portal/indexers-inprogress2.png
[5]: ./media/search-get-started-portal/search-explorer-cmd2.png
[6]: ./media/search-get-started-portal/search-explorer-changeindex-se2.png
[7]: ./media/search-get-started-portal/search-explorer-query2.png
[8]: ./media/search-get-started-portal/realestate-indexer2.png
[9]: ./media/search-get-started-portal/import-datasource-sample2.png