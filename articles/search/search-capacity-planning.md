---
title: "Планирование для службы поиска Azure aaaCapacity | Документы Microsoft"
description: "Настройка вычислительных ресурсов секций и реплик в Поиске Azure, в которых каждый ресурс оценивается в оплачиваемых единицах поиска."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: 1dc16afe-56f9-439d-8874-1733ae1a2b74
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 02/08/2017
ms.author: heidist
ms.openlocfilehash: 4bbbb929a36b932ea7af12e494ca095d98b9005e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="scale-resource-levels-for-query-and-indexing-workloads-in-azure-search"></a><span data-ttu-id="16b53-103">Масштабирование уровней ресурсов для рабочих нагрузок запросов и индексирования в Поиске Azure</span><span class="sxs-lookup"><span data-stu-id="16b53-103">Scale resource levels for query and indexing workloads in Azure Search</span></span>
<span data-ttu-id="16b53-104">По окончании [выберите ценовую категорию](search-sku-tier.md) и [Подготовка службы поиска](search-create-service-portal.md), hello следующим шагом является toooptionally увеличение hello количество реплик или разделы, используемые службой.</span><span class="sxs-lookup"><span data-stu-id="16b53-104">After you [choose a pricing tier](search-sku-tier.md) and [provision a search service](search-create-service-portal.md), hello next step is toooptionally increase hello number of replicas or partitions used by your service.</span></span> <span data-ttu-id="16b53-105">Каждый уровень предоставляет фиксированное число единиц выставления счетов.</span><span class="sxs-lookup"><span data-stu-id="16b53-105">Each tier offers a fixed number of billing units.</span></span> <span data-ttu-id="16b53-106">В этой статье объясняется, как tooallocate эти единицы tooachieve оптимальной конфигурации, в котором будут сбалансированы требований для выполнения запроса, индексирование и хранилища.</span><span class="sxs-lookup"><span data-stu-id="16b53-106">This article explains how tooallocate those units tooachieve an optimal configuration that balances your requirements for query execution, indexing, and storage.</span></span>

<span data-ttu-id="16b53-107">Ресурс конфигурации доступна при настройке службы на hello [базового уровня](http://aka.ms/azuresearchbasic) или один из hello [стандартного уровней](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="16b53-107">Resource configuration is available when you set up a service at hello [Basic tier](http://aka.ms/azuresearchbasic) or one of hello [Standard tiers](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="16b53-108">Для всех платных служб на этих уровнях емкость приобретается в *единицах поиска*, где каждая секция и реплика принимается за одну единицу поиска.</span><span class="sxs-lookup"><span data-stu-id="16b53-108">For billable services at these tiers, capacity is purchased in increments of *search units* (SUs) where each partition and replica counts as one SU.</span></span> 

<span data-ttu-id="16b53-109">Чем меньше используется единиц поиска, тем меньше выставляется счет.</span><span class="sxs-lookup"><span data-stu-id="16b53-109">Using fewer SUs results in a proportionally lower bill.</span></span> <span data-ttu-id="16b53-110">Выставление счетов для действует при условии, что настройка службы hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-110">Billing is in effect for as long as hello service is set up.</span></span> <span data-ttu-id="16b53-111">Если временно не используются службы, единственным способом hello выставления счетов tooavoid является служба hello удаления и повторного создания его при необходимости.</span><span class="sxs-lookup"><span data-stu-id="16b53-111">If you are temporarily not using a service, hello only way tooavoid billing is by deleting hello service and then re-creating it when you need it.</span></span>

> [!Note]
> <span data-ttu-id="16b53-112">Удаление службы приводит к удалению всех связанных с ней компонентов.</span><span class="sxs-lookup"><span data-stu-id="16b53-112">Deleting a service deletes everything on it.</span></span> <span data-ttu-id="16b53-113">В службе поиска Azure отсутствуют возможности резервного копирования и восстановления сохраненных данных для поиска.</span><span class="sxs-lookup"><span data-stu-id="16b53-113">There is no facility within Azure Search for backing up and restoring persisted search data.</span></span> <span data-ttu-id="16b53-114">tooredeploy существующего индекса для новой службы, запустите toocreate программа, используемая hello и загрузить его изначально.</span><span class="sxs-lookup"><span data-stu-id="16b53-114">tooredeploy an existing index on a new service, you should run hello program used toocreate and load it originally.</span></span> 

## <a name="terminology-partitions-and-replicas"></a><span data-ttu-id="16b53-115">Терминология: секции и реплики</span><span class="sxs-lookup"><span data-stu-id="16b53-115">Terminology: partitions and replicas</span></span>
<span data-ttu-id="16b53-116">Секции и реплики представляют hello основными ресурсами, которые поддерживают службы поиска.</span><span class="sxs-lookup"><span data-stu-id="16b53-116">Partitions and replicas are hello primary resources that back a search service.</span></span>

| <span data-ttu-id="16b53-117">Ресурс</span><span class="sxs-lookup"><span data-stu-id="16b53-117">Resource</span></span> | <span data-ttu-id="16b53-118">Определение</span><span class="sxs-lookup"><span data-stu-id="16b53-118">Definition</span></span> |
|----------|------------|
|<span data-ttu-id="16b53-119">*Секции*</span><span class="sxs-lookup"><span data-stu-id="16b53-119">*Partitions*</span></span> | <span data-ttu-id="16b53-120">Служат для хранения индексов и ввода-вывода данных для операций чтения и записи (например, при повторном создании или обновлении индексов).</span><span class="sxs-lookup"><span data-stu-id="16b53-120">Provides index storage and I/O for read/write operations (for example, when rebuilding or refreshing an index).</span></span>|
|<span data-ttu-id="16b53-121">*Реплики*</span><span class="sxs-lookup"><span data-stu-id="16b53-121">*Replicas*</span></span> | <span data-ttu-id="16b53-122">Экземпляры службы поиска hello, используемых в основном tooload баланс запросов операций.</span><span class="sxs-lookup"><span data-stu-id="16b53-122">Instances of hello search service, used primarily tooload balance query operations.</span></span> <span data-ttu-id="16b53-123">На каждой реплике всегда размещается одна копия индекса.</span><span class="sxs-lookup"><span data-stu-id="16b53-123">Each replica always hosts one copy of an index.</span></span> <span data-ttu-id="16b53-124">При наличии 12 реплики, вы получите 12 копии каждый индекс, загруженной на службу hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-124">If you have 12 replicas, you will have 12 copies of every index loaded on hello service.</span></span>|

> [!NOTE]
> <span data-ttu-id="16b53-125">Нет способа toodirectly управления на реплике, какие индексы или управления ею.</span><span class="sxs-lookup"><span data-stu-id="16b53-125">There is no way toodirectly manipulate or manage which indexes run on a replica.</span></span> <span data-ttu-id="16b53-126">Одна копия каждого индекса в каждой реплике является частью архитектуры служб hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-126">One copy of each index on every replica is part of hello service architecture.</span></span>
>

## <a name="how-tooallocate-partitions-and-replicas"></a><span data-ttu-id="16b53-127">Как tooallocate разделов и реплик</span><span class="sxs-lookup"><span data-stu-id="16b53-127">How tooallocate partitions and replicas</span></span>
<span data-ttu-id="16b53-128">В Поиске Azure для службы поиска изначально выделяется минимальный уровень ресурсов, состоящий из одного раздела и одной реплики.</span><span class="sxs-lookup"><span data-stu-id="16b53-128">In Azure Search, a service is initially allocated a minimal level of resources consisting of one partition and one replica.</span></span> <span data-ttu-id="16b53-129">Для уровней, которые поддерживают службу, вы можете постепенно корректировать вычислительные ресурсы, увеличивая количество секций, если вам нужно больше места для хранения и операций ввода-вывода, или добавляя реплики, чтобы увеличить объем запросов или повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="16b53-129">For tiers that support it, you can incrementally adjust computational resources by increasing partitions if you need more storage and I/O, or add more replicas for larger query volumes or better performance.</span></span> <span data-ttu-id="16b53-130">Одна служба должен иметь достаточно ресурсов toohandle всех рабочих нагрузок (индексирования и запросов).</span><span class="sxs-lookup"><span data-stu-id="16b53-130">A single service must have sufficient resources toohandle all workloads (indexing and queries).</span></span> <span data-ttu-id="16b53-131">Нельзя разделить рабочие нагрузки между несколькими службами.</span><span class="sxs-lookup"><span data-stu-id="16b53-131">You cannot subdivide workloads among multiple services.</span></span>

<span data-ttu-id="16b53-132">tooincrease или изменение выделения hello реплик и секции, мы рекомендуем использовать портал Azure hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-132">tooincrease or change hello allocation of replicas and partitions, we recommend using hello Azure portal.</span></span> <span data-ttu-id="16b53-133">портал Hello применяет ограничения на допустимые сочетания, которые остаются под максимальные ограничения:</span><span class="sxs-lookup"><span data-stu-id="16b53-133">hello portal enforces limits on allowable combinations that stay below maximum limits:</span></span>

1. <span data-ttu-id="16b53-134">Войдите в toohello [портал Azure](https://portal.azure.com/) и выберите службу поиска hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-134">Sign in toohello [Azure portal](https://portal.azure.com/) and select hello search service.</span></span>
2. <span data-ttu-id="16b53-135">В **параметры**откройте hello **шкалы** колонки и использование hello tooincrease ползунки или уменьшите значение hello разделов и реплик.</span><span class="sxs-lookup"><span data-stu-id="16b53-135">In **Settings**, open hello **Scale** blade and use hello sliders tooincrease or decrease hello number of partitions and replicas.</span></span>

<span data-ttu-id="16b53-136">Здравствуйте, если требуется, чтобы на основе сценария или на основе кода инициализации подход, [API REST управления](https://msdn.microsoft.com/library/azure/dn832687.aspx) представляет собой альтернативный toohello портал.</span><span class="sxs-lookup"><span data-stu-id="16b53-136">If you require a script-based or code-based provisioning approach, hello [Management REST API](https://msdn.microsoft.com/library/azure/dn832687.aspx) is an alternative toohello portal.</span></span>

<span data-ttu-id="16b53-137">Как правило поиска нужен несколько реплик, чем в секциях, особенно в том случае, если операции службы hello краткость рабочих нагрузок запросов.</span><span class="sxs-lookup"><span data-stu-id="16b53-137">Generally, search applications need more replicas than partitions, particularly when hello service operations are biased toward query workloads.</span></span> <span data-ttu-id="16b53-138">Здравствуйте, раздел на [высокий уровень доступности](#HA) объясняет, почему.</span><span class="sxs-lookup"><span data-stu-id="16b53-138">hello section on [high availability](#HA) explains why.</span></span>

> [!NOTE]
> <span data-ttu-id="16b53-139">После подготовки службы не может быть обновленного tooa выше SKU.</span><span class="sxs-lookup"><span data-stu-id="16b53-139">After a service is provisioned, it cannot be upgraded tooa higher SKU.</span></span> <span data-ttu-id="16b53-140">Может потребоваться toocreate службы поиска в новый уровень hello и перезагрузите индексах.</span><span class="sxs-lookup"><span data-stu-id="16b53-140">You will need toocreate a search service at hello new tier and reload your indexes.</span></span> <span data-ttu-id="16b53-141">В разделе [Создание службы поиска Azure на портале hello](search-create-service-portal.md) для справки при подготовке службы.</span><span class="sxs-lookup"><span data-stu-id="16b53-141">See [Create an Azure Search service in hello portal](search-create-service-portal.md) for help with service provisioning.</span></span>
>
>

<a id="HA"></a>

## <a name="high-availability"></a><span data-ttu-id="16b53-142">высокую доступность;</span><span class="sxs-lookup"><span data-stu-id="16b53-142">High availability</span></span>
<span data-ttu-id="16b53-143">Так, как легко и относительно быстро tooscale вверх, обычно рекомендуется начать с одним разделом и одной или двух реплик, а затем масштабирования в виде запроса сборки.</span><span class="sxs-lookup"><span data-stu-id="16b53-143">Because it's easy and relatively fast tooscale up, we generally recommend that you start with one partition and one or two replicas, and then scale up as query volumes build.</span></span> <span data-ttu-id="16b53-144">Для многих служб на уровнях Basic или S1 hello один раздел предоставляет достаточно хранилища и ввода-вывода (на 15 миллионов документов на секцию).</span><span class="sxs-lookup"><span data-stu-id="16b53-144">For many services at hello Basic or S1 tiers, one partition provides sufficient storage and I/O (at 15 million documents per partition).</span></span>

<span data-ttu-id="16b53-145">Рабочие нагрузки запросов в основном выполняются с репликами.</span><span class="sxs-lookup"><span data-stu-id="16b53-145">Query workloads run primarily on replicas.</span></span> <span data-ttu-id="16b53-146">Для повышения пропускной способности или обеспечения высокого уровня доступности вам, скорее всего, потребуется больше реплик.</span><span class="sxs-lookup"><span data-stu-id="16b53-146">If you need more throughput or high availability, you will probably require additional replicas.</span></span>

<span data-ttu-id="16b53-147">Ниже приведены общие рекомендации для обеспечения высокой доступности.</span><span class="sxs-lookup"><span data-stu-id="16b53-147">General recommendations for high availability are:</span></span>

* <span data-ttu-id="16b53-148">Две реплики для обеспечения высокой доступности рабочих нагрузок для чтения (запросов).</span><span class="sxs-lookup"><span data-stu-id="16b53-148">Two replicas for high availability of read-only workloads (queries)</span></span>
* <span data-ttu-id="16b53-149">Три или более реплик для обеспечения высокого уровня доступности рабочих нагрузок чтения и записи (запросов и индексирования по мере добавления, обновления или удаления отдельных документов).</span><span class="sxs-lookup"><span data-stu-id="16b53-149">Three or more replicas for high availability of read/write workloads (queries plus indexing as individual documents are added, updated, or deleted)</span></span>

<span data-ttu-id="16b53-150">Соглашения об уровне обслуживания для Поиска Azure используются для операций запросов и обновления индекса, которые состоят из добавления, обновления или удаления документов.</span><span class="sxs-lookup"><span data-stu-id="16b53-150">Service level agreements (SLA) for Azure Search are targeted at query operations and at index updates that consist of adding, updating, or deleting documents.</span></span>

### <a name="index-availability-during-a-rebuild"></a><span data-ttu-id="16b53-151">Доступность индексов во время повторного создания</span><span class="sxs-lookup"><span data-stu-id="16b53-151">Index availability during a rebuild</span></span>

<span data-ttu-id="16b53-152">Высокий уровень доступности для службы поиска Azure относится tooqueries и индекс обновления, которые не используют перестроения индекса.</span><span class="sxs-lookup"><span data-stu-id="16b53-152">High availability for Azure Search pertains tooqueries and index updates that don't involve rebuilding an index.</span></span> <span data-ttu-id="16b53-153">Если удалить поле, изменить тип данных или переименовать поле, необходимо будет toorebuild hello индекса.</span><span class="sxs-lookup"><span data-stu-id="16b53-153">If you delete a field, change a data type, or rename a field, you will need toorebuild hello index.</span></span> <span data-ttu-id="16b53-154">Индекс toorebuild hello, необходимо удалить hello индекса, повторного создания индекса hello и загружать данные hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-154">toorebuild hello index, you must delete hello index, re-create hello index, and reload hello data.</span></span>

> [!NOTE]
> <span data-ttu-id="16b53-155">Можно добавить новый индекс поиска Azure tooan поля без перестроения индекса hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-155">You can add new fields tooan Azure Search index without rebuilding hello index.</span></span> <span data-ttu-id="16b53-156">значение Hello hello новое поле будет иметь значение null для всех документов, уже в индексе hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-156">hello value of hello new field will be null for all documents already in hello index.</span></span>

<span data-ttu-id="16b53-157">toomaintain индекс доступности во время перестроения, необходимо иметь копию hello индекса с другим именем на hello одинаковые службы, или копию hello индекса с hello таким же именем на другую службу, а затем укажите перенаправления или отработки отказа логикой в вашем коде.</span><span class="sxs-lookup"><span data-stu-id="16b53-157">toomaintain index availability during a rebuild, you must have a copy of hello index with a different name on hello same service, or a copy of hello index with hello same name on a different service, and then provide redirection or failover logic in your code.</span></span>

## <a name="disaster-recovery"></a><span data-ttu-id="16b53-158">Аварийное восстановление</span><span class="sxs-lookup"><span data-stu-id="16b53-158">Disaster recovery</span></span>
<span data-ttu-id="16b53-159">В настоящее время встроенного механизма для аварийного восстановления не предусмотрено.</span><span class="sxs-lookup"><span data-stu-id="16b53-159">Currently, there is no built-in mechanism for disaster recovery.</span></span> <span data-ttu-id="16b53-160">Добавление секции и реплики будет hello неправильный стратегия удовлетворения целей аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="16b53-160">Adding partitions or replicas would be hello wrong strategy for meeting disaster recovery objectives.</span></span> <span data-ttu-id="16b53-161">Hello наиболее распространенным подходом является tooadd избыточности на уровне службы hello, настроив второй службы поиска в другом регионе.</span><span class="sxs-lookup"><span data-stu-id="16b53-161">hello most common approach is tooadd redundancy at hello service level by setting up a second search service in another region.</span></span> <span data-ttu-id="16b53-162">Как и в случае доступности во время перестроения индекса перенаправления hello и логика отработки отказа должны поступать из кода.</span><span class="sxs-lookup"><span data-stu-id="16b53-162">As with availability during an index rebuild, hello redirection or failover logic must come from your code.</span></span>

## <a name="increase-query-performance-with-replicas"></a><span data-ttu-id="16b53-163">Увеличение производительности запросов с помощью реплик</span><span class="sxs-lookup"><span data-stu-id="16b53-163">Increase query performance with replicas</span></span>
<span data-ttu-id="16b53-164">Признаком необходимости добавления дополнительных реплик является задержка обработки запросов.</span><span class="sxs-lookup"><span data-stu-id="16b53-164">Query latency is an indicator that additional replicas are needed.</span></span> <span data-ttu-id="16b53-165">Как правило первым шагом к улучшению производительности запросов является несколько tooadd этого ресурса.</span><span class="sxs-lookup"><span data-stu-id="16b53-165">Generally, a first step toward improving query performance is tooadd more of this resource.</span></span> <span data-ttu-id="16b53-166">По мере добавления реплик дополнительные копии индекса hello, переводятся в режим online toosupport больше рабочих нагрузок запросов и hello баланс tooload запросы через hello несколько реплик.</span><span class="sxs-lookup"><span data-stu-id="16b53-166">As you add replicas, additional copies of hello index are brought online toosupport bigger query workloads and tooload balance hello requests over hello multiple replicas.</span></span>

<span data-ttu-id="16b53-167">Мы не можем предоставить жестких оценок для запросов в секунду (QPS): запросов, производительность зависит от сложности hello hello конкурирующих рабочих нагрузок и запросов.</span><span class="sxs-lookup"><span data-stu-id="16b53-167">We cannot provide hard estimates on queries per second (QPS): query performance depends on hello complexity of hello query and competing workloads.</span></span> <span data-ttu-id="16b53-168">В среднем реплика на SKU уровня "Базовый" или S1 обслуживает около 15 запросов в секунду, но фактическая пропускная способность будет немного выше или ниже в зависимости от сложности запросов (фасетные запросы являются более сложными) и задержки сети.</span><span class="sxs-lookup"><span data-stu-id="16b53-168">On average, a replica at Basic or S1 SKUs can service about 15 QPS, but your throughput will be higher or lower depending on query complexity (faceted queries are more complex) and network latency.</span></span> <span data-ttu-id="16b53-169">Кроме того, важно toorecognize, хотя Добавление реплик определенно повысит масштабируемость и производительность, hello результат не является строго линейным: добавление трех реплик не гарантирует увеличения пропускной способности втрое.</span><span class="sxs-lookup"><span data-stu-id="16b53-169">Also, it's important toorecognize that although adding replicas will definitely add scale and performance, hello result is not strictly linear: adding three replicas does not guarantee triple throughput.</span></span>

<span data-ttu-id="16b53-170">toolearn о QPS, включая способы оценки QPS для рабочих нагрузок, в разделе [управление службой поиска](search-manage.md).</span><span class="sxs-lookup"><span data-stu-id="16b53-170">toolearn about QPS, including approaches for estimating QPS for your workloads, see [Manage your Search service](search-manage.md).</span></span>

## <a name="increase-indexing-performance-with-partitions"></a><span data-ttu-id="16b53-171">Увеличение производительности индексирования с помощью секций</span><span class="sxs-lookup"><span data-stu-id="16b53-171">Increase indexing performance with partitions</span></span>
<span data-ttu-id="16b53-172">Приложениям поиска, которым требуется обновления данных в режиме, близком к реальному времени, понадобится пропорционально больше секций, чем реплик.</span><span class="sxs-lookup"><span data-stu-id="16b53-172">Search applications that require near real-time data refresh will need proportionally more partitions than replicas.</span></span> <span data-ttu-id="16b53-173">При добавлении секций операции чтения-записи распределяются среди большего количества вычислительных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="16b53-173">Adding partitions spreads read/write operations across a larger number of compute resources.</span></span> <span data-ttu-id="16b53-174">Оно также обеспечивает больше дискового пространства для хранения дополнительных индексов и документов.</span><span class="sxs-lookup"><span data-stu-id="16b53-174">It also gives you more disk space for storing additional indexes and documents.</span></span>

<span data-ttu-id="16b53-175">Больше индексов уходит больше времени tooquery.</span><span class="sxs-lookup"><span data-stu-id="16b53-175">Larger indexes take longer tooquery.</span></span> <span data-ttu-id="16b53-176">Поэтому может оказаться, что каждое добавочное увеличение числа секций потребует меньшего, но пропорционального увеличения числа реплик.</span><span class="sxs-lookup"><span data-stu-id="16b53-176">As such, you might find that every incremental increase in partitions requires a smaller but proportional increase in replicas.</span></span> <span data-ttu-id="16b53-177">Hello сложность запросов и запросов необходимо учитывать скорость выполнения запросов поворачивается.</span><span class="sxs-lookup"><span data-stu-id="16b53-177">hello complexity of your queries and query volume will factor into how quickly query execution is turned around.</span></span>

## <a name="basic-tier-partition-and-replica-combinations"></a><span data-ttu-id="16b53-178">Уровень "Базовый": сочетания разделов и реплик</span><span class="sxs-lookup"><span data-stu-id="16b53-178">Basic tier: Partition and replica combinations</span></span>
<span data-ttu-id="16b53-179">Базовая служба может иметь только одну секцию и до toothree реплик, для которого установлено ограничение три SUs.</span><span class="sxs-lookup"><span data-stu-id="16b53-179">A Basic service can have exactly one partition and up toothree replicas, for a maximum limit of three SUs.</span></span> <span data-ttu-id="16b53-180">только изменяемые ресурс Hello — реплик.</span><span class="sxs-lookup"><span data-stu-id="16b53-180">hello only adjustable resource is replicas.</span></span> <span data-ttu-id="16b53-181">Требуется не менее двух реплик, чтобы обеспечить высокий уровень доступности при обработке запросов.</span><span class="sxs-lookup"><span data-stu-id="16b53-181">You need a minimum of two replicas for high availability on queries.</span></span>

<a id="chart"></a>

## <a name="standard-tiers-partition-and-replica-combinations"></a><span data-ttu-id="16b53-182">Уровень "Стандартный": сочетания разделов и реплик</span><span class="sxs-lookup"><span data-stu-id="16b53-182">Standard tiers: Partition and replica combinations</span></span>
<span data-ttu-id="16b53-183">В этой таблице показаны сочетания необходимые toosupport SUs hello реплик и секции, ограничение 36 SU toohello субъекта для всех стандартных уровней.</span><span class="sxs-lookup"><span data-stu-id="16b53-183">This table shows hello SUs required toosupport combinations of replicas and partitions, subject toohello 36-SU limit, for all Standard tiers.</span></span>

|   | <span data-ttu-id="16b53-184">**1 секция**</span><span class="sxs-lookup"><span data-stu-id="16b53-184">**1 partition**</span></span> | <span data-ttu-id="16b53-185">**2 секции**</span><span class="sxs-lookup"><span data-stu-id="16b53-185">**2 partitions**</span></span> | <span data-ttu-id="16b53-186">**3 секции**</span><span class="sxs-lookup"><span data-stu-id="16b53-186">**3 partitions**</span></span> | <span data-ttu-id="16b53-187">**4 секции**</span><span class="sxs-lookup"><span data-stu-id="16b53-187">**4 partitions**</span></span> | <span data-ttu-id="16b53-188">**6 секций**</span><span class="sxs-lookup"><span data-stu-id="16b53-188">**6 partitions**</span></span> | <span data-ttu-id="16b53-189">**12 секций**</span><span class="sxs-lookup"><span data-stu-id="16b53-189">**12 partitions**</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="16b53-190">**1 реплика**</span><span class="sxs-lookup"><span data-stu-id="16b53-190">**1 replica**</span></span> |<span data-ttu-id="16b53-191">1 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-191">1 SU</span></span> |<span data-ttu-id="16b53-192">2 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-192">2 SU</span></span> |<span data-ttu-id="16b53-193">3 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-193">3 SU</span></span> |<span data-ttu-id="16b53-194">4 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-194">4 SU</span></span> |<span data-ttu-id="16b53-195">6 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-195">6 SU</span></span> |<span data-ttu-id="16b53-196">12 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-196">12 SU</span></span> |
| <span data-ttu-id="16b53-197">**2 реплики**</span><span class="sxs-lookup"><span data-stu-id="16b53-197">**2 replicas**</span></span> |<span data-ttu-id="16b53-198">2 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-198">2 SU</span></span> |<span data-ttu-id="16b53-199">4 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-199">4 SU</span></span> |<span data-ttu-id="16b53-200">6 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-200">6 SU</span></span> |<span data-ttu-id="16b53-201">8 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-201">8 SU</span></span> |<span data-ttu-id="16b53-202">12 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-202">12 SU</span></span> |<span data-ttu-id="16b53-203">24 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-203">24 SU</span></span> |
| <span data-ttu-id="16b53-204">**3 реплики**</span><span class="sxs-lookup"><span data-stu-id="16b53-204">**3 replicas**</span></span> |<span data-ttu-id="16b53-205">3 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-205">3 SU</span></span> |<span data-ttu-id="16b53-206">6 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-206">6 SU</span></span> |<span data-ttu-id="16b53-207">9 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-207">9 SU</span></span> |<span data-ttu-id="16b53-208">12 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-208">12 SU</span></span> |<span data-ttu-id="16b53-209">18 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-209">18 SU</span></span> |<span data-ttu-id="16b53-210">36 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-210">36 SU</span></span> |
| <span data-ttu-id="16b53-211">**4 реплики**</span><span class="sxs-lookup"><span data-stu-id="16b53-211">**4 replicas**</span></span> |<span data-ttu-id="16b53-212">4 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-212">4 SU</span></span> |<span data-ttu-id="16b53-213">8 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-213">8 SU</span></span> |<span data-ttu-id="16b53-214">12 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-214">12 SU</span></span> |<span data-ttu-id="16b53-215">16 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-215">16 SU</span></span> |<span data-ttu-id="16b53-216">24 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-216">24 SU</span></span> |<span data-ttu-id="16b53-217">Недоступно</span><span class="sxs-lookup"><span data-stu-id="16b53-217">N/A</span></span> |
| <span data-ttu-id="16b53-218">**5 реплик**</span><span class="sxs-lookup"><span data-stu-id="16b53-218">**5 replicas**</span></span> |<span data-ttu-id="16b53-219">5 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-219">5 SU</span></span> |<span data-ttu-id="16b53-220">10 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-220">10 SU</span></span> |<span data-ttu-id="16b53-221">15 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-221">15 SU</span></span> |<span data-ttu-id="16b53-222">20 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-222">20 SU</span></span> |<span data-ttu-id="16b53-223">30 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-223">30 SU</span></span> |<span data-ttu-id="16b53-224">Недоступно</span><span class="sxs-lookup"><span data-stu-id="16b53-224">N/A</span></span> |
| <span data-ttu-id="16b53-225">**6 реплик**</span><span class="sxs-lookup"><span data-stu-id="16b53-225">**6 replicas**</span></span> |<span data-ttu-id="16b53-226">6 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-226">6 SU</span></span> |<span data-ttu-id="16b53-227">12 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-227">12 SU</span></span> |<span data-ttu-id="16b53-228">18 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-228">18 SU</span></span> |<span data-ttu-id="16b53-229">24 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-229">24 SU</span></span> |<span data-ttu-id="16b53-230">36 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-230">36 SU</span></span> |<span data-ttu-id="16b53-231">Недоступно</span><span class="sxs-lookup"><span data-stu-id="16b53-231">N/A</span></span> |
| <span data-ttu-id="16b53-232">**12 реплик**</span><span class="sxs-lookup"><span data-stu-id="16b53-232">**12 replicas**</span></span> |<span data-ttu-id="16b53-233">12 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-233">12 SU</span></span> |<span data-ttu-id="16b53-234">24 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-234">24 SU</span></span> |<span data-ttu-id="16b53-235">36 ЕП</span><span class="sxs-lookup"><span data-stu-id="16b53-235">36 SU</span></span> |<span data-ttu-id="16b53-236">Недоступно</span><span class="sxs-lookup"><span data-stu-id="16b53-236">N/A</span></span> |<span data-ttu-id="16b53-237">Недоступно</span><span class="sxs-lookup"><span data-stu-id="16b53-237">N/A</span></span> |<span data-ttu-id="16b53-238">Недоступно</span><span class="sxs-lookup"><span data-stu-id="16b53-238">N/A</span></span> |

<span data-ttu-id="16b53-239">SUs, цены и емкость подробно описываются на веб-сайте Azure hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-239">SUs, pricing, and capacity are explained in detail on hello Azure website.</span></span> <span data-ttu-id="16b53-240">Дополнительные сведения см. на [странице с ценами](https://azure.microsoft.com/pricing/details/search/).</span><span class="sxs-lookup"><span data-stu-id="16b53-240">For more information, see [Pricing Details](https://azure.microsoft.com/pricing/details/search/).</span></span>

> [!NOTE]
> <span data-ttu-id="16b53-241">число Hello реплик и секций равномерно делится на 12 (в частности, 1, 2, 3, 4, 6, 12).</span><span class="sxs-lookup"><span data-stu-id="16b53-241">hello number of replicas and partitions divides evenly into 12 (specifically, 1, 2, 3, 4, 6, 12).</span></span> <span data-ttu-id="16b53-242">Это связано с тем, что Поиск Azure предварительно делит каждый индекс на 12 сегментов, которые можно распределить равными частями по разделам.</span><span class="sxs-lookup"><span data-stu-id="16b53-242">This is because Azure Search pre-divides each index into 12 shards so that it can be spread in equal portions across all partitions.</span></span> <span data-ttu-id="16b53-243">Например если ваша служба имеет три секции, и для создания индекса, каждая секция будет содержать четыре сегментов hello индекса.</span><span class="sxs-lookup"><span data-stu-id="16b53-243">For example, if your service has three partitions and you create an index, each partition will contain four shards of hello index.</span></span> <span data-ttu-id="16b53-244">Описывается способ поиска Azure делит индекс на сегменты является элементом реализации, toochange субъекта в будущих выпусках.</span><span class="sxs-lookup"><span data-stu-id="16b53-244">How Azure Search shards an index is an implementation detail, subject toochange in future releases.</span></span> <span data-ttu-id="16b53-245">Несмотря на то, что номер hello — 12 сегодня, не следует ожидается, что, число tooalways быть будущих 12 hello.</span><span class="sxs-lookup"><span data-stu-id="16b53-245">Although hello number is 12 today, you shouldn't expect that number tooalways be 12 in hello future.</span></span>
>
>

## <a name="billing-formula-for-replica-and-partition-resources"></a><span data-ttu-id="16b53-246">Формула выставления счетов за ресурсы реплик и секций</span><span class="sxs-lookup"><span data-stu-id="16b53-246">Billing formula for replica and partition resources</span></span>
<span data-ttu-id="16b53-247">Hello формула для вычисления, сколько SUs используются для конкретных комбинаций — совокупность hello реплик и секции, или (R X P = SU).</span><span class="sxs-lookup"><span data-stu-id="16b53-247">hello formula for calculating how many SUs are used for specific combinations is hello product of replicas and partitions, or (R X P = SU).</span></span> <span data-ttu-id="16b53-248">Например, три реплики, умноженные на три секции, оплачиваются как девять единиц поиска.</span><span class="sxs-lookup"><span data-stu-id="16b53-248">For example, three replicas multiplied by three partitions is billed as nine SUs.</span></span>

<span data-ttu-id="16b53-249">Стоимость SU определяется уровнем hello, с более низкой скоростью выставления счетов за единицу для Basic, чем для стандартных.</span><span class="sxs-lookup"><span data-stu-id="16b53-249">Cost per SU is determined by hello tier, with a lower per-unit billing rate for Basic than for Standard.</span></span> <span data-ttu-id="16b53-250">Расценки для каждого уровня см. в разделе [Сведения о ценах](https://azure.microsoft.com/pricing/details/search/).</span><span class="sxs-lookup"><span data-stu-id="16b53-250">Rates for each tier can be found on [Pricing Details](https://azure.microsoft.com/pricing/details/search/).</span></span>
