---
title: "Ограничения поиска Azure | Документация Майкрософт"
description: "Ограничения службы поиска Azure, используемые при планировании мощности, а также ограничения запросов и ответов на них."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
tags: azure-portal
ms.assetid: 857a8606-c1bf-48f1-8758-8032bbe220ad
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 11/09/2017
ms.author: heidist
ms.openlocfilehash: 3deb0ff81114c840798c5927ad7311d7e603813d
ms.sourcegitcommit: bc8d39fa83b3c4a66457fba007d215bccd8be985
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/10/2017
---
# <a name="service-limits-in-azure-search"></a>Ограничения поиска Azure
Максимальные ограничения хранилища, рабочих нагрузок, количества индексов, документов и других объектов зависят от того, на каком уровне [вы подготовили службу поиска Azure для работы](search-create-service-portal.md): **Бесплатный**, **Базовый** или **Стандартный**.

* **Бесплатный** представляет собой мультитенантную службу, которая предоставляется вместе с подпиской Azure. 
* Уровень **Базовый** предоставляет выделенные вычислительные ресурсы для небольших рабочих нагрузок в рабочей среде.
* Для уровня **Стандартный** используются выделенные виртуальные машины. Это обеспечивает увеличение емкости хранилища и вычислительной мощности на всех уровнях. В категории "Стандартный" доступно четыре уровня: S1, S2, S3 и S3, высокая плотность (S3 HD).

> [!NOTE]
> Служба подготавливается на определенном уровне. Чтобы перейти к другому уровню для получения дополнительной емкости, нужно подготовить новую службу (обновление на месте не поддерживается). Дополнительные сведения см. в статье [Выбор SKU или ценовой категории для службы поиска Azure](search-sku-tier.md). Чтобы узнать больше о настройке емкости в уже подготовленной службе, ознакомьтесь с разделом [Масштабирование уровней ресурсов для рабочих нагрузок запросов и индексирования в Поиске Azure](search-capacity-planning.md).
>

## <a name="per-subscription-limits"></a>Ограничения подписки
[!INCLUDE [azure-search-limits-per-subscription](../../includes/azure-search-limits-per-subscription.md)]

## <a name="per-service-limits"></a>Ограничения службы
[!INCLUDE [azure-search-limits-per-service](../../includes/azure-search-limits-per-service.md)]

## <a name="per-index-limits"></a>Ограничения индекса
Существует прямое соответствие между ограничениями индексов и индексаторов. Учитывая ограничение в 200 индексов, максимальный предел для индексаторов той же службы также составляет 200.

| Ресурс | Free | базовая; | S1 | S2 | S3 | S3 HD |
| --- | --- | --- | --- | --- | --- | --- |
| Индекс: максимальное число полей на индекс |1000 |100 <sup>1</sup> |1000 |1000 |1000 |1000 |
| Максимальное число профилей оценки на индекс |100 |100 |100 |100 |100 |100 |
| Индекс: максимальное число функций на профиль |8 |8 |8 |8 |8 |8 |
| Индексаторы: максимальная нагрузка индексирования на вызов |10 000 документов |Ограничивается только максимальным числом документов |Ограничивается только максимальным числом документов |Ограничивается только максимальным числом документов |Ограничивается только максимальным числом документов |Недоступно <sup>2</sup> |
| Индексаторы: максимальное время выполнения | 1–3 мин. <sup>3</sup> |24 часа |24 часа |24 часа |24 часа |Недоступно <sup>2</sup> |
| Индексатор BLOB-объектов: максимальный размер BLOB-объектов в МБ |16 |16 |128 |256 |256 |Недоступно <sup>2</sup> |
| Индексатор BLOB-объектов: максимальное число символов в содержимом, извлеченном из BLOB-объекта |32 000 |64 000 |4 млн |4 млн |4 млн |Недоступно <sup>2</sup> |

<sup>1</sup> Уровень "Базовый" — единственный SKU с нижним пределом, составляющим 100 полей на индекс.

<sup>2</sup> Уровень S3 HD сейчас не поддерживает индексаторы. Обратитесь в службу поддержки Azure, если вам срочно требуется эта возможность.

<sup>3</sup> Максимальное время выполнения индексатора для уровня "Бесплатный" составляет 3 минуты для источников больших двоичных объектов, а для прочих источников данных — 1 минуту.

## <a name="document-size-limits"></a>Ограничения размера документа
| Resource (Ресурс) | Free | базовая; | S1 | S2 | S3 | S3 HD |
| --- | --- | --- | --- | --- | --- | --- |
| Размер отдельного документа на API индекса |Меньше 16 МБ |Меньше 16 МБ |Меньше 16 МБ |Меньше 16 МБ |Меньше 16 МБ |Меньше 16 МБ |

Относится к максимальному размеру документа при вызове API индекса. Фактически размер документа ограничивает размер текста запроса API индекса. Так как пакет из нескольких документов можно передать в API индекса за один раз, фактически предельный размер зависит от того, сколько документов находится в пакете. Для пакета с одним документом максимальный размер документа составляет 16 МБ данных JSON.

Чтобы уменьшить размер документа, не забудьте исключить из запроса недоступные для запроса данные. Образы и другие двоичные данные не запрашиваются напрямую и не должны храниться в индексе. Чтобы добавить в результаты поиска недоступные для запроса данные, определите поле, недоступное для поиска, в котором хранится ссылка на URL-адрес ресурса.

## <a name="queries-per-second-qps"></a>Число запросов в секунду (QPS)

Оценка QPS должна отдельно проводиться каждым клиентом. Основными определителями QPS являются размер и сложность индексов, размер и сложность запросов, а также объем трафика. Если такие факторы неизвестны, оценка не будет информативной.

Прогнозируемость показателей повышается, если оцениваются службы, работающие в выделенных ресурсах (категорий "Базовый" и "Стандартный"). Можно точнее оценить QPS, так как вы можете контролировать больше параметров. Рекомендации по оценке см. в разделе о [производительности и оптимизации службы "Поиск Azure"](search-performance-optimization.md).

## <a name="api-request-limits"></a>Ограничения запроса API
* Максимум 16 МБ на один запрос <sup>1</sup>
* Максимальная длина URL-адреса — 8 КБ.
* Максимум 1000 документов на одну операцию загрузки индексов, объединения или удаления.
* Максимум 32 поля в предложении $orderby.
* Максимальный размер поискового запроса — 32 766 байтов (32 КБ минус 2 байта) текста в кодировке UTF-8.

<sup>1</sup> В Поиске Azure размер текста запроса должен быть не больше 16 МБ. Это накладывает фактическое ограничение на отдельные поля или коллекции, для которых теоретические ограничения не установлены (дополнительные сведения о составе и ограничениях полей см. в разделе [Supported data types (Azure Search)](https://msdn.microsoft.com/library/azure/dn798938.aspx) (Поддерживаемые типы данных (Поиск Azure))).

## <a name="api-response-limits"></a>Ограничения ответа API
* Максимум 1000 документов на одну страницу результатов поиска.
* Максимум 100 предложений на один запрос API предложений.

## <a name="api-key-limits"></a>Ограничения ключа API
Ключи API используются для проверки подлинности в службе. Существует два типа ключей. Ключи администратора указываются в заголовке запроса и предоставляют доступ к службе на чтение и запись. Ключи запросов доступны только для чтения, они указываются в URL-адресе и обычно передаются в клиентские приложения.

* Максимум 2 ключа администратора на одну службу.
* Максимум 50 ключей запросов на одну службу.
