---
title: "профили aaaScoring (Azure поиска REST API версия 2015-02-28-Preview) | Документы Microsoft"
description: "Поиск Azure — это размещенная облачная служба поиска, которая поддерживает настройку ранжированных результатов на основе определяемых пользователем профилей повышения."
services: search
documentationcenter: 
author: HeidiSteen
manager: jhubbard
editor: 
ms.assetid: bfd62649-13d7-40b3-a8fa-85521a15084d
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.author: heidist
ms.date: 10/27/2016
ms.openlocfilehash: 17f83fdf6818dc6ffcc3e04f5d0185c6f646b63d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="scoring-profiles-azure-search-rest-api-version-2015-02-28-preview"></a><span data-ttu-id="12fb6-103">Профили оценки (API REST службы "Поиск Azure", версия 2015-02-28-Preview)</span><span class="sxs-lookup"><span data-stu-id="12fb6-103">Scoring Profiles (Azure Search REST API Version 2015-02-28-Preview)</span></span>
> [!NOTE]
> <span data-ttu-id="12fb6-104">В этой статье описывается профилей оценки в hello [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span><span class="sxs-lookup"><span data-stu-id="12fb6-104">This article describes scoring profiles in hello [2015-02-28-Preview](search-api-2015-02-28-preview.md).</span></span> <span data-ttu-id="12fb6-105">В настоящее время нет никаких различий между hello `2016-09-01` версии, указанные в [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) и hello `2015-02-28-Preview` версии описанные здесь, и мы в этом документе все равно в покрытие tooprovide документа через hello все API.</span><span class="sxs-lookup"><span data-stu-id="12fb6-105">Currently there is no difference between hello `2016-09-01` version documented on [MSDN](http://msdn.microsoft.com/library/azure/mt183328.aspx) and hello `2015-02-28-Preview` version described here, but we offer this document anyway in order tooprovide document coverage across hello entire API.</span></span>
>
>

## <a name="overview"></a><span data-ttu-id="12fb6-106">Обзор</span><span class="sxs-lookup"><span data-stu-id="12fb6-106">Overview</span></span>
<span data-ttu-id="12fb6-107">Оценка — toohello вычисления оценки поиска для всех элементов, возвращенных в результатах поиска.</span><span class="sxs-lookup"><span data-stu-id="12fb6-107">Scoring refers toohello computation of a search score for every item returned in search results.</span></span> <span data-ttu-id="12fb6-108">Оценка Hello является индикатором релевантности элемента в контексте hello hello текущей операции поиска.</span><span class="sxs-lookup"><span data-stu-id="12fb6-108">hello score is an indicator of an item's relevance in hello context of hello current search operation.</span></span> <span data-ttu-id="12fb6-109">Здравствуйте, высокая оценка hello, hello большей степени hello элемента.</span><span class="sxs-lookup"><span data-stu-id="12fb6-109">hello higher hello score, hello more relevant hello item.</span></span> <span data-ttu-id="12fb6-110">В результатах поиска элементы являются ранг, начиная от высокой toolow, в зависимости от оценки поиска hello, вычисленных для каждого элемента.</span><span class="sxs-lookup"><span data-stu-id="12fb6-110">In search results, items are rank ordered from high toolow, based on hello search score calculated for each item.</span></span>

<span data-ttu-id="12fb6-111">Поиск Azure использует оценки toocompute начальная оценка по умолчанию, но вы можете настроить вычисление hello с помощью профиля оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-111">Azure Search uses default scoring toocompute an initial score, but you can customize hello calculation through a scoring profile.</span></span> <span data-ttu-id="12fb6-112">Профили оценки предоставляют больший контроль над hello ранжирования элементов в результатах поиска.</span><span class="sxs-lookup"><span data-stu-id="12fb6-112">Scoring profiles give you greater control over hello ranking of items in search results.</span></span> <span data-ttu-id="12fb6-113">Например может требуется tooboost элементов на основании потенциальный доход, повысить более новые элементы или возможно повысить приоритет элементов, которые были на складе слишком долго.</span><span class="sxs-lookup"><span data-stu-id="12fb6-113">For example, you might want tooboost items based on their revenue potential, promote newer items, or perhaps boost items that have been in inventory too long.</span></span>

<span data-ttu-id="12fb6-114">Профиль повышения является частью определения индекса hello, состоящий из полей, функций и параметров.</span><span class="sxs-lookup"><span data-stu-id="12fb6-114">A scoring profile is part of hello index definition, composed of fields, functions, and parameters.</span></span>

<span data-ttu-id="12fb6-115">toogive вас о том, что профиль оценки, как выглядит, hello следующем примере показан простой профиль с именем «geo».</span><span class="sxs-lookup"><span data-stu-id="12fb6-115">toogive you an idea of what a scoring profile looks like, hello following example shows a simple profile named 'geo'.</span></span> <span data-ttu-id="12fb6-116">Повышает приоритет элементов, содержащих условие поиска hello в hello `hotelName` поля.</span><span class="sxs-lookup"><span data-stu-id="12fb6-116">This one boosts items that have hello search term in hello `hotelName` field.</span></span> <span data-ttu-id="12fb6-117">Она также использует hello `distance` функции toofavor элементов в пределах 10 км от текущего расположения hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-117">It also uses hello `distance` function toofavor items that are within ten kilometers of hello current location.</span></span> <span data-ttu-id="12fb6-118">Если кто-то ищет hello термин «ИНН» и «ИНН» toobe часть hello в название отеля, документы, содержащие слово «ИНН» будут выше в результатах поиска hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-118">If someone searches on hello term 'inn', and 'inn' happens toobe part of hello hotel name, documents that include hotels with 'inn' will appear higher in hello search results.</span></span>

    "scoringProfiles": [
      {
        "name": "geo",
        "text": {
          "weights": { "hotelName": 5 }
        },
        "functions": [
          {
            "type": "distance",
            "boost": 5,
            "fieldName": "location",
            "interpolation": "logarithmic",
            "distance": {
              "referencePointParameter": "currentLocation",
              "boostingDistance": 10
            }
          }
        ]
      }
    ]

<span data-ttu-id="12fb6-119">toouse — этот профиль оценки запрос создан профиль toospecify hello в строке запроса hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-119">toouse this scoring profile, your query is formulated toospecify hello profile on hello query string.</span></span> <span data-ttu-id="12fb6-120">Ниже запрос hello, обратите внимание, в параметр запроса hello, `scoringProfile=geo` в запросе hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-120">In hello query below, notice hello query parameter, `scoringProfile=geo` in hello request.</span></span>

    GET /indexes/hotels/docs?search=inn&scoringProfile=geo&scoringParameter=currentLocation--122.123,44.77233&api-version=2015-02-28-Preview

<span data-ttu-id="12fb6-121">Этот запрос выполняет поиск по hello термин «ИНН» и передает в текущем расположении hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-121">This query searches on hello term 'inn' and passes in hello current location.</span></span> <span data-ttu-id="12fb6-122">Обратите внимание, что этот запрос содержит другие параметры, такие как `scoringParameter`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-122">Note that this query includes other parameters, such as `scoringParameter`.</span></span> <span data-ttu-id="12fb6-123">Параметры запроса описаны в [разделе, в котором рассматривается поиск документов (API службы "Поиск Azure")](search-api-2015-02-28-preview.md#SearchDocs).</span><span class="sxs-lookup"><span data-stu-id="12fb6-123">Query parameters are described in [Search Documents (Azure Search API)](search-api-2015-02-28-preview.md#SearchDocs).</span></span>

<span data-ttu-id="12fb6-124">Нажмите кнопку [пример](#example) tooreview более подробный пример профиля оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-124">Click [Example](#example) tooreview a more detailed example of a scoring profile.</span></span>

## <a name="what-is-default-scoring"></a><span data-ttu-id="12fb6-125">Что такое оценка по умолчанию?</span><span class="sxs-lookup"><span data-stu-id="12fb6-125">What is default scoring?</span></span>
<span data-ttu-id="12fb6-126">В процессе оценки вычисляется оценка поиска для каждого элемента в упорядоченном по рангу результирующем наборе.</span><span class="sxs-lookup"><span data-stu-id="12fb6-126">Scoring computes a search score for each item in a rank ordered result set.</span></span> <span data-ttu-id="12fb6-127">Каждый элемент в наборе результатов поиска назначается Оценка поиска, то toolowest высоким рангом.</span><span class="sxs-lookup"><span data-stu-id="12fb6-127">Every item in a search result set is assigned a search score, then ranked highest toolowest.</span></span> <span data-ttu-id="12fb6-128">Элементы с более высокой оценкой hello возвращаются toohello приложения.</span><span class="sxs-lookup"><span data-stu-id="12fb6-128">Items with hello higher scores are returned toohello application.</span></span> <span data-ttu-id="12fb6-129">По умолчанию hello возвращаются первые 50, но можно использовать hello `$top` tooreturn параметр меньшее или большее число элементов (вверх too1000 в одном ответе).</span><span class="sxs-lookup"><span data-stu-id="12fb6-129">By default, hello top 50 are returned, but you can use hello `$top` parameter tooreturn a smaller or larger number of items (up too1000 in a single response).</span></span>

<span data-ttu-id="12fb6-130">По умолчанию оценка поиска вычисляется на основе статистических свойств данных hello и hello запроса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-130">By default, a search score is computed based on statistical properties of hello data and hello query.</span></span> <span data-ttu-id="12fb6-131">Поиск Azure находит документы, содержащие условия поиска hello в строке запроса hello (некоторые или все, в зависимости от `searchMode`), отдавая предпочтение документам, которые содержат несколько экземпляров hello поисковому запросу.</span><span class="sxs-lookup"><span data-stu-id="12fb6-131">Azure Search finds documents that include hello search terms in hello query string (some or all, depending on `searchMode`), favoring documents that contain many instances of hello search term.</span></span> <span data-ttu-id="12fb6-132">Оценка поиска Hello поднимается выше даже если между hello совокупности данных, но часто — внутри документа hello редких hello термин.</span><span class="sxs-lookup"><span data-stu-id="12fb6-132">hello search score goes up even higher if hello term is rare across hello data corpus, but common within hello document.</span></span> <span data-ttu-id="12fb6-133">основой Hello релевантности toocomputing этот подход известен как TF-IDF или (частота термина обратная частота документа).</span><span class="sxs-lookup"><span data-stu-id="12fb6-133">hello basis for this approach toocomputing relevance is known as TF-IDF or (term frequency-inverse document frequency).</span></span>

<span data-ttu-id="12fb6-134">Если предположить, что пользовательская сортировка не применяется, результаты ранжируются по оценке поиска, прежде чем они будут возвращены вызывающему приложению toohello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-134">Assuming there is no custom sorting, results are then ranked by search score before they are returned toohello calling application.</span></span> <span data-ttu-id="12fb6-135">Если `$top` не указан, 50 элементов с hello наибольший поиска возвращаются оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-135">If `$top` is not specified, 50 items having hello highest search score are returned.</span></span>

<span data-ttu-id="12fb6-136">Значения оценки поиска в результирующем наборе могут повторяться.</span><span class="sxs-lookup"><span data-stu-id="12fb6-136">Search score values can be repeated throughout a result set.</span></span> <span data-ttu-id="12fb6-137">Например, может быть 10 элементов с оценкой 1,2, 20 элементов с оценкой 1,0 и 20 элементов с оценкой 0,5.</span><span class="sxs-lookup"><span data-stu-id="12fb6-137">For example, you might have 10 items with a score of 1.2, 20 items with a score of 1.0, and 20 items with a score of 0.5.</span></span> <span data-ttu-id="12fb6-138">При нескольких имеют hello одинаковая Оценка поиска, hello упорядочение элементов не определен и может быть нестабильным.</span><span class="sxs-lookup"><span data-stu-id="12fb6-138">When multiple hits have hello same search score, hello ordering of same scored items is not defined, and is not stable.</span></span> <span data-ttu-id="12fb6-139">Снова запустите запрос hello и могут отображаться элементы смещается положение.</span><span class="sxs-lookup"><span data-stu-id="12fb6-139">Run hello query again, and you might see items shift position.</span></span> <span data-ttu-id="12fb6-140">Если есть два элемента с одинаковой оценкой, невозможно определить, какой из них отобразится первым.</span><span class="sxs-lookup"><span data-stu-id="12fb6-140">Given two items with an identical score, there is no guarantee which one appears first.</span></span>

## <a name="when-toouse-custom-scoring"></a><span data-ttu-id="12fb6-141">Когда toouse пользовательские оценки</span><span class="sxs-lookup"><span data-stu-id="12fb6-141">When toouse custom scoring</span></span>
<span data-ttu-id="12fb6-142">Если ранжирования поведение по умолчанию hello не перейти в достаточной степени удовлетворяет вашим бизнес-целям, следует создать один или несколько профилей оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-142">You should create one or more scoring profiles when hello default ranking behavior doesn’t go far enough in meeting your business objectives.</span></span> <span data-ttu-id="12fb6-143">Например, вы можете решить, что при поиске следует предпочитать вновь добавленные элементы.</span><span class="sxs-lookup"><span data-stu-id="12fb6-143">For example, you might decide that search relevance should favor newly added items.</span></span> <span data-ttu-id="12fb6-144">Аналогично, у вас может быть поле, содержащее удельную прибыль, или другое поле, указывающее потенциальный доход.</span><span class="sxs-lookup"><span data-stu-id="12fb6-144">Likewise, you might have a field that contains profit margin, or some other field indicating revenue potential.</span></span> <span data-ttu-id="12fb6-145">Повышение приоритета элементов, которые дают преимущества tooyour бизнеса может быть важным фактором при решении toouse профилей оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-145">Boosting hits that bring benefits tooyour business can be an important factor in deciding toouse scoring profiles.</span></span>

<span data-ttu-id="12fb6-146">Упорядочивание на основе релевантности также реализуется с помощью профилей оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-146">Relevancy-based ordering is also implemented through scoring profiles.</span></span> <span data-ttu-id="12fb6-147">Рассмотрите возможность страниц, которые вы использовали в прошлом hello, позволяющие сортировать по цене, дате, оценка или релевантности результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="12fb6-147">Consider search results pages you’ve used in hello past that let you sort by price, date, rating, or relevance.</span></span> <span data-ttu-id="12fb6-148">В поиске Azure профили оценки диска параметр «релевантности» hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-148">In Azure Search, scoring profiles drive hello 'relevance' option.</span></span> <span data-ttu-id="12fb6-149">Вы, необходимом toodeliver по бизнес-целями и типом результатов поиска hello допустимому Hello определение релевантности.</span><span class="sxs-lookup"><span data-stu-id="12fb6-149">hello definition of relevance is controlled by you, predicated on business objectives and hello type of search experience you want toodeliver.</span></span>

<a name="example"></a>

## <a name="example"></a><span data-ttu-id="12fb6-150">Пример</span><span class="sxs-lookup"><span data-stu-id="12fb6-150">Example</span></span>
<span data-ttu-id="12fb6-151">Как отмечалось ранее, пользовательская оценка реализуется с профилей оценки, определенных в схеме индекса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-151">As noted, customized scoring is implemented through scoring profiles defined in an index schema.</span></span>

<span data-ttu-id="12fb6-152">В этом примере показано hello схема индекса с двумя профилями оценки (`boostGenre`, `newAndHighlyRated`).</span><span class="sxs-lookup"><span data-stu-id="12fb6-152">This example shows hello schema of an index with two scoring profiles (`boostGenre`, `newAndHighlyRated`).</span></span> <span data-ttu-id="12fb6-153">Любой запрос к этому индексу, включающий профиль в качестве параметра запроса будет использовать hello профиль tooscore hello результирующий набор.</span><span class="sxs-lookup"><span data-stu-id="12fb6-153">Any query against this index that includes either profile as a query parameter will use hello profile tooscore hello result set.</span></span>

    {
      "name": "musicstoreindex",
      "fields": [
        { "name": "key", "type": "Edm.String", "key": true },
        { "name": "albumTitle", "type": "Edm.String" },
        { "name": "albumUrl", "type": "Edm.String", "filterable": false },
        { "name": "genre", "type": "Edm.String" },
        { "name": "genreDescription", "type": "Edm.String", "filterable": false },
        { "name": "artistName", "type": "Edm.String" },
        { "name": "orderableOnline", "type": "Edm.Boolean" },
        { "name": "rating", "type": "Edm.Int32" },
        { "name": "tags", "type": "Collection(Edm.String)" },
        { "name": "price", "type": "Edm.Double", "filterable": false },
        { "name": "margin", "type": "Edm.Int32", "retrievable": false },
        { "name": "inventory", "type": "Edm.Int32" },
        { "name": "lastUpdated", "type": "Edm.DateTimeOffset" }
      ],
      "scoringProfiles": [
        {
          "name": "boostGenre",
          "text": {
            "weights": {
              "albumTitle": 1.5,
              "genre": 5,
              "artistName": 2
            }
          }
        },
        {
          "name": "newAndHighlyRated",
          "functions": [
            {
              "type": "freshness",
              "fieldName": "lastUpdated",
              "boost": 10,
              "interpolation": "quadratic",
              "freshness": {
                "boostingDuration": "P365D"
              }
            },
            {
              "type": "magnitude",
              "fieldName": "rating",
              "boost": 10,
              "interpolation": "linear",
              "magnitude": {
                "boostingRangeStart": 1,
                "boostingRangeEnd": 5,
                "constantBoostBeyondRange": false
              }
            }
          ]
        }
      ],
      "suggesters": [
        {
          "name": "sg",
          "searchMode": "analyzingInfixMatching",
          "sourceFields": ["albumTitle", "artistName"]
        }
      ]
    }


## <a name="workflow"></a><span data-ttu-id="12fb6-154">Рабочий процесс</span><span class="sxs-lookup"><span data-stu-id="12fb6-154">Workflow</span></span>
<span data-ttu-id="12fb6-155">tooimplement пользовательские оценки поведение, добавить схему toohello профиль оценки, определяющую hello индекса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-155">tooimplement custom scoring behavior, add a scoring profile toohello schema that defines hello index.</span></span> <span data-ttu-id="12fb6-156">Можно создать до too16 профилей оценки в индексе (см. [ограничения служб](search-limits-quotas-capacity.md)), но одновременно в одном запросе можно указать только один профиль.</span><span class="sxs-lookup"><span data-stu-id="12fb6-156">You can have up too16 scoring profiles within an index (see [Service Limits](search-limits-quotas-capacity.md)), but you can only specify one profile at time in any given query.</span></span>

<span data-ttu-id="12fb6-157">Начать с hello [шаблона](#bkmk_template) приведенные в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="12fb6-157">Start with hello [Template](#bkmk_template) provided in this topic.</span></span>

<span data-ttu-id="12fb6-158">Введите имя.</span><span class="sxs-lookup"><span data-stu-id="12fb6-158">Provide a name.</span></span> <span data-ttu-id="12fb6-159">Профили оценки являются обязательными, но при добавлении одного hello имя является обязательным.</span><span class="sxs-lookup"><span data-stu-id="12fb6-159">Scoring profiles are optional, but if you add one, hello name is required.</span></span> <span data-ttu-id="12fb6-160">Быть убедиться, что toofollow hello соглашения об именовании полей (начинается с буквы, позволяет избежать специальных символов и зарезервированных слов).</span><span class="sxs-lookup"><span data-stu-id="12fb6-160">Be sure toofollow hello naming conventions for fields (starts with a letter, avoids special characters and reserved words).</span></span> <span data-ttu-id="12fb6-161">Правила именования приведены в статье [Правила именования](http://msdn.microsoft.com/library/azure/dn857353.aspx) .</span><span class="sxs-lookup"><span data-stu-id="12fb6-161">See [Naming Rules](http://msdn.microsoft.com/library/azure/dn857353.aspx) for more information.</span></span>

<span data-ttu-id="12fb6-162">текст Hello hello профиль оценки состоит из взвешенных полей и функций.</span><span class="sxs-lookup"><span data-stu-id="12fb6-162">hello body of hello scoring profile is constructed from weighted fields and functions.</span></span>

### <a name="weights"></a><span data-ttu-id="12fb6-163">Weights</span><span class="sxs-lookup"><span data-stu-id="12fb6-163">Weights</span></span>
<span data-ttu-id="12fb6-164">Hello `weights` пары имя значение, присвоить полю относительный вес tooa указывает свойства профиля.</span><span class="sxs-lookup"><span data-stu-id="12fb6-164">hello `weights` property of a scoring profile specifies name-value pairs that assign a relative weight tooa field.</span></span> <span data-ttu-id="12fb6-165">В hello [пример](#example), поля albumTitle, genre и artistName hello: повышенного 1.5, 5 и 2, соответственно.</span><span class="sxs-lookup"><span data-stu-id="12fb6-165">In hello [Example](#example), hello albumTitle, genre, and artistName fields are boosted 1.5, 5, and 2, respectively.</span></span> <span data-ttu-id="12fb6-166">Почему для genre приоритет повышен намного больше, чем другие hello?</span><span class="sxs-lookup"><span data-stu-id="12fb6-166">Why is genre boosted so much higher than hello others?</span></span> <span data-ttu-id="12fb6-167">Если выполняется поиск данных, несколько однородных (как это бывает hello «жанр» в hello `musicstoreindex`), может потребоваться большая Вариативность в относительный вес hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-167">If search is conducted over data that is somewhat homogeneous (as is hello case with 'genre' in hello `musicstoreindex`), you might need a larger variance in hello relative weights.</span></span> <span data-ttu-id="12fb6-168">Например, в hello `musicstoreindex`, «рок» появляется как жанр и в идентично сформулированных описаниях жанра.</span><span class="sxs-lookup"><span data-stu-id="12fb6-168">For example, in hello `musicstoreindex`, 'rock' appears as both a genre and in identically phrased genre descriptions.</span></span> <span data-ttu-id="12fb6-169">Описание жанра toooutweigh следует hello жанра, полю genre потребуется гораздо больший относительный вес.</span><span class="sxs-lookup"><span data-stu-id="12fb6-169">If you want genre toooutweigh genre description, hello genre field will need a much higher relative weight.</span></span>

### <a name="functions"></a><span data-ttu-id="12fb6-170">Функции</span><span class="sxs-lookup"><span data-stu-id="12fb6-170">Functions</span></span>
<span data-ttu-id="12fb6-171">Функции используются, когда необходимы дополнительные вычисления для определенных контекстов.</span><span class="sxs-lookup"><span data-stu-id="12fb6-171">Functions are used when additional calculations are required for specific contexts.</span></span> <span data-ttu-id="12fb6-172">Допустимые типы функций: `freshness`, `magnitude`, `distance` и `tag`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-172">Valid function types are `freshness`, `magnitude`, `distance` and `tag`.</span></span> <span data-ttu-id="12fb6-173">Каждая функция имеет параметры, которые являются уникальными tooit.</span><span class="sxs-lookup"><span data-stu-id="12fb6-173">Each function has parameters that are unique tooit.</span></span>

* <span data-ttu-id="12fb6-174">`freshness`можно использовать при необходимости — tooboost с нового или старого элемента.</span><span class="sxs-lookup"><span data-stu-id="12fb6-174">`freshness` should be used when you want tooboost by how new or old an item is.</span></span> <span data-ttu-id="12fb6-175">Эта функция может использоваться только с полями типа "дата и время" (`Edm.DataTimeOffset`).</span><span class="sxs-lookup"><span data-stu-id="12fb6-175">This function can only be used with datetime fields (`Edm.DataTimeOffset`).</span></span> <span data-ttu-id="12fb6-176">Примечание hello `boostingDuration` атрибут используется только с функцией актуальность hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-176">Note hello `boostingDuration` attribute is used only with hello freshness function.</span></span>
* <span data-ttu-id="12fb6-177">`magnitude`можно использовать при необходимости — tooboost на основе как большими или очень маленькими числовые значения.</span><span class="sxs-lookup"><span data-stu-id="12fb6-177">`magnitude` should be used when you want tooboost based on how high or low a numeric value is.</span></span> <span data-ttu-id="12fb6-178">К сценариям, в которых может вызваться эта функция, относится повышение приоритета на основе прибыли, наибольшей цены, наименьшей цены или числа загрузок.</span><span class="sxs-lookup"><span data-stu-id="12fb6-178">Scenarios that call for this function include boosting by profit margin, highest price, lowest price, or a count of downloads.</span></span> <span data-ttu-id="12fb6-179">Можно изменить диапазон hello, высокой toolow, если требуется hello инвертированную схему (например, tooboost более низкой стоимостью элементов больше, чем более дорогими элементами).</span><span class="sxs-lookup"><span data-stu-id="12fb6-179">You can reverse hello range, high toolow, if you want hello inverse pattern (for example, tooboost lower-priced items more than higher-priced items).</span></span> <span data-ttu-id="12fb6-180">Данный диапазон цен от 100 слишком $1, необходимо установить `boostingRangeStart` 100 и `boostingRangeEnd` элементы более низкой стоимостью 1 tooboost hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-180">Given a range of prices from $100 too$1, you would set `boostingRangeStart` at 100 and `boostingRangeEnd` at 1 tooboost hello lower-priced items.</span></span> <span data-ttu-id="12fb6-181">Эта функция может использоваться только с полями типа double и integer.</span><span class="sxs-lookup"><span data-stu-id="12fb6-181">This function can only be used with double and integer fields.</span></span>
* <span data-ttu-id="12fb6-182">`distance`следует использовать при необходимости tooboost по близости или географическому расположению.</span><span class="sxs-lookup"><span data-stu-id="12fb6-182">`distance` should be used when you want tooboost by proximity or geographic location.</span></span> <span data-ttu-id="12fb6-183">Эта функция может использоваться только с полями типа `Edm.GeographyPoint` .</span><span class="sxs-lookup"><span data-stu-id="12fb6-183">This function can only be used with `Edm.GeographyPoint` fields.</span></span>
* <span data-ttu-id="12fb6-184">`tag`следует использовать при необходимости tooboost по тегам общих между документами и поисковые запросы.</span><span class="sxs-lookup"><span data-stu-id="12fb6-184">`tag` should be used when you want tooboost by tags in common between documents and search queries.</span></span> <span data-ttu-id="12fb6-185">Эта функция может использоваться только с полями `Edm.String` и `Collection(Edm.String)`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-185">This function can only be used with `Edm.String` and `Collection(Edm.String)` fields.</span></span>

#### <a name="rules-for-using-functions"></a><span data-ttu-id="12fb6-186">Правила использования функции</span><span class="sxs-lookup"><span data-stu-id="12fb6-186">Rules for using functions</span></span>
* <span data-ttu-id="12fb6-187">Тип функции (freshness, magnitude, distance, tag) необходимо указывать в нижнем регистре.</span><span class="sxs-lookup"><span data-stu-id="12fb6-187">Function type (freshness, magnitude, distance, tag) must be lower case.</span></span>
* <span data-ttu-id="12fb6-188">Функции не могут содержать значения NULL или пустые значения.</span><span class="sxs-lookup"><span data-stu-id="12fb6-188">Functions cannot include null or empty values.</span></span> <span data-ttu-id="12fb6-189">В частности, если добавить поле fieldname, у вас есть tooset его toosomething.</span><span class="sxs-lookup"><span data-stu-id="12fb6-189">Specifically, if you include fieldname, you have tooset it toosomething.</span></span>
* <span data-ttu-id="12fb6-190">Функции могут быть только примененных toofilterable поля.</span><span class="sxs-lookup"><span data-stu-id="12fb6-190">Functions can only be applied toofilterable fields.</span></span> <span data-ttu-id="12fb6-191">Дополнительные сведения о фильтруемых полях см. в разделе [Создание индекса](search-api-2015-02-28-preview.md#CreateIndex).</span><span class="sxs-lookup"><span data-stu-id="12fb6-191">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) for more information about filterable fields.</span></span>
* <span data-ttu-id="12fb6-192">Функции могут быть только примененных toofields, определенные в коллекции fields hello индекса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-192">Functions can only be applied toofields that are defined in hello fields collection of an index.</span></span>

<span data-ttu-id="12fb6-193">После определения индекса hello постройте индекс hello, загрузив схему индекса hello, и документы.</span><span class="sxs-lookup"><span data-stu-id="12fb6-193">After hello index is defined, build hello index by uploading hello index schema, followed by documents.</span></span> <span data-ttu-id="12fb6-194">Инструкции по этим операциям приведены в разделах [Создание индекса](search-api-2015-02-28-preview.md#CreateIndex) и [Добавление или обновление документов](search-api-2015-02-28-preview.md#AddOrUpdateDocuments).</span><span class="sxs-lookup"><span data-stu-id="12fb6-194">See [Create Index](search-api-2015-02-28-preview.md#CreateIndex) and [Add or Update Documents](search-api-2015-02-28-preview.md#AddOrUpdateDocuments) for instructions on these operations.</span></span> <span data-ttu-id="12fb6-195">После построения индекса hello необходим работающий профиль оценки, который работает с данными поиска.</span><span class="sxs-lookup"><span data-stu-id="12fb6-195">Once hello index is built, you should have a functional scoring profile that works with your search data.</span></span>

<a name="bkmk_template"></a>

## <a name="template"></a><span data-ttu-id="12fb6-196">Шаблон</span><span class="sxs-lookup"><span data-stu-id="12fb6-196">Template</span></span>
<span data-ttu-id="12fb6-197">В этом разделе показано hello синтаксис и шаблон для профилей оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-197">This section shows hello syntax and template for scoring profiles.</span></span> <span data-ttu-id="12fb6-198">См. слишком[индекса ссылка на атрибут](#bkmk_indexref) в следующем разделе hello для описания атрибутов hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-198">Refer too[Index attribute reference](#bkmk_indexref) in hello next section for descriptions of hello attributes.</span></span>

    ...
    "scoringProfiles": [
      {
        "name": "name of scoring profile",
        "text": (optional, only applies toosearchable fields) {
          "weights": {
            "searchable_field_name": relative_weight_value (positive #'s),
            ...
          }
        },
        "functions": (optional) [
          {
            "type": "magnitude | freshness | distance | tag",
            "boost": # (positive number used as multiplier for raw score != 1),
            "fieldName": "...",
            "interpolation": "constant | linear (default) | quadratic | logarithmic",

            "magnitude": {
              "boostingRangeStart": #,
              "boostingRangeEnd": #,
              "constantBoostBeyondRange": true | false (default)
            }

            // (- or -)

            "freshness": {
              "boostingDuration": "..." (value representing timespan over which boosting occurs)
            }

            // (- or -)

            "distance": {
              "referencePointParameter": "...", (parameter toobe passed in queries toouse as reference location)
              "boostingDistance": # (hello distance in kilometers from hello reference location where hello boosting range ends)
            }

            // (- or -)

            "tag": {
              "tagsParameter": "..." (parameter toobe passed in queries toospecify list of tags toocompare against target field)
            }
          }
        ],
        "functionAggregation": (optional, applies only when functions are specified)
            "sum (default) | average | minimum | maximum | firstMatching"
      }
    ],
    "defaultScoringProfile": (optional) "...",
    ...

<a name="bkmk_indexref"></a>

## <a name="scoring-profile-property-reference"></a><span data-ttu-id="12fb6-199">Справочник по свойствам профиля повышения</span><span class="sxs-lookup"><span data-stu-id="12fb6-199">Scoring profile property reference</span></span>
> [!NOTE]
> <span data-ttu-id="12fb6-200">Функция оценки может быть только примененных toofields, которые можно использовать.</span><span class="sxs-lookup"><span data-stu-id="12fb6-200">A scoring function can only be applied toofields that are filterable.</span></span>
>
>

| <span data-ttu-id="12fb6-201">Свойство</span><span class="sxs-lookup"><span data-stu-id="12fb6-201">Property</span></span> | <span data-ttu-id="12fb6-202">Описание</span><span class="sxs-lookup"><span data-stu-id="12fb6-202">Description</span></span> |
| --- | --- |
| `name` |<span data-ttu-id="12fb6-203">Обязательный элемент.</span><span class="sxs-lookup"><span data-stu-id="12fb6-203">Required.</span></span> <span data-ttu-id="12fb6-204">Это имя hello hello профиль оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-204">This is hello name of hello scoring profile.</span></span> <span data-ttu-id="12fb6-205">Он же соглашения об именах поля hello следующим образом.</span><span class="sxs-lookup"><span data-stu-id="12fb6-205">It follows hello same naming conventions of a field.</span></span> <span data-ttu-id="12fb6-206">Оно должно начинаться с буквы, не может содержать точки, двоеточия или @ символов и не может начинаться с фразы hello строки «azureSearch» (с учетом регистра).</span><span class="sxs-lookup"><span data-stu-id="12fb6-206">It must start with a letter, cannot contain dots, colons or @ symbols, and cannot start with hello phrase "azureSearch" (case-sensitive).</span></span> |
| `text` |<span data-ttu-id="12fb6-207">Содержит свойство hello весовые коэффициенты.</span><span class="sxs-lookup"><span data-stu-id="12fb6-207">Contains hello Weights property.</span></span> |
| `weights` |<span data-ttu-id="12fb6-208">необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="12fb6-208">Optional.</span></span> <span data-ttu-id="12fb6-209">Пара "имя-значение", указывающая имя поля и относительный вес.</span><span class="sxs-lookup"><span data-stu-id="12fb6-209">A name-value pair that specifies a field name and relative weight.</span></span> <span data-ttu-id="12fb6-210">Относительный вес должен быть положительным целым числом или числом с плавающей запятой.</span><span class="sxs-lookup"><span data-stu-id="12fb6-210">Relative weight must be a positive integer or floating-point number.</span></span> <span data-ttu-id="12fb6-211">Можно указать имя поля hello без соответствующего веса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-211">You can specify hello field name without a corresponding weight.</span></span> <span data-ttu-id="12fb6-212">Веса — это важность hello используется tooindicate относительный tooanother одно поле.</span><span class="sxs-lookup"><span data-stu-id="12fb6-212">Weights are used tooindicate hello importance of one field relative tooanother.</span></span> |
| `functions` |<span data-ttu-id="12fb6-213">необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="12fb6-213">Optional.</span></span> <span data-ttu-id="12fb6-214">Обратите внимание, что функция оценки может быть только примененных toofields, которые можно использовать.</span><span class="sxs-lookup"><span data-stu-id="12fb6-214">Note that a scoring function can only be applied toofields that are filterable.</span></span> |
| `type` |<span data-ttu-id="12fb6-215">Требуется для функций оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-215">Required for scoring functions.</span></span> <span data-ttu-id="12fb6-216">Указывает тип toouse функции hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-216">Indicates hello type of function toouse.</span></span> <span data-ttu-id="12fb6-217">Допустимые значения: `magnitude`, `freshness`, `distance` и `tag`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-217">Valid values include `magnitude`, `freshness`, `distance` and `tag`.</span></span> <span data-ttu-id="12fb6-218">В каждый профиль оценки можно включить несколько функций.</span><span class="sxs-lookup"><span data-stu-id="12fb6-218">You can include more than one function in each scoring profile.</span></span> <span data-ttu-id="12fb6-219">имя функции Hello должен состоять из строчных букв.</span><span class="sxs-lookup"><span data-stu-id="12fb6-219">hello function name must be lower case.</span></span> |
| `boost` |<span data-ttu-id="12fb6-220">Требуется для функций оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-220">Required for scoring functions.</span></span> <span data-ttu-id="12fb6-221">Положительное число, используемое в качестве множителя для необработанной оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-221">A positive number used as multiplier for raw score.</span></span> <span data-ttu-id="12fb6-222">Он не может быть равно too1.</span><span class="sxs-lookup"><span data-stu-id="12fb6-222">It cannot be equal too1.</span></span> |
| `fieldName` |<span data-ttu-id="12fb6-223">Требуется для функций оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-223">Required for scoring functions.</span></span> <span data-ttu-id="12fb6-224">Функция оценки может быть только примененных toofields, которые являются частью коллекции полей hello hello индекса и таблицы, которые можно использовать.</span><span class="sxs-lookup"><span data-stu-id="12fb6-224">A scoring function can only be applied toofields that are part of hello field collection of hello index, and that are filterable.</span></span> <span data-ttu-id="12fb6-225">Кроме того, каждый тип функции накладывает дополнительные ограничения (freshness используется с полями типа datetime, magnitude — с полями типа integer или double, distance — с полями типа location, а tag — с полями типа string или string collection).</span><span class="sxs-lookup"><span data-stu-id="12fb6-225">In addition, each function type introduces additional restrictions (freshness is used with datetime fields, magnitude with integer or double fields, distance with location fields and tag with string or string collection fields).</span></span> <span data-ttu-id="12fb6-226">В определении функции можно указать только одно поле.</span><span class="sxs-lookup"><span data-stu-id="12fb6-226">You can only specify a single field per function definition.</span></span> <span data-ttu-id="12fb6-227">Для примера toouse magnitude дважды в Здравствуйте того же профиля, потребовалось бы tooinclude два определения magnitude, по одному для каждого поля.</span><span class="sxs-lookup"><span data-stu-id="12fb6-227">For example, toouse magnitude twice in hello same profile, you would need tooinclude two definitions magnitude, one for each field.</span></span> |
| `interpolation` |<span data-ttu-id="12fb6-228">Требуется для функций оценки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-228">Required for scoring functions.</span></span> <span data-ttu-id="12fb6-229">Определяет наклон hello, для которых hello повышения приоритета оценки от начала hello hello диапазон toohello конец диапазона hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-229">Defines hello slope for which hello score boosting increases from hello start of hello range toohello end of hello range.</span></span> <span data-ttu-id="12fb6-230">Допустимые значения: `linear` (по умолчанию), `constant`, `quadratic` и `logarithmic`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-230">Valid values include `linear` (default), `constant`, `quadratic`, and `logarithmic`.</span></span> <span data-ttu-id="12fb6-231">Дополнительные сведения см. в разделе [Настройка интерполяций](#bkmk_interpolation).</span><span class="sxs-lookup"><span data-stu-id="12fb6-231">See [Set interpolations](#bkmk_interpolation) for details.</span></span> |
| `magnitude` |<span data-ttu-id="12fb6-232">функция оценки magnitude Hello — используется tooalter оценок на основании hello диапазон значений для числового поля.</span><span class="sxs-lookup"><span data-stu-id="12fb6-232">hello magnitude scoring function is used tooalter rankings based on hello range of values for a numeric field.</span></span> <span data-ttu-id="12fb6-233">Ниже приведены некоторые hello наиболее распространенные примеры этого.</span><span class="sxs-lookup"><span data-stu-id="12fb6-233">Some of hello most common usage examples of this are:</span></span><ul><li><span data-ttu-id="12fb6-234">Оценки: Alter hello оценки на основе hello значения в поле «Оценка по звездам» hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-234">Star ratings: Alter hello scoring based on hello value within hello "Star Rating" field.</span></span> <span data-ttu-id="12fb6-235">Если два элемента релевантны, hello элемент с более высоким рейтингом hello будет отображаться первым.</span><span class="sxs-lookup"><span data-stu-id="12fb6-235">When two items are relevant, hello item with hello higher rating will be displayed first.</span></span></li><li><span data-ttu-id="12fb6-236">Поля: Если два документа релевантны, розничный торговец может повышать tooboost документы, которые более высокой маржой.</span><span class="sxs-lookup"><span data-stu-id="12fb6-236">Margin: When two documents are relevant, a retailer may wish tooboost documents that have higher margins first.</span></span></li><li><span data-ttu-id="12fb6-237">Число нажатий: для приложений, которые отслеживают нажмите tooproducts действия или страницам, можно использовать величина tooboost элементов, которые tooget hello большая часть трафика.</span><span class="sxs-lookup"><span data-stu-id="12fb6-237">Click counts: For applications that track click through actions tooproducts or pages, you could use magnitude tooboost items that tend tooget hello most traffic.</span></span></li><li><span data-ttu-id="12fb6-238">Число загрузок: для приложений, которые отслеживают загрузки, Здравствуйте, функция magnitude позволяет повысить приоритет элементов, имеющих hello большинство файлов для загрузки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-238">Download counts: For applications that track downloads, hello magnitude function lets you boost items that have hello most downloads.</span></span></li></ul> |
| `magnitude:boostingRangeStart` |<span data-ttu-id="12fb6-239">Наборы hello начальное значение диапазона "hello", по которому вычисляется амплитуда.</span><span class="sxs-lookup"><span data-stu-id="12fb6-239">Sets hello start value of hello range over which magnitude is scored.</span></span> <span data-ttu-id="12fb6-240">Hello значение должно быть целое число или число с плавающей запятой.</span><span class="sxs-lookup"><span data-stu-id="12fb6-240">hello value must be an integer or floating-point number.</span></span> <span data-ttu-id="12fb6-241">Для оценок по звездам от 1 до 4 — 1.</span><span class="sxs-lookup"><span data-stu-id="12fb6-241">For star ratings of 1 through 4, this would be 1.</span></span> <span data-ttu-id="12fb6-242">Для маржи более 50 % — 50.</span><span class="sxs-lookup"><span data-stu-id="12fb6-242">For margins over 50%, this would be 50.</span></span> |
| `magnitude:boostingRangeEnd` |<span data-ttu-id="12fb6-243">Задает конечное значение диапазона hello, по которому вычисляется амплитуда hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-243">Sets hello end value of hello range over which magnitude is scored.</span></span> <span data-ttu-id="12fb6-244">Hello значение должно быть целое число или число с плавающей запятой.</span><span class="sxs-lookup"><span data-stu-id="12fb6-244">hello value must be an integer or floating-point number.</span></span> <span data-ttu-id="12fb6-245">Для оценок по звездам от 1 до 4 — 4.</span><span class="sxs-lookup"><span data-stu-id="12fb6-245">For star ratings of 1 through 4, this would be 4.</span></span> |
| `magnitude:constantBoostBeyondRange` |<span data-ttu-id="12fb6-246">Допустимые значения: true или false (по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="12fb6-246">Valid values are true or false (default).</span></span> <span data-ttu-id="12fb6-247">Если значение tootrue, hello полное повышение продолжит toodocuments tooapply, имеющих значение для hello целевого поля выше, чем верхнее hello hello диапазона.</span><span class="sxs-lookup"><span data-stu-id="12fb6-247">When set tootrue, hello full boost will continue tooapply toodocuments that have a value for hello target field that’s higher than hello upper end of hello range.</span></span> <span data-ttu-id="12fb6-248">Если значение равно false, повышение функции hello не будет применен toodocuments, имеющим значение для hello целевого поля, находящееся за пределами диапазона hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-248">If false, hello boost of this function won’t be applied toodocuments having a value for hello target field that falls outside of hello range.</span></span> |
| `freshness` |<span data-ttu-id="12fb6-249">функция оценки freshness Hello — используется tooalter ранжирования оценки элементов на основании значений полей DateTimeOffset.</span><span class="sxs-lookup"><span data-stu-id="12fb6-249">hello freshness scoring function is used tooalter ranking scores for items based on values in DateTimeOffset fields.</span></span> <span data-ttu-id="12fb6-250">Например, элемент с более близкой датой может классифицироваться выше, чем старые элементы.</span><span class="sxs-lookup"><span data-stu-id="12fb6-250">For example, an item with a more recent date can be ranked higher than older items.</span></span> <span data-ttu-id="12fb6-251">(Обратите внимание, что также возможно toorank элементы как события календаря с даты в будущем, таким образом, что элементы ближе toohello присутствует может классифицироваться выше, чем дополнительные элементы в будущем hello.) В текущей версии службы hello один конец диапазона hello будет исправлена toohello текущее время.</span><span class="sxs-lookup"><span data-stu-id="12fb6-251">(Note that it is also possible toorank items like calendar events with future dates such that items closer toohello present can be ranked higher than items further in hello future.) In hello current service release, one end of hello range will be fixed toohello current time.</span></span> <span data-ttu-id="12fb6-252">Hello другого элемента — это период, в основании hello последние hello `boostingDuration`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-252">hello other end is a time in hello past based on hello `boostingDuration`.</span></span> <span data-ttu-id="12fb6-253">диапазон времени в будущем hello tooboost используйте отрицательное `boostingDuration`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-253">tooboost a range of times in hello future use a negative `boostingDuration`.</span></span> <span data-ttu-id="12fb6-254">частота Hello, на какие hello повышение приоритета изменений для минимального и максимального диапазона определяется toohello интерполяции применения hello профиль оценки (см. на следующем рисунке hello).</span><span class="sxs-lookup"><span data-stu-id="12fb6-254">hello rate at which hello boosting changes from a maximum and minimum range is determined by hello Interpolation applied toohello scoring profile (see hello figure below).</span></span> <span data-ttu-id="12fb6-255">tooreverse Здравствуйте направление коэффициента, выберите коэффициент повышения приоритета, меньше 1.</span><span class="sxs-lookup"><span data-stu-id="12fb6-255">tooreverse hello boosting factor applied, choose a boost factor of less than 1.</span></span> |
| `freshness:boostingDuration` |<span data-ttu-id="12fb6-256">Задает срок действия, после которого повышение приоритета перестает применяться для определенного документа.</span><span class="sxs-lookup"><span data-stu-id="12fb6-256">Sets an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="12fb6-257">В разделе [задать boostingDuration](#bkmk_boostdur) в следующем разделе, синтаксис и примеры hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-257">See [Set boostingDuration](#bkmk_boostdur) in hello following section for syntax and examples.</span></span> |
| `distance` |<span data-ttu-id="12fb6-258">функция оценки distance Hello — используется tooaffect hello, оценки документов на основе о том, как закрыть или далеко их относительные tooa контрольного географического расположения.</span><span class="sxs-lookup"><span data-stu-id="12fb6-258">hello distance scoring function is used tooaffect hello score of documents based on how close or far they are relative tooa reference geographic location.</span></span> <span data-ttu-id="12fb6-259">Hello эталонное расположение предоставляется как часть запроса hello в параметре (с помощью hello `scoringParameter` параметр запроса) в аргументе lon, LAT..</span><span class="sxs-lookup"><span data-stu-id="12fb6-259">hello reference location is given as part of hello query in a parameter (using hello `scoringParameter` query parameter) as a lon,lat argument.</span></span> |
| `distance:referencePointParameter` |<span data-ttu-id="12fb6-260">Toobe параметр, переданный в toouse запросов в качестве расположения ссылки.</span><span class="sxs-lookup"><span data-stu-id="12fb6-260">A parameter toobe passed in queries toouse as reference location.</span></span> <span data-ttu-id="12fb6-261">scoringParameter — это параметр запроса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-261">scoringParameter is a query parameter.</span></span> <span data-ttu-id="12fb6-262">Описание параметров запроса см. в разделе о [поиске документов](search-api-2015-02-28-preview.md#SearchDocs).</span><span class="sxs-lookup"><span data-stu-id="12fb6-262">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `distance:boostingDistance` |<span data-ttu-id="12fb6-263">Число, указывающее hello расстояние в километрах от расположения ссылок hello, где заканчивается hello, повышая диапазона.</span><span class="sxs-lookup"><span data-stu-id="12fb6-263">A number that indicates hello distance in kilometers from hello reference location where hello boosting range ends.</span></span> |
| `tag` |<span data-ttu-id="12fb6-264">Hello функция оценки используется тег tooaffect hello оценки документов на основе тегов в документах и запросах поиска.</span><span class="sxs-lookup"><span data-stu-id="12fb6-264">hello tag scoring function is used tooaffect hello score of documents based on tags in documents and search queries.</span></span> <span data-ttu-id="12fb6-265">Документы, имеющие теги вместе с hello поисковый запрос будет увеличен.</span><span class="sxs-lookup"><span data-stu-id="12fb6-265">Documents that have tags in common with hello search query will be boosted.</span></span> <span data-ttu-id="12fb6-266">Здравствуйте теги для оценки параметра в каждом запросе поиска предоставляется hello поискового запроса (с помощью hello `scoringParameter` параметр запроса).</span><span class="sxs-lookup"><span data-stu-id="12fb6-266">hello tags for hello search query is provided as a scoring parameter in each search request(using hello `scoringParameter` query parameter).</span></span> |
| `tag:tagsParameter` |<span data-ttu-id="12fb6-267">Toobe параметр передается в запросах toospecify тегов для определенного запроса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-267">A parameter toobe passed in queries toospecify tags for a particular request.</span></span> <span data-ttu-id="12fb6-268">`scoringParameter` — это параметр запроса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-268">`scoringParameter` is a query parameter.</span></span> <span data-ttu-id="12fb6-269">Описание параметров запроса см. в разделе о [поиске документов](search-api-2015-02-28-preview.md#SearchDocs).</span><span class="sxs-lookup"><span data-stu-id="12fb6-269">See [Search Documents](search-api-2015-02-28-preview.md#SearchDocs) for descriptions of query parameters.</span></span> |
| `functionAggregation` |<span data-ttu-id="12fb6-270">необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="12fb6-270">Optional.</span></span> <span data-ttu-id="12fb6-271">Применяется, только если указаны функции.</span><span class="sxs-lookup"><span data-stu-id="12fb6-271">Applies only when functions are specified.</span></span> <span data-ttu-id="12fb6-272">Допустимые значения: `sum` (по умолчанию), `average`, `minimum`, `maximum` и `firstMatching`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-272">Valid values include: `sum` (default), `average`, `minimum`, `maximum`, and `firstMatching`.</span></span> <span data-ttu-id="12fb6-273">Оценка поиска — это одиночное значение, которое вычисляется на основе нескольких переменных, включая несколько функций.</span><span class="sxs-lookup"><span data-stu-id="12fb6-273">A search score is a single value that is computed from multiple variables, including multiple functions.</span></span> <span data-ttu-id="12fb6-274">Эти атрибуты указывает, каким образом показателях hello всех функций hello объединяются в один статистические boost, то применяется toohello базовый индекс документа.</span><span class="sxs-lookup"><span data-stu-id="12fb6-274">This attributes indicates how hello boosts of all hello functions are combined into a single aggregate boost that is then applied toohello base document score.</span></span> <span data-ttu-id="12fb6-275">Hello Базовая оценка основана на значение tf-idf hello, вычисленное на документ hello и hello поискового запроса.</span><span class="sxs-lookup"><span data-stu-id="12fb6-275">hello base score is based on hello tf-idf value computed from hello document and hello search query.</span></span> |
| `defaultScoringProfile` |<span data-ttu-id="12fb6-276">Если при выполнении поискового запроса профиль оценки не указан, используется оценка по умолчанию (только tf-idf).</span><span class="sxs-lookup"><span data-stu-id="12fb6-276">When executing a search request, if no scoring profile is specified, then default scoring is used (tf-idf only).</span></span> <span data-ttu-id="12fb6-277">Имя профиля оценки по умолчанию здесь можно указать, что вызывает toouse поиска Azure этот профиль, когда другой профиль предоставляется в запросе поиска hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-277">A default scoring profile name can be set here, causing Azure Search toouse that profile when no specific profile is given in hello search request.</span></span> |

<a name="bkmk_interpolation"></a>

## <a name="set-interpolations"></a><span data-ttu-id="12fb6-278">Настройка интерполяций</span><span class="sxs-lookup"><span data-stu-id="12fb6-278">Set interpolations</span></span>
<span data-ttu-id="12fb6-279">Интерполяции позволяют toodefine hello наклон, для которых hello повышения приоритета оценки от начала hello hello диапазон toohello конец диапазона hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-279">Interpolations allow you toodefine hello slope for which hello score boosting increases from hello start of hello range toohello end of hello range.</span></span> <span data-ttu-id="12fb6-280">можно использовать следующие интерполяции Hello.</span><span class="sxs-lookup"><span data-stu-id="12fb6-280">hello following interpolations can be used:</span></span>

* <span data-ttu-id="12fb6-281">`Linear`: Для элементов, которые находятся в диапазоне min и hello max элемент toohello hello применяется только в постоянно убывающая величина.</span><span class="sxs-lookup"><span data-stu-id="12fb6-281">`Linear`: For items that are within hello max and min range, hello boost applied toohello item will be done in a constantly decreasing amount.</span></span> <span data-ttu-id="12fb6-282">Линейной интерполяции по умолчанию hello для оценки профиля.</span><span class="sxs-lookup"><span data-stu-id="12fb6-282">Linear is hello default interpolation for a scoring profile.</span></span>
* <span data-ttu-id="12fb6-283">`Constant`: Для элементов, которые находятся в пределах hello начальным и конечным диапазонами Постоянное повышение будет применен toohello результаты ранжирования.</span><span class="sxs-lookup"><span data-stu-id="12fb6-283">`Constant`: For items that are within hello start and ending range, a constant boost will be applied toohello rank results.</span></span>
* <span data-ttu-id="12fb6-284">`Quadratic`: В tooa сравнения линейной интерполяцией с постоянно убывающим повышением приоритета квадратичная интерполяционная функция сначала уменьшается на более мелкие месте и затем мере приближения hello конец диапазона, уменьшается на гораздо большую величину.</span><span class="sxs-lookup"><span data-stu-id="12fb6-284">`Quadratic`: In comparison tooa Linear interpolation that has a constantly decreasing boost, Quadratic will initially decrease at smaller pace and then as it approaches hello end range, it decreases at a much higher interval.</span></span> <span data-ttu-id="12fb6-285">Этот тип интерполяции невозможно использовать в функциях оценки tag.</span><span class="sxs-lookup"><span data-stu-id="12fb6-285">This interpolation option is not allowed in tag scoring functions.</span></span>
* <span data-ttu-id="12fb6-286">`Logarithmic`: В tooa сравнения линейной интерполяцией с постоянно убывающим повышением приоритета логарифмическая интерполяционная функция сначала уменьшается быстрее, и затем мере приближения hello конец диапазона, уменьшается на гораздо меньшую величину.</span><span class="sxs-lookup"><span data-stu-id="12fb6-286">`Logarithmic`: In comparison tooa Linear interpolation that has a constantly decreasing boost, Logarithmic will initially decrease at higher pace and then as it approaches hello end range, it decreases at a much smaller interval.</span></span> <span data-ttu-id="12fb6-287">Этот тип интерполяции невозможно использовать в функциях оценки tag.</span><span class="sxs-lookup"><span data-stu-id="12fb6-287">This interpolation option is not allowed in tag scoring functions.</span></span>

<span data-ttu-id="12fb6-288"><a name="Figure1"></a> ![][1]</span><span class="sxs-lookup"><span data-stu-id="12fb6-288"><a name="Figure1"></a> ![][1]</span></span>

<a name="bkmk_boostdur"></a>

## <a name="set-boostingduration"></a><span data-ttu-id="12fb6-289">Настройка boostingDuration</span><span class="sxs-lookup"><span data-stu-id="12fb6-289">Set boostingDuration</span></span>
<span data-ttu-id="12fb6-290">`boostingDuration`— Это атрибут функции hello актуальность.</span><span class="sxs-lookup"><span data-stu-id="12fb6-290">`boostingDuration` is an attribute of hello freshness function.</span></span> <span data-ttu-id="12fb6-291">Используется tooset прекратит срока, после которого повышение для определенного документа.</span><span class="sxs-lookup"><span data-stu-id="12fb6-291">You use it tooset an expiration period after which boosting will stop for a particular document.</span></span> <span data-ttu-id="12fb6-292">Например tooboost строку продукта или фирменной символики для 10-дневного периода, указать hello 10-дневный период как «P10D» для соответствующих документов.</span><span class="sxs-lookup"><span data-stu-id="12fb6-292">For example, tooboost a product line or brand for a 10-day promotional period, you would specify hello 10-day period as "P10D" for those documents.</span></span> <span data-ttu-id="12fb6-293">Либо укажите tooboost предстоящих событий в hello следующей неделе»-P7D».</span><span class="sxs-lookup"><span data-stu-id="12fb6-293">Or tooboost upcoming events in hello next week specify "-P7D".</span></span>

<span data-ttu-id="12fb6-294">`boostingDuration` необходимо отформатировать как XSD-значение dayTimeDuration (ограниченное подмножество значения длительности ISO 8601).</span><span class="sxs-lookup"><span data-stu-id="12fb6-294">`boostingDuration` must be formatted as an XSD "dayTimeDuration" value (a restricted subset of an ISO 8601 duration value).</span></span> <span data-ttu-id="12fb6-295">Hello схема выглядит следующим образом: `[-]P[nD][T[nH][nM][nS]]`.</span><span class="sxs-lookup"><span data-stu-id="12fb6-295">hello pattern for this is: `[-]P[nD][T[nH][nM][nS]]`.</span></span>

<span data-ttu-id="12fb6-296">в следующей таблице Hello содержит несколько примеров.</span><span class="sxs-lookup"><span data-stu-id="12fb6-296">hello following table provides several examples.</span></span>

| <span data-ttu-id="12fb6-297">Duration</span><span class="sxs-lookup"><span data-stu-id="12fb6-297">Duration</span></span> | <span data-ttu-id="12fb6-298">boostingDuration</span><span class="sxs-lookup"><span data-stu-id="12fb6-298">boostingDuration</span></span> |
| --- | --- |
| <span data-ttu-id="12fb6-299">1 день</span><span class="sxs-lookup"><span data-stu-id="12fb6-299">1 day</span></span> |<span data-ttu-id="12fb6-300">"P1D"</span><span class="sxs-lookup"><span data-stu-id="12fb6-300">"P1D"</span></span> |
| <span data-ttu-id="12fb6-301">2 дня и 12 часов</span><span class="sxs-lookup"><span data-stu-id="12fb6-301">2 days and 12 hours</span></span> |<span data-ttu-id="12fb6-302">"P2DT12H"</span><span class="sxs-lookup"><span data-stu-id="12fb6-302">"P2DT12H"</span></span> |
| <span data-ttu-id="12fb6-303">15 минут</span><span class="sxs-lookup"><span data-stu-id="12fb6-303">15 minutes</span></span> |<span data-ttu-id="12fb6-304">"PT15M"</span><span class="sxs-lookup"><span data-stu-id="12fb6-304">"PT15M"</span></span> |
| <span data-ttu-id="12fb6-305">30 дней, 5 часов, 10 минут и 6,334 секунды</span><span class="sxs-lookup"><span data-stu-id="12fb6-305">30 days, 5 hours, 10 minutes, and 6.334 seconds</span></span> |<span data-ttu-id="12fb6-306">"P30DT5H10M6.334S"</span><span class="sxs-lookup"><span data-stu-id="12fb6-306">"P30DT5H10M6.334S"</span></span> |

<span data-ttu-id="12fb6-307">Дополнительные примеры см. в [документе о типах данных в схеме XML (веб-сайт W3.org)](http://www.w3.org/TR/xmlschema11-2/).</span><span class="sxs-lookup"><span data-stu-id="12fb6-307">For more examples, see [XML Schema: Datatypes (W3.org web site)](http://www.w3.org/TR/xmlschema11-2/).</span></span>

<span data-ttu-id="12fb6-308">**Ознакомьтесь также с разделом** 
[Azure Search Service REST](http://msdn.microsoft.com/library/azure/dn798935.aspx) (REST службы поиска Azure) на сайте MSDN.</span><span class="sxs-lookup"><span data-stu-id="12fb6-308">**See Also**
[Azure Search Service REST API](http://msdn.microsoft.com/library/azure/dn798935.aspx) on MSDN</span></span> <br/><span data-ttu-id="12fb6-309">
[Создание индекса (API Поиска Azure)](http://msdn.microsoft.com/library/azure/dn798941.aspx) (на сайте MSDN).</span><span class="sxs-lookup"><span data-stu-id="12fb6-309">
[Create Index (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798941.aspx) on MSDN</span></span><br/><span data-ttu-id="12fb6-310">
[Добавить оценки индекса для поиска профиля tooa](http://msdn.microsoft.com/library/azure/dn798928.aspx) на сайте MSDN</span><span class="sxs-lookup"><span data-stu-id="12fb6-310">
[Add a scoring profile tooa search index](http://msdn.microsoft.com/library/azure/dn798928.aspx) on MSDN</span></span><br/>

<!--Image references-->
[1]: ./media/search-api-scoring-profiles-2015-02-28-Preview/scoring_interpolations.png
