---
title: "Общие сведения о безопасности базы данных aaaAzure | Документы Microsoft"
description: "В этой статье Обзор функций безопасности hello базы данных SQL Azure."
services: security
documentationcenter: na
author: UnifyCloud
manager: swadhwa
editor: TomSh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/19/2017
ms.author: TomSh
ms.openlocfilehash: 13f14b99d15800e85e9906a9d167eb0adf2135de
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-database-security-overview"></a>Общие сведения о защите базы данных Azure

При управлении базами данных безопасность имеет первостепенное значение и всегда была приоритетной задачей для базы данных SQL Azure. База данных SQL Azure поддерживает безопасность подключения с помощью шифрования соединения и правил брандмауэра. Она поддерживает проверку подлинности с именем пользователя и паролем, а также проверку подлинности Azure Active Directory, в которой используются удостоверения, контролируемые Azure Active Directory. Проверка подлинности использует управление доступом на основе ролей.

База данных SQL Azure поддерживает шифрование, выполнив в реальном времени шифрование и дешифрование базы данных, связанных резервных копий и файлов журнала транзакций хранятся без необходимости изменения toohello приложения.

Корпорация Майкрософт предоставляет дополнительные возможности tooencrypt корпоративные данные.

-   Ячейка уровня шифрования tooencrypt определенных столбцов или даже ячеек данных с разными ключами шифрования.
-   Если требуется аппаратный модуль безопасности или централизованное управление иерархией ключей шифрования, используйте Azure Key Vault с сервером SQL Server на виртуальной машине Azure.
-   Всегда зашифровано (в настоящее время в предварительной версии) делает tooapplications прозрачное шифрование и позволяет клиентам tooencrypt конфиденциальные данные в клиентских приложениях без совместного использования hello ключи шифрования в базе данных SQL.

Аудит базы данных Azure SQL позволяет предприятиям toorecord события tooan аудит входа в систему хранения Azure. Аудит базы данных SQL также интегрируется с Microsoft Power BI toofacilitate детализированные отчеты и анализ.

 Базы данных SQL Azure может быть строго охраняемом toosatisfy наиболее нормативным или требования безопасности, включая HIPAA ISO 27001/27002 и PCI DSS уровня 1, среди прочего. Текущий список сертификатов соответствия требованиям безопасности доступен на hello [Центр управления безопасностью Microsoft Azure site](http://azure.microsoft.com/support/trust-center/services/).

В этой статье рассматриваются основы hello защиты баз данных SQL Microsoft Azure для структурированных, табличные и реляционных данных. В частности, эта статья содержит инструкции по началу работы с ресурсами для защиты данных, контроля доступа и упреждающего мониторинга.

В этой статье Общие сведения о безопасности базы данных Azure основное внимание уделяется hello в следующих областях:

-   Защита данных
-   управление доступом;
-   Упреждающий мониторинг
-   Централизованное управление защитой
-   Azure Marketplace

## <a name="protect-data"></a>Защита данных

База данных SQL обеспечивает защиту данных, шифруя передаваемые данные с использованием протокола [TLS](https://support.microsoft.com/kb/3135244), неактивные данные с использованием [прозрачного шифрования данных](http://go.microsoft.com/fwlink/?LinkId=526242) и используемые данные с помощью функции [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx).

В этом разделе будут освещены следующие вопросы:

-   Шифрование при передаче
-   Шифрование при хранении
-   Шифрование при использовании (клиент)

Другие способы tooencrypt данных, можно воспользоваться.

-   [Шифрование на уровне ячейки](https://msdn.microsoft.com/library/ms179331.aspx) tooencrypt определенных столбцов или даже ячеек данных с разными ключами шифрования.
-   Если требуется аппаратный модуль безопасности или централизованное управление иерархии ключей шифрования, рассмотрите возможность использования [хранилища ключей Azure с сервером SQL Server на виртуальной машине Azure](http://blogs.technet.com/b/kv/archive/2015/01/12/using-the-key-vault-for-sql-server-encryption.aspx).

### <a name="encryption-in-motion"></a>Шифрование при передаче

Распространенной проблемой для всех клиентских и серверных приложениях является hello потребность конфиденциальности при перемещении данных в общедоступных и частных сетях. Перемещение по сети данные не шифруются, существует ли hello вероятность того, что он могут быть перехвачены и кражи неавторизованные пользователи. При работе со службами базы данных, необходимо убедиться, что шифрование данных между сервером и клиентом hello базы данных, а также между серверами баз данных, взаимодействующих друг с другом и с приложениями среднего уровня toomake.

Одна из проблем при администрировании сети заключается в обеспечении безопасности данных, которые передаются между приложениями по ненадежной сети. Можно использовать [TLS/SSL](https://docs.microsoft.com/windows-server/security/tls/transport-layer-security-protocol) tooauthenticate серверов и клиентов и с его помощью tooencrypt сообщений между сторонами hello с проверкой подлинности.

В процессе проверки подлинности hello клиент TLS/SSL отправляет сообщение tooa TLS/SSL сервера и сервера hello в ответ отправляет сведения hello потребности tooauthenticate сам этот сервер hello. Hello клиент и сервер выполняют дополнительный обмен сеансовыми ключами и hello завершение диалоговое окно проверки подлинности. После завершения проверки подлинности между сервером hello и hello клиента, с помощью hello симметричных ключей шифрования, установленных во время процесса проверки подлинности hello может начаться взаимодействие по защищенному протоколом SSL.

TooAzure все подключения к базе данных SQL требование шифрования (SSL/TLS) на все время данных время tooand «в пути» из базы данных hello. SQL Azure использует протокол TLS/SSL tooauthenticate серверов и клиентов, а затем использовать его tooencrypt сообщений между сторонами hello с проверкой подлинности. В строке подключения приложения необходимо указать параметры tooencrypt hello подключения и не tootrust hello сертификата сервера (это выполняется автоматически при копировании строки подключения из hello классический портал Azure), Здравствуйте, в противном случае соединение будет проверяет hello удостоверения сервера hello и будут подвержены атакам слишком» в посредник». Для hello драйвером ADO.NET, например, эти параметры строки соединения: Encrypt = True и TrustServerCertificate = False.

### <a name="encryption-at-rest"></a>Шифрование при хранении
Несколько базу данных безопасного hello меры предосторожности toohelp проектирование система безопасности, проводить шифрование конфиденциальных ресурсов и построение брандмауэра hello серверов баз данных можно перевести. Тем не менее в сценарии, где украдены hello физический носитель (например, диск или ленты резервной копии), злоумышленник может просто восстановить или присоединить базу данных hello и перейдите hello данных.

Одним из решений является tooencrypt hello конфиденциальные данные в базе данных hello и защищает hello ключи, используемые tooencrypt hello данные с помощью сертификата. Это предотвращает попытки без hello ключей с использованием данных hello, но такой тип защиты следует планировать.

эту проблему, SQL Server и Azure SQL поддерживает toosolve [прозрачное шифрование данных (TDE)](https://docs.microsoft.com/sql/relational-databases/securityrecryption/transparent-data-encryption-tde). При прозрачном шифровании данных шифруются файлы данных SQL Server и базы данных SQL Azure. Это так называемое шифрование неактивных данных.

Azure базы данных SQL прозрачное шифрование данных помогает защититься от угроз вредоносных действий hello, выполняя в реальном времени шифрование и расшифровку hello базы данных, связанных резервных копий и файлов журнала транзакций хранятся без изменения toohello приложения.  

TDE шифрует hello хранения всей базы данных с помощью ключа шифрования симметричного ключа вызываемой hello базы данных. В базе данных SQL ключ шифрования базы данных hello защищен используется встроенный сертификат сервера. Hello встроенный сертификат сервера уникален для каждой базы данных SQL server.

Если база данных находится в отношении GeoDR, она защищается различными ключами на разных серверах. Если две базы данных, подключенных toohello таким же сервером, они совместно используют hello один встроенный сертификат. Корпорация Майкрософт автоматически изменяет эти сертификаты не реже, чем раз в 90 дней. Общие сведения о прозрачном шифровании данных см. в [этой статье](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-tde).

### <a name="encryption-in-use-client"></a>Шифрование при использовании (клиент)

Большинство утечки данных включают в себя hello кражи критически важных данных, таких как номера кредитных карт или персональные данные. Базы данных могут содержать ценные конфиденциальные данные. Они могут содержать персональные данные заказчиков, конфиденциальную информацию о конкурентах и сведения, представляющие интеллектуальную собственность. Потеря или кража данных, особенно данных клиентов, могут привести к ущербу для бренда, утрате преимущества перед конкурентами, серьезным штрафам и даже судебным искам.

![Постоянное шифрование](./media/azure-databse-security-overview/azure-database-fig1.png)

[Постоянное шифрование](https://msdn.microsoft.com/library/mt163865.aspx) является функция, предназначенная tooprotect конфиденциальных данных, таких как номера кредитных карт или номера национальной принадлежности (к примеру, США номера социального страхования), хранящихся в базах данных, база данных SQL Azure и SQL Server. Всегда Encrypted позволяет клиентам tooencrypt конфиденциальные данные в клиентских приложениях, не раскрывая toohello ключи шифрования hello ядра базы данных (база данных SQL или SQL Server).

Всегда шифрование позволяет разделить тех, кто владеет данных hello (или ее могли просматривать) и тех, кто управляет hello данных (но не должен иметь к ним доступа). За счет того, локальные администраторы баз данных, операторов облачных баз данных или других высоким уровнем привилегий, неавторизованных пользователей не может получить доступ к hello шифрование данных,

Кроме того постоянное шифрование делает tooapplications прозрачного шифрования. Постоянное шифрование включено драйвер, установленный на клиентском компьютере hello, чтобы он автоматически шифрования и расшифровки конфиденциальных данных в клиентском приложении hello. драйвер Hello шифрует hello данные из конфиденциальных столбцов перед их передачей данных hello toohello компонент Database Engine и автоматически переписывает запросы, чтобы сохранить hello семантику toohello приложения. Аналогичным образом hello драйвер прозрачно расшифровывает данные, хранящиеся в столбцах зашифрованной базы данных, которые содержатся в результатах запроса.

## <a name="access-control"></a>управление доступом;
безопасность tooprovide, база данных SQL управляет доступом с правилами брандмауэра ограничение подключение по IP-адресу механизмов проверки подлинности, требующие tooprove пользователей их идентификаторов и механизмы авторизации ограничений toospecific действий пользователей и данных.

### <a name="database-access"></a>Доступ к базе данных

Защита данных начинается с управление tooyour доступа к данным. Hello центра обработки данных, размещение данных управляет физический доступ toomanage безопасности брандмауэра можно настроить на сетевом уровне hello. Вы также можете управлять доступом, настроив имена входа для проверки подлинности и задав разрешения для ролей сервера и базы данных.

В этом разделе будут освещены следующие вопросы:

-   Брандмауэр и правила брандмауэра
-   Аутентификация
-   Авторизация

#### <a name="firewall-and-firewall-rules"></a>Брандмауэр и правила брандмауэра

База данных SQL Microsoft Azure предоставляет службу реляционных баз данных для Azure и других интернет-приложений. toohelp защитить свои данные, брандмауэр не все сервера базы данных access tooyour, пока вы не укажете компьютеры, на которых есть разрешение. Hello брандмауэр предоставляет доступ toodatabases основании hello, рассчитанные на IP-адреса каждого запроса. Дополнительные сведения см. в статье [Обзор правил брандмауэра базы данных SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).

Hello [базы данных SQL Azure](https://azure.microsoft.com/services/sql-database/) служба доступна только через TCP-порт 1433. tooaccess базы данных SQL с компьютера, убедитесь, что брандмауэр клиентского компьютера разрешает исходящие соединения через TCP-порт 1433. Заблокируйте входящие подключения по протоколу TCP через порт 1433, если они не требуются для других приложений.

#### <a name="authentication"></a>Аутентификация

Проверка подлинности базы данных SQL ссылается toohow проверки подлинности при подключении toohello базы данных. База данных SQL поддерживает два типа аутентификации:

-   **Проверка подлинности SQL:** учетную запись с одним именем входа создается при создании экземпляра SQL логические вызывается hello учетной записи подписчика базы данных SQL. Эта учетная запись используется для подключения [с использованием проверки подлинности SQL Server](https://docs.microsoft.com/azure/sql-database/sql-database-security-overview) (с помощью имени пользователя и пароля). Эта учетная запись имеет права администратора на экземпляре логического сервера hello и для всех пользовательских баз данных присоединен toothat экземпляра. Hello разрешения учетной записи подписчика hello не может быть ограничен. Может существовать только одна такая учетная запись.
-   **Azure проверки подлинности Active Directory:** [проверки подлинности Azure Active Directory](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication) — это механизм подключения tooMicrosoft базы данных SQL Azure и хранилище данных SQL с помощью удостоверений в Azure Active Directory () Azure AD). Это позволяет вам toocentrally Управление удостоверениями пользователей базы данных.

![Аутентификация](./media/azure-databse-security-overview/azure-database-fig2.png)

 К преимуществам проверки подлинности Azure Active Directory относятся:
  - Он предоставляет альтернативные tooSQL проверки подлинности сервера.
  - Также помогает предотвращать распространение hello удостоверений пользователей на серверах базы данных и позволяет смены пароля в одном месте.
  - возможность управления разрешениями базы данных с помощью внешних групп (Azure Active Directory);
  - возможность исключить хранение паролей с помощью встроенной проверки подлинности Windows и других видов проверки подлинности, поддерживаемых Azure Active Directory;

#### <a name="authorization"></a>Авторизация
[Авторизация](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins) ссылается toowhat может делать пользователь в базе данных SQL Azure и осуществляется с помощью учетной записи пользователя базы данных [членство в ролях](https://msdn.microsoft.com/library/ms189121) и [разрешения на уровне объекта](https://msdn.microsoft.com/library/ms191291.aspx). Авторизация — процесс hello определения того, каким защищаемым ресурсам участник может получить доступ и какие операции допускаются для этих ресурсов.

### <a name="application-access"></a>Доступ к приложениям

В этом разделе будут освещены следующие вопросы:

-   Динамическое маскирование данных
-   Безопасность на уровне строк

#### <a name="dynamic-data-masking"></a>Динамическое маскирование данных
В службу поддержки в центре вызовов может идентифицировать абонентов по нескольким цифрам номера кредитных карт или номера социального страхования, но эти данные, которые элементы не должны быть полностью предоставляется toohello службу поддержки.

Можно определить правило маскирования, что маскирует все за исключением hello последние четыре цифры номера кредитной карты в hello результирующем наборе любого запроса или номер социального страхования.

![Динамическое маскирование данных](./media/azure-databse-security-overview/azure-database-fig3.png)

Еще один пример соответствующей маски может быть определенный tooprotect данных персональные данные (PII), так, что разработчик может отправлять запросы к рабочей среде для устранения неполадок, не нарушая правил соответствия.

[SQL базы данных динамической маскировки данных](https://docs.microsoft.com/azure/sql-database/sql-database-dynamic-data-masking-get-started) ограничивает возможность раскрытия конфиденциальных данных, маскируя его toonon правами доступа. Динамическое маскирование данных поддерживается для базы данных SQL Azure версии 12 hello.

[Динамическое маскирование данных](https://docs.microsoft.com/sql/relational-databases/security/dynamic-data-masking) помогает предотвратить несанкционированный доступ к данным toosensitive, позволяя toodesignate объем hello tooreveal конфиденциальных данных с минимальным влиянием на уровень приложения hello. Это функция безопасности на основе политики скрывает hello конфиденциальные данные в hello результирующего набора запроса в заданных полях базы данных, а hello hello базы данных не изменяются.


> [!Note]
> Здравствуйте, администратор базы данных Azure, администратор сервера или сотрудник отдела роли безопасности можно настроить динамическое маскирование данных.

#### <a name="row-level-security"></a>Безопасность на уровне строк
Другим распространенным требованием безопасности для многопользовательских баз данных является [безопасность на уровне строк](https://msdn.microsoft.com/library/dn765131.aspx). Эта функция позволяет toocontrol toorows доступ в таблицу базы данных, основанной на характеристиках hello hello пользователя, выполняющего запрос (например, группа членство или контекст выполнения).

![Безопасность на уровне строк](./media/azure-databse-security-overview/azure-database-fig4.png)

Hello логика ограничения находится на уровне базы данных hello, а не самих данных hello на другом уровне приложения. Hello базы данных система применяет ограничения доступа hello, каждый раз при попытке доступа к данным с любого уровня. Это делает систему безопасности более надежной и устойчивой за счет уменьшения контактной зоны системы безопасности hello.

Безопасность на уровне строк включает управление доступом на основе предикатов. Он поддерживает гибкую, централизованную на основе предикатов оценку, которая может учитывать метаданные или другие критерии Здравствуйте, администратор определяет соответствующим образом. Hello предикат используется как toodetermine критерий ли hello пользователем hello соответствующие права доступа toohello данных на основе атрибутов пользователя. Управление доступом на основе меток можно реализовать с помощью управления доступом на основе предикатов.

## <a name="proactive-monitoring"></a>Упреждающий мониторинг
База данных SQL обеспечивает защиту данных, предоставляя возможности **аудита** и **обнаружения угроз**.

### <a name="auditing"></a>Аудит
Аудит базы данных SQL повышает вашей возможности toogain понимание событий и изменений, возникающих в рамках hello базы данных, включая обновления и запросы к данным hello.

[Аудит базы данных Azure SQL](https://docs.microsoft.com/azure/sql-database/sql-database-auditing-get-started) отслеживает события базы данных и записывает их в журнал аудита tooan вашей учетной записи хранилища Azure. Аудит может помочь вам соблюсти требования нормативов, проанализировать работу с базой данных и получить представление о расхождениях и аномалиях, которые могут указывать на бизнес-проблемы или предполагаемые нарушения безопасности. Аудит позволяет и обеспечивает соблюдение стандартов toocompliance но не гарантирует соответствие.

Аудит базы данных SQL позволяет:

-   **Сохранить** журнал аудита выбранных событий. Можно определить категории аудита toobe действия базы данных.
-   **Создавать отчеты** по действиям, производимым с базой данных. Можно использовать готовые отчеты и панели мониторинга tooget, быстро начать работу с действия и уведомления о событиях.
-   **Анализировать** отчеты. Вы можете искать подозрительные события, необычную деятельность и тенденции.

Существует два метода аудита:

-   **Аудит больших двоичных объектов** -журналы записываются tooAzure хранилища больших двоичных объектов. Это сравнительно новый метод аудита, который обеспечивает более высокую производительность, поддерживает более высокую детализацию аудита на уровне объекта и является более экономически эффективным.
-   **Аудит таблицы** -журналы записываются tooAzure хранилище таблиц.

### <a name="threat-detection"></a>Обнаружение угроз
[Обнаружение угроз базы данных SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection) выявляет подозрительные действия, которые указывают на потенциальные угрозы безопасности. Обнаружение угроз позволяет toorespond toosuspicious событий в базе данных hello, например атак типа SQL injection, как только они происходят. Он предоставляет оповещения и позволяет использовать hello аудита базы данных SQL Azure tooexplore hello подозрительных событий.

![Обнаружение угроз](./media/azure-databse-security-overview/azure-database-fig5.jpg)

Например путем внедрения кода SQL — один из hello общих Web вопросами безопасности приложений на hello Интернета, используемых tooattack управляемых данными приложений. Злоумышленникам воспользоваться преимуществами tooinject уязвимостей приложения злонамеренные инструкции SQL в поля записи приложения, нарушения или изменение данных в базе данных hello.

Сотрудники службы безопасности или другие назначенные администраторы могут получить немедленное уведомление о подозрительных действиях с базой данных. Каждое уведомление предоставляет подробные сведения о подозрительной активности hello и рекомендует как toofurther исследовать и устранить угрозу hello.        

## <a name="centralized-security-management"></a>Централизованное управление защитой

[Центр безопасности Azure](https://azure.microsoft.com/documentation/services/security-center/) помогает предотвратить, обнаружение и ответ toothreats. Она включает встроенные функции мониторинга безопасности и управления политиками для подписок Azure, помогает выявлять угрозы, которые в противном случае могли бы оказаться незамеченными, и взаимодействует с широким комплексом решений по обеспечению безопасности.

[Центр обеспечения безопасности](https://docs.microsoft.com/azure/security-center/security-center-sql-database) помогает защитить данные в базе данных SQL, предоставляя видимость hello безопасности сервера и базы данных. Ниже перечислены возможности центра безопасности:

-   определение политик для шифрования и аудита базы данных SQL;
-   Мониторинг безопасности hello ресурсов баз данных SQL для всех ваших подписок.
-   быстрое выявление и устранение проблем безопасности;
-   интеграция оповещений об [обнаружении угроз для базы данных SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).
-   Центр безопасности поддерживает доступ на основе ролей.

## <a name="azure-marketplace"></a>Azure Marketplace

Hello Azure Marketplace — это online магазин приложений и служб, позволяющий начинающих и независимые поставщики по (ISV) toooffer своим клиентам решения tooAzure вокруг Здравствуй, мир.
объединяет Hello Azure Marketplace экосистемы партнеров Microsoft Azure в toobetter единую платформу обслуживать нашим клиентам и партнерам. Нажмите кнопку [здесь](https://azuremarketplace.microsoft.com/marketplace/apps?search=Database%20Security&page=1) tooglance базы данных безопасности программных продуктов в Azure рынок.

## <a name="next-steps"></a>Дальнейшие действия

- Ознакомьтесь с дополнительными сведениями о [защите базы данных SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial).
- Ознакомьтесь с дополнительными сведениями о [центре безопасности Azure и службе базы данных SQL Azure](https://docs.microsoft.com/azure/security-center/security-center-sql-database).
- toolearn Дополнительные сведения о обнаружение угроз в разделе [обнаружением угроз для базы данных SQL](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).
- toolearn более, в разделе [производительности базы данных SQL, улучшить](https://docs.microsoft.com/azure/sql-database/sql-database-performance-tutorial). 
