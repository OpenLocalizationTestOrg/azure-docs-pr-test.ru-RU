---
title: "aaaConfiguration управления - Microsoft средства моделирования угроз - Azure | Документы Microsoft"
description: "защиту от угроз, которые представлены в hello средства моделирования угроз"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 77aa4352fa61e928a1b7a4ff1d488a55d3d9b970
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-configuration-management--mitigations"></a><span data-ttu-id="42c56-103">Механизм безопасности. Управление конфигурацией | Устранение угроз</span><span class="sxs-lookup"><span data-stu-id="42c56-103">Security Frame: Configuration Management | Mitigations</span></span> 
| <span data-ttu-id="42c56-104">Продукт или служба</span><span class="sxs-lookup"><span data-stu-id="42c56-104">Product/Service</span></span> | <span data-ttu-id="42c56-105">Статья</span><span class="sxs-lookup"><span data-stu-id="42c56-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="42c56-106">**Веб-приложение**</span><span class="sxs-lookup"><span data-stu-id="42c56-106">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="42c56-107">Реализуйте политику безопасности содержимого (CSP) и отключите встроенный скрипт JavaScript</span><span class="sxs-lookup"><span data-stu-id="42c56-107">Implement Content Security Policy (CSP), and disable inline javascript</span></span>](#csp-js)</li><li>[<span data-ttu-id="42c56-108">Включите фильтр межсайтовых сценариев в браузере</span><span class="sxs-lookup"><span data-stu-id="42c56-108">Enable browser's XSS filter</span></span>](#xss-filter)</li><li>[<span data-ttu-id="42c56-109">Необходимо отключить приложений ASP.NET, трассировка и отладка предыдущего toodeployment</span><span class="sxs-lookup"><span data-stu-id="42c56-109">ASP.NET applications must disable tracing and debugging prior toodeployment</span></span>](#trace-deploy)</li><li>[<span data-ttu-id="42c56-110">Получайте доступ к сторонним скриптам JavaScript только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-110">Access third-party javascripts from trusted sources only</span></span>](#js-trusted)</li><li>[<span data-ttu-id="42c56-111">Внедрите защиту от кликджекинга на страницах ASP.NET</span><span class="sxs-lookup"><span data-stu-id="42c56-111">Ensure that authenticated ASP.NET pages incorporate UI Redressing or click-jacking defenses</span></span>](#ui-defenses)</li><li>[<span data-ttu-id="42c56-112">Настройте доступ к веб-приложениям ASP.NET с включенной технологией CORS только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-112">Ensure that only trusted origins are allowed if CORS is enabled on ASP.NET Web Applications</span></span>](#cors-aspnet)</li><li>[<span data-ttu-id="42c56-113">Включите атрибут ValidateRequest на страницах ASP.NET</span><span class="sxs-lookup"><span data-stu-id="42c56-113">Enable ValidateRequest attribute on ASP.NET Pages</span></span>](#validate-aspnet)</li><li>[<span data-ttu-id="42c56-114">Используйте локально размещенные последние версии библиотек JavaScript</span><span class="sxs-lookup"><span data-stu-id="42c56-114">Use locally-hosted latest versions of JavaScript libraries</span></span>](#local-js)</li><li>[<span data-ttu-id="42c56-115">Отключите автоматическое обнаружение типов MIME</span><span class="sxs-lookup"><span data-stu-id="42c56-115">Disable automatic MIME sniffing</span></span>](#mime-sniff)</li><li>[<span data-ttu-id="42c56-116">Удаление заголовков standard server используемых tooavoid веб-сайтов Windows Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-116">Remove standard server headers on Windows Azure Web Sites tooavoid fingerprinting</span></span>](#standard-finger)</li></ul> |
| <span data-ttu-id="42c56-117">**База данных**</span><span class="sxs-lookup"><span data-stu-id="42c56-117">**Database**</span></span> | <ul><li>[<span data-ttu-id="42c56-118">Настройте брандмауэр Windows для доступа к ядру СУБД</span><span class="sxs-lookup"><span data-stu-id="42c56-118">Configure a Windows Firewall for Database Engine Access</span></span>](#firewall-db)</li></ul> |
| <span data-ttu-id="42c56-119">**Веб-интерфейс API**</span><span class="sxs-lookup"><span data-stu-id="42c56-119">**Web API**</span></span> | <ul><li>[<span data-ttu-id="42c56-120">Настройте доступ к веб-API ASP.NET с включенной технологией CORS только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-120">Ensure that only trusted origins are allowed if CORS is enabled on ASP.NET Web API</span></span>](#cors-api)</li><li>[<span data-ttu-id="42c56-121">Шифруйте разделы файлов конфигурации веб-API, содержащие конфиденциальные данные</span><span class="sxs-lookup"><span data-stu-id="42c56-121">Encrypt sections of Web API's configuration files that contain sensitive data</span></span>](#config-sensitive)</li></ul> |
| <span data-ttu-id="42c56-122">**Устройство IoT**</span><span class="sxs-lookup"><span data-stu-id="42c56-122">**IoT Device**</span></span> | <ul><li>[<span data-ttu-id="42c56-123">Обеспечьте безопасность всех интерфейсов администратора с использованием надежных учетных данных</span><span class="sxs-lookup"><span data-stu-id="42c56-123">Ensure that all admin interfaces are secured with strong credentials</span></span>](#admin-strong)</li><li>[<span data-ttu-id="42c56-124">Защитите устройства от выполнения неизвестного кода</span><span class="sxs-lookup"><span data-stu-id="42c56-124">Ensure that unknown code cannot execute on devices</span></span>](#unknown-exe)</li><li>[<span data-ttu-id="42c56-125">Шифруйте разделы операционной системы и дополнительные разделы устройства Интернета вещей с помощью BitLocker</span><span class="sxs-lookup"><span data-stu-id="42c56-125">Encrypt OS and additional partitions of IoT Device with bit-locker</span></span>](#partition-iot)</li><li>[<span data-ttu-id="42c56-126">Убедитесь, что только hello минимальное служб и компонентов включены для устройств</span><span class="sxs-lookup"><span data-stu-id="42c56-126">Ensure that only hello minimum services/features are enabled on devices</span></span>](#min-enable)</li></ul> |
| <span data-ttu-id="42c56-127">**Полевой шлюз Интернета вещей**</span><span class="sxs-lookup"><span data-stu-id="42c56-127">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="42c56-128">Шифруйте разделы операционной системы и дополнительные разделы полевого шлюза Интернета вещей с помощью BitLocker</span><span class="sxs-lookup"><span data-stu-id="42c56-128">Encrypt OS and additional partitions of IoT Field Gateway with bit-locker</span></span>](#field-bit-locker)</li><li>[<span data-ttu-id="42c56-129">Убедитесь, что учетные данные входа по умолчанию hello шлюза поле hello изменены во время установки</span><span class="sxs-lookup"><span data-stu-id="42c56-129">Ensure that hello default login credentials of hello field gateway are changed during installation</span></span>](#default-change)</li></ul> |
| <span data-ttu-id="42c56-130">**Облачный шлюз Интернета вещей**</span><span class="sxs-lookup"><span data-stu-id="42c56-130">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="42c56-131">Убедитесь, что этот шлюз облака hello реализует процесс tookeep hello подключенных устройств встроенное по копии toodate</span><span class="sxs-lookup"><span data-stu-id="42c56-131">Ensure that hello Cloud Gateway implements a process tookeep hello connected devices firmware up toodate</span></span>](#cloud-firmware)</li></ul> |
| <span data-ttu-id="42c56-132">**Граница доверия между компьютерами**</span><span class="sxs-lookup"><span data-stu-id="42c56-132">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="42c56-133">Настройте элементы управления безопасностью конечных точек устройства в соответствии с политиками организации</span><span class="sxs-lookup"><span data-stu-id="42c56-133">Ensure that devices have end-point security controls configured as per organizational policies</span></span>](#controls-policies)</li></ul> |
| <span data-ttu-id="42c56-134">**Хранилище Azure**</span><span class="sxs-lookup"><span data-stu-id="42c56-134">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="42c56-135">Обеспечьте безопасное управление ключами доступа к хранилищу Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-135">Ensure secure management of Azure storage access keys</span></span>](#secure-keys)</li><li>[<span data-ttu-id="42c56-136">Настройте доступ к службе хранилища Azure с включенной технологией CORS только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-136">Ensure that only trusted origins are allowed if CORS is enabled on Azure storage</span></span>](#cors-storage)</li></ul> |
| <span data-ttu-id="42c56-137">**WCF**</span><span class="sxs-lookup"><span data-stu-id="42c56-137">**WCF**</span></span> | <ul><li>[<span data-ttu-id="42c56-138">Включите компонент регулирования служб WCF</span><span class="sxs-lookup"><span data-stu-id="42c56-138">Enable WCF's service throttling feature</span></span>](#throttling)</li><li>[<span data-ttu-id="42c56-139">Применяйте раскрытие информации через метаданные, переданные WCF</span><span class="sxs-lookup"><span data-stu-id="42c56-139">WCF-Information disclosure through metadata</span></span>](#info-metadata)</li></ul> | 

## <span data-ttu-id="42c56-140"><a id="csp-js"></a>Реализуйте политику безопасности содержимого (CSP) и отключите встроенный скрипт JavaScript</span><span class="sxs-lookup"><span data-stu-id="42c56-140"><a id="csp-js"></a>Implement Content Security Policy (CSP), and disable inline javascript</span></span>

| <span data-ttu-id="42c56-141">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-141">Title</span></span>                   | <span data-ttu-id="42c56-142">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-142">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-143">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-143">**Component**</span></span>               | <span data-ttu-id="42c56-144">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-144">Web Application</span></span> | 
| <span data-ttu-id="42c56-145">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-145">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-146">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-146">Build</span></span> |  
| <span data-ttu-id="42c56-147">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-147">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-148">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-148">Generic</span></span> |
| <span data-ttu-id="42c56-149">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-149">**Attributes**</span></span>              | <span data-ttu-id="42c56-150">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-150">N/A</span></span>  |
| <span data-ttu-id="42c56-151">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-151">**References**</span></span>              | <span data-ttu-id="42c56-152">[Введение tooContent политики безопасности](http://www.html5rocks.com/en/tutorials/security/content-security-policy/), [содержимого Справочник по политике безопасности](http://content-security-policy.com/), [функции безопасности](https://developer.microsoft.com/microsoft-edge/platform/documentation/dev-guide/security/), [политику безопасности введение toocontent](https://docs.webplatform.org/wiki/tutorials/content-security-policy), [Используется CSP?](http://caniuse.com/#feat=contentsecuritypolicy)</span><span class="sxs-lookup"><span data-stu-id="42c56-152">[An Introduction tooContent Security Policy](http://www.html5rocks.com/en/tutorials/security/content-security-policy/), [Content Security Policy Reference](http://content-security-policy.com/), [Security features](https://developer.microsoft.com/microsoft-edge/platform/documentation/dev-guide/security/), [Introduction toocontent security policy](https://docs.webplatform.org/wiki/tutorials/content-security-policy), [Can I use CSP?](http://caniuse.com/#feat=contentsecuritypolicy)</span></span> |
| <span data-ttu-id="42c56-153">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-153">**Steps**</span></span> | <p><span data-ttu-id="42c56-154">Политики безопасности содержимого (CSP) является глубокой обороны механизмом обеспечения безопасности, стандарт W3C, позволяющий веб-приложения владельцев toohave элемента управления внедренных на своем сайте содержимое hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-154">Content Security Policy (CSP) is a defense-in-depth security mechanism, a W3C standard, that enables web application owners toohave control on hello content embedded in their site.</span></span> <span data-ttu-id="42c56-155">CSP добавляется в качестве ответа HTTP на веб-сервере hello и обеспечивается на стороне клиента hello в браузерах.</span><span class="sxs-lookup"><span data-stu-id="42c56-155">CSP is added as an HTTP response header on hello web server and is enforced on hello client side by browsers.</span></span> <span data-ttu-id="42c56-156">Эта политика основана на списке разрешений, то есть веб-сайт может объявить набор доверенных доменов, из которых можно скачивать активное содержимое, например скрипт JavaScript.</span><span class="sxs-lookup"><span data-stu-id="42c56-156">It is a whitelist-based policy - a website can declare a set of trusted domains from which active content such as JavaScript can be loaded.</span></span></p><p><span data-ttu-id="42c56-157">Поставщик облачных СЛУЖБ предоставляет следующие преимущества безопасности hello:</span><span class="sxs-lookup"><span data-stu-id="42c56-157">CSP provides hello following security benefits:</span></span></p><ul><li><span data-ttu-id="42c56-158">**Защита от XSS:** Если страница является уязвимым tooXSS, атакующий может использовать два способа:</span><span class="sxs-lookup"><span data-stu-id="42c56-158">**Protection against XSS:** If a page is vulnerable tooXSS, an attacker can exploit it in 2 ways:</span></span><ul><li><span data-ttu-id="42c56-159">Внедрить `<script>malicious code</script>`.</span><span class="sxs-lookup"><span data-stu-id="42c56-159">Inject `<script>malicious code</script>`.</span></span> <span data-ttu-id="42c56-160">Этой уязвимости не будет работать из-за его tooCSP базы ограничение-1</span><span class="sxs-lookup"><span data-stu-id="42c56-160">This exploit will not work due tooCSP’s Base Restriction-1</span></span></li><li><span data-ttu-id="42c56-161">Внедрить `<script src=”http://attacker.com/maliciousCode.js”/>`.</span><span class="sxs-lookup"><span data-stu-id="42c56-161">Inject `<script src=”http://attacker.com/maliciousCode.js”/>`.</span></span> <span data-ttu-id="42c56-162">Этой уязвимости не будет работать, поскольку hello злоумышленнику управлять домена не будет в белом списке поставщика облачных СЛУЖБ доменов</span><span class="sxs-lookup"><span data-stu-id="42c56-162">This exploit will not work since hello attacker controlled domain will not be in CSP’s whitelist of domains</span></span></li></ul></li><li><span data-ttu-id="42c56-163">**Контроль над эксфильтрации данных:** любой вредоносного содержимого на веб-странице внешнего веб-сайта tooconnect tooan и кражи данных, если hello подключение будет прервано по CSP.</span><span class="sxs-lookup"><span data-stu-id="42c56-163">**Control over data exfiltration:** If any malicious content on a webpage attempts tooconnect tooan external website and steal data, hello connection will be aborted by CSP.</span></span> <span data-ttu-id="42c56-164">Это обусловлено hello целевой домен не будет в белом списке поставщика облачных СЛУЖБ</span><span class="sxs-lookup"><span data-stu-id="42c56-164">This is because hello target domain will not be in CSP’s whitelist</span></span></li><li><span data-ttu-id="42c56-165">**Защиту от jacking щелкните:** jacking щелкните — это методика атаки с помощью которого злоумышленник может фрейма подлинность веб-сайта и принудительно tooclick пользователей в элементах пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="42c56-165">**Defense against click-jacking:** click-jacking is an attack technique using which an adversary can frame a genuine website and force users tooclick on UI elements.</span></span> <span data-ttu-id="42c56-166">Сейчас защита от кликджекинга осуществляется с помощью заголовка ответа X-Frame-Options.</span><span class="sxs-lookup"><span data-stu-id="42c56-166">Currently defense against click-jacking is achieved by configuring a response header- X-Frame-Options.</span></span> <span data-ttu-id="42c56-167">Этот заголовок поддерживать не все браузеры и переход вперед CSP будет стандартным способом toodefend от jacking нажмите кнопку</span><span class="sxs-lookup"><span data-stu-id="42c56-167">Not all browsers respect this header and going forward CSP will be a standard way toodefend against click-jacking</span></span></li><li><span data-ttu-id="42c56-168">**Отчетов в режиме реального времени атаки:** в случае атаки путем внедрения кода на веб-сайте поставщика служб Шифрования включен браузеры автоматически запустит конечной точки tooan уведомления настроен на веб-сервере hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-168">**Real-time attack reporting:** If there is an injection attack on a CSP-enabled website, browsers will automatically trigger a notification tooan endpoint configured on hello webserver.</span></span> <span data-ttu-id="42c56-169">В этом случае CSP используется как система оповещений в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="42c56-169">This way, CSP serves as a real-time warning system.</span></span></li></ul> |

### <a name="example"></a><span data-ttu-id="42c56-170">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-170">Example</span></span>
<span data-ttu-id="42c56-171">Пример политики:</span><span class="sxs-lookup"><span data-stu-id="42c56-171">Example policy:</span></span> 
```C#
Content-Security-Policy: default-src 'self'; script-src 'self' www.google-analytics.com 
```
<span data-ttu-id="42c56-172">Эта политика позволяет tooload сценарии только с сервера веб-приложения hello и google analytics server.</span><span class="sxs-lookup"><span data-stu-id="42c56-172">This policy allows scripts tooload only from hello web application’s server and google analytics server.</span></span> <span data-ttu-id="42c56-173">Все остальные скрипты отклоняются.</span><span class="sxs-lookup"><span data-stu-id="42c56-173">Scripts loaded from any other site will be rejected.</span></span> <span data-ttu-id="42c56-174">При включении CSP на веб-сайте hello следующие компоненты, атак с XSS toomitigate автоматически отключено.</span><span class="sxs-lookup"><span data-stu-id="42c56-174">When CSP is enabled on a website, hello following features are automatically disabled toomitigate XSS attacks.</span></span> 

### <a name="example"></a><span data-ttu-id="42c56-175">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-175">Example</span></span>
<span data-ttu-id="42c56-176">Встроенные скрипты выполняться не будут.</span><span class="sxs-lookup"><span data-stu-id="42c56-176">Inline scripts will not execute.</span></span> <span data-ttu-id="42c56-177">Ниже приведены примеры встроенных скриптов.</span><span class="sxs-lookup"><span data-stu-id="42c56-177">Following are examples of inline scripts</span></span> 
```javascript
<script> some Javascript code </script>
Event handling attributes of HTML tags (e.g., <button onclick=”function(){}”>
javascript:alert(1);
```

### <a name="example"></a><span data-ttu-id="42c56-178">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-178">Example</span></span>
<span data-ttu-id="42c56-179">Строки не будут рассматриваться в качестве кода.</span><span class="sxs-lookup"><span data-stu-id="42c56-179">Strings will not be evaluated as code.</span></span> 
```javascript
Example: var str="alert(1)"; eval(str);
```

## <span data-ttu-id="42c56-180"><a id="xss-filter"></a>Включите фильтр межсайтовых сценариев в браузере</span><span class="sxs-lookup"><span data-stu-id="42c56-180"><a id="xss-filter"></a>Enable browser's XSS filter</span></span>

| <span data-ttu-id="42c56-181">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-181">Title</span></span>                   | <span data-ttu-id="42c56-182">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-182">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-183">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-183">**Component**</span></span>               | <span data-ttu-id="42c56-184">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-184">Web Application</span></span> | 
| <span data-ttu-id="42c56-185">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-185">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-186">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-186">Build</span></span> |  
| <span data-ttu-id="42c56-187">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-187">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-188">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-188">Generic</span></span> |
| <span data-ttu-id="42c56-189">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-189">**Attributes**</span></span>              | <span data-ttu-id="42c56-190">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-190">N/A</span></span>  |
| <span data-ttu-id="42c56-191">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-191">**References**</span></span>              | [<span data-ttu-id="42c56-192">Фильтр защиты от межсайтовых сценариев</span><span class="sxs-lookup"><span data-stu-id="42c56-192">XSS Protection Filter</span></span>](https://www.owasp.org/index.php/List_of_useful_HTTP_headers#X-XSS-Protection) |
| <span data-ttu-id="42c56-193">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-193">**Steps**</span></span> | <p><span data-ttu-id="42c56-194">Элементы управления конфигурацией заголовок ответа X XSS защиты hello браузера межузловых скриптов фильтра.</span><span class="sxs-lookup"><span data-stu-id="42c56-194">X-XSS-Protection response header configuration controls hello browser's cross site script filter.</span></span> <span data-ttu-id="42c56-195">Этот заголовок ответа может иметь следующие значения.</span><span class="sxs-lookup"><span data-stu-id="42c56-195">This response header can have following values:</span></span></p><ul><li><span data-ttu-id="42c56-196">`0:`Это отключит hello фильтра</span><span class="sxs-lookup"><span data-stu-id="42c56-196">`0:` This will disable hello filter</span></span></li><li><span data-ttu-id="42c56-197">`1: Filter enabled`При обнаружении атакой по сценариев, в порядке toostop hello атаки, hello браузера будет очистки страницы приветствия</span><span class="sxs-lookup"><span data-stu-id="42c56-197">`1: Filter enabled` If a cross-site scripting attack is detected, in order toostop hello attack, hello browser will sanitize hello page</span></span></li><li><span data-ttu-id="42c56-198">`1: mode=block : Filter enabled`.</span><span class="sxs-lookup"><span data-stu-id="42c56-198">`1: mode=block : Filter enabled`.</span></span> <span data-ttu-id="42c56-199">Вместо очистки страницу приветствия при обнаружении атаки XSS, hello браузер будет предотвращать отрисовки страницы приветствия</span><span class="sxs-lookup"><span data-stu-id="42c56-199">Rather than sanitize hello page, when a XSS attack is detected, hello browser will prevent rendering of hello page</span></span></li><li><span data-ttu-id="42c56-200">`1: report=http://[YOURDOMAIN]/your_report_URI : Filter enabled`.</span><span class="sxs-lookup"><span data-stu-id="42c56-200">`1: report=http://[YOURDOMAIN]/your_report_URI : Filter enabled`.</span></span> <span data-ttu-id="42c56-201">Hello браузера будет очистить нарушение hello hello отчета.</span><span class="sxs-lookup"><span data-stu-id="42c56-201">hello browser will sanitize hello page and report hello violation.</span></span></li></ul><p><span data-ttu-id="42c56-202">Это функция хром, используя сведения о toosend tooa URI, по своему усмотрению CSP нарушение отчеты.</span><span class="sxs-lookup"><span data-stu-id="42c56-202">This is a Chromium function utilizing CSP violation reports toosend details tooa URI of your choice.</span></span> <span data-ttu-id="42c56-203">Hello 2 последние параметры считаются безопасные значения.</span><span class="sxs-lookup"><span data-stu-id="42c56-203">hello last 2 options are considered safe values.</span></span></p>|

## <span data-ttu-id="42c56-204"><a id="trace-deploy"></a>Необходимо отключить приложений ASP.NET, трассировка и отладка предыдущего toodeployment</span><span class="sxs-lookup"><span data-stu-id="42c56-204"><a id="trace-deploy"></a>ASP.NET applications must disable tracing and debugging prior toodeployment</span></span>

| <span data-ttu-id="42c56-205">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-205">Title</span></span>                   | <span data-ttu-id="42c56-206">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-206">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-207">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-207">**Component**</span></span>               | <span data-ttu-id="42c56-208">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-208">Web Application</span></span> | 
| <span data-ttu-id="42c56-209">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-209">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-210">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-210">Build</span></span> |  
| <span data-ttu-id="42c56-211">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-211">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-212">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-212">Generic</span></span> |
| <span data-ttu-id="42c56-213">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-213">**Attributes**</span></span>              | <span data-ttu-id="42c56-214">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-214">N/A</span></span>  |
| <span data-ttu-id="42c56-215">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-215">**References**</span></span>              | <span data-ttu-id="42c56-216">[Общие сведения об отладке в ASP.NET](http://msdn2.microsoft.com/library/ms227556.aspx), [Общие сведения о трассировке ASP.NET](http://msdn2.microsoft.com/library/bb386420.aspx), [Практическое руководство. Включение трассировки для приложений ASP.NET](http://msdn2.microsoft.com/library/0x5wc973.aspx), [практическое руководство по включению отладки приложений ASP.NET](http://msdn2.microsoft.com/library/e8z01xdh(VS.80).aspx)</span><span class="sxs-lookup"><span data-stu-id="42c56-216">[ASP.NET Debugging Overview](http://msdn2.microsoft.com/library/ms227556.aspx), [ASP.NET Tracing Overview](http://msdn2.microsoft.com/library/bb386420.aspx), [How to: Enable Tracing for an ASP.NET Application](http://msdn2.microsoft.com/library/0x5wc973.aspx), [How to: Enable Debugging for ASP.NET Applications](http://msdn2.microsoft.com/library/e8z01xdh(VS.80).aspx)</span></span> |
| <span data-ttu-id="42c56-217">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-217">**Steps**</span></span> | <span data-ttu-id="42c56-218">Если трассировка включена для страницы приветствия, каждый браузер, запрашивая его также получает hello сведения трассировки, содержащий данные о состоянии внутреннего сервера и рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="42c56-218">When tracing is enabled for hello page, every browser requesting it also obtains hello trace information that contains data about internal server state and workflow.</span></span> <span data-ttu-id="42c56-219">Эти сведения могут быть секретными.</span><span class="sxs-lookup"><span data-stu-id="42c56-219">That information could be security sensitive.</span></span> <span data-ttu-id="42c56-220">При включенной отладке для страницы приветствия, ошибки, проблемы hello server приведет к данным трассировки полный стек представлены toohello браузера.</span><span class="sxs-lookup"><span data-stu-id="42c56-220">When debugging is enabled for hello page, errors happening on hello server result in a full stack trace data presented toohello browser.</span></span> <span data-ttu-id="42c56-221">Данные могут предоставить важные сведения о рабочем процессе hello server.</span><span class="sxs-lookup"><span data-stu-id="42c56-221">That data may expose security-sensitive information about hello server's workflow.</span></span> |

## <span data-ttu-id="42c56-222"><a id="js-trusted"></a>Получайте доступ к сторонним скриптам JavaScript только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-222"><a id="js-trusted"></a>Access third-party javascripts from trusted sources only</span></span>

| <span data-ttu-id="42c56-223">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-223">Title</span></span>                   | <span data-ttu-id="42c56-224">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-224">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-225">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-225">**Component**</span></span>               | <span data-ttu-id="42c56-226">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-226">Web Application</span></span> | 
| <span data-ttu-id="42c56-227">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-227">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-228">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-228">Build</span></span> |  
| <span data-ttu-id="42c56-229">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-229">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-230">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-230">Generic</span></span> |
| <span data-ttu-id="42c56-231">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-231">**Attributes**</span></span>              | <span data-ttu-id="42c56-232">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-232">N/A</span></span>  |
| <span data-ttu-id="42c56-233">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-233">**References**</span></span>              | <span data-ttu-id="42c56-234">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-234">N/A</span></span>  |
| <span data-ttu-id="42c56-235">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-235">**Steps**</span></span> | <span data-ttu-id="42c56-236">Используйте сторонние скрипты JavaScript только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-236">third-party JavaScripts should be referenced only from trusted sources.</span></span> <span data-ttu-id="42c56-237">конечные точки ссылки Hello всегда должны быть в SSL.</span><span class="sxs-lookup"><span data-stu-id="42c56-237">hello reference endpoints should always be on SSL.</span></span> |

## <span data-ttu-id="42c56-238"><a id="ui-defenses"></a>Внедрите защиту от кликджекинга на страницах ASP.NET</span><span class="sxs-lookup"><span data-stu-id="42c56-238"><a id="ui-defenses"></a>Ensure that authenticated ASP.NET pages incorporate UI Redressing or click-jacking defenses</span></span>

| <span data-ttu-id="42c56-239">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-239">Title</span></span>                   | <span data-ttu-id="42c56-240">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-240">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-241">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-241">**Component**</span></span>               | <span data-ttu-id="42c56-242">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-242">Web Application</span></span> | 
| <span data-ttu-id="42c56-243">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-243">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-244">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-244">Build</span></span> |  
| <span data-ttu-id="42c56-245">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-245">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-246">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-246">Generic</span></span> |
| <span data-ttu-id="42c56-247">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-247">**Attributes**</span></span>              | <span data-ttu-id="42c56-248">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-248">N/A</span></span>  |
| <span data-ttu-id="42c56-249">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-249">**References**</span></span>              | <span data-ttu-id="42c56-250">[Памятка по защите от кликджекинга OWASP](https://www.owasp.org/index.php/Clickjacking_Defense_Cheat_Sheet), [внутренняя документация Internet Explorer по борьбе с кликджекингом при помощи заголовка ответа X-Frame-Options](https://blogs.msdn.microsoft.com/ieinternals/2010/03/30/combating-click-jacking-with-x-frame-options/)</span><span class="sxs-lookup"><span data-stu-id="42c56-250">[OWASP click-jacking Defense Cheat Sheet](https://www.owasp.org/index.php/Clickjacking_Defense_Cheat_Sheet), [IE Internals - Combating click-jacking With X-Frame-Options](https://blogs.msdn.microsoft.com/ieinternals/2010/03/30/combating-click-jacking-with-x-frame-options/)</span></span> |
| <span data-ttu-id="42c56-251">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-251">**Steps**</span></span> | <p><span data-ttu-id="42c56-252">jacking щелкните также называется «атаки восстановление пользовательского интерфейса,» используется, если злоумышленник несколько слоев прозрачного и непрозрачного tootrick пользователь заставили щелкнуть кнопку или ссылку на другую страницу, если они вы собираетесь tooclick верхнего уровня страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="42c56-252">click-jacking, also known as a "UI redress attack", is when an attacker uses multiple transparent or opaque layers tootrick a user into clicking on a button or link on another page when they were intending tooclick on hello top-level page.</span></span></p><p><span data-ttu-id="42c56-253">Такая структура достигается за счет создания вредоносную страницу с помощью iframe, которая загружает страницу приветствия жертвы.</span><span class="sxs-lookup"><span data-stu-id="42c56-253">This layering is achieved by crafting a malicious page with an iframe, which loads hello victim's page.</span></span> <span data-ttu-id="42c56-254">Таким образом злоумышленник hello «захват» щелкает предназначены для своей странице и их отправки страницы tooanother, скорее всего принадлежит другим приложением, домена или оба.</span><span class="sxs-lookup"><span data-stu-id="42c56-254">Thus, hello attacker is "hijacking" clicks meant for their page and routing them tooanother page, most likely owned by another application, domain, or both.</span></span> <span data-ttu-id="42c56-255">атаки jacking щелкните tooprevent набор hello правильную X-Frame-Options заголовки HTTP-ответа, содержащий toonot браузера hello разрешить кадрирования из других доменов</span><span class="sxs-lookup"><span data-stu-id="42c56-255">tooprevent click-jacking attacks, set hello proper X-Frame-Options HTTP response headers that instruct hello browser toonot allow framing from other domains</span></span></p>|

### <a name="example"></a><span data-ttu-id="42c56-256">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-256">Example</span></span>
<span data-ttu-id="42c56-257">Заголовок X-FRAME-OPTIONS Hello можно настроить с помощью IIS web.config. Фрагмент кода web.config для сайтов, не использующих фреймы, выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="42c56-257">hello X-FRAME-OPTIONS header can be set via IIS web.config. Web.config code snippet for sites that should never be framed:</span></span> 
```C#
    <system.webServer>
        <httpProtocol>
            <customHeader>
                <add name="X-FRAME-OPTIONS" value="DENY"/>
            </customHeaders>
        </httpProtocol>
    </system.webServer>
```

### <a name="example"></a><span data-ttu-id="42c56-258">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-258">Example</span></span>
<span data-ttu-id="42c56-259">Код Web.config для сайтов, которые следует только вписать страниц в hello же домена:</span><span class="sxs-lookup"><span data-stu-id="42c56-259">Web.config code for sites that should only be framed by pages in hello same domain:</span></span> 
```C#
    <system.webServer>
        <httpProtocol>
            <customHeader>
                <add name="X-FRAME-OPTIONS" value="SAMEORIGIN"/>
            </customHeaders>
        </httpProtocol>
    </system.webServer>
```

## <span data-ttu-id="42c56-260"><a id="cors-aspnet"></a>Настройте доступ к веб-приложениям ASP.NET с включенной технологией CORS только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-260"><a id="cors-aspnet"></a>Ensure that only trusted origins are allowed if CORS is enabled on ASP.NET Web Applications</span></span>

| <span data-ttu-id="42c56-261">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-261">Title</span></span>                   | <span data-ttu-id="42c56-262">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-262">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-263">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-263">**Component**</span></span>               | <span data-ttu-id="42c56-264">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-264">Web Application</span></span> | 
| <span data-ttu-id="42c56-265">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-265">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-266">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-266">Build</span></span> |  
| <span data-ttu-id="42c56-267">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-267">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-268">Веб-формы, MVC 5</span><span class="sxs-lookup"><span data-stu-id="42c56-268">Web Forms, MVC5</span></span> |
| <span data-ttu-id="42c56-269">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-269">**Attributes**</span></span>              | <span data-ttu-id="42c56-270">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-270">N/A</span></span>  |
| <span data-ttu-id="42c56-271">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-271">**References**</span></span>              | <span data-ttu-id="42c56-272">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-272">N/A</span></span>  |
| <span data-ttu-id="42c56-273">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-273">**Steps**</span></span> | <p><span data-ttu-id="42c56-274">Безопасность обозревателя предотвращает внесение домена tooanother запросы AJAX на веб-странице.</span><span class="sxs-lookup"><span data-stu-id="42c56-274">Browser security prevents a web page from making AJAX requests tooanother domain.</span></span> <span data-ttu-id="42c56-275">Это ограничение вызывается hello политика одного источника и предотвращает чтение конфиденциальных данных с другого сайта вредоносный сайт.</span><span class="sxs-lookup"><span data-stu-id="42c56-275">This restriction is called hello same-origin policy, and prevents a malicious site from reading sensitive data from another site.</span></span> <span data-ttu-id="42c56-276">Тем не менее, иногда бывает требуется tooexpose API-интерфейсы безопасно который можно использовать и другие сайты.</span><span class="sxs-lookup"><span data-stu-id="42c56-276">However, sometimes it might be required tooexpose APIs securely which other sites can consume.</span></span> <span data-ttu-id="42c56-277">Кросс-совместное использование источника ресурсов (CORS) — это стандарт консорциума W3C, позволяющего серверу политика одного источника toorelax hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-277">Cross Origin Resource Sharing (CORS) is a W3C standard that allows a server toorelax hello same-origin policy.</span></span> <span data-ttu-id="42c56-278">С помощью CORS сервер может явным образом разрешить некоторые запросы независимо от источника, а другие — отклонить.</span><span class="sxs-lookup"><span data-stu-id="42c56-278">Using CORS, a server can explicitly allow some cross-origin requests while rejecting others.</span></span></p><p><span data-ttu-id="42c56-279">Технология CORS более безопасная и гибкая, чем предыдущие технологии, например JSONP.</span><span class="sxs-lookup"><span data-stu-id="42c56-279">CORS is safer and more flexible than earlier techniques such as JSONP.</span></span> <span data-ttu-id="42c56-280">По существу, включение CORS преобразует tooadding несколько заголовки HTTP-ответа (Access - Control-*) toohello веб-приложение и это можно сделать двумя способами.</span><span class="sxs-lookup"><span data-stu-id="42c56-280">At its core, enabling CORS translates tooadding a few HTTP response headers (Access-Control-*) toohello web application and this can be done in a couple of ways.</span></span></p>|

### <a name="example"></a><span data-ttu-id="42c56-281">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-281">Example</span></span>
<span data-ttu-id="42c56-282">При наличии доступа к tooWeb.config CORS можно добавить через hello, следующий код:</span><span class="sxs-lookup"><span data-stu-id="42c56-282">If access tooWeb.config is available, then CORS can be added through hello following code:</span></span> 
```XML
<system.webServer>
    <httpProtocol>
      <customHeaders>
        <clear />
        <add name="Access-Control-Allow-Origin" value="http://example.com" />
      </customHeaders>
    </httpProtocol>
```

### <a name="example"></a><span data-ttu-id="42c56-283">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-283">Example</span></span>
<span data-ttu-id="42c56-284">Если доступ tooweb.config недоступен, CORS можно настроить, добавив следующий код c# hello:</span><span class="sxs-lookup"><span data-stu-id="42c56-284">If access tooweb.config is not available, then CORS can be configured by adding hello following CSharp code:</span></span> 
```C#
HttpContext.Response.AppendHeader("Access-Control-Allow-Origin", "http://example.com")
```

<span data-ttu-id="42c56-285">Задайте Обратите внимание, что критические tooensure, список источников, в атрибуте «Access-Control-Allow-Origin» hello tooa набор конечным и доверенных источников.</span><span class="sxs-lookup"><span data-stu-id="42c56-285">Please note that it is critical tooensure that hello list of origins in "Access-Control-Allow-Origin" attribute is set tooa finite and trusted set of origins.</span></span> <span data-ttu-id="42c56-286">Сбой tooconfigure этом неверно (например, установка значения hello как "*") позволит tootrigger вредоносные сайты перекрестные запросы источника toohello веб-приложения > без каких-либо ограничений, делая hello приложение уязвимым tooCSRF атак.</span><span class="sxs-lookup"><span data-stu-id="42c56-286">Failing tooconfigure this inappropriately (e.g., setting hello value as '*') will allow malicious sites tootrigger cross origin requests toohello web application >without any restrictions, thereby making hello application vulnerable tooCSRF attacks.</span></span> 

## <span data-ttu-id="42c56-287"><a id="validate-aspnet"></a>Включите атрибут ValidateRequest на страницах ASP.NET</span><span class="sxs-lookup"><span data-stu-id="42c56-287"><a id="validate-aspnet"></a>Enable ValidateRequest attribute on ASP.NET Pages</span></span>

| <span data-ttu-id="42c56-288">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-288">Title</span></span>                   | <span data-ttu-id="42c56-289">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-289">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-290">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-290">**Component**</span></span>               | <span data-ttu-id="42c56-291">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-291">Web Application</span></span> | 
| <span data-ttu-id="42c56-292">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-292">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-293">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-293">Build</span></span> |  
| <span data-ttu-id="42c56-294">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-294">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-295">Веб-формы, MVC 5</span><span class="sxs-lookup"><span data-stu-id="42c56-295">Web Forms, MVC5</span></span> |
| <span data-ttu-id="42c56-296">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-296">**Attributes**</span></span>              | <span data-ttu-id="42c56-297">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-297">N/A</span></span>  |
| <span data-ttu-id="42c56-298">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-298">**References**</span></span>              | [<span data-ttu-id="42c56-299">Сведения о предотвращении атак путем внедрения кода с помощью функции проверки запросов</span><span class="sxs-lookup"><span data-stu-id="42c56-299">Request Validation - Preventing Script Attacks</span></span>](http://www.asp.net/whitepapers/request-validation) |
| <span data-ttu-id="42c56-300">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-300">**Steps**</span></span> | <p><span data-ttu-id="42c56-301">Проверка запроса, функция ASP.NET начиная с версии 1.1, запрещает hello server принимать содержимого содержащего без кодировки HTML.</span><span class="sxs-lookup"><span data-stu-id="42c56-301">Request validation, a feature of ASP.NET since version 1.1, prevents hello server from accepting content containing un-encoded HTML.</span></span> <span data-ttu-id="42c56-302">Эта функция предназначена toohelp предотвратить некоторые атаки путем внедрения скриптов, при котором код сценария клиента или HTML могут быть непреднамеренно отправленной tooa server, хранятся и затем представляются tooother пользователей.</span><span class="sxs-lookup"><span data-stu-id="42c56-302">This feature is designed toohelp prevent some script-injection attacks whereby client script code or HTML can be unknowingly submitted tooa server, stored, and then presented tooother users.</span></span> <span data-ttu-id="42c56-303">Мы настоятельно рекомендуем при необходимости проверять все входные данные и кодировать их в формате HTML.</span><span class="sxs-lookup"><span data-stu-id="42c56-303">We still strongly recommend that you validate all input data and HTML encode it when appropriate.</span></span></p><p><span data-ttu-id="42c56-304">Проверка запроса выполняется путем сравнения tooa список всех входных данных потенциально опасных значений.</span><span class="sxs-lookup"><span data-stu-id="42c56-304">Request validation is performed by comparing all input data tooa list of potentially dangerous values.</span></span> <span data-ttu-id="42c56-305">При выявлении совпадения ASP.NET вызывает исключение `HttpRequestValidationException`.</span><span class="sxs-lookup"><span data-stu-id="42c56-305">If a match occurs, ASP.NET raises an `HttpRequestValidationException`.</span></span> <span data-ttu-id="42c56-306">По умолчанию функция проверки запросов включена.</span><span class="sxs-lookup"><span data-stu-id="42c56-306">By default, Request Validation feature is enabled.</span></span></p>|

### <a name="example"></a><span data-ttu-id="42c56-307">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-307">Example</span></span>
<span data-ttu-id="42c56-308">Тем не менее эту функцию можно отключить на уровне страниц:</span><span class="sxs-lookup"><span data-stu-id="42c56-308">However, this feature can be disabled at page level:</span></span> 
```XML
<%@ Page validateRequest="false" %> 
```
<span data-ttu-id="42c56-309">Или на уровне приложения:</span><span class="sxs-lookup"><span data-stu-id="42c56-309">or, at application level</span></span> 
```XML
<configuration>
   <system.web>
      <pages validateRequest="false" />
   </system.web>
</configuration>
```
<span data-ttu-id="42c56-310">Обратите внимание, что функция проверки запросов не поддерживается и не входит в конвейер MVC6.</span><span class="sxs-lookup"><span data-stu-id="42c56-310">Please note that Request Validation feature is not supported, and is not part of MVC6 pipeline.</span></span> 

## <span data-ttu-id="42c56-311"><a id="local-js"></a>Используйте локально размещенные последние версии библиотек JavaScript</span><span class="sxs-lookup"><span data-stu-id="42c56-311"><a id="local-js"></a>Use locally-hosted latest versions of JavaScript libraries</span></span>

| <span data-ttu-id="42c56-312">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-312">Title</span></span>                   | <span data-ttu-id="42c56-313">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-313">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-314">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-314">**Component**</span></span>               | <span data-ttu-id="42c56-315">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-315">Web Application</span></span> | 
| <span data-ttu-id="42c56-316">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-316">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-317">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-317">Build</span></span> |  
| <span data-ttu-id="42c56-318">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-318">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-319">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-319">Generic</span></span> |
| <span data-ttu-id="42c56-320">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-320">**Attributes**</span></span>              | <span data-ttu-id="42c56-321">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-321">N/A</span></span>  |
| <span data-ttu-id="42c56-322">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-322">**References**</span></span>              | <span data-ttu-id="42c56-323">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-323">N/A</span></span>  |
| <span data-ttu-id="42c56-324">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-324">**Steps**</span></span> | <p><span data-ttu-id="42c56-325">Разработчики, пользующиеся стандартными библиотеками JavaScript (например, JQuery), должны использовать их утвержденные версии, не имеющие известных проблем с безопасностью.</span><span class="sxs-lookup"><span data-stu-id="42c56-325">Developers using standard JavaScript libraries like JQuery must use approved versions of common JavaScript libraries that do not contain known security flaws.</span></span> <span data-ttu-id="42c56-326">Рекомендуется toouse hello наиболее последнюю версию библиотек hello, поскольку они содержат исправления безопасности для известных уязвимостей в их более старых версий.</span><span class="sxs-lookup"><span data-stu-id="42c56-326">A good practice is toouse hello most latest version of hello libraries, since they contain security fixes for known vulnerabilities in their older versions.</span></span></p><p><span data-ttu-id="42c56-327">Если последний выпуск hello не может использоваться из-за причин toocompatibility, hello ниже минимальные версии следует использовать.</span><span class="sxs-lookup"><span data-stu-id="42c56-327">If hello most recent release cannot be used due toocompatibility reasons, hello below minimum versions should be used.</span></span></p><p><span data-ttu-id="42c56-328">Минимальные допустимые версии:</span><span class="sxs-lookup"><span data-stu-id="42c56-328">Acceptable minimum versions:</span></span></p><ul><li><span data-ttu-id="42c56-329">**JQuery**</span><span class="sxs-lookup"><span data-stu-id="42c56-329">**JQuery**</span></span><ul><li><span data-ttu-id="42c56-330">JQuery 1.7.1</span><span class="sxs-lookup"><span data-stu-id="42c56-330">JQuery 1.7.1</span></span></li><li><span data-ttu-id="42c56-331">JQueryUI 1.10.0</span><span class="sxs-lookup"><span data-stu-id="42c56-331">JQueryUI 1.10.0</span></span></li><li><span data-ttu-id="42c56-332">JQuery Validate 1.9</span><span class="sxs-lookup"><span data-stu-id="42c56-332">JQuery Validate 1.9</span></span></li><li><span data-ttu-id="42c56-333">JQuery Mobile 1.0.1</span><span class="sxs-lookup"><span data-stu-id="42c56-333">JQuery Mobile 1.0.1</span></span></li><li><span data-ttu-id="42c56-334">JQuery Cycle 2.99</span><span class="sxs-lookup"><span data-stu-id="42c56-334">JQuery Cycle 2.99</span></span></li><li><span data-ttu-id="42c56-335">JQuery DataTables 1.9.0</span><span class="sxs-lookup"><span data-stu-id="42c56-335">JQuery DataTables 1.9.0</span></span></li></ul></li><li><span data-ttu-id="42c56-336">**AJAX Control Toolkit**</span><span class="sxs-lookup"><span data-stu-id="42c56-336">**Ajax Control Toolkit**</span></span><ul><li><span data-ttu-id="42c56-337">Ajax Control Toolkit 40412</span><span class="sxs-lookup"><span data-stu-id="42c56-337">Ajax Control Toolkit 40412</span></span></li></ul></li><li><span data-ttu-id="42c56-338">**Веб-формы ASP.NET и Ajax**</span><span class="sxs-lookup"><span data-stu-id="42c56-338">**ASP.NET Web Forms and Ajax**</span></span><ul><li><span data-ttu-id="42c56-339">Веб-формы ASP.NET и Ajax 4</span><span class="sxs-lookup"><span data-stu-id="42c56-339">ASP.NET Web Forms and Ajax 4</span></span></li><li><span data-ttu-id="42c56-340">ASP.NET Ajax 3.5</span><span class="sxs-lookup"><span data-stu-id="42c56-340">ASP.NET Ajax 3.5</span></span></li></ul></li><li><span data-ttu-id="42c56-341">**ASP.NET MVC**</span><span class="sxs-lookup"><span data-stu-id="42c56-341">**ASP.NET MVC**</span></span><ul><li><span data-ttu-id="42c56-342">ASP.NET MVC 3.0</span><span class="sxs-lookup"><span data-stu-id="42c56-342">ASP.NET MVC 3.0</span></span></li></ul></li></ul><p><span data-ttu-id="42c56-343">Никогда не скачивайте какие-либо библиотеки JavaScript с внешних сайтов, например в общедоступной сети доставки содержимого.</span><span class="sxs-lookup"><span data-stu-id="42c56-343">Never load any JavaScript library from external sites such as public CDNs</span></span></p>|

## <span data-ttu-id="42c56-344"><a id="mime-sniff"></a>Отключите автоматическое обнаружение типов MIME</span><span class="sxs-lookup"><span data-stu-id="42c56-344"><a id="mime-sniff"></a>Disable automatic MIME sniffing</span></span>

| <span data-ttu-id="42c56-345">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-345">Title</span></span>                   | <span data-ttu-id="42c56-346">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-346">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-347">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-347">**Component**</span></span>               | <span data-ttu-id="42c56-348">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-348">Web Application</span></span> | 
| <span data-ttu-id="42c56-349">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-349">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-350">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-350">Build</span></span> |  
| <span data-ttu-id="42c56-351">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-351">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-352">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-352">Generic</span></span> |
| <span data-ttu-id="42c56-353">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-353">**Attributes**</span></span>              | <span data-ttu-id="42c56-354">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-354">N/A</span></span>  |
| <span data-ttu-id="42c56-355">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-355">**References**</span></span>              | <span data-ttu-id="42c56-356">[Запись блога по безопасности IE8, часть 5 о комплексной защите](http://blogs.msdn.com/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx), [Список MIME-типов](http://en.wikipedia.org/wiki/Mime_type)</span><span class="sxs-lookup"><span data-stu-id="42c56-356">[IE8 Security Part V: Comprehensive Protection](http://blogs.msdn.com/ie/archive/2008/07/02/ie8-security-part-v-comprehensive-protection.aspx), [MIME type](http://en.wikipedia.org/wiki/Mime_type)</span></span> |
| <span data-ttu-id="42c56-357">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-357">**Steps**</span></span> | <span data-ttu-id="42c56-358">Заголовок X-содержимое-тип Options Hello является заголовком HTTP, которая позволяет разработчикам toospecify, что их содержимое не будут вносятся MIME.</span><span class="sxs-lookup"><span data-stu-id="42c56-358">hello X-Content-Type-Options header is an HTTP header that allows developers toospecify that their content should not be MIME-sniffed.</span></span> <span data-ttu-id="42c56-359">Этот заголовок является спроектированный toomitigate сканирование MIME атак.</span><span class="sxs-lookup"><span data-stu-id="42c56-359">This header is designed toomitigate MIME-Sniffing attacks.</span></span> <span data-ttu-id="42c56-360">Для каждой страницы, который может содержать управляемое содержимое пользователя, необходимо использовать hello X заголовок HTTP-содержимое-тип-параметры: nosniff.</span><span class="sxs-lookup"><span data-stu-id="42c56-360">For each page that could contain user controllable content, you must use hello HTTP Header X-Content-Type-Options:nosniff.</span></span> <span data-ttu-id="42c56-361">обязательный заголовок tooenable hello глобально для всех страниц приложения hello, можно выполнить одно из следующих hello</span><span class="sxs-lookup"><span data-stu-id="42c56-361">tooenable hello required header globally for all pages in hello application, you can do one of hello following</span></span>|

### <a name="example"></a><span data-ttu-id="42c56-362">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-362">Example</span></span>
<span data-ttu-id="42c56-363">Добавьте заголовок hello в файле web.config hello, если приложение hello размещается в Internet Information Services (IIS) 7 начиная.</span><span class="sxs-lookup"><span data-stu-id="42c56-363">Add hello header in hello web.config file if hello application is hosted by Internet Information Services (IIS) 7 onwards.</span></span> 
```XML
<system.webServer>
<httpProtocol>
<customHeaders>
<add name="X-Content-Type-Options" value="nosniff"/>
</customHeaders>
</httpProtocol>
</system.webServer>
```

### <a name="example"></a><span data-ttu-id="42c56-364">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-364">Example</span></span>
<span data-ttu-id="42c56-365">Добавить заголовок hello через hello глобальные приложения\_BeginRequest</span><span class="sxs-lookup"><span data-stu-id="42c56-365">Add hello header through hello global Application\_BeginRequest</span></span> 
```C#
void Application_BeginRequest(object sender, EventArgs e)
{
this.Response.Headers["X-Content-Type-Options"] = "nosniff";
}
```

### <a name="example"></a><span data-ttu-id="42c56-366">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-366">Example</span></span>
<span data-ttu-id="42c56-367">Внедрите пользовательский HTTP-модуль.</span><span class="sxs-lookup"><span data-stu-id="42c56-367">Implement custom HTTP module</span></span> 
```C#
public class XContentTypeOptionsModule : IHttpModule
{
#region IHttpModule Members
public void Dispose()
{
}
public void Init(HttpApplication context)
{
context.PreSendRequestHeaders += newEventHandler(context_PreSendRequestHeaders);
}
#endregion
void context_PreSendRequestHeaders(object sender, EventArgs e)
{
HttpApplication application = sender as HttpApplication;
if (application == null)
  return;
if (application.Response.Headers["X-Content-Type-Options "] != null)
  return;
application.Response.Headers.Add("X-Content-Type-Options ", "nosniff");
}
}
```

### <a name="example"></a><span data-ttu-id="42c56-368">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-368">Example</span></span>
<span data-ttu-id="42c56-369">Обязательный заголовок hello только для отдельных страниц можно включить, добавив его tooindividual ответов:</span><span class="sxs-lookup"><span data-stu-id="42c56-369">You can enable hello required header only for specific pages by adding it tooindividual responses:</span></span> 

```C#
this.Response.Headers["X-Content-Type-Options"] = "nosniff";
```

## <span data-ttu-id="42c56-370"><a id="standard-finger"></a>Удаление заголовков standard server используемых tooavoid веб-сайтов Windows Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-370"><a id="standard-finger"></a>Remove standard server headers on Windows Azure Web Sites tooavoid fingerprinting</span></span>

| <span data-ttu-id="42c56-371">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-371">Title</span></span>                   | <span data-ttu-id="42c56-372">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-372">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-373">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-373">**Component**</span></span>               | <span data-ttu-id="42c56-374">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="42c56-374">Web Application</span></span> | 
| <span data-ttu-id="42c56-375">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-375">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-376">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-376">Build</span></span> |  
| <span data-ttu-id="42c56-377">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-377">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-378">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-378">Generic</span></span> |
| <span data-ttu-id="42c56-379">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-379">**Attributes**</span></span>              | <span data-ttu-id="42c56-380">EnvironmentType: Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-380">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="42c56-381">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-381">**References**</span></span>              | [<span data-ttu-id="42c56-382">Сведения об удалении стандартных заголовков сервера на веб-сайтах Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-382">Removing standard server headers on Windows Azure Web Sites</span></span>](https://azure.microsoft.com/blog/removing-standard-server-headers-on-windows-azure-web-sites/) |
| <span data-ttu-id="42c56-383">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-383">**Steps**</span></span> | <span data-ttu-id="42c56-384">Заголовки, например Server X-на платформе-By, X-AspNet-Version раскрывать сведения о сервере hello и базовые технологии hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-384">Headers such as Server, X-Powered-By, X-AspNet-Version reveal information about hello server and hello underlying technologies.</span></span> <span data-ttu-id="42c56-385">Рекомендуется toosuppress эти заголовки, тем самым предотвращая используемых hello приложения</span><span class="sxs-lookup"><span data-stu-id="42c56-385">It is recommended toosuppress these headers thereby preventing fingerprinting hello application</span></span> |

## <span data-ttu-id="42c56-386"><a id="firewall-db"></a>Настройте брандмауэр Windows для доступа к ядру СУБД</span><span class="sxs-lookup"><span data-stu-id="42c56-386"><a id="firewall-db"></a>Configure a Windows Firewall for Database Engine Access</span></span>

| <span data-ttu-id="42c56-387">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-387">Title</span></span>                   | <span data-ttu-id="42c56-388">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-388">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-389">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-389">**Component**</span></span>               | <span data-ttu-id="42c56-390">База данных</span><span class="sxs-lookup"><span data-stu-id="42c56-390">Database</span></span> | 
| <span data-ttu-id="42c56-391">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-391">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-392">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-392">Build</span></span> |  
| <span data-ttu-id="42c56-393">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-393">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-394">SQL Azure, локальные</span><span class="sxs-lookup"><span data-stu-id="42c56-394">SQL Azure, OnPrem</span></span> |
| <span data-ttu-id="42c56-395">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-395">**Attributes**</span></span>              | <span data-ttu-id="42c56-396">Отсутствуют, версия SQL: 12</span><span class="sxs-lookup"><span data-stu-id="42c56-396">N/A, SQL Version - V12</span></span> |
| <span data-ttu-id="42c56-397">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-397">**References**</span></span>              | <span data-ttu-id="42c56-398">[Как брандмауэр базы данных Azure SQL tooconfigure](https://azure.microsoft.com/documentation/articles/sql-database-firewall-configure/), [Настройка брандмауэра Windows для доступа к компоненту Database Engine](https://msdn.microsoft.com/library/ms175043)</span><span class="sxs-lookup"><span data-stu-id="42c56-398">[How tooconfigure an Azure SQL database firewall](https://azure.microsoft.com/documentation/articles/sql-database-firewall-configure/), [Configure a Windows Firewall for Database Engine Access](https://msdn.microsoft.com/library/ms175043)</span></span> |
| <span data-ttu-id="42c56-399">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-399">**Steps**</span></span> | <span data-ttu-id="42c56-400">Системы брандмауэров предотвращают несанкционированный доступ к ресурсам toocomputer.</span><span class="sxs-lookup"><span data-stu-id="42c56-400">Firewall systems help prevent unauthorized access toocomputer resources.</span></span> <span data-ttu-id="42c56-401">tooaccess экземпляр hello SQL Server Database Engine через брандмауэр, необходимо настроить брандмауэр hello на компьютере hello, под управлением SQL Server tooallow доступ</span><span class="sxs-lookup"><span data-stu-id="42c56-401">tooaccess an instance of hello SQL Server Database Engine through a firewall, you must configure hello firewall on hello computer running SQL Server tooallow access</span></span> |

## <span data-ttu-id="42c56-402"><a id="cors-api"></a>Настройте доступ к веб-API ASP.NET с включенной технологией CORS только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-402"><a id="cors-api"></a>Ensure that only trusted origins are allowed if CORS is enabled on ASP.NET Web API</span></span>

| <span data-ttu-id="42c56-403">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-403">Title</span></span>                   | <span data-ttu-id="42c56-404">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-404">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-405">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-405">**Component**</span></span>               | <span data-ttu-id="42c56-406">Веб-интерфейс API</span><span class="sxs-lookup"><span data-stu-id="42c56-406">Web API</span></span> | 
| <span data-ttu-id="42c56-407">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-407">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-408">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-408">Build</span></span> |  
| <span data-ttu-id="42c56-409">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-409">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-410">MVC 5</span><span class="sxs-lookup"><span data-stu-id="42c56-410">MVC 5</span></span> |
| <span data-ttu-id="42c56-411">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-411">**Attributes**</span></span>              | <span data-ttu-id="42c56-412">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-412">N/A</span></span>  |
| <span data-ttu-id="42c56-413">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-413">**References**</span></span>              | <span data-ttu-id="42c56-414">[Статья о включении запросов независимо от источника в веб-API 2 ASP.NET](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api), [Поддержка CORS в веб-API 2 ASP.NET](https://msdn.microsoft.com/magazine/dn532203.aspx)</span><span class="sxs-lookup"><span data-stu-id="42c56-414">[Enabling Cross-Origin Requests in ASP.NET Web API 2](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api), [ASP.NET Web API - CORS Support in ASP.NET Web API 2](https://msdn.microsoft.com/magazine/dn532203.aspx)</span></span> |
| <span data-ttu-id="42c56-415">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-415">**Steps**</span></span> | <p><span data-ttu-id="42c56-416">Безопасность обозревателя предотвращает внесение домена tooanother запросы AJAX на веб-странице.</span><span class="sxs-lookup"><span data-stu-id="42c56-416">Browser security prevents a web page from making AJAX requests tooanother domain.</span></span> <span data-ttu-id="42c56-417">Это ограничение вызывается hello политика одного источника и предотвращает чтение конфиденциальных данных с другого сайта вредоносный сайт.</span><span class="sxs-lookup"><span data-stu-id="42c56-417">This restriction is called hello same-origin policy, and prevents a malicious site from reading sensitive data from another site.</span></span> <span data-ttu-id="42c56-418">Тем не менее, иногда бывает требуется tooexpose API-интерфейсы безопасно который можно использовать и другие сайты.</span><span class="sxs-lookup"><span data-stu-id="42c56-418">However, sometimes it might be required tooexpose APIs securely which other sites can consume.</span></span> <span data-ttu-id="42c56-419">Кросс-совместное использование источника ресурсов (CORS) — это стандарт консорциума W3C, позволяющего серверу политика одного источника toorelax hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-419">Cross Origin Resource Sharing (CORS) is a W3C standard that allows a server toorelax hello same-origin policy.</span></span></p><p><span data-ttu-id="42c56-420">С помощью CORS сервер может явным образом разрешить некоторые запросы независимо от источника, а другие — отклонить.</span><span class="sxs-lookup"><span data-stu-id="42c56-420">Using CORS, a server can explicitly allow some cross-origin requests while rejecting others.</span></span> <span data-ttu-id="42c56-421">Технология CORS более безопасная и гибкая, чем предыдущие технологии, например JSONP.</span><span class="sxs-lookup"><span data-stu-id="42c56-421">CORS is safer and more flexible than earlier techniques such as JSONP.</span></span></p>|

### <a name="example"></a><span data-ttu-id="42c56-422">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-422">Example</span></span>
<span data-ttu-id="42c56-423">В hello App_Start/WebApiConfig.cs добавьте следующий метод WebApiConfig.Register toohello кода hello</span><span class="sxs-lookup"><span data-stu-id="42c56-423">In hello App_Start/WebApiConfig.cs, add hello following code toohello WebApiConfig.Register method</span></span> 
```C#
using System.Web.Http;
namespace WebService
{
    public static class WebApiConfig
    {
        public static void Register(HttpConfiguration config)
        {
            // New code
            config.EnableCors();

            config.Routes.MapHttpRoute(
                name: "DefaultApi",
                routeTemplate: "api/{controller}/{id}",
                defaults: new { id = RouteParameter.Optional }
            );
        }
    }
}
```

### <a name="example"></a><span data-ttu-id="42c56-424">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-424">Example</span></span>
<span data-ttu-id="42c56-425">EnableCors атрибут может быть применен tooaction методы в контроллере следующим образом:</span><span class="sxs-lookup"><span data-stu-id="42c56-425">EnableCors attribute can be applied tooaction methods in a controller as follows:</span></span> 

```C#
public class ResourcesController : ApiController
{
  [EnableCors("http://localhost:55912", // Origin
              null,                     // Request headers
              "GET",                    // HTTP methods
              "bar",                    // Response headers
              SupportsCredentials=true  // Allow credentials
  )]
  public HttpResponseMessage Get(int id)
  {
    var resp = Request.CreateResponse(HttpStatusCode.NoContent);
    resp.Headers.Add("bar", "a bar value");
    return resp;
  }
  [EnableCors("http://localhost:55912",       // Origin
              "Accept, Origin, Content-Type", // Request headers
              "PUT",                          // HTTP methods
              PreflightMaxAge=600             // Preflight cache duration
  )]
  public HttpResponseMessage Put(Resource data)
  {
    return Request.CreateResponse(HttpStatusCode.OK, data);
  }
  [EnableCors("http://localhost:55912",       // Origin
              "Accept, Origin, Content-Type", // Request headers
              "POST",                         // HTTP methods
              PreflightMaxAge=600             // Preflight cache duration
  )]
  public HttpResponseMessage Post(Resource data)
  {
    return Request.CreateResponse(HttpStatusCode.OK, data);
  }
}
```

<span data-ttu-id="42c56-426">Задайте Обратите внимание, что критические tooensure, hello список источников, в атрибуте EnableCors tooa набор конечным и доверенных источников.</span><span class="sxs-lookup"><span data-stu-id="42c56-426">Please note that it is critical tooensure that hello list of origins in EnableCors attribute is set tooa finite and trusted set of origins.</span></span> <span data-ttu-id="42c56-427">Сбой tooconfigure этом неверно (например, установка значения hello как "*") позволит tootrigger вредоносные сайты кросс-origin API toohello запросов без каких-либо ограничений > делая hello API уязвимым tooCSRF атак.</span><span class="sxs-lookup"><span data-stu-id="42c56-427">Failing tooconfigure this inappropriately (e.g., setting hello value as '*') will allow malicious sites tootrigger cross origin requests toohello API without any restrictions, >thereby making hello API vulnerable tooCSRF attacks.</span></span> <span data-ttu-id="42c56-428">Атрибут EnableCors можно добавить на уровне контроллера.</span><span class="sxs-lookup"><span data-stu-id="42c56-428">EnableCors can be decorated at controller level.</span></span> 

### <a name="example"></a><span data-ttu-id="42c56-429">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-429">Example</span></span>
<span data-ttu-id="42c56-430">toodisable CORS на конкретный метод в классе hello DisableCors атрибут может использоваться, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="42c56-430">toodisable CORS on a particular method in a class, hello DisableCors attribute can be used as shown below:</span></span> 
```C#
[EnableCors("http://example.com", "Accept, Origin, Content-Type", "POST")]
public class ResourcesController : ApiController
{
  public HttpResponseMessage Put(Resource data)
  {
    return Request.CreateResponse(HttpStatusCode.OK, data);
  }
  public HttpResponseMessage Post(Resource data)
  {
    return Request.CreateResponse(HttpStatusCode.OK, data);
  }
  // CORS not allowed because of hello [DisableCors] attribute
  [DisableCors]
  public HttpResponseMessage Delete(int id)
  {
    return Request.CreateResponse(HttpStatusCode.NoContent);
  }
}
```

| <span data-ttu-id="42c56-431">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-431">Title</span></span>                   | <span data-ttu-id="42c56-432">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-432">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-433">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-433">**Component**</span></span>               | <span data-ttu-id="42c56-434">Веб-интерфейс API</span><span class="sxs-lookup"><span data-stu-id="42c56-434">Web API</span></span> | 
| <span data-ttu-id="42c56-435">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-435">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-436">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-436">Build</span></span> |  
| <span data-ttu-id="42c56-437">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-437">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-438">MVC 6</span><span class="sxs-lookup"><span data-stu-id="42c56-438">MVC 6</span></span> |
| <span data-ttu-id="42c56-439">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-439">**Attributes**</span></span>              | <span data-ttu-id="42c56-440">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-440">N/A</span></span>  |
| <span data-ttu-id="42c56-441">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-441">**References**</span></span>              | [<span data-ttu-id="42c56-442">Статья о включении запросов независимо от источника в ASP.NET Core 1.0</span><span class="sxs-lookup"><span data-stu-id="42c56-442">Enabling Cross-Origin Requests (CORS) in ASP.NET Core 1.0</span></span>](https://docs.asp.net/en/latest/security/cors.html) |
| <span data-ttu-id="42c56-443">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-443">**Steps**</span></span> | <p><span data-ttu-id="42c56-444">В ASP.NET Core 1.0 запросы независимо от источника можно включить с помощью ПО промежуточного слоя или MVC.</span><span class="sxs-lookup"><span data-stu-id="42c56-444">In ASP.NET Core 1.0, CORS can be enabled either using middleware or using MVC.</span></span> <span data-ttu-id="42c56-445">При использовании MVC tooenable CORS hello же CORS службы используются, но hello не является по промежуточного слоя CORS.</span><span class="sxs-lookup"><span data-stu-id="42c56-445">When using MVC tooenable CORS hello same CORS services are used, but hello CORS middleware is not.</span></span></p>|

<span data-ttu-id="42c56-446">**Подход 1** включении CORS в по промежуточного слоя: tooenable CORS для всего приложения hello добавить hello CORS по промежуточного слоя toohello конвейер обработки запросов с помощью метода расширения UseCors hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-446">**Approach-1** Enabling CORS with middleware: tooenable CORS for hello entire application add hello CORS middleware toohello request pipeline using hello UseCors extension method.</span></span> <span data-ttu-id="42c56-447">При добавлении по промежуточного слоя CORS hello, с помощью класса CorsPolicyBuilder hello, можно указать политику независимо от источника.</span><span class="sxs-lookup"><span data-stu-id="42c56-447">A cross-origin policy can be specified when adding hello CORS middleware using hello CorsPolicyBuilder class.</span></span> <span data-ttu-id="42c56-448">Существует два способа toodo это:</span><span class="sxs-lookup"><span data-stu-id="42c56-448">There are two ways toodo this:</span></span>

### <a name="example"></a><span data-ttu-id="42c56-449">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-449">Example</span></span>
<span data-ttu-id="42c56-450">Hello первого — toocall UseCors с лямбда-выражение.</span><span class="sxs-lookup"><span data-stu-id="42c56-450">hello first is toocall UseCors with a lambda.</span></span> <span data-ttu-id="42c56-451">лямбда-выражения Hello принимает объект CorsPolicyBuilder:</span><span class="sxs-lookup"><span data-stu-id="42c56-451">hello lambda takes a CorsPolicyBuilder object:</span></span> 
```C#
public void Configure(IApplicationBuilder app)
{
    app.UseCors(builder =>
        builder.WithOrigins("http://example.com")
        .WithMethods("GET", "POST", "HEAD")
        .WithHeaders("accept", "content-type", "origin", "x-custom-header"));
}
```

### <a name="example"></a><span data-ttu-id="42c56-452">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-452">Example</span></span>
<span data-ttu-id="42c56-453">Привет, второй — toodefine один или несколько именованных политики CORS и выберите hello политики по имени во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="42c56-453">hello second is toodefine one or more named CORS policies, and then select hello policy by name at run time.</span></span> 
```C#
public void ConfigureServices(IServiceCollection services)
{
    services.AddCors(options =>
    {
        options.AddPolicy("AllowSpecificOrigin",
            builder => builder.WithOrigins("http://example.com"));
    });
}
public void Configure(IApplicationBuilder app)
{
    app.UseCors("AllowSpecificOrigin");
    app.Run(async (context) =>
    {
        await context.Response.WriteAsync("Hello World!");
    });
}
```

<span data-ttu-id="42c56-454">**Подход 2** включении CORS в MVC: разработчики могут использовать в качестве альтернативы MVC tooapply конкретных CORS каждого действия каждого контроллера или глобально для всех контроллеров.</span><span class="sxs-lookup"><span data-stu-id="42c56-454">**Approach-2** Enabling CORS in MVC: Developers can alternatively use MVC tooapply specific CORS per action, per controller, or globally for all controllers.</span></span>

### <a name="example"></a><span data-ttu-id="42c56-455">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-455">Example</span></span>
<span data-ttu-id="42c56-456">Каждого действия: toospecify политику CORS для конкретного действия добавить действие toohello атрибут hello [EnableCors].</span><span class="sxs-lookup"><span data-stu-id="42c56-456">Per action: toospecify a CORS policy for a specific action add hello [EnableCors] attribute toohello action.</span></span> <span data-ttu-id="42c56-457">Укажите имя политики hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-457">Specify hello policy name.</span></span> 
```C#
public class HomeController : Controller
{
    [EnableCors("AllowSpecificOrigin")] 
    public IActionResult Index()
    {
        return View();
    }
```

### <a name="example"></a><span data-ttu-id="42c56-458">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-458">Example</span></span>
<span data-ttu-id="42c56-459">Для контроллера:</span><span class="sxs-lookup"><span data-stu-id="42c56-459">Per controller:</span></span> 
```C#
[EnableCors("AllowSpecificOrigin")]
public class HomeController : Controller
{
```

### <a name="example"></a><span data-ttu-id="42c56-460">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-460">Example</span></span>
<span data-ttu-id="42c56-461">Глобально:</span><span class="sxs-lookup"><span data-stu-id="42c56-461">Globally:</span></span> 
```C#
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc();
    services.Configure<MvcOptions>(options =>
    {
        options.Filters.Add(new CorsAuthorizationFilterFactory("AllowSpecificOrigin"));
    });
}
```
<span data-ttu-id="42c56-462">Задайте Обратите внимание, что критические tooensure, hello список источников, в атрибуте EnableCors tooa набор конечным и доверенных источников.</span><span class="sxs-lookup"><span data-stu-id="42c56-462">Please note that it is critical tooensure that hello list of origins in EnableCors attribute is set tooa finite and trusted set of origins.</span></span> <span data-ttu-id="42c56-463">Сбой tooconfigure этом неверно (например, установка значения hello как "*") позволит tootrigger вредоносные сайты кросс-origin API toohello запросов без каких-либо ограничений > делая hello API уязвимым tooCSRF атак.</span><span class="sxs-lookup"><span data-stu-id="42c56-463">Failing tooconfigure this inappropriately (e.g., setting hello value as '*') will allow malicious sites tootrigger cross origin requests toohello API without any restrictions, >thereby making hello API vulnerable tooCSRF attacks.</span></span> 

### <a name="example"></a><span data-ttu-id="42c56-464">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-464">Example</span></span>
<span data-ttu-id="42c56-465">toodisable CORS для контроллера или действия, используйте атрибут hello [DisableCors].</span><span class="sxs-lookup"><span data-stu-id="42c56-465">toodisable CORS for a controller or action, use hello [DisableCors] attribute.</span></span> 
```C#
[DisableCors]
    public IActionResult About()
    {
        return View();
    }
```

## <span data-ttu-id="42c56-466"><a id="config-sensitive"></a>Шифруйте разделы файлов конфигурации веб-API, содержащие конфиденциальные данные</span><span class="sxs-lookup"><span data-stu-id="42c56-466"><a id="config-sensitive"></a>Encrypt sections of Web API's configuration files that contain sensitive data</span></span>

| <span data-ttu-id="42c56-467">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-467">Title</span></span>                   | <span data-ttu-id="42c56-468">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-468">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-469">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-469">**Component**</span></span>               | <span data-ttu-id="42c56-470">Веб-интерфейс API</span><span class="sxs-lookup"><span data-stu-id="42c56-470">Web API</span></span> | 
| <span data-ttu-id="42c56-471">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-471">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-472">Развертывание</span><span class="sxs-lookup"><span data-stu-id="42c56-472">Deployment</span></span> |  
| <span data-ttu-id="42c56-473">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-473">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-474">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-474">Generic</span></span> |
| <span data-ttu-id="42c56-475">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-475">**Attributes**</span></span>              | <span data-ttu-id="42c56-476">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-476">N/A</span></span>  |
| <span data-ttu-id="42c56-477">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-477">**References**</span></span>              | <span data-ttu-id="42c56-478">[Практическое руководство: Шифрование разделов конфигурации в ASP.NET 2.0 с помощью DPAPI](https://msdn.microsoft.com/library/ff647398.aspx), [указание защищенный поставщик конфигурации](https://msdn.microsoft.com/library/68ze1hb2.aspx), [секреты приложения tooprotect с помощью хранилища ключей Azure](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/)</span><span class="sxs-lookup"><span data-stu-id="42c56-478">[How To: Encrypt Configuration Sections in ASP.NET 2.0 Using DPAPI](https://msdn.microsoft.com/library/ff647398.aspx), [Specifying a Protected Configuration Provider](https://msdn.microsoft.com/library/68ze1hb2.aspx), [Using Azure Key Vault tooprotect application secrets](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/)</span></span> |
| <span data-ttu-id="42c56-479">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-479">**Steps**</span></span> | <span data-ttu-id="42c56-480">Файлы конфигурации, например hello Web.config, appsettings.json, часто используемый toohold конфиденциальные сведения, включая имена пользователей, пароли, строки подключения к базам данных и ключи шифрования.</span><span class="sxs-lookup"><span data-stu-id="42c56-480">Configuration files such as hello Web.config, appsettings.json are often used toohold sensitive information, including user names, passwords, database connection strings, and encryption keys.</span></span> <span data-ttu-id="42c56-481">Если эти сведения не защищают, приложение будет уязвимым tooattackers или пользователи-злоумышленники получение конфиденциальные сведения, например имена учетных записей пользователей и пароли, имен базы данных и сервера.</span><span class="sxs-lookup"><span data-stu-id="42c56-481">If you do not protect this information, your application is vulnerable tooattackers or malicious users obtaining sensitive information such as account user names and passwords, database names and server names.</span></span> <span data-ttu-id="42c56-482">В зависимости от типа развертывания hello (azure или в локальной среде), шифрование hello конфиденциальные разделов файлов конфигурации, с помощью DPAPI или служб, таких как хранилище ключей Azure.</span><span class="sxs-lookup"><span data-stu-id="42c56-482">Based on hello deployment type (azure/on-prem), encrypt hello sensitive sections of config files using DPAPI or services like Azure Key Vault.</span></span> |

## <span data-ttu-id="42c56-483"><a id="admin-strong"></a>Обеспечьте безопасность всех интерфейсов администратора с использованием надежных учетных данных</span><span class="sxs-lookup"><span data-stu-id="42c56-483"><a id="admin-strong"></a>Ensure that all admin interfaces are secured with strong credentials</span></span>

| <span data-ttu-id="42c56-484">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-484">Title</span></span>                   | <span data-ttu-id="42c56-485">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-485">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-486">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-486">**Component**</span></span>               | <span data-ttu-id="42c56-487">Устройства Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="42c56-487">IoT Device</span></span> | 
| <span data-ttu-id="42c56-488">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-488">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-489">Развертывание</span><span class="sxs-lookup"><span data-stu-id="42c56-489">Deployment</span></span> |  
| <span data-ttu-id="42c56-490">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-490">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-491">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-491">Generic</span></span> |
| <span data-ttu-id="42c56-492">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-492">**Attributes**</span></span>              | <span data-ttu-id="42c56-493">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-493">N/A</span></span>  |
| <span data-ttu-id="42c56-494">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-494">**References**</span></span>              | <span data-ttu-id="42c56-495">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-495">N/A</span></span>  |
| <span data-ttu-id="42c56-496">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-496">**Steps**</span></span> | <span data-ttu-id="42c56-497">Все административные интерфейсы hello устройства или предоставляет шлюз поля должны быть защищены с помощью строгого учетных данных.</span><span class="sxs-lookup"><span data-stu-id="42c56-497">Any administrative interfaces that hello device or field gateway exposes should be secured using strong credentials.</span></span> <span data-ttu-id="42c56-498">Кроме того, также необходимо обеспечить защиту остальных предоставленных интерфейсов, например Wi-Fi, SSH, общих файловых ресурсов и FTP.</span><span class="sxs-lookup"><span data-stu-id="42c56-498">Also, any other exposed interfaces like WiFi, SSH, File shares, FTP should be secured with strong credentials.</span></span> <span data-ttu-id="42c56-499">Не следует использовать слабые пароли, заданные по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="42c56-499">Default weak passwords should not be used.</span></span> |

## <span data-ttu-id="42c56-500"><a id="unknown-exe"></a>Защитите устройства от выполнения неизвестного кода</span><span class="sxs-lookup"><span data-stu-id="42c56-500"><a id="unknown-exe"></a>Ensure that unknown code cannot execute on devices</span></span>

| <span data-ttu-id="42c56-501">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-501">Title</span></span>                   | <span data-ttu-id="42c56-502">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-502">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-503">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-503">**Component**</span></span>               | <span data-ttu-id="42c56-504">Устройства Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="42c56-504">IoT Device</span></span> | 
| <span data-ttu-id="42c56-505">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-505">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-506">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-506">Build</span></span> |  
| <span data-ttu-id="42c56-507">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-507">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-508">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-508">Generic</span></span> |
| <span data-ttu-id="42c56-509">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-509">**Attributes**</span></span>              | <span data-ttu-id="42c56-510">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-510">N/A</span></span>  |
| <span data-ttu-id="42c56-511">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-511">**References**</span></span>              | [<span data-ttu-id="42c56-512">Раздел о включении безопасной загрузки и шифрования BitLocker в Windows 10 IoT Базовая</span><span class="sxs-lookup"><span data-stu-id="42c56-512">Enabling Secure Boot and bit-locker Device Encryption on Windows 10 IoT Core</span></span>](https://developer.microsoft.com/windows/iot/win10/sb_bl) |
| <span data-ttu-id="42c56-513">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-513">**Steps**</span></span> | <span data-ttu-id="42c56-514">Безопасной загрузки UEFI ограничивает hello системы tooonly выполнения двоичные файлы, подписанные указанным центром.</span><span class="sxs-lookup"><span data-stu-id="42c56-514">UEFI Secure Boot restricts hello system tooonly allow execution of binaries signed by a specified authority.</span></span> <span data-ttu-id="42c56-515">Эта функция предотвращает Неизвестный код, выполняемый на платформе hello и потенциально понижение уровня безопасности hello его.</span><span class="sxs-lookup"><span data-stu-id="42c56-515">This feature prevents unknown code from being executed on hello platform and potentially weakening hello security posture of it.</span></span> <span data-ttu-id="42c56-516">Включите безопасной загрузки UEFI и ограничить hello список центров сертификации, которые являются доверенными для подписи кода.</span><span class="sxs-lookup"><span data-stu-id="42c56-516">Enable UEFI Secure Boot and restrict hello list of certificate authorities that are trusted for signing code.</span></span> <span data-ttu-id="42c56-517">Подписать весь код, который развертывается на устройстве hello одним hello доверенных центров.</span><span class="sxs-lookup"><span data-stu-id="42c56-517">Sign all code that is deployed on hello device using one of hello trusted authorities.</span></span> |

## <span data-ttu-id="42c56-518"><a id="partition-iot"></a>Шифруйте разделы операционной системы и дополнительные разделы устройства Интернета вещей с помощью BitLocker</span><span class="sxs-lookup"><span data-stu-id="42c56-518"><a id="partition-iot"></a>Encrypt OS and additional partitions of IoT Device with bit-locker</span></span>

| <span data-ttu-id="42c56-519">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-519">Title</span></span>                   | <span data-ttu-id="42c56-520">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-520">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-521">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-521">**Component**</span></span>               | <span data-ttu-id="42c56-522">Устройства Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="42c56-522">IoT Device</span></span> | 
| <span data-ttu-id="42c56-523">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-523">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-524">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-524">Build</span></span> |  
| <span data-ttu-id="42c56-525">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-525">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-526">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-526">Generic</span></span> |
| <span data-ttu-id="42c56-527">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-527">**Attributes**</span></span>              | <span data-ttu-id="42c56-528">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-528">N/A</span></span>  |
| <span data-ttu-id="42c56-529">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-529">**References**</span></span>              | <span data-ttu-id="42c56-530">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-530">N/A</span></span>  |
| <span data-ttu-id="42c56-531">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-531">**Steps**</span></span> | <span data-ttu-id="42c56-532">Windows 10 IoT базовая реализует это облегченная версия шифрование устройства Корзина бит, что имеет надежный зависимость от наличия hello доверенного платформенного модуля на платформе hello, включая протокол необходимые preOS hello в UEFI, который выполняет необходимые размеры hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-532">Windows 10 IoT Core implements a lightweight version of bit-locker Device Encryption, which has a strong dependency on hello presence of a TPM on hello platform, including hello necessary preOS protocol in UEFI that conducts hello necessary measurements.</span></span> <span data-ttu-id="42c56-533">Этих измерений preOS убедитесь, что hello ОС позже имеется нормативное запись о том, как был запущен hello ОС. Шифрование ОС секций с помощью корзины бит и другие разделы также в случае, если они сохраняют все конфиденциальные данные.</span><span class="sxs-lookup"><span data-stu-id="42c56-533">These preOS measurements ensure that hello OS later has a definitive record of how hello OS was launched.Encrypt OS partitions using bit-locker and any additional partitions also in case they store any sensitive data.</span></span> |

## <span data-ttu-id="42c56-534"><a id="min-enable"></a>Убедитесь, что только hello минимальное служб и компонентов включены для устройств</span><span class="sxs-lookup"><span data-stu-id="42c56-534"><a id="min-enable"></a>Ensure that only hello minimum services/features are enabled on devices</span></span>

| <span data-ttu-id="42c56-535">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-535">Title</span></span>                   | <span data-ttu-id="42c56-536">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-536">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-537">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-537">**Component**</span></span>               | <span data-ttu-id="42c56-538">Устройства Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="42c56-538">IoT Device</span></span> | 
| <span data-ttu-id="42c56-539">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-539">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-540">Развертывание</span><span class="sxs-lookup"><span data-stu-id="42c56-540">Deployment</span></span> |  
| <span data-ttu-id="42c56-541">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-541">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-542">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-542">Generic</span></span> |
| <span data-ttu-id="42c56-543">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-543">**Attributes**</span></span>              | <span data-ttu-id="42c56-544">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-544">N/A</span></span>  |
| <span data-ttu-id="42c56-545">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-545">**References**</span></span>              | <span data-ttu-id="42c56-546">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-546">N/A</span></span>  |
| <span data-ttu-id="42c56-547">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-547">**Steps**</span></span> | <span data-ttu-id="42c56-548">Не включить или отключить все функции или службы в hello ОС, которая не является обязательным для функционирования hello hello решения.</span><span class="sxs-lookup"><span data-stu-id="42c56-548">Do not enable or turn off any features or services in hello OS that is not required for hello functioning of hello solution.</span></span> <span data-ttu-id="42c56-549">Для например если hello устройство не требует toobe пользовательского интерфейса, в развертывании, установка основных компонентов Windows IoT в режиме без монитора.</span><span class="sxs-lookup"><span data-stu-id="42c56-549">For e.g. if hello device does not require a UI toobe deployed, install Windows IoT Core in headless mode.</span></span> |

## <span data-ttu-id="42c56-550"><a id="field-bit-locker"></a>Шифруйте разделы операционной системы и дополнительные разделы полевого шлюза Интернета вещей с помощью BitLocker</span><span class="sxs-lookup"><span data-stu-id="42c56-550"><a id="field-bit-locker"></a>Encrypt OS and additional partitions of IoT Field Gateway with bit-locker</span></span>

| <span data-ttu-id="42c56-551">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-551">Title</span></span>                   | <span data-ttu-id="42c56-552">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-552">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-553">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-553">**Component**</span></span>               | <span data-ttu-id="42c56-554">Полевой шлюз Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="42c56-554">IoT Field Gateway</span></span> | 
| <span data-ttu-id="42c56-555">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-555">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-556">Развертывание</span><span class="sxs-lookup"><span data-stu-id="42c56-556">Deployment</span></span> |  
| <span data-ttu-id="42c56-557">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-557">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-558">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-558">Generic</span></span> |
| <span data-ttu-id="42c56-559">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-559">**Attributes**</span></span>              | <span data-ttu-id="42c56-560">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-560">N/A</span></span>  |
| <span data-ttu-id="42c56-561">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-561">**References**</span></span>              | <span data-ttu-id="42c56-562">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-562">N/A</span></span>  |
| <span data-ttu-id="42c56-563">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-563">**Steps**</span></span> | <span data-ttu-id="42c56-564">Windows 10 IoT базовая реализует это облегченная версия шифрование устройства Корзина бит, что имеет надежный зависимость от наличия hello доверенного платформенного модуля на платформе hello, включая протокол необходимые preOS hello в UEFI, который выполняет необходимые размеры hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-564">Windows 10 IoT Core implements a lightweight version of bit-locker Device Encryption, which has a strong dependency on hello presence of a TPM on hello platform, including hello necessary preOS protocol in UEFI that conducts hello necessary measurements.</span></span> <span data-ttu-id="42c56-565">Этих измерений preOS убедитесь, что hello ОС позже имеется нормативное запись о том, как был запущен hello ОС. Шифрование ОС секций с помощью корзины бит и другие разделы также в случае, если они сохраняют все конфиденциальные данные.</span><span class="sxs-lookup"><span data-stu-id="42c56-565">These preOS measurements ensure that hello OS later has a definitive record of how hello OS was launched.Encrypt OS partitions using bit-locker and any additional partitions also in case they store any sensitive data.</span></span> |

## <span data-ttu-id="42c56-566"><a id="default-change"></a>Убедитесь, что учетные данные входа по умолчанию hello шлюза поле hello изменены во время установки</span><span class="sxs-lookup"><span data-stu-id="42c56-566"><a id="default-change"></a>Ensure that hello default login credentials of hello field gateway are changed during installation</span></span>

| <span data-ttu-id="42c56-567">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-567">Title</span></span>                   | <span data-ttu-id="42c56-568">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-568">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-569">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-569">**Component**</span></span>               | <span data-ttu-id="42c56-570">Полевой шлюз Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="42c56-570">IoT Field Gateway</span></span> | 
| <span data-ttu-id="42c56-571">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-571">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-572">Развертывание</span><span class="sxs-lookup"><span data-stu-id="42c56-572">Deployment</span></span> |  
| <span data-ttu-id="42c56-573">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-573">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-574">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-574">Generic</span></span> |
| <span data-ttu-id="42c56-575">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-575">**Attributes**</span></span>              | <span data-ttu-id="42c56-576">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-576">N/A</span></span>  |
| <span data-ttu-id="42c56-577">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-577">**References**</span></span>              | <span data-ttu-id="42c56-578">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-578">N/A</span></span>  |
| <span data-ttu-id="42c56-579">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-579">**Steps**</span></span> | <span data-ttu-id="42c56-580">Убедитесь, что учетные данные входа по умолчанию hello шлюза поле hello изменены во время установки</span><span class="sxs-lookup"><span data-stu-id="42c56-580">Ensure that hello default login credentials of hello field gateway are changed during installation</span></span> |

## <span data-ttu-id="42c56-581"><a id="cloud-firmware"></a>Убедитесь, что этот шлюз облака hello реализует процесс tookeep hello подключенных устройств встроенное по копии toodate</span><span class="sxs-lookup"><span data-stu-id="42c56-581"><a id="cloud-firmware"></a>Ensure that hello Cloud Gateway implements a process tookeep hello connected devices firmware up toodate</span></span>

| <span data-ttu-id="42c56-582">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-582">Title</span></span>                   | <span data-ttu-id="42c56-583">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-583">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-584">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-584">**Component**</span></span>               | <span data-ttu-id="42c56-585">Облачный шлюз Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="42c56-585">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="42c56-586">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-586">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-587">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-587">Build</span></span> |  
| <span data-ttu-id="42c56-588">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-588">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-589">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-589">Generic</span></span> |
| <span data-ttu-id="42c56-590">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-590">**Attributes**</span></span>              | <span data-ttu-id="42c56-591">Выбор шлюза: Центр Интернета вещей Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-591">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="42c56-592">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-592">**References**</span></span>              | <span data-ttu-id="42c56-593">[Общие сведения об управлении устройствами концентратора IoT](https://azure.microsoft.com/documentation/articles/iot-hub-device-management-overview/), [как tooupdate микропрограммы устройства](https://azure.microsoft.com/documentation/articles/iot-hub-device-management-device-jobs/)</span><span class="sxs-lookup"><span data-stu-id="42c56-593">[IoT Hub Device Management Overview](https://azure.microsoft.com/documentation/articles/iot-hub-device-management-overview/), [How tooupdate Device Firmware](https://azure.microsoft.com/documentation/articles/iot-hub-device-management-device-jobs/)</span></span> |
| <span data-ttu-id="42c56-594">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-594">**Steps**</span></span> | <span data-ttu-id="42c56-595">LWM2M — это протокол из hello Open Mobile Alliance для управления устройствами IoT.</span><span class="sxs-lookup"><span data-stu-id="42c56-595">LWM2M is a protocol from hello Open Mobile Alliance for IoT Device Management.</span></span> <span data-ttu-id="42c56-596">Управление устройствами Azure IoT позволяет toointeract физическими устройствами с помощью задания устройства.</span><span class="sxs-lookup"><span data-stu-id="42c56-596">Azure IoT device management allows toointeract with physical devices using device jobs.</span></span> <span data-ttu-id="42c56-597">Убедитесь, что этот шлюз облака hello реализует keep hello процесса tooroutinely устройства и другие конфигурационные данные копии toodate концентратора IoT Azure возможности управления устройствами.</span><span class="sxs-lookup"><span data-stu-id="42c56-597">Ensure that hello Cloud Gateway implements a process tooroutinely keep hello device and other configuration data up toodate using Azure IoT Hub Device Management.</span></span> |

## <span data-ttu-id="42c56-598"><a id="controls-policies"></a>Настройте элементы управления безопасностью конечных точек устройства в соответствии с политиками организации</span><span class="sxs-lookup"><span data-stu-id="42c56-598"><a id="controls-policies"></a>Ensure that devices have end-point security controls configured as per organizational policies</span></span>

| <span data-ttu-id="42c56-599">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-599">Title</span></span>                   | <span data-ttu-id="42c56-600">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-600">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-601">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-601">**Component**</span></span>               | <span data-ttu-id="42c56-602">Отношения доверия между компьютерами</span><span class="sxs-lookup"><span data-stu-id="42c56-602">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="42c56-603">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-603">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-604">Развертывание</span><span class="sxs-lookup"><span data-stu-id="42c56-604">Deployment</span></span> |  
| <span data-ttu-id="42c56-605">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-605">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-606">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-606">Generic</span></span> |
| <span data-ttu-id="42c56-607">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-607">**Attributes**</span></span>              | <span data-ttu-id="42c56-608">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-608">N/A</span></span>  |
| <span data-ttu-id="42c56-609">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-609">**References**</span></span>              | <span data-ttu-id="42c56-610">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-610">N/A</span></span>  |
| <span data-ttu-id="42c56-611">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-611">**Steps**</span></span> | <span data-ttu-id="42c56-612">Убедитесь, что на устройстве настроены элементы управления безопасностью конечных точек, например шифрование BitLocker, выполняемое на уровне дисков, антивирусная программа с обновленными подписями, брандмауэр на основе узла, обновления операционной системы, групповые политики и т. д., в соответствии с политиками безопасности организации.</span><span class="sxs-lookup"><span data-stu-id="42c56-612">Ensure that devices have end-point security controls such as bit-locker for disk-level encryption, anti-virus with updated signatures, host based firewall, OS upgrades, group policies etc. are configured as per organizational security policies.</span></span> |

## <span data-ttu-id="42c56-613"><a id="secure-keys"></a>Обеспечьте безопасное управление ключами доступа к хранилищу Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-613"><a id="secure-keys"></a>Ensure secure management of Azure storage access keys</span></span>

| <span data-ttu-id="42c56-614">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-614">Title</span></span>                   | <span data-ttu-id="42c56-615">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-615">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-616">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-616">**Component**</span></span>               | <span data-ttu-id="42c56-617">Хранилище Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-617">Azure Storage</span></span> | 
| <span data-ttu-id="42c56-618">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-618">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-619">Развертывание</span><span class="sxs-lookup"><span data-stu-id="42c56-619">Deployment</span></span> |  
| <span data-ttu-id="42c56-620">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-620">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-621">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-621">Generic</span></span> |
| <span data-ttu-id="42c56-622">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-622">**Attributes**</span></span>              | <span data-ttu-id="42c56-623">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-623">N/A</span></span>  |
| <span data-ttu-id="42c56-624">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-624">**References**</span></span>              | [<span data-ttu-id="42c56-625">Руководство по безопасности службы хранилища Azure. Управление ключами учетной записи хранения</span><span class="sxs-lookup"><span data-stu-id="42c56-625">Azure Storage security guide - Managing Your Storage Account Keys</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_managing-your-storage-account-keys) |
| <span data-ttu-id="42c56-626">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-626">**Steps**</span></span> | <p><span data-ttu-id="42c56-627">Хранилища ключей: Рекомендуется использовать клавиши доступа toostore hello хранилища Azure в хранилище ключей Azure как секрет и приложения hello получить hello ключ из хранилища ключей.</span><span class="sxs-lookup"><span data-stu-id="42c56-627">Key Storage: It is recommended toostore hello Azure Storage access keys in Azure Key Vault as a secret and have hello applications retrieve hello key from key vault.</span></span> <span data-ttu-id="42c56-628">Это рекомендуется из-за toohello следующих причин:</span><span class="sxs-lookup"><span data-stu-id="42c56-628">This is recommended due toohello following reasons:</span></span></p><ul><li><span data-ttu-id="42c56-629">приложения Hello никогда не будет hello, ключа хранилища жестко задано в файле конфигурации, удаляющий пути, кто-то получение ключей toohello без определенного разрешения доступа</span><span class="sxs-lookup"><span data-stu-id="42c56-629">hello application will never have hello storage key hardcoded in a configuration file, which removes that avenue of somebody getting access toohello keys without specific permission</span></span></li><li><span data-ttu-id="42c56-630">Ключи доступа toohello можно управлять с помощью Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="42c56-630">Access toohello keys can be controlled using Azure Active Directory.</span></span> <span data-ttu-id="42c56-631">Это означает, что владелец учетной записи можно предоставить доступ toohello несколько приложений, которые должны tooretrieve hello ключи из хранилища ключей Azure.</span><span class="sxs-lookup"><span data-stu-id="42c56-631">This means an account owner can grant access toohello handful of applications that need tooretrieve hello keys from Azure Key Vault.</span></span> <span data-ttu-id="42c56-632">Другие приложения не будет возможности tooaccess hello ключи не предоставляя им разрешений специально</span><span class="sxs-lookup"><span data-stu-id="42c56-632">Other applications will not be able tooaccess hello keys without granting them permission specifically</span></span></li><li><span data-ttu-id="42c56-633">Повторное создание ключа: Рекомендуется toohave процесса в месте tooregenerate для доступа к хранилищу Azure ключи по соображениям безопасности.</span><span class="sxs-lookup"><span data-stu-id="42c56-633">Key Regeneration: It is recommended toohave a process in place tooregenerate Azure storage access keys for security reasons.</span></span> <span data-ttu-id="42c56-634">Сведения о том, почему и как tooplan для повторного создания ключа описаны в hello руководства по безопасности хранилища Azure ссылаются статьи</span><span class="sxs-lookup"><span data-stu-id="42c56-634">Details on why and how tooplan for key regeneration are documented in hello Azure Storage Security Guide reference article</span></span></li></ul>|

## <span data-ttu-id="42c56-635"><a id="cors-storage"></a>Настройте доступ к службе хранилища Azure с включенной технологией CORS только из доверенных источников</span><span class="sxs-lookup"><span data-stu-id="42c56-635"><a id="cors-storage"></a>Ensure that only trusted origins are allowed if CORS is enabled on Azure storage</span></span>

| <span data-ttu-id="42c56-636">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-636">Title</span></span>                   | <span data-ttu-id="42c56-637">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-637">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-638">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-638">**Component**</span></span>               | <span data-ttu-id="42c56-639">Хранилище Azure</span><span class="sxs-lookup"><span data-stu-id="42c56-639">Azure Storage</span></span> | 
| <span data-ttu-id="42c56-640">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-640">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-641">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-641">Build</span></span> |  
| <span data-ttu-id="42c56-642">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-642">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-643">Универсальный</span><span class="sxs-lookup"><span data-stu-id="42c56-643">Generic</span></span> |
| <span data-ttu-id="42c56-644">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-644">**Attributes**</span></span>              | <span data-ttu-id="42c56-645">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-645">N/A</span></span>  |
| <span data-ttu-id="42c56-646">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-646">**References**</span></span>              | [<span data-ttu-id="42c56-647">Поддержка CORS для служб хранилища Azure hello</span><span class="sxs-lookup"><span data-stu-id="42c56-647">CORS Support for hello Azure Storage Services</span></span>](https://msdn.microsoft.com/library/azure/dn535601.aspx) |
| <span data-ttu-id="42c56-648">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-648">**Steps**</span></span> | <span data-ttu-id="42c56-649">Хранилище Azure позволяет tooenable CORS — Cross источника общий доступ к ресурсам.</span><span class="sxs-lookup"><span data-stu-id="42c56-649">Azure Storage allows you tooenable CORS – Cross Origin Resource Sharing.</span></span> <span data-ttu-id="42c56-650">Для каждой учетной записи хранения можно указать домены, которые могут обращаться к ресурсам hello этой учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="42c56-650">For each storage account, you can specify domains that can access hello resources in that storage account.</span></span> <span data-ttu-id="42c56-651">По умолчанию механизм CORS отключен для всех служб.</span><span class="sxs-lookup"><span data-stu-id="42c56-651">By default, CORS is disabled on all services.</span></span> <span data-ttu-id="42c56-652">CORS можно включить с помощью hello API-интерфейса REST или hello хранилища клиента библиотеки toocall один из политики службы hello tooset методы hello.</span><span class="sxs-lookup"><span data-stu-id="42c56-652">You can enable CORS by using hello REST API or hello storage client library toocall one of hello methods tooset hello service policies.</span></span> |

## <span data-ttu-id="42c56-653"><a id="throttling"></a>Включите компонент регулирования служб WCF</span><span class="sxs-lookup"><span data-stu-id="42c56-653"><a id="throttling"></a>Enable WCF's service throttling feature</span></span>

| <span data-ttu-id="42c56-654">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-654">Title</span></span>                   | <span data-ttu-id="42c56-655">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-655">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-656">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-656">**Component**</span></span>               | <span data-ttu-id="42c56-657">WCF</span><span class="sxs-lookup"><span data-stu-id="42c56-657">WCF</span></span> | 
| <span data-ttu-id="42c56-658">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-658">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-659">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-659">Build</span></span> |  
| <span data-ttu-id="42c56-660">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-660">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-661">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="42c56-661">.NET Framework 3</span></span> |
| <span data-ttu-id="42c56-662">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-662">**Attributes**</span></span>              | <span data-ttu-id="42c56-663">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-663">N/A</span></span>  |
| <span data-ttu-id="42c56-664">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-664">**References**</span></span>              | <span data-ttu-id="42c56-665">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="42c56-665">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="42c56-666">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-666">**Steps**</span></span> | <p><span data-ttu-id="42c56-667">Не hello установки предела использования системных ресурсов может привести к исчерпанию ресурсов и в конечном счете отказ в обслуживании.</span><span class="sxs-lookup"><span data-stu-id="42c56-667">Not placing a limit on hello use of system resources could result in resource exhaustion and ultimately a denial of service.</span></span></p><ul><li><span data-ttu-id="42c56-668">**Описание:** запросов на обслуживание toothrottle hello возможности предоставляет Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="42c56-668">**EXPLANATION:** Windows Communication Foundation (WCF) offers hello ability toothrottle service requests.</span></span> <span data-ttu-id="42c56-669">Слишком большое количество клиентских запросов может привести к переполнению системы, в результате чего ее ресурсы могут исчерпаться.</span><span class="sxs-lookup"><span data-stu-id="42c56-669">Allowing too many client requests can flood a system and exhaust its resources.</span></span> <span data-ttu-id="42c56-670">На hello другой стороны, позволяя только небольшое количество запросов службы tooa можно запретить использование службы hello законных пользователей.</span><span class="sxs-lookup"><span data-stu-id="42c56-670">On hello other hand, allowing only a small number of requests tooa service can prevent legitimate users from using hello service.</span></span> <span data-ttu-id="42c56-671">Каждой службы должно быть индивидуально настраиваемых tooand настроен tooallow hello соответствующий объем ресурсов.</span><span class="sxs-lookup"><span data-stu-id="42c56-671">Each service should be individually tuned tooand configured tooallow hello appropriate amount of resources.</span></span></li><li><span data-ttu-id="42c56-672">**Рекомендации.** Включите функцию регулирования служб WCF и задайте ограничения, соответствующие вашему приложению.</span><span class="sxs-lookup"><span data-stu-id="42c56-672">**RECOMMENDATIONS** Enable WCF's service throttling feature and set limits appropriate for your application.</span></span></li></ul>|

### <a name="example"></a><span data-ttu-id="42c56-673">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-673">Example</span></span>
<span data-ttu-id="42c56-674">Hello ниже приведен пример конфигурации с регулированием включена.</span><span class="sxs-lookup"><span data-stu-id="42c56-674">hello following is an example configuration with throttling enabled:</span></span>
```
<system.serviceModel> 
  <behaviors>
    <serviceBehaviors>
    <behavior name="Throttled">
    <serviceThrottling maxConcurrentCalls="[YOUR SERVICE VALUE]" maxConcurrentSessions="[YOUR SERVICE VALUE]" maxConcurrentInstances="[YOUR SERVICE VALUE]" /> 
  ...
</system.serviceModel> 
```

## <span data-ttu-id="42c56-675"><a id="info-metadata"></a>Применяйте раскрытие информации через метаданные, переданные WCF</span><span class="sxs-lookup"><span data-stu-id="42c56-675"><a id="info-metadata"></a>WCF-Information disclosure through metadata</span></span>

| <span data-ttu-id="42c56-676">Название</span><span class="sxs-lookup"><span data-stu-id="42c56-676">Title</span></span>                   | <span data-ttu-id="42c56-677">Сведения</span><span class="sxs-lookup"><span data-stu-id="42c56-677">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="42c56-678">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="42c56-678">**Component**</span></span>               | <span data-ttu-id="42c56-679">WCF</span><span class="sxs-lookup"><span data-stu-id="42c56-679">WCF</span></span> | 
| <span data-ttu-id="42c56-680">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="42c56-680">**SDL Phase**</span></span>               | <span data-ttu-id="42c56-681">Создание</span><span class="sxs-lookup"><span data-stu-id="42c56-681">Build</span></span> |  
| <span data-ttu-id="42c56-682">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="42c56-682">**Applicable Technologies**</span></span> | <span data-ttu-id="42c56-683">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="42c56-683">.NET Framework 3</span></span> |
| <span data-ttu-id="42c56-684">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="42c56-684">**Attributes**</span></span>              | <span data-ttu-id="42c56-685">Недоступно</span><span class="sxs-lookup"><span data-stu-id="42c56-685">N/A</span></span>  |
| <span data-ttu-id="42c56-686">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="42c56-686">**References**</span></span>              | <span data-ttu-id="42c56-687">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="42c56-687">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="42c56-688">**Действия**</span><span class="sxs-lookup"><span data-stu-id="42c56-688">**Steps**</span></span> | <span data-ttu-id="42c56-689">Метаданные могут помочь злоумышленникам Дополнительные сведения о системе hello и планирование форму атаки.</span><span class="sxs-lookup"><span data-stu-id="42c56-689">Metadata can help attackers learn about hello system and plan a form of attack.</span></span> <span data-ttu-id="42c56-690">Службы WCF может быть настроенный tooexpose метаданных.</span><span class="sxs-lookup"><span data-stu-id="42c56-690">WCF services can be configured tooexpose metadata.</span></span> <span data-ttu-id="42c56-691">В этих метаданных содержится подробное описание службы, и поэтому их не следует передавать в рабочих средах.</span><span class="sxs-lookup"><span data-stu-id="42c56-691">Metadata gives detailed service description information and should not be broadcast in production environments.</span></span> <span data-ttu-id="42c56-692">Hello `HttpGetEnabled`  /  `HttpsGetEnabled` свойства класса ServiceMetaData hello определяет, будет ли служба предоставлять метаданные hello</span><span class="sxs-lookup"><span data-stu-id="42c56-692">hello `HttpGetEnabled` / `HttpsGetEnabled` properties of hello ServiceMetaData class defines whether a service will expose hello metadata</span></span> | 

### <a name="example"></a><span data-ttu-id="42c56-693">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-693">Example</span></span>
<span data-ttu-id="42c56-694">Приведенный ниже код Hello указывает, что WCF toobroadcast метаданных службы</span><span class="sxs-lookup"><span data-stu-id="42c56-694">hello code below instructs WCF toobroadcast a service's metadata</span></span>
```
ServiceMetadataBehavior smb = new ServiceMetadataBehavior();
smb.HttpGetEnabled = true; 
smb.HttpGetUrl = new Uri(EndPointAddress); 
Host.Description.Behaviors.Add(smb); 
```
<span data-ttu-id="42c56-695">Не передавайте метаданные службы в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="42c56-695">Do not broadcast service metadata in a production environment.</span></span> <span data-ttu-id="42c56-696">Задайте параметр HttpGetEnabled hello / HttpsGetEnabled свойства hello ServiceMetaData классов toofalse.</span><span class="sxs-lookup"><span data-stu-id="42c56-696">Set hello HttpGetEnabled / HttpsGetEnabled properties of hello ServiceMetaData class toofalse.</span></span> 

### <a name="example"></a><span data-ttu-id="42c56-697">Пример</span><span class="sxs-lookup"><span data-stu-id="42c56-697">Example</span></span>
<span data-ttu-id="42c56-698">ниже примере кода Hello указывает, что WCF toonot широковещательных метаданных службы.</span><span class="sxs-lookup"><span data-stu-id="42c56-698">hello code below instructs WCF toonot broadcast a service's metadata.</span></span> 
```
ServiceMetadataBehavior smb = new ServiceMetadataBehavior(); 
smb.HttpGetEnabled = false; 
smb.HttpGetUrl = new Uri(EndPointAddress); 
Host.Description.Behaviors.Add(smb);
```
