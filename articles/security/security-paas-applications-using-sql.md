---
title: "aaaSecuring PaaS баз данных в Azure | Документы Microsoft"
description: " Ознакомьтесь с рекомендациями по безопасности Базы данных SQL Azure и хранилища данных SQL, чтобы защитить свои веб-приложения и мобильные приложения PaaS. "
services: security
documentationcenter: na
author: techlake
manager: MBaldwin
editor: 
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/11/2017
ms.author: terrylan
ms.openlocfilehash: a7f9a2846b59dcb05e82f2ad88b41c5213295603
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="securing-paas-databases-in-azure"></a>Защита баз данных PaaS в Azure

В этой статье рассматривается набор рекомендаций по безопасности [Базы данных SQL Azure](https://azure.microsoft.com/services/sql-database/) и [хранилища данных SQL](https://azure.microsoft.com/services/sql-data-warehouse/), предназначенных для защиты веб-приложений и мобильных приложений PaaS. Эти методы являются производными от наших опыт работы с Azure и hello взаимодействия клиентов, например самостоятельно.

## <a name="azure-sql-database-and-sql-data-warehouse"></a>База данных SQL Azure и хранилище данных SQL
[База данных SQL Azure](../sql-database/sql-database-technical-overview.md) и [хранилище данных SQL](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) предоставляют службу реляционной базы данных для веб-приложений. Давайте рассмотрим службы, помогающие защитить приложения и данные при использовании Базы данных SQL Azure и хранилища данных SQL в развернутой службе PaaS.

- Аутентификация Azure Active Directory (вместо аутентификации SQL Server).
- Брандмауэр SQL Azure.
- Прозрачное шифрование данных (TDE)

## <a name="best-practices"></a>Рекомендации

### <a name="use-a-centralized-identity-repository-for-authentication-and-authorization"></a>Использование централизованного репозитория удостоверений для аутентификации и авторизации

Базы данных SQL Azure может быть настроенный toouse одного из двух типов проверки подлинности:

- **Аутентификация SQL** с использованием имени пользователя и пароля. При создании hello логического сервера для базы данных, имя входа «администратор сервера» указано имя пользователя и пароль. Используя эти учетные данные, вы можете проверять подлинность tooany базы данных на этом сервере как hello владельца базы данных.

- **Аутентификация Azure Active Directory** с использованием удостоверений, контролируемых Azure Active Directory, которая поддерживается управляемыми и интегрированными доменами. toouse проверки подлинности Azure Active Directory, необходимо создать другой администратор сервера называется hello «Admin Azure AD», что допускается tooadminister Azure AD — пользователи и группы. Этот администратор также может выполнять все операции, доступные обычному администратору.

[Проверка подлинности Azure Active Directory](../active-directory/develop/active-directory-authentication-scenarios.md) — это механизм подключения tooAzure базы данных SQL и хранилищем данных SQL с помощью удостоверений в Azure Active Directory (AD). Azure AD предоставляет альтернативные tooSQL проверки подлинности сервера, поэтому можно остановить распространение hello удостоверений пользователей на серверах базы данных. Azure включает проверку подлинности AD, вы toocentrally Управление удостоверениями hello пользователей базы данных и другие службы Майкрософт, в одном централизованном месте. Централизованное управление идентификатор представляет собой единое место toomanage пользователей базы данных и упрощает управление разрешениями.  

Ниже перечислены преимущества использования аутентификации Azure AD вместо аутентификации SQL:

- возможность чередования паролей в одном расположении;
- управление разрешениями базы данных с помощью внешних групп Azure AD;
- возможность исключить хранение паролей с помощью встроенной проверки подлинности Windows и других видов аутентификации, поддерживаемых Azure AD;
- Использует содержатся идентификаторы tooauthenticate пользователей базы данных на уровне базы данных hello.
- Поддерживает проверку подлинности на основе токена для приложений, соединяющихся tooSQL базы данных.
- поддержка аутентификации с использованием AD FS (федерация доменов) или собственную аутентификацию с помощью имени пользователя и пароля для локального каталога Azure AD без синхронизации домена;
- поддержка подключений из SQL Server Management Studio, использующих универсальную аутентификацию Active Directory, в том числе [Многофакторную Идентификацию (MFA)](../multi-factor-authentication/multi-factor-authentication.md). MFA обеспечивает надежную аутентификацию с использованием ряда простых вариантов проверки посредством телефонного звонка, текстового сообщения, смарт-карты с ПИН-кодом или уведомления в мобильном приложении. Дополнительные сведения см. в разделе [Поддержка SSMS в Azure AD MFA для базы данных SQL и хранилища данных SQL](../sql-database/sql-database-ssms-mfa-authentication.md).

toolearn Дополнительные сведения о проверки подлинности Azure AD, см.:

- [Подключение tooSQL базы данных или SQL данные хранилища с использованием Azure Active Directory проверки подлинности](../sql-database/sql-database-aad-authentication.md)
- [Проверка подлинности tooAzure хранилище данных SQL](../sql-data-warehouse/sql-data-warehouse-authentication.md)
- [Token-based authentication support for Azure SQL DB using Azure AD authentication](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/) (Поддержка аутентификации на основе маркера для Базы данных SQL Azure с использованием аутентификации Azure AD)

> [!NOTE]
> tooensure, что Azure Active Directory, подходит для вашей среды. в разделе [функции Azure AD и ограничения](../sql-database/sql-database-aad-authentication.md#azure-ad-features-and-limitations), в частности hello Дополнительные соображения.
>
>

### <a name="restrict-access-based-on-ip-address"></a>Ограничение доступа по IP-адресу
Вы можете создать правила брандмауэра, которые указывают диапазон допустимых IP-адресов. Эти правила могут применяться на приветствия сервера и уровня базы данных. Мы рекомендуем использовать правила брандмауэра уровня базы данных каждый раз, когда возможно tooenhance безопасности и toomake более переносимой базы данных. Правила брандмауэра уровня сервера лучше подходят для администраторов и если имеется несколько баз данных, которые имеют hello одинаковые требования доступа, но не требуется времени toospend конфигурации по отдельности каждой базы данных.

Ограничения исходных IP-адресов по умолчанию в Базе данных SQL разрешают доступ с любого адреса Azure (включая другие подписки и клиенты). Вы можете ограничить этот tooonly разрешить экземпляру hello tooaccess IP адресов. Даже если используются брандмауэр SQL и ограничения IP-адресов, необходима строгая проверка подлинности. В разделе hello рекомендаций, содержащихся в данной статье.

в разделе toolearn Дополнительные сведения о брандмауэр SQL Azure и ограничения IP-адресов:

- [Руководство по базам данных SQL: доступ с аутентификацией Azure AD и правила брандмауэра уровня базы данных](../sql-database/sql-database-control-access.md)
- [Обзор правил брандмауэра базы данных SQL Azure](../sql-database/sql-database-firewall-configure.md)
- [Настройка правила брандмауэра уровня сервера базы данных SQL Azure с помощью портала Azure hello](../sql-database/sql-database-configure-firewall-settings.md)

### <a name="encryption-of-data-at-rest"></a>Шифрование неактивных данных
[Прозрачное шифрование данных (TDE)](https://msdn.microsoft.com/library/azure/bb934049) по умолчанию включено. Функция TDE прозрачным образом шифрует файлы данных и журналов SQL Server, базы данных SQL Azure и хранилища данных SQL Azure. Прозрачное шифрование данных обеспечивает защиту от компрометации toohello прямой доступ к файлам или их резервного копирования. Это позволяет tooencrypt статические данные без изменения существующих приложений. Прозрачное шифрование данных всегда будет содержать включена; Это не будет останавливать злоумышленник с помощью обычного доступа пути hello. Прозрачное шифрование данных предоставляет toocomply возможность hello много законам, нормам и правилам, определенным в разных отраслях.

SQL Azure управляет связанными с ключами аспектами для TDE. Как с помощью прозрачного шифрования данных, локально уделить особое внимание быть tooensure возможность восстановления и при перемещении баз данных. В более сложных сценариях hello ключи можно явно управлять в хранилище ключей Azure посредством расширенного управления ключами (см. [включить прозрачное шифрование данных на SQL Server с помощью EKM](/security/encryption/enable-tde-on-sql-server-using-ekm)). В этом случае также поддерживается создание собственных ключей (BYOK) посредством функции Azure Key Vaults BYOK.

SQL Azure обеспечивает шифрование столбцов с помощью функции [Always Encrypted](/sql/relational-databases/security/encryption/always-encrypted-database-engine). Это позволяет получить доступ неавторизованных приложений toosensitive столбцов. С помощью такого рода шифрования ограничивает SQL-запросов для значения на основе tooequality зашифрованных столбцов.

Для избранных данных также следует использовать шифрование уровня приложения. Иногда проблемы независимости данных можно устранить путем шифрования данных с ключом, который хранится в правильную страну hello. Это предотвращает передачу даже случайных данных вызывает проблемы, так как она является hello невозможно toodecrypt данных без ключа hello, при условии, что надежный алгоритм используется (например, AES 256).

Можно использовать дополнительные меры предосторожности toohelp безопасного hello database например проектирование система безопасности, проводить шифрование конфиденциальных ресурсов и построение брандмауэра hello серверов баз данных.

## <a name="next-steps"></a>Дальнейшие действия
В этой статье представлена вы tooa коллекцию базы данных SQL и хранилищем данных SQL безопасности рекомендации по обеспечению безопасности PaaS web и мобильных приложений. toolearn Дополнительные сведения о защите развертываний PaaS, см.:

- [Защита развернутых приложений PaaS](security-paas-deployments.md)
- [Защита мобильных приложений и веб-приложений PaaS с помощью служб приложений Azure](security-paas-applications-using-app-services.md)
