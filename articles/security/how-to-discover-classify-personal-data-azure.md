---
title: "Обнаружение, идентификация и классификация персональных данных в Microsoft Azure | Документация Майкрософт"
description: "Узнайте о поиске, классификации, обнаружении и идентификации данных"
services: security
documentationcenter: na
author: barclayn
manager: MBaldwin
editor: TShinder
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/24/2017
ms.author: barclayn
ms.custom: 
ms.openlocfilehash: 6ccb064a9a76e7041d4f365b3997673dc9182e0b
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="discover-identify-and-classify-personal-data-in-microsoft-azure"></a>Обнаружение, идентификация и классификация персональных данных в Microsoft Azure

В этой статье вы узнаете, как обнаружить, идентифицировать и классифицировать персональные данные в нескольких средствах и службах Azure, включая использование каталога данных Azure, Azure Active Directory, базы данных SQL, Power Query для кластеров Hadoop в Azure HDInsight, Azure Information Protection, поиска Azure и запросов SQL для Azure Cosmos DB.

## <a name="scenario-problem-statement-and-goal"></a>Сценарий, формулировка проблемы и цель

Компания США, ведущая деятельность в спортивной отрасли, осуществляет сбор различных персональных и других данных, таких как данные о сотрудниках и клиентах. Эти данные хранятся в нескольких базах данных в различных расположениях в среде Azure. Кроме продажи спортивного оборудования компания осуществляет регистрацию и контроль участия в элитных спортивных мероприятиях. Такая возможность доступна во всем мире, включая страны ЕС. В некоторых случаях клиентские данные могут содержать сведения медицинского характера.

Так как компания ежегодно проводит много международных велотуров, а ее сотрудники работают по всему миру, то наборы данных, да еще и в нескольких экземплярах, весьма объемны. К тому же у нее есть приложения разработчиков, которыми пользуются клиенты и сотрудники.

Компания хочет решить следующие задачи:

- классификация персональных данных клиентов и сотрудников и их отделение от других данных, хранящихся в компании, для обеспечения их безопасности и доступа к ним соответствующим образом;
- возможность быстро обнаружить, где размещены клиентские персональные данные в различных областях среды Azure, для администратора данных;
- маркирование персональных данных сотрудников и клиентов, отображаемых в общедоступных документах и сообщениях электронной почты, для обеспечения их безопасности;
- возможность быстрого поиска персональных данных клиентов и сотрудников для корпоративных разработчиков приложений в веб-приложениях и мобильных приложениях;
- возможность обратиться к базе данных документов для поиска персональных данных для разработчиков.

### <a name="company-goals"></a>Цели компании

- Все персональные данные клиентов и сотрудников должны быть помечены тегами или заметками в каталоге данных Azure для их быстрого поиска. В идеале персональные данные клиентов и сотрудников помечаются тегами или заметками по отдельности.
- Должна быть доступна возможность быстрого поиска персональных данных в профилях клиентов и сотрудников, а также сведений о работе в Azure Active Directory.
- Должна быть доступна возможность быстрого запроса персональных данных в нескольких базах данных SQL. 
- Некоторыми большими наборами данных компании управляет Azure HDInsight. Они хранятся в Hadoop. Должна быть доступна возможность их импорта в Excel, а также последующего запроса персональных данных.
- Персональные данные для общего доступа в документах и сообщениях электронной почты должны быть классифицированы, маркированы и защищены с помощью Azure Information Protection.
- Корпоративные разработчики приложений должны иметь возможность обнаружить персональные данные клиентов и сотрудников в созданных ими приложениях. Такая возможность доступна в службе "Поиск Azure".
- У разработчиков также должна быть возможность поиска персональных данных в базе данных документа.

## <a name="azure-active-directory-data-discovery"></a>Azure Active Directory: обнаружение данных

[Azure Active Directory](https://azure.microsoft.com/services/active-directory/) — это мультитенантный облачный каталог и служба управления удостоверениями Майкрософт. С помощью [портала Azure](https://portal.azure.com/) вы можете найти пользовательские профили клиентов и сотрудников, а также сведения об их работе. Они содержат персональные данные в среде [Azure Active Directory](https://azure.microsoft.com/services/active-directory/) (AAD).

Это особенно полезно, если вы хотите найти или изменить персональные данные конкретного пользователя. Вы также можете добавить или изменить профиль пользователя и сведения о работе. Вы должны выполнить вход с помощью учетной записи глобального администратора каталога.

### <a name="how-do-i-locate-or-view-user-profile-and-work-information"></a>Как я могу найти или просмотреть профиль пользователя и сведения о работе?

1. Войдите на [портал Azure](https://portal.azure.com) с помощью учетной записи глобального администратора каталога.

2. Выберите **Больше служб**, введите **Пользователи и группы** в текстовое поле, а затем нажмите клавишу **ВВОД**.

   ![поиск профиля пользователя и сведений о работе](media/how-to-discover-classify-personal-data-azure/user-profile.png)

3. В колонке **Пользователи и группы** выберите **Пользователи**.

  ![Открытие колонки пользователей и групп](media/how-to-discover-classify-personal-data-azure/users-groups.png)

4. В колонке **пользователей и групп** выберите из списка пользователя, а затем в колонке выбранного пользователя выберите **Профиль** для просмотра соответствующих сведений, которые могут содержать персональные данные.

  ![выбрать пользователя](media/how-to-discover-classify-personal-data-azure/select-user.png)

5. Если вам необходимо добавить или изменить сведения профиля пользователя, то после внесения необходимых изменений выберите на панели команду **Сохранить**.
6. В колонке для выбранного пользователя выберите **Сведения о работе**, чтобы просмотреть сведения о работе пользователя, которые могут содержать персональные данные.

 ![просмотр сведений о работе](media/how-to-discover-classify-personal-data-azure/work-info.png)

7. Если вам необходимо добавить или изменить сведения о работе пользователя, то после внесения необходимых изменений выберите на панели команду **Сохранить**.

## <a name="azure-sql-database-data-discovery"></a>База данных SQL Azure: обнаружение данных

[База данных SQL Azure](https://azure.microsoft.com/services/sql-database/?v=16.50) — это облачная база данных, позволяющая разработчикам создавать приложения и управлять ими. Персональные данные можно найти в [базе данных SQL Azure](https://azure.microsoft.com/services/sql-database/?v=16.50) с помощью стандартных запросов SQL. Эластичный запрос SQL Azure (предварительная версия) позволяет пользователям выполнять запросы баз данных.

В подробном руководстве о [базе данных SQL](../sql-database/sql-database-technical-overview.md) объясняются многие аспекты использования базы данных SQL, включая сведения о создании такой базы данных и выполнении запросов данных. Ниже приведен обзор сведений, доступных в руководстве, а также ссылки на определенные разделы.

### <a name="how-do-i-build-a-sql-database"></a>Как создать базу данных SQL?

Существует три способа ее создания.

- Базу данных SQL Azure можно создать на [портале Azure](https://portal.azure.com/). В рамках этого руководства вы будете использовать определенный набор вычислительных ресурсов, а также ресурсов службы хранилища в пределах группы ресурсов и логического сервера. Вы будете использовать пример данных вымышленной компании AdventureWorks. Вы также создадите правило брандмауэра на уровне сервера. Чтобы получить дополнительные сведения, ознакомьтесь со статьей [Создание базы данных SQL Azure на портале Azure](../sql-database/sql-database-get-started-portal.md).

  ![Создание базы данных SQL Azure](media/how-to-discover-classify-personal-data-azure/create-database.png)
- Базу данных SQL также можно создать в интерфейсе командной строки [Azure Cloud Shell](https://azure.microsoft.com/features/cloud-shell/) — программе командной строки браузера. Программа доступна на портале Azure, где ее можно непосредственно запустить. В рамках этого руководства вы запустите программу, определите переменные сценария, создадите группу ресурсов и логический сервер, а также настроите правило брандмауэра сервера. Затем вы создадите базу данных с примерами данных. Чтобы узнать, как создать базу данных таким образом, ознакомьтесь со статьей [Создание отдельной базы данных SQL Azure с помощью Azure CLI](../sql-database/sql-database-get-started-cli.md).

  ![Руководство по созданию отдельной базы данных SQL Azure с помощью Azure CLI](media/how-to-discover-classify-personal-data-azure/cli-tutorial.png)

>[!NOTE]
Azure CLI часто используют администраторы и разработчики Linux. Некоторые пользователи считают Azure CLI более простым и интуитивно понятным средством по сравнению с PowerShell, использующимся в качестве третьего варианта.

- Наконец, вы можете создать базу данных SQL с помощью PowerShell. Это программа командной строки, которая используется для создания и управления Azure и другими ресурсами. В рамках этого руководства вы запустите программу, определите переменные сценария, создадите группу ресурсов и логический сервер, а также настроите правило брандмауэра сервера. Затем вы создадите базу данных с примерами данных.

Для работы с этим руководством требуется модуль Azure PowerShell версии не ниже 4.0. Запустите командлет Get-Module -ListAvailable AzureRM, чтобы определить свою версию. Если вам необходимо выполнить установку или обновление, см. статью об установке модуля Azure PowerShell.

```PowerShell
New-AzureRmSQLDatabase -ResourceGroupName $resourcegroupname `
-ServerName $servername `
-DatabaseName $databasename `
-RequestedServiceObjectiveName "s0"
```

Чтобы узнать, как создать базу данных таким образом, ознакомьтесь со статьей [Создание отдельной базы данных SQL Azure с помощью PowerShell](../sql-database/sql-database-get-started-powershell.md).

>[!Note]
Администраторы Windows обычно используют PowerShell, но некоторые из них предпочитают использовать Azure CLI.

### <a name="how-do-i-search-for-personal-data-in-sql-database-in-the-azure-portal"></a>Как выполнить поиск персональных данных в базе данных SQL на портале Azure?

Для поиска персональных данных вы можете использовать встроенное средство редактора запросов непосредственно на портале Azure. Вам понадобится выполнить вход с использованием учетной записи администратора сервера SQL и пароля, а затем ввести запрос.

  ![поиск sql с помощью портала](media/how-to-discover-classify-personal-data-azure/search-sql-portal.png)

На шаге 5, описанном в данном руководстве, представлен пример запроса на панели редактора запросов, однако персональные или конфиденциальные сведения не затрагиваются. Здесь также представлено объединение данных из двух таблиц и создание псевдонимов для исходного столбца в возвращенном наборе данных. На снимке экрана ниже представлен запрос, выполненный на шаге 5, а также панель возвращенных результатов:

  ![редактор запросов](media/how-to-discover-classify-personal-data-azure/query-editor.png)

Для базы данных с именем MyTable пример запроса персональных сведений будет включать имя, номер социального страхования и идентификатор. Запрос будет выглядеть следующим образом:

"Выбор имени, номера социального страхования (SSN) и идентификатора из базы данных MyTable"

После выполнения запроса результаты появятся на панели **результатов**.

Дополнительные сведения о запросе базы данных SQL на портале Azure см. в статье [Создание базы данных SQL Azure на портале Azure](../sql-database/sql-database-get-started-portal.md).

### <a name="how-do-i-search-for-data-across-multiple-databases"></a>Как выполнить поиск данных по нескольким базам данных?

Эластичный запрос SQL (предварительная версия) позволяет выполнять запросы между базами данных и запросы нескольких баз данных и возвращать единый результат. В [обзоре руководства](../sql-database/sql-database-elastic-query-overview.md) приведено подробное описание сценариев, а также пояснение различия между вертикальным и горизонтальным секционированием базы данных. Горизонтальное секционирование называется сегментированием.

  ![Вертикальное секционирование](media/how-to-discover-classify-personal-data-azure/vertical-partition.png)

  ![горизонтальное секционирование](media/how-to-discover-classify-personal-data-azure/horizontal.png)

Ознакомьтесь со статьей [Обзор эластичных запросов к базе данных SQL Azure (предварительная версия)](../sql-database/sql-database-elastic-query-overview.md).

#### <a name="power-query-for-importing-azure-hdinsight-hadoop-clusters-data-discovery-for-large-data-sets"></a>Power Query (для импорта кластеров Hadoop в Azure HDInsight): обнаружение данных больших наборов данных

Hadoop является хранилищем Apache с открытым кодом и службой обработки больших наборов данных, анализируемых и хранящихся в кластерах Hadoop. [Azure HDInsight](https://azure.microsoft.com/services/hdinsight/) позволяет пользователям работать с кластерами Hadoop в Azure. Power Query является надстройкой Excel, которая, помимо прочего, позволяет пользователям обнаруживать данные из различных источников.

Персональные данные, связанные с кластерами Hadoop в Azure HDInsight, можно импортировать в Excel с помощью Power Query. После перемещения данных в Excel можно использовать запрос для их идентификации.

#### <a name="how-do-i-use-excel-power-query-to-import-hadoop-clusters-in-azure-hdinsight-into-excel"></a>Как использовать Power Query в Excel для импорта кластеров Hadoop Azure HDInsight в Excel?

С помощью руководства по HDInsight вы можете подробно ознакомиться с этим процессом. В нем описываются предварительные условия, а также содержится ссылка на статью [Руководство по Hadoop. Приступая к работе с Hadoop в HDInsight](../hdinsight/hdinsight-hadoop-linux-tutorial-get-started.md). Инструкции актуальны для Excel 2016, а также версий 2013 и 2010 с несколькими незначительными отличиями для более ранних версий Excel. Если у вас нет надстройки Power Query для Excel, то с помощью руководства вы узнаете, как получить ее. Когда вы приступите к работе с этим руководством по Excel, вам потребуется учетная запись хранилища BLOB-объектов Azure, связанная с кластером.

  ![Запрос в Excel](media/how-to-discover-classify-personal-data-azure/excel.png)

Чтобы получить дополнительные сведения, ознакомьтесь со статьей [Подключение Excel к Hadoop с помощью Power Query](../hdinsight/hdinsight-connect-excel-power-query.md).

Источник: [Подключение Excel к Hadoop с помощью Power Query](../hdinsight/hdinsight-connect-excel-power-query.md)

## <a name="azure-information-protection-personal-data-classification-for-documents-and-email"></a>Azure Information Protection: классификация персональных данных документов и электронной почты

[Azure Information Protection](https://www.microsoft.com/cloud-platform/azure-information-protection) можно использовать, чтобы помочь клиентам Azure применить метки для внешней и внутренней классификации и защиты общих документов и сообщений электронной почты. Некоторые из этих элементов могут содержать персональные данные клиентов или сотрудников. Правила и условия можно определить автоматически или вручную. Это могут сделать администраторы или пользователи. Например, если пользователь сохраняет документ, содержащий сведения о кредитной карте, он увидит соответствующую метку, настроенную администратором.

### <a name="how-do-i-try-it"></a>Как использовать Azure Information Protection?

Сведения о том, подходит ли Azure Information Protection для вашей организации, см. в статье [Краткое руководство по началу работы со службой Azure Information Protection](https://docs.microsoft.com/information-protection/get-started/infoprotect-quick-start-tutorial). С помощью этой статьи вы узнаете об основных пяти шагах — от установки до настройки политики — и ознакомитесь с классификацией, метками и совместным использованием на практике. Все эти действия займут менее получаса.

### <a name="how-do-i-deploy-it"></a>Как выполнить развертывание?

Если вы хотите развернуть Azure Information Protection для своей организации, ознакомьтесь со [стратегией развертывания Azure Information Protection](https://docs.microsoft.com/information-protection/plan-design/deployment-roadmap).

### <a name="is-there-anything-else-i-should-know"></a>Что еще необходимо знать?

Дополнительные сведения о комплексной настройке Azure Information Protection см. в [этой](https://blogs.technet.microsoft.com/enterprisemobility/2017/02/21/azure-information-protection-ready-set-protect/)
записи блога. Узнать больше об Azure Information Protection вы можете с помощью ссылок ниже.

## <a name="azure-search-data-discovery-for-developer-apps"></a>Поиск Azure: обнаружение данных для приложений разработчиков

[Поиск Azure](https://azure.microsoft.com/services/search/) — это облачное решение поиска для разработчиков, предоставляющее обширный набор возможностей поиска данных для приложений. Служба "Поиск Azure" позволяет выполнять поиск данных по индексам, определенным пользователями, из Azure Cosmo DB, базы данных SQL Azure, хранилища BLOB-объектов Azure, табличного хранилища Azure или настраиваемых пользовательских данных JSON. Вы можете также структурировать запросы Lucene с помощью интерфейса REST API службы "Поиск Azure" для поиска персональных типов данных или персональных данных конкретных пользователей. Возможности включают полнотекстовый поиск, простой синтаксис запросов и синтаксис запросов Lucene. 

## <a name="how-do-i-use-sql-to-query-data"></a>Как использовать SQL для запроса данных?

Чтобы получить основные сведения, ознакомьтесь со статьей [Как выполнять запросы с помощью SQL в базе данных Azure Cosmos DB](../cosmos-db/tutorial-query-documentdb.md). В этой статье содержится пример документа и два примера SQL-запросов и результатов.

Чтобы получить более подробные сведения о создании запросов SQL, ознакомьтесь со статьей [SQL-запросы для API DocumentDB в Azure Cosmos DB](../cosmos-db/documentdb-sql-query.md).

Если вы еще не знакомы с Azure Cosmos DB и хотите узнать, как создать базу данных, добавить коллекцию и данные, ознакомьтесь со статьей [Azure Cosmos DB. Создание веб-приложения API DocumentDB с использованием языка .NET и портала Azure](../cosmos-db/create-documentdb-dotnet.md). Если же вас интересует другой язык, отличный от .NET, например Java или Python, вам просто нужно его указать.

## <a name="next-steps"></a>Дальнейшие действия

[База данных SQL Azure;](https://azure.microsoft.com/services/sql-database/?v=16.50)

[Что такое база данных SQL?](../sql-database/sql-database-technical-overview.md)

[Редактор запросов базы данных SQL доступен на портале Azure] (https://azure.microsoft.com/blog/t-sql-query-editor-in-browser-azure-portal/)

[Что такое Azure Information Protection?](https://docs.microsoft.com/information-protection/understand-explore/what-is-information-protection)

[Что из себя представляет служба управления правами Azure](https://docs.microsoft.com/information-protection/understand-explore/what-is-azure-rms)

[Azure Information Protection: Ready, set, protect!](https://blogs.technet.microsoft.com/enterprisemobility/2017/02/21/azure-information-protection-ready-set-protect/) (Azure Information Protection: комплексное использование)
