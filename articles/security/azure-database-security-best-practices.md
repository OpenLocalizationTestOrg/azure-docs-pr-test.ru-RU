---
title: "рекомендации по обеспечению безопасности базы данных aaaAzure | Документы Microsoft"
description: "В этой статье представлены рекомендации по безопасности баз данных Azure."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/21/2017
ms.author: tomsh
ms.openlocfilehash: 78984291e8f74879c7f738e2ce3176c4be18d154
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-database-security-best-practices"></a><span data-ttu-id="4b638-103">Рекомендации по обеспечению безопасности базы данных Azure</span><span class="sxs-lookup"><span data-stu-id="4b638-103">Azure database security best practices</span></span>

<span data-ttu-id="4b638-104">При управлении базами данных безопасность имеет первостепенное значение и всегда была приоритетной задачей для базы данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="4b638-104">Security is a top concern when managing databases, and it has always been a priority for Azure SQL Database.</span></span> <span data-ttu-id="4b638-105">Базы данных может быть строго охраняемом toohelp удовлетворяют наиболее нормативным или требования безопасности, включая HIPAA ISO 27001/27002 и PCI DSS уровня 1, среди прочего.</span><span class="sxs-lookup"><span data-stu-id="4b638-105">Your databases can be tightly secured toohelp satisfy most regulatory or security requirements, including HIPAA, ISO 27001/27002, and PCI DSS Level 1, among others.</span></span> <span data-ttu-id="4b638-106">Текущий список сертификатов соответствия требованиям безопасности доступен на hello [сайта Центр управления безопасностью Microsoft](http://azure.microsoft.com/support/trust-center/services/).</span><span class="sxs-lookup"><span data-stu-id="4b638-106">A current list of security compliance certifications is available at hello [Microsoft Trust Center site](http://azure.microsoft.com/support/trust-center/services/).</span></span> <span data-ttu-id="4b638-107">Вы также можете tooplace баз данных в определенных центрах обработки данных Azure на основе нормативных требований.</span><span class="sxs-lookup"><span data-stu-id="4b638-107">You also can choose tooplace your databases in specific Azure datacenters based on regulatory requirements.</span></span>

<span data-ttu-id="4b638-108">В этой статье мы рассмотрим рекомендации по обеспечению безопасности баз данных Azure.</span><span class="sxs-lookup"><span data-stu-id="4b638-108">In this article, we will discuss a collection of Azure database security best practices.</span></span> <span data-ttu-id="4b638-109">Эти методы являются производными от опыт безопасности базы данных SQL Azure и hello взаимодействия клиентов, например самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="4b638-109">These best practices are derived from our experience with Azure database security and hello experiences of customers like yourself.</span></span>

<span data-ttu-id="4b638-110">Для каждой рекомендации будет предоставлено объяснение следующих аспектов:</span><span class="sxs-lookup"><span data-stu-id="4b638-110">For each best practice, we explain:</span></span>

-   <span data-ttu-id="4b638-111">Какие hello рекомендуется</span><span class="sxs-lookup"><span data-stu-id="4b638-111">What hello best practice is</span></span>
-   <span data-ttu-id="4b638-112">Почему нужно tooenable этой рекомендации</span><span class="sxs-lookup"><span data-stu-id="4b638-112">Why you want tooenable that best practice</span></span>
-   <span data-ttu-id="4b638-113">Если этого не рекомендуется hello tooenable, что может быть результатом hello</span><span class="sxs-lookup"><span data-stu-id="4b638-113">What might be hello result if you fail tooenable hello best practice</span></span>
-   <span data-ttu-id="4b638-114">Как вы узнаете tooenable hello, рекомендации</span><span class="sxs-lookup"><span data-stu-id="4b638-114">How you can learn tooenable hello best practice</span></span>

<span data-ttu-id="4b638-115">В этой статье рекомендации по обеспечению безопасности базы данных Azure основан на возможности платформы Azure и мнение согласие, и набор функциональных возможностей, имеющиеся на момент hello написания этой статьи.</span><span class="sxs-lookup"><span data-stu-id="4b638-115">This Azure Database Security Best Practices article is based on a consensus opinion and Azure platform capabilities and feature sets as they exist at hello time this article was written.</span></span> <span data-ttu-id="4b638-116">Мнения и технологии со временем меняться, и в этой статье будут обновлены на регулярной основе tooreflect эти изменения.</span><span class="sxs-lookup"><span data-stu-id="4b638-116">Opinions and technologies change over time and this article will be updated on a regular basis tooreflect those changes.</span></span>

<span data-ttu-id="4b638-117">Здесь рассматриваются следующие рекомендации по обеспечению безопасности баз данных Azure:</span><span class="sxs-lookup"><span data-stu-id="4b638-117">Azure database security best practices discussed in this article include:</span></span>

-   <span data-ttu-id="4b638-118">Используйте доступ к базе данных toorestrict правила брандмауэра</span><span class="sxs-lookup"><span data-stu-id="4b638-118">Use firewall rules toorestrict database access</span></span>
-   <span data-ttu-id="4b638-119">Включение проверки подлинности базы данных</span><span class="sxs-lookup"><span data-stu-id="4b638-119">Enable database authentication</span></span>
-   <span data-ttu-id="4b638-120">защита данных с помощью шифрования;</span><span class="sxs-lookup"><span data-stu-id="4b638-120">Protect your data using encryption</span></span>
-   <span data-ttu-id="4b638-121">Защита данных при передаче</span><span class="sxs-lookup"><span data-stu-id="4b638-121">Protect data in transit</span></span>
-   <span data-ttu-id="4b638-122">включение аудита базы данных;</span><span class="sxs-lookup"><span data-stu-id="4b638-122">Enable database auditing</span></span>
-   <span data-ttu-id="4b638-123">Обнаружение угроз для базы данных</span><span class="sxs-lookup"><span data-stu-id="4b638-123">Enable database threat detection</span></span>


## <a name="use-firewall-rules-toorestrict-database-access"></a><span data-ttu-id="4b638-124">Используйте доступ к базе данных toorestrict правила брандмауэра</span><span class="sxs-lookup"><span data-stu-id="4b638-124">Use firewall rules toorestrict database access</span></span>

<span data-ttu-id="4b638-125">База данных SQL Microsoft Azure предоставляет службу реляционных баз данных для Azure и других интернет-приложений.</span><span class="sxs-lookup"><span data-stu-id="4b638-125">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="4b638-126">безопасность доступа к tooprovide, база данных SQL управляет доступом с правилами брандмауэра ограничение подключение по IP-адресу механизмов проверки подлинности, требующие tooprove пользователей их идентификаторов и механизмы авторизации ограничений toospecific действий пользователей и данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-126">tooprovide access security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users tooprove their identity, and authorization mechanisms limiting users toospecific actions and data.</span></span> <span data-ttu-id="4b638-127">Брандмауэр не все сервера базы данных access tooyour, пока вы не укажете компьютеры, на которых есть разрешение.</span><span class="sxs-lookup"><span data-stu-id="4b638-127">Firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="4b638-128">Hello брандмауэр предоставляет доступ toodatabases основании hello, рассчитанные на IP-адреса каждого запроса.</span><span class="sxs-lookup"><span data-stu-id="4b638-128">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span>

![Правила файрволла](./media/azure-database-security-best-practices/azure-database-security-best-practices-Fig1.png)

<span data-ttu-id="4b638-130">Hello службы базы данных SQL Azure доступна только через TCP-порт 1433.</span><span class="sxs-lookup"><span data-stu-id="4b638-130">hello Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="4b638-131">tooaccess базы данных SQL с компьютера, убедитесь, что брандмауэр клиентского компьютера разрешает исходящие соединения через TCP-порт 1433.</span><span class="sxs-lookup"><span data-stu-id="4b638-131">tooaccess a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="4b638-132">Заблокируйте входящие подключения по протоколу TCP через порт 1433, если они не требуются для других приложений, используя правила брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="4b638-132">If not needed for other applications, block inbound connections on TCP port 1433 using firewall rules.</span></span>

<span data-ttu-id="4b638-133">В рамках процесса подключения hello подключений от виртуальных машин Azure, перенаправленный tooa другой IP-адрес и порт, уникальный для каждой рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="4b638-133">As part of hello connection process, connections from Azure virtual machines are redirected tooa different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="4b638-134">Hello используется порт в диапазоне hello от 11000 too11999.</span><span class="sxs-lookup"><span data-stu-id="4b638-134">hello port number is in hello range from 11000 too11999.</span></span> <span data-ttu-id="4b638-135">Дополнительные сведения о TCP-портах см. в статье [Порты для ADO.NET 4.5, отличные от порта 1433](https://docs.microsoft.com/azure/sql-database/sql-database-develop-direct-route-ports-adonet-v12).</span><span class="sxs-lookup"><span data-stu-id="4b638-135">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](https://docs.microsoft.com/azure/sql-database/sql-database-develop-direct-route-ports-adonet-v12).</span></span>

> [!Note]
> <span data-ttu-id="4b638-136">Дополнительные сведения о правилах брандмауэра см. в статье [Обзор правил брандмауэра базы данных SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span><span class="sxs-lookup"><span data-stu-id="4b638-136">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span></span>

## <a name="enable-database-authentication"></a><span data-ttu-id="4b638-137">Включение проверки подлинности базы данных</span><span class="sxs-lookup"><span data-stu-id="4b638-137">Enable database authentication</span></span>
<span data-ttu-id="4b638-138">База данных SQL поддерживает два типа проверки подлинности, проверку подлинности SQL и проверку подлинности Azure Active Directory (аутентификацию Azure AD).</span><span class="sxs-lookup"><span data-stu-id="4b638-138">SQL Database supports two types of authentication, SQL Authentication and Azure Active Directory Authentication (Azure AD Authentication).</span></span>

<span data-ttu-id="4b638-139">**Проверка подлинности SQL** рекомендуется, если требуется поддержка следующих случаев:</span><span class="sxs-lookup"><span data-stu-id="4b638-139">**SQL Authentication** is recommended in following cases:</span></span>

-   <span data-ttu-id="4b638-140">Она позволяет средах toosupport SQL Azure с несколькими операционными системами, где все пользователи не проходят проверку подлинности домена Windows.</span><span class="sxs-lookup"><span data-stu-id="4b638-140">It allows SQL Azure toosupport environments with mixed operating systems, where all users are not authenticated by a Windows domain.</span></span>
-   <span data-ttu-id="4b638-141">Позволяет SQL Azure toosupport старые приложения и приложения, поставляемые сторонними производителями, для которых требуется проверка подлинности SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4b638-141">Allows SQL Azure toosupport older applications and applications provided by third parties that require SQL Server Authentication.</span></span>
-   <span data-ttu-id="4b638-142">Позволяет пользователям tooconnect из неизвестных или ненадежных доменов.</span><span class="sxs-lookup"><span data-stu-id="4b638-142">Allows users tooconnect from unknown or untrusted domains.</span></span> <span data-ttu-id="4b638-143">Например приложение, в котором клиенты подключаются с выделенными имена входа SQL Server tooreceive hello состояние их заказов.</span><span class="sxs-lookup"><span data-stu-id="4b638-143">For instance, an application where established customers connect with assigned SQL Server logins tooreceive hello status of their orders.</span></span>
-   <span data-ttu-id="4b638-144">Позволяет toosupport SQL Azure веб-приложений которых пользователи сами создают собственные удостоверения.</span><span class="sxs-lookup"><span data-stu-id="4b638-144">Allows SQL Azure toosupport Web-based applications where users create their own identities.</span></span>
-   <span data-ttu-id="4b638-145">Позволяет программному обеспечению разработчики toodistribute свои приложения с помощью сложной иерархии разрешений на основе известны, предустановленные имена входа SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4b638-145">Allows software developers toodistribute their applications by using a complex permission hierarchy based on known, preset SQL Server logins.</span></span>

> [!Note]
> <span data-ttu-id="4b638-146">Однако для проверки подлинности SQL Server не используются процедуры обеспечения безопасности Kerberos.</span><span class="sxs-lookup"><span data-stu-id="4b638-146">However, SQL Server Authentication cannot use Kerberos security protocol.</span></span>

<span data-ttu-id="4b638-147">Если вы используете **проверку подлинности SQL**, вам потребуется:</span><span class="sxs-lookup"><span data-stu-id="4b638-147">If you use **SQL Authentication** you must:</span></span>

-   <span data-ttu-id="4b638-148">Управление учетными данными строгого hello, самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="4b638-148">Manage hello strong credentials yourself.</span></span>
-   <span data-ttu-id="4b638-149">Защитить hello учетные данные в строке подключения hello.</span><span class="sxs-lookup"><span data-stu-id="4b638-149">Protect hello credentials in hello connection string.</span></span>
-   <span data-ttu-id="4b638-150">(Потенциально) защитить hello учетные данные, передаваемые по сети hello с веб-сервера hello toohello-база данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-150">(Potentially) protect hello credentials passed over hello network from hello Web server toohello database.</span></span> <span data-ttu-id="4b638-151">Дополнительные сведения см. [как: подключение tooSQL сервера с помощью проверки подлинности SQL в ASP.NET 2.0](https://msdn.microsoft.com/library/ms998300.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b638-151">For more information see [how to: Connect tooSQL Server Using SQL Authentication in ASP.NET 2.0](https://msdn.microsoft.com/library/ms998300.aspx).</span></span>

<span data-ttu-id="4b638-152">**Проверка подлинности Azure Active Directory** — это механизм подключения tooMicrosoft базы данных SQL Azure и [хранилище данных SQL](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is) с помощью удостоверений в Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="4b638-152">**Azure Active Directory authentication** is a mechanism of connecting tooMicrosoft Azure SQL Database and [SQL Data Warehouse](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is) by using identities in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="4b638-153">С помощью проверки подлинности Azure AD можно централизованно управлять hello удостоверений пользователей базы данных и другие службы Майкрософт, в одном централизованном месте.</span><span class="sxs-lookup"><span data-stu-id="4b638-153">With Azure AD authentication, you can centrally manage hello identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="4b638-154">Централизованное управление идентификатор представляет собой единое место toomanage пользователей базы данных и упрощает управление разрешениями.</span><span class="sxs-lookup"><span data-stu-id="4b638-154">Central ID management provides a single place toomanage database users and simplifies permission management.</span></span> <span data-ttu-id="4b638-155">Hello следующие преимущества:</span><span class="sxs-lookup"><span data-stu-id="4b638-155">Benefits include hello following:</span></span>

-   <span data-ttu-id="4b638-156">Он предоставляет альтернативные tooSQL проверки подлинности сервера.</span><span class="sxs-lookup"><span data-stu-id="4b638-156">It provides an alternative tooSQL Server authentication.</span></span>
-   <span data-ttu-id="4b638-157">Позволяет остановить hello увеличением числа пользователей на серверах базы данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-157">Helps stop hello proliferation of user identities across database servers.</span></span>
-   <span data-ttu-id="4b638-158">возможность чередования паролей в одном расположении;</span><span class="sxs-lookup"><span data-stu-id="4b638-158">Allows password rotation in a single place.</span></span>
-   <span data-ttu-id="4b638-159">клиенты могут управлять разрешениями базы данных с помощью внешних групп (AAD);</span><span class="sxs-lookup"><span data-stu-id="4b638-159">Customers can manage database permissions using external (AAD) groups.</span></span>
-   <span data-ttu-id="4b638-160">возможность исключить хранение паролей с помощью встроенной проверки подлинности Windows и других видов проверки подлинности, поддерживаемых Azure Active Directory;</span><span class="sxs-lookup"><span data-stu-id="4b638-160">It can eliminate storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure Active Directory.</span></span>
-   <span data-ttu-id="4b638-161">Проверки подлинности Azure AD использует удостоверения tooauthenticate пользователей автономной базы данных на уровне базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="4b638-161">Azure AD authentication uses contained database users tooauthenticate identities at hello database level.</span></span>
-   <span data-ttu-id="4b638-162">Azure AD поддерживает проверку подлинности на основе токена для приложений, соединяющихся tooSQL базы данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-162">Azure AD supports token-based authentication for applications connecting tooSQL Database.</span></span>
-   <span data-ttu-id="4b638-163">Azure AD поддерживает проверку подлинности с использованием AD FS (федерация доменов) или собственную проверку подлинности с помощью имени пользователя и пароля для локального каталога Azure Active Directory без синхронизации домена.</span><span class="sxs-lookup"><span data-stu-id="4b638-163">Azure AD authentication supports ADFS (domain federation) or native user/password authentication for a local Azure Active Directory without domain synchronization.</span></span>
-   <span data-ttu-id="4b638-164">Azure AD поддерживает подключения из SQL Server Management Studio, использующие универсальную проверку подлинности Active Directory, в том числе многофакторную идентификацию (MFA).</span><span class="sxs-lookup"><span data-stu-id="4b638-164">Azure AD supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes Multi-Factor Authentication (MFA).</span></span> <span data-ttu-id="4b638-165">MFA обеспечивает надежную аутентификацию с использованием ряда простых вариантов проверки посредством телефонного звонка, текстового сообщения, смарт-карты с ПИН-кодом или уведомления в мобильном приложении.</span><span class="sxs-lookup"><span data-stu-id="4b638-165">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="4b638-166">Дополнительные сведения см. в разделе [Поддержка SSMS в Azure AD MFA для базы данных SQL и хранилища данных SQL](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication).</span><span class="sxs-lookup"><span data-stu-id="4b638-166">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication).</span></span>

<span data-ttu-id="4b638-167">действия по настройке Hello включают следующие процедуры tooconfigure hello и использование проверки подлинности Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="4b638-167">hello configuration steps include hello following procedures tooconfigure and use Azure Active Directory authentication.</span></span>

-   <span data-ttu-id="4b638-168">Создайте и заполните каталог Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4b638-168">Create and populate Azure AD.</span></span>
-   <span data-ttu-id="4b638-169">Необязательно: Связать или изменение hello active directory, который сейчас связан с подпиской Azure.</span><span class="sxs-lookup"><span data-stu-id="4b638-169">Optional: Associate or change hello active directory that is currently associated with your    Azure Subscription.</span></span>
-   <span data-ttu-id="4b638-170">Создайте учетную запись администратора Azure Active Directory для сервера Azure SQL Server или [хранилища данных SQL Azure](https://azure.microsoft.com/services/sql-data-warehouse/).</span><span class="sxs-lookup"><span data-stu-id="4b638-170">Create an Azure Active Directory administrator for Azure SQL server or [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
- <span data-ttu-id="4b638-171">Настройте клиентские компьютеры.</span><span class="sxs-lookup"><span data-stu-id="4b638-171">Configure your client computers.</span></span>
-   <span data-ttu-id="4b638-172">Создайте пользователей автономной базы данных в вашей базы данных сопоставлен tooAzure удостоверений AD.</span><span class="sxs-lookup"><span data-stu-id="4b638-172">Create contained database users in your database mapped tooAzure AD identities.</span></span>
-   <span data-ttu-id="4b638-173">Подключение tooyour базы данных с помощью удостоверений Azure AD.</span><span class="sxs-lookup"><span data-stu-id="4b638-173">Connect tooyour database by using Azure AD identities.</span></span>

<span data-ttu-id="4b638-174">Дополнительные сведения см. [здесь](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication).</span><span class="sxs-lookup"><span data-stu-id="4b638-174">You can find details information [here](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication).</span></span>

## <a name="protect-your-data-using-encryption"></a><span data-ttu-id="4b638-175">Защита данных с помощью шифрования</span><span class="sxs-lookup"><span data-stu-id="4b638-175">Protect your data using encryption</span></span>

<span data-ttu-id="4b638-176">[Прозрачное шифрование базы данных SQL Azure (TDE)](https://msdn.microsoft.com/library/dn948096.aspx) защиты от угроз вредоносных действий hello, выполняя в реальном времени шифрование и расшифровку hello базы данных, связанных резервных копий и файлов журнала транзакций хранятся без требование изменения toohello приложения.</span><span class="sxs-lookup"><span data-stu-id="4b638-176">[Azure SQL Database transparent data encryption (TDE)](https://msdn.microsoft.com/library/dn948096.aspx) helps protect against hello threat of malicious activity by performing real-time encryption and decryption of hello database, associated backups, and transaction log files at rest without requiring changes toohello application.</span></span> <span data-ttu-id="4b638-177">TDE шифрует hello хранения всей базы данных с помощью ключа шифрования симметричного ключа вызываемой hello базы данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-177">TDE encrypts hello storage of an entire database by using a symmetric key called hello database encryption key.</span></span>

<span data-ttu-id="4b638-178">Даже в том случае, если хранилище всей hello шифруется, очень важно tooalso шифрование самой базы данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-178">Even when hello entire storage is encrypted, it is very important tooalso encrypt your database itself.</span></span> <span data-ttu-id="4b638-179">Это представляет собой реализацию защиты hello в глубину подход для защиты данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-179">This is an implementation of hello defense in depth approach for data protection.</span></span> <span data-ttu-id="4b638-180">Если используется база данных SQL Azure и хотите tooprotect конфиденциальных данных, таких как кредитных карт или номера социального страхования, можно зашифровать баз данных с FIPS 140-2 проверки 256 битного шифрования AES которой различные отраслевые стандарты (например, HIPAA, соответствует требованиям hello PCI).</span><span class="sxs-lookup"><span data-stu-id="4b638-180">If you are using Azure SQL Database and wish tooprotect sensitive data such as credit card or social security numbers, you can encrypt databases with FIPS 140-2 validated 256 bit AES encryption which meets hello requirements of many industry standards (e.g., HIPAA, PCI).</span></span>

<span data-ttu-id="4b638-181">Важно слишком связанные файлы toounderstand[буферного пула расширения](https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension) , не шифруются, если база данных зашифрована с помощью прозрачного шифрования данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-181">It’s important toounderstand that files related too[buffer pool extension (BPE)](https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension) are not encrypted when a database is encrypted using TDE.</span></span> <span data-ttu-id="4b638-182">Необходимо использовать средства шифрования на уровне файловой системы как [BitLocker](https://technet.microsoft.com/library/cc732774) или hello [шифрованной файловой системы (EFS)](https://technet.microsoft.com/library/cc700811.aspx) файлов с расширением BPE.</span><span class="sxs-lookup"><span data-stu-id="4b638-182">You must use file system level encryption tools like [BitLocker](https://technet.microsoft.com/library/cc732774) or hello [Encrypting File System (EFS)](https://technet.microsoft.com/library/cc700811.aspx) for BPE related files.</span></span>

<span data-ttu-id="4b638-183">Так как авторизованный пользователь такие, как администратор безопасности или администратором базы данных hello данные доступны даже если hello база данных зашифрована с помощью прозрачного шифрования данных, необходимо также следовать приведенным ниже рекомендациям hello:</span><span class="sxs-lookup"><span data-stu-id="4b638-183">Since an authorized user such as a security administrator or a database administrator can access hello data even if hello database is encrypted with TDE, you should also follow hello recommendations below:</span></span>

-   <span data-ttu-id="4b638-184">Включение проверки подлинности SQL на уровне базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="4b638-184">Enable SQL authentication at hello database level.</span></span>
-   <span data-ttu-id="4b638-185">выполнять проверку подлинности Azure AD с использованием [ролей RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is);</span><span class="sxs-lookup"><span data-stu-id="4b638-185">Use Azure AD authentication using [RBAC roles](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is).</span></span>
-   <span data-ttu-id="4b638-186">Пользователи и приложения должны использовать tooauthenticate отдельную учетную запись.</span><span class="sxs-lookup"><span data-stu-id="4b638-186">Users and applications should use separate accounts tooauthenticate.</span></span> <span data-ttu-id="4b638-187">Таким образом, можно ограничить разрешения hello toousers и приложения и снижения степени риска hello вредоносных действий.</span><span class="sxs-lookup"><span data-stu-id="4b638-187">This way you can limit hello permissions granted toousers and applications and reduce hello risks of malicious activity.</span></span>
-   <span data-ttu-id="4b638-188">Реализуйте безопасность на уровне базы данных с помощью предопределенных ролей базы данных (например, db_datareader и db_datawriter), или можно создать пользовательские роли для вашего приложения toogrant объектов базы данных tooselected явные разрешения.</span><span class="sxs-lookup"><span data-stu-id="4b638-188">Implement database-level security by using fixed database roles (such as db_datareader or db_datawriter), or you can create custom roles for your application toogrant explicit permissions tooselected database objects.</span></span>

<span data-ttu-id="4b638-189">Другие способы tooencrypt данных, можно воспользоваться.</span><span class="sxs-lookup"><span data-stu-id="4b638-189">For other ways tooencrypt your data, consider:</span></span>

-   <span data-ttu-id="4b638-190">[Шифрование на уровне ячейки](https://msdn.microsoft.com/library/ms179331.aspx) tooencrypt определенных столбцов или даже ячеек данных с разными ключами шифрования.</span><span class="sxs-lookup"><span data-stu-id="4b638-190">[Cell-level encryption](https://msdn.microsoft.com/library/ms179331.aspx) tooencrypt specific columns or even cells of data with different encryption keys.</span></span>
-   <span data-ttu-id="4b638-191">Шифрование с помощью постоянного шифрования используется: [постоянного шифрования](https://msdn.microsoft.com/library/mt163865.aspx) позволяет клиентам tooencrypt конфиденциальные данные в клиентских приложениях, а не раскрывать toohello ключи шифрования hello ядра базы данных (база данных SQL или SQL Server).</span><span class="sxs-lookup"><span data-stu-id="4b638-191">Encryption in use using Always Encrypted: [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx) allows clients tooencrypt sensitive data inside client applications and never reveal hello encryption keys toohello Database Engine (SQL Database or SQL Server).</span></span> <span data-ttu-id="4b638-192">В результате постоянное шифрование позволяет разделить пользователей на тех, кто владеет данных hello (или ее могли просматривать) и тех, кто управляет hello данных (но не должен иметь к ним доступа).</span><span class="sxs-lookup"><span data-stu-id="4b638-192">As a result, Always Encrypted provides a separation between those who own hello data (and can view it) and those who manage hello data (but should have no access).</span></span>
-   <span data-ttu-id="4b638-193">С помощью безопасности на уровне строк: безопасность на уровне строк позволяет клиентам toocontrol доступа toorows в таблицу базы данных, основанной на характеристиках hello hello пользователя, выполняющего запрос (например, группа членство или контекст выполнения).</span><span class="sxs-lookup"><span data-stu-id="4b638-193">Using Row-level security: Row-Level Security enables customers toocontrol access toorows in a database table based on hello characteristics of hello user executing a query (e.g., group membership or execution context).</span></span> <span data-ttu-id="4b638-194">Дополнительные сведения см. в статье [Безопасность на уровне строк](https://msdn.microsoft.com/library/dn765131).</span><span class="sxs-lookup"><span data-stu-id="4b638-194">For more information, see [Row-Level security](https://msdn.microsoft.com/library/dn765131).</span></span>

## <a name="protect-data-in-transit"></a><span data-ttu-id="4b638-195">Защита данных при передаче</span><span class="sxs-lookup"><span data-stu-id="4b638-195">Protect data in transit</span></span>
<span data-ttu-id="4b638-196">Защита данных при передаче обязательно должна быть учтена в стратегии защиты данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-196">Protecting data in transit should be essential part of your data protection strategy.</span></span> <span data-ttu-id="4b638-197">Так как данные будут перехода вперед и назад из различных расположений, hello рекомендуется использовать данные tooexchange протоколов SSL/TLS в разных расположениях.</span><span class="sxs-lookup"><span data-stu-id="4b638-197">Since data will be moving back and forth from many locations, hello general recommendation is that you always use SSL/TLS protocols tooexchange data across different locations.</span></span> <span data-ttu-id="4b638-198">В некоторых случаях может потребоваться tooisolate hello всей коммуникационный канал между локальной и облачной инфраструктуры с помощью виртуальной частной сети (VPN).</span><span class="sxs-lookup"><span data-stu-id="4b638-198">In some circumstances, you may want tooisolate hello entire communication channel between your on-premises and cloud infrastructure by using a virtual private network (VPN).</span></span>

<span data-ttu-id="4b638-199">Для перемещения данных между локальной инфраструктурой и Azure следует применять соответствующие меры безопасности, например использовать HTTPS или VPN.</span><span class="sxs-lookup"><span data-stu-id="4b638-199">For data moving between your on-premises infrastructure and Azure, you should consider appropriate safeguards such as HTTPS or VPN.</span></span>

<span data-ttu-id="4b638-200">Для организаций, которым требуется toosecure доступ из нескольких рабочих станциях от локальной tooAzure, используйте [Azure сеть сеть VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-site-to-site-create).</span><span class="sxs-lookup"><span data-stu-id="4b638-200">For organizations that need toosecure access from multiple workstations located on-premises tooAzure, use [Azure site-to-site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-site-to-site-create).</span></span>

<span data-ttu-id="4b638-201">Для организаций, которым требуется toosecure доступ из отдельных рабочих станций локально или дистанционно tooAzure, рассмотрите возможность использования [точка-сеть VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-point-to-site-create).</span><span class="sxs-lookup"><span data-stu-id="4b638-201">For organizations that need toosecure access from individual workstations located on-premises or off-premises tooAzure, consider using [Point-to-Site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-point-to-site-create).</span></span>

<span data-ttu-id="4b638-202">Большие наборы данных можно перемещать по выделенному высокоскоростному каналу глобальной сети, например [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span><span class="sxs-lookup"><span data-stu-id="4b638-202">Larger data sets can be moved over a dedicated high-speed WAN link such as [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span></span> <span data-ttu-id="4b638-203">При выборе toouse ExpressRoute можно зашифровать данные hello hello уровня приложения с помощью [SSL/TLS](https://support.microsoft.com/kb/257591) или другие протоколы для дополнительной защиты.</span><span class="sxs-lookup"><span data-stu-id="4b638-203">If you choose toouse ExpressRoute, you can also encrypt hello data at hello application-level using [SSL/TLS](https://support.microsoft.com/kb/257591) or other protocols for added protection.</span></span>

<span data-ttu-id="4b638-204">Если взаимодействуют со службой хранилища Azure через портал Azure hello всех транзакций выполняется через HTTPS.</span><span class="sxs-lookup"><span data-stu-id="4b638-204">If you are interacting with Azure Storage through hello Azure Portal, all transactions occur via HTTPS.</span></span> <span data-ttu-id="4b638-205">[API REST хранилища](https://msdn.microsoft.com/library/azure/dd179355.aspx) по протоколу HTTPS также могут использоваться toointeract с [хранилища Azure](https://azure.microsoft.com/services/storage/) и [базы данных SQL Azure](https://azure.microsoft.com/services/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="4b638-205">[Storage REST API](https://msdn.microsoft.com/library/azure/dd179355.aspx) over HTTPS can also be used toointeract with [Azure Storage](https://azure.microsoft.com/services/storage/) and [Azure SQL Database](https://azure.microsoft.com/services/sql-database/).</span></span>

<span data-ttu-id="4b638-206">Организаций, которые не прошли tooprotect данных во время передачи, более уязвимы для [атак в середине](https://technet.microsoft.com/library/gg195821.aspx), [перехвата](https://technet.microsoft.com/library/gg195641.aspx) и перехват сеансов.</span><span class="sxs-lookup"><span data-stu-id="4b638-206">Organizations that fail tooprotect data in transit are more susceptible for [man-in-the-middle attacks](https://technet.microsoft.com/library/gg195821.aspx), [eavesdropping](https://technet.microsoft.com/library/gg195641.aspx) and session hijacking.</span></span> <span data-ttu-id="4b638-207">Первым шагом hello в получении доступа к данным tooconfidential могут быть эти атаки.</span><span class="sxs-lookup"><span data-stu-id="4b638-207">These attacks can be hello first step in gaining access tooconfidential data.</span></span>

<span data-ttu-id="4b638-208">Дополнительные сведения о Azure VPN параметр, прочитав статью hello toolearn [планирования и проектирования для шлюза VPN](https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-plan-design).</span><span class="sxs-lookup"><span data-stu-id="4b638-208">toolearn more about Azure VPN option by reading hello article [Planning and design for VPN Gateway](https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-plan-design).</span></span>

## <a name="enable-database-auditing"></a><span data-ttu-id="4b638-209">Включение аудита базы данных</span><span class="sxs-lookup"><span data-stu-id="4b638-209">Enable database auditing</span></span>
<span data-ttu-id="4b638-210">Аудит экземпляр SQL Server Database Engine hello или отдельной базы данных включает в себя отслеживание и протоколирование событий, происходящих в hello компонента Database Engine.</span><span class="sxs-lookup"><span data-stu-id="4b638-210">Auditing an instance of hello SQL Server Database Engine or an individual database involves tracking and logging events that occur on hello Database Engine.</span></span> <span data-ttu-id="4b638-211">Подсистема аудита SQL Server позволяет проводить аудит сервера, который может предусматривать спецификации аудита серверов для событий на уровне сервера и спецификации аудита баз данных для событий на уровне базы данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-211">SQL Server audit lets you create server audits, which can contain server audit specifications for server level events, and database audit specifications for database level events.</span></span> <span data-ttu-id="4b638-212">События аудита могут записываться в журналы событий toohello или tooaudit файлов.</span><span class="sxs-lookup"><span data-stu-id="4b638-212">Audited events can be written toohello event logs or tooaudit files.</span></span>

<span data-ttu-id="4b638-213">Для SQL Server есть несколько уровней аудита в зависимости от нормативных или стандартных требований для вашей установки.</span><span class="sxs-lookup"><span data-stu-id="4b638-213">There are several levels of auditing for SQL Server, depending on government or standards requirements for your installation.</span></span> <span data-ttu-id="4b638-214">Подсистема аудита SQL Server предоставляет hello средств и процессов, необходимо иметь tooenable, хранилище и представление аудитов на различных объектах серверов и баз данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-214">SQL Server Audit provides hello tools and processes you must have tooenable, store, and view audits on various server and database objects.</span></span>

<span data-ttu-id="4b638-215">[Аудит базы данных Azure SQL](https://docs.microsoft.com/azure/sql-database/sql-database-auditing) отслеживает события базы данных и записывает их в журнал аудита tooan вашей учетной записи хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="4b638-215">[Azure SQL Database Auditing](https://docs.microsoft.com/azure/sql-database/sql-database-auditing) tracks database events and writes them tooan audit log in your Azure Storage account.</span></span>

<span data-ttu-id="4b638-216">Аудит может помочь вам соблюсти требования нормативов, проанализировать работу с базой данных и получить представление о расхождениях и аномалиях, которые могут указывать на бизнес-проблемы или предполагаемые нарушения безопасности.</span><span class="sxs-lookup"><span data-stu-id="4b638-216">Auditing can help you maintain regulatory compliance, understand database activity, and gain insight into discrepancies and anomalies that could indicate business concerns or suspected security violations.</span></span>

<span data-ttu-id="4b638-217">Аудит позволяет и обеспечивает соблюдение стандартов toocompliance но не гарантирует соответствие.</span><span class="sxs-lookup"><span data-stu-id="4b638-217">Auditing enables and facilitates adherence toocompliance standards but doesn't guarantee compliance.</span></span>

<span data-ttu-id="4b638-218">Дополнительные сведения о базе данных аудита toolearn и как tooenable, прочтите статью hello [включения аудита и угрозы обнаружения на SQL Server в центр безопасности Azure](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span><span class="sxs-lookup"><span data-stu-id="4b638-218">toolearn more about database auditing and how tooenable it, please read hello article [Enable auditing and threat detection on SQL servers in Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span></span>

## <a name="enable-database-threat-detection"></a><span data-ttu-id="4b638-219">Обнаружение угроз для базы данных</span><span class="sxs-lookup"><span data-stu-id="4b638-219">Enable database threat detection</span></span>
<span data-ttu-id="4b638-220">Обнаружение угроз SQL позволяет toodetect и отвечать toopotential угроз, как только они происходят, предоставляя предупреждения системы безопасности о подозрительной активности.</span><span class="sxs-lookup"><span data-stu-id="4b638-220">SQL Threat Detection enables you toodetect and respond toopotential threats as they occur by providing security alerts on anomalous activities.</span></span> <span data-ttu-id="4b638-221">Вы получаете оповещения о подозрительных действиях с базами данных, потенциальных уязвимостях, атаках путем внедрения кода SQL и аномальных закономерностях в доступе к базам данных.</span><span class="sxs-lookup"><span data-stu-id="4b638-221">You will receive an alert upon suspicious database activities, potential vulnerabilities, and SQL injection attacks, as well as anomalous database access patterns.</span></span> <span data-ttu-id="4b638-222">Предупреждения для обнаружения угроз SQL предоставляют подробные сведения о подозрительной активности и рекомендуем действия, о том, как tooinvestigate и устранить угрозу hello.</span><span class="sxs-lookup"><span data-stu-id="4b638-222">SQL Threat Detection alerts provide details of suspicious activity and recommend action on how tooinvestigate and mitigate hello threat.</span></span>

<span data-ttu-id="4b638-223">Например путем внедрения кода SQL — один из hello общих Web вопросами безопасности приложений на hello Интернета, используемых tooattack управляемых данными приложений.</span><span class="sxs-lookup"><span data-stu-id="4b638-223">For example, SQL injection is one of hello common Web application security issues on hello Internet, used tooattack data-driven applications.</span></span> <span data-ttu-id="4b638-224">Злоумышленникам воспользоваться преимуществами tooinject уязвимостей приложения злонамеренные инструкции SQL в поля записи приложения, нарушения или изменение данных в базе данных hello.</span><span class="sxs-lookup"><span data-stu-id="4b638-224">Attackers take advantage of application vulnerabilities tooinject malicious SQL statements into application entry fields, breaching or modifying data in hello database.</span></span>

<span data-ttu-id="4b638-225">toolearn о том, как tooset вверх для обнаружения угроз для базы данных в hello Azure портала см. в разделе [обнаружением угроз для базы данных SQL](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).</span><span class="sxs-lookup"><span data-stu-id="4b638-225">toolearn about how tooset up threat detection for your database in hello Azure portal see, [SQL Database Threat Detection](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).</span></span>

<span data-ttu-id="4b638-226">Кроме того, оповещения об обнаружении угроз базы данных SQL интегрируются с [центром безопасности Azure](https://azure.microsoft.com/services/security-center/).</span><span class="sxs-lookup"><span data-stu-id="4b638-226">In addition, SQL Threat Detection integrates alerts with [Azure Security Center](https://azure.microsoft.com/services/security-center/).</span></span> <span data-ttu-id="4b638-227">Мы приглашаем вас tootry его 60 дней для освобождения.</span><span class="sxs-lookup"><span data-stu-id="4b638-227">We invite you tootry it out for 60 days for free.</span></span>

<span data-ttu-id="4b638-228">Дополнительные сведения о базе данных для обнаружения угроз toolearn и как tooenable, прочтите статью hello [включения аудита и угрозы обнаружения на SQL Server в центр безопасности Azure](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span><span class="sxs-lookup"><span data-stu-id="4b638-228">toolearn more about Database Threat Detection and how tooenable it, please read hello article [Enable auditing and threat detection on SQL servers in Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span></span>

## <a name="conclusion"></a><span data-ttu-id="4b638-229">Заключение</span><span class="sxs-lookup"><span data-stu-id="4b638-229">Conclusion</span></span>
<span data-ttu-id="4b638-230">База данных Azure — это надежная платформа базы данных с полным набором функций безопасности, которые удовлетворяют многим организационным и нормативным требованиям.</span><span class="sxs-lookup"><span data-stu-id="4b638-230">Azure Database is a robust database platform, with a full range of security features that meet many organizational and regulatory compliance requirements.</span></span> <span data-ttu-id="4b638-231">Чтобы защитить данные, управление hello физический доступ tooyour данных и с помощью различных вариантов для защиты данных в hello файла, столбца или уровне строк с помощью прозрачного шифрования данных, шифрование на уровне ячейки или безопасность на уровне строк.</span><span class="sxs-lookup"><span data-stu-id="4b638-231">You can help protect data by controlling hello physical access tooyour data, and using a variety of options for data security at hello file-, column-, or row level with Transparent Data Encryption, Cell-Level Encryption, or Row-Level Security.</span></span> <span data-ttu-id="4b638-232">Всегда Encrypted также позволяет операций, выполняемых зашифрованные данные, что упрощает процесс обновления приложения hello.</span><span class="sxs-lookup"><span data-stu-id="4b638-232">Always Encrypted also enables operations against encrypted data, simplifying hello process of application updates.</span></span> <span data-ttu-id="4b638-233">В свою очередь журналы событий tooauditing действия базы данных SQL предоставляет hello необходимые сведения, позволяя tooknow, как и при доступе к данным.</span><span class="sxs-lookup"><span data-stu-id="4b638-233">In turn, access tooauditing logs of SQL Database activity provides you with hello information you need, allowing you tooknow how and when data is accessed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4b638-234">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="4b638-234">Next steps</span></span>
- <span data-ttu-id="4b638-235">toolearn Дополнительные сведения о правилах брандмауэра. в разделе [правила брандмауэра](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span><span class="sxs-lookup"><span data-stu-id="4b638-235">toolearn more about firewall rules, see [Firewall rules](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span></span>
- <span data-ttu-id="4b638-236">toolearn о пользователях и имена входа, в разделе [Управление именами входа](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins).</span><span class="sxs-lookup"><span data-stu-id="4b638-236">toolearn about users and logins, see [Manage logins](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins).</span></span>
- <span data-ttu-id="4b638-237">Ознакомьтесь с руководством [Защита базы данных SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial).</span><span class="sxs-lookup"><span data-stu-id="4b638-237">For a tutorial, see [Secure your Azure SQL Database](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial).</span></span>
