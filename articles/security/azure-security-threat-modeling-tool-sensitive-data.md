---
title: "aaaSensitive - Microsoft средства моделирования угроз - данных Azure | Документы Microsoft"
description: "защиту от угроз, которые представлены в hello средства моделирования угроз"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 8a18f43af439241ba193ccf668971ddc4655355f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-sensitive-data--mitigations"></a>Механизм безопасности. Конфиденциальные данные | Устранение угроз 
| Продукт или служба | Статья |
| --------------- | ------- |
| **Граница доверия между компьютерами** | <ul><li>[Двоичные файлы, содержащие конфиденциальные данные, должны быть замаскированы](#binaries-info)</li><li>[Можно с помощью шифрованной файловой системы (EFS) слишком используется tooprotect конфиденциальные данные пользователя](#efs-user)</li><li>[Убедитесь, что шифрования конфиденциальных данных, хранящихся в приложение hello hello файловой системе](#filesystem)</li></ul> | 
| **Веб-приложение** | <ul><li>[Убедитесь, что конфиденциальное содержимое не кэшированы на hello браузера](#cache-browser)</li><li>[Зашифруйте разделы файлов конфигурации веб-приложения, содержащие конфиденциальные данные](#encrypt-data)</li><li>[Явно отключите атрибута HTML hello автозаполнения в формах конфиденциальные и входные данные](#autocomplete-input)</li><li>[Убедитесь, что маскируются конфиденциальные данные, отображаемые на экране приветствия пользователя](#data-mask)</li></ul> | 
| **База данных** | <ul><li>[Реализовать пользователей маскировки без раскрытия конфиденциальных данных toolimit работы в привилегированном режиме динамических данных](#dynamic-users)</li><li>[Обеспечьте хранение паролей в формате хэша с использованием случайной строки данных](#salted-hash)</li><li>[Шифруйте конфиденциальные данные в столбцах базы данных](#db-encrypted)</li><li>[Включите шифрование уровня базы данных (TDE)](#tde-enabled)</li><li>[Зашифруйте резервные копии базы данных](#backup)</li></ul> | 
| **Веб-интерфейс API** | <ul><li>[Убедитесь, соответствующие tooWeb конфиденциальных данных, API не хранится в хранилище браузера](#api-browser)</li></ul> | 
| Azure DocumentDB | <ul><li>[Шифруйте конфиденциальные данные, хранящиеся в DocumentDB](#encrypt-docdb)</li></ul> | 
| **Граница доверия виртуальной машины IaaS Azure** | <ul><li>[Используйте шифрование диска Azure tooencrypt дисков, используемых виртуальными машинами](#disk-vm)</li></ul> | 
| **Граница доверия Service Fabric** | <ul><li>[Шифруйте секреты в приложениях Service Fabric](#fabric-apps)</li></ul> | 
| **Dynamics CRM** | <ul><li>[Выполняйте моделирование безопасности, при необходимости привлекая рабочие подразделения и группы](#modeling-teams)</li><li>[Свести к минимуму функция tooshare доступа для важных сущностей](#entities)</li><li>[Обучение пользователей на hello риски, связанные с функция совместного доступа Dynamics CRM hello и обеспечивать безопасность](#good-practices)</li><li>[Включите стандартные правила разработки, запрещающие показ данных о конфигурации в управлении исключениями](#exception-mgmt)</li></ul> | 
| **Хранилище Azure** | <ul><li>[Используйте шифрование службы хранилища Azure (SSE) для неактивных данных (предварительная версия)](#sse-preview)</li><li>[Использование шифрования на стороне клиента toostore конфиденциальных данных в хранилище Azure](#client-storage)</li></ul> | 
| **Мобильный клиент** | <ul><li>[Шифрование регистра или Персональные данные, записанные toophones локального хранилища](#pii-phones)</li><li>[Замаскировать созданный двоичные файлы перед распространением tooend пользователей](#binaries-end)</li></ul> | 
| **WCF** | <ul><li>[Набор clientCredentialType tooCertificate или Windows](#cert)</li><li>[Не включен режим безопасности WCF](#security)</li></ul> | 

## <a id="binaries-info"></a>Двоичные файлы, содержащие конфиденциальные данные, должны быть замаскированы

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Отношения доверия между компьютерами | 
| **Этап SDL**               | Развертывание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Двоичные файлы, содержащие конфиденциальные данные, например коммерческие тайны или конфиденциальную бизнес-логику, которую нельзя отменить, следует маскировать. Это toostop обратного проектирования сборок. Для этой цели можно использовать такой инструмент, как `CryptoObfuscator`. |

## <a id="efs-user"></a>Можно с помощью шифрованной файловой системы (EFS) слишком используется tooprotect конфиденциальные данные пользователя

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Отношения доверия между компьютерами | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Рассмотрите возможность с помощью шифрованной файловой системы (EFS) — используется tooprotect конфиденциальные данные конкретного пользователя из злоумышленники с компьютером toohello физического доступа. |

## <a id="filesystem"></a>Убедитесь, что шифрования конфиденциальных данных, хранящихся в приложение hello hello файловой системе

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Отношения доверия между компьютерами | 
| **Этап SDL**               | Развертывание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Убедитесь, что шифрования конфиденциальных данных, хранящихся в приложение hello hello файловой системе (например, с помощью DPAPI), если не может быть применена EFS |

## <a id="cache-browser"></a>Убедитесь, что конфиденциальное содержимое не кэшированы на hello браузера

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Веб-приложение | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальные, веб-формы, MVC 5, MVC 6 |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Браузеры могут сохранять информацию для кэширования и ведения истории. Эти кэшированные файлы хранятся в папке, как папка временных файлов Интернета hello в случае, когда hello Internet Explorer. Если эти страницы называются снова, hello браузер отображает их из своего кэша. Если конфиденциальные сведения отображаемых toohello пользователем (например, их адреса, кредитной карты, номер социального страхования или имя пользователя), то эти сведения могут быть хранимые в кэш браузера и таким образом доступны через проверки кэша hello браузера или просто нажав кнопку «Назад» hello браузера. Установить значение заголовка cache-control отклика слишком «нет-store» для всех страниц. |

### <a name="example"></a>Пример
```XML
<configuration>
  <system.webServer>
   <httpProtocol>
    <customHeaders>
        <add name="Cache-Control" value="no-cache" />
        <add name="Pragma" value="no-cache" />
        <add name="Expires" value="-1" />
    </customHeaders>
  </httpProtocol>
 </system.webServer>
</configuration>
```

### <a name="example"></a>Пример
Вы можете сделать это, используя фильтр. Воспользуйтесь следующим примером. 
```C#
public override void OnActionExecuting(ActionExecutingContext filterContext)
        {
            if (filterContext == null || (filterContext.HttpContext != null && filterContext.HttpContext.Response != null && filterContext.HttpContext.Response.IsRequestBeingRedirected))
            {
                //// Since this is MVC pipeline, this should never be null.
                return;
            }

            var attributes = filterContext.ActionDescriptor.GetCustomAttributes(typeof(System.Web.Mvc.OutputCacheAttribute), false);
            if (attributes == null || **Attributes**.Count() == 0)
            {
                filterContext.HttpContext.Response.Cache.SetNoStore();
                filterContext.HttpContext.Response.Cache.SetCacheability(HttpCacheability.NoCache);
                filterContext.HttpContext.Response.Cache.SetExpires(DateTime.UtcNow.AddHours(-1));
                if (!filterContext.IsChildAction)
                {
                    filterContext.HttpContext.Response.AppendHeader("Pragma", "no-cache");
                }
            }

            base.OnActionExecuting(filterContext);
        }
``` 

## <a id="encrypt-data"></a>Зашифруйте разделы файлов конфигурации веб-приложения, содержащие конфиденциальные данные

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Веб-приложение | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [Практическое руководство: Шифрование разделов конфигурации в ASP.NET 2.0 с помощью DPAPI](https://msdn.microsoft.com/library/ff647398.aspx), [указание защищенный поставщик конфигурации](https://msdn.microsoft.com/library/68ze1hb2.aspx), [секреты приложения tooprotect с помощью хранилища ключей Azure](https://azure.microsoft.com/documentation/articles/guidance-multitenant-identity-keyvault/) |
| **Действия** | Файлы конфигурации, например hello Web.config, appsettings.json, часто используемый toohold конфиденциальные сведения, включая имена пользователей, пароли, строки подключения к базам данных и ключи шифрования. Если эти сведения не защищают, приложение будет уязвимым tooattackers или пользователи-злоумышленники получение конфиденциальные сведения, например имена учетных записей пользователей и пароли, имен базы данных и сервера. В зависимости от типа развертывания hello (azure или в локальной среде), шифрование hello конфиденциальные разделов файлов конфигурации, с помощью DPAPI или служб, таких как хранилище ключей Azure. |

## <a id="autocomplete-input"></a>Явно отключите атрибута HTML hello автозаполнения в формах конфиденциальные и входные данные

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Веб-приложение | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [Сведения об атрибуте autocomplete на сайте MSDN](http://msdn.microsoft.com/library/ms533486(VS.85).aspx), [использование функции автозаполнение в формах HTML](http://msdn.microsoft.com/library/ms533032.aspx), [Бюллетень по безопасности (Майкрософт) MS10-071 — критическое](http://technet.microsoft.com/security/bulletin/MS10-071), [запись блога о функции автозаполнения](http://blog.mindedsecurity.com/2011/10/autocompleteagain.html) |
| **Действия** | атрибут autocomplete Hello указывает формы наличие автозаполнения или отключить. Если автозаполнения, автоматически полным значениям hello браузера на основе значений, hello пользователь ввел до. Например в форме вводится новое имя и пароль и отправки формы hello, hello браузер запрашивает при hello пароль должен быть сохранен в. После этого в том случае, когда форма hello hello имя и пароль заполняются автоматически или выполняются как введено имя hello. Злоумышленник, имеющий локальный доступ может получить пароль открытым текстом hello из кэша браузера hello. По умолчанию автозаполнение включено, поэтому его явным образом следует отключить. |

### <a name="example"></a>Пример
```C#
<form action="Login.aspx" method="post " autocomplete="off" >
      Social Security Number: <input type="text" name="ssn" />
      <input type="submit" value="Submit" />    
</form>
```

## <a id="data-mask"></a>Убедитесь, что маскируются конфиденциальные данные, отображаемые на экране приветствия пользователя

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Веб-приложение | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Конфиденциальные данные, такие как пароли, номера кредитных карт, т. д. SSN должен быть скрыт при отображении на экране приветствия. Это службу tooprevent несанкционированного доступа к данным hello (например, страниц плечо, сможет пароли, службу поддержки, просмотр SSN числа пользователей). Убедитесь, что эти данные не отображаются в обычном тексте и что они скрыты должным образом. Это имеет toobe занимается при принятии их в качестве входных данных (например,). тип входных данных = «password») и отображение на экране приветствия (например, отображение только hello последние 4 цифры номера кредитной карты hello). |

## <a id="dynamic-users"></a>Реализовать пользователей маскировки без раскрытия конфиденциальных данных toolimit работы в привилегированном режиме динамических данных

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | База данных | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | SQL Azure, локальные |
| **Атрибуты**              | Версия SQL: 12, MsSQL2016 |
| **Справочные материалы**              | [динамическое маскирование данных;](https://msdn.microsoft.com/library/mt130841) |
| **Действия** | Hello динамического маскирования данных служит toolimit раскрытия конфиденциальных данных, запретив пользователям, которые не должны иметь доступ к данным toohello просматривать его. Динамическое маскирование данных не предназначены tooprevent пользователям напрямую соединения toohello базы данных и выполнить запросы для получения фрагментов конфиденциальных данных hello. Динамическое маскирование данных является взаимодополняющие tooother функции безопасности SQL Server (аудит, шифрование, безопасность на уровне строк...) и настоятельно рекомендуется toouse эту функцию в сочетании с ними в дополнение к этому в порядке toobetter защита hello конфиденциальных данных в hello База данных. Обратите внимание, что эта функция поддерживается только в SQL Server (начиная с версии 2016) и базе данных SQL Azure. |

## <a id="salted-hash"></a>Обеспечьте хранение паролей в формате хэша с использованием случайной строки данных

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | База данных | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [Хеширование паролей с использованием API .NET для шифрования](http://docs.asp.net/en/latest/security/data-protection/consumer-apis/password-hashing.html) |
| **Действия** | Пароли не должны храниться в пользовательских базах данных хранилища. Вместо этого хэши паролей должны храниться со случайными данными. Убедитесь, что hello salt-строку для пользователя hello всегда является уникальным и применяются b crypt, s crypt или PBKDF2 перед хранение пароля hello, и минимального объема работы коэффициент итерации число 150 000 циклов подбора принудительное вероятность tooeliminate hello.| 

## <a id="db-encrypted"></a>Шифруйте конфиденциальные данные в столбцах базы данных

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | База данных | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Версия SQL: все |
| **Справочные материалы**              | [Контрольный список. Шифрование конфиденциальных данных](https://technet.microsoft.com/library/ff848751(v=sql.105).aspx), [Шифрование столбца данных](https://msdn.microsoft.com/library/ms179331), [ENCRYPTBYCERT (Transact-SQL)](https://msdn.microsoft.com/library/ms188061) |
| **Действия** | Конфиденциальные данные, такие как номера кредитных карт имеет toobe в зашифрованном виде в базе данных hello. Данные могут быть зашифрованы с помощью шифрования на уровне столбца или функцией приложения с помощью функции шифрования hello. |

## <a id="tde-enabled"></a>Включите шифрование уровня базы данных (TDE)

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | База данных | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [Основные сведения о прозрачном шифровании данных (TDE)](https://technet.microsoft.com/library/bb934049(v=sql.105).aspx) |
| **Действия** | Прозрачное шифрование данных (TDE) в SQL server помогает шифрования конфиденциальных данных в базе данных и защиты hello ключей, используемых tooencrypt hello данные с помощью сертификата. Это предотвращает ни одному человеку hello ключей с использованием данных hello. Прозрачное шифрование данных защищает данные «на оставшуюся», то есть файлы данных и журналов hello. Он предоставляет возможность toocomply hello много законам, нормам и правилам, определенным в разных отраслях. |

## <a id="backup"></a>Зашифруйте резервные копии базы данных

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | База данных | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | SQL Azure, локальные |
| **Атрибуты**              | Версия SQL: 12, MsSQL2014 |
| **Справочные материалы**              | [Шифрование резервной копии](https://msdn.microsoft.com/library/dn449489) |
| **Действия** | SQL Server имеет hello возможность tooencrypt hello данных во время создания резервной копии. Указав алгоритм шифрования hello и hello шифратор (сертификат или асимметричный ключ) при создании резервной копии, один можно создать зашифрованного файла резервной копии. |

## <a id="api-browser"></a>Убедитесь, соответствующие tooWeb конфиденциальных данных, API не хранится в хранилище браузера

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Веб-интерфейс API | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | MVC 5, MVC 6 |
| **Атрибуты**              | Поставщик удостоверений — ADFS или Azure AD |
| **Справочные материалы**              | Недоступно  |
| **Действия** | <p>В некоторых реализациях конфиденциальных артефактов соответствующие tooWeb API проверки подлинности, хранятся в локальном хранилище браузера. Например, такие артефакты проверки подлинности Azure AD, как adal.idtoken, adal.nonce.idtoken, adal.access.token.key, adal.token.keys, adal.state.login, adal.session.state, adal.expiration.key и другие.</p><p>Эти артефакты доступны даже после выхода или закрытия браузера. Если злоумышленник получит доступ toothese артефакты, он их можно повторно использовать tooaccess hello защищенных ресурсов (API). Убедитесь, что все связанные tooWeb конфиденциальных артефактов API не хранятся в хранилище браузера. В случаях, когда неизбежные хранилища на стороне клиента (например, одной страницы приложений (SPA), используют потоки неявное OpenIdConnect/OAuth требуются токены доступа toostore локально), варианты использования хранилища с имеют сохраняемости. Например предпочтительно SessionStorage tooLocalStorage.</p>| 

### <a name="example"></a>Пример
Hello ниже фрагмент JavaScript — из библиотеки нестандартной проверки подлинности, где хранятся в локальном хранилище артефактов для проверки подлинности. Необходимо избегать таких реализаций. 
```javascript
ns.AuthHelper.Authenticate = function () {
window.config = {
instance: 'https://login.microsoftonline.com/',
tenant: ns.Configurations.Tenant,
clientId: ns.Configurations.AADApplicationClientID,
postLogoutRedirectUri: window.location.origin,
cacheLocation: 'localStorage', // enable this for IE, as sessionStorage does not work for localhost.
};
```

## <a id="encrypt-docdb"></a>Шифрование конфиденциальных данных, хранящихся в Cosmos DB

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Azure DocumentDB | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Зашифруйте конфиденциальные данные на уровне приложения, прежде чем сохранить их в DocumentDB, или сохраните все конфиденциальные данные в других решениях хранения, например в службе хранилища Azure или Azure SQL.| 

## <a id="disk-vm"></a>Используйте шифрование диска Azure tooencrypt дисков, используемых виртуальными машинами

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Границы доверия виртуальной машины IaaS Azure | 
| **Этап SDL**               | Развертывание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [С помощью шифрования диска Azure tooencrypt диски, используемые виртуальными машинами](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_using-azure-disk-encryption-to-encrypt-disks-used-by-your-virtual-machines) |
| **Действия** | <p>Шифрование дисков Azure — это новая функция, которая в настоящее время находится на этапе предварительной версии. Эта функция позволяет вам tooencrypt hello ОС дисков и дисков данных, используемые в виртуальной машине IaaS. Для Windows hello диски шифруются с помощью технологии шифрования BitLocker отраслевым стандартам. Для Linux диски hello шифруются с помощью технологии hello Crypt интеллектуального анализа данных. Это интегрирован с хранилищем ключей Azure tooallow вы toocontrol и управления ключами шифрования диска hello. Hello решения по шифрованию диска Azure поддерживает следующие сценарии шифрования три клиента hello:</p><ul><li>включение шифрования в новых виртуальных машинах IaaS, созданных на основе шифруемых клиентом файлов VHD и предоставленных клиентом ключей шифрования, которые хранятся в хранилище ключей Azure;</li><li>Включите шифрование на новые виртуальные машины IaaS, созданные на основе hello Azure Marketplace.</li><li>включение шифрования в существующих виртуальных машинах IaaS, которые уже работают в Azure.</li></ul>| 

## <a id="fabric-apps"></a>Шифруйте секреты в приложениях Service Fabric

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Граница доверия Service Fabric | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Среда: Azure |
| **Справочные материалы**              | [Управление секретами в приложениях Service Fabric](https://azure.microsoft.com/documentation/articles/service-fabric-application-secret-management/) |
| **Действия** | Секретом может считаться любая конфиденциальная информации, например строка подключения к хранилищу, пароль или другое значение, которое не должно обрабатываться в виде обычного текста. Используйте хранилище ключей Azure toomanage ключи и секретные данные в приложениях служб структуры. |

## <a id="modeling-teams"></a>Выполняйте моделирование безопасности, при необходимости привлекая рабочие подразделения и группы

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Dynamics CRM | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Выполняйте моделирование безопасности, при необходимости привлекая рабочие подразделения и группы |

## <a id="entities"></a>Свести к минимуму функция tooshare доступа для важных сущностей

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Dynamics CRM | 
| **Этап SDL**               | Развертывание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Свести к минимуму функция tooshare доступа для важных сущностей |

## <a id="good-practices"></a>Обучение пользователей на hello риски, связанные с функция совместного доступа Dynamics CRM hello и обеспечивать безопасность

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Dynamics CRM | 
| **Этап SDL**               | Развертывание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Обучение пользователей на hello риски, связанные с функция совместного доступа Dynamics CRM hello и обеспечивать безопасность |

## <a id="exception-mgmt"></a>Включите стандартные правила разработки, запрещающие показ данных о конфигурации в управлении исключениями

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Dynamics CRM | 
| **Этап SDL**               | Развертывание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | Недоступно  |
| **Действия** | Включите стандартные правила разработки, запрещающие показ данных о конфигурации в управлении исключениями за пределами среды разработки. Протестируйте эту возможность как часть проверки кода или во время периодических проверок.|

## <a id="sse-preview"></a>Используйте шифрование службы хранилища Azure (SSE) для неактивных данных (предварительная версия)

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Хранилище Azure | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Тип хранилища: большой двоичный объект |
| **Справочные материалы**              | [Шифрование службы хранилища Azure для неактивных данных (предварительная версия)](https://azure.microsoft.com/documentation/articles/storage-service-encryption/) |
| **Действия** | <p>Azure хранилища службы шифрования (SSE) для статических данных помогает защитить и защиты вашего toomeet данных организации безопасности и соответствия обязательства. С помощью этой функции хранилища Azure автоматически шифрует вашей toostorage toopersisting предыдущих данных и расшифровывает предыдущих tooretrieval. полностью прозрачный toousers Hello шифрования, расшифровки и управление ключами. SSE применяется только tooblock больших двоичных объектов, страничные большие двоичные объекты и добавьте больших двоичных объектов. Hello других типов данных, включая таблицы, очереди и файлы, не будут зашифрованы.</p><p>Ниже описан рабочий процесс шифрования и расшифровки.</p><ul><li>Hello клиента включает шифрование на учетную запись хранения hello</li><li>Когда клиент hello записывает новое tooBlob хранилище данных (PUT Blob, ПОМЕСТИТЬ блок, вставки страницы, т. д.); Каждая запись шифруется с помощью 256-битного шифрования AES, один из hello сильные блочные шифры доступных</li><li>Если hello клиента должны tooaccess (получение большого двоичного объекта, т. д.), данные будут автоматически расшифровывается перед возвратом toohello пользователя</li><li>Если шифрование отключено, новые записи больше не шифруются и существующие зашифрованные данные остается зашифрованным, пока не будет переписан пользователем hello. При включенном шифрования, хранилища tooBlob записи будут зашифрованы. состояние Hello данных изменяется с пользователем hello, переключение между Включение и отключение шифрования для учетной записи хранения hello</li><li>Все ключи шифрования хранятся в зашифрованном виде и управляются корпорацией Майкрософт.</li></ul><p>Обратите внимание на то, что в данный момент hello ключи, используемые для шифрования hello управляются с помощью Microsoft. Microsoft изначально создает ключи hello и управление hello безопасного хранения hello ключи, а также обычных поворота hello в соответствии с политикой внутренней Microsoft. В будущем hello, пользователи получат возможность toomanage hello собственные > ключей шифрования и предоставить путь миграции из ключей, управляемых Microsoft ключей, управляемых toocustomer.</p>| 

## <a id="client-storage"></a>Использование шифрования на стороне клиента toostore конфиденциальных данных в хранилище Azure

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Хранилище Azure | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [Шифрование на стороне клиента для службы хранилища Microsoft Azure](https://azure.microsoft.com/documentation/articles/storage-client-side-encryption/), [Шифрование и расшифровка BLOB-объектов в хранилище Microsoft Azure с помощью хранилища ключей Azure](https://azure.microsoft.com/documentation/articles/storage-encrypt-decrypt-blobs-key-vault/), [запись блога о безопасном хранении данных в хранилище BLOB-объектов Azure с расширениями шифрования Azure](https://blogs.msdn.microsoft.com/partnercatalystteam/2015/06/17/storing-data-securely-in-azure-blob-storage-with-azure-encryption-extensions/) |
| **Действия** | <p>Hello клиентская библиотека хранилища Azure для пакета .NET Nuget поддерживает шифрование данных в клиентские приложения перед загрузкой tooAzure хранилища и расшифровки данных при загрузке toohello клиента. Библиотека Hello также поддерживает интеграцию с хранилищем ключей Azure для управления ключами учетной записи хранилища. Вот краткое описание того, как работает шифрование на стороне клиента.</p><ul><li>пакет SDK для клиента службы хранилища Azure Hello создает ключ шифрования содержимого (CEK), который является симметричным ключом, используйте один раз</li><li>Данные пользователей шифруются с помощью этого ключа CEK.</li><li>Hello CEK заключается в оболочку (зашифрованный) с помощью ключа hello ключа шифрования (ключ обмена Ключами). Hello KEK идентифицируется идентификатора ключа и может быть пары асимметричных ключей или симметричного ключа; его можно управлять локально и хранится в хранилище ключей Azure. сам клиент хранилища Hello никогда не имеет доступа toohello ключа обмена Ключами. Он просто вызывает hello упаковка ключа алгоритма, предоставляемые хранилища ключей. Клиенты могут выбрать toouse настраиваемых поставщиков для упаковки и развертывания по желанию ключа</li><li>Hello зашифрованные данные будет отправлен службе toohello хранилища Azure. Проверка связей hello в разделе references hello сведения о реализации нижнего уровня.</li></ul>|

## <a id="pii-phones"></a>Шифрование регистра или Персональные данные, записанные toophones локального хранилища

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Мобильный клиент | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальные, Xamarin  |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [Создание политики конфигурации](https://docs.microsoft.com/intune/deploy-use/manage-settings-and-features-on-your-devices-with-microsoft-intune-policies#create-a-configuration-policy), [сведения об обслуживании цепочки ключей](https://components.xamarin.com/view/square.valet) |
| **Действия** | <p>Если приложение hello записывает конфиденциальные сведения, такие как персональные данные пользователя (электронной почты, номер телефона, имя, фамилию, предпочтения и т. д.) -mobile по файловой системе, затем он должны быть зашифрованы перед записью toohello локальной файловой системе. Если приложение hello приложения предприятия, исследуйте hello возможность публикации приложений с помощью Windows Intune.</p>|

### <a name="example"></a>Пример
Intune можно настроить следующие политики toosafeguard конфиденциальных данных безопасности: 
```C#
Require encryption on mobile device    
Require encryption on storage cards
Allow screen capture
```

### <a name="example"></a>Пример
Если приложение hello не корпоративного приложения, а затем используйте платформы, которая предоставляется хранилище ключей, ключей шифрования toostore цепочки ключей, с помощью которого криптографической операции могут выполняться в hello файловой системы. Следующий код фрагмент кода показывает, каким образом tooaccess ключа из цепочки ключей с помощью xamarin: 
```C#
        protected static string EncryptionKey
        {
            get
            {
                if (String.IsNullOrEmpty(_Key))
                {
                    var query = new SecRecord(SecKind.GenericPassword);
                    query.Service = NSBundle.MainBundle.BundleIdentifier;
                    query.Account = "UniqueID";

                    NSData uniqueId = SecKeyChain.QueryAsData(query);
                    if (uniqueId == null)
                    {
                        query.ValueData = NSData.FromString(System.Guid.NewGuid().ToString());
                        var err = SecKeyChain.Add(query);
                        _Key = query.ValueData.ToString();
                    }
                    else
                    {
                        _Key = uniqueId.ToString();
                    }
                }

                return _Key;
            }
        }
```

## <a id="binaries-end"></a>Замаскировать созданный двоичные файлы перед распространением tooend пользователей

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | Мобильный клиент | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальный |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [Crypto Obfuscator для .NET](http://www.ssware.com/cryptoobfuscator/obfuscator-net.htm) |
| **Действия** | Созданный двоичных файлов (для сборок в apk) должен быть запутывание toostop обратного проектирования сборок. Средства, например `CryptoObfuscator` может использоваться для этой цели. |

## <a id="cert"></a>Набор clientCredentialType tooCertificate или Windows

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | WCF | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | .NET Framework 3 |
| **Атрибуты**              | Недоступно  |
| **Справочные материалы**              | [Fortify](https://vulncat.fortify.com/en/vulncat/index.html) |
| **Действия** | С помощью UsernameToken с помощью пароля открытым текстом по незашифрованному каналу предоставляет tooattackers hello пароль, можно анализировать hello сообщения SOAP. Поставщики услуг, использовать hello UsernameToken признать пароли отправляются в виде обычного текста. Отправка паролей с неформатированным текстом по незашифрованному каналу можно предоставлять tooattackers hello учетных данных, можно заставить приветственное сообщение SOAP. | 

### <a name="example"></a>Пример
Hello следующей конфигурации поставщика службы WCF использует hello UsernameToken: 
```
<security mode="Message"> 
<message clientCredentialType="UserName" />
``` 
Задать clientCredentialType tooCertificate или Windows. 

## <a id="security"></a>Не включен режим безопасности WCF

| Название                   | Сведения      |
| ----------------------- | ------------ |
| **Компонент**               | WCF | 
| **Этап SDL**               | Создание |  
| **Применимые технологии** | Универсальные, .NET Framework 3 |
| **Атрибуты**              | Режим безопасности — транспорт или сообщение |
| **Справочные материалы**              | [MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html), [основы безопасности WCF](http://www.codemag.com/article/0611051) |
| **Действия** | Безопасность доставки и сообщений не определена. Приложения, передающие сообщения без транспорта или безопасности не может гарантировать hello целостности и конфиденциальности сообщений hello сообщений. При привязке безопасности WCF имеет значение tooNone, безопасность транспорта и сообщений будут отключены. |

### <a name="example"></a>Пример
Hello следующие наборы конфигурации tooNone режим безопасности hello. 
```
<system.serviceModel> 
  <bindings> 
    <wsHttpBinding> 
      <binding name=""MyBinding""> 
        <security mode=""None""/> 
      </binding> 
  </bindings> 
</system.serviceModel> 
```

### <a name="example"></a>Пример
Ниже приведены пять режимов безопасности, доступных для всех привязок служб. 
* Отсутствует. Отключает безопасность. 
* Transport. Применяет безопасность доставки для взаимной проверки подлинности и защиты сообщений. 
* Message. Применяет безопасность сообщений для взаимной проверки подлинности и защиты сообщений. 
* Both. Позволяет toosupply параметры для транспорта и безопасности на уровне сообщений (только MSMQ поддерживает). 
* TransportWithMessageCredential. Учетные данные передаются с приветственных сообщений и защиты сообщений и проверка подлинности сервера обеспечиваются на транспортном уровне hello. 
* TransportCredentialOnly. Учетные данные клиента передаются с hello транспортном уровне и защита сообщений не применяется. Использование транспорта и сообщений hello целостности tooprotect безопасности и конфиденциальности сообщений. приведенными ниже параметрами Hello указывает безопасности hello службы toouse транспорта с учетными данными сообщения.
```
<system.serviceModel>
  <bindings>
    <wsHttpBinding>
    <binding name=""MyBinding""> 
    <security mode=""TransportWithMessageCredential""/> 
    <message clientCredentialType=""Windows""/> 
    </binding> 
  </bindings> 
</system.serviceModel> 
```
