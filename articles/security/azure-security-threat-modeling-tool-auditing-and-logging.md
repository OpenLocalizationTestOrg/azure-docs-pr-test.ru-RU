---
title: "aaaAuditing и ведения журнала — Microsoft средства моделирования угроз - Azure | Документы Microsoft"
description: "защиту от угроз, которые представлены в hello средства моделирования угроз"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: f28988833eba251b6ceb8bbd47cde37e871af609
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-auditing-and-logging--mitigations"></a><span data-ttu-id="ec2a2-103">Механизм безопасности. Аудит и ведение журналов | Устранение проблем</span><span class="sxs-lookup"><span data-stu-id="ec2a2-103">Security Frame: Auditing and Logging | Mitigations</span></span> 
| <span data-ttu-id="ec2a2-104">Продукт или служба</span><span class="sxs-lookup"><span data-stu-id="ec2a2-104">Product/Service</span></span> | <span data-ttu-id="ec2a2-105">Статья</span><span class="sxs-lookup"><span data-stu-id="ec2a2-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="ec2a2-106">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-106">**Dynamics CRM**</span></span>    | <ul><li>[<span data-ttu-id="ec2a2-107">Определение конфиденциальных сущностей в решении и реализация аудита изменений</span><span class="sxs-lookup"><span data-stu-id="ec2a2-107">Identify sensitive entities in your solution and implement change auditing</span></span>](#sensitive-entities)</li></ul> |
| <span data-ttu-id="ec2a2-108">**Веб-приложение**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-108">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="ec2a2-109">Убедитесь, что аудит и ведение журнала будет применена на приложения hello</span><span class="sxs-lookup"><span data-stu-id="ec2a2-109">Ensure that auditing and logging is enforced on hello application</span></span>](#auditing)</li><li>[<span data-ttu-id="ec2a2-110">Проверка разделения и чередования журналов</span><span class="sxs-lookup"><span data-stu-id="ec2a2-110">Ensure that log rotation and separation are in place</span></span>](#log-rotation)</li><li>[<span data-ttu-id="ec2a2-111">Убедитесь, что приложение hello не записывает в журнал конфиденциальные пользовательские данные</span><span class="sxs-lookup"><span data-stu-id="ec2a2-111">Ensure that hello application does not log sensitive user data</span></span>](#log-sensitive-data)</li><li>[<span data-ttu-id="ec2a2-112">Проверка ограниченного доступа к функциям аудита и ведения журнала</span><span class="sxs-lookup"><span data-stu-id="ec2a2-112">Ensure that Audit and Log Files have Restricted Access</span></span>](#log-restricted-access)</li><li>[<span data-ttu-id="ec2a2-113">Проверка записи в журнал событий управления пользователями</span><span class="sxs-lookup"><span data-stu-id="ec2a2-113">Ensure that User Management Events are Logged</span></span>](#user-management)</li><li>[<span data-ttu-id="ec2a2-114">Убедитесь, что система hello имеет встроенных защиту от несанкционированного использования</span><span class="sxs-lookup"><span data-stu-id="ec2a2-114">Ensure that hello system has inbuilt defenses against misuse</span></span>](#inbuilt-defenses)</li><li>[<span data-ttu-id="ec2a2-115">Включение ведения журнала диагностики для веб-приложений в службе приложений Azure</span><span class="sxs-lookup"><span data-stu-id="ec2a2-115">Enable diagnostics logging for web apps in Azure App Service</span></span>](#diagnostics-logging)</li></ul> |
| <span data-ttu-id="ec2a2-116">**База данных**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-116">**Database**</span></span> | <ul><li>[<span data-ttu-id="ec2a2-117">Проверка включения на сервере SQL Server аудита входа в систему</span><span class="sxs-lookup"><span data-stu-id="ec2a2-117">Ensure that login auditing is enabled on SQL Server</span></span>](#identify-sensitive-entities)</li><li>[<span data-ttu-id="ec2a2-118">Включение обнаружения угроз в Azure SQL</span><span class="sxs-lookup"><span data-stu-id="ec2a2-118">Enable Threat detection on Azure SQL</span></span>](#threat-detection)</li></ul> |
| <span data-ttu-id="ec2a2-119">**Хранилище Azure**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-119">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="ec2a2-120">Используйте доступ tooaudit аналитики хранилища Azure хранилища Azure</span><span class="sxs-lookup"><span data-stu-id="ec2a2-120">Use Azure Storage Analytics tooaudit access of Azure Storage</span></span>](#analytics)</li></ul> |
| <span data-ttu-id="ec2a2-121">**WCF**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-121">**WCF**</span></span> | <ul><li>[<span data-ttu-id="ec2a2-122">Реализация надлежащего ведения журнала</span><span class="sxs-lookup"><span data-stu-id="ec2a2-122">Implement sufficient Logging</span></span>](#sufficient-logging)</li><li>[<span data-ttu-id="ec2a2-123">Реализация надлежащей обработки сбоя аудита</span><span class="sxs-lookup"><span data-stu-id="ec2a2-123">Implement sufficient Audit Failure Handling</span></span>](#audit-failure-handling)</li></ul> |
| <span data-ttu-id="ec2a2-124">**Веб-интерфейс API**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-124">**Web API**</span></span> | <ul><li>[<span data-ttu-id="ec2a2-125">Проверка принудительного применения аудита и ведения журнала в веб-API</span><span class="sxs-lookup"><span data-stu-id="ec2a2-125">Ensure that auditing and logging is enforced on Web API</span></span>](#logging-web-api)</li></ul> |
| <span data-ttu-id="ec2a2-126">**Полевой шлюз Интернета вещей**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-126">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="ec2a2-127">Проверка включения надлежащих аудита и ведения журнала в полевом шлюзе</span><span class="sxs-lookup"><span data-stu-id="ec2a2-127">Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>](#logging-field-gateway)</li></ul> |
| <span data-ttu-id="ec2a2-128">**Облачный шлюз Интернета вещей**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-128">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="ec2a2-129">Проверка включения надлежащих аудита и ведения журнала в облачном шлюзе</span><span class="sxs-lookup"><span data-stu-id="ec2a2-129">Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>](#logging-cloud-gateway)</li></ul> |

## <span data-ttu-id="ec2a2-130"><a id="sensitive-entities"></a>Определение конфиденциальных сущностей в решении и реализация аудита изменений</span><span class="sxs-lookup"><span data-stu-id="ec2a2-130"><a id="sensitive-entities"></a>Identify sensitive entities in your solution and implement change auditing</span></span>

| <span data-ttu-id="ec2a2-131">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-131">Title</span></span>                   | <span data-ttu-id="ec2a2-132">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-132">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-133">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-133">**Component**</span></span>               | <span data-ttu-id="ec2a2-134">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="ec2a2-134">Dynamics CRM</span></span> | 
| <span data-ttu-id="ec2a2-135">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-135">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-136">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-136">Build</span></span> |  
| <span data-ttu-id="ec2a2-137">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-137">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-138">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-138">Generic</span></span> |
| <span data-ttu-id="ec2a2-139">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-139">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-140">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-140">N/A</span></span>  |
| <span data-ttu-id="ec2a2-141">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-141">**References**</span></span>              | <span data-ttu-id="ec2a2-142">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-142">N/A</span></span>  |
| <span data-ttu-id="ec2a2-143">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-143">**Steps**</span></span>                   | <span data-ttu-id="ec2a2-144">Определите в решении сущности с конфиденциальными данными и реализуйте аудит изменений в этих сущностях и полях.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-144">Identify entities in your solution containing sensitive data and implement change auditing on those entities and fields</span></span> |

## <span data-ttu-id="ec2a2-145"><a id="auditing"></a>Убедитесь, что аудит и ведение журнала будет применена на приложения hello</span><span class="sxs-lookup"><span data-stu-id="ec2a2-145"><a id="auditing"></a>Ensure that auditing and logging is enforced on hello application</span></span>

| <span data-ttu-id="ec2a2-146">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-146">Title</span></span>                   | <span data-ttu-id="ec2a2-147">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-147">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-148">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-148">**Component**</span></span>               | <span data-ttu-id="ec2a2-149">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="ec2a2-149">Web Application</span></span> | 
| <span data-ttu-id="ec2a2-150">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-150">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-151">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-151">Build</span></span> |  
| <span data-ttu-id="ec2a2-152">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-152">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-153">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-153">Generic</span></span> |
| <span data-ttu-id="ec2a2-154">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-154">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-155">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-155">N/A</span></span>  |
| <span data-ttu-id="ec2a2-156">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-156">**References**</span></span>              | <span data-ttu-id="ec2a2-157">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-157">N/A</span></span>  |
| <span data-ttu-id="ec2a2-158">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-158">**Steps**</span></span>                   | <span data-ttu-id="ec2a2-159">Включите аудит и ведение журнала во всех компонентах.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-159">Enable auditing and logging on all components.</span></span> <span data-ttu-id="ec2a2-160">Журналы аудита должны записывать контекст пользователя.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-160">Audit logs should capture user context.</span></span> <span data-ttu-id="ec2a2-161">Определите все важные события для их регистрации в журнале.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-161">Identify all important events and log those events.</span></span> <span data-ttu-id="ec2a2-162">Реализуйте централизованное ведение журнала.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-162">Implement centralized logging</span></span> |

## <span data-ttu-id="ec2a2-163"><a id="log-rotation"></a>Проверка разделения и чередования журналов</span><span class="sxs-lookup"><span data-stu-id="ec2a2-163"><a id="log-rotation"></a>Ensure that log rotation and separation are in place</span></span>

| <span data-ttu-id="ec2a2-164">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-164">Title</span></span>                   | <span data-ttu-id="ec2a2-165">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-165">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-166">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-166">**Component**</span></span>               | <span data-ttu-id="ec2a2-167">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="ec2a2-167">Web Application</span></span> | 
| <span data-ttu-id="ec2a2-168">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-168">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-169">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-169">Build</span></span> |  
| <span data-ttu-id="ec2a2-170">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-170">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-171">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-171">Generic</span></span> |
| <span data-ttu-id="ec2a2-172">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-172">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-173">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-173">N/A</span></span>  |
| <span data-ttu-id="ec2a2-174">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-174">**References**</span></span>              | <span data-ttu-id="ec2a2-175">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-175">N/A</span></span>  |
| <span data-ttu-id="ec2a2-176">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-176">**Steps**</span></span>                   | <p><span data-ttu-id="ec2a2-177">Чередование журналов — автоматизированный процесс, используемый в системном администрировании при архивации устаревших файлов журналов.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-177">Log rotation is an automated process used in system administration in which dated log files are archived.</span></span> <span data-ttu-id="ec2a2-178">Серверы, которые часто выполняются большие приложения регистрировать каждый запрос: шрифтом hello объемный журналов Смена журнала — hello toolimit как общий размер журналов hello, но позволяет анализ последние события.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-178">Servers which run large applications often log every request: in hello face of bulky logs, log rotation is a way toolimit hello total size of hello logs while still allowing analysis of recent events.</span></span> </p><p><span data-ttu-id="ec2a2-179">Разделение журнала по существу означает, что toostore файлы журнала в раздел, отличный от ОС и приложения запущенным в порядке tooavert отказ в обслуживании атак или hello понижения версии приложения его производительность</span><span class="sxs-lookup"><span data-stu-id="ec2a2-179">Log separation basically means that you have toostore your log files on a different partition as where your OS/application is running on in order tooavert a Denial of service attack or hello downgrading of your application its performance</span></span></p>|

## <span data-ttu-id="ec2a2-180"><a id="log-sensitive-data"></a>Убедитесь, что приложение hello не записывает в журнал конфиденциальные пользовательские данные</span><span class="sxs-lookup"><span data-stu-id="ec2a2-180"><a id="log-sensitive-data"></a>Ensure that hello application does not log sensitive user data</span></span>

| <span data-ttu-id="ec2a2-181">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-181">Title</span></span>                   | <span data-ttu-id="ec2a2-182">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-182">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-183">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-183">**Component**</span></span>               | <span data-ttu-id="ec2a2-184">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="ec2a2-184">Web Application</span></span> | 
| <span data-ttu-id="ec2a2-185">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-185">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-186">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-186">Build</span></span> |  
| <span data-ttu-id="ec2a2-187">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-187">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-188">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-188">Generic</span></span> |
| <span data-ttu-id="ec2a2-189">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-189">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-190">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-190">N/A</span></span>  |
| <span data-ttu-id="ec2a2-191">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-191">**References**</span></span>              | <span data-ttu-id="ec2a2-192">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-192">N/A</span></span>  |
| <span data-ttu-id="ec2a2-193">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-193">**Steps**</span></span>                   | <p><span data-ttu-id="ec2a2-194">Проверьте, не регистрировать все конфиденциальные данные, что пользователь отправляет tooyour сайта.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-194">Check that you do not log any sensitive data that a user submits tooyour site.</span></span> <span data-ttu-id="ec2a2-195">Проверьте, не настроено ли ведение журнала, а также нет ли каких-либо побочных эффектов, вызванных недостатками разработки.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-195">Check for intentional logging as well as side effects caused by design issues.</span></span> <span data-ttu-id="ec2a2-196">К конфиденциальным данным относятся:</span><span class="sxs-lookup"><span data-stu-id="ec2a2-196">Examples of sensitive data include:</span></span></p><ul><li><span data-ttu-id="ec2a2-197">учетные данные пользователя;</span><span class="sxs-lookup"><span data-stu-id="ec2a2-197">User Credentials</span></span></li><li><span data-ttu-id="ec2a2-198">номер социального страхования и другие идентификационные сведения;</span><span class="sxs-lookup"><span data-stu-id="ec2a2-198">Social Security number or other identifying information</span></span></li><li><span data-ttu-id="ec2a2-199">номера кредитных карт и другие финансовые сведения;</span><span class="sxs-lookup"><span data-stu-id="ec2a2-199">Credit card numbers or other financial information</span></span></li><li><span data-ttu-id="ec2a2-200">сведения о работоспособности;</span><span class="sxs-lookup"><span data-stu-id="ec2a2-200">Health information</span></span></li><li><span data-ttu-id="ec2a2-201">Закрытые ключи или других данных, которую можно использовать toodecrypt зашифрованных данных</span><span class="sxs-lookup"><span data-stu-id="ec2a2-201">Private keys or other data that could be used toodecrypt encrypted information</span></span></li><li><span data-ttu-id="ec2a2-202">Сведения системы или приложения, который может использоваться toomore эффективно атак приложения hello</span><span class="sxs-lookup"><span data-stu-id="ec2a2-202">System or application information that can be used toomore effectively attack hello application</span></span></li></ul>|

## <span data-ttu-id="ec2a2-203"><a id="log-restricted-access"></a>Проверка ограниченного доступа к функциям аудита и ведения журнала</span><span class="sxs-lookup"><span data-stu-id="ec2a2-203"><a id="log-restricted-access"></a>Ensure that Audit and Log Files have Restricted Access</span></span>

| <span data-ttu-id="ec2a2-204">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-204">Title</span></span>                   | <span data-ttu-id="ec2a2-205">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-205">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-206">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-206">**Component**</span></span>               | <span data-ttu-id="ec2a2-207">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="ec2a2-207">Web Application</span></span> | 
| <span data-ttu-id="ec2a2-208">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-208">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-209">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-209">Build</span></span> |  
| <span data-ttu-id="ec2a2-210">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-210">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-211">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-211">Generic</span></span> |
| <span data-ttu-id="ec2a2-212">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-212">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-213">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-213">N/A</span></span>  |
| <span data-ttu-id="ec2a2-214">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-214">**References**</span></span>              | <span data-ttu-id="ec2a2-215">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-215">N/A</span></span>  |
| <span data-ttu-id="ec2a2-216">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-216">**Steps**</span></span>                   | <p><span data-ttu-id="ec2a2-217">Проверьте, что соответствующим образом настроены права toolog tooensure доступа к файлам.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-217">Check tooensure access rights toolog files are appropriately set.</span></span> <span data-ttu-id="ec2a2-218">Учетным записям приложения следует назначить доступ только для записи, а доступ только для чтения должен быть назначен (при необходимости) операторам и сотрудникам службы поддержки.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-218">Application accounts should have write-only access and operators and support personnel should have read-only access as needed.</span></span></p><p><span data-ttu-id="ec2a2-219">Учетные записи администраторов являются hello только учетные записи, которые должна иметь полный доступ.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-219">Administrators accounts are hello only accounts which should have full access.</span></span> <span data-ttu-id="ec2a2-220">Убедитесь, что правильно ограничен tooensure файлы Windows ACL для журнала:</span><span class="sxs-lookup"><span data-stu-id="ec2a2-220">Check Windows ACL on log files tooensure they are properly restricted:</span></span></p><ul><li><span data-ttu-id="ec2a2-221">Учетные записи приложений должны иметь доступ только для записи.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-221">Application accounts should have write-only access</span></span></li><li><span data-ttu-id="ec2a2-222">Операторам и сотрудникам службы поддержки при необходимости должен быть предоставлен доступ только для чтения.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-222">Operators and support personnel should have read-only access as needed</span></span></li><li><span data-ttu-id="ec2a2-223">Администраторы — hello только учетные записи, которые должны иметь полный доступ</span><span class="sxs-lookup"><span data-stu-id="ec2a2-223">Administrators are hello only accounts that should have full access</span></span></li></ul>|

## <span data-ttu-id="ec2a2-224"><a id="user-management"></a>Проверка записи в журнал событий управления пользователями</span><span class="sxs-lookup"><span data-stu-id="ec2a2-224"><a id="user-management"></a>Ensure that User Management Events are Logged</span></span>

| <span data-ttu-id="ec2a2-225">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-225">Title</span></span>                   | <span data-ttu-id="ec2a2-226">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-226">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-227">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-227">**Component**</span></span>               | <span data-ttu-id="ec2a2-228">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="ec2a2-228">Web Application</span></span> | 
| <span data-ttu-id="ec2a2-229">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-229">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-230">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-230">Build</span></span> |  
| <span data-ttu-id="ec2a2-231">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-231">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-232">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-232">Generic</span></span> |
| <span data-ttu-id="ec2a2-233">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-233">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-234">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-234">N/A</span></span>  |
| <span data-ttu-id="ec2a2-235">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-235">**References**</span></span>              | <span data-ttu-id="ec2a2-236">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-236">N/A</span></span>  |
| <span data-ttu-id="ec2a2-237">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-237">**Steps**</span></span>                   | <p><span data-ttu-id="ec2a2-238">Убедитесь, что приложения hello наблюдает за событиями управления пользователя, такие как успешные и неудачные имена входа, сброс паролей, изменения пароля, блокировка учетной записи, регистрации пользователей.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-238">Ensure that hello application monitors user management events such as successful and failed user logins, password resets, password changes, account lockout, user registration.</span></span> <span data-ttu-id="ec2a2-239">Это помогает toodetect и реагировать toopotentially подозрительное поведение.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-239">Doing this helps toodetect and react toopotentially suspicious behavior.</span></span> <span data-ttu-id="ec2a2-240">Она также позволяет toogather рабочие данные; Например tootrack, который загружает приложения hello</span><span class="sxs-lookup"><span data-stu-id="ec2a2-240">It also enables toogather operations data; for example, tootrack who is accessing hello application</span></span></p>|

## <span data-ttu-id="ec2a2-241"><a id="inbuilt-defenses"></a>Убедитесь, что система hello имеет встроенных защиту от несанкционированного использования</span><span class="sxs-lookup"><span data-stu-id="ec2a2-241"><a id="inbuilt-defenses"></a>Ensure that hello system has inbuilt defenses against misuse</span></span>

| <span data-ttu-id="ec2a2-242">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-242">Title</span></span>                   | <span data-ttu-id="ec2a2-243">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-243">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-244">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-244">**Component**</span></span>               | <span data-ttu-id="ec2a2-245">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="ec2a2-245">Web Application</span></span> | 
| <span data-ttu-id="ec2a2-246">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-246">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-247">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-247">Build</span></span> |  
| <span data-ttu-id="ec2a2-248">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-248">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-249">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-249">Generic</span></span> |
| <span data-ttu-id="ec2a2-250">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-250">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-251">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-251">N/A</span></span>  |
| <span data-ttu-id="ec2a2-252">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-252">**References**</span></span>              | <span data-ttu-id="ec2a2-253">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-253">N/A</span></span>  |
| <span data-ttu-id="ec2a2-254">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-254">**Steps**</span></span>                   | <p><span data-ttu-id="ec2a2-255">Должны присутствовать элементы управления, которые выдают исключения системы безопасности в случае несанкционированного использования приложения.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-255">Controls should be in place which throw security exception in case of application misuse.</span></span> <span data-ttu-id="ec2a2-256">Например если выполняется проверка ввода и злоумышленник пытается tooinject вредоносный код, который не соответствует hello regex, может быть исключение безопасности может принимать это указывает на неправильное использование системы</span><span class="sxs-lookup"><span data-stu-id="ec2a2-256">E.g., If input validation is in place and an attacker attempts tooinject malicious code that does not match hello regex, a security exception can be thrown which can be an indicative of system misuse</span></span></p><p><span data-ttu-id="ec2a2-257">Например рекомендуется toohave безопасности исключения в журнал и действия, выполняемые для hello следующих ситуаций:</span><span class="sxs-lookup"><span data-stu-id="ec2a2-257">For example, it is recommended toohave security exceptions logged and actions taken for hello following issues:</span></span></p><ul><li><span data-ttu-id="ec2a2-258">проверок входных данных;</span><span class="sxs-lookup"><span data-stu-id="ec2a2-258">Input validation</span></span></li><li><span data-ttu-id="ec2a2-259">нарушений CSRF;</span><span class="sxs-lookup"><span data-stu-id="ec2a2-259">CSRF violations</span></span></li><li><span data-ttu-id="ec2a2-260">атак методом подбора (верхний лимит для числа запросов на пользователя на ресурс);</span><span class="sxs-lookup"><span data-stu-id="ec2a2-260">Brute force (upper limit for number of requests per user per resource)</span></span></li><li><span data-ttu-id="ec2a2-261">нарушений отправки файлов.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-261">File upload violations</span></span></li><ul>|

## <span data-ttu-id="ec2a2-262"><a id="diagnostics-logging"></a>Включение ведения журнала диагностики для веб-приложений в службе приложений Azure</span><span class="sxs-lookup"><span data-stu-id="ec2a2-262"><a id="diagnostics-logging"></a>Enable diagnostics logging for web apps in Azure App Service</span></span>

| <span data-ttu-id="ec2a2-263">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-263">Title</span></span>                   | <span data-ttu-id="ec2a2-264">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-264">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-265">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-265">**Component**</span></span>               | <span data-ttu-id="ec2a2-266">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="ec2a2-266">Web Application</span></span> | 
| <span data-ttu-id="ec2a2-267">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-267">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-268">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-268">Build</span></span> |  
| <span data-ttu-id="ec2a2-269">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-269">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-270">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-270">Generic</span></span> |
| <span data-ttu-id="ec2a2-271">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-271">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-272">EnvironmentType: Azure</span><span class="sxs-lookup"><span data-stu-id="ec2a2-272">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="ec2a2-273">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-273">**References**</span></span>              | <span data-ttu-id="ec2a2-274">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-274">N/A</span></span>  |
| <span data-ttu-id="ec2a2-275">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-275">**Steps**</span></span> | <p><span data-ttu-id="ec2a2-276">Azure предоставляет tooassist встроенных средств диагностики в процессе отладки службы приложения веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-276">Azure provides built-in diagnostics tooassist with debugging an App Service web app.</span></span> <span data-ttu-id="ec2a2-277">Это также относится tooAPI приложений и мобильных приложений.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-277">It also applies tooAPI apps and mobile apps.</span></span> <span data-ttu-id="ec2a2-278">Веб-приложения служб приложений предоставляют диагностических функций для записи в журнал из hello веб-сервер и веб-приложения hello.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-278">App Service web apps provide diagnostic functionality for logging information from both hello web server and hello web application.</span></span></p><p><span data-ttu-id="ec2a2-279">Используется следующее логическое разделение: диагностика веб-сервера и диагностика приложений.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-279">These are logically separated into web server diagnostics and application diagnostics</span></span></p>|

## <span data-ttu-id="ec2a2-280"><a id="identify-sensitive-entities"></a>Проверка включения на сервере SQL Server аудита входа в систему</span><span class="sxs-lookup"><span data-stu-id="ec2a2-280"><a id="identify-sensitive-entities"></a>Ensure that login auditing is enabled on SQL Server</span></span>

| <span data-ttu-id="ec2a2-281">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-281">Title</span></span>                   | <span data-ttu-id="ec2a2-282">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-282">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-283">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-283">**Component**</span></span>               | <span data-ttu-id="ec2a2-284">База данных</span><span class="sxs-lookup"><span data-stu-id="ec2a2-284">Database</span></span> | 
| <span data-ttu-id="ec2a2-285">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-285">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-286">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-286">Build</span></span> |  
| <span data-ttu-id="ec2a2-287">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-287">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-288">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-288">Generic</span></span> |
| <span data-ttu-id="ec2a2-289">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-289">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-290">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-290">N/A</span></span>  |
| <span data-ttu-id="ec2a2-291">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-291">**References**</span></span>              | [<span data-ttu-id="ec2a2-292">Настройка аудита входа в систему</span><span class="sxs-lookup"><span data-stu-id="ec2a2-292">Configure Login Auditing</span></span>](https://msdn.microsoft.com/library/ms175850.aspx) |
| <span data-ttu-id="ec2a2-293">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-293">**Steps**</span></span> | <p><span data-ttu-id="ec2a2-294">Аудит входа в систему сервера базы данных должен быть включен toodetect/подтверждение пароля атак.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-294">Database Server login auditing must be enabled toodetect/confirm password guessing attacks.</span></span> <span data-ttu-id="ec2a2-295">Очень важно toocapture неудавшихся попыток.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-295">It is important toocapture failed login attempts.</span></span> <span data-ttu-id="ec2a2-296">Запись успешных и неудачных попыток входа предоставляет дополнительные преимущества во время судебного разбирательства.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-296">Capturing both successful and failed login attempts provides additional benefit during forensic investigations</span></span></p>|

## <span data-ttu-id="ec2a2-297"><a id="threat-detection"></a>Включение обнаружения угроз в Azure SQL</span><span class="sxs-lookup"><span data-stu-id="ec2a2-297"><a id="threat-detection"></a>Enable Threat detection on Azure SQL</span></span>

| <span data-ttu-id="ec2a2-298">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-298">Title</span></span>                   | <span data-ttu-id="ec2a2-299">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-299">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-300">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-300">**Component**</span></span>               | <span data-ttu-id="ec2a2-301">База данных</span><span class="sxs-lookup"><span data-stu-id="ec2a2-301">Database</span></span> | 
| <span data-ttu-id="ec2a2-302">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-302">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-303">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-303">Build</span></span> |  
| <span data-ttu-id="ec2a2-304">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-304">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-305">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="ec2a2-305">SQL Azure</span></span> |
| <span data-ttu-id="ec2a2-306">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-306">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-307">Версия SQL: 12</span><span class="sxs-lookup"><span data-stu-id="ec2a2-307">SQL Version - V12</span></span> |
| <span data-ttu-id="ec2a2-308">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-308">**References**</span></span>              | <span data-ttu-id="ec2a2-309">[Get Started with SQL Database Threat Detection](https://azure.microsoft.com/documentation/articles/sql-database-threat-detection-get-started/) (Приступая к работе с системой обнаружения угроз базы данных SQL)</span><span class="sxs-lookup"><span data-stu-id="ec2a2-309">[Get Started with SQL Database Threat Detection](https://azure.microsoft.com/documentation/articles/sql-database-threat-detection-get-started/)</span></span>|
| <span data-ttu-id="ec2a2-310">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-310">**Steps**</span></span> |<p><span data-ttu-id="ec2a2-311">Обнаружение угроз обнаруживает аномальные действия базы данных, указывающее базу данных toohello потенциальные угрозы безопасности.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-311">Threat Detection detects anomalous database activities indicating potential security threats toohello database.</span></span> <span data-ttu-id="ec2a2-312">Он обеспечивает новый уровень безопасности, которая позволяет клиентам toodetect и отвечать toopotential угроз, как только они происходят, предоставляя предупреждения системы безопасности о подозрительной активности.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-312">It provides a new layer of security, which enables customers toodetect and respond toopotential threats as they occur by providing security alerts on anomalous activities.</span></span></p><p><span data-ttu-id="ec2a2-313">Пользователи могут исследовать hello подозрительных событий с помощью Azure аудита базы данных SQL toodetermine, если они являются результатом tooaccess попытки нарушения или воспользоваться hello базы данных.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-313">Users can explore hello suspicious events using Azure SQL Database Auditing toodetermine if they result from an attempt tooaccess, breach or exploit data in hello database.</span></span></p><p><span data-ttu-id="ec2a2-314">Обнаружение угроз база данных он простой tooaddress потенциальных угроз toohello без необходимости hello toobe специалист по безопасности или управлять повышенной безопасности, контроль различных систем</span><span class="sxs-lookup"><span data-stu-id="ec2a2-314">Threat Detection makes it simple tooaddress potential threats toohello database without hello need toobe a security expert or manage advanced security monitoring systems</span></span></p>|

## <span data-ttu-id="ec2a2-315"><a id="analytics"></a>Используйте доступ tooaudit аналитики хранилища Azure хранилища Azure</span><span class="sxs-lookup"><span data-stu-id="ec2a2-315"><a id="analytics"></a>Use Azure Storage Analytics tooaudit access of Azure Storage</span></span>

| <span data-ttu-id="ec2a2-316">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-316">Title</span></span>                   | <span data-ttu-id="ec2a2-317">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-317">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-318">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-318">**Component**</span></span>               | <span data-ttu-id="ec2a2-319">Хранилище Azure</span><span class="sxs-lookup"><span data-stu-id="ec2a2-319">Azure Storage</span></span> | 
| <span data-ttu-id="ec2a2-320">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-320">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-321">Развертывание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-321">Deployment</span></span> |  
| <span data-ttu-id="ec2a2-322">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-322">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-323">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-323">Generic</span></span> |
| <span data-ttu-id="ec2a2-324">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-324">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-325">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-325">N/A</span></span> |
| <span data-ttu-id="ec2a2-326">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-326">**References**</span></span>              | [<span data-ttu-id="ec2a2-327">С помощью типа авторизации toomonitor аналитики хранилища</span><span class="sxs-lookup"><span data-stu-id="ec2a2-327">Using Storage Analytics toomonitor authorization type</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#storage-analytics) |
| <span data-ttu-id="ec2a2-328">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-328">**Steps**</span></span> | <p><span data-ttu-id="ec2a2-329">Для каждой учетной записи хранения одно tooperform ведение журнала службы аналитики хранилища Azure и хранения данных метрик.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-329">For each storage account, one can enable Azure Storage Analytics tooperform logging and store metrics data.</span></span> <span data-ttu-id="ec2a2-330">Hello журналы аналитики хранилища содержатся важные сведения, такие как метод проверки подлинности, используемый другим при доступе к хранилища.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-330">hello storage analytics logs provide important information such as authentication method used by someone when they access storage.</span></span></p><p><span data-ttu-id="ec2a2-331">Это может быть весьма полезно в том случае, если тесно защищая toostorage доступа.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-331">This can be really helpful if you are tightly guarding access toostorage.</span></span> <span data-ttu-id="ec2a2-332">Например в хранилище больших двоичных объектов можно задать все контейнеры tooprivate hello и реализован hello используйте службы SAS в приложениях.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-332">For example, in Blob Storage you can set all of hello containers tooprivate and implement hello use of an SAS service throughout your applications.</span></span> <span data-ttu-id="ec2a2-333">Затем можно проверить журналы hello регулярно toosee Если BLOB-объектов осуществляется с помощью hello ключи учетной записи хранения, которые могут указывать на нарушение безопасности, или если hello большие двоичные объекты являются открытыми, но они не должны быть.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-333">Then you can check hello logs regularly toosee if your blobs are accessed using hello storage account keys, which may indicate a breach of security, or if hello blobs are public but they shouldn’t be.</span></span></p>|

## <span data-ttu-id="ec2a2-334"><a id="sufficient-logging"></a>Реализация надлежащего ведения журнала</span><span class="sxs-lookup"><span data-stu-id="ec2a2-334"><a id="sufficient-logging"></a>Implement sufficient Logging</span></span>

| <span data-ttu-id="ec2a2-335">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-335">Title</span></span>                   | <span data-ttu-id="ec2a2-336">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-336">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-337">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-337">**Component**</span></span>               | <span data-ttu-id="ec2a2-338">WCF</span><span class="sxs-lookup"><span data-stu-id="ec2a2-338">WCF</span></span> | 
| <span data-ttu-id="ec2a2-339">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-339">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-340">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-340">Build</span></span> |  
| <span data-ttu-id="ec2a2-341">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-341">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-342">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="ec2a2-342">.NET Framework</span></span> |
| <span data-ttu-id="ec2a2-343">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-343">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-344">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-344">N/A</span></span>  |
| <span data-ttu-id="ec2a2-345">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-345">**References**</span></span>              | <span data-ttu-id="ec2a2-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="ec2a2-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="ec2a2-347">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-347">**Steps**</span></span> | <p><span data-ttu-id="ec2a2-348">отсутствие Hello правильную аудита после угрозы безопасности может помешать судебных усилий.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-348">hello lack of a proper audit trail after a security incident can hamper forensic efforts.</span></span> <span data-ttu-id="ec2a2-349">Windows Communication Foundation (WCF) предлагает hello возможность toolog успешных и неудачных попыток пройти проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-349">Windows Communication Foundation (WCF) offers hello ability toolog successful and/or failed authentication attempts.</span></span></p><p><span data-ttu-id="ec2a2-350">Использование журнала неудачных попыток аутентификации поможет администраторам узнать о потенциальных атаках методом подбора.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-350">Logging failed authentication attempts can warn administrators of potential brute-force attacks.</span></span> <span data-ttu-id="ec2a2-351">Аналогично, ведение журнала событий успешной аутентификации позволяет получить полезные данные аудита при компрометации подлинной учетной записи.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-351">Similarly, logging successful authentication events can provide a useful audit trail when a legitimate account is compromised.</span></span> <span data-ttu-id="ec2a2-352">Включите функцию аудита безопасности WCF.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-352">Enable WCF's service security audit feature</span></span> |

### <a name="example"></a><span data-ttu-id="ec2a2-353">Пример</span><span class="sxs-lookup"><span data-stu-id="ec2a2-353">Example</span></span>
<span data-ttu-id="ec2a2-354">Hello ниже приведен пример конфигурации при включении аудита</span><span class="sxs-lookup"><span data-stu-id="ec2a2-354">hello following is an example configuration with auditing enabled</span></span>
```
<system.serviceModel>
    <behaviors>
        <serviceBehaviors>
            <behavior name=""NewBehavior"">
                <serviceSecurityAudit auditLogLocation=""Default""
                suppressAuditFailure=""false"" 
                serviceAuthorizationAuditLevel=""SuccessAndFailure""
                messageAuthenticationAuditLevel=""SuccessAndFailure"" />
                ...
            </behavior>
        </servicebehaviors>
    </behaviors>
</system.serviceModel>
```

## <span data-ttu-id="ec2a2-355"><a id="audit-failure-handling"></a>Реализация надлежащей обработки сбоя аудита</span><span class="sxs-lookup"><span data-stu-id="ec2a2-355"><a id="audit-failure-handling"></a>Implement sufficient Audit Failure Handling</span></span>

| <span data-ttu-id="ec2a2-356">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-356">Title</span></span>                   | <span data-ttu-id="ec2a2-357">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-357">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-358">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-358">**Component**</span></span>               | <span data-ttu-id="ec2a2-359">WCF</span><span class="sxs-lookup"><span data-stu-id="ec2a2-359">WCF</span></span> | 
| <span data-ttu-id="ec2a2-360">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-360">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-361">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-361">Build</span></span> |  
| <span data-ttu-id="ec2a2-362">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-362">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-363">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="ec2a2-363">.NET Framework</span></span> |
| <span data-ttu-id="ec2a2-364">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-364">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-365">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-365">N/A</span></span>  |
| <span data-ttu-id="ec2a2-366">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-366">**References**</span></span>              | <span data-ttu-id="ec2a2-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="ec2a2-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="ec2a2-368">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-368">**Steps**</span></span> | <p><span data-ttu-id="ec2a2-369">Настроить разработанного решения toogenerate исключение при сбое журнала аудита tooan toowrite.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-369">Developed solution is configured not toogenerate an exception when it fails toowrite tooan audit log.</span></span> <span data-ttu-id="ec2a2-370">Если настроен WCF toothrow исключение после журнала аудита tooan toowrite невозможно, программа hello не будет уведомлен сбоя hello и аудит событий безопасности не будет выполняться.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-370">If WCF is configured not toothrow an exception when it is unable toowrite tooan audit log, hello program will not be notified of hello failure and auditing of critical security events may not occur.</span></span></p>|

### <a name="example"></a><span data-ttu-id="ec2a2-371">Пример</span><span class="sxs-lookup"><span data-stu-id="ec2a2-371">Example</span></span>
<span data-ttu-id="ec2a2-372">Hello `<behavior/>` ниже файла конфигурации WCF hello указывает WCF toonot уведомления приложения hello, сбое журнала аудита tooan toowrite WCF.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-372">hello `<behavior/>` element of hello WCF configuration file below instructs WCF toonot notify hello application when WCF fails toowrite tooan audit log.</span></span>
````
<behaviors>
    <serviceBehaviors>
        <behavior name="NewBehavior">
            <serviceSecurityAudit auditLogLocation="Application"
            suppressAuditFailure="true"
            serviceAuthorizationAuditLevel="Success"
            messageAuthenticationAuditLevel="Success" />
        </behavior>
    </serviceBehaviors>
</behaviors>
````
<span data-ttu-id="ec2a2-373">Настройте программу hello toonotify WCF, каждый раз, когда используется журнал аудита tooan toowrite невозможно.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-373">Configure WCF toonotify hello program whenever it is unable toowrite tooan audit log.</span></span> <span data-ttu-id="ec2a2-374">Программа Hello должен иметь схему альтернативных уведомления в месте tooalert hello организации, что журналы аудита не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-374">hello program should have an alternative notification scheme in place tooalert hello organization that audit trails are not being maintained.</span></span> 

## <span data-ttu-id="ec2a2-375"><a id="logging-web-api"></a>Проверка принудительного применения аудита и ведения журнала в веб-API</span><span class="sxs-lookup"><span data-stu-id="ec2a2-375"><a id="logging-web-api"></a>Ensure that auditing and logging is enforced on Web API</span></span>

| <span data-ttu-id="ec2a2-376">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-376">Title</span></span>                   | <span data-ttu-id="ec2a2-377">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-377">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-378">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-378">**Component**</span></span>               | <span data-ttu-id="ec2a2-379">Веб-интерфейс API</span><span class="sxs-lookup"><span data-stu-id="ec2a2-379">Web API</span></span> | 
| <span data-ttu-id="ec2a2-380">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-380">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-381">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-381">Build</span></span> |  
| <span data-ttu-id="ec2a2-382">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-382">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-383">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-383">Generic</span></span> |
| <span data-ttu-id="ec2a2-384">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-384">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-385">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-385">N/A</span></span>  |
| <span data-ttu-id="ec2a2-386">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-386">**References**</span></span>              | <span data-ttu-id="ec2a2-387">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-387">N/A</span></span>  |
| <span data-ttu-id="ec2a2-388">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-388">**Steps**</span></span> | <span data-ttu-id="ec2a2-389">Включите аудит и ведение журнала в веб-API.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-389">Enable auditing and logging on Web APIs.</span></span> <span data-ttu-id="ec2a2-390">Журналы аудита должны записывать контекст пользователя.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-390">Audit logs should capture user context.</span></span> <span data-ttu-id="ec2a2-391">Определите все важные события для их регистрации в журнале.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-391">Identify all important events and log those events.</span></span> <span data-ttu-id="ec2a2-392">Реализуйте централизованное ведение журнала.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-392">Implement centralized logging</span></span> |

## <span data-ttu-id="ec2a2-393"><a id="logging-field-gateway"></a>Проверка включения надлежащих аудита и ведения журнала в полевом шлюзе</span><span class="sxs-lookup"><span data-stu-id="ec2a2-393"><a id="logging-field-gateway"></a>Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>

| <span data-ttu-id="ec2a2-394">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-394">Title</span></span>                   | <span data-ttu-id="ec2a2-395">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-396">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-396">**Component**</span></span>               | <span data-ttu-id="ec2a2-397">Полевой шлюз Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="ec2a2-397">IoT Field Gateway</span></span> | 
| <span data-ttu-id="ec2a2-398">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-398">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-399">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-399">Build</span></span> |  
| <span data-ttu-id="ec2a2-400">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-400">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-401">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-401">Generic</span></span> |
| <span data-ttu-id="ec2a2-402">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-402">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-403">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-403">N/A</span></span>  |
| <span data-ttu-id="ec2a2-404">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-404">**References**</span></span>              | <span data-ttu-id="ec2a2-405">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-405">N/A</span></span>  |
| <span data-ttu-id="ec2a2-406">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-406">**Steps**</span></span> | <p><span data-ttu-id="ec2a2-407">При подключении нескольких устройства tooa шлюз поля, убедитесь, что попытки подключения и состояния проверки подлинности (успех или сбой) для отдельных устройств в журнал и сохраняется на hello шлюз поля.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-407">When multiple devices connect tooa Field Gateway, ensure that connection attempts and authentication status (success or failure) for individual devices are logged and maintained on hello Field Gateway.</span></span></p><p><span data-ttu-id="ec2a2-408">Кроме того, в случаях, когда шлюз поля входит поддержка hello центра IoT учетные данные для отдельных устройств, убедитесь, что аудит выполняется, когда эти учетные данные будут получены. Разработка процесса tooperiodically передачи hello журналы tooAzure центр IoT и хранилища для долговременного хранения.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-408">Also, in cases where Field Gateway is maintaining hello IoT Hub credentials for individual devices, ensure that auditing is performed when these credentials are retrieved.Develop a process tooperiodically upload hello logs tooAzure IoT Hub/storage for long term retention.</span></span></p> |

## <span data-ttu-id="ec2a2-409"><a id="logging-cloud-gateway"></a>Проверка включения надлежащих аудита и ведения журнала в облачном шлюзе</span><span class="sxs-lookup"><span data-stu-id="ec2a2-409"><a id="logging-cloud-gateway"></a>Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>

| <span data-ttu-id="ec2a2-410">Название</span><span class="sxs-lookup"><span data-stu-id="ec2a2-410">Title</span></span>                   | <span data-ttu-id="ec2a2-411">Сведения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-411">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="ec2a2-412">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-412">**Component**</span></span>               | <span data-ttu-id="ec2a2-413">Облачный шлюз Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="ec2a2-413">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="ec2a2-414">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-414">**SDL Phase**</span></span>               | <span data-ttu-id="ec2a2-415">Создание</span><span class="sxs-lookup"><span data-stu-id="ec2a2-415">Build</span></span> |  
| <span data-ttu-id="ec2a2-416">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-416">**Applicable Technologies**</span></span> | <span data-ttu-id="ec2a2-417">Универсальный</span><span class="sxs-lookup"><span data-stu-id="ec2a2-417">Generic</span></span> |
| <span data-ttu-id="ec2a2-418">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-418">**Attributes**</span></span>              | <span data-ttu-id="ec2a2-419">Недоступно</span><span class="sxs-lookup"><span data-stu-id="ec2a2-419">N/A</span></span>  |
| <span data-ttu-id="ec2a2-420">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-420">**References**</span></span>              | [<span data-ttu-id="ec2a2-421">Наблюдение за операции концентратора tooIoT введение</span><span class="sxs-lookup"><span data-stu-id="ec2a2-421">Introduction tooIoT Hub operations monitoring</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-operations-monitoring/) |
| <span data-ttu-id="ec2a2-422">**Действия**</span><span class="sxs-lookup"><span data-stu-id="ec2a2-422">**Steps**</span></span> | <p><span data-ttu-id="ec2a2-423">Разработайте процесс сбора и хранения данных аудита, собранных в ходе мониторинга операций Центра Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="ec2a2-423">Design for collecting and storing audit data gathered through IoT Hub Operations Monitoring.</span></span> <span data-ttu-id="ec2a2-424">Включите следующие категории мониторинга hello:</span><span class="sxs-lookup"><span data-stu-id="ec2a2-424">Enable hello following monitoring categories:</span></span></p><ul><li><span data-ttu-id="ec2a2-425">Операции с удостоверениями устройства</span><span class="sxs-lookup"><span data-stu-id="ec2a2-425">Device identity operations</span></span></li><li><span data-ttu-id="ec2a2-426">обмен данными между устройством и облаком;</span><span class="sxs-lookup"><span data-stu-id="ec2a2-426">Device-to-cloud communications</span></span></li><li><span data-ttu-id="ec2a2-427">обмен данными между облаком и устройством;</span><span class="sxs-lookup"><span data-stu-id="ec2a2-427">Cloud-to-device communications</span></span></li><li><span data-ttu-id="ec2a2-428">Подключения</span><span class="sxs-lookup"><span data-stu-id="ec2a2-428">Connections</span></span></li><li><span data-ttu-id="ec2a2-429">Передача файлов</span><span class="sxs-lookup"><span data-stu-id="ec2a2-429">File uploads</span></span></li></ul>|
