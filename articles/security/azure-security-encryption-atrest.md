---
title: "Шифрование неактивных данных в Microsoft Azure | Документация Майкрософт"
description: "В этой статье описывается шифрование неактивных данных в Microsoft Azure, общие возможности и рекомендации."
services: security
documentationcenter: na
author: YuriDio
manager: mbaldwin
editor: TomSh
ms.assetid: 9dcb190e-e534-4787-bf82-8ce73bf47dba
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/25/2017
ms.author: yurid
ms.openlocfilehash: ae612cbfb889181a18a7b6071ad80e8cc8ba336c
ms.sourcegitcommit: 422efcbac5b6b68295064bd545132fcc98349d01
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/29/2017
---
# <a name="azure-data-encryption-at-rest"></a><span data-ttu-id="8243a-103">Шифрование неактивных данных в Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-103">Azure Data Encryption-at-Rest</span></span>
<span data-ttu-id="8243a-104">В Microsoft Azure существует несколько средств для защиты данных в соответствии с требованиями безопасности и соблюдения стандартов в организации.</span><span class="sxs-lookup"><span data-stu-id="8243a-104">There are multiple tools within Microsoft Azure to safeguard data according to your company’s security and compliance needs.</span></span> <span data-ttu-id="8243a-105">В этой статье подробно описывается защита данных при хранении в Microsoft Azure, а также рассматриваются различные компоненты, непосредственно участвующие в реализации защиты данных, преимущества и недостатки различных основных подходов к защите управления.</span><span class="sxs-lookup"><span data-stu-id="8243a-105">This paper focuses on how data is protected at rest across Microsoft Azure, discusses the various components taking part in the data protection implementation, and reviews pros and cons of the different key management protection approaches.</span></span> 

<span data-ttu-id="8243a-106">Шифрование неактивных данных — общее требование безопасности.</span><span class="sxs-lookup"><span data-stu-id="8243a-106">Encryption at Rest is a common security requirement.</span></span> <span data-ttu-id="8243a-107">Преимущество Microsoft Azure заключается в том, что организации могут использовать шифрование неактивных данных без расходов на реализацию и управление, а также без риска, связанного с настраиваемым решением управления ключами.</span><span class="sxs-lookup"><span data-stu-id="8243a-107">A benefit of Microsoft Azure is that organizations can achieve Encryption at Rest without having the cost of implementation and management and the risk of a custom key management solution.</span></span> <span data-ttu-id="8243a-108">Организации могут предоставить Azure полный контроль над шифрованием неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-108">Organizations have the option of letting Azure completely manage Encryption at Rest.</span></span> <span data-ttu-id="8243a-109">Кроме того, им доступны различные параметры точного управления шифрованием или ключами шифрования.</span><span class="sxs-lookup"><span data-stu-id="8243a-109">Additionally, organizations have various options to closely manage encryption or encryption keys.</span></span>

## <a name="what-is-encryption-at-rest"></a><span data-ttu-id="8243a-110">Что такое шифрование неактивных данных?</span><span class="sxs-lookup"><span data-stu-id="8243a-110">What is encryption at rest?</span></span>
<span data-ttu-id="8243a-111">Шифрование неактивных данных — это криптографическое кодирование (шифрование) данных при хранении.</span><span class="sxs-lookup"><span data-stu-id="8243a-111">Encryption at Rest refers to the cryptographic encoding (encryption) of data when it is persisted.</span></span> <span data-ttu-id="8243a-112">Схемы шифрования неактивных данных в Azure используют симметричное шифрование для быстрого шифрования и расшифровки больших объемов данных на основе простой концептуальной модели:</span><span class="sxs-lookup"><span data-stu-id="8243a-112">The Encryption at Rest designs in Azure use symmetric encryption to encrypt and decrypt large amounts of data quickly according to a simple conceptual model:</span></span>

- <span data-ttu-id="8243a-113">Симметричный ключ шифрования используется для шифрования данных при хранении.</span><span class="sxs-lookup"><span data-stu-id="8243a-113">A symmetric encryption key is used to encrypt data as it is persisted</span></span> 
- <span data-ttu-id="8243a-114">Этот же ключ используется для расшифровки данных при подготовке к использованию в памяти.</span><span class="sxs-lookup"><span data-stu-id="8243a-114">The same encryption key is used to decrypt that data as it is readied for use in memory</span></span>
- <span data-ttu-id="8243a-115">Данные могут быть секционированы, а для каждой секции могут использоваться разные ключи.</span><span class="sxs-lookup"><span data-stu-id="8243a-115">Data may be partitioned, and different keys may be used for each partition</span></span>
- <span data-ttu-id="8243a-116">Ключи должны храниться в безопасном месте с политиками управления доступом, ограничивающими доступ для определенных удостоверений и регистрирующими сведения об использовании ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-116">Keys must be stored in a secure location with access control policies limiting access to certain identities and logging key usage.</span></span> <span data-ttu-id="8243a-117">Ключи шифрования данных часто шифруются с помощью асимметричного шифрования для дальнейшего ограничения доступа (это подробно описано в разделе *иерархии ключей* ниже).</span><span class="sxs-lookup"><span data-stu-id="8243a-117">Data encryption keys are often encrypted with asymmetric encryption to further limit access (discussed in the *Key Hierarchy*, later in this article)</span></span>

<span data-ttu-id="8243a-118">Выше описаны общие основные элементы шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-118">The above describes the common high-level elements of Encryption at Rest.</span></span> <span data-ttu-id="8243a-119">На практике основные сценарии управления и регулирования, а также гарантии масштабирования и доступности требуют дополнительных конструкций.</span><span class="sxs-lookup"><span data-stu-id="8243a-119">In practice, key management and control scenarios, as well as scale and availability assurances, require additional constructs.</span></span> <span data-ttu-id="8243a-120">Ниже приведены основные понятия и компоненты шифрования неактивных данных в Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-120">Microsoft Azure Encryption at Rest concepts and components are described below.</span></span>

## <a name="the-purpose-of-encryption-at-rest"></a><span data-ttu-id="8243a-121">Цель шифрования неактивных данных</span><span class="sxs-lookup"><span data-stu-id="8243a-121">The purpose of encryption at rest</span></span>
<span data-ttu-id="8243a-122">Шифрование неактивных данных необходимо для обеспечения защиты неактивных данных (как описано выше). Атаки, направленные на такие данные, включают попытки получить физический доступ к оборудованию, на котором хранятся данные, с последующей компрометацией этих данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-122">Encryption at Rest is intended to provide data protection for data at-rest (as described above.) Attacks against data at-rest include attempts to obtain physical access to the hardware on which the data is stored, and then compromise the contained data.</span></span> <span data-ttu-id="8243a-123">При такой атаке во время обслуживания может наблюдаться неправильное управление жестким диском сервера, что дает возможность злоумышленнику его извлечь.</span><span class="sxs-lookup"><span data-stu-id="8243a-123">In such an attack, a server’s hard drive may have been mishandled during maintenance allowing an attacker to remove the hard drive.</span></span> <span data-ttu-id="8243a-124">Позже злоумышленник может поместить жесткий диск в компьютер, находящийся под его контролем, чтобы попытаться получить доступ к данным.</span><span class="sxs-lookup"><span data-stu-id="8243a-124">Later the attacker would put the hard drive into a computer under their control to attempt to access the data.</span></span> 

<span data-ttu-id="8243a-125">Шифрование неактивных данных предназначено для предотвращения доступа злоумышленника к незашифрованным данным за счет шифрования данных на диске.</span><span class="sxs-lookup"><span data-stu-id="8243a-125">Encryption at rest is designed to prevent the attacker from accessing the unencrypted data by ensuring the data is encrypted when on disk.</span></span> <span data-ttu-id="8243a-126">Если злоумышленник получит жесткий диск с зашифрованными данными без доступа к ключам шифрования, вероятность компрометации данных очень небольшая.</span><span class="sxs-lookup"><span data-stu-id="8243a-126">If an attacker were to obtain a hard drive with such encrypted data, and no access to the encryption keys, the attacker would not compromise the data without great difficulty.</span></span> <span data-ttu-id="8243a-127">В этом случае атаки злоумышленника будут направлены на зашифрованные данные. Совершение этих атак требует гораздо больше усилий и потребления ресурсов, чем сам доступ к незашифрованным данным на жестком диске.</span><span class="sxs-lookup"><span data-stu-id="8243a-127">In such a scenario, an attacker would have to attempt attacks against encrypted data which are much more complex and resource consuming than accessing unencrypted data on a hard drive.</span></span> <span data-ttu-id="8243a-128">По этой причине мы настоятельно рекомендуем использовать шифрование неактивных данных, которое имеет приоритетное значение для многих организаций.</span><span class="sxs-lookup"><span data-stu-id="8243a-128">For this reason, encryption at rest is highly recommended and is a high priority requirement for many organizations.</span></span> 

<span data-ttu-id="8243a-129">В некоторых случаях такое шифрование также требуется в связи с необходимостью управления данными и обеспечения соответствия.</span><span class="sxs-lookup"><span data-stu-id="8243a-129">In some cases, encryption at rest is also required by an organization’s need for data governance and compliance efforts.</span></span> <span data-ttu-id="8243a-130">В отраслевых и государственных нормативах, например HIPAA, PCI и FedRAMP, а также международных нормативных требованиях излагаются определенные меры по обеспечению безопасности с помощью процессов и политик на основе требований к шифрованию и защите данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-130">Industry and government regulations such as HIPAA, PCI and FedRAMP, and international regulatory requirements, lay out specific safeguards through processes and policies regarding data protection and encryption requirements.</span></span> <span data-ttu-id="8243a-131">Для многих из этих нормативов такое шифрование является обязательной мерой, необходимой для соответствующего управления данными и их защиты.</span><span class="sxs-lookup"><span data-stu-id="8243a-131">For many of those regulations encryption at rest is a mandatory measure required for compliant data management and protection.</span></span> 

<span data-ttu-id="8243a-132">Кроме нормативных требований и требований соответствия, шифрование неактивных данных необходимо рассматривать как возможность расширенной защиты для платформы.</span><span class="sxs-lookup"><span data-stu-id="8243a-132">In addition to compliance and regulatory requirements, encryption at rest should be perceived as a defense-in-depth platform capability.</span></span> <span data-ttu-id="8243a-133">Хотя Майкрософт предоставляет соответствующую стандартам платформу для служб, приложений и данных, комплексные возможности, физическую безопасность, управление доступом к данным и аудит, важно обеспечить дополнительные "перекрывающие" меры безопасности в случае сбоя основных.</span><span class="sxs-lookup"><span data-stu-id="8243a-133">While Microsoft provides a compliant platform for services, applications, and data, comprehensive facility and physical security, data access control and auditing, it is important to provide additional “overlapping” security measures in case one of the other security measures fails.</span></span> <span data-ttu-id="8243a-134">Шифрование неактивных данных предоставляет такой дополнительный механизм защиты.</span><span class="sxs-lookup"><span data-stu-id="8243a-134">Encryption at rest provides such an additional defense mechanism.</span></span>

<span data-ttu-id="8243a-135">Майкрософт стремится обеспечить возможности шифрования неактивных данных в облачных службах, а также предоставить пользователям подходящий способ управления ключами шифрования и доступ к журналам, из которых можно получить сведения об использовании этих ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-135">Microsoft is committed to providing encryption at rest options across cloud services and to provide customers suitable manageability of encryption keys and access to logs showing when encryption keys are used.</span></span> <span data-ttu-id="8243a-136">Кроме того, Майкрософт активно работает над тем, чтобы для всех данных пользователя можно было применять такое шифрование по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="8243a-136">Additionally, Microsoft is working towards the goal of making all customer data encrypted at rest by default.</span></span>

## <a name="azure-encryption-at-rest-components"></a><span data-ttu-id="8243a-137">Компоненты шифрования неактивных данных в Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-137">Azure Encryption at Rest Components</span></span>

<span data-ttu-id="8243a-138">Как было описано выше, цель шифрования неактивных данных — выполнить шифрование данных, хранящихся на диске, с помощью секретного ключа шифрования.</span><span class="sxs-lookup"><span data-stu-id="8243a-138">As described previously, the goal of encryption at rest is that data that is persisted on disk is encrypted with a secret encryption key.</span></span> <span data-ttu-id="8243a-139">Для достижения этой цели необходимы безопасное создание ключей, хранилище, управление доступом и ключами шифрования.</span><span class="sxs-lookup"><span data-stu-id="8243a-139">To achieve that goal secure key creation, storage, access control and management of the encryption keys must be provided.</span></span> <span data-ttu-id="8243a-140">Хотя некоторые моменты могут отличаться, реализацию шифрования неактивных данных можно описать с помощью приведенных ниже понятий, которые также наглядно иллюстрируются с помощью соответствующей схемы.</span><span class="sxs-lookup"><span data-stu-id="8243a-140">Though details may vary, Azure services Encryption at Rest implementations can be described in terms of the below concepts which are then illustrated in the following diagram.</span></span>

![Компоненты](./media/azure-security-encryption-atrest/azure-security-encryption-atrest-fig1.png)

### <a name="azure-key-vault"></a><span data-ttu-id="8243a-142">Хранилище ключей Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-142">Azure Key Vault</span></span>

<span data-ttu-id="8243a-143">Место хранения ключей шифрования и управление доступом к этим ключам имеет принципиально важное значение в отношении модели шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-143">The storage location of the encryption keys and access control to those keys is central to an encryption at rest model.</span></span> <span data-ttu-id="8243a-144">Ключи должны быть надежно защищены. При этом определенные службы должны иметь к ним доступны, и они должны быть доступны для управления определенными пользователями.</span><span class="sxs-lookup"><span data-stu-id="8243a-144">The keys need to be highly secured but manageable by specified users and available to specific services.</span></span> <span data-ttu-id="8243a-145">Для служб Azure рекомендуемым решением хранилища ключей является хранилище Azure Key Vault, предоставляющее общие возможности управления в службах.</span><span class="sxs-lookup"><span data-stu-id="8243a-145">For Azure services, Azure Key Vault is the recommended key storage solution and provides a common management experience across services.</span></span> <span data-ttu-id="8243a-146">Для хранения ключей и управления ими используются хранилища ключей, доступ к которым можно предоставить пользователям или службам.</span><span class="sxs-lookup"><span data-stu-id="8243a-146">Keys are stored and managed in key vaults, and access to a key vault can be given to users or services.</span></span> <span data-ttu-id="8243a-147">Azure Key Vault поддерживает создание пользователем ключей или импорт пользовательских ключей для использования в сценариях ключей шифрования, управляемых пользователем.</span><span class="sxs-lookup"><span data-stu-id="8243a-147">Azure Key Vault supports customer creation of keys or import of customer keys for use in customer-managed encryption key scenarios.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="8243a-148">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="8243a-148">Azure Active Directory</span></span>

<span data-ttu-id="8243a-149">Учетным записям Azure Active Directory можно предоставить разрешения на использование ключей, хранящихся в Azure Key Vault, управление ими или доступ к ним в целях шифрования неактивных данных и расшифровки.</span><span class="sxs-lookup"><span data-stu-id="8243a-149">Permissions to use the keys stored in Azure Key Vault, either to manage or to access them for Encryption at Rest encryption and decryption, can be given to Azure Active Directory accounts.</span></span> 

### <a name="key-hierarchy"></a><span data-ttu-id="8243a-150">Иерархия ключей</span><span class="sxs-lookup"><span data-stu-id="8243a-150">Key Hierarchy</span></span>

<span data-ttu-id="8243a-151">Обычно при реализации шифрования неактивных данных используется более одного ключа шифрования.</span><span class="sxs-lookup"><span data-stu-id="8243a-151">Usually more than one encryption key is used in an encryption at rest implementation.</span></span> <span data-ttu-id="8243a-152">Асимметричное шифрование можно использовать для обеспечения доверия и аутентификации, необходимых для управления ключами и доступа к ним.</span><span class="sxs-lookup"><span data-stu-id="8243a-152">Asymmetric encryption is useful for establishing the trust and authentication needed for key access and management.</span></span> <span data-ttu-id="8243a-153">Симметричное шифрование более эффективно для массового шифрования и расшифровки, что гарантирует более надежное шифрование и лучшую производительность.</span><span class="sxs-lookup"><span data-stu-id="8243a-153">Symmetric encryption is more efficient for bulk encryption and decryption, allowing for stronger encryption and better performance.</span></span> <span data-ttu-id="8243a-154">Кроме того, ограничение использования ключа шифрования снижает риск его компрометации, а также затраты на повторное шифрование при необходимости замены ключа.</span><span class="sxs-lookup"><span data-stu-id="8243a-154">Additionally, limiting the use of a single encryption key decreases the risk that the key will be compromised and the cost of re-encryption when a key must be replaced.</span></span> <span data-ttu-id="8243a-155">Чтобы воспользоваться преимуществами асимметричного и симметричного шифрования, а также ограничить использование ключа и доступ к нему, модели шифрования неактивных данных в Azure используют иерархию ключей, которая состоит их следующих типов ключей:</span><span class="sxs-lookup"><span data-stu-id="8243a-155">To leverage the benefits of asymmetric and symmetric encryption and limit the use and exposure of a single key, Azure encryption at rest models use a key hierarchy made up of the following types of keys:</span></span>

- <span data-ttu-id="8243a-156">**Ключ шифрования данных (DEK)** — симметричный ключ AES256 для шифрования раздела или блока данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-156">**Data Encryption Key (DEK)** – A symmetric AES256 key used to encrypt a partition or block of data.</span></span>  <span data-ttu-id="8243a-157">Один ресурс может включать много секций и много ключей шифрования данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-157">A single resource may have many partitions and many Data Encryption Keys.</span></span> <span data-ttu-id="8243a-158">Шифрование каждого блока данных другим ключом создает дополнительные сложности для выполнения атак в отношении зашифрованных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-158">Encrypting each block of data with a different key makes crypto analysis attacks more difficult.</span></span> <span data-ttu-id="8243a-159">Доступ к DEK требуется поставщику ресурсов или экземпляру приложения, выполняющему шифрование или расшифровку определенного блока.</span><span class="sxs-lookup"><span data-stu-id="8243a-159">Access to DEKs is needed by the resource provider or application instance that is encrypting and decrypting a specific block.</span></span> <span data-ttu-id="8243a-160">Когда DEK заменяется новым ключом, повторного шифрования этим ключом требуют только данные в его связанном блоке.</span><span class="sxs-lookup"><span data-stu-id="8243a-160">When a DEK is replaced with a new key only the data in its associated block must be re-encrypted with the new key.</span></span>
- <span data-ttu-id="8243a-161">**Ключ шифрования ключей (KEK)** — асимметричный ключ шифрования, используемый для шифрования ключей шифрования данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-161">**Key Encryption Key (KEK)** – An asymmetric encryption key used to encrypt the Data Encryption Keys.</span></span> <span data-ttu-id="8243a-162">Использование ключа шифрования ключей позволяет зашифровать непосредственно ключи шифрования данных, а также управлять ими.</span><span class="sxs-lookup"><span data-stu-id="8243a-162">Use of a Key Encryption Key allows the data encryption keys themselves to be encrypted and controlled.</span></span> <span data-ttu-id="8243a-163">Сущность, у которой есть доступ к KEK, может быть отличной от сущности, требующей DEK.</span><span class="sxs-lookup"><span data-stu-id="8243a-163">The entity that has access to the KEK may be different than the entity that requires the DEK.</span></span> <span data-ttu-id="8243a-164">Это позволяет сущности выступать к качестве брокера при доступе к DEK, чтобы ограничить доступ каждого DEK для определенной секции.</span><span class="sxs-lookup"><span data-stu-id="8243a-164">This allows an entity to broker access to the DEK for the purpose of ensuring limited access of each DEK to specific partition.</span></span> <span data-ttu-id="8243a-165">Так как KEK требуется для расшифровки ключей DEK, его можно фактически рассматривать как единую точку, с помощью которой можно удалить ключи DEK (непосредственно удалив KEK).</span><span class="sxs-lookup"><span data-stu-id="8243a-165">Since the KEK is required to decrypt the DEKs, the KEK is effectively a single point by which DEKs can be effectively deleted by deletion of the KEK.</span></span>

<span data-ttu-id="8243a-166">Ключи шифрования данных, зашифрованные с помощью ключей шифрования ключей, хранятся отдельно, и только сущность, у которой есть доступ к ключам шифрования ключей, может получить любой ключ шифрования данных, зашифрованный таким ключом KEK.</span><span class="sxs-lookup"><span data-stu-id="8243a-166">The Data Encryption Keys, encrypted with the Key Encryption Keys are stored separately and only an entity with access to the Key Encryption Key can get any Data Encryption Keys encrypted with that key.</span></span> <span data-ttu-id="8243a-167">Поддерживаются различные модели хранилища ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-167">Different models of key storage are supported.</span></span> <span data-ttu-id="8243a-168">Мы рассмотрим каждую модель более подробно в разделе ниже.</span><span class="sxs-lookup"><span data-stu-id="8243a-168">We will discuss each model in more detail later in the next section.</span></span>

## <a name="data-encryption-models"></a><span data-ttu-id="8243a-169">Модели шифрования данных</span><span class="sxs-lookup"><span data-stu-id="8243a-169">Data Encryption Models</span></span>

<span data-ttu-id="8243a-170">Знакомство с различными моделями шифрования, их преимуществами и недостатками необходимо для понимания реализации шифрования неактивных данных в Azure различными поставщиками ресурсов.</span><span class="sxs-lookup"><span data-stu-id="8243a-170">Understanding the various encryption models, and their pros and cons is essential for understanding how the various resource providers in Azure implement encryption at Rest.</span></span> <span data-ttu-id="8243a-171">Эти определения являются общими для всех поставщиков ресурсов в Azure для обеспечения общей среды и таксономии.</span><span class="sxs-lookup"><span data-stu-id="8243a-171">These definitions are shared across all resource providers in Azure to ensure common language and taxonomy.</span></span> 

<span data-ttu-id="8243a-172">Существует три сценария для шифрования на стороне сервера:</span><span class="sxs-lookup"><span data-stu-id="8243a-172">There are three scenarios for server-side encryption:</span></span>

- <span data-ttu-id="8243a-173">Шифрование на стороне сервера с помощью управляемых службой ключей:</span><span class="sxs-lookup"><span data-stu-id="8243a-173">Server-side encryption using Service Managed keys</span></span>
    - <span data-ttu-id="8243a-174">поставщики ресурсов Azure выполняют операции шифрования и расшифровки;</span><span class="sxs-lookup"><span data-stu-id="8243a-174">Azure Resource Providers perform the encryption and decryption operations</span></span>
    - <span data-ttu-id="8243a-175">ключами управляет Майкрософт;</span><span class="sxs-lookup"><span data-stu-id="8243a-175">Microsoft manages the keys</span></span>
    - <span data-ttu-id="8243a-176">все возможности облака.</span><span class="sxs-lookup"><span data-stu-id="8243a-176">Full cloud functionality</span></span>

- <span data-ttu-id="8243a-177">Шифрование на стороне сервера с помощью управляемых пользователем ключей в Azure Key Vault:</span><span class="sxs-lookup"><span data-stu-id="8243a-177">Server-side encryption using customer-managed keys in Azure Key Vault</span></span>
    - <span data-ttu-id="8243a-178">поставщики ресурсов Azure выполняют операции шифрования и расшифровки;</span><span class="sxs-lookup"><span data-stu-id="8243a-178">Azure Resource Providers perform the encryption and decryption operations</span></span>
    - <span data-ttu-id="8243a-179">пользователь управляет ключами через Azure Key Vault;</span><span class="sxs-lookup"><span data-stu-id="8243a-179">Customer controls keys via Azure Key Vault</span></span>
    - <span data-ttu-id="8243a-180">все возможности облака.</span><span class="sxs-lookup"><span data-stu-id="8243a-180">Full cloud functionality</span></span>

- <span data-ttu-id="8243a-181">Шифрование на стороне сервера с помощью управляемых пользователем ключей для оборудования, управляемого пользователем:</span><span class="sxs-lookup"><span data-stu-id="8243a-181">Server-side encryption using customer-managed keys on customer controlled hardware</span></span>
    - <span data-ttu-id="8243a-182">поставщики ресурсов Azure выполняют операции шифрования и расшифровки;</span><span class="sxs-lookup"><span data-stu-id="8243a-182">Azure Resource Providers perform the encryption and decryption operations</span></span>
    - <span data-ttu-id="8243a-183">пользователь управляет ключами на оборудовании под своим контролем;</span><span class="sxs-lookup"><span data-stu-id="8243a-183">Customer controls keys on customer controlled hardware</span></span>
    - <span data-ttu-id="8243a-184">все возможности облака.</span><span class="sxs-lookup"><span data-stu-id="8243a-184">Full cloud functionality</span></span>

<span data-ttu-id="8243a-185">Для шифрования на стороне клиента учтите следующее:</span><span class="sxs-lookup"><span data-stu-id="8243a-185">For client-side encryption, consider the following:</span></span>

- <span data-ttu-id="8243a-186">расшифрованные данные недоступны службам Azure;</span><span class="sxs-lookup"><span data-stu-id="8243a-186">Azure services cannot see decrypted data</span></span>
- <span data-ttu-id="8243a-187">управление ключами и их хранение доступно в локальной среде или других безопасных хранилищах.</span><span class="sxs-lookup"><span data-stu-id="8243a-187">Customers manage and store keys on-premises (or in other secure stores).</span></span> <span data-ttu-id="8243a-188">Ключи недоступны для служб Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-188">Keys are not available to Azure services</span></span>
- <span data-ttu-id="8243a-189">возможности облака ограничены.</span><span class="sxs-lookup"><span data-stu-id="8243a-189">Reduced cloud functionality</span></span>

<span data-ttu-id="8243a-190">В Azure поддерживаемые модели шифрования делятся на две группы. Как уже было сказано ранее, это шифрование на стороне клиента и шифрование на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="8243a-190">The supported encryption models in Azure split into two main groups: “Client Encryption” and “Server-side Encryption” as mentioned previously.</span></span> <span data-ttu-id="8243a-191">Обратите внимание, что независимо от используемой модели шифрования неактивных данных службы Azure всегда рекомендуют использовать безопасный канал транспорта, например TLS или HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8243a-191">Note that, independent of the encryption at rest model used, Azure services always recommend the use of a secure transport such as TLS or HTTPS.</span></span> <span data-ttu-id="8243a-192">Таким образом, шифрование на транспортном уровне должно определяться транспортным протоколом и не должно быть основным фактором при определении используемой модели шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-192">Therefore, encryption in transport should be addressed by the transport protocol and should not be a major factor in determining which encryption at rest model to use.</span></span>

### <a name="client-encryption-model"></a><span data-ttu-id="8243a-193">Модель шифрования клиентом</span><span class="sxs-lookup"><span data-stu-id="8243a-193">Client encryption model</span></span>

<span data-ttu-id="8243a-194">Модель шифрования клиентом — это шифрование, выполняемое службой или вызывающим приложением за пределами поставщика ресурсов или Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-194">Client Encryption model refers to encryption that is performed outside of the Resource Provider or Azure by the service or calling application.</span></span> <span data-ttu-id="8243a-195">Это шифрование можно выполнить с помощью приложения службы в Azure или приложения, работающего в центре обработки данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="8243a-195">The encryption can be performed by the service application in Azure, or by an application running in the customer data center.</span></span> <span data-ttu-id="8243a-196">В любом случае при использовании этой модели шифрования поставщик ресурсов Azure принимает зашифрованный большой двоичный объект данных без возможности расшифровки этих данных каким-либо образом, а также без доступа к ключам шифрования.</span><span class="sxs-lookup"><span data-stu-id="8243a-196">In either case, when leveraging this encryption model, the Azure Resource Provider receives an encrypted blob of data without the ability to decrypt the data in any way or have access to the encryption keys.</span></span> <span data-ttu-id="8243a-197">В этой модели управление ключами выполняется вызывающим приложением или службой и является полностью непрозрачным для службы Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-197">In this model, the key management is done by the calling service/application and is completely opaque to the Azure service.</span></span>

![Клиент](./media/azure-security-encryption-atrest/azure-security-encryption-atrest-fig2.png)

### <a name="server-side-encryption-model"></a><span data-ttu-id="8243a-199">Модель шифрования на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="8243a-199">Server-side encryption model</span></span>

<span data-ttu-id="8243a-200">Модели шифрования на стороне сервера относятся к шифрованию, выполняемому службой Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-200">Server-side Encryption models refer to encryption that is performed by the Azure service.</span></span> <span data-ttu-id="8243a-201">В этой модели поставщик ресурсов выполняет операции шифрования и расшифровки.</span><span class="sxs-lookup"><span data-stu-id="8243a-201">In that model, the Resource Provider performs the encrypt and decrypt operations.</span></span> <span data-ttu-id="8243a-202">Например, служба хранилища Azure может получать данные посредством простых текстовых операций, а затем выполнять внутренние шифрование и расшифровку.</span><span class="sxs-lookup"><span data-stu-id="8243a-202">For example, Azure Storage may receive data in plain text operations and will perform the encryption and decryption internally.</span></span> <span data-ttu-id="8243a-203">Поставщик ресурсов может использовать ключи шифрования, управляемые Майкрософт или пользователем, в зависимости от конфигурации.</span><span class="sxs-lookup"><span data-stu-id="8243a-203">The Resource Provider might use encryption keys that are managed by Microsoft or by the customer depending on the provided configuration.</span></span> 

![сервер;](./media/azure-security-encryption-atrest/azure-security-encryption-atrest-fig3.png)

### <a name="server-side-encryption-key-management-models"></a><span data-ttu-id="8243a-205">Модели управления ключами шифрования на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="8243a-205">Server-side encryption key management models</span></span>

<span data-ttu-id="8243a-206">Каждая из моделей шифрования неактивных данных на стороне сервера подразумевает отличные характеристики управления ключами,</span><span class="sxs-lookup"><span data-stu-id="8243a-206">Each of the server-side encryption at rest models implies distinctive characteristics of key management.</span></span> <span data-ttu-id="8243a-207">в частности то, где и как создаются и хранятся ключи шифрования, а также модели доступа и процедуры смены ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-207">This includes where and how encryption keys are created, and stored as well as the access models and the key rotation procedures.</span></span> 

#### <a name="server-side-encryption-using-service-managed-keys"></a><span data-ttu-id="8243a-208">Шифрование на стороне сервера с помощью управляемых службой ключей</span><span class="sxs-lookup"><span data-stu-id="8243a-208">Server-side encryption using service managed keys</span></span>

<span data-ttu-id="8243a-209">Для многих пользователей существенным требованием является гарантия шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-209">For many customers, the essential requirement is to ensure that the data is encrypted whenever it is at rest.</span></span> <span data-ttu-id="8243a-210">Шифрование на стороне сервера с помощью управляемых службой ключей позволяет реализовать эту модель, давая пользователям возможность помечать конкретный ресурс (учетную запись хранения, базу данных SQL Server и т. д.) для шифрования и передает все аспекты управления ключами, например выдачу, смену и резервное копирование ключей, корпорации Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="8243a-210">Server-side encryption using Service Managed Keys enables this model by allowing customers to mark the specific resource (Storage Account, SQL DB, etc.) for encryption and leaving all key management aspects such as key issuance, rotation and backup to Microsoft.</span></span> <span data-ttu-id="8243a-211">Большинство служб Azure, которые обычно поддерживают шифрование неактивных данных, поддерживают эту модель передачи задач управления ключами шифрования в Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-211">Most Azure Services that support encryption at rest typically support this model of offloading the management of the encryption keys to Azure.</span></span> <span data-ttu-id="8243a-212">Поставщик ресурсов Azure создает ключи и помещает их в надежное хранилище, извлекая их при необходимости.</span><span class="sxs-lookup"><span data-stu-id="8243a-212">The Azure resource provider creates the keys, places them in secure  storage, and retrieves them when needed.</span></span> <span data-ttu-id="8243a-213">Это означает, что служба имеет полный доступ к ключам и полностью контролирует жизненный цикл учетных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-213">This means that the service has full access to the keys and the service has full control over the credential lifecycle management.</span></span>

![Управляемые](./media/azure-security-encryption-atrest/azure-security-encryption-atrest-fig4.png)

<span data-ttu-id="8243a-215">Таким образом, шифрование на стороне сервера с помощью управляемых службой ключей быстро выполняет шифрование неактивных данных с низкими издержками для пользователя.</span><span class="sxs-lookup"><span data-stu-id="8243a-215">Server-side encryption using service managed keys therefore quickly addresses the need to have encryption at rest with low overhead to the customer.</span></span> <span data-ttu-id="8243a-216">На портале Azure откройте целевую подписку и поставщик ресурсов и установите флажок, указывающий, что данные требуется зашифровать.</span><span class="sxs-lookup"><span data-stu-id="8243a-216">When available a customer typically opens the Azure portal for the target subscription and resource provider and checks a box indicating they would like the data to be encrypted.</span></span> <span data-ttu-id="8243a-217">В некоторых диспетчерах ресурсов шифрование на стороне сервера с помощью управляемых службой ключей включено по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="8243a-217">In some Resource Managers server-side encryption with service managed keys is on by default.</span></span> 

<span data-ttu-id="8243a-218">Шифрование на стороне сервера с помощью ключей, управляемых Майкрософт, подразумевает, что служба имеет полный доступ к хранению ключей и управлению ими.</span><span class="sxs-lookup"><span data-stu-id="8243a-218">Server-side encryption with Microsoft managed keys does imply the service has full access to store and manages the keys.</span></span> <span data-ttu-id="8243a-219">Хотя некоторые пользователи хотят управлять ключами, так как они считают, что они могут обеспечить большую безопасность, при оценке такой модели следует учитывать затраты и риски, связанные с использованием пользовательского хранилища ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-219">While some customers may want to manage the keys because they feel they can ensure greater security, the cost and risk associated with a custom key storage solution should be considered when evaluating this model.</span></span> <span data-ttu-id="8243a-220">Во многих случаях организация может решить, что нехватка ресурсов или риски, связанные с локальным решением, превышают риски облачного управления ключами шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-220">In many cases an organization may determine that resource constraints or risks of an on-premises solution may greater than the risk of cloud management of the encryption at rest keys.</span></span>  <span data-ttu-id="8243a-221">Однако эта модель может не подойти для организаций, которые имеют требования к управлению созданием и жизненным циклом ключей шифрования или имеют отдельную службу управления ключами шифрования (т. е. отдельное управление ключами от общей модели управления для службы).</span><span class="sxs-lookup"><span data-stu-id="8243a-221">However, this model might not be sufficient for organizations that have requirements to control the creation or lifecycle of the encryption keys or to have different personnel manage a service’s encryption keys than those managing the service (i.e., segregation of key management from the overall management model for the service).</span></span>

##### <a name="key-access"></a><span data-ttu-id="8243a-222">Доступ к ключам</span><span class="sxs-lookup"><span data-stu-id="8243a-222">Key access</span></span>

<span data-ttu-id="8243a-223">При использовании шифрования на стороне сервера с ключами, управляемыми службой, создание и хранение ключа, а также доступ к ним службами управляются службой.</span><span class="sxs-lookup"><span data-stu-id="8243a-223">When Server-side encryption with Service Managed keys is used, the key creation, storage and service access are all managed by the service.</span></span> <span data-ttu-id="8243a-224">Как правило, основные поставщики ресурсов Azure хранят ключи шифрования данных в хранилище рядом с данными для быстрого доступа, в то время как ключи шифрования ключей хранятся в защищенном внутреннем хранилище.</span><span class="sxs-lookup"><span data-stu-id="8243a-224">Typically, the foundational Azure resource providers will store the Data Encryption Keys in a store that is close to the data and quickly available and accessible while the Key Encryption Keys are stored in a secure internal store.</span></span>

<span data-ttu-id="8243a-225">**Преимущества**</span><span class="sxs-lookup"><span data-stu-id="8243a-225">**Advantages**</span></span>

- <span data-ttu-id="8243a-226">Простая настройка.</span><span class="sxs-lookup"><span data-stu-id="8243a-226">Simple setup</span></span>
- <span data-ttu-id="8243a-227">Корпорация Майкрософт управляет сменой, резервным копированием и избыточностью ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-227">Microsoft manages key rotation, backup and redundancy</span></span>
- <span data-ttu-id="8243a-228">Пользователь не несет затраты, связанные с реализацией, и для него нет риска использования пользовательской схемы управления ключами.</span><span class="sxs-lookup"><span data-stu-id="8243a-228">Customer does not have the cost associated with implementation or the risk of a custom key management scheme.</span></span>

<span data-ttu-id="8243a-229">**Недостатки**</span><span class="sxs-lookup"><span data-stu-id="8243a-229">**Disadvantages**</span></span>

- <span data-ttu-id="8243a-230">Пользователь не управляет ключами шифрования (спецификацией, жизненным циклом, отзывом ключей и т. д.).</span><span class="sxs-lookup"><span data-stu-id="8243a-230">No customer control over the encryption keys (key specification, lifecycle, revocation, etc.)</span></span>
- <span data-ttu-id="8243a-231">Отсутствует возможность отделить управление ключами от общей модели управления для службы.</span><span class="sxs-lookup"><span data-stu-id="8243a-231">No ability to segregate key management from overall management model for the service</span></span>

#### <a name="server-side-encryption-using-customer-managed-keys-in-azure-key-vault"></a><span data-ttu-id="8243a-232">Шифрование на стороне сервера с помощью управляемых пользователем ключей в Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="8243a-232">Server-side encryption using customer managed keys in Azure Key Vault</span></span> 

<span data-ttu-id="8243a-233">Для сценариев, в которых требуется шифровать неактивные данные и управлять ключами шифрования, можно использовать шифрование на стороне сервера с помощью управляемых пользователем ключей в хранилище ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-233">For scenarios where the requirement is to encrypt the data at rest and control the encryption keys customers can use server-side Encryption using Customer Managed Keys in Key Vault.</span></span> <span data-ttu-id="8243a-234">Некоторые службы могут хранить корневой ключ шифрования ключей в Azure Key Vault и хранить зашифрованный ключ шифрования данных во внутреннем расположении рядом с данными.</span><span class="sxs-lookup"><span data-stu-id="8243a-234">Some services may store only the root Key Encryption Key in Azure Key Vault and store the encrypted Data Encryption Key in an internal location closer to the data.</span></span> <span data-ttu-id="8243a-235">В таком сценарии пользователи могут переносить свои собственные ключи (BYOK) в хранилище ключей или создать ключи и использовать их для шифрования нужных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="8243a-235">In that scenario customers can bring their own keys to Key Vault (BYOK – Bring Your Own Key), or generate new ones, and use them to encrypt the desired resources.</span></span> <span data-ttu-id="8243a-236">Поставщик ресурсов выполняет операции шифрования и расшифровки, используя настроенный ключ в качестве корневого ключа для всех операций шифрования.</span><span class="sxs-lookup"><span data-stu-id="8243a-236">While the Resource Provider performs the encryption and decryption operations it uses the configured key as the root key for all encryption operations.</span></span> 

##### <a name="key-access"></a><span data-ttu-id="8243a-237">Доступ к ключам</span><span class="sxs-lookup"><span data-stu-id="8243a-237">Key Access</span></span>

<span data-ttu-id="8243a-238">В модели шифрования на стороне сервера с помощью ключей, управляемых пользователем, в Azure Key Vault служба при необходимости получает доступ к ключам для шифрования и расшифровки.</span><span class="sxs-lookup"><span data-stu-id="8243a-238">The server-side encryption model with customer managed keys in Azure Key Vault involves the service accessing the keys to encrypt and decrypt as needed.</span></span> <span data-ttu-id="8243a-239">Ключи для шифрования неактивных данных становятся доступными службе с помощью политики управления доступом, которая предоставляет службе удостоверение для получения ключа.</span><span class="sxs-lookup"><span data-stu-id="8243a-239">Encryption at rest keys are made accessible to a service through an access control policy granting that service identity access to receive the key.</span></span> <span data-ttu-id="8243a-240">Службу Azure, запущенную от имени связанной подписки, можно настроить с помощью удостоверения для этой службы в рамках этой подписки.</span><span class="sxs-lookup"><span data-stu-id="8243a-240">An Azure service running on behalf of an associated subscription can be configured with an identity for that service within that subscription.</span></span> <span data-ttu-id="8243a-241">Служба может выполнять проверку подлинности Azure Active Directory и получать токен проверки подлинности, идентифицируя себя как службу, которая действует от имени подписки.</span><span class="sxs-lookup"><span data-stu-id="8243a-241">The service can perform Azure Active Directory authentication and receive an authentication token identifying itself as that service acting on behalf of the subscription.</span></span> <span data-ttu-id="8243a-242">Затем этот токен может быть предоставлен хранилищу ключей для получения ключа, доступ к которому был получен.</span><span class="sxs-lookup"><span data-stu-id="8243a-242">That token can then be presented to Key Vault to obtain a key it has been given access to.</span></span>

<span data-ttu-id="8243a-243">Для операций с использованием ключей шифрования удостоверению службы можно предоставить доступ к любой из следующих операций: расшифровка, шифрование, упаковка, распаковка, проверка, подписывание, получение, перечисление, обновление, создание, импорт, удаление, резервное копирование и восстановление.</span><span class="sxs-lookup"><span data-stu-id="8243a-243">For operations using encryption keys, a service identity can be granted access to any of the following operations: decrypt, encrypt, unwrapKey, wrapKey, verify, sign, get, list, update, create, import, delete, backup, and restore.</span></span>

<span data-ttu-id="8243a-244">Чтобы получить ключ для шифрования или расшифровки неактивных данных, удостоверение службы, запущенное экземпляром службы диспетчера ресурсов, должно иметь ключ распаковки (чтобы получить ключ для расшифровки) и ключ упаковки (чтобы вставить ключ в хранилище ключей при создании нового ключа).</span><span class="sxs-lookup"><span data-stu-id="8243a-244">To obtain a key for use in encrypting or decrypting data at rest the service identity that the Resource Manager service instance will run as must have UnwrapKey (to get the key for decryption) and WrapKey (to insert a key into key vault when creating a new key).</span></span>


>[!NOTE] 
><span data-ttu-id="8243a-245">Дополнительные сведения об авторизации в хранилище ключей см. в статье [Защита хранилища ключей](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault).</span><span class="sxs-lookup"><span data-stu-id="8243a-245">For more detail on Key Vault authorization see the secure your key vault page in the [Azure Key Vault documentation](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault).</span></span> 

<span data-ttu-id="8243a-246">**Преимущества**</span><span class="sxs-lookup"><span data-stu-id="8243a-246">**Advantages**</span></span>

- <span data-ttu-id="8243a-247">Полный контроль над ключами. Управление ключами шифрования выполняется в хранилище ключей пользователя под его контролем.</span><span class="sxs-lookup"><span data-stu-id="8243a-247">Full control over the keys used – encryption keys are managed in the customer’s Key Vault under the customer’s control.</span></span>
- <span data-ttu-id="8243a-248">Возможность шифрования нескольких служб с помощью главного ключа.</span><span class="sxs-lookup"><span data-stu-id="8243a-248">Ability to encrypt multiple services to one master</span></span>
- <span data-ttu-id="8243a-249">Возможность отделить управление ключами от общей модели управления для службы.</span><span class="sxs-lookup"><span data-stu-id="8243a-249">Can segregate key management from overall management model for the service</span></span>
- <span data-ttu-id="8243a-250">Возможность определить службу и расположение ключа в нескольких регионах.</span><span class="sxs-lookup"><span data-stu-id="8243a-250">Can define service and key location across regions</span></span>

<span data-ttu-id="8243a-251">**Недостатки**</span><span class="sxs-lookup"><span data-stu-id="8243a-251">**Disadvantages**</span></span>

- <span data-ttu-id="8243a-252">Пользователь полностью отвечает за управление доступом к ключам.</span><span class="sxs-lookup"><span data-stu-id="8243a-252">Customer has full responsibility for key access management</span></span>
- <span data-ttu-id="8243a-253">Пользователь полностью отвечает за управление жизненным циклом ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-253">Customer has full responsibility for key lifecycle management</span></span>
- <span data-ttu-id="8243a-254">Дополнительные издержки в процессе установки и конфигурации.</span><span class="sxs-lookup"><span data-stu-id="8243a-254">Additional Setup & configuration overhead</span></span>

#### <a name="server-side-encryption-using-service-managed-keys-in-customer-controlled-hardware"></a><span data-ttu-id="8243a-255">Шифрование на стороне сервера с помощью управляемых службой ключей на оборудовании под контролем пользователя</span><span class="sxs-lookup"><span data-stu-id="8243a-255">Server-side encryption using service managed keys in customer controlled hardware</span></span>

<span data-ttu-id="8243a-256">Для сценариев, в которых требуется шифровать неактивные данные и управлять ключами в собственном репозитории вне контроля Майкрософт, некоторые службы Azure допускают использование модели управления с размещением собственного ключа (HYOK).</span><span class="sxs-lookup"><span data-stu-id="8243a-256">For scenarios where the requirement is to encrypt the data at rest and manage the keys in a proprietary repository outside of Microsoft’s control, some Azure services enable the Host Your Own Key (HYOK) key management model.</span></span> <span data-ttu-id="8243a-257">В этой модели службе необходимо получить ключ из внешнего сайта, что в результате оказывает влияние на производительность и гарантии доступности, а конфигурация усложняется.</span><span class="sxs-lookup"><span data-stu-id="8243a-257">In this model, the service must retrieve the key from an external site and therefore performance and availability guarantees are impacted, and configuration is more complex.</span></span> <span data-ttu-id="8243a-258">Кроме того, так как служба имеет доступ к ключу шифрования данных во время операции шифрования и дешифрирования, общие гарантии безопасности этой модели аналогичны модели, в которой ключами управляют пользователи в Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="8243a-258">Additionally, since the service does have access to the DEK during the encryption and decryption operations the overall security guarantees of this model are similar to when the keys are customer managed in Azure Key Vault.</span></span>  <span data-ttu-id="8243a-259">В результате эта модель не подходит для большинства организаций, если они не имеют конкретных требований к управлению ключами.</span><span class="sxs-lookup"><span data-stu-id="8243a-259">As a result, this model is not appropriate for most organizations unless they have specific key management requirements necessitating it.</span></span> <span data-ttu-id="8243a-260">Из-за этих ограничений большинство служб Azure не поддерживают шифрование на стороне сервера с помощью управляемых сервером ключей на оборудовании под контролем пользователя.</span><span class="sxs-lookup"><span data-stu-id="8243a-260">Due to these limitations, most Azure Services do not support server-side encryption using server-managed keys in customer controlled hardware.</span></span>

##### <a name="key-access"></a><span data-ttu-id="8243a-261">Доступ к ключам</span><span class="sxs-lookup"><span data-stu-id="8243a-261">Key Access</span></span>

<span data-ttu-id="8243a-262">При использовании шифрования на стороне сервера с помощью управляемых службой ключей в оборудовании под контролем пользователя ключи хранятся в системе, настроенной пользователем.</span><span class="sxs-lookup"><span data-stu-id="8243a-262">When server-side encryption using service managed keys in customer controlled hardware is used the keys are maintained on a system configured by the customer.</span></span> <span data-ttu-id="8243a-263">Службы Azure, которые поддерживают эту модель, предоставляют средства для создания безопасного подключения к хранилищу ключей, предоставленному пользователем.</span><span class="sxs-lookup"><span data-stu-id="8243a-263">Azure services that support this model provide a means of establishing a secure connection to a customer supplied key store.</span></span>

<span data-ttu-id="8243a-264">**Преимущества**</span><span class="sxs-lookup"><span data-stu-id="8243a-264">**Advantages**</span></span>

- <span data-ttu-id="8243a-265">Полный контроль над корневым ключом. Ключи шифрования управляются в хранилище пользователя.</span><span class="sxs-lookup"><span data-stu-id="8243a-265">Full control over the root key used – encryption keys are managed by a customer provided store</span></span>
- <span data-ttu-id="8243a-266">Возможность шифрования нескольких служб с помощью главного ключа.</span><span class="sxs-lookup"><span data-stu-id="8243a-266">Ability to encrypt multiple services to one master</span></span>
- <span data-ttu-id="8243a-267">Возможность отделить управление ключами от общей модели управления для службы.</span><span class="sxs-lookup"><span data-stu-id="8243a-267">Can segregate key management from overall management model for the service</span></span>
- <span data-ttu-id="8243a-268">Возможность определить службу и расположение ключа в нескольких регионах.</span><span class="sxs-lookup"><span data-stu-id="8243a-268">Can define service and key location across regions</span></span>

<span data-ttu-id="8243a-269">**Недостатки**</span><span class="sxs-lookup"><span data-stu-id="8243a-269">**Disadvantages**</span></span>

- <span data-ttu-id="8243a-270">Полная ответственность за хранение ключей, безопасность, производительность и доступность.</span><span class="sxs-lookup"><span data-stu-id="8243a-270">Full responsibility for key storage, security, performance and availability</span></span>
- <span data-ttu-id="8243a-271">Полная ответственность за управление доступом к ключам.</span><span class="sxs-lookup"><span data-stu-id="8243a-271">Full responsibility for key access management</span></span>
- <span data-ttu-id="8243a-272">Полная ответственность за управление жизненным циклом ключей.</span><span class="sxs-lookup"><span data-stu-id="8243a-272">Full responsibility for key lifecycle management</span></span>
- <span data-ttu-id="8243a-273">Значительные расходы на установку, настройку и текущее обслуживание.</span><span class="sxs-lookup"><span data-stu-id="8243a-273">Significant setup, configuration and ongoing maintenance costs</span></span>
- <span data-ttu-id="8243a-274">Повышенная зависимость от доступности сети между центрами обработки данных Azure и центром обработки данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="8243a-274">Increased dependency on network availability between the customer datacenter and Azure datacenters.</span></span>

## <a name="encryption-at-rest-in-microsoft-cloud-services"></a><span data-ttu-id="8243a-275">Шифрование неактивных данных в облачных службах Майкрософт</span><span class="sxs-lookup"><span data-stu-id="8243a-275">Encryption at rest in Microsoft cloud services</span></span>

<span data-ttu-id="8243a-276">Облачные службы Майкрософт используются во всех трех облачных моделях: IaaS, PaaS, SaaS.</span><span class="sxs-lookup"><span data-stu-id="8243a-276">Microsoft Cloud services are used in all three cloud models: IaaS, PaaS, SaaS.</span></span> <span data-ttu-id="8243a-277">Ниже приведены примеры их размещения в каждой модели.</span><span class="sxs-lookup"><span data-stu-id="8243a-277">Below you have examples of how they fit on each model:</span></span>

- <span data-ttu-id="8243a-278">Программные службы ("программное обеспечение как сервер" (SaaS)) имеют приложение, предоставляемое облачной службой, например Office 365.</span><span class="sxs-lookup"><span data-stu-id="8243a-278">Software services, referred to as Software as a Server or SaaS, which have application provided by the cloud such as Office 365.</span></span>
- <span data-ttu-id="8243a-279">Службы платформы, через которые пользователи используют облако в своих приложениях, используя облако для доступа к функциям служебной шины, хранения и аналитики.</span><span class="sxs-lookup"><span data-stu-id="8243a-279">Platform services which customers leverage the cloud in their applications, using the cloud for things like storage, analytics and service bus functionality.</span></span>
- <span data-ttu-id="8243a-280">Службы инфраструктуры (инфраструктура как услуга (IaaS)), в которых пользователь развертывает операционные системы и приложения, размещенные в облаке, и в которых может использовать другие облачные службы.</span><span class="sxs-lookup"><span data-stu-id="8243a-280">Infrastructure services, or Infrastructure as a Service (IaaS) in which customer deploy operating systems and applications that are hosted in the cloud and possibly leveraging other cloud services.</span></span>

### <a name="encryption-at-rest-for-saas-customers"></a><span data-ttu-id="8243a-281">Шифрование неактивных данных пользователей SaaS</span><span class="sxs-lookup"><span data-stu-id="8243a-281">Encryption at rest for SaaS customers</span></span>

<span data-ttu-id="8243a-282">Для пользователей программного обеспечения как услуги (SaaS) шифрование неактивных данных обычно включено или доступно в каждой службе.</span><span class="sxs-lookup"><span data-stu-id="8243a-282">Software as a Service (SaaS) customers typically have encryption at rest enabled or available in each service.</span></span> <span data-ttu-id="8243a-283">Службы Office 365 предлагают ряд вариантов проверки выполнения или включения шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-283">Office 365 services has several options for customers to verify or enable encryption at rest.</span></span> <span data-ttu-id="8243a-284">Чтобы получить сведения о службах Office 365, ознакомьтесь с технологиями шифрования данных в Office 365.</span><span class="sxs-lookup"><span data-stu-id="8243a-284">For information about Office 365 services see Data Encryption Technologies for Office 365.</span></span>

### <a name="encryption-at-rest-for-paas-customers"></a><span data-ttu-id="8243a-285">Шифрование неактивных данных пользователей PaaS</span><span class="sxs-lookup"><span data-stu-id="8243a-285">Encryption at rest for PaaS customers</span></span>

<span data-ttu-id="8243a-286">Данные пользователей платформы как услуги (PaaS) обычно располагаются в среде выполнения приложения, а для хранения данных пользователя используются все поставщики ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-286">Platform as a Service (PaaS) customer’s data typically resides in an application execution environment and any Azure Resource Providers used to store customer data.</span></span> <span data-ttu-id="8243a-287">Чтобы просмотреть доступные варианты шифрования неактивных данных, просмотрите сведения в таблице ниже для используемых хранилищ и платформ приложений.</span><span class="sxs-lookup"><span data-stu-id="8243a-287">To see the encryption at rest options available to you examine the table below for the storage and application platforms that you use.</span></span> <span data-ttu-id="8243a-288">Если шифрование поддерживается, в таблице указана ссылка на инструкции по включению шифрования неактивных данных для каждого поставщика ресурсов.</span><span class="sxs-lookup"><span data-stu-id="8243a-288">Where supported, links to instructions on enabling Encryption at Rest are provided for each resource provider.</span></span> 

### <a name="encryption-at-rest-for-iaas-customers"></a><span data-ttu-id="8243a-289">Шифрование неактивных данных пользователей IaaS</span><span class="sxs-lookup"><span data-stu-id="8243a-289">Encryption at rest for IaaS customers</span></span>

<span data-ttu-id="8243a-290">Пользователи, использующие инфраструктуру как услугу (IaaS), могут использовать ряд служб и приложений.</span><span class="sxs-lookup"><span data-stu-id="8243a-290">Infrastructure as a Service (IaaS) customers can have a variety of services and applications in use.</span></span> <span data-ttu-id="8243a-291">Службы IaaS могут включить шифрование неактивных данных на своих размещенных в Azure виртуальных машинах и виртуальных жестких дисках с помощью шифрования дисков Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-291">IaaS services can enable encryption at rest in their Azure hosted virtual machines and VHDs using Azure Disk Encryption.</span></span> 

#### <a name="encrypted-storage"></a><span data-ttu-id="8243a-292">Зашифрованное хранилище</span><span class="sxs-lookup"><span data-stu-id="8243a-292">Encrypted storage</span></span>

<span data-ttu-id="8243a-293">Аналогично решениям PaaS, решения IaaS могут использовать другие службы Azure, которые хранят данные в зашифрованном виде.</span><span class="sxs-lookup"><span data-stu-id="8243a-293">Like PaaS, IaaS solutions can leverage other Azure services that store data encrypted at rest.</span></span> <span data-ttu-id="8243a-294">В таких случаях можно включить поддержку шифрования неактивных данных для каждой используемой службы Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-294">In these cases, you can enable the Encryption at Rest support as provided by each consumed Azure service.</span></span> <span data-ttu-id="8243a-295">В таблице ниже перечислены основные хранилища, службы и платформы приложений, а также поддерживаемые модели шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-295">The below table enumerates the major storage, services and application platforms and the model of Encryption at Rest supported.</span></span> <span data-ttu-id="8243a-296">Если шифрование поддерживается, для них указана ссылка на инструкции по включению шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-296">Where supported, links are provided to instructions on enabling Encryption at Rest.</span></span> 

#### <a name="encrypted-compute"></a><span data-ttu-id="8243a-297">Зашифрованные вычисления</span><span class="sxs-lookup"><span data-stu-id="8243a-297">Encrypted compute</span></span>

<span data-ttu-id="8243a-298">Полное решение для шифрования неактивных данных предполагает, что данные никогда не сохраняются в незашифрованном виде.</span><span class="sxs-lookup"><span data-stu-id="8243a-298">A complete Encryption at Rest solution requires that the data is never persisted in unencrypted form.</span></span> <span data-ttu-id="8243a-299">Во время использования, когда сервер загружает данные в память, данные могут быть сохранены локально различными способами, включая файл подкачки Windows, аварийный дамп и ведение журнала, которое может выполнять приложение.</span><span class="sxs-lookup"><span data-stu-id="8243a-299">While in use, on a server loading the data in memory, data can be persisted locally in various ways including the Windows page file, a crash dump, and any logging the application may perform.</span></span> <span data-ttu-id="8243a-300">Чтобы убедиться, что эти данные шифруются при хранении, приложения IaaS могут использовать шифрование дисков Azure на виртуальной машине Azure IaaS (Windows или Linux) и виртуальном диске.</span><span class="sxs-lookup"><span data-stu-id="8243a-300">To ensure this data is encrypted at rest IaaS applications can use Azure Disk Encryption on an Azure IaaS virtual machine (Windows or Linux) and virtual disk.</span></span> 

#### <a name="custom-encryption-at-rest"></a><span data-ttu-id="8243a-301">Пользовательское шифрование неактивных данных</span><span class="sxs-lookup"><span data-stu-id="8243a-301">Custom encryption at rest</span></span>

<span data-ttu-id="8243a-302">Рекомендуется, чтобы приложения IaaS использовали шифрование дисков Azure и параметры шифрования неактивных данных, предоставляемые любой используемой службой Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-302">It is recommended that whenever possible, IaaS applications leverage Azure Disk Encryption and Encryption at Rest options provided by any consumed Azure services.</span></span> <span data-ttu-id="8243a-303">В некоторых случаях, например при нестандартных требованиях к шифрованию или при использовании хранилища, отличного от Azure, разработчику приложения IaaS может потребоваться реализовать шифрование неактивных данных самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="8243a-303">In some cases, such as irregular encryption requirements or non-Azure based storage, a developer of an IaaS application may need to implement encryption at rest themselves.</span></span> <span data-ttu-id="8243a-304">Разработчики решений IaaS могут обеспечивать лучшую интеграцию с управлением Azure и удовлетворять ожидания пользователей за счет использования определенных компонентов Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-304">Developers of IaaS solutions can better integrate with Azure management and customer expectations by leveraging certain Azure components.</span></span> <span data-ttu-id="8243a-305">В частности разработчикам следует использовать службу Azure Key Vault, чтобы обеспечить безопасное хранение ключей, а также предоставить своим пользователям согласованные параметры управления ключами большинства служб платформы Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-305">Specifically, developers should use the Azure Key Vault service to provide secure key storage as well as provide their customers with consistent key management options with that of most Azure platform services.</span></span> <span data-ttu-id="8243a-306">Кроме того, пользовательские решения должны использовать удостоверения управляемых служб Azure, чтобы предоставить учетным записям служб доступ к ключам шифрования.</span><span class="sxs-lookup"><span data-stu-id="8243a-306">Additionally, custom solutions should use Azure Managed Service Identities to enable service accounts to access encryption keys.</span></span> <span data-ttu-id="8243a-307">Сведения для разработчиков об Azure Key Vault и удостоверениях управляемых служб см. в соответствующих пакетах SDK.</span><span class="sxs-lookup"><span data-stu-id="8243a-307">For developer information on Azure Key Vault and Managed Service Identities see their respective SDKs.</span></span>

## <a name="azure-resource-providers-encryption-model-support"></a><span data-ttu-id="8243a-308">Поддержка модели шифрования поставщиками ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-308">Azure resource providers encryption model support</span></span>

<span data-ttu-id="8243a-309">Каждая служба Microsoft Azure поддерживает одну или несколько моделей шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-309">Microsoft Azure Services each support one or more of the encryption at rest models.</span></span> <span data-ttu-id="8243a-310">Тем не менее для некоторых служб одна или несколько моделей шифрования могут быть неприменимы.</span><span class="sxs-lookup"><span data-stu-id="8243a-310">For some services, however, one or more of the encryption models may not be applicable.</span></span> <span data-ttu-id="8243a-311">Кроме того, службы могут выпускать поддержку этих сценариев в разное время.</span><span class="sxs-lookup"><span data-stu-id="8243a-311">Additionally, services may release support for these scenarios at different schedules.</span></span> <span data-ttu-id="8243a-312">В этом разделе описывается поддержка шифрования неактивных данных на момент написания этой статьи для основных служб хранения данных Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-312">This section describes the encryption at rest support at the time of this writing for each of the major Azure data storage services.</span></span>

### <a name="azure-disk-encryption"></a><span data-ttu-id="8243a-313">Шифрование дисков Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-313">Azure disk encryption</span></span>

<span data-ttu-id="8243a-314">Любой пользователь, который использует функции инфраструктуры как услуги (IaaS) Azure, может включить шифрование неактивных данных на виртуальных машинах IaaS и дисках с помощью шифрования дисков Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-314">Any customer using Azure Infrastructure as a Service (IaaS) features can achieve encryption at rest for their IaaS VMs and disks through Azure Disk Encryption.</span></span> <span data-ttu-id="8243a-315">Дополнительные сведения о шифровании дисков Azure см. в статье [Дисковое шифрование Azure для виртуальных машин IaaS под управлением Windows и Linux](https://docs.microsoft.com/azure/security/azure-security-disk-encryption).</span><span class="sxs-lookup"><span data-stu-id="8243a-315">For more information on Azure Disk encryption see the [Azure Disk Encryption documentation](https://docs.microsoft.com/azure/security/azure-security-disk-encryption).</span></span>

#### <a name="azure-storage"></a><span data-ttu-id="8243a-316">Хранилище Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-316">Azure storage</span></span>

<span data-ttu-id="8243a-317">Большой двоичный объект и файл Azure поддерживают шифрование неактивных данных в сценариях шифрования на стороне сервера, а также шифрования на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="8243a-317">Azure Blob, and File supports encryption at rest for server-side encrypted scenarios as well as customer encrypted data (client-side encryption).</span></span>

- <span data-ttu-id="8243a-318">Шифрование на стороне сервера. Пользователи, использующие хранилище BLOB-объектов Azure, могут включить шифрование неактивных данных для каждой учетной записи ресурса хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="8243a-318">Server-side: customers using Azure blob storage can enable encryption at rest on each Azure storage resource account.</span></span> <span data-ttu-id="8243a-319">После активации шифрование на стороне сервера выполняется прозрачно для приложения.</span><span class="sxs-lookup"><span data-stu-id="8243a-319">Once enabled server-side encryption is done transparently to the application.</span></span> <span data-ttu-id="8243a-320">Дополнительные сведения см. в статье [Шифрование службы хранилища Azure для неактивных данных (предварительная версия)](https://docs.microsoft.com/azure/storage/storage-service-encryption).</span><span class="sxs-lookup"><span data-stu-id="8243a-320">See [Azure Storage Service Encryption for Data at Rest](https://docs.microsoft.com/azure/storage/storage-service-encryption) for more information.</span></span>
- <span data-ttu-id="8243a-321">Шифрование на стороне клиента. Поддерживается шифрование больших двоичных объектов Azure на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="8243a-321">Client-side: client-side encryption of Azure Blobs is supported.</span></span> <span data-ttu-id="8243a-322">При использовании шифрования на стороне клиента данные шифруются и отправляются в виде зашифрованного большого двоичного объекта.</span><span class="sxs-lookup"><span data-stu-id="8243a-322">When using client-side encryption customers encrypt the data and upload the data as an encrypted blob.</span></span> <span data-ttu-id="8243a-323">Управление ключами осуществляется пользователем.</span><span class="sxs-lookup"><span data-stu-id="8243a-323">Key management is done by the customer.</span></span> <span data-ttu-id="8243a-324">Дополнительные сведения см. в статье [Шифрование на стороне клиента для службы хранилища Microsoft Azure](https://docs.microsoft.com/azure/storage/storage-client-side-encryption).</span><span class="sxs-lookup"><span data-stu-id="8243a-324">See [Client-Side Encryption and Azure Key Vault for Microsoft Azure Storage](https://docs.microsoft.com/azure/storage/storage-client-side-encryption) for more information.</span></span>


#### <a name="sql-azure"></a><span data-ttu-id="8243a-325">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-325">SQL Azure</span></span>

<span data-ttu-id="8243a-326">SQL Azure в настоящее время поддерживает шифрование неактивных данных в сценариях шифрования на стороне клиента и на стороне управляемых служб Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="8243a-326">SQL Azure currently supports encryption at rest for Microsoft managed service side and client-side encryption scenarios.</span></span>

<span data-ttu-id="8243a-327">Поддержка шифрования на стороне сервера в настоящее время предоставляется с помощью функции SQL, которая называется прозрачным шифрованием данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-327">Support for sever encryption is currently provided through the SQL feature called Transparent Data Encryption.</span></span> <span data-ttu-id="8243a-328">Как только пользователь SQL Azure активирует прозрачное шифрование данных, эта функция будет автоматически создавать ключи и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="8243a-328">Once a SQL Azure customer enables TDE key are automatically created and managed for them.</span></span> <span data-ttu-id="8243a-329">Шифрование неактивных данных можно включить на уровне базы данных и на уровне сервера.</span><span class="sxs-lookup"><span data-stu-id="8243a-329">Encryption at rest can be enabled at the database and server levels.</span></span> <span data-ttu-id="8243a-330">Начиная с июня 2017 г. [прозрачное шифрование данных (TDE)](https://msdn.microsoft.com/library/bb934049.aspx) будет включено по умолчанию для всех новых баз данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-330">As of June 2017, [Transparent Data Encryption (TDE)](https://msdn.microsoft.com/library/bb934049.aspx) will be enabled by default on newly created databases.</span></span>

<span data-ttu-id="8243a-331">Шифрование на стороне клиента данных SQL Azure поддерживается с помощью функции [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx).</span><span class="sxs-lookup"><span data-stu-id="8243a-331">Client-side encryption of SQL Azure data is supported through the [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx) feature.</span></span> <span data-ttu-id="8243a-332">Always Encrypted использует ключ, который создается и хранится клиентом.</span><span class="sxs-lookup"><span data-stu-id="8243a-332">Always Encrypted uses a key that created and stored by the client.</span></span> <span data-ttu-id="8243a-333">пользователь может хранить главный ключ в хранилище сертификатов Windows, Azure Key Vault или аппаратном модуле безопасности (HSM), размещенном локально.</span><span class="sxs-lookup"><span data-stu-id="8243a-333">Customers can store the master key in a Windows certificate store, Azure Key Vault, or a local Hardware Security Module.</span></span> <span data-ttu-id="8243a-334">В SQL Server Management Studio пользователи SQL выбирают, какие ключи они хотели бы использовать для шифрования отдельных столбцов.</span><span class="sxs-lookup"><span data-stu-id="8243a-334">Using SQL Server Management Studio, SQL users choose what key they’d like to use to encrypt which column.</span></span>

|                                  |                |                     | <span data-ttu-id="8243a-335">**Модель шифрования**</span><span class="sxs-lookup"><span data-stu-id="8243a-335">**Encryption Model**</span></span>             |                              |        |
|----------------------------------|----------------|---------------------|------------------------------|------------------------------|--------|
|                                  |                |                     |                              |                              | <span data-ttu-id="8243a-336">**Клиент**</span><span class="sxs-lookup"><span data-stu-id="8243a-336">**Client**</span></span> |
|                                  | <span data-ttu-id="8243a-337">**Управление ключами**</span><span class="sxs-lookup"><span data-stu-id="8243a-337">**Key Management**</span></span> | <span data-ttu-id="8243a-338">**Ключами управляет служба**</span><span class="sxs-lookup"><span data-stu-id="8243a-338">**Service Managed Key**</span></span> | <span data-ttu-id="8243a-339">**Ключами управляет пользователь в хранилище ключей**</span><span class="sxs-lookup"><span data-stu-id="8243a-339">**Customer Managed in Key Vault**</span></span> | <span data-ttu-id="8243a-340">**Ключами управляет пользователь в локальной среде**</span><span class="sxs-lookup"><span data-stu-id="8243a-340">**Customer Managed On-premises**</span></span> |        |
| <span data-ttu-id="8243a-341">**Хранилище и базы данных**</span><span class="sxs-lookup"><span data-stu-id="8243a-341">**Storage and Databases**</span></span>            |                |                     |                              |                              |        |
| <span data-ttu-id="8243a-342">Диск (IaaS)</span><span class="sxs-lookup"><span data-stu-id="8243a-342">Disk (IaaS)</span></span>                      |                | -                   | <span data-ttu-id="8243a-343">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-343">Yes</span></span>                          | <span data-ttu-id="8243a-344">Да*</span><span class="sxs-lookup"><span data-stu-id="8243a-344">Yes*</span></span>                         | -      |
| <span data-ttu-id="8243a-345">SQL Server (IaaS)</span><span class="sxs-lookup"><span data-stu-id="8243a-345">SQL Server (IaaS)</span></span>                |                | <span data-ttu-id="8243a-346">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-346">Yes</span></span>                 | <span data-ttu-id="8243a-347">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-347">Yes</span></span>                          | <span data-ttu-id="8243a-348">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-348">Yes</span></span>                          | <span data-ttu-id="8243a-349">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-349">Yes</span></span>    |
| <span data-ttu-id="8243a-350">SQL Azure (PaaS)</span><span class="sxs-lookup"><span data-stu-id="8243a-350">SQL Azure (PaaS)</span></span>                 |                | <span data-ttu-id="8243a-351">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-351">Yes</span></span>                 | <span data-ttu-id="8243a-352">Предварительный просмотр</span><span class="sxs-lookup"><span data-stu-id="8243a-352">Preview</span></span>                      | -                            | <span data-ttu-id="8243a-353">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-353">Yes</span></span>    |
| <span data-ttu-id="8243a-354">Хранилище Azure (блочные и страничные BLOB-объекты)</span><span class="sxs-lookup"><span data-stu-id="8243a-354">Azure Storage (Block/Page Blobs)</span></span> |                | <span data-ttu-id="8243a-355">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-355">Yes</span></span>                 | <span data-ttu-id="8243a-356">Предварительный просмотр</span><span class="sxs-lookup"><span data-stu-id="8243a-356">Preview</span></span>                      | -                            | <span data-ttu-id="8243a-357">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-357">Yes</span></span>    |
| <span data-ttu-id="8243a-358">Хранилище Azure (файлы)</span><span class="sxs-lookup"><span data-stu-id="8243a-358">Azure Storage (Files)</span></span>            |                | <span data-ttu-id="8243a-359">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-359">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="8243a-360">Хранилище Azure (таблицы, очереди)</span><span class="sxs-lookup"><span data-stu-id="8243a-360">Azure Storage (Tables, Queues)</span></span>   |                | -                   | -                            | -                            | <span data-ttu-id="8243a-361">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-361">Yes</span></span>    |
| <span data-ttu-id="8243a-362">Cosmos DB (Document DB)</span><span class="sxs-lookup"><span data-stu-id="8243a-362">Cosmos DB (Document DB)</span></span>          |                | <span data-ttu-id="8243a-363">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-363">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="8243a-364">StorSimple</span><span class="sxs-lookup"><span data-stu-id="8243a-364">StorSimple</span></span>                       |                | <span data-ttu-id="8243a-365">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-365">Yes</span></span>                 | -                            | -                            | <span data-ttu-id="8243a-366">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-366">Yes</span></span>    |
| <span data-ttu-id="8243a-367">Архивация</span><span class="sxs-lookup"><span data-stu-id="8243a-367">Backup</span></span>                           |                | -                   | -                            | -                            | <span data-ttu-id="8243a-368">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-368">Yes</span></span>    |
| <span data-ttu-id="8243a-369">**Службы аналитики**</span><span class="sxs-lookup"><span data-stu-id="8243a-369">**Intelligence and Analytics**</span></span>       |                |                     |                              |                              |        |
| <span data-ttu-id="8243a-370">Фабрика данных Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-370">Azure Data Factory</span></span>               |                | <span data-ttu-id="8243a-371">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-371">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="8243a-372">Машинное обучение Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-372">Azure Machine Learning</span></span>           |                | -                   | <span data-ttu-id="8243a-373">Предварительный просмотр</span><span class="sxs-lookup"><span data-stu-id="8243a-373">Preview</span></span>                      | -                            | -      |
| <span data-ttu-id="8243a-374">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="8243a-374">Azure Stream Analytics</span></span>           |                | <span data-ttu-id="8243a-375">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-375">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="8243a-376">HDInsights (хранилище BLOB-объектов Azure)</span><span class="sxs-lookup"><span data-stu-id="8243a-376">HDInsights (Azure Blob Storage)</span></span>  |                | <span data-ttu-id="8243a-377">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-377">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="8243a-378">HDInsights (Data Lake Storage)</span><span class="sxs-lookup"><span data-stu-id="8243a-378">HDInsights (Data Lake Storage)</span></span>   |                | <span data-ttu-id="8243a-379">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-379">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="8243a-380">Хранилище озера данных Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-380">Azure Data Lake Store</span></span>            |                | <span data-ttu-id="8243a-381">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-381">Yes</span></span>                 | <span data-ttu-id="8243a-382">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-382">Yes</span></span>                          | -                            | -      |
| <span data-ttu-id="8243a-383">Каталог данных Azure</span><span class="sxs-lookup"><span data-stu-id="8243a-383">Azure Data Catalog</span></span>               |                | <span data-ttu-id="8243a-384">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-384">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="8243a-385">Power BI</span><span class="sxs-lookup"><span data-stu-id="8243a-385">Power BI</span></span>                         |                | <span data-ttu-id="8243a-386">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-386">Yes</span></span>                 | -                            | -                            | -      |
| <span data-ttu-id="8243a-387">**Службы Интернета вещей**</span><span class="sxs-lookup"><span data-stu-id="8243a-387">**IoT Services**</span></span>                     |                |                     |                              |                              |        |
| <span data-ttu-id="8243a-388">Центр Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="8243a-388">IoT Hub</span></span>                          |                | -                   | -                            | -                            | <span data-ttu-id="8243a-389">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-389">Yes</span></span>    |
| <span data-ttu-id="8243a-390">Служебная шина</span><span class="sxs-lookup"><span data-stu-id="8243a-390">Service Bus</span></span>                      |                | -              | -                            | -                            | <span data-ttu-id="8243a-391">Да</span><span class="sxs-lookup"><span data-stu-id="8243a-391">Yes</span></span>    |
| <span data-ttu-id="8243a-392">Концентраторы событий</span><span class="sxs-lookup"><span data-stu-id="8243a-392">Event Hubs</span></span>                       |                | -             | -                            | -                            | -      |


## <a name="conclusion"></a><span data-ttu-id="8243a-393">Заключение</span><span class="sxs-lookup"><span data-stu-id="8243a-393">Conclusion</span></span>

<span data-ttu-id="8243a-394">Защита данных пользователя, хранимых в службах Azure, представляет особую важность для Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="8243a-394">Protection of customer data stored within Azure Services is of paramount importance to Microsoft.</span></span> <span data-ttu-id="8243a-395">Все службы, размещенные в Azure, обязуются предоставлять параметры шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-395">All Azure hosted services are committed to providing Encryption at Rest options.</span></span> <span data-ttu-id="8243a-396">Базовые службы, такие как хранилище Azure, SQL Azure и ключевые службы аналитики, уже предоставляют параметры шифрования неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="8243a-396">Foundational services such as Azure Storage, SQL Azure and key analytics and intelligence services already provide Encryption at Rest options.</span></span> <span data-ttu-id="8243a-397">Некоторые из этих служб поддерживают ключи, управляемые пользователем, и шифрование на стороне клиента, а также ключи, управляемые службой, и шифрование.</span><span class="sxs-lookup"><span data-stu-id="8243a-397">Some of these services support either customer controlled keys and client-side encryption as well as service managed keys and encryption.</span></span> <span data-ttu-id="8243a-398">Службы Microsoft Azure постоянно совершенствуют доступность шифрования неактивных данных, а новые параметры появятся в предварительной и общедоступной версиях в ближайшее время.</span><span class="sxs-lookup"><span data-stu-id="8243a-398">Microsoft Azure services are broadly enhancing Encryption at Rest availability and new options are planned for preview and general availability in the upcoming months.</span></span>

