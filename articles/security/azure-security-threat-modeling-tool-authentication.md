---
title: "aaaAuthentication - Microsoft средства моделирования угроз - Azure | Документы Microsoft"
description: "защиту от угроз, которые представлены в hello средства моделирования угроз"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 06c1b1aebab25e6fb5b666d24ecd9d86085d656c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-authentication--mitigations"></a><span data-ttu-id="2ae5d-103">Механизм безопасности. Проверка подлинности | Устранение рисков</span><span class="sxs-lookup"><span data-stu-id="2ae5d-103">Security Frame: Authentication | Mitigations</span></span> 
| <span data-ttu-id="2ae5d-104">Продукт или служба</span><span class="sxs-lookup"><span data-stu-id="2ae5d-104">Product/Service</span></span> | <span data-ttu-id="2ae5d-105">Статья</span><span class="sxs-lookup"><span data-stu-id="2ae5d-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="2ae5d-106">**Веб-приложение**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-106">**Web Application**</span></span>    | <ul><li>[<span data-ttu-id="2ae5d-107">Рассмотрите возможность использования tooWeb tooauthenticate механизм стандартной проверки подлинности приложения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-107">Consider using a standard authentication mechanism tooauthenticate tooWeb Application</span></span>](#standard-authn-web-app)</li><li>[<span data-ttu-id="2ae5d-108">Приложения должны надежно обрабатывать сценарии неудачной проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-108">Applications must handle failed authentication scenarios securely</span></span>](#handle-failed-authn)</li><li>[<span data-ttu-id="2ae5d-109">Включите проверку подлинности повышенного уровня или адаптивную проверку подлинности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-109">Enable step up or adaptive authentication</span></span>](#step-up-adaptive-authn)</li><li>[<span data-ttu-id="2ae5d-110">Интерфейсы администрирования должны быть заблокированы соответствующим образом</span><span class="sxs-lookup"><span data-stu-id="2ae5d-110">Ensure that administrative interfaces are appropriately locked down</span></span>](#admin-interface-lockdown)</li><li>[<span data-ttu-id="2ae5d-111">Реализуйте безопасный механизм восстановления пароля</span><span class="sxs-lookup"><span data-stu-id="2ae5d-111">Implement forgot password functionalities securely</span></span>](#forgot-pword-fxn)</li><li>[<span data-ttu-id="2ae5d-112">Настройте применение политик учетных записей и паролей</span><span class="sxs-lookup"><span data-stu-id="2ae5d-112">Ensure that password and account policy are implemented</span></span>](#pword-account-policy)</li><li>[<span data-ttu-id="2ae5d-113">Реализация элементов управления tooprevent username перечисления</span><span class="sxs-lookup"><span data-stu-id="2ae5d-113">Implement controls tooprevent username enumeration</span></span>](#controls-username-enum)</li></ul> |
| <span data-ttu-id="2ae5d-114">**База данных**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-114">**Database**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-115">По возможности используйте проверку подлинности Windows для подключения tooSQL сервера</span><span class="sxs-lookup"><span data-stu-id="2ae5d-115">When possible, use Windows Authentication for connecting tooSQL Server</span></span>](#win-authn-sql)</li><li>[<span data-ttu-id="2ae5d-116">По возможности используйте проверку подлинности Azure Active Directory для tooSQL подключение базы данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-116">When possible use Azure Active Directory Authentication for Connecting tooSQL Database</span></span>](#aad-authn-sql)</li><li>[<span data-ttu-id="2ae5d-117">Если используется режим проверки подлинности SQL, обеспечьте применение политики учетных записей и паролей на сервере SQL Server</span><span class="sxs-lookup"><span data-stu-id="2ae5d-117">When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>](#authn-account-pword)</li><li>[<span data-ttu-id="2ae5d-118">Не используйте проверку подлинности SQL в автономных базах данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-118">Do not use SQL Authentication in contained databases</span></span>](#autn-contained-db)</li></ul> |
| <span data-ttu-id="2ae5d-119">**Концентратор событий Azure**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-119">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-120">Используйте учетные данные проверки подлинности на уровне отдельного устройства с помощью маркеров SaS</span><span class="sxs-lookup"><span data-stu-id="2ae5d-120">Use per device authentication credentials using SaS tokens</span></span>](#authn-sas-tokens)</li></ul> |
| <span data-ttu-id="2ae5d-121">**Граница доверия Azure**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-121">**Azure Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-122">Включите Многофакторную идентификацию Azure для администраторов Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-122">Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>](#multi-factor-azure-admin)</li></ul> |
| <span data-ttu-id="2ae5d-123">**Граница доверия Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-123">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-124">Ограничить анонимный доступ tooService кластера Fabric</span><span class="sxs-lookup"><span data-stu-id="2ae5d-124">Restrict anonymous access tooService Fabric Cluster</span></span>](#anon-access-cluster)</li><li>[<span data-ttu-id="2ae5d-125">Сертификат Service Fabric для обмена данными между клиентом и узлом должен отличаться от простого сертификата для обмена данными между узлами</span><span class="sxs-lookup"><span data-stu-id="2ae5d-125">Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>](#fabric-cn-nn)</li><li>[<span data-ttu-id="2ae5d-126">Использовать AAD tooauthenticate клиенты tooservice структуры кластеров</span><span class="sxs-lookup"><span data-stu-id="2ae5d-126">Use AAD tooauthenticate clients tooservice fabric clusters</span></span>](#aad-client-fabric)</li><li>[<span data-ttu-id="2ae5d-127">Нужно использовать сертификаты Service Fabric, полученные из утвержденного Центра сертификации</span><span class="sxs-lookup"><span data-stu-id="2ae5d-127">Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>](#fabric-cert-ca)</li></ul> |
| <span data-ttu-id="2ae5d-128">**Сервер удостоверений**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-128">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-129">Используйте стандартные сценарии проверки подлинности, поддерживаемые сервером удостоверений</span><span class="sxs-lookup"><span data-stu-id="2ae5d-129">Use standard authentication scenarios supported by Identity Server</span></span>](#standard-authn-id)</li><li>[<span data-ttu-id="2ae5d-130">Переопределить hello по умолчанию удостоверение сервера кэша маркера масштабируемой альтернативой</span><span class="sxs-lookup"><span data-stu-id="2ae5d-130">Override hello default Identity Server token cache with a scalable alternative</span></span>](#override-token)</li></ul> |
| <span data-ttu-id="2ae5d-131">**Граница доверия между компьютерами**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-131">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-132">Двоичные файлы развернутого приложения должны иметь цифровую подпись</span><span class="sxs-lookup"><span data-stu-id="2ae5d-132">Ensure that deployed application's binaries are digitally signed</span></span>](#binaries-signed)</li></ul> |
| <span data-ttu-id="2ae5d-133">**WCF**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-133">**WCF**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-134">Включение проверки подлинности при подключении tooMSMQ очереди в WCF</span><span class="sxs-lookup"><span data-stu-id="2ae5d-134">Enable authentication when connecting tooMSMQ queues in WCF</span></span>](#msmq-queues)</li><li>[<span data-ttu-id="2ae5d-135">Выполните WCF не задан сообщение toonone clientCredentialType</span><span class="sxs-lookup"><span data-stu-id="2ae5d-135">WCF-Do not set Message clientCredentialType toonone</span></span>](#message-none)</li><li>[<span data-ttu-id="2ae5d-136">Выполните WCF не установлено toonone clientCredentialType транспорта</span><span class="sxs-lookup"><span data-stu-id="2ae5d-136">WCF-Do not set Transport clientCredentialType toonone</span></span>](#transport-none)</li></ul> |
| <span data-ttu-id="2ae5d-137">**Веб-интерфейс API**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-137">**Web API**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-138">Убедитесь, что методы стандартной проверки подлинности используется toosecure веб-API</span><span class="sxs-lookup"><span data-stu-id="2ae5d-138">Ensure that standard authentication techniques are used toosecure Web APIs</span></span>](#authn-secure-api)</li></ul> |
| <span data-ttu-id="2ae5d-139">**Azure AD**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-139">**Azure AD**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-140">Используйте стандартные сценарии проверки подлинности, поддерживаемые Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="2ae5d-140">Use standard authentication scenarios supported by Azure Active Directory</span></span>](#authn-aad)</li><li>[<span data-ttu-id="2ae5d-141">Переопределить hello по умолчанию ADAL кэша маркера масштабируемой альтернативой</span><span class="sxs-lookup"><span data-stu-id="2ae5d-141">Override hello default ADAL token cache with a scalable alternative</span></span>](#adal-scalable)</li><li>[<span data-ttu-id="2ae5d-142">Убедитесь, что TokenReplayCache используется tooprevent hello воспроизведения маркеров проверки подлинности ADAL</span><span class="sxs-lookup"><span data-stu-id="2ae5d-142">Ensure that TokenReplayCache is used tooprevent hello replay of ADAL authentication tokens</span></span>](#tokenreplaycache-adal)</li><li>[<span data-ttu-id="2ae5d-143">Использование библиотеки ADAL toomanage маркера запрашивает у клиентов tooAAD OAuth2 (или локальной AD)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-143">Use ADAL libraries toomanage token requests from OAuth2 clients tooAAD (or on-premises AD)</span></span>](#adal-oauth2)</li></ul> |
| <span data-ttu-id="2ae5d-144">**Полевой шлюз Интернета вещей**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-144">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-145">Проверка подлинности устройств, подключающихся toohello шлюз поля</span><span class="sxs-lookup"><span data-stu-id="2ae5d-145">Authenticate devices connecting toohello Field Gateway</span></span>](#authn-devices-field)</li></ul> |
| <span data-ttu-id="2ae5d-146">**Облачный шлюз Интернета вещей**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-146">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-147">Обеспечить проверку подлинности устройств, подключающихся tooCloud шлюза</span><span class="sxs-lookup"><span data-stu-id="2ae5d-147">Ensure that devices connecting tooCloud gateway are authenticated</span></span>](#authn-devices-cloud)</li><li>[<span data-ttu-id="2ae5d-148">Используйте учетные данные проверки подлинности на уровне отдельного устройства</span><span class="sxs-lookup"><span data-stu-id="2ae5d-148">Use per-device authentication credentials</span></span>](#authn-cred)</li></ul> |
| <span data-ttu-id="2ae5d-149">**Хранилище Azure**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-149">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="2ae5d-150">Убедитесь, что только hello требуемые контейнеры и большие двоичные объекты получают анонимный доступ для чтения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-150">Ensure that only hello required containers and blobs are given anonymous read access</span></span>](#req-containers-anon)</li><li>[<span data-ttu-id="2ae5d-151">Предоставить ограниченный доступ tooobjects в хранилище Azure с использованием SAS или SAP</span><span class="sxs-lookup"><span data-stu-id="2ae5d-151">Grant limited access tooobjects in Azure storage using SAS or SAP</span></span>](#limited-access-sas)</li></ul> |

## <span data-ttu-id="2ae5d-152"><a id="standard-authn-web-app"></a>Рассмотрите возможность использования tooWeb tooauthenticate механизм стандартной проверки подлинности приложения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-152"><a id="standard-authn-web-app"></a>Consider using a standard authentication mechanism tooauthenticate tooWeb Application</span></span>

| <span data-ttu-id="2ae5d-153">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-153">Title</span></span>                   | <span data-ttu-id="2ae5d-154">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-154">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-155">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-155">**Component**</span></span>               | <span data-ttu-id="2ae5d-156">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="2ae5d-156">Web Application</span></span> | 
| <span data-ttu-id="2ae5d-157">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-157">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-158">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-158">Build</span></span> |  
| <span data-ttu-id="2ae5d-159">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-159">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-160">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-160">Generic</span></span> |
| <span data-ttu-id="2ae5d-161">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-161">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-162">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-162">N/A</span></span>  |
| <span data-ttu-id="2ae5d-163">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-163">**References**</span></span>              | <span data-ttu-id="2ae5d-164">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-164">N/A</span></span>  |
| <span data-ttu-id="2ae5d-165">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-165">Details</span></span> | <p><span data-ttu-id="2ae5d-166">Проверка подлинности — процесс hello, где сущность подтверждает свою подлинность, обычно с помощью учетных данных, таких как имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-166">Authentication is hello process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="2ae5d-167">Существует множество протоколов проверки подлинности,</span><span class="sxs-lookup"><span data-stu-id="2ae5d-167">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="2ae5d-168">включая следующие:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-168">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="2ae5d-169">Client certificates</span><span class="sxs-lookup"><span data-stu-id="2ae5d-169">Client certificates</span></span></li><li><span data-ttu-id="2ae5d-170">на основе Windows;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-170">Windows based</span></span></li><li><span data-ttu-id="2ae5d-171">на основе форм;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-171">Forms based</span></span></li><li><span data-ttu-id="2ae5d-172">федерация: ADFS;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-172">Federation - ADFS</span></span></li><li><span data-ttu-id="2ae5d-173">федерация: Azure AD;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-173">Federation - Azure AD</span></span></li><li><span data-ttu-id="2ae5d-174">федерация: сервер удостоверений.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-174">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="2ae5d-175">Рассмотрите возможность использования стандартной проверки подлинности механизм tooidentify hello исходного процесса</span><span class="sxs-lookup"><span data-stu-id="2ae5d-175">Consider using a standard authentication mechanism tooidentify hello source process</span></span></p>|

## <span data-ttu-id="2ae5d-176"><a id="handle-failed-authn"></a>Приложения должны надежно обрабатывать сценарии неудачной проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-176"><a id="handle-failed-authn"></a>Applications must handle failed authentication scenarios securely</span></span>

| <span data-ttu-id="2ae5d-177">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-177">Title</span></span>                   | <span data-ttu-id="2ae5d-178">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-178">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-179">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-179">**Component**</span></span>               | <span data-ttu-id="2ae5d-180">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="2ae5d-180">Web Application</span></span> | 
| <span data-ttu-id="2ae5d-181">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-181">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-182">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-182">Build</span></span> |  
| <span data-ttu-id="2ae5d-183">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-183">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-184">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-184">Generic</span></span> |
| <span data-ttu-id="2ae5d-185">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-185">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-186">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-186">N/A</span></span>  |
| <span data-ttu-id="2ae5d-187">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-187">**References**</span></span>              | <span data-ttu-id="2ae5d-188">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-188">N/A</span></span>  |
| <span data-ttu-id="2ae5d-189">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-189">Details</span></span> | <p><span data-ttu-id="2ae5d-190">Приложения, которые явным образом проверять подлинность пользователей должен обрабатывать ошибки проверки подлинности сценарии, которые должны securely.hello механизм проверки подлинности:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-190">Applications that explicitly authenticate users must handle failed authentication scenarios securely.hello authentication mechanism must:</span></span></p><ul><li><span data-ttu-id="2ae5d-191">Запретить доступ tooprivileged ресурсов при сбое проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-191">Deny access tooprivileged resources when authentication fails</span></span></li><li><span data-ttu-id="2ae5d-192">отображать общее сообщение об ошибке после неудачной проверки подлинности и запрета доступа.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-192">Display a generic error message after failed authentication and access denied occurs</span></span></li></ul><p><span data-ttu-id="2ae5d-193">Проверьте, обеспечивает ли механизм проверки подлинности следующее:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-193">Test for:</span></span></p><ul><li><span data-ttu-id="2ae5d-194">защиту привилегированных ресурсов после неудачных попыток входа;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-194">Protection of privileged resources after failed logins</span></span></li><li><span data-ttu-id="2ae5d-195">отображение общего сообщения об ошибке после неудачной проверки подлинности и запрета доступа;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-195">A generic error message is displayed on failed authentication and access denied event(s)</span></span></li><li><span data-ttu-id="2ae5d-196">отключение учетных записей после слишком большого количества неудачных попыток.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-196">Accounts are disabled after an excessive number of failed attempts</span></span></li><ul>|

## <span data-ttu-id="2ae5d-197"><a id="step-up-adaptive-authn"></a>Включите проверку подлинности повышенного уровня или адаптивную проверку подлинности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-197"><a id="step-up-adaptive-authn"></a>Enable step up or adaptive authentication</span></span>

| <span data-ttu-id="2ae5d-198">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-198">Title</span></span>                   | <span data-ttu-id="2ae5d-199">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-199">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-200">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-200">**Component**</span></span>               | <span data-ttu-id="2ae5d-201">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="2ae5d-201">Web Application</span></span> | 
| <span data-ttu-id="2ae5d-202">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-202">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-203">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-203">Build</span></span> |  
| <span data-ttu-id="2ae5d-204">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-204">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-205">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-205">Generic</span></span> |
| <span data-ttu-id="2ae5d-206">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-206">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-207">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-207">N/A</span></span>  |
| <span data-ttu-id="2ae5d-208">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-208">**References**</span></span>              | <span data-ttu-id="2ae5d-209">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-209">N/A</span></span>  |
| <span data-ttu-id="2ae5d-210">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-210">Details</span></span> | <p><span data-ttu-id="2ae5d-211">Проверьте приложение hello имеет дополнительные авторизации (такие как шаг или адаптивной аутентификации, многофакторной проверки подлинности, например, отправку SMS, электронной почты и т.д. или ожидает повторной проверки подлинности OTP), является вызваны hello пользователя до предоставления им доступа сведения о toosensitive.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-211">Verify hello application has additional authorization (such as step up or adaptive authentication, via multi-factor authentication such as sending OTP in SMS, email etc. or prompting for re-authentication) so hello user is challenged before being granted access toosensitive information.</span></span> <span data-ttu-id="2ae5d-212">Это правило также применяется для создания учетной записи tooan критически важных изменений или действие</span><span class="sxs-lookup"><span data-stu-id="2ae5d-212">This rule also applies for making critical changes tooan account or action</span></span></p><p><span data-ttu-id="2ae5d-213">Это также означает, что адаптации hello проверки подлинности имеет toobe реализован таким способом, которые приложение hello правильно применяются контекстно-зависимое авторизации так, чтобы toonot разрешить несанкционированные манипуляции с помощью параметра в примере несанкционированное изменение параметров</span><span class="sxs-lookup"><span data-stu-id="2ae5d-213">This also means that hello adaptation of authentication has toobe implemented in such a manner that hello application correctly enforces context-sensitive authorization so as toonot allow unauthorized manipulation by means of in example, parameter tampering</span></span></p>|

## <span data-ttu-id="2ae5d-214"><a id="admin-interface-lockdown"></a>Интерфейсы администрирования должны быть заблокированы соответствующим образом</span><span class="sxs-lookup"><span data-stu-id="2ae5d-214"><a id="admin-interface-lockdown"></a>Ensure that administrative interfaces are appropriately locked down</span></span>

| <span data-ttu-id="2ae5d-215">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-215">Title</span></span>                   | <span data-ttu-id="2ae5d-216">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-216">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-217">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-217">**Component**</span></span>               | <span data-ttu-id="2ae5d-218">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="2ae5d-218">Web Application</span></span> | 
| <span data-ttu-id="2ae5d-219">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-219">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-220">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-220">Build</span></span> |  
| <span data-ttu-id="2ae5d-221">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-221">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-222">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-222">Generic</span></span> |
| <span data-ttu-id="2ae5d-223">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-223">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-224">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-224">N/A</span></span>  |
| <span data-ttu-id="2ae5d-225">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-225">**References**</span></span>              | <span data-ttu-id="2ae5d-226">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-226">N/A</span></span>  |
| <span data-ttu-id="2ae5d-227">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-227">Details</span></span> | <span data-ttu-id="2ae5d-228">Первое решение Hello — toogrant доступ только из определенного источника IP диапазон toohello административный интерфейс.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-228">hello first solution is toogrant access only from a certain source IP range toohello administrative interface.</span></span> <span data-ttu-id="2ae5d-229">Если это решение нельзя сделать не всегда рекомендуется tooenforce повышение или Адаптивная проверки подлинности для входа административном интерфейсе hello</span><span class="sxs-lookup"><span data-stu-id="2ae5d-229">If that solution would not be possible than it is always recommended tooenforce a step-up or adaptive authentication for logging in into hello administrative interface</span></span> |

## <span data-ttu-id="2ae5d-230"><a id="forgot-pword-fxn"></a>Реализуйте безопасный механизм восстановления пароля</span><span class="sxs-lookup"><span data-stu-id="2ae5d-230"><a id="forgot-pword-fxn"></a>Implement forgot password functionalities securely</span></span>

| <span data-ttu-id="2ae5d-231">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-231">Title</span></span>                   | <span data-ttu-id="2ae5d-232">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-232">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-233">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-233">**Component**</span></span>               | <span data-ttu-id="2ae5d-234">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="2ae5d-234">Web Application</span></span> | 
| <span data-ttu-id="2ae5d-235">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-235">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-236">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-236">Build</span></span> |  
| <span data-ttu-id="2ae5d-237">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-237">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-238">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-238">Generic</span></span> |
| <span data-ttu-id="2ae5d-239">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-239">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-240">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-240">N/A</span></span>  |
| <span data-ttu-id="2ae5d-241">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-241">**References**</span></span>              | <span data-ttu-id="2ae5d-242">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-242">N/A</span></span>  |
| <span data-ttu-id="2ae5d-243">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-243">Details</span></span> | <p><span data-ttu-id="2ae5d-244">Первое, что Hello — tooverify, забыли пароль и другие пути восстановления отправки ссылки, включая временными активации токена, а не hello пароль сам.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-244">hello first thing is tooverify that forgot password and other recovery paths send a link including a time-limited activation token rather than hello password itself.</span></span> <span data-ttu-id="2ae5d-245">Дополнительная проверка подлинности на основе токенов программной (например, SMS маркера мобильного приложения, т. д.) может быть обязательной также перед отправкой через ссылку hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-245">Additional authentication based on soft-tokens (e.g. SMS token, native mobile applications, etc.) can be required as well before hello link is sent over.</span></span> <span data-ttu-id="2ae5d-246">Во-вторых вы должны не блокировки hello пользователи учетной записи во время процесса hello получения нового пароля идет.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-246">Second, you should not lock out hello users account whilst hello process of getting a new password is in progress.</span></span></p><p><span data-ttu-id="2ae5d-247">Это может привести к tooa атаки отказа в обслуживании, каждый раз, когда он решает блокировки toointentionally hello пользователей с автоматическую атаку.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-247">This could lead tooa Denial of service attack whenever an attacker decides toointentionally lock out hello users with an automated attack.</span></span> <span data-ttu-id="2ae5d-248">В-третьих каждый раз, когда выполняется был задан новый пароль запрос hello, приветственное сообщение, которые отображены следует обобщить перечисления username tooprevent заказа.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-248">Third, whenever hello new password request was set in progress, hello message you display should be generalized in order tooprevent username enumeration.</span></span> <span data-ttu-id="2ae5d-249">В-четвертых всегда запретить использование старых паролей hello и реализуйте политику надежных паролей.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-249">Fourth, always disallow hello use of old passwords and implement a strong password policy.</span></span></p> |

## <span data-ttu-id="2ae5d-250"><a id="pword-account-policy"></a>Настройте применение политик учетных записей и паролей</span><span class="sxs-lookup"><span data-stu-id="2ae5d-250"><a id="pword-account-policy"></a>Ensure that password and account policy are implemented</span></span>

| <span data-ttu-id="2ae5d-251">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-251">Title</span></span>                   | <span data-ttu-id="2ae5d-252">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-253">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-253">**Component**</span></span>               | <span data-ttu-id="2ae5d-254">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="2ae5d-254">Web Application</span></span> | 
| <span data-ttu-id="2ae5d-255">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-255">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-256">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-256">Build</span></span> |  
| <span data-ttu-id="2ae5d-257">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-257">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-258">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-258">Generic</span></span> |
| <span data-ttu-id="2ae5d-259">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-259">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-260">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-260">N/A</span></span>  |
| <span data-ttu-id="2ae5d-261">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-261">**References**</span></span>              | <span data-ttu-id="2ae5d-262">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-262">N/A</span></span>  |
| <span data-ttu-id="2ae5d-263">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-263">Details</span></span> | <p><span data-ttu-id="2ae5d-264">Политика паролей и учетных записей должна быть реализована в соответствии с политикой организации и рекомендациями.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-264">Password and account policy in compliance with organizational policy and best practices should be implemented.</span></span></p><p><span data-ttu-id="2ae5d-265">toodefend от подбора и словаря на основе угадывания: политики надежных паролей должно быть реализовано tooensure, что пользователи создавать сложный пароль (например, минимальная длина 12 символов, буквы и специальные символы).</span><span class="sxs-lookup"><span data-stu-id="2ae5d-265">toodefend against brute-force and dictionary based guessing: Strong password policy must be implemented tooensure that users create complex password (e.g., 12 characters minimum length, alphanumeric and special characters).</span></span></p><p><span data-ttu-id="2ae5d-266">Политики блокировки учетных записей могут использоваться следующие способом hello:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-266">Account lockout policies may be implemented in hello following manner:</span></span></p><ul><li><span data-ttu-id="2ae5d-267">**Мягкая блокировка.** Может быть хорошим вариантом для защиты пользователей от атак методом прямого подбора.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-267">**Soft lock-out:** This can be a good option for protecting your users against brute force attacks.</span></span> <span data-ttu-id="2ae5d-268">Например каждый раз, когда hello пользователь вводит неправильный пароль приложения hello три раза может блокировки hello учетной записи на одну минуту, в порядке tooslow вниз hello процесс принудительного свой пароль, сделав его меньше рентабельности для hello злоумышленник tooproceed грубой;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-268">For example, whenever hello user enters a wrong password three times hello application could lock down hello account for a minute in order tooslow down hello process of brute forcing his password making it less profitable for hello attacker tooproceed.</span></span> <span data-ttu-id="2ae5d-269">Это бы tooimplement жестких противодействия блокировки для этого примера бы добиться a «Dos», без возможности восстановления блокировки учетных записей.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-269">If u were tooimplement hard lock-out countermeasures for this example you would achieve a "Dos" by permanently locking out accounts.</span></span> <span data-ttu-id="2ae5d-270">Кроме того, приложение может создать OTP (один раз пароль) и отправлять их по каналу (по электронной почте, sms и т.д.) toohello пользователя.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-270">Alternatively, application may generate an OTP (One Time Password) and send it out-of-band (through email, sms etc.) toohello user.</span></span> <span data-ttu-id="2ae5d-271">Другой подход может быть tooimplement CAPTCHA, по достижении порогового значения числа неудачных попыток входа.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-271">Another approach may be tooimplement CAPTCHA after a threshold number of failed attempts is reached.</span></span></li><li><span data-ttu-id="2ae5d-272">**Жесткие блокировки:** этого типа блокировки должны применяться при каждом определить пользователя, для взлома приложения и счетчика ему посредством окончательно блокировки учетной записи пока группы реагирования toodo время их расследований.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-272">**Hard lock-out:** This type of lockout should be applied whenever you detect a user attacking your application and counter him by means of permanently locking out his account until a response team had time toodo their forensics.</span></span> <span data-ttu-id="2ae5d-273">После этого процесса можно решить toogive обратно hello пользователя учетной записи или принимать дальнейшей юридических действия, выполняемые с ним.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-273">After this process you can decide toogive hello user back his account or take further legal actions against him.</span></span> <span data-ttu-id="2ae5d-274">Такой подход не позволяет злоумышленнику hello дальнейшей penetrating приложений и инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-274">This type of approach prevents hello attacker from further penetrating your application and infrastructure.</span></span></li></ul><p><span data-ttu-id="2ae5d-275">toodefend от атак на прогнозируемый учетными записями и по умолчанию убедитесь, что все ключи и пароли можно заменить и создаются или заменяет время установки.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-275">toodefend against attacks on default and predictable accounts, verify that all keys and passwords are replaceable, and are generated or replaced after installation time.</span></span></p><p><span data-ttu-id="2ae5d-276">Если приложения hello tooauto-формирования паролей, гарантировать hello созданные пароли носят случайный характер и с высокой энтропией.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-276">If hello application has tooauto-generate passwords, ensure that hello generated passwords are random and have high entropy.</span></span></p>|

## <span data-ttu-id="2ae5d-277"><a id="controls-username-enum"></a>Реализация элементов управления tooprevent username перечисления</span><span class="sxs-lookup"><span data-stu-id="2ae5d-277"><a id="controls-username-enum"></a>Implement controls tooprevent username enumeration</span></span>

| <span data-ttu-id="2ae5d-278">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-278">Title</span></span>                   | <span data-ttu-id="2ae5d-279">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-279">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-280">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-280">**Component**</span></span>               | <span data-ttu-id="2ae5d-281">Веб-приложение</span><span class="sxs-lookup"><span data-stu-id="2ae5d-281">Web Application</span></span> | 
| <span data-ttu-id="2ae5d-282">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-282">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-283">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-283">Build</span></span> |  
| <span data-ttu-id="2ae5d-284">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-284">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-285">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-285">Generic</span></span> |
| <span data-ttu-id="2ae5d-286">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-286">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-287">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-287">N/A</span></span>  |
| <span data-ttu-id="2ae5d-288">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-288">**References**</span></span>              | <span data-ttu-id="2ae5d-289">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-289">N/A</span></span>  |
| <span data-ttu-id="2ae5d-290">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-290">**Steps**</span></span> | <span data-ttu-id="2ae5d-291">Все сообщения об ошибках следует обобщить перечисления username tooprevent заказа.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-291">All error messages should be generalized in order tooprevent username enumeration.</span></span> <span data-ttu-id="2ae5d-292">Иногда не удается избежать утечки информации при использовании определенного компонента или функции, например страницы регистрации пользователя.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-292">Also sometimes you cannot avoid information leaking in functionalities such as a registration page.</span></span> <span data-ttu-id="2ae5d-293">Здесь требуется toouse ограничение скорости таких методов, как CAPTCHA tooprevent автоматические атаки злоумышленником.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-293">Here you need toouse rate-limiting methods like CAPTCHA tooprevent an automated attack by an attacker.</span></span> |

## <span data-ttu-id="2ae5d-294"><a id="win-authn-sql"></a>По возможности используйте проверку подлинности Windows для подключения tooSQL сервера</span><span class="sxs-lookup"><span data-stu-id="2ae5d-294"><a id="win-authn-sql"></a>When possible, use Windows Authentication for connecting tooSQL Server</span></span>

| <span data-ttu-id="2ae5d-295">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-295">Title</span></span>                   | <span data-ttu-id="2ae5d-296">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-296">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-297">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-297">**Component**</span></span>               | <span data-ttu-id="2ae5d-298">База данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-298">Database</span></span> | 
| <span data-ttu-id="2ae5d-299">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-299">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-300">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-300">Build</span></span> |  
| <span data-ttu-id="2ae5d-301">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-301">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-302">Локальные</span><span class="sxs-lookup"><span data-stu-id="2ae5d-302">OnPrem</span></span> |
| <span data-ttu-id="2ae5d-303">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-303">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-304">Версия SQL: все</span><span class="sxs-lookup"><span data-stu-id="2ae5d-304">SQL Version - All</span></span> |
| <span data-ttu-id="2ae5d-305">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-305">**References**</span></span>              | [<span data-ttu-id="2ae5d-306">Выбор режима проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-306">SQL Server - Choose an Authentication Mode</span></span>](https://msdn.microsoft.com/library/ms144284.aspx) |
| <span data-ttu-id="2ae5d-307">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-307">**Steps**</span></span> | <span data-ttu-id="2ae5d-308">Проверка подлинности Windows использует протокол безопасности Kerberos, обеспечивает соблюдение политики паролей с учета toocomplexity проверки надежных паролей, поддерживает блокировку учетных записей и позволяет истечение срока действия пароля.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-308">Windows Authentication uses Kerberos security protocol, provides password policy enforcement with regard toocomplexity validation for strong passwords, provides support for account lockout, and supports password expiration.</span></span>|

## <span data-ttu-id="2ae5d-309"><a id="aad-authn-sql"></a>По возможности используйте проверку подлинности Azure Active Directory для tooSQL подключение базы данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-309"><a id="aad-authn-sql"></a>When possible use Azure Active Directory Authentication for Connecting tooSQL Database</span></span>

| <span data-ttu-id="2ae5d-310">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-310">Title</span></span>                   | <span data-ttu-id="2ae5d-311">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-311">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-312">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-312">**Component**</span></span>               | <span data-ttu-id="2ae5d-313">База данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-313">Database</span></span> | 
| <span data-ttu-id="2ae5d-314">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-314">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-315">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-315">Build</span></span> |  
| <span data-ttu-id="2ae5d-316">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-316">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-317">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-317">SQL Azure</span></span> |
| <span data-ttu-id="2ae5d-318">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-318">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-319">Версия SQL: 12</span><span class="sxs-lookup"><span data-stu-id="2ae5d-319">SQL Version - V12</span></span> |
| <span data-ttu-id="2ae5d-320">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-320">**References**</span></span>              | [<span data-ttu-id="2ae5d-321">Подключение tooSQL базы данных с использованием Azure Active Directory проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-321">Connecting tooSQL Database By Using Azure Active Directory Authentication</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-aad-authentication/) |
| <span data-ttu-id="2ae5d-322">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-322">**Steps**</span></span> | <span data-ttu-id="2ae5d-323">**Минимальная версия:** базы данных SQL Azure V12 требуется база данных SQL Azure tooallow toouse проверки подлинности AAD для hello каталогов Microsoft</span><span class="sxs-lookup"><span data-stu-id="2ae5d-323">**Minimum version:** Azure SQL Database V12 required tooallow Azure SQL Database toouse AAD Authentication against hello Microsoft Directory</span></span> |

## <span data-ttu-id="2ae5d-324"><a id="authn-account-pword"></a>Если используется режим проверки подлинности SQL, обеспечьте применение политики учетных записей и паролей на сервере SQL Server</span><span class="sxs-lookup"><span data-stu-id="2ae5d-324"><a id="authn-account-pword"></a>When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>

| <span data-ttu-id="2ae5d-325">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-325">Title</span></span>                   | <span data-ttu-id="2ae5d-326">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-326">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-327">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-327">**Component**</span></span>               | <span data-ttu-id="2ae5d-328">База данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-328">Database</span></span> | 
| <span data-ttu-id="2ae5d-329">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-329">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-330">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-330">Build</span></span> |  
| <span data-ttu-id="2ae5d-331">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-331">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-332">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-332">Generic</span></span> |
| <span data-ttu-id="2ae5d-333">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-333">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-334">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-334">N/A</span></span>  |
| <span data-ttu-id="2ae5d-335">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-335">**References**</span></span>              | <span data-ttu-id="2ae5d-336">[Политика паролей](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-336">[SQL Server password policy](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span></span> |
| <span data-ttu-id="2ae5d-337">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-337">**Steps**</span></span> | <span data-ttu-id="2ae5d-338">При использовании проверки подлинности SQL Server создаются имена входа, которые не основаны на учетных записях Windows.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-338">When using SQL Server Authentication, logins are created in SQL Server that are not based on Windows user accounts.</span></span> <span data-ttu-id="2ae5d-339">Hello имя пользователя и пароль hello создаются с помощью SQL Server и хранящихся в SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-339">Both hello user name and hello password are created by using SQL Server and stored in SQL Server.</span></span> <span data-ttu-id="2ae5d-340">SQL Server может использовать механизмы политики паролей Windows.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-340">SQL Server can use Windows password policy mechanisms.</span></span> <span data-ttu-id="2ae5d-341">Оно может применять hello же политики сложности и истечения срока действия, используемые в Windows toopasswords, используемым в SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-341">It can apply hello same complexity and expiration policies used in Windows toopasswords used inside SQL Server.</span></span> |

## <span data-ttu-id="2ae5d-342"><a id="autn-contained-db"></a>Не используйте проверку подлинности SQL в автономных базах данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-342"><a id="autn-contained-db"></a>Do not use SQL Authentication in contained databases</span></span>

| <span data-ttu-id="2ae5d-343">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-343">Title</span></span>                   | <span data-ttu-id="2ae5d-344">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-344">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-345">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-345">**Component**</span></span>               | <span data-ttu-id="2ae5d-346">База данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-346">Database</span></span> | 
| <span data-ttu-id="2ae5d-347">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-347">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-348">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-348">Build</span></span> |  
| <span data-ttu-id="2ae5d-349">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-349">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-350">Локальное, SQL Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-350">OnPrem, SQL Azure</span></span> |
| <span data-ttu-id="2ae5d-351">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-351">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-352">Версия SQL: MSSQL2012, версия SQL: 12</span><span class="sxs-lookup"><span data-stu-id="2ae5d-352">SQL Version - MSSQL2012, SQL Version - V12</span></span> |
| <span data-ttu-id="2ae5d-353">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-353">**References**</span></span>              | [<span data-ttu-id="2ae5d-354">Рекомендации по обеспечению безопасности автономных баз данных</span><span class="sxs-lookup"><span data-stu-id="2ae5d-354">Security Best Practices with Contained Databases</span></span>](http://msdn.microsoft.com/library/ff929055.aspx) |
| <span data-ttu-id="2ae5d-355">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-355">**Steps**</span></span> | <span data-ttu-id="2ae5d-356">отсутствие Hello политики принудительно пароль может увеличить вероятность hello слабых учетных данных, устанавливаемое в автономной базе данных.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-356">hello absence of an enforced password policy may increase hello likelihood of a weak credential being established in a contained database.</span></span> <span data-ttu-id="2ae5d-357">Используйте проверку подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-357">Leverage Windows Authentication.</span></span> |

## <span data-ttu-id="2ae5d-358"><a id="authn-sas-tokens"></a>Используйте учетные данные проверки подлинности на уровне отдельного устройства с помощью маркеров SaS</span><span class="sxs-lookup"><span data-stu-id="2ae5d-358"><a id="authn-sas-tokens"></a>Use per device authentication credentials using SaS tokens</span></span>

| <span data-ttu-id="2ae5d-359">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-359">Title</span></span>                   | <span data-ttu-id="2ae5d-360">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-360">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-361">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-361">**Component**</span></span>               | <span data-ttu-id="2ae5d-362">концентратору событий Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-362">Azure Event Hub</span></span> | 
| <span data-ttu-id="2ae5d-363">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-363">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-364">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-364">Build</span></span> |  
| <span data-ttu-id="2ae5d-365">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-365">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-366">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-366">Generic</span></span> |
| <span data-ttu-id="2ae5d-367">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-367">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-368">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-368">N/A</span></span>  |
| <span data-ttu-id="2ae5d-369">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-369">**References**</span></span>              | [<span data-ttu-id="2ae5d-370">Обзор проверки подлинности концентраторов событий и модели безопасности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-370">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="2ae5d-371">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-371">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-372">модель безопасности концентраторов событий Hello основан на сочетание маркеры подписи общего доступа (SAS) и издателей событий.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-372">hello Event Hubs security model is based on a combination of Shared Access Signature (SAS) tokens and event publishers.</span></span> <span data-ttu-id="2ae5d-373">Имя издателя Hello представляет hello DeviceID, получает маркер hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-373">hello publisher name represents hello DeviceID that receives hello token.</span></span> <span data-ttu-id="2ae5d-374">Это помогает связать hello токены, созданные с соответствующими устройствами hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-374">This would help associate hello tokens generated with hello respective devices.</span></span></p><p><span data-ttu-id="2ae5d-375">Все сообщения помечаются отправителем на стороне службы, что дает возможность обнаруживать попытки подделки происхождения в полезных данных.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-375">All messages are tagged with originator on service side allowing detection of in-payload origin spoofing attempts.</span></span> <span data-ttu-id="2ae5d-376">При проверке подлинности устройств, необходимо создать по издателю уникальный токен с областью tooa SaS устройств.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-376">When authenticating devices, generate a per device SaS token scoped tooa unique publisher.</span></span></p>|

## <span data-ttu-id="2ae5d-377"><a id="multi-factor-azure-admin"></a>Включите Многофакторную идентификацию Azure для администраторов Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-377"><a id="multi-factor-azure-admin"></a>Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>

| <span data-ttu-id="2ae5d-378">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-378">Title</span></span>                   | <span data-ttu-id="2ae5d-379">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-379">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-380">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-380">**Component**</span></span>               | <span data-ttu-id="2ae5d-381">Граница доверия Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-381">Azure Trust Boundary</span></span> | 
| <span data-ttu-id="2ae5d-382">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-382">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-383">Развертывание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-383">Deployment</span></span> |  
| <span data-ttu-id="2ae5d-384">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-384">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-385">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-385">Generic</span></span> |
| <span data-ttu-id="2ae5d-386">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-386">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-387">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-387">N/A</span></span>  |
| <span data-ttu-id="2ae5d-388">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-388">**References**</span></span>              | [<span data-ttu-id="2ae5d-389">Что такое Многофакторная идентификация Azure?</span><span class="sxs-lookup"><span data-stu-id="2ae5d-389">What is Azure Multi-Factor Authentication?</span></span>](https://azure.microsoft.com/documentation/articles/multi-factor-authentication/) |
| <span data-ttu-id="2ae5d-390">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-390">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-391">Многофакторная проверка подлинности (MFA) — это метод проверки подлинности, требующий более одного метода проверки и добавляющий важный второй уровень безопасности toouser входов и транзакций.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-391">Multi-factor authentication (MFA) is a method of authentication that requires more than one verification method and adds a critical second layer of security toouser sign-ins and transactions.</span></span> <span data-ttu-id="2ae5d-392">Для работы требуется любые два или более hello следующие методы проверки:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-392">It works by requiring any two or more of hello following verification methods:</span></span></p><ul><li><span data-ttu-id="2ae5d-393">Что-то, что известно вам (обычно это пароль).</span><span class="sxs-lookup"><span data-stu-id="2ae5d-393">Something you know (typically a password)</span></span></li><li><span data-ttu-id="2ae5d-394">Что-то, что у вас есть (доверенное устройство, которое непросто дублируется, такое как телефон).</span><span class="sxs-lookup"><span data-stu-id="2ae5d-394">Something you have (a trusted device that is not easily duplicated, like a phone)</span></span></li><li><span data-ttu-id="2ae5d-395">Что-то, относящееся непосредственно к вам (биометрические данные).</span><span class="sxs-lookup"><span data-stu-id="2ae5d-395">Something you are (biometrics)</span></span></li><ul>|

## <span data-ttu-id="2ae5d-396"><a id="anon-access-cluster"></a>Ограничить анонимный доступ tooService кластера Fabric</span><span class="sxs-lookup"><span data-stu-id="2ae5d-396"><a id="anon-access-cluster"></a>Restrict anonymous access tooService Fabric Cluster</span></span>

| <span data-ttu-id="2ae5d-397">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-397">Title</span></span>                   | <span data-ttu-id="2ae5d-398">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-398">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-399">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-399">**Component**</span></span>               | <span data-ttu-id="2ae5d-400">Граница доверия Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2ae5d-400">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="2ae5d-401">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-401">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-402">Развертывание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-402">Deployment</span></span> |  
| <span data-ttu-id="2ae5d-403">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-403">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-404">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-404">Generic</span></span> |
| <span data-ttu-id="2ae5d-405">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-405">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-406">Среда: Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-406">Environment - Azure</span></span>  |
| <span data-ttu-id="2ae5d-407">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-407">**References**</span></span>              | [<span data-ttu-id="2ae5d-408">Сценарии защиты кластера Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2ae5d-408">Service Fabric cluster security scenarios</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security) |
| <span data-ttu-id="2ae5d-409">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-409">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-410">Кластеры всегда должно быть защищенной tooprevent несанкционированный пользователей подключение кластера tooyour, особенно в том случае, если он имеет рабочих нагрузок, запущенными на нем.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-410">Clusters should always be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span></p><p><span data-ttu-id="2ae5d-411">При создании кластера service fabric, убедитесь, что режим безопасности hello задано слишком «безопасность» и настройте сертификат X.509 необходимые hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-411">While creating a service fabric cluster, ensure that hello security mode is set too"secure" and configure hello required X.509 server certificate.</span></span> <span data-ttu-id="2ae5d-412">Создание кластера «небезопасного» будет разрешить любые tooit tooconnect анонимного пользователя, если он предоставляет toohello конечные точки управления общедоступный Интернет.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-412">Creating an "insecure" cluster will allow any anonymous user tooconnect tooit if it exposes management endpoints toohello public Internet.</span></span></p>|

## <span data-ttu-id="2ae5d-413"><a id="fabric-cn-nn"></a>Сертификат Service Fabric для обмена данными между клиентом и узлом должен отличаться от простого сертификата для обмена данными между узлами</span><span class="sxs-lookup"><span data-stu-id="2ae5d-413"><a id="fabric-cn-nn"></a>Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>

| <span data-ttu-id="2ae5d-414">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-414">Title</span></span>                   | <span data-ttu-id="2ae5d-415">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-415">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-416">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-416">**Component**</span></span>               | <span data-ttu-id="2ae5d-417">Граница доверия Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2ae5d-417">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="2ae5d-418">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-418">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-419">Развертывание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-419">Deployment</span></span> |  
| <span data-ttu-id="2ae5d-420">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-420">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-421">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-421">Generic</span></span> |
| <span data-ttu-id="2ae5d-422">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-422">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-423">Среда: Azure, автономная</span><span class="sxs-lookup"><span data-stu-id="2ae5d-423">Environment - Azure, Environment - Stand alone</span></span> |
| <span data-ttu-id="2ae5d-424">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-424">**References**</span></span>              | <span data-ttu-id="2ae5d-425">[Защита с помощью сертификата клиента для узла Service Fabric](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [кластера безопасного tooa подключение с использованием сертификата клиента](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-425">[Service Fabric Client-to-node certificate security](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [Connect tooa secure cluster using client certificate](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span></span> |
| <span data-ttu-id="2ae5d-426">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-426">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-427">При создании кластера hello либо с помощью портала Azure hello, шаблоны диспетчера ресурсов или автономного шаблона JSON, указав сертификат клиента администратора и/или сертификат клиента пользователя настроена защита с помощью сертификата клиента для узла.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-427">Client-to-node certificate security is configured while creating hello cluster either through hello Azure portal, Resource Manager templates or a standalone JSON template by specifying an admin client certificate and/or a user client certificate.</span></span></p><p><span data-ttu-id="2ae5d-428">Hello клиента и пользователя сертификаты клиента администратора указываемые должна отличаться от hello первичные и вторичные сертификаты, указанные для безопасности узла на узел.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-428">hello admin client and user client certificates you specify should be different than hello primary and secondary certificates you specify for Node-to-node security.</span></span></p>|

## <span data-ttu-id="2ae5d-429"><a id="aad-client-fabric"></a>Использовать AAD tooauthenticate клиенты tooservice структуры кластеров</span><span class="sxs-lookup"><span data-stu-id="2ae5d-429"><a id="aad-client-fabric"></a>Use AAD tooauthenticate clients tooservice fabric clusters</span></span>

| <span data-ttu-id="2ae5d-430">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-430">Title</span></span>                   | <span data-ttu-id="2ae5d-431">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-431">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-432">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-432">**Component**</span></span>               | <span data-ttu-id="2ae5d-433">Граница доверия Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2ae5d-433">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="2ae5d-434">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-434">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-435">Развертывание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-435">Deployment</span></span> |  
| <span data-ttu-id="2ae5d-436">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-436">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-437">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-437">Generic</span></span> |
| <span data-ttu-id="2ae5d-438">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-438">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-439">Среда: Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-439">Environment - Azure</span></span> |
| <span data-ttu-id="2ae5d-440">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-440">**References**</span></span>              | [<span data-ttu-id="2ae5d-441">Рекомендации по обеспечению безопасности</span><span class="sxs-lookup"><span data-stu-id="2ae5d-441">Cluster security scenarios - Security Recommendations</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#security-recommendations) |
| <span data-ttu-id="2ae5d-442">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-442">**Steps**</span></span> | <span data-ttu-id="2ae5d-443">Кластеров под управлением Azure для защиты доступа к toohello конечные точки управления с помощью Azure Active Directory (AAD), помимо клиентские сертификаты.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-443">Clusters running on Azure can also secure access toohello management endpoints using Azure Active Directory (AAD), apart from client certificates.</span></span> <span data-ttu-id="2ae5d-444">Кластеры Azure рекомендуется использовать клиенты tooauthenticate AAD безопасности и сертификаты для безопасности узла на узел.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-444">For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>|

## <span data-ttu-id="2ae5d-445"><a id="fabric-cert-ca"></a>Нужно использовать сертификаты Service Fabric, полученные из утвержденного Центра сертификации</span><span class="sxs-lookup"><span data-stu-id="2ae5d-445"><a id="fabric-cert-ca"></a>Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>

| <span data-ttu-id="2ae5d-446">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-446">Title</span></span>                   | <span data-ttu-id="2ae5d-447">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-447">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-448">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-448">**Component**</span></span>               | <span data-ttu-id="2ae5d-449">Граница доверия Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2ae5d-449">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="2ae5d-450">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-450">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-451">Развертывание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-451">Deployment</span></span> |  
| <span data-ttu-id="2ae5d-452">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-452">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-453">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-453">Generic</span></span> |
| <span data-ttu-id="2ae5d-454">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-454">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-455">Среда: Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-455">Environment - Azure</span></span> |
| <span data-ttu-id="2ae5d-456">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-456">**References**</span></span>              | [<span data-ttu-id="2ae5d-457">Сертификаты X.509 и Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2ae5d-457">X.509 certificates and Service Fabric</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#x509-certificates-and-service-fabric) |
| <span data-ttu-id="2ae5d-458">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-458">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-459">Для проверки подлинности узлов и клиентов Service Fabric использует сертификаты сервера X.509.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-459">Service Fabric uses X.509 server certificates for authenticating nodes and clients.</span></span></p><p><span data-ttu-id="2ae5d-460">Tooconsider некоторые важные моменты при использовании сертификатов в службе структур:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-460">Some important things tooconsider while using certificates in service fabrics:</span></span></p><ul><li><span data-ttu-id="2ae5d-461">Сертификаты, которые используются в кластерах, выполняющих рабочие нагрузки в рабочей среде, следует создать с помощью правильно настроенной службы сертификации Windows Server или получить из утвержденного центра сертификации.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-461">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span> <span data-ttu-id="2ae5d-462">Hello ЦС может быть утвержденных внешнего центра сертификации или правильно управляемого внутренней инфраструктуры открытых ключей (PKI)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-462">hello CA can be an approved external CA or a properly managed internal Public Key Infrastructure (PKI)</span></span></li><li><span data-ttu-id="2ae5d-463">Никогда не используйте в рабочей среде какие-либо временные или тестовые сертификаты, созданные с помощью таких инструментов, как MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-463">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe</span></span></li><li><span data-ttu-id="2ae5d-464">Можно использовать самозаверяющий сертификат, но это следует делать только для тестовых кластеров, а не в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-464">You can use a self-signed certificate, but should only do so for test clusters and not in production</span></span></li></ul>|

## <span data-ttu-id="2ae5d-465"><a id="standard-authn-id"></a>Используйте стандартные сценарии проверки подлинности, поддерживаемые сервером удостоверений</span><span class="sxs-lookup"><span data-stu-id="2ae5d-465"><a id="standard-authn-id"></a>Use standard authentication scenarios supported by Identity Server</span></span>

| <span data-ttu-id="2ae5d-466">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-466">Title</span></span>                   | <span data-ttu-id="2ae5d-467">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-467">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-468">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-468">**Component**</span></span>               | <span data-ttu-id="2ae5d-469">Сервер удостоверений</span><span class="sxs-lookup"><span data-stu-id="2ae5d-469">Identity Server</span></span> | 
| <span data-ttu-id="2ae5d-470">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-470">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-471">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-471">Build</span></span> |  
| <span data-ttu-id="2ae5d-472">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-472">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-473">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-473">Generic</span></span> |
| <span data-ttu-id="2ae5d-474">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-474">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-475">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-475">N/A</span></span>  |
| <span data-ttu-id="2ae5d-476">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-476">**References**</span></span>              | [<span data-ttu-id="2ae5d-477">IdentityServer3 - hello общую картину</span><span class="sxs-lookup"><span data-stu-id="2ae5d-477">IdentityServer3 - hello Big Picture</span></span>](https://identityserver.github.io/Documentation/docsv2/overview/bigPicture.html) |
| <span data-ttu-id="2ae5d-478">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-478">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-479">Ниже приведены типичные варианты взаимодействия машин, поддерживаемых сервером удостоверение hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-479">Below are hello typical interactions supported by Identity Server:</span></span></p><ul><li><span data-ttu-id="2ae5d-480">Браузеры взаимодействуют с веб-приложениями.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-480">Browsers communicate with web applications</span></span></li><li><span data-ttu-id="2ae5d-481">Веб-приложения взаимодействуют с веб-API (иногда самостоятельно, иногда от имени пользователя).</span><span class="sxs-lookup"><span data-stu-id="2ae5d-481">Web applications communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li><li><span data-ttu-id="2ae5d-482">Браузерные приложения взаимодействуют с веб-API.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-482">Browser-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="2ae5d-483">Собственные приложения взаимодействуют с веб-API.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-483">Native applications communicate with web APIs</span></span></li><li><span data-ttu-id="2ae5d-484">Серверные приложения взаимодействуют с веб-API.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-484">Server-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="2ae5d-485">Веб-API взаимодействуют с веб-API (иногда самостоятельно, иногда от имени пользователя).</span><span class="sxs-lookup"><span data-stu-id="2ae5d-485">Web APIs communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li></ul>|

## <span data-ttu-id="2ae5d-486"><a id="override-token"></a>Переопределить hello по умолчанию удостоверение сервера кэша маркера масштабируемой альтернативой</span><span class="sxs-lookup"><span data-stu-id="2ae5d-486"><a id="override-token"></a>Override hello default Identity Server token cache with a scalable alternative</span></span>

| <span data-ttu-id="2ae5d-487">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-487">Title</span></span>                   | <span data-ttu-id="2ae5d-488">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-488">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-489">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-489">**Component**</span></span>               | <span data-ttu-id="2ae5d-490">Сервер удостоверений</span><span class="sxs-lookup"><span data-stu-id="2ae5d-490">Identity Server</span></span> | 
| <span data-ttu-id="2ae5d-491">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-491">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-492">Развертывание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-492">Deployment</span></span> |  
| <span data-ttu-id="2ae5d-493">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-493">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-494">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-494">Generic</span></span> |
| <span data-ttu-id="2ae5d-495">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-495">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-496">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-496">N/A</span></span>  |
| <span data-ttu-id="2ae5d-497">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-497">**References**</span></span>              | [<span data-ttu-id="2ae5d-498">Развертывание сервера удостоверений. Кэширование</span><span class="sxs-lookup"><span data-stu-id="2ae5d-498">Identity Server Deployment - Caching</span></span>](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html) |
| <span data-ttu-id="2ae5d-499">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-499">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-500">Сервер удостоверений имеет простой встроенный кэш, работающий в памяти.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-500">IdentityServer has a simple built-in in-memory cache.</span></span> <span data-ttu-id="2ae5d-501">Это хорошо подходит для небольших крупномасштабных приложений в машинном коде, он не является масштабируемым mid и уровня сервера приложений для приложения hello следующих причин:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-501">While this is good for small scale native apps, it does not scale for mid tier and backend applications for hello following reasons:</span></span></p><ul><li><span data-ttu-id="2ae5d-502">Доступ к этим приложениям осуществляют несколько пользователей одновременно.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-502">These applications are accessed by many users at once.</span></span> <span data-ttu-id="2ae5d-503">Сохранение все токены доступа в hello одно хранилище создает изоляции проблем и представляет трудности при работе в масштабе: много пользователей, каждый из которых столько маркеры как ресурсы hello hello обращений приложения от их имени может означать огромное и очень дорого Уточняющий запрос операции</span><span class="sxs-lookup"><span data-stu-id="2ae5d-503">Saving all access tokens in hello same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as hello resources hello app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="2ae5d-504">Эти приложения обычно развертываются на распределенных топологиях, где несколько узлов должен иметь доступ toohello же кэша</span><span class="sxs-lookup"><span data-stu-id="2ae5d-504">These applications are typically deployed on distributed topologies, where multiple nodes must have access toohello same cache</span></span></li><li><span data-ttu-id="2ae5d-505">Кэшированные маркеры должны выдерживать перезапуски и деактивации процесса.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-505">Cached tokens must survive process recycles and deactivations</span></span></li><li><span data-ttu-id="2ae5d-506">Для всех hello выше причин, при реализации веб-приложений рекомендуется кэша маркера по умолчанию удостоверение toooverride hello Server масштабируемой другое изображение, например для кэша Azure Redis</span><span class="sxs-lookup"><span data-stu-id="2ae5d-506">For all hello above reasons, while implementing web apps, it is recommended toooverride hello default Identity Server's token cache with a scalable alternative such as Azure Redis cache</span></span></li></ul>|

## <span data-ttu-id="2ae5d-507"><a id="binaries-signed"></a>Двоичные файлы развернутого приложения должны иметь цифровую подпись</span><span class="sxs-lookup"><span data-stu-id="2ae5d-507"><a id="binaries-signed"></a>Ensure that deployed application's binaries are digitally signed</span></span>

| <span data-ttu-id="2ae5d-508">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-508">Title</span></span>                   | <span data-ttu-id="2ae5d-509">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-509">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-510">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-510">**Component**</span></span>               | <span data-ttu-id="2ae5d-511">Отношения доверия между компьютерами</span><span class="sxs-lookup"><span data-stu-id="2ae5d-511">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="2ae5d-512">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-512">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-513">Развертывание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-513">Deployment</span></span> |  
| <span data-ttu-id="2ae5d-514">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-514">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-515">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-515">Generic</span></span> |
| <span data-ttu-id="2ae5d-516">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-516">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-517">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-517">N/A</span></span>  |
| <span data-ttu-id="2ae5d-518">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-518">**References**</span></span>              | <span data-ttu-id="2ae5d-519">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-519">N/A</span></span>  |
| <span data-ttu-id="2ae5d-520">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-520">**Steps**</span></span> | <span data-ttu-id="2ae5d-521">Убедитесь, цифровую подпись двоичные файлы развернутого приложения, можно проверить целостность hello hello двоичных файлов</span><span class="sxs-lookup"><span data-stu-id="2ae5d-521">Ensure that deployed application's binaries are digitally signed so that hello integrity of hello binaries can be verified</span></span>|

## <span data-ttu-id="2ae5d-522"><a id="msmq-queues"></a>Включение проверки подлинности при подключении tooMSMQ очереди в WCF</span><span class="sxs-lookup"><span data-stu-id="2ae5d-522"><a id="msmq-queues"></a>Enable authentication when connecting tooMSMQ queues in WCF</span></span>

| <span data-ttu-id="2ae5d-523">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-523">Title</span></span>                   | <span data-ttu-id="2ae5d-524">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-524">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-525">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-525">**Component**</span></span>               | <span data-ttu-id="2ae5d-526">WCF</span><span class="sxs-lookup"><span data-stu-id="2ae5d-526">WCF</span></span> | 
| <span data-ttu-id="2ae5d-527">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-527">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-528">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-528">Build</span></span> |  
| <span data-ttu-id="2ae5d-529">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-529">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-530">Универсальные, .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="2ae5d-530">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="2ae5d-531">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-531">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-532">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-532">N/A</span></span> |
| <span data-ttu-id="2ae5d-533">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-533">**References**</span></span>              | [<span data-ttu-id="2ae5d-534">MSDN</span><span class="sxs-lookup"><span data-stu-id="2ae5d-534">MSDN</span></span>](https://msdn.microsoft.com/library/ff648500.aspx) |
| <span data-ttu-id="2ae5d-535">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-535">**Steps**</span></span> | <span data-ttu-id="2ae5d-536">Программа не tooenable проверки подлинности при подключении tooMSMQ очередей, злоумышленник может отправить анонимно toohello сообщений в очереди для обработки.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-536">Program fails tooenable authentication when connecting tooMSMQ queues, an attacker can anonymously submit messages toohello queue for processing.</span></span> <span data-ttu-id="2ae5d-537">Если проверка подлинности не используется tooconnect tooan MSMQ очереди, используемой toodeliver программы tooanother сообщение, злоумышленник может подавать сообщение анонимные, вредоносных.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-537">If authentication is not used tooconnect tooan MSMQ queue used toodeliver a message tooanother program, an attacker could submit an anonymous message that is malicious.</span></span>|

### <a name="example"></a><span data-ttu-id="2ae5d-538">Пример</span><span class="sxs-lookup"><span data-stu-id="2ae5d-538">Example</span></span>
<span data-ttu-id="2ae5d-539">Hello `<netMsmqBinding/>` ниже файла конфигурации WCF hello указывает, что проверка подлинности toodisable WCF при подключении tooan очереди MSMQ для доставки сообщений.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-539">hello `<netMsmqBinding/>` element of hello WCF configuration file below instructs WCF toodisable authentication when connecting tooan MSMQ queue for message delivery.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""None"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```
<span data-ttu-id="2ae5d-540">Настройте проверку подлинности домена Windows или сертификат toorequire MSMQ постоянно наличие входящих или исходящих сообщений.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-540">Configure MSMQ toorequire Windows Domain or Certificate authentication at all times for any incoming or outgoing messages.</span></span>

### <a name="example"></a><span data-ttu-id="2ae5d-541">Пример</span><span class="sxs-lookup"><span data-stu-id="2ae5d-541">Example</span></span>
<span data-ttu-id="2ae5d-542">Hello `<netMsmqBinding/>` ниже файла конфигурации WCF hello указывает, что проверка подлинности сертификата tooenable WCF при подключении tooan очереди MSMQ.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-542">hello `<netMsmqBinding/>` element of hello WCF configuration file below instructs WCF tooenable certificate authentication when connecting tooan MSMQ queue.</span></span> <span data-ttu-id="2ae5d-543">Hello Клиент проходит проверку подлинности с использованием сертификатов X.509.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-543">hello client is authenticated using X.509 certificates.</span></span> <span data-ttu-id="2ae5d-544">Hello клиента сертификат должен присутствовать в хранилище сертификатов сервера hello hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-544">hello client certificate must be present in hello certificate store of hello server.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""Certificate"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```

## <span data-ttu-id="2ae5d-545"><a id="message-none"></a>Выполните WCF не задан сообщение toonone clientCredentialType</span><span class="sxs-lookup"><span data-stu-id="2ae5d-545"><a id="message-none"></a>WCF-Do not set Message clientCredentialType toonone</span></span>

| <span data-ttu-id="2ae5d-546">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-546">Title</span></span>                   | <span data-ttu-id="2ae5d-547">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-547">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-548">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-548">**Component**</span></span>               | <span data-ttu-id="2ae5d-549">WCF</span><span class="sxs-lookup"><span data-stu-id="2ae5d-549">WCF</span></span> | 
| <span data-ttu-id="2ae5d-550">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-550">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-551">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-551">Build</span></span> |  
| <span data-ttu-id="2ae5d-552">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-552">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-553">.NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="2ae5d-553">.NET Framework 3</span></span> |
| <span data-ttu-id="2ae5d-554">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-554">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-555">Тип учетных данных клиента: None</span><span class="sxs-lookup"><span data-stu-id="2ae5d-555">Client Credential Type - None</span></span> |
| <span data-ttu-id="2ae5d-556">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-556">**References**</span></span>              | <span data-ttu-id="2ae5d-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="2ae5d-558">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-558">**Steps**</span></span> | <span data-ttu-id="2ae5d-559">Hello отсутствие проверки подлинности означает все является может tooaccess этой службы.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-559">hello absence of authentication means everyone is able tooaccess this service.</span></span> <span data-ttu-id="2ae5d-560">Служба, которая не выполняет проверку подлинности клиентов доступ tooall пользователей.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-560">A service that does not authenticate its clients allows access tooall users.</span></span> <span data-ttu-id="2ae5d-561">Настройте tooauthenticate приложения hello для получения учетных данных клиента.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-561">Configure hello application tooauthenticate against client credentials.</span></span> <span data-ttu-id="2ae5d-562">Это можно сделать, задав tooWindows clientCredentialType сообщения hello или сертификата.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-562">This can be done by setting hello message clientCredentialType tooWindows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="2ae5d-563">Пример</span><span class="sxs-lookup"><span data-stu-id="2ae5d-563">Example</span></span>
```
<message clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="2ae5d-564"><a id="transport-none"></a>Выполните WCF не установлено toonone clientCredentialType транспорта</span><span class="sxs-lookup"><span data-stu-id="2ae5d-564"><a id="transport-none"></a>WCF-Do not set Transport clientCredentialType toonone</span></span>

| <span data-ttu-id="2ae5d-565">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-565">Title</span></span>                   | <span data-ttu-id="2ae5d-566">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-566">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-567">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-567">**Component**</span></span>               | <span data-ttu-id="2ae5d-568">WCF</span><span class="sxs-lookup"><span data-stu-id="2ae5d-568">WCF</span></span> | 
| <span data-ttu-id="2ae5d-569">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-569">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-570">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-570">Build</span></span> |  
| <span data-ttu-id="2ae5d-571">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-571">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-572">Универсальные, .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="2ae5d-572">Generic, .NET Framework 3</span></span> |
| <span data-ttu-id="2ae5d-573">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-573">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-574">Тип учетных данных клиента: None</span><span class="sxs-lookup"><span data-stu-id="2ae5d-574">Client Credential Type - None</span></span> |
| <span data-ttu-id="2ae5d-575">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-575">**References**</span></span>              | <span data-ttu-id="2ae5d-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="2ae5d-577">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-577">**Steps**</span></span> | <span data-ttu-id="2ae5d-578">Hello отсутствие проверки подлинности означает все является может tooaccess этой службы.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-578">hello absence of authentication means everyone is able tooaccess this service.</span></span> <span data-ttu-id="2ae5d-579">Служба, которая не выполняет проверку подлинности клиентов позволяет все пользователи tooaccess его функциональность.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-579">A service that does not authenticate its clients allows all users tooaccess its functionality.</span></span> <span data-ttu-id="2ae5d-580">Настройте tooauthenticate приложения hello для получения учетных данных клиента.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-580">Configure hello application tooauthenticate against client credentials.</span></span> <span data-ttu-id="2ae5d-581">Это можно сделать, задав tooWindows clientCredentialType hello транспорта или сертификата.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-581">This can be done by setting hello transport clientCredentialType tooWindows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="2ae5d-582">Пример</span><span class="sxs-lookup"><span data-stu-id="2ae5d-582">Example</span></span>
```
<transport clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="2ae5d-583"><a id="authn-secure-api"></a>Убедитесь, что методы стандартной проверки подлинности используется toosecure веб-API</span><span class="sxs-lookup"><span data-stu-id="2ae5d-583"><a id="authn-secure-api"></a>Ensure that standard authentication techniques are used toosecure Web APIs</span></span>

| <span data-ttu-id="2ae5d-584">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-584">Title</span></span>                   | <span data-ttu-id="2ae5d-585">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-585">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-586">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-586">**Component**</span></span>               | <span data-ttu-id="2ae5d-587">Веб-интерфейс API</span><span class="sxs-lookup"><span data-stu-id="2ae5d-587">Web API</span></span> | 
| <span data-ttu-id="2ae5d-588">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-588">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-589">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-589">Build</span></span> |  
| <span data-ttu-id="2ae5d-590">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-590">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-591">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-591">Generic</span></span> |
| <span data-ttu-id="2ae5d-592">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-592">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-593">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-593">N/A</span></span>  |
| <span data-ttu-id="2ae5d-594">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-594">**References**</span></span>              | <span data-ttu-id="2ae5d-595">[Проверка подлинности и авторизация в веб-API ASP.NET](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), [сведения о внешних службах проверки подлинности с веб-API ASP.NET (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-595">[Authentication and Authorization in ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), [External Authentication Services with ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services)</span></span> |
| <span data-ttu-id="2ae5d-596">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-596">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-597">Проверка подлинности — процесс hello, где сущность подтверждает свою подлинность, обычно с помощью учетных данных, таких как имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-597">Authentication is hello process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="2ae5d-598">Существует множество протоколов проверки подлинности,</span><span class="sxs-lookup"><span data-stu-id="2ae5d-598">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="2ae5d-599">включая следующие:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-599">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="2ae5d-600">Client certificates</span><span class="sxs-lookup"><span data-stu-id="2ae5d-600">Client certificates</span></span></li><li><span data-ttu-id="2ae5d-601">на основе Windows;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-601">Windows based</span></span></li><li><span data-ttu-id="2ae5d-602">на основе форм;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-602">Forms based</span></span></li><li><span data-ttu-id="2ae5d-603">федерация: ADFS;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-603">Federation - ADFS</span></span></li><li><span data-ttu-id="2ae5d-604">федерация: Azure AD;</span><span class="sxs-lookup"><span data-stu-id="2ae5d-604">Federation - Azure AD</span></span></li><li><span data-ttu-id="2ae5d-605">федерация: сервер удостоверений.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-605">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="2ae5d-606">В разделе references hello ссылкам низкоуровневые на как каждая из схем проверки подлинности hello могут быть реализованы toosecure веб-API.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-606">Links in hello references section provide low-level details on how each of hello authentication schemes can be implemented toosecure a Web API.</span></span></p>|

## <span data-ttu-id="2ae5d-607"><a id="authn-aad"></a>Используйте стандартные сценарии проверки подлинности, поддерживаемые Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="2ae5d-607"><a id="authn-aad"></a>Use standard authentication scenarios supported by Azure Active Directory</span></span>

| <span data-ttu-id="2ae5d-608">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-608">Title</span></span>                   | <span data-ttu-id="2ae5d-609">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-609">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-610">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-610">**Component**</span></span>               | <span data-ttu-id="2ae5d-611">Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-611">Azure AD</span></span> | 
| <span data-ttu-id="2ae5d-612">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-612">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-613">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-613">Build</span></span> |  
| <span data-ttu-id="2ae5d-614">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-614">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-615">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-615">Generic</span></span> |
| <span data-ttu-id="2ae5d-616">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-616">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-617">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-617">N/A</span></span>  |
| <span data-ttu-id="2ae5d-618">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-618">**References**</span></span>              | <span data-ttu-id="2ae5d-619">[Сценарии аутентификации в Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Примеры кода Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Руководство разработчика по Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-619">[Authentication Scenarios for Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Azure Active Directory Code Samples](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Azure Active Directory developer's guide](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span></span> |
| <span data-ttu-id="2ae5d-620">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-620">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-621">Azure Active Directory (Azure AD) упрощает аутентификацию для разработчиков, предоставляя удостоверение как услугу, благодаря поддержке стандартных протоколов, например OAuth 2.0 и OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-621">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect.</span></span> <span data-ttu-id="2ae5d-622">Ниже приведены пять основных сценариев приложений поддерживаемых Azure AD hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-622">Below are hello five primary application scenarios supported by Azure AD:</span></span></p><ul><li><span data-ttu-id="2ae5d-623">Веб-браузер tooWeb приложения: пользователю нужно toosign в tooa веб-приложение, защищенное Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-623">Web Browser tooWeb Application: A user needs toosign in tooa web application that is secured by Azure AD</span></span></li><li><span data-ttu-id="2ae5d-624">Одностраничного приложения (SPA): Пользователю требуется toosign в tooa одностраничное приложение, защищенное Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-624">Single Page Application (SPA): A user needs toosign in tooa single page application that is secured by Azure AD</span></span></li><li><span data-ttu-id="2ae5d-625">TooWeb собственного приложения API: собственное приложение, запускаемое на телефоне, планшете или tooauthenticate потребностей ПК tooget пользователя ресурсы из веб-API, защищенные Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-625">Native Application tooWeb API: A native application that runs on a phone, tablet, or PC needs tooauthenticate a user tooget resources from a web API that is secured by Azure AD</span></span></li><li><span data-ttu-id="2ae5d-626">Веб-приложение tooWeb API: веб-приложению требуются tooget ресурсы из веб-API, защищенного Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-626">Web Application tooWeb API: A web application needs tooget resources from a web API secured by Azure AD</span></span></li><li><span data-ttu-id="2ae5d-627">Управляющая программа или серверное приложение tooWeb API: приложение-демон или серверное приложение без веб-интерфейса пользователя требуются tooget ресурсы из веб-API, защищенного Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-627">Daemon or Server Application tooWeb API: A daemon application or a server application with no web user interface needs tooget resources from a web API secured by Azure AD</span></span></li></ul><p><span data-ttu-id="2ae5d-628">См. сведения о реализации низкоуровневых toohello ссылки в разделе references hello</span><span class="sxs-lookup"><span data-stu-id="2ae5d-628">Please refer toohello links in hello references section for low-level implementation details</span></span></p>|

## <span data-ttu-id="2ae5d-629"><a id="adal-scalable"></a>Переопределить hello по умолчанию ADAL кэша маркера масштабируемой альтернативой</span><span class="sxs-lookup"><span data-stu-id="2ae5d-629"><a id="adal-scalable"></a>Override hello default ADAL token cache with a scalable alternative</span></span>

| <span data-ttu-id="2ae5d-630">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-630">Title</span></span>                   | <span data-ttu-id="2ae5d-631">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-631">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-632">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-632">**Component**</span></span>               | <span data-ttu-id="2ae5d-633">Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-633">Azure AD</span></span> | 
| <span data-ttu-id="2ae5d-634">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-634">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-635">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-635">Build</span></span> |  
| <span data-ttu-id="2ae5d-636">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-636">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-637">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-637">Generic</span></span> |
| <span data-ttu-id="2ae5d-638">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-638">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-639">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-639">N/A</span></span>  |
| <span data-ttu-id="2ae5d-640">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-640">**References**</span></span>              | <span data-ttu-id="2ae5d-641">[Современная проверка подлинности с помощью Azure Active Directory для веб-приложений](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/), [запись блога об использовании Redis в качестве кэша маркеров ADAL](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-641">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/), [Using Redis as ADAL token cache](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/)</span></span>  |
| <span data-ttu-id="2ae5d-642">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-642">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-643">кэш по умолчанию Hello, который использует ADAL (библиотеку аутентификации Active Directory) — кэш в памяти, основанный на статический хранилища, доступные всего процесса.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-643">hello default cache that ADAL (Active Directory Authentication Library) uses is an in-memory cache that relies on a static store, available process-wide.</span></span> <span data-ttu-id="2ae5d-644">Хотя этот способ подходит для приложений в машинном коде, он не является масштабируемым mid и уровня сервера приложений для приложения hello следующих причин:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-644">While this works for native applications, it does not scale for mid tier and backend applications for hello following reasons:</span></span></p><ul><li><span data-ttu-id="2ae5d-645">Доступ к этим приложениям осуществляют несколько пользователей одновременно.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-645">These applications are accessed by many users at once.</span></span> <span data-ttu-id="2ae5d-646">Сохранение все токены доступа в hello одно хранилище создает изоляции проблем и представляет трудности при работе в масштабе: много пользователей, каждый из которых столько маркеры как ресурсы hello hello обращений приложения от их имени может означать огромное и очень дорого Уточняющий запрос операции</span><span class="sxs-lookup"><span data-stu-id="2ae5d-646">Saving all access tokens in hello same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as hello resources hello app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="2ae5d-647">Эти приложения обычно развертываются на распределенных топологиях, где несколько узлов должен иметь доступ toohello же кэша</span><span class="sxs-lookup"><span data-stu-id="2ae5d-647">These applications are typically deployed on distributed topologies, where multiple nodes must have access toohello same cache</span></span></li><li><span data-ttu-id="2ae5d-648">Кэшированные маркеры должны выдерживать перезапуски и деактивации процесса.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-648">Cached tokens must survive process recycles and deactivations</span></span></li></ul><p><span data-ttu-id="2ae5d-649">Для всех hello выше причин, при реализации веб-приложений рекомендуется toooverride hello по умолчанию ADAL кэша маркера масштабируемой другое изображение, например для кэша Azure Redis.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-649">For all hello above reasons, while implementing web apps, it is recommended toooverride hello default ADAL token cache with a scalable alternative such as Azure Redis cache.</span></span></p>|

## <span data-ttu-id="2ae5d-650"><a id="tokenreplaycache-adal"></a>Убедитесь, что TokenReplayCache используется tooprevent hello воспроизведения маркеров проверки подлинности ADAL</span><span class="sxs-lookup"><span data-stu-id="2ae5d-650"><a id="tokenreplaycache-adal"></a>Ensure that TokenReplayCache is used tooprevent hello replay of ADAL authentication tokens</span></span>

| <span data-ttu-id="2ae5d-651">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-651">Title</span></span>                   | <span data-ttu-id="2ae5d-652">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-652">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-653">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-653">**Component**</span></span>               | <span data-ttu-id="2ae5d-654">Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-654">Azure AD</span></span> | 
| <span data-ttu-id="2ae5d-655">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-655">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-656">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-656">Build</span></span> |  
| <span data-ttu-id="2ae5d-657">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-657">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-658">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-658">Generic</span></span> |
| <span data-ttu-id="2ae5d-659">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-659">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-660">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-660">N/A</span></span>  |
| <span data-ttu-id="2ae5d-661">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-661">**References**</span></span>              | [<span data-ttu-id="2ae5d-662">Современная проверка подлинности с помощью Azure Active Directory для веб-приложений</span><span class="sxs-lookup"><span data-stu-id="2ae5d-662">Modern Authentication with Azure Active Directory for Web Applications</span></span>](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/) |
| <span data-ttu-id="2ae5d-663">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-663">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-664">Свойство TokenReplayCache Hello позволяет разработчикам toodefine кэш воспроизведения токена, хранилища, который может использоваться для сохранения токены hello с целью проверки, что токен не может использоваться более одного раза.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-664">hello TokenReplayCache property allows developers toodefine a token replay cache, a store that can be used for saving tokens for hello purpose of verifying that no token can be used more than once.</span></span></p><p><span data-ttu-id="2ae5d-665">Эта мера от распространенных атак, hello соответствующее называется атакой воспроизведения токена: перехват hello токен, отправленный при входе в систему злоумышленники могут пытаться toosend его toohello приложение еще раз («воспроизвести») для установки нового сеанса.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-665">This is a measure against a common attack, hello aptly called token replay attack: an attacker intercepting hello token sent at sign-in might try toosend it toohello app again (“replay” it) for establishing a new session.</span></span> <span data-ttu-id="2ae5d-666">Например, в OIDC-предоставления кода потока, после успешной проверки подлинности пользователя, запрос слишком «/ signin oidc» становится конечной точки hello проверяющей стороны с «id_token», «код» и «состояние» параметры.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-666">E.g., In OIDC code-grant flow, after successful user authentication, a request too"/signin-oidc" endpoint of hello relying party is made with "id_token", "code" and "state" parameters.</span></span></p><p><span data-ttu-id="2ae5d-667">Здравствуйте, проверяющая сторона проверяет этот запрос и создает новый сеанс.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-667">hello relying party validates this request and establishes a new session.</span></span> <span data-ttu-id="2ae5d-668">Если злоумышленник перехватывает данный запрос и воспроизводит его, он может установить Успешный сеанс и подделка hello пользователя.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-668">If an adversary captures this request and replays it, he/she can establish a successful session and spoof hello user.</span></span> <span data-ttu-id="2ae5d-669">наличие Hello специальное слово hello в OpenID Connect можно ограничить, но не полностью устранить hello ситуациях, в которых hello атаки можно активированная успешно.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-669">hello presence of hello nonce in OpenID Connect can limit but not fully eliminate hello circumstances in which hello attack can be successfully enacted.</span></span> <span data-ttu-id="2ae5d-670">tooprotect разработчикам приложений, можно предоставить реализацию ITokenReplayCache и назначить tooTokenReplayCache экземпляра.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-670">tooprotect their applications, developers can provide an implementation of ITokenReplayCache and assign an instance tooTokenReplayCache.</span></span></p>|

### <a name="example"></a><span data-ttu-id="2ae5d-671">Пример</span><span class="sxs-lookup"><span data-stu-id="2ae5d-671">Example</span></span>
```C#
// ITokenReplayCache defined in ADAL
public interface ITokenReplayCache
{
bool TryAdd(string securityToken, DateTime expiresOn);
bool TryFind(string securityToken);
}
```

### <a name="example"></a><span data-ttu-id="2ae5d-672">Пример</span><span class="sxs-lookup"><span data-stu-id="2ae5d-672">Example</span></span>
<span data-ttu-id="2ae5d-673">Ниже приведен пример реализации интерфейса ITokenReplayCache hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-673">Here is a sample implementation of hello ITokenReplayCache interface.</span></span> <span data-ttu-id="2ae5d-674">(Выполните соответствующие настройки и реализуйте платформу кэширования конкретного проекта.)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-674">(Please customize and implement your project-specific caching framework)</span></span>
```C#
public class TokenReplayCache : ITokenReplayCache
{
    private readonly ICacheProvider cache; // Your project-specific cache provider
    public TokenReplayCache(ICacheProvider cache)
    {
        this.cache = cache;
    }
    public bool TryAdd(string securityToken, DateTime expiresOn)
    {
        if (this.cache.Get<string>(securityToken) == null)
        {
            this.cache.Set(securityToken, securityToken);
            return true;
        }
        return false;
    }
    public bool TryFind(string securityToken)
    {
        return this.cache.Get<string>(securityToken) != null;
    }
}
```
<span data-ttu-id="2ae5d-675">Hello реализации кэша имеет toobe, на который ссылается OIDC функций через hello свойство «TokenValidationParameters» следующим образом.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-675">hello implemented cache has toobe referenced in OIDC options via hello "TokenValidationParameters" property as follows.</span></span>
```C#
OpenIdConnectOptions openIdConnectOptions = new OpenIdConnectOptions
{
    AutomaticAuthenticate = true,
    ... // other configuration properties follow..
    TokenValidationParameters = new TokenValidationParameters
    {
        TokenReplayCache = new TokenReplayCache(/*Inject your cache provider*/);
    }
}
```

<span data-ttu-id="2ae5d-676">Проверьте эффективность hello tootest, эта конфигурация входа в приложение локального защищенных OIDC Обратите внимание и записать hello запроса слишком`"/signin-oidc"` конечной точки в fiddler.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-676">Please note that tootest hello effectiveness of this configuration, login into your local OIDC-protected application and capture hello request too`"/signin-oidc"` endpoint in fiddler.</span></span> <span data-ttu-id="2ae5d-677">Когда защита hello не на месте, воспроизведение этот запрос в fiddler установит новый файл cookie.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-677">When hello protection is not in place, replaying this request in fiddler will set a new session cookie.</span></span> <span data-ttu-id="2ae5d-678">При запросе hello воспроизводится После добавления защиты TokenReplayCache hello, приложение hello вызовет исключение следующим образом:`SecurityTokenReplayDetectedException: IDX10228: hello securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span><span class="sxs-lookup"><span data-stu-id="2ae5d-678">When hello request is replayed after hello TokenReplayCache protection is added, hello application will throw an exception as follows: `SecurityTokenReplayDetectedException: IDX10228: hello securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span></span>

## <span data-ttu-id="2ae5d-679"><a id="adal-oauth2"></a>Использование библиотеки ADAL toomanage маркера запрашивает у клиентов tooAAD OAuth2 (или локальной AD)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-679"><a id="adal-oauth2"></a>Use ADAL libraries toomanage token requests from OAuth2 clients tooAAD (or on-premises AD)</span></span>

| <span data-ttu-id="2ae5d-680">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-680">Title</span></span>                   | <span data-ttu-id="2ae5d-681">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-681">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-682">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-682">**Component**</span></span>               | <span data-ttu-id="2ae5d-683">Azure AD</span><span class="sxs-lookup"><span data-stu-id="2ae5d-683">Azure AD</span></span> | 
| <span data-ttu-id="2ae5d-684">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-684">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-685">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-685">Build</span></span> |  
| <span data-ttu-id="2ae5d-686">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-686">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-687">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-687">Generic</span></span> |
| <span data-ttu-id="2ae5d-688">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-688">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-689">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-689">N/A</span></span>  |
| <span data-ttu-id="2ae5d-690">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-690">**References**</span></span>              | [<span data-ttu-id="2ae5d-691">ADAL</span><span class="sxs-lookup"><span data-stu-id="2ae5d-691">ADAL</span></span>](https://azure.microsoft.com/documentation/articles/active-directory-authentication-libraries/) |
| <span data-ttu-id="2ae5d-692">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-692">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-693">Hello Azure AD включает библиотеку (ADAL) проверки подлинности клиента tooeasily разработчики приложения проверки подлинности пользователей toocloud локальной Active Directory (AD) и затем получать токены доступа для безопасных вызовов API.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-693">hello Azure AD authentication Library (ADAL) enables client application developers tooeasily authenticate users toocloud or on-premises Active Directory (AD), and then obtain access tokens for securing API calls.</span></span></p><p><span data-ttu-id="2ae5d-694">ADAL имеет множество функций, которые упрощают проверку подлинности для разработчиков. К ним относятся поддержка асинхронных операций, настраиваемый кэш маркеров, в котором хранятся маркеры доступа и маркеры обновления, автоматическое обновление маркера, когда срок действия маркера доступа истекает и маркер обновления доступен, и многие другие функции.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-694">ADAL has many features that make authentication easier for developers, such as asynchronous support, a configurable token cache that stores access tokens and refresh tokens, automatic token refresh when an access token expires and a refresh token is available, and more.</span></span></p><p><span data-ttu-id="2ae5d-695">Обрабатывая самые hello сложности, ADAL может помочь разработчику сосредоточиться на бизнес-логики в приложении и легко защитить ресурсы, не становясь экспертом по безопасности.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-695">By handling most of hello complexity, ADAL can help a developer focus on business logic in their application and easily secure resources without being an expert on security.</span></span> <span data-ttu-id="2ae5d-696">Отдельные библиотеки доступны для .NET, JavaScript (клиент и Node.js), iOS, Android и Java.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-696">Separate libraries are available for .NET, JavaScript (client and Node.js), iOS, Android and Java.</span></span></p>|

## <span data-ttu-id="2ae5d-697"><a id="authn-devices-field"></a>Проверка подлинности устройств, подключающихся toohello шлюз поля</span><span class="sxs-lookup"><span data-stu-id="2ae5d-697"><a id="authn-devices-field"></a>Authenticate devices connecting toohello Field Gateway</span></span>

| <span data-ttu-id="2ae5d-698">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-698">Title</span></span>                   | <span data-ttu-id="2ae5d-699">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-699">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-700">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-700">**Component**</span></span>               | <span data-ttu-id="2ae5d-701">Полевой шлюз Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="2ae5d-701">IoT Field Gateway</span></span> | 
| <span data-ttu-id="2ae5d-702">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-702">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-703">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-703">Build</span></span> |  
| <span data-ttu-id="2ae5d-704">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-704">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-705">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-705">Generic</span></span> |
| <span data-ttu-id="2ae5d-706">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-706">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-707">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-707">N/A</span></span>  |
| <span data-ttu-id="2ae5d-708">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-708">**References**</span></span>              | <span data-ttu-id="2ae5d-709">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-709">N/A</span></span>  |
| <span data-ttu-id="2ae5d-710">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-710">**Steps**</span></span> | <span data-ttu-id="2ae5d-711">Убедитесь, что каждое устройство проходит проверку подлинности с hello шлюз поля, прежде чем принимать данные от них и перед эффективного вышестоящего взаимодействия с hello шлюза в облаке.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-711">Ensure that each device is authenticated by hello Field Gateway before accepting data from them and before facilitating upstream communications with hello Cloud Gateway.</span></span> <span data-ttu-id="2ae5d-712">Кроме того, настройте подключение устройств с помощью учетных данных на уровне отдельного устройства, чтобы уникально идентифицировать отдельные устройства.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-712">Also, ensure that devices connect with a per device credential so that individual devices can be uniquely identified.</span></span>|

## <span data-ttu-id="2ae5d-713"><a id="authn-devices-cloud"></a>Обеспечить проверку подлинности устройств, подключающихся tooCloud шлюза</span><span class="sxs-lookup"><span data-stu-id="2ae5d-713"><a id="authn-devices-cloud"></a>Ensure that devices connecting tooCloud gateway are authenticated</span></span>

| <span data-ttu-id="2ae5d-714">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-714">Title</span></span>                   | <span data-ttu-id="2ae5d-715">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-715">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-716">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-716">**Component**</span></span>               | <span data-ttu-id="2ae5d-717">Облачный шлюз Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="2ae5d-717">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="2ae5d-718">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-718">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-719">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-719">Build</span></span> |  
| <span data-ttu-id="2ae5d-720">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-720">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-721">Универсальное, C#, Node.js</span><span class="sxs-lookup"><span data-stu-id="2ae5d-721">Generic, C#, Node.JS,</span></span>  |
| <span data-ttu-id="2ae5d-722">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-722">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-723">Н/д, выбор шлюза: Центр Интернета вещей Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-723">N/A, Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="2ae5d-724">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-724">**References**</span></span>              | <span data-ttu-id="2ae5d-725">Н/д, [Приступая к работе с Центром Интернета вещей Azure (.NET)](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Приступая к работе с Центром Интернета вещей Azure (Node)](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [Поддерживаемые сертификаты X.509](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [репозиторий Git](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-725">N/A, [Azure IoT hub with .NET](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Getting Started wih IoT hub and Node JS](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [Securing IoT with SAS and certificates](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [Git repository](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span></span> |
| <span data-ttu-id="2ae5d-726">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-726">**Steps**</span></span> | <ul><li><span data-ttu-id="2ae5d-727">**Универсальное:** устройства hello проверять подлинность, используя Transport Layer Security (TLS) или протокол IPSec.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-727">**Generic:** Authenticate hello device using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="2ae5d-728">Инфраструктура должна поддерживать общие ключи для тех устройств, которые не выполняют полное асимметричное шифрование.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-728">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="2ae5d-729">Используйте Azure AD, OAuth.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-729">Leverage Azure AD, Oauth.</span></span></li><li><span data-ttu-id="2ae5d-730">**C#:** при создании экземпляра DeviceClient, по умолчанию, hello метод Create создает экземпляр DeviceClient, который использует toocommunicate протокола AMQP hello с центром IoT.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-730">**C#:** When creating a DeviceClient instance, by default, hello Create method creates a DeviceClient instance that uses hello AMQP protocol toocommunicate with IoT Hub.</span></span> <span data-ttu-id="2ae5d-731">hello toouse протокола HTTPS, используйте переопределение hello hello создать метод, который позволяет toospecify hello протокола.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-731">toouse hello HTTPS protocol, use hello override of hello Create method that enables you toospecify hello protocol.</span></span> <span data-ttu-id="2ae5d-732">При использовании протокола HTTPS hello, следует также добавить hello `Microsoft.AspNet.WebApi.Client` NuGet пакета tooyour проекта tooinclude hello `System.Net.Http.Formatting` пространства имен.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-732">If you use hello HTTPS protocol, you should also add hello `Microsoft.AspNet.WebApi.Client` NuGet package tooyour project tooinclude hello `System.Net.Http.Formatting` namespace.</span></span></li></ul>|

### <a name="example"></a><span data-ttu-id="2ae5d-733">Пример</span><span class="sxs-lookup"><span data-stu-id="2ae5d-733">Example</span></span>
```C#
static DeviceClient deviceClient;

static string deviceKey = "{device key}";
static string iotHubUri = "{iot hub hostname}";

var messageString = "{message in string format}";
var message = new Message(Encoding.ASCII.GetBytes(messageString));

deviceClient = DeviceClient.Create(iotHubUri, new DeviceAuthenticationWithRegistrySymmetricKey("myFirstDevice", deviceKey));

await deviceClient.SendEventAsync(message);
```

### <a name="example"></a><span data-ttu-id="2ae5d-734">Пример</span><span class="sxs-lookup"><span data-stu-id="2ae5d-734">Example</span></span>
<span data-ttu-id="2ae5d-735">**Проверка подлинности Node.js**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-735">**Node.JS: Authentication**</span></span>
#### <a name="symmetric-key"></a><span data-ttu-id="2ae5d-736">Симметричный ключ</span><span class="sxs-lookup"><span data-stu-id="2ae5d-736">Symmetric key</span></span>
* <span data-ttu-id="2ae5d-737">Создайте Центр Интернета вещей в Azure.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-737">Create a IoT hub on azure</span></span>
* <span data-ttu-id="2ae5d-738">Создать запись в реестре удостоверений устройств hello</span><span class="sxs-lookup"><span data-stu-id="2ae5d-738">Create an entry in hello device identity registry</span></span>
    ```javascript
    var device = new iothub.Device(null);
    device.deviceId = <DeviceId >
    registry.create(device, function(err, deviceInfo, res) {})
    ```
* <span data-ttu-id="2ae5d-739">Создайте виртуальное устройство.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-739">Create a simulated device</span></span>
    ```javascript
    var clientFromConnectionString = require('azure-iot-device-amqp').clientFromConnectionString;
    var Message = require('azure-iot-device').Message;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>SharedAccessKey=<SharedAccessKey>';
    var client = clientFromConnectionString(connectionString);
    ```
#### <a name="sas-token"></a><span data-ttu-id="2ae5d-740">Маркер SAS</span><span class="sxs-lookup"><span data-stu-id="2ae5d-740">SAS Token</span></span>
* <span data-ttu-id="2ae5d-741">Создается в системе при использовании симметричного ключа, но его также можно создать и использовать явным образом.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-741">Gets internally generated when using symmetric key but we can generate and use it explicitly as well</span></span>
* <span data-ttu-id="2ae5d-742">Определите протокол: `var Http = require('azure-iot-device-http').Http;`</span><span class="sxs-lookup"><span data-stu-id="2ae5d-742">Define a protocol : `var Http = require('azure-iot-device-http').Http;`</span></span>
* <span data-ttu-id="2ae5d-743">Создайте маркер SAS:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-743">Create a sas token :</span></span>
    ```javascript
    resourceUri = encodeURIComponent(resourceUri.toLowerCase()).toLowerCase();
    var deviceName = "<deviceName >";
    var expires = (Date.now() / 1000) + expiresInMins * 60;
    var toSign = resourceUri + '\n' + expires;
    // using crypto
    var decodedPassword = new Buffer(signingKey, 'base64').toString('binary');
    const hmac = crypto.createHmac('sha256', decodedPassword);
    hmac.update(toSign);
    var base64signature = hmac.digest('base64');
    var base64UriEncoded = encodeURIComponent(base64signature);
    // construct authorization string
    var token = "SharedAccessSignature sr=" + resourceUri + "%2fdevices%2f"+deviceName+"&sig="
    + base64UriEncoded + "&se=" + expires;
    if (policyName) token += "&skn="+policyName;
    return token;
    ```
* <span data-ttu-id="2ae5d-744">Подключитесь с помощью маркера SAS:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-744">Connect using sas token:</span></span> 
    ```javascript
    Client.fromSharedAccessSignature(sas, Http); 
    ```
#### <a name="certificates"></a><span data-ttu-id="2ae5d-745">Сертификаты</span><span class="sxs-lookup"><span data-stu-id="2ae5d-745">Certificates</span></span>
* <span data-ttu-id="2ae5d-746">Создать собственный знаком X509 сертификат с помощью любого средства например OpenSSL toogenerate .cert и .key файлы toostore hello сертификат и hello ключ соответственно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-746">Generate a self signed X509 certificate using any tool such as OpenSSL toogenerate a .cert and .key files toostore hello certificate and hello key respectively</span></span>
* <span data-ttu-id="2ae5d-747">Подготовьте устройство, которое принимает безопасное подключение с использованием сертификатов.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-747">Provision a device that accepts secured connection using certificates.</span></span>
    ```javascript
    var connectionString = '<connectionString>';
    var registry = iothub.Registry.fromConnectionString(connectionString);
    var deviceJSON = {deviceId:"<deviceId>",
    authentication: {
        x509Thumbprint: {
        primaryThumbprint: "<PrimaryThumbprint>",
        secondaryThumbprint: "<SecondaryThumbprint>"
        }
    }}
    var device = deviceJSON;
    registry.create(device, function (err) {});
    ```
* <span data-ttu-id="2ae5d-748">Подключите устройство с помощью сертификата.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-748">Connect a device using a certificate</span></span>
    ```javascript
    var Protocol = require('azure-iot-device-http').Http;
    var Client = require('azure-iot-device').Client;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>x509=true';
    var client = Client.fromConnectionString(connectionString, Protocol);
    var options = {
        key: fs.readFileSync('./key.pem', 'utf8'),
        cert: fs.readFileSync('./server.crt', 'utf8')
    }; 
    // Calling setOptions with hello x509 certificate and key (and optionally, passphrase) will configure hello client //transport toouse x509 when connecting tooIoT Hub
    client.setOptions(options);
    //call fn tooexecute after hello connection is set up
    client.open(fn);
    ```

## <span data-ttu-id="2ae5d-749"><a id="authn-cred"></a>Используйте учетные данные проверки подлинности на уровне отдельного устройства</span><span class="sxs-lookup"><span data-stu-id="2ae5d-749"><a id="authn-cred"></a>Use per-device authentication credentials</span></span>

| <span data-ttu-id="2ae5d-750">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-750">Title</span></span>                   | <span data-ttu-id="2ae5d-751">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-751">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-752">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-752">**Component**</span></span>               | <span data-ttu-id="2ae5d-753">Облачный шлюз Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="2ae5d-753">IoT Cloud Gateway</span></span>  | 
| <span data-ttu-id="2ae5d-754">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-754">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-755">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-755">Build</span></span> |  
| <span data-ttu-id="2ae5d-756">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-756">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-757">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-757">Generic</span></span> |
| <span data-ttu-id="2ae5d-758">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-758">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-759">Выбор шлюза: Центр Интернета вещей Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-759">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="2ae5d-760">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-760">**References**</span></span>              | [<span data-ttu-id="2ae5d-761">Маркеры безопасности Центра Интернета вещей Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-761">Azure IoT Hub Security Tokens</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/) |
| <span data-ttu-id="2ae5d-762">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-762">**Steps**</span></span> | <span data-ttu-id="2ae5d-763">Используйте учетные данные проверки подлинности с помощью маркеров SAS на основе ключа устройства или сертификата клиента для каждого отдельного устройства вместо политик общего доступа на уровне Центра Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-763">Use per device authentication credentials using SaS tokens based on Device key or Client Certificate, instead of IoT Hub-level shared access policies.</span></span> <span data-ttu-id="2ae5d-764">Это запрещает повторное использование hello токены проверки подлинности одного шлюза устройства или поле в другом</span><span class="sxs-lookup"><span data-stu-id="2ae5d-764">This prevents hello reuse of authentication tokens of one device or field gateway by another</span></span> |

## <span data-ttu-id="2ae5d-765"><a id="req-containers-anon"></a>Убедитесь, что только hello требуемые контейнеры и большие двоичные объекты получают анонимный доступ для чтения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-765"><a id="req-containers-anon"></a>Ensure that only hello required containers and blobs are given anonymous read access</span></span>

| <span data-ttu-id="2ae5d-766">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-766">Title</span></span>                   | <span data-ttu-id="2ae5d-767">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-767">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-768">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-768">**Component**</span></span>               | <span data-ttu-id="2ae5d-769">Хранилище Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-769">Azure Storage</span></span> | 
| <span data-ttu-id="2ae5d-770">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-770">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-771">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-771">Build</span></span> |  
| <span data-ttu-id="2ae5d-772">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-772">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-773">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-773">Generic</span></span> |
| <span data-ttu-id="2ae5d-774">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-774">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-775">Тип хранилища: большой двоичный объект</span><span class="sxs-lookup"><span data-stu-id="2ae5d-775">StorageType - Blob</span></span> |
| <span data-ttu-id="2ae5d-776">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-776">**References**</span></span>              | <span data-ttu-id="2ae5d-777">[Управление toocontainers анонимный доступ для чтения и большие двоичные объекты](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [Shared Access Signatures, Part 1: Общие сведения о модели SAS hello](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-777">[Manage anonymous read access toocontainers and blobs](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [Shared Access Signatures, Part 1: Understanding hello SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span></span> |
| <span data-ttu-id="2ae5d-778">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-778">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-779">По умолчанию контейнер и все большие двоичные объекты в ней может обращаться только владелец учетной записи хранилища hello hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-779">By default, a container and any blobs within it may be accessed only by hello owner of hello storage account.</span></span> <span data-ttu-id="2ae5d-780">toogive анонимным пользователям разрешения на чтение tooa контейнера и BLOB-объектов, один набор hello контейнера разрешения tooallow общего доступа.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-780">toogive anonymous users read permissions tooa container and its blobs, one can set hello container permissions tooallow public access.</span></span> <span data-ttu-id="2ae5d-781">Анонимные пользователи могут считывать большие двоичные объекты в контейнере общедоступный без проверки подлинности запроса hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-781">Anonymous users can read blobs within a publicly accessible container without authenticating hello request.</span></span></p><p><span data-ttu-id="2ae5d-782">Контейнеры обеспечивают следующие параметры для управления доступом к контейнеру hello:</span><span class="sxs-lookup"><span data-stu-id="2ae5d-782">Containers provide hello following options for managing container access:</span></span></p><ul><li><span data-ttu-id="2ae5d-783">Полный общий доступ на чтение: контейнер и данные больших двоичных объектов можно считывать с помощью анонимного запроса.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-783">Full public read access: Container and blob data can be read via anonymous request.</span></span> <span data-ttu-id="2ae5d-784">Клиенты могут перечислять большие двоичные объекты в контейнере hello через анонимный запрос, но не могут перечислять контейнеры в учетной записи хранилища hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-784">Clients can enumerate blobs within hello container via anonymous request, but cannot enumerate containers within hello storage account.</span></span></li><li><span data-ttu-id="2ae5d-785">Общий доступ на чтение только для больших двоичных объектов: данные больших двоичных объектов в этом контейнере можно считать с помощью анонимного запроса, но данные контейнера недоступны.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-785">Public read access for blobs only: Blob data within this container can be read via anonymous request, but container data is not available.</span></span> <span data-ttu-id="2ae5d-786">Клиенты не могут перечислять большие двоичные объекты в контейнере hello через анонимный запрос</span><span class="sxs-lookup"><span data-stu-id="2ae5d-786">Clients cannot enumerate blobs within hello container via anonymous request</span></span></li><li><span data-ttu-id="2ae5d-787">Отсутствует общий доступ на чтение: hello только владельцем учетной записи могут считываться данные контейнера и больших двоичных объектов</span><span class="sxs-lookup"><span data-stu-id="2ae5d-787">No public read access: Container and blob data can be read by hello account owner only</span></span></li></ul><p><span data-ttu-id="2ae5d-788">Анонимный доступ лучше всего подходит для сценариев, когда определенные большие двоичные объекты нужно сделать всегда доступными для анонимного доступа на чтение.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-788">Anonymous access is best for scenarios where certain blobs should always be available for anonymous read access.</span></span> <span data-ttu-id="2ae5d-789">Для детальный контроль один можно создать подпись общего доступа, который позволяет получать доступ ограничен toodelegate использование различных разрешений, а также через указанный интервал времени.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-789">For finer-grained control, one can create a shared access signature, which enables toodelegate restricted access using different permissions and over a specified time interval.</span></span> <span data-ttu-id="2ae5d-790">Проверьте, чтобы случайно не был предоставлен анонимный доступ к контейнерам и большим двоичным объектам, которые могут содержать конфиденциальные данные.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-790">Ensure that containers and blobs, which may potentially contain sensitive data, are not given anonymous access accidentally</span></span></p>|

## <span data-ttu-id="2ae5d-791"><a id="limited-access-sas"></a>Предоставить ограниченный доступ tooobjects в хранилище Azure с использованием SAS или SAP</span><span class="sxs-lookup"><span data-stu-id="2ae5d-791"><a id="limited-access-sas"></a>Grant limited access tooobjects in Azure storage using SAS or SAP</span></span>

| <span data-ttu-id="2ae5d-792">Название</span><span class="sxs-lookup"><span data-stu-id="2ae5d-792">Title</span></span>                   | <span data-ttu-id="2ae5d-793">Сведения</span><span class="sxs-lookup"><span data-stu-id="2ae5d-793">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="2ae5d-794">**Компонент**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-794">**Component**</span></span>               | <span data-ttu-id="2ae5d-795">Хранилище Azure</span><span class="sxs-lookup"><span data-stu-id="2ae5d-795">Azure Storage</span></span> | 
| <span data-ttu-id="2ae5d-796">**Этап SDL**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-796">**SDL Phase**</span></span>               | <span data-ttu-id="2ae5d-797">Создание</span><span class="sxs-lookup"><span data-stu-id="2ae5d-797">Build</span></span> |  
| <span data-ttu-id="2ae5d-798">**Применимые технологии**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-798">**Applicable Technologies**</span></span> | <span data-ttu-id="2ae5d-799">Универсальный</span><span class="sxs-lookup"><span data-stu-id="2ae5d-799">Generic</span></span> |
| <span data-ttu-id="2ae5d-800">**Атрибуты**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-800">**Attributes**</span></span>              | <span data-ttu-id="2ae5d-801">Недоступно</span><span class="sxs-lookup"><span data-stu-id="2ae5d-801">N/A</span></span> |
| <span data-ttu-id="2ae5d-802">**Справочные материалы**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-802">**References**</span></span>              | <span data-ttu-id="2ae5d-803">[Shared Access Signatures, Part 1: Общие сведения о hello модели SAS](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [Shared Access Signatures, Part 2: Создание и использование SAS с хранилищем больших двоичных объектов](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [как toodelegate доступ к tooobjects в учетной записи с помощью Подписи коллективного доступа и хранимые политики доступа](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span><span class="sxs-lookup"><span data-stu-id="2ae5d-803">[Shared Access Signatures, Part 1: Understanding hello SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [Shared Access Signatures, Part 2: Create and use a SAS with Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [How toodelegate access tooobjects in your account using Shared Access Signatures and Stored Access Policies](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span></span> |
| <span data-ttu-id="2ae5d-804">**Действия**</span><span class="sxs-lookup"><span data-stu-id="2ae5d-804">**Steps**</span></span> | <p><span data-ttu-id="2ae5d-805">Использование подписи общего доступа (SAS) — tooobjects доступа эффективный способ toogrant ограничены в клиенты tooother учетной записи хранилища, без необходимости tooexpose ключа доступа учетной записи.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-805">Using a shared access signature (SAS) is a powerful way toogrant limited access tooobjects in a storage account tooother clients, without having tooexpose account access key.</span></span> <span data-ttu-id="2ae5d-806">Hello SAS является URI, который включает в себя параметрами запроса все hello сведения, необходимые для прошедших проверку подлинности доступа к ресурсу хранилища tooa.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-806">hello SAS is a URI that encompasses in its query parameters all of hello information necessary for authenticated access tooa storage resource.</span></span> <span data-ttu-id="2ae5d-807">tooaccess ресурсов хранения в hello SAS, hello клиент должен только toopass hello SAS toohello соответствующий конструктор или метод.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-807">tooaccess storage resources with hello SAS, hello client only needs toopass in hello SAS toohello appropriate constructor or method.</span></span></p><p><span data-ttu-id="2ae5d-808">SAS можно использовать при необходимости tooresources tooprovide доступ в клиенте tooa учетной записи хранилища, не могут быть доверенными с ключом учетной записи hello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-808">You can use a SAS when you want tooprovide access tooresources in your storage account tooa client that can't be trusted with hello account key.</span></span> <span data-ttu-id="2ae5d-809">Ключи учетной записи хранилища включают как первичные и вторичные ключи, обоих видов предоставить учетной записи tooyour административный доступ и все ресурсы hello в нем.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-809">Your storage account keys include both a primary and secondary key, both of which grant administrative access tooyour account and all of hello resources in it.</span></span> <span data-ttu-id="2ae5d-810">Предоставление доступа к любой из ключи учетной записи открывает вероятность вредоносной или намеренное использование вашей учетной записи toohello.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-810">Exposing either of your account keys opens your account toohello possibility of malicious or negligent use.</span></span> <span data-ttu-id="2ae5d-811">Подписанные URL-адреса являются безопасным вариантом, позволяющую другим клиентам tooread, запись и удаление данных в вашей учетной записи хранилища, в соответствии с toohello разрешения, которые вы предоставили и без необходимости hello ключ учетной записи.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-811">Shared access signatures provide a safe alternative that allows other clients tooread, write, and delete data in your storage account according toohello permissions you've granted, and without need for hello account key.</span></span></p><p><span data-ttu-id="2ae5d-812">Если у вас есть логически связанный и относительно постоянный набор параметров, лучше использовать хранимую политику доступа.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-812">If you have a logical set of parameters that are similar each time, using a Stored Access Policy (SAP) is a better idea.</span></span> <span data-ttu-id="2ae5d-813">Так как использование SAS, производным от хранимой политикой доступа позволяет hello toorevoke возможность, что SAS немедленно, он является hello рекомендуется tooalways лучший подход использовать политики доступа хранятся по возможности.</span><span class="sxs-lookup"><span data-stu-id="2ae5d-813">Because using a SAS derived from a Stored Access Policy gives you hello ability toorevoke that SAS immediately, it is hello recommended best practice tooalways use Stored Access Policies when possible.</span></span></p>|
