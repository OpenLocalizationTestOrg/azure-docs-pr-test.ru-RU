---
title: "Рекомендации по защите и шифрованию данных | Документация Майкрософт"
description: "В этой статье представлены рекомендации по обеспечению защиты и шифрования данных с помощью встроенных средств Azure."
services: security
documentationcenter: na
author: YuriDio
manager: swadhwa
editor: TomSh
ms.assetid: 17ba67ad-e5cd-4a8f-b435-5218df753ca4
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 01/09/2017
ms.author: yurid
ms.openlocfilehash: 81136e53756adfdba2f07c103b042499fe2967db
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="azure-data-security-and-encryption-best-practices"></a><span data-ttu-id="3cf90-103">Рекомендации по защите и шифрованию данных в Azure</span><span class="sxs-lookup"><span data-stu-id="3cf90-103">Azure Data Security and Encryption Best Practices</span></span>
<span data-ttu-id="3cf90-104">Один из основных способов защиты данных в облаке — учет всех возможных состояний, в которых могут находиться данные, а также всех методов управления для каждого из этих состояний.</span><span class="sxs-lookup"><span data-stu-id="3cf90-104">One of the keys to data protection in the cloud is accounting for the possible states in which your data may occur, and what controls are available for that state.</span></span> <span data-ttu-id="3cf90-105">Рекомендации по защите и шифрованию данных в Azure предусматривают учет следующих состояний данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-105">For the purpose of Azure data security and encryption best practices the recommendations will be around the following data’s states:</span></span>

* <span data-ttu-id="3cf90-106">Хранимые: сюда относятся все объекты, контейнеры и типы хранения информации, которые существуют на физическом носителе в конкретном месте, например на магнитном или оптическом диске.</span><span class="sxs-lookup"><span data-stu-id="3cf90-106">At-rest: This includes all information storage objects, containers, and types that exist statically on physical media, be it magnetic or optical disk.</span></span>
* <span data-ttu-id="3cf90-107">В пути: данные, передаваемые между компонентами, расположениями или программами, например по сети, по служебной шине (из локальной сети в облако или наоборот, в том числе с использованием гибридных подключений, например ExpressRoute), а также в процессе ввода-вывода, то есть при любом перемещении.</span><span class="sxs-lookup"><span data-stu-id="3cf90-107">In-Transit: When data is being transferred between components, locations or programs, such as over the network, across a service bus (from on-premises to cloud and vice-versa, including hybrid connections such as ExpressRoute), or during an input/output process, it is thought of as being in-motion.</span></span>

<span data-ttu-id="3cf90-108">В этой статье мы рассмотрим набор рекомендаций по защите и шифрованию данных в Azure.</span><span class="sxs-lookup"><span data-stu-id="3cf90-108">In this article we will discuss a collection of Azure data security and encryption best practices.</span></span> <span data-ttu-id="3cf90-109">В основе рекомендаций лежит наш опыт в области защиты и шифрования данных в Azure, а также отзывы клиентов.</span><span class="sxs-lookup"><span data-stu-id="3cf90-109">These best practices are derived from our experience with Azure data security and encryption and the experiences of customers like yourself.</span></span>

<span data-ttu-id="3cf90-110">Для каждой рекомендации будет предоставлено объяснение следующих аспектов:</span><span class="sxs-lookup"><span data-stu-id="3cf90-110">For each best practice, we’ll explain:</span></span>

* <span data-ttu-id="3cf90-111">суть рекомендации;</span><span class="sxs-lookup"><span data-stu-id="3cf90-111">What the best practice is</span></span>
* <span data-ttu-id="3cf90-112">почему необходимо применять эту рекомендацию;</span><span class="sxs-lookup"><span data-stu-id="3cf90-112">Why you want to enable that best practice</span></span>
* <span data-ttu-id="3cf90-113">что может случиться, если не применить эту рекомендацию;</span><span class="sxs-lookup"><span data-stu-id="3cf90-113">What might be the result if you fail to enable the best practice</span></span>
* <span data-ttu-id="3cf90-114">возможные альтернативы рекомендации;</span><span class="sxs-lookup"><span data-stu-id="3cf90-114">Possible alternatives to the best practice</span></span>
* <span data-ttu-id="3cf90-115">как научиться применять эту рекомендацию.</span><span class="sxs-lookup"><span data-stu-id="3cf90-115">How you can learn to enable the best practice</span></span>

<span data-ttu-id="3cf90-116">В этой статье приведены общепринятые практики защиты и шифрования данных в Azure, а также описаны возможности и компоненты платформы Azure, по состоянию на момент написания статьи.</span><span class="sxs-lookup"><span data-stu-id="3cf90-116">This Azure Data Security and Encryption Best Practices article is based on a consensus opinion, and Azure platform capabilities and feature sets, as they exist at the time this article was written.</span></span> <span data-ttu-id="3cf90-117">Со временем мнения и технологии меняются. Поэтому эта статья будет постоянно обновляться, чтобы отражать эти изменения.</span><span class="sxs-lookup"><span data-stu-id="3cf90-117">Opinions and technologies change over time and this article will be updated on a regular basis to reflect those changes.</span></span>

<span data-ttu-id="3cf90-118">Будут рассмотрены следующие рекомендации по защите и шифрованию данных в Azure:</span><span class="sxs-lookup"><span data-stu-id="3cf90-118">Azure data security and encryption best practices discussed in this article include:</span></span>

* <span data-ttu-id="3cf90-119">применение Multi-Factor Authentication;</span><span class="sxs-lookup"><span data-stu-id="3cf90-119">Enforce multi-factor authentication</span></span>
* <span data-ttu-id="3cf90-120">контроль доступа на основе ролей (RBAC);</span><span class="sxs-lookup"><span data-stu-id="3cf90-120">Use role based access control (RBAC)</span></span>
* <span data-ttu-id="3cf90-121">шифрование виртуальных машин Azure;</span><span class="sxs-lookup"><span data-stu-id="3cf90-121">Encrypt Azure virtual machines</span></span>
* <span data-ttu-id="3cf90-122">использование аппаратных моделей безопасности;</span><span class="sxs-lookup"><span data-stu-id="3cf90-122">Use hardware security models</span></span>
* <span data-ttu-id="3cf90-123">безопасное управление рабочими станциями;</span><span class="sxs-lookup"><span data-stu-id="3cf90-123">Manage with Secure Workstations</span></span>
* <span data-ttu-id="3cf90-124">шифрование данных SQL;</span><span class="sxs-lookup"><span data-stu-id="3cf90-124">Enable SQL data encryption</span></span>
* <span data-ttu-id="3cf90-125">защита данных при передаче;</span><span class="sxs-lookup"><span data-stu-id="3cf90-125">Protect data in transit</span></span>
* <span data-ttu-id="3cf90-126">применение шифрования данных на уровне файлов.</span><span class="sxs-lookup"><span data-stu-id="3cf90-126">Enforce file level data encryption</span></span>

## <a name="enforce-multi-factor-authentication"></a><span data-ttu-id="3cf90-127">Применение Multi-Factor Authentication</span><span class="sxs-lookup"><span data-stu-id="3cf90-127">Enforce Multi-factor Authentication</span></span>
<span data-ttu-id="3cf90-128">Проверка подлинности пользователя — это первый шаг при предоставлении доступа к данным и управлении ими в Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="3cf90-128">The first step in data access and control in Microsoft Azure is to authenticate the user.</span></span> <span data-ttu-id="3cf90-129">[Многофакторная идентификация Azure (MFA)](../multi-factor-authentication/multi-factor-authentication.md) — это метод идентификации пользователя с использованием дополнительных средств, помимо имени пользователя и пароля.</span><span class="sxs-lookup"><span data-stu-id="3cf90-129">[Azure Multi-Factor Authentication (MFA)](../multi-factor-authentication/multi-factor-authentication.md) is a method of verifying user’s identity by using another method than just a username and password.</span></span> <span data-ttu-id="3cf90-130">Этот метод помогает защитить доступ к данным и приложениям, не усложняя процесс входа пользователя в систему.</span><span class="sxs-lookup"><span data-stu-id="3cf90-130">This authentication method helps safeguard access to data and applications while meeting user demand for a simple sign-in process.</span></span>

<span data-ttu-id="3cf90-131">Включив для своих пользователей Azure MFA, вы добавите второй уровень защиты для входа в систему и транзакций.</span><span class="sxs-lookup"><span data-stu-id="3cf90-131">By enabling Azure MFA for your users, you are adding a second layer of security to user sign-ins and transactions.</span></span> <span data-ttu-id="3cf90-132">Например, транзакция может обращаться к документу, размещенному на файловом сервере или в SharePoint Online.</span><span class="sxs-lookup"><span data-stu-id="3cf90-132">In this case, a transaction might be accessing a document located in a file server or in your SharePoint Online.</span></span> <span data-ttu-id="3cf90-133">Azure MFA также минимизирует риск того, что посторонние лица смогут получить доступ к данным с использованием скомпрометированных учетных данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-133">Azure MFA also helps IT to reduce the likelihood that a compromised credential will have access to organization’s data.</span></span>

<span data-ttu-id="3cf90-134">Например, если вы примените Azure MFA и настроите проверку по телефонному звонку или текстовому сообщению, злоумышленник не сможет получить доступ к ресурсам с использованием скомпрометированных учетных данных, так как у него нет доступа к телефону пользователя.</span><span class="sxs-lookup"><span data-stu-id="3cf90-134">For example: if you enforce Azure MFA for your users and configure it to use a phone call or text message as verification, if the user’s credential is compromised, the attacker won’t be able to access any resource since he will not have access to user’s phone.</span></span> <span data-ttu-id="3cf90-135">Организации, не использующие этот дополнительный уровень защиты, более уязвимы для атак путем кражи учетных данных, что может привести к компрометации данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-135">Organizations that do not add this extra layer of identity protection are more susceptible for credential theft attack, which may lead to data compromise.</span></span>

<span data-ttu-id="3cf90-136">Для тех организаций, которые предпочитают управлять аутентификацией только локально, мы можем предложить [сервер Многофакторной идентификации Azure](../multi-factor-authentication/multi-factor-authentication-get-started-server.md), известный также как локальное средство MFA.</span><span class="sxs-lookup"><span data-stu-id="3cf90-136">One alternative for organizations that want to keep the authentication control on-premises is to use [Azure Multi-Factor Authentication Server](../multi-factor-authentication/multi-factor-authentication-get-started-server.md), also called MFA on-premises.</span></span> <span data-ttu-id="3cf90-137">Этот метод позволит вам применить MFA, используя при этом локальный сервер MFA.</span><span class="sxs-lookup"><span data-stu-id="3cf90-137">By using this method you will still be able to enforce multi-factor authentication, while keeping the MFA server on-premises.</span></span>

<span data-ttu-id="3cf90-138">Дополнительные сведения об Azure MFA см. в статье [Приступая к работе с Azure Multi-Factor Authentication в облаке](../multi-factor-authentication/multi-factor-authentication-get-started-cloud.md).</span><span class="sxs-lookup"><span data-stu-id="3cf90-138">For more information on Azure MFA, please read the article [Getting started with Azure Multi-Factor Authentication in the cloud](../multi-factor-authentication/multi-factor-authentication-get-started-cloud.md).</span></span>

## <a name="use-role-based-access-control-rbac"></a><span data-ttu-id="3cf90-139">Контроль доступа на основе ролей (RBAC)</span><span class="sxs-lookup"><span data-stu-id="3cf90-139">Use Role Based Access Control (RBAC)</span></span>
<span data-ttu-id="3cf90-140">Доступ следует ограничивать с учетом возможности использования [необходимой информации](https://en.wikipedia.org/wiki/Need_to_know) и [минимальных полномочий](https://en.wikipedia.org/wiki/Principle_of_least_privilege).</span><span class="sxs-lookup"><span data-stu-id="3cf90-140">Restrict access based on the [need to know](https://en.wikipedia.org/wiki/Need_to_know) and [least privilege](https://en.wikipedia.org/wiki/Principle_of_least_privilege) security principles.</span></span> <span data-ttu-id="3cf90-141">Это крайне важно для организаций, которые планируют применять политики безопасности для доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="3cf90-141">This is imperative for organizations that want to enforce security policies for data access.</span></span> <span data-ttu-id="3cf90-142">Контроль доступа на основе ролей Azure (RBAC) может использоваться для назначения пользователям, группам и приложениям разрешений, действующих в рамках определенной области.</span><span class="sxs-lookup"><span data-stu-id="3cf90-142">Azure Role-Based Access Control (RBAC) can be used to assign permissions to users, groups, and applications at a certain scope.</span></span> <span data-ttu-id="3cf90-143">Областью назначения роли может быть подписка, группа ресурсов или отдельный ресурс.</span><span class="sxs-lookup"><span data-stu-id="3cf90-143">The scope of a role assignment can be a subscription, a resource group, or a single resource.</span></span>

<span data-ttu-id="3cf90-144">Вы можете назначать пользователям привилегии с помощью [встроенных ролей RBAC](../active-directory/role-based-access-built-in-roles.md) в Azure.</span><span class="sxs-lookup"><span data-stu-id="3cf90-144">You can leverage [built-in RBAC roles](../active-directory/role-based-access-built-in-roles.md) in Azure to assign privileges to users.</span></span> <span data-ttu-id="3cf90-145">Для облачных операторов, которым нужно управлять учетными записями хранения, мы рекомендуем роль *Участник учетной записи хранения*, а для управления классическими учетными записями хранения — *Участник классической учетной записи хранения*.</span><span class="sxs-lookup"><span data-stu-id="3cf90-145">Consider using *Storage Account Contributor* for cloud operators that need to manage storage accounts and *Classic Storage Account Contributor* role to manage classic storage accounts.</span></span> <span data-ttu-id="3cf90-146">Облачным операторам, которым нужно управлять виртуальными машинами и учетной записью хранения, мы предлагаем назначать роль *Участник виртуальной машины*.</span><span class="sxs-lookup"><span data-stu-id="3cf90-146">For cloud operators that needs to manage VMs and storage account, consider adding them to *Virtual Machine Contributor* role.</span></span>

<span data-ttu-id="3cf90-147">Если организация не применяет для управления доступом к данным такие возможности, как RBAC, пользователям будет предоставлено больше полномочий, чем необходимо для выполнения назначенных им задач.</span><span class="sxs-lookup"><span data-stu-id="3cf90-147">Organizations that do not enforce data access control by leveraging capabilities such as RBAC may be giving more privileges than necessary for their users.</span></span> <span data-ttu-id="3cf90-148">Это может привести к компрометации данных, так как пользователи смогут получить доступ к таким данным, которые не должны быть им доступны.</span><span class="sxs-lookup"><span data-stu-id="3cf90-148">This can lead to data compromise by having some users having access to data that they shouldn’t have in the first place.</span></span>

<span data-ttu-id="3cf90-149">Дополнительные сведения об RBAC в Azure см. в статье [Управление доступом на основе ролей в Azure](../active-directory/role-based-access-control-configure.md).</span><span class="sxs-lookup"><span data-stu-id="3cf90-149">You can learn more about Azure RBAC by reading the article [Azure Role-Based Access Control](../active-directory/role-based-access-control-configure.md).</span></span>

## <a name="encrypt-azure-virtual-machines"></a><span data-ttu-id="3cf90-150">Шифрование виртуальных машин Azure</span><span class="sxs-lookup"><span data-stu-id="3cf90-150">Encrypt Azure Virtual Machines</span></span>
<span data-ttu-id="3cf90-151">Для многих организаций [шифрование неактивных данных](https://blogs.microsoft.com/cybertrust/2015/09/10/cloud-security-controls-series-encrypting-data-at-rest/) является обязательным шагом для защиты данных, соблюдения стандартов и обеспечения конфиденциальности данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-151">For many organizations, [data encryption at rest](https://blogs.microsoft.com/cybertrust/2015/09/10/cloud-security-controls-series-encrypting-data-at-rest/) is a mandatory step towards data privacy, compliance and data sovereignty.</span></span> <span data-ttu-id="3cf90-152">Шифрование дисков Azure позволяет ИТ-администраторам шифровать диски виртуальных машин IaaS под управлением Windows и Linux.</span><span class="sxs-lookup"><span data-stu-id="3cf90-152">Azure Disk Encryption enables IT administrators to encrypt Windows and Linux IaaS Virtual Machine (VM) disks.</span></span> <span data-ttu-id="3cf90-153">Для этого в Azure используются стандартные для отрасли функции (BitLocker для Windows и DM-Crypt для Linux), которые обеспечивают шифрование томов системных дисков и дисков данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-153">Azure Disk Encryption leverages the industry standard BitLocker feature of Windows and the DM-Crypt feature of Linux to provide volume encryption for the OS and the data disks.</span></span>

<span data-ttu-id="3cf90-154">Шифрование диска Azure можно использовать для защиты данных в соответствии с применяемыми требованиями к безопасности и стандартами.</span><span class="sxs-lookup"><span data-stu-id="3cf90-154">You can leverage Azure Disk Encryption to help protect and safeguard your data to meet your organizational security and compliance requirements.</span></span> <span data-ttu-id="3cf90-155">Также с помощью шифрования организации могут снизить риски, связанные с неавторизованным доступом к данным.</span><span class="sxs-lookup"><span data-stu-id="3cf90-155">Organizations should also consider using encryption to help mitigate risks related to unauthorized data access.</span></span> <span data-ttu-id="3cf90-156">Мы рекомендуем зашифровывать диски, прежде чем записывать на них конфиденциальные данные.</span><span class="sxs-lookup"><span data-stu-id="3cf90-156">It is also recommended that you encrypt drives prior to writing sensitive data to them.</span></span>

<span data-ttu-id="3cf90-157">Обязательно зашифруйте свои тома с данными виртуальных машин и загрузочные тома, чтобы защитить хранимые данные в учетной записи хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="3cf90-157">Make sure to encrypt your VM’s data volumes and boot volume in order to protect data at rest in your Azure storage account.</span></span> <span data-ttu-id="3cf90-158">Защита ключей шифрования и секретов с помощью [хранилища ключей Azure](../key-vault/key-vault-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="3cf90-158">Safeguard the encryption keys and secrets by leveraging [Azure Key Vault](../key-vault/key-vault-whatis.md).</span></span>

<span data-ttu-id="3cf90-159">Для локальных серверов Windows есть следующие рекомендации по шифрованию.</span><span class="sxs-lookup"><span data-stu-id="3cf90-159">For your on-premises Windows Servers, consider the following encryption best practices:</span></span>

* <span data-ttu-id="3cf90-160">Использование [BitLocker](https://technet.microsoft.com/library/dn306081.aspx) для шифрования данных</span><span class="sxs-lookup"><span data-stu-id="3cf90-160">Use [BitLocker](https://technet.microsoft.com/library/dn306081.aspx) for data encryption</span></span>
* <span data-ttu-id="3cf90-161">Храните сведения о восстановлении в службе AD DS.</span><span class="sxs-lookup"><span data-stu-id="3cf90-161">Store recovery information in AD DS.</span></span>
* <span data-ttu-id="3cf90-162">Если вы подозреваете, что ключи BitLocker скомпрометированы, следует полностью отформатировать диск, чтобы удалить с него все экземпляры метаданных BitLocker, либо дешифровать и затем снова зашифровать весь диск.</span><span class="sxs-lookup"><span data-stu-id="3cf90-162">If there is any concern that BitLocker keys have been compromised, we recommend that you either format the drive to remove all instances of the BitLocker metadata from the drive or that you decrypt and encrypt the entire drive again.</span></span>

<span data-ttu-id="3cf90-163">Если организация не применяет шифрование данных, повышается уязвимость к утрате целостности данных, например к краже информации злоумышленниками или недобросовестными пользователями, а также к получению доступа к незашифрованным данным неуполномоченными лицами с использованием скомпрометированных учетных данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-163">Organizations that do not enforce data encryption are more likely to be exposed to data integrity issues, such as malicious or rogue users stealing data and compromised accounts gaining unauthorized access to data in clear format.</span></span> <span data-ttu-id="3cf90-164">Помимо снижения этих рисков, шифрование позволяет компаниям соблюдать отраслевые стандарты, используя надлежащие средства защиты данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-164">Besides these risks, companies that have to comply with industry regulations, must prove that they are diligent and are using the correct security controls to enhance data security.</span></span>

<span data-ttu-id="3cf90-165">Дополнительные сведения о шифровании дисков Azure см. в статье [Дисковое шифрование Azure для виртуальных машин IaaS под управлением Windows и Linux](azure-security-disk-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="3cf90-165">You can learn more about Azure Disk Encryption by reading the article [Azure Disk Encryption for Windows and Linux IaaS VMs](azure-security-disk-encryption.md).</span></span>

## <a name="use-hardware-security-modules"></a><span data-ttu-id="3cf90-166">Использование аппаратных моделей безопасности</span><span class="sxs-lookup"><span data-stu-id="3cf90-166">Use Hardware Security Modules</span></span>
<span data-ttu-id="3cf90-167">В стандартных решениях для шифрования данных используются секретные ключи.</span><span class="sxs-lookup"><span data-stu-id="3cf90-167">Industry encryption solutions use secret keys to encrypt data.</span></span> <span data-ttu-id="3cf90-168">Следовательно, важно, чтобы такие ключи надежно хранились.</span><span class="sxs-lookup"><span data-stu-id="3cf90-168">Therefore, it is critical that these keys are safely stored.</span></span> <span data-ttu-id="3cf90-169">Управление ключами — неотъемлемая часть стратегии защиты данных, так как оно применяется для хранения секретных ключей, используемых для шифрования данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-169">Key management becomes an integral part of data protection, since it will be leveraged to store secret keys that are used to encrypt data.</span></span>

<span data-ttu-id="3cf90-170">При шифровании дисков Azure используется [хранилище ключей Azure](https://azure.microsoft.com/services/key-vault/). Благодаря этому вы можете управлять ключами и секретами шифрования дисков в рамках подписки на хранилище ключей. Шифрование выполняется для всех неактивных данных на дисках виртуальных машин в службе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="3cf90-170">Azure disk encryption uses [Azure Key Vault](https://azure.microsoft.com/services/key-vault/) to help you control and manage disk encryption keys and secrets in your key vault subscription, while ensuring that all data in the virtual machine disks are encrypted at rest in your Azure storage.</span></span> <span data-ttu-id="3cf90-171">Хранилище ключей Azure следует использовать для аудита ключей и использования политик.</span><span class="sxs-lookup"><span data-stu-id="3cf90-171">You should use Azure Key Vault to audit keys and policy usage.</span></span>

<span data-ttu-id="3cf90-172">С отсутствием подходящих средств защиты секретных ключей, которые используются для шифрования данных, связано много рисков.</span><span class="sxs-lookup"><span data-stu-id="3cf90-172">There are many inherent risks related to not having appropriate security controls in place to protect the secret keys that were used to encrypt your data.</span></span> <span data-ttu-id="3cf90-173">Если злоумышленники получат доступ к секретным ключам, они смогут расшифровать данные и получить доступ к конфиденциальной информации.</span><span class="sxs-lookup"><span data-stu-id="3cf90-173">If attackers have access to the secret keys, they will be able to decrypt the data and potentially have access to confidential information.</span></span>

<span data-ttu-id="3cf90-174">Общие рекомендации по управлению сертификатами в Azure см. в публикации блога [Certificate Management in Azure: Do’s and Don’ts](https://blogs.msdn.microsoft.com/azuresecurity/2015/07/13/certificate-management-in-azure-dos-and-donts/) (Управление сертификатами в Azure: рекомендуемые и нерекомендуемые действия).</span><span class="sxs-lookup"><span data-stu-id="3cf90-174">You can learn more about general recommendations for certificate management in Azure by reading the article [Certificate Management in Azure: Do’s and Don’ts](https://blogs.msdn.microsoft.com/azuresecurity/2015/07/13/certificate-management-in-azure-dos-and-donts/).</span></span>

<span data-ttu-id="3cf90-175">Дополнительные сведения о хранилище ключей Azure см. в статье [Приступая к работе с хранилищем ключей Azure](../key-vault/key-vault-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="3cf90-175">For more information about Azure Key Vault, read [Get started with Azure Key Vault](../key-vault/key-vault-get-started.md).</span></span>

## <a name="manage-with-secure-workstations"></a><span data-ttu-id="3cf90-176">Безопасное управление рабочими станциями</span><span class="sxs-lookup"><span data-stu-id="3cf90-176">Manage with Secure Workstations</span></span>
<span data-ttu-id="3cf90-177">Так как большая часть атак направлена на пользователя, одной из основных целей атакующих становится конечная точка.</span><span class="sxs-lookup"><span data-stu-id="3cf90-177">Since the vast majority of the attacks target the end user, the endpoint becomes one of the primary points of attack.</span></span> <span data-ttu-id="3cf90-178">Если злоумышленник скомпрометирует конечную точку, он сможет использовать учетные данные пользователя для доступа к данным организации.</span><span class="sxs-lookup"><span data-stu-id="3cf90-178">If an attacker compromises the endpoint, he can leverage the user’s credentials to gain access to organization’s data.</span></span> <span data-ttu-id="3cf90-179">Большинство атак на конечные точки происходит с учетом того, что пользователи являются администраторами на своих локальных рабочих станциях.</span><span class="sxs-lookup"><span data-stu-id="3cf90-179">Most endpoint attacks are able to take advantage of the fact that end users are administrators in their local workstations.</span></span>

<span data-ttu-id="3cf90-180">Эти риски можно уменьшить с помощью безопасного управления рабочей станцией.</span><span class="sxs-lookup"><span data-stu-id="3cf90-180">You can reduce these risks by using a secure management workstation.</span></span> <span data-ttu-id="3cf90-181">Мы рекомендуем использовать [рабочие станции с привилегированным доступом](https://technet.microsoft.com/library/mt634654.aspx) для снижения уязвимости рабочих станций к атакам.</span><span class="sxs-lookup"><span data-stu-id="3cf90-181">We recommend that you use a [Privileged Access Workstations (PAW)](https://technet.microsoft.com/library/mt634654.aspx) to reduce the attack surface in workstations.</span></span> <span data-ttu-id="3cf90-182">Этот метод безопасного управления рабочими станциями поможет избежать некоторых типов атак, тем самым повышая безопасность данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-182">These secure management workstations can help you mitigate some of these attacks help ensure your data is safer.</span></span> <span data-ttu-id="3cf90-183">Обязательно используйте рабочие станции с привилегированным доступом для усиления защиты и блокировки рабочей станции.</span><span class="sxs-lookup"><span data-stu-id="3cf90-183">Make sure to use PAW to harden and lock down your workstation.</span></span> <span data-ttu-id="3cf90-184">Это важно для обеспечения безопасности критически важных учетных записей, задач и данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-184">This is an important step to provide high security assurances for sensitive accounts, tasks and data protection.</span></span>

<span data-ttu-id="3cf90-185">Отсутствие защиты конечной точки может поставить данные под угрозу. Обязательно применяйте политики безопасности на всех устройствах, которые используются для получения данных, независимо от расположения этих данных (локально или в облаке).</span><span class="sxs-lookup"><span data-stu-id="3cf90-185">Lack of endpoint protection may put your data at risk, make sure to enforce security policies across all devices that are used to consume data, regardless of the data location (cloud or on-premises).</span></span>

<span data-ttu-id="3cf90-186">Чтобы узнать больше о рабочих станциях с привилегированным доступом, прочитайте статью [Защита привилегированного доступа](https://technet.microsoft.com/library/mt631194.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cf90-186">You can learn more about privileged access workstation by reading the article [Securing Privileged Access](https://technet.microsoft.com/library/mt631194.aspx).</span></span>

## <a name="enable-sql-data-encryption"></a><span data-ttu-id="3cf90-187">Шифрование данных SQL</span><span class="sxs-lookup"><span data-stu-id="3cf90-187">Enable SQL data encryption</span></span>
<span data-ttu-id="3cf90-188">[Прозрачное шифрование данных в Базе данных SQL Azure](https://msdn.microsoft.com/library/dn948096.aspx) помогает защититься от вредоносных действий. В реальном времени выполняется шифрование и расшифровка хранимых баз данных, связанных резервных копий и файлов журналов транзакций; при этом само приложение изменять не нужно.</span><span class="sxs-lookup"><span data-stu-id="3cf90-188">[Azure SQL Database transparent data encryption](https://msdn.microsoft.com/library/dn948096.aspx) (TDE) helps protect against the threat of malicious activity by performing real-time encryption and decryption of the database, associated backups, and transaction log files at rest without requiring changes to the application.</span></span>  <span data-ttu-id="3cf90-189">При использовании TDE хранилище всей базы данных шифруется с помощью симметричного ключа, который называется ключом шифрования базы данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-189">TDE encrypts the storage of an entire database by using a symmetric key called the database encryption key.</span></span>

<span data-ttu-id="3cf90-190">Даже если хранилище данных зашифровано, нужно зашифровать и базу данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-190">Even when the entire storage is encrypted, it is very important to also encrypt your database itself.</span></span> <span data-ttu-id="3cf90-191">Такой подход обеспечивает эшелонированную защиту ваших данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-191">This is an implementation of the defense in depth approach for data protection.</span></span> <span data-ttu-id="3cf90-192">Если вы используете [Базу данных SQL Azure](https://msdn.microsoft.com/library/0bf7e8ff-1416-4923-9c4c-49341e208c62.aspx) и хотите защитить конфиденциальные данные, например номера кредитных карт или социального страхования, то вы можете использовать для шифрования базы данных 256-разрядное шифрование AES, прошедшее проверку по стандарту FIPS 140-2 и соответствующее требованиям различных отраслевых стандартов (например, HIPAA и PCI).</span><span class="sxs-lookup"><span data-stu-id="3cf90-192">If you are using [Azure SQL Database](https://msdn.microsoft.com/library/0bf7e8ff-1416-4923-9c4c-49341e208c62.aspx) and wish to protect sensitive data such as credit card or social security numbers, you can encrypt databases with FIPS 140-2 validated 256 bit AES encryption which meets the requirements of many industry standards (e.g., HIPAA, PCI).</span></span>

<span data-ttu-id="3cf90-193">Важно понимать, что файлы, относящиеся к [расширению буферного пула](https://msdn.microsoft.com/library/dn133176.aspx), не шифруются при использовании прозрачного шифрования базы данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-193">It’s important to understand that files related to [buffer pool extension](https://msdn.microsoft.com/library/dn133176.aspx) (BPE) are not encrypted when a database is encrypted using TDE.</span></span> <span data-ttu-id="3cf90-194">Для защиты этих файлов следует применить средства шифрования на уровне файловой системы, например BitLocker или [шифрованную файловую систему](https://technet.microsoft.com/library/cc700811.aspx) (EFS).</span><span class="sxs-lookup"><span data-stu-id="3cf90-194">You must use file system level encryption tools like BitLocker or the [Encrypting File System](https://technet.microsoft.com/library/cc700811.aspx) (EFS) for BPE related files.</span></span>

<span data-ttu-id="3cf90-195">Поскольку авторизованные пользователи, например администратор службы безопасности или администратор базы данных, имеют доступ к данным даже при использовании прозрачного шифрования, следует соблюдать ряд дополнительных рекомендаций:</span><span class="sxs-lookup"><span data-stu-id="3cf90-195">Since an authorized user such as a security administrator or a database administrator can access the data even if the database is encrypted with TDE, you should also follow the recommendations below:</span></span>

* <span data-ttu-id="3cf90-196">выполнять проверку подлинности SQL на уровне базы данных;</span><span class="sxs-lookup"><span data-stu-id="3cf90-196">SQL authentication at the database level</span></span>
* <span data-ttu-id="3cf90-197">выполнять проверку подлинности Azure AD с использованием ролей RBAC;</span><span class="sxs-lookup"><span data-stu-id="3cf90-197">Azure AD authentication using RBAC roles</span></span>
* <span data-ttu-id="3cf90-198">использовать раздельные учетные записи для проверки подлинности пользователей и приложений</span><span class="sxs-lookup"><span data-stu-id="3cf90-198">Users and applications should use separate accounts to authenticate.</span></span> <span data-ttu-id="3cf90-199">(это позволит ограничить разрешения, предоставляемые пользователям и приложениям, и снизить риски вредоносных действий);</span><span class="sxs-lookup"><span data-stu-id="3cf90-199">This way you can limit the permissions granted to users and applications and reduce the risks of malicious activity</span></span>
* <span data-ttu-id="3cf90-200">реализовать защиту на уровне базы данных с помощью фиксированных ролей базы данных (например, db_datareader и db_datawriter) или собственных пользовательских ролей для приложения, которые явным образом предоставляют разрешения для определенных объектов базы данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-200">Implement database-level security by using fixed database roles (such as db_datareader or db_datawriter), or you can create custom roles for your application to grant explicit permissions to selected database objects</span></span>

<span data-ttu-id="3cf90-201">Организации, не использующие шифрование на уровне базы данных, могут быть более уязвимы для атак, нацеленных на компрометацию данных в базах данных SQL.</span><span class="sxs-lookup"><span data-stu-id="3cf90-201">Organizations that are not using database level encryption may be more susceptible for attacks that may compromise data located in SQL databases.</span></span>

<span data-ttu-id="3cf90-202">Дополнительные сведения о прозрачном шифровании SQL см. в статье [Прозрачное шифрование данных в Базе данных SQL Azure](https://msdn.microsoft.com/library/0bf7e8ff-1416-4923-9c4c-49341e208c62.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cf90-202">You can learn more about SQL TDE encryption by reading the article [Transparent Data Encryption with Azure SQL Database](https://msdn.microsoft.com/library/0bf7e8ff-1416-4923-9c4c-49341e208c62.aspx).</span></span>

## <a name="protect-data-in-transit"></a><span data-ttu-id="3cf90-203">Защита данных при передаче</span><span class="sxs-lookup"><span data-stu-id="3cf90-203">Protect data in transit</span></span>
<span data-ttu-id="3cf90-204">Защита данных при передаче обязательно должна быть учтена в стратегии защиты данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-204">Protecting data in transit should be essential part of your data protection strategy.</span></span> <span data-ttu-id="3cf90-205">Так как данные будут перемещаться между разными расположениями, мы рекомендуем всегда использовать для обмена данными протоколы SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="3cf90-205">Since data will be moving back and forth from many locations, the general recommendation is that you always use SSL/TLS protocols to exchange data across different locations.</span></span> <span data-ttu-id="3cf90-206">В некоторых случаях вам потребуется изолировать весь коммуникационный канал между локальной сетью и облачной инфраструктурой, создав виртуальную частную сеть (VPN).</span><span class="sxs-lookup"><span data-stu-id="3cf90-206">In some circumstances, you may want to isolate the entire communication channel between your on-premises and cloud infrastructure by using a virtual private network (VPN).</span></span>

<span data-ttu-id="3cf90-207">Для перемещения данных между локальной инфраструктурой и Azure следует применять соответствующие меры безопасности, например использовать HTTPS или VPN.</span><span class="sxs-lookup"><span data-stu-id="3cf90-207">For data moving between your on-premises infrastructure and Azure, you should consider appropriate safeguards such as HTTPS or VPN.</span></span>

<span data-ttu-id="3cf90-208">Если организации нужен безопасный доступ к Azure с нескольких рабочих станций в локальной сети, то используйте [VPN-подключение типа "сеть — сеть"](../vpn-gateway/vpn-gateway-site-to-site-create.md).</span><span class="sxs-lookup"><span data-stu-id="3cf90-208">For organizations that need to secure access from multiple workstations located on-premises to Azure, use [Azure site-to-site VPN](../vpn-gateway/vpn-gateway-site-to-site-create.md).</span></span>

<span data-ttu-id="3cf90-209">Если организации нужен безопасный доступ к Azure с одной рабочей станции в локальной сети, то используйте [VPN-подключение типа "точка — сеть"](../vpn-gateway/vpn-gateway-point-to-site-create.md).</span><span class="sxs-lookup"><span data-stu-id="3cf90-209">For organizations that need to secure access from one workstation located on-premises to Azure, use [Point-to-Site VPN](../vpn-gateway/vpn-gateway-point-to-site-create.md).</span></span>

<span data-ttu-id="3cf90-210">Большие наборы данных можно перемещать по выделенному высокоскоростному каналу глобальной сети, например [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span><span class="sxs-lookup"><span data-stu-id="3cf90-210">Larger data sets can be moved over a dedicated high-speed WAN link such as [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span></span> <span data-ttu-id="3cf90-211">Если вы решите использовать ExpressRoute, то для дополнительной защиты можно зашифровать данные на уровне приложения с помощью [SSL/TLS](https://support.microsoft.com/kb/257591) или других протоколов.</span><span class="sxs-lookup"><span data-stu-id="3cf90-211">If you choose to use ExpressRoute, you can also encrypt the data at the application-level using [SSL/TLS](https://support.microsoft.com/kb/257591) or other protocols for added protection.</span></span>

<span data-ttu-id="3cf90-212">Если вы обращаетесь к службе хранилища Azure через портал Azure, все транзакции проходят по протоколу HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3cf90-212">If you are interacting with Azure Storage through the Azure Portal, all transactions occur via HTTPS.</span></span> <span data-ttu-id="3cf90-213">Также для взаимодействия со [службой хранилища Azure](https://azure.microsoft.com/services/storage/) и [Базой данных SQL Azure](https://azure.microsoft.com/services/sql-database/) можно использовать [REST API хранилища](https://msdn.microsoft.com/library/azure/dd179355.aspx) через HTTPS.</span><span class="sxs-lookup"><span data-stu-id="3cf90-213">[Storage REST API](https://msdn.microsoft.com/library/azure/dd179355.aspx) over HTTPS can also be used to interact with [Azure Storage](https://azure.microsoft.com/services/storage/) and [Azure SQL Database](https://azure.microsoft.com/services/sql-database/).</span></span>

<span data-ttu-id="3cf90-214">Организации, не защищающие передаваемые данные, более уязвимы для [атак типа "злоумышленник в середине"](https://technet.microsoft.com/library/gg195821.aspx), [перехвата данных](https://technet.microsoft.com/library/gg195641.aspx) и перехвата сеанса.</span><span class="sxs-lookup"><span data-stu-id="3cf90-214">Organizations that fail to protect data in transit are more susceptible for [man-in-the-middle attacks](https://technet.microsoft.com/library/gg195821.aspx), [eavesdropping](https://technet.microsoft.com/library/gg195641.aspx) and session hijacking.</span></span> <span data-ttu-id="3cf90-215">Такие атаки могут стать первым шагом в ходе получения доступа к конфиденциальным данным.</span><span class="sxs-lookup"><span data-stu-id="3cf90-215">These attacks can be the first step in gaining access to confidential data.</span></span>

<span data-ttu-id="3cf90-216">Дополнительные сведения о возможностях VPN в Azure см. в статье [Планирование и проектирование VPN-шлюза](../vpn-gateway/vpn-gateway-plan-design.md).</span><span class="sxs-lookup"><span data-stu-id="3cf90-216">You can learn more about Azure VPN option by reading the article [Planning and design for VPN Gateway](../vpn-gateway/vpn-gateway-plan-design.md).</span></span>

## <a name="enforce-file-level-data-encryption"></a><span data-ttu-id="3cf90-217">применение шифрования данных на уровне файлов.</span><span class="sxs-lookup"><span data-stu-id="3cf90-217">Enforce file level data encryption</span></span>
<span data-ttu-id="3cf90-218">Дополнительную защиту, которая повысит уровень безопасности данных, обеспечит шифрование самого файла, независимо от его расположения.</span><span class="sxs-lookup"><span data-stu-id="3cf90-218">Another layer of protection that can increase the level of security for your data is encrypting the file itself, regardless of the file location.</span></span>

<span data-ttu-id="3cf90-219">[Azure RMS](https://technet.microsoft.com/library/jj585026.aspx) использует для защиты файлов и электронной почты шифрование, удостоверения и политики авторизации.</span><span class="sxs-lookup"><span data-stu-id="3cf90-219">[Azure RMS](https://technet.microsoft.com/library/jj585026.aspx) uses encryption, identity, and authorization policies to help secure your files and email.</span></span> <span data-ttu-id="3cf90-220">Azure RMS работает на различных устройствах — телефонах, планшетных и стационарных ПК, защищая данные как внутри организации, так и за ее пределами.</span><span class="sxs-lookup"><span data-stu-id="3cf90-220">Azure RMS works across multiple devices — phones, tablets, and PCs by protecting both within your organization and outside your organization.</span></span> <span data-ttu-id="3cf90-221">Такие возможности Azure RMS обеспечивает благодаря дополнительному уровню защиты, которая распространяется даже на данные, выходящие за пределы вашей организации.</span><span class="sxs-lookup"><span data-stu-id="3cf90-221">This capability is possible because Azure RMS adds a level of protection that remains with the data, even when it leaves your organization’s boundaries.</span></span>

<span data-ttu-id="3cf90-222">При использовании Azure RMS для защиты файлов применяется отраслевой стандарт шифрования с полной поддержкой [FIPS 140-2](http://csrc.nist.gov/groups/STM/cmvp/standards.html).</span><span class="sxs-lookup"><span data-stu-id="3cf90-222">When you use Azure RMS to protect your files, you are using industry-standard cryptography with full support of [FIPS 140-2](http://csrc.nist.gov/groups/STM/cmvp/standards.html).</span></span> <span data-ttu-id="3cf90-223">Используя Azure RMS для защиты данных, вы обеспечиваете защиту файла даже при его переносе в хранилище, не подконтрольное вашему ИТ-отделу, например в облачную службу хранения.</span><span class="sxs-lookup"><span data-stu-id="3cf90-223">When you leverage Azure RMS for data protection, you have the assurance that the protection stays with the file, even if it is copied to storage that is not under the control of IT, such as a cloud storage service.</span></span> <span data-ttu-id="3cf90-224">Это же применимо и в отношении файлов, передаваемых по электронной почте. Такой файл защищается как вложение, а к самому письму прилагаются инструкции по его открытию.</span><span class="sxs-lookup"><span data-stu-id="3cf90-224">The same occurs for files shared via e-mail, the file is protected as an attachment to an email message, with instructions how to open the protected attachment.</span></span>

<span data-ttu-id="3cf90-225">Если вы планируете внедрять Azure RMS, мы рекомендуем учитывать следующее:</span><span class="sxs-lookup"><span data-stu-id="3cf90-225">When planning for Azure RMS adoption we recommend the following:</span></span>

* <span data-ttu-id="3cf90-226">Установить [приложение RMS](https://technet.microsoft.com/library/dn339006.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cf90-226">Install the [RMS sharing app](https://technet.microsoft.com/library/dn339006.aspx).</span></span> <span data-ttu-id="3cf90-227">Это приложение интегрируется с приложениями Office, устанавливая надстройку Office, что позволяет пользователям самим защищать файлы.</span><span class="sxs-lookup"><span data-stu-id="3cf90-227">This app integrates with Office applications by installing an Office add-in so that users can easily protect files directly.</span></span>
* <span data-ttu-id="3cf90-228">Настроить поддержку Azure RMS в приложениях и службах.</span><span class="sxs-lookup"><span data-stu-id="3cf90-228">Configure applications and services to support Azure RMS</span></span>
* <span data-ttu-id="3cf90-229">Создать [пользовательские шаблоны](https://technet.microsoft.com/library/dn642472.aspx), соответствующие бизнес-требованиям.</span><span class="sxs-lookup"><span data-stu-id="3cf90-229">Create [custom templates](https://technet.microsoft.com/library/dn642472.aspx) that reflect your business requirements.</span></span> <span data-ttu-id="3cf90-230">Например, это может быть шаблон для данных строгой секретности, который будет применяться ко всем сообщениям электронной почты с соответствующим статусом.</span><span class="sxs-lookup"><span data-stu-id="3cf90-230">For example: a template for top secret data that should be applied in all top secret related emails.</span></span>

<span data-ttu-id="3cf90-231">Организации, которые не уделяют достаточно внимания [классификации данных](http://download.microsoft.com/download/0/A/3/0A3BE969-85C5-4DD2-83B6-366AA71D1FE3/Data-Classification-for-Cloud-Readiness.pdf) и защите файлов, могут быть более уязвимыми к утечкам данных.</span><span class="sxs-lookup"><span data-stu-id="3cf90-231">Organizations that are weak on [data classification](http://download.microsoft.com/download/0/A/3/0A3BE969-85C5-4DD2-83B6-366AA71D1FE3/Data-Classification-for-Cloud-Readiness.pdf) and file protection may be more susceptible to data leakage.</span></span> <span data-ttu-id="3cf90-232">Без правильной защиты файлов организация не сможет получать данные бизнес-аналитики, а также отслеживать нарушения и предотвращать неправомочный доступ к файлам.</span><span class="sxs-lookup"><span data-stu-id="3cf90-232">Without proper file protection, organizations won’t be able to obtain business insights, monitor for abuse and prevent malicious access to files.</span></span>

<span data-ttu-id="3cf90-233">Дополнительные сведения об Azure RMS см. в статье [Начало работы со службой Azure Rights Management](https://technet.microsoft.com/library/jj585016.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cf90-233">You can learn more about Azure RMS by reading the article [Getting Started with Azure Rights Management](https://technet.microsoft.com/library/jj585016.aspx).</span></span>
