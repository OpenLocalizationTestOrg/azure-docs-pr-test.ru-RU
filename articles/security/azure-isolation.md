---
title: "aaaIsolation в общедоступном облаке Azure hello | Документы Microsoft"
description: "Дополнительные сведения об облачных вычислительных служб, которые включают широкий выбор вычислительных служб, которые можно подбирать автоматически toomeet hello потребности вашего приложения или enterprise."
services: security
documentationcenter: na
author: UnifyCloud
manager: swadhwa
editor: TomSh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/27/2017
ms.author: TomSh
ms.openlocfilehash: 271e5f0d00abcfd404ce6c50cfb7d1ac26360c90
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="isolation-in-hello-azure-public-cloud"></a>Изоляция в общедоступном облаке Azure hello
##  <a name="introduction"></a>Введение
### <a name="overview"></a>Обзор
tooassist текущим и потенциальным клиентам Azure понять и использовать hello различные возможности безопасности в и окружающей Здравствуйте платформы Azure, корпорация Майкрософт разработала ряд технические документы, обзоры безопасности, советы и рекомендации, и Контрольные списки.
разделы Hello диапазоне с точки зрения полноте и разнообразии и периодически обновляются. Этот документ является частью этого ряда, сведенные раздела hello абстрактный следующие.

### <a name="azure-platform"></a>Платформа Azure
Azure представляет собой платформу открытая и гибкая облачная служба, которая поддерживает hello широкий выбор операционных систем, языкам программирования, платформ, средства, баз данных и устройств. Вот что вы можете, к примеру, делать:
- запускать контейнеры Linux с интеграцией Docker;
- создавать приложения с помощью JavaScript, Python, .NET, PHP, Java и Node.js;
- создавать серверные части для устройств iOS, Android и Windows.

Microsoft Azure поддерживает hello уже зависит от одной технологии миллионам разработчиков и ИТ-специалистов и доверия.

Если вы сборки, либо выполнить миграцию ИТ-ресурсов, общедоступное облако поставщика услуг, зависит от этой организации tooprotect возможности приложений и данных с помощью hello службы и hello элементов управления он предоставляет toomanage hello безопасность на основе облака активы.

Из tooapplications территории hello для размещения миллионы клиентов одновременно предназначен инфраструктуры Azure и предоставляет trustworthy основу, на которой предприятия требованиям их безопасности. Кроме того, Azure предоставляет широкий набор toocontrol возможности безопасности можно настроить параметры и hello их, чтобы вы могли изменять toomeet hello уникальные требования к безопасности для развертываний. Данный документ поможет вам выполнить эти требования.

### <a name="abstract"></a>Аннотация

Microsoft Azure позволяет toorun приложений и виртуальных машин (ВМ) в общей физической инфраструктуре. Одно из приложений toorunning основной экономической мотивации hello в облачной среде — возможность hello toodistribute стоимость hello общих ресурсов между несколькими клиентами. Такой мультитенантный подход повышает эффективность мультиплексирования ресурсов между различными заказчиками и обеспечивает снижение затрат. К сожалению он также представляет риск hello совместного использования физических серверов и других toorun ресурсы инфраструктуры уязвимых приложений и виртуальных машин, которые могут входить tooan произвольный и потенциально вредоносных пользователей.

В этой статье рассматриваются как обеспечивает изоляцию от вредоносного и непреднамеренные пользователей Microsoft Azure и служит в качестве руководства для архитектуры облачные решения, предлагая различных tooarchitects варианты изоляции. В этом техническом документе основное внимание уделяется hello технологии платформы Azure и управления безопасностью клиентов и не пытаться tooaddress соглашений об уровне обслуживания, цены модели и DevOps и рекомендации.

## <a name="tenant-level-isolation"></a>Уровень изоляции клиентов
Одно из основных преимуществ hello облачные вычисления — концепция общей инфраструктуры общих среди многочисленных клиентов одновременно, начальные tooeconomies шкалы. Этот принцип называется мультитенантностью. Корпорация Майкрософт постоянно работает над tooensure, архитектура несколькими клиентами hello облако Microsoft Azure поддерживает стандарты безопасности, конфиденциальности, конфиденциальность, целостность и доступность.

В облачной среде hello клиента можно определить как заказчика или организации, которая владеет и управляет определенным экземпляром облачной службы. С платформой удостоверений hello, предоставляемых Microsoft Azure клиент — просто выделенный экземпляр Azure Active Directory (Azure AD), ваша организация получает и становится владельцем при регистрации в облачной службе Майкрософт.

Каждый каталог Azure AD отделен от других каталогов Azure AD. Так же, как Корпоративное офисное здание является безопасным активом конкретных tooonly вашей организации, каталог Azure AD также спроектированный toobe безопасным активом для использования только вашей организацией. Hello архитектура Azure AD изолирует данные клиента и удостоверений данные предотвратить их смешивание. Это означает, что пользователи и администраторы одного каталога Azure AD не могут случайно или злонамеренно получить доступ к данным в другом каталоге.

### <a name="azure-tenancy"></a>Аренда Azure
Azure аренды (подписка на Azure) относится связи «customer и выставления счетов» tooa и уникальный [клиента](https://docs.microsoft.com/azure/active-directory/develop/active-directory-howto-tenant) в [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis). Изоляция на уровне клиента в Microsoft Azure достигается с помощью службы Azure Active Directory и ее [элементов управления на основе ролей](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is). Каждая подписка Azure связана с одним каталогом Azure Active Directory (AD).

Пользователи, группы и приложения из этого каталога можно управлять ресурсами в hello подписки Azure. Можно назначить эти права доступа, с помощью портала Azure hello, средств командной строки Azure и API управления Azure. Клиент Azure AD логически изолируется с помощью границ безопасности, чтобы никакой клиент не мог получить доступ к данным совладельцев или скопрометировать их, злонамеренно или случайно. Azure AD выполняется на выделенных серверах, изолированных в отдельном сегменте сети, в котором средство фильтрации пакетов на уровне узла и брандмауэр Windows блокируют нежелательные подключения и трафик.

- Toodata доступа в Azure AD требует проверки подлинности пользователя через [службы маркеров безопасности (STS)](https://docs.microsoft.com/azure/app-service-web/web-sites-authentication-authorization). Сведения о существование hello пользователя, включенном состоянии и роль используется toodetermine система авторизации hello ли hello доступ к запрошенному ресурсу toohello целевой клиента разрешения, необходимые для этого пользователя в этом сеансе.

![Аренда Azure](./media/azure-isolation/azure-isolation-fig1.png)


- Клиенты являются отдельными контейнерами, не взаимосвязанными между собой.

- У клиентов нет доступа друг к другу, если только администратор клиентов не предоставит его, использовав федерацию или подготовив учетные записи пользователей из других клиентов.

- Физический доступ tooservers, составляющие службу hello Azure AD и прямой доступ tooAzure AD внутренней системы, ограничено.

- Azure AD — пользователи не имеют доступ к ресурсам toophysical или расположения, и поэтому не возможно их toobypass hello логические RBAC политики проверки указано следующие.

Для диагностики и обслуживания требуется и используется рабочая модель, которая использует JIT-систему повышения привилегий. Azure AD Privileged Identity Management (PIM) введена концепция hello подходящих администратора. [Временные администраторы](https://docs.microsoft.com/azure/active-directory/active-directory-privileged-identity-management-configure) — это пользователи, которым привилегированный доступ требуется время от времени, а не каждый день. роль Hello неактивна, пока hello нужны пользователю, то для завершения процесса активации и стать администратором active для заданного периода времени.

![Azure AD Privileged Identity Management](./media/azure-isolation/azure-isolation-fig2.png)

Azure Active Directory размещаются каждого клиента в свой собственный защищенный контейнер с tooand политик и разрешений в контейнере hello исключительно владеет и управляет hello клиента.

Hello концепция контейнеров клиента глубоко закоренелой в службе каталогов hello на всех уровнях, из порталов все hello хранилища toopersistent способом.

Даже в том случае, если метаданные из нескольких клиентов Azure Active Directory хранятся на hello же физический диск, не существует связи между контейнерами hello Кроме сеть, определенная службой каталогов hello, который в свою очередь, зависит от администратора клиента hello.

### <a name="azure-role-based-access-control-rbac"></a>Управление доступом на основе ролей в Azure (RBAC)
[Azure на основе ролей управления доступом (RBAC)](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is) помогает вам tooshare различные компоненты, доступные в рамках подписки Azure, предоставляя подробного управления доступом для Azure. Azure RBAC позволяет функции toosegregate в вашей организации и предоставление доступа на основе какие пользователи должны tooperform свою работу. Вместо того, чтобы предоставить всем неограниченные разрешения для подписки Azure или ресурсов, можно разрешить только определенные действия.

Azure RBAC имеет три основные роли, которые применяются tooall типы ресурсов:

- **Владелец** имеет полный доступ tooall ресурсы, включая tooothers доступа правой toodelegate hello.

- **Участник** можно создавать и управлять все типы ресурсов Azure, но не может предоставить tooothers доступ.

- **Читатель** может просматривать существующие ресурсы Azure.

![Управление доступом на основе ролей в Azure](./media/azure-isolation/azure-isolation-fig3.png)

rest Hello hello RBAC ролей в Azure позволяет осуществлять управление определенных ресурсов Azure. Например hello роль участника виртуальной машины позволяет toocreate пользователя hello и управление виртуальными машинами. Он не дает им доступ toohello виртуальной сети Azure или hello подсети, виртуальной машины hello подключается к.

[Встроенные роли RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-built-in-roles) списка hello ролей, доступных в Azure. Он указывает, что операции hello и что каждая встроенная роль предоставляет toousers области. Если вам нужна toodefine свои собственные роли для дополнительного управления, см. раздел как toobuild [пользовательских ролей в Azure RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-control-custom-roles).

К другим возможностям Azure Active Directory относятся следующие.
- Azure AD обеспечивает tooSaaS приложения с единым ВХОДОМ, независимо от того, где они размещаются. Некоторые приложения служба Azure AD объединяет в федерацию, а другие используют единый вход с помощью пароля. Федеративные приложения могут также поддерживать подготовку пользователя и [хранение паролей в хранилище](https://www.techopedia.com/definition/31415/password-vault).

- Toodata доступ в [хранилища Azure](https://azure.microsoft.com/services/storage/) управляется с помощью проверки подлинности. Каждая учетная запись хранилища имеет первичный ключ ([ключ учетной записи хранения](https://docs.microsoft.com/azure/storage/storage-create-storage-account), или SAK) и секретный ключ получателя (hello подписанный URL-адрес или SAS).

- В Azure AD можно использовать удостоверение как услугу при федерации (с помощью [служб федерации Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-azure-adfs)), синхронизации и репликации локальных каталогов.

- [Azure Multi-factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/multi-factor-authentication) — служба hello многофакторной проверки подлинности, которая требует пользователей tooverify войти в систему с помощью мобильного приложения, телефонного звонка или текстового сообщения. Он может использоваться с Azure AD toohelp безопасного локальных ресурсов с hello Azure многофакторной проверки подлинности сервера, а также с пользовательскими приложениями и каталогами с помощью пакета SDK для hello.

- [Доменные службы Azure AD](https://azure.microsoft.com/services/active-directory-ds/) позволяет присоединить домен Active Directory tooan виртуальных машин Azure без развертывания контроллеров домена. Можно войти в toothese виртуальных машин с помощью корпоративных учетных данных Active Directory и администрирование виртуальных машин, присоединенных к домену с помощью базовые конфигурации безопасности tooenforce групповой политики на всех виртуальных машинах Azure.

- [Azure Active Directory B2C](https://azure.microsoft.com/services/active-directory-b2c/) предоставляет службу управления высокой надежности глобальное удостоверение для приложений, ориентированных на потребителей, масштабируемая toohundreds миллионов идентификаторов. Служба интегрируется с мобильными и веб-платформами. Потребителей сможете войти в tooall приложений с помощью настраиваемых интерфейсов с помощью свои существующие учетные записи социальных сетей или создании учетных данных.

### <a name="isolation-from-microsoft-administrators--data-deletion"></a>Изоляция от администраторов корпорации Майкрософт и удаление данных
Microsoft принимает строгого меры tooprotect данные из нарушение прав доступа или использования посторонними лицами. Эти рабочие процессы и элементов управления, поддерживаемых hello [Online условия использования служб](http://aka.ms/Online-Services-Terms), которые обеспечивают договорные обязательства, которые управляют tooyour доступа к данным.

-   Специалисты Майкрософт имеют по умолчанию доступ к данным tooyour в облаке hello. Вместо этого они получают доступ под надзором руководства, только когда это необходимо. Этот доступ тщательно контролируется, регистрируется и аннулируется сразу же, как только перестает быть нужен.

-   Корпорация Майкрософт может приема на работу других служб tooprovide ограниченный компании от его имени. Субподрядчиков может получать доступ к служб hello данных только toodeliver клиента, для которых, мы наняли их tooprovide, и им запрещено использовать их для других целей. Кроме того они являются форматом связанного toomaintain hello конфиденциальность информации наших клиентов.

Бизнес-службы с аудита сертификация такие как ISO/IEC 27001 регулярно будут проверены корпорацией Майкрософт и полномочия аудита фирм, выполняющие tooattest аудиты пример такой доступ, только для законных коммерческих целей. Вы всегда можете получить доступ к своим данным клиента, в любое время и по любой причине.

Если вы удалите все данные, Microsoft Azure удаляет данные hello, включая все копии кэшированных или резервного копирования. Для служб, в области видимости что удаление будет выполняться в течение 90 дней после окончания срока хранения hello hello. (В области службы задаются в разделе hello условия обработки данных наших [Online условия использования служб](http://aka.ms/Online-Services-Terms).)

Если дисковый накопитель, используемых для хранения, возникает сбой оборудования, это безопасно [удалены или уничтожены](https://www.microsoft.com/trustcenter/Privacy/You-own-your-data) перед Microsoft возвращает toohello изготовителя для замены или ремонта. Hello данные на диске hello перезаписывается tooensure, hello данных не может быть восстановлена, любыми способами.

## <a name="compute-isolation"></a>Изоляция вычислений
Microsoft Azure предоставляет различные облачных вычислительных служб, которые включают широкий выбор вычислительных операций и служб, которые можно подбирать автоматически toomeet hello потребности вашего приложения или enterprise. Эти вычислительной и службы следует обеспечивают изоляцию на нескольких уровнях toosecure данных, сохраняя гибкость hello в конфигурации это требование клиентов.

### <a name="hyper-v--root-os-isolation-between-root-vm--guest-vms"></a>Hyper-V и корневая ОС: изоляция корневой виртуальной машины и гостевых виртуальных машин
Вычислительная платформа Azure основана на виртуализации компьютеров. Это значит, что весь код клиента выполняется на виртуальной машине Hyper-V. Для каждого узла Azure (или конечной точки сети) нет низкоуровневой оболочки, который выполняется непосредственно через hello оборудования и разделяет узел на номер переменной для гостевых виртуальных машин (ВМ).


![Hyper-V и корневая ОС: изоляция корневой виртуальной машины и гостевых виртуальных машин](./media/azure-isolation/azure-isolation-fig4.jpg)


Каждый узел имеет один специальный корневой виртуальную Машину, которая запускает hello операционной системы узла. Критические граница представляет hello изоляции корневой hello виртуальной Машины из hello гостевых виртуальных машин и hello гостевых виртуальных машин друг от друга, управляется hello низкоуровневой оболочки и hello корневая ОС. Связывание низкоуровневой оболочки и корневая ОС Hello использует десятилетия корпорации Майкрософт из операционной системы безопасности, работы и более поздней обучения на основе Hyper-V корпорации Майкрософт, tooprovide надежную изоляцию гостевых машин.

Hello платформы Azure использует виртуализованной среде. Пользовательские экземпляры работают как автономные виртуальные машины, у которых нет доступа к tooa физического сервера, и эта изоляция обеспечивается с помощью физического процессора уровни привилегий (кольцо-0 или кольца-3).

Кольцо 0 — hello наиболее привилегированных до 3 hello бы. Hello гостевой ОС выполняется в 1 кольцо меньшими правами доступа, и приложения, выполняемые hello наименее привилегированных кольцо 3. Это виртуализации физических ресурсов приводит tooa четкое разделение между гостевой ОС и низкоуровневой оболочки, что приводит к дополнительной безопасности разделение между двумя hello.

Hello Azure низкоуровневой оболочки ведет себя как микро ядра и передает все запросы на доступ оборудования от узла toohello гостевых виртуальных машин для обработки с помощью интерфейса общей памяти, называется VMBus. Это предотвращает получение необработанных доступ на чтение, запись и выполнение toohello системы и снижает риск hello совместного использования системных ресурсов.

### <a name="advanced-vm-placement-algorithm--protection-from-side-channel-attacks"></a>Расширенный алгоритм размещения виртуальных машин и защита от атак по сторонним каналам
Любой атаки между ВМ состоит из двух этапов: размещение Виртуальной машине контролем злоумышленника на hello же размещения как жертвы hello виртуальные машины, а затем нарушению tooeither границы изоляции hello кражи жертвы конфиденциальной информации или повлиять на его производительность для алчность или vandalism. Microsoft Azure обеспечивает защиту от обоих действий благодаря расширенному алгоритму размещения виртуальных машин и защите от всех известных атак по сторонним каналам, включая виртуальные машины типа "шумный сосед".

### <a name="hello-azure-fabric-controller"></a>Hello Azure Fabric Controller
Hello контроллер структуры Azure отвечает за выделение ресурсов инфраструктуры tootenant рабочих нагрузок и он управляет однонаправленный обмен данными с toovirtual hello компьютеров. алгоритм размещения виртуальной Машины Hello hello Azure fabric контроллера является сложная и практически невозможно toopredict уровне физического узла.

![Hello Azure Fabric Controller](./media/azure-isolation/azure-isolation-fig5.png)

Hello Azure низкоуровневая оболочка обеспечивает выполнение памяти и процесса разделение между виртуальными машинами и он безопасно перенаправляет сетевой трафик tooguest операционной системы клиентов. Это исключает вероятность атаки по сторонним каналам на уровне виртуальной машины.

В Azure, корневой hello виртуальной Машины является специальным: его операционной системой, зафиксированного называется корнем hello операционной системы, на котором размещена структура агента (ОС). FAs используются в очередь toomanage гостевые агенты (GA) в гостевой ОС на виртуальные машины клиента. Агенты структуры также управляют узлами хранилища.

Hello коллекцию Azure гипервизор корневой ОС или ОС и виртуальных машин и газа клиента состоит из вычислительных узлов. Агентами структуры управляет контроллер структуры, размещенный за пределами вычислительных узлов и узлов хранилища (вычислительными кластерами и кластерами хранилища управляют отдельные контроллеры структуры). Если клиент обновляет файл конфигурации своего приложения, пока она запущена, hello FC взаимодействует с hello ОС, который затем подключается газа, который уведомления приложения hello hello изменения конфигурации. В случае сбоя оборудования hello hello FC автоматически найти доступного оборудования и перезапустите Привет виртуальной Машины.

![Контроллер структуры Azure](./media/azure-isolation/azure-isolation-fig6.jpg)

Связь с агентом tooan контроллер структуры является однонаправленным. агент Hello реализует службу защитой SSL, отвечает только toorequests от контроллера hello. Он не может инициировать подключения toohello контроллер или другим привилегированным внутренние узлы. Hello FC обрабатывает все ответы, как если бы они были без доверия.


![Контроллер структуры](./media/azure-isolation/azure-isolation-fig7.png)

Изоляция расширяется от hello корневой ВМ из виртуальных машин и hello виртуальных машин друг от друга. Вычислительные узлы также изолированы от узлов хранилища в целях усиления защиты.


Низкоуровневая оболочка Hello и ОС узла hello предоставляют сетевого пакета — обеспечить toohelp фильтры, ненадежных виртуальные машины не может создать поддельный трафик или получать трафик, направленный не toothem, конечные точки инфраструктуры tooprotected прямой трафик или отправки и получения неподходящие широковещательный трафик.


### <a name="additional-rules-configured-by-fabric-controller-agent-tooisolate-vm"></a>Настроить дополнительные правила, tooIsolate структуры контроллера и агента виртуальной Машины
По умолчанию весь трафик блокируется при создании виртуальной машины и затем hello структуры контроллера и агента настраивает hello пакетов фильтрации tooadd правила и исключения tooallow авторизованных трафика.

Запрограммированы две категории правил.

-   **Конфигурация компьютера или правила инфраструктуры**. По умолчанию весь обмен данными блокируется. Существует являются исключениями tooallow toosend виртуальной машины и получать трафик службы DHCP и DNS. Виртуальные машины также могут отправлять трафик toohello «public» Интернета и отправки трафика tooother виртуальных машин в hello одной виртуальной сети Azure и hello сервер активации операционной системы. список разрешенных исходящих назначения Hello виртуальных машин не включает подсети Azure маршрутизатора, управления Azure и другие свойства Microsoft.

-   **Файл конфигурации роли:** определяет hello входящих списки управления доступом (ACL) на основании модели службы hello клиента.

### <a name="vlan-isolation"></a>Изоляция виртуальных локальных сетей
В каждом кластере существуют три виртуальные локальные сети.

![Изоляция виртуальных локальных сетей](./media/azure-isolation/azure-isolation-fig8.jpg)


-   Hello основной виртуальной ЛС — соединений узлов ненадежного клиента

-   Hello FC виртуальной ЛС — содержит доверенные FCs и вспомогательных системах

-   Здравствуйте, устройств виртуальной ЛС — содержит доверенных сетей и других устройствах инфраструктуры

Из виртуальной ЛС FC toohello hello разрешен обмен данными основной VLAN, но не удается запустить из главной toohello виртуальной локальной сети FC VLAN hello. Связи также заблокирован toohello устройства hello основной виртуальной локальной сети VLAN. Это гарантирует, что даже в случае компрометации узла под управлением код клиента он не может атаки узлы в hello FC или устройства виртуальных локальных сетей.

## <a name="storage-isolation"></a>Изоляция хранилища
### <a name="logical-isolation-between-compute-and-storage"></a>Логическая изоляция вычислений и хранилища
В основе платформы Microsoft Azure реализовано отделение вычислений на виртуальных машинах от хранилища. Это разделение позволяет вычислений и хранения tooscale независимо друг от друга, сделав его проще tooprovide многопользовательский режим и изоляции.

Таким образом хранилище Azure работает на другом оборудовании с не tooAzure подключения к сети вычислений за исключением логически. [Это](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf) означает, что при создании виртуального диска не выделяется дисковое пространство для всей его емкости. Вместо этого создается таблица, сопоставляющая адреса на tooareas hello виртуального диска на физическом диске hello и этой таблицы изначально пуста. **Здравствуйте, при первом запуске клиента записывает данные на виртуальном диске hello, выделяется пространство на физическом диске hello и tooit указатель помещается в таблицу hello.**
### <a name="isolation-using-storage-access-control"></a>Изоляция с помощью управления доступом к хранилищу
**Управление доступом в службе хранилища Azure** использует простую модель. Для каждой подписки Azure можно создать одну или несколько учетных записей хранения. Каждая учетная запись хранилища имеет один секретный ключ, используемый toocontrol доступа к данным tooall в этой учетной записи хранения.

![Изоляция с помощью управления доступом к хранилищу](./media/azure-isolation/azure-isolation-fig9.png)

**Доступ к данным хранилища tooAzure (включая таблицы)** можно управлять через [SAS (подпись общего доступа)](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1) маркер, который предоставляет область доступа. Hello SAS создается через шаблон запроса (URL), подписанные с hello [SAK (ключ учетной записи хранения)](https://msdn.microsoft.com/library/azure/ee460785.aspx). [Подписанные URL-адрес](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1) может быть задан tooanother процесс (который делегируется), который можно заполнить hello сведения запроса hello и вносить в запрос hello hello службы хранилища. SAS позволяет tooclients toogrant доступа на основе времени без предоставления секретного ключа учетной записи хранилища hello.

Hello SAS означает, что мы может предоставить клиент ограниченные разрешения, tooobjects в нашем учетной записи хранения за указанный период времени, используя указанный набор разрешений. Мы предоставляем эти ограниченные разрешения, без необходимости tooshare ключей доступа к учетной записи.

### <a name="ip-level-storage-isolation"></a>Изоляция хранилища на уровне IP-адреса
Вы можете настроить брандмауэры и определить диапазон IP-адресов для доверенных клиентов. Диапазон IP-адресов только клиенты, имеющие IP-адрес в диапазоне определенных hello позволяет подключить слишком[хранилища Azure](https://docs.microsoft.com/azure/storage/storage-security-guide).

Можно защитить IP хранилища данных неправомочным пользователям через механизм сети, используемых tooallocate выделенный или выделенный туннель трафика tooIP хранилища.

### <a name="encryption"></a>Шифрование
Azure предлагает следующие типы данных tooprotect шифрования:
-   Шифрование при передаче

-   Шифрование при хранении

#### <a name="encryption-in-transit"></a>Шифрование при передаче
Шифрование при передаче — это механизм защиты данных, передаваемых по сетям. Служба хранилища Azure позволяет применять для защиты данных:

-   [шифрование транспортного уровня](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-in-transit), например протокол HTTPS, при передаче данных в службу хранилища Azure или из нее;

-   [шифрование подключения](../storage/common/storage-security-guide.md#using-encryption-during-transit-with-azure-file-shares), например шифрование SMB 3.0 для файловых ресурсов Azure;

-   [Шифрование на стороне клиента](https://docs.microsoft.com/azure/storage/storage-security-guide#using-client-side-encryption-to-secure-data-that-you-send-to-storage), tooencrypt hello данных перед передачей в хранилище и toodecrypt hello данные после передачи за пределами хранилища.

#### <a name="encryption-at-rest"></a>Шифрование при хранении
Для многих организаций [шифрование неактивных данных](https://blogs.microsoft.com/cybertrust/2015/09/10/cloud-security-controls-series-encrypting-data-at-rest/) является обязательным шагом для защиты данных, соблюдения стандартов и обеспечения конфиденциальности данных. В Azure есть три функции, обеспечивающие шифрование неактивных данных.

-   [Шифрование службы хранилища](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-at-rest) позволяет toorequest, что службы хранилища hello автоматически шифровать данные при записи tooAzure хранилища.

-   [Шифрование на стороне клиента](https://docs.microsoft.com/azure/storage/storage-security-guide#client-side-encryption) также обеспечивает возможность hello шифрования при хранении.

-   [Azure шифрование диска](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) позволяет tooencrypt hello ОС дисков и дисков данных, используемый виртуальной машиной IaaS.

#### <a name="azure-disk-encryption"></a>Дисковое шифрование Azure
[Шифрование дисков Azure](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) для виртуальных машин помогает соблюдать корпоративные требования к безопасности и соответствию. Эта служба выполняет шифрование дисков виртуальных машин (загрузочных дисков и дисков данных) с использованием ключей и политик, которыми вы управляете в [Azure Key Vault](https://azure.microsoft.com/services/key-vault/).

Шифрование диска решения для Windows Hello основан на [программы шифрования диска BitLocker](https://technet.microsoft.com/library/cc732774.aspx), hello Linux решения на основе [dm crypt](https://en.wikipedia.org/wiki/Dm-crypt).

решение Hello поддерживает следующие сценарии для ВМ IaaS, если они включены в Microsoft Azure hello:
-   интеграция с хранилищем ключей Azure;

-   виртуальные машины IaaS серий A, D, DS, G, GS и т. д. уровня "Стандартный";

-   включение шифрования для виртуальных машин IaaS под управлением Windows и Linux;

-   отключение шифрования дисков данных и дисков операционной системы виртуальных машин IaaS под управлением Windows;

-   отключение шифрования дисков данных виртуальных машин IaaS под управлением Linux;

-   включение шифрования для виртуальных машин IaaS под управлением клиентской ОС Windows;

-   включение шифрования томов с путями подключения;

-   включение шифрования для виртуальных машин Linux с чередованием дисков (RAID) с помощью программы [mdadm](https://en.wikipedia.org/wiki/Mdadm);

-   включение шифрования для виртуальных машин Linux с использованием [диспетчера логических томов (LVM)](https://msdn.microsoft.com/library/windows/desktop/bb540532) для дисков данных;

-   включение шифрования для виртуальных машин Windows, использующих дисковые пространства.

-   поддерживаются все общедоступные регионы Azure.

решение Hello не поддерживает следующие сценарии, функции и технологии в выпуске hello hello:

-   виртуальные машины уровня "Базовый";

-   отключение шифрования диска ОС виртуальных машин IaaS под управлением Linux;

-   Виртуальные машины IaaS, созданных с помощью метода создания виртуальной Машины классический hello

-   интеграция с локальной службой управления ключами;

-   служба файлов Azure (файловый ресурс Azure), NFS, динамические тома, виртуальные машины Windows с программными системами RAID.

## <a name="sql-azure-database-isolation"></a>Изоляция базы данных SQL Azure
База данных SQL представляет собой службу реляционных баз данных в облаке Microsoft hello на основании hello отрасли Microsoft SQL Server engine и может обрабатывать критически важных рабочих нагрузок. База данных SQL предоставляет изоляцию прогнозируемых данных на уровне учетной записи на основе географического расположения или региона либо сети, обеспечивая практически полностью автоматизированное администрирование.

### <a name="sql-azure-application-model"></a>Модель приложения SQL Azure

База данных [Microsoft SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-get-started) — это облачная служба реляционных баз данных, созданная на основе технологий SQL Server. Она предоставляет высокодоступную, масштабируемую и мультитенантную службу баз данных, размещаемую корпорацией Майкрософт в облаке.

С точки зрения приложения SQL Azure предоставляет следующие иерархии hello: каждый уровень имеет один ко многим автономности ниже уровней.

![Модель приложения SQL Azure](./media/azure-isolation/azure-isolation-fig10.png)

Hello учетной записи и подписки, выставление счетов для tooassociate понятий платформы Microsoft Azure и управления.

Логические серверы и базы данных — это понятия, связанные с SQL Azure и управляемые с помощью SQL Azure посредством интерфейсов OData и TSQL или портала SQL Azure, который интегрирован в портал Azure.

Серверы SQL Azure не являются физическими экземплярами или экземплярами виртуальных машин. Они представляют собой коллекции баз данных, использующих общие политики управления и безопасности, которые хранятся в так называемой логической базе данных master.

![SQL Azure](./media/azure-isolation/azure-isolation-fig11.png)

Логические базы данных master содержат:

-   Сервер toohello tooconnect имена входа SQL

-   Правила файрволла

Сведения выставления счетов и относящиеся к использованию для баз данных SQL Azure из hello в одном логическом сервере не гарантируется toobe на hello того же физического экземпляра кластера SQL Azure, вместо этого приложения должны предоставлять hello имя целевой базы данных при подключении.

С точки зрения клиента логический сервер создается в графический географическая область, пока hello фактическое создание hello server происходит в одном из кластеров hello в регионе hello.

### <a name="isolation-through-network-topology"></a>Изоляции с помощью топологии сети

При создании логических серверов и зарегистрированные DNS-имя, имя DNS hello указывает toohello так называемых «шлюз адресов» в центре обработки данных hello, расположение сервера hello.

За hello виртуального IP-адреса (виртуальный IP-адрес) у нас есть набор служб без отслеживания состояния шлюза. В общем случае шлюз задействуется, когда требуется координировать работу нескольких источников данных (база данных master, база данных пользователя и т. д.). Служба шлюза реализации hello следующее:
-   **Использование прокси-сервера TDS-подключений.** Это включает в себя поиск пользовательской базы данных в серверной части кластера hello, реализация hello последовательность входа в систему и затем переадресовывать серверной toohello пакетов TDS hello и обратно.

-   **Управление базами данных.** Сюда входят реализации коллекции операций CREATE, ALTER или DROP с базой данных toodo рабочих процессов. Hello операций базы данных может быть вызвана проверки TDS-пакетов или API-интерфейсы явного OData.

-   Операции пользователя CREATE, ALTER или DROP.

-   Операции управления логическим сервером с помощью API OData.

![Изоляции с помощью топологии сети](./media/azure-isolation/azure-isolation-fig12.png)

уровень Hello за шлюзы hello называется «серверную». Это хранения всех данных hello в режиме высокой доступности. Каждый фрагмент данных является tooa данной toobelong «секции» или «единицы отработки отказа», каждое из них наличие по крайней мере три реплики. Реплики хранятся и реплицируются ядром SQL Server и управляются tooas системы часто называют перехода на другой ресурс «структуры».

Как правило hello серверную систему не взаимодействуют исходящих tooother системах в целях безопасности. Это зарезервированные toohello систем hello переднего плана (шлюза) уровня. Hello шлюза уровня машины ограниченные права на Тыловой машины toominimize hello hello возможных направлений атак как механизм глубокой обороны.

### <a name="isolation-by-machine-function-and-access"></a>Изоляция с помощью функций и доступа компьютеров
SQL Azure состоит из служб, использующих различные функции компьютеров. SQL Azure состоит из облачная база данных «серверная часть» и «интерфейса» среды (/ управления шлюзом), с общим принципом hello переход только трафик в серверной части и не выходные. Hello интерфейса среды могут взаимодействовать toohello за пределами world других служб, а также как правило, имеет только ограниченные разрешения в серверной части hello (достаточно toocall hello точки входа его потребности tooinvoke).

## <a name="networking-isolation"></a>Изоляция сетей
Развертывание Azure использует несколько уровней изоляции сети. Hello следующей схеме показаны различные слои сетевой изоляции, предоставляемые toocustomers в Azure. Такими слоями являются машинный код в самой платформы Azure hello и определяемых пользователем функций. Входящие из hello Интернет Azure DDoS обеспечивает изоляцию от крупномасштабных атаки, направленные на Azure. Hello следующий уровень изоляции — пользовательское общих IP-адресов (конечные точки), используемые toodetermine, какой трафик может проходить по hello облачной службы toohello виртуальной сети. Виртуальная сеть Azure имеет встроенную систему изоляции от всех остальных сетей, и этот трафик может проходить только теми путями и методами, которые настроены пользователем. Эти пути и методы являются hello следующего уровня, где Nsg, UDR и виртуальных сетевых устройств могут быть используется toocreate изоляции границы tooprotect hello развертывания приложений в сети защищенных hello.

![Изоляция сетей](./media/azure-isolation/azure-isolation-fig13.png)

**Изоляция трафика:** A [виртуальной сети](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) hello границей изоляции трафика на hello платформы Azure. Виртуальные машины (ВМ) в одной виртуальной сети не могут взаимодействовать напрямую tooVMs в другую виртуальную сеть, даже если обе виртуальные сети создаются с Привет одному клиенту. Это критически важное свойство, которое гарантирует, что виртуальные машины и все коммуникации клиента останутся закрытыми в пределах виртуальной сети.

[Подсеть](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#subnets) обеспечивает дополнительный уровень изоляции в виртуальной сети на основе диапазона IP-адресов. IP-адресов в виртуальной сети hello, виртуальной сети можно разделить на несколько подсетей для организации и безопасность. Виртуальные машины и PaaS роли экземпляров развернутых toosubnets (одном или разных) в виртуальной сети могут взаимодействовать друг с другом без какой-либо дополнительные настройки. Можно также настроить [группы безопасности сети (Nsg)](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#network-security-groups-nsg) tooallow или запретить экземпляр виртуальной Машины tooa сетевого трафика на основании правил, настроенных в списке управления доступом (ACL) NSG. Группы безопасности сети можно связать с подсетями или отдельными экземплярами виртуальных машин в одной из подсетей. Когда NSG связана с подсетью, правила ACL hello применяются tooall экземпляров виртуальных Машин hello в этой подсети.

## <a name="next-steps"></a>Дальнейшие действия

- [Network Isolation Options for Machines in Windows Azure Virtual Networks](https://azure.microsoft.com/blog/network-isolation-options-for-machines-in-windows-azure-virtual-networks/) (Возможности изоляции сети для компьютеров в виртуальных сетях Microsoft Azure)

Сюда входят hello классического внешнего и внутреннего интерфейса сценарий где машины в определенной внутреннюю сеть или подсеть может разрешить только некоторые клиенты или другие компьютеры tooconnect tooa определенной конечной точкой основании белый список IP-адресов.

- [Изоляция вычислений](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf)

Microsoft Azure предоставляет различные облачных вычислительных служб, которые включают широкий выбор вычислительных операций и служб, которые можно подбирать автоматически toomeet hello потребности вашего приложения или enterprise.

- [Изоляция хранилища](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf)

Microsoft Azure отделяет вычисления клиента на виртуальных машинах от хранилища. Это разделение позволяет вычислений и хранения tooscale независимо друг от друга, сделав его проще tooprovide многопользовательский режим и изоляции. Таким образом хранилище Azure работает на другом оборудовании с не tooAzure подключения к сети вычислений за исключением логически. Все запросы передаются по протоколу HTTP или HTTPS в зависимости от выбора клиента.

