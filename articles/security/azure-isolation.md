---
title: "Изоляция в общедоступном облаке Azure | Документация Майкрософт"
description: "Узнайте об облачных службах вычислений, которые включают в себя широкий спектр вычислительных операций и служб, поддерживающих автомасштабирование ресурсов в соответствии с потребностями приложения или предприятия."
services: security
documentationcenter: na
author: UnifyCloud
manager: swadhwa
editor: TomSh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/27/2017
ms.author: TomSh
ms.openlocfilehash: 9e6331df4a8a07c3f2524891caf77bbaab3bff0b
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="isolation-in-the-azure-public-cloud"></a><span data-ttu-id="d3df6-103">Изоляция в общедоступном облаке Azure</span><span class="sxs-lookup"><span data-stu-id="d3df6-103">Isolation in the Azure Public Cloud</span></span>
##  <a name="introduction"></a><span data-ttu-id="d3df6-104">Введение</span><span class="sxs-lookup"><span data-stu-id="d3df6-104">Introduction</span></span>
### <a name="overview"></a><span data-ttu-id="d3df6-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="d3df6-105">Overview</span></span>
<span data-ttu-id="d3df6-106">Чтобы помочь текущим и потенциальным клиентам Azure понять и правильно использовать различные функции безопасности, доступные в платформе Azure и связанных продуктах, корпорация Майкрософт разработала ряд технических документов, обзоров возможностей безопасности, рекомендаций и контрольных списков.</span><span class="sxs-lookup"><span data-stu-id="d3df6-106">To assist current and prospective Azure customers understand and utilize the various security-related capabilities available in and surrounding the Azure platform, Microsoft has developed a series of White Papers, Security Overviews, Best Practices, and Checklists.</span></span>
<span data-ttu-id="d3df6-107">Содержимое разделов периодически обновляется с точки зрения охвата и углубленности материала.</span><span class="sxs-lookup"><span data-stu-id="d3df6-107">The topics range in terms of breadth and depth and are updated periodically.</span></span> <span data-ttu-id="d3df6-108">Данный документ является частью этого цикла, как описано в приведенной ниже аннотации.</span><span class="sxs-lookup"><span data-stu-id="d3df6-108">This document is part of that series as summarized in the Abstract section following.</span></span>

### <a name="azure-platform"></a><span data-ttu-id="d3df6-109">Платформа Azure</span><span class="sxs-lookup"><span data-stu-id="d3df6-109">Azure Platform</span></span>
<span data-ttu-id="d3df6-110">Azure — открытая, гибкая облачная платформа, которая поддерживает самый широкий выбор операционных систем, языков программирования, платформ, инструментов, баз данных и устройств.</span><span class="sxs-lookup"><span data-stu-id="d3df6-110">Azure is an open and flexible cloud service platform that supports the broadest selection of operating systems, programming languages, frameworks, tools, databases, and devices.</span></span> <span data-ttu-id="d3df6-111">Вот что вы можете, к примеру, делать:</span><span class="sxs-lookup"><span data-stu-id="d3df6-111">For example, you can:</span></span>
- <span data-ttu-id="d3df6-112">запускать контейнеры Linux с интеграцией Docker;</span><span class="sxs-lookup"><span data-stu-id="d3df6-112">Run Linux containers with Docker integration;</span></span>
- <span data-ttu-id="d3df6-113">создавать приложения с помощью JavaScript, Python, .NET, PHP, Java и Node.js;</span><span class="sxs-lookup"><span data-stu-id="d3df6-113">Build apps with JavaScript, Python, .NET, PHP, Java, and Node.js; and</span></span>
- <span data-ttu-id="d3df6-114">создавать серверные части для устройств iOS, Android и Windows.</span><span class="sxs-lookup"><span data-stu-id="d3df6-114">Build back-ends for iOS, Android, and Windows devices.</span></span>

<span data-ttu-id="d3df6-115">Microsoft Azure поддерживает технологии, которым доверяют миллионы разработчиков и ИТ-специалистов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-115">Microsoft Azure supports the same technologies millions of developers and IT professionals already rely on and trust.</span></span>

<span data-ttu-id="d3df6-116">Создавая ресурсы ИТ или перенося их в поставщик общедоступных облачных служб, вы полагаетесь на возможности организации по обеспечению защиты приложений и данных с помощью предоставляемых решений для управления безопасностью облачных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-116">When you build on, or migrate IT assets to, a public cloud service provider, you are relying on that organization’s abilities to protect your applications and data with the services and the controls they provide to manage the security of your cloud-based assets.</span></span>

<span data-ttu-id="d3df6-117">Инфраструктура устройств и приложений Azure предназначена для размещения миллионов пользователей одновременно. Это надежная база, которая удовлетворяет корпоративным требованиям к обеспечению безопасности.</span><span class="sxs-lookup"><span data-stu-id="d3df6-117">Azure’s infrastructure is designed from the facility to applications for hosting millions of customers simultaneously, and it provides a trustworthy foundation upon which businesses can meet their security needs.</span></span> <span data-ttu-id="d3df6-118">Кроме того, Azure включает самые разные настраиваемые решения для обеспечения безопасности, а также возможность управления ими. Все это позволит настроить защиту в соответствии с особенностями развернутых решений.</span><span class="sxs-lookup"><span data-stu-id="d3df6-118">In addition, Azure provides you with a wide array of configurable security options and the ability to control them so that you can customize security to meet the unique requirements of your deployments.</span></span> <span data-ttu-id="d3df6-119">Данный документ поможет вам выполнить эти требования.</span><span class="sxs-lookup"><span data-stu-id="d3df6-119">This document helps you meet these requirements.</span></span>

### <a name="abstract"></a><span data-ttu-id="d3df6-120">Аннотация</span><span class="sxs-lookup"><span data-stu-id="d3df6-120">Abstract</span></span>

<span data-ttu-id="d3df6-121">Microsoft Azure позволяет выполнять приложения и виртуальные машины в общей физической инфраструктуре.</span><span class="sxs-lookup"><span data-stu-id="d3df6-121">Microsoft Azure allows you to run applications and virtual machines (VMs) on shared physical infrastructure.</span></span> <span data-ttu-id="d3df6-122">Одной из первостепенных коммерческих предпосылок для запуска приложений в облачной среде является возможность распределить затраты на общие ресурсы между несколькими клиентами.</span><span class="sxs-lookup"><span data-stu-id="d3df6-122">One of the prime economic motivations to running applications in a cloud environment is the ability to distribute the cost of shared resources among multiple customers.</span></span> <span data-ttu-id="d3df6-123">Такой мультитенантный подход повышает эффективность мультиплексирования ресурсов между различными заказчиками и обеспечивает снижение затрат.</span><span class="sxs-lookup"><span data-stu-id="d3df6-123">This practice of multi-tenancy improves efficiency by multiplexing resources among disparate customers at low costs.</span></span> <span data-ttu-id="d3df6-124">К сожалению, он также создает риск совместного использования физических серверов и других ресурсов инфраструктуры для выполнения критически важных приложений и виртуальных машин, которые могут принадлежать произвольному и потенциально злоумышленному пользователю.</span><span class="sxs-lookup"><span data-stu-id="d3df6-124">Unfortunately, it also introduces the risk of sharing physical servers and other infrastructure resources to run your sensitive applications and VMs that may belong to an arbitrary and potentially malicious user.</span></span>

<span data-ttu-id="d3df6-125">В этой статье описано, как Microsoft Azure обеспечивает изоляцию от пользователей-злоумышленников и обычных пользователей. Она служит руководством по разработке облачных решений, предлагая архитекторам различные варианты изоляции.</span><span class="sxs-lookup"><span data-stu-id="d3df6-125">This article outlines how Microsoft Azure provides isolation against both malicious and non-malicious users and serves as a guide for architecting cloud solutions by offering various isolation choices to architects.</span></span> <span data-ttu-id="d3df6-126">В этом техническом документе рассматриваются технологии платформы Azure и средства управления безопасностью клиентов. В нем не затрагиваются соглашения об уровне обслуживания, модели ценообразования и рекомендации для DevOps.</span><span class="sxs-lookup"><span data-stu-id="d3df6-126">This white paper focuses on the technology of Azure platform and customer-facing security controls, and does not attempt to address SLAs, pricing models, and DevOps practice considerations.</span></span>

## <a name="tenant-level-isolation"></a><span data-ttu-id="d3df6-127">Уровень изоляции клиентов</span><span class="sxs-lookup"><span data-stu-id="d3df6-127">Tenant Level Isolation</span></span>
<span data-ttu-id="d3df6-128">Одно из основных преимуществ облачных вычислений — принцип общей инфраструктуры, одновременно разделяемой многочисленными клиентами, что позволяет сократить затраты на порядок.</span><span class="sxs-lookup"><span data-stu-id="d3df6-128">One of the primary benefits of cloud computing is concept of a shared, common infrastructure across numerous customers simultaneously, leading to economies of scale.</span></span> <span data-ttu-id="d3df6-129">Этот принцип называется мультитенантностью.</span><span class="sxs-lookup"><span data-stu-id="d3df6-129">This concept is called multi-tenancy.</span></span> <span data-ttu-id="d3df6-130">Корпорация Майкрософт постоянно работает над мультитенантной архитектурой облака Microsoft Azure, чтобы обеспечить соблюдение стандартов безопасности, конфиденциальности, целостности и доступности.</span><span class="sxs-lookup"><span data-stu-id="d3df6-130">Microsoft works continuously to ensure that the multi-tenant architecture of Microsoft Cloud Azure supports security, confidentiality, privacy, integrity, and availability standards.</span></span>

<span data-ttu-id="d3df6-131">В облачной среде клиента можно определить как заказчика или организацию, которая владеет определенным экземпляром облачной службы и управляет им.</span><span class="sxs-lookup"><span data-stu-id="d3df6-131">In the cloud-enabled workplace, a tenant can be defined as a client or organization that owns and manages a specific instance of that cloud service.</span></span> <span data-ttu-id="d3df6-132">В рамках платформы идентификации Microsoft Azure клиент — это просто выделенный экземпляр Azure Active Directory (Azure AD), который ваша организация получает и которым она владеет после регистрации в облачной службе Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="d3df6-132">With the identity platform provided by Microsoft Azure, a tenant is simply a dedicated instance of Azure Active Directory (Azure AD) that your organization receives and owns when it signs up for a Microsoft cloud service.</span></span>

<span data-ttu-id="d3df6-133">Каждый каталог Azure AD отделен от других каталогов Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d3df6-133">Each Azure AD directory is distinct and separate from other Azure AD directories.</span></span> <span data-ttu-id="d3df6-134">Как и офисное здание представляет безопасный актив только для вашей организации, каталог Azure AD также может безопасно использоваться только вашей организацией.</span><span class="sxs-lookup"><span data-stu-id="d3df6-134">Just like a corporate office building is a secure asset specific to only your organization, an Azure AD directory was also designed to be a secure asset for use by only your organization.</span></span> <span data-ttu-id="d3df6-135">Архитектура Azure AD изолирует сведения о клиентах и удостоверениях от других пользователей.</span><span class="sxs-lookup"><span data-stu-id="d3df6-135">The Azure AD architecture isolates customer data and identity information from co-mingling.</span></span> <span data-ttu-id="d3df6-136">Это означает, что пользователи и администраторы одного каталога Azure AD не могут случайно или злонамеренно получить доступ к данным в другом каталоге.</span><span class="sxs-lookup"><span data-stu-id="d3df6-136">This means that users and administrators of one Azure AD directory cannot accidentally or maliciously access data in another directory.</span></span>

### <a name="azure-tenancy"></a><span data-ttu-id="d3df6-137">Аренда Azure</span><span class="sxs-lookup"><span data-stu-id="d3df6-137">Azure Tenancy</span></span>
<span data-ttu-id="d3df6-138">Аренда Azure (подписка Azure) означает связь между клиентом и выставлением счетов. Ей соответствует уникальный [клиент](https://docs.microsoft.com/azure/active-directory/develop/active-directory-howto-tenant) в [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis).</span><span class="sxs-lookup"><span data-stu-id="d3df6-138">Azure tenancy (Azure Subscription) refers to a “customer/billing” relationship and a unique [tenant](https://docs.microsoft.com/azure/active-directory/develop/active-directory-howto-tenant) in [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-whatis).</span></span> <span data-ttu-id="d3df6-139">Изоляция на уровне клиента в Microsoft Azure достигается с помощью службы Azure Active Directory и ее [элементов управления на основе ролей](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is).</span><span class="sxs-lookup"><span data-stu-id="d3df6-139">Tenant level isolation in Microsoft Azure is achieved using Azure Active Directory and [role-based controls](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is) offered by it.</span></span> <span data-ttu-id="d3df6-140">Каждая подписка Azure связана с одним каталогом Azure Active Directory (AD).</span><span class="sxs-lookup"><span data-stu-id="d3df6-140">Each Azure subscription is associated with one Azure Active Directory (AD) directory.</span></span>

<span data-ttu-id="d3df6-141">Пользователи, группы и приложения из этого каталога могут управлять ресурсами в подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-141">Users, groups, and applications from that directory can manage resources in the Azure subscription.</span></span> <span data-ttu-id="d3df6-142">Эти права доступа можно назначать с помощью портала Azure, программ командной строки Azure и интерфейсов API управления Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-142">You can assign these access rights using the Azure portal, Azure command-line tools, and Azure Management APIs.</span></span> <span data-ttu-id="d3df6-143">Клиент Azure AD логически изолируется с помощью границ безопасности, чтобы никакой клиент не мог получить доступ к данным совладельцев или скопрометировать их, злонамеренно или случайно.</span><span class="sxs-lookup"><span data-stu-id="d3df6-143">An Azure AD tenant is logically isolated using security boundaries so that no customer can access or compromise co-tenants, either maliciously or accidentally.</span></span> <span data-ttu-id="d3df6-144">Azure AD выполняется на выделенных серверах, изолированных в отдельном сегменте сети, в котором средство фильтрации пакетов на уровне узла и брандмауэр Windows блокируют нежелательные подключения и трафик.</span><span class="sxs-lookup"><span data-stu-id="d3df6-144">Azure AD runs on “bare metal” servers isolated on a segregated network segment, where host-level packet filtering and Windows Firewall block unwanted connections and traffic.</span></span>

- <span data-ttu-id="d3df6-145">Доступ к данным в Azure AD требует аутентификации пользователя посредством [службы маркеров безопасности](https://docs.microsoft.com/azure/app-service-web/web-sites-authentication-authorization).</span><span class="sxs-lookup"><span data-stu-id="d3df6-145">Access to data in Azure AD requires user authentication via a [security token service (STS)](https://docs.microsoft.com/azure/app-service-web/web-sites-authentication-authorization).</span></span> <span data-ttu-id="d3df6-146">Система авторизации определяет, имеет ли этот пользователь в этом сеансе право на доступ требуемого типа к целевому клиенту. Решение принимается на основе информации о существовании, состоянии активности и роли пользователя.</span><span class="sxs-lookup"><span data-stu-id="d3df6-146">Information on the user’s existence, enabled state, and role is used by the authorization system to determine whether the requested access to the target tenant is authorized for this user in this session.</span></span>

![Аренда Azure](./media/azure-isolation/azure-isolation-fig1.png)


- <span data-ttu-id="d3df6-148">Клиенты являются отдельными контейнерами, не взаимосвязанными между собой.</span><span class="sxs-lookup"><span data-stu-id="d3df6-148">Tenants are discrete containers and there is no relationship between these.</span></span>

- <span data-ttu-id="d3df6-149">У клиентов нет доступа друг к другу, если только администратор клиентов не предоставит его, использовав федерацию или подготовив учетные записи пользователей из других клиентов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-149">No access across tenants unless tenant admin grants it through federation or provisioning user accounts from other tenants.</span></span>

- <span data-ttu-id="d3df6-150">Физический доступ к серверам службы Azure AD и прямой доступ к серверным системам Azure AD ограничен.</span><span class="sxs-lookup"><span data-stu-id="d3df6-150">Physical access to servers that comprise the Azure AD service, and direct access to Azure AD’s back-end systems, is restricted.</span></span>

- <span data-ttu-id="d3df6-151">У пользователей Azure AD нет доступа к физическим ресурсам или расположениям, поэтому они не могут обойти логические проверки политик RBAC, приведенные ниже.</span><span class="sxs-lookup"><span data-stu-id="d3df6-151">Azure AD users have no access to physical assets or locations, and therefore it is not possible for them to bypass the logical RBAC policy checks stated following.</span></span>

<span data-ttu-id="d3df6-152">Для диагностики и обслуживания требуется и используется рабочая модель, которая использует JIT-систему повышения привилегий.</span><span class="sxs-lookup"><span data-stu-id="d3df6-152">For diagnostics and maintenance needs, an operational model that employs a just-in-time privilege elevation system is required and used.</span></span> <span data-ttu-id="d3df6-153">В управлении привилегированными пользователями Azure AD вводится понятие "временный администратор". [Временные администраторы](https://docs.microsoft.com/azure/active-directory/active-directory-privileged-identity-management-configure) — это пользователи, которым привилегированный доступ требуется время от времени, а не каждый день.</span><span class="sxs-lookup"><span data-stu-id="d3df6-153">Azure AD Privileged Identity Management (PIM) introduces the concept of an eligible admin. [Eligible admins](https://docs.microsoft.com/azure/active-directory/active-directory-privileged-identity-management-configure) should be users that need privileged access now and then, but not every day.</span></span> <span data-ttu-id="d3df6-154">Эта роль будет неактивной, пока пользователю не потребуется доступ. При необходимости пользователь выполнит активацию и станет активным администратором на заранее определенный период времени.</span><span class="sxs-lookup"><span data-stu-id="d3df6-154">The role is inactive until the user needs access, then they complete an activation process and become an active admin for a predetermined amount of time.</span></span>

![Azure AD Privileged Identity Management](./media/azure-isolation/azure-isolation-fig2.png)

<span data-ttu-id="d3df6-156">В Azure Active Directory размещается каждый клиент и его защищенный контейнер. Политиками и разрешениями для контейнера и в нем исключительно владеет и управляет клиент.</span><span class="sxs-lookup"><span data-stu-id="d3df6-156">Azure Active Directory hosts each tenant in its own protected container, with policies and permissions to and within the container solely owned and managed by the tenant.</span></span>

<span data-ttu-id="d3df6-157">Понятие контейнеров клиента прочно внедрено в службе каталогов на всех уровнях, от порталов до постоянного хранилища.</span><span class="sxs-lookup"><span data-stu-id="d3df6-157">The concept of tenant containers is deeply ingrained in the directory service at all layers, from portals all the way to persistent storage.</span></span>

<span data-ttu-id="d3df6-158">Даже если метаданные нескольких клиентов Azure Active Directory хранятся на одном физическом диске, между контейнерами нет какой-либо связи, кроме определенной службой каталогов, что, в свою очередь, определяет администратора клиентов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-158">Even when metadata from multiple Azure Active Directory tenants is stored on the same physical disk, there is no relationship between the containers other than what is defined by the directory service, which in turn is dictated by the tenant administrator.</span></span>

### <a name="azure-role-based-access-control-rbac"></a><span data-ttu-id="d3df6-159">Управление доступом на основе ролей в Azure (RBAC)</span><span class="sxs-lookup"><span data-stu-id="d3df6-159">Azure Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="d3df6-160">[Управление доступом на основе ролей в Azure (RBAC)](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is) позволяет совместно использовать различные компоненты, доступные в подписке Azure, обеспечивая детализированное управление доступом в Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-160">[Azure Role-Based Access Control (RBAC)](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is) helps you to share various components available within an Azure subscription by providing fine-grained access management for Azure.</span></span> <span data-ttu-id="d3df6-161">Azure RBAC позволяет разделять обязанности в организации и предоставлять доступ в зависимости от того, что нужно пользователям для работы.</span><span class="sxs-lookup"><span data-stu-id="d3df6-161">Azure RBAC enables you to segregate duties within your organization and grant access based on what users need to perform their jobs.</span></span> <span data-ttu-id="d3df6-162">Вместо того, чтобы предоставить всем неограниченные разрешения для подписки Azure или ресурсов, можно разрешить только определенные действия.</span><span class="sxs-lookup"><span data-stu-id="d3df6-162">Instead of giving everybody unrestricted permissions in Azure subscription or resources, you can allow only certain actions.</span></span>

<span data-ttu-id="d3df6-163">Механизм RBAC Azure (управление доступом на основе ролей) включает в себя три основные роли, которые применяются ко всем типам ресурсов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-163">Azure RBAC has three basic roles that apply to all resource types:</span></span>

- <span data-ttu-id="d3df6-164">**Владелец** имеет полный доступ ко всем ресурсам, включая право делегировать доступ другим.</span><span class="sxs-lookup"><span data-stu-id="d3df6-164">**Owner** has full access to all resources including the right to delegate access to others.</span></span>

- <span data-ttu-id="d3df6-165">**Участник** может создавать все типы ресурсов Azure и управлять ими, но не может предоставлять доступ другим.</span><span class="sxs-lookup"><span data-stu-id="d3df6-165">**Contributor** can create and manage all types of Azure resources but can’t grant access to others.</span></span>

- <span data-ttu-id="d3df6-166">**Читатель** может просматривать существующие ресурсы Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-166">**Reader** can view existing Azure resources.</span></span>

![Управление доступом на основе ролей в Azure](./media/azure-isolation/azure-isolation-fig3.png)

<span data-ttu-id="d3df6-168">Остальные роли RBAC в Azure разрешают управление определенными ресурсами Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-168">The rest of the RBAC roles in Azure allow management of specific Azure resources.</span></span> <span data-ttu-id="d3df6-169">Например, роль "Участник виртуальных машин" позволяет пользователю создавать виртуальные машины и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="d3df6-169">For example, the Virtual Machine Contributor role allows the user to create and manage virtual machines.</span></span> <span data-ttu-id="d3df6-170">Эта роль не предоставляет доступ к виртуальной сети или подсети Azure, к которой подключается виртуальная машина.</span><span class="sxs-lookup"><span data-stu-id="d3df6-170">It does not give them access to the Azure Virtual Network or the subnet that the virtual machine connects to.</span></span>

<span data-ttu-id="d3df6-171">В статье [RBAC: встроенные роли](https://docs.microsoft.com/azure/active-directory/role-based-access-built-in-roles) перечислены роли, доступные в Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-171">[RBAC built-in roles](https://docs.microsoft.com/azure/active-directory/role-based-access-built-in-roles) list the roles available in Azure.</span></span> <span data-ttu-id="d3df6-172">В статье указаны также операции и области, которые каждая встроенная роль предоставляет пользователям.</span><span class="sxs-lookup"><span data-stu-id="d3df6-172">It specifies the operations and scope that each built-in role grants to users.</span></span> <span data-ttu-id="d3df6-173">Если вы хотите определить собственные роли для дополнительного управления, см. статью [Пользовательские роли в Azure RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-control-custom-roles).</span><span class="sxs-lookup"><span data-stu-id="d3df6-173">If you're looking to define your own roles for even more control, see how to build [Custom roles in Azure RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-control-custom-roles).</span></span>

<span data-ttu-id="d3df6-174">К другим возможностям Azure Active Directory относятся следующие.</span><span class="sxs-lookup"><span data-stu-id="d3df6-174">Some other capabilities for Azure Active Directory include:</span></span>
- <span data-ttu-id="d3df6-175">Azure AD позволяет использовать функцию единого входа в приложениях SaaS независимо от их размещения.</span><span class="sxs-lookup"><span data-stu-id="d3df6-175">Azure AD enables SSO to SaaS applications, regardless of where they are hosted.</span></span> <span data-ttu-id="d3df6-176">Некоторые приложения служба Azure AD объединяет в федерацию, а другие используют единый вход с помощью пароля.</span><span class="sxs-lookup"><span data-stu-id="d3df6-176">Some applications are federated with Azure AD, and others use password SSO.</span></span> <span data-ttu-id="d3df6-177">Федеративные приложения могут также поддерживать подготовку пользователя и [хранение паролей в хранилище](https://www.techopedia.com/definition/31415/password-vault).</span><span class="sxs-lookup"><span data-stu-id="d3df6-177">Federated applications can also support user provisioning and [password vaulting](https://www.techopedia.com/definition/31415/password-vault).</span></span>

- <span data-ttu-id="d3df6-178">Доступ к данным в [службе хранилища Azure](https://azure.microsoft.com/services/storage/) регулируется механизмом проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="d3df6-178">Access to data in [Azure Storage](https://azure.microsoft.com/services/storage/) is controlled via authentication.</span></span> <span data-ttu-id="d3df6-179">Для каждой учетной записи хранения предусмотрен первичный ключ ([ключ учетной записи хранения](https://docs.microsoft.com/azure/storage/storage-create-storage-account), или SAK) и вторичный секретный ключ (подписанный URL-адрес, или SAS).</span><span class="sxs-lookup"><span data-stu-id="d3df6-179">Each storage account has a primary key ([storage account key](https://docs.microsoft.com/azure/storage/storage-create-storage-account), or SAK) and a secondary secret key (the shared access signature, or SAS).</span></span>

- <span data-ttu-id="d3df6-180">В Azure AD можно использовать удостоверение как услугу при федерации (с помощью [служб федерации Active Directory](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-azure-adfs)), синхронизации и репликации локальных каталогов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-180">Azure AD provides Identity as a Service through federation by using [Active Directory Federation Services](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-azure-adfs), synchronization, and replication with on-premises directories.</span></span>

- <span data-ttu-id="d3df6-181">[Многофакторная Идентификация Azure](https://docs.microsoft.com/azure/multi-factor-authentication/multi-factor-authentication) — это служба многофакторной идентификации, которая требует от пользователей подтверждения входа с помощью мобильного приложения, телефонного звонка или текстового сообщения.</span><span class="sxs-lookup"><span data-stu-id="d3df6-181">[Azure Multi-Factor Authentication](https://docs.microsoft.com/azure/multi-factor-authentication/multi-factor-authentication) is the multi-factor authentication service that requires users to verify sign-ins by using a mobile app, phone call, or text message.</span></span> <span data-ttu-id="d3df6-182">Ее можно использовать с Azure AD для защиты локальных ресурсов с помощью сервера Многофакторной Идентификации Azure, а также с пользовательскими приложениями и каталогами с помощью пакета SDK.</span><span class="sxs-lookup"><span data-stu-id="d3df6-182">It can be used with Azure AD to help secure on-premises resources with the Azure Multi-Factor Authentication server, and also with custom applications and directories using the SDK.</span></span>

- <span data-ttu-id="d3df6-183">[Доменные службы Azure AD](https://azure.microsoft.com/services/active-directory-ds/) позволяют присоединять виртуальные машины Azure к домену Active Directory без необходимости развертывать контроллеры домена.</span><span class="sxs-lookup"><span data-stu-id="d3df6-183">[Azure AD Domain Services](https://azure.microsoft.com/services/active-directory-ds/) lets you join Azure virtual machines to an Active Directory domain without deploying domain controllers.</span></span> <span data-ttu-id="d3df6-184">Вы можете входить на эти виртуальные машины, используя корпоративные учетные данные Active Directory. Кроме того, вы можете выполнять администрирование виртуальных машин, присоединенных к домену, с помощью групповой политики, применяя базовые средства защиты на всех виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-184">You can sign in to these virtual machines with your corporate Active Directory credentials and administer domain-joined virtual machines by using Group Policy to enforce security baselines on all your Azure virtual machines.</span></span>

- <span data-ttu-id="d3df6-185">[Azure Active Directory B2C](https://azure.microsoft.com/services/active-directory-b2c/) — это высокодоступная глобальная служба управления удостоверениями для клиентских приложений с возможностью масштабирования до сотен миллионов удостоверений.</span><span class="sxs-lookup"><span data-stu-id="d3df6-185">[Azure Active Directory B2C](https://azure.microsoft.com/services/active-directory-b2c/) provides a highly available global-identity management service for consumer-facing applications that scales to hundreds of millions of identities.</span></span> <span data-ttu-id="d3df6-186">Служба интегрируется с мобильными и веб-платформами.</span><span class="sxs-lookup"><span data-stu-id="d3df6-186">It can be integrated across mobile and web platforms.</span></span> <span data-ttu-id="d3df6-187">Клиенты могут входить в ваши приложения через настраиваемый интерфейс, используя существующие учетные записи социальных сетей или создавая новые.</span><span class="sxs-lookup"><span data-stu-id="d3df6-187">Your consumers can sign in to all your applications through customizable experiences by using their existing social accounts or by creating credentials.</span></span>

### <a name="isolation-from-microsoft-administrators--data-deletion"></a><span data-ttu-id="d3df6-188">Изоляция от администраторов корпорации Майкрософт и удаление данных</span><span class="sxs-lookup"><span data-stu-id="d3df6-188">Isolation from Microsoft Administrators & Data Deletion</span></span>
<span data-ttu-id="d3df6-189">Корпорация Майкрософт принимает надежные меры для защиты ваших данных от несанкционированного доступа или использования посторонними лицами.</span><span class="sxs-lookup"><span data-stu-id="d3df6-189">Microsoft takes strong measures to protect your data from inappropriate access or use by unauthorized persons.</span></span> <span data-ttu-id="d3df6-190">Эти рабочие процессы и элементы управления регулируются [условиями использования веб-служб](http://aka.ms/Online-Services-Terms), которые обеспечивают договорные обязательства по управлению доступом к данным.</span><span class="sxs-lookup"><span data-stu-id="d3df6-190">These operational processes and controls are backed by the [Online Services Terms](http://aka.ms/Online-Services-Terms), which offer contractual commitments that govern access to your data.</span></span>

-   <span data-ttu-id="d3df6-191">Инженеры корпорации Майкрософт по умолчанию не имеют доступ к вашим данным в облаке.</span><span class="sxs-lookup"><span data-stu-id="d3df6-191">Microsoft engineers do not have default access to your data in the cloud.</span></span> <span data-ttu-id="d3df6-192">Вместо этого они получают доступ под надзором руководства, только когда это необходимо.</span><span class="sxs-lookup"><span data-stu-id="d3df6-192">Instead, they are granted access, under management oversight, only when necessary.</span></span> <span data-ttu-id="d3df6-193">Этот доступ тщательно контролируется, регистрируется и аннулируется сразу же, как только перестает быть нужен.</span><span class="sxs-lookup"><span data-stu-id="d3df6-193">That access is carefully controlled and logged, and revoked when it is no longer needed.</span></span>

-   <span data-ttu-id="d3df6-194">Корпорация Майкрософт может нанять другие компании для предоставления ограниченных служб от своего имени.</span><span class="sxs-lookup"><span data-stu-id="d3df6-194">Microsoft may hire other companies to provide limited services on its behalf.</span></span> <span data-ttu-id="d3df6-195">Субподрядчики могут получить доступ к данным клиента только для обеспечения служб, для предоставления которых мы их наняли, и им запрещается использовать эти данные для других целей.</span><span class="sxs-lookup"><span data-stu-id="d3df6-195">Subcontractors may access customer data only to deliver the services for which, we have hired them to provide, and they are prohibited from using it for any other purpose.</span></span> <span data-ttu-id="d3df6-196">Более того, они связаны контрактными обязательствами и должны соблюдать конфиденциальность данных наших клиентов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-196">Further, they are contractually bound to maintain the confidentiality of our customers’ information.</span></span>

<span data-ttu-id="d3df6-197">Бизнес-службы, использующие сертификаты аудита, например ISO/IEC 27001, регулярно проверяются корпорацией Майкрософт и аккредитованными аудиторскими компаниями, которые проводят выборочный аудит для подтверждения этого доступа, исключительно для законных коммерческих целей.</span><span class="sxs-lookup"><span data-stu-id="d3df6-197">Business services with audited certifications such as ISO/IEC 27001 are regularly verified by Microsoft and accredited audit firms, which perform sample audits to attest that access, only for legitimate business purposes.</span></span> <span data-ttu-id="d3df6-198">Вы всегда можете получить доступ к своим данным клиента, в любое время и по любой причине.</span><span class="sxs-lookup"><span data-stu-id="d3df6-198">You can always access your own customer data at any time and for any reason.</span></span>

<span data-ttu-id="d3df6-199">Если вы удалите данные, Microsoft Azure удалит их, включая все сохраненные в кэше или резервные копии.</span><span class="sxs-lookup"><span data-stu-id="d3df6-199">If you delete any data, Microsoft Azure deletes the data, including any cached or backup copies.</span></span> <span data-ttu-id="d3df6-200">В соответствующих службах удаление произойдет в течение 90 дней после окончания периода хранения.</span><span class="sxs-lookup"><span data-stu-id="d3df6-200">For in-scope services, that deletion will occur within 90 days after the end of the retention period.</span></span> <span data-ttu-id="d3df6-201">(Соответствующие службы указаны в разделе "Условия обработки данных" наших [условий использования веб-служб](http://aka.ms/Online-Services-Terms).)</span><span class="sxs-lookup"><span data-stu-id="d3df6-201">(In-scope services are defined in the Data Processing Terms section of our [Online Services Terms](http://aka.ms/Online-Services-Terms).)</span></span>

<span data-ttu-id="d3df6-202">Если дисковый накопитель, используемый для хранения данных, выходит из строя, то перед тем, как корпорация Майкрософт вернет его изготовителю для замены или ремонта, все данные на нем безопасно [удаляются или уничтожаются](https://www.microsoft.com/trustcenter/Privacy/You-own-your-data).</span><span class="sxs-lookup"><span data-stu-id="d3df6-202">If a disk drive used for storage suffers a hardware failure, it is securely [erased or destroyed](https://www.microsoft.com/trustcenter/Privacy/You-own-your-data) before Microsoft returns it to the manufacturer for replacement or repair.</span></span> <span data-ttu-id="d3df6-203">Данные на диске перезаписываются, чтобы гарантировать невозможность их восстановления любым способом.</span><span class="sxs-lookup"><span data-stu-id="d3df6-203">The data on the drive is overwritten to ensure that the data cannot be recovered by any means.</span></span>

## <a name="compute-isolation"></a><span data-ttu-id="d3df6-204">Изоляция вычислений</span><span class="sxs-lookup"><span data-stu-id="d3df6-204">Compute Isolation</span></span>
<span data-ttu-id="d3df6-205">Microsoft Azure предоставляет различные облачные службы вычислений, которые включают в себя широкий спектр вычислительных операций и служб, поддерживающих автомасштабирование ресурсов в соответствии с потребностями приложения или предприятия.</span><span class="sxs-lookup"><span data-stu-id="d3df6-205">Microsoft Azure provides various cloud-based computing services that include a wide selection of compute instances & services that can scale up and down automatically to meet the needs of your application or enterprise.</span></span> <span data-ttu-id="d3df6-206">Эти вычислительные операции и службы обеспечивают изоляцию на нескольких уровнях, позволяющую защитить данные без ущерба для гибкости в требуемой клиенту конфигурации.</span><span class="sxs-lookup"><span data-stu-id="d3df6-206">These compute instance and service offer isolation at multiple levels to secure data without sacrificing the flexibility in configuration that customers demand.</span></span>

### <a name="hyper-v--root-os-isolation-between-root-vm--guest-vms"></a><span data-ttu-id="d3df6-207">Hyper-V и корневая ОС: изоляция корневой виртуальной машины и гостевых виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="d3df6-207">Hyper-V & Root OS Isolation Between Root VM & Guest VMs</span></span>
<span data-ttu-id="d3df6-208">Вычислительная платформа Azure основана на виртуализации компьютеров. Это значит, что весь код клиента выполняется на виртуальной машине Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="d3df6-208">Azure’s compute platform is based on machine virtualization—meaning that all customer code executes in a Hyper-V virtual machine.</span></span> <span data-ttu-id="d3df6-209">На каждом узле Azure (или конечной точки сети) размещен гипервизор, который выполняется непосредственно на аппаратном обеспечении и разделяет узел на переменное количество гостевых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="d3df6-209">On each Azure node (or network endpoint), there is a Hypervisor that runs directly over the hardware and divides a node into a variable number of Guest Virtual Machines (VMs).</span></span>


![Hyper-V и корневая ОС: изоляция корневой виртуальной машины и гостевых виртуальных машин](./media/azure-isolation/azure-isolation-fig4.jpg)


<span data-ttu-id="d3df6-211">На каждом узле имеется также одна специальная корневая виртуальная машина, на которой выполняется операционная система узла.</span><span class="sxs-lookup"><span data-stu-id="d3df6-211">Each node also has one special Root VM, which runs the Host OS.</span></span> <span data-ttu-id="d3df6-212">Критической границей является изоляция корневой виртуальной машины от гостевых виртуальных машин, а также изоляция гостевых виртуальных машин друг от друга. Этой изоляцией управляют гипервизор и корневая ОС.</span><span class="sxs-lookup"><span data-stu-id="d3df6-212">A critical boundary is the isolation of the root VM from the guest VMs and the guest VMs from one another, managed by the hypervisor and the root OS.</span></span> <span data-ttu-id="d3df6-213">Для совместного применения гипервизора и корневой ОС корпорация Майкрософт использует десятилетия своего опыта в области безопасности операционных систем и более поздние знания о Microsoft Hyper-V, чтобы обеспечить строгую изоляцию виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="d3df6-213">The hypervisor/root OS pairing leverages Microsoft's decades of operating system security experience, and more recent learning from Microsoft's Hyper-V, to provide strong isolation of guest VMs.</span></span>

<span data-ttu-id="d3df6-214">Платформа Azure использует виртуальную среду.</span><span class="sxs-lookup"><span data-stu-id="d3df6-214">The Azure platform uses a virtualized environment.</span></span> <span data-ttu-id="d3df6-215">Пользовательские экземпляры работают как изолированные виртуальные машины, у которых нет доступа к физическому серверу узла. Такая изоляция обеспечивается применением уровней привилегий физического процессора (кольцо 0 и кольцо 3).</span><span class="sxs-lookup"><span data-stu-id="d3df6-215">User instances operate as standalone virtual machines that do not have access to a physical host server, and this isolation is enforced by using physical processor (ring-0/ring-3) privilege levels.</span></span>

<span data-ttu-id="d3df6-216">Кольцо 0 обеспечивает максимальные привилегии, а кольцо 3 — минимальные.</span><span class="sxs-lookup"><span data-stu-id="d3df6-216">Ring 0 is the most privileged and 3 is the least.</span></span> <span data-ttu-id="d3df6-217">Гостевая ОС выполняется в кольце 1 с меньшими привилегиями, а приложения — в последнем кольце 3 с наименьшими привилегиями.</span><span class="sxs-lookup"><span data-stu-id="d3df6-217">The guest OS runs in a lesser-privileged Ring 1, and applications run in the least privileged Ring 3.</span></span> <span data-ttu-id="d3df6-218">Виртуализация физических ресурсов приводит к четкому разделению гостевой ОС и низкоуровневой оболочки, что приводит к дополнительному разделению по безопасности между ними.</span><span class="sxs-lookup"><span data-stu-id="d3df6-218">This virtualization of physical resources leads to a clear separation between guest OS and hypervisor, resulting in additional security separation between the two.</span></span>

<span data-ttu-id="d3df6-219">Низкоуровневая оболочка Azure выполняет роль микроядра, передавая все запросы на доступ к оборудованию из гостевых виртуальных машин узлам для обработки с помощью интерфейса общей памяти VMBus.</span><span class="sxs-lookup"><span data-stu-id="d3df6-219">The Azure hypervisor acts like a micro-kernel and passes all hardware access requests from guest virtual machines to the host for processing by using a shared-memory interface called VMBus.</span></span> <span data-ttu-id="d3df6-220">Благодаря этому пользователь не может получить доступ RAW к системе на чтение, запись и выполнение. Таким образом снижается риск совместного доступа к системным ресурсам.</span><span class="sxs-lookup"><span data-stu-id="d3df6-220">This prevents users from obtaining raw read/write/execute access to the system and mitigates the risk of sharing system resources.</span></span>

### <a name="advanced-vm-placement-algorithm--protection-from-side-channel-attacks"></a><span data-ttu-id="d3df6-221">Расширенный алгоритм размещения виртуальных машин и защита от атак по сторонним каналам</span><span class="sxs-lookup"><span data-stu-id="d3df6-221">Advanced VM placement algorithm & protection from side channel attacks</span></span>
<span data-ttu-id="d3df6-222">Любая перекрестная атака на виртуальную машину состоит из двух этапов: виртуальная машина под управлением хакера размещается на том же узле, что и виртуальная машина, выбранная в качестве жертвы, и затем нарушается граница изоляции, чтобы похитить конфиденциальные данные или повлиять на ее работу из корыстных или хулиганских побуждений.</span><span class="sxs-lookup"><span data-stu-id="d3df6-222">Any cross-VM attack involves two steps: placing an adversary-controlled VM on the same host as one of the victim VMs, and then breaching the isolation boundary to either steal sensitive victim information or affect its performance for greed or vandalism.</span></span> <span data-ttu-id="d3df6-223">Microsoft Azure обеспечивает защиту от обоих действий благодаря расширенному алгоритму размещения виртуальных машин и защите от всех известных атак по сторонним каналам, включая виртуальные машины типа "шумный сосед".</span><span class="sxs-lookup"><span data-stu-id="d3df6-223">Microsoft Azure provides protection at both steps by using an advanced VM placement algorithm and protection from all known side channel attacks including noisy neighbor VMs.</span></span>

### <a name="the-azure-fabric-controller"></a><span data-ttu-id="d3df6-224">Контроллер структуры Azure</span><span class="sxs-lookup"><span data-stu-id="d3df6-224">The Azure Fabric Controller</span></span>
<span data-ttu-id="d3df6-225">Контролер структуры Azure отвечает за распределение ресурсов инфраструктуры между рабочими нагрузками клиента, управляя односторонней связью между узлом и виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="d3df6-225">The Azure Fabric Controller is responsible for allocating infrastructure resources to tenant workloads, and it manages unidirectional communications from the host to virtual machines.</span></span> <span data-ttu-id="d3df6-226">Алгоритм размещения виртуальных машин, применяемый контроллером структуры Azure, очень сложен, и почти невозможно предсказать, как он будет себя вести на уровне физического узла.</span><span class="sxs-lookup"><span data-stu-id="d3df6-226">The VM placing algorithm of the Azure fabric controller is highly sophisticated and nearly impossible to predict as physical host level.</span></span>

![Контроллер структуры Azure](./media/azure-isolation/azure-isolation-fig5.png)

<span data-ttu-id="d3df6-228">Низкоуровневая оболочка Azure принудительно разделяет память и процессы между виртуальными машинами, обеспечивая безопасную передачу сетевого трафика клиентам гостевой ОС.</span><span class="sxs-lookup"><span data-stu-id="d3df6-228">The Azure hypervisor enforces memory and process separation between virtual machines, and it securely routes network traffic to guest OS tenants.</span></span> <span data-ttu-id="d3df6-229">Это исключает вероятность атаки по сторонним каналам на уровне виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="d3df6-229">This eliminates possibility of and side channel attack at VM level.</span></span>

<span data-ttu-id="d3df6-230">Корневая виртуальная машина в Azure является особенной: она работает под управлением операционной системы с усиленной защитой, называемой корневой ОС, в которой размещается агент структуры.</span><span class="sxs-lookup"><span data-stu-id="d3df6-230">In Azure, the root VM is special: it runs a hardened operating system called the root OS that hosts a fabric agent (FA).</span></span> <span data-ttu-id="d3df6-231">Агенты структуры, в свою очередь, используются для управления гостевыми агентами в гостевых ОС на виртуальных машинах клиентов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-231">FAs are used in turn to manage guest agents (GA) within guest OSes on customer VMs.</span></span> <span data-ttu-id="d3df6-232">Агенты структуры также управляют узлами хранилища.</span><span class="sxs-lookup"><span data-stu-id="d3df6-232">FAs also manage storage nodes.</span></span>

<span data-ttu-id="d3df6-233">Набор из гипервизора Azure, корневой ОС и агента структуры, а также виртуальных машин клиентов и гостевых агентов представляет собой вычислительный узел.</span><span class="sxs-lookup"><span data-stu-id="d3df6-233">The collection of Azure hypervisor, root OS/FA, and customer VMs/GAs comprises a compute node.</span></span> <span data-ttu-id="d3df6-234">Агентами структуры управляет контроллер структуры, размещенный за пределами вычислительных узлов и узлов хранилища (вычислительными кластерами и кластерами хранилища управляют отдельные контроллеры структуры).</span><span class="sxs-lookup"><span data-stu-id="d3df6-234">FAs are managed by a fabric controller (FC), which exists outside of compute and storage nodes (compute and storage clusters are managed by separate FCs).</span></span> <span data-ttu-id="d3df6-235">Если клиент обновляет файл конфигурации своего приложения, когда оно выполняется, контроллер структуры обращается к агенту структуры, после чего агент структуры обращается к гостевым агентам, которые уведомляют приложение об изменении конфигурации.</span><span class="sxs-lookup"><span data-stu-id="d3df6-235">If a customer updates their application’s configuration file while it’s running, the FC communicates with the FA, which then contacts GAs, which notify the application of the configuration change.</span></span> <span data-ttu-id="d3df6-236">В случае сбоя оборудования контроллер структуры автоматически найдет доступное оборудование и перезапустит виртуальную машину на нем.</span><span class="sxs-lookup"><span data-stu-id="d3df6-236">In the event of a hardware failure, the FC will automatically find available hardware and restart the VM there.</span></span>

![Контроллер структуры Azure](./media/azure-isolation/azure-isolation-fig6.jpg)

<span data-ttu-id="d3df6-238">Связь контроллера структуры с агентом является однонаправленной.</span><span class="sxs-lookup"><span data-stu-id="d3df6-238">Communication from a Fabric Controller to an agent is unidirectional.</span></span> <span data-ttu-id="d3df6-239">Агент реализует службу с защитой SSL, которая только отвечает на запросы от контроллера.</span><span class="sxs-lookup"><span data-stu-id="d3df6-239">The agent implements an SSL-protected service that only responds to requests from the controller.</span></span> <span data-ttu-id="d3df6-240">Он не может инициировать подключения к контроллеру или другим привилегированным внутренним узлам.</span><span class="sxs-lookup"><span data-stu-id="d3df6-240">It cannot initiate connections to the controller or other privileged internal nodes.</span></span> <span data-ttu-id="d3df6-241">Контроллер структуры рассматривает все ответы как ненадежные.</span><span class="sxs-lookup"><span data-stu-id="d3df6-241">The FC treats all responses as if they were untrusted.</span></span>


![Контроллер структуры](./media/azure-isolation/azure-isolation-fig7.png)

<span data-ttu-id="d3df6-243">Изоляция распространяется от корневой виртуальной машины на все гостевые виртуальные машины, которые также изолируются друг от друга.</span><span class="sxs-lookup"><span data-stu-id="d3df6-243">Isolation extends from the Root VM from Guest VMs, and the Guest VMs from one another.</span></span> <span data-ttu-id="d3df6-244">Вычислительные узлы также изолированы от узлов хранилища в целях усиления защиты.</span><span class="sxs-lookup"><span data-stu-id="d3df6-244">Compute nodes are also isolated from storage nodes for increased protection.</span></span>


<span data-ttu-id="d3df6-245">Гипервизор и ОС узла предоставляют фильтры сетевых пакетов, позволяющие гарантировать, что ненадежные виртуальные машины не смогут создавать поддельный трафик или получать трафик, адресованный не им, направлять трафик к конечным точкам защищенной инфраструктуры или отправлять и получать нежелательный широковещательный трафик.</span><span class="sxs-lookup"><span data-stu-id="d3df6-245">The hypervisor and the host OS provide network packet - filters to help assure that untrusted virtual machines cannot generate spoofed traffic or receive traffic not addressed to them, direct traffic to protected infrastructure endpoints, or send/receive inappropriate broadcast traffic.</span></span>


### <a name="additional-rules-configured-by-fabric-controller-agent-to-isolate-vm"></a><span data-ttu-id="d3df6-246">Дополнительные правила, настраиваемые агентом контроллера структуры для изоляции виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="d3df6-246">Additional Rules Configured by Fabric Controller Agent to Isolate VM</span></span>
<span data-ttu-id="d3df6-247">По умолчанию при создании виртуальной машины весь трафик блокируется. Затем агент контроллера структуры настраивает фильтр пакетов, чтобы добавить правила и исключения, которые позволяют передавать разрешенный трафик.</span><span class="sxs-lookup"><span data-stu-id="d3df6-247">By default, all traffic is blocked when a virtual machine is created, and then the fabric controller agent configures the packet filter to add rules and exceptions to allow authorized traffic.</span></span>

<span data-ttu-id="d3df6-248">Запрограммированы две категории правил.</span><span class="sxs-lookup"><span data-stu-id="d3df6-248">There are two categories of rules that are programmed:</span></span>

-   <span data-ttu-id="d3df6-249">**Конфигурация компьютера или правила инфраструктуры**. По умолчанию весь обмен данными блокируется.</span><span class="sxs-lookup"><span data-stu-id="d3df6-249">**Machine configuration or infrastructure rules:** By default, all communication is blocked.</span></span> <span data-ttu-id="d3df6-250">Но есть исключения, которые разрешают виртуальной машине отправлять и получать трафик DHCP и DNS.</span><span class="sxs-lookup"><span data-stu-id="d3df6-250">There are exceptions to allow a virtual machine to send and receive DHCP and DNS traffic.</span></span> <span data-ttu-id="d3df6-251">Виртуальные машины могут также отправлять трафик как в общедоступный сегмент Интернета, так и другим виртуальным машинам в той же виртуальной сети Azure и на сервере активации ОС.</span><span class="sxs-lookup"><span data-stu-id="d3df6-251">Virtual machines can also send traffic to the “public” internet and send traffic to other virtual machines within the same Azure Virtual Network and the OS activation server.</span></span> <span data-ttu-id="d3df6-252">Список разрешенных исходящих назначений виртуальных машин не включает в себя подсети маршрутизатора Azure, сервер управления Azure и другие компоненты Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="d3df6-252">The virtual machines’ list of allowed outgoing destinations does not include Azure router subnets, Azure management, and other Microsoft properties.</span></span>

-   <span data-ttu-id="d3df6-253">**Файл конфигурации ролей**. Он определяет входящие списки управления доступом на основе клиентской модели службы.</span><span class="sxs-lookup"><span data-stu-id="d3df6-253">**Role configuration file:** This defines the inbound Access Control Lists (ACLs) based on the tenant's service model.</span></span>

### <a name="vlan-isolation"></a><span data-ttu-id="d3df6-254">Изоляция виртуальных локальных сетей</span><span class="sxs-lookup"><span data-stu-id="d3df6-254">VLAN Isolation</span></span>
<span data-ttu-id="d3df6-255">В каждом кластере существуют три виртуальные локальные сети.</span><span class="sxs-lookup"><span data-stu-id="d3df6-255">There are three VLANs in each cluster:</span></span>

![Изоляция виртуальных локальных сетей](./media/azure-isolation/azure-isolation-fig8.jpg)


-   <span data-ttu-id="d3df6-257">Основная виртуальная локальная сеть соединяет ненадежные узлы клиента между собой.</span><span class="sxs-lookup"><span data-stu-id="d3df6-257">The main VLAN – interconnects untrusted customer nodes</span></span>

-   <span data-ttu-id="d3df6-258">Виртуальная локальная сеть контроллера структуры содержит доверенные контроллеры структуры и вспомогательные системы.</span><span class="sxs-lookup"><span data-stu-id="d3df6-258">The FC VLAN – contains trusted FCs and supporting systems</span></span>

-   <span data-ttu-id="d3df6-259">Виртуальная локальная сеть устройств содержит доверенные сетевые и другие устройства инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="d3df6-259">The device VLAN – contains trusted network and other infrastructure devices</span></span>

<span data-ttu-id="d3df6-260">Разрешается передача данных из виртуальной локальной сети контроллера структуры в основную виртуальную локальную сеть, но невозможно инициировать передачу данных из основной виртуальной локальной сети в виртуальную локальную сеть контроллера.</span><span class="sxs-lookup"><span data-stu-id="d3df6-260">Communication is permitted from the FC VLAN to the main VLAN, but cannot be initiated from the main VLAN to the FC VLAN.</span></span> <span data-ttu-id="d3df6-261">Кроме того, блокируется передача данных из основной виртуальной локальной сети в виртуальную локальную сеть устройств.</span><span class="sxs-lookup"><span data-stu-id="d3df6-261">Communication is also blocked from the main VLAN to the device VLAN.</span></span> <span data-ttu-id="d3df6-262">Это гарантирует, что даже при компрометации узла, на котором выполняется код клиента, будет невозможно атаковать узлы в виртуальной локальной сети контроллера структуры или устройств.</span><span class="sxs-lookup"><span data-stu-id="d3df6-262">This assures that even if a node running customer code is compromised, it cannot attack nodes on either the FC or device VLANs.</span></span>

## <a name="storage-isolation"></a><span data-ttu-id="d3df6-263">Изоляция хранилища</span><span class="sxs-lookup"><span data-stu-id="d3df6-263">Storage Isolation</span></span>
### <a name="logical-isolation-between-compute-and-storage"></a><span data-ttu-id="d3df6-264">Логическая изоляция вычислений и хранилища</span><span class="sxs-lookup"><span data-stu-id="d3df6-264">Logical Isolation Between Compute and Storage</span></span>
<span data-ttu-id="d3df6-265">В основе платформы Microsoft Azure реализовано отделение вычислений на виртуальных машинах от хранилища.</span><span class="sxs-lookup"><span data-stu-id="d3df6-265">As part of its fundamental design, Microsoft Azure separates VM-based computation from storage.</span></span> <span data-ttu-id="d3df6-266">Такое разделение позволяет масштабировать вычисления и хранилище независимо друг от друга, что упрощает обеспечение мультитенантности и изоляции.</span><span class="sxs-lookup"><span data-stu-id="d3df6-266">This separation enables computation and storage to scale independently, making it easier to provide multi-tenancy and isolation.</span></span>

<span data-ttu-id="d3df6-267">Поэтому служба хранилища Azure выполняется на отдельном оборудовании без сетевого подключения к службе вычислений Azure, за исключением логических подключений.</span><span class="sxs-lookup"><span data-stu-id="d3df6-267">Therefore, Azure Storage runs on separate hardware with no network connectivity to Azure Compute except logically.</span></span> <span data-ttu-id="d3df6-268">[Это](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf) означает, что при создании виртуального диска не выделяется дисковое пространство для всей его емкости.</span><span class="sxs-lookup"><span data-stu-id="d3df6-268">[This](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf) means that when a virtual disk is created, disk space is not allocated for its entire capacity.</span></span> <span data-ttu-id="d3df6-269">Вместо этого создается таблица, сопоставляющая адреса на виртуальном диске с областями на физическом диске, и эта таблица изначально пуста.</span><span class="sxs-lookup"><span data-stu-id="d3df6-269">Instead, a table is created that maps addresses on the virtual disk to areas on the physical disk and that table is initially empty.</span></span> <span data-ttu-id="d3df6-270">**Когда клиент впервые записывает данные на виртуальный диск, на физическом диске выделяется область и указатель нее помещается в таблицу.**</span><span class="sxs-lookup"><span data-stu-id="d3df6-270">**The first time a customer writes data on the virtual disk, space on the physical disk is allocated, and a pointer to it is placed in the table.**</span></span>
### <a name="isolation-using-storage-access-control"></a><span data-ttu-id="d3df6-271">Изоляция с помощью управления доступом к хранилищу</span><span class="sxs-lookup"><span data-stu-id="d3df6-271">Isolation Using Storage Access control</span></span>
<span data-ttu-id="d3df6-272">**Управление доступом в службе хранилища Azure** использует простую модель.</span><span class="sxs-lookup"><span data-stu-id="d3df6-272">**Access Control in Azure Storage** has a simple access control model.</span></span> <span data-ttu-id="d3df6-273">Для каждой подписки Azure можно создать одну или несколько учетных записей хранения.</span><span class="sxs-lookup"><span data-stu-id="d3df6-273">Each Azure subscription can create one or more Storage Accounts.</span></span> <span data-ttu-id="d3df6-274">Каждая учетная запись хранения имеет один секретный ключ, используемый для управления доступом ко всем данным в этой учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="d3df6-274">Each Storage Account has a single secret key that is used to control access to all data in that Storage Account.</span></span>

![Изоляция с помощью управления доступом к хранилищу](./media/azure-isolation/azure-isolation-fig9.png)

<span data-ttu-id="d3df6-276">**Доступом к данным службы хранилища Azure (включая таблицы)** можно управлять с помощью маркера [SAS (подписанный URL-адрес)](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1), который предоставляет доступ с заданной областью.</span><span class="sxs-lookup"><span data-stu-id="d3df6-276">**Access to Azure Storage data (including Tables)** can be controlled through a [SAS (Shared Access Signature)](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1) token, which grants scoped access.</span></span> <span data-ttu-id="d3df6-277">SAS создается с помощью шаблона запроса (URL-адреса), подписанного с помощью [SAK (ключа учетной записи хранения)](https://msdn.microsoft.com/library/azure/ee460785.aspx).</span><span class="sxs-lookup"><span data-stu-id="d3df6-277">The SAS is created through a query template (URL), signed with the [SAK (Storage Account Key)](https://msdn.microsoft.com/library/azure/ee460785.aspx).</span></span> <span data-ttu-id="d3df6-278">Этот [подписанный URL-адрес](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1) можно предоставить другому процессу (то есть делегировать), который затем может заполнить данные запроса и выполнить запрос службы хранилища.</span><span class="sxs-lookup"><span data-stu-id="d3df6-278">That [signed URL](https://docs.microsoft.com/azure/storage/storage-dotnet-shared-access-signature-part-1) can be given to another process (that is, delegated), which can then fill in the details of the query and make the request of the storage service.</span></span> <span data-ttu-id="d3df6-279">С помощью SAS можно предоставить клиентам доступ с ограниченным сроком действия, не предоставляя секретный ключ учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="d3df6-279">A SAS enables you to grant time-based access to clients without revealing the storage account’s secret key.</span></span>

<span data-ttu-id="d3df6-280">SAS означает, что клиенту можно предоставить ограниченное право на работу с объектами в вашей учетной записи хранения на определенный период времени и с определенным набором разрешений.</span><span class="sxs-lookup"><span data-stu-id="d3df6-280">The SAS means that we can grant a client limited permissions, to objects in our storage account for a specified period of time and with a specified set of permissions.</span></span> <span data-ttu-id="d3df6-281">Вы можете предоставлять эти ограниченные права, не сообщая ключи доступа к своей учетной записи.</span><span class="sxs-lookup"><span data-stu-id="d3df6-281">We can grant these limited permissions without having to share your account access keys.</span></span>

### <a name="ip-level-storage-isolation"></a><span data-ttu-id="d3df6-282">Изоляция хранилища на уровне IP-адреса</span><span class="sxs-lookup"><span data-stu-id="d3df6-282">IP Level Storage Isolation</span></span>
<span data-ttu-id="d3df6-283">Вы можете настроить брандмауэры и определить диапазон IP-адресов для доверенных клиентов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-283">You can establish firewalls and define an IP address range for your trusted clients.</span></span> <span data-ttu-id="d3df6-284">После определения диапазона IP-адресов к [службе хранилища Azure](https://docs.microsoft.com/azure/storage/storage-security-guide) смогут подключаться только клиенты с IP-адресами в пределах этого диапазона.</span><span class="sxs-lookup"><span data-stu-id="d3df6-284">With an IP address range, only clients that have an IP address within the defined range can connect to [Azure Storage](https://docs.microsoft.com/azure/storage/storage-security-guide).</span></span>

<span data-ttu-id="d3df6-285">Данные IP-хранилища могут быть защищены от неавторизованных пользователей с помощью сетевого механизма, используемого для установления выделенного туннеля для трафика IP-хранилища.</span><span class="sxs-lookup"><span data-stu-id="d3df6-285">IP storage data can be protected from unauthorized users via a networking mechanism that is used to allocate a dedicated or dedicated tunnel of traffic to IP storage.</span></span>

### <a name="encryption"></a><span data-ttu-id="d3df6-286">Шифрование</span><span class="sxs-lookup"><span data-stu-id="d3df6-286">Encryption</span></span>
<span data-ttu-id="d3df6-287">Azure предлагает следующие типы шифрования для защиты данных.</span><span class="sxs-lookup"><span data-stu-id="d3df6-287">Azure offers following types of Encryption to protect data:</span></span>
-   <span data-ttu-id="d3df6-288">Шифрование при передаче</span><span class="sxs-lookup"><span data-stu-id="d3df6-288">Encryption in transit</span></span>

-   <span data-ttu-id="d3df6-289">Шифрование при хранении</span><span class="sxs-lookup"><span data-stu-id="d3df6-289">Encryption at rest</span></span>

#### <a name="encryption-in-transit"></a><span data-ttu-id="d3df6-290">Шифрование при передаче</span><span class="sxs-lookup"><span data-stu-id="d3df6-290">Encryption in Transit</span></span>
<span data-ttu-id="d3df6-291">Шифрование при передаче — это механизм защиты данных, передаваемых по сетям.</span><span class="sxs-lookup"><span data-stu-id="d3df6-291">Encryption in transit is a mechanism of protecting data when it is transmitted across networks.</span></span> <span data-ttu-id="d3df6-292">Служба хранилища Azure позволяет применять для защиты данных:</span><span class="sxs-lookup"><span data-stu-id="d3df6-292">With Azure Storage, you can secure data using:</span></span>

-   <span data-ttu-id="d3df6-293">[шифрование транспортного уровня](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-in-transit), например протокол HTTPS, при передаче данных в службу хранилища Azure или из нее;</span><span class="sxs-lookup"><span data-stu-id="d3df6-293">[Transport-level encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-in-transit), such as HTTPS when you transfer data into or out of Azure Storage.</span></span>

-   <span data-ttu-id="d3df6-294">[шифрование подключения](../storage/common/storage-security-guide.md#using-encryption-during-transit-with-azure-file-shares), например шифрование SMB 3.0 для файловых ресурсов Azure;</span><span class="sxs-lookup"><span data-stu-id="d3df6-294">[Wire encryption](../storage/common/storage-security-guide.md#using-encryption-during-transit-with-azure-file-shares), such as SMB 3.0 encryption for Azure File shares.</span></span>

-   <span data-ttu-id="d3df6-295">[шифрование на стороне клиента](https://docs.microsoft.com/azure/storage/storage-security-guide#using-client-side-encryption-to-secure-data-that-you-send-to-storage), которое шифрует данные перед их передачей в хранилище и расшифровывает данные после получения из хранилища.</span><span class="sxs-lookup"><span data-stu-id="d3df6-295">[Client-side encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#using-client-side-encryption-to-secure-data-that-you-send-to-storage), to encrypt the data before it is transferred into storage and to decrypt the data after it is transferred out of storage.</span></span>

#### <a name="encryption-at-rest"></a><span data-ttu-id="d3df6-296">Шифрование при хранении</span><span class="sxs-lookup"><span data-stu-id="d3df6-296">Encryption at Rest</span></span>
<span data-ttu-id="d3df6-297">Для многих организаций [шифрование неактивных данных](https://blogs.microsoft.com/cybertrust/2015/09/10/cloud-security-controls-series-encrypting-data-at-rest/) является обязательным шагом для защиты данных, соблюдения стандартов и обеспечения конфиденциальности данных.</span><span class="sxs-lookup"><span data-stu-id="d3df6-297">For many organizations, [data encryption at rest](https://blogs.microsoft.com/cybertrust/2015/09/10/cloud-security-controls-series-encrypting-data-at-rest/) is a mandatory step towards data privacy, compliance, and data sovereignty.</span></span> <span data-ttu-id="d3df6-298">В Azure есть три функции, обеспечивающие шифрование неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="d3df6-298">There are three Azure features that provide encryption of data that is “at rest”:</span></span>

-   <span data-ttu-id="d3df6-299">[Шифрование службы хранилища](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-at-rest) позволяет настроить автоматическое шифрование данных, записываемых в службу хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-299">[Storage Service Encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#encryption-at-rest) allows you to request that the storage service automatically encrypt data when writing it to Azure Storage.</span></span>

-   <span data-ttu-id="d3df6-300">[Шифрование на стороне клиента](https://docs.microsoft.com/azure/storage/storage-security-guide#client-side-encryption) также обеспечивает шифрование при хранении.</span><span class="sxs-lookup"><span data-stu-id="d3df6-300">[Client-side Encryption](https://docs.microsoft.com/azure/storage/storage-security-guide#client-side-encryption) also provides the feature of encryption at rest.</span></span>

-   <span data-ttu-id="d3df6-301">[Шифрование дисков Azure](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) позволяет шифровать диски ОС и диски данных, используемые виртуальными машинами IaaS.</span><span class="sxs-lookup"><span data-stu-id="d3df6-301">[Azure Disk Encryption](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) allows you to encrypt the OS disks and data disks used by an IaaS virtual machine.</span></span>

#### <a name="azure-disk-encryption"></a><span data-ttu-id="d3df6-302">Дисковое шифрование Azure</span><span class="sxs-lookup"><span data-stu-id="d3df6-302">Azure Disk Encryption</span></span>
<span data-ttu-id="d3df6-303">[Шифрование дисков Azure](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) для виртуальных машин помогает соблюдать корпоративные требования к безопасности и соответствию. Эта служба выполняет шифрование дисков виртуальных машин (загрузочных дисков и дисков данных) с использованием ключей и политик, которыми вы управляете в [Azure Key Vault](https://azure.microsoft.com/services/key-vault/).</span><span class="sxs-lookup"><span data-stu-id="d3df6-303">[Azure Disk Encryption](https://docs.microsoft.com/azure/security/azure-security-disk-encryption) for virtual machines (VMs) helps you address organizational security and compliance requirements by encrypting your VM disks (including boot and data disks) with keys and policies you control in [Azure Key Vault](https://azure.microsoft.com/services/key-vault/).</span></span>

<span data-ttu-id="d3df6-304">Шифрование дисков для Windows основано на [шифровании дисков Microsoft BitLocker](https://technet.microsoft.com/library/cc732774.aspx), а аналогичное решение для Linux использует шифрование [dm-crypt](https://en.wikipedia.org/wiki/Dm-crypt).</span><span class="sxs-lookup"><span data-stu-id="d3df6-304">The Disk Encryption solution for Windows is based on [Microsoft BitLocker Drive Encryption](https://technet.microsoft.com/library/cc732774.aspx), and the Linux solution is based on [dm-crypt](https://en.wikipedia.org/wiki/Dm-crypt).</span></span>

<span data-ttu-id="d3df6-305">В решениях, которые появляются в Microsoft Azure, реализована поддержка следующих возможностей для виртуальных машин IaaS:</span><span class="sxs-lookup"><span data-stu-id="d3df6-305">The solution supports the following scenarios for IaaS VMs when they are enabled in Microsoft Azure:</span></span>
-   <span data-ttu-id="d3df6-306">интеграция с хранилищем ключей Azure;</span><span class="sxs-lookup"><span data-stu-id="d3df6-306">Integration with Azure Key Vault</span></span>

-   <span data-ttu-id="d3df6-307">виртуальные машины IaaS серий A, D, DS, G, GS и т. д. уровня "Стандартный";</span><span class="sxs-lookup"><span data-stu-id="d3df6-307">Standard tier VMs: A, D, DS, G, GS, and so forth, series IaaS VMs</span></span>

-   <span data-ttu-id="d3df6-308">включение шифрования для виртуальных машин IaaS под управлением Windows и Linux;</span><span class="sxs-lookup"><span data-stu-id="d3df6-308">Enabling encryption on Windows and Linux IaaS VMs</span></span>

-   <span data-ttu-id="d3df6-309">отключение шифрования дисков данных и дисков операционной системы виртуальных машин IaaS под управлением Windows;</span><span class="sxs-lookup"><span data-stu-id="d3df6-309">Disabling encryption on OS and data drives for Windows IaaS VMs</span></span>

-   <span data-ttu-id="d3df6-310">отключение шифрования дисков данных виртуальных машин IaaS под управлением Linux;</span><span class="sxs-lookup"><span data-stu-id="d3df6-310">Disabling encryption on data drives for Linux IaaS VMs</span></span>

-   <span data-ttu-id="d3df6-311">включение шифрования для виртуальных машин IaaS под управлением клиентской ОС Windows;</span><span class="sxs-lookup"><span data-stu-id="d3df6-311">Enabling encryption on IaaS VMs that are running Windows client OS</span></span>

-   <span data-ttu-id="d3df6-312">включение шифрования томов с путями подключения;</span><span class="sxs-lookup"><span data-stu-id="d3df6-312">Enabling encryption on volumes with mount paths</span></span>

-   <span data-ttu-id="d3df6-313">включение шифрования для виртуальных машин Linux с чередованием дисков (RAID) с помощью программы [mdadm](https://en.wikipedia.org/wiki/Mdadm);</span><span class="sxs-lookup"><span data-stu-id="d3df6-313">Enabling encryption on Linux VMs that are configured with disk striping (RAID) by using [mdadm](https://en.wikipedia.org/wiki/Mdadm)</span></span>

-   <span data-ttu-id="d3df6-314">включение шифрования для виртуальных машин Linux с использованием [диспетчера логических томов (LVM)](https://msdn.microsoft.com/library/windows/desktop/bb540532) для дисков данных;</span><span class="sxs-lookup"><span data-stu-id="d3df6-314">Enabling encryption on Linux VMs by using [LVM(Logical Volume Manager)](https://msdn.microsoft.com/library/windows/desktop/bb540532) for data disks</span></span>

-   <span data-ttu-id="d3df6-315">включение шифрования для виртуальных машин Windows, использующих дисковые пространства.</span><span class="sxs-lookup"><span data-stu-id="d3df6-315">Enabling encryption on Windows VMs that are configured by using storage spaces</span></span>

-   <span data-ttu-id="d3df6-316">поддерживаются все общедоступные регионы Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-316">All Azure public regions are supported</span></span>

<span data-ttu-id="d3df6-317">В этом выпуске решения не поддерживаются следующие сценарии, функции и технологии:</span><span class="sxs-lookup"><span data-stu-id="d3df6-317">The solution does not support the following scenarios, features, and technology in the release:</span></span>

-   <span data-ttu-id="d3df6-318">виртуальные машины уровня "Базовый";</span><span class="sxs-lookup"><span data-stu-id="d3df6-318">Basic tier IaaS VMs</span></span>

-   <span data-ttu-id="d3df6-319">отключение шифрования диска ОС виртуальных машин IaaS под управлением Linux;</span><span class="sxs-lookup"><span data-stu-id="d3df6-319">Disabling encryption on an OS drive for Linux IaaS VMs</span></span>

-   <span data-ttu-id="d3df6-320">виртуальные машины IaaS, созданные с помощью классической модели развертывания;</span><span class="sxs-lookup"><span data-stu-id="d3df6-320">IaaS VMs that are created by using the classic VM creation method</span></span>

-   <span data-ttu-id="d3df6-321">интеграция с локальной службой управления ключами;</span><span class="sxs-lookup"><span data-stu-id="d3df6-321">Integration with your on-premises Key Management Service</span></span>

-   <span data-ttu-id="d3df6-322">служба файлов Azure (файловый ресурс Azure), NFS, динамические тома, виртуальные машины Windows с программными системами RAID.</span><span class="sxs-lookup"><span data-stu-id="d3df6-322">Azure Files (shared file system), Network File System (NFS), dynamic volumes, and Windows VMs that are configured with software-based RAID systems</span></span>

## <a name="sql-azure-database-isolation"></a><span data-ttu-id="d3df6-323">Изоляция базы данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="d3df6-323">SQL Azure Database Isolation</span></span>
<span data-ttu-id="d3df6-324">База данных SQL — это реляционная служба баз данных в Microsoft Cloud на основе популярного ядра Microsoft SQL Server, которая подходит для выполнения критически важных рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="d3df6-324">SQL Database is a relational database service in the Microsoft cloud based on the market-leading Microsoft SQL Server engine and capable of handling mission-critical workloads.</span></span> <span data-ttu-id="d3df6-325">База данных SQL предоставляет изоляцию прогнозируемых данных на уровне учетной записи на основе географического расположения или региона либо сети, обеспечивая практически полностью автоматизированное администрирование.</span><span class="sxs-lookup"><span data-stu-id="d3df6-325">SQL Database offers predictable data isolation at account level, geography / region based and based on networking— all with near-zero administration.</span></span>

### <a name="sql-azure-application-model"></a><span data-ttu-id="d3df6-326">Модель приложения SQL Azure</span><span class="sxs-lookup"><span data-stu-id="d3df6-326">SQL Azure Application Model</span></span>

<span data-ttu-id="d3df6-327">База данных [Microsoft SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-get-started) — это облачная служба реляционных баз данных, созданная на основе технологий SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d3df6-327">[Microsoft SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-get-started) Database is a cloud-based relational database service built on SQL Server technologies.</span></span> <span data-ttu-id="d3df6-328">Она предоставляет высокодоступную, масштабируемую и мультитенантную службу баз данных, размещаемую корпорацией Майкрософт в облаке.</span><span class="sxs-lookup"><span data-stu-id="d3df6-328">It provides a highly available, scalable, multi-tenant database service hosted by Microsoft in cloud.</span></span>

<span data-ttu-id="d3df6-329">С точки зрения приложения SQL Azure предоставляет следующую иерархию: каждый уровень содержит приведенные ниже вложенные уровни по схеме "один ко многим".</span><span class="sxs-lookup"><span data-stu-id="d3df6-329">From an application perspective SQL Azure provides the following hierarchy: Each level has one-to-many containment of levels below.</span></span>

![Модель приложения SQL Azure](./media/azure-isolation/azure-isolation-fig10.png)

<span data-ttu-id="d3df6-331">Учетная запись и подписка — это понятия, используемые в платформе Microsoft Azure, чтобы связать выставления счетов и управление.</span><span class="sxs-lookup"><span data-stu-id="d3df6-331">The account and subscription are Microsoft Azure platform concepts to associate billing and management.</span></span>

<span data-ttu-id="d3df6-332">Логические серверы и базы данных — это понятия, связанные с SQL Azure и управляемые с помощью SQL Azure посредством интерфейсов OData и TSQL или портала SQL Azure, который интегрирован в портал Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-332">Logical servers and databases are SQL Azure-specific concepts and are managed by using SQL Azure, provided OData and TSQL interfaces or via SQL Azure portal that integrated into Azure portal.</span></span>

<span data-ttu-id="d3df6-333">Серверы SQL Azure не являются физическими экземплярами или экземплярами виртуальных машин. Они представляют собой коллекции баз данных, использующих общие политики управления и безопасности, которые хранятся в так называемой логической базе данных master.</span><span class="sxs-lookup"><span data-stu-id="d3df6-333">SQL Azure servers are not physical or VM instances, instead they are collections of databases, sharing management and security policies, which are stored in so called “logical master” database.</span></span>

![SQL Azure](./media/azure-isolation/azure-isolation-fig11.png)

<span data-ttu-id="d3df6-335">Логические базы данных master содержат:</span><span class="sxs-lookup"><span data-stu-id="d3df6-335">Logical master databases include:</span></span>

-   <span data-ttu-id="d3df6-336">имена для входа SQL, используемые для подключения к серверу;</span><span class="sxs-lookup"><span data-stu-id="d3df6-336">SQL logins used to connect to the server</span></span>

-   <span data-ttu-id="d3df6-337">Правила файрволла</span><span class="sxs-lookup"><span data-stu-id="d3df6-337">Firewall rules</span></span>

<span data-ttu-id="d3df6-338">Данные о выставлении счетов и использовании для баз данных SQL Azure на одном логическом сервере не обязательно будут храниться в одном физическом экземпляре в кластере SQL Azure. Вместо этого при подключении приложение должно указать имя целевой базы данных.</span><span class="sxs-lookup"><span data-stu-id="d3df6-338">Billing and usage-related information for SQL Azure databases from the same logical server are not guaranteed to be on the same physical instance in SQL Azure cluster, instead applications must provide the target database name when connecting.</span></span>

<span data-ttu-id="d3df6-339">С точки зрения клиента логический сервер создается в графическом регионе, тогда как на самом деле сервер создается в одном из кластеров в регионе.</span><span class="sxs-lookup"><span data-stu-id="d3df6-339">From a customer perspective, a logical server is created in a geo-graphical region while the actual creation of the server happens in one of the clusters in the region.</span></span>

### <a name="isolation-through-network-topology"></a><span data-ttu-id="d3df6-340">Изоляции с помощью топологии сети</span><span class="sxs-lookup"><span data-stu-id="d3df6-340">Isolation through Network Topology</span></span>

<span data-ttu-id="d3df6-341">При создании логического сервера и регистрации его DNS-имени оно указывает на так называемый "виртуальный IP-адрес шлюза" в центре обработки данных, в котором размещается этот сервер.</span><span class="sxs-lookup"><span data-stu-id="d3df6-341">When a logical server is created and its DNS name is registered, the DNS name points to the so called “Gateway VIP” address in the specific data center where the server was placed.</span></span>

<span data-ttu-id="d3df6-342">За этим виртуальным IP-адресом находится набор служб шлюза без отслеживания.</span><span class="sxs-lookup"><span data-stu-id="d3df6-342">Behind the VIP (virtual IP address), we have a collection of stateless gateway services.</span></span> <span data-ttu-id="d3df6-343">В общем случае шлюз задействуется, когда требуется координировать работу нескольких источников данных (база данных master, база данных пользователя и т. д.).</span><span class="sxs-lookup"><span data-stu-id="d3df6-343">In general, gateways get involved when there is coordination needed between multiple data sources (master database, user database, etc.).</span></span> <span data-ttu-id="d3df6-344">Службы шлюза реализуют следующие функции.</span><span class="sxs-lookup"><span data-stu-id="d3df6-344">Gateway services implement the following:</span></span>
-   <span data-ttu-id="d3df6-345">**Использование прокси-сервера TDS-подключений.**</span><span class="sxs-lookup"><span data-stu-id="d3df6-345">**TDS connection proxying.**</span></span> <span data-ttu-id="d3df6-346">Это включает в себя поиск базы данных пользователя во внутреннем кластере, реализацию последовательности входа в систему и пересылку пакетов TDS в серверную часть и обратно.</span><span class="sxs-lookup"><span data-stu-id="d3df6-346">This includes locating user database in the backend cluster, implementing the login sequence and then forwarding the TDS packets to the backend and back.</span></span>

-   <span data-ttu-id="d3df6-347">**Управление базами данных.**</span><span class="sxs-lookup"><span data-stu-id="d3df6-347">**Database management.**</span></span> <span data-ttu-id="d3df6-348">Это включает в себя реализацию коллекции рабочих процессов для выполнения операций CREATE, ALTER или DROP с базами данных.</span><span class="sxs-lookup"><span data-stu-id="d3df6-348">This includes implementing a collection of workflows to do CREATE/ALTER/DROP database operations.</span></span> <span data-ttu-id="d3df6-349">Операции базы данных могут быть вызваны посредством сканирования пакетов TDS или явного использования интерфейсов API OData.</span><span class="sxs-lookup"><span data-stu-id="d3df6-349">The database operations can be invoked by either sniffing TDS packets or explicit OData APIs.</span></span>

-   <span data-ttu-id="d3df6-350">Операции пользователя CREATE, ALTER или DROP.</span><span class="sxs-lookup"><span data-stu-id="d3df6-350">CREATE/ALTER/DROP login/user operations</span></span>

-   <span data-ttu-id="d3df6-351">Операции управления логическим сервером с помощью API OData.</span><span class="sxs-lookup"><span data-stu-id="d3df6-351">Logical server management operations via OData API</span></span>

![Изоляции с помощью топологии сети](./media/azure-isolation/azure-isolation-fig12.png)

<span data-ttu-id="d3df6-353">Уровень за шлюзом называется "внутренним".</span><span class="sxs-lookup"><span data-stu-id="d3df6-353">The tier behind the gateways is called “back-end”.</span></span> <span data-ttu-id="d3df6-354">На нем хранятся все данные в режиме высокой доступности.</span><span class="sxs-lookup"><span data-stu-id="d3df6-354">This is where all the data is stored in a highly available fashion.</span></span> <span data-ttu-id="d3df6-355">Каждый фрагмент данных принадлежит "секции" или "единице отработки отказа", у каждой из которых есть по крайней мере три реплики.</span><span class="sxs-lookup"><span data-stu-id="d3df6-355">Each piece of data is said to belong to a “partition” or “failover unit”, each of them having at least three replicas.</span></span> <span data-ttu-id="d3df6-356">Реплики сохраняются и реплицируются ядром SQL Server, а управляет ими система отработки отказа, которую часто называют "структурой".</span><span class="sxs-lookup"><span data-stu-id="d3df6-356">Replicas are stored and replicated by SQL Server engine and managed by a failover system often referred to as “fabric”.</span></span>

<span data-ttu-id="d3df6-357">Как правило, внутренняя система не передает данные в другие системы из соображений безопасности.</span><span class="sxs-lookup"><span data-stu-id="d3df6-357">Generally, the back-end system does not communicate outbound to other systems as a security precaution.</span></span> <span data-ttu-id="d3df6-358">Эта функция возложена на интерфейсный (шлюзовой) уровень.</span><span class="sxs-lookup"><span data-stu-id="d3df6-358">This is reserved to the systems in the front-end (gateway) tier.</span></span> <span data-ttu-id="d3df6-359">Компьютеры шлюзового уровня имеют ограниченные привилегии на внутренних компьютерах, чтобы свести к минимуму возможные виды атак благодаря механизму эшелонированной защиты.</span><span class="sxs-lookup"><span data-stu-id="d3df6-359">The gateway tier machines have limited privileges on the back-end machines to minimize the attack surface as a defense-in-depth mechanism.</span></span>

### <a name="isolation-by-machine-function-and-access"></a><span data-ttu-id="d3df6-360">Изоляция с помощью функций и доступа компьютеров</span><span class="sxs-lookup"><span data-stu-id="d3df6-360">Isolation by Machine Function and Access</span></span>
<span data-ttu-id="d3df6-361">SQL Azure состоит из служб, использующих различные функции компьютеров.</span><span class="sxs-lookup"><span data-stu-id="d3df6-361">SQL Azure (is composed of services running on different machine functions.</span></span> <span data-ttu-id="d3df6-362">SQL Azure делится на "внутреннюю" среду облачной базы данных и "интерфейсную" среду (управление и шлюз), которые реализуют общий принцип: трафик передается только в серверную часть (внутреннюю среду), но не из нее. Интерфейсная среда может взаимодействовать с внешним миром других служб и в общем случае имеет только ограниченные разрешения для серверной части (достаточные для вызова необходимых точек входа).</span><span class="sxs-lookup"><span data-stu-id="d3df6-362">SQL Azure is divided into “backend” Cloud Database and “front-end” (Gateway/Management) environments, with the general principle of traffic only going into back-end and not out. The front-end environment can communicate to the outside world of other services and in general, has only limited permissions in the back-end (enough to call the entry points it needs to invoke).</span></span>

## <a name="networking-isolation"></a><span data-ttu-id="d3df6-363">Изоляция сетей</span><span class="sxs-lookup"><span data-stu-id="d3df6-363">Networking Isolation</span></span>
<span data-ttu-id="d3df6-364">Развертывание Azure использует несколько уровней изоляции сети.</span><span class="sxs-lookup"><span data-stu-id="d3df6-364">Azure deployment has multiple layers of network isolation.</span></span> <span data-ttu-id="d3df6-365">На следующей схеме показаны различные уровни изоляции сети, которые Azure предоставляет клиентам.</span><span class="sxs-lookup"><span data-stu-id="d3df6-365">The following diagram shows various layers of network isolation Azure provides to customers.</span></span> <span data-ttu-id="d3df6-366">Эти уровни представляют собой как уровни безопасности самой платформы Azure, так и пользовательские функции.</span><span class="sxs-lookup"><span data-stu-id="d3df6-366">These layers are both native in the Azure platform itself and customer-defined features.</span></span> <span data-ttu-id="d3df6-367">На входе трафика из Интернета действует защита Azure от атак DDoS, которая изолирует масштабные атаки на среду Azure.</span><span class="sxs-lookup"><span data-stu-id="d3df6-367">Inbound from the Internet, Azure DDoS provides isolation against large-scale attacks against Azure.</span></span> <span data-ttu-id="d3df6-368">Следующий уровень изоляции — определяемые пользователем общедоступные IP-адреса (конечные точки). С их помощью можно определить, какой трафик можно передать через облачную службу в виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="d3df6-368">The next layer of isolation is customer-defined public IP addresses (endpoints), which are used to determine which traffic can pass through the cloud service to the virtual network.</span></span> <span data-ttu-id="d3df6-369">Виртуальная сеть Azure имеет встроенную систему изоляции от всех остальных сетей, и этот трафик может проходить только теми путями и методами, которые настроены пользователем.</span><span class="sxs-lookup"><span data-stu-id="d3df6-369">Native Azure virtual network isolation ensures complete isolation from all other networks, and that traffic only flows through user configured paths and methods.</span></span> <span data-ttu-id="d3df6-370">Эти пути и методы образуют следующий уровень, на котором с помощью групп безопасности сети (NSG), определяемых пользователем маршрутов (UDR) и виртуальных сетевых устройств можно создать границы изоляции для обеспечения безопасности развернутых приложений в защищенной сети.</span><span class="sxs-lookup"><span data-stu-id="d3df6-370">These paths and methods are the next layer, where NSGs, UDR, and network virtual appliances can be used to create isolation boundaries to protect the application deployments in the protected network.</span></span>

![Изоляция сетей](./media/azure-isolation/azure-isolation-fig13.png)

<span data-ttu-id="d3df6-372">**Изоляция трафика.** [Виртуальная сеть](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) на платформе Azure выступает в качестве границы изоляции трафика.</span><span class="sxs-lookup"><span data-stu-id="d3df6-372">**Traffic isolation:** A [virtual network](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview) is the traffic isolation boundary on the Azure platform.</span></span> <span data-ttu-id="d3df6-373">Виртуальные машины в одной виртуальной сети не могут напрямую обращаться к виртуальным машинам в другой виртуальной сети, даже если обе виртуальные сети созданы одним клиентом.</span><span class="sxs-lookup"><span data-stu-id="d3df6-373">Virtual machines (VMs) in one virtual network cannot communicate directly to VMs in a different virtual network, even if both virtual networks are created by the same customer.</span></span> <span data-ttu-id="d3df6-374">Это критически важное свойство, которое гарантирует, что виртуальные машины и все коммуникации клиента останутся закрытыми в пределах виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="d3df6-374">Isolation is a critical property that ensures customer VMs and communication remains private within a virtual network.</span></span>

<span data-ttu-id="d3df6-375">[Подсеть](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#subnets) обеспечивает дополнительный уровень изоляции в виртуальной сети на основе диапазона IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-375">[Subnet](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#subnets) offers an additional layer of isolation with in virtual network based on IP range.</span></span> <span data-ttu-id="d3df6-376">IP-адреса виртуальной сети можно разделить на несколько подсетей для организационного удобства и безопасности.</span><span class="sxs-lookup"><span data-stu-id="d3df6-376">IP addresses in the virtual network, you can divide a virtual network into multiple subnets for organization and security.</span></span> <span data-ttu-id="d3df6-377">Виртуальные машины и экземпляры роли PaaS, развернутые в подсети (одной или разных) в виртуальной сети, могут взаимодействовать друг с другом без дополнительной настройки.</span><span class="sxs-lookup"><span data-stu-id="d3df6-377">VMs and PaaS role instances deployed to subnets (same or different) within a VNet can communicate with each other without any extra configuration.</span></span> <span data-ttu-id="d3df6-378">Можно также настроить [группу безопасности сети (NSG)](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#network-security-groups-nsg), чтобы разрешить или запретить сетевой трафик для экземпляра виртуальной машины на основе правил, настроенных в списке управления доступом (ACL) NSG.</span><span class="sxs-lookup"><span data-stu-id="d3df6-378">You can also configure [network security group (NSGs)](https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview#network-security-groups-nsg) to allow or deny network traffic to a VM instance based on rules configured in access control list (ACL) of NSG.</span></span> <span data-ttu-id="d3df6-379">Группы безопасности сети можно связать с подсетями или отдельными экземплярами виртуальных машин в одной из подсетей.</span><span class="sxs-lookup"><span data-stu-id="d3df6-379">NSGs can be associated with either subnets or individual VM instances within that subnet.</span></span> <span data-ttu-id="d3df6-380">Когда NSG связана с подсетью, правила списка управления доступом применяются ко всем экземплярам виртуальной машины в этой подсети.</span><span class="sxs-lookup"><span data-stu-id="d3df6-380">When an NSG is associated with a subnet, the ACL rules apply to all the VM instances in that subnet.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d3df6-381">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="d3df6-381">Next Steps</span></span>

- <span data-ttu-id="d3df6-382">[Network Isolation Options for Machines in Windows Azure Virtual Networks](https://azure.microsoft.com/blog/network-isolation-options-for-machines-in-windows-azure-virtual-networks/) (Возможности изоляции сети для компьютеров в виртуальных сетях Microsoft Azure)</span><span class="sxs-lookup"><span data-stu-id="d3df6-382">[Network Isolation Options for Machines in Windows Azure Virtual Networks](https://azure.microsoft.com/blog/network-isolation-options-for-machines-in-windows-azure-virtual-networks/)</span></span>

<span data-ttu-id="d3df6-383">Описывается классический сценарий интерфейсной и внутренней сетей, в котором компьютеры, размещенные в определенной внутренней сети или подсети, разрешают подключаться к определенной конечной точке только определенным клиентам или компьютерам, в соответствии со списком разрешенных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="d3df6-383">This includes the classic front-end and back-end scenario where machines in a particular back-end network or subnetwork may only allow certain clients or other computers to connect to a particular endpoint based on a whitelist of IP addresses.</span></span>

- [<span data-ttu-id="d3df6-384">Изоляция вычислений</span><span class="sxs-lookup"><span data-stu-id="d3df6-384">Compute Isolation</span></span>](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf)

<span data-ttu-id="d3df6-385">Microsoft Azure предоставляет различные облачные службы вычислений, которые включают в себя широкий спектр вычислительных операций и служб, поддерживающих автомасштабирование ресурсов в соответствии с потребностями приложения или предприятия.</span><span class="sxs-lookup"><span data-stu-id="d3df6-385">Microsoft Azure provides a various cloud-based computing services that include a wide selection of compute instances & services that can scale up and down automatically to meet the needs of your application or enterprise.</span></span>

- [<span data-ttu-id="d3df6-386">Изоляция хранилища</span><span class="sxs-lookup"><span data-stu-id="d3df6-386">Storage Isolation</span></span>](https://msenterprise.global.ssl.fastly.net/vnext/PDFs/A01_AzureSecurityWhitepaper20160415c.pdf)

<span data-ttu-id="d3df6-387">Microsoft Azure отделяет вычисления клиента на виртуальных машинах от хранилища.</span><span class="sxs-lookup"><span data-stu-id="d3df6-387">Microsoft Azure separates customer VM-based computation from storage.</span></span> <span data-ttu-id="d3df6-388">Такое разделение позволяет масштабировать вычисления и хранилище независимо друг от друга, что упрощает обеспечение мультитенантности и изоляции.</span><span class="sxs-lookup"><span data-stu-id="d3df6-388">This separation enables computation and storage to scale independently, making it easier to provide multi-tenancy and isolation.</span></span> <span data-ttu-id="d3df6-389">Поэтому служба хранилища Azure выполняется на отдельном оборудовании без сетевого подключения к службе вычислений Azure, за исключением логических подключений.</span><span class="sxs-lookup"><span data-stu-id="d3df6-389">Therefore, Azure Storage runs on separate hardware with no network connectivity to Azure Compute except logically.</span></span> <span data-ttu-id="d3df6-390">Все запросы передаются по протоколу HTTP или HTTPS в зависимости от выбора клиента.</span><span class="sxs-lookup"><span data-stu-id="d3df6-390">All requests run over HTTP or HTTPS based on customer’s choice.</span></span>

