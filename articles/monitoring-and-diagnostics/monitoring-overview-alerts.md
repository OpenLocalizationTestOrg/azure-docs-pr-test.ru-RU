---
title: "Обзор оповещений в Microsoft Azure и Azure Monitor | Документация Майкрософт"
description: "Оповещения позволяют отслеживать метрики ресурсов Azure, события или журналы и получать уведомления при выполнении заданных условий."
author: rboucher
manager: carmonm
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: a6dea224-57bf-43d8-a292-06523037d70b
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/02/2017
ms.author: robb
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: c1f0182f27cfb8441a09abd2031b365a4ab4315a
ms.sourcegitcommit: b7adce69c06b6e70493d13bc02bd31e06f291a91
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/19/2017
---
# <a name="what-are-alerts-in-microsoft-azure"></a>Что такое оповещения в Microsoft Azure?
В этой статье рассматриваются различные источники оповещений в Microsoft Azure, назначение этих оповещений и их преимущества, а также описывается, как приступить к работе с ними. Эта статья посвящена Azure Monitor, но содержит ссылки и на другие службы с оповещениями. Оповещения предоставляют методы мониторинга в Azure, они позволяют настроить условия для данных и получать уведомления, когда последние данные мониторинга соответствуют этим условиям.


## <a name="taxonomy-of-azure-alerts"></a>Таксономия оповещений Azure
Для описания оповещений и их функций в Azure используются следующие термины.
* **Оповещение**. Определение условий (одно или несколько правил либо условий), которое активируется при соблюдении этих условий.
* **Активное**. Состояние, когда выполняются условия, определенные в оповещении.
* **Разрешено**. Состояние, когда условия оповещения больше не выполняются после того, как они были выполнены.
* **Уведомление**. Действие, которое выполняется при активации оповещения.
* **Действие**. Определенный вызов, отправляемый получателю уведомления (например, отправка сообщения на электронный адрес или передача данных на URL-адрес веб-перехватчика). Обычно уведомления могут активировать несколько действий.

    > [!NOTE]
    > В ходе развития оповещений в Azure новый унифицированного интерфейса доступна в предварительной версии. Новые возможности оповещения (Предварительная версия) использует другой классификации. Дополнительные сведения о [оповещения (Предварительная версия)](monitoring-overview-unified-alerts.md). 
    >

## <a name="alerts-in-different-azure-services"></a>Оповещения в различных службах Azure
Оповещения доступны в нескольких службах мониторинга Azure. Сведения о том, как и когда следует использовать эти службы, см. [в этой статье](./monitoring-overview.md). Ниже представлена классификация типов оповещений в Azure.


| Service | Тип оповещения | Поддерживаемые службы | ОПИСАНИЕ |
|---|---|---|---|
| Azure Monitor | [Оповещения метрик](./insights-alerts-portal.md) | [Поддерживаемые метрики из Azure Monitor](./monitoring-supported-metrics.md). | Получение уведомления, когда данные метрики уровня платформы соответствуют определенному условию (например, загрузка ЦП на виртуальной машине превышает 90 % последние 5 минут). |
|Azure Monitor | [Оповещения на основе метрик практически в реальном времени (предварительная версия)](./monitoring-near-real-time-metric-alerts.md)| [Поддерживаемые ресурсы из Azure Monitor](./monitoring-near-real-time-metric-alerts.md#what-resources-can-i-create-near-real-time-metric-alerts-for) | Получение уведомлений быстрее, чем оповещений метрик, когда данные одной или нескольких метрик уровня платформы соответствуют определенным условиям (например, загрузка ЦП на виртуальной машине превышает 90 %, а входящий сетевой трафик превышает 500 МБ за последние 5 минут). |
| Azure Monitor | [Оповещения журнала действий](./monitoring-activity-log-alerts.md) | Все типы ресурсов, доступные в Azure Resource Manager. | Получение уведомления, когда какое-либо новое событие в [журнале действий Azure](./monitoring-overview-activity-logs.md) соответствует определенным условиям (например, когда выполняется операция "Удаление виртуальной машины" в группе ресурсов myProductionResourceGroup или когда появляется новое событие службы работоспособности с состоянием "Активное"). |
| Application Insights | [Оповещения метрик](../application-insights/app-insights-alerts.md) | Любое приложение, инструментированное для отправки данных в Application Insights. | Получение уведомления, когда данные какой-либо метрики уровня приложения соответствуют определенному условию (например, время отклика сервера превышает 2 секунды). |
| Application Insights | [Оповещения веб-тестов](../application-insights/app-insights-monitor-web-app-availability.md) | Любой веб-сайт, инструментированный для отправки данных в Application Insights. | Получение уведомления, когда доступность или скорость реагирования веб-сайта опускается ниже ожидаемого значения. |
| Служба Log Analytics | [Оповещения Log Analytics](../log-analytics/log-analytics-alerts.md) | Любая служба, настроенная для отправки данных в Log Analytics. | Получение уведомления, когда поисковый запрос Log Analytics для метрики и (или) данных события находит данные, соответствующие определенным условиям. |

## <a name="alerts-on-azure-monitor-data"></a>Оповещения для данных Azure Monitor
Существуют три типа оповещений для данных из Azure Monitor: оповещения на основе метрик, оповещения на основе метрик практически в реальном времени (предварительная версия) и оповещения журнала действий.

* **Оповещения метрик**. Это оповещение активируется, когда значение указанной метрики выходит за рамки заданного порога. Оповещение формирует уведомление, когда переходит в активное состояние (т. е. когда значение метрики выходит за пределы порога и выполнены условия оповещения) и когда переходит в разрешенное состояние (т. е. когда значение метрики снова соответствует порогу и условие больше не выполняется). Обновляемый список доступных метрик, поддерживаемых Azure Monitor, см. в статье [Метрики, поддерживаемые Azure Monitor](monitoring-supported-metrics.md).
* **Оповещения на основе метрик практически в реальном времени (предварительная версия).** Эти оповещения похожи на оповещения на основе метрик с небольшим отличием. Как видно из имени, эти оповещения активируются практически в реальном времени (в течение одной минуты). Они также поддерживают отслеживание нескольких метрик (сейчас только двух).  Оповещение формирует уведомление, когда переходит в активное состояние (т. е. когда значения каждой метрики одновременно выходят за пределы порогового значения и выполнены условия оповещения) и когда переходит в разрешенное состояние (т. е. когда значение метрики снова выходит за пределы порогового значения и условие больше не выполняется).

    > [!NOTE]
    > Оповещения на основе метрик практически в реальном времени сейчас доступны в виде общедоступной версии. Функциональные возможности и условия взаимодействия с пользователем могут изменяться.
    >
    >

* **Оповещения журнала действий**. Оповещение журнала потоковой передачи, которое активируется, когда создается событие журнала действий, соответствующее настроенным условиям фильтров. Эти предупреждения имеют только одно состояние, "Активировано", так как обработчик оповещений просто применяет условия фильтра к любому новому событию. Данные оповещения могут использоваться для получения уведомлений, когда возникает новый инцидент службы работоспособности или когда пользователь или приложение выполняет какую-либо операцию в подписке, например "Удаление виртуальной машины".

Мы рекомендуем перенаправлять данные журнала диагностики, доступные в Azure Monitor, в Log Analytics и использовать оповещения Log Analytics. На следующей диаграмме показаны источники данных в Azure Monitor и принципы создания оповещений на их основе.

![Работа с оповещениями](./media/monitoring-overview-alerts/Alerts_Overview_Resource_v4.png)

## <a name="how-do-i-receive-a-notification-on-an-azure-monitor-alert"></a>Как получить уведомление об оповещении Azure Monitor?
Исторически так сложилось, что оповещения Azure от различных служб использовали собственные встроенные методы уведомления. На будущее Azure Monitor предлагает возможность группирования многократно используемых уведомлений с помощью групп действий. Группы действий позволяют указать получателей уведомлений (любое количество адресов электронной почты, номеров телефонов (для рассылки SMS) или URL-адресов веб-перехватчиков), и каждый раз при активации оповещения, в котором указана группа действий, все получатели получают соответствующее уведомление. Это позволяет многократно использовать группы получателей (например, список дежурных инженеров) для многих объектов оповещений. В настоящее время группы действий используются только оповещениями журнала действий, но находится в разработке расширение этой возможности на еще несколько типов оповещений Azure.

Помимо рассылки на адреса электронной почты и номера телефонов для SMS, группы действий поддерживают уведомление путем передачи данных на URL-адрес веб-перехватчика. Это позволяет автоматизировать работу и вносить исправления, например с помощью:
    - Runbook службы автоматизации Azure
    - функции Azure;
    - Приложение логики Azure
    - сторонней службы.

Оповещения на основе метрик практически в реальном времени (предварительная версия) и оповещения журналов действий используют группы действий.

Оповещения метрик пока еще не используют группы действий. Для отдельного оповещения метрики можно настроить уведомления о следующих событиях:
* отправка уведомлений по электронной почте администратору службы, соадминистраторам или на дополнительные электронные адреса, указанные вами;
* вызов webhook, который позволяет запускать дополнительные автоматизированные действия.

## <a name="next-steps"></a>Дальнейшие действия
Изучите правила создания оповещений и ознакомьтесь с их настройкой с помощью следующих средств:

* Узнайте больше о [метриках](monitoring-overview-metrics.md).
* Настройте [оповещения метрик на портале Azure](insights-alerts-portal.md).
* Настройте [оповещения метрик с помощью PowerShell](insights-alerts-powershell.md).
* Настройте [оповещения метрик с помощью интерфейса командной строки](insights-alerts-command-line-interface.md).
* Настройте [оповещения метрик с помощью REST API Azure Monitor](https://msdn.microsoft.com/library/azure/dn931945.aspx).
* Узнайте больше о [журнале действий](monitoring-overview-activity-logs.md).
* Настройте [оповещения журнала действий на портале Azure](monitoring-activity-log-alerts.md).
* Настройте [оповещения журнала действий с помощью Resource Manager](monitoring-create-activity-log-alerts-with-resource-manager-template.md).
* Просмотрите [схему webhook оповещений журнала действий](monitoring-activity-log-alerts-webhook.md).
* Дополнительные сведения об оповещениях на основе метрик практически в реальном времени см. [здесь](monitoring-near-real-time-metric-alerts.md).
* Узнайте больше об [уведомлениях службы](monitoring-service-notifications.md).
* Узнайте больше о [группах действий](monitoring-action-groups.md).
* Настройка [оповещений с использованием оповещения (Предварительная версия)](monitor-alerts-unified-usage.md)
