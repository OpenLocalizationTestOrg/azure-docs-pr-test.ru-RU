---
title: "Обзор оповещений в Microsoft Azure и Azure Monitor | Документация Майкрософт"
description: "Оповещения позволяют отслеживать метрики ресурсов Azure, события или журналы и получать уведомления при выполнении заданных условий."
author: rboucher
manager: carmonm
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: a6dea224-57bf-43d8-a292-06523037d70b
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/02/2017
ms.author: robb
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3d30ce72a3be298eba1f4e8f8d33b769971c96cb
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="what-are-alerts-in-microsoft-azure"></a><span data-ttu-id="ea7be-103">Что такое оповещения в Microsoft Azure?</span><span class="sxs-lookup"><span data-stu-id="ea7be-103">What are alerts in Microsoft Azure?</span></span>
<span data-ttu-id="ea7be-104">В этой статье рассматриваются различные источники оповещений в Microsoft Azure, назначение этих оповещений и их преимущества, а также описывается, как приступить к работе с ними.</span><span class="sxs-lookup"><span data-stu-id="ea7be-104">This article describes the various sources of alerts in Microsoft Azure, what are the purposes for those alerts, their benefits, and how to get started with using them.</span></span> <span data-ttu-id="ea7be-105">Эта статья посвящена Azure Monitor, но содержит ссылки и на другие службы с оповещениями.</span><span class="sxs-lookup"><span data-stu-id="ea7be-105">It specifically applies to Azure Monitor, but provides pointers to other services with alerts as well.</span></span> <span data-ttu-id="ea7be-106">Оповещения обеспечивают способ мониторинга в Azure, они позволяют настроить условия для данных и получать уведомления, когда последние данные мониторинга соответствуют этим условиям.</span><span class="sxs-lookup"><span data-stu-id="ea7be-106">Alerts offer a method of monitoring in Azure that allow you to configure conditions over data and become notified when the conditions match the latest monitoring data.</span></span>

## <a name="taxonomy-of-azure-alerts"></a><span data-ttu-id="ea7be-107">Таксономия оповещений Azure</span><span class="sxs-lookup"><span data-stu-id="ea7be-107">Taxonomy of Azure Alerts</span></span>
<span data-ttu-id="ea7be-108">Для описания оповещений и их функций в Azure используются следующие термины.</span><span class="sxs-lookup"><span data-stu-id="ea7be-108">Azure uses the following terms to describe alerts and their functions:</span></span>
* <span data-ttu-id="ea7be-109">**Оповещение**. Определение условий (одно или несколько правил либо условий), которое активируется при соблюдении этих условий.</span><span class="sxs-lookup"><span data-stu-id="ea7be-109">**Alert** - a definition of criteria (one or more rules or conditions) that becomes activated when met.</span></span>
* <span data-ttu-id="ea7be-110">**Активное**. Состояние, когда выполняются условия, определенные в оповещении.</span><span class="sxs-lookup"><span data-stu-id="ea7be-110">**Active** - the state when the criteria defined by an alert is met.</span></span>
* <span data-ttu-id="ea7be-111">**Разрешено**. Состояние, когда условия оповещения больше не выполняются после того, как они были выполнены.</span><span class="sxs-lookup"><span data-stu-id="ea7be-111">**Resolved** - the state when the criteria defined by an alert is no longer met after previously having been met.</span></span>
* <span data-ttu-id="ea7be-112">**Уведомление**. Действие, которое выполняется при активации оповещения.</span><span class="sxs-lookup"><span data-stu-id="ea7be-112">**Notification** - the action taken based off of an alert becoming active.</span></span>
* <span data-ttu-id="ea7be-113">**Действие**. Определенный вызов, отправляемый получателю уведомления (например, отправка сообщения на электронный адрес или передача данных на URL-адрес веб-перехватчика).</span><span class="sxs-lookup"><span data-stu-id="ea7be-113">**Action** - a specific call sent to a receiver of a notification (for example, emailing an address or posting to a webhook URL).</span></span> <span data-ttu-id="ea7be-114">Обычно уведомления могут активировать несколько действий.</span><span class="sxs-lookup"><span data-stu-id="ea7be-114">Notifications can usually trigger multiple actions.</span></span>

## <a name="alerts-in-different-azure-services"></a><span data-ttu-id="ea7be-115">Оповещения в различных службах Azure</span><span class="sxs-lookup"><span data-stu-id="ea7be-115">Alerts in different Azure services</span></span>
<span data-ttu-id="ea7be-116">Оповещения доступны в нескольких службах мониторинга Azure.</span><span class="sxs-lookup"><span data-stu-id="ea7be-116">Alerts are available across several Azure monitoring services.</span></span> <span data-ttu-id="ea7be-117">Сведения о том, как и когда следует использовать эти службы, см. [в этой статье](./monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-117">For information on how and when to use these services, [see this article](./monitoring-overview.md).</span></span> <span data-ttu-id="ea7be-118">Ниже представлена классификация типов оповещений в Azure.</span><span class="sxs-lookup"><span data-stu-id="ea7be-118">Here is a breakdown of the alert types available across Azure:</span></span>

| <span data-ttu-id="ea7be-119">служба</span><span class="sxs-lookup"><span data-stu-id="ea7be-119">Service</span></span> | <span data-ttu-id="ea7be-120">Тип оповещения</span><span class="sxs-lookup"><span data-stu-id="ea7be-120">Alert type</span></span> | <span data-ttu-id="ea7be-121">Поддерживаемые службы</span><span class="sxs-lookup"><span data-stu-id="ea7be-121">Supported services</span></span> | <span data-ttu-id="ea7be-122">Описание</span><span class="sxs-lookup"><span data-stu-id="ea7be-122">Description</span></span> |
|---|---|---|---|
| <span data-ttu-id="ea7be-123">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="ea7be-123">Azure Monitor</span></span> | [<span data-ttu-id="ea7be-124">Оповещения метрик</span><span class="sxs-lookup"><span data-stu-id="ea7be-124">Metric alerts</span></span>](./insights-alerts-portal.md) | <span data-ttu-id="ea7be-125">[Поддерживаемые метрики из Azure Monitor](./monitoring-supported-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-125">[Supported metrics from Azure Monitor](./monitoring-supported-metrics.md)</span></span> | <span data-ttu-id="ea7be-126">Получение уведомления, когда данные метрики уровня платформы соответствуют определенному условию (например, загрузка ЦП на виртуальной машине превышает 90 % последние 5 минут).</span><span class="sxs-lookup"><span data-stu-id="ea7be-126">Receive a notification when any platform-level metric meets a specific condition (for example, CPU % on a VM is greater than 90 for the past 5 minutes).</span></span> |
| <span data-ttu-id="ea7be-127">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="ea7be-127">Azure Monitor</span></span> | [<span data-ttu-id="ea7be-128">Оповещения журнала действий</span><span class="sxs-lookup"><span data-stu-id="ea7be-128">Activity Log alerts</span></span>](./monitoring-activity-log-alerts.md) | <span data-ttu-id="ea7be-129">Все типы ресурсов, доступные в Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ea7be-129">All resource types available in Azure Resource Manager</span></span> | <span data-ttu-id="ea7be-130">Получение уведомления, когда какое-либо новое событие в [журнале действий Azure](./monitoring-overview-activity-logs.md) соответствует определенным условиям (например, когда выполняется операция "Удаление виртуальной машины" в группе ресурсов myProductionResourceGroup или когда появляется новое событие службы работоспособности с состоянием "Активное").</span><span class="sxs-lookup"><span data-stu-id="ea7be-130">Receive a notification when any new event in the [Azure Activity Log](./monitoring-overview-activity-logs.md) matches specific conditions (for example, when a "Delete VM" operation occurs in myProductionResourceGroup or when a new Service Health event with "Active" as the status appears).</span></span> |
| <span data-ttu-id="ea7be-131">Application Insights</span><span class="sxs-lookup"><span data-stu-id="ea7be-131">Application Insights</span></span> | [<span data-ttu-id="ea7be-132">Оповещения метрик</span><span class="sxs-lookup"><span data-stu-id="ea7be-132">Metric alerts</span></span>](../application-insights/app-insights-alerts.md) | <span data-ttu-id="ea7be-133">Любое приложение, инструментированное для отправки данных в Application Insights.</span><span class="sxs-lookup"><span data-stu-id="ea7be-133">Any application instrumented to send data to Application Insights</span></span> | <span data-ttu-id="ea7be-134">Получение уведомления, когда данные какой-либо метрики уровня приложения соответствуют определенному условию (например, время отклика сервера превышает 2 секунды).</span><span class="sxs-lookup"><span data-stu-id="ea7be-134">Receive a notification when any application-level metric meets a specific condition (for example, server response time is greater than 2 seconds).</span></span> |
| <span data-ttu-id="ea7be-135">Application Insights</span><span class="sxs-lookup"><span data-stu-id="ea7be-135">Application Insights</span></span> | [<span data-ttu-id="ea7be-136">Оповещения веб-тестов</span><span class="sxs-lookup"><span data-stu-id="ea7be-136">Web test alerts</span></span>](../application-insights/app-insights-monitor-web-app-availability.md) | <span data-ttu-id="ea7be-137">Любой веб-сайт, инструментированный для отправки данных в Application Insights.</span><span class="sxs-lookup"><span data-stu-id="ea7be-137">Any website instrumented to send data to Application Insights</span></span> | <span data-ttu-id="ea7be-138">Получение уведомления, когда доступность или скорость реагирования веб-сайта опускается ниже ожидаемого значения.</span><span class="sxs-lookup"><span data-stu-id="ea7be-138">Receive a notification when availability or responsiveness of a website is below expectations.</span></span> |
| <span data-ttu-id="ea7be-139">Служба Log Analytics</span><span class="sxs-lookup"><span data-stu-id="ea7be-139">Log Analytics</span></span> | [<span data-ttu-id="ea7be-140">Оповещения Log Analytics</span><span class="sxs-lookup"><span data-stu-id="ea7be-140">Log Analytics alerts</span></span>](../log-analytics/log-analytics-alerts.md) | <span data-ttu-id="ea7be-141">Любая служба, настроенная для отправки данных в Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="ea7be-141">Any service configured to send data into Log Analytics</span></span> | <span data-ttu-id="ea7be-142">Получение уведомления, когда поисковый запрос Log Analytics для метрики и (или) данных события находит данные, соответствующие определенным условиям.</span><span class="sxs-lookup"><span data-stu-id="ea7be-142">Receive a notification when a Log Analytics search query over metric and/or event data meets certain criteria.</span></span> |

## <a name="alerts-on-azure-monitor-data"></a><span data-ttu-id="ea7be-143">Оповещения для данных Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="ea7be-143">Alerts on Azure Monitor data</span></span>
<span data-ttu-id="ea7be-144">Существуют два типа оповещений для данных из Azure Monitor: оповещения метрик и оповещения журнала действий.</span><span class="sxs-lookup"><span data-stu-id="ea7be-144">There are two types of alerts off of data available from Azure Monitor -- metric alerts and Activity Log alerts.</span></span>

* <span data-ttu-id="ea7be-145">**Оповещения метрик**. Это оповещение активируется, когда значение указанной метрики выходит за рамки заданного порога.</span><span class="sxs-lookup"><span data-stu-id="ea7be-145">**Metric alerts** - This alert triggers when the value of a specified metric crosses a threshold that you assign.</span></span> <span data-ttu-id="ea7be-146">Оповещение формирует уведомление, когда переходит в активное состояние (т. е. когда значение метрики выходит за пределы порога и выполнены условия оповещения) и когда переходит в разрешенное состояние (т. е. когда значение метрики снова соответствует порогу и условие больше не выполняется).</span><span class="sxs-lookup"><span data-stu-id="ea7be-146">The alert generates a notification when the alert is "Activated" (when the threshold is crossed and the alert condition is met) as well as when it is "Resolved" (when the threshold is crossed again and the condition is no longer met).</span></span> <span data-ttu-id="ea7be-147">Обновляемый список доступных метрик, поддерживаемых Azure Monitor, см. в статье [Метрики, поддерживаемые Azure Monitor](monitoring-supported-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-147">For a growing list of available metrics supported by Azure monitor, see [List of metrics supported on Azure Monitor](monitoring-supported-metrics.md).</span></span>
* <span data-ttu-id="ea7be-148">**Оповещения журнала действий**. Оповещение журнала потоковой передачи, которое активируется, когда создается событие журнала действий, соответствующее настроенным условиям фильтров.</span><span class="sxs-lookup"><span data-stu-id="ea7be-148">**Activity log alerts** - A streaming log alert that triggers when an Activity Log event is generated that matches filter criteria that you have assigned.</span></span> <span data-ttu-id="ea7be-149">Эти предупреждения имеют только одно состояние, "Активировано", так как обработчик оповещений просто применяет условия фильтра к любому новому событию.</span><span class="sxs-lookup"><span data-stu-id="ea7be-149">These alerts have only one state, "Activated," since the alert engine simply applies the filter criteria to any new event.</span></span> <span data-ttu-id="ea7be-150">Данные оповещения могут использоваться для получения уведомлений, когда возникает новый инцидент службы работоспособности или когда пользователь или приложение выполняет какую-либо операцию в подписке, например "Удаление виртуальной машины".</span><span class="sxs-lookup"><span data-stu-id="ea7be-150">These alerts can be used to become notified when a new Service Health incident occurs or when a user or application performs an operation in your subscription, for example, "Delete virtual machine."</span></span>

<span data-ttu-id="ea7be-151">Мы рекомендуем перенаправлять данные журнала диагностики, доступные в Azure Monitor, в Log Analytics и использовать оповещения Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="ea7be-151">For Diagnostic Log data available through Azure Monitor, we suggest routing the data into Log Analytics and using a Log Analytics alert.</span></span> <span data-ttu-id="ea7be-152">На следующей диаграмме показаны источники данных в Azure Monitor и принципы создания оповещений на их основе.</span><span class="sxs-lookup"><span data-stu-id="ea7be-152">The following diagram summarizes sources of data in Azure Monitor and, conceptually, how you can alert off of that data.</span></span>

![Работа с оповещениями](./media/monitoring-overview-alerts/Alerts_Overview_Resource_v4.png)

## <a name="how-do-i-receive-a-notification-on-an-azure-monitor-alert"></a><span data-ttu-id="ea7be-154">Как получить уведомление об оповещении Azure Monitor?</span><span class="sxs-lookup"><span data-stu-id="ea7be-154">How do I receive a notification on an Azure Monitor alert?</span></span>
<span data-ttu-id="ea7be-155">Исторически так сложилось, что оповещения Azure от различных служб использовали собственные встроенные методы уведомления.</span><span class="sxs-lookup"><span data-stu-id="ea7be-155">Historically, Azure alerts from different services used their own built-in notification methods.</span></span> <span data-ttu-id="ea7be-156">На будущее Azure Monitor предлагает возможность группирования многократно используемых уведомлений с помощью групп действий.</span><span class="sxs-lookup"><span data-stu-id="ea7be-156">Going forward, Azure Monitor offers a reusable notification grouping called Action Groups.</span></span> <span data-ttu-id="ea7be-157">Группы действий позволяют указать получателей уведомлений (любое количество адресов электронной почты, номеров телефонов (для рассылки SMS) или URL-адресов веб-перехватчиков), и каждый раз при активации оповещения, в котором указана группа действий, все получатели получают соответствующее уведомление.</span><span class="sxs-lookup"><span data-stu-id="ea7be-157">Action Groups specify a set of receivers for a notification -- any number of email addresses, phone numbers (for SMS), or webhook URLs -- and any time an alert is activated that references the Action Group, all receivers receive that notification.</span></span> <span data-ttu-id="ea7be-158">Это позволяет многократно использовать группы получателей (например, список дежурных инженеров) для многих объектов оповещений.</span><span class="sxs-lookup"><span data-stu-id="ea7be-158">This allows you to reuse a grouping of receivers (for example, your on call engineer list) across many alert objects.</span></span> <span data-ttu-id="ea7be-159">В настоящее время группы действий используются только оповещениями журнала действий, но находится в разработке расширение этой возможности на еще несколько типов оповещений Azure.</span><span class="sxs-lookup"><span data-stu-id="ea7be-159">Currently, only Activity Log alerts make use of Action Groups, but several other Azure alert types are working on using Action Groups as well.</span></span>

<span data-ttu-id="ea7be-160">Помимо рассылки на адреса электронной почты и номера телефонов для SMS, группы действий поддерживают уведомление путем передачи данных на URL-адрес веб-перехватчика.</span><span class="sxs-lookup"><span data-stu-id="ea7be-160">Action Groups support notification by posting to a webhook URL in addition to email addresses and SMS numbers.</span></span> <span data-ttu-id="ea7be-161">Это позволяет автоматизировать работу и вносить исправления, например с помощью:</span><span class="sxs-lookup"><span data-stu-id="ea7be-161">This enables automation and remediation, for example, using:</span></span>
    - <span data-ttu-id="ea7be-162">Runbook службы автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="ea7be-162">Azure Automation Runbook</span></span>
    - <span data-ttu-id="ea7be-163">функции Azure;</span><span class="sxs-lookup"><span data-stu-id="ea7be-163">Azure Function</span></span>
    - <span data-ttu-id="ea7be-164">Приложение логики Azure</span><span class="sxs-lookup"><span data-stu-id="ea7be-164">Azure Logic App</span></span>
    - <span data-ttu-id="ea7be-165">сторонней службы.</span><span class="sxs-lookup"><span data-stu-id="ea7be-165">a third-party service</span></span>

<span data-ttu-id="ea7be-166">Оповещения метрик пока еще не используют группы действий.</span><span class="sxs-lookup"><span data-stu-id="ea7be-166">Metric alerts do not yet use Action Groups.</span></span> <span data-ttu-id="ea7be-167">Для отдельного оповещения метрики можно настроить уведомления о следующих событиях:</span><span class="sxs-lookup"><span data-stu-id="ea7be-167">On an individual metric alert you can configure notifications to:</span></span>
* <span data-ttu-id="ea7be-168">отправка уведомлений по электронной почте администратору службы, соадминистраторам или на дополнительные электронные адреса, указанные вами;</span><span class="sxs-lookup"><span data-stu-id="ea7be-168">Send email notifications to the service administrator, to co-administrators, or to additional email addresses that you specify.</span></span>
* <span data-ttu-id="ea7be-169">вызов webhook, который позволяет запускать дополнительные автоматизированные действия.</span><span class="sxs-lookup"><span data-stu-id="ea7be-169">Call a webhook, which enables you to launch additional automation actions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ea7be-170">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="ea7be-170">Next steps</span></span>
<span data-ttu-id="ea7be-171">Изучите правила создания оповещений и ознакомьтесь с их настройкой с помощью следующих средств:</span><span class="sxs-lookup"><span data-stu-id="ea7be-171">Get information about alert rules and configuring them by using:</span></span>

* <span data-ttu-id="ea7be-172">Узнайте больше о [метриках](monitoring-overview-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-172">Learn more about [Metrics](monitoring-overview-metrics.md)</span></span>
* <span data-ttu-id="ea7be-173">Настройте [оповещения метрик на портале Azure](insights-alerts-portal.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-173">Configure [Metric Alerts via Azure portal](insights-alerts-portal.md)</span></span>
* <span data-ttu-id="ea7be-174">Настройте [оповещения метрик с помощью PowerShell](insights-alerts-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-174">Configure [Metric Alerts PowerShell](insights-alerts-powershell.md)</span></span>
* <span data-ttu-id="ea7be-175">Настройте [оповещения метрик с помощью интерфейса командной строки](insights-alerts-command-line-interface.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-175">Configure [Metric Alerts Command-line interface (CLI)](insights-alerts-command-line-interface.md)</span></span>
* <span data-ttu-id="ea7be-176">Настройте [оповещения метрик с помощью REST API Azure Monitor](https://msdn.microsoft.com/library/azure/dn931945.aspx).</span><span class="sxs-lookup"><span data-stu-id="ea7be-176">Configure [Metric Alerts Azure Monitor REST API](https://msdn.microsoft.com/library/azure/dn931945.aspx)</span></span>
* <span data-ttu-id="ea7be-177">Узнайте больше о [журнале действий](monitoring-overview-activity-logs.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-177">Learn more about [Activity Log](monitoring-overview-activity-logs.md)</span></span>
* <span data-ttu-id="ea7be-178">Настройте [оповещения журнала действий на портале Azure](monitoring-activity-log-alerts.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-178">Configure [Activity Log Alerts via Azure portal](monitoring-activity-log-alerts.md)</span></span>
* <span data-ttu-id="ea7be-179">Настройте [оповещения журнала действий с помощью Resource Manager](monitoring-create-activity-log-alerts-with-resource-manager-template.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-179">Configure [Activity Log Alerts via Resource Manager](monitoring-create-activity-log-alerts-with-resource-manager-template.md)</span></span>
* <span data-ttu-id="ea7be-180">Просмотрите [схему webhook оповещений журнала действий](monitoring-activity-log-alerts-webhook.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-180">Review the [activity log alert webhook schema](monitoring-activity-log-alerts-webhook.md)</span></span>
* <span data-ttu-id="ea7be-181">Узнайте больше об [уведомлениях службы](monitoring-service-notifications.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-181">Learn more about [Service Notifications](monitoring-service-notifications.md)</span></span>
* <span data-ttu-id="ea7be-182">Узнайте больше о [группах действий](monitoring-action-groups.md).</span><span class="sxs-lookup"><span data-stu-id="ea7be-182">Learn more about [Action Groups](monitoring-action-groups.md)</span></span>
