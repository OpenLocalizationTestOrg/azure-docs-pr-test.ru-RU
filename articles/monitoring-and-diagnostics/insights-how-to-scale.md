---
title: "число экземпляров aaaScale вручную или с помощью автоматического масштабирования на портале Azure | Документы Microsoft"
description: "Узнайте, как tooscale служб Azure."
author: anirudhcavale
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 2397596a-071f-4d49-8893-bec5f735bd7b
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/06/2017
ms.author: ancav
ms.openlocfilehash: 8cb78f18416bd3caecce52702a8d630aa434d776
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="scale-instance-count-manually-or-automatically"></a>Масштабирование числа экземпляров вручную или автоматически
В hello [портала Azure](https://portal.azure.com/), можно вручную задать hello число экземпляров службы или можно задать параметры toohave автоматически масштабировать по требованию. Это обычно ссылка tooas *горизонтальное масштабирование* или *масштабирования в*.

Перед масштабирование исходя из количества экземпляров, необходимо учесть, что влияют на масштабирование **Ценовая категория** числа tooinstance сложения. Другой ценовым категориям может иметь разное количество ядер и памяти, и поэтому они имеют более высокую производительность для hello одинаковое количество экземпляров (который является *вертикальное масштабирование* или *масштабировать*). В частности, в этой статье описывается *свертывание* и *развертывание*.

Можно масштабировать в портале hello, а также можно использовать hello [API-интерфейса REST](https://msdn.microsoft.com/library/azure/dn931953.aspx) или [.NET SDK](http://www.nuget.org/packages/Microsoft.Azure.Management.Monitor) tooadjust масштабировать вручную или автоматически.

> [!NOTE]
> В этой статье описывается как toocreate на портале hello в параметр автомасштабирования [http://portal.azure.com](http://portal.azure.com). Не может быть создан на этом портале параметров автоматического масштабирования его изменения классический портал hello ([http://manage.windowsazure.com](http://manage.windowsazure.com)).
> 
> 

## <a name="scaling-manually"></a>Масштабирование вручную
1. В hello [портала Azure](https://portal.azure.com/), нажмите кнопку **Обзор**, перейдите toohello ресурс, tooscale, такие как **план служб приложений**.
2. Щелкните **Параметры > Развертывание (план службы приложений).**
3. Вверху hello hello **шкалы** колонки, можно просмотреть журнал действий автомасштабирования hello службы.
   
    ![Выноска "Масштаб"](./media/insights-how-to-scale/Insights_ScaleBladeDayZero.png)
   
   > [!NOTE]
   > На этой диаграмме будут показаны только действия, выполняемые функцией автомасштабирования. Если вы вручную настроить число экземпляров hello, hello изменения не будут отражены на этой диаграмме.
   > 
   > 
4. Можно вручную настроить число hello **экземпляров** с помощью ползунка.
5. Нажмите кнопку hello **Сохранить** команда и вы будете немедленно масштабировать toothat число экземпляров.

## <a name="scaling-based-on-a-pre-set-metric"></a>Масштабирование на основе предварительно заданной метрики
Если номер hello экземпляров настроить tooautomatically с метрикой, выберите hello метрики в hello **масштабирования по** раскрывающегося списка. Например, **план службы приложений** можно масштабировать по **проценту использования ЦП**.

1. При выборе метрики вы получите ползунок или текстового поля tooenter hello число экземпляров требуется tooscale между:
   
    ![Выноска "Масштаб" с метрикой "Процент ЦП"](./media/insights-how-to-scale/Insights_ScaleBladeCPU.png)
   
    Автомасштабирование никогда не займет службы ниже или выше hello границы, которые можно задать, независимо от нагрузки.
2. Во-вторых можно выбрать hello целевой диапазон для hello метрики. Например, если вы выбрали **процент использования ЦП**, можно задать целевой объект для hello средняя загрузка ЦП для всех экземпляров hello в службе. Для горизонтального масштабирования будут выполнены при hello средняя загрузка ЦП превышает максимально hello, определяемые, точно так же, масштабирование в будет происходить каждый раз, когда средняя загрузка ЦП hello не станет меньше минимального hello.
3. Нажмите кнопку hello **Сохранить** команды. Автомасштабирование будет проверять каждые несколько минут toomake, вы должны быть в диапазоне экземпляр hello и цели для вашего метрики. Когда служба получает дополнительный трафик, вы получите дополнительные экземпляры, не выполняя никаких действий.

## <a name="scale-based-on-other-metrics"></a>Масштабирование на основе других метрик
Можно масштабировать на основе метрик, отличные от hello стили, которые отображаются в hello **масштабирования по** раскрывающийся список и даже имеет сложный набор масштабирования и масштабирования в правилах.

### <a name="adding-or-changing-a-rule"></a>Добавление или изменение правила
1. Выберите hello **правила расписания и производительности** в hello **масштабирования по** раскрывающегося списка: ![правила производительности](./media/insights-how-to-scale/Insights_PerformanceRules.png)
2. Если ранее автомасштабирования на вы увидите представление hello точное правил, которые были.
3. tooscale зависимости от другого hello метрики щелкните **добавить правило** строки. Можно также выбрать одну из toochange существующих строк hello метрики hello ранее toohello показателя tooscale по.
   ![Add rule](./media/insights-how-to-scale/Insights_AddRule.png)
4. Теперь вам требуется какой показатель требуется tooscale по tooselect. При выборе метрикой существует несколько вещей tooconsider:
   
   * Hello *ресурсов* метрика hello поступают из. Как правило это будет иметь hello аналогично hello ресурс, который будет произведено масштабирование. Тем не менее следует tooscale hello глубине очереди хранилища hello ресурс находится очередь hello tooscale по.
   * Hello *имя метрики* сам.
   * Hello *время статистической обработки* hello метрики. Это заключается в том, как hello данные объединение по hello *длительность*.
5. После выбора вашей метрика выберите hello пороговое значение для показателя hello и оператор hello. Например, можно выбрать **больше** **80 %**.
6. Выберите действие hello, которые должны tootake. Существует несколько различных типов действий.
   
   * Увеличить или уменьшить, — это будет добавлять или удалять hello **значение** количество экземпляров определяется
   * Увеличение или уменьшение percent - это приведет к изменению количества экземпляров hello процентов. Например, можно поместить 25 в hello **значение** поле, и если в настоящее время у вас есть 8 экземплярами, следует добавить 2.
   * Увеличение или уменьшение слишком — будет назначено hello экземпляр счетчика toohello **значение** определении.
7. Наконец вы можете стильной вниз - время ожидания этого правила после hello предыдущих шкалы действие tooscale еще раз.
8. После настройки правила нажмите **ОК**.
9. После настройки правила hello, необходимо будет убедиться, что hello toohit **Сохранить** команды.

### <a name="scaling-with-multiple-steps"></a>Масштабирование в несколько шагов
Примеры Hello выше все довольно просто. Тем не менее, если вы хотите toobe более агрессивно масштабирование (), можно даже добавить масштабирования нескольких правил для hello же метрики. Например, можно определить два правила масштабирования для процента загрузки ЦП:

1. добавить 1 экземпляр, если процент загрузки ЦП превышает 60 %;
2. добавить 3 экземпляра, если процент загрузки ЦП превышает 85 %.

![Несколько правил масштабирования](./media/insights-how-to-scale/Insights_MultipleScaleRules.png)

Благодаря этому дополнительному правилу, если нагрузка перед масштабированием превышает 85 %, вы получите два дополнительных экземпляра вместо одного.

## <a name="scale-based-on-a-schedule"></a>Масштабирование на основе расписания
По умолчанию при создании правила масштабирования оно применяется всегда. Можно видеть, что при нажатии кнопки заголовка hello профиля:

![Профиль](./media/insights-how-to-scale/Insights_Profile.png)

Тем не менее вы можете toohave более интенсивная масштабирования во время hello дня или недели hello, чем на выходные дни hello. Вы даже можете полностью отключить службу в нерабочее время.

1. toodo, в профиле hello, у вас есть выбор **повторения** вместо **всегда,** и выберите hello времени, которые должны tooapply профиль hello.
2. Например, профиль, который применяется во время недели hello в hello toohave **дней** раскрывающемся списке снимите **суббота** и **воскресенье**.
3. профиль, который применяется во время hello дневного, задайте hello toohave **время начала** toohello время дня toostart в.
   
    ![Повторение по умолчанию](./media/insights-how-to-scale/Insights_ProfileRecurrence.png)
4. Нажмите кнопку **ОК**.
5. Далее необходимо tooadd hello профиля требуется tooapply в другое время. Нажмите кнопку hello **добавления профиля** строки.
    ![Не на работе](./media/insights-how-to-scale/Insights_ProfileOffWork.png)
6. Укажите имя нового, второго, профиля, например **Вне работы**.
7. Выберите **повторения** еще раз и выберите диапазон количества hello экземпляр, необходимо в течение этого времени.
8. Как hello профиль по умолчанию, выберите hello **дней** требуется tooapply этот профиль с и hello **время начала** день hello.
   
   > [!NOTE]
   > Автомасштабирование будет использовать правила перехода на летнее hello для какое значение **часовой пояс** выбора. Однако во время летнее время и смещение hello UTC покажет hello базовый часовыми поясами, не смещение hello летнего экономии UTC.
   > 
   > 
9. Нажмите кнопку **ОК**.
10. Теперь необходимо будет tooadd любые правила, вы хотите tooapply во время второй профиля. Нажмите кнопку **добавить правило**, а затем можно было создавать hello таким же, как правило, во время профиль по умолчанию hello.
    
    ![Добавление правила toooff работы](./media/insights-how-to-scale/Insights_RuleOffWork.png)
11. Можно убедиться, что toocreate оба правила для горизонтального масштабирования и масштабирования в, иначе во время hello число экземпляров hello профиль будет только расти (или уменьшить).
12. Наконец, нажмите кнопку **Сохранить**.

## <a name="next-steps"></a>Дальнейшие действия
* [Отслеживать показатели службы](insights-how-to-customize-monitoring.md) toomake убедиться, что служба становится доступной и отвечать на запросы.
* [Включить наблюдение и диагностику](insights-how-to-use-diagnostics.md) toocollect подробные показатели высокой частотой в службе.
* [Получайте уведомления](insights-receive-alert-notifications.md) при возникновении операционных событий или превышении пороговых значений метрик.
* [Контролировать производительность приложений](../application-insights/app-insights-azure-web-apps.md) Если toounderstand точно как код работает в облаке hello.
* [Просмотр событий и журнал действий](insights-debugging-with-events.md) toolearn все, что произошло в службе.
* [Отслеживайте доступность и скорость реагирования любой веб-страницы](../application-insights/app-insights-monitor-web-app-availability.md) с помощью Application Insights, так вы сможете узнать, что страница не работает.

