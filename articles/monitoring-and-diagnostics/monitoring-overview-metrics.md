---
title: "aaaOverview метрик в Microsoft Azure | Документы Microsoft"
description: "Обзор метрик и их использования в Microsoft Azure"
author: johnkemnetz
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 405ec51c-0946-4ec9-b535-60f65c4a5bd1
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/02/2017
ms.author: johnkem
ms.openlocfilehash: 2b97f51e0554dae95a929241ae1f0e25e5c215ef
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="overview-of-metrics-in-microsoft-azure"></a>Обзор метрик в Microsoft Azure
В этой статье описывается в Microsoft Azure, их преимуществах, Каковы показатели и способ их использования toostart.  

## <a name="what-are-metrics"></a>Что такое метрики
Монитор Azure обеспечивает tooconsume телеметрии toogain видимость hello производительности и работоспособности рабочих нагрузок в Azure. наиболее важные тип Hello данные телеметрии Azure — метрики hello (также называемые счетчики производительности), генерируемой ресурсы наиболее Azure. Монитор Azure предоставляет несколько способов tooconfigure и использовать эти метрики для мониторинга и устранения неполадок.

## <a name="what-can-you-do-with-metrics"></a>Что можно делать с помощью метрик
Метрики — ценный источник телеметрии и позволяют hello toodo следующие задачи:

* **Отслеживать производительность hello** ресурса путем отображения его метрик на диаграмме портала и закрепление этой панели мониторинга tooa диаграммы (например, виртуальных Машин, веб-сайт или логики приложения).
* **Получение уведомлений о проблеме** , влияние hello производительности ресурса, когда показатель пересекает определенного порогового значения.
* **Настраивать автоматизированные действия**, например автомасштабирование ресурса или запуск модуля Runbook, когда значение метрики достигает определенного порогового значения.
* **Выполнять расширенную аналитику** или создавать подробные отчеты о производительности ресурсов или тенденциях их использования.
* **Архив** hello журнал производительности и работоспособности ресурса **для соответствия и аудита** целей.

## <a name="what-are-hello-characteristics-of-metrics"></a>Что такое характеристики hello метрик
Метрики имеют следующие характеристики hello.

* Все метрики обновляются **один раз в минуту**. Вы получаете значение метрики каждую минуту от ресурса, предоставляя почти в реальном времени отслеживать hello состояния и работоспособности ресурса выполнения.
* Метрики **доступны сразу же**. Не обязательно tooopt в или настроить новые средства диагностики.
* Для каждой метрики доступен **журнал за последние 30 дней**. Можно быстро просмотреть hello недавно и ежемесячные тенденции в hello производительности и работоспособности ресурса.

Также можно:

* Настройка метрики **предупреждение, правила, которое отправляет уведомление или принимает автоматическое действие** при метрика hello пересекает hello пороговое значение, указанное. Автомасштабирования имеет специальные автоматическое действие, которое включает tooscale ожидания входящих запросов toomeet ресурсов или загружает веб-сайта или вычислительных ресурсов. Можно настроить параметр tooscale правило in или out основании пересечения пороговое значение метрики автомасштабирования.

* **Маршрут** все метрики Application Insights или анализа журналов (OMS) tooenable мгновенную аналитику, поиск и настраиваемые оповещения о данных метрик из ресурсов. Можно также осуществлять потоковую передачу метрики tooan концентратора событий, позволяя toothen направления их tooAzure Stream Analytics или toocustom приложений для анализа практически в режиме реального времени. Потоковую передачу в концентратор событий можно настроить с помощью параметров диагностики.

* **Архивировать метрики toostorage** для более длительного хранения или использовать их для автономных отчетов. При настройке параметров диагностики для ресурса, можно направить вашей tooAzure метрик хранилища больших двоичных объектов.

* Легко найти, получить доступ к, и **просмотреть все показатели** через портал Azure, при выборе ресурса и отобразить hello метрик на диаграмме hello.

* **Использовать** метрики hello через hello новые интерфейсы API REST Azure монитора.

* **Запрос** метрик с помощью hello командлеты PowerShell или hello кросс-платформенных REST API.

  ![Перенаправление метрик в Azure Monitor](./media/monitoring-overview-metrics/Metrics_Overview_v4.png)

## <a name="access-metrics-via-hello-portal"></a>Метрики доступа через портал hello
Ниже приводится краткое описание как toocreate метрики диаграммы с помощью hello портал Azure.

### <a name="tooview-metrics-after-creating-a-resource"></a>метрики tooview после создания ресурса
1. Здравствуйте, откройте портал Azure.
2. Создайте веб-сайт службы приложений Azure.
3. После создания веб-сайт go toohello **Обзор** колонке hello веб-сайта.
4. Новые метрики можно просмотреть на плитке **Мониторинг**. Затем можно изменить плитки hello и выбрать дополнительные метрики.

   ![Метрики ресурсов в Azure Monitor](./media/monitoring-overview-metrics/MetricsOverview1.png)

### <a name="tooaccess-all-metrics-in-a-single-place"></a>tooaccess все показатели в одном месте
1. Здравствуйте, откройте портал Azure.
2. Перейдите новый toohello **монитор** табуляции, а затем и выберите hello **метрики** параметр под ним.
3. Выберите из раскрывающегося списка hello ваша подписка, группа ресурсов и hello имя ресурса hello.
4. Просмотр списка доступных метрик hello. Выберите метрику hello интересуют и отобразить его.
5. Закрепить панель мониторинга toohello, щелкнув hello ПИН-код в верхнем правом углу hello.

   ![Доступ ко всем метрикам в одной области в Azure Monitor](./media/monitoring-overview-metrics/MetricsOverview2.png)

> [!NOTE]
> Без дополнительных настроек диагностики доступны метрики уровня узла, передаваемые виртуальными машинами (на основе Azure Resource Manager) и масштабируемыми наборами виртуальных машин. Эти новые метрики доступны для экземпляров Windows и Linux. Эти показатели не путать с hello гостевой ОС уровне метрики, которые имеют доступ toowhen при включении диагностики Azure на виртуальные машины или наборы масштабирования виртуальной машины toobe. в разделе toolearn подробные сведения о настройке диагностики, [возможности системы диагностики Microsoft Azure](../azure-diagnostics.md).
>
>

## <a name="access-metrics-via-hello-rest-api"></a>Метрики доступ через API-Интерфейс REST hello
Метрики Azure может запускаться через API-интерфейсов Azure монитор hello. Есть два API-интерфейса для поиска метрик и доступа к ним:

* Используйте hello [определения мониторинг метрики Azure REST API](https://msdn.microsoft.com/library/mt743621.aspx) tooaccess hello список метрик, которые доступны для службы.
* Используйте hello [API REST метрик монитор Azure](https://msdn.microsoft.com/library/mt743622.aspx) tooaccess hello метрики фактических данных.

> [!NOTE]
> В этой статье рассматриваются метрики hello через hello [новый интерфейс API для метрик](https://msdn.microsoft.com/library/dn931930.aspx) для ресурсов Azure. версия API Hello для hello новых определений метрик API 2016-03-01 и версия hello для метрик API — 2016-09-01. Hello устаревших определений метрик и метрик можно осуществить с помощью hello API версии 2014-04-01.
>
>

Более подробное Пошаговое руководство, с помощью API-интерфейсов REST Azure монитор hello см. в разделе [пошагового руководства по API REST Azure монитор](monitoring-rest-api-walkthrough.md).

## <a name="export-metrics"></a>Экспорт метрик
Можно перейти toohello **параметры диагностики** колонке под hello **монитор** вкладки и представления hello параметры экспорта для показателей. Можно выбрать метрики (и журналы диагностики) toobe направлено tooBlob хранилища, концентраторы событий tooAzure или tooOMS для вариантов использования, упомянутых ранее в этой статье.

 ![Параметры экспорта метрик в Azure Monitor](./media/monitoring-overview-metrics/MetricsOverview3.png)

Экспорт метрик можно настроить с помощью шаблонов Resource Manager, [PowerShell](insights-powershell-samples.md), [интерфейса командной строки Azure](insights-cli-samples.md) или [интерфейсов REST API](https://msdn.microsoft.com/library/dn931943.aspx).

## <a name="take-action-on-metrics"></a>Действия с метриками
tooreceive уведомления или take автоматических действий на данные метрик, можно настроить правила оповещений или параметров автоматического масштабирования.

### <a name="configure-alert-rules"></a>Настройка правил генерации оповещений
На основе метрик можно настроить правила генерации оповещений. Эти правила проверяют, достигла ли та или иная метрика определенного порогового значения. Они могут уведомление по электронной почте или запускать веб-перехватчика, который можно использовать toorun любых скриптов. Также можно использовать интеграции продуктов независимых производителей tooconfigure веб-перехватчика hello.

 ![Метрики и правила генерации оповещений в Azure Monitor](./media/monitoring-overview-metrics/MetricsOverview4.png)

### <a name="autoscale-your-azure-resources"></a>Автомасштабирование ресурсов Azure
Некоторые ресурсы Azure поддерживает hello масштабирование или несколько экземпляров toohandle рабочих нагрузок. Автомасштабирование применяется tooApp службы (веб-приложения), наборы масштабирования виртуальных машин и классический облачных служб Azure. Tooscale правила автомасштабирования или можно настроить, если пороговое значение, указываемое пересекает метрикой, оказывает влияние на рабочую нагрузку. Дополнительные сведения см. в статье [Обзор автомасштабирования в виртуальных машинах, облачных службах и веб-приложениях Microsoft Azure](monitoring-overview-autoscale.md).

 ![Метрики и автомасштабирование в Azure Monitor](./media/monitoring-overview-metrics/MetricsOverview5.png)

## <a name="learn-about-supported-services-and-metrics"></a>Поддерживаемые службы и метрики
Azure Monitor является новой инфраструктурой метрик. Он поддерживает hello следующих служб Azure в hello Azure портал и hello новую версию hello Azure API-Интерфейс монитора:

* виртуальные машины (на основе Azure Resource Manager);
* масштабируемые наборы виртуальных машин;
* пакетная служба;
* пространство имен концентраторов событий;
* пространство имен служебной шины (только в SKU "Премиум");
* база данных SQL (версия 12);
* пул эластичных баз данных SQL;
* веб-сайты;
* фермы веб-серверов;
* приложения логики;
* центры Интернета вещей;
* кэш Redis;
* сетевые шлюзы приложений;
* Поиск

Можно просмотреть подробный список всех hello поддерживается служб и их метрики на [метрик мониторинга Azure--поддерживаемых показателей каждого типа ресурсов](monitoring-supported-metrics.md).

## <a name="next-steps"></a>Дальнейшие действия
См. ссылки toohello в этой статье. Кроме того, ознакомьтесь со следующими материалами:  

* [Общие метрики автомасштабирования Azure Monitor](insights-autoscale-common-metrics.md)
* [Как toocreate правила генерации оповещений](insights-alerts-portal.md)
* [Сбор журналов и метрик для служб Azure для использования в Log Analytics](../log-analytics/log-analytics-azure-storage.md)
