---
title: "aaaAzure диагностики версий схемы конфигурации расширения и журнал | Документы Microsoft"
description: "Соответствующие toocollecting счетчиков производительности в виртуальных машинах Azure, набора масштабирования виртуальных Машин, Service Fabric и облачных служб."
services: monitoring-and-diagnostics
documentationcenter: .net
author: rboucher
manager: carmonm
editor: 
ms.assetid: 
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/16/2017
ms.author: robb
ms.openlocfilehash: 854ad118f660810aa38703670284794d658142c7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-diagnostics-extention-configuration-schema-versions-and-history"></a><span data-ttu-id="01a26-103">Журнал и версии схемы конфигурации расширения системы диагностики Azure</span><span class="sxs-lookup"><span data-stu-id="01a26-103">Azure Diagnostics extention configuration schema versions and history</span></span>
<span data-ttu-id="01a26-104">Это страница индексы версий схемы расширения системы диагностики Azure поставляется как часть hello Microsoft Azure SDK.</span><span class="sxs-lookup"><span data-stu-id="01a26-104">This page indexes Azure Diagnostics extension schema versions shipped as part of hello Microsoft Azure SDK.</span></span>  

> [!NOTE]
> <span data-ttu-id="01a26-105">Hello расширения системы диагностики Azure — компонент hello используется toocollect счетчики производительности и другие статистические данные из:</span><span class="sxs-lookup"><span data-stu-id="01a26-105">hello Azure Diagnostics extension is hello component used toocollect performance counters and other statistics from:</span></span>
> - <span data-ttu-id="01a26-106">Виртуальные машины Azure</span><span class="sxs-lookup"><span data-stu-id="01a26-106">Azure Virtual Machines</span></span> 
> - <span data-ttu-id="01a26-107">Наборы для масштабирования виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="01a26-107">Virtual Machine Scale Sets</span></span>
> - <span data-ttu-id="01a26-108">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="01a26-108">Service Fabric</span></span> 
> - <span data-ttu-id="01a26-109">Облачные службы</span><span class="sxs-lookup"><span data-stu-id="01a26-109">Cloud Services</span></span> 
> - <span data-ttu-id="01a26-110">группы сетевой безопасности;</span><span class="sxs-lookup"><span data-stu-id="01a26-110">Network Security Groups</span></span>
> 
> <span data-ttu-id="01a26-111">Данная страница применяется только в том случае, если вы используете одну из этих служб.</span><span class="sxs-lookup"><span data-stu-id="01a26-111">This page is only relevant if you are using one of these services.</span></span>

<span data-ttu-id="01a26-112">Hello расширения системы диагностики Azure используется с другими продуктами Майкрософт диагностики, как монитор Azure, Application Insights и анализа журналов.</span><span class="sxs-lookup"><span data-stu-id="01a26-112">hello Azure Diagnostics extension is used with other Microsoft diagnostics products like Azure Monitor, Application Insights, and Log Analytics.</span></span> <span data-ttu-id="01a26-113">Дополнительные сведения см. в статье [Обзор мониторинга в Microsoft Azure](monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="01a26-113">For more information see [Microsoft Monitoring Tools Overview](monitoring-overview.md).</span></span>

## <a name="azure-sdk-and-diagnostics-versions-shipping-chart"></a><span data-ttu-id="01a26-114">Диаграмма версий пакета SDK для Azure и системы диагностики</span><span class="sxs-lookup"><span data-stu-id="01a26-114">Azure SDK and diagnostics versions shipping chart</span></span>  

|<span data-ttu-id="01a26-115">Версия пакета SDK для Azure</span><span class="sxs-lookup"><span data-stu-id="01a26-115">Azure SDK version</span></span> | <span data-ttu-id="01a26-116">Версия расширения системы диагностики</span><span class="sxs-lookup"><span data-stu-id="01a26-116">Diagnostics extension version</span></span> | <span data-ttu-id="01a26-117">Модель</span><span class="sxs-lookup"><span data-stu-id="01a26-117">Model</span></span>|  
|------------------|-------------------------------|------|  
|<span data-ttu-id="01a26-118">1.x</span><span class="sxs-lookup"><span data-stu-id="01a26-118">1.x</span></span>               |<span data-ttu-id="01a26-119">1.0</span><span class="sxs-lookup"><span data-stu-id="01a26-119">1.0</span></span>                            |<span data-ttu-id="01a26-120">Подключаемый модуль</span><span class="sxs-lookup"><span data-stu-id="01a26-120">plug-in</span></span>|  
|<span data-ttu-id="01a26-121">2.0–2.4</span><span class="sxs-lookup"><span data-stu-id="01a26-121">2.0 - 2.4</span></span>         |<span data-ttu-id="01a26-122">1.0</span><span class="sxs-lookup"><span data-stu-id="01a26-122">1.0</span></span>                            |<span data-ttu-id="01a26-123">Подключаемый модуль</span><span class="sxs-lookup"><span data-stu-id="01a26-123">plug-in</span></span>|  
|<span data-ttu-id="01a26-124">2.5</span><span class="sxs-lookup"><span data-stu-id="01a26-124">2.5</span></span>               |<span data-ttu-id="01a26-125">1.2</span><span class="sxs-lookup"><span data-stu-id="01a26-125">1.2</span></span>                            |<span data-ttu-id="01a26-126">Расширение</span><span class="sxs-lookup"><span data-stu-id="01a26-126">extension</span></span>|  
|<span data-ttu-id="01a26-127">2.6</span><span class="sxs-lookup"><span data-stu-id="01a26-127">2.6</span></span>               |<span data-ttu-id="01a26-128">1,3</span><span class="sxs-lookup"><span data-stu-id="01a26-128">1.3</span></span>                            |<span data-ttu-id="01a26-129">"</span><span class="sxs-lookup"><span data-stu-id="01a26-129">"</span></span>|  
|<span data-ttu-id="01a26-130">2.7</span><span class="sxs-lookup"><span data-stu-id="01a26-130">2.7</span></span>               |<span data-ttu-id="01a26-131">1.4</span><span class="sxs-lookup"><span data-stu-id="01a26-131">1.4</span></span>                            |<span data-ttu-id="01a26-132">"</span><span class="sxs-lookup"><span data-stu-id="01a26-132">"</span></span>|  
|<span data-ttu-id="01a26-133">2.8</span><span class="sxs-lookup"><span data-stu-id="01a26-133">2.8</span></span>               |<span data-ttu-id="01a26-134">1.5</span><span class="sxs-lookup"><span data-stu-id="01a26-134">1.5</span></span>                            |<span data-ttu-id="01a26-135">"</span><span class="sxs-lookup"><span data-stu-id="01a26-135">"</span></span>|  
|<span data-ttu-id="01a26-136">2,9</span><span class="sxs-lookup"><span data-stu-id="01a26-136">2.9</span></span>               |<span data-ttu-id="01a26-137">1.6</span><span class="sxs-lookup"><span data-stu-id="01a26-137">1.6</span></span>                            |<span data-ttu-id="01a26-138">"</span><span class="sxs-lookup"><span data-stu-id="01a26-138">"</span></span>|
|<span data-ttu-id="01a26-139">2.96</span><span class="sxs-lookup"><span data-stu-id="01a26-139">2.96</span></span>              |<span data-ttu-id="01a26-140">1.7</span><span class="sxs-lookup"><span data-stu-id="01a26-140">1.7</span></span>                            |<span data-ttu-id="01a26-141">"</span><span class="sxs-lookup"><span data-stu-id="01a26-141">"</span></span>|
|<span data-ttu-id="01a26-142">2.96</span><span class="sxs-lookup"><span data-stu-id="01a26-142">2.96</span></span>              |<span data-ttu-id="01a26-143">1.8</span><span class="sxs-lookup"><span data-stu-id="01a26-143">1.8</span></span>                            |<span data-ttu-id="01a26-144">"</span><span class="sxs-lookup"><span data-stu-id="01a26-144">"</span></span>|
|<span data-ttu-id="01a26-145">2.96</span><span class="sxs-lookup"><span data-stu-id="01a26-145">2.96</span></span>              |<span data-ttu-id="01a26-146">1.8.1</span><span class="sxs-lookup"><span data-stu-id="01a26-146">1.8.1</span></span>                          |<span data-ttu-id="01a26-147">"</span><span class="sxs-lookup"><span data-stu-id="01a26-147">"</span></span>|
|<span data-ttu-id="01a26-148">2.96</span><span class="sxs-lookup"><span data-stu-id="01a26-148">2.96</span></span>              |<span data-ttu-id="01a26-149">1.9</span><span class="sxs-lookup"><span data-stu-id="01a26-149">1.9</span></span>                            |<span data-ttu-id="01a26-150">"</span><span class="sxs-lookup"><span data-stu-id="01a26-150">"</span></span>|



 <span data-ttu-id="01a26-151">Система диагностики Azure версии 1.0 сначала поставляется в модель подключаемого модуля — это означает, что при установке hello Azure SDK вы получили версии hello диагностики Azure, поставляемых вместе с ним.</span><span class="sxs-lookup"><span data-stu-id="01a26-151">Azure Diagnostics version 1.0 first shipped in a plug-in model -- meaning that when you installed hello Azure SDK, you got hello version of Azure diagnostics shipped with it.</span></span>  

 <span data-ttu-id="01a26-152">Начиная с пакета SDK 2.5 (diagnostics версии 1.2), система диагностики Azure был tooan расширения модели.</span><span class="sxs-lookup"><span data-stu-id="01a26-152">Starting with SDK 2.5 (diagnostics version 1.2), Azure diagnostics went tooan extension model.</span></span> <span data-ttu-id="01a26-153">новые функции Hello средства tooutilize ранее были доступны только в более новые пакеты SDK Azure, но любой службы, с помощью диагностики Azure может взять последнюю версию доставки hello непосредственно из Azure.</span><span class="sxs-lookup"><span data-stu-id="01a26-153">hello tools tooutilize new features were only available in newer Azure SDKs, but any service using Azure diagnostics would pick up hello latest shipping version directly from Azure.</span></span> <span data-ttu-id="01a26-154">Например любой пользователь по-прежнему используется SDK 2.5 бы производится загрузка последней версии hello показано в предыдущей таблице hello, независимо от того, если они используют более новые функции hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-154">For example, anyone still using SDK 2.5 would be loading hello latest version shown in hello previous table, regardless if they are using hello newer features.</span></span>  

## <a name="schemas-index"></a><span data-ttu-id="01a26-155">Указатель схем</span><span class="sxs-lookup"><span data-stu-id="01a26-155">Schemas index</span></span>  
<span data-ttu-id="01a26-156">Для разных версий системы диагностики Azure используются разные схемы конфигурации.</span><span class="sxs-lookup"><span data-stu-id="01a26-156">Different versions of Azure diagnostics use different configuration schemas.</span></span> 

[<span data-ttu-id="01a26-157">Схема конфигурации системы диагностики Azure 1.0</span><span class="sxs-lookup"><span data-stu-id="01a26-157">Diagnostics 1.0 Configuration Schema</span></span>](azure-diagnostics-schema-1dot0.md)  

[<span data-ttu-id="01a26-158">Схема конфигурации системы диагностики Azure 1.2</span><span class="sxs-lookup"><span data-stu-id="01a26-158">Diagnostics 1.2 Configuration Schema</span></span>](azure-diagnostics-schema-1dot2.md)  

[<span data-ttu-id="01a26-159">Схема конфигурации системы диагностики версии 1.3 и более поздние версии</span><span class="sxs-lookup"><span data-stu-id="01a26-159">Diagnostics 1.3 and later Configuration Schema</span></span>](azure-diagnostics-schema-1dot3-and-later.md)  

## <a name="version-history"></a><span data-ttu-id="01a26-160">Журнал версий</span><span class="sxs-lookup"><span data-stu-id="01a26-160">Version history</span></span>


### <a name="diagnostics-extension-19"></a><span data-ttu-id="01a26-161">Расширение системы диагностики версии 1.9</span><span class="sxs-lookup"><span data-stu-id="01a26-161">Diagnostics extension 1.9</span></span> 
<span data-ttu-id="01a26-162">Добавлена поддержка Docker.</span><span class="sxs-lookup"><span data-stu-id="01a26-162">Added Docker support.</span></span>


### <a name="diagnostics-extension-181"></a><span data-ttu-id="01a26-163">Расширение системы диагностики версии 1.8.1</span><span class="sxs-lookup"><span data-stu-id="01a26-163">Diagnostics extension 1.8.1</span></span> 
<span data-ttu-id="01a26-164">Можно указать маркер SAS, а не ключа учетной записи хранения в частной конфигурации hello. Если предоставляется токен SAS, ключ учетной записи хранения hello учитывается.</span><span class="sxs-lookup"><span data-stu-id="01a26-164">Can specify a SAS token instead of a storage account key in hello private config. If a SAS token is provided, hello storage account key is ignored.</span></span>


```json
{
    "storageAccountName": "diagstorageaccount",
    "storageAccountEndPoint": "https://core.windows.net",
    "storageAccountSasToken": "{sas token}",
    "SecondaryStorageAccounts": {
        "StorageAccount": [
            {
                "name": "secondarydiagstorageaccount",
                "endpoint": "https://core.windows.net",
                "sasToken": "{sas token}"
            }
        ]
    }
}
```

```xml
<PrivateConfig>
    <StorageAccount name="diagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    <SecondaryStorageAccounts>
        <StorageAccount name="secondarydiagstorageaccount" endpoint="https://core.windows.net" sasToken="{sas token}" />
    </SecondaryStorageAccounts>
</PrivateConfig>
```


### <a name="diagnostics-extension-18"></a><span data-ttu-id="01a26-165">Расширение системы диагностики версии 1.8</span><span class="sxs-lookup"><span data-stu-id="01a26-165">Diagnostics extension 1.8</span></span> 
<span data-ttu-id="01a26-166">Добавлены tooPublicConfig тип хранилища.</span><span class="sxs-lookup"><span data-stu-id="01a26-166">Added Storage Type tooPublicConfig.</span></span> <span data-ttu-id="01a26-167">StorageType может иметь значение*Table*, *Blob* и *TableAndBlob*.</span><span class="sxs-lookup"><span data-stu-id="01a26-167">StorageType can be *Table*, *Blob*, *TableAndBlob*.</span></span> <span data-ttu-id="01a26-168">*Таблица* по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-168">*Table* is hello default.</span></span>


```json
{
    "WadCfg": {
    },
    "StorageAccount": "diagstorageaccount",
    "StorageType": "TableAndBlob"
}
```

```xml
<PublicConfig>
    <WadCfg />
    <StorageAccount>diagstorageaccount</StorageAccount>
    <StorageType>TableAndBlob</StorageType>
</PublicConfig>
```


### <a name="diagnostics-extension-17"></a><span data-ttu-id="01a26-169">Расширение системы диагностики версии 1.7</span><span class="sxs-lookup"><span data-stu-id="01a26-169">Diagnostics extension 1.7</span></span> 
<span data-ttu-id="01a26-170">TooEventHub tooroute возможности добавлены hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-170">Added hello ability tooroute tooEventHub.</span></span>

### <a name="diagnostics-extension-15"></a><span data-ttu-id="01a26-171">Расширение системы диагностики версии 1.5</span><span class="sxs-lookup"><span data-stu-id="01a26-171">Diagnostics extension 1.5</span></span>
<span data-ttu-id="01a26-172">Добавлены hello приемники элемент и hello возможность toosend диагностические данные слишком[Application Insights](../application-insights/app-insights-cloudservices.md) выполняя проще проблемы toodiagnose через приложения, а также hello уровне системы и инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="01a26-172">Added hello sinks element and hello ability toosend diagnostics data too[Application Insights](../application-insights/app-insights-cloudservices.md) making it easier toodiagnose issues across your application as well as hello system and infrastructure level.</span></span>

### <a name="azure-sdk-26-and-diagnostics-extension-13"></a><span data-ttu-id="01a26-173">Пакет SDK для Azure 2.6 и расширение системы диагностики версии 1.3</span><span class="sxs-lookup"><span data-stu-id="01a26-173">Azure SDK 2.6 and diagnostics extension 1.3</span></span> 
<span data-ttu-id="01a26-174">Для проектов облачных служб в Visual Studio были внесены следующие изменения hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-174">For Cloud Service projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="01a26-175">(Эти изменения также применяются toolater версии пакета Azure SDK).</span><span class="sxs-lookup"><span data-stu-id="01a26-175">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="01a26-176">Hello локальный эмулятор теперь поддерживает систему диагностики.</span><span class="sxs-lookup"><span data-stu-id="01a26-176">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="01a26-177">Это означает, что можно собирать данные диагностики и убедитесь, что приложение создает hello правильные трассировки во время разработки и тестирования в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="01a26-177">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="01a26-178">Здравствуйте, строка подключения `UseDevelopmentStorage=true` включает сбор данных диагностики при запуске проекта облачной службы в Visual Studio с помощью эмулятора хранилища Azure hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-178">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="01a26-179">Все диагностические данные собираются в учетной записи хранения hello (хранилище разработки).</span><span class="sxs-lookup"><span data-stu-id="01a26-179">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="01a26-180">Строка подключения учетной записи хранения диагностики Hello (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) еще раз сохраняется в файле конфигурации (cscfg) службы hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-180">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="01a26-181">Пакет SDK Azure 2.5 учетная запись хранения диагностики hello был указан в файле diagnostics.wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-181">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="01a26-182">Существуют некоторые важные различия между как строка подключения hello работает в Azure SDK 2.4 и более ранних версий и как он работает в Azure SDK 2.6 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="01a26-182">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="01a26-183">В пакете Azure SDK 2.4 и более ранних версиях строка подключения hello используемый как среда выполнения hello tooget подключаемого модуля диагностики hello данных учетной записи хранения для передачи журналов диагностики.</span><span class="sxs-lookup"><span data-stu-id="01a26-183">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="01a26-184">В пакете Azure SDK 2.6 и более поздних версиях строка подключения диагностики hello используется модулем Visual Studio tooconfigure hello диагностики hello сведения о соответствующих дисковых учетной записи во время публикации.</span><span class="sxs-lookup"><span data-stu-id="01a26-184">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="01a26-185">Строка подключения Hello позволяет определить разных учетных записей хранения для различных конфигураций службы, Visual Studio будет использоваться при публикации.</span><span class="sxs-lookup"><span data-stu-id="01a26-185">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="01a26-186">Тем не менее поскольку hello подключаемый модуль диагностики больше не доступен (после Azure SDK 2.5), cscfg-файле hello сам по себе не удается включить hello расширения диагностики.</span><span class="sxs-lookup"><span data-stu-id="01a26-186">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="01a26-187">У вас tooenable hello расширение отдельно с помощью средств, таких как Visual Studio или PowerShell.</span><span class="sxs-lookup"><span data-stu-id="01a26-187">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="01a26-188">toosimplify hello процесс настройки расширения системы диагностики hello с помощью PowerShell, hello выходные данные пакета Visual Studio также содержит hello открытый XML-ФАЙЛ конфигурации для модуля диагностики hello для каждой роли.</span><span class="sxs-lookup"><span data-stu-id="01a26-188">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="01a26-189">Visual Studio использует hello диагностики данные строки подключения toopopulate hello хранилища учетной записи в открытой конфигурации hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-189">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="01a26-190">файлы общедоступной конфигурации Hello создаются в папке расширений hello и следовать шаблону hello PaaSDiagnostics. <RoleName>. PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="01a26-190">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.<RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="01a26-191">Любые развертывания на основе PowerShell можно использовать этот шаблон toomap tooa каждой конфигурации роли.</span><span class="sxs-lookup"><span data-stu-id="01a26-191">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="01a26-192">Hello строку подключения в cscfg-файле hello также используется hello Azure портала tooaccess hello диагностических данных, он может присутствовать в hello **мониторинг** строка подключения вкладку hello: необходимые tooconfigure hello службы tooshow подробных сведений Наблюдение за данными hello портала.</span><span class="sxs-lookup"><span data-stu-id="01a26-192">hello connection string in hello .cscfg file is also used by hello Azure portal tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

#### <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="01a26-193">Перенос проектов tooAzure SDK версии 2.6 и более поздних версий</span><span class="sxs-lookup"><span data-stu-id="01a26-193">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="01a26-194">При миграции из пакета Azure SDK 2.5 tooAzure SDK 2.6 или более поздней версии, если у вас есть учетная запись хранения диагностики, указанной в wadcfgx-файле hello, затем она останется там.</span><span class="sxs-lookup"><span data-stu-id="01a26-194">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="01a26-195">преимущества tootake hello гибкость использования различных хранилища учетных записей для различных конфигураций хранилища, необходимо добавить проект tooyour строка подключения hello toomanually.</span><span class="sxs-lookup"><span data-stu-id="01a26-195">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="01a26-196">При миграции проекта из пакета Azure SDK 2.4 или более ранних tooAzure SDK 2.6, затем hello диагностики сохраняются строки подключения.</span><span class="sxs-lookup"><span data-stu-id="01a26-196">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="01a26-197">Тем не менее Обратите внимание, как строки подключения обрабатываются в пакете Azure SDK 2.6, указанное в предыдущем разделе hello изменения hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-197">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

#### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="01a26-198">Определение учетной записи хранения диагностики hello в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="01a26-198">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="01a26-199">Если строка подключения диагностики указана в cscfg-файле hello, Visual Studio использует его расширение диагностики hello tooconfigure при публикации, а также при создании XML-файлов общедоступной конфигурации hello во время упаковки.</span><span class="sxs-lookup"><span data-stu-id="01a26-199">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="01a26-200">Если строка подключения диагностики указана в cscfg-файле hello, затем Visual Studio возвращается toousing hello указанную учетную запись хранения в hello .wadcfgx tooconfigure hello диагностики расширение файла при публикации и создания открытого hello XML-файлов конфигурации при упаковке.</span><span class="sxs-lookup"><span data-stu-id="01a26-200">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="01a26-201">Строка подключения диагностики Hello в cscfg-файле hello имеет приоритет над hello учетной записи хранения в wadcfgx-файле hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-201">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="01a26-202">Если строка подключения диагностики указано в cscfg-файле hello, затем Visual Studio использует эти данные и игнорирует hello учетной записи хранения в wadcfgx-файле.</span><span class="sxs-lookup"><span data-stu-id="01a26-202">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

#### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="01a26-203">Что does Здравствуйте, «Обновить строки подключения хранилища разработки...»</span><span class="sxs-lookup"><span data-stu-id="01a26-203">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="01a26-204">"Обновлять строки подключения хранилища разработки..."?</span><span class="sxs-lookup"><span data-stu-id="01a26-204">checkbox do?</span></span>
<span data-ttu-id="01a26-205">Здравствуйте, флажок для **обновить строки подключения хранилища разработки для диагностики и кэширования учетные данные учетной записи хранения Microsoft Azure при публикации tooMicrosoft Azure** предоставляет удобный способ tooupdate любое Учетная запись строки подключения хранилища разработки с помощью учетной записи хранилища Azure hello, указанной во время публикации.</span><span class="sxs-lookup"><span data-stu-id="01a26-205">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="01a26-206">Например, предположим, этот флажок установлен, и строка подключения диагностики hello указывает `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="01a26-206">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="01a26-207">При публикации проекта tooAzure hello, Visual Studio автоматически обновит строки подключения диагностики hello hello учетную запись хранилища, заданных в мастере публикации hello.</span><span class="sxs-lookup"><span data-stu-id="01a26-207">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="01a26-208">Тем не менее если как строка подключения диагностики hello была указана реальная учетная запись хранения, то этой учетной записи будет использоваться вместо этого.</span><span class="sxs-lookup"><span data-stu-id="01a26-208">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

### <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="01a26-209">Функциональные различия диагностики в Azure SDK между более ранними (до 2.4 включительно) и более поздними (с 2.5 включительно) версиями</span><span class="sxs-lookup"><span data-stu-id="01a26-209">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="01a26-210">Если вы осуществили обновление проекта Azure SDK 2.4 tooAzure SDK 2.5 или более поздней версии, следует иметь в виду hello после диагностики функциональные различия.</span><span class="sxs-lookup"><span data-stu-id="01a26-210">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="01a26-211">**API конфигурации больше не используются.** Программная конфигурация диагностики доступна в пакете SDK для Azure 2.4 и более ранних версий, но в дальнейших выпусках, начиная с версии SDK для Azure 2.5, она не используется.</span><span class="sxs-lookup"><span data-stu-id="01a26-211">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="01a26-212">Если конфигурация системы диагностики определена в коде, вам потребуется tooreconfigure эти параметры с нуля в hello перенесенном проекте для работы tookeep диагностики.</span><span class="sxs-lookup"><span data-stu-id="01a26-212">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="01a26-213">файл конфигурации диагностики Hello для Azure SDK 2.4 — diagnostics.wadcfg, а diagnostics.wadcfgx Azure SDK 2.5 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="01a26-213">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="01a26-214">**Диагностика для приложений облачных служб можно задавать только на уровне роли hello, а не на уровне экземпляра hello.**</span><span class="sxs-lookup"><span data-stu-id="01a26-214">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="01a26-215">**Каждый раз при развертывании приложения hello конфигурация системы диагностики обновляется** — это может вызвать проблемы с контролем четности, если изменить конфигурацию диагностики из обозревателя серверов и затем повторно развернуть приложение.</span><span class="sxs-lookup"><span data-stu-id="01a26-215">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="01a26-216">**В пакете Azure SDK 2.5 и более поздних версиях аварийные дампы настраиваются в файле конфигурации диагностики hello не в коде** — Если аварийные дампы настроены в коде, потребуется toomanually передачи hello конфигурации из файла конфигурации toohello кода Поскольку hello аварийные дампы не перемещаются во время миграции hello tooAzure SDK 2.6.</span><span class="sxs-lookup"><span data-stu-id="01a26-216">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

