---
title: "Обзор метрик в Microsoft Azure | Документация Майкрософт"
description: "Узнайте, как настроить диаграммы мониторинга в Azure."
author: rboucher
manager: carmonm
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: c36031eb-4df5-4cd5-9479-311d493a40d2
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/06/2017
ms.author: robb
ms.openlocfilehash: 3f9ebb0f5737714dd685f0dcc1ff4b1c0c89528f
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="overview-of-metrics-in-microsoft-azure"></a><span data-ttu-id="7c724-103">Обзор метрик в Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="7c724-103">Overview of Metrics in Microsoft Azure</span></span>
<span data-ttu-id="7c724-104">Все службы Azure отслеживают ключевые метрики, которые позволяют контролировать работоспособность, производительность, доступность и использование служб.</span><span class="sxs-lookup"><span data-stu-id="7c724-104">All Azure services track key metrics that allow you to monitor the health, performance, availability and usage of your services.</span></span> <span data-ttu-id="7c724-105">Эти метрики можно просмотреть на портале Azure. Кроме того, можно использовать [REST API](https://msdn.microsoft.com/library/azure/dn931930.aspx) или [пакет SDK для .NET](http://www.nuget.org/packages/Microsoft.Azure.Management.Monitor) для программного доступа ко всем метрикам.</span><span class="sxs-lookup"><span data-stu-id="7c724-105">You can view these metrics in the Azure portal, and you can also use the [REST API](https://msdn.microsoft.com/library/azure/dn931930.aspx) or [.NET SDK](http://www.nuget.org/packages/Microsoft.Azure.Management.Monitor) to access the full set of metrics programmatically.</span></span>

<span data-ttu-id="7c724-106">Для некоторых служб может потребоваться включить диагностику, чтобы увидеть все метрики.</span><span class="sxs-lookup"><span data-stu-id="7c724-106">For some services, you may need to turn on diagnostics in order to see any metrics.</span></span> <span data-ttu-id="7c724-107">Для других служб, таких как виртуальные машины, вы получите базовый набор метрик, но необходимо включить полный набор метрик с высокой частотой.</span><span class="sxs-lookup"><span data-stu-id="7c724-107">For others, such as virtual machines, you will get a basic set of metrics, but need to enable the full set high-frequency metrics.</span></span> <span data-ttu-id="7c724-108">Подробнее: [Включение мониторинга и диагностики](insights-how-to-use-diagnostics.md) .</span><span class="sxs-lookup"><span data-stu-id="7c724-108">See [Enable monitoring and diagnostics](insights-how-to-use-diagnostics.md) to learn more.</span></span>

## <a name="using-monitoring-charts"></a><span data-ttu-id="7c724-109">Использование диаграмм мониторинга</span><span class="sxs-lookup"><span data-stu-id="7c724-109">Using monitoring charts</span></span>
<span data-ttu-id="7c724-110">Вы можете создать диаграмму для любой метрики за любой период.</span><span class="sxs-lookup"><span data-stu-id="7c724-110">You can chart any of the metrics them over any time period you choose.</span></span>

1. <span data-ttu-id="7c724-111">На [портале Azure](https://portal.azure.com/)нажмите кнопку **Обзор**, а затем выберите ресурс для отслеживания.</span><span class="sxs-lookup"><span data-stu-id="7c724-111">In the [Azure Portal](https://portal.azure.com/), click **Browse**, and then a resource you're interested in monitoring.</span></span>
2. <span data-ttu-id="7c724-112">Раздел **Мониторинг** содержит наиболее важные метрики для каждого ресурса Azure.</span><span class="sxs-lookup"><span data-stu-id="7c724-112">The **Monitoring** section contains the most important metrics for each Azure resource.</span></span> <span data-ttu-id="7c724-113">Например, у веб-приложения есть **запросы и ошибки**, а у виртуальной машины — **процент использования ЦП** и **операции чтения и записи диска**: ![группа связанных элементов "Мониторинг"](./media/insights-how-to-customize-monitoring/Insights_MonitoringChart.png)</span><span class="sxs-lookup"><span data-stu-id="7c724-113">For example, a web app has **Requests and Errors**, where as a virtual machine would have **CPU percentage** and **Disk read and write**: ![Monitoring lens](./media/insights-how-to-customize-monitoring/Insights_MonitoringChart.png)</span></span>
3. <span data-ttu-id="7c724-114">Если щелкнуть любую из диаграмм, откроется выноска **Метрика** .</span><span class="sxs-lookup"><span data-stu-id="7c724-114">Clicking on any chart will show you the **Metric** blade.</span></span> <span data-ttu-id="7c724-115">В выноске, в дополнение к графику, представлена таблица, показывающая объединенные значения метрик (например, среднее, минимальное и максимальное значение для выбранного диапазона времени).</span><span class="sxs-lookup"><span data-stu-id="7c724-115">On the blade, in addition to the graph, is a table that shows you aggregations of the metrics (such as average, minimum and maximum, over the time range you chose).</span></span> <span data-ttu-id="7c724-116">Ниже расположены правила оповещений для ресурса.</span><span class="sxs-lookup"><span data-stu-id="7c724-116">Below that are the alert rules for the resource.</span></span>
    <span data-ttu-id="7c724-117">![Колонка "Метрика"](./media/insights-how-to-customize-monitoring/Insights_MetricBlade.png)</span><span class="sxs-lookup"><span data-stu-id="7c724-117">![Metric blade](./media/insights-how-to-customize-monitoring/Insights_MetricBlade.png)</span></span>
4. <span data-ttu-id="7c724-118">Для настройки отображаемых строк нажмите кнопку **Изменить** на диаграмме или кнопку **Изменить диаграмму** в колонке "Метрика".</span><span class="sxs-lookup"><span data-stu-id="7c724-118">To customize the lines that appear, click the **Edit** button on the chart, or, the **Edit chart** command on the Metric blade.</span></span>
5. <span data-ttu-id="7c724-119">В выноске "Изменить запрос" можно выполнить три действия:</span><span class="sxs-lookup"><span data-stu-id="7c724-119">On the Edit Query blade you can do three things:</span></span>
   
   * <span data-ttu-id="7c724-120">изменить диапазон времени;</span><span class="sxs-lookup"><span data-stu-id="7c724-120">Change the time range</span></span>
   * <span data-ttu-id="7c724-121">переключиться между режимом столбцов и строк;</span><span class="sxs-lookup"><span data-stu-id="7c724-121">Switch the appearance between Bar and Line</span></span>
   * <span data-ttu-id="7c724-122">выбрать другие метрики. ![Изменение запроса](./media/insights-how-to-customize-monitoring/Insights_EditQuery.png)</span><span class="sxs-lookup"><span data-stu-id="7c724-122">Choose different metics ![Edit Query](./media/insights-how-to-customize-monitoring/Insights_EditQuery.png)</span></span>
6. <span data-ttu-id="7c724-123">Изменить интервал времени просто: нужно только выбрать другой диапазон (например, **Последний час**) и нажать кнопку **Сохранить** в нижней части колонки.</span><span class="sxs-lookup"><span data-stu-id="7c724-123">Changing the time range is as easy as selecting a different range (such as **Past Hour**) and clicking **Save** at the bottom of the blade.</span></span> <span data-ttu-id="7c724-124">Также можно выбрать параметр **Другое**, который позволяет выбрать любой период в пределах 2 последних недель.</span><span class="sxs-lookup"><span data-stu-id="7c724-124">You can also choose **Custom**, which allows you to choose any period of time over the past 2 weeks.</span></span> <span data-ttu-id="7c724-125">Например, можно просмотреть данные за 2 недели или только за час вчерашнего дня.</span><span class="sxs-lookup"><span data-stu-id="7c724-125">For example, you can see the whole two weeks, or, just 1 hour from yesterday.</span></span> <span data-ttu-id="7c724-126">Чтобы изменить диапазон, введите время в часах в текстовом поле.</span><span class="sxs-lookup"><span data-stu-id="7c724-126">Type in the text box to enter a different hour.</span></span>
    <span data-ttu-id="7c724-127">![Настраиваемый интервал времени](./media/insights-how-to-customize-monitoring/Insights_CustomTime.png)</span><span class="sxs-lookup"><span data-stu-id="7c724-127">![Custom time range](./media/insights-how-to-customize-monitoring/Insights_CustomTime.png)</span></span>
7. <span data-ttu-id="7c724-128">Ниже диапазона времени можно выбрать любое количество метрик, отображаемых на диаграмме.</span><span class="sxs-lookup"><span data-stu-id="7c724-128">Below the time range, you chan choose any number of metrics to show on the chart.</span></span>
8. <span data-ttu-id="7c724-129">При нажатии кнопки "Сохранить" будут сохранены изменения для данного ресурса.</span><span class="sxs-lookup"><span data-stu-id="7c724-129">When you click Save your changes will be saved for that particular resource.</span></span> <span data-ttu-id="7c724-130">Например, если у вас две виртуальные машины и вы изменили диаграмму на одной из них, это не повлияет на другую виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="7c724-130">For example, if you have two virtual machines, and you change a chart on one, it will not impact the other.</span></span>

## <a name="creating-side-by-side-charts"></a><span data-ttu-id="7c724-131">Создание диаграмм, расположенных рядом друг с другом</span><span class="sxs-lookup"><span data-stu-id="7c724-131">Creating side-by-side charts</span></span>
<span data-ttu-id="7c724-132">С помощью мощных возможностей настройки на портале можно добавить столько диаграмм, сколько требуется.</span><span class="sxs-lookup"><span data-stu-id="7c724-132">With the powerful customization in the portal you can add as many charts as you want.</span></span>

1. <span data-ttu-id="7c724-133">В меню **...** в верхней части колонки нажмите **Добавить плитки**:</span><span class="sxs-lookup"><span data-stu-id="7c724-133">In the **...** menu at the top of the blade click **Add tiles**:</span></span>  
    <span data-ttu-id="7c724-134">![Меню "Добавить"](./media/insights-how-to-customize-monitoring/Insights_AddMenu.png)</span><span class="sxs-lookup"><span data-stu-id="7c724-134">![Add Menu](./media/insights-how-to-customize-monitoring/Insights_AddMenu.png)</span></span>
2. <span data-ttu-id="7c724-135">Затем в правой части экрана в **коллекции** можно выбрать диаграмму: ![Коллекция](./media/insights-how-to-customize-monitoring/Insights_Gallery.png)</span><span class="sxs-lookup"><span data-stu-id="7c724-135">Then, you can select select a chart from the **Gallery** on the right side of your screen:  ![Gallery](./media/insights-how-to-customize-monitoring/Insights_Gallery.png)</span></span>
3. <span data-ttu-id="7c724-136">Если вы не видите нужные метрики, вы всегда можете добавить одну из предустановленных метрик и **изменить** диаграмму, чтобы отобразить их.</span><span class="sxs-lookup"><span data-stu-id="7c724-136">If you don't see the metric you want, you can always add one of the preset metrics, and **Edit** the chart to show the metric that you need.</span></span>

## <a name="monitoring-usage-quotas"></a><span data-ttu-id="7c724-137">Мониторинг квот использования</span><span class="sxs-lookup"><span data-stu-id="7c724-137">Monitoring usage quotas</span></span>
<span data-ttu-id="7c724-138">Большинство метрик показывают тенденции во времени, но некоторые данные, например квоты на использование, представляют собой сведения на определенный момент времени с пороговым значением.</span><span class="sxs-lookup"><span data-stu-id="7c724-138">Most metrics show you trends over time, but certain data, like usage quotas, are point-in-time information with a threshold.</span></span>

<span data-ttu-id="7c724-139">Квоты на использование также можно просмотреть в колонке для ресурсов с квотами:</span><span class="sxs-lookup"><span data-stu-id="7c724-139">You can also see usage quotas on the blade for resources that have quotas:</span></span>

![Использование](./media/insights-how-to-customize-monitoring/Insights_UsageChart.png)

<span data-ttu-id="7c724-141">Как и для метрик, [REST API](https://msdn.microsoft.com/library/azure/dn931963.aspx) и [пакет SDK для .NET](http://www.nuget.org/packages/Microsoft.Azure.Management.Monitor) можно использовать для программного доступа к полному набору квот на использование.</span><span class="sxs-lookup"><span data-stu-id="7c724-141">Like with metrics, you can use the [REST API](https://msdn.microsoft.com/library/azure/dn931963.aspx) or [.NET SDK](http://www.nuget.org/packages/Microsoft.Azure.Management.Monitor) to access the full set of usage quotas programmatically.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7c724-142">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7c724-142">Next steps</span></span>
* <span data-ttu-id="7c724-143">[Получайте уведомления](insights-receive-alert-notifications.md) , когда метрика достигает порогового значения.</span><span class="sxs-lookup"><span data-stu-id="7c724-143">[Receive alert notifications](insights-receive-alert-notifications.md) whenever a metric crosses a threshold.</span></span>
* <span data-ttu-id="7c724-144">[Включите отслеживание и диагностику](insights-how-to-use-diagnostics.md) , чтобы собирать подробные метрики о службе с высокой частотой.</span><span class="sxs-lookup"><span data-stu-id="7c724-144">[Enable monitoring and diagnostics](insights-how-to-use-diagnostics.md) to collect detailed high-frequency metrics on your service.</span></span>
* <span data-ttu-id="7c724-145">[Автоматически масштабируйте число экземпляров](insights-how-to-scale.md) , чтобы служба всегда была доступна.</span><span class="sxs-lookup"><span data-stu-id="7c724-145">[Scale instance count automatically](insights-how-to-scale.md) to make sure your service is available and responsive.</span></span>
* <span data-ttu-id="7c724-146">[Отслеживайте производительность приложения](../application-insights/app-insights-azure-web-apps.md) , чтобы точно понять, как ваш код работает в облаке.</span><span class="sxs-lookup"><span data-stu-id="7c724-146">[Monitor application performance](../application-insights/app-insights-azure-web-apps.md) if you want to understand exactly how your code is performing in the cloud.</span></span>
* <span data-ttu-id="7c724-147">Используйте [приложения Application Insights для JavaScript и веб-страниц](../application-insights/app-insights-web-track-usage.md) для анализа браузеров, которые посещают веб-страницу.</span><span class="sxs-lookup"><span data-stu-id="7c724-147">Use [Application Insights for JavaScript apps and web pages](../application-insights/app-insights-web-track-usage.md) to get client analytics about the browsers that visit a web page.</span></span>
* <span data-ttu-id="7c724-148">[Отслеживайте доступность и скорость реагирования любой веб-страницы](../application-insights/app-insights-monitor-web-app-availability.md) с помощью Application Insights, так вы сможете узнать, что страница не работает.</span><span class="sxs-lookup"><span data-stu-id="7c724-148">[Monitor availability and responsiveness of any web page](../application-insights/app-insights-monitor-web-app-availability.md) with Application Insights so you can find out if your page is down.</span></span>

