---
title: "aaaAzure распространенных метрик мониторинга автомасштабирования | Документы Microsoft"
description: "Узнайте, какие метрики обычно используются для автоматического масштабирования облачных служб, виртуальных машин и веб-приложений."
author: anirudhcavale
manager: orenr
editor: 
services: monitoring-and-diagnostics
documentationcenter: monitoring-and-diagnostics
ms.assetid: 189b2a13-01c8-4aca-afd5-90711903ca59
ms.service: monitoring-and-diagnostics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/6/2016
ms.author: ancav
ms.openlocfilehash: 372a40d72d7a6c22c5ff854b1460ec8a3b7ed1d1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-monitor-autoscaling-common-metrics"></a><span data-ttu-id="87c34-103">Общие метрики автомасштабирования Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="87c34-103">Azure Monitor autoscaling common metrics</span></span>
<span data-ttu-id="87c34-104">Автоматическое масштабирование Azure монитора можно tooscale hello количество запущенных экземпляров вверх или вниз, на основе данных телеметрии (показатели).</span><span class="sxs-lookup"><span data-stu-id="87c34-104">Azure Monitor autoscaling allows you tooscale hello number of running instances up or down, based on telemetry data (metrics).</span></span> <span data-ttu-id="87c34-105">В этом документе описывается общих метрик, вам может быть toouse.</span><span class="sxs-lookup"><span data-stu-id="87c34-105">This document describes common metrics that you might want toouse.</span></span> <span data-ttu-id="87c34-106">Hello портала Azure для облачных служб и для ферм серверов вы можете hello метрика hello tooscale ресурсов по.</span><span class="sxs-lookup"><span data-stu-id="87c34-106">In hello Azure portal  for Cloud Services and Server Farms, you can choose hello metric of hello resource tooscale by.</span></span> <span data-ttu-id="87c34-107">Тем не менее можно также выбрать метрик из tooscale различных ресурсов по.</span><span class="sxs-lookup"><span data-stu-id="87c34-107">However, you can also choose any metric from a different resource tooscale by.</span></span>

<span data-ttu-id="87c34-108">Azure автомасштабирования монитор также применяется только[наборы масштабирования виртуальных машин](https://azure.microsoft.com/services/virtual-machine-scale-sets/), [облачные службы](https://azure.microsoft.com/services/cloud-services/), и [службы приложений — веб-приложений](https://azure.microsoft.com/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="87c34-108">Azure Monitor autoscale applies only too[Virtual Machine Scale Sets](https://azure.microsoft.com/services/virtual-machine-scale-sets/), [Cloud Services](https://azure.microsoft.com/services/cloud-services/), and [App Service - Web Apps](https://azure.microsoft.com/services/app-service/web/).</span></span> <span data-ttu-id="87c34-109">Прочие службы Azure используют другие методы масштабирования.</span><span class="sxs-lookup"><span data-stu-id="87c34-109">Other Azure services use different scaling methods.</span></span>

## <a name="compute-metrics-for-resource-manager-based-vms"></a><span data-ttu-id="87c34-110">Расчет метрик для виртуальных машин, развернутых с помощью Resource Manager</span><span class="sxs-lookup"><span data-stu-id="87c34-110">Compute metrics for Resource Manager-based VMs</span></span>
<span data-ttu-id="87c34-111">По умолчанию виртуальные машины и масштабируемые наборы виртуальных машин, развернутые с помощью Resource Manager, генерируют базовые метрики (уровня узла).</span><span class="sxs-lookup"><span data-stu-id="87c34-111">By default, Resource Manager-based Virtual Machines and Virtual Machine Scale Sets emit basic (host-level) metrics.</span></span> <span data-ttu-id="87c34-112">Кроме того при настройке сбора данных диагностики для виртуальной Машины Azure и VMSS hello Azure диагностического расширения также выдает счетчики производительности гостевой ОС (обычно называется «Метрики гостевой ОС»).</span><span class="sxs-lookup"><span data-stu-id="87c34-112">In addition, when you configure diagnostics data collection for an Azure VM and VMSS,  hello Azure diagnostic extension also emits guest-OS performance counters (commonly known as "guest-OS metrics").</span></span>  <span data-ttu-id="87c34-113">Используйте все эти метрики в правилах автомасштабирования.</span><span class="sxs-lookup"><span data-stu-id="87c34-113">You use all these metrics in autoscale rules.</span></span>

<span data-ttu-id="87c34-114">Можно использовать hello `Get MetricDefinitions` PoSH/API/CLI tooview hello метрики недоступны для ресурса VMSS.</span><span class="sxs-lookup"><span data-stu-id="87c34-114">You can use hello `Get MetricDefinitions` API/PoSH/CLI tooview hello metrics available for your VMSS resource.</span></span>

<span data-ttu-id="87c34-115">Если вы используете наборы масштабирования виртуальных машин и не находите определенной метрики в списке, скорее всего, она *отключена* в расширении системы диагностики.</span><span class="sxs-lookup"><span data-stu-id="87c34-115">If you're using VM scale sets and you don't see a particular metric listed, then it is likely *disabled* in your diagnostics extension.</span></span>

<span data-ttu-id="87c34-116">Если определенным показателям частоты выборки или переносятся в hello нужные не выполняется, можно обновить конфигурацию диагностики hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-116">If a particular metric is not being sampled or transferred at hello frequency you want, you can update hello diagnostics configuration.</span></span>

<span data-ttu-id="87c34-117">Либо в предыдущем случае, если истинно, просмотрите [tooenable с помощью PowerShell диагностики Azure в виртуальной машине под управлением Windows](../virtual-machines/windows/ps-extensions-diagnostics.md) о PowerShell tooconfigure и обновление вашей tooenable расширения системы диагностики Azure VM hello метрику.</span><span class="sxs-lookup"><span data-stu-id="87c34-117">If either preceding case is true, then review [Use PowerShell tooenable Azure Diagnostics in a virtual machine running Windows](../virtual-machines/windows/ps-extensions-diagnostics.md) about PowerShell tooconfigure and update your Azure VM Diagnostics extension tooenable hello metric.</span></span> <span data-ttu-id="87c34-118">В этой статье также содержится пример файла конфигурации системы диагностики.</span><span class="sxs-lookup"><span data-stu-id="87c34-118">That article also includes a sample diagnostics configuration file.</span></span>

### <a name="host-metrics-for-resource-manager-based-windows-and-linux-vms"></a><span data-ttu-id="87c34-119">Метрики уровня узла для виртуальных машин под управлением Windows и Linux, развернутых с помощью Resource Manager</span><span class="sxs-lookup"><span data-stu-id="87c34-119">Host metrics for Resource Manager-based Windows and Linux VMs</span></span>
<span data-ttu-id="87c34-120">Привет, следуя метрик уровня узла создаются по умолчанию для виртуальной Машины Azure и VMSS в экземпляры Windows и Linux.</span><span class="sxs-lookup"><span data-stu-id="87c34-120">hello following host-level metrics are emitted by default for Azure VM and VMSS in both Windows and Linux instances.</span></span> <span data-ttu-id="87c34-121">Эти показатели описывают ВМ Azure, но собираются из узла виртуальной Машины Azure hello, а не через агент, установленный на гостевой Виртуальной машине hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-121">These metrics describe your Azure VM, but are collected from hello Azure VM host rather than via agent installed on hello guest VM.</span></span> <span data-ttu-id="87c34-122">Эти метрики можно использовать в правилах автомасштабирования.</span><span class="sxs-lookup"><span data-stu-id="87c34-122">You may use these metrics in autoscaling rules.</span></span>

- [<span data-ttu-id="87c34-123">Метрики уровня узла для виртуальных машин под управлением Windows и Linux, развернутых с помощью Resource Manager</span><span class="sxs-lookup"><span data-stu-id="87c34-123">Host metrics for Resource Manager-based Windows and Linux VMs</span></span>](monitoring-supported-metrics.md#microsoftcomputevirtualmachines)
- [<span data-ttu-id="87c34-124">Метрики уровня узла для масштабируемых наборов виртуальных машин под управлением Windows и Linux, развернутых с помощью Resource Manager</span><span class="sxs-lookup"><span data-stu-id="87c34-124">Host metrics for Resource Manager-based Windows and Linux VM Scale Sets</span></span>](monitoring-supported-metrics.md#microsoftcomputevirtualmachinescalesets)

### <a name="guest-os-metrics-resource-manager-based-windows-vms"></a><span data-ttu-id="87c34-125">Метрики гостевой ОС для виртуальных машин под управлением Windows, развернутых с помощью Resource Manager</span><span class="sxs-lookup"><span data-stu-id="87c34-125">Guest OS metrics Resource Manager-based Windows VMs</span></span>
<span data-ttu-id="87c34-126">При создании виртуальной Машины в Azure, диагностика включается с помощью расширения диагностики hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-126">When you create a VM in Azure, diagnostics is enabled by using hello Diagnostics extension.</span></span> <span data-ttu-id="87c34-127">расширение системы диагностики Hello выдает набор показателей, взяты из внутри hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="87c34-127">hello diagnostics extension emits a set of metrics taken from inside of hello VM.</span></span> <span data-ttu-id="87c34-128">Это означает, что вы можете отключить автомасштабирование метрик, которые не генерируются по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="87c34-128">This means you can autoscale off of metrics that are not emitted by default.</span></span>

<span data-ttu-id="87c34-129">Можно создать список метрик hello, используя следующую команду в PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-129">You can generate a list of hello metrics by using hello following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

<span data-ttu-id="87c34-130">Можно создать предупреждение для hello следующие метрики:</span><span class="sxs-lookup"><span data-stu-id="87c34-130">You can create an alert for hello following metrics:</span></span>

| <span data-ttu-id="87c34-131">Имя метрики</span><span class="sxs-lookup"><span data-stu-id="87c34-131">Metric Name</span></span> | <span data-ttu-id="87c34-132">Единица измерения</span><span class="sxs-lookup"><span data-stu-id="87c34-132">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="87c34-133">\Процессор (_общий объем ресурсов)\% загруженности процессора</span><span class="sxs-lookup"><span data-stu-id="87c34-133">\Processor(_Total)\% Processor Time</span></span> |<span data-ttu-id="87c34-134">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-134">Percent</span></span> |
| <span data-ttu-id="87c34-135">\Процессор(_общий объем ресурсов)\% времени в привилегированном режиме</span><span class="sxs-lookup"><span data-stu-id="87c34-135">\Processor(_Total)\% Privileged Time</span></span> |<span data-ttu-id="87c34-136">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-136">Percent</span></span> |
| <span data-ttu-id="87c34-137">\Процессор(_общий объем ресурсов)\% времени в пользовательском режиме</span><span class="sxs-lookup"><span data-stu-id="87c34-137">\Processor(_Total)\% User Time</span></span> |<span data-ttu-id="87c34-138">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-138">Percent</span></span> |
| <span data-ttu-id="87c34-139">\Процессор(_общий объем ресурсов)\частота процессора</span><span class="sxs-lookup"><span data-stu-id="87c34-139">\Processor Information(_Total)\Processor Frequency</span></span> |<span data-ttu-id="87c34-140">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-140">Count</span></span> |
| <span data-ttu-id="87c34-141">\Система\процессы</span><span class="sxs-lookup"><span data-stu-id="87c34-141">\System\Processes</span></span> |<span data-ttu-id="87c34-142">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-142">Count</span></span> |
| <span data-ttu-id="87c34-143">\Процессор (_общий объем ресурсов)\число потоков</span><span class="sxs-lookup"><span data-stu-id="87c34-143">\Process(_Total)\Thread Count</span></span> |<span data-ttu-id="87c34-144">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-144">Count</span></span> |
| <span data-ttu-id="87c34-145">\Процессор (_общий объем ресурсов)\число обработанных элементов</span><span class="sxs-lookup"><span data-stu-id="87c34-145">\Process(_Total)\Handle Count</span></span> |<span data-ttu-id="87c34-146">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-146">Count</span></span> |
| <span data-ttu-id="87c34-147">\Память\% использования выделенной памяти (в байтах)</span><span class="sxs-lookup"><span data-stu-id="87c34-147">\Memory\% Committed Bytes In Use</span></span> |<span data-ttu-id="87c34-148">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-148">Percent</span></span> |
| <span data-ttu-id="87c34-149">\Память\доступные байты</span><span class="sxs-lookup"><span data-stu-id="87c34-149">\Memory\Available Bytes</span></span> |<span data-ttu-id="87c34-150">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-150">Bytes</span></span> |
| <span data-ttu-id="87c34-151">\Память\выделенная память (в байтах)</span><span class="sxs-lookup"><span data-stu-id="87c34-151">\Memory\Committed Bytes</span></span> |<span data-ttu-id="87c34-152">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-152">Bytes</span></span> |
| <span data-ttu-id="87c34-153">\Память\предел выделенной памяти</span><span class="sxs-lookup"><span data-stu-id="87c34-153">\Memory\Commit Limit</span></span> |<span data-ttu-id="87c34-154">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-154">Bytes</span></span> |
| <span data-ttu-id="87c34-155">\Память\выгружаемый пул (в байтах)</span><span class="sxs-lookup"><span data-stu-id="87c34-155">\Memory\Pool Paged Bytes</span></span> |<span data-ttu-id="87c34-156">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-156">Bytes</span></span> |
| <span data-ttu-id="87c34-157">\Память\невыгружаемый пул (в байтах)</span><span class="sxs-lookup"><span data-stu-id="87c34-157">\Memory\Pool Nonpaged Bytes</span></span> |<span data-ttu-id="87c34-158">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-158">Bytes</span></span> |
| <span data-ttu-id="87c34-159">\Физический диск(_общий объем ресурсов)\% времени работы диска</span><span class="sxs-lookup"><span data-stu-id="87c34-159">\PhysicalDisk(_Total)\% Disk Time</span></span> |<span data-ttu-id="87c34-160">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-160">Percent</span></span> |
| <span data-ttu-id="87c34-161">\Физический диск(_общий объем ресурсов)\% времени чтения с диска</span><span class="sxs-lookup"><span data-stu-id="87c34-161">\PhysicalDisk(_Total)\% Disk Read Time</span></span> |<span data-ttu-id="87c34-162">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-162">Percent</span></span> |
| <span data-ttu-id="87c34-163">\Физический диск(_общий объем ресурсов)\% времени записи на диск</span><span class="sxs-lookup"><span data-stu-id="87c34-163">\PhysicalDisk(_Total)\% Disk Write Time</span></span> |<span data-ttu-id="87c34-164">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-164">Percent</span></span> |
| <span data-ttu-id="87c34-165">\Диск\Физический диск(_общий объем ресурсов) в секунду</span><span class="sxs-lookup"><span data-stu-id="87c34-165">\PhysicalDisk(_Total)\Disk Transfers/sec</span></span> |<span data-ttu-id="87c34-166">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-166">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-167">\Физический диск(_общий объем ресурсов)\скорость чтения с диска/с</span><span class="sxs-lookup"><span data-stu-id="87c34-167">\PhysicalDisk(_Total)\Disk Reads/sec</span></span> |<span data-ttu-id="87c34-168">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-168">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-169">\Физический диск(_общий объем ресурсов)\скорость записи на диск/с</span><span class="sxs-lookup"><span data-stu-id="87c34-169">\PhysicalDisk(_Total)\Disk Writes/sec</span></span> |<span data-ttu-id="87c34-170">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-170">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-171">\Физический диск(_общий объем ресурсов)\скорость передачи данных (в байтах)/с</span><span class="sxs-lookup"><span data-stu-id="87c34-171">\PhysicalDisk(_Total)\Disk Bytes/sec</span></span> |<span data-ttu-id="87c34-172">Байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-172">BytesPerSecond</span></span> |
| <span data-ttu-id="87c34-173">\Физический диск(_общий объем ресурсов)\скорость чтения с диска (в байтах)/с</span><span class="sxs-lookup"><span data-stu-id="87c34-173">\PhysicalDisk(_Total)\Disk Read Bytes/sec</span></span> |<span data-ttu-id="87c34-174">Байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-174">BytesPerSecond</span></span> |
| <span data-ttu-id="87c34-175">\Физический диск(_общий объем ресурсов)\скорость записи на диск (в байтах)/с</span><span class="sxs-lookup"><span data-stu-id="87c34-175">\PhysicalDisk(_Total)\Disk Write Bytes/sec</span></span> |<span data-ttu-id="87c34-176">Байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-176">BytesPerSecond</span></span> |
| <span data-ttu-id="87c34-177">\Физический диск(_общий объем ресурсов)\среднее значение Длина дисковой очереди</span><span class="sxs-lookup"><span data-stu-id="87c34-177">\PhysicalDisk(_Total)\Avg. Disk Queue Length</span></span> |<span data-ttu-id="87c34-178">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-178">Count</span></span> |
| <span data-ttu-id="87c34-179">\Физический диск(_общий объем ресурсов)\среднее значение Длина очереди чтения с диска</span><span class="sxs-lookup"><span data-stu-id="87c34-179">\PhysicalDisk(_Total)\Avg. Disk Read Queue Length</span></span> |<span data-ttu-id="87c34-180">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-180">Count</span></span> |
| <span data-ttu-id="87c34-181">\Физический диск(_общий объем ресурсов)\среднее значение Длина очереди записи на диск</span><span class="sxs-lookup"><span data-stu-id="87c34-181">\PhysicalDisk(_Total)\Avg. Disk Write Queue Length</span></span> |<span data-ttu-id="87c34-182">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-182">Count</span></span> |
| <span data-ttu-id="87c34-183">\Физический диск(_общий объем ресурсов)\% свободного места</span><span class="sxs-lookup"><span data-stu-id="87c34-183">\LogicalDisk(_Total)\% Free Space</span></span> |<span data-ttu-id="87c34-184">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-184">Percent</span></span> |
| <span data-ttu-id="87c34-185">\Логический диск(_общий объем ресурсов)\свободная память (в мегабайтах)</span><span class="sxs-lookup"><span data-stu-id="87c34-185">\LogicalDisk(_Total)\Free Megabytes</span></span> |<span data-ttu-id="87c34-186">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-186">Count</span></span> |

### <a name="guest-os-metrics-linux-vms"></a><span data-ttu-id="87c34-187">Метрики гостевой ОС для виртуальных машин под управлением Linux</span><span class="sxs-lookup"><span data-stu-id="87c34-187">Guest OS metrics Linux VMs</span></span>
<span data-ttu-id="87c34-188">При создании виртуальной машины в Azure система диагностики включается по умолчанию с помощью расширения диагностики.</span><span class="sxs-lookup"><span data-stu-id="87c34-188">When you create a VM in Azure, diagnostics is enabled by default by using Diagnostics extension.</span></span>

<span data-ttu-id="87c34-189">Можно создать список метрик hello, используя следующую команду в PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-189">You can generate a list of hello metrics by using hello following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

 <span data-ttu-id="87c34-190">Можно создать предупреждение для hello следующие метрики:</span><span class="sxs-lookup"><span data-stu-id="87c34-190">You can create an alert for hello following metrics:</span></span>

| <span data-ttu-id="87c34-191">Имя метрики</span><span class="sxs-lookup"><span data-stu-id="87c34-191">Metric Name</span></span> | <span data-ttu-id="87c34-192">Единица измерения</span><span class="sxs-lookup"><span data-stu-id="87c34-192">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="87c34-193">\Память\Доступная память</span><span class="sxs-lookup"><span data-stu-id="87c34-193">\Memory\AvailableMemory</span></span> |<span data-ttu-id="87c34-194">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-194">Bytes</span></span> |
| <span data-ttu-id="87c34-195">\Память\Процент доступной памяти</span><span class="sxs-lookup"><span data-stu-id="87c34-195">\Memory\PercentAvailableMemory</span></span> |<span data-ttu-id="87c34-196">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-196">Percent</span></span> |
| <span data-ttu-id="87c34-197">\Память\Используемая память</span><span class="sxs-lookup"><span data-stu-id="87c34-197">\Memory\UsedMemory</span></span> |<span data-ttu-id="87c34-198">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-198">Bytes</span></span> |
| <span data-ttu-id="87c34-199">\Память\Процент используемой памяти</span><span class="sxs-lookup"><span data-stu-id="87c34-199">\Memory\PercentUsedMemory</span></span> |<span data-ttu-id="87c34-200">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-200">Percent</span></span> |
| <span data-ttu-id="87c34-201">\Память\Процент памяти, используемой кэшем</span><span class="sxs-lookup"><span data-stu-id="87c34-201">\Memory\PercentUsedByCache</span></span> |<span data-ttu-id="87c34-202">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-202">Percent</span></span> |
| <span data-ttu-id="87c34-203">\Память\Страниц в с</span><span class="sxs-lookup"><span data-stu-id="87c34-203">\Memory\PagesPerSec</span></span> |<span data-ttu-id="87c34-204">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-204">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-205">\Память\Прочитано страниц в с</span><span class="sxs-lookup"><span data-stu-id="87c34-205">\Memory\PagesReadPerSec</span></span> |<span data-ttu-id="87c34-206">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-206">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-207">\Память\Записано страниц в с</span><span class="sxs-lookup"><span data-stu-id="87c34-207">\Memory\PagesWrittenPerSec</span></span> |<span data-ttu-id="87c34-208">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-208">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-209">\Память\Доступное пространство файла подкачки</span><span class="sxs-lookup"><span data-stu-id="87c34-209">\Memory\AvailableSwap</span></span> |<span data-ttu-id="87c34-210">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-210">Bytes</span></span> |
| <span data-ttu-id="87c34-211">\Память\Процент доступного пространства файла подкачки</span><span class="sxs-lookup"><span data-stu-id="87c34-211">\Memory\PercentAvailableSwap</span></span> |<span data-ttu-id="87c34-212">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-212">Percent</span></span> |
| <span data-ttu-id="87c34-213">\Память\Используемое пространство файла подкачки</span><span class="sxs-lookup"><span data-stu-id="87c34-213">\Memory\UsedSwap</span></span> |<span data-ttu-id="87c34-214">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-214">Bytes</span></span> |
| <span data-ttu-id="87c34-215">\Память\Процент использованного пространства файла подкачки</span><span class="sxs-lookup"><span data-stu-id="87c34-215">\Memory\PercentUsedSwap</span></span> |<span data-ttu-id="87c34-216">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-216">Percent</span></span> |
| <span data-ttu-id="87c34-217">\Процессор\Процент времени простоя</span><span class="sxs-lookup"><span data-stu-id="87c34-217">\Processor\PercentIdleTime</span></span> |<span data-ttu-id="87c34-218">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-218">Percent</span></span> |
| <span data-ttu-id="87c34-219">\Процессор\Процент работы в пользовательском режиме</span><span class="sxs-lookup"><span data-stu-id="87c34-219">\Processor\PercentUserTime</span></span> |<span data-ttu-id="87c34-220">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-220">Percent</span></span> |
| <span data-ttu-id="87c34-221">\Процессор\Процент времени оптимальной работы</span><span class="sxs-lookup"><span data-stu-id="87c34-221">\Processor\PercentNiceTime</span></span> |<span data-ttu-id="87c34-222">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-222">Percent</span></span> |
| <span data-ttu-id="87c34-223">\Процессор\Процент работы в привилегированном режиме</span><span class="sxs-lookup"><span data-stu-id="87c34-223">\Processor\PercentPrivilegedTime</span></span> |<span data-ttu-id="87c34-224">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-224">Percent</span></span> |
| <span data-ttu-id="87c34-225">\Процессор\Процент времени прерываний</span><span class="sxs-lookup"><span data-stu-id="87c34-225">\Processor\PercentInterruptTime</span></span> |<span data-ttu-id="87c34-226">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-226">Percent</span></span> |
| <span data-ttu-id="87c34-227">\Процессор\Процент времени DPC</span><span class="sxs-lookup"><span data-stu-id="87c34-227">\Processor\PercentDPCTime</span></span> |<span data-ttu-id="87c34-228">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-228">Percent</span></span> |
| <span data-ttu-id="87c34-229">\Процессор\Процент загруженности процессора</span><span class="sxs-lookup"><span data-stu-id="87c34-229">\Processor\PercentProcessorTime</span></span> |<span data-ttu-id="87c34-230">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-230">Percent</span></span> |
| <span data-ttu-id="87c34-231">\Процессор\Процент времени ожидания ввода/вывода</span><span class="sxs-lookup"><span data-stu-id="87c34-231">\Processor\PercentIOWaitTime</span></span> |<span data-ttu-id="87c34-232">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-232">Percent</span></span> |
| <span data-ttu-id="87c34-233">\Физический диск\Байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-233">\PhysicalDisk\BytesPerSecond</span></span> |<span data-ttu-id="87c34-234">Байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-234">BytesPerSecond</span></span> |
| <span data-ttu-id="87c34-235">\Физический диск\Прочитано байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-235">\PhysicalDisk\ReadBytesPerSecond</span></span> |<span data-ttu-id="87c34-236">Байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-236">BytesPerSecond</span></span> |
| <span data-ttu-id="87c34-237">\Физический диск\Записано байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-237">\PhysicalDisk\WriteBytesPerSecond</span></span> |<span data-ttu-id="87c34-238">Байт/с</span><span class="sxs-lookup"><span data-stu-id="87c34-238">BytesPerSecond</span></span> |
| <span data-ttu-id="87c34-239">\Физический диск\Передач/с</span><span class="sxs-lookup"><span data-stu-id="87c34-239">\PhysicalDisk\TransfersPerSecond</span></span> |<span data-ttu-id="87c34-240">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-240">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-241">\Физический диск\Операций чтения/с</span><span class="sxs-lookup"><span data-stu-id="87c34-241">\PhysicalDisk\ReadsPerSecond</span></span> |<span data-ttu-id="87c34-242">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-242">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-243">\Физический диск\Операций записи/с</span><span class="sxs-lookup"><span data-stu-id="87c34-243">\PhysicalDisk\WritesPerSecond</span></span> |<span data-ttu-id="87c34-244">Число/с</span><span class="sxs-lookup"><span data-stu-id="87c34-244">CountPerSecond</span></span> |
| <span data-ttu-id="87c34-245">\Физический диск\Среднее время чтения</span><span class="sxs-lookup"><span data-stu-id="87c34-245">\PhysicalDisk\AverageReadTime</span></span> |<span data-ttu-id="87c34-246">Секунды</span><span class="sxs-lookup"><span data-stu-id="87c34-246">Seconds</span></span> |
| <span data-ttu-id="87c34-247">\Физический диск\Среднее время записи</span><span class="sxs-lookup"><span data-stu-id="87c34-247">\PhysicalDisk\AverageWriteTime</span></span> |<span data-ttu-id="87c34-248">Секунды</span><span class="sxs-lookup"><span data-stu-id="87c34-248">Seconds</span></span> |
| <span data-ttu-id="87c34-249">\Физический диск\Среднее время передачи</span><span class="sxs-lookup"><span data-stu-id="87c34-249">\PhysicalDisk\AverageTransferTime</span></span> |<span data-ttu-id="87c34-250">Секунды</span><span class="sxs-lookup"><span data-stu-id="87c34-250">Seconds</span></span> |
| <span data-ttu-id="87c34-251">\Физический диск\Средняя длина очереди диска</span><span class="sxs-lookup"><span data-stu-id="87c34-251">\PhysicalDisk\AverageDiskQueueLength</span></span> |<span data-ttu-id="87c34-252">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-252">Count</span></span> |
| <span data-ttu-id="87c34-253">\Сетевой интерфейс\Передано байт</span><span class="sxs-lookup"><span data-stu-id="87c34-253">\NetworkInterface\BytesTransmitted</span></span> |<span data-ttu-id="87c34-254">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-254">Bytes</span></span> |
| <span data-ttu-id="87c34-255">\Сетевой интерфейс\Получено байт</span><span class="sxs-lookup"><span data-stu-id="87c34-255">\NetworkInterface\BytesReceived</span></span> |<span data-ttu-id="87c34-256">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-256">Bytes</span></span> |
| <span data-ttu-id="87c34-257">\Сетевой интерфейс\Передано пакетов</span><span class="sxs-lookup"><span data-stu-id="87c34-257">\NetworkInterface\PacketsTransmitted</span></span> |<span data-ttu-id="87c34-258">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-258">Count</span></span> |
| <span data-ttu-id="87c34-259">\Сетевой интерфейс\ Получено пакетов</span><span class="sxs-lookup"><span data-stu-id="87c34-259">\NetworkInterface\PacketsReceived</span></span> |<span data-ttu-id="87c34-260">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-260">Count</span></span> |
| <span data-ttu-id="87c34-261">\Сетевой интерфейс\Всего байт</span><span class="sxs-lookup"><span data-stu-id="87c34-261">\NetworkInterface\BytesTotal</span></span> |<span data-ttu-id="87c34-262">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-262">Bytes</span></span> |
| <span data-ttu-id="87c34-263">\Сетевой интерфейс\Всего ошибок RX</span><span class="sxs-lookup"><span data-stu-id="87c34-263">\NetworkInterface\TotalRxErrors</span></span> |<span data-ttu-id="87c34-264">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-264">Count</span></span> |
| <span data-ttu-id="87c34-265">\Сетевой интерфейс\Всего ошибок TX</span><span class="sxs-lookup"><span data-stu-id="87c34-265">\NetworkInterface\TotalTxErrors</span></span> |<span data-ttu-id="87c34-266">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-266">Count</span></span> |
| <span data-ttu-id="87c34-267">\Сетевой интерфейс\Всего конфликтов</span><span class="sxs-lookup"><span data-stu-id="87c34-267">\NetworkInterface\TotalCollisions</span></span> |<span data-ttu-id="87c34-268">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-268">Count</span></span> |

## <a name="commonly-used-web-server-farm-metrics"></a><span data-ttu-id="87c34-269">Часто используемые метрики веб-приложений (фермы серверов)</span><span class="sxs-lookup"><span data-stu-id="87c34-269">Commonly used Web (Server Farm) metrics</span></span>
<span data-ttu-id="87c34-270">Можно также выполнить Автомасштабирование на основе общих web server например hello длины очереди Http.</span><span class="sxs-lookup"><span data-stu-id="87c34-270">You can also perform autoscale based on common web server metrics such as hello Http queue length.</span></span> <span data-ttu-id="87c34-271">Имя метрики — **HttpQueueLength**.</span><span class="sxs-lookup"><span data-stu-id="87c34-271">It's metric name is **HttpQueueLength**.</span></span>  <span data-ttu-id="87c34-272">Следующий раздел списки доступных фермы (веб-приложений) метрики сервера Hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-272">hello following section lists available server farm (Web Apps) metrics.</span></span>

### <a name="web-apps-metrics"></a><span data-ttu-id="87c34-273">Метрики веб-приложений</span><span class="sxs-lookup"><span data-stu-id="87c34-273">Web Apps metrics</span></span>
<span data-ttu-id="87c34-274">Список метрик hello веб-приложений можно создавать с помощью hello следующую команду в PowerShell.</span><span class="sxs-lookup"><span data-stu-id="87c34-274">You can generate a list of hello Web Apps metrics by using hello following command in PowerShell.</span></span>

```
Get-AzureRmMetricDefinition -ResourceId <resource_id> | Format-Table -Property Name,Unit
```

<span data-ttu-id="87c34-275">Можно создавать оповещения и выполнять масштабирование на основе метрик в таблице ниже.</span><span class="sxs-lookup"><span data-stu-id="87c34-275">You can alert on or scale by these metrics.</span></span>

| <span data-ttu-id="87c34-276">Имя метрики</span><span class="sxs-lookup"><span data-stu-id="87c34-276">Metric Name</span></span> | <span data-ttu-id="87c34-277">Единица измерения</span><span class="sxs-lookup"><span data-stu-id="87c34-277">Unit</span></span> |
| --- | --- |
| <span data-ttu-id="87c34-278">Процент загруженности ЦП</span><span class="sxs-lookup"><span data-stu-id="87c34-278">CpuPercentage</span></span> |<span data-ttu-id="87c34-279">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-279">Percent</span></span> |
| <span data-ttu-id="87c34-280">Процент использования памяти</span><span class="sxs-lookup"><span data-stu-id="87c34-280">MemoryPercentage</span></span> |<span data-ttu-id="87c34-281">Процент</span><span class="sxs-lookup"><span data-stu-id="87c34-281">Percent</span></span> |
| <span data-ttu-id="87c34-282">Длина очереди диска</span><span class="sxs-lookup"><span data-stu-id="87c34-282">DiskQueueLength</span></span> |<span data-ttu-id="87c34-283">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-283">Count</span></span> |
| <span data-ttu-id="87c34-284">Длина очереди HTTP</span><span class="sxs-lookup"><span data-stu-id="87c34-284">HttpQueueLength</span></span> |<span data-ttu-id="87c34-285">Count</span><span class="sxs-lookup"><span data-stu-id="87c34-285">Count</span></span> |
| <span data-ttu-id="87c34-286">Получено байт</span><span class="sxs-lookup"><span data-stu-id="87c34-286">BytesReceived</span></span> |<span data-ttu-id="87c34-287">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-287">Bytes</span></span> |
| <span data-ttu-id="87c34-288">Передано байт</span><span class="sxs-lookup"><span data-stu-id="87c34-288">BytesSent</span></span> |<span data-ttu-id="87c34-289">Байты</span><span class="sxs-lookup"><span data-stu-id="87c34-289">Bytes</span></span> |

## <a name="commonly-used-storage-metrics"></a><span data-ttu-id="87c34-290">Часто используемые метрики хранилища</span><span class="sxs-lookup"><span data-stu-id="87c34-290">Commonly used Storage metrics</span></span>
<span data-ttu-id="87c34-291">Можно масштабировать по длине очереди хранилища, это число сообщений в очереди хранилища hello в hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-291">You can scale by Storage queue length, which is hello number of messages in hello storage queue.</span></span> <span data-ttu-id="87c34-292">Длина очереди хранилища представляет собой специальный показатель и hello пороговое значение — hello количества сообщений на экземпляр.</span><span class="sxs-lookup"><span data-stu-id="87c34-292">Storage queue length is a special metric and hello threshold is hello number of messages per instance.</span></span> <span data-ttu-id="87c34-293">Например если два экземпляра и порог hello установлен too100, масштабирование происходит, когда hello общее число сообщений в очереди hello — 200.</span><span class="sxs-lookup"><span data-stu-id="87c34-293">For example, if there are two instances and if hello threshold is set too100, scaling occurs when hello total number of messages in hello queue is 200.</span></span> <span data-ttu-id="87c34-294">Который может быть 100 сообщений на экземпляр, 120 и 80 или любые другие комбинации, которые суммирует too200 или более.</span><span class="sxs-lookup"><span data-stu-id="87c34-294">That can be 100 messages per instance, 120 and 80, or any other combination that adds up too200 or more.</span></span>

<span data-ttu-id="87c34-295">Настройте этот параметр в hello портал Azure в hello **параметры** колонку.</span><span class="sxs-lookup"><span data-stu-id="87c34-295">Configure this setting in hello Azure portal in hello **Settings** blade.</span></span> <span data-ttu-id="87c34-296">Для набора масштабирования виртуальных Машин, можно обновить параметр автомасштабирования hello в toouse шаблона диспетчера ресурсов hello *metricName* как *ApproximateMessageCount* и передать идентификатор hello hello хранилища очереди в качестве  *metricResourceUri*.</span><span class="sxs-lookup"><span data-stu-id="87c34-296">For VM scale sets, you can update hello Autoscale setting in hello Resource Manager template toouse *metricName* as *ApproximateMessageCount* and pass hello ID of hello storage queue as *metricResourceUri*.</span></span>

<span data-ttu-id="87c34-297">Например с hello классический учетной записи хранилища metricTrigger параметр автомасштабирования включают следующее.</span><span class="sxs-lookup"><span data-stu-id="87c34-297">For example, with a Classic Storage Account hello autoscale setting metricTrigger would include:</span></span>

```
"metricName": "ApproximateMessageCount",
 "metricNamespace": "",
 "metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.ClassicStorage/storageAccounts/STORAGE_ACCOUNT_NAME/services/queue/queues/QUEUE_NAME"
 ```

<span data-ttu-id="87c34-298">Для учетной записи хранения (не классические) hello metricTrigger включают следующее.</span><span class="sxs-lookup"><span data-stu-id="87c34-298">For a (non-classic) storage account, hello metricTrigger would include:</span></span>

```
"metricName": "ApproximateMessageCount",
"metricNamespace": "",
"metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.Storage/storageAccounts/STORAGE_ACCOUNT_NAME/services/queue/queues/QUEUE_NAME"
```

## <a name="commonly-used-service-bus-metrics"></a><span data-ttu-id="87c34-299">Часто используемые метрики служебной шины</span><span class="sxs-lookup"><span data-stu-id="87c34-299">Commonly used Service Bus metrics</span></span>
<span data-ttu-id="87c34-300">Можно масштабировать по длине очереди Service Bus, это число сообщений в очереди Service Bus hello в hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-300">You can scale by Service Bus queue length, which is hello number of messages in hello Service Bus queue.</span></span> <span data-ttu-id="87c34-301">Длина очереди Service Bus представляет собой специальный показатель и hello пороговое значение — hello количества сообщений на экземпляр.</span><span class="sxs-lookup"><span data-stu-id="87c34-301">Service Bus queue length is a special metric and hello threshold is hello number of messages per instance.</span></span> <span data-ttu-id="87c34-302">Например если два экземпляра и порог hello установлен too100, масштабирование происходит, когда hello общее число сообщений в очереди hello — 200.</span><span class="sxs-lookup"><span data-stu-id="87c34-302">For example, if there are two instances and if hello threshold is set too100, scaling occurs when hello total number of messages in hello queue is 200.</span></span> <span data-ttu-id="87c34-303">Который может быть 100 сообщений на экземпляр, 120 и 80 или любые другие комбинации, которые суммирует too200 или более.</span><span class="sxs-lookup"><span data-stu-id="87c34-303">That can be 100 messages per instance, 120 and 80, or any other combination that adds up too200 or more.</span></span>

<span data-ttu-id="87c34-304">Для набора масштабирования виртуальных Машин, можно обновить параметр автомасштабирования hello в toouse шаблона диспетчера ресурсов hello *metricName* как *ApproximateMessageCount* и передать идентификатор hello hello хранилища очереди в качестве  *metricResourceUri*.</span><span class="sxs-lookup"><span data-stu-id="87c34-304">For VM scale sets, you can update hello Autoscale setting in hello Resource Manager template toouse *metricName* as *ApproximateMessageCount* and pass hello ID of hello storage queue as *metricResourceUri*.</span></span>

```
"metricName": "MessageCount",
 "metricNamespace": "",
"metricResourceUri": "/subscriptions/SUBSCRIPTION_ID/resourceGroups/RES_GROUP_NAME/providers/Microsoft.ServiceBus/namespaces/SB_NAMESPACE/queues/QUEUE_NAME"
```

> [!NOTE]
> <span data-ttu-id="87c34-305">Для Service Bus понятие группы ресурсов hello не существует, но диспетчера ресурсов Azure создает ресурсную группу по умолчанию в одном регионе.</span><span class="sxs-lookup"><span data-stu-id="87c34-305">For Service Bus, hello resource group concept does not exist but Azure Resource Manager creates a default resource group per region.</span></span> <span data-ttu-id="87c34-306">Группа ресурсов Hello, обычно имеет формат «По умолчанию - ServiceBus-[region]» hello.</span><span class="sxs-lookup"><span data-stu-id="87c34-306">hello resource group is usually in hello 'Default-ServiceBus-[region]' format.</span></span> <span data-ttu-id="87c34-307">Например, Default-ServiceBus-EastUS, Default-ServiceBus-WestUS, Default-ServiceBus-AustraliaEast и т. д.</span><span class="sxs-lookup"><span data-stu-id="87c34-307">For example, 'Default-ServiceBus-EastUS', 'Default-ServiceBus-WestUS', 'Default-ServiceBus-AustraliaEast' etc.</span></span>
>
>
