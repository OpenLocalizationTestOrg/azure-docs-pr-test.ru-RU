---
ms.assetid: 
title: "aaaAzure рекомендации регулирования хранилища ключей | Документы Microsoft"
ms.service: key-vault
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.date: 06/21/2017
ms.openlocfilehash: a75cf96bc6503e51f14378bee598bad57e85be82
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-key-vault-throttling-guidance"></a>Руководство по регулированию хранилища ключей Azure

Регулирование — это процесс инициируется, ограничивает число одновременных вызовов службы Azure toohello tooprevent злоупотребление ресурсами hello. Хранилище Azure ключ (AKV) — спроектированный toohandle большое количество запросов. Если происходит огромное количество запросов, регулирование запросов клиента используется для поддержания оптимальной производительности и надежности hello службы хранилищем ключей AZURE.

Ограничения регулирования различаются в зависимости от сценария hello. Например при выполнении большой объем операций записи hello возможность регулирования больше, чем если только выполняются операции чтения.

## <a name="how-does-key-vault-handle-its-limits"></a>Как хранилище ключей обрабатывает свои ограничения?

Ограничения службы в хранилище ключей существуют tooprevent неправильное использование ресурсов и обеспечения качества обслуживания для всех клиентов хранилища ключей. При превышении порогового значения службы хранилище ключей ограничивает все последующие запросы от этого клиента на определенный период времени. В этом случае хранилище ключей возвращает код состояния HTTP 429 (слишком много запросов), и при сбое запросов hello. Кроме того неудачных запросов, возвращающих 429 учитываются при определении ограничения регулирования hello отслеживается хранилища ключей. 

Если у вас есть реальный пример использования с более высокими ограничениями регулирования, пожалуйста, расскажите нам о нем.


## <a name="how-toothrottle-your-app-in-response-tooservice-limits"></a>Как toothrottle приложения в ответ tooservice ограничивает

Hello ниже приведены **рекомендации** для регулирования приложения:
- Сократите число hello операций на запрос.
- Уменьшите частоту hello запросов.
- Избегайте немедленных повторных попыток. 
    - Все запросы учитываются, и их количество сравнивается с ограничениями использования.

При реализации обработки ошибок приложения используйте hello HTTP ошибки кода 429 toodetect hello требуются для регулирования на стороне клиента. Если запрос hello снова происходит сбой с кодом ошибки HTTP 429, удастся устранить ограничения службы Azure. Продолжайте toouse hello рекомендуется регулирования клиентский метод, повторная попытка запроса hello до ее успешного завершения.

### <a name="recommended-client-side-throttling-method"></a>Рекомендуемый метод регулирования на стороне клиента

При возврате кода ошибки HTTP 429 начните регулирование клиента с помощью метода экспоненциального откладывания:

1. Подождите 1 с и повторите запрос
2. Если запрос по-прежнему не выполнен, подождите 2 с и повторите запрос
3. Если запрос по-прежнему не выполнен, подождите 4 с и повторите запрос
4. Если запрос по-прежнему не выполнен, подождите 8 с и повторите запрос
5. Если запрос по-прежнему не выполнен, подождите 16 с и повторите запрос

На этом этапе вы не должны получать коды ответа HTTP 429.

## <a name="see-also"></a>См. также

Более глубокого ориентацию регулирования для hello Microsoft Cloud см [регулирования шаблон](https://docs.microsoft.com/azure/architecture/patterns/throttling).

