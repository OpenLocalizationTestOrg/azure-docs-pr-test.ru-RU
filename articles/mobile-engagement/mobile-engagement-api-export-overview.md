---
title: "<span data-ttu-id=\"f43f9-101\">Общие сведения об API экспорта Служб мобильного взаимодействия</span><span class=\"sxs-lookup\"><span data-stu-id=\"f43f9-101\">Mobile Engagement Export API Overview</span></span>"
description: "<span data-ttu-id=\"f43f9-102\">Основные сведения об экспорте необработанных данных, создаваемых устройствами вашего пользователя, для использования в ваших собственных средствах.</span><span class=\"sxs-lookup\"><span data-stu-id=\"f43f9-102\">Learn the basics about exporting your raw data generated by your user's devices to leverage it in your own tools</span></span>"
services: mobile-engagement
documentationcenter: mobile
author: kpiteira
manager: erikre
editor: 
ms.assetid: 9380d47b-d7fa-4d4c-888f-97e6482196bb
ms.service: mobile-engagement
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: mobile-multiple
ms.workload: mobile
ms.date: 04/26/2016
ms.author: kapiteir
ms.openlocfilehash: 346e0e480ff84ee849f135a7605d27df9e32f966
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="mobile-engagement-export-api-overview"></a><span data-ttu-id="f43f9-103">Общие сведения об API экспорта Служб мобильного взаимодействия</span><span class="sxs-lookup"><span data-stu-id="f43f9-103">Mobile Engagement Export API Overview</span></span>
## <a name="introduction"></a><span data-ttu-id="f43f9-104">Введение</span><span class="sxs-lookup"><span data-stu-id="f43f9-104">Introduction</span></span>
<span data-ttu-id="f43f9-105">В этом документе представлены основные сведения об экспорте необработанных данных, создаваемых устройствами вашего пользователя, для использования в ваших собственных средствах.</span><span class="sxs-lookup"><span data-stu-id="f43f9-105">In this document, you will learn the basics about exporting your raw data generated by your user's devices to leverage it in your own tools.</span></span>

## <a name="pre-requisites"></a><span data-ttu-id="f43f9-106">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="f43f9-106">Pre-requisites</span></span>
<span data-ttu-id="f43f9-107">Для экспорта необработанных данных из Служб мобильного взаимодействия требуется следующее:</span><span class="sxs-lookup"><span data-stu-id="f43f9-107">Exporting the raw data from Mobile Engagement requires:</span></span>

* <span data-ttu-id="f43f9-108">Настройка проверки подлинности API для использования API (см. статью о [настройке проверки подлинности вручную](mobile-engagement-api-authentication-manual.md)).</span><span class="sxs-lookup"><span data-stu-id="f43f9-108">API authentication setup to be able to use the APIs (see [authentication manual setup](mobile-engagement-api-authentication-manual.md)),</span></span>
* <span data-ttu-id="f43f9-109">Использование API REST или [пакета SDK для .NET](mobile-engagement-dotnet-sdk-service-api.md).</span><span class="sxs-lookup"><span data-stu-id="f43f9-109">Use either the REST APIs or the [.net SDK](mobile-engagement-dotnet-sdk-service-api.md),</span></span>
* <span data-ttu-id="f43f9-110">Учетная запись хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="f43f9-110">An Azure Storage account.</span></span>

> [!NOTE]
> <span data-ttu-id="f43f9-111">Мы также рекомендуем отличную [службу хранилища Microsoft Azure](http://storageexplorer.com/)(по крайней мере на этапе разработки), поскольку она предоставляет удобный интерфейс для взаимодействия с хранилищем Azure.</span><span class="sxs-lookup"><span data-stu-id="f43f9-111">We also advise the excellent [Microsoft Azure Storage Explorer](http://storageexplorer.com/), at least during the development phase as it provides an easy to use UI for interacting with Azure Storage.</span></span>
> 
> 

## <a name="what-can-be-exported"></a><span data-ttu-id="f43f9-112">Что можно экспортировать?</span><span class="sxs-lookup"><span data-stu-id="f43f9-112">What can be exported?</span></span>
<span data-ttu-id="f43f9-113">Службы мобильного взаимодействия позволяют своим пользователям собирать множество типов данных, в связи с чем включают несколько видов экспорта, соответствующих различным типам данных.</span><span class="sxs-lookup"><span data-stu-id="f43f9-113">Mobile Engagement allows its users to collect many types of data and therefore has several types of export suited to these different data types.</span></span>
<span data-ttu-id="f43f9-114">Основных типов экспорта два:</span><span class="sxs-lookup"><span data-stu-id="f43f9-114">There are 2 essential types of export:</span></span>

* <span data-ttu-id="f43f9-115">Снимок: как правило, используется для экспорта данных, которые представляют состояние и по которым в Службах мобильного взаимодействия нет журнала.</span><span class="sxs-lookup"><span data-stu-id="f43f9-115">Snapshot: used typically to export data that represents a state and for which Mobile Engagement does not have a history.</span></span> <span data-ttu-id="f43f9-116">Сюда входят, например, теги (app-info), маркеры и отзывы по кампании push-уведомлений.</span><span class="sxs-lookup"><span data-stu-id="f43f9-116">This includes Tags (app-info), tokens or push campaign feedbacks for example.</span></span> <span data-ttu-id="f43f9-117">Как следствие, эти типы экспорта не связаны с датой.</span><span class="sxs-lookup"><span data-stu-id="f43f9-117">As a consequence these types of export are not related to a date.</span></span>
* <span data-ttu-id="f43f9-118">Архив: этот тип экспорта используется для данных, которые накапливаются со временем, таких как события или действия.</span><span class="sxs-lookup"><span data-stu-id="f43f9-118">historical: this export type is used for data that accumulates over time such as Events or Activities for example.</span></span>

<span data-ttu-id="f43f9-119">В следующей таблице представлены все возможные виды экспорта.</span><span class="sxs-lookup"><span data-stu-id="f43f9-119">The table below describes exhaustively all the possible exports:</span></span>

| <span data-ttu-id="f43f9-120">Тип экспорта</span><span class="sxs-lookup"><span data-stu-id="f43f9-120">Export Type</span></span> | <span data-ttu-id="f43f9-121">Тип данных</span><span class="sxs-lookup"><span data-stu-id="f43f9-121">Data Type</span></span> | <span data-ttu-id="f43f9-122">Описание</span><span class="sxs-lookup"><span data-stu-id="f43f9-122">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f43f9-123">Снимок</span><span class="sxs-lookup"><span data-stu-id="f43f9-123">Snapshot</span></span> |<span data-ttu-id="f43f9-124">Отправка (Push)</span><span class="sxs-lookup"><span data-stu-id="f43f9-124">Push</span></span> |<span data-ttu-id="f43f9-125">Создает экспорт отзывов о кампании push-уведомлений с детализацией по идентификаторам устройств или пользователей</span><span class="sxs-lookup"><span data-stu-id="f43f9-125">Generates an export of Push Campaigns feedbacks on a per deviceid/userid basis</span></span> |
| <span data-ttu-id="f43f9-126">Снимок</span><span class="sxs-lookup"><span data-stu-id="f43f9-126">Snapshot</span></span> |<span data-ttu-id="f43f9-127">Тег</span><span class="sxs-lookup"><span data-stu-id="f43f9-127">Tag</span></span> |<span data-ttu-id="f43f9-128">Создает экспорт с тегами (app-info), связанным с каждым устройством</span><span class="sxs-lookup"><span data-stu-id="f43f9-128">Generates an export of the tags (app-info) associated to each devices</span></span> |
| <span data-ttu-id="f43f9-129">Снимок</span><span class="sxs-lookup"><span data-stu-id="f43f9-129">Snapshot</span></span> |<span data-ttu-id="f43f9-130">Устройство</span><span class="sxs-lookup"><span data-stu-id="f43f9-130">Device</span></span> |<span data-ttu-id="f43f9-131">Создает экспорт большинства данных устройств, таких как технические данные (модель, языковой стандарт, часовой пояс и т. д.), теги, время первого появления и т. д.</span><span class="sxs-lookup"><span data-stu-id="f43f9-131">Generates an export of most of the data about devices such as the technicals (model, locale, timezone, ...), the tags, first seen time, ...</span></span> |
| <span data-ttu-id="f43f9-132">Снимок</span><span class="sxs-lookup"><span data-stu-id="f43f9-132">Snapshot</span></span> |<span data-ttu-id="f43f9-133">токен</span><span class="sxs-lookup"><span data-stu-id="f43f9-133">Token</span></span> |<span data-ttu-id="f43f9-134">Создает экспорт всех действительных маркеров</span><span class="sxs-lookup"><span data-stu-id="f43f9-134">Generates an export of all the valid tokens</span></span> |
| <span data-ttu-id="f43f9-135">Архив</span><span class="sxs-lookup"><span data-stu-id="f43f9-135">Historical</span></span> |<span data-ttu-id="f43f9-136">Действие</span><span class="sxs-lookup"><span data-stu-id="f43f9-136">Activity</span></span> |<span data-ttu-id="f43f9-137">Создает экспорт всех действий по каждому устройству за указанный период времени</span><span class="sxs-lookup"><span data-stu-id="f43f9-137">Generates an export of all the activities for each devices on a given time period</span></span> |
| <span data-ttu-id="f43f9-138">Архив</span><span class="sxs-lookup"><span data-stu-id="f43f9-138">Historical</span></span> |<span data-ttu-id="f43f9-139">Событие</span><span class="sxs-lookup"><span data-stu-id="f43f9-139">Event</span></span> |<span data-ttu-id="f43f9-140">Создает экспорт всех действий по каждому устройству за указанный период времени</span><span class="sxs-lookup"><span data-stu-id="f43f9-140">Generates an export of all the activities for each devices on a given time period</span></span> |
| <span data-ttu-id="f43f9-141">Архив</span><span class="sxs-lookup"><span data-stu-id="f43f9-141">Historical</span></span> |<span data-ttu-id="f43f9-142">Job</span><span class="sxs-lookup"><span data-stu-id="f43f9-142">Job</span></span> |<span data-ttu-id="f43f9-143">Создает экспорт всех заданий по каждому устройству за указанный период времени</span><span class="sxs-lookup"><span data-stu-id="f43f9-143">Generates an export of all the jobs for each devices on a given time period</span></span> |
| <span data-ttu-id="f43f9-144">Архив</span><span class="sxs-lookup"><span data-stu-id="f43f9-144">Historical</span></span> |<span data-ttu-id="f43f9-145">Ошибка</span><span class="sxs-lookup"><span data-stu-id="f43f9-145">Error</span></span> |<span data-ttu-id="f43f9-146">Создает экспорт всех ошибок по каждому устройству за указанный период времени</span><span class="sxs-lookup"><span data-stu-id="f43f9-146">Generates an export of all the errors for each devices on a given time period</span></span> |

## <a name="how-does-it-work"></a><span data-ttu-id="f43f9-147">Как это работает?</span><span class="sxs-lookup"><span data-stu-id="f43f9-147">How does it work?</span></span>
<span data-ttu-id="f43f9-148">Экспорт — это долгосрочное задание, в результате которого могут создаваться большие файлы данных.</span><span class="sxs-lookup"><span data-stu-id="f43f9-148">Exports are long running tasks that may produce large data files.</span></span> <span data-ttu-id="f43f9-149">По этой причине он не возвращает файл для загрузки немедленно.</span><span class="sxs-lookup"><span data-stu-id="f43f9-149">For that reason, they cannot be invoked to return immediately a file to download.</span></span>
<span data-ttu-id="f43f9-150">Для экспорта данных из Служб мобильного взаимодействия необходимо создать **задание экспорта** с помощью API, где можно указать следующее:</span><span class="sxs-lookup"><span data-stu-id="f43f9-150">In order to export data from Mobile Engagement, you will have to create an **Export Job** via API where you specify generally:</span></span>

* <span data-ttu-id="f43f9-151">Тип экспорта (снимок или архив).</span><span class="sxs-lookup"><span data-stu-id="f43f9-151">The type of export (snapshot or historical),</span></span>
* <span data-ttu-id="f43f9-152">Тип данных.</span><span class="sxs-lookup"><span data-stu-id="f43f9-152">The data type,</span></span>
* <span data-ttu-id="f43f9-153">**Контейнер хранилища Azure** (включая действительный SAS с доступом для записи), куда будет записан результат экспорта.</span><span class="sxs-lookup"><span data-stu-id="f43f9-153">The **Azure Storage Container** (including a valid SAS with write access) where the result of the export will be written.</span></span>
* <span data-ttu-id="f43f9-154">Пример URL-адреса контейнера: https://[StorageAccountName].blob.core.windows.net/[ContainerName]?[SASWritePermissionsToken]</span><span class="sxs-lookup"><span data-stu-id="f43f9-154">e.g. Example Container URL parameter would be  https://[StorageAccountName].blob.core.windows.net/[ContainerName]?[SASWritePermissionsToken]</span></span>  

<span data-ttu-id="f43f9-155">Ниже приведен пример реального URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="f43f9-155">Here is a real world example.</span></span> <span data-ttu-id="f43f9-156">https://testazmeexport.blob.core.windows.net/test1234azme?sv=2015-12-11&ss=b&srt=sco&sp=rwdlac&se=2016-12-17T04:59:26Z&st=2016-12-16T20:59:26Z&spr=https&sig=KRF3aVWjp2NEJDzjlmoplmu0M9HHlLdkBWRPAFmw90Q%3D</span><span class="sxs-lookup"><span data-stu-id="f43f9-156">https://testazmeexport.blob.core.windows.net/test1234azme?sv=2015-12-11&ss=b&srt=sco&sp=rwdlac&se=2016-12-17T04:59:26Z&st=2016-12-16T20:59:26Z&spr=https&sig=KRF3aVWjp2NEJDzjlmoplmu0M9HHlLdkBWRPAFmw90Q%3D</span></span>

<span data-ttu-id="f43f9-157">Обратите внимание на то, задание может запуститься через несколько минут и выполняться в течение нескольких секунд для маленьких приложений или нескольких часов для приложений с большим числом пользователей или действий.</span><span class="sxs-lookup"><span data-stu-id="f43f9-157">Please note that it may take a few minutes for your job to be started, and then it may run from a few seconds for tiny apps to several hours for apps with a lot of users or activity.</span></span>

<span data-ttu-id="f43f9-158">После того как задание будет создано, вы сможете проверить его состояние и узнать, выполняется оно или уже завершено.</span><span class="sxs-lookup"><span data-stu-id="f43f9-158">Once the job is created, it is possible to check its status to see if it is still running or if it has completed.</span></span>

<span data-ttu-id="f43f9-159">После УСПЕШНОГО выполнения задания полученный файл данных будет доступен в указанном контейнере хранилища.</span><span class="sxs-lookup"><span data-stu-id="f43f9-159">Once the job is SUCCEEDED, the resulting data file is available on the provided storage container.</span></span>

