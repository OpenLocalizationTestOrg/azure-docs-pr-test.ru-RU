---
title: "Общие сведения об API экспорта Служб мобильного взаимодействия"
description: "Основные сведения об экспорте необработанных данных, создаваемых устройствами вашего пользователя, для использования в ваших собственных средствах."
services: mobile-engagement
documentationcenter: mobile
author: kpiteira
manager: erikre
editor: 
ms.assetid: 9380d47b-d7fa-4d4c-888f-97e6482196bb
ms.service: mobile-engagement
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: mobile-multiple
ms.workload: mobile
ms.date: 04/26/2016
ms.author: kapiteir
ms.openlocfilehash: 346e0e480ff84ee849f135a7605d27df9e32f966
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="mobile-engagement-export-api-overview"></a>Общие сведения об API экспорта Служб мобильного взаимодействия
## <a name="introduction"></a>Введение
В этом документе представлены основные сведения об экспорте необработанных данных, создаваемых устройствами вашего пользователя, для использования в ваших собственных средствах.

## <a name="pre-requisites"></a>Предварительные требования
Для экспорта необработанных данных из Служб мобильного взаимодействия требуется следующее:

* Настройка проверки подлинности API для использования API (см. статью о [настройке проверки подлинности вручную](mobile-engagement-api-authentication-manual.md)).
* Использование API REST или [пакета SDK для .NET](mobile-engagement-dotnet-sdk-service-api.md).
* Учетная запись хранения Azure.

> [!NOTE]
> Мы также рекомендуем отличную [службу хранилища Microsoft Azure](http://storageexplorer.com/)(по крайней мере на этапе разработки), поскольку она предоставляет удобный интерфейс для взаимодействия с хранилищем Azure.
> 
> 

## <a name="what-can-be-exported"></a>Что можно экспортировать?
Службы мобильного взаимодействия позволяют своим пользователям собирать множество типов данных, в связи с чем включают несколько видов экспорта, соответствующих различным типам данных.
Основных типов экспорта два:

* Снимок: как правило, используется для экспорта данных, которые представляют состояние и по которым в Службах мобильного взаимодействия нет журнала. Сюда входят, например, теги (app-info), маркеры и отзывы по кампании push-уведомлений. Как следствие, эти типы экспорта не связаны с датой.
* Архив: этот тип экспорта используется для данных, которые накапливаются со временем, таких как события или действия.

В следующей таблице представлены все возможные виды экспорта.

| Тип экспорта | Тип данных | Описание |
| --- | --- | --- |
| Снимок |Отправка (Push) |Создает экспорт отзывов о кампании push-уведомлений с детализацией по идентификаторам устройств или пользователей |
| Снимок |Тег |Создает экспорт с тегами (app-info), связанным с каждым устройством |
| Снимок |Устройство |Создает экспорт большинства данных устройств, таких как технические данные (модель, языковой стандарт, часовой пояс и т. д.), теги, время первого появления и т. д. |
| Снимок |токен |Создает экспорт всех действительных маркеров |
| Архив |Действие |Создает экспорт всех действий по каждому устройству за указанный период времени |
| Архив |Событие |Создает экспорт всех действий по каждому устройству за указанный период времени |
| Архив |Job |Создает экспорт всех заданий по каждому устройству за указанный период времени |
| Архив |Ошибка |Создает экспорт всех ошибок по каждому устройству за указанный период времени |

## <a name="how-does-it-work"></a>Как это работает?
Экспорт — это долгосрочное задание, в результате которого могут создаваться большие файлы данных. По этой причине он не возвращает файл для загрузки немедленно.
Для экспорта данных из Служб мобильного взаимодействия необходимо создать **задание экспорта** с помощью API, где можно указать следующее:

* Тип экспорта (снимок или архив).
* Тип данных.
* **Контейнер хранилища Azure** (включая действительный SAS с доступом для записи), куда будет записан результат экспорта.
* Пример URL-адреса контейнера: https://[StorageAccountName].blob.core.windows.net/[ContainerName]?[SASWritePermissionsToken]  

Ниже приведен пример реального URL-адреса. https://testazmeexport.blob.core.windows.net/test1234azme?sv=2015-12-11&ss=b&srt=sco&sp=rwdlac&se=2016-12-17T04:59:26Z&st=2016-12-16T20:59:26Z&spr=https&sig=KRF3aVWjp2NEJDzjlmoplmu0M9HHlLdkBWRPAFmw90Q%3D

Обратите внимание на то, задание может запуститься через несколько минут и выполняться в течение нескольких секунд для маленьких приложений или нескольких часов для приложений с большим числом пользователей или действий.

После того как задание будет создано, вы сможете проверить его состояние и узнать, выполняется оно или уже завершено.

После УСПЕШНОГО выполнения задания полученный файл данных будет доступен в указанном контейнере хранилища.

