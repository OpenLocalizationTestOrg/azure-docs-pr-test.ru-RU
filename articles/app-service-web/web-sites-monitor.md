---
title: "aaaMonitor приложений в службе приложений Azure | Документы Microsoft"
description: "Узнайте, как в службе приложений Azure с помощью приложения toomonitor hello портала Azure."
services: app-service
documentationcenter: 
author: btardif
manager: erikre
editor: 
ms.assetid: d273da4e-07de-48e0-b99d-4020d84a425e
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: byvinyal
ms.openlocfilehash: 80d5a466102a894a49d04ae35aa54cc1d05a58df
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-to-monitor-apps-in-azure-app-service"></a>Мониторинг приложений в службе приложений Azure
[Службы приложений](http://go.microsoft.com/fwlink/?LinkId=529714) предоставляет встроенные функциональные возможности наблюдения в hello [портала Azure](https://portal.azure.com).
Сюда входит возможность tooreview hello **квоты** и **метрики** для приложения, а также hello план служб приложений, Настройка **оповещения** и даже **масштабирование** автоматически на основании этих показателей.

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="understanding-quotas-and-metrics"></a>Общие сведения о квотах и метриках
### <a name="quotas"></a>Квоты
Приложения, размещенные в службе приложений являются toocertain субъекта *ограничения* с ресурсами, они могут использовать. Hello ограничения определяются hello **план служб приложений** связанные с приложением hello.

Если приложение hello находится в **Free** или **Shared** плана, а затем определяются hello ограничения на ресурсы hello, можно использовать приложение hello **квоты**.

Приложение hello размещается в **основные**, **Стандартная** или **Premium** планирования, hello ограничения на ресурсы hello, они могут использовать задаются по hello **размер** (Небольшой, средний, большой) и **число экземпляров** (1, 2, 3,...) из hello **план служб приложений**.

Для приложений, работающих в режиме плана **Бесплатный** или **Общий**, предоставляются следующие **квоты**.

* **CPU (Short)**
  * Объем ресурсов ЦП, которые может потребить приложение в течение 5 минут. Эта квота повторно назначается каждые 5 минут.
* **CPU (Day)**
  * объем ресурсов ЦП, которые может потребить приложение в течение одного дня. Эта квота повторно назначается каждые 24 часа в полночь (в формате UTC);
* **Память**
  * объем ресурсов ЦП, которые может потребить приложение;
* **Пропускная способность**
  * объем исходящей пропускной способности, который может использовать приложение в течение одного дня.
    Эта квота повторно назначается каждые 24 часа в полночь (в формате UTC);
* **Filesystem**
  * общий объем доступного пространства для хранения.

Здравствуйте только квоту применимо tooapps размещенных на **основные**, **Стандартная** и **Premium** планы — **файловой системы**.

Дополнительные сведения об особых квот hello, ограничения и возможности, доступные для различных конфигураций службы приложения hello можно найти здесь: [ограничения служб подписки Azure](../azure-subscription-service-limits.md#app-service-limits)

#### <a name="quota-enforcement"></a>Принудительное применение квот
Если приложение в их использование превышает hello **ЦП (short)**, **ЦП (день)**, или **пропускной способности** квоты, а затем hello приложения будет остановлена, пока не будет повторно задает квоты hello. В течение этого времени все входящие запросы будут завершаться с ошибкой **HTTP 403**.
![][http403]

Если приложение hello **памяти** превышена квота, то приложение hello будет перезапущен.

Если hello **Filesystem** превышении квоты, а затем любые записи, операция завершится ошибкой, это относится и к записи toologs.

Квоту на использование можно увеличить или удалить из приложения путем изменения плана службы приложений.

### <a name="metrics"></a>Метрики
**Метрики** предоставляют сведения о приложение hello или поведение план служб приложений.

Для **приложения**, доступные метрики hello:

* **Среднее время ответа**
  * Hello среднее время, затраченное для запросов tooserve приложения hello в мс.
* **средний размер рабочего набора памяти;**
  * Средний объем памяти в используемых приложение hello базы MIB Hello.
* **Время ЦП**
  * Hello объем ресурсов ЦП в секундах, затраченное приложение hello. Дополнительные сведения об этих метриках см. в документации по [времени и проценте использования ЦП](#cpu-time-vs-cpu-percentage);
* **Входящие данные**
  * Hello объем входящей пропускной способности, используемой приложением hello в базы MIB.
* **Выходные данные**
  * объем исходящих пропускной способностью, используемой приложение hello в базы MIB Hello.
* **HTTP 2xx**
  * Количество запросов, для которых возвращается ошибка HTTP с кодом состояния больше (равно) 200, но меньше 300.
* **HTTP 3xx**
  * количество запросов, для которых возвращается ошибка HTTP с кодом состояния больше (равно) 300, но меньше 400;
* **HTTP 401**
  * количество запросов, для которых возвращается ошибка HTTP с кодом состояния 401;
* **Http 403**
  * количество запросов, для которых возвращается ошибка HTTP с кодом состояния 403;
* **HTTP 404**
  * количество запросов, для которых возвращается ошибка HTTP с кодом состояния 404;
* **HTTP 406**
  * количество запросов, для которых возвращается ошибка HTTP с кодом состояния 406;
* **HTTP 4xx**
  * количество запросов, для которых возвращается ошибка HTTP с кодом состояния больше (равно) 400, но меньше 500;
* **Ошибки HTTP-сервера**
  * количество запросов, для которых возвращается ошибка HTTP с кодом состояния больше (равно) 500, но меньше 600;
* **рабочий набор памяти;**
  * Текущий объем памяти, используемой приложением hello в базы MIB.
* **Requests (Запросы)**
  * общее количество запросов, для которых возвращается ошибка HTTP (независимо от кода состояния).

Для **план служб приложений**, доступные метрики hello:

> [!NOTE]
> Метрики плана службы приложений поддерживаются только для планов **Базовый**, **Стандартный** и **Премиум**.
> 
> 

* **Процент использования ЦП**
  * Hello средняя загрузка ЦП для всех экземпляров плана hello.
* **Процент использования памяти**
  * Hello средний объем использованной памяти для всех экземпляров плана hello.
* **Входящие данные**
  * Hello среднее входящей пропускной способности, используемой для всех экземпляров плана hello.
* **Выходные данные**
  * Среднее Hello исходящей пропускной способности, используемой для всех экземпляров плана hello.
* **Длина дисковой очереди**
  * Hello среднее время чтения и записи в хранилище запросов, которые были поставлены в очередь. Длина очереди диска высокого уровня, это свидетельствует приложение, которое может снижения производительности из-за tooexcessive дискового ввода-вывода.
* **Длина очереди HTTP**
  * Среднее количество HTTP-запросов, в которых использовался toosit очередь hello, прежде чем будет выполнен Hello. Большая или увеличивающая длина очереди HTTP является признаком интенсивной нагрузки плана.

### <a name="cpu-time-vs-cpu-percentage"></a>Время и процент использования ЦП
<!-- toodo: Fix Anchor (#CPU-time-vs.-CPU-percentage) -->

Существуют 2 метрики, которые отражают использование ЦП: **Время ЦП** и **Процент ЦП**.

**Время ЦП** полезна для приложений, размещенных в **Free** или **Shared** планов, так как один из их квоты указывается в минутах ЦП, используемых приложение hello.

**Процент использования ЦП** на hello другой стороны полезна для приложений, размещенных в **основные**, **Стандартная** и **premium** планов, так как они могут быть масштабированы и эта метрика является хорошее представление о hello общее использование для всех экземпляров.

## <a name="metrics-granularity-and-retention-policy"></a>Степень детализации метрик и политика их хранения
Метрики для плана службы приложений и приложений в журнал и статистически обрабатываются службой hello с hello детализации и политики хранения:

* Метрики со степенью детализации до **минут** хранятся **48 часов**.
* Метрики со степенью детализации до **часов** хранятся **30 дней**.
* Метрики со степенью детализации до **дней** хранятся **90 дней**.

## <a name="monitoring-quotas-and-metrics-in-hello-azure-portal"></a>Мониторинг квоты и параметры в hello портала Azure.
Можно просмотреть состояние различных hello hello **квоты** и **метрики** влияет на приложения в hello [портала Azure](https://portal.azure.com).

Чтобы просмотреть сведения о ![][quotas]
**квотах**, выберите "Параметры" > **Квоты**. Hello UX позволяет просмотреть: имя квоты hello (1), (2) его интервал сброса, (3) его текущее ограничение и (4) текущее значение.

![][metrics]
**Метрики** может получать доступ непосредственно из колонки ресурсов hello. Можно также настроить hello диаграмма по: (1) **щелкните** на его, а затем выберите (2) **изменение диаграммы**.
Здесь можно изменить hello (3) **временной диапазон**, (4) **тип диаграммы**и (5) **метрики** toodisplay.  

Дополнительные сведения о метриках см. в статье [Обзор метрик в Microsoft Azure](../monitoring-and-diagnostics/insights-how-to-customize-monitoring.md).

## <a name="alerts-and-autoscale"></a>Оповещения и автомасштабирование
Метрики плана приложения или службы, приложения могут вызываться tooalerts toolearn Подробнее об этом, в разделе [получать уведомления об оповещениях](../monitoring-and-diagnostics/insights-receive-alert-notifications.md)

Приложения службы приложений, настроенные для работы в режиме плана "Базовый", "Стандартный" и "Премиум", поддерживают возможность **автомасштабирования**. Это позволяет вам tooconfigure правила, отслеживать метрики плана служб приложений и можно увеличить или уменьшить число экземпляров hello, предоставляя дополнительные ресурсы при необходимости или сохранение money когда приложение hello избыточной подготовки. Дополнительные сведения о Автомасштабирование здесь: [как tooScale](../monitoring-and-diagnostics/insights-how-to-scale.md) и здесь [советы и рекомендации для автоматического масштабирования Azure монитора](../monitoring-and-diagnostics/insights-autoscale-best-practices.md)

> [!NOTE]
> Tooget работы в службе приложений Azure перед регистрацией учетную запись Azure, перейдите слишком[повторите служб приложений](https://azure.microsoft.com/try/app-service/), в котором можно немедленно создать кратковременных начальный веб-приложения в службе приложений. Никаких кредитных карт и обязательств.
> 
> 

## <a name="whats-changed"></a>Изменения
* Toohello руководство изменений из tooApp веб-сайтов службы. в разделе: [службе приложений Azure и ее влияние на существующие службы Azure](http://go.microsoft.com/fwlink/?LinkId=529714)

[fzilla]:http://go.microsoft.com/fwlink/?LinkId=247914
[vmsizes]:http://go.microsoft.com/fwlink/?LinkID=309169



<!-- Images. -->
[http403]: ./media/web-sites-monitor/http403.png
[quotas]: ./media/web-sites-monitor/quotas.png
[metrics]: ./media/web-sites-monitor/metrics.png
