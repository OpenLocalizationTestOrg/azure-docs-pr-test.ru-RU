---
title: "aaaTroubleshoot веб-приложения в службе приложений Azure с помощью Visual Studio"
description: "Узнайте, как tootroubleshoot Azure веб-приложение с помощью удаленной отладки, трассировки и ведения журнала средств, встроенных в tooVisual Studio 2013."
services: app-service
documentationcenter: .net
author: tdykstra
manager: erikre
editor: 
ms.assetid: def8e481-7803-4371-aa55-64025d116c97
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 08/29/2016
ms.author: rachelap
ms.openlocfilehash: 8e3a8a58293f2ebcdc131fbf2534f8ff99b26730
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-a-web-app-in-azure-app-service-using-visual-studio"></a><span data-ttu-id="fa5ae-103">Устранение неполадок веб-приложения в службе приложений Azure с помощью Visual Studio</span><span class="sxs-lookup"><span data-stu-id="fa5ae-103">Troubleshoot a web app in Azure App Service using Visual Studio</span></span>
## <a name="overview"></a><span data-ttu-id="fa5ae-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="fa5ae-104">Overview</span></span>
<span data-ttu-id="fa5ae-105">В этом учебнике показано, как toouse набор средств Visual Studio, помогающих отладку веб-приложения в [службы приложений](http://go.microsoft.com/fwlink/?LinkId=529714), выполнив в [режим отладки](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) удаленно или просмотрев журналы приложений и журналы веб-сервера.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-105">This tutorial shows how toouse Visual Studio tools that help debug a web app in [App Service](http://go.microsoft.com/fwlink/?LinkId=529714), by running in [debug mode](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) remotely or by viewing application logs and web server logs.</span></span>

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

<span data-ttu-id="fa5ae-106">Вы узнаете:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-106">You'll learn:</span></span>

* <span data-ttu-id="fa5ae-107">Какие функции управления веб-приложением Azure доступны в среде Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-107">Which Azure web app management functions are available in Visual Studio.</span></span>
* <span data-ttu-id="fa5ae-108">Удаленное toouse Visual Studio, как просмотреть toomake быстрые изменения в удаленный веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-108">How toouse Visual Studio remote view toomake quick changes in a remote web app.</span></span>
* <span data-ttu-id="fa5ae-109">Как режим отладки toorun удаленно при проекта выполняется в Azure, для веб-приложения и веб-задания.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-109">How toorun debug mode remotely while a project is running in Azure, both for a web app and for a WebJob.</span></span>
* <span data-ttu-id="fa5ae-110">Как приложение toocreate журналы трассировки и просматривать их во время их создания приложения hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-110">How toocreate application trace logs and view them while hello application is creating them.</span></span>
* <span data-ttu-id="fa5ae-111">Как tooview журналы веб-сервера, включая подробные сообщения об ошибках и трассировка сбоев запросов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-111">How tooview web server logs, including detailed error messages and failed request tracing.</span></span>
* <span data-ttu-id="fa5ae-112">Как toosend диагностики журналы учетной записи хранилища Azure tooan и их просмотра.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-112">How toosend diagnostic logs tooan Azure Storage account and view them there.</span></span>

<span data-ttu-id="fa5ae-113">Если у вас установлена Visual Studio Ultimate, вы также можете использовать [IntelliTrace](http://msdn.microsoft.com/library/vstudio/dd264915.aspx) для отладки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-113">If you have Visual Studio Ultimate, you can also use [IntelliTrace](http://msdn.microsoft.com/library/vstudio/dd264915.aspx) for debugging.</span></span> <span data-ttu-id="fa5ae-114">Использование IntelliTrace не рассматривается в этом учебнике.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-114">IntelliTrace is not covered in this tutorial.</span></span>

## <span data-ttu-id="fa5ae-115"><a name="prerequisites"></a>Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="fa5ae-115"><a name="prerequisites"></a>Prerequisites</span></span>
<span data-ttu-id="fa5ae-116">Этот учебник работает с hello среды разработки, веб-проекта и веб-приложение Azure, в [приступить к работе с Azure и ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fa5ae-116">This tutorial works with hello development environment, web project, and Azure web app that you set up in [Get started with Azure and ASP.NET][GetStarted].</span></span> <span data-ttu-id="fa5ae-117">Для разделов веб-заданий hello, вам потребуется в создаваемое приложение hello [Приступая к работе с веб-заданий Azure SDK hello][GetStartedWJ].</span><span class="sxs-lookup"><span data-stu-id="fa5ae-117">For hello WebJobs sections, you'll need hello application that you create in [Get Started with hello Azure WebJobs SDK][GetStartedWJ].</span></span>

<span data-ttu-id="fa5ae-118">Код Hello в примерах в этом учебнике используется для веб-приложение MVC на C#, но hello процедуры устранения неполадок hello же для приложений Visual Basic и веб-форм.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-118">hello code samples shown in this tutorial are for a C# MVC web application, but hello troubleshooting procedures are hello same for Visual Basic and Web Forms applications.</span></span>

<span data-ttu-id="fa5ae-119">Hello учебнике предполагается, что вы используете Visual Studio 2015 или 2013.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-119">hello tutorial assumes you're using Visual Studio 2015 or 2013.</span></span> <span data-ttu-id="fa5ae-120">Если вы используете Visual Studio 2013, функции веб-заданий hello требуют [обновление 4](http://go.microsoft.com/fwlink/?LinkID=510314) или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-120">If you're using Visual Studio 2013, hello WebJobs features require [Update 4](http://go.microsoft.com/fwlink/?LinkID=510314) or later.</span></span>

<span data-ttu-id="fa5ae-121">журналы потоковой передачи Hello функция работает только для приложений, предназначенных для .NET Framework 4 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-121">hello streaming logs feature only works for applications that target .NET Framework 4 or later.</span></span>

## <span data-ttu-id="fa5ae-122"><a name="sitemanagement"></a>Настройка веб-приложения и управление им</span><span class="sxs-lookup"><span data-stu-id="fa5ae-122"><a name="sitemanagement"></a>Web app configuration and management</span></span>
<span data-ttu-id="fa5ae-123">Visual Studio предоставляет доступ tooa подмножество функций управления hello web app и параметры конфигурации, доступные в hello [портала Azure](http://go.microsoft.com/fwlink/?LinkId=529715).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-123">Visual Studio provides access tooa subset of hello web app management functions and configuration settings available in hello [Azure Portal](http://go.microsoft.com/fwlink/?LinkId=529715).</span></span> <span data-ttu-id="fa5ae-124">В этом разделе вы узнаете, какие функции доступны, с помощью **Обозревателя серверов**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-124">In this section you'll see what's available by using **Server Explorer**.</span></span> <span data-ttu-id="fa5ae-125">Испытайте компонентам toosee hello последней версии Azure интеграции, **Cloud Explorer** также.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-125">toosee hello latest Azure integration features, try out **Cloud Explorer** also.</span></span> <span data-ttu-id="fa5ae-126">В обоих окнах можно открыть из hello **представление** меню.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-126">You can open both windows from hello **View** menu.</span></span>

1. <span data-ttu-id="fa5ae-127">Если вы еще не выполнили в tooAzure в Visual Studio, щелкните hello **подключения tooAzure** кнопку в **обозревателя серверов**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-127">If you aren't already signed in tooAzure in Visual Studio, click hello **Connect tooAzure** button in **Server Explorer**.</span></span>

    <span data-ttu-id="fa5ae-128">Альтернативой является tooinstall сертификат управления, что позволяет получить доступ к учетной записи tooyour.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-128">An alternative is tooinstall a management certificate that enables access tooyour account.</span></span> <span data-ttu-id="fa5ae-129">При выборе tooinstall сертификат, щелкните правой кнопкой мыши hello **Azure** узел в **обозревателя серверов**и нажмите кнопку **управление подписками и их фильтрация** в контекстном меню hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-129">If you choose tooinstall a certificate, right-click hello **Azure** node in **Server Explorer**, and then click **Manage and Filter Subscriptions** in hello context menu.</span></span> <span data-ttu-id="fa5ae-130">В hello **управление подписками Azure** диалоговое окно, нажмите кнопку hello **сертификаты** , а затем щелкните **импорта**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-130">In hello **Manage Azure Subscriptions** dialog box, click hello **Certificates** tab, and then click **Import**.</span></span> <span data-ttu-id="fa5ae-131">Следуйте инструкциям toodownload hello, а затем импортировать файл подписки (также называемый *.publishsettings* файл) для учетной записи Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-131">Follow hello directions toodownload and then import a subscription file (also called a *.publishsettings* file) for your Azure account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="fa5ae-132">Если загружать файл подписки, сохраните его в папку tooa за пределами исходных каталогов код (например, в папке загрузки hello) и затем удалите его после завершения операции импорта hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-132">If you download a subscription file, save it tooa folder outside your source code directories (for example, in hello Downloads folder), and then delete it once hello import has completed.</span></span> <span data-ttu-id="fa5ae-133">Злоумышленник, получивший доступ файл подписки toohello можно изменять, создавать и удалять служб Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-133">A malicious user who gains access toohello subscription file can edit, create, and delete your Azure services.</span></span>
   >
   >

    <span data-ttu-id="fa5ae-134">Дополнительные сведения о подключении tooAzure ресурсы из Visual Studio см. в разделе [управление учетными записями, подписками и ролями администрирования](http://go.microsoft.com/fwlink/?LinkId=324796#BKMK_AccountVCert).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-134">For more information about connecting tooAzure resources from Visual Studio, see [Manage Accounts, Subscriptions, and Administrative Roles](http://go.microsoft.com/fwlink/?LinkId=324796#BKMK_AccountVCert).</span></span>
2. <span data-ttu-id="fa5ae-135">В **обозревателе сервера** разверните узел **Azure**, а затем — узел **Служба приложений**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-135">In **Server Explorer**, expand **Azure** and expand **App Service**.</span></span>
3. <span data-ttu-id="fa5ae-136">Разверните группу ресурсов hello, включающий hello веб-приложения, созданный в [Приступая к работе с Azure и ASP.NET][GetStarted], щелкните правой кнопкой мыши узел приложения hello web и нажмите кнопку **параметры представления**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-136">Expand hello resource group that includes hello web app that you created in [Getting started with Azure and ASP.NET][GetStarted], and then right-click hello web app node and click **View Settings**.</span></span>

    ![Просмотр параметров в обозревателе сервера](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-viewsettings.png)

    <span data-ttu-id="fa5ae-138">Hello **веб-приложения Azure** откроется вкладка, и вы увидите, что hello веб-приложение управление и настройку задачи, доступные в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-138">hello **Azure Web App** tab appears, and you can see there hello web app management and configuration tasks that are available in Visual Studio.</span></span>

    ![Окно веб-приложений Azure](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-configtab.png)

    <span data-ttu-id="fa5ae-140">В этом учебнике вы будете использовать hello ведения журнала и трассировки раскрывающимися списками.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-140">In this tutorial you'll be using hello logging and tracing drop-downs.</span></span> <span data-ttu-id="fa5ae-141">Вы также будете использовать удаленную отладку, однако используется другой метод tooenable его.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-141">You'll also use remote debugging but you'll use a different method tooenable it.</span></span>

    <span data-ttu-id="fa5ae-142">Сведения о полях hello параметров приложения и строки подключения в этом окне содержатся [веб-приложения Azure: как строки приложения и строк соединения работает](http://blogs.msdn.com/b/windowsazure/archive/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-142">For information about hello App Settings and Connection Strings boxes in this window, see [Azure Web Apps: How Application Strings and Connection Strings Work](http://blogs.msdn.com/b/windowsazure/archive/2013/07/17/windows-azure-web-sites-how-application-strings-and-connection-strings-work.aspx).</span></span>

    <span data-ttu-id="fa5ae-143">Если tooperform веб-приложения управления задачи, не может выполняться в этом окне, щелкните **открыть на портале управления** tooopen toohello окна браузера портал Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-143">If you want tooperform a web app management task that can't be done in this window, click **Open in Management Portal** tooopen a browser window toohello Azure portal.</span></span>

## <span data-ttu-id="fa5ae-144"><a name="remoteview"></a>Доступ к файлам веб-сайта в обозревателе серверов</span><span class="sxs-lookup"><span data-stu-id="fa5ae-144"><a name="remoteview"></a>Access web app files in Server Explorer</span></span>
<span data-ttu-id="fa5ae-145">Развертывание обычно выполняется веб-проекта с hello `customErrors` флаг в hello набора файлов Web.config, слишком`On` или `RemoteOnly`, означающее, что не получить сообщение полезные ошибки, если что-то пойдет не так.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-145">You typically deploy a web project with hello `customErrors` flag in hello Web.config file set too`On` or `RemoteOnly`, which means you don't get a helpful error message when something goes wrong.</span></span> <span data-ttu-id="fa5ae-146">В результате множества ошибок вы получаете всего страницу как один из следующих областей hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-146">For many errors all you get is a page like one of hello following ones.</span></span>

<span data-ttu-id="fa5ae-147">**Ошибка сервера в приложении "/":**</span><span class="sxs-lookup"><span data-stu-id="fa5ae-147">**Server Error in '/' Application:**</span></span>

![Неинформативная страница ошибки](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror.png)

<span data-ttu-id="fa5ae-149">**Произошла ошибка:**</span><span class="sxs-lookup"><span data-stu-id="fa5ae-149">**An error occurred:**</span></span>

![Неинформативная страница ошибки](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror1.png)

<span data-ttu-id="fa5ae-151">**Hello веб-сайта не удается отобразить страницу приветствия**</span><span class="sxs-lookup"><span data-stu-id="fa5ae-151">**hello website cannot display hello page**</span></span>

![Неинформативная страница ошибки](./media/web-sites-dotnet-troubleshoot-visual-studio/genericerror2.png)

<span data-ttu-id="fa5ae-153">Часто hello простым способом toofind hello причина возникновения ошибки hello — tooenable подробные сообщения об ошибках, которые Здравствуйте, первая из предыдущих снимках экрана приветствия объясняется, как toodo.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-153">Frequently hello easiest way toofind hello cause of hello error is tooenable detailed error messages, which hello first of hello preceding screenshots explains how toodo.</span></span> <span data-ttu-id="fa5ae-154">Что необходимо изменение hello развернутом файле Web.config.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-154">That requires a change in hello deployed Web.config file.</span></span> <span data-ttu-id="fa5ae-155">Можно изменить hello *Web.config* файла в проект hello и повторного развертывания hello проект или создайте [преобразование файла Web.config](http://www.asp.net/mvc/tutorials/deployment/visual-studio-web-deployment/web-config-transformations) и развернуть отладочную сборку, но есть более быстрый способ: в **решения Обозреватель** можно непосредственно просматривать и редактировать файлы в hello удаленного веб-приложения с помощью hello *удаленное представление* компонентов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-155">You could edit hello *Web.config* file in hello project and redeploy hello project, or create a [Web.config transform](http://www.asp.net/mvc/tutorials/deployment/visual-studio-web-deployment/web-config-transformations) and deploy a debug build, but there's a quicker way: in **Solution Explorer** you can directly view and edit files in hello remote web app by using hello *remote view* feature.</span></span>

1. <span data-ttu-id="fa5ae-156">В **обозревателя серверов**, разверните **Azure**, разверните **службы приложений**, разверните группу ресурсов hello, расположенном в веб-приложения, а затем раскройте узел hello веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-156">In **Server Explorer**, expand **Azure**, expand **App Service**, expand hello resource group that your web app is located in, and then expand hello node for your web app.</span></span>

    <span data-ttu-id="fa5ae-157">Отобразятся узлы, которые обеспечивают доступ toohello веб-приложения содержимого файлов и файлов журналов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-157">You see nodes that give you access toohello web app's content files and log files.</span></span>
2. <span data-ttu-id="fa5ae-158">Разверните hello **файлы** узел и дважды щелкните hello *Web.config* файла.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-158">Expand hello **Files** node, and double-click hello *Web.config* file.</span></span>

    ![Открытие файла Web.config](./media/web-sites-dotnet-troubleshoot-visual-studio/webconfig.png)

    <span data-ttu-id="fa5ae-160">Visual Studio открывает файл Web.config hello из удаленного веб-приложения hello и показывает [удаленного] следующего имени файла toohello в строке заголовка hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-160">Visual Studio opens hello Web.config file from hello remote web app and shows [Remote] next toohello file name in hello title bar.</span></span>
3. <span data-ttu-id="fa5ae-161">Добавьте следующие строки toohello hello `system.web` элемента:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-161">Add hello following line toohello `system.web` element:</span></span>

    `<customErrors mode="Off"></customErrors>`

    ![Изменение файла Web.config](./media/web-sites-dotnet-troubleshoot-visual-studio/webconfigedit.png)
4. <span data-ttu-id="fa5ae-163">Обновите hello браузера, которое отображает hello бесполезных сообщение и теперь получить подробное сообщение об ошибке, например, следующий пример hello:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-163">Refresh hello browser that is showing hello unhelpful error message, and now you get a detailed error message, such as hello following example:</span></span>

    ![Подробные сведение об ошибке](./media/web-sites-dotnet-troubleshoot-visual-studio/detailederror.png)

    <span data-ttu-id="fa5ae-165">(ошибка hello показано был создан, добавив строку hello показаны красным цветом слишком*Views\Home\Index.cshtml*.)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-165">(hello error shown was created by adding hello line shown in red too*Views\Home\Index.cshtml*.)</span></span>

<span data-ttu-id="fa5ae-166">Редактирование файла Web.config hello является только одним из примеров сценариев, в которых возможность hello tooread и изменения файлов на ваш веб-приложение Azure упростить разрешение вопросов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-166">Editing hello Web.config file is only one example of scenarios in which hello ability tooread and edit files on your Azure web app make troubleshooting easier.</span></span>

## <span data-ttu-id="fa5ae-167"><a name="remotedebug"></a>Удаленная отладка веб-приложений</span><span class="sxs-lookup"><span data-stu-id="fa5ae-167"><a name="remotedebug"></a>Remote debugging web apps</span></span>
<span data-ttu-id="fa5ae-168">Если hello подробное сообщение об ошибке не предоставляет достаточно сведений, а не удалось повторно создать hello ошибки локально, удаленно tootroubleshoot другой способ — toorun в режиме отладки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-168">If hello detailed error message doesn't provide enough information, and you can't re-create hello error locally, another way tootroubleshoot is toorun in debug mode remotely.</span></span> <span data-ttu-id="fa5ae-169">Можно установить точки останова, напрямую управлять памяти, пошагового выполнения кода и даже изменить путь кода hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-169">You can set breakpoints, manipulate memory directly, step through code, and even change hello code path.</span></span>

<span data-ttu-id="fa5ae-170">Удаленная отладка не поддерживается в выпусках Visual Studio Express.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-170">Remote debugging does not work in Express editions of Visual Studio.</span></span>

<span data-ttu-id="fa5ae-171">В этом разделе показано, как toodebug удаленно с помощью hello проекта можно создать в [Приступая к работе с Azure и ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fa5ae-171">This section shows how toodebug remotely using hello project you create in [Getting started with Azure and ASP.NET][GetStarted].</span></span>

1. <span data-ttu-id="fa5ae-172">Привет открыть веб-проект, созданный в [Приступая к работе с Azure и ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fa5ae-172">Open hello web project that you created in [Getting started with Azure and ASP.NET][GetStarted].</span></span>
2. <span data-ttu-id="fa5ae-173">Откройте файл *Controllers\HomeController.cs*.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-173">Open *Controllers\HomeController.cs*.</span></span>
3. <span data-ttu-id="fa5ae-174">Удалить hello `About()` метод и следующие hello вставки кода на его месте.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-174">Delete hello `About()` method and insert hello following code in its place.</span></span>

        public ActionResult About()
        {
            string currentTime = DateTime.Now.ToLongTimeString();
            ViewBag.Message = "hello current time is " + currentTime;
            return View();
        }
4. <span data-ttu-id="fa5ae-175">[Установите точку останова](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) на hello `ViewBag.Message` строки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-175">[Set a breakpoint](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) on hello `ViewBag.Message` line.</span></span>
5. <span data-ttu-id="fa5ae-176">В **обозревателе решений**, щелкните правой кнопкой мыши проект hello и нажмите кнопку **публикации**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-176">In **Solution Explorer**, right-click hello project, and click **Publish**.</span></span>
6. <span data-ttu-id="fa5ae-177">В hello **профиль** раскрывающегося списка, выберите hello же профиль, который используется в [Приступая к работе с Azure и ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fa5ae-177">In hello **Profile** drop-down list, select hello same profile that you used in [Getting started with Azure and ASP.NET][GetStarted].</span></span>
7. <span data-ttu-id="fa5ae-178">Щелкните hello **параметры** вкладку и измените **конфигурации** слишком**отладки**, а затем нажмите кнопку **публикации**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-178">Click hello **Settings** tab, and change **Configuration** too**Debug**, and then click **Publish**.</span></span>

    ![Публикация в режиме отладки](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-publishdebug.png)
8. <span data-ttu-id="fa5ae-180">После развертывания закончится и в браузере открывается toohello URL-адрес веб-приложения браузера закрыть hello Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-180">After deployment finishes and your browser opens toohello Azure URL of your web app, close hello browser.</span></span>
9. <span data-ttu-id="fa5ae-181">В **обозревателе сервера** щелкните правой кнопкой мыши веб-приложение и выберите **Подключить отладчик**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-181">In **Server Explorer**, right-click your web app, and then click **Attach Debugger**.</span></span>

    ![Подключить отладчик](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-attachdebugger.png)

    <span data-ttu-id="fa5ae-183">Домашняя страница tooyour, работающие в Azure автоматически откроется в браузере Hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-183">hello browser automatically opens tooyour home page running in Azure.</span></span> <span data-ttu-id="fa5ae-184">Может иметь toowait 20 секунд или поэтому когда Azure устанавливает сервер hello для отладки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-184">You might have toowait 20 seconds or so while Azure sets up hello server for debugging.</span></span> <span data-ttu-id="fa5ae-185">Эта задержка происходит только hello первый раз при запуске в режиме отладки на веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-185">This delay only happens hello first time you run in debug mode on a web app.</span></span> <span data-ttu-id="fa5ae-186">В следующий раз в пределах hello следующих 48 часов, при запуске отладки снова будет задержки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-186">Subsequent times within hello next 48 hours when you start debugging again there won't be a delay.</span></span>

    <span data-ttu-id="fa5ae-187">**Примечание:** при наличии любые проблемы с запуском отладчика hello, попробуйте toodo его с помощью **Cloud Explorer** вместо **обозревателя серверов**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-187">**Note:** If you have any trouble starting hello debugger, try toodo it by using **Cloud Explorer** instead of **Server Explorer**.</span></span>
10. <span data-ttu-id="fa5ae-188">Нажмите кнопку **о** в меню hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-188">Click **About** in hello menu.</span></span>

     <span data-ttu-id="fa5ae-189">Visual Studio перестает останова hello и hello код выполняется в Azure, не на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-189">Visual Studio stops on hello breakpoint, and hello code is running in Azure, not on your local computer.</span></span>
11. <span data-ttu-id="fa5ae-190">Наведите указатель мыши на hello `currentTime` значение времени переменной toosee hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-190">Hover over hello `currentTime` variable toosee hello time value.</span></span>

     ![Просмотр переменной в режиме отладки в Azure](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugviewinwa.png)

     <span data-ttu-id="fa5ae-192">время Hello, отображаемые — время сервера Azure hello, который может быть в другом часовом поясе, чем локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-192">hello time you see is hello Azure server time, which may be in a different time zone than your local computer.</span></span>
12. <span data-ttu-id="fa5ae-193">Введите новое значение для hello `currentTime` переменной, например «Теперь работает в Azure».</span><span class="sxs-lookup"><span data-stu-id="fa5ae-193">Enter a new value for hello `currentTime` variable, such as "Now running in Azure".</span></span>
13. <span data-ttu-id="fa5ae-194">Нажмите клавишу F5 toocontinue под управлением.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-194">Press F5 toocontinue running.</span></span>

     <span data-ttu-id="fa5ae-195">Hello о странице, запущенных в Azure отображает hello новое значение, введенное в переменную currentTime hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-195">hello About page running in Azure displays hello new value that you entered into hello currentTime variable.</span></span>

     ![Страница "О программе" с новым значением](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugchangeinwa.png)

## <span data-ttu-id="fa5ae-197"><a name="remotedebugwj"></a> Удаленная отладка веб-заданий</span><span class="sxs-lookup"><span data-stu-id="fa5ae-197"><a name="remotedebugwj"></a> Remote debugging WebJobs</span></span>
<span data-ttu-id="fa5ae-198">В этом разделе показано, как toodebug удаленно с помощью проекта и веб-приложение hello создать в [Приступая к работе с веб-заданий Azure SDK hello](websites-dotnet-webjobs-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-198">This section shows how toodebug remotely using hello project and web app you create in [Get Started with hello Azure WebJobs SDK](websites-dotnet-webjobs-sdk.md).</span></span>

<span data-ttu-id="fa5ae-199">функции Hello, приведенные в этом разделе, доступны только в Visual Studio 2013 с обновлением 4 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-199">hello features shown in this section are available only in Visual Studio 2013 with Update 4 or later.</span></span>

<span data-ttu-id="fa5ae-200">Удаленная отладка работает только с непрерывными веб-заданиями.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-200">Remote debugging only works with continuous WebJobs.</span></span> <span data-ttu-id="fa5ae-201">Веб-задания по расписанию и по требованию не поддерживают отладку.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-201">Scheduled and on-demand WebJobs don't support debugging.</span></span>

1. <span data-ttu-id="fa5ae-202">Привет открыть веб-проект, созданный в [Приступая к работе с веб-заданий Azure SDK hello][GetStartedWJ].</span><span class="sxs-lookup"><span data-stu-id="fa5ae-202">Open hello web project that you created in [Get Started with hello Azure WebJobs SDK][GetStartedWJ].</span></span>
2. <span data-ttu-id="fa5ae-203">В проекте ContosoAdsWebJob hello откройте *Functions.cs*.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-203">In hello ContosoAdsWebJob project, open *Functions.cs*.</span></span>
3. <span data-ttu-id="fa5ae-204">[Установите точку останова](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) на первой инструкции hello hello `GnerateThumbnail` метод.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-204">[Set a breakpoint](http://www.visualstudio.com/get-started/debug-your-app-vs.aspx) on hello first statement in hello `GnerateThumbnail` method.</span></span>

    ![Задание точки останова](./media/web-sites-dotnet-troubleshoot-visual-studio/wjbreakpoint.png)
4. <span data-ttu-id="fa5ae-206">В **обозревателе решений**, щелкните правой кнопкой мыши hello веб-проекта (не hello создаваемого проекта) и нажмите кнопку **публикации**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-206">In **Solution Explorer**, right-click hello web project (not hello WebJob project), and click **Publish**.</span></span>
5. <span data-ttu-id="fa5ae-207">В hello **профиль** раскрывающегося списка, выберите hello же профиль, который используется в [Приступая к работе с веб-заданий Azure SDK hello](websites-dotnet-webjobs-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-207">In hello **Profile** drop-down list, select hello same profile that you used in [Get Started with hello Azure WebJobs SDK](websites-dotnet-webjobs-sdk.md).</span></span>
6. <span data-ttu-id="fa5ae-208">Щелкните hello **параметры** вкладку и измените **конфигурации** слишком**отладки**, а затем нажмите кнопку **публикации**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-208">Click hello **Settings** tab, and change **Configuration** too**Debug**, and then click **Publish**.</span></span>

    <span data-ttu-id="fa5ae-209">Visual Studio развертывает веб-hello и проекты веб-задания, и в браузере открывается toohello URL-адрес веб-приложения Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-209">Visual Studio deploys hello web and WebJob projects, and your browser opens toohello Azure URL of your web app.</span></span>
7. <span data-ttu-id="fa5ae-210">В **обозревателе решений** разверните узлы **Azure > Служба приложений > ваша группа ресурсов > ваше веб-приложение > WebJobs > Continuous**, а затем щелкните правой кнопкой мыши **ContosoAdsWebJob**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-210">In **Server Explorer** expand **Azure > App Service > your resource group > your web app > WebJobs > Continuous**, and then right-click **ContosoAdsWebJob**.</span></span>
8. <span data-ttu-id="fa5ae-211">Щелкните **Подключить отладчик**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-211">Click **Attach Debugger**.</span></span>

    ![Подключить отладчик](./media/web-sites-dotnet-troubleshoot-visual-studio/wjattach.png)

    <span data-ttu-id="fa5ae-213">Домашняя страница tooyour, работающие в Azure автоматически откроется в браузере Hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-213">hello browser automatically opens tooyour home page running in Azure.</span></span> <span data-ttu-id="fa5ae-214">Может иметь toowait 20 секунд или поэтому когда Azure устанавливает сервер hello для отладки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-214">You might have toowait 20 seconds or so while Azure sets up hello server for debugging.</span></span> <span data-ttu-id="fa5ae-215">Эта задержка происходит только hello первый раз при запуске в режиме отладки на веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-215">This delay only happens hello first time you run in debug mode on a web app.</span></span> <span data-ttu-id="fa5ae-216">Hello очередном присоединить отладчик hello не будет задержки, если сделать это в течение 48 часов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-216">hello next time you attach hello debugger there won't be a delay, if you do it within 48 hours.</span></span>
9. <span data-ttu-id="fa5ae-217">В веб-браузере hello, домашняя страница открытого toohello Contoso рекламы создайте новый ad.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-217">In hello web browser that is opened toohello Contoso Ads home page, create a new ad.</span></span>

    <span data-ttu-id="fa5ae-218">Создание ad приводит очереди сообщений toobe создан, которой будут выбираться средствами hello веб-задания и обрабатываться.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-218">Creating an ad causes a queue message toobe created, which will be picked up by hello WebJob and processed.</span></span> <span data-ttu-id="fa5ae-219">Когда hello SDK веб-заданий вызывает приветственное сообщение hello функция tooprocess очереди, код hello столкнутся точка останова.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-219">When hello WebJobs SDK calls hello function tooprocess hello queue message, hello code will hit your breakpoint.</span></span>
10. <span data-ttu-id="fa5ae-220">Когда hello отладчик останавливается в точке останова, можно проверить и изменить значения переменных во время программы hello hello облака.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-220">When hello debugger breaks at your breakpoint, you can examine and change variable values while hello program is running hello cloud.</span></span> <span data-ttu-id="fa5ae-221">В hello отладчик hello следующем рисунке показано содержимое hello объекта blobInfo hello, который был передан метод GenerateThumbnail toohello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-221">In hello following illustration hello debugger shows hello contents of hello blobInfo object that was passed toohello GenerateThumbnail method.</span></span>

     ![Объект blobInfo в отладчике](./media/web-sites-dotnet-troubleshoot-visual-studio/blobinfo.png)
11. <span data-ttu-id="fa5ae-223">Нажмите клавишу F5 toocontinue под управлением.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-223">Press F5 toocontinue running.</span></span>

     <span data-ttu-id="fa5ae-224">метод GenerateThumbnail Hello завершает Создание эскиза hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-224">hello GenerateThumbnail method finishes creating hello thumbnail.</span></span>
12. <span data-ttu-id="fa5ae-225">В браузере hello обновления страницы индекса hello отобразится эскиз hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-225">In hello browser, refresh hello Index page and you see hello thumbnail.</span></span>
13. <span data-ttu-id="fa5ae-226">В Visual Studio нажмите клавиши SHIFT + F5 toostop отладки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-226">In Visual Studio, press SHIFT+F5 toostop debugging.</span></span>
14. <span data-ttu-id="fa5ae-227">В **обозревателя серверов**, щелкните правой кнопкой мыши узел ContosoAdsWebJob hello и нажмите кнопку **представления панели мониторинга**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-227">In **Server Explorer**, right-click hello ContosoAdsWebJob node and click **View Dashboard**.</span></span>
15. <span data-ttu-id="fa5ae-228">Войдите с помощью Azure, затем щелкните страницу приветствия веб-задания имени toogo toohello для вашего веб-задания.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-228">Sign in with your Azure credentials, and then click hello WebJob name toogo toohello page for your WebJob.</span></span>

     ![Щелкните ContosoAdsWebJob](./media/web-sites-dotnet-troubleshoot-visual-studio/clickcaw.png)

     <span data-ttu-id="fa5ae-230">Hello панели мониторинга показывает, hello GenerateThumbnail функция будет выполнена недавно.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-230">hello Dashboard shows that hello GenerateThumbnail function executed recently.</span></span>

     <span data-ttu-id="fa5ae-231">(hello в следующий раз при выборе **представления панели мониторинга**нет toosign в и hello браузер переходит непосредственно toohello страница для веб-задание.)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-231">(hello next time you click **View Dashboard**, you don't have toosign in, and hello browser goes directly toohello page for your WebJob.)</span></span>
16. <span data-ttu-id="fa5ae-232">Щелкните hello функция имя toosee сведения о выполнении функции hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-232">Click hello function name toosee details about hello function execution.</span></span>

     ![Сведения о функции](./media/web-sites-dotnet-troubleshoot-visual-studio/funcdetails.png)

<span data-ttu-id="fa5ae-234">Если функция [написал журналы](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs), можно щелкнуть **ToggleOutput** toosee их.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-234">If your function [wrote logs](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs), you could click **ToggleOutput** toosee them.</span></span>

## <a name="notes-about-remote-debugging"></a><span data-ttu-id="fa5ae-235">Примечания о режиме удаленной отладки</span><span class="sxs-lookup"><span data-stu-id="fa5ae-235">Notes about remote debugging</span></span>
* <span data-ttu-id="fa5ae-236">В рабочей среде выполнение в режиме отладки не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-236">Running in debug mode in production is not recommended.</span></span> <span data-ttu-id="fa5ae-237">Если веб-приложения в рабочей среде не масштабировать toomultiple экземпляров сервера, отладка не сможет hello веб-сервера от отвечает tooother запросов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-237">If your production web app is not scaled out toomultiple server instances, debugging will prevent hello web server from responding tooother requests.</span></span> <span data-ttu-id="fa5ae-238">При выполнении несколькими экземплярами веб-сервера, при присоединении отладчика toohello, вы сможете получить случайное экземпляр и иметь не tooensure способом браузера последующие запросы будут отправляться toothat экземпляра.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-238">If you do have multiple web server instances, when you attach toohello debugger you'll get a random instance, and you have no way tooensure that subsequent browser requests will go toothat instance.</span></span> <span data-ttu-id="fa5ae-239">Кроме того обычно не развертываются tooproduction построения отладки и оптимизации компилятора для сборки выпуска может быть невозможным tooshow, что происходит по одной строке в исходном коде.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-239">Also, you typically don't deploy a debug build tooproduction, and compiler optimizations for release builds might make it impossible tooshow what is happening line by line in your source code.</span></span> <span data-ttu-id="fa5ae-240">Для устранения неполадок в рабочей среде лучше всего использовать журналы веб-сервера и трассировки приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-240">For troubleshooting production problems, your best resource is application tracing and web server logs.</span></span>
* <span data-ttu-id="fa5ae-241">Во время удаленной отладки избегайте длинных остановок на точках останова.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-241">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="fa5ae-242">Azure обрабатывает процесс, остановленный дольше, чем на несколько минут, как процесс, не отвечающий на запросы, и закрывает его.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-242">Azure treats a process that is stopped for longer than a few minutes as an unresponsive process, and shuts it down.</span></span>
* <span data-ttu-id="fa5ae-243">Во время отладки, hello сервер отправляет данные tooVisual Studio, которая может повлиять на стоимости пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-243">While you're debugging, hello server is sending data tooVisual Studio, which could affect bandwidth charges.</span></span> <span data-ttu-id="fa5ae-244">Сведения о тарифах на пропускную способность см. в разделе [Цены на Azure](https://azure.microsoft.com/pricing/calculator/).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-244">For information about bandwidth rates, see [Azure Pricing](https://azure.microsoft.com/pricing/calculator/).</span></span>
* <span data-ttu-id="fa5ae-245">Убедитесь в том, что hello `debug` атрибут hello `compilation` элемент в hello *Web.config* файла задано tootrue.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-245">Make sure that hello `debug` attribute of hello `compilation` element in hello *Web.config* file is set tootrue.</span></span> <span data-ttu-id="fa5ae-246">Он устанавливается tootrue по умолчанию при публикации отладочной конфигурации построения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-246">It is set tootrue by default when you publish a debug build configuration.</span></span>

        <system.web>
          <compilation debug="true" targetFramework="4.5" />
          <httpRuntime targetFramework="4.5" />
        </system.web>
* <span data-ttu-id="fa5ae-247">Если обнаружится, что отладчик hello не войти в код, который будет использоваться toodebug, может потребоваться только мой код toochange приветствия.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-247">If you find that hello debugger won't step into code that you want toodebug, you might have toochange hello Just My Code setting.</span></span>  <span data-ttu-id="fa5ae-248">Дополнительные сведения см. в разделе [ограничить пошагового выполнения tooJust мой код](http://msdn.microsoft.com/library/vstudio/y740d9d3.aspx#BKMK_Restrict_stepping_to_Just_My_Code).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-248">For more information, see [Restrict stepping tooJust My Code](http://msdn.microsoft.com/library/vstudio/y740d9d3.aspx#BKMK_Restrict_stepping_to_Just_My_Code).</span></span>
* <span data-ttu-id="fa5ae-249">При включении hello функция удаленной отладки, а через 48 часов hello автоматически выключается на сервере hello запускается таймер.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-249">A timer starts on hello server when you enable hello remote debugging feature, and after 48 hours hello feature is automatically turned off.</span></span> <span data-ttu-id="fa5ae-250">Это 48-часовое ограничение существует в целях повышения безопасности и производительности.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-250">This 48 hour limit is done for security and performance reasons.</span></span> <span data-ttu-id="fa5ae-251">Можно легко включить функции hello обратно количество раз.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-251">You can easily turn hello feature back on as many times as you like.</span></span> <span data-ttu-id="fa5ae-252">Если вы не ведете отладку, эту функцию рекомендуется оставить отключенной.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-252">We recommend leaving it disabled when you are not actively debugging.</span></span>
* <span data-ttu-id="fa5ae-253">Можно вручную присоединить отладчик tooany hello процесса, не только приложения веб-hello процесса (w3wp.exe).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-253">You can manually attach hello debugger tooany process, not only hello web app process (w3wp.exe).</span></span> <span data-ttu-id="fa5ae-254">Дополнительные сведения о том, как toouse режим отладки в Visual Studio см. в разделе [отладки в Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-254">For more information about how toouse debug mode in Visual Studio, see [Debugging in Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx).</span></span>

## <span data-ttu-id="fa5ae-255"><a name="logsoverview"></a>Обзор журналов диагностики</span><span class="sxs-lookup"><span data-stu-id="fa5ae-255"><a name="logsoverview"></a>Diagnostic logs overview</span></span>
<span data-ttu-id="fa5ae-256">Приложения ASP.NET, работающего в веб-приложение Azure можно создать следующие виды журналы hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-256">An ASP.NET application that runs in an Azure web app can create hello following kinds of logs:</span></span>

* <span data-ttu-id="fa5ae-257">**Журналы трассировки приложения**</span><span class="sxs-lookup"><span data-stu-id="fa5ae-257">**Application tracing logs**</span></span><br/>
  <span data-ttu-id="fa5ae-258">Hello приложение создает эти журналы путем вызова методов hello [System.Diagnostics.Trace](http://msdn.microsoft.com/library/system.diagnostics.trace.aspx) класса.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-258">hello application creates these logs by calling methods of hello [System.Diagnostics.Trace](http://msdn.microsoft.com/library/system.diagnostics.trace.aspx) class.</span></span>
* <span data-ttu-id="fa5ae-259">**Журналы веб-сервера**</span><span class="sxs-lookup"><span data-stu-id="fa5ae-259">**Web server logs**</span></span><br/>
  <span data-ttu-id="fa5ae-260">Hello веб-сервер создает запись в журнал для каждого запроса HTTP toohello веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-260">hello web server creates a log entry for every HTTP request toohello web app.</span></span>
* <span data-ttu-id="fa5ae-261">**Подробные журналы сообщений об ошибках**</span><span class="sxs-lookup"><span data-stu-id="fa5ae-261">**Detailed error message logs**</span></span><br/>
  <span data-ttu-id="fa5ae-262">Hello веб-сервер создает HTML-страницу с дополнительная информация для неудачных запросов HTTP (те, которые к коду состояния 400 или выше).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-262">hello web server creates an HTML page with some additional information for failed HTTP requests (those that result in status code 400 or greater).</span></span>
* <span data-ttu-id="fa5ae-263">**Журналы трассировки неудачно завершенных запросов**</span><span class="sxs-lookup"><span data-stu-id="fa5ae-263">**Failed request tracing logs**</span></span><br/>
  <span data-ttu-id="fa5ae-264">Hello веб-сервер создает XML-файл с подробные данные трассировки для невыполненных запросов HTTP.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-264">hello web server creates an XML file with detailed tracing information for failed HTTP requests.</span></span> <span data-ttu-id="fa5ae-265">Hello веб-сервер также предоставляет XSL файл tooformat hello XML в браузере.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-265">hello web server also provides an XSL file tooformat hello XML in a browser.</span></span>

<span data-ttu-id="fa5ae-266">Ведения журнала влияет на производительность веб-приложения, поэтому Azure предоставляет возможность tooenable hello или отключать журнала каждого типа, при необходимости.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-266">Logging affects web app performance, so Azure gives you hello ability tooenable or disable each type of log as needed.</span></span> <span data-ttu-id="fa5ae-267">Для журналов приложений можно указать, что следует писать только журналы с уровнем серьезности выше заданного.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-267">For application logs, you can specify that only logs above a certain severity level should be written.</span></span> <span data-ttu-id="fa5ae-268">При создании нового веб-приложения ведение журналов по умолчанию отключено.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-268">When you create a new web app, by default all logging is disabled.</span></span>

<span data-ttu-id="fa5ae-269">Журналы записываются toofiles *LogFiles* папку в файловой системе hello являются доступен по протоколу FTP и веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-269">Logs are written toofiles in a *LogFiles* folder in hello file system of your web app and are accessible via FTP.</span></span> <span data-ttu-id="fa5ae-270">Журналы приложений и журналы веб-сервера можно также записать tooan учетную запись хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-270">Web server logs and application logs can also be written tooan Azure Storage account.</span></span> <span data-ttu-id="fa5ae-271">Вы можете сохранить больше объема журналов в учетной записи хранилища, чем раньше, в файловой системе hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-271">You can retain a greater volume of logs in a storage account than is possible in hello file system.</span></span> <span data-ttu-id="fa5ae-272">Вы ограниченный tooa максимум 100 мегабайт журналы при использовании hello файловой системы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-272">You're limited tooa maximum of 100 megabytes of logs when you use hello file system.</span></span> <span data-ttu-id="fa5ae-273">Журналы файловой системы хранятся в течение короткого срока.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-273">(File system logs are only for short-term retention.</span></span> <span data-ttu-id="fa5ae-274">Azure удаляется старый журнал файлов toomake место для новых по достижении ограничения hello.)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-274">Azure deletes old log files toomake room for new ones after hello limit is reached.)</span></span>  

## <span data-ttu-id="fa5ae-275"><a name="apptracelogs"></a>Создание и просмотр журналов трассировки приложения</span><span class="sxs-lookup"><span data-stu-id="fa5ae-275"><a name="apptracelogs"></a>Create and view application trace logs</span></span>
<span data-ttu-id="fa5ae-276">В этом разделе вы выполните hello следующие задания:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-276">In this section you'll do hello following tasks:</span></span>

* <span data-ttu-id="fa5ae-277">Добавление трассировки инструкций toohello веб-проект, созданный в [приступить к работе с Azure и ASP.NET][GetStarted].</span><span class="sxs-lookup"><span data-stu-id="fa5ae-277">Add tracing statements toohello web project that you created in [Get started with Azure and ASP.NET][GetStarted].</span></span>
* <span data-ttu-id="fa5ae-278">Просмотр журналов hello, при локальном выполнении проекта hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-278">View hello logs when you run hello project locally.</span></span>
* <span data-ttu-id="fa5ae-279">Просмотр журналов hello, как они создаются приложения hello, запущенного в Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-279">View hello logs as they are generated by hello application running in Azure.</span></span>

<span data-ttu-id="fa5ae-280">Сведения о способ использует toocreate приложения для входа в веб-заданий, в разделе [как toowork с использованием хранилища очереди Azure SDK веб-задания — Здравствуйте, каким образом toowrite ведет журнал](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-280">For information about how toocreate application logs in WebJobs, see [How toowork with Azure queue storage using hello WebJobs SDK - How toowrite logs](websites-dotnet-webjobs-sdk-storage-queues-how-to.md#logs).</span></span> <span data-ttu-id="fa5ae-281">Hello применяются следующие инструкции для просмотра журналов и управление, как они хранятся в Azure также tooapplication журналы, созданные веб-заданий.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-281">hello following instructions for viewing logs and controlling how they're stored in Azure apply also tooapplication logs created by WebJobs.</span></span>

### <a name="add-tracing-statements-toohello-application"></a><span data-ttu-id="fa5ae-282">Добавить приложение toohello инструкции трассировки</span><span class="sxs-lookup"><span data-stu-id="fa5ae-282">Add tracing statements toohello application</span></span>
1. <span data-ttu-id="fa5ae-283">Откройте *Controllers\HomeController.cs*и замените hello `Index`, `About`, и `Contact` методы с hello следующий код в tooadd порядок `Trace` инструкций и `using` инструкции для `System.Diagnostics`:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-283">Open *Controllers\HomeController.cs*, and replace hello `Index`, `About`, and `Contact` methods with hello following code in order tooadd `Trace` statements and a `using` statement for `System.Diagnostics`:</span></span>

        public ActionResult Index()
        {
            Trace.WriteLine("Entering Index method");
            ViewBag.Message = "Modify this template toojump-start your ASP.NET MVC application.";
            Trace.TraceInformation("Displaying hello Index page at " + DateTime.Now.ToLongTimeString());
            Trace.WriteLine("Leaving Index method");
            return View();
        }

        public ActionResult About()
        {
            Trace.WriteLine("Entering About method");
            ViewBag.Message = "Your app description page.";
            Trace.TraceWarning("Transient error on hello About page at " + DateTime.Now.ToShortTimeString());
            Trace.WriteLine("Leaving About method");
            return View();
        }

        public ActionResult Contact()
        {
            Trace.WriteLine("Entering Contact method");
            ViewBag.Message = "Your contact page.";
            Trace.TraceError("Fatal error on hello Contact page at " + DateTime.Now.ToLongTimeString());
            Trace.WriteLine("Leaving Contact method");
            return View();
        }        
2. <span data-ttu-id="fa5ae-284">Добавить `using System.Diagnostics;` инструкции toohello вверху файла hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-284">Add a `using System.Diagnostics;` statement toohello top of hello file.</span></span>

### <a name="view-hello-tracing-output-locally"></a><span data-ttu-id="fa5ae-285">Трассировка hello представления вывода локально</span><span class="sxs-lookup"><span data-stu-id="fa5ae-285">View hello tracing output locally</span></span>
1. <span data-ttu-id="fa5ae-286">Нажмите клавишу F5 toorun hello приложения в режиме отладки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-286">Press F5 toorun hello application in debug mode.</span></span>

    <span data-ttu-id="fa5ae-287">прослушиватель трассировки по умолчанию Hello записывает все toohello выходные данные трассировки **вывода** окна, а также другие выходные данные отладки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-287">hello default trace listener writes all trace output toohello **Output** window, along with other Debug output.</span></span> <span data-ttu-id="fa5ae-288">Hello ниже показан вывод hello hello операторов трассировки, что вы добавили toohello `Index` метод.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-288">hello following illustration shows hello output from hello trace statements that you added toohello `Index` method.</span></span>

    ![Трассировка в окне отладки](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-debugtracing.png)

    <span data-ttu-id="fa5ae-290">Привет, следующие шаги показывают, как tooview выходных данных трассировки на веб-странице без компиляции в режиме отладки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-290">hello following steps show how tooview trace output in a web page, without compiling in debug mode.</span></span>
2. <span data-ttu-id="fa5ae-291">Откройте файл Web.config приложения hello (hello один расположен в папке проекта hello) и добавьте `<system.diagnostics>` элемент в конце hello hello файл перед закрывающей hello `</configuration>` элемента:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-291">Open hello application Web.config file (hello one located in hello project folder) and add a `<system.diagnostics>` element at hello end of hello file just before hello closing `</configuration>` element:</span></span>

          <system.diagnostics>
            <trace>
              <listeners>
                <add name="WebPageTraceListener"
                    type="System.Web.WebPageTraceListener,
                    System.Web,
                    Version=4.0.0.0,
                    Culture=neutral,
                    PublicKeyToken=b03f5f7f11d50a3a" />
              </listeners>
            </trace>
          </system.diagnostics>

    <span data-ttu-id="fa5ae-292">Hello `WebPageTraceListener` результатов трассировки можно просматривать путем просмотра слишком`/trace.axd`.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-292">hello `WebPageTraceListener` lets you view trace output by browsing too`/trace.axd`.</span></span>
3. <span data-ttu-id="fa5ae-293">Добавить <a href="http://msdn.microsoft.com/library/vstudio/6915t83k(v=vs.100).aspx">элемент трассировки</a> под `<system.web>` в файле Web.config hello, например hello в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-293">Add a <a href="http://msdn.microsoft.com/library/vstudio/6915t83k(v=vs.100).aspx">trace element</a> under `<system.web>` in hello Web.config file, such as hello following example:</span></span>

        <trace enabled="true" writeToDiagnosticsTrace="true" mostRecent="true" pageOutput="false" />
4. <span data-ttu-id="fa5ae-294">Нажмите клавиши CTRL + F5 toorun hello приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-294">Press CTRL+F5 toorun hello application.</span></span>
5. <span data-ttu-id="fa5ae-295">В адресной строке окна браузера hello hello, добавьте *trace.axd* toohello URL-адрес, и нажмите клавишу ВВОД (hello URL-адрес будет примерно toohttp://localhost:53370/trace.axd).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-295">In hello address bar of hello browser window, add *trace.axd* toohello URL, and then press Enter (hello URL will be similar toohttp://localhost:53370/trace.axd).</span></span>
6. <span data-ttu-id="fa5ae-296">На hello **трассировки приложения** щелкните **Просмотр сведений о** на первую строку hello (не hello BrowserLink строки).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-296">On hello **Application Trace** page, click **View Details** on hello first line (not hello BrowserLink line).</span></span>

    ![trace.axd](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-traceaxd1.png)

    <span data-ttu-id="fa5ae-298">Hello **сведения о запросе** появится страница и в hello **сведения трассировки** отображаться hello выходные данные операторов трассировки hello, что вы добавили toohello `Index` метод.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-298">hello **Request Details** page appears, and in hello **Trace Information** section you see hello output from hello trace statements that you added toohello `Index` method.</span></span>

    ![trace.axd](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-traceaxd2.png)

    <span data-ttu-id="fa5ae-300">По умолчанию `trace.axd` доступен только локально.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-300">By default, `trace.axd` is only available locally.</span></span> <span data-ttu-id="fa5ae-301">Если вы хотите, чтобы toomake его доступным из удаленного веб-приложения, можно добавить `localOnly="false"` toohello `trace` элемент в hello *Web.config* файла, как показано в следующий пример hello:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-301">If you wanted toomake it available from a remote web app, you could add `localOnly="false"` toohello `trace` element in hello *Web.config* file, as shown in hello following example:</span></span>

        <trace enabled="true" writeToDiagnosticsTrace="true" localOnly="false" mostRecent="true" pageOutput="false" />

    <span data-ttu-id="fa5ae-302">Тем не менее, включение `trace.axd` в рабочей веб-приложения обычно не рекомендуется по соображениям безопасности, и в следующих разделах hello увидите простой способ tooread трассировки журналов в Azure веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-302">However, enabling `trace.axd` in a production web app is generally not recommended for security reasons, and in hello following sections you'll see an easier way tooread tracing logs in an Azure web app.</span></span>

### <a name="view-hello-tracing-output-in-azure"></a><span data-ttu-id="fa5ae-303">Просмотр результатов трассировки hello в Azure</span><span class="sxs-lookup"><span data-stu-id="fa5ae-303">View hello tracing output in Azure</span></span>
1. <span data-ttu-id="fa5ae-304">В **обозревателе решений**, щелкните правой кнопкой мыши hello веб-проекта и нажмите кнопку **публикации**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-304">In **Solution Explorer**, right-click hello web project and click **Publish**.</span></span>
2. <span data-ttu-id="fa5ae-305">В hello **веб-публикация** диалоговое окно, нажмите кнопку **публикации**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-305">In hello **Publish Web** dialog box, click **Publish**.</span></span>

    <span data-ttu-id="fa5ae-306">После Visual Studio публикует обновления, она откроется домашняя страница tooyour окна браузера (при условии, что не удалось очистить **URL-адрес назначения** на hello **подключения** вкладке).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-306">After Visual Studio publishes your update, it opens a browser window tooyour home page (assuming you didn't clear **Destination URL** on hello **Connection** tab).</span></span>
3. <span data-ttu-id="fa5ae-307">В **обозревателе сервера** щелкните правой кнопкой мыши веб-приложение и выберите **Просмотр журналов потоковой передачи**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-307">In **Server Explorer**, right-click your web app and select **View Streaming Logs**.</span></span>

    ![Просмотр журналов потоковой передачи в контекстном меню](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-viewlogsmenu.png)

    <span data-ttu-id="fa5ae-309">Hello **вывода** показано окно, подключенных toohello потоковой передачи журнала службы и добавляет строку уведомления каждую минуту, проходит без toodisplay журнала.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-309">hello **Output** window shows that you are connected toohello log-streaming service, and adds a notification line each minute that goes by without a log toodisplay.</span></span>

    ![Просмотр журналов потоковой передачи в контекстном меню](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-nologsyet.png)
4. <span data-ttu-id="fa5ae-311">В окне браузера hello, показан на домашней странице приложения, нажмите кнопку **контакт**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-311">In hello browser window that shows your application home page, click **Contact**.</span></span>

    <span data-ttu-id="fa5ae-312">В несколько секунд hello, в выходные данные трассировки уровня ошибок hello добавлены toohello `Contact` метод отображается в hello **вывода** окна.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-312">Within a few seconds hello output from hello error-level trace you added toohello `Contact` method appears in hello **Output** window.</span></span>

    ![Трассировка ошибок в окне вывода](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-errortrace.png)

    <span data-ttu-id="fa5ae-314">Visual Studio отображаются только трассировки уровня ошибки, так как это параметр по умолчанию hello при включении журнала hello, наблюдение за службой.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-314">Visual Studio is only showing error-level traces because that is hello default setting when you enable hello log monitoring service.</span></span> <span data-ttu-id="fa5ae-315">При создании нового веб-приложение Azure все ведение журнала отключено по умолчанию, как вы видели, когда открывается страница "Параметры" hello, ранее:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-315">When you create a new Azure web app, all logging is disabled by default, as you saw when you opened hello settings page earlier:</span></span>

    ![Выключение ведение журнала приложения](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-apploggingoff.png)

    <span data-ttu-id="fa5ae-317">Тем не менее, при выборе **Просмотр журналов потоковой передачи**, Visual Studio автоматически изменяется **Logging(File System) приложения** слишком**ошибка**, означающее журналы уровня ошибок сообщает об их.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-317">However, when you selected **View Streaming Logs**, Visual Studio automatically changed **Application Logging(File System)** too**Error**, which means error-level logs get reported.</span></span> <span data-ttu-id="fa5ae-318">Порядок toosee все журналы трассировки, можно изменить этот параметр слишком**Verbose**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-318">In order toosee all of your tracing logs, you can change this setting too**Verbose**.</span></span> <span data-ttu-id="fa5ae-319">Если выбран уровень серьезности меньше уровня ошибок, начинают предоставляться и все журналы с более высокими уровнями серьезности.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-319">When you select a severity level lower than error, all logs for higher severity levels are also reported.</span></span> <span data-ttu-id="fa5ae-320">Поэтому при выборе подробного уровня вы также сможете просматривать журналы информационных сообщений, предупреждений и ошибок.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-320">So when you select verbose, you also see information, warning, and error logs.</span></span>  

1. <span data-ttu-id="fa5ae-321">В **обозревателя серверов**, щелкните правой кнопкой мыши веб-приложения hello и нажмите кнопку **параметры представления** как это было сделано ранее.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-321">In **Server Explorer**, right-click hello web app, and then click **View Settings** as you did earlier.</span></span>
2. <span data-ttu-id="fa5ae-322">Изменение **ведение журнала приложения (файловая система)** слишком**Verbose**, а затем нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-322">Change **Application Logging (File System)** too**Verbose**, and then click **Save**.</span></span>

    ![Задание уровня tooVerbose трассировки](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-applogverbose.png)
3. <span data-ttu-id="fa5ae-324">В окне браузера hello, теперь отображается вашей **контакт** нажмите кнопку **Главная**, нажмите кнопку **о**и нажмите кнопку **контакт**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-324">In hello browser window that is now showing your **Contact** page, click **Home**, then click **About**, and then click **Contact**.</span></span>

    <span data-ttu-id="fa5ae-325">Через несколько секунд hello **вывода** окне показаны все выходных данных трассировки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-325">Within a few seconds, hello **Output** window shows all of your tracing output.</span></span>

    ![Подробные результаты трассировки](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-verbosetraces.png)

    <span data-ttu-id="fa5ae-327">В этом разделе вы включили и отключили ведение журналов с помощью параметров веб-приложения Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-327">In this section you enabled and disabled logging by using Azure web app settings.</span></span> <span data-ttu-id="fa5ae-328">Можно также включить и отключить, изменив файл Web.config hello прослушиватели трассировки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-328">You can also enable and disable trace listeners by modifying hello Web.config file.</span></span> <span data-ttu-id="fa5ae-329">Однако изменения файла Web.config hello вызывает toorecycle домена приложения hello, пока Включение ведение журнала с помощью конфигурации приложения hello веб-узла, не.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-329">However, modifying hello Web.config file causes hello app domain toorecycle, while enabling logging via hello web app configuration doesn't do that.</span></span> <span data-ttu-id="fa5ae-330">Если проблема hello принимает tooreproduce много времени или периодически прерывается, перезапуска домена приложения hello может «исправить» и принудительно toowait пока это происходит еще раз.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-330">If hello problem takes a long time tooreproduce, or is intermittent, recycling hello app domain might "fix" it and force you toowait until it happens again.</span></span> <span data-ttu-id="fa5ae-331">Включение диагностики в Azure не приводит к подобным результатам, поэтому сбор сведений об ошибках можно начать незамедлительно.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-331">Enabling diagnostics in Azure doesn't do this, so you can start capturing error information immediately.</span></span>

### <a name="output-window-features"></a><span data-ttu-id="fa5ae-332">Функции окна вывода</span><span class="sxs-lookup"><span data-stu-id="fa5ae-332">Output window features</span></span>
<span data-ttu-id="fa5ae-333">Hello **журналы Azure** вкладка hello **вывода** окно имеет несколько кнопок и текстовых полей:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-333">hello **Azure Logs** tab of hello **Output** Window has several buttons and a text box:</span></span>

![Кнопки вкладки журналов](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-icons.png)

<span data-ttu-id="fa5ae-335">Они выполняют следующие функции hello:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-335">These perform hello following functions:</span></span>

* <span data-ttu-id="fa5ae-336">Очистить hello **вывода** окна.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-336">Clear hello **Output** window.</span></span>
* <span data-ttu-id="fa5ae-337">Включение или отключение переноса слов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-337">Enable or disable word wrap.</span></span>
* <span data-ttu-id="fa5ae-338">Запуск или остановка журналов мониторинга.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-338">Start or stop monitoring logs.</span></span>
* <span data-ttu-id="fa5ae-339">Указать, какие журналы toomonitor.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-339">Specify which logs toomonitor.</span></span>
* <span data-ttu-id="fa5ae-340">Скачивание журналов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-340">Download logs.</span></span>
* <span data-ttu-id="fa5ae-341">Фильтрация журналов на основе регулярного выражения или строки поиска.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-341">Filter logs based on a search string or a regular expression.</span></span>
* <span data-ttu-id="fa5ae-342">Закрыть hello **вывода** окна.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-342">Close hello **Output** window.</span></span>

<span data-ttu-id="fa5ae-343">Если указать искомую строку или регулярное выражение, Visual Studio фильтрует сведения из журнала клиента hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-343">If you enter a search string or regular expression, Visual Studio filters logging information at hello client.</span></span> <span data-ttu-id="fa5ae-344">Это означает, что можно ввести критерий hello после hello журналы отображаются в hello **вывода** окна и вы можете изменить критерии фильтрации без необходимости tooregenerate hello журналы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-344">That means you can enter hello criteria after hello logs are displayed in hello **Output** window and you can change filtering criteria without having tooregenerate hello logs.</span></span>

## <span data-ttu-id="fa5ae-345"><a name="webserverlogs"></a>Просмотр журналов веб-сервера</span><span class="sxs-lookup"><span data-stu-id="fa5ae-345"><a name="webserverlogs"></a>View web server logs</span></span>
<span data-ttu-id="fa5ae-346">Журналы веб-сервера регистрации всех действий HTTP для веб-приложения hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-346">Web server logs record all HTTP activity for hello web app.</span></span> <span data-ttu-id="fa5ae-347">В порядке toosee их в hello **вывода** окно, у вас есть tooenable их для hello веб-приложения и указать Visual Studio, которые должны toomonitor их.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-347">In order toosee them in hello **Output** window you have tooenable them for hello web app and tell Visual Studio that you want toomonitor them.</span></span>

1. <span data-ttu-id="fa5ae-348">В hello **Azure веб-приложения конфигурация** вкладку, которая открывается из **обозревателя серверов**, изменить ведение журнала веб-сервера слишком**на**и нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-348">In hello **Azure Web App Configuration** tab that you opened from **Server Explorer**, change Web Server Logging too**On**, and then click **Save**.</span></span>

    ![Включение ведения журналов веб-сервера](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-webserverloggingon.png)
2. <span data-ttu-id="fa5ae-350">В hello **выходные данные** окно, нажмите кнопку hello **указать, какие журналы Azure toomonitor** кнопки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-350">In hello **Output** Window, click hello **Specify which Azure logs toomonitor** button.</span></span>

    ![Указать, какие журналы Azure toomonitor](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-specifylogs.png)
3. <span data-ttu-id="fa5ae-352">В hello **параметры ведения журналов Azure** выберите **веб-журналы сервера**, а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-352">In hello **Azure Logging Options** dialog box, select **Web server logs**, and then click **OK**.</span></span>

    ![Мониторинг журналов веб-сервера](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-monitorwslogson.png)
4. <span data-ttu-id="fa5ae-354">В окне браузера hello, показывающий hello веб-приложение, нажмите кнопку **Главная**, нажмите кнопку **о**и нажмите кнопку **контакт**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-354">In hello browser window that shows hello web app, click **Home**, then click **About**, and then click **Contact**.</span></span>

    <span data-ttu-id="fa5ae-355">журналы приложения Hello обычно отображаются первыми, следуют hello журналы веб-сервера.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-355">hello application logs generally appear first, followed by hello web server logs.</span></span> <span data-ttu-id="fa5ae-356">Toowait может потребоваться некоторое время для hello журналы tooappear.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-356">You might have toowait a while for hello logs tooappear.</span></span>

    ![Журналы веб-сервера в окне вывода](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-wslogs.png)

<span data-ttu-id="fa5ae-358">По умолчанию при первом включении журналы веб-сервера с помощью Visual Studio Azure записывает hello журналы toohello файловой системы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-358">By default, when you first enable web server logs by using Visual Studio, Azure writes hello logs toohello file system.</span></span> <span data-ttu-id="fa5ae-359">В качестве альтернативы можно использовать hello Azure портала toospecify, веб-журналы сервера должны быть написаны tooa контейнер больших двоичных объектов в учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-359">As an alternative, you can use hello Azure portal toospecify that web server logs should be written tooa blob container in a storage account.</span></span>

<span data-ttu-id="fa5ae-360">Если использовать веб-сервер портала tooenable hello, ведение журнала tooan учетной записи хранилища Azure, а затем отключить ведение журнала в Visual Studio при повторном включении ведения журнала в Visual Studio, будут восстановлены параметры учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-360">If you use hello portal tooenable web server logging tooan Azure storage account, and then disable logging in Visual Studio, when you re-enable logging in Visual Studio your storage account settings are restored.</span></span>

## <span data-ttu-id="fa5ae-361"><a name="detailederrorlogs"></a>Просмотр подробных журналов сообщений об ошибках</span><span class="sxs-lookup"><span data-stu-id="fa5ae-361"><a name="detailederrorlogs"></a>View detailed error message logs</span></span>
<span data-ttu-id="fa5ae-362">Подробные журналы сообщений об ошибках представляют некоторые дополнительные сведения о HTTP-запросах, которые завершаются с кодом ошибки (400 или выше).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-362">Detailed error logs provide some additional information about HTTP requests that result in error response codes (400 or above).</span></span> <span data-ttu-id="fa5ae-363">В порядке toosee их в hello **вывода** окно, у вас есть tooenable их для hello веб-приложения и указать Visual Studio, которые должны toomonitor их.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-363">In order toosee them in hello **Output** window, you have tooenable them for hello web app and tell Visual Studio that you want toomonitor them.</span></span>

1. <span data-ttu-id="fa5ae-364">В hello **Azure веб-приложения конфигурация** вкладку, которая открывается из **обозревателя серверов**, изменить **подробные сообщения об ошибках** слишком**на**, и Нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-364">In hello **Azure Web App Configuration** tab that you opened from **Server Explorer**, change **Detailed Error Messages** too**On**, and then click **Save**.</span></span>

    ![Включение подробных сообщений об ошибках](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailedlogson.png)
2. <span data-ttu-id="fa5ae-366">В hello **выходные данные** окно, нажмите кнопку hello **указать, какие журналы Azure toomonitor** кнопки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-366">In hello **Output** Window, click hello **Specify which Azure logs toomonitor** button.</span></span>
3. <span data-ttu-id="fa5ae-367">В hello **параметры ведения журналов Azure** диалоговое окно, нажмите кнопку **все журналы**, а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-367">In hello **Azure Logging Options** dialog box, click **All logs**, and then click **OK**.</span></span>

    ![Отслеживание всех журналов](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-monitorall.png)
4. <span data-ttu-id="fa5ae-369">В адресной строке окна браузера hello hello, добавьте дополнительный символ toocause URL-адрес toohello ошибку 404 (например, `http://localhost:53370/Home/Contactx`), и нажмите клавишу ВВОД.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-369">In hello address bar of hello browser window, add an extra character toohello URL toocause a 404 error (for example, `http://localhost:53370/Home/Contactx`), and press Enter.</span></span>

    <span data-ttu-id="fa5ae-370">Через несколько секунд hello подробный журнал ошибок отображается в Visual Studio hello **вывода** окна.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-370">After several seconds hello detailed error log appears in hello Visual Studio **Output** window.</span></span>

    ![Подробный журнал ошибок в окне вывода](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailederrorlog.png)

    <span data-ttu-id="fa5ae-372">«CTRL» + щелкните hello toosee hello журнала выходные данные link в браузере в формате:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-372">Control+click hello link toosee hello log output formatted in a browser:</span></span>

    ![Подробный журнал ошибок в окне браузера](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-detailederrorloginbrowser.png)

## <span data-ttu-id="fa5ae-374"><a name="downloadlogs"></a>Загрузка журналов файловой системы</span><span class="sxs-lookup"><span data-stu-id="fa5ae-374"><a name="downloadlogs"></a>Download file system logs</span></span>
<span data-ttu-id="fa5ae-375">Все журналы, которые можно отслеживать в hello **вывода** окно также можно загрузить как *.zip* файла.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-375">Any logs that you can monitor in hello **Output** window can also be downloaded as a *.zip* file.</span></span>

1. <span data-ttu-id="fa5ae-376">В hello **вывода** окно, нажмите кнопку **загрузить журналы потоковой передачи**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-376">In hello **Output** window, click **Download Streaming Logs**.</span></span>

    ![Кнопки вкладки журналов](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-downloadicon.png)

    <span data-ttu-id="fa5ae-378">Проводник открывает tooyour *загружает* папка с hello загрузить выбранный файл.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-378">File Explorer opens tooyour *Downloads* folder with hello downloaded file selected.</span></span>

    ![Загруженный файл](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-downloadedfile.png)
2. <span data-ttu-id="fa5ae-380">Извлеките hello *.zip* файл и в разделе hello следующая структура папок:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-380">Extract hello *.zip* file, and you see hello following folder structure:</span></span>

    ![Загруженный файл](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-logfilefolders.png)

   * <span data-ttu-id="fa5ae-382">Журналы трассировки приложения находятся в *.txt* файлы в hello *LogFiles\Application* папки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-382">Application tracing logs are in *.txt* files in hello *LogFiles\Application* folder.</span></span>
   * <span data-ttu-id="fa5ae-383">Журналы веб-сервера находятся в *.log* файлы в hello *LogFiles\http\RawLogs* папки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-383">Web server logs are in *.log* files in hello *LogFiles\http\RawLogs* folder.</span></span> <span data-ttu-id="fa5ae-384">Можно использовать это средство, например [Log Parser](http://www.microsoft.com/download/details.aspx?displaylang=en&id=24659) tooview работы с этими файлами.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-384">You can use a tool such as [Log Parser](http://www.microsoft.com/download/details.aspx?displaylang=en&id=24659) tooview and manipulate these files.</span></span>
   * <span data-ttu-id="fa5ae-385">Подробные сообщения журналы ошибок находятся в *.html* файлы в hello *LogFiles\DetailedErrors* папки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-385">Detailed error message logs are in *.html* files in hello *LogFiles\DetailedErrors* folder.</span></span>

     <span data-ttu-id="fa5ae-386">(hello *развертываний* — папку для файлов, создаваемых системой управления версиями публикации; это не обязательно любые связанные tooVisual Studio публикации.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-386">(hello *deployments* folder is for files created by source control publishing; it doesn't have anything related tooVisual Studio publishing.</span></span> <span data-ttu-id="fa5ae-387">Hello *Git* папка — для трассировки связанные toosource публикации и hello файла журнала службы потоковой передачи.)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-387">hello *Git* folder is for traces related toosource control publishing and hello log file streaming service.)</span></span>  

## <span data-ttu-id="fa5ae-388"><a name="storagelogs"></a>Просмотр журналов хранилища</span><span class="sxs-lookup"><span data-stu-id="fa5ae-388"><a name="storagelogs"></a>View storage logs</span></span>
<span data-ttu-id="fa5ae-389">Журналы трассировки приложения может быть отправлена tooan учетной записи хранилища Azure, и их можно просматривать в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-389">Application tracing logs can also be sent tooan Azure storage account, and you can view them in Visual Studio.</span></span> <span data-ttu-id="fa5ae-390">toodo, что будет создать учетную запись хранилища, включить журналы хранения классическом портале hello и просматривать их в hello **журналы** вкладка hello **веб-приложения Azure** окна.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-390">toodo that you'll create a storage account, enable storage logs in hello classic portal, and view them in hello **Logs** tab of hello **Azure Web App** window.</span></span>

<span data-ttu-id="fa5ae-391">Можно отправить журналы tooany или все три назначения:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-391">You can send logs tooany or all of three destinations:</span></span>

* <span data-ttu-id="fa5ae-392">Hello файловой системы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-392">hello file system.</span></span>
* <span data-ttu-id="fa5ae-393">Таблицы учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-393">Storage account tables.</span></span>
* <span data-ttu-id="fa5ae-394">Большие двоичные объекты учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-394">Storage account blobs.</span></span>

<span data-ttu-id="fa5ae-395">Для каждого места назначения вы можете задать отдельный уровень серьезности.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-395">You can specify a different severity level for each destination.</span></span>

<span data-ttu-id="fa5ae-396">Таблицы сделайте его легко tooview сведения журналов в оперативный режим, и они поддерживают потоковую передачу; можно запросить журналы в таблицах и при их создании в разделе новые журналы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-396">Tables make it easy tooview details of logs online, and they support streaming; you can query logs in tables and see new logs as they are being created.</span></span> <span data-ttu-id="fa5ae-397">Сделать большие двоичные объекты, его легко toodownload журналы в файлах и tooanalyze их с помощью HDInsight, так как известно, HDInsight как toowork с хранилищем больших двоичных объектов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-397">Blobs make it easy toodownload logs in files and tooanalyze them using HDInsight, because HDInsight knows how toowork with blob storage.</span></span> <span data-ttu-id="fa5ae-398">Дополнительные сведения см. в разделе **Hadoop и MapReduce** статьи [Варианты хранения данных (создание реальных облачных приложений в Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-398">For more information, see **Hadoop and MapReduce** in [Data Storage Options (Building Real-World Cloud Apps with Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/data-storage-options).</span></span>

<span data-ttu-id="fa5ae-399">В настоящее время имеется уровне файловой системы журналами набор tooverbose; Hello следующие шаги содержат пошаговые инструкции по настройке сведения уровня журналы toogo toostorage учетной записи таблицы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-399">You currently have file system logs set tooverbose level; hello following steps walk you through setting up information level logs toogo toostorage account tables.</span></span> <span data-ttu-id="fa5ae-400">Информационный уровень означает, что все журналы, созданные вызовом методов `Trace.TraceInformation`, `Trace.TraceWarning` и `Trace.TraceError`, будут отображаться, однако не будут отображаться журналы, созданные при вызове `Trace.WriteLine`.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-400">Information level means all logs created by calling `Trace.TraceInformation`, `Trace.TraceWarning`, and `Trace.TraceError` will be displayed, but not logs created by calling `Trace.WriteLine`.</span></span>

<span data-ttu-id="fa5ae-401">Учетные записи хранения предоставляют дополнительной памяти и увеличивает продолжительность хранения для журналов по сравнению toohello файловой системы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-401">Storage accounts offer more storage and longer-lasting retention for logs compared toohello file system.</span></span> <span data-ttu-id="fa5ae-402">Другим преимуществом передающее приложение toostorage журналы трассировки является получение некоторые дополнительные сведения с каждого журнала, полученный из системы файлы журналов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-402">Another advantage of sending application tracing logs toostorage is that you get some additional information with each log that you don't get from file system logs.</span></span>

1. <span data-ttu-id="fa5ae-403">Щелкните правой кнопкой мыши **хранения** в разделе hello узла Azure, а затем нажмите кнопку **создать учетную запись хранилища**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-403">Right-click **Storage** under hello Azure node, and then click **Create Storage Account**.</span></span>

![Учетная запись хранения](./media/web-sites-dotnet-troubleshoot-visual-studio/createstor.png)

1. <span data-ttu-id="fa5ae-405">В hello **создать учетную запись хранилища** диалоговое окно, введите имя для учетной записи хранения hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-405">In hello **Create Storage Account** dialog, enter a name for hello storage account.</span></span>

    <span data-ttu-id="fa5ae-406">Имя Hello должен быть уникальным (нет других учетной записи хранилища Azure может иметь hello таким же именем).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-406">hello name must be must be unique (no other Azure storage account can have hello same name).</span></span> <span data-ttu-id="fa5ae-407">Если ввести имя hello уже используется, вы получите toochange вероятность его.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-407">If hello name you enter is already in use you'll get a chance toochange it.</span></span>

    <span data-ttu-id="fa5ae-408">Здравствуйте, tooaccess URL-адрес учетной записи хранения будут *{имя}*. core.windows.net.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-408">hello URL tooaccess your storage account will be *{name}*.core.windows.net.</span></span>
2. <span data-ttu-id="fa5ae-409">Набор hello **регион или территориальная группа** tooyou ближайший регион toohello раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-409">Set hello **Region or Affinity Group** drop-down list toohello region closest tooyou.</span></span>

    <span data-ttu-id="fa5ae-410">Этот параметр указывает, в каком центре обработки данных Azure будет размещаться учетная запись хранения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-410">This setting specifies which Azure datacenter will host your storage account.</span></span> <span data-ttu-id="fa5ae-411">В этом учебнике выбор не будет сделано заметное различие, но для рабочего веб-приложения требуется веб-сервер и вашей toobe учетной записи хранилища в hello задержки toominimize же регионе и данные исходящих расходов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-411">For this tutorial your choice won't make a noticeable difference, but for a production web app you want your web server and your storage account toobe in hello same region toominimize latency and data egress charges.</span></span> <span data-ttu-id="fa5ae-412">веб-приложения Hello (который вы создадите в более поздней версии) должен выполняться в области, как возможные toohello браузеры, доступ к веб-приложения в порядке toominimize задержки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-412">hello web app (which you'll create later) should run in a region as close as possible toohello browsers accessing your web app in order toominimize latency.</span></span>
3. <span data-ttu-id="fa5ae-413">Набор hello **репликации** раскрывающемся списке слишком**локально избыточной**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-413">Set hello **Replication** drop-down list too**Locally redundant**.</span></span>
   
    <span data-ttu-id="fa5ae-414">При включении георепликации для учетной записи хранения hello хранимых содержимое является реплицированной tooa вторичный центр обработки данных tooenable перехода на другой ресурс в случае серьезной аварии в основное расположение hello toothat расположение.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-414">When geo-replication is enabled for a storage account, hello stored content is replicated tooa secondary datacenter tooenable failover toothat location in case of a major disaster in hello primary location.</span></span> <span data-ttu-id="fa5ae-415">Георепликация может потребовать дополнительных затрат.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-415">Geo-replication can incur additional costs.</span></span> <span data-ttu-id="fa5ae-416">Для тестирования и разработки учетных записей обычно не следует toopay для георепликации.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-416">For test and development accounts, you generally don't want toopay for geo-replication.</span></span> <span data-ttu-id="fa5ae-417">Дополнительные сведения см. в статье [Об учетных записях хранения Azure](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-417">For more information, see [Create, manage, or delete a storage account](../storage/common/storage-create-storage-account.md).</span></span>
4. <span data-ttu-id="fa5ae-418">Щелкните **Создать**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-418">Click **Create**.</span></span>

    ![Новая учетная запись хранения](./media/web-sites-dotnet-troubleshoot-visual-studio/newstorage.png)    
5. <span data-ttu-id="fa5ae-420">В Visual Studio hello **веб-приложения Azure** окно, нажмите кнопку hello **журналы** , а затем щелкните **Настройка ведения журнала на портале управления**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-420">In hello Visual Studio **Azure Web App** window, click hello **Logs** tab, and then click **Configure Logging in Management Portal**.</span></span>

    <!-- todo:screenshot of new portal if hello VS page link goes toonew portal -->
    ![Настройка журнала](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-configlogging.png)

    <span data-ttu-id="fa5ae-422">При этом откроется hello **Настройка** вкладку hello классическом портале веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-422">This opens hello **Configure** tab in hello classic portal for your web app.</span></span>
6. <span data-ttu-id="fa5ae-423">В классическом портале hello **Настройка** , прокрутите вниз toohello разделом диагностики приложений, а затем измените **(хранилище таблиц), ведение журнала приложения** слишком**на**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-423">In hello classic portal's **Configure** tab, scroll down toohello application diagnostics section, and then change **Application Logging (Table Storage)** too**On**.</span></span>
7. <span data-ttu-id="fa5ae-424">Изменение **уровень ведения журнала** слишком**сведения**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-424">Change **Logging Level** too**Information**.</span></span>
8. <span data-ttu-id="fa5ae-425">Щелкните **Управление табличным хранилищем**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-425">Click **Manage Table Storage**.</span></span>

    ![Щелкните "Управление табличным хранилищем"](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-stgsettingsmgmtportal.png)

    <span data-ttu-id="fa5ae-427">В hello **управление табличным хранилищем для диагностики приложений** поле, можно выбрать учетную запись хранилища при наличии более одного.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-427">In hello **Manage table storage for application diagnostics** box, you can choose your storage account if you have more than one.</span></span> <span data-ttu-id="fa5ae-428">Вы можете как создать новую, так и использовать существующую таблицу.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-428">You can create a new table or use an existing one.</span></span>

    ![Управление табличным хранилищем](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-choosestorageacct.png)
9. <span data-ttu-id="fa5ae-430">В hello **управление табличным хранилищем для диагностики приложений** поле выберите hello флажок tooclose hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-430">In hello **Manage table storage for application diagnostics** box click hello check mark tooclose hello box.</span></span>
10. <span data-ttu-id="fa5ae-431">В классическом портале hello **Настройка** щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-431">In hello classic portal's **Configure** tab, click **Save**.</span></span>
11. <span data-ttu-id="fa5ae-432">В окне браузера hello, которое отображает hello приложения веб-приложения, нажмите кнопку **Главная**, нажмите кнопку **о**, а затем нажмите кнопку **контакт**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-432">In hello browser window that displays hello application web app, click **Home**, then click **About**, and then click **Contact**.</span></span>

     <span data-ttu-id="fa5ae-433">Hello данные ведения журнала, созданные путем просмотра этих веб-страниц будут записаны toohello учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-433">hello logging information produced by browsing these web pages will be written toohello storage account.</span></span>
12. <span data-ttu-id="fa5ae-434">В hello **журналы** вкладка hello **веб-приложения Azure** окна в Visual Studio щелкните **обновление** под **Сводка по диагностике**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-434">In hello **Logs** tab of hello **Azure Web App** window in Visual Studio, click **Refresh** under **Diagnostic Summary**.</span></span>

     ![Щелкните "Обновить"](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-refreshstorage.png)

     <span data-ttu-id="fa5ae-436">Hello **Сводка по диагностике** разделе показаны журналы для hello последние 15 минут по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-436">hello **Diagnostic Summary** section shows logs for hello last 15 minutes by default.</span></span> <span data-ttu-id="fa5ae-437">Можно изменить период toosee hello дополнительные журналы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-437">You can change hello period toosee more logs.</span></span>

     <span data-ttu-id="fa5ae-438">(Если появляется ошибка «не удалось найти таблицы», проверьте, можно просмотреть toohello страниц, которые hello трассировки после включения **ведение журнала приложения (хранилище)** и при нажатии кнопки **Сохранить**.)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-438">(If you get a "table not found" error, verify that you browsed toohello pages that do hello tracing after you enabled **Application Logging (Storage)** and after you clicked **Save**.)</span></span>

     ![Журналы хранилища](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-storagelogs.png)

     <span data-ttu-id="fa5ae-440">Обратите внимание, что в этом представления в разделе **идентификатор процесса** и **идентификатор потока** для каждого журнала, вы не получаете в hello файлы системных журналов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-440">Notice that in this view you see **Process ID** and **Thread ID** for each log, which you don't get in hello file system logs.</span></span> <span data-ttu-id="fa5ae-441">Вы увидите дополнительные поля, если просмотреть таблицу хранилища Azure hello напрямую.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-441">You can see additional fields by viewing hello Azure storage table directly.</span></span>
13. <span data-ttu-id="fa5ae-442">Щелкните **Просмотреть все журналы приложений**</span><span class="sxs-lookup"><span data-stu-id="fa5ae-442">Click **View all application logs**.</span></span>

     <span data-ttu-id="fa5ae-443">Таблица журнала трассировки Hello отображается в средстве просмотра таблицы хранилища Azure hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-443">hello trace log table appears in hello Azure storage table viewer.</span></span>

     <span data-ttu-id="fa5ae-444">(Если появляется сообщение об ошибке «последовательность не содержит элементов», откройте **обозревателя серверов**, разверните узел hello для вашей учетной записи в группе hello **Azure** узел и щелкните правой кнопкой **таблиц**и нажмите кнопку **обновление**.)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-444">(If you get a "sequence contains no elements" error, open **Server Explorer**, expand hello node for your storage account under hello **Azure** node, and then right-click **Tables** and click **Refresh**.)</span></span>

     ![Журналы хранилища в табличном представлении](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-tracelogtableview.png)

     <span data-ttu-id="fa5ae-446">Это представление показывает дополнительные поля, которые не отображаются в других представлениях.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-446">This view shows additional fields you don't see in any other views.</span></span> <span data-ttu-id="fa5ae-447">В этом представлении также обеспечивает toofilter журналы с помощью специальный пользовательский Интерфейс построителя запросов для построения запроса.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-447">This view also enables you toofilter logs by using special Query Builder UI for constructing a query.</span></span> <span data-ttu-id="fa5ae-448">Дополнительные сведения см. в разделе "Работа с ресурсами таблицы – фильтрация объектов" руководства [Обзор ресурсов хранилища с помощью обозревателя сервера](http://msdn.microsoft.com/library/ff683677.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-448">For more information, see Working with Table Resources - Filtering Entities in [Browsing Storage Resources with Server Explorer](http://msdn.microsoft.com/library/ff683677.aspx).</span></span>
14. <span data-ttu-id="fa5ae-449">toolook hello деталей для одной строки, дважды щелкните одну из строк hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-449">toolook at hello details for a single row, double-click one of hello rows.</span></span>

     ![Таблица трассировки в обозревателе сервера](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-tracetablerow.png)

## <span data-ttu-id="fa5ae-451"><a name="failedrequestlogs"></a>Просмотр журналов неудачно завершенных запросов</span><span class="sxs-lookup"><span data-stu-id="fa5ae-451"><a name="failedrequestlogs"></a>View failed request tracing logs</span></span>
<span data-ttu-id="fa5ae-452">Журналы трассировки запросов с ошибками полезны в тех случаях, когда требуется toounderstand hello сведения о том, как IIS обрабатывает HTTP-запроса, в сценариях, например при возникновении проблем проверки подлинности или перезаписи URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-452">Failed request tracing logs are useful when you need toounderstand hello details of how IIS is handling an HTTP request, in scenarios such as URL rewriting or authentication problems.</span></span>

<span data-ttu-id="fa5ae-453">Azure web приложений используйте hello же не удалось запросить возможности трассировки, который был доступен с IIS 7.0 и более поздних.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-453">Azure web apps use hello same failed request tracing functionality that has been available with IIS 7.0 and later.</span></span> <span data-ttu-id="fa5ae-454">У вас нет доступа toohello, параметры IIS, настроенные какие ошибки заносятся в журнал, однако.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-454">You don't have access toohello IIS settings that configure which errors get logged, however.</span></span> <span data-ttu-id="fa5ae-455">При включении трассировки неудачно завершенных запросов захватываются все ошибки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-455">When you enable failed request tracing, all errors are captured.</span></span>

<span data-ttu-id="fa5ae-456">Можно включить трассировку неудачно завершенных запросов с помощью Visual Studio, однако эту трассировку невозможно просмотреть в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-456">You can enable failed request tracing by using Visual Studio, but you can't view them in Visual Studio.</span></span> <span data-ttu-id="fa5ae-457">Эти журналы представляют собой XML-файлы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-457">These logs are XML files.</span></span> <span data-ttu-id="fa5ae-458">Hello потоковой передачи только журналов служба отслеживает файлы, которые считаются для чтения в режиме обычного текста: *.txt*, *.html*, и *.log* файлов.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-458">hello streaming log service only monitors files that are deemed readable in plain text mode:  *.txt*, *.html*, and *.log* files.</span></span>

<span data-ttu-id="fa5ae-459">Журналы трассировки неудачных запросов можно просмотреть в браузере непосредственно через FTP или локально после использования средства FTP toodownload их tooyour локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-459">You can view failed request tracing logs in a browser directly via FTP or locally after using an FTP tool toodownload them tooyour local computer.</span></span> <span data-ttu-id="fa5ae-460">В этом разделе они будут просматриваться непосредственно в браузере.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-460">In this section you'll view them in a browser directly.</span></span>

1. <span data-ttu-id="fa5ae-461">В hello **конфигурации** вкладка hello **веб-приложения Azure** окна, открываемого из **обозревателя серверов**, изменить **сбойных запросов**слишком**на**, а затем нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-461">In hello **Configuration** tab of hello **Azure Web App** window that you opened from **Server Explorer**, change **Failed Request Tracing** too**On**, and then click **Save**.</span></span>

    ![Включение трассировки неудачно завершенных запросов](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-failedrequeston.png)
2. <span data-ttu-id="fa5ae-463">В адресной строке hello окно обозревателя hello, содержащее веб-приложения hello добавьте URL-адрес toohello дополнительный символ и нажмите ВВОД toocause ошибку 404.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-463">In hello address bar of hello browser window that shows hello web app, add an extra character toohello URL and click Enter toocause a 404 error.</span></span>

    <span data-ttu-id="fa5ae-464">В результате toobe журнала трассировки невыполненных запросов создания и hello следующие шаги показывают, как tooview или загрузки hello журнала.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-464">This causes a failed request tracing log toobe created, and hello following steps show how tooview or download hello log.</span></span>
3. <span data-ttu-id="fa5ae-465">В Visual Studio в hello **конфигурации** вкладка hello **веб-приложения Azure** окно, нажмите кнопку **открыть на портале управления**.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-465">In Visual Studio, in hello **Configuration** tab of hello **Azure Web App** window, click **Open in Management Portal**.</span></span>
4. <span data-ttu-id="fa5ae-466">В hello [портала Azure](https://portal.azure.com) **параметры** колонки веб-приложения, нажмите кнопку **учетные данные развертывания**, а затем введите новое имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-466">In hello [Azure Portal](https://portal.azure.com) **Settings** blade for your web app, click **Deployment credentials**, and then enter a new user name and password.</span></span>

    ![Новое имя пользователя и пароль FTP](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-enterftpcredentials.png)

    <span data-ttu-id="fa5ae-468">** При входе в имеется toouse hello полное имя пользователя с tooit именем и префиксом приложения web hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-468">**When you log in, you have toouse hello full user name with hello web app name prefixed tooit.</span></span> <span data-ttu-id="fa5ae-469">Например если сайт hello является «myexample» введите «myid» в качестве имени пользователя, вы вход как «myexample\myid».</span><span class="sxs-lookup"><span data-stu-id="fa5ae-469">For example, if you enter "myid" as a user name and hello site is "myexample", you log in as "myexample\myid".</span></span>
5. <span data-ttu-id="fa5ae-470">В новом окне браузера перейдите toohello URL-адрес, который отображается в поле **имя узла FTP** или **FTPS hostname** в hello **веб-приложение** колонки веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-470">In a new browser window, go toohello URL that is shown under **FTP hostname** or **FTPS hostname** in hello **Web App** blade for your web app.</span></span>
6. <span data-ttu-id="fa5ae-471">Вход с помощью hello FTP учетные данные, которые вы создали ранее (включая hello web app префикс имени для имени пользователя hello).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-471">Log in using hello FTP credentials that you created earlier (including hello web app name prefix for hello user name).</span></span>

    <span data-ttu-id="fa5ae-472">Hello браузер отображает hello корневую папку веб-приложения hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-472">hello browser shows hello root folder of hello web app.</span></span>
7. <span data-ttu-id="fa5ae-473">Откройте hello *LogFiles* папки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-473">Open hello *LogFiles* folder.</span></span>

    ![Откройте папку LogFiles](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-logfilesfolder.png)
8. <span data-ttu-id="fa5ae-475">Откройте папку hello, называется W3SVC, а также числовое значение.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-475">Open hello folder that is named W3SVC plus a numeric value.</span></span>

    ![Откройте папку W3SVC](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-w3svcfolder.png)

    <span data-ttu-id="fa5ae-477">Папка Hello содержит XML-файлов, наличие ошибок, которые были записаны после включения трассировки невыполненных запросов и XSL-файл, в браузере можно использовать tooformat hello XML.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-477">hello folder contains XML files for any errors that have been logged after you enabled failed request tracing, and an XSL file that a browser can use tooformat hello XML.</span></span>

    ![Папка W3SVC](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-w3svcfoldercontents.png)
9. <span data-ttu-id="fa5ae-479">Выберите XML-файл, toosee информация трассировки для невыполненных запросов hello hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-479">Click hello XML file for hello failed request that you want toosee tracing information for.</span></span>

    <span data-ttu-id="fa5ae-480">Hello следующей иллюстрации показана часть hello сведений трассировки для ошибки образца.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-480">hello following illustration shows part of hello tracing information for a sample error.</span></span>

    ![Трассировка неудачно завершенных запросов в браузере](./media/web-sites-dotnet-troubleshoot-visual-studio/tws-failedrequestinbrowser.png)

## <span data-ttu-id="fa5ae-482"><a name="nextsteps"></a>Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="fa5ae-482"><a name="nextsteps"></a>Next Steps</span></span>
<span data-ttu-id="fa5ae-483">Вы уже видели, как Visual Studio позволяет легко tooview журналы, созданные Azure веб-приложение.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-483">You've seen how Visual Studio makes it easy tooview logs created by an Azure web app.</span></span> <span data-ttu-id="fa5ae-484">Hello следующие разделы содержат ссылки toomore ресурсы на связанные разделы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-484">hello following sections provide links toomore resources on related topics:</span></span>

* <span data-ttu-id="fa5ae-485">Устранение неполадок веб-приложения Azure</span><span class="sxs-lookup"><span data-stu-id="fa5ae-485">Azure web app troubleshooting</span></span>
* <span data-ttu-id="fa5ae-486">Отладка в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="fa5ae-486">Debugging in Visual Studio</span></span>
* <span data-ttu-id="fa5ae-487">Удаленная отладка в Azure</span><span class="sxs-lookup"><span data-stu-id="fa5ae-487">Remote debugging in Azure</span></span>
* <span data-ttu-id="fa5ae-488">Трассировка в приложениях ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fa5ae-488">Tracing in ASP.NET applications</span></span>
* <span data-ttu-id="fa5ae-489">Анализ журналов веб-сервера</span><span class="sxs-lookup"><span data-stu-id="fa5ae-489">Analyzing web server logs</span></span>
* <span data-ttu-id="fa5ae-490">Анализ журналов трассировки неудачно завершенных запросов</span><span class="sxs-lookup"><span data-stu-id="fa5ae-490">Analyzing failed request tracing logs</span></span>
* <span data-ttu-id="fa5ae-491">Отладка облачных служб</span><span class="sxs-lookup"><span data-stu-id="fa5ae-491">Debugging Cloud Services</span></span>

### <a name="azure-web-app-troubleshooting"></a><span data-ttu-id="fa5ae-492">Устранение неполадок веб-приложения Azure</span><span class="sxs-lookup"><span data-stu-id="fa5ae-492">Azure web app troubleshooting</span></span>
<span data-ttu-id="fa5ae-493">Дополнительные сведения об устранении неполадок с веб-приложений в службе приложений Azure см. в разделе hello следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-493">For more information about troubleshooting web apps in Azure App Service, see hello following resources:</span></span>

* [<span data-ttu-id="fa5ae-494">Как toomonitor веб-приложений</span><span class="sxs-lookup"><span data-stu-id="fa5ae-494">How toomonitor web apps</span></span>](/manage/services/web-sites/how-to-monitor-websites/)
* <span data-ttu-id="fa5ae-495">[Исследование проблемы утечки памяти в веб-приложениях Azure с использованием Visual Studio 2013](http://blogs.msdn.com/b/visualstudioalm/archive/2013/12/20/investigating-memory-leaks-in-azure-web-sites-with-visual-studio-2013.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-495">[Investigating Memory Leaks in Azure Web Apps with Visual Studio 2013](http://blogs.msdn.com/b/visualstudioalm/archive/2013/12/20/investigating-memory-leaks-in-azure-web-sites-with-visual-studio-2013.aspx).</span></span> <span data-ttu-id="fa5ae-496">Запись блога Microsoft ALM о функциях Visual Studio для анализа проблем с управляемой памятью.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-496">Microsoft ALM blog post about Visual Studio features for analyzing managed memory issues.</span></span>
* <span data-ttu-id="fa5ae-497">[Онлайн-инструменты веб-приложений Azure, о которых вам следует знать](https://azure.microsoft.com/blog/2014/03/28/windows-azure-websites-online-tools-you-should-know-about-2/).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-497">[Azure web apps online tools you should know about](https://azure.microsoft.com/blog/2014/03/28/windows-azure-websites-online-tools-you-should-know-about-2/).</span></span> <span data-ttu-id="fa5ae-498">Запись в блоге Амита Эппла (Amit Apple).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-498">Blog post by Amit Apple.</span></span>

<span data-ttu-id="fa5ae-499">Для получения справки по устранению неполадок определенный вопрос запустите поток в одном из следующих форумов hello:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-499">For help with a specific troubleshooting question, start a thread in one of hello following forums:</span></span>

* <span data-ttu-id="fa5ae-500">[Здравствуйте, форум Azure на сайте ASP.NET hello](http://forums.asp.net/1247.aspx/1?Azure+and+ASP+NET).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-500">[hello Azure forum on hello ASP.NET site](http://forums.asp.net/1247.aspx/1?Azure+and+ASP+NET).</span></span>
* <span data-ttu-id="fa5ae-501">[Здравствуйте, форум MSDN по Azure](http://social.msdn.microsoft.com/Forums/windowsazure/).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-501">[hello Azure forum on MSDN](http://social.msdn.microsoft.com/Forums/windowsazure/).</span></span>
* <span data-ttu-id="fa5ae-502">[StackOverflow.com](http://www.stackoverflow.com).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-502">[StackOverflow.com](http://www.stackoverflow.com).</span></span>

### <a name="debugging-in-visual-studio"></a><span data-ttu-id="fa5ae-503">Отладка в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="fa5ae-503">Debugging in Visual Studio</span></span>
<span data-ttu-id="fa5ae-504">Дополнительные сведения о том, как toouse режим отладки в Visual Studio см. в разделе hello [отладки в Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx) раздел библиотеки MSDN и [советы отладки в Visual Studio 2010](http://weblogs.asp.net/scottgu/archive/2010/08/18/debugging-tips-with-visual-studio-2010.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-504">For more information about how toouse debug mode in Visual Studio, see hello [Debugging in Visual Studio](http://msdn.microsoft.com/library/vstudio/sc65sadd.aspx) MSDN topic and [Debugging Tips with Visual Studio 2010](http://weblogs.asp.net/scottgu/archive/2010/08/18/debugging-tips-with-visual-studio-2010.aspx).</span></span>

### <a name="remote-debugging-in-azure"></a><span data-ttu-id="fa5ae-505">Удаленная отладка в Azure</span><span class="sxs-lookup"><span data-stu-id="fa5ae-505">Remote debugging in Azure</span></span>
<span data-ttu-id="fa5ae-506">Дополнительные сведения об удаленной отладке Azure веб-приложениями и веб-заданий см. в разделе hello следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-506">For more information about remote debugging for Azure web apps and WebJobs, see hello following resources:</span></span>

* <span data-ttu-id="fa5ae-507">[Введение tooRemote отладки приложения службы веб-приложения Azure](https://azure.microsoft.com/blog/2014/05/06/introduction-to-remote-debugging-on-azure-web-sites/).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-507">[Introduction tooRemote Debugging Azure App Service Web Apps](https://azure.microsoft.com/blog/2014/05/06/introduction-to-remote-debugging-on-azure-web-sites/).</span></span>
* [<span data-ttu-id="fa5ae-508">Введение tooRemote отладки приложения службы веб-приложения Azure часть 2 - внутри удаленной отладки</span><span class="sxs-lookup"><span data-stu-id="fa5ae-508">Introduction tooRemote Debugging Azure App Service Web Apps part 2 - Inside Remote debugging</span></span>](https://azure.microsoft.com/blog/2014/05/07/introduction-to-remote-debugging-azure-web-sites-part-2-inside-remote-debugging/)
* [<span data-ttu-id="fa5ae-509">Введение tooRemote отладку на веб-приложениях службы приложений Azure, часть 3. несколько экземпляров среды и GIT</span><span class="sxs-lookup"><span data-stu-id="fa5ae-509">Introduction tooRemote Debugging on Azure App Service Web Apps part 3 - Multi-Instance environment and GIT</span></span>](https://azure.microsoft.com/blog/2014/05/08/introduction-to-remote-debugging-on-azure-web-sites-part-3-multi-instance-environment-and-git/)
* [<span data-ttu-id="fa5ae-510">Отладка веб-заданий (видео)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-510">WebJobs Debugging (video)</span></span>](https://www.youtube.com/watch?v=ncQm9q5ZFZs&list=UU_SjTh-ZltPmTYzAybypB-g&index=1)

<span data-ttu-id="fa5ae-511">Если веб-приложение использует Тыловой Azure веб-API или мобильных служб и необходимости toodebug, см. [отладка серверной части .NET в Visual Studio](http://blogs.msdn.com/b/azuremobile/archive/2014/03/14/debugging-net-backend-in-visual-studio.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-511">If your web app uses an Azure Web API or Mobile Services back-end and you need toodebug that, see [Debugging .NET Backend in Visual Studio](http://blogs.msdn.com/b/azuremobile/archive/2014/03/14/debugging-net-backend-in-visual-studio.aspx).</span></span>

### <a name="tracing-in-aspnet-applications"></a><span data-ttu-id="fa5ae-512">Трассировка в приложениях ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fa5ae-512">Tracing in ASP.NET applications</span></span>
<span data-ttu-id="fa5ae-513">Существуют не tooASP.NET начальные Аккуратное и актуальные сведения трассировки, доступны в Интернете hello.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-513">There are no thorough and up-to-date introductions tooASP.NET tracing available on hello Internet.</span></span> <span data-ttu-id="fa5ae-514">можно сделать лучший Hello начало работы с старого вводные материалы, написанный для веб-форм, так как MVC еще существует и не дополнить этот вариант, новая блог записей, настроенных на конкретные проблемы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-514">hello best you can do is get started with old introductory materials written for Web Forms because MVC didn't exist yet, and supplement that with newer blog posts that focus on specific issues.</span></span> <span data-ttu-id="fa5ae-515">Некоторые toostart полезных ссылки являются hello следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-515">Some good places toostart are hello following resources:</span></span>

* <span data-ttu-id="fa5ae-516">[Мониторинг и телеметрия (создание реальных облачных приложений в Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-516">[Monitoring and Telemetry (Building Real-World Cloud Apps with Azure)](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry).</span></span><br>
  <span data-ttu-id="fa5ae-517">Глава электронной книги с рекомендациями по трассировке в облачных приложениях Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-517">E-book chapter with recommendations for tracing in Azure cloud applications.</span></span>
* [<span data-ttu-id="fa5ae-518">Трассировка ASP.NET</span><span class="sxs-lookup"><span data-stu-id="fa5ae-518">ASP.NET Tracing</span></span>](http://msdn.microsoft.com/library/ms972204.aspx)<br/>
  <span data-ttu-id="fa5ae-519">Старый, но по-прежнему ценным ресурсом для темы toohello основные сведения.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-519">Old but still a good resource for a basic introduction toohello subject.</span></span>
* [<span data-ttu-id="fa5ae-520">Прослушиватели трассировки</span><span class="sxs-lookup"><span data-stu-id="fa5ae-520">Trace Listeners</span></span>](http://msdn.microsoft.com/library/4y5y10s7.aspx)<br/>
  <span data-ttu-id="fa5ae-521">Сведения о прослушивателях трассировки, но не упоминается hello [WebPageTraceListener](http://msdn.microsoft.com/library/system.web.webpagetracelistener.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-521">Information about trace listeners but doesn't mention hello [WebPageTraceListener](http://msdn.microsoft.com/library/system.web.webpagetracelistener.aspx).</span></span>
* [<span data-ttu-id="fa5ae-522">Пошаговое руководство: интеграция трассировки ASP.NET с трассировкой System.Diagnostics</span><span class="sxs-lookup"><span data-stu-id="fa5ae-522">Walkthrough: Integrating ASP.NET Tracing with System.Diagnostics Tracing</span></span>](http://msdn.microsoft.com/library/b0ectfxd.aspx)<br/>
  <span data-ttu-id="fa5ae-523">Это слишком стар, но содержит некоторые дополнительные сведения об этой hello вводные статья не охватывает.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-523">This too is old, but includes some additional information that hello introductory article doesn't cover.</span></span>
* [<span data-ttu-id="fa5ae-524">Трассировка в представлениях ASP.NET MVC Razor</span><span class="sxs-lookup"><span data-stu-id="fa5ae-524">Tracing in ASP.NET MVC Razor Views</span></span>](http://blogs.msdn.com/b/webdev/archive/2013/07/16/tracing-in-asp-net-mvc-razor-views.aspx)<br/>
  <span data-ttu-id="fa5ae-525">Помимо трассировки в представлений Razor hello post также объясняется, как toocreate ошибку фильтрацию в порядке toolog все необработанные исключения в приложении MVC.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-525">Besides tracing in Razor views, hello post also explains how toocreate an error filter in order toolog all unhandled exceptions in an MVC application.</span></span> <span data-ttu-id="fa5ae-526">Сведения о как toolog всех необработанных исключений в приложении Web Forms, см. пример Global.asax hello в [полный пример обработчиков ошибок](http://msdn.microsoft.com/library/bb397417.aspx) на сайте MSDN.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-526">For information about how toolog all unhandled exceptions in a Web Forms application, see hello Global.asax example in [Complete Example for Error Handlers](http://msdn.microsoft.com/library/bb397417.aspx) on MSDN.</span></span> <span data-ttu-id="fa5ae-527">Если требуется toolog некоторые исключения, но позволить framework по умолчанию hello обработки для их создания, вступят в силу в MVC или веб-форм можно взять и заново создать как следующий пример hello:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-527">In either MVC or Web Forms, if you want toolog certain exceptions but let hello default framework handling take effect for them, you can catch and rethrow as in hello following example:</span></span>

        try
        {
           // Your code that might cause an exception toobe thrown.
        }
        catch (Exception ex)
        {
            Trace.TraceError("Exception: " + ex.ToString());
            throw;
        }
* [<span data-ttu-id="fa5ae-528">Потоковая передача ведение журнала трассировки диагностики из командной строки Azure hello (плюс Glimpse!)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-528">Streaming Diagnostics Trace Logging from hello Azure Command Line (plus Glimpse!)</span></span>](http://www.hanselman.com/blog/StreamingDiagnosticsTraceLoggingFromTheAzureCommandLinePlusGlimpse.aspx)<br/>
  <span data-ttu-id="fa5ae-529">Как toouse hello toodo командной строки какие этого учебника показано как toodo в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-529">How toouse hello command line toodo what this tutorial shows how toodo in Visual Studio.</span></span> <span data-ttu-id="fa5ae-530">[Glimpse](http://www.hanselman.com/blog/IfYoureNotUsingGlimpseWithASPNETForDebuggingAndProfilingYoureMissingOut.aspx) – это средство для отладки приложений ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-530">[Glimpse](http://www.hanselman.com/blog/IfYoureNotUsingGlimpseWithASPNETForDebuggingAndProfilingYoureMissingOut.aspx) is a tool for debugging ASP.NET applications.</span></span>
* <span data-ttu-id="fa5ae-531">[Использование функций диагностики и ведения журнала для веб-приложений с Дэвидом Эббо (David Ebbo)](/documentation/videos/azure-web-site-logging-and-diagnostics/) и [Потоковая передача журналов из веб-приложений с Дэвидом Эббо (David Ebbo)](/documentation/videos/log-streaming-with-azure-web-sites/)</span><span class="sxs-lookup"><span data-stu-id="fa5ae-531">[Using Web Apps Logging and Diagnostics - with David Ebbo](/documentation/videos/azure-web-site-logging-and-diagnostics/) and [Streaming Logs from Web Apps - with David Ebbo](/documentation/videos/log-streaming-with-azure-web-sites/)</span></span><br>
  <span data-ttu-id="fa5ae-532">Авторы видео: Скотт Хансельман (Scott Hanselman) и Дэвид Эббо (David Ebbo).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-532">Videos by Scott Hanselman and David Ebbo.</span></span>

<span data-ttu-id="fa5ae-533">Для ведения журнала ошибок, альтернативные toowriting код трассировки — toouse открытым кодом платформы ведения журналов, такие как [ELMAH](http://nuget.org/packages/elmah/).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-533">For error logging, an alternative toowriting your own tracing code is toouse an open-source logging framework such as [ELMAH](http://nuget.org/packages/elmah/).</span></span> <span data-ttu-id="fa5ae-534">Дополнительные сведения см. в [записях блога Скотта Хансельмана (Scott Hanselman), посвященных ELMAH](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-534">For more information, see [Scott Hanselman's blog posts about ELMAH](http://www.hanselman.com/blog/NuGetPackageOfTheWeek7ELMAHErrorLoggingModulesAndHandlersWithSQLServerCompact.aspx).</span></span>

<span data-ttu-id="fa5ae-535">Кроме того Обратите внимание, что нет toouse ASP.NET или журналы трассировки System.Diagnostics, если требуется tooget потоковой передачи из Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-535">Also, note that you don't have toouse ASP.NET or System.Diagnostics tracing if you want tooget streaming logs from Azure.</span></span> <span data-ttu-id="fa5ae-536">Hello веб-приложение Azure службы журналов потоковой передачи использует потоковую передачу любого *.txt*, *.html*, или *.log* файл, который он находит в hello *LogFiles* папки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-536">hello Azure web app streaming log service will stream any *.txt*, *.html*, or *.log* file that it finds in hello *LogFiles* folder.</span></span> <span data-ttu-id="fa5ae-537">Таким образом можно создать собственную систему ведения журналов, которые записывает toohello файловой системы веб-приложения hello и автоматически потоковой передачи и загрузки файла.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-537">Therefore, you could create your own logging system that writes toohello file system of hello web app, and your file will be automatically streamed and downloaded.</span></span> <span data-ttu-id="fa5ae-538">Все, у вас есть toodo — написание кода приложения, который создает файлы в hello *d:\home\logfiles* папки.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-538">All you have toodo is write application code that creates files in hello *d:\home\logfiles* folder.</span></span>

### <a name="analyzing-web-server-logs"></a><span data-ttu-id="fa5ae-539">Анализ журналов веб-сервера</span><span class="sxs-lookup"><span data-stu-id="fa5ae-539">Analyzing web server logs</span></span>
<span data-ttu-id="fa5ae-540">Дополнительные сведения об анализе журналы веб-сервера см. в разделе hello следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="fa5ae-540">For more information about analyzing web server logs, see hello following resources:</span></span>

* [<span data-ttu-id="fa5ae-541">LogParser</span><span class="sxs-lookup"><span data-stu-id="fa5ae-541">LogParser</span></span>](http://www.microsoft.com/download/details.aspx?id=24659)<br/>
  <span data-ttu-id="fa5ae-542">Инструмент для просмотра данных в журналах веб-сервера (*LOG* -файлов).</span><span class="sxs-lookup"><span data-stu-id="fa5ae-542">A tool for viewing data in web server logs (*.log* files).</span></span>
* [<span data-ttu-id="fa5ae-543">Устранение неполадок, связанных с производительностью IIS, или ошибок приложений с помощью LogParser</span><span class="sxs-lookup"><span data-stu-id="fa5ae-543">Troubleshooting IIS Performance Issues or Application Errors using LogParser </span></span>](http://www.iis.net/learn/troubleshoot/performance-issues/troubleshooting-iis-performance-issues-or-application-errors-using-logparser)<br/>
  <span data-ttu-id="fa5ae-544">Средство синтаксического анализа журналов toohello введение tooanalyze веб-сервера можно использовать журналы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-544">An introduction toohello Log Parser tool that you can use tooanalyze web server logs.</span></span>
* [<span data-ttu-id="fa5ae-545">Записи блога Роберта Мак-Мюррея (Robert McMurray), посвященные использованию LogParser</span><span class="sxs-lookup"><span data-stu-id="fa5ae-545">Blog posts by Robert McMurray on using LogParser</span></span>](http://blogs.msdn.com/b/robert_mcmurray/archive/tags/logparser/)<br/>
* [<span data-ttu-id="fa5ae-546">Здравствуйте, код состояния HTTP в IIS 7.0, IIS 7.5 и IIS 8.0</span><span class="sxs-lookup"><span data-stu-id="fa5ae-546">hello HTTP status code in IIS 7.0, IIS 7.5, and IIS 8.0</span></span>](http://support.microsoft.com/kb/943891)

### <a name="analyzing-failed-request-tracing-logs"></a><span data-ttu-id="fa5ae-547">Анализ журналов трассировки неудачно завершенных запросов</span><span class="sxs-lookup"><span data-stu-id="fa5ae-547">Analyzing failed request tracing logs</span></span>
<span data-ttu-id="fa5ae-548">включает веб-сайте Microsoft TechNet Hello [с помощью сбойных запросов](http://www.iis.net/learn/troubleshoot/using-failed-request-tracing) раздел, в котором могут оказаться полезными для понимания того, как toouse эти журналы.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-548">hello Microsoft TechNet website includes a [Using Failed Request Tracing](http://www.iis.net/learn/troubleshoot/using-failed-request-tracing) section which may be helpful for understanding how toouse these logs.</span></span> <span data-ttu-id="fa5ae-549">Но эта документация посвящена преимущественно настройке трассировки неудачно завершенных запросов в IIS, которую невозможно выполнить в веб-приложениях Azure.</span><span class="sxs-lookup"><span data-stu-id="fa5ae-549">However, this documentation focuses mainly on configuring failed request tracing in IIS, which you can't do in Azure Web Apps.</span></span>

[GetStarted]: app-service-web-get-started-dotnet.md
[GetStartedWJ]: websites-dotnet-webjobs-sdk.md
