---
title: "aaaDeploy веб-заданий с помощью Visual Studio"
description: "Узнайте, как веб-заданий Azure toodeploy tooAzure приложения службы веб-приложений с помощью Visual Studio."
services: app-service
documentationcenter: 
author: ggailey777
manager: erikre
editor: jimbe
ms.assetid: a3a9d320-1201-4ac8-9398-b4c9535ba755
ms.service: app-service
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 04/27/2016
ms.author: glenga
ms.openlocfilehash: 5fc5d9562e8836348f5ab6844fb6c23ff40a321c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-webjobs-using-visual-studio"></a>Развертывание веб-заданий с помощью Visual Studio
## <a name="overview"></a>Обзор
В этом разделе объясняется, как Visual Studio toouse toodeploy консольного приложения проекта tooa веб-приложения в [службы приложений](http://go.microsoft.com/fwlink/?LinkId=529714) как [веб-задания Azure](http://go.microsoft.com/fwlink/?LinkId=390226). Сведения о как hello toodeploy веб-заданий с помощью [портала Azure](https://portal.azure.com), в разделе [запуск фоновых задач с веб-задания](web-sites-create-web-jobs.md).

При развертывании в Visual Studio проекта консольного приложения с поддержкой веб-заданий выполняются две задачи.

* Файлы среды выполнения копии toohello соответствующую папку в веб-приложения hello (*App_Data и задания и непрерывной* для непрерывные веб-задания *App_Data и заданий и запуске* веб-заданиях расписанию и по запросу).
* Настраивает [заданий планировщика Azure](#scheduler) для веб-заданий, запланированных toorun в определенные промежутки времени. (Это не требуется для постоянных веб-заданий.)

Включить веб-заданий проект содержит следующие элементы добавлены tooit hello:

* Hello [Microsoft.Web.WebJobs.Publish](http://www.nuget.org/packages/Microsoft.Web.WebJobs.Publish/) пакет NuGet.
* Файл [webjob-publish-settings.json](#publishsettings) , который содержит параметры развертывания и планировщика. 

![Схема, показывающая, что добавляется развертывания tooenable tooa консольного приложения как веб-задания](./media/websites-dotnet-deploy-webjobs/convert.png)

Можно добавить эти элементы, tooan существующий проект консольного приложения или использовать шаблон toocreate новый проект консольного приложения с поддержкой веб-заданий. 

Можно развернуть проект как веб-задания сам по себе или свяжите его tooa веб-проекта, чтобы автоматически развертывает при каждом развертывании hello веб-проекта. проекты toolink Visual Studio включает имя hello hello включен веб-задания проекта в [list.json веб-заданий](#webjobslist) файл в проекте веб-hello.

![Схема, показывающая связи tooweb проекта проектов веб-задания](./media/websites-dotnet-deploy-webjobs/link.png)

## <a name="prerequisites"></a>Предварительные требования
Средства развертывания веб-заданий доступны в Visual Studio при установке hello Azure SDK для .NET.

* [Пакет SDK Azure для .NET (Visual Studio)](https://azure.microsoft.com/downloads/).

## <a id="convert"></a>Включение развертывания веб-заданий для существующего проекта консольного приложения
Существует два варианта.

* [Включение автоматического развертывания с веб-проектом](#convertlink).
  
    Настройка существующего проекта приложения консоли для автоматического развертывания в качестве веб-приложения при развертывании веб-проекта. Используйте этот параметр, если нужно toorun веб-задание в hello веб-приложения, связанные с одной веб-приложения, в котором выполняются hello.
* [Включение развертывания без веб-проекта](#convertnolink).
  
    Настройте существующие toodeploy проекта консольного приложения как веб-задания сама по себе с нет ссылок tooa веб-проекта. Используйте этот параметр при необходимости toorun веб-задание в веб-приложения с веб-приложений, не работает в веб-приложения hello сама по себе. Может потребоваться toodo это в заказ может tooscale toobe ресурсам веб-задание, независимо от ресурсам веб-приложения.

### <a id="convertlink"></a> Включение автоматического развертывания веб-заданий с помощью веб-проекта
1. Щелкните правой кнопкой мыши проект веб-hello в **обозревателе решений**, а затем нажмите кнопку **добавить** > **существующий проект как веб-задания Azure**.
   
    ![Существующий проект как веб-задание Azure](./media/websites-dotnet-deploy-webjobs/eawj.png)
   
    Hello [добавить веб-задание Azure](#configure) откроется диалоговое окно.
2. В hello **имя проекта** раскрывающегося списка, выберите hello tooadd проекта консольного приложения как веб-задания.
   
    ![Выбор проекта в диалоговом окне "Добавление веб-задания Azure"](./media/websites-dotnet-deploy-webjobs/aaw1.png)
3. Полный hello [добавить веб-задание Azure](#configure) диалогового окна, а затем щелкните **ОК**. 

### <a id="convertnolink"></a> Включение развертывания веб-заданий без веб-проекта
1. Щелкните правой кнопкой мыши проект консольного приложения hello в **обозревателе решений**, а затем нажмите кнопку **опубликовать как веб-задания Azure...** . 
   
    ![Опубликовать как веб-задание Azure](./media/websites-dotnet-deploy-webjobs/paw.png)
   
    Hello [добавить веб-задание Azure](#configure) появится диалоговое окно с проект hello в hello **имя проекта** поле.
2. Полный hello [добавить веб-задание Azure](#configure) диалоговое окно, а затем щелкните **ОК**.
   
   Hello **веб-публикация** откроется окно мастера.  Если вы не хотите toopublish немедленно, закройте мастер hello. Hello параметры, которые вы ввели сохраняются для при необходимости слишком[развертывание проекта hello](#deploy).

## <a id="create"></a>Создание нового проекта с поддержкой веб-заданий
toocreate новый проект с поддержкой веб-заданий можно использовать hello консольного приложения проекта шаблона и включить веб-задания развертывания как описано в [hello предыдущего раздела](#convert). В качестве альтернативы можно использовать шаблон нового проекта веб-заданий hello:

* [Используйте шаблон нового проекта веб-заданий hello для независимых веб-задания](#createnolink)
  
    Создайте проект и настройте его toodeploy сам по себе как веб-задание с нет ссылок tooa веб-проекта. Используйте этот параметр при необходимости toorun веб-задание в веб-приложения с веб-приложений, не работает в веб-приложения hello сама по себе. Может потребоваться toodo это в заказ может tooscale toobe ресурсам веб-задание, независимо от ресурсам веб-приложения.
* [Используйте шаблон нового проекта веб-заданий hello связанного tooa веб-проекта веб-задания](#createlink)
  
    Создание проекта, настроенного toodeploy автоматически как веб-задание при веб-проекта в одно решение развертывается приветствия. Используйте этот параметр, если нужно toorun веб-задание в hello веб-приложения, связанные с одной веб-приложения, в котором выполняются hello.

> [!NOTE]
> шаблон нового проекта веб-заданий Hello автоматически устанавливает пакеты NuGet и включает код в *Program.cs* для hello [SDK веб-задания](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/getting-started-with-windows-azure-webjobs). Если вы не хотите toouse hello SDK веб-заданий, удалить или изменить hello `host.RunAndBlock` инструкции в *Program.cs*.
> 
> 

### <a id="createnolink"></a>Используйте шаблон нового проекта веб-заданий hello для независимых веб-задания
1. Нажмите кнопку **файл** > **новый проект**, а затем в hello **новый проект** диалоговом окне **облака**  >   **Веб-задание Azure (.NET Framework)**.
   
    ![Диалоговое окно "Новый проект", отображающее шаблон веб-заданий](./media/websites-dotnet-deploy-webjobs/np.png)
2. Следуйте приведенным инструкциям hello, показанного выше слишком[сделать hello проект консольного приложения в проект веб-заданий независимым](#convertnolink).

### <a id="createlink"></a>Используйте шаблон нового проекта веб-заданий hello связанного tooa веб-проекта веб-задания
1. Щелкните правой кнопкой мыши проект веб-hello в **обозревателе решений**, а затем нажмите кнопку **добавить** > **новый проект веб-задания Azure**.
   
    ![Запись меню "Новый проект веб-задания Azure"](./media/websites-dotnet-deploy-webjobs/nawj.png)
   
    Hello [добавить веб-задание Azure](#configure) откроется диалоговое окно.
2. Полный hello [добавить веб-задание Azure](#configure) диалоговое окно, а затем щелкните **ОК**.

## <a id="configure"></a>диалоговое окно Добавить веб-задание Azure Hello
Hello **добавить веб-задание Azure** диалоговое окно позволяет вводить имя веб-задания hello и выполнить настройку режима для вашего веб-задания. 

![Диалоговое окно "Добавление веб-заданий Azure"](./media/websites-dotnet-deploy-webjobs/aaw2.png)

Hello поля в этом диалоговом окне соответствуют toofields на hello **новое задание** диалогового окна hello портала Azure. Дополнительные сведения см. в разделе [Выполнение фоновых задач с помощью веб-заданий](web-sites-create-web-jobs.md).

> [!NOTE]
> * Дополнительные сведения о развертывании из командной строки см. в разделе [Включение предоставления веб-заданий Azure из командной строки или постоянно](https://azure.microsoft.com/blog/2014/08/18/enabling-command-line-or-continuous-delivery-of-azure-webjobs/).
> * Если развертывается веб-задания, а затем решить, что следует toochange типа hello веб-задания и повторного развертывания, вам потребуется файл публикации settings.json веб-заданий toodelete hello. Благодаря Visual Studio представления hello, параметры публикации, поэтому можно изменить тип hello веб-задания.
> * При развертывании веб-задания, если впоследствии изменить hello режиме выполнения из непрерывного toonon непрерывные или наоборот, Visual Studio создает новый веб-задание в Azure, при повторном развертывании. Если изменить другие параметры планирования или расписания, но режим запуска оставьте hello таким же или переключаться между расписанию и по запросу, обновлений Visual Studio hello существующее задание вместо создания нового.
> 
> 

## <a id="publishsettings"></a>webjob-publish-settings.json
При настройке консольное приложение для развертывания веб-заданий Visual Studio устанавливает hello [Microsoft.Web.WebJobs.Publish](http://www.nuget.org/packages/Microsoft.Web.WebJobs.Publish/) NuGet пакета и хранилищ, планирование сведения в *публикации settings.json веб-задания*  файл в проекте hello *свойства* папки проекта веб-заданий hello. Вот пример этого файла:

        {
          "$schema": "http://schemastore.org/schemas/json/webjob-publish-settings.json",
          "webJobName": "WebJob1",
          "startTime": "null",
          "endTime": "null",
          "jobRecurrenceFrequency": "null",
          "interval": null,
          "runMode": "Continuous"
        }

Вы можете изменить этот файл напрямую, и Visual Studio предоставит IntelliSense. схема файла Hello хранится на [http://schemastore.org](http://schemastore.org/schemas/json/webjob-publish-settings.json) и доступны для просмотра.  

## <a id="webjobslist"></a>webjobs-list.json
При связывании tooa проекта с поддержкой веб-заданий веб-проекта Visual Studio сохраняет hello имя проекта веб-заданий hello в *веб-заданий list.json* файла в проекте веб-hello *свойства* папки. Hello список может содержать несколько проектов веб-задания, как показано в следующий пример hello:

        {
          "$schema": "http://schemastore.org/schemas/json/webjobs-list.json",
          "WebJobs": [
            {
              "filePath": "../ConsoleApplication1/ConsoleApplication1.csproj"
            },
            {
              "filePath": "../WebJob1/WebJob1.csproj"
            }
          ]
        }

Вы можете изменить этот файл напрямую, и Visual Studio предоставит IntelliSense. схема файла Hello хранится на [http://schemastore.org](http://schemastore.org/schemas/json/webjobs-list.json) и доступны для просмотра.

## <a id="deploy"></a>Развертывание проекта веб-заданий
Проект веб-заданий, вы связали tooa веб-проекта автоматически развертывает с hello веб-проекта. Сведения о развертывании веб-проектов см. в разделе [как toodeploy tooWeb приложения](web-sites-deploy.md).

toodeploy проект веб-заданий самостоятельно, щелкните правой кнопкой мыши проект hello в **обозревателе решений** и нажмите кнопку **опубликовать как веб-задания Azure...** . 

![Опубликовать как веб-задание Azure](./media/websites-dotnet-deploy-webjobs/paw.png)

Для независимых веб-задания hello же **веб-публикация** мастер, используемый для веб-проектов отображается, но с меньшим числом toochange доступные параметры.

## <a id="nextsteps"></a>Дальнейшие действия
В этой статье показано как toodeploy веб-заданий с помощью Visual Studio. Дополнительные сведения о том, как toodeploy веб-задания Azure, отображается [веб-заданий Azure — рекомендуется использовать ресурсы - развертывания](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/azure-webjobs-recommended-resources#deploying).

