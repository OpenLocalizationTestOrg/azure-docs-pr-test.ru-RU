---
title: "aaaIntegrate приложения с помощью виртуальной сети Azure"
description: "Показано, как tooconnect приложения в службе приложений Azure tooa новой или существующей виртуальной сети Azure"
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: cephalin
ms.assetid: 90bc6ec6-133d-4d87-a867-fcf77da75f5a
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/23/2017
ms.author: ccompy
ms.openlocfilehash: a93c504481400245b02220b541a008a7c874d10a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="integrate-your-app-with-an-azure-virtual-network"></a><span data-ttu-id="75577-103">Интеграция приложения с виртуальной сетью Azure</span><span class="sxs-lookup"><span data-stu-id="75577-103">Integrate your app with an Azure Virtual Network</span></span>
<span data-ttu-id="75577-104">Этот документ описывает функции интеграции виртуальной сети службы приложений Azure hello и показывает, как tooset его с приложениями в [службе приложений Azure](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="75577-104">This document describes hello Azure App Service virtual network integration feature and shows how tooset it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> <span data-ttu-id="75577-105">Если вы не знакомы с Azure виртуальных сетей (Vnet), это возможность, которая позволяет вам tooplace, многие ресурсы Azure в сети routeable не через Интернет, которым можно управлять доступом к.</span><span class="sxs-lookup"><span data-stu-id="75577-105">If you are unfamiliar with Azure Virtual Networks (VNets), this is a capability that allows you tooplace many of your Azure resources in a non-internet routeable network that you control access to.</span></span> <span data-ttu-id="75577-106">Затем эти сети можно подключенных tooyour локальным сетям с помощью разнообразных технологии виртуальных частных СЕТЕЙ.</span><span class="sxs-lookup"><span data-stu-id="75577-106">These networks can then be connected tooyour on-premises networks using a variety of VPN technologies.</span></span> <span data-ttu-id="75577-107">Дополнительные сведения о виртуальных сетях Azure toolearn начать здесь сведениями hello: [Обзор виртуальной сети Azure][VNETOverview].</span><span class="sxs-lookup"><span data-stu-id="75577-107">toolearn more about Azure Virtual Networks, start with hello information here: [Azure Virtual Network Overview][VNETOverview].</span></span> 

<span data-ttu-id="75577-108">Hello службе приложений Azure имеет две формы.</span><span class="sxs-lookup"><span data-stu-id="75577-108">hello Azure App Service has two forms.</span></span> 

1. <span data-ttu-id="75577-109">Hello систем несколькими клиентами, которые поддерживают полный диапазон hello Тарифные планы</span><span class="sxs-lookup"><span data-stu-id="75577-109">hello multi-tenant systems that support hello full range of pricing plans</span></span>
2. <span data-ttu-id="75577-110">Hello среды службы приложений (ASE) premium функции, которая развертывает в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-110">hello App Service Environment (ASE) premium feature, which deploys into your VNet.</span></span> 

<span data-ttu-id="75577-111">В этом документе рассматривается интеграция с виртуальной сетью, а не среда службы приложений.</span><span class="sxs-lookup"><span data-stu-id="75577-111">This document goes through VNet Integration and not App Service Environment.</span></span> <span data-ttu-id="75577-112">Дополнительные сведения о функции hello ASE toolearn следует запустить здесь сведениями hello: [введение среды службы приложений][ASEintro].</span><span class="sxs-lookup"><span data-stu-id="75577-112">If you want toolearn more about hello ASE feature, start with hello information here: [App Service Environment introduction][ASEintro].</span></span>

<span data-ttu-id="75577-113">Интеграция виртуальной сети позволяет tooresources доступ приложения к web в виртуальной сети, но не предоставляет доступ к закрытому tooyour веб-приложения hello в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-113">VNet Integration gives your web app access tooresources in your virtual network but does not grant private access tooyour web app from hello virtual network.</span></span> <span data-ttu-id="75577-114">Доступ к закрытым узлу ссылается toomaking приложение доступно только из частной сети как из внутри виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="75577-114">Private site access refers toomaking your app only accessible from a private network such as from within an Azure virtual network.</span></span> <span data-ttu-id="75577-115">Доступ к частным сайтам возможен, только если для ASE настроен внутренний балансировщик нагрузки (ILB).</span><span class="sxs-lookup"><span data-stu-id="75577-115">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span></span> <span data-ttu-id="75577-116">Дополнительные сведения об использовании ILB ASE приступить к статье hello здесь: [Создание и использование ILB ASE][ILBASE].</span><span class="sxs-lookup"><span data-stu-id="75577-116">For details on using an ILB ASE, start with hello article here: [Creating and using an ILB ASE][ILBASE].</span></span> 

<span data-ttu-id="75577-117">Общие сценарии, где используется Интеграция виртуальной сети Включение доступа из вашего веб-приложения tooa база данных или веб-службы, выполняемой на виртуальной машине в виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="75577-117">A common scenario where you would use VNet Integration is enabling access from your web app tooa database or a web service running on a virtual machine in your Azure virtual network.</span></span> <span data-ttu-id="75577-118">Благодаря интеграции виртуальной сети вам не требуется tooexpose общедоступную конечную точку для приложений на виртуальной Машине, но вместо этого можно использовать частные адреса маршрутизируемый hello не через Интернет.</span><span class="sxs-lookup"><span data-stu-id="75577-118">With VNet Integration, you don't need tooexpose a public endpoint for applications on your VM but can use hello private non-internet routable addresses instead.</span></span> 

<span data-ttu-id="75577-119">Функция интеграции виртуальной сети Hello:</span><span class="sxs-lookup"><span data-stu-id="75577-119">hello VNet Integration feature:</span></span>

* <span data-ttu-id="75577-120">требуется тарифный план "Стандартный", "Премиум" или "Isolated";</span><span class="sxs-lookup"><span data-stu-id="75577-120">requires a Standard, Premium, or Isolated pricing plan</span></span> 
* <span data-ttu-id="75577-121">работает с классической виртуальной сетью или с виртуальной сетью Resource Manager;</span><span class="sxs-lookup"><span data-stu-id="75577-121">works with Classic or Resource Manager VNet</span></span> 
* <span data-ttu-id="75577-122">поддерживает TCP и UDP;</span><span class="sxs-lookup"><span data-stu-id="75577-122">supports TCP and UDP</span></span>
* <span data-ttu-id="75577-123">поддерживается веб-приложениями, мобильными приложениями и приложениями API;</span><span class="sxs-lookup"><span data-stu-id="75577-123">works with Web, Mobile, and API apps</span></span>
* <span data-ttu-id="75577-124">включает tooonly tooconnect приложение 1 виртуальной сети одновременно</span><span class="sxs-lookup"><span data-stu-id="75577-124">enables an app tooconnect tooonly 1 VNet at a time</span></span>
* <span data-ttu-id="75577-125">включает копирование toofive toobe виртуальных сетей, интегрировать в план служб приложений</span><span class="sxs-lookup"><span data-stu-id="75577-125">enables up toofive VNets toobe integrated with in an App Service Plan</span></span> 
* <span data-ttu-id="75577-126">позволяет hello toobe же виртуальной сети, используемой нескольких приложений в план служб приложений</span><span class="sxs-lookup"><span data-stu-id="75577-126">allows hello same VNet toobe used by multiple apps in an App Service Plan</span></span>
* <span data-ttu-id="75577-127">поддерживает 99,9% SLA, из-за toohello соглашения об уровне ОБСЛУЖИВАНИЯ для hello шлюза виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="75577-127">supports a 99.9% SLA due toohello SLA on hello VNet Gateway</span></span>

<span data-ttu-id="75577-128">Функции, не поддерживаемые при интеграции с виртуальной сетью:</span><span class="sxs-lookup"><span data-stu-id="75577-128">There are some things that VNet Integration does not support including:</span></span>

* <span data-ttu-id="75577-129">подключение диска;</span><span class="sxs-lookup"><span data-stu-id="75577-129">mounting a drive</span></span>
* <span data-ttu-id="75577-130">интеграция с AD;</span><span class="sxs-lookup"><span data-stu-id="75577-130">AD integration</span></span> 
* <span data-ttu-id="75577-131">NetBios;</span><span class="sxs-lookup"><span data-stu-id="75577-131">NetBios</span></span>
* <span data-ttu-id="75577-132">доступ к частным сайтам.</span><span class="sxs-lookup"><span data-stu-id="75577-132">private site access</span></span>

### <a name="getting-started"></a><span data-ttu-id="75577-133">Приступая к работе</span><span class="sxs-lookup"><span data-stu-id="75577-133">Getting started</span></span>
<span data-ttu-id="75577-134">Ниже приведены некоторые вещи tookeep учитывать перед подключением виртуальной сети tooa приложения web.</span><span class="sxs-lookup"><span data-stu-id="75577-134">Here are some things tookeep in mind before connecting your web app tooa virtual network:</span></span>

* <span data-ttu-id="75577-135">К виртуальной сети можно подключить только приложения тарифного плана **Стандартный**, **Премиум** или **Isolated**.</span><span class="sxs-lookup"><span data-stu-id="75577-135">VNet Integration only works with apps in a **Standard**, **Premium**, or **Isolated** pricing plan.</span></span> <span data-ttu-id="75577-136">Если включить функцию hello, а затем масштабирование вашей tooan план обслуживания приложений не поддерживается ценовой план приложений потерять свои подключения toohello виртуальных сетей, они используют.</span><span class="sxs-lookup"><span data-stu-id="75577-136">If you enable hello feature, and then scale your App Service Plan tooan unsupported pricing plan your apps lose their connections toohello VNets they are using.</span></span> 
* <span data-ttu-id="75577-137">Целевой виртуальной сети уже существует, должно иметь точка сеть VPN с включенной с шлюз динамической маршрутизации может быть подключенным tooan приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-137">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected tooan app.</span></span> <span data-ttu-id="75577-138">Если для шлюза настроена статическая маршрутизация, то подключение виртуальной частной сети типа "точка — сеть" (VPN) невозможно активировать.</span><span class="sxs-lookup"><span data-stu-id="75577-138">If your gateway is configured with Static routing, you cannot enable point-to-site Virtual Private Network (VPN).</span></span>
* <span data-ttu-id="75577-139">Hello виртуальной сети должны находиться в hello той же подписке, Plan(ASP) службы вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-139">hello VNet must be in hello same subscription as your App Service Plan(ASP).</span></span> 
* <span data-ttu-id="75577-140">Hello приложений, которые интегрируются с виртуальной сети используйте hello DNS, которая указана для этой виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-140">hello apps that integrate with a VNet use hello DNS that is specified for that VNet.</span></span>
* <span data-ttu-id="75577-141">По умолчанию приложения интеграции только направлять трафик в виртуальной сети на основе маршрутов hello, которые определены в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-141">By default your integrating apps only route traffic into your VNet based on hello routes that are defined in your VNet.</span></span> 

## <a name="enabling-vnet-integration"></a><span data-ttu-id="75577-142">Включение интеграции с виртуальной сетью</span><span class="sxs-lookup"><span data-stu-id="75577-142">Enabling VNet Integration</span></span>
<span data-ttu-id="75577-143">В этом документе основное внимание уделено главным образом с помощью hello портал Azure для интеграции виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-143">This document is focused primarily on using hello Azure portal for VNet Integration.</span></span> <span data-ttu-id="75577-144">tooenable Интеграция виртуальной сети с помощью приложения с помощью PowerShell, следуйте инструкциям hello здесь: [подключения виртуальной сети tooyour приложения с помощью PowerShell][IntPowershell].</span><span class="sxs-lookup"><span data-stu-id="75577-144">tooenable VNet Integration with your app using PowerShell, follow hello directions here: [Connect your app tooyour virtual network by using PowerShell][IntPowershell].</span></span>

<span data-ttu-id="75577-145">У вас есть параметр tooconnect hello приложения tooa новой или существующей виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-145">You have hello option tooconnect your app tooa new or existing virtual network.</span></span> <span data-ttu-id="75577-146">При создании новой сети в рамках интеграции, затем Кроме toojust Создание hello виртуальной сети, шлюз с динамической маршрутизацией предварительно настраивается автоматически и включена точка tooSite VPN.</span><span class="sxs-lookup"><span data-stu-id="75577-146">If you create a new network as a part of your integration, then in addition toojust creating hello VNet, a dynamic routing gateway is pre-configured for you and Point tooSite VPN is enabled.</span></span> 

> [!NOTE]
> <span data-ttu-id="75577-147">Настройка интеграции с новой виртуальной сетью может занять несколько минут.</span><span class="sxs-lookup"><span data-stu-id="75577-147">Configuring a new virtual network integration can take several minutes.</span></span> 
> 
> 

<span data-ttu-id="75577-148">tooenable Интеграция виртуальной сети, откройте приложение параметров, а затем выберите сеть.</span><span class="sxs-lookup"><span data-stu-id="75577-148">tooenable VNet Integration, open your app Settings and then select Networking.</span></span> <span data-ttu-id="75577-149">пользовательский Интерфейс, который открывает Hello предлагает три сетевые возможности.</span><span class="sxs-lookup"><span data-stu-id="75577-149">hello UI that opens up offers three networking choices.</span></span> <span data-ttu-id="75577-150">В этом руководстве подробно описывается только интеграция с виртуальной сетью. Использование гибридных подключений и сред службы приложений вкратце рассматривается в конце документа.</span><span class="sxs-lookup"><span data-stu-id="75577-150">This guide is only going into VNet Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span></span> 

<span data-ttu-id="75577-151">Если приложение не hello правильный ценовой план, hello пользовательский Интерфейс позволяет tooscale tooa вашего плана, выше цены плана по своему усмотрению.</span><span class="sxs-lookup"><span data-stu-id="75577-151">If your app is not in hello correct pricing plan, hello UI enables you tooscale your plan tooa higher pricing plan of your choice.</span></span>

![][1]

### <a name="enabling-vnet-integration-with-a-pre-existing-vnet"></a><span data-ttu-id="75577-152">Включение интеграции с существующей виртуальной сетью</span><span class="sxs-lookup"><span data-stu-id="75577-152">Enabling VNet Integration with a pre-existing VNet</span></span>
<span data-ttu-id="75577-153">Hello пользовательского интерфейса интеграции виртуальной сети позволяет tooselect из списка своих сетей Vnet.</span><span class="sxs-lookup"><span data-stu-id="75577-153">hello VNet Integration UI allows you tooselect from a list of your VNets.</span></span> <span data-ttu-id="75577-154">Hello классических виртуальных сетей указать для них таких словом hello «Классическая» в виртуальной сети имя следующего toohello круглые скобки.</span><span class="sxs-lookup"><span data-stu-id="75577-154">hello Classic VNets indicate that they are such with hello word "Classic" in parentheses next toohello VNet name.</span></span> <span data-ttu-id="75577-155">Hello список отсортирован таким образом, что hello виртуальных сетей диспетчера ресурсов являются первыми.</span><span class="sxs-lookup"><span data-stu-id="75577-155">hello list is sorted such that hello Resource Manager VNets are listed first.</span></span> <span data-ttu-id="75577-156">В hello изображения, приведенные ниже, то можно увидеть, могут быть выбраны только одной виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-156">In hello image shown below you can see that only one VNet can be selected.</span></span> <span data-ttu-id="75577-157">Виртуальные сети могут быть неактивными в этом списке по разным причинам, например:</span><span class="sxs-lookup"><span data-stu-id="75577-157">There are multiple reasons that a VNet can be grayed out including:</span></span>

* <span data-ttu-id="75577-158">Hello виртуальной сети находится в другой подписке, что доступ к вашей учетной записи</span><span class="sxs-lookup"><span data-stu-id="75577-158">hello VNet is in another subscription that your account has access to</span></span>
* <span data-ttu-id="75577-159">Hello виртуальной сети не поддерживает точки tooSite включена</span><span class="sxs-lookup"><span data-stu-id="75577-159">hello VNet does not have Point tooSite enabled</span></span>
* <span data-ttu-id="75577-160">Hello виртуальной сети нет шлюза с динамической маршрутизацией</span><span class="sxs-lookup"><span data-stu-id="75577-160">hello VNet does not have a dynamic routing gateway</span></span>

![][2]

<span data-ttu-id="75577-161">Интеграция tooenable просто щелкнуть hello нужно toointegrate с виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-161">tooenable integration simply click on hello VNet you wish toointegrate with.</span></span> <span data-ttu-id="75577-162">После выбора hello виртуальной сети, приложение автоматически перезапускается для эффекта tootake изменения hello.</span><span class="sxs-lookup"><span data-stu-id="75577-162">After you select hello VNet, your app is automatically restarted for hello changes tootake effect.</span></span> 

##### <a name="enable-point-toosite-in-a-classic-vnet"></a><span data-ttu-id="75577-163">Включить tooSite точки в классической виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="75577-163">Enable Point tooSite in a Classic VNet</span></span>
<span data-ttu-id="75577-164">Если виртуальной сети нет шлюза, и не имеет точки tooSite, то должны будете tooset первый элемент вверх.</span><span class="sxs-lookup"><span data-stu-id="75577-164">If your VNet does not have a gateway nor has Point tooSite, then you have tooset that up first.</span></span> <span data-ttu-id="75577-165">go toodo для классической виртуальной сети, toohello [портал Azure] [ AzurePortal] , чтобы вызвать список виртуальных Networks(classic) hello.</span><span class="sxs-lookup"><span data-stu-id="75577-165">toodo this for a Classic VNet, go toohello [Azure portal][AzurePortal] and bring up hello list of Virtual Networks(classic).</span></span> <span data-ttu-id="75577-166">Щелкните здесь, hello сети toointegrate с и щелкните на hello большое поле Essentials называется VPN-подключений.</span><span class="sxs-lookup"><span data-stu-id="75577-166">From here, click on hello network you want toointegrate with and click on hello big box under Essentials called VPN Connections.</span></span> <span data-ttu-id="75577-167">Здесь можно создать точки toosite VPN и даже заставить его создать шлюз.</span><span class="sxs-lookup"><span data-stu-id="75577-167">From here, you can create your point toosite VPN and even have it create a gateway.</span></span> <span data-ttu-id="75577-168">После перехода по toosite точки hello навыки создания шлюза будет около 30 минут, прежде чем будет готов к работе.</span><span class="sxs-lookup"><span data-stu-id="75577-168">After you go through hello point toosite with gateway creation experience it is about 30 minutes before it is ready.</span></span> 

![][8]

##### <a name="enabling-point-toosite-in-a-resource-manager-vnet"></a><span data-ttu-id="75577-169">Включение точки tooSite в диспетчер ресурсов виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="75577-169">Enabling Point tooSite in a Resource Manager VNet</span></span>
<span data-ttu-id="75577-170">tooconfigure виртуальная сеть диспетчера ресурсов с шлюза и tooSite точки PowerShell можно использовать либо как описано здесь [Настройка точки сайтами подключения tooa виртуальной сети с помощью PowerShell] [ V2VNETP2S] или использовать hello портал Azure как описано здесь [Настройка точки сайтами соединения tooa виртуальной сети с помощью портала Azure "hello"][V2VNETPortal].</span><span class="sxs-lookup"><span data-stu-id="75577-170">tooconfigure a Resource Manager VNet with a gateway and Point tooSite, you can use either PowerShell as documented here, [Configure a Point-to-Site connection tooa virtual network using PowerShell][V2VNETP2S] or use hello Azure portal as documented here, [Configure a Point-to-Site connection tooa VNet using hello Azure portal][V2VNETPortal].</span></span> <span data-ttu-id="75577-171">Hello tooperform пользовательского интерфейса эта возможность еще не доступны.</span><span class="sxs-lookup"><span data-stu-id="75577-171">hello UI tooperform this capability is not yet available.</span></span> <span data-ttu-id="75577-172">Помните, что вы должны toocreate сертификаты для конфигурации точки tooSite hello.</span><span class="sxs-lookup"><span data-stu-id="75577-172">Note that you need toocreate certificates for hello Point tooSite configuration.</span></span> <span data-ttu-id="75577-173">Это настраивается автоматически при подключении к веб-приложение toohello виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-173">This is automatically configured when you connect your WebApp toohello VNet.</span></span> 

### <a name="creating-a-pre-configured-vnet"></a><span data-ttu-id="75577-174">Создание предварительно настроенной виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="75577-174">Creating a pre-configured VNet</span></span>
<span data-ttu-id="75577-175">Если вы хотите toocreate новую виртуальную сеть, в которой настроен шлюз и точки сайтами, hello сети пользовательского интерфейса службы приложений имеет возможность toodo hello, но только для диспетчера ресурсов виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-175">If you want toocreate a new VNet that is configured with a gateway and Point-to-Site, then hello App Service networking UI has hello capability toodo that but only for a Resource Manager VNet.</span></span> <span data-ttu-id="75577-176">При желании toocreate классической виртуальной сети, шлюз и точка-сайт, затем требуется toodo вручную через пользовательский интерфейс сети hello.</span><span class="sxs-lookup"><span data-stu-id="75577-176">If you wish toocreate a Classic VNet with a gateway and Point-to-Site, then you need toodo this manually through hello Networking user interface.</span></span> 

<span data-ttu-id="75577-177">toocreate диспетчер ресурсов виртуальной сети через hello пользовательского интерфейса интеграции виртуальной сети, просто выберите **создать новую виртуальную сеть** и укажите:</span><span class="sxs-lookup"><span data-stu-id="75577-177">toocreate a Resource Manager VNet through hello VNet Integration UI, simply select **Create New Virtual Network** and provide the:</span></span>

* <span data-ttu-id="75577-178">имя виртуальной сети;</span><span class="sxs-lookup"><span data-stu-id="75577-178">Virtual Network Name</span></span>
* <span data-ttu-id="75577-179">блок адресов виртуальной сети;</span><span class="sxs-lookup"><span data-stu-id="75577-179">Virtual Network Address Block</span></span>
* <span data-ttu-id="75577-180">Имя подсети</span><span class="sxs-lookup"><span data-stu-id="75577-180">Subnet Name</span></span>
* <span data-ttu-id="75577-181">блок адресов подсети;</span><span class="sxs-lookup"><span data-stu-id="75577-181">Subnet Address Block</span></span>
* <span data-ttu-id="75577-182">блок адресов шлюза;</span><span class="sxs-lookup"><span data-stu-id="75577-182">Gateway Address Block</span></span>
* <span data-ttu-id="75577-183">блок адресов подключения "точка-сеть".</span><span class="sxs-lookup"><span data-stu-id="75577-183">Point-to-Site Address Block</span></span>

<span data-ttu-id="75577-184">Если вы хотите tooany tooconnect этой виртуальной сети других сетей, следует избегать, комплектации пространство IP-адресов, который пересекается с этим сетям.</span><span class="sxs-lookup"><span data-stu-id="75577-184">If you want this VNet tooconnect tooany other networks, then you should avoid picking IP address space that overlaps with those networks.</span></span> 

> [!NOTE]
> <span data-ttu-id="75577-185">Создания диспетчера ресурсов виртуальной сети со шлюзом занимает около 30 минут и в настоящее время не поддерживает интеграцию hello виртуальной сети с приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-185">Resource Manager VNet creation with a gateway takes about 30 minutes and currently does not integrate hello VNet with your app.</span></span> <span data-ttu-id="75577-186">После создания виртуальной сети со шлюзом hello требуется toocome задней tooyour приложение пользовательского интерфейса интеграции виртуальной сети и выберите в новую виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="75577-186">After your VNet is created with hello gateway you need toocome back tooyour app VNet Integration UI and select your new VNet.</span></span>
> 
> 

![][3]

<span data-ttu-id="75577-187">Виртуальные сети Azure обычно создаются с адресами, принадлежащими к диапазону частных сетей.</span><span class="sxs-lookup"><span data-stu-id="75577-187">Azure VNets normally are created within private network addresses.</span></span> <span data-ttu-id="75577-188">По умолчанию hello Интеграция виртуальной сети компонент маршрутизирует любого трафика, предназначенного для этих диапазонов IP-адресов в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-188">By default hello VNet Integration feature routes any traffic destined for those IP address ranges into your VNet.</span></span> <span data-ttu-id="75577-189">приведены Hello частных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="75577-189">hello private IP address ranges are:</span></span>

* <span data-ttu-id="75577-190">-Это является hello же, как 10.0.0.0 - 10.0.0.0/8 10.255.255.255</span><span class="sxs-lookup"><span data-stu-id="75577-190">10.0.0.0/8 - this is hello same as 10.0.0.0 - 10.255.255.255</span></span>
* <span data-ttu-id="75577-191">-Это является hello же, как 172.16.0.0 - 172.16.0.0/12 172.31.255.255</span><span class="sxs-lookup"><span data-stu-id="75577-191">172.16.0.0/12 - this is hello same as 172.16.0.0 - 172.31.255.255</span></span> 
* <span data-ttu-id="75577-192">-Это является hello же, как 192.168.0.0 - 192.168.0.0/16 192.168.255.255</span><span class="sxs-lookup"><span data-stu-id="75577-192">192.168.0.0/16 - this is hello same as 192.168.0.0 - 192.168.255.255</span></span>

<span data-ttu-id="75577-193">Hello адресное пространство виртуальной сети должен toobe указаны в нотации CIDR.</span><span class="sxs-lookup"><span data-stu-id="75577-193">hello VNet address space needs toobe specified in CIDR notation.</span></span> <span data-ttu-id="75577-194">Если вы не знакомы с помощью нотации CIDR, он является методом для указания блокировок адрес, используя IP-адрес и целое число, представляющее hello маска сети.</span><span class="sxs-lookup"><span data-stu-id="75577-194">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents hello network mask.</span></span> <span data-ttu-id="75577-195">Например, запись 10.1.0.0/24 представляет 256 адресов, а запись 10.1.0.0/25 — 128 адресов.</span><span class="sxs-lookup"><span data-stu-id="75577-195">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span></span> <span data-ttu-id="75577-196">Для протокола IPv4 маска /32 представляет только один адрес.</span><span class="sxs-lookup"><span data-stu-id="75577-196">An IPv4 address with a /32 would be just 1 address.</span></span> 

<span data-ttu-id="75577-197">Если заданные hello данные DNS-сервера, который задается для виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-197">If you set hello DNS server information here, then that is set for your VNet.</span></span> <span data-ttu-id="75577-198">После создания виртуальной сети можно изменить эту информацию с пользовательским интерфейсом hello виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-198">After VNet creation you can edit this information from hello VNet user experiences.</span></span> <span data-ttu-id="75577-199">Если изменить hello DNS hello виртуальной сети, должны tooperform синхронизации сетевую операцию.</span><span class="sxs-lookup"><span data-stu-id="75577-199">If you change hello DNS of hello VNet, then you need tooperform a Sync Network operation.</span></span>

<span data-ttu-id="75577-200">При создании классической виртуальной сети, с помощью hello пользовательского интерфейса интеграции виртуальной сети, он создает виртуальную сеть в hello же группе ресурсов приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-200">When you create a Classic VNet using hello VNet Integration UI, it creates a VNet in hello same resource group as your app.</span></span> 

## <a name="how-hello-system-works"></a><span data-ttu-id="75577-201">Как работает система hello</span><span class="sxs-lookup"><span data-stu-id="75577-201">How hello system works</span></span>
<span data-ttu-id="75577-202">На деле hello эта функция строится на основе технологии tooconnect точка-сеть VPN вашего приложения tooyour виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-202">Under hello covers this feature builds on top of Point-to-Site VPN technology tooconnect your app tooyour VNet.</span></span> <span data-ttu-id="75577-203">Приложения в службе приложений Azure имеют мультитенантную архитектуру, которая не позволяет подготовить приложение непосредственно в виртуальной сети, как это происходит с виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="75577-203">Apps in Azure App Service have a multi-tenant system architecture, which precludes provisioning an app directly in a VNet as is done with virtual machines.</span></span> <span data-ttu-id="75577-204">С опорой на технологии точка сеть ограничена сетевого доступа toojust hello размещения виртуальных машин приложение hello.</span><span class="sxs-lookup"><span data-stu-id="75577-204">By building on point-to-site technology we limit network access toojust hello virtual machine hosting hello app.</span></span> <span data-ttu-id="75577-205">Сетевой доступ к toohello ограничивается на этих узлах приложения, чтобы ваши приложения доступны только сети hello, настройте их tooaccess.</span><span class="sxs-lookup"><span data-stu-id="75577-205">Access toohello network is further restricted on those app hosts so that your apps can only access hello networks that you configure them tooaccess.</span></span> 

![][4]

<span data-ttu-id="75577-206">Если вы еще не настроили DNS-сервер виртуальную сеть, вашему приложению потребуется tooreach toouse IP-адреса ресурса в hello виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-206">If you haven’t configured a DNS server with your virtual network, your app will need toouse IP addresses tooreach resource in hello VNet.</span></span> <span data-ttu-id="75577-207">При использовании IP-адреса, помните, что hello основных преимуществ этой возможности, он позволяет toouse hello частных адресов в частной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-207">While using IP addresses, remember that hello major benefit of this feature is that it enables you toouse hello private addresses within your private network.</span></span> <span data-ttu-id="75577-208">Здравствуйте, при установке приложения вверх toouse общих IP-адресов для одного из виртуальных машин, то неиспользуемые функции hello интеграции виртуальной сети и обмениваются данными через Интернет.</span><span class="sxs-lookup"><span data-stu-id="75577-208">If you set your app up toouse public IP addresses for one of your VMs, then you aren't using hello VNet Integration feature and are communicating over hello internet.</span></span>

## <a name="managing-hello-vnet-integrations"></a><span data-ttu-id="75577-209">Управление hello интеграции виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="75577-209">Managing hello VNet Integrations</span></span>
<span data-ttu-id="75577-210">Здравствуйте, возможность tooconnect и отключите tooa виртуальной сети находится на уровне приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-210">hello ability tooconnect and disconnect tooa VNet is at an app level.</span></span> <span data-ttu-id="75577-211">Операции, которые могут повлиять на hello Интеграция виртуальной сети для нескольких приложений, на уровне ASP.</span><span class="sxs-lookup"><span data-stu-id="75577-211">Operations that can affect hello VNet Integration across multiple apps are at an ASP level.</span></span> <span data-ttu-id="75577-212">Сведения можно получить из hello пользовательского интерфейса, который отображается на уровне приложения hello в вашей виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-212">From hello UI that is shown at hello app level, you can get details on your VNet.</span></span> <span data-ttu-id="75577-213">Большинство приветствия же информация также отображается в hello ASP-уровня.</span><span class="sxs-lookup"><span data-stu-id="75577-213">Most of hello same information is also shown at hello ASP level.</span></span> 

![][5]

<span data-ttu-id="75577-214">На странице состояния компонентов сети hello можно увидеть, если приложение будет tooyour подключенной виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-214">From hello Network Feature Status page, you can see if your app is connected tooyour VNet.</span></span> <span data-ttu-id="75577-215">Если шлюз виртуальной сети по какой-либо причине не работает, здесь будет указано, что подключение не установлено.</span><span class="sxs-lookup"><span data-stu-id="75577-215">If your VNet gateway is down for whatever reason, then this would show as not-connected.</span></span> 

<span data-ttu-id="75577-216">сведения Hello, теперь у вас есть доступные tooyou в приложение hello уровня пользовательского интерфейса интеграции виртуальной сети является hello же hello подробных сведений, получаемых из hello ASP.</span><span class="sxs-lookup"><span data-stu-id="75577-216">hello information you now have available tooyou in hello app level VNet Integration UI is hello same as hello detail information you get from hello ASP.</span></span> <span data-ttu-id="75577-217">Они представлены ниже.</span><span class="sxs-lookup"><span data-stu-id="75577-217">Here are those items:</span></span>

* <span data-ttu-id="75577-218">Имя виртуальной сети - эта ссылка открывает hello виртуальной сети Azure пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="75577-218">VNet Name - This link opens hello Azure virtual network UI</span></span>
* <span data-ttu-id="75577-219">Расположение — это отражает hello расположение виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-219">Location - This reflects hello location of your VNet.</span></span> <span data-ttu-id="75577-220">Это возможно toointegrate с виртуальной сети в другом месте.</span><span class="sxs-lookup"><span data-stu-id="75577-220">It is possible toointegrate with a VNet in another location.</span></span>
* <span data-ttu-id="75577-221">Состояние сертификата — существуют сертификаты, используемые toosecure hello VPN-подключение между приложение hello и hello виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-221">Certificate Status - There are certificates used toosecure hello VPN connection between hello app and hello VNet.</span></span> <span data-ttu-id="75577-222">Это отражает tooensure тестирования, они находятся в синхронизированном состоянии.</span><span class="sxs-lookup"><span data-stu-id="75577-222">This reflects a test tooensure they are in sync.</span></span>
* <span data-ttu-id="75577-223">Состояние шлюза — следует шлюзов не работает для какой-либо причине затем приложение не может обращаться к ресурсам hello виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-223">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in hello VNet.</span></span> 
* <span data-ttu-id="75577-224">Адресное пространство виртуальной сети — это hello пространство IP-адресов для виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-224">VNet address space - This is hello IP address space for your VNet.</span></span> 
* <span data-ttu-id="75577-225">Адресное пространство tooSite точка - это пространство IP-адресов hello toosite точки для виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-225">Point tooSite address space - This is hello point toosite IP address space for your VNet.</span></span> <span data-ttu-id="75577-226">Приложение отображает действия как поступающие от одного hello IP-адреса в этом адресном пространстве.</span><span class="sxs-lookup"><span data-stu-id="75577-226">Your app shows communication as coming from one of hello IPs in this address space.</span></span> 
* <span data-ttu-id="75577-227">Адресное пространство сайта toosite - можно использовать узел tooSite VPN tooconnect вашей виртуальной сети tooyour локальных ресурсов или tooother виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-227">Site toosite address space - You can use Site tooSite VPNs tooconnect your VNet tooyour on-premises resources or tooother VNet.</span></span> <span data-ttu-id="75577-228">При возникновении настроенной затем определенные диапазоны IP-адресов hello с здесь показано VPN-подключения.</span><span class="sxs-lookup"><span data-stu-id="75577-228">Should you have that configured then hello IP ranges defined with that VPN connection shows here.</span></span>
* <span data-ttu-id="75577-229">DNS-серверы. Здесь перечислены DNS-серверы, настроенные для виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-229">DNS Servers - If you have DNS Servers configured with your VNet, then they are listed here.</span></span>
* <span data-ttu-id="75577-230">IP-адреса, перенаправленные toohello виртуальной сети — существует список IP-адресов виртуальной сети имеет маршрутизации, определенные для, и эти адреса будут отображены здесь.</span><span class="sxs-lookup"><span data-stu-id="75577-230">IPs routed toohello VNet - There are a list of IP addresses that your VNet has routing defined for, and those addresses show here.</span></span> 

<span data-ttu-id="75577-231">Hello только операции, выполняемые в режиме приложения hello интеграции вашей виртуальной сети является toodisconnect приложения hello в настоящее время он подключен к виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-231">hello only operation you can take in hello app view of your VNet Integration is toodisconnect your app from hello VNet it is currently connected to.</span></span> <span data-ttu-id="75577-232">Отключить это просто щелкните вверху hello toodo.</span><span class="sxs-lookup"><span data-stu-id="75577-232">toodo this simply click Disconnect at hello top.</span></span> <span data-ttu-id="75577-233">Это действие не изменяет настройки виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-233">This action does not change your VNet.</span></span> <span data-ttu-id="75577-234">Hello виртуальной сети и его конфигурацией, включая шлюзы hello остается неизменным.</span><span class="sxs-lookup"><span data-stu-id="75577-234">hello VNet and its configuration including hello gateways remains unchanged.</span></span> <span data-ttu-id="75577-235">Если вы захотите toodelete виртуальной сети, необходимо toofirst delete hello ресурсы, в том числе шлюзы hello.</span><span class="sxs-lookup"><span data-stu-id="75577-235">If you then want toodelete your VNet, you need toofirst delete hello resources in it including hello gateways.</span></span> 

<span data-ttu-id="75577-236">Hello план служб приложений представление имеет ряд дополнительных операций.</span><span class="sxs-lookup"><span data-stu-id="75577-236">hello App Service Plan view has a number of additional operations.</span></span> <span data-ttu-id="75577-237">Он также осуществляется иначе, чем из приложение hello.</span><span class="sxs-lookup"><span data-stu-id="75577-237">It is also accessed differently than from hello app.</span></span> <span data-ttu-id="75577-238">hello tooreach пользовательского интерфейса сети ASP просто открыть пользовательский Интерфейс ASP и прокрутите страницу вниз.</span><span class="sxs-lookup"><span data-stu-id="75577-238">tooreach hello ASP Networking UI simply open your ASP UI and scroll down.</span></span> <span data-ttu-id="75577-239">Здесь вы увидите элемент интерфейса «Состояние компонентов сети».</span><span class="sxs-lookup"><span data-stu-id="75577-239">There is a UI element called Network Feature Status.</span></span> <span data-ttu-id="75577-240">Он содержит некоторые краткие сведения, имеющие отношение к интеграции с виртуальной сетью.</span><span class="sxs-lookup"><span data-stu-id="75577-240">It gives some minor details around your VNet Integration.</span></span> <span data-ttu-id="75577-241">Если выбрать этот пользовательский Интерфейс откроется hello пользовательского интерфейса состояние компонентов сети.</span><span class="sxs-lookup"><span data-stu-id="75577-241">Clicking on this UI opens hello Network Feature Status UI.</span></span> <span data-ttu-id="75577-242">Если затем выбрать на «щелкните здесь toomanage», hello пользовательский Интерфейс, который перечисляет hello открывается интеграции виртуальной сети в этой среде ASP.</span><span class="sxs-lookup"><span data-stu-id="75577-242">If you then click on "Click here toomanage", hello UI that lists hello VNet Integrations in this ASP opens.</span></span>

![][6]

<span data-ttu-id="75577-243">Hello hello ASP находится хорошо tooremember при просмотре hello расположения hello виртуальных сетей можно интегрировать с.</span><span class="sxs-lookup"><span data-stu-id="75577-243">hello location of hello ASP is good tooremember when looking at hello locations of hello VNets you are integrating with.</span></span> <span data-ttu-id="75577-244">Является намного более вероятно проблемы задержки toosee hello виртуальной сети находится в другом месте.</span><span class="sxs-lookup"><span data-stu-id="75577-244">When hello VNet is in another location you are far more likely toosee latency issues.</span></span> 

<span data-ttu-id="75577-245">Hello виртуальных сетей, интегрировать является напоминание на количество виртуальных сетей, приложений встроены в этом ASP и сколько может быть.</span><span class="sxs-lookup"><span data-stu-id="75577-245">hello VNets integrated with is a reminder on how many VNets your apps are integrated with in this ASP and how many you can have.</span></span> 

<span data-ttu-id="75577-246">toosee добавлены сведения в каждой виртуальной сети, просто нажмите кнопку на hello виртуальной сети, которые вас интересуют.</span><span class="sxs-lookup"><span data-stu-id="75577-246">toosee added details on each VNet, just click on hello VNet you are interested in.</span></span> <span data-ttu-id="75577-247">В дополнение к этому toohello сведения, которые были уже отмечалось ранее, также появится список приложения hello в этой среде ASP, которые используются этой виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-247">In addition toohello details that were noted earlier, you can also see a list of hello apps in this ASP that are using that VNet.</span></span> 

<span data-ttu-id="75577-248">С учетом tooactions существует — это два источника действия.</span><span class="sxs-lookup"><span data-stu-id="75577-248">With respect tooactions there are two primary actions.</span></span> <span data-ttu-id="75577-249">Во-первых, Hello является hello возможность tooadd маршруты, диск трафика, оставляя приложение в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-249">hello first is hello ability tooadd routes that drive traffic leaving your app into your VNet.</span></span> <span data-ttu-id="75577-250">второе действие Hello — hello возможность toosync сертификаты и сведения о сети.</span><span class="sxs-lookup"><span data-stu-id="75577-250">hello second action is hello ability toosync certificates and network information.</span></span>

![][7]

<span data-ttu-id="75577-251">**Маршрутизация** как уже отмечалось hello маршруты, которые определены в виртуальной сети, используемой для перенаправления трафика в сети из приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-251">**Routing** As noted earlier hello routes that are defined in your VNet are what is used for directing traffic into your VNet from your app.</span></span> <span data-ttu-id="75577-252">Хотя клиенты место toosend дополнительных исходящий трафик из приложения в виртуальной сети hello и для них эта возможность предоставляется существуют некоторые варианты.</span><span class="sxs-lookup"><span data-stu-id="75577-252">There are some uses though where customers want toosend additional outbound traffic from an app into hello VNet and for them this capability is provided.</span></span> <span data-ttu-id="75577-253">Что происходит toohello трафика после toohow hello клиента настраивает их виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-253">What happens toohello traffic after that is up toohow hello customer configures their VNet.</span></span> 

<span data-ttu-id="75577-254">**Сертификаты** hello состояние сертификата отражает проверку, выполняемой hello hello сертификаты, которые мы используем для hello VPN-подключение по-прежнему подходят toovalidate службы приложений.</span><span class="sxs-lookup"><span data-stu-id="75577-254">**Certificates** hello Certificate Status reflects a check being performed by hello App Service toovalidate that hello certificates that we are using for hello VPN connection are still good.</span></span> <span data-ttu-id="75577-255">При включении интеграции виртуальной сети, если это hello первой интеграции toothat виртуальной сети из любого приложения в этой среде ASP существует, не требуется exchange сертификаты tooensure hello безопасности подключения hello.</span><span class="sxs-lookup"><span data-stu-id="75577-255">When VNet Integration enabled, then if this is hello first integration toothat VNet from any apps in this ASP, there is a required exchange of certificates tooensure hello security of hello connection.</span></span> <span data-ttu-id="75577-256">Вместе с сертификатами hello получить конфигурацию DNS hello, маршрутов и прочего аналогичные, описывающие hello сети.</span><span class="sxs-lookup"><span data-stu-id="75577-256">Along with hello certificates we get hello DNS configuration, routes and other similar things that describe hello network.</span></span>
<span data-ttu-id="75577-257">При изменении этих сертификатов или сведения о сети, вы должны tooclick «Network синхронизации».</span><span class="sxs-lookup"><span data-stu-id="75577-257">If those certificates or network information is changed, then you need tooclick "Sync Network".</span></span> <span data-ttu-id="75577-258">**Примечание**. Выполнение синхронизации с сетью сопровождается кратковременной потерей подключения между приложением и виртуальной сетью.</span><span class="sxs-lookup"><span data-stu-id="75577-258">**NOTE**: When you click "Sync Network" then you cause a brief outage in connectivity between your app and your VNet.</span></span> <span data-ttu-id="75577-259">Пока приложение не перезагружается, hello потеря подключения может привести к функции toonot сайта должным образом.</span><span class="sxs-lookup"><span data-stu-id="75577-259">While your app is not restarted, hello loss of connectivity could cause your site toonot function properly.</span></span> 

## <a name="accessing-on-premises-resources"></a><span data-ttu-id="75577-260">Доступ к локальным ресурсам</span><span class="sxs-lookup"><span data-stu-id="75577-260">Accessing on-premises resources</span></span>
<span data-ttu-id="75577-261">Одним из преимуществ hello hello компонент интеграции виртуальной сети является, если подключение виртуальной сети tooyour в локальной сети с сайта tooSite VPN затем приложения могут иметь доступ к ресурсам в локальной tooyour из приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-261">One of hello benefits of hello VNet Integration feature is that if your VNet is connected tooyour on-premises network with a Site tooSite VPN then your apps can have access tooyour on-premises resources from your app.</span></span> <span data-ttu-id="75577-262">Для этого toowork на то, что может потребоваться tooupdate локального шлюза VPN с hello направляет для диапазона IP-вашей tooSite точки.</span><span class="sxs-lookup"><span data-stu-id="75577-262">For this toowork though you may need tooupdate your on-premises VPN gateway with hello routes for your Point tooSite IP range.</span></span> <span data-ttu-id="75577-263">При первой настройке сайта hello tooSite VPN, а затем использовать сценарии hello tooconfigure следует настроить маршруты, включая точки tooSite VPN.</span><span class="sxs-lookup"><span data-stu-id="75577-263">When hello Site tooSite VPN is first set up then hello scripts used tooconfigure it should set up routes including your Point tooSite VPN.</span></span> <span data-ttu-id="75577-264">При добавлении hello VPN tooSite точки после создания вашего сайта tooSite VPN требуется tooupdate hello маршруты вручную.</span><span class="sxs-lookup"><span data-stu-id="75577-264">If you add hello Point tooSite VPN after you create your Site tooSite VPN, then you need tooupdate hello routes manually.</span></span> <span data-ttu-id="75577-265">Сведения о как toodo зависит от конкретного шлюза, не описанные здесь.</span><span class="sxs-lookup"><span data-stu-id="75577-265">Details on how toodo that vary per gateway and are not described here.</span></span> 

> [!NOTE]
> <span data-ttu-id="75577-266">Функция интеграции виртуальной сети Hello не интегрировать приложения виртуальную сеть, которая имеет шлюз ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="75577-266">hello VNet Integration feature does not integrate an app with a VNet that has an ExpressRoute Gateway.</span></span> <span data-ttu-id="75577-267">Даже если настроена hello шлюз ExpressRoute [режим сосуществования] [ VPNERCoex] hello Интеграция виртуальной сети не работает.</span><span class="sxs-lookup"><span data-stu-id="75577-267">Even if hello ExpressRoute Gateway is configured in [coexistence mode][VPNERCoex] hello VNet Integration does not work.</span></span> <span data-ttu-id="75577-268">Если требуется tooaccess ресурсам через подключение ExpressRoute, то можно использовать [среды службы приложений][ASE], который выполняется в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-268">If you need tooaccess resources through an ExpressRoute connection, then you can use an [App Service Environment][ASE], which runs in your VNet.</span></span>
> 
> 

## <a name="pricing-details"></a><span data-ttu-id="75577-269">Сведения о тарифах</span><span class="sxs-lookup"><span data-stu-id="75577-269">Pricing details</span></span>
<span data-ttu-id="75577-270">Существуют некоторые особенности, которые следует иметь в виду при использовании компонента интеграции виртуальной сети hello цены.</span><span class="sxs-lookup"><span data-stu-id="75577-270">There are a few pricing nuances that you should be aware of when using hello VNet Integration feature.</span></span> <span data-ttu-id="75577-271">Существует 3 связанных плата toohello использование этой функции:</span><span class="sxs-lookup"><span data-stu-id="75577-271">There are 3 related charges toohello use of this feature:</span></span>

* <span data-ttu-id="75577-272">требования к ценовой категории плана ASP;</span><span class="sxs-lookup"><span data-stu-id="75577-272">ASP pricing tier requirements</span></span>
* <span data-ttu-id="75577-273">расходы, связанные с передачей данных;</span><span class="sxs-lookup"><span data-stu-id="75577-273">Data transfer costs</span></span>
* <span data-ttu-id="75577-274">расходы, связанные с использованием VPN-шлюза.</span><span class="sxs-lookup"><span data-stu-id="75577-274">VPN Gateway costs.</span></span>

<span data-ttu-id="75577-275">Для вашего приложения, toobe может toouse эту функцию, они должны toobe в Standard или Premium плана.</span><span class="sxs-lookup"><span data-stu-id="75577-275">For your apps toobe able toouse this feature, they need toobe in a Standard or Premium App Service Plan.</span></span> <span data-ttu-id="75577-276">Дополнительные сведения о ценах на планы см. на странице [цен на службу приложений][ASPricing].</span><span class="sxs-lookup"><span data-stu-id="75577-276">You can see more details on those costs here: [App Service Pricing][ASPricing].</span></span> 

<span data-ttu-id="75577-277">Из-за toohello образом обрабатываются VPN tooSite точки, всегда необходимо плата для исходящих данных через подключение к виртуальной сети интеграции даже если hello виртуальной сети находится в hello же центре обработки данных.</span><span class="sxs-lookup"><span data-stu-id="75577-277">Due toohello way Point tooSite VPNs are handled, you always have a charge for outbound data through your VNet Integration connection even if hello VNet is in hello same data center.</span></span> <span data-ttu-id="75577-278">toosee каковы эти расходы, посмотрите здесь: [передать сведения о ценах данных][DataPricing].</span><span class="sxs-lookup"><span data-stu-id="75577-278">toosee what those charges are, take a look here: [Data Transfer Pricing Details][DataPricing].</span></span> 

<span data-ttu-id="75577-279">последний элемент Hello является стоимость hello hello шлюзов виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-279">hello last item is hello cost of hello VNet gateways.</span></span> <span data-ttu-id="75577-280">Если вам не нужен hello шлюзы для других целей, например сайта tooSite VPN, вы платите для функции интеграции виртуальной сети hello toosupport шлюзов.</span><span class="sxs-lookup"><span data-stu-id="75577-280">If you don't need hello gateways for something else such as Site tooSite VPNs, then you are paying for gateways toosupport hello VNet Integration feature.</span></span> <span data-ttu-id="75577-281">Сведения о связанных расценках см. на странице [Цены — VPN-шлюзы][VNETPricing].</span><span class="sxs-lookup"><span data-stu-id="75577-281">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span></span> 

## <a name="troubleshooting"></a><span data-ttu-id="75577-282">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="75577-282">Troubleshooting</span></span>
<span data-ttu-id="75577-283">Хотя функция hello легко tooset вверх, это не означает, что работу будет проблемы свободного.</span><span class="sxs-lookup"><span data-stu-id="75577-283">While hello feature is easy tooset up, that doesn't mean that your experience will be problem free.</span></span> <span data-ttu-id="75577-284">Должно возникать проблемы с доступом к требуемой конечной являются некоторые программы, можно использовать подключение tootest из консольного приложения hello.</span><span class="sxs-lookup"><span data-stu-id="75577-284">Should you encounter problems accessing your desired endpoint there are some utilities you can use tootest connectivity from hello app console.</span></span> <span data-ttu-id="75577-285">Есть два варианта использования консоли:</span><span class="sxs-lookup"><span data-stu-id="75577-285">There are two console experiences you can use.</span></span> <span data-ttu-id="75577-286">Одна из консоли Kudu hello а hello других — hello консоли, можно достичь в hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="75577-286">One is from hello Kudu console and hello other is hello console that you can reach in hello Azure portal.</span></span> <span data-ttu-id="75577-287">консоль Kudu toohello tooget из приложения перейдите tooTools -> Kudu.</span><span class="sxs-lookup"><span data-stu-id="75577-287">tooget toohello Kudu console from your app go tooTools -> Kudu.</span></span> <span data-ttu-id="75577-288">Это является Здравствуйте таким же, как происходит слишком [имя_узла]. scm.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="75577-288">This is hello same as going too[sitename].scm.azurewebsites.net.</span></span> <span data-ttu-id="75577-289">После этого откроется просто перейдите toohello отладки консоли вкладку tooget toohello портала размещенного консоли Azure из приложения перейдите tooTools -> консоль.</span><span class="sxs-lookup"><span data-stu-id="75577-289">Once that opens simply go toohello Debug console tab. tooget toohello Azure portal hosted console then from your app go tooTools -> Console.</span></span> 

#### <a name="tools"></a><span data-ttu-id="75577-290">Средства</span><span class="sxs-lookup"><span data-stu-id="75577-290">Tools</span></span>
<span data-ttu-id="75577-291">проверку связи со средствами Hello, nslookup и tracert не будет работать через консоль hello из-за ограничений toosecurity.</span><span class="sxs-lookup"><span data-stu-id="75577-291">hello tools ping, nslookup and tracert won’t work through hello console due toosecurity constraints.</span></span> <span data-ttu-id="75577-292">существует void hello toofill были добавлены два средства.</span><span class="sxs-lookup"><span data-stu-id="75577-292">toofill hello void there have been two separate tools added.</span></span> <span data-ttu-id="75577-293">Порядок tootest DNS функциональные возможности, мы добавили средство с именем nameresolver.exe.</span><span class="sxs-lookup"><span data-stu-id="75577-293">In order tootest DNS functionality we added a tool named nameresolver.exe.</span></span> <span data-ttu-id="75577-294">используется синтаксис Hello:</span><span class="sxs-lookup"><span data-stu-id="75577-294">hello syntax is:</span></span>

    nameresolver.exe hostname [optional: DNS Server]

<span data-ttu-id="75577-295">Можно использовать имена узлов nameresolver toocheck hello зависит от приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-295">You can use nameresolver toocheck hello hostnames that your app depends on.</span></span> <span data-ttu-id="75577-296">Таким образом, вы можете протестировать Если каким-либо неправильно настроен в DNS или возможно, нет доступа к tooyour DNS-сервер.</span><span class="sxs-lookup"><span data-stu-id="75577-296">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access tooyour DNS server.</span></span>

<span data-ttu-id="75577-297">Далее программы Hello можно tootest для подключения tooa узла и порта комбинацией TCP.</span><span class="sxs-lookup"><span data-stu-id="75577-297">hello next tool allows you tootest for TCP connectivity tooa host and port combination.</span></span> <span data-ttu-id="75577-298">Это средство называется tcpping.exe и hello синтаксис:</span><span class="sxs-lookup"><span data-stu-id="75577-298">This tool is called tcpping.exe and hello syntax is:</span></span>

    tcpping.exe hostname [optional: port]

<span data-ttu-id="75577-299">Программа Hello tcpping сообщает, если можно достичь определенного узла и порт.</span><span class="sxs-lookup"><span data-stu-id="75577-299">hello tcpping utility tells you if you can reach a specific host and port.</span></span> <span data-ttu-id="75577-300">Он может отображаться только успех при: приложение ожидает комбинация hello узла и порта, и нет доступа к сети из приложения toohello указанного узла и порт.</span><span class="sxs-lookup"><span data-stu-id="75577-300">It only can show success if: there is an application listening at hello host and port combination, and there is network access from your app toohello specified host and port.</span></span>

#### <a name="debugging-access-toovnet-hosted-resources"></a><span data-ttu-id="75577-301">Отладка tooVNet доступа к размещенным ресурсам</span><span class="sxs-lookup"><span data-stu-id="75577-301">Debugging access tooVNet hosted resources</span></span>
<span data-ttu-id="75577-302">У приложения могут возникнуть проблемы с доступом к определенной комбинации «узел:порт». Это происходит по многим причинам.</span><span class="sxs-lookup"><span data-stu-id="75577-302">There are a number of things that can prevent your app from reaching a specific host and port.</span></span> <span data-ttu-id="75577-303">Большую часть времени hello это одно из трех действий:</span><span class="sxs-lookup"><span data-stu-id="75577-303">Most of hello time it is one of three things:</span></span>

* <span data-ttu-id="75577-304">**Установлен брандмауэр hello способом** при наличии брандмауэра образом hello столкнутся времени ожидания TCP hello.</span><span class="sxs-lookup"><span data-stu-id="75577-304">**There is a firewall in hello way** If you have a firewall in hello way, you will hit hello TCP timeout.</span></span> <span data-ttu-id="75577-305">В нашем случае это 21 секунда.</span><span class="sxs-lookup"><span data-stu-id="75577-305">That is 21 seconds in this case.</span></span> <span data-ttu-id="75577-306">Используйте средство tootest hello tcpping подключения.</span><span class="sxs-lookup"><span data-stu-id="75577-306">Use hello tcpping tool tootest connectivity.</span></span> <span data-ttu-id="75577-307">Время ожидания TCP можно из-за действия toomany за брандмауэрами, но начать прямо отсюда.</span><span class="sxs-lookup"><span data-stu-id="75577-307">TCP timeouts can be due toomany things beyond firewalls but start there.</span></span> 
* <span data-ttu-id="75577-308">**DNS не доступен** времени ожидания DNS hello составляет 3 секунды на DNS-сервер.</span><span class="sxs-lookup"><span data-stu-id="75577-308">**DNS is not accessible** hello DNS timeout is three seconds per DNS server.</span></span> <span data-ttu-id="75577-309">Если у вас есть два DNS-сервера, время ожидания hello — 6 секунд.</span><span class="sxs-lookup"><span data-stu-id="75577-309">If you have two DNS servers, hello timeout is 6 seconds.</span></span> <span data-ttu-id="75577-310">Используйте nameresolver toosee, если служба DNS работает.</span><span class="sxs-lookup"><span data-stu-id="75577-310">Use nameresolver toosee if DNS is working.</span></span> <span data-ttu-id="75577-311">Помните, что нельзя использовать nslookup используются hello виртуальная сеть настроена с DNS.</span><span class="sxs-lookup"><span data-stu-id="75577-311">Remember you can't use nslookup as that does not use hello DNS your VNet is configured with.</span></span>
* <span data-ttu-id="75577-312">**Недопустимый диапазон P2S IP** hello toosite точки, диапазон IP-адресов должен toobe в частных IP-диапазонов hello RFC 1918 (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span><span class="sxs-lookup"><span data-stu-id="75577-312">**Invalid P2S IP range** hello point toosite IP range needs toobe in hello RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span></span> <span data-ttu-id="75577-313">Если диапазон hello использует IP-адреса за пределами, действий не будет работать.</span><span class="sxs-lookup"><span data-stu-id="75577-313">If hello range uses IPs outside of that, then things won't work.</span></span> 

<span data-ttu-id="75577-314">Если эти элементы не получить ответ на проблему, найдите первый hello простой вопросах:</span><span class="sxs-lookup"><span data-stu-id="75577-314">If those items don't answer your problem, look first for hello simple things like:</span></span> 

* <span data-ttu-id="75577-315">Показывать hello шлюза как если бы hello портала?</span><span class="sxs-lookup"><span data-stu-id="75577-315">Does hello Gateway show as being up in hello portal?</span></span>
* <span data-ttu-id="75577-316">Синхронизированы ли сертификаты?</span><span class="sxs-lookup"><span data-stu-id="75577-316">Do certificates show as being in sync?</span></span>
* <span data-ttu-id="75577-317">Был любой пользователь без выполнения «синхронизации в сети с» hello затронутых страницы ASP изменен hello сетевая конфигурация</span><span class="sxs-lookup"><span data-stu-id="75577-317">Did anybody change hello network configuration without doing a "Sync Network" in hello affected ASPs?</span></span> 

<span data-ttu-id="75577-318">Если шлюз не работает, восстановите его работоспособность.</span><span class="sxs-lookup"><span data-stu-id="75577-318">If your gateway is down, then bring it back up.</span></span> <span data-ttu-id="75577-319">Если сертификаты не синхронизированы, перейдите в представление ASP toohello интеграции виртуальной сети и попадания «Network синхронизации».</span><span class="sxs-lookup"><span data-stu-id="75577-319">If your certificates are out of sync, then go toohello ASP view of your VNet Integration and hit "Sync Network".</span></span> <span data-ttu-id="75577-320">Если есть подозрение, что было изменений конфигурации виртуальной сети tooyour и синхронизации не было бы с вашей страницы ASP, затем перейдите представление ASP toohello интеграции виртуальной сети и попадания просто «Network синхронизации» для напоминания, это приводит к тому короткий перерыв в работе с подключения к виртуальной сети и приложений .</span><span class="sxs-lookup"><span data-stu-id="75577-320">If you suspect that there has been a change made tooyour VNet configuration and it wasn't sync'd with your ASPs, then go toohello ASP view of your VNet Integration and hit "Sync Network" Just as a reminder, this causes a brief outage with your VNet connection and your apps.</span></span> 

<span data-ttu-id="75577-321">Если все это нормально, необходимо toodig в немного более глубокого:</span><span class="sxs-lookup"><span data-stu-id="75577-321">If all of that is fine, then you need toodig in a bit deeper:</span></span>

* <span data-ttu-id="75577-322">То все другие приложения, использование ресурсов tooreach Интеграция виртуальной сети в hello одной виртуальной сети?</span><span class="sxs-lookup"><span data-stu-id="75577-322">Are there any other apps using VNet Integration tooreach resources in hello same VNet?</span></span> 
* <span data-ttu-id="75577-323">Можно перейти toohello консольного приложения и использовать другие ресурсы tcpping tooreach в виртуальной сети?</span><span class="sxs-lookup"><span data-stu-id="75577-323">Can you go toohello app console and use tcpping tooreach any other resources in your VNet?</span></span> 

<span data-ttu-id="75577-324">Если либо hello выше верны, затем подходит интеграции виртуальной сети и hello проблема заключается в другом месте.</span><span class="sxs-lookup"><span data-stu-id="75577-324">If either of hello above are true, then your VNet Integration is fine and hello problem is somewhere else.</span></span> <span data-ttu-id="75577-325">Это происходит, когда он получает toobe более сложной задачей из-за не toosee удобное средство, почему не удается достичь узла: порт.</span><span class="sxs-lookup"><span data-stu-id="75577-325">This is where it gets toobe more of a challenge because there is no simple way toosee why you can't reach a host:port.</span></span> <span data-ttu-id="75577-326">Ниже перечислены некоторые причины hello.</span><span class="sxs-lookup"><span data-stu-id="75577-326">Some of hello causes include:</span></span>

* <span data-ttu-id="75577-327">Вы используете брандмауэр на узле Предотвращение доступа к порту приложения toohello от вашей точки toosite IP-диапазон.</span><span class="sxs-lookup"><span data-stu-id="75577-327">you have a firewall up on your host preventing access toohello application port from your point toosite IP range.</span></span> <span data-ttu-id="75577-328">Для подключения между подсетями часто требуется разрешить общий доступ.</span><span class="sxs-lookup"><span data-stu-id="75577-328">Crossing subnets often requires Public access.</span></span>
* <span data-ttu-id="75577-329">Целевой узел не работает.</span><span class="sxs-lookup"><span data-stu-id="75577-329">your target host is down</span></span>
* <span data-ttu-id="75577-330">Целевое приложение не работает.</span><span class="sxs-lookup"><span data-stu-id="75577-330">your application is down</span></span>
* <span data-ttu-id="75577-331">необходимо было hello неправильный IP-адрес или имя узла</span><span class="sxs-lookup"><span data-stu-id="75577-331">you had hello wrong IP or hostname</span></span>
* <span data-ttu-id="75577-332">Приложение ожидает передачи данных не по тому порту, который предполагается.</span><span class="sxs-lookup"><span data-stu-id="75577-332">your application is listening on a different port than what you expected.</span></span> <span data-ttu-id="75577-333">Это можно проверить, перейдя на этом узле и с помощью «netstat - aon» из командной строки hello.</span><span class="sxs-lookup"><span data-stu-id="75577-333">You can check this by going onto that host and using "netstat -aon" from hello cmd prompt.</span></span> <span data-ttu-id="75577-334">Вы видите идентификаторы процессов и прослушиваемые ими порты.</span><span class="sxs-lookup"><span data-stu-id="75577-334">This shows you what process ID is listening on what port.</span></span> 
* <span data-ttu-id="75577-335">группы безопасности сети настроены таким образом, чтобы они не доступа tooyour приложения узла и порта из диапазона IP toosite точки</span><span class="sxs-lookup"><span data-stu-id="75577-335">your network security groups are configured in such a manner that they prevent access tooyour application host and port from your point toosite IP range</span></span>

<span data-ttu-id="75577-336">Помните, что вы не знаете какой IP к диапазону IP-tooSite точки, которую приложение будет использовать, нужен доступ tooallow из hello весь диапазон.</span><span class="sxs-lookup"><span data-stu-id="75577-336">Remember that you don't know what IP in your Point tooSite IP range that your app will use so you need tooallow access from hello entire range.</span></span> 

<span data-ttu-id="75577-337">Можно выполнить дополнительные действия по отладке.</span><span class="sxs-lookup"><span data-stu-id="75577-337">Additional debug steps include:</span></span>

* <span data-ttu-id="75577-338">Войдите на другой виртуальной Машиной в вашей виртуальной сети и попытки tooreach ресурсов узла: порт оттуда.</span><span class="sxs-lookup"><span data-stu-id="75577-338">log onto another VM in your VNet and attempt tooreach your resource host:port from there.</span></span> <span data-ttu-id="75577-339">Это можно сделать с помощью любых служебных программ на основе TCP ping или средства telnet.</span><span class="sxs-lookup"><span data-stu-id="75577-339">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span></span> <span data-ttu-id="75577-340">Hello цель здесь — просто toodetermine при связи с этой виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="75577-340">hello purpose here is just toodetermine if connectivity is there from this other VM.</span></span> 
* <span data-ttu-id="75577-341">подключить приложение на другой виртуальной Машиной и тестирование доступа toothat узла и порта из консоли hello из приложения</span><span class="sxs-lookup"><span data-stu-id="75577-341">bring up an application on another VM and test access toothat host and port from hello console from your app</span></span>

#### <a name="on-premises-resources"></a><span data-ttu-id="75577-342">Локальные ресурсы</span><span class="sxs-lookup"><span data-stu-id="75577-342">On-premises resources</span></span> ####
<span data-ttu-id="75577-343">Если приложение не может достичь локальные ресурсы, первое hello следует проверить это, если можно получить доступ к ресурсу в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-343">If your app cannot reach resources on-premises, then hello first thing you should check is if you can reach a resource in your VNet.</span></span> <span data-ttu-id="75577-344">Если это работает, попробуйте tooreach hello локального приложения из виртуальной Машины в виртуальной сети hello.</span><span class="sxs-lookup"><span data-stu-id="75577-344">If that works, try tooreach hello on-premises application from a VM in hello VNet.</span></span> <span data-ttu-id="75577-345">Для этого используйте служебную программу telnet или TCP ping.</span><span class="sxs-lookup"><span data-stu-id="75577-345">You can use telnet or a TCP ping utility.</span></span> <span data-ttu-id="75577-346">Если ВМ не удается подключиться к локальному ресурсу, затем убедитесь, что работа сайта tooSite VPN-подключение.</span><span class="sxs-lookup"><span data-stu-id="75577-346">If your VM can't reach your on-premises resource, then make sure your Site tooSite VPN connection is working.</span></span> <span data-ttu-id="75577-347">Если он работает, проверьте hello и те же действия отмечалось ранее, а также настройки шлюза в локальной среде hello и состояние.</span><span class="sxs-lookup"><span data-stu-id="75577-347">If it is working, then check hello same things noted earlier as well as hello on-premises gateway configuration and status.</span></span> 

<span data-ttu-id="75577-348">Теперь если размещенной виртуальной сети виртуальная машина может получить доступ к локальной системе, но приложение не может затем hello причина — это одна из следующих hello:</span><span class="sxs-lookup"><span data-stu-id="75577-348">Now if your VNet hosted VM can reach your on-premises system but your app can't then hello reason is likely one of hello following:</span></span>

* <span data-ttu-id="75577-349">Ваш маршруты не настраиваются с помощью диапазонов IP-toosite точки в локального шлюза</span><span class="sxs-lookup"><span data-stu-id="75577-349">your routes are not configured with your point toosite IP ranges in your on-premises gateway</span></span>
* <span data-ttu-id="75577-350">группы безопасности сети блокируют доступ для диапазона IP tooSite точки</span><span class="sxs-lookup"><span data-stu-id="75577-350">your network security groups are blocking access for your Point tooSite IP range</span></span>
* <span data-ttu-id="75577-351">брандмауэры локальной блокируют трафик от вашей точки tooSite IP-диапазон</span><span class="sxs-lookup"><span data-stu-id="75577-351">your on-premises firewalls are blocking traffic from your Point tooSite IP range</span></span>
* <span data-ttu-id="75577-352">у вас есть Route(UDR) определенных пользователей в вашей виртуальной сети, который предотвращает доступ к локальной сети tooSite точки на основе трафика</span><span class="sxs-lookup"><span data-stu-id="75577-352">you have a User Defined Route(UDR) in your VNet that prevents your Point tooSite based traffic from reaching your on-premises network</span></span>

## <a name="hybrid-connections-and-app-service-environments"></a><span data-ttu-id="75577-353">Гибридные подключения и среда службы приложений</span><span class="sxs-lookup"><span data-stu-id="75577-353">Hybrid Connections and App Service Environments</span></span>
<span data-ttu-id="75577-354">Существует три функции, позволяющие размещенных tooVNet доступ к ресурсам.</span><span class="sxs-lookup"><span data-stu-id="75577-354">There are three features that enable access tooVNet hosted resources.</span></span> <span data-ttu-id="75577-355">К ним относятся:</span><span class="sxs-lookup"><span data-stu-id="75577-355">They are:</span></span>

* <span data-ttu-id="75577-356">интеграция с виртуальной сетью;</span><span class="sxs-lookup"><span data-stu-id="75577-356">VNet Integration</span></span>
* <span data-ttu-id="75577-357">через гибридные подключения</span><span class="sxs-lookup"><span data-stu-id="75577-357">Hybrid Connections</span></span>
* <span data-ttu-id="75577-358">среда службы приложений.</span><span class="sxs-lookup"><span data-stu-id="75577-358">App Service Environments</span></span>

<span data-ttu-id="75577-359">Гибридные подключения требуется tooinstall агента ретрансляции, вызывается hello Manager(HCM) гибридные подключения в сети.</span><span class="sxs-lookup"><span data-stu-id="75577-359">Hybrid Connections requires you tooinstall a relay agent called hello Hybrid Connection Manager(HCM) in your network.</span></span> <span data-ttu-id="75577-360">Hello HCM должен tooAzure может tooconnect toobe, а также tooyour приложения.</span><span class="sxs-lookup"><span data-stu-id="75577-360">hello HCM needs toobe able tooconnect tooAzure and also tooyour application.</span></span> <span data-ttu-id="75577-361">Это решение особенно удобно для доступа из удаленной сети (локальной или другой облачной сети), так как для него не требуется конечная точка, доступная из Интернета.</span><span class="sxs-lookup"><span data-stu-id="75577-361">This solution is especially great from a remote network such as your on-premises network or even another cloud hosted network because it does not require an internet accessible endpoint.</span></span> <span data-ttu-id="75577-362">Hello HCM выполняется только в Windows и может содержать до экземпляров toofive, выполняющихся tooprovide высокого уровня доступности.</span><span class="sxs-lookup"><span data-stu-id="75577-362">hello HCM only runs on Windows and you can have up toofive instances running tooprovide high availability.</span></span> <span data-ttu-id="75577-363">Гибридные подключения поддерживает только TCP хотя и каждая конечная точка Контроллер имеет toomatch tooa конкретного узла: порт сочетания.</span><span class="sxs-lookup"><span data-stu-id="75577-363">Hybrid Connections only supports TCP though and each HC endpoint has toomatch tooa specific host:port combination.</span></span> 

<span data-ttu-id="75577-364">Hello среды службы приложений позволяет toorun экземпляр hello службе приложений Azure в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-364">hello App Service Environment feature allows you toorun an instance of hello Azure App Service in your VNet.</span></span> <span data-ttu-id="75577-365">Приложение получает доступ к ресурсам виртуальной сети без каких-либо дополнительных действий.</span><span class="sxs-lookup"><span data-stu-id="75577-365">This lets your apps access resources in your VNet without any extra steps.</span></span> <span data-ttu-id="75577-366">Некоторые из hello другие преимущества среды службы приложений являются, которые можно использовать на основе Dv2 работников вверх too14 ГБ ОЗУ.</span><span class="sxs-lookup"><span data-stu-id="75577-366">Some of hello other benefits of an App Service Environment are that you can use Dv2 based workers with up too14 GB of RAM.</span></span> <span data-ttu-id="75577-367">Дополнительным преимуществом является то, что можно масштабировать toomeet системы hello вашим потребностям.</span><span class="sxs-lookup"><span data-stu-id="75577-367">Another benefit is that you can scale hello system toomeet your needs.</span></span> <span data-ttu-id="75577-368">В отличие от hello несколькими клиентами средах, где ваш ASP является ограниченной too20 экземпляров в ASE можно увеличивать масштаб too100 ASP экземпляров.</span><span class="sxs-lookup"><span data-stu-id="75577-368">Unlike hello multi-tenant environments where your ASP is limited too20 instances, in an ASE you can scale up too100 ASP instances.</span></span> <span data-ttu-id="75577-369">Одно из действий hello, получаемых с ASE, не с помощью интеграции виртуальной сети — работы среды службы приложений с помощью VPN ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="75577-369">One of hello things you get with an ASE that you don't with VNet Integration is that an App Service Environment can work with an ExpressRoute VPN.</span></span> 

<span data-ttu-id="75577-370">Хотя существуют некоторые использовать перекрытие case, ни один из этих компонентов можно заменить любой hello другим пользователям.</span><span class="sxs-lookup"><span data-stu-id="75577-370">While there is some use case overlap, none of these feature can replace any of hello others.</span></span> <span data-ttu-id="75577-371">Изучения, какие функции toouse связанные tooyour потребностей.</span><span class="sxs-lookup"><span data-stu-id="75577-371">Knowing what feature toouse is tied tooyour needs.</span></span> <span data-ttu-id="75577-372">Например:</span><span class="sxs-lookup"><span data-stu-id="75577-372">For example:</span></span>

* <span data-ttu-id="75577-373">Если разработчик и просто хотите toorun сайта в Azure и имеют доступ к базе данных hello на рабочей станции hello в службу поддержки гибридных подключений является простым самое toouse hello.</span><span class="sxs-lookup"><span data-stu-id="75577-373">If you are a developer and simply want toorun a site in Azure and have it access hello database on hello workstation under your desk, then hello easiest thing toouse is Hybrid Connections.</span></span> 
* <span data-ttu-id="75577-374">Если вы используете крупной организации, в которой необходимо tooput большое количество веб-свойства в общедоступном облаке hello и управлять ими в своей сети, вы хотите toogo с hello среды службы приложений.</span><span class="sxs-lookup"><span data-stu-id="75577-374">If you are a large organization that wants tooput a large number of web properties in hello public cloud and manage them in your own network, then you want toogo with hello App Service Environment.</span></span> 
* <span data-ttu-id="75577-375">Если имеется несколько приложений службы размещенных приложений просто tooaccess ресурсы в сети, необходимо будет toogo hello способ интеграции виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="75577-375">If you have a number of App Service hosted apps and simply want tooaccess resources in your VNet, then VNet Integration is hello way toogo.</span></span> 

<span data-ttu-id="75577-376">Помимо варианты использования hello, существуют некоторые простоты связанных аспекты.</span><span class="sxs-lookup"><span data-stu-id="75577-376">Beyond hello use cases, there are some simplicity related aspects.</span></span> <span data-ttu-id="75577-377">Если ваша виртуальная сеть уже подключен tooyour в локальной сети, затем с помощью интеграции виртуальной сети или среды службы приложений — это простой tooconsume локальным ресурсам.</span><span class="sxs-lookup"><span data-stu-id="75577-377">If your VNet is already connected tooyour on-premises network, then using VNet Integration or an App Service Environment is an easy way tooconsume on-premises resources.</span></span> <span data-ttu-id="75577-378">На hello другой стороны, если ваша виртуальная сеть не подключен tooyour локальной сети, то дополнительных издержек на tooset копии сайта toosite VPN с виртуальной сетью по сравнению с установкой hello HCM с большим.</span><span class="sxs-lookup"><span data-stu-id="75577-378">On hello other hand, if your VNet is not connected tooyour on-premises network then it's a lot more overhead tooset up a site toosite VPN with your VNet compared with installing hello HCM.</span></span> 

<span data-ttu-id="75577-379">Далее Здравствуйте функциональные различия, также цены различия.</span><span class="sxs-lookup"><span data-stu-id="75577-379">Beyond hello functional differences, there are also pricing differences.</span></span> <span data-ttu-id="75577-380">функция Hello среды службы приложений — это служба Premium, предложения, кроме предложений hello большинства вариантов настройки сети в дополнение к этому tooother замечательных функций.</span><span class="sxs-lookup"><span data-stu-id="75577-380">hello App Service Environment feature is a Premium service offering but offers hello most network configuration possibilities in addition tooother great features.</span></span> <span data-ttu-id="75577-381">Интеграция виртуальной сети можно использовать с Standard или Premium страницы ASP и идеально подходит для безопасного потребление ресурсов в виртуальной сети с несколькими клиентами hello службы приложений.</span><span class="sxs-lookup"><span data-stu-id="75577-381">VNet Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNet from hello multi-tenant App Service.</span></span> <span data-ttu-id="75577-382">Гибридные подключения в настоящее время зависит от учетной записи, которая имеет ценам, запустить свободного и затем получить постепенно дороже, исходя из суммы hello нужные BizTalk.</span><span class="sxs-lookup"><span data-stu-id="75577-382">Hybrid Connections currently depends on a BizTalk account, which has pricing levels that start free and then get progressively more expensive based on hello amount you need.</span></span> <span data-ttu-id="75577-383">Что касается tooworking через несколько сетей Впрочем, другие возможность как гибридные подключения, который можно включить ресурсы tooaccess свыше 100 раздельные сети отсутствует.</span><span class="sxs-lookup"><span data-stu-id="75577-383">When it comes tooworking across many networks though, there is no other feature like Hybrid Connections, which can enable you tooaccess resources in well over 100 separate networks.</span></span> 

<!--Image references-->
[1]: ./media/web-sites-integrate-with-vnet/vnetint-upgradeplan.png
[2]: ./media/web-sites-integrate-with-vnet/vnetint-existingvnet.png
[3]: ./media/web-sites-integrate-with-vnet/vnetint-createvnet.png
[4]: ./media/web-sites-integrate-with-vnet/vnetint-howitworks.png
[5]: ./media/web-sites-integrate-with-vnet/vnetint-appmanage.png
[6]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanage.png
[7]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanagedetail.png
[8]: ./media/web-sites-integrate-with-vnet/vnetint-vnetp2s.png

<!--Links-->
[VNETOverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-overview/ 
[AzurePortal]: http://portal.azure.com/
[ASPricing]: http://azure.microsoft.com/pricing/details/app-service/
[VNETPricing]: http://azure.microsoft.com/pricing/details/vpn-gateway/
[DataPricing]: http://azure.microsoft.com/pricing/details/data-transfers/
[V2VNETP2S]: http://azure.microsoft.com/documentation/articles/vpn-gateway-howto-point-to-site-rm-ps/
[IntPowershell]: http://azure.microsoft.com/documentation/articles/app-service-vnet-integration-powershell/
[ASEintro]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
[ILBASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/create-ilb-ase
[V2VNETPortal]: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal
[VPNERCoex]: http://docs.microsoft.com/en-us/azure/expressroute/expressroute-howto-coexist-resource-manager
[ASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
