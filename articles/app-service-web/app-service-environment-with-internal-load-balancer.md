---
title: "aaaCreating и использовании внутренней подсистемы балансировки нагрузки с помощью среды службы приложений | Документы Microsoft"
description: "Создание и использование ASE с внутренним балансировщиком нагрузки."
services: app-service
documentationcenter: 
author: ccompy
manager: stefsch
editor: 
ms.assetid: ad9a1e00-d5e5-413e-be47-e21e5b285dbf
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: ccompy
ms.openlocfilehash: 20799f260993d6e81499408e5b547a2e21430174
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="using-an-internal-load-balancer-with-an-app-service-environment"></a><span data-ttu-id="e373e-103">Использование внутреннего балансировщика нагрузки в среде службы приложений</span><span class="sxs-lookup"><span data-stu-id="e373e-103">Using an Internal Load Balancer with an App Service Environment</span></span>

> [!NOTE] 
> <span data-ttu-id="e373e-104">Эта статья является о hello v1 среды службы приложений.</span><span class="sxs-lookup"><span data-stu-id="e373e-104">This article is about hello App Service Environment v1.</span></span> <span data-ttu-id="e373e-105">Имеется более новая версия hello среды службы приложений, удобнее toouse и выполняется на более мощный инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="e373e-105">There is a newer version of hello App Service Environment that is easier toouse and runs on more powerful infrastructure.</span></span> <span data-ttu-id="e373e-106">Дополнительные сведения о новой версии hello начинаться с hello toolearn [toohello введение среды службы приложений](../app-service/app-service-environment/intro.md).</span><span class="sxs-lookup"><span data-stu-id="e373e-106">toolearn more about hello new version start with hello [Introduction toohello App Service Environment](../app-service/app-service-environment/intro.md).</span></span>
>

<span data-ttu-id="e373e-107">функция Hello среды службы приложений (ASE) — это параметр службы Premium службы приложения Azure, которая обеспечивает возможность расширенной настройки, недоступные в hello отметки нескольких клиентов.</span><span class="sxs-lookup"><span data-stu-id="e373e-107">hello App Service Environment (ASE) feature is a Premium service option of Azure App Service that delivers an enhanced configuration capability that is not available in hello multi-tenant stamps.</span></span> <span data-ttu-id="e373e-108">функция ASE Hello фактически развертывает hello службе приложений Azure в вашей виртуальной Network(VNet) Azure.</span><span class="sxs-lookup"><span data-stu-id="e373e-108">hello ASE feature essentially deploys hello Azure App Service in your Azure Virtual Network(VNet).</span></span> <span data-ttu-id="e373e-109">toogain предлагаемых лучшего понимания возможностей hello по среды службы приложения чтения hello [возможности среды службы приложений] [ WhatisASE] документации.</span><span class="sxs-lookup"><span data-stu-id="e373e-109">toogain a greater understanding of hello capabilities offered by App Service Environments read hello [What is an App Service Environment][WhatisASE] documentation.</span></span> <span data-ttu-id="e373e-110">Если вы не знаете, преимущества hello в виртуальной сети чтения hello [Azure виртуальные сети часто задаваемые вопросы о][virtualnetwork].</span><span class="sxs-lookup"><span data-stu-id="e373e-110">If you don't know hello benefits of operating in a VNet read hello [Azure Virtual Network FAQ][virtualnetwork].</span></span> 

## <a name="overview"></a><span data-ttu-id="e373e-111">Обзор</span><span class="sxs-lookup"><span data-stu-id="e373e-111">Overview</span></span>
<span data-ttu-id="e373e-112">ASE может развертываться с конечной точкой, доступной из Интернета, или IP-адресом в вашей виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="e373e-112">An ASE can be deployed with an internet accessible endpoint or with an IP address in your VNet.</span></span> <span data-ttu-id="e373e-113">В порядке tooset hello IP адрес tooa адрес виртуальной сети необходимо toodeploy вашей ASE с внутренней Balancer(ILB) нагрузки.</span><span class="sxs-lookup"><span data-stu-id="e373e-113">In order tooset hello IP address tooa VNet address you need toodeploy your ASE with an Internal Load Balancer(ILB).</span></span> <span data-ttu-id="e373e-114">Настройка среды ASE с внутренним балансировщиком нагрузки обеспечивает следующие возможности.</span><span class="sxs-lookup"><span data-stu-id="e373e-114">When your ASE is configured with an ILB you provide:</span></span>

* <span data-ttu-id="e373e-115">Ваш собственный домен или поддомен.</span><span class="sxs-lookup"><span data-stu-id="e373e-115">your own domain or subdomain.</span></span> <span data-ttu-id="e373e-116">toomake легким, данный документ предполагает дочерний домен, но его можно настроить в любом случае.</span><span class="sxs-lookup"><span data-stu-id="e373e-116">toomake it easy, this document assumes subdomain but you can configure it either way.</span></span> 
* <span data-ttu-id="e373e-117">Hello сертификат, используемый для HTTPS</span><span class="sxs-lookup"><span data-stu-id="e373e-117">hello certificate used for HTTPS</span></span>
* <span data-ttu-id="e373e-118">Управление DNS для поддомена.</span><span class="sxs-lookup"><span data-stu-id="e373e-118">DNS management for your subdomain.</span></span> 

<span data-ttu-id="e373e-119">Это дает следующие возможности:</span><span class="sxs-lookup"><span data-stu-id="e373e-119">In return, you can do things such as:</span></span>

* <span data-ttu-id="e373e-120">хост-приложения интрасети, как бизнес-приложения, безопасно хранятся на hello облако какой доступ через сайт tooSite или ExpressRoute VPN</span><span class="sxs-lookup"><span data-stu-id="e373e-120">host intranet applications, like line of business applications, securely in hello cloud which you access through a Site tooSite or ExpressRoute VPN</span></span>
* <span data-ttu-id="e373e-121">узел приложения в облаке hello, не перечисленных в общедоступные DNS-серверы</span><span class="sxs-lookup"><span data-stu-id="e373e-121">host apps in hello cloud that are not listed in public DNS servers</span></span>
* <span data-ttu-id="e373e-122">создание изолированных от Интернета внутренних приложений, с которыми можно безопасно интегрировать свои внешние приложения.</span><span class="sxs-lookup"><span data-stu-id="e373e-122">create internet isolated backend apps which your front end apps can securely integrate with</span></span>

#### <a name="disabled-functionality"></a><span data-ttu-id="e373e-123">Отключенные функциональные возможности</span><span class="sxs-lookup"><span data-stu-id="e373e-123">Disabled functionality</span></span>
<span data-ttu-id="e373e-124">Существуют некоторые функции, недоступные при использовании ASE с внутренним балансировщиком нагрузки.</span><span class="sxs-lookup"><span data-stu-id="e373e-124">There are some things that you cannot do when using an ILB ASE.</span></span> <span data-ttu-id="e373e-125">К ним относятся:</span><span class="sxs-lookup"><span data-stu-id="e373e-125">Those things include:</span></span>

* <span data-ttu-id="e373e-126">использование SSL на основе IP;</span><span class="sxs-lookup"><span data-stu-id="e373e-126">using IPSSL</span></span>
* <span data-ttu-id="e373e-127">Назначение IP-адресов toospecific приложений</span><span class="sxs-lookup"><span data-stu-id="e373e-127">assigning IP addresses toospecific apps</span></span>
* <span data-ttu-id="e373e-128">приобретение и использование сертификатов при приложения через портал hello.</span><span class="sxs-lookup"><span data-stu-id="e373e-128">buying and using a certificate with an app through hello portal.</span></span> <span data-ttu-id="e373e-129">Конечно по-прежнему можно получить сертификаты непосредственно с центром сертификации и использовать его в приложениях не только через портал Azure hello.</span><span class="sxs-lookup"><span data-stu-id="e373e-129">You can of course still obtain certificates directly with a Certificate Authority and use it with your apps, just not through hello Azure portal.</span></span>

## <a name="creating-an-ilb-ase"></a><span data-ttu-id="e373e-130">Создание ASE с внутренним балансировщиком нагрузки</span><span class="sxs-lookup"><span data-stu-id="e373e-130">Creating an ILB ASE</span></span>
<span data-ttu-id="e373e-131">Создание ASE с внутренним балансировщиком нагрузки не сильно отличается от создания ASE обычным образом.</span><span class="sxs-lookup"><span data-stu-id="e373e-131">Creating an ILB ASE is not much different from creating an ASE normally.</span></span> <span data-ttu-id="e373e-132">Подробное обсуждение создания ASE чтения [как tooCreate среды службы приложений][HowtoCreateASE].</span><span class="sxs-lookup"><span data-stu-id="e373e-132">For a deeper discussion on creating an ASE read [How tooCreate an App Service Environment][HowtoCreateASE].</span></span> <span data-ttu-id="e373e-133">toocreate процесс Hello — ILB ASE hello совпадают создания виртуальной сети во время создания ASE или выбора существующей виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="e373e-133">hello process toocreate an ILB ASE is hello same between creating a VNet during ASE creation or selecting a pre-existing VNet.</span></span> <span data-ttu-id="e373e-134">toocreate ILB ASE:</span><span class="sxs-lookup"><span data-stu-id="e373e-134">toocreate an ILB ASE:</span></span> 

1. <span data-ttu-id="e373e-135">В hello Azure портала выберите **New -> Web + Mobile -> среды службы приложений**</span><span class="sxs-lookup"><span data-stu-id="e373e-135">In hello Azure portal select **New -> Web + Mobile -> App Service Environment**</span></span>
2. <span data-ttu-id="e373e-136">Выберите свою подписку.</span><span class="sxs-lookup"><span data-stu-id="e373e-136">Select your subscription</span></span>
3. <span data-ttu-id="e373e-137">Выберите или создайте группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="e373e-137">Select or create a resource group</span></span>
4. <span data-ttu-id="e373e-138">Выберите или создайте виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="e373e-138">Select or create a VNet</span></span>
5. <span data-ttu-id="e373e-139">Создайте подсеть, если была выбрана виртуальная сеть.</span><span class="sxs-lookup"><span data-stu-id="e373e-139">Create a subnet if selecting a VNet</span></span>
6. <span data-ttu-id="e373e-140">Выберите **виртуальной сети "->" Конфигурация виртуальной сети** и набор hello tooInternal тип виртуального IP-адреса</span><span class="sxs-lookup"><span data-stu-id="e373e-140">Select **Virtual Network/Location -> VNet Configuration** and set hello VIP Type tooInternal</span></span>
7. <span data-ttu-id="e373e-141">Введите имя дочернего домена (это будет hello дочерний домен, используемый для приложений, созданных в этом ASE)</span><span class="sxs-lookup"><span data-stu-id="e373e-141">Provide subdomain name (this will be hello subdomain used for apps created in this ASE)</span></span>
8. <span data-ttu-id="e373e-142">Нажмите кнопку "ОК", а затем — "Создать".</span><span class="sxs-lookup"><span data-stu-id="e373e-142">Select Ok and then Create</span></span>

![][1]

<span data-ttu-id="e373e-143">В колонке hello виртуальной сети есть параметр конфигурации виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="e373e-143">Within hello Virtual Network blade there is a VNet Configuration option.</span></span> <span data-ttu-id="e373e-144">Он позволяет выбрать внешний или внутренний виртуальный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="e373e-144">This lets you select between an External VIP or Internal VIP.</span></span> <span data-ttu-id="e373e-145">по умолчанию Hello — External.</span><span class="sxs-lookup"><span data-stu-id="e373e-145">hello default is External.</span></span> <span data-ttu-id="e373e-146">Если эти параметры настроены tooExternal вашей ASE будет использовать Интернет доступных виртуальных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="e373e-146">If you have it set tooExternal then your ASE will use an internet accessible VIP.</span></span> <span data-ttu-id="e373e-147">Если выбрать внутренний виртуальный IP-адрес, то для ASE будет настроен внутренний балансировщик нагрузки с IP-адресом в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="e373e-147">If you select Internal, your ASE will be configured with an ILB on an IP address within your VNet.</span></span> 

<span data-ttu-id="e373e-148">После выбора для внутреннего использования, hello возможность tooadd несколько IP-адресов tooyour ASE удаляется и вместо этого потребуется поддомен hello tooprovide hello ASE.</span><span class="sxs-lookup"><span data-stu-id="e373e-148">After selecting Internal, hello ability tooadd more IP addresses tooyour ASE is removed and instead you need tooprovide hello subdomain of hello ASE.</span></span> <span data-ttu-id="e373e-149">В ASE с hello внешних виртуальных IP-адресов имя hello ASE для приложений, созданных в этом ASE используется в поддомен hello.</span><span class="sxs-lookup"><span data-stu-id="e373e-149">In an ASE with an External VIP hello name of hello ASE is used in hello subdomain for apps created in that ASE.</span></span> <span data-ttu-id="e373e-150">Если ваш ASE вызывался ***contosotest*** и приложения в этом ASE был вызван ***mytest*** то hello дочернего домена будет hello формата ***contosotest.p.azurewebsites.net*** и Hello URL-адрес для этого приложения будет ***mytest.contosotest.p.azurewebsites.net***.</span><span class="sxs-lookup"><span data-stu-id="e373e-150">If your ASE was called ***contosotest*** and your app in that ASE was called ***mytest*** then hello subdomain would be of hello format ***contosotest.p.azurewebsites.net*** and hello URL for that app would be ***mytest.contosotest.p.azurewebsites.net***.</span></span> <span data-ttu-id="e373e-151">Если задать hello tooInternal тип виртуального IP-адреса, ваше имя ASE не используется в поддомен hello для hello ASE.</span><span class="sxs-lookup"><span data-stu-id="e373e-151">If you set hello VIP Type tooInternal, your ASE name is not used in hello subdomain for hello ASE.</span></span> <span data-ttu-id="e373e-152">Явно укажите поддомен hello.</span><span class="sxs-lookup"><span data-stu-id="e373e-152">You specify hello subdomain explicitly.</span></span> <span data-ttu-id="e373e-153">Если был дочернего домена ***contoso.corp.net*** и сделать приложение в том, что с именем ASE ***timereporting*** Здравствуйте URL-адрес, для этого приложения будет ***timereporting.contoso.corp.net***.</span><span class="sxs-lookup"><span data-stu-id="e373e-153">If your subdomain was ***contoso.corp.net*** and you made an app in that ASE named ***timereporting*** then hello URL for that app would be ***timereporting.contoso.corp.net***.</span></span>

## <a name="apps-in-an-ilb-ase"></a><span data-ttu-id="e373e-154">Приложения в ASE с внутренним балансировщиком нагрузки</span><span class="sxs-lookup"><span data-stu-id="e373e-154">Apps in an ILB ASE</span></span>
<span data-ttu-id="e373e-155">Создание приложения в ILB ASE hello такой же, как создание приложения в ASE обычным образом.</span><span class="sxs-lookup"><span data-stu-id="e373e-155">Creating an app in an ILB ASE is hello same as creating an app in an ASE normally.</span></span> 

1. <span data-ttu-id="e373e-156">В hello Azure портала выберите **New -> Web + Mobile -> Web** или **Mobile** или **приложения API**</span><span class="sxs-lookup"><span data-stu-id="e373e-156">In hello Azure portal select **New -> Web + Mobile -> Web** or **Mobile** or **API App**</span></span>
2. <span data-ttu-id="e373e-157">Введите имя приложения.</span><span class="sxs-lookup"><span data-stu-id="e373e-157">Enter name of app</span></span>
3. <span data-ttu-id="e373e-158">Выберите подписку.</span><span class="sxs-lookup"><span data-stu-id="e373e-158">Select subscription</span></span>
4. <span data-ttu-id="e373e-159">Выберите или создайте группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="e373e-159">Select or create resource group</span></span>
5. <span data-ttu-id="e373e-160">Выберите или создайте план службы приложений.</span><span class="sxs-lookup"><span data-stu-id="e373e-160">Select or create App Service Plan(ASP).</span></span> <span data-ttu-id="e373e-161">Создание нового ASP затем выберите ваш ASE как расположение hello и выберите hello рабочего пула следует ли ваш toobe ASP, созданные в.</span><span class="sxs-lookup"><span data-stu-id="e373e-161">If creating a new ASP then select your ASE as hello location and select hello worker pool you want your ASP toobe created in.</span></span> <span data-ttu-id="e373e-162">При создании hello ASP указать вашей ASE в качестве расположения hello hello рабочего пула.</span><span class="sxs-lookup"><span data-stu-id="e373e-162">When you create hello ASP you select your ASE as hello location and hello worker pool.</span></span> <span data-ttu-id="e373e-163">При указании имени hello приложения hello, вы увидите hello поддомен в списке имя вашего приложения заменяется hello дочерний домен для вашей ASE.</span><span class="sxs-lookup"><span data-stu-id="e373e-163">When you specify hello name of hello app you will see that hello subdomain under your app name is replaced by hello subdomain for your ASE.</span></span> 
6. <span data-ttu-id="e373e-164">Нажмите кнопку Создать.</span><span class="sxs-lookup"><span data-stu-id="e373e-164">Select Create.</span></span> <span data-ttu-id="e373e-165">Следует выбрать hello **toodashboard ПИН-код** флажок, если необходимо tooshow приложения hello на информационной панели.</span><span class="sxs-lookup"><span data-stu-id="e373e-165">You should select hello **Pin toodashboard** checkbox if you want hello app tooshow up on your dashboard.</span></span> 

![][2]

<span data-ttu-id="e373e-166">В приложение hello имя поддомена hello имя получает обновленные tooreflect поддомен hello вашей ASE.</span><span class="sxs-lookup"><span data-stu-id="e373e-166">Under hello app name hello subdomain name gets updated tooreflect hello subdomain of your ASE.</span></span> 

## <a name="post-ilb-ase-creation-validation"></a><span data-ttu-id="e373e-167">Проверка после создания ASE с внутренним балансировщиком нагрузки</span><span class="sxs-lookup"><span data-stu-id="e373e-167">Post ILB ASE creation validation</span></span>
<span data-ttu-id="e373e-168">ILB ASE немного отличается от hello не - ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="e373e-168">An ILB ASE is slightly different than hello non-ILB ASE.</span></span> <span data-ttu-id="e373e-169">Как уже отмечалось, необходимо toomanage собственный DNS-сервера, а также tooprovide собственный сертификат для подключения по протоколу HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e373e-169">As already noted you need toomanage your own DNS and you also have tooprovide your own certificate for HTTPS connections.</span></span> 

<span data-ttu-id="e373e-170">После создания вашей ASE можно заметить поддомен hello показывает поддомен hello указанного, и новый элемент в hello **параметр** меню с именем **ILB сертификата**.</span><span class="sxs-lookup"><span data-stu-id="e373e-170">After you create your ASE you will notice that hello subdomain shows hello subdomain you specified and there is a new item in hello **Setting** menu called **ILB Certificate**.</span></span> <span data-ttu-id="e373e-171">Hello ASE создается самозаверяющий сертификат, который позволяет упростить tootest HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e373e-171">hello ASE is created with a self-signed certificate which makes it easier tootest HTTPS.</span></span> <span data-ttu-id="e373e-172">Hello портал сообщит, что необходимо tooprovide собственный сертификат для использования протокола HTTPS, но это toodrive toohave сертификат, который начинается с дочернего домена.</span><span class="sxs-lookup"><span data-stu-id="e373e-172">hello portal will tell you that you need tooprovide your own certificate for HTTPS but this is toodrive you toohave a certificate that goes with your subdomain.</span></span> 

![][3]

<span data-ttu-id="e373e-173">Если просто пытаетесь вещей и не знаете, как toocreate сертификат можно использовать hello IIS MMC toocreate консольного приложения a self подписи сертификата.</span><span class="sxs-lookup"><span data-stu-id="e373e-173">If you are simply trying things out and don't know how toocreate a certificate, you can use hello IIS MMC console application toocreate a self signed certificate.</span></span> <span data-ttu-id="e373e-174">После создания можно экспортировать его как PFX-файл и затем передать его в пользовательский Интерфейс сертификатов ILB hello.</span><span class="sxs-lookup"><span data-stu-id="e373e-174">Once it is created you can export it as a .pfx file and then upload it in hello ILB Certificate UI.</span></span> <span data-ttu-id="e373e-175">При доступа сайт защищен с помощью самозаверяющего сертификата, браузер выводит предупреждение, hello сайта, к которому выполняется подключение не является безопасным, из-за toohello невозможности toovalidate hello сертификата.</span><span class="sxs-lookup"><span data-stu-id="e373e-175">When you access a site secured with a self-signed certificate, your browser will give you a warning that hello site you are accessing is not secure due toohello inability toovalidate hello certificate.</span></span> <span data-ttu-id="e373e-176">Если вы хотите tooavoid этого предупреждения необходимо должным образом подписанный сертификат, который соответствует дочернего домена и имеет цепочку доверия, распознаются в браузере.</span><span class="sxs-lookup"><span data-stu-id="e373e-176">If you want tooavoid that warning you need a properly signed certificate that matches your subdomain and has a chain of trust that is recognized by your browser.</span></span>

![][6]

<span data-ttu-id="e373e-177">Если требуется tootry hello потока с помощью собственных сертификатов и проверки HTTP и HTTPS ASE tooyour доступа:</span><span class="sxs-lookup"><span data-stu-id="e373e-177">If you want tootry hello flow with your own certificates and test both HTTP and HTTPS access tooyour ASE:</span></span>

1. <span data-ttu-id="e373e-178">Go tooASE пользовательского интерфейса после создания ASE **ASE -> Параметры -> сертификаты ILB**</span><span class="sxs-lookup"><span data-stu-id="e373e-178">Go tooASE UI after ASE is created **ASE -> Settings -> ILB Certificates**</span></span>
2. <span data-ttu-id="e373e-179">Задайте сертификат ILB, выбрав PFX-файл сертификата, и введите пароль.</span><span class="sxs-lookup"><span data-stu-id="e373e-179">Set ILB certificate by selecting certificate pfx file and provide password.</span></span> <span data-ttu-id="e373e-180">Это требует немного при tooprocess и будет выведено сообщение hello, выполняется операция масштабирования.</span><span class="sxs-lookup"><span data-stu-id="e373e-180">This step takes a little while tooprocess and hello message that a scaling operation is in progress will be shown.</span></span>
3. <span data-ttu-id="e373e-181">Получить адрес ILB hello для вашего ASE (**ASE "->" Свойства "->" виртуальный IP-адрес**)</span><span class="sxs-lookup"><span data-stu-id="e373e-181">Get hello ILB address for your ASE (**ASE -> Properties -> Virtual IP Address**)</span></span>
4. <span data-ttu-id="e373e-182">Создайте веб-приложение в среде ASE после ее создания.</span><span class="sxs-lookup"><span data-stu-id="e373e-182">Create a web app in ASE after creation</span></span> 
5. <span data-ttu-id="e373e-183">Создайте виртуальную Машину, если у вас его нет в этой виртуальной сети (не в hello же подсети, что hello ASE или прерывание выполнения действия)</span><span class="sxs-lookup"><span data-stu-id="e373e-183">Create a VM if you don't have one in that VNET (Not in hello same subnet as hello ASE or things break)</span></span>
6. <span data-ttu-id="e373e-184">Задайте DNS для поддомена.</span><span class="sxs-lookup"><span data-stu-id="e373e-184">Set DNS for your subdomain.</span></span> <span data-ttu-id="e373e-185">Можно использовать подстановочные знаки с дочернего домена в DNS или toodo несколько простых тестов, измените файл hosts hello на вашей виртуальной Машины tooset web app имя tooVIP IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="e373e-185">You can use a wildcard with your subdomain in your DNS or if you want toodo some simple tests, edit hello hosts file on your VM tooset web app name tooVIP IP address.</span></span> <span data-ttu-id="e373e-186">Если ваш ASE имя поддомена hello. ilbase.com и внесены hello web app mytestapp так, чтобы он бы адресу mytestapp.ilbase.com затем набор, в файл hosts.</span><span class="sxs-lookup"><span data-stu-id="e373e-186">If your ASE had hello subdomain name .ilbase.com and you made hello web app mytestapp so that it would be addressed at mytestapp.ilbase.com then set that in your hosts file.</span></span> <span data-ttu-id="e373e-187">(В Windows hello узлов находится в файле C:\Windows\System32\drivers\etc\)</span><span class="sxs-lookup"><span data-stu-id="e373e-187">(On Windows hello hosts file is at C:\Windows\System32\drivers\etc\ )</span></span>
7. <span data-ttu-id="e373e-188">Использовать браузер на этой виртуальной Машине и перейдите toohttp://mytestapp.ilbase.com (или что там имя вашего веб-приложения с дочернего домена)</span><span class="sxs-lookup"><span data-stu-id="e373e-188">Use a browser on that VM and go toohttp://mytestapp.ilbase.com (or whatever your web app name is with your subdomain)</span></span>
8. <span data-ttu-id="e373e-189">Использовать браузер на этой виртуальной Машине и перейдите toohttps://mytestapp.ilbase.com имеется отсутствие hello tooaccept безопасности при использовании самозаверяющего сертификата.</span><span class="sxs-lookup"><span data-stu-id="e373e-189">Use a browser on that VM and go toohttps://mytestapp.ilbase.com You will have tooaccept hello lack of security if using a self-signed certificate.</span></span> 

<span data-ttu-id="e373e-190">в свойствах Hello IP-адрес для вашего ILB указано как hello виртуальный IP-адрес</span><span class="sxs-lookup"><span data-stu-id="e373e-190">hello IP address for your ILB is listed in your Properties as hello Virtual IP Address</span></span>

![][4]

## <a name="using-an-ilb-ase"></a><span data-ttu-id="e373e-191">Использование ASE с внутренним балансировщиком нагрузки</span><span class="sxs-lookup"><span data-stu-id="e373e-191">Using an ILB ASE</span></span>
#### <a name="network-security-groups"></a><span data-ttu-id="e373e-192">группы сетевой безопасности;</span><span class="sxs-lookup"><span data-stu-id="e373e-192">Network Security Groups</span></span>
<span data-ttu-id="e373e-193">ILB ASE включает сетевая изоляция для приложений приложения hello не доступны или даже известных по hello Интернета.</span><span class="sxs-lookup"><span data-stu-id="e373e-193">An ILB ASE enables network isolation for your apps as hello apps are not accessible or even known by hello internet.</span></span> <span data-ttu-id="e373e-194">Это прекрасно подходит для размещения сайтов интрасети, например бизнес-приложений.</span><span class="sxs-lookup"><span data-stu-id="e373e-194">This is excellent for hosting intranet sites such as line of business applications.</span></span> <span data-ttu-id="e373e-195">Если вам нужен доступ toorestrict даже дальнейшей можно по-прежнему использовать доступа toocontrol Groups(NSGs) безопасности сети на уровне сети hello.</span><span class="sxs-lookup"><span data-stu-id="e373e-195">When you need toorestrict access even further you can still use Network Security Groups(NSGs) toocontrol access at hello network level.</span></span> 

<span data-ttu-id="e373e-196">При желании toofurther Nsg toouse ограничить доступ, то вы должны убедиться, что не приводит к нарушению связи hello toomake, ASE hello необходим toooperate заказа.</span><span class="sxs-lookup"><span data-stu-id="e373e-196">If you wish toouse NSGs toofurther restrict access then you need toomake sure you do not break hello communication that hello ASE needs in order toooperate.</span></span> <span data-ttu-id="e373e-197">Несмотря на то, что hello доступа HTTP/HTTPS — только через hello ILB используется hello ASE приветствия ASE по-прежнему зависит от ресурса за пределами hello виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="e373e-197">Even though hello HTTP/HTTPS access is only through hello ILB used by hello ASE hello ASE still depends on resource outside of hello VNet.</span></span> <span data-ttu-id="e373e-198">toosee, какой доступ к сети будет по-прежнему требуются просмотрите hello сведения в документе hello на [tooan управление входящий трафик среды службы приложений] [ ControlInbound] и hello документ на [сети Сведения о конфигурации для среды службы приложений с ExpressRoute][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="e373e-198">toosee what network access is still required look at hello information in hello document on [Controlling Inbound Traffic tooan App Service Environment][ControlInbound] and hello document on [Network Configuration Details for App Service Environments with ExpressRoute][ExpressRoute].</span></span> 

<span data-ttu-id="e373e-199">tooconfigure, Nsg требуется tooknow hello IP адрес, который указывается используемый Azure toomanage вашей ASE.</span><span class="sxs-lookup"><span data-stu-id="e373e-199">tooconfigure your NSGs you need tooknow hello IP address that is used by Azure toomanage your ASE.</span></span> <span data-ttu-id="e373e-200">Этот IP-адрес также является hello исходящий IP-адрес из вашего ASE, если он делает Интернет-запросы.</span><span class="sxs-lookup"><span data-stu-id="e373e-200">That IP address is also hello outbound IP address from your ASE if it makes internet requests.</span></span> <span data-ttu-id="e373e-201">Hello исходящий IP-адрес для вашего ASE останется статический объект для hello жизненного цикла вашего ASE.</span><span class="sxs-lookup"><span data-stu-id="e373e-201">hello outbound IP address for your ASE will remain static for hello life of your ASE.</span></span> <span data-ttu-id="e373e-202">Если вы удалите и повторно создадите ASE, будет получен новый IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="e373e-202">If you delete and recreate your ASE, you will get a new IP address.</span></span> <span data-ttu-id="e373e-203">Этот IP-адрес перехода слишком toofind**параметры -> свойства** и найти hello **исходящий IP-адрес**.</span><span class="sxs-lookup"><span data-stu-id="e373e-203">toofind this IP address go too**Settings -> Properties** and find hello **Outbound IP Address**.</span></span> 

![][5]

#### <a name="general-ilb-ase-management"></a><span data-ttu-id="e373e-204">Общее управление ASE с внутренним балансировщиком нагрузки</span><span class="sxs-lookup"><span data-stu-id="e373e-204">General ILB ASE management</span></span>
<span data-ttu-id="e373e-205">Управление ILB ASE является главным образом hello такой же, как управление ASE обычным образом.</span><span class="sxs-lookup"><span data-stu-id="e373e-205">Managing an ILB ASE is largely hello same as managing an ASE normally.</span></span> <span data-ttu-id="e373e-206">Требуется tooscale копирование вашего toohost рабочих пулов несколько экземпляров ASP и вертикальное масштабирование toohandle увеличить объемы серверы переднего плана вашей трафик HTTP/HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e373e-206">You need tooscale up your worker pools toohost more ASP instances and scale up your Front End servers toohandle increased amounts of HTTP/HTTPS traffic.</span></span> <span data-ttu-id="e373e-207">Общие сведения об управлении hello конфигурацию ASE чтения документа hello на [Настройка среды службы приложений][ASEConfig].</span><span class="sxs-lookup"><span data-stu-id="e373e-207">For general information on managing hello configuration of an ASE, read hello document on [Configuring an App Service Environment][ASEConfig].</span></span> 

<span data-ttu-id="e373e-208">элементы управления Hello — управления сертификатами и управления DNS.</span><span class="sxs-lookup"><span data-stu-id="e373e-208">hello additional management items are certificate management and DNS management.</span></span> <span data-ttu-id="e373e-209">Требуется tooobtain и hello сертификат используется для протокола HTTPS после создания ILB ASE и замените его до истечения срока его действия.</span><span class="sxs-lookup"><span data-stu-id="e373e-209">You need tooobtain and upload hello certificate used for HTTPS after ILB ASE creation and replace it before it expires.</span></span> <span data-ttu-id="e373e-210">Так как Azure, которому принадлежит базовый домен hello мы предоставляем сертификаты для ASEs с помощью внешнего виртуального IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="e373e-210">Because Azure owns hello base domain we can provide certificates for ASEs with an External VIP.</span></span> <span data-ttu-id="e373e-211">Так как hello дочерний домен, используемый ILB ASE может быть любым, необходимы tooprovide собственный сертификат для использования протокола HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e373e-211">Since hello subdomain used by an ILB ASE can be anything, you need tooprovide your own certificate for HTTPS.</span></span> 

#### <a name="dns-configuration"></a><span data-ttu-id="e373e-212">Настройка DNS</span><span class="sxs-lookup"><span data-stu-id="e373e-212">DNS Configuration</span></span>
<span data-ttu-id="e373e-213">Если с помощью внешнего виртуального IP-адреса hello DNS управляется Azure.</span><span class="sxs-lookup"><span data-stu-id="e373e-213">When using an External VIP hello DNS is managed by Azure.</span></span> <span data-ttu-id="e373e-214">Любое приложение, созданных в вашей ASE автоматически добавляется tooAzure DNS, который является общедоступном DNS-Сервере.</span><span class="sxs-lookup"><span data-stu-id="e373e-214">Any app created in your ASE is automatically added tooAzure DNS which is a public DNS.</span></span> <span data-ttu-id="e373e-215">В ILB ASE имеются toomanage собственный DNS-сервера.</span><span class="sxs-lookup"><span data-stu-id="e373e-215">In an ILB ASE you have toomanage your own DNS.</span></span> <span data-ttu-id="e373e-216">Для заданного дочернего домена, например contoso.corp.net необходимые toocreate, этот адрес tooyour точки ILB для записей DNS типа.</span><span class="sxs-lookup"><span data-stu-id="e373e-216">For a given subdomain such as contoso.corp.net you need toocreate DNS A records that point tooyour ILB address for:</span></span>

    * 
    <span data-ttu-id="e373e-217">*.scm ftp publish</span><span class="sxs-lookup"><span data-stu-id="e373e-217">*.scm ftp publish</span></span> 


## <a name="getting-started"></a><span data-ttu-id="e373e-218">Приступая к работе</span><span class="sxs-lookup"><span data-stu-id="e373e-218">Getting started</span></span>
<span data-ttu-id="e373e-219">Все статьи и как-для пользователя для среды службы приложений теперь доступны в hello [файл README для среды службы приложения](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="e373e-219">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="e373e-220">tooget к работе с среды службы приложения, в разделе [tooApp введение среды службы][WhatisASE]</span><span class="sxs-lookup"><span data-stu-id="e373e-220">tooget started with App Service Environments, see [Introduction tooApp Service Environments][WhatisASE]</span></span>

<span data-ttu-id="e373e-221">Дополнительные сведения о платформе hello службе приложений Azure см. в разделе [службе приложений Azure][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="e373e-221">For more information about hello Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!--Image references-->
[1]: ./media/app-service-environment-with-internal-load-balancer/ilbase-createilbase.png
[2]: ./media/app-service-environment-with-internal-load-balancer/ilbase-createapp.png
[3]: ./media/app-service-environment-with-internal-load-balancer/ilbase-newase.png
[4]: ./media/app-service-environment-with-internal-load-balancer/ilbase-vip.png
[5]: ./media/app-service-environment-with-internal-load-balancer/ilbase-externalvip.png
[6]: ./media/app-service-environment-with-internal-load-balancer/ilbase-ilbcertificate.png

<!--Links-->
[WhatisASE]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[HowtoCreateASE]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[ControlInbound]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[virtualnetwork]: https://azure.microsoft.com/documentation/articles/virtual-networks-faq/
[AppServicePricing]: http://azure.microsoft.com/pricing/details/app-service/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[ASEAutoscale]: http://azure.microsoft.com/documentation/articles/app-service-environment-auto-scale/
[ExpressRoute]: http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/
[vnetnsgs]: http://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[ASEConfig]: http://azure.microsoft.com/documentation/articles/app-service-web-configure-an-app-service-environment/
