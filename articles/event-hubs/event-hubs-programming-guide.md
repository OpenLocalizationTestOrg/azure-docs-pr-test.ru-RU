---
title: "руководство по aaaProgramming для концентраторов событий Azure | Документы Microsoft"
description: "Написание кода для концентраторов событий Azure с помощью hello Azure .NET SDK."
services: event-hubs
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 64cbfd3d-4a0e-4455-a90a-7f3d4f080323
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 43bebd126c2311af9e3daeb52324132b66cf0884
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-programming-guide"></a><span data-ttu-id="48240-103">Руководство по программированию концентраторов событий</span><span class="sxs-lookup"><span data-stu-id="48240-103">Event Hubs programming guide</span></span>

<span data-ttu-id="48240-104">В этой статье рассматриваются некоторые распространенные сценарии, в создании кода с помощью концентраторов событий Azure и hello Azure .NET SDK.</span><span class="sxs-lookup"><span data-stu-id="48240-104">This article discusses some common scenarios in writing code using Azure Event Hubs and hello Azure .NET SDK.</span></span> <span data-ttu-id="48240-105">Предполагается, что вы уже имеете представление о концентраторах событий.</span><span class="sxs-lookup"><span data-stu-id="48240-105">It assumes a preliminary understanding of Event Hubs.</span></span> <span data-ttu-id="48240-106">Концептуальный обзор концентраторов событий в разделе hello [Обзор концентраторов событий](event-hubs-what-is-event-hubs.md).</span><span class="sxs-lookup"><span data-stu-id="48240-106">For a conceptual overview of Event Hubs, see hello [Event Hubs overview](event-hubs-what-is-event-hubs.md).</span></span>

## <a name="event-publishers"></a><span data-ttu-id="48240-107">Издатели событий</span><span class="sxs-lookup"><span data-stu-id="48240-107">Event publishers</span></span>

<span data-ttu-id="48240-108">Вы отправляете концентратора событий tooan события, с помощью HTTP POST или через подключение AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="48240-108">You send events tooan event hub either using HTTP POST or via an AMQP 1.0 connection.</span></span> <span data-ttu-id="48240-109">Здравствуйте, выбор какой toouse и когда зависит от hello конкретного сценария.</span><span class="sxs-lookup"><span data-stu-id="48240-109">hello choice of which toouse and when depends on hello specific scenario being addressed.</span></span> <span data-ttu-id="48240-110">Подключения AMQP 1.0 измеряются как подключения через посредника по служебной шине. Они больше всего подходят для сценариев с большими объемами сообщений и менее строгими требованиями к задержке, так как такие подключения обеспечивают постоянный канал обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="48240-110">AMQP 1.0 connections are metered as brokered connections in Service Bus and are more appropriate in scenarios with frequent higher message volumes and lower latency requirements, as they provide a persistent messaging channel.</span></span>

<span data-ttu-id="48240-111">Создание и управление с помощью hello концентраторов событий [NamespaceManager][] класса.</span><span class="sxs-lookup"><span data-stu-id="48240-111">You create and manage Event Hubs using hello [NamespaceManager][] class.</span></span> <span data-ttu-id="48240-112">Создает hello .NET управляемом API-интерфейсы, основной hello для публикации данных tooEvent концентраторы — hello [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) и [EventData][] классы.</span><span class="sxs-lookup"><span data-stu-id="48240-112">When using hello .NET managed APIs, hello primary constructs for publishing data tooEvent Hubs are hello [EventHubClient](/dotnet/api/microsoft.servicebus.messaging.eventhubclient) and [EventData][] classes.</span></span> <span data-ttu-id="48240-113">[EventHubClient][] предоставляет канал связи AMQP hello, по которому события отправляются toohello концентратора событий.</span><span class="sxs-lookup"><span data-stu-id="48240-113">[EventHubClient][] provides hello AMQP communication channel over which events are sent toohello event hub.</span></span> <span data-ttu-id="48240-114">Hello [EventData][] класс представляет событие и, концентратора событий tooan используется toopublish сообщений.</span><span class="sxs-lookup"><span data-stu-id="48240-114">hello [EventData][] class represents an event, and is used toopublish messages tooan event hub.</span></span> <span data-ttu-id="48240-115">Этот класс содержит текст hello, некоторые метаданные и данные заголовка о событии hello.</span><span class="sxs-lookup"><span data-stu-id="48240-115">This class includes hello body, some metadata, and header information about hello event.</span></span> <span data-ttu-id="48240-116">Другие свойства добавляются toohello [EventData][] объекта при его прохождении через концентратор событий.</span><span class="sxs-lookup"><span data-stu-id="48240-116">Other properties are added toohello [EventData][] object as it passes through an event hub.</span></span>

## <a name="get-started"></a><span data-ttu-id="48240-117">Начало работы</span><span class="sxs-lookup"><span data-stu-id="48240-117">Get started</span></span>

<span data-ttu-id="48240-118">Hello классы .NET, которые поддерживают концентраторы событий приведены в hello сборку Microsoft.ServiceBus.dll.</span><span class="sxs-lookup"><span data-stu-id="48240-118">hello .NET classes that support Event Hubs are provided in hello Microsoft.ServiceBus.dll assembly.</span></span> <span data-ttu-id="48240-119">Здравствуйте, наиболее простым способом tooreference hello API служебной шины и tooconfigure приложения со всеми hello зависимости шины обслуживания — toodownload hello [пакет шины обслуживания NuGet](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span><span class="sxs-lookup"><span data-stu-id="48240-119">hello easiest way tooreference hello Service Bus API and tooconfigure your application with all of hello Service Bus dependencies is toodownload hello [Service Bus NuGet package](https://www.nuget.org/packages/WindowsAzure.ServiceBus).</span></span> <span data-ttu-id="48240-120">Кроме того, можно использовать hello [консоль диспетчера пакетов](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="48240-120">Alternatively, you can use hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) in Visual Studio.</span></span> <span data-ttu-id="48240-121">toodo таким образом, выполните следующую команду в hello hello [консоль диспетчера пакетов](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) окна:</span><span class="sxs-lookup"><span data-stu-id="48240-121">toodo so, issue hello following command in hello [Package Manager Console](http://docs.nuget.org/docs/start-here/using-the-package-manager-console) window:</span></span>

```
Install-Package WindowsAzure.ServiceBus
```

## <a name="create-an-event-hub"></a><span data-ttu-id="48240-122">Создание концентратора событий</span><span class="sxs-lookup"><span data-stu-id="48240-122">Create an event hub</span></span>
<span data-ttu-id="48240-123">Можно использовать hello [NamespaceManager][] класса toocreate концентраторов событий.</span><span class="sxs-lookup"><span data-stu-id="48240-123">You can use hello [NamespaceManager][] class toocreate Event Hubs.</span></span> <span data-ttu-id="48240-124">Например:</span><span class="sxs-lookup"><span data-stu-id="48240-124">For example:</span></span>

```csharp
var manager = new Microsoft.ServiceBus.NamespaceManager("mynamespace.servicebus.windows.net");
var description = manager.CreateEventHub("MyEventHub");
```

<span data-ttu-id="48240-125">В большинстве случаев рекомендуется использовать hello [CreateEventHubIfNotExists][] tooavoid методы создания исключений при перезапуске службы hello.</span><span class="sxs-lookup"><span data-stu-id="48240-125">In most cases, it is recommended that you use hello [CreateEventHubIfNotExists][] methods tooavoid generating exceptions if hello service restarts.</span></span> <span data-ttu-id="48240-126">Например:</span><span class="sxs-lookup"><span data-stu-id="48240-126">For example:</span></span>

```csharp
var description = manager.CreateEventHubIfNotExists("MyEventHub");
```

<span data-ttu-id="48240-127">Все операции создания концентраторов событий, включая [CreateEventHubIfNotExists][], требуют **управление** разрешения на пространстве имен hello.</span><span class="sxs-lookup"><span data-stu-id="48240-127">All Event Hubs creation operations, including [CreateEventHubIfNotExists][], require **Manage** permissions on hello namespace in question.</span></span> <span data-ttu-id="48240-128">Если вы хотите toolimit hello разрешения приложений издателя или потребителя, можно избежать вызовов операций создания в рабочем коде при использовании учетных данных с ограниченными разрешениями.</span><span class="sxs-lookup"><span data-stu-id="48240-128">If you want toolimit hello permissions of your publisher or consumer applications, you can avoid these create operation calls in production code when you use credentials with limited permissions.</span></span>

<span data-ttu-id="48240-129">Hello [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) класс содержит сведения о концентраторе событий, включая правила авторизации hello, период хранения сообщений hello, идентификаторы секций, состояние и путь.</span><span class="sxs-lookup"><span data-stu-id="48240-129">hello [EventHubDescription](/dotnet/api/microsoft.servicebus.messaging.eventhubdescription) class contains details about an event hub, including hello authorization rules, hello message retention interval, partition IDs, status, and path.</span></span> <span data-ttu-id="48240-130">Можно использовать этот класс tooupdate hello метаданных в концентраторе событий.</span><span class="sxs-lookup"><span data-stu-id="48240-130">You can use this class tooupdate hello metadata on an event hub.</span></span>

## <a name="create-an-event-hubs-client"></a><span data-ttu-id="48240-131">Создание клиента концентратора событий</span><span class="sxs-lookup"><span data-stu-id="48240-131">Create an Event Hubs client</span></span>
<span data-ttu-id="48240-132">Hello основным классом для взаимодействия с концентраторами событий является [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span><span class="sxs-lookup"><span data-stu-id="48240-132">hello primary class for interacting with Event Hubs is [Microsoft.ServiceBus.Messaging.EventHubClient][EventHubClient].</span></span> <span data-ttu-id="48240-133">Этот класс предоставляет возможности отправителя и получателя.</span><span class="sxs-lookup"><span data-stu-id="48240-133">This class provides both sender and receiver capabilities.</span></span> <span data-ttu-id="48240-134">Можно создать экземпляр этого класса с помощью hello [создать](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) метода, как показано в следующий пример hello.</span><span class="sxs-lookup"><span data-stu-id="48240-134">You can instantiate this class using hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient.create) method, as shown in hello following example.</span></span>

```csharp
var client = EventHubClient.Create(description.Path);
```

<span data-ttu-id="48240-135">Этот метод использует сведения о соединении Service Bus hello в файле App.config hello в hello `appSettings` раздела.</span><span class="sxs-lookup"><span data-stu-id="48240-135">This method uses hello Service Bus connection information in hello App.config file, in hello `appSettings` section.</span></span> <span data-ttu-id="48240-136">Пример hello `appSettings` XML использовать сведения о соединении toostore hello Service Bus см. в разделе документации hello hello [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) метод.</span><span class="sxs-lookup"><span data-stu-id="48240-136">For an example of hello `appSettings` XML used toostore hello Service Bus connection information, see hello documentation for hello [Microsoft.ServiceBus.Messaging.EventHubClient.Create(System.String)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method.</span></span>

<span data-ttu-id="48240-137">Другой вариант — toocreate hello клиента из строки подключения.</span><span class="sxs-lookup"><span data-stu-id="48240-137">Another option is toocreate hello client from a connection string.</span></span> <span data-ttu-id="48240-138">Этот вариант удобен при использовании рабочих ролей Azure, так как можно сохранить строку hello в hello свойства конфигурации для рабочего процесса hello.</span><span class="sxs-lookup"><span data-stu-id="48240-138">This option works well when using Azure worker roles, because you can store hello string in hello configuration properties for hello worker.</span></span> <span data-ttu-id="48240-139">Например:</span><span class="sxs-lookup"><span data-stu-id="48240-139">For example:</span></span>

```csharp
EventHubClient.CreateFromConnectionString("your_connection_string");
```

<span data-ttu-id="48240-140">Строка соединения Hello будет в том же формате, как оно отображается в hello файл App.config для предыдущих методов hello hello:</span><span class="sxs-lookup"><span data-stu-id="48240-140">hello connection string will be in hello same format as it appears in hello App.config file for hello previous methods:</span></span>

```
Endpoint=sb://[namespace].servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=[key]
```

<span data-ttu-id="48240-141">Наконец, это также возможно toocreate [EventHubClient][] объекта из [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) экземпляра, как показано в следующий пример hello.</span><span class="sxs-lookup"><span data-stu-id="48240-141">Finally, it is also possible toocreate an [EventHubClient][] object from a [MessagingFactory](/dotnet/api/microsoft.servicebus.messaging.messagingfactory) instance, as shown in hello following example.</span></span>

```csharp
var factory = MessagingFactory.CreateFromConnectionString("your_connection_string");
var client = factory.CreateEventHubClient("MyEventHub");
```

<span data-ttu-id="48240-142">Это что дополнительные важные toonote [EventHubClient][] объекты, созданные из экземпляра фабрики обмена сообщениями, повторно использует hello же базовое соединение TCP.</span><span class="sxs-lookup"><span data-stu-id="48240-142">It is important toonote that additional [EventHubClient][] objects created from a messaging factory instance will reuse hello same underlying TCP connection.</span></span> <span data-ttu-id="48240-143">Таким образом эти объекты имеют ограничение на пропускную способность на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="48240-143">Therefore, these objects have a client-side limit on throughput.</span></span> <span data-ttu-id="48240-144">Hello [создать](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) метод повторно использует одну фабрику обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="48240-144">hello [Create](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Create_System_String_) method reuses a single messaging factory.</span></span> <span data-ttu-id="48240-145">Если требуется достаточно высокая пропускная способность от одного отправителя, то можно создать несколько фабрик обмена сообщениями и один объект [EventHubClient][] из каждой фабрики обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="48240-145">If you need very high throughput from a single sender, then you can create multiple message factories and one [EventHubClient][] object from each messaging factory.</span></span>

## <a name="send-events-tooan-event-hub"></a><span data-ttu-id="48240-146">Отправить концентратора событий tooan события</span><span class="sxs-lookup"><span data-stu-id="48240-146">Send events tooan event hub</span></span>
<span data-ttu-id="48240-147">Отправить концентратора событий tooan событий путем создания [EventData][] экземпляра и отправкой через hello [отправки](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) метод.</span><span class="sxs-lookup"><span data-stu-id="48240-147">You send events tooan event hub by creating an [EventData][] instance and sending it via hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) method.</span></span> <span data-ttu-id="48240-148">Этот метод принимает один [EventData][] параметр экземпляра и синхронно отправляет его tooan концентратора событий.</span><span class="sxs-lookup"><span data-stu-id="48240-148">This method takes a single [EventData][] instance parameter and synchronously sends it tooan event hub.</span></span>

## <a name="event-serialization"></a><span data-ttu-id="48240-149">Сериализация событий</span><span class="sxs-lookup"><span data-stu-id="48240-149">Event serialization</span></span>
<span data-ttu-id="48240-150">Hello [EventData][] класс имеет [четыре перегруженных конструкторов](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) , предпринять ряд параметров, таких как объект и сериализатор, массив байтов или поток.</span><span class="sxs-lookup"><span data-stu-id="48240-150">hello [EventData][] class has [four overloaded constructors](/dotnet/api/microsoft.servicebus.messaging.eventdata#constructors_) that take a variety of parameters, such as an object and serializer, a byte array, or a stream.</span></span> <span data-ttu-id="48240-151">Это также hello возможных tooinstantiate [EventData][] класса, а затем задать поток текста hello.</span><span class="sxs-lookup"><span data-stu-id="48240-151">It is also possible tooinstantiate hello [EventData][] class and set hello body stream afterwards.</span></span> <span data-ttu-id="48240-152">При использовании JSON с помощью [EventData][], можно использовать **Encoding.UTF8.GetBytes()** массива байтов hello tooretrieve строка в кодировке JSON.</span><span class="sxs-lookup"><span data-stu-id="48240-152">When using JSON with [EventData][], you can use **Encoding.UTF8.GetBytes()** tooretrieve hello byte array for a JSON-encoded string.</span></span>

## <a name="partition-key"></a><span data-ttu-id="48240-153">Ключ секции</span><span class="sxs-lookup"><span data-stu-id="48240-153">Partition key</span></span>
<span data-ttu-id="48240-154">Hello [EventData][] класс имеет [PartitionKey][] свойство, позволяющее hello отправителя toospecify значение хэшируются tooproduce назначения раздела.</span><span class="sxs-lookup"><span data-stu-id="48240-154">hello [EventData][] class has a [PartitionKey][] property that enables hello sender toospecify a value that is hashed tooproduce a partition assignment.</span></span> <span data-ttu-id="48240-155">Использование ключа раздела гарантирует все Здравствуйте события, с таким же ключом отправляются hello toohello же секции в концентратор событий hello.</span><span class="sxs-lookup"><span data-stu-id="48240-155">Using a partition key ensures that all hello events with hello same key are sent toohello same partition in hello event hub.</span></span> <span data-ttu-id="48240-156">Общие ключи секции включают идентификаторы сеансов пользователей и уникальные идентификаторы отправителей.</span><span class="sxs-lookup"><span data-stu-id="48240-156">Common partition keys include user session IDs and unique sender IDs.</span></span> <span data-ttu-id="48240-157">Hello [PartitionKey][] свойство является необязательным и может быть указано при использовании hello [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) или [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) методы.</span><span class="sxs-lookup"><span data-stu-id="48240-157">hello [PartitionKey][] property is optional and can be provided when using hello [Microsoft.ServiceBus.Messaging.EventHubClient.Send(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) or [Microsoft.ServiceBus.Messaging.EventHubClient.SendAsync(Microsoft.ServiceBus.Messaging.EventData)](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendAsync_Microsoft_ServiceBus_Messaging_EventData_) methods.</span></span> <span data-ttu-id="48240-158">Если не указано значение для [PartitionKey][], отправленные события, распределенные toopartitions, используя модель циклический перебор.</span><span class="sxs-lookup"><span data-stu-id="48240-158">If you do not provide a value for [PartitionKey][], sent events are distributed toopartitions using a round-robin model.</span></span>

### <a name="availability-considerations"></a><span data-ttu-id="48240-159">Вопросы доступности</span><span class="sxs-lookup"><span data-stu-id="48240-159">Availability considerations</span></span>

<span data-ttu-id="48240-160">Использование ключа раздела является необязательным, и следует тщательно проанализировать ли toouse один.</span><span class="sxs-lookup"><span data-stu-id="48240-160">Using a partition key is optional, and you should consider carefully whether or not toouse one.</span></span> <span data-ttu-id="48240-161">Однако если порядок событий важен, в большинстве случаев следует применять ключ раздела.</span><span class="sxs-lookup"><span data-stu-id="48240-161">In many cases, using a partition key is a good choice if event ordering is important.</span></span> <span data-ttu-id="48240-162">При использовании ключа раздела, этот раздел требует доступности на одном узле, при этом время от времени могут возникать сбои, например, при перезагрузке узлов и установке исправлений на них.</span><span class="sxs-lookup"><span data-stu-id="48240-162">When you use a partition key, these partitions require availability on a single node, and outages can occur over time; for example, when compute nodes reboot and patch.</span></span> <span data-ttu-id="48240-163">Таким образом Если задан идентификатор секции и этой секции становится недоступен по какой-либо причине, попытка tooaccess hello данные этой секции завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="48240-163">As such, if you set a partition ID and that partition becomes unavailable for some reason, an attempt tooaccess hello data in that partition will fail.</span></span> <span data-ttu-id="48240-164">Если высокий уровень доступности является наиболее важным, не задавать ключ секционирования; в этом случае события будут отправлены toopartitions, с помощью модели циклического hello было описано выше.</span><span class="sxs-lookup"><span data-stu-id="48240-164">If high availability is most important, do not specify a partition key; in that case events will be sent toopartitions using hello round-robin model described previously.</span></span> <span data-ttu-id="48240-165">В этом сценарии вы выполняете явный выбор между доступностью (идентификатор секции не) и согласованности (идентификатор секции tooa события закрепление).</span><span class="sxs-lookup"><span data-stu-id="48240-165">In this scenario, you are making an explicit choice between availability (no partition ID) and consistency (pinning events tooa partition ID).</span></span>

<span data-ttu-id="48240-166">Вам также следует решить, как справиться с задержками в обработке событий.</span><span class="sxs-lookup"><span data-stu-id="48240-166">Another consideration is handling delays in processing events.</span></span> <span data-ttu-id="48240-167">В некоторых случаях он может быть лучше toodrop данных и повторите чем tootry и справиться с обработке, которая потенциально может привести к задержкам дальнейшей последующей обработки.</span><span class="sxs-lookup"><span data-stu-id="48240-167">In some cases it might be better toodrop data and retry than tootry and keep up with processing, which can potentially cause further downstream processing delays.</span></span> <span data-ttu-id="48240-168">Например биржевые сводки удобно лучше toowait для завершения самые последние данные, но в чата или сценарий VOIP вместо пришлось бы hello данных быстро, даже если он еще не завершен.</span><span class="sxs-lookup"><span data-stu-id="48240-168">For example, with a stock ticker it's better toowait for complete up-to-date data, but in a live chat or VOIP scenario you'd rather have hello data quickly, even if it isn't complete.</span></span>

<span data-ttu-id="48240-169">Учитывая эти вопросы доступности в этих сценариях можно выбрать один из hello следующие стратегии обработки ошибок:</span><span class="sxs-lookup"><span data-stu-id="48240-169">Given these availability considerations, in these scenarios you might choose one of hello following error handling strategies:</span></span>

- <span data-ttu-id="48240-170">прекращение (прекратите чтение из концентраторов событий, пока не будут исправлены все ошибки);</span><span class="sxs-lookup"><span data-stu-id="48240-170">Stop (stop reading from Event Hubs until things are fixed)</span></span>
- <span data-ttu-id="48240-171">удаление (удалите ненужные сообщения);</span><span class="sxs-lookup"><span data-stu-id="48240-171">Drop (messages aren’t important, drop them)</span></span>
- <span data-ttu-id="48240-172">Повтор ("Повторить" hello, как можно увидеть помещаются сообщения)</span><span class="sxs-lookup"><span data-stu-id="48240-172">Retry (retry hello messages as you see fit)</span></span>
- <span data-ttu-id="48240-173">[Недоставленных сообщений](../service-bus-messaging/service-bus-dead-letter-queues.md) (используется только сообщений hello буква в очередь или другой toodead концентратора событий не удалось обработать)</span><span class="sxs-lookup"><span data-stu-id="48240-173">[Dead letter](../service-bus-messaging/service-bus-dead-letter-queues.md) (use a queue or another event hub toodead letter only hello messages you couldn’t process)</span></span>

<span data-ttu-id="48240-174">Дополнительные сведения и обсуждение hello компромисс между доступностью и согласованности см. в разделе [доступности и согласованности в концентраторы событий](event-hubs-availability-and-consistency.md).</span><span class="sxs-lookup"><span data-stu-id="48240-174">For more information and a discussion about hello trade-offs between availability and consistency, see [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md).</span></span> 

## <a name="batch-event-send-operations"></a><span data-ttu-id="48240-175">Пакетные операции отправки событий</span><span class="sxs-lookup"><span data-stu-id="48240-175">Batch event send operations</span></span>
<span data-ttu-id="48240-176">Пакетная отправка событий позволяет значительно повысить пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="48240-176">Sending events in batches can dramatically increase throughput.</span></span> <span data-ttu-id="48240-177">Hello [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) принимает **IEnumerable** параметр типа [EventData][] и отправляет hello весь пакет как атомарную операцию toohello концентратора событий.</span><span class="sxs-lookup"><span data-stu-id="48240-177">hello [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) method takes an **IEnumerable** parameter of type [EventData][] and sends hello entire batch as an atomic operation toohello event hub.</span></span>

```csharp
public void SendBatch(IEnumerable<EventData> eventDataList);
```

<span data-ttu-id="48240-178">Обратите внимание, что один пакет не должно превышать ограничение в 256 КБ hello событие.</span><span class="sxs-lookup"><span data-stu-id="48240-178">Note that a single batch must not exceed hello 256 KB limit of an event.</span></span> <span data-ttu-id="48240-179">Кроме того, каждое сообщение в пакете hello использует hello же идентификатор издателя.</span><span class="sxs-lookup"><span data-stu-id="48240-179">Additionally, each message in hello batch uses hello same publisher identity.</span></span> <span data-ttu-id="48240-180">Он не несет ответственность за hello tooensure отправителя hello, hello пакета превышать hello максимальный размер события.</span><span class="sxs-lookup"><span data-stu-id="48240-180">It is hello responsibility of hello sender tooensure that hello batch does not exceed hello maximum event size.</span></span> <span data-ttu-id="48240-181">Если же размер больше, генерируется ошибка **Send** клиента.</span><span class="sxs-lookup"><span data-stu-id="48240-181">If it does, a client **Send** error is generated.</span></span>

## <a name="send-asynchronously-and-send-at-scale"></a><span data-ttu-id="48240-182">Асинхронная отправка и отправка в нужном масштабе</span><span class="sxs-lookup"><span data-stu-id="48240-182">Send asynchronously and send at scale</span></span>
<span data-ttu-id="48240-183">Можно также отправлять события концентратора событий tooan асинхронно.</span><span class="sxs-lookup"><span data-stu-id="48240-183">You can also send events tooan event hub asynchronously.</span></span> <span data-ttu-id="48240-184">Асинхронная Отправка способствует увеличению hello скорость, с которой клиент может toosend события.</span><span class="sxs-lookup"><span data-stu-id="48240-184">Sending asynchronously can increase hello rate at which a client is able toosend events.</span></span> <span data-ttu-id="48240-185">Оба hello [отправки](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) и [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) методы доступны в асинхронных версий, которые возвращают [задачи](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) объекта.</span><span class="sxs-lookup"><span data-stu-id="48240-185">Both hello [Send](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_Send_Microsoft_ServiceBus_Messaging_EventData_) and [SendBatch](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_SendBatch_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__) methods are available in asynchronous versions that return a [Task](https://msdn.microsoft.com/library/system.threading.tasks.task.aspx) object.</span></span> <span data-ttu-id="48240-186">Хотя этот способ может увеличить пропускную способность, он также может привести к hello клиента toocontinue toosend события даже в том случае, когда он регулируется hello службы концентраторов событий и может привести к hello возникать ошибки или потери сообщений в противном случае правильно реализован.</span><span class="sxs-lookup"><span data-stu-id="48240-186">While this technique can increase throughput, it can also cause hello client toocontinue toosend events even while it is being throttled by hello Event Hubs service and can result in hello client experiencing failures or lost messages if not properly implemented.</span></span> <span data-ttu-id="48240-187">Кроме того, можно использовать hello [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) свойство повторных попыток hello toocontrol клиента клиента.</span><span class="sxs-lookup"><span data-stu-id="48240-187">In addition, you can use hello [RetryPolicy](/dotnet/api/microsoft.servicebus.messaging.cliententity#Microsoft_ServiceBus_Messaging_ClientEntity_RetryPolicy) property on hello client toocontrol client retry options.</span></span>

## <a name="create-a-partition-sender"></a><span data-ttu-id="48240-188">Создание отправителя секции</span><span class="sxs-lookup"><span data-stu-id="48240-188">Create a partition sender</span></span>
<span data-ttu-id="48240-189">Несмотря на то, что это наиболее распространенные события концентратора tooan toosend событий без ключа секции, в некоторых случаях может потребоваться toosend события напрямую tooa заданного раздела.</span><span class="sxs-lookup"><span data-stu-id="48240-189">Although it is most common toosend events tooan event hub without a partition key, in some cases you might want toosend events directly tooa given partition.</span></span> <span data-ttu-id="48240-190">Например:</span><span class="sxs-lookup"><span data-stu-id="48240-190">For example:</span></span>

```csharp
var partitionedSender = client.CreatePartitionedSender(description.PartitionIds[0]);
```

<span data-ttu-id="48240-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) возвращает [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) , можно использовать раздел toopublish события tooa конкретного события концентратора.</span><span class="sxs-lookup"><span data-stu-id="48240-191">[CreatePartitionedSender](/dotnet/api/microsoft.servicebus.messaging.eventhubclient#Microsoft_ServiceBus_Messaging_EventHubClient_CreatePartitionedSender_System_String_) returns an [EventHubSender](/dotnet/api/microsoft.servicebus.messaging.eventhubsender) object that you can use toopublish events tooa specific event hub partition.</span></span>

## <a name="event-consumers"></a><span data-ttu-id="48240-192">Получатели событий</span><span class="sxs-lookup"><span data-stu-id="48240-192">Event consumers</span></span>
<span data-ttu-id="48240-193">Концентраторы событий имеют две основных модели потребления событий: прямые получатели и абстракции более высокого уровня, такие как [EventProcessorHost][].</span><span class="sxs-lookup"><span data-stu-id="48240-193">Event Hubs has two primary models for event consumption: direct receivers and higher-level abstractions, such as [EventProcessorHost][].</span></span> <span data-ttu-id="48240-194">Прямые получатели отвечают за собственную координацию доступа toopartitions в группе потребителей.</span><span class="sxs-lookup"><span data-stu-id="48240-194">Direct receivers are responsible for their own coordination of access toopartitions within a consumer group.</span></span>

### <a name="direct-consumer"></a><span data-ttu-id="48240-195">Прямой потребитель</span><span class="sxs-lookup"><span data-stu-id="48240-195">Direct consumer</span></span>
<span data-ttu-id="48240-196">Hello самый прямой способ tooread из секции в группе потребителей — toouse hello [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) класса.</span><span class="sxs-lookup"><span data-stu-id="48240-196">hello most direct way tooread from a partition within a consumer group is toouse hello [EventHubReceiver](/dotnet/apie/microsoft.servicebus.messaging.eventhubreceiver) class.</span></span> <span data-ttu-id="48240-197">toocreate экземпляра этого класса, необходимо использовать экземпляр hello [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) класса.</span><span class="sxs-lookup"><span data-stu-id="48240-197">toocreate an instance of this class, you must use an instance of hello [EventHubConsumerGroup](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup) class.</span></span> <span data-ttu-id="48240-198">В следующем примере hello идентификатор секции hello необходимо указать при создании приемника hello для группы потребителей hello.</span><span class="sxs-lookup"><span data-stu-id="48240-198">In hello following example, hello partition ID must be specified when creating hello receiver for hello consumer group.</span></span>

```csharp
EventHubConsumerGroup group = client.GetDefaultConsumerGroup();
var receiver = group.CreateReceiver(client.GetRuntimeInformation().PartitionIds[0]);
```

<span data-ttu-id="48240-199">Hello [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) метод имеет несколько перегрузок, которые упрощают контроль создаваемого читателя hello.</span><span class="sxs-lookup"><span data-stu-id="48240-199">hello [CreateReceiver](/dotnet/api/microsoft.servicebus.messaging.eventhubconsumergroup#methods_summary) method has several overloads that facilitate control over hello reader being created.</span></span> <span data-ttu-id="48240-200">Эти методы позволяют указать смещение в виде строки или отметки времени и hello возможности toospecify tooinclude указанного смещения в hello возвращение потоковую передачу или после его запуска.</span><span class="sxs-lookup"><span data-stu-id="48240-200">These methods include specifying an offset as either a string or timestamp, and hello ability toospecify whether tooinclude this specified offset in hello returned stream, or start after it.</span></span> <span data-ttu-id="48240-201">После создания получателя hello, можно начать прием событий на hello, возвращенный объект.</span><span class="sxs-lookup"><span data-stu-id="48240-201">After you create hello receiver, you can start receiving events on hello returned object.</span></span> <span data-ttu-id="48240-202">Hello [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) метод имеет четыре перегрузки hello, элемент управления получать параметры операции, такие как размер пакета и время ожидания.</span><span class="sxs-lookup"><span data-stu-id="48240-202">hello [Receive](/dotnet/api/microsoft.servicebus.messaging.eventhubreceiver#methods_summary) method has four overloads that control hello receive operation parameters, such as batch size and wait time.</span></span> <span data-ttu-id="48240-203">Можно использовать асинхронные версии этих методов tooincrease hello пропускной способности потребителя hello.</span><span class="sxs-lookup"><span data-stu-id="48240-203">You can use hello asynchronous versions of these methods tooincrease hello throughput of a consumer.</span></span> <span data-ttu-id="48240-204">Например:</span><span class="sxs-lookup"><span data-stu-id="48240-204">For example:</span></span>

```csharp
bool receive = true;
string myOffset;
while(receive)
{
    var message = receiver.Receive();
    myOffset = message.Offset;
    string body = Encoding.UTF8.GetString(message.GetBytes());
    Console.WriteLine(String.Format("Received message offset: {0} \nbody: {1}", myOffset, body));
}
```

<span data-ttu-id="48240-205">С уважением tooa определенной секции обеспечивают получение сообщений hello в hello порядок, в котором они были отправлены toohello концентратора событий.</span><span class="sxs-lookup"><span data-stu-id="48240-205">With respect tooa specific partition, hello messages are received in hello order in which they were sent toohello event hub.</span></span> <span data-ttu-id="48240-206">Hello offset является строка токена используется tooidentify сообщения в разделе.</span><span class="sxs-lookup"><span data-stu-id="48240-206">hello offset is a string token used tooidentify a message in a partition.</span></span>

<span data-ttu-id="48240-207">Обратите внимание на то, что одновременно к одной секции в группе потребителей можно подключить не более 5 параллельных модулей чтения.</span><span class="sxs-lookup"><span data-stu-id="48240-207">Note that a single partition within a consumer group cannot have more than 5 concurrent readers connected at any time.</span></span> <span data-ttu-id="48240-208">Как подключения или отключении читателей их сеансы могут оставаться активными на несколько минут, прежде чем служба hello распознает, что они отключены.</span><span class="sxs-lookup"><span data-stu-id="48240-208">As readers connect or become disconnected, their sessions might stay active for several minutes before hello service recognizes that they have disconnected.</span></span> <span data-ttu-id="48240-209">Повторное подключение tooa секции может завершиться ошибкой в течение этого времени.</span><span class="sxs-lookup"><span data-stu-id="48240-209">During this time, reconnecting tooa partition may fail.</span></span> <span data-ttu-id="48240-210">Полный пример написания прямого получателя для концентраторов событий см. в разделе hello [прямые получатели концентраторов событий](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) образца.</span><span class="sxs-lookup"><span data-stu-id="48240-210">For a complete example of writing a direct receiver for Event Hubs, see hello [Event Hubs Direct Receivers](https://code.msdn.microsoft.com/Event-Hub-Direct-Receivers-13fa95c6) sample.</span></span>

### <a name="event-processor-host"></a><span data-ttu-id="48240-211">Узел обработчика событий</span><span class="sxs-lookup"><span data-stu-id="48240-211">Event processor host</span></span>
<span data-ttu-id="48240-212">Hello [EventProcessorHost][] класс обрабатывает данные из концентраторов событий.</span><span class="sxs-lookup"><span data-stu-id="48240-212">hello [EventProcessorHost][] class processes data from Event Hubs.</span></span> <span data-ttu-id="48240-213">Эту реализацию следует использовать при создании читателя событий на платформе .NET hello.</span><span class="sxs-lookup"><span data-stu-id="48240-213">You should use this implementation when building event readers on hello .NET platform.</span></span> <span data-ttu-id="48240-214">[EventProcessorHost][] предоставляет потокобезопасную многопроцессную среду безопасного выполнения для реализаций обработчиков событий. Эта среда также предоставляет средства управления контрольными точками и аренды секций.</span><span class="sxs-lookup"><span data-stu-id="48240-214">[EventProcessorHost][] provides a thread-safe, multi-process, safe runtime environment for event processor implementations that also provides checkpointing and partition lease management.</span></span>

<span data-ttu-id="48240-215">toouse hello [EventProcessorHost][] , можно реализовать [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span><span class="sxs-lookup"><span data-stu-id="48240-215">toouse hello [EventProcessorHost][] class, you can implement [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor).</span></span> <span data-ttu-id="48240-216">Этот интерфейс содержит три метода:</span><span class="sxs-lookup"><span data-stu-id="48240-216">This interface contains three methods:</span></span>

* [<span data-ttu-id="48240-217">OpenAsync</span><span class="sxs-lookup"><span data-stu-id="48240-217">OpenAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_OpenAsync_Microsoft_ServiceBus_Messaging_PartitionContext_)
* [<span data-ttu-id="48240-218">CloseAsync</span><span class="sxs-lookup"><span data-stu-id="48240-218">CloseAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_CloseAsync_Microsoft_ServiceBus_Messaging_PartitionContext_Microsoft_ServiceBus_Messaging_CloseReason_)
* [<span data-ttu-id="48240-219">ProcessEventsAsync</span><span class="sxs-lookup"><span data-stu-id="48240-219">ProcessEventsAsync</span></span>](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor#Microsoft_ServiceBus_Messaging_IEventProcessor_ProcessEventsAsync_Microsoft_ServiceBus_Messaging_PartitionContext_System_Collections_Generic_IEnumerable_Microsoft_ServiceBus_Messaging_EventData__)

<span data-ttu-id="48240-220">создать экземпляр toostart обработка событий, [EventProcessorHost][], предоставляя hello соответствующие параметры для концентратора событий.</span><span class="sxs-lookup"><span data-stu-id="48240-220">toostart event processing, instantiate [EventProcessorHost][], providing hello appropriate parameters for your event hub.</span></span> <span data-ttu-id="48240-221">Затем вызовите метод [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister вашей [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) реализацию hello среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="48240-221">Then, call [RegisterEventProcessorAsync](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost#Microsoft_ServiceBus_Messaging_EventProcessorHost_RegisterEventProcessorAsync__1) tooregister your [IEventProcessor](/dotnet/api/microsoft.servicebus.messaging.ieventprocessor) implementation with hello runtime.</span></span> <span data-ttu-id="48240-222">На этом этапе узел hello попытается tooacquire аренду для каждого раздела в концентраторе событий hello, с помощью алгоритма «жадного».</span><span class="sxs-lookup"><span data-stu-id="48240-222">At this point, hello host will attempt tooacquire a lease on every partition in hello event hub using a "greedy" algorithm.</span></span> <span data-ttu-id="48240-223">Эти аренды будут продолжаться в течение заданного промежутка времени, после чего их необходимо продлить.</span><span class="sxs-lookup"><span data-stu-id="48240-223">These leases will last for a given timeframe and must then be renewed.</span></span> <span data-ttu-id="48240-224">Когда новые узлы экземпляров рабочих ролей в этом случае переходит в оперативный режим, они резервируют аренды и со временем hello нагрузки переходит между узлами, как каждый пытаться tooacquire дополнительные аренды.</span><span class="sxs-lookup"><span data-stu-id="48240-224">As new nodes, worker instances in this case, come online, they place lease reservations and over time hello load shifts between nodes as each attempts tooacquire more leases.</span></span>

![Узел обработчика событий](./media/event-hubs-programming-guide/IC759863.png)

<span data-ttu-id="48240-226">Со временем устанавливается равновесие.</span><span class="sxs-lookup"><span data-stu-id="48240-226">Over time, an equilibrium is established.</span></span> <span data-ttu-id="48240-227">Эта динамическая возможность позволяет Автомасштабирование на основе ЦП tooconsumers toobe применяется для масштабирования вверх и вниз.</span><span class="sxs-lookup"><span data-stu-id="48240-227">This dynamic capability enables CPU-based autoscaling toobe applied tooconsumers for both scale-up and scale-down.</span></span> <span data-ttu-id="48240-228">Поскольку концентраторы событий не имеют прямой требования к количеству сообщений, среднее использование ЦП чаще всего hello оптимизировать механизм toomeasure назад сервера или потребителя размер.</span><span class="sxs-lookup"><span data-stu-id="48240-228">Because Event Hubs do not have a direct concept of message counts, average CPU utilization is often hello best mechanism toomeasure back end or consumer scale.</span></span> <span data-ttu-id="48240-229">Если издатели начинают toopublish больше событий, чем потребителей может обработать, hello увеличить ресурсы ЦП для потребителей можно использовать toocause автоматически регулировать число экземпляров рабочих процессов.</span><span class="sxs-lookup"><span data-stu-id="48240-229">If publishers begin toopublish more events than consumers can process, hello CPU increase on consumers can be used toocause an auto-scale on worker instance count.</span></span>

<span data-ttu-id="48240-230">Hello [EventProcessorHost][] класс также реализует механизм контрольные точки на основе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="48240-230">hello [EventProcessorHost][] class also implements an Azure storage-based checkpointing mechanism.</span></span> <span data-ttu-id="48240-231">Смещение по принципу каждой из секций, чтобы каждый получатель может определить, какие hello последнюю контрольную точку предыдущего потребителя hello хранилищ hello этот механизм система была.</span><span class="sxs-lookup"><span data-stu-id="48240-231">This mechanism stores hello offset on a per partition basis, so that each consumer can determine what hello last checkpoint from hello previous consumer was.</span></span> <span data-ttu-id="48240-232">При переходе разделов между узлами в рамках аренд это hello механизм синхронизации, который упрощает перенос нагрузки.</span><span class="sxs-lookup"><span data-stu-id="48240-232">As partitions transition between nodes via leases, this is hello synchronization mechanism that facilitates load shifting.</span></span>

## <a name="publisher-revocation"></a><span data-ttu-id="48240-233">Отзыв издателя</span><span class="sxs-lookup"><span data-stu-id="48240-233">Publisher revocation</span></span>
<span data-ttu-id="48240-234">В дополнение к этому toohello дополнительные возможности времени выполнения [EventProcessorHost][], концентраторы событий поддерживают функцию отзыва издателя в порядке tooblock некоторым издателям отправлять события концентратора событий tooan.</span><span class="sxs-lookup"><span data-stu-id="48240-234">In addition toohello advanced run-time features of [EventProcessorHost][], Event Hubs enables publisher revocation in order tooblock specific publishers from sending event tooan event hub.</span></span> <span data-ttu-id="48240-235">Эти функции особенно полезны, если компрометации маркера издателя или обновления программного обеспечения вызывает их toobehave неверно.</span><span class="sxs-lookup"><span data-stu-id="48240-235">These features are particularly useful if a publisher token has been compromised, or a software update is causing them toobehave inappropriately.</span></span> <span data-ttu-id="48240-236">В таких случаях удостоверение издателя hello, который является частью маркера SAS, можно заблокировать от событий публикации.</span><span class="sxs-lookup"><span data-stu-id="48240-236">In these situations, hello publisher's identity, which is part of their SAS token, can be blocked from publishing events.</span></span>

<span data-ttu-id="48240-237">Дополнительные сведения о отзыв издателя и toosend концентраторов tooEvent как издатель, в статье hello [событий концентраторов Крупномасштабная защищенная публикация](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) образца.</span><span class="sxs-lookup"><span data-stu-id="48240-237">For more information about publisher revocation and how toosend tooEvent Hubs as a publisher, see hello [Event Hubs Large Scale Secure Publishing](https://code.msdn.microsoft.com/Service-Bus-Event-Hub-99ce67ab) sample.</span></span>

## <a name="next-steps"></a><span data-ttu-id="48240-238">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="48240-238">Next steps</span></span>
<span data-ttu-id="48240-239">toolearn Дополнительные сведения о сценариях концентраторов событий в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="48240-239">toolearn more about Event Hubs scenarios, visit these links:</span></span>

* [<span data-ttu-id="48240-240">Общие сведения об API концентраторов событий</span><span class="sxs-lookup"><span data-stu-id="48240-240">Event Hubs API overview</span></span>](event-hubs-api-overview.md)
* [<span data-ttu-id="48240-241">Что такое концентраторы событий?</span><span class="sxs-lookup"><span data-stu-id="48240-241">What is Event Hubs</span></span>](event-hubs-what-is-event-hubs.md)
* [<span data-ttu-id="48240-242">Доступность и согласованность в концентраторах событий</span><span class="sxs-lookup"><span data-stu-id="48240-242">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="48240-243">Справочник по API узла обработчика событий</span><span class="sxs-lookup"><span data-stu-id="48240-243">Event processor host API reference</span></span>](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost)

[NamespaceManager]: /dotnet/api/microsoft.servicebus.namespacemanager
[EventHubClient]: /dotnet/api/microsoft.servicebus.messaging.eventhubclient
[EventData]: /dotnet/api/microsoft.servicebus.messaging.eventdata
[CreateEventHubIfNotExists]: /dotnet/api/microsoft.servicebus.namespacemanager.createeventhubifnotexists
[PartitionKey]: /dotnet/api/microsoft.servicebus.messaging.eventdata#Microsoft_ServiceBus_Messaging_EventData_PartitionKey
[EventProcessorHost]: /dotnet/api/microsoft.servicebus.messaging.eventprocessorhost
