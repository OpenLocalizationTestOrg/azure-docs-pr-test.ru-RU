---
title: "Использование SQL Azure с Azure RemoteApp | Документация Майкрософт"
description: "Узнайте, как использовать SQL Azure с Azure RemoteApp"
services: remoteapp
documentationcenter: 
author: ericorman
manager: mbaldwin
editor: 
ms.assetid: 35f81d75-bfd7-4980-807e-00339f2cb2a4
ms.service: remoteapp
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: compute
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: e3148a66ea65e78d47bd6c69742e288fa1afe12f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="sql-azure-with-azure-remoteapp"></a>Использование SQL Azure с Azure RemoteApp
> [!IMPORTANT]
> Мы выводим службу Azure RemoteApp из эксплуатации 31 августа 2017 года. Дополнительные сведения см. в [объявлении](https://go.microsoft.com/fwlink/?linkid=821148).
> 
> 

Часто, когда клиенты решают размещать свои приложения Windows в облаке с помощью Azure RemoteApp, они также хотят перенести свои данные, например серверы SQL Server, в облако для развертывания всего облака. Это позволяет создать полностью облачное решение, доступ к которому можно получить в любое время с любого устройства и из любого места с помощью Azure RemoteApp. Ниже приведены ссылки и инструкции, которые помогут вам выполнить этот процесс.  

## <a name="migrate-your-sql-data"></a>Перенос данных SQL
Начните с [переноса базы данных SQL Server в базу данных SQL Azure](../sql-database/sql-database-cloud-migrate.md). 

## <a name="configure-azure-remoteapp"></a>Настройка Azure RemoteApp
Разместите приложение Windows в Azure RemoteApp. Ниже приведено обобщенное пошаговое руководство.

1. Создайте [виртуальную машину (VM) с помощью шаблона Azure RemoteApp](remoteapp-imageoptions.md). 
2. Установите нужное приложение на VM.
3. Настройте приложение, чтобы оно подключалось к базе данных SQL, и убедитесь, что оно работает.
4. Запустите команду Sysprep и завершите работу виртуальной машины. Запишите образ этой виртуальной машины для использования с Azure. **Примечание.** Убедитесь, что приложение может сохранять сведения о подключении к базе данных во время выполнения процесса sysprep. Если приложение не может сохранять сведения о подключении к базе данных, возможно, потребуется использовать поставщик приложения, чтобы проверить, как можно указать строку подключения.
5. Импортируйте настраиваемый образ в библиотеку Azure RemoteApp, выбрав соответствующие географическое расположение, в котором находится развертывание SQL Azure. 
6. Разверните коллекцию RemoteApp в том же центре обработки данных, в котором находится развертывание SQL Azure, используя указанный выше шаблон, и опубликуйте приложение. Развертывание Azure RemoteApp в центре обработки данных, в котором находится развертывание SQL Azure, помогает обеспечить максимальную скорость подключения и уменьшить задержку. 

## <a name="app-and-sql-configuration-considerations"></a>Рекомендации по конфигурации SQL и приложения
Во время использования Azure SQL с RemoteApp нужно учитывать несколько моментов.

Узнайте, [как настроить брандмауэр базы данных SQL Azure](../sql-database/sql-database-firewall-configure.md). В статье сказано: "Первоначально весь доступ к серверу базы данных SQL Azure блокируется брандмауэром. Чтобы начать использование сервера базы данных SQL Azure, необходимо перейти на классический портал и указать одно или несколько правил брандмауэра уровня сервера, которые обеспечивают доступ к серверу базы данных SQL Azure. Используйте правила брандмауэра, чтобы указать, какие диапазоны IP-адресов из Интернета разрешены, а также могут ли приложения Azure делать попытки подключения к серверу базы данных SQL Azure".

Когда компьютер пытается подключиться к серверу базы данных из Интернета, брандмауэр проверяет исходный IP-адрес запроса относительно полного набора правил брандмауэра уровня сервера и (при необходимости) уровня базы данных. "Если IP-адрес запроса находится в одном из диапазонов, указанных в правилах брандмауэра уровня сервера, подключение предоставляется к серверу базы данных SQL Azure". Следовательно, мы можем использовать диапазоны IP-адресов, а не только отдельные исходные IP-адреса.

Выполните пошаговые инструкции из руководства [Настройка правила брандмауэра уровня сервера базы данных SQL Azure с помощью портала Azure](../sql-database/sql-database-configure-firewall-settings.md) , чтобы указать диапазон IP-адресов. Во время настройки правил брандмауэра SQL укажите диапазон IP-адресов подсети, которая указана для коллекции Azure RemoteApp. Это позволит серверам ARA подключаться к базе данных SQL, даже если у них будут динамически назначаемые IP-адреса.

## <a name="troubleshooting"></a>Устранение неполадок
Если клиентское приложение, размещенное в Azure RemoteApp, подключенное к базе данных SQL, размещенной в Azure или локально, работает медленно, причин может быть несколько.  

* Большая задержка в сети при передаче данных с устройства в Azure. Для повышения производительности перейдите на наилучшее и самое быстрое сетевое подключение, которое возможно. Используйте [azurespeed.com](http://azurespeed.com/) как общее средство для проверки задержки передачи данных с вашего устройства в центр обработки данных Azure.  
* Клиентское приложение, размещенное в Azure RemoteApp, перегружено. Выберите другой тарифный план, например «Премиум». Это повысит производительность. Или понаблюдайте за ресурсами, которые использует ваше приложение: во время активного сеанса нажмите одновременно клавиши CTRL+ALT+END. Откроется экран SAS. Выберите диспетчер задач и наблюдайте за использованием ресурсов для приложения.
* SQL Server сильно загружен или не оптимизирован. Следуйте рекомендациям SQL для устранения неполадок. 

