---
title: "aaaHow перенаправления USB-устройства в Azure RemoteApp? | Документация Майкрософт"
description: "Узнайте, как toouse перенаправления для USB-устройства в Azure RemoteApp."
services: remoteapp
documentationcenter: 
author: msmbaldwin
manager: mbaldwin
ms.assetid: 191d98af-2f5a-4307-9042-aae0e4049f9f
ms.service: remoteapp
ms.workload: compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/26/2017
ms.author: mbaldwin
ms.openlocfilehash: 661b90c0910167d76ac3886b5af7a32d00b3943f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-do-you-redirect-usb-devices-in-azure-remoteapp"></a><span data-ttu-id="f8387-104">Перенаправление USB-устройств в удаленном приложении Azure RemoteApp</span><span class="sxs-lookup"><span data-stu-id="f8387-104">How do you redirect USB devices in Azure RemoteApp?</span></span>
> [!IMPORTANT]
> <span data-ttu-id="f8387-105">Мы выводим службу Azure RemoteApp из эксплуатации 31 августа 2017 года.</span><span class="sxs-lookup"><span data-stu-id="f8387-105">Azure RemoteApp is being discontinued on August 31, 2017.</span></span> <span data-ttu-id="f8387-106">Чтение hello [объявления](https://go.microsoft.com/fwlink/?linkid=821148) подробные сведения.</span><span class="sxs-lookup"><span data-stu-id="f8387-106">Read hello [announcement](https://go.microsoft.com/fwlink/?linkid=821148) for details.</span></span>
> 
> 

<span data-ttu-id="f8387-107">Перенаправление устройств позволяет пользователям использовать компьютера tootheir присоединенные устройства USB hello или планшет с приложениями hello в Azure RemoteApp.</span><span class="sxs-lookup"><span data-stu-id="f8387-107">Device redirection lets users use hello USB devices attached tootheir computer or tablet with hello apps in Azure RemoteApp.</span></span> <span data-ttu-id="f8387-108">Например если общие Скайп через Azure RemoteApp, вашим пользователям требуется может toouse toobe их камеры устройства.</span><span class="sxs-lookup"><span data-stu-id="f8387-108">For example, if you shared Skype through Azure RemoteApp, your users need toobe able toouse their device cameras.</span></span>

<span data-ttu-id="f8387-109">Прежде чем продолжить, убедитесь, что прочитать сведения о перенаправлении USB hello в [использование перенаправления в Azure RemoteApp](remoteapp-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="f8387-109">Before you go further, make sure you read hello USB redirection information in [Using redirection in Azure RemoteApp](remoteapp-redirection.md).</span></span> <span data-ttu-id="f8387-110">Однако hello рекомендуется nusbdevicestoredirect:s: * не будет работать для веб-камер USB и могут не работать некоторые принтеры USB или многофункциональные устройства USB.</span><span class="sxs-lookup"><span data-stu-id="f8387-110">However hello recommended  nusbdevicestoredirect:s:* won't work for USB web cameras and may not work for some USB printers or USB multifunctional devices.</span></span> <span data-ttu-id="f8387-111">Намеренно и в целях безопасности hello Azure RemoteApp администратор tooenable перенаправления GUID класса устройства или устройства идентификатор экземпляра, прежде чем пользователи могут использовать эти устройства.</span><span class="sxs-lookup"><span data-stu-id="f8387-111">By design and for security reasons, hello Azure RemoteApp administrator has tooenable redirection either by device class GUID or by device instance ID before your users can use those devices.</span></span>

<span data-ttu-id="f8387-112">Несмотря на то, что в данной статье рассмотрен web камеры перенаправления, можно использовать аналогичный принтеры USB tooredirect подход и многофункциональные другие USB-устройства, не будут перенаправляться по hello **nusbdevicestoredirect:s:*** команды.</span><span class="sxs-lookup"><span data-stu-id="f8387-112">Although this article talks about web camera redirection, you can use a similar approach tooredirect USB printers and other USB multifunctional devices that are not redirected by hello **nusbdevicestoredirect:s:*** command.</span></span>

## <a name="redirection-options-for-usb-devices"></a><span data-ttu-id="f8387-113">Параметры перенаправления для USB-устройств</span><span class="sxs-lookup"><span data-stu-id="f8387-113">Redirection options for USB devices</span></span>
<span data-ttu-id="f8387-114">Azure RemoteApp использует очень похожими механизмами для перенаправления USB-устройства, как hello те, которые доступны для служб удаленных рабочих столов.</span><span class="sxs-lookup"><span data-stu-id="f8387-114">Azure RemoteApp uses very similar mechanisms for redirecting USB devices as hello ones available for Remote Desktop Services.</span></span> <span data-ttu-id="f8387-115">Hello базовая технология позволяет выбрать метод hello правильные перенаправления для данного устройства, tooget hello наиболее обоих высокого уровня и перенаправление устройства RemoteFX USB, с помощью hello **usbdevicestoredirect:s:** команды.</span><span class="sxs-lookup"><span data-stu-id="f8387-115">hello underlying technology lets you choose hello correct redirection method for a given device, tooget hello best of both high-level and RemoteFX USB device redirection using hello **usbdevicestoredirect:s:** command.</span></span> <span data-ttu-id="f8387-116">Существует четыре элемента toothis команды:</span><span class="sxs-lookup"><span data-stu-id="f8387-116">There are four elements toothis command:</span></span>

| <span data-ttu-id="f8387-117">Порядок обработки</span><span class="sxs-lookup"><span data-stu-id="f8387-117">Processing order</span></span> | <span data-ttu-id="f8387-118">Параметр</span><span class="sxs-lookup"><span data-stu-id="f8387-118">Parameter</span></span> | <span data-ttu-id="f8387-119">Описание</span><span class="sxs-lookup"><span data-stu-id="f8387-119">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f8387-120">1</span><span class="sxs-lookup"><span data-stu-id="f8387-120">1</span></span> |* |<span data-ttu-id="f8387-121">Выбирает все устройства, которые не выбраны перенаправлением высокого уровня.</span><span class="sxs-lookup"><span data-stu-id="f8387-121">Selects all devices that aren't picked up by high-level redirection.</span></span> <span data-ttu-id="f8387-122">Примечание: * намеренно не работает для веб-камер USB.</span><span class="sxs-lookup"><span data-stu-id="f8387-122">Note: By design, * doesn't work for USB web cameras.</span></span> |
| <span data-ttu-id="f8387-123">{Device class GUID}</span><span class="sxs-lookup"><span data-stu-id="f8387-123">{Device class GUID}</span></span> |<span data-ttu-id="f8387-124">Выбирает все устройства, которые соответствуют hello указан класс установки устройства.</span><span class="sxs-lookup"><span data-stu-id="f8387-124">Selects all devices that match hello specified device setup class.</span></span> | |
| <span data-ttu-id="f8387-125">USB\InstanceID</span><span class="sxs-lookup"><span data-stu-id="f8387-125">USB\InstanceID</span></span> |<span data-ttu-id="f8387-126">Выбирает устройство USB, указанное для hello заданному идентификатору экземпляра.</span><span class="sxs-lookup"><span data-stu-id="f8387-126">Selects a USB device specified for hello given instance ID.</span></span> | |
| <span data-ttu-id="f8387-127">2</span><span class="sxs-lookup"><span data-stu-id="f8387-127">2</span></span> |<span data-ttu-id="f8387-128">-USB\Instance ID</span><span class="sxs-lookup"><span data-stu-id="f8387-128">-USB\Instance ID</span></span> |<span data-ttu-id="f8387-129">Удаляет параметры перенаправления hello для заданного устройства hello.</span><span class="sxs-lookup"><span data-stu-id="f8387-129">Removes hello redirection settings for hello specified device.</span></span> |

## <a name="redirecting-a-usb-device-by-using-hello-device-class-guid"></a><span data-ttu-id="f8387-130">Перенаправление USB-устройство с помощью GUID класса устройства hello</span><span class="sxs-lookup"><span data-stu-id="f8387-130">Redirecting a USB device by using hello device class GUID</span></span>
<span data-ttu-id="f8387-131">Существует два способа toofind hello устройства класс GUID, который может использоваться для перенаправления.</span><span class="sxs-lookup"><span data-stu-id="f8387-131">There are two ways toofind hello device class GUID that can be used for redirection.</span></span> 

<span data-ttu-id="f8387-132">Hello первый вариант — toouse hello [доступные классы установки устройств системных tooVendors](https://msdn.microsoft.com/library/windows/hardware/ff553426.aspx).</span><span class="sxs-lookup"><span data-stu-id="f8387-132">hello first option is toouse hello [System-Defined Device Setup Classes Available tooVendors](https://msdn.microsoft.com/library/windows/hardware/ff553426.aspx).</span></span> <span data-ttu-id="f8387-133">Выберите класс hello, наиболее точно соответствующий hello устройства вложенного toohello локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="f8387-133">Pick hello class that most closely matches hello device attached toohello local computer.</span></span> <span data-ttu-id="f8387-134">Для цифровых камер это может быть класс устройств обработки изображений или класс устройств видеозахвата.</span><span class="sxs-lookup"><span data-stu-id="f8387-134">For digital cameras this could be an Imaging Device class or Video Capture Device class.</span></span> <span data-ttu-id="f8387-135">Вам потребуется toodo некоторые эксперимент с hello устройства классы toofind hello правильный класс GUID, который работает с локально hello присоединен USB-устройство (в наш веб-камеры вариантов hello).</span><span class="sxs-lookup"><span data-stu-id="f8387-135">You'll need toodo some experimentation with hello device classes toofind hello correct class GUID that works with hello locally attached USB device (in our case hello web camera).</span></span>

<span data-ttu-id="f8387-136">Лучший способ или второй параметр hello, является toofollow GUID класса эти toofind действия hello конкретного устройства:</span><span class="sxs-lookup"><span data-stu-id="f8387-136">A better way, or hello second option, is toofollow these steps toofind hello specific device class GUID:</span></span>

1. <span data-ttu-id="f8387-137">Откройте диспетчер устройств hello, найдите hello устройство, которое будет перенаправлен и щелкните его правой кнопкой мыши и откройте свойства hello.</span><span class="sxs-lookup"><span data-stu-id="f8387-137">Open hello Device Manager, locate hello device that will be redirected and right-click it, and then open hello properties.</span></span>
   <span data-ttu-id="f8387-138">![Привет открыть диспетчер устройств](./media/remoteapp-usbredir/ra-devicemanager.png)</span><span class="sxs-lookup"><span data-stu-id="f8387-138">![Open hello Device Manager](./media/remoteapp-usbredir/ra-devicemanager.png)</span></span>
2. <span data-ttu-id="f8387-139">На hello **сведения** выберите свойство hello **Guid класса**.</span><span class="sxs-lookup"><span data-stu-id="f8387-139">On hello **Details** tab, choose hello property **Class Guid**.</span></span> <span data-ttu-id="f8387-140">значение Hello, появляющийся — hello GUID класса для данного типа устройства.</span><span class="sxs-lookup"><span data-stu-id="f8387-140">hello value which appears is hello Class GUID for that type of device.</span></span>
   <span data-ttu-id="f8387-141">![Свойства камеры](./media/remoteapp-usbredir/ra-classguid.png)</span><span class="sxs-lookup"><span data-stu-id="f8387-141">![Camera properties](./media/remoteapp-usbredir/ra-classguid.png)</span></span>
3. <span data-ttu-id="f8387-142">Используйте устройства tooredirect значение Guid класса hello, совпадающие с ней.</span><span class="sxs-lookup"><span data-stu-id="f8387-142">Use hello Class Guid value tooredirect devices that match it.</span></span>

<span data-ttu-id="f8387-143">Например:</span><span class="sxs-lookup"><span data-stu-id="f8387-143">For example:</span></span>

        Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "nusbdevicestoredirect:s:<Class Guid value>"

<span data-ttu-id="f8387-144">Можно объединить несколько перенаправлений устройства в hello того же командлета.</span><span class="sxs-lookup"><span data-stu-id="f8387-144">You can combine multiple device redirections in hello same cmdlet.</span></span> <span data-ttu-id="f8387-145">Например: tooredirect локальное хранилище и USB-устройство веб-камеры, командлет выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="f8387-145">For example: tooredirect local storage and a USB web camera, cmdlet looks like this:</span></span>

        Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "drivestoredirect:s:*`nusbdevicestoredirect:s:<Class Guid value>"

<span data-ttu-id="f8387-146">При установке перенаправление устройств классом GUID перенаправляются все устройства, которые соответствуют, что GUID класса hello указанную коллекцию.</span><span class="sxs-lookup"><span data-stu-id="f8387-146">When you set device redirection by class GUID all devices that match that class GUID in hello specified collection are redirected.</span></span> <span data-ttu-id="f8387-147">Например, при наличии нескольких компьютеров в локальной сети hello, имеющих hello же веб-камер USB, выполнением tooredirect одного командлета все hello веб-камеры.</span><span class="sxs-lookup"><span data-stu-id="f8387-147">For example, if there are multiple computers on hello local network that have hello same USB web cameras, you can run a single cmdlet tooredirect all of hello web cameras.</span></span>

## <a name="redirecting-a-usb-device-by-using-hello-device-instance-id"></a><span data-ttu-id="f8387-148">Перенаправление с помощью идентификатора экземпляра hello устройства USB-устройство</span><span class="sxs-lookup"><span data-stu-id="f8387-148">Redirecting a USB device by using hello device instance ID</span></span>
<span data-ttu-id="f8387-149">Если требуется более точное управление, а необходимо toocontrol перенаправление на устройство, можно использовать hello **USB\InstanceID** параметр перенаправления.</span><span class="sxs-lookup"><span data-stu-id="f8387-149">If you want more fine-grained control and want toocontrol redirection per device, you can use hello **USB\InstanceID** redirection parameter.</span></span>

<span data-ttu-id="f8387-150">сложная часть Hello этот метод находит экземпляр кода hello устройства USB.</span><span class="sxs-lookup"><span data-stu-id="f8387-150">hello hardest part of this method is finding hello USB device instance ID.</span></span> <span data-ttu-id="f8387-151">Компьютер toohello и hello определенным USB-устройством будет иметь доступа.</span><span class="sxs-lookup"><span data-stu-id="f8387-151">You'll need access toohello computer and hello specific USB device.</span></span> <span data-ttu-id="f8387-152">Затем выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="f8387-152">Then follow these steps:</span></span>

1. <span data-ttu-id="f8387-153">Включение перенаправления hello в сеансе удаленного рабочего стола, как описано в [использование устройства и ресурсы в сеансе удаленного рабочего стола?](http://windows.microsoft.com/en-us/windows7/How-can-I-use-my-devices-and-resources-in-a-Remote-Desktop-session)</span><span class="sxs-lookup"><span data-stu-id="f8387-153">Enable hello device redirection in Remote Desktop Session as described in [How can I use my devices and resources in a Remote Desktop session?](http://windows.microsoft.com/en-us/windows7/How-can-I-use-my-devices-and-resources-in-a-Remote-Desktop-session)</span></span>
2. <span data-ttu-id="f8387-154">Откройте подключение к удаленному рабочему столу и щелкните **Показать параметры**.</span><span class="sxs-lookup"><span data-stu-id="f8387-154">Open a Remote Desktop Connection and click **Show Options**.</span></span>
3. <span data-ttu-id="f8387-155">Нажмите кнопку **сохранение** toosave hello текущего подключения параметры tooan RDP-файл.</span><span class="sxs-lookup"><span data-stu-id="f8387-155">Click **Save as** toosave hello current connection settings tooan RDP file.</span></span>  
    <span data-ttu-id="f8387-156">![Сохранить параметры hello в виде файла RDP](./media/remoteapp-usbredir/ra-saveasrdp.png)</span><span class="sxs-lookup"><span data-stu-id="f8387-156">![Save hello settings as an RDP file](./media/remoteapp-usbredir/ra-saveasrdp.png)</span></span>
4. <span data-ttu-id="f8387-157">Выберите имя файла и расположение, например MyConnection.rdp и этот PC\Documents и сохраните файл hello.</span><span class="sxs-lookup"><span data-stu-id="f8387-157">Choose a file name and a location, for example MyConnection.rdp and This PC\Documents, and save hello file.</span></span>
5. <span data-ttu-id="f8387-158">Откройте hello MyConnection.rdp файл в текстовом редакторе и найдите идентификатор экземпляра hello hello устройства требуется tooredirect.</span><span class="sxs-lookup"><span data-stu-id="f8387-158">Open hello MyConnection.rdp file using a text editor and find hello instance ID of hello device you want tooredirect.</span></span>

<span data-ttu-id="f8387-159">Теперь можно используйте идентификатор экземпляра hello в hello, выполнив командлет:</span><span class="sxs-lookup"><span data-stu-id="f8387-159">Now, use hello instance ID in hello following cmdlet:</span></span>

    Set-AzureRemoteAppCollection -CollectionName <collection name> -CustomRdpProperty "nusbdevicestoredirect:s: USB\<Device InstanceID value>"



### <a name="help-us-help-you"></a><span data-ttu-id="f8387-160">Помогите нам помочь вам</span><span class="sxs-lookup"><span data-stu-id="f8387-160">Help us help you</span></span>
<span data-ttu-id="f8387-161">Знали ли вы, что в toorating сложения в этой статье и создания примечаний вниз ниже, можно внести самой статье toohello изменения?</span><span class="sxs-lookup"><span data-stu-id="f8387-161">Did you know that in addition toorating this article and making comments down below, you can make changes toohello article itself?</span></span> <span data-ttu-id="f8387-162">Чего-то не хватает?</span><span class="sxs-lookup"><span data-stu-id="f8387-162">Something missing?</span></span> <span data-ttu-id="f8387-163">Что-то неправильно?</span><span class="sxs-lookup"><span data-stu-id="f8387-163">Something wrong?</span></span> <span data-ttu-id="f8387-164">Что-то изложено непонятно?</span><span class="sxs-lookup"><span data-stu-id="f8387-164">Did I write something that's just confusing?</span></span> <span data-ttu-id="f8387-165">Прокрутка вверх и нажмите кнопку **изменить на GitHub** изменения toomake - те поступит toous для просмотра и, когда мы выйдите из системы на них, вы увидите, изменения и усовершенствования здесь.</span><span class="sxs-lookup"><span data-stu-id="f8387-165">Scroll up and click **Edit on GitHub** toomake changes - those will come toous for review, and then, once we sign off on them, you'll see your changes and improvements right here.</span></span>

