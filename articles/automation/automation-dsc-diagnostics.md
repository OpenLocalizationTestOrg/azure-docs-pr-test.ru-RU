---
title: "aaaForward отчетов tooOMS данных анализа журналов Azure Automation DSC | Документы Microsoft"
description: "В этой статье показано, как toosend требуемого состояния конфигурации (DSC) reporting дополнительные подсказки анализа журналов Operations Management Suite tooMicrosoft toodeliver данных и управления."
services: automation
documentationcenter: 
author: eslesar
manager: carmonm
editor: tysonn
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/24/2017
ms.author: eslesar
ms.openlocfilehash: 21f78d5549d53ba3d7e237f55d9086f380cf3351
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="forward-azure-automation-dsc-reporting-data-toooms-log-analytics"></a><span data-ttu-id="6caef-103">Пересылка отчетов tooOMS данных анализа журналов Azure Automation DSC</span><span class="sxs-lookup"><span data-stu-id="6caef-103">Forward Azure Automation DSC reporting data tooOMS Log Analytics</span></span>

<span data-ttu-id="6caef-104">Автоматизация может отправлять рабочей области аналитики журналов Microsoft Operations Management Suite (OMS) tooyour данных в состояние узла DSC.</span><span class="sxs-lookup"><span data-stu-id="6caef-104">Automation can send DSC node status data tooyour Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  
<span data-ttu-id="6caef-105">Состояние соответствия виден hello портал Azure, или с помощью PowerShell, для узлов, а также для отдельных ресурсов DSC в конфигурации узла.</span><span class="sxs-lookup"><span data-stu-id="6caef-105">Compliance status is visible in hello Azure portal, or with PowerShell, for nodes and for individual DSC resources in node configurations.</span></span> <span data-ttu-id="6caef-106">С помощью Log Analytics можно:</span><span class="sxs-lookup"><span data-stu-id="6caef-106">With Log Analytics you can:</span></span>

* <span data-ttu-id="6caef-107">получать сведения о соответствии требованиям для управляемых узлов и отдельных ресурсов;</span><span class="sxs-lookup"><span data-stu-id="6caef-107">Get compliance information for managed nodes and individual resources</span></span>
* <span data-ttu-id="6caef-108">активировать сообщение электронной почты или предупреждение (в зависимости от состояния соответствия);</span><span class="sxs-lookup"><span data-stu-id="6caef-108">Trigger an email or alert based on compliance status</span></span>
* <span data-ttu-id="6caef-109">создавать сложные запросы к управляемым узлам;</span><span class="sxs-lookup"><span data-stu-id="6caef-109">Write advanced queries across your managed nodes</span></span>
* <span data-ttu-id="6caef-110">сопоставлять состояние соответствия в учетных записях службы автоматизации;</span><span class="sxs-lookup"><span data-stu-id="6caef-110">Correlate compliance status across Automation accounts</span></span>
* <span data-ttu-id="6caef-111">визуализировать журнал соответствия узла с течением времени.</span><span class="sxs-lookup"><span data-stu-id="6caef-111">Visualize your node compliance history over time</span></span>

## <a name="prerequisites"></a><span data-ttu-id="6caef-112">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="6caef-112">Prerequisites</span></span>

<span data-ttu-id="6caef-113">toostart отправки вашего Automation DSC сообщает tooLog Analytics, вы должны:</span><span class="sxs-lookup"><span data-stu-id="6caef-113">toostart sending your Automation DSC reports tooLog Analytics, you need:</span></span>

* <span data-ttu-id="6caef-114">Здравствуйте, ноябрь 2016 г. или более поздней версии версии [Azure PowerShell](/powershell/azure/overview) (v2.3.0).</span><span class="sxs-lookup"><span data-stu-id="6caef-114">hello November 2016 or later release of [Azure PowerShell](/powershell/azure/overview) (v2.3.0).</span></span>
* <span data-ttu-id="6caef-115">Учетная запись службы автоматизации Azure.</span><span class="sxs-lookup"><span data-stu-id="6caef-115">An Azure Automation account.</span></span> <span data-ttu-id="6caef-116">Дополнительные сведения см. в статье [Приступая к работе со службой автоматизации Azure](automation-offering-get-started.md)</span><span class="sxs-lookup"><span data-stu-id="6caef-116">For more information, see [Getting Started with Azure Automation](automation-offering-get-started.md)</span></span>
* <span data-ttu-id="6caef-117">Рабочая область Log Analytics с предложением службы **Автоматизация и управление**.</span><span class="sxs-lookup"><span data-stu-id="6caef-117">A Log Analytics workspace with an **Automation & Control** service offering.</span></span> <span data-ttu-id="6caef-118">Дополнительные сведения см. в статье [Начало работы с Log Analytics](../log-analytics/log-analytics-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="6caef-118">For more information, see [Get started with Log Analytics](../log-analytics/log-analytics-get-started.md).</span></span>
* <span data-ttu-id="6caef-119">Как минимум один узел Azure Automation DSC.</span><span class="sxs-lookup"><span data-stu-id="6caef-119">At least one Azure Automation DSC node.</span></span> <span data-ttu-id="6caef-120">Дополнительные сведения см. в статье [Подключение компьютеров для управления с помощью Azure Automation DSC](automation-dsc-onboarding.md).</span><span class="sxs-lookup"><span data-stu-id="6caef-120">For more information, see [Onboarding machines for management by Azure Automation DSC](automation-dsc-onboarding.md)</span></span> 

## <a name="set-up-integration-with-log-analytics"></a><span data-ttu-id="6caef-121">Настройка интеграции с Log Analytics</span><span class="sxs-lookup"><span data-stu-id="6caef-121">Set up integration with Log Analytics</span></span>

<span data-ttu-id="6caef-122">toobegin при импорте данных в Azure Automation DSC в службы анализа журналов, полный hello, следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="6caef-122">toobegin importing data from Azure Automation DSC into Log Analytics, complete hello following steps:</span></span>

1. <span data-ttu-id="6caef-123">Войдите в систему tooyour учетной записи Azure в PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6caef-123">Log in tooyour Azure account in PowerShell.</span></span> <span data-ttu-id="6caef-124">См. статью [Вход с помощью Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0).</span><span class="sxs-lookup"><span data-stu-id="6caef-124">See [Log in with Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0)</span></span>
1. <span data-ttu-id="6caef-125">Получить hello _ResourceId_ вашей учетной записи автоматизации, выполнив следующую команду PowerShell hello: (если имеется более одной учетной записи автоматизации, выберите hello _ResourceID_ для hello учетной записи tooconfigure).</span><span class="sxs-lookup"><span data-stu-id="6caef-125">Get hello _ResourceId_ of your automation account by running hello following PowerShell command: (if you have more than one automation account, choose hello _ResourceID_ for hello account you want tooconfigure).</span></span>

  ```powershell
  # Find hello ResourceId for hello Automation Account
  Find-AzureRmResource -ResourceType "Microsoft.Automation/automationAccounts"
  ```
1. <span data-ttu-id="6caef-126">Получить hello _ResourceId_ рабочей области аналитики журналов, выполнив следующую команду PowerShell hello: (при наличии более чем одной рабочей области, выберите hello _ResourceID_ для hello рабочей области, tooconfigure).</span><span class="sxs-lookup"><span data-stu-id="6caef-126">Get hello _ResourceId_ of your Log Analytics workspace by running hello following PowerShell command: (if you have more than one workspace, choose hello _ResourceID_ for hello workspace you want tooconfigure).</span></span>

  ```powershell
  # Find hello ResourceId for hello Log Analytics workspace
  Find-AzureRmResource -ResourceType "Microsoft.OperationalInsights/workspaces"
  ```
1. <span data-ttu-id="6caef-127">Выполнения hello следующую команду PowerShell, заменив `<AutomationResourceId>` и `<WorkspaceResourceId>` с hello _ResourceId_ значения от всех предыдущих шагов hello:</span><span class="sxs-lookup"><span data-stu-id="6caef-127">Run hello following PowerShell command, replacing `<AutomationResourceId>` and `<WorkspaceResourceId>` with hello _ResourceId_ values from each of hello previous steps:</span></span>

  ```powershell
  Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $true -Categories "DscNodeStatus"
  ```

<span data-ttu-id="6caef-128">Импорт данных из DSC службы автоматизации Azure в службе анализа журналов toostop, выполните следующую команду PowerShell hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-128">If you want toostop importing data from Azure Automation DSC into Log Analytics, run hello following PowerShell command.</span></span>

```powershell
Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $false -Categories "DscNodeStatus"
```

## <a name="view-hello-dsc-logs"></a><span data-ttu-id="6caef-129">Просмотр журналов hello DSC</span><span class="sxs-lookup"><span data-stu-id="6caef-129">View hello DSC logs</span></span>

<span data-ttu-id="6caef-130">После настройки интеграции с помощью аналитики журналов DSC службы автоматизации данных **поиска журналов** кнопка появится для hello **узлы DSC** колонке учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="6caef-130">After you set up integration with Log Analytics for your Automation DSC data, a **Log search** button will appear on hello **DSC Nodes** blade of your automation account.</span></span> <span data-ttu-id="6caef-131">Нажмите кнопку hello **поиска журналов** кнопку tooview hello в журналах данных узла DSC.</span><span class="sxs-lookup"><span data-stu-id="6caef-131">Click hello **Log Search** button tooview hello logs for DSC node data.</span></span>

![Кнопка поиска по журналам](media/automation-dsc-diagnostics/log-search-button.png)

<span data-ttu-id="6caef-133">Hello **поиска журналов** открывает колонку и вы увидите **DscNodeStatusData** операции для каждого узла DSC и **DscResourceStatusData** операции для каждого [DSC ресурс](https://msdn.microsoft.com/powershell/dsc/resources) вызывается в узле примененных toothat конфигурация узла hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-133">hello **Log Search** blade opens, and you see a **DscNodeStatusData** operation for each DSC node, and a **DscResourceStatusData** operation for each [DSC resource](https://msdn.microsoft.com/powershell/dsc/resources) called in hello Node configuration applied toothat node.</span></span>

<span data-ttu-id="6caef-134">Hello **DscResourceStatusData** операция содержит сведения об ошибках для всех ресурсов DSC, которые не удалось.</span><span class="sxs-lookup"><span data-stu-id="6caef-134">hello **DscResourceStatusData** operation contains error information for any DSC resources that failed.</span></span>

<span data-ttu-id="6caef-135">Щелкните каждой операции в toosee hello hello список данных для этой операции.</span><span class="sxs-lookup"><span data-stu-id="6caef-135">Click each operation in hello list toosee hello data for that operation.</span></span>

<span data-ttu-id="6caef-136">Можно также просмотреть журналы hello, [поиск в службе анализа журналов.</span><span class="sxs-lookup"><span data-stu-id="6caef-136">You can also view hello logs by [searching in Log Analytics.</span></span> <span data-ttu-id="6caef-137">См. статью [Поиск данных по журналам](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="6caef-137">See [Find data using log searches](../log-analytics/log-analytics-log-searches.md).</span></span>
<span data-ttu-id="6caef-138">Тип hello следующий запрос toofind вашей DSC журналы:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span><span class="sxs-lookup"><span data-stu-id="6caef-138">Type hello following query toofind your DSC logs: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span></span>

<span data-ttu-id="6caef-139">Также можно сузить запрос hello, имя операции hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-139">You can also narrow hello query by hello operation name.</span></span> <span data-ttu-id="6caef-140">Например: \`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus" OperationName = "DscNodeStatusData"</span><span class="sxs-lookup"><span data-stu-id="6caef-140">For example: \`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus" OperationName = "DscNodeStatusData"</span></span>

### <a name="send-an-email-when-a-dsc-compliance-check-fails"></a><span data-ttu-id="6caef-141">Отправка сообщения электронной почты при сбое проверки соответствия DSC</span><span class="sxs-lookup"><span data-stu-id="6caef-141">Send an email when a DSC compliance check fails</span></span>

<span data-ttu-id="6caef-142">Одна из наших top пожеланиям — toosend возможность hello сообщения электронной почты или текстовый при возникновении неполадок с конфигурации DSC.</span><span class="sxs-lookup"><span data-stu-id="6caef-142">One of our top customer requests is for hello ability toosend an email or a text when something goes wrong with a DSC configuration.</span></span>   

<span data-ttu-id="6caef-143">toocreate правило оповещения, начните с создания поиска журналов для hello DSC отчета записей, которые следует вызвать предупреждение hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-143">toocreate an alert rule, you start by creating a log search for hello DSC report records that should invoke hello alert.</span></span>  <span data-ttu-id="6caef-144">Нажмите кнопку hello **предупреждение** кнопку toocreate и настроить правила оповещений hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-144">Click hello **Alert** button toocreate and configure hello alert rule.</span></span>

1. <span data-ttu-id="6caef-145">На странице приветствия Обзор аналитики журналов нажмите **поиска журналов**.</span><span class="sxs-lookup"><span data-stu-id="6caef-145">From hello Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="6caef-146">Создайте запрос поиска журналов для оповещения, введя hello, выполнив поиск в поле запроса hello:`Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span><span class="sxs-lookup"><span data-stu-id="6caef-146">Create a log search query for your alert by typing hello following search into hello query field:  `Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span></span>

  <span data-ttu-id="6caef-147">Если настраивается журналы из более чем одной автоматизации учетная запись или подписка tooyour рабочей области, можно сгруппировать оповещения, подписки и учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="6caef-147">If you have set up logs from more than one Automation account or subscription tooyour workspace, you can group your alerts by subscription and Automation account.</span></span>  
  <span data-ttu-id="6caef-148">Имя учетной записи автоматизации могут быть производными от поле ресурса hello в поиске hello объекта DscNodeStatusData.</span><span class="sxs-lookup"><span data-stu-id="6caef-148">Automation account name can be derived from hello Resource field in hello search of DscNodeStatusData.</span></span>  
1. <span data-ttu-id="6caef-149">tooopen hello **добавить правило оповещения** щелкните **предупреждения** вверху hello страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="6caef-149">tooopen hello **Add Alert Rule** screen, click **Alert** at hello top of hello page.</span></span> <span data-ttu-id="6caef-150">Дополнительные сведения о tooconfigure hello hello параметры оповещений в разделе [предупреждения в службе анализа журналов](../log-analytics/log-analytics-alerts.md#alert-rules).</span><span class="sxs-lookup"><span data-stu-id="6caef-150">For more information on hello options tooconfigure hello alert, see [Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md#alert-rules).</span></span>

### <a name="find-failed-dsc-resources-across-all-nodes"></a><span data-ttu-id="6caef-151">Поиск ресурсов DSC со сбоями по всем узлам</span><span class="sxs-lookup"><span data-stu-id="6caef-151">Find failed DSC resources across all nodes</span></span>

<span data-ttu-id="6caef-152">Одно из преимуществ Log Analytics — возможность поиска проверок со сбоями по узлам.</span><span class="sxs-lookup"><span data-stu-id="6caef-152">One advantage of using Log Analytics is that you can search for failed checks across nodes.</span></span>
<span data-ttu-id="6caef-153">toofind все экземпляры ресурсов DSC, которые не удалось.</span><span class="sxs-lookup"><span data-stu-id="6caef-153">toofind all instances of DSC resources that failed.</span></span>

1. <span data-ttu-id="6caef-154">На странице приветствия Обзор аналитики журналов нажмите **поиска журналов**.</span><span class="sxs-lookup"><span data-stu-id="6caef-154">From hello Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="6caef-155">Создайте запрос поиска журналов для оповещения, введя hello, выполнив поиск в поле запроса hello:`Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span><span class="sxs-lookup"><span data-stu-id="6caef-155">Create a log search query for your alert by typing hello following search into hello query field:  `Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span></span>

### <a name="view-historical-dsc-node-status"></a><span data-ttu-id="6caef-156">Просмотр состояния узла DSC за предыдущие периоды</span><span class="sxs-lookup"><span data-stu-id="6caef-156">View historical DSC node status</span></span>

<span data-ttu-id="6caef-157">Наконец вы можете toovisualize историю состояние узла DSC со временем.</span><span class="sxs-lookup"><span data-stu-id="6caef-157">Finally, you may want toovisualize your DSC node status history over time.</span></span>  
<span data-ttu-id="6caef-158">Toosearch этот запрос можно использовать для hello состояние состояние узла DSC со временем.</span><span class="sxs-lookup"><span data-stu-id="6caef-158">You can use this query toosearch for hello status of your DSC node status over time.</span></span>

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=DscNodeStatus NOT(ResultType="started") | measure Count() by ResultType interval 1hour`  

<span data-ttu-id="6caef-159">Это позволит отобразить диаграмму состояние узла hello со временем.</span><span class="sxs-lookup"><span data-stu-id="6caef-159">This will display a chart of hello node status over time.</span></span>

## <a name="log-analytics-records"></a><span data-ttu-id="6caef-160">Записи Log Analytics</span><span class="sxs-lookup"><span data-stu-id="6caef-160">Log Analytics records</span></span>

<span data-ttu-id="6caef-161">При диагностике службы автоматизации Azure в Log Analytics создаются записи двух категорий.</span><span class="sxs-lookup"><span data-stu-id="6caef-161">Diagnostics from Azure Automation creates two categories of records in Log Analytics.</span></span>

### <a name="dscnodestatusdata"></a><span data-ttu-id="6caef-162">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="6caef-162">DscNodeStatusData</span></span>

| <span data-ttu-id="6caef-163">Свойство</span><span class="sxs-lookup"><span data-stu-id="6caef-163">Property</span></span> | <span data-ttu-id="6caef-164">Описание</span><span class="sxs-lookup"><span data-stu-id="6caef-164">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6caef-165">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="6caef-165">TimeGenerated</span></span> |<span data-ttu-id="6caef-166">Дата и время запуска проверки соответствия hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-166">Date and time when hello compliance check ran.</span></span> |
| <span data-ttu-id="6caef-167">OperationName</span><span class="sxs-lookup"><span data-stu-id="6caef-167">OperationName</span></span> |<span data-ttu-id="6caef-168">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="6caef-168">DscNodeStatusData</span></span> |
| <span data-ttu-id="6caef-169">ResultType</span><span class="sxs-lookup"><span data-stu-id="6caef-169">ResultType</span></span> |<span data-ttu-id="6caef-170">Является ли узел hello является совместимым.</span><span class="sxs-lookup"><span data-stu-id="6caef-170">Whether hello node is compliant.</span></span> |
| <span data-ttu-id="6caef-171">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="6caef-171">NodeName_s</span></span> |<span data-ttu-id="6caef-172">Имя Hello hello управляемого узла.</span><span class="sxs-lookup"><span data-stu-id="6caef-172">hello name of hello managed node.</span></span> |
| <span data-ttu-id="6caef-173">NodeComplianceStatus_s</span><span class="sxs-lookup"><span data-stu-id="6caef-173">NodeComplianceStatus_s</span></span> |<span data-ttu-id="6caef-174">Является ли узел hello является совместимым.</span><span class="sxs-lookup"><span data-stu-id="6caef-174">Whether hello node is compliant.</span></span> |
| <span data-ttu-id="6caef-175">DscReportStatus</span><span class="sxs-lookup"><span data-stu-id="6caef-175">DscReportStatus</span></span> |<span data-ttu-id="6caef-176">Является ли проверка на соответствие hello успешно выполнено.</span><span class="sxs-lookup"><span data-stu-id="6caef-176">Whether hello compliance check ran successfully.</span></span> |
| <span data-ttu-id="6caef-177">ConfigurationMode</span><span class="sxs-lookup"><span data-stu-id="6caef-177">ConfigurationMode</span></span> | <span data-ttu-id="6caef-178">Как узел примененных toohello используется конфигурация hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-178">How hello configuration is applied toohello node.</span></span> <span data-ttu-id="6caef-179">Возможные значения: __ApplyOnly__, __ApplyandMonitior__ и __ApplyandAutoCorrect__.</span><span class="sxs-lookup"><span data-stu-id="6caef-179">Possible values are __"ApplyOnly"__,__"ApplyandMonitior"__, and __"ApplyandAutoCorrect"__.</span></span> <ul><li><span data-ttu-id="6caef-180">__ApplyOnly__: DSC применяет конфигурации hello и не выполняет никаких действий, пока новая конфигурация не будет перенесена toohello целевому узлу или когда новая конфигурация извлекается с сервера.</span><span class="sxs-lookup"><span data-stu-id="6caef-180">__ApplyOnly__: DSC applies hello configuration and does nothing further unless a new configuration is pushed toohello target node or when a new configuration is pulled from a server.</span></span> <span data-ttu-id="6caef-181">После первоначального применения новой конфигурации DSC не проверяет наличие отклонений от ранее настроенного состояния.</span><span class="sxs-lookup"><span data-stu-id="6caef-181">After initial application of a new configuration, DSC does not check for drift from a previously configured state.</span></span> <span data-ttu-id="6caef-182">DSC пытается tooapply hello конфигурации вплоть до его завершения перед __ApplyOnly__ вступает в силу.</span><span class="sxs-lookup"><span data-stu-id="6caef-182">DSC attempts tooapply hello configuration until it is successful before __ApplyOnly__ takes effect.</span></span> </li><li> <span data-ttu-id="6caef-183">__ApplyAndMonitor__: это значение по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-183">__ApplyAndMonitor__: This is hello default value.</span></span> <span data-ttu-id="6caef-184">Hello LCM применяет все новые конфигурации.</span><span class="sxs-lookup"><span data-stu-id="6caef-184">hello LCM applies any new configurations.</span></span> <span data-ttu-id="6caef-185">После первого применения новой конфигурации Если hello целевой узел отклоняется от hello требуемого состояния, DSC сообщает hello расхождении в журналах.</span><span class="sxs-lookup"><span data-stu-id="6caef-185">After initial application of a new configuration, if hello target node drifts from hello desired state, DSC reports hello discrepancy in logs.</span></span> <span data-ttu-id="6caef-186">DSC пытается tooapply hello конфигурации вплоть до его завершения перед __ApplyAndMonitor__ вступает в силу.</span><span class="sxs-lookup"><span data-stu-id="6caef-186">DSC attempts tooapply hello configuration until it is successful before __ApplyAndMonitor__ takes effect.</span></span></li><li><span data-ttu-id="6caef-187">__ApplyAndAutoCorrect__ — DSC применяет любые новые конфигурации.</span><span class="sxs-lookup"><span data-stu-id="6caef-187">__ApplyAndAutoCorrect__: DSC applies any new configurations.</span></span> <span data-ttu-id="6caef-188">После первого применения новой конфигурации Если hello целевой узел отклоняется от hello требуемого состояния, DSC сообщает о расхождении hello в журналах и затем повторно применяет текущую конфигурацию hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-188">After initial application of a new configuration, if hello target node drifts from hello desired state, DSC reports hello discrepancy in logs, and then reapplies hello current configuration.</span></span></li></ul> |
| <span data-ttu-id="6caef-189">HostName_s</span><span class="sxs-lookup"><span data-stu-id="6caef-189">HostName_s</span></span> | <span data-ttu-id="6caef-190">Имя Hello hello управляемого узла.</span><span class="sxs-lookup"><span data-stu-id="6caef-190">hello name of hello managed node.</span></span> |
| <span data-ttu-id="6caef-191">IPAddress</span><span class="sxs-lookup"><span data-stu-id="6caef-191">IPAddress</span></span> | <span data-ttu-id="6caef-192">Hello IPv4-адрес hello управляемого узла.</span><span class="sxs-lookup"><span data-stu-id="6caef-192">hello IPv4 address of hello managed node.</span></span> |
| <span data-ttu-id="6caef-193">Категория</span><span class="sxs-lookup"><span data-stu-id="6caef-193">Category</span></span> | <span data-ttu-id="6caef-194">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="6caef-194">DscNodeStatus</span></span> |
| <span data-ttu-id="6caef-195">Ресурс</span><span class="sxs-lookup"><span data-stu-id="6caef-195">Resource</span></span> | <span data-ttu-id="6caef-196">Имя Hello hello учетной записи службы автоматизации Azure.</span><span class="sxs-lookup"><span data-stu-id="6caef-196">hello name of hello Azure Automation account.</span></span> |
| <span data-ttu-id="6caef-197">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="6caef-197">Tenant_g</span></span> | <span data-ttu-id="6caef-198">Идентификатор GUID, определяющий hello клиента для hello вызывающего объекта.</span><span class="sxs-lookup"><span data-stu-id="6caef-198">GUID that identifies hello tenant for hello Caller.</span></span> |
| <span data-ttu-id="6caef-199">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="6caef-199">NodeId_g</span></span> |<span data-ttu-id="6caef-200">Идентификатор GUID, определяющий hello управляемый узел.</span><span class="sxs-lookup"><span data-stu-id="6caef-200">GUID that identifies hello managed node.</span></span> |
| <span data-ttu-id="6caef-201">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="6caef-201">DscReportId_g</span></span> |<span data-ttu-id="6caef-202">Идентификатор GUID, определяющий hello отчета.</span><span class="sxs-lookup"><span data-stu-id="6caef-202">GUID that identifies hello report.</span></span> |
| <span data-ttu-id="6caef-203">LastSeenTime_t</span><span class="sxs-lookup"><span data-stu-id="6caef-203">LastSeenTime_t</span></span> |<span data-ttu-id="6caef-204">Дата и время, когда последнего просмотра отчетов hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-204">Date and time when hello report was last viewed.</span></span> |
| <span data-ttu-id="6caef-205">ReportStartTime_t</span><span class="sxs-lookup"><span data-stu-id="6caef-205">ReportStartTime_t</span></span> |<span data-ttu-id="6caef-206">Дата и время начала отчета hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-206">Date and time when hello report was started.</span></span> |
| <span data-ttu-id="6caef-207">ReportEndTime_t</span><span class="sxs-lookup"><span data-stu-id="6caef-207">ReportEndTime_t</span></span> |<span data-ttu-id="6caef-208">Дата и время завершения отчета hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-208">Date and time when hello report completed.</span></span> |
| <span data-ttu-id="6caef-209">NumberOfResources_d</span><span class="sxs-lookup"><span data-stu-id="6caef-209">NumberOfResources_d</span></span> |<span data-ttu-id="6caef-210">в узле toohello конфигурацию, примененную hello вызывается Hello количество ресурсов DSC.</span><span class="sxs-lookup"><span data-stu-id="6caef-210">hello number of DSC resources called in hello configuration applied toohello node.</span></span> |
| <span data-ttu-id="6caef-211">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="6caef-211">SourceSystem</span></span> | <span data-ttu-id="6caef-212">Как служба аналитики журналов сбора данных hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-212">How Log Analytics collected hello data.</span></span> <span data-ttu-id="6caef-213">Всегда имеет значение *Azure* для системы диагностики Azure.</span><span class="sxs-lookup"><span data-stu-id="6caef-213">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="6caef-214">ResourceId</span><span class="sxs-lookup"><span data-stu-id="6caef-214">ResourceId</span></span> |<span data-ttu-id="6caef-215">Указывает учетную запись службы автоматизации Azure hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-215">Specifies hello Azure Automation account.</span></span> |
| <span data-ttu-id="6caef-216">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="6caef-216">ResultDescription</span></span> | <span data-ttu-id="6caef-217">Описание Hello для этой операции.</span><span class="sxs-lookup"><span data-stu-id="6caef-217">hello description for this operation.</span></span> |
| <span data-ttu-id="6caef-218">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="6caef-218">SubscriptionId</span></span> | <span data-ttu-id="6caef-219">Здравствуйте, подписки Azure идентификатор (GUID) для учетной записи автоматизации hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-219">hello Azure subscription Id (GUID) for hello Automation account.</span></span> |
| <span data-ttu-id="6caef-220">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="6caef-220">ResourceGroup</span></span> | <span data-ttu-id="6caef-221">Имя группы ресурсов hello hello учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="6caef-221">Name of hello resource group for hello Automation account.</span></span> |
| <span data-ttu-id="6caef-222">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="6caef-222">ResourceProvider</span></span> | <span data-ttu-id="6caef-223">MICROSOFT.AUTOMATION</span><span class="sxs-lookup"><span data-stu-id="6caef-223">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="6caef-224">ResourceType</span><span class="sxs-lookup"><span data-stu-id="6caef-224">ResourceType</span></span> | <span data-ttu-id="6caef-225">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="6caef-225">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="6caef-226">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="6caef-226">CorrelationId</span></span> |<span data-ttu-id="6caef-227">Идентификатор GUID, — идентификатор корреляции отчет о соответствии hello hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-227">GUID that is hello Correlation Id of hello compliance report.</span></span> |

### <a name="dscresourcestatusdata"></a><span data-ttu-id="6caef-228">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="6caef-228">DscResourceStatusData</span></span>

| <span data-ttu-id="6caef-229">Свойство</span><span class="sxs-lookup"><span data-stu-id="6caef-229">Property</span></span> | <span data-ttu-id="6caef-230">Описание</span><span class="sxs-lookup"><span data-stu-id="6caef-230">Description</span></span> |
| --- | --- |
| <span data-ttu-id="6caef-231">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="6caef-231">TimeGenerated</span></span> |<span data-ttu-id="6caef-232">Дата и время запуска проверки соответствия hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-232">Date and time when hello compliance check ran.</span></span> |
| <span data-ttu-id="6caef-233">OperationName</span><span class="sxs-lookup"><span data-stu-id="6caef-233">OperationName</span></span> |<span data-ttu-id="6caef-234">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="6caef-234">DscResourceStatusData</span></span>|
| <span data-ttu-id="6caef-235">ResultType</span><span class="sxs-lookup"><span data-stu-id="6caef-235">ResultType</span></span> |<span data-ttu-id="6caef-236">Является ли ресурс hello является совместимым.</span><span class="sxs-lookup"><span data-stu-id="6caef-236">Whether hello resource is compliant.</span></span> |
| <span data-ttu-id="6caef-237">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="6caef-237">NodeName_s</span></span> |<span data-ttu-id="6caef-238">Имя Hello hello управляемого узла.</span><span class="sxs-lookup"><span data-stu-id="6caef-238">hello name of hello managed node.</span></span> |
| <span data-ttu-id="6caef-239">Категория</span><span class="sxs-lookup"><span data-stu-id="6caef-239">Category</span></span> | <span data-ttu-id="6caef-240">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="6caef-240">DscNodeStatus</span></span> |
| <span data-ttu-id="6caef-241">Ресурс</span><span class="sxs-lookup"><span data-stu-id="6caef-241">Resource</span></span> | <span data-ttu-id="6caef-242">Имя Hello hello учетной записи службы автоматизации Azure.</span><span class="sxs-lookup"><span data-stu-id="6caef-242">hello name of hello Azure Automation account.</span></span> |
| <span data-ttu-id="6caef-243">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="6caef-243">Tenant_g</span></span> | <span data-ttu-id="6caef-244">Идентификатор GUID, определяющий hello клиента для hello вызывающего объекта.</span><span class="sxs-lookup"><span data-stu-id="6caef-244">GUID that identifies hello tenant for hello Caller.</span></span> |
| <span data-ttu-id="6caef-245">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="6caef-245">NodeId_g</span></span> |<span data-ttu-id="6caef-246">Идентификатор GUID, определяющий hello управляемый узел.</span><span class="sxs-lookup"><span data-stu-id="6caef-246">GUID that identifies hello managed node.</span></span> |
| <span data-ttu-id="6caef-247">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="6caef-247">DscReportId_g</span></span> |<span data-ttu-id="6caef-248">Идентификатор GUID, определяющий hello отчета.</span><span class="sxs-lookup"><span data-stu-id="6caef-248">GUID that identifies hello report.</span></span> |
| <span data-ttu-id="6caef-249">DscResourceId_s</span><span class="sxs-lookup"><span data-stu-id="6caef-249">DscResourceId_s</span></span> |<span data-ttu-id="6caef-250">Имя экземпляра ресурса hello DSC Hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-250">hello name of hello DSC resource instance.</span></span> |
| <span data-ttu-id="6caef-251">DscResourceName_s</span><span class="sxs-lookup"><span data-stu-id="6caef-251">DscResourceName_s</span></span> |<span data-ttu-id="6caef-252">Имя ресурса hello DSC Hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-252">hello name of hello DSC resource.</span></span> |
| <span data-ttu-id="6caef-253">DscResourceStatus_s</span><span class="sxs-lookup"><span data-stu-id="6caef-253">DscResourceStatus_s</span></span> |<span data-ttu-id="6caef-254">Является ли ресурс DSC hello в соответствие.</span><span class="sxs-lookup"><span data-stu-id="6caef-254">Whether hello DSC resource is in compliance.</span></span> |
| <span data-ttu-id="6caef-255">DscModuleName_s</span><span class="sxs-lookup"><span data-stu-id="6caef-255">DscModuleName_s</span></span> |<span data-ttu-id="6caef-256">Имя Hello hello модуль PowerShell, который содержит ресурс DSC hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-256">hello name of hello PowerShell module that contains hello DSC resource.</span></span> |
| <span data-ttu-id="6caef-257">DscModuleVersion_s</span><span class="sxs-lookup"><span data-stu-id="6caef-257">DscModuleVersion_s</span></span> |<span data-ttu-id="6caef-258">версия Hello hello модуль PowerShell, который содержит ресурс DSC hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-258">hello version of hello PowerShell module that contains hello DSC resource.</span></span> |
| <span data-ttu-id="6caef-259">DscConfigurationName_s</span><span class="sxs-lookup"><span data-stu-id="6caef-259">DscConfigurationName_s</span></span> |<span data-ttu-id="6caef-260">Имя Hello hello конфигурации применяется toohello узла.</span><span class="sxs-lookup"><span data-stu-id="6caef-260">hello name of hello configuration applied toohello node.</span></span> |
| <span data-ttu-id="6caef-261">ErrorCode_s</span><span class="sxs-lookup"><span data-stu-id="6caef-261">ErrorCode_s</span></span> | <span data-ttu-id="6caef-262">Hello код ошибки, если ошибка ресурса hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-262">hello error code if hello resource failed.</span></span> |
| <span data-ttu-id="6caef-263">ErrorMessage_s</span><span class="sxs-lookup"><span data-stu-id="6caef-263">ErrorMessage_s</span></span> |<span data-ttu-id="6caef-264">Hello сообщение об ошибке при сбое ресурса hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-264">hello error message if hello resource failed.</span></span> |
| <span data-ttu-id="6caef-265">DscResourceDuration_d</span><span class="sxs-lookup"><span data-stu-id="6caef-265">DscResourceDuration_d</span></span> |<span data-ttu-id="6caef-266">Hello время в секундах, в которых была выполнена hello DSC ресурсов.</span><span class="sxs-lookup"><span data-stu-id="6caef-266">hello time, in seconds, that hello DSC resource ran.</span></span> |
| <span data-ttu-id="6caef-267">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="6caef-267">SourceSystem</span></span> | <span data-ttu-id="6caef-268">Как служба аналитики журналов сбора данных hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-268">How Log Analytics collected hello data.</span></span> <span data-ttu-id="6caef-269">Всегда имеет значение *Azure* для системы диагностики Azure.</span><span class="sxs-lookup"><span data-stu-id="6caef-269">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="6caef-270">ResourceId</span><span class="sxs-lookup"><span data-stu-id="6caef-270">ResourceId</span></span> |<span data-ttu-id="6caef-271">Указывает учетную запись службы автоматизации Azure hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-271">Specifies hello Azure Automation account.</span></span> |
| <span data-ttu-id="6caef-272">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="6caef-272">ResultDescription</span></span> | <span data-ttu-id="6caef-273">Описание Hello для этой операции.</span><span class="sxs-lookup"><span data-stu-id="6caef-273">hello description for this operation.</span></span> |
| <span data-ttu-id="6caef-274">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="6caef-274">SubscriptionId</span></span> | <span data-ttu-id="6caef-275">Здравствуйте, подписки Azure идентификатор (GUID) для учетной записи автоматизации hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-275">hello Azure subscription Id (GUID) for hello Automation account.</span></span> |
| <span data-ttu-id="6caef-276">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="6caef-276">ResourceGroup</span></span> | <span data-ttu-id="6caef-277">Имя группы ресурсов hello hello учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="6caef-277">Name of hello resource group for hello Automation account.</span></span> |
| <span data-ttu-id="6caef-278">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="6caef-278">ResourceProvider</span></span> | <span data-ttu-id="6caef-279">MICROSOFT.AUTOMATION</span><span class="sxs-lookup"><span data-stu-id="6caef-279">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="6caef-280">ResourceType</span><span class="sxs-lookup"><span data-stu-id="6caef-280">ResourceType</span></span> | <span data-ttu-id="6caef-281">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="6caef-281">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="6caef-282">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="6caef-282">CorrelationId</span></span> |<span data-ttu-id="6caef-283">Идентификатор GUID, — идентификатор корреляции отчет о соответствии hello hello.</span><span class="sxs-lookup"><span data-stu-id="6caef-283">GUID that is hello Correlation Id of hello compliance report.</span></span> |

## <a name="summary"></a><span data-ttu-id="6caef-284">Сводка</span><span class="sxs-lookup"><span data-stu-id="6caef-284">Summary</span></span>

<span data-ttu-id="6caef-285">Отправляя tooLog данных к DSC службы автоматизации аналитика, можно получить более глубокое представление о состоянии hello узлы DSC службы автоматизации с:</span><span class="sxs-lookup"><span data-stu-id="6caef-285">By sending your Automation DSC data tooLog Analytics, you can get better insight into hello status of your Automation DSC nodes by:</span></span>

* <span data-ttu-id="6caef-286">Настройка оповещений toonotify вы при возникновении проблемы</span><span class="sxs-lookup"><span data-stu-id="6caef-286">Setting up alerts toonotify you when there is an issue</span></span>
* <span data-ttu-id="6caef-287">С помощью настраиваемых представлений и запросов toovisualize поиска вашей результатов runbook, состояние задания runbook и других связанных ключевых показателей или метрики.</span><span class="sxs-lookup"><span data-stu-id="6caef-287">Using custom views and search queries toovisualize your runbook results, runbook job status, and other related key indicators or metrics.</span></span>  

<span data-ttu-id="6caef-288">Служба аналитики журналов предоставляет больше оперативной видимость tooyour DSC службы автоматизации данные и может помочь быстрее адрес инцидентов.</span><span class="sxs-lookup"><span data-stu-id="6caef-288">Log Analytics provides greater operational visibility tooyour Automation DSC data and can help address incidents more quickly.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="6caef-289">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="6caef-289">Next steps</span></span>

* <span data-ttu-id="6caef-290">см. Дополнительные сведения о как tooconstruct различных поисковые запросы и просмотр hello DSC службы автоматизации журналы с помощью аналитики журналов toolearn [входа поиска аналитики журналов](../log-analytics/log-analytics-log-searches.md)</span><span class="sxs-lookup"><span data-stu-id="6caef-290">toolearn more about how tooconstruct different search queries and review hello Automation DSC logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span></span>
* <span data-ttu-id="6caef-291">toolearn Подробнее об использовании Azure Automation DSC. в разделе [Приступая к работе с Azure Automation DSC](automation-dsc-getting-started.md)</span><span class="sxs-lookup"><span data-stu-id="6caef-291">toolearn more about using Azure Automation DSC, see [Getting started with Azure Automation DSC](automation-dsc-getting-started.md)</span></span>
* <span data-ttu-id="6caef-292">в разделе toolearn Дополнительные сведения о службе анализа журналов OMS и коллекцию источников данных, [Azure сбор данных из хранилища в обзоре анализа журналов](../log-analytics/log-analytics-azure-storage.md)</span><span class="sxs-lookup"><span data-stu-id="6caef-292">toolearn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span></span>

