---
title: "aaaGraphical разработки автоматизации Azure | Документы Microsoft"
description: "Графический разработки позволяет toocreate модулей Runbook для автоматизации Azure без работы с кодом. Эта статья содержит введение toographical разработки и все сведения hello требуется toostart создание графического модуля runbook."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 4b6f840c-e941-4293-a728-b33407317943
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 6ddf18b992d5e5f7f4af95f344007a63ac498549
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="graphical-authoring-in-azure-automation"></a><span data-ttu-id="e424c-104">Графическая разработка в службе автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="e424c-104">Graphical authoring in Azure Automation</span></span>
## <a name="introduction"></a><span data-ttu-id="e424c-105">Введение</span><span class="sxs-lookup"><span data-stu-id="e424c-105">Introduction</span></span>
<span data-ttu-id="e424c-106">Графическое Создание и настройка позволяет toocreate модулей Runbook для автоматизации Azure без сложностей hello код Windows PowerShell или рабочий процесс PowerShell базового hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-106">Graphical Authoring allows you toocreate runbooks for Azure Automation without hello complexities of hello underlying Windows PowerShell or PowerShell Workflow code.</span></span> <span data-ttu-id="e424c-107">Добавление действия toohello холст из библиотеки командлетов и модулей Runbook, связать их вместе и настройка tooform рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="e424c-107">You add activities toohello canvas from a library of cmdlets and runbooks, link them together and configure tooform a workflow.</span></span>  <span data-ttu-id="e424c-108">Если вам приходилось работать с System Center Orchestrator или автоматизации управления службами (SMA), это должен выглядеть tooyou знакомы.</span><span class="sxs-lookup"><span data-stu-id="e424c-108">If you have ever worked with System Center Orchestrator or Service Management Automation (SMA), then this should look familiar tooyou.</span></span>   

<span data-ttu-id="e424c-109">Эта статья содержит введение toographical разработки и hello понятия, необходимые tooget начать создание графического модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-109">This article provides an introduction toographical authoring and hello concepts you need tooget started in creating a graphical runbook.</span></span>

## <a name="graphical-runbooks"></a><span data-ttu-id="e424c-110">Графические модули Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-110">Graphical runbooks</span></span>
<span data-ttu-id="e424c-111">Все модули Runbook в службе автоматизации Azure представляют собой рабочие процессы Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e424c-111">All runbooks in Azure Automation are Windows PowerShell Workflows.</span></span>  <span data-ttu-id="e424c-112">Модули Runbook Graphical и графического рабочего процесса PowerShell создают PowerShell код, выполняемый работниками автоматизации hello, однако вы не можете tooview его или непосредственно изменить его.</span><span class="sxs-lookup"><span data-stu-id="e424c-112">Graphical and Graphical PowerShell Workflow runbooks generate PowerShell code that is run by hello Automation workers, but you are not able tooview it or directly modify it.</span></span>  <span data-ttu-id="e424c-113">Графический runbook может быть runbook графического рабочего процесса PowerShell преобразованный tooa и наоборот, но они не могут быть tooa преобразованные текстовые runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-113">A Graphical runbook can be converted tooa Graphical PowerShell Workflow runbook and vice-versa, but they cannot be converted tooa textual runbook.</span></span> <span data-ttu-id="e424c-114">Текстовое существующего модуля runbook нельзя импортировать в hello графического редактора.</span><span class="sxs-lookup"><span data-stu-id="e424c-114">An existing textual runbook cannot be imported into hello graphical editor.</span></span>  

## <a name="overview-of-graphical-editor"></a><span data-ttu-id="e424c-115">Обзор графического редактора</span><span class="sxs-lookup"><span data-stu-id="e424c-115">Overview of graphical editor</span></span>
<span data-ttu-id="e424c-116">Hello графический редактор можно открыть в hello портал Azure, создав или изменив графический runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-116">You can open hello graphical editor in hello Azure portal by creating or editing a graphical runbook.</span></span>

![Графическая рабочая область](media/automation-graphical-authoring-intro/runbook-graphical-editor.png)

<span data-ttu-id="e424c-118">Hello следующих разделах описаны элементы управления hello в графическом редакторе hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-118">hello following sections describe hello controls in hello graphical editor.</span></span>

### <a name="canvas"></a><span data-ttu-id="e424c-119">Холст</span><span class="sxs-lookup"><span data-stu-id="e424c-119">Canvas</span></span>
<span data-ttu-id="e424c-120">Hello холст является где проектируются в runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-120">hello Canvas is where you design your runbook.</span></span>  <span data-ttu-id="e424c-121">Добавление действий из узлов hello hello библиотеки управления toohello runbook и их связь с ссылки toodefine hello логики hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-121">You add activities from hello nodes in hello Library control toohello runbook and connect them with links toodefine hello logic of hello runbook.</span></span>

<span data-ttu-id="e424c-122">Можно использовать элементы управления hello hello нижней части холста toozoom hello и выхода из системы.</span><span class="sxs-lookup"><span data-stu-id="e424c-122">You can use hello controls at hello bottom of hello canvas toozoom in and out.</span></span>

![Графическая рабочая область](media/automation-graphical-authoring-intro/runbook-canvas-controls.png)

### <a name="library-control"></a><span data-ttu-id="e424c-124">Элемент управления "Библиотека"</span><span class="sxs-lookup"><span data-stu-id="e424c-124">Library control</span></span>
<span data-ttu-id="e424c-125">Библиотека управления Hello указывается [действия](#activities) tooadd tooyour runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-125">hello Library control is where you select [activities](#activities) tooadd tooyour runbook.</span></span>  <span data-ttu-id="e424c-126">Их следует добавить toohello холст, где можно соединить их tooother действия.</span><span class="sxs-lookup"><span data-stu-id="e424c-126">You add them toohello canvas where you connect them tooother activities.</span></span>  <span data-ttu-id="e424c-127">Он включает четыре раздела, описанные в следующей таблице hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-127">It includes four sections described in hello following table.</span></span>

| <span data-ttu-id="e424c-128">Раздел</span><span class="sxs-lookup"><span data-stu-id="e424c-128">Section</span></span> | <span data-ttu-id="e424c-129">Описание</span><span class="sxs-lookup"><span data-stu-id="e424c-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e424c-130">Командлеты</span><span class="sxs-lookup"><span data-stu-id="e424c-130">Cmdlets</span></span> |<span data-ttu-id="e424c-131">Включает все командлеты hello, которые могут использоваться в модуле runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-131">Includes all hello cmdlets that can be used in your runbook.</span></span>  <span data-ttu-id="e424c-132">Командлеты группируются по модулям.</span><span class="sxs-lookup"><span data-stu-id="e424c-132">Cmdlets are organized by module.</span></span>  <span data-ttu-id="e424c-133">Все модули hello, установленных в вашей учетной записи автоматизации будут доступны.</span><span class="sxs-lookup"><span data-stu-id="e424c-133">All of hello modules that you have installed in your automation account will be available.</span></span> |
| <span data-ttu-id="e424c-134">Модули Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-134">Runbooks</span></span> |<span data-ttu-id="e424c-135">Включает hello модулей Runbook в учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="e424c-135">Includes hello runbooks in your automation account.</span></span> <span data-ttu-id="e424c-136">Они могут быть добавлены toobe toohello холст, используется в качестве дочерних модулей Runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-136">These runbooks can be added toohello canvas toobe used as child runbooks.</span></span> <span data-ttu-id="e424c-137">Отображаются только runbooks hello же основной тип как hello редактируемого runbook; для Graphical runbooks только на основе PowerShell модули Runbook отображаются, хотя для графического рабочего процесса PowerShell модули Runbook отображаются только PowerShell основанных на рабочих процессах модулей Runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-137">Only runbooks of hello same core type as hello runbook being edited are shown; for Graphical runbooks only PowerShell-based runbooks are shown, while for Graphical PowerShell Workflow runbooks only PowerShell-Workflow-based runbooks are shown.</span></span> |
| <span data-ttu-id="e424c-138">Активы</span><span class="sxs-lookup"><span data-stu-id="e424c-138">Assets</span></span> |<span data-ttu-id="e424c-139">Включает в себя hello [ресурсы автоматизации](http://msdn.microsoft.com/library/dn939988.aspx) в вашей учетной записи автоматизации, который может использоваться в модуле runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-139">Includes hello [automation assets](http://msdn.microsoft.com/library/dn939988.aspx) in your automation account that can be used in your runbook.</span></span>  <span data-ttu-id="e424c-140">При добавлении средств tooa runbook, он добавляет действия рабочего процесса, которое возвращает hello выбранного ресурса.</span><span class="sxs-lookup"><span data-stu-id="e424c-140">When you add an asset tooa runbook, it will add a workflow activity that gets hello selected asset.</span></span>  <span data-ttu-id="e424c-141">В случае hello ресурсы переменных, можно выбрать ли tooadd tooget действие hello переменной или заданы hello переменной.</span><span class="sxs-lookup"><span data-stu-id="e424c-141">In hello case of variable assets, you can select whether tooadd an activity tooget hello variable or set hello variable.</span></span> |
| <span data-ttu-id="e424c-142">Элемент управления "Runbook"</span><span class="sxs-lookup"><span data-stu-id="e424c-142">Runbook Control</span></span> |<span data-ttu-id="e424c-143">Содержит действия элемента управления "Runbook", которые могут использоваться в текущем модуле Runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-143">Includes runbook control activities that can be used in your current runbook.</span></span> <span data-ttu-id="e424c-144">Объект *связующей* принимает несколько входов и ожидает завершения всех перед продолжение hello рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="e424c-144">A *Junction* takes multiple inputs and waits until all have completed before continuing hello workflow.</span></span> <span data-ttu-id="e424c-145">Объект *кода* действие выполняется один или несколько строк кода PowerShell или рабочий процесс PowerShell, в зависимости от типа hello графический runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-145">A *Code* activity runs one or more lines of PowerShell or PowerShell Workflow code depending on hello graphical runbook type.</span></span>  <span data-ttu-id="e424c-146">Это действие можно использовать для пользовательского кода или функциональные возможности, которые трудно tooachieve с другими действиями.</span><span class="sxs-lookup"><span data-stu-id="e424c-146">You can use this activity for custom code or for functionality that is difficult tooachieve with other activities.</span></span> |

### <a name="configuration-control"></a><span data-ttu-id="e424c-147">Элемент управления "Конфигурация"</span><span class="sxs-lookup"><span data-stu-id="e424c-147">Configuration control</span></span>
<span data-ttu-id="e424c-148">Hello управления конфигурацией —, которое необходимо ввести сведения для объекта, выбранного на холсте hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-148">hello Configuration control is where you provide details for an object selected on hello canvas.</span></span> <span data-ttu-id="e424c-149">Hello свойств, доступных в этом элементе управления будет зависеть от типа выделенного объекта hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-149">hello properties available in this control will depend on hello type of object selected.</span></span>  <span data-ttu-id="e424c-150">При выборе параметра в hello управления конфигурацией откроется дополнительных колонок в порядке tooprovide Дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="e424c-150">When you select an option in hello Configuration control, it will open additional blades in order tooprovide additional information.</span></span>

### <a name="test-control"></a><span data-ttu-id="e424c-151">Элемент управления "Тест"</span><span class="sxs-lookup"><span data-stu-id="e424c-151">Test control</span></span>
<span data-ttu-id="e424c-152">При первом запуске графического редактора hello Hello управления теста не отображается.</span><span class="sxs-lookup"><span data-stu-id="e424c-152">hello Test control is not displayed when hello graphical editor is first started.</span></span> <span data-ttu-id="e424c-153">Он открывается, когда вы интерактивно [тестируете графический Runbook](#graphical-runbook-procedures).</span><span class="sxs-lookup"><span data-stu-id="e424c-153">It is opened when you interactively [test a graphical runbook](#graphical-runbook-procedures).</span></span>  

## <a name="graphical-runbook-procedures"></a><span data-ttu-id="e424c-154">Процедуры графического Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-154">Graphical runbook procedures</span></span>
### <a name="exporting-and-importing-a-graphical-runbook"></a><span data-ttu-id="e424c-155">Экспорт и импорт графического модуля Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-155">Exporting and importing a graphical runbook</span></span>
<span data-ttu-id="e424c-156">Можно экспортировать только опубликованная версия hello графический runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-156">You can only export hello published version of a graphical runbook.</span></span>  <span data-ttu-id="e424c-157">Если hello runbook еще не опубликован, затем hello **экспорта опубликованных** кнопка будет неактивной.</span><span class="sxs-lookup"><span data-stu-id="e424c-157">If hello runbook has not yet been published, then hello **Export published** button will be disabled.</span></span>  <span data-ttu-id="e424c-158">При нажатии кнопки hello **экспорта опубликованных** кнопку, hello runbook — загруженный tooyour локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="e424c-158">When you click hello **Export published** button, hello runbook is downloaded tooyour local computer.</span></span>  <span data-ttu-id="e424c-159">Имя Hello hello файла совпадает с именем hello hello модуля Runbook с *graphrunbook* расширения.</span><span class="sxs-lookup"><span data-stu-id="e424c-159">hello name of hello file matches hello name of hello runbook with a *graphrunbook* extension.</span></span>

![Экспортировать опубликованный](media/automation-graphical-authoring-intro/runbook-export.png)

<span data-ttu-id="e424c-161">Можно импортировать файл модуля runbook графический или графического рабочего процесса PowerShell, выбрав hello **импорта** параметр при добавлении модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-161">You can import a Graphical or Graphical PowerShell Workflow runbook file by selecting hello **Import** option when adding a runbook.</span></span>   <span data-ttu-id="e424c-162">При выборе tooimport hello файл можно сохранить hello же **имя** или укажите новое.</span><span class="sxs-lookup"><span data-stu-id="e424c-162">When you select hello file tooimport, you can keep hello same **Name** or provide a new one.</span></span>  <span data-ttu-id="e424c-163">Hello поле типа Runbook будет отображаться hello тип runbook после его оценивает файл hello и при попытке tooselect другого типа, не является правильным, сообщение появится отметить потенциальных конфликтов и во время преобразования, возможно, существуют синтаксические ошибки.</span><span class="sxs-lookup"><span data-stu-id="e424c-163">hello Runbook Type field will display hello type of runbook after it assesses hello file selected and if you attempt tooselect a different type that is not correct, a message will be presented noting there are potential conflicts and during conversion, there could be syntax errors.</span></span>  

![Импортировать Runbook](media/automation-graphical-authoring-intro/runbook-import-revised20165.png)

### <a name="testing-a-graphical-runbook"></a><span data-ttu-id="e424c-165">Тестирование графического Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-165">Testing a graphical runbook</span></span>
<span data-ttu-id="e424c-166">Hello черновик runbook можно протестировать в hello портал Azure, оставив hello опубликованной версии модуля runbook hello без изменений, или перед ее публикации модуля runbook можно протестировать.</span><span class="sxs-lookup"><span data-stu-id="e424c-166">You can test hello Draft version of a runbook in hello Azure portal while leaving hello published version of hello runbook unchanged, or you can test a new runbook before it has been published.</span></span> <span data-ttu-id="e424c-167">Это позволяет перед заменой опубликованной версии hello вы tooverify, Здравствуйте, runbook работает правильно.</span><span class="sxs-lookup"><span data-stu-id="e424c-167">This allows you tooverify that hello runbook is working correctly before replacing hello published version.</span></span> <span data-ttu-id="e424c-168">При тестировании модуля hello runbook выполняется черновик и все действия, которые он выполняет.</span><span class="sxs-lookup"><span data-stu-id="e424c-168">When you test a runbook, hello Draft runbook is executed and any actions that it performs are completed.</span></span> <span data-ttu-id="e424c-169">Журнал заданий не создается, но выходные данные отображаются в области вывода теста hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-169">No job history is created, but output is displayed in hello Test Output Pane.</span></span> 

<span data-ttu-id="e424c-170">Откройте Управление проверкой hello для модуля runbook, открыв hello runbook для редактирования и выберите команду hello **области тестов** кнопки.</span><span class="sxs-lookup"><span data-stu-id="e424c-170">Open hello Test control for a runbook by opening hello runbook for edit and then click on hello **Test pane** button.</span></span>

![Кнопка панели "Тест"](media/automation-graphical-authoring-intro/runbook-edit-test-pane.png)

<span data-ttu-id="e424c-172">Управление проверкой Hello предложит все входные параметры и hello runbook можно запустить, щелкнув hello **запустить** кнопки.</span><span class="sxs-lookup"><span data-stu-id="e424c-172">hello Test control will prompt for any input parameters, and you can start hello runbook by clicking on hello **Start** button.</span></span>

![Кнопки элемента управления "Тест"](media/automation-graphical-authoring-intro/runbook-test-start.png)

### <a name="publishing-a-graphical-runbook"></a><span data-ttu-id="e424c-174">Публикация графического Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-174">Publishing a graphical runbook</span></span>
<span data-ttu-id="e424c-175">У каждого Runbook в службе автоматизации Azure есть черновая и опубликованная версия.</span><span class="sxs-lookup"><span data-stu-id="e424c-175">Each runbook in Azure Automation has a Draft and a Published version.</span></span> <span data-ttu-id="e424c-176">Hello только опубликованная версия является доступной toobe запуска, и можно изменить только hello черновую версию.</span><span class="sxs-lookup"><span data-stu-id="e424c-176">Only hello Published version is available toobe run, and only hello Draft version can be edited.</span></span> <span data-ttu-id="e424c-177">не влияет на все изменения toohello черновую версию Hello опубликованную версию.</span><span class="sxs-lookup"><span data-stu-id="e424c-177">hello Published version is unaffected by any changes toohello Draft version.</span></span> <span data-ttu-id="e424c-178">При готовности toobe доступных hello черновую версию публикации hello черновик заменяет опубликованную версию hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-178">When hello Draft version is ready toobe available, then you publish it which overwrites hello Published version with hello Draft version.</span></span>

<span data-ttu-id="e424c-179">Графический runbook можно опубликовать, открыв hello runbook для редактирования, а затем щелкнув hello **публикации** кнопки.</span><span class="sxs-lookup"><span data-stu-id="e424c-179">You can publish a graphical runbook by opening hello runbook for editing and then clicking on hello **Publish** button.</span></span>

![Кнопка "Опубликовать"](media/automation-graphical-authoring-intro/runbook-edit-publish.png)

<span data-ttu-id="e424c-181">Если Runbook еще не опубликован, он находится в состоянии **Новый**.</span><span class="sxs-lookup"><span data-stu-id="e424c-181">When a runbook has not yet been published, it has a status of **New**.</span></span>  <span data-ttu-id="e424c-182">После публикации он находится в состоянии **Опубликован**.</span><span class="sxs-lookup"><span data-stu-id="e424c-182">When it is published, it has a status of **Published**.</span></span>  <span data-ttu-id="e424c-183">При редактировании hello runbook после ее публикации и имеют разные hello черновик и опубликованную версии hello runbook находится в состоянии **в режиме изменения**.</span><span class="sxs-lookup"><span data-stu-id="e424c-183">If you edit hello runbook after it has been published, and hello Draft and Published versions are different, hello runbook has a status of **In edit**.</span></span>

![Состояния Runbook](media/automation-graphical-authoring-intro/runbook-statuses-revised20165.png) 

<span data-ttu-id="e424c-185">Также имеется hello параметр toorevert toohello опубликованную версию модуля Runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-185">You also have hello option toorevert toohello Published version of a runbook.</span></span>  <span data-ttu-id="e424c-186">Отбрасывает все изменения, внесенные с момента последней публикации hello runbook и заменяет hello черновик hello runbook hello опубликованную версию.</span><span class="sxs-lookup"><span data-stu-id="e424c-186">This throws away any changes made since hello runbook was last published and replaces hello Draft version of hello runbook with hello Published version.</span></span>

![Восстановить toopublished кнопки](media/automation-graphical-authoring-intro/runbook-edit-revert-published.png)

## <a name="activities"></a><span data-ttu-id="e424c-188">Действия</span><span class="sxs-lookup"><span data-stu-id="e424c-188">Activities</span></span>
<span data-ttu-id="e424c-189">Действия являются стандартными блоками hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-189">Activities are hello building blocks of a runbook.</span></span>  <span data-ttu-id="e424c-190">Действием может быть командлет PowerShell, дочерний Runbook или действие рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="e424c-190">An activity can be a PowerShell cmdlet, a child runbook, or a workflow activity.</span></span>  <span data-ttu-id="e424c-191">Добавьте runbook toohello активности, щелкнув правой кнопкой мыши его в hello библиотеки управления и выбрав **добавить toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="e424c-191">You add an activity toohello runbook by right clicking it in hello Library control and selecting **Add toocanvas**.</span></span>  <span data-ttu-id="e424c-192">Затем, можно щелкнуть и перетащить его в любом месте hello холсте, который как tooplace действие hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-192">You can then click and drag hello activity tooplace it anywhere on hello canvas that you like.</span></span>  <span data-ttu-id="e424c-193">Hello расположение hello hello действия на холсте hello не влияет на работу hello runbook hello каким-либо образом.</span><span class="sxs-lookup"><span data-stu-id="e424c-193">hello location of hello of hello activity on hello canvas does not effect hello operation of hello runbook in any way.</span></span>  <span data-ttu-id="e424c-194">Вы можете макета модуль runbook, однако его найти наиболее подходящий toovisualize своей работы.</span><span class="sxs-lookup"><span data-stu-id="e424c-194">You can layout your runbook however you find it most suitable toovisualize its operation.</span></span> 

![Добавить toocanvas](media/automation-graphical-authoring-intro/add-to-canvas-revised20165.png)

<span data-ttu-id="e424c-196">Выберите действие hello на холсте tooconfigure hello его свойства и параметры, в колонке конфигурации hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-196">Select hello activity on hello canvas tooconfigure its properties and parameters in hello Configuration blade.</span></span>  <span data-ttu-id="e424c-197">Вы можете изменить hello **метка** из toosomething hello действия, описательное tooyou.</span><span class="sxs-lookup"><span data-stu-id="e424c-197">You can change hello **Label** of hello activity toosomething that is descriptive tooyou.</span></span>  <span data-ttu-id="e424c-198">исходным командлетом Hello по-прежнему выполняется, его отображаемое имя, которое будет использоваться в графическом редакторе hello простое изменение.</span><span class="sxs-lookup"><span data-stu-id="e424c-198">hello original cmdlet is still being run, you are simply changing its display name that will be used in hello graphical editor.</span></span>  <span data-ttu-id="e424c-199">Hello метки должны быть уникальными в пределах hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-199">hello label must be unique within hello runbook.</span></span> 

### <a name="parameter-sets"></a><span data-ttu-id="e424c-200">Наборы параметров</span><span class="sxs-lookup"><span data-stu-id="e424c-200">Parameter sets</span></span>
<span data-ttu-id="e424c-201">Набор параметров определяет hello обязательные и необязательные параметры принимают значения для определенного командлета.</span><span class="sxs-lookup"><span data-stu-id="e424c-201">A parameter set defines hello mandatory and optional parameters that will accept values for a particular cmdlet.</span></span>  <span data-ttu-id="e424c-202">У каждого командлета имеется по крайней мере один набор параметров, а у некоторых их несколько.</span><span class="sxs-lookup"><span data-stu-id="e424c-202">All cmdlets have at least one parameter set, and some have multiple.</span></span>  <span data-ttu-id="e424c-203">Если у командлета несколько наборов параметров, перед настройкой параметров необходимо выбрать, какой из них будет использоваться.</span><span class="sxs-lookup"><span data-stu-id="e424c-203">If a cmdlet has multiple parameter sets, then you must select which one you will use before you can configure parameters.</span></span>  <span data-ttu-id="e424c-204">Hello параметры, которые можно настроить будет зависеть от выбрать набор параметров hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-204">hello parameters that you can configure will depend on hello parameter set that you choose.</span></span>  <span data-ttu-id="e424c-205">Можно изменить набор параметров hello, используемые действия, выбрав **параметру** и выбрав другой набор.</span><span class="sxs-lookup"><span data-stu-id="e424c-205">You can change hello parameter set used by an activity by selecting **Parameter Set** and selecting another set.</span></span>  <span data-ttu-id="e424c-206">В этом случае все настроенные значения параметров будут потеряны.</span><span class="sxs-lookup"><span data-stu-id="e424c-206">In this case, any parameter values that you configured are lost.</span></span>

<span data-ttu-id="e424c-207">В следующем примере hello командлет Get-AzureRmVM hello имеет три наборов параметров.</span><span class="sxs-lookup"><span data-stu-id="e424c-207">In hello following example, hello Get-AzureRmVM cmdlet has three parameter sets.</span></span>  <span data-ttu-id="e424c-208">Не удается настроить значения параметров только после выбора одного из наборов параметров hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-208">You cannot configure parameter values until you select one of hello parameter sets.</span></span>  <span data-ttu-id="e424c-209">Hello ListVirtualMachineInResourceGroupParamSet набор параметров для возврата всех виртуальных машин в группе ресурсов и имеет один необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="e424c-209">hello ListVirtualMachineInResourceGroupParamSet parameter set is for returning all virtual machines in a resource group and has a single optional parameter.</span></span>  <span data-ttu-id="e424c-210">Hello GetVirtualMachineInResourceGroupParamSet предназначен для указания hello виртуальной машины требуется tooreturn и имеет два обязателен и один необязательный параметр.</span><span class="sxs-lookup"><span data-stu-id="e424c-210">hello GetVirtualMachineInResourceGroupParamSet is for specifying hello virtual machine you want tooreturn and has two mandatory and one optional parameter.</span></span>

![Набор параметров](media/automation-graphical-authoring-intro/get-azurermvm-parameter-sets.png)

#### <a name="parameter-values"></a><span data-ttu-id="e424c-212">Значения параметров</span><span class="sxs-lookup"><span data-stu-id="e424c-212">Parameter values</span></span>
<span data-ttu-id="e424c-213">При указании значения для параметра выбирается toodetermine источника данных, как будет указано значение hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-213">When you specify a value for a parameter, you select a data source toodetermine how hello value will be specified.</span></span>  <span data-ttu-id="e424c-214">Hello источники данных, доступные для определенного параметра будет зависеть от hello допустимые значения для этого параметра.</span><span class="sxs-lookup"><span data-stu-id="e424c-214">hello data sources that are available for a particular parameter will depend on hello valid values for that parameter.</span></span>  <span data-ttu-id="e424c-215">Например, значение NULL будет недоступно для параметра, который не допускает значений NULL.</span><span class="sxs-lookup"><span data-stu-id="e424c-215">For example, Null will not be an available option for a parameter that does not allow null values.</span></span>

| <span data-ttu-id="e424c-216">Источник данных</span><span class="sxs-lookup"><span data-stu-id="e424c-216">Data Source</span></span> | <span data-ttu-id="e424c-217">Описание</span><span class="sxs-lookup"><span data-stu-id="e424c-217">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e424c-218">Постоянное значение</span><span class="sxs-lookup"><span data-stu-id="e424c-218">Constant Value</span></span> |<span data-ttu-id="e424c-219">Введите значение для параметра hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-219">Type in a value for hello parameter.</span></span>  <span data-ttu-id="e424c-220">Доступно только для hello следующие типы данных: Int32, Int64, String, Boolean, DateTime, коммутатор.</span><span class="sxs-lookup"><span data-stu-id="e424c-220">This is only available for hello following data types: Int32,Int64,String,Boolean,DateTime,Switch.</span></span> |
| <span data-ttu-id="e424c-221">Выходные данные действия</span><span class="sxs-lookup"><span data-stu-id="e424c-221">Activity Output</span></span> |<span data-ttu-id="e424c-222">Выходные данные из действия, который предшествует hello текущего действия в рабочем процессе hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-222">Output from an activity that precedes hello current activity in hello workflow.</span></span>  <span data-ttu-id="e424c-223">Будут перечислены все допустимые действия.</span><span class="sxs-lookup"><span data-stu-id="e424c-223">All valid activities will be listed.</span></span>  <span data-ttu-id="e424c-224">Выберите только что toouse действие hello выходные данные для значения параметра hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-224">Select just hello activity toouse its output for hello parameter value.</span></span>  <span data-ttu-id="e424c-225">Если действие hello выводит объект с несколькими свойствами, затем можно ввести в поле имя hello hello свойства после выбора действия hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-225">If hello activity outputs an object with multiple properties, then you can type in hello name of hello property after selecting hello activity.</span></span> |
| <span data-ttu-id="e424c-226">Входные данные Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-226">Runbook Input</span></span> |<span data-ttu-id="e424c-227">Выберите входной параметр модуля runbook в качестве входного toohello параметр действия.</span><span class="sxs-lookup"><span data-stu-id="e424c-227">Select a runbook input parameter as input toohello activity parameter.</span></span> |
| <span data-ttu-id="e424c-228">Ресурс переменной</span><span class="sxs-lookup"><span data-stu-id="e424c-228">Variable Asset</span></span> |<span data-ttu-id="e424c-229">Выберите переменную службы автоматизации в качестве входных данных.</span><span class="sxs-lookup"><span data-stu-id="e424c-229">Select an Automation Variable as input.</span></span> |
| <span data-ttu-id="e424c-230">Ресурс учетных данных</span><span class="sxs-lookup"><span data-stu-id="e424c-230">Credential Asset</span></span> |<span data-ttu-id="e424c-231">Выберите учетные данные службы автоматизации в качестве входных данных.</span><span class="sxs-lookup"><span data-stu-id="e424c-231">Select an Automation Credential as input.</span></span> |
| <span data-ttu-id="e424c-232">Ресурс сертификата</span><span class="sxs-lookup"><span data-stu-id="e424c-232">Certificate Asset</span></span> |<span data-ttu-id="e424c-233">Выберите сертификат службы автоматизации в качестве входных данных.</span><span class="sxs-lookup"><span data-stu-id="e424c-233">Select an Automation Certificate as input.</span></span> |
| <span data-ttu-id="e424c-234">Ресурс подключения</span><span class="sxs-lookup"><span data-stu-id="e424c-234">Connection Asset</span></span> |<span data-ttu-id="e424c-235">Выберите подключение службы автоматизации в качестве входных данных.</span><span class="sxs-lookup"><span data-stu-id="e424c-235">Select an Automation Connection as input.</span></span> |
| <span data-ttu-id="e424c-236">Выражение PowerShell</span><span class="sxs-lookup"><span data-stu-id="e424c-236">PowerShell Expression</span></span> |<span data-ttu-id="e424c-237">Укажите простое [выражение PowerShell](#powershell-expressions).</span><span class="sxs-lookup"><span data-stu-id="e424c-237">Specify simple [PowerShell expression](#powershell-expressions).</span></span>  <span data-ttu-id="e424c-238">Hello выражение оценивается перед hello действия и hello результат, используется в качестве значения параметра hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-238">hello expression will be evaluated before hello activity and hello result used for hello parameter value.</span></span>  <span data-ttu-id="e424c-239">Можно использовать переменные toorefer toohello выходных данных действия или входной параметр модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-239">You can use variables toorefer toohello output of an activity or a runbook input parameter.</span></span> |
| <span data-ttu-id="e424c-240">Не настроено</span><span class="sxs-lookup"><span data-stu-id="e424c-240">Not configured</span></span> |<span data-ttu-id="e424c-241">Очищает все значения, которые были настроены ранее.</span><span class="sxs-lookup"><span data-stu-id="e424c-241">Clears any value that was previously configured.</span></span> |

#### <a name="optional-additional-parameters"></a><span data-ttu-id="e424c-242">Необязательные дополнительные параметры</span><span class="sxs-lookup"><span data-stu-id="e424c-242">Optional additional parameters</span></span>
<span data-ttu-id="e424c-243">Все командлеты будет hello tooprovide Дополнительные параметры.</span><span class="sxs-lookup"><span data-stu-id="e424c-243">All cmdlets will have hello option tooprovide additional parameters.</span></span>  <span data-ttu-id="e424c-244">Это могут быть общие параметры PowerShell или другие пользовательские параметры.</span><span class="sxs-lookup"><span data-stu-id="e424c-244">These are PowerShell common parameters or other custom parameters.</span></span>  <span data-ttu-id="e424c-245">Появится текстовое поле, где можно будет указать параметры с помощью синтаксиса PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e424c-245">You are presented with a text box where you can provide parameters using PowerShell syntax.</span></span>  <span data-ttu-id="e424c-246">Например, hello toouse **Verbose** общий параметр, необходимо указать **«-Verbose: $True»**.</span><span class="sxs-lookup"><span data-stu-id="e424c-246">For example, toouse hello **Verbose** common parameter, you would specify **"-Verbose:$True"**.</span></span>

### <a name="retry-activity"></a><span data-ttu-id="e424c-247">Повтор действий</span><span class="sxs-lookup"><span data-stu-id="e424c-247">Retry activity</span></span>
<span data-ttu-id="e424c-248">**Режим повтора** позволяет toobe действия запускать несколько раз, пока не будет выполнено определенное условие, как цикл.</span><span class="sxs-lookup"><span data-stu-id="e424c-248">**Retry Behavior** allows an activity toobe run multiple times until a particular condition is met, much like a loop.</span></span>  <span data-ttu-id="e424c-249">Эту функцию можно использовать для действий, которые должны выполняться неоднократно, являются подвержен ошибкам и может требуется несколько попыток для успешного выполнения или тестирования hello выходные данные действия hello для допустимых данных.</span><span class="sxs-lookup"><span data-stu-id="e424c-249">You can use this feature for activities that should run multiple times, are error prone and may need more than one attempt for success, or test hello output information of hello activity for valid data.</span></span>    

<span data-ttu-id="e424c-250">Включая для действия режим повтора, можно задать условие и значение задержки.</span><span class="sxs-lookup"><span data-stu-id="e424c-250">When you enable retry for an activity, you can set a delay and a condition.</span></span>  <span data-ttu-id="e424c-251">Задержка Hello — hello время (в секунд или минут), hello runbook будет ожидать перед его выполнением действия hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-251">hello delay is hello time (measured in seconds or minutes) that hello runbook will wait before it runs hello activity again.</span></span>  <span data-ttu-id="e424c-252">Если указано без задержки, действие hello запускается снова сразу после его завершения.</span><span class="sxs-lookup"><span data-stu-id="e424c-252">If no delay is specified, then hello activity will run again immediately after it completes.</span></span> 

![Задержка повтора действия](media/automation-graphical-authoring-intro/retry-delay.png)

<span data-ttu-id="e424c-254">Условие повтора Hello — PowerShell выражение, которое оценивается после каждого действия hello времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="e424c-254">hello retry condition is a PowerShell expression that is evaluated after each time hello activity runs.</span></span>  <span data-ttu-id="e424c-255">Если выражение hello разрешается tooTrue, затем действие hello запускается снова.</span><span class="sxs-lookup"><span data-stu-id="e424c-255">If hello expression resolves tooTrue, then hello activity runs again.</span></span>  <span data-ttu-id="e424c-256">Если выражение hello разрешается tooFalse hello действия не запустите еще раз и hello runbook перемещается на следующее действие toohello.</span><span class="sxs-lookup"><span data-stu-id="e424c-256">If hello expression resolves tooFalse then hello activity does not run again, and hello runbook moves on toohello next activity.</span></span> 

![Задержка повтора действия](media/automation-graphical-authoring-intro/retry-condition.png)

<span data-ttu-id="e424c-258">Hello повторить условие можно использовать переменную с именем $RetryData, предоставляющий доступ tooinformation о повторных отправках действие hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-258">hello retry condition can use a variable called $RetryData that provides access tooinformation about hello activity retries.</span></span>  <span data-ttu-id="e424c-259">Эта переменная имеет свойства hello в hello в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="e424c-259">This variable has hello properties in hello following table.</span></span>

| <span data-ttu-id="e424c-260">Свойство</span><span class="sxs-lookup"><span data-stu-id="e424c-260">Property</span></span> | <span data-ttu-id="e424c-261">Описание</span><span class="sxs-lookup"><span data-stu-id="e424c-261">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e424c-262">NumberOfAttempts</span><span class="sxs-lookup"><span data-stu-id="e424c-262">NumberOfAttempts</span></span> |<span data-ttu-id="e424c-263">Число запусков действие hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-263">Number of times that hello activity has been run.</span></span> |
| <span data-ttu-id="e424c-264">Выходные данные</span><span class="sxs-lookup"><span data-stu-id="e424c-264">Output</span></span> |<span data-ttu-id="e424c-265">Выходные данные hello последнего запуска действия hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-265">Output from hello last run of hello activity.</span></span> |
| <span data-ttu-id="e424c-266">TotalDuration</span><span class="sxs-lookup"><span data-stu-id="e424c-266">TotalDuration</span></span> |<span data-ttu-id="e424c-267">Истекло время, истекшее с момента запуска действия hello hello первый раз.</span><span class="sxs-lookup"><span data-stu-id="e424c-267">Timed elapsed since hello activity was started hello first time.</span></span> |
| <span data-ttu-id="e424c-268">StartedAt</span><span class="sxs-lookup"><span data-stu-id="e424c-268">StartedAt</span></span> |<span data-ttu-id="e424c-269">Время в действии hello в формате UTC в момент первого запуска.</span><span class="sxs-lookup"><span data-stu-id="e424c-269">Time in UTC format hello activity was first started.</span></span> |

<span data-ttu-id="e424c-270">Ниже приведены примеры условий, при которых действие выполняется повторно.</span><span class="sxs-lookup"><span data-stu-id="e424c-270">Following are examples of activity retry conditions.</span></span>

    # Run hello activity exactly 10 times.
    $RetryData.NumberOfAttempts -ge 10 

    # Run hello activity repeatedly until it produces any output.
    $RetryData.Output.Count -ge 1 

    # Run hello activity repeatedly until 2 minutes has elapsed. 
    $RetryData.TotalDuration.TotalMinutes -ge 2

<span data-ttu-id="e424c-271">После настройки Условие повтора для действия, действие hello включает два визуальные подсказки tooremind вы.</span><span class="sxs-lookup"><span data-stu-id="e424c-271">After you configure a retry condition for an activity, hello activity includes two visual cues tooremind you.</span></span>  <span data-ttu-id="e424c-272">Один представлены в действии hello и hello других — при проверке конфигурации hello hello действия.</span><span class="sxs-lookup"><span data-stu-id="e424c-272">One is presented in hello activity and hello other is when you review hello configuration of hello activity.</span></span>

![Визуальные индикаторы повторения действия](media/automation-graphical-authoring-intro/runbook-activity-retry-visual-cue.png)

### <a name="workflow-script-control"></a><span data-ttu-id="e424c-274">Элемент управления сценария рабочего процесса</span><span class="sxs-lookup"><span data-stu-id="e424c-274">Workflow Script control</span></span>
<span data-ttu-id="e424c-275">Элемент управления код — это специальное действие, которое принимает сценария PowerShell или рабочий процесс PowerShell, в зависимости от типа hello графический runbook, создаваемую в функциональность tooprovide порядка, в противном случае недоступен.</span><span class="sxs-lookup"><span data-stu-id="e424c-275">A Code control is a special activity that accepts PowerShell or PowerShell Workflow script depending on hello type of graphical runbook being authored in order tooprovide functionality that may otherwise not be available.</span></span>  <span data-ttu-id="e424c-276">Он не может принимать параметры, но может использовать переменные для выходных данных действия и входных параметров Runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-276">It cannot accept parameters, but it can use variables for activity output and runbook input parameters.</span></span>  <span data-ttu-id="e424c-277">Все выходные данные действия hello добавляется toohello databus без не исходящего канала, в котором оно добавляется toohello выходные данные модуля runbook hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-277">Any output of hello activity is added toohello databus unless it has no outgoing link in which case it is added toohello output of hello runbook.</span></span>

<span data-ttu-id="e424c-278">Например hello следующий код выполняет с помощью runbook входной переменной с именем $NumberOfDays вычисления дат.</span><span class="sxs-lookup"><span data-stu-id="e424c-278">For example hello following code performs date calculations using a runbook input variable called $NumberOfDays.</span></span>  <span data-ttu-id="e424c-279">Затем отправляет рассчитанные Дата и время в виде toobe выходные данные, использовать для последующих действий в hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-279">It then sends a calculated date time as output toobe used by subsequent activities in hello runbook.</span></span>

    $DateTimeNow = (Get-Date).ToUniversalTime()
    $DateTimeStart = ($DateTimeNow).AddDays(-$NumberOfDays)}
    $DateTimeStart


## <a name="links-and-workflow"></a><span data-ttu-id="e424c-280">Связи и рабочий процесс</span><span class="sxs-lookup"><span data-stu-id="e424c-280">Links and workflow</span></span>
<span data-ttu-id="e424c-281">**Связь** в графическом Runbook соединяет два действия.</span><span class="sxs-lookup"><span data-stu-id="e424c-281">A **link** in a graphical runbook connects two activities.</span></span>  <span data-ttu-id="e424c-282">Он отображается на полотне hello как стрелка с hello источника действия toohello конечное действие.</span><span class="sxs-lookup"><span data-stu-id="e424c-282">It is displayed on hello canvas as an arrow pointing from hello source activity toohello destination activity.</span></span>  <span data-ttu-id="e424c-283">действия Hello работают в направлении hello hello стрелки с целевое действие hello запуск после завершения исходного действия hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-283">hello activities run in hello direction of hello arrow with hello destination activity starting after hello source activity completes.</span></span>  

### <a name="create-a-link"></a><span data-ttu-id="e424c-284">Создание связи</span><span class="sxs-lookup"><span data-stu-id="e424c-284">Create a link</span></span>
<span data-ttu-id="e424c-285">Создаете связь между двумя действиями, выбрав hello исходное действие и выберите круг hello внизу hello hello фигуры.</span><span class="sxs-lookup"><span data-stu-id="e424c-285">Create a link between two activities by selecting hello source activity and clicking hello circle at hello bottom of hello shape.</span></span>  <span data-ttu-id="e424c-286">Перетащите hello стрелка toohello целевое действие и выпуска.</span><span class="sxs-lookup"><span data-stu-id="e424c-286">Drag hello arrow toohello destination activity and release.</span></span>

![Создание связи](media/automation-graphical-authoring-intro/create-link-revised20165.png)

<span data-ttu-id="e424c-288">Выберите ссылку tooconfigure hello его свойства в колонке конфигурации hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-288">Select hello link tooconfigure its properties in hello Configuration blade.</span></span>  <span data-ttu-id="e424c-289">Сюда входят hello тип связи, который описан в следующей таблице hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-289">This will include hello link type which is described in hello following table.</span></span>

| <span data-ttu-id="e424c-290">Тип связи</span><span class="sxs-lookup"><span data-stu-id="e424c-290">Link Type</span></span> | <span data-ttu-id="e424c-291">Описание</span><span class="sxs-lookup"><span data-stu-id="e424c-291">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e424c-292">Конвейер</span><span class="sxs-lookup"><span data-stu-id="e424c-292">Pipeline</span></span> |<span data-ttu-id="e424c-293">Hello целевое действие выполняется один раз для каждого выхода объекта из исходного действия hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-293">hello destination activity is run once for each object output from hello source activity.</span></span>  <span data-ttu-id="e424c-294">Конечное действие Hello не выполняется, если исходное действие hello результатов в выходные данные.</span><span class="sxs-lookup"><span data-stu-id="e424c-294">hello destination activity does not run if hello source activity results in no output.</span></span>  <span data-ttu-id="e424c-295">Выходные данные действия источника hello доступен в виде объекта.</span><span class="sxs-lookup"><span data-stu-id="e424c-295">Output from hello source activity is available as an object.</span></span> |
| <span data-ttu-id="e424c-296">Последовательность</span><span class="sxs-lookup"><span data-stu-id="e424c-296">Sequence</span></span> |<span data-ttu-id="e424c-297">Hello конечное действие запускается только один раз.</span><span class="sxs-lookup"><span data-stu-id="e424c-297">hello destination activity runs only once.</span></span>  <span data-ttu-id="e424c-298">Он получает массив объектов от исходного действия hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-298">It receives an array of objects from hello source activity.</span></span>  <span data-ttu-id="e424c-299">Выходные данные действия источника hello доступен в виде массива объектов.</span><span class="sxs-lookup"><span data-stu-id="e424c-299">Output from hello source activity is available as an array of objects.</span></span> |

### <a name="starting-activity"></a><span data-ttu-id="e424c-300">Запуск действия</span><span class="sxs-lookup"><span data-stu-id="e424c-300">Starting activity</span></span>
<span data-ttu-id="e424c-301">Графический Runbook начнется с любых действий, у которых нет входящей связи.</span><span class="sxs-lookup"><span data-stu-id="e424c-301">A graphical runbook will start with any activities that do not have an incoming link.</span></span>  <span data-ttu-id="e424c-302">Часто это будут только одно действие, который будет действовать как hello начала действия для модуля runbook hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-302">This will often be only one activity which would act as hello starting activity for hello runbook.</span></span>  <span data-ttu-id="e424c-303">Если Входящие ссылки не имеют несколько действий, hello runbook запустится, запустив их в параллельном режиме.</span><span class="sxs-lookup"><span data-stu-id="e424c-303">If multiple activities do not have an incoming link, then hello runbook will start by running them in parallel.</span></span>  <span data-ttu-id="e424c-304">Она будет следовать toorun ссылки hello другие действия при завершении каждой.</span><span class="sxs-lookup"><span data-stu-id="e424c-304">It will then follow hello links toorun other activities as each completes.</span></span>

### <a name="conditions"></a><span data-ttu-id="e424c-305">Условия</span><span class="sxs-lookup"><span data-stu-id="e424c-305">Conditions</span></span>
<span data-ttu-id="e424c-306">При указании условия связи hello конечное действие запускается только если условие hello разрешается tootrue.</span><span class="sxs-lookup"><span data-stu-id="e424c-306">When you specify a condition on a link, hello destination activity is only run if hello condition resolves tootrue.</span></span>  <span data-ttu-id="e424c-307">Переменная $ActivityOutput обычно используется в выходных данных hello условие tooretrieve из hello исходного действия.</span><span class="sxs-lookup"><span data-stu-id="e424c-307">You will typically use an $ActivityOutput variable in a condition tooretrieve hello output from hello source activity.</span></span>  

<span data-ttu-id="e424c-308">Для конвейера ссылки задать условие для одного объекта и hello условие вычисляется для каждого выхода объекта действием источника hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-308">For a pipeline link, you specify a condition for a single object, and hello condition is evaluated for each object output by hello source activity.</span></span>  <span data-ttu-id="e424c-309">Конечное действие Hello затем выполняется для каждого объекта, который удовлетворяет условию hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-309">hello destination activity is then run for each object that satisfies hello condition.</span></span>  <span data-ttu-id="e424c-310">Например, с исходное действие Get-AzureRmVm hello, используя синтаксис может использоваться для условного конвейера ссылку tooretrieve только для виртуальных машин в группу ресурсов с именем Здравствуйте, *Group1*.</span><span class="sxs-lookup"><span data-stu-id="e424c-310">For example, with a source activity of Get-AzureRmVm, hello following syntax could be used for a conditional pipeline link tooretrieve only virtual machines in hello resource group named *Group1*.</span></span>  

    $ActivityOutput['Get Azure VMs'].Name -match "Group1"

<span data-ttu-id="e424c-311">Для ссылки последовательности hello условие вычисляется только один раз с момента возвращается один массив, содержащий все объекты выходные данные действия источника hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-311">For a sequence link, hello condition is only evaluated once since a single array is returned containing all objects output from hello source activity.</span></span>  <span data-ttu-id="e424c-312">По этой причине ссылку последовательности не может использоваться для фильтрации как ссылка конвейера, но просто определит ли выполняется следующее действие hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-312">Because of this, a sequence link cannot be used for filtering like a pipeline link but will simply determine whether or not hello next activity is run.</span></span> <span data-ttu-id="e424c-313">Возьмем для примера следующий набор действий в нашем runbook запустить ВМ hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-313">Take for example hello following set of activities in our Start VM runbook.</span></span><br> <span data-ttu-id="e424c-314">![Условная связь с последовательностями](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span><span class="sxs-lookup"><span data-stu-id="e424c-314">![Conditional Link with Sequences](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span></span><br>
<span data-ttu-id="e424c-315">Существуют три ссылки другую последовательность, проверке значений предоставлено tootwo runbook входных параметров, представляющих имя виртуальной Машины и имя группы ресурсов в порядке toodetermine, являющийся tootake соответствующее действие hello — запуск одной виртуальной Машины, запуск всех виртуальных машин в hello Группа ресурсов, или все виртуальные машины в подписке.</span><span class="sxs-lookup"><span data-stu-id="e424c-315">There are three different sequence links that are verifying values were provided tootwo runbook input parameters representing VM name and Resource Group name in order toodetermine which is hello appropriate action tootake - start a single VM, start all VMs in hello resouce group, or all VMs in a subscription.</span></span>  <span data-ttu-id="e424c-316">Для hello последовательности взаимосвязь Connect tooAzure и Get одной виртуальной Машины Вот логике условие hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-316">For hello sequence link between Connect tooAzure and Get single VM, here is hello condition logic:</span></span>

    <# 
    Both VMName and ResourceGroupName runbook input parameters have values 
    #>
    (
    (($VMName -ne $null) -and ($VMName.Length -gt 0))
    ) -and (
    (($ResourceGroupName -ne $null) -and ($ResourceGroupName.Length -gt 0))
    )

<span data-ttu-id="e424c-317">При использовании условных связей при условии hello будут фильтроваться hello данные, доступные из hello источника действие tooother действия в этой ветви.</span><span class="sxs-lookup"><span data-stu-id="e424c-317">When you use a conditional link, hello data available from hello source activity tooother activities in that branch will be filtered by hello condition.</span></span>  <span data-ttu-id="e424c-318">Если действие hello источника toomultiple ссылки, затем hello данных tooactivities, доступные в каждой ветви будет зависеть от условия hello в ссылке hello, подключающейся toothat ветви.</span><span class="sxs-lookup"><span data-stu-id="e424c-318">If an activity is hello source toomultiple links, then hello data available tooactivities in each branch will depend on hello condition in hello link connecting toothat branch.</span></span>

<span data-ttu-id="e424c-319">Здравствуйте, например, **AzureRmVm начала** действие в runbook hello ниже запускаются все виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="e424c-319">For example, hello **Start-AzureRmVm** activity in hello runbook below starts all virtual machines.</span></span>  <span data-ttu-id="e424c-320">Действие включает две условные связи.</span><span class="sxs-lookup"><span data-stu-id="e424c-320">It has two conditional links.</span></span>  <span data-ttu-id="e424c-321">Первый условных связей Hello используется выражение hello *$ActivityOutput [«Start-AzureRmVM»]. IsSuccessStatusCode - eq $true* toofilter Если hello начала AzureRmVm действие завершено успешно.</span><span class="sxs-lookup"><span data-stu-id="e424c-321">hello first conditional link uses hello expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true* toofilter if hello Start-AzureRmVm activity completed successfully.</span></span>  <span data-ttu-id="e424c-322">Во-вторых, Hello использует выражение hello *$ActivityOutput [«Start-AzureRmVM»]. IsSuccessStatusCode - ne $true* toofilter, если сбой hello AzureRmVm начала действия toostart hello виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="e424c-322">hello second uses hello expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true* toofilter if hello Start-AzureRmVm activity failed toostart hello virtual machine.</span></span>  

![Пример условной связи](media/automation-graphical-authoring-intro/runbook-conditional-links.png)

<span data-ttu-id="e424c-324">Любое действие, которое следует первую ссылку hello и использует действие hello выходных данных Get-AzureVM будет получена только hello виртуальных машин, которые были запущены в момент hello выполнения Get-AzureVM.</span><span class="sxs-lookup"><span data-stu-id="e424c-324">Any activity that follows hello first link and uses hello activity output from Get-AzureVM will only get hello virtual machines that were started at hello time that Get-AzureVM was run.</span></span>  <span data-ttu-id="e424c-325">Все действия, следующего hello Вторая ссылка будет получена только hello hello виртуальных машин, которые были остановлены во время hello выполнения Get-AzureVM.</span><span class="sxs-lookup"><span data-stu-id="e424c-325">Any activity that follows hello second link will only get hello hello virtual machines that were stopped at hello time that Get-AzureVM was run.</span></span>  <span data-ttu-id="e424c-326">Любое действие, по ссылке hello третий получит все виртуальные машины, независимо от их состояние выполнения.</span><span class="sxs-lookup"><span data-stu-id="e424c-326">Any activity following hello third link will get all virtual machines regardless of their running state.</span></span>

### <a name="junctions"></a><span data-ttu-id="e424c-327">Соединения</span><span class="sxs-lookup"><span data-stu-id="e424c-327">Junctions</span></span>
<span data-ttu-id="e424c-328">Соединение — это специальное действие, которое будет ожидать завершения всех входящих ветвей.</span><span class="sxs-lookup"><span data-stu-id="e424c-328">A junction is a special activity that will wait until all incoming branches have completed.</span></span>  <span data-ttu-id="e424c-329">Это позволяет toorun несколько действий в параллельном режиме и убедитесь, что все завершены перед переходом.</span><span class="sxs-lookup"><span data-stu-id="e424c-329">This allows you toorun multiple activities in parallel and ensure that all have completed before moving on.</span></span>

<span data-ttu-id="e424c-330">Хотя у соединения может быть неограниченное число входящих связей, конвейерной может быть только одна из них.</span><span class="sxs-lookup"><span data-stu-id="e424c-330">While a junction can have an unlimited number of incoming links, not more than one of those links can be a pipeline.</span></span>  <span data-ttu-id="e424c-331">Hello число входящих ссылок последовательности не ограничено.</span><span class="sxs-lookup"><span data-stu-id="e424c-331">hello number of incoming sequence links is not constrained.</span></span>  <span data-ttu-id="e424c-332">Будет разрешен toocreate hello соединения с несколькими Входящие ссылки конвейера и сохранить hello runbook, но он завершится ошибкой при запуске.</span><span class="sxs-lookup"><span data-stu-id="e424c-332">You will be allowed toocreate hello junction with multiple incoming pipeline links and save hello runbook, but it will fail when it is run.</span></span>

<span data-ttu-id="e424c-333">Hello пример является частью модуля runbook, который запускает набор виртуальных машин, хотя загрузка исправления toobe одновременно применять toothose машины.</span><span class="sxs-lookup"><span data-stu-id="e424c-333">hello example below is part of a runbook that starts a set of virtual machines while simultaneously downloading patches toobe applied toothose machines.</span></span>  <span data-ttu-id="e424c-334">Точку соединения является используется tooensure, оба процесса выполняются перед продолжением hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-334">A junction is used tooensure that both processes are completed before hello runbook continues.</span></span>

![Соединение](media/automation-graphical-authoring-intro/runbook-junction.png)

### <a name="cycles"></a><span data-ttu-id="e424c-336">Циклические процессы</span><span class="sxs-lookup"><span data-stu-id="e424c-336">Cycles</span></span>
<span data-ttu-id="e424c-337">Цикл — Если целевое действие связывается обратно tooits источника действия или tooanother действия, что в конечном итоге ссылающемся tooits источника.</span><span class="sxs-lookup"><span data-stu-id="e424c-337">A cycle is when a destination activity links back tooits source activity or tooanother activity that eventually links back tooits source.</span></span>  <span data-ttu-id="e424c-338">В настоящее время использование циклических процессов в графической разработке запрещено.</span><span class="sxs-lookup"><span data-stu-id="e424c-338">Cycles are currently not allowed in graphical authoring.</span></span>  <span data-ttu-id="e424c-339">Если Runbook содержит циклический процесс, он будет сохранен правильно, но при его выполнении произойдет ошибка.</span><span class="sxs-lookup"><span data-stu-id="e424c-339">If your runbook has a cycle, it will save properly but will receive an error when it runs.</span></span>

![Циклический процесс](media/automation-graphical-authoring-intro/runbook-cycle.png)

### <a name="sharing-data-between-activities"></a><span data-ttu-id="e424c-341">Обмен данными между действиями</span><span class="sxs-lookup"><span data-stu-id="e424c-341">Sharing data between activities</span></span>
<span data-ttu-id="e424c-342">Любые данные, которые выводятся из действия с исходящей ссылки записывается toohello *databus* для hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-342">Any data that is output by an activity with an outgoing link is written toohello *databus* for hello runbook.</span></span>  <span data-ttu-id="e424c-343">Любое действие в hello runbook можно использовать данные на значения параметров toopopulate databus hello или включить в коде скрипта.</span><span class="sxs-lookup"><span data-stu-id="e424c-343">Any activity in hello runbook can use data on hello databus toopopulate parameter values or include in script code.</span></span>  <span data-ttu-id="e424c-344">Действия могут обращаться к hello выходных данных любого предыдущего действия в рабочем процессе hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-344">An activity can access hello output of any previous activity in hello workflow.</span></span>     

<span data-ttu-id="e424c-345">Способ записи toohello databus hello данных зависит от типа hello ссылку на действие hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-345">How hello data is written toohello databus depends on hello type of link on hello activity.</span></span>  <span data-ttu-id="e424c-346">Для **конвейера**, hello данных выводится как кратные объекты.</span><span class="sxs-lookup"><span data-stu-id="e424c-346">For a **pipeline**, hello data is output as multiples objects.</span></span>  <span data-ttu-id="e424c-347">Для **последовательности** связывания, hello данных выводится в виде массива.</span><span class="sxs-lookup"><span data-stu-id="e424c-347">For a **sequence** link, hello data is output as an array.</span></span>  <span data-ttu-id="e424c-348">Если имеется только одно значение, оно будет выведено в виде одноэлементного массива.</span><span class="sxs-lookup"><span data-stu-id="e424c-348">If there is only one value, it will be output as a single element array.</span></span>

<span data-ttu-id="e424c-349">Получить доступ к данным на шине данных hello одним из двух способов.</span><span class="sxs-lookup"><span data-stu-id="e424c-349">You can access data on hello databus using one of two methods.</span></span>  <span data-ttu-id="e424c-350">Сначала использует **выходные данные действия** источника данных toopopulate параметр другого действия.</span><span class="sxs-lookup"><span data-stu-id="e424c-350">First is using an **Activity Output** data source toopopulate a parameter of another activity.</span></span>  <span data-ttu-id="e424c-351">Если вывод hello объекта, можно указать одно свойство.</span><span class="sxs-lookup"><span data-stu-id="e424c-351">If hello output is an object, you can specify a single property.</span></span>

![Выходные данные действия](media/automation-graphical-authoring-intro/activity-output-datasource-revised20165.png)

<span data-ttu-id="e424c-353">Вы также можете получить hello выходных данных действия в **PowerShell выражение** источника данных или из **скрипта рабочего процесса** действия с переменной ActivityOutput.</span><span class="sxs-lookup"><span data-stu-id="e424c-353">You can also retrieve hello output of an activity in a **PowerShell Expression** data source or from a **Workflow Script** activity with an ActivityOutput variable.</span></span>  <span data-ttu-id="e424c-354">Если вывод hello объекта, можно указать одно свойство.</span><span class="sxs-lookup"><span data-stu-id="e424c-354">If hello output is an object, you can specify a single property.</span></span>  <span data-ttu-id="e424c-355">Переменные ActivityOutput используют синтаксис hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-355">ActivityOutput variables use hello following syntax.</span></span>

    $ActivityOutput['Activity Label']
    $ActivityOutput['Activity Label'].PropertyName 

### <a name="checkpoints"></a><span data-ttu-id="e424c-356">Контрольные точки</span><span class="sxs-lookup"><span data-stu-id="e424c-356">Checkpoints</span></span>
<span data-ttu-id="e424c-357">В графическом модуле Runbook рабочего процесса PowerShell можно указать [контрольные точки](automation-powershell-workflow.md#checkpoints) , выбрав параметр *Создать контрольную точку модуля Runbook* для любого действия.</span><span class="sxs-lookup"><span data-stu-id="e424c-357">You can set [checkpoints](automation-powershell-workflow.md#checkpoints) in a Graphical PowerShell Workflow runbook by selecting *Checkpoint runbook* on any activity.</span></span>  <span data-ttu-id="e424c-358">В этом случае toobe контрольной точки, после выполняется действие hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-358">This causes a checkpoint toobe set after hello activity runs.</span></span>

![Контрольная точка](media/automation-graphical-authoring-intro/set-checkpoint.png)

<span data-ttu-id="e424c-360">Контрольные точки доступны только в графических модулях Runbook рабочего процесса PowerShell (соответственно, в графических модулях Runbook они недоступны).</span><span class="sxs-lookup"><span data-stu-id="e424c-360">Checkpoints are only enabled in Graphical PowerShell Workflow runbooks, it is not available in Graphical runbooks.</span></span>  <span data-ttu-id="e424c-361">Если hello runbook использует командлеты Azure, необходимо выполнить любое действие контрольными точками с Add-AzureRMAccount на случай hello runbook приостанавливается и перезапускает с этой контрольной точки на другому рабочему процессу.</span><span class="sxs-lookup"><span data-stu-id="e424c-361">If hello runbook uses Azure cmdlets, you should follow any checkpointed activity with an Add-AzureRMAccount in case hello runbook is suspended and restarts from this checkpoint on a different worker.</span></span> 

## <a name="authenticating-tooazure-resources"></a><span data-ttu-id="e424c-362">Проверка подлинности tooAzure ресурсы</span><span class="sxs-lookup"><span data-stu-id="e424c-362">Authenticating tooAzure resources</span></span>
<span data-ttu-id="e424c-363">Модули Runbook в автоматизации Azure, управления ресурсами Azure потребуется tooAzure проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="e424c-363">Runbooks in Azure Automation that manage Azure resources will require authentication tooAzure.</span></span>  <span data-ttu-id="e424c-364">Hello [учетная запись запуска от имени](automation-offering-get-started.md#creating-an-automation-account) tooaccess метод по умолчанию hello ресурсам диспетчера ресурсов Azure в подписке с Runbook автоматизации — (также назывались tooas субъекта-службы).</span><span class="sxs-lookup"><span data-stu-id="e424c-364">hello [Run As account](automation-offering-get-started.md#creating-an-automation-account) (also referred tooas a service principal) is hello default method tooaccess Azure Resource Manager resources in your subscription with Automation runbooks.</span></span>  <span data-ttu-id="e424c-365">Можно добавить этот графический runbook tooa функциональные возможности, добавив hello **AzureRunAsConnection** средства подключения, которая использует hello PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) командлет и [Добавить AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) холст toohello командлета.</span><span class="sxs-lookup"><span data-stu-id="e424c-365">You can add this functionality tooa graphical runbook by adding hello **AzureRunAsConnection** Connection asset, which is using hello PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) cmdlet, and [Add-AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) cmdlet toohello canvas.</span></span> <span data-ttu-id="e424c-366">Это продемонстрировано в следующий пример hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-366">This is illustrated in hello following example.</span></span><br><span data-ttu-id="e424c-367">![Действия проверки подлинности запуска от имени](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span><span class="sxs-lookup"><span data-stu-id="e424c-367">![Run As Authentication Activities](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span></span><br>
<span data-ttu-id="e424c-368">постоянное значение источника данных с именем AzureRunAsConnection настраивается Hello действия получения запуска как соединение (т. е. Get-AutomationConnection).</span><span class="sxs-lookup"><span data-stu-id="e424c-368">hello Get Run As Connection activity (i.e. Get-AutomationConnection), is configured with a constant value data source named AzureRunAsConnection.</span></span><br><span data-ttu-id="e424c-369">![Конфигурация подключения запуска от имени](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span><span class="sxs-lookup"><span data-stu-id="e424c-369">![Run As Connection Configuration](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span></span><br>
<span data-ttu-id="e424c-370">следующее действие Hello, Add-AzureRmAccount добавляет проверку подлинности hello запуска от имени учетной записи для использования в hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-370">hello next activity, Add-AzureRmAccount, adds hello authenticated Run As account for use in hello runbook.</span></span><br><span data-ttu-id="e424c-371">
![Набор параметров Add-AzureRmAccount](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span><span class="sxs-lookup"><span data-stu-id="e424c-371">
![Add-AzureRmAccount Parameter Set](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span></span><br>
<span data-ttu-id="e424c-372">Для параметров hello **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, и **TENANTID** требуется toospecify hello имя свойства hello в путь к полю hello поскольку Действие Hello выводит объект с несколькими свойствами.</span><span class="sxs-lookup"><span data-stu-id="e424c-372">For hello parameters **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, and **TENANTID** you will need toospecify hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>  <span data-ttu-id="e424c-373">В противном случае при выполнении hello runbook завершится ошибкой при tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="e424c-373">Otherwise when you execute hello runbook, it will fail attempting tooauthenticate.</span></span>  <span data-ttu-id="e424c-374">Это необходимых минимальное tooauthenticate runbook с hello Запуск от имени учетной записи.</span><span class="sxs-lookup"><span data-stu-id="e424c-374">This is what you need at a minimum tooauthenticate your runbook with hello Run As account.</span></span>

<span data-ttu-id="e424c-375">toomaintain обратной совместимости для подписчиков, создавшим автоматизации учетной записи с помощью [учетная запись пользователя Azure AD](automation-create-aduser-account.md) toomanage классического развертывания Azure или для ресурсов Azure Resource Manager hello tooauthenticate метод командлет Add-AzureAccount hello с [актива учетных данных](automation-credentials.md) , представляющий пользователя с toohello доступа учетной записи Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e424c-375">toomaintain backwards compatibility for subscribers who have created an Automation account using an [Azure AD User account](automation-create-aduser-account.md) toomanage Azure classic deployment or for Azure Resource Manager resources, hello method tooauthenticate is hello Add-AzureAccount cmdlet with a [credential asset](automation-credentials.md) that represents an Active Directory user with access toohello Azure account.</span></span>

<span data-ttu-id="e424c-376">Графический runbook tooa этой функции можно добавить путем добавления холст toohello актива учетных данных, с последующим действием Add-AzureAccount.</span><span class="sxs-lookup"><span data-stu-id="e424c-376">You can add this functionality tooa graphical runbook by adding a credential asset toohello canvas followed by an Add-AzureAccount activity.</span></span>  <span data-ttu-id="e424c-377">-AzureAccount используется действие hello учетных данных для входных данных.</span><span class="sxs-lookup"><span data-stu-id="e424c-377">Add-AzureAccount uses hello credential activity for its input.</span></span>  <span data-ttu-id="e424c-378">Это продемонстрировано в следующий пример hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-378">This is illustrated in hello following example.</span></span>

![Действия аутентификации](media/automation-graphical-authoring-intro/authentication-activities.png)

<span data-ttu-id="e424c-380">У вас есть tooauthenticate в начале hello hello runbook и после каждой контрольной точки.</span><span class="sxs-lookup"><span data-stu-id="e424c-380">You have tooauthenticate at hello start of hello runbook and after each checkpoint.</span></span>  <span data-ttu-id="e424c-381">Это означает добавление действия Add-AzureAccount после любого действия Checkpoint-Workflow.</span><span class="sxs-lookup"><span data-stu-id="e424c-381">This means adding an addition Add-AzureAccount activity after any Checkpoint-Workflow activity.</span></span> <span data-ttu-id="e424c-382">Добавление учетных данных не обязательно действия может использовать hello же</span><span class="sxs-lookup"><span data-stu-id="e424c-382">You do not need an addition credential activity since you can use hello same</span></span> 

![Выходные данные действия](media/automation-graphical-authoring-intro/authentication-activity-output.png)

## <a name="runbook-input-and-output"></a><span data-ttu-id="e424c-384">Входные и выходные данные Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-384">Runbook input and output</span></span>
### <a name="runbook-input"></a><span data-ttu-id="e424c-385">Входные данные Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-385">Runbook input</span></span>
<span data-ttu-id="e424c-386">Runbook может потребовать ввода, либо у пользователя при запуске runbook hello через портал Azure hello или из другого модуля runbook, если hello текущей реализации используется в качестве дочернего.</span><span class="sxs-lookup"><span data-stu-id="e424c-386">A runbook may require input either from a user when they start hello runbook through hello Azure portal or from another runbook if hello current one is used as a child.</span></span>
<span data-ttu-id="e424c-387">Например если у вас есть runbook, который создает виртуальную машину, может потребоваться tooprovide сведения, такие как имя hello hello виртуальной машины и другие свойства каждый раз при запуске hello runbook.</span><span class="sxs-lookup"><span data-stu-id="e424c-387">For example, if you have a runbook that creates a virtual machine, you may need tooprovide information such as hello name of hello virtual machine and other properties each time you start hello runbook.</span></span>  

<span data-ttu-id="e424c-388">Для приема входных данных Runbook можно определить один или несколько входных параметров.</span><span class="sxs-lookup"><span data-stu-id="e424c-388">You accept input for a runbook by defining one or more input parameters.</span></span>  <span data-ttu-id="e424c-389">Укажите значения для этих параметров запуска runbook hello каждый раз.</span><span class="sxs-lookup"><span data-stu-id="e424c-389">You provide values for these parameters each time hello runbook is started.</span></span>  <span data-ttu-id="e424c-390">При запуске модуля runbook с hello Azure portal предложит вам tooprovide значения для hello каждого hello runbook входных параметров.</span><span class="sxs-lookup"><span data-stu-id="e424c-390">When you start a runbook with hello Azure portal, it will prompt you tooprovide values for hello each of hello runbook's input parameters.</span></span>

<span data-ttu-id="e424c-391">Входные параметры для модуля runbook можно открыть, щелкнув hello **ввод и вывод** кнопку на панели инструментов runbook hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-391">You can access input parameters for a runbook by clicking hello **Input and output** button on hello runbook toolbar.</span></span>  

![Входные и выходные данные Runbook](media/automation-graphical-authoring-intro/runbook-edit-input-output.png) 

<span data-ttu-id="e424c-393">При этом откроется hello **входной и выходной** элемента управления, в котором можно изменить существующий входной параметр или создайте новую, нажав кнопку **добавить входные данные**.</span><span class="sxs-lookup"><span data-stu-id="e424c-393">This opens hello **Input and Output** control where you can edit an existing input parameter or create a new one by clicking **Add input**.</span></span> 

![Добавить входные данные](media/automation-graphical-authoring-intro/runbook-edit-add-input.png)

<span data-ttu-id="e424c-395">Каждый входной параметр определяется свойствами hello в hello в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="e424c-395">Each input parameter is defined by hello properties in hello following table.</span></span>

| <span data-ttu-id="e424c-396">Свойство</span><span class="sxs-lookup"><span data-stu-id="e424c-396">Property</span></span> | <span data-ttu-id="e424c-397">Описание</span><span class="sxs-lookup"><span data-stu-id="e424c-397">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="e424c-398">Имя</span><span class="sxs-lookup"><span data-stu-id="e424c-398">Name</span></span> |<span data-ttu-id="e424c-399">Hello уникальное имя параметра hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-399">hello unique name of hello parameter.</span></span>  <span data-ttu-id="e424c-400">Оно может содержать только буквы или цифры и не может содержать пробел.</span><span class="sxs-lookup"><span data-stu-id="e424c-400">This can only contain alpha numeric characters and cannot contain a space.</span></span> |
| <span data-ttu-id="e424c-401">Описание</span><span class="sxs-lookup"><span data-stu-id="e424c-401">Description</span></span> |<span data-ttu-id="e424c-402">Необязательное описание для входного параметра hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-402">An optional description for hello input parameter.</span></span> |
| <span data-ttu-id="e424c-403">Тип</span><span class="sxs-lookup"><span data-stu-id="e424c-403">Type</span></span> |<span data-ttu-id="e424c-404">Тип данных для значения параметра hello ожидалось.</span><span class="sxs-lookup"><span data-stu-id="e424c-404">Data type expected for hello parameter value.</span></span>  <span data-ttu-id="e424c-405">Hello портал Azure выведет соответствующий элемент управления для типа данных hello для каждого параметра при выполнении запроса на ввод.</span><span class="sxs-lookup"><span data-stu-id="e424c-405">hello Azure portal will provide an appropriate control for hello data type for each parameter when prompting for input.</span></span> |
| <span data-ttu-id="e424c-406">Обязательно</span><span class="sxs-lookup"><span data-stu-id="e424c-406">Mandatory</span></span> |<span data-ttu-id="e424c-407">Указывает, должно быть указано значение для параметра hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-407">Specifies whether a value must be provided for hello parameter.</span></span>  <span data-ttu-id="e424c-408">не удается запустить Hello runbook, если не указано значение для каждого обязательный параметр, который не имеет определенное значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e424c-408">hello runbook cannot be started if you do not provide a value for each mandatory parameter that does not have a default value defined.</span></span> |
| <span data-ttu-id="e424c-409">По умолчанию</span><span class="sxs-lookup"><span data-stu-id="e424c-409">Default Value</span></span> |<span data-ttu-id="e424c-410">Указывает, какое значение используется для параметра hello, если значение не указано.</span><span class="sxs-lookup"><span data-stu-id="e424c-410">Specifies what value is used for hello parameter if one is not provided.</span></span>  <span data-ttu-id="e424c-411">Это может быть NULL или какое-нибудь определенное значение.</span><span class="sxs-lookup"><span data-stu-id="e424c-411">This can either be Null or a specific value.</span></span> |

### <a name="runbook-output"></a><span data-ttu-id="e424c-412">Выходные данные Runbook</span><span class="sxs-lookup"><span data-stu-id="e424c-412">Runbook output</span></span>
<span data-ttu-id="e424c-413">Данные, созданные действием, у которого нет исходящей ссылки будут добавлены toohello [выходные данные модуля runbook hello](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span><span class="sxs-lookup"><span data-stu-id="e424c-413">Data created by any activity that does not have an outgoing link will be added toohello [output of hello runbook](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span></span>  <span data-ttu-id="e424c-414">выходные данные Hello сохраняется вместе с hello задание runbook и при доступных tooa родительского модуля hello runbook используется в качестве дочернего.</span><span class="sxs-lookup"><span data-stu-id="e424c-414">hello output is saved with hello runbook job and is available tooa parent runbook when hello runbook is used as a child.</span></span>  

## <a name="powershell-expressions"></a><span data-ttu-id="e424c-415">Выражения PowerShell</span><span class="sxs-lookup"><span data-stu-id="e424c-415">PowerShell expressions</span></span>
<span data-ttu-id="e424c-416">Одно из преимуществ hello графический разработки предоставляет возможность hello toobuild runbook с минимальными знаниями PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e424c-416">One of hello advantages of graphical authoring is providing you with hello ability toobuild a runbook with minimal knowledge of PowerShell.</span></span>  <span data-ttu-id="e424c-417">В настоящее время, следует соблюдать tooknow немного PowerShell на то, что и для заполнения определенных [значения параметров](#activities) и для параметра [условий связываются](#links-and-workflow).</span><span class="sxs-lookup"><span data-stu-id="e424c-417">Currently, you do need tooknow a bit of PowerShell though for populating certain [parameter values](#activities) and for setting [link conditions](#links-and-workflow).</span></span>  <span data-ttu-id="e424c-418">Этот раздел содержит краткое введение tooPowerShell выражения для тех пользователей, которые не знакомы с ним.</span><span class="sxs-lookup"><span data-stu-id="e424c-418">This section provides a quick introduction tooPowerShell expressions for those users who may not be familiar with it.</span></span>  <span data-ttu-id="e424c-419">Полные сведения о PowerShell можно найти в статье [Создание сценариев с помощью Windows PowerShell](http://technet.microsoft.com/library/bb978526.aspx).</span><span class="sxs-lookup"><span data-stu-id="e424c-419">Full details of PowerShell are available at [Scripting with Windows PowerShell](http://technet.microsoft.com/library/bb978526.aspx).</span></span> 

### <a name="powershell-expression-data-source"></a><span data-ttu-id="e424c-420">Выражение PowerShell как источник данных </span><span class="sxs-lookup"><span data-stu-id="e424c-420">PowerShell expression data source</span></span>
<span data-ttu-id="e424c-421">Можно использовать выражение PowerShell в качестве источника toopopulate hello значением [параметр действия](#activities) с результатами hello кода PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e424c-421">You can use a PowerShell expression as a data source toopopulate hello value of an [activity parameter](#activities) with hello results of some PowerShell code.</span></span>  <span data-ttu-id="e424c-422">Это может быть одна строка кода, которая выполняет некоторые простые функции, или несколько строк, выполняющие определенную сложную логику.</span><span class="sxs-lookup"><span data-stu-id="e424c-422">This could be a single line of code that performs some simple function or multiple lines that perform some complex logic.</span></span>  <span data-ttu-id="e424c-423">Любые выходные данные команды, не назначенный tooa переменная является значение параметра toohello выходных данных.</span><span class="sxs-lookup"><span data-stu-id="e424c-423">Any output from a command that is not assigned tooa variable is output toohello parameter value.</span></span> 

<span data-ttu-id="e424c-424">Например следующую команду hello отобразятся hello текущую дату.</span><span class="sxs-lookup"><span data-stu-id="e424c-424">For example, hello following command would output hello current date.</span></span> 

    Get-Date

<span data-ttu-id="e424c-425">Hello следующие команды построения строки из hello текущую дату и присвоить его переменной tooa.</span><span class="sxs-lookup"><span data-stu-id="e424c-425">hello following commands build a string from hello current date and assign it tooa variable.</span></span>  <span data-ttu-id="e424c-426">Hello содержимое переменной hello отправляются toohello выходных данных</span><span class="sxs-lookup"><span data-stu-id="e424c-426">hello contents of hello variable are then sent toohello output</span></span> 

    $string = "hello current date is " + (Get-Date)
    $string

<span data-ttu-id="e424c-427">Hello следующие команды оценки hello текущую дату и возвращающие строку, указывающее, доступен ли hello текущий день выходным или день недели.</span><span class="sxs-lookup"><span data-stu-id="e424c-427">hello following commands evaluate hello current date and return a string indicating whether hello current day is a weekend or weekday.</span></span> 

    $date = Get-Date
    if (($date.DayOfWeek = "Saturday") -or ($date.DayOfWeek = "Sunday")) { "Weekend" }
    else { "Weekday" }


### <a name="activity-output"></a><span data-ttu-id="e424c-428">Выходные данные действия</span><span class="sxs-lookup"><span data-stu-id="e424c-428">Activity output</span></span>
<span data-ttu-id="e424c-429">toouse hello выходных данных из предыдущего действия в runbook hello, использовать переменную hello $ActivityOutput с hello, используя синтаксис.</span><span class="sxs-lookup"><span data-stu-id="e424c-429">toouse hello output from a previous activity in hello runbook, use hello $ActivityOutput variable with hello following syntax.</span></span>

    $ActivityOutput['Activity Label'].PropertyName

<span data-ttu-id="e424c-430">Например, имеется действие, свойства, которое требует hello имя виртуальной машины в этом случае можно использовать следующее выражение hello.</span><span class="sxs-lookup"><span data-stu-id="e424c-430">For example, you may have an activity with a property that requires hello name of a virtual machine in which case you could use hello following expression.</span></span>

    $ActivityOutput['Get-AzureVm'].Name

<span data-ttu-id="e424c-431">Если вернет hello свойство, которое требуется hello объект виртуальной машины, а не только свойства, то можно с помощью весь объект hello hello синтаксис.</span><span class="sxs-lookup"><span data-stu-id="e424c-431">If hello property that required hello virtual machine object instead of just a property, then you would return hello entire object using hello following syntax.</span></span>

    $ActivityOutput['Get-AzureVm']

<span data-ttu-id="e424c-432">Можно также использовать результаты hello действия в более сложных выражений, например следующие hello, объединяющем имя виртуальной машины toohello текста.</span><span class="sxs-lookup"><span data-stu-id="e424c-432">You can also use hello output of an activity in a more complex expression such as hello following that concatenates text toohello virtual machine name.</span></span>

    "hello computer name is " + $ActivityOutput['Get-AzureVm'].Name


### <a name="conditions"></a><span data-ttu-id="e424c-433">Условия</span><span class="sxs-lookup"><span data-stu-id="e424c-433">Conditions</span></span>
<span data-ttu-id="e424c-434">Используйте [операторы сравнения](https://technet.microsoft.com/library/hh847759.aspx) toocompare значения или определения, если значение совпадает с заданным шаблоном.</span><span class="sxs-lookup"><span data-stu-id="e424c-434">Use [comparison operators](https://technet.microsoft.com/library/hh847759.aspx) toocompare values or determine if a value matches a specified pattern.</span></span>  <span data-ttu-id="e424c-435">Оператор сравнения возвращает значение $true или $false.</span><span class="sxs-lookup"><span data-stu-id="e424c-435">A comparison returns a value of either $true or $false.</span></span>

<span data-ttu-id="e424c-436">Например, следующие условия hello определяет ли hello виртуальной машины из действия с именем *Get-AzureVM* в настоящее время *остановлена*.</span><span class="sxs-lookup"><span data-stu-id="e424c-436">For example, hello following condition determines whether hello virtual machine from an activity named *Get-AzureVM* is currently *stopped*.</span></span> 

    $ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped"

<span data-ttu-id="e424c-437">Hello следующие условия проверки ли hello же виртуальная машина находится в любое состояние, отличное от *остановлена*.</span><span class="sxs-lookup"><span data-stu-id="e424c-437">hello following condition checks whether hello same virtual machine is in any state other than *stopped*.</span></span>

    $ActivityOutput["Get-AzureVM"].PowerState –ne "Stopped"

<span data-ttu-id="e424c-438">Можно объединить несколько условий с помощью [логического оператора](https://technet.microsoft.com/library/hh847789.aspx), например **И** или **ИЛИ**.</span><span class="sxs-lookup"><span data-stu-id="e424c-438">You can join multiple conditions using a [logical operator](https://technet.microsoft.com/library/hh847789.aspx) such as **-and** or **-or**.</span></span>  <span data-ttu-id="e424c-439">Например, следующие hello условия проверки ли hello одной виртуальной машине в предыдущем примере hello находится в состоянии *остановлена* или *остановка*.</span><span class="sxs-lookup"><span data-stu-id="e424c-439">For example, hello following condition checks whether hello same virtual machine in hello previous example is in a state of *stopped* or *stopping*.</span></span>

    ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped") -or ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopping") 


### <a name="hashtables"></a><span data-ttu-id="e424c-440">Хэш-таблицы</span><span class="sxs-lookup"><span data-stu-id="e424c-440">Hashtables</span></span>
<span data-ttu-id="e424c-441">[Хэш-таблицы](http://technet.microsoft.com/library/hh847780.aspx) представляют собой пары "имя-значение", которые удобны для получения набора значений.</span><span class="sxs-lookup"><span data-stu-id="e424c-441">[Hashtables](http://technet.microsoft.com/library/hh847780.aspx) are name/value pairs that are useful for returning a set of values.</span></span>  <span data-ttu-id="e424c-442">Свойства для определенных действий могут ожидать хэш-таблицу вместо простого значения.</span><span class="sxs-lookup"><span data-stu-id="e424c-442">Properties for certain activities may expect a hashtable instead of a simple value.</span></span>  <span data-ttu-id="e424c-443">Можно также отобразить, хэш-таблица называется tooas словарь.</span><span class="sxs-lookup"><span data-stu-id="e424c-443">You may also see as hashtable referred tooas a dictionary.</span></span> 

<span data-ttu-id="e424c-444">Привет, используя синтаксис для создания хэш-таблицы.</span><span class="sxs-lookup"><span data-stu-id="e424c-444">You create a hashtable with hello following syntax.</span></span>  <span data-ttu-id="e424c-445">Хэш-таблица может содержать любое количество записей, каждая из которых определяется именем и значением.</span><span class="sxs-lookup"><span data-stu-id="e424c-445">A hashtable can contain any number of entries but each is defined by a name and value.</span></span>

    @{ <name> = <value>; [<name> = <value> ] ...}

<span data-ttu-id="e424c-446">Например hello следующее выражение создает toobe хэш-таблицы, используемое в источнике данных hello параметра действия, которое требуется хэш-таблицу со значениями для поиска в Интернете.</span><span class="sxs-lookup"><span data-stu-id="e424c-446">For example, hello following expression creates a hashtable toobe used in hello data source for an activity parameter that expected a hashtable with values for an internet search.</span></span>

    $query = "Azure Automation"
    $count = 10
    $h = @{'q'=$query; 'lr'='lang_ja';  'count'=$Count}
    $h

<span data-ttu-id="e424c-447">Hello следующий пример использует выходные данные действие с именем *получить Twitter подключения* toopopulate хэш-таблицы.</span><span class="sxs-lookup"><span data-stu-id="e424c-447">hello following example uses output from an activity called *Get Twitter Connection* toopopulate a hashtable.</span></span>

    @{'ApiKey'=$ActivityOutput['Get Twitter Connection'].ConsumerAPIKey;
      'ApiSecret'=$ActivityOutput['Get Twitter Connection'].ConsumerAPISecret;
      'AccessToken'=$ActivityOutput['Get Twitter Connection'].AccessToken;
      'AccessTokenSecret'=$ActivityOutput['Get Twitter Connection'].AccessTokenSecret}



## <a name="next-steps"></a><span data-ttu-id="e424c-448">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="e424c-448">Next Steps</span></span>
* <span data-ttu-id="e424c-449">tooget к работе с PowerShell модули Runbook рабочего процесса, в разделе [Мой первый runbook рабочего процесса PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="e424c-449">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 
* <span data-ttu-id="e424c-450">tooget к работе с графический Runbook в разделе [Мой первый графический runbook](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="e424c-450">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="e424c-451">в разделе tooknow Дополнительные сведения о типах runbook, их преимущества и ограничения, [типов runbook службы автоматизации Azure](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="e424c-451">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="e424c-452">toounderstand tooauthenticate с помощью автоматизации Запуск от имени учетной записи, "hello" в статье [Настройка Azure учетная запись запуска от имени](automation-sec-configure-azure-runas-account.md)</span><span class="sxs-lookup"><span data-stu-id="e424c-452">toounderstand how tooauthenticate using hello Automation Run As account, see [Configure Azure Run As Account](automation-sec-configure-azure-runas-account.md)</span></span>

