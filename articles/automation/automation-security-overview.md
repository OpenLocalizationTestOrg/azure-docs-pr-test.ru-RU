---
title: "Общие сведения о проверке подлинности в службе автоматизации Azure | Документация Майкрософт"
description: "В этой статье содержатся общие сведения об автоматическом обеспечении безопасности с использованием разных методов проверки подлинности, доступных для учетных записей службы автоматизации в службе автоматизации Azure."
services: automation
documentationcenter: 
author: MGoedtel
manager: jwhit
editor: tysonn
keywords: "безопасность в службе автоматизации, обеспечение безопасности в службе автоматизации, проверка подлинности в службе автоматизации"
ms.assetid: 4a6bc2f5-c5a2-4dfb-b10d-7950d750dee8
ms.service: automation
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/01/2017
ms.author: magoedte
ROBOTS: NOINDEX
ms.openlocfilehash: 91c98f8dda6f24c2db2730a5e0df5ea43e151c61
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="introduction-to-authentication-in-azure-automation"></a><span data-ttu-id="2e0d5-104">Общие сведения о проверке подлинности в службе автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="2e0d5-104">Introduction to authentication in Azure Automation</span></span>  
<span data-ttu-id="2e0d5-105">С помощью службы автоматизации Azure можно автоматизировать задачи, выполняемые с ресурсами Azure (локально), а также с ресурсами других поставщиков облачных служб, например Amazon Web Services (AWS).</span><span class="sxs-lookup"><span data-stu-id="2e0d5-105">Azure Automation allows you to automate tasks against resources in Azure, on-premises, and with other cloud providers such as Amazon Web Services (AWS).</span></span>  <span data-ttu-id="2e0d5-106">Для выполнения необходимых действий модуль Runbook должен иметь разрешения на безопасный доступ к ресурсам с минимальными правами, требуемыми в рамках подписки.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-106">In order for a runbook to perform its required actions, it must have permissions to securely access the resources with the minimal rights required within the subscription.</span></span>

<span data-ttu-id="2e0d5-107">В этой статье рассматриваются разные методы проверки подлинности, поддерживаемые службой автоматизации Azure, а также объясняется, как начать работу с одной или несколькими средами, которыми вы хотите управлять.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-107">This article will cover the various authentication scenarios supported by Azure Automation and will show you how to get started based on the environment or environments you need to manage.</span></span>  

## <a name="automation-account-overview"></a><span data-ttu-id="2e0d5-108">Общие сведения об учетной записи службы автоматизации</span><span class="sxs-lookup"><span data-stu-id="2e0d5-108">Automation Account overview</span></span>
<span data-ttu-id="2e0d5-109">При первом запуске службы автоматизации Azure необходимо создать по крайней мере одну учетную запись службы автоматизации.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-109">When you start Azure Automation for the first time, you must create at least one Automation account.</span></span> <span data-ttu-id="2e0d5-110">Учетные записи службы автоматизации позволяют изолировать ресурсы вашей службы автоматизации (модули Runbook, ресурсы и конфигурации) от ресурсов, содержащихся в других учетных записях службы автоматизации.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-110">Automation accounts allow you to isolate your Automation resources (runbooks, assets, configurations) from the resources contained in other Automation accounts.</span></span> <span data-ttu-id="2e0d5-111">Учетные записи службы автоматизации можно использовать, чтобы разделить ресурсы на отдельные логические среды.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-111">You can use Automation accounts to separate resources into separate logical environments.</span></span> <span data-ttu-id="2e0d5-112">Например, для разработки можно использовать одну учетную запись, для рабочей среды — другую, а для локальной среды — третью.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-112">For example, you might use one account for development, another for production, and another for your on-premises environment.</span></span>  <span data-ttu-id="2e0d5-113">Учетная запись службы автоматизации Azure отличается от учетной записи Майкрософт или учетных записей, созданных в рамках подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-113">An Azure Automation account is different from your Microsoft account or accounts created in your Azure subscription.</span></span>

<span data-ttu-id="2e0d5-114">Ресурсы каждой учетной записи службы автоматизации связаны с одним регионом Azure, но учетные записи службы автоматизации могут управлять всеми ресурсами в вашей подписке.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-114">The Automation resources for each Automation account are associated with a single Azure region, but Automation accounts can manage all the resources in your subscription.</span></span> <span data-ttu-id="2e0d5-115">Главной причиной создания учетных записей службы автоматизации в разных регионах может быть наличие политик, требующих изолировать данные и ресурсы в определенном регионе.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-115">The main reason to create Automation accounts in different regions would be if you have policies that require data and resources to be isolated to a specific region.</span></span>

> [!NOTE]
> <span data-ttu-id="2e0d5-116">Учетные записи службы автоматизации и содержащиеся в них ресурсы, которые создаются с помощью портала Azure, недоступны на классическом портале Azure.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-116">Automation accounts, and the resources they contain that are created in the Azure portal, cannot be accessed in the Azure classic portal.</span></span> <span data-ttu-id="2e0d5-117">Если требуется управлять этими учетными записями или их ресурсами с помощью Windows PowerShell, необходимо использовать модули диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-117">If you want to manage these accounts or their resources with Windows PowerShell, you must use the Azure Resource Manager modules.</span></span>
>

<span data-ttu-id="2e0d5-118">Все задачи, выполняемые с ресурсами с использованием Azure Resource Manager и командлетов Azure в службе автоматизации Azure, должны пройти проверку подлинности в Azure с помощью корпоративных учетных данных (удостоверения Azure Active Directory).</span><span class="sxs-lookup"><span data-stu-id="2e0d5-118">All of the tasks that you perform against resources using Azure Resource Manager and the Azure cmdlets in Azure Automation must authenticate to Azure using Azure Active Directory organizational identity credential-based authentication.</span></span>  <span data-ttu-id="2e0d5-119">Изначально использовался метод проверки подлинности на основе сертификата в режиме Azure Service Management, но он сопровождался сложной настройкой.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-119">Certificate-based  authentication was the original authentication method with Azure Service Management mode, but it was complicated to setup.</span></span>  <span data-ttu-id="2e0d5-120">С 2014 года в Azure снова используется проверка подлинности пользователя Azure AD. Это не только упростило настройку учетной записи для проверки подлинности, но и позволило выполнять эту процедуру в неинтерактивном режиме с использованием одной учетной записи Azure, применимой как в классических ресурсах, так и в ресурсах Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-120">Authenticating to Azure with Azure AD user was introduced back in 2014 to not only simplify the process to configure an Authentication account, but also support the ability to non-interactively authenticate to Azure with a single user account that worked with both Azure Resource Manager and classic resources.</span></span>   

<span data-ttu-id="2e0d5-121">Сейчас при создании новой учетной записи службы автоматизации на портале Azure автоматически создаются следующие учетные записи:</span><span class="sxs-lookup"><span data-stu-id="2e0d5-121">Currently when you create a new Automation account in the Azure portal, it automatically creates:</span></span>

* <span data-ttu-id="2e0d5-122">Учетная запись запуска от имени, которая создает субъект-службу в Azure Active Directory и сертификат, а также назначает контроль доступа на основе роли участника. Будет использоваться для управления ресурсами Resource Manager с помощью модулей Runbook.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-122">Run As account which creates a new service principal in Azure Active Directory, a certificate, and assigns the Contributor role-based access control (RBAC), which will be used to manage Resource Manager resources using runbooks.</span></span>
* <span data-ttu-id="2e0d5-123">Классическая учетная запись запуска от имени. Создается путем отправки сертификата управления. Будет использоваться для администрирования службы управления службами Azure или классических ресурсов с помощью модулей Runbook.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-123">Classic Run As account by uploading a management certificate, which will be used to manage Azure Service Management or classic resources using runbooks.</span></span>  

<span data-ttu-id="2e0d5-124">В режиме Azure Resource Manager контроль доступа на основе ролей можно использовать для предоставления разрешений учетной записи пользователя Azure AD и учетной записи запуска от имени, а также для проверки подлинности такого субъекта-службы.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-124">Role-based access control is available with Azure Resource Manager to grant permitted actions to an Azure AD user account and Run As account, and authenticate that service principal.</span></span>  <span data-ttu-id="2e0d5-125">Дополнительные сведения о разработке модели управления разрешениями в службе автоматизации см. в статье [Управление доступом на основе ролей в службе автоматизации Azure](automation-role-based-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="2e0d5-125">Please read [Role-based access control in Azure Automation article](automation-role-based-access-control.md) for further information to help develop your model for managing Automation permissions.</span></span>  

<span data-ttu-id="2e0d5-126">Модули Runbook, запущенные в гибридной рабочей роли Runbook в центре обработки данных или в вычислительных службах AWS, не могут использовать метод, который обычно используется для модулей Runbook при проверке подлинности в ресурсах Azure.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-126">Runbooks running on a Hybrid Runbook Worker in your datacenter or against computing services in AWS cannot use the same method that is typically used for runbooks authenticating to Azure resources.</span></span>  <span data-ttu-id="2e0d5-127">Это происходит потому, что такие ресурсы работают за пределами Azure и для них требуются отдельные учетные данные безопасности, определяемые службой автоматизации для проверки подлинности ресурсов, доступ к которым они получают локально.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-127">This is because those resources are running outside of Azure and therefore, will require their own security credentials defined in Automation to authenticate to resources that they will access locally.</span></span>  

## <a name="authentication-methods"></a><span data-ttu-id="2e0d5-128">Методы проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="2e0d5-128">Authentication methods</span></span>
<span data-ttu-id="2e0d5-129">В следующей таблице перечислены разные методы проверки подлинности для каждой среды, поддерживаемой службой автоматизации Azure, а также статьи, в которых описывается настройка проверки подлинности для модулей Runbook.</span><span class="sxs-lookup"><span data-stu-id="2e0d5-129">The following table summarizes the different authentication methods for each environment supported by Azure Automation and the article describing how to setup authentication for your runbooks.</span></span>

| <span data-ttu-id="2e0d5-130">Метод</span><span class="sxs-lookup"><span data-stu-id="2e0d5-130">Method</span></span> | <span data-ttu-id="2e0d5-131">Среда</span><span class="sxs-lookup"><span data-stu-id="2e0d5-131">Environment</span></span> | <span data-ttu-id="2e0d5-132">Статья</span><span class="sxs-lookup"><span data-stu-id="2e0d5-132">Article</span></span> |
| --- | --- | --- |
| <span data-ttu-id="2e0d5-133">Учетная запись пользователя Azure AD</span><span class="sxs-lookup"><span data-stu-id="2e0d5-133">Azure AD User Account</span></span> |<span data-ttu-id="2e0d5-134">Диспетчер ресурсов Azure и управление службами Azure</span><span class="sxs-lookup"><span data-stu-id="2e0d5-134">Azure Resource Manager and Azure Service Management</span></span> |[<span data-ttu-id="2e0d5-135">Проверка подлинности модулей Runbook с помощью Azure Service Management и Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2e0d5-135">Authenticate Runbooks with Azure AD User account</span></span>](automation-create-aduser-account.md) |
| <span data-ttu-id="2e0d5-136">Учетная запись запуска от имени Azure</span><span class="sxs-lookup"><span data-stu-id="2e0d5-136">Azure Run As Account</span></span> |<span data-ttu-id="2e0d5-137">Диспетчер ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="2e0d5-137">Azure Resource Manager</span></span> |[<span data-ttu-id="2e0d5-138">Проверка подлинности модулей Runbook в Azure с помощью учетной записи запуска от имени</span><span class="sxs-lookup"><span data-stu-id="2e0d5-138">Authenticate Runbooks with Azure Run As account</span></span>](automation-sec-configure-azure-runas-account.md) |
| <span data-ttu-id="2e0d5-139">Классическая учетная запись запуска от имени Azure</span><span class="sxs-lookup"><span data-stu-id="2e0d5-139">Azure Classic Run As Account</span></span> |<span data-ttu-id="2e0d5-140">Управление службами Azure</span><span class="sxs-lookup"><span data-stu-id="2e0d5-140">Azure Service Management</span></span> |[<span data-ttu-id="2e0d5-141">Проверка подлинности модулей Runbook в Azure с помощью учетной записи запуска от имени</span><span class="sxs-lookup"><span data-stu-id="2e0d5-141">Authenticate Runbooks with Azure Run As account</span></span>](automation-sec-configure-azure-runas-account.md) |
| <span data-ttu-id="2e0d5-142">Проверка подлинности Windows</span><span class="sxs-lookup"><span data-stu-id="2e0d5-142">Windows Authentication</span></span> |<span data-ttu-id="2e0d5-143">Локальный центр обработки данных</span><span class="sxs-lookup"><span data-stu-id="2e0d5-143">On-Premises Datacenter</span></span> |[<span data-ttu-id="2e0d5-144">Гибридные компоненты Runbook Worker в службе автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="2e0d5-144">Authenticate Runbooks for Hybrid Runbook Workers</span></span>](automation-hybrid-runbook-worker.md) |
| <span data-ttu-id="2e0d5-145">Учетные данные AWS</span><span class="sxs-lookup"><span data-stu-id="2e0d5-145">AWS Credentials</span></span> |<span data-ttu-id="2e0d5-146">Amazon Web Services</span><span class="sxs-lookup"><span data-stu-id="2e0d5-146">Amazon Web Services</span></span> |[<span data-ttu-id="2e0d5-147">Authenticate Runbooks with Amazon Web Services (AWS) (Проверка подлинности модулей Runbook с помощью Amazon Web Services)</span><span class="sxs-lookup"><span data-stu-id="2e0d5-147">Authenticate Runbooks with Amazon Web Services (AWS)</span></span>](automation-config-aws-account.md) |
