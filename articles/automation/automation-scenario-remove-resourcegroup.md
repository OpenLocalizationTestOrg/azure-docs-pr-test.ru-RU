---
title: "Удаление группы ресурсов aaaAutomate | Документы Microsoft"
description: "Версия рабочего процесса PowerShell сценария автоматизации Azure, включая модули Runbook tooremove группы всех ресурсов в вашей подписке."
services: automation
documentationcenter: 
author: MGoedtel
manager: jwhit
editor: 
ms.assetid: b848e345-fd5d-4b9d-bc57-3fe41d2ddb5c
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 09/26/2016
ms.author: magoedte
ms.openlocfilehash: d7ff8064842385d57b0eebdf7b263150c958255f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automate-removal-of-resource-groups"></a><span data-ttu-id="4e6ce-103">Сценарий службы автоматизации Azure: автоматизация удаления групп ресурсов</span><span class="sxs-lookup"><span data-stu-id="4e6ce-103">Azure Automation scenario - automate removal of resource groups</span></span>
<span data-ttu-id="4e6ce-104">Многие клиенты создают несколько групп ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-104">Many customers create more than one resource group.</span></span> <span data-ttu-id="4e6ce-105">Одни можно использовать для управления рабочими приложениями, а другие — в качестве промежуточных сред или сред разработки и тестирования.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-105">Some might be used for managing production applications, and others might be used as development, testing, and staging environments.</span></span> <span data-ttu-id="4e6ce-106">Автоматизировать развертывание hello эти ресурсы — это одно, но может toodecommission группу ресурсов одним щелчком кнопки «hello», будет другой.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-106">Automating hello deployment of these resources is one thing, but being able toodecommission a resource group with a click of hello button is another.</span></span> <span data-ttu-id="4e6ce-107">С помощью службы автоматизации Azure можно упростить эту распространенную задачу управления.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-107">You can streamline this common management task by using Azure Automation.</span></span> <span data-ttu-id="4e6ce-108">Это полезно, если вы работаете с подпиской Azure, предельная через предложение для участников как MSDN или hello программы Microsoft Partner Network Cloud Essentials.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-108">This is helpful if you are working with an Azure subscription that has a spending limit through a member offer like MSDN or hello Microsoft Partner Network Cloud Essentials program.</span></span>

<span data-ttu-id="4e6ce-109">Этот сценарий основан на модуле runbook PowerShell и является спроектированный tooremove одну или несколько групп ресурсов, определяющие из подписки.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-109">This scenario is based on a PowerShell runbook and is designed tooremove one or more resource groups that you specify from your subscription.</span></span> <span data-ttu-id="4e6ce-110">Hello по умолчанию hello runbook, tootest, прежде чем продолжить.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-110">hello default setting of hello runbook is tootest before proceeding.</span></span> <span data-ttu-id="4e6ce-111">Это гарантирует, что не удалить случайно hello группы ресурсов, прежде чем вы будете готовы toocomplete этой процедуры.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-111">This ensures that you don't accidentally delete hello resource group before you're ready toocomplete this procedure.</span></span>   

## <a name="getting-hello-scenario"></a><span data-ttu-id="4e6ce-112">Начало сценария hello</span><span class="sxs-lookup"><span data-stu-id="4e6ce-112">Getting hello scenario</span></span>
<span data-ttu-id="4e6ce-113">Этот сценарий состоит из runbook PowerShell, который можно загрузить из hello [коллекции PowerShell](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span><span class="sxs-lookup"><span data-stu-id="4e6ce-113">This scenario consists of a PowerShell runbook that you can download from hello [PowerShell Gallery](https://www.powershellgallery.com/packages/Remove-ResourceGroup/1.0/DisplayScript).</span></span> <span data-ttu-id="4e6ce-114">Можно также импортировать его непосредственно из hello [коллекции модулей Runbook](automation-runbook-gallery.md) в hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-114">You can also import it directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal.</span></span><br><br>

| <span data-ttu-id="4e6ce-115">Модуль Runbook</span><span class="sxs-lookup"><span data-stu-id="4e6ce-115">Runbook</span></span> | <span data-ttu-id="4e6ce-116">Описание</span><span class="sxs-lookup"><span data-stu-id="4e6ce-116">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4e6ce-117">Remove-ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="4e6ce-117">Remove-ResourceGroup</span></span> |<span data-ttu-id="4e6ce-118">Удаляет один или несколько групп ресурсов Azure и связанные ресурсы из подписки hello.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-118">Removes one or more Azure resource groups and associated resources from hello subscription.</span></span> |

<br>
<span data-ttu-id="4e6ce-119">для этого модуля runbook определяются Hello следующие входные параметры.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-119">hello following input parameters are defined for this runbook:</span></span>

| <span data-ttu-id="4e6ce-120">Параметр</span><span class="sxs-lookup"><span data-stu-id="4e6ce-120">Parameter</span></span> | <span data-ttu-id="4e6ce-121">Описание</span><span class="sxs-lookup"><span data-stu-id="4e6ce-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4e6ce-122">NameFilter (обязательный)</span><span class="sxs-lookup"><span data-stu-id="4e6ce-122">NameFilter (Required)</span></span> |<span data-ttu-id="4e6ce-123">Указывает имя фильтра toolimit hello групп ресурсов, которые будут при удалении.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-123">Specifies a name filter toolimit hello resource groups that you intend on deleting.</span></span> <span data-ttu-id="4e6ce-124">Можно передать несколько значений, указав их через запятую.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-124">You can pass multiple values using a comma-separated list.</span></span><br><span data-ttu-id="4e6ce-125">Hello фильтр не учитывает регистр и будет соответствовать любой группы ресурсов, которая содержит строку hello.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-125">hello filter is not case-sensitive and will match any resource group that contains hello string.</span></span> |
| <span data-ttu-id="4e6ce-126">PreviewMode (необязательный)</span><span class="sxs-lookup"><span data-stu-id="4e6ce-126">PreviewMode (Optional)</span></span> |<span data-ttu-id="4e6ce-127">Выполняет toosee runbook hello групп ресурсов, которые будут удалены, но не выполняет никаких действий.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-127">Executes hello runbook toosee which resource groups would be deleted, but takes no action.</span></span><br><span data-ttu-id="4e6ce-128">по умолчанию Hello — **true** toohelp избежать случайного удаления одного или нескольких групп ресурсов, переданным toohello runbook.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-128">hello default is **true** toohelp avoid accidental deletion of one or more resource groups passed toohello runbook.</span></span> |

## <a name="install-and-configure-this-scenario"></a><span data-ttu-id="4e6ce-129">Установка и настройка сценария</span><span class="sxs-lookup"><span data-stu-id="4e6ce-129">Install and configure this scenario</span></span>
### <a name="prerequisites"></a><span data-ttu-id="4e6ce-130">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="4e6ce-130">Prerequisites</span></span>
<span data-ttu-id="4e6ce-131">Этот модуль runbook выполняет проверку подлинности с помощью hello [учетная запись запуска от имени Azure](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="4e6ce-131">This runbook authenticates using hello [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span>    

### <a name="install-and-publish-hello-runbooks"></a><span data-ttu-id="4e6ce-132">Установка и публикации Runbook hello</span><span class="sxs-lookup"><span data-stu-id="4e6ce-132">Install and publish hello runbooks</span></span>
<span data-ttu-id="4e6ce-133">После загрузки hello runbook, его можно импортировать с помощью процедуры hello в [импорта runbook процедуры](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span><span class="sxs-lookup"><span data-stu-id="4e6ce-133">After you download hello runbook, you can import it by using hello procedure in [Importing runbook procedures](automation-creating-importing-runbook.md#importing-a-runbook-from-a-file-into-azure-automation).</span></span> <span data-ttu-id="4e6ce-134">Опубликуйте hello runbook после его успешного импорта в вашу учетную запись автоматизации.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-134">Publish hello runbook after it has been successfully imported into your Automation account.</span></span>

## <a name="using-hello-runbook"></a><span data-ttu-id="4e6ce-135">С помощью hello runbook</span><span class="sxs-lookup"><span data-stu-id="4e6ce-135">Using hello runbook</span></span>
<span data-ttu-id="4e6ce-136">Hello ниже поможет hello выполнение этого runbook и помогут ознакомиться с ее работе.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-136">hello following steps will walk you through hello execution of this runbook and help you become familiar with how it works.</span></span> <span data-ttu-id="4e6ce-137">Будет только тестироваться hello runbook в этом примере фактически не удаление группы ресурсов hello.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-137">You will only be testing hello runbook in this example, not actually deleting hello resource group.</span></span>  

1. <span data-ttu-id="4e6ce-138">Откройте учетную запись автоматизации hello портал Azure и щелкните **Runbooks**.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-138">From hello Azure portal, open your Automation account and click **Runbooks**.</span></span>
2. <span data-ttu-id="4e6ce-139">Выберите hello **удаление ResourceGroup** runbook и нажмите кнопку **запустить**.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-139">Select hello **Remove-ResourceGroup** runbook and click **Start**.</span></span>
3. <span data-ttu-id="4e6ce-140">При запуске hello runbook hello **запустить Runbook** открывает колонку и можно настроить параметры hello.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-140">When you start hello runbook, hello **Start Runbook** blade opens and you can configure hello parameters.</span></span> <span data-ttu-id="4e6ce-141">Введите имена hello групп ресурсов в подписке можно использовать для тестирования и вызовет вреда, если случайно удален.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-141">Enter hello names of resource groups in your subscription that you can use for testing and will cause no harm if accidentally deleted.</span></span><br> <span data-ttu-id="4e6ce-142">![Параметры модуля Remove-ResouceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span><span class="sxs-lookup"><span data-stu-id="4e6ce-142">![Remove-ResouceGroup parameters](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-input-parameters.png)</span></span>

   > [!NOTE]
   > <span data-ttu-id="4e6ce-143">Убедитесь, что **Previewmode** задано слишком**true** tooavoid удаление hello выбранные группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-143">Make sure **Previewmode** is set too**true** tooavoid deleting hello selected resource groups.</span></span>  <span data-ttu-id="4e6ce-144">**Примечание** этот runbook не удалит hello группы ресурсов, содержащий hello учетной записи автоматизации, на котором выполняется этот runbook.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-144">**Note** that this runbook will not remove hello resource group that contains hello Automation account that is running this runbook.</span></span>  
   >
   >
4. <span data-ttu-id="4e6ce-145">После настройки все значения параметров hello установите **ОК**, и hello runbook будут помещены в очередь для выполнения.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-145">After you have configured all hello parameter values, click **OK**, and hello runbook will be queued for execution.</span></span>  

<span data-ttu-id="4e6ce-146">Подробности hello tooview hello **удаление ResourceGroup** задания runbook в hello портал Azure, выберите **заданий** в hello runbook.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-146">tooview hello details of hello **Remove-ResourceGroup** runbook job in hello Azure portal, select **Jobs** in hello runbook.</span></span> <span data-ttu-id="4e6ce-147">Hello задания сводки Вывод hello входных параметров и вывода hello потока Кроме toogeneral сведения о задании hello и любые исключения, которые возникают.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-147">hello job summary displays hello input parameters and hello output stream in addition toogeneral information about hello job and any exceptions that occurred.</span></span><br> <span data-ttu-id="4e6ce-148">![Состояние задания модуля Runbook Remove-ResourceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png).</span><span class="sxs-lookup"><span data-stu-id="4e6ce-148">![Remove-ResourceGroup runbook job status](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-status.png).</span></span>

<span data-ttu-id="4e6ce-149">Hello **Сводка заданий** включает в себя сообщения из hello потоков вывода, предупреждения и ошибки.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-149">hello **Job Summary** includes messages from hello output, warning, and error streams.</span></span> <span data-ttu-id="4e6ce-150">Выберите **вывода** tooview подробные результаты из выполнения runbook hello.</span><span class="sxs-lookup"><span data-stu-id="4e6ce-150">Select **Output** tooview detailed results from hello runbook execution.</span></span><br> <span data-ttu-id="4e6ce-151">![Выходные данные модуля Runbook Remove-ResourceGroup](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="4e6ce-151">![Remove-ResourceGroup runbook output results](media/automation-scenario-remove-resourcegroup/remove-resourcegroup-runbook-job-output.png)</span></span>

## <a name="next-steps"></a><span data-ttu-id="4e6ce-152">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="4e6ce-152">Next steps</span></span>
* <span data-ttu-id="4e6ce-153">tooget к созданию собственного модуля runbook в разделе [Создание или импорт модуля runbook в автоматизации Azure](automation-creating-importing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="4e6ce-153">tooget started creating your own runbook, see [Creating or importing a runbook in Azure Automation](automation-creating-importing-runbook.md).</span></span>
* <span data-ttu-id="4e6ce-154">tooget к работе с модулями Runbook рабочего процесса PowerShell, в разделе [Мой первый runbook рабочего процесса PowerShell](automation-first-runbook-textual.md).</span><span class="sxs-lookup"><span data-stu-id="4e6ce-154">tooget started with PowerShell Workflow runbooks, see [My first PowerShell Workflow runbook](automation-first-runbook-textual.md).</span></span>
