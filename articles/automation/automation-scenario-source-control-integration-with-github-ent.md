---
title: "aaaAzure автоматизации интеграция системы управления версиями с GitHub Enterprise | Документы Microsoft"
description: "Описывает hello подробные сведения о том, как интеграция tooconfigure с GitHub Enterprise для системы управления версиями модулей автоматизации Runbook."
services: automation
documentationCenter: 
authors: mgoedtel
manager: jwhit
editor: 
ms.assetid: e01d817c-7d38-421c-adf5-647a4b526eb4
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: magoedte
ms.openlocfilehash: 915d36ccabb72fdee1dba663049a0b331249cd73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-github-enterprise"></a><span data-ttu-id="003eb-103">Сценарий службы автоматизации Azure: интеграция системы управления версиями службы автоматизации с GitHub Enterprise</span><span class="sxs-lookup"><span data-stu-id="003eb-103">Azure Automation scenario - Automation source control integration with GitHub Enterprise</span></span>

<span data-ttu-id="003eb-104">Автоматизация в настоящее время поддерживает интеграции системы управления версиями, позволяющую tooassociate Runbook в хранилище управления версиями автоматизации учетной записи tooa GitHub.</span><span class="sxs-lookup"><span data-stu-id="003eb-104">Automation currently supports source control integration, which allows you tooassociate runbooks in your Automation account tooa GitHub source control repository.</span></span>  <span data-ttu-id="003eb-105">Тем не менее пользователи, установившие [GitHub Enterprise](https://enterprise.github.com/home) toosupport их DevOps рекомендациям, также требуется toouse его жизненного цикла hello toomanage модулей Runbook, которые разработаны tooautomate бизнес-процессов и управления службами операции.</span><span class="sxs-lookup"><span data-stu-id="003eb-105">However, customers who have deployed [GitHub Enterprise](https://enterprise.github.com/home) toosupport their DevOps practices, also want toouse it toomanage hello lifecycle of runbooks that are developed tooautomate business processes and service management operations.</span></span>  

<span data-ttu-id="003eb-106">В этом случае у вас компьютер Windows в центре обработки данных настроен в качестве гибридной рабочей роли Runbook с модулями Azure Resource Manager hello и установлены инструменты Git.</span><span class="sxs-lookup"><span data-stu-id="003eb-106">In this scenario, you have a Windows computer in your data center configured as a Hybrid Runbook Worker with hello Azure Resource Manager modules and Git tools installed.</span></span>  <span data-ttu-id="003eb-107">Hello гибридного рабочий компьютер имеет клон hello локального репозитория Git.</span><span class="sxs-lookup"><span data-stu-id="003eb-107">hello Hybrid worker machine has a clone of hello local Git repository.</span></span>  <span data-ttu-id="003eb-108">При запуске hello runbook в гибридной рабочей роли hello hello Git directory синхронизируется и содержимое файла hello runbook импортируются в hello учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="003eb-108">When hello runbook is run on hello hybrid worker, hello Git directory is synchronized and hello runbook file contents are imported into hello Automation account.</span></span>

<span data-ttu-id="003eb-109">В этой статье описывается как tooset конфигурации в среде автоматизации Azure.</span><span class="sxs-lookup"><span data-stu-id="003eb-109">This article describes how tooset up this configuration in your Azure Automation environment.</span></span> <span data-ttu-id="003eb-110">Мы начнем с Настройка автоматизации с учетными данными безопасности hello, модули Runbook требуется toosupport этот сценарий и развертывание гибридной рабочей роли Runbook в данных центра toorun hello runbooks и доступ к вашей toosynchronize репозитория GitHub Enterprise модули Runbook с вашей учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="003eb-110">We start by configuring Automation with hello security credentials, runbooks required toosupport this scenario, and deployment of a Hybrid Runbook Worker in your data center toorun hello runbooks and access your GitHub Enterprise repository toosynchronize runbooks with your Automation account.</span></span>  


## <a name="getting-hello-scenario"></a><span data-ttu-id="003eb-111">Начало сценария hello</span><span class="sxs-lookup"><span data-stu-id="003eb-111">Getting hello scenario</span></span>

<span data-ttu-id="003eb-112">Этот сценарий состоит из двух Runbook PowerShell, которые можно импортировать напрямую из hello [коллекции модулей Runbook](automation-runbook-gallery.md) в hello портал Azure или загрузить с hello [коллекции PowerShell](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="003eb-112">This scenario consists of two PowerShell runbooks that you can import directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal or download from hello [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="003eb-113">Модули Runbook</span><span class="sxs-lookup"><span data-stu-id="003eb-113">Runbooks</span></span>

<span data-ttu-id="003eb-114">Модуль Runbook</span><span class="sxs-lookup"><span data-stu-id="003eb-114">Runbook</span></span> | <span data-ttu-id="003eb-115">Описание</span><span class="sxs-lookup"><span data-stu-id="003eb-115">Description</span></span>| 
--------|------------|
<span data-ttu-id="003eb-116">Export-RunAsCertificateToHybridWorker</span><span class="sxs-lookup"><span data-stu-id="003eb-116">Export-RunAsCertificateToHybridWorker</span></span> | <span data-ttu-id="003eb-117">Runbook экспортирует запуска от имени сертификата из учетной записи tooa гибридная рабочая роль автоматизации модулей Runbook в рабочем процессе hello для проверки подлинности с помощью Azure в модулях Runbook tooimport заказа в hello учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="003eb-117">Runbook exports a RunAs certificate from an Automation account tooa hybrid worker so that runbooks on hello worker can authenticate with Azure in order tooimport runbooks into hello Automation account.</span></span>| 
<span data-ttu-id="003eb-118">Sync-LocalGitFolderToAutomationAccount</span><span class="sxs-lookup"><span data-stu-id="003eb-118">Sync-LocalGitFolderToAutomationAccount</span></span> | <span data-ttu-id="003eb-119">Синхронизация Runbook hello локальной папке Git на компьютере гибридного hello, а затем импортировать файлов runbook hello (*.ps1) в учетной записи автоматизации hello.</span><span class="sxs-lookup"><span data-stu-id="003eb-119">Runbook syncs hello local Git folder on hello hybrid machine and then import hello runbook files (*.ps1) into hello Automation account.</span></span>|

### <a name="credentials"></a><span data-ttu-id="003eb-120">Учетные данные</span><span class="sxs-lookup"><span data-stu-id="003eb-120">Credentials</span></span>

<span data-ttu-id="003eb-121">Учетные данные</span><span class="sxs-lookup"><span data-stu-id="003eb-121">Credential</span></span> | <span data-ttu-id="003eb-122">Описание</span><span class="sxs-lookup"><span data-stu-id="003eb-122">Description</span></span>|
-----------|------------|
<span data-ttu-id="003eb-123">GitHRWCredential</span><span class="sxs-lookup"><span data-stu-id="003eb-123">GitHRWCredential</span></span> | <span data-ttu-id="003eb-124">Ресурс учетных данных для создания toocontain hello пользователя и пароль для пользователя разрешения toohello гибридной рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="003eb-124">Credential asset you create toocontain hello username and password for a user with permissions toohello hybrid worker.</span></span>|

## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="003eb-125">Установка и настройка данного сценария</span><span class="sxs-lookup"><span data-stu-id="003eb-125">Installing and configuring this scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="003eb-126">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="003eb-126">Prerequisites</span></span>

1. <span data-ttu-id="003eb-127">runbook Hello синхронизации LocalGitFolderToAutomationAccount осуществляется с использованием hello [учетная запись запуска от имени Azure](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="003eb-127">hello Sync-LocalGitFolderToAutomationAccount runbook authenticates using hello [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span> 

2. <span data-ttu-id="003eb-128">Также требуется рабочая область Microsoft Operations Management Suite (OMS) с hello решение автоматизации Azure включена и настроена.</span><span class="sxs-lookup"><span data-stu-id="003eb-128">A Microsoft Operations Management Suite (OMS) workspace with hello Azure Automation solution enabled and configured is also required.</span></span>  <span data-ttu-id="003eb-129">Если у вас та, которая связана с tooinstall учетная запись, используемая для автоматизации hello и настроить такой сценарий, он создается и настраивается автоматически при выполнении hello **New OnPremiseHybridWorker.ps1** сценария гибридной hello рабочий процесс Runbook.</span><span class="sxs-lookup"><span data-stu-id="003eb-129">If you do not have one that is associated with hello Automation account used tooinstall and configure this scenario, it is created and configured for you when you execute hello **New-OnPremiseHybridWorker.ps1** script from hello hybrid runbook worker.</span></span>        

    > [!NOTE]
    > <span data-ttu-id="003eb-130">В настоящее время hello следующие регионы поддерживают только автоматизации интеграция с OMS - **Юго-Восточная Австралия**, **восточная часть США 2**, **Юго-Восточная Азия**, и **Западная Европа**.</span><span class="sxs-lookup"><span data-stu-id="003eb-130">Currently hello following regions only support Automation integration with OMS - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span> 

3. <span data-ttu-id="003eb-131">Компьютер, который можно использовать как выделенный гибридную рабочую роль Runbook, также будут размещаться программного обеспечения GitHub hello и хранить файлы runbook hello (*runbook*.ps1) в исходной папке на toosynchronize системы hello файла между GitHub и Учетная запись автоматизации.</span><span class="sxs-lookup"><span data-stu-id="003eb-131">A computer that can serve as a dedicated Hybrid Runbook Worker that will also host hello GitHub software and maintain hello runbook files (*runbook*.ps1) in a source directory on hello file system toosynchronize between GitHub and your Automation account.</span></span>

### <a name="import-and-publish-hello-runbooks"></a><span data-ttu-id="003eb-132">Импорт и публикации Runbook hello</span><span class="sxs-lookup"><span data-stu-id="003eb-132">Import and publish hello runbooks</span></span>

<span data-ttu-id="003eb-133">tooimport hello *экспорта RunAsCertificateToHybridWorker* и *LocalGitFolderToAutomationAccount синхронизации* Runbook из hello коллекции модулей Runbook из вашей учетной записи автоматизации в hello портал Azure следуйте процедурам hello в [импорта Runbook из коллекции модулей Runbook hello](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="003eb-133">tooimport hello *Export-RunAsCertificateToHybridWorker* and *Sync-LocalGitFolderToAutomationAccount* runbooks from hello Runbook Gallery from your Automation account in hello Azure portal, follow hello procedures in [Import Runbook from hello Runbook Gallery](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span></span> <span data-ttu-id="003eb-134">Публикации Runbook hello, после они были успешно импортированы в вашей учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="003eb-134">Publish hello runbooks after they have been successfully imported into your Automation account.</span></span>

### <a name="deploy-and-configure-hybrid-runbook-worker"></a><span data-ttu-id="003eb-135">Развертывание и настройка гибридной рабочей роли Runbook</span><span class="sxs-lookup"><span data-stu-id="003eb-135">Deploy and Configure Hybrid Runbook Worker</span></span>

<span data-ttu-id="003eb-136">Если у вас гибридная рабочая роль Runbook, уже развернутых в центре обработки данных, следует ознакомьтесь с требованиями к hello и действуйте hello автоматической установки с помощью процедуры hello в [Azure Automation гибридных рабочих ролей Runbook - автоматизации установки и конфигурация](automation-hybrid-runbook-worker.md#automated-deployment).</span><span class="sxs-lookup"><span data-stu-id="003eb-136">If you do not have a Hybrid Runbook Worker already deployed in your data center, you should review hello requirements and follow hello automated installation steps using hello procedure in [Azure Automation Hybrid Runbook Workers - Automate Install and Configuration](automation-hybrid-runbook-worker.md#automated-deployment).</span></span>  <span data-ttu-id="003eb-137">После hello гибридной рабочей роли был успешно установлен на компьютере, выполните hello следующие toocomplete действия, его конфигурации toosupport этот сценарий.</span><span class="sxs-lookup"><span data-stu-id="003eb-137">Once you have successfully installed hello hybrid worker on a computer, perform hello following steps toocomplete its configuration toosupport this scenario.</span></span>

1. <span data-ttu-id="003eb-138">Войдите на toohello компьютере размещения hello гибридной рабочей роли Runbook с помощью учетной записи с правами локального администратора и создание файлов каталога toohold hello Git runbook.</span><span class="sxs-lookup"><span data-stu-id="003eb-138">Sign on toohello computer hosting hello Hybrid Runbook Worker role with an account that has local administrative rights and create a directory toohold hello Git runbook files.</span></span>  <span data-ttu-id="003eb-139">Клон hello внутренней Git toohello каталог-репозиторий.</span><span class="sxs-lookup"><span data-stu-id="003eb-139">Clone  hello internal Git repository toohello directory.</span></span>
2. <span data-ttu-id="003eb-140">Если вы еще нет учетной записи запуска от имени созданной или toocreate новый для этой цели, из портала Azure hello перейдите tooAutomation учетные записи, выберите учетную запись автоматизации и создать [актива учетных данных](automation-credentials.md) , содержит hello пользователя и пароль для пользователя с разрешениями toohello гибридной рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="003eb-140">If you do not already have a RunAs account created or you want toocreate a new one dedicated for this purpose, from hello Azure portal navigate tooAutomation accounts, select your Automation account and create a [credential asset](automation-credentials.md) that contains hello username and password for a user with permissions toohello hybrid worker.</span></span>  
3. <span data-ttu-id="003eb-141">Из учетной записи автоматизации [редактирование hello runbook](automation-edit-textual-runbook.md)**экспорта RunAsCertificateToHybridWorker** и измените значение переменной hello hello *$Password* с надежный пароль.  </span><span class="sxs-lookup"><span data-stu-id="003eb-141">From your Automation account, [edit hello runbook](automation-edit-textual-runbook.md)  **Export-RunAsCertificateToHybridWorker** and modify hello value for hello variable *$Password* with a strong password.</span></span>  <span data-ttu-id="003eb-142">После изменения значения hello щелкните **публикации** toohave hello черновик hello runbook публикации.</span><span class="sxs-lookup"><span data-stu-id="003eb-142">After you modify hello value, click **Publish** toohave hello draft version of hello runbook published.</span></span> 
5. <span data-ttu-id="003eb-143">Запустить hello runbook **экспорта RunAsCertificateToHybridWorker**и в hello **запустить Runbook** колонки в параметре hello **параметры запуска** выберите параметр hello **Гибридной рабочей роли** и в группу hello раскрывающегося списка выберите hello гибридных рабочих ролей с ранее созданный для этого сценария.</span><span class="sxs-lookup"><span data-stu-id="003eb-143">Start hello runbook **Export-RunAsCertificateToHybridWorker**, and in hello **Start Runbook** blade, under hello option **Run settings** select hello option **Hybrid Worker** and in hello drop-down list select hello Hybrid worker group you created earlier for this scenario.</span></span>  

    <span data-ttu-id="003eb-144">Выполняется экспорт сертификата toohello гибридной рабочей роли Runbook на hello работника для проверки подлинности с Azure с помощью hello запуска от имени соединения в порядке toomanage ресурсов Azure (в частности, для этого сценария - Импорт модулей Runbook toohello учетную запись автоматизации).</span><span class="sxs-lookup"><span data-stu-id="003eb-144">This exports a certificate toohello hybrid worker so that runbooks on hello worker can authenticate with Azure using hello Run As connection in order toomanage Azure resources (in particular for this scenario - import runbooks toohello Automation account).</span></span>

4. <span data-ttu-id="003eb-145">Из учетной записи автоматизации, выберите hello группу гибридных рабочих ролей, созданную ранее и [указать учетную запись запуска от имени](automation-hrw-run-runbooks.md#runas-account) hello группу гибридных рабочих ролей и выбрал hello учетных данных ОС просто или уже создана.</span><span class="sxs-lookup"><span data-stu-id="003eb-145">From your Automation account, select hello Hybrid worker group created earlier and [specify a RunAs account](automation-hrw-run-runbooks.md#runas-account) for hello Hybrid worker group, and chose hello credential asset you just or already have created.</span></span>  <span data-ttu-id="003eb-146">Это гарантирует, что этого модуля hello синхронизации можно выполнить команды Git.</span><span class="sxs-lookup"><span data-stu-id="003eb-146">This assures that hello Sync runbook can run Git commands.</span></span> 
5. <span data-ttu-id="003eb-147">Запустить hello runbook **синхронизации LocalGitFolderToAutomationAccount**, предоставляют hello следующие обязательные значения входных параметров и в hello **запустить Runbook** колонки в параметре hello **запуска Параметры** выберите параметр hello **гибридной рабочей роли** и в группу hello раскрывающегося списка выберите hello гибридных рабочих ролей с ранее созданный для этого сценария:</span><span class="sxs-lookup"><span data-stu-id="003eb-147">Start hello runbook **Sync-LocalGitFolderToAutomationAccount**, provide hello following required input parameter values and in hello **Start Runbook** blade, under hello option **Run settings** select hello option **Hybrid Worker** and in hello drop-down list select hello Hybrid worker group you created earlier for this scenario:</span></span>
    * <span data-ttu-id="003eb-148">*Группа ресурсов* - hello имя вашей группы ресурсов, связанных с вашей учетной записи автоматизации</span><span class="sxs-lookup"><span data-stu-id="003eb-148">*ResourceGroup* - hello name of your resource group associated with your Automation account</span></span>
    * <span data-ttu-id="003eb-149">*AutomationAccountName* — hello имя учетной записи автоматизации</span><span class="sxs-lookup"><span data-stu-id="003eb-149">*AutomationAccountName* - hello name of your Automation account</span></span>
    * <span data-ttu-id="003eb-150">*GitPath* - hello локальную папку или файл на hello гибридную рабочую роль Runbook где Git Настройка toopull последние изменения в</span><span class="sxs-lookup"><span data-stu-id="003eb-150">*GitPath* - hello local folder or file on hello Hybrid Runbook Worker where Git is set up toopull latest changes into</span></span>

    <span data-ttu-id="003eb-151">Это будет синхронизировать hello локальной папке Git на компьютере рабочей гибридного hello и затем импортировать hello ps1-файлы из hello исходный каталог toohello учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="003eb-151">This will sync hello local Git folder on hello hybrid worker computer and then import hello .ps1 files from hello source directory toohello Automation account.</span></span>

    ![Start Sync-LocalGitFolderToAutomationAccount Runbook](media/automation-scenario-source-control-integration-with-github-ent/start-runbook-synclocalgitfoldertoautoacct.png)<br>

7. <span data-ttu-id="003eb-153">Просмотреть сводные данные задания для hello runbook, выбрав его из hello **Runbooks** колонки в вашей учетной записи автоматизации и выберите hello **заданий** плитки.</span><span class="sxs-lookup"><span data-stu-id="003eb-153">View job summary details for hello runbook by selecting it from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="003eb-154">Подтвердите успешное завершение, выбрав hello **все журналы** плитки и рецензирования hello подробный журнал потока.</span><span class="sxs-lookup"><span data-stu-id="003eb-154">Confirm it completed successfully by selecting hello **All logs** tile and reviewing hello detailed log stream.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="003eb-155">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="003eb-155">Next steps</span></span>

-  <span data-ttu-id="003eb-156">в разделе tooknow Дополнительные сведения о типах runbook, их преимущества и ограничения, [типов runbook службы автоматизации Azure](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="003eb-156">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
-  <span data-ttu-id="003eb-157">Дополнительные сведения о функции поддержки скриптов PowerShell см. в статье [Announcing Native PowerShell Script Support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/) (Встроенная поддержка скриптов PowerShell в службе автоматизации Azure).</span><span class="sxs-lookup"><span data-stu-id="003eb-157">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
