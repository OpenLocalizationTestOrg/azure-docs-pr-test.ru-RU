---
title: "aaaMy первый графический runbook в автоматизации Azure | Документы Microsoft"
description: "Учебник, в котором описывается создание hello, тестированию и публикации простых графического модуля Runbook."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "Runbook, шаблон Runbook, служба автоматизации Runbook и Azure Runbook"
ms.assetid: dcb88f19-ed2b-4372-9724-6625cd287c8a
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/17/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 964cf8bae75ca597959bfc39b2b07c22bbc9acb5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-graphical-runbook"></a><span data-ttu-id="85750-104">Первый графический Runbook</span><span class="sxs-lookup"><span data-stu-id="85750-104">My first graphical runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="85750-105">Графический</span><span class="sxs-lookup"><span data-stu-id="85750-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="85750-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="85750-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="85750-107">Рабочий процесс PowerShell</span><span class="sxs-lookup"><span data-stu-id="85750-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="85750-108">Этот учебник поможет выполнить создание hello [графический runbook](automation-runbook-types.md#graphical-runbooks) в службе автоматизации Azure.</span><span class="sxs-lookup"><span data-stu-id="85750-108">This tutorial walks you through hello creation of a [graphical runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation.</span></span>  <span data-ttu-id="85750-109">Мы начнем с простого модуля runbook, который проверяет и опубликует мы объясним, как tootrack hello состояния задания runbook hello.</span><span class="sxs-lookup"><span data-stu-id="85750-109">We start with a simple runbook that tests and publishes while we explain how tootrack hello status of hello runbook job.</span></span>  <span data-ttu-id="85750-110">Затем мы измените hello runbook tooactually управления ресурсами Azure, в этом случае запуск виртуальной машины Azure.</span><span class="sxs-lookup"><span data-stu-id="85750-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span>  <span data-ttu-id="85750-111">Затем мы учебником hello, делая hello runbook более надежными, добавив параметры модуля runbook и условные связи.</span><span class="sxs-lookup"><span data-stu-id="85750-111">Then we complete hello tutorial by making hello runbook more robust by adding runbook parameters and conditional links.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="85750-112">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="85750-112">Prerequisites</span></span>
<span data-ttu-id="85750-113">toocomplete этого учебника потребуются следующие hello.</span><span class="sxs-lookup"><span data-stu-id="85750-113">toocomplete this tutorial, you will need hello following.</span></span>

* <span data-ttu-id="85750-114">Подписка Azure.</span><span class="sxs-lookup"><span data-stu-id="85750-114">Azure subscription.</span></span>  <span data-ttu-id="85750-115">Если у вас ее нет, [активируйте преимущества для подписчиков MSDN](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) или <a href="/pricing/free-account/" target="_blank">[зарегистрируйте бесплатную учетную запись](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="85750-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="85750-116">[Учетная запись службы автоматизации Azure](automation-sec-configure-azure-runas-account.md) toohold hello runbook и проверить подлинность tooAzure ресурсов.</span><span class="sxs-lookup"><span data-stu-id="85750-116">[Azure Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="85750-117">Этой учетной записи необходимо разрешение toostart и остановить виртуальную машину hello.</span><span class="sxs-lookup"><span data-stu-id="85750-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="85750-118">Виртуальная машина Azure.</span><span class="sxs-lookup"><span data-stu-id="85750-118">An Azure virtual machine.</span></span>  <span data-ttu-id="85750-119">Это не должна быть рабочая машина, поскольку в процессе изучения данного материала ее нужно будет остановить и запустить заново.</span><span class="sxs-lookup"><span data-stu-id="85750-119">We will stop and start this machine so it should not be production.</span></span>

## <a name="step-1---create-runbook"></a><span data-ttu-id="85750-120">Шаг 1. Создание нового модуля Runbook</span><span class="sxs-lookup"><span data-stu-id="85750-120">Step 1 - Create runbook</span></span>
<span data-ttu-id="85750-121">Мы начнем с создания простого модуля runbook, который выводит текст hello *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="85750-121">We start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="85750-122">Откройте в hello портал Azure, ваша учетная запись автоматизации.</span><span class="sxs-lookup"><span data-stu-id="85750-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="85750-123">страница учетной записи автоматизации Hello предоставляет быстрый просмотр hello ресурсов в этой учетной записи.</span><span class="sxs-lookup"><span data-stu-id="85750-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span>  <span data-ttu-id="85750-124">Некоторые ресурсы уже должны быть доступны.</span><span class="sxs-lookup"><span data-stu-id="85750-124">You should already have some Assets.</span></span>  <span data-ttu-id="85750-125">Большинство из них являются hello модули, которые автоматически включаются в новую учетную запись автоматизации.</span><span class="sxs-lookup"><span data-stu-id="85750-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span>  <span data-ttu-id="85750-126">Вы также должны hello ресурс учетных данных, которая упоминается в hello [необходимых компонентов](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="85750-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="85750-127">Нажмите кнопку hello **Runbooks** плитки tooopen hello список модулей Runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-127">Click hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br> <span data-ttu-id="85750-128">![Элемент управления "Модули Runbook"](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span><span class="sxs-lookup"><span data-stu-id="85750-128">![Runbooks control](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span></span>
3. <span data-ttu-id="85750-129">Создать новый runbook, щелкнув hello **добавить модуль runbook** кнопки и затем **создать новый runbook**.</span><span class="sxs-lookup"><span data-stu-id="85750-129">Create a new runbook by clicking on hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="85750-130">Присвойте имя hello hello runbook *MyFirstRunbook графический*.</span><span class="sxs-lookup"><span data-stu-id="85750-130">Give hello runbook hello name *MyFirstRunbook-Graphical*.</span></span>
5. <span data-ttu-id="85750-131">В этом случае мы будем toocreate [графический runbook](automation-graphical-authoring-intro.md) поэтому выберите **Graphical** для **тип Runbook**.</span><span class="sxs-lookup"><span data-stu-id="85750-131">In this case, we're going toocreate a [graphical runbook](automation-graphical-authoring-intro.md) so select **Graphical** for **Runbook type**.</span></span><br> <span data-ttu-id="85750-132">![Новый Runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span><span class="sxs-lookup"><span data-stu-id="85750-132">![New runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span></span><br>
6. <span data-ttu-id="85750-133">Нажмите кнопку **создать** toocreate hello runbook и откройте hello графического редактора.</span><span class="sxs-lookup"><span data-stu-id="85750-133">Click **Create** toocreate hello runbook and open hello graphical editor.</span></span>

## <a name="step-2---add-activities-toohello-runbook"></a><span data-ttu-id="85750-134">Шаг 2 — Добавление действий toohello runbook</span><span class="sxs-lookup"><span data-stu-id="85750-134">Step 2 - Add activities toohello runbook</span></span>
<span data-ttu-id="85750-135">Библиотека управления hello левой части редактора hello Hello позволяет tooadd tooyour tooselect действия runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-135">hello Library control on hello left side of hello editor allows you tooselect activities tooadd tooyour runbook.</span></span>  <span data-ttu-id="85750-136">Мы будем tooadd **Write-Output** текст toooutput командлета из модуля runbook hello.</span><span class="sxs-lookup"><span data-stu-id="85750-136">We're going tooadd a **Write-Output** cmdlet toooutput text from hello runbook.</span></span>

1. <span data-ttu-id="85750-137">В hello элемент управления из библиотеки, щелкните в текстовом поле поиска hello и тип **Write-Output**.</span><span class="sxs-lookup"><span data-stu-id="85750-137">In hello Library control, click in hello search textbox and type **Write-Output**.</span></span>  <span data-ttu-id="85750-138">Hello результаты поиска будут показаны ниже.</span><span class="sxs-lookup"><span data-stu-id="85750-138">hello search results will be displayed below.</span></span> <br> <span data-ttu-id="85750-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span><span class="sxs-lookup"><span data-stu-id="85750-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span></span>
2. <span data-ttu-id="85750-140">Прокрутите вниз toohello нижней части списка hello.</span><span class="sxs-lookup"><span data-stu-id="85750-140">Scroll down toohello bottom of hello list.</span></span>  <span data-ttu-id="85750-141">Вы можете либо щелкните правой кнопкой мыши **Write-Output** и выберите **добавить toocanvas** или щелкните следующий командлет toohello hello эллипса, а затем выберите **добавить toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="85750-141">You can either right-click **Write-Output** and select **Add toocanvas** or click hello ellipse next toohello cmdlet and then select **Add toocanvas**.</span></span>
3. <span data-ttu-id="85750-142">Нажмите кнопку hello **Write-Output** действия на холсте hello.</span><span class="sxs-lookup"><span data-stu-id="85750-142">Click hello **Write-Output** activity on hello canvas.</span></span>  <span data-ttu-id="85750-143">Это открывает колонку управления hello конфигурации, позволяющий tooconfigure hello действия.</span><span class="sxs-lookup"><span data-stu-id="85750-143">This opens hello Configuration control blade, which allows you tooconfigure hello activity.</span></span>
4. <span data-ttu-id="85750-144">Hello **метка** по умолчанию используется имя toohello hello командлета, но мы можем изменить toosomething более понятным.</span><span class="sxs-lookup"><span data-stu-id="85750-144">hello **Label** defaults toohello name of hello cmdlet, but we can change it toosomething more friendly.</span></span> <span data-ttu-id="85750-145">Измените его слишком*toooutput записи Hello World*.</span><span class="sxs-lookup"><span data-stu-id="85750-145">Change it too*Write Hello World toooutput*.</span></span>
5. <span data-ttu-id="85750-146">Нажмите кнопку **параметры** tooprovide значения для параметров командлета hello.</span><span class="sxs-lookup"><span data-stu-id="85750-146">Click **Parameters** tooprovide values for hello cmdlet's parameters.</span></span>  
   <span data-ttu-id="85750-147">Некоторые командлеты имеют несколько наборов параметров, и требуется tooselect какие вы один toouse.</span><span class="sxs-lookup"><span data-stu-id="85750-147">Some cmdlets have multiple parameter sets, and you need tooselect which you one toouse.</span></span> <span data-ttu-id="85750-148">В этом случае **Write-Output** имеет только один набор параметров, вам требуется tooselect один.</span><span class="sxs-lookup"><span data-stu-id="85750-148">In this case, **Write-Output** has only one parameter set, so you don't need tooselect one.</span></span> <br> <span data-ttu-id="85750-149">![Свойства командлета Write-Output](media/automation-first-runbook-graphical/write-output-properties-b.png)</span><span class="sxs-lookup"><span data-stu-id="85750-149">![Write-Output properties](media/automation-first-runbook-graphical/write-output-properties-b.png)</span></span>
6. <span data-ttu-id="85750-150">Выберите hello **InputObject** параметра.</span><span class="sxs-lookup"><span data-stu-id="85750-150">Select hello **InputObject** parameter.</span></span>  <span data-ttu-id="85750-151">Это параметр hello, в котором указывается hello текст toosend toohello выходной поток.</span><span class="sxs-lookup"><span data-stu-id="85750-151">This is hello parameter where we specify hello text toosend toohello output stream.</span></span>
7. <span data-ttu-id="85750-152">В hello **источника данных** раскрывающийся список, выберите **PowerShell выражение**.</span><span class="sxs-lookup"><span data-stu-id="85750-152">In hello **Data source** dropdown, select **PowerShell expression**.</span></span>  <span data-ttu-id="85750-153">Hello **источника данных** раскрывающийся список обеспечивает различные источники используется toopopulate значение параметра.</span><span class="sxs-lookup"><span data-stu-id="85750-153">hello **Data source** dropdown provides different sources that you use toopopulate a parameter value.</span></span>  
   <span data-ttu-id="85750-154">Можно использовать выходные данные из таких источников, как другое действие, ресурс автоматизации или выражение PowerShell.</span><span class="sxs-lookup"><span data-stu-id="85750-154">You can use output from such sources such as another activity, an Automation asset, or a PowerShell expression.</span></span>  <span data-ttu-id="85750-155">В этом случае нужен только текст hello toooutput *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="85750-155">In this case, we just want toooutput hello text *Hello World*.</span></span> <span data-ttu-id="85750-156">Для этого мы воспользуемся выражением PowerShell и укажем строку.</span><span class="sxs-lookup"><span data-stu-id="85750-156">We can use a PowerShell expression and specify a string.</span></span>
8. <span data-ttu-id="85750-157">В hello **выражение** введите *«Hello World»* и нажмите кнопку **ОК** дважды tooreturn toohello холста.</span><span class="sxs-lookup"><span data-stu-id="85750-157">In hello **Expression** box, type *"Hello World"* and then click **OK** twice tooreturn toohello canvas.</span></span><br> <span data-ttu-id="85750-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="85750-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span></span>
9. <span data-ttu-id="85750-159">Сохранить hello runbook, установив **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="85750-159">Save hello runbook by clicking **Save**.</span></span><br> <span data-ttu-id="85750-160">![Сохранить Runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="85750-160">![Save runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span></span>

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="85750-161">Шаг 3. при проверке runbook hello</span><span class="sxs-lookup"><span data-stu-id="85750-161">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="85750-162">Прежде чем мы опубликовать hello runbook toomake он доступен в рабочей среде, нам нужно tootest его toomake убедиться, что он работает правильно.</span><span class="sxs-lookup"><span data-stu-id="85750-162">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span>  <span data-ttu-id="85750-163">Чтобы протестировать модуль Runbook, нужно запустить его **черновую** версию и проверить его работу в интерактивном режиме.</span><span class="sxs-lookup"><span data-stu-id="85750-163">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="85750-164">Нажмите кнопку **области тестов** tooopen hello теста колонку.</span><span class="sxs-lookup"><span data-stu-id="85750-164">Click **Test pane** tooopen hello Test blade.</span></span><br> <span data-ttu-id="85750-165">![Область тестирования](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="85750-165">![Test pane](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span></span>
2. <span data-ttu-id="85750-166">Нажмите кнопку **запустить** toostart hello теста.</span><span class="sxs-lookup"><span data-stu-id="85750-166">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="85750-167">Это должно быть включено только hello вариантом.</span><span class="sxs-lookup"><span data-stu-id="85750-167">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="85750-168">Объект [задание runbook](automation-runbook-execution.md) создается и его состояние, отображаемое в области hello.</span><span class="sxs-lookup"><span data-stu-id="85750-168">A [runbook job](automation-runbook-execution.md) is created and its status displayed in hello pane.</span></span>  
   <span data-ttu-id="85750-169">состояние задания Hello для запуска в качестве *в очереди* означает, что он ожидает runbook worker в доступных toobecome облака hello.</span><span class="sxs-lookup"><span data-stu-id="85750-169">hello job status starts as *Queued* indicating that it is waiting for a runbook worker in hello cloud toobecome available.</span></span>  <span data-ttu-id="85750-170">Перемещается на слишком*запуск* когда исполнитель задания hello, а затем *под управлением* при hello runbook фактически начинает выполнение.</span><span class="sxs-lookup"><span data-stu-id="85750-170">It then moves too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="85750-171">По завершении заданий runbook hello его вывода.</span><span class="sxs-lookup"><span data-stu-id="85750-171">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="85750-172">В нашем случае это должен быть текст *Привет, мир!*.</span><span class="sxs-lookup"><span data-stu-id="85750-172">In our case, we should see *Hello World*.</span></span><br> <span data-ttu-id="85750-173">![Привет, мир!](media/automation-first-runbook-graphical/runbook-test-results.png)</span><span class="sxs-lookup"><span data-stu-id="85750-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span></span>
5. <span data-ttu-id="85750-174">Закройте hello теста колонке tooreturn toohello холста.</span><span class="sxs-lookup"><span data-stu-id="85750-174">Close hello Test blade tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="85750-175">Шаг 4. Публикация и запуск модуля runbook hello</span><span class="sxs-lookup"><span data-stu-id="85750-175">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="85750-176">runbook Hello, созданную по-прежнему черновом режиме.</span><span class="sxs-lookup"><span data-stu-id="85750-176">hello runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="85750-177">Мы должны toopublish перед его можно было запустить в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="85750-177">We need toopublish it before we can run it in production.</span></span>  <span data-ttu-id="85750-178">При публикации модуля runbook, можно заменить hello существующей опубликованной версии hello черновую версию.</span><span class="sxs-lookup"><span data-stu-id="85750-178">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span>  <span data-ttu-id="85750-179">В нашем случае мы опубликованную версию еще нет, потому что мы только что создали hello runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-179">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="85750-180">Нажмите кнопку **публикации** toopublish hello runbook и затем **Да** при появлении запроса.</span><span class="sxs-lookup"><span data-stu-id="85750-180">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br> <span data-ttu-id="85750-181">![Опубликовать](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span><span class="sxs-lookup"><span data-stu-id="85750-181">![Publish](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span></span>
2. <span data-ttu-id="85750-182">При прокрутке левой tooview runbook hello в hello **Runbooks** колонки, он показывает **состояние создания** из **опубликовано**.</span><span class="sxs-lookup"><span data-stu-id="85750-182">If you scroll left tooview hello runbook in hello **Runbooks** blade, it shows an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="85750-183">Колонка hello правой tooview задней toohello прокрутки для **MyFirstRunbook**.</span><span class="sxs-lookup"><span data-stu-id="85750-183">Scroll back toohello right tooview hello blade for **MyFirstRunbook**.</span></span>  
   <span data-ttu-id="85750-184">Hello параметры сверху hello позволит нам toostart hello runbook, запланировать toostart в некоторый момент в будущем hello или создать [веб-перехватчика](automation-webhooks.md) , оно может начаться через вызов HTTP.</span><span class="sxs-lookup"><span data-stu-id="85750-184">hello options across hello top allow us toostart hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="85750-185">Нужен только toostart hello runbook нажмите **запустить** и затем **Да** при появлении запроса.</span><span class="sxs-lookup"><span data-stu-id="85750-185">We just want toostart hello runbook so click **Start** and then **Yes** when prompted.</span></span><br> <span data-ttu-id="85750-186">![Запуск модуля Runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="85750-186">![Start runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span></span>
5. <span data-ttu-id="85750-187">Стоечный модуль задания открывается для hello задание runbook, который мы создали.</span><span class="sxs-lookup"><span data-stu-id="85750-187">A job blade is opened for hello runbook job that we created.</span></span>  <span data-ttu-id="85750-188">Можно закрыть эту колонку, но в этом случае мы оставить его открытым, поэтому мы можно отслеживать ход выполнения задания hello.</span><span class="sxs-lookup"><span data-stu-id="85750-188">We can close this blade, but in this case we leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="85750-189">отображается состояние заданий Hello в **Сводка заданий** и совпадений hello состояния, мы видели, когда мы протестировали hello runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-189">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br> <span data-ttu-id="85750-190">![Сводные данные задания](media/automation-first-runbook-graphical/runbook-job-summary.png)</span><span class="sxs-lookup"><span data-stu-id="85750-190">![Job Summary](media/automation-first-runbook-graphical/runbook-job-summary.png)</span></span>
7. <span data-ttu-id="85750-191">Один раз hello показано состояние runbook *завершено*, нажмите кнопку **вывода**.</span><span class="sxs-lookup"><span data-stu-id="85750-191">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="85750-192">Hello **вывода** открывается колонка, и мы видим нашей *Hello World* панели hello.</span><span class="sxs-lookup"><span data-stu-id="85750-192">hello **Output** blade is opened, and we can see our *Hello World* in hello pane.</span></span><br> <span data-ttu-id="85750-193">![Сводные данные задания](media/automation-first-runbook-graphical/runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="85750-193">![Job Summary](media/automation-first-runbook-graphical/runbook-job-output.png)</span></span>  
8. <span data-ttu-id="85750-194">Закрыть hello колонке выходных данных.</span><span class="sxs-lookup"><span data-stu-id="85750-194">Close hello Output blade.</span></span>
9. <span data-ttu-id="85750-195">Нажмите кнопку **все журналы** tooopen hello потоки колонке hello задания runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-195">Click **All Logs** tooopen hello Streams blade for hello runbook job.</span></span>  <span data-ttu-id="85750-196">Мы должны видеть только *Hello World* в выходных данных hello потока, но это может показывать другие потоки для задания runbook, например Verbose и ошибка записывает toothem hello runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-196">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br> <span data-ttu-id="85750-197">![Сводные данные задания](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span><span class="sxs-lookup"><span data-stu-id="85750-197">![Job Summary](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span></span>
10. <span data-ttu-id="85750-198">Закройте все журналы колонке hello и hello задания колонке tooreturn toohello MyFirstRunbook колонку.</span><span class="sxs-lookup"><span data-stu-id="85750-198">Close hello All Logs blade and hello Job blade tooreturn toohello MyFirstRunbook blade.</span></span>
11. <span data-ttu-id="85750-199">Нажмите кнопку **заданий** колонке заданий hello tooopen для этого модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-199">Click **Jobs** tooopen hello Jobs blade for this runbook.</span></span>  <span data-ttu-id="85750-200">Перечисляет все задания hello, созданные этим модулем runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-200">This lists all hello jobs created by this runbook.</span></span> <span data-ttu-id="85750-201">Мы должны видеть только одно задание, так как мы только запуска задания hello один раз в списке.</span><span class="sxs-lookup"><span data-stu-id="85750-201">We should only see one job listed since we only ran hello job once.</span></span><br> <span data-ttu-id="85750-202">![Задания](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span><span class="sxs-lookup"><span data-stu-id="85750-202">![Jobs](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span></span>
12. <span data-ttu-id="85750-203">Можно щелкнуть это задание tooopen hello одной области задания, которые мы просматривать, когда мы начали hello runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-203">You can click this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span>  <span data-ttu-id="85750-204">Это позволяет toogo обратно в времени и просмотреть подробные сведения hello любого задания, который был создан для конкретного модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-204">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---create-variable-assets"></a><span data-ttu-id="85750-205">Шаг 5. Создание ресурсов для переменных</span><span class="sxs-lookup"><span data-stu-id="85750-205">Step 5 - Create variable assets</span></span>
<span data-ttu-id="85750-206">Мы протестировали и опубликовали свой модуль Runbook, но пока он не выполняет никаких полезных действий.</span><span class="sxs-lookup"><span data-stu-id="85750-206">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="85750-207">Мы хотим toohave его управления ресурсами Azure.</span><span class="sxs-lookup"><span data-stu-id="85750-207">We want toohave it manage Azure resources.</span></span>  <span data-ttu-id="85750-208">Прежде чем мы настраиваем hello runbook tooauthenticate, мы создать идентификатор подписки переменной toohold hello и ссылок на него после мы настраиваем tooauthenticate действие hello в шаге 6 ниже.</span><span class="sxs-lookup"><span data-stu-id="85750-208">Before we configure hello runbook tooauthenticate, we  create a variable toohold hello subscription ID and reference it after we set up hello activity tooauthenticate in step 6 below.</span></span>  <span data-ttu-id="85750-209">Включая контекст подписки toohello ссылка позволяет tooeasily работы между несколькими подписками.</span><span class="sxs-lookup"><span data-stu-id="85750-209">Including a reference toohello subscription context allows you tooeasily work between multiple subscriptions.</span></span>  <span data-ttu-id="85750-210">Прежде чем продолжить, скопируйте код подписки из hello подписок параметр выключить панель навигации hello.</span><span class="sxs-lookup"><span data-stu-id="85750-210">Before proceeding, copy your subscription ID from hello Subscriptions option off hello Navigation pane.</span></span>  

1. <span data-ttu-id="85750-211">В колонке hello учетные записи автоматизации щелкните hello **активы** плитки и hello **активы** открыть колонку.</span><span class="sxs-lookup"><span data-stu-id="85750-211">In hello Automation Accounts blade, click hello **Assets** tile and hello **Assets** blade is opened.</span></span>
2. <span data-ttu-id="85750-212">В колонке активы hello щелкните hello **переменных** плитки.</span><span class="sxs-lookup"><span data-stu-id="85750-212">In hello Assets blade, click hello **Variables** tile.</span></span>
3. <span data-ttu-id="85750-213">В колонке переменные hello, нажмите кнопку **добавить переменную**.</span><span class="sxs-lookup"><span data-stu-id="85750-213">On hello Variables blade, click **Add a variable**.</span></span><br><span data-ttu-id="85750-214">![Переменная службы автоматизации](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span><span class="sxs-lookup"><span data-stu-id="85750-214">![Automation Variable](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span></span>
4. <span data-ttu-id="85750-215">В hello новой переменной колонке в hello **имя** введите **AzureSubscriptionId** и в hello **значение** введите идентификатор подписки.</span><span class="sxs-lookup"><span data-stu-id="85750-215">In hello New variable blade, in hello **Name** box, enter **AzureSubscriptionId** and in hello **Value** box enter your Subscription ID.</span></span>  <span data-ttu-id="85750-216">Сохранить *строка* для hello **тип** и значение по умолчанию hello **шифрования**.</span><span class="sxs-lookup"><span data-stu-id="85750-216">Keep *string* for hello **Type** and hello default value for **Encryption**.</span></span>  
5. <span data-ttu-id="85750-217">Нажмите кнопку **создать** toocreate hello переменной.</span><span class="sxs-lookup"><span data-stu-id="85750-217">Click **Create** toocreate hello variable.</span></span>  

## <a name="step-6---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="85750-218">Шаг 6 — Добавление toomanage проверки подлинности ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="85750-218">Step 6 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="85750-219">Теперь, когда у нас есть переменной toohold наш код подписки, можно настроить нашей tooauthenticate runbook hello запуска от имени учетных данных, который ссылается tooin hello [необходимых компонентов](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="85750-219">Now that we have a variable toohold our subscription ID, we can configure our runbook tooauthenticate with hello Run As credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span>  <span data-ttu-id="85750-220">Нам сделать путем добавления hello запуска от имени Azure подключения **активов** и **AzureRMAccount добавить** холст toohello командлета.</span><span class="sxs-lookup"><span data-stu-id="85750-220">We do that by adding hello Azure Run As connection **Asset** and **Add-AzureRMAccount** cmdlet toohello canvas.</span></span>  

1. <span data-ttu-id="85750-221">Графический редактор Привет открыть, щелкнув **изменить** колонке MyFirstRunbook hello.</span><span class="sxs-lookup"><span data-stu-id="85750-221">Open hello graphical editor by clicking **Edit** on hello MyFirstRunbook blade.</span></span><br> <span data-ttu-id="85750-222">![Изменить Runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="85750-222">![Edit runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span></span>
2. <span data-ttu-id="85750-223">Нам не нужен hello **toooutput записи Hello World** , поэтому ее правой кнопкой мыши и выберите **удалить**.</span><span class="sxs-lookup"><span data-stu-id="85750-223">We don't need hello **Write Hello World toooutput** anymore, so right-click it and select **Delete**.</span></span>
3. <span data-ttu-id="85750-224">В hello элемент управления из библиотеки, разверните **подключений** и добавьте **AzureRunAsConnection** toohello холст, выбрав **добавить toocanvas**.</span><span class="sxs-lookup"><span data-stu-id="85750-224">In hello Library control, expand **Connections** and add **AzureRunAsConnection** toohello canvas by selecting **Add toocanvas**.</span></span>
4. <span data-ttu-id="85750-225">На холсте hello, выберите **AzureRunAsConnection** и в области управления конфигурации hello введите **получить запуска качестве соединения** в hello **метка** текстового поля.</span><span class="sxs-lookup"><span data-stu-id="85750-225">On hello canvas, select **AzureRunAsConnection** and in hello Configuration control pane, type **Get Run As Connection** in hello **Label** textbox.</span></span>  <span data-ttu-id="85750-226">Это подключение hello</span><span class="sxs-lookup"><span data-stu-id="85750-226">This is hello connection</span></span>
5. <span data-ttu-id="85750-227">В hello библиотеки элементов управления, введите **AzureRmAccount добавить** в текстовом поле поиска hello.</span><span class="sxs-lookup"><span data-stu-id="85750-227">In hello Library control, type **Add-AzureRmAccount** in hello search textbox.</span></span>
6. <span data-ttu-id="85750-228">Добавить **AzureRmAccount добавить** toohello холста.</span><span class="sxs-lookup"><span data-stu-id="85750-228">Add **Add-AzureRmAccount** toohello canvas.</span></span><br> <span data-ttu-id="85750-229">![ресурс](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span><span class="sxs-lookup"><span data-stu-id="85750-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span></span>
7. <span data-ttu-id="85750-230">Наведите указатель мыши на **получить запуска качестве соединения** до появления окружности нижней hello hello фигуры.</span><span class="sxs-lookup"><span data-stu-id="85750-230">Hover over **Get Run As Connection** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="85750-231">Щелкните круг hello и перетащите стрелку hello слишком**AzureRmAccount добавить**.</span><span class="sxs-lookup"><span data-stu-id="85750-231">Click hello circle and drag hello arrow too**Add-AzureRmAccount**.</span></span>  <span data-ttu-id="85750-232">Стрелка Hello, созданный *ссылку*.</span><span class="sxs-lookup"><span data-stu-id="85750-232">hello arrow that you created is a *link*.</span></span>  <span data-ttu-id="85750-233">Hello runbook запускается с **получить запуска качестве соединения** , а затем запустите **AzureRmAccount добавить**.</span><span class="sxs-lookup"><span data-stu-id="85750-233">hello runbook starts with **Get Run As Connection** and then run **Add-AzureRmAccount**.</span></span><br> <span data-ttu-id="85750-234">![Создание связи между действиями](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span><span class="sxs-lookup"><span data-stu-id="85750-234">![Create link between activities](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span></span>
8. <span data-ttu-id="85750-235">На холсте hello выберите **AzureRmAccount добавить** и в конфигурации hello области типа элемента управления **tooAzure входа** в hello **метка** текстового поля.</span><span class="sxs-lookup"><span data-stu-id="85750-235">On hello canvas, select **Add-AzureRmAccount** and in hello Configuration control pane type **Login tooAzure** in hello **Label** textbox.</span></span>
9. <span data-ttu-id="85750-236">Нажмите кнопку **параметры** и появится в колонке hello действие параметра конфигурации.</span><span class="sxs-lookup"><span data-stu-id="85750-236">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
10. <span data-ttu-id="85750-237">**Добавить AzureRmAccount** имеет несколько наборов параметров, поэтому необходимо tooselect один, прежде чем мы можем предоставить значения параметров.</span><span class="sxs-lookup"><span data-stu-id="85750-237">**Add-AzureRmAccount** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="85750-238">Нажмите кнопку **параметру** , а затем выберите hello **ServicePrincipalCertificatewithSubscriptionId** набор параметров.</span><span class="sxs-lookup"><span data-stu-id="85750-238">Click **Parameter Set** and then select hello **ServicePrincipalCertificatewithSubscriptionId** parameter set.</span></span>
11. <span data-ttu-id="85750-239">После выбора hello набор параметров, отображаются параметры hello в колонке hello конфигурации параметра действия.</span><span class="sxs-lookup"><span data-stu-id="85750-239">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="85750-240">Щелкните **APPLICATIONID**.</span><span class="sxs-lookup"><span data-stu-id="85750-240">Click **APPLICATIONID**.</span></span><br> <span data-ttu-id="85750-241">![Добавление параметров учетной записи Azure RM](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span><span class="sxs-lookup"><span data-stu-id="85750-241">![Add Azure RM account parameters](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span></span>
12. <span data-ttu-id="85750-242">В колонке hello значение параметра, выберите **выходные данные действия** для hello **источника данных** и выберите **получить запуска качестве соединения** списке hello в hello **поля путь** текстовое поле типа **ApplicationId**, а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-242">In hello Parameter Value blade, select **Activity output** for hello **Data source** and select **Get Run As Connection** from hello list, in hello **Field path** textbox type **ApplicationId**, and then click **OK**.</span></span>  <span data-ttu-id="85750-243">Мы указывается имя hello hello свойства для hello поле пути, потому, что действие hello объекта с несколькими свойствами.</span><span class="sxs-lookup"><span data-stu-id="85750-243">We are specifying hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>
13. <span data-ttu-id="85750-244">Нажмите кнопку **CERTIFICATETHUMBPRINT**и выберите в колонке hello значение параметра **выходные данные действия** для hello **источника данных**.</span><span class="sxs-lookup"><span data-stu-id="85750-244">Click **CERTIFICATETHUMBPRINT**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="85750-245">Выберите **получить запуска качестве соединения** списке hello в hello **путь к полю** текстовое поле типа **CertificateThumbprint**и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-245">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **CertificateThumbprint**, and then click **OK**.</span></span>
14. <span data-ttu-id="85750-246">Нажмите кнопку **SERVICEPRINCIPAL**и выберите в колонке hello значение параметра **ConstantValue** для hello **источника данных**, переключатель hello **True**, а затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-246">Click **SERVICEPRINCIPAL**, and in hello Parameter Value blade, select **ConstantValue** for hello **Data source**, click hello option **True**, and then click **OK**.</span></span>
15. <span data-ttu-id="85750-247">Нажмите кнопку **TENANTID**и выберите в колонке hello значение параметра **выходные данные действия** для hello **источника данных**.</span><span class="sxs-lookup"><span data-stu-id="85750-247">Click **TENANTID**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="85750-248">Выберите **получить запуска качестве соединения** списке hello в hello **путь к полю** текстовое поле типа **TenantId**и нажмите кнопку **ОК** дважды.</span><span class="sxs-lookup"><span data-stu-id="85750-248">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **TenantId**, and then click **OK** twice.</span></span>  
16. <span data-ttu-id="85750-249">В hello библиотеки элементов управления, введите **AzureRmContext набора** в текстовом поле поиска hello.</span><span class="sxs-lookup"><span data-stu-id="85750-249">In hello Library control, type **Set-AzureRmContext** in hello search textbox.</span></span>
17. <span data-ttu-id="85750-250">Добавить **AzureRmContext набор** toohello холста.</span><span class="sxs-lookup"><span data-stu-id="85750-250">Add **Set-AzureRmContext** toohello canvas.</span></span>
18. <span data-ttu-id="85750-251">На холсте hello выберите **AzureRmContext набор** и в конфигурации hello области типа элемента управления **укажите идентификатор подписки** в hello **метка** текстового поля.</span><span class="sxs-lookup"><span data-stu-id="85750-251">On hello canvas, select **Set-AzureRmContext** and in hello Configuration control pane type **Specify Subscription Id** in hello **Label** textbox.</span></span>
19. <span data-ttu-id="85750-252">Нажмите кнопку **параметры** и появится в колонке hello действие параметра конфигурации.</span><span class="sxs-lookup"><span data-stu-id="85750-252">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
20. <span data-ttu-id="85750-253">**Набор AzureRmContext** имеет несколько наборов параметров, поэтому необходимо tooselect один, прежде чем мы можем предоставить значения параметров.</span><span class="sxs-lookup"><span data-stu-id="85750-253">**Set-AzureRmContext** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="85750-254">Нажмите кнопку **параметру** , а затем выберите hello **SubscriptionId** набор параметров.</span><span class="sxs-lookup"><span data-stu-id="85750-254">Click **Parameter Set** and then select hello **SubscriptionId** parameter set.</span></span>  
21. <span data-ttu-id="85750-255">После выбора hello набор параметров, отображаются параметры hello в колонке hello конфигурации параметра действия.</span><span class="sxs-lookup"><span data-stu-id="85750-255">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="85750-256">Щелкните **SubscriptionID**</span><span class="sxs-lookup"><span data-stu-id="85750-256">Click **SubscriptionID**</span></span>
22. <span data-ttu-id="85750-257">В колонке hello значение параметра, выберите **переменной активов** для hello **источника данных** и выберите **AzureSubscriptionId** hello списка и нажмите кнопку **ОК**  дважды.</span><span class="sxs-lookup"><span data-stu-id="85750-257">In hello Parameter Value blade, select **Variable Asset** for hello **Data source** and select **AzureSubscriptionId** from hello list and then click **OK** twice.</span></span>   
23. <span data-ttu-id="85750-258">Наведите указатель мыши на **tooAzure входа** до появления окружности нижней hello hello фигуры.</span><span class="sxs-lookup"><span data-stu-id="85750-258">Hover over **Login tooAzure** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="85750-259">Щелкните круг hello и перетащите стрелку hello слишком**укажите идентификатор подписки**.</span><span class="sxs-lookup"><span data-stu-id="85750-259">Click hello circle and drag hello arrow too**Specify Subscription Id**.</span></span>

<span data-ttu-id="85750-260">Модуль runbook должен выглядеть hello на этом этапе следующие:</span><span class="sxs-lookup"><span data-stu-id="85750-260">Your runbook should look like hello following at this point:</span></span> <br>![Настройка проверки подлинности Runbook](media/automation-first-runbook-graphical/runbook-auth-config.png)

## <a name="step-7---add-activity-toostart-a-virtual-machine"></a><span data-ttu-id="85750-262">Шаг 7 — Добавление toostart действия виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="85750-262">Step 7 - Add activity toostart a virtual machine</span></span>
<span data-ttu-id="85750-263">Здесь мы добавляем **AzureRmVM начала** toostart действия виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="85750-263">Here we add a **Start-AzureRmVM** activity toostart a virtual machine.</span></span>  <span data-ttu-id="85750-264">Можно выбрать любой виртуальной машине в вашей подписке Azure и теперь можно указывать, имя в командлет hello.</span><span class="sxs-lookup"><span data-stu-id="85750-264">You can pick any virtual machine in your Azure subscription, and for now you hardcode that name into hello cmdlet.</span></span>

1. <span data-ttu-id="85750-265">В hello библиотеки элементов управления, введите **AzureRm начала** в текстовом поле поиска hello.</span><span class="sxs-lookup"><span data-stu-id="85750-265">In hello Library control, type **Start-AzureRm** in hello search textbox.</span></span>
2. <span data-ttu-id="85750-266">Добавить **начала AzureRmVM** toohello холст и затем щелкните и перетащите его под **укажите идентификатор подписки**.</span><span class="sxs-lookup"><span data-stu-id="85750-266">Add **Start-AzureRmVM** toohello canvas and then click and drag it underneath **Specify Subscription Id**.</span></span>
3. <span data-ttu-id="85750-267">Наведите указатель мыши на **укажите идентификатор подписки** до появления окружности нижней hello hello фигуры.</span><span class="sxs-lookup"><span data-stu-id="85750-267">Hover over **Specify Subscription Id** until a circle appears on hello bottom of hello shape.</span></span>  <span data-ttu-id="85750-268">Щелкните круг hello и перетащите стрелку hello слишком**AzureRmVM начала**.</span><span class="sxs-lookup"><span data-stu-id="85750-268">Click hello circle and drag hello arrow too**Start-AzureRmVM**.</span></span>
4. <span data-ttu-id="85750-269">Выберите **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="85750-269">Select **Start-AzureRmVM**.</span></span>  <span data-ttu-id="85750-270">Нажмите кнопку **параметры** и затем **параметру** tooview hello задает для **AzureRmVM начала**.</span><span class="sxs-lookup"><span data-stu-id="85750-270">Click **Parameters** and then **Parameter Set** tooview hello sets for **Start-AzureRmVM**.</span></span>  <span data-ttu-id="85750-271">Выберите hello **ResourceGroupNameParameterSetName** набор параметров.</span><span class="sxs-lookup"><span data-stu-id="85750-271">Select hello **ResourceGroupNameParameterSetName** parameter set.</span></span> <span data-ttu-id="85750-272">Обратите внимание, что рядом с параметрами **ResourceGroupName** и **Имя** стоят восклицательные знаки.</span><span class="sxs-lookup"><span data-stu-id="85750-272">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="85750-273">Это означает, что данные параметры являются обязательными.</span><span class="sxs-lookup"><span data-stu-id="85750-273">This indicates that they are required parameters.</span></span>  <span data-ttu-id="85750-274">Также оба параметра ожидают ввода строковых значений.</span><span class="sxs-lookup"><span data-stu-id="85750-274">Also note both expect string values.</span></span>
5. <span data-ttu-id="85750-275">Выберите параметр **Имя**.</span><span class="sxs-lookup"><span data-stu-id="85750-275">Select **Name**.</span></span>  <span data-ttu-id="85750-276">Выберите **PowerShell выражение** для hello **источника данных** и введите имя hello hello виртуальной машины, заключен в двойные кавычки, которые мы начнем с этим модулем runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-276">Select **PowerShell expression** for hello **Data source** and type in hello name of hello virtual machine surrounded with double quotes that we start with this runbook.</span></span>  <span data-ttu-id="85750-277">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-277">Click **OK**.</span></span><br><span data-ttu-id="85750-278">![Значение параметра имени для Start-AzureRmVM](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span><span class="sxs-lookup"><span data-stu-id="85750-278">![Start-AzureRmVM Name Parameter Value](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span></span>
6. <span data-ttu-id="85750-279">Выберите **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="85750-279">Select **ResourceGroupName**.</span></span> <span data-ttu-id="85750-280">Используйте **PowerShell выражение** для hello **источника данных** и введите имя hello группы ресурсов hello, заключен в двойные кавычки.</span><span class="sxs-lookup"><span data-stu-id="85750-280">Use **PowerShell expression** for hello **Data source** and type in hello name of hello resource group surrounded with double quotes.</span></span>  <span data-ttu-id="85750-281">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-281">Click **OK**.</span></span><br> <span data-ttu-id="85750-282">![Параметры Start-AzureRmVM](media/automation-first-runbook-graphical/startazurermvm-params.png)</span><span class="sxs-lookup"><span data-stu-id="85750-282">![Start-AzureRmVM Parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span></span>
7. <span data-ttu-id="85750-283">Щелкните области тестов, чтобы мы смогли проверить hello runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-283">Click Test pane so that we can test hello runbook.</span></span>
8. <span data-ttu-id="85750-284">Нажмите кнопку **запустить** toostart hello теста.</span><span class="sxs-lookup"><span data-stu-id="85750-284">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="85750-285">После ее завершения, убедитесь, что виртуальная машина, hello была запущена.</span><span class="sxs-lookup"><span data-stu-id="85750-285">Once it completes, check that hello virtual machine was started.</span></span>

<span data-ttu-id="85750-286">Модуль runbook должен выглядеть hello на этом этапе следующие:</span><span class="sxs-lookup"><span data-stu-id="85750-286">Your runbook should look like hello following at this point:</span></span> <br>![Настройка проверки подлинности Runbook](media/automation-first-runbook-graphical/runbook-startvm.png)

## <a name="step-8---add-additional-input-parameters-toohello-runbook"></a><span data-ttu-id="85750-288">Шаг 8 — Добавление дополнительных входных параметров toohello runbook</span><span class="sxs-lookup"><span data-stu-id="85750-288">Step 8 - Add additional input parameters toohello runbook</span></span>
<span data-ttu-id="85750-289">Наш runbook в данный момент запускает hello виртуальную машину в группу ресурсов hello, мы указали в hello **AzureRmVM начала** командлета.</span><span class="sxs-lookup"><span data-stu-id="85750-289">Our runbook currently starts hello virtual machine in hello resource group that we specified in hello **Start-AzureRmVM** cmdlet.</span></span>  <span data-ttu-id="85750-290">Наш runbook будет более полезным в том случае, если оба можно указать при запуске hello runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-290">Our runbook would be more useful if we could specify both when hello runbook is started.</span></span>  <span data-ttu-id="85750-291">Теперь добавим tooprovide runbook toohello входных параметров эта функция.</span><span class="sxs-lookup"><span data-stu-id="85750-291">We now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="85750-292">Графический редактор Привет открыть, щелкнув **изменить** на hello **MyFirstRunbook** области.</span><span class="sxs-lookup"><span data-stu-id="85750-292">Open hello graphical editor by clicking **Edit** on hello **MyFirstRunbook** pane.</span></span>
2. <span data-ttu-id="85750-293">Нажмите кнопку **ввод и вывод** и затем **добавить входные данные** tooopen hello Runbook входной параметр области.</span><span class="sxs-lookup"><span data-stu-id="85750-293">Click **Input and output** and then **Add input** tooopen hello Runbook Input Parameter pane.</span></span><br> <span data-ttu-id="85750-294">![Входные и выходные данные Runbook](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="85750-294">![Runbook Input and Output](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span></span>
3. <span data-ttu-id="85750-295">Укажите *VMName* для hello **имя**.</span><span class="sxs-lookup"><span data-stu-id="85750-295">Specify *VMName* for hello **Name**.</span></span>  <span data-ttu-id="85750-296">Сохранить *строка* для hello **тип**, но изменить **обязательные** слишком*Да*.</span><span class="sxs-lookup"><span data-stu-id="85750-296">Keep *string* for hello **Type**, but change **Mandatory** too*Yes*.</span></span>  <span data-ttu-id="85750-297">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-297">Click **OK**.</span></span>
4. <span data-ttu-id="85750-298">Создайте второй обязательный входной параметр с именем *ResourceGroupName* и нажмите кнопку **ОК** tooclose hello **входной и выходной** области.</span><span class="sxs-lookup"><span data-stu-id="85750-298">Create a second mandatory input parameter called *ResourceGroupName* and then click **OK** tooclose hello **Input and Output** pane.</span></span><br> <span data-ttu-id="85750-299">![Входные параметры Runbook](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span><span class="sxs-lookup"><span data-stu-id="85750-299">![Runbook Input Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span></span>
5. <span data-ttu-id="85750-300">Выберите hello **начала AzureRmVM** действия и нажмите кнопку **параметры**.</span><span class="sxs-lookup"><span data-stu-id="85750-300">Select hello **Start-AzureRmVM** activity and then click **Parameters**.</span></span>
6. <span data-ttu-id="85750-301">Изменение hello **источника данных** для **имя** слишком**ввода Runbook** , а затем выберите **VMName**.</span><span class="sxs-lookup"><span data-stu-id="85750-301">Change hello **Data source** for **Name** too**Runbook input** and then select **VMName**.</span></span><br>
7. <span data-ttu-id="85750-302">Изменение hello **источника данных** для **ResourceGroupName** слишком**ввода Runbook** , а затем выберите **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="85750-302">Change hello **Data source** for **ResourceGroupName** too**Runbook input** and then select **ResourceGroupName**.</span></span><br> <span data-ttu-id="85750-303">![Параметры командлета Start-AzureVM](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span><span class="sxs-lookup"><span data-stu-id="85750-303">![Start-AzureVM Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span></span>
8. <span data-ttu-id="85750-304">Сохраните hello runbook и откройте панель тестовых hello.</span><span class="sxs-lookup"><span data-stu-id="85750-304">Save hello runbook and open hello Test pane.</span></span>  <span data-ttu-id="85750-305">Обратите внимание, что вы можете теперь задать значения для hello две входные переменные, используемые в тесте hello.</span><span class="sxs-lookup"><span data-stu-id="85750-305">Note that you can now provide values for hello two input variables that you use in hello test.</span></span>
9. <span data-ttu-id="85750-306">Закрыть hello тестовой области.</span><span class="sxs-lookup"><span data-stu-id="85750-306">Close hello Test pane.</span></span>
10. <span data-ttu-id="85750-307">Нажмите кнопку **публикации** toopublish hello hello runbook в новой версии.</span><span class="sxs-lookup"><span data-stu-id="85750-307">Click **Publish** toopublish hello new version of hello runbook.</span></span>
11. <span data-ttu-id="85750-308">Остановите hello виртуальную машину, которая запущена на предыдущем шаге hello.</span><span class="sxs-lookup"><span data-stu-id="85750-308">Stop hello virtual machine that you started in hello previous step.</span></span>
12. <span data-ttu-id="85750-309">Нажмите кнопку **запустить** toostart hello runbook.</span><span class="sxs-lookup"><span data-stu-id="85750-309">Click **Start** toostart hello runbook.</span></span>  <span data-ttu-id="85750-310">Тип в hello **VMName** и **ResourceGroupName** для виртуальной машины hello ты toostart.</span><span class="sxs-lookup"><span data-stu-id="85750-310">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br> <span data-ttu-id="85750-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span><span class="sxs-lookup"><span data-stu-id="85750-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span></span>
13. <span data-ttu-id="85750-312">После завершения hello runbook, убедитесь, что виртуальная машина, hello была запущена.</span><span class="sxs-lookup"><span data-stu-id="85750-312">When hello runbook completes, check that hello virtual machine was started.</span></span>

## <a name="step-9---create-a-conditional-link"></a><span data-ttu-id="85750-313">Шаг 9. Создание условной связи</span><span class="sxs-lookup"><span data-stu-id="85750-313">Step 9 - Create a conditional link</span></span>
<span data-ttu-id="85750-314">Теперь мы изменить hello runbook таким образом, чтобы только пытается toostart hello виртуальной машины, если он еще не запущен.</span><span class="sxs-lookup"><span data-stu-id="85750-314">We now modify hello runbook so that it only attempts toostart hello virtual machine if it is not already started.</span></span>  <span data-ttu-id="85750-315">Это можно сделать, добавив **Get AzureRmVM** runbook toohello командлет, который возвращает состояние экземпляра уровня hello hello виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="85750-315">You do this by adding a **Get-AzureRmVM** cmdlet toohello runbook that gets hello instance level status of hello virtual machine.</span></span> <span data-ttu-id="85750-316">После этого добавить модуль кода рабочий процесс PowerShell с именем **Получение состояния** во фрагмент PowerShell код toodetermine, если состояние виртуальной машины hello запущенной или остановленной.</span><span class="sxs-lookup"><span data-stu-id="85750-316">Then you add a PowerShell Workflow code module called **Get Status** with a snippet of PowerShell code toodetermine if hello virtual machine state is running or stopped.</span></span>  <span data-ttu-id="85750-317">Условных связей из hello **Получение состояния** модуль выполняется только **AzureRmVM начала** при остановке hello текущее состояние.</span><span class="sxs-lookup"><span data-stu-id="85750-317">A conditional link from hello **Get Status** module only runs **Start-AzureRmVM** if hello current running state is stopped.</span></span>  <span data-ttu-id="85750-318">Наконец мы вывода tooinform сообщение, если hello ВМ был успешно запущен или не использовать hello командлет PowerShell Write-Output.</span><span class="sxs-lookup"><span data-stu-id="85750-318">Finally, we output a message tooinform you if hello VM was successfully started or not using hello PowerShell Write-Output cmdlet.</span></span>

1. <span data-ttu-id="85750-319">Откройте **MyFirstRunbook** в графическом редакторе hello.</span><span class="sxs-lookup"><span data-stu-id="85750-319">Open **MyFirstRunbook** in hello graphical editor.</span></span>
2. <span data-ttu-id="85750-320">Удалить hello связь между **укажите идентификатор подписки** и **начала AzureRmVM** , щелкнув его и нажав hello *удалить* ключа.</span><span class="sxs-lookup"><span data-stu-id="85750-320">Remove hello link between **Specify Subscription Id** and **Start-AzureRmVM** by clicking on it and then pressing hello *Delete* key.</span></span>
3. <span data-ttu-id="85750-321">В hello библиотеки элементов управления, введите **Get AzureRm** в текстовом поле поиска hello.</span><span class="sxs-lookup"><span data-stu-id="85750-321">In hello Library control, type **Get-AzureRm** in hello search textbox.</span></span>
4. <span data-ttu-id="85750-322">Добавить **Get AzureRmVM** toohello холста.</span><span class="sxs-lookup"><span data-stu-id="85750-322">Add **Get-AzureRmVM** toohello canvas.</span></span>
5. <span data-ttu-id="85750-323">Выберите **Get AzureRmVM** и затем **параметру** tooview hello задает для **Get AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="85750-323">Select **Get-AzureRmVM** and then **Parameter Set** tooview hello sets for **Get-AzureRmVM**.</span></span>  <span data-ttu-id="85750-324">Выберите hello **GetVirtualMachineInResourceGroupNameParamSet** набор параметров.</span><span class="sxs-lookup"><span data-stu-id="85750-324">Select hello **GetVirtualMachineInResourceGroupNameParamSet** parameter set.</span></span>  <span data-ttu-id="85750-325">Обратите внимание, что рядом с параметрами **ResourceGroupName** и **Имя** стоят восклицательные знаки.</span><span class="sxs-lookup"><span data-stu-id="85750-325">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="85750-326">Это означает, что данные параметры являются обязательными.</span><span class="sxs-lookup"><span data-stu-id="85750-326">This indicates that they are required parameters.</span></span>  <span data-ttu-id="85750-327">Также оба параметра ожидают ввода строковых значений.</span><span class="sxs-lookup"><span data-stu-id="85750-327">Also note both expect string values.</span></span>
6. <span data-ttu-id="85750-328">В поле **Источник данных** для параметра **Имя** укажите значение **Runbook input** (Входные данные Runbook), а затем выберите **VMName**.</span><span class="sxs-lookup"><span data-stu-id="85750-328">Under **Data source** for **Name**, select **Runbook input** and then select **VMName**.</span></span>  <span data-ttu-id="85750-329">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-329">Click **OK**.</span></span>
7. <span data-ttu-id="85750-330">В поле **Источник данных** для параметра **ResourceGroupName** укажите значение **Runbook input** (Входные данные Runbook), а затем выберите **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="85750-330">Under **Data source** for **ResourceGroupName**, select **Runbook input** and then select **ResourceGroupName**.</span></span>  <span data-ttu-id="85750-331">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-331">Click **OK**.</span></span>
8. <span data-ttu-id="85750-332">В поле **Источник данных** для параметра **Состояние** выберите **Значение-константа**, а затем щелкните **True**.</span><span class="sxs-lookup"><span data-stu-id="85750-332">Under **Data source** for **Status**, select **Constant value** and then click  **True**.</span></span>  <span data-ttu-id="85750-333">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="85750-333">Click **OK**.</span></span>  
9. <span data-ttu-id="85750-334">Создайте связь от **укажите идентификатор подписки** слишком**Get AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="85750-334">Create a link from **Specify Subscription Id** too**Get-AzureRmVM**.</span></span>
10. <span data-ttu-id="85750-335">В элемент управления из библиотеки hello, разверните **управления Runbook** и добавьте **кода** toohello холста.</span><span class="sxs-lookup"><span data-stu-id="85750-335">In hello library control, expand **Runbook Control** and add **Code** toohello canvas.</span></span>  
11. <span data-ttu-id="85750-336">Создайте связь от **Get AzureRmVM** слишком**кода**.</span><span class="sxs-lookup"><span data-stu-id="85750-336">Create a link from **Get-AzureRmVM** too**Code**.</span></span>  
12. <span data-ttu-id="85750-337">Нажмите кнопку **кода** и hello конфигурации панели, измените метку слишком**Получение состояния**.</span><span class="sxs-lookup"><span data-stu-id="85750-337">Click **Code** and in hello Configuration pane, change label too**Get Status**.</span></span>
13. <span data-ttu-id="85750-338">Выберите **кода** параметр и hello **редактор кода** колонке отображается.</span><span class="sxs-lookup"><span data-stu-id="85750-338">Select **Code** parameter, and hello **Code Editor** blade appears.</span></span>  
14. <span data-ttu-id="85750-339">В редакторе кода hello вставьте следующий фрагмент кода hello:</span><span class="sxs-lookup"><span data-stu-id="85750-339">In hello code editor, paste hello following snippet of code:</span></span>
    
     ```
     $StatusesJson = $ActivityOutput['Get-AzureRmVM'].StatusesText
     $Statuses = ConvertFrom-Json $StatusesJson
     $StatusOut =""
     foreach ($Status in $Statuses){
     if($Status.Code -eq "Powerstate/running"){$StatusOut = "running"}
     elseif ($Status.Code -eq "Powerstate/deallocated") {$StatusOut = "stopped"}
     }
     $StatusOut
     ```
15. <span data-ttu-id="85750-340">Создайте связь от **Получение состояния** слишком**AzureRmVM начала**.</span><span class="sxs-lookup"><span data-stu-id="85750-340">Create a link from **Get Status** too**Start-AzureRmVM**.</span></span><br> <span data-ttu-id="85750-341">![Runbook с модулем кода](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span><span class="sxs-lookup"><span data-stu-id="85750-341">![Runbook with Code Module](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span></span>  
16. <span data-ttu-id="85750-342">Выберите ссылку, hello и панели конфигурации hello, измените **применять условие** слишком**Да**.</span><span class="sxs-lookup"><span data-stu-id="85750-342">Select hello link and in hello Configuration pane, change **Apply condition** too**Yes**.</span></span>   <span data-ttu-id="85750-343">Связь с заметкой hello включает tooa пунктирных строки, указывающее, что hello целевого действия запускается, только если условие hello разрешает tootrue.</span><span class="sxs-lookup"><span data-stu-id="85750-343">Note hello link turns tooa dashed line indicating that hello target activity only runs if hello condition resolves tootrue.</span></span>  
17. <span data-ttu-id="85750-344">Для hello **условия выражения**, тип *$ActivityOutput [«получение состояния»] - eq «Остановлена»*.</span><span class="sxs-lookup"><span data-stu-id="85750-344">For hello **Condition expression**, type *$ActivityOutput['Get Status'] -eq "Stopped"*.</span></span>  <span data-ttu-id="85750-345">**Начало AzureRmVM** выполняется теперь только если hello виртуальная машина остановлена.</span><span class="sxs-lookup"><span data-stu-id="85750-345">**Start-AzureRmVM** now only runs if hello virtual machine is stopped.</span></span>
18. <span data-ttu-id="85750-346">В hello элемент управления из библиотеки, разверните **командлеты** и затем **Microsoft.PowerShell.Utility**.</span><span class="sxs-lookup"><span data-stu-id="85750-346">In hello Library control, expand **Cmdlets** and then **Microsoft.PowerShell.Utility**.</span></span>
19. <span data-ttu-id="85750-347">Добавить **Write-Output** toohello холст дважды.</span><span class="sxs-lookup"><span data-stu-id="85750-347">Add **Write-Output** toohello canvas twice.</span></span><br> <span data-ttu-id="85750-348">![Runbook с командлетом Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span><span class="sxs-lookup"><span data-stu-id="85750-348">![Runbook with Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span></span>
20. <span data-ttu-id="85750-349">На hello первый **Write-Output** управлять, щелкните **параметры** и измените hello **метка** значение слишком*уведомить работы виртуальной Машины*.</span><span class="sxs-lookup"><span data-stu-id="85750-349">On hello first **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Started*.</span></span>
21. <span data-ttu-id="85750-350">Для **InputObject**, изменить **источника данных** слишком**PowerShell выражение** и введите выражение hello *«$VMName успешно запущен».* .</span><span class="sxs-lookup"><span data-stu-id="85750-350">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName successfully started."*.</span></span>
22. <span data-ttu-id="85750-351">На hello второй **Write-Output** управлять, щелкните **параметры** и измените hello **метка** значение слишком*уведомить запустить сбой виртуальной Машины*</span><span class="sxs-lookup"><span data-stu-id="85750-351">On hello second **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Start Failed*</span></span>
23. <span data-ttu-id="85750-352">Для **InputObject**, изменить **источника данных** слишком**PowerShell выражение** и введите выражение hello *«$VMName не удалось запустить.»* .</span><span class="sxs-lookup"><span data-stu-id="85750-352">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName could not start."*.</span></span>
24. <span data-ttu-id="85750-353">Создайте связь от **начала AzureRmVM** слишком**уведомить работы виртуальной Машины** и **уведомить ВМ запустить не удалось**.</span><span class="sxs-lookup"><span data-stu-id="85750-353">Create a link from **Start-AzureRmVM** too**Notify VM Started** and **Notify VM Start Failed**.</span></span>
25. <span data-ttu-id="85750-354">Выберите связь hello слишком**уведомить работы виртуальной Машины** и измените **применять условие** слишком**True**.</span><span class="sxs-lookup"><span data-stu-id="85750-354">Select hello link too**Notify VM Started** and change **Apply condition** too**True**.</span></span>
26. <span data-ttu-id="85750-355">Для hello **условия выражения**, тип *$ActivityOutput [«Start-AzureRmVM»]. IsSuccessStatusCode - eq $true*.</span><span class="sxs-lookup"><span data-stu-id="85750-355">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span></span>  <span data-ttu-id="85750-356">Write-Output управление выполняется теперь только, если успешно запущен hello виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="85750-356">This Write-Output control now only runs if hello virtual machine is successfully started.</span></span>
27. <span data-ttu-id="85750-357">Выберите связь hello слишком**уведомить ВМ запустить не удалось** и измените **применять условие** слишком**True**.</span><span class="sxs-lookup"><span data-stu-id="85750-357">Select hello link too**Notify VM Start Failed** and change **Apply condition** too**True**.</span></span>
28. <span data-ttu-id="85750-358">Для hello **условия выражения**, тип *$ActivityOutput [«Start-AzureRmVM»]. IsSuccessStatusCode - ne $true*.</span><span class="sxs-lookup"><span data-stu-id="85750-358">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span></span>  <span data-ttu-id="85750-359">Write-Output теперь управление выполняется только если hello виртуальной машины не запущена успешно.</span><span class="sxs-lookup"><span data-stu-id="85750-359">This Write-Output control now only runs if hello virtual machine is not successfully started.</span></span>
29. <span data-ttu-id="85750-360">Сохраните hello runbook и откройте панель тестовых hello.</span><span class="sxs-lookup"><span data-stu-id="85750-360">Save hello runbook and open hello Test pane.</span></span>
30. <span data-ttu-id="85750-361">Запустите hello runbook hello виртуальная машина остановлена, и его запуска.</span><span class="sxs-lookup"><span data-stu-id="85750-361">Start hello runbook with hello virtual machine stopped, and it should start.</span></span>

## <a name="next-steps"></a><span data-ttu-id="85750-362">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="85750-362">Next steps</span></span>
* <span data-ttu-id="85750-363">toolearn Дополнительные сведения о графических разработки. в разделе [графический разработки автоматизации Azure](automation-graphical-authoring-intro.md)</span><span class="sxs-lookup"><span data-stu-id="85750-363">toolearn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md)</span></span>
* <span data-ttu-id="85750-364">tooget к работе с PowerShell модули Runbook в разделе [Мой первый runbook PowerShell](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="85750-364">tooget started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="85750-365">tooget к работе с PowerShell модули Runbook рабочего процесса, в разделе [Мой первый runbook рабочего процесса PowerShell](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="85750-365">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>

