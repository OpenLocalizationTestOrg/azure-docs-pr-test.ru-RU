---
title: "Гибридная рабочая роль Runbook. Задание Runbook завершается с состоянием \"Приостановлено\" | Документация Майкрософт"
description: "Симптомы, причины и способы устранения ошибки завершения задания гибридной рабочей роли Runbook."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 02c6606e-8924-4328-a196-45630c2255e9
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/17/2016
ms.author: magoedte
ms.openlocfilehash: 7c6365b729d73f1c5b9bc57952b1723255d9e9f0
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="hybrid-runbook-worker-a-runbook-job-terminates-with-a-status-of-suspended"></a><span data-ttu-id="34933-103">Гибридная рабочая роль Runbook. Задание Runbook завершается с состоянием "Приостановлено"</span><span class="sxs-lookup"><span data-stu-id="34933-103">Hybrid Runbook Worker: A runbook job terminates with a status of Suspended</span></span>
## <a name="summary"></a><span data-ttu-id="34933-104">Сводка</span><span class="sxs-lookup"><span data-stu-id="34933-104">Summary</span></span>
<span data-ttu-id="34933-105">Модуль Runbook приостанавливается сразу после третьей попытки выполнения.</span><span class="sxs-lookup"><span data-stu-id="34933-105">Your runbook is suspended shortly after attempting to execute it three times.</span></span> <span data-ttu-id="34933-106">Определенные условия могут помешать успешному выполнению модуля Runbook, а в сообщении об ошибке не содержится никаких дополнительных сведений, позволяющих определить причину.</span><span class="sxs-lookup"><span data-stu-id="34933-106">There are conditions which may interrupt the runbook from completing successfully and the related error message does not include any additional information indicating why.</span></span> <span data-ttu-id="34933-107">В этой статье описываются действия по устранению проблем, связанных со сбоями выполнения гибридной рабочей роли Runbook.</span><span class="sxs-lookup"><span data-stu-id="34933-107">This article provides troubleshooting steps for issues related to the Hybrid Runbook Worker runbook execution failures.</span></span>

<span data-ttu-id="34933-108">Если в этой статье нет решения вашей проблемы с Azure, посетите форумы по Azure [на сайтах MSDN и Stack Overflow](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="34933-108">If your Azure issue is not addressed in this article, visit the Azure forums on [MSDN and the Stack Overflow](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="34933-109">Проблему можно разместить на этих форумах или отправить по адресу [@AzureSupport в Twitter](https://twitter.com/AzureSupport).</span><span class="sxs-lookup"><span data-stu-id="34933-109">You can post your issue on these forums or to [@AzureSupport on Twitter](https://twitter.com/AzureSupport).</span></span> <span data-ttu-id="34933-110">Кроме того, можно отправить запрос в службу поддержки Azure, выбрав **Получить поддержку** на сайте [службы поддержки Azure](https://azure.microsoft.com/support/options/) .</span><span class="sxs-lookup"><span data-stu-id="34933-110">Also, you can file an Azure support request by selecting **Get support** on the [Azure support](https://azure.microsoft.com/support/options/) site.</span></span>

## <a name="symptom"></a><span data-ttu-id="34933-111">Симптом</span><span class="sxs-lookup"><span data-stu-id="34933-111">Symptom</span></span>
<span data-ttu-id="34933-112">Происходит сбой выполнения модуля Runbook с ошибкой: "Действие задания "Активировать" не может быть выполнено из-за непредвиденной остановки процесса.</span><span class="sxs-lookup"><span data-stu-id="34933-112">Runbook execution fails and the error returned is, "The job action 'Activate' cannot be run, because the process stopped unexpectedly.</span></span> <span data-ttu-id="34933-113">Количество предпринятых попыток выполнить действие задания: 3".</span><span class="sxs-lookup"><span data-stu-id="34933-113">The job action was attempted 3 times."</span></span>

## <a name="cause"></a><span data-ttu-id="34933-114">Причина:</span><span class="sxs-lookup"><span data-stu-id="34933-114">Cause</span></span>
<span data-ttu-id="34933-115">Ошибка могла возникнуть по нескольким причинам</span><span class="sxs-lookup"><span data-stu-id="34933-115">There are several possible causes for the error:</span></span> 

1. <span data-ttu-id="34933-116">Гибридная рабочая роль находится за прокси-сервером или брандмауэром.</span><span class="sxs-lookup"><span data-stu-id="34933-116">The hybrid worker is behind a proxy or firewall</span></span>
2. <span data-ttu-id="34933-117">Компьютер, на котором выполняется гибридная рабочая роль, не соответствует минимальным [требованиям](automation-hybrid-runbook-worker.md#hybrid-runbook-worker-requirements)</span><span class="sxs-lookup"><span data-stu-id="34933-117">The computer the hybrid worker is running on has less than the minimum hardware [requirements](automation-hybrid-runbook-worker.md#hybrid-runbook-worker-requirements)</span></span> 
3. <span data-ttu-id="34933-118">Модули Runbook не могут выполнить аутентификацию с помощью локальных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="34933-118">The runbooks cannot authenticate with local resources</span></span>

## <a name="cause-1-hybrid-runbook-worker-is-behind-proxy-or-firewall"></a><span data-ttu-id="34933-119">Причина 1. Гибридная рабочая роль Runbook находится за прокси-сервером или брандмауэром</span><span class="sxs-lookup"><span data-stu-id="34933-119">Cause 1: Hybrid Runbook Worker is behind proxy or firewall</span></span>
<span data-ttu-id="34933-120">Компьютер, на котором выполняется гибридная рабочая роль Runbook, находится за брандмауэром или прокси-сервером. Возможно, из-за этого исходящий сетевой доступ не разрешен или не настроен надлежащим образом.</span><span class="sxs-lookup"><span data-stu-id="34933-120">The computer the Hybrid Runbook Worker is running on is behind a firewall or proxy server and outbound network access may not be permitted or configured correctly.</span></span>

### <a name="solution"></a><span data-ttu-id="34933-121">Решение</span><span class="sxs-lookup"><span data-stu-id="34933-121">Solution</span></span>
<span data-ttu-id="34933-122">Проверьте, имеет ли компьютер исходящий доступ к *.cloudapp.net на портах 443, 9354 и с 30000 по 30199.</span><span class="sxs-lookup"><span data-stu-id="34933-122">Verify the computer has outbound access to *.cloudapp.net on ports 443, 9354, and 30000-30199.</span></span> 

## <a name="cause-2-computer-has-less-than-minimum-hardware-requirements"></a><span data-ttu-id="34933-123">Причина 2. Компьютер не соответствует минимальным требованиям к оборудованию</span><span class="sxs-lookup"><span data-stu-id="34933-123">Cause 2: Computer has less than minimum hardware requirements</span></span>
<span data-ttu-id="34933-124">Прежде чем назначать компьютеры, на которых будет выполняться гибридная рабочая роль Runbook, необходимо выполнить на них соответствующие минимальные требования к оборудованию.</span><span class="sxs-lookup"><span data-stu-id="34933-124">Computers running the Hybrid Runbook Worker should meet the minimum hardware requirements before designating it to host this feature.</span></span> <span data-ttu-id="34933-125">В противном случае в зависимости от использования ресурсов других фоновых процессов и при возникновении конфликта, вызванного модулями Runbook во время выполнения, компьютер становится чрезмерно загруженным. Из-за этого при выполнении задания Runbook возникают задержки и простои.</span><span class="sxs-lookup"><span data-stu-id="34933-125">Otherwise, depending on the resource utilization of other background processes and contention caused by runbooks during execution, the computer will become over utilized and cause runbook job delays or timeouts.</span></span> 

### <a name="solution"></a><span data-ttu-id="34933-126">Решение</span><span class="sxs-lookup"><span data-stu-id="34933-126">Solution</span></span>
<span data-ttu-id="34933-127">Сначала убедитесь, что компьютер, которому назначено выполнение гибридной рабочей роли Runbook, соответствует минимальным требованиям к оборудованию.</span><span class="sxs-lookup"><span data-stu-id="34933-127">First confirm the computer designated to run the Hybrid Runbook Worker feature meets the minimum hardware requirements.</span></span>  <span data-ttu-id="34933-128">Если требования выполнены, отследите использование ЦП и памяти, чтобы определить корреляцию между производительностью процессов гибридной рабочей роли Runbook и Windows.</span><span class="sxs-lookup"><span data-stu-id="34933-128">If it does, monitor CPU and memory utilization to determine any correlation between the performance of Hybrid Runbook Worker processes and Windows.</span></span>  <span data-ttu-id="34933-129">Если есть нагрузка на память или ЦП, возможно, необходимо обновить или добавить дополнительные процессоры либо увеличить объем памяти, чтобы устранить ошибку и проблему нехватки ресурсов.</span><span class="sxs-lookup"><span data-stu-id="34933-129">If there is memory or CPU pressure, this may indicate the need to upgrade or add additional processors, or increase memory to address the resource bottleneck and resolve the error.</span></span> <span data-ttu-id="34933-130">Как вариант, выберите другой вычислительный ресурс, который соответствует минимальным требованиям и масштабируется в соответствии с требованиями рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="34933-130">Alternatively, select a different compute resource that can support the minimum requirements and scale when workload demands indicate an increase is necessary.</span></span>         

## <a name="cause-3-runbooks-cannot-authenticate-with-local-resources"></a><span data-ttu-id="34933-131">Причина 3. Модули Runbook не могут выполнить аутентификацию с помощью локальных ресурсов</span><span class="sxs-lookup"><span data-stu-id="34933-131">Cause 3: Runbooks cannot authenticate with local resources</span></span>
### <a name="solution"></a><span data-ttu-id="34933-132">Решение</span><span class="sxs-lookup"><span data-stu-id="34933-132">Solution</span></span>
<span data-ttu-id="34933-133">Проверьте журнал событий **Microsoft-SMA** на наличие соответствующего события с описанием *Процесс Win32 завершен с кодом [4294967295]*.</span><span class="sxs-lookup"><span data-stu-id="34933-133">Check the **Microsoft-SMA** event log for a corresponding event with description *Win32 Process Exited with code [4294967295]*.</span></span>  <span data-ttu-id="34933-134">Эта ошибка возникла из-за того, что аутентификация в модулях Runbook еще не настроена или для группы гибридных рабочих ролей указаны учетные данные запуска от имени.</span><span class="sxs-lookup"><span data-stu-id="34933-134">The cause of this error is you haven't configured authentication in your runbooks or specified the Run As credentials for the Hybrid worker group.</span></span>  <span data-ttu-id="34933-135">Просмотрите [разрешения для модулей Runbook](automation-hybrid-runbook-worker.md#runbook-permissions) , чтобы убедиться, что аутентификация для этих модулей настроена правильно.</span><span class="sxs-lookup"><span data-stu-id="34933-135">Please review [Runbook permissions](automation-hybrid-runbook-worker.md#runbook-permissions) to confirm you have correctly configured authentication for your runbooks.</span></span>  

