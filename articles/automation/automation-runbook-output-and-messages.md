---
title: "aaaRunbook выходные данные и сообщения в службе автоматизации Azure | Документы Microsoft"
description: "Описывает подготовку способ toocreate и извлечь выход и ошибки сообщений из модулей Runbook в автоматизации Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 13a414f5-0e2c-4be2-9558-a3e3ec84b6b2
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/11/2016
ms.author: magoedte;bwren
ms.openlocfilehash: c1505fa889473766bfa47e43aaed2449d60ad851
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="runbook-output-and-messages-in-azure-automation"></a><span data-ttu-id="586f5-103">Выходные данные и сообщения Runbook в службе автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="586f5-103">Runbook output and messages in Azure Automation</span></span>
<span data-ttu-id="586f5-104">В большинстве модулей Runbook службы автоматизации Azure будут иметь определенный формат выходных данных, например ошибка сообщения toohello пользователя или сложный объект, предназначенный toobe использования другим рабочим процессом.</span><span class="sxs-lookup"><span data-stu-id="586f5-104">Most Azure Automation runbooks will have some form of output such as an error message toohello user or a complex object intended toobe consumed by another workflow.</span></span> <span data-ttu-id="586f5-105">Windows PowerShell предоставляет [несколько потоков](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) toosend выходные данные сценария или рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="586f5-105">Windows PowerShell provides [multiple streams](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) toosend output from a script or workflow.</span></span> <span data-ttu-id="586f5-106">Автоматизации Azure работает с каждым из этих потоков по-разному, и необходимо следовать индивидуальным рекомендациям toouse каждого при создании модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-106">Azure Automation works with each of these streams differently, and you should follow best practices for how toouse each when you are creating a runbook.</span></span>

<span data-ttu-id="586f5-107">Hello ниже приводится краткое описание каждого из потоков hello и их поведение в hello портала управления Azure при выполнении опубликованного модуля runbook и последующем [тестировании модуля runbook](automation-testing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="586f5-107">hello following table provides a brief description of each of hello streams and their behavior in hello Azure Management Portal both when running a published runbook and when [testing a runbook](automation-testing-runbook.md).</span></span> <span data-ttu-id="586f5-108">В последующих разделах приведены дополнительные сведения о каждом потоке.</span><span class="sxs-lookup"><span data-stu-id="586f5-108">Further details on each stream are provided in subsequent sections.</span></span>

| <span data-ttu-id="586f5-109">Поток</span><span class="sxs-lookup"><span data-stu-id="586f5-109">Stream</span></span> | <span data-ttu-id="586f5-110">Описание</span><span class="sxs-lookup"><span data-stu-id="586f5-110">Description</span></span> | <span data-ttu-id="586f5-111">Опубликовано</span><span class="sxs-lookup"><span data-stu-id="586f5-111">Published</span></span> | <span data-ttu-id="586f5-112">Тест</span><span class="sxs-lookup"><span data-stu-id="586f5-112">Test</span></span> |
|:--- |:--- |:--- |:--- |
| <span data-ttu-id="586f5-113">Выходные данные</span><span class="sxs-lookup"><span data-stu-id="586f5-113">Output</span></span> |<span data-ttu-id="586f5-114">Объекты, предназначенные toobe использования другими модулями Runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-114">Objects intended toobe consumed by other runbooks.</span></span> |<span data-ttu-id="586f5-115">Записать журнал заданий toohello.</span><span class="sxs-lookup"><span data-stu-id="586f5-115">Written toohello job history.</span></span> |<span data-ttu-id="586f5-116">Отображается в тестовой области вывода hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-116">Displayed in hello Test Output Pane.</span></span> |
| <span data-ttu-id="586f5-117">Предупреждение</span><span class="sxs-lookup"><span data-stu-id="586f5-117">Warning</span></span> |<span data-ttu-id="586f5-118">Предупреждения, предназначенные для пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-118">Warning message intended for hello user.</span></span> |<span data-ttu-id="586f5-119">Записать журнал заданий toohello.</span><span class="sxs-lookup"><span data-stu-id="586f5-119">Written toohello job history.</span></span> |<span data-ttu-id="586f5-120">Отображается в тестовой области вывода hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-120">Displayed in hello Test Output Pane.</span></span> |
| <span data-ttu-id="586f5-121">Ошибка</span><span class="sxs-lookup"><span data-stu-id="586f5-121">Error</span></span> |<span data-ttu-id="586f5-122">Сообщение об ошибке, предназначенные для пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-122">Error message intended for hello user.</span></span> <span data-ttu-id="586f5-123">В отличие от возникновения исключения hello модуль runbook продолжает работу после сообщения об ошибке по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="586f5-123">Unlike an exception, hello runbook continues after an error message by default.</span></span> |<span data-ttu-id="586f5-124">Записать журнал заданий toohello.</span><span class="sxs-lookup"><span data-stu-id="586f5-124">Written toohello job history.</span></span> |<span data-ttu-id="586f5-125">Отображается в тестовой области вывода hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-125">Displayed in hello Test Output Pane.</span></span> |
| <span data-ttu-id="586f5-126">Подробная информация</span><span class="sxs-lookup"><span data-stu-id="586f5-126">Verbose</span></span> |<span data-ttu-id="586f5-127">Сообщения, содержащие общую или отладочную информацию.</span><span class="sxs-lookup"><span data-stu-id="586f5-127">Messages providing general or debugging information.</span></span> |<span data-ttu-id="586f5-128">Запись журнала toojob только если подробное ведение журнала включено для hello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-128">Written toojob history only if verbose logging is turned on for hello runbook.</span></span> |<span data-ttu-id="586f5-129">Только в том случае, если $VerbosePreference задано tooContinue hello runbook отображается в области вывода теста hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-129">Displayed in hello Test Output pane only if $VerbosePreference is set tooContinue in hello runbook.</span></span> |
| <span data-ttu-id="586f5-130">Ход выполнения</span><span class="sxs-lookup"><span data-stu-id="586f5-130">Progress</span></span> |<span data-ttu-id="586f5-131">Записи, автоматически созданные до и после каждого действия в hello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-131">Records automatically generated before and after each activity in hello runbook.</span></span> <span data-ttu-id="586f5-132">Hello runbook не должны предпринимать попытки toocreate свои собственные записи о ходе выполнения, поскольку они предназначены для интерактивного пользователя.</span><span class="sxs-lookup"><span data-stu-id="586f5-132">hello runbook should not attempt toocreate its own progress records since they are intended for an interactive user.</span></span> |<span data-ttu-id="586f5-133">Запись журнала toojob только если выполняется ведение журнала включено для hello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-133">Written toojob history only if progress logging is turned on for hello runbook.</span></span> |<span data-ttu-id="586f5-134">Не отображается в тестовой области вывода hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-134">Not displayed in hello Test Output Pane.</span></span> |
| <span data-ttu-id="586f5-135">Отладка</span><span class="sxs-lookup"><span data-stu-id="586f5-135">Debug</span></span> |<span data-ttu-id="586f5-136">Сообщения, предназначенные для интерактивного пользователя.</span><span class="sxs-lookup"><span data-stu-id="586f5-136">Messages intended for an interactive user.</span></span> <span data-ttu-id="586f5-137">Не следует использовать в Runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-137">Should not be used in runbooks.</span></span> |<span data-ttu-id="586f5-138">Не записывается журнал toojob.</span><span class="sxs-lookup"><span data-stu-id="586f5-138">Not written toojob history.</span></span> |<span data-ttu-id="586f5-139">Не записывается tooTest области вывода.</span><span class="sxs-lookup"><span data-stu-id="586f5-139">Not written tooTest Output Pane.</span></span> |

## <a name="output-stream"></a><span data-ttu-id="586f5-140">Поток вывода</span><span class="sxs-lookup"><span data-stu-id="586f5-140">Output stream</span></span>
<span data-ttu-id="586f5-141">Hello выходной поток предназначен для вывода объектов, созданных скриптом или рабочим процессом, когда он работает правильно.</span><span class="sxs-lookup"><span data-stu-id="586f5-141">hello Output stream is intended for output of objects created by a script or workflow when it runs correctly.</span></span> <span data-ttu-id="586f5-142">В службе автоматизации Azure этот поток в основном используется для объектов, предназначенных toobe занятая [родительских модулей Runbook, которые вызывают текущий модуль runbook hello](automation-child-runbooks.md).</span><span class="sxs-lookup"><span data-stu-id="586f5-142">In Azure Automation, this stream is primarily used for objects intended toobe consumed by [parent runbooks that call hello current runbook](automation-child-runbooks.md).</span></span> <span data-ttu-id="586f5-143">Когда вы [вызова встроенной функции модуля runbook](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) из родительского модуля, возвращаются данные из родительского toohello потока вывода hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-143">When you [call a runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) from a parent runbook, it returns data from hello output stream toohello parent.</span></span> <span data-ttu-id="586f5-144">Назад toohello hello выходной поток toocommunicate Общие сведения пользователя следует использовать только в том случае, если известно, что hello runbook не будет вызван другим модулем runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-144">You should only use hello output stream toocommunicate general information back toohello user if you know hello runbook will never be called by another runbook.</span></span> <span data-ttu-id="586f5-145">Рекомендуется, однако обычно следует использовать hello [Verbose Stream](#Verbose) пользователя toohello toocommunicate Общие сведения.</span><span class="sxs-lookup"><span data-stu-id="586f5-145">As a best practice, however, you should typically use hello [Verbose Stream](#Verbose) toocommunicate general information toohello user.</span></span>

<span data-ttu-id="586f5-146">Можно написать данных toohello выходного потока с помощью [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) или путем помещения hello объекта в собственную строку в hello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-146">You can write data toohello output stream using [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) or by putting hello object on its own line in hello runbook.</span></span>

    #hello following lines both write an object toohello output stream.
    Write-Output –InputObject $object
    $object

### <a name="output-from-a-function"></a><span data-ttu-id="586f5-147">Выходные данные функции</span><span class="sxs-lookup"><span data-stu-id="586f5-147">Output from a function</span></span>
<span data-ttu-id="586f5-148">При написании toohello выходной поток в функцию, которая включается в модуле runbook hello выходные данные передаются назад toohello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-148">When you write toohello output stream in a function that is included in your runbook, hello output is passed back toohello runbook.</span></span> <span data-ttu-id="586f5-149">Если hello runbook присваивает этой переменной tooa выходные данные, они не записываются toohello выходной поток.</span><span class="sxs-lookup"><span data-stu-id="586f5-149">If hello runbook assigns that output tooa variable, then it is not written toohello output stream.</span></span> <span data-ttu-id="586f5-150">Написание tooany другие потоки в функции hello напишете toohello соответствующий поток для hello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-150">Writing tooany other streams from within hello function will write toohello corresponding stream for hello runbook.</span></span>

<span data-ttu-id="586f5-151">Рассмотрим следующий пример модуля runbook hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-151">Consider hello following sample runbook.</span></span>

    Workflow Test-Runbook
    {
        Write-Verbose "Verbose outside of function" -Verbose
        Write-Output "Output outside of function"
        $functionOutput = Test-Function
        $functionOutput

    Function Test-Function
     {
        Write-Verbose "Verbose inside of function" -Verbose
        Write-Output "Output inside of function"
      }
    }


<span data-ttu-id="586f5-152">Hello выходной поток для hello задания runbook будет следующим:</span><span class="sxs-lookup"><span data-stu-id="586f5-152">hello output stream for hello runbook job would be:</span></span>

    Output inside of function
    Output outside of function

<span data-ttu-id="586f5-153">поток вывода Hello hello задания runbook будет:</span><span class="sxs-lookup"><span data-stu-id="586f5-153">hello verbose stream for hello runbook job would be:</span></span>

    Verbose outside of function
    Verbose inside of function

<span data-ttu-id="586f5-154">После публикации hello runbook и до его начала, необходимо также включить подробное ведение журнала, в параметрах runbook hello в порядке tooget hello выходной поток подробных сведений.</span><span class="sxs-lookup"><span data-stu-id="586f5-154">Once you have published hello runbook and before you start it, you must also turn on Verbose logging in hello runbook settings in order tooget hello Verbose stream output.</span></span>

### <a name="declaring-output-data-type"></a><span data-ttu-id="586f5-155">Объявление типа выходных данных</span><span class="sxs-lookup"><span data-stu-id="586f5-155">Declaring output data type</span></span>
<span data-ttu-id="586f5-156">Рабочий процесс можно указать тип данных hello его выходные данные с помощью hello [атрибута OutputType](http://technet.microsoft.com/library/hh847785.aspx).</span><span class="sxs-lookup"><span data-stu-id="586f5-156">A workflow can specify hello data type of its output using hello [OutputType attribute](http://technet.microsoft.com/library/hh847785.aspx).</span></span> <span data-ttu-id="586f5-157">Этот атрибут не оказывает влияния во время выполнения, но он предоставляет автору runbook toohello указание во время разработки выходные данные hello ожидается hello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-157">This attribute has no effect during runtime, but it provides an indication toohello runbook author at design time of hello expected output of hello runbook.</span></span> <span data-ttu-id="586f5-158">По мере tooevolve hello набор инструментов для модулей Runbook важность объявления типов выходных данных во время разработки hello увеличит по важности.</span><span class="sxs-lookup"><span data-stu-id="586f5-158">As hello toolset for runbooks continues tooevolve, hello importance of declaring output data types at design time will increase in importance.</span></span> <span data-ttu-id="586f5-159">В результате это рекомендациям tooinclude это объявление во все модули Runbook, который вы создаете.</span><span class="sxs-lookup"><span data-stu-id="586f5-159">As a result, it is a best practice tooinclude this declaration in any runbooks that you create.</span></span>

<span data-ttu-id="586f5-160">Вот список с примерами типов выходных данных:</span><span class="sxs-lookup"><span data-stu-id="586f5-160">Here is a list of example output types:</span></span>

* <span data-ttu-id="586f5-161">System.String</span><span class="sxs-lookup"><span data-stu-id="586f5-161">System.String</span></span>
* <span data-ttu-id="586f5-162">System.Int32</span><span class="sxs-lookup"><span data-stu-id="586f5-162">System.Int32</span></span>
* <span data-ttu-id="586f5-163">System.Collections.Hashtable</span><span class="sxs-lookup"><span data-stu-id="586f5-163">System.Collections.Hashtable</span></span>
* <span data-ttu-id="586f5-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span><span class="sxs-lookup"><span data-stu-id="586f5-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span></span>

<span data-ttu-id="586f5-165">Hello следующий пример модуля runbook выводит объект string и включает объявление выходного типа.</span><span class="sxs-lookup"><span data-stu-id="586f5-165">hello following sample runbook outputs a string object and includes a declaration of its output type.</span></span> <span data-ttu-id="586f5-166">Если модуль runbook выводит массив определенного типа, необходимо по-прежнему указать тип hello как противоположность tooan массив типа hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-166">If your runbook outputs an array of a certain type, then you should still specify hello type as opposed tooan array of hello type.</span></span>

    Workflow Test-Runbook
    {
       [OutputType([string])]

       $output = "This is some string output."
       Write-Output $output
    }

<span data-ttu-id="586f5-167">toodeclare вывод типа в модулях Runbook Grapical или графического рабочего процесса PowerShell, можно выбрать hello **входной и выходной** пункт меню и введите имя hello hello тип выходного файла.</span><span class="sxs-lookup"><span data-stu-id="586f5-167">toodeclare an output type in Grapical or Graphical PowerShell Workflow runbooks, you can select hello **Input and Output** menu option and type in hello name of hello output type.</span></span>  <span data-ttu-id="586f5-168">Мы рекомендуем использовать hello полный .NET класс имя toomake его понятными, при ссылке на нее из родительского модуля.</span><span class="sxs-lookup"><span data-stu-id="586f5-168">We recommend you use hello full .NET class name toomake it easily identifiable when referencing it from a parent runbook.</span></span>  <span data-ttu-id="586f5-169">Это предоставляет все свойства этого класса шины данных toohello в hello runbook hello и обеспечивает большую гибкость при их использовании для условную логику, ведение журнала, а также привязку как значения для других действий в hello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-169">This exposes all hello properties of that class toohello data bus in hello runbook and provides a lot of flexibility when using them for conditional logic, logging, and referencing as values for other activities in hello runbook.</span></span><br> <span data-ttu-id="586f5-170">![Runbook: раздел "Входные и выходные данные"](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span><span class="sxs-lookup"><span data-stu-id="586f5-170">![Runbook Input and Output option](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span></span>

<span data-ttu-id="586f5-171">В следующем примере hello у нас есть два графических модулей Runbook toodemonstrate эту функцию.</span><span class="sxs-lookup"><span data-stu-id="586f5-171">In hello following example, we have two graphical runbooks toodemonstrate this feature.</span></span>  <span data-ttu-id="586f5-172">Если применить hello модульной runbook проектирования модели, у нас есть один runbook, который служит в качестве hello *шаблона Runbook проверки подлинности* управление проверкой подлинности с помощью Azure hello Запуск от имени учетной записи.</span><span class="sxs-lookup"><span data-stu-id="586f5-172">If we apply hello modular runbook design model, we have one runbook which serves as hello *Authentication Runbook template* managing authentication with Azure using hello Run As account.</span></span>  <span data-ttu-id="586f5-173">Наш второй runbook, который, как правило, выполняет hello основной логики tooautomate данного сценария, в этом случае происходит tooexecute hello *шаблона Runbook проверки подлинности* и отображения результатов tooyour hello **теста** области вывода.</span><span class="sxs-lookup"><span data-stu-id="586f5-173">Our second runbook, which would normally perform hello core logic tooautomate a given scenario, in this case is going tooexecute hello *Authentication Runbook template* and display hello results tooyour **Test** output pane.</span></span>  <span data-ttu-id="586f5-174">В обычных условиях мы бы этот каким-либо от ресурса путем использования hello выходные данные из hello дочернего модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-174">Under normal circumstances, we would have this runbook do something against a resource leveraging hello output from hello child runbook.</span></span>    

<span data-ttu-id="586f5-175">Вот основные логику hello hello **AuthenticateTo Azure** runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-175">Here is hello basic logic of hello **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="586f5-176">![Runbook: пример шаблона аутентификации](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span><span class="sxs-lookup"><span data-stu-id="586f5-176">![Authenticate Runbook Template Example](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span></span>  

<span data-ttu-id="586f5-177">Он включает тип выходных данных hello *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, возвращающий hello свойства профиля проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="586f5-177">It includes hello output type *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, which will return hello authentication profile properties.</span></span><br> <span data-ttu-id="586f5-178">![Runbook: пример типа выходных данных](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span><span class="sxs-lookup"><span data-stu-id="586f5-178">![Runbook Output Type Example](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span></span> 

<span data-ttu-id="586f5-179">Хотя этот runbook очень прост, имеется один toocall элемента конфигурации out здесь.</span><span class="sxs-lookup"><span data-stu-id="586f5-179">While this runbook is very straight forward, there is one configuration item toocall out here.</span></span>  <span data-ttu-id="586f5-180">последнее действие Hello выполняется hello **Write-Output** командлета и записи hello профиль tooa $_ переменной с помощью выражения PowerShell для hello **Inputobject** параметр, который требуется для этого командлет.</span><span class="sxs-lookup"><span data-stu-id="586f5-180">hello last activity is executing hello **Write-Output** cmdlet and writes hello profile data tooa $_ variable using a PowerShell expression for hello **Inputobject** parameter, which is required for that cmdlet.</span></span>  

<span data-ttu-id="586f5-181">Для второго модуля hello в этом примере, с именем *ChildOutputType тест*, мы просто иметь два действия.</span><span class="sxs-lookup"><span data-stu-id="586f5-181">For hello second runbook in this example, named *Test-ChildOutputType*, we simply have two activities.</span></span><br> <span data-ttu-id="586f5-182">![Runbook: пример типа выходных данных дочернего модуля](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span><span class="sxs-lookup"><span data-stu-id="586f5-182">![Example Child Output Type Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span></span> 

<span data-ttu-id="586f5-183">Первое действие Hello вызывает hello **AuthenticateTo Azure** runbook и hello второго действия выполняется hello **Write-Verbose** командлет с hello **источника данных** из  **Выходные данные действия** , а значение hello **путь к полю** — **Context.Subscription.SubscriptionName**, которой указание hello контекста вывод hello  **AuthenticateTo Azure** runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-183">hello first activity calls hello **AuthenticateTo-Azure** runbook and hello second activity is running hello **Write-Verbose** cmdlet with hello **Data source** of **Activity output** and hello value for **Field path** is **Context.Subscription.SubscriptionName**, which is specifying hello context output from hello **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="586f5-184">![Командлет Write-Verbose: источник данных параметров](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span><span class="sxs-lookup"><span data-stu-id="586f5-184">![Write-Verbose cmdlet Parameter Data Source](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span></span>    

<span data-ttu-id="586f5-185">Hello результат — имя hello hello подписки.</span><span class="sxs-lookup"><span data-stu-id="586f5-185">hello resulting output is hello name of hello subscription.</span></span><br> ![Runbook: результаты командлета Test-ChildOutputType](media/automation-runbook-output-and-messages/runbook-test-childoutputtype-results.png)

<span data-ttu-id="586f5-187">Одно примечание о hello поведение hello тип выходных данных элемента управления.</span><span class="sxs-lookup"><span data-stu-id="586f5-187">One note about hello behavior of hello Output Type control.</span></span>  <span data-ttu-id="586f5-188">Ввести значение в поле Тип выходных данных hello на hello входных данных и выходного свойства колонке после tooclick за пределами элемента управления hello после ввода, чтобы ваш toobe входа распознается элементом управления hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-188">When you type a value in hello Output Type field on hello Input and Output properties blade, you have tooclick outside of hello control  after you type it, in order for your entry toobe recognized by hello control.</span></span>  

## <a name="message-streams"></a><span data-ttu-id="586f5-189">Потоки сообщений</span><span class="sxs-lookup"><span data-stu-id="586f5-189">Message streams</span></span>
<span data-ttu-id="586f5-190">В отличие от потока вывода hello потоки сообщений являются предполагаемого toocommunicate информации toohello пользователя.</span><span class="sxs-lookup"><span data-stu-id="586f5-190">Unlike hello output stream, message streams are intended toocommunicate information toohello user.</span></span> <span data-ttu-id="586f5-191">Существует несколько потоков сообщений для различных типов информации, и каждый по-разному обрабатываются службой автоматизации Azure.</span><span class="sxs-lookup"><span data-stu-id="586f5-191">There are multiple message streams for different kinds of information, and each is handled differently by Azure Automation.</span></span>

### <a name="warning-and-error-streams"></a><span data-ttu-id="586f5-192">Потоки предупреждений и ошибок</span><span class="sxs-lookup"><span data-stu-id="586f5-192">Warning and error streams</span></span>
<span data-ttu-id="586f5-193">потоки предупреждений и ошибок Hello являются предполагаемого toolog проблем, возникающих в модуле runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-193">hello Warning and Error streams are intended toolog problems that occur in a runbook.</span></span> <span data-ttu-id="586f5-194">Они записываются toohello журнал заданий при выполнении runbook и включаются в hello тестовой области вывода в hello портала управления Azure при тестировании модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-194">They are written toohello job history when a runbook is executed, and are included in hello Test Output Pane in hello Azure Management Portal when a runbook is tested.</span></span> <span data-ttu-id="586f5-195">По умолчанию hello runbook продолжит выполнение после предупреждения или ошибки.</span><span class="sxs-lookup"><span data-stu-id="586f5-195">By default, hello runbook will continue executing after a warning or error.</span></span> <span data-ttu-id="586f5-196">Можно указать, hello runbook следует приостановить при возникновении предупреждения или ошибки, задав [привилегированной переменной](#PreferenceVariables) в hello runbook перед созданием приветственное сообщение.</span><span class="sxs-lookup"><span data-stu-id="586f5-196">You can specify that hello runbook should be suspended on a warning or error by setting a [preference variable](#PreferenceVariables) in hello runbook before creating hello message.</span></span> <span data-ttu-id="586f5-197">Например, toocause toosuspend runbook при возникновении ошибки как исключения, задайте **$ErrorActionPreference** tooStop.</span><span class="sxs-lookup"><span data-stu-id="586f5-197">For example, toocause a runbook toosuspend on an error as it would an exception, set **$ErrorActionPreference** tooStop.</span></span>

<span data-ttu-id="586f5-198">Создать предупреждение или сообщение об ошибке с помощью hello [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) или [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) командлета.</span><span class="sxs-lookup"><span data-stu-id="586f5-198">Create a warning or error message using hello [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) or [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet.</span></span> <span data-ttu-id="586f5-199">Действия также могут записывать toothese потоков.</span><span class="sxs-lookup"><span data-stu-id="586f5-199">Activities may also write toothese streams.</span></span>

    #hello following lines create a warning message and then an error message that will suspend hello runbook.

    $ErrorActionPreference = "Stop"
    Write-Warning –Message "This is a warning message."
    Write-Error –Message "This is an error message that will stop hello runbook because of hello preference variable."

### <a name="verbose-stream"></a><span data-ttu-id="586f5-200">Подробный поток</span><span class="sxs-lookup"><span data-stu-id="586f5-200">Verbose stream</span></span>
<span data-ttu-id="586f5-201">поток подробных сообщений Hello — Общие сведения о задаче hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-201">hello Verbose message stream is for general information about hello runbook operation.</span></span> <span data-ttu-id="586f5-202">С момента hello [поток отладки](#Debug) недоступна в модуле runbook, подробные сообщения следует использовать для отладочной информации.</span><span class="sxs-lookup"><span data-stu-id="586f5-202">Since hello [Debug Stream](#Debug) is not available in a runbook, verbose messages should be used for debug information.</span></span> <span data-ttu-id="586f5-203">По умолчанию подробные сообщения из опубликованных модулей Runbook не сохраняются в журнале заданий hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-203">By default, verbose messages from published runbooks will not be stored in hello job history.</span></span> <span data-ttu-id="586f5-204">toostore подробные сообщения, настройте опубликованные модули Runbook tooLog подробные записи на вкладке Настройка hello runbook hello в hello портала управления Azure.</span><span class="sxs-lookup"><span data-stu-id="586f5-204">toostore verbose messages, configure published runbooks tooLog Verbose Records on hello Configure tab of hello runbook in hello Azure Management Portal.</span></span> <span data-ttu-id="586f5-205">В большинстве случаев следует сохранить значение по умолчанию hello не вести журнал подробных сведений для модуля runbook для повышения производительности.</span><span class="sxs-lookup"><span data-stu-id="586f5-205">In most cases, you should keep hello default setting of not logging verbose records for a runbook for performance reasons.</span></span> <span data-ttu-id="586f5-206">Включите этот параметр только tootroubleshoot или отладки модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-206">Turn on this option only tootroubleshoot or debug a runbook.</span></span>

<span data-ttu-id="586f5-207">Когда [тестировании модуля runbook](automation-testing-runbook.md), подробные сообщения не отображаются, даже если hello runbook настроенных toolog подробные записи.</span><span class="sxs-lookup"><span data-stu-id="586f5-207">When [testing a runbook](automation-testing-runbook.md), verbose messages are not displayed even if hello runbook is configured toolog verbose records.</span></span> <span data-ttu-id="586f5-208">toodisplay подробные сообщения при [тестировании модуля runbook](automation-testing-runbook.md), необходимо задать tooContinue переменной hello $VerbosePreference.</span><span class="sxs-lookup"><span data-stu-id="586f5-208">toodisplay verbose messages while [testing a runbook](automation-testing-runbook.md), you must set hello $VerbosePreference variable tooContinue.</span></span> <span data-ttu-id="586f5-209">Эта переменная задана подробные сообщения будут отображаться в тестовой области вывода портала Azure hello hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-209">With that variable set, verbose messages will be displayed in hello Test Output Pane of hello Azure portal.</span></span>

<span data-ttu-id="586f5-210">Создайте подробное сообщение с помощью hello [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) командлета.</span><span class="sxs-lookup"><span data-stu-id="586f5-210">Create a verbose message using hello [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet.</span></span>

    #hello following line creates a verbose message.

    Write-Verbose –Message "This is a verbose message."

### <a name="debug-stream"></a><span data-ttu-id="586f5-211">Поток отладки</span><span class="sxs-lookup"><span data-stu-id="586f5-211">Debug stream</span></span>
<span data-ttu-id="586f5-212">Hello Отладка потока предназначена для использования текущим пользователем и не должны использоваться в модулях Runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-212">hello Debug stream is intended for use with an interactive user and should not be used in runbooks.</span></span>

## <a name="progress-records"></a><span data-ttu-id="586f5-213">Записи о ходе выполнения</span><span class="sxs-lookup"><span data-stu-id="586f5-213">Progress records</span></span>
<span data-ttu-id="586f5-214">Если задан элемент ход выполнения runbook toolog регистрирует (на вкладке Настройка hello runbook hello в hello портал Azure), а затем сообщение будет записано toohello журнал заданий до и после выполнения каждого действия.</span><span class="sxs-lookup"><span data-stu-id="586f5-214">If you configure a runbook toolog progress records (on hello Configure tab of hello runbook in hello Azure portal), then a record will be written toohello job history before and after each activity is run.</span></span> <span data-ttu-id="586f5-215">В большинстве случаев следует сохранить значение по умолчанию hello не вести журнал хода выполнения для модуля runbook в порядке toomaximize производительности.</span><span class="sxs-lookup"><span data-stu-id="586f5-215">In most cases, you should keep hello default setting of not logging progress records for a runbook in order toomaximize performance.</span></span> <span data-ttu-id="586f5-216">Включите этот параметр только tootroubleshoot или отладки модуля runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-216">Turn on this option only tootroubleshoot or debug a runbook.</span></span> <span data-ttu-id="586f5-217">При тестировании модуля runbook сообщения о ходе выполнения не отображаются, даже если hello runbook настроенных toolog записи о ходе выполнения.</span><span class="sxs-lookup"><span data-stu-id="586f5-217">When testing a runbook, progress messages are not displayed even if hello runbook is configured toolog progress records.</span></span>

<span data-ttu-id="586f5-218">Hello [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) недопустим в модуле runbook, поскольку он предназначен для использования с текущим пользователем.</span><span class="sxs-lookup"><span data-stu-id="586f5-218">hello [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet is not valid in a runbook, since this is intended for use with an interactive user.</span></span>

## <a name="preference-variables"></a><span data-ttu-id="586f5-219">Привилегированные переменные</span><span class="sxs-lookup"><span data-stu-id="586f5-219">Preference variables</span></span>
<span data-ttu-id="586f5-220">Windows PowerShell использует [привилегированные переменные](http://technet.microsoft.com/library/hh847796.aspx) toodetermine как toodifferent toodata отправлено toorespond потока вывода.</span><span class="sxs-lookup"><span data-stu-id="586f5-220">Windows PowerShell uses [preference variables](http://technet.microsoft.com/library/hh847796.aspx) toodetermine how toorespond toodata sent toodifferent output streams.</span></span> <span data-ttu-id="586f5-221">Эти переменные можно задать в toocontrol runbook, реакцией toodata, отправленные в разные потоки.</span><span class="sxs-lookup"><span data-stu-id="586f5-221">You can set these variables in a runbook toocontrol how it will respond toodata sent into different streams.</span></span>

<span data-ttu-id="586f5-222">Hello следующей таблице перечислены hello привилегированные переменные, которые можно использовать в Runbook с их допустимыми и значения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="586f5-222">hello following table lists hello preference variables that can be used in runbooks with their valid and default values.</span></span> <span data-ttu-id="586f5-223">Обратите внимание, что эта таблица содержит только hello значений, которые являются допустимыми в модуле runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-223">Note that this table only includes hello values that are valid in a runbook.</span></span> <span data-ttu-id="586f5-224">Дополнительные значения допустимы для hello привилегированных переменных при использовании в Windows PowerShell за пределами Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="586f5-224">Additional values are valid for hello preference variables when used in Windows PowerShell outside of Azure Automation.</span></span>

| <span data-ttu-id="586f5-225">Переменная</span><span class="sxs-lookup"><span data-stu-id="586f5-225">Variable</span></span> | <span data-ttu-id="586f5-226">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="586f5-226">Default Value</span></span> | <span data-ttu-id="586f5-227">Допустимые значения</span><span class="sxs-lookup"><span data-stu-id="586f5-227">Valid Values</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="586f5-228">WarningPreference</span><span class="sxs-lookup"><span data-stu-id="586f5-228">WarningPreference</span></span> |<span data-ttu-id="586f5-229">Continue</span><span class="sxs-lookup"><span data-stu-id="586f5-229">Continue</span></span> |<span data-ttu-id="586f5-230">Stop</span><span class="sxs-lookup"><span data-stu-id="586f5-230">Stop</span></span><br><span data-ttu-id="586f5-231">Continue</span><span class="sxs-lookup"><span data-stu-id="586f5-231">Continue</span></span><br><span data-ttu-id="586f5-232">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="586f5-232">SilentlyContinue</span></span> |
| <span data-ttu-id="586f5-233">ErrorActionPreference</span><span class="sxs-lookup"><span data-stu-id="586f5-233">ErrorActionPreference</span></span> |<span data-ttu-id="586f5-234">Continue</span><span class="sxs-lookup"><span data-stu-id="586f5-234">Continue</span></span> |<span data-ttu-id="586f5-235">Stop</span><span class="sxs-lookup"><span data-stu-id="586f5-235">Stop</span></span><br><span data-ttu-id="586f5-236">Continue</span><span class="sxs-lookup"><span data-stu-id="586f5-236">Continue</span></span><br><span data-ttu-id="586f5-237">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="586f5-237">SilentlyContinue</span></span> |
| <span data-ttu-id="586f5-238">VerbosePreference</span><span class="sxs-lookup"><span data-stu-id="586f5-238">VerbosePreference</span></span> |<span data-ttu-id="586f5-239">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="586f5-239">SilentlyContinue</span></span> |<span data-ttu-id="586f5-240">Stop</span><span class="sxs-lookup"><span data-stu-id="586f5-240">Stop</span></span><br><span data-ttu-id="586f5-241">Continue</span><span class="sxs-lookup"><span data-stu-id="586f5-241">Continue</span></span><br><span data-ttu-id="586f5-242">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="586f5-242">SilentlyContinue</span></span> |

<span data-ttu-id="586f5-243">Привет, в следующей таблице перечислены hello поведение для hello предпочтений значения переменных, которые являются допустимыми в модулях Runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-243">hello following table lists hello behavior for hello preference variable values that are valid in runbooks.</span></span>

| <span data-ttu-id="586f5-244">Значение</span><span class="sxs-lookup"><span data-stu-id="586f5-244">Value</span></span> | <span data-ttu-id="586f5-245">Поведение</span><span class="sxs-lookup"><span data-stu-id="586f5-245">Behavior</span></span> |
|:--- |:--- |
| <span data-ttu-id="586f5-246">Continue</span><span class="sxs-lookup"><span data-stu-id="586f5-246">Continue</span></span> |<span data-ttu-id="586f5-247">Записывает в журнал сообщение hello и продолжает выполнение hello runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-247">Logs hello message and continues executing hello runbook.</span></span> |
| <span data-ttu-id="586f5-248">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="586f5-248">SilentlyContinue</span></span> |<span data-ttu-id="586f5-249">Продолжает выполнение hello runbook без ведения журнала сообщений hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-249">Continues executing hello runbook without logging hello message.</span></span> <span data-ttu-id="586f5-250">Это приводит hello сообщение hello игнорируется.</span><span class="sxs-lookup"><span data-stu-id="586f5-250">This has hello effect of ignoring hello message.</span></span> |
| <span data-ttu-id="586f5-251">Остановить</span><span class="sxs-lookup"><span data-stu-id="586f5-251">Stop</span></span> |<span data-ttu-id="586f5-252">Записывает приветственное сообщение и приостанавливает модуль runbook hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-252">Logs hello message and suspends hello runbook.</span></span> |

## <a name="retrieving-runbook-output-and-messages"></a><span data-ttu-id="586f5-253">Извлечение выходных данных и сообщений Runbook</span><span class="sxs-lookup"><span data-stu-id="586f5-253">Retrieving runbook output and messages</span></span>
### <a name="azure-portal"></a><span data-ttu-id="586f5-254">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="586f5-254">Azure portal</span></span>
<span data-ttu-id="586f5-255">Для просмотра сведений hello задания runbook в hello портал Azure hello вкладки заданий runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-255">You can view hello details of a runbook job in hello Azure portal from hello Jobs tab of a runbook.</span></span> <span data-ttu-id="586f5-256">Отображает Hello Сводка hello задания входных параметров hello и hello [выходной поток](#Output) в toogeneral сведения о задании hello и любые исключения, если они.</span><span class="sxs-lookup"><span data-stu-id="586f5-256">hello Summary of hello job will display hello input parameters and hello [Output Stream](#Output) in addition toogeneral information about hello job and any exceptions if they occurred.</span></span> <span data-ttu-id="586f5-257">Hello журнал будет содержать сообщения из hello [выходной поток](#Output) и [потоки предупреждений и ошибок](#WarningError) в дополнение toohello [Verbose Stream](#Verbose) и [хода выполнения Записи](#Progress) Если hello runbook настроенных toolog verbose и записи о ходе выполнения.</span><span class="sxs-lookup"><span data-stu-id="586f5-257">hello History will include messages from hello [Output Stream](#Output) and [Warning and Error Streams](#WarningError) in addition toohello [Verbose Stream](#Verbose) and [Progress Records](#Progress) if hello runbook is configured toolog verbose and progress records.</span></span>

### <a name="windows-powershell"></a><span data-ttu-id="586f5-258">Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="586f5-258">Windows PowerShell</span></span>
<span data-ttu-id="586f5-259">В Windows PowerShell можно получить выходные данные и сообщения из модуля runbook с помощью hello [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) командлета.</span><span class="sxs-lookup"><span data-stu-id="586f5-259">In Windows PowerShell, you can retrieve output and messages from a runbook using hello [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet.</span></span> <span data-ttu-id="586f5-260">Для этого командлета требуется идентификатор задания hello Здравствуйте, и имеет параметр потока, где указать, какой поток tooreturn.</span><span class="sxs-lookup"><span data-stu-id="586f5-260">This cmdlet requires hello ID of hello job and has a parameter called Stream where you specify which stream tooreturn.</span></span> <span data-ttu-id="586f5-261">Можно указать любой tooreturn все потоки задания hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-261">You can specify Any tooreturn all streams for hello job.</span></span>

<span data-ttu-id="586f5-262">Следующий пример Hello запускается пример модуля runbook, а затем ожидает ее toocomplete.</span><span class="sxs-lookup"><span data-stu-id="586f5-262">hello following example starts a sample runbook and then waits for it toocomplete.</span></span> <span data-ttu-id="586f5-263">После завершения поток вывода собирается из задания hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-263">Once completed, its output stream is collected from hello job.</span></span>

    $job = Start-AzureRmAutomationRunbook -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" –Name "Test-Runbook"

    $doLoop = $true
    While ($doLoop) {
       $job = Get-AzureRmAutomationJob -ResourceGroupName "ResourceGroup01" `
       –AutomationAccountName "MyAutomationAccount" -Id $job.JobId
       $status = $job.Status
       $doLoop = (($status -ne "Completed") -and ($status -ne "Failed") -and ($status -ne "Suspended") -and ($status -ne "Stopped")
    }

    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" -Id $job.JobId –Stream Output

### <a name="graphical-authoring"></a><span data-ttu-id="586f5-264">Графическая разработка</span><span class="sxs-lookup"><span data-stu-id="586f5-264">Graphical Authoring</span></span>
<span data-ttu-id="586f5-265">Для графических модулей Runbook дополнительное ведение журнала доступно в форме hello трассировки уровня активности.</span><span class="sxs-lookup"><span data-stu-id="586f5-265">For graphical runbooks, extra logging is available in hello form of activity-level tracing.</span></span>  <span data-ttu-id="586f5-266">Существует два уровня трассировки: базовая и подробная.</span><span class="sxs-lookup"><span data-stu-id="586f5-266">There are two levels of tracing: Basic and Detailed.</span></span>  <span data-ttu-id="586f5-267">В базовый уровень, можно увидеть hello запуска и время окончания каждого действия в hello runbook, а также сведения, связанные с повторными попытками действия tooany, такие как число попыток и время начала действия hello.</span><span class="sxs-lookup"><span data-stu-id="586f5-267">In Basic tracing, you can see hello start and end time of each activity in hello runbook plus information related tooany activity retries, such as number of attempts and start time of hello activity.</span></span>  <span data-ttu-id="586f5-268">Подробная трассировка включает те же данные, что и базовая, плюс входные и выходные данные каждого действия.</span><span class="sxs-lookup"><span data-stu-id="586f5-268">In Detailed tracing, you get Basic tracing plus input and output data for each activity.</span></span>  <span data-ttu-id="586f5-269">Обратите внимание, что в данный момент записи трассировки hello записываются с помощью hello поток вывода, поэтому необходимо включить подробное ведение журнала при включении трассировки.</span><span class="sxs-lookup"><span data-stu-id="586f5-269">Note that currently hello trace records are written using hello verbose stream, so you must enable Verbose logging when you enable tracing.</span></span>  <span data-ttu-id="586f5-270">Для графических модулей Runbook с включенной трассировкой нет необходимости toolog записи о ходе выполнения, так как базовый уровень служит hello hello той же цели и более подробное сообщение.</span><span class="sxs-lookup"><span data-stu-id="586f5-270">For graphical runbooks with tracing enabled there is no need toolog progress records, because hello Basic tracing serves hello same purpose and is more informative.</span></span>

![Представление потоков заданий графической разработки](media/automation-runbook-output-and-messages/job-streams-view-blade.png)

<span data-ttu-id="586f5-272">Вы увидите из hello выше снимке экрана, при включении Verbose ведения журнала и трассировки для графических модулей Runbook больше информации, был доступен в производственные hello просматривать потоки задания.</span><span class="sxs-lookup"><span data-stu-id="586f5-272">You can see from hello above screenshot that when you enable Verbose logging and tracing for Graphical runbooks, much more information is available in hello production Job Streams view.</span></span>  <span data-ttu-id="586f5-273">Эти дополнительные сведения могут пригодиться во время поиска и устранения неисправностей, связанных с модулем Runbook. Включайте их только для этой цели, в обычном режиме подобная детализация не требуется.</span><span class="sxs-lookup"><span data-stu-id="586f5-273">This extra information can be essential for troubleshooting production problems with a runbook, and therefore you should only enable it for that purpose and not as a general practice.</span></span>    
<span data-ttu-id="586f5-274">Hello записи трассировки может быть особенно многочисленные.</span><span class="sxs-lookup"><span data-stu-id="586f5-274">hello Trace records can be especially numerous.</span></span>  <span data-ttu-id="586f5-275">С использованием графического модуля runbook вы трассировки для получения двух записей toofour в действие в зависимости от настройки трассировки обычный или подробный.</span><span class="sxs-lookup"><span data-stu-id="586f5-275">With Graphical runbook tracing you can get two toofour records per activity depending on whether you have configured Basic or Detailed tracing.</span></span>  <span data-ttu-id="586f5-276">Если не требуется этот сведения tootrack hello ход выполнения runbook. для устранения неполадок может потребоваться tookeep трассировка отключена.</span><span class="sxs-lookup"><span data-stu-id="586f5-276">Unless you need this information tootrack hello progress of a runbook for troubleshooting, you might want tookeep Tracing turned off.</span></span>

<span data-ttu-id="586f5-277">**tooenable уровня активности трассировки, выполните hello следующие шаги.**</span><span class="sxs-lookup"><span data-stu-id="586f5-277">**tooenable activity-level tracing, perform hello following steps.**</span></span>

1. <span data-ttu-id="586f5-278">Откройте в hello портал Azure, ваша учетная запись автоматизации.</span><span class="sxs-lookup"><span data-stu-id="586f5-278">In hello Azure Portal, open your Automation account.</span></span>
2. <span data-ttu-id="586f5-279">Щелкните hello **Runbooks** плитки tooopen hello список модулей Runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-279">Click on hello **Runbooks** tile tooopen hello list of runbooks.</span></span>
3. <span data-ttu-id="586f5-280">В колонке hello модулей Runbook щелкните tooselect графический runbook из списка модулей Runbook.</span><span class="sxs-lookup"><span data-stu-id="586f5-280">On hello Runbooks blade, click tooselect a graphical runbook from your list of runbooks.</span></span>
4. <span data-ttu-id="586f5-281">В колонке параметров hello для hello выбранного модуля runbook, нажмите кнопку **ведения журнала и трассировки**.</span><span class="sxs-lookup"><span data-stu-id="586f5-281">On hello Settings blade for hello selected runbook, click **Logging and Tracing**.</span></span>
5. <span data-ttu-id="586f5-282">Hello ведения журнала и трассировки колонке под подробные записи в журнале, щелкните **на** tooenable подробное ведение журнала и трассировки udner уровне активности, изменить уровень трассировки hello слишком**основные** или **Detailed**  в зависимости от уровня hello требуется трассировки.</span><span class="sxs-lookup"><span data-stu-id="586f5-282">On hello Logging and Tracing blade, under Log verbose records, click **On** tooenable verbose logging and udner Activity-level tracing, change hello trace level too**Basic** or **Detailed** based on hello level of tracing you require.</span></span><br>
   
   ![Колонка ведения журналов и трассировки графической разработки](media/automation-runbook-output-and-messages/logging-and-tracing-settings-blade.png)

### <a name="microsoft-operations-management-suite-oms-log-analytics"></a><span data-ttu-id="586f5-284">Log Analytics в Microsoft Operations Management Suite (OMS)</span><span class="sxs-lookup"><span data-stu-id="586f5-284">Microsoft Operations Management Suite (OMS) Log Analytics</span></span>
<span data-ttu-id="586f5-285">Автоматизация может отправлять runbook задания состояние задания потоки tooyour анализа журналов Microsoft Operations Management Suite (OMS) рабочей области и.</span><span class="sxs-lookup"><span data-stu-id="586f5-285">Automation can send runbook job status and job streams tooyour Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="586f5-286">С помощью Log Analytics можно:</span><span class="sxs-lookup"><span data-stu-id="586f5-286">With Log Analytics you can,</span></span>

* <span data-ttu-id="586f5-287">получить информацию о заданиях службы автоматизации;</span><span class="sxs-lookup"><span data-stu-id="586f5-287">Get insight on your Automation jobs</span></span> 
* <span data-ttu-id="586f5-288">активировать отправку электронного сообщения или оповещения в соответствии с состоянием задания Runbook (например, сбой или приостановка);</span><span class="sxs-lookup"><span data-stu-id="586f5-288">Trigger an email or alert based on your runbook job status (e.g. failed or suspended)</span></span> 
* <span data-ttu-id="586f5-289">создавать сложные запросы для потоков заданий;</span><span class="sxs-lookup"><span data-stu-id="586f5-289">Write advanced queries across your job streams</span></span> 
* <span data-ttu-id="586f5-290">коррелировать задания и учетные записи службы автоматизации;</span><span class="sxs-lookup"><span data-stu-id="586f5-290">Correlate jobs across Automation accounts</span></span> 
* <span data-ttu-id="586f5-291">визуализировать журнал задания по прошествии времени.</span><span class="sxs-lookup"><span data-stu-id="586f5-291">Visualize your job history over time</span></span>    

<span data-ttu-id="586f5-292">Дополнительные сведения о корреляции и реагировать на данные задания tooconfigure интеграция с toocollect анализа журналов см. в разделе [вперед от tooLog автоматизации Analytics (OMS) состояние задания и задания потоки](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="586f5-292">For more information on how tooconfigure integration with Log Analytics toocollect, correlate and act on job data, see [Forward job status and job streams from Automation tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="586f5-293">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="586f5-293">Next steps</span></span>
* <span data-ttu-id="586f5-294">Дополнительные сведения о выполнение модуля runbook, как toomonitor заданиях и другие технические сведения см. в разделе toolearn [отследить задание runbook](automation-runbook-execution.md)</span><span class="sxs-lookup"><span data-stu-id="586f5-294">toolearn more about runbook execution, how toomonitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="586f5-295">toounderstand toodesign и использование дочерние модули. в статье [дочерние модули Runbook в автоматизации Azure](automation-child-runbooks.md)</span><span class="sxs-lookup"><span data-stu-id="586f5-295">toounderstand how toodesign and use child runbooks, see [Child runbooks in Azure Automation](automation-child-runbooks.md)</span></span>

