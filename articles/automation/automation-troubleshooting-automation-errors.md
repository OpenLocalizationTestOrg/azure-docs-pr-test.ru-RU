---
title: "Общие службы автоматизации Azure выдает aaaTroubleshooting | Документы Microsoft"
description: "Эта статья содержит сведения о toohelp поиск и устранение распространенных ошибок автоматизации Azure."
services: automation
documentationcenter: 
author: mgoedtel
manager: stevenka
editor: tysonn
tags: top-support-issue
keywords: "ошибка службы автоматизации, устранение неполадок, проблема"
ms.assetid: 5f3cfe61-70b0-4e9c-b892-d02daaeee07d
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/26/2017
ms.author: sngun; v-reagie
ms.openlocfilehash: eb7d1cc5726f2b7a86c860e8f0c8340fa4221b2e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshooting-common-issues-in-azure-automation"></a><span data-ttu-id="b0acb-104">Устранение распространенных проблем службы автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="b0acb-104">Troubleshooting common issues in Azure Automation</span></span> 
<span data-ttu-id="b0acb-105">В этой статье содержатся сведения об устранении проблем распространенные ошибки, которые могут возникнуть в службе автоматизации Azure и предлагает возможные решения tooresolve их.</span><span class="sxs-lookup"><span data-stu-id="b0acb-105">This article provides help troubleshooting common errors you might experience in Azure Automation and suggests possible solutions tooresolve them.</span></span>

## <a name="authentication-errors-when-working-with-azure-automation-runbooks"></a><span data-ttu-id="b0acb-106">Ошибки, связанные с аутентификацией, при работе с модулями Runbook службы автоматизации Azure</span><span class="sxs-lookup"><span data-stu-id="b0acb-106">Authentication errors when working with Azure Automation runbooks</span></span>
### <a name="scenario-sign-in-tooazure-account-failed"></a><span data-ttu-id="b0acb-107">Сценарий: Сбой учетной записи входа tooAzure</span><span class="sxs-lookup"><span data-stu-id="b0acb-107">Scenario: Sign in tooAzure Account failed</span></span>
<span data-ttu-id="b0acb-108">**Ошибка:** ошибка hello «Unknown_user_type: неизвестный тип пользователя» при работе с помощью командлетов Add-AzureAccount или AzureRmAccount входа hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-108">**Error:** You receive hello error "Unknown_user_type: Unknown User Type" when working with hello Add-AzureAccount or Login-AzureRmAccount cmdlets.</span></span>

<span data-ttu-id="b0acb-109">**Причина ошибки hello:** Эта ошибка возникает, если имя актива учетных данных hello является недопустимым или если hello имя пользователя и пароль, использование учетных данных службы toosetup hello автоматизации, являются недопустимыми.</span><span class="sxs-lookup"><span data-stu-id="b0acb-109">**Reason for hello error:** This error occurs if hello credential asset name is not valid or if hello username and password that you used toosetup hello Automation credential asset are not valid.</span></span>

<span data-ttu-id="b0acb-110">**Советы по устранению неполадок:** в заказ toodetermine проблема, принимают hello следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="b0acb-110">**Troubleshooting tips:** In order toodetermine what's wrong, take hello following steps:</span></span>  

1. <span data-ttu-id="b0acb-111">Убедитесь, что у вас нет специальные символы, включая hello  **@**  знаку в том, что вы используете tooconnect tooAzure активов имя hello автоматизации учетных данных.</span><span class="sxs-lookup"><span data-stu-id="b0acb-111">Make sure that you don’t have any special characters, including hello **@** character in hello Automation credential asset name that you are using tooconnect tooAzure.</span></span>  
2. <span data-ttu-id="b0acb-112">Проверьте, что можно использовать hello имя пользователя и пароль, который хранится в учетных данных службы автоматизации Azure hello в редакторе локальной интегрированную среду Сценариев PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b0acb-112">Check that you can use hello username and password that are stored in hello Azure Automation credential in your local PowerShell ISE editor.</span></span> <span data-ttu-id="b0acb-113">Это можно сделать, выполнив следующие командлеты в интегрированной среде Сценариев PowerShell hello hello:</span><span class="sxs-lookup"><span data-stu-id="b0acb-113">You can do this by running hello following cmdlets in hello PowerShell ISE:</span></span>  

        $Cred = Get-Credential  
        #Using Azure Service Management   
        Add-AzureAccount –Credential $Cred  
        #Using Azure Resource Manager  
        Login-AzureRmAccount –Credential $Cred
3. <span data-ttu-id="b0acb-114">Локальный сбой проверки подлинности означает, что учетные данные Azure Active Directory были указаны неправильно.</span><span class="sxs-lookup"><span data-stu-id="b0acb-114">If your authentication fails locally, this means that you haven’t set up your Azure Active Directory credentials properly.</span></span> <span data-ttu-id="b0acb-115">См. слишком[проверки подлинности с помощью Azure Active Directory tooAzure](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) post tooget hello Azure Active Directory учетной записи блога правильно настроить.</span><span class="sxs-lookup"><span data-stu-id="b0acb-115">Refer too[Authenticating tooAzure using Azure Active Directory](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) blog post tooget hello Azure Active Directory account set up correctly.</span></span>  

### <a name="scenario-unable-toofind-hello-azure-subscription"></a><span data-ttu-id="b0acb-116">Сценарий: Не удается toofind hello подписки Azure</span><span class="sxs-lookup"><span data-stu-id="b0acb-116">Scenario: Unable toofind hello Azure subscription</span></span>
<span data-ttu-id="b0acb-117">**Ошибка:** возникнет ошибка hello «hello подписке с именем ``<subscription name>`` не найден» при работе с командлетами Select-AzureSubscription или выберите AzureRmSubscription hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-117">**Error:** You receive hello error "hello subscription named ``<subscription name>`` cannot be found" when working with hello Select-AzureSubscription or Select-AzureRmSubscription cmdlets.</span></span>

<span data-ttu-id="b0acb-118">**Причина ошибки hello:** Эта ошибка возникает, если имя hello подписки является недопустимым или hello Azure Active Directory пользователя, сведения о подписке tooget hello не настроена в качестве администратора подписки hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-118">**Reason for hello error:** This error occurs if hello subscription name is not valid or if hello Azure Active Directory user who is trying tooget hello subscription details is not configured as an admin of hello subscription.</span></span>

<span data-ttu-id="b0acb-119">**Советы по устранению неполадок:** в порядке toodetermine Если прошел проверку подлинности tooAzure и имеет доступ toohello подписки вы пытаетесь tooselect, принимают hello следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="b0acb-119">**Troubleshooting tips:** In order toodetermine if you have properly authenticated tooAzure and have access toohello subscription you are trying tooselect, take hello following steps:</span></span>  

1. <span data-ttu-id="b0acb-120">Убедитесь, что запускается hello **Add-AzureAccount** перед запуском hello **Select-AzureSubscription** командлета.</span><span class="sxs-lookup"><span data-stu-id="b0acb-120">Make sure that you run hello **Add-AzureAccount** before running hello **Select-AzureSubscription** cmdlet.</span></span>  
2. <span data-ttu-id="b0acb-121">Если вы по-прежнему видите это сообщение об ошибке, измените код, добавив hello **Get-AzureSubscription** командлет с соблюдением hello **Add-AzureAccount** командлета и выполнить код hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-121">If you still see this error message, modify your code by adding hello **Get-AzureSubscription** cmdlet following hello **Add-AzureAccount** cmdlet and then execute hello code.</span></span>  <span data-ttu-id="b0acb-122">Теперь проверьте, если выходные данные Get-AzureSubscription hello содержит сведения о вашей подписке.</span><span class="sxs-lookup"><span data-stu-id="b0acb-122">Now verify if hello output of Get-AzureSubscription contains your subscription details.</span></span>  

   * <span data-ttu-id="b0acb-123">Если вы не видите все сведения о подписке в выходных данных hello, это означает hello подписка не инициализирована.</span><span class="sxs-lookup"><span data-stu-id="b0acb-123">If you don't see any subscription details in hello output, this means that hello subscription isn’t initialized yet.</span></span>  
   * <span data-ttu-id="b0acb-124">Если отображаются сведения о подписке hello в выходных данных hello, убедитесь, что вы используете hello правильное имя подписки или идентификатор с hello **Select-AzureSubscription** командлета.</span><span class="sxs-lookup"><span data-stu-id="b0acb-124">If you do see hello subscription details in hello output, confirm that you are using hello correct subscription name or ID with hello **Select-AzureSubscription** cmdlet.</span></span>   

### <a name="scenario-authentication-tooazure-failed-because-multi-factor-authentication-is-enabled"></a><span data-ttu-id="b0acb-125">Сценарий: Проверка подлинности tooAzure сбой, так как многофакторная проверка подлинности включена</span><span class="sxs-lookup"><span data-stu-id="b0acb-125">Scenario: Authentication tooAzure failed because multi-factor authentication is enabled</span></span>
<span data-ttu-id="b0acb-126">**Ошибка:** возникнет ошибка hello «Add-AzureAccount: AADSTS50079: регистрации строгой проверки подлинности (подтверждение до) является обязательным» при проверке подлинности tooAzure с помощью Azure имени пользователя и пароля.</span><span class="sxs-lookup"><span data-stu-id="b0acb-126">**Error:** You receive hello error “Add-AzureAccount: AADSTS50079: Strong authentication enrollment (proof-up) is required” when authenticating tooAzure with your Azure username and password.</span></span>

<span data-ttu-id="b0acb-127">**Причина ошибки hello:** при наличии многофакторной проверки подлинности для учетной записи Azure, нельзя использовать tooAzure tooauthenticate пользователя Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b0acb-127">**Reason for hello error:** If you have multi-factor authentication on your Azure account, you can't use an Azure Active Directory user tooauthenticate tooAzure.</span></span>  <span data-ttu-id="b0acb-128">Вместо этого необходимо toouse сертификат или tooAzure tooauthenticate участника службы.</span><span class="sxs-lookup"><span data-stu-id="b0acb-128">Instead, you need toouse a certificate or a service principal tooauthenticate tooAzure.</span></span>

<span data-ttu-id="b0acb-129">**Советы по устранению неполадок:** toouse сертификат с hello командлетов для управления службой Azure, см. слишком[Создание и добавление сертификата toomanage Azure службы.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span><span class="sxs-lookup"><span data-stu-id="b0acb-129">**Troubleshooting tips:** toouse a certificate with hello Azure Service Management cmdlets, refer too[creating and adding a certificate toomanage Azure services.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span></span> <span data-ttu-id="b0acb-130">toouse участника службы с помощью командлетов диспетчера ресурсов Azure, см. слишком[Создание службы с помощью портала Azure основной](../azure-resource-manager/resource-group-create-service-principal-portal.md) и [проверки подлинности участника службы с помощью диспетчера ресурсов Azure.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span><span class="sxs-lookup"><span data-stu-id="b0acb-130">toouse a service principal with Azure Resource Manager cmdlets, refer too[creating service principal using Azure portal](../azure-resource-manager/resource-group-create-service-principal-portal.md) and [authenticating a service principal with Azure Resource Manager.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span></span>

## <a name="common-errors-when-working-with-runbooks"></a><span data-ttu-id="b0acb-131">Распространенные ошибки при работе с модулями Runbook</span><span class="sxs-lookup"><span data-stu-id="b0acb-131">Common errors when working with runbooks</span></span>
### <a name="scenario-hello-runbook-job-start-was-attempted-three-times-but-it-failed-toostart-each-time"></a><span data-ttu-id="b0acb-132">Сценарий: запуск задания runbook hello была предпринята попытка три раза, но он не toostart каждый раз</span><span class="sxs-lookup"><span data-stu-id="b0acb-132">Scenario: hello runbook job start was attempted three times, but it failed toostart each time</span></span>
<span data-ttu-id="b0acb-133">**Ошибка:** runbook завершается ошибкой hello ««hello задания была предпринята попытка три раза, но его не удалось.»</span><span class="sxs-lookup"><span data-stu-id="b0acb-133">**Error:** Your runbook fails with hello error "“hello job was tried three times but it failed."</span></span>

<span data-ttu-id="b0acb-134">**Причина ошибки hello:** Эта ошибка может вызываться hello следующих причин:</span><span class="sxs-lookup"><span data-stu-id="b0acb-134">**Reason for hello error:** This error can be caused by hello following reasons:</span></span>  

1. <span data-ttu-id="b0acb-135">Предельный объем памяти.</span><span class="sxs-lookup"><span data-stu-id="b0acb-135">Memory Limit.</span></span>  <span data-ttu-id="b0acb-136">Мы включили ограничения на объем памяти, выделенной tooa "песочницы" [ограничения службы автоматизации](../azure-subscription-service-limits.md#automation-limits) , задания, может произойти ошибка он использует более 400 МБ памяти.</span><span class="sxs-lookup"><span data-stu-id="b0acb-136">We have documented limits on how much memory allocated tooa Sandbox  [Automation service limits](../azure-subscription-service-limits.md#automation-limits) so a job may fail it if is using more than 400 MB of memory.</span></span> 

2. <span data-ttu-id="b0acb-137">Модуль несовместим.</span><span class="sxs-lookup"><span data-stu-id="b0acb-137">Module Incompatible.</span></span>  <span data-ttu-id="b0acb-138">Данная ситуация может возникать, если зависимости модуля заданы неправильно, в результате чего модуль Runbook, как правило, возвращает сообщение об ошибке "Команда не найдена" или "Не удается привязать параметр".</span><span class="sxs-lookup"><span data-stu-id="b0acb-138">This can occur if module dependencies are not correct and if they are not, your runbook will typically return a “Command not found” or "Cannot bind parameter" message.</span></span> 

<span data-ttu-id="b0acb-139">**Советы по устранению неполадок:** любой hello следующие решения устранит проблему hello:</span><span class="sxs-lookup"><span data-stu-id="b0acb-139">**Troubleshooting tips:** Any of hello following solutions will fix hello problem:</span></span>  

* <span data-ttu-id="b0acb-140">Рекомендованные методы toowork выходит за пределы памяти hello предназначены для рабочей нагрузки hello toosplit несколькими модулями Runbook, обрабатывает столько данных в памяти, не toowrite ненужные выходных данных из модулей Runbook или рассмотрите возможность записи в вашей PowerShell сколько контрольные точки модули Runbook рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="b0acb-140">Suggested methods toowork within hello memory limit are toosplit hello workload between multiple runbooks, not process as much data in memory, not toowrite unnecessary output from your runbooks, or consider how many checkpoints you write into your PowerShell workflow runbooks.</span></span>  

* <span data-ttu-id="b0acb-141">Требуется tooupdate Azure модули, выполнив шаги hello [как tooupdate модули Azure PowerShell в службе автоматизации Azure](automation-update-azure-modules.md).</span><span class="sxs-lookup"><span data-stu-id="b0acb-141">You need tooupdate your Azure modules by following hello steps [How tooupdate Azure PowerShell modules in Azure Automation](automation-update-azure-modules.md).</span></span>  


### <a name="scenario-runbook-fails-because-of-deserialized-object"></a><span data-ttu-id="b0acb-142">Сценарий: сбой модуля Runbook из-за десериализованного объекта</span><span class="sxs-lookup"><span data-stu-id="b0acb-142">Scenario: Runbook fails because of deserialized object</span></span>
<span data-ttu-id="b0acb-143">**Ошибка:** runbook завершается с ошибкой hello «не удается привязать параметр ``<ParameterName>``.</span><span class="sxs-lookup"><span data-stu-id="b0acb-143">**Error:** Your runbook fails with hello error "Cannot bind parameter ``<ParameterName>``.</span></span> <span data-ttu-id="b0acb-144">Не удается преобразовать hello ``<ParameterType>`` значение типа Deserialized ``<ParameterType>`` tootype ``<ParameterType>``».</span><span class="sxs-lookup"><span data-stu-id="b0acb-144">Cannot convert hello ``<ParameterType>`` value of type Deserialized ``<ParameterType>`` tootype ``<ParameterType>``".</span></span>

<span data-ttu-id="b0acb-145">**Причина ошибки hello:** Если runbook — это рабочий процесс PowerShell, он содержит сложные объекты в формате десериализованный в порядке toopersist состояния runbook Если hello рабочий процесс приостанавливается.</span><span class="sxs-lookup"><span data-stu-id="b0acb-145">**Reason for hello error:** If your runbook is a PowerShell Workflow, it stores complex objects in a deserialized format in order toopersist your runbook state if hello workflow is suspended.</span></span>  

<span data-ttu-id="b0acb-146">**Советы по устранению неполадок:**</span><span class="sxs-lookup"><span data-stu-id="b0acb-146">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="b0acb-147">Любой из следующих трех решений hello устранит эту проблему:</span><span class="sxs-lookup"><span data-stu-id="b0acb-147">Any of hello following three solutions will fix this problem:</span></span>

1. <span data-ttu-id="b0acb-148">Если направив сложные объекты от одного командлета tooanother, перенос этих командлетов в InlineScript.</span><span class="sxs-lookup"><span data-stu-id="b0acb-148">If you are piping complex objects from one cmdlet tooanother, wrap these cmdlets in an InlineScript.</span></span>  
2. <span data-ttu-id="b0acb-149">Передача hello имя или значение, необходимое из hello сложный объект, вместо того чтобы передавать весь объект hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-149">Pass hello name or value that you need from hello complex object instead of passing hello entire object.</span></span>  
3. <span data-ttu-id="b0acb-150">Используйте модуль Runbook PowerShell, а не модуль Runbook рабочего процесса PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b0acb-150">Use a PowerShell runbook instead of a PowerShell Workflow runbook.</span></span>  

### <a name="scenario-runbook-job-failed-because-hello-allocated-quota-exceeded"></a><span data-ttu-id="b0acb-151">Сценарий: Задание Runbook сбой, так как превышена квота выделенной hello</span><span class="sxs-lookup"><span data-stu-id="b0acb-151">Scenario: Runbook job failed because hello allocated quota exceeded</span></span>
<span data-ttu-id="b0acb-152">**Ошибка:** задания runbook завершается ошибкой hello «hello hello заданий за месяц общее время выполнения исчерпана квота для этой подписки».</span><span class="sxs-lookup"><span data-stu-id="b0acb-152">**Error:** Your runbook job fails with hello error "hello quota for hello monthly total job run time has been reached for this subscription".</span></span>

<span data-ttu-id="b0acb-153">**Причина ошибки hello:** Эта ошибка возникает при hello выполнения задания превышает 500-минутного hello свободного квоты для вашей учетной записи.</span><span class="sxs-lookup"><span data-stu-id="b0acb-153">**Reason for hello error:** This error occurs when hello job execution exceeds hello 500-minute free quota for your account.</span></span> <span data-ttu-id="b0acb-154">Эта квота применяется типы tooall задания выполнения задач, таких как тестирование задания, запуск задания из портала hello, выполнение задания с помощью веб-перехватчиков и планирование tooexecute задания с помощью либо hello портал Azure или в центре обработки данных.</span><span class="sxs-lookup"><span data-stu-id="b0acb-154">This quota applies tooall types of job execution tasks such as testing a job, starting a job from hello portal, executing a job by using webhooks and scheduling a job tooexecute by using either hello Azure portal or in your datacenter.</span></span> <span data-ttu-id="b0acb-155">см. Дополнительные сведения о ценах для автоматизации toolearn [цены автоматизации](https://azure.microsoft.com/pricing/details/automation/).</span><span class="sxs-lookup"><span data-stu-id="b0acb-155">toolearn more about pricing for Automation see [Automation pricing](https://azure.microsoft.com/pricing/details/automation/).</span></span>

<span data-ttu-id="b0acb-156">**Советы по устранению неполадок:** следует toouse более 500 минут обработки в месяц, вам потребуется toochange подписке из hello бесплатный уровень toohello базового уровня.</span><span class="sxs-lookup"><span data-stu-id="b0acb-156">**Troubleshooting tips:** If you want toouse more than 500 minutes of processing per month you will need toochange your subscription from hello Free tier toohello Basic tier.</span></span> <span data-ttu-id="b0acb-157">Можно обновить toohello базового уровня, принимающий hello следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="b0acb-157">You can upgrade toohello Basic tier by taking hello following steps:</span></span>  

1. <span data-ttu-id="b0acb-158">Войдите в tooyour подписки Azure</span><span class="sxs-lookup"><span data-stu-id="b0acb-158">Sign in tooyour Azure subscription</span></span>  
2. <span data-ttu-id="b0acb-159">Выберите учетную запись автоматизации hello которые вы будете tooupgrade</span><span class="sxs-lookup"><span data-stu-id="b0acb-159">Select hello Automation account you wish tooupgrade</span></span>  
3. <span data-ttu-id="b0acb-160">Щелкните **Параметры** > **Ценовая категория и использование** > **Ценовая категория**.</span><span class="sxs-lookup"><span data-stu-id="b0acb-160">Click on **Settings** > **Pricing tier and Usage** > **Pricing tier**</span></span>  
4. <span data-ttu-id="b0acb-161">На hello **выберите ценовую категорию** колонке выберите **Basic**</span><span class="sxs-lookup"><span data-stu-id="b0acb-161">On hello **Choose your pricing tier** blade, select **Basic**</span></span>    

### <a name="scenario-cmdlet-not-recognized-when-executing-a-runbook"></a><span data-ttu-id="b0acb-162">Сценарий: не удается распознать командлет при выполнении модуля Runbook</span><span class="sxs-lookup"><span data-stu-id="b0acb-162">Scenario: Cmdlet not recognized when executing a runbook</span></span>
<span data-ttu-id="b0acb-163">**Ошибка:** runbook задание завершается с ошибкой hello»``<cmdlet name>``: hello термин ``<cmdlet name>`` не распознан как имя командлета, функции, файла скрипта или действующей программы hello.»</span><span class="sxs-lookup"><span data-stu-id="b0acb-163">**Error:** Your runbook job fails with hello error "``<cmdlet name>``: hello term ``<cmdlet name>`` is not recognized as hello name of a cmdlet, function, script file, or operable program."</span></span>

<span data-ttu-id="b0acb-164">**Причина ошибки hello:** Эта ошибка возникает, когда подсистемы PowerShell hello не удается найти hello командлета в модуле runbook.</span><span class="sxs-lookup"><span data-stu-id="b0acb-164">**Reason for hello error:** This error is caused when hello PowerShell engine cannot find hello cmdlet you are using in your runbook.</span></span>  <span data-ttu-id="b0acb-165">Возможно, hello модуль, содержащий командлет hello отсутствует учетная запись hello, имеется конфликт имен, имя runbook, или командлет hello также существует в другом модуле и автоматизации не удается разрешить имя hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-165">This could be because hello module containing hello cmdlet is missing from hello account, there is a name conflict with a runbook name, or hello cmdlet also exists in another module and Automation cannot resolve hello name.</span></span>

<span data-ttu-id="b0acb-166">**Советы по устранению неполадок:** любой hello следующие решения устранит проблему hello:</span><span class="sxs-lookup"><span data-stu-id="b0acb-166">**Troubleshooting tips:** Any of hello following solutions will fix hello problem:</span></span>  

* <span data-ttu-id="b0acb-167">Проверьте правильность ввода имени командлета hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-167">Check that you have entered hello cmdlet name correctly.</span></span>  
* <span data-ttu-id="b0acb-168">Убедитесь, что командлет hello существует в учетной записи автоматизации и что нет конфликтов.</span><span class="sxs-lookup"><span data-stu-id="b0acb-168">Make sure hello cmdlet exists in your Automation account and that there are no conflicts.</span></span> <span data-ttu-id="b0acb-169">tooverify при его наличии, командлет hello откройте книгу в режиме редактирования и поиска hello командлета требуется toofind в библиотеке hello или запустить **Get-Command ``<CommandName>``** .</span><span class="sxs-lookup"><span data-stu-id="b0acb-169">tooverify if hello cmdlet is present, open a runbook in edit mode and search for hello cmdlet you want toofind in hello library or run **Get-Command ``<CommandName>``**.</span></span>  <span data-ttu-id="b0acb-170">После проверки командлета hello доступных toohello учетная запись, и что имеются конфликты имен с другими командлетами или модулей Runbook, добавьте его toohello холст и убедитесь, что используется допустимый параметр, задайте в модуле runbook.</span><span class="sxs-lookup"><span data-stu-id="b0acb-170">Once you have validated that hello cmdlet is available toohello account, and that there are no name conflicts with other cmdlets or runbooks, add it toohello canvas and ensure that you are using a valid parameter set in your runbook.</span></span>  
* <span data-ttu-id="b0acb-171">Если имеется конфликт имен и hello командлет доступен в двух разных модулях, можно решить эту проблему с помощью полного имени командлета hello hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-171">If you do have a name conflict and hello cmdlet is available in two different modules, you can resolve this by using hello fully qualified name for hello cmdlet.</span></span> <span data-ttu-id="b0acb-172">Например, можно использовать следующий формат: **имя_модуля\имя_командлета**.</span><span class="sxs-lookup"><span data-stu-id="b0acb-172">For example, you can use **ModuleName\CmdletName**.</span></span>  
* <span data-ttu-id="b0acb-173">Если выполняются hello runbook в локальной среде, в группу гибридных рабочих ролей, а затем убедитесь в том, что hello модуля или командлета устанавливается на hello компьютера, на котором размещена hello гибридной рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="b0acb-173">If you are executing hello runbook on-premises in a hybrid worker group, then make sure that hello module/cmdlet is installed on hello machine that hosts hello hybrid worker.</span></span>

### <a name="scenario-a-long-running-runbook-consistently-fails-with-hello-exception-hello-job-cannot-continue-running-because-it-was-repeatedly-evicted-from-hello-same-checkpoint"></a><span data-ttu-id="b0acb-174">Сценарий: Длительных runbook часто возникает ошибка с исключением hello: «hello задания не может продолжать выполнение, так как оно постоянно исключалось с hello же контрольной точки».</span><span class="sxs-lookup"><span data-stu-id="b0acb-174">Scenario: A long running runbook consistently fails with hello exception: "hello job cannot continue running because it was repeatedly evicted from hello same checkpoint".</span></span>
<span data-ttu-id="b0acb-175">**Причина ошибки hello:** это сделано поведение конструктора из-за toohello «Справедливое» мониторинг процессов в автоматизации Azure, которая автоматически приостанавливает runbook, если он выполняется дольше, чем 3 часа.</span><span class="sxs-lookup"><span data-stu-id="b0acb-175">**Reason for hello error:** This is by design behavior due toohello "Fair Share" monitoring of processes within Azure Automation, which automatically suspends a runbook if it executes longer than 3 hours.</span></span> <span data-ttu-id="b0acb-176">Однако hello возвращаемое сообщение об ошибке не поддерживает «дальнейшие действия» параметров.</span><span class="sxs-lookup"><span data-stu-id="b0acb-176">However, hello error message returned does not provide "what next" options.</span></span> <span data-ttu-id="b0acb-177">Модуль Runbook может быть приостановлен по целому ряду причин.</span><span class="sxs-lookup"><span data-stu-id="b0acb-177">A runbook can be suspended for a number of reasons.</span></span> <span data-ttu-id="b0acb-178">Приостанавливает произойти главным образом из-за tooerrors.</span><span class="sxs-lookup"><span data-stu-id="b0acb-178">Suspends happen mostly due tooerrors.</span></span> <span data-ttu-id="b0acb-179">Например исключение в книгу, сбой сети или к ошибкам при Здравствуйте Runbook Worker при выполнении модуля runbook hello, все приведут toobe runbook hello приостановлена и начать с последней контрольной точки при возобновлении.</span><span class="sxs-lookup"><span data-stu-id="b0acb-179">For example, an uncaught exception in a runbook, a network failure, or a crash on hello Runbook Worker running hello runbook, will all cause hello runbook toobe suspended and start from its last checkpoint when resumed.</span></span>

<span data-ttu-id="b0acb-180">**Советы по устранению неполадок:** hello задокументированы tooavoid решения этой проблемы является toouse контрольные точки в рабочем процессе.</span><span class="sxs-lookup"><span data-stu-id="b0acb-180">**Troubleshooting tips:** hello documented solution tooavoid this issue is toouse Checkpoints in a workflow.</span></span>  <span data-ttu-id="b0acb-181">сведения слишком toolearn[рабочих процессов PowerShell обучения](automation-powershell-workflow.md#checkpoints).</span><span class="sxs-lookup"><span data-stu-id="b0acb-181">toolearn more refer too[Learning PowerShell Workflows](automation-powershell-workflow.md#checkpoints).</span></span>  <span data-ttu-id="b0acb-182">Более подробно справедливое распределение процессов и контрольные точки описываются в записи блога [Azure Automation: Reliable, Fault-Tolerant Runbook Execution Using Checkpoints](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/) (Служба автоматизации Azure: надежное и отказоустойчивое выполнение модулей Runbook с помощью контрольных точек).</span><span class="sxs-lookup"><span data-stu-id="b0acb-182">A more thorough explanation of "Fair Share" and Checkpoint can be found in this blog article [Using Checkpoints in Runbooks](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/).</span></span>

## <a name="common-errors-when-importing-modules"></a><span data-ttu-id="b0acb-183">Распространенные ошибки при импорте модулей</span><span class="sxs-lookup"><span data-stu-id="b0acb-183">Common errors when importing modules</span></span>
### <a name="scenario-module-fails-tooimport-or-cmdlets-cant-be-executed-after-importing"></a><span data-ttu-id="b0acb-184">Сценарий: Модуль не tooimport или командлеты не может быть выполнена после импорта</span><span class="sxs-lookup"><span data-stu-id="b0acb-184">Scenario: Module fails tooimport or cmdlets can't be executed after importing</span></span>
<span data-ttu-id="b0acb-185">**Ошибка:** модуля завершается ошибкой tooimport или импортирует успешно, но не командлеты будут извлечены.</span><span class="sxs-lookup"><span data-stu-id="b0acb-185">**Error:** A module fails tooimport or imports successfully, but no cmdlets are extracted.</span></span>

<span data-ttu-id="b0acb-186">**Причина ошибки hello:** некоторые наиболее распространенные причины, модуль может не импортировать успешно tooAzure Automation являются:</span><span class="sxs-lookup"><span data-stu-id="b0acb-186">**Reason for hello error:** Some common reasons that a module might not successfully import tooAzure Automation are:</span></span>  

* <span data-ttu-id="b0acb-187">Структура Hello не соответствует структуре hello, автоматизации должен его toobe в.</span><span class="sxs-lookup"><span data-stu-id="b0acb-187">hello structure does not match hello structure that Automation needs it toobe in.</span></span>  
* <span data-ttu-id="b0acb-188">модуль Hello зависит от другой модуль, который еще не развернутых tooyour учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="b0acb-188">hello module is dependent on another module that has not been deployed tooyour Automation account.</span></span>  
* <span data-ttu-id="b0acb-189">модуль Hello отсутствует его зависимости в папке hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-189">hello module is missing its dependencies in hello folder.</span></span>  
* <span data-ttu-id="b0acb-190">Hello **New AzureRmAutomationModule** командлет которого создается модуль hello tooupload используется и не указаны пути hello полный хранилища или не загружены hello модуль, используя общедоступный URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="b0acb-190">hello **New-AzureRmAutomationModule** cmdlet is being used tooupload hello module, and you have not given hello full storage path or have not loaded hello module by using a publicly accessible URL.</span></span>  

<span data-ttu-id="b0acb-191">**Советы по устранению неполадок:**</span><span class="sxs-lookup"><span data-stu-id="b0acb-191">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="b0acb-192">Все следующие решения hello устранит проблему hello:</span><span class="sxs-lookup"><span data-stu-id="b0acb-192">Any of hello following solutions will fix hello problem:</span></span>  

* <span data-ttu-id="b0acb-193">Убедитесь, что этот модуль hello соответствует кодировке hello:</span><span class="sxs-lookup"><span data-stu-id="b0acb-193">Make sure that hello module follows hello following format:</span></span>  
  <span data-ttu-id="b0acb-194">ModuleName.Zip **->** имя_модуля или номер версии **->** (имя_модуля.psm1, имя_модуля.psd1).</span><span class="sxs-lookup"><span data-stu-id="b0acb-194">ModuleName.Zip **->** ModuleName or Version Number **->** (ModuleName.psm1, ModuleName.psd1)</span></span>
* <span data-ttu-id="b0acb-195">Откройте hello psd1-файл и проверить, есть ли модуль hello любые зависимости.</span><span class="sxs-lookup"><span data-stu-id="b0acb-195">Open hello .psd1 file and see if hello module has any dependencies.</span></span>  <span data-ttu-id="b0acb-196">Если Да, отправьте эти модули toohello учетной записи автоматизации.</span><span class="sxs-lookup"><span data-stu-id="b0acb-196">If it does, upload these modules toohello Automation account.</span></span>  
* <span data-ttu-id="b0acb-197">Убедитесь, что любой библиотек, на которую указывает ссылка, присутствуют в папке модуля hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-197">Make sure that any referenced .dlls are present in hello module folder.</span></span>  

## <a name="common-errors-when-working-with-desired-state-configuration-dsc"></a><span data-ttu-id="b0acb-198">Распространенные ошибки при настройке требуемого состояния (DSC)</span><span class="sxs-lookup"><span data-stu-id="b0acb-198">Common errors when working with Desired State Configuration (DSC)</span></span>
### <a name="scenario-node-is-in-failed-status-with-a-not-found-error"></a><span data-ttu-id="b0acb-199">Сценарий: узел находится в состоянии сбоя с ошибкой "Не найден"</span><span class="sxs-lookup"><span data-stu-id="b0acb-199">Scenario: Node is in failed status with a “Not found” error</span></span>
<span data-ttu-id="b0acb-200">**Ошибка:** hello узел имеет отчет с **сбой** состояние и ошибкой hello «hello действие hello tooget попытка из сервера https://``<url>``//accounts/``<account-id>``/Nodes(AgentId=``<agent-id>``) / GetDscAction завершилось ошибкой, так как допустимую конфигурацию ``<guid>`` не найден.»</span><span class="sxs-lookup"><span data-stu-id="b0acb-200">**Error:** hello node has a report with **Failed** status and containing hello error "hello attempt tooget hello action from server https://``<url>``//accounts/``<account-id>``/Nodes(AgentId=``<agent-id>``)/GetDscAction failed because a valid configuration ``<guid>`` cannot be found.”</span></span>

<span data-ttu-id="b0acb-201">**Причина ошибки hello:** Эта ошибка обычно возникает при hello узлу присваивается имя tooa конфигурации (например ABC) вместо имени узла конфигурации (например ABC. Веб-сервер).</span><span class="sxs-lookup"><span data-stu-id="b0acb-201">**Reason for hello error:** This error typically occurs when hello node is assigned tooa configuration name (e.g. ABC) instead of a node configuration name (e.g. ABC.WebServer).</span></span>  

<span data-ttu-id="b0acb-202">**Советы по устранению неполадок:**</span><span class="sxs-lookup"><span data-stu-id="b0acb-202">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="b0acb-203">Убедитесь, что присваиваются hello узла с «имя конфигурации узла» и не hello «configuration name».</span><span class="sxs-lookup"><span data-stu-id="b0acb-203">Make sure that you are assigning hello node with "node configuration name" and not hello "configuration name".</span></span>  
* <span data-ttu-id="b0acb-204">Можно назначить tooa узла для конфигурации узла с помощью портал Azure или с помощью командлета PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b0acb-204">You can assign a node configuration tooa node using Azure portal or with a PowerShell cmdlet.</span></span>

  * <span data-ttu-id="b0acb-205">В заказ tooassign tooa узел для конфигурации узла с помощью портала Azure, откройте hello **узлы DSC** колонки, затем выберите узел и выберите команду **конфигурации узла назначения** кнопки.</span><span class="sxs-lookup"><span data-stu-id="b0acb-205">In order tooassign a node configuration tooa node using Azure portal, open hello **DSC Nodes** blade, then select a node and click on **Assign node configuration** button.</span></span>  
  * <span data-ttu-id="b0acb-206">В заказ tooassign tooa узел для конфигурации узла с помощью командлета PowerShell, используйте **AzureRmAutomationDscNode набор** командлета</span><span class="sxs-lookup"><span data-stu-id="b0acb-206">In order tooassign a node configuration tooa node using PowerShell cmdlet, use **Set-AzureRmAutomationDscNode** cmdlet</span></span>

### <a name="scenario--no-node-configurations-mof-files-were-produced-when-a-configuration-is-compiled"></a><span data-ttu-id="b0acb-207">Сценарий: при компиляции конфигурации не были созданы файлы конфигурации узла (MOF-файлы).</span><span class="sxs-lookup"><span data-stu-id="b0acb-207">Scenario:  No node configurations (MOF files) were produced when a configuration is compiled</span></span>
<span data-ttu-id="b0acb-208">**Ошибка:** приостанавливает задание компиляции DSC hello. Ошибка: «Компиляция завершена успешно, но были сформированы не .mofs конфигурации узла».</span><span class="sxs-lookup"><span data-stu-id="b0acb-208">**Error:** Your DSC compilation job suspends with hello error: “Compilation completed successfully, but no node configuration .mofs were generated”.</span></span>

<span data-ttu-id="b0acb-209">**Причина ошибки hello:** при hello выражения, следующего за hello **узел** слишком оценивает ключевое слово в конфигурации hello DSC $ значение null, то будет произведено не конфигурации узла.</span><span class="sxs-lookup"><span data-stu-id="b0acb-209">**Reason for hello error:** When hello expression following hello **Node** keyword in hello DSC configuration evaluates too$null then no node configurations will be produced.</span></span>    

<span data-ttu-id="b0acb-210">**Советы по устранению неполадок:**</span><span class="sxs-lookup"><span data-stu-id="b0acb-210">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="b0acb-211">Все следующие решения hello устранит проблему hello:</span><span class="sxs-lookup"><span data-stu-id="b0acb-211">Any of hello following solutions will fix hello problem:</span></span>  

* <span data-ttu-id="b0acb-212">Убедитесь, что этот toohello далее выражение hello **узел** ключевое слово в определение конфигурации hello не оценивает слишком $null.</span><span class="sxs-lookup"><span data-stu-id="b0acb-212">Make sure that hello expression next toohello **Node** keyword in hello configuration definition is not evaluating too$null.</span></span>  
* <span data-ttu-id="b0acb-213">Если вы передаете ConfigurationData при компиляции конфигурации hello, убедитесь, что передаете hello ожидаемые значения, которые hello конфигурация требует от [ConfigurationData](automation-dsc-compile.md#configurationdata).</span><span class="sxs-lookup"><span data-stu-id="b0acb-213">If you are passing ConfigurationData when compiling hello configuration, make sure that you are passing hello expected values that hello configuration requires from [ConfigurationData](automation-dsc-compile.md#configurationdata).</span></span>

### <a name="scenario--hello-dsc-node-report-becomes-stuck-in-progress-state"></a><span data-ttu-id="b0acb-214">Сценарий: hello отчета узла DSC перестает отвечать состоянии «выполняется»</span><span class="sxs-lookup"><span data-stu-id="b0acb-214">Scenario:  hello DSC node report becomes stuck “in progress” state</span></span>
<span data-ttu-id="b0acb-215">**Ошибка** : агент DSC выводит сообщение "Экземпляр с заданными значениями свойств не найден".</span><span class="sxs-lookup"><span data-stu-id="b0acb-215">**Error:** DSC Agent outputs “No instance found with given property values.”</span></span>

<span data-ttu-id="b0acb-216">**Причина ошибки hello:** обновления вашей версии WMF и привести к повреждению WMI.</span><span class="sxs-lookup"><span data-stu-id="b0acb-216">**Reason for hello error:** You have upgraded your WMF version and have corrupted WMI.</span></span>  

<span data-ttu-id="b0acb-217">**Советы по устранению неполадок:** , следуйте инструкциям hello hello [DSC известные проблемы и ограничения](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) toofix hello проблему.</span><span class="sxs-lookup"><span data-stu-id="b0acb-217">**Troubleshooting tips:** Follow hello instructions in hello [DSC known issues and limitations](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) toofix hello issue.</span></span>

### <a name="scenario--unable-toouse-a-credential-in-a-dsc-configuration"></a><span data-ttu-id="b0acb-218">Сценарий: Не удается toouse учетных данных в конфигурации DSC</span><span class="sxs-lookup"><span data-stu-id="b0acb-218">Scenario:  Unable toouse a credential in a DSC configuration</span></span>
<span data-ttu-id="b0acb-219">**Ошибка:** с ошибкой hello приостановки задания компиляции DSC: «System.InvalidOperationException ошибка при обработке свойство «Учетные данные» типа ``<some resource name>``: преобразуя и сохраняя зашифрованный пароль в виде обычного текста допустим только в том случае, если PSDscAllowPlainTextPassword устанавливается tootrue».</span><span class="sxs-lookup"><span data-stu-id="b0acb-219">**Error:** Your DSC compilation job was suspended with hello error: “System.InvalidOperationException error processing property 'Credential' of type ``<some resource name>``: Converting and storing an encrypted password as plaintext is allowed only if PSDscAllowPlainTextPassword is set tootrue”.</span></span>

<span data-ttu-id="b0acb-220">**Причина ошибки hello:** вы уже использовали учетных данных в конфигурации, но не предоставил правильную **ConfigurationData** tooset **PSDscAllowPlainTextPassword** tootrue для каждого узла Конфигурация.</span><span class="sxs-lookup"><span data-stu-id="b0acb-220">**Reason for hello error:** You have used a credential in a configuration but didn’t provide proper **ConfigurationData** tooset **PSDscAllowPlainTextPassword** tootrue for each node configuration.</span></span>  

<span data-ttu-id="b0acb-221">**Советы по устранению неполадок:**</span><span class="sxs-lookup"><span data-stu-id="b0acb-221">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="b0acb-222">Убедиться, что toopass становились hello правильную **ConfigurationData** tooset **PSDscAllowPlainTextPassword** tootrue для каждой конфигурации узла, упомянутые в конфигурации hello.</span><span class="sxs-lookup"><span data-stu-id="b0acb-222">Make sure toopass in hello proper **ConfigurationData** tooset **PSDscAllowPlainTextPassword** tootrue for each node configuration mentioned in hello configuration.</span></span> <span data-ttu-id="b0acb-223">Дополнительные сведения см. в разделе слишком[средств в Azure Automation DSC](automation-dsc-compile.md#assets).</span><span class="sxs-lookup"><span data-stu-id="b0acb-223">For more information, refer too[assets in Azure Automation DSC](automation-dsc-compile.md#assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b0acb-224">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="b0acb-224">Next steps</span></span>
<span data-ttu-id="b0acb-225">Если были выполнены hello выше шаги по устранению неполадок и не может найти ответ hello, можно просмотреть hello Дополнительные варианты поддержки ниже.</span><span class="sxs-lookup"><span data-stu-id="b0acb-225">If you have followed hello troubleshooting steps above and can't find hello answer, you can review hello additional support options below.</span></span>

* <span data-ttu-id="b0acb-226">Обратитесь за помощью к экспертам Azure.</span><span class="sxs-lookup"><span data-stu-id="b0acb-226">Get help from Azure experts.</span></span> <span data-ttu-id="b0acb-227">Отправить вашей проблемы toohello [форумы MSDN Azure или переполнения стека.](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="b0acb-227">Submit your issue toohello [MSDN Azure or Stack Overflow forums.](https://azure.microsoft.com/support/forums/).</span></span>
* <span data-ttu-id="b0acb-228">Отправьте запрос в службу поддержки Azure</span><span class="sxs-lookup"><span data-stu-id="b0acb-228">File an Azure support incident.</span></span> <span data-ttu-id="b0acb-229">Go toohello [узла Azure поддерживает](https://azure.microsoft.com/support/options/) и нажмите кнопку **получение поддержки** под **технические и выставление счетов поддержки**.</span><span class="sxs-lookup"><span data-stu-id="b0acb-229">Go toohello [Azure Support site](https://azure.microsoft.com/support/options/) and click **Get support** under **Technical and billing support**.</span></span>
* <span data-ttu-id="b0acb-230">Опубликуйте запрос на сценарий на странице [Центр скриптов](https://azure.microsoft.com/documentation/scripts/) , если вы ищете модуль интеграции или определенное решение для службы автоматизации Azure, в котором используются модули Runbook.</span><span class="sxs-lookup"><span data-stu-id="b0acb-230">Post a Script Request on [Script Center](https://azure.microsoft.com/documentation/scripts/) if you are looking for an Azure Automation runbook solution or an integration module.</span></span>
* <span data-ttu-id="b0acb-231">Оставьте свой отзыв или запрос на ту или иную функцию для службы автоматизации Azure на [странице отзывов](https://feedback.azure.com/forums/34192--general-feedback).</span><span class="sxs-lookup"><span data-stu-id="b0acb-231">Post feedback or feature requests for Azure Automation on [User Voice](https://feedback.azure.com/forums/34192--general-feedback).</span></span>
