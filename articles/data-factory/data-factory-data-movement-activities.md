---
title: "Перемещение данных с помощью действия копирования | Документация Майкрософт"
description: "Дополнительные сведения о перемещении данных в конвейерах фабрики данных: перенос данных между облачными хранилищами, а также между локальным и облачным хранилищами. Использование действия копирования."
keywords: "перемещение данных, перенос данных, копирование данных, передача данных"
services: data-factory
documentationcenter: 
author: linda33wj
manager: jhubbard
editor: monicar
ms.assetid: 67543a20-b7d5-4d19-8b5e-af4c1fd7bc75
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/19/2017
ms.author: jingwang
ms.openlocfilehash: 0cefbe1303de1cfa46cc4b771c0cd3aa7819597c
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="move-data-by-using-copy-activity"></a><span data-ttu-id="83d44-105">Перемещение данных с помощью действия копирования</span><span class="sxs-lookup"><span data-stu-id="83d44-105">Move data by using Copy Activity</span></span>
## <a name="overview"></a><span data-ttu-id="83d44-106">Обзор</span><span class="sxs-lookup"><span data-stu-id="83d44-106">Overview</span></span>
<span data-ttu-id="83d44-107">В фабрике данных Azure с помощью действия копирования можно копировать данные между локальными и облачными хранилищами данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-107">In Azure Data Factory, you can use Copy Activity to copy data between on-premises and cloud data stores.</span></span> <span data-ttu-id="83d44-108">После копирования данные можно подвергнуть дальнейшему преобразованию и анализу.</span><span class="sxs-lookup"><span data-stu-id="83d44-108">After the data is copied, it can be further transformed and analyzed.</span></span> <span data-ttu-id="83d44-109">С помощью действия копирования можно также публиковать результаты преобразования и анализа для бизнес-аналитики и использования приложения.</span><span class="sxs-lookup"><span data-stu-id="83d44-109">You can also use Copy Activity to publish transformation and analysis results for business intelligence (BI) and application consumption.</span></span>

![Роль действия копирования](media/data-factory-data-movement-activities/copy-activity.png)

<span data-ttu-id="83d44-111">Действием копирования управляет защищенная, надежная, масштабируемая и [глобально доступная служба](#global).</span><span class="sxs-lookup"><span data-stu-id="83d44-111">Copy Activity is powered by a secure, reliable, scalable, and [globally available service](#global).</span></span> <span data-ttu-id="83d44-112">Эта статья содержит сведения о перемещении данных в фабрике данных и в рамках действия копирования.</span><span class="sxs-lookup"><span data-stu-id="83d44-112">This article provides details on data movement in Data Factory and Copy Activity.</span></span>

<span data-ttu-id="83d44-113">Сначала давайте рассмотрим, как происходит перенос данных между двумя облачными хранилищами данных, а также между локальным и облачным хранилищами.</span><span class="sxs-lookup"><span data-stu-id="83d44-113">First, let's see how data migration occurs between two cloud data stores, and between an on-premises data store and a cloud data store.</span></span>

> [!NOTE]
> <span data-ttu-id="83d44-114">Общие сведения об определении действий см. в статье [Конвейеры и действия в фабрике данных Azure](data-factory-create-pipelines.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-114">To learn about activities in general, see [Understanding pipelines and activities](data-factory-create-pipelines.md).</span></span>
>
>

### <a name="copy-data-between-two-cloud-data-stores"></a><span data-ttu-id="83d44-115">Копирование данных из одного облачного хранилища в другое</span><span class="sxs-lookup"><span data-stu-id="83d44-115">Copy data between two cloud data stores</span></span>
<span data-ttu-id="83d44-116">Если источник и приемник данных расположены в облаке, то действие копирования (когда оно копирует данные из источника в приемник) проходит этапы, описанные ниже.</span><span class="sxs-lookup"><span data-stu-id="83d44-116">When both source and sink data stores are in the cloud, Copy Activity goes through the following stages to copy data from the source to the sink.</span></span> <span data-ttu-id="83d44-117">Служба, на основе которой реализовано действие копирования, выполняет следующее:</span><span class="sxs-lookup"><span data-stu-id="83d44-117">The service that powers Copy Activity:</span></span>

1. <span data-ttu-id="83d44-118">Считывает данные из источника данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-118">Reads data from the source data store.</span></span>
2. <span data-ttu-id="83d44-119">Выполняет сериализацию или десериализацию, сжатие или распаковку, сопоставление столбцов и преобразование данных из одного типа в другой.</span><span class="sxs-lookup"><span data-stu-id="83d44-119">Performs serialization/deserialization, compression/decompression, column mapping, and type conversion.</span></span> <span data-ttu-id="83d44-120">Она выполняет эти операции в соответствии с конфигурациями наборов входных данных, наборов выходных данных и действия копирования.</span><span class="sxs-lookup"><span data-stu-id="83d44-120">It does these operations based on the configurations of the input dataset, output dataset, and Copy Activity.</span></span>
3. <span data-ttu-id="83d44-121">Записывает данные в целевое хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-121">Writes data to the destination data store.</span></span>

<span data-ttu-id="83d44-122">Служба автоматически выбирает оптимальный регион для перемещения данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-122">The service automatically chooses the optimal region to perform the data movement.</span></span> <span data-ttu-id="83d44-123">Как правило, таким регионом является тот, который расположен ближе всего к приемнику данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-123">This region is usually the one closest to the sink data store.</span></span>

![Копирование из облака в облако](./media/data-factory-data-movement-activities/cloud-to-cloud.png)

### <a name="copy-data-between-an-on-premises-data-store-and-a-cloud-data-store"></a><span data-ttu-id="83d44-125">Копирование данных из локального хранилища данных в облачное и наоборот</span><span class="sxs-lookup"><span data-stu-id="83d44-125">Copy data between an on-premises data store and a cloud data store</span></span>
<span data-ttu-id="83d44-126">Для безопасного переноса данных между локальным хранилищем и облачным хранилищем данных, необходимо установить на локальный компьютер шлюз управления данными.</span><span class="sxs-lookup"><span data-stu-id="83d44-126">To securely move data between an on-premises data store and a cloud data store, install Data Management Gateway on your on-premises machine.</span></span> <span data-ttu-id="83d44-127">Шлюз управления данными — это агент, обеспечивающий гибридное перемещение и обработку данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-127">Data Management Gateway is an agent that enables hybrid data movement and processing.</span></span> <span data-ttu-id="83d44-128">Его можно установить на тот же компьютер, где находится хранилище данных, или на отдельную машину с доступом к этому хранилищу.</span><span class="sxs-lookup"><span data-stu-id="83d44-128">You can install it on the same machine as the data store itself, or on a separate machine that has access to the data store.</span></span>

<span data-ttu-id="83d44-129">В этом случае сериализацию и десериализацию данных, сжатие и распаковку, сопоставление столбцов и преобразование типов выполняет шлюз управления данными.</span><span class="sxs-lookup"><span data-stu-id="83d44-129">In this scenario, Data Management Gateway performs the serialization/deserialization, compression/decompression, column mapping, and type conversion.</span></span> <span data-ttu-id="83d44-130">При этом данные не передаются через службу фабрики данных Azure.</span><span class="sxs-lookup"><span data-stu-id="83d44-130">Data does not flow through the Azure Data Factory service.</span></span> <span data-ttu-id="83d44-131">Наоборот, шлюз управления данными напрямую записывает данные в целевое хранилище.</span><span class="sxs-lookup"><span data-stu-id="83d44-131">Instead, Data Management Gateway directly writes the data to the destination store.</span></span>

![Копировать из локального хранилища в облако](./media/data-factory-data-movement-activities/onprem-to-cloud.png)

<span data-ttu-id="83d44-133">Общие сведения и пошаговые инструкции см. в статье [Перемещение данных между локальными источниками и облаком с помощью шлюза управления данными](data-factory-move-data-between-onprem-and-cloud.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-133">See [Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) for an introduction and walkthrough.</span></span> <span data-ttu-id="83d44-134">Подробные сведения об этом агенте см. в статье [Шлюз управления данными](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-134">See [Data Management Gateway](data-factory-data-management-gateway.md) for detailed information about this agent.</span></span>

<span data-ttu-id="83d44-135">Используя шлюз управления данными, можно также перемещать данные в поддерживаемые хранилища данных, расположенные на виртуальных машинах IaaS Azure, и из таких хранилищ.</span><span class="sxs-lookup"><span data-stu-id="83d44-135">You can also move data from/to supported data stores that are hosted on Azure IaaS virtual machines (VMs) by using Data Management Gateway.</span></span> <span data-ttu-id="83d44-136">В этом случае шлюз управления данными можно установить на ту же виртуальную машину, где находится хранилище данных, или на отдельную виртуальную машину с доступом к этому хранилищу.</span><span class="sxs-lookup"><span data-stu-id="83d44-136">In this case, you can install Data Management Gateway on the same VM as the data store itself, or on a separate VM that has access to the data store.</span></span>

## <a name="supported-data-stores-and-formats"></a><span data-ttu-id="83d44-137">Поддерживаемые хранилища данных и форматы</span><span class="sxs-lookup"><span data-stu-id="83d44-137">Supported data stores and formats</span></span>
<span data-ttu-id="83d44-138">Действие копирования в фабрике данных копирует данные из хранилища-источника в хранилище-приемник.</span><span class="sxs-lookup"><span data-stu-id="83d44-138">Copy Activity in Data Factory copies data from a source data store to a sink data store.</span></span> <span data-ttu-id="83d44-139">Фабрика данных поддерживает приведенные ниже хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-139">Data Factory supports the following data stores.</span></span> <span data-ttu-id="83d44-140">Данные из любого источника можно записывать в любой приемник.</span><span class="sxs-lookup"><span data-stu-id="83d44-140">Data from any source can be written to any sink.</span></span> <span data-ttu-id="83d44-141">Щелкните название хранилища, чтобы узнать, как скопировать данные из него или в него.</span><span class="sxs-lookup"><span data-stu-id="83d44-141">Click a data store to learn how to copy data to and from that store.</span></span>

> [!NOTE] 
> <span data-ttu-id="83d44-142">Если необходимо переместить данные в хранилище или из хранилища данных, которое не поддерживается действием копирования, вы можете использовать в фабрике данных **настраиваемое действие**. В нем для копирования и перемещения данных используется логика, которую задаете вы.</span><span class="sxs-lookup"><span data-stu-id="83d44-142">If you need to move data to/from a data store that Copy Activity doesn't support, use a **custom activity** in Data Factory with your own logic for copying/moving data.</span></span> <span data-ttu-id="83d44-143">Сведения о создании и использовании настраиваемого действия см. в статье [Использование настраиваемых действий в конвейере фабрики данных Azure](data-factory-use-custom-activities.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-143">For details on creating and using a custom activity, see [Use custom activities in an Azure Data Factory pipeline](data-factory-use-custom-activities.md).</span></span>

[!INCLUDE [data-factory-supported-data-stores](../../includes/data-factory-supported-data-stores.md)]

> [!NOTE]
> <span data-ttu-id="83d44-144">Хранилища данных, отмеченные звездочкой (*), могут находиться в локальном расположении или в IaaS Azure и требовать установки [шлюза управления данными](data-factory-data-management-gateway.md) на локальном компьютере или компьютере IaaS Azure.</span><span class="sxs-lookup"><span data-stu-id="83d44-144">Data stores with * can be on-premises or on Azure IaaS, and require you to install [Data Management Gateway](data-factory-data-management-gateway.md) on an on-premises/Azure IaaS machine.</span></span>

### <a name="supported-file-formats"></a><span data-ttu-id="83d44-145">Поддерживаемые форматы файлов</span><span class="sxs-lookup"><span data-stu-id="83d44-145">Supported file formats</span></span>
<span data-ttu-id="83d44-146">С помощью действия копирования можно скопировать файлы между двумя файловыми хранилищами **как есть**. Можно пропустить [раздел форматирования](data-factory-create-datasets.md) в определениях входного и выходного наборов данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-146">You can use Copy Activity to **copy files as-is** between two file-based data stores, you can skip the [format section](data-factory-create-datasets.md) in both the input and output dataset definitions.</span></span> <span data-ttu-id="83d44-147">Это позволяет эффективно копировать данные без какой-либо сериализации или десериализации.</span><span class="sxs-lookup"><span data-stu-id="83d44-147">The data is copied efficiently without any serialization/deserialization.</span></span>

<span data-ttu-id="83d44-148">Кроме того, действие копирования позволяет считывать и записывать файлы в таких форматах: **текстовый формат, JSON, Avro, ORC и Parquet**. Поддерживаются кодеки сжатия **GZip, Deflate, BZip2 и ZipDeflate**.</span><span class="sxs-lookup"><span data-stu-id="83d44-148">Copy Activity also reads from and writes to files in specified formats: **Text, JSON, Avro, ORC, and Parquet**, and compression codec **GZip, Deflate, BZip2, and ZipDeflate** are supported.</span></span> <span data-ttu-id="83d44-149">Дополнительные сведения см. в разделе [Форматы файлов и сжатия данных, поддерживаемые фабрикой данных Azure](data-factory-supported-file-and-compression-formats.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-149">See [Supported file and compression formats](data-factory-supported-file-and-compression-formats.md) with details.</span></span>

<span data-ttu-id="83d44-150">Например, можно выполнять следующие действия копирования:</span><span class="sxs-lookup"><span data-stu-id="83d44-150">For example, you can do the following copy activities:</span></span>

* <span data-ttu-id="83d44-151">копирование данных с локального сервера SQL Server и запись в Azure Data Lake Store в формате ORC;</span><span class="sxs-lookup"><span data-stu-id="83d44-151">Copy data in on-premises SQL Server and write to Azure Data Lake Store in ORC format.</span></span>
* <span data-ttu-id="83d44-152">копирование файлов в текстовом формате (CSV) из локальной файловой системы и запись в большой двоичный объект Azure в формате AVRO;</span><span class="sxs-lookup"><span data-stu-id="83d44-152">Copy files in text (CSV) format from on-premises File System and write to Azure Blob in Avro format.</span></span>
* <span data-ttu-id="83d44-153">копирование ZIP-файлов из локальной файловой системы, их распаковка и размещение в Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="83d44-153">Copy zipped files from on-premises File System and decompress then land to Azure Data Lake Store.</span></span>
* <span data-ttu-id="83d44-154">копирование данных в сжатом с помощью GZip текстовом формате (CSV) из большого двоичного объекта Azure и запись в базу данных SQL Azure;</span><span class="sxs-lookup"><span data-stu-id="83d44-154">Copy data in GZip compressed text (CSV) format from Azure Blob and write to Azure SQL Database.</span></span>

## <span data-ttu-id="83d44-155"><a name="global"></a>Глобально доступное перемещение данных</span><span class="sxs-lookup"><span data-stu-id="83d44-155"><a name="global"></a>Globally available data movement</span></span>
<span data-ttu-id="83d44-156">Фабрика данных Azure доступна только в западной части США, восточной части США и Северной Европе.</span><span class="sxs-lookup"><span data-stu-id="83d44-156">Azure Data Factory is available only in the West US, East US, and North Europe regions.</span></span> <span data-ttu-id="83d44-157">А в регионах, приведенных ниже, служба, управляющая действием копирования, является общедоступной.</span><span class="sxs-lookup"><span data-stu-id="83d44-157">However, the service that powers Copy Activity is available globally in the following regions and geographies.</span></span> <span data-ttu-id="83d44-158">Глобально доступная топология обеспечивает эффективное перемещение данных, обычно позволяя избежать "прыжков" по разным регионам.</span><span class="sxs-lookup"><span data-stu-id="83d44-158">The globally available topology ensures efficient data movement that usually avoids cross-region hops.</span></span> <span data-ttu-id="83d44-159">Дополнительные сведения о доступности фабрики данных и перемещения данных в регионе см. на [этой странице](https://azure.microsoft.com/regions/#services).</span><span class="sxs-lookup"><span data-stu-id="83d44-159">See [Services by region](https://azure.microsoft.com/regions/#services) for availability of Data Factory and Data Movement in a region.</span></span>

### <a name="copy-data-between-cloud-data-stores"></a><span data-ttu-id="83d44-160">Копирование данных из одного облачного хранилища данных в другое</span><span class="sxs-lookup"><span data-stu-id="83d44-160">Copy data between cloud data stores</span></span>
<span data-ttu-id="83d44-161">Если источник и приемник данных расположены в облаке, для перемещения данных фабрика данных Azure использует развертывание службы в регионе, который наиболее приближен к расположению приемника.</span><span class="sxs-lookup"><span data-stu-id="83d44-161">When both source and sink data stores are in the cloud, Data Factory uses a service deployment in the region that is closest to the sink in the same geography to move the data.</span></span> <span data-ttu-id="83d44-162">Сопоставления см. в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="83d44-162">Refer to the following table for mapping:</span></span>

| <span data-ttu-id="83d44-163">Географическое расположение целевых хранилищ данных</span><span class="sxs-lookup"><span data-stu-id="83d44-163">Geography of the destination data stores</span></span> | <span data-ttu-id="83d44-164">Регион целевого хранилища данных</span><span class="sxs-lookup"><span data-stu-id="83d44-164">Region of the destination data store</span></span> | <span data-ttu-id="83d44-165">Регион, используемый для перемещения данных</span><span class="sxs-lookup"><span data-stu-id="83d44-165">Region used for data movement</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="83d44-166">США</span><span class="sxs-lookup"><span data-stu-id="83d44-166">United States</span></span> | <span data-ttu-id="83d44-167">Восток США</span><span class="sxs-lookup"><span data-stu-id="83d44-167">East US</span></span> | <span data-ttu-id="83d44-168">Восток США</span><span class="sxs-lookup"><span data-stu-id="83d44-168">East US</span></span> |
| &nbsp; | <span data-ttu-id="83d44-169">Восток США 2</span><span class="sxs-lookup"><span data-stu-id="83d44-169">East US 2</span></span> | <span data-ttu-id="83d44-170">Восток США 2</span><span class="sxs-lookup"><span data-stu-id="83d44-170">East US 2</span></span> |
| &nbsp; | <span data-ttu-id="83d44-171">Центральный регион США</span><span class="sxs-lookup"><span data-stu-id="83d44-171">Central US</span></span> | <span data-ttu-id="83d44-172">Центральный регион США</span><span class="sxs-lookup"><span data-stu-id="83d44-172">Central US</span></span> |
| &nbsp; | <span data-ttu-id="83d44-173">Северо-центральный регион США</span><span class="sxs-lookup"><span data-stu-id="83d44-173">North Central US</span></span> | <span data-ttu-id="83d44-174">Северо-центральный регион США</span><span class="sxs-lookup"><span data-stu-id="83d44-174">North Central US</span></span> |
| &nbsp; | <span data-ttu-id="83d44-175">Южно-центральный регион США</span><span class="sxs-lookup"><span data-stu-id="83d44-175">South Central US</span></span> | <span data-ttu-id="83d44-176">Южно-центральный регион США</span><span class="sxs-lookup"><span data-stu-id="83d44-176">South Central US</span></span> |
| &nbsp; | <span data-ttu-id="83d44-177">Западно-центральная часть США</span><span class="sxs-lookup"><span data-stu-id="83d44-177">West Central US</span></span> | <span data-ttu-id="83d44-178">Западно-центральная часть США</span><span class="sxs-lookup"><span data-stu-id="83d44-178">West Central US</span></span> |
| &nbsp; | <span data-ttu-id="83d44-179">Запад США</span><span class="sxs-lookup"><span data-stu-id="83d44-179">West US</span></span> | <span data-ttu-id="83d44-180">Запад США</span><span class="sxs-lookup"><span data-stu-id="83d44-180">West US</span></span> |
| &nbsp; | <span data-ttu-id="83d44-181">Западный регион США 2</span><span class="sxs-lookup"><span data-stu-id="83d44-181">West US 2</span></span> | <span data-ttu-id="83d44-182">Запад США</span><span class="sxs-lookup"><span data-stu-id="83d44-182">West US</span></span> |
| <span data-ttu-id="83d44-183">Канада</span><span class="sxs-lookup"><span data-stu-id="83d44-183">Canada</span></span> | <span data-ttu-id="83d44-184">Восточная Канада</span><span class="sxs-lookup"><span data-stu-id="83d44-184">Canada East</span></span> | <span data-ttu-id="83d44-185">Центральная Канада</span><span class="sxs-lookup"><span data-stu-id="83d44-185">Canada Central</span></span> |
| &nbsp; | <span data-ttu-id="83d44-186">Центральная Канада</span><span class="sxs-lookup"><span data-stu-id="83d44-186">Canada Central</span></span> | <span data-ttu-id="83d44-187">Центральная Канада</span><span class="sxs-lookup"><span data-stu-id="83d44-187">Canada Central</span></span> |
| <span data-ttu-id="83d44-188">Бразилия</span><span class="sxs-lookup"><span data-stu-id="83d44-188">Brazil</span></span> | <span data-ttu-id="83d44-189">Южная часть Бразилии</span><span class="sxs-lookup"><span data-stu-id="83d44-189">Brazil South</span></span> | <span data-ttu-id="83d44-190">Южная часть Бразилии</span><span class="sxs-lookup"><span data-stu-id="83d44-190">Brazil South</span></span> |
| <span data-ttu-id="83d44-191">Европа</span><span class="sxs-lookup"><span data-stu-id="83d44-191">Europe</span></span> | <span data-ttu-id="83d44-192">Северная Европа</span><span class="sxs-lookup"><span data-stu-id="83d44-192">North Europe</span></span> | <span data-ttu-id="83d44-193">Северная Европа</span><span class="sxs-lookup"><span data-stu-id="83d44-193">North Europe</span></span> |
| &nbsp; | <span data-ttu-id="83d44-194">Западная Европа</span><span class="sxs-lookup"><span data-stu-id="83d44-194">West Europe</span></span> | <span data-ttu-id="83d44-195">Западная Европа</span><span class="sxs-lookup"><span data-stu-id="83d44-195">West Europe</span></span> |
| <span data-ttu-id="83d44-196">Великобритания</span><span class="sxs-lookup"><span data-stu-id="83d44-196">United Kingdom</span></span> | <span data-ttu-id="83d44-197">Западная часть Великобритании</span><span class="sxs-lookup"><span data-stu-id="83d44-197">UK West</span></span> | <span data-ttu-id="83d44-198">Южная часть Великобритании</span><span class="sxs-lookup"><span data-stu-id="83d44-198">UK South</span></span> |
| &nbsp; | <span data-ttu-id="83d44-199">Южная часть Великобритании</span><span class="sxs-lookup"><span data-stu-id="83d44-199">UK South</span></span> | <span data-ttu-id="83d44-200">Южная часть Великобритании</span><span class="sxs-lookup"><span data-stu-id="83d44-200">UK South</span></span> |
| <span data-ttu-id="83d44-201">Азиатско-Тихоокеанский регион</span><span class="sxs-lookup"><span data-stu-id="83d44-201">Asia Pacific</span></span> | <span data-ttu-id="83d44-202">Юго-Восточная Азия</span><span class="sxs-lookup"><span data-stu-id="83d44-202">Southeast Asia</span></span> | <span data-ttu-id="83d44-203">Юго-Восточная Азия</span><span class="sxs-lookup"><span data-stu-id="83d44-203">Southeast Asia</span></span> |
| &nbsp; | <span data-ttu-id="83d44-204">Восточная Азия</span><span class="sxs-lookup"><span data-stu-id="83d44-204">East Asia</span></span> | <span data-ttu-id="83d44-205">Юго-Восточная Азия</span><span class="sxs-lookup"><span data-stu-id="83d44-205">Southeast Asia</span></span> |
| <span data-ttu-id="83d44-206">Австралия</span><span class="sxs-lookup"><span data-stu-id="83d44-206">Australia</span></span> | <span data-ttu-id="83d44-207">Восточная часть Австралии</span><span class="sxs-lookup"><span data-stu-id="83d44-207">Australia East</span></span> | <span data-ttu-id="83d44-208">Восточная часть Австралии</span><span class="sxs-lookup"><span data-stu-id="83d44-208">Australia East</span></span> |
| &nbsp; | <span data-ttu-id="83d44-209">Юго-Восточная часть Австралии</span><span class="sxs-lookup"><span data-stu-id="83d44-209">Australia Southeast</span></span> | <span data-ttu-id="83d44-210">Юго-Восточная часть Австралии</span><span class="sxs-lookup"><span data-stu-id="83d44-210">Australia Southeast</span></span> |
| <span data-ttu-id="83d44-211">Япония</span><span class="sxs-lookup"><span data-stu-id="83d44-211">Japan</span></span> | <span data-ttu-id="83d44-212">Восточная часть Японии</span><span class="sxs-lookup"><span data-stu-id="83d44-212">Japan East</span></span> | <span data-ttu-id="83d44-213">Восточная часть Японии</span><span class="sxs-lookup"><span data-stu-id="83d44-213">Japan East</span></span> |
| &nbsp; | <span data-ttu-id="83d44-214">Западная часть Японии</span><span class="sxs-lookup"><span data-stu-id="83d44-214">Japan West</span></span> | <span data-ttu-id="83d44-215">Восточная часть Японии</span><span class="sxs-lookup"><span data-stu-id="83d44-215">Japan East</span></span> |
| <span data-ttu-id="83d44-216">Индия</span><span class="sxs-lookup"><span data-stu-id="83d44-216">India</span></span> | <span data-ttu-id="83d44-217">Центральная Индия</span><span class="sxs-lookup"><span data-stu-id="83d44-217">Central India</span></span> | <span data-ttu-id="83d44-218">Центральная Индия</span><span class="sxs-lookup"><span data-stu-id="83d44-218">Central India</span></span> |
| &nbsp; | <span data-ttu-id="83d44-219">Западная Индия</span><span class="sxs-lookup"><span data-stu-id="83d44-219">West India</span></span> | <span data-ttu-id="83d44-220">Центральная Индия</span><span class="sxs-lookup"><span data-stu-id="83d44-220">Central India</span></span> |
| &nbsp; | <span data-ttu-id="83d44-221">Южная Индия</span><span class="sxs-lookup"><span data-stu-id="83d44-221">South India</span></span> | <span data-ttu-id="83d44-222">Центральная Индия</span><span class="sxs-lookup"><span data-stu-id="83d44-222">Central India</span></span> |

<span data-ttu-id="83d44-223">Кроме того, вы можете явным образом указать регион службы фабрики данных. Чтобы использовать его при выполнении копирования, укажите свойство `executionLocation` в разделе `typeProperties` действия копирования.</span><span class="sxs-lookup"><span data-stu-id="83d44-223">Alternatively, you can explicitly indicate the region of Data Factory service to be used to perform the copy by specifying `executionLocation` property under Copy Activity `typeProperties`.</span></span> <span data-ttu-id="83d44-224">Поддерживаемые значения для этого свойства перечислены в приведенном выше столбце **Регион, используемый для перемещения данных**.</span><span class="sxs-lookup"><span data-stu-id="83d44-224">Supported values for this property are listed in above **Region used for data movement** column.</span></span> <span data-ttu-id="83d44-225">Обратите внимание, что при копировании данные будут передаваться через этот регион по сети.</span><span class="sxs-lookup"><span data-stu-id="83d44-225">Note your data goes through that region over the wire during copy.</span></span> <span data-ttu-id="83d44-226">Например, для копирования между хранилищами Azure в Корее можно указать `"executionLocation": "Japan East"`, чтобы маршрутизация выполнялась через регион в Японии (см. [пример JSON](#by-using-json-scripts)).</span><span class="sxs-lookup"><span data-stu-id="83d44-226">For example, to copy between Azure stores in Korea, you can specify `"executionLocation": "Japan East"` to route through Japan region (see [sample JSON](#by-using-json-scripts) as reference).</span></span>

> [!NOTE]
> <span data-ttu-id="83d44-227">Если регион целевого хранилища данных не числится в приведенном выше списке или не может быть определен, то по умолчанию действие копирования не будет выполнено через другой регион и завершится ошибкой (если не указано свойство `executionLocation`).</span><span class="sxs-lookup"><span data-stu-id="83d44-227">If the region of the destination data store is not in preceding list or undetectable, by default Copy Activity fails instead of going through an alternative region, unless `executionLocation` is specified.</span></span> <span data-ttu-id="83d44-228">Со временем список поддерживаемых регионов будет расширен.</span><span class="sxs-lookup"><span data-stu-id="83d44-228">The supported region list will be expanded over time.</span></span>
>

### <a name="copy-data-between-an-on-premises-data-store-and-a-cloud-data-store"></a><span data-ttu-id="83d44-229">Копирование данных из локального хранилища данных в облачное и наоборот</span><span class="sxs-lookup"><span data-stu-id="83d44-229">Copy data between an on-premises data store and a cloud data store</span></span>
<span data-ttu-id="83d44-230">Когда данные копируются между локальным (виртуальные машины Azure/IaaS) и облачным хранилищами, [шлюз управления данными](data-factory-data-management-gateway.md) выполняет перемещение данных на локальном компьютере или виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="83d44-230">When data is being copied between on-premises (or Azure virtual machines/IaaS) and cloud stores, [Data Management Gateway](data-factory-data-management-gateway.md) performs data movement on an on-premises machine or virtual machine.</span></span> <span data-ttu-id="83d44-231">Данные не проходят через службу в облако, если вы не используете функцию [промежуточного копирования](data-factory-copy-activity-performance.md#staged-copy) .</span><span class="sxs-lookup"><span data-stu-id="83d44-231">The data does not flow through the service in the cloud, unless you use the [staged copy](data-factory-copy-activity-performance.md#staged-copy) capability.</span></span> <span data-ttu-id="83d44-232">В таком случае данные проходят через промежуточное хранилище BLOB-объектов Azure и только потом записываются в хранилище-приемник данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-232">In this case, data flows through the staging Azure Blob storage before it is written into the sink data store.</span></span>

## <a name="create-a-pipeline-with-copy-activity"></a><span data-ttu-id="83d44-233">Создание конвейера с действием копирования</span><span class="sxs-lookup"><span data-stu-id="83d44-233">Create a pipeline with Copy Activity</span></span>
<span data-ttu-id="83d44-234">Создать конвейер с действием копирования можно несколькими способами, описанными ниже.</span><span class="sxs-lookup"><span data-stu-id="83d44-234">You can create a pipeline with Copy Activity in a couple of ways:</span></span>

### <a name="by-using-the-copy-wizard"></a><span data-ttu-id="83d44-235">С помощью мастера копирования</span><span class="sxs-lookup"><span data-stu-id="83d44-235">By using the Copy Wizard</span></span>
<span data-ttu-id="83d44-236">Мастер копирования фабрики данных помогает в создании конвейера с действием копирования.</span><span class="sxs-lookup"><span data-stu-id="83d44-236">The Data Factory Copy Wizard helps you to create a pipeline with Copy Activity.</span></span> <span data-ttu-id="83d44-237">Этот конвейер позволяет копировать данные из поддерживаемых источников в места назначения, *не создавая определения JSON* для связанных служб, наборов данных и конвейеров.</span><span class="sxs-lookup"><span data-stu-id="83d44-237">This pipeline allows you to copy data from supported sources to destinations *without writing JSON* definitions for linked services, datasets, and pipelines.</span></span> <span data-ttu-id="83d44-238">Сведения о мастере см. в статье [Мастер копирования фабрики данных](data-factory-copy-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-238">See [Data Factory Copy Wizard](data-factory-copy-wizard.md) for details about the wizard.</span></span>  

### <a name="by-using-json-scripts"></a><span data-ttu-id="83d44-239">С помощью сценариев JSON</span><span class="sxs-lookup"><span data-stu-id="83d44-239">By using JSON scripts</span></span>
<span data-ttu-id="83d44-240">Вы можете использовать редактор фабрики данных на портале Azure, в Visual Studio или в Azure PowerShell, чтобы создать определение JSON для конвейера (используя действие копирования).</span><span class="sxs-lookup"><span data-stu-id="83d44-240">You can use Data Factory Editor in the Azure portal, Visual Studio, or Azure PowerShell to create a JSON definition for a pipeline (by using Copy Activity).</span></span> <span data-ttu-id="83d44-241">Затем его можно развернуть с целью создания конвейера в фабрике данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-241">Then, you can deploy it to create the pipeline in Data Factory.</span></span> <span data-ttu-id="83d44-242">Пошаговые инструкции см. в руководстве [Копирование данных из хранилища BLOB-объектов Azure в базу данных SQL с помощью фабрики данных](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-242">See [Tutorial: Use Copy Activity in an Azure Data Factory pipeline](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md) for a tutorial with step-by-step instructions.</span></span>    

<span data-ttu-id="83d44-243">Свойства JSON (такие как имя, описание, входные и выходные таблицы, политики и т. д.) доступны для всех типов действий.</span><span class="sxs-lookup"><span data-stu-id="83d44-243">JSON properties (such as name, description, input and output tables, and policies) are available for all types of activities.</span></span> <span data-ttu-id="83d44-244">Свойства, доступные в разделе `typeProperties` действия, зависят от конкретного типа действия.</span><span class="sxs-lookup"><span data-stu-id="83d44-244">Properties that are available in the `typeProperties` section of the activity vary with each activity type.</span></span>

<span data-ttu-id="83d44-245">Если используется действие копирования, свойства в разделе `typeProperties` зависят от типов источников и приемников.</span><span class="sxs-lookup"><span data-stu-id="83d44-245">For Copy Activity, the `typeProperties` section varies depending on the types of sources and sinks.</span></span> <span data-ttu-id="83d44-246">Щелкните источник или приемник в разделе [Поддерживаемые хранилища данных и форматы](#supported-data-stores-and-formats) , чтобы получить сведения о свойствах типа, поддерживаемых действием копирования для этого хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-246">Click a source/sink in the [Supported sources and sinks](#supported-data-stores-and-formats) section to learn about type properties that Copy Activity supports for that data store.</span></span>

<span data-ttu-id="83d44-247">Ниже приведен пример определения JSON.</span><span class="sxs-lookup"><span data-stu-id="83d44-247">Here's a sample JSON definition:</span></span>

```json
{
  "name": "ADFTutorialPipeline",
  "properties": {
    "description": "Copy data from Azure blob to Azure SQL table",
    "activities": [
      {
        "name": "CopyFromBlobToSQL",
        "type": "Copy",
        "inputs": [
          {
            "name": "InputBlobTable"
          }
        ],
        "outputs": [
          {
            "name": "OutputSQLTable"
          }
        ],
        "typeProperties": {
          "source": {
            "type": "BlobSource"
          },
          "sink": {
            "type": "SqlSink"
          },
          "executionLocation": "Japan East"          
        },
        "Policy": {
          "concurrency": 1,
          "executionPriorityOrder": "NewestFirst",
          "retry": 0,
          "timeout": "01:00:00"
        }
      }
    ],
    "start": "2016-07-12T00:00:00Z",
    "end": "2016-07-13T00:00:00Z"
  }
}
```
<span data-ttu-id="83d44-248">Действия выполняются согласно расписанию, заданному в наборе выходных данных (например, **ежедневно**, частота — **день**, интервал — **1**).</span><span class="sxs-lookup"><span data-stu-id="83d44-248">The schedule that is defined in the output dataset determines when the activity runs (for example: **daily**, frequency as **day**, and interval as **1**).</span></span> <span data-ttu-id="83d44-249">Действие копирует данные из входного набора данных (**источника**) в выходной набор данных (**приемник**).</span><span class="sxs-lookup"><span data-stu-id="83d44-249">The activity copies data from an input dataset (**source**) to an output dataset (**sink**).</span></span>

<span data-ttu-id="83d44-250">Для действия копирования можно указать несколько входных наборов данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-250">You can specify more than one input dataset to Copy Activity.</span></span> <span data-ttu-id="83d44-251">Они используются для проверки зависимостей перед выполнением действия.</span><span class="sxs-lookup"><span data-stu-id="83d44-251">They are used to verify the dependencies before the activity is run.</span></span> <span data-ttu-id="83d44-252">Однако в целевой набор данных копируются только данные из первого набора данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-252">However, only the data from the first dataset is copied to the destination dataset.</span></span> <span data-ttu-id="83d44-253">Дополнительные сведения см. в статье [Планирование и исполнение с использованием фабрики данных](data-factory-scheduling-and-execution.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-253">For more information, see [Scheduling and execution](data-factory-scheduling-and-execution.md).</span></span>  

## <a name="performance-and-tuning"></a><span data-ttu-id="83d44-254">Производительность и настройка</span><span class="sxs-lookup"><span data-stu-id="83d44-254">Performance and tuning</span></span>
<span data-ttu-id="83d44-255">Сведения о ключевых факторах, влияющих на производительность перемещения данных (действие копирования) в фабрике данных Azure см. в [руководстве по настройке производительности действия копирования](data-factory-copy-activity-performance.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-255">See the [Copy Activity performance and tuning guide](data-factory-copy-activity-performance.md), which describes key factors that affect the performance of data movement (Copy Activity) in Azure Data Factory.</span></span> <span data-ttu-id="83d44-256">В ней также приведены сведения о производительности, наблюдаемой во время внутреннего тестирования, и рассматриваются различные способы оптимизировать производительность действия копирования.</span><span class="sxs-lookup"><span data-stu-id="83d44-256">It also lists the observed performance during internal testing and discusses various ways to optimize the performance of Copy Activity.</span></span>

## <a name="fault-tolerance"></a><span data-ttu-id="83d44-257">Отказоустойчивость</span><span class="sxs-lookup"><span data-stu-id="83d44-257">Fault tolerance</span></span>
<span data-ttu-id="83d44-258">По умолчанию действие копирования останавливает копирование данных и возвращает сбой при возникновении несовместимости данных между источником и приемником; можно явно настроить пропуск несовместимых строк и их регистрацию в журнале и копировать только совместимые данные, чтобы операция копирования была выполнена успешно.</span><span class="sxs-lookup"><span data-stu-id="83d44-258">By default, copy activity will stop copying data and return failure when encounter incompatible data between source and sink; while you can explicitly configure to skip and log the incompatible rows and only copy those compatible data to make the copy succeeded.</span></span> <span data-ttu-id="83d44-259">Дополнительные сведения см. в разделе [Отказоустойчивость действий копирования](data-factory-copy-activity-fault-tolerance.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-259">See the [Copy Activity fault tolerance](data-factory-copy-activity-fault-tolerance.md) on more details.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="83d44-260">Вопросы безопасности</span><span class="sxs-lookup"><span data-stu-id="83d44-260">Security considerations</span></span>
<span data-ttu-id="83d44-261">Обратитесь к разделу [Вопросы безопасности](data-factory-data-movement-security-considerations.md), в котором описывается базовая инфраструктура безопасности, используемая службами перемещения данных в фабрике данных Azure для защиты данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-261">See the [Security considerations](data-factory-data-movement-security-considerations.md), which describes security infrastructure that data movement services in Azure Data Factory use to secure your data.</span></span>

## <a name="scheduling-and-sequential-copy"></a><span data-ttu-id="83d44-262">Планирование и последовательное копирование</span><span class="sxs-lookup"><span data-stu-id="83d44-262">Scheduling and sequential copy</span></span>
<span data-ttu-id="83d44-263">Подробные сведения о планировании и исполнении в фабрике данных см. в [этой статье](data-factory-scheduling-and-execution.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-263">See [Scheduling and execution](data-factory-scheduling-and-execution.md) for detailed information about how scheduling and execution works in Data Factory.</span></span> <span data-ttu-id="83d44-264">Несколько операций копирования можно выполнить друг за другом последовательно или упорядоченно.</span><span class="sxs-lookup"><span data-stu-id="83d44-264">It is possible to run multiple copy operations one after another in a sequential/ordered manner.</span></span> <span data-ttu-id="83d44-265">См. раздел [Последовательное копирование](data-factory-scheduling-and-execution.md#multiple-activities-in-a-pipeline).</span><span class="sxs-lookup"><span data-stu-id="83d44-265">See the [Copy sequentially](data-factory-scheduling-and-execution.md#multiple-activities-in-a-pipeline) section.</span></span>

## <a name="type-conversions"></a><span data-ttu-id="83d44-266">Преобразование типов</span><span class="sxs-lookup"><span data-stu-id="83d44-266">Type conversions</span></span>
<span data-ttu-id="83d44-267">Различные хранилища данных используют разные собственные системы типов.</span><span class="sxs-lookup"><span data-stu-id="83d44-267">Different data stores have different native type systems.</span></span> <span data-ttu-id="83d44-268">Во время копирования типы источников автоматически преобразуются в типы приемников. Такое преобразование выполняется в два этапа.</span><span class="sxs-lookup"><span data-stu-id="83d44-268">Copy Activity performs automatic type conversions from source types to sink types with the following two-step approach:</span></span>

1. <span data-ttu-id="83d44-269">Преобразование собственных типов источников в тип .NET.</span><span class="sxs-lookup"><span data-stu-id="83d44-269">Convert from native source types to a .NET type.</span></span>
2. <span data-ttu-id="83d44-270">Преобразование типа .NET в собственный тип приемника.</span><span class="sxs-lookup"><span data-stu-id="83d44-270">Convert from a .NET type to a native sink type.</span></span>

<span data-ttu-id="83d44-271">Сведения о сопоставлении собственных систем типов с типами .NET см. в статьях, посвященных соответствующим хранилищам данных.</span><span class="sxs-lookup"><span data-stu-id="83d44-271">The mapping from a native type system to a .NET type for a data store is in the respective data store article.</span></span> <span data-ttu-id="83d44-272">(Щелкните соответствующую ссылку в таблице [Поддерживаемые хранилища данных и форматы](#supported-data-stores).)</span><span class="sxs-lookup"><span data-stu-id="83d44-272">(Click the specific link in the [Supported data stores](#supported-data-stores) table).</span></span> <span data-ttu-id="83d44-273">Эти сопоставления позволяют выбрать подходящие типы при создании таблиц и обеспечить правильность преобразований в процессе копирования.</span><span class="sxs-lookup"><span data-stu-id="83d44-273">You can use these mappings to determine appropriate types while creating your tables, so that Copy Activity performs the right conversions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="83d44-274">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="83d44-274">Next steps</span></span>
* <span data-ttu-id="83d44-275">Дополнительные сведения о действии копирования см. в статье [Копирование данных из хранилища BLOB-объектов Azure в базу данных SQL с помощью фабрики данных](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-275">To learn about the Copy Activity more, see [Copy data from Azure Blob storage to Azure SQL Database](data-factory-copy-data-from-azure-blob-storage-to-sql-database.md).</span></span>
* <span data-ttu-id="83d44-276">Чтобы узнать о перемещении данных из локального хранилища данных в облачное хранилище данных, ознакомьтесь со статьей [Перемещение данных между локальными источниками и облаком с помощью шлюза управления данными](data-factory-move-data-between-onprem-and-cloud.md).</span><span class="sxs-lookup"><span data-stu-id="83d44-276">To learn about moving data from an on-premises data store to a cloud data store, see [Move data from on-premises to cloud data stores](data-factory-move-data-between-onprem-and-cloud.md).</span></span>
