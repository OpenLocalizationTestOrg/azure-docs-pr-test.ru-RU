---
title: "Мастер копирования фабрики данных Azure | Документация Майкрософт"
description: "Из этой статьи вы узнаете, как с помощью мастера копирования фабрики данных Azure копировать данные из поддерживаемых источников данных в приемники."
services: data-factory
documentationcenter: 
author: spelluru
manager: jhubbard
editor: monicar
ms.assetid: 0974eb40-db98-4149-a50d-48db46817076
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/14/2017
ms.author: spelluru
ms.openlocfilehash: 53eaa650308979bc0953a6403baf1fd1b86f7420
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="azure-data-factory-copy-wizard"></a><span data-ttu-id="2cc05-103">Мастер копирования фабрики данных Azure</span><span class="sxs-lookup"><span data-stu-id="2cc05-103">Azure Data Factory Copy Wizard</span></span>
<span data-ttu-id="2cc05-104">Мастер копирования фабрики данных Azure предназначен для упрощения процесса приема данных, что обычно является первым шагом сценария комплексной интеграции данных.</span><span class="sxs-lookup"><span data-stu-id="2cc05-104">The Azure Data Factory Copy Wizard eases the process of ingesting data, which is usually a first step in an end-to-end data integration scenario.</span></span> <span data-ttu-id="2cc05-105">Во время работы в мастере копирования фабрики данных Azure вам не требуется изучать какие-либо определения JSON для связанных служб, наборов данных и конвейеров.</span><span class="sxs-lookup"><span data-stu-id="2cc05-105">When going through the Azure Data Factory Copy Wizard, you do not need to understand any JSON definitions for linked services, data sets, and pipelines.</span></span> <span data-ttu-id="2cc05-106">Мастер автоматически создает конвейер для копирования данных из выбранного источника данных в указанное место назначения.</span><span class="sxs-lookup"><span data-stu-id="2cc05-106">The wizard automatically creates a pipeline to copy data from the selected data source to the selected destination.</span></span> <span data-ttu-id="2cc05-107">Кроме того, он позволяет проверить данные, полученные во время разработки.</span><span class="sxs-lookup"><span data-stu-id="2cc05-107">In addition, the Copy Wizard helps you to validate the data being ingested at the time of authoring.</span></span> <span data-ttu-id="2cc05-108">Это экономит время, особенно, если данные получаются из источника данных впервые.</span><span class="sxs-lookup"><span data-stu-id="2cc05-108">This saves time, especially when you are ingesting data for the first time from the data source.</span></span> <span data-ttu-id="2cc05-109">Чтобы запустить мастер копирования, на домашней странице фабрики данных щелкните плитку **Копировать данные** .</span><span class="sxs-lookup"><span data-stu-id="2cc05-109">To start the Copy Wizard, click the **Copy data** tile on the home page of your data factory.</span></span>

![Мастер копирования](./media/data-factory-copy-wizard/copy-data-wizard.png)

## <a name="designed-for-big-data"></a><span data-ttu-id="2cc05-111">Предназначен для больших объемов данных</span><span class="sxs-lookup"><span data-stu-id="2cc05-111">Designed for big data</span></span>
<span data-ttu-id="2cc05-112">Этот мастер позволяет легко переместить данные из разнообразных источников в места назначения за считаные минуты.</span><span class="sxs-lookup"><span data-stu-id="2cc05-112">This wizard allows you to easily move data from a wide variety of sources to destinations in minutes.</span></span> <span data-ttu-id="2cc05-113">После выполнения всех действий мастера автоматически создается конвейер с действием копирования вместе с зависимыми сущностями фабрики данных (связанные службы и наборы данных).</span><span class="sxs-lookup"><span data-stu-id="2cc05-113">After you go through the wizard, a pipeline with a copy activity is automatically created for you, along with dependent Data Factory entities (linked services and data sets).</span></span> <span data-ttu-id="2cc05-114">Для создания конвейера никаких дополнительных действий не требуется.</span><span class="sxs-lookup"><span data-stu-id="2cc05-114">No additional steps are required to create the pipeline.</span></span>   

![Выберите источник данных](./media/data-factory-copy-wizard/select-data-source-page.png)

> [!NOTE]
> <span data-ttu-id="2cc05-116">Пошаговые инструкции по созданию примера конвейера для копирования данных из большого двоичного объекта Azure в таблицу базы данных SQL Azure см. в [руководстве по работе с мастером копирования](data-factory-copy-data-wizard-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="2cc05-116">For step-by-step instructions to create a sample pipeline to copy data from an Azure blob to an Azure SQL Database table, see the [Copy Wizard tutorial](data-factory-copy-data-wizard-tutorial.md).</span></span>
>
>

<span data-ttu-id="2cc05-117">Мастер изначально предназначен для работы с большими объемами данных и поддерживает разнообразные данные и типы объектов.</span><span class="sxs-lookup"><span data-stu-id="2cc05-117">The wizard is designed with big data in mind from the start, with support for diverse data and object types.</span></span> <span data-ttu-id="2cc05-118">Вы можете создавать конвейеры фабрики данных для перемещения сотен папок, файлов или таблиц.</span><span class="sxs-lookup"><span data-stu-id="2cc05-118">You can author Data Factory pipelines that move hundreds of folders, files, or tables.</span></span> <span data-ttu-id="2cc05-119">Мастер позволяет выполнять автоматический предварительный просмотр данных, собирать и сопоставлять схемы, а также фильтровать данные.</span><span class="sxs-lookup"><span data-stu-id="2cc05-119">The wizard supports automatic data preview, schema capture and mapping, and data filtering.</span></span>

## <a name="automatic-data-preview"></a><span data-ttu-id="2cc05-120">Автоматический предварительный просмотр данных</span><span class="sxs-lookup"><span data-stu-id="2cc05-120">Automatic data preview</span></span>
<span data-ttu-id="2cc05-121">В мастере вы можете предварительно просмотреть данные из определенного источника, чтобы проверить, эти ли данные нужно скопировать.</span><span class="sxs-lookup"><span data-stu-id="2cc05-121">You can preview part of the data from the selected data source in order to validate whether the data is what you want to copy.</span></span> <span data-ttu-id="2cc05-122">Кроме того, если исходные данные находятся в текстовом файле, мастер копирования анализирует его, чтобы автоматически получить сведения о разделителях строк и столбцов, а также о схемах.</span><span class="sxs-lookup"><span data-stu-id="2cc05-122">In addition, if the source data is in a text file, the Copy Wizard parses the text file to learn the row and column delimiters and schema automatically.</span></span>

![Параметры формата файла](./media/data-factory-copy-wizard/file-format-settings.png)

## <a name="schema-capture-and-mapping"></a><span data-ttu-id="2cc05-124">Сбор и сопоставление схем</span><span class="sxs-lookup"><span data-stu-id="2cc05-124">Schema capture and mapping</span></span>
<span data-ttu-id="2cc05-125">В некоторых случаях схема входных данных может не совпадать со схемой выходных данных.</span><span class="sxs-lookup"><span data-stu-id="2cc05-125">The schema of input data may not match the schema of output data in some cases.</span></span> <span data-ttu-id="2cc05-126">В этом случае необходимо сопоставить столбцы в исходной схеме со столбцами в целевой схеме.</span><span class="sxs-lookup"><span data-stu-id="2cc05-126">In this scenario, you need to map columns from the source schema to columns from the destination schema.</span></span>

> [!TIP]
> <span data-ttu-id="2cc05-127">При копировании данных из базы данных SQL Azure или SQL Server в хранилище данных SQL Azure, фабрика данных поддерживает автоматическое создание таблицы с использованием исходной схемы, если таблица не существует в целевом хранилище.</span><span class="sxs-lookup"><span data-stu-id="2cc05-127">When copying data from SQL Server or Azure SQL Database into Azure SQL Data Warehouse, if the table does not exist in the destination store, Data Factory support auto table creation using source's schema.</span></span> <span data-ttu-id="2cc05-128">Дополнительные сведения см. в статье [Перемещение данных в хранилище данных SQL Azure и из него с помощью фабрики данных Azure](./data-factory-azure-sql-data-warehouse-connector.md).</span><span class="sxs-lookup"><span data-stu-id="2cc05-128">Learn more from [Move data to and from Azure SQL Data Warehouse using Azure Data Factory](./data-factory-azure-sql-data-warehouse-connector.md).</span></span>
>

<span data-ttu-id="2cc05-129">Выберите в раскрывающемся списке столбец из исходной схемы, чтобы сопоставить его со столбцом в целевой схеме.</span><span class="sxs-lookup"><span data-stu-id="2cc05-129">Use a drop-down list to select a column from the source schema to map to a column in the destination schema.</span></span> <span data-ttu-id="2cc05-130">Мастер копирования попытается понять ваш шаблон для сопоставления столбцов.</span><span class="sxs-lookup"><span data-stu-id="2cc05-130">The Copy Wizard tries to understand your pattern for column mapping.</span></span> <span data-ttu-id="2cc05-131">Он применяет тот же шаблон к остальным столбцам, поэтому вам не нужно выбирать каждый столбец по отдельности, чтобы завершить сопоставление схемы.</span><span class="sxs-lookup"><span data-stu-id="2cc05-131">It applies the same pattern to the rest of the columns, so that you do not need to select each of the columns individually to complete the schema mapping.</span></span> <span data-ttu-id="2cc05-132">При необходимости этот шаблон сопоставления можно переопределить, выбирая в раскрывающихся списках столбцы по отдельности.</span><span class="sxs-lookup"><span data-stu-id="2cc05-132">If you prefer, you can override these mappings by using the drop-down lists to map the columns one by one.</span></span> <span data-ttu-id="2cc05-133">Чем больше столбцов сопоставлено, тем более точным становится шаблон.</span><span class="sxs-lookup"><span data-stu-id="2cc05-133">The pattern becomes more accurate as you map more columns.</span></span> <span data-ttu-id="2cc05-134">Мастер копирования постоянно обновляет шаблон сопоставления столбцов, и в конечном счете он становится таким, как нужно вам.</span><span class="sxs-lookup"><span data-stu-id="2cc05-134">The Copy Wizard constantly updates the pattern, and ultimately reaches the right pattern for the column mapping you want to achieve.</span></span>     

![Сопоставление схем](./media/data-factory-copy-wizard/schema-mapping.png)

## <a name="filtering-data"></a><span data-ttu-id="2cc05-136">Фильтрация данных</span><span class="sxs-lookup"><span data-stu-id="2cc05-136">Filtering data</span></span>
<span data-ttu-id="2cc05-137">Исходные данные можно отфильтровать, чтобы выбрать только те, которые необходимо скопировать в хранилище данных-приемник.</span><span class="sxs-lookup"><span data-stu-id="2cc05-137">You can filter source data to select only the data that needs to be copied to the sink data store.</span></span> <span data-ttu-id="2cc05-138">Благодаря фильтрации объем данных, которые необходимо скопировать в хранилище данных-приемник, уменьшается, и, таким образом, повышается пропускная способность операции копирования.</span><span class="sxs-lookup"><span data-stu-id="2cc05-138">Filtering reduces the volume of the data to be copied to the sink data store and therefore enhances the throughput of the copy operation.</span></span> <span data-ttu-id="2cc05-139">В мастере предусмотрен гибкий способ фильтрации данных в реляционной базе данных с помощью языка запросов SQL или файлов в папке больших двоичных объектов Azure с помощью [функций и переменных фабрики данных](data-factory-functions-variables.md).</span><span class="sxs-lookup"><span data-stu-id="2cc05-139">It provides a flexible way to filter data in a relational database by using the SQL query language, or files in an Azure blob folder by using [Data Factory functions and variables](data-factory-functions-variables.md).</span></span>   

### <a name="filtering-of-data-in-a-database"></a><span data-ttu-id="2cc05-140">Фильтрация данных в базе данных</span><span class="sxs-lookup"><span data-stu-id="2cc05-140">Filtering of data in a database</span></span>
<span data-ttu-id="2cc05-141">На следующем снимке экрана показан SQL-запрос с функцией `Text.Format` и переменной `WindowStart`.</span><span class="sxs-lookup"><span data-stu-id="2cc05-141">The following screenshot shows a SQL query using the `Text.Format` function and `WindowStart` variable.</span></span>

![Проверка выражений](./media/data-factory-copy-wizard/validate-expressions.png)

### <a name="filtering-of-data-in-an-azure-blob-folder"></a><span data-ttu-id="2cc05-143">Фильтрация данных в папке больших двоичных объектов Azure</span><span class="sxs-lookup"><span data-stu-id="2cc05-143">Filtering of data in an Azure blob folder</span></span>
<span data-ttu-id="2cc05-144">Вы можете использовать переменные в пути к папке, чтобы скопировать данные из папки, определенной в среде выполнения, на основе [системных переменных](data-factory-functions-variables.md#data-factory-system-variables).</span><span class="sxs-lookup"><span data-stu-id="2cc05-144">You can use variables in the folder path to copy data from a folder that is determined at runtime based on [system variables](data-factory-functions-variables.md#data-factory-system-variables).</span></span> <span data-ttu-id="2cc05-145">Поддерживаемые переменные: **{year}**, **{month}**, **{day}**, **{hour}**, **{minute}** и **{custom}**.</span><span class="sxs-lookup"><span data-stu-id="2cc05-145">The supported variables are: **{year}**, **{month}**, **{day}**, **{hour}**, **{minute}**, and **{custom}**.</span></span> <span data-ttu-id="2cc05-146">Пример: inputfolder/{year}/{month}/{day}.</span><span class="sxs-lookup"><span data-stu-id="2cc05-146">For example: inputfolder/{year}/{month}/{day}.</span></span>

<span data-ttu-id="2cc05-147">Предположим, что у вас есть входные каталоги с именами в следующем формате:</span><span class="sxs-lookup"><span data-stu-id="2cc05-147">Suppose that you have input folders in the following format:</span></span>

    2016/03/01/01
    2016/03/01/02
    2016/03/01/03
    ...

<span data-ttu-id="2cc05-148">Нажмите кнопку **Обзор** в разделе **Файл или папка**, перейдите к любой из этих папок, например 2016->03->01->02, и щелкните **Выбрать**.</span><span class="sxs-lookup"><span data-stu-id="2cc05-148">Click the **Browse** button for **File or folder**, browse to one of these folders (for example, 2016->03->01->02), and click **Choose**.</span></span> <span data-ttu-id="2cc05-149">В текстовом поле появится такое значение: `2016/03/01/02`.</span><span class="sxs-lookup"><span data-stu-id="2cc05-149">You should see `2016/03/01/02` in the text box.</span></span> <span data-ttu-id="2cc05-150">Измените в нем **2016** на **{year}**, **03** на **{month}**, **01** на **{day}**, **02** на **{hour}** и нажмите клавишу **TAB**.</span><span class="sxs-lookup"><span data-stu-id="2cc05-150">Now, replace **2016** with **{year}**, **03** with **{month}**, **01** with **{day}**, and **02** with **{hour}**, and press the **Tab** key.</span></span> <span data-ttu-id="2cc05-151">Вы увидите раскрывающиеся списки, в которых можно выбрать формат для этих четырех переменных, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="2cc05-151">You should see drop-down lists to select the format for these four variables:</span></span>

![Использование системных переменных](./media/data-factory-copy-wizard/blob-standard-variables-in-folder-path.png)   

<span data-ttu-id="2cc05-153">Кроме того, можно использовать переменную **custom**, как показано ниже, и любые [поддерживаемые строки формата](https://msdn.microsoft.com/library/8kb3ddd4.aspx).</span><span class="sxs-lookup"><span data-stu-id="2cc05-153">As shown in the following screenshot, you can also use a **custom** variable and any [supported format strings](https://msdn.microsoft.com/library/8kb3ddd4.aspx).</span></span> <span data-ttu-id="2cc05-154">Чтобы выбрать папку с такой структурой, сначала нажмите кнопку **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="2cc05-154">To select a folder with that structure, use the **Browse** button first.</span></span> <span data-ttu-id="2cc05-155">Затем замените нужное значение на **{custom}** и нажмите клавишу **TAB**. Вы увидите текстовое поле для ввода строки формата.</span><span class="sxs-lookup"><span data-stu-id="2cc05-155">Then replace a value with **{custom}**, and press the **Tab** key to see the text box where you can type the format string.</span></span>     

![Использование пользовательской переменной](./media/data-factory-copy-wizard/blob-custom-variables-in-folder-path.png)

## <a name="scheduling-options"></a><span data-ttu-id="2cc05-157">Параметры планирования</span><span class="sxs-lookup"><span data-stu-id="2cc05-157">Scheduling options</span></span>
<span data-ttu-id="2cc05-158">Операцию копирования можно выполнить однократно или запускать по расписанию (ежечасно, ежедневно и т. д.).</span><span class="sxs-lookup"><span data-stu-id="2cc05-158">You can run the copy operation once or on a schedule (hourly, daily, and so on).</span></span> <span data-ttu-id="2cc05-159">Оба варианта можно использовать с любыми соединителями в средах, в том числе в локальных средах или в облаке, а также с копиями на локальном компьютере.</span><span class="sxs-lookup"><span data-stu-id="2cc05-159">Both of these options can be used for the breadth of the connectors across environments, including on-premises, cloud, and local desktop copy.</span></span>

<span data-ttu-id="2cc05-160">Однократная операция копирования позволяет один раз переместить данные из источника в целевое расположение.</span><span class="sxs-lookup"><span data-stu-id="2cc05-160">A one-time copy operation enables data movement from a source to a destination only once.</span></span> <span data-ttu-id="2cc05-161">Ее можно применять к данным любого размера и любого из поддерживаемых форматов.</span><span class="sxs-lookup"><span data-stu-id="2cc05-161">It applies to data of any size and any supported format.</span></span> <span data-ttu-id="2cc05-162">Запланированное копирование позволяет копировать данные с определенной периодичностью.</span><span class="sxs-lookup"><span data-stu-id="2cc05-162">The scheduled copy allows you to copy data on a prescribed recurrence.</span></span> <span data-ttu-id="2cc05-163">Для запланированного копирования можно задать широкий набор настроек (повторение, время ожидания, предупреждения и т. д.).</span><span class="sxs-lookup"><span data-stu-id="2cc05-163">You can use rich settings (like retry, timeout, and alerts) to configure the scheduled copy.</span></span>

![Планирование свойств](./media/data-factory-copy-wizard/scheduling-properties.png)

## <a name="next-steps"></a><span data-ttu-id="2cc05-165">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="2cc05-165">Next steps</span></span>
<span data-ttu-id="2cc05-166">Краткое пошаговое руководство по созданию конвейера с действием копирования с помощью мастера копирования фабрики данных см. в [этой статье](data-factory-copy-data-wizard-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="2cc05-166">For a quick walkthrough of using the Data Factory Copy Wizard to create a pipeline with Copy Activity, see [Tutorial: Create a pipeline using the Copy Wizard](data-factory-copy-data-wizard-tutorial.md).</span></span>
