---
title: "aaaSecurity рекомендации по перемещению данных в фабрике данных Azure | Документы Microsoft"
description: "Узнайте о безопасном перемещении данных в фабрике данных Azure."
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: monicar
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/27/2017
ms.author: abnarain
ms.openlocfilehash: 4bfce8884df14ad5b94e28ad3dfcf7025e2130a3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-data-factory---security-considerations-for-data-movement"></a><span data-ttu-id="3b776-103">Вопросы безопасности при перемещении данных в фабрике данных Azure</span><span class="sxs-lookup"><span data-stu-id="3b776-103">Azure Data Factory - Security considerations for data movement</span></span>
## <a name="introduction"></a><span data-ttu-id="3b776-104">Введение</span><span class="sxs-lookup"><span data-stu-id="3b776-104">Introduction</span></span>
<span data-ttu-id="3b776-105">Этой статье описываются основы безопасности инфраструктуры службы перемещения данных в фабрике данных Azure воспользуйтесь toosecure данными.</span><span class="sxs-lookup"><span data-stu-id="3b776-105">This article describes basic security infrastructure that data movement services in Azure Data Factory use toosecure your data.</span></span> <span data-ttu-id="3b776-106">Ресурсы управления фабрики данных Azure созданы на основе инфраструктуры безопасности Azure и используют все возможные меры безопасности, предлагаемые Azure.</span><span class="sxs-lookup"><span data-stu-id="3b776-106">Azure Data Factory management resources are built on Azure security infrastructure and use all possible security measures offered by Azure.</span></span>

<span data-ttu-id="3b776-107">С помощью фабрики данных можно создать один или несколько [конвейеров](data-factory-create-pipelines.md)данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-107">In a Data Factory solution, you create one or more data [pipelines](data-factory-create-pipelines.md).</span></span> <span data-ttu-id="3b776-108">Конвейеры — это логические группы действий, которые вместе отвечают за выполнение задачи.</span><span class="sxs-lookup"><span data-stu-id="3b776-108">A pipeline is a logical grouping of activities that together perform a task.</span></span> <span data-ttu-id="3b776-109">Эти каналы находятся в области hello, где был создан hello фабрики данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-109">These pipelines reside in hello region where hello data factory was created.</span></span> 

<span data-ttu-id="3b776-110">Несмотря на то, что фабрика данных доступна только на **Запад США**, **Восток США**, и **Северной Европе** областей, служба перемещения данных hello доступен [глобально доступны в несколько областей](data-factory-data-movement-activities.md#global).</span><span class="sxs-lookup"><span data-stu-id="3b776-110">Even though Data Factory is available in only **West US**, **East US**, and **North Europe** regions, hello data movement service is available [globally in several regions](data-factory-data-movement-activities.md#global).</span></span> <span data-ttu-id="3b776-111">Фабрики данных, которую службы гарантирует, что данных не остается географической области / регион Если явно указать hello службы toouse альтернативный регион Если служба перемещения данных hello не развернут еще toothat области.</span><span class="sxs-lookup"><span data-stu-id="3b776-111">Data Factory service ensures that data does not leave a geographical area/ region unless you explicitly instruct hello service toouse an alternate region if hello data movement service is not yet deployed toothat region.</span></span> 

<span data-ttu-id="3b776-112">Сама фабрика данных Azure не хранит никакие данные, за исключением учетных данных связанной службы для облачных хранилищ данных, зашифрованных с помощью сертификатов.</span><span class="sxs-lookup"><span data-stu-id="3b776-112">Azure Data Factory itself does not store any data except for linked service credentials for cloud data stores, which are encrypted using certificates.</span></span> <span data-ttu-id="3b776-113">Он позволяет создать управляемые данными рабочие процессы tooorchestrate перемещение данных между [поддерживается хранилищ данных](data-factory-data-movement-activities.md#supported-data-stores-and-formats) и обработки данных с помощью [службы вычислений](data-factory-compute-linked-services.md) в других регионах или в локальной Среда.</span><span class="sxs-lookup"><span data-stu-id="3b776-113">It lets you create data-driven workflows tooorchestrate movement of data between [supported data stores](data-factory-data-movement-activities.md#supported-data-stores-and-formats) and processing of data using [compute services](data-factory-compute-linked-services.md) in other regions or in an on-premises environment.</span></span> <span data-ttu-id="3b776-114">Оно также позволяет слишком[мониторинг и управление рабочими процессами](data-factory-monitor-manage-pipelines.md) использование обеих программный и механизмы пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="3b776-114">It also allows you too[monitor and manage workflows](data-factory-monitor-manage-pipelines.md) using both programmatic and UI mechanisms.</span></span>

<span data-ttu-id="3b776-115">Перемещение данных с помощью фабрики данных Azure было **сертифицировано** для:</span><span class="sxs-lookup"><span data-stu-id="3b776-115">Data movement using Azure Data Factory has been **certified** for:</span></span>
-   <span data-ttu-id="3b776-116">[HIPAA/HITECH](https://www.microsoft.com/en-us/trustcenter/Compliance/HIPAA);</span><span class="sxs-lookup"><span data-stu-id="3b776-116">[HIPAA/HITECH](https://www.microsoft.com/en-us/trustcenter/Compliance/HIPAA)</span></span>  
-   <span data-ttu-id="3b776-117">[ISO/IEC 27001](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27001);</span><span class="sxs-lookup"><span data-stu-id="3b776-117">[ISO/IEC 27001](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27001)</span></span>  
-   <span data-ttu-id="3b776-118">[ISO/IEC 27018](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27018);</span><span class="sxs-lookup"><span data-stu-id="3b776-118">[ISO/IEC 27018](https://www.microsoft.com/en-us/trustcenter/Compliance/ISO-IEC-27018)</span></span> 
-   <span data-ttu-id="3b776-119">[CSA STAR](https://www.microsoft.com/en-us/trustcenter/Compliance/CSA-STAR-Certification).</span><span class="sxs-lookup"><span data-stu-id="3b776-119">[CSA STAR](https://www.microsoft.com/en-us/trustcenter/Compliance/CSA-STAR-Certification)</span></span>
     
<span data-ttu-id="3b776-120">Если вы заинтересованы в Azure соответствия и защита собственной инфраструктурой Azure, посетите hello [Центр управления безопасностью Microsoft](https://www.microsoft.com/TrustCenter/default.aspx).</span><span class="sxs-lookup"><span data-stu-id="3b776-120">If you are interested in Azure compliance and how Azure secures its own infrastructure, visit hello [Microsoft Trust Center](https://www.microsoft.com/TrustCenter/default.aspx).</span></span> 

<span data-ttu-id="3b776-121">В этой статье рассматриваются вопросы безопасности в hello, следующие два сценария перемещения данных:</span><span class="sxs-lookup"><span data-stu-id="3b776-121">In this article, we review security considerations in hello following two data movement scenarios:</span></span> 

- <span data-ttu-id="3b776-122">**Облачный сценарий**, в котором источник и приемник являются общедоступными через Интернет.</span><span class="sxs-lookup"><span data-stu-id="3b776-122">**Cloud scenario**- In this scenario, both your source and destination are publicly accessible through internet.</span></span> <span data-ttu-id="3b776-123">Эти источники данных включают управляемые службы облачного хранения, например служба хранилища Azure, хранилище данных SQL Azure, база данных SQL Azure, Azure Data Lake Store, Amazon S3, Amazon Redshift, службы SaaS (Salesforce) и такие веб-протоколы, как FTP и OData.</span><span class="sxs-lookup"><span data-stu-id="3b776-123">These include managed cloud storage services like Azure Storage, Azure SQL Data Warehouse, Azure SQL Database, Azure Data Lake Store, Amazon S3, Amazon Redshift, SaaS services such as Salesforce, and web protocols such as FTP and OData.</span></span> <span data-ttu-id="3b776-124">Полный список поддерживаемых источников данных можно найти [здесь](data-factory-data-movement-activities.md#supported-data-stores-and-formats).</span><span class="sxs-lookup"><span data-stu-id="3b776-124">You can find a complete list of supported data sources [here](data-factory-data-movement-activities.md#supported-data-stores-and-formats).</span></span>
- <span data-ttu-id="3b776-125">**Гибридным**— в этом случае источника или назначения находится за брандмауэром или внутри локальной корпоративной сети или hello данных хранилище находится в частной сети, виртуальная сеть (чаще всего hello источника) и не является общедоступным .</span><span class="sxs-lookup"><span data-stu-id="3b776-125">**Hybrid scenario**- In this scenario, either your source or destination is behind a firewall or inside an on-premises corporate network or hello data store is in a private network/ virtual network (most often hello source) and is not publicly accessible.</span></span> <span data-ttu-id="3b776-126">Этот сценарий также охватывает серверы базы данных, расположенные на виртуальных машинах.</span><span class="sxs-lookup"><span data-stu-id="3b776-126">Database servers hosted on virtual machines also fall under this scenario.</span></span>

## <a name="cloud-scenarios"></a><span data-ttu-id="3b776-127">Облачные сценарии</span><span class="sxs-lookup"><span data-stu-id="3b776-127">Cloud scenarios</span></span>
###<a name="securing-data-store-credentials"></a><span data-ttu-id="3b776-128">Защита учетных данных хранилища данных</span><span class="sxs-lookup"><span data-stu-id="3b776-128">Securing data store credentials</span></span>
<span data-ttu-id="3b776-129">Фабрика данных Azure защищает учетные данные хранилища данных, выполняя их **шифрование** с помощью **сертификатов, управляемых Майкрософт**.</span><span class="sxs-lookup"><span data-stu-id="3b776-129">Azure Data Factory protects your data store credentials by **encrypting** them by using **certificates managed by Microsoft**.</span></span> <span data-ttu-id="3b776-130">Эти сертификаты меняются каждые **два года**. Изменения включают продление сертификата и перемещение учетных данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-130">These certificates are rotated every **two years** (which includes renewal of certificate and migration of credentials).</span></span> <span data-ttu-id="3b776-131">Зашифрованные учетные данные безопасно хранятся в **службе хранилища Azure, которая контролируется службами управления фабрики данных Azure**.</span><span class="sxs-lookup"><span data-stu-id="3b776-131">These encrypted credentials are securely stored in an **Azure Storage managed by Azure Data Factory management services**.</span></span> <span data-ttu-id="3b776-132">Дополнительные сведения о безопасности службы хранилища Azure см. [здесь](../security/security-storage-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3b776-132">For more information about Azure Storage security, refer [Azure Storage Security Overview](../security/security-storage-overview.md).</span></span>

### <a name="data-encryption-in-transit"></a><span data-ttu-id="3b776-133">Шифрование данных при передаче</span><span class="sxs-lookup"><span data-stu-id="3b776-133">Data encryption in transit</span></span>
<span data-ttu-id="3b776-134">Если хранилище данных облака hello поддерживает протокол HTTPS или TLS, всех данных, передаваемых между службами перемещения данных в фабрике данных и хранилищем данных облака, через защищенный канал HTTPS или TLS.</span><span class="sxs-lookup"><span data-stu-id="3b776-134">If hello cloud data store supports HTTPS or TLS, all data transfers between data movement services in Data Factory and a cloud data store are via secure channel HTTPS or TLS.</span></span>

> [!NOTE]
> <span data-ttu-id="3b776-135">Все соединения слишком**базы данных SQL Azure** и **хранилище данных SQL Azure** всегда требовать шифрования (SSL/TLS) данных во время передачи tooand из базы данных hello время.</span><span class="sxs-lookup"><span data-stu-id="3b776-135">All connections too**Azure SQL Database** and **Azure SQL Data Warehouse** always require encryption (SSL/TLS) while data is in transit tooand from hello database.</span></span> <span data-ttu-id="3b776-136">Во время разработки с помощью редактора JSON конвейера, добавить hello **шифрования** свойства и задать для него слишком**true** в hello **строка подключения**.</span><span class="sxs-lookup"><span data-stu-id="3b776-136">While authoring a pipeline using a JSON editor, add hello **encryption** property and set it too**true** in hello **connection string**.</span></span> <span data-ttu-id="3b776-137">При использовании hello [мастер копирования](data-factory-azure-copy-wizard.md), hello мастер устанавливает это свойство по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="3b776-137">When you use hello [Copy Wizard](data-factory-azure-copy-wizard.md), hello wizard sets this property by default.</span></span> <span data-ttu-id="3b776-138">Для **хранилища Azure**, можно использовать **HTTPS** в строке подключения hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-138">For **Azure Storage**, you can use **HTTPS** in hello connection string.</span></span>

### <a name="data-encryption-at-rest"></a><span data-ttu-id="3b776-139">Шифрование неактивных данных</span><span class="sxs-lookup"><span data-stu-id="3b776-139">Data encryption at rest</span></span>
<span data-ttu-id="3b776-140">Некоторые хранилища данных поддерживают шифрование неактивных данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-140">Some data stores support encryption of data at rest.</span></span> <span data-ttu-id="3b776-141">Мы советуем включить механизм шифрования данных для этих хранилищ данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-141">We suggest that you enable data encryption mechanism for those data stores.</span></span> 

#### <a name="azure-sql-data-warehouse"></a><span data-ttu-id="3b776-142">Хранилище данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="3b776-142">Azure SQL Data Warehouse</span></span>
<span data-ttu-id="3b776-143">Прозрачное шифрование данных (TDE) в хранилище данных SQL Azure помогает защиты от угроз вредоносных действий hello, выполняя в реальном времени шифрование и расшифровку статических данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-143">Transparent Data Encryption (TDE) in Azure SQL Data Warehouse helps with protecting against hello threat of malicious activity by performing real-time encryption and decryption of your data at rest.</span></span> <span data-ttu-id="3b776-144">Такое поведение является прозрачным toohello клиента.</span><span class="sxs-lookup"><span data-stu-id="3b776-144">This behavior is transparent toohello client.</span></span> <span data-ttu-id="3b776-145">Дополнительные сведения см. в статье [Защита базы данных в хранилище данных SQL](../sql-data-warehouse/sql-data-warehouse-overview-manage-security.md).</span><span class="sxs-lookup"><span data-stu-id="3b776-145">For more information, see [Secure a database in SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-manage-security.md).</span></span>

#### <a name="azure-sql-database"></a><span data-ttu-id="3b776-146">База данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="3b776-146">Azure SQL Database</span></span>
<span data-ttu-id="3b776-147">База данных SQL Azure также поддерживает прозрачное шифрование данных (TDE), который участвует, выполняя в реальном времени шифрование и расшифровка данных hello без необходимости изменения toohello приложения для защиты от угроз вредоносных действий hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-147">Azure SQL Database also supports transparent data encryption (TDE), which helps with protecting against hello threat of malicious activity by performing real-time encryption and decryption of hello data without requiring changes toohello application.</span></span> <span data-ttu-id="3b776-148">Такое поведение является прозрачным toohello клиента.</span><span class="sxs-lookup"><span data-stu-id="3b776-148">This behavior is transparent toohello client.</span></span> <span data-ttu-id="3b776-149">Дополнительные сведения см. в статье [Transparent Data Encryption with Azure SQL Database](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-with-azure-sql-database) (Прозрачное шифрование данных в базе данных SQL Azure).</span><span class="sxs-lookup"><span data-stu-id="3b776-149">For more information, see [Transparent Data Encryption with Azure SQL Database](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-with-azure-sql-database).</span></span> 

#### <a name="azure-data-lake-store"></a><span data-ttu-id="3b776-150">Хранилище озера данных Azure</span><span class="sxs-lookup"><span data-stu-id="3b776-150">Azure Data Lake Store</span></span>
<span data-ttu-id="3b776-151">Хранилище Озера данных Azure также обеспечивает шифрование данных, хранящихся в учетной записи hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-151">Azure Data Lake store also provides encryption for data stored in hello account.</span></span> <span data-ttu-id="3b776-152">При включении хранилища Озера данных автоматически шифрует данные перед сохранением и расшифровывает до получения, сделав его прозрачным toohello клиента, доступ к данным hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-152">When enabled, Data Lake store automatically encrypts data before persisting and decrypts before retrieval, making it transparent toohello client accessing hello data.</span></span> <span data-ttu-id="3b776-153">Дополнительные сведения см. в статье [Обеспечение безопасности в хранилище озера данных Azure](../data-lake-store/data-lake-store-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3b776-153">For more information, see [Security in Azure Data Lake Store](../data-lake-store/data-lake-store-security-overview.md).</span></span> 

#### <a name="azure-blob-storage-and-azure-table-storage"></a><span data-ttu-id="3b776-154">Хранилище BLOB-объектов Azure и хранилище таблиц Azure</span><span class="sxs-lookup"><span data-stu-id="3b776-154">Azure Blob Storage and Azure Table Storage</span></span>
<span data-ttu-id="3b776-155">Хранилище Azure хранилища больших двоичных объектов и таблиц Azure поддерживает шифрование службы хранилища (SSE), который автоматически шифрует и расшифровывает до извлечения данных до сохранения toostorage.</span><span class="sxs-lookup"><span data-stu-id="3b776-155">Azure Blob Storage and Azure Table storage supports Storage Service Encryption (SSE), which automatically encrypts your data before persisting toostorage and decrypts before retrieval.</span></span> <span data-ttu-id="3b776-156">Дополнительные сведения см. в статье [Шифрование службы хранилища Azure для неактивных данных (предварительная версия)](../storage/common/storage-service-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="3b776-156">For more information, see [Azure Storage Service Encryption for Data at Rest](../storage/common/storage-service-encryption.md).</span></span>

#### <a name="amazon-s3"></a><span data-ttu-id="3b776-157">Amazon S3</span><span class="sxs-lookup"><span data-stu-id="3b776-157">Amazon S3</span></span>
<span data-ttu-id="3b776-158">Amazon S3 поддерживает шифрование неактивных данных для сервера и клиента.</span><span class="sxs-lookup"><span data-stu-id="3b776-158">Amazon S3 supports both client and server encryption of data at Rest.</span></span> <span data-ttu-id="3b776-159">Дополнительные сведения см. в документации [Protecting Data Using Encryption](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingEncryption.html) (Защита данных с помощью шифрования).</span><span class="sxs-lookup"><span data-stu-id="3b776-159">For more information, see [Protecting Data Using Encryption](http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingEncryption.html).</span></span> <span data-ttu-id="3b776-160">Сейчас фабрика данных не поддерживает Amazon S3 в виртуальном частном облаке.</span><span class="sxs-lookup"><span data-stu-id="3b776-160">Currently, Data Factory does not support Amazon S3 inside a virtual private cloud (VPC).</span></span>

#### <a name="amazon-redshift"></a><span data-ttu-id="3b776-161">Amazon Redshift</span><span class="sxs-lookup"><span data-stu-id="3b776-161">Amazon Redshift</span></span>
<span data-ttu-id="3b776-162">Amazon Redshift поддерживает шифрование неактивных данных кластера.</span><span class="sxs-lookup"><span data-stu-id="3b776-162">Amazon Redshift supports cluster encryption for data at rest.</span></span> <span data-ttu-id="3b776-163">Дополнительные сведения см. в документации [Amazon Redshift Database Encryption](http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-db-encryption.html) (Шифрование базы данных Amazon Redshift).</span><span class="sxs-lookup"><span data-stu-id="3b776-163">For more information, see [Amazon Redshift Database Encryption](http://docs.aws.amazon.com/redshift/latest/mgmt/working-with-db-encryption.html).</span></span> <span data-ttu-id="3b776-164">Сейчас фабрика данных не поддерживает Amazon Redshift в виртуальном частном облаке.</span><span class="sxs-lookup"><span data-stu-id="3b776-164">Currently, Data Factory does not support Amazon Redshift inside a VPC.</span></span> 

#### <a name="salesforce"></a><span data-ttu-id="3b776-165">Salesforce</span><span class="sxs-lookup"><span data-stu-id="3b776-165">Salesforce</span></span>
<span data-ttu-id="3b776-166">SalesForce поддерживает шифрование Shield Platform Encryption, которое позволяет зашифровать все файлы, вложения и настраиваемые поля.</span><span class="sxs-lookup"><span data-stu-id="3b776-166">Salesforce supports Shield Platform Encryption that allows encryption of all files, attachments, custom fields.</span></span> <span data-ttu-id="3b776-167">Дополнительные сведения см. в разделе [hello понимание потока проверки подлинности OAuth Web Server](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_understanding_web_server_oauth_flow.htm).</span><span class="sxs-lookup"><span data-stu-id="3b776-167">For more information, see [Understanding hello Web Server OAuth Authentication Flow](https://developer.salesforce.com/docs/atlas.en-us.api_rest.meta/api_rest/intro_understanding_web_server_oauth_flow.htm).</span></span>  

## <a name="hybrid-scenarios-using-data-management-gateway"></a><span data-ttu-id="3b776-168">Гибридные сценарии (с использованием шлюза управления данных)</span><span class="sxs-lookup"><span data-stu-id="3b776-168">Hybrid Scenarios (using Data Management Gateway)</span></span>
<span data-ttu-id="3b776-169">Гибридные сценарии требуют toobe шлюз управления данными, которые установлены в локальной сети или в виртуальной сети (Azure) или виртуального частного облака (Amazon).</span><span class="sxs-lookup"><span data-stu-id="3b776-169">Hybrid scenarios require Data Management Gateway toobe installed in an on-premises network or inside a virtual network (Azure) or a virtual private cloud (Amazon).</span></span> <span data-ttu-id="3b776-170">Hello шлюз должен быть доступ tooaccess hello локальных хранилищ данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-170">hello gateway must be able tooaccess hello local data stores.</span></span> <span data-ttu-id="3b776-171">Дополнительные сведения о шлюзе hello см. в разделе [шлюз управления данными](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="3b776-171">For more information about hello gateway, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span> 

![Каналы шлюза управления данными](media/data-factory-data-movement-security-considerations/data-management-gateway-channels.png)

<span data-ttu-id="3b776-173">Hello **канала команды** обеспечивает связь между службами перемещения данных в фабрике данных и шлюз управления данными.</span><span class="sxs-lookup"><span data-stu-id="3b776-173">hello **command channel** allows communication between data movement services in Data Factory and Data Management Gateway.</span></span> <span data-ttu-id="3b776-174">связи Hello содержит сведения о связанных toohello действия.</span><span class="sxs-lookup"><span data-stu-id="3b776-174">hello communication contains information related toohello activity.</span></span> <span data-ttu-id="3b776-175">канал данных Hello используется для передачи данных между хранилищами данных локальных и облачных хранилищ данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-175">hello data channel is used for transferring data between on-premises data stores and cloud data stores.</span></span>    

### <a name="on-premises-data-store-credentials"></a><span data-ttu-id="3b776-176">Учетные данные локального хранилища данных</span><span class="sxs-lookup"><span data-stu-id="3b776-176">On-premises data store credentials</span></span>
<span data-ttu-id="3b776-177">Hello учетные данные для вашей локальных хранилищ данных хранятся локально (не в облаке hello).</span><span class="sxs-lookup"><span data-stu-id="3b776-177">hello credentials for your on-premises data stores are stored locally (not in hello cloud).</span></span> <span data-ttu-id="3b776-178">Их можно задать тремя разными способами.</span><span class="sxs-lookup"><span data-stu-id="3b776-178">They can be set in three different ways.</span></span> 

- <span data-ttu-id="3b776-179">С помощью **обычного текста** (обеспечивает меньшую защиту) через протокол HTTPS, используя портал Azure или мастер копирования.</span><span class="sxs-lookup"><span data-stu-id="3b776-179">Using **plain-text** (less secure) via HTTPS from Azure Portal/ Copy Wizard.</span></span> <span data-ttu-id="3b776-180">Hello учетные данные передаются в обычный текст toohello локального шлюза.</span><span class="sxs-lookup"><span data-stu-id="3b776-180">hello credentials are passed in plain-text toohello on-premises gateway.</span></span>
- <span data-ttu-id="3b776-181">С помощью **библиотеки шифрования JavaScript из мастера копирования**.</span><span class="sxs-lookup"><span data-stu-id="3b776-181">Using **JavaScript Cryptography library from Copy Wizard**.</span></span>
- <span data-ttu-id="3b776-182">С помощью **диспетчера учетных данных на основе ClickOnce-приложения**.</span><span class="sxs-lookup"><span data-stu-id="3b776-182">Using **click-once based credentials manager app**.</span></span> <span data-ttu-id="3b776-183">Щелкните Hello-когда приложение выполняет hello на локальном компьютере, которая имеет шлюз toohello доступа и задает учетные данные для хранилища данных hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-183">hello click-once application executes on hello on-premises machine that has access toohello gateway and sets credentials for hello data store.</span></span> <span data-ttu-id="3b776-184">Этот параметр и hello следующий являются hello наиболее безопасные параметры.</span><span class="sxs-lookup"><span data-stu-id="3b776-184">This option and hello next one are hello most secure options.</span></span> <span data-ttu-id="3b776-185">приложение диспетчер учетных данных Hello, по умолчанию использует порт hello 8050 на машине hello со шлюзом для обеспечения безопасной связи.</span><span class="sxs-lookup"><span data-stu-id="3b776-185">hello credential manager app, by default, uses hello port 8050 on hello machine with gateway for secure communication.</span></span>  
- <span data-ttu-id="3b776-186">Используйте [New AzureRmDataFactoryEncryptValue](/powershell/module/azurerm.datafactories/New-AzureRmDataFactoryEncryptValue) учетные данные tooencrypt командлета PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3b776-186">Use [New-AzureRmDataFactoryEncryptValue](/powershell/module/azurerm.datafactories/New-AzureRmDataFactoryEncryptValue) PowerShell cmdlet tooencrypt credentials.</span></span> <span data-ttu-id="3b776-187">Hello командлет использует hello сертификата, что шлюз находится настроенный toouse tooencrypt hello, учетные данные.</span><span class="sxs-lookup"><span data-stu-id="3b776-187">hello cmdlet uses hello certificate that gateway is configured toouse tooencrypt hello credentials.</span></span> <span data-ttu-id="3b776-188">Можно использовать учетные данные зашифрованы hello, возвращенный этим командлетом и добавить его слишком**EncryptedCredential** элемент hello **connectionString** в файле JSON hello, который используется с hello [ Новый AzureRmDataFactoryLinkedService](/powershell/module/azurerm.datafactories/new-azurermdatafactorylinkedservice) командлета или в фрагменте кода JSON hello в hello редактор фабрики данных на портале hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-188">You can use hello encrypted credentials returned by this cmdlet and add it too**EncryptedCredential** element of hello **connectionString** in hello JSON file that you use with hello [New-AzureRmDataFactoryLinkedService](/powershell/module/azurerm.datafactories/new-azurermdatafactorylinkedservice) cmdlet or in hello JSON snippet in hello Data Factory Editor in hello portal.</span></span> <span data-ttu-id="3b776-189">Щелкните этот параметр и hello-после приложения hello наиболее безопасные параметры.</span><span class="sxs-lookup"><span data-stu-id="3b776-189">This option and hello click-once application are hello most secure options.</span></span> 

#### <a name="javascript-cryptography-library-based-encryption"></a><span data-ttu-id="3b776-190">Шифрование на основе библиотеки шифрования JavaScript</span><span class="sxs-lookup"><span data-stu-id="3b776-190">JavaScript cryptography library-based encryption</span></span>
<span data-ttu-id="3b776-191">Можно зашифровать с помощью учетных данных хранилища данных [библиотеки JavaScript криптографии](https://www.microsoft.com/download/details.aspx?id=52439) из hello [мастер копирования](data-factory-copy-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="3b776-191">You can encrypt data store credentials using [JavaScript Cryptography library](https://www.microsoft.com/download/details.aspx?id=52439) from hello [Copy Wizard](data-factory-copy-wizard.md).</span></span> <span data-ttu-id="3b776-192">При выборе этого параметра приветствия мастера копирования извлекает открытый ключ шлюза hello и использует ее учетные данные для хранилища данных hello tooencrypt.</span><span class="sxs-lookup"><span data-stu-id="3b776-192">When you select this option, hello Copy Wizard retrieves hello public key of gateway and uses it tooencrypt hello data store credentials.</span></span> <span data-ttu-id="3b776-193">учетные данные Hello расшифрованы компьютер шлюза hello и защищен Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx).</span><span class="sxs-lookup"><span data-stu-id="3b776-193">hello credentials are decrypted by hello gateway machine and protected by Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx).</span></span>

<span data-ttu-id="3b776-194">**Поддерживаемые браузеры:** IE8, IE9, IE10, IE11, Microsoft Edge, последние версии Firefox, Chrome, Opera и Safari.</span><span class="sxs-lookup"><span data-stu-id="3b776-194">**Supported browsers:** IE8, IE9, IE10, IE11, Microsoft Edge, and latest Firefox, Chrome, Opera, Safari browsers.</span></span> 

#### <a name="click-once-credentials-manager-app"></a><span data-ttu-id="3b776-195">Диспетчер учетных данных ClickOnce-приложения</span><span class="sxs-lookup"><span data-stu-id="3b776-195">Click-once credentials manager app</span></span>
<span data-ttu-id="3b776-196">Можно запустить щелкните hello-после основе приложение диспетчер учетных данных из портала Azure или копирования мастер при создании конвейеров.</span><span class="sxs-lookup"><span data-stu-id="3b776-196">You can launch hello click-once based credential manager app from Azure portal/Copy Wizard when authoring pipelines.</span></span> <span data-ttu-id="3b776-197">Это приложение гарантирует, что учетные данные не передаются в виде обычного текста по сети hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-197">This application ensures that credentials are not transferred in plain text over hello wire.</span></span> <span data-ttu-id="3b776-198">По умолчанию используется порт hello **8050** на машине hello со шлюзом для обеспечения безопасной связи.</span><span class="sxs-lookup"><span data-stu-id="3b776-198">By default, it uses hello port **8050** on hello machine with gateway for secure communication.</span></span> <span data-ttu-id="3b776-199">При необходимости этот порт можно изменить.</span><span class="sxs-lookup"><span data-stu-id="3b776-199">If necessary, this port can be changed.</span></span>  
  
![HTTPS-порт для шлюза hello](media/data-factory-data-movement-security-considerations/https-port-for-gateway.png)

<span data-ttu-id="3b776-201">В настоящее время шлюз управления данными использует единый **сертификат**.</span><span class="sxs-lookup"><span data-stu-id="3b776-201">Currently, Data Management Gateway uses a single **certificate**.</span></span> <span data-ttu-id="3b776-202">Этот сертификат создается во время установки шлюза hello (применяется tooData шлюз управления создан после ноября 2016 г. и версии 2.4.xxxx.x или более поздней версии).</span><span class="sxs-lookup"><span data-stu-id="3b776-202">This certificate is created during hello gateway installation (applies tooData Management Gateway created after November 2016 and version 2.4.xxxx.x or later).</span></span> <span data-ttu-id="3b776-203">Вы можете заменить этот сертификат собственным сертификатом SSL или TLS.</span><span class="sxs-lookup"><span data-stu-id="3b776-203">You can replace this certificate with your own SSL/TLS certificate.</span></span> <span data-ttu-id="3b776-204">Этот сертификат используется нажатием hello-после toosecurely приложения диспетчер учетных данных, подключиться к компьютеру шлюза toohello для задания учетных данных хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-204">This certificate is used by hello click-once credential manager application toosecurely connect toohello gateway machine for setting data store credentials.</span></span> <span data-ttu-id="3b776-205">Он хранит данные хранилища учетных данных безопасно локально с помощью hello Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) на машине hello со шлюзом.</span><span class="sxs-lookup"><span data-stu-id="3b776-205">It stores data store credentials securely on-premises by using hello Windows [DPAPI](https://msdn.microsoft.com/library/ms995355.aspx) on hello machine with gateway.</span></span> 

> [!NOTE]
> <span data-ttu-id="3b776-206">Более старые шлюзов, которые были установлены до ноября 2016 или 2.3.xxxx.x версии по-прежнему toouse учетные данные шифруются и хранятся в облаке.</span><span class="sxs-lookup"><span data-stu-id="3b776-206">Older gateways that were installed before November 2016 or of version 2.3.xxxx.x continue toouse credentials encrypted and stored on cloud.</span></span> <span data-ttu-id="3b776-207">Даже если обновлении hello шлюза toohello последнюю версию hello учетные данные не перенесенные tooan на локальном компьютере</span><span class="sxs-lookup"><span data-stu-id="3b776-207">Even if you upgrade hello gateway toohello latest version, hello credentials are not migrated tooan on-premises machine</span></span>    
  
| <span data-ttu-id="3b776-208">Версия шлюза (во время создания)</span><span class="sxs-lookup"><span data-stu-id="3b776-208">Gateway version (during creation)</span></span> | <span data-ttu-id="3b776-209">Хранимые учетные данные</span><span class="sxs-lookup"><span data-stu-id="3b776-209">Credentials Stored</span></span> | <span data-ttu-id="3b776-210">Шифрование и безопасность учетных данных</span><span class="sxs-lookup"><span data-stu-id="3b776-210">Credential encryption/ security</span></span> | 
| --------------------------------- | ------------------ | --------- |  
| <span data-ttu-id="3b776-211">< = 2.3.xxxx.x</span><span class="sxs-lookup"><span data-stu-id="3b776-211">< = 2.3.xxxx.x</span></span> | <span data-ttu-id="3b776-212">В облаке</span><span class="sxs-lookup"><span data-stu-id="3b776-212">On cloud</span></span> | <span data-ttu-id="3b776-213">Зашифрованные при помощи сертификата (отличающиеся от hello, используемый в приложение диспетчер учетных данных)</span><span class="sxs-lookup"><span data-stu-id="3b776-213">Encrypted using certificate (different from hello one used by Credential manager app)</span></span> | 
| <span data-ttu-id="3b776-214">> = 2.4.xxxx.x</span><span class="sxs-lookup"><span data-stu-id="3b776-214">> = 2.4.xxxx.x</span></span> | <span data-ttu-id="3b776-215">Локально</span><span class="sxs-lookup"><span data-stu-id="3b776-215">On premises</span></span> | <span data-ttu-id="3b776-216">Защищен с помощью DPAPI</span><span class="sxs-lookup"><span data-stu-id="3b776-216">Secured via DPAPI</span></span> | 
  

### <a name="encryption-in-transit"></a><span data-ttu-id="3b776-217">Шифрование при передаче</span><span class="sxs-lookup"><span data-stu-id="3b776-217">Encryption in transit</span></span>
<span data-ttu-id="3b776-218">Все передача данных осуществляется через безопасный канал **HTTPS** и **TLS по TCP** атак в середине tooprevent во время обмена данными со службами Azure.</span><span class="sxs-lookup"><span data-stu-id="3b776-218">All data transfers are via secure channel **HTTPS** and **TLS over TCP** tooprevent man-in-the-middle attacks during communication with Azure services.</span></span>
 
<span data-ttu-id="3b776-219">Можно также использовать [IPSec VPN](../vpn-gateway/vpn-gateway-about-vpn-devices.md) или [Express Route](../expressroute/expressroute-introduction.md) toofurther hello безопасный коммуникационный канал между локальной сетью и Azure.</span><span class="sxs-lookup"><span data-stu-id="3b776-219">You can also use [IPSec VPN](../vpn-gateway/vpn-gateway-about-vpn-devices.md) or [Express Route](../expressroute/expressroute-introduction.md) toofurther secure hello communication channel between your on-premises network and Azure.</span></span>

<span data-ttu-id="3b776-220">Виртуальная сеть — это логическое представление сети в облаке hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-220">Virtual network is a logical representation of your network in hello cloud.</span></span> <span data-ttu-id="3b776-221">В локальной сети tooyour виртуальной сети (VNet) Azure можно подключиться с помощью настройки VPN IPSec (сеть сеть) или Express Route (частного Пиринга)</span><span class="sxs-lookup"><span data-stu-id="3b776-221">You can connect an on-premises network tooyour Azure virtual network (VNet) by setting up IPSec VPN (site-to-site) or Express Route (Private Peering)</span></span>       

<span data-ttu-id="3b776-222">Hello Следующая таблица обобщает hello сети и шлюза конфигурации рекомендации на основе различных сочетаний исходное и целевое расположение для перемещения данных гибридных.</span><span class="sxs-lookup"><span data-stu-id="3b776-222">hello following table summarizes hello network and gateway configuration recommendations based on different combinations of source and destination locations for hybrid data movement.</span></span>

| <span data-ttu-id="3b776-223">Источник</span><span class="sxs-lookup"><span data-stu-id="3b776-223">Source</span></span> | <span data-ttu-id="3b776-224">Место назначения</span><span class="sxs-lookup"><span data-stu-id="3b776-224">Destination</span></span> | <span data-ttu-id="3b776-225">Конфигурация сети</span><span class="sxs-lookup"><span data-stu-id="3b776-225">Network configuration</span></span> | <span data-ttu-id="3b776-226">Установка шлюза</span><span class="sxs-lookup"><span data-stu-id="3b776-226">Gateway setup</span></span> |
| ------ | ----------- | --------------------- | ------------- | 
| <span data-ttu-id="3b776-227">Локальная система</span><span class="sxs-lookup"><span data-stu-id="3b776-227">On-premises</span></span> | <span data-ttu-id="3b776-228">Виртуальные машины и облачные службы, развернутые в виртуальных сетях</span><span class="sxs-lookup"><span data-stu-id="3b776-228">Virtual machines and cloud services deployed in virtual networks</span></span> | <span data-ttu-id="3b776-229">VPN-подключение IPSec (типа "точка — сеть" или "сеть — сеть")</span><span class="sxs-lookup"><span data-stu-id="3b776-229">IPSec VPN (point-to-site or site-to-site)</span></span> | <span data-ttu-id="3b776-230">Вы можете установить шлюз на локальной виртуальной машине или виртуальной машине Azure в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="3b776-230">Gateway can be installed either on-premises or on an Azure virtual machine (VM) in VNet</span></span> | 
| <span data-ttu-id="3b776-231">Локальная система</span><span class="sxs-lookup"><span data-stu-id="3b776-231">On-premises</span></span> | <span data-ttu-id="3b776-232">Виртуальные машины и облачные службы, развернутые в виртуальных сетях</span><span class="sxs-lookup"><span data-stu-id="3b776-232">Virtual machines and cloud services deployed in virtual networks</span></span> | <span data-ttu-id="3b776-233">ExpressRoute (частный пиринг)</span><span class="sxs-lookup"><span data-stu-id="3b776-233">ExpressRoute (Private Peering)</span></span> | <span data-ttu-id="3b776-234">Вы можете установить шлюз на локальной виртуальной машине или виртуальной машине Azure в виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="3b776-234">Gateway can be installed either on-premises or on an Azure VM in VNet</span></span> | 
| <span data-ttu-id="3b776-235">Локальная система</span><span class="sxs-lookup"><span data-stu-id="3b776-235">On-premises</span></span> | <span data-ttu-id="3b776-236">Службы на базе Azure, у которых есть общедоступная конечная точка</span><span class="sxs-lookup"><span data-stu-id="3b776-236">Azure-based services that have a public endpoint</span></span> | <span data-ttu-id="3b776-237">ExpressRoute (общедоступный пиринг)</span><span class="sxs-lookup"><span data-stu-id="3b776-237">ExpressRoute (Public Peering)</span></span> | <span data-ttu-id="3b776-238">Шлюз должен быть установлен локально</span><span class="sxs-lookup"><span data-stu-id="3b776-238">Gateway must be installed on-premises</span></span> | 

<span data-ttu-id="3b776-239">Hello следующих изображениях представлены hello использования шлюза управления данными для перемещения данных между локальной базы данных и служб Azure с помощью Express route и VPN IPSec (с помощью виртуальной сети):</span><span class="sxs-lookup"><span data-stu-id="3b776-239">hello following images show hello usage of Data Management Gateway for moving data between an on-premises database and Azure services using Express route and IPSec VPN (with Virtual Network):</span></span>

<span data-ttu-id="3b776-240">**ExpressRoute:**</span><span class="sxs-lookup"><span data-stu-id="3b776-240">**Express Route:**</span></span>
 
![Использование ExpressRoute со шлюзом](media/data-factory-data-movement-security-considerations/express-route-for-gateway.png) 

<span data-ttu-id="3b776-242">**VPN-подключение IPSec:**</span><span class="sxs-lookup"><span data-stu-id="3b776-242">**IPSec VPN:**</span></span>

![VPN-подключение IPSec со шлюзом](media/data-factory-data-movement-security-considerations/ipsec-vpn-for-gateway.png)

### <a name="firewall-configurations-and-whitelisting-ip-address-of-gateway"></a><span data-ttu-id="3b776-244">Параметры конфигурации брандмауэра и добавление IP-адреса шлюза в список разрешенных</span><span class="sxs-lookup"><span data-stu-id="3b776-244">Firewall configurations and whitelisting IP address of gateway</span></span>

#### <a name="firewall-requirements-for-on-premisesprivate-network"></a><span data-ttu-id="3b776-245">Требования к брандмауэру для локальной или частной сети</span><span class="sxs-lookup"><span data-stu-id="3b776-245">Firewall requirements for on-premises/private network</span></span>  
<span data-ttu-id="3b776-246">На предприятии **корпоративного брандмауэра** выполняется на маршрутизаторе центра hello hello организации.</span><span class="sxs-lookup"><span data-stu-id="3b776-246">In an enterprise, a **corporate firewall** runs on hello central router of hello organization.</span></span> <span data-ttu-id="3b776-247">И, **брандмауэра Windows** запускается как управляющая программа на локальном компьютере hello какие hello установлен шлюз.</span><span class="sxs-lookup"><span data-stu-id="3b776-247">And, **Windows firewall** runs as a daemon on hello local machine on which hello gateway is installed.</span></span> 

<span data-ttu-id="3b776-248">Hello Следующая таблица содержит **исходящий порт** и требования к домена для hello **корпоративного брандмауэра**.</span><span class="sxs-lookup"><span data-stu-id="3b776-248">hello following table provides **outbound port** and domain requirements for hello **corporate firewall**.</span></span>

| <span data-ttu-id="3b776-249">Имена доменов</span><span class="sxs-lookup"><span data-stu-id="3b776-249">Domain names</span></span> | <span data-ttu-id="3b776-250">Исходящие порты</span><span class="sxs-lookup"><span data-stu-id="3b776-250">Outbound ports</span></span> | <span data-ttu-id="3b776-251">Описание</span><span class="sxs-lookup"><span data-stu-id="3b776-251">Description</span></span> |
| ------------ | -------------- | ----------- | 
| `*.servicebus.windows.net` | <span data-ttu-id="3b776-252">443, 80</span><span class="sxs-lookup"><span data-stu-id="3b776-252">443, 80</span></span> | <span data-ttu-id="3b776-253">Необходимые службам hello шлюза tooconnect toodata перемещения в фабрике данных</span><span class="sxs-lookup"><span data-stu-id="3b776-253">Required by hello gateway tooconnect toodata movement services in Data Factory</span></span> |
| `*.core.windows.net` | <span data-ttu-id="3b776-254">443</span><span class="sxs-lookup"><span data-stu-id="3b776-254">443</span></span> | <span data-ttu-id="3b776-255">Используемые hello шлюза tooconnect tooAzure учетной записи хранилища, при использовании hello [промежуточное копирования](data-factory-copy-activity-performance.md#staged-copy) компонентов.</span><span class="sxs-lookup"><span data-stu-id="3b776-255">Used by hello gateway tooconnect tooAzure Storage Account when you use hello [staged copy](data-factory-copy-activity-performance.md#staged-copy) feature.</span></span> | 
| `*.frontend.clouddatahub.net` | <span data-ttu-id="3b776-256">443</span><span class="sxs-lookup"><span data-stu-id="3b776-256">443</span></span> | <span data-ttu-id="3b776-257">Необходимые условия для hello шлюза tooconnect toohello служба фабрики данных Azure.</span><span class="sxs-lookup"><span data-stu-id="3b776-257">Required by hello gateway tooconnect toohello Azure Data Factory service.</span></span> | 
| `*.database.windows.net` | <span data-ttu-id="3b776-258">1433</span><span class="sxs-lookup"><span data-stu-id="3b776-258">1433</span></span>   | <span data-ttu-id="3b776-259">(Необязательно.) Требуется, если местом назначения является база данных SQL Azure или хранилище данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3b776-259">(OPTIONAL) needed when your destination is Azure SQL Database/ Azure SQL Data Warehouse.</span></span> <span data-ttu-id="3b776-260">Используйте hello промежуточное копирования функция toocopy данных tooAzure хранилище данных SQL для базы данных и Azure SQL без открытия hello порт 1433.</span><span class="sxs-lookup"><span data-stu-id="3b776-260">Use hello staged copy feature toocopy data tooAzure SQL Database/Azure SQL Data Warehouse without opening hello port 1433.</span></span> | 
| `*.azuredatalakestore.net` | <span data-ttu-id="3b776-261">443</span><span class="sxs-lookup"><span data-stu-id="3b776-261">443</span></span> | <span data-ttu-id="3b776-262">(Необязательно.) Требуется, если местом назначения является Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="3b776-262">(OPTIONAL) needed when your destination is Azure Data Lake store</span></span> | 

> [!NOTE] 
> <span data-ttu-id="3b776-263">Могут иметь порты toomanage / доменах список утвержденных на hello корпоративного брандмауэра уровень при необходимости по источникам данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-263">You may have toomanage ports/ whitelisting domains at hello corporate firewall level as required by respective data sources.</span></span> <span data-ttu-id="3b776-264">В этой таблице в качестве примеров используются база данных SQL Azure, хранилище данных SQL Azure и Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="3b776-264">This table only uses Azure SQL Database, Azure SQL Data Warehouse, Azure Data Lake Store as examples.</span></span>   

<span data-ttu-id="3b776-265">Hello Следующая таблица содержит **входящий порт** требования для hello **брандмауэра windows**.</span><span class="sxs-lookup"><span data-stu-id="3b776-265">hello following table provides **inbound port** requirements for hello **windows firewall**.</span></span>

| <span data-ttu-id="3b776-266">Входящие порты</span><span class="sxs-lookup"><span data-stu-id="3b776-266">Inbound ports</span></span> | <span data-ttu-id="3b776-267">Описание</span><span class="sxs-lookup"><span data-stu-id="3b776-267">Description</span></span> | 
| ------------- | ----------- | 
| <span data-ttu-id="3b776-268">8050 (TCP)</span><span class="sxs-lookup"><span data-stu-id="3b776-268">8050 (TCP)</span></span> | <span data-ttu-id="3b776-269">Необходимые условия для hello учетные данные диспетчера приложений toosecurely задание учетных данных для локальных хранилищ данных на шлюзе hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-269">Required by hello credential manager application toosecurely set credentials for on-premises data stores on hello gateway.</span></span> | 

![Требования к порту шлюза](media\data-factory-data-movement-security-considerations/gateway-port-requirements.png) 

#### <a name="ip-configurations-whitelisting-in-data-store"></a><span data-ttu-id="3b776-271">Конфигурации IP или утвержденный список в хранилище данных</span><span class="sxs-lookup"><span data-stu-id="3b776-271">IP configurations/ whitelisting in data store</span></span>
<span data-ttu-id="3b776-272">Некоторые из хранилища данных в облаке hello также требуют разрешенных IP-адрес компьютера hello, доступ к ним.</span><span class="sxs-lookup"><span data-stu-id="3b776-272">Some data stores in hello cloud also require whitelisting of IP address of hello machine accessing them.</span></span> <span data-ttu-id="3b776-273">Убедитесь, что hello IP-адрес компьютера шлюза hello входят надлежащим образом настраивается в брандмауэре.</span><span class="sxs-lookup"><span data-stu-id="3b776-273">Ensure that hello IP address of hello gateway machine is whitelisted/ configured in firewall appropriately.</span></span>

<span data-ttu-id="3b776-274">Hello следующие облачные хранилища данных требуется разрешенных IP-адрес компьютера шлюза hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-274">hello following cloud data stores require whitelisting of IP address of hello gateway machine.</span></span> <span data-ttu-id="3b776-275">Некоторые из этих хранилищ данных по умолчанию не может потребоваться добавление hello IP-адреса в список разрешений.</span><span class="sxs-lookup"><span data-stu-id="3b776-275">Some of these data stores, by default, may not require whitelisting of hello IP address.</span></span> 

- [<span data-ttu-id="3b776-276">База данных SQL Azure;</span><span class="sxs-lookup"><span data-stu-id="3b776-276">Azure SQL Database</span></span>](../sql-database/sql-database-firewall-configure.md) 
- [<span data-ttu-id="3b776-277">Хранилище данных Azure SQL</span><span class="sxs-lookup"><span data-stu-id="3b776-277">Azure SQL Data Warehouse</span></span>](../sql-data-warehouse/sql-data-warehouse-get-started-provision.md#create-a-server-level-firewall-rule-in-the-azure-portal)
- [<span data-ttu-id="3b776-278">Хранилище озера данных Azure</span><span class="sxs-lookup"><span data-stu-id="3b776-278">Azure Data Lake Store</span></span>](../data-lake-store/data-lake-store-secure-data.md#set-ip-address-range-for-data-access)
- [<span data-ttu-id="3b776-279">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="3b776-279">Azure Cosmos DB</span></span>](../documentdb/documentdb-firewall-support.md)
- [<span data-ttu-id="3b776-280">Amazon Redshift</span><span class="sxs-lookup"><span data-stu-id="3b776-280">Amazon Redshift</span></span>](http://docs.aws.amazon.com/redshift/latest/gsg/rs-gsg-authorize-cluster-access.html) 

## <a name="frequently-asked-questions"></a><span data-ttu-id="3b776-281">Часто задаваемые вопросы</span><span class="sxs-lookup"><span data-stu-id="3b776-281">Frequently asked questions</span></span>

<span data-ttu-id="3b776-282">**Вопрос:** могут hello шлюза совместно использоваться фабрики данных?</span><span class="sxs-lookup"><span data-stu-id="3b776-282">**Question:** Can hello Gateway be shared across different data factories?</span></span>
<span data-ttu-id="3b776-283">**Ответ**. В настоящее время эта функция не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="3b776-283">**Answer:** We do not support this feature yet.</span></span> <span data-ttu-id="3b776-284">Но мы работаем над этим.</span><span class="sxs-lookup"><span data-stu-id="3b776-284">We are actively working on it.</span></span>

<span data-ttu-id="3b776-285">**Вопрос:** hello требования порта для hello toowork шлюза?</span><span class="sxs-lookup"><span data-stu-id="3b776-285">**Question:** What are hello port requirements for hello gateway toowork?</span></span>
<span data-ttu-id="3b776-286">**Ответ:** tooopen HTTP-подключений принимаются шлюзом Интернета.</span><span class="sxs-lookup"><span data-stu-id="3b776-286">**Answer:** Gateway makes HTTP-based connections tooopen internet.</span></span> <span data-ttu-id="3b776-287">Hello **исходящие порты 443 и 80** должен быть открыт для toomake шлюза этого подключения.</span><span class="sxs-lookup"><span data-stu-id="3b776-287">hello **outbound ports 443 and 80** must be opened for gateway toomake this connection.</span></span> <span data-ttu-id="3b776-288">Откройте **входящий порт 8050** только на уровне машины hello (не на уровне корпоративного брандмауэра) для приложения диспетчера учетных данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-288">Open **Inbound Port 8050** only at hello machine level (not at corporate firewall level) for Credential Manager application.</span></span> <span data-ttu-id="3b776-289">Если используется база данных SQL Azure или хранилище данных SQL Azure как источника и назначения, а затем при необходимости tooopen **1433** также порт.</span><span class="sxs-lookup"><span data-stu-id="3b776-289">If Azure SQL Database or Azure SQL Data Warehouse is used as source/ destination, then you need tooopen **1433** port as well.</span></span> <span data-ttu-id="3b776-290">Дополнительные сведения см. в разделе [о параметрах конфигурации брандмауэра и утвержденном списке IP-адресов](#firewall-configurations-and-whitelisting-ip-address-of gateway).</span><span class="sxs-lookup"><span data-stu-id="3b776-290">For more information, see [Firewall configurations and whitelisting IP addresses](#firewall-configurations-and-whitelisting-ip-address-of gateway) section.</span></span> 

<span data-ttu-id="3b776-291">**Вопрос**. Каковы требования сертификата к шлюзу?</span><span class="sxs-lookup"><span data-stu-id="3b776-291">**Question:** What are certificate requirements for Gateway?</span></span>
<span data-ttu-id="3b776-292">**Ответ:** текущий шлюз требуется сертификат, используемый приложением диспетчер учетных данных hello безопасно настройки учетных данных хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="3b776-292">**Answer:** Current gateway requires a certificate that is used by hello credential manager application for securely setting data store credentials.</span></span> <span data-ttu-id="3b776-293">Этот сертификат является самозаверяющий сертификат, который создается и настраивается путем установки шлюза hello.</span><span class="sxs-lookup"><span data-stu-id="3b776-293">This certificate is a self-signed certificate created and configured by hello gateway setup.</span></span> <span data-ttu-id="3b776-294">Вместо этого сертификата вы можете использовать собственный сертификат TLS или SSL.</span><span class="sxs-lookup"><span data-stu-id="3b776-294">You can use your own TLS/ SSL certificate instead.</span></span> <span data-ttu-id="3b776-295">Дополнительные сведения см. в разделе о [диспетчере учетных данных ClickOnce-приложения](#click-once-credentials-manager-app).</span><span class="sxs-lookup"><span data-stu-id="3b776-295">For more information, see [click-once credential manager application](#click-once-credentials-manager-app) section.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="3b776-296">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="3b776-296">Next steps</span></span>
<span data-ttu-id="3b776-297">Дополнительные сведения о производительности действия копирования см. в [руководстве о производительности действия копирования и его настройке](data-factory-copy-activity-performance.md).</span><span class="sxs-lookup"><span data-stu-id="3b776-297">For information about performance of copy activity, see [Copy activity performance and tuning guide](data-factory-copy-activity-performance.md).</span></span>

 
