---
title: "aaaAzure концентраторы уведомлений - инструкций диагностики"
description: "Рекомендации по как toodiagnose распространенные проблемы с концентраторами уведомлений Azure."
services: notification-hubs
documentationcenter: Mobile
author: ysxu
manager: erikre
editor: 
ms.assetid: b5c89a2a-63b8-46d2-bbed-924f5a4cce61
ms.service: notification-hubs
ms.workload: mobile
ms.tgt_pltfrm: NA
ms.devlang: multiple
ms.topic: article
ms.date: 10/03/2016
ms.author: yuaxu
ms.openlocfilehash: e374278f2bfdfad36ba091e8846059cd184c17ef
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-notification-hubs---diagnosis-guidelines"></a><span data-ttu-id="a401a-103">Центры уведомлений Azure — рекомендации по диагностике</span><span class="sxs-lookup"><span data-stu-id="a401a-103">Azure Notification Hubs - Diagnosis guidelines</span></span>
## <a name="overview"></a><span data-ttu-id="a401a-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="a401a-104">Overview</span></span>
<span data-ttu-id="a401a-105">Один из наиболее распространенных вопросов hello получаем от клиентов концентраторов уведомлений Azure — как toofigure, они не видят уведомлений, отправленных из их внутренняя служба приложения должны отображаться на клиентском устройстве hello - где и почему уведомления о были удалены и как toofix это.</span><span class="sxs-lookup"><span data-stu-id="a401a-105">One of hello most common questions we hear from Azure Notification Hubs customers is how toofigure out why they don’t see a notification sent from their application backend appear on hello client device - where and why notifications were dropped and how toofix this.</span></span> <span data-ttu-id="a401a-106">В этой статье мы рассмотрим hello различных причин, почему уведомлений, возможно получение, удален или не попадут в устройствах hello.</span><span class="sxs-lookup"><span data-stu-id="a401a-106">In this article we will go through hello various reasons why notifications may get dropped or do not end up on hello devices.</span></span> <span data-ttu-id="a401a-107">Мы также рассмотрим способами, в котором можно анализировать и выявить основную причину hello.</span><span class="sxs-lookup"><span data-stu-id="a401a-107">We will also look through ways in which you can analyze and figure out hello root cause.</span></span> 

<span data-ttu-id="a401a-108">Во-первых Это критическое toounderstand как концентраторы уведомлений Azure применяет уведомления toohello устройств.</span><span class="sxs-lookup"><span data-stu-id="a401a-108">First of all, it is critical toounderstand how Azure Notification Hubs pushes out notifications toohello devices.</span></span>
![][0]

<span data-ttu-id="a401a-109">В потоке типичные отправить уведомление отправляется приветственное сообщение hello **внутренняя служба приложения** слишком**концентратор уведомлений Azure (NH)** которой в свою очередь выполняет некоторую обработку для всех регистраций hello, учитывая hello учетная запись настроена теги & toodetermine выражения тег «цели» т. е. все регистрации hello, требующих tooreceive hello push-уведомлений.</span><span class="sxs-lookup"><span data-stu-id="a401a-109">In a typical send notification flow, hello message is sent from hello **application backend** too**Azure Notification Hub (NH)** which in turn does some processing on all hello registrations taking into account hello configured tags & tag expressions toodetermine "targets" i.e. all hello registrations that need tooreceive hello push notification.</span></span> <span data-ttu-id="a401a-110">Эти операции регистрации могут распространяться на любые из поддерживаемых нами платформ - iOS, Google, Windows, Windows Phone, Kindle и Baidu для China Android.</span><span class="sxs-lookup"><span data-stu-id="a401a-110">These registrations can span across any or all of our supported platforms - iOS, Google, Windows, Windows Phone, Kindle and Baidu for China Android.</span></span> <span data-ttu-id="a401a-111">После установления hello целевые объекты NH отправлений уведомлений, а затем разбиты на несколько пакета регистрации, конкретной платформе устройства toohello **службы Push-уведомлений (PNS)** -например, APNS для Apple, GCM для Google и т. д. Выполняет проверку подлинности NH с hello соответствующих PNS на основании hello учетные данные, заданные в hello классический портал Azure на странице приветствия Настройка концентратора уведомлений.</span><span class="sxs-lookup"><span data-stu-id="a401a-111">Once hello targets are established, NH then pushes out notifications, split across multiple batch of registrations, toohello device platform specific **Push Notification Service (PNS)** - e.g. APNS for Apple, GCM for Google etc. NH authenticates with hello respective PNS based on hello credentials you set in hello Azure Classic Portal on hello Configure Notification Hub page.</span></span> <span data-ttu-id="a401a-112">Hello PNS пересылает hello уведомления toohello соответствующих **клиентских устройств**.</span><span class="sxs-lookup"><span data-stu-id="a401a-112">hello PNS then forwards hello notifications toohello respective **client devices**.</span></span> <span data-ttu-id="a401a-113">Это платформа hello рекомендованные способом toodeliver push-уведомлений и обратите внимание, что заключительный сегмент hello доставки уведомлений производится между hello платформы PNS и hello устройства.</span><span class="sxs-lookup"><span data-stu-id="a401a-113">This is hello platform recommended way toodeliver push notifications and note that hello final leg of notification delivery takes place between hello platform PNS and hello device.</span></span> <span data-ttu-id="a401a-114">Таким образом, у нас есть четыре основных компонента: *клиент*, *серверная часть приложения*, *центры уведомлений Azure* и *службы push-уведомлений (PNS)*, и любой из этих компонентов может стать причиной удаления уведомлений.</span><span class="sxs-lookup"><span data-stu-id="a401a-114">Therefore we have four major components - *client*, *application backend*, *Azure Notification Hubs (NH)* and *Push Notification Services (PNS)* and any of these may cause notifications getting dropped.</span></span> <span data-ttu-id="a401a-115">Дополнительные сведения об этой архитектуре см. в статье [Центры уведомлений Azure].</span><span class="sxs-lookup"><span data-stu-id="a401a-115">More details on this architecture is available on [Notification Hubs Overview].</span></span>

<span data-ttu-id="a401a-116">Toodeliver сбой уведомления могло произойти во время начального приветствия, что тест или промежуточный этап, который может указывать на проблемы конфигурации или он может произойти в рабочей среде, где все или некоторые из hello уведомления могут быть разрываются, указывающее, какое-либо приложение более глубокого или проблема шаблон обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="a401a-116">Failure toodeliver notifications may happen during hello initial test/staging phase which may indicate a configuration issue or it may happen in production where either all or some of hello notifications may be getting dropped indicating some deeper application or messaging pattern issue.</span></span> <span data-ttu-id="a401a-117">В разделе "hello" ниже мы рассмотрим различные сценарии удаленного уведомления от общих toohello реже вид, некоторые из которых, возможно очевидным и другие не так много.</span><span class="sxs-lookup"><span data-stu-id="a401a-117">In hello section, below we will look at various dropped notifications scenarios ranging from common toohello rarer kind, some of which you may find obvious and some others not so much.</span></span> 

## <a name="azure-notifications-hub-mis-configuration"></a><span data-ttu-id="a401a-118">Неправильная настройка центров уведомлений Azure</span><span class="sxs-lookup"><span data-stu-id="a401a-118">Azure Notifications Hub mis-configuration</span></span>
<span data-ttu-id="a401a-119">Концентраторы уведомлений Azure должен tooauthenticate себя в контексте hello объекта hello разработчик приложения toobe toosuccessfully может отправить уведомления toohello соответствующих PNS.</span><span class="sxs-lookup"><span data-stu-id="a401a-119">Azure Notification Hubs needs tooauthenticate itself in hello context of hello developer's application toobe able toosuccessfully send notifications toohello respective PNS.</span></span> <span data-ttu-id="a401a-120">Это стало возможным создание учетной записи разработчика с hello соответствующей платформы (Google, Apple, Windows и т. д.) и регистрации своих приложений, где они получить учетные данные, которым требуется toobe настроены на портале hello в области уведомлений разработчиком hello Раздел конфигурации концентраторов.</span><span class="sxs-lookup"><span data-stu-id="a401a-120">This is made possible by hello developer creating a developer account with hello respective platform (Google, Apple, Windows etc) and then registering their application where they get credentials which need toobe configured in hello portal under Notification Hubs configuration section.</span></span> <span data-ttu-id="a401a-121">Если нет уведомлений, производимых через сначала должен быть tooensure, что hello правильные учетные данные настраиваются в концентратор уведомлений, сопоставление их с приложением hello hello создан их учетной записи конкретного разработчика платформы.</span><span class="sxs-lookup"><span data-stu-id="a401a-121">If no notifications are making through, first step should be tooensure that hello correct credentials are configured in hello Notification Hub matching them with hello application created under their platform specific developer account.</span></span> <span data-ttu-id="a401a-122">Вы найдете нашей [учебными руководствами для начинающих] полезно toogo на этот процесс в виде шаг за шагом.</span><span class="sxs-lookup"><span data-stu-id="a401a-122">You will find our [Getting Started Tutorials] useful toogo over this process in a step by step manner.</span></span> <span data-ttu-id="a401a-123">Ниже приведены некоторые распространенные сценарии неправильной настройки.</span><span class="sxs-lookup"><span data-stu-id="a401a-123">Here are some common mis-configurations:</span></span>

1. <span data-ttu-id="a401a-124">**Общие сведения**</span><span class="sxs-lookup"><span data-stu-id="a401a-124">**General**</span></span>
   
    <span data-ttu-id="a401a-125">) убедитесь том, что имя концентратора уведомлений (без опечаток) hello же:</span><span class="sxs-lookup"><span data-stu-id="a401a-125">a) Make sure that your notification hub name (without typos) is hello same:</span></span>
   
   * <span data-ttu-id="a401a-126">Где вы регистрируете в клиенте hello</span><span class="sxs-lookup"><span data-stu-id="a401a-126">Where you are registering from hello client,</span></span> 
   * <span data-ttu-id="a401a-127">Где выполняется отправка уведомлений с серверной hello</span><span class="sxs-lookup"><span data-stu-id="a401a-127">Where you are sending notifications from hello backend,</span></span>  
   * <span data-ttu-id="a401a-128">Когда вы настроили учетные данные PNS hello и</span><span class="sxs-lookup"><span data-stu-id="a401a-128">Where you have configured hello PNS credentials and</span></span> 
   * <span data-ttu-id="a401a-129">Учетные данные которого SAS, настроенные на hello клиента и hello серверной части.</span><span class="sxs-lookup"><span data-stu-id="a401a-129">Whose SAS credentials you have configured on hello client and hello backend.</span></span> 
     
     <span data-ttu-id="a401a-130">б) создание, необходимо использовать hello правильных строк конфигурации SAS на клиенте hello и внутренняя служба приложения hello.</span><span class="sxs-lookup"><span data-stu-id="a401a-130">b) Make sure that you are using hello correct SAS configuration strings on hello client and hello application backend.</span></span> <span data-ttu-id="a401a-131">Как правило, необходимо использовать hello **DefaultListenSharedAccessSignature** на клиенте hello и **DefaultFullSharedAccessSignature** серверную часть приложения hello (который предоставляет разрешение toobe toohello уведомление может toosend NH)</span><span class="sxs-lookup"><span data-stu-id="a401a-131">As a rule of thumb, you must be using hello **DefaultListenSharedAccessSignature** on hello client and **DefaultFullSharedAccessSignature** on hello application backend (which gives permission toobe able toosend notification toohello NH)</span></span>
2. <span data-ttu-id="a401a-132">**Конфигурация службы push-уведомлений Apple (APNS)**</span><span class="sxs-lookup"><span data-stu-id="a401a-132">**Apple Push Notification Service (APNS) configuration**</span></span>
   
    <span data-ttu-id="a401a-133">Необходимо использовать два разных центра - один для рабочей среды и другой для тестирования.</span><span class="sxs-lookup"><span data-stu-id="a401a-133">You must maintain two different hubs - one for production and another for testing purpose.</span></span> <span data-ttu-id="a401a-134">Это означает, что Загрузка сертификата hello, которые будут toouse в концентратора отдельной tooa среда "песочницы" и hello сертификатов, которые будут toouse в отдельном концентраторе tooa рабочей.</span><span class="sxs-lookup"><span data-stu-id="a401a-134">This means uploading hello certificate you are going toouse in sandbox environment tooa separate hub and hello certificate you are going toouse in production tooa separate hub.</span></span> <span data-ttu-id="a401a-135">Не предпринимайте tooupload различных типов сертификатов toohello одном концентраторе, как это может привести к потере уведомления строку hello вниз.</span><span class="sxs-lookup"><span data-stu-id="a401a-135">Do not try tooupload different types of certificates toohello same hub as it may cause notification failures down hello line.</span></span> <span data-ttu-id="a401a-136">Если вы находитесь в позицию, где вы случайно отправили различных типов сертификатов toohello одном концентраторе рекомендуется toodelete hello концентратора и запуск нового.</span><span class="sxs-lookup"><span data-stu-id="a401a-136">If you do find yourself in a position where you have inadvertently uploaded different types of certificate toohello same hub, it is recommended toodelete hello hub and start fresh.</span></span> <span data-ttu-id="a401a-137">Если по некоторым причинам вы не концентратора hello toodelete может затем во hello бы очень, необходимо удалить все существующие регистрации hello hello концентратора.</span><span class="sxs-lookup"><span data-stu-id="a401a-137">If for some reason, you are not able toodelete hello hub then at hello very least, you must delete all hello existing registrations from hello hub.</span></span> 
3. <span data-ttu-id="a401a-138">**Конфигурация Google Cloud Messaging (GCM)**</span><span class="sxs-lookup"><span data-stu-id="a401a-138">**Google Cloud Messaging (GCM) configuration**</span></span> 
   
    <span data-ttu-id="a401a-139">а. Убедитесь, что в облачном проекте включен параметр "Google Cloud Messaging для Android".</span><span class="sxs-lookup"><span data-stu-id="a401a-139">a) Make sure that you are enabling "Google Cloud Messaging for Android" under your cloud project.</span></span> 
   
    ![][2]
   
    <span data-ttu-id="a401a-140">(б) Создание необходимо создать «Ключ сервера» при получении учетных данных hello какие NH, будет использовать tooauthenticate GCM.</span><span class="sxs-lookup"><span data-stu-id="a401a-140">b) Make sure that you create a "Server Key" while obtaining hello credentials which NH will use tooauthenticate with GCM.</span></span> 
   
    ![][3]
   
    <span data-ttu-id="a401a-141">c) убедитесь, что настройки «Идентификатор проекта» на приветствия клиента, который является полностью числовые сущности, которую можно получить из панели мониторинга hello:</span><span class="sxs-lookup"><span data-stu-id="a401a-141">c) Make sure that you have configured "Project ID" on hello client which is an entirely numerical entity that you can obtain from hello dashboard:</span></span>
   
    ![][1]

## <a name="application-issues"></a><span data-ttu-id="a401a-142">Проблемы с приложением</span><span class="sxs-lookup"><span data-stu-id="a401a-142">Application issues</span></span>
1) <span data-ttu-id="a401a-143">**Теги и выражения тегов**</span><span class="sxs-lookup"><span data-stu-id="a401a-143">**Tags/ Tag expressions**</span></span>

<span data-ttu-id="a401a-144">При использовании тегов или тег выражения toosegment аудиторию, это всегда возможно, что при отправке уведомления hello существует, цель не найден на основе выражений теги или тег hello, который вы указываете при выполнении отправки вызова.</span><span class="sxs-lookup"><span data-stu-id="a401a-144">If you are using tags or tag expressions toosegment your audience, it is always possible that when you are sending hello notification, there is no target being found based on hello tags/tag expressions you are specifying in your send call.</span></span> <span data-ttu-id="a401a-145">Проще всего tooreview вашей tooensure регистрации отсутствуют теги какие совпадения при отправке уведомления и затем проверьте hello уведомление о доставке только от клиентов hello с регистрации.</span><span class="sxs-lookup"><span data-stu-id="a401a-145">It is best tooreview your registrations tooensure that there are tags which match when you send notification and then verify hello notification receipt only from hello clients with those registrations.</span></span> <span data-ttu-id="a401a-146">Например: </span><span class="sxs-lookup"><span data-stu-id="a401a-146">E.g.</span></span> <span data-ttu-id="a401a-147">Если ваши регистрации с NH были сделать с помощью утверждают тег «Политика» и отправке уведомлений с тегом «Спортивных», оно не будет отправлено tooany устройства.</span><span class="sxs-lookup"><span data-stu-id="a401a-147">if all your registrations with NH were done with say tag "Politics" and you are sending a notification with tag "Sports", it will not be sent tooany device.</span></span> <span data-ttu-id="a401a-148">В более сложном случае могут использоваться выражения тегов. Например, вы выполнили регистрацию, указав «Тег A» или «Тег Б», но во время отправки уведомлений используете «Тег А && тег Б».</span><span class="sxs-lookup"><span data-stu-id="a401a-148">A complex case could involve tag expressions where you only registered with "Tag A" OR "Tag B" but while sending notifications, you are targeting "Tag A && Tag B".</span></span> <span data-ttu-id="a401a-149">В hello самостоятельно диагностировать советы ниже, существуют способы, в котором можно просмотреть ваши регистрации вместе с hello теги, которые имеют.</span><span class="sxs-lookup"><span data-stu-id="a401a-149">In hello self-diagnose tips section below, there are ways in which you can review your registrations along with hello tags they have.</span></span> 

2) <span data-ttu-id="a401a-150">**Проблемы с шаблонами**</span><span class="sxs-lookup"><span data-stu-id="a401a-150">**Template issues**</span></span>

<span data-ttu-id="a401a-151">Если используются шаблоны, а затем убедитесь, что вы следуете hello, описанным в [руководство шаблона].</span><span class="sxs-lookup"><span data-stu-id="a401a-151">If you are using templates then ensure that you are following hello guidelines described at [Template guidance].</span></span> 

3) <span data-ttu-id="a401a-152">**Недопустимые регистрации**</span><span class="sxs-lookup"><span data-stu-id="a401a-152">**Invalid registrations**</span></span>

<span data-ttu-id="a401a-153">Предположим, что hello концентратора уведомлений настроена правильно и все выражения тегов или тег использовались правильно в результате чего поиска hello допустимых целевых объектов toowhich hello уведомлений требуется toobe отправлено, NH запускает несколько пакетов обработки параллельно - каждого пакета Отправка сообщений tooa набора регистраций.</span><span class="sxs-lookup"><span data-stu-id="a401a-153">Assuming hello Notification Hub was configured correctly and any tags/tag expressions were used correctly resulting in hello find of valid targets toowhich hello notifications need toobe sent, NH fires off several processing batches in parallel - each batch sending messages tooa set of registrations.</span></span> 

> [!NOTE]
> <span data-ttu-id="a401a-154">Поскольку мы hello обработке параллельно, мы не гарантируют какие hello доставить уведомления о порядке hello.</span><span class="sxs-lookup"><span data-stu-id="a401a-154">Since we do hello processing in parallel, we don’t guarantee hello order in which hello notifications will be delivered.</span></span> 
> 
> 

<span data-ttu-id="a401a-155">Теперь центр уведомлений Azure оптимизирован для модели доставки сообщений «не более одного».</span><span class="sxs-lookup"><span data-stu-id="a401a-155">Now Azure Notifications Hub is optimized for an "at-most once" message delivery model.</span></span> <span data-ttu-id="a401a-156">Это означает, что мы будем стараться удаления дубликатов, чтобы не доставляются уведомления более одного раза tooa устройства.</span><span class="sxs-lookup"><span data-stu-id="a401a-156">This means that we attempt a de-duplication so that no notifications are delivered more than once tooa device.</span></span> <span data-ttu-id="a401a-157">tooensure это мы просмотрите регистраций hello и убедитесь в том, что только одно сообщение отправляется через каждый идентификатор устройства, прежде чем фактически отправку toohello сообщение hello PNS.</span><span class="sxs-lookup"><span data-stu-id="a401a-157">tooensure this we look through hello registrations and make sure that only one message is sent per device identifier before actually sending hello message toohello PNS.</span></span> <span data-ttu-id="a401a-158">Каждый пакет отправляется toohello PNS, который в свою очередь принимает и проверки регистрации hello, возможна ситуация, hello PNS обнаруживает ошибку с одним или несколькими регистраций hello в пакете, возвращает ошибки tooAzure NH и останавливает обработку таким образом, удаление пакетные полностью.</span><span class="sxs-lookup"><span data-stu-id="a401a-158">As each batch is sent toohello PNS, which in turn is accepting and validating hello registrations, it is possible that hello PNS detects an error with one or more of hello registrations in a batch, returns an error tooAzure NH and stops processing thereby dropping that batch completely.</span></span> <span data-ttu-id="a401a-159">Это касается в особенности APNS, которая использует протокол потока TCP.</span><span class="sxs-lookup"><span data-stu-id="a401a-159">This is especially true with APNS which uses a TCP stream protocol.</span></span> <span data-ttu-id="a401a-160">Несмотря на то, что мы оптимизированы для большинства на один раз доставки, в этом случае мы удаляем hello сбоя регистрации из нашей базу данных, а затем повторите попытку доставки уведомлений для hello rest hello устройств в пакете.</span><span class="sxs-lookup"><span data-stu-id="a401a-160">Although we are optimized for at-most once delivery, in this case we remove hello faulting registration from our database and then retry notification delivery for hello rest of hello devices in that batch.</span></span>

<span data-ttu-id="a401a-161">Можно получить сведения об ошибке для сбоя доставки hello попытка регистрации, с помощью API-интерфейсов REST концентраторов уведомлений Azure hello: [каждого сообщения телеметрии: получение телеметрии сообщения уведомления](https://msdn.microsoft.com/library/azure/mt608135.aspx) и [PNS отзывы](https://msdn.microsoft.com/library/azure/mt705560.aspx).</span><span class="sxs-lookup"><span data-stu-id="a401a-161">You can get error information for hello failed delivery attempt against a registration using hello Azure Notification Hubs REST APIs: [Per Message Telemetry: Get Notification Message Telemetry](https://msdn.microsoft.com/library/azure/mt608135.aspx) and [PNS Feedback](https://msdn.microsoft.com/library/azure/mt705560.aspx).</span></span> <span data-ttu-id="a401a-162">В разделе hello [SendRESTExample](https://github.com/Azure/azure-notificationhubs-samples/tree/master/dotnet/SendRestExample) пример кода.</span><span class="sxs-lookup"><span data-stu-id="a401a-162">See hello [SendRESTExample](https://github.com/Azure/azure-notificationhubs-samples/tree/master/dotnet/SendRestExample) for example code.</span></span>

## <a name="pns-issues"></a><span data-ttu-id="a401a-163">Проблемы со службой PNS</span><span class="sxs-lookup"><span data-stu-id="a401a-163">PNS issues</span></span>
<span data-ttu-id="a401a-164">Получено сообщение hello уведомления, соответствующих hello PNS, то оно после его ответственности toodeliver hello toohello устройства создания уведомлений.</span><span class="sxs-lookup"><span data-stu-id="a401a-164">Once hello notification message has been received by hello respective PNS then it is its responsibility toodeliver hello notification toohello device.</span></span> <span data-ttu-id="a401a-165">Концентраторы уведомлений Azure находится за пределами рисунок hello и не может управлять при или если hello уведомление будет доставлено устройства toohello toobe.</span><span class="sxs-lookup"><span data-stu-id="a401a-165">Azure Notification Hubs is out of hello picture here and has no control on when or if hello notification is going toobe delivered toohello device.</span></span> <span data-ttu-id="a401a-166">Поскольку службы уведомлений платформы hello довольно надежным, уведомления, как правило, tooreach hello устройств через несколько секунд из hello PNS.</span><span class="sxs-lookup"><span data-stu-id="a401a-166">Since hello platform notification services are pretty robust, notifications do tend tooreach hello devices in a few seconds from hello PNS.</span></span> <span data-ttu-id="a401a-167">Если hello PNS Однако регулирует концентраторов уведомлений Azure применяются экспоненциальной стратегии и если hello PNS по-прежнему недоступен в течение 30 минут у нас есть политики в поместите tooexpire и удалять эти сообщения без возможности восстановления.</span><span class="sxs-lookup"><span data-stu-id="a401a-167">If hello PNS however is throttling then Azure Notification Hubs does apply an exponential back off strategy and if hello PNS remains unreachable for 30 min then we have a policy in place tooexpire and drop those messages permanently.</span></span> 

<span data-ttu-id="a401a-168">Если PNS пытается toodeliver уведомление, но hello устройство находится в автономном режиме, уведомление hello хранимых hello PNS для ограниченного периода времени и доставить toohello устройства, когда они станут доступны.</span><span class="sxs-lookup"><span data-stu-id="a401a-168">If a PNS attempts toodeliver a notification but hello device is offline, hello notification is stored by hello PNS for a limited period of time, and delivered toohello device when it becomes available.</span></span> <span data-ttu-id="a401a-169">Хранится только одно последнее уведомление для конкретного приложения.</span><span class="sxs-lookup"><span data-stu-id="a401a-169">Only one recent notification for a particular app is stored.</span></span> <span data-ttu-id="a401a-170">Если несколько уведомления отправляются в том случае, когда устройство hello отключен от сети, каждый новое уведомление приводит hello предварительного уведомления toobe отменены.</span><span class="sxs-lookup"><span data-stu-id="a401a-170">If multiple notifications are sent while hello device is offline, each new notification causes hello prior notification toobe discarded.</span></span> <span data-ttu-id="a401a-171">Такое поведение поддерживать уведомления hello новейшие является ссылка tooas объединение уведомления в APNS и свертывание в GCM (с использованием свертываемых ключ).</span><span class="sxs-lookup"><span data-stu-id="a401a-171">This behavior of keeping only hello newest notification is referred tooas coalescing notifications in APNS and collapsing in GCM (which uses a collapsing key).</span></span> <span data-ttu-id="a401a-172">Если устройство hello остается в автономном режиме в течение долгого времени, уведомления, сохраненные для него будут удалены.</span><span class="sxs-lookup"><span data-stu-id="a401a-172">If hello device remains offline for a long time, any notifications that were being stored for it are discarded.</span></span> <span data-ttu-id="a401a-173">Источник — [руководство по APNS] и  & [руководство по GCM].</span><span class="sxs-lookup"><span data-stu-id="a401a-173">Source - [APNS guidance] & [GCM guidance]</span></span>

<span data-ttu-id="a401a-174">С концентраторы уведомлений Azure - объединяющую ключ можно передать через HTTP-заголовка, с помощью универсального hello `SendNotification` API (например, для пакета SDK для .NET — `SendNotificationAsync`) принимающий заголовки HTTP, которые передаются как является toohello соответствующих PNS.</span><span class="sxs-lookup"><span data-stu-id="a401a-174">With Azure Notification Hubs - you can pass a coalescing key via an HTTP header using hello generic `SendNotification` API (e.g. for .NET SDK – `SendNotificationAsync`) which also takes HTTP headers which are passed as is toohello respective PNS.</span></span> 

## <a name="self-diagnose-tips"></a><span data-ttu-id="a401a-175">Советы по самостоятельной диагностике</span><span class="sxs-lookup"><span data-stu-id="a401a-175">Self-diagnose tips</span></span>
<span data-ttu-id="a401a-176">Здесь мы рассмотрим hello различные toodiagnose пути и корневого вызвать проблемы концентратора уведомлений:</span><span class="sxs-lookup"><span data-stu-id="a401a-176">Here we will examine hello various avenues toodiagnose and root cause any Notification Hub issues:</span></span>

### <a name="verify-credentials"></a><span data-ttu-id="a401a-177">Проверка учетных данных</span><span class="sxs-lookup"><span data-stu-id="a401a-177">Verify credentials</span></span>
1. <span data-ttu-id="a401a-178">**Портал разработчиков PNS**</span><span class="sxs-lookup"><span data-stu-id="a401a-178">**PNS developer portal**</span></span>
   
    <span data-ttu-id="a401a-179">Проверить их на hello соответствующих PNS разработчика портала (APNS, GCM, WNS и т. д) с помощью наших [учебными руководствами для начинающих].</span><span class="sxs-lookup"><span data-stu-id="a401a-179">Verify them at hello respective PNS developer portal (APNS, GCM, WNS etc) using our [Getting Started Tutorials].</span></span>
2. <span data-ttu-id="a401a-180">**Классический портал Azure**</span><span class="sxs-lookup"><span data-stu-id="a401a-180">**Azure Classic portal**</span></span>
   
    <span data-ttu-id="a401a-181">Перейдите на вкладку tooreview toohello Настройка и совпадают с идентификаторами, полученными с портала разработчиков PNS hello hello учетные данные.</span><span class="sxs-lookup"><span data-stu-id="a401a-181">Go toohello Configure tab tooreview and match hello credentials with those obtained from hello PNS developer portal.</span></span> 
   
    ![][4]

### <a name="verify-registrations"></a><span data-ttu-id="a401a-182">Проверка регистраций</span><span class="sxs-lookup"><span data-stu-id="a401a-182">Verify registrations</span></span>
1. <span data-ttu-id="a401a-183">**Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="a401a-183">**Visual Studio**</span></span>
   
    <span data-ttu-id="a401a-184">При использовании Visual Studio для разработки можно подключения tooMicrosoft Azure и просмотр и управление множество служб Azure, включая центр уведомлений из «Обозревателя серверов».</span><span class="sxs-lookup"><span data-stu-id="a401a-184">If you use Visual Studio for development then you can connect tooMicrosoft Azure and view and manage a bunch of Azure services including Notifications Hub from "Server Explorer".</span></span> <span data-ttu-id="a401a-185">Это особенно удобно при работе в среде разработки или тестирования.</span><span class="sxs-lookup"><span data-stu-id="a401a-185">This is primarily useful for your dev/test environment.</span></span> 
   
    ![][9]
   
    <span data-ttu-id="a401a-186">Можно просматривать и управлять регистраций hello на концентраторе, которые разделены удобное для регистрации платформы, собственный или шаблона, все теги, идентификатор PNS, Дата окончания срока действия идентификатором и hello регистрации.</span><span class="sxs-lookup"><span data-stu-id="a401a-186">You can view and manage all hello registrations in your hub which are nicely categorized for platform, native or template registration, any tags, PNS identifier, registration id and hello expiration date.</span></span> <span data-ttu-id="a401a-187">Можно также редактировать регистрацию на лету hello - это полезно, скажем в том случае, если требуется tooedit теги.</span><span class="sxs-lookup"><span data-stu-id="a401a-187">You can also edit a registration on hello fly - which is useful say if you want tooedit any tags.</span></span> 
   
    ![][8]
   
   > [!NOTE]
   > <span data-ttu-id="a401a-188">Регистрации tooedit функциональные возможности Visual Studio должен использоваться только во время разработки и тестирования с ограниченное количество регистраций.</span><span class="sxs-lookup"><span data-stu-id="a401a-188">Visual Studio functionality tooedit registrations should only be used during dev/test with limited number of registrations.</span></span> <span data-ttu-id="a401a-189">Если возникает toofix необходимость учитывать ваши регистрации в пакетном режиме, с помощью функции регистрации экспорта и импорта hello, описанные здесь - [экспорта и импорта регистраций](https://msdn.microsoft.com/library/dn790624.aspx)</span><span class="sxs-lookup"><span data-stu-id="a401a-189">If there arises a need toofix your registrations in bulk, consider using hello Export/Import registration functionality described here - [Export/Import Registrations](https://msdn.microsoft.com/library/dn790624.aspx)</span></span>
   > 
   > 
2. <span data-ttu-id="a401a-190">**Обозреватель служебной шины**</span><span class="sxs-lookup"><span data-stu-id="a401a-190">**Service Bus explorer**</span></span>
   
    <span data-ttu-id="a401a-191">Многие клиенты используют обозреватель ServiceBus, описанный в разделе [Обозреватель ServiceBus] , для просмотра центра уведомлений и управления им.</span><span class="sxs-lookup"><span data-stu-id="a401a-191">Many customers use ServiceBus explorer described here - [ServiceBus Explorer] for viewing and managing their notification hub.</span></span> <span data-ttu-id="a401a-192">Это проект с открытым исходным кодом, который доступен на странице code.microsoft.com — [Код обозревателя ServiceBus]</span><span class="sxs-lookup"><span data-stu-id="a401a-192">It is an open source project available from code.microsoft.com - [ServiceBus Explorer code]</span></span>

### <a name="verify-message-notifications"></a><span data-ttu-id="a401a-193">Проверка уведомлений о сообщениях</span><span class="sxs-lookup"><span data-stu-id="a401a-193">Verify message notifications</span></span>
1. <span data-ttu-id="a401a-194">**классический портал Azure**</span><span class="sxs-lookup"><span data-stu-id="a401a-194">**Azure Classic Portal**</span></span>
   
    <span data-ttu-id="a401a-195">Вы можете перейти toohello toosend вкладку «Отладка» тестовых клиентов tooyour уведомления без необходимости копирования любой серверной службы и запуск.</span><span class="sxs-lookup"><span data-stu-id="a401a-195">You can go toohello "Debug" tab toosend test notifications tooyour clients without needing any service backend up and running.</span></span> 
   
    ![][7]
2. <span data-ttu-id="a401a-196">**Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="a401a-196">**Visual Studio**</span></span>
   
    <span data-ttu-id="a401a-197">Также можно отправить тестовые уведомления из comforts hello из Visual Studio:</span><span class="sxs-lookup"><span data-stu-id="a401a-197">You can also send test notifications from hello comforts of Visual Studio:</span></span>
   
    ![][10]
   
    <span data-ttu-id="a401a-198">Можно прочитать в hello Azure концентратора уведомлений Visual Studio обозреватель функциональности-</span><span class="sxs-lookup"><span data-stu-id="a401a-198">You can read more on hello Visual Studio Notification Hub Azure explorer functionality here -</span></span> 
   
   * <span data-ttu-id="a401a-199">[Обзор обозревателя сервера VS]</span><span class="sxs-lookup"><span data-stu-id="a401a-199">[VS Server Explorer Overview]</span></span>
   * <span data-ttu-id="a401a-200">[Запись блога об обозревателе сервера VS — 1]</span><span class="sxs-lookup"><span data-stu-id="a401a-200">[VS Server Explorer Blog post - 1]</span></span>
   * <span data-ttu-id="a401a-201">[Запись блога об обозревателе сервера VS — 2]</span><span class="sxs-lookup"><span data-stu-id="a401a-201">[VS Server Explorer Blog post - 2]</span></span>

### <a name="debug-failed-notifications-review-notification-outcome"></a><span data-ttu-id="a401a-202">Уведомления о сбоях отладки и просмотр результатов уведомлений</span><span class="sxs-lookup"><span data-stu-id="a401a-202">Debug failed notifications/ Review notification outcome</span></span>
<span data-ttu-id="a401a-203">**Свойство EnableTestSend**</span><span class="sxs-lookup"><span data-stu-id="a401a-203">**EnableTestSend property**</span></span>

<span data-ttu-id="a401a-204">При отправке уведомлений через концентраторы уведомлений, изначально он просто возвращает в очередь для обработки toofigure out все целевые объекты toodo NH и в конечном итоге NH отправляет toohello PNS.</span><span class="sxs-lookup"><span data-stu-id="a401a-204">When you send a notification via Notification Hubs, initially it just gets queued up for NH toodo processing toofigure out all its targets and then eventually NH sends it toohello PNS.</span></span> <span data-ttu-id="a401a-205">Это означает, что при использовании REST API или любой из пакета SDK клиента hello hello удачном возвращении вашей отправки вызова только означает, что сообщение hello было успешно помещено с концентратором уведомлений.</span><span class="sxs-lookup"><span data-stu-id="a401a-205">This means that when you are using REST API or any of hello client SDK, hello successful return of your send call only means that hello message has been successfully queued up with Notification Hub.</span></span> <span data-ttu-id="a401a-206">Он не дает понять события при NH со временем получил сообщение tooPNS toosend hello.</span><span class="sxs-lookup"><span data-stu-id="a401a-206">It doesn’t give an insight into what happened when NH eventually got toosend hello message tooPNS.</span></span> <span data-ttu-id="a401a-207">Если уведомления не приходит на клиентском устройстве hello, вероятность того, что при попытке NH tooPNS сообщение hello toodeliver произошла ошибка например hello размер полезных данных превышает максимальное hello hello PNS или hello учетными данными, настроенными NH т. д. Недопустимый tooget на анализ ошибок PNS hello, мы разработали свойство с именем [EnableTestSend функция].</span><span class="sxs-lookup"><span data-stu-id="a401a-207">If your notification is not arriving at hello client device, there is a possibility that when NH tried toodeliver hello message tooPNS, there was an error e.g. hello payload size exceeded hello maximum allowed by hello PNS or hello credentials configured in NH are invalid etc. tooget an insight into hello PNS errors, we have introduced a property called [EnableTestSend feature].</span></span> <span data-ttu-id="a401a-208">Это свойство включается автоматически при отправке тестового сообщения с портала hello или клиента Visual Studio и таким образом позволяет toosee подробные отладочную информацию.</span><span class="sxs-lookup"><span data-stu-id="a401a-208">This property is automatically enabled when you send test messages from hello portal or Visual Studio client and therefore allows you toosee detailed debugging information.</span></span> <span data-ttu-id="a401a-209">Можно использовать через интерфейс API, выполнив пример hello hello .NET SDK, где она находится сейчас и будут добавлены tooall клиентских пакетов SDK со временем.</span><span class="sxs-lookup"><span data-stu-id="a401a-209">You can use this via APIs taking hello example of hello .NET SDK where it is available now and will be added tooall client SDKs eventually.</span></span> <span data-ttu-id="a401a-210">toouse это с помощью вызова REST hello, просто добавить параметр строки запроса, например вызове «test» в конце hello отправки вызова</span><span class="sxs-lookup"><span data-stu-id="a401a-210">toouse this with hello REST call, simply append a querystring parameter called "test" at hello end of your send call e.g.</span></span> 

    https://mynamespace.servicebus.windows.net/mynotificationhub/messages?api-version=2013-10&test

<span data-ttu-id="a401a-211">*Пример (пакет SDK для .NET)*</span><span class="sxs-lookup"><span data-stu-id="a401a-211">*Example (.NET SDK)*</span></span>

<span data-ttu-id="a401a-212">Предположим, что вы используете .NET SDK toosend собственного всплывающее уведомление:</span><span class="sxs-lookup"><span data-stu-id="a401a-212">Suppose you are using .NET SDK toosend a native toast notification:</span></span>

    NotificationHubClient hub = NotificationHubClient.CreateClientFromConnectionString(connString, hubName);
    var result = await hub.SendWindowsNativeNotificationAsync(toast);
    Console.WriteLine(result.State);

<span data-ttu-id="a401a-213">`result.State`будет просто состояния `Enqueued` конце hello hello выполнения без подсказать, что произошло tooyour push.</span><span class="sxs-lookup"><span data-stu-id="a401a-213">`result.State` will simply state `Enqueued` at hello end of hello execution without any insight into what happened tooyour push.</span></span> <span data-ttu-id="a401a-214">Теперь вы можете использовать hello `EnableTestSend` логическое свойство во время инициализации hello `NotificationHubClient` и может получить подробное состояние hello PNS произошли ошибки при отправке уведомления hello.</span><span class="sxs-lookup"><span data-stu-id="a401a-214">Now you can use hello `EnableTestSend` boolean property while initializing hello `NotificationHubClient` and can get detailed status about hello PNS errors encountered while sending hello notification.</span></span> <span data-ttu-id="a401a-215">Здесь вызова отправки Hello займет tooreturn дополнительное время, так как он только возвращает после NH доставке выходное hello уведомление tooPNS toodetermine hello.</span><span class="sxs-lookup"><span data-stu-id="a401a-215">hello send call here will take additional time tooreturn because it is only returning after NH has delivered hello notification tooPNS toodetermine hello outcome.</span></span> 

    bool enableTestSend = true;
    NotificationHubClient hub = NotificationHubClient.CreateClientFromConnectionString(connString, hubName, enableTestSend);

    var outcome = await hub.SendWindowsNativeNotificationAsync(toast);
    Console.WriteLine(outcome.State);

    foreach (RegistrationResult result in outcome.Results)
    {
        Console.WriteLine(result.ApplicationPlatform + "\n" + result.RegistrationId + "\n" + result.Outcome);
    }

<span data-ttu-id="a401a-216">*Пример выходных данных*</span><span class="sxs-lookup"><span data-stu-id="a401a-216">*Sample Output*</span></span>

    DetailedStateAvailable
    windows
    7619785862101227384-7840974832647865618-3
    hello Token obtained from hello Token Provider is wrong

<span data-ttu-id="a401a-217">Это сообщение указывает на неправильные учетные данные настраиваются в концентраторе уведомлений hello или проблема с hello регистраций на концентраторе hello и hello рекомендуется курса будут toodelete регистрация и позволить создать его повторно перед отправкой hello клиента hello Сообщение.</span><span class="sxs-lookup"><span data-stu-id="a401a-217">This message indicates either invalid credentials are configured in hello notification hub or an issue with hello registrations on hello hub and hello recommended course would be toodelete this registration and let hello client recreate it before sending hello message.</span></span> 

> [!NOTE]
> <span data-ttu-id="a401a-218">Обратите внимание, что использование этого свойства hello сильно регулируется таким образом необходимо только использовать это в среде разработки и тестирования для ограниченного набора регистраций.</span><span class="sxs-lookup"><span data-stu-id="a401a-218">Note that hello use of this property is heavily throttled and so you must only use this in dev/test environment with limited set of registrations.</span></span> <span data-ttu-id="a401a-219">Мы только отправлять уведомления отладки too10 устройств.</span><span class="sxs-lookup"><span data-stu-id="a401a-219">We only send debug notifications too10 devices.</span></span> <span data-ttu-id="a401a-220">Мы также имеют ограничение в обработке toobe отправляет отладки 10 в минуту.</span><span class="sxs-lookup"><span data-stu-id="a401a-220">We also have a limit of processing debug sends toobe 10 per minute.</span></span> 
> 
> 

### <a name="review-telemetry"></a><span data-ttu-id="a401a-221">Просмотр телеметрии</span><span class="sxs-lookup"><span data-stu-id="a401a-221">Review telemetry</span></span>
1. <span data-ttu-id="a401a-222">**Использование классического портала Azure**</span><span class="sxs-lookup"><span data-stu-id="a401a-222">**Use Azure Classic Portal**</span></span>
   
    <span data-ttu-id="a401a-223">Hello портал позволяет tooget краткий обзор всех действий hello на концентратор уведомлений.</span><span class="sxs-lookup"><span data-stu-id="a401a-223">hello portal enables you tooget a quick overview of all hello activity on your Notification Hub.</span></span> 
   
    <span data-ttu-id="a401a-224">) на вкладке «панель мониторинга» hello можно просмотреть Агрегированное представление hello регистраций, уведомления, а также ошибки каждой платформы.</span><span class="sxs-lookup"><span data-stu-id="a401a-224">a) From hello "dashboard" tab you can view an aggregated view of hello registrations, notifications as well as errors per platform.</span></span> 
   
    ![][5]
   
    <span data-ttu-id="a401a-225">(б) можно также добавить многие другие платформы определенных метрик из tootake вкладка «Монитор» hello более подробное рассмотрение особенно PNS определенные ошибки, возвращенные при NH toosend hello уведомления toohello PNS.</span><span class="sxs-lookup"><span data-stu-id="a401a-225">b) You can also add many other platform specific metrics from hello "Monitor" tab tootake a deeper look particularly at any PNS specific errors returned when NH tries toosend hello notification toohello PNS.</span></span> 
   
    ![][6]
   
    <span data-ttu-id="a401a-226">c) следует начинать с просмотра hello **входящих сообщений**, **операции регистрации**, **успешные уведомления** и перейдите на вкладку tooreview tooper платформы hello PNS конкретных ошибок.</span><span class="sxs-lookup"><span data-stu-id="a401a-226">c) You should start with reviewing hello **Incoming Messages**, **Registration Operations**, **Successful Notifications** and then go tooper platform tab tooreview hello PNS specific errors.</span></span> 
   
    <span data-ttu-id="a401a-227">d) Если у вас есть уведомления hello концентратора неправильно настроены параметры проверки подлинности hello затем вы увидите ошибки проверки подлинности PNS.</span><span class="sxs-lookup"><span data-stu-id="a401a-227">d) If you have hello notification hub misconfigured with hello authentication settings then you will see PNS Authentication Error.</span></span> <span data-ttu-id="a401a-228">Это свидетельствует о учетные данные PNS toocheck hello.</span><span class="sxs-lookup"><span data-stu-id="a401a-228">This is a good indication toocheck hello PNS credentials.</span></span> 

2) <span data-ttu-id="a401a-229">**Программный доступ**</span><span class="sxs-lookup"><span data-stu-id="a401a-229">**Programmatic access**</span></span>

<span data-ttu-id="a401a-230">Дополнительную информацию см. здесь:</span><span class="sxs-lookup"><span data-stu-id="a401a-230">More details here -</span></span> 

* <span data-ttu-id="a401a-231">[Программный доступ к телеметрии]</span><span class="sxs-lookup"><span data-stu-id="a401a-231">[Programmatic Telemetry Access]</span></span>
* <span data-ttu-id="a401a-232">[Доступ к телеметрии с помощью образца API]</span><span class="sxs-lookup"><span data-stu-id="a401a-232">[Telemetry Access via APIs sample]</span></span> 

> [!NOTE]
> <span data-ttu-id="a401a-233">Несколько функций, связанных с телеметрией, например **экспорт и импорт регистраций**, **доступ к телеметрии с помощью API** и т. д., доступны только для уровня "Стандартный".</span><span class="sxs-lookup"><span data-stu-id="a401a-233">Several telemetry related features like **Export/Import Registrations**, **Telemetry Access via APIs** etc are only available in Standard tier.</span></span> <span data-ttu-id="a401a-234">При попытке toouse эти функции, если вы находитесь в бесплатном или базового уровня затем вы получите эффект toothis сообщение исключения при использовании hello SDK и HTTP 403 (запрещено), при использовании их непосредственно из hello API-интерфейсов REST.</span><span class="sxs-lookup"><span data-stu-id="a401a-234">If you attempt toouse these features if you are in Free or Basic tier then you will get exception message toothis effect while using hello SDK and an HTTP 403 (Forbidden) when using them directly from hello REST APIs.</span></span> <span data-ttu-id="a401a-235">Убедитесь, что вы переместили копирование уровня tooStandard классическом портале Azure.</span><span class="sxs-lookup"><span data-stu-id="a401a-235">Make sure that you have moved up tooStandard tier via Azure Classic Portal.</span></span>  
> 
> 

<!-- IMAGES -->
[0]: ./media/notification-hubs-diagnosing/Architecture.png
[1]: ./media/notification-hubs-diagnosing/GCMConfigure.png
[2]: ./media/notification-hubs-diagnosing/GCMEnable.png
[3]: ./media/notification-hubs-diagnosing/GCMServerKey.png
[4]: ./media/notification-hubs-diagnosing/PortalConfigure.png
[5]: ./media/notification-hubs-diagnosing/PortalDashboard.png
[6]: ./media/notification-hubs-diagnosing/PortalMonitoring.png
[7]: ./media/notification-hubs-diagnosing/PortalTestNotification.png
[8]: ./media/notification-hubs-diagnosing/VSRegistrations.png
[9]: ./media/notification-hubs-diagnosing/VSServerExplorer.png
[10]: ./media/notification-hubs-diagnosing/VSTestNotification.png

<!-- LINKS -->
[Центры уведомлений Azure]: notification-hubs-push-notification-overview.md
[учебными руководствами для начинающих]: notification-hubs-windows-store-dotnet-get-started-wns-push-notification.md
[руководство шаблона]: https://msdn.microsoft.com/library/dn530748.aspx 
[руководство по APNS]: https://developer.apple.com/library/ios/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/Chapters/ApplePushService.html#//apple_ref/doc/uid/TP40008194-CH100-SW4
[руководство по GCM]: http://developer.android.com/google/gcm/adv.html
[Export/Import Registrations]: http://msdn.microsoft.com/library/dn790624.aspx
[Обозреватель ServiceBus]: http://msdn.microsoft.com/library/dn530751.aspx
[Код обозревателя ServiceBus]: https://code.msdn.microsoft.com/windowsazure/Service-Bus-Explorer-f2abca5a
[Обзор обозревателя сервера VS]: http://msdn.microsoft.com/library/windows/apps/xaml/dn792122.aspx 
[Запись блога об обозревателе сервера VS — 1]: http://azure.microsoft.com/blog/2014/04/09/deep-dive-visual-studio-2013-update-2-rc-and-azure-sdk-2-3/#NotificationHubs 
[Запись блога об обозревателе сервера VS — 2]: http://azure.microsoft.com/blog/2014/08/04/announcing-release-of-visual-studio-2013-update-3-and-azure-sdk-2-4/ 
[EnableTestSend функция]: http://msdn.microsoft.com/library/microsoft.servicebus.notifications.notificationhubclient.enabletestsend.aspx
[Программный доступ к телеметрии]: http://msdn.microsoft.com/library/azure/dn458823.aspx
[Доступ к телеметрии с помощью образца API]: https://github.com/Azure/azure-notificationhubs-samples/tree/master/FetchNHTelemetryInExcel

