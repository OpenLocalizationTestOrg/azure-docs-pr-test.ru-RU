---
title: "Часто задаваемые вопросы о Центрах уведомлений Azure | Документация Майкрософт"
description: "Часто задаваемые вопросы по разработке и реализации решений в концентраторах уведомлений"
services: notification-hubs
documentationcenter: mobile
author: ysxu
manager: erikre
keywords: "отправка push-уведомлений, push-уведомления, push-уведомления iOS, push-уведомления android, push-уведомления ios, push-уведомления android"
editor: 
ms.assetid: 7b385713-ef3b-4f01-8b1f-ffe3690bbd40
ms.service: notification-hubs
ms.workload: mobile
ms.tgt_pltfrm: mobile-multiple
ms.devlang: multiple
ms.topic: article
ms.date: 01/19/2017
ms.author: yuaxu
ms.openlocfilehash: a70efa7fc5954966847d5a173e9b10accf4b737e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="push-notifications-with-azure-notification-hubs-frequently-asked-questions"></a>Часто задаваемые вопросы об отправке push-уведомлений с помощью Центров уведомлений Azure
## <a name="general"></a>Общие сведения
### <a name="what-is-hello-resource-structure-of-notification-hubs"></a>Что такое структура ресурсов hello концентраторы уведомлений?

Центры уведомлений Azure имеют два уровня ресурсов — это узлы и пространства имен. Концентратор является отдельной принудительной ресурса, содержащего сведения о принудительной кросс платформенных hello одного приложения. Пространство имен содержит несколько узлов одного региона.

Мы советуем сопоставлять одно пространство имен с одним приложением. В пространство имен можно включить рабочий центр, который работает с основным приложением, тестовый центр для работы с тестовым приложением и т. д.

### <a name="what-is-hello-price-model-for-notification-hubs"></a>Что такое модель hello цены для концентраторов уведомлений
Hello последние сведения о расценках можно найти на hello [цены на концентраторы уведомлений] страницы. Концентраторы уведомлений оплачивается на уровне пространства имен hello. (Для hello определение пространства имен, см. «Что такое структура ресурсов hello концентраторы уведомлений?») Концентраторы уведомлений предлагает три уровня:

* Уровень **Бесплатный**. Это хороший выбор для изучения возможностей отправки, но мы не советуем использовать его для рабочих приложений. На каждое пространство имен поддерживается до 500 устройств и до 1 млн уведомлений в месяц без соглашений об уровне обслуживания.
* **Основные**: рекомендуется использовать этот уровень (или стандартного уровня hello) для небольших рабочих приложений. На каждое пространство имен поддерживается до 200 тысяч устройств и до 10 млн операций отправки в месяц в качестве базового тарифа. Кроме того, предусмотрены возможности для увеличения квот.
* **Стандартная**: этот уровень рекомендуется для приложений среднего toolarge производства. На каждое пространство имен поддерживается до 10 млн устройств и до 10 млн операций отправки в месяц в качестве базового тарифа. Также предусмотрены возможности для увеличения квот и предоставляются широкие возможности для телеметрии.

Возможности уровня "Стандартный":
* **Обширная телеметрия**: tootrack концентраторов уведомлений в телеметрии сообщения можно использовать любой принудительной отправки запросов и отзывов системы уведомления платформы для отладки.
* **Многопользовательский режим.** Вы можете управлять учетными данными для системы отправки уведомлений платформы на уровне пространства имен. Этот параметр позволяет tooeasily можно разбить клиентов на концентраторы в hello того же пространства имен.
* **Запланированные принудительной**: вы можете запланировать toobe уведомлений, отправляемых в любое время.

### <a name="what-is-hello-notification-hubs-sla"></a>Что такое hello концентраторы уведомлений соглашения об уровне ОБСЛУЖИВАНИЯ?
Для уровней Basic и Standard концентраторов уведомлений правильно настроенного приложения могут отправлять push-уведомления или выполнять операции управления регистрации менее 99,9% времени hello. Дополнительные сведения о SLA hello, последовательно выберите toohello toolearn [концентраторы уведомлений соглашения об уровне ОБСЛУЖИВАНИЯ](https://azure.microsoft.com/support/legal/sla/notification-hubs/) страницы.

> [!NOTE]
> Поскольку извещающих уведомлений зависят от сторонних систем уведомлений платформы (например, Apple APNS и Google FCM), нет никакой гарантии SLA для доставки этих сообщений hello. После концентраторы уведомлений отправляет пакеты hello системы уведомления tooPlatform (соглашение об уровне ОБСЛУЖИВАНИЯ гарантируется), это ответственность за hello hello систем уведомлений платформы toodeliver hello помещает (нет соглашения об уровне ОБСЛУЖИВАНИЯ гарантируется).

### <a name="which-customers-are-using-notification-hubs"></a>Какие клиенты используют концентраторы уведомлений
Центры уведомлений использует множество клиентов. Далее перечислены несколько самых значимых из них:

* Sochi 2014 — сотни групп интересов, более 3 миллионов устройств, более 150 миллионов уведомлений, отправленных за 2 недели ([анализ примера — Sochi]);
* Skanska — [анализ примера: Skanska];
* Seattle Times — [анализ примера: Seattle Times];
* Mural.ly — [анализ примера: Mural.ly];
* 7Digital — [анализ примера: 7Digital];
* приложения Bing — десятки миллионов устройств, отправляющих 3 миллиона уведомлений ежедневно.

### <a name="how-do-i-upgrade-or-downgrade-my-hub-or-namespace-tooa-different-tier"></a>Как повысить или понизить my концентратора или пространство имен tooa другому уровню?
Go toohello  **[портал Azure]** > **пространства имен концентраторы уведомлений** или **концентраторы уведомлений**. Выберите ресурс hello требуется tooupdate и перейти слишком**ценовую категорию**. Обратите внимание, hello следующие требования:

* Hello обновленные ценовой категории также применяется*все* концентраторы в пространстве имен hello, которым вы работаете.
* Если счетчик вашего устройства превышает предел hello hello уровня, который вы будете до значения, должен иметь устройств toodelete переходе.


## <a name="design-and-development"></a>Проектирование и разработка
### <a name="which-server-side-platforms-do-you-support"></a>Какие платформы на стороне сервера вы поддерживаете?
Серверные пакеты SDK доступны для .NET, Java, Node.js, PHP и Python. API Центров уведомлений основан на интерфейсах REST, поэтому вы можете работать непосредственно с REST API. Это удобно, если вы используете сразу несколько платформ или хотите избежать дополнительных зависимостей. Дополнительные сведения см. toohello [интерфейсы API REST концентраторов уведомлений] страницы.

### <a name="which-client-platforms-do-you-support"></a>Какие клиентские платформы вы поддерживаете?
Push-уведомления поддерживаются на платформах [iOS](notification-hubs-ios-apple-push-notification-apns-get-started.md), [Android](notification-hubs-android-push-notification-google-gcm-get-started.md), [Windows Universal](notification-hubs-windows-store-dotnet-get-started-wns-push-notification.md), [Windows Phone](notification-hubs-windows-mobile-push-notifications-mpns.md), [Kindle](notification-hubs-kindle-amazon-adm-push-notification.md), [Android China (через Baidu)](notification-hubs-baidu-china-android-notifications-get-started.md), Xamarin ([iOS](xamarin-notification-hubs-ios-push-notification-apns-get-started.md) и [Android](xamarin-notification-hubs-push-notifications-android-gcm.md)), [приложения Chrome](notification-hubs-chrome-push-notifications-get-started.md) и [Safari](https://github.com/Azure/azure-notificationhubs-samples/tree/master/PushToSafari). Дополнительные сведения см. toohello [учебники, Приступая к работе уведомления концентраторов] страницы.

### <a name="do-you-support-text-message-email-or-web-notifications"></a>Поддерживаются ли уведомления по SMS и электронной почте, а также веб-уведомления?
Концентраторы уведомлений является главным образом спроектированный toosend уведомления toomobile приложений. и не поддерживают отправку электронных писем или текстовых сообщений. Однако платформах сторонних разработчиков, которые предоставляют эти возможности можно интегрировать с собственного push-уведомления toosend концентраторов уведомлений с помощью [мобильные приложения].

Концентраторы уведомлений также не предоставляют в браузере служба push-уведомлений доставки стандартной hello. Клиентам можно реализовать этот компонент с помощью SignalR поверх hello поддерживается серверных платформ. Следует toosend уведомления toobrowser приложения в песочнице Chrome hello. в разделе hello [приложений Chrome учебника].

### <a name="how-are-mobile-apps-and-azure-notification-hubs-related-and-when-do-i-use-them"></a>Как связаны мобильные приложения и Центры уведомлений Azure, и в каких случаях их нужно использовать?
Если имеется существующий мобильных завершить обратно в приложение и нужно, чтобы tooadd только hello возможность toosend push-уведомлений, концентраторы уведомлений Azure можно использовать. Если необходимо tooset вашей серверной части мобильное приложение с нуля, рассмотрите возможность использования функции мобильные приложения hello службы приложения Azure. Мобильное приложение автоматически предоставляет концентратор уведомлений, чтобы легко можно отправлять извещающие уведомления из серверной части мобильное приложение hello. Цены для мобильных приложений включает hello базовых тарифов для концентратора уведомлений. Вы платите только когда превышает hello включены помещает в стек. Дополнительные сведения о затратах на переход toohello [цены на службу приложений] страницы.

### <a name="how-many-devices-can-i-support-if-i-send-push-notifications-via-notification-hubs"></a>Сколько устройств может поддерживаться при отправке push-уведомлений через концентраторы уведомлений?
См. toohello [цены на концентраторы уведомлений] для получения подробной информации по номеру hello поддерживаемых устройств.

Если необходима поддержка более 10 млн зарегистрированных устройств, [свяжитесь с нами](https://azure.microsoft.com/overview/contact-us/) напрямую и мы поможем вам расширить решение.

### <a name="how-many-push-notifications-can-i-send-out"></a>Сколько push-уведомлений я могу отправить?
В зависимости от выбранного уровня hello концентраторы уведомлений Azure автоматически масштабируется на основе количества hello уведомления, проходящие через систему hello.

> [!NOTE]
> Hello общей стоимости использования можно увеличить на основе количества hello обрабатывается push-уведомлений. Убедитесь, что вы знаете, описанные на hello ограничений уровня hello [цены на концентраторы уведомлений] страницы.
> 
> 

Клиентам использовать концентраторы уведомлений toosend миллионов push-уведомлений ежедневно. У вас toodo что-либо специальные tooscale hello достичь push-уведомлений, при условии, что вы используете концентраторов уведомлений Azure.

### <a name="how-long-does-it-take-for-sent-push-notifications-tooreach-my-device"></a>Сколько проработает взять для отправки уведомления tooreach push устройство?
В сценарии используется обычный, когда hello входящая нагрузка согласуется и даже, концентраторы уведомлений Azure могут обрабатывать по крайней мере *1 миллион push-уведомление отправляет минуты*. Эта скорость может зависеть от hello число тегов, природа hello отправляет входящие hello и другие внешние факторы.

Во время hello предполагаемое время доставки служба hello рассчитываются hello каждой платформы и направляет сообщения toohello службы Push-уведомлений (PNS) на основании hello зарегистрированные теги или выражения с тегами. Он несет hello hello PNS toosend уведомления toohello устройства.

Hello PNS не гарантирует все соглашения об уровне ОБСЛУЖИВАНИЯ для доставки уведомлений. Тем не менее большинство push-уведомления доставляются tootarget устройства в течение нескольких минут (обычно в течение 10 минут) с момента hello они отправляются tooNotification концентраторов. Для отправки нескольких уведомлений может потребоваться больше времени.

> [!NOTE]
> Концентраторы уведомлений Azure уже есть политика toodrop месте любой push-уведомлений, не доставленных toohello PNS в течение 30 минут. Эта задержка может произойти по ряду причин, но большинство часто, поскольку регулирует приложение hello PNS.
> 
> 

### <a name="is-there-any-latency-guarantee"></a>Предоставляются ли какие-либо гарантии по задержкам?
Из-за особенностей hello push-уведомлений (они доставляются с PNS внешних, специфический для платформы) нет никакой гарантии задержки. Как правило большинство hello push-уведомления доставляются в течение нескольких минут.

### <a name="what-do-i-need-tooconsider-when-designing-a-solution-with-namespaces-and-notification-hubs"></a>Что делать мне tooconsider при разработке решений с концентраторами пространств имен и уведомления?
#### <a name="mobile-appenvironment"></a>Мобильное приложение и среда
* Используйте один Центр уведомлений для мобильного приложения в среде.
* В мультитенантном сценарии для каждого клиента должен быть отдельный Центр.
* Никогда не общую папку hello же концентратора уведомлений в производственной среде и тестовых средах. так как это может вызвать проблемы при отправке уведомлений. (Apple предлагает конечные точки Sandbox и Production Push с отдельными учетными данными для каждой из них.)
* По умолчанию можно отправить тестовые уведомления tooyour зарегистрированные устройства через портал Azure hello или hello Azure неотъемлемым компонентом в Visual Studio. Порог Hello установлен too10 устройств, которые выбираются случайным образом из пула регистрации hello.

> [!NOTE]
> Если концентратор изначально была настроена с помощью сертификата Apple "песочницы", а затем был перенастроен toouse сертификата Apple производства, исходное устройство токены hello являются недопустимыми. Недопустимые токены вызвать toofail Push-уведомлений. Используйте рабочую и тестовую среду по отдельности и разные Центры для разных сред.
> 
> 

#### <a name="pns-credentials"></a>Учетные данные PNS
При регистрации мобильного приложения на портале разработчиков платформы (например, Apple или Google) вы получаете идентификатор приложения и маркеры безопасности. серверной части приложения Hello представлены эти токены toohello платформы PNS, позволяющие push-уведомления могут отправляться toodevices. Маркеры безопасности может быть в форме hello сертификатов (например, Apple iOS или Windows Phone) или ключи безопасности (например, Google Android или Windows). Их требуется настроить в Центрах уведомлений. Настройка обычно выполняется на уровне концентратора уведомлений hello, но также может выполняться на уровне пространства имен hello в многопользовательском сценарии.

#### <a name="namespaces"></a>Пространства имен
Пространства имен могут также использоваться для группирования развертываний. Их также можно использовать toorepresent всех концентраторов уведомлений для всех клиентов из одного приложения в многопользовательском сценарии hello.

#### <a name="geo-distribution"></a>Географическое распределение
Географическое распределение не всегда является критически важным для push-уведомлений. Различные PNSes (например, APNS или GCM), toodevices уведомления принудительной доставки не распределена должным образом.

Если у вас есть приложение, которое используется глобально, можно создать концентраторы в разных пространствах имен с помощью службы концентраторов уведомлений hello в разных регионах Azure вокруг Здравствуй, мир.

> [!NOTE]
> Мы не рекомендуем использовать этот подход, так как это приведет к увеличению затрат на управление, в частности на регистрацию. Используйте этот подход только в случае крайней необходимости.
> 
> 

### <a name="should-i-do-registrations-from-hello-app-back-end-or-directly-through-client-devices"></a>Делать регистраций из серверной части приложения hello, или непосредственно с помощью клиентских устройств?
Регистраций из серверной части приложения hello полезны в тех случаях, когда у вас есть клиенты tooauthenticate перед созданием hello регистрации. Они также полезны при наличии теги, которые должны быть созданы и изменен с помощью серверной части hello приложения на основе логики приложения. Toohello см. Дополнительные сведения [внутренняя регистрация руководство] и [внутренняя регистрация руководство 2] страниц.

### <a name="what-is-hello-push-notification-delivery-security-model"></a>Что такое модель безопасности доставки уведомлений push hello
Центры уведомлений Azure используют модель безопасности на основе [подписанного URL-адреса](../storage/common/storage-dotnet-shared-access-signature-part-1.md). Можно использовать маркеры подписи hello общего доступа на уровне пространства имен корневого hello, так и на уровне концентратора уведомлений детальные hello. Маркеры подписи общего доступа может быть набор toofollow различные правила авторизации, например, разрешения сообщения toosend toolisten для разрешения уведомления о. Дополнительные сведения см. в разделе hello [модель безопасности концентраторов уведомлений] документа.

### <a name="how-should-i-handle-sensitive-payload-in-push-notifications"></a>Как обрабатываются конфиденциальные полезные данные в push-уведомлениях?
Все уведомления доставляются tootarget устройств с PNS hello платформы. При отправке уведомления подставляется tooAzure концентраторов уведомлений, оно обрабатывается и переданный toohello соответствующих PNS.

Все соединения, hello отправителя toohello концентраторов уведомлений Azure toohello PNS, использовать протокол HTTPS.

> [!NOTE]
> Концентраторы уведомлений Azure никоим образом не регистрирует hello полезные данные сообщения.
> 
> 

toosend полезных конфиденциальных данных, рекомендуется использовать шаблон принудительной защиты. Отправитель Hello доставляет уведомления проверки связи с устройством toohello идентификатор сообщения без конфиденциальных hello полезных данных. Получив hello полезных данных, приложение hello на устройстве hello приложение hello вызывает безопасные API напрямую toofetch hello сведения о сообщении. Руководство по как tooimplement это шаблон, go toohello [Secure принудительной отправки уведомлений концентраторов учебника] страницы.

## <a name="operations"></a>Операции
### <a name="what-support-is-provided-for-disaster-recovery"></a>Какая поддержка предоставляется для аварийного восстановления?
Мы обслуживают метаданных аварийного восстановления на нашей стороне (hello концентраторы уведомлений имя строки подключения hello и другой важной информации). При запуске сценария аварийного восстановления регистрационные данные — hello *только сегментирования* инфраструктуры hello концентраторов уведомлений, которые будут потеряны. Вам потребуется tooimplement toorepopulate решения эти данные в новый после восстановления концентратора:

1. Создайте дополнительный Центр уведомлений в другом центре обработки данных. Рекомендуется создать один из tooshield начало hello вы из события аварийного восстановления, которые могут повлиять на возможностей управления. Можно также создать одновременно hello hello аварийного восстановления события.

2. Заполнение hello центра получателя уведомлений с hello регистраций из центра уведомлений основной. Не рекомендуется попытки регистрации toomaintain на обоих концентраторов и синхронизировать их как бывают регистраций. Такой подход не работает также из-за hello специфические тенденцию tooexpire регистраций на стороне PNS hello. Центры уведомлений удаляют их по мере получения отзывов службы PNS о регистрациях с истекшим сроком действия или недействительных регистрациях.  

Существует две рекомендации для использования серверной части приложения:

* Используйте серверную часть приложения, которая хранит заданный набор регистраций со своей стороны, Затем он может выполнять операции массовой вставки к концентратору уведомления получателей hello.

* Использование серверной части приложения, который получает регулярные дампа регистраций из концентратора основной уведомлений hello в резервную копию. Затем он может выполнять операции массовой вставки к концентратору уведомления получателей hello.

> [!NOTE]
> Описывается функций экспорта и импорта регистраций, доступных в стандартный уровень hello в hello [регистраций экспорта и импорта] документа.
> 
> 

Если у вас нет серверной, при запуске приложение hello на устройствах, они выполняют новой записи регистрации в концентраторе hello получателя уведомлений. В конечном итоге hello концентратора получателей уведомлений будет всех активных устройств hello зарегистрирован.

В течение определенного периода времени устройства, на которых не открыты приложения, не будут получать уведомления.

### <a name="is-there-audit-log-capability"></a>Предусмотрена ли возможность ведения журнала аудита?
Все операции управления концентраторы уведомлений go toooperation журналы, которые предоставляются в hello [классический портал Azure].

## <a name="monitoring-and-troubleshooting"></a>Мониторинг и устранение неполадок
### <a name="what-troubleshooting-capabilities-are-available"></a>Какие возможности для устранения неполадок доступны?
Концентраторы уведомлений Azure предоставляет несколько возможностей для устранения неполадок, особенно для наиболее распространенных сценария hello удаленные уведомлений. Дополнительные сведения см. в разделе hello [Устранение неполадок концентраторы уведомлений] Технический документ.

### <a name="what-telemetry-features-are-available"></a>Какие телеметрические функции доступны?
Azure позволяет концентраторов уведомлений, просмотр данных телеметрии в hello [классический портал Azure]. Подробные сведения об hello метрики доступны на hello [метрики концентраторы уведомлений] страницы.

> [!NOTE]
> Успешные уведомления просто означает что push-уведомления будут доставлены toohello внешних PNS (например, APNS Apple) или GCM для Google. Возлагается hello hello PNS toodeliver hello уведомления tootarget устройств. Как правило hello PNS не предоставляет доставки метрики toothird сторон.  
> 
> 

Мы также предоставляем данные телеметрии hello tooexport возможность hello программно (в стандартном уровне hello). Дополнительные сведения см. в разделе hello [метрики концентраторы уведомлений образец].

[классический портал Azure]: https://manage.windowsazure.com
[цены на концентраторы уведомлений]: http://azure.microsoft.com/pricing/details/notification-hubs/
[Notification Hubs SLA]: http://azure.microsoft.com/support/legal/sla/
[Анализ примера — Sochi]: https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=7942
[анализ примера: Skanska]: https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=5847
[анализ примера: Seattle Times]: https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=8354
[анализ примера: Mural.ly]: https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=11592
[анализ примера: 7Digital]: https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=3684
[интерфейсы API REST концентраторов уведомлений]: https://msdn.microsoft.com/library/azure/dn530746.aspx
[учебники, Приступая к работе уведомления концентраторов]: http://azure.microsoft.com/documentation/articles/notification-hubs-ios-get-started/
[приложений Chrome учебника]: http://azure.microsoft.com/documentation/articles/notification-hubs-chrome-get-started/
[Mobile Services Pricing]: http://azure.microsoft.com/pricing/details/mobile-services/
[внутренняя регистрация руководство]: https://msdn.microsoft.com/library/azure/dn743807.aspx
[внутренняя регистрация руководство 2]: https://msdn.microsoft.com/library/azure/dn530747.aspx
[модель безопасности концентраторов уведомлений]: https://msdn.microsoft.com/library/azure/dn495373.aspx
[Secure принудительной отправки уведомлений концентраторов учебника]: http://azure.microsoft.com/documentation/articles/notification-hubs-aspnet-backend-ios-secure-push/
[Устранение неполадок концентраторы уведомлений]: http://azure.microsoft.com/documentation/articles/notification-hubs-diagnosing/
[метрики концентраторы уведомлений]: https://msdn.microsoft.com/library/dn458822.aspx
[метрики концентраторы уведомлений образец]: https://github.com/Azure/azure-notificationhubs-samples/tree/master/FetchNHTelemetryInExcel (Получение данных телеметрии Центров уведомлений программным путем)
[регистраций экспорта и импорта]: https://msdn.microsoft.com/library/dn790624.aspx
[портал Azure]: https://portal.azure.com
[complete samples]: https://github.com/Azure/azure-notificationhubs-samples
[мобильные приложения]: https://azure.microsoft.com/services/app-service/mobile/
[цены на службу приложений]: https://azure.microsoft.com/pricing/details/app-service/
