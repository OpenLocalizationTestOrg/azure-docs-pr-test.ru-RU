---
title: "Развертывание подсистемы балансировки нагрузки с доступом к Интернету и поддержкой IPv6 с помощью шаблона Azure | Документация Майкрософт"
description: "Узнайте, как реализовать поддержку IPv6 для Azure Load Balancer и виртуальных машин с балансировкой нагрузки."
services: load-balancer
documentationcenter: na
author: kumudd
manager: timlt
editor: 
tags: azure-resource-manager
keywords: "IPv6, Azure Load Balancer, двойной стек, общедоступный IP-адрес, встроенная поддержка Ipv6, мобильное устройство, Интернет вещей"
ms.assetid: 2998e943-13fc-4ea9-a68c-875e53a08db3
ms.service: load-balancer
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 01/23/2016
ms.author: kumud
ms.openlocfilehash: 95962833f853886476630d703c8959bad1852e50
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="deploy-an-internet-facing-load-balancer-solution-with-ipv6-using-a-template"></a><span data-ttu-id="12211-104">Развертывание решения балансировки нагрузки для Интернета с поддержкой IPv6 с помощью шаблона</span><span class="sxs-lookup"><span data-stu-id="12211-104">Deploy an Internet-facing load-balancer solution with IPv6 using a template</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="12211-105">PowerShell</span><span class="sxs-lookup"><span data-stu-id="12211-105">PowerShell</span></span>](load-balancer-ipv6-internet-ps.md)
> * [<span data-ttu-id="12211-106">Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="12211-106">Azure CLI</span></span>](load-balancer-ipv6-internet-cli.md)
> * [<span data-ttu-id="12211-107">Шаблон</span><span class="sxs-lookup"><span data-stu-id="12211-107">Template</span></span>](load-balancer-ipv6-internet-template.md)

<span data-ttu-id="12211-108">Azure Load Balancer является балансировщиком нагрузки 4-го уровня (TCP, UDP).</span><span class="sxs-lookup"><span data-stu-id="12211-108">An Azure load balancer is a Layer-4 (TCP, UDP) load balancer.</span></span> <span data-ttu-id="12211-109">Балансировщик нагрузки обеспечивает высокий уровень доступности, распределяя входящий трафик между работоспособными экземплярами службы в облачных службах или виртуальных машинах, определенных в наборе балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-109">The load balancer provides high availability by distributing incoming traffic among healthy service instances in cloud services or virtual machines in a load balancer set.</span></span> <span data-ttu-id="12211-110">Azure Load Balancer может также представить данные службы на нескольких портах, нескольких IP-адресах или обоими этими способами.</span><span class="sxs-lookup"><span data-stu-id="12211-110">Azure Load Balancer can also present those services on multiple ports, multiple IP addresses, or both.</span></span>

## <a name="example-deployment-scenario"></a><span data-ttu-id="12211-111">Пример сценария развертывания</span><span class="sxs-lookup"><span data-stu-id="12211-111">Example deployment scenario</span></span>

<span data-ttu-id="12211-112">На следующей схеме показано решение балансировки нагрузки, которое развертывается в этой статье с помощью примера шаблона.</span><span class="sxs-lookup"><span data-stu-id="12211-112">The following diagram illustrates the load balancing solution being deployed using the example template described in this article.</span></span>

![Сценарий использования балансировщика нагрузки](./media/load-balancer-ipv6-internet-template/lb-ipv6-scenario.png)

<span data-ttu-id="12211-114">В этом сценарии вы создадите следующие ресурсы Azure:</span><span class="sxs-lookup"><span data-stu-id="12211-114">In this scenario you will create the following Azure resources:</span></span>

* <span data-ttu-id="12211-115">виртуальный сетевой интерфейс для каждой виртуальной машины с назначенными IPv4 и IPv6-адресами;</span><span class="sxs-lookup"><span data-stu-id="12211-115">a virtual network interface for each VM with both IPv4 and IPv6 addresses assigned</span></span>
* <span data-ttu-id="12211-116">балансировщик нагрузки для Интернета с общедоступными IPv4- и IPv6-адресами;</span><span class="sxs-lookup"><span data-stu-id="12211-116">an Internet-facing Load Balancer with an IPv4 and an IPv6 Public IP address</span></span>
* <span data-ttu-id="12211-117">два правила балансировки нагрузки для сопоставления общедоступных виртуальных IP-адресов с частными конечными точками;</span><span class="sxs-lookup"><span data-stu-id="12211-117">two load balancing rules to map the public VIPs to the private endpoints</span></span>
* <span data-ttu-id="12211-118">группу доступности, которая содержит две виртуальные машины;</span><span class="sxs-lookup"><span data-stu-id="12211-118">an Availability Set that contains the two VMs</span></span>
* <span data-ttu-id="12211-119">две виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="12211-119">two virtual machines (VMs)</span></span>

## <a name="deploying-the-template-using-the-azure-portal"></a><span data-ttu-id="12211-120">Развертывание шаблона с помощью портала Azure</span><span class="sxs-lookup"><span data-stu-id="12211-120">Deploying the template using the Azure portal</span></span>

<span data-ttu-id="12211-121">Эта статья ссылается на шаблон,опубликованный в коллекции [Шаблоны быстрого запуска Azure](https://azure.microsoft.com/documentation/templates/201-load-balancer-ipv6-create/).</span><span class="sxs-lookup"><span data-stu-id="12211-121">This article references a template that is published in the [Azure Quickstart Templates](https://azure.microsoft.com/documentation/templates/201-load-balancer-ipv6-create/) gallery.</span></span> <span data-ttu-id="12211-122">Вы можете скачать шаблон из коллекции или запустить развертывание в Azure непосредственно из коллекции.</span><span class="sxs-lookup"><span data-stu-id="12211-122">You can download the template from the gallery or launch the deployment in Azure directly from the gallery.</span></span> <span data-ttu-id="12211-123">В этой статье предполагается, что вы скачали шаблон на локальный компьютер.</span><span class="sxs-lookup"><span data-stu-id="12211-123">This article assumes you have downloaded the template to your local computer.</span></span>

1. <span data-ttu-id="12211-124">Откройте портал Azure и выполните вход с помощью учетной записи, имеющей разрешения на создание виртуальных машин и сетевых ресурсов в рамках подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="12211-124">Open the Azure portal and sign in with an account that has permissions to create VMs and networking resources within an Azure subscription.</span></span> <span data-ttu-id="12211-125">Кроме того, учетной записи необходимы разрешения на создание группы ресурсов и учетной записи хранения (это не требуется, если вы используете существующие ресурсы).</span><span class="sxs-lookup"><span data-stu-id="12211-125">Also, unless you're using existing resources, the account needs permission to create a resource group and a storage account.</span></span>
2. <span data-ttu-id="12211-126">В меню щелкните "+ Создать", а затем введите в поле поиска "template".</span><span class="sxs-lookup"><span data-stu-id="12211-126">Click "+New" from the menu then type "template" in the search box.</span></span> <span data-ttu-id="12211-127">В результатах поиска выберите "Развертывание шаблона".</span><span class="sxs-lookup"><span data-stu-id="12211-127">Select "Template deployment" from the search results.</span></span>

    ![lb-ipv6-portal-step2](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step2.png)

3. <span data-ttu-id="12211-129">В колонке "Все" щелкните "Развертывание шаблона".</span><span class="sxs-lookup"><span data-stu-id="12211-129">In the Everything blade, click "Template deployment."</span></span>

    ![lb-ipv6-portal-step3](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step3.png)

4. <span data-ttu-id="12211-131">Нажмите кнопку "Создать".</span><span class="sxs-lookup"><span data-stu-id="12211-131">Click "Create."</span></span>

    ![lb-ipv6-portal-step4](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step4.png)

5. <span data-ttu-id="12211-133">Щелкните "Изменить шаблон".</span><span class="sxs-lookup"><span data-stu-id="12211-133">Click "Edit template."</span></span> <span data-ttu-id="12211-134">Удалите имеющееся содержимое, затем скопируйте и вставьте все содержимое файла шаблона (включая начальный и конечный символы {}). Затем нажмите кнопку "Сохранить".</span><span class="sxs-lookup"><span data-stu-id="12211-134">Delete the existing contents and copy/paste in the entire contents of the template file (to include the start and end { }), then click "Save."</span></span>

    > [!NOTE]
    > <span data-ttu-id="12211-135">Если вы используете Microsoft Internet Explorer, то при вставке отображается диалоговое окно, запрашивающее разрешение на доступ к буферу обмена Windows.</span><span class="sxs-lookup"><span data-stu-id="12211-135">If you are using Microsoft Internet Explorer, when you paste you receive a dialog box asking you to allow access to the Windows clipboard.</span></span> <span data-ttu-id="12211-136">Нажмите кнопку "Разрешить доступ".</span><span class="sxs-lookup"><span data-stu-id="12211-136">Click "Allow access."</span></span>

    ![lb-ipv6-portal-step5](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step5.png)

6. <span data-ttu-id="12211-138">Щелкните "Изменить параметры".</span><span class="sxs-lookup"><span data-stu-id="12211-138">Click "Edit parameters."</span></span> <span data-ttu-id="12211-139">В колонке "Параметры" укажите значения, которые приведены в разделе "Параметры шаблона", а затем нажмите кнопку "Сохранить", чтобы закрыть колонку "Параметры".</span><span class="sxs-lookup"><span data-stu-id="12211-139">In the Parameters blade, specify the values per the guidance in the Template parameters section, then click "Save" to close the Parameters blade.</span></span> <span data-ttu-id="12211-140">В колонке "Настраиваемое развертывание" выберите подписку и существующую группу ресурсов (или создайте новую).</span><span class="sxs-lookup"><span data-stu-id="12211-140">In the Custom Deployment blade, select your subscription, an existing resource group or create one.</span></span> <span data-ttu-id="12211-141">Если вы создаете группу ресурсов, то выберите для нее расположение.</span><span class="sxs-lookup"><span data-stu-id="12211-141">If you are creating a resource group, then select a location for the resource group.</span></span> <span data-ttu-id="12211-142">Затем щелкните **Условия** и выберите **Приобрести**.</span><span class="sxs-lookup"><span data-stu-id="12211-142">Next, click **Legal terms**, then click **Purchase** for the legal terms.</span></span> <span data-ttu-id="12211-143">Azure начнет развертывание ресурсов.</span><span class="sxs-lookup"><span data-stu-id="12211-143">Azure begins deploying the resources.</span></span> <span data-ttu-id="12211-144">Развертывание всех ресурсов займет несколько минут.</span><span class="sxs-lookup"><span data-stu-id="12211-144">It takes several minutes to deploy all the resources.</span></span>

    ![lb-ipv6-portal-step6](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step6.png)

    <span data-ttu-id="12211-146">Дополнительные сведения об этих параметрах см. в разделе [Параметры и переменные шаблона](#template-parameters-and-variables) далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="12211-146">For more information about these parameters, see the [Template parameters and variables](#template-parameters-and-variables) section later in this article.</span></span>

7. <span data-ttu-id="12211-147">Чтобы просмотреть ресурсы, созданные с помощью шаблона, щелкните "Обзор", прокрутите список вниз до пункта "Группы ресурсов" и выберите его.</span><span class="sxs-lookup"><span data-stu-id="12211-147">To see the resources created by the template, click Browse, scroll down the list until you see "Resource groups," then click it.</span></span>

    ![lb-ipv6-portal-step7](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step7.png)

8. <span data-ttu-id="12211-149">В колонке "Группы ресурсов" щелкните имя группы ресурсов, которое вы указали на шаге 6.</span><span class="sxs-lookup"><span data-stu-id="12211-149">On the Resource groups blade, click the name of the resource group you specified in step 6.</span></span> <span data-ttu-id="12211-150">Отобразится список всех развернутых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="12211-150">You see a list of all the resources that were deployed.</span></span> <span data-ttu-id="12211-151">Если все прошло успешно, то в разделе "Последнее развертывание" должно отобразиться "Выполнено".</span><span class="sxs-lookup"><span data-stu-id="12211-151">If all went well, it should say "Succeeded" under "Last deployment."</span></span> <span data-ttu-id="12211-152">Если это не так, проверьте, имеет ли используемая вами учетная запись разрешения на создание необходимых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="12211-152">If not, ensure that the account you're using has permissions to create the necessary resources.</span></span>

    ![lb-ipv6-portal-step8](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step8.png)

    > [!NOTE]
    > <span data-ttu-id="12211-154">Если просмотреть "Группы ресурсов" сразу после выполнения шага 6, то в разделе "Последнее развертывание" будет отображаться состояние "Идет развертывание", так как ресурсы еще развертываются.</span><span class="sxs-lookup"><span data-stu-id="12211-154">If you browse your Resource Groups immediately after completing step 6, "Last deployment" will display the status of "Deploying" while the resources are being deployed.</span></span>

9. <span data-ttu-id="12211-155">В список ресурсов выберите myIPv6PublicIP.</span><span class="sxs-lookup"><span data-stu-id="12211-155">Click "myIPv6PublicIP" in the list of resources.</span></span> <span data-ttu-id="12211-156">Вы увидите, что в качестве IP-адреса указан IPv6-адрес, а значение DNS-имени соответствует тому, которое вы указали для параметра dnsNameforIPv6LbIP на шаге 6.</span><span class="sxs-lookup"><span data-stu-id="12211-156">You see that it has an IPv6 address under IP address, and that its DNS name is the value you specified for the dnsNameforIPv6LbIP parameter in step 6.</span></span> <span data-ttu-id="12211-157">Этот ресурс является общедоступным IPv6-адресом и именем узла, доступным для Интернет-клиентов.</span><span class="sxs-lookup"><span data-stu-id="12211-157">This resource is the public IPv6 address and host name that is accessible to Internet-clients.</span></span>

    ![lb-ipv6-portal-step9](./media/load-balancer-ipv6-internet-template/lb-ipv6-portal-step9.png)

## <a name="validate-connectivity"></a><span data-ttu-id="12211-159">Проверка подключения</span><span class="sxs-lookup"><span data-stu-id="12211-159">Validate connectivity</span></span>

<span data-ttu-id="12211-160">После успешного развертывания шаблона можно проверить подключение, выполнив следующие действия:</span><span class="sxs-lookup"><span data-stu-id="12211-160">When the template has deployed successfully, you can validate connectivity by completing the following tasks:</span></span>

1. <span data-ttu-id="12211-161">Войдите на портал Azure и подключитесь к каждой из виртуальных машин, созданных при развертывании шаблона.</span><span class="sxs-lookup"><span data-stu-id="12211-161">Sign in to the Azure portal and connect to each of the VMs created by the template deployment.</span></span> <span data-ttu-id="12211-162">Если была развернута виртуальная машина Windows Server, то в командной строке введите ipconfig / all.</span><span class="sxs-lookup"><span data-stu-id="12211-162">If you deployed a Windows Server VM, run ipconfig /all from a command prompt.</span></span> <span data-ttu-id="12211-163">Вы видите, что виртуальные машины имеют оба адреса — IPv4 и IPv6.</span><span class="sxs-lookup"><span data-stu-id="12211-163">You see that the VMs have both IPv4 and IPv6 addresses.</span></span> <span data-ttu-id="12211-164">Если были развернуты виртуальные машины Linux, то в ОС Linux необходимо настроить получение динамических IPv6-адресов, руководствуясь инструкциями к дистрибутиву Linux.</span><span class="sxs-lookup"><span data-stu-id="12211-164">If you deployed Linux VMs, you need to configure the Linux OS to receive dynamic IPv6 addresses using the instructions provided for your Linux distribution.</span></span>
2. <span data-ttu-id="12211-165">Из клиента, подключенного к Интернету по протоколу IPv6, инициируйте подключение к общедоступному IPv6-адресу балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-165">From an IPv6 Internet-connected client, initiate a connection to the public IPv6 address of the load balancer.</span></span> <span data-ttu-id="12211-166">Чтобы убедиться, что балансировщик нагрузки выполняет балансировку между двумя виртуальными машинами, можно установить на каждой виртуальной машине веб-сервер, например Microsoft IIS.</span><span class="sxs-lookup"><span data-stu-id="12211-166">To confirm that the load balancer is balancing between the two VMs, you could install a web server like Microsoft Internet Information Services (IIS) on each of the VMs.</span></span> <span data-ttu-id="12211-167">Для уникальной идентификации каждого сервера его веб-страница по умолчанию может содержать текст "Server0" или "Server1".</span><span class="sxs-lookup"><span data-stu-id="12211-167">The default web page on each server could contain the text "Server0" or "Server1" to uniquely identify it.</span></span> <span data-ttu-id="12211-168">Затем, чтобы выполнить сквозную проверку IPv6-подключения к каждой виртуальной машине, откройте браузер на клиенте, подключенном к Интернету по протоколу IPv6, и перейдите к узлу, имя которого вы указали для параметра dnsNameforIPv6LbIP балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-168">Then, open an Internet browser on an IPv6 Internet-connected client and browse to the hostname you specified for the dnsNameforIPv6LbIP parameter of the load balancer to confirm end-to-end IPv6 connectivity to each VM.</span></span> <span data-ttu-id="12211-169">Если вам удается просмотреть веб-страницу только с одного сервера, то, возможно, необходимо очистить кэш браузера.</span><span class="sxs-lookup"><span data-stu-id="12211-169">If you only see the web page from only one server, you may need to clear your browser cache.</span></span> <span data-ttu-id="12211-170">Откройте несколько сеансов в режиме закрытого просмотра.</span><span class="sxs-lookup"><span data-stu-id="12211-170">Open multiple private browsing sessions.</span></span> <span data-ttu-id="12211-171">Вы должны получить ответ от каждого сервера.</span><span class="sxs-lookup"><span data-stu-id="12211-171">You should see a response from each server.</span></span>
3. <span data-ttu-id="12211-172">Из клиента, подключенного к Интернету по протоколу IPv4, инициируйте подключение к общедоступному IPv4-адресу балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-172">From an IPv4 Internet-connected client, initiate a connection to the public IPv4 address of the load balancer.</span></span> <span data-ttu-id="12211-173">Чтобы убедиться, что балансировщик нагрузки выполняет балансировку между двумя виртуальными машинами, можно выполнить проверку с помощью IIS, как описано на шаге 2.</span><span class="sxs-lookup"><span data-stu-id="12211-173">To confirm that the load balancer is load balancing the two VMs, you could test using IIS, as detailed in Step 2.</span></span>
4. <span data-ttu-id="12211-174">С каждой виртуальной машины инициируйте исходящее подключение к устройству, подключенному к Интернету по протоколу IPv4 или IPv6.</span><span class="sxs-lookup"><span data-stu-id="12211-174">From each VM, initiate an outbound connection to an IPv6 or IPv4-connected Internet device.</span></span> <span data-ttu-id="12211-175">В обоих случаях исходный IP-адрес, отображаемый на устройстве назначения, является общедоступным IPv4 или IPv6-адресом балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-175">In both cases, the source IP seen by the destination device is the public IPv4 or IPv6 address of the load balancer.</span></span>

> [!NOTE]
> <span data-ttu-id="12211-176">В сети Azure ICMP-трафик для протоколов IPv4 и IPv6 заблокирован.</span><span class="sxs-lookup"><span data-stu-id="12211-176">ICMP for both IPv4 and IPv6 is blocked in the Azure network.</span></span> <span data-ttu-id="12211-177">Поэтому при запуске инструментов ICMP, таких как проверка связи, всегда происходит сбой.</span><span class="sxs-lookup"><span data-stu-id="12211-177">As a result, ICMP tools like ping always fail.</span></span> <span data-ttu-id="12211-178">Чтобы проверить подключение, воспользуйтесь аналогичным инструментом TCP (например TCPing) или командлетом PowerShell Test-NetConnection.</span><span class="sxs-lookup"><span data-stu-id="12211-178">To test connectivity, use a TCP alternative such as TCPing or the PowerShell Test-NetConnection cmdlet.</span></span> <span data-ttu-id="12211-179">Обратите внимание, что IP-адреса, показанные на схеме, являются примерами значений, которые могут отобразиться.</span><span class="sxs-lookup"><span data-stu-id="12211-179">Note that the IP addresses shown in the diagram are examples of values that you might see.</span></span> <span data-ttu-id="12211-180">Так как IPv6-адреса назначаются динамически, полученные вами адреса будут отличаться и могут быть разными для разных регионов.</span><span class="sxs-lookup"><span data-stu-id="12211-180">Since the IPv6 addresses are assigned dynamically, the addresses you receive will differ and can vary by region.</span></span> <span data-ttu-id="12211-181">Кроме того, общедоступные IPv6-адреса балансировщика нагрузки часто начинаются с префиксов, которые отличаются от префиксов частных IPv6-адресов во внутреннем пуле.</span><span class="sxs-lookup"><span data-stu-id="12211-181">Also, it is common for the public IPv6 address on the load balancer to start with a different prefix than the private IPv6 addresses in the back-end pool.</span></span>

## <a name="template-parameters-and-variables"></a><span data-ttu-id="12211-182">Параметры и переменные шаблона</span><span class="sxs-lookup"><span data-stu-id="12211-182">Template parameters and variables</span></span>

<span data-ttu-id="12211-183">Шаблон Azure Resource Manager содержит несколько переменных и параметров, которые можно настроить в соответствии со своими потребностями.</span><span class="sxs-lookup"><span data-stu-id="12211-183">An Azure Resource Manager template contains multiple variables and parameters that you can customize to your needs.</span></span> <span data-ttu-id="12211-184">Переменные используются для фиксированных значений, которые не должны изменяться пользователем.</span><span class="sxs-lookup"><span data-stu-id="12211-184">Variables are used for fixed values that you do not want a user to change.</span></span> <span data-ttu-id="12211-185">Параметры используются для значений, которые пользователь должен указывать при развертывании шаблона.</span><span class="sxs-lookup"><span data-stu-id="12211-185">Parameters are used for values that you want a user to provide when deploying the template.</span></span> <span data-ttu-id="12211-186">Пример шаблона настроен для сценария, описанного в этой статье.</span><span class="sxs-lookup"><span data-stu-id="12211-186">The example template is configured for the scenario described in this article.</span></span> <span data-ttu-id="12211-187">Вы можете изменить настройки в соответствии с потребностями своей среды.</span><span class="sxs-lookup"><span data-stu-id="12211-187">You can customize this to needs of your environment.</span></span>

<span data-ttu-id="12211-188">Пример шаблона, используемый в этой статье, включает следующие переменные и параметры:</span><span class="sxs-lookup"><span data-stu-id="12211-188">The example template used in this article includes the following variables and parameters:</span></span>

| <span data-ttu-id="12211-189">Параметр / переменная</span><span class="sxs-lookup"><span data-stu-id="12211-189">Parameter / Variable</span></span> | <span data-ttu-id="12211-190">Примечания</span><span class="sxs-lookup"><span data-stu-id="12211-190">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="12211-191">adminUsername</span><span class="sxs-lookup"><span data-stu-id="12211-191">adminUsername</span></span> |<span data-ttu-id="12211-192">Укажите имя учетной записи администратора, которое используется для входа в виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="12211-192">Specify the name of the admin account used to sign in to the virtual machines with.</span></span> |
| <span data-ttu-id="12211-193">adminPassword</span><span class="sxs-lookup"><span data-stu-id="12211-193">adminPassword</span></span> |<span data-ttu-id="12211-194">Укажите пароль учетной записи администратора, который используется для входа в виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="12211-194">Specify the password for the admin account used to sign in to the virtual machines with.</span></span> |
| <span data-ttu-id="12211-195">dnsNameforIPv4LbIP</span><span class="sxs-lookup"><span data-stu-id="12211-195">dnsNameforIPv4LbIP</span></span> |<span data-ttu-id="12211-196">Укажите имя узла DNS, которое необходимо назначить в качестве общедоступного имени балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-196">Specify the DNS host name you want to assign as the public name of the load balancer.</span></span> <span data-ttu-id="12211-197">Это имя разрешается в общедоступный IPv4-адрес балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-197">This name resolves to the load balancer's public IPv4 address.</span></span> <span data-ttu-id="12211-198">Оно должно вводиться в нижнем регистре и соответствовать регулярному выражению: ^[a-z][a-z0-9-]{1,61}[a-z0-9]$.</span><span class="sxs-lookup"><span data-stu-id="12211-198">The name must be lowercase and match the regex: ^[a-z][a-z0-9-]{1,61}[a-z0-9]$.</span></span> |
| <span data-ttu-id="12211-199">dnsNameforIPv6LbIP</span><span class="sxs-lookup"><span data-stu-id="12211-199">dnsNameforIPv6LbIP</span></span> |<span data-ttu-id="12211-200">Укажите имя узла DNS, которое необходимо назначить в качестве общедоступного имени балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-200">Specify the DNS host name you want to assign as the public name of the load balancer.</span></span> <span data-ttu-id="12211-201">Это имя разрешается в общедоступный IPv6-адрес балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-201">This name resolves to the load balancer's public IPv6 address.</span></span> <span data-ttu-id="12211-202">Оно должно вводиться в нижнем регистре и соответствовать регулярному выражению: ^[a-z][a-z0-9-]{1,61}[a-z0-9]$.</span><span class="sxs-lookup"><span data-stu-id="12211-202">The name must be lowercase and match the regex: ^[a-z][a-z0-9-]{1,61}[a-z0-9]$.</span></span> <span data-ttu-id="12211-203">Это имя может совпадать с IPv4-адресом.</span><span class="sxs-lookup"><span data-stu-id="12211-203">This can be the same name as the IPv4 address.</span></span> <span data-ttu-id="12211-204">Когда клиент отправляет запрос DNS для получения этого имени, то при предоставлении имени Azure возвращает как запись A, так и запись AAAA.</span><span class="sxs-lookup"><span data-stu-id="12211-204">When a client sends a DNS query for this name Azure will return both the A and AAAA records when the name is shared.</span></span> |
| <span data-ttu-id="12211-205">vmNamePrefix</span><span class="sxs-lookup"><span data-stu-id="12211-205">vmNamePrefix</span></span> |<span data-ttu-id="12211-206">Укажите префикс для имени виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="12211-206">Specify the VM name prefix.</span></span> <span data-ttu-id="12211-207">При создании виртуальных машин шаблоном к имени добавляется число (0, 1 и т. д.).</span><span class="sxs-lookup"><span data-stu-id="12211-207">The template appends a number (0, 1, etc.) to the name when the VMs are created.</span></span> |
| <span data-ttu-id="12211-208">nicNamePrefix</span><span class="sxs-lookup"><span data-stu-id="12211-208">nicNamePrefix</span></span> |<span data-ttu-id="12211-209">Укажите префикс для имени сетевого интерфейса.</span><span class="sxs-lookup"><span data-stu-id="12211-209">Specify the network interface name prefix.</span></span> <span data-ttu-id="12211-210">При создании сетевых интерфейсов шаблоном к имени добавляется число (0, 1 и т. д.).</span><span class="sxs-lookup"><span data-stu-id="12211-210">The template appends a number (0, 1, etc.) to the name when the network interfaces are created.</span></span> |
| <span data-ttu-id="12211-211">storageAccountName</span><span class="sxs-lookup"><span data-stu-id="12211-211">storageAccountName</span></span> |<span data-ttu-id="12211-212">Введите имя существующей учетной записи хранения или укажите имя новой записи, которая будет создана шаблоном.</span><span class="sxs-lookup"><span data-stu-id="12211-212">Enter the name of an existing storage account or specify the name of a new one to be created by the template.</span></span> |
| <span data-ttu-id="12211-213">availabilitySetName</span><span class="sxs-lookup"><span data-stu-id="12211-213">availabilitySetName</span></span> |<span data-ttu-id="12211-214">Введите имя группы доступности, которая будет использоваться с виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="12211-214">Enter then name of the availability set to be used with the VMs</span></span> |
| <span data-ttu-id="12211-215">addressPrefix</span><span class="sxs-lookup"><span data-stu-id="12211-215">addressPrefix</span></span> |<span data-ttu-id="12211-216">Префикс адреса, который используется для определения диапазона адресов виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="12211-216">The address prefix used to define the address range of the Virtual Network</span></span> |
| <span data-ttu-id="12211-217">subnetName</span><span class="sxs-lookup"><span data-stu-id="12211-217">subnetName</span></span> |<span data-ttu-id="12211-218">Имя подсети, создаваемой в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="12211-218">The name of the subnet in created for the VNet</span></span> |
| <span data-ttu-id="12211-219">subnetPrefix</span><span class="sxs-lookup"><span data-stu-id="12211-219">subnetPrefix</span></span> |<span data-ttu-id="12211-220">Префикс адреса, который используется для определения диапазона адресов подсети.</span><span class="sxs-lookup"><span data-stu-id="12211-220">The address prefix used to define the address range of the subnet</span></span> |
| <span data-ttu-id="12211-221">vnetName</span><span class="sxs-lookup"><span data-stu-id="12211-221">vnetName</span></span> |<span data-ttu-id="12211-222">Укажите имя для виртуальной сети, используемой виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="12211-222">Specify the name for the VNet used by the VMs.</span></span> |
| <span data-ttu-id="12211-223">ipv4PrivateIPAddressType</span><span class="sxs-lookup"><span data-stu-id="12211-223">ipv4PrivateIPAddressType</span></span> |<span data-ttu-id="12211-224">Метод распределения, используемый для частного IP-адреса (статический или динамический).</span><span class="sxs-lookup"><span data-stu-id="12211-224">The allocation method used for the private IP address (Static or Dynamic)</span></span> |
| <span data-ttu-id="12211-225">ipv6PrivateIPAddressType</span><span class="sxs-lookup"><span data-stu-id="12211-225">ipv6PrivateIPAddressType</span></span> |<span data-ttu-id="12211-226">Метод распределения, используемый для частного IP-адреса (динамический).</span><span class="sxs-lookup"><span data-stu-id="12211-226">The allocation method used for the private IP address (Dynamic).</span></span> <span data-ttu-id="12211-227">Протокол IPv6 поддерживает только динамическое распределение.</span><span class="sxs-lookup"><span data-stu-id="12211-227">IPv6 only supports Dynamic allocation.</span></span> |
| <span data-ttu-id="12211-228">numberOfInstances</span><span class="sxs-lookup"><span data-stu-id="12211-228">numberOfInstances</span></span> |<span data-ttu-id="12211-229">Количество экземпляров балансировщика нагрузки, развертываемых шаблоном.</span><span class="sxs-lookup"><span data-stu-id="12211-229">The number of load balanced instances deployed by the template</span></span> |
| <span data-ttu-id="12211-230">ipv4PublicIPAddressName</span><span class="sxs-lookup"><span data-stu-id="12211-230">ipv4PublicIPAddressName</span></span> |<span data-ttu-id="12211-231">Укажите DNS-имя, которое необходимо использовать для взаимодействия с общедоступным IPv4-адресом балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-231">Specify the DNS name you want to use to communicate with the public IPv4 address of the load balancer.</span></span> |
| <span data-ttu-id="12211-232">ipv4PublicIPAddressType</span><span class="sxs-lookup"><span data-stu-id="12211-232">ipv4PublicIPAddressType</span></span> |<span data-ttu-id="12211-233">Метод распределения, используемый для общедоступного IP-адреса (статический или динамический).</span><span class="sxs-lookup"><span data-stu-id="12211-233">The allocation method used for the public IP address (Static or Dynamic)</span></span> |
| <span data-ttu-id="12211-234">Ipv6PublicIPAddressName</span><span class="sxs-lookup"><span data-stu-id="12211-234">Ipv6PublicIPAddressName</span></span> |<span data-ttu-id="12211-235">Укажите DNS-имя, которое необходимо использовать для взаимодействия с общедоступным IPv6-адресом балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-235">Specify the DNS name you want to use to communicate with the public IPv6 address of the load balancer.</span></span> |
| <span data-ttu-id="12211-236">ipv6PublicIPAddressType</span><span class="sxs-lookup"><span data-stu-id="12211-236">ipv6PublicIPAddressType</span></span> |<span data-ttu-id="12211-237">Метод распределения, используемый для общедоступного IP-адреса (динамический).</span><span class="sxs-lookup"><span data-stu-id="12211-237">The allocation method used for the public IP address (Dynamic).</span></span> <span data-ttu-id="12211-238">Протокол IPv6 поддерживает только динамическое распределение.</span><span class="sxs-lookup"><span data-stu-id="12211-238">IPv6 only supports Dynamic allocation.</span></span> |
| <span data-ttu-id="12211-239">lbName</span><span class="sxs-lookup"><span data-stu-id="12211-239">lbName</span></span> |<span data-ttu-id="12211-240">Укажите имя балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="12211-240">Specify the name of the load balancer.</span></span> <span data-ttu-id="12211-241">Это имя отображается на портале, а также используется интерфейсом командной строки и командами PowerShell.</span><span class="sxs-lookup"><span data-stu-id="12211-241">This name is displayed in the portal or used when referring to it with a CLI or PowerShell command.</span></span> |

<span data-ttu-id="12211-242">Остальные переменные в шаблоне содержат производные значения, которые назначаются, когда Azure создает ресурсы.</span><span class="sxs-lookup"><span data-stu-id="12211-242">The remaining variables in the template contain derived values that are assigned when Azure creates the resources.</span></span> <span data-ttu-id="12211-243">Не изменяйте эти переменные.</span><span class="sxs-lookup"><span data-stu-id="12211-243">Do not change those variables.</span></span>
