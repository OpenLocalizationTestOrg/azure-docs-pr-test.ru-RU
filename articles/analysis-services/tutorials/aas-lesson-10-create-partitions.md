---
title: "Учебник по службам Azure Analysis Services: занятие 10 \"Создание секций\" | Документы Майкрософт"
description: "Описывает создание секций в учебном проекте служб Azure Analysis Services."
services: analysis-services
documentationcenter: 
author: Minewiskan
manager: kfile
editor: 
tags: 
ms.assetid: 
ms.service: analysis-services
ms.devlang: NA
ms.topic: get-started-article
ms.tgt_pltfrm: NA
ms.workload: na
ms.date: 01/08/2018
ms.author: owend
ms.openlocfilehash: a73836b784a5e86d01df51fb83d619890d56502a
ms.sourcegitcommit: 176c575aea7602682afd6214880aad0be6167c52
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/09/2018
---
# <a name="create-partitions"></a>Создание секций

В этом занятии вы создадите секции, чтобы разделить таблицу FactInternetSales на более мелкие логические части, которые можно обрабатывать (обновлять) независимо от других секций. По умолчанию каждая таблица, включенная в модель, состоит из одной секции, которая содержит все столбцы и строки. Для таблицы FactInternetSales нам нужно разделить данные по годам — по одной секции на каждые пять лет. После этого каждую секцию можно будет обрабатывать отдельно. Дополнительные сведения см. в статье [Секции](https://docs.microsoft.com/sql/analysis-services/tabular-models/partitions-ssas-tabular). 
  
Предполагаемое время выполнения этого занятия: **15 минут**  
  
## <a name="prerequisites"></a>Необходимые компоненты  
Этот раздел входит в учебник по табличному моделированию, который следует изучать в предложенном порядке. Прежде чем выполнять задачи в этом разделе, нужно завершить предыдущее занятие: [Занятие 9. Создание иерархий](../tutorials/aas-lesson-9-create-hierarchies.md).  
  
## <a name="create-partitions"></a>Создание секций  
  
#### <a name="to-create-partitions-in-the-factinternetsales-table"></a>Порядок создания секций в таблице FactInternetSales  
  
1.  В обозревателе табличных моделей разверните пункт **Таблицы** и щелкните правой кнопкой мыши **FactInternetSales** > **Секции**.  
  
2.  В диспетчере секций щелкните **Копировать**, а затем измените имя на **FactInternetSales2010**.
  
    Так как секция должна включать только строки за определенный период — 2010 год, нужно изменить выражение запроса.
  
4.  Щелкните **Конструктор**, чтобы открыть редактор запросов, а затем щелкните запрос **FactInternetSales2010**.

5.  В режиме предварительного просмотра щелкните стрелку вниз в заголовке столбца **OrderDate**, а затем выберите **Фильтры даты и времени** > **Между**.

    ![aas-lesson10-query-editor](../tutorials/media/aas-lesson10-query-editor.png)

6.  В поле **Показать строки со значением: OrderDate** диалогового окна "Фильтрация строк" оставьте значение **позже или одновременно** и введите в поле даты **1/1/2010**. Оставьте выбранным оператор **И**, выберите **ранее**, введите **1/1/2011** в поле даты и нажмите кнопку **ОК**.

    ![aas-lesson10-filter-rows](../tutorials/media/aas-lesson10-filter-rows.png)
    
    В разделе "Примененные шаги" редактора запросов появится еще один шаг с именем "Строки с примененным фильтром". Этот фильтр позволяет выбрать даты заказов за 2010 год.

8.  Щелкните **Импорт**.

    В диспетчере секций обратите внимание на то, что теперь выражение запроса имеет дополнительное предложение "Строки с примененным фильтром".

    ![aas-lesson10-query](../tutorials/media/aas-lesson10-query.png)
  
    Этот оператор указывает, что данная секция должна включать только данные из тех строк, где OrderDate относится к 2010 календарному году, как указано в предложении отфильтрованных строк.  
  
  
#### <a name="to-create-a-partition-for-the-2011-year"></a>Порядок создания секции для 2011 года  
  
1.  В списке секций выберите созданную ранее секцию **FactInternetSales2010**, и щелкните элемент **Копировать**.  Измените имя секции на **FactInternetSales2011**. 

    Для создания предложения отфильтрованных строк не требуется использовать редактор запросов. Так как вы скопировали запрос для 2010 года, достаточно внести в запрос небольшое изменение на 2011 г.
  
2.  Чтобы эта секция включала в себя только строки за 2011 год, в поле **Выражение запроса** замените значения года в предложении "Строки с примененным фильтром" на **2011** и **2012**, соответственно. Например:  
  
    ```  
    let
        Source = #"SQL/localhost;AdventureWorksDW2014",
        dbo_FactInternetSales = Source{[Schema="dbo",Item="FactInternetSales"]}[Data],
        #"Removed Columns" = Table.RemoveColumns(dbo_FactInternetSales,{"OrderDateKey", "DueDateKey", "ShipDateKey"}),
        #"Filtered Rows" = Table.SelectRows(#"Removed Columns", each [OrderDate] >= #datetime(2011, 1, 1, 0, 0, 0) and [OrderDate] < #datetime(2012, 1, 1, 0, 0, 0))
    in
        #"Filtered Rows"
   
    ```  
  
#### <a name="to-create-partitions-for-2012-2013-and-2014"></a>Порядок создания секций для 2012, 2013 и 2014 годов  
  
- Выполните описанные выше шаги, создав секции для 2012, 2013 и 2014 годов и изменив значения в предложении "Строки с примененным фильтром", чтобы включить только строки за соответствующий год. 
  

## <a name="delete-the-factinternetsales-partition"></a>Удаление секции FactInternetSales
Теперь, когда у вас есть секции для каждого года, можно удалить секцию FactInternetSales. Это позволяет предотвратить перекрытие при выборе параметра "Обработать все" для обработки секций.

#### <a name="to-delete-the-factinternetsales-partition"></a>Порядок удаления секции FactInternetSales
-  Щелкните секцию FactInternetSales и нажмите кнопку **Удалить**.



## <a name="process-partitions"></a>Обработка секций  
Обратите внимание, что столбец **Последняя обработка** для каждой новой секции в диспетчере секций показывает, что эти секции никогда не обрабатывались. При создании секций следует выполнить операцию "Обработать секции" или "Обработать таблицу" для обновления данных в них.  
  
#### <a name="to-process-the-factinternetsales-partitions"></a>Порядок обработки секций FactInternetSales  
  
1.  Нажмите кнопку **ОК**, диспетчер секций.  
  
2.  Щелкните таблицу **FactInternetSales**, откройте меню **Модель** и выберите **Обработка** > **Обработать секции**.  
  
3.  В диалоговом окне "Обработать секции" установите для параметра **Режим** значение **Обработка по умолчанию**.  
  
4.  Установите флажок в столбце **Обработка** для каждой из пяти созданных секций, а затем нажмите кнопку **ОК**.  

    ![aas-lesson10-process-partitions](../tutorials/media/aas-lesson10-process-partitions.png)
  
    Если запрашиваются учетные данные олицетворения, введите имя пользователя Windows и пароль, указанные в занятии 2.  
  
    Появляется диалоговое окно **Обработка данных** со сведениями об обработке каждой из секций. Обратите внимание, что для каждой секции передается разное количество строк. Каждая секция включает только строки за год, указанный в предложении WHERE инструкции SQL. По завершении обработки закройте диалоговое окно "Обработка данных".  
  
    ![aas-lesson10-process-complete](../tutorials/media/aas-lesson10-process-complete.png)
  
 ## <a name="whats-next"></a>Что дальше?
Перейдите к следующему разделу: [Занятие 11. Создание ролей](../tutorials/aas-lesson-11-create-roles.md). 
