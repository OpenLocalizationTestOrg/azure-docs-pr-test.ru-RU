---
title: "Аутентификация и разрешения пользователей в службах Azure Analysis Services | Документация Майкрософт"
description: "Узнайте о проверке подлинности и разрешениях пользователя в службах Azure Analysis Services."
services: analysis-services
documentationcenter: 
author: minewiskan
manager: erikre
editor: 
tags: 
ms.assetid: 
ms.service: analysis-services
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: na
ms.date: 08/15/2017
ms.author: owend
ms.openlocfilehash: 80dd9abdd6fd1e6bf024c1dd976466ff79ff98e7
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="authentication-and-user-permissions"></a><span data-ttu-id="562e8-103">Аутентификация и разрешения пользователей</span><span class="sxs-lookup"><span data-stu-id="562e8-103">Authentication and user permissions</span></span>
<span data-ttu-id="562e8-104">Azure Analysis Services использует Azure Active Directory (Azure AD) для управления удостоверениями и проверки подлинности пользователей.</span><span class="sxs-lookup"><span data-stu-id="562e8-104">Azure Analysis Services uses Azure Active Directory (Azure AD) for identity management and user authentication.</span></span> <span data-ttu-id="562e8-105">У любого пользователя, который создает сервер Azure Analysis Services, управляет им или подключается к нему, должно быть допустимое удостоверение пользователя в [клиенте Azure AD](../active-directory/active-directory-administer.md) в той же подписке.</span><span class="sxs-lookup"><span data-stu-id="562e8-105">Any user creating, managing, or connecting to an Azure Analysis Services server must have a valid user identity in an [Azure AD tenant](../active-directory/active-directory-administer.md) in the same subscription.</span></span>

<span data-ttu-id="562e8-106">Azure Analysis Services поддерживает [службу совместной работы Azure AD B2B](../active-directory/active-directory-b2b-what-is-azure-ad-b2b.md).</span><span class="sxs-lookup"><span data-stu-id="562e8-106">Azure Analysis Services supports [Azure AD B2B collaboration](../active-directory/active-directory-b2b-what-is-azure-ad-b2b.md).</span></span> <span data-ttu-id="562e8-107">С помощью B2B можно пригласить пользователей вне организации как гостевых пользователей в каталог Azure AD.</span><span class="sxs-lookup"><span data-stu-id="562e8-107">With B2B, users from outside an organization can be invited as guest users in an Azure AD directory.</span></span> <span data-ttu-id="562e8-108">Гости могут принадлежать другому каталогу клиента Azure AD или иметь любой допустимый адрес электронной почты.</span><span class="sxs-lookup"><span data-stu-id="562e8-108">Guests can be from another Azure AD tenant directory or any valid email address.</span></span> <span data-ttu-id="562e8-109">Если вы пригласили пользователя и он принимает приглашение, отправленное по электронной почте от Azure, удостоверение пользователя добавляется в каталог клиента.</span><span class="sxs-lookup"><span data-stu-id="562e8-109">Once invited and the user accepts the invitation sent by email from Azure, the user identity is added to the tenant directory.</span></span> <span data-ttu-id="562e8-110">Затем эти удостоверения можно добавить в группы безопасности либо как участников роли администратора сервера или роли базы данных.</span><span class="sxs-lookup"><span data-stu-id="562e8-110">Those identities can then be added to security groups or as members of a server administrator or database role.</span></span>

![Архитектура проверки подлинности Azure Analysis Services](./media/analysis-services-manage-users/aas-manage-users-arch.png)

## <a name="authentication"></a><span data-ttu-id="562e8-112">Аутентификация</span><span class="sxs-lookup"><span data-stu-id="562e8-112">Authentication</span></span>
<span data-ttu-id="562e8-113">Все клиентские приложения и средства используют одну или несколько [клиентских библиотек](analysis-services-data-providers.md) Analysis Services (AMO, MSOLAP, ADOMD) для подключения к серверу.</span><span class="sxs-lookup"><span data-stu-id="562e8-113">All client applications and tools use one or more of the Analysis Services [client libraries](analysis-services-data-providers.md) (AMO, MSOLAP, ADOMD) to connect to a server.</span></span> 

<span data-ttu-id="562e8-114">Все три клиентские библиотеки поддерживают интерактивный поток Azure AD и неинтерактивные методы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="562e8-114">All three client libraries support both Azure AD interactive flow, and non-interactive authentication methods.</span></span> <span data-ttu-id="562e8-115">Два неинтерактивных метода (проверку подлинности Active Directory и встроенную аутентификацию Active Directory) можно использовать в приложениях с применением AMOMD и MSOLAP.</span><span class="sxs-lookup"><span data-stu-id="562e8-115">The two non-interactive methods, Active Directory Password and Active Directory Integrated Authentication methods can be used in applications utilizing AMOMD and MSOLAP.</span></span> <span data-ttu-id="562e8-116">При использовании этих двух методов никогда не отображаются всплывающие диалоговые окна.</span><span class="sxs-lookup"><span data-stu-id="562e8-116">These two methods never result in pop-up dialog boxes.</span></span>

<span data-ttu-id="562e8-117">Вы можете обновить до последней версии такие клиентские приложения, как Excel и Power BI Desktop, а также такие средства, как SSMS и SSDT, чтобы установить последние версии библиотек.</span><span class="sxs-lookup"><span data-stu-id="562e8-117">Client applications like Excel and Power BI Desktop, and tools like SSMS and SSDT install the latest versions of the libraries when updated to the latest release.</span></span> <span data-ttu-id="562e8-118">Power BI Desktop, SSMS и SSDT обновляются каждый месяц.</span><span class="sxs-lookup"><span data-stu-id="562e8-118">Power BI Desktop, SSMS, and SSDT are updated monthly.</span></span> <span data-ttu-id="562e8-119">Excel можно [обновить с помощью Office 365](https://support.office.com/en-us/article/When-do-I-get-the-newest-features-in-Office-2016-for-Office-365-da36192c-58b9-4bc9-8d51-bb6eed468516).</span><span class="sxs-lookup"><span data-stu-id="562e8-119">Excel is [updated with Office 365](https://support.office.com/en-us/article/When-do-I-get-the-newest-features-in-Office-2016-for-Office-365-da36192c-58b9-4bc9-8d51-bb6eed468516).</span></span> <span data-ttu-id="562e8-120">Обновления Office 365 случаются реже, и некоторые организации используют отложенный канал, что означает задержку обновлений на период до трех месяцев.</span><span class="sxs-lookup"><span data-stu-id="562e8-120">Office 365 updates are less frequent, and some organizations use the deferred channel, meaning updates are deferred up to three months.</span></span>

 <span data-ttu-id="562e8-121">В зависимости от того, какое вы используете клиентское приложение или средство, тип проверки подлинности и способ входа могут отличаться.</span><span class="sxs-lookup"><span data-stu-id="562e8-121">Depending on the client application or tool you use, the type of authentication and how you sign in may be different.</span></span> <span data-ttu-id="562e8-122">Каждое приложение может поддерживать различные функции подключения к таким облачным службам, как Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="562e8-122">Each application may support different features for connecting to cloud services like Azure Analysis Services.</span></span>


### <a name="sql-server-management-studio-ssms"></a><span data-ttu-id="562e8-123">SQL Server Management Studio (SSMS);</span><span class="sxs-lookup"><span data-stu-id="562e8-123">SQL Server Management Studio (SSMS)</span></span>
<span data-ttu-id="562e8-124">Серверы Azure Analysis Services поддерживают подключения [SSMS V17.1](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms) и более поздних версий с помощью проверки подлинности Windows, проверки пароля Active Directory и универсальной проверки подлинности Active Directory.</span><span class="sxs-lookup"><span data-stu-id="562e8-124">Azure Analysis Services servers support connections from [SSMS V17.1](https://docs.microsoft.com/sql/ssms/download-sql-server-management-studio-ssms) and higher by using Windows Authentication, Active Directory Password Authentication, and Active Directory Universal Authentication.</span></span> <span data-ttu-id="562e8-125">В целом мы рекомендуем использовать универсальную проверку подлинности Active Directory, так она предоставляет следующую поддержку:</span><span class="sxs-lookup"><span data-stu-id="562e8-125">In general, it's recommended you use Active Directory Universal Authentication because:</span></span>

*  <span data-ttu-id="562e8-126">поддерживает интерактивные и неинтерактивные методы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="562e8-126">Supports interactive and non-interactive authentication methods.</span></span>

*  <span data-ttu-id="562e8-127">Поддерживает гостевых пользователей Azure B2B, приглашенных в клиент Azure AS.</span><span class="sxs-lookup"><span data-stu-id="562e8-127">Supports Azure B2B guest users invited into the Azure AS tenant.</span></span> <span data-ttu-id="562e8-128">При подключении к серверу гостевые пользователи должны выбрать универсальную проверку подлинности Active Directory.</span><span class="sxs-lookup"><span data-stu-id="562e8-128">When connecting to a server, guest users must select Active Directory Universal Authentication when connecting to the server.</span></span>

*  <span data-ttu-id="562e8-129">Поддерживает Многофакторную идентификацию (MFA).</span><span class="sxs-lookup"><span data-stu-id="562e8-129">Supports Multi-Factor Authentication (MFA).</span></span> <span data-ttu-id="562e8-130">Azure MFA помогает обеспечить безопасность доступа к данным и приложениям с помощью ряда вариантов проверки: посредством телефонного звонка, текстового сообщения, смарт-карт с ПИН-кодом или уведомления мобильного приложения.</span><span class="sxs-lookup"><span data-stu-id="562e8-130">Azure MFA helps safeguard access to data and applications with a range of verification options: phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="562e8-131">Интерактивная MFA с использованием Azure AD может привести к появлению всплывающего диалогового окна для реализации проверки.</span><span class="sxs-lookup"><span data-stu-id="562e8-131">Interactive MFA with Azure AD can result in a pop-up dialog box for validation.</span></span>

### <a name="sql-server-data-tools-ssdt"></a><span data-ttu-id="562e8-132">SQL Server Data Tools (SSDT)</span><span class="sxs-lookup"><span data-stu-id="562e8-132">SQL Server Data Tools (SSDT)</span></span>
<span data-ttu-id="562e8-133">SSDT подключается к Azure Analysis Services с помощью универсальной проверки подлинности Active Directory с поддержкой Многофакторной идентификации.</span><span class="sxs-lookup"><span data-stu-id="562e8-133">SSDT connects to Azure Analysis Services by using Active Directory Universal Authentication with MFA support.</span></span> <span data-ttu-id="562e8-134">Пользователям предлагается выполнить вход в Azure при первом развертывании с помощью идентификатора организации (электронной почты).</span><span class="sxs-lookup"><span data-stu-id="562e8-134">Users are prompted to sign in to Azure on the first deployment by using their organizational ID (email).</span></span> <span data-ttu-id="562e8-135">Пользователи должны войти в Azure с помощью учетной записи с разрешениями администратора сервера на соответствующем сервере.</span><span class="sxs-lookup"><span data-stu-id="562e8-135">Users must sign in to Azure with an account with server administrator permissions on the server they are deploying to.</span></span> <span data-ttu-id="562e8-136">При первом входе в Azure назначается маркер.</span><span class="sxs-lookup"><span data-stu-id="562e8-136">When signing in to Azure the first time, a token is assigned.</span></span> <span data-ttu-id="562e8-137">SSDT кэширует маркер в памяти для последующих повторных подключений.</span><span class="sxs-lookup"><span data-stu-id="562e8-137">SSDT caches the token in-memory for future reconnects.</span></span>

### <a name="power-bi-desktop"></a><span data-ttu-id="562e8-138">Power BI Desktop</span><span class="sxs-lookup"><span data-stu-id="562e8-138">Power BI Desktop</span></span>
<span data-ttu-id="562e8-139">Power BI Desktop подключается к Azure Analysis Services с помощью универсальной проверки подлинности Active Directory с поддержкой Многофакторной идентификации.</span><span class="sxs-lookup"><span data-stu-id="562e8-139">Power BI Desktop connects to Azure Analysis Services using Active Directory Universal Authentication with MFA support.</span></span> <span data-ttu-id="562e8-140">Пользователям предлагается выполнить вход в Azure при первом подключении с помощью идентификатора организации (электронной почты).</span><span class="sxs-lookup"><span data-stu-id="562e8-140">Users are prompted to sign in to Azure on the first connection by using their organizational ID (email).</span></span> <span data-ttu-id="562e8-141">Пользователям необходимо войти в Azure с помощью учетной записи, включенной в роли администратора сервера или пользователя базы данных.</span><span class="sxs-lookup"><span data-stu-id="562e8-141">Users must sign in to Azure with an account that is included in a server administrator or database role.</span></span>

### <a name="excel"></a><span data-ttu-id="562e8-142">Excel</span><span class="sxs-lookup"><span data-stu-id="562e8-142">Excel</span></span>
<span data-ttu-id="562e8-143">Пользователи Excel могут подключаться к серверу с помощью учетной записи Windows, идентификатора организации (адреса электронной почты) или внешнего адреса электронной почты.</span><span class="sxs-lookup"><span data-stu-id="562e8-143">Excel users can connect to a server by using a Windows account, an organization ID (email address), or an external email address.</span></span> <span data-ttu-id="562e8-144">Внешние удостоверения электронной почты должны существовать в Azure AD в качестве гостевых пользователей.</span><span class="sxs-lookup"><span data-stu-id="562e8-144">External email identities must exist in the Azure AD as a guest user.</span></span>

## <a name="user-permissions"></a><span data-ttu-id="562e8-145">Разрешения пользователя</span><span class="sxs-lookup"><span data-stu-id="562e8-145">User permissions</span></span>

<span data-ttu-id="562e8-146">**Администраторы сервера** относятся к экземпляру сервера Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="562e8-146">**Server administrators** are specific to an Azure Analysis Services server instance.</span></span> <span data-ttu-id="562e8-147">Они подключаются с помощью таких средств, как портал Azure, SSMS и SSDT, для выполнения таких задач, как добавление баз данных и управление ролями пользователей.</span><span class="sxs-lookup"><span data-stu-id="562e8-147">They connect with tools like Azure portal, SSMS, and SSDT to perform tasks like adding databases and managing user roles.</span></span> <span data-ttu-id="562e8-148">По умолчанию пользователь, который создает сервер, автоматически добавляется как администратор сервера Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="562e8-148">By default, the user that creates the server is automatically added as an Analysis Services server administrator.</span></span> <span data-ttu-id="562e8-149">Других администраторов можно добавить с помощью портала Azure или SSMS.</span><span class="sxs-lookup"><span data-stu-id="562e8-149">Other administrators can be added by using Azure portal or SSMS.</span></span> <span data-ttu-id="562e8-150">У администраторов сервера должна быть учетная запись в клиенте Azure AD в одной подписке.</span><span class="sxs-lookup"><span data-stu-id="562e8-150">Server administrators must have an account in the Azure AD tenant in the same subscription.</span></span> <span data-ttu-id="562e8-151">Дополнительные сведения см. в статье [Управление администраторами сервера](analysis-services-server-admins.md).</span><span class="sxs-lookup"><span data-stu-id="562e8-151">To learn more, see [Manage server administrators](analysis-services-server-admins.md).</span></span> 


<span data-ttu-id="562e8-152">**Пользователи базы данных** подключаются к шаблонам баз данных с помощью таких клиентских приложений, как Excel или Power BI.</span><span class="sxs-lookup"><span data-stu-id="562e8-152">**Database users** connect to model databases by using client applications like Excel or Power BI.</span></span> <span data-ttu-id="562e8-153">Пользователей нужно добавить в роли базы данных.</span><span class="sxs-lookup"><span data-stu-id="562e8-153">Users must be added to database roles.</span></span> <span data-ttu-id="562e8-154">Роли базы данных определяют администратора, процесс или разрешения на чтение для базы данных.</span><span class="sxs-lookup"><span data-stu-id="562e8-154">Database roles define administrator, process, or read permissions for a database.</span></span> <span data-ttu-id="562e8-155">Важно понимать, что пользователи базы данных с разрешениями администратора и администраторы сервера — это не одно и тоже.</span><span class="sxs-lookup"><span data-stu-id="562e8-155">It's important to understand database users in a role with administrator permissions is different than server administrators.</span></span> <span data-ttu-id="562e8-156">Тем не менее, по умолчанию администраторы сервера также являются администраторами базы данных.</span><span class="sxs-lookup"><span data-stu-id="562e8-156">However, by default, server administrators are also database administrators.</span></span> <span data-ttu-id="562e8-157">Дополнительные сведения см. в статье [Управление ролями и пользователями базы данных](analysis-services-database-users.md).</span><span class="sxs-lookup"><span data-stu-id="562e8-157">To learn more, see [Manage database roles and users](analysis-services-database-users.md).</span></span>

<span data-ttu-id="562e8-158">**Владельцы ресурса Azure**.</span><span class="sxs-lookup"><span data-stu-id="562e8-158">**Azure resource owners**.</span></span> <span data-ttu-id="562e8-159">Владельцы ресурса управляют ресурсами подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="562e8-159">Resource owners manage resources for an Azure subscription.</span></span> <span data-ttu-id="562e8-160">Владельцы ресурса могут добавить удостоверения пользователей Azure AD к ролям владельца или участника в подписке с помощью **управления доступом** на портале Azure или шаблонов Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="562e8-160">Resource owners can add Azure AD user identities to Owner or Contributor Roles within a subscription by using **Access control** in Azure portal, or with Azure Resource Manager templates.</span></span> 

![Управление доступом на портале Azure](./media/analysis-services-manage-users/aas-manage-users-rbac.png)

<span data-ttu-id="562e8-162">Роли на этом уровне применяются к пользователям или учетным записям, которым необходимо выполнить задачи на портале или с помощью шаблонов Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="562e8-162">Roles at this level apply to users or accounts that need to perform tasks that can be completed in the portal or by using Azure Resource Manager templates.</span></span> <span data-ttu-id="562e8-163">Дополнительные сведения см. в статье об [управлении доступом на основе ролей](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="562e8-163">To learn more, see [Role-Based Access Control](../active-directory/role-based-access-control-what-is.md).</span></span> 


## <a name="database-roles"></a><span data-ttu-id="562e8-164">Роли базы данных</span><span class="sxs-lookup"><span data-stu-id="562e8-164">Database roles</span></span>

 <span data-ttu-id="562e8-165">Роли, определенные для табличной модели, являются ролями базы данных.</span><span class="sxs-lookup"><span data-stu-id="562e8-165">Roles defined for a tabular model are database roles.</span></span> <span data-ttu-id="562e8-166">То есть, роли содержат участников, которые включают пользователей Azure AD и группы безопасности. У них есть специальные разрешения, определяющие действия, которые эти участники могут выполнять в отношении шаблона базы данных.</span><span class="sxs-lookup"><span data-stu-id="562e8-166">That is, the roles contain members consisting of Azure AD users and security groups that have specific permissions that define the action those members can take on a model database.</span></span> <span data-ttu-id="562e8-167">Роль базы данных создается как отдельный объект в базе данных и применяется только к базе данных, в которой она создана.</span><span class="sxs-lookup"><span data-stu-id="562e8-167">A database role is created as a separate object in the database, and applies only to the database in which that role is created.</span></span>   
  
 <span data-ttu-id="562e8-168">По умолчанию при создании нового проекта табличной модели этот проект не содержит никакие роли.</span><span class="sxs-lookup"><span data-stu-id="562e8-168">By default, when you create a new tabular model project, the model project does not have any roles.</span></span> <span data-ttu-id="562e8-169">Роли можно определить с помощью диалогового окна диспетчера ролей в SSDT.</span><span class="sxs-lookup"><span data-stu-id="562e8-169">Roles can be defined by using the Role Manager dialog box in SSDT.</span></span> <span data-ttu-id="562e8-170">При определении ролей во время разработки проекта модели они применяются только к базе данных рабочей области модели.</span><span class="sxs-lookup"><span data-stu-id="562e8-170">When roles are defined during model project design, they are applied only to the model workspace database.</span></span> <span data-ttu-id="562e8-171">Когда модель развернута, те же роли применяются к развернутой модели.</span><span class="sxs-lookup"><span data-stu-id="562e8-171">When the model is deployed, the same roles are applied to the deployed model.</span></span> <span data-ttu-id="562e8-172">После развертывания модели администраторы сервера и базы данных могут управлять ролями и участниками с помощью SSMS.</span><span class="sxs-lookup"><span data-stu-id="562e8-172">After a model has been deployed, server and database administrators can manage roles and members by using SSMS.</span></span> <span data-ttu-id="562e8-173">Дополнительные сведения см. в статье [Управление ролями и пользователями базы данных](analysis-services-database-users.md).</span><span class="sxs-lookup"><span data-stu-id="562e8-173">To learn more, see [Manage database roles and users](analysis-services-database-users.md).</span></span>
  


## <a name="next-steps"></a><span data-ttu-id="562e8-174">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="562e8-174">Next steps</span></span>

<span data-ttu-id="562e8-175">[Управление доступом к ресурсам с помощью групп Azure Active Directory](../active-directory/active-directory-manage-groups.md) </span><span class="sxs-lookup"><span data-stu-id="562e8-175">[Manage access to resources with Azure Active Directory groups](../active-directory/active-directory-manage-groups.md) </span></span>  
[<span data-ttu-id="562e8-176">Управление ролями и пользователями базы данных</span><span class="sxs-lookup"><span data-stu-id="562e8-176">Manage database roles and users</span></span>](analysis-services-database-users.md)  
[<span data-ttu-id="562e8-177">Управление администраторами сервера</span><span class="sxs-lookup"><span data-stu-id="562e8-177">Manage server administrators</span></span>](analysis-services-server-admins.md)  
[<span data-ttu-id="562e8-178">Контроль доступа на основе ролей</span><span class="sxs-lookup"><span data-stu-id="562e8-178">Role-Based Access Control</span></span>](../active-directory/role-based-access-control-what-is.md)  