---
title: "aaaHow tooperform потоковой трансляции с помощью служб мультимедиа Azure toocreate многоскоростной потоков с hello портал Azure | Документы Microsoft"
description: "Этот учебник последовательно по hello этапы создания канала, получает один-динамический поток и кодирует его toomulti потока с помощью портала Azure hello."
services: media-services
documentationcenter: 
author: anilmur
manager: cfowler
editor: 
ms.assetid: 504f74c2-3103-42a0-897b-9ff52f279e23
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 08/09/2017
ms.author: juliako
ms.openlocfilehash: 963a25b8ba4683a2ce34d9fb0e19499874b4707c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooperform-live-streaming-using-azure-media-services-toocreate-multi-bitrate-streams-with-hello-azure-portal"></a>Как tooperform потоковой трансляции с помощью служб мультимедиа Azure toocreate многоскоростной потоки с hello портал Azure
> [!div class="op_single_selector"]
> * [Портал](media-services-portal-creating-live-encoder-enabled-channel.md)
> * [.NET](media-services-dotnet-creating-live-encoder-enabled-channel.md)
> * [REST API](https://docs.microsoft.com/rest/api/media/operations/channel)
> 
> 

Этот учебник поможет выполнить этапы создания hello **канала** , получающее обновляющегося потока одним скоростью и кодирует его toomulti потока.

> [!NOTE]
> Для получения более подробных сведений см. связанные tooChannels, которые включены для динамического кодирования [потоковой трансляции с помощью служб мультимедиа Azure toocreate многоскоростной потоков](media-services-manage-live-encoder-enabled-channels.md).
> 
> 

## <a name="common-live-streaming-scenario"></a>Стандартный сценарий потоковой передачи в режиме реального времени
Hello ниже приведены общие шаги, связанные с созданием общих приложений потоковой передачи.

> [!NOTE]
> В настоящее время hello max рекомендуется длительность динамической события — 8 часов. Если вам требуется toorun канала для более длительного времени, обратитесь в службу amslived сайте Microsoft.com.
> 
> 

1. Подключение компьютера tooa камеры. Запустить и настроить на локальный динамический кодировщик, может выводить односкоростной поток в одном из следующих протоколов hello: RTMP, Smooth Streaming или RTP (MPEG-TS). Дополнительные сведения см. в статье о [поддержке протокола RTMP в службах мультимедиа Azure и о динамических кодировщиках](http://go.microsoft.com/fwlink/?LinkId=532824).
   
    Это действие также можно выполнить после создания канала.
2. Создайте и запустите канал. 
3. Получение hello канал приема URL-адрес. 
   
    URL-адрес приема Hello используется toohello hello динамического кодировщика toosend hello потока канала.
4. Получить URL-адрес предварительного просмотра канала hello. 
   
    Используйте этот URL-адрес tooverify, что ваш канал правильно получает hello обновляющегося потока.
5. Создайте событие или программу (при этом также будет создан ресурс). 
6. Опубликуйте событие hello (который будет создать указатель OnDemand для hello связанный ресурс).    
7. Начальное событие hello при готовности toostart потоковой передачи и архивированию.
8. При необходимости hello динамическому кодировщику можно сигнальное toostart объявления. объявления Hello вставляется в выходной поток hello.
9. Остановите hello событие каждый раз, когда требуется toostop потоковую передачу и архивировать событие hello.
10. Удалить событие hello (и при необходимости удалить средство hello).   

## <a name="in-this-tutorial"></a>В этом учебнике рассматриваются следующие темы:
В этом учебнике hello портал Azure — используется tooaccomplish hello, следующие задачи: 

1. Создание канала, динамического кодирования tooperform включена.
2. Get hello URL-адрес приема в порядке toosupply его toolive кодировщика. Hello динамический кодировщик будет использовать этот поток hello tooingest URL-адрес в hello канала.
3. Создание события или программы (и ресурса).
4. Публиковать hello активов, а URL-адреса потоковой передачи.  
5. Воспроизведение содержимого.
6. Очистка.

## <a name="prerequisites"></a>Предварительные требования
Здесь представлены Hello учебника требуется toocomplete hello.

* toocomplete этого учебника необходима учетная запись Azure. Если ее нет, можно создать бесплатную пробную учетную запись всего за несколько минут. 
  Дополнительные сведения см. в разделе [Бесплатная пробная версия Azure](https://azure.microsoft.com/pricing/free-trial/).
* Учетная запись служб мультимедиа. toocreate учетную запись служб носителей в разделе [Создание учетной записи](media-services-portal-create-account.md).
* Веб-камера и кодировщик, который передает динамический односкоростной поток данных.

## <a name="create-a-channel"></a>Создание канала
1. В hello [портал Azure](https://portal.azure.com/)выберите служб мультимедиа и щелкните имя учетной записи служб мультимедиа.
2. Выберите **Live Streaming**(Потоковая трансляция).
3. Щелкните **Настраиваемое создание**. Этот параметр позволяет создать канал с поддержкой кодирования в реальном времени.
   
    ![Создание канала](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-create-channel.png)
4. Щелкните **Параметры**.
   
   1. Выберите hello **динамического кодирования** тип канала. Этот тип Признак toocreate канал, который включен для динамического кодирования. Что означает hello входящий односкоростной поток отправляется toohello канала и кодируются в многоскоростной поток, используя параметры указанного динамического кодировщика. Дополнительные сведения см. в разделе [потоковой трансляции с помощью служб мультимедиа Azure toocreate многоскоростной потоков](media-services-manage-live-encoder-enabled-channels.md). Нажмите кнопку ОК.
   2. Укажите имя канала.
   3. Нажмите кнопку ОК hello нижней части экрана приветствия.
5. Выберите hello **приема** вкладки.
   
   1. На этой странице можно выбрать протокол потоковой передачи. Для hello **динамического кодирования** являются параметры протокола допустимый тип канала:
      
      * Односкоростной фрагментированный MP4 (Smooth Streaming)
      * односкоростной RTMP;
      * RTP (MPEG-TS): MPEG-2 TS по RTP.
        
        Подробное описание каждого протокола см. в разделе [потоковой трансляции с помощью служб мультимедиа Azure toocreate многоскоростной потоков](media-services-manage-live-encoder-enabled-channels.md).
        
        Невозможно изменить параметр протокола hello при hello канала или работы его связанных событий и программ. Если вам нужны другие протоколы потоковой передачи, создайте отдельный канал для каждого из них.  
   2. Ограничения IP-адресов можно применить на hello приема. 
      
       Можно определить hello IP адреса, которые являются допускается tooingest видео toothis канал. Разрешенные IP-адреса можно указать в виде одного IP-адреса (например, 10.0.0.1), диапазона IP-адресов, заданного с помощью IP-адреса и маски подсети CIDR (например, 10.0.0.1/22), или диапазона IP-адресов, заданного с помощью IP-адреса и маски подсети в десятичной записи (например, 10.0.0.1(255.255.252.0)).
      
       Если не указаны IP-адреса и не определено правило, разрешенных IP-адресов нет. tooallow любой IP-адрес, создайте правило и задайте 0.0.0.0/0.
6. На hello **предварительного просмотра** примените ограничения IP-адресов на hello предварительного просмотра.
7. На hello **кодировка** укажите предустановку hello. 
   
    В настоящее время hello только система — Предустановка, можно выбрать **по умолчанию 720p**. toospecify пользовательской конфигурации, откройте запрос в службу поддержки Майкрософт. Введите имя hello hello Предустановка создан. 

> [!NOTE]
> В настоящее время начала hello канала может занять too30 минут. Сброс каналов может занять too5 минут.
> 
> 

После создания канала hello можно щелкнуть на канале hello и выберите **параметры** где можно просмотреть настройки каналов. 

Дополнительные сведения см. в разделе [потоковой трансляции с помощью служб мультимедиа Azure toocreate многоскоростной потоков](media-services-manage-live-encoder-enabled-channels.md).

## <a name="get-ingest-urls"></a>Получение URL-адресов приема
После создания канала hello, вы можете получить URL-адреса, которые предоставят toohello динамического кодировщика приема. кодировщик Hello использует эти URL-адреса tooinput обновляющегося потока.

![ingesturls](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-ingest-urls.png)

## <a name="create-and-manage-events"></a>Создание событий и управление ими
### <a name="overview"></a>Обзор
Канал не сопоставлено события или программы, позволяющие toocontrol hello публикацией и хранением сегментов в потоковой трансляции. Каналы управляют событиями и программами. Hello каналом и программой связь является очень похожа tootraditional мультимедиа, где канал передает постоянный поток содержимого, а программа области toosome истекло время ожидания события в канале.

Можно указать hello количество часов, требуется содержимое tooretain hello записанные события hello параметр hello **размер окна архива** длины. Это значение может быть задано в диапазоне от 5 минут до tooa 25 часов. Размер окна архива также указывает максимальное количество раз, когда клиенты могут вернуться назад от текущей позиции трансляции hello hello. События могут быть запущены по hello определенный промежуток времени, но контент за пределами hello длину промежутка постоянно удаляется. Это значение этого свойства также определяет, как долго клиента hello манифестов может увеличиваться.

Каждое событие связано с ресурсом. событие toopublish hello, необходимо создать указатель OnDemand для hello связанные средства. Наличие указателя позволит toobuild URL-адрес потоковой передачи, могут предоставить клиентам tooyour.

Канал поддерживает до toothree, одновременно выполняемых события, поэтому можно создавать несколько архивов hello того же входящего потока. Это позволяет toopublish и архивировать разные части события при необходимости. Например ваших бизнес-требований — tooarchive 6-часовой событий, но toobroadcast только последние 10 минут. tooaccomplish это, необходимо toocreate два одновременно выполняемых событий. Одно событие установлено tooarchive 6 часов hello события, но программа hello не публикуется. Hello другое событие является tooarchive набор на 10 минут и публикации этой программы.

Не используйте существующие программы повторно для новых мероприятий. Вместо этого создайте и запустите новую программу для каждого события.

Запуск событий или программа при готовности toostart потоковой передачи и архивированию. Остановите hello событие каждый раз, когда требуется toostop потоковую передачу и архивировать событие hello. 

toodelete архивировать содержимое, остановить и удалить событие hello и затем удалите связанный ресурс hello. Актив нельзя удалить, если он используется hello события; Сначала необходимо удалить событие Hello. 

Даже после остановки и удаления событий hello, hello пользователей будет доступ toostream заархивированный контент как видео по запросу, до тех пор, пока вы не удалите hello активов.

Если вы хотите архивировать hello tooretain содержимого, но не было доступно для потоковой передачи, удалите hello потоковой передачи указателя.

### <a name="createstartstop-events"></a>Создание, запуск и остановка событий
После создания потока hello поступать в канал hello можно начать hello потоковой передачи событий путем создания актива, программы и указателя потоковой передачи. Это будет архивировать hello потока и сделать ее доступной tooviewers через hello конечной точки потоковой передачи. 

>[!NOTE]
>При создании учетной записи AMS **по умолчанию** конечной точки потоковой передачи в hello добавлена учетная запись tooyour **остановлена** состояния. Потоковая передача вашего содержимого и примите преимуществами динамической упаковки и динамического шифрования toostart hello конечной точки потоковой передачи, из которого нужно имеет содержимое toostream toobe в hello **под управлением** состояния. 

Существует два способа toostart событий: 

1. Из hello **канала** , нажмите **Live события** tooadd новое событие.
   
    Укажите название события и ресурса, окно архивирования и вариант кодирования.
   
    ![createprogram](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-create-program.png)
   
    Если оставить **Опубликовать сейчас это событие динамической** этот флажок установлен, hello hello событий публикации URL-адреса будут создаваться.
   
    Можно нажать клавишу **запустить**, всякий раз, когда вы готовы toostream hello событий.
   
    После запуска события hello, можно нажать клавишу **Контрольные значения** toostart воспроизведения содержимого hello.
2. Кроме того, можно использовать ярлык и нажмите клавишу **эксплуатацию** кнопку на hello **канала** страницы. В результате будут созданы ресурс по умолчанию, программа и указатель потоковой передачи.
   
    событие Hello называется **по умолчанию** и задайте размер окна архива hello too8 часов.

Вы можете ознакомиться с hello опубликованное событие из hello **интерактивного события** страницы. 

После нажатия кнопки **Off Air**(Прекратить трансляцию) трансляция всех событий остановится. 

## <a name="watch-hello-event"></a>Событие hello Контрольное значение
событие toowatch hello, нажмите кнопку **Контрольные значения** в hello Azure hello портала или Копировать URL-адрес потоковой передачи и использовать проигрыватель, по своему усмотрению. 

![Создано](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-play-event.png)

Трансляция автоматически преобразует содержимое tooon запросу события после остановки.

## <a name="clean-up"></a>Очистка
Если вы закончите потоковой передачи событий и tooclean ранее подготовки ресурсов hello, выполните процедуры hello.

* Остановите передачу потока hello из кодировщика hello.
* Остановите канал hello. После остановки канала hello, все расходы не будет выполнен. При необходимости toostart его снова, она будет иметь hello же приема URL-адрес, устраняя необходимость tooreconfigure кодировщика.
* Вы можете остановить конечную точку потоковой передачи, если не требуется, чтобы архив hello tooprovide toocontinue передачи интерактивного события в виде потока по запросу. Если канал hello находится в остановленном состоянии, не будет выполнен все расходы.

## <a name="view-archived-content"></a>Просмотр архивного содержимого
Даже после остановки и удаления событий hello, hello пользователей будет доступ toostream заархивированный контент как видео по запросу, до тех пор, пока вы не удалите hello активов. Актив нельзя удалить, если он используется в событии; Сначала необходимо удалить событие Hello. 

Выберите Ваши активы toomanage **параметр** и нажмите кнопку **активы**.

![Активы](./media/media-services-portal-creating-live-encoder-enabled-channel/media-services-assets.png)

## <a name="considerations"></a>Рекомендации
* В настоящее время hello max рекомендуется длительность динамической события — 8 часов. Если вам требуется toorun канала для более длительного времени, обратитесь в службу amslived сайте Microsoft.com.
* Убедитесь, что контент потоковой передачи конечной точки, из которого нужно toostream hello в hello **под управлением** состояния.

## <a name="next-step"></a>Дальнейшие действия
Просмотрите схемы обучения работе со службами мультимедиа.

[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a>Отзывы
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

