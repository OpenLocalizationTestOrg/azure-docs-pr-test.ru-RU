---
title: "Сценарии служб службы мультимедиа Microsoft Azure и доступность функций в центрах обработки данных | Документация Майкрософт"
description: "В этой статье приводится обзор сценариев служб мультимедиа Microsoft Azure и доступность функций и служб в центрах обработки данных."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: hero-article
ms.date: 07/10/2017
ms.author: juliako;anilmur
ms.openlocfilehash: d9994dd7bfb6b6bf949a7708c07651d667929ae4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="scenarios-and-availability-of-media-services-features-across-datacenters"></a>Сценарии и доступность функций служб мультимедиа в центрах обработки данных

Службы мультимедиа Microsoft Azure (AMS) позволяют безопасно передавать, сохранять, кодировать и упаковывать видео- или аудиосодержимое для потоковой трансляции разным клиентам (например, на ТВ, ПК и мобильные устройства) или для трансляции по требованию.

AMS работает на основе множества центров обработки данных по всему миру. Эти центры обработки данных объединены в группы по географическому признаку, обеспечивая гибкость при выборе расположения для создания приложений. Вы можете просмотреть [список регионов и расположений](https://azure.microsoft.com/regions/). 

В этом разделе приведены типичные сценарии доставки содержимого [динамически](#live_scenarios) или [по запросу](#vod_scenarios). Здесь также приведены сведения о доступности функций мультимедиа и служб в центрах обработки данных.

## <a name="overview"></a>Обзор

### <a name="prerequisites"></a>Предварительные требования

Приступить к использованию служб мультимедиа Azure можно только при наличии следующих компонентов.

* Учетная запись Azure. Если ее нет, можно создать бесплатную пробную учетную запись всего за несколько минут. Дополнительные сведения см. в разделе [Бесплатная пробная версия Azure](https://azure.microsoft.com).
* Учетная запись служб мультимедиа Azure. Дополнительные сведения см. в статье [Создание учетной записи служб мультимедиа Azure с помощью портала Azure](media-services-portal-create-account.md).
* Конечная точка потоковой передачи, из которой нужно передавать содержимое потоком, должна находиться в состоянии **Выполняется**.

    При создании учетной записи AMS в нее добавляется конечная точка потоковой передачи **по умолчанию** в состоянии **Остановлена**. Чтобы начать потоковую передачу содержимого и воспользоваться динамической упаковкой и динамическим шифрованием, конечная точка потоковой передачи должна находиться в состоянии **Выполняется**.

### <a name="commonly-used-objects-when-developing-against-the-ams-odata-model"></a>часто используемые объекты при разработке с помощью модели OData AMS

На следующем рисунке показаны некоторые из объектов, которые чаще всего используются при разработке с использованием модели OData служб мультимедиа.

Щелкните изображение, чтобы просмотреть его полноразмерную версию.  

<a href="./media/media-services-overview/media-services-overview-object-model.png" target="_blank"><img src="./media/media-services-overview/media-services-overview-object-model-small.png"></a> 

Всю модель можно просмотреть [здесь](https://media.windows.net/API/$metadata?api-version=2.15).  

## <a name="protect-content-in-storage-and-deliver-streaming-media-in-the-clear-non-encrypted"></a>Защита содержимого в хранилище и доставка потокового мультимедиа в незашифрованном виде

![Рабочий процесс для видео по запросу](./media/scenarios-and-availability/scenarios-and-availability01.png)

1. Отправьте файл мультимедиа высокого качества в ресурс.

    Рекомендуется применять параметр шифрования хранилища для ресурса, чтобы защитить содержимое при отправке и хранении.
2. Кодирование в набор MP4-файлов с адаптивным битрейтом.

    Рекомендуется применять параметр шифрования хранилища для выходного ресурса, чтобы защитить содержимое при хранении.
3. Настройка политики доставки ресурсов (используется динамической упаковкой).

    Если ресурс зашифрован в хранилище, **нужно** настроить политику доставки ресурсов.
4. Опубликуйте ресурс, создав указатель OnDemand.
5. Потоковая передача содержимого.

Дополнительные сведения о доступности в центрах обработки данных см. в разделе [Доступность](#availability).

## <a name="protect-content-in-storage-deliver-dynamically-encrypted-streaming-media"></a>Защита содержимого в хранилище, доставка потокового мультимедиа с динамическим шифрованием

![Защита с помощью PlayReady](./media/media-services-content-protection-overview/media-services-content-protection-with-multi-drm.png)

1. Отправьте файл мультимедиа высокого качества в ресурс. Примените шифрование хранилища к ресурсу.
2. Кодирование в набор MP4-файлов с адаптивным битрейтом. Примените шифрование хранилища к выходному ресурсу.
3. Создайте ключ шифрования содержимого для ресурса, который вы хотите динамически шифровать во время воспроизведения.
4. Настройте политику авторизации ключа содержимого.
5. Настройте политику доставки ресурсов (она используется средствами динамической упаковки и шифрования).
6. Опубликуйте ресурс, создав указатель OnDemand.
7. Потоковая передача содержимого.

Дополнительные сведения о доступности в центрах обработки данных см. в разделе [Доступность](#availability).

## <a name="use-media-analytics-to-derive-actionable-insights-from-your-videos"></a>Использование служб медиа-аналитики для принятия важных решений на основе видео

Службы медиа-аналитики включают набор речевых и визуальных компонентов, которые помогают организациям и компаниям выполнять анализ видеофайлов. Дополнительные сведения см. в статье [Общие сведения об аналитике служб мультимедиа Azure](media-services-analytics-overview.md).

1. Отправьте файл мультимедиа высокого качества в ресурс.
2. Дополнительные сведения об обработке видео с помощью одной из служб медиа-аналитики см. в статье [Медиа-аналитика на платформе служб мультимедиа](media-services-analytics-overview.md).
3. Обработчики мультимедийных данных служб медиа-аналитики создают файлы в формате MP4 или JSON. Если обработчик мультимедиа создает файл в формате MP4, такой файл можно скачать постепенно. Если обработчик мультимедиа создает файл в формате JSON, такой файл можно скачать из хранилища BLOB-объектов.

Дополнительные сведения о доступности в центрах обработки данных см. в разделе [Доступность](#availability).

## <a name="deliver-progressive-download"></a>Использование прогрессивного скачивания

1. Отправьте файл мультимедиа высокого качества в ресурс.
2. Кодирование в один MP4-файл.
3. Опубликуйте ресурс, создав указатель OnDemand или SAS.

    При использовании указателя SAS содержимое скачивается из хранилища BLOB-объектов Azure. В этом случае вам не нужны конечные точки потоковой передачи в состоянии "Запущено".
4. Прогрессивное скачивание содержимого.

## <a id="live_scenarios"></a>Доставка событий потоковой передачи в режиме реального времени 

1. Принимайте содержимое в реальном времени с использованием различных протоколов динамической потоковой передачи (например, RTMP или Smooth Streaming).
2. Кодируйте ваш поток в поток с адаптивной скоростью (по желанию).
3. Предварительно просматривайте динамический поток.
4. Доставляйте содержимое посредством общих потоковых протоколов (например, MPEG DASH, Smooth, HLS) непосредственно клиентам или в сеть доставки содержимого (CDN) для дальнейшего распространения.

    -или-

    Записывайте и храните принятое содержимое для потоковой передачи в дальнейшем (видео по запросу).

При динамической потоковой передаче можно выбрать один из следующих маршрутов.

### <a name="working-with-channels-that-receive-multi-bitrate-live-stream-from-on-premises-encoders-pass-through"></a>Работа с каналами, получающими динамические многоскоростные потоки данных от локальных кодировщиков (сквозная передача)

На следующей схеме показаны основные части платформы AMS, участвующие в рабочем процессе **сквозной передачи** .

![Динамический рабочий процесс](./media/scenarios-and-availability/media-services-live-streaming-current.png)

Дополнительные сведения см. в разделе [Работа с каналами, получающими динамические многоскоростные потоки данных от локальных кодировщиков (сквозная передача)](media-services-live-streaming-with-onprem-encoders.md).

### <a name="working-with-channels-that-are-enabled-to-perform-live-encoding-with-azure-media-services"></a>Работа с каналами, выполняющими кодирование в реальном времени с помощью служб мультимедиа Azure

На следующей схеме показаны основные части платформы AMS, участвующие в процессе динамическое потоковой передачи, где для кодировщика включено динамическое кодирование с помощью служб мультимедиа.

![Динамический рабочий процесс](./media/scenarios-and-availability/media-services-live-streaming-new.png)

Дополнительные сведения можно найти в разделе [Работа с каналами, выполняющими кодирование в реальном времени с помощью служб мультимедиа Azure](media-services-manage-live-encoder-enabled-channels.md).

Дополнительные сведения о доступности в центрах обработки данных см. в разделе [Доступность](#availability).

## <a name="consuming-content"></a>Использование содержимого

Службы мультимедиа Azure предоставляют средства, необходимые для создания динамических многофункциональных клиентских приложений проигрывателя для большинства платформ, включая: устройства iOS, устройства Android, Windows, Windows Phone, Xbox и абонентские приставки. В указанном ниже разделе приведены ссылки на пакеты SDK и платформы проигрывателей, которые можно использовать для разработки собственных клиентских приложений, способных использовать потоковое мультимедийное содержимое, находящееся в службах мультимедиа. Дополнительные сведения см. в статье [Разработка приложений видеопроигрывателя](media-services-develop-video-players.md).

## <a name="enabling-azure-cdn"></a>Поддержка сети CDN Azure

Службы мультимедиа поддерживают интеграцию с сетью CDN Azure. Информацию о включении сети CDN Azure см. в статье [Управление конечными точками потоковой передачи в учетной записи служб мультимедиа](media-services-portal-manage-streaming-endpoints.md).

## <a id="scaling"></a>Масштабирование учетной записи служб мультимедиа

Клиенты AMS могут масштабировать конечные точки потоковой передачи, обработку мультимедиа и хранилище в своих учетных записях AMS.

* Клиенты службы мультимедиа могут выбрать конечную точку потоковой передачи уровня **Стандартный** либо **Премиум**. Конечная точка потоковой передачи уровня **Стандартный** подходит для большинства задач потоковой передачи. Она включает те же функции, что и конечные точки потоковой передачи уровня **Премиум**, и автоматически масштабирует пропускную способность при передаче исходящих данных. 

    Конечные точки уровня **Премиум** подходят для выполнения более сложных задач благодаря выделенной пропускной способности и возможности масштабирования. Клиенты, имеющие конечную точку потоковой передачи уровня **Премиум**, по умолчанию получают одну единицу потоковой передачи. Конечную точку потоковой передачи можно масштабировать, добавляя единицы потоковой передачи. Каждая единица потоковой передачи предоставляет дополнительную пропускную способность для приложения. Дополнительные сведения о масштабировании конечных точек потоковой передачи **Премиум** см. в статье [Масштабирование конечных точек потоковой передачи с помощью портала Azure](media-services-portal-scale-streaming-endpoints.md).

* Учетная запись служб мультимедиа связана с типом зарезервированных единиц, который определяет скорость обработки задач обработки мультимедиа. Вы можете выбрать один из следующих типов зарезервированных единиц: **S1**, **S2** или **S3**. Например, если использовать тип зарезервированной единицы **S2**, задание по кодированию выполняется быстрее по сравнению заданием, для которого выбран тип **S1**.

    Помимо указания типа зарезервированных единиц, можно также указать параметр, позволяющий использовать **зарезервированные единицы** при подготовке учетной записи. Количеством подготовленных зарезервированных единиц определяется количество задач мультимедиа, которые могут одновременно обрабатываться в данной учетной записи.

    >[!NOTE]
    >Зарезервированные единицы позволяют распараллелить всю обработку мультимедиа, включая задания индексирования с использованием индексатора мультимедийных данных Azure. Однако в отличие от кодировки, задания индексирования не будут обрабатываться быстрее при использовании более производительных зарезервированных единиц.

    Дополнительные сведения см. в статье [Изменение типа зарезервированных единиц](media-services-portal-scale-media-processing.md).
* Можно также масштабировать учетную запись служб мультимедиа, добавляя к ней учетные записи хранения. Каждая учетная запись хранения ограничена 500 ТБ. Чтобы увеличить емкость хранилища за пределы ограничений по умолчанию, можно присоединить несколько учетных записей хранения для одной учетной записи служб мультимедиа. Дополнительные сведения см. в статье [Управление активами служб мультимедиа в нескольких учетных записях хранения](meda-services-managing-multiple-storage-accounts.md).

##<a id="availability"></a>Доступность функций служб мультимедиа в центрах обработки данных

Этот раздел предоставляет сведения о доступности функций служб мультимедиа в центрах обработки данных.

### <a name="ams-accounts"></a>Учетные записи AMS

#### <a name="availability"></a>Доступность

Учетные записи служб мультимедиа можно создать в следующих регионах: "Северная Европа", "Западная Европа", "Западная часть США", "Восточная часть США", "Юго-Восточная Азия", "Восточная Азия", "Западная Япония", "Восточная Япония", "Южная Бразилия", "Западная Индия", "Южная Индия" и "Центральная Индия". 

### <a name="streaming-endpoints"></a>Конечные точки потоковой передачи 

Клиенты службы мультимедиа могут выбрать конечную точку потоковой передачи уровня **Стандартный** либо **Премиум**. Дополнительные сведения см. в разделе [масштабирования](#scaling).

#### <a name="availability"></a>Доступность

|Имя|Состояние|Центры обработки данных
|---|---|---|
|Стандартная|GA|Все|
|Премиум|GA|Все|

### <a name="live-encoding"></a>Кодирование в реальном времени

#### <a name="availability"></a>Доступность

Доступны во всех центрах обработки данных, за исключением регионов: "Германия", "Южная Бразилия", "Западная Индия", "Южная Индия" и "Центральная Индия". 

### <a name="encoding-media-processors"></a>Кодировщики мультимедиа

AMS предлагает два кодировщика по требованию: **Media Encoder Standard** и **Расширенный рабочий процесс кодировщика мультимедиа**. Дополнительные сведения см. в статье [Как закодировать ресурс с помощью Media Encoder Standard](media-services-encode-asset.md). 

#### <a name="availability"></a>Доступность

|Имя обработчика мультимедиа|Состояние|Центры обработки данных
|---|---|---|
|Стандартный кодировщик служб мультимедиа|GA|Все|
|Расширенный рабочий процесс кодировщика мультимедиа|GA|Все, кроме региона "Китай"|

### <a name="analytics-media-processors"></a>Обработчики мультимедиа аналитики

Службы медиа-аналитики включают в себя набор речевых и визуальных компонентов, которые помогают организациям и компаниям выполнять анализ видеофайлов. Дополнительные сведения см. в статье [Общие сведения об аналитике служб мультимедиа Azure](media-services-analytics-overview.md).

#### <a name="availability"></a>Доступность

|Имя обработчика мультимедиа|Состояние|Центры обработки данных
|---|---|---|
|Azure Media Face Detector|Предварительный просмотр|Все|
|Azure Media Hyperlapse|Предварительный просмотр|Все|
|Azure Media Indexer|GA|Все|
|Azure Media Motion Detector|Предварительный просмотр|Все|
|Azure Media OCR|Предварительный просмотр|Все|
|Azure Media Redactor|Предварительный просмотр|Все|
|Azure Media Stabilizer|Предварительный просмотр|Все|
|Azure Media Video Thumbnails|Предварительный просмотр|Все|
|Azure Media Indexer 2|Предварительный просмотр|Все, кроме регионов "Китай" и "Федеральное правительство США"|

### <a name="protection"></a>Защита

Службы мультимедиа Microsoft Azure позволяют защитить данные мультимедиа, покидающие ваш компьютер, на этапах их хранения, обработки и доставки. Дополнительные сведения см. в статье [Общие сведения о защите содержимого](media-services-content-protection-overview.md).

#### <a name="availability"></a>Доступность

|Шифрование|Состояние|Центры обработки данных|
|---|---|---| 
|Хранилище|GA|Все|
|Ключи AES-128|GA|Все|
|FairPlay|GA|Все|
|PlayReady|GA|Все|
|Widevine|GA|Все, кроме Германии, федерального правительства США и Китая.

### <a name="reserved-units-rus"></a>Зарезервированные единицы

Количеством подготовленных зарезервированных единиц определяется количество задач мультимедиа, которые могут одновременно обрабатываться в данной учетной записи. 

Дополнительные сведения см. в разделе [масштабирования](#scaling).

#### <a name="availability"></a>Доступность

Доступно во всех центрах обработки данных.

### <a name="reserved-unit-ru-type"></a>Тип зарезервированных единиц

Учетная запись служб мультимедиа связана с типом зарезервированных единиц, который определяет скорость обработки задач обработки мультимедиа. Вы можете выбрать один из следующих типов зарезервированных единиц: S1, S2 или S3.

Дополнительные сведения см. в разделе [масштабирования](#scaling).

#### <a name="availability"></a>Доступность

|Имя типа зарезервированных единиц|Состояние|Центры обработки данных
|---|---|---|
|S1|GA|Все|
|S2|GA|Все регионы, кроме "Южная Бразилия" и "Западная Индия"|
|S3|GA|Все регионы, кроме "Западная Индия"|

## <a name="next-steps"></a>Дальнейшие действия

Просмотрите схемы обучения работе со службами мультимедиа.

[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a>Отзывы
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

