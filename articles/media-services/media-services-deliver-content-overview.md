---
title: "aaaDelivering содержимого toocustomers | Документы Microsoft"
description: "В этой статье представлен обзор доставки содержимого с помощью служб мультимедиа Azure."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: 89ede54a-6a9c-4814-9858-dcfbb5f4fed5
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: 0570bd62d9d42633df0132f9449b357e2abb4086
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="deliver-content-toocustomers"></a><span data-ttu-id="c448c-103">Доставка содержимого toocustomers</span><span class="sxs-lookup"><span data-stu-id="c448c-103">Deliver content toocustomers</span></span>
<span data-ttu-id="c448c-104">Когда доставка потоковой передачи или видео по запросу содержимого toocustomers, ваша цель состоит в toodeliver устройств toovarious видео высокого качества условиях другую сеть.</span><span class="sxs-lookup"><span data-stu-id="c448c-104">When you're delivering your streaming or video-on-demand content toocustomers, your goal is toodeliver high-quality video toovarious devices under different network conditions.</span></span>

<span data-ttu-id="c448c-105">tooachieve этой цели вы можете:</span><span class="sxs-lookup"><span data-stu-id="c448c-105">tooachieve this goal, you can:</span></span>

* <span data-ttu-id="c448c-106">Кодирование поток tooa потокового видео многоскоростной (адаптивный битрейт).</span><span class="sxs-lookup"><span data-stu-id="c448c-106">Encode your stream tooa multi-bitrate (adaptive bitrate) video stream.</span></span> <span data-ttu-id="c448c-107">Это позволит соблюдать различные уровни качества и условия сети.</span><span class="sxs-lookup"><span data-stu-id="c448c-107">This will take care of quality and network conditions.</span></span>
* <span data-ttu-id="c448c-108">Использование служб мультимедиа Microsoft Azure [динамической упаковки](media-services-dynamic-packaging-overview.md) toodynamically повторно упаковать потока в различных протоколов.</span><span class="sxs-lookup"><span data-stu-id="c448c-108">Use Microsoft Azure Media Services [dynamic packaging](media-services-dynamic-packaging-overview.md) toodynamically re-package your stream into different protocols.</span></span> <span data-ttu-id="c448c-109">Это позволит транслировать поток на разных устройствах.</span><span class="sxs-lookup"><span data-stu-id="c448c-109">This will take care of streaming on different devices.</span></span> <span data-ttu-id="c448c-110">Службы мультимедиа поддерживают доставку hello следующие технологии потоковой передачи с адаптивной скоростью: HTTP Live Streaming (HLS), Smooth Streaming и MPEG-DASH.</span><span class="sxs-lookup"><span data-stu-id="c448c-110">Media Services supports delivery of hello following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG-DASH.</span></span>

>[!NOTE]
><span data-ttu-id="c448c-111">При создании учетной записи AMS **по умолчанию** конечной точки потоковой передачи в hello добавлена учетная запись tooyour **остановлена** состояния.</span><span class="sxs-lookup"><span data-stu-id="c448c-111">When your AMS account is created a **default** streaming endpoint is added tooyour account in hello **Stopped** state.</span></span> <span data-ttu-id="c448c-112">Потоковая передача вашего содержимого и примите преимуществами динамической упаковки и динамического шифрования toostart hello конечной точки потоковой передачи, из которого нужно имеет содержимое toostream toobe в hello **под управлением** состояния.</span><span class="sxs-lookup"><span data-stu-id="c448c-112">toostart streaming your content and take advantage of dynamic packaging and dynamic encryption, hello streaming endpoint from which you want toostream content has toobe in hello **Running** state.</span></span> 

<span data-ttu-id="c448c-113">В этой статье приводится обзор важных понятий, связанных с доставкой содержимого.</span><span class="sxs-lookup"><span data-stu-id="c448c-113">This article gives an overview of important content delivery concepts.</span></span>

<span data-ttu-id="c448c-114">Известные проблемы, toocheck в разделе [известные проблемы](media-services-deliver-content-overview.md#known-issues).</span><span class="sxs-lookup"><span data-stu-id="c448c-114">toocheck known issues, see [Known issues](media-services-deliver-content-overview.md#known-issues).</span></span>

## <a name="dynamic-packaging"></a><span data-ttu-id="c448c-115">Динамическая упаковка</span><span class="sxs-lookup"><span data-stu-id="c448c-115">Dynamic packaging</span></span>
<span data-ttu-id="c448c-116">При использовании динамической упаковки hello, Media Services предоставляет, можно доставлять контент MP4 или Smooth Streaming закодированный с адаптивной скоростью в потоковом форматы, поддерживаемые службами мультимедиа (MPEG-DASH, HLS, Smooth Streaming) без необходимости toore пакета в Эти форматы потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="c448c-116">With hello dynamic packaging that Media Services provides, you can deliver your adaptive bitrate MP4 or Smooth Streaming encoded content in streaming formats supported by Media Services (MPEG-DASH, HLS, Smooth Streaming,) without having toore-package into these streaming formats.</span></span> <span data-ttu-id="c448c-117">Мы рекомендуем доставлять содержимое с помощью динамической упаковки.</span><span class="sxs-lookup"><span data-stu-id="c448c-117">We recommend delivering your content with dynamic packaging.</span></span>

<span data-ttu-id="c448c-118">tootake преимущества динамической упаковки необходимо tooencode мезонинный (источник) в набор файлов MP4 с адаптивной скоростью или файлов Smooth Streaming с адаптивной скоростью.</span><span class="sxs-lookup"><span data-stu-id="c448c-118">tootake advantage of dynamic packaging, you need tooencode your mezzanine (source) file into a set of adaptive-bitrate MP4 files or adaptive bitrate Smooth Streaming files.</span></span>

<span data-ttu-id="c448c-119">При использовании динамической упаковки можно хранить и платить за файлы hello в едином формате хранения.</span><span class="sxs-lookup"><span data-stu-id="c448c-119">With dynamic packaging, you store and pay for hello files in single storage format.</span></span> <span data-ttu-id="c448c-120">Службы мультимедиа будут создавать и обслуживать соответствующий ответ hello на ваших запросов на основе.</span><span class="sxs-lookup"><span data-stu-id="c448c-120">Media Services will build and serve hello appropriate response based on your requests.</span></span>

<span data-ttu-id="c448c-121">Динамическая упаковка доступна для конечных точек потоковой передачи уровня "Стандартный" и "Премиум".</span><span class="sxs-lookup"><span data-stu-id="c448c-121">Dynamic packaging is available for standard and premium streaming endpoints.</span></span> 

<span data-ttu-id="c448c-122">Чтобы узнать больше, ознакомьтесь со [Dynamic packaging](media-services-dynamic-packaging-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c448c-122">For more information, see [Dynamic packaging](media-services-dynamic-packaging-overview.md).</span></span>

## <a name="filters-and-dynamic-manifests"></a><span data-ttu-id="c448c-123">Фильтры и динамические манифесты</span><span class="sxs-lookup"><span data-stu-id="c448c-123">Filters and dynamic manifests</span></span>
<span data-ttu-id="c448c-124">Службы мультимедиа позволяют определять фильтры для ресурсов-контейнеров.</span><span class="sxs-lookup"><span data-stu-id="c448c-124">You can define filters for your assets with Media Services.</span></span> <span data-ttu-id="c448c-125">Эти фильтры являются серверных правил, которые помогут вашим клиентам, например, воспроизведение видео определенного раздела или указать подмножество аудио и видео представлений, которые могут обрабатывать устройства клиента (а не всех hello представлений, связанные с активом hello ).</span><span class="sxs-lookup"><span data-stu-id="c448c-125">These filters are server-side rules that help your customers do things like play a specific section of a video or specify a subset of audio and video renditions that your customer's device can handle (instead of all hello renditions that are associated with hello asset).</span></span> <span data-ttu-id="c448c-126">Такая фильтрация достигается за счет *динамического манифесты* создаются, когда клиент запрашивает toostream видео на основе одного или нескольких указанных фильтров.</span><span class="sxs-lookup"><span data-stu-id="c448c-126">This filtering is achieved through *dynamic manifests* that are created when your customer requests toostream a video based on one or more specified filters.</span></span>

<span data-ttu-id="c448c-127">Чтобы узнать больше, ознакомьтесь со [Фильтры и динамические манифесты](media-services-dynamic-manifest-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c448c-127">For more information, see [Filters and dynamic manifests](media-services-dynamic-manifest-overview.md).</span></span>

## <a name="locators"></a><span data-ttu-id="c448c-128">Локаторы</span><span class="sxs-lookup"><span data-stu-id="c448c-128">Locators</span></span>
<span data-ttu-id="c448c-129">tooprovide пользователя с URL-адресом, который можно использовать toostream или загрузить содержимое, необходимо сначала toopublish актива путем создания локатора.</span><span class="sxs-lookup"><span data-stu-id="c448c-129">tooprovide your user with a URL that can be used toostream or download your content, you first need toopublish your asset by creating a locator.</span></span> <span data-ttu-id="c448c-130">Указатель предоставляет hello tooaccess точки входа файлам, содержащимся в активе.</span><span class="sxs-lookup"><span data-stu-id="c448c-130">A locator provides an entry point tooaccess hello files contained in an asset.</span></span> <span data-ttu-id="c448c-131">Службы мультимедиа поддерживают два типа указателей:</span><span class="sxs-lookup"><span data-stu-id="c448c-131">Media Services supports two types of locators:</span></span>

* <span data-ttu-id="c448c-132">Указатели OnDemandOrigin.</span><span class="sxs-lookup"><span data-stu-id="c448c-132">OnDemandOrigin locators.</span></span> <span data-ttu-id="c448c-133">Это используется toostream мультимедиа (например, MPEG-DASH, HLS или Smooth Streaming), или постепенно загружать файлы.</span><span class="sxs-lookup"><span data-stu-id="c448c-133">These are used toostream media (for example, MPEG-DASH, HLS, or Smooth Streaming) or progressively download files.</span></span>
* <span data-ttu-id="c448c-134">Указатели подписанного URL-адреса (SAS).</span><span class="sxs-lookup"><span data-stu-id="c448c-134">Shared access signature (SAS) URL locators.</span></span> <span data-ttu-id="c448c-135">Это используется toodownload файлы мультимедиа tooyour локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="c448c-135">These are used toodownload media files tooyour local computer.</span></span>

<span data-ttu-id="c448c-136">*Доступ к политике* — используется toodefine hello разрешения (например, чтение, запись и список) и длительность, для которой клиент имеет доступ для конкретного средства.</span><span class="sxs-lookup"><span data-stu-id="c448c-136">An *access policy* is used toodefine hello permissions (such as read, write, and list) and duration for which a client has access for a particular asset.</span></span> <span data-ttu-id="c448c-137">Обратите внимание, что разрешение hello списка (AccessPermissions.List) не должен использоваться при создании указателя OrDemandOrigin.</span><span class="sxs-lookup"><span data-stu-id="c448c-137">Note that hello list permission (AccessPermissions.List) should not be used in creating an OrDemandOrigin locator.</span></span>

<span data-ttu-id="c448c-138">Указатели имеют срок действия.</span><span class="sxs-lookup"><span data-stu-id="c448c-138">Locators have expiration dates.</span></span> <span data-ttu-id="c448c-139">портал Azure Hello задает дату окончания срока действия 100 лет в hello будущих для указателей.</span><span class="sxs-lookup"><span data-stu-id="c448c-139">hello Azure portal sets an expiration date 100 years in hello future for locators.</span></span>

> [!NOTE]
> <span data-ttu-id="c448c-140">При использовании hello Azure портала toocreate указатели до марта 2015 этих указателей заданы tooexpire после двух лет.</span><span class="sxs-lookup"><span data-stu-id="c448c-140">If you used hello Azure portal toocreate locators before March 2015, those locators were set tooexpire after two years.</span></span>
> 
> 

<span data-ttu-id="c448c-141">tooupdate дату окончания срока действия на указатель, используйте [REST](https://docs.microsoft.com/rest/api/media/operations/locator#update_a_locator) или [.NET](http://go.microsoft.com/fwlink/?LinkID=533259) API-интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="c448c-141">tooupdate an expiration date on a locator, use [REST](https://docs.microsoft.com/rest/api/media/operations/locator#update_a_locator) or [.NET](http://go.microsoft.com/fwlink/?LinkID=533259) APIs.</span></span> <span data-ttu-id="c448c-142">Обратите внимание, что при обновлении срок действия локатора SAS hello hello URL-адрес изменяется.</span><span class="sxs-lookup"><span data-stu-id="c448c-142">Note that when you update hello expiration date of a SAS locator, hello URL changes.</span></span>

<span data-ttu-id="c448c-143">Указатели не предназначены для управления доступом на уровне пользователя toomanage.</span><span class="sxs-lookup"><span data-stu-id="c448c-143">Locators are not designed toomanage per-user access control.</span></span> <span data-ttu-id="c448c-144">Пользователи с правами tooindividual различный уровень доступа можно предоставить с помощью решения управления цифровыми правами (DRM).</span><span class="sxs-lookup"><span data-stu-id="c448c-144">You can give different access rights tooindividual users by using Digital Rights Management (DRM) solutions.</span></span> <span data-ttu-id="c448c-145">Дополнительные сведения см. в разделе [Службы мультимедиа — потоковая передача по запросу](http://msdn.microsoft.com/library/azure/dn282272.aspx).</span><span class="sxs-lookup"><span data-stu-id="c448c-145">For more information, see [Securing Media](http://msdn.microsoft.com/library/azure/dn282272.aspx).</span></span>

<span data-ttu-id="c448c-146">При создании указателя может быть 30-секундная задержка из-за toorequired хранения и распространения процессов в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="c448c-146">When you create a locator, there may be a 30-second delay due toorequired storage and propagation processes in Azure Storage.</span></span>

## <a name="adaptive-streaming"></a><span data-ttu-id="c448c-147">Адаптивная потоковая передача</span><span class="sxs-lookup"><span data-stu-id="c448c-147">Adaptive streaming</span></span>
<span data-ttu-id="c448c-148">Адаптивные технологии битрейта позволяют приложениям видеопроигрыватель toodetermine состояния сети и выберите из нескольких битрейтов.</span><span class="sxs-lookup"><span data-stu-id="c448c-148">Adaptive bitrate technologies allow video player applications toodetermine network conditions and select from several bitrates.</span></span> <span data-ttu-id="c448c-149">Когда снизилась сетевого взаимодействия, hello клиент может выбрать более низкий битрейт, чтобы воспроизведение можно продолжить работу с более низкое качество видео.</span><span class="sxs-lookup"><span data-stu-id="c448c-149">When network communication degrades, hello client can select a lower bitrate so playback can continue with lower video quality.</span></span> <span data-ttu-id="c448c-150">Как повысить условий сети, hello клиент может переключиться tooa высокий битрейт с высоким качеством видео.</span><span class="sxs-lookup"><span data-stu-id="c448c-150">As network conditions improve, hello client can switch tooa higher bitrate with improved video quality.</span></span> <span data-ttu-id="c448c-151">Службы мультимедиа Azure поддерживают hello следующие адаптивные технологии битрейта: HTTP Live Streaming (HLS), Smooth Streaming и MPEG-DASH.</span><span class="sxs-lookup"><span data-stu-id="c448c-151">Azure Media Services supports hello following adaptive bitrate technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG-DASH.</span></span>

<span data-ttu-id="c448c-152">tooprovide пользователей с потоковой передачи URL-адреса, сначала необходимо создать указатель OnDemandOrigin.</span><span class="sxs-lookup"><span data-stu-id="c448c-152">tooprovide users with streaming URLs, you first must create an OnDemandOrigin locator.</span></span> <span data-ttu-id="c448c-153">Создание локатора дает hello активов toohello базовый путь, содержащий содержимое hello hello требуется toostream.</span><span class="sxs-lookup"><span data-stu-id="c448c-153">Creating hello locator gives you hello base path toohello asset that contains hello content you want toostream.</span></span> <span data-ttu-id="c448c-154">Тем не менее могут toostream toobe этот контент, необходимо toomodify этот путь.</span><span class="sxs-lookup"><span data-stu-id="c448c-154">However, toobe able toostream this content, you need toomodify this path further.</span></span> <span data-ttu-id="c448c-155">полный URL-адрес toohello файла манифеста потоковой передачи, необходимо СЦЕПИТЬ путь локатора hello tooconstruct значение и hello манифеста (filename.ism) имя файла.</span><span class="sxs-lookup"><span data-stu-id="c448c-155">tooconstruct a full URL toohello streaming manifest file, you must concatenate hello locator’s path value and hello manifest (filename.ism) file name.</span></span> <span data-ttu-id="c448c-156">Затем добавьте **/Manifest** и путь локатора toohello соответствующий формат (при необходимости).</span><span class="sxs-lookup"><span data-stu-id="c448c-156">Then append **/Manifest** and an appropriate format (if needed) toohello locator path.</span></span>

> [!NOTE]
> <span data-ttu-id="c448c-157">Также по SSL-подключению можно выполнять потоковую передачу содержимого.</span><span class="sxs-lookup"><span data-stu-id="c448c-157">You can also stream your content over an SSL connection.</span></span> <span data-ttu-id="c448c-158">toodo это, убедитесь, что потоковой передачи запуска URL-адреса с помощью протокола HTTPS.</span><span class="sxs-lookup"><span data-stu-id="c448c-158">toodo this, make sure your streaming URLs start with HTTPS.</span></span> <span data-ttu-id="c448c-159">Обратите внимание, что в настоящее время AMS не поддерживает SSL для личных доменов.</span><span class="sxs-lookup"><span data-stu-id="c448c-159">Note that, currently, AMS doesn’t support SSL with custom domains.</span></span>  
> 


<span data-ttu-id="c448c-160">Может только передавать по протоколу SSL, если конечной точки, из которого доставки контента потоковой передачи hello была создана после 10 сентября 2014 г.</span><span class="sxs-lookup"><span data-stu-id="c448c-160">You can only stream over SSL if hello streaming endpoint from which you deliver your content was created after September 10th, 2014.</span></span> <span data-ttu-id="c448c-161">Если URL-адресов потоковой передачи основаны на конечные точки, созданные после десятой сентябрь 2014 г., потоковой передачи hello hello URL-адрес содержит «streaming.mediaservices.windows.net».</span><span class="sxs-lookup"><span data-stu-id="c448c-161">If your streaming URLs are based on hello streaming endpoints created after September 10th, 2014, hello URL contains “streaming.mediaservices.windows.net.”</span></span> <span data-ttu-id="c448c-162">Потоковой передачи URL-адреса, которые содержат «origin.mediaservices.windows.net» (hello старый формат) не поддерживают протокол SSL.</span><span class="sxs-lookup"><span data-stu-id="c448c-162">Streaming URLs that contain “origin.mediaservices.windows.net” (hello old format) do not support SSL.</span></span> <span data-ttu-id="c448c-163">Если URL-адрес находится в старом формате hello и необходимо будет toostream toobe по протоколу SSL, создайте новую конечную точку потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="c448c-163">If your URL is in hello old format and you want toobe able toostream over SSL, create a new streaming endpoint.</span></span> <span data-ttu-id="c448c-164">Использование URL-адреса на основе новых потоковой передачи конечной точки toostream hello контента по протоколу SSL.</span><span class="sxs-lookup"><span data-stu-id="c448c-164">Use URLs based on hello new streaming endpoint toostream your content over SSL.</span></span>

## <a name="streaming-url-formats"></a><span data-ttu-id="c448c-165">Форматы URL-адресов потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="c448c-165">Streaming URL formats</span></span>
### <a name="mpeg-dash-format"></a><span data-ttu-id="c448c-166">Формат MPEG-DASH</span><span class="sxs-lookup"><span data-stu-id="c448c-166">MPEG-DASH format</span></span>
<span data-ttu-id="c448c-167">{имя конечной точки потоковой передачи - имя учетной записи служб мультимедиа}.streaming.mediaservices.windows.net/{идентификатор указателя}/{имя файла}.ism/Manifest(format=mpd-time-csf)</span><span class="sxs-lookup"><span data-stu-id="c448c-167">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=mpd-time-csf)</span></span>

<span data-ttu-id="c448c-168">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf)</span><span class="sxs-lookup"><span data-stu-id="c448c-168">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf)</span></span>

### <a name="apple-http-live-streaming-hls-v4-format"></a><span data-ttu-id="c448c-169">Формат Apple HTTP Live Streaming (HLS) V4</span><span class="sxs-lookup"><span data-stu-id="c448c-169">Apple HTTP Live Streaming (HLS) V4 format</span></span>
<span data-ttu-id="c448c-170">{имя конечной точки потоковой передачи - имя учетной записи служб мультимедиа}.streaming.mediaservices.windows.net/{идентификатор указателя}/{имя файла}.ism/Manifest(format=m3u8-aapl)</span><span class="sxs-lookup"><span data-stu-id="c448c-170">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=m3u8-aapl)</span></span>

<span data-ttu-id="c448c-171">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl)</span><span class="sxs-lookup"><span data-stu-id="c448c-171">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl)</span></span>

### <a name="apple-http-live-streaming-hls-v3-format"></a><span data-ttu-id="c448c-172">Формат Apple HTTP Live Streaming (HLS) V3</span><span class="sxs-lookup"><span data-stu-id="c448c-172">Apple HTTP Live Streaming (HLS) V3 format</span></span>
<span data-ttu-id="c448c-173">{имя конечной точки потоковой передачи - имя учетной записи служб мультимедиа}.streaming.mediaservices.windows.net/{идентификатор указателя}/{имя файла}.ism/Manifest(format=m3u8-aapl-v3)</span><span class="sxs-lookup"><span data-stu-id="c448c-173">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=m3u8-aapl-v3)</span></span>

<span data-ttu-id="c448c-174">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3)</span><span class="sxs-lookup"><span data-stu-id="c448c-174">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3)</span></span>

### <a name="apple-http-live-streaming-hls-format-with-audio-only-filter"></a><span data-ttu-id="c448c-175">Формат Apple HTTP Live Streaming (HLS) с фильтром "только аудио"</span><span class="sxs-lookup"><span data-stu-id="c448c-175">Apple HTTP Live Streaming (HLS) format with audio-only filter</span></span>
<span data-ttu-id="c448c-176">По умолчанию только со звуком отслеживает включаются в манифест HLS приветствия.</span><span class="sxs-lookup"><span data-stu-id="c448c-176">By default, audio-only tracks are included in hello HLS manifest.</span></span> <span data-ttu-id="c448c-177">Это требуется для сертификации магазина Apple для сетей мобильной связи.</span><span class="sxs-lookup"><span data-stu-id="c448c-177">This is required for Apple Store certification for cellular networks.</span></span> <span data-ttu-id="c448c-178">Таким образом Если клиент не имеет достаточную пропускную способность или подключен через подключение 2G, воспроизведение переключает только для tooaudio.</span><span class="sxs-lookup"><span data-stu-id="c448c-178">In this case, if a client doesn’t have sufficient bandwidth or is connected over a 2G connection, playback switches tooaudio-only.</span></span> <span data-ttu-id="c448c-179">Это помогает tookeep содержимого потоковой передачи без буферизации, но отсутствует изображение отсутствует.</span><span class="sxs-lookup"><span data-stu-id="c448c-179">This helps tookeep content streaming without buffering, but there is no video.</span></span> <span data-ttu-id="c448c-180">В некоторых сценариях буферизация проигрывателя может быть предпочтительнее воспроизведения лишь аудио дорожки.</span><span class="sxs-lookup"><span data-stu-id="c448c-180">In some scenarios, player buffering might be preferred over audio-only.</span></span> <span data-ttu-id="c448c-181">Отслеживание только со звуком hello tooremove добавить **только со звуком = false** toohello URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="c448c-181">If you want tooremove hello audio-only track, add **audio-only=false** toohello URL.</span></span>

<span data-ttu-id="c448c-182">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3,audio-only=false)</span><span class="sxs-lookup"><span data-stu-id="c448c-182">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=m3u8-aapl-v3,audio-only=false)</span></span>

<span data-ttu-id="c448c-183">Дополнительные сведения см. в записи блога [Azure Media Services – Dynamic Manifest Composition support and HLS output additional features](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) (Службы мультимедиа Azure — поддержка динамического создания манифестов и дополнительные функции вывода HLS).</span><span class="sxs-lookup"><span data-stu-id="c448c-183">For more information, see [Dynamic Manifest Composition support and HLS output additional features](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/).</span></span>

### <a name="smooth-streaming-format"></a><span data-ttu-id="c448c-184">Формат Smooth Streaming</span><span class="sxs-lookup"><span data-stu-id="c448c-184">Smooth Streaming format</span></span>
<span data-ttu-id="c448c-185">{имя конечной точки потоковой передачи - имя учетной записи служб мультимедиа}.streaming.mediaservices.windows.net/{идентификатор указателя}/{имя файла}.ism/Manifest</span><span class="sxs-lookup"><span data-stu-id="c448c-185">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest</span></span>

<span data-ttu-id="c448c-186">Пример:</span><span class="sxs-lookup"><span data-stu-id="c448c-186">Example:</span></span>

<span data-ttu-id="c448c-187">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest</span><span class="sxs-lookup"><span data-stu-id="c448c-187">http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest</span></span>

### <span data-ttu-id="c448c-188"><a id="fmp4_v20"></a>Манифест Smooth Streaming 2.0 (манифест прежних версий)</span><span class="sxs-lookup"><span data-stu-id="c448c-188"><a id="fmp4_v20"></a>Smooth Streaming 2.0 manifest (legacy manifest)</span></span>
<span data-ttu-id="c448c-189">По умолчанию формат манифеста Smooth Streaming содержит тег повтора hello (r-tag).</span><span class="sxs-lookup"><span data-stu-id="c448c-189">By default, Smooth Streaming manifest format contains hello repeat tag (r-tag).</span></span> <span data-ttu-id="c448c-190">Однако некоторые проигрыватели не поддерживают hello r-tag.</span><span class="sxs-lookup"><span data-stu-id="c448c-190">However, some players do not support hello r-tag.</span></span> <span data-ttu-id="c448c-191">Клиенты с этими пользователями могут использовать формат, который отключает hello r-tag:</span><span class="sxs-lookup"><span data-stu-id="c448c-191">Clients with these players can use a format that disables hello r-tag:</span></span>

<span data-ttu-id="c448c-192">{имя конечной точки потоковой передачи - имя учетной записи служб мультимедиа}.streaming.mediaservices.windows.net/{идентификатор указателя}/{имя файла}.ism/Manifest(format=fmp4-v20)</span><span class="sxs-lookup"><span data-stu-id="c448c-192">{streaming endpoint name-media services account name}.streaming.mediaservices.windows.net/{locator ID}/{filename}.ism/Manifest(format=fmp4-v20)</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=fmp4-v20)

## <a name="progressive-download"></a><span data-ttu-id="c448c-193">Прогрессивное скачивание</span><span class="sxs-lookup"><span data-stu-id="c448c-193">Progressive download</span></span>
<span data-ttu-id="c448c-194">Последовательная загрузка позволяет запускать воспроизведение мультимедиа до загрузки всего файла hello.</span><span class="sxs-lookup"><span data-stu-id="c448c-194">With progressive download, you can start playing media before hello entire file has been downloaded.</span></span> <span data-ttu-id="c448c-195">ISMV-, ISMA-, ISMT- и ISMC-файлы не могут быть загружены поэтапно.</span><span class="sxs-lookup"><span data-stu-id="c448c-195">You cannot progressively download .ism* (ismv, isma, ismt, or ismc) files.</span></span>

<span data-ttu-id="c448c-196">tooprogressively загрузки содержимого, используйте тип локатора OnDemandOrigin hello.</span><span class="sxs-lookup"><span data-stu-id="c448c-196">tooprogressively download content, use hello OnDemandOrigin type of locator.</span></span> <span data-ttu-id="c448c-197">Hello ниже приведен пример hello URL-адрес, основанный на hello тип локатора OnDemandOrigin.</span><span class="sxs-lookup"><span data-stu-id="c448c-197">hello following example shows hello URL that is based on hello OnDemandOrigin type of locator:</span></span>

    http://amstest1.streaming.mediaservices.windows.net/3c5fe676-199c-4620-9b03-ba014900f214/BigBuckBunny_H264_650kbps_AAC_und_ch2_96kbps.mp4

<span data-ttu-id="c448c-198">Необходимо расшифровать все хранилище зашифровано ОС, которые должны toostream из службы origin hello для последовательной загрузки.</span><span class="sxs-lookup"><span data-stu-id="c448c-198">You must decrypt any storage-encrypted assets that you want toostream from hello origin service for progressive download.</span></span>

## <a name="download"></a><span data-ttu-id="c448c-199">Загрузить</span><span class="sxs-lookup"><span data-stu-id="c448c-199">Download</span></span>
<span data-ttu-id="c448c-200">toodownload содержимого tooa устройства клиента, необходимо создать указатель SAS.</span><span class="sxs-lookup"><span data-stu-id="c448c-200">toodownload your content tooa client device, you must create a SAS Locator.</span></span> <span data-ttu-id="c448c-201">указатель SAS Hello предоставляет доступ к toohello контейнер хранилища Azure, где расположен файл.</span><span class="sxs-lookup"><span data-stu-id="c448c-201">hello SAS locator gives you access toohello Azure Storage container where your file is located.</span></span> <span data-ttu-id="c448c-202">toobuild hello URL-адрес загрузки, имеют имя файла tooembed hello между hello узлом и подписью SAS.</span><span class="sxs-lookup"><span data-stu-id="c448c-202">toobuild hello download URL, you have tooembed hello file name between hello host and SAS signature.</span></span>

<span data-ttu-id="c448c-203">Hello ниже приведен пример hello URL-адрес, основанный на указателя SAS hello.</span><span class="sxs-lookup"><span data-stu-id="c448c-203">hello following example shows hello URL that is based on hello SAS locator:</span></span>

    https://test001.blob.core.windows.net/asset-ca7a4c3f-9eb5-4fd8-a898-459cb17761bd/BigBuckBunny.mp4?sv=2012-02-12&se=2014-05-03T01%3A23%3A50Z&sr=c&si=7c093e7c-7dab-45b4-beb4-2bfdff764bb5&sig=msEHP90c6JHXEOtTyIWqD7xio91GtVg0UIzjdpFscHk%3D

<span data-ttu-id="c448c-204">применить Hello следующие вопросы:</span><span class="sxs-lookup"><span data-stu-id="c448c-204">hello following considerations apply:</span></span>

* <span data-ttu-id="c448c-205">Необходимо расшифровать все хранилище зашифровано ОС, которые должны toostream из службы origin hello для последовательной загрузки.</span><span class="sxs-lookup"><span data-stu-id="c448c-205">You must decrypt any storage-encrypted assets that you want toostream from hello origin service for progressive download.</span></span>
* <span data-ttu-id="c448c-206">Процесс скачивания, не завершенный в течение 12 часов, завершается ошибкой.</span><span class="sxs-lookup"><span data-stu-id="c448c-206">A download that has not finished within 12 hours will fail.</span></span>

## <a name="streaming-endpoints"></a><span data-ttu-id="c448c-207">Конечные точки потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="c448c-207">Streaming endpoints</span></span>

<span data-ttu-id="c448c-208">Конечную точку потоковой передачи представляет собой службу потоковой передачи, способную доставить содержимое напрямую tooa клиента проигрывателя приложения или tooa сети доставки содержимого (CDN) для дальнейшего распространения.</span><span class="sxs-lookup"><span data-stu-id="c448c-208">A streaming endpoint represents a streaming service that can deliver content directly tooa client player application or tooa content delivery network (CDN) for further distribution.</span></span> <span data-ttu-id="c448c-209">Hello исходящим потоком из потоковой передачи конечной точки службы может быть потоком трансляции или актив видео по запросу в учетную запись служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="c448c-209">hello outbound stream from a streaming endpoint service can be a live stream or a video-on-demand asset in your Media Services account.</span></span> <span data-ttu-id="c448c-210">Существует два типа конечных точек потоковой передачи: **стандартные** и **Премиум**.</span><span class="sxs-lookup"><span data-stu-id="c448c-210">There are two types of streaming endpoints, **standard** and **premium**.</span></span> <span data-ttu-id="c448c-211">Дополнительные сведения см. в статье [Общие сведения о конечных точках потоковой передачи](media-services-streaming-endpoints-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c448c-211">For more information, see [Streaming endpoints overview](media-services-streaming-endpoints-overview.md).</span></span>

>[!NOTE]
><span data-ttu-id="c448c-212">При создании учетной записи AMS **по умолчанию** конечной точки потоковой передачи в hello добавлена учетная запись tooyour **остановлена** состояния.</span><span class="sxs-lookup"><span data-stu-id="c448c-212">When your AMS account is created a **default** streaming endpoint is added tooyour account in hello **Stopped** state.</span></span> <span data-ttu-id="c448c-213">Потоковая передача вашего содержимого и примите преимуществами динамической упаковки и динамического шифрования toostart hello конечной точки потоковой передачи, из которого нужно имеет содержимое toostream toobe в hello **под управлением** состояния.</span><span class="sxs-lookup"><span data-stu-id="c448c-213">toostart streaming your content and take advantage of dynamic packaging and dynamic encryption, hello streaming endpoint from which you want toostream content has toobe in hello **Running** state.</span></span> 

## <a name="known-issues"></a><span data-ttu-id="c448c-214">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="c448c-214">Known issues</span></span>
### <a name="changes-toosmooth-streaming-manifest-version"></a><span data-ttu-id="c448c-215">Версия манифеста потоковой передачи tooSmooth изменения</span><span class="sxs-lookup"><span data-stu-id="c448c-215">Changes tooSmooth Streaming manifest version</span></span>
<span data-ttu-id="c448c-216">Перед возвращением hello выпуск обновления июль 2016 г. — при активы стандартный кодировщик мультимедиа, расширенного рабочего процесса кодировщика мультимедиа, или hello потоковую передачу предыдущих Azure Media Encoder были включены с помощью динамической упаковки--hello Smooth Streaming манифеста будет соответствовать tooversion 2.0.</span><span class="sxs-lookup"><span data-stu-id="c448c-216">Before hello July 2016 service release--when assets produced by Media Encoder Standard, Media Encoder Premium Workflow, or hello earlier Azure Media Encoder were streamed by using dynamic packaging--hello Smooth Streaming manifest returned would conform tooversion 2.0.</span></span> <span data-ttu-id="c448c-217">В версии 2.0 длительности фрагмент hello не следует использовать теги hello так называемые повтора (r).</span><span class="sxs-lookup"><span data-stu-id="c448c-217">In version 2.0, hello fragment durations do not use hello so-called repeat (‘r’) tags.</span></span> <span data-ttu-id="c448c-218">Например:</span><span class="sxs-lookup"><span data-stu-id="c448c-218">For example:</span></span>

<?xml version="1.0" encoding="UTF-8"?>
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="0" Duration="8000" TimeScale="1000">
        <StreamIndex Chunks="4" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="3" Subtype="" Name="video" TimeScale="1000">
            <QualityLevel Index="0" Bitrate="1000000" FourCC="AVC1" MaxWidth="640" MaxHeight="360" CodecPrivateData="00000001674D4029965201405FF2E02A100000030010000003032E0A000F42400040167F18E3050007A12000200B3F8C70ED0B16890000000168EB7352" />
            <c t="0" d="2000" n="0" />
            <c d="2000" />
            <c d="2000" />
            <c d="2000" />
        </StreamIndex>
    </SmoothStreamingMedia>

<span data-ttu-id="c448c-219">В hello июля 2016 г. службы созданный hello манифеста Smooth Streaming соответствует tooversion 2.2, с длительностью фрагмента с помощью тегов повторов.</span><span class="sxs-lookup"><span data-stu-id="c448c-219">In hello July 2016 service release, hello generated Smooth Streaming manifest conforms tooversion 2.2, with fragment durations using repeat tags.</span></span> <span data-ttu-id="c448c-220">Например:</span><span class="sxs-lookup"><span data-stu-id="c448c-220">For example:</span></span>

    <?xml version="1.0" encoding="UTF-8"?>
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="2" Duration="8000" TimeScale="1000">
        <StreamIndex Chunks="4" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="3" Subtype="" Name="video" TimeScale="1000">
            <QualityLevel Index="0" Bitrate="1000000" FourCC="AVC1" MaxWidth="640" MaxHeight="360" CodecPrivateData="00000001674D4029965201405FF2E02A100000030010000003032E0A000F42400040167F18E3050007A12000200B3F8C70ED0B16890000000168EB7352" />
            <c t="0" d="2000" r="4" />
        </StreamIndex>
    </SmoothStreamingMedia>

<span data-ttu-id="c448c-221">Некоторые устаревшие клиенты hello Smooth Streaming могут не поддерживать hello повторов теги, сможет tooload hello манифест.</span><span class="sxs-lookup"><span data-stu-id="c448c-221">Some of hello legacy Smooth Streaming clients may not support hello repeat tags and will fail tooload hello manifest.</span></span> <span data-ttu-id="c448c-222">toomitigate эту проблему, можно использовать параметр устаревший формат манифеста hello **(формат = fmp4 v20)** или обновить ваш клиент toohello последней версии, поддерживает повторов тегов.</span><span class="sxs-lookup"><span data-stu-id="c448c-222">toomitigate this issue, you can use hello legacy manifest format parameter **(format=fmp4-v20)** or update your client toohello latest version, which supports repeat tags.</span></span> <span data-ttu-id="c448c-223">Чтобы узнать больше, ознакомьтесь со [Smooth Streaming 2.0](media-services-deliver-content-overview.md#fmp4_v20).</span><span class="sxs-lookup"><span data-stu-id="c448c-223">For more information, see [Smooth Streaming 2.0](media-services-deliver-content-overview.md#fmp4_v20).</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="c448c-224">Схемы обучения работе со службами мультимедиа</span><span class="sxs-lookup"><span data-stu-id="c448c-224">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="c448c-225">Отзывы</span><span class="sxs-lookup"><span data-stu-id="c448c-225">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="c448c-226">Связанные разделы</span><span class="sxs-lookup"><span data-stu-id="c448c-226">Related topics</span></span>
[<span data-ttu-id="c448c-227">Обновление указателей служб мультимедиа после отката ключей хранилища</span><span class="sxs-lookup"><span data-stu-id="c448c-227">Update Media Services locators after rolling storage keys</span></span>](media-services-roll-storage-access-keys.md)

