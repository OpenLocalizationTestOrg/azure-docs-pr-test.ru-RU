---
title: "aaaStream live с локальных кодировщиков, которые создают потоки многоскоростной - Azure | Документы Microsoft"
description: "Описывается, как tooset канал, принимающий многоскоростной динамический поток из кодировщика в локальной среде. Hello поток может затем быть доставлен tooclient воспроизведения приложений через один или несколько конечных точек потоковой передачи, с помощью одного из hello следующие протоколы адаптивной потоковой передачи: HLS, Smooth Streaming, DASH."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: d9f0912d-39ec-4c9c-817b-e5d9fcf1f7ea
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 04/12/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 00709cecfc3b5b5dcfaa8f1e4b25bcf9d470d50b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="live-streaming-with-on-premises-encoders-that-create-multi-bitrate-streams"></a><span data-ttu-id="7b53f-104">Потоковая трансляция с помощью локальных кодировщиков, создающих потоки с разными скоростями</span><span class="sxs-lookup"><span data-stu-id="7b53f-104">Live streaming with on-premises encoders that create multi-bitrate streams</span></span>
## <a name="overview"></a><span data-ttu-id="7b53f-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="7b53f-105">Overview</span></span>
<span data-ttu-id="7b53f-106">В службах мультимедиа Azure *канал* представляет собой конвейер для обработки контента, передаваемого в потоковом режиме.</span><span class="sxs-lookup"><span data-stu-id="7b53f-106">In Azure Media Services, a *channel* represents a pipeline for processing live-streaming content.</span></span> <span data-ttu-id="7b53f-107">Канал получает входные потоки одним из двух способов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-107">A channel receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="7b53f-108">Локальный динамический кодировщик отправляет многоскоростной RTMP или Smooth Streaming (фрагментированный MP4) поток toohello канал, не включена tooperform live кодирования с помощью служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="7b53f-108">An on-premises live encoder sends a multi-bitrate RTMP or Smooth Streaming (fragmented MP4) stream toohello channel that is not enabled tooperform live encoding with Media Services.</span></span> <span data-ttu-id="7b53f-109">Hello полученный потоки проход через каналы без дополнительной обработки.</span><span class="sxs-lookup"><span data-stu-id="7b53f-109">hello ingested streams pass through channels without any further processing.</span></span> <span data-ttu-id="7b53f-110">Этот способ называется *сквозной передачей*.</span><span class="sxs-lookup"><span data-stu-id="7b53f-110">This method is called *pass-through*.</span></span> <span data-ttu-id="7b53f-111">Можно использовать следующие динамические кодировщики, иметь в качестве выходных данных Smooth Streaming с несколькими скоростями hello: Excel мультимедиа, Ateme, представьте себе связи, Envivio, Cisco и кодировщики Elemental.</span><span class="sxs-lookup"><span data-stu-id="7b53f-111">You can use hello following live encoders that have multi-bitrate Smooth Streaming as output: Media Excel, Ateme, Imagine Communications, Envivio, Cisco, and Elemental.</span></span> <span data-ttu-id="7b53f-112">следующие динамические кодировщики Hello имеют RTMP в качестве выходных данных: Adobe Flash Live кодировщика мультимедиа, Telestream Wirecast, Haivision, Teradek и TriCaster.</span><span class="sxs-lookup"><span data-stu-id="7b53f-112">hello following live encoders have RTMP as output: Adobe Flash Media Live Encoder, Telestream Wirecast, Haivision, Teradek, and TriCaster.</span></span> <span data-ttu-id="7b53f-113">Динамический кодировщик также можно отправлять канала tooa скоростями одного потока, не включена для динамического кодирования, но не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="7b53f-113">A live encoder can also send a single-bitrate stream tooa channel that is not enabled for live encoding, but we don't recommend that.</span></span> <span data-ttu-id="7b53f-114">Службы мультимедиа доставляют toocustomers поток hello, запросить его.</span><span class="sxs-lookup"><span data-stu-id="7b53f-114">Media Services delivers hello stream toocustomers who request it.</span></span>

  > [!NOTE]
  > <span data-ttu-id="7b53f-115">С помощью сквозной метода является наиболее экономичным способом hello toodo динамической потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="7b53f-115">Using a pass-through method is hello most economical way toodo live streaming.</span></span>


* <span data-ttu-id="7b53f-116">Локальный динамический кодировщик отправляет скоростями один поток toohello канала включена динамического кодирования с помощью служб мультимедиа в одном из следующих форматов hello tooperform: RTP (MPEG-TS), RTMP или Smooth Streaming (фрагментированный MP4).</span><span class="sxs-lookup"><span data-stu-id="7b53f-116">An on-premises live encoder sends a single-bitrate stream toohello channel that is enabled tooperform live encoding with Media Services in one of hello following formats: RTP (MPEG-TS), RTMP, or Smooth Streaming (fragmented MP4).</span></span> <span data-ttu-id="7b53f-117">канал Hello выполняет динамическое кодирование hello входящих скоростями один поток tooa многоскоростной (адаптивный) видеопоток.</span><span class="sxs-lookup"><span data-stu-id="7b53f-117">hello channel then performs live encoding of hello incoming single-bitrate stream tooa multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="7b53f-118">Службы мультимедиа доставляют toocustomers поток hello, запросить его.</span><span class="sxs-lookup"><span data-stu-id="7b53f-118">Media Services delivers hello stream toocustomers who request it.</span></span>

<span data-ttu-id="7b53f-119">Начиная с версии 2.10 служб мультимедиа hello, при создании канала, можно указать способ канала tooreceive потока входных данных hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-119">Starting with hello Media Services 2.10 release, when you create a channel, you can specify how you want your channel tooreceive hello input stream.</span></span> <span data-ttu-id="7b53f-120">Можно также указать, следует ли tooperform канала hello динамического кодирования этого потока.</span><span class="sxs-lookup"><span data-stu-id="7b53f-120">You can also specify whether you want hello channel tooperform live encoding of your stream.</span></span> <span data-ttu-id="7b53f-121">Существует два варианта.</span><span class="sxs-lookup"><span data-stu-id="7b53f-121">You have two options:</span></span>

* <span data-ttu-id="7b53f-122">**Пропуск**: задайте это значение, если планируется toouse на локальный динамический кодировщик, будет иметь многоскоростной поток (сквозной поток) в качестве выходных данных.</span><span class="sxs-lookup"><span data-stu-id="7b53f-122">**Pass Through**: Specify this value if you plan toouse an on-premises live encoder that will have a multi-bitrate stream (a pass-through stream) as output.</span></span> <span data-ttu-id="7b53f-123">В этом случае входящий поток hello проходит через toohello выходные данные без какой-либо кодировке.</span><span class="sxs-lookup"><span data-stu-id="7b53f-123">In this case, hello incoming stream passes through toohello output without any encoding.</span></span> <span data-ttu-id="7b53f-124">Это поведение канала до выпуска hello 2.10 hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-124">This is hello behavior of a channel before hello 2.10 release.</span></span> <span data-ttu-id="7b53f-125">В этой статье приведены подробные сведения о работе с каналами такого типа.</span><span class="sxs-lookup"><span data-stu-id="7b53f-125">This topic gives details about working with channels of this type.</span></span>
* <span data-ttu-id="7b53f-126">**Кодировка Live**: выберите это значение, если планируется tooencode Media Services toouse вашей скоростями один динамический поток tooa многоскоростной поток.</span><span class="sxs-lookup"><span data-stu-id="7b53f-126">**Live Encoding**: Choose this value if you plan toouse Media Services tooencode your single-bitrate live stream tooa multi-bitrate stream.</span></span> <span data-ttu-id="7b53f-127">Помните о том, что если вы оставите канал кодирования в реальном времени в состоянии **Работает**, вам будут выставлены соответствующие счета.</span><span class="sxs-lookup"><span data-stu-id="7b53f-127">Be aware that leaving a live encoding channel in a **Running** state will incur billing charges.</span></span> <span data-ttu-id="7b53f-128">Рекомендуется немедленно прекратить выполнение каналы после события потоковую передачу — полный tooavoid лишние почасовая плата.</span><span class="sxs-lookup"><span data-stu-id="7b53f-128">We recommend that you immediately stop your running channels after your live-streaming event is complete tooavoid extra hourly charges.</span></span> <span data-ttu-id="7b53f-129">Службы мультимедиа доставляют toocustomers поток hello, запросить его.</span><span class="sxs-lookup"><span data-stu-id="7b53f-129">Media Services delivers hello stream toocustomers who request it.</span></span>

> [!NOTE]
> <span data-ttu-id="7b53f-130">В этом разделе рассматриваются атрибуты каналов, которые не были включены tooperform динамического кодирования.</span><span class="sxs-lookup"><span data-stu-id="7b53f-130">This topic discusses attributes of channels that are not enabled tooperform live encoding.</span></span> <span data-ttu-id="7b53f-131">Сведения о работе с каналами, которые будут включены в tooperform динамического кодирования, см. в разделе [потоковой трансляции с помощью служб мультимедиа Azure toocreate многоскоростной потоков](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="7b53f-131">For information about working with channels that are enabled tooperform live encoding, see [Live streaming using Azure Media Services toocreate multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
>
>

<span data-ttu-id="7b53f-132">Привет, следующая схема представляет потоковую передачу рабочий процесс, который использует локального динамического кодировщика toohave многоскоростной RTMP или фрагментированный MP4 (Smooth Streaming) потоки в качестве выходных данных.</span><span class="sxs-lookup"><span data-stu-id="7b53f-132">hello following diagram represents a live-streaming workflow that uses an on-premises live encoder toohave multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) streams as output.</span></span>

![Динамический рабочий процесс][live-overview]

## <span data-ttu-id="7b53f-134"><a id="scenario"></a>Стандартный сценарий потоковой передачи в режиме реального времени</span><span class="sxs-lookup"><span data-stu-id="7b53f-134"><a id="scenario"></a>Common live-streaming scenario</span></span>
<span data-ttu-id="7b53f-135">Hello следующие шаги описывают задачи, связанные с созданием распространенных потоковую передачу приложений.</span><span class="sxs-lookup"><span data-stu-id="7b53f-135">hello following steps describe tasks involved in creating common live-streaming applications.</span></span>

1. <span data-ttu-id="7b53f-136">Подключение компьютера tooa камеры.</span><span class="sxs-lookup"><span data-stu-id="7b53f-136">Connect a video camera tooa computer.</span></span> <span data-ttu-id="7b53f-137">Запустите и настройте локальный динамический кодировщик, который выводит поток с разными скоростями RTMP или поток в формате "фрагментированный MP4" (Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="7b53f-137">Start and configure an on-premises live encoder that has a multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) stream as output.</span></span> <span data-ttu-id="7b53f-138">Дополнительные сведения см. в статье о [поддержке протокола RTMP в службах мультимедиа Azure и о динамических кодировщиках](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="7b53f-138">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

    <span data-ttu-id="7b53f-139">Это действие также можно выполнить после создания канала.</span><span class="sxs-lookup"><span data-stu-id="7b53f-139">You can also perform this step after you create your channel.</span></span>
2. <span data-ttu-id="7b53f-140">Создайте и запустите канал.</span><span class="sxs-lookup"><span data-stu-id="7b53f-140">Create and start a channel.</span></span>

3. <span data-ttu-id="7b53f-141">URL-адреса входящих получить hello канала.</span><span class="sxs-lookup"><span data-stu-id="7b53f-141">Retrieve hello channel ingest URL.</span></span>

    <span data-ttu-id="7b53f-142">Hello hello использует динамический кодировщик приема URL-адрес toosend hello поток toohello канала.</span><span class="sxs-lookup"><span data-stu-id="7b53f-142">hello live encoder uses hello ingest URL toosend hello stream toohello channel.</span></span>
4. <span data-ttu-id="7b53f-143">Получить URL-адрес предварительного просмотра канала hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-143">Retrieve hello channel preview URL.</span></span>

    <span data-ttu-id="7b53f-144">Используйте этот URL-адрес tooverify, что ваш канал правильно получает hello обновляющегося потока.</span><span class="sxs-lookup"><span data-stu-id="7b53f-144">Use this URL tooverify that your channel is properly receiving hello live stream.</span></span>
5. <span data-ttu-id="7b53f-145">Создайте программу.</span><span class="sxs-lookup"><span data-stu-id="7b53f-145">Create a program.</span></span>

    <span data-ttu-id="7b53f-146">При использовании hello портал Azure, создание программы также создает актива.</span><span class="sxs-lookup"><span data-stu-id="7b53f-146">When you use hello Azure portal, creating a program also creates an asset.</span></span>

    <span data-ttu-id="7b53f-147">При использовании hello .NET SDK или REST, требуется toocreate актива и указать toouse этот ресурс, при создании программы.</span><span class="sxs-lookup"><span data-stu-id="7b53f-147">When you use hello .NET SDK or REST, you need toocreate an asset and specify toouse this asset when creating a program.</span></span>
6. <span data-ttu-id="7b53f-148">Опубликуйте активов hello, связанной с программой hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-148">Publish hello asset that's associated with hello program.</span></span>   

    >[!NOTE]
    ><span data-ttu-id="7b53f-149">При создании учетной записи служб мультимедиа Azure **по умолчанию** конечной точки потоковой передачи в hello добавлена учетная запись tooyour **остановлена** состояния.</span><span class="sxs-lookup"><span data-stu-id="7b53f-149">When your Azure Media Services account is created, a **default** streaming endpoint is added tooyour account in hello **Stopped** state.</span></span> <span data-ttu-id="7b53f-150">Привет, из которого нужно toostream содержимое конечной точки потоковой передачи имеет toobe в hello **под управлением** состояния.</span><span class="sxs-lookup"><span data-stu-id="7b53f-150">hello streaming endpoint from which you want toostream content has toobe in hello **Running** state.</span></span>

7. <span data-ttu-id="7b53f-151">Запуск программы hello, когда вы будете готовы toostart потоковой передачи и архивированию.</span><span class="sxs-lookup"><span data-stu-id="7b53f-151">Start hello program when you're ready toostart streaming and archiving.</span></span>

8. <span data-ttu-id="7b53f-152">При необходимости hello динамическому кодировщику можно сигнальное toostart объявления.</span><span class="sxs-lookup"><span data-stu-id="7b53f-152">Optionally, hello live encoder can be signaled toostart an advertisement.</span></span> <span data-ttu-id="7b53f-153">объявления Hello вставляется в выходной поток hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-153">hello advertisement is inserted in hello output stream.</span></span>

9. <span data-ttu-id="7b53f-154">Остановите программу hello, когда захотите toostop потоковую передачу и архивировать событие hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-154">Stop hello program whenever you want toostop streaming and archiving hello event.</span></span>

10. <span data-ttu-id="7b53f-155">Удалить программу hello (и при необходимости удалить средство hello).</span><span class="sxs-lookup"><span data-stu-id="7b53f-155">Delete hello program (and optionally delete hello asset).</span></span>     

## <span data-ttu-id="7b53f-156"><a id="channel"></a>Описание канала и связанных с ним компонентов</span><span class="sxs-lookup"><span data-stu-id="7b53f-156"><a id="channel"></a>Description of a channel and its related components</span></span>
### <span data-ttu-id="7b53f-157"><a id="channel_input"></a>Конфигурации входа (приема) канала</span><span class="sxs-lookup"><span data-stu-id="7b53f-157"><a id="channel_input"></a>Channel input (ingest) configurations</span></span>
#### <span data-ttu-id="7b53f-158"><a id="ingest_protocols"></a>Протокол входного потока</span><span class="sxs-lookup"><span data-stu-id="7b53f-158"><a id="ingest_protocols"></a>Ingest streaming protocol</span></span>
<span data-ttu-id="7b53f-159">Службы мультимедиа поддерживают прием динамических каналов с использованием фрагментированного MP4 и RTMP с поддержкой разных скоростей в качестве потоковых протоколов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-159">Media Services supports ingesting live feeds by using multi-bitrate fragmented MP4 and multi-bitrate RTMP as streaming protocols.</span></span> <span data-ttu-id="7b53f-160">Когда приема hello RTMP выбран протокол потоковой передачи, два приема (input) конечные точки создаются для hello канала:</span><span class="sxs-lookup"><span data-stu-id="7b53f-160">When hello RTMP ingest streaming protocol is selected, two ingest (input) endpoints are created for hello channel:</span></span>

* <span data-ttu-id="7b53f-161">**Основной URL-адрес**: hello указывает полный URL-адрес источника RTMP канала hello приема конечной точки.</span><span class="sxs-lookup"><span data-stu-id="7b53f-161">**Primary URL**: Specifies hello fully qualified URL of hello channel's primary RTMP ingest endpoint.</span></span>
* <span data-ttu-id="7b53f-162">**Дополнительный URL-адрес** (необязательно): hello указывает полный URL-адрес получателя RTMP канала hello приема конечной точки.</span><span class="sxs-lookup"><span data-stu-id="7b53f-162">**Secondary URL** (optional): Specifies hello fully qualified URL of hello channel's secondary RTMP ingest endpoint.</span></span>

<span data-ttu-id="7b53f-163">Используйте hello URL-адрес получателя, если требуется, чтобы tooimprove hello надежность и отказоустойчивость в случае вашего приема потока (а также отработки отказа и отказоустойчивость кодировщика), особенно для hello следующие сценарии:</span><span class="sxs-lookup"><span data-stu-id="7b53f-163">Use hello secondary URL if you want tooimprove hello durability and fault tolerance of your ingest stream (as well as encoder failover and fault tolerance), especially for hello following scenarios:</span></span>

- <span data-ttu-id="7b53f-164">Один кодировщик tooboth основной и дополнительный URL-адреса в принудительной отправки:</span><span class="sxs-lookup"><span data-stu-id="7b53f-164">Single encoder double-pushing tooboth primary and secondary URLs:</span></span>

    <span data-ttu-id="7b53f-165">Здравствуйте, основная цель данного сценария является tooprovide больше колебаний toonetwork устойчивости и jitters.</span><span class="sxs-lookup"><span data-stu-id="7b53f-165">hello main purpose of this scenario is tooprovide more resiliency toonetwork fluctuations and jitters.</span></span> <span data-ttu-id="7b53f-166">Некоторые кодировщики RTMP не очень хорошо справляются с сетевыми отключениями.</span><span class="sxs-lookup"><span data-stu-id="7b53f-166">Some RTMP encoders don't handle network disconnects well.</span></span> <span data-ttu-id="7b53f-167">В случае отключения сетевого кодировщик может остановить кодирование и не отправлять данные в буфер hello в случае переподключения.</span><span class="sxs-lookup"><span data-stu-id="7b53f-167">When a network disconnect happens, an encoder might stop encoding and then not send hello buffered data when a reconnect happens.</span></span> <span data-ttu-id="7b53f-168">Это ведет к перебоям в работе и потере данных.</span><span class="sxs-lookup"><span data-stu-id="7b53f-168">This causes discontinuities and data loss.</span></span> <span data-ttu-id="7b53f-169">Отключает сетевой может произойти из-за обслуживания или неисправная сетевая hello Azure стороне.</span><span class="sxs-lookup"><span data-stu-id="7b53f-169">Network disconnects can happen because of a bad network or maintenance on hello Azure side.</span></span> <span data-ttu-id="7b53f-170">URL-адреса первичный или вторичный сократить hello сетевые проблемы и обеспечить управляемой процесса обновления.</span><span class="sxs-lookup"><span data-stu-id="7b53f-170">Primary/secondary URLs reduce hello network problems and provide a controlled upgrade process.</span></span> <span data-ttu-id="7b53f-171">Каждый раз, происходит отключения запланированного сетевого служб мультимедиа управляет hello первичный и вторичный отключаются, а также предоставляет отложенное соединения между двумя hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-171">Each time a scheduled network disconnect happens, Media Services manages hello primary and secondary disconnects and provides a delayed disconnect between hello two.</span></span> <span data-ttu-id="7b53f-172">Затем кодировщики имеют tookeep время отправки данных и повторно.</span><span class="sxs-lookup"><span data-stu-id="7b53f-172">Encoders then have time tookeep sending data and reconnect again.</span></span> <span data-ttu-id="7b53f-173">Отключает Hello порядок hello может быть случайным, но всегда будет задержка между первичный или вторичный или вторичной источник URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-173">hello order of hello disconnects can be random, but there will always be a delay between primary/secondary or secondary/primary URLs.</span></span> <span data-ttu-id="7b53f-174">В этом сценарии hello кодировщика по-прежнему hello единственной точки отказа.</span><span class="sxs-lookup"><span data-stu-id="7b53f-174">In this scenario, hello encoder is still hello single point of failure.</span></span>

- <span data-ttu-id="7b53f-175">Несколько кодировщиков, с каждого помещает tooa кодировщика выделенной точки:</span><span class="sxs-lookup"><span data-stu-id="7b53f-175">Multiple encoders, with each encoder pushing tooa dedicated point:</span></span>

    <span data-ttu-id="7b53f-176">Этот сценарий обеспечивает избыточность как кодировщиков, так и приема.</span><span class="sxs-lookup"><span data-stu-id="7b53f-176">This scenario provides both encoder and ingest redundancy.</span></span> <span data-ttu-id="7b53f-177">В этом сценарии encoder1 помещает toohello основной URL-адрес и encoder2 помещает toohello URL-адрес получателя.</span><span class="sxs-lookup"><span data-stu-id="7b53f-177">In this scenario, encoder1 pushes toohello primary URL, and encoder2 pushes toohello secondary URL.</span></span> <span data-ttu-id="7b53f-178">В случае сбоя кодировщик hello других кодировщика можно сохранить отправки данных.</span><span class="sxs-lookup"><span data-stu-id="7b53f-178">When an encoder fails, hello other encoder can keep sending data.</span></span> <span data-ttu-id="7b53f-179">Избыточность данных может осуществляться так, как службы мультимедиа не отключает основной и дополнительный URL-адреса в hello то же время.</span><span class="sxs-lookup"><span data-stu-id="7b53f-179">Data redundancy can be maintained because Media Services does not disconnect primary and secondary URLs at hello same time.</span></span> <span data-ttu-id="7b53f-180">Этот сценарий предполагает, что кодировщики время синхронизации и укажите ровно hello и тех же данных.</span><span class="sxs-lookup"><span data-stu-id="7b53f-180">This scenario assumes that encoders are time synced and provide exactly hello same data.</span></span>  

- <span data-ttu-id="7b53f-181">Несколько кодировщиков tooboth основной и дополнительный URL-адреса в принудительной отправки:</span><span class="sxs-lookup"><span data-stu-id="7b53f-181">Multiple encoders double-pushing tooboth primary and secondary URLs:</span></span>

    <span data-ttu-id="7b53f-182">В этом сценарии кодировщиков принудительной отправки данных tooboth основной и дополнительный URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="7b53f-182">In this scenario, both encoders push data tooboth primary and secondary URLs.</span></span> <span data-ttu-id="7b53f-183">Это обеспечивает hello наиболее надежность и отказоустойчивость, а также избыточность данных.</span><span class="sxs-lookup"><span data-stu-id="7b53f-183">This provides hello best reliability and fault tolerance, as well as data redundancy.</span></span> <span data-ttu-id="7b53f-184">Такая конфигурация может выдержать отключения и сбои обоих кодировщиков, даже если один из кодировщиков перестанет работать.</span><span class="sxs-lookup"><span data-stu-id="7b53f-184">This scenario can tolerate both encoder failures and disconnects, even if one encoder stops working.</span></span> <span data-ttu-id="7b53f-185">Предполагается, что кодировщики время синхронизации и укажите ровно hello и тех же данных.</span><span class="sxs-lookup"><span data-stu-id="7b53f-185">It assumes that encoders are time synced and provide exactly hello same data.</span></span>  

<span data-ttu-id="7b53f-186">Сведения о динамических кодировщиках RTMP см. в записи блога [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824) (Поддержка RTMP в службах мультимедиа Azure и динамические кодировщики).</span><span class="sxs-lookup"><span data-stu-id="7b53f-186">For information about RTMP live encoders, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

#### <a name="ingest-urls-endpoints"></a><span data-ttu-id="7b53f-187">URL-адреса (конечные точки) приема</span><span class="sxs-lookup"><span data-stu-id="7b53f-187">Ingest URLs (endpoints)</span></span>
<span data-ttu-id="7b53f-188">Канал предоставляет входную конечную точку (URL-адрес приема), указанные в кодировщика hello, поэтому hello кодировщик может поместить потоки tooyour каналов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-188">A channel provides an input endpoint (ingest URL) that you specify in hello live encoder, so hello encoder can push streams tooyour channels.</span></span>   

<span data-ttu-id="7b53f-189">Вы можете получить hello URL-адреса приема при создании канала hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-189">You can get hello ingest URLs when you create hello channel.</span></span> <span data-ttu-id="7b53f-190">Вы tooget эти URL-адреса канала hello не toobe в hello **под управлением** состояния.</span><span class="sxs-lookup"><span data-stu-id="7b53f-190">For you tooget these URLs, hello channel does not have toobe in hello **Running** state.</span></span> <span data-ttu-id="7b53f-191">Когда вы будете готовы toostart помещает toohello канал данных, hello канал должен находиться в hello **под управлением** состояния.</span><span class="sxs-lookup"><span data-stu-id="7b53f-191">When you're ready toostart pushing data toohello channel, hello channel must be in hello **Running** state.</span></span> <span data-ttu-id="7b53f-192">После запуска hello канала передачи данных можно просмотреть потока через URL-адрес предварительного просмотра hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-192">After hello channel starts ingesting data, you can preview your stream through hello preview URL.</span></span>

<span data-ttu-id="7b53f-193">Предусмотрена возможность приема динамического потока в формате "фрагментированный MP4" (Smooth Streaming) по SSL-подключению.</span><span class="sxs-lookup"><span data-stu-id="7b53f-193">You have an option of ingesting a fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span></span> <span data-ttu-id="7b53f-194">tooingest по протоколу SSL, убедитесь, что hello tooupdate приема tooHTTPS URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="7b53f-194">tooingest over SSL, make sure tooupdate hello ingest URL tooHTTPS.</span></span> <span data-ttu-id="7b53f-195">В настоящее время прием RTMP по протоколу SSL не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="7b53f-195">Currently, you cannot ingest RTMP over SSL.</span></span>

#### <span data-ttu-id="7b53f-196"><a id="keyframe_interval"></a>Интервал опорного кадра</span><span class="sxs-lookup"><span data-stu-id="7b53f-196"><a id="keyframe_interval"></a>Keyframe interval</span></span>
<span data-ttu-id="7b53f-197">При использовании локального динамического кодировщика toogenerate многоскоростной поток интервал опорного кадра hello задает длительность hello hello группы изображений (GOP), используемые этим внешним кодировщиком.</span><span class="sxs-lookup"><span data-stu-id="7b53f-197">When you're using an on-premises live encoder toogenerate multi-bitrate stream, hello keyframe interval specifies hello duration of hello group of pictures (GOP) as used by that external encoder.</span></span> <span data-ttu-id="7b53f-198">Получив hello канал этого входящего потока можно доставлять обновляющийся поток tooclient приложения для воспроизведения в любом из следующих форматов hello: Smooth Streaming, динамические адаптивной потоковой передачи по HTTP (дефис), а также HTTP Live Streaming (HLS).</span><span class="sxs-lookup"><span data-stu-id="7b53f-198">After hello channel receives this incoming stream, you can deliver your live stream tooclient playback applications in any of hello following formats: Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH), and HTTP Live Streaming (HLS).</span></span> <span data-ttu-id="7b53f-199">При динамической потоковой трансляции HLS всегда упаковывается динамически.</span><span class="sxs-lookup"><span data-stu-id="7b53f-199">When you're doing live streaming, HLS is always packaged dynamically.</span></span> <span data-ttu-id="7b53f-200">По умолчанию службы мультимедиа автоматически вычисляют hello коэффициент упаковки сегментов HLS (число фрагментов на сегмент) на основе интервала опорных кадров hello, получаемой из динамического кодировщика hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-200">By default, Media Services automatically calculates hello HLS segment packaging ratio (fragments per segment) based on hello keyframe interval that's received from hello live encoder.</span></span>

<span data-ttu-id="7b53f-201">Привет, в следующей таблице показано вычисление продолжительности сегментов hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-201">hello following table shows how hello segment duration is calculated:</span></span>

| <span data-ttu-id="7b53f-202">Интервал опорного кадра</span><span class="sxs-lookup"><span data-stu-id="7b53f-202">Keyframe interval</span></span> | <span data-ttu-id="7b53f-203">Соотношение упаковки сегмента HLS (FragmentsPerSegment)</span><span class="sxs-lookup"><span data-stu-id="7b53f-203">HLS segment packaging ratio (FragmentsPerSegment)</span></span> | <span data-ttu-id="7b53f-204">Пример</span><span class="sxs-lookup"><span data-stu-id="7b53f-204">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7b53f-205">Меньше или равен too3 секунд</span><span class="sxs-lookup"><span data-stu-id="7b53f-205">Less than or equal too3 seconds</span></span> |<span data-ttu-id="7b53f-206">3:1</span><span class="sxs-lookup"><span data-stu-id="7b53f-206">3:1</span></span> |<span data-ttu-id="7b53f-207">Если KeyFrameInterval (или GOP) 2 секунды, коэффициент упаковки сегментов HLS по умолчанию hello — 3 too1.</span><span class="sxs-lookup"><span data-stu-id="7b53f-207">If KeyFrameInterval (or GOP) is 2 seconds, hello default HLS segment packaging ratio is 3 too1.</span></span> <span data-ttu-id="7b53f-208">Это приведет к созданию сегмента HLS длительностью 6 секунд.</span><span class="sxs-lookup"><span data-stu-id="7b53f-208">This creates a 6-second HLS segment.</span></span> |
| <span data-ttu-id="7b53f-209">3 too5 секунд</span><span class="sxs-lookup"><span data-stu-id="7b53f-209">3 too5 seconds</span></span> |<span data-ttu-id="7b53f-210">2:1</span><span class="sxs-lookup"><span data-stu-id="7b53f-210">2:1</span></span> |<span data-ttu-id="7b53f-211">Если KeyFrameInterval (или GOP) составляет 4 секунды, коэффициент упаковки сегментов HLS по умолчанию hello — 2 too1.</span><span class="sxs-lookup"><span data-stu-id="7b53f-211">If KeyFrameInterval (or GOP) is 4 seconds, hello default HLS segment packaging ratio is 2 too1.</span></span> <span data-ttu-id="7b53f-212">Это приведет к созданию сегмента HLS длительностью 8 секунд.</span><span class="sxs-lookup"><span data-stu-id="7b53f-212">This creates an 8-second HLS segment.</span></span> |
| <span data-ttu-id="7b53f-213">Более 5 секунд</span><span class="sxs-lookup"><span data-stu-id="7b53f-213">Greater than 5 seconds</span></span> |<span data-ttu-id="7b53f-214">1:1</span><span class="sxs-lookup"><span data-stu-id="7b53f-214">1:1</span></span> |<span data-ttu-id="7b53f-215">Если KeyFrameInterval (или GOP) 6 секунд, коэффициент упаковки сегментов HLS по умолчанию hello — 1 too1.</span><span class="sxs-lookup"><span data-stu-id="7b53f-215">If KeyFrameInterval (or GOP) is 6 seconds, hello default HLS segment packaging ratio is 1 too1.</span></span> <span data-ttu-id="7b53f-216">Это приведет к созданию сегмента HLS длительностью 6 секунд.</span><span class="sxs-lookup"><span data-stu-id="7b53f-216">This creates a 6-second HLS segment.</span></span> |

<span data-ttu-id="7b53f-217">Можно изменить соотношение фрагментов на сегмент hello с выходных данных, указав FragmentsPerSegment на ChannelOutputHls Настройка канала hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-217">You can change hello fragments-per-segment ratio by configuring hello channel’s output and setting FragmentsPerSegment on ChannelOutputHls.</span></span>

<span data-ttu-id="7b53f-218">Также можно изменить значение интервала опорного кадра hello, установив свойство KeyFrameInterval hello на ChanneInput.</span><span class="sxs-lookup"><span data-stu-id="7b53f-218">You can also change hello keyframe interval value by setting hello KeyFrameInterval property on ChanneInput.</span></span> <span data-ttu-id="7b53f-219">Если KeyFrameInterval, коэффициент упаковки сегментов HLS hello FragmentsPerSegment вычисляется с помощью описанных ранее правил hello заданы явно.</span><span class="sxs-lookup"><span data-stu-id="7b53f-219">If you explicitly set KeyFrameInterval, hello HLS segment packaging ratio FragmentsPerSegment is calculated via hello rules described previously.</span></span>  

<span data-ttu-id="7b53f-220">Если явно задать KeyFrameInterval и FragmentsPerSegment служб мультимедиа будет использовать устанавливаемые значения hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-220">If you explicitly set both KeyFrameInterval and FragmentsPerSegment, Media Services will use hello values that you set.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="7b53f-221">Разрешенные IP-адреса</span><span class="sxs-lookup"><span data-stu-id="7b53f-221">Allowed IP addresses</span></span>
<span data-ttu-id="7b53f-222">Можно определить hello IP-адреса, разрешенные toopublish видео toothis канала.</span><span class="sxs-lookup"><span data-stu-id="7b53f-222">You can define hello IP addresses that are allowed toopublish video toothis channel.</span></span> <span data-ttu-id="7b53f-223">Разрешенные IP-адреса можно указать как один из следующих hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-223">An allowed IP address can be specified as one of hello following:</span></span>

* <span data-ttu-id="7b53f-224">отдельный IP-адрес (например, 10.0.0.1);</span><span class="sxs-lookup"><span data-stu-id="7b53f-224">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="7b53f-225">диапазон IP-адресов, заданный с помощью IP-адреса и маски подсети CIDR (например,10.0.0.1/22);</span><span class="sxs-lookup"><span data-stu-id="7b53f-225">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="7b53f-226">диапазон IP-адресов, заданный с помощью IP-адреса и маски подсети в десятичной записи (например, 10.0.0.1(255.255.252.0)).</span><span class="sxs-lookup"><span data-stu-id="7b53f-226">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

<span data-ttu-id="7b53f-227">Если IP-адреса не указаны и правила не заданы, ни один IP-адрес не разрешен.</span><span class="sxs-lookup"><span data-stu-id="7b53f-227">If no IP addresses are specified and there's no rule definition, then no IP address will be allowed.</span></span> <span data-ttu-id="7b53f-228">tooallow любой IP-адрес, создайте правило и задайте 0.0.0.0/0.</span><span class="sxs-lookup"><span data-stu-id="7b53f-228">tooallow any IP address, create a rule and set 0.0.0.0/0.</span></span>

### <a name="channel-preview"></a><span data-ttu-id="7b53f-229">Предварительный просмотр канала</span><span class="sxs-lookup"><span data-stu-id="7b53f-229">Channel preview</span></span>
#### <a name="preview-urls"></a><span data-ttu-id="7b53f-230">URL-адреса предварительного просмотра</span><span class="sxs-lookup"><span data-stu-id="7b53f-230">Preview URLs</span></span>
<span data-ttu-id="7b53f-231">Каналы обеспечивают конечную точку предварительного просмотра (URL-адрес предварительного просмотра) использовать toopreview и проверки потока перед дальнейшей обработкой и доставкой.</span><span class="sxs-lookup"><span data-stu-id="7b53f-231">Channels provide a preview endpoint (preview URL) that you use toopreview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="7b53f-232">URL-адрес предварительного просмотра hello можно получить при создании канала hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-232">You can get hello preview URL when you create hello channel.</span></span> <span data-ttu-id="7b53f-233">Вы tooget hello URL-адреса канала hello не имеют toobe hello **под управлением** состояния.</span><span class="sxs-lookup"><span data-stu-id="7b53f-233">For you tooget hello URL, hello channel does not have toobe in hello **Running** state.</span></span> <span data-ttu-id="7b53f-234">После запуска hello канала передачи данных можно Предварительный просмотр потока.</span><span class="sxs-lookup"><span data-stu-id="7b53f-234">After hello channel starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="7b53f-235">В настоящий момент поток предварительного просмотра hello может быть доставлен только в фрагментированный MP4 (Smooth Streaming) формат, независимо от того, hello указан тип входных данных.</span><span class="sxs-lookup"><span data-stu-id="7b53f-235">Currently, hello preview stream can be delivered only in fragmented MP4 (Smooth Streaming) format, regardless of hello specified input type.</span></span> <span data-ttu-id="7b53f-236">Можно использовать hello [Smooth Streaming монитор работоспособности](http://smf.cloudapp.net/healthmonitor) проигрывателя tootest hello smooth stream.</span><span class="sxs-lookup"><span data-stu-id="7b53f-236">You can use hello [Smooth Streaming Health Monitor](http://smf.cloudapp.net/healthmonitor) player tootest hello smooth stream.</span></span> <span data-ttu-id="7b53f-237">Можно также использовать проигрыватель, который размещается в hello Azure портала tooview потока.</span><span class="sxs-lookup"><span data-stu-id="7b53f-237">You can also use a player that's hosted in hello Azure portal tooview your stream.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="7b53f-238">Разрешенные IP-адреса</span><span class="sxs-lookup"><span data-stu-id="7b53f-238">Allowed IP addresses</span></span>
<span data-ttu-id="7b53f-239">Можно определить hello IP-адреса, разрешенные конечную точку предварительного просмотра toohello tooconnect.</span><span class="sxs-lookup"><span data-stu-id="7b53f-239">You can define hello IP addresses that are allowed tooconnect toohello preview endpoint.</span></span> <span data-ttu-id="7b53f-240">Если этого не сделать, будут разрешены все IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="7b53f-240">If no IP addresses are specified, any IP address will be allowed.</span></span> <span data-ttu-id="7b53f-241">Разрешенные IP-адреса можно указать как один из следующих hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-241">An allowed IP address can be specified as one of hello following:</span></span>

* <span data-ttu-id="7b53f-242">отдельный IP-адрес (например, 10.0.0.1);</span><span class="sxs-lookup"><span data-stu-id="7b53f-242">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="7b53f-243">диапазон IP-адресов, заданный с помощью IP-адреса и маски подсети CIDR (например,10.0.0.1/22);</span><span class="sxs-lookup"><span data-stu-id="7b53f-243">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="7b53f-244">диапазон IP-адресов, заданный с помощью IP-адреса и маски подсети в десятичной записи (например, 10.0.0.1(255.255.252.0)).</span><span class="sxs-lookup"><span data-stu-id="7b53f-244">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

### <a name="channel-output"></a><span data-ttu-id="7b53f-245">Вывод канала</span><span class="sxs-lookup"><span data-stu-id="7b53f-245">Channel output</span></span>
<span data-ttu-id="7b53f-246">Сведения о выходных данных канала см hello [интервал опорного кадра](#keyframe_interval) раздела.</span><span class="sxs-lookup"><span data-stu-id="7b53f-246">For information about channel output, see hello [Keyframe interval](#keyframe_interval) section.</span></span>

### <a name="channel-managed-programs"></a><span data-ttu-id="7b53f-247">Программы, управляемые каналом</span><span class="sxs-lookup"><span data-stu-id="7b53f-247">Channel-managed programs</span></span>
<span data-ttu-id="7b53f-248">Канал связан с программами, можно использовать toocontrol hello публикацией и хранением сегментов в потоковой трансляции.</span><span class="sxs-lookup"><span data-stu-id="7b53f-248">A channel is associated with programs that you can use toocontrol hello publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="7b53f-249">Каналы управляют программами.</span><span class="sxs-lookup"><span data-stu-id="7b53f-249">Channels manage programs.</span></span> <span data-ttu-id="7b53f-250">Hello каналом и программой связь является очень похожа tootraditional мультимедиа, где канал передает постоянный поток содержимого, а программа области toosome истекло время ожидания события в канале.</span><span class="sxs-lookup"><span data-stu-id="7b53f-250">hello channel and program relationship is very similar tootraditional media, where a channel has a constant stream of content and a program is scoped toosome timed event on that channel.</span></span>

<span data-ttu-id="7b53f-251">Можно указать hello количество часов, должна tooretain hello записанного содержимого для программы hello, установка hello **размер окна архива** длины.</span><span class="sxs-lookup"><span data-stu-id="7b53f-251">You can specify hello number of hours you want tooretain hello recorded content for hello program by setting hello **Archive Window** length.</span></span> <span data-ttu-id="7b53f-252">Это значение может быть задано в диапазоне от 5 минут до tooa 25 часов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-252">This value can be set from a minimum of 5 minutes tooa maximum of 25 hours.</span></span> <span data-ttu-id="7b53f-253">Размер окна архива также указывает максимальное количество раз, когда клиенты могут вернуться назад от текущей позиции трансляции hello hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-253">Archive window length also dictates hello maximum amount of time clients can seek back in time from hello current live position.</span></span> <span data-ttu-id="7b53f-254">Программы могут выходить за hello определенный промежуток времени, но контент за пределами hello длину промежутка постоянно удаляется.</span><span class="sxs-lookup"><span data-stu-id="7b53f-254">Programs can run over hello specified amount of time, but content that falls behind hello window length is continuously discarded.</span></span> <span data-ttu-id="7b53f-255">Это значение этого свойства также определяет, как долго клиента hello манифестов может увеличиваться.</span><span class="sxs-lookup"><span data-stu-id="7b53f-255">This value of this property also determines how long hello client manifests can grow.</span></span>

<span data-ttu-id="7b53f-256">Каждая программа связана с актив, который хранит содержимое hello потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="7b53f-256">Each program is associated with an asset that stores hello streamed content.</span></span> <span data-ttu-id="7b53f-257">Ресурс — контейнер больших двоичных объектов сопоставленных tooa блок в учетной записи хранилища Azure hello и hello файлы в активе hello хранятся в виде больших двоичных объектов в этом контейнере.</span><span class="sxs-lookup"><span data-stu-id="7b53f-257">An asset is mapped tooa block blob container in hello Azure storage account, and hello files in hello asset are stored as blobs in that container.</span></span> <span data-ttu-id="7b53f-258">Программа hello toopublish, клиентам можно открыть поток hello, необходимо создать указатель OnDemand для связанного hello активов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-258">toopublish hello program so your customers can view hello stream, you must create an OnDemand locator for hello associated asset.</span></span> <span data-ttu-id="7b53f-259">Можно использовать URL-адрес потоковой передачи, могут предоставить клиентам tooyour toobuild этот указатель.</span><span class="sxs-lookup"><span data-stu-id="7b53f-259">You can use this locator toobuild a streaming URL that you can provide tooyour clients.</span></span>

<span data-ttu-id="7b53f-260">Канал поддерживает до toothree одновременно запускаемых программ, поэтому можно создавать несколько архивов hello того же входящего потока.</span><span class="sxs-lookup"><span data-stu-id="7b53f-260">A channel supports up toothree concurrently running programs, so you can create multiple archives of hello same incoming stream.</span></span> <span data-ttu-id="7b53f-261">Благодаря этому можно публиковать и архивировать разные части транслируемого мероприятия.</span><span class="sxs-lookup"><span data-stu-id="7b53f-261">You can publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="7b53f-262">Например представьте, что ваших бизнес-требований tooarchive 6-часовой программы, но только hello toobroadcast последние 10 минут.</span><span class="sxs-lookup"><span data-stu-id="7b53f-262">For example, imagine that your business requirement is tooarchive 6 hours of a program, but toobroadcast only hello last 10 minutes.</span></span> <span data-ttu-id="7b53f-263">tooaccomplish это, необходимо toocreate две параллельно выполняющиеся программы.</span><span class="sxs-lookup"><span data-stu-id="7b53f-263">tooaccomplish this, you need toocreate two concurrently running programs.</span></span> <span data-ttu-id="7b53f-264">Одна программа устанавливается tooarchive 6 часов hello события, но программа hello не публикуется.</span><span class="sxs-lookup"><span data-stu-id="7b53f-264">One program is set tooarchive 6 hours of hello event, but hello program is not published.</span></span> <span data-ttu-id="7b53f-265">Hello другие программы tooarchive набор на 10 минут, а эта программа опубликована.</span><span class="sxs-lookup"><span data-stu-id="7b53f-265">hello other program is set tooarchive for 10 minutes, and this program is published.</span></span>

<span data-ttu-id="7b53f-266">Не используйте существующие программы повторно для новых мероприятий.</span><span class="sxs-lookup"><span data-stu-id="7b53f-266">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="7b53f-267">Вместо этого создайте новую программу для каждого события.</span><span class="sxs-lookup"><span data-stu-id="7b53f-267">Instead, create a new program for each event.</span></span> <span data-ttu-id="7b53f-268">Запуск программы hello, когда вы будете готовы toostart потоковой передачи и архивированию.</span><span class="sxs-lookup"><span data-stu-id="7b53f-268">Start hello program when you're ready toostart streaming and archiving.</span></span> <span data-ttu-id="7b53f-269">Остановите программу hello, когда захотите toostop потоковую передачу и архивировать событие hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-269">Stop hello program whenever you want toostop streaming and archiving hello event.</span></span>

<span data-ttu-id="7b53f-270">содержимое архива toodelete остановить и удалить программу hello и удалите связанный ресурс hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-270">toodelete archived content, stop and delete hello program, and then delete hello associated asset.</span></span> <span data-ttu-id="7b53f-271">Ресурс невозможно удалить, пока он используется какой-либо программой.</span><span class="sxs-lookup"><span data-stu-id="7b53f-271">An asset cannot be deleted if a program uses it.</span></span> <span data-ttu-id="7b53f-272">Программа Hello, необходимо сначала удалить.</span><span class="sxs-lookup"><span data-stu-id="7b53f-272">hello program must be deleted first.</span></span>

<span data-ttu-id="7b53f-273">Даже после остановки и удаления программы hello, пользователи могут потоковую передачу заархивированного контента как видео по запросу, пока не будет удалена hello активов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-273">Even after you stop and delete hello program, users can stream your archived content as a video on demand, until you delete hello asset.</span></span> <span data-ttu-id="7b53f-274">Если tooretain hello архивировать содержимое, но не было доступно для потоковой передачи, удалите hello потоковой передачи указателя.</span><span class="sxs-lookup"><span data-stu-id="7b53f-274">If you want tooretain hello archived content but not have it available for streaming, delete hello streaming locator.</span></span>

## <span data-ttu-id="7b53f-275"><a id="states"></a>Состояния канала и их сопоставление с режимом выставления счетов</span><span class="sxs-lookup"><span data-stu-id="7b53f-275"><a id="states"></a>Channel states and billing</span></span>
<span data-ttu-id="7b53f-276">Возможные значения для hello текущее состояние канала:</span><span class="sxs-lookup"><span data-stu-id="7b53f-276">Possible values for hello current state of a channel include:</span></span>

* <span data-ttu-id="7b53f-277">**Остановить**: это начальное состояние канала hello hello после ее создания.</span><span class="sxs-lookup"><span data-stu-id="7b53f-277">**Stopped**: This is hello initial state of hello channel after its creation.</span></span> <span data-ttu-id="7b53f-278">В этом состоянии свойства канала hello могут обновляться, но потоковая передача не разрешена.</span><span class="sxs-lookup"><span data-stu-id="7b53f-278">In this state, hello channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="7b53f-279">**Запуск**: hello канал запускается.</span><span class="sxs-lookup"><span data-stu-id="7b53f-279">**Starting**: hello channel is being started.</span></span> <span data-ttu-id="7b53f-280">В этом состоянии обновление и потоковая передача запрещены.</span><span class="sxs-lookup"><span data-stu-id="7b53f-280">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="7b53f-281">Если возникает ошибка, hello канал возвращает toohello **остановлена** состояния.</span><span class="sxs-lookup"><span data-stu-id="7b53f-281">If an error occurs, hello channel returns toohello **Stopped** state.</span></span>
* <span data-ttu-id="7b53f-282">**Под управлением**: hello канал может обрабатывать обновляющиеся потоки.</span><span class="sxs-lookup"><span data-stu-id="7b53f-282">**Running**: hello channel can process live streams.</span></span>
* <span data-ttu-id="7b53f-283">**Остановка**: hello канал останавливается.</span><span class="sxs-lookup"><span data-stu-id="7b53f-283">**Stopping**: hello channel is being stopped.</span></span> <span data-ttu-id="7b53f-284">В этом состоянии обновление и потоковая передача запрещены.</span><span class="sxs-lookup"><span data-stu-id="7b53f-284">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="7b53f-285">**Удаление**: hello канал удаляется.</span><span class="sxs-lookup"><span data-stu-id="7b53f-285">**Deleting**: hello channel is being deleted.</span></span> <span data-ttu-id="7b53f-286">В этом состоянии обновление и потоковая передача запрещены.</span><span class="sxs-lookup"><span data-stu-id="7b53f-286">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="7b53f-287">Hello ниже показано, как канал состояния режим карты toohello для выставления счетов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-287">hello following table shows how channel states map toohello billing mode.</span></span>

| <span data-ttu-id="7b53f-288">Состояние канала</span><span class="sxs-lookup"><span data-stu-id="7b53f-288">Channel state</span></span> | <span data-ttu-id="7b53f-289">Индикаторы в пользовательском интерфейсе портала</span><span class="sxs-lookup"><span data-stu-id="7b53f-289">Portal UI indicators</span></span> | <span data-ttu-id="7b53f-290">Выставление счетов</span><span class="sxs-lookup"><span data-stu-id="7b53f-290">Billed?</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7b53f-291">**Запуск**</span><span class="sxs-lookup"><span data-stu-id="7b53f-291">**Starting**</span></span> |<span data-ttu-id="7b53f-292">**Запуск**</span><span class="sxs-lookup"><span data-stu-id="7b53f-292">**Starting**</span></span> |<span data-ttu-id="7b53f-293">Нет (переходное состояние)</span><span class="sxs-lookup"><span data-stu-id="7b53f-293">No (transient state)</span></span> |
| <span data-ttu-id="7b53f-294">**Выполнение**</span><span class="sxs-lookup"><span data-stu-id="7b53f-294">**Running**</span></span> |<span data-ttu-id="7b53f-295">**Готово** (нет запущенных программ)</span><span class="sxs-lookup"><span data-stu-id="7b53f-295">**Ready** (no running programs)</span></span><p><p><span data-ttu-id="7b53f-296">или</span><span class="sxs-lookup"><span data-stu-id="7b53f-296">or</span></span><p><span data-ttu-id="7b53f-297">**Потоковая передача** (запущена по крайней мере одна программа)</span><span class="sxs-lookup"><span data-stu-id="7b53f-297">**Streaming** (at least one running program)</span></span> |<span data-ttu-id="7b53f-298">Да</span><span class="sxs-lookup"><span data-stu-id="7b53f-298">Yes</span></span> |
| <span data-ttu-id="7b53f-299">**Остановка**</span><span class="sxs-lookup"><span data-stu-id="7b53f-299">**Stopping**</span></span> |<span data-ttu-id="7b53f-300">**Остановка**</span><span class="sxs-lookup"><span data-stu-id="7b53f-300">**Stopping**</span></span> |<span data-ttu-id="7b53f-301">Нет (переходное состояние)</span><span class="sxs-lookup"><span data-stu-id="7b53f-301">No (transient state)</span></span> |
| <span data-ttu-id="7b53f-302">**Stopped**</span><span class="sxs-lookup"><span data-stu-id="7b53f-302">**Stopped**</span></span> |<span data-ttu-id="7b53f-303">**Stopped**</span><span class="sxs-lookup"><span data-stu-id="7b53f-303">**Stopped**</span></span> |<span data-ttu-id="7b53f-304">Нет</span><span class="sxs-lookup"><span data-stu-id="7b53f-304">No</span></span> |

## <span data-ttu-id="7b53f-305"><a id="cc_and_ads"></a>Вставка субтитров и рекламы</span><span class="sxs-lookup"><span data-stu-id="7b53f-305"><a id="cc_and_ads"></a>Closed captioning and ad insertion</span></span>
<span data-ttu-id="7b53f-306">Привет, в следующей таблице показано, поддерживаемые стандарты субтитры и вставки рекламы.</span><span class="sxs-lookup"><span data-stu-id="7b53f-306">hello following table demonstrates supported standards for closed captioning and ad insertion.</span></span>

| <span data-ttu-id="7b53f-307">Standard</span><span class="sxs-lookup"><span data-stu-id="7b53f-307">Standard</span></span> | <span data-ttu-id="7b53f-308">Примечания</span><span class="sxs-lookup"><span data-stu-id="7b53f-308">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="7b53f-309">CEA-708 и EIA-608 (708/608)</span><span class="sxs-lookup"><span data-stu-id="7b53f-309">CEA-708 and EIA-608 (708/608)</span></span> |<span data-ttu-id="7b53f-310">CEA-708 и EIA-608 закрыт субтитры стандарты для hello США и Канады.</span><span class="sxs-lookup"><span data-stu-id="7b53f-310">CEA-708 and EIA-608 are closed-captioning standards for hello United States and Canada.</span></span><p><p><span data-ttu-id="7b53f-311">В настоящее время субтитры поддерживаются только при передаче в закодированном входном потоке hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-311">Currently, captioning is supported only if carried in hello encoded input stream.</span></span> <span data-ttu-id="7b53f-312">Необходимо toouse динамический кодировщик мультимедиа, может вставлять субтитры 608 или 708 в hello закодированный поток, который отправил tooMedia служб.</span><span class="sxs-lookup"><span data-stu-id="7b53f-312">You need toouse a live media encoder that can insert 608 or 708 captions in hello encoded stream that's sent tooMedia Services.</span></span> <span data-ttu-id="7b53f-313">Службы мультимедиа доставляют содержимое hello со средствами просмотра tooyour вставленными титрами.</span><span class="sxs-lookup"><span data-stu-id="7b53f-313">Media Services delivers hello content with inserted captions tooyour viewers.</span></span> |
| <span data-ttu-id="7b53f-314">TTML в ismt (текстовые дорожки Smooth Streaming)</span><span class="sxs-lookup"><span data-stu-id="7b53f-314">TTML inside .ismt (Smooth Streaming text tracks)</span></span> |<span data-ttu-id="7b53f-315">Динамическая упаковка служб мультимедиа включает содержимое toostream клиентов в любом из следующих форматов hello: DASH, HLS или Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="7b53f-315">Media Services dynamic packaging enables your clients toostream content in any of hello following formats: DASH, HLS, or Smooth Streaming.</span></span> <span data-ttu-id="7b53f-316">Тем не менее, при получении фрагментированном формате MP4 (Smooth Streaming) с субтитрами в файле ismt (текстовые дорожки Smooth Streaming), можно доставить tooonly hello потока Smooth Streaming клиентов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-316">However, if you ingest fragmented MP4 (Smooth Streaming) with captions inside .ismt (Smooth Streaming text tracks), you can deliver hello stream tooonly Smooth Streaming clients.</span></span> |
| <span data-ttu-id="7b53f-317">SCTE-35</span><span class="sxs-lookup"><span data-stu-id="7b53f-317">SCTE-35</span></span> |<span data-ttu-id="7b53f-318">Стандарт SCTE-35 является цифровая обработка сигналов, применяющее toocue вставки рекламы.</span><span class="sxs-lookup"><span data-stu-id="7b53f-318">SCTE-35 is a digital signaling system that's used toocue advertising insertion.</span></span> <span data-ttu-id="7b53f-319">Нисходящие получатели используют hello сигнала toosplice рекламы в поток hello для hello, отведенное время.</span><span class="sxs-lookup"><span data-stu-id="7b53f-319">Downstream receivers use hello signal toosplice advertising into hello stream for hello allotted time.</span></span> <span data-ttu-id="7b53f-320">Стандарт SCTE-35 необходимо отправить как разреженную дорожку во входном потоке hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-320">SCTE-35 must be sent as a sparse track in hello input stream.</span></span><p><p><span data-ttu-id="7b53f-321">В настоящее время фрагментировано hello поддерживается только формат входного потока, который для передачи сигналов ad MP4 (Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="7b53f-321">Currently, hello only supported input stream format that carries ad signals is fragmented MP4 (Smooth Streaming).</span></span> <span data-ttu-id="7b53f-322">Hello поддерживается только выходной формат — также Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="7b53f-322">hello only supported output format is also Smooth Streaming.</span></span> |

## <span data-ttu-id="7b53f-323"><a id="considerations"></a>Рекомендации</span><span class="sxs-lookup"><span data-stu-id="7b53f-323"><a id="considerations"></a>Considerations</span></span>
<span data-ttu-id="7b53f-324">При использовании локального динамического кодировщика toosend канал tooa многоскоростной поток применяются следующие ограничения hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-324">When you're using an on-premises live encoder toosend a multi-bitrate stream tooa channel, hello following constraints apply:</span></span>

* <span data-ttu-id="7b53f-325">Убедитесь, что имеется достаточно свободного Интернет подключения toosend данных toohello приема точек.</span><span class="sxs-lookup"><span data-stu-id="7b53f-325">Make sure you have sufficient free Internet connectivity toosend data toohello ingest points.</span></span>
* <span data-ttu-id="7b53f-326">Для использования дополнительного URL-адреса приема требуется дополнительная пропускная способность.</span><span class="sxs-lookup"><span data-stu-id="7b53f-326">Using a secondary ingest URL requires additional bandwidth.</span></span>
* <span data-ttu-id="7b53f-327">Hello входящих многоскоростной поток может быть более 10 уровней качества видео (слои) и более 5 звуковые дорожки.</span><span class="sxs-lookup"><span data-stu-id="7b53f-327">hello incoming multi-bitrate stream can have a maximum of 10 video quality levels (layers) and a maximum of 5 audio tracks.</span></span>
* <span data-ttu-id="7b53f-328">Hello наибольший Средняя скорость для всех уровней качества видео hello всегда должно быть меньше 10 Мбит/с.</span><span class="sxs-lookup"><span data-stu-id="7b53f-328">hello highest average bitrate for any of hello video quality levels should be below 10 Mbps.</span></span>
* <span data-ttu-id="7b53f-329">Hello hello среднее скоростей для всех hello видео- и аудиопотоки результат статистической обработки должен быть менее 25 Мбит/с.</span><span class="sxs-lookup"><span data-stu-id="7b53f-329">hello aggregate of hello average bitrates for all hello video and audio streams should be below 25 Mbps.</span></span>
* <span data-ttu-id="7b53f-330">Входной протокол hello при канала hello нельзя изменить или его связанного приложения.</span><span class="sxs-lookup"><span data-stu-id="7b53f-330">You cannot change hello input protocol while hello channel or its associated programs are running.</span></span> <span data-ttu-id="7b53f-331">Если вам нужны другие протоколы, создайте отдельный канал для каждого из них.</span><span class="sxs-lookup"><span data-stu-id="7b53f-331">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="7b53f-332">Канал может принимать поток с одной скоростью передачи.</span><span class="sxs-lookup"><span data-stu-id="7b53f-332">You can ingest a single bitrate in your channel.</span></span> <span data-ttu-id="7b53f-333">Но так как канал hello не обрабатывает поток hello, hello клиентские приложения также будет получать односкоростной поток.</span><span class="sxs-lookup"><span data-stu-id="7b53f-333">But because hello channel does not process hello stream, hello client applications will also receive a single bitrate stream.</span></span> <span data-ttu-id="7b53f-334">(Этот вариант не рекомендуется.)</span><span class="sxs-lookup"><span data-stu-id="7b53f-334">(We don't recommend this option.)</span></span>

<span data-ttu-id="7b53f-335">Ниже приведены другие связанные вопросы-tooworking с каналами и связанных компонентов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-335">Here are other considerations related tooworking with channels and related components:</span></span>

* <span data-ttu-id="7b53f-336">Каждой повторной настройке динамического кодировщика hello, вызовите hello **Сброс** метод на канале hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-336">Every time you reconfigure hello live encoder, call hello **Reset** method on hello channel.</span></span> <span data-ttu-id="7b53f-337">Перед сбросом канала hello установлена программа toostop hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-337">Before you reset hello channel, you have toostop hello program.</span></span> <span data-ttu-id="7b53f-338">После сброса канала hello, перезапустите программу hello.</span><span class="sxs-lookup"><span data-stu-id="7b53f-338">After you reset hello channel, restart hello program.</span></span>
* <span data-ttu-id="7b53f-339">Канал можно остановить только в том случае, когда он находится в hello **под управлением** состояние и все программы канала hello были остановлены.</span><span class="sxs-lookup"><span data-stu-id="7b53f-339">A channel can be stopped only when it's in hello **Running** state and all programs on hello channel have been stopped.</span></span>
* <span data-ttu-id="7b53f-340">По умолчанию можно добавить учетную запись служб мультимедиа tooyour только 5 каналов.</span><span class="sxs-lookup"><span data-stu-id="7b53f-340">By default, you can add only 5 channels tooyour Media Services account.</span></span> <span data-ttu-id="7b53f-341">Дополнительные сведения см. в статье [Квоты и ограничения](media-services-quotas-and-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="7b53f-341">For more information, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>
* <span data-ttu-id="7b53f-342">С вас взимается плата только в том случае, если канал находится в hello **под управлением** состояния.</span><span class="sxs-lookup"><span data-stu-id="7b53f-342">You are billed only when your channel is in hello **Running** state.</span></span> <span data-ttu-id="7b53f-343">Дополнительные сведения см. в разделе toohello [каналов состояний и выставление счетов](media-services-live-streaming-with-onprem-encoders.md#states) раздела.</span><span class="sxs-lookup"><span data-stu-id="7b53f-343">For more information, refer toohello [Channel states and billing](media-services-live-streaming-with-onprem-encoders.md#states) section.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="7b53f-344">Схемы обучения работе со службами мультимедиа</span><span class="sxs-lookup"><span data-stu-id="7b53f-344">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="feedback"></a><span data-ttu-id="7b53f-345">Отзыв</span><span class="sxs-lookup"><span data-stu-id="7b53f-345">Feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="7b53f-346">Связанные разделы</span><span class="sxs-lookup"><span data-stu-id="7b53f-346">Related topics</span></span>
[<span data-ttu-id="7b53f-347">Спецификация приема фрагментированного потока MP4 в режиме реального времени в службах мультимедиа Azure</span><span class="sxs-lookup"><span data-stu-id="7b53f-347">Azure Media Services fragmented MP4 live ingest specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[<span data-ttu-id="7b53f-348">Общие сведения о службах мультимедиа Azure и распространенные сценарии</span><span class="sxs-lookup"><span data-stu-id="7b53f-348">Azure Media Services overview and common scenarios</span></span>](media-services-overview.md)

[<span data-ttu-id="7b53f-349">Основные понятия служб мультимедиа Azure</span><span class="sxs-lookup"><span data-stu-id="7b53f-349">Media Services concepts</span></span>](media-services-concepts.md)

[live-overview]: ./media/media-services-manage-channels-overview/media-services-live-streaming-current.png
