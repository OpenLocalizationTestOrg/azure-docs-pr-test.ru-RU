---
title: "aaaOverview динамической потоковой передачи с помощью служб мультимедиа Azure | Документы Microsoft"
description: "В этой статье приводятся общие сведения о потоковой трансляции с использованием служб мультимедиа Azure."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: fb63502e-914d-4c1f-853c-4a7831bb08e8
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/29/2017
ms.author: juliako
ms.openlocfilehash: edc49069db6b491902bdcbb808b1974858cc92f1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="overview-of-live-streaming-using-azure-media-services"></a>Общие сведения о потоковой трансляции с использованием служб мультимедиа Azure
## <a name="overview"></a>Обзор
При доставке динамическую потоковой передачи событий с помощью служб мультимедиа Azure hello следующие компоненты обычно участвуют.

* Камера, используемые toobroadcast события.
* Динамический кодировщик видео, который преобразует сигналы с toostreams hello камеры, отправленных tooa динамической потоковой службы.

    Несколько синхронизированных кодировщиков прямой передачи (по желанию). Для определенных критических событий, которые требуют высокой доступности и качества передачи, рекомендуется tooemploy активных избыточные кодировщики с время синхронизации tooachieve прозрачную отработку отказа без потери данных.
* Службу потоковой трансляции, позволяющая hello toodo следующие:

  * прием содержимого в реальном времени с использованием различных протоколов динамической потоковой передачи (например, RTMP или Smooth Streaming);
  * кодирование вашего потока в поток с адаптивной скоростью (по желанию);
  * предварительный просмотр динамического потока;
  * запись и хранилище полученный hello в порядке toobe потоковая передача более поздней версии (видео по запросу)
  * Доставка контента hello по стандартным протоколам потоковой трансляции (например, MPEG DASH, Smooth, HLS) непосредственно клиентам tooyour или tooa сеть доставки содержимого (CDN) для дальнейшего распределения.

**Службы мультимедиа Microsoft Azure** (AMS) предоставляет возможность tooingest hello, кодирования, предварительного просмотра, хранения и доставить контент в реальном времени.

При доставке вашего содержимого toocustomers поставленной задачи является toodeliver к устройствам высокое качество видео toovarious условиях другую сеть. tooachieve это, используйте live tooencode кодировщики поток tooa потокового видео многоскоростной (адаптивный битрейт).  tootake заботиться о потоковой передачи на разных устройствах, использование служб мультимедиа [динамической упаковки](media-services-dynamic-packaging-overview.md) toodynamically повторно упаковать свои протоколы toodifferent потока. Службы мультимедиа поддерживают доставку hello следующие технологии потоковой передачи с адаптивной скоростью: HTTP Live Streaming (HLS), Smooth Streaming, MPEG DASH.

В службах мультимедиа Azure **каналы**, **программы**, и **конечных точек потоковой передачи** все hello live streaming функции, включая получение, форматирование, DVR, дескриптор безопасность, масштабируемость и избыточность.

**Канал** представляет собой конвейер для обработки содержимого, передаваемого динамически в потоковом режиме. Канал может получать динамические входные потоки в hello следующих способов:

* Локальный динамический кодировщик отправляет многоскоростной **RTMP** или **Smooth Streaming** (фрагментированными MP4) toohello каналов, настроенный для **сквозной** доставки. Hello **сквозной** доставки при hello полученный потоки проходят через **канала**s без дополнительной обработки. Можно использовать следующие динамические кодировщики, выдающие многоскоростной Smooth Streaming hello: MediaExcel, Ateme, представьте себе связи, Envivio, Cisco и кодировщики Elemental. Hello следующие динамические кодировщики выдают поток RTMP: Adobe Flash Media Live кодировщик (FMLE), Telestream Wirecast, Haivision, Teradek и транскодеры Tricaster.  Динамический кодировщик можно также отправить канал tooa односкоростной поток не включен для динамического кодирования, но не рекомендуется. При запросе службы мультимедиа доставляют toocustomers поток hello.

  > [!NOTE]
  > Сквозной методом является наиболее экономичным способом hello toodo динамической трансляцией при выполнении нескольких событий за длительное время, и уже были вложены в локальных кодировщиков. См. сведения о [ценах](https://azure.microsoft.com/pricing/details/media-services/).
  > 
  > 
* Локальный динамический кодировщик отправляет скоростями один поток toohello канал, который будет включен tooperform live кодирование с помощью служб мультимедиа в одном из следующих форматов hello: RTMP или Smooth Streaming (фрагментированный MP4). RTP (MPEG-TS) также поддерживается, если у вас имеются в центр обработки данных Azure toohello выделенное соединение. следующие динамические кодировщики с RTMP Hello вывода известны toowork с каналами этого типа: Telestream Wirecast, FMLE. Hello каналов выполняет динамическое кодирование входящего hello односкоростной поток tooa многоскоростной (адаптивный) видеопоток. При запросе службы мультимедиа доставляют toocustomers поток hello.

Начиная с версии 2.10 служб мультимедиа hello, при создании канала, можно указать, каким способом для канала tooreceive потока входных данных hello и требуется ли для hello канала tooperform live кодирования этого потока. Существует два варианта.

* **Нет** (сквозной) — задайте это значение, если планируется toouse на локальный динамический кодировщик, который будет выдавать многоскоростной поток (сквозной поток). В этом случае hello входящий поток передается от toohello выходные данные без какой-либо кодировке. Это поведение hello выпуска предыдущих too2.10 канала.  
* **Стандартная** — выберите это значение, если планируется tooencode Media Services toouse потока скоростями toomulti односкоростной динамический поток. Этот метод служит наиболее экономичным решением для быстрого масштабирования редких событий. Имейте в виду, что тарифа для динамического кодирования и следует помнить, что, остаются в состоянии «Работает» hello динамического кодирования канала будет взиматься плата выставления счетов.  Рекомендуется немедленно остановить выполнение каналы после передачи интерактивного события потоковой передачи — полный tooavoid лишние почасовая плата.

## <a name="comparison-of-channel-types"></a>Сравнение типов каналов
Ниже приводится руководство toocomparing hello два канала типы, поддерживаемые в службах мультимедиа

| Функция | Сквозной канал | Стандартный канал |
| --- | --- | --- |
| Входные данные односкоростной кодируется в несколько битрейтов в облаке hello |Нет |Да |
| Максимальное разрешение, количество слоев |1080p, 8 слоев, 60 и более кадров в секунду |720p, 6 слоев, 30 и более кадров в секунду |
| Протоколы входных данных |RTMP, Smooth Streaming |RTMP, Smooth Streaming и RTP |
| Цена |В разделе hello [странице цен](https://azure.microsoft.com/pricing/details/media-services/) и щелкните вкладку «Live видео» |В разделе hello [странице цен](https://azure.microsoft.com/pricing/details/media-services/) |
| Максимальное время выполнения |24x7 |8 ч |
| Поддержка вставки баннеров |Нет |Да |
| Поддержка сигнализации о рекламе |Нет |Да |
| Сквозная передача субтитров стандарта CEA 608/708 |Да |Да |
| Возможность toorecover из краткое ожиданий в публикации веб-канала |Да |Нет (канал начнет вставку через 6 или более секунд без входных данных) |
| Поддержка неоднородных GPO |Да |Нет — входные данные должны представлять собой двухсекундные GOP с фиксированной скоростью передачи |
| Поддержка входных данных с переменной частотой кадров |Да |Нет — входные данные должны иметь фиксированную частоту кадров.<br/>Небольшие колебания допустимы, например, в сценах с высокой скоростью движения. Но кодировщик не удается удалить too10 кадров в секунду. |
| Автоотключение каналов при потере входного потока данных |Нет |Через 12 часов, если не будет запущена ни одна программа |

## <a name="working-with-channels-that-receive-multi-bitrate-live-stream-from-on-premises-encoders-pass-through"></a>Работа с каналами, получающими динамические многоскоростные потоки данных от локальных кодировщиков (сквозная передача)
Hello следующей схеме показаны hello основные части платформы hello AMS, участвующих в hello **сквозной** рабочего процесса.

![Динамический рабочий процесс](./media/media-services-live-streaming-workflow/media-services-live-streaming-current.png)

Дополнительные сведения см. в разделе [Работа с каналами, получающими динамические многоскоростные потоки данных от локальных кодировщиков (сквозная передача)](media-services-live-streaming-with-onprem-encoders.md).

## <a name="working-with-channels-that-are-enabled-tooperform-live-encoding-with-azure-media-services"></a>Работа с каналами, которые будут включены tooperform динамического кодирования с помощью служб мультимедиа Azure
Hello следующая диаграмма показывает hello основные части платформы AMS hello, участвующих в рабочем процессе Live Streaming где канал с включенной tooperform динамического кодирования с помощью служб мультимедиа.

![Динамический рабочий процесс](./media/media-services-live-streaming-workflow/media-services-live-streaming-new.png)

Дополнительные сведения см. в разделе [работа с каналами, что включено tooPerform Live кодирование выполняется с помощью служб мультимедиа Azure](media-services-manage-live-encoder-enabled-channels.md).

## <a name="description-of-a-channel-and-its-related-components"></a>Описание канала и связанных с ним компонентов
### <a name="channel"></a>Канал
В службах мультимедиа [каналы](https://docs.microsoft.com/rest/api/media/operations/channel)отвечают за обработку обновляющегося содержимого потоковой трансляции. Канал предоставляет входную конечную точку (приема URL-адрес) введите tooa динамического транскодера. Hello канал получает входные потоки трансляции из динамического транскодера hello и делает ее доступной для потоковой передачи через одну или несколько конечных точек потоковой передачи. Каналы также обеспечивают конечную точку предварительного просмотра (URL-адрес предварительного просмотра) использовать toopreview и проверки потока перед дальнейшей обработкой и доставкой.

Вы можете получить hello приема и URL-адрес предварительного просмотра hello при создании канала hello. tooget эти URL-адреса hello канал не toobe в состоянии работы hello. Когда вы будете готовы toostart передачу данных из динамического транскодера в канал hello, hello канал должен быть запущен. После hello динамический транскодер начнет принимать данные, можно просмотреть потока.

Каждая учетная запись служб мультимедиа может содержать множество каналов, программ и конечных служб StreamingEndpoint. В зависимости от hello пропускной способности и требований к безопасности конечной точки потоковой передачи служб может быть выделенной tooone или несколько каналов. Любая служба StreamingEndpoint может извлекать данные из любого канала.

### <a name="program"></a>Программа
Объект [программы](https://docs.microsoft.com/rest/api/media/operations/program) позволяет toocontrol hello публикацией и хранением сегментов в потоковой трансляции. Каналы управляют программами. Hello каналом и программой связь является очень похожа tootraditional мультимедиа, где канал передает постоянный поток содержимого, а программа области toosome истекло время ожидания события в канале.
Можно указать hello количество часов, должна tooretain hello записанного содержимого для программы hello, установка hello **ArchiveWindowLength** свойство. Это значение может быть задано в диапазоне от 5 минут до tooa 25 часов.

В параметре ArchiveWindowLength также указывает максимальное количество раз, когда клиенты могут вернуться назад от текущей позиции трансляции hello hello. Программы могут выходить за hello определенный промежуток времени, но контент за пределами hello длину промежутка постоянно удаляется. Это значение этого свойства также определяет, как долго клиента hello манифестов может увеличиваться.

Каждая программа связана с ресурсом. Программа hello toopublish, необходимо создать указатель hello связанные средства. Наличие указателя позволит toobuild URL-адрес потоковой передачи, могут предоставить клиентам tooyour.

Канал поддерживает до toothree одновременно запускаемых программ, можно создавать множественные архивы hello того же входящего потока. Это позволяет toopublish и архивировать разные части события при необходимости. Например ваших бизнес-требований — tooarchive 6-часовой программы, но toobroadcast только последние 10 минут. tooaccomplish это, необходимо toocreate две параллельно выполняющиеся программы. Одна программа установлено tooarchive 6 часов hello события, но программа hello не публикуется. Hello программа не tooarchive набор на 10 минут и публикации этой программы.

## <a name="billing-implications"></a>Процесс выставления счетов
Канал начинает выставления счетов, как можно скорее переходит в состояние слишком «запущен» через hello API.  

Hello следующей таблице показано сопоставление канала состояний toobilling состояний в hello API и портал Azure. Обратите внимание, что состояния hello немного отличается от hello API и портал UI. Как только канал находится в hello состояние «Выполняется» через hello API, или в hello «Готово» или «Streaming» состояние в hello портал Azure, выставление счетов будет активным.

Канал hello toostop из выставления счетов, можно дополнительно, у вас tooStop hello канала hello API или hello портал Azure.
Вы отвечаете за остановка каналы завершении hello канала. Сбой toostop hello каналов приведет к постоянной выставления счетов.

> [!NOTE]
> При работе с каналами, стандартная AMS автоматически выключению любой канал, который все еще находится в состоянии «Работает» 12 часов после ввода hello веб-канал теряется и нет программ, под управлением. Тем не менее вы по-прежнему выставляются для hello время приветствия канал был в состоянии «Работает».
>
>

### <a id="states"></a>Состояния канала и их сопоставлении toohello режим выставления счетов
Привет текущее состояние канала. Ниже перечислены возможные значения.

* **Остановлен**. Это начальное состояние hello hello канала после ее создания (если не автозапуск был выбран в портале hello.) В этом состоянии начисление оплаты не происходит. В этом состоянии свойства канала hello могут обновляться, но потоковая передача не разрешена.
* **Запуск**. Hello канал запускается. В этом состоянии начисление оплаты не происходит. В этом состоянии обновление и потоковая передача запрещены. При возникновении ошибки hello канал возвращает toohello остановленном состоянии.
* **Выполняется**. Hello канал может обрабатывать обновляющиеся потоки. Теперь оплата начисляется. Необходимо остановить tooprevent канала hello дальнейшего выставления счетов.
* **Остановка**. Hello канал останавливается. В этом переходном состоянии оплата не начисляется. В этом состоянии обновление и потоковая передача запрещены.
* **Удаление**. Hello канал удаляется. В этом переходном состоянии оплата не начисляется. В этом состоянии обновление и потоковая передача запрещены.

Hello ниже показано, как канал состояния режим карты toohello для выставления счетов.

| Состояние канала | Индикаторы в пользовательском интерфейсе портала | Это начисление оплаты? |
| --- | --- | --- |
| Запуск |Запуск |Нет (переходное состояние) |
| Выполняется |Готово (нет запущенных программ)<br/>или<br/>Потоковая передача (запущена по крайней мере одна программа) |ДА |
| Остановка |Остановка |Нет (переходное состояние) |
| Остановлен |Остановлен |Нет |

## <a name="media-services-learning-paths"></a>Схемы обучения работе со службами мультимедиа
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a>Отзывы
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a>Связанные разделы
[Спецификация приема фрагментированного MP4 в реальном времени в службах мультимедиа Azure](media-services-fmp4-live-ingest-overview.md)

[Работа с каналами, что включено tooPerform Live кодирование выполняется с помощью служб мультимедиа Azure](media-services-manage-live-encoder-enabled-channels.md)

[Работа с каналами, получающими динамические многоскоростные потоки данных от локальных кодировщиков](media-services-live-streaming-with-onprem-encoders.md)

[Квоты и ограничения](media-services-quotas-and-limitations.md)  

[Основные понятия служб мультимедиа](media-services-concepts.md)
