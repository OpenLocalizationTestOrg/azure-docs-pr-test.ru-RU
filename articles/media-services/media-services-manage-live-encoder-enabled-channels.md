---
title: "aaaLive потоковая передача с помощью служб мультимедиа Azure toocreate многоскоростной потоки | Документы Microsoft"
description: "В этом разделе описывается, как tooset канал, который получает односкоростной динамический поток из кодировщика в локальной среде, а затем выполняет динамического кодирования tooadaptive скоростью потока с помощью служб мультимедиа. Hello поток может затем быть доставлен tooclient воспроизведения приложений через один или несколько потоковых конечных точек, с помощью одного из hello следующие протоколы адаптивной потоковой передачи: MPEG DASH HLS, Smooth Stream."
services: media-services
documentationcenter: 
author: anilmur
manager: cfowler
editor: 
ms.assetid: 30ce6556-b0ff-46d8-a15d-5f10e4c360e2
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/09/2017
ms.author: juliako;anilmur
ms.openlocfilehash: a8bbdd1570cc9a11bfc2de7bb4ceb9006cc25534
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="live-streaming-using-azure-media-services-toocreate-multi-bitrate-streams"></a>Live streaming с помощью служб мультимедиа Azure toocreate многоскоростной потоков
## <a name="overview"></a>Обзор
В службах мультимедиа Azure (AMS) **канал** представляет конвейер для обработки динамического потокового контента. **Канал** получает входные потоки одним из двух способов.

* Локальный динамический кодировщик отправляет скоростями один поток toohello канал, который будет включен tooperform live кодирование с помощью служб мультимедиа в одном из следующих форматов hello: RTP (MPEG-TS), RTMP или Smooth Streaming (фрагментированный MP4). Hello каналов выполняет динамическое кодирование входящего hello односкоростной поток tooa многоскоростной (адаптивный) видеопоток. При запросе службы мультимедиа доставляют toocustomers поток hello.
* Локальный динамический кодировщик отправляет многоскоростной **RTMP** или **Smooth Streaming** канал toohello (фрагментированный MP4), не включена динамическая кодирование с помощью AMS tooperform. Полученный Hello потоки проходят через **канала**s без дополнительной обработки. Этот способ называется **сквозной передачей**. Можно использовать следующие динамические кодировщики, выдающие многоскоростной Smooth Streaming hello: MediaExcel, Ateme, представьте себе связи, Envivio, Cisco и кодировщики Elemental. Hello следующие динамические кодировщики выдают поток RTMP: кодировщики Adobe Flash Media Live кодировщик (FMLE), Telestream Wirecast, Haivision, Teradek и Tricaster.  Динамический кодировщик можно также отправить канал tooa односкоростной поток не включен для динамического кодирования, но не рекомендуется. При запросе службы мультимедиа доставляют toocustomers поток hello.
  
  > [!NOTE]
  > С помощью сквозной метода является наиболее экономичным способом hello toodo динамической потоковой передачи.
  > 
  > 

Начиная с версии 2.10 служб мультимедиа hello, при создании канала, можно указать, каким способом для канала tooreceive потока входных данных hello и требуется ли для hello канала tooperform live кодирования этого потока. Существует два варианта.

* **Нет** — задайте это значение, если планируется toouse на локальный динамический кодировщик, который будет выдавать многоскоростной поток (сквозной поток). В этом случае hello входящий поток передается от toohello выходные данные без какой-либо кодировке. Это поведение hello выпуска предыдущих too2.10 канала.  Более подробную информацию о работе с каналами такого типа см. в статье [Потоковая трансляция с помощью локальных кодировщиков, создающих потоки с разными скоростями](media-services-live-streaming-with-onprem-encoders.md).
* **Стандартная** — выберите это значение, если планируется tooencode Media Services toouse потока скоростями toomulti односкоростной динамический поток. Имейте в виду, что тарифа для динамического кодирования и следует помнить, что, остаются в состоянии «Работает» hello динамического кодирования канала будет взиматься плата выставления счетов.  Рекомендуется немедленно остановить выполнение каналы после передачи интерактивного события потоковой передачи — полный tooavoid лишние почасовая плата.

> [!NOTE]
> В этом разделе рассматриваются атрибуты каналов, которые включены динамического кодирования tooperform (**Стандартная** тип кодировки). Сведения о работе с каналами, которые не включены tooperform динамического кодирования, см. в разделе [потоковой трансляции с помощью локальных кодировщиков, которые создают потоки с разными скоростями](media-services-live-streaming-with-onprem-encoders.md).
> 
> Убедитесь, что hello tooreview [вопросы](media-services-manage-live-encoder-enabled-channels.md#Considerations) раздела.
> 
> 

## <a name="billing-implications"></a>Процесс выставления счетов
Динамического кодирования канала начинает выставления счетов, как можно скорее переходит в состояние слишком «запущен» через hello API.   Также можно выяснить состояние hello в hello портал Azure или в средство обозревателя служб мультимедиа Azure hello (http://aka.ms/amse).

Hello следующей таблице показано сопоставление канала состояний toobilling состояний в hello API и портал Azure. Обратите внимание, что состояния hello немного отличается от hello API и портал UI. Как только канал находится в hello состояние «Выполняется» через hello API, или в hello «Готово» или «Streaming» состояние в hello портал Azure, выставление счетов будет активным.
Канал hello toostop из выставления счетов, можно дополнительно, у вас tooStop hello канала hello API или hello портал Azure.
Вы отвечаете за остановка каналы завершении hello динамического кодирования канала.  Сбой toostop канал кодирования приведет к постоянной выставления счетов.

### <a id="states"></a>Состояния канала и их сопоставлении toohello режим выставления счетов
Привет текущее состояние канала. Ниже перечислены возможные значения.

* **Остановлен**. Это начальное состояние hello hello канала после ее создания (если не автозапуск был выбран в портале hello.) В этом состоянии начисление оплаты не происходит. В этом состоянии свойства канала hello могут обновляться, но потоковая передача не разрешена.
* **Запуск**. Hello канал запускается. В этом состоянии начисление оплаты не происходит. В этом состоянии обновление и потоковая передача запрещены. При возникновении ошибки hello канал возвращает toohello остановленном состоянии.
* **Выполняется**. Hello канал может обрабатывать обновляющиеся потоки. Теперь оплата начисляется. Необходимо остановить tooprevent канала hello дальнейшего выставления счетов. 
* **Остановка**. Hello канал останавливается. В этом переходном состоянии оплата не начисляется. В этом состоянии обновление и потоковая передача запрещены.
* **Удаление**. Hello канал удаляется. В этом переходном состоянии оплата не начисляется. В этом состоянии обновление и потоковая передача запрещены.

Hello ниже показано, как канал состояния режим карты toohello для выставления счетов. 

| Состояние канала | Индикаторы в пользовательском интерфейсе портала | Это начисление оплаты? |
| --- | --- | --- |
| Запуск |Запуск |Нет (переходное состояние) |
| Выполняется |Готово (нет запущенных программ)<br/>или<br/>Потоковая передача (запущена по крайней мере одна программа) |ДА |
| Остановка |Остановка |Нет (переходное состояние) |
| Остановлен |Остановлен |Нет |

### <a name="automatic-shut-off-for-unused-channels"></a>Автоматическое отключение неиспользуемых каналов
Начиная с 25 января 2016 г. службы мультимедиа развертывают обновление, которое автоматически останавливает канал (с включенным кодированием в режиме реального времени), не используемый в течение длительного периода. Это относится tooChannels, которых нет активных программ и который не получили входной вклад, веб-канала в течение продолжительного периода времени.

Пороговое значение Hello в течение неиспользуемые обычно общедоступны 12 часов, но toochange субъекта.

## <a name="live-encoding-workflow"></a>Процесс кодирования в реальном времени
Hello приведенной ниже схеме представлена динамической потоковой передачи рабочего процесса, где канал получает односкоростной поток в одном из следующих протоколов hello: RTMP, Smooth Streaming или RTP (MPEG-TS); Затем он кодирует hello поток tooa многоскоростной поток. 

![Динамический рабочий процесс][live-overview]

## <a id="scenario"></a>Стандартный сценарий потоковой передачи в реальном времени
Hello ниже приведены общие шаги, связанные с созданием общих приложений потоковой передачи.

> [!NOTE]
> В настоящее время hello max рекомендуется длительность динамической события — 8 часов. Если вам требуется toorun канала для более длительного времени, обратитесь в службу amslived сайте Microsoft.com. Имейте в виду, что тарифа для динамического кодирования и следует помнить, что, остаются в состоянии «Работает» hello динамического кодирования канала будет взиматься плата почасовой выставления счетов.  Рекомендуется немедленно остановить выполнение каналы после передачи интерактивного события потоковой передачи — полный tooavoid лишние почасовая плата. 
> 
> 

1. Подключение компьютера tooa камеры. Запустить и настроить на локальный динамический кодировщик, который может **одного** потока в одном из следующих протоколов hello: RTMP, Smooth Streaming или RTP (MPEG-TS). 
   
    Это действие также можно выполнить после создания канала.
2. Создайте и запустите канал. 
3. Получение hello канал приема URL-адрес. 
   
    URL-адрес приема Hello используется toohello hello динамического кодировщика toosend hello потока канала.
4. Получить URL-адрес предварительного просмотра канала hello. 
   
    Используйте этот URL-адрес tooverify, что ваш канал правильно получает hello обновляющегося потока.
5. Создайте программу. 
   
    Когда с помощью hello портал Azure, создание программы также создает актива. 
   
    При использовании пакета SDK для .NET или REST требуется toocreate актива и указать toouse этот ресурс, при создании программы. 
6. Опубликуйте актив hello, связанный с программой hello.   
   
    >[!NOTE]
    >При создании учетной записи AMS **по умолчанию** конечной точки потоковой передачи в hello добавлена учетная запись tooyour **остановлена** состояния. Привет, из которого нужно toostream содержимое конечной точки потоковой передачи имеет toobe в hello **под управлением** состояния. 
    
7. Запуск программы hello, при готовности toostart потоковой передачи и архивированию.
8. При необходимости hello динамическому кодировщику можно сигнальное toostart объявления. объявления Hello вставляется в выходной поток hello.
9. Остановите программу hello, когда захотите toostop потоковую передачу и архивировать событие hello.
10. Удалите hello программы (и при необходимости удалить средство hello).   

> [!NOTE]
> Очень важно не tooforget tooStop динамический канал кодировка. Имейте в виду, что каждый час выставления счетов влияния для динамического кодирования и следует помнить, что, остаются в состоянии «Работает» hello динамического кодирования канала будет взиматься плата выставления счетов.  Рекомендуется немедленно остановить выполнение каналы после передачи интерактивного события потоковой передачи — полный tooavoid лишние почасовая плата. 
> 
> 

## <a id="channel"></a>Конфигурации приема канала
### <a id="Ingest_Protocols"></a>Протокол входного потока
Если hello **типа кодировщика** задано слишком**Стандартная**, допустимые параметры:

* **RTP** (MPEG-TS): MPEG-2 TS по RTP  
* Односкоростной **RTMP**
* Односкоростной **фрагментированный MP4** (Smooth Streaming)

#### <a name="rtp-mpeg-ts---mpeg-2-transport-stream-over-rtp"></a>RTP (MPEG-TS) — MPEG-2 TS по RTP
Типичный случай использования: 

Профессиональные источников обычно работают с высоким быстродействием локальной динамических кодировщиков из поставщиков, таких как элементарных технологий, Ericsson, Ateme, Imagine или Envivio toosend потока. При этом они часто сотрудничают с ИТ-отделами и применяют частные сети.

Рекомендации:

* Настоятельно рекомендуется использовать Hello однопрограммный транспортный поток (SPTS) входных данных. 
* Здесь можно ввести вверх too8 аудиопотоков с помощью MPEG-2 TS через RTP. 
* Hello видеопоток должен иметь Средняя скорость менее 15 Мбит/с
* Hello статистические Средняя скорость hello звуковых потоков всегда должно быть меньше 1 Мбит/с
* Поддерживаемые кодеки Здравствуйте, следующие:
  
  * видеокодек MPEG-2 / H.262; 
    
    * основной профиль (4:2:0);
    * высокий профиль (4:2:0, 4:2:2);
    * профиль 422 (4:2:0, 4:2:2);
  * видеокодек MPEG-4 AVC/H.264;  
    
    * базовый, основной, высокий профиль (8-битный 4:2:0);
    * высокий профиль 10 (10-битный 4:2:0);
    * высокий профиль 422 (10-битный 4:2:2);
  * аудиокодек MPEG-2 AAC-LC; 
    
    * моно, стерео, окружающий звук (5.1, 7.1);
    * упаковка ADTS в стиле MPEG-2;
  * аудиокодек Dolby Digital (AC-3); 
    
    * моно, стерео, окружающий звук (5.1, 7.1);
  * MPEG-аудио (слой II и III); 
    
    * моно, стерео.
* Рекомендуемые вещательные кодировщики:
  
  * Imagine Communications Selenio ENC 1
  * Imagine Communications Selenio ENC 2
  * Elemental Live

#### <a id="single_bitrate_RTMP"></a>Односкоростной RTMP
Рекомендации:

* Hello входящего потока не может содержать многоскоростной видео
* Hello видеопоток должен иметь Средняя скорость менее 15 Мбит/с
* аудиопоток Hello должны иметь Средняя скорость менее 1 Мбит/с
* Поддерживаемые кодеки Здравствуйте, следующие:
* видеокодек MPEG-4 AVC/H.264;
* базовый, основной, высокий профиль (8-битный 4:2:0);
* высокий профиль 10 (10-битный 4:2:0);
* высокий профиль 422 (10-битный 4:2:2);
* аудиокодек MPEG-2 AAC-LC;
* моно, стерео, окружающий звук (5.1, 7.1);
* Частота дискретизации 44,1 кГц
* упаковка ADTS в стиле MPEG-2.
* Рекомендуемые кодировщики:
* Telestream Wirecast
* Flash Media Live Encoder

#### <a name="single-bitrate-fragmented-mp4-smooth-streaming"></a>Односкоростной фрагментированный MP4 (Smooth Streaming)
Типичный случай использования:

Использовать локальную динамических кодировщиков от поставщиков, например элементарных технологий, Ericsson, Ateme, Envivio toosend hello входной поток по hello откройте internet tooa ближайших центр обработки данных Azure.

Рекомендации:

Аналогичны рекомендациям для [односкоростного протокола RTMP](media-services-manage-live-encoder-enabled-channels.md#single_bitrate_RTMP).

#### <a name="other-considerations"></a>Дополнительные рекомендации
* Входной протокол hello при hello канала нельзя изменить или его связанного приложения. Если вам нужны другие протоколы, создайте отдельный канал для каждого из них.
* Максимальное разрешение для входящего потока видео hello составляет 1920 x 1080 и не более 60 поля в секунду Если чередующийся или 30 кадров в секунду при последовательной.

### <a name="ingest-urls-endpoints"></a>URL-адреса (конечные точки) приема
Канал предоставляет входную конечную точку (URL-адрес приема), указанные в кодировщика hello, поэтому hello кодировщик может поместить потоки tooyour каналов.

Вы можете получить hello URL-адреса приема после создания канала. tooget эти URL-адреса hello канала не имеет toobe в hello **под управлением** состояния. Когда вы будете готовы toostart принудительной отправке данных в hello канала, он должен находиться в hello **под управлением** состояния. После канала hello начнет принимать данные, можно просмотреть потока через URL-адрес предварительного просмотра hello.

У вас есть возможность приема потока в реальном времени в формате фрагментированного MP4 (Smooth Streaming) через SSL-подключение. tooingest по протоколу SSL, убедитесь, что hello tooupdate приема tooHTTPS URL-адрес. Обратите внимание, что в настоящее время AMS не поддерживает SSL для личных доменов.  

### <a name="allowed-ip-addresses"></a>Разрешенные IP-адреса
Можно определить hello IP-адреса, разрешенные toopublish видео toothis канала. Разрешенные IP-адреса можно указать в виде одного IP-адреса (например, 10.0.0.1), диапазона IP-адресов, заданного с помощью IP-адреса и маски подсети CIDR (например, 10.0.0.1/22), или диапазона IP-адресов, заданного с помощью IP-адреса и маски подсети в десятичной записи (например, 10.0.0.1(255.255.252.0)).

Если не указаны IP-адреса и не определено правило, разрешенных IP-адресов нет. tooallow любой IP-адрес, создайте правило и задайте 0.0.0.0/0.

## <a name="channel-preview"></a>Предварительный просмотр канала
### <a name="preview-urls"></a>URL-адреса предварительного просмотра
Каналы обеспечивают конечную точку предварительного просмотра (URL-адрес предварительного просмотра) использовать toopreview и проверки потока перед дальнейшей обработкой и доставкой.

URL-адрес предварительного просмотра hello можно получить при создании канала hello. URL-адрес tooget hello hello канал не toobe в hello **под управлением** состояния.

После канала hello начнет принимать данные, можно просмотреть потока.

> [!NOTE]
> В данный момент поток предварительного просмотра hello могут доставляться только в фрагментированный MP4 (Smooth Streaming) формат, независимо от того, hello указывается тип входных данных. Можно использовать hello [http://smf.cloudapp.net/healthmonitor](http://smf.cloudapp.net/healthmonitor) проигрывателя tootest hello Smooth Stream. Можно также использовать проигрыватель размещенного в Azure портала tooview hello потока.
> 
> 

### <a name="allowed-ip-addresses"></a>Разрешенные IP-адреса
Можно определить hello IP-адреса, разрешенные конечную точку предварительного просмотра toohello tooconnect. Если этого не сделать, будут разрешены все IP-адреса. Разрешенные IP-адреса можно указать в виде одного IP-адреса (например, 10.0.0.1), диапазона IP-адресов, заданного с помощью IP-адреса и маски подсети CIDR (например, 10.0.0.1/22), или диапазона IP-адресов, заданного с помощью IP-адреса и маски подсети в десятичной записи (например, 10.0.0.1(255.255.252.0)).

## <a name="live-encoding-settings"></a>Параметры кодирования в реальном времени
В этом разделе описывается, как может быть hello параметры для hello динамическому кодировщику в канале hello скорректирована, когда hello **тип кодировки** канала задано слишком**Standard**.

> [!NOTE]
> При вводе нескольких языковых дорожек и выполнении кодирования в реальном времени с помощью Azure для ввода нескольких языков поддерживается только RTP. Определяется too8 аудиопотоков с помощью MPEG-2 TS через RTP. Прием нескольких звуковых дорожек RTMP или Smooth Streaming в настоящее время не поддерживается. При выполнении динамического кодирования с помощью [live локальной кодирует](media-services-live-streaming-with-onprem-encoders.md), нет таких ограничений, так как все, что отправляется tooAMS проходит через канал без дополнительной обработки.
> 
> 

### <a name="ad-marker-source"></a>Источник маркера рекламы
Можно указать hello источник для сигналов маркеров рекламы. Значение по умолчанию — **Api**, которое указывает, динамический кодировщик hello в hello канала должен прослушивать асинхронный tooan **API маркера Ad**.

Hello другое допустимое значение — **Scte35** (допускается только в том случае, если приема hello протокол потоковой передачи имеет значение tooRTP (MPEG-TS). Если указано Scte35 hello динамической кодировщик будет анализировать сигналы стандарт SCTE-35 из входного потока RTP (MPEG-TS) hello.

### <a name="cea-708-closed-captions"></a>Субтитры стандарта CEA-708
Необязательный флаг, указывающий динамическому кодировщику tooignore hello все данные заголовков CEA 708, внедренных в hello входящее видео. При установке флага hello toofalse (по умолчанию), кодировщик hello обнаружит и повторно вставить данные CEA 708, включенных в выходные видеопотоки hello.

### <a name="video-stream"></a>Видеопоток
необязательный параметр. Описывает входной видеопоток hello. Если это поле не указано, используется значение по умолчанию hello. Этот параметр допускается только в том случае, если hello входной протокол потоковой передачи имеет значение tooRTP (MPEG-TS).

#### <a name="index"></a>Индекс
Отсчитываемый от нуля индекс, который указывает, какой входной видеопоток должен обрабатываться hello динамическому кодировщику в канале hello. Этот параметр применяется, только если протоколом входного потока является RTP (MPEG-TS).

Значение по умолчанию — нуль. Рекомендуется toosend в однопрограммный транспортный поток (SPTS). Если hello входной поток содержит несколько программ, динамический кодировщик hello анализирует hello таблицы карты программы (PMT) во входных данных hello, идентифицирует hello входные данные с именем типа потока MPEG-2 Video или H.264 и размещает их по порядку hello hello Возмож. Отсчитываемый от нуля индекс Hello используется toopick копирование hello n й записи в этом расположении.

### <a name="audio-stream"></a>Аудиопоток
необязательный параметр. Описывает входные звуковые потоки hello. Если это поле не указано, применяются значения по умолчанию hello. Этот параметр допускается только в том случае, если hello входной протокол потоковой передачи имеет значение tooRTP (MPEG-TS).

#### <a name="index"></a>Индекс
Рекомендуется toosend в однопрограммный транспортный поток (SPTS). Если hello входной поток содержит несколько программ, hello динамическому кодировщику в канале hello выполняет синтаксический анализ hello таблицы карты программы (PMT) во входных данных hello, идентифицирует hello входные данные с именем типа потока MPEG-2 AAC ADTS AC-3 System-A или AC-3 System-B или закрытый MPEG-2 Синтаксические ошибки или MPEG-1 Audio или MPEG-2 Audio и размещает их по порядку hello hello Возмож. Отсчитываемый от нуля индекс Hello используется toopick копирование hello n й записи в этом расположении.

#### <a name="language"></a>Язык
Здравствуйте, идентификатор языка звукового потока hello, соответствующий tooISO 639-2, например ENG. Если он отсутствует, по умолчанию hello-UND (не определено).

Может быть too8 аудиопоток, который устанавливает с указанием hello входной канал toohello ли MPEG-2 TS через RTP. Тем не менее, может быть двух записей с hello тем же значением индекса.

### <a id="preset"></a>Системная предустановка
Указывает, что hello предустановку toobe используемые hello динамическому кодировщику в этом канале. В настоящее время hello только допустимое значение — **Default720p** (по умолчанию).

Обратите внимание: если требуются пользовательские предустановки, следует обратиться к amslived на сайте Microsoft.com.

**Default720p** будет кодирования видео hello в следующие 7 уровней hello.

#### <a name="output-video-stream"></a>Выходной видеопоток
| Скорость | Ширина | Высота: | Макс. кадров/с | Профиль | Имя выходного потока |
| --- | --- | --- | --- | --- | --- |
| 3500 |1280 |720 |30 |Высокий |Video_1280x720_3500kbps |
| 2200 |960 |540 |30 |Главная |Video_960x540_2200kbps |
| 1350 |704 |396 |30 |Главная |Video_704x396_1350kbps |
| 850 |512 |288 |30 |Главная |Video_512x288_850kbps |
| 550 |384 |216 |30 |Главная |Video_384x216_550kbps |
| 350 |340 |192 |30 |Базовый |Video_340x192_350kbps |
| 200 |340 |192 |30 |Базовый |Video_340x192_200kbps |

#### <a name="output-audio-stream"></a>Выходной аудиопоток
Аудио — кодировке toostereo AAC-LC 64 Кбит/с, выборки дискретизации 44,1 кГц.

## <a name="signaling-advertisements"></a>Сигнализация о рекламе
Если для канала включено кодирование в реальном времени, в конвейере появляется компонент, который обрабатывает видео и может управлять им. Можно сигнал для hello канала tooinsert, портативные ПК и/или объявления в исходящий поток с адаптивной скоростью hello. Портативные ПК по-прежнему являются изображениями, можно использовать toocover копии входных динамического канала hello в некоторых случаях (например, во время рекламной паузы). Рекламу сигналов, — это время синхронизировано сигналов, встраиваемый в hello исходящего потока tootell hello видеопроигрыватель tootake специальных действий, таких как tooswitch tooan объявление в соответствующее время hello. См. в этом [блог](https://codesequoia.wordpress.com/2014/02/24/understanding-scte-35/) Обзор hello стандарт SCTE-35 сигнальных механизм, используемый для этой цели. Ниже описан типичный сценарий, который можно реализовать в рамках трансляции.

1. У ваши коллеги получение образа СОБЫТИЙ до начала события hello.
2. У ваши коллеги получить изображение после СОБЫТИЙ после окончания события hello.
3. У ваши коллеги получить изображение СОБЫТИЕ ошибки, если имеется проблема при обработке события hello (например, сбой питания в стадиона hello).
4. Отправка Рекламной ПАУЗЫ изображения toohide hello динамической события веб-канала во время рекламной паузы.

Здесь представлены Hello hello свойства, которые можно задать при сигнализации объявлений. 

### <a name="duration"></a>Duration
Hello длительность в секундах для hello рекламной паузы. Это имеет toobe ненулевое положительное значение в порядке toostart hello рекламной паузы. При рекламной паузы в ходе выполнения и длительность hello является набор toozero с hello CueId сопоставления hello рекламной паузы на постоянной основе, то отменены break.

### <a name="cueid"></a>CueId
Уникальный идентификатор рекламной паузы hello, toobe используется подчиненным приложением tootake соответствующих действий. Требуется toobe положительным целым числом. Можно задать это значение tooany случайное положительное целое число или использовать hello tootrack вышестоящего системы идентификаторы подсказки. Сделать все целые числа toopositive идентификаторы определенных toonormalize перед отправкой через hello API.

### <a name="show-slate"></a>Показать лист
необязательный параметр. Сигнализирует hello динамического кодировщика tooswitch toohello [по умолчанию Сланец](media-services-manage-live-encoder-enabled-channels.md#default_slate) образ во время рекламной паузы и скрыть hello входящий канал видео. Звук на это время также выключается. Значение по умолчанию — **false**. 

hello одного указанного с помощью средства планшета по умолчанию hello свойство идентификатора во время создания канала hello hello будет использоваться изображение Hello. Hello материала будет увеличить размер toofit hello отображаемого изображения. 

## <a name="insert-slate--images"></a>Вставка изображений баннеров
Hello динамическому кодировщику в канале hello может быть сигнальное tooswitch tooa планшета изображения. Он также может быть сигнальное tooend заставки. 

Hello динамическому кодировщику можно настроенных tooswitch tooa планшета изображения и скрыть hello входящий видеосигнал в определенных ситуациях — например, во время рекламной паузы. Если лист не настроен, видео во время рекламной паузы не скрывается.

### <a name="duration"></a>Duration
Привет длительность материала hello в секундах. Это имеет toobe ненулевое положительное значение в порядке toostart hello материала. Если задать длительность равной нулю во время показа листа, его показ будет завершен.

### <a name="insert-slate-on-ad-marker"></a>Вставить лист при получении маркера рекламы
Когда набор tootrue, этот параметр настраивает tooinsert hello динамическому кодировщику изображения планшета во время рекламной паузы. значение по умолчанию Hello имеет значение true. 

### <a id="default_slate"></a>Идентификатор ресурс-контейнера баннера по умолчанию

необязательный параметр. Указывает идентификатор ресурса служб мультимедиа, содержащий изображение заставки hello hello hello. Значение по умолчанию — null. 


>[!NOTE] 
>Перед созданием канала hello, hello отправить изображение заставки с hello следующие ограничения должны быть качестве выделенного ресурса (не должно быть других файлов в этом ресурсе). Этот образ используется только при hello динамического кодировщика Вставка материала из-за tooan рекламной паузы или было явно сигнал tooinsert материала. Hello динамическому кодировщику можно также перевести в планшета режим при возникновении определенных ошибок — например если hello входной сигнал будет потеряно. Нет в настоящее время не toouse параметр настраиваемого образа при динамического кодировщика hello переходит в таких состояние «входного сигнала потеряно». Вы можете проголосовать за данную функцию [здесь](https://feedback.azure.com/forums/169396-azure-media-services/suggestions/10190457-define-custom-slate-image-on-a-live-encoder-channel).


* Максимальное разрешение 1920 x 1080.
* Максимальный размер 3 МБ.
* Имя файла Hello должно иметь расширение JPG.
* Hello изображения должен быть передан в актив как приветствия только AssetFile в этом ресурсе и этот AssetFile должен быть помечен как hello первичный файл. Hello ОС не может быть зашифрованного в хранилище.

Если hello **по умолчанию планшетных идентификатор ресурса** не указан, и **Вставка содержания в маркере рекламы** задано слишком**true**, изображение по умолчанию службы мультимедиа Azure будет hello используется toohide ввода видеопоток. Звук на это время также выключается. 

## <a name="channels-programs"></a>Программы канала
Канал связан с программами, которые позволяют toocontrol hello публикацией и хранением сегментов в потоковой трансляции. Каналы управляют программами. Hello каналом и программой связь является очень похожа tootraditional мультимедиа, где канал передает постоянный поток содержимого, а программа области toosome истекло время ожидания события в канале.

Можно указать hello количество часов, должна tooretain hello записанного содержимого для программы hello, установка hello **размер окна архива** длины. Это значение может быть задано в диапазоне от 5 минут до tooa 25 часов. Размер окна архива также указывает максимальное количество раз, когда клиенты могут вернуться назад от текущей позиции трансляции hello hello. Программы могут выходить за hello определенный промежуток времени, но контент за пределами hello длину промежутка постоянно удаляется. Это значение этого свойства также определяет, как долго клиента hello манифестов может увеличиваться.

Каждая программа связана с актива, где хранится содержимое hello потоковой передачи. Ресурс — контейнер больших двоичных объектов сопоставленных tooa блок в учетной записи хранилища Azure hello и hello файлы в активе hello хранятся в виде больших двоичных объектов в этом контейнере. Программа hello toopublish, чтобы ваши клиенты могли просмотреть hello потока, необходимо создать указатель OnDemand для hello связанные средства. Наличие указателя позволит toobuild URL-адрес потоковой передачи, могут предоставить клиентам tooyour.

Канал поддерживает до toothree одновременно запускаемых программ, можно создавать множественные архивы hello того же входящего потока. Это позволяет toopublish и архивировать разные части события при необходимости. Например ваших бизнес-требований — tooarchive 6-часовой программы, но toobroadcast только последние 10 минут. tooaccomplish это, необходимо toocreate две параллельно выполняющиеся программы. Одна программа установлено tooarchive 6 часов hello события, но программа hello не публикуется. Hello программа не tooarchive набор на 10 минут и публикации этой программы.

Не используйте существующие программы повторно для новых мероприятий. Вместо этого создайте и запустите новую программу для каждого события, как описано в разделе Программирование приложений Live Streaming hello.

Запуск программы hello, при готовности toostart потоковой передачи и архивированию. Остановите программу hello, когда захотите toostop потоковую передачу и архивировать событие hello. 

toodelete архивировать содержимое, остановить и удалить программу hello и затем удалите связанный ресурс hello. Актив нельзя удалить, если он используется программой; Программа Hello, необходимо сначала удалить. 

Даже после остановки и удаления программы hello, hello пользователей будет доступ toostream заархивированный контент как видео по запросу, до тех пор, пока вы не удалите hello активов.

Если вы хотите архивировать hello tooretain содержимого, но не было доступно для потоковой передачи, удалите hello потоковой передачи указателя.

## <a name="getting-a-thumbnail-preview-of-a-live-feed"></a>Получение эскиза динамического канала
При включении динамического кодирования, теперь вы можете получить предварительный просмотр hello динамического канала как достигнет hello канала. Это может быть toocheck ценным инструментом ли ваш динамической веб-канал действительно достигают канала hello. 

## <a id="states"></a>Состояния канала и сопоставление состояний toohello режим выставления счетов
Привет текущее состояние канала. Ниже перечислены возможные значения.

* **Остановлен**. Это начальное состояние hello hello канала после ее создания. В этом состоянии свойства канала hello могут обновляться, но потоковая передача не разрешена.
* **Запуск**. Hello канал запускается. В этом состоянии обновление и потоковая передача запрещены. При возникновении ошибки hello канал возвращает toohello остановленном состоянии.
* **Выполняется**. Hello канал может обрабатывать обновляющиеся потоки.
* **Остановка**. Hello канал останавливается. В этом состоянии обновление и потоковая передача запрещены.
* **Удаление**. Hello канал удаляется. В этом состоянии обновление и потоковая передача запрещены.

Hello ниже показано, как канал состояния режим карты toohello для выставления счетов. 

| Состояние канала | Индикаторы в пользовательском интерфейсе портала | Выставление счетов |
| --- | --- | --- |
| Запуск |Запуск |Нет (переходное состояние) |
| Выполняется |Готово (нет запущенных программ)<br/>или<br/>Потоковая передача (запущена по крайней мере одна программа) |ДА |
| Остановка |Остановка |Нет (переходное состояние) |
| Остановлен |Остановлен |Нет |

> [!NOTE]
> В настоящее время начала среднее hello канала составляет около 2 минут, но в некоторых случаях может занять несколько минут too20 +. Сброс каналов может занять too5 минут.
> 
> 

## <a id="Considerations"></a>Рекомендации
* Если канал **Стандартная** тип кодировки возникает потеря входного источника/вклад веб-канала, он компенсирует его, заменив hello источник видео и аудио Сланец ошибки и бездействия. Hello канала будет продолжаться tooemit Сланец до ввода hello/вклад резюме веб-канала. Мы не рекомендуем оставлять динамический канал в таком состоянии больше двух часов. После этой точки, поведение hello hello канала входных повторное не гарантируется, ни один не его поведение в ответ tooa команды Reset. Будет иметь toostop hello канал, удалите его и создайте новый.
* Входной протокол hello при hello канала нельзя изменить или его связанного приложения. Если вам нужны другие протоколы, создайте отдельный канал для каждого из них.
* Каждой повторной настройке динамического кодировщика hello, вызовите hello **Сброс** метод на канале hello. Перед сбросом канала hello установлена программа toostop hello. После сброса канала hello, перезапустите программу hello.
* Канал может быть остановлен только в том случае, если он находится в состоянии выполнения hello и все программы на канале hello были остановлены.
* По умолчанию можно добавить только 5 каналов tooyour учетная запись служб мультимедиа. Это мягкая квота для всех новых учетных записей. Дополнительные сведения см. в разделе [Квоты и ограничения](media-services-quotas-and-limitations.md).
* Входной протокол hello при hello канала нельзя изменить или его связанного приложения. Если вам нужны другие протоколы, создайте отдельный канал для каждого из них.
* Счета выставляются, только если канал находится в hello **под управлением** состояния. Дополнительные сведения см. в разделе слишком[это](media-services-manage-live-encoder-enabled-channels.md#states) раздела.
* В настоящее время hello max рекомендуется длительность динамической события — 8 часов. Если вам требуется toorun канала для более длительного времени, обратитесь в службу amslived сайте Microsoft.com.
* Убедитесь, что toohave hello конечной точки потоковой передачи, из которого нужно toostream содержимое hello **под управлением** состояния.
* При вводе нескольких языковых дорожек и выполнении кодирования в реальном времени с помощью Azure для ввода нескольких языков поддерживается только RTP. Определяется too8 аудиопотоков с помощью MPEG-2 TS через RTP. Прием нескольких звуковых дорожек RTMP или Smooth Streaming в настоящее время не поддерживается. При выполнении динамического кодирования с помощью [live локальной кодирует](media-services-live-streaming-with-onprem-encoders.md), нет таких ограничений, так как все, что отправляется tooAMS проходит через канал без дополнительной обработки.
* Здравствуйте, кодирование hello предустановленную использует понятие «max частота кадров «30 кадров/с. Поэтому если hello ввода 60 кадров/с / 59.97i, входной фрагменты кода hello не удалены или деактивировать-interlaced too30/29,97 кадров в секунду. Если входные данные hello 50 кадров/с/50i, входной фрагменты кода hello не удалены или деактивировать-interlaced too25 кадров/с. Если входные данные hello 25 кадров/с, выходных данных остается в 25 кадров/с.
* Не забывайте tooSTOP YOUR каналы после завершения. Если этого не сделать, плата продолжит начисляться.

## <a name="known-issues"></a>Известные проблемы
* Время запуска каналов была улучшена среднее tooan 2 минуты, но в некоторых случаях растущим требованиям по-прежнему может занять несколько минут too20 +.
* Поддержка RTP адаптируется к профессиональным вещателям. Просмотрите заметки hello на RTP в [это](https://azure.microsoft.com/blog/2015/04/13/an-introduction-to-live-encoding-with-azure-media-services/) блога.
* Изображения планшета должно соответствовать описано toorestrictions [здесь](media-services-manage-live-encoder-enabled-channels.md#default_slate). При попытке создайте канал с ошибкой по умолчанию планшета, размер которого превышает 1920 x 1080, hello, запрос будет со временем ожидания.
* Еще раз... не забывайте tooSTOP YOUR каналы, по завершении потоковой передачи. Если этого не сделать, плата продолжит начисляться.

## <a name="next-step"></a>Дальнейшие действия
Просмотрите схемы обучения работе со службами мультимедиа.

[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a>Отзывы
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a>Связанные разделы
[Трансляция мероприятий путем динамической потоковой передачи с помощью служб мультимедиа Azure](media-services-overview.md)

[Создание каналов, выполнение динамического кодирования из одной скоростью tooadaptive скоростью потока с портала](media-services-portal-creating-live-encoder-enabled-channel.md)

[Создание каналов, выполнение динамического кодирования из tooadaptive скоростью одной скоростью потока с помощью пакета SDK для .NET](media-services-dotnet-creating-live-encoder-enabled-channel.md)

[Channel](https://docs.microsoft.com/rest/api/media/operations/channel)
 
[Основные понятия служб мультимедиа](media-services-concepts.md)

[Спецификация приема фрагментированного MP4 в реальном времени в службах мультимедиа Azure](media-services-fmp4-live-ingest-overview.md)

[live-overview]: ./media/media-services-manage-live-encoder-enabled-channels/media-services-live-streaming-new.png

