---
title: "aaaAccess API служб мультимедиа Azure с проверкой подлинности Azure Active Directory | Документы Microsoft"
description: "Дополнительные сведения о концепции и шаги tootake toouse Azure Active Directory (Azure AD) tooauthenticate доступа toohello API служб мультимедиа Azure."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: bb8f75f39100dc37098260c24ab4a199ef689d46
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="access-hello-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="6033b-103">Доступ к hello API служб мультимедиа Azure с проверкой подлинности Azure AD</span><span class="sxs-lookup"><span data-stu-id="6033b-103">Access hello Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="6033b-104">Hello API служб мультимедиа Azure — это API RESTful.</span><span class="sxs-lookup"><span data-stu-id="6033b-104">hello Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="6033b-105">Можно использовать его tooperform операции на ресурсы мультимедиа с помощью REST API или с помощью доступных клиентских пакетов SDK.</span><span class="sxs-lookup"><span data-stu-id="6033b-105">You can use it tooperform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="6033b-106">Службы мультимедиа Azure предлагают клиентский пакет SDK служб мультимедиа для Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="6033b-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="6033b-107">toobe авторизованных tooaccess ресурсы служб Media Services и hello API служб мультимедиа, вы должны сначала пройти проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="6033b-107">toobe authorized tooaccess Media Services resources and hello Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="6033b-108">Службы мультимедиа поддерживают [аутентификацию на основе Azure Active Directory (Azure AD)](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="6033b-109">Hello службы Azure Media REST требует, чтобы hello пользователь или приложение, которое делает запросы к REST API hello либо hello **участника** или **владельца** tooaccess роли hello ресурсы.</span><span class="sxs-lookup"><span data-stu-id="6033b-109">hello Azure Media REST service requires that hello user or application that makes hello REST API requests have either hello **Contributor** or **Owner** role tooaccess hello resources.</span></span> <span data-ttu-id="6033b-110">Дополнительные сведения см. в разделе [приступить к работе с элементом управления доступом на основе ролей в hello портал Azure](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-110">For more information, see [Get started with Role-Based Access Control in hello Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="6033b-111">В настоящее время службы мультимедиа поддерживают модель проверки подлинности службы контроля доступа Azure hello.</span><span class="sxs-lookup"><span data-stu-id="6033b-111">Currently, Media Services supports hello Azure Access Control service authentication model.</span></span> <span data-ttu-id="6033b-112">Тем не менее авторизация посредством службы контроля доступа будет объявлена устаревшей 1 июня 2018 года.</span><span class="sxs-lookup"><span data-stu-id="6033b-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="6033b-113">Рекомендуется как можно быстрее перейти модель проверки подлинности toohello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6033b-113">We recommend that you migrate toohello Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="6033b-114">В настоящем документе приведены общие сведения о том, как tooaccess hello API служб мультимедиа с помощью API REST или .NET.</span><span class="sxs-lookup"><span data-stu-id="6033b-114">This document gives an overview of how tooaccess hello Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="6033b-115">управление доступом;</span><span class="sxs-lookup"><span data-stu-id="6033b-115">Access control</span></span>

<span data-ttu-id="6033b-116">Для toosucceed запрос Azure Media REST hello hello вызывающий пользователь должен иметь роль владельца или участника для учетной записи служб мультимедиа, что оно пытается tooaccess hello.</span><span class="sxs-lookup"><span data-stu-id="6033b-116">For hello Azure Media REST request toosucceed, hello calling user must have a Contributor or Owner role for hello Media Services account it is trying tooaccess.</span></span>  
<span data-ttu-id="6033b-117">Только пользователь с ролью владельца hello может осуществлять носителя ресурсов (учетная запись) доступ toonew пользователей или приложений.</span><span class="sxs-lookup"><span data-stu-id="6033b-117">Only a user with hello Owner role can give media resource (account) access toonew users or apps.</span></span> <span data-ttu-id="6033b-118">роль участника Hello доступны только hello ресурса мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-118">hello Contributor role can access only hello media resource.</span></span>
<span data-ttu-id="6033b-119">Несанкционированные запросы завершаются сбоем с кодом состояния 401.</span><span class="sxs-lookup"><span data-stu-id="6033b-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="6033b-120">Если вы видите этот код ошибки, проверьте, имеет ли пользователь hello участника или владельца роли, назначенной для hello Media Services учетной записи пользователя.</span><span class="sxs-lookup"><span data-stu-id="6033b-120">If you see this error code, check whether your user has hello Contributor or Owner role assigned for hello user's Media Services account.</span></span> <span data-ttu-id="6033b-121">Это можно проверить в hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="6033b-121">You can check this in hello Azure portal.</span></span> <span data-ttu-id="6033b-122">Поиск учетной записи носителя и нажмите кнопку hello **управления доступом к** вкладки.</span><span class="sxs-lookup"><span data-stu-id="6033b-122">Search for your media account, and then click hello **Access control** tab.</span></span> 

![Вкладка "Управление доступом"](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="6033b-124">Типы аутентификации</span><span class="sxs-lookup"><span data-stu-id="6033b-124">Types of authentication</span></span> 
 
<span data-ttu-id="6033b-125">При использовании аутентификации Azure AD со службами мультимедиа Azure доступны два метода аутентификации.</span><span class="sxs-lookup"><span data-stu-id="6033b-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="6033b-126">**Аутентификация пользователя**.</span><span class="sxs-lookup"><span data-stu-id="6033b-126">**User authentication**.</span></span> <span data-ttu-id="6033b-127">Проверка подлинности пользователя, работающего с toointeract приложения hello с ресурсами службы мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-127">Authenticate a person who is using hello app toointeract with Media Services resources.</span></span> <span data-ttu-id="6033b-128">интерактивные приложения Hello, сначала следует запрашивать пользователя hello hello учетные данные пользователя.</span><span class="sxs-lookup"><span data-stu-id="6033b-128">hello interactive application should first prompt hello user for hello user's credentials.</span></span> <span data-ttu-id="6033b-129">Пример — приложение консоли управления, используемые заданий кодирования toomonitor авторизованных пользователей или динамической потоковой передачи.</span><span class="sxs-lookup"><span data-stu-id="6033b-129">An example is a management console app used by authorized users toomonitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="6033b-130">**Аутентификация субъекта-службы**.</span><span class="sxs-lookup"><span data-stu-id="6033b-130">**Service principal authentication**.</span></span> <span data-ttu-id="6033b-131">Аутентификация службы.</span><span class="sxs-lookup"><span data-stu-id="6033b-131">Authenticate a service.</span></span> <span data-ttu-id="6033b-132">Этот метод аутентификации обычно используют приложения, которые выполняют службы управляющей программы, службы среднего уровня или запланированные задания.</span><span class="sxs-lookup"><span data-stu-id="6033b-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="6033b-133">Примеры: веб-приложения, приложения-функции, приложения логики, интерфейсы API и микрослужбы.</span><span class="sxs-lookup"><span data-stu-id="6033b-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="6033b-134">Аутентификация пользователей</span><span class="sxs-lookup"><span data-stu-id="6033b-134">User authentication</span></span> 

<span data-ttu-id="6033b-135">Приложения, которые следует использовать метод проверки подлинности пользователя hello, управления и наблюдения за собственных приложений: мобильных приложений, приложений Windows и консольных приложений.</span><span class="sxs-lookup"><span data-stu-id="6033b-135">Applications that should use hello user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="6033b-136">Этот тип решения полезно при необходимости взаимодействия со службой hello в одном hello следующие сценарии:</span><span class="sxs-lookup"><span data-stu-id="6033b-136">This type of solution is useful when you want human interaction with hello service in one of hello following scenarios:</span></span>

- <span data-ttu-id="6033b-137">панель мониторинга для заданий кодирования;</span><span class="sxs-lookup"><span data-stu-id="6033b-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="6033b-138">панель мониторинга для потоковых трансляций;</span><span class="sxs-lookup"><span data-stu-id="6033b-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="6033b-139">Приложение для управления для настольных компьютеров и мобильных пользователей tooadminister ресурсов в учетной записи служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-139">Management application for desktop or mobile users tooadminister resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="6033b-140">Этот метод аутентификации не должен использоваться для потребительских приложений.</span><span class="sxs-lookup"><span data-stu-id="6033b-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="6033b-141">Собственное приложение необходимо сначала получить токен доступа из Azure AD и затем использовать его при внесении API REST служб мультимедиа toohello запросов HTTP.</span><span class="sxs-lookup"><span data-stu-id="6033b-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests toohello Media Services REST API.</span></span> <span data-ttu-id="6033b-142">Добавьте заголовок запроса маркера toohello доступа hello.</span><span class="sxs-lookup"><span data-stu-id="6033b-142">Add hello access token toohello request header.</span></span> 

<span data-ttu-id="6033b-143">Hello, следующая диаграмма показывает поток проверки подлинности типичного интерактивные приложения:</span><span class="sxs-lookup"><span data-stu-id="6033b-143">hello following diagram shows a typical interactive application authentication flow:</span></span> 

![Схема собственных приложений](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="6033b-145">В предшествующей схеме hello hello цифры представляют Привет потоком запросов hello в хронологическом порядке.</span><span class="sxs-lookup"><span data-stu-id="6033b-145">In hello preceding diagram, hello numbers represent hello flow of hello requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="6033b-146">При использовании метода проверки подлинности пользователя hello, все приложения, совместно использовать hello же идентификатор клиента собственного приложения (по умолчанию) и собственного приложения URI перенаправления.</span><span class="sxs-lookup"><span data-stu-id="6033b-146">When you use hello user authentication method, all apps share hello same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="6033b-147">Запрос учетных данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="6033b-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="6033b-148">Запрос маркера доступа Azure AD с hello следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="6033b-148">Request an Azure AD access token with hello following parameters:</span></span>  

    * <span data-ttu-id="6033b-149">Конечная точка клиента Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6033b-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="6033b-150">сведения о клиенте Hello можно получить из hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="6033b-150">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="6033b-151">Наведите указатель на имя пользователя, выполнившего вход hello hello в правом верхнем углу hello.</span><span class="sxs-lookup"><span data-stu-id="6033b-151">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="6033b-152">Универсальный код ресурса (URI) для ресурса служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="6033b-153">Этот URI является hello одинаково для учетных записей служб мультимедиа, которые находятся в hello Azure одной среде (например, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="6033b-153">This URI is hello same for Media Services accounts that are in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="6033b-154">Идентификатор клиента (собственного) приложения служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="6033b-155">Универсальный код ресурса (URI) перенаправления (собственного) приложения служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="6033b-156">Универсальный код ресурса (URI) для ресурса REST служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="6033b-157">Hello URI представляет конечную точку REST API hello (например, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="6033b-157">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="6033b-158">tooget значения для этих параметров в разделе [использовать параметры проверки подлинности Azure tooaccess портала Azure AD hello](media-services-portal-get-started-with-aad.md) с помощью параметра проверки подлинности пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="6033b-158">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using hello user authentication option.</span></span>

3. <span data-ttu-id="6033b-159">Hello Azure AD токен доступа отправляется toohello клиента.</span><span class="sxs-lookup"><span data-stu-id="6033b-159">hello Azure AD access token is sent toohello client.</span></span>
4. <span data-ttu-id="6033b-160">Hello клиент отправляет запрос toohello Azure Media REST API с маркером доступа hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6033b-160">hello client sends a request toohello Azure Media REST API with hello Azure AD access token.</span></span>
5. <span data-ttu-id="6033b-161">Hello клиент получает hello данных из служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-161">hello client gets back hello data from Media Services.</span></span>

<span data-ttu-id="6033b-162">Сведения о том, как запрашивает toocommunicate проверки подлинности toouse Azure AD с REST с помощью пакета SDK .NET служб мультимедиа клиента hello. в разделе [tooaccess проверки подлинности используют Azure AD hello API служб мультимедиа с помощью .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-162">For information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess hello Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="6033b-163">Если не используется пакет SDK для клиента .NET служб мультимедиа hello, необходимо вручную создать запрос маркера доступа Azure AD с помощью параметров hello описано в шаге 2.</span><span class="sxs-lookup"><span data-stu-id="6033b-163">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD access token request by using hello parameters described in step 2.</span></span> <span data-ttu-id="6033b-164">Дополнительные сведения см. в разделе [как tooget библиотеки проверки подлинности Azure AD hello toouse hello Azure AD токен](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-164">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="6033b-165">Проверка подлинности субъекта-службы</span><span class="sxs-lookup"><span data-stu-id="6033b-165">Service principal authentication</span></span>

<span data-ttu-id="6033b-166">Этот метод аутентификации обычно используют приложения, которые выполняют службы среднего уровня и запланированные задания: веб-приложения, приложения-функции, приложения логики, интерфейсы API и микрослужбы.</span><span class="sxs-lookup"><span data-stu-id="6033b-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="6033b-167">Этот метод проверки подлинности также подходит для интерактивных приложений, в которых может потребоваться toouse ресурсов toomanage учетной записи службы.</span><span class="sxs-lookup"><span data-stu-id="6033b-167">This authentication method also is suitable for interactive applications in which you might want toouse a service account toomanage resources.</span></span>

<span data-ttu-id="6033b-168">При использовании сценариев потребителя toobuild метод основной проверки подлинности hello служб проверки подлинности обычно обрабатываются в hello среднего уровня (через API), а не непосредственно в мобильных или настольных приложений.</span><span class="sxs-lookup"><span data-stu-id="6033b-168">When you use hello service principal authentication method toobuild consumer scenarios, authentication typically is handled in hello middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="6033b-169">toouse этот метод создания приложения Azure AD и службы субъекта в свой собственный клиент.</span><span class="sxs-lookup"><span data-stu-id="6033b-169">toouse this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="6033b-170">После создания приложения hello предоставьте hello приложения владельца или участника роли доступа toohello учетная запись служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-170">After you create hello application, give hello app Contributor or Owner role access toohello Media Services account.</span></span> <span data-ttu-id="6033b-171">Это можно сделать в hello портал Azure с помощью Azure CLI, или с помощью сценария PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6033b-171">You can do this in hello Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="6033b-172">Можно также использовать существующее приложение Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6033b-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="6033b-173">Вы можете зарегистрировать и управлять приложения Azure AD и субъект-служба [в hello портал Azure](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-173">You can register and manage your Azure AD app and service principal [in hello Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="6033b-174">Это можно также сделать с помощью [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) или [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Приложения среднего уровня](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="6033b-176">После создания приложения Azure AD, вы получаете значения hello следующие параметры.</span><span class="sxs-lookup"><span data-stu-id="6033b-176">After you create your Azure AD application, you get values for hello following settings.</span></span> <span data-ttu-id="6033b-177">Это значения, необходимые для аутентификации.</span><span class="sxs-lookup"><span data-stu-id="6033b-177">You need these values for authentication:</span></span>

- <span data-ttu-id="6033b-178">Идентификатор клиента</span><span class="sxs-lookup"><span data-stu-id="6033b-178">Client ID</span></span> 
- <span data-ttu-id="6033b-179">Секрет клиента</span><span class="sxs-lookup"><span data-stu-id="6033b-179">Client secret</span></span> 

<span data-ttu-id="6033b-180">В предшествующих рисунок hello hello цифры представляют Привет потоком запросов hello в хронологическом порядке:</span><span class="sxs-lookup"><span data-stu-id="6033b-180">In hello preceding figure, hello numbers represent hello flow of hello requests in chronological order:</span></span>
    
1. <span data-ttu-id="6033b-181">Приложение среднего уровня (веб-API или веб-приложение) запрашивает маркер доступа Azure AD с hello следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="6033b-181">A middle-tier app (web API or web application) requests an Azure AD access token that has hello following parameters:</span></span>  

    * <span data-ttu-id="6033b-182">Конечная точка клиента Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6033b-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="6033b-183">сведения о клиенте Hello можно получить из hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="6033b-183">hello tenant information can be retrieved from hello Azure portal.</span></span> <span data-ttu-id="6033b-184">Наведите указатель на имя пользователя, выполнившего вход hello hello в правом верхнем углу hello.</span><span class="sxs-lookup"><span data-stu-id="6033b-184">Place your cursor over hello name of hello signed-in user in hello top right corner.</span></span>
    * <span data-ttu-id="6033b-185">Универсальный код ресурса (URI) для ресурса служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="6033b-186">Этот URI является hello одинаково для учетных записей служб мультимедиа, расположенных в hello Azure одной среде (например, https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="6033b-186">This URI is hello same for Media Services accounts that are located in hello same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="6033b-187">Универсальный код ресурса (URI) для ресурса REST служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="6033b-188">Hello URI представляет конечную точку REST API hello (например, https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="6033b-188">hello URI represents hello REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="6033b-189">Значения приложения Azure AD: hello идентификатор клиента и секрет клиента.</span><span class="sxs-lookup"><span data-stu-id="6033b-189">Azure AD application values: hello client ID and client secret.</span></span>
    
    <span data-ttu-id="6033b-190">tooget значения для этих параметров в разделе [использовать параметры проверки подлинности Azure tooaccess портала Azure AD hello](media-services-portal-get-started-with-aad.md) с помощью параметра основной проверки подлинности службы hello.</span><span class="sxs-lookup"><span data-stu-id="6033b-190">tooget values for these parameters, see [Use hello Azure portal tooaccess Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using hello service principal authentication option.</span></span>

2. <span data-ttu-id="6033b-191">Hello Azure AD токен доступа отправляется toohello среднего уровня.</span><span class="sxs-lookup"><span data-stu-id="6033b-191">hello Azure AD access token is sent toohello middle tier.</span></span>
4. <span data-ttu-id="6033b-192">Средний уровень Hello отправляет запрос toohello Azure Media REST API с маркером hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6033b-192">hello middle tier sends request toohello Azure Media REST API with hello Azure AD token.</span></span>
5. <span data-ttu-id="6033b-193">Hello средний уровень возвращает hello данных из служб мультимедиа.</span><span class="sxs-lookup"><span data-stu-id="6033b-193">hello middle tier gets back hello data from Media Services.</span></span>

<span data-ttu-id="6033b-194">Дополнительные сведения о том, как запрашивает toocommunicate проверки подлинности toouse Azure AD с REST с помощью пакета SDK .NET служб мультимедиа клиента hello см. в разделе [tooaccess проверки подлинности используют Azure AD API служб мультимедиа Azure в .NET Framework](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-194">For more information about how toouse Azure AD authentication toocommunicate with REST requests by using hello Media Services .NET client SDK, see [Use Azure AD authentication tooaccess Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="6033b-195">Если не используется пакет SDK для клиента .NET служб мультимедиа hello, необходимо вручную создать запрос токена Azure AD, используя параметры, описанные в шаге 1.</span><span class="sxs-lookup"><span data-stu-id="6033b-195">If you are not using hello Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="6033b-196">Дополнительные сведения см. в разделе [как tooget библиотеки проверки подлинности Azure AD hello toouse hello Azure AD токен](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-196">For more information, see [How toouse hello Azure AD Authentication Library tooget hello Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="6033b-197">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="6033b-197">Troubleshooting</span></span>

<span data-ttu-id="6033b-198">Исключение: «hello удаленный сервер вернул ошибку: ошибка проверки подлинности (401).»</span><span class="sxs-lookup"><span data-stu-id="6033b-198">Exception: "hello remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="6033b-199">Решение: Для toosucceed запрос hello REST служб мультимедиа, hello вызывающего пользователя должно быть владельца или участника роли в учетной записи служб мультимедиа, что оно пытается tooaccess hello.</span><span class="sxs-lookup"><span data-stu-id="6033b-199">Solution: For hello Media Services REST request toosucceed, hello calling user must be a Contributor or Owner role in hello Media Services account it is trying tooaccess.</span></span> <span data-ttu-id="6033b-200">Дополнительные сведения см. в разделе hello [управления доступом к](media-services-use-aad-auth-to-access-ams-api.md#access-control) раздела.</span><span class="sxs-lookup"><span data-stu-id="6033b-200">For more information, see hello [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="6033b-201">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="6033b-201">Resources</span></span>

<span data-ttu-id="6033b-202">следующие статьи Hello приведены обзоры понятия проверки подлинности Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6033b-202">hello following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="6033b-203">Основы проверки подлинности в Azure AD</span><span class="sxs-lookup"><span data-stu-id="6033b-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- [<span data-ttu-id="6033b-204">Интеграция приложений с Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="6033b-204">Add, update, or remove an application in Azure AD</span></span>](../active-directory/develop/active-directory-integrating-applications.md)
- [<span data-ttu-id="6033b-205">Управление доступом на основе ролей с помощью Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="6033b-205">Configure and manage Role-Based Access Control by using PowerShell</span></span>](../active-directory/role-based-access-control-manage-access-powershell.md)

## <a name="next-steps"></a><span data-ttu-id="6033b-206">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="6033b-206">Next steps</span></span>

* <span data-ttu-id="6033b-207">Использовать портал Azure hello слишком[tooconsume проверки подлинности Azure AD API служб мультимедиа Azure доступ к](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-207">Use hello Azure portal too[access Azure AD authentication tooconsume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="6033b-208">Использование проверки подлинности Azure AD слишком[доступ к API служб мультимедиа Azure в .NET Framework](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="6033b-208">Use Azure AD authentication too[access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

