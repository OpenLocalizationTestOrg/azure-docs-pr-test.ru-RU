---
title: "Включение удаленного доступа для развертываний Azure в Eclipse"
description: "Узнайте, как включить удаленный доступ для развертываний Azure с помощью набора средств Azure для Eclipse."
services: 
documentationcenter: java
author: rmcmurray
manager: erikre
editor: 
ms.assetid: b6150006-9a7f-4d83-be18-d35ec780c7c5
ms.service: multiple
ms.workload: na
ms.tgt_pltfrm: multiple
ms.devlang: Java
ms.topic: article
ms.date: 04/14/2017
ms.author: robmcm
ms.openlocfilehash: 654d511bd5a62341f87569317e97360c94a6f26c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="enabling-remote-access-for-azure-deployments-in-eclipse"></a>Включение удаленного доступа для развертываний Azure в Eclipse
Чтобы упростить устранение неполадок в развертываниях, вы можете включить и использовать удаленный доступ для подключения к виртуальной машине, на которой размещается ваше развертывание. Функциональность удаленного доступа основана на протоколе удаленного рабочего стола (RDP). Вы можете настроить удаленный доступ для своего развертывания после его публикации в Azure, а при использовании Eclipse с операционной системой Windows вы можете настроить удаленный доступ перед публикацией в Azure. Обратите внимание, что для подключения к виртуальной машине вашего развертывания в Azure потребуется клиент удаленного рабочего стола, совместимый с используемой операционной системой.

## <a name="how-to-enable-remote-access-before-you-deploy-to-azure"></a>Включение удаленного доступа перед развертыванием в Azure
> [!NOTE]
> Чтобы включить удаленный доступ перед развертыванием приложения в Azure, необходимо использовать Eclipse в Windows.
> 
> 

На следующем рисунке показано диалоговое окно свойств **Удаленный доступ** , используемое для включения удаленного доступа.

![][ic719494]

Диалоговое окно свойств **Удаленный доступ** можно отобразить двумя способами:

* Щелкните ссылку **Дополнительно** в разделе **Удаленный доступ** диалогового окна **Publish to Azure** (Публикация в Azure).

* Откройте диалоговое окно **Свойства** своего проекта Azure.

При создании нового проекта развертывания Azure удаленный доступ в нем по умолчанию отключен. Однако вы можете легко включить его, указав имя пользователя и пароль в диалоговом окне **Публикация в Azure** . Пароль удаленного доступа шифруется с использованием сертификатов X.509. Если вы не предоставляете собственный сертификат, функция шифрования использует самозаверяющий сертификат, входящий в состав подключаемого модуля Azure для Eclipse. Этот самозаверяющий сертификат находится в папке **cert** проекта Azure и сохранен в виде файла общедоступного сертификата (SampleRemoteAccessPublic.cer), а также в виде файла сертификата обмена личной информацией (PFX) (SampleRemoteAccessPrivate.pfx). Последний содержит закрытый ключ для сертификата, а также по умолчанию использует пароль **Password1**. Однако поскольку данный пароль общеизвестен, сертификат по умолчанию можно использовать в образовательных целях, но не для развертывания в рабочей среде. Поэтому если вы хотите включить удаленные сеансы для своих развертываний в любых целях, кроме образовательных, следует щелкнуть ссылку **Дополнительно** в диалоговом окне **Publish to Azure** (Публикация в Azure), чтобы указать собственный сертификат. Обратите внимание, что вам потребуется отправить PFX-версию сертификата в размещенную службу на портале управления Azure, чтобы служба Azure смогла расшифровать пароль пользователя.

В оставшейся части руководства показано, как включить удаленный доступ для проекта развертывания Azure, который изначально создавался с отключенным удаленным доступом. В данном руководстве мы создадим новый самозаверяющий сертификат, PFX-файл которого будет иметь выбранный вами пароль. Кроме того, вы можете использовать сертификат, выданный центром сертификации.

## <a name="how-to-enable-remote-access-after-you-have-deployed-to-azure"></a>Включение удаленного доступа после развертывания в Azure
Чтобы включить удаленный доступ после развертывания в Azure, выполните следующие действия.

1. Выполните вход на портал управления, используя свою учетную запись Azure.

2. В списке **Облачные службы**выберите развернутую облачную службу.

3. На веб-странице облачной службы щелкните ссылку **Настроить** .

4. В нижней части страницы конфигурации щелкните ссылку **Удаленный** .

5. При отображении всплывающего диалогового окна:
   
   * Укажите роль, для которой требуется разрешить удаленный доступ.

   * Установите флажок **Включить удаленный рабочий стол** .
   
   * Укажите имя пользователя и пароль, которые вы хотите использовать для удаленного доступа.
   
   * Выберите используемый сертификат.

6. Нажмите кнопку **ОК** 

Появится сообщение о внесении изменений в конфигурацию, которое может занять несколько минут. После завершения изменения конфигурации выполните действия, описанные в разделе **Удаленный вход в систему** ниже.

## <a name="how-to-enable-remote-access-in-your-package"></a>Включение удаленного доступа в пакете
1. В области обозревателя проектов Eclipse щелкните правой кнопкой мыши свой проект Azure и выберите пункт **Свойства**.

2. В диалоговом окне **Свойства** разверните узел **Azure** на левой панели и щелкните **Удаленный доступ**.

3. В диалоговом окне **Удаленный доступ** установите флажок **Enable all roles to accept Remote Desktop Connections with these login credentials** (Разрешить всем ролям принимать подключения удаленного рабочего стола с этими учетными данными входа).

4. Укажите имя пользователя для подключения удаленного рабочего стола.

5. Укажите и подтвердите пароль для пользователя. Значения имени пользователя и пароля в этом диалоговом окне будут использоваться при установке подключения удаленного рабочего стола. (Обратите внимание, что этот пароль отличается от пароля PFX.)

6. Укажите дату истечения срока действия для учетной записи пользователя.

7. Щелкните элемент **Создать** для создания нового самозаверяющего сертификата. (Кроме того, можно выбрать сертификат из рабочей области или файловой системы с помощью кнопки **Рабочая область** или **Файловая система** соответственно, но в этом руководстве мы создадим сертификат.)

   * В диалоговом окне **Новый сертификат** укажите и подтвердите пароль, который будет использоваться для PFX-файла.

   * Примите предложенное значение **Имя (общее)**или используйте пользовательское имя.

   * Укажите путь и имя файла для сохранения нового сертификата в виде CER-файла. На этом и следующем шаге вы можете использовать папку **cert** проекта Azure, однако вы можете выбрать и другое расположение. В рамках данного руководства мы будем использовать **c:\mycert\mycert.cer**. (Перед тем, как продолжить, создайте папку **c:\mycert** или используйте имеющуюся.)

   * Укажите путь и имя файла для сохранения нового сертификата и его закрытого ключа в виде PFX-файла. В рамках этого руководства мы будем использовать **c:\mycert\mycert.pfx**. Диалоговое окно **Новый сертификат** должно выглядеть следующим образом (обновите пути к папкам, если вы не использовали **c:\mycert**):
     
      ![][ic712275]

   * Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно **Новый сертификат**.

8. Диалоговое окно **Удаленный доступ** должно выглядеть так:</p>
   
   ![][ic719495]

9. Нажмите кнопку **ОК**, чтобы закрыть диалоговое окно **Удаленный доступ**.

Перестройте свое приложение для развертывания в облаке.

## <a name="to-log-in-remotely"></a>Удаленный вход в систему
Когда экземпляр роли готов, вы можете удаленно войти на виртуальную машину, где размещается ваше приложение.

* Если вы используете Eclipse в Windows и вы выбрали параметр **Start remote desktop on deploy** (Запуск удаленного рабочего стола при развертывании) во время развертывания в Azure, отображается экран входа в подключение к удаленному рабочему столу при запуске развертывания. При появлении запроса на ввод имени пользователя и пароля введите значения, указанные для удаленного пользователя, чтобы выполнить вход.

* Другой способ удаленного вход заключается в использовании <a href="http://go.microsoft.com/fwlink/?LinkID=512959">портала управления Azure</a>:
  
  * В представлении **Облачные службы** на портале управления Azure выберите облачную службу, щелкните элемент **Экземпляры**, выберите определенный экземпляр и нажмите кнопку **Подключить**. Кнопка **Подключить** на панели команд выглядит так:
    
      ![][ic659273]

  * После нажатия кнопки **Подключить** вам будет предложено открыть RDP-файл. Откройте файл и следуйте инструкциям на экране. (Кроме того, вы можете сохранить этот файл на локальном компьютере и затем дважды щелкнуть его для выполнения удаленного входа на виртуальную машину без перехода на портал управления.)

  * При появлении запроса на ввод имени пользователя и пароля введите значения, указанные для удаленного пользователя, чтобы выполнить вход.

> [!NOTE]
> Если вы работаете с операционной системой, отличной от Windows, необходимо использовать клиент удаленного рабочего стола, совместимый с вашей операционной системой, настроив его с помощью параметров из скачанного RDP-файла в соответствии с приведенными ниже инструкциями.
> 
> 

## <a name="see-also"></a>См. также
[Набор средств Azure для Eclipse][Azure Toolkit for Eclipse]

[Создание приложения Hello World для Azure в Eclipse][Creating a Hello World Application for Azure in Eclipse]

[Установка набора средств Azure для Eclipse][Installing the Azure Toolkit for Eclipse] 

Дополнительные сведения об использовании Azure с Java можно найти в [Центре разработчиков Java для Azure][Azure Java Developer Center].

<!-- URL List -->

[Azure Java Developer Center]: http://go.microsoft.com/fwlink/?LinkID=699547
[Azure Management Portal]: http://go.microsoft.com/fwlink/?LinkID=512959
[Azure Toolkit for Eclipse]: http://go.microsoft.com/fwlink/?LinkID=699529
[Creating a Hello World Application for Azure in Eclipse]: http://go.microsoft.com/fwlink/?LinkID=699533
[Installing the Azure Toolkit for Eclipse]: http://go.microsoft.com/fwlink/?LinkId=699546

<!-- IMG List -->

[ic712275]: ./media/azure-toolkit-for-eclipse-enabling-remote-access-for-azure-deployments/ic712275.png
[ic719495]: ./media/azure-toolkit-for-eclipse-enabling-remote-access-for-azure-deployments/ic719495.png
[ic719494]: ./media/azure-toolkit-for-eclipse-enabling-remote-access-for-azure-deployments/ic719494.png
[ic659273]: ./media/azure-toolkit-for-eclipse-enabling-remote-access-for-azure-deployments/ic659273.png

<!-- Legacy MSDN URL = https://msdn.microsoft.com/library/azure/hh690951.aspx -->
