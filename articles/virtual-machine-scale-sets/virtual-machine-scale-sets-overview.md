---
title: "Обзор масштабируемых наборов виртуальных машин Azure | Документация Майкрософт"
description: "Сведения о масштабируемых наборах виртуальных машин Azure."
services: virtual-machine-scale-sets
documentationcenter: 
author: gbowerman
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 76ac7fd7-2e05-4762-88ca-3b499e87906e
ms.service: virtual-machine-scale-sets
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 07/03/2017
ms.author: guybo
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 8b2fbc230faf01797109114d6ebdffe5ec50e48b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="what-are-virtual-machine-scale-sets-in-azure"></a><span data-ttu-id="d2489-103">Общие сведения о масштабируемых наборах виртуальных машин в Azure</span><span class="sxs-lookup"><span data-stu-id="d2489-103">What are virtual machine scale sets in Azure?</span></span>
<span data-ttu-id="d2489-104">Масштабируемые наборы виртуальных машин относятся к вычислительным ресурсам Azure. Их можно использовать для развертывания набора идентичных виртуальных машин и управления им.</span><span class="sxs-lookup"><span data-stu-id="d2489-104">Virtual machine scale sets are an Azure compute resource that you can use to deploy and manage a set of identical VMs.</span></span> <span data-ttu-id="d2489-105">Так как все виртуальные машины настроены одинаково, масштабируемые наборы позволяют выполнять действительно автоматическое масштабирование, ведь предварительная подготовка виртуальных машин не требуется.</span><span class="sxs-lookup"><span data-stu-id="d2489-105">With all VMs configured the same, scale sets are designed to support true autoscale, and no pre-provisioning of VMs is required.</span></span> <span data-ttu-id="d2489-106">Это упрощает создание крупномасштабных служб, предназначенных для больших вычислений, больших данных и контейнерных рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="d2489-106">So it's easier to build large-scale services that target big compute, big data, and containerized workloads.</span></span>

<span data-ttu-id="d2489-107">Для приложений, которые нуждаются в масштабировании вычислительных ресурсов, операции масштабирования неявно распределяются между доменами сбоя и доменами обновления.</span><span class="sxs-lookup"><span data-stu-id="d2489-107">For applications that need to scale compute resources out and in, scale operations are implicitly balanced across fault and update domains.</span></span> <span data-ttu-id="d2489-108">Общие сведения о наборах масштабирования виртуальных машин см. в этом [объявлении в блоге Azure](https://azure.microsoft.com/blog/azure-virtual-machine-scale-sets-ga/).</span><span class="sxs-lookup"><span data-stu-id="d2489-108">For a further introduction to scale sets, refer to the [Azure blog announcement](https://azure.microsoft.com/blog/azure-virtual-machine-scale-sets-ga/).</span></span>

<span data-ttu-id="d2489-109">Дополнительные сведения о масштабируемых наборах см. в этих видео:</span><span class="sxs-lookup"><span data-stu-id="d2489-109">For more information about scale sets, watch these videos:</span></span>

* [<span data-ttu-id="d2489-110">Марк Руссинович (Mark Russinovich) рассказывает о масштабируемых наборах Azure.</span><span class="sxs-lookup"><span data-stu-id="d2489-110">Mark Russinovich talks Azure scale sets</span></span>](https://channel9.msdn.com/Blogs/Regular-IT-Guy/Mark-Russinovich-Talks-Azure-Scale-Sets/)  
* [<span data-ttu-id="d2489-111">Масштабируемые наборы виртуальных машин с Гаем Бауэрманом (Guy Bowerman).</span><span class="sxs-lookup"><span data-stu-id="d2489-111">Virtual Machine Scale Sets with Guy Bowerman</span></span>](https://channel9.msdn.com/Shows/Cloud+Cover/Episode-191-Virtual-Machine-Scale-Sets-with-Guy-Bowerman)

## <a name="creating-and-managing-scale-sets"></a><span data-ttu-id="d2489-112">Создание масштабируемых наборов и управление ими</span><span class="sxs-lookup"><span data-stu-id="d2489-112">Creating and managing scale sets</span></span>
<span data-ttu-id="d2489-113">Масштабируемый набор можно создать на [портале Azure](https://portal.azure.com), щелкнув **Создать** и введя в строке поиска слово **scale**.</span><span class="sxs-lookup"><span data-stu-id="d2489-113">You can create a scale set in the [Azure portal](https://portal.azure.com) by selecting **new** and typing **scale** on the search bar.</span></span> <span data-ttu-id="d2489-114">В результатах поиска отобразится **Набор масштабирования виртуальной машины**.</span><span class="sxs-lookup"><span data-stu-id="d2489-114">**Virtual machine scale set** is listed in the results.</span></span> <span data-ttu-id="d2489-115">Здесь вы можете заполнить обязательные поля для настройки и развертывания масштабируемого набора.</span><span class="sxs-lookup"><span data-stu-id="d2489-115">From there, you can fill in the required fields to customize and deploy your scale set.</span></span> <span data-ttu-id="d2489-116">На портале также можно настроить основные правила автомасштабирования на основе использования ЦП.</span><span class="sxs-lookup"><span data-stu-id="d2489-116">You also have options to set up basic autoscale rules based on CPU usage in the portal.</span></span>

<span data-ttu-id="d2489-117">Масштабируемые наборы можно определять и развертывать с помощью шаблонов JSON и интерфейсов [REST API](https://msdn.microsoft.com/library/mt589023.aspx) так же, как и отдельные виртуальные машины Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d2489-117">You can define and deploy scale sets by using JSON templates and [REST APIs](https://msdn.microsoft.com/library/mt589023.aspx), just like individual Azure Resource Manager VMs.</span></span> <span data-ttu-id="d2489-118">Поэтому можно использовать любые стандартные методы развертывания Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d2489-118">Therefore, you can use any standard Azure Resource Manager deployment methods.</span></span> <span data-ttu-id="d2489-119">Дополнительную информацию о шаблонах см. в статье [Создание шаблонов диспетчера ресурсов Azure](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="d2489-119">For more information about templates, see [Authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md).</span></span>

<span data-ttu-id="d2489-120">Набор примеров шаблонов для масштабируемых наборов виртуальных машин можно найти в разделе о [шаблонах быстрого запуска Azure в репозитории GitHub](https://github.com/Azure/azure-quickstart-templates).</span><span class="sxs-lookup"><span data-stu-id="d2489-120">You can find a set of example templates for virtual machine scale sets in the [Azure Quickstart templates GitHub repository](https://github.com/Azure/azure-quickstart-templates).</span></span> <span data-ttu-id="d2489-121">(Ищите шаблоны со словом **vmss** в названии).</span><span class="sxs-lookup"><span data-stu-id="d2489-121">(Look for templates with **vmss** in the title.)</span></span>

<span data-ttu-id="d2489-122">В примерах использования шаблонов быстрого запуска кнопка "Развернуть в Azure" в файле сведений для каждого шаблона связана с функцией развертывания портала.</span><span class="sxs-lookup"><span data-stu-id="d2489-122">For the Quickstart template examples, a "Deploy to Azure" button in the readme for each template links to the portal deployment feature.</span></span> <span data-ttu-id="d2489-123">Чтобы развернуть масштабируемый набор, нажмите кнопку, а затем укажите на портале все необходимые параметры.</span><span class="sxs-lookup"><span data-stu-id="d2489-123">To deploy the scale set, click the button and then fill in any parameters that are required in the portal.</span></span> 

## <a name="scaling-a-scale-set-out-and-in"></a><span data-ttu-id="d2489-124">Уменьшение или увеличение масштаба масштабируемого набора</span><span class="sxs-lookup"><span data-stu-id="d2489-124">Scaling a scale set out and in</span></span>
<span data-ttu-id="d2489-125">Чтобы изменить число виртуальных машин в масштабируемом наборе, в разделе **Параметры**  щелкните **Масштабирование**.</span><span class="sxs-lookup"><span data-stu-id="d2489-125">You can change the capacity of a scale set in the Azure portal by clicking the **Scaling** section under **Settings**.</span></span> 

<span data-ttu-id="d2489-126">Емкость масштабируемого набора можно также изменить в командной строке с помощью команды **scale** в [Azure CLI](https://github.com/Azure/azure-cli).</span><span class="sxs-lookup"><span data-stu-id="d2489-126">To change scale set capacity on the command line, use the **scale** command in [Azure CLI](https://github.com/Azure/azure-cli).</span></span> <span data-ttu-id="d2489-127">Например, чтобы изменить размер масштабируемого набора до 10 виртуальных машин, выполните следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d2489-127">For example, use this command to set a scale set to a capacity of 10 VMs:</span></span>

```bash
az vmss scale -g resourcegroupname -n scalesetname --new-capacity 10 
```

<span data-ttu-id="d2489-128">Кроме того, количество виртуальных машин в масштабируемом наборе можно изменить с помощью команды PowerShell **Update-AzureRmVmss**:</span><span class="sxs-lookup"><span data-stu-id="d2489-128">To set the number of VMs in a scale set by using PowerShell, use the **Update-AzureRmVmss** command:</span></span>

```PowerShell
$vmss = Get-AzureRmVmss -ResourceGroupName resourcegroupname -VMScaleSetName scalesetname  
$vmss.Sku.Capacity = 10
Update-AzureRmVmss -ResourceGroupName resourcegroupname -Name scalesetname -VirtualMachineScaleSet $vmss
```

<span data-ttu-id="d2489-129">Чтобы увеличить или уменьшить число виртуальных машин в масштабируемом наборе с помощью шаблона Azure Resource Manager, измените свойство **capacity** и повторно разверните шаблон.</span><span class="sxs-lookup"><span data-stu-id="d2489-129">To increase or decrease the number of virtual machines in a scale set by using an Azure Resource Manager template, change the **capacity** property and redeploy the template.</span></span> <span data-ttu-id="d2489-130">Это упрощает интеграцию масштабируемых наборов с функцией автоматического масштабирования Azure, а также облегчает создание собственного пользовательского уровня масштабирования, если требуется задать события пользовательского масштабирования, не поддерживаемые упомянутой функцией.</span><span class="sxs-lookup"><span data-stu-id="d2489-130">This simplicity makes it easy to integrate scale sets with Azure Autoscale, or to write your own custom scaling layer if you need to define custom scale events that Azure Autoscale does not support.</span></span> 

<span data-ttu-id="d2489-131">При повторном развертывании шаблона Azure Resource Manager для изменения емкости можно задать гораздо меньший шаблон, который будет включать только пакет свойств **SKU** и обновленную емкость.</span><span class="sxs-lookup"><span data-stu-id="d2489-131">If you are redeploying an Azure Resource Manager template to change the capacity, you can define a much smaller template that includes only the **SKU** property packet with the updated capacity.</span></span> <span data-ttu-id="d2489-132">[Ниже приведен пример](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing).</span><span class="sxs-lookup"><span data-stu-id="d2489-132">[Here's an example](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing).</span></span>

## <a name="autoscale"></a><span data-ttu-id="d2489-133">Autoscale</span><span class="sxs-lookup"><span data-stu-id="d2489-133">Autoscale</span></span>

<span data-ttu-id="d2489-134">При необходимости во время создания масштабируемого набора на портале Azure можно также настроить параметры автомасштабирования.</span><span class="sxs-lookup"><span data-stu-id="d2489-134">A scale set can be optionally configured with autoscale settings when it's created in the Azure portal.</span></span> <span data-ttu-id="d2489-135">Это позволяет увеличивать или уменьшать количество виртуальных машин на основе среднего показателя использования ЦП.</span><span class="sxs-lookup"><span data-stu-id="d2489-135">The number of VMs can then be increased or decreased based on average CPU usage.</span></span> 

<span data-ttu-id="d2489-136">Во многих из шаблонов масштабируемых наборов в коллекции [шаблонов быстрого запуска Azure](https://github.com/Azure/azure-quickstart-templates) определены параметры автомасштабирования.</span><span class="sxs-lookup"><span data-stu-id="d2489-136">Many of the scale set templates in the [Azure Quickstart templates](https://github.com/Azure/azure-quickstart-templates) define autoscale settings.</span></span> <span data-ttu-id="d2489-137">Параметры автомасштабирования можно также добавить в имеющийся масштабируемый набор.</span><span class="sxs-lookup"><span data-stu-id="d2489-137">You can also add autoscale settings to an existing scale set.</span></span> <span data-ttu-id="d2489-138">Например, следующий скрипт Azure PowerShell добавляет параметры автомасштабирования на основе показателей использования ЦП:</span><span class="sxs-lookup"><span data-stu-id="d2489-138">For example, this Azure PowerShell script adds CPU-based autoscale to a scale set:</span></span>

```PowerShell

$subid = "yoursubscriptionid"
$rgname = "yourresourcegroup"
$vmssname = "yourscalesetname"
$location = "yourlocation" # e.g. southcentralus

$rule1 = New-AzureRmAutoscaleRule -MetricName "Percentage CPU" -MetricResourceId /subscriptions/$subid/resourceGroups/$rgname/providers/Microsoft.Compute/virtualMachineScaleSets/$vmssname -Operator GreaterThan -MetricStatistic Average -Threshold 60 -TimeGrain 00:01:00 -TimeWindow 00:05:00 -ScaleActionCooldown 00:05:00 -ScaleActionDirection Increase -ScaleActionValue 1
$rule2 = New-AzureRmAutoscaleRule -MetricName "Percentage CPU" -MetricResourceId /subscriptions/$subid/resourceGroups/$rgname/providers/Microsoft.Compute/virtualMachineScaleSets/$vmssname -Operator LessThan -MetricStatistic Average -Threshold 30 -TimeGrain 00:01:00 -TimeWindow 00:05:00 -ScaleActionCooldown 00:05:00 -ScaleActionDirection Decrease -ScaleActionValue 1
$profile1 = New-AzureRmAutoscaleProfile -DefaultCapacity 2 -MaximumCapacity 10 -MinimumCapacity 2 -Rules $rule1,$rule2 -Name "autoprofile1"
Add-AzureRmAutoscaleSetting -Location $location -Name "autosetting1" -ResourceGroup $rgname -TargetResourceId /subscriptions/$subid/resourceGroups/$rgname/providers/Microsoft.Compute/virtualMachineScaleSets/$vmssname -AutoscaleProfiles $profile1
```

<span data-ttu-id="d2489-139">Список допустимых метрик масштабирования см. в статье [Метрики, поддерживаемые Azure Monitor](../monitoring-and-diagnostics/monitoring-supported-metrics.md) в разделе Microsoft.Compute/virtualMachineScaleSets.</span><span class="sxs-lookup"><span data-stu-id="d2489-139">You can find a list of valid metrics to scale on in [Supported metrics with Azure Monitor](../monitoring-and-diagnostics/monitoring-supported-metrics.md) under the heading "Microsoft.Compute/virtualMachineScaleSets."</span></span> <span data-ttu-id="d2489-140">Кроме того, вы также можете настроить дополнительные параметры автомасштабирования, в том числе автомасштабирование на основе расписания, и выполнить интеграцию с системами оповещений, используя объекты webhook.</span><span class="sxs-lookup"><span data-stu-id="d2489-140">More advanced autoscale options are also available, including schedule-based autoscale and using webhooks to integrate with alert systems.</span></span>

## <a name="monitoring-your-scale-set"></a><span data-ttu-id="d2489-141">Мониторинг масштабируемого набора</span><span class="sxs-lookup"><span data-stu-id="d2489-141">Monitoring your scale set</span></span>
<span data-ttu-id="d2489-142">На [портале Azure](https://portal.azure.com) перечислены масштабируемые наборы и показаны их свойства.</span><span class="sxs-lookup"><span data-stu-id="d2489-142">The [Azure portal](https://portal.azure.com) lists scale sets and shows their properties.</span></span> <span data-ttu-id="d2489-143">Портал также поддерживает операции управления.</span><span class="sxs-lookup"><span data-stu-id="d2489-143">The portal also supports management operations.</span></span> <span data-ttu-id="d2489-144">Вы можете их выполнять и в масштабируемых наборах, и на отдельных виртуальных машинах в наборе.</span><span class="sxs-lookup"><span data-stu-id="d2489-144">You can perform management operations on both scale sets and individual VMs within a scale set.</span></span> <span data-ttu-id="d2489-145">Кроме того, на портале также можно просмотреть настраиваемый график использования ресурсов.</span><span class="sxs-lookup"><span data-stu-id="d2489-145">The portal also provides a customizable resource usage graph.</span></span> 

<span data-ttu-id="d2489-146">Чтобы просмотреть или изменить базовое определение JSON ресурса Azure, можно использовать [обозреватель ресурсов Azure](https://resources.azure.com).</span><span class="sxs-lookup"><span data-stu-id="d2489-146">If you need to see or edit the underlying JSON definition of an Azure resource, you can also use [Azure Resource Explorer](https://resources.azure.com).</span></span> <span data-ttu-id="d2489-147">Масштабируемые наборы принадлежат к ресурсам Microsoft.Compute поставщика ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="d2489-147">Scale sets are a resource under the Microsoft.Compute Azure resource provider.</span></span> <span data-ttu-id="d2489-148">Чтобы просмотреть их отсюда, выберите следующее:</span><span class="sxs-lookup"><span data-stu-id="d2489-148">From this site, you can see them by expanding the following links:</span></span>

<span data-ttu-id="d2489-149">**Подписки** > **ваша подписка** > **resourceGroups** > **поставщики** > **Microsoft.Compute** > **virtualMachineScaleSets** > **ваш масштабируемый набор** и т. д.</span><span class="sxs-lookup"><span data-stu-id="d2489-149">**Subscriptions** > **your subscription** > **resourceGroups** > **providers** > **Microsoft.Compute** > **virtualMachineScaleSets** > **your scale set** > etc.</span></span>

## <a name="scale-set-scenarios"></a><span data-ttu-id="d2489-150">Сценарии масштабируемого набора</span><span class="sxs-lookup"><span data-stu-id="d2489-150">Scale set scenarios</span></span>
<span data-ttu-id="d2489-151">В этом разделе перечислены стандартные сценарии с участием масштабируемых наборов.</span><span class="sxs-lookup"><span data-stu-id="d2489-151">This section lists some typical scale set scenarios.</span></span> <span data-ttu-id="d2489-152">Эти сценарии используются в некоторых службах Azure более высокого уровня (таких как пакетная служба, Service Fabric и Служба контейнеров).</span><span class="sxs-lookup"><span data-stu-id="d2489-152">Some higher-level Azure services (like Batch, Service Fabric, and Container Service) use these scenarios.</span></span>

* <span data-ttu-id="d2489-153">**Использование RDP или SSH для подключения к экземплярам масштабируемых наборов**. Масштабируемый набор создается внутри виртуальной сети. При этом отдельным виртуальным машинам в наборе не выделяются общедоступные IP-адреса по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d2489-153">**Use RDP or SSH to connect to scale set instances**: A scale set is created inside a virtual network, and individual VMs in the scale set are not allocated public IP addresses by default.</span></span> <span data-ttu-id="d2489-154">Эта политика позволяет избежать дополнительных затрат и расходов на управление выделением отдельных общедоступных IP-адресов для всех узлов в сетке вычислений.</span><span class="sxs-lookup"><span data-stu-id="d2489-154">This policy avoids the expense and management overhead of allocating separate public IP addresses to all the nodes in your compute grid.</span></span> <span data-ttu-id="d2489-155">Если требуется направить внешние подключения к масштабируемому набору виртуальных машин, можно настроить, чтобы в масштабируемом наборе общедоступные IP-адреса автоматически назначались новым виртуальным машинам.</span><span class="sxs-lookup"><span data-stu-id="d2489-155">If you do need direct external connections to scale set VMs, you can configure a scale set to automatically assign public IP addresses to new VMs.</span></span> <span data-ttu-id="d2489-156">Кроме того, к этим виртуальным машинам можно подключиться из других ресурсов с выделенными общедоступными IP-адресами в виртуальной сети, например из подсистем балансировки нагрузки и автономных виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="d2489-156">Alternatively you can connect to VMs from other resources in your virtual network that can be allocated public IP addresses, for example, load balancers and standalone virtual machines.</span></span> 
* <span data-ttu-id="d2489-157">**Подключение к виртуальной машине с помощью правил преобразования сетевых адресов (NAT).** Вы можете создать общедоступный IP-адрес, назначить его балансировщику нагрузки и определить правила для входящих подключений пула NAT.</span><span class="sxs-lookup"><span data-stu-id="d2489-157">**Connect to VMs by using NAT rules**: You can create a public IP address, assign it to a load balancer, and define an inbound NAT pool.</span></span> <span data-ttu-id="d2489-158">Эти действия сопоставляют порт на IP-адресе с портом виртуальной машины из масштабируемого набора.</span><span class="sxs-lookup"><span data-stu-id="d2489-158">These actions map ports on the IP address to a port on a VM in the scale set.</span></span> <span data-ttu-id="d2489-159">Например:</span><span class="sxs-lookup"><span data-stu-id="d2489-159">For example:</span></span>
  
  | <span data-ttu-id="d2489-160">Источник</span><span class="sxs-lookup"><span data-stu-id="d2489-160">Source</span></span> | <span data-ttu-id="d2489-161">Исходный порт</span><span class="sxs-lookup"><span data-stu-id="d2489-161">Source port</span></span> | <span data-ttu-id="d2489-162">Место назначения</span><span class="sxs-lookup"><span data-stu-id="d2489-162">Destination</span></span> | <span data-ttu-id="d2489-163">Конечный порт</span><span class="sxs-lookup"><span data-stu-id="d2489-163">Destination port</span></span> |
  | --- | --- | --- | --- |
  |  <span data-ttu-id="d2489-164">Общедоступный IP-адрес</span><span class="sxs-lookup"><span data-stu-id="d2489-164">Public IP</span></span> |<span data-ttu-id="d2489-165">Порт 50000</span><span class="sxs-lookup"><span data-stu-id="d2489-165">Port 50000</span></span> |<span data-ttu-id="d2489-166">vmss\_0</span><span class="sxs-lookup"><span data-stu-id="d2489-166">vmss\_0</span></span> |<span data-ttu-id="d2489-167">Порт 22</span><span class="sxs-lookup"><span data-stu-id="d2489-167">Port 22</span></span> |
  |  <span data-ttu-id="d2489-168">Общедоступный IP-адрес</span><span class="sxs-lookup"><span data-stu-id="d2489-168">Public IP</span></span> |<span data-ttu-id="d2489-169">Порт 50001</span><span class="sxs-lookup"><span data-stu-id="d2489-169">Port 50001</span></span> |<span data-ttu-id="d2489-170">vmss\_1</span><span class="sxs-lookup"><span data-stu-id="d2489-170">vmss\_1</span></span> |<span data-ttu-id="d2489-171">Порт 22</span><span class="sxs-lookup"><span data-stu-id="d2489-171">Port 22</span></span> |
  |  <span data-ttu-id="d2489-172">Общедоступный IP-адрес</span><span class="sxs-lookup"><span data-stu-id="d2489-172">Public IP</span></span> |<span data-ttu-id="d2489-173">Порт 50002</span><span class="sxs-lookup"><span data-stu-id="d2489-173">Port 50002</span></span> |<span data-ttu-id="d2489-174">vmss\_2</span><span class="sxs-lookup"><span data-stu-id="d2489-174">vmss\_2</span></span> |<span data-ttu-id="d2489-175">Порт 22</span><span class="sxs-lookup"><span data-stu-id="d2489-175">Port 22</span></span> |
  
   <span data-ttu-id="d2489-176">В [следующем примере](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-linux-nat) правила NAT разрешают SSH-подключения к каждой виртуальной машине в масштабируемом наборе с использованием одного общедоступного IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="d2489-176">In [this example](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-linux-nat), NAT rules are defined to enable an SSH connection to every VM in a scale set, by using a single public IP address.</span></span>
  
   <span data-ttu-id="d2489-177">[Этот пример](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-windows-nat) такой же схемы для RDP и Windows.</span><span class="sxs-lookup"><span data-stu-id="d2489-177">[This example](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-windows-nat) does the same with RDP and Windows.</span></span>
* <span data-ttu-id="d2489-178">**Подключение к виртуальной машине с помощью основной виртуальной машины.** Если в одной виртуальной сети создается масштабируемый набор и автономная виртуальная машина, эта машина и машины из набора могут подключаться друг к другу с помощью внутренних IP-адресов в соответствии с определением виртуальной сети или подсети.</span><span class="sxs-lookup"><span data-stu-id="d2489-178">**Connect to VMs by using a "jumpbox"**: If you create a scale set and a standalone VM in the same virtual network, the standalone VM and the scale set VM can connect to one another by using their internal IP addresses, as defined by the virtual network or subnet.</span></span> <span data-ttu-id="d2489-179">После создания и назначения общедоступного IP-адреса автономной виртуальной машине к ней можно будет подключиться по RDP или SSH.</span><span class="sxs-lookup"><span data-stu-id="d2489-179">If you create a public IP address and assign it to the standalone VM, you can use RDP or SSH to connect to the standalone VM.</span></span> <span data-ttu-id="d2489-180">Затем из нее можно подключиться к экземплярам масштабируемого набора.</span><span class="sxs-lookup"><span data-stu-id="d2489-180">You can then connect from that machine to your scale set instances.</span></span> <span data-ttu-id="d2489-181">На этом этапе вы могли заметить, что простой масштабируемый набор надежнее, чем автономная виртуальная машина с общедоступным IP-адресом, сконфигурированная по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d2489-181">You might notice at this point that a simple scale set is inherently more secure than a simple standalone VM with a public IP address in its default configuration.</span></span>
  
   <span data-ttu-id="d2489-182">Например, [этот шаблон](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-linux-jumpbox) развертывает простой масштабируемый набор с использованием отдельной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="d2489-182">For example, [this template](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-linux-jumpbox) deploys a simple scale set with a standalone VM.</span></span> 
* <span data-ttu-id="d2489-183">**Балансировка нагрузки для экземпляров масштабируемого набора.** Чтобы передать работу вычислительному кластеру виртуальных машин с использованием метода циклического перебора, в Azure Load Balancer следует настроить соответствующие правила балансировки 4-го уровня.</span><span class="sxs-lookup"><span data-stu-id="d2489-183">**Load balancing to scale set instances**: If you want to deliver work to a compute cluster of VMs by using a round-robin approach, you can configure an Azure load balancer with layer-4 load-balancing rules accordingly.</span></span> <span data-ttu-id="d2489-184">Вы можете настроить пробы, чтобы проверить работу приложения путем проверки связи с портами с помощью указанного протокола, интервала и пути запроса.</span><span class="sxs-lookup"><span data-stu-id="d2489-184">You can define probes to verify that your application is running by pinging ports with a specified protocol, interval, and request path.</span></span> <span data-ttu-id="d2489-185">[Шлюз приложений Azure](https://azure.microsoft.com/services/application-gateway/) также поддерживает наборы масштабирования, 7-й уровень и более сложные сценарии балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="d2489-185">[Azure Application Gateway](https://azure.microsoft.com/services/application-gateway/) also supports scale sets, along with layer-7 and more sophisticated load-balancing scenarios.</span></span>
  
   <span data-ttu-id="d2489-186">В [приведенном ниже примере](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-ubuntu-web-ssl) создается масштабируемый набор, выполняющий веб-серверы Apache. Кроме того, в нем используется балансировщик нагрузки для балансировки нагрузки, получаемой каждой виртуальной машиной.</span><span class="sxs-lookup"><span data-stu-id="d2489-186">[This example](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-ubuntu-web-ssl) creates a scale set that runs Apache web servers, and it uses a load balancer to balance the load that each VM receives.</span></span> <span data-ttu-id="d2489-187">(Обратите внимание на тип ресурса Microsoft.Network/loadBalancers, а также на networkProfile и extensionProfile в virtualMachineScaleSet.)</span><span class="sxs-lookup"><span data-stu-id="d2489-187">(Look at the Microsoft.Network/loadBalancers resource type and networkProfile and extensionProfile in virtualMachineScaleSet.)</span></span>

   <span data-ttu-id="d2489-188">[В примере Linux](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-ubuntu-app-gateway) и [Windows](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-windows-app-gateway) используется шлюз приложений.</span><span class="sxs-lookup"><span data-stu-id="d2489-188">[This Linux example](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-ubuntu-app-gateway) and [this Windows example](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-windows-app-gateway) use Application Gateway.</span></span>  

* <span data-ttu-id="d2489-189">**Развертывание масштабируемого набора в качестве вычислительного кластера в диспетчере кластеров PaaS.** Иногда масштабируемые наборы называют рабочими ролями следующего поколения.</span><span class="sxs-lookup"><span data-stu-id="d2489-189">**Deploying a scale set as a compute cluster in a PaaS cluster manager**: Scale sets are sometimes described as a next-generation worker role.</span></span> <span data-ttu-id="d2489-190">Это вполне допустимое название, но вместе с тем существует риск перепутать функции масштабируемого набора с функциями облачных служб Azure.</span><span class="sxs-lookup"><span data-stu-id="d2489-190">Though a valid description, it does run the risk of confusing scale set features with Azure Cloud Services features.</span></span> <span data-ttu-id="d2489-191">В этом смысле масштабируемые наборы предоставляют настоящую рабочую роль или рабочий ресурс.</span><span class="sxs-lookup"><span data-stu-id="d2489-191">In a sense, scale sets provide a true worker role or worker resource.</span></span> <span data-ttu-id="d2489-192">Они являются обобщенным вычислительным ресурсом, независимым от платформ и сред выполнения, который можно настроить и интегрировать с IaaS Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="d2489-192">They are a generalized compute resource that is platform/runtime independent, is customizable, and integrates into Azure Resource Manager IaaS.</span></span>
  
   <span data-ttu-id="d2489-193">Рабочая роль облачных служб ограничена с точки зрения поддержки платформ и сред выполнения (только для образов платформы Windows).</span><span class="sxs-lookup"><span data-stu-id="d2489-193">A Cloud Services worker role is limited in terms of platform/runtime support (Windows platform images only).</span></span> <span data-ttu-id="d2489-194">Но она также включает такие службы, как переключение виртуального IP-адреса, настраиваемые параметры обновления и определенные параметры развертывания для приложения или среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="d2489-194">But it also includes services such as VIP swap, configurable upgrade settings, and runtime/app deployment-specific settings.</span></span> <span data-ttu-id="d2489-195">Они либо *еще* недоступны в масштабируемых наборах, либо предоставляются другими службами PaaS более высокого уровня, например Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="d2489-195">These services are not *yet* available in scale sets, or they're delivered by other higher-level PaaS services like Azure Service Fabric.</span></span> <span data-ttu-id="d2489-196">Масштабируемые наборы можно рассматривать как инфраструктуру, поддерживающую PaaS.</span><span class="sxs-lookup"><span data-stu-id="d2489-196">You can look at scale sets as an infrastructure that supports PaaS.</span></span> <span data-ttu-id="d2489-197">Такие решения PaaS, как [Service Fabric](https://azure.microsoft.com/services/service-fabric/), созданы на основе этой инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="d2489-197">PaaS solutions like [Service Fabric](https://azure.microsoft.com/services/service-fabric/) build on this infrastructure.</span></span>
  
   <span data-ttu-id="d2489-198">В [примере использования](https://github.com/Azure/azure-quickstart-templates/tree/master/101-acs-dcos) с таким подходом [Служба контейнеров Azure](https://azure.microsoft.com/services/container-service/) развертывает кластер на основе масштабируемых наборов с оркестратором контейнеров.</span><span class="sxs-lookup"><span data-stu-id="d2489-198">In [this example](https://github.com/Azure/azure-quickstart-templates/tree/master/101-acs-dcos) of this approach, [Azure Container Service](https://azure.microsoft.com/services/container-service/) deploys a cluster based on scale sets with a container orchestrator.</span></span>

## <a name="scale-set-performance-and-scale-guidance"></a><span data-ttu-id="d2489-199">Рекомендации по производительности и масштабированию набора</span><span class="sxs-lookup"><span data-stu-id="d2489-199">Scale set performance and scale guidance</span></span>
* <span data-ttu-id="d2489-200">Масштабируемый набор поддерживает до 1000 виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="d2489-200">A scale set supports up to 1,000 VMs.</span></span> <span data-ttu-id="d2489-201">При создании и отправке собственных пользовательских образов виртуальных машин ограничение составляет 100.</span><span class="sxs-lookup"><span data-stu-id="d2489-201">If you create and upload your own custom VM images, the limit is 100.</span></span> <span data-ttu-id="d2489-202">Рекомендации по использованию больших масштабируемых наборов виртуальных машин см. в [этой статье](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="d2489-202">For considerations in using large scale sets, see [Working with large virtual machine scale sets](virtual-machine-scale-sets-placement-groups.md).</span></span>
* <span data-ttu-id="d2489-203">Чтобы использовать масштабируемые наборы, вам не нужно заранее создавать учетные записи хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="d2489-203">You do not have to pre-create Azure storage accounts to use scale sets.</span></span> <span data-ttu-id="d2489-204">Масштабируемые наборы поддерживают Управляемые диски Azure, что позволяет устранить проблемы с производительностью, связанные с количеством дисков на учетную запись хранения.</span><span class="sxs-lookup"><span data-stu-id="d2489-204">Scale sets support Azure managed disks, which negate performance concerns about the number of disks per storage account.</span></span> <span data-ttu-id="d2489-205">Дополнительные сведения см. в статье [Масштабируемые наборы виртуальных машин Azure и управляемые диски](virtual-machine-scale-sets-managed-disks.md).</span><span class="sxs-lookup"><span data-stu-id="d2489-205">For more information, see [Azure virtual machine scale sets and managed disks](virtual-machine-scale-sets-managed-disks.md).</span></span>
* <span data-ttu-id="d2489-206">Чтобы сократить время подготовки виртуальной машины, сделать этот процесс более прогнозируемым и улучшить производительность ввода-вывода, мы советуем использовать хранилище Azure класса Premium, а не службу хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="d2489-206">Consider using Azure Premium Storage instead of Azure Storage for faster, more predictable VM provisioning times and improved I/O performance.</span></span>
* <span data-ttu-id="d2489-207">Число создаваемых виртуальных машин ограничивается квотой ядер в регионе, в котором выполняется развертывание.</span><span class="sxs-lookup"><span data-stu-id="d2489-207">The core quota in the region in which you are deploying limits the number of VMs you can create.</span></span> <span data-ttu-id="d2489-208">Возможно, вам придется обратиться в службу поддержки, чтобы увеличить квоту на вычислительные ресурсы, даже если у вас установлен высокий предел ядер для использования с облачными службами Azure.</span><span class="sxs-lookup"><span data-stu-id="d2489-208">You might need to contact Customer Support to increase your compute quota limit, even if you have a high limit of cores for use with Azure Cloud Services today.</span></span> <span data-ttu-id="d2489-209">Запрос на квоту можно отправить с помощью команды Azure CLI `azure vm list-usage`</span><span class="sxs-lookup"><span data-stu-id="d2489-209">To query your quota, run this Azure CLI command: `azure vm list-usage`.</span></span> <span data-ttu-id="d2489-210">или команды PowerShell `Get-AzureRmVMUsage`.</span><span class="sxs-lookup"><span data-stu-id="d2489-210">Or, run this PowerShell command: `Get-AzureRmVMUsage`.</span></span>

## <a name="frequently-asked-questions-for-scale-sets"></a><span data-ttu-id="d2489-211">Часто задаваемые вопросы о масштабируемых наборах</span><span class="sxs-lookup"><span data-stu-id="d2489-211">Frequently asked questions for scale sets</span></span>
<span data-ttu-id="d2489-212">**Вопрос.**</span><span class="sxs-lookup"><span data-stu-id="d2489-212">**Q.**</span></span> <span data-ttu-id="d2489-213">Сколько виртуальных машин может входить в масштабируемый набор?</span><span class="sxs-lookup"><span data-stu-id="d2489-213">How many VMs can I have in a scale set?</span></span>

<span data-ttu-id="d2489-214">**Ответ.**</span><span class="sxs-lookup"><span data-stu-id="d2489-214">**A.**</span></span> <span data-ttu-id="d2489-215">В масштабируемый набор может входить от 0 до 1000 виртуальных машин на основе образов платформ или от 0 до 100 виртуальных машин на основе пользовательских образов.</span><span class="sxs-lookup"><span data-stu-id="d2489-215">A scale set can have 0 to 1,000 VMs based on platform images, or 0 to 100 VMs based on custom images.</span></span> 

<span data-ttu-id="d2489-216">**Вопрос.**</span><span class="sxs-lookup"><span data-stu-id="d2489-216">**Q.**</span></span> <span data-ttu-id="d2489-217">Поддерживаются ли диски данных в масштабируемых наборах?</span><span class="sxs-lookup"><span data-stu-id="d2489-217">Are data disks supported within scale sets?</span></span>

<span data-ttu-id="d2489-218">**Ответ.**</span><span class="sxs-lookup"><span data-stu-id="d2489-218">**A.**</span></span> <span data-ttu-id="d2489-219">Да.</span><span class="sxs-lookup"><span data-stu-id="d2489-219">Yes.</span></span> <span data-ttu-id="d2489-220">Масштабируемый набор может определять конфигурацию подключенных дисков с данными, применяемую ко всем виртуальным машинам в наборе.</span><span class="sxs-lookup"><span data-stu-id="d2489-220">A scale set can define an attached data disks configuration that applies to all VMs in the set.</span></span> <span data-ttu-id="d2489-221">Дополнительные сведения см. в статье [Масштабируемые наборы ВМ Azure и подключенные диски данных](virtual-machine-scale-sets-attached-disks.md).</span><span class="sxs-lookup"><span data-stu-id="d2489-221">For more information, see [Azure scale sets and attached data disks](virtual-machine-scale-sets-attached-disks.md).</span></span> <span data-ttu-id="d2489-222">Ниже перечислены другие варианты хранения данных.</span><span class="sxs-lookup"><span data-stu-id="d2489-222">Other options for storing data include:</span></span>

* <span data-ttu-id="d2489-223">Файлы Azure (общие диски SMB).</span><span class="sxs-lookup"><span data-stu-id="d2489-223">Azure files (SMB shared drives)</span></span>
* <span data-ttu-id="d2489-224">Диск операционной системы.</span><span class="sxs-lookup"><span data-stu-id="d2489-224">OS drive</span></span>
* <span data-ttu-id="d2489-225">временный диск (локальный, не поддерживаемый хранилищем Azure);</span><span class="sxs-lookup"><span data-stu-id="d2489-225">Temp drive (local, not backed by Azure Storage)</span></span>
* <span data-ttu-id="d2489-226">Служба данных Azure (например, таблицы Azure, большие двоичные объекты Azure).</span><span class="sxs-lookup"><span data-stu-id="d2489-226">Azure data service (for example, Azure tables, Azure blobs)</span></span>
* <span data-ttu-id="d2489-227">внешняя служба данных (например, удаленная база данных).</span><span class="sxs-lookup"><span data-stu-id="d2489-227">External data service (for example, remote database)</span></span>

<span data-ttu-id="d2489-228">**Вопрос.**</span><span class="sxs-lookup"><span data-stu-id="d2489-228">**Q.**</span></span> <span data-ttu-id="d2489-229">Какие регионы Azure поддерживают масштабируемые наборы?</span><span class="sxs-lookup"><span data-stu-id="d2489-229">Which Azure regions support scale sets?</span></span>

<span data-ttu-id="d2489-230">**Ответ.**</span><span class="sxs-lookup"><span data-stu-id="d2489-230">**A.**</span></span> <span data-ttu-id="d2489-231">Все регионы Azure поддерживают масштабируемые наборы.</span><span class="sxs-lookup"><span data-stu-id="d2489-231">All regions support scale sets.</span></span>

<span data-ttu-id="d2489-232">**Вопрос.**</span><span class="sxs-lookup"><span data-stu-id="d2489-232">**Q.**</span></span> <span data-ttu-id="d2489-233">Как создать масштабируемый набор с помощью пользовательского образа?</span><span class="sxs-lookup"><span data-stu-id="d2489-233">How do I create a scale set by using a custom image?</span></span>

<span data-ttu-id="d2489-234">**Ответ.**</span><span class="sxs-lookup"><span data-stu-id="d2489-234">**A.**</span></span> <span data-ttu-id="d2489-235">Создайте управляемый диск на основе VHD-файла пользовательского образа и добавьте ссылку на него в шаблоне масштабируемого набора.</span><span class="sxs-lookup"><span data-stu-id="d2489-235">Create a managed disk based on your custom image VHD and reference it in your scale set template.</span></span> <span data-ttu-id="d2489-236">[Ниже приведен пример](https://github.com/chagarw/MDPP/tree/master/101-vmss-custom-os).</span><span class="sxs-lookup"><span data-stu-id="d2489-236">[Here's an example](https://github.com/chagarw/MDPP/tree/master/101-vmss-custom-os).</span></span>

<span data-ttu-id="d2489-237">**Вопрос.**</span><span class="sxs-lookup"><span data-stu-id="d2489-237">**Q.**</span></span> <span data-ttu-id="d2489-238">Если уменьшить емкость масштабируемого набора с 20 до 15, какие виртуальные машины будут удалены?</span><span class="sxs-lookup"><span data-stu-id="d2489-238">If I reduce my scale set capacity from 20 to 15, which VMs are removed?</span></span>

<span data-ttu-id="d2489-239">**Ответ.**</span><span class="sxs-lookup"><span data-stu-id="d2489-239">**A.**</span></span> <span data-ttu-id="d2489-240">Для максимальной доступности виртуальные машины удаляются из масштабируемого набора в доменах обновления и доменах сбоя равномерно.</span><span class="sxs-lookup"><span data-stu-id="d2489-240">Virtual machines are removed from the scale set evenly across update domains and fault domains to maximize availability.</span></span> <span data-ttu-id="d2489-241">Сначала удаляются виртуальные машины с самым высоким уровнем идентификатора.</span><span class="sxs-lookup"><span data-stu-id="d2489-241">VMs with the highest IDs are removed first.</span></span>

<span data-ttu-id="d2489-242">**Вопрос.**</span><span class="sxs-lookup"><span data-stu-id="d2489-242">**Q.**</span></span> <span data-ttu-id="d2489-243">Что будет, если затем увеличить емкость с 15 до 18?</span><span class="sxs-lookup"><span data-stu-id="d2489-243">What if I then increase the capacity from 15 to 18?</span></span>

<span data-ttu-id="d2489-244">**Ответ.**</span><span class="sxs-lookup"><span data-stu-id="d2489-244">**A.**</span></span> <span data-ttu-id="d2489-245">Если увеличить емкость до 18, то будут созданы 3 новые виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="d2489-245">If you increase capacity to 18, then 3 new VMs are created.</span></span> <span data-ttu-id="d2489-246">При этом идентификатор экземпляра виртуальной машины будет каждый раз увеличиваться, начиная с предыдущего наибольшего значения (например, 20, 21, 22).</span><span class="sxs-lookup"><span data-stu-id="d2489-246">Each time, the VM instance ID is incremented from the previous highest value (for example, 20, 21, 22).</span></span> <span data-ttu-id="d2489-247">Виртуальные машины распределяются между доменами сбоя и обновления.</span><span class="sxs-lookup"><span data-stu-id="d2489-247">VMs are balanced across fault domains and update domains.</span></span>

<span data-ttu-id="d2489-248">**Вопрос.**</span><span class="sxs-lookup"><span data-stu-id="d2489-248">**Q.**</span></span> <span data-ttu-id="d2489-249">Можно ли указать последовательность выполнения при использовании нескольких расширений в масштабируемом наборе?</span><span class="sxs-lookup"><span data-stu-id="d2489-249">When I'm using multiple extensions in a scale set, can I enforce an execution sequence?</span></span>

<span data-ttu-id="d2489-250">**Ответ.**</span><span class="sxs-lookup"><span data-stu-id="d2489-250">**A.**</span></span> <span data-ttu-id="d2489-251">Напрямую нет, но при использовании расширения customScript ваш скрипт может подождать, пока завершится выполнение другого расширения.</span><span class="sxs-lookup"><span data-stu-id="d2489-251">Not directly, but for the customScript extension, your script can wait for another extension to finish.</span></span> <span data-ttu-id="d2489-252">Дополнительные рекомендации по виртуализации расширения см. в записи блога [Extension Sequencing in Azure VM Scale Sets](https://msftstack.wordpress.com/2016/05/12/extension-sequencing-in-azure-vm-scale-sets/) (Последовательность расширений в наборах масштабирования виртуальных машин Azure).</span><span class="sxs-lookup"><span data-stu-id="d2489-252">You can get additional guidance on extension sequencing in the blog post [Extension Sequencing in Azure VM Scale Sets](https://msftstack.wordpress.com/2016/05/12/extension-sequencing-in-azure-vm-scale-sets/).</span></span>

<span data-ttu-id="d2489-253">**Вопрос.**</span><span class="sxs-lookup"><span data-stu-id="d2489-253">**Q.**</span></span> <span data-ttu-id="d2489-254">Работают ли масштабируемые наборы с группами доступности Azure?</span><span class="sxs-lookup"><span data-stu-id="d2489-254">Do scale sets work with Azure availability sets?</span></span>

<span data-ttu-id="d2489-255">**Ответ.**</span><span class="sxs-lookup"><span data-stu-id="d2489-255">**A.**</span></span> <span data-ttu-id="d2489-256">Да.</span><span class="sxs-lookup"><span data-stu-id="d2489-256">Yes.</span></span> <span data-ttu-id="d2489-257">Масштабируемый набор является неявной группой доступности с 5 доменами сбоя и 5 доменами обновления.</span><span class="sxs-lookup"><span data-stu-id="d2489-257">A scale set is an implicit availability set with 5 fault domains and 5 update domains.</span></span> <span data-ttu-id="d2489-258">Масштабируемые наборы с более 100 виртуальными машинами охватывают несколько *групп размещения*, которые эквивалентны нескольким наборам доступности.</span><span class="sxs-lookup"><span data-stu-id="d2489-258">Scale sets of more than 100 VMs span multiple *placement groups*, which are equivalent to multiple availability sets.</span></span> <span data-ttu-id="d2489-259">Дополнительные сведения о группах размещения см. в статье [Работа с крупными масштабируемыми наборами виртуальных машин](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="d2489-259">For more information about placement groups, see [Working with large virtual machine scale sets](virtual-machine-scale-sets-placement-groups.md).</span></span> <span data-ttu-id="d2489-260">Группа доступности виртуальных машин может находиться в той же виртуальной сети, что и набор масштабирования виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="d2489-260">An availability set of VMs can exist in the same virtual network as a scale set of VMs.</span></span> <span data-ttu-id="d2489-261">Типичная конфигурация — это такое размещение виртуальных машин узла управления, для которого часто требуется уникальная конфигурация в группе доступности и узлы данных в наборе масштабирования.</span><span class="sxs-lookup"><span data-stu-id="d2489-261">A common configuration is to put control node VMs (which often require unique configuration) in an availability set and put data nodes in the scale set.</span></span>

<span data-ttu-id="d2489-262">Дополнительные часто задаваемые вопросы о масштабируемых наборах виртуальных машин Azure см. в [этой статье](virtual-machine-scale-sets-faq.md).</span><span class="sxs-lookup"><span data-stu-id="d2489-262">You can find more answers to questions about scale sets in the [Azure virtual machine scale sets FAQ](virtual-machine-scale-sets-faq.md).</span></span>
