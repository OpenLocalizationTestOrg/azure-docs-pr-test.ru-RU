---
title: "aaaDesign рекомендации для набора масштабирования виртуальной машины Azure | Документы Microsoft"
description: "Узнайте о рекомендациях по проектированию для масштабируемых наборов виртуальных машин Azure"
keywords: "Виртуальная машина Linux, наборы масштабирования виртуальных машин"
services: virtual-machine-scale-sets
documentationcenter: 
author: gatneil
manager: madhana
editor: tysonn
tags: azure-resource-manager
ms.assetid: c27c6a59-a0ab-4117-a01b-42b049464ca1
ms.service: virtual-machine-scale-sets
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/01/2017
ms.author: negat
ms.openlocfilehash: f8644d36fe5903bd4b74df26dca5dc3211ee3516
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="design-considerations-for-scale-sets"></a>Рекомендации по проектированию масштабируемых наборов
В этом разделе рассматриваются вопросы проектирования наборов масштабирования виртуальных машин. Сведения о том, что наборы масштабирования виртуальных машин, см. в разделе слишком[обзор наборов масштабирования виртуальных машин](virtual-machine-scale-sets-overview.md).

## <a name="when-toouse-scale-sets-instead-of-virtual-machines"></a>Когда масштаб toouse задает вместо виртуальных машин?
Как правило, масштабируемые наборы полезны при развертывании инфраструктуры высокой доступности с набором виртуальных машин одинаковой конфигурации. Тем не менее некоторые возможности доступны только в масштабируемых наборах, а другие — только в виртуальных машинах. Чтобы toomake обоснованное решение о том, когда toouse каждой из технологий, мы должны сначала рассмотрим некоторые hello часто используемых функций, доступных в наборы масштабирования, но не виртуальных машин:

### <a name="scale-set-specific-features"></a>Возможности масштабируемого набора

- После задания конфигурации набора масштабирования hello, можно просто обновить hello «емкость» свойство toodeploy больше виртуальных машин в параллельном режиме. Это гораздо проще, чем написание сценариев tooorchestrate, развертывание много отдельных виртуальных машин в параллельном режиме.
- Вы можете [tooautomatically автомасштабирования Azure используйте масштабирование набор масштабирования](./virtual-machine-scale-sets-autoscale-overview.md) , но не для отдельных виртуальных машин.
- Вы можете [пересоздать образ виртуальных машин масштабируемого набора](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm), но [не отдельных виртуальных машин](https://docs.microsoft.com/rest/api/compute/virtualmachines).
- Виртуальные машины масштабируемого набора можно [избыточно подготовить](./virtual-machine-scale-sets-design-overview.md), чтобы улучшить надежность и сократить время развертывания. Это невозможно с отдельными виртуальными машинами, если написать пользовательский код toodo это.
- Можно указать [обновление политики](./virtual-machine-scale-sets-upgrade-scale-set.md) toomake его легко tooroll ожидания обновления в виртуальных машинах в наборе масштабирования. Обновления для отдельных виртуальных машин необходимо оркестрировать самостоятельно.

### <a name="vm-specific-features"></a>Возможности отдельных виртуальных машин

На Здравствуйте другой стороны, некоторые возможности доступны только в виртуальных машинах (по крайней мере за то, что время hello):

- Можно присоединить toospecific диски данных отдельных виртуальных машин, но подключенные диски данных настроены для всех виртуальных машин в наборе масштабирования.
- Можно присоединить tooindividual диски данных непустой виртуальные машины, но не для виртуальных машин в наборе масштабирования.
- Можно сделать моментальный снимок отдельной виртуальной машины, но не машины в масштабируемом наборе.
- Можно записать образ отдельной виртуальной машины, но не машины в масштабируемом наборе.
- Можно выполнить миграцию отдельных виртуальных Машин из дисков toomanaged дисках с размером сектора, но не поддерживается для виртуальных машин в наборе масштабирования.
- Можно назначить общих IP-адресов IPv6 tooindividual сетевых адаптеров виртуальной Машины, но невозможно сделать для виртуальных машин в наборе масштабирования. Обратите внимание, что можно назначить общих IP-адресов IPv6 tooload балансировки нагрузки перед либо отдельных виртуальных машин или набора масштабирования виртуальных машин.

## <a name="storage"></a>Хранилище

### <a name="scale-sets-with-azure-managed-disks"></a>Масштабируемые наборы с компонентом "Управляемые диски" Azure
Вместо обычных учетных записей хранения Azure для создания масштабируемых наборов можно использовать [компонент "Управляемые диски" Azure](../virtual-machines/windows/managed-disks-overview.md). Управляемый диски предоставляют hello следующие преимущества:
- У вас toopre-создания нескольких учетных записей хранилища Azure для hello в наборе виртуальных машин.
- Можно определить [присоединенных дисков с данными](virtual-machine-scale-sets-attached-disks.md) hello виртуальных машин в шкалу набор.
- Наборы масштабирования можно настроить слишком[поддерживает систему too1 000 виртуальных машин в наборе](virtual-machine-scale-sets-placement-groups.md). 

При наличии существующего шаблона, можно также [обновление toouse шаблона hello управляемый дисков](virtual-machine-scale-sets-convert-template-to-md.md).

### <a name="user-managed-storage"></a>Управляемое пользователем хранилище
Набор масштабирования, который не определен с управлять дисками Azure использует пользовательские учетные записи toostore hello ОС дисков hello виртуальных машин в наборе hello. Коэффициент 20 виртуальных машин на учетную запись хранения или менее рекомендуется tooachieve максимальное операции ввода-ВЫВОДА, а также воспользоваться преимуществами _избыток_ (см. ниже). Также рекомендуется, символы начала hello имен учетных записей хранилища hello распределяться hello алфавита. Это поможет распределить нагрузку между разными внутренними системами. 


## <a name="overprovisioning"></a>Избыточная подготовка
Масштаб группы по умолчанию слишком «избыток» ВМ в данный момент. С избыток включен, масштаб hello задайте фактически включается несколько виртуальных машин, чем вы искали, а затем удаляет приветствия успешной инициализации дополнительных виртуальных машин после hello запрошенного числа виртуальных машин. Избыточная подготовка повышает процент успешной подготовки к работе и сокращает процесс развертывания. Для hello дополнительные виртуальные машины и они не учитываются вашей квоты не выставляются.

Хотя избыточного повысить подготовки показатели успеха, он может привести к нежелательным последствиям для приложения, — не специально toohandle дополнительных виртуальных машин, появляющихся, то затем исчезает. tooturn избыток off, обязательно hello строкой в шаблоне: `"overprovision": "false"`. Дополнительные сведения можно найти в hello [документации по API REST заданного масштаба](/rest/api/virtualmachinescalesets/create-or-update-a-set).

Если ваш набор масштабирования используются управляемые пользователем хранилища, и отключить избыток, может иметь более 20 виртуальных машин на учетную запись хранения, но не рекомендуется toogo выше 40 для повышения производительности операций ввода-ВЫВОДА. 

## <a name="limits"></a>Ограничения
Набор масштабирования основаны на образа Marketplace (также известный как образ платформы) и настроить toouse управляемых дисков Azure поддерживает емкость вверх too1 000 виртуальных машин. При настройке вашего toosupport набор масштабирования виртуальных машин более 100 не вся работа сценариев hello же (для примера с балансировкой нагрузки). Дополнительные сведения см. в статье [Работа с крупными масштабируемыми наборами виртуальных машин](virtual-machine-scale-sets-placement-groups.md). 

Настроены учетные записи хранения, управляемые пользователем наборе масштабирования виртуальных машин в настоящее время составляет too100 (и не рекомендуется использовать для этой шкалы 5 учетных записей хранилища).

Набор масштабирования, построенные на настраиваемого образа (созданной вами) может иметь емкость виртуальных машин too100 при использовании управляемых Azure диски. Если набор масштабирования hello настроен с учетными записями хранения, управляемые пользователем, его необходимо создать всех виртуальных жестких дисков операционной системы, в пределах одной учетной записи хранилища. В результате hello максимальный рекомендуемый число виртуальных машин в наборе масштабирования, построенные на пользовательского образа и управляемые пользователем хранилища — 20. Если вы отключаете избыток, можно перейти too40.

Для нескольких виртуальных машин, чем разрешить эти ограничения, необходимо toodeploy несколько шкалы задает, как показано в [этот шаблон](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).

