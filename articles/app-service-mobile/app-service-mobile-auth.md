---
title: "aaaAuthentication и авторизации в мобильных приложениях Azure | Документы Microsoft"
description: "Ссылки на концептуальные и обзор hello проверки подлинности / компонент авторизации для мобильных приложений Azure"
services: app-service\mobile
documentationcenter: 
author: mattchenderson
manager: syntaxc4
editor: 
ms.assetid: a46dbf70-867d-48f6-8885-7f5207ad102e
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 10/01/2016
ms.author: mahender
ms.openlocfilehash: 5255734481ada11afb65982aebe45c2a349402fe
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="authentication-and-authorization-in-azure-mobile-apps"></a><span data-ttu-id="609cb-103">Проверка подлинности и авторизация в мобильных приложениях Azure</span><span class="sxs-lookup"><span data-stu-id="609cb-103">Authentication and Authorization in Azure Mobile Apps</span></span>
## <a name="what-is-app-service-authentication--authorization"></a><span data-ttu-id="609cb-104">Что такое проверка подлинности и авторизация службы приложений?</span><span class="sxs-lookup"><span data-stu-id="609cb-104">What is App Service Authentication / Authorization?</span></span>
> [!NOTE]
> <span data-ttu-id="609cb-105">В этом разделе будет перенесенных tooa консолидированные [проверки подлинности службы для приложения / авторизации](../app-service/app-service-authentication-overview.md) темы, который охватывает Web, мобильных устройств и приложения API.</span><span class="sxs-lookup"><span data-stu-id="609cb-105">This topic will be migrated tooa consolidated [App Service Authentication / Authorization](../app-service/app-service-authentication-overview.md) topic, which covers Web, Mobile, and API Apps.</span></span>
> 
> 

<span data-ttu-id="609cb-106">Проверка подлинности службы для приложения / авторизация — это функция, дающая toolog вашего приложения в пользователи без изменения кода, необходимые на внутреннем сервере приложения hello.</span><span class="sxs-lookup"><span data-stu-id="609cb-106">App Service Authentication / Authorization is a feature which allows your application toolog in users with no code changes required on hello app backend.</span></span> <span data-ttu-id="609cb-107">Он предоставляет простой способ tooprotect приложения и рабочие данные для каждого пользователя.</span><span class="sxs-lookup"><span data-stu-id="609cb-107">It provides an easy way tooprotect your application and work with per-user data.</span></span>

<span data-ttu-id="609cb-108">Приложение службы использует федеративными удостоверениями, в котором сторонних поставщиков **поставщика удостоверений** («IDP»), учетные записи хранятся и выполняет проверку подлинности пользователей и приложения hello использует это удостоверение, а не свои собственные.</span><span class="sxs-lookup"><span data-stu-id="609cb-108">App Service uses federated identity, in which a 3rd-party **identity provider** ("IDP") stores accounts and authenticates users, and hello application uses this identity instead of its own.</span></span> <span data-ttu-id="609cb-109">Службы приложений поддерживает пять Поставщики удостоверений стандартной hello: *Azure Active Directory*, *Facebook*, *Google*, *учетную запись Майкрософт*, и *Twitter*.</span><span class="sxs-lookup"><span data-stu-id="609cb-109">App Service supports five identity providers out of hello box: *Azure Active Directory*, *Facebook*, *Google*, *Microsoft Account*, and *Twitter*.</span></span> <span data-ttu-id="609cb-110">Вы можете расширить этот список для своих приложений, интегрировав другого поставщика удостоверений или собственное настраиваемое решение идентификации.</span><span class="sxs-lookup"><span data-stu-id="609cb-110">You can also expand this support for your apps by integrating another identity provider or your own custom identity solution.</span></span>

<span data-ttu-id="609cb-111">Ваше приложение может поддерживать любое количество поставщиков удостоверений, предоставляя конечным пользователям возможность выбора способа входа.</span><span class="sxs-lookup"><span data-stu-id="609cb-111">Your app can leverage any number of these identity providers, so you can provide your end users with options for how they login.</span></span>

<span data-ttu-id="609cb-112">Если вы хотите tooget работу прямо сейчас, см. в разделе один hello следующие учебники:</span><span class="sxs-lookup"><span data-stu-id="609cb-112">If you wish tooget started right away, please see one of hello following tutorials:</span></span>

* <span data-ttu-id="609cb-113">[Добавление приложения iOS tooyour проверки подлинности]</span><span class="sxs-lookup"><span data-stu-id="609cb-113">[Add authentication tooyour iOS app]</span></span>
* <span data-ttu-id="609cb-114">[Добавление приложения Xamarin.iOS tooyour проверки подлинности]</span><span class="sxs-lookup"><span data-stu-id="609cb-114">[Add authentication tooyour Xamarin.iOS app]</span></span>
* <span data-ttu-id="609cb-115">[Добавить приложение Xamarin.Android tooyour проверки подлинности]</span><span class="sxs-lookup"><span data-stu-id="609cb-115">[Add authentication tooyour Xamarin.Android app]</span></span>
* <span data-ttu-id="609cb-116">[Добавление приложения Windows Authentication tooyour]</span><span class="sxs-lookup"><span data-stu-id="609cb-116">[Add Authentication tooyour Windows app]</span></span>

## <a name="how-authentication-works"></a><span data-ttu-id="609cb-117">Принцип действия проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="609cb-117">How authentication works</span></span>
<span data-ttu-id="609cb-118">В порядке tooauthenticate с помощью одного из поставщиков удостоверений hello необходимо сначала tooknow поставщика удостоверений hello tooconfigure о своем приложении.</span><span class="sxs-lookup"><span data-stu-id="609cb-118">In order tooauthenticate using one of hello identity providers, you first need tooconfigure hello identity provider tooknow about your application.</span></span> <span data-ttu-id="609cb-119">Поставщик удостоверений Hello затем предоставит вам идентификаторы и секреты, предоставлять обратную toohello приложения.</span><span class="sxs-lookup"><span data-stu-id="609cb-119">hello identity provider will then provide you with IDs and secrets that you provide back toohello application.</span></span> <span data-ttu-id="609cb-120">Это завершает hello доверительные отношения и позволяет tooit удостоверений, предоставляемых toovalidate службы приложений.</span><span class="sxs-lookup"><span data-stu-id="609cb-120">This completes hello trust relationship and allows App Service toovalidate identities provided tooit.</span></span>

<span data-ttu-id="609cb-121">Эти шаги описаны в hello следующие вопросы:</span><span class="sxs-lookup"><span data-stu-id="609cb-121">These steps are detailed in hello following topics:</span></span>

* <span data-ttu-id="609cb-122">[Как tooconfigure входа приложения toouse Azure Active Directory]</span><span class="sxs-lookup"><span data-stu-id="609cb-122">[How tooconfigure your app toouse Azure Active Directory login]</span></span>
* <span data-ttu-id="609cb-123">[Как tooconfigure входа Facebook toouse приложения]</span><span class="sxs-lookup"><span data-stu-id="609cb-123">[How tooconfigure your app toouse Facebook login]</span></span>
* <span data-ttu-id="609cb-124">[Как tooconfigure входа Google toouse приложения]</span><span class="sxs-lookup"><span data-stu-id="609cb-124">[How tooconfigure your app toouse Google login]</span></span>
* <span data-ttu-id="609cb-125">[Как tooconfigure входа приложения toouse учетной записи Майкрософт]</span><span class="sxs-lookup"><span data-stu-id="609cb-125">[How tooconfigure your app toouse Microsoft Account login]</span></span>
* <span data-ttu-id="609cb-126">[Как tooconfigure входа Twitter toouse приложения]</span><span class="sxs-lookup"><span data-stu-id="609cb-126">[How tooconfigure your app toouse Twitter login]</span></span>

<span data-ttu-id="609cb-127">Когда все настроено hello серверную часть, можно изменить toolog вашего клиента в.</span><span class="sxs-lookup"><span data-stu-id="609cb-127">Once everything is configured on hello backend, you can modify your client toolog in.</span></span> <span data-ttu-id="609cb-128">Существует два подхода:</span><span class="sxs-lookup"><span data-stu-id="609cb-128">There are two approaches here:</span></span>

* <span data-ttu-id="609cb-129">С помощью одной строки кода, позволяют hello мобильные приложения клиента SDK вход пользователей.</span><span class="sxs-lookup"><span data-stu-id="609cb-129">Using a single line of code, let hello Mobile Apps client SDK sign in users.</span></span>
* <span data-ttu-id="609cb-130">Использовать пакет SDK, опубликованное с заданным идентификатором поставщика tooestablish удостоверением и получить доступ tooApp службы.</span><span class="sxs-lookup"><span data-stu-id="609cb-130">Leverage an SDK published by a given identity provider tooestablish identity and then gain access tooApp Service.</span></span>

> [!TIP]
> <span data-ttu-id="609cb-131">Большинство приложений следует использовать поставщик SDK tooget tooleverage поддержка обновления и взаимодействия с более собственный чувство входа и другие преимущества от поставщика.</span><span class="sxs-lookup"><span data-stu-id="609cb-131">Most applications should use a provider SDK tooget a more native-feeling login experience and tooleverage refresh support and other provider-specific benefits.</span></span>
> 
> 

### <a name="how-authentication-without-a-provider-sdk-works"></a><span data-ttu-id="609cb-132">Принцип действия проверки подлинности без пакета SDK поставщика</span><span class="sxs-lookup"><span data-stu-id="609cb-132">How authentication without a provider SDK works</span></span>
<span data-ttu-id="609cb-133">При необходимости tooset поставщика пакета SDK, можно разрешить мобильные приложения tooperform hello входа автоматически.</span><span class="sxs-lookup"><span data-stu-id="609cb-133">If you do not wish tooset up a provider SDK, you can allow Mobile Apps tooperform hello login for you.</span></span> <span data-ttu-id="609cb-134">пакет SDK для клиента мобильные приложения Hello откроется представление toohello поставщике вашего выбора и завершения hello входа.</span><span class="sxs-lookup"><span data-stu-id="609cb-134">hello Mobile Apps client SDK will open a web view toohello provider of your choosing and complete hello sign in.</span></span> <span data-ttu-id="609cb-135">Иногда на блоги и форумы, вы сможете просмотреть это называется tooas hello «server потока» или «потока направленных на сервер», с момента выпуска hello server управляет входа hello и hello клиентский пакет SDK не получает hello поставщика маркера.</span><span class="sxs-lookup"><span data-stu-id="609cb-135">Occasionally on blogs and forums you will see this referred tooas hello "server flow" or "server-directed flow" since hello server is managing hello login, and hello client SDK never receives hello provider token.</span></span>

<span data-ttu-id="609cb-136">Код Hello требуется toostart, этот поток, описанные в учебнике hello проверки подлинности для каждой платформы.</span><span class="sxs-lookup"><span data-stu-id="609cb-136">hello code needed toostart this flow is covered in hello authentication tutorial for each platform.</span></span> <span data-ttu-id="609cb-137">В конце потока hello hello hello клиентский пакет SDK содержит токен службы приложений и hello маркер является серверной toohello tooall автоматически вложенных запросов.</span><span class="sxs-lookup"><span data-stu-id="609cb-137">At hello end of hello flow, hello client SDK has an App Service token, and hello token is automatically attached tooall requests toohello backend.</span></span>

### <a name="how-authentication-with-a-provider-sdk-works"></a><span data-ttu-id="609cb-138">Принцип действия проверки подлинности с пакетом SDK поставщика</span><span class="sxs-lookup"><span data-stu-id="609cb-138">How authentication with a provider SDK works</span></span>
<span data-ttu-id="609cb-139">Работа с поставщиком SDK позволяет toointeract входа hello более тесно с платформой hello, приложение hello операционной системы, на котором запущена.</span><span class="sxs-lookup"><span data-stu-id="609cb-139">Working with a provider SDK allows hello log-in experience toointeract more tightly with hello platform OS hello app is running on.</span></span> <span data-ttu-id="609cb-140">Это также позволяет токен поставщика и некоторые сведения о пользователе на приветствия клиента, который позволяет гораздо проще tooconsume graph API-интерфейсов и настроить взаимодействие с пользователем hello.</span><span class="sxs-lookup"><span data-stu-id="609cb-140">This also gives you a provider token and some user information on hello client, which makes it much easier tooconsume graph APIs and customize hello user experience.</span></span> <span data-ttu-id="609cb-141">Время от времени на блоги и форумы, вы увидите это ссылка tooas hello «потока клиента» и «клиент перенаправлен потока» с момента код на клиенте hello обрабатываемого входа hello hello клиентский код имеет доступ tooa поставщика маркера.</span><span class="sxs-lookup"><span data-stu-id="609cb-141">Occasionally on blogs and forums you will see this referred tooas hello "client flow" or "client-directed flow" since code on hello client is handling hello login, and hello client code has access tooa provider token.</span></span>

<span data-ttu-id="609cb-142">После получения маркера поставщика ему toobe отправлено tooApp службы для проверки.</span><span class="sxs-lookup"><span data-stu-id="609cb-142">Once a provider token is obtained, it needs toobe sent tooApp Service for validation.</span></span> <span data-ttu-id="609cb-143">В конце потока hello hello hello клиентский пакет SDK содержит токен службы приложений и hello маркер является серверной toohello tooall автоматически вложенных запросов.</span><span class="sxs-lookup"><span data-stu-id="609cb-143">At hello end of hello flow, hello client SDK has an App Service token, and hello token is automatically attached tooall requests toohello backend.</span></span> <span data-ttu-id="609cb-144">по усмотрению разработчика Hello могут также содержать маркер поставщика toohello ссылки на.</span><span class="sxs-lookup"><span data-stu-id="609cb-144">hello developer can also keep a reference toohello provider token if they so choose.</span></span>

## <a name="how-authorization-works"></a><span data-ttu-id="609cb-145">Принцип действия авторизации</span><span class="sxs-lookup"><span data-stu-id="609cb-145">How authorization works</span></span>
<span data-ttu-id="609cb-146">Проверка подлинности службы для приложения / авторизации предоставляет несколько вариантов **tootake действия, если запрос не прошел проверку подлинности**.</span><span class="sxs-lookup"><span data-stu-id="609cb-146">App Service Authentication / Authorization exposes several choices for **Action tootake when request is not authenticated**.</span></span> <span data-ttu-id="609cb-147">Прежде чем код получает данного запроса, можно иметь toosee Проверка приложения службы при проверке подлинности запроса hello и если нет, отклонить его и попробуйте toohave hello вход пользователя перед повторной попыткой.</span><span class="sxs-lookup"><span data-stu-id="609cb-147">Before your code receives a given request, you can have App Service check toosee if hello request is authenticated and if not, reject it and attempt toohave hello user log in before trying again.</span></span>

<span data-ttu-id="609cb-148">Один из вариантов — toohave не прошедшие проверку подлинности запросы перенаправления tooone поставщиков удостоверений hello.</span><span class="sxs-lookup"><span data-stu-id="609cb-148">One option is toohave unauthenticated requests redirect tooone of hello identity providers.</span></span> <span data-ttu-id="609cb-149">Веб-браузер это займет фактически hello пользователя tooa новой страницы.</span><span class="sxs-lookup"><span data-stu-id="609cb-149">In a web browser, this would actually take hello user tooa new page.</span></span> <span data-ttu-id="609cb-150">Однако мобильный клиент нельзя перенаправить таким образом, и ответы без проверки подлинности будут получать код состояния HTTP *401 — Не санкционировано*.</span><span class="sxs-lookup"><span data-stu-id="609cb-150">However, your mobile client cannot be redirected in this way, and unauthenticated responses will receive an HTTP *401 Unauthorized* response.</span></span> <span data-ttu-id="609cb-151">Это первый запрос hello делает ваш клиент всегда должен быть конечной точки входа toohello и их можно сделать вызывает tooany других API.</span><span class="sxs-lookup"><span data-stu-id="609cb-151">Given this, hello first request your client makes should always be toohello login endpoint, and then you can make calls tooany other APIs.</span></span> <span data-ttu-id="609cb-152">Если перед входом другой API попытка toocall, клиент появится сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="609cb-152">If you attempt toocall another API before logging in, your client will receive an error.</span></span>

<span data-ttu-id="609cb-153">При желании toohave более детального управления через какие конечные точки требуют проверки подлинности, можно также выбрать «никаких действий (Разрешить запрос)» для запросов, не прошедших проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="609cb-153">If you wish toohave more granular control over which endpoints require authentication, you can also pick "No action (allow request)" for unauthenticated requests.</span></span> <span data-ttu-id="609cb-154">В этом случае все проверки подлинности решения откладываются tooyour кода приложения.</span><span class="sxs-lookup"><span data-stu-id="609cb-154">In this case, all authentication decisions are deferred tooyour application code.</span></span> <span data-ttu-id="609cb-155">Это также позволяет tooallow доступа toospecific пользователей на основе правил настраиваемой авторизации.</span><span class="sxs-lookup"><span data-stu-id="609cb-155">This also allows you tooallow access toospecific users based on custom authorization rules.</span></span>

## <a name="documentation"></a><span data-ttu-id="609cb-156">Документация</span><span class="sxs-lookup"><span data-stu-id="609cb-156">Documentation</span></span>
<span data-ttu-id="609cb-157">Здравствуйте, как следующие учебники Показать tooadd проверки подлинности tooyour мобильных клиентов, использующих службы приложений:</span><span class="sxs-lookup"><span data-stu-id="609cb-157">hello following tutorials show how tooadd authentication tooyour mobile clients using App Service:</span></span>

* <span data-ttu-id="609cb-158">[Добавление приложения iOS tooyour проверки подлинности]</span><span class="sxs-lookup"><span data-stu-id="609cb-158">[Add authentication tooyour iOS app]</span></span>
* <span data-ttu-id="609cb-159">[Добавление приложения Xamarin.iOS tooyour проверки подлинности]</span><span class="sxs-lookup"><span data-stu-id="609cb-159">[Add authentication tooyour Xamarin.iOS app]</span></span>
* <span data-ttu-id="609cb-160">[Добавить приложение Xamarin.Android tooyour проверки подлинности]</span><span class="sxs-lookup"><span data-stu-id="609cb-160">[Add authentication tooyour Xamarin.Android app]</span></span>
* <span data-ttu-id="609cb-161">[Добавление приложения Windows Authentication tooyour]</span><span class="sxs-lookup"><span data-stu-id="609cb-161">[Add Authentication tooyour Windows app]</span></span>

<span data-ttu-id="609cb-162">Здравствуйте, как следующие учебники Показать tooconfigure службы приложений tooleverage разные поставщики проверки подлинности:</span><span class="sxs-lookup"><span data-stu-id="609cb-162">hello following tutorials show how tooconfigure App Service tooleverage different authentication providers:</span></span>

* <span data-ttu-id="609cb-163">[Как tooconfigure входа приложения toouse Azure Active Directory]</span><span class="sxs-lookup"><span data-stu-id="609cb-163">[How tooconfigure your app toouse Azure Active Directory login]</span></span>
* <span data-ttu-id="609cb-164">[Как tooconfigure входа Facebook toouse приложения]</span><span class="sxs-lookup"><span data-stu-id="609cb-164">[How tooconfigure your app toouse Facebook login]</span></span>
* <span data-ttu-id="609cb-165">[Как tooconfigure входа Google toouse приложения]</span><span class="sxs-lookup"><span data-stu-id="609cb-165">[How tooconfigure your app toouse Google login]</span></span>
* <span data-ttu-id="609cb-166">[Как tooconfigure входа приложения toouse учетной записи Майкрософт]</span><span class="sxs-lookup"><span data-stu-id="609cb-166">[How tooconfigure your app toouse Microsoft Account login]</span></span>
* <span data-ttu-id="609cb-167">[Как tooconfigure входа Twitter toouse приложения]</span><span class="sxs-lookup"><span data-stu-id="609cb-167">[How tooconfigure your app toouse Twitter login]</span></span>

<span data-ttu-id="609cb-168">При желании toouse система идентификации отличный от hello историй, предоставляемых здесь, можно также использовать hello [поддержка нестандартной проверки подлинности на сервере hello .NET SDK предварительного просмотра](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span><span class="sxs-lookup"><span data-stu-id="609cb-168">If you wish toouse an identity system other than hello ones provided here, you can also leverage hello [preview custom authentication support in hello .NET server SDK](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#custom-auth).</span></span>

[Добавление приложения iOS tooyour проверки подлинности]: app-service-mobile-ios-get-started-users.md
[Добавление приложения Xamarin.iOS tooyour проверки подлинности]: app-service-mobile-xamarin-ios-get-started-users.md
[Добавить приложение Xamarin.Android tooyour проверки подлинности]: app-service-mobile-xamarin-android-get-started-users.md
[Добавление приложения Windows Authentication tooyour]: app-service-mobile-windows-store-dotnet-get-started-users.md

[Как tooconfigure входа приложения toouse Azure Active Directory]: app-service-mobile-how-to-configure-active-directory-authentication.md
[Как tooconfigure входа Facebook toouse приложения]: app-service-mobile-how-to-configure-facebook-authentication.md
[Как tooconfigure входа Google toouse приложения]: app-service-mobile-how-to-configure-google-authentication.md
[Как tooconfigure входа приложения toouse учетной записи Майкрософт]: app-service-mobile-how-to-configure-microsoft-authentication.md
[Как tooconfigure входа Twitter toouse приложения]: app-service-mobile-how-to-configure-twitter-authentication.md
