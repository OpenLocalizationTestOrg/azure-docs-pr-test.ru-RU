---
title: "Диагностическое обслуживание в авиакосмической отрасли с помощью Azure. Техническое руководство по решению Cortana Intelligence | Документация Майкрософт"
description: "Техническое руководство по шаблону решения с использованием Microsoft Cortana Intelligence для прогнозируемого обслуживания в аэрокосмических, транспортных и обслуживающих компаниях."
services: cortana-analytics
documentationcenter: 
author: fboylu
manager: jhubbard
editor: cgronlun
ms.assetid: 2c4d2147-0f05-4705-8748-9527c2c1f033
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: fboylu
ms.openlocfilehash: d878a9b4d2e614070b5e0bf0cee5a2871963d6ef
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="technical-guide-to-the-cortana-intelligence-solution-template-for-predictive-maintenance-in-aerospace-and-other-businesses"></a><span data-ttu-id="e2edf-103">Техническое руководство по шаблону решения Cortana Intelligence для прогнозируемого обслуживания в аэрокосмических и других компаниях</span><span class="sxs-lookup"><span data-stu-id="e2edf-103">Technical guide to the Cortana Intelligence Solution Template for predictive maintenance in aerospace and other businesses</span></span>

## <a name="important"></a><span data-ttu-id="e2edf-104">**Важно!**</span><span class="sxs-lookup"><span data-stu-id="e2edf-104">**Important**</span></span>
<span data-ttu-id="e2edf-105">Эта статья считается устаревшей.</span><span class="sxs-lookup"><span data-stu-id="e2edf-105">This article has been deprecated.</span></span> <span data-ttu-id="e2edf-106">Содержащиеся в ней сведения по-прежнему актуальны для указанной темы, т. е. для диагностического обслуживания в авиакосмической отрасли, однако вы также можете найти последнюю версию статьи с обновленными сведениями [здесь](https://github.com/Azure/cortana-intelligence-predictive-maintenance-aerospace).</span><span class="sxs-lookup"><span data-stu-id="e2edf-106">The information is still relevant to the problem at hand, i.e. Predictive Maintenance in Aerospace, but the latest article with the most up to date information can be found [here](https://github.com/Azure/cortana-intelligence-predictive-maintenance-aerospace).</span></span> 

## <a name="acknowledgements"></a><span data-ttu-id="e2edf-107">**Благодарности**</span><span class="sxs-lookup"><span data-stu-id="e2edf-107">**Acknowledgements**</span></span>
<span data-ttu-id="e2edf-108">Авторами этой статьи являются специалисты по обработке и анализу данных Ян Цанг (Yan Zhang), Гаухер Шахин (Gauher Shaheen), Фидан Бойлу Юз (Fidan Boylu Uz) и инженер по программному обеспечению в корпорации Майкрософт Дэн Греко (Dan Grecoe).</span><span class="sxs-lookup"><span data-stu-id="e2edf-108">This article is authored by data scientists Yan Zhang, Gauher Shaheen, Fidan Boylu Uz and software engineer Dan Grecoe at Microsoft.</span></span>

## <a name="overview"></a><span data-ttu-id="e2edf-109">**Обзор**</span><span class="sxs-lookup"><span data-stu-id="e2edf-109">**Overview**</span></span>
<span data-ttu-id="e2edf-110">Шаблоны решений позволяют ускорить процесс создания демонстрации E2E на основе Cortana Intelligence Suite.</span><span class="sxs-lookup"><span data-stu-id="e2edf-110">Solution Templates are designed to accelerate the process of building an E2E demo on top of Cortana Intelligence Suite.</span></span> <span data-ttu-id="e2edf-111">Развернутый шаблон подготовит подписку, добавив необходимые компоненты Cortana Intelligence, и создаст связи между ними.</span><span class="sxs-lookup"><span data-stu-id="e2edf-111">A deployed template will provision your subscription with necessary Cortana Intelligence components and build the relationships between them.</span></span> <span data-ttu-id="e2edf-112">Он также заполняет конвейер данных образцами данных, созданными из приложения генератора данных, которое будет скачано и установлено на локальном компьютере после развертывания шаблона решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-112">It also seeds the data pipeline with sample data generated from a data generator application which you will download and install on your local machine after you deploy the solution template.</span></span> <span data-ttu-id="e2edf-113">Данные, созданные из генератора, будут заполнять конвейер данных и начнут создавать прогнозы машинного обучения, которые можно визуализировать на панели мониторинга Power BI.</span><span class="sxs-lookup"><span data-stu-id="e2edf-113">The data generated from the generator will hydrate the data pipeline and start generating machine learning predictions which can then be visualized on the Power BI dashboard.</span></span> <span data-ttu-id="e2edf-114">Процесс развертывания поможет выполнить несколько шагов, чтобы настроить учетные данные решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-114">The deployment process will guide you through several steps to set up your solution credentials.</span></span> <span data-ttu-id="e2edf-115">Убедитесь, что записали учетные данные, такие как имя решения, имя пользователя и пароль, предоставленные во время развертывания.</span><span class="sxs-lookup"><span data-stu-id="e2edf-115">Make sure you record these credentials such as solution name, username, and password you provide during the deployment.</span></span>  

<span data-ttu-id="e2edf-116">Цель данного документа — объяснить эталонную архитектуру и различные компоненты, подготовленные в подписке в рамках этого шаблона решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-116">The goal of this document is to explain the reference architecture and different components provisioned in your subscription as part of this solution template.</span></span> <span data-ttu-id="e2edf-117">Документ также рассказывает о том, как заменить образец данных вашими реальными данными, чтобы видеть мнения и прогнозы на основе ваших данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-117">The document also talks about how to replace the sample data with real data of your own to be able to see insights and predictions from your own data.</span></span> <span data-ttu-id="e2edf-118">Кроме того, в этом документе рассматриваются части шаблона решения, которые необходимо изменить, если вы хотите настроить решение с собственными данными.</span><span class="sxs-lookup"><span data-stu-id="e2edf-118">Additionally, the document discusses the parts of the Solution Template that would need to be modified if you wanted to customize the solution with your own data.</span></span> <span data-ttu-id="e2edf-119">Инструкции по созданию панели мониторинга Power BI для этого шаблона решения приведены в конце.</span><span class="sxs-lookup"><span data-stu-id="e2edf-119">Instructions on how to build the Power BI dashboard for this Solution Template are provided at the end.</span></span>

> [!TIP]
> <span data-ttu-id="e2edf-120">Можно скачать и распечатать [PDF-версию этого документа](http://download.microsoft.com/download/F/4/D/F4D7D208-D080-42ED-8813-6030D23329E9/cortana-analytics-technical-guide-predictive-maintenance.pdf).</span><span class="sxs-lookup"><span data-stu-id="e2edf-120">You can download and print a [PDF version of this document](http://download.microsoft.com/download/F/4/D/F4D7D208-D080-42ED-8813-6030D23329E9/cortana-analytics-technical-guide-predictive-maintenance.pdf).</span></span>
> 
> 

## <a name="big-picture"></a><span data-ttu-id="e2edf-121">**Общая картина**</span><span class="sxs-lookup"><span data-stu-id="e2edf-121">**Big picture**</span></span>
![Архитектура прогнозируемого обслуживания](media/cortana-analytics-technical-guide-predictive-maintenance/predictive-maintenance-architecture.png)

<span data-ttu-id="e2edf-123">При развертывании решения активируются различные службы Azure в Cortana Analytics Suite (*т. е.* концентратор событий, Stream Analytics, HDInsight, фабрика данных, машинное обучение *и т. д.*).</span><span class="sxs-lookup"><span data-stu-id="e2edf-123">When the solution is deployed, various Azure services within Cortana Analytics Suite are activated (*i.e.* Event Hub, Stream Analytics, HDInsight, Data Factory, Machine Learning, *etc.*).</span></span> <span data-ttu-id="e2edf-124">Схема архитектуры выше на высоком уровне демонстрирует создание шаблона решения для прогнозируемого обслуживания в аэрокосмических компаниях от начала до конца.</span><span class="sxs-lookup"><span data-stu-id="e2edf-124">The architecture diagram above shows, at a high level, how the Predictive Maintenance for Aerospace Solution Template is constructed from end-to-end.</span></span> <span data-ttu-id="e2edf-125">Вы сможете изучить эти службы на портале Azure. Для этого следует щелкнуть их на схеме шаблона решения, созданной с развертыванием решения. Исключением является HDInsight, так как эта служба подготавливается по требованию, когда после выполнения связанные действия конвейера удаляются.</span><span class="sxs-lookup"><span data-stu-id="e2edf-125">You will be able to investigate these services in the azure portal by clicking on them on the solution template diagram created with the deployment of the solution with the exception of HDInsight as this service is provisioned on demand when the related pipeline activities are required to run and deleted afterwards.</span></span>
<span data-ttu-id="e2edf-126">Вы можете скачать [полноразмерную схему](http://download.microsoft.com/download/1/9/B/19B815F0-D1B0-4F67-AED3-A40544225FD1/ca-topologies-maintenance-prediction.png).</span><span class="sxs-lookup"><span data-stu-id="e2edf-126">You can download a [full-size version of the diagram](http://download.microsoft.com/download/1/9/B/19B815F0-D1B0-4F67-AED3-A40544225FD1/ca-topologies-maintenance-prediction.png).</span></span>

<span data-ttu-id="e2edf-127">В следующих разделах описан каждый фрагмент.</span><span class="sxs-lookup"><span data-stu-id="e2edf-127">The following sections describe each piece.</span></span>

## <a name="data-source-and-ingestion"></a><span data-ttu-id="e2edf-128">**Источник данных и прием**</span><span class="sxs-lookup"><span data-stu-id="e2edf-128">**Data source and ingestion**</span></span>
### <a name="synthetic-data-source"></a><span data-ttu-id="e2edf-129">Источник искусственных данных</span><span class="sxs-lookup"><span data-stu-id="e2edf-129">Synthetic data source</span></span>
<span data-ttu-id="e2edf-130">Для этого шаблона используется источник данных, созданный настольным приложением, которое вы загрузите и запустите локально после успешного развертывания.</span><span class="sxs-lookup"><span data-stu-id="e2edf-130">For this template the data source used is generated from a desktop application that you will download and run locally after successful deployment.</span></span> <span data-ttu-id="e2edf-131">Вы найдете инструкции по загрузке и установке этого приложения на панели свойств при выборе первого узла, который на схеме шаблонов решений называется генератором данных диагностического обслуживания.</span><span class="sxs-lookup"><span data-stu-id="e2edf-131">You will find the instructions to download and install this application in the properties bar when you select the first node called Predictive Maintenance Data Generator on the solution template diagram.</span></span> <span data-ttu-id="e2edf-132">Это приложение передает [концентратору событий Azure](#azure-event-hub) точки данных или события, которые будут использоваться в оставшейся части потока решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-132">This application feeds the [Azure Event Hub](#azure-event-hub) service with data points, or events, that will be used in the rest of the solution flow.</span></span> <span data-ttu-id="e2edf-133">Этот источник данных состоит или извлекается из общедоступных данных из [репозитория данных NASA](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/) с помощью [набора данных для симуляции деградации турбореактивного двигателя](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/#turbofan).</span><span class="sxs-lookup"><span data-stu-id="e2edf-133">This data source is comprised of or derived from publicly available data from the [NASA data repository](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/) using the [Turbofan Engine Degradation Simulation Data Set](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/#turbofan).</span></span>

<span data-ttu-id="e2edf-134">Приложение для создания событий будет заполнять концентратор событий Azure только при выполнении на компьютере.</span><span class="sxs-lookup"><span data-stu-id="e2edf-134">The event generation application will populate the Azure Event Hub only while it's executing on your computer.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="e2edf-135">концентратору событий Azure</span><span class="sxs-lookup"><span data-stu-id="e2edf-135">Azure event hub</span></span>
<span data-ttu-id="e2edf-136">Служба [Концентратор событий Azure](https://azure.microsoft.com/services/event-hubs/) является получателем входных данных, предоставленных искусственным источником данных, описанным выше.</span><span class="sxs-lookup"><span data-stu-id="e2edf-136">The [Azure Event Hub](https://azure.microsoft.com/services/event-hubs/) service is the recipient of the input provided by the Synthetic Data Source described above.</span></span>

## <a name="data-preparation-and-analysis"></a><span data-ttu-id="e2edf-137">**Подготовка и анализ данных**</span><span class="sxs-lookup"><span data-stu-id="e2edf-137">**Data preparation and analysis**</span></span>
### <a name="azure-stream-analytics"></a><span data-ttu-id="e2edf-138">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="e2edf-138">Azure Stream Analytics</span></span>
<span data-ttu-id="e2edf-139">Служба [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) используется для предоставления аналитики практически в режиме реального времени для входного потока службы [Концентратор событий Azure](#azure-event-hub) и публикации результатов на панели мониторинга [Power BI](https://powerbi.microsoft.com), а также для архивирования всех входящих событий [службы хранилища Azure](https://azure.microsoft.com/services/storage/) для последующей обработки службой [Фабрика данных Azure](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-139">The [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service is used to provide near real-time analytics on the input stream from the [Azure Event Hub](#azure-event-hub) service and publish results onto a [Power BI](https://powerbi.microsoft.com) dashboard as well as archiving all raw incoming events to the [Azure Storage](https://azure.microsoft.com/services/storage/) service for later processing by the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service.</span></span>

### <a name="hd-insights-custom-aggregation"></a><span data-ttu-id="e2edf-140">Пользовательская агрегация HD Insights</span><span class="sxs-lookup"><span data-stu-id="e2edf-140">HD Insights custom aggregation</span></span>
<span data-ttu-id="e2edf-141">Служба Azure HD Insight используется для запуска сценариев [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) (оркестрация с помощью фабрики данных Azure) и предоставления сводных данных необработанных событий, которые были заархивированы с помощью службы Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="e2edf-141">The Azure HD Insight service is used to run [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts (orchestrated by Azure Data Factory) to provide aggregations on the raw events that were archived using the Azure Stream Analytics service.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="e2edf-142">Машинное обучение Azure</span><span class="sxs-lookup"><span data-stu-id="e2edf-142">Azure Machine Learning</span></span>
<span data-ttu-id="e2edf-143">Служба [Машинное обучение Azure](https://azure.microsoft.com/services/machine-learning/) используется (оркестрация с помощью фабрики данных Azure) для создания прогнозов на оставшийся период эксплуатации (RUL) конкретного двигателя самолета с учетом полученных входных данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-143">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service is used (orchestrated by Azure Data Factory) to make predictions on the remaining useful life (RUL) of a particular aircraft engine given the inputs received.</span></span>

## <a name="data-publishing"></a><span data-ttu-id="e2edf-144">**Публикация данных**</span><span class="sxs-lookup"><span data-stu-id="e2edf-144">**Data publishing**</span></span>
### <a name="azure-sql-database-service"></a><span data-ttu-id="e2edf-145">Служба базы данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="e2edf-145">Azure SQL Database Service</span></span>
<span data-ttu-id="e2edf-146">Служба [База данных SQL Azure](https://azure.microsoft.com/services/sql-database/) используется для хранения (управляется фабрикой данных Azure) прогнозов, полученных службой машинного обучения Azure, которая будет использоваться на панели мониторинга [Power BI](https://powerbi.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="e2edf-146">The [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) service is used to store (managed by Azure Data Factory) the predictions received by the Azure Machine Learning service that will be consumed in the [Power BI](https://powerbi.microsoft.com) dashboard.</span></span>

## <a name="data-consumption"></a><span data-ttu-id="e2edf-147">**Использование данных**</span><span class="sxs-lookup"><span data-stu-id="e2edf-147">**Data consumption**</span></span>
### <a name="power-bi"></a><span data-ttu-id="e2edf-148">Power BI</span><span class="sxs-lookup"><span data-stu-id="e2edf-148">Power BI</span></span>
<span data-ttu-id="e2edf-149">Служба [Power BI](https://powerbi.microsoft.com) используется для отображения информационной панели, которая содержит сводные данные и предупреждения, предоставляемые службой [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/), а также прогнозы сроков эксплуатации, хранящиеся в [Базе данных SQL Azure](https://azure.microsoft.com/services/sql-database/) и полученные с помощью службы [Машинного обучения Azure](https://azure.microsoft.com/services/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-149">The [Power BI](https://powerbi.microsoft.com) service is used to show a dashboard that contains aggregations and alerts provided by the [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) service as well as RUL predictions stored in [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) that were produced using the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) service.</span></span> <span data-ttu-id="e2edf-150">Инструкции по созданию панели мониторинга Power BI для этого шаблона решения приведены в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="e2edf-150">For Instructions on how to build the Power BI dashboard for this Solution Template, refer to the section below.</span></span>

## <a name="how-to-bring-in-your-own-data"></a><span data-ttu-id="e2edf-151">**Способы добавления собственных данных**</span><span class="sxs-lookup"><span data-stu-id="e2edf-151">**How to bring in your own data**</span></span>
<span data-ttu-id="e2edf-152">В этом разделе описывается, как внести свои данные в Azure и какие области потребуют изменения в случае данных, которые вы добавляете в эту архитектуру.</span><span class="sxs-lookup"><span data-stu-id="e2edf-152">This section describes how to bring your own data to Azure, and what areas would require changes for the data you bring into this architecture.</span></span>

<span data-ttu-id="e2edf-153">Маловероятно, что любой добавленный вами набор данных будет соответствовать [набору данных для симуляции деградации турбореактивного двигателя](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/#turbofan) , используемому в этом шаблоне решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-153">It's unlikely that any dataset you bring would match the dataset used by the [Turbofan Engine Degradation Simulation Data Set](http://ti.arc.nasa.gov/tech/dash/pcoe/prognostic-data-repository/#turbofan) used for this solution template.</span></span> <span data-ttu-id="e2edf-154">Понимание данных и требований очень важно для того, чтобы изменить этот шаблон для работы с собственными данными.</span><span class="sxs-lookup"><span data-stu-id="e2edf-154">Understanding your data and the requirements will be crucial in how you modify this template to work with your own data.</span></span> <span data-ttu-id="e2edf-155">Если это ваш первый опыт работы со службой машинного обучения Azure, введение к ней можно получить с помощью примера в разделе [Создание первого эксперимента](machine-learning-create-experiment.md).</span><span class="sxs-lookup"><span data-stu-id="e2edf-155">If this is your first exposure to the Azure Machine Learning service, you can get an introduction to it by using the example in [How to create your first experiment](machine-learning-create-experiment.md).</span></span>

<span data-ttu-id="e2edf-156">В следующих разделах описываются части шаблона, которые потребуется изменить, когда появится новый набор данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-156">The following sections will discuss the sections of the template that will require modifications when a new dataset is introduced.</span></span>

### <a name="azure-event-hub"></a><span data-ttu-id="e2edf-157">концентратору событий Azure</span><span class="sxs-lookup"><span data-stu-id="e2edf-157">Azure Event Hub</span></span>
<span data-ttu-id="e2edf-158">Служба концентратора событий Azure весьма универсальна, поэтому данные можно внести в концентратор в формате CSV или JSON.</span><span class="sxs-lookup"><span data-stu-id="e2edf-158">The Azure Event Hub service is very generic, such that data can be posted to the hub in either CSV or JSON format.</span></span> <span data-ttu-id="e2edf-159">В концентраторе событий Azure никакой специальной обработки не происходит, но важно понимать суть поступающих в него данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-159">No special processing occurs in the Azure Event Hub, but it's important that you understand the data that's fed into it.</span></span>

<span data-ttu-id="e2edf-160">В этом документе не рассматривается способ ввода данных, но вы легко можете отправлять события или данные в концентратор событий Azure с помощью API концентратора событий.</span><span class="sxs-lookup"><span data-stu-id="e2edf-160">This document does not describe how to ingest your data, but you can easily send events or data to an Azure Event Hub using the Event Hub API's.</span></span>

### <a name="azure-stream-analytics"></a><span data-ttu-id="e2edf-161">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="e2edf-161">Azure Stream Analytics</span></span>
<span data-ttu-id="e2edf-162">Служба Azure Stream Analytics используется для обеспечения аналитики практически в режиме реального времени путем чтения из потоков данных и вывода данных в любое количество источников.</span><span class="sxs-lookup"><span data-stu-id="e2edf-162">The Azure Stream Analytics service is used to provide near real-time analytics by reading from data streams and outputting data to any number of sources.</span></span>

<span data-ttu-id="e2edf-163">В случае шаблона решения для прогнозируемого обслуживания в аэрокосмических компаниях запрос Azure Stream Analytics состоит из четырех вложенных запросов, каждый из которых потребляет события из концентратора событий Azure и записывает выходные данные в четыре различных места.</span><span class="sxs-lookup"><span data-stu-id="e2edf-163">For the Predictive Maintenance for Aerospace Solution Template, the Azure Stream Analytics query consists of four sub-queries, each consuming events from the Azure Event Hub service, and having outputs to four distinct locations.</span></span> <span data-ttu-id="e2edf-164">Эти выходные данные состоят из трех наборов данных Power BI и одного места хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="e2edf-164">These outputs consist of three Power BI datasets and one Azure Storage location.</span></span>

<span data-ttu-id="e2edf-165">Чтобы найти запрос Azure Stream Analytics, необходимо сделать следующее.</span><span class="sxs-lookup"><span data-stu-id="e2edf-165">The Azure Stream Analytics query can be found by:</span></span>

* <span data-ttu-id="e2edf-166">Войти на портал Azure</span><span class="sxs-lookup"><span data-stu-id="e2edf-166">Logging into the Azure portal</span></span>
* <span data-ttu-id="e2edf-167">Найти задания Stream Analytics ![Значок Stream Analytics](media/cortana-analytics-technical-guide-predictive-maintenance/icon-stream-analytics.png), созданные при развертывании решения (*например*, **maintenancesa02asapbi** и **maintenancesa02asablob** в случае решения для прогнозируемого обслуживания).</span><span class="sxs-lookup"><span data-stu-id="e2edf-167">Locating the Stream Analytics jobs ![Stream Analytics icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-stream-analytics.png) that were generated when the solution was deployed (*e.g.*, **maintenancesa02asapbi** and **maintenancesa02asablob** for the predictive maintenance solution)</span></span>
* <span data-ttu-id="e2edf-168">Выбрать</span><span class="sxs-lookup"><span data-stu-id="e2edf-168">Selecting</span></span>
  
  * <span data-ttu-id="e2edf-169">***INPUTS*** для просмотра входных данных запроса.</span><span class="sxs-lookup"><span data-stu-id="e2edf-169">***INPUTS*** to view the query input</span></span>
  * <span data-ttu-id="e2edf-170">***QUERY*** для просмотра самого запроса.</span><span class="sxs-lookup"><span data-stu-id="e2edf-170">***QUERY*** to view the query itself</span></span>
  * <span data-ttu-id="e2edf-171">***OUTPUTS*** для просмотра разных выходных данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-171">***OUTPUTS*** to view the different outputs</span></span>

<span data-ttu-id="e2edf-172">Сведения о построении запросов Azure Stream Analytics можно найти в [справочнике по запросам Stream Analytics](https://msdn.microsoft.com/library/azure/dn834998.aspx) на сайте MSDN.</span><span class="sxs-lookup"><span data-stu-id="e2edf-172">Information about Azure Stream Analytics query construction can be found in the [Stream Analytics Query Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) on MSDN.</span></span>

<span data-ttu-id="e2edf-173">В этом решении запросы выводят три набора данных с собранной практически в режиме реального времени аналитической информацией о потоках входящих данных на панель мониторинга Power BI, которая предоставляется как часть этого шаблона решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-173">In this solution, the queries output three datasets with near real-time analytics information about the incoming data stream to a Power BI dashboard that's provided as part of this solution template.</span></span> <span data-ttu-id="e2edf-174">Поскольку есть неявные сведения о формате входящих данных, эти запросы потребуется изменить в зависимости от вашего формата данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-174">Because there's implicit knowledge about the incoming data format, these queries would need to be altered based on your data format.</span></span>

<span data-ttu-id="e2edf-175">Запрос во втором задании Stream Analytics **maintenancesa02asablob** просто выводит все события [концентратора событий](https://azure.microsoft.com/services/event-hubs/) в [службу хранилища Azure](https://azure.microsoft.com/services/storage/) и поэтому не требует изменения вне зависимости от вашего формата данных, так как все данные о событии передаются в хранилище.</span><span class="sxs-lookup"><span data-stu-id="e2edf-175">The query in the second Stream Analytics job **maintenancesa02asablob** simply outputs all [Event Hub](https://azure.microsoft.com/services/event-hubs/) events to [Azure Storage](https://azure.microsoft.com/services/storage/) and hence requires no alteration regardless of your data format as the full event information is streamed to storage.</span></span>

### <a name="azure-data-factory"></a><span data-ttu-id="e2edf-176">Фабрика данных Azure</span><span class="sxs-lookup"><span data-stu-id="e2edf-176">Azure Data Factory</span></span>
<span data-ttu-id="e2edf-177">Служба [Фабрика данных Azure](https://azure.microsoft.com/documentation/services/data-factory/) управляет перемещением и обработкой данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-177">The [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/) service orchestrates the movement and processing of data.</span></span> <span data-ttu-id="e2edf-178">В шаблоне решения для прогнозируемого обслуживания в аэрокосмических компаниях фабрика данных состоит из трех [конвейеров](../data-factory/data-factory-create-pipelines.md) для перемещения и обработки данных с помощью различных технологий.</span><span class="sxs-lookup"><span data-stu-id="e2edf-178">In the Predictive Maintenance for Aerospace Solution Template the data factory is made up of three [pipelines](../data-factory/data-factory-create-pipelines.md) that move and process the data using various technologies.</span></span>  <span data-ttu-id="e2edf-179">Чтобы получить доступ к своей фабрике данных, необходимо открыть узел фабрики данных в нижней части на схеме шаблона решения, созданной в ходе развертывания решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-179">You can access your data factory by opening the the Data Factory node at the bottom of the solution template diagram created with the deployment of the solution.</span></span> <span data-ttu-id="e2edf-180">Откроется фабрика данных на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="e2edf-180">This will take you to the data factory on your Azure portal.</span></span> <span data-ttu-id="e2edf-181">При появлении ошибок в наборах данных можно пропустить их, так как они возникают из-за фабрики данных, развернутой до запуска генератора данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-181">If you see errors under your datasets, you can ignore those as they are due to data factory being deployed before the data generator was started.</span></span> <span data-ttu-id="e2edf-182">Эти ошибки не мешают работе фабрики данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-182">Those errors do not prevent your data factory from functioning.</span></span>

![Ошибки наборов данных фабрики данных](media/cortana-analytics-technical-guide-predictive-maintenance/data-factory-dataset-error.png)

<span data-ttu-id="e2edf-184">В этом разделе рассматриваются необходимые [конвейеры](../data-factory/data-factory-create-pipelines.md) и [действия](../data-factory/data-factory-create-pipelines.md) в [фабрике данных Azure](https://azure.microsoft.com/documentation/services/data-factory/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-184">This section discusses the necessary [pipelines](../data-factory/data-factory-create-pipelines.md) and [activities](../data-factory/data-factory-create-pipelines.md) contained in the [Azure Data Factory](https://azure.microsoft.com/documentation/services/data-factory/).</span></span> <span data-ttu-id="e2edf-185">Ниже представлена схема решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-185">Below is the diagram view of the solution.</span></span>

![Фабрика данных Azure](media/cortana-analytics-technical-guide-predictive-maintenance/azure-data-factory.png)

<span data-ttu-id="e2edf-187">Два конвейера этой фабрики содержат сценарии [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) , которые используются для секционирования и агрегирования данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-187">Two of the pipelines of this factory contain [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts that are used to partition and aggregate the data.</span></span> <span data-ttu-id="e2edf-188">Если указано, сценарии будут находиться в учетной записи [хранения Azure](https://azure.microsoft.com/services/storage/) , созданной во время установки.</span><span class="sxs-lookup"><span data-stu-id="e2edf-188">When noted, the scripts will be located in the [Azure Storage](https://azure.microsoft.com/services/storage/) account created during setup.</span></span> <span data-ttu-id="e2edf-189">Их расположение: maintenancesascript\\\\script\\\\hive\\\\ (или https://[имя вашего решения].blob.core.windows.net/maintenancesascript).</span><span class="sxs-lookup"><span data-stu-id="e2edf-189">Their location will be: maintenancesascript\\\\script\\\\hive\\\\ (or https://[Your solution name].blob.core.windows.net/maintenancesascript).</span></span>

<span data-ttu-id="e2edf-190">Аналогично запросам [Azure Stream Analytics](#azure-stream-analytics-1) сценарии [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) имеют неявные сведения о формате входящих данных. Эти запросы нужно будет изменить в зависимости от вашего формата данных и требований [проектирования признаков](machine-learning-feature-selection-and-engineering.md).</span><span class="sxs-lookup"><span data-stu-id="e2edf-190">Similar to the [Azure Stream Analytics](#azure-stream-analytics-1) queries, the [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) scripts have implicit knowledge about the incoming data format, these queries would need to be altered based on your data format and [feature engineering](machine-learning-feature-selection-and-engineering.md) requirements.</span></span>

#### <a name="aggregateflightinfopipeline"></a><span data-ttu-id="e2edf-191">*AggregateFlightInfoPipeline*</span><span class="sxs-lookup"><span data-stu-id="e2edf-191">*AggregateFlightInfoPipeline*</span></span>
<span data-ttu-id="e2edf-192">Этот [конвейер](../data-factory/data-factory-create-pipelines.md) содержит одно действие — действие [HDInsightHive](../data-factory/data-factory-hive-activity.md) с использованием службы [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx), которая выполняет сценарий [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) для секционирования данных в [службе хранилища Azure](https://azure.microsoft.com/services/storage/) во время задания [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-192">This [pipeline](../data-factory/data-factory-create-pipelines.md) contains a single activity - an [HDInsightHive](../data-factory/data-factory-hive-activity.md) activity using a [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script to partition the data put in [Azure Storage](https://azure.microsoft.com/services/storage/) during the [Azure Stream Analytics](https://azure.microsoft.com/services/stream-analytics/) job.</span></span>

<span data-ttu-id="e2edf-193">Сценарий [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) для этой задачи секционирования — ***AggregateFlightInfo.hql***.</span><span class="sxs-lookup"><span data-stu-id="e2edf-193">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this partitioning task is ***AggregateFlightInfo.hql***</span></span>

#### <a name="mlscoringpipeline"></a><span data-ttu-id="e2edf-194">*MLScoringPipeline*</span><span class="sxs-lookup"><span data-stu-id="e2edf-194">*MLScoringPipeline*</span></span>
<span data-ttu-id="e2edf-195">Этот [конвейер](../data-factory/data-factory-create-pipelines.md) содержит несколько действий, и его конечным результатом является оцененный прогноз из эксперимента [Машинного обучения Azure](https://azure.microsoft.com/services/machine-learning/), связанного с этим шаблоном решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-195">This [pipeline](../data-factory/data-factory-create-pipelines.md) contains several activities and whose end result is the scored predictions from the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment associated with this solution template.</span></span>

<span data-ttu-id="e2edf-196">Ниже перечислены действия, которые содержатся в этом конвейере.</span><span class="sxs-lookup"><span data-stu-id="e2edf-196">The activities contained in this are:</span></span>

* <span data-ttu-id="e2edf-197">Действие [HDInsightHive](../data-factory/data-factory-hive-activity.md) с использованием службы [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx), которая выполняет сценарий [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) для агрегирования и проектирования характеристик, необходимых для эксперимента [Машинного обучения Azure](https://azure.microsoft.com/services/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-197">[HDInsightHive](../data-factory/data-factory-hive-activity.md) activity using an [HDInsightLinkedService](https://msdn.microsoft.com/library/azure/dn893526.aspx) that runs a [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script to perform aggregations and feature engineering necessary for the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment.</span></span>
  <span data-ttu-id="e2edf-198">Сценарий [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) для этой задачи секционирования — ***PrepareMLInput.hql***.</span><span class="sxs-lookup"><span data-stu-id="e2edf-198">The [Hive](http://blogs.msdn.com/b/bigdatasupport/archive/2013/11/11/get-started-with-hive-on-hdinsight.aspx) script for this partitioning task is ***PrepareMLInput.hql***.</span></span>
* <span data-ttu-id="e2edf-199">Действие [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx), которое перемещает результаты действия [HDInsightHive](../data-factory/data-factory-hive-activity.md) в один большой двоичный объект [службы хранилища Azure](https://azure.microsoft.com/services/storage/), к которому может получить доступ действие [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx).</span><span class="sxs-lookup"><span data-stu-id="e2edf-199">[Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results from the [HDInsightHive](../data-factory/data-factory-hive-activity.md) activity to a single [Azure Storage](https://azure.microsoft.com/services/storage/) blob that can be access by the [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity.</span></span>
* <span data-ttu-id="e2edf-200">Действие [AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx), которое вызывает эксперимент [Машинного обучения Azure](https://azure.microsoft.com/services/machine-learning/), приводящий к результатам, размещаемым в одном большом двоичном объекте [службы хранилища Azure](https://azure.microsoft.com/services/storage/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-200">[AzureMLBatchScoring](https://msdn.microsoft.com/library/azure/dn894009.aspx) activity that calls the [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment which results in the results being put in a single [Azure Storage](https://azure.microsoft.com/services/storage/) blob.</span></span>

#### <a name="copyscoredresultpipeline"></a><span data-ttu-id="e2edf-201">*CopyScoredResultPipeline*</span><span class="sxs-lookup"><span data-stu-id="e2edf-201">*CopyScoredResultPipeline*</span></span>
<span data-ttu-id="e2edf-202">Этот [конвейер](../data-factory/data-factory-create-pipelines.md) содержит одно действие — действие [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx), которое перемещает результаты эксперимента [Машинного обучения Azure](#azure-machine-learning) из ***MLScoringPipeline*** в [Базу данных SQL Azure](https://azure.microsoft.com/services/sql-database/), созданную в процессе установки шаблона решений.</span><span class="sxs-lookup"><span data-stu-id="e2edf-202">This [pipeline](../data-factory/data-factory-create-pipelines.md) contains a single activity - a [Copy](https://msdn.microsoft.com/library/azure/dn835035.aspx) activity that moves the results of the [Azure Machine Learning](#azure-machine-learning) experiment from the ***MLScoringPipeline*** to the [Azure SQL Database](https://azure.microsoft.com/services/sql-database/) that was provisioned as part of the solution template installation.</span></span>

### <a name="azure-machine-learning"></a><span data-ttu-id="e2edf-203">Машинное обучение Azure</span><span class="sxs-lookup"><span data-stu-id="e2edf-203">Azure Machine Learning</span></span>
<span data-ttu-id="e2edf-204">Эксперимент [машинного обучения Azure](https://azure.microsoft.com/services/machine-learning/) , используемый для этого шаблона решения, предоставляет оставшийся период эксплуатации двигателя самолета.</span><span class="sxs-lookup"><span data-stu-id="e2edf-204">The [Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/) experiment used for this solution template provides the Remaining Useful Life (RUL) of an aircraft engine.</span></span> <span data-ttu-id="e2edf-205">Эксперимент относится к потребляемому набору данных и поэтому потребует изменения или замены в зависимости от вводимых данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-205">The experiment is specific to the data set consumed and therefore will require modification or replacement specific to the data that's brought in.</span></span>

<span data-ttu-id="e2edf-206">Сведения о создании эксперимента машинного обучения Azure см. в статье [Predictive Maintenance: Step 1 of 3, data preparation and feature engineering](http://gallery.cortanaanalytics.com/Experiment/Predictive-Maintenance-Step-1-of-3-data-preparation-and-feature-engineering-2) (Прогнозируемое обслуживание: шаг 1 из 3, подготовка данных и проектирование характеристик).</span><span class="sxs-lookup"><span data-stu-id="e2edf-206">For information about how the Azure Machine Learning experiment was created, see [Predictive Maintenance: Step 1 of 3, data preparation and feature engineering](http://gallery.cortanaanalytics.com/Experiment/Predictive-Maintenance-Step-1-of-3-data-preparation-and-feature-engineering-2).</span></span>

## <a name="monitor-progress"></a><span data-ttu-id="e2edf-207">**Отслеживание хода выполнения**</span><span class="sxs-lookup"><span data-stu-id="e2edf-207">**Monitor Progress**</span></span>
 <span data-ttu-id="e2edf-208">После запуска генератора данных начинается расконсервация конвейера, и различные компоненты решения вводят в действие следующие команды, выданные фабрикой данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-208">Once the Data Generator is launched, the pipeline begins to get hydrated and the different components of your solution start kicking into action following the commands issued by the Data Factory.</span></span> <span data-ttu-id="e2edf-209">Существует два способа мониторинга конвейера.</span><span class="sxs-lookup"><span data-stu-id="e2edf-209">There are two ways you can monitor the pipeline.</span></span>

1. <span data-ttu-id="e2edf-210">Одно из заданий Stream Analytics записывает необработанные входные данные в хранилище BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="e2edf-210">One of the Stream Analytics job writes the raw incoming data to blob storage.</span></span> <span data-ttu-id="e2edf-211">После щелчка компонента "Хранилище BLOB-объектов" решения на экране, где успешно развернуто решение, и нажатия кнопки "Открыть" на правой панели откроется [портал управления](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-211">If you click on Blob Storage component of your solution from the screen you successfully deployed the solution and then click Open in the right panel, it will take you to the [management portal](https://portal.azure.com/).</span></span> <span data-ttu-id="e2edf-212">На портале щелкните "BLOB-объекты".</span><span class="sxs-lookup"><span data-stu-id="e2edf-212">Once there, click on Blobs.</span></span> <span data-ttu-id="e2edf-213">На следующей панели появится список контейнеров.</span><span class="sxs-lookup"><span data-stu-id="e2edf-213">In the next panel, you will see a list of Containers.</span></span> <span data-ttu-id="e2edf-214">Щелкните **maintenancesadata**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-214">Click on **maintenancesadata**.</span></span> <span data-ttu-id="e2edf-215">На следующей панели появится папка **rawdata**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-215">In the next panel, you will see the **rawdata** folder.</span></span> <span data-ttu-id="e2edf-216">В папке rawdata вы hour=17, hour=18 и т. д. Если вы видите эти папки, это значит, что на вашем компьютере успешно формируются необработанные данные, которые затем сохраняются в хранилище BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="e2edf-216">Inside the rawdata folder, you will see folders with names such as hour=17, hour=18 etc. If you see these folders, it indicates that the raw data is successfully being generated on your computer and stored in blob storage.</span></span> <span data-ttu-id="e2edf-217">Вы должны увидеть CSV-файлы, которые должны иметь в этих папках ограничение по размерам (в МБ).</span><span class="sxs-lookup"><span data-stu-id="e2edf-217">You should see csv files that should have finite sizes in MB in those folders.</span></span>
2. <span data-ttu-id="e2edf-218">На последнем шаге конвейера выполняется запись данных (например, прогнозов из системы машинного обучения) в базу данных SQL.</span><span class="sxs-lookup"><span data-stu-id="e2edf-218">The last step of the pipeline is to write data (e.g. predictions from machine learning) into SQL Database.</span></span> <span data-ttu-id="e2edf-219">Появление данных в базе данных SQL может занять не более трех часов.</span><span class="sxs-lookup"><span data-stu-id="e2edf-219">You might have to wait a maximum of three hours for the data to appear in SQL Database.</span></span> <span data-ttu-id="e2edf-220">Одним из способов мониторинга объема данных, доступных в Базе данных SQL, является использование [портала Azure](https://manage.windowsazure.com/). На левой панели найдите элемент "Базы данных SQL" ![Значок SQL](media/cortana-analytics-technical-guide-predictive-maintenance/icon-SQL-databases.png) и щелкните его.</span><span class="sxs-lookup"><span data-stu-id="e2edf-220">One way to monitor how much data is available in your SQL Database is through [azure portal](https://manage.windowsazure.com/).On the left panel locate SQL DATABASES ![SQL icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-SQL-databases.png) and click it.</span></span> <span data-ttu-id="e2edf-221">Затем найдите базу данных **pmaintenancedb** и щелкните ее.</span><span class="sxs-lookup"><span data-stu-id="e2edf-221">Then locate your database **pmaintenancedb** and click on it.</span></span> <span data-ttu-id="e2edf-222">На следующей странице в нижней части щелкните "УПРАВЛЕНИЕ"</span><span class="sxs-lookup"><span data-stu-id="e2edf-222">On the next page at the bottom, click on MANAGE</span></span>
   
    ![Значок "Управление"](media/cortana-analytics-technical-guide-predictive-maintenance/icon-manage.png)<span data-ttu-id="e2edf-224">.</span><span class="sxs-lookup"><span data-stu-id="e2edf-224">.</span></span>
   
    <span data-ttu-id="e2edf-225">Здесь можно щелкнуть "Создать запрос" и создать запрос на количество строк (например, select count(*) из PMResult).</span><span class="sxs-lookup"><span data-stu-id="e2edf-225">Here, you can click on New Query and query for the number of rows (e.g. select count(*) from PMResult ).</span></span> <span data-ttu-id="e2edf-226">По мере роста базы данных количество строк в таблице должно увеличиваться.</span><span class="sxs-lookup"><span data-stu-id="e2edf-226">As your database grows, the number of rows in the table should  increase.</span></span>

## <a name="power-bi-dashboard"></a><span data-ttu-id="e2edf-227">**Панель мониторинга Power BI**</span><span class="sxs-lookup"><span data-stu-id="e2edf-227">**Power BI Dashboard**</span></span>
### <a name="overview"></a><span data-ttu-id="e2edf-228">Обзор</span><span class="sxs-lookup"><span data-stu-id="e2edf-228">Overview</span></span>
<span data-ttu-id="e2edf-229">В этом разделе описывается настройка панели мониторинга Power BI для визуализации данных реального времени из Azure Stream Analytics (горячий путь), а также результатов прогноза пакета машинного обучения Azure (холодный путь).</span><span class="sxs-lookup"><span data-stu-id="e2edf-229">This section describes how to set up Power BI dashboard to visualize your real time data from Azure Stream Analytics (hot path), as well as batch prediction results from Azure machine learning (cold path).</span></span>

### <a name="setup-cold-path-dashboard"></a><span data-ttu-id="e2edf-230">Настройка холодного пути панели мониторинга</span><span class="sxs-lookup"><span data-stu-id="e2edf-230">Setup cold path dashboard</span></span>
<span data-ttu-id="e2edf-231">В случае конвейера данных холодного пути основной целью является получение прогнозируемого оставшегося срока эксплуатации каждого двигателя самолета после завершения рейса (цикла).</span><span class="sxs-lookup"><span data-stu-id="e2edf-231">In the cold path data pipeline, the essential goal is to get the predictive RUL (remaining useful life) of each aircraft engine once it finishes a flight (cycle).</span></span> <span data-ttu-id="e2edf-232">Результат прогноза обновляется каждые 3 часа для оценки двигателя самолета, который завершил рейс за последние 3 часа.</span><span class="sxs-lookup"><span data-stu-id="e2edf-232">The prediction result is updated every 3 hours for predicting the aircraft engines that have finished a flight during the past 3 hours.</span></span>

<span data-ttu-id="e2edf-233">Power BI подключается к базе данных Azure SQL в качестве источника данных, где хранятся результаты прогноза.</span><span class="sxs-lookup"><span data-stu-id="e2edf-233">Power BI connects to an Azure SQL database as its data source, where the prediction results are stored.</span></span> <span data-ttu-id="e2edf-234">Примечание. 1) При развертывании решения реальный прогноз будет отображаться в базе данных в течение 3 часов.</span><span class="sxs-lookup"><span data-stu-id="e2edf-234">Note: 1) Upon deploying your solution, a real prediction will show up in the database within 3 hours.</span></span>
<span data-ttu-id="e2edf-235">PBIX-файл, поставляемый с загрузкой генератора, содержит некоторые начальные данные, поэтому можно сразу создать панель мониторинга Power BI.</span><span class="sxs-lookup"><span data-stu-id="e2edf-235">The pbix file that came with the Generator download contains some seed data so that you may create the Power BI dashboard right away.</span></span> <span data-ttu-id="e2edf-236">2. На этом шаге необходимо скачать и установить бесплатное программное обеспечение [Power BI Desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-get-the-desktop/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-236">2) In this step, the prerequisite is to download and install the free software [Power BI desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-get-the-desktop/).</span></span>

<span data-ttu-id="e2edf-237">Следующие шаги помогут вам подключить PBIX-файл к Базе данных SQL, которая развертывается во время развертывания решения, содержащего данные (*например*,</span><span class="sxs-lookup"><span data-stu-id="e2edf-237">The following steps will guide you on how to connect the pbix file to the SQL Database that was spun up at the time of solution deployment containing data (*e.g.*.</span></span> <span data-ttu-id="e2edf-238">результаты прогноза) для визуализации.</span><span class="sxs-lookup"><span data-stu-id="e2edf-238">prediction results) for visualization.</span></span>

1. <span data-ttu-id="e2edf-239">Получите учетные данные базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-239">Get the database credentials.</span></span>
   
   <span data-ttu-id="e2edf-240">Прежде чем перейти к следующим действиям, вам потребуются **имя сервера базы данных, имя базы данных, имя пользователя и пароль** .</span><span class="sxs-lookup"><span data-stu-id="e2edf-240">You'll need **database server name, database name, user name and password** before moving to next steps.</span></span> <span data-ttu-id="e2edf-241">Ниже приведены шаги, которые помогут вам их найти.</span><span class="sxs-lookup"><span data-stu-id="e2edf-241">Here are the steps to guide you how to find them.</span></span>
   
   * <span data-ttu-id="e2edf-242">Когда элемент **База данных SQL Azure** на схеме шаблона решения станет зеленым, щелкните его и нажмите кнопку **Открыть**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-242">Once **'Azure SQL Database'** on your solution template diagram turns green, click it and then click **'Open'**.</span></span>
   * <span data-ttu-id="e2edf-243">Появится новая вкладка или окно браузера со страницей портала Azure.</span><span class="sxs-lookup"><span data-stu-id="e2edf-243">You'll see a new browser tab/window which displays the Azure portal page.</span></span> <span data-ttu-id="e2edf-244">Щелкните **Группы ресурсов** на левой панели.</span><span class="sxs-lookup"><span data-stu-id="e2edf-244">Click **'Resource groups'** on the left panel.</span></span>
   * <span data-ttu-id="e2edf-245">Выберите подписку, которую вы используете для развертывания решения, а затем — **YourSolutionName\_ResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-245">Select the subscription you're using for deploying the solution, and then select **'YourSolutionName\_ResourceGroup'**.</span></span>
   * <span data-ttu-id="e2edf-246">На новой всплывающей панели щелкните ![значок SQL](media/cortana-analytics-technical-guide-predictive-maintenance/icon-sql.png) для доступа к базе данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-246">In the new pop out panel, click the  ![SQL icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-sql.png) icon to access your database.</span></span> <span data-ttu-id="e2edf-247">Имя базы данных отображается рядом с этим значком (*например*, **pmaintenancedb**), а **имя сервера базы данных** указано в свойстве имени сервера и будет выглядеть аналогично **YourSoutionName.database.windows.net**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-247">Your database name is next to the this icon (*e.g.*, **'pmaintenancedb'**), and  the **database server name** is listed under the Server name property and should look similar to **YourSoutionName.database.windows.net**.</span></span>
   * <span data-ttu-id="e2edf-248">Параметры **username** и **password** соответствуют имени пользователя и паролю, ранее записанным во время развертывания решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-248">Your database **username** and **password** are the same as the username and password previously recorded during deployment of the solution.</span></span>
2. <span data-ttu-id="e2edf-249">Обновите источник данных файла отчета холодного пути с помощью Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="e2edf-249">Update the data source of the cold path report file with Power BI Desktop.</span></span>
   
   * <span data-ttu-id="e2edf-250">В папке вашего компьютера, в которую был скачан и распакован файл генератора, дважды щелкните файл **PowerBI\\PredictiveMaintenanceAerospace.pbix**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-250">In the folder on your PC where you downloaded and unzipped the Generator file, double-click the **PowerBI\\PredictiveMaintenanceAerospace.pbix** file.</span></span> <span data-ttu-id="e2edf-251">Если вы видите какие-либо предупреждающие сообщения при открытии файла, их можно пропустить.</span><span class="sxs-lookup"><span data-stu-id="e2edf-251">If you see any warning messages when you open the file, ignore them.</span></span> <span data-ttu-id="e2edf-252">В верхней части файла нажмите кнопку **Запросы на изменение**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-252">On the top of the file, click **'Edit Queries'**.</span></span>
     
     ![Изменение запросов](media/cortana-analytics-technical-guide-predictive-maintenance/edit-queries.png)
   * <span data-ttu-id="e2edf-254">Вы увидите две таблицы — **RemainingUsefulLife** и **PMResult**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-254">You'll see two tables, **RemainingUsefulLife** and **PMResult**.</span></span> <span data-ttu-id="e2edf-255">Выберите первую таблицу и щелкните ![Значок "Параметры запроса"](media/cortana-analytics-technical-guide-predictive-maintenance/icon-query-settings.png) рядом с пунктом **Источник** в разделе **Примененные шаги** на правой панели **Параметры запроса**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-255">Select the first table and click ![Query settings icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-query-settings.png) next to **'Source'** under **'APPLIED STEPS'** on the right **'Query Settings'** panel.</span></span> <span data-ttu-id="e2edf-256">Игнорируйте все предупреждающие сообщения, которые отображаются.</span><span class="sxs-lookup"><span data-stu-id="e2edf-256">Ignore any warning messages that appear.</span></span>
   * <span data-ttu-id="e2edf-257">Во всплывающем окне замените **Сервер** и **База данных** на собственные имена сервера и базы данных и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-257">In the pop out window, replace **'Server'** and **'Database'** with your own server and database names, and then click **'OK'**.</span></span> <span data-ttu-id="e2edf-258">Убедитесь, что для имени сервера указан порт 1433 (**YourSoutionName.database.windows.net, 1433**).</span><span class="sxs-lookup"><span data-stu-id="e2edf-258">For server name, make sure you specify the port 1433 (**YourSoutionName.database.windows.net, 1433**).</span></span> <span data-ttu-id="e2edf-259">В поле базы данных оставьте **pmaintenancedb**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-259">Leave the Database field as **pmaintenancedb**.</span></span> <span data-ttu-id="e2edf-260">Игнорируйте предупреждения, которые отображаются на экране.</span><span class="sxs-lookup"><span data-stu-id="e2edf-260">Ignore the warning messages that appear on the screen.</span></span>
   * <span data-ttu-id="e2edf-261">В следующем всплывающем окне вы увидите два варианта на левой панели (**Windows** и **База данных**).</span><span class="sxs-lookup"><span data-stu-id="e2edf-261">In the next pop out window, you'll see two options on the left pane (**Windows** and **Database**).</span></span> <span data-ttu-id="e2edf-262">Щелкните **База данных**, введите свое **имя пользователя** и **пароль** в соответствующих полях (это имя пользователя и пароль, введенные при первом развертывании решения и создании экземпляра Базы данных SQL Azure).</span><span class="sxs-lookup"><span data-stu-id="e2edf-262">Click **'Database'**, fill in your **'Username'** and **'Password'** (this is the username and password you entered when you first deployed the solution and created an Azure SQL database).</span></span> <span data-ttu-id="e2edf-263">В разделе ***Выберите уровень, к которому следует применить эти параметры:*** выберите уровень базы данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-263">In ***Select which level to apply these settings to***, check database level option.</span></span> <span data-ttu-id="e2edf-264">Щелкните **Подключить**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-264">Then click **'Connect'**.</span></span>
   * <span data-ttu-id="e2edf-265">Щелкните вторую таблицу **PMResult**, щелкните ![Значок навигации](media/cortana-analytics-technical-guide-predictive-maintenance/icon-navigation.png) рядом с пунктом **Источник** в разделе **Примененные шаги** на правой панели **Параметры запроса** и измените имена сервера и базы данных, как в описанных выше шагах, а затем нажмите кнопку "ОК".</span><span class="sxs-lookup"><span data-stu-id="e2edf-265">Click on the second table **PMResult** then click ![Navigation icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-navigation.png) next to **'Source'** under **'APPLIED STEPS'** on the right **'Query Settings'** panel, and update the server and database names as in the above steps and click OK.</span></span>
   * <span data-ttu-id="e2edf-266">Когда вы будете направлены на предыдущую страницу, закройте окно.</span><span class="sxs-lookup"><span data-stu-id="e2edf-266">Once you're guided back to the previous page, close the window.</span></span> <span data-ttu-id="e2edf-267">В появившемся сообщении нажмите кнопку **Применить**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-267">A message will pop out - click **Apply**.</span></span> <span data-ttu-id="e2edf-268">Наконец, нажмите кнопку **Сохранить** , чтобы сохранить изменения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-268">Lastly, click the **Save** button to save the changes.</span></span> <span data-ttu-id="e2edf-269">Теперь файл Power BI установил подключение к серверу.</span><span class="sxs-lookup"><span data-stu-id="e2edf-269">Your Power BI file has now established connection to the server.</span></span> <span data-ttu-id="e2edf-270">Если представления пусты, убедитесь, что очистили выбранные элементы для визуализации, чтобы отобразить все данные, щелкнув значок резинки в правом верхнем углу условных обозначений.</span><span class="sxs-lookup"><span data-stu-id="e2edf-270">If your visualizations are empty, make sure you clear the selections on the visualizations to visualize all the data by clicking the eraser icon on the upper right corner of the legends.</span></span> <span data-ttu-id="e2edf-271">Используйте кнопку "Обновить" для отображения новых данных в представлении.</span><span class="sxs-lookup"><span data-stu-id="e2edf-271">Use the refresh button to reflect new data on the visualizations.</span></span> <span data-ttu-id="e2edf-272">Сначала вы увидите в представлениях только начальные данные, так как фабрика данных обновляется каждые 3 часа.</span><span class="sxs-lookup"><span data-stu-id="e2edf-272">Initially, you will only see the seed data on your visualizations as the data factory is scheduled to refresh every 3 hours.</span></span> <span data-ttu-id="e2edf-273">Через 3 часа вы увидите в представлении новые прогнозы при обновлении данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-273">After 3 hours, you will see new predictions reflected in your visualizations when you refresh the data.</span></span>
3. <span data-ttu-id="e2edf-274">(Необязательно) Опубликуйте панель мониторинга холодного пути в [Power BI Online](http://www.powerbi.com/).</span><span class="sxs-lookup"><span data-stu-id="e2edf-274">(Optional) Publish the cold path dashboard to [Power BI online](http://www.powerbi.com/).</span></span> <span data-ttu-id="e2edf-275">Обратите внимание, что этот шаг требует учетной записи Power BI (или учетной записи Office 365).</span><span class="sxs-lookup"><span data-stu-id="e2edf-275">Note that this step needs a Power BI account (or Office 365 account).</span></span>
   
   * <span data-ttu-id="e2edf-276">Щелкните **Опубликовать** , и через несколько секунд откроется окно "Публикация Power BI прошла успешно!" с зеленой галочкой.</span><span class="sxs-lookup"><span data-stu-id="e2edf-276">Click **'Publish'** and few seconds later a window appears displaying "Publishing to Power BI Success!"</span></span> <span data-ttu-id="e2edf-277">Щелкните ссылку "Открыть PredictiveMaintenanceAerospace.pbix в Power BI".</span><span class="sxs-lookup"><span data-stu-id="e2edf-277">with a green check mark.</span></span> <span data-ttu-id="e2edf-278">Подробные инструкции см.</span><span class="sxs-lookup"><span data-stu-id="e2edf-278">Click the link below "Open PredictiveMaintenanceAerospace.pbix in Power BI".</span></span> <span data-ttu-id="e2edf-279">в разделе [Публикация из Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span><span class="sxs-lookup"><span data-stu-id="e2edf-279">To find detailed instructions, see [Publish from Power BI Desktop](https://support.powerbi.com/knowledgebase/articles/461278-publish-from-power-bi-desktop).</span></span>
   * <span data-ttu-id="e2edf-280">Для создания панели мониторинга щелкните знак **+** рядом с разделом **Панели мониторинга** на левой панели.</span><span class="sxs-lookup"><span data-stu-id="e2edf-280">To create a new dashboard: click the **+** sign next to the **Dashboards** section on the left pane.</span></span> <span data-ttu-id="e2edf-281">Введите имя "Демонстрация прогнозируемого обслуживания" для этой новой панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="e2edf-281">Enter the name "Predictive Maintenance Demo" for this new dashboard.</span></span>
   * <span data-ttu-id="e2edf-282">После открытия отчета щелкните ![Значок "Закрепить"](media/cortana-analytics-technical-guide-predictive-maintenance/icon-pin.png), чтобы закрепить все визуализации на панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="e2edf-282">Once you open the report, click ![PIN icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-pin.png) to pin all the visualizations to your dashboard.</span></span> <span data-ttu-id="e2edf-283">Подробные инструкции см. в статье [Закрепление плитки на панели мониторинга Power BI из отчета](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span><span class="sxs-lookup"><span data-stu-id="e2edf-283">To find detailed instructions, see [Pin a tile to a Power BI dashboard from a report](https://support.powerbi.com/knowledgebase/articles/430323-pin-a-tile-to-a-power-bi-dashboard-from-a-report).</span></span>
     <span data-ttu-id="e2edf-284">Перейдите на страницу панели мониторинга и измените размер и расположение представлений, а также отредактируйте их заголовки.</span><span class="sxs-lookup"><span data-stu-id="e2edf-284">Go to the dashboard page and adjust the size and location of your visualizations and edit their titles.</span></span> <span data-ttu-id="e2edf-285">Подробные инструкции по изменению плиток см. в статье [Редактирование плитки — изменение размера, перемещение, переименование, закрепление, удаление, добавление гиперссылки](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span><span class="sxs-lookup"><span data-stu-id="e2edf-285">To find detailed instructions on how to edit your tiles, see [Edit a tile -- resize, move, rename, pin, delete, add hyperlink](https://powerbi.microsoft.com/documentation/powerbi-service-edit-a-tile-in-a-dashboard/#rename).</span></span> <span data-ttu-id="e2edf-286">Ниже приведен пример панели мониторинга с представлениями холодного пути, прикрепленными к ней.</span><span class="sxs-lookup"><span data-stu-id="e2edf-286">Here is an example dashboard with some cold path visualizations pinned to it.</span></span>  <span data-ttu-id="e2edf-287">В зависимости от того, как долго работает ваш генератор данных, на визуализациях могут отображаться другие значения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-287">Depending on how long you run your data generator, your numbers on the visualizations may be different.</span></span>
     <br/><span data-ttu-id="e2edf-288">
     ![Окончательное представление](media/cortana-analytics-technical-guide-predictive-maintenance/final-view.png)
     </span><span class="sxs-lookup"><span data-stu-id="e2edf-288">
     ![Final view](media/cortana-analytics-technical-guide-predictive-maintenance/final-view.png)
     </span></span><br/>
   * <span data-ttu-id="e2edf-289">Чтобы запланировать обновление данных, наведите указатель мыши на набор данных **PredictiveMaintenanceAerospace**, щелкните ![Значок многоточия](media/cortana-analytics-technical-guide-predictive-maintenance/icon-elipsis.png) и выберите **Запланировать обновление**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-289">To schedule refresh of the data, hover your mouse over the **PredictiveMaintenanceAerospace** dataset, click ![Elipsis icon](media/cortana-analytics-technical-guide-predictive-maintenance/icon-elipsis.png) and then choose **Schedule Refresh**.</span></span>
     <br/><span data-ttu-id="e2edf-290">
     **Примечание.** При появлении предупреждения нажмите кнопку **Изменить учетные данные** и убедитесь, что учетные данные базы данных являются такими же, как описано на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="e2edf-290">
     **Note:** If you see a warning massage, click **Edit Credentials** and make sure your database credentials are the same as those described in step 1.</span></span>
     <br/><span data-ttu-id="e2edf-291">
     ![Планирование обновления](media/cortana-analytics-technical-guide-predictive-maintenance/schedule-refresh.png)
</span><span class="sxs-lookup"><span data-stu-id="e2edf-291">
![Schedule refresh](media/cortana-analytics-technical-guide-predictive-maintenance/schedule-refresh.png)
</span></span><br/>
   * <span data-ttu-id="e2edf-292">Разверните раздел **Запланировать обновление** .</span><span class="sxs-lookup"><span data-stu-id="e2edf-292">Expand the **Schedule Refresh** section.</span></span> <span data-ttu-id="e2edf-293">Включите параметр "Поддерживать актуальность данных".</span><span class="sxs-lookup"><span data-stu-id="e2edf-293">Turn on "keep your data up-to-date".</span></span>
     <br/>
   * <span data-ttu-id="e2edf-294">Запланируйте обновления в зависимости от потребностей.</span><span class="sxs-lookup"><span data-stu-id="e2edf-294">Schedule the refresh based on your needs.</span></span> <span data-ttu-id="e2edf-295">Дополнительные сведения см. в статье [Обновление данных в Power BI](https://support.powerbi.com/knowledgebase/articles/474669-data-refresh-in-power-bi).</span><span class="sxs-lookup"><span data-stu-id="e2edf-295">To find more information, see [Data refresh in Power BI](https://support.powerbi.com/knowledgebase/articles/474669-data-refresh-in-power-bi).</span></span>

### <a name="setup-hot-path-dashboard"></a><span data-ttu-id="e2edf-296">Настройка панели мониторинга горячего пути</span><span class="sxs-lookup"><span data-stu-id="e2edf-296">Setup hot path dashboard</span></span>
<span data-ttu-id="e2edf-297">Следующее пошаговое руководстве поможет вам реализовать визуализацию в реальном времени выходных данных заданий Stream Analytics, созданных во время развертывания решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-297">The following steps will guide you how to visualize real time data output from Stream Analytics jobs that were generated at the time of solution deployment.</span></span> <span data-ttu-id="e2edf-298">Для выполнения следующих действий требуется учетная запись [Power BI Online](http://www.powerbi.com/) .</span><span class="sxs-lookup"><span data-stu-id="e2edf-298">A [Power BI online](http://www.powerbi.com/) account is required to perform the following steps.</span></span> <span data-ttu-id="e2edf-299">Если у вас нет учетной записи, вы можете [создать ее](https://powerbi.microsoft.com/pricing).</span><span class="sxs-lookup"><span data-stu-id="e2edf-299">If you don't have an account, you can [create one](https://powerbi.microsoft.com/pricing).</span></span>

1. <span data-ttu-id="e2edf-300">Добавьте выходные данные Power BI в Azure Stream Analytics (ASA).</span><span class="sxs-lookup"><span data-stu-id="e2edf-300">Add Power BI output in Azure Stream Analytics (ASA).</span></span>
   
   * <span data-ttu-id="e2edf-301">Чтобы настроить выходные данные задания Azure Stream Analytics в качестве информационной панели Power BI, следуйте инструкциям, приведенным в статье [Azure Stream Analytics и Power BI: панель оперативного мониторинга аналитики для визуализации потоковой передачи данных в режиме реального времени](../stream-analytics/stream-analytics-power-bi-dashboard.md).</span><span class="sxs-lookup"><span data-stu-id="e2edf-301">You will need to follow the instructions in [Azure Stream Analytics & Power BI: A real-time analytics dashboard for real-time visibility of streaming data](../stream-analytics/stream-analytics-power-bi-dashboard.md) to set up the output of your Azure Stream Analytics job as your Power BI dashboard.</span></span>
   * <span data-ttu-id="e2edf-302">Настройте три варианта выходных данных запроса ASA: **aircraftmonitor**, **aircraftalert** и **flightsbyhour**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-302">The ASA query has three outputs which are **aircraftmonitor**, **aircraftalert**, and **flightsbyhour**.</span></span> <span data-ttu-id="e2edf-303">Запрос можно просмотреть, щелкнув вкладку запроса.</span><span class="sxs-lookup"><span data-stu-id="e2edf-303">You can view the query by clicking on query tab.</span></span> <span data-ttu-id="e2edf-304">Согласно каждой из этих таблиц потребуется добавить выходные данные в ASA.</span><span class="sxs-lookup"><span data-stu-id="e2edf-304">Corresponding to each of these tables, you will need to add an output to ASA.</span></span> <span data-ttu-id="e2edf-305">При добавлении первых выходных данных (*например*, **aircraftmonitor**) убедитесь, что **выходной псевдоним**, **имя набора данных** и **имя таблицы** такие же (**aircraftmonitor**).</span><span class="sxs-lookup"><span data-stu-id="e2edf-305">When you add the first output (*e.g.* **aircraftmonitor**) make sure the **Output Alias**, **Dataset Name** and **Table Name** are the same (**aircraftmonitor**).</span></span> <span data-ttu-id="e2edf-306">Повторите шаги, чтобы добавить выходные данные для **aircraftalert** и **flightsbyhour**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-306">Repeat the steps to add outputs for **aircraftalert**, and **flightsbyhour**.</span></span> <span data-ttu-id="e2edf-307">После добавления всех трех таблиц выходных данных и запуска задания ASA вы должны получить сообщение с подтверждением (*например*, "Успешный запуск задания Stream Analytics maintenancesa02asapbi").</span><span class="sxs-lookup"><span data-stu-id="e2edf-307">Once you have added all three output tables and started the ASA job, you should get a confirmation message (*e.g.*, "Starting Stream Analytics job maintenancesa02asapbi succeeded").</span></span>
2. <span data-ttu-id="e2edf-308">Войдите в [Power BI Online](http://www.powerbi.com)</span><span class="sxs-lookup"><span data-stu-id="e2edf-308">Log in to [Power BI online](http://www.powerbi.com)</span></span>
   
   * <span data-ttu-id="e2edf-309">На левой панели раздела "Наборы данных" в области "Моя рабочая область" должны отображаться имена **aircraftmonitor**, **aircraftalert** и **flightsbyhour** ***набора данных***. Это потоковые данные, переданные из Azure Stream Analytics на предыдущем шаге. Набор данных **flightsbyhour** может не отображаться одновременно с другими двумя наборами из-за характера связанного SQL-запроса.</span><span class="sxs-lookup"><span data-stu-id="e2edf-309">On the left panel Datasets section in My Workspace, the ***DATASET*** names **aircraftmonitor**, **aircraftalert**, and **flightsbyhour** should appear.This is the streaming data you pushed from Azure Stream Analytics in the previous step.The dataset **flightsbyhour** may not show up at the same time as the other two datasets due to the nature of the SQL query behind it.</span></span> <span data-ttu-id="e2edf-310">Однако он должен появиться через час.</span><span class="sxs-lookup"><span data-stu-id="e2edf-310">However, it should show up after an hour.</span></span>
   * <span data-ttu-id="e2edf-311">Убедитесь, что область ***Визуализации*** открыта и отображается в правой части экрана.</span><span class="sxs-lookup"><span data-stu-id="e2edf-311">Make sure the ***Visualizations*** pane is open and is shown on the right side of the screen.</span></span>
3. <span data-ttu-id="e2edf-312">После получения данных, поступающих в Power BI, можно начать визуализацию потоковых данных.</span><span class="sxs-lookup"><span data-stu-id="e2edf-312">Once you have the data flowing into Power BI, you can start visualizing the streaming data.</span></span> <span data-ttu-id="e2edf-313">Ниже приведен пример панели мониторинга с визуализациями горячего пути, прикрепленными к ней.</span><span class="sxs-lookup"><span data-stu-id="e2edf-313">Below is an example dashboard with some hot path visualizations pinned to it.</span></span> <span data-ttu-id="e2edf-314">На основе соответствующих наборов данных можно создать другие плитки панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="e2edf-314">You can create other dashboard tiles based on appropriate datasets.</span></span> <span data-ttu-id="e2edf-315">В зависимости от того, как долго работает ваш генератор данных, на визуализациях могут отображаться другие значения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-315">Depending on how long you run your data generator, your numbers on the visualizations may be different.</span></span>

    ![Представление панели мониторинга](media\cortana-analytics-technical-guide-predictive-maintenance\dashboard-view.png)

1. <span data-ttu-id="e2edf-317">Ниже приведен ряд действий по созданию одной из приведенных выше плиток — Fleet View of Sensor 11 vs. Threshold 48.26":</span><span class="sxs-lookup"><span data-stu-id="e2edf-317">Here are some steps to create one of the tiles above –  the "Fleet View of Sensor 11 vs. Threshold 48.26" tile:</span></span>
   
   * <span data-ttu-id="e2edf-318">Щелкните набор данных **aircraftmonitor** на левой панели раздела "Наборы данных".</span><span class="sxs-lookup"><span data-stu-id="e2edf-318">Click dataset **aircraftmonitor** on the left panel Datasets section.</span></span>
   * <span data-ttu-id="e2edf-319">Щелкните значок **График** .</span><span class="sxs-lookup"><span data-stu-id="e2edf-319">Click the **Line Chart** icon.</span></span>
   * <span data-ttu-id="e2edf-320">Щелкните **Обработано** в области **Поля**, чтобы они отображались в разделе "Ось" области **Визуализации**.</span><span class="sxs-lookup"><span data-stu-id="e2edf-320">Click **Processed** in the **Fields** pane so that it shows under "Axis" in the **Visualizations** pane.</span></span>
   * <span data-ttu-id="e2edf-321">Нажмите кнопку s11 и s11alert\_alert, чтобы они отображались в группе "Значения".</span><span class="sxs-lookup"><span data-stu-id="e2edf-321">Click "s11" and "s11\_alert" so that they both appear under "Values".</span></span> <span data-ttu-id="e2edf-322">Щелкните маленькую стрелку рядом с **s11** и **s11\_alert**, измените "Сумма" на "Среднее".</span><span class="sxs-lookup"><span data-stu-id="e2edf-322">Click the small arrow next to **s11** and **s11\_alert**, change "Sum" to "Average".</span></span>
   * <span data-ttu-id="e2edf-323">В верхней части нажмите кнопку **Сохранить** сверху и назовите отчет "aircraftmonitor".</span><span class="sxs-lookup"><span data-stu-id="e2edf-323">Click **SAVE** on the top and name the report "aircraftmonitor".</span></span> <span data-ttu-id="e2edf-324">Отчет с именем aircraftmonitor будет отображаться в разделе **Отчеты** в области **Навигатор** слева.</span><span class="sxs-lookup"><span data-stu-id="e2edf-324">The report named "aircraftmonitor" will be shown in the **Reports** section in the **Navigator** pane on the left.</span></span>
   * <span data-ttu-id="e2edf-325">Щелкните значок **Закрепить визуальный элемент** в правом верхнем углу этого графика.</span><span class="sxs-lookup"><span data-stu-id="e2edf-325">Click the **Pin Visual** icon on the top right corner of this line chart.</span></span> <span data-ttu-id="e2edf-326">Может отобразиться окно "ПИН-код для панели мониторинга" для выбора панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="e2edf-326">A "Pin to Dashboard" window may show up for you to choose a dashboard.</span></span> <span data-ttu-id="e2edf-327">Выберите "Демонстрация прогнозируемого обслуживания", а затем нажмите кнопку "Закрепить".</span><span class="sxs-lookup"><span data-stu-id="e2edf-327">Select "Predictive Maintenance Demo", then click "Pin".</span></span>
   * <span data-ttu-id="e2edf-328">Наведите указатель мыши на эту плитку на панели мониторинга, щелкните значок "изменить" в правом верхнем углу, чтобы изменить ее название на "Fleet View of Sensor 11 vs. Threshold 48.26" и подзаголовок на "Average across fleet over time".</span><span class="sxs-lookup"><span data-stu-id="e2edf-328">Hover the mouse over this tile on the dashboard, click the "edit" icon on the top right corner to change its title to "Fleet View of Sensor 11 vs. Threshold 48.26" and subtitle to "Average across fleet over time".</span></span>

## <a name="how-to-delete-your-solution"></a><span data-ttu-id="e2edf-329">**Удаление решения**</span><span class="sxs-lookup"><span data-stu-id="e2edf-329">**How to delete your solution**</span></span>
<span data-ttu-id="e2edf-330">Убедитесь, что генератор данных остановлен, если решение используется неактивно, так как работа генератора данных связана с высокими расходами.</span><span class="sxs-lookup"><span data-stu-id="e2edf-330">Please ensure that you stop the data generator when not actively using the solution as running the data generator will incur higher costs.</span></span> <span data-ttu-id="e2edf-331">Если вы не используете решение, удалите его.</span><span class="sxs-lookup"><span data-stu-id="e2edf-331">Please delete the solution if you are not using it.</span></span> <span data-ttu-id="e2edf-332">При удалении решения будут удалены все компоненты, подготовленные в подписке при развертывании решения.</span><span class="sxs-lookup"><span data-stu-id="e2edf-332">Deleting your solution will delete all the components provisioned in your subscription when you deployed the solution.</span></span> <span data-ttu-id="e2edf-333">Чтобы удалить решение, щелкните имя решения на левой панели шаблона решения и щелкните "Удалить".</span><span class="sxs-lookup"><span data-stu-id="e2edf-333">To delete the solution click on your solution name in the left panel of the solution template and click on delete.</span></span>

## <a name="cost-estimation-tools"></a><span data-ttu-id="e2edf-334">**Средства для оценки затрат**</span><span class="sxs-lookup"><span data-stu-id="e2edf-334">**Cost estimation tools**</span></span>
<span data-ttu-id="e2edf-335">Следующие два инструмента помогут вам лучше оценить общие затраты, задействованные в выполнении шаблона решения для прогнозируемого обслуживания в аэрокосмических компаниях в вашей подписке:</span><span class="sxs-lookup"><span data-stu-id="e2edf-335">The following two tools are available to help you better understand the total costs involved in running the Predictive Maintenance for Aerospace Solution Template in your subscription:</span></span>

* [<span data-ttu-id="e2edf-336">Средство оценки затрат Azure Microsoft (в сети)</span><span class="sxs-lookup"><span data-stu-id="e2edf-336">Microsoft Azure Cost Estimator Tool (online)</span></span>](https://azure.microsoft.com/pricing/calculator/)
* [<span data-ttu-id="e2edf-337">Средство оценки затрат Azure Microsoft (на рабочем столе)</span><span class="sxs-lookup"><span data-stu-id="e2edf-337">Microsoft Azure Cost Estimator Tool (desktop)</span></span>](http://www.microsoft.com/download/details.aspx?id=43376)

