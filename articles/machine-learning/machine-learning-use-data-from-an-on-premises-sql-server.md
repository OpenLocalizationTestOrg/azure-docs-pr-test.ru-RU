---
title: "aaaUse в локальной среде SQL Server в машинном обучении Azure | Документы Microsoft"
description: "Используйте данные из анализа tooperform advanced локальной базы данных SQL Server с помощью машинного обучения Azure."
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 08e4610d-02b6-4071-aad7-a2340ad8e2ea
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/13/2017
ms.author: garye;krishnan
ms.openlocfilehash: c0e9908e296b97b31611ef0192744a59073acd80
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="perform-advanced-analytics-with-azure-machine-learning-using-data-from-an-on-premises-sql-server-database"></a><span data-ttu-id="e0de1-103">Выполнение расширенной аналитики с помощью Машинного обучения Azure на основе данных из локальной базы данных SQL Server</span><span class="sxs-lookup"><span data-stu-id="e0de1-103">Perform advanced analytics with Azure Machine Learning using data from an on-premises SQL Server database</span></span>

[!INCLUDE [import-data-into-aml-studio-selector](../../includes/machine-learning-import-data-into-aml-studio.md)]

<span data-ttu-id="e0de1-104">Часто предприятий, которые работают с локальными данными хотел tootake преимуществами hello масштабирования и гибкости облачных hello для их машинного обучения рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="e0de1-104">Often enterprises that work with on-premises data would like tootake advantage of hello scale and agility of hello cloud for their machine learning workloads.</span></span> <span data-ttu-id="e0de1-105">Но не toodisrupt их текущего бизнес-процессов и рабочих процессов, перемещая их облако toohello локальных данных.</span><span class="sxs-lookup"><span data-stu-id="e0de1-105">But they don't want toodisrupt their current business processes and workflows by moving their on-premises data toohello cloud.</span></span> <span data-ttu-id="e0de1-106">Машинное обучение Azure теперь поддерживает чтение данных из локальной базы данных SQL Server с последующим обучением и оценкой модели по этим данным.</span><span class="sxs-lookup"><span data-stu-id="e0de1-106">Azure Machine Learning now supports reading your data from an on-premises SQL Server database and then training and scoring a model with this data.</span></span> <span data-ttu-id="e0de1-107">Вы больше не toomanually копирования и синхронизации данных hello между облаком hello и локального сервера.</span><span class="sxs-lookup"><span data-stu-id="e0de1-107">You no longer have toomanually copy and sync hello data between hello cloud and your on-premises server.</span></span> <span data-ttu-id="e0de1-108">Вместо этого hello **импорта данных** модуля в студии машинного обучения Azure теперь может считывать непосредственно из локальной базы данных SQL Server для вашей обучения и оценки заданий.</span><span class="sxs-lookup"><span data-stu-id="e0de1-108">Instead, hello **Import Data** module in Azure Machine Learning Studio can now read directly from your on-premises SQL Server database for your training and scoring jobs.</span></span>

<span data-ttu-id="e0de1-109">Это статье представлен обзор как tooingress локальных данных SQL server в машинном обучении Azure.</span><span class="sxs-lookup"><span data-stu-id="e0de1-109">This article provides an overview of how tooingress on-premises SQL server data into Azure Machine Learning.</span></span> <span data-ttu-id="e0de1-110">Предполагается, что вы знакомы с такими основными понятиями Машинного обучения Azure, как рабочие области, модули, наборы данных, эксперименты *и т. д.*</span><span class="sxs-lookup"><span data-stu-id="e0de1-110">It assumes that you're familiar with Azure Machine Learning concepts like workspaces, modules, datasets, experiments, *etc.*.</span></span>

> [!NOTE]
> <span data-ttu-id="e0de1-111">Эта функция недоступна для бесплатных рабочих областей.</span><span class="sxs-lookup"><span data-stu-id="e0de1-111">This feature is not available for free workspaces.</span></span> <span data-ttu-id="e0de1-112">Дополнительные сведения о ценах на машинное обучение и его уровнях см. [здесь](https://azure.microsoft.com/pricing/details/machine-learning/).</span><span class="sxs-lookup"><span data-stu-id="e0de1-112">For more information about Machine Learning pricing and tiers, see [Azure Machine Learning Pricing](https://azure.microsoft.com/pricing/details/machine-learning/).</span></span>
>
>

<!-- -->

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="install-hello-microsoft-data-management-gateway"></a><span data-ttu-id="e0de1-113">Установить шлюз управления данными Майкрософт hello</span><span class="sxs-lookup"><span data-stu-id="e0de1-113">Install hello Microsoft Data Management Gateway</span></span>
<span data-ttu-id="e0de1-114">tooaccess локальной базы данных SQL Server в машинном обучении Azure требуются toodownload и hello установить шлюз управления данными Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="e0de1-114">tooaccess an on-premises SQL Server database in Azure Machine Learning, you need toodownload and install hello Microsoft Data Management Gateway.</span></span> <span data-ttu-id="e0de1-115">При настройке подключения шлюза hello в студии машинного обучения, у вас есть возможность загрузить и установить шлюз hello, с помощью hello hello **загрузки и зарегистрировать шлюз данных** диалоговое окно, описанных ниже.</span><span class="sxs-lookup"><span data-stu-id="e0de1-115">When you configure hello gateway connection in Machine Learning Studio, you have hello opportunity to download and install hello gateway using hello **Download and register data gateway** dialog described below.</span></span>

<span data-ttu-id="e0de1-116">Hello шлюз управления данными заранее можно установить по загрузке и запуске hello пакет установки MSI с hello [центра загрузки Майкрософт](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="e0de1-116">You also can install hello Data Management Gateway ahead of time by downloading and running hello MSI setup package from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span></span>
<span data-ttu-id="e0de1-117">Выберите последнюю версию hello, при выборе 32-разрядной или 64-разрядной, подходящими для вашего компьютера.</span><span class="sxs-lookup"><span data-stu-id="e0de1-117">Choose hello latest version, selecting either 32-bit or 64-bit as appropriate for your computer.</span></span> <span data-ttu-id="e0de1-118">Hello MSI-ФАЙЛ также может быть tooupgrade используется существующий шлюз управления данными toohello последнюю версию, обо всех параметрах, сохраняются.</span><span class="sxs-lookup"><span data-stu-id="e0de1-118">hello MSI can also be used tooupgrade an existing Data Management Gateway toohello latest version, with all settings preserved.</span></span>

<span data-ttu-id="e0de1-119">Hello шлюза имеет hello следующие предварительные требования:</span><span class="sxs-lookup"><span data-stu-id="e0de1-119">hello gateway has hello following prerequisites:</span></span>

* <span data-ttu-id="e0de1-120">Hello поддерживается версии операционной системы Windows, Windows 7, Windows 8 и 8.1, Windows 10, Windows Server 2008 R2, Windows Server 2012 и Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="e0de1-120">hello supported Windows operating system versions are Windows 7, Windows 8/8.1, Windows 10, Windows Server 2008 R2, Windows Server 2012, and Windows Server 2012 R2.</span></span>
* <span data-ttu-id="e0de1-121">Hello рекомендуемые конфигурации для компьютера шлюза hello имеет по крайней мере 2 ГГц, 4 ядра, 8 ГБ ОЗУ и диск 80 ГБ.</span><span class="sxs-lookup"><span data-stu-id="e0de1-121">hello recommended configuration for hello gateway machine is at least 2 GHz, 4 cores, 8GB RAM, and 80GB disk.</span></span>
* <span data-ttu-id="e0de1-122">Шлюз hello hello компьютер перейдет в спящий режим, не будет отвечать toodata запросов.</span><span class="sxs-lookup"><span data-stu-id="e0de1-122">If hello host machine hibernates, hello gateway won’t respond toodata requests.</span></span> <span data-ttu-id="e0de1-123">Таким образом настройте соответствующие управления питанием на компьютере hello перед установкой шлюза hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-123">Therefore, configure an appropriate power plan on hello computer before installing hello gateway.</span></span> <span data-ttu-id="e0de1-124">Если машина hello настроенных toohibernate, установка шлюза hello выводится сообщение.</span><span class="sxs-lookup"><span data-stu-id="e0de1-124">If hello machine is configured toohibernate, hello gateway installation displays a message.</span></span>
* <span data-ttu-id="e0de1-125">Поскольку действие копирования происходит с определенной периодичностью, hello использование ресурсов (ЦП, памяти) на компьютере hello также учитывает hello же шаблон с максимальной нагрузки и временем простоя.</span><span class="sxs-lookup"><span data-stu-id="e0de1-125">Because copy activity occurs at a specific frequency, hello resource usage (CPU, memory) on hello machine also follows hello same pattern with peak and idle times.</span></span> <span data-ttu-id="e0de1-126">Использование ресурсов также сильно зависит hello объем данных, перемещаемых.</span><span class="sxs-lookup"><span data-stu-id="e0de1-126">Resource utilization also depends heavily on hello amount of data being moved.</span></span> <span data-ttu-id="e0de1-127">Когда выполняется несколько заданий копирования, в пиковые периоды уровень использования ресурсов системы повышается.</span><span class="sxs-lookup"><span data-stu-id="e0de1-127">When multiple copy jobs are in progress, you'll observe resource usage go up during peak times.</span></span> <span data-ttu-id="e0de1-128">Хотя технически достаточно hello минимальной конфигурации, перечисленных выше, может возникнуть toohave конфигурация с больше ресурсов, чем минимальная конфигурация hello в зависимости от конкретных нагрузки для перемещения данных.</span><span class="sxs-lookup"><span data-stu-id="e0de1-128">While hello minimum configuration listed above is technically sufficient, you may want toohave a configuration with more resources than hello minimum configuration depending on your specific load for data movement.</span></span>

<span data-ttu-id="e0de1-129">Рассмотрим следующее hello при настройке и использовании шлюз управления данными.</span><span class="sxs-lookup"><span data-stu-id="e0de1-129">Consider hello following when setting up and using a Data Management Gateway:</span></span>

* <span data-ttu-id="e0de1-130">На компьютере может быть установлен только один экземпляр шлюза управления данными.</span><span class="sxs-lookup"><span data-stu-id="e0de1-130">You can install only one instance of Data Management Gateway on a single computer.</span></span>
* <span data-ttu-id="e0de1-131">Можно использовать один шлюз для нескольких локальных источников данных.</span><span class="sxs-lookup"><span data-stu-id="e0de1-131">You can use a single gateway for multiple on-premises data sources.</span></span>
* <span data-ttu-id="e0de1-132">Можно подключить несколько шлюзов на разных компьютерах toohello же локальному источнику данных.</span><span class="sxs-lookup"><span data-stu-id="e0de1-132">You can connect multiple gateways on different computers toohello same on-premises data source.</span></span>
* <span data-ttu-id="e0de1-133">Шлюз можно настроить только для одной рабочей области одновременно.</span><span class="sxs-lookup"><span data-stu-id="e0de1-133">You configure a gateway for only one workspace at a time.</span></span> <span data-ttu-id="e0de1-134">На данный момент шлюзы нельзя сделать общими для нескольких рабочих областей.</span><span class="sxs-lookup"><span data-stu-id="e0de1-134">Currently, gateways can’t be shared across workspaces.</span></span>
* <span data-ttu-id="e0de1-135">Для одной рабочей области можно настроить несколько шлюзов.</span><span class="sxs-lookup"><span data-stu-id="e0de1-135">You can configure multiple gateways for a single workspace.</span></span> <span data-ttu-id="e0de1-136">Например вы можете toouse шлюз, который является tooyour подключенных источников данных теста во время разработки и производственной шлюз, когда вы будете готовы toooperationalize.</span><span class="sxs-lookup"><span data-stu-id="e0de1-136">For example, you may want toouse a gateway that's connected tooyour test data sources during development and a production gateway when you're ready toooperationalize.</span></span>
* <span data-ttu-id="e0de1-137">шлюз Hello не обязательно toobe на компьютер же, как источник данных hello hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-137">hello gateway does not need toobe on hello same machine as hello data source.</span></span> <span data-ttu-id="e0de1-138">Но остается ближе toohello источника данных уменьшает время hello для источника данных toohello tooconnect шлюза hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-138">But staying closer toohello data source reduces hello time for hello gateway tooconnect toohello data source.</span></span> <span data-ttu-id="e0de1-139">Рекомендуется устанавливать hello шлюз на компьютере, который отличается от одного источника данных локальных узлов hello hello, чтобы hello шлюз и источник данных не конкурируют за ресурсы.</span><span class="sxs-lookup"><span data-stu-id="e0de1-139">We recommend that you install hello gateway on a machine that's different from hello one that hosts hello on-premises data source so that hello gateway and data source don't compete for resources.</span></span>
* <span data-ttu-id="e0de1-140">Если вы уже установили шлюз на компьютер, который используется для задач Power BI или фабрики данных Azure, установите отдельный шлюз для Машинного обучения Azure на другом компьютере.</span><span class="sxs-lookup"><span data-stu-id="e0de1-140">If you already have a gateway installed on your computer serving Power BI or Azure Data Factory scenarios, install a separate gateway for Azure Machine Learning on another computer.</span></span>

  > [!NOTE]
  > <span data-ttu-id="e0de1-141">Шлюз управления данными и шлюз Power BI нельзя запускать на hello того же компьютера.</span><span class="sxs-lookup"><span data-stu-id="e0de1-141">You can't run Data Management Gateway and Power BI Gateway on hello same computer.</span></span>
  >
  >
* <span data-ttu-id="e0de1-142">Hello toouse шлюз управления данными для машинного обучения Azure необходимо даже при использовании Azure ExpressRoute для других данных.</span><span class="sxs-lookup"><span data-stu-id="e0de1-142">You need toouse hello Data Management Gateway for Azure Machine Learning even if you are using Azure ExpressRoute for other data.</span></span> <span data-ttu-id="e0de1-143">Источник данных следует считать локальным (то есть защищенным брандмауэром), даже если используется ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="e0de1-143">You should treat your data source as an on-premises data source (that's behind a firewall) even when you use ExpressRoute.</span></span> <span data-ttu-id="e0de1-144">Используйте hello шлюз управления данными tooestablish подключением машинного обучения и hello источника данных.</span><span class="sxs-lookup"><span data-stu-id="e0de1-144">Use hello Data Management Gateway tooestablish connectivity between Machine Learning and hello data source.</span></span>

<span data-ttu-id="e0de1-145">Подробные сведения о необходимые условия для установки, действия по установке и советы по устранению неполадок можно найти в статье hello [шлюз управления данными](../data-factory/data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="e0de1-145">You can find detailed information on installation prerequisites, installation steps, and troubleshooting tips in hello article [Data Management Gateway](../data-factory/data-factory-data-management-gateway.md).</span></span>

## <a name="span-idusing-the-data-gateway-step-by-step-walk-classanchorspan-idtoc450838866-classanchorspanspaningress-data-from-your-on-premises-sql-server-database-into-azure-machine-learning"></a><span data-ttu-id="e0de1-146"><span id="using-the-data-gateway-step-by-step-walk" class="anchor"><span id="_Toc450838866" class="anchor"></span></span>Ввод данных из локальной базы данных SQL Server в Машинное обучение Azure</span><span class="sxs-lookup"><span data-stu-id="e0de1-146"><span id="using-the-data-gateway-step-by-step-walk" class="anchor"><span id="_Toc450838866" class="anchor"></span></span>Ingress data from your on-premises SQL Server database into Azure Machine Learning</span></span>
<span data-ttu-id="e0de1-147">В этом пошаговом руководстве описывается, как установить шлюз управления данными в рабочей области Машинного обучения Azure, настроить его, а затем считывать данные из локальной базы данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e0de1-147">In this walkthrough, you will set up a Data Management Gateway in an Azure Machine Learning workspace, configure it, and then read data from an on-premises SQL Server database.</span></span>

> [!TIP]
> <span data-ttu-id="e0de1-148">Прежде чем начать, отключите блокирование всплывающих окон в браузере для `studio.azureml.net`.</span><span class="sxs-lookup"><span data-stu-id="e0de1-148">Before you start, disable your browser’s pop-up blocker for `studio.azureml.net`.</span></span> <span data-ttu-id="e0de1-149">Если вы используете hello браузера Google Chrome, загрузите и установите один из hello несколько подключаемых модулей на веб-хранилища Google Chrome [щелкните один раз расширения приложения](https://chrome.google.com/webstore/search/clickonce?_category=extensions).</span><span class="sxs-lookup"><span data-stu-id="e0de1-149">If you're using hello Google Chrome browser, download and install one of hello several plug-ins available at Google Chrome WebStore [Click Once App Extension](https://chrome.google.com/webstore/search/clickonce?_category=extensions).</span></span>
>
>

### <a name="step-1-create-a-gateway"></a><span data-ttu-id="e0de1-150">Шаг 1. Создание шлюза</span><span class="sxs-lookup"><span data-stu-id="e0de1-150">Step 1: Create a gateway</span></span>
<span data-ttu-id="e0de1-151">Первым шагом Hello — toocreate и настроить шлюз tooaccess hello локальной базы данных SQL.</span><span class="sxs-lookup"><span data-stu-id="e0de1-151">hello first step is toocreate and set up hello gateway tooaccess your on-premises SQL database.</span></span>

1. <span data-ttu-id="e0de1-152">Войдите в слишком[студии машинного обучения Azure](https://studio.azureml.net/Home/) и в рабочей области выберите hello, вы должны быть toowork.</span><span class="sxs-lookup"><span data-stu-id="e0de1-152">Log in too[Azure Machine Learning  Studio](https://studio.azureml.net/Home/) and select hello workspace  that you want toowork in.</span></span>
2. <span data-ttu-id="e0de1-153">Нажмите кнопку hello **параметры** колонка на hello и выберите команду hello **ШЛЮЗЫ данных** вкладку вверху hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-153">Click hello **SETTINGS** blade on hello left, and then click hello **DATA  GATEWAYS** tab at hello top.</span></span>
3. <span data-ttu-id="e0de1-154">Нажмите кнопку **ШЛЮЗ данных** hello нижней части экрана приветствия.</span><span class="sxs-lookup"><span data-stu-id="e0de1-154">Click **NEW DATA GATEWAY** at hello bottom of hello screen.</span></span>

    ![Новый шлюз данных](media/machine-learning-use-data-from-an-on-premises-sql-server/new-data-gateway-button.png)
4. <span data-ttu-id="e0de1-156">В hello **шлюз данных** диалоговое окно, введите hello **имя шлюза** и при необходимости добавьте **описание**.</span><span class="sxs-lookup"><span data-stu-id="e0de1-156">In hello **New data gateway** dialog, enter hello **Gateway Name** and optionally add a **Description**.</span></span> <span data-ttu-id="e0de1-157">Щелкните стрелку hello hello нижнем правом углу toogo toohello следующий шаг конфигурации hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-157">Click hello arrow on hello bottom right-hand corner toogo toohello next step of hello configuration.</span></span>

    ![Ввод имени и описания шлюза данных](media/machine-learning-use-data-from-an-on-premises-sql-server/new-data-gateway-dialog-enter-name.png)
5. <span data-ttu-id="e0de1-159">В hello загрузить и зарегистрировать шлюз данных диалогового окна, скопировать ключ регистрации ШЛЮЗА hello toohello, буфер обмена.</span><span class="sxs-lookup"><span data-stu-id="e0de1-159">In hello Download and register data gateway dialog, copy hello GATEWAY  REGISTRATION KEY toohello clipboard.</span></span>

    ![Download and register data gateway (Скачивание и регистрация шлюза данных)](media/machine-learning-use-data-from-an-on-premises-sql-server/download-and-register-data-gateway.png)
6. <span data-ttu-id="e0de1-161"><span id="note-1" class="anchor"></span>Если вы еще не загрузили и установили hello шлюз управления данными Майкрософт, а затем нажмите кнопку **шлюз управления данными загрузки**.</span><span class="sxs-lookup"><span data-stu-id="e0de1-161"><span id="note-1" class="anchor"></span>If you have not yet downloaded and installed hello Microsoft Data Management Gateway, then click **Download data management gateway**.</span></span> <span data-ttu-id="e0de1-162">Это занимает toothe центра загрузки Майкрософт Center для выбора версии шлюза hello вы, загрузить и установить его.</span><span class="sxs-lookup"><span data-stu-id="e0de1-162">This takes you toothe Microsoft Download Center where you can select hello gateway version you need, download it, and install it.</span></span> <span data-ttu-id="e0de1-163">Подробные сведения о необходимые условия для установки, действия по установке и советы по устранению неполадок можно найти в разделах начало hello hello статьи [перемещения данных между локальным источникам и облако с помощью шлюза управления данными](../data-factory/data-factory-move-data-between-onprem-and-cloud.md).</span><span class="sxs-lookup"><span data-stu-id="e0de1-163">You can find detailed information on installation prerequisites, installation steps, and troubleshooting tips in hello beginning sections of hello article [Move data between on-premises sources and cloud with Data Management Gateway](../data-factory/data-factory-move-data-between-onprem-and-cloud.md).</span></span>
7. <span data-ttu-id="e0de1-164">После установки шлюза hello hello диспетчера конфигурации шлюза управления данными будет открыт и hello **регистрации шлюза** отображается диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="e0de1-164">After hello gateway is installed, hello Data Management Gateway Configuration Manager will open and hello **Register gateway** dialog is displayed.</span></span> <span data-ttu-id="e0de1-165">Вставить hello **ключ регистрации шлюза** , которые вы скопировали toohello буфер обмена и нажмите кнопку **зарегистрировать**.</span><span class="sxs-lookup"><span data-stu-id="e0de1-165">Paste hello **Gateway Registration Key** that you copied toohello clipboard and click **Register**.</span></span>
8. <span data-ttu-id="e0de1-166">Если вы уже установили шлюз, запустите диспетчер конфигураций шлюза управления данными hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-166">If you already have a gateway installed, run hello Data Management Gateway Configuration Manager.</span></span> <span data-ttu-id="e0de1-167">Нажмите кнопку **изменение ключа**, вставьте **ключ регистрации шлюза** , которые вы скопировали toohello буфера обмена в предыдущем шаге hello и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="e0de1-167">Click **Change key**, paste the **Gateway Registration Key** that you copied toohello clipboard in hello previous step, and click **OK**.</span></span>
9. <span data-ttu-id="e0de1-168">По завершении установки hello hello **регистрации шлюза** отображается диалоговое окно для Microsoft диспетчера шлюза управления данными конфигурации.</span><span class="sxs-lookup"><span data-stu-id="e0de1-168">When hello installation is complete, hello **Register gateway** dialog for Microsoft Data Management Gateway Configuration Manager is displayed.</span></span> <span data-ttu-id="e0de1-169">Вставьте hello РЕГИСТРАЦИОННЫЙ ключ ШЛЮЗА, скопированный в буфер обмена hello в предыдущем шаге и нажмите кнопку **зарегистрировать**.</span><span class="sxs-lookup"><span data-stu-id="e0de1-169">Paste hello GATEWAY REGISTRATION KEY that you copied to hello clipboard in a previous step and click **Register**.</span></span>

    ![Зарегистрировать шлюз](media/machine-learning-use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-register-gateway.png)
10. <span data-ttu-id="e0de1-171">Hello шлюза будет завершена настройка при установке hello последующих значений на hello **Главная** вкладку в Microsoft диспетчера шлюза управления данными конфигурации:</span><span class="sxs-lookup"><span data-stu-id="e0de1-171">hello gateway configuration is complete when hello following values are set on hello **Home** tab in Microsoft Data Management Gateway Configuration Manager:</span></span>

    * <span data-ttu-id="e0de1-172">**Имя шлюза** и **имя экземпляра** задаются имя toohello hello шлюза.</span><span class="sxs-lookup"><span data-stu-id="e0de1-172">**Gateway name** and **Instance name** are set toohello name of   hello gateway.</span></span>
    * <span data-ttu-id="e0de1-173">**Регистрация** задано слишком**зарегистрированные**.</span><span class="sxs-lookup"><span data-stu-id="e0de1-173">**Registration** is set too**Registered**.</span></span>
    * <span data-ttu-id="e0de1-174">**Состояние** задано слишком**Started**.</span><span class="sxs-lookup"><span data-stu-id="e0de1-174">**Status** is set too**Started**.</span></span>
    * <span data-ttu-id="e0de1-175">Hello строку состояния в нижней отображает hello **подключен tooData облачной службе шлюза управления** вместе с зеленой галочкой.</span><span class="sxs-lookup"><span data-stu-id="e0de1-175">hello status bar at hello bottom displays **Connected tooData   Management Gateway Cloud Service** along with a green   check mark.</span></span>

      ![Диспетчер шлюза управления данными](media/machine-learning-use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-registered.png)

      <span data-ttu-id="e0de1-177">Студия машинного обучения также обновляется при успешной регистрации hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-177">Azure Machine Learning Studio also gets updated when hello registration is successful.</span></span>

    ![Успешная регистрация шлюза](media/machine-learning-use-data-from-an-on-premises-sql-server/gateway-registered.png)
11. <span data-ttu-id="e0de1-179">В hello **загрузить и зарегистрировать шлюз данных** диалоговое окно, щелкните "Установка флажка toocomplete hello".</span><span class="sxs-lookup"><span data-stu-id="e0de1-179">In hello **Download and register data gateway** dialog, click the check mark toocomplete hello setup.</span></span> <span data-ttu-id="e0de1-180">Hello **параметры** страница отображает состояние шлюза, как «В сети».</span><span class="sxs-lookup"><span data-stu-id="e0de1-180">hello **Settings** page displays the gateway status as "Online".</span></span> <span data-ttu-id="e0de1-181">В правой области hello вы найдете состояние и другие полезные сведения.</span><span class="sxs-lookup"><span data-stu-id="e0de1-181">In hello right-hand pane, you'll find status and other useful information.</span></span>

    ![Параметры шлюза](media/machine-learning-use-data-from-an-on-premises-sql-server/gateway-status.png)
12. <span data-ttu-id="e0de1-183">В Диспетчер конфигураций шлюза управления данными Майкрософт hello переключение toohello **сертификат** вкладку hello сертификат, заданный на этой вкладке, используемые tooencrypt и расшифровки учетных данных для хранилища данных в локальной среде hello, указываемое на портале hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-183">In hello Microsoft Data Management Gateway Configuration Manager switch toohello **Certificate** tab. hello certificate specified on this tab is used tooencrypt/decrypt credentials for hello on-premises data store that you specify in hello portal.</span></span> <span data-ttu-id="e0de1-184">Этот сертификат является сертификатом по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-184">This certificate is hello default certificate.</span></span> <span data-ttu-id="e0de1-185">Майкрософт рекомендует изменять этот tooyour собственный сертификат, резервное копирование в системе управления сертификата.</span><span class="sxs-lookup"><span data-stu-id="e0de1-185">Microsoft recommends changing this tooyour own certificate that you back up in your certificate management system.</span></span> <span data-ttu-id="e0de1-186">Нажмите кнопку **изменений** toouse собственный сертификат вместо него.</span><span class="sxs-lookup"><span data-stu-id="e0de1-186">Click **Change** toouse your own certificate instead.</span></span>

    ![Изменение сертификата шлюза](media/machine-learning-use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-certificate.png)
13. <span data-ttu-id="e0de1-188">(необязательно) При необходимости tooenable подробного ведения журналов для устранения неполадок со шлюзом hello в Диспетчер конфигураций шлюза управления данными Майкрософт hello переключитесь toothe **диагностики** вкладку и проверьте hello **включить расширенное ведение журнала для устранения неполадок** параметр.</span><span class="sxs-lookup"><span data-stu-id="e0de1-188">(optional) If you want tooenable verbose logging in order to troubleshoot issues with hello gateway, in hello Microsoft Data Management Gateway Configuration Manager switch toothe **Diagnostics** tab and check hello **Enable verbose logging for troubleshooting purposes** option.</span></span> <span data-ttu-id="e0de1-189">Hello сведения о ведении журнала можно найти в hello средства просмотра событий Windows в группе hello **журналы приложений и служб**  - &gt; **шлюз управления данными** узла.</span><span class="sxs-lookup"><span data-stu-id="e0de1-189">hello logging information can be found in hello Windows Event Viewer under hello **Applications and Services Logs** -&gt; **Data Management Gateway** node.</span></span> <span data-ttu-id="e0de1-190">Можно также использовать hello **диагностики** вкладку tootest hello подключения tooan локального источника данных с помощью шлюза hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-190">You can also use hello **Diagnostics** tab tootest hello connection tooan on-premises data source using hello gateway.</span></span>

    ![Включение ведения подробного журнала](media/machine-learning-use-data-from-an-on-premises-sql-server/data-gateway-configuration-manager-verbose-logging.png)

<span data-ttu-id="e0de1-192">На этом завершается процесс установки шлюза hello в машинном обучении Azure.</span><span class="sxs-lookup"><span data-stu-id="e0de1-192">This completes hello gateway setup process in Azure Machine Learning.</span></span>
<span data-ttu-id="e0de1-193">Вы являетесь toouse теперь все готово к локальным данным.</span><span class="sxs-lookup"><span data-stu-id="e0de1-193">You're now ready toouse your on-premises data.</span></span>

<span data-ttu-id="e0de1-194">В Студии машинного обучения можно создать и настроить несколько шлюзов для каждой рабочей области.</span><span class="sxs-lookup"><span data-stu-id="e0de1-194">You can create and set up multiple gateways in Studio for each workspace.</span></span> <span data-ttu-id="e0de1-195">Например имеется шлюз требуется источники данных теста tooyour tooconnect во время разработки и другой шлюз для производственного источников данных.</span><span class="sxs-lookup"><span data-stu-id="e0de1-195">For example, you may have a gateway that you want tooconnect tooyour test data sources during development, and a different gateway for your production data sources.</span></span> <span data-ttu-id="e0de1-196">Машинное обучение Azure предоставляет tooset гибкость копирование несколько шлюзов, в зависимости от корпоративной среде.</span><span class="sxs-lookup"><span data-stu-id="e0de1-196">Azure Machine Learning gives you the flexibility tooset up multiple gateways depending upon your corporate environment.</span></span> <span data-ttu-id="e0de1-197">В настоящее время шлюз нельзя совместно использовать между несколькими рабочими областями, и на одном компьютере можно установить только один шлюз.</span><span class="sxs-lookup"><span data-stu-id="e0de1-197">Currently you can’t share a gateway between workspaces and only one gateway can be installed on a single computer.</span></span> <span data-ttu-id="e0de1-198">Дополнительные сведения см. в статье [Перемещение данных между локальными источниками и облаком с помощью шлюза управления данными](../data-factory/data-factory-move-data-between-onprem-and-cloud.md).</span><span class="sxs-lookup"><span data-stu-id="e0de1-198">For more information, see [Move data between on-premises sources and cloud with Data Management Gateway](../data-factory/data-factory-move-data-between-onprem-and-cloud.md).</span></span>

### <a name="step-2-use-hello-gateway-tooread-data-from-an-on-premises-data-source"></a><span data-ttu-id="e0de1-199">Шаг 2: Использование hello шлюза tooread данных из источника данных в локальной среде</span><span class="sxs-lookup"><span data-stu-id="e0de1-199">Step 2: Use hello gateway tooread data from an on-premises data source</span></span>
<span data-ttu-id="e0de1-200">После настройки шлюза hello можно добавить **импорта данных** модуля в эксперимент, который получает на входе hello данные из базы данных SQL Server в локальной среде hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-200">After you set up hello gateway, you can add an **Import Data** module to an experiment that inputs hello data from hello on-premises SQL Server database.</span></span>

1. <span data-ttu-id="e0de1-201">В студии машинного обучения, выберите hello **ЭКСПЕРИМЕНТОВ** щелкните **+ создать** в hello в левом нижнем углу и выберите **пустой эксперимента** (или выберите один из нескольких образца Эксперименты доступны).</span><span class="sxs-lookup"><span data-stu-id="e0de1-201">In Machine Learning Studio, select hello **EXPERIMENTS** tab, click **+NEW** in hello lower-left corner, and select **Blank Experiment** (or select one of several sample experiments available).</span></span>
2. <span data-ttu-id="e0de1-202">Поиск и перетащите hello **импорта данных** toohello модуль поэкспериментировать холста.</span><span class="sxs-lookup"><span data-stu-id="e0de1-202">Find and drag hello **Import Data** module toohello experiment canvas.</span></span>
3. <span data-ttu-id="e0de1-203">Нажмите кнопку **сохранение** ниже hello холста.</span><span class="sxs-lookup"><span data-stu-id="e0de1-203">Click **Save as** below hello canvas.</span></span> <span data-ttu-id="e0de1-204">Введите «Azure машины обучения в локальной среде SQL Server учебник» имя hello эксперимент, выберите рабочую область и нажмите кнопку hello **ОК** флажок.</span><span class="sxs-lookup"><span data-stu-id="e0de1-204">Enter "Azure Machine Learning On-Premises SQL Server Tutorial" for hello experiment name, select the workspace, and click hello **OK** check mark.</span></span>

   ![Сохранение эксперимента с новым именем](media/machine-learning-use-data-from-an-on-premises-sql-server/experiment-save-as.png)
4. <span data-ttu-id="e0de1-206">Щелкните hello **импорта данных** tooselect модуля, затем в **свойства** toohello панели справа от холста hello, выберите «Локальная база данных SQL» в hello **источника данных** раскрывающийся список.</span><span class="sxs-lookup"><span data-stu-id="e0de1-206">Click hello **Import Data** module tooselect it, then in the **Properties** pane toohello right of hello canvas, select "On-Premises SQL Database" in hello **Data source** dropdown list.</span></span>
5. <span data-ttu-id="e0de1-207">Выберите hello **шлюз данных** установлен и зарегистрирован.</span><span class="sxs-lookup"><span data-stu-id="e0de1-207">Select hello **Data gateway** you installed and registered.</span></span> <span data-ttu-id="e0de1-208">Вы можете установить еще один шлюз, выбрав "(Добавить шлюз данных…)".</span><span class="sxs-lookup"><span data-stu-id="e0de1-208">You can set up another gateway by selecting "(add new Data Gateway…)".</span></span>

   ![Выбор шлюза данных для модуля импорта данных](media/machine-learning-use-data-from-an-on-premises-sql-server/import-data-select-on-premises-data-source.png)
6. <span data-ttu-id="e0de1-210">Введите hello SQL **имя сервера базы данных** и **имя базы данных**, вместе с hello SQL **запроса базы данных** требуется tooexecute.</span><span class="sxs-lookup"><span data-stu-id="e0de1-210">Enter hello SQL **Database server name** and **Database name**, along with hello SQL **Database query** you want tooexecute.</span></span>
7. <span data-ttu-id="e0de1-211">Нажмите кнопку **Enter values** (Введите значения) в разделе **Имя пользователя и пароль** и введите учетные данные базы данных.</span><span class="sxs-lookup"><span data-stu-id="e0de1-211">Click **Enter values** under **User name and password** and enter your database credentials.</span></span> <span data-ttu-id="e0de1-212">Можно использовать встроенную аутентификацию Windows или аутентификацию SQL Server, в зависимости от настроек локального сервера SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e0de1-212">You can use Windows Integrated Authentication or SQL Server Authentication depending upon how your on-premises SQL Server is configured.</span></span>

   ![Ввод учетных данных базы данных](media/machine-learning-use-data-from-an-on-premises-sql-server/database-credentials.png)

   <span data-ttu-id="e0de1-214">приветственное сообщение «необходимые значения» изменения слишком» данные, установленные» с зеленой галочкой.</span><span class="sxs-lookup"><span data-stu-id="e0de1-214">hello message "values required" changes too"values set" with a green check mark.</span></span> <span data-ttu-id="e0de1-215">Требуется только учетные данные hello tooenter один раз только сведения о базе данных hello или пароль.</span><span class="sxs-lookup"><span data-stu-id="e0de1-215">You only need tooenter hello credentials once unless hello database information or password changes.</span></span> <span data-ttu-id="e0de1-216">Машинное обучение Azure использует сертификат hello, предоставленные при установке шлюза tooencrypt hello hello-учетные данные в облаке hello.</span><span class="sxs-lookup"><span data-stu-id="e0de1-216">Azure Machine Learning uses hello certificate you provided when you installed hello gateway tooencrypt hello credentials in hello cloud.</span></span> <span data-ttu-id="e0de1-217">Azure никогда не хранит локальные учетные данные без шифрования.</span><span class="sxs-lookup"><span data-stu-id="e0de1-217">Azure never stores on-premises credentials without encryption.</span></span>

   ![Свойства модуля "Импорт данных"](media/machine-learning-use-data-from-an-on-premises-sql-server/import-data-properties-entered.png)
8. <span data-ttu-id="e0de1-219">Нажмите кнопку **ЗАПУСКА** toorun hello эксперимента.</span><span class="sxs-lookup"><span data-stu-id="e0de1-219">Click **RUN** toorun hello experiment.</span></span>

<span data-ttu-id="e0de1-220">После эксперимента hello закончит работу, вы можете визуализировать hello данные, импортированные из базы данных hello, щелкнув выходной порт hello hello **импорта данных** модуля и выбрав **визуализировать**.</span><span class="sxs-lookup"><span data-stu-id="e0de1-220">Once hello experiment finishes running, you can visualize hello data you imported from hello database by clicking hello output port of hello **Import Data** module and selecting **Visualize**.</span></span>

<span data-ttu-id="e0de1-221">После завершения разработки эксперимента можно развернуть и ввести в эксплуатацию свою модель.</span><span class="sxs-lookup"><span data-stu-id="e0de1-221">Once you finish developing your experiment, you can deploy and operationalize your model.</span></span> <span data-ttu-id="e0de1-222">С помощью hello службы пакетного выполнения, данные из базы данных SQL Server в локальной среде hello в hello **импорта данных** модуля чтения и будут использоваться для оценки.</span><span class="sxs-lookup"><span data-stu-id="e0de1-222">Using hello Batch Execution Service, data from hello on-premises SQL Server database configured in hello **Import Data** module will be read and used for scoring.</span></span> <span data-ttu-id="e0de1-223">Hello запроса ответа службы можно использовать для оценки локальных данных, но корпорация Майкрософт рекомендует использовать [надстройки Excel](machine-learning-excel-add-in-for-web-services.md) вместо него.</span><span class="sxs-lookup"><span data-stu-id="e0de1-223">While you can use hello Request Response Service for scoring on-premises data, Microsoft recommends using the [Excel Add-in](machine-learning-excel-add-in-for-web-services.md) instead.</span></span> <span data-ttu-id="e0de1-224">В настоящее время записи tooan в локальной базе данных SQL Server с помощью **Экспорт данных** не поддерживается в эксперименты и опубликованных веб-служб.</span><span class="sxs-lookup"><span data-stu-id="e0de1-224">Currently, writing tooan on-premises SQL Server database through **Export Data** is not supported either in your experiments or published web services.</span></span>
