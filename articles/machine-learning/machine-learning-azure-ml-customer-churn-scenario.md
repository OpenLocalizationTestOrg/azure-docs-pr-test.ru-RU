---
title: "Обработка клиента с помощью машинного обучения aaaAnalyzing | Документы Microsoft"
description: "Пример разработки интегрированной модели для анализа и оценки ухода клиентов"
services: machine-learning
documentationcenter: 
author: jeannt
manager: jhubbard
editor: cgronlun
ms.assetid: 1333ffe2-59b8-4f40-9be7-3bf1173fc38d
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/31/2017
ms.author: jeannt
ms.openlocfilehash: 070e6a2ebe4f2fe439a42ffe1a3fa9d6d3788d62
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="analyzing-customer-churn-by-using-azure-machine-learning"></a>Анализ оттока клиентов с помощью Машинного обучения Azure
## <a name="overview"></a>Обзор
В этой статье содержатся сведения об эталонной реализации проекта анализа оттока клиентов, созданного в Машинном обучении Azure. В этой статье мы рассмотрим связанные универсальные модели для точности решения проблемы hello высок промышленным клиента. Мы также измерить точность hello моделей, построенных с помощью машинного обучения, и мы оценить направлениях для дальнейшей разработки.  

### <a name="acknowledgements"></a>Благодарности
Этот эксперимент был разработан и протестирован Сержем Бергером (Serge Berger), старшим научным сотрудником корпорации Майкрософт по обработке данных, и Роджером Барга (Roger Barga), ранее являвшимся руководителем проекта Машинного обучения Microsoft Azure. Команда документации Azure Hello выражаем подтверждает свои знания и Спасибо совместного использования в этом техническом документе.

> [!NOTE]
> Hello данные, используемые в этом эксперименте не является общедоступным. Пример, как toobuild машинного обучения модели для анализа обработки, см.: [розничной торговли "Обработка" шаблона модели](https://gallery.cortanaintelligence.com/Collection/Retail-Customer-Churn-Prediction-Template-1) в [коллекции Cortana аналитики](http://gallery.cortanaintelligence.com/)
> 
> 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="hello-problem-of-customer-churn"></a>проблема Hello высок клиента
Организациям на рынке потребителя hello и в всех секторов предприятия имеют toodeal обновления. Иногда показатели оттока слишком велики и влияют на принятие политических решений. Hello традиционных решений является toopredict churners высокой склонностью и решить их через службу concierge, маркетинговых кампаний, или с помощью специальных dispensations. Эти подходы можно изменять на tooindustry отрасли и даже на tooanother кластера потребителя в пределах одной отрасли (например, телекоммуникационных).

Hello общим является, предприятия должны toominimize удержании этих клиентов. Таким образом естественным методологии будут tooscore каждого клиента, с вероятностью hello высок и адрес hello первые N из них. Hello лучшие клиенты могут hello наиболее выгодных из них; Например в более сложных сценариях во время выбора hello кандидатов для специальных dispensation работает функция роста прибыли. Однако эти соображения имеют только часть hello целостное стратегия работы с обработки. Всех компаний могут также быть tootake в риск учетной записи (и связанные рискам) hello уровень и стоимость вмешательства hello и сегментации реалистичных клиента.  

## <a name="industry-outlook-and-approaches"></a>Отраслевые перспективы и подходы
Сложные решения в процессе работы с оттоком клиентов являются признаком зрелой отрасли. Классический пример Hello — отраслевой телекоммуникационных hello, где подписчики находятся в известных toofrequently, переключаются с одного поставщика tooanother. Такой добровольный отток является главной заботой компаний, предоставляющих услуги связи. Кроме того, поставщики накопились обширные знания о *обработка драйверы*, который hello факторы, которые tooswitch клиентов этого диска.

Для экземпляра мобильном телефоне или устройстве вариантом является хорошо известных драйвер высок в бизнесе hello мобильного телефона. В результате популярных политики — цена hello toosubsidize мобильный телефон для новых подписчиков и заряжается tooexisting полную стоимость клиентов для обновления. Традиционно эта политика привело toocustomers «прыгающих» от одного поставщика tooanother tooget новый скидки, которая в свою очередь, заставила поставщики toorefine их стратегии.

Высокий уровень подверженности резким колебаниям на рынке мобильных телефонов очень быстро сводит на нет модели оттока, связанные с использованием текущих моделей телефонов. Кроме того мобильные телефоны, не только телекоммуникационные устройства; они также присутствуют операторы перебора (попробуйте hello iPhone), а этих социальных сетей для прогнозирования находящиеся вне области видимости hello регулярного телекоммуникационных наборов данных.

конечным результатом Hello для моделирования будет, что звуковой политики не может разработать просто устраняя известные причины для обработки. На самом деле, **обязательной**является непрерывная стратегия моделирования, включающая классические модели, количественно оценивающие категориальные переменные (такие как деревья решений).

С помощью больших наборов данных на клиентов, организаций выполнение анализа больших данных (в частности, обнаружение обработки на основе больших данных) как проблема toohello эффективный подход. Дополнительные сведения можно найти о проблеме hello больших данных подход toohello высок в hello рекомендации в разделе ETL.  

## <a name="methodology-toomodel-customer-churn"></a>Обработка клиента методологии toomodel
Общие устранению процесса toosolve клиента обработка изображена цифры 1-3:  

1. Риска модели позволяет tooconsider как действия влияют на вероятность и риск.
2. Модель вмешательства позволяет tooconsider как hello степень вмешательства может повлиять на вероятность hello обработки и hello суммы значения времени существования клиента (CLV).
3. Этот анализ решается путем анализа qualitative tooa эскалированных tooa упреждающего маркетинговой кампании, предназначенный оптимальной предложение toodeliver сегменты hello клиента.  

![][1]

Этот подход forward привлекательных является hello лучшим способом tootreat обработки, но поставляется со сложностью: нас toodevelop моделей трассировки и архетипа зависимости между моделями hello. можно инкапсулировать Hello взаимодействия между моделями, как показано в hello, следующая схема:  

![][2]

*Рисунок 4: Объединенный многомодельный архетип*  

Взаимодействие между моделями hello является ключом, если мы toodeliver значение срока хранения toocustomer целостный подход. Каждая модель обязательно приводит к снижению со временем; Таким образом, архитектура hello — неявное цикла (аналогичные архетипа toohello задать hello CRISP-DM стандарте интеллектуального анализа данных [***3***]).  

Hello всего цикла риск принятия решений отдела маркетинга сегментации/декомпозиции по-прежнему обобщенный структуры, которая является применимо toomany бизнес-задач. Анализ обработки типична просто строгого этой группы проблем, так как он демонстрирует все признаки hello сложные бизнес-проблемы, не допускает упрощенное решение прогнозной. Здравствуйте, социальных сетей, аспекты toochurn hello современный подход особенно не выделяются в подходе hello, но социальных аспекты hello инкапсулированным в архетипа hello моделирования, как они будут находиться в любой модели.  

Интересным дополнением является анализ больших объемов данных. Современных предприятий телекоммуникационные или в розничной торговле сбора исчерпывающим данных о своих клиентов, и мы легко предполагает, что hello требуется для моделей подключения станет общие тенденции, получает новые тенденции, такие как hello Интернета вещей и повсеместно устройств, которые позволяют tooemploy бизнеса интеллектуальные решения на нескольких уровнях.  

 

## <a name="implementing-hello-modeling-archetype-in-machine-learning-studio"></a>Реализация hello моделирования архетипа в студии машинного обучения
Получает только что описанные проблемы hello, что такое hello лучшим способом tooimplement моделирования интеграции и повышения подход В этом разделе демонстрируется выполнение данной задачи с помощью Студии машинного обучения Azure.  

Hello моделей подход является обязательным при конструировании глобального архетипа для обработки. Даже hello оценки (прогнозирования) часть hello подход следует моделей.  

Hello следующей диаграмме показан прототип hello мы создали которой используются четыре оценки алгоритмы в студии машинного обучения toopredict обработке. Причина Hello моделей подход заключается не только toocreate точностью tooincrease классификатор совокупности, но tooprotect от избыточной Подгонка и выбора tooimprove конкретные функции.  

![][3]

*Рисунок 5: Прототип метода моделирования оттока*  

Hello следующие разделы содержат дополнительные сведения о прототип hello оценки модели, которая была реализована с помощью студии машинного обучения.  

### <a name="data-selection-and-preparation"></a>Выбор и подготовка данных
Hello данные используются toobuild hello модели и оценка клиентов был получен из вертикальной решения CRM, вместе с hello некоторую путаницу tooprotect клиента конфиденциальности данных. Hello данных содержит сведения о подписках 8000 в США hello и объединяет три источника: Подготовка данных (метаданные подписки), данные о действиях (использование hello системы) и поддержки данных. Hello данные не включают любого бизнеса связанные сведения о клиентах hello; Например не включает лояльности метаданных или кредит оценки.  

В целях упрощения в рамки проекта не входят процессы ETL и очистки данных, так как предполагается, что подготовка данных уже выполнена.   

Выбор компонентов для моделирования основан на значимость предварительной оценки hello набора для прогнозирования, включенные в процесс hello, который использует модуль hello случайного леса. Для реализации hello в студии машинного обучения вычисляется hello среднее, медиану и диапазонов для типичных функций. Например мы добавили статистических функций для hello качественное данные, такие как минимальное и максимальное значения для активности пользователей.    

Мы также записать сведения о времени для hello последние шесть месяцев. Мы проанализировали данных в течение одного года, и мы установлено, что даже при отсутствии статистически значимой тенденции, hello влияет на обработка будет невысока через шесть месяцев.  

Hello самое главное, что hello-всего процесса, включая ETL, Выбор компонентов и моделирования была реализована в студии машинного обучения, с помощью источников данных в Microsoft Azure.   

Hello приведенных ниже диаграммах показаны hello данных, который был использован.  

![][4]

*Рисунок 6: Фрагмент источника данных (скрыт)*  

![][5]

*Рисунок 7: Признаки, извлеченные из источника данных*
 

> Обратите внимание, эти данные является закрытым и поэтому не может передаваться hello модели и данных.
> Однако для аналогичной модели с помощью публично доступные данные, см. в этом примере эксперимента в hello [коллекции аналитики Cortana](http://gallery.cortanaintelligence.com/): [обработка клиента Telco](http://gallery.cortanaintelligence.com/Experiment/31c19425ee874f628c847f7e2d93e383).
> 
> toolearn Дополнительные сведения о реализация модели обработки анализа с помощью набора Cortana аналитики, также рекомендуется [в этом видеоролике](https://info.microsoft.com/Webinar-Harness-Predictive-Customer-Churn-Model.html) , старший руководитель программы ра Hyong Tok. 
> 
> 

### <a name="algorithms-used-in-hello-prototype"></a>Алгоритмы, используемые в прототипе hello
Мы использовали hello следующие четыре алгоритмов машинного обучения toobuild hello прототип (Настройка):  

1. Логистическая регрессия (LR).
2. Увеличивающееся дерево принятия решений (BT).
3. Усредненное восприятие (AP).
4. Метод опорных векторов (SVM).  

Hello следующей схеме показана часть hello эксперимента конструктора, который указывает hello последовательность в какие hello создаются модели.  

![][6]  

*Рисунок 8: Создание моделей в Студии Машинного обучения*  

### <a name="scoring-methods"></a>Методы количественной оценки
Мы оцененных hello четырех моделей с помощью набора отмеченных данных.  

Также отправлен hello оценки модели сопоставимых tooa набора данных, построенных с использованием hello выпуск desktop edition 12 средство анализа Enterprise SAS. Мы разработали hello точность модели hello SAS и все четыре студии машинного обучения модели.  

## <a name="results"></a>Результаты
В этом разделе рассматриваются предположение о точности hello hello моделей, основанных на hello оценки набора данных.  

### <a name="accuracy-and-precision-of-scoring"></a>Точность и презиционность оценки
Как правило реализация hello в машинном обучении Azure находится за SAS в точности примерно 10 – 15% (область под кривой или AUC).  

Тем не менее, наиболее важные метрики hello в обработке ставка hello misclassification: т. е из churners первые N hello как прогнозируемые классификатором hello, которые из них фактически **не** обработка и получила особым образом? hello Следующая диаграмма сравнивает этот курс misclassification для всех моделей hello:  

![][7]

*Figure 9: Прототип Пассау: площадь под кривой*

### <a name="using-auc-toocompare-results"></a>Использование результатов toocompare AUC
Область под кривой (AUC) является метрикой, представляющий глобальный мера *separability* между hello распределения оценок для заполнения положительные и отрицательные. Это аналогично оператор характеристики приемника (ROC) graph традиционных toohello, но важное отличие заключается в эта метрика AUC hello не требуют toochoose пороговое значение. Вместо этого создаются сводные результаты hello через **все** возможные варианты. Напротив hello традиционных ROC граф показывает скорость положительное hello на вертикальной оси hello и hello false положительное ставки на горизонтальной оси hello и пороговое значение hello классификации зависит.   

AUC обычно используется в качестве меры стоит для различных алгоритмов (или разных систем) так как она допускает toobe модели по сравнению с помощью их AUC значения. Этот подход распространен в области метеорологии, биологических наук и многих других отраслях. Таким образом, AUC представляет собой популярный инструмент для оценки производительности классификатора.  

### <a name="comparing-misclassification-rates"></a>Сравнение коэффициентов неправильной классификации
Мы проверили скорость misclassification hello на набор данных hello в вопросе, используя данные CRM hello примерно 8 000 подписок.  

* скорость misclassification SAS Hello: 10 – 15%.
* скорость misclassification Hello студии машинного обучения: % 15-20 для churners верхней 200 – 300 hello.  

В отрасли телекоммуникационных hello это важные tooaddress только для этих клиентов, имеющих высокий риск toochurn hello, предлагая их дежурная служба или других специальной обработки. В этом случае результаты наравне с модели SAS hello достигаются реализации hello студии машинного обучения.  

По hello же токен, точность важнее точности поскольку главным образом нас интересуют правильно классификации потенциальных churners.  

Hello следующую схему из Википедии показаны отношения hello в графическом виде живым языком, легко понять:  

![][8]

*Рисунок 10: Компромисс между точностью и прецизионностью*

### <a name="accuracy-and-precision-results-for-boosted-decision-tree-model"></a>Результаты точности и прецизионности для модели увеличивающегося дерева
Следующая диаграмма отображает hello необработанные Hello результатом оценки, используя прототип hello машинного обучения для модели дерева принятия решений повышенного hello, которая происходит toobe hello наиболее точные среди hello четыре модели:  

![][9]

*Рисунок 11: Характеристики модели увеличивающегося дерева решений*

## <a name="performance-comparison"></a>Сравнение производительности
Мы проверили hello скорости, по которому данных был подсчитанных с использованием hello студии машинного обучения моделей и сравним модель, созданная с помощью рабочего стола hello для 12.1 средство анализа Enterprise SAS.  

Привет, в следующей таблице перечислены производительности hello hello алгоритмов:  

*Таблица 1. Общей производительности (точность) hello алгоритмов*

| LR | BT | AP | SVM |
| --- | --- | --- | --- |
| Модель средних показателей |Hello лучшую модель |Недостаточная производительность |Модель средних показателей |

модели Hello, размещенные в студии машинного обучения превзошли SAS на 15-25% для скорости выполнения, но точность был главным образом на линейку.  

## <a name="discussion-and-recommendations"></a>Обсуждение и рекомендации
В отрасли телекоммуникационных hello несколько рекомендаций оказались tooanalyze обработка, включая:  

* Получение показателей для четырех основных категорий:
  * **Объект (например, подписка)**. Предоставить основные сведения о подписке hello и/или клиента, который является предметом hello обработки.
  * **Действия**. Получите все сведения о возможности использования, toohello связанные сущности, например, hello количество входов в систему.
  * **Поддержка клиентов**. Собирать сведения от клиента поддержки журналы tooindicate ли подписка hello содержит проблем или взаимодействия с клиентом поддержки.
  * **Конкурентные данные и бизнес-данные**. Получить все возможные сведения о hello клиента (например, может быть недоступна или жестких tootrack).
* Используйте Выбор компонентов toodrive важности. Это означает, что в этой модели дерева принятия решений повышенного hello всегда является перспективной подход.  

Hello использовать эти четыре категории создает иллюзию hello, простой *детерминированного* подход, в зависимости от индексов, сформированная в разумных пределах факторов по категориям, должно быть достаточно tooidentify клиенты под угрозой для обработки. К сожалению, несмотря на кажущуюся правдоподобность, это ложное понимание. Причина Hello является обработка является эффект temporal и hello факторов, определяющих toochurn обычно находятся в переходных состояниях. Источником клиента tooconsider оставляя сегодня могут использоваться различные завтра и определенно будет различным шесть месяцев с текущего момента. Поэтому следует признать необходимость *вероятностной* модели.  

Этот отметить часто забывают в бизнесе, которой обычно является предпочтительным для business intelligence ориентированный подход tooanalytics, главным образом, так как он является более простого продавать и признает простой автоматизации.  

Однако promise hello аналитики самообслуживания с помощью студии машинного обучения том, что hello четыре категории сведений, вернуться в подразделение также становятся ценный источник для машинного обучения о обработки.  

Интересные еще одну функцию, поступающих в машинном обучении Azure — tooadd возможность hello репозиторий toohello пользовательский модуль стандартными модулями, которые уже доступны. Эта возможность по существу, создает tooselect возможности библиотеки, а также создать шаблоны для вертикальными рынками. Это важное различие машинного обучения Azure в Marketplace и введете слово hello.  

Мы надеемся, что toocontinue в этом разделе в анализа данных в будущем, особенно связанных toobig hello.
  

## <a name="conclusion"></a>Заключение
Этот документ описывает разумный подход tootackling hello распространенная проблема высок клиента с помощью универсального платформы. Мы рассмотрели прототип для моделей оценки и реализовали его с помощью Машинного обучения Azure. Наконец мы оценить точность hello и производительности решения hello прототип с учета toocomparable алгоритмами в SAS.  

**Дополнительная информация:**  

Оказался ли этот документ полезным для Вас? Отправьте нам свои отзывы. Сообщите нам по шкале от 1 (плохо) too5 (отлично), как вы Оцените этот документ и Поясните его эта оценка? Например:  

* Вы дали высокую оценку из-за toohaving хороших примеров, отличных снимков экрана, ясного изложения материала или другой причине?
* Вы дали низким из-за toopoor примеры, снимки экрана нечеткое или ясно записи?  

Ваши отзывы помогут нам улучшить качество hello технические документы, в будущем.   

[Отправить отзыв](mailto:sqlfback@microsoft.com).
 

## <a name="references"></a>Ссылки
[1] прогнозной аналитики: помимо hello прогнозов, W. McKnight сведения управления, июля и августа 2011 г. p.18 20.  

[2] Статья из Википедии. [Точность](http://en.wikipedia.org/wiki/Accuracy_and_precision).

[3] [CRISP-DM 1.0: пошаговое руководство по интеллектуальному анализу данных](http://www.the-modeling-agency.com/crisp-dm.pdf)   

[4] [Маркетинг в области больших объемов данных: эффективное привлечение клиентов и стимулирование развития бизнеса](http://www.amazon.com/Big-Data-Marketing-Customers-Effectively/dp/1118733894/ref=sr_1_12?ie=UTF8&qid=1387541531&sr=8-12&keywords=customer+churn)

[5] [Шаблон модели оттока клиентов Telco](http://gallery.cortanaintelligence.com/Experiment/Telco-Customer-Churn-5) в [коллекции Cortana Intelligence](http://gallery.cortanaintelligence.com/) 
 

## <a name="appendix"></a>Приложение
![][10]

*Рисунок 12: Снимок экрана с представлением прототипа оттока*

[1]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-1.png
[2]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-2.png
[3]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-3.png
[4]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-4.png
[5]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-5.png
[6]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-6.png
[7]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-7.png
[8]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-8.png
[9]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-9.png
[10]: ./media/machine-learning-azure-ml-customer-churn-scenario/churn-10.png
