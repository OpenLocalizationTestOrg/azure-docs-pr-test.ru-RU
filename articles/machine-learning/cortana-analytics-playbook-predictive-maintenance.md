---
title: "обслуживание aaaPredictive аэрокосмическое оборудование с Azure — шаблон решения аналитики Cortana | Документы Microsoft"
description: "Шаблон решения с использованием Microsoft Cortana Intelligence для прогнозируемого обслуживания в аэрокосмических, транспортных и обслуживающих компаниях."
services: cortana-analytics
documentationcenter: 
author: fboylu
manager: jhubbard
editor: cgronlun
ms.assetid: 2e8b66db-91eb-432b-b305-6abccca25620
ms.service: cortana-analytics
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: fboylu
ms.openlocfilehash: da863a89d2409a8b56b23066f15b4da13e1cd3d0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="cortana-intelligence-solution-template-playbook-for-predictive-maintenance-in-aerospace-and-other-businesses"></a>Сборник тренировочных заданий для шаблона решения Cortana Intelligence для прогнозируемого обслуживания в аэрокосмических и других компаниях
## <a name="executive-summary"></a>Аннотация
Диагностическое обслуживание является одним из hello наиболее затребованное приложений прогнозирующего анализа с unarguable преимуществ, включая большую экономию затрат. Это репертуара намеревается предоставления ссылок для превентивного обслуживания решений с приоритетом hello основных вариантов использования.
Подготовленный toogive hello чтения понимание hello наиболее распространенные бизнес-сценариев превентивного обслуживания трудности, допускающих бизнес-проблемы для таких решений, требуются данные toosolve этих проблем бизнеса, прогнозирующее моделирование методы toobuild решения с использованием таких данных и об оптимальных методах с архитектурой образец решения.
Кроме того, описываются особенности hello hello прогнозных моделей разработки, такие как конструируются, модель разработки и производительности оценки. По сути это репертуара объединяет в себе hello бизнеса и аналитических рекомендации, необходимые для успешной разработки и развертывания решений превентивного обслуживания. Эти правила являются аудитории hello подготовленного toohelp создания начальной решения с помощью набора аналитики Cortana и специально машинного обучения Azure качестве начальной точки в их долгосрочной стратегии превентивного обслуживания. Hello в документах, пакет аналитики Cortana и машинного обучения Azure можно найти в [Cortana Analytics](http://www.microsoft.com/server-cloud/cortana-analytics-suite/overview.aspx) и [машинного обучения Azure](https://azure.microsoft.com/services/machine-learning/) страниц.

> [!TIP]
> Технические руководства tooimplementing этот шаблон решения, см. в разделе [toohello техническое руководство по шаблон решения аналитики Cortana для превентивного обслуживания](cortana-analytics-technical-guide-predictive-maintenance.md).
> toodownload на диаграмме, которая содержится обзор архитектуры этого шаблона, в разделе [архитектура hello шаблон решения аналитики Cortana для превентивного обслуживания](cortana-analytics-architecture-predictive-maintenance.md).
> 
> 

## <a name="playbook-overview-and-target-audience"></a>Обзор сборника тренировочных заданий и его целевая аудитория
Это репертуара — организованный toobenefit Техническая и нетехническая аудитории с разных стран и интересы в пространстве превентивного обслуживания. Hello репертуара охватывает оба высокоуровневым аспектам hello различных типов решений превентивного обслуживания и подробные сведения о том, как tooimplement их. содержимое Hello сбалансирована для адаптации оба нужны только сведения о типе пространства и hello решение приложения, а также те, которым нужны tooimplement этих решений и поэтому заинтересованы в технические детали toohello аудитории.

Большая часть содержимого этого репертуара hello не приобретает знаний обработки и анализа предыдущих данных или опыта. Тем не менее некоторые части репертуара hello потребует немного Знакомство с toobe основные понятия обработки и анализа данных, чтобы понять сведения о реализации. Науки вводные данные уровня навыков, необходимых toofully выгода от материала hello в свернутых разделах.

Hello первую половину репертуара hello рассматриваются введение toopredictive обслуживания приложений, как tooqualify решении превентивного обслуживания коллекцию обычно используются вариантов с hello подробные сведения о бизнес-задачи, hello вокруг этих использования данных случаи и hello бизнес-преимущества реализации этих решений превентивного обслуживания. В этих разделах не требуются все технические знания в домене прогнозной аналитики hello.

В hello вторая часть репертуара hello мы рассмотрим типы hello прогнозирующего моделирования методов для превентивного обслуживания приложений и способы реализации этих моделей с помощью примеров из вариантов использования hello, описанные в первой половине hello репертуара hello. Для демонстрации описываются этапы предварительной обработки данных, в том числе рекомендации по созданию меток данных и проектированию признаков, выбору моделей, обучению, тестированию и оценке производительности. Эти разделы предназначены для технических специалистов.

## <a name="predictive-maintenance-in-iot"></a>Прогнозируемое обслуживание и IoT
влияние Hello оборудования незапланированных простоев может быть очень разрушительных для бизнеса. Это критическое tookeep поля оборудования под управлением производительности и использования toomaximize порядке и, сводя к минимуму ресурсоемкими и незапланированных простоев. Просто ожидание toooccur сбоя hello не является доступной в современных деловых операций сцены. tooremain конкурентных компаний искать новые способы toomaximize средства производительности, делая использование hello данных, собранных с различным каналам. Одно важное отличие tooanalyze такие сведения — tooutilize прогнозной аналитических методик, использующие результаты будущих toopredict исторических шаблонов. Вызывается один из наиболее популярных решений hello превентивного обслуживания, которой обычно могут быть определены как, но не только toopredicting возможных сбоев актива в hello ближайшее будущее, что этот hello активы можно отслеживать tooproactively идентификации ошибки и выполните действие перед hello сбоев. Эти решения обнаружить сбой шаблоны toodetermine активы, находящиеся на hello наибольшее риск сбоя. Такое раннее определение проблем позволяет развернуть ограниченные ресурсы обслуживания с наименьшими затратами, а также повысить качество и эффективность выполнения процессов логистической цепочки.

Подъем hello hello приложений Интернета вещей (IoT), прогнозирующее обслуживания получение возрастающей внимания в отрасли hello как hello сбора данных и обработки технологии достигла достаточно toogenerate передачи, хранения и анализа всех типы данных в пакетах, или в режиме реального времени. Такие технологии обеспечивают упрощения разработки и развертывания решений конца в конец с дополнительные аналитические решения с решениями диагностическое обслуживание возможно предоставление наибольшее преимущество hello.

Бизнес-проблемы в диапазоне домена hello превентивного обслуживания с высоким риском оперативной из-за сбоев toounexpected и ограниченное понимание hello основную причину проблемы в сложных бизнес-сред. Hello большую часть этих проблем можно по категориям toofall под hello следующие вопросы:

* Что такое hello вероятность того, что в hello ближайшее будущее завершается ошибкой компонента оборудования?
* Что такое hello оставшегося срока hello оборудования?
* Каковы hello причины сбоев и какие действия по обслуживанию должно быть выполнено toofix эти проблемы?

За счет использования превентивного обслуживания tooanswer эти вопросы бизнеса можно:

* Уменьшить эксплуатационный риск и увеличить доходность активов, выявляя сбои до их возникновения.
* Уменьшить объем ненужных операций обслуживания на основе времени и контролировать затраты на обслуживание.
* Улучшить общее представление о торговой марке, избавиться от плохой репутации и связанным с ней падением продаж из-за ухода клиентов.
* Снизить затраты на инвентаризацию, уменьшая уровни запасов благодаря прогнозированию точки повторного заказа.
* Обнаружение проблем с обслуживанием подключенного toovarious шаблонов

Диагностическое обслуживание обеспечивают предприятий с ключевые показатели эффективности таких как условия активов в режиме реального времени toomonitor оценки работоспособности приблизительное оставшееся время существования активов рекомендации для действий по обслуживанию упреждающего hello и предполагаемый порядок даты для замены частей.

## <a name="qualification-criteria-for-predictive-maintenance"></a>Квалификационные критерии для прогнозируемого обслуживания
Это важные tooemphasize, что не все варианты использования или бизнес-проблемы может эффективно решена превентивного обслуживания. Важные критерии квалификации, включают ли проблема hello прогнозирования по своей природе, очистить путь к действию существует в порядке tooprevent сбоев при их обнаружении заранее и что самое главное, данных с достаточно hello toosupport качества вариант использования доступен. Здесь мы сосредоточим внимание на требования к данным hello для построения решения успешно превентивного обслуживания.

При построении моделей прогнозирования, мы используем модели hello tootrain исторических данных, который затем распознает скрытых закономерностей и дальнейшей идентификации этих шаблонов в hello будущие данные. Эти модели для обучения с примерами, описываемого их функций и hello целью прогноза. Hello обученной модели — это ожидаемое toomake прогнозы на целевом сервере hello только посмотреть hello функции hello новые примеры. Важно, что функции hello модели отслеживания hello связь между она hello целью прогноза. Действующие модели машинного обучения, мы должны обучающих данных, которая включает функции, которые фактически иметь прогнозируемой мощностью сторону hello целевого объекта данных hello значение прогноза tootrain должно быть tooexpect цель соответствующие toohello прогноза точное прогнозы.

Например если целевой объект hello сбоев toopredict колес, обучение hello обучающих данных, должен содержать колесо-файлами (например данные телеметрии, отражая состояние работоспособности hello колеса, расстояние hello, автомобиль нагрузки, и т. д.). Тем не менее если целевой объект hello сбоев ядра обучение toopredict требуется другой набор обучающих данных, которая содержит функции, относящиеся к ядра. Перед построением прогнозных моделей, ожидается hello бизнес-эксперт toounderstand hello данных релевантности требование и предоставляет набор знаний домена hello, необходимые tooselect соответствующего подмножества данных для анализа hello.

Существует три источника такие важные данные, которые мы искать при уточнение бизнеса проблемы toobe, подходящий для решения превентивного обслуживания:

1. Журнал сбоев. Как правило, в приложениях прогнозируемого обслуживания сбои происходят очень редко. Однако при построении прогнозных моделей, прогнозирующих сбоев, hello алгоритм должен toolearn hello нормальной работе шаблон, а также шаблон hello сбоя с помощью процесса обучения hello. Следовательно очень важно, что hello обучающие данные содержат достаточное количество примеров в обе категории в порядке toolearn этих двух различных шаблонов. Поэтому требуется, чтобы данные содержали достаточное количество событий сбоев. События ошибок можно найти в записи обслуживания и журнал замены части или аномалий в hello обучающих данных также может использоваться как сбои, идентифицируемый hello специалистами в предметной области.
2. Журнал обслуживания или восстановления: Основные источника данных для превентивного обслуживания решений является Здравствуйте журнал обслуживания подробные средства hello, содержащий сведения о замене компонентов hello, активирует профилактического обслуживания, выполненной и т. д. Очень важно, toocapture приводит эти события, как эти шаблоны снижения влияния hello и отсутствие этих сведений в заблуждение результатов.
3. Машины условия: В порядке toopredict сколько дней (часы, километров, транзакции, т. д.) компьютере длится до сбоя, предполагается, что состояние работоспособности компьютера hello приводит к снижению времени в ходе выполнения операции. Таким образом предполагается hello данных toocontain переменной времени функции, включающие этот шаблон время существования и любых аномалий, которые ведет toodegradation. В приложениях IoT hello данные телеметрии из разных датчики представляют один хороший пример. В порядке toopredict Если машина будет toofail в течение времени, в идеале hello следует собирать данные снижая тренда за этот промежуток времени до события hello причину ошибки.

Кроме того необходимо указать данные, которые напрямую, связанных с toohello операционной условия целевого ресурса hello прогноза. решение Hello объекта зависит от обоих деловых потребностей и данных доступности. Hello ведения обучение колесо предсказания ошибок в качестве примера мы может предсказать «Если колесо hello является постоянной toohave сбой» или «hello всей обучение происходит проблемы». Hello сначала один предназначен для более определенный компонент, а второй предназначен сбой обучение hello. Hello второе — это более общих вопрос, который требуется более разнесенной элементов данных, чем hello первое, что затрудняет toobuild модели. И наоборот попытки сбоев колесо toopredict просто просмотрев данные условия высокоуровневые обучение hello может оказаться нецелесообразно содержит сведения на уровне компонента hello. Как правило это более разумным события конкретный сбой toopredict сравнению с более общими.

Один часто вопрос, обычно задаваемые о данные журнала ошибки «как многие события сбоя: требуется tootrain модели и сколько считается «достаточно»? Без сомнения toothat очистить ответов в сценариях много прогнозирующей аналитики, это обычно hello качества данных hello, который определяет, что является приемлемым. Если hello набора данных не содержит функции, соответствующие toofailure прогноза, затем даже при наличии многие события сбоя создания хорошей модели невозможно. Тем не менее правило hello является что hello дополнительные hello сбоя события hello лучше hello модель является и приблизительной оценки того сколько примеры сбоя требуются очень контекст и мер в зависимости от данных. Эта проблема описывается в разделе hello для обработки несбалансированных наборах данных, где мы предложить toocope методы с hello проблему отсутствия достаточное количество сбоев.

## <a name="sample-use-cases"></a>Примеры вариантов использования
В этом разделе приведен ряд вариантов использования прогнозируемого обслуживания в некоторых отраслях, например изучение воздушно-космического пространства, техническое оборудование и транспорт. Детализирует каждый подраздел в варианты использования hello собираются из этих областей и описывает бизнес-проблемы, hello данных окружающей hello бизнес-задачи и преимущества hello решения превентивного обслуживания.

### <a name="aerospace"></a>Изучение воздушно-космического пространства
#### <a name="use-case-1-flight-delay-and-cancellations"></a>Вариант использования 1. Задержка и отмена рейсов
##### <a name="business-problem-and-data-sources"></a>*Бизнес-проблемы и источники данных*
Одним из основных бизнес-проблемы hello, с которыми сталкиваются авиакомпании является hello значительные затраты, связанные с рейсов, был отложен из-за проблем toomechanical. Если невозможно восстановить hello механические сбоев, рейсов даже может быть отменена. Это влечет за собой большие затраты, так как задержки создают проблемы при планировании и выполнении операций, ухудшают репутацию, приводят к неудовлетворенности клиентов и многим другим проблемам. Авиакомпании особенно заинтересованы в упреждающем прогнозировании подобных сбоев, позволяющем сократить количество задержек и отмен рейсов. Цель Hello решения превентивного обслуживания hello в этих случаях — toopredict hello вероятность самолет отложено или отменено, основанных на источниках данных соответствующие например обслуживания журнала и рейса данные о маршруте. Hello двух источников данных основных для данного случая: hello полета и журналы страницы. Рейса участок данные включают данные о hello рейса маршрута сведения, например hello Дата и время отправления и прибытия, отправления и прибытия аэропорты, и т. д. Данные журнала страницы содержит последовательность кодов ошибок и обслуживания, которые записываются hello обслуживающий персонал.

##### <a name="business-value-of-hello-predictive-model"></a>*Ценность для бизнеса hello прогнозной модели*
Использование hello доступных статистических данных, прогнозирующей модели был создан с помощью алгоритма классификации нескольких toopredict hello разновидность механические проблемы и приводит к появлению задержки или отмене полета в hello ближайшие 24 часа. По прогноза, необходимости обслуживания действия могут быть предприняты риск hello toomitigate во время обслуживания самолете и тем самым предотвратить возможные задержки или отмены. С помощью веб-службы машинного обучения Azure, hello прогнозных моделей можно легко и быстро интегрировать в существующие операционных систем авиакомпании. 

#### <a name="use-case-2-aircraft-component-failure"></a>Вариант использования 2. Сбой элемента конструкции самолета
##### <a name="business-problem-and-data-sources"></a>*Бизнес-проблемы и источники данных*
Самолет модули являются очень конфиденциальные и затратными частей оборудования и engine часть замен являются наиболее распространенные задачи обслуживания hello в отрасли авиакомпании hello. Решения обслуживания для авиакомпаний требуют тщательного управления доступностью, доставкой и планированием запасов компонентов. Идет аналитики могут toogather на надежность компонента приводит сокращения toosubstantial на инвестиционными затратами. Источник основных данных Hello для данного случая находится данные телеметрии, собираемых с ряд датчиков в почте сообщения hello самолет в условие hello самолет hello. Обслуживание записи были также используется tooidentify произошел сбой компонента и замен.

##### <a name="business-value-of-hello-predictive-model"></a>Ценность для бизнеса hello прогнозной модели
Модель классификации нескольких класса был построен, который прогнозирует вероятность сбоя из-за tooa из следующего месяца hello определенных компонентов. Применив эти решения, авиакомпании могут снизить затраты на восстановление компонентов, повысить доступность запасов компонентов, снизить объем запасов соответствующего актива и улучшить планирование обслуживания.

### <a name="utilities"></a>Техническое оборудование
#### <a name="use-case-1-atm-cash-dispense-failure"></a>Вариант использования 1. Сбой в устройстве для выдачи наличных банкомата
##### <a name="business-problem-and-data-sources"></a>*Бизнес-проблемы и источники данных*
Руководители в актив служб с интенсивными вычислениями отраслях часто состояния, что основной рабочей риск tootheir компаний является непредвиденных сбоев свои ресурсы. Например, самая распространенная и часто встречающаяся проблема в банковской сфере — сбой оборудования, например банкоматов. Из-за такой проблемы операторы устройств склоняются к выбору решений прогнозируемого обслуживания. В этом вариантов использования прогноз проблема заключается в toocalculate hello вероятность, что транзакция изъятия денежных ATM прервана из-за tooa в распределитель hello денежных средств, например застряла бумага или сбой части. В этом случае применяются такие основные источники данных, как показания датчиков, предоставляющие информацию об измерениях при выдаче купюр, и записи об обслуживании, собираемые с течением времени. Данные датчиков включали показания датчиков на каждую выполненную операцию и выданную купюру. измерения предоставленных показания датчика Hello например промежутков между заметками, толщину, обратите внимание, расстояние прибытия и т. д. Данные обслуживания включали в себя коды ошибок и сведения о восстановлении. Эти свойства были случаи сбоев используется tooidentify.

##### <a name="business-value-of-hello-predictive-model"></a>*Ценность для бизнеса hello прогнозной модели*
Два прогнозных моделей были построены toopredict сбоям в снятие наличными hello и в отдельных заметки hello, выданных во время транзакции. Из-за возможности toopredict сбои транзакций заранее, может быть банкоматы заранее обслуживание tooprevent сбоев началась. С прогнозом сбоя Обратите внимание, если транзакция, вероятнее всего toofail была прервана из-за tooa Примечание распределять сбоя, может быть наиболее процесса toostop hello и предупреждать hello клиенту за незавершенной транзакции, а не ожидание hello обслуживания службы tooarrive после возникновения ошибки hello, что может привести к неудовлетворенности клиентов toolarger.

#### <a name="use-case-2-wind-turbine-failures"></a>Вариант использования 2. Сбои ветроэлектрической установки
##### <a name="business-problem-and-data-sources"></a>*Бизнес-проблемы и источники данных*
С raise hello объекта среды осведомленности ветер турбины стали один из основных источников поколения энергии hello и они обычно стоимости миллионы долларов. Одним из ключевых компонентов турбины воздушного hello является двигатель hello генератор, который имеется много датчики, помогает toomonitor турбину условия и состояния. Hello показания датчика содержат полезные сведения, который можно использовать toobuild toopredict прогнозной модели критических ключевые показатели эффективности (KPI) например toofailure среднее время для компонентов турбину воздушного hello. Данные для этого варианта использования собраны с нескольких ветроэлектрических установок, расположенных на трех фермах. Измерения из закройте tooa, в котором сотен датчики из каждого турбина были записаны каждые 10 секунд, в течение одного года. Эти показания включают в себя измерения, например температуры, частоты оборотов генератора, мощности ветроэлектрической установки и обмотки генератора.

##### <a name="business-value-of-hello-predictive-model"></a>*Ценность для бизнеса hello прогнозной модели*
Прогнозных моделей были построены tooestimate оставшегося срока для генераторов и датчики температуры. Для прогнозирования вероятности hello сбоя, сотрудники службы поддержки могут сосредоточиться на подозрительные турбины, скорее всего, toofail скоро обслуживания regimes toocomplement обслуживания на основе времени.
Кроме того прогнозных моделей перевести уровень toohello анализ влияние различных факторов toohello вероятность сбоя, который помогает toohave бизнес лучше понять hello корневой причиной проблемы.

#### <a name="use-case-3-circuit-breaker-failures"></a>Вариант использования 3. Сбои размыкателя цепи
##### <a name="business-problem-and-data-sources"></a>*Бизнес-проблемы и источники данных*
Электроэнергии и газа операций, включая создание, распространения и продажи электрической энергии требуется значительный объем обслуживания, чтобы убедиться, что строки power работают во всех время доставки tooguarantee toohouseholds энергии. Сбой таких операций важно как устаревший power проблемами в hello областей, они встречаются почти для всех сущностей. Выключатели очень важны для таких операций, как это устройство, Вырезать переменного тока в случае проблем и циклов tooprevent строки toopower повреждения ситуации. Бизнес-задачи для данного случая является toopredict Размыкатель цепи сбоев заданного обслуживания журналы, запоминание команд и технические спецификации.

Три основных данных источники для этого случая обслуживания журналы, которые включают в себя действия по исправлению, эффективное и систематическую, рабочих данных, включая команды автоматической и ручной отправки toocircuit средства разбиения по например, для открытия и закрытия действия и техническим Спецификация данные о свойствах каждого Размыкатель цепи, такие как год внесены, расположение, модели, и т. д.

##### <a name="business-value-of-hello-predictive-model"></a>*Ценность для бизнеса hello прогнозной модели*
Помогают снизить затраты на восстановление и увеличить hello жизненного цикла оборудования, такого как выключатели превентивного обслуживания. Эти модели также помочь повысить качество hello hello сети питания, поскольку модели обеспечивают предупреждения заранее, уменьшение непредвиденных сбоев, помогающим службы toohello toofewer перерывы в работе.

#### <a name="use-case-4-elevator-door-failures"></a>Вариант использования 4. Сбои в работе дверей лифта
##### <a name="business-problem-and-data-sources"></a>*Бизнес-проблемы и источники данных*
Наиболее крупные компании элеваторный обычно содержат миллионы эскалаторах под управлением вокруг Здравствуй, мир. toogain конкурентное преимущество они сосредоточиться на надежность, который является то, что важно большинство пользователей tootheir. Рисование в hello Интернета вещей, существует опасность hello путем подключения Облачное toohello эскалаторах и сбор данных от элеваторный датчиков и систем, они являются данных может tootransform в ценные бизнес-аналитики, что значительно повышает производительность операций с предложения прогнозирования и preemptive обслуживания, не является исключением, еще доступны toohello конкурентов. Hello бизнес-требований для этого случая является tooprovide вызывают базы знаний прогнозной приложение, которое прогнозирует hello потенциальных сбоев дверцы. Hello необходимые данные для этой реализации состоит из трех частей, которые являются элеваторный статических функций (например идентификаторы контракта частота обслуживания, построение типа и т. д.), сведения об использовании (например количество циклов дверца, дверца среднего времени закрытия, т. д.) и Сбой журнала (т. е. записи журнала и их причины).

Модель мультиклассовой логистической регрессии был построен с hello прогноза машинного обучения Azure toosolve проблема, с hello встроенными статические функции и данные об использовании компонентов и hello причин сбоя исторические записи в виде метки класса. Это прогнозной модели потребляется приложения на мобильном устройстве, используемый специалистов поле toohelp повысить эффективность работы. Если Технический специалист переходит на сайте toorepair элеваторный, оно может ссылаться toothis приложения рекомендуемые причины и рекомендации курсы обслуживания действия toofix hello элеваторный двери максимально возможной скоростью.

### <a name="transportation-and-logistics"></a>Транспорт и логистика
#### <a name="use-case-1-brake-disc-failures"></a>Сценарий использования 1. Повреждение тормозных дисков
##### <a name="business-problem-and-data-sources"></a>*Бизнес-проблемы и источники данных*
Обычно порядок обслуживания автомобилей предусматривает восстановительный ремонт и плановое техническое обслуживание. По исправлению обслуживания означает, что в этой vehicle hello восстановления после сбоя в работе которой может вызвать серьезные неудобства toohello драйвер в результате непредвиденное время неисправности и hello на toomechanic посещение. Большинство автомобилей, также субъекта tooa профилактического обслуживания политику, которая требует выполнения определенных проверок в расписание, которое вступает в учетной записи hello фактическое состояние подсистем car hello. Ни один из этих подходов не позволяет полностью устранить проблемы. Hello определенного варианта использования здесь является прогноз сбоя диска тормоза на основании данных, собранных датчиков в системе hello шина автомобиля, который отслеживает исторических определяющим шаблоны и другие условия, которые hello car предоставляется. Hello наиболее важным источником данных для этого случая является hello датчиков, измерения, например, параметры ускорения тормозным шаблонов, пешком расстояния, скорости, и т. д. Эти сведения вместе с другой статической информацией, такой как данные о признаках автомобиля, способствуют созданию подходящего набора предикторов, которые можно использовать в прогнозной модели. Другой набор важную информацию — данных сбоя hello, которое выводится из заказа часть базы данных (для использования дат заказов на запчасти tookeep hello и количества как автомобили обслуживаются в дилеров hello).

##### <a name="business-value-of-hello-predictive-model"></a>*Ценность для бизнеса hello прогнозной модели*
ценность для бизнеса Hello прогнозной подход является существенным. Система превентивного обслуживания можно запланировать продавца toohello посещение, на основе прогнозной модели. Hello модели могут основываться экстрасенсорное информацию, которая является числом, представляющим hello текущим состоянием hello car и hello пешком журнала. Этот подход можно свести к минимуму риск hello непредвиденных сбоев, которые также могут происходить до следующего периодического обслуживания hello.
Может также снизить объем hello ненужные профилактического обслуживания. Драйвер можно заранее проинформировать, изменение частей может потребоваться несколько недель и продавца hello питания с этой информацией. Hello продавца затем удалось подготовить пакет отдельных обслуживания для драйвера hello заранее.

#### <a name="use-case-2-subway-train-door-failures"></a>Сценарий использования 2. Неполадки в работе дверей вагонов метро
##### <a name="business-problem-and-data-sources"></a>*Бизнес-проблемы и источники данных*
Одной из основных причин hello задержек и проблем на операции метро — сбоев дверца обучение автомобилей. Прогнозирование, если обучение автомобиля, возможно, сбой дверца или которой может tooforecast hello число дней до hello Далее door сбоя является крайне важно прогнозирование. Он предоставляет toooptimize обучение hello возможности дверца обслуживания и уменьшить hello обучение время простоя.

#### <a name="data-sources"></a>Источники данных
Этот сценарий использования допускает три типа данных: 

* **Обучение данные события**, являющееся hello записей журнала событий обучение 
* **данные об обслуживании** , такие как типы обслуживания, типы распоряжений о проведении работ, коды приоритета;  
* **записи о сбоях**.

##### <a name="business-value-of-hello-predictive-model"></a>*Ценность для бизнеса hello прогнозной модели*
Две модели, построенные вероятность день сбоя toopredict для Далее с помощью двоичной классификации и дней до сбоя с помощью регрессии. Аналогично hello предыдущих случаев hello моделей создайте tooimprove замечательные возможности качества обслуживания и повысить степень удовлетворенности дополняя regimes регулярного обслуживания hello.

## <a name="data-preparation"></a>Подготовка данных
### <a name="data-sources"></a>Источники данных
Общие элементы данных Hello для превентивного обслуживания проблемы можно интерпретировать следующим образом:

* История ошибок: hello журнал сбоя компьютера или компонент машине hello.
* Журнал обслуживания: hello журнал восстановления компьютера, например, коды ошибок, предыдущих действий по обслуживанию или замены компонента.
* Условия и об использовании компьютера: hello рабочим условиям компьютера, например данные, полученные от датчиков.
* Машинные компоненты: функции hello машины, например размер engine сделать и модели, расположение.
* Функции оператора: hello функции hello оператора, например пол, опыта.

Это возможно и обычно случай hello, что сбой журнала содержится в журнал обслуживания, например, в форме hello специальные коды ошибок или дат заказов для запасных частей. В таких случаях сбои могут быть извлечены из данных hello обслуживания. Кроме того, у различных бизнес-объектов может быть множество других источников данных, которые влияют на шаблоны сбоев, помимо описанных в этой статье. Они могут быть определены по журналу hello специалистами в предметной области при построении прогнозных моделей.

Ниже приведены некоторые примеры элементов данных из сценариев использования.

Журнал сбоев: даты задержек рейсов, даты возникновения неполадок элементов конструкции самолетов и их типы, сбои при выдаче наличных из банкомата, сбои в работе дверей вагонов метро и лифтов, даты заказов на замену поврежденных дисков, даты сбоев в работе ветроэлектрической установки и сбои в выполнении команд размыкателя цепи.

Журнал обслуживания. Журналы ошибок рейсов, журналы ошибок операций банкоматов, записи об обслуживании вагонов, в том числе о типах обслуживания, краткое описание и т. д., а также записи об обслуживании размыкателей цепи.

Условия и использование машин. Маршруты полетов и время вылетов, данные, собранные с датчиков двигателей самолетов, показания датчиков операций банкоматов, данные о событиях вагонов, показания датчиков ветроэлектрических установок, лифтов и автомобилей.

Признаки машин. Технические характеристики размыкателей цепи, такие как уровень напряжения и географическое положение, или признаки автомобилей, такие как марка, модель, размер двигателя, типы покрышек, серия и т. д.

Привет приведенному выше источников данных, hello двух основных типов данных, мы наблюдать в домене превентивного обслуживания являются временных данных и статические данные.
История ошибок, условия машины восстановить журнал, журнал использования почти всегда сопряжен с метками времени, указывающее, hello время сбора данных для каждой части данных. Машины функций и оператор в целом являются статическими, так как они обычно описывают hello технические спецификации машины или свойств оператора. Это возможно, эти функции toochange со временем, и если таким образом они должны рассматриваться как источники данных с меткой времени.

### <a name="merging-data-sources"></a>Объединение источников данных
Перед тем как попасть в любой тип конструируются или меток процесса, нам нужно toofirst Подготовка в функции toocreate форму, необходимую hello из наших данных. Hello конечной целью является toogenerate запись для каждой единицы времени для каждого ресурса, с его функций и метки toobe передавались в hello алгоритм машинного обучения. В порядке tooprepare, очистить окончательного набора данных следует выполнить некоторые предварительной обработки действия. Первый шаг — toodivide hello интервал сбора данных в единицах времени, где каждая запись принадлежит tooa единицу времени для актива. Сбор данных можно также разделить других устройств, например действия, но для простоты мы используем единиц времени для оставшихся hello объяснения hello.

Hello единицу измерения времени можно в секунд, минуты, часы, дни, месяцы, циклов, километров или транзакции в зависимости от эффективности hello подготовки данных и изменениями hello в условиях hello hello средства из toohello единицы времени других или других Факторы toohello конкретного домена. Другими словами единицы времени hello не имеет toobe hello таким же, как hello частоту сбора данных, как много вариантов данных может не отображать ее отличие от одной единицы toohello других. Например если значения температуры были осуществляется каждые 10 секунд, комплектация единица измерения времени 10 секунд для анализа всей hello увеличивает hello количество примеров не требуется никаких дополнительных сведений. Оказаться более эффективным будет среднее toouse более часа в качестве примера.

Пример универсального данные схемы для hello возможные источники данных описывается в hello, в предыдущем разделе:

Обслуживание записей: это записи операции обслуживания, выполненные hello. Здравствуйте, необработанные данные обслуживания обычно поступают с Идентификатором ресурса и отметку времени, описывающие, какие действия по обслуживанию, выполненных в это время. В случае такие необработанные данные действия по обслуживанию должны toobe, переведенных в категориальные столбцы по каждой категории соответствующий tooa обслуживания тип действия. Hello схемы основных данных для обслуживания записей будет включать столбцы для действия Идентификатором, время и обслуживания активов.

Сбой записи: это hello записей, принадлежащих toohello целью прогноза, который мы называем сбоев или по причине сбоя. Они могут представлять собой конкретные коды ошибок или события сбоев, определенные согласно конкретным условиям бизнеса. В некоторых случаях данные включают несколько кодов ошибок, некоторые из них соответствует toofailures интерес. Не все ошибки являются целью прогноза, поэтому другие ошибки, они обычно используются tooconstruct функции, которые могут быть связаны с ошибками. Схема Hello основных данных для записи будет включать идентификатор ресурса, времени и сбоя или столбцы причина сбоя, если причина доступен.

Компьютер условия: это предпочтительно наблюдение в реальном времени данных о hello рабочим условиям hello данных. Например при сбое дверца время закрытия и открытия дверцы являются хорошими индикаторами о hello текущим состоянием двери. Hello основные данные схемы для машины условий вошли бы столбцы значение идентификатора, время и условие активов.

Данные машина и оператор: данные машина и оператор могут быть объединены в одну схему tooidentify актива, которому было эксплуатируется какого оператора вместе со свойствами активов и оператор. Например, автомобиль обычно принадлежит водителю, для которого характерны такие атрибуты, как возраст, опыт вождения и т. д. Если эти данные со временем меняются, следует включить в них столбец времени и рассматривать их в качестве переменных по времени данных для создания признаков. Идентификатор ресурса, активов, идентификатор оператора и оператора функций, включит Hello основные данные схемы для машины условий.

Hello окончательной таблицы перед созданием пометки и возможность создания путем присоединения таблицы условий машины с записями сбоя на идентификатор ресурса и полями времени слева. Затем эту таблицу можно объединить с записями об обслуживании по полям идентификатора актива и времени и, наконец, с признаками оператора и машины по идентификатору актива. Первый левое соединение Hello оставляет значения null для столбца сбоя при машина находится в обычном режиме, их можно вычислять значение индикатора для нормальной работы. Этот столбец сбоя является используется toocreate метки для hello прогнозной модели.

### <a name="feature-engineering"></a>Проектирование признаков
Первым шагом Hello в моделировании является конструируются. Hello идея создания компонентов является tooconceptually описания и создать абстрактное состояние работоспособности компьютера в определенный момент времени с помощью исторические данные, собранные точку toothat времени. В следующем разделе hello мы предлагаем описание типа hello методов, которые могут использоваться для превентивного обслуживания и как пометки hello выполняется для каждого метода. Hello точный метод, который должен использоваться зависит от данных и бизнес-проблемы hello. Тем не менее инженерных описанных ниже методов функции hello можно использовать как базовый план для создания признаков. Ниже мы обсудим запаздывания функции, которые должны быть созданы из источников данных, которые входят в состав метки времени, а также статические объекты, созданные из статических данных-источников, приведены примеры из hello варианты использования.

#### <a name="lag-features"></a>Признаки задержек
Как упоминалось ранее, в диагностическое обслуживание исторических данных обычно поставляется с отметками времени, указывающее, hello время сбора данных для каждой части данных. Существует множество способов создания признаков на основе данных hello, входящий в состав данных отметку времени. В этом разделе мы рассмотрим некоторые из методов, которые используются для прогнозируемого обслуживания. Тем не менее не следует ограничиваться только этими методами. Поскольку конструируются считается toobe одной из наиболее creative областей hello прогнозирующего моделирования, может быть множество других возможностей toocreate способами. Здесь мы предлагаем лишь некоторые общепринятые методы.

##### <a name="rolling-aggregates"></a>*Скользящее агрегирование*
Для каждой записи ресурса выбирается скользящее окно размером «W», это hello число единиц времени, мы хотели бы toocompute исторических статистических функций для. Мы вычисления последовательные статистические функции, с использованием периодов Привет W до даты hello этой записи. Некоторые примеры скользящих агрегатов могут быть скользящими количествами или значениями, стандартными отклонениями, выбросами на основе стандартных отклонений, измерениями совокупных значений, а также максимальными и минимальными значениями для окна. Другим способом интересные — toocapture тенденции изменения и пики изменений на уровне с помощью алгоритмов, которые обнаружения аномалий в данных с помощью алгоритмов обнаружения аномалий.

Для демонстрации, представлена на рисунке 1, где мы представляют значения датчика, записанные для актива для каждой единицы времени с hello синие линии и пометить hello скользящее среднее функцию вычисления для W = 3 для записей hello момент t<sub>1</sub> и t<sub>2 </sub> которого обозначаются оранжевый и зеленый группирований соответственно.

![Рисунок 1. Признаки для скользящих агрегатов](media/cortana-analytics-playbook-predictive-maintenance/rolling-aggregate-features.png)

Рисунок 1. Признаки для скользящих агрегатов

В качестве примеров самолет сбоя компонента значения датчика из последние три дня и последний день на прошлой неделе были используется toocreate последовательное означает, стандартное отклонение и функции sum. Аналогичным образом для сбоев банкоматов использованы признаки необработанных значений датчиков и скользящих средних, медианы, диапазона, стандартных отклонений, множественных выбросов за пределы трех стандартных отклонений, а также самых высоких и низких совокупных значений.

Для прогноза задержки авиарейсов количество кодов ошибок из прошлой неделе были toocreate используемых функций. При сбое дверца обучение счетчики событий hello на hello последний день количество событий по hello последние 2 недели и дисперсию значений счетчика событий hello предыдущие 15 дней были функции lag используется toocreate. Некоторые подсчеты использовались для обслуживания при связанных событиях.

Кроме того, если выбрать очень большое значение W (например, годы), существует возможность записывает toolook весь журнал hello актива, например подсчет всех обслуживания, сбои и т. д. до вызова метода hello время записи hello. Этот метод был использован для подсчета Размыкатель цепи сбоев для hello последние три года. Для сбоев обучение все события обслуживания были учитываются при подсчете toocreate toocapture функции hello долгосрочного обслуживания эффекты.

##### <a name="tumbling-aggregates"></a>*Агрегаты для переворачивающихся окон*
Для каждой записи с меткой, актива, выбирается окно размером «W -<sub>k</sub>«где k — номер hello или windows размера «W», что мы хотим toocreate запаздывания функции для. «k», могут быть получены как большого числа toocapture долгосрочной снижение шаблонов или небольшое число toocapture краткосрочной эффекты. Затем мы используем k переворачивающиеся окна W -<sub>k</sub> , W -<sub>(k-1)</sub>,..., W -<sub>2</sub> , W -<sub>1</sub> toocreate агрегатные функции для периодов Привет перед записью hello Дата и время (см. рис. 2). Они также собирающих windows на уровне записей hello для единицы времени, которая не фиксируется на рисунке 2, но hello идея заключается в том же Здравствуйте, как показано на рис. 1 где t<sub>2</sub> также используется toodemonstrate hello вводит эффект.

![Рис. 2. Переворачивающееся статистические функции](media/cortana-analytics-playbook-predictive-maintenance/tumbling-aggregate-features.png)

Рис. 2. Переворачивающееся статистические функции

Например воздушного турбины, W = 1 и k = 3 месяца были используется toocreate функции lag для каждого hello последние 3 месяца, с помощью верхней и нижней выбросы.

#### <a name="static-features"></a>Статические признаки
Ниже приведены технические спецификации hello оборудования, такого как Дата производства, номер модели, расположение и т. д. Хотя функции lag главным образом, числовых, статических функций, как правило, становятся категориальные переменные в моделях hello. Для примера использованы такие свойства размыкателя цепи, как показатели напряжения, тока и питания, а также типы трансформаторов, источники питания и т. д. При сбое диска тормоза hello тип велосипеда колес, такие как в том случае, если они являются сплава или стали были использованы в качестве некоторые статические функции hello.

При создании признаков следует выполнить несколько важных шагов, к которым относятся обработка отсутствующих значений и нормализация. Существует множество методов заполнения отсутствующих значений и нормализации данных, которые не рассматриваются в этой статье. Однако это полезно tootry toosee различные методы, если увеличение производительности прогноза невозможна.

Таблица окончательного функции Hello после функции проектирования этапы, описанные в hello разделе должна иметь вид при единицей времени является день следующие схемы данных пример hello:

| Идентификатор актива | Время | Столбцы признаков | Метка |
| --- | --- | --- | --- |
| 1 |День 1 | | |
| 1 |День 2 | | |
| ... |... | | |
| 2 |День 1 | | |
| 2 |День 2 | | |
| ... |... | | |

## <a name="modeling-techniques"></a>Методы создания моделей
Диагностическое обслуживание — это богатый домен, часто применением бизнес-задач, которые может быть неприемлемо из многих различных углов hello прогнозирующего моделирования перспективы. В следующих разделах hello представлены основные методы, которые используется toomodel различные вопросы можно с помощью решений для превентивного обслуживания. Несмотря на сходства моделей, для них характерны разные способы проектирования меток, которые подробно описаны здесь. В качестве сопутствующей ресурса можно ссылаться шаблон превентивного обслуживания toohello, включенный в hello эксперименты в машинном обучении Azure. Hello ссылки toohello online материалы для этого шаблона приведены в разделе "ресурсы" hello. Вы увидите некоторые инженерные методики, описанные выше функции hello и моделирования метод описан в следующих разделах hello hello применение самолет toopredict обработчика ошибок с помощью машинного обучения Azure.

### <a name="binary-classification-for-predictive-maintenance"></a>Двоичная классификация для прогнозируемого обслуживания
Двоичная классификация для превентивного обслуживания — hello используется toopredict вероятность того, что происходит сбой оборудования в течение время в будущем. Hello период времени определяется и на основе бизнес-правил и данных hello под рукой. Некоторые распространенные временных периодов, интереса минимальное время, необходимое toopurchase запасные части tooreplace скорее всего, toodamage компоненты или время необходимые toodeploy обслуживания ресурсы tooperform обслуживания подпрограммы toofix hello проблемы, скорее всего, toooccur в этом домене период времени. Мы обозначим этот период в будущем X.

В порядке toouse двоичной классификации нам нужна tooidentify два вида примеры, которые мы называем положительные и отрицательные. В каждом примере является запись, которая принадлежит tooa единицу времени для актива, по существу, описания и абстрагирования его рабочих условиях единицу времени toothat через конструируются использование источников данных журнала и описано выше. В контексте hello двоичной классификации для превентивного обслуживания, тип положительное означает сбоев (метка 1) и отрицательное тип обозначает обычных операций (Метка = 0) которых типа категориальные метки. Задача Hello — toofind модель, которая определяет каждый новый пример, как вероятность toofail или работать в обычном режиме в пределах hello рядом X единиц времени.

#### <a name="label-construction"></a>Проектирование меток
В порядке toocreate hello tooanswer прогнозной модели вопрос «Какова вероятность hello, hello завершается с ошибкой активов hello рядом X единиц времени?», пометки выполняется путем ведения X сбой предыдущего toohello записей актива и пометки их как «о toofail» (метка = 1) При пометку всех записей как «обычная» (Метка = 0). В этом методе метки являются категориальными переменными (см. рис. 3).

![Рис. 3. Создание меток для двоичной классификации](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-binary-classification.png)

Рис. 3. Создание меток для двоичной классификации

Для задержки рейсов и отмены X выбирается как задержки toopredict один день в hello каждые 24 часа. Всем рейсам в период 24 часов до сбоя присвоена метка 1. Для денежных ATM распределять сбоев, две модели двоичной классификации были построены вероятность сбоя toopredict hello транзакции в hello следующих 10 минут, и также toopredict hello вероятность сбоя в hello следующие 100 заметки выданных. Все транзакции, выполненные в hello последние 10 минут после сбоя hello помечены как 1 для первой модели hello. И все заметки, выданных в hello последние 100 примечания о сбое были помечены как 1 для второй модели hello. Для сбоев Размыкатель цепи задачу hello является hello toopredict вероятность того, что hello следующей команды Размыкатель цепи завершается ошибкой в этом случае X выбирается команда будущих toobe один. Для обучения дверца сбои модель двоичной классификации hello создан toopredict сбоев в пределах hello последующие 7 дней. При сбое в работе ветроэлектрической установки для X задано значение «3 месяца».

Воздушного турбину и обучение дверца случаи, также используются для регрессии анализ toopredict оставшиеся срок службы с помощью hello и те же данные, но за счет использования другую стратегию меток, который описывается в следующем разделе hello.

### <a name="regression-for-predictive-maintenance"></a>Регрессии для прогнозируемого обслуживания
Модели регрессии в диагностическое обслуживание, используемые toocompute оставшегося срока (RUL) актива, в которой определяется, как hello количество времени, hello активов работает, прежде чем произойдет сбой следующей hello. То же, что двоичной классификации, в каждом примере является запись, которая принадлежит tooa единицу измерения времени «Y» для актива. Однако в контексте hello регрессии hello предназначена toofind модель, которая вычисляет hello оставшийся срок службы в каждом примере новый как непрерывное число, являющееся hello период времени, оставшееся до сбоя hello. Мы называем некоторые кратно Y этого периода времени. В каждом примере также имеет оставшегося срока которого рассчитывается путем измерения hello оставшееся количество времени, например до следующего сбоя hello.

#### <a name="label-construction"></a>Проектирование меток
Учитывая hello вопрос «What is hello оставшегося срока hello оборудования?
«, метки для модели регрессии hello могут создаваться путем установки каждой записи предыдущих toohello ошибки и их пометки путем подсчета количества единиц времени остается, прежде чем следующий сбой hello. В этом методе метки являются непрерывными переменными (см. рис. 4).

![Рис. 4 Создание меток для регрессии](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-regression.png)

Рис. 4 Создание меток для регрессии

Отличается от двоичной классификации для регрессии, активы без сбоев hello данных не может использоваться для моделирования как пометки выполняется в контрольной точки сбоя tooa и вычисления не зная, как долго активов hello, оставшихся до невозможна Произошла ошибка. В этом случае лучше всего применить другой статистический метод, который называется «анализ выживаемости».
Мы не будем toodiscuss анализ Выживаемости в этом репертуара из-за потенциальных hello сложностей, которые могут возникнуть во время применения обслуживания toopredictive метод hello использовать варианты, которые включают время изменения данных с достаточно частым интервалом.

### <a name="multi-class-classification-for-predictive-maintenance"></a>Многоклассовая классификация для прогнозируемого обслуживания
Многоклассовую классификацию для прогнозируемого обслуживания можно использовать, чтобы спрогнозировать два будущих результата. Hello сначала он tooassign tooone активов для hello несколько возможных периоды времени toogive диапазон toofailure времени для каждого ресурса. Hello второй раз — tooidentify hello вероятность сбоя в будущих периодов выплаты tooone из hello несколько основных причин. Позволяющий обслуживания сотрудники, оснащены эти знания для обработки таких проблем hello заранее. Другой способ моделирования с несколькими классами основное внимание уделяется определения hello скорее всего, корневой причины сбоя заданному. Это позволяет toobe рекомендации для toobe действия верхнего обслуживания hello, выполняемые в порядке toofix сбоя.
Благодаря наличию ранжированного списка основных причин и информации касательно соответствующих действий по восстановлению  
технические специалисты могут принимать изначальные меры по восстановлению после сбоя намного эффективнее.

#### <a name="label-construction"></a>Проектирование меток
Заданному hello двух вопросы, которые являются» вероятность hello не пройден актива в hello Далее «aZ» единицы времени, там, где «» — Привет число периодов» и «вероятность hello, hello активов завершается ошибкой в hello рядом X единиц времени tooproblem из-за «P<sub>я </sub>«где «i» — номер hello основных причин, пометки выполняется следующими способами для этих tootechniques hello.

Первый вопрос hello, пометки делается путем перевода aZ записи до выхода из строя hello актива и пометки их использование контейнеров времени (3Z, 2Z, Z) в качестве их подписи при пометку всех записей как «обычная» (Метка = 0). В этом методе метка является категориальной переменной (см. рис. 5).

![Рис. 5. Создание меток для многоклассовой классификации, позволяющей спрогнозировать время сбоя](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-failure-time-prediction.png)

Рис. 5. Создание меток для многоклассовой классификации, позволяющей спрогнозировать время сбоя

Второй вопрос hello, пометки делается путем ведения X записи до выхода из строя hello актива и пометки их как «о toofail из-за проблемы P<sub>я</sub>» (метка = P<sub>я</sub>) при пометку всех записей как» "Normal» (Метка = 0). В этом методе метки являются категориальными переменными (см. рис. 6).

![Рис. 6. Создание меток для многоклассовой классификации, позволяющей спрогнозировать основную причину](media/cortana-analytics-playbook-predictive-maintenance/labelling-for-multiclass-classification-for-root-cause-prediction.png)

Рис. 6. Создание меток для многоклассовой классификации, позволяющей спрогнозировать основную причину

модель Hello назначает вероятность сбоя из-за tooeach P<sub>я</sub> а также вероятность hello без сбоев. Эти вероятности можно упорядочивать по прогноза tooallow величина hello проблемы, которые, скорее всего, toooccur в будущем hello. Пример использования неполадки элемента конструкции самолета рассматривался как задача многоклассовой классификации. Это позволяет прогноза hello вероятностей hello сбоя из-за tootwo различных давление вентиль компоненты отстоят hello следующего месяца.

Для действия по обслуживанию, рекомендующее после сбоев, метки не требует toobe будущих горизонта выбрать. Это из-за сбоя в будущем hello не предсказывает hello модели, но он используется только для прогнозирования hello наиболее вероятная причина после сбоя hello уже прошло. Элеваторный дверцу сбоев можно разделить hello третий вариант, где hello цель — toopredict причину сбоя hello, учитывая данных журналов по рабочим условиям. Затем используется эта модель toopredict hello скорее всего, основные причины после произошел сбой. Ключевым преимуществом этой модели является возможность tooeasily неопытными специалистам диагностировать и устранять проблемы, которые в противном случае потребуется за года качества.

## <a name="training-validation-and-testing-methods-in-predictive-maintenance"></a>Методы обучения, проверки и тестирования в прогнозируемом обслуживании
В диагностическое обслуживание, аналогичные tooany пространство других решение, содержащее данные отметку времени, hello типичные обучения и проверки различные аспекты toobetter hello время сопоставление потребностей tootake учетной записи generalize на недоступную будущие данные.

### <a name="cross-validation"></a>Перекрестная проверка
Множество алгоритмов машинного обучения зависят от количества гиперпараметров, которые могут существенно повлиять на эффективность модели. Hello оптимальные значения этих гиперпараметров не вычисляются автоматически при обучении модели hello, но должен быть указан специалистами по анализу данных. Существует несколько способов определения оптимальных значений гиперпараметров. Hello наиболее часто является «k свертки перекрестной проверки» разбивающего примеры hello случайным образом на сверток «k». Для каждого набора значений гиперпараметров алгоритм обучения выполняется k раз. В каждой итерации hello примеров в свертке текущего hello используются как набор проверки, rest hello hello примеров используются в качестве обучающего набора. алгоритм Hello обучает через обучающих примеров и показатели производительности hello вычисляются по примеры проверки. В конце цикла для каждого набора значений hyperparameter hello мы вычисление среднего значения метрики производительности hello k и выбор hyperparameter значения, которые имеют лучшие средняя производительность hello.

Как упоминалось ранее, для решений прогнозируемого обслуживания данные записываются как временные ряды событий, поступающие из нескольких источников данных. Эти записи могут быть упорядочены в соответствии с toohello время пометки пример или записи. Таким образом Если мы случайным образом разделить hello набора данных на набор обучения и проверки, в некоторых примерах обучения hello позже времени некоторые примеры проверки. Это приводит к оценке производительности будущих hyperparameter значений на основе данных hello, полученные до обучении модели. Такая оценка может быть слишком оптимистичной, особенно в том случае, если временные ряды нестабильны и меняют свое поведение с течением времени. В результате выбранные значения гиперпараметров могут быть неоптимальными.

Лучший способ нахождения рекомендуется задать гиперпараметров — примеры toosplit hello в обучения и проверки, в виде зависящие от времени, таким образом, все примеры проверки времени позже всех обучающих примеров. Затем для каждого набора значений гиперпараметров мы обучения алгоритм hello через обучающий набор, измерять производительность модели за hello одинаковые проверки задайте и выберите hyperparameter значения, показывающие hello наилучшей производительности. Если со временем развивается временных рядов данных не является стационарным, hello hyperparameter значения, выбранные агентом обучение и проверка разделить лучшего будущего tooa интереса «модели производительность по сравнению со значениями hello выборка осуществляется случайным образом при перекрестной проверке.

Hello окончательной модели создается путем обучения алгоритма обучения по всей данных, с помощью hello наилучших hyperparameter значений, найденные с помощью проверки или обучения разбивать или перекрестной проверки.

### <a name="testing-for-model-performance"></a>Тестирование эффективности модели
После создания модели необходимо tooestimate его будущих производительности на новых данных. Hello простой оценка может быть производительность hello hello модели через hello обучающих данных. Но оценочные чрезмерно оптимистическим, так как модель специально настроенные toohello данные, используемые tooestimate производительности. Лучшую оценку может быть метрики производительности hyperparameter значений, вычисленная набор проверки hello или вычисленное среднее измеряемой перекрестной проверки. Но для hello же причинам, как уже говорилось ранее, по-прежнему слишком оптимистичный этих оценок. Для измерения эффективности модели нужны более реалистичные подходы.

Один из способов — toosplit hello данных случайным образом в наборы обучающих, проверки и тестирования. наборы для обучения и проверки Hello — это значения используется tooselect гиперпараметров, а также проводить обучение модели hello с ними. измеряется производительность модели Hello hello проверочный набор.

Другим способом, используется соответствующий toopredictive обслуживания, является toosplit все примеры в обучающих, проверки и тестирования наборов в виде зависящие от времени, таким образом, что все тестовые примеры используют времени позже все примеры обучения и проверки. После разделения hello, выполняются модели измерения поколения и производительность hello так же, как описано выше.

При временных рядов являются стационарные и легко toopredict оба подхода создать аналогичный оценок производительностью в будущем. Но при временных рядов не бланк и/или жестких toopredict hello второй подход приведет к ошибке hello первый, чем более точные оценки производительностью в будущем.

### <a name="time-dependent-split"></a>Разделение по принципу зависимости от времени
В этом разделе подробнее рассматривается способ реализации разделения по принципу зависимости от времени. Чтобы описать двустороннее разбиения зависящих от времени между обучающие и проверочные наборы, однако точно hello логики должны применяться для разделения для обучения и проверки наборы зависят от времени.

Предположим, что у нас есть поток событий с метками времени, например измерения с различных датчиков. Признаки примеров обучения и тестирования, а также их метки определяются по временным рамкам, включающим несколько событий.
Например, для двоичной классификации, как описано в разделах функции проектирования и моделирования методы, функции создаются на основе hello последние события и метки создаются на основе будущих событий в «X» единиц времени в hello будущих. Таким образом пометки промежутка времени пример hello поставляется в более поздней версии, а затем hello промежутка времени ее компоненты. Для разбиения зависящие от времени выбирается точки времени, по которому мы обучить модель с новостями гиперпараметров с помощью данных журнала toothat точку. tooprevent утечки будущих меток, которые выходят за прекращения обучения hello в обучающих данных, мы выбираем hello последний период toolabel обучающих примеров toobe X единиц до даты прекращения обучения hello. На рис. 7 каждый круг представляет строку в наборе данных окончательного функции hello, для какой hello функций и метки вычисляются в соответствии с toothe методом, описанным выше. Учитывая, что, hello рисунке показана hello записей, которые должны перейти на обучающий и проверочный наборы при реализации разбить зависят от времени для X = 2 и W = 3.

![Рис. 7. Разделение по принципу зависимости от времени для двоичной классификации](media/cortana-analytics-playbook-predictive-maintenance/time-dependent-split-for-binary-classification.png)

Рис. 7. Разделение по принципу зависимости от времени для двоичной классификации

Hello зеленым цветом представляют Привет записей, принадлежащих toohello единицы измерения времени, которые могут использоваться для обучения. Как упоминалось ранее, каждого примера обучения в окончательный hello функция таблица создается, просмотрев последние 3 периоды для создания компонента и 2 будущих периодов для пометки до прекращения день обучения. Примеры не используется при обучении hello, при любой части hello 2 будущих периодов для этого примера находится за пределами прекращения обучения hello так, как предполагается, что мы не можем видимость после прекращения обучения. Из-за ограничений toothat черным примеры представляют записи hello hello окончательного набора данных, не должны использоваться в hello обучающий набор данных с меткой. Эти записи не будут использоваться в проверочных данных, либо поскольку они являются до прекращения обучения hello и их метки сроки частично зависят от периода времени обучения hello, которой не должно быть hello случай, поскольку мы хотели бы toocompletely разделения временных интервалов для пометки обучающие и проверочные утечку информации tooprevent метки.

Этот метод допускает перекрытие hello данные, используемые для создания компонентов между обучающими и проверочными примеры, закрыть toothe прекращения обучения. В зависимости от доступности данных еще более серьезные разделение может осуществляться с помощью любого из примеров hello в тестовом наборе, находящиеся в пределах W единицы времени прекращения обучения hello не.

Из своей работы мы обнаружили, что модели регрессии, используемые для прогнозирования оставшийся срок службы более мешает проблему утечки hello и с помощью случайного разбиения ведет tooextreme переобучения. Аналогичным образом в задачах регрессии hello разбиение должно быть таким образом, что следует использовать записей, относящихся к активам со сбоями перед обучением обрезана для обучающего набора и активы, в которых обнаружены ошибки, после прекращения hello следует использовать в качестве проверочного набора.

Общим методом, также важно для разделения данных для обучения и проверки рекомендуется toouse разбиение по Идентификатору ресурса, чтобы ни один hello средств, которые использовались для обучения не используется для тестирования, поскольку идея тестирования заключается в том, что toomake, при использовании нового средства  toomake прогнозов на модели hello предоставляет реалистичных результаты.

### <a name="handling-imbalanced-data"></a>Обработка несбалансированных данных
В классификации проблем Если существуют дополнительные примеры один класс, чем hello другие hello данных говорят, что toobe несбалансированных. В идеальном случае мы хотели бы toohave достаточно представители каждый класс hello обучающих данных toobe может toodifferentiate между различными классами. Если один класс является менее 10% данных hello, мы говорим, данных hello не сбалансирована, и мы называем класса меньшинства hello представленное набора данных. Существенно во многих случаях мы найти несбалансированных наборах данных которой один класс является важности underrepresented сравниваемых tooothers например по только образующей 0,001% точек данных hello. Класс дисбаланс проблема во многих областях, включая мошенничества, изучения сетевых атак и диагностическое обслуживание которых обычно редких вхождений за время существования hello активов hello, составляющие примеры класса меньшинства hello сбоев.

В случае дисбаланс класс нарушена производительность большинство стандартных алгоритмы обучения, они стремятся toominimize hello общую частоту возникновения ошибок. Например, в наборе данных, где 99 % примеров класса являются отрицательными и 1 % — положительными, можно получить 99 % точности, просто пометив все экземпляры как отрицательные. Тем не менее это misclassifies всех положительных примеров, поэтому алгоритм hello не существует полезно, хотя hello точности метрика очень высока. Следовательно, для обучения в условиях несбалансированности классов использования традиционных метрик оценки, таких как общая точность частоты ошибок, недостаточно. Другие показатели, такие как точность, отзыв, оценки F1 и стоимость скорректированное кривые ОШИБОК используются для вычисления в случае несбалансированных наборах данных, которые рассматриваются в разделе метрик оценки hello.

Тем не менее существует и ряд методов, с помощью которых можно устранить проблему несбалансированности класса. Hello две основные клиенты выборки методы и стоимости конфиденциальные обучения.

#### <a name="sampling-methods"></a>Методы выборки
Использование Hello выборки методы в несбалансированных обучения состоит из изменения набора данных hello, некоторые механизмы в порядке tooprovide набор взаимосвязанных данных. Несмотря на большое количество методов выборки, самых эффективных всего два: случайная избыточная выборка и случайная неполная выборка.

Просто уже говорилось, случайные избыточную выборку выбирает случайную выборку из класса меньшинства репликации этих примеров и добавляя их tootraining набора данных. Это увеличивает hello количество общее примеров в классе меньшинства и в конечном итоге сбалансировать hello количество примеров разных классов. Один опасность избыточной выборки — несколько экземпляров некоторые примеры может привести к hello классификатор toobecome слишком определенные начальные toooverfitting.
В результате мы получаем высокую точность обучения, однако эффективность измерения неучитываемых данных тестирования может быть существенно снижена. И наоборот, при случайной неполной выборке из класса большинства случайным образом выбираются примеры, которые затем удаляются из набора данных для обучения. Однако удаление примеры от большинства класса может привести к hello классификатор toomiss важные понятия относится toohello мажоритарного класса. Гибридные выборки, где избыточным класса меньшинства, а большинство классов выбирается в разделе hello другим Хорошим подходом является то же время. Для решения задачи несбалансированности классов доступно множество других более сложных методов выборки. Исследование эффективных методов выборки пользуется большой популярностью. Различные организации и исследователи постоянно уделяют внимание этой области и вносят вклад в ее развитие. Использование различных методов, чтобы выбрать наиболее эффективный hello областей — tooresearch специалист по анализу данных обычно левой toohello поэкспериментировать с ней и сильно зависит от свойства данных hello. Кроме того важно задать toomake методы выборки должны применяться только toohello обучения, но не hello проверочный набор.

#### <a name="cost-sensitive-learning"></a>Обучение с учетом затрат
В диагностическое обслуживание сбоев, которые составляют класс меньшинства hello являются более важны, чем нормальные и таким образом hello нацелено на производительность hello алгоритм на сбои — обычно hello фокус. Это часто называют неравномерной потерей или асимметричными расходами, связанными с неправильно классифицированными элементами различных классов. В этом случае неправильное прогнозирование положительного примера как отрицательного может повлечь большие затраты, чем в обратном случае. Hello требуемого классификатора должен быть точности высокой прогнозов может toogive через класса меньшинства hello, без важности влияния на точность hello для большинства класса hello.

Этого можно добиться несколькими способами. Назначив misclassification из меньшинства hello высоких затрат ресурсов класса и при toominimize, который теряет общей стоимости hello проблемы не равно можно эффективно обрабатываться. Эта идея используется в некоторых алгоритмах машинного обучения, таких как SVM (метод опорных векторов), где стоимость положительных и отрицательных примеров может быть объединена во время обучения. Аналогичным образом, при наличии несбалансированности данных используются методы повышения эффективности, например алгоритмы увеличивающегося дерева принятия решений. Как правило, они демонстрируют хорошую эффективность в таких случаях.

## <a name="evaluation-metrics"></a>Метрики оценки
Как упоминалось ранее, класс дисбаланс приводит низкой производительности, как алгоритмы, как правило, примеры класса tooclassify большинство лучше подходит для расходов случаев меньшинства класс как ошибка общее misclassification hello улучшается при мажоритарного класса помечен правильно. Это вызывает ставки низкий отзыв и становится крупной проблеме, если очень высокая стоимость hello бизнес-toohello ложные сигналы. Точность — hello наиболее популярных метрику, используемую для описания классификатора производительности. Однако, как описано выше точность недействителен и не отражают hello фактической производительности это классификатор функциональности это очень конфиденциальные toodata распределения. Вместо этого используется tooassess несбалансированных обучения проблем являются других метрик оценки. В таких случаях точность, отзыв и оценки F1 следует toolook начальных показателей hello в при оценке производительности обслуживания прогнозной модели. В диагностическое обслуживание ставки отзыв обозначают количество сбоев в тестовом наборе hello распознавались правильно моделью hello hello. Отзыв высокоскоростных означает, что модель hello успешных перехватывать ошибки true hello. Метрики точности относится к hello скорость ложные сигналы, где низкие ставки точности соответствуют выше ложные сигналы. Показатель F1 указывает степень точности и полноты (наилучшее значение — 1, а наихудшее — 0).

Кроме того, в двоичной классификации при оценке производительности полезные сведения предоставляют таблицы децилей и диаграммы точности прогнозов. Они описывают только положительное класса (сбоев) и предоставляют более сложные изображение производительности алгоритма, чем то, что видно, просмотрев фиксированный момент работы с кривой hello ROC (характеристика операционной получателя).
Decile таблицы получаются путем hello примеры теста в соответствии с их прогнозируемые значения вероятности сбоев, вычисляется моделью hello перед toodecide порог окончательного метки hello упорядочения. Hello упорядочены, что примеры сгруппированы в децилями (т. е. hello 10% примеры с наибольшей вероятности и затем 20%, 30% и т. д). Путем вычисления hello соотношение между true положительное количество каждого decile и случайных базового плана (0,1, 0,2..) один можно оценить изменение производительности алгоритма hello в каждом decile. Диаграммы точности прогнозов являются значениями decile используется tooplot путем построения графика скорость положительное значение true, decile и пары случайное значение true, положительное скорость для всех децилями. Как правило первый децилями hello являются фокус hello hello результатов, так как здесь мы видим наибольший прирост. При использовании для прогнозируемого обслуживания первые децили также можно рассматривать в качестве представителей «в зоне риска».

## <a name="sample-solution-architecture"></a>Архитектура примера решения
При развертывании решения превентивного обслуживания нас интересуют решение tooend окончания, которое предоставляет непрерывный цикл приема данных и хранения данных для обучения модели, возможность создания, прогноз и графическое представление результатов hello вместе с механизм, такие как средства мониторинга создания предупреждений. Мы хотим данных конвейера, который предоставляет пользователя toohello будущих аналитики непрерывного автоматических способом. На рис. 8 ниже изображен пример архитектуры прогнозируемого обслуживания для такого конвейера данных IoT. В архитектуре данные телеметрии в реальном времени помещаются в концентратор событий, где хранятся потоковые данные. Эти данные используются решением Stream Analytics для обработки данных в режиме реального времени, например создания признаков. Hello затем используются возможности toocall hello прогнозной модели веб-службы и результаты отображаются на панели мониторинга hello. AT hello же времени, полученный данные также хранятся в базе данных журнала и объединяются с внешними источниками данных, такие как toocreate обучающих примеров для моделирования базы данных в локальной.
Же хранилищ данных может использоваться для пакета оценки примеров hello и сохранения результатов hello, которые могут быть снова используется tooprovide прогнозной отчеты на панели мониторинга hello.

![Рис. 8. Архитектура примера решения для прогнозируемого обслуживания](media/cortana-analytics-playbook-predictive-maintenance/example-solution-architecture-for-predictive-maintenance.png)

Рис. 8. Архитектура примера решения для прогнозируемого обслуживания

Дополнительные сведения о каждом из компонентов hello hello архитектуры можно найти слишком[Azure](https://azure.microsoft.com/) документации.

