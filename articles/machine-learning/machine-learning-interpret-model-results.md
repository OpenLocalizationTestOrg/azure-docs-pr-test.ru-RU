---
title: "aaaInterpret результатов модели машинного обучения | Документы Microsoft"
description: "Как toochoose hello оптимальный параметр заданы для алгоритма с помощью и наглядное представление выходные данные оценки модели."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6230e5ab-a5c0-4c21-a061-47675ba3342c
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/24/2017
ms.author: bradsev
ms.openlocfilehash: 52161b1aa5ff3e7a63fc4b1bfb7c5e354eabcc50
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="interpret-model-results-in-azure-machine-learning"></a>Интерпретация результатов модели в машинном обучении Azure
В этом разделе объясняется, как toovisualize и интерпретации результатов прогноза в студии машинного обучения Azure. После обучения модели и сделать прогнозы на основе («оцененных модели hello») требуется toounderstand и интерпретации результатов прогноза hello.

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

Существует четыре основных типа машинного обучения моделей в Студии машинного обучения Azure:

* классификация;
* кластеризация;
* регрессия;
* системы рекомендаций.

Hello модули, используемые для прогнозирования на основе этих моделей являются:

* модуль [Score Model][score-model] (Оценка модели) для классификации и регрессии;
* [Назначьте tooClusters] [ assign-to-clusters] модуль для кластеризации
* модуль [Score Matchbox Recommender][score-matchbox-recommender] (Оценка модели рекомендаций Matchbox) для систем рекомендаций.

В этом документе объясняется, как toointerpret прогноз результатов для каждого из этих модулей. Общие сведения об этих модулях см. в разделе [как toooptimize toochoose параметры алгоритмов в машинном обучении Azure](machine-learning-algorithm-parameters-optimize.md).

В этом разделе рассматривается интерпретация прогноза, а не оценка модели. Дополнительные сведения о том, как tooevaluate модели, в разделе [как tooevaluate модели производительности в машинном обучении Azure](machine-learning-evaluate-model-performance.md).

Если новый tooAzure машинного обучения и требуется справка по созданию простого эксперимента tooget работы см. в разделе [создание простого эксперимента в студии машинного обучения Azure](machine-learning-create-experiment.md) в студии машинного обучения Azure.

## <a name="classification"></a>Классификация
Существует две подкатегории задач классификации:

* задачи только с двумя классами (двухклассовая или двоичная классификация);
* задачи более чем с двумя классами (многоклассовая классификация).

Машинное обучение Azure имеет различные модули toodeal с каждым из этих типов классификации, но аналогичны и методы hello для интерпретации результатов прогноза.

### <a name="two-class-classification"></a>Двуклассовая классификация
**Пример эксперимента**

Примером проблемы двухклассовой классификации является классификация hello iris цветов. Задача Hello — tooclassify iris цветов на основе своих функций. Hello набора данных Iris в машинном обучении Azure является подмножеством hello популярных [набора данных Iris](http://en.wikipedia.org/wiki/Iris_flower_data_set) содержащая экземпляры только два ящиков указывает (классы 0 и 1). Для каждого цветка можно выделить четыре признака: длина наружной доли околоцветника, ширина наружной доли околоцветника, длина внутренней доли околоцветника и ширина внутренней доли околоцветника.

![Снимок экрана для эксперимента Iris](./media/machine-learning-interpret-model-results/1.png)

Рисунок 1. Рис. 1. Эксперимент с задачей двухклассовой классификации цветков ириса

Эксперимент было выполнено toosolve эту проблему, как показано на рис. 1. Модель повышенного дерева принятия решений двухклассовой классификации обучена и оценена. Теперь вы можете визуализировать результаты прогноза hello hello [модель оценки] [ score-model] модуля, щелкнув выходной порт hello hello [модель оценки] [ score-model]модуля и выбрав **визуализировать**.

![Модуль оценки модели](./media/machine-learning-interpret-model-results/1_1.png)

Откроется окно hello оценки результатов, как показано на рис. 2.

![Результаты эксперимента с двухклассовой классификацией цветков ириса](./media/machine-learning-interpret-model-results/2.png)

Рис. 2. Визуализация результата оценки модели для задачи двухклассовой классификации

**Интерпретация результатов**

Существует шесть столбцов в таблице результатов hello. четыре столбца с левой Hello — четыре функции hello. две правые столбцы Hello, меток оцененных значений и оцененных вероятностей, hello результатов прогноза. Здравствуйте, оцененных вероятностей вероятность того, hello столбец показывает, цветов принадлежит toohello положительное класс (класс 1). Здравствуйте, например, первое число hello столбца (0.028571) означает, что 0.028571 вероятность того, что первый цветов hello принадлежит tooClass 1. Hello меток оцененных значений столбца показано hello прогнозируемые класс для каждого из цветов. Это зависит от столбцов оцененных вероятностей hello. Если hello оцененные вероятности цветов больше 0,5, прогнозируется как класс 1. В противном случае прогнозируется принадлежность к классу 0.

**Публикация в веб-службе**

После понятны и рассматриваются как звуковой результатов прогноза hello hello эксперимента могут быть опубликованы как веб-службы, можно развернуть его в различных приложениях и вызвать tooobtain класс прогнозы для любого нового iris цветов. toolearn toochange обучающей поэкспериментировать в эксперимент оценки и опубликовать его как веб-службы, в статье [публикации веб-службы машинного обучения Azure hello](machine-learning-walkthrough-5-publish-web-service.md). Выполнив эту процедуру, вы получите оценивающий эксперимент, как показано на рис. 3.

![Снимок экрана с оценивающим экспериментом](./media/machine-learning-interpret-model-results/3.png)

Рис. 3. Hello iris двухклассовой классификации проблема эксперимент оценки

Теперь вам требуется tooset hello вход и выход для hello веб-службы. Hello входные данные — hello правый входной порт [модель оценки][score-model], которой является hello Iris цветов возможности ввода. Hello Выбор hello вывода зависит ли вы заинтересованы в hello прогнозировать класса (Оцененный метка), hello оцененные вероятности или оба. В этом примере нас интересуют оба значения. tooselect hello требуемого выходных столбцов, используйте [Выбор столбцов в наборе данных] [ select-columns] модуля. Щелкните модуль [Select Columns in Data set][select-columns] (Выбор столбцов в наборе данных), затем — **Launch column selector** (Запустить средство выбора столбцов) и выберите столбцы **Scored Labels** (Оцененные метки) и **Scored Probabilities** (Оцененные вероятности). После установки порт вывода hello [Выбор столбцов в наборе данных] [ select-columns] и повторного запуска следует эксперимент оценки готовности toopublish hello через веб-службу, щелкнув **веб-ПУБЛИКАЦИЯ Служба**. Окончательный эксперимента Hello выглядит как на рис. 4.

![Hello iris двухклассовой классификации эксперимента](./media/machine-learning-interpret-model-results/4.png)

Рис. Окончательный оценивающий эксперимент в задаче двухклассовой классификации цветков ириса

После запуска hello веб-службы и введите значения некоторых компонентов экземпляра теста результат hello возвращает два числа. Первое число Hello hello оцененных метки, который hello второй hello оцененные вероятности. Прогноз относит этот цветок к классу 1 с вероятностью 0,9655.

![Тестирование интерпретирующего модуля оценки](./media/machine-learning-interpret-model-results/4_1.png)

![Результаты тестовой оценки](./media/machine-learning-interpret-model-results/5.png)

Рис. 5. Результат, возвращаемый веб-службой для двухклассовой классификации цветков ириса

### <a name="multi-class-classification"></a>Многоклассовая классификация
**Пример эксперимента**

В этом эксперименте в качестве примера многоклассовой классификации выполняется задача по распознаванию букв. Hello классификатор пытается toopredict определенного буквы (класс) на основе некоторых рукописный значений атрибутов извлекаются из образов рукописный hello.

![Пример распознавания букв](./media/machine-learning-interpret-model-results/5_1.png)

В hello обучающих данных нет 16 компонентов, извлеченных из образов рукописный буквы. 26 букв Hello образуют наших 26 классов. Рис. 6 показан эксперимент, обучить мультиклассовой классификации модель для распознавания букв и прогнозирования на hello же оснащены набора на проверочного набора данных.

![Эксперимент с многоклассовой классификацией — распознавание букв](./media/machine-learning-interpret-model-results/6.png)

Рис. 6. Эксперимент с задачей многоклассовой классификации — распознавание букв

Визуализация hello результаты hello [модель оценки] [ score-model] модуля, щелкнув выходной порт hello [модель оценки] [ score-model] модуля и затем щелкнув **визуализировать**, вы увидите содержимое, как показано на рис. 7.

![Результаты оценки модели](./media/machine-learning-interpret-model-results/7.png)

Рис. 7. Визуализация результата оценки модели для задачи многоклассовой классификации

**Интерпретация результатов**

Hello левой 16 столбцов представляют значения функции hello hello проверочный набор. Hello столбцы с именами, такие как оцененных вероятностей для класса «XX», так же, как столбец оцененных вероятностей hello в случае двух классов hello. Они показывают, что hello вероятность того, что соответствующая запись hello попадает определенного класса. Например для hello первая запись, имеется 0.003571 вероятность того, что он «A,» 0.000451 вероятность того, что он «B» и т. д. последний столбец Hello (Оцененный подписи) hello аналогично меток оцененных значений в случае двух классов hello. Он выбирает hello класса hello наибольшее оцененные вероятности, как hello прогнозируемый класс hello соответствующая запись. Например для hello первой записи, hello оцененных метки является «F», так как он содержит hello наибольшей вероятности toobe «F» (0.916995).

**Публикация в веб-службе**

Можно также получить hello оцененных метку для каждого входа и hello вероятность hello оцененных метки. Hello базовую логику является наибольшей вероятности toofind hello среди всех hello оцененных вероятностей. toodo это, необходимо toouse hello [выполнение скрипта R] [ execute-r-script] модуля. на рисунке 8 показана Hello код R и результат hello эксперимента hello показан на рис. 9.

![Пример кода R](./media/machine-learning-interpret-model-results/8.png)

Рис. 8. Код R для извлечения меток оцененных значений и hello связанные вероятности hello меток

![Результат эксперимента](./media/machine-learning-interpret-model-results/9.png)

Рис. 9. Окончательный эксперимент оценки проблемы мультиклассовой классификации hello распознавания букв

После публикации и запуска веб-службы hello и введите некоторые значения входной функции hello возвращается результат выглядит на рис. 10. Эту букву рукописный с функциями извлеченные 16 — прогнозируемое toobe «T» с вероятностью 0.9715.

![Тестирование интерпретирующего модуля оценки](./media/machine-learning-interpret-model-results/9_1.png)

![Результат проверки](./media/machine-learning-interpret-model-results/10.png)

Рис. Возвращаемый веб-службой результат задачи многоклассовой классификации

## <a name="regression"></a>регрессия;
Регрессионная задача отличается от задачи классификации. Задачи классификации вы пытаетесь toopredict дискретных классов, таких как класс, который принадлежит iris цветов. Но как можно видеть в следующий пример проблемы регрессии hello, вы пытаетесь toopredict непрерывной переменной, например price hello автомобиля.

**Пример эксперимента**

В нашем примере регрессивной задачи прогнозируется стоимость автомобиля. Вы пытаетесь цена hello toopredict автомобиля, в зависимости от функций, включая убедитесь, тип топливо, тип текста и колесо диска. на рис. 11 показана Hello эксперимента.

![Регрессионный эксперимент по оценке стоимости автомобиля](./media/machine-learning-interpret-model-results/11.png)

Рис. 11. Регрессионный эксперимент с задачей оценки стоимости автомобиля

Визуализации hello [модель оценки] [ score-model] модуля, hello результат выглядел рис. 12.

![Оценка результатов для задачи прогноза стоимости автомобилей](./media/machine-learning-interpret-model-results/12.png)

Рис. 12. Результат оценки для hello автомобиль цена прогноза проблемы

**Интерпретация результатов**

Оцененный метки — столбец результата hello в этот результат оценки. Hello числа являются hello прогнозируемые цены за каждый автомобиль.

**Публикация в веб-службе**

Можно опубликовать эксперимент регрессии hello в веб-службу и вызывать его для прогнозирования автомобиль цены на hello случая использования так же, как классификации hello.

![Оценивающий эксперимент для регрессионной задачи оценки стоимости автомобилей](./media/machine-learning-interpret-model-results/13.png)

Рис. 13. Оценивающий эксперимент для регрессионной задачи оценки стоимости автомобилей

Выполнение hello веб-службы, hello возвращается результат выглядит рис. 14. Hello прогнозируемые цены для этого автомобиля — $15,085.52.

![Тестирование интерпретирующего модуля оценки](./media/machine-learning-interpret-model-results/13_1.png)

![Результаты модуля оценки](./media/machine-learning-interpret-model-results/14.png)

Рис. 14. Результат веб-службы для регрессионной задачи оценки стоимости автомобиля

## <a name="clustering"></a>кластеризация;
**Пример эксперимента**

Давайте hello набора данных Iris снова использовать toobuild кластеризации эксперимента. Здесь можно отфильтровать hello метки класса в наборе данных hello, чтобы только обладает функциями, можно использовать для кластеризации. В этом iris вариант использования, укажите hello число кластеров toobe два во время процесса обучения hello, это означает, что бы кластера hello цветов в два класса. Hello эксперимента показан на рис. 15.

![Эксперимент с задачей кластеризации цветков ириса](./media/machine-learning-interpret-model-results/15.png)

Рис. 15. Эксперимент с задачей кластеризации цветков ириса

Кластеризации отличается от классификации, что hello обучающий набор данных не имеет метки экспериментальных сам по себе. Кластерные группы hello экземпляры обучающий набор данных в различных кластерах. Во время процесса обучения hello метки модели hello hello записей обучения hello различия между их функций. После этого можно использовать обученной модели hello toofurther классификации будущих записей. Состоит из двух частей hello результатов, которые мы будем рады получить внутри кластеризации проблему. Первая часть Hello пометку hello обучающий набор данных и hello второй классификации набор данных с помощью обученной модели hello.

Hello первая часть результата hello можно представить, щелкнув слева выходной порт hello [Обучение модели кластеризации] [ train-clustering-model] и выбрав **визуализировать**. визуализация Hello, показанном на рис.

![Результат кластеризации](./media/machine-learning-interpret-model-results/16.png)

Рис. 16. Визуализировать результат для набора данных для обучения hello кластеризации

результат Hello hello второй части кластеризации новых записей с hello обученной модели кластеризации, показан на рис.

![Визуализация результата кластеризации](./media/machine-learning-interpret-model-results/17.png)

Рис. 17. Визуализация результата кластеризации для нового набора данных

**Интерпретация результатов**

Несмотря на то, что результаты hello hello двух частей, возникающих из-за этапы различных эксперимент, они выглядят одинаково hello и интерпретируются в hello таким же образом. Hello первых четырех столбцов являются компонентами. последний столбец Hello, назначения, — результат прогноза hello. hello записи Hello прогнозируются одинаковый номер toobe в hello же кластере, то есть, они совместно используют сходства иным образом (в этом эксперименте используется метрики Евклидово расстояние по умолчанию hello). Так как указан hello число кластеров toobe 2 записи hello в назначениях помечаются как 0 или 1.

**Публикация в веб-службе**

Можно публиковать hello кластеризации эксперимента в веб-службу и вызывать его для кластеризации прогнозы hello так же, как в двухклассовой классификации hello варианта использования.

![Оценивающий эксперимент с задачей кластеризации набора данных Iris](./media/machine-learning-interpret-model-results/18.png)

Рис. 18. Оценивающий эксперимент с задачей кластеризации набора данных Iris

После запуска веб-службы hello hello возвращается результат выглядит на рисунке 19. Это цветов — прогнозируемое toobe в кластере 0.

![Тестирование интерпретирующего модуля оценки](./media/machine-learning-interpret-model-results/18_1.png)

![Результаты модуля оценки](./media/machine-learning-interpret-model-results/19.png)

Рис. 19. Результат, возвращаемый веб-службой для двухклассовой классификации цветков ириса

## <a name="recommender-system"></a>Система рекомендаций
**Пример эксперимента**

Для системах рекомендаций hello ресторан рекомендация проблемы можно использовать в качестве примера: рестораны можно рекомендовать для клиентов на основе оценок журнала. Hello входных данных состоит из трех частей:

* клиентские оценки ресторанов;
* данные о характеристиках клиентов;
* Данные об услугах ресторанов

Существует несколько моментов, которые можно сделать с помощью hello [Обучение модели рекомендаций Matchbox] [ train-matchbox-recommender] модуль в машинном обучении Azure:

* прогнозировать оценки для данного пользователя и объекта;
* Рекомендуем tooa элементы заданного пользователя
* Найти связанные tooa пользователей заданного пользователя
* Найти связанные tooa элементы заданного элемента

Можно выбрать желаемое toodo путем выбора из четырех hello возможности hello **тип прогноза подсистемы** меню. Здесь мы рассмотрим все четыре сценария.

![Рекомендации Matchbox](./media/machine-learning-interpret-model-results/19_1.png)

Типичный эксперимент машинного обучения Azure для системы рекомендаций представлен на рис. 20. Сведения о том, как toouse системных модулей этих рекомендаций, отображается [Обучение модели рекомендаций matchbox] [ train-matchbox-recommender] и [Score matchbox recommender] [ score-matchbox-recommender].

![Эксперимент с системой рекомендаций](./media/machine-learning-interpret-model-results/20.png)

Рис. 20. Эксперимент с системой рекомендаций

**Интерпретация результатов**

**Прогноз оценки для указанных пользователя и объекта**

Выбрав **прогнозе оценки** под **тип прогноза подсистемы**, просим рекомендаций hello hello toopredict системы оценок для указанного пользователя и элемента. Здравствуйте, визуализация hello [Score Matchbox Recommender] [ score-matchbox-recommender] вывод выглядит рисунок 21.

![Оценка результат система рекомендаций hello--прогноз оценки](./media/machine-learning-interpret-model-results/21.png)

Рис. 21. Визуализировать результат оценки hello система рекомендаций hello--прогнозе оценки

Первые два столбца Hello представляют собой пары пользователь элемент hello, предоставляемые hello входных данных. Третий столбец Hello hello прогнозируемую оценку пользователя для определенного элемента. Например в первой строке hello, клиента, которому U1048 прогнозируемое ресторан toorate 135026 как 2.

**Рекомендуем tooa элементы заданного пользователя**

Выбрав **рекомендация элемента** под **тип прогноза подсистемы**, вы требуете рекомендаций hello tooa элементы toorecommend системы, заданным пользователем. — toochoose последнего параметра Hello в этом сценарии *рекомендуется Выбор элемента*. Здравствуйте, параметр **из оцененных элементов (для оценки модели)** используется главным образом при оценке модели во время процесса обучения hello. На этом этапе прогнозирования мы выбираем **From All Items** (Из всех объектов). Здравствуйте, визуализация hello [Score Matchbox Recommender] [ score-matchbox-recommender] вывод выглядит на рисунке 22.

![Результат оценки системы рекомендаций — рекомендуемый объект](./media/machine-learning-interpret-model-results/22.png)

Рис. 22. Визуализировать результат оценки система рекомендаций hello--рекомендация элемента

Здравствуйте первый из шести hello столбцов представляет hello получает элементы toorecommend идентификаторы пользователя, в соответствии со входными данными hello. Hello другие пять столбцов представляют элементы hello рекомендуется toohello пользователя в порядке убывания значимости. Например в первой строке hello, hello наиболее рекомендуемые ресторан для клиента U1048 является 134986, а затем 135018, 134975, 135021 и 132862.

**Найти связанные tooa пользователей заданного пользователя**

Выбрав **связанных пользователей** под **тип прогноза подсистемы**, вы требуете рекомендаций hello системы toofind связанных пользователей tooa заданного пользователя. Связанные пользователи являются hello, имеющих аналогичные предпочтения. — toochoose последнего параметра Hello в этом сценарии *связанные с выбором*. Здравствуйте, параметр **от пользователей, которые оценили элементы (для оценки модели)** используется главным образом при оценке модели во время процесса обучения hello. На этом этапе прогнозирования мы выбираем **From All Users** (Из всех пользователей). Здравствуйте, визуализация hello [Score Matchbox Recommender] [ score-matchbox-recommender] вывод выглядит на рисунке 23.

![Результат оценки системы рекомендаций — связанные пользователи](./media/machine-learning-interpret-model-results/23.png)

Рис. 23. Визуализировать результаты оценки система рекомендаций hello--связанных пользователей

Здравствуйте, сначала из hello шесть столбцов показан hello заданному toofind необходимости идентификаторы пользователя связанных пользователей, в соответствии со входными данными. Hello другого хранилища пять столбцов hello прогнозируемых связанных пользователей hello пользователя в порядке убывания значимости. Например в первую строку hello, hello наиболее соответствующего клиента для клиента U1048 — U1051, а затем U1066, U1044, U1017 и U1072.

**Найти связанные tooa элементы заданного элемента**

Выбрав **связанные элементы** под **тип прогноза подсистемы**, просим рекомендаций hello элемент заданным tooa системы toofind связанные элементы. Связанные элементы, скорее всего, toobe элементы hello понравилось по hello таким же пользователя. — toochoose последнего параметра Hello в этом сценарии *связанные с выбором элементов*. Здравствуйте, параметр **из оцененных элементов (для оценки модели)** используется главным образом при оценке модели во время процесса обучения hello. На этом этапе прогнозирования мы выбираем **From All Items** (Из всех объектов). Здравствуйте, визуализация hello [Score Matchbox Recommender] [ score-matchbox-recommender] вывод выглядит рис. 24.

![Результат оценки системы рекомендаций — связанные объекты](./media/machine-learning-interpret-model-results/24.png)

Рис. 24. Визуализировать результаты оценки система рекомендаций hello--связанных элементов

Здравствуйте, первый из шести hello столбцов представляет hello заданному идентификаторы элементов, которые требуется toofind связанные элементы, в соответствии со входными данными hello. Hello другого хранилища пять столбцов hello прогнозируемых связанных элементов элемента hello в порядке убывания с точки зрения релевантности. Например в первую строку hello, hello наиболее важные элемент для элемента 135026 — 135074, а затем 135035, 132875, 135055 и 134992.

**Публикация в веб-службе**

для каждого из четырех сценариев hello аналогично Hello процесс публикации экспериментов как web services tooget прогнозов. Здесь в качестве примера мы используем hello второй сценарий (tooa элементы рекомендуется заданного пользователя). Можно выполнить hello процедуру с остальных трех hello.

Сохранение hello обучения система рекомендаций как обученной модели и фильтрации tooa hello входных данных столбец идентификатора одного пользователя как запрос, можно подключить hello эксперимент, как показано на рисунке 25 и опубликовать его как веб-службы.

![Оценки эксперимента hello ресторан рекомендация проблемы](./media/machine-learning-interpret-model-results/25.png)

Рис. 25. Оценки эксперимента hello ресторан рекомендация проблемы

Выполнение hello веб-службы, hello возвращается результат выглядит рис. 26. Hello рестораны пять рекомендуемых для пользователя U1048 являются 134986, 135018, 134975, 135021 и 132862.

![Пример службы системы рекомендаций](./media/machine-learning-interpret-model-results/25_1.png)

![Пример результатов эксперимента](./media/machine-learning-interpret-model-results/26.png)

Рис. 26. Результаты веб-службы для задачи рекомендации ресторана

<!-- Module References -->
[assign-to-clusters]: https://msdn.microsoft.com/library/azure/eed3ee76-e8aa-46e6-907c-9ca767f5c114/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[score-matchbox-recommender]: https://msdn.microsoft.com/library/azure/55544522-9a10-44bd-884f-9a91a9cec2cd/
[score-model]: https://msdn.microsoft.com/library/azure/401b4f92-e724-4d5a-be81-d5b0ff9bdb33/
[train-clustering-model]: https://msdn.microsoft.com/library/azure/bb43c744-f7fa-41d0-ae67-74ae75da3ffd/
[train-matchbox-recommender]: https://msdn.microsoft.com/library/azure/fa4aa69d-2f1c-4ba4-ad5f-90ea3a515b4c/
