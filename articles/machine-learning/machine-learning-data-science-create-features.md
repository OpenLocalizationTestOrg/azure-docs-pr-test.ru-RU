---
title: "Проектирование признаков при обработке и анализе данных | Документация Майкрософт"
description: "Описывает цели реконструирования характеристик и приводит примеры, поясняющие его роль в совершенствовании данных в процессе машинного обучения."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 3fde69e8-5e7b-49ad-b3fb-ab8ef6503a4d
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/24/2017
ms.author: zhangya;bradsev
ms.openlocfilehash: f586e8087a246f3bedf5010e8f6ce7aea1c1ec6a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="feature-engineering-in-data-science"></a><span data-ttu-id="08f89-103">Проектирование признаков при обработке и анализе данных</span><span class="sxs-lookup"><span data-stu-id="08f89-103">Feature engineering in data science</span></span>
<span data-ttu-id="08f89-104">В этой статье описаны цели реконструирования характеристик и приводятся примеры, поясняющие его роль в совершенствовании данных в процессе машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="08f89-104">This topic explains the purposes of feature engineering and provides examples of its role in the data enhancement process of machine learning.</span></span> <span data-ttu-id="08f89-105">Примеры, представленные для иллюстрирования этого процесса, взяты из студии машинного обучения Azure.</span><span class="sxs-lookup"><span data-stu-id="08f89-105">The examples used to illustrate this process are drawn from Azure Machine Learning Studio.</span></span> 

[!INCLUDE [cap-create-features-data-selector](../../includes/cap-create-features-selector.md)]

<span data-ttu-id="08f89-106">Это **меню** содержит ссылки на статьи, описывающие создание характеристик для данных в различных средах.</span><span class="sxs-lookup"><span data-stu-id="08f89-106">This **menu** links to topics that describe how to create features for data in various environments.</span></span> <span data-ttu-id="08f89-107">Эта задача является одним из этапов [процесса обработки и анализа данных группы (TDSP)](https://azure.microsoft.com/documentation/learning-paths/cortana-analytics-process/).</span><span class="sxs-lookup"><span data-stu-id="08f89-107">This task is a step in the [Team Data Science Process (TDSP)](https://azure.microsoft.com/documentation/learning-paths/cortana-analytics-process/).</span></span>

<span data-ttu-id="08f89-108">Реконструирование характеристик пытается повысить эффективность прогнозирования алгоритмов обучения путем создания характеристик из необработанных данных, позволяющих упростить процесс обучения.</span><span class="sxs-lookup"><span data-stu-id="08f89-108">Feature engineering attempts to increase the predictive power of learning algorithms by creating features from raw data that help facilitate the learning process.</span></span> <span data-ttu-id="08f89-109">Проектирование и выбор признаков являются частью процесса TDSP, описанного в статье [Что такое процесс обработки и анализа данных группы (TDSP)?](data-science-process-overview.md)</span><span class="sxs-lookup"><span data-stu-id="08f89-109">The engineering and selection of features is one part of the TDSP outlined in the [What is the Team Data Science Process lifecycle?](data-science-process-overview.md)</span></span> <span data-ttu-id="08f89-110">Проектирование и выбор характеристик входят в этап **разработки характеристик** процесса TDSP.</span><span class="sxs-lookup"><span data-stu-id="08f89-110">Feature engineering and selection are parts of the **Develop features** step of the TDSP.</span></span> 

* <span data-ttu-id="08f89-111">**Проектирование признаков.** Этот процесс направлен на создание дополнительных характерных признаков на основе существующих необработанных признаков и повышение эффективности прогнозирования алгоритма обучения.</span><span class="sxs-lookup"><span data-stu-id="08f89-111">**feature engineering**: This process attempts to create additional relevant features from the existing raw features in the data, and to increase the predictive power of the learning algorithm.</span></span>
* <span data-ttu-id="08f89-112">**Выбор признаков**: в этом процессе выбирается ключевое подмножество исходных признаков с целью сокращения размерности задачи обучения.</span><span class="sxs-lookup"><span data-stu-id="08f89-112">**feature selection**: This process selects the key subset of original data features in an attempt to reduce the dimensionality of the training problem.</span></span>

<span data-ttu-id="08f89-113">Как правило, **проектирование признаков** сначала применяется для создания дополнительных признаков, а затем выполняется на этапе **выбора признаков**, чтобы исключить несоответствующие, избыточные или сильно коррелирующие признаки.</span><span class="sxs-lookup"><span data-stu-id="08f89-113">Normally **feature engineering** is applied first to generate additional features, and then the **feature selection** step is performed to eliminate irrelevant, redundant, or highly correlated features.</span></span>

<span data-ttu-id="08f89-114">Обучающие данные, используемые в машинном обучении, можно улучшить путем извлечения характеристик из собранных необработанных данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-114">The training data used in machine learning can often be enhanced by extraction of features from the raw data collected.</span></span> <span data-ttu-id="08f89-115">Пример реконструирования характеристики в контексте обучения для классификации изображений рукописных символов представляет собой битовую карту распределения плотности, построенную на основе необработанных данных распределения битов.</span><span class="sxs-lookup"><span data-stu-id="08f89-115">An example of an engineered feature in the context of learning how to classify the images of handwritten characters is creation of a bit density map constructed from the raw bit distribution data.</span></span> <span data-ttu-id="08f89-116">Эта карта помогает более эффективно находить края символов, чем в случае необработанных данных о распределении.</span><span class="sxs-lookup"><span data-stu-id="08f89-116">This map can help locate the edges of the characters more efficiently than simply using the raw distribution directly.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="creating-features-from-your-data---feature-engineering"></a><span data-ttu-id="08f89-117">Создание признаков из данных — реконструирование признаков</span><span class="sxs-lookup"><span data-stu-id="08f89-117">Creating Features from Your Data - Feature Engineering</span></span>
<span data-ttu-id="08f89-118">Обучающие данные образуют матрицу из примеров (записей или наблюдений, хранимых в строках), каждый из которых имеет набор признаков (переменных или полей, хранящихся в столбцах).</span><span class="sxs-lookup"><span data-stu-id="08f89-118">The training data consists of a matrix composed of examples (records or observations stored in rows), each of which has a set of features (variables or fields stored in columns).</span></span> <span data-ttu-id="08f89-119">Признаки, указанные в схеме эксперимента должны характеризовать закономерности в данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-119">The features specified in the experimental design are expected to characterize the patterns in the data.</span></span> <span data-ttu-id="08f89-120">Несмотря на то, что многие поля необработанных данных можно напрямую включить в набор выбранных признаков, используемых для обучения модели, часто бывает так, что для формирования набора усовершенствованных обучающих данных дополнительные (реконструированные) признаки требуется создавать из признаков в необработанных данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-120">Although many of the raw data fields can be directly included in the selected feature set used to train a model, it is often the case that additional (engineered) features need to be constructed from the features in the raw data to generate an enhanced training dataset.</span></span>

<span data-ttu-id="08f89-121">Какие признаки нужно создавать для расширения набора данных при обучении модели?</span><span class="sxs-lookup"><span data-stu-id="08f89-121">What kind of features should be created to enhance the dataset when training a model?</span></span> <span data-ttu-id="08f89-122">Реконструированные признаки, совершенствующие обучение, содержат сведения, которые лучше выделяют закономерности в данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-122">Engineered features that enhance the training provide information that better differentiates the patterns in the data.</span></span> <span data-ttu-id="08f89-123">Новые признаки должны предоставлять дополнительные сведения, нечетко зарегистрированные или не очевидные в исходном или существующем наборе.</span><span class="sxs-lookup"><span data-stu-id="08f89-123">We expect the new features to provide additional information that is not clearly captured or easily apparent in the original or existing feature set.</span></span> <span data-ttu-id="08f89-124">Это довольно творческий процесс.</span><span class="sxs-lookup"><span data-stu-id="08f89-124">But this process is something of an art.</span></span> <span data-ttu-id="08f89-125">Обоснованные и эффективные решения часто требуют определенного знания предметной области.</span><span class="sxs-lookup"><span data-stu-id="08f89-125">Sound and productive decisions often require some domain expertise.</span></span>

<span data-ttu-id="08f89-126">При запуске машинного обучения Azure проще всего понять этот процесс с помощью примеров, которые поставляются в комплекте со Студией.</span><span class="sxs-lookup"><span data-stu-id="08f89-126">When starting with Azure Machine Learning, it is easiest to grasp this process concretely using samples provided in the Studio.</span></span> <span data-ttu-id="08f89-127">Здесь представлены два примера.</span><span class="sxs-lookup"><span data-stu-id="08f89-127">Two examples are presented here:</span></span>

* <span data-ttu-id="08f89-128">Пример регрессии [Прогнозирование количества прокатов велосипедов](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4) в контролируемом эксперименте с известными целевыми значениями</span><span class="sxs-lookup"><span data-stu-id="08f89-128">A regression example [Prediction of the number of bike rentals](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4) in a supervised experiment where the target values are known</span></span>
* <span data-ttu-id="08f89-129">Пример классификации интеллектуального анализа текста с использованием [хэширования признаков](https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/)</span><span class="sxs-lookup"><span data-stu-id="08f89-129">A text mining classification example using [Feature Hashing](https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/)</span></span>

## <a name="example-1-adding-temporal-features-for-regression-model"></a><span data-ttu-id="08f89-130">Пример 1. Добавление временных признаков для регрессионной модели</span><span class="sxs-lookup"><span data-stu-id="08f89-130">Example 1: Adding Temporal Features for Regression Model</span></span>
<span data-ttu-id="08f89-131">Воспользуемся экспериментом «Прогнозирование спроса на велосипеды» в студии машинного обучения Azure, чтобы продемонстрировать реконструкцию признаков для задачи регрессии.</span><span class="sxs-lookup"><span data-stu-id="08f89-131">Let's use the experiment "Demand forecasting of bikes" in Azure Machine Learning Studio to demonstrate how to engineer features for a regression task.</span></span> <span data-ttu-id="08f89-132">Цель этого эксперимента — прогноз спроса на велосипеды, то есть количество сдаваемых напрокат велосипедов в конкретный день/месяц/час.</span><span class="sxs-lookup"><span data-stu-id="08f89-132">The objective of this experiment is to predict the demand for the bikes, that is, the number of bike rentals within a specific month/day/hour.</span></span> <span data-ttu-id="08f89-133">«Набор данных по прокату велосипедов UCI» используется в качестве необработанных входных данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-133">The dataset "Bike Rental UCI dataset" is used as the raw input data.</span></span> <span data-ttu-id="08f89-134">Этот набор данных основывается на реальных данных компании Capital Bikeshare, которая содержит сеть проката велосипедов в Вашингтоне (ОК), США.</span><span class="sxs-lookup"><span data-stu-id="08f89-134">This dataset is based on real data from the Capital Bikeshare company that maintains a bike rental network in Washington DC in the United States.</span></span> <span data-ttu-id="08f89-135">Набор данных представляет количество сдаваемых напрокат велосипедов в определенный час дня в 2011–2012 гг. и содержит 17379 строки и 17 столбцов.</span><span class="sxs-lookup"><span data-stu-id="08f89-135">The dataset represents the number of bike rentals within a specific hour of a day in the years 2011 and year 2012 and contains 17379 rows and 17 columns.</span></span> <span data-ttu-id="08f89-136">Набор необработанных признаков содержит погодные условия (температура, влажность и скорость ветра) и тип дня (праздник/будний день).</span><span class="sxs-lookup"><span data-stu-id="08f89-136">The raw feature set contains weather conditions (temperature/humidity/wind speed) and the type of the day (holiday/weekday).</span></span> <span data-ttu-id="08f89-137">Поле для прогнозирования «cnt» — количество сдаваемых напрокат велосипедов в конкретный час, которое меняется в диапазоне от 1 до 977.</span><span class="sxs-lookup"><span data-stu-id="08f89-137">The field to predict is "cnt", a count which represents the bike rentals within a specific hour and which ranges ranges from 1 to 977.</span></span>

<span data-ttu-id="08f89-138">Для создания эффективных признаков в обучающих данных строятся четыре регрессионные модели с использованием одного и того же алгоритма, но с четырьмя разными обучающими наборами данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-138">With the goal of constructing effective features in the training data, four regression models are built using the same algorithm but with four different training datasets.</span></span> <span data-ttu-id="08f89-139">Четыре набора данных представляют те же необработанные входные данные, но с увеличиваемым номером набора признаков.</span><span class="sxs-lookup"><span data-stu-id="08f89-139">The four datasets represent the same raw input data, but with an increasing number of features set.</span></span> <span data-ttu-id="08f89-140">Эти признаки сгруппированы в четыре категории:</span><span class="sxs-lookup"><span data-stu-id="08f89-140">These features are grouped into four categories:</span></span>

1. <span data-ttu-id="08f89-141">А = «погода» + «праздник» + «рабочий день» + «выходной день» для прогнозируемого дня</span><span class="sxs-lookup"><span data-stu-id="08f89-141">A = weather + holiday + weekday + weekend features for the predicted day</span></span>
2. <span data-ttu-id="08f89-142">Б = количество велосипедов, которые сданы напрокат в каждый из предыдущих 12 часов</span><span class="sxs-lookup"><span data-stu-id="08f89-142">B = number of bikes that were rented in each of the previous 12 hours</span></span>
3. <span data-ttu-id="08f89-143">В = количество велосипедов, которые были сданы напрокат в каждый из предыдущих 12 дней в течение одного и того же часа</span><span class="sxs-lookup"><span data-stu-id="08f89-143">C = number of bikes that were rented in each of the previous 12 days at the same hour</span></span>
4. <span data-ttu-id="08f89-144">Г = количество велосипедов, которые были сданы напрокат в каждую из предыдущих 12 недель в течение одного и того же часа и дня</span><span class="sxs-lookup"><span data-stu-id="08f89-144">D = number of bikes that were rented in each of the previous 12 weeks at the same hour and the same day</span></span>

<span data-ttu-id="08f89-145">Помимо набора признаков А, который уже существует в исходных необработанных данных, другие три набора признаков создаются в процессе реконструирования признаков.</span><span class="sxs-lookup"><span data-stu-id="08f89-145">Besides feature set A, which already exist in the original raw data, the other three sets of features are created through the feature engineering process.</span></span> <span data-ttu-id="08f89-146">Набор признаков Б охватывает новейший спрос на велосипеды.</span><span class="sxs-lookup"><span data-stu-id="08f89-146">Feature set B captures very recent demand for the bikes.</span></span> <span data-ttu-id="08f89-147">Набор признак В спрос на велосипеды в конкретный час.</span><span class="sxs-lookup"><span data-stu-id="08f89-147">Feature set C captures the demand for bikes at a particular hour.</span></span> <span data-ttu-id="08f89-148">Набор признаков Г охватывает спрос на велосипеды в определенный час и определенный день недели.</span><span class="sxs-lookup"><span data-stu-id="08f89-148">Feature set D captures demand for bikes at particular hour and particular day of the week.</span></span> <span data-ttu-id="08f89-149">Четыре набора обучающих данных содержат наборы признаков А, А + Б, А + Б + В и A + Б + В + Г, соответственно.</span><span class="sxs-lookup"><span data-stu-id="08f89-149">The four training datasets each includes feature set A, A+B, A+B+C, and A+B+C+D, respectively.</span></span>

<span data-ttu-id="08f89-150">В эксперименте машинного обучения Azure эти четыре наборы обучающих данных формируются через четыре ветви предварительно обработанного входного набора данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-150">In the Azure Machine Learning experiment, these four training datasets are formed via four branches from the pre-processed input dataset.</span></span> <span data-ttu-id="08f89-151">За исключением крайней слева ветви, каждая из этих ветвей содержит модуль [Выполнить сценарий R](https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/) , в котором набор производных признаков (набор признаков Б, В и Г) соответственно реконструируется и добавляется в импортируемый набор данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-151">Except the left most branch, each of these branches contains an [Execute R Script](https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/) module, in which a set of derived features (feature set B, C, and D) are respectively constructed and appended to the imported dataset.</span></span> <span data-ttu-id="08f89-152">На следующем рисунке показан сценарий R, используемый для создания набора признаков Б во второй слева ветви.</span><span class="sxs-lookup"><span data-stu-id="08f89-152">The following figure demonstrates the R script used to create feature set B in the second left branch.</span></span>

![создание признаков](./media/machine-learning-data-science-create-features/addFeature-Rscripts.png)

<span data-ttu-id="08f89-154">Сравнение результатов производительности четырех моделей приведены в таблице ниже.</span><span class="sxs-lookup"><span data-stu-id="08f89-154">The comparison of the performance results of the four models are summarized in the following table.</span></span> <span data-ttu-id="08f89-155">Наилучшие результаты даются набором признаков А + Б + В.</span><span class="sxs-lookup"><span data-stu-id="08f89-155">The best results are shown by features A+B+C.</span></span> <span data-ttu-id="08f89-156">Обратите внимание, что частота ошибок уменьшается, когда в обучающие данные включается дополнительный набор признаков.</span><span class="sxs-lookup"><span data-stu-id="08f89-156">Note that the error rate decreases when additional feature set are included in the training data.</span></span> <span data-ttu-id="08f89-157">Он подтверждает наше предположение, что набор признаков Б + В предоставляет дополнительные данные для задачи регрессии.</span><span class="sxs-lookup"><span data-stu-id="08f89-157">It verifies our presumption that the feature set B, C provide additional relevant information for the regression task.</span></span> <span data-ttu-id="08f89-158">Однако добавление набора признаков Г не дает дополнительного сокращения частоты ошибок.</span><span class="sxs-lookup"><span data-stu-id="08f89-158">But adding the D feature does not seem to provide any additional reduction in the error rate.</span></span>

![сравнение результатов](./media/machine-learning-data-science-create-features/result1.png)

## <span data-ttu-id="08f89-160"><a name="example2"></a> Пример 2. Создание признаков в интеллектуальном анализе текста</span><span class="sxs-lookup"><span data-stu-id="08f89-160"><a name="example2"></a> Example 2: Creating Features in Text Mining</span></span>
<span data-ttu-id="08f89-161">Реконструирование признаков широко применяется в задачах, связанных с интеллектуальным анализом текста, например классификации документов и анализе тональностей.</span><span class="sxs-lookup"><span data-stu-id="08f89-161">Feature engineering is widely applied in tasks related to text mining, such as document classification and sentiment analysis.</span></span> <span data-ttu-id="08f89-162">Например, если мы хотим классифицировать документы по нескольким категориям, типичными предположениями являются слова и фразы, которые вероятнее всего есть в одной категории документов, и которые с меньшей вероятностью есть в другой категории.</span><span class="sxs-lookup"><span data-stu-id="08f89-162">For example, when we want to classify documents into several categories, a typical assumption is that the word/phrases included in one doc category are less likely to occur in another doc category.</span></span> <span data-ttu-id="08f89-163">Другими словами, частота распределения слов или фраз может характеризовать разные категории документов.</span><span class="sxs-lookup"><span data-stu-id="08f89-163">In another words, the frequency of the words/phrases distribution is able to characterize different document categories.</span></span> <span data-ttu-id="08f89-164">В приложениях интеллектуального анализа текста отдельные части текстового содержимого обычно служат в качестве входных данных, поэтому для создания признаков, связанных с частотой вхождения слова или фразы, необходим процесс реконструирования признаков.</span><span class="sxs-lookup"><span data-stu-id="08f89-164">In text mining applications, because individual pieces of text-contents usually serve as the input data, the feature engineering process is needed to create the features involving word/phrase frequencies.</span></span>

<span data-ttu-id="08f89-165">Для выполнения этой задачи вызывается метод **хэширования признаков** , чтобы эффективно превратить произвольные признаки текста в индексы.</span><span class="sxs-lookup"><span data-stu-id="08f89-165">To achieve this task, a technique called **feature hashing** is applied to efficiently turn arbitrary text features into indices.</span></span> <span data-ttu-id="08f89-166">Вместо того, чтобы сопоставлять каждый признак текста (слова или фразы) для определенного индекса, этот метод работает путем применения хэш-функции к признакам и непосредственного использования их хэш-значений как индексов.</span><span class="sxs-lookup"><span data-stu-id="08f89-166">Instead of associating each text feature (words/phrases) to a particular index, this method functions by applying a hash function to the features and using their hash values as indices directly.</span></span>

<span data-ttu-id="08f89-167">В машинном обучении Azure есть модуль [хэширования признаков](https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/) , с помощью которого удобнее создавать признаки этих слов и фраз.</span><span class="sxs-lookup"><span data-stu-id="08f89-167">In Azure Machine Learning, there is a [Feature Hashing](https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/) module that creates these word/phrase features conveniently.</span></span> <span data-ttu-id="08f89-168">На рисунке ниже показан пример использования данного модуля.</span><span class="sxs-lookup"><span data-stu-id="08f89-168">Following figure shows an example of using this module.</span></span> <span data-ttu-id="08f89-169">Входной набор данных содержит два столбца: рейтинг книги от 1 до 5 и содержимое фактической рецензии.</span><span class="sxs-lookup"><span data-stu-id="08f89-169">The input dataset contains two columns: the book rating ranging from 1 to 5, and the actual review content.</span></span> <span data-ttu-id="08f89-170">Задача этого модуля [хэширования признаков](https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/) состоит в извлечении множества новых признаков, чтобы показать частоту вхождения соответствующих слов в рецензии на определенную книгу.</span><span class="sxs-lookup"><span data-stu-id="08f89-170">The goal of this [Feature Hashing](https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/) module is to retrieve a bunch of new features that show the occurrence frequency of the corresponding word(s)/phrase(s) within the particular book review.</span></span> <span data-ttu-id="08f89-171">Чтобы использовать этот модуль, необходимо выполнить такие действия.</span><span class="sxs-lookup"><span data-stu-id="08f89-171">To use this module, we need to complete the following steps:</span></span>

* <span data-ttu-id="08f89-172">Сначала выберите столбец, содержащий входной текст («Col2» в этом примере).</span><span class="sxs-lookup"><span data-stu-id="08f89-172">First, select the column that contains the input text ("Col2" in this example).</span></span>
* <span data-ttu-id="08f89-173">Затем для Hashing bitsize установите значение 8, означающее, что будет создано 2^8 = 256 признаков.</span><span class="sxs-lookup"><span data-stu-id="08f89-173">Second, set the "Hashing bitsize" to 8, which means 2^8=256 features will be created.</span></span> <span data-ttu-id="08f89-174">Слова и фразы всего текста будут хэшированы на 256 индексов.</span><span class="sxs-lookup"><span data-stu-id="08f89-174">The word/phase in all the text will be hashed to 256 indices.</span></span> <span data-ttu-id="08f89-175">Параметр Hashing bitsize меняется в диапазоне от 1 до 31.</span><span class="sxs-lookup"><span data-stu-id="08f89-175">The parameter "Hashing bitsize" ranges from 1 to 31.</span></span> <span data-ttu-id="08f89-176">Слова и фразы с меньшей вероятностью хэшируются с тем же индексом при росте значения параметра.</span><span class="sxs-lookup"><span data-stu-id="08f89-176">The word(s)/phrase(s) are less likely to be hashed into the same index if setting it to be a larger number.</span></span>
* <span data-ttu-id="08f89-177">После этого задайте для параметра N-grams значение 2.</span><span class="sxs-lookup"><span data-stu-id="08f89-177">Third, set the parameter "N-grams" to 2.</span></span> <span data-ttu-id="08f89-178">Этот параметр возвращает частоту вхождения униграмм (признаков для каждого отдельного слова) и биграмм (признаков для каждой пары смежных слов) во входном тексте.</span><span class="sxs-lookup"><span data-stu-id="08f89-178">This gets the occurrence frequency of unigrams (a feature for every single word) and bigrams (a feature for every pair of adjacent words) from the input text.</span></span> <span data-ttu-id="08f89-179">Параметр N-grams меняется от 0 до 10, определяя максимальное количество последовательно идущих слов, которые включены в признак.</span><span class="sxs-lookup"><span data-stu-id="08f89-179">The parameter "N-grams" ranges from 0 to 10, which indicates the maximum number of sequential words to be included in a feature.</span></span>  

![Модуль «Хэширование признаков»](./media/machine-learning-data-science-create-features/feature-Hashing1.png)

<span data-ttu-id="08f89-181">На следующем рисунке показано, на что похожи эти новые признаки.</span><span class="sxs-lookup"><span data-stu-id="08f89-181">The following figure shows what the these new feature look like.</span></span>

![Пример «Хэширование признаков»](./media/machine-learning-data-science-create-features/feature-Hashing2.png)

## <a name="conclusion"></a><span data-ttu-id="08f89-183">Заключение</span><span class="sxs-lookup"><span data-stu-id="08f89-183">Conclusion</span></span>
<span data-ttu-id="08f89-184">Реконструированные и выбранные признаки повышают эффективность процесса обучения, который пытается извлечь ключевые сведения, содержащиеся в данных.</span><span class="sxs-lookup"><span data-stu-id="08f89-184">Engineered and selected features increase the efficiency of the training process which attempts to extract the key information contained in the data.</span></span> <span data-ttu-id="08f89-185">Они также дают возможность повысить возможности этих моделей, чтобы точнее классифицировать входные данные и более надежно предсказывать нужные результаты.</span><span class="sxs-lookup"><span data-stu-id="08f89-185">They also improve the power of these models to classify the input data accurately and to predict outcomes of interest more robustly.</span></span> <span data-ttu-id="08f89-186">Реконструирование и выбор признаков можно также объединять, чтобы сделать процесс обучения более алгоритмизируемым.</span><span class="sxs-lookup"><span data-stu-id="08f89-186">Feature engineering and selection can also combine to make the learning more computationally tractable.</span></span> <span data-ttu-id="08f89-187">Этого можно достичь путем расширения и сокращения числа признаков, необходимых для калибровки или обучения модели.</span><span class="sxs-lookup"><span data-stu-id="08f89-187">It does so by enhancing and then reducing the number of features needed to calibrate or train a model.</span></span> <span data-ttu-id="08f89-188">С точки зрения математики выбранные для обучения модели признаки являются минимальным набором независимых переменных, которые определяют структуры в данных и затем успешно прогнозируют результаты.</span><span class="sxs-lookup"><span data-stu-id="08f89-188">Mathematically speaking, the features selected to train the model are a minimal set of independent variables that explain the patterns in the data and then predict outcomes successfully.</span></span>

<span data-ttu-id="08f89-189">Обратите внимание, что он не всегда обязателен для выполнения реконструирования или выбора признаков.</span><span class="sxs-lookup"><span data-stu-id="08f89-189">Note that it is not always necessarily to perform feature engineering or feature selection.</span></span> <span data-ttu-id="08f89-190">Его необходимость зависит от собираемых данных, используемого алгоритма и цели эксперимента.</span><span class="sxs-lookup"><span data-stu-id="08f89-190">Whether it is needed or not depends on the data we have or collect, the algorithm we pick, and the objective of the experiment.</span></span>

