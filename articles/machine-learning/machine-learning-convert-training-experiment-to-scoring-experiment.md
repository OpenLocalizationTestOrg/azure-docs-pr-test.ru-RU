---
title: "aaaHow tooprepare модели для развертывания в студии машинного обучения Azure | Документы Microsoft"
description: "Как tooprepare обученной модели для развертывания как веб-службы путем преобразования обучения в студии машинного обучения поэкспериментировать tooa прогнозной эксперимента."
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: eb943c45-541a-401d-844a-c3337de82da6
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/28/2017
ms.author: garye
ms.openlocfilehash: d25bc68be63679a803bfc24a9e29e009a9263f5f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooprepare-your-model-for-deployment-in-azure-machine-learning-studio"></a>Как tooprepare модели для развертывания в студии машинного обучения Azure

Здравствуйте инструменты toodevelop модели прогнозирования и ввода в эксплуатацию, развертывая ее как службу Azure web Azure предоставляет студии машинного обучения.

toodo это, используйте toocreate Studio эксперимента - вызывается *эксперимента обучения* — для обучения, оценки и редактирования вашей модели. Убедившись, вы получаете готов toodeploy вашей модели путем преобразования вашей tooa эксперимента обучения *прогнозной эксперимента* , настроил tooscore пользовательских данных.

Полностью этот процесс описан в статье [Пошаговое руководство по разработке решения для прогнозной аналитики в службе машинного обучения Azure для оценки кредитных рисков](machine-learning-walkthrough-develop-predictive-solution.md).

Эта статья представляет собой глубокое погружение в детали hello как эксперимента обучения преобразуется в прогнозирующем эксперимента, а развертывание прогнозной эксперимента. Изучив эти сведения, можно узнать как tooconfigure toomake к развернутой модели его эффективность.

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="overview"></a>Обзор 

процесс преобразования обучения эксперимента прогнозной эксперимента tooa Hello состоит из трех этапов:

1. Замените hello машинного обучения алгоритм модули с использованием обученной модели.
2. Trim tooonly эксперимента hello эти модули, которые требуются для оценки. Эксперимента обучения включает несколько модулей, которые требуются для обучения, но не требуются после обучения модели hello.
3. Определите, как модель будет принимать данные пользователь hello веб-службы, и какие данные будут возвращены.

> [!TIP]
> В обучающем эксперименте все процессы обучения и оценки модели выполнялись с использованием готовых данных. Но после развертывания пользователи будут отправлять новые модели tooyour данных, и она будет возвращать результаты прогноза. Таким образом как вы преобразуете tooget прогнозной эксперимента обучения эксперимента tooa подготовки к развертыванию, имейте в виду как hello модели будет использоваться другими пользователями.
> 
> 

## <a name="set-up-web-service-button"></a>Кнопка «Настроить веб-службу»
После запуска эксперимента (щелкните **ЗАПУСКА** внизу hello холст эксперимента hello), щелкните hello **настройки веб-службы** кнопки (выберите hello **прогнозной веб-служба** параметр). **Настроить веб-службу** выполняет для hello трех шагов преобразования прогнозной эксперимента tooa эксперимента обучения:

1. Она сохраняет обученную модель в hello **обученных моделей** части палитру модуля hello (left toohello визуальной эксперимента hello). Затем она заменяет алгоритм машинного обучения hello и [Обучение модели] [ train-model] модули с hello сохранен обучения модели.
2. Анализирует эксперимент и удаляет модули, которые явным образом использовались только для обучения и потребность в которых отпала.
3. Добавляет в эксперимент стандартные модули _входных_ и _выходных_ данных веб-службы (эти модули принимают данные пользователя и возвращают ему результаты).

Например следующие hello поэкспериментировать серий модели дерева принятия решений повышенного двух классов, используя данные переписи населения образца:

![эксперимент по обучению][figure1]

Hello модули в этом эксперименте выполняют по сути четыре различных функций:

![Функции модуля][figure2]

При преобразовании этого эксперимента обучения tooa прогнозной эксперимента, некоторые из этих модулей больше не нужны, или они теперь выполняют различные функции:

* **Данные** -hello данные в этот образец набора данных не используется во время оценки — пользователь hello hello веб-службы будет передавать оцененных toobe данных hello. Однако метаданные hello из этого набора данных, таких как типы данных, используется hello обученной модели. Поэтому необходимо tookeep hello dataset в эксперименте прогнозной hello так, чтобы он мог предоставлять эти метаданные.

* **Подготовки** — в зависимости от hello пользовательских данных, которые будут отправлены для оценки, эти модули могут находиться не необходимые tooprocess hello входящих данных. Hello **настроить веб-службу** кнопка не touch эти — необходимо toodecide способ toohandle их.
  
    Для экземпляра, в этом примере hello образец набора данных может иметь недостающие значения, поэтому [Очистка недостающих данных] [ clean-missing-data] модуля был включен toodeal с ними. Кроме того образец hello набора данных включает столбцы, которые не являются необходимые tootrain hello модели. Поэтому [Выбор столбцов в наборе данных] [ select-columns] модуля был включен tooexclude эти дополнительные столбцы из hello потока данных. Если вы знаете данных hello, которые будут отправлены для оценки через hello веб-службы не будет отсутствующие значения, а затем можно удалить hello [Очистка недостающих данных] [ clean-missing-data] модуля. Однако, поскольку hello [Выбор столбцов в наборе данных] [ select-columns] модуль помогает определить столбцы hello данных ожидает hello обученной модели, что этот модуль должен tooremain.

* **Обучение** -эти модули, используемые tootrain hello модели. При нажатии кнопки **настроить веб-службу**, эти модули будут заменены один модуль, содержащий модель hello обучении. Этот новый модуль сохраняется в hello **обученных моделей** части палитру модуля hello.

* **Оценка** — в этом примере hello [разбиение данных] [ split] модуль является поток данных используется toodivide hello в тестовые данные и обучающих данных. В эксперименте прогнозной hello, мы выполняется не обучения, это [разбиение данных] [ split] может быть удален. Аналогичным образом, во-вторых hello [модель оценки] [ score-model] модуль и hello [модель оценки] [ evaluate-model] модуля, используемые toocompare результатов теста hello данные, так что эти модули не требуется в прогнозной hello экспериментировать. Осталось Hello [модель оценки] [ score-model] модуля, то, необходимые tooreturn результат оценки через веб-службу hello.

После нажатия кнопки **Настроить веб-службу**наш пример выглядит следующим образом:

![Преобразованный прогностический эксперимент][figure3]

Здравствуйте, работы, выполненной **настроить веб-службу** может быть достаточно tooprepare вашей toobe эксперимента, развернутый как веб-службы. Тем не менее вы можете toodo эксперимента конкретных tooyour некоторые дополнительные действия.

### <a name="adjust-input-and-output-modules"></a>Настройка модулей входных и выходных данных
В эксперименте обучения используется один набор обучающих данных и затем некоторые tooget обработки была hello данных в форме, hello необходимости алгоритм машинного обучения. Если предполагается, что tooreceive через веб-службу hello данных hello не потребуется эта обработка, вы можете обойти: подсоедините hello выход hello **входной модуль веб-службы** tooa модуль в эксперименте. Hello пользовательских данных теперь будут поступать в модели hello в этом расположении.

Например, по умолчанию **настройки веб-службы** помещает hello **веб-службе входные данные** модуль вверху hello потока данных, как показано на приведенном выше рисунке hello. Но мы вручную можно расположить hello **веб-службе входные данные** за hello модули обработки данных:

![Перемещение входных данных hello web службы.][figure4]

Hello входные данные, предоставляемые через hello веб-службы теперь передают непосредственно в модуле оценки модели hello без предварительную обработку.

Аналогичным образом, по умолчанию **настроить веб-службу** помещает hello модуль выходные данные веб-службы hello конца потока данных. В этом примере hello веб-служба будет возвращать toohello пользователя hello выходные данные hello [модель оценки] [ score-model] модуль, который включает вектор hello завершения входных данных и оценки результатов hello.
Тем не менее, если вы предпочитаете tooreturn другим, можно добавить дополнительные модули, прежде чем hello **веб-службы вывода** модуля. 

Например, добавить только результаты оценки tooreturn hello и hello не весь вектор входных данных [Выбор столбцов в наборе данных] [ select-columns] tooexclude модуля, все столбцы, кроме hello оценки результатов. Затем переместите hello **веб-службы вывода** выходные данные модуля toohello hello [Выбор столбцов в наборе данных] [ select-columns] модуля. Hello эксперимента выглядит следующим образом:

![Перемещение Вывод службы web hello][figure5]

### <a name="add-or-remove-additional-data-processing-modules"></a>Добавление и удаление дополнительных модулей обработки данных
Если вам известно, что в эксперименте есть модули, которые не будут нужны при оценке, их можно удалить. Например так как мы перешли hello **веб-службе входные данные** tooa модуль точки после hello модули обработки данных, мы можем удалить hello [Очистка недостающих данных] [ clean-missing-data] модуля из Hello прогнозной эксперимента.

Теперь наш прогностический эксперимент выглядит следующим образом:

![Удаление дополнительного модуля][figure6]


### <a name="add-optional-web-service-parameters"></a>Добавление дополнительных параметров веб-службы
В некоторых случаях можно tooallow hello пользователя к поведению веб-службы toochange hello модулей при обращении к службе hello. *Параметры веб-службы* позволяют toodo это.

Распространенный пример — Настройка [импорта данных] [ import-data] модуля, поэтому пользователь hello hello развернуть веб-службы можно указать другой источник данных, при обращении к веб-службе hello. Или настройка модуля [Экспорт данных][export-data], позволяющего указать другое назначение.

Можно определить параметры веб-службы и связать их с одним или несколькими параметрами модуля. Вы также можете указать, являются они обязательными или нет. пользователь Hello hello веб-службы предоставляет значения для этих параметров при доступ к службе hello и действия модуля hello изменяются соответствующим образом.

Дополнительные сведения о какие параметры веб-службы, и как toouse, см. статью [с помощью параметры веб-службы на обучение машины Azure][webserviceparameters].

[webserviceparameters]: machine-learning-web-service-parameters.md


## <a name="deploy-hello-predictive-experiment-as-a-web-service"></a>Развертывание hello прогнозной эксперимент как веб-службы
Теперь, прогнозирующее эксперимента hello достаточно подготовлен, можно развернуть его как веб-службу Azure. С помощью веб-службы hello, пользователи могут отправлять tooyour модели данных и возвращает его прогнозы модели hello.

Дополнительные сведения о процессе полное развертывание hello см [развертывания веб-службы машинного обучения Azure][deploy]

[deploy]: machine-learning-publish-a-machine-learning-web-service.md


<!-- Images -->
[figure1]:./media/machine-learning-convert-training-experiment-to-scoring-experiment/figure1.png
[figure2]:./media/machine-learning-convert-training-experiment-to-scoring-experiment/figure2.png
[figure3]:./media/machine-learning-convert-training-experiment-to-scoring-experiment/figure3.png
[figure4]:./media/machine-learning-convert-training-experiment-to-scoring-experiment/figure4.png
[figure5]:./media/machine-learning-convert-training-experiment-to-scoring-experiment/figure5.png
[figure6]:./media/machine-learning-convert-training-experiment-to-scoring-experiment/figure6.png


<!-- Module References -->
[clean-missing-data]: https://msdn.microsoft.com/library/azure/d2c5ca2f-7323-41a3-9b7e-da917c99f0c4/
[evaluate-model]: https://msdn.microsoft.com/library/azure/927d65ac-3b50-4694-9903-20f6c1672089/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[import-data]: https://msdn.microsoft.com/library/azure/4e1b0fe6-aded-4b3f-a36f-39b8862b9004/
[score-model]: https://msdn.microsoft.com/library/azure/401b4f92-e724-4d5a-be81-d5b0ff9bdb33/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/
[train-model]: https://msdn.microsoft.com/library/azure/5cc7053e-aa30-450d-96c0-dae4be720977/
[export-data]: https://msdn.microsoft.com/library/azure/7a391181-b6a7-4ad4-b82d-e419c0d6522c/
