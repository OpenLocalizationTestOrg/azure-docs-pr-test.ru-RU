---
title: "Развертывание веб-службы машинного обучения | Документация Майкрософт"
description: "Как преобразовать обучающий эксперимент в прогностический эксперимент, подготовить его к развертыванию, а затем развернуть как веб-службу машинного обучения Azure."
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 73a3e9c6-00d0-41d4-8cf1-2ec87713867e
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/06/2017
ms.author: garye
ms.openlocfilehash: 39761f94efc530452a41ef9f2130976803cff711
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="deploy-an-azure-machine-learning-web-service"></a><span data-ttu-id="83cc8-103">Развертывание веб-службы машинного обучения Azure</span><span class="sxs-lookup"><span data-stu-id="83cc8-103">Deploy an Azure Machine Learning web service</span></span>
<span data-ttu-id="83cc8-104">Машинное обучение Azure позволяет создавать, тестировать и развертывать решения для прогнозной аналитики.</span><span class="sxs-lookup"><span data-stu-id="83cc8-104">Azure Machine Learning enables you to build, test, and deploy predictive analytic solutions.</span></span>

<span data-ttu-id="83cc8-105">Этот процесс можно обобщить до трех этапов:</span><span class="sxs-lookup"><span data-stu-id="83cc8-105">From a high-level point-of-view, this is done in three steps:</span></span>

* <span data-ttu-id="83cc8-106">**[Создание обучающего эксперимента]**. Студия машинного обучения Azure Studio представляет собой среду совместной визуальной разработки, используемую для обучения и проверки модели прогнозирования с помощью обучающих данных, предоставляемых вами.</span><span class="sxs-lookup"><span data-stu-id="83cc8-106">**[Create a training experiment]** - Azure Machine Learning Studio is a collaborative visual development environment that you use to train and test a predictive analytics model using training data that you supply.</span></span>
* <span data-ttu-id="83cc8-107">**[Преобразование обучающего эксперимента в прогнозный]** Когда модель обучена с помощью существующих данных и готова для оценки новых данных, вы подготавливаете и оптимизируете свой эксперимент для прогнозов.</span><span class="sxs-lookup"><span data-stu-id="83cc8-107">**[Convert it to a predictive experiment]** - Once your model has been trained with existing data and you're ready to use it to score new data, you prepare and streamline your experiment for predictions.</span></span>
* <span data-ttu-id="83cc8-108">**[Развертывание в качестве веб-службы.]** Прогнозный эксперимент можно развернуть как [новую] или [классическую] веб-службу Azure.</span><span class="sxs-lookup"><span data-stu-id="83cc8-108">**[Deploy it as a web service]** - You can deploy your predictive experiment as a [new] or [classic] Azure web service.</span></span> <span data-ttu-id="83cc8-109">Пользователи могут отправлять данные в вашу модель и получать ее прогнозы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-109">Users can send data to your model and receive your model's predictions.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="create-a-training-experiment"></a><span data-ttu-id="83cc8-110">Создание обучающего эксперимента</span><span class="sxs-lookup"><span data-stu-id="83cc8-110">Create a training experiment</span></span>
<span data-ttu-id="83cc8-111">Чтобы обучить модель прогнозирующей аналитики использовании, с помощью Студии машинного обучения Azure вы создаете эксперимент по обучению с различными модулями для загрузки обучающих данных, необходимой подготовки данных, применения алгоритмов машинного обучения и оценки результатов.</span><span class="sxs-lookup"><span data-stu-id="83cc8-111">To train a predictive analytics model, you use Azure Machine Learning Studio to create a training experiment where you include various modules to load training data, prepare the data as necessary, apply machine learning algorithms, and evaluate the results.</span></span> <span data-ttu-id="83cc8-112">Вы можете выполнять итерации эксперимента и испытывать разные алгоритмы машинного обучения, чтобы сравнить и оценить результаты.</span><span class="sxs-lookup"><span data-stu-id="83cc8-112">You can iterate on an experiment and try different machine learning algorithms to compare and evaluate the results.</span></span>

<span data-ttu-id="83cc8-113">Процесс создания обучающих экспериментов и управления ими рассматривается более подробно в других материалах.</span><span class="sxs-lookup"><span data-stu-id="83cc8-113">The process of creating and managing training experiments is covered more thoroughly elsewhere.</span></span> <span data-ttu-id="83cc8-114">Дополнительные сведения вы найдете в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="83cc8-114">For more information, see these articles:</span></span>

* [<span data-ttu-id="83cc8-115">Создание простого эксперимента в Студии машинного обучения Azure</span><span class="sxs-lookup"><span data-stu-id="83cc8-115">Create a simple experiment in Azure Machine Learning Studio</span></span>](machine-learning-create-experiment.md)
* [<span data-ttu-id="83cc8-116">Разработка прогнозирующего решения с помощью машинного обучения Azure</span><span class="sxs-lookup"><span data-stu-id="83cc8-116">Develop a predictive solution with Azure Machine Learning</span></span>](machine-learning-walkthrough-develop-predictive-solution.md)
* [<span data-ttu-id="83cc8-117">Импорт обучающих данных в Студию машинного обучения Azure</span><span class="sxs-lookup"><span data-stu-id="83cc8-117">Import your training data into Azure Machine Learning Studio</span></span>](machine-learning-data-science-import-data.md)
* [<span data-ttu-id="83cc8-118">Управление итерациями экспериментов в Студии машинного обучения Azure</span><span class="sxs-lookup"><span data-stu-id="83cc8-118">Manage experiment iterations in Azure Machine Learning Studio</span></span>](machine-learning-manage-experiment-iterations.md)

## <a name="convert-the-training-experiment-to-a-predictive-experiment"></a><span data-ttu-id="83cc8-119">Преобразование обучающего эксперимента в прогностический эксперимент</span><span class="sxs-lookup"><span data-stu-id="83cc8-119">Convert the training experiment to a predictive experiment</span></span>
<span data-ttu-id="83cc8-120">После обучения модели вы можете преобразовать обучающий эксперимент в прогнозный, чтобы оценить новые данные.</span><span class="sxs-lookup"><span data-stu-id="83cc8-120">Once you've trained your model, you're ready to convert your training experiment into a predictive experiment to score new data.</span></span>

<span data-ttu-id="83cc8-121">После преобразования в прогностический эксперимент ваша модель обучения готова к развертыванию в качестве оценивающей веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-121">By converting to a predictive experiment, you're getting your trained model ready to be deployed as a scoring web service.</span></span> <span data-ttu-id="83cc8-122">Пользователи веб-службы будут отправлять в модель входные данные, а модель будет возвращать им результаты прогнозов.</span><span class="sxs-lookup"><span data-stu-id="83cc8-122">Users of the web service can send input data to your model and your model will send back the prediction results.</span></span> <span data-ttu-id="83cc8-123">При преобразовании эксперимента в прогнозный следует учитывать, как пользователи будут использовать эту модель.</span><span class="sxs-lookup"><span data-stu-id="83cc8-123">As you convert to a predictive experiment, keep in mind how you expect your model to be used by others.</span></span>

<span data-ttu-id="83cc8-124">Чтобы преобразовать обучающий эксперимент в прогнозный, в нижней части холста эксперимента нажмите кнопку **Run** (Выполнить), а затем щелкните **Set Up Web Service** (Настроить веб-службу) и выберите **Predictive Web Service** (Прогностическая веб-служба).</span><span class="sxs-lookup"><span data-stu-id="83cc8-124">To convert your training experiment to a predictive experiment, click **Run** at the bottom of the experiment canvas, click **Set Up Web Service**, then select **Predictive Web Service**.</span></span>

![Преобразование в эксперимент по оценке](./media/machine-learning-publish-a-machine-learning-web-service/figure-1.png)

<span data-ttu-id="83cc8-126">Дополнительные сведения о том, как можно выполнить преобразование, см.в статье [Преобразование обучающего эксперимента машинного обучения в прогностический эксперимент](machine-learning-convert-training-experiment-to-scoring-experiment.md).</span><span class="sxs-lookup"><span data-stu-id="83cc8-126">For more information on how to perform this conversion, see [How to prepare your model for deployment in Azure Machine Learning Studio](machine-learning-convert-training-experiment-to-scoring-experiment.md).</span></span>

<span data-ttu-id="83cc8-127">Ниже описано, как развернуть прогнозный эксперимент в качестве новой веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-127">The following steps describe deploying a predictive experiment as a New web service.</span></span> <span data-ttu-id="83cc8-128">Кроме того, эксперимент можно развернуть как классическую веб-службу.</span><span class="sxs-lookup"><span data-stu-id="83cc8-128">You can also deploy the experiment as Classic web service.</span></span>

## <a name="deploy-it-as-a-web-service"></a><span data-ttu-id="83cc8-129">Развертывание эксперимента в виде веб-службы</span><span class="sxs-lookup"><span data-stu-id="83cc8-129">Deploy it as a web service</span></span>

<span data-ttu-id="83cc8-130">Прогнозный эксперимент можно развернуть в качестве новой или классической веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-130">You can deploy the predictive experiment as a New web service or as a Classic web service.</span></span>

### <a name="deploy-the-predictive-experiment-as-a-new-web-service"></a><span data-ttu-id="83cc8-131">Развертывание прогнозного эксперимента в качестве новой веб-службы</span><span class="sxs-lookup"><span data-stu-id="83cc8-131">Deploy the predictive experiment as a New web service</span></span>
<span data-ttu-id="83cc8-132">Теперь, когда прогнозный эксперимент подготовлен, его можно развернуть в качестве новой веб-службы Azure.</span><span class="sxs-lookup"><span data-stu-id="83cc8-132">Now that the predictive experiment has been prepared, you can deploy it as a new Azure web service.</span></span> <span data-ttu-id="83cc8-133">С помощью веб-службы пользователи могут отправлять данные модели, которая, в свою очередь, будет возвращать свои прогнозы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-133">Using the web service, users can send data to your model and the model will return its predictions.</span></span>

<span data-ttu-id="83cc8-134">Чтобы развернуть прогнозный эксперимент, в нижней части области эксперимента щелкните **Run** (Выполнить).</span><span class="sxs-lookup"><span data-stu-id="83cc8-134">To deploy your predictive experiment, click **Run** at the bottom of the experiment canvas.</span></span> <span data-ttu-id="83cc8-135">После завершения эксперимента щелкните **Deploy Web Service** (Развернуть веб-службу) и выберите **Deploy Web Service [новую]**.</span><span class="sxs-lookup"><span data-stu-id="83cc8-135">Once the experiment has finished running, click **Deploy Web Service** and select **Deploy Web Service [New]**.</span></span>  <span data-ttu-id="83cc8-136">Откроется страница развертывания на портале веб-службы машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="83cc8-136">The deployment page of the Machine Learning Web Service portal opens.</span></span>

> [!NOTE] 
> <span data-ttu-id="83cc8-137">Для развертывания новой веб-службы у вас должен быть достаточный уровень разрешений в подписке, в которую выполняется развертывание веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-137">To deploy a New web service you must have sufficient permissions in the subscription to which you deploying the web service.</span></span> <span data-ttu-id="83cc8-138">Дополнительные сведения см. в статье [Управление веб-службой с помощью портала веб-служб машинного обучения Azure](machine-learning-manage-new-webservice.md).</span><span class="sxs-lookup"><span data-stu-id="83cc8-138">For more information see, [Manage a Web service using the Azure Machine Learning Web Services portal](machine-learning-manage-new-webservice.md).</span></span> 

#### <a name="machine-learning-web-service-portal-deploy-experiment-page"></a><span data-ttu-id="83cc8-139">Страница развертывания эксперимента на портале веб-службы машинного обучения</span><span class="sxs-lookup"><span data-stu-id="83cc8-139">Machine Learning Web Service portal Deploy Experiment Page</span></span>
<span data-ttu-id="83cc8-140">На странице "Deploy Experiment" (Развертывание эксперимента) введите имя веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-140">On the Deploy Experiment page, enter a name for the web service.</span></span>
<span data-ttu-id="83cc8-141">Выберите ценовой план.</span><span class="sxs-lookup"><span data-stu-id="83cc8-141">Select a pricing plan.</span></span> <span data-ttu-id="83cc8-142">Если у вас уже имеется ценовой план, то можно выбрать его. В противном случае необходимо создать ценовой план для службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-142">If you have an existing pricing plan you can select it, otherwise you must create a new price plan for the service.</span></span>

1. <span data-ttu-id="83cc8-143">В раскрывающемся списке **Price Plan** (Ценовой план) выберите существующий план или щелкните **Select new plan** (Выбрать новый план).</span><span class="sxs-lookup"><span data-stu-id="83cc8-143">In the **Price Plan** drop down, select an existing plan or select the **Select new plan** option.</span></span>
2. <span data-ttu-id="83cc8-144">В поле **Имя плана**введите имя для идентификации плана в счете.</span><span class="sxs-lookup"><span data-stu-id="83cc8-144">In **Plan Name**, type a name that will identify the plan on your bill.</span></span>
3. <span data-ttu-id="83cc8-145">Выберите один из вариантов **Monthly Plan Tier**(Уровень ежемесячного плана).</span><span class="sxs-lookup"><span data-stu-id="83cc8-145">Select one of the **Monthly Plan Tiers**.</span></span> <span data-ttu-id="83cc8-146">По умолчанию указаны уровни плана для вашего региона по умолчанию, и веб-служба развертывается именно в этом регионе.</span><span class="sxs-lookup"><span data-stu-id="83cc8-146">The plan tiers default to the plans for your default region and your web service is deployed to that region.</span></span>

<span data-ttu-id="83cc8-147">Щелкните **Deploy** (Развернуть). Откроется страница **быстрого запуска** веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-147">Click **Deploy** and the **Quickstart** page for your web service opens.</span></span>

<span data-ttu-id="83cc8-148">На странице быстрого запуска веб-службы доступны рекомендации по выполнению распространенных задач после создания веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-148">The web service Quickstart page gives you access and guidance on the most common tasks you will perform after creating a web service.</span></span> <span data-ttu-id="83cc8-149">С нее можно быстро перейти на страницу тестирования или использования.</span><span class="sxs-lookup"><span data-stu-id="83cc8-149">From here, you can easily access both the Test page and Consume page.</span></span>

<!-- ![Deploy the web service](./media/machine-learning-publish-a-machine-learning-web-service/figure-2.png)-->

#### <a name="test-your-new-web-service"></a><span data-ttu-id="83cc8-150">Тестирование новой веб-службы</span><span class="sxs-lookup"><span data-stu-id="83cc8-150">Test your New web service</span></span>
<span data-ttu-id="83cc8-151">Чтобы протестировать новую веб-службу, в разделе общих задач щелкните **Test web service** (Тестировать веб-службу).</span><span class="sxs-lookup"><span data-stu-id="83cc8-151">To test your new web service, click **Test web service** under common tasks.</span></span> <span data-ttu-id="83cc8-152">На странице тестирования веб-службу можно проверить двумя способами: как службу RRS (запрос-ответ) или как службу BES (пакетное выполнение).</span><span class="sxs-lookup"><span data-stu-id="83cc8-152">On the Test page, you can test your web service as a Request-Response Service (RRS) or a Batch Execution service (BES).</span></span>

<span data-ttu-id="83cc8-153">На странице тестирования RRS отображаются входные и выходные данные, а также все глобальные параметры, которые были определены для эксперимента.</span><span class="sxs-lookup"><span data-stu-id="83cc8-153">The RRS test page displays the inputs, outputs, and any global parameters that you have defined for the experiment.</span></span> <span data-ttu-id="83cc8-154">Чтобы протестировать веб-службу, вручную введите необходимые значения для входных данных или предоставьте тестовые значения в файле данных с разделителями-запятыми (CSV).</span><span class="sxs-lookup"><span data-stu-id="83cc8-154">To test the web service, you can manually enter appropriate values for the inputs or supply a comma separated value (CSV) formatted file containing the test values.</span></span>

<span data-ttu-id="83cc8-155">Для тестирования с помощью службы RRS в режиме представления списка введите необходимые значения для входных данных и щелкните **Test Request-Response**(Тестировать "запрос-ответ").</span><span class="sxs-lookup"><span data-stu-id="83cc8-155">To test using RRS, from the list view mode, enter appropriate values for the inputs and click **Test Request-Response**.</span></span> <span data-ttu-id="83cc8-156">Результаты прогноза отобразятся в выходном столбце справа.</span><span class="sxs-lookup"><span data-stu-id="83cc8-156">Your prediction results  display in the output column to the left.</span></span>

![Развертывание веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-5-test-request-response.png)

<span data-ttu-id="83cc8-158">Для тестирования службы BES щелкните **Batch**(Пакетная служба).</span><span class="sxs-lookup"><span data-stu-id="83cc8-158">To test your BES, click **Batch**.</span></span> <span data-ttu-id="83cc8-159">На странице тестирования "Batch" (Пакетная служба) в разделе входных данных нажмите кнопку "Browse" (Обзор) и выберите CSV-файл, содержащий необходимые примеры значений.</span><span class="sxs-lookup"><span data-stu-id="83cc8-159">On the Batch test page, click Browse under your input and select a CSV file containing appropriate sample values.</span></span> <span data-ttu-id="83cc8-160">Если у вас нет CSV-файла и прогнозный эксперимент вы создали с помощью Студии машинного обучения, скачайте набор данных для своего прогнозного эксперимента и используйте его.</span><span class="sxs-lookup"><span data-stu-id="83cc8-160">If you don't have a CSV file, and you created your predictive experiment using Machine Learning Studio, you can download the data set for your predictive experiment and use it.</span></span>

<span data-ttu-id="83cc8-161">Чтобы скачать набор данных, откройте Студию машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="83cc8-161">To download the data set, open Machine Learning Studio.</span></span> <span data-ttu-id="83cc8-162">Откройте прогнозный эксперимент и щелкните правой кнопкой мыши входные данные своего эксперимента.</span><span class="sxs-lookup"><span data-stu-id="83cc8-162">Open your predictive experiment and right click the input for your experiment.</span></span> <span data-ttu-id="83cc8-163">В контекстном меню выберите **dataset** (набор данных), а затем выберите **Download** (Скачать).</span><span class="sxs-lookup"><span data-stu-id="83cc8-163">From the context menu, select **dataset** and then select **Download**.</span></span>

![Развертывание веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-7-mls-download.png)

<span data-ttu-id="83cc8-165">Нажмите **Проверить**.</span><span class="sxs-lookup"><span data-stu-id="83cc8-165">Click **Test**.</span></span> <span data-ttu-id="83cc8-166">Состояние задания пакетного выполнения отобразится справа в разделе **Test Batch Jobs**(Тестирование пакетных заданий).</span><span class="sxs-lookup"><span data-stu-id="83cc8-166">The status of your Batch Execution job displays to the right under **Test Batch Jobs**.</span></span>

![Развертывание веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-6-test-batch-execution.png)

<!--![Test the web service](./media/machine-learning-publish-a-machine-learning-web-service/figure-3.png)-->

<span data-ttu-id="83cc8-168">На странице **конфигурации** можно изменить описание или заголовок, обновить ключ учетной записи хранения, а также включить образцы данных для веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-168">On the **CONFIGURATION** page, you can change the description, title, update the storage account key, and enable sample data for your web service.</span></span>

![Настройка веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-8-arm-configure.png)

<span data-ttu-id="83cc8-170">После развертывания веб-службы можно сделать следующее:</span><span class="sxs-lookup"><span data-stu-id="83cc8-170">Once you've deployed the web service, you can:</span></span>

* <span data-ttu-id="83cc8-171">**обращаться** к ней через API веб-службы;</span><span class="sxs-lookup"><span data-stu-id="83cc8-171">**Access** it through the web service API.</span></span>
* <span data-ttu-id="83cc8-172">**управлять** этой веб-службой через портал веб-служб Машинного обучения Microsoft Azure или классический портал Azure;</span><span class="sxs-lookup"><span data-stu-id="83cc8-172">**Manage** it through Azure Machine Learning web services portal or the Azure classic portal.</span></span>
* <span data-ttu-id="83cc8-173">**обновлять** ее при изменении модели.</span><span class="sxs-lookup"><span data-stu-id="83cc8-173">**Update** it if your model changes.</span></span>

#### <a name="access-your-new-web-service"></a><span data-ttu-id="83cc8-174">Доступ к новой веб-службе</span><span class="sxs-lookup"><span data-stu-id="83cc8-174">Access your New web service</span></span>
<span data-ttu-id="83cc8-175">После развертывания веб-службы из студии машинного обучения в эту службу можно отправлять данные и программным способом получать ответы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-175">Once you deploy your web service from Machine Learning Studio, you can send data to the service and receive responses programmatically.</span></span>

<span data-ttu-id="83cc8-176">Страница **Consume** (Использование) предоставляет всю информацию, необходимую для доступа к веб-службе.</span><span class="sxs-lookup"><span data-stu-id="83cc8-176">The **Consume** page provides all the information you need to access your web service.</span></span> <span data-ttu-id="83cc8-177">Например, предоставляемый ключ API обеспечивает авторизованный доступ к службе.</span><span class="sxs-lookup"><span data-stu-id="83cc8-177">For example, the API key is provided to allow authorized access to the service.</span></span>

<span data-ttu-id="83cc8-178">Дополнительные сведения о доступе к веб-службе машинного обучения см. в статье [Как использовать веб-службу машинного обучения Azure](machine-learning-consume-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="83cc8-178">For more information about accessing a Machine Learning web service, see [How to consume an Azure Machine Learning Web service](machine-learning-consume-web-services.md).</span></span>

#### <a name="manage-your-new-web-service"></a><span data-ttu-id="83cc8-179">Управление новой веб-службой</span><span class="sxs-lookup"><span data-stu-id="83cc8-179">Manage your New web service</span></span>
<span data-ttu-id="83cc8-180">С помощью портала веб-служб машинного обучения можно осуществлять управление новыми веб-службами.</span><span class="sxs-lookup"><span data-stu-id="83cc8-180">You can manage your New web services Machine Learning Web Services portal.</span></span> <span data-ttu-id="83cc8-181">На [главной странице портала](https://services.azureml-test.net/) щелкните **Web Services** (Веб-службы).</span><span class="sxs-lookup"><span data-stu-id="83cc8-181">From the [main portal page](https://services.azureml-test.net/), click **Web Services**.</span></span> <span data-ttu-id="83cc8-182">На странице веб-служб можно удалить службу или скопировать ее.</span><span class="sxs-lookup"><span data-stu-id="83cc8-182">From the web services page, you can delete or copy a service.</span></span> <span data-ttu-id="83cc8-183">Для наблюдения за конкретной службой выберите службу и щелкните **Dashboard**(Панель мониторинга).</span><span class="sxs-lookup"><span data-stu-id="83cc8-183">To monitor a specific service, click the service and then click **Dashboard**.</span></span> <span data-ttu-id="83cc8-184">Для наблюдения за выполнением пакетных заданий, связанных с веб-службой, щелкните **Batch Request Log**(Журнал пакетных запросов).</span><span class="sxs-lookup"><span data-stu-id="83cc8-184">To monitor batch jobs associated with the web service, click **Batch Request Log**.</span></span>

### <a name="deploy-the-predictive-experiment-as-a-classic-web-service"></a><span data-ttu-id="83cc8-185">Развертывание прогнозного эксперимента в качестве классической веб-службы</span><span class="sxs-lookup"><span data-stu-id="83cc8-185">Deploy the predictive experiment as a Classic web service</span></span>

<span data-ttu-id="83cc8-186">Теперь, когда прогностический эксперимент был необходимым образом подготовлен, его можно развернуть в качестве классической веб-службы Azure.</span><span class="sxs-lookup"><span data-stu-id="83cc8-186">Now that the predictive experiment has been sufficiently prepared, you can deploy it as a Classic Azure web service.</span></span> <span data-ttu-id="83cc8-187">С помощью веб-службы пользователи могут отправлять данные модели, которая, в свою очередь, будет возвращать свои прогнозы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-187">Using the web service, users can send data to your model and the model will return its predictions.</span></span>

<span data-ttu-id="83cc8-188">Чтобы развернуть прогностический эксперимент, нажмите **Run** (Выполнить) в нижней части холста эксперимента, а затем выберите **Deploy Web Service** (Развернуть веб-службу).</span><span class="sxs-lookup"><span data-stu-id="83cc8-188">To deploy your predictive experiment, click **Run** at the bottom of the experiment canvas and then click **Deploy Web Service**.</span></span> <span data-ttu-id="83cc8-189">Веб-служба будет настроена, затем отобразится ее панель мониторинга.</span><span class="sxs-lookup"><span data-stu-id="83cc8-189">The web service is set up and you are placed in the web service dashboard.</span></span>

![Развертывание веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-2.png)

#### <a name="test-your-classic-web-service"></a><span data-ttu-id="83cc8-191">Тестирование классической веб-службы</span><span class="sxs-lookup"><span data-stu-id="83cc8-191">Test your Classic web service</span></span>

<span data-ttu-id="83cc8-192">Веб-службу можно протестировать на портале веб-служб машинного обучения или в студии машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="83cc8-192">You can test the web service in either the Machine Learning Web Services portal or Machine Learning Studio.</span></span>

<span data-ttu-id="83cc8-193">Чтобы протестировать веб-службу "запрос-ответ", щелкните ссылку **Test** (Проверить) на панели мониторинга веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-193">To test the Request Response web service, click the **Test** button in the web service dashboard.</span></span> <span data-ttu-id="83cc8-194">Появится диалоговое окно, предлагающее ввести входные данные для службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-194">A dialog pops up to ask you for the input data for the service.</span></span> <span data-ttu-id="83cc8-195">Это столбцы, ожидаемые экспериментом по оценке.</span><span class="sxs-lookup"><span data-stu-id="83cc8-195">These are the columns expected by the scoring experiment.</span></span> <span data-ttu-id="83cc8-196">Введите набор данных и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="83cc8-196">Enter a set of data and then click **OK**.</span></span> <span data-ttu-id="83cc8-197">Результаты, созданные веб-службой, отображаются внизу панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="83cc8-197">The results generated by the web service are displayed at the bottom of the dashboard.</span></span>

<span data-ttu-id="83cc8-198">Ссылка **Test** (Проверить) позволяет протестировать службу на портале веб-службы машинного обучения Azure, как описано выше в разделе о развертывании новой веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-198">You can click the **Test** preview link to test your service in the Azure Machine Learning Web Services portal as shown previously in the New web service section.</span></span>

<span data-ttu-id="83cc8-199">Чтобы протестировать службу пакетного выполнения, щелкните ссылку **Test** (Проверить).</span><span class="sxs-lookup"><span data-stu-id="83cc8-199">To test the Batch Execution Service, click **Test** preview link .</span></span> <span data-ttu-id="83cc8-200">На странице тестирования "Batch" (Пакетная служба) в разделе входных данных нажмите кнопку "Browse" (Обзор) и выберите CSV-файл, содержащий необходимые примеры значений.</span><span class="sxs-lookup"><span data-stu-id="83cc8-200">On the Batch test page, click Browse under your input and select a CSV file containing appropriate sample values.</span></span> <span data-ttu-id="83cc8-201">Если у вас нет CSV-файла и прогнозный эксперимент вы создали с помощью Студии машинного обучения, скачайте набор данных для своего прогнозного эксперимента и используйте его.</span><span class="sxs-lookup"><span data-stu-id="83cc8-201">If you don't have a CSV file, and you created your predictive experiment using Machine Learning Studio, you can download the data set for your predictive experiment and use it.</span></span>

![Тестирование веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-3.png)

<span data-ttu-id="83cc8-203">На странице **Configuration** (Настройка) можно изменить отображаемое имя службы и добавить ее описание.</span><span class="sxs-lookup"><span data-stu-id="83cc8-203">On the **CONFIGURATION** page, you can change the display name of the service and give it a description.</span></span> <span data-ttu-id="83cc8-204">Имя и описание отображаются на [классическом портале Azure](http://manage.windowsazure.com/) , на котором осуществляется управление веб-службами.</span><span class="sxs-lookup"><span data-stu-id="83cc8-204">The name and description is displayed in the [Azure classic portal](http://manage.windowsazure.com/) where you manage your web services.</span></span>

<span data-ttu-id="83cc8-205">Вы можете предоставить описание входных данных, выходных данных и параметров веб-службы, введя строковые данные для каждого столбца в разделах **INPUT SCHEMA** (Схема входных данных), **OUTPUT SCHEMA** (Схема выходных данных) и **Web Service Parameter** (Параметр веб-службы).</span><span class="sxs-lookup"><span data-stu-id="83cc8-205">You can provide a description for your input data, output data, and web service parameters by entering a string for each column under **INPUT SCHEMA**, **OUTPUT SCHEMA**, and **Web SERVICE PARAMETER**.</span></span> <span data-ttu-id="83cc8-206">Эти описания используются в документации по примерам кода для веб-службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-206">These descriptions are used in the sample code documentation provided for the web service.</span></span>

<span data-ttu-id="83cc8-207">Включив ведение журнала, вы сможете диагностировать сбои, которые происходят при обращении к веб-службе.</span><span class="sxs-lookup"><span data-stu-id="83cc8-207">You can enable logging to diagnose any failures that you're seeing when your web service is accessed.</span></span> <span data-ttu-id="83cc8-208">Дополнительную информацию см. в статье [Включение функции ведения журналов для веб-служб машинного обучения](machine-learning-web-services-logging.md).</span><span class="sxs-lookup"><span data-stu-id="83cc8-208">For more information, see [Enable logging for Machine Learning web services](machine-learning-web-services-logging.md).</span></span>

![Настройка веб-службы](./media/machine-learning-publish-a-machine-learning-web-service/figure-4.png)

<span data-ttu-id="83cc8-210">Кроме того, на портале веб-службы машинного обучения Azure можно настроить конечные точки веб-службы. См. раздел о развертывании новой веб-службы выше.</span><span class="sxs-lookup"><span data-stu-id="83cc8-210">You can also configure the endpoints for the web service in the Azure Machine Learning Web Services portal similar to the procedure shown previously in the New web service section.</span></span> <span data-ttu-id="83cc8-211">В этом случае будут доступны другие возможности: можно добавить или изменить описание службы, активировать ведение журнала и включить пример данных для тестирования.</span><span class="sxs-lookup"><span data-stu-id="83cc8-211">The options are different, you can add or change the service description, enable logging, and enable sample data for testing.</span></span>

#### <a name="access-your-classic-web-service"></a><span data-ttu-id="83cc8-212">Доступ к классической веб-службе</span><span class="sxs-lookup"><span data-stu-id="83cc8-212">Access your Classic web service</span></span>
<span data-ttu-id="83cc8-213">После развертывания веб-службы из студии машинного обучения в эту службу можно отправлять данные и программным способом получать ответы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-213">Once you deploy your web service from Machine Learning Studio, you can send data to the service and receive responses programmatically.</span></span>

<span data-ttu-id="83cc8-214">Панель мониторинга предоставляет всю информацию, необходимую для доступа к веб-службе.</span><span class="sxs-lookup"><span data-stu-id="83cc8-214">The dashboard provides all the information you need to access your web service.</span></span> <span data-ttu-id="83cc8-215">Например, предоставляемый ключ API обеспечивает авторизованный доступ к службе, а страницы справки по API помогут вам приступить к созданию кода.</span><span class="sxs-lookup"><span data-stu-id="83cc8-215">For example, the API key is provided to allow authorized access to the service, and API help pages are provided to help you get started writing your code.</span></span>

<span data-ttu-id="83cc8-216">Дополнительные сведения о доступе к веб-службе машинного обучения см. в статье [Как использовать веб-службу машинного обучения Azure](machine-learning-consume-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="83cc8-216">For more information about accessing a Machine Learning web service, see [How to consume an Azure Machine Learning Web service](machine-learning-consume-web-services.md).</span></span>

#### <a name="manage-your-classic-web-service"></a><span data-ttu-id="83cc8-217">Управление классической веб-службой</span><span class="sxs-lookup"><span data-stu-id="83cc8-217">Manage your Classic web service</span></span>
<span data-ttu-id="83cc8-218">Веб-службу можно отслеживать разными способами.</span><span class="sxs-lookup"><span data-stu-id="83cc8-218">There are various of actions you can perform to monitor a web service.</span></span> <span data-ttu-id="83cc8-219">Ее можно обновить или удалить.</span><span class="sxs-lookup"><span data-stu-id="83cc8-219">You can update it, and delete it.</span></span> <span data-ttu-id="83cc8-220">Кроме того, для классической веб-службы можно добавить другие конечные точки (в дополнение к созданной при развертывании).</span><span class="sxs-lookup"><span data-stu-id="83cc8-220">You can also add additional endpoints to a Classic web service in addition to the default endpoint that is created when you deploy it.</span></span>

<span data-ttu-id="83cc8-221">Дополнительные сведения см. в статьях [Управление рабочей областью машинного обучения Azure](machine-learning-manage-workspace.md) и [Управление веб-службой с помощью портала веб-служб машинного обучения Azure](machine-learning-manage-new-webservice.md).</span><span class="sxs-lookup"><span data-stu-id="83cc8-221">For more information, see [Manage an Azure Machine Learning workspace](machine-learning-manage-workspace.md) and [Manage a web service using the Azure Machine Learning Web Services portal](machine-learning-manage-new-webservice.md).</span></span>

<!-- When this article gets published, fix the link and uncomment
For more information on how to manage Azure Machine Learning web service endpoints using the REST API, see **Azure machine learning web service endpoints**.
-->

## <a name="update-the-web-service"></a><span data-ttu-id="83cc8-222">Обновление веб-службы</span><span class="sxs-lookup"><span data-stu-id="83cc8-222">Update the web service</span></span>
<span data-ttu-id="83cc8-223">Вы можете внести изменения в веб-службу, например обновить модель дополнительными обучающими данными, и развернуть ее снова, перезаписав исходную веб-службу.</span><span class="sxs-lookup"><span data-stu-id="83cc8-223">You can make changes to your web service, such as updating the model with additional training data, and deploy it again, overwriting the original web service.</span></span>

<span data-ttu-id="83cc8-224">Чтобы обновить веб-службу, откройте исходный прогностический эксперимент, использованный для развертывания веб-службы, и создайте редактируемую копию, нажав **СОХРАНИТЬ КАК**.</span><span class="sxs-lookup"><span data-stu-id="83cc8-224">To update the web service, open the original predictive experiment you used to deploy the web service and make an editable copy by clicking **SAVE AS**.</span></span> <span data-ttu-id="83cc8-225">Внесите изменения и нажмите **Развернуть веб-службу**.</span><span class="sxs-lookup"><span data-stu-id="83cc8-225">Make your changes and then click **Deploy Web Service**.</span></span>

<span data-ttu-id="83cc8-226">Так как этот эксперимент уже был развернут, отобразится запрос на перезапись (для классической веб-службы) или обновление (для новой веб-службы) существующей службы.</span><span class="sxs-lookup"><span data-stu-id="83cc8-226">Because you've deployed this experiment before, you are asked if you want to overwrite (Classic Web Service) or update (New web service) the existing service.</span></span> <span data-ttu-id="83cc8-227">Если нажать **Да** или **Обновить**, существующая веб-служба будет остановлена и вместо нее будет развернут новый прогнозный эксперимент.</span><span class="sxs-lookup"><span data-stu-id="83cc8-227">Clicking **YES** or **Update** stops the existing web service and deploys the new predictive experiment is deployed in its place.</span></span>

> [!NOTE]
> <span data-ttu-id="83cc8-228">Если вы внесли изменения в конфигурацию исходной веб-службы, например, введя новое отображаемое имя или описание, необходимо будет снова ввести эти значения.</span><span class="sxs-lookup"><span data-stu-id="83cc8-228">If you made configuration changes in the original web service, for example, entering a new display name or description, you will need to enter those values again.</span></span>
> 
> 

<span data-ttu-id="83cc8-229">Один из вариантов обновления веб-службы — переобучить модель программно.</span><span class="sxs-lookup"><span data-stu-id="83cc8-229">One option for updating your web service is to retrain the model programmatically.</span></span> <span data-ttu-id="83cc8-230">For more information, see [Программное переобучение моделей машинного обучения](machine-learning-retrain-models-programmatically.md).</span><span class="sxs-lookup"><span data-stu-id="83cc8-230">For more information, see [Retrain Machine Learning models programmatically](machine-learning-retrain-models-programmatically.md).</span></span>

<!-- internal links -->
<span data-ttu-id="83cc8-231">[Создание обучающего эксперимента]: #create-a-training-experiment</span><span class="sxs-lookup"><span data-stu-id="83cc8-231">[Create a training experiment]: #create-a-training-experiment</span></span>
<span data-ttu-id="83cc8-232">[Преобразование обучающего эксперимента в прогнозный]: #convert-the-training-experiment-to-a-predictive-experiment</span><span class="sxs-lookup"><span data-stu-id="83cc8-232">[Convert it to a predictive experiment]: #convert-the-training-experiment-to-a-predictive-experiment</span></span>
<span data-ttu-id="83cc8-233">[Развертывание в качестве веб-службы.]: #deploy-it-as-a-web-service</span><span class="sxs-lookup"><span data-stu-id="83cc8-233">[Deploy it as a web service]: #deploy-it-as-a-web-service</span></span>
<span data-ttu-id="83cc8-234">[новую]: #deploy-the-predictive-experiment-as-a-new-Web-service</span><span class="sxs-lookup"><span data-stu-id="83cc8-234">[new]: #deploy-the-predictive-experiment-as-a-new-Web-service</span></span>
<span data-ttu-id="83cc8-235">[классическую]: #deploy-the-predictive-experiment-as-a-new-Web-service</span><span class="sxs-lookup"><span data-stu-id="83cc8-235">[classic]: #deploy-the-predictive-experiment-as-a-new-Web-service</span></span>
[Access]: #access-the-Web-service
[Manage]: #manage-the-Web-service-in-the-azure-management-portal
[Update]: #update-the-Web-service
