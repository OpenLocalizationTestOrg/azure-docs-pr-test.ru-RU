---
title: "aaaUsing линейной регрессии в машинном обучении | Документы Microsoft"
description: "Сравнение моделей линейной регрессии в Excel и Студии машинного обучения Azure"
metakeywords: 
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 417ae6ab-de4f-4bdd-957a-d96133234656
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/20/2017
ms.author: kbaroni;garye
ms.openlocfilehash: 8716040ad296053a72fb06c7c9660a186123ac15
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="using-linear-regression-in-azure-machine-learning"></a><span data-ttu-id="5427e-103">Использование линейной регрессии в Машинном обучении Azure</span><span class="sxs-lookup"><span data-stu-id="5427e-103">Using linear regression in Azure Machine Learning</span></span>
> <span data-ttu-id="5427e-104">*Кейт Барони* (Kate Baroni) и *Бен Боутмен* (Ben Boatman) — архитекторы корпоративных решений в Научно-инновационном центре анализа данных корпорации Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="5427e-104">*Kate Baroni* and *Ben Boatman* are enterprise solution architects in Microsoft’s Data Insights Center of Excellence.</span></span> <span data-ttu-id="5427e-105">В этой статье они описывают порядок работы с перенос существующего регрессии анализа набора tooa облачного решения с помощью машинного обучения Azure.</span><span class="sxs-lookup"><span data-stu-id="5427e-105">In this article, they describe their experience migrating an existing regression analysis suite tooa cloud-based solution using Azure Machine Learning.</span></span> 
> 
> 

&nbsp; 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="goal"></a><span data-ttu-id="5427e-106">Цель</span><span class="sxs-lookup"><span data-stu-id="5427e-106">Goal</span></span>
<span data-ttu-id="5427e-107">У нашего проекта было две цели:</span><span class="sxs-lookup"><span data-stu-id="5427e-107">Our project started with two goals in mind:</span></span> 

1. <span data-ttu-id="5427e-108">Используйте прогнозирующего анализа точности hello tooimprove ежемесячные доход проекций нашей организации</span><span class="sxs-lookup"><span data-stu-id="5427e-108">Use predictive analytics tooimprove hello accuracy of our organization’s monthly revenue projections</span></span> 
2. <span data-ttu-id="5427e-109">Использовать tooconfirm машинного обучения Azure, оптимизации, увеличение скорости и масштаб результатов.</span><span class="sxs-lookup"><span data-stu-id="5427e-109">Use Azure Machine Learning tooconfirm, optimize, increase velocity, and scale of our results.</span></span> 

<span data-ttu-id="5427e-110">Как и множество других компаний, наша организация прогнозирует свой ежемесячный доход.</span><span class="sxs-lookup"><span data-stu-id="5427e-110">Like many businesses, our organization goes through a monthly revenue forecasting process.</span></span> <span data-ttu-id="5427e-111">Нашей небольшой группой бизнес-аналитики был задачу с помощью процесса hello toosupport машинного обучения Azure и повысить точность прогноза.</span><span class="sxs-lookup"><span data-stu-id="5427e-111">Our small team of business analysts was tasked with using Azure Machine Learning toosupport hello process and improve forecast accuracy.</span></span> <span data-ttu-id="5427e-112">несколько месяцев сбора данных из нескольких источников и запуска hello атрибуты данных с помощью статистического анализа, определение прогнозированию продаж соответствующие tooservices ключевых атрибутов, потраченных командой Hello.</span><span class="sxs-lookup"><span data-stu-id="5427e-112">hello team spent several months collecting data from multiple sources and running hello data attributes through statistical analysis identifying key attributes relevant tooservices sales forecasting.</span></span> <span data-ttu-id="5427e-113">следующим шагом Hello было моделей toobegin статистические регрессии для создания прототипов hello данными в Excel.</span><span class="sxs-lookup"><span data-stu-id="5427e-113">hello next step was toobegin prototyping statistical regression models on hello data in Excel.</span></span> <span data-ttu-id="5427e-114">В течение нескольких недель мы должны были модель регрессии Excel, которая больше текущего поля hello и финансового прогнозирования процессов.</span><span class="sxs-lookup"><span data-stu-id="5427e-114">Within a few weeks, we had an Excel regression model that was outperforming hello current field and finance forecasting processes.</span></span> <span data-ttu-id="5427e-115">Это стало результат прогноза hello базовых показателей.</span><span class="sxs-lookup"><span data-stu-id="5427e-115">This became hello baseline prediction result.</span></span> 

<span data-ttu-id="5427e-116">Мы затем перехватил hello следующий шаг toomoving нашей прогнозной аналитики tooAzure toofind машинного обучения, как улучшить машинного обучения на производительность прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="5427e-116">We then took hello next step toomoving our predictive analytics over tooAzure Machine Learning toofind out how Machine Learning could improve on predictive performance.</span></span>

## <a name="achieving-predictive-performance-parity"></a><span data-ttu-id="5427e-117">Достижение соответствия производительности прогнозирования</span><span class="sxs-lookup"><span data-stu-id="5427e-117">Achieving predictive performance parity</span></span>
<span data-ttu-id="5427e-118">Наш приоритетной был tooachieve четность между моделями регрессии машинного обучения и Excel.</span><span class="sxs-lookup"><span data-stu-id="5427e-118">Our first priority was tooachieve parity between Machine Learning and Excel regression models.</span></span> <span data-ttu-id="5427e-119">Учитывая hello и те же данные и hello же разделения для обучающих и проверочных данных, нам необходимо было tooachieve прогнозирования производительности четность между Excel и машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="5427e-119">Given hello same data, and hello same split for training and testing data, we wanted tooachieve predictive performance parity between Excel and Machine Learning.</span></span> <span data-ttu-id="5427e-120">Сначала нам не удалось выполнить эту задачу.</span><span class="sxs-lookup"><span data-stu-id="5427e-120">Initially we failed.</span></span> <span data-ttu-id="5427e-121">модель Excel Hello превзошли hello машинного обучения модели.</span><span class="sxs-lookup"><span data-stu-id="5427e-121">hello Excel model outperformed hello Machine Learning model.</span></span> <span data-ttu-id="5427e-122">Hello произошел из-за отсутствия tooa понимать основы инструмента hello в машинном обучении.</span><span class="sxs-lookup"><span data-stu-id="5427e-122">hello failure was due tooa lack of understanding of hello base tool setting in Machine Learning.</span></span> <span data-ttu-id="5427e-123">После синхронизации с группой разработчиков машинного обучения hello мы приобретенные лучше понять hello базовый параметр требуется для нашей наборов данных и достичь четность между двумя моделями hello.</span><span class="sxs-lookup"><span data-stu-id="5427e-123">After a sync with hello Machine Learning product team, we gained a better understanding of hello base setting required for our data sets, and achieved parity between hello two models.</span></span> 

### <a name="create-regression-model-in-excel"></a><span data-ttu-id="5427e-124">Создание регрессионной модели в Excel</span><span class="sxs-lookup"><span data-stu-id="5427e-124">Create regression model in Excel</span></span>
<span data-ttu-id="5427e-125">Наш Регрессия Excel используется модель стандартных линейной регрессии hello hello пакета анализа в Excel.</span><span class="sxs-lookup"><span data-stu-id="5427e-125">Our Excel Regression used hello standard linear regression model found in hello Excel Analysis ToolPak.</span></span> 

<span data-ttu-id="5427e-126">Мы вычисляется *среднее абсолютное % ошибка* и использования его в качестве меры производительности hello hello модели.</span><span class="sxs-lookup"><span data-stu-id="5427e-126">We calculated *Mean Absolute % Error* and used it as hello performance measure for hello model.</span></span> <span data-ttu-id="5427e-127">Затрачено времени: 3 месяца tooarrive в работе модели с помощью Excel.</span><span class="sxs-lookup"><span data-stu-id="5427e-127">It took 3 months tooarrive at a working model using Excel.</span></span> <span data-ttu-id="5427e-128">Мы оперативный большую часть hello обучения в студии машинного обучения эксперимент, который в конечном итоге было полезным в общее представление о требованиях hello.</span><span class="sxs-lookup"><span data-stu-id="5427e-128">We brought much of hello learning into hello Machine Learning Studio experiment which ultimately was beneficial in understanding requirements.</span></span>

### <a name="create-comparable-experiment-in-azure-machine-learning"></a><span data-ttu-id="5427e-129">Создание сравнительного эксперимента в Машинном обучении Azure</span><span class="sxs-lookup"><span data-stu-id="5427e-129">Create comparable experiment in Azure Machine Learning</span></span>
<span data-ttu-id="5427e-130">Эти действия toocreate мы следовали нашей эксперимента в студии машинного обучения:</span><span class="sxs-lookup"><span data-stu-id="5427e-130">We followed these steps toocreate our experiment in Machine Learning Studio:</span></span> 

1. <span data-ttu-id="5427e-131">Отправленный hello dataset в виде tooMachine файл csv Learning Studio (очень небольшой файл)</span><span class="sxs-lookup"><span data-stu-id="5427e-131">Uploaded hello dataset as a csv file tooMachine Learning Studio (very small file)</span></span>
2. <span data-ttu-id="5427e-132">Создать новый экспериментов и использовать hello [Выбор столбцов в наборе данных] [ select-columns] tooselect модуль hello и те же возможности данные, используемые в Excel</span><span class="sxs-lookup"><span data-stu-id="5427e-132">Created a new experiment and used hello [Select Columns in Dataset][select-columns] module tooselect hello same data features used in Excel</span></span> 
3. <span data-ttu-id="5427e-133">Используемые hello [разбиение данных] [ split] модуля (с *относительное выражение* режим) данных toodivide hello в hello же обучающих наборах данных, которые выполняются в Excel</span><span class="sxs-lookup"><span data-stu-id="5427e-133">Used hello [Split Data][split] module (with *Relative Expression* mode) toodivide hello data into hello same training datasets as had been done in Excel</span></span> 
4. <span data-ttu-id="5427e-134">Поэкспериментировали с hello [линейной регрессии] [ linear-regression] модуля (по умолчанию параметры только), описаны и сравнивать модели регрессии Excel tooour результаты hello</span><span class="sxs-lookup"><span data-stu-id="5427e-134">Experimented with hello [Linear Regression][linear-regression] module (default options only), documented, and compared hello results tooour Excel regression model</span></span>

### <a name="review-initial-results"></a><span data-ttu-id="5427e-135">Просмотр изначальных результатов</span><span class="sxs-lookup"><span data-stu-id="5427e-135">Review initial results</span></span>
<span data-ttu-id="5427e-136">Сначала модель Excel hello четко превзошли hello студии машинного обучения модели:</span><span class="sxs-lookup"><span data-stu-id="5427e-136">At first, hello Excel model clearly outperformed hello Machine Learning Studio model:</span></span> 

|  | <span data-ttu-id="5427e-137">Excel</span><span class="sxs-lookup"><span data-stu-id="5427e-137">Excel</span></span> | <span data-ttu-id="5427e-138">Студия</span><span class="sxs-lookup"><span data-stu-id="5427e-138">Studio</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="5427e-139">Производительность</span><span class="sxs-lookup"><span data-stu-id="5427e-139">Performance</span></span> | | |
| <ul style="list-style-type: none;"><li><span data-ttu-id="5427e-140">Скорректированный коэффициент детерминации R-квадрат</span><span class="sxs-lookup"><span data-stu-id="5427e-140">Adjusted R Square</span></span></li></ul> |<span data-ttu-id="5427e-141">0,96</span><span class="sxs-lookup"><span data-stu-id="5427e-141">0.96</span></span> |<span data-ttu-id="5427e-142">Недоступно</span><span class="sxs-lookup"><span data-stu-id="5427e-142">N/A</span></span> |
| <ul style="list-style-type: none;"><li><span data-ttu-id="5427e-143">Коэффициент</span><span class="sxs-lookup"><span data-stu-id="5427e-143">Coefficient of</span></span> <br /><span data-ttu-id="5427e-144">определения</span><span class="sxs-lookup"><span data-stu-id="5427e-144">Determination</span></span></li></ul> |<span data-ttu-id="5427e-145">Недоступно</span><span class="sxs-lookup"><span data-stu-id="5427e-145">N/A</span></span> |<span data-ttu-id="5427e-146">0,78</span><span class="sxs-lookup"><span data-stu-id="5427e-146">0.78</span></span><br /><span data-ttu-id="5427e-147">(низкая точность)</span><span class="sxs-lookup"><span data-stu-id="5427e-147">(low accuracy)</span></span> |
| <span data-ttu-id="5427e-148">Средняя абсолютная погрешность</span><span class="sxs-lookup"><span data-stu-id="5427e-148">Mean Absolute Error</span></span> |<span data-ttu-id="5427e-149">9 500 000 долл. США</span><span class="sxs-lookup"><span data-stu-id="5427e-149">$9.5M</span></span> |<span data-ttu-id="5427e-150">19 400 000 долл. США</span><span class="sxs-lookup"><span data-stu-id="5427e-150">$ 19.4M</span></span> |
| <span data-ttu-id="5427e-151">Средняя абсолютная погрешность (в %)</span><span class="sxs-lookup"><span data-stu-id="5427e-151">Mean Absolute Error (%)</span></span> |<span data-ttu-id="5427e-152">6,03 %</span><span class="sxs-lookup"><span data-stu-id="5427e-152">6.03%</span></span> |<span data-ttu-id="5427e-153">12,2 %</span><span class="sxs-lookup"><span data-stu-id="5427e-153">12.2%</span></span> |

<span data-ttu-id="5427e-154">Когда мы запустили наши процесса и результатов, hello разработчики и специалисты по анализу данных команды hello машинного обучения, они быстро предоставленные полезные советы.</span><span class="sxs-lookup"><span data-stu-id="5427e-154">When we ran our process and results by hello developers and data scientists on hello Machine Learning team, they quickly provided some useful tips.</span></span> 

* <span data-ttu-id="5427e-155">При использовании hello [линейной регрессии] [ linear-regression] модуля в студии машинного обучения, предоставляются два метода:</span><span class="sxs-lookup"><span data-stu-id="5427e-155">When you use hello [Linear Regression][linear-regression] module in Machine Learning Studio, two methods are provided:</span></span>
  * <span data-ttu-id="5427e-156">метод градиентного спуска в режиме онлайн — может подойти для крупномасштабных проблем;</span><span class="sxs-lookup"><span data-stu-id="5427e-156">Online Gradient Descent: May be more suitable for larger-scale problems</span></span>
  * <span data-ttu-id="5427e-157">Обычный метод наименьших квадратов: Этот способ hello, большинство считают при их услышать линейной регрессии.</span><span class="sxs-lookup"><span data-stu-id="5427e-157">Ordinary Least Squares: This is hello method most people think of when they hear linear regression.</span></span> <span data-ttu-id="5427e-158">Это самый оптимальный выбор для небольших наборов данных.</span><span class="sxs-lookup"><span data-stu-id="5427e-158">For small datasets, Ordinary Least Squares can be a more optimal choice.</span></span>
* <span data-ttu-id="5427e-159">Рассмотрите возможность настройки параметра tooimprove hello вес Регуляризации L2 производительности.</span><span class="sxs-lookup"><span data-stu-id="5427e-159">Consider tweaking hello L2 Regularization Weight parameter tooimprove performance.</span></span> <span data-ttu-id="5427e-160">По умолчанию имеет значение too0.001, но для нашего небольшого набора данных задается его too0.005 tooimprove производительности.</span><span class="sxs-lookup"><span data-stu-id="5427e-160">It is set too0.001 by default, but for our small data set we set it too0.005 tooimprove performance.</span></span> 

### <a name="mystery-solved"></a><span data-ttu-id="5427e-161">Решение найдено!</span><span class="sxs-lookup"><span data-stu-id="5427e-161">Mystery solved!</span></span>
<span data-ttu-id="5427e-162">Мы примененный hello рекомендации, мы достичь hello же базовый уровень производительности в студии машинного обучения с помощью Excel:</span><span class="sxs-lookup"><span data-stu-id="5427e-162">When we applied hello recommendations, we achieved hello same baseline performance in Machine Learning Studio as with Excel:</span></span> 

|  | <span data-ttu-id="5427e-163">Excel</span><span class="sxs-lookup"><span data-stu-id="5427e-163">Excel</span></span> | <span data-ttu-id="5427e-164">Студия (первоначальная версия)</span><span class="sxs-lookup"><span data-stu-id="5427e-164">Studio (Initial)</span></span> | <span data-ttu-id="5427e-165">Студия с методом наименьших квадратов</span><span class="sxs-lookup"><span data-stu-id="5427e-165">Studio w/ Least Squares</span></span> |
| --- |:---:|:---:|:---:|
| <span data-ttu-id="5427e-166">Значение с подписью</span><span class="sxs-lookup"><span data-stu-id="5427e-166">Labeled value</span></span> |<span data-ttu-id="5427e-167">Фактические значения (числовые)</span><span class="sxs-lookup"><span data-stu-id="5427e-167">Actuals (numeric)</span></span> |<span data-ttu-id="5427e-168">—||—</span><span class="sxs-lookup"><span data-stu-id="5427e-168">same</span></span> |<span data-ttu-id="5427e-169">—||—</span><span class="sxs-lookup"><span data-stu-id="5427e-169">same</span></span> |
| <span data-ttu-id="5427e-170">Ученик</span><span class="sxs-lookup"><span data-stu-id="5427e-170">Learner</span></span> |<span data-ttu-id="5427e-171">Excel -> "Анализ данных" -> "Регрессия"</span><span class="sxs-lookup"><span data-stu-id="5427e-171">Excel -> Data Analysis -> Regression</span></span> |<span data-ttu-id="5427e-172">Линейная регрессия</span><span class="sxs-lookup"><span data-stu-id="5427e-172">Linear Regression.</span></span> |<span data-ttu-id="5427e-173">Линейная регрессия</span><span class="sxs-lookup"><span data-stu-id="5427e-173">Linear Regression</span></span> |
| <span data-ttu-id="5427e-174">Параметры ученика</span><span class="sxs-lookup"><span data-stu-id="5427e-174">Learner options</span></span> |<span data-ttu-id="5427e-175">Недоступно</span><span class="sxs-lookup"><span data-stu-id="5427e-175">N/A</span></span> |<span data-ttu-id="5427e-176">Значения по умолчанию</span><span class="sxs-lookup"><span data-stu-id="5427e-176">Defaults</span></span> |<span data-ttu-id="5427e-177">Метод наименьших квадратов</span><span class="sxs-lookup"><span data-stu-id="5427e-177">ordinary least squares</span></span><br /><span data-ttu-id="5427e-178">L2 = 0,005</span><span class="sxs-lookup"><span data-stu-id="5427e-178">L2 = 0.005</span></span> |
| <span data-ttu-id="5427e-179">Набор данных</span><span class="sxs-lookup"><span data-stu-id="5427e-179">Data Set</span></span> |<span data-ttu-id="5427e-180">26 строк, 3 признака, 1 метка.</span><span class="sxs-lookup"><span data-stu-id="5427e-180">26 rows, 3 features, 1 label.</span></span> <span data-ttu-id="5427e-181">Все значения числовые.</span><span class="sxs-lookup"><span data-stu-id="5427e-181">All numeric.</span></span> |<span data-ttu-id="5427e-182">—||—</span><span class="sxs-lookup"><span data-stu-id="5427e-182">same</span></span> |<span data-ttu-id="5427e-183">—||—</span><span class="sxs-lookup"><span data-stu-id="5427e-183">same</span></span> |
| <span data-ttu-id="5427e-184">Разделение: обучение</span><span class="sxs-lookup"><span data-stu-id="5427e-184">Split: Train</span></span> |<span data-ttu-id="5427e-185">Excel обучена на hello строк сначала, 18, проверяется на hello последнего 8 строк.</span><span class="sxs-lookup"><span data-stu-id="5427e-185">Excel trained on hello first 18 rows, tested on hello last 8 rows.</span></span> |<span data-ttu-id="5427e-186">—||—</span><span class="sxs-lookup"><span data-stu-id="5427e-186">same</span></span> |<span data-ttu-id="5427e-187">—||—</span><span class="sxs-lookup"><span data-stu-id="5427e-187">same</span></span> |
| <span data-ttu-id="5427e-188">Разделение: тестирование</span><span class="sxs-lookup"><span data-stu-id="5427e-188">Split: Test</span></span> |<span data-ttu-id="5427e-189">Excel формулу регрессии toohello последнего 8 строк</span><span class="sxs-lookup"><span data-stu-id="5427e-189">Excel regression formula applied toohello last 8 rows</span></span> |<span data-ttu-id="5427e-190">—||—</span><span class="sxs-lookup"><span data-stu-id="5427e-190">same</span></span> |<span data-ttu-id="5427e-191">—||—</span><span class="sxs-lookup"><span data-stu-id="5427e-191">same</span></span> |
| <span data-ttu-id="5427e-192">**Производительность**</span><span class="sxs-lookup"><span data-stu-id="5427e-192">**Performance**</span></span> | | | |
| <span data-ttu-id="5427e-193">Скорректированный коэффициент детерминации R-квадрат</span><span class="sxs-lookup"><span data-stu-id="5427e-193">Adjusted R Square</span></span> |<span data-ttu-id="5427e-194">0,96</span><span class="sxs-lookup"><span data-stu-id="5427e-194">0.96</span></span> |<span data-ttu-id="5427e-195">Недоступно</span><span class="sxs-lookup"><span data-stu-id="5427e-195">N/A</span></span> | |
| <span data-ttu-id="5427e-196">Коэффициент детерминации</span><span class="sxs-lookup"><span data-stu-id="5427e-196">Coefficient of Determination</span></span> |<span data-ttu-id="5427e-197">Недоступно</span><span class="sxs-lookup"><span data-stu-id="5427e-197">N/A</span></span> |<span data-ttu-id="5427e-198">0,78</span><span class="sxs-lookup"><span data-stu-id="5427e-198">0.78</span></span> |<span data-ttu-id="5427e-199">0,952049</span><span class="sxs-lookup"><span data-stu-id="5427e-199">0.952049</span></span> |
| <span data-ttu-id="5427e-200">Средняя абсолютная погрешность</span><span class="sxs-lookup"><span data-stu-id="5427e-200">Mean Absolute Error</span></span> |<span data-ttu-id="5427e-201">9 500 000 долл. США</span><span class="sxs-lookup"><span data-stu-id="5427e-201">$9.5M</span></span> |<span data-ttu-id="5427e-202">19 400 000 долл. США</span><span class="sxs-lookup"><span data-stu-id="5427e-202">$ 19.4M</span></span> |<span data-ttu-id="5427e-203">9 500 000 долл. США</span><span class="sxs-lookup"><span data-stu-id="5427e-203">$9.5M</span></span> |
| <span data-ttu-id="5427e-204">Средняя абсолютная погрешность (в %)</span><span class="sxs-lookup"><span data-stu-id="5427e-204">Mean Absolute Error (%)</span></span> |<span data-ttu-id="5427e-205"><span style="background-color: 00FF00;"> 6,03 %</span></span><span class="sxs-lookup"><span data-stu-id="5427e-205"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |<span data-ttu-id="5427e-206">12,2 %</span><span class="sxs-lookup"><span data-stu-id="5427e-206">12.2%</span></span> |<span data-ttu-id="5427e-207"><span style="background-color: 00FF00;"> 6,03 %</span></span><span class="sxs-lookup"><span data-stu-id="5427e-207"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |

<span data-ttu-id="5427e-208">Кроме того коэффициенты hello Excel также сравнивать toohello веса функций в hello Azure обученной модели:</span><span class="sxs-lookup"><span data-stu-id="5427e-208">In addition, hello Excel coefficients compared well toohello feature weights in hello Azure trained model:</span></span>

|  | <span data-ttu-id="5427e-209">Коэффициенты Excel</span><span class="sxs-lookup"><span data-stu-id="5427e-209">Excel Coefficients</span></span> | <span data-ttu-id="5427e-210">Весовые коэффициенты компонентов Azure</span><span class="sxs-lookup"><span data-stu-id="5427e-210">Azure Feature Weights</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="5427e-211">Отрезок/смещение</span><span class="sxs-lookup"><span data-stu-id="5427e-211">Intercept/Bias</span></span> |<span data-ttu-id="5427e-212">19470209,88</span><span class="sxs-lookup"><span data-stu-id="5427e-212">19470209.88</span></span> |<span data-ttu-id="5427e-213">19328500</span><span class="sxs-lookup"><span data-stu-id="5427e-213">19328500</span></span> |
| <span data-ttu-id="5427e-214">Признак А</span><span class="sxs-lookup"><span data-stu-id="5427e-214">Feature A</span></span> |<span data-ttu-id="5427e-215">0,832653063</span><span class="sxs-lookup"><span data-stu-id="5427e-215">0.832653063</span></span> |<span data-ttu-id="5427e-216">0,834156</span><span class="sxs-lookup"><span data-stu-id="5427e-216">0.834156</span></span> |
| <span data-ttu-id="5427e-217">Признак Б</span><span class="sxs-lookup"><span data-stu-id="5427e-217">Feature B</span></span> |<span data-ttu-id="5427e-218">11071967,08</span><span class="sxs-lookup"><span data-stu-id="5427e-218">11071967.08</span></span> |<span data-ttu-id="5427e-219">11007300</span><span class="sxs-lookup"><span data-stu-id="5427e-219">11007300</span></span> |
| <span data-ttu-id="5427e-220">Признак В</span><span class="sxs-lookup"><span data-stu-id="5427e-220">Feature C</span></span> |<span data-ttu-id="5427e-221">25383318,09</span><span class="sxs-lookup"><span data-stu-id="5427e-221">25383318.09</span></span> |<span data-ttu-id="5427e-222">25140800</span><span class="sxs-lookup"><span data-stu-id="5427e-222">25140800</span></span> |

## <a name="next-steps"></a><span data-ttu-id="5427e-223">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="5427e-223">Next Steps</span></span>
<span data-ttu-id="5427e-224">Нам необходимо было веб-службы машинного обучения tooconsume hello в Excel.</span><span class="sxs-lookup"><span data-stu-id="5427e-224">We wanted tooconsume hello Machine Learning web service within Excel.</span></span> <span data-ttu-id="5427e-225">Наш бизнес-аналитики используют Excel и мы необходимости hello toocall способом машинного обучения веб-службы со строкой данных Excel и вернуть его hello прогнозируемое значение tooExcel.</span><span class="sxs-lookup"><span data-stu-id="5427e-225">Our business analysts rely on Excel and we needed a way toocall hello Machine Learning web service with a row of Excel data and have it return hello predicted value tooExcel.</span></span> 

<span data-ttu-id="5427e-226">Мы также исправили toooptimize нашей модели с помощью параметров hello и алгоритмы, доступные в студии машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="5427e-226">We also wanted toooptimize our model, using hello options and algorithms available in Machine Learning Studio.</span></span>

### <a name="integration-with-excel"></a><span data-ttu-id="5427e-227">Интеграция с Excel</span><span class="sxs-lookup"><span data-stu-id="5427e-227">Integration with Excel</span></span>
<span data-ttu-id="5427e-228">Наши решения можно было toooperationalize нашей регрессии машинное Обучение модели путем создания веб-службы из обученной модели hello.</span><span class="sxs-lookup"><span data-stu-id="5427e-228">Our solution was toooperationalize our Machine Learning regression model by creating a web service from hello trained model.</span></span> <span data-ttu-id="5427e-229">В течение нескольких минут hello веб-службы был создан, и мы могли бы вызвать его непосредственно из Excel tooreturn доход прогнозируемое значение.</span><span class="sxs-lookup"><span data-stu-id="5427e-229">Within a few minutes, hello web service was created and we could call it directly from Excel tooreturn a predicted revenue value.</span></span> 

<span data-ttu-id="5427e-230">Hello *панель мониторинга Web Services* раздел содержит загружаемые книги Excel.</span><span class="sxs-lookup"><span data-stu-id="5427e-230">hello *Web Services Dashboard* section includes a downloadable Excel workbook.</span></span> <span data-ttu-id="5427e-231">Книга Hello предусмотрен готовых hello информации веб-службы API и схемы внедренные.</span><span class="sxs-lookup"><span data-stu-id="5427e-231">hello workbook comes pre-formatted with hello web service API and schema information embedded.</span></span> <span data-ttu-id="5427e-232">При нажатии кнопки *загрузить книгу Excel*, hello книга будет открыта, и его можно сохранить tooyour локального компьютера.</span><span class="sxs-lookup"><span data-stu-id="5427e-232">When you click *Download Excel Workbook*, hello workbook opens and you can save it tooyour local computer.</span></span> 

![][1]

<span data-ttu-id="5427e-233">С книгой Привет открыть скопируйте предопределенные параметры в hello синий раздел параметров, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="5427e-233">With hello workbook open, copy your predefined parameters into hello blue Parameter section as shown below.</span></span> <span data-ttu-id="5427e-234">После ввода параметров hello Excel вызывает toohello веб-службы машинного обучения и hello прогнозируемые метки оцененных будет отображаться в разделе hello зеленый прогнозируемые значения.</span><span class="sxs-lookup"><span data-stu-id="5427e-234">Once hello parameters are entered, Excel calls out toohello Machine Learning web service and hello predicted scored labels will display in hello green Predicted Values section.</span></span> <span data-ttu-id="5427e-235">Hello книги по-прежнему toocreate прогнозы для параметров на основании обученной модели для всех элементов строк, указанных в разделе параметров.</span><span class="sxs-lookup"><span data-stu-id="5427e-235">hello workbook will continue toocreate predictions for parameters based on your trained model for all row items entered under Parameters.</span></span> <span data-ttu-id="5427e-236">Дополнительные сведения о том, как toouse эту возможность, см. в разделе [Azure Machine Learning веб-служба на Excel](machine-learning-consuming-from-excel.md).</span><span class="sxs-lookup"><span data-stu-id="5427e-236">For more information on how toouse this feature, see [Consuming an Azure Machine Learning Web Service from Excel](machine-learning-consuming-from-excel.md).</span></span> 

![][2]

### <a name="optimization-and-further-experiments"></a><span data-ttu-id="5427e-237">Оптимизация и дальнейшие эксперименты</span><span class="sxs-lookup"><span data-stu-id="5427e-237">Optimization and further experiments</span></span>
<span data-ttu-id="5427e-238">Теперь, когда имеется базовый план с нашей модели Excel мы перешли упреждающего toooptimize нашей модели машинного обучения линейной регрессии.</span><span class="sxs-lookup"><span data-stu-id="5427e-238">Now that we had a baseline with our Excel model, we moved ahead toooptimize our Machine Learning Linear Regression Model.</span></span> <span data-ttu-id="5427e-239">Мы использовали модуль hello [Выбор компонентов на основе фильтра] [ filter-based-feature-selection] tooimprove на подмножества элементов исходных данных и его помогли нам добиться выигрыша в производительности 4.6% означает абсолютная погрешность.</span><span class="sxs-lookup"><span data-stu-id="5427e-239">We used hello module [Filter-Based Feature Selection][filter-based-feature-selection] tooimprove on our selection of initial data elements and it helped us achieve a performance improvement of 4.6% Mean Absolute Error.</span></span> <span data-ttu-id="5427e-240">Для будущих проектов мы будем использовать эту функцию, которая может сохранить нам недель в просмотре данных toofind атрибуты hello правильный набор возможностей toouse для моделирования.</span><span class="sxs-lookup"><span data-stu-id="5427e-240">For future projects we will use this feature which could save us weeks in iterating through data attributes toofind hello right set of features toouse for modelling.</span></span> 

<span data-ttu-id="5427e-241">Далее мы планируем tooinclude дополнительные алгоритмы, такие как [Байесовской] [ bayesian-linear-regression] или [повышенного дерева принятия решений] [ boosted-decision-tree-regression] в нашем toocompare эксперимента производительность.</span><span class="sxs-lookup"><span data-stu-id="5427e-241">Next we plan tooinclude additional algorithms like [Bayesian][bayesian-linear-regression] or [Boosted Decision Trees][boosted-decision-tree-regression] in our experiment toocompare performance.</span></span> 

<span data-ttu-id="5427e-242">Следует tooexperiment с регрессии tootry хороший набор данных является hello регрессии эффективность энергии образец набора данных, имеет множество числовых атрибутов.</span><span class="sxs-lookup"><span data-stu-id="5427e-242">If you want tooexperiment with regression, a good dataset tootry is hello Energy Efficiency Regression sample dataset, which has lots of numerical attributes.</span></span> <span data-ttu-id="5427e-243">набор данных Hello предоставляется как часть hello образцы наборов данных в студии машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="5427e-243">hello dataset is provided as part of hello sample datasets in Machine Learning Studio.</span></span> <span data-ttu-id="5427e-244">Можно использовать различные обучающих модулей toopredict либо отопления или охлаждения нагрузку.</span><span class="sxs-lookup"><span data-stu-id="5427e-244">You can use a variety of learning modules toopredict either Heating Load or Cooling Load.</span></span> <span data-ttu-id="5427e-245">Сравнение производительности различных регрессии узнает от hello энергопотребление набора данных прогноз для hello целевой переменной нагрузке охлаждения — Hello диаграмме ниже:</span><span class="sxs-lookup"><span data-stu-id="5427e-245">hello chart below is a performance comparison of different regression learns against hello Energy Efficiency dataset predicting for hello target variable Cooling Load:</span></span> 

| <span data-ttu-id="5427e-246">Модель</span><span class="sxs-lookup"><span data-stu-id="5427e-246">Model</span></span> | <span data-ttu-id="5427e-247">Средняя абсолютная погрешность</span><span class="sxs-lookup"><span data-stu-id="5427e-247">Mean Absolute Error</span></span> | <span data-ttu-id="5427e-248">Среднеквадратическая погрешность</span><span class="sxs-lookup"><span data-stu-id="5427e-248">Root Mean Squared Error</span></span> | <span data-ttu-id="5427e-249">Относительная абсолютная погрешность</span><span class="sxs-lookup"><span data-stu-id="5427e-249">Relative Absolute Error</span></span> | <span data-ttu-id="5427e-250">Относительная среднеквадратическая погрешность</span><span class="sxs-lookup"><span data-stu-id="5427e-250">Relative Squared Error</span></span> | <span data-ttu-id="5427e-251">Коэффициент детерминации</span><span class="sxs-lookup"><span data-stu-id="5427e-251">Coefficient of Determination</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="5427e-252">Увеличивающееся дерево принятия решений</span><span class="sxs-lookup"><span data-stu-id="5427e-252">Boosted Decision Tree</span></span> |<span data-ttu-id="5427e-253">0,930113</span><span class="sxs-lookup"><span data-stu-id="5427e-253">0.930113</span></span> |<span data-ttu-id="5427e-254">1,4239</span><span class="sxs-lookup"><span data-stu-id="5427e-254">1.4239</span></span> |<span data-ttu-id="5427e-255">0,106647</span><span class="sxs-lookup"><span data-stu-id="5427e-255">0.106647</span></span> |<span data-ttu-id="5427e-256">0,021662</span><span class="sxs-lookup"><span data-stu-id="5427e-256">0.021662</span></span> |<span data-ttu-id="5427e-257">0,978338</span><span class="sxs-lookup"><span data-stu-id="5427e-257">0.978338</span></span> |
| <span data-ttu-id="5427e-258">Линейная регрессия (метод градиентного спуска)</span><span class="sxs-lookup"><span data-stu-id="5427e-258">Linear Regression (Gradient Descent)</span></span> |<span data-ttu-id="5427e-259">2,035693</span><span class="sxs-lookup"><span data-stu-id="5427e-259">2.035693</span></span> |<span data-ttu-id="5427e-260">2,98006</span><span class="sxs-lookup"><span data-stu-id="5427e-260">2.98006</span></span> |<span data-ttu-id="5427e-261">0,233414</span><span class="sxs-lookup"><span data-stu-id="5427e-261">0.233414</span></span> |<span data-ttu-id="5427e-262">0,094881</span><span class="sxs-lookup"><span data-stu-id="5427e-262">0.094881</span></span> |<span data-ttu-id="5427e-263">0,905119</span><span class="sxs-lookup"><span data-stu-id="5427e-263">0.905119</span></span> |
| <span data-ttu-id="5427e-264">Регрессия нейронной сети</span><span class="sxs-lookup"><span data-stu-id="5427e-264">Neural Network Regression</span></span> |<span data-ttu-id="5427e-265">1,548195</span><span class="sxs-lookup"><span data-stu-id="5427e-265">1.548195</span></span> |<span data-ttu-id="5427e-266">2,114617</span><span class="sxs-lookup"><span data-stu-id="5427e-266">2.114617</span></span> |<span data-ttu-id="5427e-267">0,177517</span><span class="sxs-lookup"><span data-stu-id="5427e-267">0.177517</span></span> |<span data-ttu-id="5427e-268">0,047774</span><span class="sxs-lookup"><span data-stu-id="5427e-268">0.047774</span></span> |<span data-ttu-id="5427e-269">0,952226</span><span class="sxs-lookup"><span data-stu-id="5427e-269">0.952226</span></span> |
| <span data-ttu-id="5427e-270">Линейная регрессия (метод наименьших квадратов)</span><span class="sxs-lookup"><span data-stu-id="5427e-270">Linear Regression (Ordinary Least Squares)</span></span> |<span data-ttu-id="5427e-271">1,428273</span><span class="sxs-lookup"><span data-stu-id="5427e-271">1.428273</span></span> |<span data-ttu-id="5427e-272">1,984461</span><span class="sxs-lookup"><span data-stu-id="5427e-272">1.984461</span></span> |<span data-ttu-id="5427e-273">0,163767</span><span class="sxs-lookup"><span data-stu-id="5427e-273">0.163767</span></span> |<span data-ttu-id="5427e-274">0,042074</span><span class="sxs-lookup"><span data-stu-id="5427e-274">0.042074</span></span> |<span data-ttu-id="5427e-275">0,957926</span><span class="sxs-lookup"><span data-stu-id="5427e-275">0.957926</span></span> |

## <a name="key-takeaways"></a><span data-ttu-id="5427e-276">Общие выводы</span><span class="sxs-lookup"><span data-stu-id="5427e-276">Key Takeaways</span></span>
<span data-ttu-id="5427e-277">Параллельное выполнение экспериментов Машинного обучения Azure и регрессии Excel позволило узнать много нового.</span><span class="sxs-lookup"><span data-stu-id="5427e-277">We learned a lot by from running Excel regression and Azure Machine Learning experiments in parallel.</span></span> <span data-ttu-id="5427e-278">Создание модели базовой hello в Excel и его сравнения с использованием машинного обучения toomodels [линейной регрессии] [ linear-regression] помогло нам узнать машинного обучения Azure, и мы обнаружили возможности tooimprove данных Выбор и модели производительности.</span><span class="sxs-lookup"><span data-stu-id="5427e-278">Creating hello baseline model in Excel and comparing it toomodels using Machine Learning [Linear Regression][linear-regression] helped us learn Azure Machine Learning, and we discovered opportunities tooimprove data selection and model performance.</span></span> 

<span data-ttu-id="5427e-279">Мы обнаружили, что это рекомендуется toouse [Выбор компонентов на основе фильтра] [ filter-based-feature-selection] tooaccelerate проекты прогноз на будущее.</span><span class="sxs-lookup"><span data-stu-id="5427e-279">We also found that it is advisable toouse [Filter-Based Feature Selection][filter-based-feature-selection] tooaccelerate future prediction projects.</span></span> <span data-ttu-id="5427e-280">Применение данных tooyour выбора компонентов, можно создать улучшенную модель машинного обучения с лучшую общую производительность.</span><span class="sxs-lookup"><span data-stu-id="5427e-280">By applying feature selection tooyour data, you can create an improved model in Machine Learning with better overall performance.</span></span> 

<span data-ttu-id="5427e-281">Hello возможность tootransfer hello прогнозной аналитической прогнозирования из машинного обучения tooExcel systemically позволяет существенное увеличение количества в toosuccessfully hello возможность получения результатов аудиторией пользователей tooa широкие бизнес.</span><span class="sxs-lookup"><span data-stu-id="5427e-281">hello ability tootransfer hello predictive analytic forecasting from Machine Learning tooExcel systemically allows a significant increase in hello ability toosuccessfully provide results tooa broad business user audience.</span></span> 

## <a name="resources"></a><span data-ttu-id="5427e-282">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="5427e-282">Resources</span></span>
<span data-ttu-id="5427e-283">Ниже перечислены некоторые ресурсы, которые помогут вам в работе с регрессией.</span><span class="sxs-lookup"><span data-stu-id="5427e-283">Here are some resources for helping you work with regression:</span></span> 

* <span data-ttu-id="5427e-284">Регрессия в Excel.</span><span class="sxs-lookup"><span data-stu-id="5427e-284">Regression in Excel.</span></span> <span data-ttu-id="5427e-285">Если вы никогда не работали с регрессией в Excel, этот учебник упростит задачу: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span><span class="sxs-lookup"><span data-stu-id="5427e-285">If you’ve never tried regression in Excel, this tutorial makes it easy: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span></span>
* <span data-ttu-id="5427e-286">Сравнение регрессии и прогнозирования.</span><span class="sxs-lookup"><span data-stu-id="5427e-286">Regression vs forecasting.</span></span> <span data-ttu-id="5427e-287">Tyler Chessman написал в блог статьи, о том, как toodo прогнозирование временных рядов в Excel, который содержит описание хорошо начинающих линейной регрессии.</span><span class="sxs-lookup"><span data-stu-id="5427e-287">Tyler Chessman wrote a blog article explaining how toodo time series forecasting in Excel, which contains a good beginner’s description of linear regression.</span></span> <span data-ttu-id="5427e-288">Здесь также представлено хорошее описание линейной регрессии для начинающих: [http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts).</span><span class="sxs-lookup"><span data-stu-id="5427e-288">[http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts)</span></span> 
* <span data-ttu-id="5427e-289">Линейная регрессия по методу наименьших квадратов. Недостатки, проблемы и ошибки.</span><span class="sxs-lookup"><span data-stu-id="5427e-289">Ordinary Least Squares Linear Regression: Flaws, Problems and Pitfalls.</span></span> <span data-ttu-id="5427e-290">Введение в регрессию и ее обсуждение см. по адресу [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/).</span><span class="sxs-lookup"><span data-stu-id="5427e-290">For an introduction and discussion of Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span></span>

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/

