---
title: "Отладка модели в Машинном обучении Azure | Документация Майкрософт"
description: "Узнайте, как выполнять отладку ошибок, возникающих в модулях \"Train Model\" (Обучение модели) и \"Score Model\" (Оценка модели) в машинном обучении Azure."
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 629dc45e-ac1e-4b7d-b120-08813dc448be
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: bradsev;garye
ms.openlocfilehash: e6e9e1a3b30f84d634592581ea24fb308dcb478e
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="debug-your-model-in-azure-machine-learning"></a>Отладка машинного обучения модели в Azure

В этой статье объясняются потенциальные причины, по которым при запуске модели могут возникнуть два сбоя:

* модуль [Обучение модели][train-model] выдает ошибку; 
* модуль [Оценка модели][score-model] выдает неправильные результаты. 

[!INCLUDE [machine-learning-free-trial](../../../includes/machine-learning-free-trial.md)]

## <a name="train-model-module-produces-an-error"></a>Модуль "Обучение модели" выдает ошибку

![рисунок 1](./media/debug-models/train_model-1.png)

В модуль [Train Model][train-model] (Обучение модели) необходимо ввести два вида данных:

1. Тип модели машинного обучения из коллекции моделей, предоставленных службой машинного обучения Azure.
2. Данные для обучения со столбцом метки, где указывается переменная, которую нужно спрогнозировать (остальные столбцы считаются признаками).

Модуль может выдавать ошибку в таких случаях:

1. Столбец метки указан неправильно. Это может произойти, если в качестве метки выбрано более одного столбца или выбран недопустимый индекс столбца. Пример второго случая: указан индекс столбца 30, тогда как входной набор данных содержит только 25 столбцов.

2. Набор данных не содержит столбцов с признаками. Например, если входной набор данных содержит только один столбец, выбранный в качестве метки, для построения модели не будет ни одного признака. В этом случае модуль [Обучение модели][train-model] выдает ошибку.

3. Во входном наборе данных (признаки или метка) в качестве значения указана бесконечность.

## <a name="score-model-module-produces-incorrect-results"></a>Модуль "Score Model" (Оценка модели) выдает неправильные результаты

![рисунок 2](./media/debug-models/train_test-2.png)

В типичном обучающем или тестовом эксперименте для контролируемого обучения модуль [Split Data][split] (Разделение данных) разбивает исходный набор данных на две части: по одной модель обучается, а по второй модель оценивается на предмет того, насколько хорошо она работает. Затем обученная модель оценивает тестовые данные, после чего оцениваются результаты и определяется точность ее работы.

Для модуля [Оценка модели][score-model] требуется два вида входных данных:

1. Выходные данные обученной модели из модуля [Train Model][train-model] (Обучение модели).
2. Набор оцениваемых данных, отличный от набора данных, использованного для обучения модели.

Даже если эксперимент завершится успехом, модуль [Score Model][score-model] (Оценка модели) может выдать неправильные результаты. Вот в каких случаях это может произойти:

1. Если указанная метка является категориальной и модель регрессии обучается с помощью данных, модуль [Оценка модели][score-model] может выдать неправильные результаты. Это обусловлено тем, что для регрессии требуется непрерывная переменная ответа. В этом случае лучше использовать модель классификации. 

2. Аналогичным образом, если модель классификации обучается с помощью данных, которые содержат числа с плавающей запятой в столбце метки, модель может выдать недопустимые результаты. Это обусловлено тем, что для классификации требуется дискретная переменная отклика, с которой можно использовать только значения, соответствующие конечному и обычно несколько малому набору классов.

3. Если набор оцениваемых данных не содержит все признаки, используемые для обучения модели, работа модуля [Оценка модели][score-model] завершится ошибкой.

4. Модуль [Оценка модели][score-model] не выдает выходные данные, соответствующие строке в наборе оцениваемых данных, в котором для какого-либо признака отсутствует значение или указано бесконечное значение.

5. Модуль [Оценка модели][score-model] может выдать одинаковые выходные данные для всех строк набора оцениваемых данных. Это может случиться, например, при классификации с помощью лесов принятия решений, когда минимальное количество примеров на листовой узел превышает количество доступных обучающих примеров.

<!-- Module References -->
[score-model]: https://msdn.microsoft.com/library/azure/401b4f92-e724-4d5a-be81-d5b0ff9bdb33/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/
[train-model]: https://msdn.microsoft.com/library/azure/5cc7053e-aa30-450d-96c0-dae4be720977/

