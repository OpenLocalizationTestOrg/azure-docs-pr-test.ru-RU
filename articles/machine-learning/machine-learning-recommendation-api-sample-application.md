---
title: "Стандартные операции в API рекомендаций для машинного обучения | Документация Майкрософт"
description: "Пример приложения для рекомендаций по Машинному обучению Azure"
services: machine-learning
documentationcenter: 
author: LuisCabrer
manager: jhubbard
editor: cgronlun
ms.assetid: 0220bc17-3315-47d7-84a3-ef490263a343
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/31/2017
ms.author: luisca
ROBOTS: NOINDEX
redirect_url: machine-learning-datamarket-deprecation
redirect_document_id: TRUE
ms.openlocfilehash: 8d8efa93e820f4a745ed93c0f4d13b2438dfa1eb
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="recommendations-api-sample-application-walkthrough"></a>Пошаговое руководство по примеру приложения API рекомендаций
> [!NOTE]
> Начните использовать когнитивную службу API рекомендаций вместо этой версии. Когнитивная служба рекомендаций заменит эту службу, и все новые функции будут разрабатываться в ней. Она включает в себя новые возможности, такие как поддержка пакетной обработки, улучшенный обозреватель API, более четкое представление API, более согласованные процедуры регистрации и выставления счетов, и т. д.
> Узнайте больше о [переходе на новую когнитивную службу](http://aka.ms/recomigrate).
> 
> 

## <a name="purpose"></a>Назначение
В этом документе показано использование API рекомендаций Машинного обучения Azure с помощью [примера приложения](https://code.msdn.microsoft.com/Recommendations-144df403).

Это приложение не предназначено для обеспечения полного набора функциональных возможностей и использования всех интерфейсов API. Оно позволяет продемонстрировать некоторые распространенные операции, выполняемые при первом использовании службы рекомендаций машинного обучения. 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="introduction-to-machine-learning-recommendation-service"></a>Введение в службу рекомендаций машинного обучения
Рекомендации предоставляются через службу рекомендаций машинного обучения при выполнении сборки модели рекомендаций на основе следующих данных.

* Репозиторий элементов, которые необходимо рекомендовать, также называемый каталогом.
* Данные, представляющие использование элементов каждым пользователем или сеансом (их можно получить со временем с помощью функции сбора данных, а не как часть примера приложения).

После создания модели рекомендаций ее можно использовать для прогнозирования элементов, в которых может быть заинтересован пользователь, в соответствии с выбранным им набором элементов (или элементом).

Чтобы выполнить предыдущий сценарий, выполните следующие действия в службе рекомендаций машинного обучения.

* Создание модели. Модель — это логический контейнер, содержащий данные (данные каталога и данные об использовании) и модели прогнозирования. Каждый контейнер модели определяется уникальным идентификатором, который выдается при его создании. Этот идентификатор называется идентификатором модели и используется большинством API. 
* Загрузка модели в каталог. После создания контейнера модели можно связать с ним каталог.

**Примечание.** Создание и отправка модели в каталог обычно выполняются один раз в течение жизненного цикла модели.

* Загрузка данных об использовании. Это действие позволяет добавить данные об использовании в контейнер модели.
* Выполнение сборки модели рекомендаций. Когда будет получено достаточное количество данных, вы можете создать модель рекомендаций. В этой операции используются продвинутые алгоритмы машинного обучения для создания модели рекомендаций. Каждая сборка связана с уникальным идентификатором. Нужно сохранить этот идентификатор, так как он необходим для работы некоторых API.
* Мониторинг процесса выполнения сборки. Сборка модели рекомендаций представляет собой асинхронную операцию и может занять от нескольких минут до нескольких часов в зависимости от объема данных (данных каталога и данных об использовании) и параметров сборки. Поэтому необходимо следить за этим процессом. Модель рекомендаций будет создана, только если связанный процесс сборки завершится успешно.
* (Необязательно) Выбор активной сборки модели рекомендаций. Этот шаг необходим только при наличии нескольких созданных моделей рекомендаций в контейнере моделей. Все запросы на получение рекомендаций без указания активной модели рекомендаций будут автоматически перенаправляться системой на активную сборку, используемую по умолчанию. 

**Примечание**. Активная модель рекомендаций готова к использованию в рабочей среде и рассчитана на рабочую нагрузку, в отличие от неактивной модели рекомендаций, которая размещается в среде, подобной среде тестирования (иногда называемой промежуточной).

* Получение рекомендаций. После создания модели рекомендаций можно активировать рекомендации для одного выбранного элемента или выбранного списка элементов. 

Обычно функция получения рекомендаций вызывается на определенный период времени. В этот период времени можно перенаправить данные об использовании обратно в систему рекомендаций машинного обучения, которая добавит эти данные в контейнер указанной модели. При наличии достаточного количества данных об использовании можно создать новую модель рекомендаций, которая будет использовать дополнительные данные об использовании. 

## <a name="prerequisites"></a>Предварительные требования
* Visual Studio 2013 или более поздней версии
* Доступ к Интернету 
* Подписка на API рекомендаций (https://datamarket.azure.com/dataset/amla/recommendations).

## <a name="azure-machine-learning-sample-app-solution"></a>Пример приложения Машинного обучения Azure
Этот пример содержит исходный код, пример файла с данными об использовании и данными каталога, а также указания по скачиванию пакетов, необходимых для компиляции.

## <a name="the-apis-used"></a>Используемые API
Это приложение использует функции рекомендаций машинного обучения через подмножество доступных API. В приложении демонстрируются следующие API:

* Создание модели — создание логического контейнера, содержащего данные и модели рекомендаций. Модель определяется по имени, поэтому нельзя создать две модели с одним и тем же именем.
* Загрузка файла каталога — загрузка данных каталога.
* Загрузка файла с данными об использовании — загрузка данных об использовании.
* Активация сборки — создание модели рекомендаций.
* Мониторинг выполнения сборки — отслеживание состояния сборки модели рекомендаций.
* Выбор созданной модели для рекомендаций — указание того, какая модель рекомендаций будет использоваться по умолчанию для определенного контейнера моделей. Этот шаг необходим, только если у вас есть несколько моделей рекомендаций и вы хотите использовать неактивную модель рекомендаций в качестве активной.
* Получение рекомендаций — получение рекомендуемых элементов для одного выбранного элемента или набора элементов. 

Полное описание API см. в документации к Microsoft Azure Marketplace. 

**Примечание.** Для модели со временем может быть создано несколько сборок (не одновременно). Каждая сборка может быть создана с одним и тем же или обновленным каталогом и дополнительными данными об использовании.

## <a name="common-pitfalls"></a>Типичные проблемы
* Для запуска примера необходимо указать имя пользователя и ключ основной учетной записи Microsoft Azure Marketplace.
* Повторно запустить один и тот же пример приложения невозможно. Приложение выполняет создание, загрузку, мониторинг процесса сборки и получение рекомендаций для определенного имени модели. Если не изменить имя модели при следующем последовательном запуске, запуск завершится ошибкой.
* Рекомендации могут вернуться без данных. В примере приложения используются каталог и файл с данными об использовании очень маленького размера. Поэтому для некоторых элементов каталога не будет рекомендуемых элементов.

## <a name="disclaimer"></a>Отказ от ответственности
Пример приложения не предназначен для использования в рабочей среде. В каталоге содержится очень маленький объем данных, на основе чего нельзя создать информативную модель рекомендаций. Эти данные предоставлены для демонстрации. 

