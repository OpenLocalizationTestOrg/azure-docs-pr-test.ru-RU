---
title: "операции aaaCommon в hello машины обучения рекомендации API | Документы Microsoft"
description: "Пример приложения для рекомендаций по Машинному обучению Azure"
services: machine-learning
documentationcenter: 
author: LuisCabrer
manager: jhubbard
editor: cgronlun
ms.assetid: 0220bc17-3315-47d7-84a3-ef490263a343
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/31/2017
ms.author: luisca
ROBOTS: NOINDEX
redirect_url: machine-learning-datamarket-deprecation
redirect_document_id: True
ms.openlocfilehash: da16767134a1386617e1184e4a4850f1f346e972
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="recommendations-api-sample-application-walkthrough"></a><span data-ttu-id="30166-103">Пошаговое руководство по примеру приложения API рекомендаций</span><span class="sxs-lookup"><span data-stu-id="30166-103">Recommendations API Sample Application Walkthrough</span></span>
> [!NOTE]
> <span data-ttu-id="30166-104">Необходимо запустить с помощью службы Когнитивных рекомендации API hello вместо этой версии.</span><span class="sxs-lookup"><span data-stu-id="30166-104">You should start using hello Recommendations API Cognitive Service instead of this version.</span></span> <span data-ttu-id="30166-105">Эта служба будет заменена Hello службы Когнитивных рекомендации и всех hello новых функций, которые будут реализованы существует.</span><span class="sxs-lookup"><span data-stu-id="30166-105">hello Recommendations Cognitive Service will be replacing this service, and all hello new features will be developed there.</span></span> <span data-ttu-id="30166-106">Она включает в себя новые возможности, такие как поддержка пакетной обработки, улучшенный обозреватель API, более четкое представление API, более согласованные процедуры регистрации и выставления счетов, и т. д.</span><span class="sxs-lookup"><span data-stu-id="30166-106">It has new capabilities like batching support, a better API Explorer, a cleaner API surface, more consistent signup/billing experience, etc.</span></span>
> <span data-ttu-id="30166-107">Дополнительные сведения о [toohello перенос новой Когнитивных службы](http://aka.ms/recomigrate)</span><span class="sxs-lookup"><span data-stu-id="30166-107">Learn more about [Migrating toohello new Cognitive Service](http://aka.ms/recomigrate)</span></span>
> 
> 

## <a name="purpose"></a><span data-ttu-id="30166-108">Назначение</span><span class="sxs-lookup"><span data-stu-id="30166-108">Purpose</span></span>
<span data-ttu-id="30166-109">В этом документе показано использование hello hello обучения рекомендации Azure машины API через [образец приложения](https://code.msdn.microsoft.com/Recommendations-144df403).</span><span class="sxs-lookup"><span data-stu-id="30166-109">This document shows hello usage of hello Azure Machine Learning Recommendations API via a [sample application](https://code.msdn.microsoft.com/Recommendations-144df403).</span></span>

<span data-ttu-id="30166-110">Это приложение не предполагаемого tooinclude полной функциональности, и использовать все hello API-интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="30166-110">This application is not intended tooinclude full functionality, nor does it use all hello APIs.</span></span> <span data-ttu-id="30166-111">Он демонстрирует некоторые распространенные операции tooperform при требуется tooplay с hello Рекомендация службы машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="30166-111">It demonstrates some common operations tooperform when you first want tooplay with hello Machine Learning recommendation service.</span></span> 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="introduction-toomachine-learning-recommendation-service"></a><span data-ttu-id="30166-112">Введение tooMachine службы рекомендация обучения</span><span class="sxs-lookup"><span data-stu-id="30166-112">Introduction tooMachine Learning recommendation service</span></span>
<span data-ttu-id="30166-113">Включаются рекомендации через hello Рекомендация службы машинного обучения, при построении модели рекомендаций, основанной на hello следующие данные.</span><span class="sxs-lookup"><span data-stu-id="30166-113">Recommendations via hello Machine Learning recommendation service are enabled when you build a recommendation model based on hello following data:</span></span>

* <span data-ttu-id="30166-114">Репозиторий hello элементы, которые необходимо toorecommend, также известных как каталог</span><span class="sxs-lookup"><span data-stu-id="30166-114">A repository of hello items you want toorecommend, also known as a catalog</span></span>
* <span data-ttu-id="30166-115">Данные, представляющие hello использования элементов каждого пользователя или сеанс (это могут быть задействованы по времени с помощью получения данных, не являющийся частью пример приложения hello)</span><span class="sxs-lookup"><span data-stu-id="30166-115">Data representing hello usage of items per user or session (this can be acquired over time via data acquisition, not as part of hello sample app)</span></span>

<span data-ttu-id="30166-116">После построения модели рекомендаций можно использовать его toopredict элементы, которые пользователь может заинтересовать, в соответствии с tooa выбирает пользователь hello набора элементов (или один элемент).</span><span class="sxs-lookup"><span data-stu-id="30166-116">After a recommendation model is built, you can use it toopredict items that a user might be interested in, according tooa set of items (or a single item) hello user selects.</span></span>

<span data-ttu-id="30166-117">tooenable Здравствуйте предыдущего сценария, выполните следующие hello в hello Рекомендация службы машинного обучения:</span><span class="sxs-lookup"><span data-stu-id="30166-117">tooenable hello previous scenario, do hello following in hello Machine Learning recommendation service:</span></span>

* <span data-ttu-id="30166-118">Создание модели: это логический контейнер, хранящий данные hello (каталог и использования) и модели прогнозирования hello.</span><span class="sxs-lookup"><span data-stu-id="30166-118">Create a model: This is a logical container that holds hello data (catalog and usage) and hello prediction model(s).</span></span> <span data-ttu-id="30166-119">Каждый контейнер модели определяется уникальным идентификатором, который выдается при его создании.</span><span class="sxs-lookup"><span data-stu-id="30166-119">Each model container is identified via a unique ID, which is allocated when it is created.</span></span> <span data-ttu-id="30166-120">Этот идентификатор называется hello идентификатор модели, и он используется с помощью большинства hello API-интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="30166-120">This ID is called hello model ID, and it is used by most of hello APIs.</span></span> 
* <span data-ttu-id="30166-121">Отправка toocatalog: при создании контейнера модели можно связать tooit каталога.</span><span class="sxs-lookup"><span data-stu-id="30166-121">Upload toocatalog: When a model container is created, you can associate tooit a catalog.</span></span>

<span data-ttu-id="30166-122">**Примечание**: Создание модели и отправка tooa каталога обычно выполняются один раз для жизненного цикла hello модели.</span><span class="sxs-lookup"><span data-stu-id="30166-122">**Note**: Creating a model and uploading tooa catalog are usually performed once for hello model lifecycle.</span></span>

* <span data-ttu-id="30166-123">Отправка использования: будет добавлена модель toohello контейнера для использования данных.</span><span class="sxs-lookup"><span data-stu-id="30166-123">Upload usage: This adds usage data toohello model container.</span></span>
* <span data-ttu-id="30166-124">Построение модели рекомендаций: после имеется достаточный объем данных, можно построить модель рекомендаций hello.</span><span class="sxs-lookup"><span data-stu-id="30166-124">Build a recommendation model: After you have enough data, you can build hello recommendation model.</span></span> <span data-ttu-id="30166-125">Эта операция использует алгоритмы toocreate hello top машинного обучения модели рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="30166-125">This operation uses hello top Machine Learning algorithms toocreate a recommendation model.</span></span> <span data-ttu-id="30166-126">Каждая сборка связана с уникальным идентификатором.</span><span class="sxs-lookup"><span data-stu-id="30166-126">Each build is associated with a unique ID.</span></span> <span data-ttu-id="30166-127">Необходимо tookeep запись этот идентификатор, так как он требуется для функции hello некоторые API-интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="30166-127">You need tookeep a record of this ID because it is necessary for hello functionality of some APIs.</span></span>
* <span data-ttu-id="30166-128">Процесс построения hello монитора: построение модели рекомендаций является асинхронной операцией и может занять от нескольких часов tooseveral минут в зависимости от hello объем данных (каталог и использование) и hello параметры сборки.</span><span class="sxs-lookup"><span data-stu-id="30166-128">Monitor hello building process: A recommendation model build is an asynchronous operation, and it can take from several minutes tooseveral hours, depending on hello amount of data (catalog and usage) and hello build parameters.</span></span> <span data-ttu-id="30166-129">Поэтому необходимо toomonitor hello сборки.</span><span class="sxs-lookup"><span data-stu-id="30166-129">Therefore, you need toomonitor hello build.</span></span> <span data-ttu-id="30166-130">Модель рекомендаций будет создана, только если связанный процесс сборки завершится успешно.</span><span class="sxs-lookup"><span data-stu-id="30166-130">A recommendation model is created only if its associated build completes successfully.</span></span>
* <span data-ttu-id="30166-131">(Необязательно) Выбор активной сборки модели рекомендаций. Этот шаг необходим только при наличии нескольких созданных моделей рекомендаций в контейнере моделей.</span><span class="sxs-lookup"><span data-stu-id="30166-131">(Optional) Choose an active recommendation model build: This step is only necessary if you have more than one recommendation model built in your model container.</span></span> <span data-ttu-id="30166-132">Каких-либо рекомендаций tooget запрос без указания модели active рекомендаций hello автоматически перенаправляется по active сборке toohello системы по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="30166-132">Any request tooget recommendations without indicating hello active recommendation model is redirected automatically by hello system toohello default active build.</span></span> 

<span data-ttu-id="30166-133">**Примечание**.</span><span class="sxs-lookup"><span data-stu-id="30166-133">**Note**: An active recommendation model is production ready and it is built for production workload.</span></span> <span data-ttu-id="30166-134">Активная модель рекомендаций готова к использованию в рабочей среде и рассчитана на рабочую нагрузку, в отличие от неактивной модели рекомендаций, которая размещается в среде, подобной среде тестирования (иногда называемой промежуточной).</span><span class="sxs-lookup"><span data-stu-id="30166-134">This differs from a non-active recommendation model, which stays in a test-like environment (sometimes called staging).</span></span>

* <span data-ttu-id="30166-135">Получение рекомендаций. После создания модели рекомендаций можно активировать рекомендации для одного выбранного элемента или выбранного списка элементов.</span><span class="sxs-lookup"><span data-stu-id="30166-135">Get recommendations: After you have a recommendation model, you can trigger recommendations for a single item or a list of items that you select.</span></span> 

<span data-ttu-id="30166-136">Обычно функция получения рекомендаций вызывается на определенный период времени.</span><span class="sxs-lookup"><span data-stu-id="30166-136">You will usually invoke Get Recommendation for a certain period of time.</span></span> <span data-ttu-id="30166-137">В этот период времени можно перенаправить toohello данных об использовании системы рекомендации машинного обучения, которая добавляет этот контейнер данных toohello указанной модели.</span><span class="sxs-lookup"><span data-stu-id="30166-137">During that period of time, you can redirect usage data toohello Machine Learning recommendation system, which adds this data toohello specified model container.</span></span> <span data-ttu-id="30166-138">Если имеется достаточно данных об использовании, можно создать новую модель рекомендаций, содержащий данные об использовании дополнительных hello.</span><span class="sxs-lookup"><span data-stu-id="30166-138">When you have enough usage data, you can build a new recommendation model that incorporates hello additional usage data.</span></span> 

## <a name="prerequisites"></a><span data-ttu-id="30166-139">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="30166-139">Prerequisites</span></span>
* <span data-ttu-id="30166-140">Visual Studio 2013 или более поздней версии</span><span class="sxs-lookup"><span data-stu-id="30166-140">Visual Studio 2013 or later</span></span>
* <span data-ttu-id="30166-141">Доступ к Интернету</span><span class="sxs-lookup"><span data-stu-id="30166-141">Internet access</span></span> 
* <span data-ttu-id="30166-142">Подписки toohello рекомендации API (https://datamarket.azure.com/dataset/amla/recommendations).</span><span class="sxs-lookup"><span data-stu-id="30166-142">Subscription toohello Recommendations API (https://datamarket.azure.com/dataset/amla/recommendations).</span></span>

## <a name="azure-machine-learning-sample-app-solution"></a><span data-ttu-id="30166-143">Пример приложения Машинного обучения Azure</span><span class="sxs-lookup"><span data-stu-id="30166-143">Azure Machine Learning sample app solution</span></span>
<span data-ttu-id="30166-144">Это решение содержит hello исходного кода, использование примера, файл каталога и директивы toodownload hello пакеты, необходимые для компиляции.</span><span class="sxs-lookup"><span data-stu-id="30166-144">This solution contains hello source code, sample usage, catalog file, and directives toodownload hello packages that are required for compilation.</span></span>

## <a name="hello-apis-used"></a><span data-ttu-id="30166-145">Hello API-интерфейсам</span><span class="sxs-lookup"><span data-stu-id="30166-145">hello APIs used</span></span>
<span data-ttu-id="30166-146">приложение Hello использует функциональность рекомендация машинного обучения через подмножество доступных API-интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="30166-146">hello application uses Machine Learning recommendation functionality via a subset of available APIs.</span></span> <span data-ttu-id="30166-147">демонстрируются следующие API-интерфейсы в приложение hello приветствия:</span><span class="sxs-lookup"><span data-stu-id="30166-147">hello following APIs are demonstrated in hello application:</span></span>

* <span data-ttu-id="30166-148">Создание модели: создание toohold логический контейнер модели данных и рекомендации.</span><span class="sxs-lookup"><span data-stu-id="30166-148">Create model: Create a logical container toohold data and recommendation models.</span></span> <span data-ttu-id="30166-149">Модель определяется по имени, а не удается создать несколько моделей с hello таким же именем.</span><span class="sxs-lookup"><span data-stu-id="30166-149">A model is identified by a name, and you  cannot create more than one model with hello same name.</span></span>
* <span data-ttu-id="30166-150">Отправить файл каталога: использовать tooupload данные каталога.</span><span class="sxs-lookup"><span data-stu-id="30166-150">Upload catalog file: Use tooupload catalog data.</span></span>
* <span data-ttu-id="30166-151">Загрузить файл использования: использовать tooupload данные об использовании.</span><span class="sxs-lookup"><span data-stu-id="30166-151">Upload usage file: Use tooupload usage data.</span></span>
* <span data-ttu-id="30166-152">Активация сборки: использовать toocreate модели рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="30166-152">Trigger build: Use toocreate a recommendation model.</span></span>
* <span data-ttu-id="30166-153">Мониторинг выполнения построения: использование toomonitor hello состояния построения модели рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="30166-153">Monitor build execution: Use toomonitor hello status of a recommendation model build.</span></span>
* <span data-ttu-id="30166-154">Выбор построения модели для рекомендации: tooindicate какие toouse модели рекомендаций по умолчанию используется для определенных моделей контейнера.</span><span class="sxs-lookup"><span data-stu-id="30166-154">Choose a built model for recommendation: Use tooindicate which recommendation model toouse by default for a certain model container.</span></span> <span data-ttu-id="30166-155">Этот шаг необходим только в том случае, если имеется более одной модели рекомендаций и требуется tooactivate неактивные сборки, что и модель hello active рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="30166-155">This step is necessary only if you have more than one recommendation model and you want tooactivate a non-active build as hello active recommendation model.</span></span>
* <span data-ttu-id="30166-156">Получить рекомендации: использовать рекомендуемых элементов в соответствии с заданным один элемент или набор элементов tooa tooretrieve.</span><span class="sxs-lookup"><span data-stu-id="30166-156">Get recommendation: Use tooretrieve recommended items according tooa given single item or a set of items.</span></span> 

<span data-ttu-id="30166-157">Полное описание hello интерфейсы API см. в разделе документации Microsoft Azure Marketplace hello.</span><span class="sxs-lookup"><span data-stu-id="30166-157">For a complete description of hello APIs, please see hello Microsoft Azure Marketplace documentation.</span></span> 

<span data-ttu-id="30166-158">**Примечание.** Для модели со временем может быть создано несколько сборок (не одновременно).</span><span class="sxs-lookup"><span data-stu-id="30166-158">**Note**: A model can have several builds over time (not simultaneously).</span></span> <span data-ttu-id="30166-159">Каждая сборка создается с hello того же или обновленное каталога и дополнительных сведений об использовании.</span><span class="sxs-lookup"><span data-stu-id="30166-159">Each build is created with hello same or an updated catalog and additional usage data.</span></span>

## <a name="common-pitfalls"></a><span data-ttu-id="30166-160">Типичные проблемы</span><span class="sxs-lookup"><span data-stu-id="30166-160">Common pitfalls</span></span>
* <span data-ttu-id="30166-161">Tooprovide необходимо имя пользователя и пример приложения hello ключа toorun основная учетная запись Microsoft Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="30166-161">You need tooprovide your user name and your Microsoft Azure Marketplace primary account key toorun hello sample app.</span></span>
* <span data-ttu-id="30166-162">Выполнение примера приложения hello последовательно завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="30166-162">Running hello sample app consecutively will fail.</span></span> <span data-ttu-id="30166-163">поток приложения Hello включает создание, передачу, построение монитор hello и получение рекомендаций из предопределенных модели; Таким образом операция завершится сбоем при выполнении последовательных, если не изменить имя модели hello между вызовами.</span><span class="sxs-lookup"><span data-stu-id="30166-163">hello application flow includes creating, uploading, building hello monitor, and getting recommendations from a predefined model; therefore, it will fail on consecutive execution if you do not change hello model name between invocations.</span></span>
* <span data-ttu-id="30166-164">Рекомендации могут вернуться без данных.</span><span class="sxs-lookup"><span data-stu-id="30166-164">Recommendations might return without data.</span></span> <span data-ttu-id="30166-165">Пример приложения Hello использует очень небольшой файл каталога и использование.</span><span class="sxs-lookup"><span data-stu-id="30166-165">hello sample app uses a very small catalog and usage file.</span></span> <span data-ttu-id="30166-166">Таким образом некоторые элементы из каталога hello получит не рекомендуемые элементы.</span><span class="sxs-lookup"><span data-stu-id="30166-166">Therefore, some items from hello catalog will have no recommended items.</span></span>

## <a name="disclaimer"></a><span data-ttu-id="30166-167">Отказ от ответственности</span><span class="sxs-lookup"><span data-stu-id="30166-167">Disclaimer</span></span>
<span data-ttu-id="30166-168">Пример приложения Hello не предполагаемого toobe в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="30166-168">hello sample app is not intended toobe run in a production environment.</span></span> <span data-ttu-id="30166-169">данные в каталог hello Hello очень мала и не даст модели рекомендаций может применяться.</span><span class="sxs-lookup"><span data-stu-id="30166-169">hello data provided in hello catalog is very small, and it will not provide a meaningful recommendation model.</span></span> <span data-ttu-id="30166-170">Hello данные предоставляются в качестве демонстрации.</span><span class="sxs-lookup"><span data-stu-id="30166-170">hello data is provided as a demonstration.</span></span> 

