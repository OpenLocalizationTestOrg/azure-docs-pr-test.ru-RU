---
title: "Использование портала веб-служб машинного обучения Azure | Документация Майкрософт"
description: "Управление доступом к рабочим областям Машинного обучения Azure, а также развертывание веб-служб API ML и управление ими"
services: machine-learning
documentationcenter: 
author: vDonGlover
manager: jhubbard
editor: cgronlun
ms.assetid: b62cf2ca-dd2a-4a83-bb54-469f948fb026
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/28/2017
ms.author: v-donglo
ms.openlocfilehash: ad1314aa4b504bd2cb3285789073d4f1de1f545d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="manage-a-web-service-using-the-azure-machine-learning-web-services-portal"></a>Управление веб-службой с помощью портала веб-служб машинного обучения Azure
С помощью портала веб-служб машинного обучения Microsoft Azure можно управлять новыми и классическими веб-службами машинного обучения. Так как классические и новые веб-службы основаны на различных базовых технологиях, возможности управления для них слегка различаются.

На портале веб-служб машинного обучения можно выполнять следующие действия:

* отслеживать процесс использования веб-службы;
* настраивать описание, обновлять ключи веб-службы (только для новой версии), обновлять ключ учетной записи хранения (только для новой версии), включать ведение журнала, а также включать или отключать образцы данных;
* удалять веб-службу;
* создавать, удалять или обновлять планы выставления счетов (только для новой версии);
* добавлять и удалять конечные точки (только для классической версии).

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="permissions-to-manage-new-resources-manager-based-web-services"></a>Разрешения на управление новыми веб-службами на основе Resource Manager

Новые веб-службы развертываются как ресурсы Azure. Поэтому для развертывания новых веб-служб и управления ими необходимы соответствующие разрешения.  Для развертывания новых веб-служб или управления ими необходимо назначить роль участника или администратора той подписке, в которую развертывается веб-служба. Чтобы пригласить в рабочую область машинного обучения других пользователей, необходимо назначить им роли участников или администраторов подписки, чтобы они могли развертывать веб-службы или управлять ими. 

Если у пользователя нет необходимых разрешений для доступа к ресурсам на портале веб-служб машинного обучения Azure, то при попытке развернуть веб-службу отобразится следующее сообщение об ошибке:

*Web Service deployment failed. This account does not have sufficient access to the Azure subscription that contains the Workspace. In order to deploy a Web Service to Azure, the same account must be invited to the Workspace and be given access to the Azure subscription that contains the Workspace.* (Не удалось развернуть веб-службу. У этой учетной записи нет необходимых прав на доступ к подписке Azure, которая содержит рабочую область. Чтобы развернуть веб-службу в Azure, эту учетную запись необходимо добавить в рабочую область и предоставить ей доступ к подписке Azure, содержащей рабочую область.)

Дополнительные сведения о создании рабочей области см. в статье [Создание рабочей области машинного обучения Azure и предоставление к ней общего доступа](machine-learning-create-workspace.md).

Дополнительные сведения о настройке прав доступа см. в статье [Просмотр назначенных прав доступа для пользователей и групп на портале Azure (общедоступная предварительная версия)](../active-directory/role-based-access-control-manage-assignments.md).


## <a name="manage-new-web-services"></a>Управление новыми веб-службами
Для управления новыми веб-службами выполните следующие действия.

1. Войдите в учетную запись Microsoft Azure на [портале веб-служб машинного обучения Microsoft Azure](https://services.azureml.net/quickstart) (используйте учетную запись, связанную с подпиской Azure).
2. В меню выберите пункт **Web Services**(Веб-службы).

Отобразится список развернутых веб-служб для вашей подписки. 

Для управления веб-службой щелкните Web Services (Веб-службы). На странице веб-служб вы можете:

* щелкнуть веб-службу, чтобы управлять ею;
* щелкнуть план выставления счетов для веб-службы и обновить его;
* удалить веб-службу;
* скопировать веб-службу и развернуть ее в другом регионе.

Если щелкнуть веб-службу, откроется страница "Quickstart" (Быстрый запуск) веб-службы. Страница "Quickstart" (Быстрый запуск) веб-службы содержит два пункта меню, которые позволяют управлять данной веб-службой.

* **DASHBOARD** (ПАНЕЛЬ МОНИТОРИНГА) — дает возможность просматривать сведения об использовании веб-службы.
* **CONFIGURE** (НАСТРОЙКА) — дает возможность добавлять описательный текст, обновлять ключ учетной записи хранения, связанной с веб-службой, а также включать и отключать образцы данных.

### <a name="monitoring-how-the-web-service-is-being-used"></a>Мониторинг использования веб-службы
Щелкните вкладку **ПАНЕЛЬ МОНИТОРИНГА** .

На панели мониторинга можно просмотреть общие сведения об использовании веб-службы за определенный период времени. Период для отображения можно выбрать с помощью раскрывающегося меню "Period" (Период) в правом верхнем углу диаграммы использования. На панели мониторинга отображаются следующие сведения.

* **Requests Over Time** (Запросы за период времени): отображает ступенчатую диаграмму с количеством запросов за выбранный период времени. Помогает выявить всплески в использовании веб-службы.
* **Request-Response Requests** (Вызовы "запрос-ответ"): отображает общее число вызовов "запрос-ответ", которые служба получила за выбранный период времени, а также сколько из них было неудавшихся.
* **Average Request-Response Compute Time** (Среднее время вычисления "запрос-ответ"): отображает среднее время, необходимое для обработки полученных запросов.
* **Batch Requests** (Пакетные запросы): отображает общее число пакетных запросов, которые служба получила за выбранный период времени, а также сколько из них было неудавшихся.
* **Average Job Latency** (Средняя задержка задания): отображает среднее время, необходимое для обработки полученных запросов.
* **Errors** (Ошибки): отображает общее число ошибок, произошедших при вызовах к веб-службе.
* **Services Costs** (Затраты на службу): отображает сведения о затратах согласно плану выставления счетов, связанному с данной службой.

### <a name="configuring-the-web-service"></a>Настройка веб-службы
Выберите пункт меню **CONFIGURE** (НАСТРОЙКА).

Можно обновлять следующие свойства.

* **Description** (Описание): позволяет ввести описание веб-службы.
* **Title** (Заголовок): позволяет ввести заголовок веб-службы.
* **Keys** (Ключи): позволяет выполнять смену первичных и вторичных ключей API.
* **Storage account key** (Ключ учетной записи хранения): позволяет обновлять ключ учетной записи хранения, связанной с изменениями веб-службы. 
* **Enable Sample data** (Включить образцы данных): позволяет добавлять образцы данных, которые можно использовать для тестирования службы "запрос — ответ". Если вы создали веб-службу в Студии машинного обучения, то образец данных берется из данных, с помощью которых вы обучали модель. Если служба создана программным путем, то данные берутся из данных примеров, которые вы предоставили в составе пакета JSON.

### <a name="managing-billing-plans"></a>Управление планами выставления счетов
На странице "Quickstart" (Быстрый запуск) веб-службы щелкните пункт меню **Plans** (Планы). Для управления планом также можно щелкнуть план, связанный с конкретной веб-службой.

* **New** (Создать): позволяет создать новый план.
* **Add/Remove Plan instance** (Добавить или удалить экземпляр плана): позволяет выполнить масштабирование существующего плана, разворачивая его для добавления емкости.
* **Upgrade/DownGrade** (Повышение/понижение): позволяет увеличить масштаб существующего плана для добавления емкости.
* **Delete** (Удаление): позволяет удалить план.

Щелкните план, чтобы просмотреть его панель мониторинга. Панель мониторинга предоставляет моментальный снимок или сведения об использовании плана за указанный период времени. Чтобы выбрать период времени для просмотра, щелкните раскрывающийся список **Period** (Период) в правом верхнем углу панели мониторинга. 

Панель мониторинга плана содержит следующие сведения:

* **Plan Description** (Описание плана): отображает сведения о затратах, связанных с планом, и о его емкости.
* **Plan Usage** (Использование плана): отображает количество транзакций и часов вычислений, за которые выставлялись счета в соответствии c планом.
* **Web Services** (Веб-службы): отображает, сколько веб-служб используют данный план.
* **Top Web Service By Call** (Самые активные веб-службы по вызовам): отображает четыре веб-службы, которые осуществляют больше всего вызовов, оплачиваемых в соответствии c планом.
* **Top Web Services by Compute Hrs** (Самые активные веб-службы по часам вычислений): отображает четыре веб-службы, которые используют больше всего вычислительных ресурсов, оплачиваемых в соответствии c планом.

## <a name="manage-classic-web-services"></a>Управление классическими веб-службами
> [!NOTE]
> Процедуры, описанные в этом разделе, относятся к управлению классическими веб-службами на портале веб-служб машинного обучения Azure. Сведения об управлении классическими веб-службами с помощью студии машинного обучения и классического портала Azure см. в статье [Управление рабочей областью машинного обучения Azure](machine-learning-manage-workspace.md).
> 
> 

Для управления классическими веб-службами выполните следующие действия.

1. Войдите в учетную запись Microsoft Azure на [портале веб-служб машинного обучения Microsoft Azure](https://services.azureml.net/quickstart) (используйте учетную запись, связанную с подпиской Azure).
2. В меню выберите **Classic Web Services** (Классические веб-службы).

Для управления классической веб-службой щелкните **Classic Web Services**(Классические веб-службы). На странице классических веб-служб вы можете:

* выбрать веб-службу для просмотра связанных конечных точек;
* удалить веб-службу;

При управлении классической веб-службой управление каждой из конечных точек осуществляется по отдельности. Если щелкнуть веб-службу на странице веб-служб, откроется список конечных точек, связанных с этой службой. 

На странице конечных точек классической веб-службы можно добавлять и удалять конечные точки службы. Дополнительные сведения о добавлении конечных точек см. в статье [Создание конечных точек](machine-learning-create-endpoint.md).

Щелкните одну из конечных точек, чтобы открыть страницу "Quickstart" (Быстрый запуск) веб-службы. На странице "Quickstart" (Быстрый запуск) веб-службы находятся два пункта меню, которые позволяют управлять данной веб-службой.

* **DASHBOARD** (ПАНЕЛЬ МОНИТОРИНГА) — дает возможность просматривать сведения об использовании веб-службы.
* **CONFIGURE** (НАСТРОЙКА): дает возможность добавлять описательный текст, включать и отключать ведение журнала ошибок, обновлять ключ учетной записи хранения, связанной с веб-службой, а также включать и отключать образцы данных.

### <a name="monitoring-how-the-web-service-is-being-used"></a>Мониторинг использования веб-службы
Щелкните вкладку **ПАНЕЛЬ МОНИТОРИНГА** .

На панели мониторинга можно просмотреть общие сведения об использовании веб-службы за определенный период времени. Период для отображения можно выбрать с помощью раскрывающегося меню "Period" (Период) в правом верхнем углу диаграммы использования. На панели мониторинга отображаются следующие сведения.

* **Requests Over Time** (Запросы за период времени): отображает ступенчатую диаграмму с количеством запросов за выбранный период времени. Помогает выявить всплески в использовании веб-службы.
* **Request-Response Requests** (Вызовы "запрос-ответ"): отображает общее число вызовов "запрос-ответ", которые служба получила за выбранный период времени, а также сколько из них было неудавшихся.
* **Average Request-Response Compute Time** (Среднее время вычисления "запрос-ответ"): отображает среднее время, необходимое для обработки полученных запросов.
* **Batch Requests** (Пакетные запросы): отображает общее число пакетных запросов, которые служба получила за выбранный период времени, а также сколько из них было неудавшихся.
* **Average Job Latency** (Средняя задержка задания): отображает среднее время, необходимое для обработки полученных запросов.
* **Errors** (Ошибки): отображает общее число ошибок, произошедших при вызовах к веб-службе.
* **Services Costs** (Затраты на службу): отображает сведения о затратах согласно плану выставления счетов, связанному с данной службой.

### <a name="configuring-the-web-service"></a>Настройка веб-службы
Выберите пункт меню **CONFIGURE** (НАСТРОЙКА).

Можно обновлять следующие свойства.

* **Description** (Описание): позволяет ввести описание веб-службы. Описание является обязательным полем.
* **Logging** (Ведение журнала): позволяет включить или отключить ведение журнала ошибок на конечной точке. Дополнительные сведения о ведении журнала см. в статье [Включение функции ведения журналов для веб-служб машинного обученияя](machine-learning-web-services-logging.md).
* **Enable Sample data** (Включить образцы данных): позволяет добавлять образцы данных, которые можно использовать для тестирования службы "запрос — ответ". Если вы создали веб-службу в Студии машинного обучения, то образец данных берется из данных, с помощью которых вы обучали модель. Если служба создана программным путем, то данные берутся из данных примеров, которые вы предоставили в составе пакета JSON.

## <a name="grant-or-suspend-access-to-web-services-for-users-in-the-portal"></a>Предоставление или приостановка доступа к веб-службам для пользователей портала
С помощью классического портала Azure можно разрешить или запретить доступ определенным пользователям.

### <a name="access-for-users-of-new-web-services"></a>Доступ для пользователей новых веб-служб
Чтобы разрешить другим пользователям работу с вашими веб-службами на портале веб-служб машинного обучения Azure, необходимо добавить их в качестве совместных администраторов в подписку Azure.

Войдите в учетную запись Microsoft Azure на [классическом порталe Azure](https://manage.windowsazure.com/) (используйте учетную запись, связанную с подпиской Azure).

1. На панели навигации слева щелкните **Настройки**, а затем — **Администраторы**.
2. Нажмите кнопку **Добавить** в нижней части окна. 
3. В диалоговом окне ДОБАВЛЕНИЕ СОАДМИНИСТРАТОРА введите адрес электронной почты пользователя, который будет соадминистратором, а затем выберите подписку, доступ к которой ему нужно предоставить.
4. Щелкните **Сохранить**.

### <a name="access-for-users-of-classic-web-services"></a>Доступ для пользователей классических веб-служб
Чтобы управлять рабочей областью:

Войдите в учетную запись Microsoft Azure на [классическом порталe Azure](https://manage.windowsazure.com/) (используйте учетную запись, связанную с подпиской Azure).

1. На панели служб Microsoft Azure выберите **МАШИННОЕ ОБУЧЕНИЕ**.
2. Щелкните рабочую область, которой нужно управлять.
3. Выберите вкладку **НАСТРОЙКА** .

На вкладке настройки можно приостановить доступ к рабочей области машинного обучения, выбрав **ОТКЛОНИТЬ**. Пользователи больше не смогут открыть рабочую область в Студии машинного обучения. Чтобы восстановить доступ, выберите **РАЗРЕШИТЬ**.

Для определенных пользователей

Чтобы управлять дополнительными учетными записями с доступом к рабочей области в студии машинного обучения, нажмите **Войти в Студию машинного обучения Microsoft Azure** на вкладке **ПАНЕЛЬ МОНИТОРИНГА**. Рабочая область откроется в Студии машинного обучения. Здесь щелкните вкладку **Параметры**, а затем — **Пользователи**. Вы можете щелкнуть **Пригласить больше пользователей**, чтобы предоставить пользователям доступ к рабочей области, или выбрать пользователя и щелкнуть **Удалить**.

> [!NOTE]
> Ссылка **Войти в студию машинного обучения** позволяет открыть Студию машинного обучения Microsoft Azure, используя учетную запись Майкрософт, в которою вы вошли. Для учетной записи Майкрософт, использованной для входа на классический портал Azure для создания рабочей области, не предусмотрено автоматическое предоставление разрешений на открытие этой рабочей области. Чтобы открыть рабочую область, необходимо войти в учетную запись Майкрософт, определенную в качестве учетной записи владельца рабочей области, или получить приглашение присоединиться к рабочей области от владельца.
> 
> 

