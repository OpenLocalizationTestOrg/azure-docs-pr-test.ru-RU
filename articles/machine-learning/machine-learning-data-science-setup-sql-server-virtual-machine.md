---
title: "Настройка виртуальной машины SQL Server как сервера IPython Notebook | Документация Майкрософт"
description: "Настройте виртуальную машину для обработки данных с использованием SQL Server и IPython Server."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 1fd6014a-d180-4558-b4eb-d9b5a331a99f
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/24/2017
ms.author: xibingao;bradsev
ms.openlocfilehash: 8a151a6a15d4d000a774e3ec4e38bfa0e58ca33b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="set-up-an-azure-sql-server-virtual-machine-as-an-ipython-notebook-server-for-advanced-analytics"></a><span data-ttu-id="56735-103">Настройка SQL Server на виртуальной машине Azure как сервера IPython Notebook для расширенной аналитики</span><span class="sxs-lookup"><span data-stu-id="56735-103">Set up an Azure SQL Server virtual machine as an IPython Notebook server for advanced analytics</span></span>
<span data-ttu-id="56735-104">В этой статье показано, как подготовить и настроить виртуальную машину SQL Server для использования в качестве части среды обработки облачных данных.</span><span class="sxs-lookup"><span data-stu-id="56735-104">This topic shows how to provision and configure an SQL Server virtual machine to be used as part of a cloud-based data science environment.</span></span> <span data-ttu-id="56735-105">Виртуальная машина под управлением Windows настраивается с помощью инструментов поддержки, таких как IPython Notebook, Azure Storage Explorer и AzCopy, а также других служебных программ, подходящих для проектов обработки данных.</span><span class="sxs-lookup"><span data-stu-id="56735-105">The Windows virtual machine is configured with supporting tools such as IPython Notebook, Azure Storage Explorer, and AzCopy, as well as other utilities that are useful for data science projects.</span></span> <span data-ttu-id="56735-106">Обозреватель хранилищ Azure и AzCopy, например, позволяют с легкостью передавать данные в хранилище BLOB-объектов Azure с локального компьютера и наоборот.</span><span class="sxs-lookup"><span data-stu-id="56735-106">Azure Storage Explorer and AzCopy, for example, provide convenient ways to upload data to Azure blob storage from your local machine or to download it to your local machine from blob storage.</span></span>

<span data-ttu-id="56735-107">Коллекция виртуальных машин в Azure включает в себя несколько образов, содержащих Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-107">The Azure virtual machine gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="56735-108">Выберите образ виртуальной машины SQL Server, который подходит для ваших задач работы с данными.</span><span class="sxs-lookup"><span data-stu-id="56735-108">Select an SQL Server VM image that is suitable for your data needs.</span></span> <span data-ttu-id="56735-109">Рекомендуются следующие образы:</span><span class="sxs-lookup"><span data-stu-id="56735-109">Recommended images are:</span></span>

* <span data-ttu-id="56735-110">SQL Server 2012 SP2 Enterprise для данных небольших и средних размеров</span><span class="sxs-lookup"><span data-stu-id="56735-110">SQL Server 2012 SP2 Enterprise for small to medium data sizes</span></span>
* <span data-ttu-id="56735-111">SQL Server 2012 SP2 Enterprise, оптимизированный для рабочих нагрузок хранилищ данных, для данных больших и очень больших размеров</span><span class="sxs-lookup"><span data-stu-id="56735-111">SQL Server 2012 SP2 Enterprise Optimized for DataWarehousing Workloads for large to very large data sizes</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="56735-112">Образ SQL Server 2012 SP2 Enterprise **не включает в себя диск с данными**.</span><span class="sxs-lookup"><span data-stu-id="56735-112">SQL Server 2012 SP2 Enterprise image **does not include a data disk**.</span></span> <span data-ttu-id="56735-113">Для хранения данных понадобится добавить и/или подключить один или несколько виртуальных жестких дисков.</span><span class="sxs-lookup"><span data-stu-id="56735-113">You will need to add and/or attach one or more virtual hard disks to store your data.</span></span> <span data-ttu-id="56735-114">При создании виртуальной машины Azure у нее есть диск для операционной системы (диск C) и временный диск (диск D).</span><span class="sxs-lookup"><span data-stu-id="56735-114">When you create an Azure virtual machine, it has a disk for the operating system mapped to the C drive and a temporary disk mapped to the D drive.</span></span> <span data-ttu-id="56735-115">Не используйте диск D для хранения данных.</span><span class="sxs-lookup"><span data-stu-id="56735-115">Do not use the D drive to store data.</span></span> <span data-ttu-id="56735-116">Как и предполагает его имя, он предназначен только для временного хранения.</span><span class="sxs-lookup"><span data-stu-id="56735-116">As the name implies, it provides temporary storage only.</span></span> <span data-ttu-id="56735-117">Этот диск не обеспечивает избыточности или резервного копирования, поскольку он не размещается в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="56735-117">It offers no redundancy or backup because it doesn't reside in Azure storage.</span></span>
  > 
  > 

## <span data-ttu-id="56735-118"><a name="Provision"></a>Подключение к классическому порталу Azure и подготовка виртуальной машины SQL Server</span><span class="sxs-lookup"><span data-stu-id="56735-118"><a name="Provision"></a>Connect to the Azure Classic Portal and provision an SQL Server virtual machine</span></span>
1. <span data-ttu-id="56735-119">Войдите на [классический портал Azure](http://manage.windowsazure.com/), используя свою учетную запись.</span><span class="sxs-lookup"><span data-stu-id="56735-119">Log in to the [Azure Classic portal](http://manage.windowsazure.com/) using your account.</span></span>
   <span data-ttu-id="56735-120">Если у вас нет учетной записи Azure, используйте [бесплатную пробную версию Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="56735-120">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
2. <span data-ttu-id="56735-121">На классическом портале Azure в нижней левой части веб-страницы щелкните **+Создать**, **Среда выполнения приложений**, а затем **Виртуальная машина** и **Из коллекции**.</span><span class="sxs-lookup"><span data-stu-id="56735-121">On the Azure Classic portal, at the bottom left of the web page, click **+NEW**, click **COMPUTE**, click **VIRTUAL MACHINE**, and then click **FROM GALLERY**.</span></span>
3. <span data-ttu-id="56735-122">На странице **Создание виртуальной машины** выберите образ виртуальной машины, содержащий SQL Server, в зависимости от ваших задач работы с данными, а затем щелкните стрелку «Далее» в правом нижнем углу страницы.</span><span class="sxs-lookup"><span data-stu-id="56735-122">On the **Create a Virtual Machine** page, select a virtual machine image containing SQL Server based on your data needs, and then click the next arrow at the bottom right of the page.</span></span> <span data-ttu-id="56735-123">Самые последние сведения о поддерживаемых образах SQL Server в Azure доступны в статье [Приступая к работе с SQL Server в виртуальных машинах Azure](http://go.microsoft.com/fwlink/p/?LinkId=294720) набора документации по [использованию SQL Server на виртуальных машинах Azure](http://go.microsoft.com/fwlink/p/?LinkId=294719).</span><span class="sxs-lookup"><span data-stu-id="56735-123">For the most up-to-date information on the supported SQL Server images on Azure, see [Getting Started with SQL Server in Azure Virtual Machines](http://go.microsoft.com/fwlink/p/?LinkId=294720) topic in the [SQL Server in Azure Virtual Machines](http://go.microsoft.com/fwlink/p/?LinkId=294719) documentation set.</span></span>
   
   ![Выберите виртуальную машину SQL Server][1]
4. <span data-ttu-id="56735-125">На первой странице **Конфигурация виртуальной машины** укажите следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="56735-125">On the first **Virtual Machine Configuration** page, provide the following information:</span></span>
   
   * <span data-ttu-id="56735-126">Укажите **ИМЯ ВИРТУАЛЬНОЙ МАШИНЫ**.</span><span class="sxs-lookup"><span data-stu-id="56735-126">Provide a **VIRTUAL MACHINE NAME**.</span></span>
   * <span data-ttu-id="56735-127">В окне **НОВОЕ ИМЯ ПОЛЬЗОВАТЕЛЯ** введите уникальное имя пользователя для учетной записи локального администратора виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="56735-127">In the **NEW USER NAME** box, type unique user name for the VM local administrator account.</span></span>
   * <span data-ttu-id="56735-128">В поле **НОВЫЙ ПАРОЛЬ** введите надежный пароль.</span><span class="sxs-lookup"><span data-stu-id="56735-128">In the **NEW PASSWORD** box, type a strong password.</span></span> <span data-ttu-id="56735-129">Дополнительные сведения см. в статье [Надежные пароли](http://msdn.microsoft.com/library/ms161962.aspx).</span><span class="sxs-lookup"><span data-stu-id="56735-129">For more information, see [Strong Passwords](http://msdn.microsoft.com/library/ms161962.aspx).</span></span>
   * <span data-ttu-id="56735-130">В поле **ПОДТВЕРЖДЕНИЕ ПАРОЛЯ** введите пароль еще раз.</span><span class="sxs-lookup"><span data-stu-id="56735-130">In the **CONFIRM PASSWORD** box, retype the password.</span></span>
   * <span data-ttu-id="56735-131">Выберите соответствующий **РАЗМЕР** из раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="56735-131">Select the appropriate **SIZE** from the drop down list.</span></span>
     
     > [!NOTE]
     > <span data-ttu-id="56735-132">Размер виртуальной машины указывается во время инициализации: A2 — это наименьший размер, который рекомендуется для рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="56735-132">The size of the virtual machine is specified during provisioning: A2 is the smallest size recommended for production workloads.</span></span> <span data-ttu-id="56735-133">При использовании SQL Server Enterprise Edition минимальный размер, рекомендуемый для виртуальной машины, — А3.</span><span class="sxs-lookup"><span data-stu-id="56735-133">The minimum recommended size for a virtual machine is A3 when using SQL Server Enterprise Edition.</span></span> <span data-ttu-id="56735-134">При использовании SQL Server Enterprise Edition выберите размер «А3» и выше.</span><span class="sxs-lookup"><span data-stu-id="56735-134">Select A3 or higher when using SQL Server Enterprise Edition.</span></span> <span data-ttu-id="56735-135">При использовании образов SQL Server 2012 или 2014 Enterprise Optimized for Transactional Workloads выберите размер «A4».</span><span class="sxs-lookup"><span data-stu-id="56735-135">Select A4 when using SQL Server 2012 or 2014 Enterprise Optimized for Transactional Workloads images.</span></span>
     > <span data-ttu-id="56735-136">При использовании образов SQL Server 2012 или 2014 Enterprise Optimized for Data Warehousing Workloads выберите размер «А7».</span><span class="sxs-lookup"><span data-stu-id="56735-136">Select A7 when using SQL Server 2012 or 2014 Enterprise Optimized for Data Warehousing Workloads images.</span></span> <span data-ttu-id="56735-137">Выбранный размер ограничивает количество дисков данных, которые можно настроить.</span><span class="sxs-lookup"><span data-stu-id="56735-137">The size selected limits the number of data disks you can configure.</span></span> <span data-ttu-id="56735-138">Самые последние сведения о доступных размерах виртуальных машин и о количестве дисков данных, которые можно присоединить к виртуальной машине, см. в статье [Размеры для облачных служб](http://msdn.microsoft.com/library/azure/dn197896.aspx).</span><span class="sxs-lookup"><span data-stu-id="56735-138">For most up-to-date information on available virtual machine sizes and the number of data disks that you can attach to a virtual machine, see [Virtual Machine Sizes for Azure](http://msdn.microsoft.com/library/azure/dn197896.aspx).</span></span> <span data-ttu-id="56735-139">Сведения о ценах см. в статье [Цены на виртуальные машины Linux](https://azure.microsoft.com/pricing/details/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="56735-139">For pricing information, see [VIrtual Macines Pricing](https://azure.microsoft.com/pricing/details/virtual-machines/).</span></span>
     > 
     > 
   
   <span data-ttu-id="56735-140">Для продолжения нажмите стрелку «Далее» в правом нижнем углу страницы.</span><span class="sxs-lookup"><span data-stu-id="56735-140">Click the next arrow on the bottom right to continue.</span></span>
   
   ![Конфигурация виртуальной машины][2]
5. <span data-ttu-id="56735-142">На второй странице **Конфигурации виртуальной машины** настройте ресурсы сети, хранилища и доступность:</span><span class="sxs-lookup"><span data-stu-id="56735-142">On the second **Virtual machine configuration** page, configure resources for networking, storage, and availability:</span></span>
   
   * <span data-ttu-id="56735-143">В окне **Облачная служба** выберите **Создать новую облачную службу**.</span><span class="sxs-lookup"><span data-stu-id="56735-143">In the **Cloud Service** box, choose **Create a new cloud service**.</span></span>
   * <span data-ttu-id="56735-144">В поле **DNS-имя облачной службы** укажите первую часть выбранного DNS-имени таким образом, чтобы общее имя соответствовало формату **TESTNAME.cloudapp.net**.</span><span class="sxs-lookup"><span data-stu-id="56735-144">In the **Cloud Service DNS Name** box, provide the first portion of a DNS name of your choice, so that it completes a name in the format **TESTNAME.cloudapp.net**</span></span>
   * <span data-ttu-id="56735-145">В поле **РЕГИОН, ТЕРРИТОРИАЛЬНАЯ ГРУППА, ВИРТУАЛЬНАЯ СЕТЬ** выберите регион, где будет размещаться этот виртуальный образ.</span><span class="sxs-lookup"><span data-stu-id="56735-145">In the **REGION/AFFINITY GROUP/VIRTUAL NETWORK** box, select a region where this virtual image will be hosted.</span></span>
   * <span data-ttu-id="56735-146">В окне **Учетная запись хранения**выберите существующую запись или автоматическое создание записи.</span><span class="sxs-lookup"><span data-stu-id="56735-146">In the **Storage Account**, select an existing storage account or select an automatically generated one.</span></span>
   * <span data-ttu-id="56735-147">В поле **Группа доступности** выберите **(нет)**.</span><span class="sxs-lookup"><span data-stu-id="56735-147">In the **AVAILABILITY SET** box, select **(none)**.</span></span>
   * <span data-ttu-id="56735-148">Прочитайте сведения о ценах и согласитесь с ними.</span><span class="sxs-lookup"><span data-stu-id="56735-148">Read and accept the pricing information.</span></span>
6. <span data-ttu-id="56735-149">В разделе **Конечные точки** щелкните пустой раскрывающийся список **Имя** и выберите **MSSQL**, а затем введите номер порта экземпляра ядра СУБД (**1433** для экземпляра по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="56735-149">In the **ENDPOINTS** section, click in the empty dropdown under **NAME**, and select **MSSQL**  then type the port number of the instance of the Database Engine (**1433** for the default instance).</span></span>
7. <span data-ttu-id="56735-150">Виртуальная машина SQL Server может также служить сервером IPython Notebook, который можно настроить на дальнейшем этапе.</span><span class="sxs-lookup"><span data-stu-id="56735-150">Your SQL Server VM can also serve as an IPython Notebook Server, which will be configured in a later step.</span></span>
   <span data-ttu-id="56735-151">Добавьте новую конечную точку, чтобы указать порт, используемый для сервера IPython Notebook.</span><span class="sxs-lookup"><span data-stu-id="56735-151">Add a new endpoint to specify the port to use for your IPython Notebook server.</span></span> <span data-ttu-id="56735-152">Введите имя в столбце **Имя**, выберите произвольный номер для общедоступного порта и 9999 для частного порта.</span><span class="sxs-lookup"><span data-stu-id="56735-152">Enter a name in the **NAME** column,    select a port number of your choice for the public port, and 9999 for the private port.</span></span>
   
   <span data-ttu-id="56735-153">Для продолжения нажмите стрелку «Далее» в правом нижнем углу страницы.</span><span class="sxs-lookup"><span data-stu-id="56735-153">Click the next arrow on the bottom right to continue.</span></span>
   
   ![Выберите порты MSSQL и IPython][3]
8. <span data-ttu-id="56735-155">Оставьте флажок по умолчанию **Установить агент ВМ** и щелкните галочку в правом нижнем углу мастера, чтобы завершить процесс подготовки виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="56735-155">Accept the default **Install VM agent** option checked and click the the check mark in the bottom right corner of the wizard to complete the VM provisioning process.</span></span>
   
   `![Окончательные параметры виртуальной машины][4]
9. <span data-ttu-id="56735-157">Подождите, пока Azure подготавливает виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="56735-157">Wait while Azure prepares your virtual machine.</span></span> <span data-ttu-id="56735-158">Состояние виртуальной машины должно изменяться следующим образом:</span><span class="sxs-lookup"><span data-stu-id="56735-158">Expect the virtual machine status to proceed through:</span></span>
   
   * <span data-ttu-id="56735-159">Запуск (подготовка)</span><span class="sxs-lookup"><span data-stu-id="56735-159">Starting (Provisioning)</span></span>
   * <span data-ttu-id="56735-160">Остановлено</span><span class="sxs-lookup"><span data-stu-id="56735-160">Stopped</span></span>
   * <span data-ttu-id="56735-161">Запуск (подготовка)</span><span class="sxs-lookup"><span data-stu-id="56735-161">Starting (Provisioning)</span></span>
   * <span data-ttu-id="56735-162">Выполнение (подготовка)</span><span class="sxs-lookup"><span data-stu-id="56735-162">Running (Provisioning)</span></span>
   * <span data-ttu-id="56735-163">Выполнение</span><span class="sxs-lookup"><span data-stu-id="56735-163">Running</span></span>

## <span data-ttu-id="56735-164"><a name="RemoteDesktop"></a>Открытие виртуальной машины с помощью удаленного рабочего стола, а также выполнение полной установки</span><span class="sxs-lookup"><span data-stu-id="56735-164"><a name="RemoteDesktop"></a>Open the virtual machine using Remote Desktop and complete setup</span></span>
1. <span data-ttu-id="56735-165">После завершения подготовки щелкните имя виртуальной машины, чтобы перейти к странице ПАНЕЛЬ МОНИТОРИНГА.</span><span class="sxs-lookup"><span data-stu-id="56735-165">When provisioning completes, click on the name of your virtual machine to go to the DASHBOARD page.</span></span> <span data-ttu-id="56735-166">В нижней части страницы щелкните **Подключиться**.</span><span class="sxs-lookup"><span data-stu-id="56735-166">At the bottom of the page, click **Connect**.</span></span>
2. <span data-ttu-id="56735-167">Откройте RPD-файл с использованием программы «Удаленный рабочий стол Windows» (`%windir%\system32\mstsc.exe`).</span><span class="sxs-lookup"><span data-stu-id="56735-167">Choose to open the rpd file using the Windows Remote Desktop program (`%windir%\system32\mstsc.exe`).</span></span>
3. <span data-ttu-id="56735-168">В диалоговом окне **Безопасность Windows** введите пароль для учетной записи локального администратора, который был указан ранее.</span><span class="sxs-lookup"><span data-stu-id="56735-168">At the **Windows Security** dialog box, provide the password for the local administrator account that you specified in an earlier step.</span></span>
   <span data-ttu-id="56735-169">(Может быть выведен запрос на подтверждение учетных данных виртуальной машины).</span><span class="sxs-lookup"><span data-stu-id="56735-169">(You might be asked to verify the credentials of the virtual machine.)</span></span>
4. <span data-ttu-id="56735-170">При первом входе в эту виртуальную машину может возникнуть необходимость дождаться завершения нескольких процессов, включая настройку рабочего стола, обновления Windows и выполнение задач начальной настройки Windows (sysprep).</span><span class="sxs-lookup"><span data-stu-id="56735-170">The first time you log on to this virtual machine, several processes may need to complete, including setup of your desktop, Windows updates, and completion of the Windows initial configuration tasks (sysprep).</span></span> <span data-ttu-id="56735-171">После завершения задач начальной настройки Windows будут выполнены задачи по настройке SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-171">After Windows sysprep completes, SQL Server setup completes configuration tasks.</span></span> <span data-ttu-id="56735-172">Выполнение этих задач может вызвать задержку на несколько минут.</span><span class="sxs-lookup"><span data-stu-id="56735-172">These tasks may cause a delay of a few minutes while they complete.</span></span> <span data-ttu-id="56735-173">`SELECT @@SERVERNAME` может не возвращать верное имя до завершения установки SQL Server, а среда SQL Server Management Studio может не отображаться на начальной странице.</span><span class="sxs-lookup"><span data-stu-id="56735-173">`SELECT @@SERVERNAME` may not return the correct name until SQL Server setup completes, and SQL Server Management Studio may not be visable on the start page.</span></span>

<span data-ttu-id="56735-174">После подключения к виртуальной машине с помощью удаленного рабочего стола Windows виртуальная машина будет работать аналогично любому другому компьютеру.</span><span class="sxs-lookup"><span data-stu-id="56735-174">Once you are connected to the virtual machine with Windows Remote Desktop, the virtual machine works much like any other computer.</span></span> <span data-ttu-id="56735-175">Обычным способом подключитесь к экземпляру SQL Server по умолчанию с помощью программы SQL Server Management Studio (запущенной на виртуальной машине).</span><span class="sxs-lookup"><span data-stu-id="56735-175">Connect to the default instance of SQL Server with SQL Server Management Studio (running on the virtual machine) in the normal way.</span></span>

## <span data-ttu-id="56735-176"><a name="InstallIPython"></a>Установка IPython Notebook и других вспомогательных средств</span><span class="sxs-lookup"><span data-stu-id="56735-176"><a name="InstallIPython"></a>Install IPython Notebook and other supporting tools</span></span>
<span data-ttu-id="56735-177">Чтобы настроить новую виртуальную машину SQL Server для работы в качестве сервера IPython Notebook, а также установить дополнительные средства поддержки, например AzCopy, обозреватель хранилищ Azure, пригодные пакеты Python для обработки данных и другие, можно воспользоваться предоставленным сценарием специальной настройки.</span><span class="sxs-lookup"><span data-stu-id="56735-177">To configure your new SQL Server VM to serve as an IPython Notebook server, and install additional supporting tools such AzCopy, Azure Storage Explorer, useful Data Science Python packages, and others, a special customization script is provided to you.</span></span> <span data-ttu-id="56735-178">Для установки:</span><span class="sxs-lookup"><span data-stu-id="56735-178">To install:</span></span>

1. <span data-ttu-id="56735-179">Щелкните правой кнопкой мыши значок Windows **Пуск** и выберите пункт **Командная строка (администратор)**.</span><span class="sxs-lookup"><span data-stu-id="56735-179">Right-click the **Windows Start** icon and click **Command Prompt (Admin)**</span></span>
2. <span data-ttu-id="56735-180">Скопируйте следующие команды и вставьте их в командную строку.</span><span class="sxs-lookup"><span data-stu-id="56735-180">Copy the following commands and paste at the command prompt.</span></span>
  
        set script='https://raw.githubusercontent.com/Azure/Azure-MachineLearning-DataScience/master/Misc/MachineSetup/Azure_VM_Setup_Windows.ps1'
        @powershell -NoProfile -ExecutionPolicy unrestricted -Command "iex ((new-object net.webclient).DownloadString(%script%))"
3. <span data-ttu-id="56735-181">При появлении запроса введите по своему усмотрению пароль для сервера IPython Notebook.</span><span class="sxs-lookup"><span data-stu-id="56735-181">When prompted, enter a password of your choice for the IPython Notebook server.</span></span>
4. <span data-ttu-id="56735-182">Сценарий настройки автоматизирует несколько послеустановочных процедур, в том числе следующие:</span><span class="sxs-lookup"><span data-stu-id="56735-182">The customization script automates several post-install procedures, which include:</span></span>
    * <span data-ttu-id="56735-183">Установка и настройка сервера IPython Notebook</span><span class="sxs-lookup"><span data-stu-id="56735-183">Installation and setup of IPython Notebook server</span></span>
    * <span data-ttu-id="56735-184">Открытие TCP-портов в брандмауэре Windows для созданных ранее конечных точек:</span><span class="sxs-lookup"><span data-stu-id="56735-184">Opening TCP ports in the Windows firewall for the endpoints created earlier:</span></span>
    * <span data-ttu-id="56735-185">Для обеспечения удаленного подключения к SQL Server</span><span class="sxs-lookup"><span data-stu-id="56735-185">For SQL Server remote connectivity</span></span>
    * <span data-ttu-id="56735-186">Для обеспечения удаленного подключения к серверу IPython Notebook</span><span class="sxs-lookup"><span data-stu-id="56735-186">For IPython Notebook server remote connectivity</span></span>
    * <span data-ttu-id="56735-187">Получение образцов файлов IPython Notebook и сценариев SQL</span><span class="sxs-lookup"><span data-stu-id="56735-187">Fetching sample IPython notebooks and SQL scripts</span></span>
    * <span data-ttu-id="56735-188">Загрузка и установка полезных пакетов Python для обработки данных</span><span class="sxs-lookup"><span data-stu-id="56735-188">Downloading and installing useful Data Science Python packages</span></span>
    * <span data-ttu-id="56735-189">Загрузка и установка средств Azure, таких как AzCopy и обозреватель хранилищ Azure </span><span class="sxs-lookup"><span data-stu-id="56735-189">Downloading and installing Azure tools such as AzCopy and Azure Storage Explorer</span></span>  
    <br>
5. <span data-ttu-id="56735-190">IPython Notebook можно открыть и запустить из любого локального или удаленного браузера с помощью URL-адреса формы `https://<virtual_machine_DNS_name>:<port>`, где port — общедоступный порт IPython, выбранный вами в ходе подготовки виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="56735-190">You may access and run IPython Notebook from any local or remote browser using a URL of the form `https://<virtual_machine_DNS_name>:<port>`, where port is the IPython public port you selected while provisioning the virtual machine.</span></span>
6. <span data-ttu-id="56735-191">Сервер IPython Notebook работает в качестве фоновой службы и будет автоматически перезапущен при перезапуске виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="56735-191">IPython Notebook server is running as a background service and will be restarted automatically when you restart the virtual machine.</span></span>

## <span data-ttu-id="56735-192"><a name="Optional"></a>Подключение диска с данными при необходимости</span><span class="sxs-lookup"><span data-stu-id="56735-192"><a name="Optional"></a>Attach data disk as needed</span></span>
<span data-ttu-id="56735-193">Если ваш образ ВМ не содержит диски с данными, т. е. диски кроме дисков C (с операционной системой) и D (временного диска), необходимо добавить один или несколько дисков с данными для хранения данных.</span><span class="sxs-lookup"><span data-stu-id="56735-193">If your VM image does not include data disks, i.e., disks other than C drive (OS disk) and D drive (temporary disk), you need to add one or more data disks to store your data.</span></span> <span data-ttu-id="56735-194">Образ ВМ для SQL Server 2012 SP2 Enterprise, оптимизированный для рабочих нагрузок хранилищ данных, поставляется предварительно настроенным с дополнительными дисками для данных SQL Server и файлов журнала.</span><span class="sxs-lookup"><span data-stu-id="56735-194">The VM image for SQL Server 2012 SP2 Enterprise Optimized for DataWarehousing Workloads comes pre-configured with additional disks for SQL Server data and log files.</span></span>

> [!NOTE]
> <span data-ttu-id="56735-195">Не используйте диск D для хранения данных.</span><span class="sxs-lookup"><span data-stu-id="56735-195">Do not use the D drive to store data.</span></span> <span data-ttu-id="56735-196">Как и предполагает его имя, он предназначен только для временного хранения.</span><span class="sxs-lookup"><span data-stu-id="56735-196">As the name implies, it provides temporary storage only.</span></span> <span data-ttu-id="56735-197">Этот диск не обеспечивает избыточности или резервного копирования, поскольку он не размещается в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="56735-197">It offers no redundancy or backup because it doesn't reside in Azure storage.</span></span>
> 
> 

<span data-ttu-id="56735-198">Для подключения дополнительных дисков с данными выполните действия, описанные в статье [Подключение диска данных к виртуальной машине Windows, созданной с использованием классической модели развертывания](../virtual-machines/windows/classic/attach-disk.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json), которая описывает следующие этапы.</span><span class="sxs-lookup"><span data-stu-id="56735-198">To attach additional data disks, follow the steps described in [How to Attach a Data Disk to a Windows Virtual Machine](../virtual-machines/windows/classic/attach-disk.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json), which will guide you through:</span></span>

1. <span data-ttu-id="56735-199">Подключение пустых дисков к виртуальной машине, подготовленной на предыдущих этапах</span><span class="sxs-lookup"><span data-stu-id="56735-199">Attaching empty disk(s) to the virtual machine provisioned in earlier steps</span></span>
2. <span data-ttu-id="56735-200">Инициализация новых дисков на виртуальной машине</span><span class="sxs-lookup"><span data-stu-id="56735-200">Initialization of the new disk(s) in the virtual machine</span></span>

## <span data-ttu-id="56735-201"><a name="SSMS"></a>Подключение к SQL Server Management Studio и включение проверки подлинности в смешанном режиме</span><span class="sxs-lookup"><span data-stu-id="56735-201"><a name="SSMS"></a>Connect to SQL Server Management Studio and enable mixed mode authentication</span></span>
<span data-ttu-id="56735-202">Компонент SQL Server Database Engine не может использовать проверку подлинности Windows без среды домена.</span><span class="sxs-lookup"><span data-stu-id="56735-202">The SQL Server Database Engine cannot use Windows Authentication without domain environment.</span></span> <span data-ttu-id="56735-203">Чтобы подключиться к компоненту Database Engine с другого компьютера, необходимо настроить для SQL Server смешанный режим проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="56735-203">To connect to the Database Engine from another computer, configure SQL Server for mixed mode authentication.</span></span> <span data-ttu-id="56735-204">Смешанный режим позволяет выполнять проверку подлинности SQL Server и проверку подлинности Windows.</span><span class="sxs-lookup"><span data-stu-id="56735-204">Mixed mode authentication allows both SQL Server Authentication and Windows Authentication.</span></span> <span data-ttu-id="56735-205">Режим аутентификации SQL необходим для приема данных непосредственно из баз данных виртуальных машин SQL Server в [Студии машинного обучения Azure](https://studio.azureml.net) с помощью модуля "Импорт данных".</span><span class="sxs-lookup"><span data-stu-id="56735-205">SQL authentication mode is required in order to ingest data directly from your SQL Server VM databases in the [Azure Machine Learning Studio](https://studio.azureml.net) using the Import Data module.</span></span>

1. <span data-ttu-id="56735-206">Подключившись к виртуальной машине с помощью удаленного рабочего стола, воспользуйтесь панелью Windows **Поиск** и введите **SQL Server Management Studio** (SMSS).</span><span class="sxs-lookup"><span data-stu-id="56735-206">While connected to the virtual machine by using Remote Desktop, use the Windows **Search** pane and type **SQL Server Management Studio** (SMSS).</span></span> <span data-ttu-id="56735-207">Щелкните, чтобы запустить среду SQL Server Management Studio (SSMS).</span><span class="sxs-lookup"><span data-stu-id="56735-207">Click to start the SQL Server Management Studio (SSMS).</span></span> <span data-ttu-id="56735-208">Возможно, вам понадобится добавить ярлык SSMS на рабочий стол для использования в будущем.</span><span class="sxs-lookup"><span data-stu-id="56735-208">You may want to add a shortcut to SSMS on your Desktop for future use.</span></span>
   
   ![Запустите SSMS][5]
   
   <span data-ttu-id="56735-210">При первом открытии Management Studio необходимо создать среду пользователей Management Studio.</span><span class="sxs-lookup"><span data-stu-id="56735-210">The first time you open Management Studio it must create the users Management Studio environment.</span></span> <span data-ttu-id="56735-211">Это может занять несколько минут.</span><span class="sxs-lookup"><span data-stu-id="56735-211">This may take a few moments.</span></span>
2. <span data-ttu-id="56735-212">При открытии Management Studio появляется диалоговое окно **Подключение к серверу** .</span><span class="sxs-lookup"><span data-stu-id="56735-212">When opening, Management Studio presents the **Connect to Server** dialog box.</span></span> <span data-ttu-id="56735-213">В поле **Имя сервера** введите имя виртуальной машины для подключения к компоненту Database Engine с помощью обозревателя объектов.</span><span class="sxs-lookup"><span data-stu-id="56735-213">In the **Server name** box, type the name of the virtual machine to connect to the Database Engine with the Object Explorer.</span></span>
   <span data-ttu-id="56735-214">(Вместо имени виртуальной машины можно также использовать **(local)** или один период в качестве **имени сервера**.)</span><span class="sxs-lookup"><span data-stu-id="56735-214">(Instead of the virtual machine name you can also use **(local)** or a single period as the **Server name**.</span></span> <span data-ttu-id="56735-215">Выберите **Проверка подлинности Windows** и укажите ***имя\_вашей\_ВМ*\\имя\_локального\_администратора** в поле **Имя пользователя**.</span><span class="sxs-lookup"><span data-stu-id="56735-215">Select **Windows Authentication**, and leave ***your\_VM\_name*\\your\_local\_administrator** in the **User name** box.</span></span> <span data-ttu-id="56735-216">Щелкните **Подключить**.</span><span class="sxs-lookup"><span data-stu-id="56735-216">Click **Connect**.</span></span>
   
   ![Подключение к серверу][6]
   
   <br>
   
   > [!TIP]
   > <span data-ttu-id="56735-218">Режим проверки подлинности SQL Server можно изменить путем изменения соответствующего раздела реестра Windows или с помощью среды SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="56735-218">You may change the SQL Server authentication mode using a Windows registry key change or using the SQL Server Management Studio.</span></span> <span data-ttu-id="56735-219">Чтобы изменить режим проверки подлинности путем изменения раздела реестра, запустите **Новый запрос** и выполните следующий сценарий:</span><span class="sxs-lookup"><span data-stu-id="56735-219">To change authentication mode using the registry key change, start a **New Query** and execute the following script:</span></span>
   > 
   > 
   
       USE master
       go
   
       EXEC xp_instance_regwrite N'HKEY_LOCAL_MACHINE', N'Software\Microsoft\MSSQLServer\MSSQLServer', N'LoginMode', REG_DWORD, 2
       go

    <span data-ttu-id="56735-220">Чтобы изменить режим проверки подлинности с помощью среды SQL Server Management Studio, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="56735-220">To change the authentication mode using SQL Server management Studio:</span></span>

1. <span data-ttu-id="56735-221">В **обозревателе объектов SQL Server Management Studio** щелкните правой кнопкой мыши имя экземпляра SQL Server (имя виртуальной машины) и нажмите **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="56735-221">In **SQL Server Management Studio Object Explorer**, right-click the name of the instance of SQL Server (the virtual machine name), and then click **Properties**.</span></span>
   
   ![Свойства сервера][7]
2. <span data-ttu-id="56735-223">На странице **Безопасность** в разделе **Проверка подлинности сервера** выберите **Проверка подлинности SQL Server и Windows** и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="56735-223">On the **Security** page, under **Server authentication**, select **SQL Server and Windows Authentication mode**, and then click **OK**.</span></span>
   
   ![Выберите режим проверки подлинности][8]
3. <span data-ttu-id="56735-225">В диалоговом окне **SQL Server Management Studio** щелкните **ОК** для подтверждения необходимости перезапуска SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-225">In the **SQL Server Management Studio** dialog box, click **OK** to acknowledge the requirement to restart SQL Server.</span></span>
4. <span data-ttu-id="56735-226">В **обозревателе объектов** щелкните сервер правой кнопкой мыши и выберите **Перезапустить**.</span><span class="sxs-lookup"><span data-stu-id="56735-226">In **Object Explorer**, right-click your server, and then click **Restart**.</span></span> <span data-ttu-id="56735-227">(Если выполняется агент SQL Server, его также нужно перезапустить).</span><span class="sxs-lookup"><span data-stu-id="56735-227">(If SQL Server Agent is running, it must also be restarted.)</span></span>
   
   ![Перезагрузить][9]
5. <span data-ttu-id="56735-229">В диалоговом окне **SQL Server Management Studio** щелкните **Да** для подтверждения перезапуска SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-229">In the **SQL Server Management Studio** dialog box, click **Yes** to agree that you want to restart SQL Server.</span></span>

## <span data-ttu-id="56735-230"><a name="Logins"></a>Создание имен входа для аутентификации SQL Server</span><span class="sxs-lookup"><span data-stu-id="56735-230"><a name="Logins"></a>Create SQL Server authentication logins</span></span>
<span data-ttu-id="56735-231">Чтобы подключиться к компоненту Database Engine с другого компьютера, необходимо создать как минимум одну учетную запись проверки подлинности SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-231">To connect to the Database Engine from another computer, you must create at least one SQL Server authentication login.</span></span>  

<span data-ttu-id="56735-232">Новые учетные записи SQL Server можно создавать программным путем или с помощью среды SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="56735-232">You may create new SQL Server logins programmatically or using the SQL Server Management Studio.</span></span> <span data-ttu-id="56735-233">Чтобы создать нового пользователя sysadmin с проверкой подлинности SQL программным путем, запустите **Новый запрос** и выполните следующий сценарий.</span><span class="sxs-lookup"><span data-stu-id="56735-233">To create a new sysadmin user with SQL authentication programmatically, start a **New Query** and execute the following script.</span></span> <span data-ttu-id="56735-234">Замените параметры <new user name\> и <new password\> нужными *именем пользователя* и *паролем*.</span><span class="sxs-lookup"><span data-stu-id="56735-234">Replace <new user name\> and <new password\> with your choice of *user name* and *password*.</span></span> 

    USE master
    go

    CREATE LOGIN <new user name> WITH PASSWORD = N'<new password>',
        CHECK_POLICY = OFF,
        CHECK_EXPIRATION = OFF;

    EXEC sp_addsrvrolemember @loginame = N'<new user name>', @rolename = N'sysadmin';


<span data-ttu-id="56735-235">Отрегулируйте при необходимости политику паролей (в образце кода проверка политики и срок действия паролей отключаются).</span><span class="sxs-lookup"><span data-stu-id="56735-235">Adjust the password policy as needed (the sample code turns off policy checking and password expiration).</span></span> <span data-ttu-id="56735-236">Более подробные сведения об учетных записях SQL Server см. в статье [Создание имени входа](http://msdn.microsoft.com/library/aa337562.aspx).</span><span class="sxs-lookup"><span data-stu-id="56735-236">For more information about SQL Server logins, see [Create a Login](http://msdn.microsoft.com/library/aa337562.aspx).</span></span>  

<span data-ttu-id="56735-237">Чтобы создать новые учетные записи SQL Server с помощью среды SQL Server Management Studio, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="56735-237">To create new SQL Server logins using the SQL Server Management Studio:</span></span>

1. <span data-ttu-id="56735-238">В **обозревателе объектов SQL Server Management Studio**разверните папку экземпляра сервера, на котором требуется создать новую учетную запись.</span><span class="sxs-lookup"><span data-stu-id="56735-238">In **SQL Server Management Studio Object Explorer**, expand the folder of the server instance in which you want to create the new login.</span></span>
2. <span data-ttu-id="56735-239">Щелкните правой кнопкой мыши папку **Безопасность**, выберите **Создать** и **Имя входа...**.</span><span class="sxs-lookup"><span data-stu-id="56735-239">Right-click the **Security** folder, point to **New**, and select **Login…**.</span></span>
   
   ![Новая учетная запись][10]
3. <span data-ttu-id="56735-241">В диалоговом окне **Создание имени входа** на странице **Общие** введите имя нового пользователя в поле **Имя входа**.</span><span class="sxs-lookup"><span data-stu-id="56735-241">In the **Login - New** dialog box, on the **General** page, enter the name of the new user in the **Login name** box.</span></span>
4. <span data-ttu-id="56735-242">Выберите **Проверка подлинности SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="56735-242">Select **SQL Server authentication**.</span></span>
5. <span data-ttu-id="56735-243">В поле **Пароль** введите пароль для нового пользователя.</span><span class="sxs-lookup"><span data-stu-id="56735-243">In the **Password** box, enter a password for the new user.</span></span> <span data-ttu-id="56735-244">В поле **Подтвердите пароль** введите пароль еще раз.</span><span class="sxs-lookup"><span data-stu-id="56735-244">Enter that password again into the **Confirm Password** box.</span></span>
6. <span data-ttu-id="56735-245">Для принудительного применения политики паролей в плане их сложности выберите **Требовать использование политики паролей** (рекомендуется).</span><span class="sxs-lookup"><span data-stu-id="56735-245">To enforce password policy options for complexity and enforcement, select **Enforce password policy** (recommended).</span></span> <span data-ttu-id="56735-246">Этот параметр активируется по умолчанию, если выбрана проверка подлинности SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-246">This is a default option when SQL Server authentication is selected.</span></span>
7. <span data-ttu-id="56735-247">Для принудительного применения политики паролей в плане времени действия пароля выберите **Задать срок окончания действия пароля** (рекомендуется).</span><span class="sxs-lookup"><span data-stu-id="56735-247">To enforce password policy options for expiration, select **Enforce password expiration** (recommended).</span></span> <span data-ttu-id="56735-248">Для установки этого флажка нужно выбрать пункт "Требовать использование политики паролей".</span><span class="sxs-lookup"><span data-stu-id="56735-248">Enforce password policy must be selected to enable this checkbox.</span></span> <span data-ttu-id="56735-249">Этот параметр активируется по умолчанию, если выбрана проверка подлинности SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-249">This is a default option when SQL Server authentication is selected.</span></span>
8. <span data-ttu-id="56735-250">Чтобы предложить пользователю создать новый пароль после первого входа в систему, выберите **Пользователь должен сменить пароль при следующем входе в систему** (рекомендуется если имя входа предназначается для использования другим человеком.</span><span class="sxs-lookup"><span data-stu-id="56735-250">To force the user to create a new password after the first time the login is used, select **User must change password at next login** (Recommended if this login is for someone else to use.</span></span> <span data-ttu-id="56735-251">Если создается имя входа для собственного использования, этот параметр выбирать не нужно). Для установки этого флажка нужно выбрать пункт "Задать срок окончания действия пароля".</span><span class="sxs-lookup"><span data-stu-id="56735-251">If the login is for your own use, do not select this option.) Enforce password expiration must be selected to enable this checkbox.</span></span> <span data-ttu-id="56735-252">Этот параметр активируется по умолчанию, если выбрана проверка подлинности SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-252">This is a default option when SQL Server authentication is selected.</span></span>
9. <span data-ttu-id="56735-253">В списке **База данных по умолчанию** выберите базу данных по умолчанию для учетной записи.</span><span class="sxs-lookup"><span data-stu-id="56735-253">From the **Default database** list, select a default database for the login.</span></span> <span data-ttu-id="56735-254">**Основная** .</span><span class="sxs-lookup"><span data-stu-id="56735-254">**master** is the default for this option.</span></span> <span data-ttu-id="56735-255">Если пользовательская база данных еще не создана, оставьте значение **Основная**.</span><span class="sxs-lookup"><span data-stu-id="56735-255">If you have not yet created a user database, leave this set to **master**.</span></span>
10. <span data-ttu-id="56735-256">В списке **Язык по умолчанию** оставьте значение **По умолчанию**.</span><span class="sxs-lookup"><span data-stu-id="56735-256">In the **Default language** list, leave **default** as the value.</span></span>
    
    ![Свойства учетной записи][11]
11. <span data-ttu-id="56735-258">При первом создании учетной записи может потребоваться ее назначение в качестве администратора SQL Server.</span><span class="sxs-lookup"><span data-stu-id="56735-258">If this is the first login you are creating, you may want to designate this login as a SQL Server administrator.</span></span> <span data-ttu-id="56735-259">В таком случае на странице **Роли сервера** выберите **sysadmin**.</span><span class="sxs-lookup"><span data-stu-id="56735-259">If so, on the **Server Roles** page, check **sysadmin**.</span></span>
    
    > [!IMPORTANT]
    > <span data-ttu-id="56735-260">Участники фиксированной серверной роли sysadmin получают все права для управления ядром СУБД.</span><span class="sxs-lookup"><span data-stu-id="56735-260">Members of the sysadmin fixed server role have complete control of the Database Engine.</span></span> <span data-ttu-id="56735-261">По соображениям безопасности количество представителей этой роли нужно ограничить.</span><span class="sxs-lookup"><span data-stu-id="56735-261">For security reasons, you should carefully restrict membership in this role.</span></span>
    > 
    > 
    
    ![sysadmin][12]
12. <span data-ttu-id="56735-263">Нажмите кнопку ОК.</span><span class="sxs-lookup"><span data-stu-id="56735-263">Click OK.</span></span>

## <span data-ttu-id="56735-264"><a name="DNS"></a>Определение DNS-имени виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="56735-264"><a name="DNS"></a>Determine the DNS name of the virtual machine</span></span>
<span data-ttu-id="56735-265">Для подключения к компоненту SQL Server Database Engine с другого компьютера необходимо знать имя виртуальной машины в системе доменных имен (DNS).</span><span class="sxs-lookup"><span data-stu-id="56735-265">To connect to the SQL Server Database Engine from another computer, you must know the Domain Name System (DNS) name of the virtual machine.</span></span>

<span data-ttu-id="56735-266">(Это имя используется для идентификации виртуальной машины в сети Интернет.</span><span class="sxs-lookup"><span data-stu-id="56735-266">(This is the name the internet uses to identify the virtual machine.</span></span> <span data-ttu-id="56735-267">Можно использовать IP-адрес, но IP-адрес может измениться при перемещении ресурсов Azure для обеспечения избыточности или при выполнении обслуживания.</span><span class="sxs-lookup"><span data-stu-id="56735-267">You can use the IP address, but the IP address might change when Azure moves resources for redundancy or maintenance.</span></span> <span data-ttu-id="56735-268">DNS-имя будет оставаться неизменным, так как оно может быть перенаправлено на новый IP-адрес).</span><span class="sxs-lookup"><span data-stu-id="56735-268">The DNS name will be stable because it can be redirected to a new IP address.)</span></span>

1. <span data-ttu-id="56735-269">На классическом портале Azure (или на предыдущем этапе) выберите **ВИРТУАЛЬНЫЕ МАШИНЫ**.</span><span class="sxs-lookup"><span data-stu-id="56735-269">In the Azure Classic Portal (or from the previous step), select **VIRTUAL MACHINES**.</span></span>
2. <span data-ttu-id="56735-270">На странице **Экземпляры виртуальной машины** в столбце **DNS-имя** найдите и скопируйте DNS-имя для виртуальной машины, перед которым стоит **http://**.</span><span class="sxs-lookup"><span data-stu-id="56735-270">On the **VIRTUAL MACHINE INSTANCES** page, in the **DNS NAME** column, find and copy the DNS name for the virtual machine which appears preceded by **http://**.</span></span> <span data-ttu-id="56735-271">(Имя в интерфейсе пользователя может отображаться не полностью, однако вы можете щелкнуть правой кнопкой мыши и выбрать команду "Копировать").</span><span class="sxs-lookup"><span data-stu-id="56735-271">(The user interface might not display the entire name, but you can right-click on it, and select copy.)</span></span>

## <span data-ttu-id="56735-272"><a name="cde"></a>Подключение к ядру СУБД с другого компьютера</span><span class="sxs-lookup"><span data-stu-id="56735-272"><a name="cde"></a>Connect to the Database Engine from another computer</span></span>
1. <span data-ttu-id="56735-273">На компьютере, подключенном к сети Интернет, откройте SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="56735-273">On a computer connected to the internet, open SQL Server Management Studio.</span></span>
2. <span data-ttu-id="56735-274">В диалоговом окне **Подключение к серверу** или **Подключение к ядру СУБД** в поле **Имя сервера** введите DNS-имя виртуальной машины (определяется на предыдущем этапе) и номер порта открытой конечной точки в формате *DNSName,portnumber*, например **tutorialtestVM.cloudapp.net,57500**.</span><span class="sxs-lookup"><span data-stu-id="56735-274">In the **Connect to Server** or **Connect to Database Engine** dialog box, in the **Server name** box, enter the DNS name of the virtual machine (determined in the previous task) and a public endpoint port number in the format of *DNSName,portnumber* such as **tutorialtestVM.cloudapp.net,57500**.</span></span>
3. <span data-ttu-id="56735-275">В поле **Проверка подлинности** выберите **Проверка подлинности SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="56735-275">In the **Authentication** box, select **SQL Server Authentication**.</span></span>
4. <span data-ttu-id="56735-276">В поле **Учетная запись** введите имя учетной записи, которая была создана на предыдущем этапе.</span><span class="sxs-lookup"><span data-stu-id="56735-276">In the **Login** box, type the name of a login that you created in an earlier task.</span></span>
5. <span data-ttu-id="56735-277">В поле **Пароль** введите пароль учетной записи, которая была создана на предыдущем этапе.</span><span class="sxs-lookup"><span data-stu-id="56735-277">In the **Password** box, type the password of the login that you create in an earlier task.</span></span>
6. <span data-ttu-id="56735-278">Щелкните **Подключить**.</span><span class="sxs-lookup"><span data-stu-id="56735-278">Click **Connect**.</span></span>

## <span data-ttu-id="56735-279"><a name="amlconnect"></a>Подключение к ядру СУБД из службы машинного обучения Azure</span><span class="sxs-lookup"><span data-stu-id="56735-279"><a name="amlconnect"></a>Connect to the Database Engine from Azure Machine Learning</span></span>
<span data-ttu-id="56735-280">На следующих этапах процесса обработки и анализа данных группы вы будете использовать [Студию машинного обучения Azure](https://studio.azureml.net) для создания и развертывания моделей машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="56735-280">In later stages of the Team Data Science Process, you will use the [Azure Machine Learning Studio](https://studio.azureml.net) to build and deploy machine learning models.</span></span> <span data-ttu-id="56735-281">Для приема данных из баз данных виртуальных машин SQL Server непосредственно в Машинное обучение Azure для обучения или оценки следует использовать модуль **Импорт данных** в новом эксперименте [Студии машинного обучения Azure](https://studio.azureml.net).</span><span class="sxs-lookup"><span data-stu-id="56735-281">To ingest data from your SQL Server VM databases directly into Azure Machine Learning for training or scoring, use the **Import Data** module in a new [Azure Machine Learning Studio](https://studio.azureml.net) experiment.</span></span> <span data-ttu-id="56735-282">Эта тема раскрывается более подробно в статьях, доступных по ссылкам в руководстве по процессу обработки и анализа данных группы.</span><span class="sxs-lookup"><span data-stu-id="56735-282">This topic is covered in more details through the Team Data Science Process guide links.</span></span> <span data-ttu-id="56735-283">Для ознакомления см. статью [Что такое Студия машинного обучения Azure](machine-learning-what-is-ml-studio.md).</span><span class="sxs-lookup"><span data-stu-id="56735-283">For an introduction, see [What is Azure Machine Learning Studio?](machine-learning-what-is-ml-studio.md).</span></span>

1. <span data-ttu-id="56735-284">В области **Свойства** модуля [Импорт данных](https://msdn.microsoft.com/library/azure/dn905997.aspx) выберите **База данных SQL Azure** из раскрывающегося списка **Источник данных**.</span><span class="sxs-lookup"><span data-stu-id="56735-284">In the **Properties** pane of the [Import Data module](https://msdn.microsoft.com/library/azure/dn905997.aspx), select **Azure SQL Database** from the **Data Source**     dropdown list.</span></span>
2. <span data-ttu-id="56735-285">В текстовом поле **Имя сервера базы данных** введите `tcp:<DNS name of your virtual machine>,1433`.</span><span class="sxs-lookup"><span data-stu-id="56735-285">In the **Database server name** text box, enter `tcp:<DNS name of your virtual machine>,1433`</span></span>
3. <span data-ttu-id="56735-286">Введите имя пользователя SQL в текстовое поле **Имя учетной записи пользователя сервера** .</span><span class="sxs-lookup"><span data-stu-id="56735-286">Enter the SQL user name in the **Server user account name** text box.</span></span>
4. <span data-ttu-id="56735-287">Введите пароль пользователя SQL в текстовое поле **Пароль учетной записи пользователя сервера** .</span><span class="sxs-lookup"><span data-stu-id="56735-287">Enter the sql user's password in the **Server user account password** text box.</span></span>
   
   ![Импорт данных в Машинное обучение Azure][13]

## <span data-ttu-id="56735-289"><a name="shutdown"></a>Завершение работы и освобождение виртуальной машины при неиспользовании</span><span class="sxs-lookup"><span data-stu-id="56735-289"><a name="shutdown"></a>Shutdown and deallocate virtual machine when not in use</span></span>
<span data-ttu-id="56735-290">За виртуальные машины Azure вы **платите только по факту использования**.</span><span class="sxs-lookup"><span data-stu-id="56735-290">Azure Virtual Machines are priced as **pay only for what you use**.</span></span> <span data-ttu-id="56735-291">Чтобы предотвратить выставление счета за время, когда вы не пользуетесь виртуальной машиной, ее необходимо перевести в состояние **Остановлена (освобождена)** .</span><span class="sxs-lookup"><span data-stu-id="56735-291">To ensure that you are not being billed when not using your virtual machine, it has to be in the **Stopped (Deallocated)** state.</span></span>

> [!NOTE]
> <span data-ttu-id="56735-292">При завершении работы виртуальной машины изнутри (с использованием функций управления питанием Windows) виртуальная машина останавливается, но остается выделенной.</span><span class="sxs-lookup"><span data-stu-id="56735-292">Shutting down the virtual machine from inside (using Windows power options), the VM is stopped but remains allocated.</span></span> <span data-ttu-id="56735-293">Чтобы вам не выставлялся счет, всегда останавливайте виртуальные машины на [классическом портале Azure](http://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="56735-293">To ensure you’re not being billed, always stop virtual machines from the [Azure Classic Portal](http://manage.windowsazure.com/).</span></span> <span data-ttu-id="56735-294">Кроме того, вы можете остановить виртуальную машину из командной строки Powershell, вызвав команду ShutdownRoleOperation и указав для параметра PostShutdownAction значение StoppedDeallocated.</span><span class="sxs-lookup"><span data-stu-id="56735-294">You can also stop the VM through Powershell by calling ShutdownRoleOperation with "PostShutdownAction" equal to "StoppedDeallocated".</span></span>
> 
> 

<span data-ttu-id="56735-295">Вот как можно выключить виртуальную машину и отменить для нее распределение памяти:</span><span class="sxs-lookup"><span data-stu-id="56735-295">To shutdown and deallocate the virtual machine:</span></span>

1. <span data-ttu-id="56735-296">Перейдите на [классический портал Azure](http://manage.windowsazure.com/) , используя свою учетную запись.</span><span class="sxs-lookup"><span data-stu-id="56735-296">Log in to the [Azure Classic Portal](http://manage.windowsazure.com/) using your account.</span></span>  
2. <span data-ttu-id="56735-297">На панели навигации слева выберите **ВИРТУАЛЬНЫЕ МАШИНЫ** .</span><span class="sxs-lookup"><span data-stu-id="56735-297">Select **VIRTUAL MACHINES** from the left navigation bar.</span></span>
3. <span data-ttu-id="56735-298">В списке виртуальных машин выберите свою и перейдите на страницу **ПАНЕЛЬ МОНИТОРИНГА** .</span><span class="sxs-lookup"><span data-stu-id="56735-298">In the list of virtual machines, click on the name of your virtual machine then go to the **DASHBOARD** page.</span></span>
4. <span data-ttu-id="56735-299">В нижней части страницы нажмите кнопку **ЗАВЕРШЕНИЕ РАБОТЫ**.</span><span class="sxs-lookup"><span data-stu-id="56735-299">At the bottom of the page, click **SHUTDOWN**.</span></span>

![Завершение работы виртуальной машины][15]

<span data-ttu-id="56735-301">Распределение памяти для виртуальной машины будет отменено, но сама виртуальная машина останется.</span><span class="sxs-lookup"><span data-stu-id="56735-301">The virtual machine will be deallocated but not deleted.</span></span> <span data-ttu-id="56735-302">Виртуальную машину можно в любое время перезапустить на классическом портале Azure.</span><span class="sxs-lookup"><span data-stu-id="56735-302">You may restart your virtual machine at any time from the Azure Classic Portal.</span></span>

## <a name="your-azure-sql-server-vm-is-ready-to-use-whats-next"></a><span data-ttu-id="56735-303">Виртуальная машина Azure SQL Server готова к использованию: что дальше?</span><span class="sxs-lookup"><span data-stu-id="56735-303">Your Azure SQL Server VM is ready to use: what's next?</span></span>
<span data-ttu-id="56735-304">Теперь вы можете использовать свою виртуальную машину для обработки и анализа данных.</span><span class="sxs-lookup"><span data-stu-id="56735-304">Your virtual machine is now ready to use in your data science exercises.</span></span> <span data-ttu-id="56735-305">Кроме того, ее можно использовать в качестве сервера IPython Notebook для просмотра и обработки данных, а также для других задач, связанных с Машинным обучением Azure и процессом обработки и анализа данных группы (TDSP).</span><span class="sxs-lookup"><span data-stu-id="56735-305">The virtual machine is also ready for use as an IPython Notebook server for the exploration and processing of data, and other tasks in conjunction with Azure Machine Learning and the Team Data Science Process (TDSP).</span></span>

<span data-ttu-id="56735-306">Дальнейшие действия по обработке и анализу данных можно найти в статье [Процесс обработки и анализа данных группы](https://azure.microsoft.com/documentation/learning-paths/cortana-analytics-process/). Они могут включать в себя операции перемещения данных в HDInsight, а также их обработку и выборку для подготовки к обучению по данным с помощью Машинного обучения Azure.</span><span class="sxs-lookup"><span data-stu-id="56735-306">The next steps in the data science process are mapped in the [Team Data Science Process](https://azure.microsoft.com/documentation/learning-paths/cortana-analytics-process/) and may include steps that move data into HDInsight, process and sample it there in preparation for learning from the data with Azure Machine Learning.</span></span>

[1]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/selectsqlvmimg.png
[2]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/4vm-config.png
[3]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/sqlvmports.png
[4]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/vmpostopts.png
[5]:./media/machine-learning-data-science-setup-sql-server-virtual-machine/searchssms.png
[6]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/19connect-to-server.png
[7]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/20server-properties.png
[8]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/21mixed-mode.png
[9]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/22restart2.png
[10]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/23new-login.png
[11]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/24test-login.png
[12]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/25sysadmin.png
[13]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/amlreader.png
[15]: ./media/machine-learning-data-science-setup-sql-server-virtual-machine/vmshutdown.png

