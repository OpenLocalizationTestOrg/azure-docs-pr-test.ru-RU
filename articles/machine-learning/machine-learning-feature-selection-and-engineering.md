---
title: "aaaFeature engineering и выделение в машинном обучении Azure | Документы Microsoft"
description: "Описание целей hello выбора компонентов и конструируются и примеры их роли в процессе hello расширения данных машинного обучения."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 9ceb524d-842e-4f77-9eae-a18e599442d6
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/18/2017
ms.author: zhangya;bradsev
ROBOTS: NOINDEX
redirect_url: machine-learning-data-science-create-features
redirect_document_id: True
ms.openlocfilehash: e3e59329bf46f334396f5975b4e656137362d7ce
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="feature-engineering-and-selection-in-azure-machine-learning"></a><span data-ttu-id="3f613-103">Реконструирование и выбор признаков в машинном обучении Azure</span><span class="sxs-lookup"><span data-stu-id="3f613-103">Feature engineering and selection in Azure Machine Learning</span></span>
<span data-ttu-id="3f613-104">В этом разделе объясняется назначение hello конструируются и Выбор компонентов в процессе hello расширения данных машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="3f613-104">This topic explains hello purposes of feature engineering and feature selection in hello data-enhancement process of machine learning.</span></span> <span data-ttu-id="3f613-105">На примерах, предоставляемых студией машинного обучения Azure, показаны составляющие этих процессов.</span><span class="sxs-lookup"><span data-stu-id="3f613-105">It illustrates what these processes involve by using examples provided by Azure Machine Learning Studio.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="3f613-106">часто Hello обучающих данных, используемых в машинном обучении можно улучшить путем выбора hello или извлечение функции из hello необработанными данными, собранными.</span><span class="sxs-lookup"><span data-stu-id="3f613-106">hello training data used in machine learning can often be enhanced by hello selection or extraction of features from hello raw data collected.</span></span> <span data-ttu-id="3f613-107">Пример социотехники функции в контексте hello обучения как образы hello tooclassify рукописные символов — плотность битов карты образована hello необработанные бит распределения данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-107">An example of an engineered feature in hello context of learning how tooclassify hello images of handwritten characters is a bit-density map constructed from hello raw bit distribution data.</span></span> <span data-ttu-id="3f613-108">На этой карте поможет найти hello края символов hello более эффективно, чем необработанные распространения hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-108">This map can help locate hello edges of hello characters more efficiently than hello raw distribution.</span></span>

<span data-ttu-id="3f613-109">Социотехники и выбранные компоненты повысить эффективность hello процесса обучения hello, который пытается tooextract hello ключевые сведения, содержащиеся в данных hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-109">Engineered and selected features increase hello efficiency of hello training process, which attempts tooextract hello key information contained in hello data.</span></span> <span data-ttu-id="3f613-110">Они также повышают степень hello эти tooclassify моделей hello входных данных точно и результаты toopredict интересуют более надежно.</span><span class="sxs-lookup"><span data-stu-id="3f613-110">They also improve hello power of these models tooclassify hello input data accurately and toopredict outcomes of interest more robustly.</span></span> <span data-ttu-id="3f613-111">Конструируются и выбора можно также объединять обучения hello toomake работы большего количества вычислений со.</span><span class="sxs-lookup"><span data-stu-id="3f613-111">Feature engineering and selection can also combine toomake hello learning more computationally tractable.</span></span> <span data-ttu-id="3f613-112">Это делается путем улучшение и то уменьшение hello количество компонентов требуется toocalibrate или обучения модели.</span><span class="sxs-lookup"><span data-stu-id="3f613-112">It does so by enhancing and then reducing hello number of features needed toocalibrate or train a model.</span></span> <span data-ttu-id="3f613-113">Математически говоря, модели hello выбранного tootrain функции hello являются минимальный набор независимых переменных, которые объясняют шаблоны hello в данных hello и затем успешно прогнозирования результатов.</span><span class="sxs-lookup"><span data-stu-id="3f613-113">Mathematically speaking, hello features selected tootrain hello model are a minimal set of independent variables that explain hello patterns in hello data and then predict outcomes successfully.</span></span>

<span data-ttu-id="3f613-114">Проектирование Hello и Выбор функций является частью более масштабного процесса, который обычно состоит из четырех шагов:</span><span class="sxs-lookup"><span data-stu-id="3f613-114">hello engineering and selection of features is one part of a larger process, which typically consists of four steps:</span></span>

* <span data-ttu-id="3f613-115">Сбор данных</span><span class="sxs-lookup"><span data-stu-id="3f613-115">Data collection</span></span>
* <span data-ttu-id="3f613-116">совершенствование данных;</span><span class="sxs-lookup"><span data-stu-id="3f613-116">Data enhancement</span></span>
* <span data-ttu-id="3f613-117">построение модели;</span><span class="sxs-lookup"><span data-stu-id="3f613-117">Model construction</span></span>
* <span data-ttu-id="3f613-118">постобработка.</span><span class="sxs-lookup"><span data-stu-id="3f613-118">Post-processing</span></span>

<span data-ttu-id="3f613-119">Техническим специалистам и выбора составляют hello этап расширения данных машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="3f613-119">Engineering and selection make up hello data enhancement step of machine learning.</span></span> <span data-ttu-id="3f613-120">Для наших целей можно выделить три следующих аспекта этого процесса.</span><span class="sxs-lookup"><span data-stu-id="3f613-120">Three aspects of this process may be distinguished for our purposes:</span></span>

* <span data-ttu-id="3f613-121">**Предварительная обработка данных**: этот процесс tooensure попыток, hello собранные данные чистого и согласованность.</span><span class="sxs-lookup"><span data-stu-id="3f613-121">**Data pre-processing**: This process tries tooensure that hello collected data is clean and consistent.</span></span> <span data-ttu-id="3f613-122">Он предусматривает объединение наборов данных, обработку отсутствующих данных, обработку несогласованных данных и преобразование типов данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-122">It includes tasks such as integrating multiple data sets, handling missing data, handling inconsistent data, and converting data types.</span></span>
* <span data-ttu-id="3f613-123">**Функция engineering**: этот процесс пытается toocreate дополнительные соответствующие функции из существующих необработанные компонентов hello hello данных и tooincrease прогнозируемой мощностью toohello алгоритма обучения.</span><span class="sxs-lookup"><span data-stu-id="3f613-123">**Feature engineering**: This process attempts toocreate additional relevant features from hello existing raw features in hello data and tooincrease predictive power toohello learning algorithm.</span></span>
* <span data-ttu-id="3f613-124">**Выбор компонентов**: hello ключа подмножество исходную размерность данных функции tooreduce hello проблемы обучения hello выбирает этот процесс.</span><span class="sxs-lookup"><span data-stu-id="3f613-124">**Feature selection**: This process selects hello key subset of original data features tooreduce hello dimensionality of hello training problem.</span></span>

<span data-ttu-id="3f613-125">В этом разделе описывается только hello функция техническим специалистам и возможность выбора аспекты процесса hello данных расширения.</span><span class="sxs-lookup"><span data-stu-id="3f613-125">This topic only covers hello feature engineering and feature selection aspects of hello data enhancement process.</span></span> <span data-ttu-id="3f613-126">Дополнительные сведения на этапе предварительной обработки данных hello. в разделе [предварительная обработка данных в Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span><span class="sxs-lookup"><span data-stu-id="3f613-126">For more information on hello data pre-processing step, see [Pre-processing data in Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span></span>

## <a name="creating-features-from-your-data--feature-engineering"></a><span data-ttu-id="3f613-127">Создание признаков из данных. Конструирование признаков</span><span class="sxs-lookup"><span data-stu-id="3f613-127">Creating features from your data--feature engineering</span></span>
<span data-ttu-id="3f613-128">Hello обучающих данных состоит из матрицы, состоящие из примеров (записей или наблюдений, хранимых в строках), каждый из которых имеет ряд возможностей (переменных или полей, хранящихся в столбцах).</span><span class="sxs-lookup"><span data-stu-id="3f613-128">hello training data consists of a matrix composed of examples (records or observations stored in rows), each of which has a set of features (variables or fields stored in columns).</span></span> <span data-ttu-id="3f613-129">компоненты Hello, указанный в опытная конструкция hello, ожидаемый toocharacterize hello закономерности в данных hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-129">hello features specified in hello experimental design are expected toocharacterize hello patterns in hello data.</span></span> <span data-ttu-id="3f613-130">Несмотря на то, что многие из необработанных данных hello поля могут быть включены непосредственно в hello tootrain набор, используемый выбранный компонент модели, дополнительные компоненты на основе социотехники часто требуется toobe, построенным на основе функции hello в toogenerate необработанные данные hello улучшенные обучающий набор данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-130">Although many of hello raw data fields can be directly included in hello selected feature set used tootrain a model, additional engineered features often need toobe constructed from hello features in hello raw data toogenerate an enhanced training data set.</span></span>

<span data-ttu-id="3f613-131">Какие функции следует ли создать набор данных hello tooenhance при обучении модели</span><span class="sxs-lookup"><span data-stu-id="3f613-131">What kind of features should be created tooenhance hello data set when training a model?</span></span> <span data-ttu-id="3f613-132">Социотехники возможностей усовершенствования hello обучения предоставляют сведения, лучше распознает hello закономерности в данных hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-132">Engineered features that enhance hello training provide information that better differentiates hello patterns in hello data.</span></span> <span data-ttu-id="3f613-133">Предполагается, что hello новые возможности tooprovide дополнительную информацию, которая не является четко записанных или очевидным в исходной hello или задать существующий компонент, но этот процесс — это то того.</span><span class="sxs-lookup"><span data-stu-id="3f613-133">You expect hello new features tooprovide additional information that is not clearly captured or easily apparent in hello original or existing feature set, but this process is something of an art.</span></span> <span data-ttu-id="3f613-134">Обоснованные и эффективные решения часто требуют определенного знания предметной области.</span><span class="sxs-lookup"><span data-stu-id="3f613-134">Sound and productive decisions often require some domain expertise.</span></span>

<span data-ttu-id="3f613-135">Начиная с машинного обучения Azure, это простой toograsp этот процесс конкретно, используя образцы, предоставленные в студии машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="3f613-135">When starting with Azure Machine Learning, it is easiest toograsp this process concretely by using samples provided in Machine Learning Studio.</span></span> <span data-ttu-id="3f613-136">Здесь представлены два примера.</span><span class="sxs-lookup"><span data-stu-id="3f613-136">Two examples are presented here:</span></span>

* <span data-ttu-id="3f613-137">Пример регрессии ([прогноза hello количество запросов на прокат велосипедов](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) в защищенный эксперимент, где известны hello целевых значений</span><span class="sxs-lookup"><span data-stu-id="3f613-137">A regression example ([Prediction of hello number of bike rentals](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) in a supervised experiment where hello target values are known</span></span>
* <span data-ttu-id="3f613-138">Пример классификации интеллектуального анализа текста с использованием [хэширования признаков][feature-hashing].</span><span class="sxs-lookup"><span data-stu-id="3f613-138">A text-mining classification example using [Feature Hashing][feature-hashing]</span></span>

### <a name="example-1-adding-temporal-features-for-a-regression-model"></a><span data-ttu-id="3f613-139">Пример 1. Добавление временных признаков для регрессионной модели</span><span class="sxs-lookup"><span data-stu-id="3f613-139">Example 1: Adding temporal features for a regression model</span></span>
<span data-ttu-id="3f613-140">toodemonstrate как tooengineer функций для задачи регрессии, воспользуемся hello эксперимента «прогноза спроса на велосипеды» в студии машинного обучения Azure.</span><span class="sxs-lookup"><span data-stu-id="3f613-140">toodemonstrate how tooengineer features for a regression task, let's use hello experiment "Demand forecasting of bikes" in Azure Machine Learning Studio.</span></span> <span data-ttu-id="3f613-141">Цель этого эксперимента Hello — toopredict hello спроса на велосипеды hello, т. е hello количество запросов на прокат велосипедов в определенный месяц, день или час.</span><span class="sxs-lookup"><span data-stu-id="3f613-141">hello objective of this experiment is toopredict hello demand for hello bikes, that is, hello number of bike rentals within a specific month, day, or hour.</span></span> <span data-ttu-id="3f613-142">набор данных Hello **набора данных UCI прокат велосипедов** используется как необработанные данные ввода hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-142">hello data set **Bike Rental UCI data set** is used as hello raw input data.</span></span>

<span data-ttu-id="3f613-143">Этот набор данных основан на реальные данные с hello прописная спрос на аренду велосипедов компания, которая содержит сеть прокат велосипедов в Вашингтон Округ Колумбия в hello США.</span><span class="sxs-lookup"><span data-stu-id="3f613-143">This data set is based on real data from hello Capital Bikeshare company that maintains a bike rental network in Washington DC in hello United States.</span></span> <span data-ttu-id="3f613-144">набор данных Hello представляет hello количество запросов на прокат велосипедов в определенное время дня, из too2012 2011 г. и содержит 17379 строки и столбцы, 17.</span><span class="sxs-lookup"><span data-stu-id="3f613-144">hello data set represents hello number of bike rentals within a specific hour of a day, from 2011 too2012, and it contains 17379 rows and 17 columns.</span></span> <span data-ttu-id="3f613-145">набор необработанные функций Hello содержит погодных условий (температура, влажность, скорость ветра) и тип hello hello дня (праздников или дня недели).</span><span class="sxs-lookup"><span data-stu-id="3f613-145">hello raw feature set contains weather conditions (temperature, humidity, wind speed) and hello type of hello day (holiday or weekday).</span></span> <span data-ttu-id="3f613-146">— поле toopredict Hello **cnt**, число, представляющее внаем велосипеда hello в конкретный час и, в диапазоне от 1 too977.</span><span class="sxs-lookup"><span data-stu-id="3f613-146">hello field toopredict is **cnt**, a count that represents hello bike rentals within a specific hour and that ranges from 1 too977.</span></span>

<span data-ttu-id="3f613-147">tooconstruct действующие возможности hello обучающих данных, четыре модели регрессии создаются с использованием hello задает того же алгоритма, но с четыре разных обучающих данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-147">tooconstruct effective features in hello training data, four regression models are built by using hello same algorithm, but with four different training data sets.</span></span> <span data-ttu-id="3f613-148">наборы данных представляют Привет четырех hello же необработанные входные данные, но при увеличении числа компонентов назначен.</span><span class="sxs-lookup"><span data-stu-id="3f613-148">hello four data sets represent hello same raw input data, but with an increasing number of features set.</span></span> <span data-ttu-id="3f613-149">Эти признаки сгруппированы в четыре категории:</span><span class="sxs-lookup"><span data-stu-id="3f613-149">These features are grouped into four categories:</span></span>

1. <span data-ttu-id="3f613-150">A = погоды + праздников + weekday + выходные функции hello прогнозируемое день</span><span class="sxs-lookup"><span data-stu-id="3f613-150">A = weather + holiday + weekday + weekend features for hello predicted day</span></span>
2. <span data-ttu-id="3f613-151">B = количество велосипедов, которые были аренды в каждом hello предыдущих 12 часов</span><span class="sxs-lookup"><span data-stu-id="3f613-151">B = number of bikes that were rented in each of hello previous 12 hours</span></span>
3. <span data-ttu-id="3f613-152">C = количество велосипедов, которые были аренды в каждом hello предыдущие 12 дней в hello же час</span><span class="sxs-lookup"><span data-stu-id="3f613-152">C = number of bikes that were rented in each of hello previous 12 days at hello same hour</span></span>
4. <span data-ttu-id="3f613-153">D = количество велосипедов, которые были аренды в каждом hello предыдущих 12 недель в hello же час и hello один день</span><span class="sxs-lookup"><span data-stu-id="3f613-153">D = number of bikes that were rented in each of hello previous 12 weeks at hello same hour and hello same day</span></span>

<span data-ttu-id="3f613-154">Помимо функции набора A уже существует в исходной необработанных данных hello, hello других трех наборов функций создаются с помощью функции hello процесса.</span><span class="sxs-lookup"><span data-stu-id="3f613-154">Besides feature set A, which already exists in hello original raw data, hello other three sets of features are created through hello feature engineering process.</span></span> <span data-ttu-id="3f613-155">Задать компонент B получает hello последних спроса на велосипеды hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-155">Feature set B captures hello recent demand for hello bikes.</span></span> <span data-ttu-id="3f613-156">Набор функций C получает hello спроса на велосипеды в час.</span><span class="sxs-lookup"><span data-stu-id="3f613-156">Feature set C captures hello demand for bikes at a particular hour.</span></span> <span data-ttu-id="3f613-157">D захваты спроса на велосипеды набор функций в определенный день недели hello и час.</span><span class="sxs-lookup"><span data-stu-id="3f613-157">Feature set D captures demand for bikes at particular hour and particular day of hello week.</span></span> <span data-ttu-id="3f613-158">Каждая из четырех hello наборы данных обучения включает наборы функций A, A + B, A + B + C и A + B + C + D, соответственно.</span><span class="sxs-lookup"><span data-stu-id="3f613-158">Each of hello four training data sets includes feature sets A, A+B, A+B+C, and A+B+C+D, respectively.</span></span>

<span data-ttu-id="3f613-159">В hello эксперимента машинного обучения Azure эти четыре набора обучающих данных формируются через четыре ветви из hello предварительно обработанные входного набора данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-159">In hello Azure Machine Learning experiment, these four training data sets are formed via four branches from hello pre-processed input data set.</span></span> <span data-ttu-id="3f613-160">За исключением hello крайняя слева ветвь, каждый из этих ветвей содержит [выполнение скрипта R] [ execute-r-script] соответственно создается и добавляется модуль, в котором набор производный функций (компонент задает B, C и D) toohello импортировать набор данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-160">Except for hello leftmost branch, each of these branches contains an [Execute R Script][execute-r-script] module in which a set of derived features (feature sets B, C, and D) is respectively constructed and appended toohello imported data set.</span></span> <span data-ttu-id="3f613-161">Hello следующий рисунок демонстрирует сценарий hello R используемых набор функций toocreate B во второй ветви левой hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-161">hello following figure demonstrates hello R script used toocreate feature set B in hello second left branch.</span></span>

![Создание набора признаков](./media/machine-learning-feature-selection-and-engineering/addFeature-Rscripts.png)

<span data-ttu-id="3f613-163">Hello следующей таблице приведена сводка hello сравнение результатов производительности hello hello четыре модели.</span><span class="sxs-lookup"><span data-stu-id="3f613-163">hello following table summarizes hello comparison of hello performance results of hello four models.</span></span> <span data-ttu-id="3f613-164">наилучших результатов Hello показаны компоненты A + B + C.</span><span class="sxs-lookup"><span data-stu-id="3f613-164">hello best results are shown by features A+B+C.</span></span> <span data-ttu-id="3f613-165">Обратите внимание, что частота возникновения ошибок hello снижается, если наборы дополнительных функций, включенных в hello обучающих данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-165">Note that hello error rate decreases when additional feature sets are included in hello training data.</span></span> <span data-ttu-id="3f613-166">Тем самым производится проверка нашей предположения, hello наборы функций, B и C предоставляют дополнительные данные для задачи hello регрессии.</span><span class="sxs-lookup"><span data-stu-id="3f613-166">This verifies our presumption that hello feature sets B and C provide additional relevant information for hello regression task.</span></span> <span data-ttu-id="3f613-167">Добавление набора функций hello D не tooprovide любое дополнительное сокращение в частота ошибок hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-167">Adding hello D feature set does not seem tooprovide any additional reduction in hello error rate.</span></span>

![Сравнение результатов производительности](./media/machine-learning-feature-selection-and-engineering/result1.png)

### <span data-ttu-id="3f613-169"><a name="example2"></a> Пример 2. Создание признаков в интеллектуальном анализе текста</span><span class="sxs-lookup"><span data-stu-id="3f613-169"><a name="example2"></a> Example 2: Creating features in text mining</span></span>
<span data-ttu-id="3f613-170">Конструируются широко применяется в связанных tootext задач интеллектуального анализа данных, таких как анализ документа классификации и мнений.</span><span class="sxs-lookup"><span data-stu-id="3f613-170">Feature engineering is widely applied in tasks related tootext mining, such as document classification and sentiment analysis.</span></span> <span data-ttu-id="3f613-171">Например при требуется tooclassify документы в несколько категорий, обычно подразумевается, скорее всего, toooccur в другой документ категории hello слов или фраз, включенных в категорию одного документа.</span><span class="sxs-lookup"><span data-stu-id="3f613-171">For example, when you want tooclassify documents into several categories, a typical assumption is that hello words or phrases included in one document category are less likely toooccur in another document category.</span></span> <span data-ttu-id="3f613-172">Другими словами частота hello hello слова или фразы распределения — может toocharacterize другого документа категорий.</span><span class="sxs-lookup"><span data-stu-id="3f613-172">In other words, hello frequency of hello word or phrase distribution is able toocharacterize different document categories.</span></span> <span data-ttu-id="3f613-173">В приложениях интеллектуального анализа данных текст hello компонент процесса является функции hello необходимые toocreate с участием частот слова или фразы, так как отдельные части текстового содержимого обычно служат hello входных данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-173">In text mining applications, hello feature engineering process is needed toocreate hello features involving word or phrase frequencies because individual pieces of text-contents usually serve as hello input data.</span></span>

<span data-ttu-id="3f613-174">tooachieve это задача, обеспечиваемое *хэширование признаков* будет применен tooefficiently Включение компонентов произвольный текст в индексы.</span><span class="sxs-lookup"><span data-stu-id="3f613-174">tooachieve this task, a technique called *feature hashing* is applied tooefficiently turn arbitrary text features into indices.</span></span> <span data-ttu-id="3f613-175">Вместо сопоставления каждого текст функции (слова или фразы) tooa определенного индекса, этот метод работает, применяя функции toohello функции хэширования и напрямую с помощью их хэш-значения как индексы.</span><span class="sxs-lookup"><span data-stu-id="3f613-175">Instead of associating each text feature (words or phrases) tooa particular index, this method functions by applying a hash function toohello features and by using their hash values as indices directly.</span></span>

<span data-ttu-id="3f613-176">В Машинном обучении Azure есть модуль [Feature Hashing][feature-hashing] (Хэширование признаков), с помощью которого можно создавать признаки этих слов или фраз.</span><span class="sxs-lookup"><span data-stu-id="3f613-176">In Azure Machine Learning, there is a [Feature Hashing][feature-hashing] module that creates these word or phrase features.</span></span> <span data-ttu-id="3f613-177">Hello на этом рисунке показан пример использования этого модуля.</span><span class="sxs-lookup"><span data-stu-id="3f613-177">hello following figure shows an example of using this module.</span></span> <span data-ttu-id="3f613-178">Hello входной набор данных содержит два столбца: hello книги оценок от 1 too5 и hello просмотра содержимого.</span><span class="sxs-lookup"><span data-stu-id="3f613-178">hello input data set contains two columns: hello book rating ranging from 1 too5 and hello actual review content.</span></span> <span data-ttu-id="3f613-179">Цель Hello это [хэширование признаков] [ feature-hashing] модуль является tooretrieve новые функции, содержащие частоту вхождения hello hello соответствующего слов или фраз в конкретную книгу проверки hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-179">hello goal of this [Feature Hashing][feature-hashing] module is tooretrieve new features that show hello occurrence frequency of hello corresponding words or phrases within hello particular book review.</span></span> <span data-ttu-id="3f613-180">toouse этот модуль необходимо hello toocomplete следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="3f613-180">toouse this module, you need toocomplete hello following steps:</span></span>

1. <span data-ttu-id="3f613-181">Привет, выберите столбец, содержащий входной текст hello (**Col2** в этом примере).</span><span class="sxs-lookup"><span data-stu-id="3f613-181">Select hello column that contains hello input text (**Col2** in this example).</span></span>
2. <span data-ttu-id="3f613-182">Задать *разрядность хэширования* too8, что означает 2 ^ 8 = 256 функции создаются.</span><span class="sxs-lookup"><span data-stu-id="3f613-182">Set *Hashing bitsize* too8, which means 2^8=256 features are created.</span></span> <span data-ttu-id="3f613-183">Hello слова или фразы в тексте hello будет хэширован too256 индексов.</span><span class="sxs-lookup"><span data-stu-id="3f613-183">hello word or phrase in hello text is then hashed too256 indices.</span></span> <span data-ttu-id="3f613-184">Здравствуйте, параметр *разрядность хэширования* лежит в диапазоне от 1 too31.</span><span class="sxs-lookup"><span data-stu-id="3f613-184">hello parameter *Hashing bitsize* ranges from 1 too31.</span></span> <span data-ttu-id="3f613-185">Если hello параметра — tooa большего количества, hello слов или фраз реже toobe хэшируются в hello же индекс.</span><span class="sxs-lookup"><span data-stu-id="3f613-185">If hello parameter is set tooa larger number, hello words or phrases are less likely toobe hashed into hello same index.</span></span>
3. <span data-ttu-id="3f613-186">Задайте для параметра hello *N-грамм* too2.</span><span class="sxs-lookup"><span data-stu-id="3f613-186">Set hello parameter *N-grams* too2.</span></span> <span data-ttu-id="3f613-187">Это возвращает частоту вхождения hello (функция для каждого отдельного слова) извлекаются униграммы и биграммы (функция для каждой пары соседних слова) из входного текста hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-187">This retrieves hello occurrence frequency of unigrams (a feature for every single word) and bigrams (a feature for every pair of adjacent words) from hello input text.</span></span> <span data-ttu-id="3f613-188">Здравствуйте, параметр *N-грамм* лежит в диапазоне от 0 too10, которое указывает максимальное количество hello toobe последовательных слова, которые включены в компонент.</span><span class="sxs-lookup"><span data-stu-id="3f613-188">hello parameter *N-grams* ranges from 0 too10, which indicates hello maximum number of sequential words toobe included in a feature.</span></span>  

![Модуль хэширования признаков](./media/machine-learning-feature-selection-and-engineering/feature-Hashing1.png)

<span data-ttu-id="3f613-190">Hello на этом рисунке показано, как выглядеть этих новых функций.</span><span class="sxs-lookup"><span data-stu-id="3f613-190">hello following figure shows what these new features look like.</span></span>

![Пример хэширования признаков](./media/machine-learning-feature-selection-and-engineering/feature-Hashing2.png)

## <a name="filtering-features-from-your-data--feature-selection"></a><span data-ttu-id="3f613-192">Фильтрация признаков в данных. Выбор признаков</span><span class="sxs-lookup"><span data-stu-id="3f613-192">Filtering features from your data--feature selection</span></span>
<span data-ttu-id="3f613-193">*Выбор компонентов* — процесс, который обычно применяется toohello создания наборов обучающих данных для прогнозирующего моделирования задач, таких как задачи классификации или регрессии.</span><span class="sxs-lookup"><span data-stu-id="3f613-193">*Feature selection* is a process that is commonly applied toohello construction of training data sets for predictive modeling tasks such as classification or regression tasks.</span></span> <span data-ttu-id="3f613-194">Задача Hello — tooselect подмножество функций hello из hello исходный набор данных, его размеры с помощью минимального набора функций toorepresent hello максимальное отклонение в данных hello.</span><span class="sxs-lookup"><span data-stu-id="3f613-194">hello goal is tooselect a subset of hello features from hello original data set that reduces its dimensions by using a minimal set of features toorepresent hello maximum amount of variance in hello data.</span></span> <span data-ttu-id="3f613-195">Это подмножество функций содержит hello только компоненты включены toobe tootrain hello модель.</span><span class="sxs-lookup"><span data-stu-id="3f613-195">This subset of features contains hello only features toobe included tootrain hello model.</span></span> <span data-ttu-id="3f613-196">Выбор признаков служит двум основным целям.</span><span class="sxs-lookup"><span data-stu-id="3f613-196">Feature selection serves two main purposes:</span></span>

* <span data-ttu-id="3f613-197">Выбор признаков часто повышает точность классификации, исключая несоответствующие, избыточные или сильно коррелирующие признаки.</span><span class="sxs-lookup"><span data-stu-id="3f613-197">Feature selection often increases classification accuracy by eliminating irrelevant, redundant, or highly correlated features.</span></span>
* <span data-ttu-id="3f613-198">Возможность выбора уменьшается hello несколько функций, что делает более эффективным hello процесс обучения модели.</span><span class="sxs-lookup"><span data-stu-id="3f613-198">Feature selection decreases hello number of features, which makes hello model training process more efficient.</span></span> <span data-ttu-id="3f613-199">Это особенно важно для учеников, ресурсоемкие tootrain, например опорных векторов.</span><span class="sxs-lookup"><span data-stu-id="3f613-199">This is particularly important for learners that are expensive tootrain such as support vector machines.</span></span>

<span data-ttu-id="3f613-200">Несмотря на то, что выбор компонентов операции поиска tooreduce hello количеством признаков в tootrain hello hello набора данных используется модель, он не является термин термин hello tooby *сокращение размерности.*</span><span class="sxs-lookup"><span data-stu-id="3f613-200">Although feature selection seeks tooreduce hello number of features in hello data set used tootrain hello model, it is not usually referred tooby hello term *dimensionality reduction.*</span></span> <span data-ttu-id="3f613-201">Методы выбора компонентов Извлеките подмножество исходного признаков в данных hello без изменений.</span><span class="sxs-lookup"><span data-stu-id="3f613-201">Feature selection methods extract a subset of original features in hello data without changing them.</span></span>  <span data-ttu-id="3f613-202">Методы сокращения размерности применяю социотехники функции, которые могут преобразовывать исходной функции hello и таким образом изменять их.</span><span class="sxs-lookup"><span data-stu-id="3f613-202">Dimensionality reduction methods employ engineered features that can transform hello original features and thus modify them.</span></span> <span data-ttu-id="3f613-203">Примеры методов сокращения размерности: анализ главных компонентов, анализ канонических корреляций и сингулярная декомпозиция.</span><span class="sxs-lookup"><span data-stu-id="3f613-203">Examples of dimensionality reduction methods include principal component analysis, canonical correlation analysis, and singular value decomposition.</span></span>

<span data-ttu-id="3f613-204">Одна из распространенных категорий методов выбора признаков в контролируемом контексте называется "Выбор признаков на основе фильтра".</span><span class="sxs-lookup"><span data-stu-id="3f613-204">One widely applied category of feature selection methods in a supervised context is filter-based feature selection.</span></span> <span data-ttu-id="3f613-205">Путем вычисления hello корреляции между каждого компонента и hello целевого атрибута, эти методы применяются статистические меры tooassign функция tooeach оценка.</span><span class="sxs-lookup"><span data-stu-id="3f613-205">By evaluating hello correlation between each feature and hello target attribute, these methods apply a statistical measure tooassign a score tooeach feature.</span></span> <span data-ttu-id="3f613-206">Hello затем компоненты ранжируются по оценке hello, который можно использовать tooset hello порог для сохранения или удаления определенных компонентов.</span><span class="sxs-lookup"><span data-stu-id="3f613-206">hello features are then ranked by hello score, which you can use tooset hello threshold for keeping or eliminating a specific feature.</span></span> <span data-ttu-id="3f613-207">Hello статистические показатели, используемые в этих методах примеры корреляции Пирсона взаимной информации и hello тестом.</span><span class="sxs-lookup"><span data-stu-id="3f613-207">Examples of hello statistical measures used in these methods include Pearson Correlation, mutual information, and hello Chi-squared test.</span></span>

<span data-ttu-id="3f613-208">В студии машинного обучения Azure предусмотрены модули для выбора признаков.</span><span class="sxs-lookup"><span data-stu-id="3f613-208">Azure Machine Learning Studio provides modules for feature selection.</span></span> <span data-ttu-id="3f613-209">Как показано на следующий рисунок hello, эти модули включают [Выбор компонентов на основе фильтра] [ filter-based-feature-selection] и [линейного Дискриминантного анализа Фишера] [ fisher-linear-discriminant-analysis].</span><span class="sxs-lookup"><span data-stu-id="3f613-209">As shown in hello following figure, these modules include [Filter-Based Feature Selection][filter-based-feature-selection] and [Fisher Linear Discriminant Analysis][fisher-linear-discriminant-analysis].</span></span>

![Пример выбора признаков](./media/machine-learning-feature-selection-and-engineering/feature-Selection.png)

<span data-ttu-id="3f613-211">Например, использовать hello [Выбор компонентов на основе фильтра] [ filter-based-feature-selection] модуль с пример интеллектуального анализа текста hello, описанные ранее.</span><span class="sxs-lookup"><span data-stu-id="3f613-211">For example, use hello [Filter-Based Feature Selection][filter-based-feature-selection] module with hello text mining example outlined previously.</span></span> <span data-ttu-id="3f613-212">Предположим, что модель регрессии toobuild после создания набора функций 256 через hello [хэширование признаков] [ feature-hashing] модуля и переменную ответа, hello **Col1**и представляет книгу просмотрите оценки и принимает значения от 1 too5.</span><span class="sxs-lookup"><span data-stu-id="3f613-212">Assume that you want toobuild a regression model after a set of 256 features is created through hello [Feature Hashing][feature-hashing] module, and that hello response variable is **Col1** and represents a book review rating ranging from 1 too5.</span></span> <span data-ttu-id="3f613-213">Задать **метод оценки компонентов** слишком**корреляции Пирсона**, **целевого столбца** слишком**Col1**, и **требуемого числа компоненты** слишком**50**.</span><span class="sxs-lookup"><span data-stu-id="3f613-213">Set **Feature scoring method** too**Pearson Correlation**, **Target column** too**Col1**, and **Number of desired features** too**50**.</span></span> <span data-ttu-id="3f613-214">модуль Hello [Выбор компонентов на основе фильтра] [ filter-based-feature-selection] затем создает набор данных, содержащий 50 возможности вместе с целевой атрибут hello **Col1**.</span><span class="sxs-lookup"><span data-stu-id="3f613-214">hello module [Filter-Based Feature Selection][filter-based-feature-selection] then produces a data set containing 50 features together with hello target attribute **Col1**.</span></span> <span data-ttu-id="3f613-215">Hello ниже рисунке показан поток hello этого эксперимента и hello входных параметров.</span><span class="sxs-lookup"><span data-stu-id="3f613-215">hello following figure shows hello flow of this experiment and hello input parameters.</span></span>

![Пример выбора признаков](./media/machine-learning-feature-selection-and-engineering/feature-Selection1.png)

<span data-ttu-id="3f613-217">Hello на этом рисунке показано hello результирующие наборы данных.</span><span class="sxs-lookup"><span data-stu-id="3f613-217">hello following figure shows hello resulting data sets.</span></span> <span data-ttu-id="3f613-218">Каждый компонент результат функции на основе на hello корреляции Пирсона между собой и hello целевого атрибута **Col1**.</span><span class="sxs-lookup"><span data-stu-id="3f613-218">Each feature is scored based on hello Pearson Correlation between itself and hello target attribute **Col1**.</span></span> <span data-ttu-id="3f613-219">функции Hello с верхних оценок сохраняются.</span><span class="sxs-lookup"><span data-stu-id="3f613-219">hello features with top scores are kept.</span></span>

![Наборы данных для выбора признаков на основе фильтра](./media/machine-learning-feature-selection-and-engineering/feature-Selection2.png)

<span data-ttu-id="3f613-221">Следующий рисунок показывает Hello hello соответствующие оценки hello выбранных компонентов.</span><span class="sxs-lookup"><span data-stu-id="3f613-221">hello following figure shows hello corresponding scores of hello selected features.</span></span>

![Оценки выбранных признаков](./media/machine-learning-feature-selection-and-engineering/feature-Selection3.png)

<span data-ttu-id="3f613-223">Применяя это [Выбор компонентов на основе фильтра] [ filter-based-feature-selection] модуль 50 из 256 компоненты выбраны, так как они имеют hello, большинство функций, связанные с целевой переменной hello **Col1** основании hello метод оценки **корреляции Пирсона**.</span><span class="sxs-lookup"><span data-stu-id="3f613-223">By applying this [Filter-Based Feature Selection][filter-based-feature-selection] module, 50 out of 256 features are selected because they have hello most features correlated with hello target variable **Col1** based on hello scoring method **Pearson Correlation**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="3f613-224">Заключение</span><span class="sxs-lookup"><span data-stu-id="3f613-224">Conclusion</span></span>
<span data-ttu-id="3f613-225">Конструируются и Выбор компонентов — это два шаги часто выполнять tooprepare hello обучающих данных при построении модели машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="3f613-225">Feature engineering and feature selection are two steps commonly performed tooprepare hello training data when building a machine learning model.</span></span> <span data-ttu-id="3f613-226">Как правило конструируются будет применен первый toogenerate дополнительные функции, а затем шаге выбора функции hello выполнено tooeliminate имеют значения, избыточные или высокой степенью корреляции признаков.</span><span class="sxs-lookup"><span data-stu-id="3f613-226">Normally, feature engineering is applied first toogenerate additional features, and then hello feature selection step is performed tooeliminate irrelevant, redundant, or highly correlated features.</span></span>

<span data-ttu-id="3f613-227">Это не всегда обязательно tooperform Выбор компонентов engineering или компонента.</span><span class="sxs-lookup"><span data-stu-id="3f613-227">It is not always necessarily tooperform feature engineering or feature selection.</span></span> <span data-ttu-id="3f613-228">Необходим ли он зависит от данных hello он или собирать hello алгоритма, который вы выберете и hello цель hello эксперимента.</span><span class="sxs-lookup"><span data-stu-id="3f613-228">Whether it is needed depends on hello data you have or collect, hello algorithm you pick, and hello objective of hello experiment.</span></span>

<!-- Module References -->
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
[feature-hashing]: https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[fisher-linear-discriminant-analysis]: https://msdn.microsoft.com/library/azure/dcaab0b2-59ca-4bec-bb66-79fd23540080/
