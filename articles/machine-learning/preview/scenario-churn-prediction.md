---
title: "Прогнозирование оттока клиентов с помощью Машинного обучения Azure | Документация Майкрософт"
description: "Порядок выполнения анализа оттока с помощью Azure ML Workbench."
services: machine-learning
documentationcenter: 
author: miprasad
manager: kristin.tolle
editor: miprasad
ms.assetid: 
ms.reviewer: garyericson, jasonwhowell, mldocs
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/17/2017
ms.author: miprasad
ms.openlocfilehash: 7db93786b71fb7876ae02fd8fd006a1e8e0c2271
ms.sourcegitcommit: 68aec76e471d677fd9a6333dc60ed098d1072cfc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/18/2017
---
# <a name="customer-churn-prediction-using-azure-machine-learning"></a>Прогнозирование оттока клиентов с помощью Машинного обучения Azure

В среднем сохранение имеющихся клиентов обходится в пять раз дешевле, чем поиск новых. В результате менеджеры по маркетингу часто пытаются оценить вероятность оттока клиентов и найти необходимые меры для минимизации оттока.

Цель этого решения — продемонстрировать прогнозную аналитику оттока с помощью Azure Machine Learning Workbench. Это решение предоставляет простой в использовании шаблон для разработки конвейеров данных прогнозной аналитики оттока для розничных продавцов. Шаблон можно использовать с различными наборами данных и различными определениями оттока. Целью этого практического примера является:

1. Ознакомление со средствами подготовки данных Azure Machine Learning Workbench для очистки и принятия данных взаимоотношений с клиентами для анализа оттока.

2. Выполнение преобразования признаков для обработки необработанных разнородных данных.

3. Интеграция сторонних библиотек (таких как `scikit-learn` и `azureml`) для разработки классификаторов по методу Байеса и деревьев принятия решений для прогнозирования оттока.

4. Развертывание.

## <a name="link-of-the-gallery-github-repository"></a>Ссылка на репозиторий коллекции на GitHub
Вот ссылка на общедоступный репозиторий GitHub, в котором размещен весь код:

[https://github.com/Azure/MachineLearningSamples-ChurnPrediction](https://github.com/Azure/MachineLearningSamples-ChurnPrediction)

## <a name="use-case-overview"></a>Обзор варианта использования
Компании нуждаются в эффективной стратегии управления оттоком клиентов. Это клиенты, которые прекращают использование службы, переходят на службу конкурента, переходят на более низкий уровень обслуживания или снижают взаимодействие со службой.

В этом случае мы рассматриваем данные французской телекоммуникационной компании Orange, чтобы идентифицировать клиентов, которые, скорее всего, откажутся от службы в ближайшем будущем. Наши усилия направлены на то, чтобы улучшить обслуживание и создать рекламные кампании, которые помогут сохранить клиентов.

Телекоммуникационные компании сталкиваются с конкурентным рынком. Многие операторы теряют доход от клиентов, использующих способ оплаты по факту, из-за оттока. Следовательно, способность точно идентифицировать отток клиентов может быть огромным конкурентным преимуществом.

Вот некоторые из факторов, способствующих оттоку клиентов телекоммуникационных компаний:

* наблюдаются частные неполадки службы;
* плохое обслуживание клиентов в розничных и интернет-магазинах;
* предложения от других конкурирующих операторов (лучший семейный план, план данных и т. д.).

Для данного решения будет использован конкретный пример построения модели прогнозирования оттока клиентов для телекоммуникационных компаний.

## <a name="prerequisites"></a>Технические условия

* [Учетная запись Azure](https://azure.microsoft.com/free/) (доступны бесплатные пробные версии).

* Установленная копия [Azure Machine Learning Workbench](./overview-what-is-azure-ml.md). Чтобы установить эту программу и создать рабочую область, выполните инструкции из [краткого руководства по установке](./quickstart-installation.md).

* Для ввода в эксплуатацию модели лучше всего, чтобы модуль Docker был установлен и работал локально. Если нет, то можно использовать вариант с кластером. Имейте в виду, что запуск службы контейнеров Azure (ACS) может быть затратным.

* В этом решении предполагается, что Azure Machine Learning Workbench работает в Windows 10 с модулем Docker, установленным на локальном компьютере. Если вы используете macOS, большинство инструкций будут аналогичными.

## <a name="create-a-new-workbench-project"></a>Создание проекта в Workbench

Создайте проект, используя в качестве шаблона следующий пример:
1.  Откройте Azure Machine Learning Workbench.
2.  На странице **Projects** (Проекты) щелкните знак **+** и выберите **New Project** (Создать проект).
3.  В области **Create New Project** (Создание проекта) введите информацию о новом проекте.
4.  В поле поиска **Search Project Templates** (Поиск шаблонов проектов) введите Customer Churn Prediction (Прогнозирование оттока клиентов) и выберите шаблон.
5.  Нажмите кнопку **Создать**.

## <a name="data-description"></a>Описание данных

Набор данных, используемый в решении, взят с конкурса SIDKDD 2009. Он вызывается с помощью `CATelcoCustomerChurnTrainingSample.csv` и находится в папке [`data`](https://github.com/Azure/MachineLearningSamples-ChurnPrediction/tree/master/data). Набор данных состоит из необработанных разнородных анонимных данных (числовые или категориальные переменные) французской телекоммуникационной компании Orange.

Переменные фиксируют демографическую информацию клиента, статистику звонков (например, среднюю продолжительность звонка, частоту сбоя вызовов и т. д.), информацию о контракте, статистику жалоб. Обработка переменной является двоичной (0 — не было оттока, 1 — отток).

## <a name="scenario-structure"></a>Структура сценария

Папки упорядочены следующим образом.

__data__: содержит набор данных, используемых в решении.  

__docs__: содержит все практические занятия.

Порядок выполнения практических заданий решения выглядит так:
1. Подготовка данных. Основной файл, относящийся к подготовке данных, находится в папке data и называется `CATelcoCustomerChurnTrainingSample.csv`.
2. Моделирование и оценка. Основной файл, относящийся к моделированию и вычислениям, находится в корневой папке и называется `CATelcoCustomerChurnModeling.py`.
3. Моделирование и оценка без файла DPREP. Основной файл для выполнения этой задачи находится в корневой папке и называется `CATelcoCustomerChurnModelingWithoutDprep.py`.
4. Ввод в эксплуатацию. Основные файлы для развертывания — это файлы модели (`model.pkl`) и `churn_schema_gen.py`.

| Порядок| Имя файла | Связанные файлы |
|--|-----------|------|
| 1 | [`DataPreparation.md`](https://github.com/Azure/MachineLearningSamples-ChurnPrediction/blob/master/docs/DataPreparation.md) | data/CATelcoCustomerChurnTrainingSample.csv |
| 2 | [`ModelingAndEvaluation.md`](https://github.com/Azure/MachineLearningSamples-ChurnPrediction/blob/master/docs/ModelingAndEvaluation.md) | CATelcoCustomerChurnModeling.py |
| 3 | [`ModelingAndEvaluationWithoutDprep.md`](https://github.com/Azure/MachineLearningSamples-ChurnPrediction/blob/master/docs/ModelingAndEvaluationWithoutDprep.md) | CATelcoCustomerChurnModelingWithoutDprep.py |
| 4. | [`Operationalization.md`](https://github.com/Azure/MachineLearningSamples-ChurnPrediction/blob/master/docs/Operationalization.md) | model.pkl<br>churn_schema_gen.py |

Выполняйте практические задания в последовательном режиме, описанном выше.

## <a name="conclusion"></a>Заключение
В этом практическом сценарии показано, как выполнять прогнозирование оттока с использованием Azure Machine Learning Workbench. Сначала необходимо очистить данные для обработки необработанных и разнородных данных, а затем спроектировать признаки с помощью средств подготовки данных. Затем нужно создать и оценить модель классификации, используя средства машинного обучения с открытым исходным кодом, и с помощью локального контейнера Docker развернуть модель. После этого она готова к работе.
