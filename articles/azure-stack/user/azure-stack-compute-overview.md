---
title: "Общие сведения о виртуальных машинах Azure Stack"
description: "Сведения о виртуальных машинах Azure Stack."
services: azure-stack
author: anjayajodha
ms.service: azure-stack
ms.topic: get-started-article
ms.date: 9/25/2017
ms.author: victorh
ms.openlocfilehash: c37ad8ac5b6c37261e22237e843dd97e2bbd09f9
ms.sourcegitcommit: b07d06ea51a20e32fdc61980667e801cb5db7333
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/08/2017
---
# <a name="introduction-to-azure-stack-virtual-machines"></a>Общие сведения о виртуальных машинах Azure Stack

*Область применения: интегрированные системы Azure Stack и комплект разработки Azure Stack*

## <a name="overview"></a>Обзор
Виртуальная машина Azure Stack — это предоставляемый по запросу масштабируемый вычислительный ресурс, доступный в Azure Stack. Обычно виртуальную машину выбирают, когда требуется более строгий контроль за вычислительной средой, чем в других вариантах. В этой статье содержатся сведения о том, что следует учитывать перед созданием виртуальной машины, а также инструкции по созданию виртуальной машины и управлению ею.

Виртуальная машина Azure Stack предоставляет гибкие возможности виртуализации. При этом управлять отдельными кластерами или машинами не нужно. Однако вам по-прежнему приходится обслуживать виртуальную машину, выполняя разные задачи — настройка, установка исправлений и программного обеспечения, работающего на виртуальной машине.

Виртуальные машины Azure Stack можно использовать разными способами. Например:

* **Разработка и тестирование.** Виртуальные машины Azure Stack обеспечивают быстрый и простой способ создания компьютера с определенными конфигурациями, необходимыми для написания кода и тестирования приложения.

* **Приложения в облаке.** Так как уровень спроса на приложение может меняться, с экономической точки зрения разумно запускать его на виртуальной машине в Azure Stack. Вы платите за дополнительные виртуальные машины, если они вам нужны, и отключаете их, если они не нужны.

* **Расширенный центр обработки данных.** Виртуальные машины в виртуальной сети Azure Stack можно легко подключить к корпоративной сети или Azure.

Вы можете увеличить масштаб виртуальных машин, используемых приложением, а также развернуть дополнительные виртуальные машины в соответствии с требованиями.

## <a name="what-do-i-need-to-think-about-before-creating-a-vm"></a>О чем следует подумать перед созданием виртуальной машины?

При создании инфраструктуры приложения в Azure Stack всегда нужно учитывать множество рекомендаций по проектированию. Перед началом работы следует подумать о следующих аспектах для виртуальной машины:

- имена ресурсов приложения;
- размер виртуальной машины;
- максимальное число виртуальных машин, которые можно создать;
- операционная система, под управлением которой будет работать виртуальная машина;
- конфигурация виртуальной машины после ее запуска; 
- связанные ресурсы, необходимые для виртуальной машины.

### <a name="naming"></a>Именование

Виртуальной машине назначается имя. Кроме того, для нее настраивается имя компьютера как часть операционной системы. Имя виртуальной машины может содержать не более 15 символов.

Если диск операционной системы создается с помощью Azure Stack, имя компьютера и имя виртуальной машины совпадают. При передаче и использовании собственного образа, содержащего ранее настроенную операционную систему, а также создании виртуальной машины с его помощью имена могут различаться. При передаче файла собственного образа мы советуем указать одинаковые имя компьютера в операционной системе и имя виртуальной машины.

### <a name="vm-size"></a>Размер виртуальной машины

Используемый размер виртуальной машины зависит от рабочей нагрузки, которую требуется выполнить. Позже выбранный размер определяет разные факторы, например вычислительную мощность, объем памяти и хранилища. Azure Stack предлагает широкий спектр размеров для поддержки разных вариантов использования.

### <a name="vm-limits"></a>Ограничения виртуальной машины

Для подписки Azure предусмотрена квота по умолчанию, от которой зависит возможность развертывания большого количества виртуальных машин для проекта. Текущее ограничение для каждой подписки составляет 20 виртуальных машин на регион.

### <a name="operating-system-disks-and-images"></a>Диски и образы операционной системы

Для хранения операционной системы и данных виртуальные машины используют виртуальные жесткие диски (VHD). Они также используются для образов, которые доступны для установки операционной системы.
Azure Stack предоставляет образы Marketplace различных версий и типов операционных систем. Образы из Marketplace определяются по издателю, предложению, SKU и версии (обычно указывается последняя версия).

В таблице ниже указано, как можно найти сведения об образе.


|Метод|Описание|
|---------|---------|
|Портал Azure Stack|При выборе используемого образа значения задаются автоматически.|
|PowerShell для Azure Stack|`Get-AzureRMVMImagePublisher -Location "location"`<br>`Get-AzureRMVMImageOffer -Location "location" -Publisher "publisherName"`<br>`Get-AzureRMVMImageSku -Location "location" -Publisher "publisherName" -Offer "offerName"`|
|Интерфейсы API REST     |[Получение списка издателей образов](https://docs.microsoft.com/rest/api/compute/platformimages/platformimages-list-publishers)<br>[Получение списка предложений для образа](https://docs.microsoft.com/rest/api/compute/platformimages/platformimages-list-publisher-offers)<br>[Получение списка SKU для образа](https://docs.microsoft.com/rest/api/compute/platformimages/platformimages-list-publisher-offer-skus)|

Вы можете передать и использовать собственный образ. В этом случае имя издателя, предложение и SKU не используются.

### <a name="extensions"></a>расширения.

Расширения виртуальных машин предоставляют дополнительные возможности за счет настройки после развертывания и автоматизированных задач.
С помощью расширений можно выполнить такие стандартные задачи:

* Выполнение пользовательских скриптов. Расширение пользовательских скриптов помогает настроить рабочие нагрузки на виртуальной машине, выполняя скрипт при подготовке виртуальной машины.
* Развертывание конфигураций и управление ими. Расширение настройки требуемого состояния (DSC) PowerShell позволяет настроить DSC на виртуальной машине для управления конфигурациями и средами.
* Сбор данных диагностики. Расширение системы диагностики Azure позволяет настроить виртуальную машину для сбора данных диагностики, которые можно использовать для мониторинга состояния работоспособности приложения.

### <a name="related-resources"></a>Связанные ресурсы

Ресурсы в таблице ниже используются в виртуальной машине. Они должны существовать или создаваться вместе с виртуальной машиной.


|Ресурс|Обязательно|Описание|
|---------|---------|---------|
|Группа ресурсов|Да|Виртуальная машина должна входить в группу ресурсов.|
|Учетная запись хранения|Да|Виртуальной машине требуется учетная запись хранения для хранения виртуальных жестких дисков.|
|Виртуальная сеть|Да|Виртуальная машина должна быть подключена к виртуальной сети.|
|Общедоступный IP-адрес|Нет|Для удаленного доступа к виртуальной машине ей можно назначить общедоступный IP-адрес.|
|Сетевой интерфейс|Да|Для обмена данными в сети виртуальной машине нужен сетевой интерфейс.|
|Диски данных|Нет|Виртуальная машина может содержать диски данных для расширения объема ресурсов хранения.|

## <a name="how-do-i-create-my-first-vm"></a>Как создать первую виртуальную машину?

Виртуальную машину можно создать несколькими способами. Выбор зависит от среды.
В таблице ниже приведены сведения, которые помогут приступить к созданию виртуальной машины.


|Метод|Статья|
|---------|---------|
|Портал Azure Stack|Создание виртуальной машины Windows с помощью портала Azure Stack<br>[Create a Linux virtual machine using the Azure Stack portal](azure-stack-quick-linux-portal.md) (Создание виртуальной машины Linux с помощью портала Azure Stack)|
|Шаблоны|Шаблоны быстрого запуска Azure Stack доступны в следующем расположении:<br> [https://github.com/Azure/AzureStack-QuickStart-Templates](https://github.com/Azure/AzureStack-QuickStart-Templates)|
|PowerShell|[Создание виртуальной машины Windows с использованием PowerShell в Azure Stack](azure-stack-quick-create-vm-windows-powershell.md)<br>[Create a Linux virtual machine by using PowerShell in Azure Stack](azure-stack-quick-create-vm-linux-powershell.md) (Создание виртуальной машины Linux с использованием PowerShell в Azure Stack)|
|Интерфейс командной строки|[Create a Windows virtual machine by using CLI in Azure Stack](azure-stack-quick-create-vm-windows-cli.md) (Создание виртуальной машины Windows с использованием CLI в Azure Stack)<br>[Create a Linux virtual machine by using CLI in Azure Stack](azure-stack-quick-create-vm-linux-cli.md) (Создание виртуальной машины Linux с использованием CLI в Azure Stack)|

## <a name="how-do-i-manage-the-vm-that-i-created"></a>Как управлять созданной виртуальной машиной?

Управление виртуальными машинами осуществляется с помощью браузерного портала, программ командной строки с поддержкой создания скриптов или напрямую с помощью интерфейсов API. Некоторые стандартные задачи администрирования включают в себя получение сведений о виртуальной машине, вход в виртуальную машину, управление доступностью и архивацию.

### <a name="get-information-about-a-vm"></a>Получение информации о виртуальной машине

В таблице ниже представлены некоторые из способов, которыми можно получить сведения о виртуальной машине.


|Метод|Описание|
|---------|---------|
|Портал Azure Stack|В меню концентратора щелкните "Виртуальные машины" и выберите виртуальную машину из списка. На странице виртуальной машины доступны общие сведения, значения параметров и метрики мониторинга.|
|Azure PowerShell|Управление виртуальными машинами в Azure и Azure Stack аналогично. Дополнительные сведения об использовании PowerShell см. в следующем разделе статьи Azure:<br>[Описание размеров виртуальных машин](https://docs.microsoft.com/azure/virtual-machines/windows/tutorial-manage-vm#understand-vm-sizes).|
|Клиентские пакеты SDK|Управление виртуальными машинами в Azure и Azure Stack с помощью C# аналогично. Дополнительные сведения см. в следующей статье Azure:<br>[Развертывание виртуальной машины Azure с помощью C#](https://docs.microsoft.com/azure/virtual-machines/windows/csharp).|

### <a name="connect-to-the-vm"></a>Подключение к виртуальной машине

Чтобы подключиться к своей виртуальной машине, нажмите кнопку **Подключение** на портале Azure Stack.

## <a name="next-steps"></a>Дальнейшие действия
* [Considerations for Virtual Machines in Azure Stack](azure-stack-vm-considerations.md) (Рекомендации по работе с виртуальными машинами в Azure Stack).

