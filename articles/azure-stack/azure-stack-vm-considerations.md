---
title: "Различия и рекомендации для виртуальных машин в Azure стек | Документы Microsoft"
description: "Дополнительные сведения о различия и рекомендации при работе с виртуальными машинами в Azure стека."
services: azure-stack
documentationcenter: 
author: SnehaGunda
manager: byronr
editor: 
ms.assetid: 
ms.service: azure-stack
ms.workload: na
pms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 8/4/2017
ms.author: sngun
ms.openlocfilehash: f97433d7db5811c69851002e459eb01b6e97a722
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="considerations-for-virtual-machines-in-azure-stack"></a><span data-ttu-id="6ffac-103">Рекомендации для виртуальных машин в стек Azure</span><span class="sxs-lookup"><span data-stu-id="6ffac-103">Considerations for Virtual Machines in Azure Stack</span></span>

<span data-ttu-id="6ffac-104">Виртуальные машины находятся по требованию, масштабируемые вычислительные ресурсы, предоставляемые Azure стека.</span><span class="sxs-lookup"><span data-stu-id="6ffac-104">Virtual machines are an on-demand, scalable computing resources offered by Azure Stack.</span></span> <span data-ttu-id="6ffac-105">При использовании виртуальных машин, необходимо понимать, что существуют различия между средства, доступные в Azure и Azure стека.</span><span class="sxs-lookup"><span data-stu-id="6ffac-105">When you use Virtual Machines, you must understand that there are differences between the features that are available in Azure and Azure Stack.</span></span> <span data-ttu-id="6ffac-106">В этой статье Общие рекомендации, уникальным для виртуальных машин и его компонентах в стек Azure.</span><span class="sxs-lookup"><span data-stu-id="6ffac-106">This article provides an overview of the unique considerations for Virtual Machines and its features in Azure Stack.</span></span> <span data-ttu-id="6ffac-107">Дополнительные сведения о высокоуровневых различия между стек Azure и Azure см. в разделе [основные вопросы](azure-stack-considerations.md) раздела.</span><span class="sxs-lookup"><span data-stu-id="6ffac-107">To learn about high-level differences between Azure Stack and Azure, see the [Key considerations](azure-stack-considerations.md) topic.</span></span>

## <a name="cheat-sheet-virtual-machine-differences"></a><span data-ttu-id="6ffac-108">Памятка: различия виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="6ffac-108">Cheat sheet: Virtual machine differences</span></span>

| <span data-ttu-id="6ffac-109">Функция</span><span class="sxs-lookup"><span data-stu-id="6ffac-109">Feature</span></span> | <span data-ttu-id="6ffac-110">(Глобальная) Azure</span><span class="sxs-lookup"><span data-stu-id="6ffac-110">Azure (global)</span></span> | <span data-ttu-id="6ffac-111">Azure Stack</span><span class="sxs-lookup"><span data-stu-id="6ffac-111">Azure Stack</span></span> |
| --- | --- | --- |
| <span data-ttu-id="6ffac-112">Образы виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="6ffac-112">Virtual machine images</span></span> | <span data-ttu-id="6ffac-113">В Azure Marketplace содержит изображения, которые можно использовать для создания виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="6ffac-113">The Azure Marketplace contains images that you can use to create a virtual machine.</span></span> <span data-ttu-id="6ffac-114">В разделе [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/compute?subcategories=virtual-machine-images&page=1) страницу, чтобы просмотреть список изображений, доступных в Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="6ffac-114">See the [Azure Marketplace](https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/compute?subcategories=virtual-machine-images&page=1) page to view the list of images that are available in the Azure Marketplace.</span></span> | <span data-ttu-id="6ffac-115">По умолчанию отсутствуют все образы в стек Azure marketplace.</span><span class="sxs-lookup"><span data-stu-id="6ffac-115">By default, there aren’t any images available in the Azure Stack marketplace.</span></span> <span data-ttu-id="6ffac-116">Администратору облака Azure стек должен [публикации](azure-stack-add-default-image.md) или [загрузка изображений](azure-stack-download-azure-marketplace-item.md) в стек Azure Marketplace, чтобы пользователи могли использовать их.</span><span class="sxs-lookup"><span data-stu-id="6ffac-116">The Azure Stack cloud administrator should [publish](azure-stack-add-default-image.md) or [download images](azure-stack-download-azure-marketplace-item.md) to the Azure Stack marketplace before users can use them.</span></span> |
| <span data-ttu-id="6ffac-117">Размер виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="6ffac-117">Virtual machine sizes</span></span> | <span data-ttu-id="6ffac-118">Azure поддерживает широкий набор размеров виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="6ffac-118">Azure supports a wide variety of sizes for virtual machines.</span></span> <span data-ttu-id="6ffac-119">Дополнительные сведения о доступных размерах и параметрах, см. [размеры виртуальных машин Windows](../virtual-machines/virtual-machines-windows-sizes.md) и [размеры виртуальных машин Linux](../virtual-machines/linux/sizes.md) разделы.</span><span class="sxs-lookup"><span data-stu-id="6ffac-119">To learn about the available sizes and options, refer to the [Windows virtual machines sizes](../virtual-machines/virtual-machines-windows-sizes.md) and [Linux virtual machine sizes](../virtual-machines/linux/sizes.md) topics.</span></span> | <span data-ttu-id="6ffac-120">Стек Azure поддерживает подмножество размеры виртуальных машин, доступных в Azure.</span><span class="sxs-lookup"><span data-stu-id="6ffac-120">Azure Stack supports a subset of Virtual Machine sizes that are available in Azure.</span></span> <span data-ttu-id="6ffac-121">Чтобы просмотреть список поддерживаемых форматов, обратитесь к [размеры виртуальных машин](#virtual-machine-sizes) этой статьи.</span><span class="sxs-lookup"><span data-stu-id="6ffac-121">To view the list of supported sizes, refer to the [virtual machine sizes](#virtual-machine-sizes) section of this article.</span></span> |
| <span data-ttu-id="6ffac-122">Квоты виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="6ffac-122">Virtual machine quotas</span></span> | <span data-ttu-id="6ffac-123">[Квоты](../azure-subscription-service-limits.md#service-specific-limits) установленную корпорацией Майкрософт</span><span class="sxs-lookup"><span data-stu-id="6ffac-123">[Quota limits](../azure-subscription-service-limits.md#service-specific-limits) are set by Microsoft</span></span> | <span data-ttu-id="6ffac-124">Стек Azure администратору облака необходимо [назначать квоты](azure-stack-setting-quotas.md) прежде, чем предлагают виртуальных машин для пользователей.</span><span class="sxs-lookup"><span data-stu-id="6ffac-124">The Azure Stack cloud administrator must [assign quotas](azure-stack-setting-quotas.md) before they offer virtual machines to their users.</span></span> |
| <span data-ttu-id="6ffac-125">Расширения виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="6ffac-125">Virtual machine extensions</span></span> |<span data-ttu-id="6ffac-126">Azure поддерживает широкий спектр расширения виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="6ffac-126">Azure supports a wide variety of virtual machine extensions.</span></span> <span data-ttu-id="6ffac-127">Чтобы узнать о доступных расширениях см [расширения виртуальной машины и компоненты](../virtual-machines/windows/extensions-features.md) раздела.</span><span class="sxs-lookup"><span data-stu-id="6ffac-127">To learn about the available extensions, refer to the [virtual machine extensions and features](../virtual-machines/windows/extensions-features.md) topic.</span></span>| <span data-ttu-id="6ffac-128">Стек Azure поддерживает подмножество расширений, доступных в Azure и расширения имеют конкретных версий.</span><span class="sxs-lookup"><span data-stu-id="6ffac-128">Azure Stack supports a subset of extensions that are available in Azure and each of the extension have specific versions.</span></span> <span data-ttu-id="6ffac-129">Администратору облака Azure стека можно выбрать какие расширения должны быть доступны для своим пользователям.</span><span class="sxs-lookup"><span data-stu-id="6ffac-129">The Azure Stack cloud administrator can choose which extensions to be made available to for their users.</span></span> <span data-ttu-id="6ffac-130">Чтобы просмотреть список поддерживаемых модулей, обратитесь к [расширения виртуальных машин](#virtual-machine-extensions) этой статьи.</span><span class="sxs-lookup"><span data-stu-id="6ffac-130">To view the list of supported extensions, refer to the [virtual machine extensions](#virtual-machine-extensions) section of this article.</span></span> |
| <span data-ttu-id="6ffac-131">Сеть виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="6ffac-131">Virtual machine network</span></span> | <span data-ttu-id="6ffac-132">Общедоступные IP-адреса, назначенные для клиента виртуальной машины, доступны через Интернет.</span><span class="sxs-lookup"><span data-stu-id="6ffac-132">Public IP addresses assigned to tenant virtual machine are accessible over the Internet.</span></span><br><br><br><span data-ttu-id="6ffac-133">Виртуальные машины Azure имеет основного DNS-имя</span><span class="sxs-lookup"><span data-stu-id="6ffac-133">Azure Virtual Machines has a fixed DNS name</span></span> | <span data-ttu-id="6ffac-134">В среде Azure стека Development Kit только доступны общих IP-адресов, назначенных виртуальной машины клиента.</span><span class="sxs-lookup"><span data-stu-id="6ffac-134">Public IP addresses assigned to a tenant virtual machine are accessible within the Azure Stack Development Kit environment only.</span></span> <span data-ttu-id="6ffac-135">Пользователь должен иметь доступ к набору разработки Azure стека через [RDP](azure-stack-connect-azure-stack.md#connect-to-azure-stack-with-remote-desktop) или [VPN](azure-stack-connect-azure-stack.md#connect-to-azure-stack-with-vpn) для подключения к виртуальной машине, создаваемой в Azure стека.</span><span class="sxs-lookup"><span data-stu-id="6ffac-135">A user must have access to the Azure Stack Development Kit via [RDP](azure-stack-connect-azure-stack.md#connect-to-azure-stack-with-remote-desktop) or [VPN](azure-stack-connect-azure-stack.md#connect-to-azure-stack-with-vpn) to connect to a virtual machine that is created in Azure Stack.</span></span><br><br><span data-ttu-id="6ffac-136">Виртуальные машины, созданные в определенном экземпляре Azure стека имеет DNS-имя, основанного на значении, настроенный администратором облака.</span><span class="sxs-lookup"><span data-stu-id="6ffac-136">Virtual machines created within a specific Azure Stack instance have a DNS name based on the value that is configured by the cloud administrator.</span></span> |
| <span data-ttu-id="6ffac-137">Хранилище виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="6ffac-137">Virtual machine storage</span></span> | <span data-ttu-id="6ffac-138">Поддерживает [управляемых дисках.](../virtual-machines/windows/managed-disks-overview.md)</span><span class="sxs-lookup"><span data-stu-id="6ffac-138">Supports [managed disks.](../virtual-machines/windows/managed-disks-overview.md)</span></span> | <span data-ttu-id="6ffac-139">Управляемый диски пока не поддерживаются в Azure стека.</span><span class="sxs-lookup"><span data-stu-id="6ffac-139">Managed disks are not yet supported in Azure Stack.</span></span> |
| <span data-ttu-id="6ffac-140">Версии API</span><span class="sxs-lookup"><span data-stu-id="6ffac-140">API versions</span></span> | <span data-ttu-id="6ffac-141">Azure всегда были установлены последние версии API для всех компонентов виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="6ffac-141">Azure always has the latest API versions for all the virtual machine features.</span></span> | <span data-ttu-id="6ffac-142">Стек Azure поддерживает определенных служб Azure и определенные версии API для этих служб.</span><span class="sxs-lookup"><span data-stu-id="6ffac-142">Azure Stack supports specific Azure services and specific API versions for these services.</span></span> <span data-ttu-id="6ffac-143">Чтобы просмотреть список поддерживаемых версий API, обратитесь к [версий API](#api-versions) этой статьи.</span><span class="sxs-lookup"><span data-stu-id="6ffac-143">To view the list of supported API versions, refer to the [API versions](#api-versions) section of this article.</span></span> |
|<span data-ttu-id="6ffac-144">Группы доступности виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="6ffac-144">Virtual machine availability sets</span></span>|<span data-ttu-id="6ffac-145">Разным доменам отказоустойчивости (2 или 3 в одном регионе)</span><span class="sxs-lookup"><span data-stu-id="6ffac-145">Multiple fault domains (2 or 3 per region)</span></span><br><span data-ttu-id="6ffac-146">Несколько доменов обновления</span><span class="sxs-lookup"><span data-stu-id="6ffac-146">Multiple update domains</span></span><br><span data-ttu-id="6ffac-147">Поддержка диска управляемого</span><span class="sxs-lookup"><span data-stu-id="6ffac-147">Managed disk support</span></span>|<span data-ttu-id="6ffac-148">Одна ошибка домена</span><span class="sxs-lookup"><span data-stu-id="6ffac-148">Single fault domain</span></span><br><span data-ttu-id="6ffac-149">Одно обновление домена</span><span class="sxs-lookup"><span data-stu-id="6ffac-149">Single update domain</span></span><br><span data-ttu-id="6ffac-150">Нет поддержки управляемого диска</span><span class="sxs-lookup"><span data-stu-id="6ffac-150">No managed disk support</span></span>|
|<span data-ttu-id="6ffac-151">наборы для масштабирования виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="6ffac-151">Virtual machine scale sets</span></span>|<span data-ttu-id="6ffac-152">Автомасштабирование поддерживается</span><span class="sxs-lookup"><span data-stu-id="6ffac-152">Auto-scale supported</span></span>|<span data-ttu-id="6ffac-153">Автоматически масштабировать не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="6ffac-153">Auto-scale not supported.</span></span><br><span data-ttu-id="6ffac-154">Добавьте дополнительные экземпляры в наборе с помощью портала, шаблоны диспетчера ресурсов или PowerShell масштабирования.</span><span class="sxs-lookup"><span data-stu-id="6ffac-154">Add more instances to a scale set using the portal, Resource Manager templates, or PowerShell.</span></span>

## <a name="virtual-machine-sizes"></a><span data-ttu-id="6ffac-155">Размер виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="6ffac-155">Virtual machine sizes</span></span> 

<span data-ttu-id="6ffac-156">Пакет средств разработки стек Azure поддерживает следующие размеры:</span><span class="sxs-lookup"><span data-stu-id="6ffac-156">The Azure Stack Development Kit supports the following sizes:</span></span> 

| <span data-ttu-id="6ffac-157">Тип</span><span class="sxs-lookup"><span data-stu-id="6ffac-157">Type</span></span> | <span data-ttu-id="6ffac-158">Размер</span><span class="sxs-lookup"><span data-stu-id="6ffac-158">Size</span></span> | <span data-ttu-id="6ffac-159">Диапазон поддерживаемых размеров</span><span class="sxs-lookup"><span data-stu-id="6ffac-159">Range of supported sizes</span></span> |
| --- | --- | --- |
|<span data-ttu-id="6ffac-160">Универсальные</span><span class="sxs-lookup"><span data-stu-id="6ffac-160">General purpose</span></span> |<span data-ttu-id="6ffac-161">Basic A</span><span class="sxs-lookup"><span data-stu-id="6ffac-161">Basic A</span></span>|<span data-ttu-id="6ffac-162">A0 A4</span><span class="sxs-lookup"><span data-stu-id="6ffac-162">A0-A4</span></span>|
|<span data-ttu-id="6ffac-163">Универсальные</span><span class="sxs-lookup"><span data-stu-id="6ffac-163">General purpose</span></span> |<span data-ttu-id="6ffac-164">Стандартный объект</span><span class="sxs-lookup"><span data-stu-id="6ffac-164">Standard A</span></span>|<span data-ttu-id="6ffac-165">A0–A7</span><span class="sxs-lookup"><span data-stu-id="6ffac-165">A0-A7</span></span>|
|<span data-ttu-id="6ffac-166">Универсальные</span><span class="sxs-lookup"><span data-stu-id="6ffac-166">General purpose</span></span> |<span data-ttu-id="6ffac-167">Стандартная D</span><span class="sxs-lookup"><span data-stu-id="6ffac-167">Standard D</span></span>|<span data-ttu-id="6ffac-168">D1 D4</span><span class="sxs-lookup"><span data-stu-id="6ffac-168">D1-D4</span></span>|
|<span data-ttu-id="6ffac-169">Универсальные</span><span class="sxs-lookup"><span data-stu-id="6ffac-169">General purpose</span></span> |<span data-ttu-id="6ffac-170">Стандартная Dv2</span><span class="sxs-lookup"><span data-stu-id="6ffac-170">Standard Dv2</span></span>|<span data-ttu-id="6ffac-171">D1v2 D5v2</span><span class="sxs-lookup"><span data-stu-id="6ffac-171">D1v2-D5v2</span></span>|
|<span data-ttu-id="6ffac-172">Оптимизированные для памяти</span><span class="sxs-lookup"><span data-stu-id="6ffac-172">Memory optimized</span></span>|<span data-ttu-id="6ffac-173">Серия D</span><span class="sxs-lookup"><span data-stu-id="6ffac-173">D-series</span></span>|<span data-ttu-id="6ffac-174">D11 D14</span><span class="sxs-lookup"><span data-stu-id="6ffac-174">D11-D14</span></span>|
|<span data-ttu-id="6ffac-175">Оптимизированные для памяти</span><span class="sxs-lookup"><span data-stu-id="6ffac-175">Memory optimized</span></span> |<span data-ttu-id="6ffac-176">Серия Dv2</span><span class="sxs-lookup"><span data-stu-id="6ffac-176">Dv2-series</span></span>|<span data-ttu-id="6ffac-177">D11v2 D14v2</span><span class="sxs-lookup"><span data-stu-id="6ffac-177">D11v2-D14v2</span></span>|

<span data-ttu-id="6ffac-178">Размеры виртуальных машин в стек Azure и Azure согласуются с точки зрения памяти, ядер ЦП, пропускную способность сети, производительности диска и других факторов, которые определяют размер.</span><span class="sxs-lookup"><span data-stu-id="6ffac-178">Virtual machine sizes in Azure Stack and Azure are consistent in terms of the memory, CPU cores, network bandwidth, disk performance, and other factors that define the size.</span></span> <span data-ttu-id="6ffac-179">Например Стандартная D размер виртуальной машины в Azure и Azure стека согласована.</span><span class="sxs-lookup"><span data-stu-id="6ffac-179">For example, the Standard D size virtual machine in Azure and Azure Stack is consistent.</span></span> 

## <a name="virtual-machine-extensions"></a><span data-ttu-id="6ffac-180">Расширения виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="6ffac-180">Virtual machine extensions</span></span> 

 <span data-ttu-id="6ffac-181">Пакет средств разработки стек Azure поддерживает следующие версии расширения виртуальной машины:</span><span class="sxs-lookup"><span data-stu-id="6ffac-181">The Azure Stack Development Kit supports the following virtual machine extension versions:</span></span>

![Расширения виртуальных машин](media/azure-stack-vm-considerations/vm-extensions.png)

<span data-ttu-id="6ffac-183">Используйте следующий сценарий PowerShell, чтобы получить список расширений виртуальной машины, доступные в вашей среде Azure стека:</span><span class="sxs-lookup"><span data-stu-id="6ffac-183">Use the following PowerShell script to get the list of virtual machine extensions that are available in your Azure Stack environment:</span></span>

```powershell 
Get-AzureRmVmImagePublisher -Location local | `
  Get-AzureRmVMExtensionImageType | `
  Get-AzureRmVMExtensionImage | `
  Select Type, Version | `
  Format-Table -Property * -AutoSize 
```

## <a name="api-versions"></a><span data-ttu-id="6ffac-184">Версии API</span><span class="sxs-lookup"><span data-stu-id="6ffac-184">API versions</span></span> 

<span data-ttu-id="6ffac-185">Особенности виртуальных машин в пакете средств разработки стек Azure поддерживают следующие версии API:</span><span class="sxs-lookup"><span data-stu-id="6ffac-185">Virtual machine features in Azure Stack Development Kit support the following API versions:</span></span>

![Типы ресурсов виртуальной Машины](media/azure-stack-vm-considerations/vm-resoource-types.png)

<span data-ttu-id="6ffac-187">Следующий сценарий PowerShell можно использовать для получения версии API для функции виртуальной машины, доступные в вашей среде Azure стека:</span><span class="sxs-lookup"><span data-stu-id="6ffac-187">You can use the following PowerShell script to get the API versions for the virtual machine features that are available in your Azure Stack environment:</span></span>

```powershell 
Get-AzureRmResourceProvider | `
  Select ProviderNamespace -Expand ResourceTypes | `
  Select * -Expand ApiVersions | `
  Select ProviderNamespace, ResourceTypeName, @{Name="ApiVersion"; Expression={$_}} | `
  where-Object {$_.ProviderNamespace -like “Microsoft.compute”}
```
<span data-ttu-id="6ffac-188">Список поддерживаемых типов ресурсов и версий API может меняться, если оператор облака обновления среды стека Azure до более новой версии.</span><span class="sxs-lookup"><span data-stu-id="6ffac-188">The list of supported resource types and API versions may vary if the cloud operator updates your Azure Stack environment to a newer version.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6ffac-189">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="6ffac-189">Next steps</span></span>

[<span data-ttu-id="6ffac-190">Создание виртуальной машины Windows с помощью PowerShell в стек Azure</span><span class="sxs-lookup"><span data-stu-id="6ffac-190">Create a Windows virtual machine with PowerShell in Azure Stack</span></span>](azure-stack-quick-create-vm-powershell.md)
