---
title: "Развертывание пакета средств разработки стек Azure | Документы Microsoft"
description: "Дополнительные сведения о подготовке пакета средств разработки Azure стека и запустить сценарий PowerShell, чтобы развернуть его."
services: azure-stack
documentationcenter: 
author: ErikjeMS
manager: byronr
editor: 
ms.assetid: 0ad02941-ed14-4888-8695-b82ad6e43c66
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 7/17/2017
ms.author: erikje
ms.openlocfilehash: ce2978d345262b68b177a38a978133a71da2806f
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="deploy-the-azure-stack-development-kit"></a>Развертывание пакета средств разработки стек Azure
Чтобы развернуть пакет средств разработки, необходимо выполнить следующие действия:

1. [Загрузить пакет развертывания](https://azure.microsoft.com/overview/azure-stack/try/?v=try) для получения Cloudbuilder.vhdx.
2. [Подготовка cloudbuilder.vhdx](#prepare-the-development-kit-host) путем выполнения сценария asdk installer.ps1 к настройке компьютера (узел комплект средств для разработки), на котором требуется установить пакет средств разработки. После выполнения этого шага для Cloudbuilder.vhdx загрузится узел комплект средств для разработки.
3. [Развертывание пакета средств разработки](#deploy-the-development-kit) на узле разработки пакета.

> [!NOTE]
> Для получения наилучших результатов даже если вы хотите использовать отключенной среде в стек Azure лучше развертывания во время подключения к Интернету. В этом случае ознакомительная версия Windows Server 2016 может быть активирована во время развертывания. Если ознакомительная версия Windows Server 2016 не активирован в течение 10 дней, она завершает работу.
> 
> 

## <a name="download-and-extract-the-development-kit"></a>Загрузите и извлеките пакет средств разработки
1. Прежде чем начать загрузку, убедитесь, что компьютер соответствует следующим требованиям:

   * На компьютере должна быть менее 60 ГБ свободного места на диске.
   * [.NET framework 4.6 (или более поздней версии)](https://aka.ms/r6mkiy) должен быть установлен.

2. [Перейдите на страницу приступить к работе](https://azure.microsoft.com/overview/azure-stack/try/?v=try), указать сведения и нажмите кнопку **отправить**.
3. В разделе **загрузить программное обеспечение**, нажмите кнопку **пакет средств разработки Azure стека**.
4. Запустите загруженный файл AzureStackDownloader.exe.
5. В **Azure стека Development Kit загрузчика** окна, повторите шаги 1 – 5.
6. После завершения загрузки нажмите кнопку **запуска** для запуска MicrosoftAzureStackPOC.exe.
7. Просмотрите окно лицензионного соглашения и сведения самораспаковывающегося мастера и нажмите кнопку **Далее**.
8. Просмотреть заявление о конфиденциальности экрана, а также сведения самораспаковывающегося мастера и нажмите кнопку **Далее**.
9. Выберите файлы, чтобы извлечь, нажмите кнопку **Далее**.
   * Значение по умолчанию —: <drive letter>:\<текущей папки > \Microsoft стек Azure
10. Просмотрите экран расположение и сведения о мастере самораспаковывающегося и нажмите кнопку **извлечь** для извлечения файлов ThirdPartyLicenses.rtf и CloudBuilder.vhdx (~ 25 ГБ). Этот процесс займет некоторое время.

> [!NOTE]
> После извлечения файлов, можно удалить файлы exe и ячейки для восстановления места на компьютере. Также можно перемещать эти файлы в другое место, поэтому, если необходимо повторно развернуть вы не нужно повторно загрузить файлы.
> 
> 

## <a name="prepare-the-development-kit-host"></a>Подготовка узла комплект средств для разработки
1. Убедитесь в том, что можно физически подключиться к узлу комплект средств для разработки, или иметь доступ к физической консоли (KVM). После перезагрузки узла комплект средств для разработки на шаге 13 ниже, необходимо иметь такой доступ.
2. Убедитесь, что соответствует узлу комплект средств для разработки [минимальным требованиям](azure-stack-deploy.md). Можно использовать [проверки развертывания в Azure стека](https://gallery.technet.microsoft.com/Deployment-Checker-for-50e0f51b) для подтверждения требований.
3. Войдите в качестве локального администратора на узел комплект средств для разработки.
4. Скопируйте или переместите файл CloudBuilder.vhdx в корне диска C:\ (C:\CloudBuilder.vhdx).
5. Запустите следующий скрипт, чтобы загрузить файл установщика комплекта разработки (asdk installer.ps1) в папку c:\AzureStack_Installer на узле комплект средств для разработки.
    ```powershell
    # Variables
    $Uri = 'https://raw.githubusercontent.com/Azure/AzureStack-Tools/master/Deployment/asdk-installer.ps1'
    $LocalPath = 'c:\AzureStack_Installer'

    # Create folder
    New-Item $LocalPath -Type directory

    # Download file
    Invoke-WebRequest $uri -OutFile ($LocalPath + '\' + 'asdk-installer.ps1')
    ```
6. Откройте консоль PowerShell с повышенными привилегиями > запустить сценарий C:\AzureStack_Installer\asdk-installer.ps1 > щелкните **Подготовка vhdx**.
7. На **vhdx Cloudbuilder выберите** страница установщика, найдите и выберите файл cloudbuilder.vhdx, загруженный в предыдущих шагах.
8. Необязательно: Проверьте **добавить драйверы** флажок, чтобы указать папку, содержащую дополнительные драйверы, которые нужно добавить на узле.
9. На **необязательные параметры** предоставьте учетной записи локального администратора для узла комплект средств для разработки. Если не предоставить эти учетные данные, во время установки потребуется KVM-доступ к узлу.
10. Также на **необязательные параметры** страницы, у вас есть возможность задать для следующего:
    - **Имя_компьютера**: этот параметр задает имя для узла комплект средств для разработки. Имя должно соответствовать требованиям полное доменное имя и должна превышать 15 символов длиной. Значение по умолчанию — имя компьютера, случайные, формируемых ОС Windows.
    - **Часовой пояс**: задает часовой пояс для узла комплект средств для разработки. Значение по умолчанию — (UTC-8:00) Тихоокеанское время (США и Канады).
    - **Статический IP-адрес**: задает развертывания для использования статического IP-адреса. В противном случае когда программа установки будет перезагружен в cloudbuilder.vhx, сетевых интерфейсов должны быть настроены DHCP.
11. Щелкните **Далее**.
12. Если на предыдущем шаге выбрана статическую конфигурацию IP, необходимо теперь:
    - Выберите сетевой адаптер. Убедитесь, что можно подключить к адаптеру, прежде чем нажимать кнопку **Далее**.
    - Убедитесь, что **IP-адрес**, **шлюза**, и **DNS** значения верны и нажмите кнопку **Далее**.
13. Нажмите кнопку **Далее** для запуска процесса подготовки.
14. Когда подготовка указывает **завершено**, нажмите кнопку **Далее**.
15. Нажмите кнопку **Перезагрузить сейчас** загрузка cloudbuilder.vhdx и продолжить процесс развертывания.

## <a name="deploy-the-development-kit"></a>Развертывание пакета средств разработки
1. Войдите в качестве локального администратора на узле комплект средств для разработки. Используйте учетные данные, указанные в предыдущих шагах.

    > [!IMPORTANT]
    > Для развертываний Azure Active Directory стек Azure требует доступ к Интернету напрямую или с помощью прозрачного прокси. Развертывание поддерживает только один сетевой Адаптер для работы в сети. Если имеется несколько сетевых адаптеров, убедитесь, что включен только один (и все остальные отключены) перед запуском скрипта развертывания в следующем разделе.
    
2. Откройте консоль PowerShell с повышенными привилегиями > запустить сценарий \AzureStack_Installer\asdk-installer.ps1 (который может быть на другом диске в Cloudbuilder.vhdx) > щелкните **установить**.
3. В **тип** выберите **облако Azure** или **ADFS**.
    - **Облако Azure**: Azure Active Directory — это поставщик удостоверений. Используйте этот параметр для указания конкретного каталога, где учетной записи AAD имеет права глобального администратора. Полное имя клиента каталога AAD в формате. onmicrosoft.com. 
    - **ADFS**: метка по умолчанию службы каталогов — это поставщик удостоверений, учетной записи по умолчанию для входа в систему — azurestackadmin@azurestack.local, пароль для использования, а предоставляется как часть установки.
4. В разделе **пароль локального администратора**в **пароль** введите пароль локального администратора (которая должна соответствовать текущий пароль локального администратора) и нажмите кнопку **Далее**.
5. Выберите сетевой адаптер для использования для пакета средств разработки и нажмите кнопку **Далее**.
6. Выберите DHCP или статические конфигурация сети для виртуальной машины BGPNAT01.
    - **DHCP** (по умолчанию): виртуальная машина получает IP-конфигурации сети с DHCP-сервера.
    - **Статические**: используйте этот параметр, только если DHCP не удается назначить адрес стека Azure для доступа в Интернет. С длиной маска подсети (например, 10.0.0.5/24) необходимо указать статический IP-адрес.
7. При необходимости установите следующие значения:
    - **Идентификатор виртуальной локальной сети**: задает идентификатор виртуальной локальной сети. Используйте этот параметр, только если узел и AzS BGPNAT01 необходимо настроить идентификатор виртуальной локальной сети, чтобы получить доступ к физической сети (Интернет). 
    - **DNS-сервер пересылки**: DNS-сервер создается как часть развертывания Azure стека. Чтобы разрешить компьютерам внутри решения для разрешения имен вне метку, предоставляют существующий DNS-сервер инфраструктуры. DNS-сервер в штамп перенаправляет запросы разрешения неизвестное имя для этого сервера.
    - **Сервер времени**: задает определенное время сервера. 
8. Щелкните **Далее**. 
9. На **проверка свойства карты сетевого интерфейса** страницы, появится индикатор хода выполнения. 
    - Если отображается надпись **обновления не могут быть загружены**, следуйте инструкциям на странице.
    - Если отображается надпись **завершено**, нажмите кнопку **Далее**.
10. На **Сводка** щелкните **развернуть**.
11. Если вы используете службы каталогов Active Directory Azure, будет предложено ввести учетные данные учетной записи глобального администратора Azure Active Directory.
12. Развертывание может занять несколько часов, в течение которых система автоматически перезагружается после.
   
   > [!IMPORTANT]
   > Если вы хотите отслеживать ход выполнения развертывания, войдите в систему как azurestack\AzureStackAdmin. Если вход в качестве локального администратора после компьютер присоединен к домену, вы не увидите ход выполнения развертывания. Не перезапустить развертывание, вместо этого войдите как azurestack\AzureStackAdmin для проверки того, что он работает.
   > 
   > 
   
    После успешного завершения развертывания в консоли PowerShell отображаются: **ЗАВЕРШЕНО: действие «Развертывание»**.
   
Если развертывание завершается ошибкой, можно использовать следующий сценарий PowerShell повторно в том же окне PowerShell с повышенными привилегиями:

```powershell
cd c:\CloudDeployment\Setup
.\InstallAzureStackPOC.ps1 -Rerun
```

Этот скрипт будет перезапустить развертывание из последнего шага, выполнено успешно.

Кроме того, можно [повторно развернуть](azure-stack-redeploy.md) с нуля.


## <a name="reset-the-password-expiration-to-180-days"></a>Сброс срока действия пароля 180 дней.

Чтобы пароль для узла комплект средств для разработки не заканчивается слишком рано, выполните следующие действия после развертывания.

1. На узле разработки пакета, откройте **Управление групповой политикой** и перейдите к **Управление групповой политикой** — **леса: azurestack.local** — **доменов** — **azurestack.local**.
2. Щелкните правой кнопкой мыши **MemberServer** и нажмите кнопку **изменить**.
3. В редакторе управления групповой политикой перейдите к **Конфигурация компьютера** — **политики** — **параметры Windows** — **параметры безопасности**— **Политики учетных записей** — **политика паролей**.
4. В области справа дважды щелкните **максимальный срок действия пароля**.
5. В **максимальный срок действия пароля свойства** диалоговом изменение **пароля истекает через** значение 180, а затем нажмите кнопку **ОК**.


## <a name="next-steps"></a>Дальнейшие действия
[Регистр стека Azure с подпиской Azure](azure-stack-register.md)

[Подключение к Azure Stack](azure-stack-connect-azure-stack.md)

