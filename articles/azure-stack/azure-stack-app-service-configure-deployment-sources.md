---
title: "Настройка источников развертывания для службы приложений в Azure Stack | Документация Майкрософт"
description: "Действия администратора службы для настройки источников развертывания (Git, GitHub, Bitbucket, Dropbox и OneDrive) для службы приложений в Azure Stack"
services: azure-stack
documentationcenter: 
author: apwestgarth
manager: stefsch
editor: 
ms.assetid: 
ms.service: azure-stack
ms.workload: app-service
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 4/6/2017
ms.author: anwestg
ms.openlocfilehash: be4b032e8f7370f696c47a7b8e82c0a819529f4d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="configure-deployment-sources"></a><span data-ttu-id="e5082-103">Настройка источников развертывания</span><span class="sxs-lookup"><span data-stu-id="e5082-103">Configure deployment sources</span></span>

<span data-ttu-id="e5082-104">Служба приложений в Azure Stack поддерживает развертывание по требованию из систем управления версиями разных поставщиков.</span><span class="sxs-lookup"><span data-stu-id="e5082-104">App Service on Azure Stack supports on-demand deployment from multiple Source Control Providers.</span></span>  <span data-ttu-id="e5082-105">Эта возможность позволяет разработчикам развертывать приложения напрямую из репозиториев систем управления версиями.</span><span class="sxs-lookup"><span data-stu-id="e5082-105">This feature enables application developers to be able to deploy direct from their source control repositories.</span></span>  <span data-ttu-id="e5082-106">Чтобы клиенты могли подключить службу приложений к нужному репозиторию, администраторы должны настроить интеграцию между службой приложений в Azure Stack и поставщиком системы управления версиями.</span><span class="sxs-lookup"><span data-stu-id="e5082-106">In order for tenants to be able to configure App Service to connect to their repositories, Administrators must first configure the integration between App Service on Azure Stack and the Source Control Provider.</span></span>  <span data-ttu-id="e5082-107">Поддерживается локальная система Git, а также следующие поставщики систем управления версиями:</span><span class="sxs-lookup"><span data-stu-id="e5082-107">The Source Control Providers supported, in addition to local Git, are:</span></span>

* <span data-ttu-id="e5082-108">GitHub</span><span class="sxs-lookup"><span data-stu-id="e5082-108">GitHub</span></span>
* <span data-ttu-id="e5082-109">Bitbucket;</span><span class="sxs-lookup"><span data-stu-id="e5082-109">BitBucket</span></span>
* <span data-ttu-id="e5082-110">OneDrive</span><span class="sxs-lookup"><span data-stu-id="e5082-110">OneDrive</span></span>
* <span data-ttu-id="e5082-111">DropBox</span><span class="sxs-lookup"><span data-stu-id="e5082-111">DropBox</span></span>

## <a name="view-deployment-sources-in-app-service-administration"></a><span data-ttu-id="e5082-112">Просмотр источников развертывания в средстве администрирования службы приложений</span><span class="sxs-lookup"><span data-stu-id="e5082-112">View Deployment Sources in App Service Administration</span></span>

1. <span data-ttu-id="e5082-113">Войдите в портал администрирования Azure стека (https://adminportal.local.azurestack.external) от имени администратора службы.</span><span class="sxs-lookup"><span data-stu-id="e5082-113">Log in to the Azure Stack Admin Portal (https://adminportal.local.azurestack.external) as the service administrator.</span></span>
2. <span data-ttu-id="e5082-114">Перейдите в раздел **Resource Providers** (Поставщики ресурсов) и выберите элемент **App Service Resource Provider Admin** (Администрирование поставщика ресурсов службы приложений).</span><span class="sxs-lookup"><span data-stu-id="e5082-114">Browse to **Resource Providers** and select the **App Service Resource Provider Admin**.</span></span>
    <span data-ttu-id="e5082-115">![Администрирование поставщика ресурсов службы приложений][1]</span><span class="sxs-lookup"><span data-stu-id="e5082-115">![App Service Resource Provider Admin][1]</span></span>
3. <span data-ttu-id="e5082-116">Щелкните **Source control configuration** (Настройка системы управления версиями).</span><span class="sxs-lookup"><span data-stu-id="e5082-116">Click **Source control configuration**.</span></span>  <span data-ttu-id="e5082-117">Здесь вы увидите список всех настроенных источников развертывания.</span><span class="sxs-lookup"><span data-stu-id="e5082-117">Here you see the list of all Deployment Sources configured.</span></span>
    <span data-ttu-id="e5082-118">![Администрирование поставщика ресурсов службы приложений — Настройка системы управления версиями][2]</span><span class="sxs-lookup"><span data-stu-id="e5082-118">![App Service Resource Provider Admin Source Control Configuration][2]</span></span>

## <a name="configure-github"></a><span data-ttu-id="e5082-119">Настройка GitHub</span><span class="sxs-lookup"><span data-stu-id="e5082-119">Configure GitHub</span></span>

> [!NOTE]
> <span data-ttu-id="e5082-120">Для выполнения этой задачи вам потребуется учетная запись GitHub.</span><span class="sxs-lookup"><span data-stu-id="e5082-120">You require a GitHub account to complete this task.</span></span>  <span data-ttu-id="e5082-121">Возможно, правильнее будет использовать корпоративную учетную запись, а не личную.</span><span class="sxs-lookup"><span data-stu-id="e5082-121">You may wish to use an account for your organization rather than a personal account.</span></span>

1. <span data-ttu-id="e5082-122">Войдите в GitHub и перейдите к https://www.github.com/settings/developers **Регистрация нового приложения** ![GitHub - Регистрация нового приложения][3]</span><span class="sxs-lookup"><span data-stu-id="e5082-122">Log in to GitHub, browse to https://www.github.com/settings/developers and click **Register a new application** ![GitHub - Register a new application][3]</span></span>
2. <span data-ttu-id="e5082-123">Введите имя в поле **Application name** (Имя приложения), например "Служба приложений в Azure Stack".</span><span class="sxs-lookup"><span data-stu-id="e5082-123">Enter an **Application name** for example - App Service on Azure Stack</span></span>
3. <span data-ttu-id="e5082-124">Введите значение в поле **Homepage URL** (URL-адрес домашней страницы).</span><span class="sxs-lookup"><span data-stu-id="e5082-124">Enter the **Homepage URL**.</span></span>  <span data-ttu-id="e5082-125">**URL-адрес домашней страницы должен быть адрес портала Azure стека** например - https://portal.local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="e5082-125">**The Homepage URL must be the Azure Stack Portal address** for example - https://portal.local.azurestack.external</span></span>
4. <span data-ttu-id="e5082-126">Введите текст в поле **Application Description** (Описание приложения).</span><span class="sxs-lookup"><span data-stu-id="e5082-126">Enter an **Application Description**</span></span>
5. <span data-ttu-id="e5082-127">Введите значение в поле **Authorization callback URL** (URL-адрес обратного вызова авторизации).</span><span class="sxs-lookup"><span data-stu-id="e5082-127">Enter the **Authorization callback URL**.</span></span>  <span data-ttu-id="e5082-128">При развертывании Azure стека по умолчанию URL-адрес имеет https://portal.local.azurestack.external/tokenauthorize формы, если приложение выполняется под другой домен замены домена для azurestack.local ![GitHub - Регистрация нового приложения заполняется значениями][4]</span><span class="sxs-lookup"><span data-stu-id="e5082-128">In a default Azure Stack deployment, the Url is in the form https://portal.local.azurestack.external/tokenauthorize, if you are running under a different domain substitute your domain for azurestack.local ![GitHub - Register a new application with values populated][4]</span></span>
6. <span data-ttu-id="e5082-129">Щелкните **Register application** (Зарегистрировать приложение).</span><span class="sxs-lookup"><span data-stu-id="e5082-129">Click **Register application**.</span></span>  <span data-ttu-id="e5082-130">Откроется следующая страница, на которой вы увидите значения **Client ID** (Идентификатор клиента) и **Client Secret** (Секрет клиента) для нового приложения.</span><span class="sxs-lookup"><span data-stu-id="e5082-130">You will now be presented with a page listing the **Client ID** and **Client Secret** for the application.</span></span>
    <span data-ttu-id="e5082-131">![Приложение зарегистрировано на GitHub][5]</span><span class="sxs-lookup"><span data-stu-id="e5082-131">![GitHub - Completed application registration][5]</span></span>
7.  <span data-ttu-id="e5082-132">В окне или новую вкладку браузера Войдите на портал администрирования стек Azure (https://adminportal.local.azurestack.external) от имени администратора службы.</span><span class="sxs-lookup"><span data-stu-id="e5082-132">In a new browser tab or window Log in to the Azure Stack Admin Portal (https://adminportal.local.azurestack.external) as the service administrator.</span></span> 
8.  <span data-ttu-id="e5082-133">Перейдите в раздел **Resource Providers** (Поставщики ресурсов) и выберите элемент **App Service Resource Provider Admin** (Администрирование поставщика ресурсов службы приложений).</span><span class="sxs-lookup"><span data-stu-id="e5082-133">Browse to **Resource Providers** and select the **App Service Resource Provider Admin**.</span></span> 
9. <span data-ttu-id="e5082-134">Щелкните **Source control configuration** (Настройка системы управления версиями).</span><span class="sxs-lookup"><span data-stu-id="e5082-134">Click **Source control configuration**.</span></span>
10. <span data-ttu-id="e5082-135">Скопируйте и вставьте **идентификатор клиента** и **секрет клиента** для GitHub в соответствующие поля ввода.</span><span class="sxs-lookup"><span data-stu-id="e5082-135">Copy and paste the **Client Id** and **Client Secret** into the corresponding input boxes for GitHub.</span></span>
11. <span data-ttu-id="e5082-136">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="e5082-136">Click **Save**.</span></span>
12. <span data-ttu-id="e5082-137">Если вы не будете настраивать другие источники развертывания, переходите к [планированию восстановления для ролей управления](azure-stack-app-service-configure-deployment-sources.md#schedule-repair-of-management-roles).</span><span class="sxs-lookup"><span data-stu-id="e5082-137">If you do not wish to configure any other Deployment Sources, proceed to [Schedule Repair of Management Roles](azure-stack-app-service-configure-deployment-sources.md#schedule-repair-of-management-roles).</span></span>


## <a name="configure-bitbucket"></a><span data-ttu-id="e5082-138">Настройка Bitbucket</span><span class="sxs-lookup"><span data-stu-id="e5082-138">Configure BitBucket</span></span>

> [!NOTE]
> <span data-ttu-id="e5082-139">Для выполнения этой задачи вам потребуется учетная запись Bitbucket.</span><span class="sxs-lookup"><span data-stu-id="e5082-139">You require a BitBucket account to complete this task.</span></span>  <span data-ttu-id="e5082-140">Возможно, правильнее будет использовать корпоративную учетную запись, а не личную.</span><span class="sxs-lookup"><span data-stu-id="e5082-140">You may wish to use an account for your organization rather than a personal account.</span></span>

1. <span data-ttu-id="e5082-141">Войдите в систему BitBucket и перейдите к **интеграции** под учетной записью ![BitBucket панель мониторинга — интеграции][7]</span><span class="sxs-lookup"><span data-stu-id="e5082-141">Log in to BitBucket and browse to **Integrations** under your account  ![BitBucket Dashboard - Integrations][7]</span></span>
2. <span data-ttu-id="e5082-142">Нажмите кнопку **OAuth** в списке управления доступом и **потребителя добавить** ![добавьте потребителя OAuth для BitBucket][8]</span><span class="sxs-lookup"><span data-stu-id="e5082-142">Click **OAuth** under Access Management and **Add consumer** ![BitBucket Add OAuth Consumer][8]</span></span>
3. <span data-ttu-id="e5082-143">Введите значение в поле **Name** (Имя потребителя), например "Служба приложений в Azure Stack".</span><span class="sxs-lookup"><span data-stu-id="e5082-143">Enter a **Name** for the consumer, for example App Service on Azure Stack</span></span>
4. <span data-ttu-id="e5082-144">Введите текст в поле **Description** (Описание) для приложения.</span><span class="sxs-lookup"><span data-stu-id="e5082-144">Enter a **Description** for the application</span></span>
5. <span data-ttu-id="e5082-145">Введите значение в поле **Callback URL** (URL-адрес обратного вызова).</span><span class="sxs-lookup"><span data-stu-id="e5082-145">Enter the **Callback URL**.</span></span>  <span data-ttu-id="e5082-146">В развертывании Azure стека по умолчанию Url-адрес обратного вызова находится в https://portal.local.azurestack.external/TokenAuthorize формы, если приложение выполняется под другой домен замены домена для azurestack.local.</span><span class="sxs-lookup"><span data-stu-id="e5082-146">In a default Azure Stack deployment, the Callback Url is in the form https://portal.local.azurestack.external/TokenAuthorize, if you are running under a different domain substitute your domain for azurestack.local.</span></span>  <span data-ttu-id="e5082-147">Чтобы интеграция с Bitbucket прошла успешно, в точности соблюдайте приведенное здесь написание URL-адреса с учетом регистра.</span><span class="sxs-lookup"><span data-stu-id="e5082-147">The Url must follow the capitalization as listed here for BitBucket integration to succeed.</span></span>
6. <span data-ttu-id="e5082-148">Введите **URL-адрес** -этот URL-адрес должен быть Azure стека портала URL-адрес, например https://portal.local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="e5082-148">Enter the **URL** - this Url should be the Azure Stack Portal URL, for example https://portal.local.azurestack.external</span></span>
7. <span data-ttu-id="e5082-149">Выберите **разрешений** необходимые **репозиториев**: **чтения** **веб-перехватчиков**: **чтение и запись**</span><span class="sxs-lookup"><span data-stu-id="e5082-149">Select the **Permissions** required  **Repositories**: **Read** **Webhooks**: **Read and write**</span></span>
8. <span data-ttu-id="e5082-150">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="e5082-150">Click **Save**.</span></span>  <span data-ttu-id="e5082-151">Вы увидите новое зарегистрированное приложение, а также значения **Key** (Ключ) и **Secret** (Секрет) для него в разделе **OAuth consumers** (Потребители OAuth).</span><span class="sxs-lookup"><span data-stu-id="e5082-151">You will now see this new application, along with the **Key** and **Secret** under **OAuth consumers**.</span></span>
    <span data-ttu-id="e5082-152">![Список приложений в Bitbucket][9]</span><span class="sxs-lookup"><span data-stu-id="e5082-152">![BitBucket Application Listing][9]</span></span>
9.  <span data-ttu-id="e5082-153">В окне или новую вкладку браузера Войдите на портал администрирования стек Azure (https://adminportal.local.azurestack.external) от имени администратора службы.</span><span class="sxs-lookup"><span data-stu-id="e5082-153">In a new browser tab or window Log in to the Azure Stack Admin Portal (https://adminportal.local.azurestack.external) as the service administrator.</span></span> 
10.  <span data-ttu-id="e5082-154">Перейдите в раздел **Resource Providers** (Поставщики ресурсов) и выберите элемент **App Service Resource Provider Admin** (Администрирование поставщика ресурсов службы приложений).</span><span class="sxs-lookup"><span data-stu-id="e5082-154">Browse to **Resource Providers** and select the **App Service Resource Provider Admin**.</span></span> 
11. <span data-ttu-id="e5082-155">Щелкните **Source control configuration** (Настройка системы управления версиями).</span><span class="sxs-lookup"><span data-stu-id="e5082-155">Click **Source control configuration**.</span></span>
12. <span data-ttu-id="e5082-156">Скопируйте и вставьте **ключ** для Bitbucket в поле ввода **Client Id** (Идентификатор клиента), а **секрет** — в поле **Client Secret** (Секрет клиента).</span><span class="sxs-lookup"><span data-stu-id="e5082-156">Copy and paste the **Key** into the **Client Id** input box and **Secret** into the **Client Secret** input box for BitBucket.</span></span>
13. <span data-ttu-id="e5082-157">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="e5082-157">Click **Save**.</span></span>
14. <span data-ttu-id="e5082-158">Если вы не будете настраивать другие источники развертывания, переходите к [планированию восстановления для ролей управления](azure-stack-app-service-configure-deployment-sources.md#schedule-repair-of-management-roles).</span><span class="sxs-lookup"><span data-stu-id="e5082-158">If you do not wish to configure any other Deployment Sources, proceed to [Schedule Repair of Management Roles](azure-stack-app-service-configure-deployment-sources.md#schedule-repair-of-management-roles).</span></span>

## <a name="configure-onedrive"></a><span data-ttu-id="e5082-159">Настройка OneDrive</span><span class="sxs-lookup"><span data-stu-id="e5082-159">Configure OneDrive</span></span>

> [!NOTE]
> <span data-ttu-id="e5082-160">Учетные записи OneDrive для бизнеса сейчас не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="e5082-160">OneDrive for Business Accounts are not currently supported.</span></span>  <span data-ttu-id="e5082-161">Для выполнения этой задачи вам потребуется учетная запись Майкрософт, связанная с учетной записью OneDrive.</span><span class="sxs-lookup"><span data-stu-id="e5082-161">You need to have a Microsoft Account linked to a OneDrive account to complete this task.</span></span>  <span data-ttu-id="e5082-162">Возможно, правильнее будет использовать корпоративную учетную запись, а не личную.</span><span class="sxs-lookup"><span data-stu-id="e5082-162">You may wish to use an account for your organization rather than a personal account.</span></span>

1. <span data-ttu-id="e5082-163">Откройте страницу https://apps.dev.microsoft.com/?referrer=https%3A%2F%2Fdev.onedrive.com%2Fapp-registration.htm и выполните вход с данными учетной записи Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="e5082-163">Browse to https://apps.dev.microsoft.com/?referrer=https%3A%2F%2Fdev.onedrive.com%2Fapp-registration.htm and Log in using your Microsoft Account.</span></span>
2. <span data-ttu-id="e5082-164">Щелкните **Add an app** (Добавить приложение) в разделе **My applications** (Мои приложения).
![Приложения OneDrive][10]</span><span class="sxs-lookup"><span data-stu-id="e5082-164">Click **Add an app** under **My applications**
![OneDrive Applications][10]</span></span>
3. <span data-ttu-id="e5082-165">Введите значение в поле **Name** (Имя) в разделе New Application Registration (Регистрация нового приложения), например **Служба приложений Azure Stack** и нажмите кнопку **Create Application** (Создать приложение).</span><span class="sxs-lookup"><span data-stu-id="e5082-165">Enter a **Name** for the New Application Registration, enter **App Service on Azure Stack**, and click **Create Application**</span></span>
4. <span data-ttu-id="e5082-166">На следующем экране вы увидите список свойств нового приложения.</span><span class="sxs-lookup"><span data-stu-id="e5082-166">The next screen lists the properties of your new application.</span></span> <span data-ttu-id="e5082-167">Запишите значение **Application Id**(Идентификатор приложения).
![Свойства приложения OneDrive][11]</span><span class="sxs-lookup"><span data-stu-id="e5082-167">Record the **Application Id**
![OneDrive Application Properties][11]</span></span>
5. <span data-ttu-id="e5082-168">В разделе **Application Secrets** (Секреты приложения) щелкните **Generate New Password** (Создать новый пароль) и запишите полученное значение **New password generated** (Созданный новый пароль) — это будет секрет для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="e5082-168">Under **Application Secrets** click **Generate New Password** and record the **New password generated** - this is your application secret.</span></span>
> [!NOTE]
> <span data-ttu-id="e5082-169">Обязательно запишите новый пароль. После того, как вы нажмете кнопку OK на этой странице, пароль невозможно будет получить.</span><span class="sxs-lookup"><span data-stu-id="e5082-169">Make sure to make a note of the new password as it is not retrievable once you click OK at this stage.</span></span>
6. <span data-ttu-id="e5082-170">В разделе **Platforms** (Платформы) щелкните **Add Platform** (Добавление платформы) и выберите **Web** (Веб).</span><span class="sxs-lookup"><span data-stu-id="e5082-170">Under **Platforms** click **Add Platform** and select **Web**</span></span>
7. <span data-ttu-id="e5082-171">Введите **URI перенаправления**.</span><span class="sxs-lookup"><span data-stu-id="e5082-171">Enter the **Redirect URI**.</span></span>  <span data-ttu-id="e5082-172">В развертывании Azure стека по умолчанию, URI перенаправления возможности https://portal.local.azurestack.external/tokenauthorize формы, если приложение выполняется под другой домен замены домена для azurestack.local ![приложение OneDrive - Добавление Веб-платформы][12]</span><span class="sxs-lookup"><span data-stu-id="e5082-172">In a default Azure Stack deployment, the Redirect URI is in the form https://portal.local.azurestack.external/tokenauthorize, if you are running under a different domain substitute your domain for azurestack.local ![OneDrive Application - Add Web Platform][12]</span></span>
8. <span data-ttu-id="e5082-173">Задайте **Разрешения Microsoft Graph** - **Делегированные разрешения**.</span><span class="sxs-lookup"><span data-stu-id="e5082-173">Set the **Microsoft Graph Permissions** - **Delegated Permissions**</span></span>
    - <span data-ttu-id="e5082-174">**Files.ReadWrite.AppFolder**</span><span class="sxs-lookup"><span data-stu-id="e5082-174">**Files.ReadWrite.AppFolder**</span></span>
    - <span data-ttu-id="e5082-175">**User.Read**</span><span class="sxs-lookup"><span data-stu-id="e5082-175">**User.Read**</span></span>  
      <span data-ttu-id="e5082-176">![Разрешения Graph для приложения OneDrive][13]</span><span class="sxs-lookup"><span data-stu-id="e5082-176">![OneDrive Application - Graph Permissions][13]</span></span>
10. <span data-ttu-id="e5082-177">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="e5082-177">Click **Save**.</span></span>
11.  <span data-ttu-id="e5082-178">В окне или новую вкладку браузера Войдите на портал администрирования стек Azure (https://adminportal.local.azurestack.external) от имени администратора службы.</span><span class="sxs-lookup"><span data-stu-id="e5082-178">In a new browser tab or window Log in to the Azure Stack Admin Portal (https://adminportal.local.azurestack.external) as the service administrator.</span></span> 
12.  <span data-ttu-id="e5082-179">Перейдите в раздел **Resource Providers** (Поставщики ресурсов) и выберите элемент **App Service Resource Provider Admin** (Администрирование поставщика ресурсов службы приложений).</span><span class="sxs-lookup"><span data-stu-id="e5082-179">Browse to **Resource Providers** and select the **App Service Resource Provider Admin**.</span></span> 
13. <span data-ttu-id="e5082-180">Щелкните **Source control configuration** (Настройка системы управления версиями).</span><span class="sxs-lookup"><span data-stu-id="e5082-180">Click **Source control configuration**.</span></span>
14. <span data-ttu-id="e5082-181">Скопируйте и вставьте **идентификатор приложения** для OneDrive в поле ввода **Client Id** (Идентификатор клиента), а **пароль** — в поле **Client Secret** (Секрет клиента).</span><span class="sxs-lookup"><span data-stu-id="e5082-181">Copy and paste the **Application Id** into the **Client Id** input box and **Password** into the **Client Secret** input box for OneDrive.</span></span>
15. <span data-ttu-id="e5082-182">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="e5082-182">Click **Save**.</span></span>
16. <span data-ttu-id="e5082-183">Если вы не будете настраивать другие источники развертывания, переходите к [планированию восстановления для ролей управления](azure-stack-app-service-configure-deployment-sources.md#schedule-repair-of-management-roles).</span><span class="sxs-lookup"><span data-stu-id="e5082-183">If you do not wish to configure any other Deployment Sources, proceed to [Schedule Repair of Management Roles](azure-stack-app-service-configure-deployment-sources.md#schedule-repair-of-management-roles).</span></span>

## <a name="configure-dropbox"></a><span data-ttu-id="e5082-184">Настройка Dropbox</span><span class="sxs-lookup"><span data-stu-id="e5082-184">Configure DropBox</span></span>

> [!NOTE]
> <span data-ttu-id="e5082-185">Для выполнения этой задачи вам потребуется учетная запись Dropbox.</span><span class="sxs-lookup"><span data-stu-id="e5082-185">You need to have a DropBox account to complete this task.</span></span>  <span data-ttu-id="e5082-186">Возможно, правильнее будет использовать корпоративную учетную запись, а не личную.</span><span class="sxs-lookup"><span data-stu-id="e5082-186">You may wish to use an account for your organization rather than a personal account.</span></span>

1. <span data-ttu-id="e5082-187">Откройте страницу https://www.dropbox.com/developers/apps и выполните вход с данными учетной записи Dropbox.</span><span class="sxs-lookup"><span data-stu-id="e5082-187">Browse to https://www.dropbox.com/developers/apps and Log in using your DropBox Account</span></span>
2. <span data-ttu-id="e5082-188">Щелкните **Create app**(Создать приложение). 
![Приложения Dropbox][14]</span><span class="sxs-lookup"><span data-stu-id="e5082-188">Click **Create app** 
![Dropbox applications][14]</span></span>
3. <span data-ttu-id="e5082-189">Выберите **Dropbox API**.</span><span class="sxs-lookup"><span data-stu-id="e5082-189">Select **DropBox API**</span></span>
4. <span data-ttu-id="e5082-190">Установите уровень доступа **App Folder** (Папка приложения).</span><span class="sxs-lookup"><span data-stu-id="e5082-190">Set the access level to **App Folder**</span></span>
5. <span data-ttu-id="e5082-191">Введите значение **Name** (Имя) для приложения.</span><span class="sxs-lookup"><span data-stu-id="e5082-191">Enter a **Name** for your application.</span></span>
<span data-ttu-id="e5082-192">![Регистрация приложения Dropbox][15]</span><span class="sxs-lookup"><span data-stu-id="e5082-192">![Dropbox application registration][15]</span></span>
6. <span data-ttu-id="e5082-193">Нажмите кнопку **Create App** (Создать приложение).</span><span class="sxs-lookup"><span data-stu-id="e5082-193">Click **Create App**.</span></span>  <span data-ttu-id="e5082-194">Вы увидите страницу со списком параметров для приложения, включая **App key** (Ключ приложения) и **App secret** (Секрет приложения).</span><span class="sxs-lookup"><span data-stu-id="e5082-194">You will now be presented with a page listing the settings for the App including **App key** and **App secret**.</span></span>
7. <span data-ttu-id="e5082-195">Убедитесь, что параметр **App folder name** (Имя папки приложения) имеет значение **Служба приложений в Azure Stack**.</span><span class="sxs-lookup"><span data-stu-id="e5082-195">Check the **App folder name** is set to **App Service on Azure Stack**</span></span>
8. <span data-ttu-id="e5082-196">Задайте значение **OAuth 2 Redirect URI** (URI перенаправления OAuth 2) и щелкните **Add** (Добавить).</span><span class="sxs-lookup"><span data-stu-id="e5082-196">Set the **OAuth 2 Redirect URI** and click **Add**.</span></span>  <span data-ttu-id="e5082-197">В развертывании Azure стека по умолчанию, URI перенаправления возможности https://portal.local.azurestack.external/tokenauthorize формы, если приложение выполняется под другой домен замены домена для azurestack.local ![общего банка данных приложения конфигурации][16]</span><span class="sxs-lookup"><span data-stu-id="e5082-197">In a default Azure Stack deployment, the Redirect URI is in the form https://portal.local.azurestack.external/tokenauthorize, if you are running under a different domain substitute your domain for azurestack.local ![Dropbox application configuration][16]</span></span>
9.  <span data-ttu-id="e5082-198">В окне или новую вкладку браузера Войдите на портал администрирования стек Azure (https://adminportal.local.azurestack.external) от имени администратора службы.</span><span class="sxs-lookup"><span data-stu-id="e5082-198">In a new browser tab or window Log in to the Azure Stack Admin Portal (https://adminportal.local.azurestack.external) as the service administrator.</span></span> 
10.  <span data-ttu-id="e5082-199">Перейдите в раздел **Resource Providers** (Поставщики ресурсов) и выберите элемент **App Service Resource Provider Admin** (Администрирование поставщика ресурсов службы приложений).</span><span class="sxs-lookup"><span data-stu-id="e5082-199">Browse to **Resource Providers** and select the **App Service Resource Provider Admin**.</span></span> 
11. <span data-ttu-id="e5082-200">Щелкните **Source control configuration** (Настройка системы управления версиями).</span><span class="sxs-lookup"><span data-stu-id="e5082-200">Click **Source control configuration**.</span></span>
12. <span data-ttu-id="e5082-201">Скопируйте и вставьте **ключ приложения** для Dropbox в поле ввода **Client Id** (Идентификатор клиента), а **секрет приложения** — в поле **Client Secret** (Секрет клиента).</span><span class="sxs-lookup"><span data-stu-id="e5082-201">Copy and paste the **Application Key** into the **Client Id** input box and **App secret** into the **Client Secret** input box for DropBox.</span></span>
13. <span data-ttu-id="e5082-202">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="e5082-202">Click **Save**.</span></span>
14. <span data-ttu-id="e5082-203">Если вы не будете настраивать другие источники развертывания, переходите к [планированию восстановления для ролей управления](azure-stack-app-service-configure-deployment-sources.md#schedule-repair-of-management-roles).</span><span class="sxs-lookup"><span data-stu-id="e5082-203">If you do not wish to configure any other Deployment Sources, proceed to [Schedule Repair of Management Roles](azure-stack-app-service-configure-deployment-sources.md#schedule-repair-of-management-roles).</span></span>

## <a name="schedule-repair-of-management-roles"></a><span data-ttu-id="e5082-204">Планирование восстановления для ролей управления</span><span class="sxs-lookup"><span data-stu-id="e5082-204">Schedule repair of management roles</span></span>
<span data-ttu-id="e5082-205">Чтобы обновленные настройки, выполненные для различных источников развертывания, применялись правильно, необходимо восстановление ролей управления.</span><span class="sxs-lookup"><span data-stu-id="e5082-205">In order for the settings updated in the configuration of the various deployment sources to be applied, the Management Roles need to be repaired.</span></span>  <span data-ttu-id="e5082-206">Этот процесс гарантирует, что все параметры конфигурации будут применяться корректно и настроенные источники развертывания будут доступны для клиентов.</span><span class="sxs-lookup"><span data-stu-id="e5082-206">This process ensures that the configuration values are applied correctly and the configured Deployment Sources are made available to tenants.</span></span>

1. <span data-ttu-id="e5082-207">В окне или новую вкладку браузера Войдите на портал администрирования стек Azure (https://adminportal.local.azurestack.external) от имени администратора службы.</span><span class="sxs-lookup"><span data-stu-id="e5082-207">In a new browser tab or window Log in to the Azure Stack Admin Portal (https://adminportal.local.azurestack.external) as the service administrator.</span></span>
2. <span data-ttu-id="e5082-208">Перейдите в раздел **Resource Providers** (Поставщики ресурсов) и выберите элемент **App Service Resource Provider Admin** (Администрирование поставщика ресурсов службы приложений).</span><span class="sxs-lookup"><span data-stu-id="e5082-208">Browse to **Resource Providers** and select the **App Service Resource Provider Admin**.</span></span>
3. <span data-ttu-id="e5082-209">Щелкните **Source control configuration** (Настройка системы управления версиями).</span><span class="sxs-lookup"><span data-stu-id="e5082-209">Click **Source control configuration**</span></span>
4. <span data-ttu-id="e5082-210">Скопируйте и вставьте **идентификатор клиента** и **секрет клиента** для GitHub в соответствующие поля ввода.</span><span class="sxs-lookup"><span data-stu-id="e5082-210">Copy and paste the **Client Id** and **Client Secret** into the corresponding input boxes for GitHub.</span></span>
5. <span data-ttu-id="e5082-211">Нажмите кнопку **Сохранить**</span><span class="sxs-lookup"><span data-stu-id="e5082-211">Click **Save**</span></span>
6. <span data-ttu-id="e5082-212">Щелкните **Roles** (Роли).</span><span class="sxs-lookup"><span data-stu-id="e5082-212">Click **Roles**</span></span>
7. <span data-ttu-id="e5082-213">Щелкните **Management Server** (Сервер управления).</span><span class="sxs-lookup"><span data-stu-id="e5082-213">Click **Management Server**</span></span>
8. <span data-ttu-id="e5082-214">Щелкните **Repair All** (Восстановить все) и выберите вариант **Yes** (Да).</span><span class="sxs-lookup"><span data-stu-id="e5082-214">Click **Repair All** and select **Yes**.</span></span>  <span data-ttu-id="e5082-215">Теперь для всех серверов управления запланировано восстановление. Эта операция завершает процесс интеграции.</span><span class="sxs-lookup"><span data-stu-id="e5082-215">This operation schedules a repair on all Management Servers to complete the integration.</span></span>  <span data-ttu-id="e5082-216">Операции восстановления выполняются так, чтобы свести время простоя к минимуму.</span><span class="sxs-lookup"><span data-stu-id="e5082-216">The repair operations are managed to minimize downtime.</span></span>
    <span data-ttu-id="e5082-217">![Администрирование поставщика ресурсов службы приложений — Роли — Восстановить все серверы управления][6]</span><span class="sxs-lookup"><span data-stu-id="e5082-217">![App Service Resource Provider Admin - Roles - Management Server Repair All][6]</span></span>

<!--Image references-->
[1]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin.png
[2]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-source-control-configuration.png
[3]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-github-developer-applications.png
[4]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-github-register-a-new-oauth-application-populated.png
[5]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-github-register-a-new-oauth-application-complete.png
[6]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-roles-management-server-repair-all.png
[7]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-bitbucket-dashboard.png
[8]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-bitbucket-access-management-add-oauth-consumer.png
[9]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-bitbucket-access-management-add-oauth-consumer-complete.png
[10]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-Onedrive-applications.png
[11]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-Onedrive-application-registration.png
[12]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-Onedrive-application-platform.png
[13]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-Onedrive-application-graph-permissions.png
[14]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-Dropbox-applications.png
[15]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-Dropbox-application-registration.png
[16]: ./media/azure-stack-app-service-configure-deployment-sources/App-service-provider-admin-Dropbox-application-configuration.png
