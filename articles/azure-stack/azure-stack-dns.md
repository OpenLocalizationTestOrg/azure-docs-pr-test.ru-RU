---
title: "aaaDNS стека Azure | Документы Microsoft"
description: "DNS в Azure Stack"
services: azure-stack
documentationcenter: 
author: ScottNapolitan
manager: byronr
editor: 
ms.assetid: 
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 7/27/2017
ms.author: victorh
ms.openlocfilehash: 8620178833ac29e9653cce332b7c5d89bbdea0af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="dns-in-azure-stack"></a>DNS в Azure Stack
Стек Azure включает следующие атрибуты DNS hello.
* Поддержка разрешения имени узла DNS
* Создание и управление ими зон DNS и записей с помощью API

## <a name="support-for-dns-hostname-resolution"></a>Поддержка разрешения имени узла DNS
Можно указать метка DNS-имени домена для открытого IP ресурса, который создает сопоставление для *domainnamelabel.location*. cloudapp.azurestack.external toohello общедоступный IP-адрес в hello Azure стека управляемых DNS-серверов.  

Например, если создать открытый IP ресурс с **contoso** как метка доменного имени в расположение локального стека Azure hello, hello полное доменное имя (FQDN) **contoso.local.cloudapp.azurestack.external** разрешает toohello общедоступный IP-адрес ресурса hello. Можно использовать этот toocreate полное доменное имя пользовательского домена CNAME, указывающую toohello общедоступный IP-адрес в стеке Azure.

> [!IMPORTANT]
> Каждая метка доменного имени, которая создана должно быть уникальным в пределах его расположение стека Azure.

Если вы создаете hello общедоступный IP-адрес с помощью портала hello, он выглядит следующим образом:

![Создание общедоступного IP-адреса](media/azure-stack-whats-new-dns/image01.png)

Такая конфигурация удобна, если требуется, чтобы tooassociate общедоступный IP-адрес с балансировкой нагрузки ресурсом. Например может потребоваться балансировки нагрузки, обработку запросов от веб-приложения. За hello нагрузки вполне веб-сайта, расположенные на один или несколько виртуальных машин. Теперь можно открыть hello балансировки нагрузки веб-сайта по DNS-имени, а не по IP-адрес.

## <a name="create-and-manage-dns-zones-and-records-using-api"></a>Создание и управление ими зон DNS и записей с помощью API
Можно создать и управлять зон DNS и записей в Azure стека.  

Стек Azure предоставляет службу DNS, таких как Azure, с помощью API-интерфейсы, согласованные с Azure DNS API-интерфейсы.  Путем размещения доменов в Azure DNS стека, можно управлять записи DNS с hello учетные данные, API-интерфейсы, средства, выставления счетов и поддержки других служб Azure. 

В целях очевидным инфраструктуры DNS Azure стека hello меньше места, чем в Azure. Таким образом hello области, масштабирования и производительности зависят от масштаба hello развертывания Azure стека hello и hello среде, где он будет развернут.  Таким образом такие как производительности, доступности, глобальные распространения и высокого уровня доступности (HA) может отличаться от toodeployment развертывания.

## <a name="comparison-with-azure-dns"></a>Сравнение с Azure DNS
DNS-сервер в стек Azure — аналогично tooDNS в Azure, с двумя главными исключениями:
* **Не поддерживает записи AAAA**

    Стек Azure не поддерживает записи AAAA, поскольку стек Azure не поддерживает адреса IPv6.  Это ключевое различие между DNS-сервер в Azure и Azure стека.
* **Не является мультитенантной**

    В отличие от Azure служба DNS Azure стека hello не несколькими клиентами. Поэтому каждому клиенту не удается создать hello таким же зоны DNS. Выполняется успешно только hello первую подписку, которую пытается выполнить toocreate hello зоны и последующие запросы с ошибкой.  Это известная проблема и основное отличие между Azure и Azure DNS стека. Эта проблема будет устранена в будущих выпусках.

Кроме того существуют некоторые незначительные различия в как стек DNS Azure реализует теги, метаданные, теги eTag и ограничения.

Hello следующие сведения относятся специально tooAzure стека DNS и немного отличается от Azure DNS. toolearn Дополнительные сведения о Azure DNS в разделе [DNS-зоны и записывает](../dns/dns-zones-records.md) на сайте документации Microsoft Azure hello.

### <a name="tags-metadata-and-etags"></a>Метки, метаданных и теги eTag

**Теги**

Azure DNS стека поддерживает, с помощью диспетчера ресурсов Azure тегов в ресурсы зоны DNS. Она поддерживает теги на наборы записей DNS, несмотря на то, что задает как альтернатива «metadata» поддерживается в запись DNS, как описано далее.

**Metadata**

Как альтернативный toorecord набор тегов, стек DNS Azure поддерживает аннотации наборы записей с помощью «metadata». Аналогичные tootags метаданные позволяют вам tooassociate пар имя значение с каждым набором записей. Например это может быть полезным toorecord hello назначение каждого набора записей. В отличие от тегов метаданных не может быть используется tooprovide отфильтрованное представление счете Azure и не может указываться в политике диспетчера ресурсов Azure.

**Теги eTag**

Предположим, что два человека или два процесса повторите toomodify записи DNS на hello же время. У какого из них это получится? И победителя hello узнает, что они перезаписываете изменения, созданные другим пользователем?

Теги eTag toohandle параллельных изменений toohello использует Azure DNS стека того же ресурса безопасно. Теги eTag, отделены от диспетчера ресурсов Azure «Теги». С каждым ресурсом DNS (зоной или набором записей) связан Etag. При извлечении ресурса также передается его значение Etag. При обновлении ресурса, можно выбрать, что toopass обратно hello Etag, поэтому стека DNS Azure можно проверить, что hello Etag в соответствует идентификатору сервера hello. Поскольку каждый ресурс tooa обновление приводит к hello Etag создаются заново, несоответствие Etag указывает, что в параллельных произошло изменение. Также можно использовать теги eTag, при создании нового ресурса tooensure, hello ресурсов уже существует.

По умолчанию DNS стек Azure PowerShell использует toozones параллельных изменений tooblock теги eTag и наборы записей. Необязательный Hello *-перезаписать* коммутатор может быть используется toosuppress проверки Etag, в этом случае все одновременных изменений, произошедших перезаписываются.

На уровне API REST Azure стека DNS hello hello теги eTag задаются с помощью заголовков HTTP. В следующей таблице hello дается их поведения:

| Заголовок | Поведение|
|--------|---------|
| None   | PUT всегда завершается успешно (без проверки Etag)|
| IF-match| PUT завершается успешно, только если ресурс существует и Etag соответствует|
| If-match *| PUT завершается успешно, только если ресурс существует|
| If-none-match*| PUT завершается успешно, только если ресурс не существует|

### <a name="limits"></a>Ограничения

следующие ограничения по умолчанию Hello применяются при использовании DNS Azure стека.

| Ресурс| Ограничение по умолчанию|
|---------|--------------|
| Зон на подписку| 100|
| Наборов записей на зону| 5000|
| Записей на набор записей| 20|

## <a name="next-steps"></a>Дальнейшие действия
[Общие сведения о имена IDN для стек Azure](azure-stack-understanding-dns.md)
