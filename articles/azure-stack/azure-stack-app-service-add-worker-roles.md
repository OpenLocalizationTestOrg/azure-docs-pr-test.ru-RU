---
title: "aaaScale out рабочих ролей в службы приложений — стек Azure | Документы Microsoft"
description: "Подробные инструкции для масштабирования службы приложений Azure стека"
services: azure-stack
documentationcenter: 
author: kathm
manager: slinehan
editor: anwestg
ms.assetid: 3cbe87bd-8ae2-47dc-a367-51e67ed4b3c0
ms.service: azure-stack
ms.workload: app-service
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 4/6/2017
ms.author: kathm
ms.openlocfilehash: 252b4a531655e38f3a3747f8a04b16fc6303f9e1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="app-service-on-azure-stack-adding-more-worker-roles"></a>Службы приложений Azure стеке: Добавление дополнительных рабочих ролей 

Этот документ содержит инструкции о том, как tooscale приложения службы в рабочих ролях Azure стека. Он содержит инструкции по созданию дополнительных рабочих ролей toosupport приложений любого размера.

> [!NOTE]
> Если в вашей среде подтверждения Концепции стек Azure не более 96 ГБ ОЗУ возможно затруднений при добавлении дополнительной емкости.

Службы приложений Azure стеке, по умолчанию поддерживает бесплатных и общих рабочих уровнях. tooadd другие рабочие уровни tooadd требуются дополнительные рабочие роли.

Если вы не уверены, что было развернуто приложение службы по умолчанию hello в установке стек Azure, можно просмотреть дополнительные сведения в hello [службы приложений на обзор Azure стека](azure-stack-app-service-overview.md).

Существует два способа tooadd дополнительную емкость tooApp службы стек Azure:
1.  [Добавьте дополнительные рабочие процессы непосредственно из с внутри hello администратора поставщика ресурсов службы приложения](#Add-additional-workers-directly-from-within-the-App-Service-Resource-Provider-Admin).
2.  [Вручную создайте дополнительные виртуальные машины и добавьте их toohello поставщик ресурсов службы приложения](#Create-additional-VMs-manually-and-add-them-to-the-App-Service-Resource-Provider).

## <a name="add-additional-workers-directly-within-hello-app-service-resource-provider-admin"></a>Добавьте дополнительные рабочие процессы непосредственно в hello администратора поставщика ресурсов службы приложения.

1.  Войдите в систему toohello портала Azure стека как Здравствуйте, администратор службы;
2.  Обзор слишком**поставщиков ресурсов** и выберите hello **администратора поставщика ресурсов службы приложения**. ![Поставщики ресурсов стек Azure][1]
3.  Щелкните **Роли**.  Здесь можно просматривать разбивку hello развертывания роли приложения службы.
4.  Выберите вариант hello **новый экземпляр роли** ![добавить новый экземпляр роли][2]
5.  В hello **новый экземпляр роли** колонки:
    1. Выберите количество дополнительных **экземпляры роли** хотелось бы tooadd.  В режиме предварительного просмотра hello не более 10.
    2. Выберите hello **тип роли**.  В этой предварительной версии этот параметр является ограниченной tooWeb работника.
    3. Выберите hello **рабочий уровень** хотелось бы toodeploy этот рабочий процесс, по умолчанию доступны: малый, средний, большой или Shared.  Если вы создали собственные рабочие уровни, ваш рабочий уровень также доступны для выбора.
    4. Нажмите кнопку **ОК** toodeploy hello дополнительных рабочих процессов
6.  Службы приложений на стек Azure будет добавлен hello дополнительных виртуальных машин, их настройки, установить программное обеспечение для необходимых hello и пометить их как готовый после завершения этого процесса.  Этот процесс может занять около 80 минут.
7.  Можно следить за ходом hello hello готовности hello новых работников, просмотрев hello работников в hello **ролей** колонку.

>[!NOTE]
>  В этой предварительной версии hello интеграции новый экземпляр роли поток является ограниченной tooWorker ролей и развертывать виртуальные машины только размера A1.  Мы будет расширение эту возможность в будущем выпуске.

## <a name="manually-adding-additional-capacity-tooapp-service-on-azure-stack"></a>Вручную добавлять дополнительную емкость tooApp службы Azure стек.

Hello следующие шаги, необходимые tooadd дополнительные роли:

1. [Создание новой виртуальной машины](#step-1-create-a-new-vm-to-support-the-new-instance-size)
2. [Настройка виртуальной машины hello](#step-2-configure-the-virtual-machine)
3. [Настройка рабочей роли web hello на портале Azure стека hello](#step-3-configure-the-web-worker-role-in-the-azure-stack-portal)
4. [Настройка планах службы приложений](#step-4-configure-app-service-plans)

## <a name="step-1-create-a-new-vm-toosupport-hello-new-instance-size"></a>Шаг 1: Создание новой виртуальной Машины toosupport hello новый экземпляр размер
Создание виртуальной машины, как описано в [в этой статье](azure-stack-provision-vm.md), обеспечивая следующих hello выбор производится:

* Имя пользователя и пароль: укажите hello же имя пользователя и пароль, предоставленные при установке службы приложений Azure стек.
* Подписка: Используйте подписки поставщика по умолчанию hello.
* Группа ресурсов: выберите **AppService локальной**.

> [!NOTE]
> Сохранение виртуальных машин hello для рабочих ролей в hello же группе ресурсов службы приложений Azure стек развертывается. (Это рекомендуется для этой версии.)
> 
> 

## <a name="step-2-configure-hello-virtual-machine"></a>Шаг 2: Настройка hello виртуальной машины
После завершения развертывания hello hello следующая конфигурация является обязательным toosupport hello web рабочей роли:

1. Обзор toohello **AppService локальной** группы ресурсов в портал hello и выберите hello новой машины, созданной на шаге 1.
2. Щелкните "Подключить" в hello профиль виртуальной Машины колонке toodownload hello удаленного рабочего стола.  Откройте профиль hello tooopen tooyour сеанс удаленного рабочего стола виртуальной Машины.
3. Войдите в toohello виртуальной Машины с помощью hello имя пользователя и пароль, указанный на шаге 1.
4. Откройте PowerShell, щелкнув hello **запустить** кнопку и введите PowerShell. Щелкните правой кнопкой мыши **PowerShell.exe**и выберите **Запуск от имени администратора** tooopen PowerShell с правами администратора.
5. Копирование и вставка каждого hello, следующие команды (по одному за раз) в окне PowerShell hello и нажмите клавишу ВВОД:
   
   ```netsh advfirewall firewall set rule group="File and Printer Sharing" new enable=Yes```
   ```netsh advfirewall firewall set rule group="Windows Management Instrumentation (WMI)" new enable=yes```
   ```reg add HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\system /v LocalAccountTokenFilterPolicy /t REG\_DWORD /d 1 /f```
   
6. Закройте сеанс удаленного рабочего стола.
7. Перезапустите hello ВМ с портала hello.

> [!NOTE]
> Это минимальные требования для службы приложений Azure стек. Они являются параметры по умолчанию hello hello образа Windows 2012 R2, входящий в состав Azure стека. инструкции Hello были предоставлены для дальнейшего использования, а также для тех, кто использовать другое изображение.
> 
> 

## <a name="step-3-configure-hello-worker-role-in-hello-azure-stack-portal"></a>Шаг 3: Настройка hello рабочей роли на портале Azure стека hello
1. Привет открыть портал администратора службы hello на **ClientVM**.
2. Перейдите в слишком**поставщиков ресурсов** &gt; **администратора поставщика ресурсов службы приложения**.![ Администратор поставщика ресурсов службы приложений][3]
3. В колонке параметров hello щелкните **ролей**.![ Службы приложений ресурсов поставщика ролей][4]
4. Нажмите кнопку **добавить экземпляр роли**.
5. В текстовом поле hello для **имя сервера** введите hello **IP-адрес** сервера hello, созданной ранее (на раздел 1).
6. Выберите hello **тип роли** хотелось бы tooadd - контроллер, сервер управления, внешнего интерфейса, рабочего веб-процесса, издателя или файловый сервер.  В этом случае выберите рабочего веб-процесса.
7. Нажмите кнопку hello **уровня** вы бы как toodeploy hello нового экземпляра слишком (небольшой, средний, большой или общего).  Если вы создали собственные рабочие уровни они будут также доступны для выбора.
8. Нажмите кнопку **ОК.**
9. Вернитесь к предыдущему окну toohello **ролей** представление
10. Щелкните toohello роли сочетания типа и рабочий уровень, назначенный на виртуальной Машине для соответствующей строки hello.
11. Найдите hello только что добавленное имя сервера. Просмотрите столбец состояния hello и дождитесь toomove toohello следующий шаг hello состояние «Готово». Это может занять около 80 минут. ![Все готово для роли поставщика ресурсов службы приложений][5]

## <a name="step-4-configure-app-service-plans"></a>Шаг 4: Настройка планах службы приложений

1. Войдите в портал toohello на hello ClientVM.
2. Перейдите в слишком**New** &gt; **мобильных и веб-**.
3. Выберите тип hello приложения хотелось бы toodeploy.
4. Укажите сведения hello для приложения hello, а затем выберите **план служб приложений или расположение**.
    1. Щелкните **Создать**.
    2. Создайте план, выбрав соответствующий hello ценовую категорию для плана hello.

> [!NOTE]
> Можно создать несколько планов, хотя в этой колонке. Перед развертыванием, тем не менее, убедитесь, что выбран подходящий план hello.
> 
> 

Hello ниже показан пример hello доступны несколько ценовые категории по умолчанию.  Вы Обратите внимание, если нет доступных рабочих процессов для определенного рабочий уровень, hello параметр toochoose hello соответствующий Ценовая категория недоступна.![Служба приложений Azure стека по умолчанию ценовые категории][6]

<!--Image references-->
[1]: ./media/azure-stack-app-service-add-worker-roles/azure-stack-resource-providers.png
[2]: ./media/azure-stack-app-service-add-worker-roles/app-service-new-role-instance.png
[3]: ./media/azure-stack-app-service-add-worker-roles/app-service-resource-provider-admin.png
[4]: ./media/azure-stack-app-service-add-worker-roles/app-service-resource-provider-roles.png
[5]: ./media/azure-stack-app-service-add-worker-roles/app-service-resource-provider-role-ready.png
[6]: ./media/azure-stack-app-service-add-worker-roles/app-service-resource-provider-pricing-tier.png
