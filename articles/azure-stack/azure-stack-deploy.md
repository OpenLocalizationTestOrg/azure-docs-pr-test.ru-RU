---
title: "Azure необходимые условия для развертывания пакета средств разработки стек | Документы Microsoft"
description: "Просмотрите требования к среде и оборудования для пакета средств разработки Azure стека (оператор облака)."
services: azure-stack
documentationcenter: 
author: ErikjeMS
manager: byronr
editor: 
ms.assetid: 32a21d9b-ee42-417d-8e54-98a7f90f7311
ms.service: azure-stack
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 07/11/2017
ms.author: erikje
ms.openlocfilehash: 73e7efb7d789fe12846d68066c0927bb123831a2
ms.sourcegitcommit: 90e2cced6a773b1b52f999ba73cd8877305d270b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2017
---
# <a name="azure-stack-deployment-prerequisites"></a>Подготовка к развертыванию Azure стека

*Применяется к: Azure стека пакет средств разработки*

Перед развертыванием [пакет средств разработки Azure стека](azure-stack-poc.md), убедитесь, что ваш компьютер удовлетворяет следующим требованиям:


## <a name="hardware"></a>Оборудование
| Компонент | Минимальная | Рекомендуется |
| --- | --- | --- |
| Диски: операционная система |1 диск операционной системы с минимальным объемом 200 ГБ для системного раздела (SSD или жесткий диск). |1 диск операционной системы с минимальным объемом 200 ГБ для системного раздела (SSD или жесткий диск). |
| Дисковые накопители: Общая разработка набора данных * |4 диска. Каждый емкостью не меньше 140 ГБ (SSD или жесткие диски). Все доступные диски будут использоваться. |4 диска. Каждый диск содержит менее 250 ГБ (SSD или HDD). Все доступные диски будут использоваться. |
| Вычислительные ресурсы: ЦП |Двумя процессорными разъемами: 12 физических ядер (всего) |Двумя процессорными разъемами: 16 физических ядер (всего) |
| Вычислительные ресурсы: память |ОЗУ 96 ГБ. |128 ГБ ОЗУ (это Минимальная поддержка поставщиков ресурсов PaaS).|
| Вычислительные ресурсы: BIOS |С поддержкой Hyper-V (с поддержкой SLAT). |С поддержкой Hyper-V (с поддержкой SLAT). |
| Сетевые ресурсы: сетевая карта |Для сетевой карты требуется сертификация Windows Server 2012 R2; специальные функции не требуются. |Для сетевой карты требуется сертификация Windows Server 2012 R2; специальные функции не требуются. |
| Информация о сертификации на эмблеме оборудования |[Сертифицировано для Windows Server 2012 R2](http://windowsservercatalog.com/results.aspx?&chtext=&cstext=&csttext=&chbtext=&bCatID=1333&cpID=0&avc=79&ava=0&avq=0&OR=1&PGS=25&ready=0) |[Сертифицировано для Windows Server 2012 R2](http://windowsservercatalog.com/results.aspx?&chtext=&cstext=&csttext=&chbtext=&bCatID=1333&cpID=0&avc=79&ava=0&avq=0&OR=1&PGS=25&ready=0) |

\*Необходимо будет больше, чем это рекомендуется емкости, если планируется добавление многие [элементы marketplace](azure-stack-download-azure-marketplace-item.md) из Azure.

**Конфигурация диска данных:** всех дисков с данными должен иметь один и тот же тип (все SAS или SATA все) и емкости. При использовании дисков SAS жестких дисков должен быть подключен через один путь (не MPIO поддержки многопутевых указан).

**Параметры конфигурации адаптера ШИНЫ**

* (Рекомендуется) Простой адаптера ШИНЫ
* RAID HBA — адаптер должен быть настроен в режиме «проходить через»
* Адаптер ШИНЫ RAID-диски должны быть настроены как одним диском, RAID-0

**Поддерживаемые сочетания шины и типа носителя**

* Жесткий диск SATA
* Жесткий диск SAS
* Жесткий диск RAID
* RAID SSD (если не указан неизвестный тип носителя\*)
* SSD SATA + жесткий диск SATA
* SSD SAS + жесткий диск SAS

\*RAID-контроллеров без возможности к серверу не удалось распознать тип носителя. Такие контроллеры пометят жесткий диск и SSD как неопределенный. В этом случае SSD будет использоваться в качестве постоянного хранилища, а не кэша для устройств. Таким образом можно развернуть пакет средств разработки на этих SSD.

**Примеры HBA**: LSI 9207-8i, LSI 9300-8i или LSI-9265-8i в сквозном режиме.

Доступны примеры конфигураций OEM.

## <a name="operating-system"></a>операционная система
|  | **Требования** |
| --- | --- |
| **Версия ОС** |Windows Server 2012 R2 или более поздней версии. Версия операционной системы не являются критическими до начала развертывания, как компьютер будет загрузка виртуального жесткого диска, который включен в установку стек Azure. Операционная система и все необходимые обновления уже интегрированы в образе. Не используйте какие-либо разделы для активации все экземпляры Windows Server, используемые в пакете средств разработки. |

## <a name="deployment-requirements-check-tool"></a>Средство проверки требований к развертыванию
После установки операционной системы, можно использовать [проверки развертывания в Azure стека](https://gallery.technet.microsoft.com/Deployment-Checker-for-50e0f51b) для подтверждения того, что оборудование соответствует всем требованиям.

## <a name="account-requirements"></a>Требования к учетной записи
Как правило развертывании пакета средств разработки с подключением к Интернету, где можно подключиться к Microsoft Azure. В этом случае необходимо настроить учетную запись Azure Active Directory (Azure AD) для развертывания пакета средств разработки.

Если в вашей среде не подключен к Интернету, или вы не хотите использовать Azure AD, Azure стека можно развернуть с помощью служб федерации Active Directory (AD FS). Пакет средств разработки включает свои собственные экземпляры службы федерации Active Directory и доменные службы Active Directory. При развертывании с помощью этого параметра, Настройка учетных записей заранее не нужно.

>[!NOTE]
При развертывании с помощью параметра службы федерации Active Directory, необходимо повторно развернуть стека Azure, чтобы перейти в Azure AD.

### <a name="azure-active-directory-accounts"></a>Учетные записи Azure Active Directory
Развертывание стека Azure с помощью учетной записи Azure AD, прежде чем запускать сценарий PowerShell развертывания необходимо подготовить учетной записи Azure AD. Эта учетная запись становится глобальным администратором для клиента Azure AD. Он используется для подготовки и делегировать приложений и субъектов-служб для всех служб Azure стека, взаимодействующих с Azure Active Directory и Graph API. Он также используется в качестве владельца подписки поставщика по умолчанию (который можно изменить). Вы можете войти на портал администратора Azure стека системы с помощью этой учетной записи.

1. Создание учетной записи Azure AD, которая является администратором каталога для по крайней мере один Azure AD. Если это уже сделано, можно использовать. В противном случае можно создать один бесплатно в [http://azure.microsoft.com/en-us/pricing/free-trial/](http://azure.microsoft.com/pricing/free-trial/) (в Китае, посетите <http://go.microsoft.com/fwlink/?LinkID=717821> вместо). Если вы планируете позже [Azure стеком регистров с помощью Azure](azure-stack-register.md), также необходимо иметь подписку в только что созданное учетной записи.
   
    Сохранить эти учетные данные для использования в шаге 6 процедуры [развертывания пакета средств разработки](azure-stack-run-powershell-script.md#deploy-the-development-kit). Это *администратора службы* учетную запись можно настроить и управлять облака ресурсов, учетные записи пользователей, планы для клиентов, квоты и Расценки. На портале они могут создавать облака веб-сайтов, частные облака виртуальных машин и планы, а также управлять подписками пользователей.
2. [Создание](azure-stack-add-new-user-aad.md) по крайней мере одну учетную запись, чтобы вы могли войти набору разработки как клиента.
   
   | **Учетная запись Azure Active Directory** | **Поддерживается?** |
   | --- | --- |
   | Рабочая учетная запись с общей подпиской Azure |Да |
   | Учетная запись Майкрософт с действительной общедоступной подпиской Azure |Да |
   | Рабочая учетная запись с подпиской Azure для Китая |Да |
   | Рабочая учетная запись с допустимым нам государственных подписки Azure |Да |

## <a name="network"></a>Сеть
### <a name="switch"></a>Switch
Один порт коммутатора для машины комплект средств для разработки.  

Компьютере комплект разработчика поддерживает подключение для доступа к порту коммутатора или порта магистрали. Специальные функции на коммутаторе не требуются. Если вы используете магистральный порт или необходимо настроить идентификатор виртуальной сети (VLAN ID), следует указать VLAN ID в качестве параметра развертывания. Можно просмотреть примеры в [список параметров развертывания](azure-stack-run-powershell-script.md).

### <a name="subnet"></a>Подсеть
Не подключиться машины комплект средств для разработки для следующих подсетей:

* 192.168.200.0/24
* 192.168.100.0/27
* 192.168.101.0/26
* 192.168.102.0/24
* 192.168.103.0/25
* 192.168.104.0/25

Эти подсети резервируются для внутренних сетей в среде разработки пакета.

### <a name="ipv4ipv6"></a>IPv4 или IPv6
Поддерживается только протокол IPv4. Создать сети IPv6 нельзя.

### <a name="dhcp"></a>DHCP
Убедитесь, что в сети, к которой подключается сетевая карта, имеется DHCP-сервер. Если протокол DHCP недоступен, помимо сети, используемой узлом, необходимо подготовить дополнительную сеть со статическим IPv4-адресом. Необходимо указать этот IP-адрес и шлюз в качестве параметра развертывания. Можно просмотреть примеры в [список параметров развертывания](azure-stack-run-powershell-script.md).

### <a name="internet-access"></a>Доступ к Интернету
Стек Azure требует доступ к Интернету напрямую или с помощью прозрачного прокси. Стек Azure не поддерживает конфигурацию веб-прокси, чтобы включить доступ к Интернету. IP-адрес узла и новый IP-адрес, назначенный для они НАЗЫВАЛИСЬ-BGPNAT01 (DHCP или статический IP-адрес) должен быть доступ к Интернету. В списке доменов graph.windows.net и login.microsoftonline.com используются порты 80 и 443.

## <a name="telemetry"></a>Телеметрия

Данные телеметрии помогают нам фигуры будущих версий Azure стека. Он позволяет быстро реагировать на отзыв, предоставляет пользователям новые возможности и улучшения качества. Стека Microsoft Azure включает в себя Windows Server 2016 и SQL Server 2014. По умолчанию ни один из этих продуктов изменены, и оба описаны в заявлении о конфиденциальности Microsoft Enterprise. Стек Azure также содержит программное обеспечение открытым исходным кодом, которое не был изменен для отправки телеметрии в корпорацию Майкрософт. Ниже приведены некоторые примеры данные телеметрии Azure стека.

- сведения о регистрации развертывания
- При открытии и закрытии оповещения
- Количество сетевых ресурсов

Для поддержки потока данных телеметрии, порт 443 (HTTPS) должен быть открыт в сети. Конечная точка клиента — https://vortex-win.data.microsoft.com.

Если вы не хотите предоставлять данные телеметрии для стека Azure, его можно отключить на узел комплект средств для разработки и инфраструктуры виртуальных машин, как описано ниже.

### <a name="turn-off-telemetry-on-the-development-kit-host-optional"></a>Отключить функцию телеметрии на узле development kit (необязательно)

>[!NOTE]
Если вы хотите отключить функцию телеметрии для узла комплект средств для разработки, сделайте это перед выполнением скрипта развертывания.

Прежде чем [выполнения сценария asdk installer.ps1]() для развертывания узла комплект средств для разработки, загрузите CloudBuilder.vhdx и запустите следующий сценарий в PowerShell с повышенными привилегиями:
```powershell
### Get current AllowTelmetry value on DVM Host
(Get-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\DataCollection" `
-Name AllowTelemetry).AllowTelemetry
### Set & Get updated AllowTelemetry value for ASDK-Host 
Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\DataCollection" `
-Name "AllowTelemetry" -Value '0'  
(Get-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\DataCollection" `
-Name AllowTelemetry).AllowTelemetry
```

Установка **AllowTelemetry** 0 отключается телеметрии для развертывания Windows и стек Azure. Отправляются только критические события из операционной системы. Параметр определяет телеметрии Windows на всех узлах и инфраструктуры виртуальных машин и применяется для новых узлов и виртуальных машин, на которые выполняются операции масштабирования.


### <a name="turn-off-telemetry-on-the-infrastructure-virtual-machines-optional"></a>Отключить функцию телеметрии на виртуальных машинах инфраструктуры (необязательно)

После успешного завершения развертывания, выполните следующий скрипт в окне PowerShell с повышенными привилегиями (как пользователь AzureStack\AzureStackAdmin) на узле комплект средств для разработки:

```powershell
$AzSVMs= get-vm |  where {$_.Name -like "AzS-*"}
### Show current AllowTelemetry value for all AzS-VMs
invoke-command -computername $AzSVMs.name {(Get-ItemProperty -Path `
"HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\DataCollection" -Name AllowTelemetry).AllowTelemetry}
### Set & Get updated AllowTelemetry value for all AzS-VMs
invoke-command -computername $AzSVMs.name {Set-ItemProperty -Path `
"HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\DataCollection" -Name "AllowTelemetry" -Value '0'}
invoke-command -computername $AzSVMs.name {(Get-ItemProperty -Path `
"HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\DataCollection" -Name AllowTelemetry).AllowTelemetry}
```

Настройка телеметрии SQL Server в разделе [Настройка SQL Server 2016](https://support.microsoft.com/en-us/help/3153756/how-to-configure-sql-server-2016-to-send-feedback-to-microsoft).

### <a name="usage-reporting"></a>Отчеты об использовании

Посредством регистрации стек Azure также настроен для прямого использования информации в Azure. Отчеты об использовании контролируются независимо от телеметрии. Можно отключить отчетов при использовании [регистрации](azure-stack-register.md) с помощью скрипта на сайте Github. Просто установите **$reportUsage** параметр **$false**.

Данные об использовании форматируется, подробно описанные в [данные об использовании отчетов Azure стека в Azure](https://docs.microsoft.com/en-us/azure/azure-stack/azure-stack-usage-reporting). Пользователей стека пакет средств разработки Azure фактически не взимается. Эта функция включается в пакет средств разработки, можно проверить, чтобы увидеть, как работает отчеты об использовании. 


## <a name="next-steps"></a>Дальнейшие действия
[Загрузить пакет развертывания комплект средств для разработки стек Azure](https://azure.microsoft.com/overview/azure-stack/try/?v=try)

[Развертывание пакета средств разработки стек Azure](azure-stack-run-powershell-script.md)

