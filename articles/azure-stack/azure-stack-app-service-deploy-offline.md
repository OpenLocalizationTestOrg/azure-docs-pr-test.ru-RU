---
title: "Развернуть в автономной среде службы приложений: стек Azure | Документы Microsoft"
description: "Подробные инструкции по способ защиты toodeploy службы приложений в отключенной среде Azure стека с помощью AD FS."
services: azure-stack
documentationcenter: 
author: apwestgarth
manager: stefsch
editor: 
ms.assetid: 
ms.service: azure-stack
ms.workload: app-service
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 7/3/2017
ms.author: anwestg
ms.openlocfilehash: f7992c310532427b5ffb88555faab2679023c876
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="add-an-app-service-resource-provider-tooa-disconnected-azure-stack-environment-secured-by-ad-fs"></a><span data-ttu-id="5b1b7-103">Добавить среду Azure стека, защищенным AD FS отключен tooa поставщик ресурсов службы приложений</span><span class="sxs-lookup"><span data-stu-id="5b1b7-103">Add an App Service resource provider tooa disconnected Azure Stack environment secured by AD FS</span></span>

<span data-ttu-id="5b1b7-104">Необходимо добавить [поставщик ресурсов в службе приложений Azure](azure-stack-app-service-overview.md) tooyour развертывания Azure стека:</span><span class="sxs-lookup"><span data-stu-id="5b1b7-104">You must add an [Azure App Service resource provider](azure-stack-app-service-overview.md) tooyour Azure Stack deployment:</span></span>

* <span data-ttu-id="5b1b7-105">Если вы используете Azure стека в изолированной среде защищенным службами федерации Active Directory (AD FS).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-105">If you're running Azure Stack in an isolated environment secured by Active Directory Federation Services (AD FS).</span></span> 
* <span data-ttu-id="5b1b7-106">Если вы хотите toogive web toocreate возможность hello клиентов, мобильных устройств и приложения API — и приложения Azure функции — вместе с подпиской Azure стека.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-106">If you want toogive your tenants hello capability toocreate web, mobile, and API applications--and Azure Functions applications--with their Azure Stack subscription.</span></span> 

<span data-ttu-id="5b1b7-107">toodo таким образом, выполните действия hello в этой статье.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-107">toodo so, follow hello steps in this article.</span></span>

## <a name="download-hello-required-components"></a><span data-ttu-id="5b1b7-108">Загрузить hello необходимые компоненты</span><span class="sxs-lookup"><span data-stu-id="5b1b7-108">Download hello required components</span></span>

1. <span data-ttu-id="5b1b7-109">Загрузите hello [службы приложений Azure стека предварительной версии установщика](http://aka.ms/appsvconmasrc1installer).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-109">Download hello [App Service on Azure Stack preview installer](http://aka.ms/appsvconmasrc1installer).</span></span>

2. <span data-ttu-id="5b1b7-110">Загрузите hello [службы приложений на скрипты поддержки развертывания Azure стека](http://aka.ms/appsvconmasrc1helper).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-110">Download hello [App Service on Azure Stack deployment helper scripts](http://aka.ms/appsvconmasrc1helper).</span></span>

3. <span data-ttu-id="5b1b7-111">Извлеките файлы hello из hello вспомогательных сценариев ZIP-файл.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-111">Extract hello files from hello helper scripts zip file.</span></span> <span data-ttu-id="5b1b7-112">Hello следующие файлы и структуру папок отображаются:</span><span class="sxs-lookup"><span data-stu-id="5b1b7-112">hello following files and folder structure appear:</span></span>

   - <span data-ttu-id="5b1b7-113">Создание AppServiceCerts.ps1</span><span class="sxs-lookup"><span data-stu-id="5b1b7-113">Create-AppServiceCerts.ps1</span></span>
   - <span data-ttu-id="5b1b7-114">Создание IdentityApp.ps1</span><span class="sxs-lookup"><span data-stu-id="5b1b7-114">Create-IdentityApp.ps1</span></span>
   - <span data-ttu-id="5b1b7-115">модули</span><span class="sxs-lookup"><span data-stu-id="5b1b7-115">Modules</span></span>
      - <span data-ttu-id="5b1b7-116">AzureStack.Identity.psm1</span><span class="sxs-lookup"><span data-stu-id="5b1b7-116">AzureStack.Identity.psm1</span></span>
      - <span data-ttu-id="5b1b7-117">GraphAPI.psm1</span><span class="sxs-lookup"><span data-stu-id="5b1b7-117">GraphAPI.psm1</span></span>

## <a name="create-an-offline-installation-package"></a><span data-ttu-id="5b1b7-118">Создайте автономный пакет установки</span><span class="sxs-lookup"><span data-stu-id="5b1b7-118">Create an offline installation package</span></span>

<span data-ttu-id="5b1b7-119">toodeploy службы приложений в изолированной среде, необходимо создать автономный пакет установки с компьютера, который подключается toohello Интернет.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-119">toodeploy App Service in an isolated environment, you must create an offline installation package from a machine that connects toohello Internet.</span></span>

1. <span data-ttu-id="5b1b7-120">Выполните hello службы приложений Azure стека Предварительная версия установщика (AppService.exe) на машине подключенный toohello Интернета.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-120">Run hello App Service on Azure Stack preview installer (AppService.exe) from a machine that's connected toohello Internet.</span></span>

2. <span data-ttu-id="5b1b7-121">Нажмите кнопку hello **Дополнительно** и нажмите кнопку **создать автономный пакет установки**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-121">Click hello **Advanced** tab, and click **Create offline installation package**.</span></span>

    ![Службы приложений в Azure стека создать автономный пакет установки][1]

3. <span data-ttu-id="5b1b7-123">Hello установщика службы приложений создает автономный пакет установки, отображает путь hello и предоставляет параметр tooopen hello папки.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-123">hello App Service installer creates an offline installation package, displays hello path, and gives an option tooopen hello folder.</span></span>

   ![Службы приложений в Azure стека автономный пакет установки][2]

4. <span data-ttu-id="5b1b7-125">Скопируйте hello службы приложений на установщик предварительной версии Azure стека (AppService.exe) и hello автономной установки пакета toohello стека Azure хост-компьютера.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-125">Copy hello App Service on Azure Stack preview installer (AppService.exe) and hello offline installation package toohello Azure Stack host machine.</span></span>

## <a name="create-certificates-required-by-app-service-on-azure-stack"></a><span data-ttu-id="5b1b7-126">Создать сертификаты, необходимые для приложения службы стек Azure</span><span class="sxs-lookup"><span data-stu-id="5b1b7-126">Create certificates required by App Service on Azure Stack</span></span>

<span data-ttu-id="5b1b7-127">Первый сценарий работает с hello Azure стека сертификат центра toocreate три сертификаты, необходимые для приложения службы.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-127">This first script works with hello Azure Stack certificate authority toocreate three certificates that App Service needs.</span></span> <span data-ttu-id="5b1b7-128">Запустить сценарий hello на узле Azure стека hello и убедитесь, что вы используете PowerShell как azurestack\administrator.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-128">Run hello script on hello Azure Stack host and ensure that you're running PowerShell as azurestack\administrator.</span></span>

1. <span data-ttu-id="5b1b7-129">В сеансе PowerShell, выполняющийся как azurestack\administrator, выполнение hello **AppServiceCerts.ps1 создать** сценарий из расположения hello, которую было извлечено hello вспомогательных сценариев.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-129">In a PowerShell session running as azurestack\administrator, execute hello **Create-AppServiceCerts.ps1** script from hello location where you extracted hello helper scripts.</span></span>  <span data-ttu-id="5b1b7-130">Hello скрипт создает три сертификата в hello же папке, что hello создайте скрипт сертификаты, которые требуются службы приложений.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-130">hello script creates three certificates in hello same folder as hello create certificates script that are needed by App Service.</span></span>

2. <span data-ttu-id="5b1b7-131">Введите пароль toosecure hello PFX-файлов и запишите его.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-131">Enter a password toosecure hello .pfx files, and make a note of it.</span></span> <span data-ttu-id="5b1b7-132">Требуется tooenter в hello службы приложений Azure стека установщика.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-132">You need tooenter it in hello App Service on Azure Stack installer.</span></span>

### <a name="create-appservicecertsps1-parameters"></a><span data-ttu-id="5b1b7-133">Параметры создания AppServiceCerts.ps1</span><span class="sxs-lookup"><span data-stu-id="5b1b7-133">Create-AppServiceCerts.ps1 parameters</span></span>

| <span data-ttu-id="5b1b7-134">Параметр</span><span class="sxs-lookup"><span data-stu-id="5b1b7-134">Parameter</span></span> | <span data-ttu-id="5b1b7-135">Обязательный или необязательный</span><span class="sxs-lookup"><span data-stu-id="5b1b7-135">Required/optional</span></span> | <span data-ttu-id="5b1b7-136">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="5b1b7-136">Default value</span></span> | <span data-ttu-id="5b1b7-137">Описание</span><span class="sxs-lookup"><span data-stu-id="5b1b7-137">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="5b1b7-138">PfxPassword</span><span class="sxs-lookup"><span data-stu-id="5b1b7-138">pfxPassword</span></span> | <span data-ttu-id="5b1b7-139">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-139">Required</span></span> | <span data-ttu-id="5b1b7-140">Null</span><span class="sxs-lookup"><span data-stu-id="5b1b7-140">Null</span></span> | <span data-ttu-id="5b1b7-141">Пароль, используемый tooprotect hello закрытого ключа сертификата</span><span class="sxs-lookup"><span data-stu-id="5b1b7-141">Password used tooprotect hello certificate private key</span></span> |
| <span data-ttu-id="5b1b7-142">Имя домена</span><span class="sxs-lookup"><span data-stu-id="5b1b7-142">DomainName</span></span> | <span data-ttu-id="5b1b7-143">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-143">Required</span></span> | <span data-ttu-id="5b1b7-144">Local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="5b1b7-144">local.azurestack.external</span></span> | <span data-ttu-id="5b1b7-145">Суффикс области и домен для Azure стека</span><span class="sxs-lookup"><span data-stu-id="5b1b7-145">Azure Stack region and domain suffix</span></span> |
| <span data-ttu-id="5b1b7-146">CertificateAuthority</span><span class="sxs-lookup"><span data-stu-id="5b1b7-146">CertificateAuthority</span></span> | <span data-ttu-id="5b1b7-147">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-147">Required</span></span> | <span data-ttu-id="5b1b7-148">AzS CA01.azurestack.local</span><span class="sxs-lookup"><span data-stu-id="5b1b7-148">AzS-CA01.azurestack.local</span></span> | <span data-ttu-id="5b1b7-149">Конечная точка центра сертификации</span><span class="sxs-lookup"><span data-stu-id="5b1b7-149">Certificate authority endpoint</span></span> |

## <a name="complete-hello-offline-installation-of-app-service-on-azure-stack"></a><span data-ttu-id="5b1b7-150">Выполнить автономную установку службы приложений Azure стеке hello</span><span class="sxs-lookup"><span data-stu-id="5b1b7-150">Complete hello offline installation of App Service on Azure Stack</span></span>

> [!NOTE]
> <span data-ttu-id="5b1b7-151">Вы *должен* использовать установщик hello tooexecute с повышенными привилегиями учетную запись (локальный администратор или администратор домена).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-151">You *must* use an elevated account (local or domain administrator) tooexecute hello installer.</span></span> <span data-ttu-id="5b1b7-152">При входе в систему качестве azurestack\azurestackuser вам предложат ввести учетные данные с повышенными привилегиями.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-152">If you sign in as azurestack\azurestackuser, you're prompted for elevated credentials.</span></span>

1. <span data-ttu-id="5b1b7-153">Запустите appservice.exe azurestack\administrator.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-153">Run appservice.exe as azurestack\administrator.</span></span>

2. <span data-ttu-id="5b1b7-154">Нажмите кнопку hello **Дополнительно** и нажмите кнопку **выполнения установки в автономном режиме**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-154">Click hello **Advanced** tab, and click **Complete offline installation**.</span></span>

    ![Службы приложений на полный стек Azure автономной установки.][3]

3. <span data-ttu-id="5b1b7-156">Укажите расположение hello hello автономный пакет установки ранее созданного и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-156">Specify hello location of hello offline installation package you previously created, and click **Next**.</span></span>

    ![Службы приложений Azure стека расположением автономный пакет установки][4]

4. <span data-ttu-id="5b1b7-158">Прочитайте и примите условия лицензии предварительный выпуск программного обеспечения Microsoft hello и нажмите **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-158">Review and accept hello Microsoft Software Prerelease License Terms, and click **Next**.</span></span>

5. <span data-ttu-id="5b1b7-159">Прочтите и примите условия лицензии на сторонние hello и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-159">Review and accept hello third-party license terms, and click **Next**.</span></span>

6. <span data-ttu-id="5b1b7-160">Просмотрите hello службы приложений облачных сведения о конфигурации и нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-160">Review hello App Service cloud configuration information, and click **Next**.</span></span>

    ![Службы приложений Azure стека облачной конфигурации][5]

    > [!NOTE]
    > <span data-ttu-id="5b1b7-162">Hello службы приложений Azure стека установщика предоставляет значения по умолчанию hello для установки Azure стека одного узла.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-162">hello App Service on Azure Stack installer provides hello default values for a one-node Azure Stack installation.</span></span> <span data-ttu-id="5b1b7-163">Если вы настроили параметры при развертывании Azure стека (например, суффикс домена hello), требуются tooedit hello значения в этом окне соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-163">If you customized options when you deployed Azure Stack (for example, hello domain suffix), you need tooedit hello values in this window accordingly.</span></span> <span data-ttu-id="5b1b7-164">Например при использовании mycloud.com, формируются суффикс домена hello конечную точку диспетчера ресурсов Azure администратора должна toochange tooadminmanagement. [region]. mycloud.com, формируются.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-164">For example, if you use hello domain suffix mycloud.com, your admin Azure Resource Manager endpoint needs toochange tooadminmanagement.[region].mycloud.com.</span></span>

7. <span data-ttu-id="5b1b7-165">Щелкните hello **Connect** кнопку Далее toohello **подписок Azure стека** поле.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-165">Click hello **Connect** button next toohello **Azure Stack Subscriptions** box.</span></span> <span data-ttu-id="5b1b7-166">Например, введите учетной записью администратора azurestackadmin@azurestack.local.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-166">Enter your admin account, for example, azurestackadmin@azurestack.local.</span></span> <span data-ttu-id="5b1b7-167">Введите пароль и нажмите кнопку **входа**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-167">Enter your password, and click **Sign In**.</span></span>

8. <span data-ttu-id="5b1b7-168">Выберите подписку в hello **подписок Azure стека** поле.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-168">Select your subscription in hello **Azure Stack Subscriptions** box.</span></span>

9. <span data-ttu-id="5b1b7-169">В hello **стек расположения Azure** поле hello выберите расположение, которое соответствует области toohello вы развертываете.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-169">In hello **Azure Stack Locations** box, select hello location that corresponds toohello region you're deploying.</span></span> <span data-ttu-id="5b1b7-170">Например, выберите **локальной**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-170">For example, select **local**.</span></span> <span data-ttu-id="5b1b7-171">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-171">Click **Next**.</span></span>

    ![Службы приложений для выбора подписки в стек Azure][6]

10. <span data-ttu-id="5b1b7-173">Введите hello **имя группы ресурсов** для развертывания приложения службы.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-173">Enter hello **Resource Group Name** for your App Service deployment.</span></span> <span data-ttu-id="5b1b7-174">По умолчанию установлено слишком**APPSERVICE локальной**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-174">By default, it's set too**APPSERVICE-LOCAL**.</span></span>

11. <span data-ttu-id="5b1b7-175">Введите hello **имя учетной записи хранения** требуется toocreate службы приложений в процессе установки hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-175">Enter hello **Storage Account Name** you want App Service toocreate as part of hello installation.</span></span> <span data-ttu-id="5b1b7-176">По умолчанию установлено слишком**appsvclocalstor**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-176">By default, it's set too**appsvclocalstor**.</span></span>

12. <span data-ttu-id="5b1b7-177">Введите сведения о hello SQL Server для экземпляра hello с используемым toohost hello баз данных поставщика ресурсов приложения службы.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-177">Enter hello SQL Server details for hello instance that's used toohost hello App Service resource provider databases.</span></span> <span data-ttu-id="5b1b7-178">Нажмите кнопку **Далее**, и hello установщик проверяет свойства соединения SQL hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-178">Click **Next**, and hello installer validates hello SQL connection properties.</span></span>

13. <span data-ttu-id="5b1b7-179">Нажмите кнопку hello **Обзор** кнопку Далее toohello **файла сертификата SSL по умолчанию приложение службы** поле.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-179">Click hello **Browse** button next toohello **App Service default SSL certificate file** box.</span></span> <span data-ttu-id="5b1b7-180">Go toohello **_.appservice.local.AzureStack.external** сертификат [созданную ранее](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-180">Go toohello **_.appservice.local.AzureStack.external** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span></span> <span data-ttu-id="5b1b7-181">Если при создании сертификата hello указано другое расположение и суффикс домена, выберите соответствующий сертификат hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-181">If you specified a different location and domain suffix when you created hello certificate, select hello corresponding certificate.</span></span>

14. <span data-ttu-id="5b1b7-182">Введите пароль сертификата hello, заданный при создании сертификата hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-182">Enter hello certificate password that you set when you created hello certificate.</span></span>

15. <span data-ttu-id="5b1b7-183">Нажмите кнопку hello **Обзор** кнопку Далее toohello **файла SSL-сертификата поставщика ресурсов** поле.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-183">Click hello **Browse** button next toohello **Resource provider SSL certificate file** box.</span></span> <span data-ttu-id="5b1b7-184">Go toohello **api.appservice.local.AzureStack.external** сертификат [созданную ранее](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-184">Go toohello **api.appservice.local.AzureStack.external** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span></span> <span data-ttu-id="5b1b7-185">Если при создании сертификата hello указано другое расположение и суффикс домена, выберите соответствующий сертификат hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-185">If you specified a different location and domain suffix when you created hello certificate, select hello corresponding certificate.</span></span>

16. <span data-ttu-id="5b1b7-186">Введите пароль сертификата hello, заданный при создании сертификата hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-186">Enter hello certificate password that you set when you created hello certificate.</span></span>

17. <span data-ttu-id="5b1b7-187">Нажмите кнопку hello **Обзор** кнопку Далее toohello **файл корневого сертификата для поставщика ресурсов** поле.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-187">Click hello **Browse** button next toohello **Resource provider root certificate file** box.</span></span> <span data-ttu-id="5b1b7-188">Go toohello **AzureStackCertificationAuthority** сертификат [созданную ранее](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-188">Go toohello **AzureStackCertificationAuthority** certificate [created earlier](#Create-Certificates-To-Be-Used-By-Azure-Stack-Web-Apps).</span></span>

18. <span data-ttu-id="5b1b7-189">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-189">Click **Next**.</span></span> <span data-ttu-id="5b1b7-190">Установщик Hello проверяет hello пароль сертификата.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-190">hello installer verifies hello certificate password provided.</span></span>

    ![Службы приложений на сведения о сертификате стек Azure][8]

19. <span data-ttu-id="5b1b7-192">Просмотрите hello конфигурации роли служб приложений.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-192">Review hello App Service role configuration.</span></span> <span data-ttu-id="5b1b7-193">значения по умолчанию Hello заполняются hello минимальный рекомендуемый экземпляр номера SKU для каждой роли.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-193">hello defaults are populated with hello minimum recommended instance SKUs for each role.</span></span> <span data-ttu-id="5b1b7-194">Toohelp спланировать развертывание предоставляется Сводка требований к ядер и памяти.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-194">A summary of core and memory requirements is provided toohelp plan your deployment.</span></span> <span data-ttu-id="5b1b7-195">После выбора настроек нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-195">After you make your selections, click **Next**.</span></span>

    - <span data-ttu-id="5b1b7-196">**Контроллер**: по умолчанию выбирается один экземпляр Standard A1.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-196">**Controller**: By default, one Standard A1 instance is selected.</span></span> <span data-ttu-id="5b1b7-197">Это минимальный hello, мы рекомендуем.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-197">This is hello minimum we recommend.</span></span> <span data-ttu-id="5b1b7-198">роль контроллера Hello отвечает за управление и обслуживание hello работоспособности hello облачной службы приложений.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-198">hello Controller role is responsible for managing and maintaining hello health of hello App Service cloud.</span></span>
    - <span data-ttu-id="5b1b7-199">**Управление**: по умолчанию выбирается один экземпляр Standard A2.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-199">**Management**: By default, one Standard A2 instance is selected.</span></span> <span data-ttu-id="5b1b7-200">При сбое tooprovide, мы рекомендуем два экземпляра.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-200">tooprovide failover, we recommend two instances.</span></span> <span data-ttu-id="5b1b7-201">Hello роль управления отвечает за hello диспетчера ресурсов Azure для приложения службы и конечные точки API, портала расширения (администратора, клиент, функции портала) и службы данных hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-201">hello Management role is responsible for hello App Service Azure Resource Manager and API endpoints, portal extensions (admin, tenant, Functions portal), and hello data service.</span></span>
    - <span data-ttu-id="5b1b7-202">**Издатель**: по умолчанию выбирается один экземпляр Standard A1.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-202">**Publisher**: By default, one Standard A1 instance is selected.</span></span> <span data-ttu-id="5b1b7-203">Это минимальный hello, мы рекомендуем.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-203">This is hello minimum we recommend.</span></span> <span data-ttu-id="5b1b7-204">роль издателя Hello отвечает за публикации содержимого через FTP и веб-развертывания.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-204">hello Publisher role is responsible for publishing content via FTP and web deployment.</span></span>
    - <span data-ttu-id="5b1b7-205">**Интерфейсный**: по умолчанию выбирается один экземпляр Standard A1.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-205">**FrontEnd**: By default, one Standard A1 instance is selected.</span></span> <span data-ttu-id="5b1b7-206">Это минимальный hello, мы рекомендуем.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-206">This is hello minimum we recommend.</span></span> <span data-ttu-id="5b1b7-207">роль внешнего интерфейса Hello отвечает за маршрутизации запросов tooApp службы приложений.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-207">hello FrontEnd role is responsible for routing requests tooApp Service applications.</span></span>
    - <span data-ttu-id="5b1b7-208">**Общий рабочий процесс**: по умолчанию выбирается один экземпляр Standard A1, но может потребоваться несколько tooadd.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-208">**Shared Worker**: By default, one Standard A1 instance is selected, but you might want tooadd more.</span></span> <span data-ttu-id="5b1b7-209">Как администратор можно определить предложение и выбрать любой уровень номера SKU.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-209">As an administrator, you can define your offering and choose any SKU tier.</span></span> <span data-ttu-id="5b1b7-210">уровни Hello должен иметь как минимум одно ядро.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-210">hello tiers must have a minimum of one core.</span></span> <span data-ttu-id="5b1b7-211">Hello роли общего рабочего процесса отвечает за размещение web, мобильных устройств, или API приложения и приложения Azure функции.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-211">hello Shared Worker role is responsible for hosting web, mobile, or API applications and Azure Functions apps.</span></span>

    ![Службы приложений Azure стека конфигурации роли][9]

    > [!NOTE]
    > <span data-ttu-id="5b1b7-213">В технических предварительных версиях hello hello установщик поставщика ресурсов службы приложений развертывает экземпляр Standard A1 toooperate как toosupport приветствия простой файл сервера диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-213">In hello technical previews, hello App Service resource provider installer also deploys a Standard A1 instance toooperate as a simple file server toosupport hello Azure Resource Manager.</span></span> <span data-ttu-id="5b1b7-214">Это продолжается для одного узла точки контакта.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-214">This remains for a single-node point of contact.</span></span> <span data-ttu-id="5b1b7-215">Для рабочих нагрузок в общедоступной hello службы приложений установщик позволяет использовать hello высокого уровня доступности файлового сервера.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-215">For production workloads, at general availability hello App Service installer enables hello use of a high-availability file server.</span></span>

20. <span data-ttu-id="5b1b7-216">Выберите развертывание **Windows Server 2016** образа виртуальной Машины из доступных в поставщике ресурсов вычислений hello для hello облачной службы приложений.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-216">Choose your deployment **Windows Server 2016** VM image from those available in hello compute resource provider for hello App Service cloud.</span></span> <span data-ttu-id="5b1b7-217">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-217">Click **Next**.</span></span> 

    ![Службы приложений на выбор образа виртуальной Машины стек Azure][10]

21. <span data-ttu-id="5b1b7-219">Введите имя пользователя и пароль для hello рабочих ролей, настроенные в hello облачной службы приложений.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-219">Enter a user name and password for hello Worker roles configured in hello App Service cloud.</span></span> <span data-ttu-id="5b1b7-220">Введите имя пользователя и пароль для всех других ролей служб приложений.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-220">Enter a user name and password for all other App Service roles.</span></span> <span data-ttu-id="5b1b7-221">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-221">Click **Next**.</span></span>

    ![Службы приложений для входа в учетную запись Azure стека][11]

22. <span data-ttu-id="5b1b7-223">Проверьте hello настроек, заданных на сводку hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-223">On hello summary screen, verify hello selections you made.</span></span> <span data-ttu-id="5b1b7-224">изменения toomake вернитесь через экраны hello и изменить выбранные параметры.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-224">toomake changes, go back through hello screens and modify your selections.</span></span> <span data-ttu-id="5b1b7-225">Если конфигурация hello способ, установите флажок hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-225">If hello configuration is how you want it, select hello check box.</span></span> <span data-ttu-id="5b1b7-226">Развертывание toostart hello, нажмите кнопку **Далее**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-226">toostart hello deployment, click **Next**.</span></span> 

    ![Службы приложений на сводки по выбору стек Azure][12]

23. <span data-ttu-id="5b1b7-228">Отслеживание хода выполнения установки hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-228">Track hello installation progress.</span></span> <span data-ttu-id="5b1b7-229">Службы приложений Azure стеке занимает около 45 минут toodeploy too60, на основе выбранных по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-229">App Service on Azure Stack takes about 45 too60 minutes toodeploy based on hello default selections.</span></span>

    ![Службы приложений на ход выполнения установки стек Azure][13]

24. <span data-ttu-id="5b1b7-231">После успешного завершения работы установщика hello, нажмите кнопку **выхода**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-231">After hello installer successfully finishes, click **Exit**.</span></span>

## <a name="configure-an-ad-fs-service-principal-for-virtual-machine-scale-set-integration-on-worker-tiers-and-sso-for-hello-azure-functions-portal-and-advanced-developer-tools"></a><span data-ttu-id="5b1b7-232">Настройте участника-службы AD FS для интеграции набора масштабирования виртуальной машины на рабочие уровни и единый вход для средств разработчика портала и расширенных функций Azure hello</span><span class="sxs-lookup"><span data-stu-id="5b1b7-232">Configure an AD FS service principal for virtual machine scale set integration on Worker tiers and SSO for hello Azure Functions portal and advanced developer tools</span></span>

>[!NOTE]
> <span data-ttu-id="5b1b7-233">Эти шаги применимы tooAD прощелкать FS только в средах Azure стека.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-233">These steps apply tooAD FS secured Azure Stack environments only.</span></span>

<span data-ttu-id="5b1b7-234">Администраторы должны tooconfigure единого входа для:</span><span class="sxs-lookup"><span data-stu-id="5b1b7-234">Administrators need tooconfigure SSO to:</span></span>

* <span data-ttu-id="5b1b7-235">Настройте участника-службы для интеграции набора масштабирования виртуальной машины на рабочих уровнях.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-235">Configure a service principal for virtual machine scale set integration on Worker tiers.</span></span>
* <span data-ttu-id="5b1b7-236">Включите дополнительные средства для разработчиков в рамках службы приложений (Kudu) hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-236">Enable hello advanced developer tools within App Service (Kudu).</span></span>
* <span data-ttu-id="5b1b7-237">Включите использование hello взаимодействие с порталом Azure функции hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-237">Enable hello use of hello Azure Functions portal experience.</span></span> 

<span data-ttu-id="5b1b7-238">Выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-238">Follow these steps:</span></span>

1. <span data-ttu-id="5b1b7-239">Откройте экземпляр PowerShell от azurestack\azurestackadmin.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-239">Open a PowerShell instance as azurestack\azurestackadmin.</span></span>

2. <span data-ttu-id="5b1b7-240">Перейдите в расположение toohello скриптов hello загрузили и извлекли в hello [подготовительного шага](#Download-Required-Components).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-240">Go toohello location of hello scripts downloaded and extracted in hello [prerequisite step](#Download-Required-Components).</span></span>

3. <span data-ttu-id="5b1b7-241">[Установка](azure-stack-powershell-install.md) и [настройке среды Azure PowerShell стека](azure-stack-powershell-configure-admin.md).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-241">[Install](azure-stack-powershell-install.md) and [configure an Azure Stack PowerShell environment](azure-stack-powershell-configure-admin.md).</span></span>

4. <span data-ttu-id="5b1b7-242">В hello сеанс PowerShell, запустите hello **CreateIdentityApp.ps1** сценария.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-242">In hello same PowerShell session, run hello **CreateIdentityApp.ps1** script.</span></span> <span data-ttu-id="5b1b7-243">При запросе для идентификатора клиента Azure Active Directory (Azure AD) введите **ADFS**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-243">When you're prompted for your Azure Active Directory (Azure AD) tenant ID, enter **ADFS**.</span></span>

5. <span data-ttu-id="5b1b7-244">В hello **учетные данные** окно, введите учетную запись администратора службы AD FS и пароль.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-244">In hello **Credential** window, enter your AD FS service admin account and password.</span></span> <span data-ttu-id="5b1b7-245">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-245">Click **OK**.</span></span>

6. <span data-ttu-id="5b1b7-246">Введите hello путь и сертификата пароль для файла сертификата для hello [сертификат, созданный ранее](# Create certificates toobe used by App Service on Azure Stack).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-246">Enter hello certificate file path and certificate password for hello [certificate created earlier](# Create certificates toobe used by App Service on Azure Stack).</span></span> <span data-ttu-id="5b1b7-247">Hello сертификат, созданный по умолчанию для этого шага является sso.appservice.local.azurestack.external.pfx.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-247">hello certificate created for this step by default is sso.appservice.local.azurestack.external.pfx.</span></span>

7. <span data-ttu-id="5b1b7-248">Hello скрипт создает новое приложение в клиенте hello Azure AD и создает новый скрипт PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-248">hello script creates a new application in hello tenant Azure AD and generates a new PowerShell script.</span></span>

8. <span data-ttu-id="5b1b7-249">Скопируйте файл сертификата приложения удостоверение hello и hello созданный скрипт toohello **CN0 ВМ** с помощью сеансов удаленного рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-249">Copy hello identity app certificate file and hello generated script toohello **CN0-VM** by using a remote desktop session.</span></span>

9. <span data-ttu-id="5b1b7-250">Возвращает слишком**CN0 ВМ**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-250">Return too**CN0-VM**.</span></span>

10. <span data-ttu-id="5b1b7-251">Откройте окно администратора PowerShell и обзор каталога toohello, куда были скопированы файл скрипта hello и сертификат на шаге 7.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-251">Open an administrator PowerShell window, and browse toohello directory where hello script file and certificate were copied in step 7.</span></span>

11. <span data-ttu-id="5b1b7-252">Запустите файл скрипта hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-252">Run hello script file.</span></span> <span data-ttu-id="5b1b7-253">Этот файл сценария вводит свойства hello в hello службы приложений Azure стека конфигурации и инициирует операцию восстановления всех переднего плана и управления ролями.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-253">This script file enters hello properties in hello App Service on Azure Stack configuration and initiates a repair operation on all FrontEnd and Management roles.</span></span>

| <span data-ttu-id="5b1b7-254">Параметр</span><span class="sxs-lookup"><span data-stu-id="5b1b7-254">Parameter</span></span> | <span data-ttu-id="5b1b7-255">Обязательный или необязательный</span><span class="sxs-lookup"><span data-stu-id="5b1b7-255">Required/optional</span></span> | <span data-ttu-id="5b1b7-256">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="5b1b7-256">Default value</span></span> | <span data-ttu-id="5b1b7-257">Описание</span><span class="sxs-lookup"><span data-stu-id="5b1b7-257">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="5b1b7-258">DirectoryTenantName</span><span class="sxs-lookup"><span data-stu-id="5b1b7-258">DirectoryTenantName</span></span> | <span data-ttu-id="5b1b7-259">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-259">Mandatory</span></span> | <span data-ttu-id="5b1b7-260">Null</span><span class="sxs-lookup"><span data-stu-id="5b1b7-260">Null</span></span> | <span data-ttu-id="5b1b7-261">Используйте **ADFS** для среды hello AD FS</span><span class="sxs-lookup"><span data-stu-id="5b1b7-261">Use **ADFS** for hello AD FS environment</span></span> |
| <span data-ttu-id="5b1b7-262">ManagerEndpoint TenantAzure ресурсов</span><span class="sxs-lookup"><span data-stu-id="5b1b7-262">TenantAzure Resource ManagerEndpoint</span></span> | <span data-ttu-id="5b1b7-263">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-263">Mandatory</span></span> | <span data-ttu-id="5b1b7-264">Management.local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="5b1b7-264">management.local.azurestack.external</span></span> | <span data-ttu-id="5b1b7-265">Hello клиента конечную точку диспетчера ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="5b1b7-265">hello tenant Azure Resource Manager endpoint</span></span> |
| <span data-ttu-id="5b1b7-266">AzureStackCredential</span><span class="sxs-lookup"><span data-stu-id="5b1b7-266">AzureStackCredential</span></span> | <span data-ttu-id="5b1b7-267">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-267">Mandatory</span></span> | <span data-ttu-id="5b1b7-268">Null</span><span class="sxs-lookup"><span data-stu-id="5b1b7-268">Null</span></span> | <span data-ttu-id="5b1b7-269">Здравствуйте, учетную запись администратора службы AD FS</span><span class="sxs-lookup"><span data-stu-id="5b1b7-269">hello AD FS service admin account</span></span> |
| <span data-ttu-id="5b1b7-270">Параметр</span><span class="sxs-lookup"><span data-stu-id="5b1b7-270">CertificateFilePath</span></span> | <span data-ttu-id="5b1b7-271">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-271">Mandatory</span></span> | <span data-ttu-id="5b1b7-272">Null</span><span class="sxs-lookup"><span data-stu-id="5b1b7-272">Null</span></span> | <span data-ttu-id="5b1b7-273">Путь toohello удостоверение приложения сертификат созданные более ранних версий</span><span class="sxs-lookup"><span data-stu-id="5b1b7-273">Path toohello identity application certificate file generated earlier</span></span> |
| <span data-ttu-id="5b1b7-274">CertificatePassword</span><span class="sxs-lookup"><span data-stu-id="5b1b7-274">CertificatePassword</span></span> | <span data-ttu-id="5b1b7-275">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-275">Mandatory</span></span> | <span data-ttu-id="5b1b7-276">Null</span><span class="sxs-lookup"><span data-stu-id="5b1b7-276">Null</span></span> | <span data-ttu-id="5b1b7-277">Пароль, используемый tooprotect hello закрытого ключа сертификата</span><span class="sxs-lookup"><span data-stu-id="5b1b7-277">Password used tooprotect hello certificate private key</span></span> |
| <span data-ttu-id="5b1b7-278">Имя домена</span><span class="sxs-lookup"><span data-stu-id="5b1b7-278">DomainName</span></span> | <span data-ttu-id="5b1b7-279">Обязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-279">Required</span></span> | <span data-ttu-id="5b1b7-280">Local.azurestack.external</span><span class="sxs-lookup"><span data-stu-id="5b1b7-280">local.azurestack.external</span></span> | <span data-ttu-id="5b1b7-281">Суффикс области и домен для Azure стека</span><span class="sxs-lookup"><span data-stu-id="5b1b7-281">Azure Stack region and domain suffix</span></span> |
| <span data-ttu-id="5b1b7-282">AdfsMachineName</span><span class="sxs-lookup"><span data-stu-id="5b1b7-282">AdfsMachineName</span></span> | <span data-ttu-id="5b1b7-283">Необязательно</span><span class="sxs-lookup"><span data-stu-id="5b1b7-283">Optional</span></span> | <span data-ttu-id="5b1b7-284">Имя машины AD FS, например, AzS ADFS01.azurestack.local</span><span class="sxs-lookup"><span data-stu-id="5b1b7-284">AD FS machine name, for example, AzS-ADFS01.azurestack.local</span></span> |


## <a name="validate-hello-app-service-on-azure-stack-installation"></a><span data-ttu-id="5b1b7-285">Проверка hello службы приложений при установке стек Azure</span><span class="sxs-lookup"><span data-stu-id="5b1b7-285">Validate hello App Service on Azure Stack installation</span></span>

1. <span data-ttu-id="5b1b7-286">Откройте в портал администрирования hello Azure стека, toohello группы ресурсов, созданные с помощью установщика hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-286">In hello Azure Stack admin portal, browse toohello resource group created by hello installer.</span></span> <span data-ttu-id="5b1b7-287">По умолчанию эта группа является **APPSERVICE локальной**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-287">By default, this group is **APPSERVICE-LOCAL**.</span></span>

2. <span data-ttu-id="5b1b7-288">Найдите hello **CN0 ВМ**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-288">Locate hello **CN0-VM**.</span></span> <span data-ttu-id="5b1b7-289">tooconnect toohello виртуальной Машины, нажмите кнопку **Connect** на hello **виртуальной машины** колонку.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-289">tooconnect toohello VM, click **Connect** on hello **Virtual Machine** blade.</span></span>

3. <span data-ttu-id="5b1b7-290">На рабочем столе hello этой виртуальной машины, дважды щелкните **управления облака веб-консоли**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-290">On hello desktop of this VM, double-click **Web Cloud Management Console**.</span></span>

4. <span data-ttu-id="5b1b7-291">Go слишком**серверы, управляемые**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-291">Go too**Managed Servers**.</span></span>

5. <span data-ttu-id="5b1b7-292">При всех hello отображения машины **готов** для одного или нескольких сотрудников, продолжить toostep 6.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-292">When all hello machines display **Ready** for one or more Workers, proceed toostep 6.</span></span>

6. <span data-ttu-id="5b1b7-293">Закройте окно hello удаленного рабочего стола компьютера и возврата toohello машины которых выполнены hello установщик приложения службы.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-293">Close hello remote desktop machine, and return toohello machine where you executed hello App Service installer.</span></span>

    > [!NOTE]
    > <span data-ttu-id="5b1b7-294">Toowait не требуется один или несколько рабочих процессов toodisplay **готовности** toocomplete hello установку службы приложений Azure стек.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-294">You don't need toowait for one or more Workers toodisplay **Ready** toocomplete hello installation of App Service on Azure Stack.</span></span> <span data-ttu-id="5b1b7-295">Тем не менее требуется по крайней мере один рабочий процесс, готовы toodeploy web, мобильных устройств, или приложения API Azure функции.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-295">However, you need a minimum of one Worker that's ready toodeploy a web, mobile, or API app or Azure Functions.</span></span>
    
    ![Службы приложений на состояние серверов управляемый стек Azure][14]

## <a name="test-drive-app-service-on-azure-stack"></a><span data-ttu-id="5b1b7-297">Проверка службы приложений Azure стеке</span><span class="sxs-lookup"><span data-stu-id="5b1b7-297">Test drive App Service on Azure Stack</span></span>

<span data-ttu-id="5b1b7-298">После развертывания и регистрации поставщика ресурсов службы приложения hello, проверьте его toomake убедиться, что клиенты можно развернуть web, мобильных устройств и приложения API.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-298">After you deploy and register hello App Service resource provider, test it toomake sure that tenants can deploy web, mobile, and API apps.</span></span>

> [!NOTE]
> <span data-ttu-id="5b1b7-299">Необходимо toocreate предложение пространством имен Microsoft.Web hello в соответствии с планом hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-299">You need toocreate an offer that has hello Microsoft.Web namespace within hello plan.</span></span> <span data-ttu-id="5b1b7-300">Затем необходимо toohave подписки клиента, который подписан toothis предложения.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-300">Then you need toohave a tenant subscription that subscribes toothis offer.</span></span> <span data-ttu-id="5b1b7-301">Дополнительные сведения см. в разделе [создать предложение](azure-stack-create-offer.md) и [создать план](azure-stack-create-plan.md).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-301">For more information, see  [Create offer](azure-stack-create-offer.md) and [Create plan](azure-stack-create-plan.md).</span></span>
>

<span data-ttu-id="5b1b7-302">Вы *должен* использования службы приложений Azure стеке приложениях toocreate подписки клиента.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-302">You *must* have a tenant subscription toocreate applications that use App Service on Azure Stack.</span></span> <span data-ttu-id="5b1b7-303">Hello только возможности, которые администратор службы может завершиться до hello портал администрирования, связанных toohello администрирования поставщика ресурсов приложения службы.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-303">hello only capabilities that a service admin can complete within hello admin portal are related toohello resource provider administration of App Service.</span></span> <span data-ttu-id="5b1b7-304">Эти возможности включают добавления емкости, Настройка развертывания источников и добавление SKU и рабочие уровни.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-304">These capabilities include adding capacity, configuring deployment sources, and adding Worker tiers and SKUs.</span></span>

<span data-ttu-id="5b1b7-305">Начиная с hello третьей версии technical preview, toocreate web, мобильных устройств и приложения API необходимо использовать портал клиента hello и иметь подписку клиента.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-305">As of hello third technical preview, toocreate web, mobile, and API apps you must use hello tenant portal and have a tenant subscription.</span></span>  

1. <span data-ttu-id="5b1b7-306">На портале клиента hello Azure стека щелкните **New** > **Интернет + мобильные устройства** > **веб-приложения**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-306">In hello Azure Stack tenant portal, click **New** > **Web + Mobile** > **Web App**.</span></span>

2. <span data-ttu-id="5b1b7-307">На hello **веб-приложения** колонки, введите имя в hello **веб-приложение** поле.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-307">On hello **Web App** blade, type a name in hello **Web app** box.</span></span>

3. <span data-ttu-id="5b1b7-308">В разделе **группы ресурсов**, нажмите кнопку **New**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-308">Under **Resource Group**, click **New**.</span></span> <span data-ttu-id="5b1b7-309">Затем введите имя в hello **группы ресурсов** поле.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-309">Then type a name in hello **Resource Group** box.</span></span>

4. <span data-ttu-id="5b1b7-310">Щелкните **Расположение или план службы приложений** > **Создать**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-310">Click **App Service plan/Location** > **Create New**.</span></span>

5. <span data-ttu-id="5b1b7-311">На hello **план служб приложений** колонки, введите имя в hello **план служб приложений** поле.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-311">On hello **App Service plan** blade, type a name in hello **App Service plan** box.</span></span>

6. <span data-ttu-id="5b1b7-312">Нажмите кнопку **Ценовая категория** > **Free Shared** или **Shared Shared** > **выберите**  >   **ОК** > **создания**.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-312">Click **Pricing tier** > **Free-Shared** or **Shared-Shared** > **Select** > **OK** > **Create**.</span></span>

7. <span data-ttu-id="5b1b7-313">В менее чем за минуту плитки для нового веб-приложения hello появляется на панели мониторинга hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-313">In under a minute, a tile for hello new web app appears on hello dashboard.</span></span> <span data-ttu-id="5b1b7-314">Щелкните плитку hello.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-314">Click hello tile.</span></span>

8. <span data-ttu-id="5b1b7-315">На hello **веб-приложения** колонка, щелкните **Обзор** веб-сайт по умолчанию hello tooview для этого приложения.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-315">On hello **Web App** blade, click **Browse** tooview hello default website for this app.</span></span>

## <a name="deploy-a-wordpress-dnn-or-django-website-optional"></a><span data-ttu-id="5b1b7-316">Развертывание WordPress, DNN или Django веб-сайта (необязательно)</span><span class="sxs-lookup"><span data-stu-id="5b1b7-316">Deploy a WordPress, DNN, or Django website (optional)</span></span>

1. <span data-ttu-id="5b1b7-317">На портале клиента hello Azure стека щелкните  **+** .</span><span class="sxs-lookup"><span data-stu-id="5b1b7-317">In hello Azure Stack tenant portal, click **+**.</span></span> <span data-ttu-id="5b1b7-318">Go toohello Azure Marketplace, развертывание веб-сайт Django и дождитесь ее успешного завершения.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-318">Go toohello Azure Marketplace, deploy a Django website, and wait for successful completion.</span></span> <span data-ttu-id="5b1b7-319">Hello Django веб-платформы использует базу данных на основе системы файла.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-319">hello Django web platform uses a file system-based database.</span></span> <span data-ttu-id="5b1b7-320">Он не требует все поставщики дополнительных ресурсов, например SQL или MySQL.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-320">It doesn’t require any additional resource providers such as SQL or MySQL.</span></span>

2. <span data-ttu-id="5b1b7-321">При развертывании поставщик ресурсов MySQL, можно развернуть веб-сайт WordPress hello Marketplace.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-321">If you also deployed a MySQL resource provider, you can deploy a WordPress website from hello Marketplace.</span></span> <span data-ttu-id="5b1b7-322">Когда появится запрос для параметров базы данных, введите имя пользователя hello как  *User1@Server1* с именем пользователя hello и имя сервера по своему усмотрению.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-322">When you're prompted for database parameters, enter hello user name as *User1@Server1*, with hello user name and server name of your choice.</span></span>

3. <span data-ttu-id="5b1b7-323">При развертывании поставщика ресурсов SQL Server, можно развернуть веб-сайт DNN hello Marketplace.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-323">If you also deployed a SQL Server resource provider, you can deploy a DNN website from hello Marketplace.</span></span> <span data-ttu-id="5b1b7-324">Когда появится запрос для параметров базы данных, Выбор базы данных в hello компьютера под управлением SQL Server, подключенного tooyour поставщика ресурсов.</span><span class="sxs-lookup"><span data-stu-id="5b1b7-324">When you're prompted for database parameters, pick a database in hello computer running SQL Server that's connected tooyour resource provider.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5b1b7-325">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="5b1b7-325">Next steps</span></span>

<span data-ttu-id="5b1b7-326">Можно также проверить другие [платформы как услуги (PaaS)](azure-stack-tools-paas-services.md).</span><span class="sxs-lookup"><span data-stu-id="5b1b7-326">You can also try out other [platform as a service (PaaS) services](azure-stack-tools-paas-services.md).</span></span>

- [<span data-ttu-id="5b1b7-327">Поставщик ресурсов SQL Server</span><span class="sxs-lookup"><span data-stu-id="5b1b7-327">SQL Server resource provider</span></span>](azure-stack-sql-resource-provider-deploy.md)
- [<span data-ttu-id="5b1b7-328">Поставщик ресурсов MySQL</span><span class="sxs-lookup"><span data-stu-id="5b1b7-328">MySQL resource provider</span></span>](azure-stack-mysql-resource-provider-deploy.md)

<!--Image references-->
[1]: ./media/azure-stack-app-service-deploy-offline/app-service-offline-step1.png
[2]: ./media/azure-stack-app-service-deploy-offline/app-service-offline-step2.png
[3]: ./media/azure-stack-app-service-deploy-offline/app-service-offline-step3.png
[4]: ./media/azure-stack-app-service-deploy-offline/app-service-offline-step4.png
[5]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-default-entries-step-cloud-configuration.png
[6]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-default-entries-step-subscription-location-populated.png
[7]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-default-entries-step-resource-group-SQL.png
[8]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-default-entries-step-certificates.png
[9]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-default-entries-step-role-configuration.png
[10]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-default-entries-step-vm-image-selection.png
[11]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-default-entries-step-role-credentials.png
[12]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-selection-summary.png
[13]: ./media/azure-stack-app-service-deploy-offline/app-service-exe-installation-progress.png
[14]: ./media/azure-stack-app-service-deploy-offline/managed-servers.png


<!--Links-->
[Azure_Stack_App_Service_preview_installer]: http://go.microsoft.com/fwlink/?LinkID=717531
[App_Service_Deployment]: http://go.microsoft.com/fwlink/?LinkId=723982
[AppServiceHelperScripts]: http://go.microsoft.com/fwlink/?LinkId=733525
