---
title: "Развертывание с помощью Resource Manager и классическое развертывание | Документация Майкрософт"
description: "Описывает различия между моделью развертывания диспетчера ресурсов и классической моделью развертывания (или моделью управления службами)."
services: azure-resource-manager
documentationcenter: na
author: tfitzmac
manager: timlt
editor: tysonn
ms.assetid: 7ae0ffa3-c8da-4151-bdcc-8f4f69290fb4
ms.service: azure-resource-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/09/2017
ms.author: tomfitz
ms.openlocfilehash: 060680fd4a7ce6e0cde406cc4a8f6f3a21d3c588
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="azure-resource-manager-vs-classic-deployment-understand-deployment-models-and-the-state-of-your-resources"></a><span data-ttu-id="3aad2-103">Развертывание с помощью Azure Resource Manager и классическое развертывание: сведения о моделях развертывания и состоянии ресурсов</span><span class="sxs-lookup"><span data-stu-id="3aad2-103">Azure Resource Manager vs. classic deployment: Understand deployment models and the state of your resources</span></span>
<span data-ttu-id="3aad2-104">В этом разделе приводятся сведения о модели развертывания с помощью Azure Resource Manager, классической модели развертывания, состоянии ресурсов и о том, почему для развертывания ресурсов используется тот или иной метод.</span><span class="sxs-lookup"><span data-stu-id="3aad2-104">In this topic, you learn about Azure Resource Manager and classic deployment models, the state of your resources, and why your resources were deployed with one or the other.</span></span> <span data-ttu-id="3aad2-105">Модель развертывания с помощью Azure Resource Manager и классическая модель представляют собой два разных способа развертывания решений Azure и управления ими.</span><span class="sxs-lookup"><span data-stu-id="3aad2-105">The Resource Manager and classic deployment models represent two different ways of deploying and managing your Azure solutions.</span></span> <span data-ttu-id="3aad2-106">При работе с ними применяются два разных набора API, и развернутые ресурсы могут содержать важные различия.</span><span class="sxs-lookup"><span data-stu-id="3aad2-106">You work with them through two different API sets, and the deployed resources can contain important differences.</span></span> <span data-ttu-id="3aad2-107">Две модели не являются полностью совместимыми друг с другом.</span><span class="sxs-lookup"><span data-stu-id="3aad2-107">The two models are not completely compatible with each other.</span></span> <span data-ttu-id="3aad2-108">В данном разделе описываются эти различия.</span><span class="sxs-lookup"><span data-stu-id="3aad2-108">This topic describes those differences.</span></span>

<span data-ttu-id="3aad2-109">Чтобы упростить развертывание и управление ресурсами, корпорация Майкрософт рекомендует использовать Resource Manager для всех новых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3aad2-109">To simplify the deployment and management of resources, Microsoft recommends that you use Resource Manager for all new resources.</span></span> <span data-ttu-id="3aad2-110">И для повторного развертывания существующих ресурсов рекомендуется также по возможности использовать Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-110">If possible, Microsoft recommends that you redeploy existing resources through Resource Manager.</span></span>

<span data-ttu-id="3aad2-111">Если вы еще не работали с Resource Manager, то сначала рекомендуется ознакомиться с терминологией в статье [Общие сведения о диспетчере ресурсов Azure](resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3aad2-111">If you are new to Resource Manager, you may want to first review the terminology defined in the [Azure Resource Manager overview](resource-group-overview.md).</span></span>

## <a name="history-of-the-deployment-models"></a><span data-ttu-id="3aad2-112">История моделей развертывания</span><span class="sxs-lookup"><span data-stu-id="3aad2-112">History of the deployment models</span></span>
<span data-ttu-id="3aad2-113">Изначально Azure предоставлял только классическую модель развертывания.</span><span class="sxs-lookup"><span data-stu-id="3aad2-113">Azure originally provided only the classic deployment model.</span></span> <span data-ttu-id="3aad2-114">В этой модели ресурсы использовались отдельно, и их нельзя было сгруппировать.</span><span class="sxs-lookup"><span data-stu-id="3aad2-114">In this model, each resource existed independently; there was no way to group related resources together.</span></span> <span data-ttu-id="3aad2-115">Вместо этого требовалось вручную отслеживать ресурсы, которые использовались для создание решения или приложения, а затем соответствующим образом управлять ими.</span><span class="sxs-lookup"><span data-stu-id="3aad2-115">Instead, you had to manually track which resources made up your solution or application, and remember to manage them in a coordinated approach.</span></span> <span data-ttu-id="3aad2-116">Чтобы развернуть решение, требовалось либо создать каждый ресурс отдельно с помощью классического портала, либо создать сценарий для развертывания всех ресурсов в установленном порядке.</span><span class="sxs-lookup"><span data-stu-id="3aad2-116">To deploy a solution, you had to either create each resource individually through the classic portal or create a script that deployed all the resources in the correct order.</span></span> <span data-ttu-id="3aad2-117">Удаление решения выполнялось путем удаления каждого ресурса по отдельности.</span><span class="sxs-lookup"><span data-stu-id="3aad2-117">To delete a solution, you had to delete each resource individually.</span></span> <span data-ttu-id="3aad2-118">Применение и обновление политик контроля доступа также было связано с определенными трудностями.</span><span class="sxs-lookup"><span data-stu-id="3aad2-118">You could not easily apply and update access control policies for related resources.</span></span> <span data-ttu-id="3aad2-119">И наконец, к ресурсам нельзя было применять теги и задавать метки, которые позволяют выполнять мониторинг ресурсов и управлять выставлением счетов.</span><span class="sxs-lookup"><span data-stu-id="3aad2-119">Finally, you could not apply tags to resources to label them with terms that help you monitor your resources and manage billing.</span></span>

<span data-ttu-id="3aad2-120">С появлением Resource Manager (в 2014 г.) было добавлено понятие группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3aad2-120">In 2014, Azure introduced Resource Manager, which added the concept of a resource group.</span></span> <span data-ttu-id="3aad2-121">Группа ресурсов — это контейнер для ресурсов с общим жизненным циклом.</span><span class="sxs-lookup"><span data-stu-id="3aad2-121">A resource group is a container for resources that share a common lifecycle.</span></span> <span data-ttu-id="3aad2-122">Модель развертывания диспетчера ресурсов предоставляет несколько преимуществ.</span><span class="sxs-lookup"><span data-stu-id="3aad2-122">The Resource Manager deployment model provides several benefits:</span></span>

* <span data-ttu-id="3aad2-123">Вы можете осуществлять развертывание, управление и мониторинг всех служб вашего решения как единой группы вместо того, чтобы работать с ними по отдельности.</span><span class="sxs-lookup"><span data-stu-id="3aad2-123">You can deploy, manage, and monitor all the services for your solution as a group, rather than handling these services individually.</span></span>
* <span data-ttu-id="3aad2-124">Вы можете повторно развертывать решение на протяжении всего его жизненного цикла и гарантировать, что ресурсы развертываются в согласованном состоянии.</span><span class="sxs-lookup"><span data-stu-id="3aad2-124">You can repeatedly deploy your solution throughout its lifecycle and have confidence your resources are deployed in a consistent state.</span></span>
* <span data-ttu-id="3aad2-125">Вы можете применить контроль доступа ко всем ресурсам в группе, и эти политики будут автоматически применяться ко всем новым ресурсам, добавленным в группу.</span><span class="sxs-lookup"><span data-stu-id="3aad2-125">You can apply access control to all resources in your resource group, and those policies are automatically applied when new resources are added to the resource group.</span></span>
* <span data-ttu-id="3aad2-126">Для логического упорядочивания всех ресурсов в вашей подписке к ним можно применять теги.</span><span class="sxs-lookup"><span data-stu-id="3aad2-126">You can apply tags to resources to logically organize all the resources in your subscription.</span></span>
* <span data-ttu-id="3aad2-127">Для определения инфраструктуры решения можно использовать нотацию объектов JavaScript (JSON).</span><span class="sxs-lookup"><span data-stu-id="3aad2-127">You can use JavaScript Object Notation (JSON) to define the infrastructure for your solution.</span></span> <span data-ttu-id="3aad2-128">Файл JSON представляет собой шаблон Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-128">The JSON file is known as a Resource Manager template.</span></span>
* <span data-ttu-id="3aad2-129">Вы можете определять зависимости между ресурсами, так чтобы они разворачивались в правильном порядке.</span><span class="sxs-lookup"><span data-stu-id="3aad2-129">You can define the dependencies between resources so they are deployed in the correct order.</span></span>

<span data-ttu-id="3aad2-130">При появлении диспетчера ресурсов все ресурсы были добавлены в группы ресурсов по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="3aad2-130">When Resource Manager was added, all resources were retroactively added to default resource groups.</span></span> <span data-ttu-id="3aad2-131">Теперь при классическом развертывании ресурсы будут автоматически создаваться в группе ресурсов, заданной для этой службы по умолчанию. Указывать ее не нужно.</span><span class="sxs-lookup"><span data-stu-id="3aad2-131">If you create a resource through classic deployment now, the resource is automatically created within a default resource group for that service, even though you did not specify that resource group at deployment.</span></span> <span data-ttu-id="3aad2-132">Однако только принадлежность к группе ресурсов не означает, что ресурс был преобразован в модель диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3aad2-132">However, just existing within a resource group does not mean that the resource has been converted to the Resource Manager model.</span></span> <span data-ttu-id="3aad2-133">Обработка службами этих двух моделей развертывания рассматривается в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="3aad2-133">We'll look at how each service handles the two deployment models in the next section.</span></span> 

## <a name="understand-support-for-the-models"></a><span data-ttu-id="3aad2-134">Общие сведения о поддержке моделей развертывания</span><span class="sxs-lookup"><span data-stu-id="3aad2-134">Understand support for the models</span></span>
<span data-ttu-id="3aad2-135">При выборе модели развертывания для ресурсов необходимо учитывать следующие три сценария:</span><span class="sxs-lookup"><span data-stu-id="3aad2-135">When deciding which deployment model to use for your resources, there are three scenarios to be aware of:</span></span>

1. <span data-ttu-id="3aad2-136">Служба поддерживает Resource Manager и предоставляет только такие операции.</span><span class="sxs-lookup"><span data-stu-id="3aad2-136">The service supports Resource Manager and provides only a single type.</span></span>
2. <span data-ttu-id="3aad2-137">Служба поддерживает Resource Manager, но предоставляет два типа операций: для Resource Manager и для классической модели.</span><span class="sxs-lookup"><span data-stu-id="3aad2-137">The service supports Resource Manager but provides two types - one for Resource Manager and one for classic.</span></span> <span data-ttu-id="3aad2-138">Этот сценарий относится только к виртуальным машинам, учетным записям хранения и виртуальным сетям.</span><span class="sxs-lookup"><span data-stu-id="3aad2-138">This scenario applies only to virtual machines, storage accounts, and virtual networks.</span></span>
3. <span data-ttu-id="3aad2-139">Служба не поддерживает Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-139">The service does not support Resource Manager.</span></span>

<span data-ttu-id="3aad2-140">Список служб, поддерживающих диспетчер ресурсов, приведен в статье [Поставщики диспетчера ресурсов, регионы, версии API и схемы](resource-manager-supported-services.md).</span><span class="sxs-lookup"><span data-stu-id="3aad2-140">To discover whether a service supports Resource Manager, see [Resource providers and types](resource-manager-supported-services.md).</span></span>

<span data-ttu-id="3aad2-141">Если используемая служба не поддерживает Resource Manager, используйте для развертывания классическую модель.</span><span class="sxs-lookup"><span data-stu-id="3aad2-141">If the service you wish to use does not support Resource Manager, you must continue using classic deployment.</span></span>

<span data-ttu-id="3aad2-142">Если служба поддерживает Resource Manager и в качестве нее **не** используется виртуальная машина, учетная запись хранения или виртуальная сеть, вы можете использовать такую модель развертывания.</span><span class="sxs-lookup"><span data-stu-id="3aad2-142">If the service supports Resource Manager and **is not** a virtual machine, storage account or virtual network, you can use Resource Manager without any complications.</span></span>

<span data-ttu-id="3aad2-143">Для виртуальных машин, учетных записей хранения и виртуальных сетей, если ресурс был создан при помощи классического развертывания, необходимо продолжать работать с ним с помощью классических операций.</span><span class="sxs-lookup"><span data-stu-id="3aad2-143">For virtual machines, storage accounts, and virtual networks, if the resource was created through classic deployment, you must continue to operate on it through classic operations.</span></span> <span data-ttu-id="3aad2-144">Если виртуальная машина, учетная запись хранения или виртуальная сеть созданы с помощью модели развертывания Resource Manager, они поддерживают операции Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-144">If the virtual machine, storage account, or virtual network was created through Resource Manager deployment, you must continue using Resource Manager operations.</span></span> <span data-ttu-id="3aad2-145">Это различие следует учитывать, если в подписке содержатся как ресурсы, созданные в классической модели развертывания, так и ресурсы, созданные с помощью Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-145">This distinction can get confusing when your subscription contains a mix of resources created through Resource Manager and classic deployment.</span></span> <span data-ttu-id="3aad2-146">Это сочетание ресурсов может привести к непредвиденным результатам, поскольку эти ресурсы не поддерживают одни и те же операции.</span><span class="sxs-lookup"><span data-stu-id="3aad2-146">This combination of resources can create unexpected results because the resources do not support the same operations.</span></span>

<span data-ttu-id="3aad2-147">В некоторых случаях с помощью команды Resource Manager можно получить сведения о ресурсе, созданном с помощью классического развертывания, или выполнить административные задачи, такие как перемещение классического ресурса в другую группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3aad2-147">In some cases, a Resource Manager command can retrieve information about a resource created through classic deployment, or can perform an administrative task such as moving a classic resource to another resource group.</span></span> <span data-ttu-id="3aad2-148">Но эти случаи не должны создавать впечатление, что этот тип поддерживает операции Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-148">But, these cases should not give the impression that the type supports Resource Manager operations.</span></span> <span data-ttu-id="3aad2-149">Например, предположим, что имеется группа ресурсов, содержащая виртуальную машину, которая была создана с помощью классического развертывания.</span><span class="sxs-lookup"><span data-stu-id="3aad2-149">For example, suppose you have a resource group that contains a virtual machine that was created with classic deployment.</span></span> <span data-ttu-id="3aad2-150">Если выполнить следующую команду Resource Manager PowerShell:</span><span class="sxs-lookup"><span data-stu-id="3aad2-150">If you run the following Resource Manager PowerShell command:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName ExampleGroup -ResourceType Microsoft.ClassicCompute/virtualMachines
```

<span data-ttu-id="3aad2-151">Она возвращает виртуальную машину:</span><span class="sxs-lookup"><span data-stu-id="3aad2-151">It returns the virtual machine:</span></span>

```powershell
Name              : ExampleClassicVM
ResourceId        : /subscriptions/{guid}/resourceGroups/ExampleGroup/providers/Microsoft.ClassicCompute/virtualMachines/ExampleClassicVM
ResourceName      : ExampleClassicVM
ResourceType      : Microsoft.ClassicCompute/virtualMachines
ResourceGroupName : ExampleGroup
Location          : westus
SubscriptionId    : {guid}
```

<span data-ttu-id="3aad2-152">Однако командлет Resource Manager **Get-AzureRmVM** возвращает только виртуальные машины, развернутые с помощью Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-152">However, the Resource Manager cmdlet **Get-AzureRmVM** only returns virtual machines deployed through Resource Manager.</span></span> <span data-ttu-id="3aad2-153">Следующая команда не вернет виртуальную машину, созданную с помощью классического развертывания.</span><span class="sxs-lookup"><span data-stu-id="3aad2-153">The following command does not return the virtual machine created through classic deployment.</span></span>

```powershell
Get-AzureRmVM -ResourceGroupName ExampleGroup
```

<span data-ttu-id="3aad2-154">Теги поддерживаются только ресурсами, созданными с помощью диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3aad2-154">Only resources created through Resource Manager support tags.</span></span> <span data-ttu-id="3aad2-155">К классическим ресурсам теги применить нельзя.</span><span class="sxs-lookup"><span data-stu-id="3aad2-155">You cannot apply tags to classic resources.</span></span>

## <a name="resource-manager-characteristics"></a><span data-ttu-id="3aad2-156">Характеристики диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="3aad2-156">Resource Manager characteristics</span></span>
<span data-ttu-id="3aad2-157">Чтобы разобраться с двумя моделями развертывания, давайте рассмотрим характеристики ресурсов, созданных с использованием Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-157">To help you understand the two models, let's review the characteristics of Resource Manager types:</span></span>

* <span data-ttu-id="3aad2-158">Создаются с помощью [портала Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="3aad2-158">Created through the [Azure portal](https://portal.azure.com/).</span></span>
  
     ![портала Azure](./media/resource-manager-deployment-model/portal.png)
  
     <span data-ttu-id="3aad2-160">Для вычислительных, сетевых ресурсов и ресурсов хранения можно выбрать модель развертывания с использованием Resource Manager или классическую модель.</span><span class="sxs-lookup"><span data-stu-id="3aad2-160">For Compute, Storage, and Networking resources, you have the option of using either Resource Manager or Classic deployment.</span></span> <span data-ttu-id="3aad2-161">Выберите **Диспетчер ресурсов**.</span><span class="sxs-lookup"><span data-stu-id="3aad2-161">Select **Resource Manager**.</span></span>
  
     ![Развертывание с помощью Resource Manager](./media/resource-manager-deployment-model/select-resource-manager.png)
* <span data-ttu-id="3aad2-163">Создаются с помощью командлетов Azure PowerShell для Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-163">Created with the Resource Manager version of the Azure PowerShell cmdlets.</span></span> <span data-ttu-id="3aad2-164">Эти команды имеют вид *{глагол}-AzureRm{имя_существительное}*.</span><span class="sxs-lookup"><span data-stu-id="3aad2-164">These commands have the format *Verb-AzureRmNoun*.</span></span>

  ```powershell
  New-AzureRmResourceGroupDeployment
  ```

* <span data-ttu-id="3aad2-165">Создаются с помощью [REST API Azure Resource Manager](https://docs.microsoft.com/rest/api/resources/) для операций REST.</span><span class="sxs-lookup"><span data-stu-id="3aad2-165">Created through the [Azure Resource Manager REST API](https://docs.microsoft.com/rest/api/resources/) for REST operations.</span></span>
* <span data-ttu-id="3aad2-166">Создаются с помощью команд интерфейса командной строки Azure, запускаемых в режиме **arm** .</span><span class="sxs-lookup"><span data-stu-id="3aad2-166">Created through Azure CLI commands run in the **arm** mode.</span></span>
  
  ```azurecli
  azure config mode arm
  azure group deployment create
  ```

* <span data-ttu-id="3aad2-167">Тип ресурса не содержит **(классический)** в имени.</span><span class="sxs-lookup"><span data-stu-id="3aad2-167">The resource type does not include **(classic)** in the name.</span></span> <span data-ttu-id="3aad2-168">На следующем рисунке тип отображается как **Учетная запись хранения**.</span><span class="sxs-lookup"><span data-stu-id="3aad2-168">The following image shows the type as **Storage account**.</span></span>
  
    ![веб-приложение](./media/resource-manager-deployment-model/resource-manager-type.png)

## <a name="classic-deployment-characteristics"></a><span data-ttu-id="3aad2-170">Характеристики классического развертывания</span><span class="sxs-lookup"><span data-stu-id="3aad2-170">Classic deployment characteristics</span></span>
<span data-ttu-id="3aad2-171">Возможно, вы знакомы с классической моделью развертывания как с моделью управления службами.</span><span class="sxs-lookup"><span data-stu-id="3aad2-171">You may also know the classic deployment model as the Service Management model.</span></span>

<span data-ttu-id="3aad2-172">Ресурсы, созданные с использованием модели классического развертывания, имеют следующие характеристики.</span><span class="sxs-lookup"><span data-stu-id="3aad2-172">Resources created in the classic deployment model share the following characteristics:</span></span>

* <span data-ttu-id="3aad2-173">Создаются с помощью [классического портала](https://manage.windowsazure.com)</span><span class="sxs-lookup"><span data-stu-id="3aad2-173">Created through the [classic portal](https://manage.windowsazure.com)</span></span>
  
     ![Классический портал.](./media/resource-manager-deployment-model/classic-portal.png)
  
     <span data-ttu-id="3aad2-175">Либо с помощью портала Azure. Тогда вы указываете **классический** метод развертывания (для вычислительных, сетевых ресурсов и ресурсов хранения).</span><span class="sxs-lookup"><span data-stu-id="3aad2-175">Or, the Azure portal and you specify **Classic** deployment (for Compute, Storage, and Networking).</span></span>
  
     ![Классическое развертывание](./media/resource-manager-deployment-model/select-classic.png)
* <span data-ttu-id="3aad2-177">Создаются с помощью командлетов Azure PowerShell для управления службами.</span><span class="sxs-lookup"><span data-stu-id="3aad2-177">Created through the Service Management version of the Azure PowerShell cmdlets.</span></span> <span data-ttu-id="3aad2-178">Эти команды имеют вид *{глагол}-Azure{имя_существительное}*.</span><span class="sxs-lookup"><span data-stu-id="3aad2-178">These command names have the format *Verb-AzureNoun*.</span></span>

  ```powershell
  New-AzureVM
  ```

* <span data-ttu-id="3aad2-179">Создаются с помощью [REST API управления службами](https://msdn.microsoft.com/library/azure/ee460799.aspx) для операций REST.</span><span class="sxs-lookup"><span data-stu-id="3aad2-179">Created through the [Service Management REST API](https://msdn.microsoft.com/library/azure/ee460799.aspx) for REST operations.</span></span>
* <span data-ttu-id="3aad2-180">Создаются с помощью команд интерфейса командной строки Azure, запускаемых в режиме **asm** .</span><span class="sxs-lookup"><span data-stu-id="3aad2-180">Created through Azure CLI commands run in **asm** mode.</span></span>

  ```azurecli
  azure config mode asm
  azure vm create
  ```
   
* <span data-ttu-id="3aad2-181">Тип ресурса включает **(классический)** в названии.</span><span class="sxs-lookup"><span data-stu-id="3aad2-181">The resource type includes **(classic)** in the name.</span></span> <span data-ttu-id="3aad2-182">На следующем рисунке тип отображается как **Учетная запись хранения (классическая)**.</span><span class="sxs-lookup"><span data-stu-id="3aad2-182">The following image shows the type as **Storage account (classic)**.</span></span>
  
    ![классический тип](./media/resource-manager-deployment-model/classic-type.png)

<span data-ttu-id="3aad2-184">Для управления ресурсами, созданными с помощью классического развертывания, можно использовать портал Azure.</span><span class="sxs-lookup"><span data-stu-id="3aad2-184">You can use the Azure portal to manage resources that were created through classic deployment.</span></span>

## <a name="changes-for-compute-network-and-storage"></a><span data-ttu-id="3aad2-185">Изменения для вычислительных, сетевых ресурсов и ресурсов хранения</span><span class="sxs-lookup"><span data-stu-id="3aad2-185">Changes for compute, network, and storage</span></span>
<span data-ttu-id="3aad2-186">На следующей схеме показаны вычислительные, сетевые ресурсы и ресурсы хранения, развернутые с помощью Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-186">The following diagram displays compute, network, and storage resources deployed through Resource Manager.</span></span>

![Архитектура Resource Manager](./media/resource-manager-deployment-model/arm_arch3.png)

<span data-ttu-id="3aad2-188">Обратите внимание на следующие связи между ресурсами:</span><span class="sxs-lookup"><span data-stu-id="3aad2-188">Note the following relationships between the resources:</span></span>

* <span data-ttu-id="3aad2-189">Все ресурсы существуют в одной группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3aad2-189">All the resources exist within a resource group.</span></span>
* <span data-ttu-id="3aad2-190">Виртуальная машина зависит от определенной учетной записи хранения, определенной в поставщике ресурсов хранилища для хранения ее дисков в хранилище BLOB-объектов (обязательном).</span><span class="sxs-lookup"><span data-stu-id="3aad2-190">The virtual machine depends on a specific storage account defined in the Storage resource provider to store its disks in blob storage (required).</span></span>
* <span data-ttu-id="3aad2-191">Виртуальная машина ссылается на конкретную сетевую карту, определенную в поставщике сетевых ресурсов (обязательную), и группу доступности, определенную в поставщике вычислительных ресурсов (необязательную).</span><span class="sxs-lookup"><span data-stu-id="3aad2-191">The virtual machine references a specific NIC defined in the Network resource provider (required) and an availability set defined in the Compute resource provider (optional).</span></span>
* <span data-ttu-id="3aad2-192">Сетевая карта ссылается на назначенный виртуальной машине IP-адрес (обязательный), подсеть виртуальной сети для виртуальной машины (обязательную) и группу сетевой безопасности (необязательную).</span><span class="sxs-lookup"><span data-stu-id="3aad2-192">The NIC references the virtual machine's assigned IP address (required), the subnet of the virtual network for the virtual machine (required), and to a Network Security Group (optional).</span></span>
* <span data-ttu-id="3aad2-193">Подсеть в виртуальной сети ссылается на группу сетевой безопасности (необязательную).</span><span class="sxs-lookup"><span data-stu-id="3aad2-193">The subnet within a virtual network references a Network Security Group (optional).</span></span>
* <span data-ttu-id="3aad2-194">Экземпляр балансировщика нагрузки ссылается на внутренний пул IP-адресов, которые включают сетевую карту виртуальной машины (необязательно), и ссылается на общедоступный или частный IP-адрес (необязательно) балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3aad2-194">The load balancer instance references the backend pool of IP addresses that include the NIC of a virtual machine (optional) and references a load balancer public or private IP address (optional).</span></span>

<span data-ttu-id="3aad2-195">Ниже перечислены компоненты и их связи для классического развертывания.</span><span class="sxs-lookup"><span data-stu-id="3aad2-195">Here are the components and their relationships for classic deployment:</span></span>

![классическая архитектура](./media/resource-manager-deployment-model/arm_arch1.png)

<span data-ttu-id="3aad2-197">Классическое решение для размещения виртуальной машины включает в себя следующие компоненты:</span><span class="sxs-lookup"><span data-stu-id="3aad2-197">The classic solution for hosting a virtual machine includes:</span></span>

* <span data-ttu-id="3aad2-198">Требуемой облачной службой, которая выступает в роли контейнера для размещения виртуальных машин (вычислений).</span><span class="sxs-lookup"><span data-stu-id="3aad2-198">A required cloud service that acts as a container for hosting virtual machines (compute).</span></span> <span data-ttu-id="3aad2-199">Виртуальным машинам автоматически предоставляется сетевая карта (NIC) и IP-адрес, назначаемый Azure.</span><span class="sxs-lookup"><span data-stu-id="3aad2-199">Virtual machines are automatically provided with a network interface card (NIC) and an IP address assigned by Azure.</span></span> <span data-ttu-id="3aad2-200">Кроме того, облачная служба содержит экземпляр внешней подсистемы балансировки нагрузки, общедоступный IP-адрес и конечные точки по умолчанию, чтобы разрешить трафик удаленного рабочего стола и удаленный трафик PowerShell для виртуальных машин на основе Windows, а также трафик Secure Shell (SSH) для виртуальных машин на основе Linux.</span><span class="sxs-lookup"><span data-stu-id="3aad2-200">Additionally, the cloud service contains an external load balancer instance, a public IP address, and default endpoints to allow remote desktop and remote PowerShell traffic for Windows-based virtual machines and Secure Shell (SSH) traffic for Linux-based virtual machines.</span></span>
* <span data-ttu-id="3aad2-201">Обязательной учетной записью хранения, в которой хранятся виртуальные жесткие диски виртуальной машины, включая диск операционной системы, а также временные и дополнительные диски данных (хранилище).</span><span class="sxs-lookup"><span data-stu-id="3aad2-201">A required storage account that stores the VHDs for a virtual machine, including the operating system, temporary, and additional data disks (storage).</span></span>
* <span data-ttu-id="3aad2-202">Необязательной виртуальной сетью, выступающей в качестве дополнительного контейнера, в котором можно создать структуру подсетей и назначить подсеть, в которой находится виртуальная машина (сеть).</span><span class="sxs-lookup"><span data-stu-id="3aad2-202">An optional virtual network that acts as an additional container, in which you can create a subnetted structure and designate the subnet on which the virtual machine is located (network).</span></span>

<span data-ttu-id="3aad2-203">В следующей таблице описаны изменения во взаимодействии поставщиков вычислительных, сетевых ресурсов и ресурсов хранения:</span><span class="sxs-lookup"><span data-stu-id="3aad2-203">The following table describes changes in how Compute, Network, and Storage resource providers interact:</span></span>

| <span data-ttu-id="3aad2-204">Элемент</span><span class="sxs-lookup"><span data-stu-id="3aad2-204">Item</span></span> | <span data-ttu-id="3aad2-205">Классический</span><span class="sxs-lookup"><span data-stu-id="3aad2-205">Classic</span></span> | <span data-ttu-id="3aad2-206">Диспетчер ресурсов</span><span class="sxs-lookup"><span data-stu-id="3aad2-206">Resource Manager</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3aad2-207">Облачная служба для виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="3aad2-207">Cloud Service for Virtual Machines</span></span> |<span data-ttu-id="3aad2-208">Облачная служба представляла собой контейнер для хранения виртуальных машин, которым требовались доступность использования на платформе и балансировка нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3aad2-208">Cloud Service was a container for holding the virtual machines that required Availability from the platform and Load Balancing.</span></span> |<span data-ttu-id="3aad2-209">Облачная служба больше не является объектом, необходимым для создания виртуальной машины в новой модели.</span><span class="sxs-lookup"><span data-stu-id="3aad2-209">Cloud Service is no longer an object required for creating a Virtual Machine using the new model.</span></span> |
| <span data-ttu-id="3aad2-210">Виртуальные сети</span><span class="sxs-lookup"><span data-stu-id="3aad2-210">Virtual Networks</span></span> |<span data-ttu-id="3aad2-211">Создание виртуальной сети для виртуальной машины является необязательным.</span><span class="sxs-lookup"><span data-stu-id="3aad2-211">A virtual network is optional for the virtual machine.</span></span> <span data-ttu-id="3aad2-212">Если виртуальная сеть включена, то она не должна быть развернута с помощью Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-212">If included, the virtual network cannot be deployed with Resource Manager.</span></span> |<span data-ttu-id="3aad2-213">Для виртуальной машины необходима виртуальная сеть, развернутая с помощью Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-213">Virtual machine requires a virtual network that has been deployed with Resource Manager.</span></span> |
| <span data-ttu-id="3aad2-214">Учетные записи хранения</span><span class="sxs-lookup"><span data-stu-id="3aad2-214">Storage Accounts</span></span> |<span data-ttu-id="3aad2-215">Для виртуальной машины необходима учетная запись хранения, в которой хранятся виртуальные жесткие диски для операционной системы, а также временные и дополнительные диски данных.</span><span class="sxs-lookup"><span data-stu-id="3aad2-215">The virtual machine requires a storage account that stores the VHDs for the operating system, temporary, and additional data disks.</span></span> |<span data-ttu-id="3aad2-216">Для виртуальной машины необходима учетная запись хранения для хранения ее дисков в хранилище BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="3aad2-216">The virtual machine requires a storage account to store its disks in blob storage.</span></span> |
| <span data-ttu-id="3aad2-217">Группы доступности</span><span class="sxs-lookup"><span data-stu-id="3aad2-217">Availability Sets</span></span> |<span data-ttu-id="3aad2-218">Доступность на платформе указывалась путем задания одного и того же параметра AvailabilitySetName на виртуальных машинах.</span><span class="sxs-lookup"><span data-stu-id="3aad2-218">Availability to the platform was indicated by configuring the same “AvailabilitySetName” on the Virtual Machines.</span></span> <span data-ttu-id="3aad2-219">Максимальное число доменов сбоя — 2.</span><span class="sxs-lookup"><span data-stu-id="3aad2-219">The maximum count of fault domains was 2.</span></span> |<span data-ttu-id="3aad2-220">Группа доступности — это ресурс, предоставляемый поставщиком Microsoft.Compute.</span><span class="sxs-lookup"><span data-stu-id="3aad2-220">Availability Set is a resource exposed by Microsoft.Compute Provider.</span></span> <span data-ttu-id="3aad2-221">Виртуальные машины, требующие высокого уровня доступности, должны быть включены в группу доступности.</span><span class="sxs-lookup"><span data-stu-id="3aad2-221">Virtual Machines that require high availability must be included in the Availability Set.</span></span> <span data-ttu-id="3aad2-222">Теперь максимальное число доменов сбоя — 3.</span><span class="sxs-lookup"><span data-stu-id="3aad2-222">The maximum count of fault domains is now 3.</span></span> |
| <span data-ttu-id="3aad2-223">Территориальные группы</span><span class="sxs-lookup"><span data-stu-id="3aad2-223">Affinity Groups</span></span> |<span data-ttu-id="3aad2-224">Территориальные группы требовались для создания виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="3aad2-224">Affinity Groups were required for creating Virtual Networks.</span></span> <span data-ttu-id="3aad2-225">Но с появлением региональных виртуальных сетей необходимость в них отпала.</span><span class="sxs-lookup"><span data-stu-id="3aad2-225">However, with the introduction of Regional Virtual Networks, that was not required anymore.</span></span> |<span data-ttu-id="3aad2-226">Для упрощения концепция территориальных групп больше не применяется в интерфейсах API, предоставляемых в диспетчере ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="3aad2-226">To simplify, the Affinity Groups concept doesn’t exist in the APIs exposed through Azure Resource Manager.</span></span> |
| <span data-ttu-id="3aad2-227">Балансировка нагрузки</span><span class="sxs-lookup"><span data-stu-id="3aad2-227">Load Balancing</span></span> |<span data-ttu-id="3aad2-228">При создании облачных служб предоставляется скрытая подсистема балансировки нагрузки для развернутых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="3aad2-228">Creation of a Cloud Service provides an implicit load balancer for the Virtual Machines deployed.</span></span> |<span data-ttu-id="3aad2-229">Подсистема балансировки нагрузки — это ресурс, предоставляемый поставщиком Microsoft.Network.</span><span class="sxs-lookup"><span data-stu-id="3aad2-229">The Load Balancer is a resource exposed by the Microsoft.Network provider.</span></span> <span data-ttu-id="3aad2-230">Основной сетевой интерфейс виртуальных машин, для которых необходимо сбалансировать нагрузку, должен ссылаться на подсистему балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3aad2-230">The primary network interface of the Virtual Machines that needs to be load balanced should be referencing the load balancer.</span></span> <span data-ttu-id="3aad2-231">Подсистемы балансировки нагрузки могут быть внутренними или внешними.</span><span class="sxs-lookup"><span data-stu-id="3aad2-231">Load Balancers can be internal or external.</span></span> <span data-ttu-id="3aad2-232">Экземпляр подсистемы балансировки нагрузки ссылается на пул внутренних IP-адресов, который включают сетевую карту виртуальной машины (необязательно), и ссылается на общедоступный или частный IP-адрес (необязательно) подсистемы балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3aad2-232">A load balancer instance references the backend pool of IP addresses that include the NIC of a virtual machine (optional) and references a load balancer public or private IP address (optional).</span></span> [<span data-ttu-id="3aad2-233">Подробная информация.</span><span class="sxs-lookup"><span data-stu-id="3aad2-233">Read more.</span></span>](../virtual-network/resource-groups-networking.md) |
| <span data-ttu-id="3aad2-234">Виртуальный IP-адрес</span><span class="sxs-lookup"><span data-stu-id="3aad2-234">Virtual IP Address</span></span> |<span data-ttu-id="3aad2-235">При добавлении виртуальной машины в облачную службу облачные службы получают виртуальный IP-адрес по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="3aad2-235">Cloud Services get a default VIP (Virtual IP Address) when a VM is added to a cloud service.</span></span> <span data-ttu-id="3aad2-236">Виртуальный IP-адрес — это адрес, связанный со скрытой подсистемой балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3aad2-236">The Virtual IP Address is the address associated with the implicit load balancer.</span></span> |<span data-ttu-id="3aad2-237">Общедоступный IP-адрес — это ресурс, предоставляемый поставщиком Microsoft.Network.</span><span class="sxs-lookup"><span data-stu-id="3aad2-237">Public IP address is a resource exposed by the Microsoft.Network provider.</span></span> <span data-ttu-id="3aad2-238">Общедоступный IP-адрес может быть статическим (зарезервированным) или динамическим.</span><span class="sxs-lookup"><span data-stu-id="3aad2-238">Public IP Address can be Static (Reserved) or Dynamic.</span></span> <span data-ttu-id="3aad2-239">Динамические общедоступные IP-адреса могут быть назначены подсистеме балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3aad2-239">Dynamic Public IPs can be assigned to a Load Balancer.</span></span> <span data-ttu-id="3aad2-240">Их можно защитить с помощью групп безопасности.</span><span class="sxs-lookup"><span data-stu-id="3aad2-240">Public IPs can be secured using Security Groups.</span></span> |
| <span data-ttu-id="3aad2-241">Зарезервированный IP-адрес</span><span class="sxs-lookup"><span data-stu-id="3aad2-241">Reserved IP Address</span></span> |<span data-ttu-id="3aad2-242">Вы можете зарезервировать IP-адрес в Azure и связать его с облачной службой, чтобы убедиться, что его можно назначить.</span><span class="sxs-lookup"><span data-stu-id="3aad2-242">You can reserve an IP Address in Azure and associate it with a Cloud Service to ensure that the IP Address is sticky.</span></span> |<span data-ttu-id="3aad2-243">Общедоступный IP-адрес можно создать в режиме «Статический», который предлагает те же возможности, что и зарезервированный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="3aad2-243">Public IP Address can be created in “Static” mode and it offers the same capability as a “Reserved IP Address”.</span></span> <span data-ttu-id="3aad2-244">Сейчас статический общедоступный IP-адрес можно назначить только подсистеме балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3aad2-244">Static Public IPs can only be assigned to a Load balancer right now.</span></span> |
| <span data-ttu-id="3aad2-245">Отдельный общедоступный IP-адрес для каждой виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="3aad2-245">Public IP Address (PIP) per VM</span></span> |<span data-ttu-id="3aad2-246">Общедоступные IP-адреса можно также связать с виртуальной машиной напрямую.</span><span class="sxs-lookup"><span data-stu-id="3aad2-246">Public IP Addresses can also be associated to a VM directly.</span></span> |<span data-ttu-id="3aad2-247">Общедоступный IP-адрес — это ресурс, предоставляемый поставщиком Microsoft.Network.</span><span class="sxs-lookup"><span data-stu-id="3aad2-247">Public IP address is a resource exposed by the Microsoft.Network provider.</span></span> <span data-ttu-id="3aad2-248">Общедоступный IP-адрес может быть статическим (зарезервированным) или динамическим.</span><span class="sxs-lookup"><span data-stu-id="3aad2-248">Public IP Address can be Static (Reserved) or Dynamic.</span></span> <span data-ttu-id="3aad2-249">Тем не менее сейчас чтобы получить отдельный общедоступный IP-адрес для каждой виртуальной машины, виртуальному интерфейсу можно назначать только динамические общедоступные IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="3aad2-249">However, only dynamic Public IPs can be assigned to a Network Interface to get a Public IP per VM right now.</span></span> |
| <span data-ttu-id="3aad2-250">Конечные точки</span><span class="sxs-lookup"><span data-stu-id="3aad2-250">Endpoints</span></span> |<span data-ttu-id="3aad2-251">Чтобы входные конечные точки служили в качестве открытых элементов, обеспечивающих подключение, в определенных портах, их необходимо было настроить в виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="3aad2-251">Input Endpoints needed to be configured on a Virtual Machine to be open up connectivity for certain ports.</span></span> <span data-ttu-id="3aad2-252">Один из распространенных способов подключения к виртуальным машинам — это настройка входных конечных точек.</span><span class="sxs-lookup"><span data-stu-id="3aad2-252">One of the common modes of connecting to virtual machines done by setting up input endpoints.</span></span> |<span data-ttu-id="3aad2-253">В подсистеме балансировки нагрузки можно настроить правила преобразования сетевых адресов (NAT) для входящих подключений, чтобы получить ту же возможность включения конечных точек в определенных портах для подключения к виртуальным машинам.</span><span class="sxs-lookup"><span data-stu-id="3aad2-253">Inbound NAT Rules can be configured on Load Balancers to achieve the same capability of enabling endpoints on specific ports for connecting to the VMs.</span></span> |
| <span data-ttu-id="3aad2-254">DNS-имя</span><span class="sxs-lookup"><span data-stu-id="3aad2-254">DNS Name</span></span> |<span data-ttu-id="3aad2-255">Облачная служба получит скрытое глобальное уникальное DNS-имя.</span><span class="sxs-lookup"><span data-stu-id="3aad2-255">A cloud service would get an implicit globally unique DNS Name.</span></span> <span data-ttu-id="3aad2-256">Например, `mycoffeeshop.cloudapp.net`.</span><span class="sxs-lookup"><span data-stu-id="3aad2-256">For example: `mycoffeeshop.cloudapp.net`.</span></span> |<span data-ttu-id="3aad2-257">DNS-имена являются необязательными параметрами, которые можно указать в ресурсе общедоступного IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="3aad2-257">DNS Names are optional parameters that can be specified on a Public IP Address resource.</span></span> <span data-ttu-id="3aad2-258">Формат полного доменного имени — `<domainlabel>.<region>.cloudapp.azure.com`.</span><span class="sxs-lookup"><span data-stu-id="3aad2-258">The FQDN is in the following format - `<domainlabel>.<region>.cloudapp.azure.com`.</span></span> |
| <span data-ttu-id="3aad2-259">Сетевые интерфейсы</span><span class="sxs-lookup"><span data-stu-id="3aad2-259">Network Interfaces</span></span> |<span data-ttu-id="3aad2-260">Первичный и вторичный сетевой интерфейс и их свойства были определены в качестве конфигурации сети виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="3aad2-260">Primary and Secondary Network Interface and its properties were defined as network configuration of a Virtual machine.</span></span> |<span data-ttu-id="3aad2-261">Сетевой интерфейс — это ресурс, предоставляемый поставщиком Microsoft.Network.</span><span class="sxs-lookup"><span data-stu-id="3aad2-261">Network Interface is a resource exposed by Microsoft.Network Provider.</span></span> <span data-ttu-id="3aad2-262">Жизненный цикл сетевого интерфейса не связан с виртуальной машиной.</span><span class="sxs-lookup"><span data-stu-id="3aad2-262">The lifecycle of the Network Interface is not tied to a Virtual Machine.</span></span> <span data-ttu-id="3aad2-263">Он ссылается на назначенный виртуальной машине IP-адрес (обязательный), подсеть виртуальной сети для виртуальной машины (обязательную) и группу сетевой безопасности (необязательную).</span><span class="sxs-lookup"><span data-stu-id="3aad2-263">It references the virtual machine's assigned IP address (required), the subnet of the virtual network for the virtual machine (required), and to a Network Security Group (optional).</span></span> |

<span data-ttu-id="3aad2-264">Сведения о подключении виртуальных сетей с помощью различных моделей развертывания см. в статье [Создание подключения между виртуальными сетями из разных моделей развертывания с помощью портала](../vpn-gateway/vpn-gateway-connect-different-deployment-models-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3aad2-264">To learn about connecting virtual networks from different deployment models, see [Connect virtual networks from different deployment models in the portal](../vpn-gateway/vpn-gateway-connect-different-deployment-models-portal.md).</span></span>

## <a name="migrate-from-classic-to-resource-manager"></a><span data-ttu-id="3aad2-265">Миграция с классической модели развертывания на модель Resource Manager</span><span class="sxs-lookup"><span data-stu-id="3aad2-265">Migrate from classic to Resource Manager</span></span>
<span data-ttu-id="3aad2-266">Дополнительные сведения о переходе с классической модели развертывания на модель Resource Manager см. в следующих источниках:</span><span class="sxs-lookup"><span data-stu-id="3aad2-266">If you are ready to migrate your resources from classic deployment to Resource Manager deployment, see:</span></span>

1. [<span data-ttu-id="3aad2-267">Техническое руководство по поддерживаемому платформой переносу из классической модели в модель Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="3aad2-267">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](../virtual-machines/windows/migration-classic-resource-manager-deep-dive.md)
2. [<span data-ttu-id="3aad2-268">Поддерживаемый платформой перенос ресурсов IaaS из классической модели в модель Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="3aad2-268">Platform supported migration of IaaS resources from Classic to Azure Resource Manager</span></span>](../virtual-machines/windows/migration-classic-resource-manager-overview.md)
3. [<span data-ttu-id="3aad2-269">Перенос ресурсов IaaS из классической модели в модель Azure Resource Manager с помощью Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3aad2-269">Migrate IaaS resources from classic to Azure Resource Manager by using Azure PowerShell</span></span>](../virtual-machines/windows/migration-classic-resource-manager-ps.md)
4. [<span data-ttu-id="3aad2-270">Перенос ресурсов IaaS из классического развертывания в развертывание с помощью Azure Resource Manager с использованием Azure CLI</span><span class="sxs-lookup"><span data-stu-id="3aad2-270">Migrate IaaS resources from classic to Azure Resource Manager by using Azure CLI</span></span>](../virtual-machines/virtual-machines-linux-cli-migration-classic-resource-manager.md)

## <a name="frequently-asked-questions"></a><span data-ttu-id="3aad2-271">Часто задаваемые вопросы</span><span class="sxs-lookup"><span data-stu-id="3aad2-271">Frequently Asked Questions</span></span>
<span data-ttu-id="3aad2-272">**Могу ли я создать виртуальную машину с помощью Azure Resource Manager для развертывания в виртуальной сети, которая создана с помощью классической модели развертывания?**</span><span class="sxs-lookup"><span data-stu-id="3aad2-272">**Can I create a virtual machine using Azure Resource Manager to deploy in a virtual network created using classic deployment?**</span></span>

<span data-ttu-id="3aad2-273">Это не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="3aad2-273">This is not supported.</span></span> <span data-ttu-id="3aad2-274">Нельзя развернуть виртуальную машину с помощью Azure Resource Manager в виртуальной сети, созданной с помощью классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="3aad2-274">You cannot use Azure Resource Manager to deploy a virtual machine into a virtual network that was created using classic deployment.</span></span>

<span data-ttu-id="3aad2-275">**Могу ли я создать виртуальную машину с помощью Azure Resource Manager, применив пользовательский образ, который создан с помощью интерфейсов API управления службами Azure?**</span><span class="sxs-lookup"><span data-stu-id="3aad2-275">**Can I create a virtual machine using the Azure Resource Manager from a user image that was created using the Azure Service Management APIs?**</span></span>

<span data-ttu-id="3aad2-276">Это не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="3aad2-276">This is not supported.</span></span> <span data-ttu-id="3aad2-277">Тем не менее вы можете скопировать VHD-файлы из учетной записи хранения, созданной с помощью API управления службами, и добавить их в новую учетную запись, созданную с помощью Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-277">However, you can copy the VHD files from a storage account that was created using the Service Management APIs, and add them to a new account created through Azure Resource Manager.</span></span>

<span data-ttu-id="3aad2-278">**Как использование новых ресурсов влияет на квоту моей подписки?**</span><span class="sxs-lookup"><span data-stu-id="3aad2-278">**What is the impact on the quota for my subscription?**</span></span>

<span data-ttu-id="3aad2-279">Квоты для виртуальных машин, виртуальных сетей и учетных записей хранения, созданных с помощью Azure Resource Manager, используются отдельно от других квот.</span><span class="sxs-lookup"><span data-stu-id="3aad2-279">The quotas for the virtual machines, virtual networks, and storage accounts created through the Azure Resource Manager are separate from other quotas.</span></span> <span data-ttu-id="3aad2-280">Каждая подписка получает квоты для создания ресурсов с помощью новых интерфейсов API.</span><span class="sxs-lookup"><span data-stu-id="3aad2-280">Each subscription gets quotas to create the resources using the new APIs.</span></span> <span data-ttu-id="3aad2-281">Подробнее о дополнительных квотах см. [здесь](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="3aad2-281">You can read more about the additional quotas [here](../azure-subscription-service-limits.md).</span></span>

<span data-ttu-id="3aad2-282">**Могу ли я продолжить использовать свои автоматизированные сценарии для подготовки виртуальных машин, виртуальных сетей и учетных записей хранения с помощью новых интерфейсов API Resource Manager?**</span><span class="sxs-lookup"><span data-stu-id="3aad2-282">**Can I continue to use my automated scripts for provisioning virtual machines, virtual networks, and storage accounts through the Resource Manager APIs?**</span></span>

<span data-ttu-id="3aad2-283">Все автоматизированные сценарии и сценарии, созданные вами, продолжают действовать в существующих виртуальных машинах и виртуальных сетях, созданных в режиме управления службами Azure.</span><span class="sxs-lookup"><span data-stu-id="3aad2-283">All the automation and scripts that you've built continue to work for the existing virtual machines, virtual networks created under the Azure Service Management mode.</span></span> <span data-ttu-id="3aad2-284">Тем не менее эти сценарии необходимо обновить, чтобы использовать новую схему создания тех же ресурсов в режиме Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="3aad2-284">However, the scripts have to be updated to use the new schema for creating the same resources through the Resource Manager mode.</span></span>

<span data-ttu-id="3aad2-285">**Где можно найти примеры шаблонов диспетчера ресурсов Azure?**</span><span class="sxs-lookup"><span data-stu-id="3aad2-285">**Where can I find examples of Azure Resource Manager templates?**</span></span>

<span data-ttu-id="3aad2-286">Полный набор начальных шаблонов можно найти в разделе [шаблонов быстрого запуска для Azure Resource Manager](https://azure.microsoft.com/documentation/templates/).</span><span class="sxs-lookup"><span data-stu-id="3aad2-286">A comprehensive set of starter templates can be found on [Azure Resource Manager Quickstart Templates](https://azure.microsoft.com/documentation/templates/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="3aad2-287">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="3aad2-287">Next steps</span></span>
* <span data-ttu-id="3aad2-288">Пошаговые инструкции по созданию шаблона, который определяет виртуальную машину, учетную запись хранения и виртуальную сеть, см. в статье [Пошаговое руководство по созданию шаблона Resource Manager](resource-manager-template-walkthrough.md).</span><span class="sxs-lookup"><span data-stu-id="3aad2-288">To walk through the creation of template that defines a virtual machine, storage account, and virtual network, see [Resource Manager template walkthrough](resource-manager-template-walkthrough.md).</span></span>
* <span data-ttu-id="3aad2-289">Команды для развертывания шаблонов см. в статье [Развертывание ресурсов с использованием шаблонов Resource Manager и Azure PowerShell](resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="3aad2-289">To see the commands for deploying a template, see [Deploy an application with Azure Resource Manager template](resource-group-template-deploy.md).</span></span>

