---
title: "Рекомендации для предприятий, переходящих на использование Azure | Документация Майкрософт"
description: "Описывается каркас, который предприятия могут использовать, чтобы обеспечить безопасную и управляемую среду."
services: azure-resource-manager
documentationcenter: na
author: rdendtler
manager: timlt
editor: tysonn
ms.assetid: 8692f37e-4d33-4100-b472-a8da37ce628f
ms.service: azure-resource-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/31/2017
ms.author: rodend;karlku;tomfitz
ms.openlocfilehash: 3a19f2cf7566f38f80639d7c966638a3ec900cf4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="azure-enterprise-scaffold---prescriptive-subscription-governance"></a><span data-ttu-id="21a0e-103">Корпоративный каркас Azure: рекомендуемая система управления подписками</span><span class="sxs-lookup"><span data-stu-id="21a0e-103">Azure enterprise scaffold - prescriptive subscription governance</span></span>
<span data-ttu-id="21a0e-104">Предприятия все чаще внедряют общедоступное облако ввиду его гибкости и динамичности.</span><span class="sxs-lookup"><span data-stu-id="21a0e-104">Enterprises are increasingly adopting the public cloud for its agility and flexibility.</span></span> <span data-ttu-id="21a0e-105">Они используют преимущества облака для создания дохода или оптимизации ресурсов для бизнеса.</span><span class="sxs-lookup"><span data-stu-id="21a0e-105">They are utilizing the cloud's strengths to generate revenue or optimize resources for the business.</span></span> <span data-ttu-id="21a0e-106">Microsoft Azure предоставляет множество служб, из которых как из строительных блоков предприятия могут конструировать решения для широкого спектра рабочих нагрузок и приложений.</span><span class="sxs-lookup"><span data-stu-id="21a0e-106">Microsoft Azure provides a multitude of services that enterprises can assemble like building blocks to address a wide array of workloads and applications.</span></span> 

<span data-ttu-id="21a0e-107">Но нередко сложно понять, откуда следует начинать.</span><span class="sxs-lookup"><span data-stu-id="21a0e-107">But, knowing where to begin is often difficult.</span></span> <span data-ttu-id="21a0e-108">После выбора Azure часто возникает несколько вопросов:</span><span class="sxs-lookup"><span data-stu-id="21a0e-108">After deciding to use Azure, a few questions commonly arise:</span></span>

* <span data-ttu-id="21a0e-109">"Как соблюсти местные нормативные требования к независимости данных в некоторых странах?"</span><span class="sxs-lookup"><span data-stu-id="21a0e-109">"How do I meet our legal requirements for data sovereignty in certain countries?"</span></span>
* <span data-ttu-id="21a0e-110">"Как гарантировать, что никто случайно не изменит критически важную систему?"</span><span class="sxs-lookup"><span data-stu-id="21a0e-110">"How do I ensure that someone does not inadvertently change a critical system?"</span></span>
* <span data-ttu-id="21a0e-111">"Как узнать, что обеспечивает тот или иной ресурс, чтобы учесть его и правильно добавить в счет?"</span><span class="sxs-lookup"><span data-stu-id="21a0e-111">"How do I know what every resource is supporting so I can account for it and bill it back accurately?"</span></span>

<span data-ttu-id="21a0e-112">Перспектива пустой подписки без какой-либо защиты пугает.</span><span class="sxs-lookup"><span data-stu-id="21a0e-112">The prospect of an empty subscription with no guard rails is daunting.</span></span> <span data-ttu-id="21a0e-113">Этот пробел может помешать перемещению в Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-113">This blank space can hamper your move to Azure.</span></span>

<span data-ttu-id="21a0e-114">Эта статья служит отправной точкой для технических специалистов и посвящена балансу требований управления и гибкости.</span><span class="sxs-lookup"><span data-stu-id="21a0e-114">This article provides a starting point for technical professionals to address the need for governance, and balance it with the need for agility.</span></span> <span data-ttu-id="21a0e-115">В ней вводится понятие корпоративного каркаса, который помогает организациям при внедрении подписок Azure и управлении ими.</span><span class="sxs-lookup"><span data-stu-id="21a0e-115">It introduces the concept of an enterprise scaffold that guides organizations in implementing and managing their Azure subscriptions.</span></span> 

## <a name="need-for-governance"></a><span data-ttu-id="21a0e-116">Требования управления</span><span class="sxs-lookup"><span data-stu-id="21a0e-116">Need for governance</span></span>
<span data-ttu-id="21a0e-117">При перемещении в Azure необходимо заблаговременно рассмотреть вопрос управления, чтобы обеспечить успешное использование облака на предприятии.</span><span class="sxs-lookup"><span data-stu-id="21a0e-117">When moving to Azure, you must address the topic of governance early to ensure the successful use of the cloud within the enterprise.</span></span> <span data-ttu-id="21a0e-118">К сожалению, нехватка времени и волокита, связанная с созданием комплексной системы управления, приводят к тому, что некоторые рабочие группы сразу идут к поставщикам, не привлекая ИТ-отдел предприятия.</span><span class="sxs-lookup"><span data-stu-id="21a0e-118">Unfortunately, the time and bureaucracy of creating a comprehensive governance system means some business groups go directly to vendors without involving enterprise IT.</span></span> <span data-ttu-id="21a0e-119">Такой подход может оставить предприятие уязвимым, если управление ресурсами осуществляется неправильно.</span><span class="sxs-lookup"><span data-stu-id="21a0e-119">This approach can leave the enterprise open to vulnerabilities if the resources are not properly managed.</span></span> <span data-ttu-id="21a0e-120">Характеристики общедоступного облака — гибкость, динамичность и стоимость на основе использования — важны для бизнес-групп, которым нужно быстро удовлетворять потребности клиентов (внутренних и внешних).</span><span class="sxs-lookup"><span data-stu-id="21a0e-120">The characteristics of the public cloud - agility, flexibility, and consumption-based pricing - are important to business groups that need to quickly meet the demands of customers (both internal and external).</span></span> <span data-ttu-id="21a0e-121">Но ИТ-отделу предприятия нужно убедиться в эффективной защите данных и систем.</span><span class="sxs-lookup"><span data-stu-id="21a0e-121">But, enterprise IT needs to ensure that data and systems are effectively protected.</span></span>

<span data-ttu-id="21a0e-122">В реальной жизни для создания основы каркаса используется формирование шаблонов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-122">In real life, scaffolding is used to create the basis of the structure.</span></span> <span data-ttu-id="21a0e-123">Каркас обеспечивает общую структуру и предоставляет точки привязки, к которым можно присоединить более постоянные системы.</span><span class="sxs-lookup"><span data-stu-id="21a0e-123">The scaffold guides the general outline, and provides anchor points for more permanent systems to be mounted.</span></span> <span data-ttu-id="21a0e-124">Корпоративный каркас ничем не отличается: это набор гибких элементов управления и возможностей Azure, обеспечивающих структуру среды, и привязок для служб на основе общедоступного облака.</span><span class="sxs-lookup"><span data-stu-id="21a0e-124">An enterprise scaffold is the same: a set of flexible controls and Azure capabilities that provide structure to the environment, and anchors for services built on the public cloud.</span></span> <span data-ttu-id="21a0e-125">Он предоставляет разработчикам (ИТ-отделам и бизнес-группам) основу для создания и присоединения новых служб.</span><span class="sxs-lookup"><span data-stu-id="21a0e-125">It provides the builders (IT and business groups) a foundation to create and attach new services.</span></span>

<span data-ttu-id="21a0e-126">В основе каркаса лежат рекомендации, полученные при сотрудничестве с клиентскими организациями различных размеров.</span><span class="sxs-lookup"><span data-stu-id="21a0e-126">The scaffold is based on practices we have gathered from many engagements with clients of various sizes.</span></span> <span data-ttu-id="21a0e-127">Мы работали с разными клиентами, от небольших организаций, разрабатывающих решения в облаке, до предприятий из списка Fortune 500 и независимых поставщиков программного обеспечения, которые переходят на использование облака и разрабатывают решения в нем.</span><span class="sxs-lookup"><span data-stu-id="21a0e-127">Those clients range from small organizations developing solutions in the cloud to Fortune 500 enterprises and independent software vendors who are migrating and developing solutions in the cloud.</span></span> <span data-ttu-id="21a0e-128">Гибкость корпоративного каркаса предназначена для поддержки традиционных рабочих нагрузок ИТ и гибких рабочих нагрузок. Например, ее преимуществами могут воспользоваться разработчики, создающие приложения SaaS на основе возможностей Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-128">The enterprise scaffold is "purpose-built" to be flexible to support both traditional IT workloads and agile workloads; such as, developers creating software-as-a-service (SaaS) applications based on Azure capabilities.</span></span>

<span data-ttu-id="21a0e-129">Корпоративный каркас предназначен стать основой каждой новой подписки в Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-129">The enterprise scaffold is intended to be the foundation of each new subscription within Azure.</span></span> <span data-ttu-id="21a0e-130">Он позволяет администраторам гарантировать, что рабочие нагрузки соответствуют минимальным требованиям управления организации, не мешая бизнес-группам и разработчикам быстро достигать собственных целей.</span><span class="sxs-lookup"><span data-stu-id="21a0e-130">It enables administrators to ensure workloads meet the minimum governance requirements of an organization without preventing business groups and developers from quickly meeting their own goals.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="21a0e-131">Управление крайне важно для успешной работы Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-131">Governance is crucial to the success of Azure.</span></span> <span data-ttu-id="21a0e-132">В этой статье рассматривается техническая реализация корпоративного каркаса, но только затрагивается более широкий процесс и связи между компонентами.</span><span class="sxs-lookup"><span data-stu-id="21a0e-132">This article targets the technical implementation of an enterprise scaffold but only touches on the broader process and relationships between the components.</span></span> <span data-ttu-id="21a0e-133">Политики управления действуют сверху вниз и определяются целями бизнеса.</span><span class="sxs-lookup"><span data-stu-id="21a0e-133">Policy governance flows from the top down and is determined by what the business wants to achieve.</span></span> <span data-ttu-id="21a0e-134">Естественно, в создании модели управления для Azure участвуют представители ИТ-отдела, но, что более важно, в нем должны активно участвовать представители руководителей бизнес-групп, а также специалисты по безопасности и управлению рисками.</span><span class="sxs-lookup"><span data-stu-id="21a0e-134">Naturally, the creation of a governance model for Azure includes representatives from IT, but more importantly it should have strong representation from business group leaders, and security and risk management.</span></span> <span data-ttu-id="21a0e-135">В конечном счете задача корпоративного каркаса — уменьшить бизнес-риски и помочь в выполнении миссии и достижении целей организации.</span><span class="sxs-lookup"><span data-stu-id="21a0e-135">In the end, an enterprise scaffold is about mitigating business risk to facilitate an organization's mission and objectives.</span></span>
> 
> 

<span data-ttu-id="21a0e-136">На рисунке ниже приведены компоненты каркаса.</span><span class="sxs-lookup"><span data-stu-id="21a0e-136">The following image describes the components of the scaffold.</span></span> <span data-ttu-id="21a0e-137">В основе лежит надежный план для отделов, учетных записей и подписок.</span><span class="sxs-lookup"><span data-stu-id="21a0e-137">The foundation relies on a solid plan for departments, accounts, and subscriptions.</span></span> <span data-ttu-id="21a0e-138">Опорами служат политики Resource Manager и строгие стандарты именования.</span><span class="sxs-lookup"><span data-stu-id="21a0e-138">The pillars consist of Resource Manager policies and strong naming standards.</span></span> <span data-ttu-id="21a0e-139">Остальная часть каркаса состоит из основных возможностей и функций Azure, обеспечивающих безопасную и управляемую среду.</span><span class="sxs-lookup"><span data-stu-id="21a0e-139">The rest of the scaffold comes from core Azure capabilities and features that enable a secure and manageable environment.</span></span>

![Компоненты каркаса](./media/resource-manager-subscription-governance/components.png)

> [!NOTE]
> <span data-ttu-id="21a0e-141">После появления в 2008 году среда Azure быстро распространилась и выросла в размерах.</span><span class="sxs-lookup"><span data-stu-id="21a0e-141">Azure has grown rapidly since its introduction in 2008.</span></span> <span data-ttu-id="21a0e-142">Этот рост потребовал от инженеров Майкрософт пересмотреть подход к управлению службами и их развертыванию.</span><span class="sxs-lookup"><span data-stu-id="21a0e-142">This growth required Microsoft engineering teams to rethink their approach for managing and deploying services.</span></span> <span data-ttu-id="21a0e-143">В 2014 году на смену классической модели развертывания пришла модель Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="21a0e-143">The Azure Resource Manager model was introduced in 2014 and replaces the classic deployment model.</span></span> <span data-ttu-id="21a0e-144">Resource Manager позволяет организациям легко развертывать, упорядочивать ресурсы и управлять ими в Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-144">Resource Manager enables organizations to more easily deploy, organize, and control Azure resources.</span></span> <span data-ttu-id="21a0e-145">Resource Manager обеспечивает распараллеливание при создании ресурсов, что ускоряет развертывание сложных, взаимозависимых решений.</span><span class="sxs-lookup"><span data-stu-id="21a0e-145">Resource Manager includes parallelization when creating resources for faster deployment of complex, interdependent solutions.</span></span> <span data-ttu-id="21a0e-146">Он также предоставляет детализированное управление доступом и возможность помечать ресурсы метаданными.</span><span class="sxs-lookup"><span data-stu-id="21a0e-146">It also includes granular access control, and the ability to tag resources with metadata.</span></span> <span data-ttu-id="21a0e-147">Корпорация Майкрософт рекомендует создавать все ресурсы, используя модель Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="21a0e-147">Microsoft recommends that you create all resources through the Resource Manager model.</span></span> <span data-ttu-id="21a0e-148">Корпоративный каркас специально разработан для модели Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="21a0e-148">The enterprise scaffold is explicitly designed for the Resource Manager model.</span></span>
> 
> 

## <a name="define-your-hierarchy"></a><span data-ttu-id="21a0e-149">Определение иерархии</span><span class="sxs-lookup"><span data-stu-id="21a0e-149">Define your hierarchy</span></span>
<span data-ttu-id="21a0e-150">Основой каркаса является Соглашение о регистрации Azure Enterprise (и корпоративный портал).</span><span class="sxs-lookup"><span data-stu-id="21a0e-150">The foundation of the scaffold is the Azure Enterprise Enrollment (and the Enterprise Portal).</span></span> <span data-ttu-id="21a0e-151">Соглашение о регистрации Enterprise определяет форму и использование служб Azure в компании и является основной структурой управления.</span><span class="sxs-lookup"><span data-stu-id="21a0e-151">The enterprise enrollment defines the shape and use of Azure services within a company and is the core governance structure.</span></span> <span data-ttu-id="21a0e-152">В рамках Соглашения о регистрации Enterprise клиенты могут дополнительно разделить среду на отделы, учетные записи и, наконец, подписки.</span><span class="sxs-lookup"><span data-stu-id="21a0e-152">Within the enterprise agreement, customers are able to further subdivide the environment into departments, accounts, and finally, subscriptions.</span></span> <span data-ttu-id="21a0e-153">Подписка Azure представляет собой базовую единицу, в которой содержатся все ресурсы.</span><span class="sxs-lookup"><span data-stu-id="21a0e-153">An Azure subscription is the basic unit where all resources are contained.</span></span> <span data-ttu-id="21a0e-154">Она также определяет несколько ограничений в Azure, в том числе количество ядер, ресурсов и т. д.</span><span class="sxs-lookup"><span data-stu-id="21a0e-154">It also defines several limits within Azure, such as number of cores, resources, etc.</span></span>

![Иерархия](./media/resource-manager-subscription-governance/agreement.png)

<span data-ttu-id="21a0e-156">Все предприятия разные, и иерархия на предыдущем рисунке обеспечивает значительную гибкость в организации ресурсов Azure компании.</span><span class="sxs-lookup"><span data-stu-id="21a0e-156">Every enterprise is different and the hierarchy in the previous image allows for significant flexibility in how Azure is organized within the company.</span></span> <span data-ttu-id="21a0e-157">Перед реализацией рекомендаций, содержащихся в этом документе, необходимо смоделировать иерархию и понять, как она влияет на выставление счетов, доступ к ресурсам и сложность.</span><span class="sxs-lookup"><span data-stu-id="21a0e-157">Before implementing the guidance contained in this document, you should model your hierarchy and understand the impact on billing, resource access, and complexity.</span></span>

<span data-ttu-id="21a0e-158">Ниже представлены три распространенных шаблона для Соглашений о регистрации Azure Enterprise.</span><span class="sxs-lookup"><span data-stu-id="21a0e-158">The three common patterns for Azure Enrollments are:</span></span>

* <span data-ttu-id="21a0e-159">**Функциональной** шаблон.</span><span class="sxs-lookup"><span data-stu-id="21a0e-159">The **functional** pattern</span></span>
  
    ![functional](./media/resource-manager-subscription-governance/functional.png)
* <span data-ttu-id="21a0e-161">Шаблон **подразделения**.</span><span class="sxs-lookup"><span data-stu-id="21a0e-161">The **business unit** pattern</span></span> 
  
    ![Подразделение](./media/resource-manager-subscription-governance/business.png)
* <span data-ttu-id="21a0e-163">**Географической** шаблон.</span><span class="sxs-lookup"><span data-stu-id="21a0e-163">The **geographic** pattern</span></span>
  
    ![Географический](./media/resource-manager-subscription-governance/geographic.png)

<span data-ttu-id="21a0e-165">Каркас применяется на уровне подписки, чтобы распространить на нее требования управления предприятия.</span><span class="sxs-lookup"><span data-stu-id="21a0e-165">You apply the scaffold at the subscription level to extend the governance requirements of the enterprise into the subscription.</span></span>

## <a name="naming-standards"></a><span data-ttu-id="21a0e-166">Стандарты именования</span><span class="sxs-lookup"><span data-stu-id="21a0e-166">Naming standards</span></span>
<span data-ttu-id="21a0e-167">Первой опорой каркаса являются стандарты именования.</span><span class="sxs-lookup"><span data-stu-id="21a0e-167">The first pillar of the scaffold is naming standards.</span></span> <span data-ttu-id="21a0e-168">Хорошо спроектированные стандарты именования позволяют определять ресурсы на портале, в счете и в сценариях.</span><span class="sxs-lookup"><span data-stu-id="21a0e-168">Well-designed naming standards enable you to identify resources in the portal, on a bill, and within scripts.</span></span> <span data-ttu-id="21a0e-169">Скорее всего, у вас уже есть стандарты именования для локальной инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="21a0e-169">Most likely, you already have naming standards for on-premises infrastructure.</span></span> <span data-ttu-id="21a0e-170">При добавлении Azure в свою среду следует распространить эти стандарты именования на ресурсы Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-170">When adding Azure to your environment, you should extend those naming standards to your Azure resources.</span></span> <span data-ttu-id="21a0e-171">Стандарт именования упрощает и делает более эффективным управление средой на всех уровнях.</span><span class="sxs-lookup"><span data-stu-id="21a0e-171">Naming standard facilitate more efficient management of the environment at all levels.</span></span>

> [!TIP]
> <span data-ttu-id="21a0e-172">Для соглашений об именовании:</span><span class="sxs-lookup"><span data-stu-id="21a0e-172">For naming conventions:</span></span>
> * <span data-ttu-id="21a0e-173">Ознакомьтесь с [руководством по шаблонам и рекомендациями](../guidance/guidance-naming-conventions.md) и применяйте полученные знания, где это уместно.</span><span class="sxs-lookup"><span data-stu-id="21a0e-173">Review and adopt where possible the [Patterns and Practices guidance](../guidance/guidance-naming-conventions.md).</span></span> <span data-ttu-id="21a0e-174">Это руководство поможет выбрать информативный стандарт именования.</span><span class="sxs-lookup"><span data-stu-id="21a0e-174">This guidance helps you decide on a meaningful naming standard.</span></span>
> * <span data-ttu-id="21a0e-175">Используйте шаблон camelCasing для имен ресурсов (например, мояГруппаРесурсов и имяВиртуальнойСети).</span><span class="sxs-lookup"><span data-stu-id="21a0e-175">Use camelCasing for names of resources (such as myResourceGroup and vnetNetworkName).</span></span> <span data-ttu-id="21a0e-176">Примечание. Существуют некоторые ресурсы, в том числе учетные записи хранения, для которых можно использовать только нижний регистр (без каких-либо специальных знаков).</span><span class="sxs-lookup"><span data-stu-id="21a0e-176">Note: There are certain resources, such as storage accounts, where the only option is to use lower case (and no other special characters).</span></span>
> * <span data-ttu-id="21a0e-177">Рассмотрите возможность использования политик Azure Resource Manager (как описано в следующем разделе) для применения стандартов именования.</span><span class="sxs-lookup"><span data-stu-id="21a0e-177">Consider using Azure Resource Manager policies (described in the next section) to enforce naming standards.</span></span>
> 
> <span data-ttu-id="21a0e-178">Приведенные выше советы помогут вам реализовать единое соглашение об именовании.</span><span class="sxs-lookup"><span data-stu-id="21a0e-178">The preceding tips help you implement a consistent naming convention.</span></span>

## <a name="policies-and-auditing"></a><span data-ttu-id="21a0e-179">Политики и аудит</span><span class="sxs-lookup"><span data-stu-id="21a0e-179">Policies and auditing</span></span>
<span data-ttu-id="21a0e-180">Вторая опора каркаса включает в себя создание [политик Azure Resource Manager](resource-manager-policy.md) и [аудит журнала действий](resource-group-audit.md).</span><span class="sxs-lookup"><span data-stu-id="21a0e-180">The second pillar of the scaffold involves creating [Azure Resource Manager policies](resource-manager-policy.md) and [auditing the activity log](resource-group-audit.md).</span></span> <span data-ttu-id="21a0e-181">Политики Resource Manager дают возможность управлять рисками в Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-181">Resource Manager policies provide you with the ability to manage risk in Azure.</span></span> <span data-ttu-id="21a0e-182">Можно определить политики, которые гарантируют независимость данных путем ограничения, применения или аудита определенных действий.</span><span class="sxs-lookup"><span data-stu-id="21a0e-182">You can define policies that ensure data sovereignty by restricting, enforcing, or auditing certain actions.</span></span> 

* <span data-ttu-id="21a0e-183">Политика — это система **разрешений** по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="21a0e-183">Policy is a default **allow** system.</span></span> <span data-ttu-id="21a0e-184">Вы контролируете действия, определяя и назначая для ресурсов политики, которые запрещают действия с этими ресурсами или осуществляют аудит этих действий.</span><span class="sxs-lookup"><span data-stu-id="21a0e-184">You control actions by defining and assigning policies to resources that deny or audit actions on resources.</span></span>
* <span data-ttu-id="21a0e-185">Политики описываются определениями политик на языке определения политик (с условиями if-then).</span><span class="sxs-lookup"><span data-stu-id="21a0e-185">Policies are described by policy definitions in a policy definition language (if-then conditions).</span></span>
* <span data-ttu-id="21a0e-186">Политики создаются в виде файлов в формате JSON (нотация объектов JavaScript).</span><span class="sxs-lookup"><span data-stu-id="21a0e-186">You create polices with JSON (Javascript Object Notation) formatted files.</span></span> <span data-ttu-id="21a0e-187">После определения политики ее можно назначить определенной области: подписке, группе ресурсов или ресурсу.</span><span class="sxs-lookup"><span data-stu-id="21a0e-187">After defining a policy, you assign it to a particular scope: subscription, resource group, or resource.</span></span>

<span data-ttu-id="21a0e-188">В политиках указывается множество действий, которые позволяют детализировать реализуемые сценарии.</span><span class="sxs-lookup"><span data-stu-id="21a0e-188">Policies have multiple actions that allow for a fine-grained approach to your scenarios.</span></span> <span data-ttu-id="21a0e-189">Доступны следующие действия:</span><span class="sxs-lookup"><span data-stu-id="21a0e-189">The actions are:</span></span>

* <span data-ttu-id="21a0e-190">**Deny**: блокирует запрос ресурса;</span><span class="sxs-lookup"><span data-stu-id="21a0e-190">**Deny**: Blocks the resource request</span></span>
* <span data-ttu-id="21a0e-191">**Audit**: разрешает запрос, но добавляет строку в журнал действий (который может использоваться для отображения предупреждений или активации модулей Runbook).</span><span class="sxs-lookup"><span data-stu-id="21a0e-191">**Audit**: Allows the request but adds a line to the activity log (which can be used to provide alerts or to trigger runbooks)</span></span>
* <span data-ttu-id="21a0e-192">**Append**: добавляет указанные сведения в ресурс.</span><span class="sxs-lookup"><span data-stu-id="21a0e-192">**Append**: Adds specified information to the resource.</span></span> <span data-ttu-id="21a0e-193">Например, если у ресурса нет тега CostCenter, политика добавляет этот тег со значением по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="21a0e-193">For example, if there is not a "CostCenter" tag on a resource, add that tag with a default value.</span></span>

### <a name="common-uses-of-resource-manager-policies"></a><span data-ttu-id="21a0e-194">Распространенные примеры использования политик Resource Manager</span><span class="sxs-lookup"><span data-stu-id="21a0e-194">Common uses of Resource Manager policies</span></span>
<span data-ttu-id="21a0e-195">Политики Azure Resource Manager — это мощный инструмент из набора средств Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-195">Azure Resource Manager policies are a powerful tool in the Azure toolkit.</span></span> <span data-ttu-id="21a0e-196">Они позволяют избежать непредвиденных расходов, выявить место возникновения затрат для ресурсов с помощью тегов и обеспечить соблюдение требований соответствия.</span><span class="sxs-lookup"><span data-stu-id="21a0e-196">They enable you to avoid unexpected costs, to identify a cost center for resources through tagging, and to ensure that compliancy requirements are met.</span></span> <span data-ttu-id="21a0e-197">А если совместить политики со встроенными функциями аудита, то можно создавать сложные и гибкие решения.</span><span class="sxs-lookup"><span data-stu-id="21a0e-197">When policies are combined with the built-in auditing features, you can fashion complex and flexible solutions.</span></span> <span data-ttu-id="21a0e-198">Политики позволяют компаниям предоставлять элементы управления для традиционных рабочих нагрузок ИТ и гибких рабочих нагрузок, например, разработки приложений для клиентов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-198">Policies allow companies to provide controls for "Traditional IT" workloads and "Agile" workloads; such as, developing customer applications.</span></span> <span data-ttu-id="21a0e-199">Ниже перечислены наиболее распространенные шаблоны использования политик, которые мы предусматриваем.</span><span class="sxs-lookup"><span data-stu-id="21a0e-199">The most common patterns we see for policies are:</span></span>

* <span data-ttu-id="21a0e-200">**Географическое соответствие и независимость данных**. Azure предоставляет регионы по всему миру.</span><span class="sxs-lookup"><span data-stu-id="21a0e-200">**Geo-compliance/data sovereignty** - Azure provides regions across the world.</span></span> <span data-ttu-id="21a0e-201">Предприятиям часто требуется контролировать место создания ресурсов (чтобы обеспечить независимость данных или просто для того, чтобы ресурсы создавались близко к использующим их клиентам).</span><span class="sxs-lookup"><span data-stu-id="21a0e-201">Enterprises often wish to control where resources are created (whether to ensure data sovereignty or just to ensure resources are created close to the end consumers of the resources).</span></span>
* <span data-ttu-id="21a0e-202">**Управление затратами**. Подписка Azure может содержать ресурсы многих типов и масштабов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-202">**Cost management** - An Azure subscription can contain resources of many types and scale.</span></span> <span data-ttu-id="21a0e-203">Корпорациям часто нужно обеспечить, чтобы стандартные подписки не использовали необоснованно большие ресурсы, которые могут стоить сотни долларов в месяц, если не больше.</span><span class="sxs-lookup"><span data-stu-id="21a0e-203">Corporations often wish to ensure that standard subscriptions avoid using unnecessarily large resources, which can cost hundreds of dollars a month or more.</span></span>
* <span data-ttu-id="21a0e-204">**Стандартное управление посредством обязательных тегов**. Требование наличия тегов является одной из наиболее распространенных и очень желаемых функций.</span><span class="sxs-lookup"><span data-stu-id="21a0e-204">**Default governance through required tags** - Requiring tags is one of the most common and highly desired features.</span></span> <span data-ttu-id="21a0e-205">Используя политики Azure Resource Manager, предприятия могут обеспечить добавление соответствующих тегов для ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-205">Using Azure Resource Manager Policies enterprises are able to ensure that a resource is appropriately tagged.</span></span> <span data-ttu-id="21a0e-206">Наиболее распространенные теги обозначают отдел, владельца ресурса и тип среды (например, рабочая, тестовая, для разработки).</span><span class="sxs-lookup"><span data-stu-id="21a0e-206">The most common tags are: Department, Resource Owner, and Environment type (for example - production, test, development)</span></span>

<span data-ttu-id="21a0e-207">**Примеры**</span><span class="sxs-lookup"><span data-stu-id="21a0e-207">**Examples**</span></span>

<span data-ttu-id="21a0e-208">Традиционная подписка ИТ для бизнес-приложений:</span><span class="sxs-lookup"><span data-stu-id="21a0e-208">"Traditional IT" subscription for line-of-business applications</span></span>

* <span data-ttu-id="21a0e-209">Применение тегов отдела и владельца ко всем ресурсам.</span><span class="sxs-lookup"><span data-stu-id="21a0e-209">Enforce Department and Owner tags on all resources</span></span>
* <span data-ttu-id="21a0e-210">Разрешение создавать ресурсы только в регионе "Северная Америка".</span><span class="sxs-lookup"><span data-stu-id="21a0e-210">Restrict resource creation to the North American Region</span></span>
* <span data-ttu-id="21a0e-211">Разрешение создавать только виртуальные машины серии G и кластеры HDInsight.</span><span class="sxs-lookup"><span data-stu-id="21a0e-211">Restrict the ability to create G-Series VMs and HDInsight Clusters</span></span>

<span data-ttu-id="21a0e-212">Гибкая среда для подразделения, создающего облачные приложения:</span><span class="sxs-lookup"><span data-stu-id="21a0e-212">"Agile" Environment for a business unit creating cloud applications</span></span>

* <span data-ttu-id="21a0e-213">Разрешение создавать ресурсы ТОЛЬКО в определенном регионе для соблюдения требований к независимости данных.</span><span class="sxs-lookup"><span data-stu-id="21a0e-213">To meet data sovereignty requirements, allow the creation of resources ONLY in a specific region.</span></span>
* <span data-ttu-id="21a0e-214">Применение тега Соглашения о регистрации ко всем ресурсам.</span><span class="sxs-lookup"><span data-stu-id="21a0e-214">Enforce Environment tag on all resources.</span></span> <span data-ttu-id="21a0e-215">Если ресурс создается без тега, к нему добавляется тег **Среда: неизвестно**.</span><span class="sxs-lookup"><span data-stu-id="21a0e-215">If a resource is created without a tag, append the **Environment: Unknown** tag to the resource.</span></span>
* <span data-ttu-id="21a0e-216">Аудит при создании ресурсов за пределами региона "Северная Америка" (не препятствуя этому).</span><span class="sxs-lookup"><span data-stu-id="21a0e-216">Audit when resources are created outside of North America but do not prevent.</span></span>
* <span data-ttu-id="21a0e-217">Аудит при создании дорогостоящих ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-217">Audit when high-cost resources are created.</span></span>

> [!TIP]
> <span data-ttu-id="21a0e-218">Чаще всего политики Resource Manager в организациях используются для контроля *места*, в котором создаются ресурсы, и *типа* создаваемых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-218">The most common use of Resource Manager policies across organizations is to control *where* resources can be created and *what* types of resources can be created.</span></span> <span data-ttu-id="21a0e-219">Помимо контроля *места* и *типа* с помощью политик многие предприятия используют их для обеспечения ресурсов соответствующими метаданными, предназначенными для выставления счетов за потребление.</span><span class="sxs-lookup"><span data-stu-id="21a0e-219">In addition to providing controls on *where* and *what*, many enterprises use policies to ensure resources have the appropriate metadata to bill back for consumption.</span></span> <span data-ttu-id="21a0e-220">Мы рекомендуем применять политики на уровне подписки для:</span><span class="sxs-lookup"><span data-stu-id="21a0e-220">We recommend applying policies at the subscription level for:</span></span>
> 
> * <span data-ttu-id="21a0e-221">обеспечения географического соответствия и независимости данных;</span><span class="sxs-lookup"><span data-stu-id="21a0e-221">Geo-compliance/data sovereignty</span></span>
> * <span data-ttu-id="21a0e-222">управления затратами;</span><span class="sxs-lookup"><span data-stu-id="21a0e-222">Cost management</span></span>
> * <span data-ttu-id="21a0e-223">применения обязательных тегов (определяемых потребностями бизнеса, например BillTo, Application Owner и т. п.).</span><span class="sxs-lookup"><span data-stu-id="21a0e-223">Required tags (Determined by business need, such as BillTo, Application Owner)</span></span>
> 
> <span data-ttu-id="21a0e-224">Можно применить дополнительные политики на более низких уровнях области применения.</span><span class="sxs-lookup"><span data-stu-id="21a0e-224">You can apply additional policies at lower levels of scope.</span></span>
> 
> 

### <a name="audit---what-happened"></a><span data-ttu-id="21a0e-225">Аудит: что именно произошло?</span><span class="sxs-lookup"><span data-stu-id="21a0e-225">Audit - what happened?</span></span>
<span data-ttu-id="21a0e-226">Чтобы видеть, как функционирует среда, необходимо выполнять аудит действий пользователей.</span><span class="sxs-lookup"><span data-stu-id="21a0e-226">To view how your environment is functioning, you need to audit user activity.</span></span> <span data-ttu-id="21a0e-227">Для большинства типов ресурсов в Azure создаются журналы диагностики, которые можно анализировать с помощью инструмента журнала или Azure Operations Management Suite.</span><span class="sxs-lookup"><span data-stu-id="21a0e-227">Most resource types within Azure create diagnostic logs that you can analyze through a log tool or in Azure Operations Management Suite.</span></span> <span data-ttu-id="21a0e-228">Можно собирать журналы действий для нескольких подписок, чтобы получить представление на уровне отделов или предприятия.</span><span class="sxs-lookup"><span data-stu-id="21a0e-228">You can gather activity logs across multiple subscriptions to provide a departmental or enterprise view.</span></span> <span data-ttu-id="21a0e-229">Записи аудита являются важным инструментом диагностики и ключевым механизмом активации событий в среде Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-229">Audit records are both an important diagnostic tool and a crucial mechanism to trigger events in the Azure environment.</span></span>

<span data-ttu-id="21a0e-230">Журналы действий из развернутых служб Resource Manager позволяют определить, какие были выполнены **операции** и кем.</span><span class="sxs-lookup"><span data-stu-id="21a0e-230">Activity logs from Resource Manager deployments enable you to determine the **operations** that took place and who performed them.</span></span> <span data-ttu-id="21a0e-231">Журналы действий могут быть собраны и объединены с помощью таких инструментов, как Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="21a0e-231">Activity logs can be collected and aggregated using tools like Log Analytics.</span></span>

## <a name="resource-tags"></a><span data-ttu-id="21a0e-232">Теги ресурсов</span><span class="sxs-lookup"><span data-stu-id="21a0e-232">Resource tags</span></span>
<span data-ttu-id="21a0e-233">По мере того, как пользователи в вашей организации добавляют ресурсы в подписку, становится все более важным связать эти ресурсы с соответствующим отделом, клиентом и средой.</span><span class="sxs-lookup"><span data-stu-id="21a0e-233">As users in your organization add resources to the subscription, it becomes increasingly important to associate resources with the appropriate department, customer, and environment.</span></span> <span data-ttu-id="21a0e-234">Вы можете вложить метаданные в ресурсы с помощью [тегов](resource-group-using-tags.md).</span><span class="sxs-lookup"><span data-stu-id="21a0e-234">You can attach metadata to resources through [tags](resource-group-using-tags.md).</span></span> <span data-ttu-id="21a0e-235">Теги используются для предоставления сведений о ресурсе или владельце.</span><span class="sxs-lookup"><span data-stu-id="21a0e-235">You use tags to provide information about the resource or the owner.</span></span> <span data-ttu-id="21a0e-236">Теги позволяют не только объединять и группировать ресурсы различными способами, но и использовать эти метаданные для взимания средств за использование.</span><span class="sxs-lookup"><span data-stu-id="21a0e-236">Tags enable you to not only aggregate and group resources in various ways, but use that data for the purposes of chargeback.</span></span> <span data-ttu-id="21a0e-237">Для пометки ресурса можно использовать до 15 пар "ключ:значение".</span><span class="sxs-lookup"><span data-stu-id="21a0e-237">You can tag resources with up to 15 key:value pairs.</span></span> 

<span data-ttu-id="21a0e-238">Теги ресурсов являются гибким инструментом, и их следует вложить в большинство ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-238">Resource tags are flexible and should be attached to most resources.</span></span> <span data-ttu-id="21a0e-239">Ниже приведены примеры распространенных тегов ресурсов:</span><span class="sxs-lookup"><span data-stu-id="21a0e-239">Examples of common resource tags are:</span></span>

* <span data-ttu-id="21a0e-240">BillTo;</span><span class="sxs-lookup"><span data-stu-id="21a0e-240">BillTo</span></span>
* <span data-ttu-id="21a0e-241">Department (или Business Unit);</span><span class="sxs-lookup"><span data-stu-id="21a0e-241">Department (or Business Unit)</span></span>
* <span data-ttu-id="21a0e-242">Environment (Production, Stage, Development);</span><span class="sxs-lookup"><span data-stu-id="21a0e-242">Environment (Production, Stage, Development)</span></span>
* <span data-ttu-id="21a0e-243">Tier (Web Tier, Application Tier);</span><span class="sxs-lookup"><span data-stu-id="21a0e-243">Tier (Web Tier, Application Tier)</span></span>
* <span data-ttu-id="21a0e-244">Application Owner;</span><span class="sxs-lookup"><span data-stu-id="21a0e-244">Application Owner</span></span>
* <span data-ttu-id="21a0e-245">ProjectName</span><span class="sxs-lookup"><span data-stu-id="21a0e-245">ProjectName</span></span>

![Теги](./media/resource-manager-subscription-governance/resource-group-tagging.png)

<span data-ttu-id="21a0e-247">Дополнительные примеры тегов приведены в статье [Рекомендуемые соглашения об именовании для ресурсов Azure](../guidance/guidance-naming-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="21a0e-247">For more examples of tags, see [Recommended naming conventions for Azure resources](../guidance/guidance-naming-conventions.md).</span></span>

> [!TIP]
> <span data-ttu-id="21a0e-248">Рассмотрите возможность создания политики, обязывающей применять теги для следующих компонентов:</span><span class="sxs-lookup"><span data-stu-id="21a0e-248">Consider making a policy that mandates tagging for:</span></span>
> 
> * <span data-ttu-id="21a0e-249">Группы ресурсов</span><span class="sxs-lookup"><span data-stu-id="21a0e-249">Resource groups</span></span>
> * <span data-ttu-id="21a0e-250">Хранилище</span><span class="sxs-lookup"><span data-stu-id="21a0e-250">Storage</span></span>
> * <span data-ttu-id="21a0e-251">Виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="21a0e-251">Virtual Machines</span></span>
> * <span data-ttu-id="21a0e-252">среды службы приложения и веб-серверы.</span><span class="sxs-lookup"><span data-stu-id="21a0e-252">Application Service Environments/web servers</span></span>
> 
> <span data-ttu-id="21a0e-253">Эта стратегия тегов определяет в подписках, какие метаданные необходимы для деловой деятельности, управления финансами, обеспечения безопасности, управления рисками и общего управление средой.</span><span class="sxs-lookup"><span data-stu-id="21a0e-253">This tagging strategy identifies across your subscriptions what metadata is needed for the business, finance, security, risk management, and overall management of the environment.</span></span> 

## <a name="resource-group"></a><span data-ttu-id="21a0e-254">Группа ресурсов</span><span class="sxs-lookup"><span data-stu-id="21a0e-254">Resource group</span></span>
<span data-ttu-id="21a0e-255">Resource Manager позволяет помещать ресурсы в предметные группы для управления, выставления счетов или обеспечения естественного сходства.</span><span class="sxs-lookup"><span data-stu-id="21a0e-255">Resource Manager enables you to put resources into meaningful groups for management, billing, or natural affinity.</span></span> <span data-ttu-id="21a0e-256">Как упоминалось ранее, в Azure есть две модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="21a0e-256">As mentioned earlier, Azure has two deployment models.</span></span> <span data-ttu-id="21a0e-257">В более ранней классической модели базовой единицей управления была подписка.</span><span class="sxs-lookup"><span data-stu-id="21a0e-257">In the earlier Classic model, the basic unit of management was the subscription.</span></span> <span data-ttu-id="21a0e-258">Было трудно разбить ресурсы в подписке, что приводило к созданию большого числа подписок.</span><span class="sxs-lookup"><span data-stu-id="21a0e-258">It was difficult to break down resources within a subscription, which led to the creation of large numbers of subscriptions.</span></span> <span data-ttu-id="21a0e-259">Благодаря модели Resource Manager мы стали свидетелями появления групп ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-259">With the Resource Manager model, we saw the introduction of resource groups.</span></span> <span data-ttu-id="21a0e-260">Группы ресурсов — это контейнеры ресурсов, которые имеют общий жизненный цикл или какой-либо атрибут, например "все серверы SQL Server" или "Приложение A".</span><span class="sxs-lookup"><span data-stu-id="21a0e-260">Resource groups are containers of resources that have a common lifecycle or share an attribute such as "all SQL servers" or "Application A".</span></span>

<span data-ttu-id="21a0e-261">Группа ресурсов не может содержать в себе другие группы ресурсов, и ресурсы могут принадлежать только одной группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-261">Resource groups cannot be contained within each other and resources can only belong to one resource group.</span></span> <span data-ttu-id="21a0e-262">Можно применить определенные действия для всех ресурсов в группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-262">You can apply certain actions on all resources in a resource group.</span></span> <span data-ttu-id="21a0e-263">Например, при удалении группы ресурсов можно удалять все ее ресурсы.</span><span class="sxs-lookup"><span data-stu-id="21a0e-263">For example, deleting a resource group removes all resources within the resource group.</span></span> <span data-ttu-id="21a0e-264">Как правило, в одну группу ресурсов помещается целиком приложение или связанная система.</span><span class="sxs-lookup"><span data-stu-id="21a0e-264">Typically, you place an entire application or related system in the same resource group.</span></span> <span data-ttu-id="21a0e-265">Например, одна группа ресурсов для трехуровневого приложения Contoso Web Application будет содержать веб-сервер, сервера приложений и сервер SQL Server.</span><span class="sxs-lookup"><span data-stu-id="21a0e-265">For example, a three tier application called Contoso Web Application would contain the web server, application server and SQL server in the same resource group.</span></span>

> [!TIP]
> <span data-ttu-id="21a0e-266">Способ организации групп ресурсов для традиционных рабочих нагрузок ИТ и гибких рабочих нагрузок ИТ может отличаться:</span><span class="sxs-lookup"><span data-stu-id="21a0e-266">How you organize your resource groups may vary from "Traditional IT" workloads to "Agile IT" workloads:</span></span>
> 
> * <span data-ttu-id="21a0e-267">В первом случае рабочие нагрузки чаще всего группируются по элементам в рамках одного жизненного цикла, например приложения.</span><span class="sxs-lookup"><span data-stu-id="21a0e-267">"Traditional IT" workloads are most commonly grouped by items within the same lifecycle, such as an application.</span></span> <span data-ttu-id="21a0e-268">Группирование по приложениям позволяет управлять отдельными приложениями.</span><span class="sxs-lookup"><span data-stu-id="21a0e-268">Grouping by application allows for individual application management.</span></span>
> * <span data-ttu-id="21a0e-269">Во втором случае рабочие нагрузки, как правило, сосредотачиваются на облачных приложениях для внешних клиентов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-269">"Agile IT" workloads tend to focus on external customer-facing cloud applications.</span></span> <span data-ttu-id="21a0e-270">Группы ресурсов должны отражать уровни развертывания (например, уровень Интернета, уровень приложений) и управления.</span><span class="sxs-lookup"><span data-stu-id="21a0e-270">The resource groups should reflect the layers of deployment (such as Web Tier, App Tier) and management.</span></span>
> 
> <span data-ttu-id="21a0e-271">Понимание рабочей нагрузки помогает разработать стратегию групп ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-271">Understanding your workload helps you develop a resource group strategy.</span></span>

## <a name="role-based-access-control"></a><span data-ttu-id="21a0e-272">Контроль доступа на основе ролей</span><span class="sxs-lookup"><span data-stu-id="21a0e-272">Role-based access control</span></span>
<span data-ttu-id="21a0e-273">Вы, вероятно, задаетесь вопросами: "У кого должен быть доступ к ресурсам?" и</span><span class="sxs-lookup"><span data-stu-id="21a0e-273">You probably are asking yourself "who should have access to resources?"</span></span> <span data-ttu-id="21a0e-274">"Как контролировать этот доступ?"</span><span class="sxs-lookup"><span data-stu-id="21a0e-274">and "how do I control this access?"</span></span> <span data-ttu-id="21a0e-275">Разрешение или запрет доступа к порталу Azure и управление доступом к ресурсам на портале являются очень важными аспектами.</span><span class="sxs-lookup"><span data-stu-id="21a0e-275">Allowing or disallowing access to the Azure portal, and controlling access to resources in the portal is crucial.</span></span> 

<span data-ttu-id="21a0e-276">При первоначальном выпуске Azure элементы управления доступом к подписке были простыми: администратор или соадминистратор.</span><span class="sxs-lookup"><span data-stu-id="21a0e-276">When Azure was initially released, access controls to a subscription were basic: Administrator or Co-Administrator.</span></span> <span data-ttu-id="21a0e-277">В классической модели доступ к подписке подразумевал доступ ко всем ресурсам на портале.</span><span class="sxs-lookup"><span data-stu-id="21a0e-277">Access to a subscription in the Classic model implied access to all the resources in the portal.</span></span> <span data-ttu-id="21a0e-278">Отсутствие детализированного контроля приводило к созданию избыточного количества подписок, необходимых, чтобы обеспечить адекватный контроль доступа для Соглашения о регистрации Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-278">This lack of fine-grained control led to the proliferation of subscriptions to provide a level of reasonable access control for an Azure Enrollment.</span></span>

<span data-ttu-id="21a0e-279">Больше такое увеличение числа подписок не требуется.</span><span class="sxs-lookup"><span data-stu-id="21a0e-279">This proliferation of subscriptions is no longer needed.</span></span> <span data-ttu-id="21a0e-280">Управление доступом на основе ролей позволяет назначать пользователям стандартные роли (например, роли типа "Чтение" и "Запись").</span><span class="sxs-lookup"><span data-stu-id="21a0e-280">With role-based access control, you can assign users to standard roles (such as common "reader" and "writer" types of roles).</span></span> <span data-ttu-id="21a0e-281">Можно также определить настраиваемые роли.</span><span class="sxs-lookup"><span data-stu-id="21a0e-281">You can also define custom roles.</span></span>

> [!TIP]
> <span data-ttu-id="21a0e-282">Чтобы реализовать контроль доступа на основе ролей, выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="21a0e-282">To implement role-based access control:</span></span>
> * <span data-ttu-id="21a0e-283">Подключите свое корпоративное хранилище удостоверений (чаще всего это Active Directory) к Azure Active Directory с помощью инструмента AD Connect.</span><span class="sxs-lookup"><span data-stu-id="21a0e-283">Connect your corporate identity store (most commonly Active Directory) to Azure Active Directory using the AD Connect tool.</span></span>
> * <span data-ttu-id="21a0e-284">Управляйте администраторами и соадминистраторами подписки с помощью управляемого удостоверения.</span><span class="sxs-lookup"><span data-stu-id="21a0e-284">Control the Admin/Co-Admin of a subscription using a managed identity.</span></span> <span data-ttu-id="21a0e-285">**Не** назначайте роль администратора или соадминистратора владельцу новой подписки.</span><span class="sxs-lookup"><span data-stu-id="21a0e-285">**Don't** assign Admin/Co-admin to a new subscription owner.</span></span> <span data-ttu-id="21a0e-286">Вместо этого используйте роли RBAC, чтобы предоставить права **владельца** группе или отдельному пользователю.</span><span class="sxs-lookup"><span data-stu-id="21a0e-286">Instead, use RBAC roles to provide **Owner** rights to a group or individual.</span></span>
> * <span data-ttu-id="21a0e-287">Добавьте пользователей Azure в группу (например, в группу "Владельцы приложения А") в Active Directory.</span><span class="sxs-lookup"><span data-stu-id="21a0e-287">Add Azure users to a group (for example, Application X Owners) in Active Directory.</span></span> <span data-ttu-id="21a0e-288">Используйте синхронизированную группу, чтобы предоставить необходимые права для управления группой ресурсов, содержащей это приложение.</span><span class="sxs-lookup"><span data-stu-id="21a0e-288">Use the synced group to provide group members the appropriate rights to manage the resource group containing the application.</span></span>
> * <span data-ttu-id="21a0e-289">Придерживайтесь принципа предоставления **минимальных привилегий**, необходимых для выполнения предстоящей работы.</span><span class="sxs-lookup"><span data-stu-id="21a0e-289">Follow the principle of granting the **least privilege** required to do the expected work.</span></span> <span data-ttu-id="21a0e-290">Например:</span><span class="sxs-lookup"><span data-stu-id="21a0e-290">For example:</span></span>
>   * <span data-ttu-id="21a0e-291">Группа развертывания: группа, которая может только развертывать ресурсы.</span><span class="sxs-lookup"><span data-stu-id="21a0e-291">Deployment Group: A group that is only able to deploy resources.</span></span>
>   * <span data-ttu-id="21a0e-292">Управление виртуальными машинами: группа, которая может перезапускать виртуальные машины (для эксплуатации).</span><span class="sxs-lookup"><span data-stu-id="21a0e-292">Virtual Machine Management: A group that is able to restart VMs (for operations)</span></span>
> 
> <span data-ttu-id="21a0e-293">Эти советы помогут вам управлять доступом пользователей в своей подписке.</span><span class="sxs-lookup"><span data-stu-id="21a0e-293">These tips help you manage user access across your subscription.</span></span>

## <a name="azure-resource-locks"></a><span data-ttu-id="21a0e-294">Блокировки ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="21a0e-294">Azure resource locks</span></span>
<span data-ttu-id="21a0e-295">По мере того, как организация добавляет основные службы в подписку, становится все более важным обеспечить доступность этих служб, чтобы избежать прерывания деловой деятельности.</span><span class="sxs-lookup"><span data-stu-id="21a0e-295">As your organization adds core services to the subscription, it becomes increasingly important to ensure that those services are available to avoid business disruption.</span></span> <span data-ttu-id="21a0e-296">[Блокировки ресурсов](resource-group-lock-resources.md) позволяют ограничить операции с ценными ресурсами, изменение или удаление которых оказало бы значительное влияние на приложения или облачную инфраструктуру.</span><span class="sxs-lookup"><span data-stu-id="21a0e-296">[Resource locks](resource-group-lock-resources.md) enable you to restrict operations on high-value resources where modifying or deleting them would have a significant impact on your applications or cloud infrastructure.</span></span> <span data-ttu-id="21a0e-297">Блокировки можно применить к подписке, группе ресурсов или ресурсу.</span><span class="sxs-lookup"><span data-stu-id="21a0e-297">You can apply locks to a subscription, resource group, or resource.</span></span> <span data-ttu-id="21a0e-298">Как правило, блокировки применяются к таким основополагающим ресурсам, как виртуальные сети, шлюзы и учетные записи хранения.</span><span class="sxs-lookup"><span data-stu-id="21a0e-298">Typically, you apply locks to foundational resources such as virtual networks, gateways, and storage accounts.</span></span> 

<span data-ttu-id="21a0e-299">Сейчас блокировки ресурсов поддерживают два значения: CanNotDelete и ReadOnly.</span><span class="sxs-lookup"><span data-stu-id="21a0e-299">Resource locks currently support two values: CanNotDelete and ReadOnly.</span></span> <span data-ttu-id="21a0e-300">Блокировка CanNotDelete означает, что пользователи (с соответствующими правами) могут считать или изменить ресурс, но не могут его удалить.</span><span class="sxs-lookup"><span data-stu-id="21a0e-300">CanNotDelete means that users (with the appropriate rights) can still read or modify a resource but cannot delete it.</span></span> <span data-ttu-id="21a0e-301">Блокировка ReadOnly означает, что авторизованные пользователи не могут удалить или изменить ресурс.</span><span class="sxs-lookup"><span data-stu-id="21a0e-301">ReadOnly means that authorized users can't delete or modify a resource.</span></span>

<span data-ttu-id="21a0e-302">Для создания или удаления блокировок управления необходим доступ к действию `Microsoft.Authorization/*` или `Microsoft.Authorization/locks/*`.</span><span class="sxs-lookup"><span data-stu-id="21a0e-302">To create or delete management locks, you must have access to `Microsoft.Authorization/*` or `Microsoft.Authorization/locks/*` actions.</span></span>
<span data-ttu-id="21a0e-303">Из встроенных ролей эти действия предоставляются только владельцу и администратору доступа пользователей.</span><span class="sxs-lookup"><span data-stu-id="21a0e-303">Of the built-in roles, only Owner and User Access Administrator are granted those actions.</span></span>

> [!TIP]
> <span data-ttu-id="21a0e-304">Параметры основной сети должны быть защищены с помощью блокировок.</span><span class="sxs-lookup"><span data-stu-id="21a0e-304">Core network options should be protected with locks.</span></span> <span data-ttu-id="21a0e-305">Случайное удаление шлюза или VPN типа "сеть — сеть" может привести к катастрофическим последствиям для подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-305">Accidental deletion of a gateway, site-to-site VPN would be disastrous to an Azure subscription.</span></span> <span data-ttu-id="21a0e-306">Azure не позволяет удалить виртуальную сеть, которая используется, но применение дополнительных ограничений будет полезной мерой предосторожности.</span><span class="sxs-lookup"><span data-stu-id="21a0e-306">Azure doesn't allow you to delete a virtual network that is in use, but applying more restrictions is a helpful precaution.</span></span> 
> 
> * <span data-ttu-id="21a0e-307">Виртуальная сеть: CanNotDelete.</span><span class="sxs-lookup"><span data-stu-id="21a0e-307">Virtual Network: CanNotDelete</span></span>
> * <span data-ttu-id="21a0e-308">Группа безопасности сети: CanNotDelete.</span><span class="sxs-lookup"><span data-stu-id="21a0e-308">Network Security Group: CanNotDelete</span></span>
> * <span data-ttu-id="21a0e-309">Политики: CanNotDelete.</span><span class="sxs-lookup"><span data-stu-id="21a0e-309">Policies: CanNotDelete</span></span>
> 
> <span data-ttu-id="21a0e-310">Политики также имеют большое значение для обслуживания соответствующих элементов управления.</span><span class="sxs-lookup"><span data-stu-id="21a0e-310">Policies are also crucial to the maintenance of appropriate controls.</span></span> <span data-ttu-id="21a0e-311">Мы рекомендуем применить блокировку **CanNotDelete** к используемым политикам.</span><span class="sxs-lookup"><span data-stu-id="21a0e-311">We recommend that you apply a **CanNotDelete** lock to polices that are in use.</span></span>

## <a name="core-networking-resources"></a><span data-ttu-id="21a0e-312">Основные сетевые ресурсы</span><span class="sxs-lookup"><span data-stu-id="21a0e-312">Core networking resources</span></span>
<span data-ttu-id="21a0e-313">Доступ к ресурсам может быть внутренним (внутри корпоративной сети) или внешним (через Интернет).</span><span class="sxs-lookup"><span data-stu-id="21a0e-313">Access to resources can be either internal (within the corporation's network) or external (through the internet).</span></span> <span data-ttu-id="21a0e-314">Пользователи в вашей организации могут случайно помещать ресурсы в расположения, не предназначенные для них, тем самым потенциально открывая их для вредоносного доступа.</span><span class="sxs-lookup"><span data-stu-id="21a0e-314">It is easy for users in your organization to inadvertently put resources in the wrong spot, and potentially open them to malicious access.</span></span> <span data-ttu-id="21a0e-315">Как и в случае локальных устройств, предприятия должны добавить соответствующие элементы управления, чтобы гарантировать, что пользователи Azure принимают правильные решения.</span><span class="sxs-lookup"><span data-stu-id="21a0e-315">As with on-premises devices, enterprises must add appropriate controls to ensure that Azure users make the right decisions.</span></span> <span data-ttu-id="21a0e-316">Для управления подписками мы определяем основные ресурсы, обеспечивающие базовые элементы управления доступом.</span><span class="sxs-lookup"><span data-stu-id="21a0e-316">For subscription governance, we identify core resources that provide basic control of access.</span></span> <span data-ttu-id="21a0e-317">К основным ресурсам относятся следующие.</span><span class="sxs-lookup"><span data-stu-id="21a0e-317">The core resources consist of:</span></span>

* <span data-ttu-id="21a0e-318">**Виртуальные сети** представляют собой объекты контейнеров для подсетей.</span><span class="sxs-lookup"><span data-stu-id="21a0e-318">**Virtual networks** are container objects for subnets.</span></span> <span data-ttu-id="21a0e-319">Хотя это не является обязательным, их часто используют при подключении приложений к внутренним корпоративным ресурсам.</span><span class="sxs-lookup"><span data-stu-id="21a0e-319">Though not strictly necessary, it is often used when connecting applications to internal corporate resources.</span></span>
* <span data-ttu-id="21a0e-320">**Группы безопасности сети** действуют по принципу брандмауэра и задают правила взаимодействия с ресурсом по сети.</span><span class="sxs-lookup"><span data-stu-id="21a0e-320">**Network security groups** are similar to a firewall and provide rules for how a resource can "talk" over the network.</span></span> <span data-ttu-id="21a0e-321">Они обеспечивают детализированный контроль над тем, как и при каких условиях подсеть (или виртуальная машина) может подключаться к Интернету или другим подсетям в той же виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="21a0e-321">They provide granular control over how/if a subnet (or virtual machine) can connect to the Internet or other subnets in the same virtual network.</span></span>

![Основные сети](./media/resource-manager-subscription-governance/core-network.png)

> [!TIP]
> <span data-ttu-id="21a0e-323">Для сетей:</span><span class="sxs-lookup"><span data-stu-id="21a0e-323">For networking:</span></span>
> * <span data-ttu-id="21a0e-324">Создайте выделенные виртуальные сети для внешних и внутренних рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="21a0e-324">Create virtual networks dedicated to external-facing workloads and internal-facing workloads.</span></span> <span data-ttu-id="21a0e-325">Такой подход уменьшает вероятность случайного размещения виртуальных машин, которые предназначены для внутренних рабочих нагрузок, в пространстве для внешних рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="21a0e-325">This approach reduces the chance of inadvertently placing virtual machines that are intended for internal workloads in an external facing space.</span></span>
> * <span data-ttu-id="21a0e-326">Настройте группы безопасности сети, чтобы ограничить доступ.</span><span class="sxs-lookup"><span data-stu-id="21a0e-326">Configure network security groups to limit access.</span></span> <span data-ttu-id="21a0e-327">Как минимум, заблокируйте доступ к Интернету из внутренних виртуальных сетей и заблокируйте доступ к корпоративной сети из внешних виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="21a0e-327">At a minimum, block access to the internet from internal virtual networks, and block access to the corporate network from external virtual networks.</span></span>
> 
> <span data-ttu-id="21a0e-328">Эти советы помогут вам внедрить ресурсы, обеспечивающие безопасность работы в сети.</span><span class="sxs-lookup"><span data-stu-id="21a0e-328">These tips help you implement secure networking resources.</span></span>

### <a name="automation"></a><span data-ttu-id="21a0e-329">Служба автоматизации</span><span class="sxs-lookup"><span data-stu-id="21a0e-329">Automation</span></span>
<span data-ttu-id="21a0e-330">Управление ресурсами по отдельности отнимает массу времени и повышает вероятность ошибок при определенных операциях.</span><span class="sxs-lookup"><span data-stu-id="21a0e-330">Managing resources individually is both time-consuming and potentially error prone for certain operations.</span></span> <span data-ttu-id="21a0e-331">Azure предоставляет различные возможности автоматизации, включая службу автоматизации Azure, Logic Apps и функции Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-331">Azure provides various automation capabilities including Azure Automation, Logic Apps, and Azure Functions.</span></span> <span data-ttu-id="21a0e-332">[Служба автоматизации Azure](../automation/automation-intro.md) позволяет администраторам создавать и определять модули Runbook для выполнения общих задач управления ресурсами.</span><span class="sxs-lookup"><span data-stu-id="21a0e-332">[Azure Automation](../automation/automation-intro.md) enables administrators to create and define runbooks to handle common tasks in managing resources.</span></span> <span data-ttu-id="21a0e-333">Создавать модули Runbook можно с помощью редактора кода PowerShell или графического редактора.</span><span class="sxs-lookup"><span data-stu-id="21a0e-333">You create runbooks by using either a PowerShell code editor or a graphical editor.</span></span> <span data-ttu-id="21a0e-334">Вы можете создавать сложные, многоэтапные рабочие процессы.</span><span class="sxs-lookup"><span data-stu-id="21a0e-334">You can produce complex multi-stage workflows.</span></span> <span data-ttu-id="21a0e-335">Служба автоматизации Azure часто используется для выполнения таких общих задач, как завершение работы неиспользуемых ресурсов или создание ресурсов по определенному триггеру без необходимости вмешательства пользователя.</span><span class="sxs-lookup"><span data-stu-id="21a0e-335">Azure Automation is often used to handle common tasks such as shutting down unused resources, or creating resources in response to a specific trigger without needing human intervention.</span></span>

> [!TIP]
> <span data-ttu-id="21a0e-336">Для службы автоматизации:</span><span class="sxs-lookup"><span data-stu-id="21a0e-336">For automation:</span></span>
> * <span data-ttu-id="21a0e-337">Создайте учетную запись службы автоматизации Azure и просмотрите доступные модули Runbook (графические и для командной строки), доступные в [коллекции модулей Runbook](../automation/automation-runbook-gallery.md).</span><span class="sxs-lookup"><span data-stu-id="21a0e-337">Create an Azure Automation account and review the available runbooks (both graphical and command line) available in the [Runbook Gallery](../automation/automation-runbook-gallery.md).</span></span>
> * <span data-ttu-id="21a0e-338">Импортируйте и настройте ключевые модули Runbook для собственных нужд.</span><span class="sxs-lookup"><span data-stu-id="21a0e-338">Import and customize key runbooks for your own use.</span></span>
> 
> <span data-ttu-id="21a0e-339">Распространенным применением является запуск или завершение работы виртуальных машин по расписанию.</span><span class="sxs-lookup"><span data-stu-id="21a0e-339">A common scenario is the ability to Start/Shutdown virtual machines on a schedule.</span></span> <span data-ttu-id="21a0e-340">В коллекции доступны примеры модулей Runbook, которые реализуют этот сценарий и обучают его развертыванию.</span><span class="sxs-lookup"><span data-stu-id="21a0e-340">There are example runbooks that are available in the Gallery that both handle this scenario and teach you how to expand it.</span></span>
> 
> 

## <a name="azure-security-center"></a><span data-ttu-id="21a0e-341">Центр безопасности Azure</span><span class="sxs-lookup"><span data-stu-id="21a0e-341">Azure Security Center</span></span>
<span data-ttu-id="21a0e-342">Возможно, одним из самых серьезных препятствий для внедрения облака были вопросы безопасности.</span><span class="sxs-lookup"><span data-stu-id="21a0e-342">Perhaps one of the biggest blockers to cloud adoption has been the concerns over security.</span></span> <span data-ttu-id="21a0e-343">Отделам безопасности и управления рисками ИТ необходимо обеспечить защиту ресурсов в Azure.</span><span class="sxs-lookup"><span data-stu-id="21a0e-343">IT risk managers and security departments need to ensure that resources in Azure are secure.</span></span> 

<span data-ttu-id="21a0e-344">[Центр безопасности Azure](../security-center/security-center-intro.md) обеспечивает централизованное представление, отображающее состояние безопасности ресурсов в подписках, а также рекомендации, которые помогут избежать компрометации ресурсов.</span><span class="sxs-lookup"><span data-stu-id="21a0e-344">The [Azure Security Center](../security-center/security-center-intro.md) provides a central view of the security status of resources in the subscriptions, and provides recommendations that help prevent compromised resources.</span></span> <span data-ttu-id="21a0e-345">С его помощью можно включить более детализированные политики (например, применить для определенных групп ресурсов политики, которые позволяют предприятию адаптировать свою позицию по отношению к риску, регулируемому этими политиками).</span><span class="sxs-lookup"><span data-stu-id="21a0e-345">It can enable more granular policies (for example, applying policies to specific resource groups that allow the enterprise to tailor their posture to the risk they are addressing).</span></span> <span data-ttu-id="21a0e-346">И, наконец, центр безопасности Azure — это открытая платформа, позволяющая партнерам корпорации Майкрософт и независимым поставщикам программного обеспечения создавать программное обеспечение, которое встраивается в центр безопасности Azure, расширяя его возможности.</span><span class="sxs-lookup"><span data-stu-id="21a0e-346">Finally, Azure Security Center is an open platform that enables Microsoft partners and independent software vendors to create software that plugs into Azure Security Center to enhance its capabilities.</span></span> 

> [!TIP]
> <span data-ttu-id="21a0e-347">Центр безопасности Azure включен по умолчанию в каждой подписке.</span><span class="sxs-lookup"><span data-stu-id="21a0e-347">Azure Security Center is enabled by default in each subscription.</span></span> <span data-ttu-id="21a0e-348">Тем не менее необходимо включить сбор данных с виртуальных машин, чтобы разрешить центру безопасности Azure установить свой агент и начать сбор данных.</span><span class="sxs-lookup"><span data-stu-id="21a0e-348">However, you must enable data collection from virtual machines to allow Azure Security Center to install its agent and begin gathering data.</span></span>
> 
> ![сбора данных;](./media/resource-manager-subscription-governance/data-collection.png)
> 
> 

## <a name="next-steps"></a><span data-ttu-id="21a0e-350">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="21a0e-350">Next steps</span></span>
* <span data-ttu-id="21a0e-351">Теперь, когда вы узнали об управлении подписками, пришло время ознакомиться с этими рекомендациями на практике.</span><span class="sxs-lookup"><span data-stu-id="21a0e-351">Now that you have learned about subscription governance, it's time to see these recommendations in practice.</span></span> <span data-ttu-id="21a0e-352">Ознакомьтесь с разделом [Примеры реализации корпоративного каркаса Azure](resource-manager-subscription-examples.md).</span><span class="sxs-lookup"><span data-stu-id="21a0e-352">See [Examples of implementing Azure subscription governance](resource-manager-subscription-examples.md).</span></span>

