---
title: "Общие сведения об Azure Resource Manager | Документация Майкрософт"
description: "Описывает, как использовать диспетчер ресурсов Azure для развертывания, контроля ресурсов в Azure и управления доступом к ним."
services: azure-resource-manager
documentationcenter: na
author: tfitzmac
manager: timlt
editor: tysonn
ms.assetid: 76df7de1-1d3b-436e-9b44-e1b3766b3961
ms.service: azure-resource-manager
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/19/2017
ms.author: tomfitz
ms.openlocfilehash: f539931e0704f904f4b942f185f086a790caf4da
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="azure-resource-manager-overview"></a><span data-ttu-id="bff29-103">Общие сведения о диспетчере ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="bff29-103">Azure Resource Manager overview</span></span>
<span data-ttu-id="bff29-104">Обычно инфраструктура приложения состоит из ряда компонентов, например из виртуальной машины, учетной записи хранения и виртуальной сети или веб-приложения, базы данных, сервера базы данных и служб сторонних поставщиков.</span><span class="sxs-lookup"><span data-stu-id="bff29-104">The infrastructure for your application is typically made up of many components – maybe a virtual machine, storage account, and virtual network, or a web app, database, database server, and 3rd party services.</span></span> <span data-ttu-id="bff29-105">Эти компоненты не отображаются как отдельные сущности, вместо этого они воспринимаются как связанные и взаимозависимые части одной сущности.</span><span class="sxs-lookup"><span data-stu-id="bff29-105">You do not see these components as separate entities, instead you see them as related and interdependent parts of a single entity.</span></span> <span data-ttu-id="bff29-106">Их нужно развертывать, контролировать и отслеживать в виде группы.</span><span class="sxs-lookup"><span data-stu-id="bff29-106">You want to deploy, manage, and monitor them as a group.</span></span> <span data-ttu-id="bff29-107">Azure Resource Manager позволяет работать с ресурсами решения как с группой.</span><span class="sxs-lookup"><span data-stu-id="bff29-107">Azure Resource Manager enables you to work with the resources in your solution as a group.</span></span> <span data-ttu-id="bff29-108">Вы можете развертывать, обновлять или удалять все ресурсы решения в рамках одной скоординированной операции.</span><span class="sxs-lookup"><span data-stu-id="bff29-108">You can deploy, update, or delete all the resources for your solution in a single, coordinated operation.</span></span> <span data-ttu-id="bff29-109">Развертывание осуществляется на основе шаблона, используемого для разных сред, в том числе для тестовой, промежуточной и рабочей.</span><span class="sxs-lookup"><span data-stu-id="bff29-109">You use a template for deployment and that template can work for different environments such as testing, staging, and production.</span></span> <span data-ttu-id="bff29-110">Диспетчер ресурсов предоставляет функции безопасности, аудита и добавления тегов, помогающие управлять ресурсами после развертывания.</span><span class="sxs-lookup"><span data-stu-id="bff29-110">Resource Manager provides security, auditing, and tagging features to help you manage your resources after deployment.</span></span> 

## <a name="terminology"></a><span data-ttu-id="bff29-111">Терминология</span><span class="sxs-lookup"><span data-stu-id="bff29-111">Terminology</span></span>
<span data-ttu-id="bff29-112">Если у вас еще нет опыта работы с Azure Resource Manager, возможно, некоторые термины окажутся незнакомыми.</span><span class="sxs-lookup"><span data-stu-id="bff29-112">If you are new to Azure Resource Manager, there are some terms you might not be familiar with.</span></span>

* <span data-ttu-id="bff29-113">**Ресурс** — управляемый элемент, доступный в Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-113">**resource** - A manageable item that is available through Azure.</span></span> <span data-ttu-id="bff29-114">Самые распространенные ресурсы — виртуальная машина, учетная запись хранения, веб-приложение, база данных и виртуальная сеть, но существуют и многие другие.</span><span class="sxs-lookup"><span data-stu-id="bff29-114">Some common resources are a virtual machine, storage account, web app, database, and virtual network, but there are many more.</span></span>
* <span data-ttu-id="bff29-115">**Группа ресурсов** — контейнер, содержащий связанные ресурсы для решения Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-115">**resource group** - A container that holds related resources for an Azure solution.</span></span> <span data-ttu-id="bff29-116">В группу ресурсов могут входить все ресурсы приложения или только те, которыми необходимо управлять совместно.</span><span class="sxs-lookup"><span data-stu-id="bff29-116">The resource group can include all the resources for the solution, or only those resources that you want to manage as a group.</span></span> <span data-ttu-id="bff29-117">Кроме того, пользователи могут выбрать оптимальный для своей организации способ распределения ресурсов в группах ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-117">You decide how you want to allocate resources to resource groups based on what makes the most sense for your organization.</span></span> <span data-ttu-id="bff29-118">См. раздел [Группы ресурсов](#resource-groups).</span><span class="sxs-lookup"><span data-stu-id="bff29-118">See [Resource groups](#resource-groups).</span></span>
* <span data-ttu-id="bff29-119">**Поставщик ресурсов** — это служба, которая предоставляет ресурсы для развертывания и управления с помощью Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="bff29-119">**resource provider** - A service that supplies the resources you can deploy and manage through Resource Manager.</span></span> <span data-ttu-id="bff29-120">Каждый поставщик ресурсов предоставляет операции REST API для работы с развернутыми ресурсами.</span><span class="sxs-lookup"><span data-stu-id="bff29-120">Each resource provider offers operations for working with the resources that are deployed.</span></span> <span data-ttu-id="bff29-121">К популярным поставщикам ресурсов относится служба Microsoft.Compute, предоставляющая ресурсы виртуальных машин, служба Microsoft.Storage, предоставляющая ресурсы учетных записей хранения, и служба Microsoft.Web, которая предоставляет ресурсы, связанные с веб-приложениями.</span><span class="sxs-lookup"><span data-stu-id="bff29-121">Some common resource providers are Microsoft.Compute, which supplies the virtual machine resource, Microsoft.Storage, which supplies the storage account resource, and Microsoft.Web, which supplies resources related to web apps.</span></span> <span data-ttu-id="bff29-122">См. раздел [Поставщики ресурсов](#resource-providers).</span><span class="sxs-lookup"><span data-stu-id="bff29-122">See [Resource providers](#resource-providers).</span></span>
* <span data-ttu-id="bff29-123">**Шаблон Resource Manager** — файл в формате JSON (нотация объектов JavaScript), определяющий один или несколько ресурсов для развертывания в группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-123">**Resource Manager template** - A JavaScript Object Notation (JSON) file that defines one or more resources to deploy to a resource group.</span></span> <span data-ttu-id="bff29-124">Он также определяет зависимости между развернутыми ресурсами.</span><span class="sxs-lookup"><span data-stu-id="bff29-124">It also defines the dependencies between the deployed resources.</span></span> <span data-ttu-id="bff29-125">Шаблон можно использовать для согласованного и многократного развертывания ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-125">The template can be used to deploy the resources consistently and repeatedly.</span></span> <span data-ttu-id="bff29-126">См. раздел [Развертывание шаблона](#template-deployment).</span><span class="sxs-lookup"><span data-stu-id="bff29-126">See [Template deployment](#template-deployment).</span></span>
* <span data-ttu-id="bff29-127">**Декларативный синтаксис** — синтаксис, позволяющий указать объект, который вы собираетесь создать. При этом для создания объекта не нужно писать последовательность команд.</span><span class="sxs-lookup"><span data-stu-id="bff29-127">**declarative syntax** - Syntax that lets you state "Here is what I intend to create" without having to write the sequence of programming commands to create it.</span></span> <span data-ttu-id="bff29-128">Шаблон Resource Manager — пример декларативного синтаксиса.</span><span class="sxs-lookup"><span data-stu-id="bff29-128">The Resource Manager template is an example of declarative syntax.</span></span> <span data-ttu-id="bff29-129">В файле можно задать свойства для инфраструктуры, развертываемой в Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-129">In the file, you define the properties for the infrastructure to deploy to Azure.</span></span> 

## <a name="the-benefits-of-using-resource-manager"></a><span data-ttu-id="bff29-130">Преимущества использования диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="bff29-130">The benefits of using Resource Manager</span></span>
<span data-ttu-id="bff29-131">Диспетчер ресурсов предоставляет несколько преимуществ.</span><span class="sxs-lookup"><span data-stu-id="bff29-131">Resource Manager provides several benefits:</span></span>

* <span data-ttu-id="bff29-132">Вы можете развертывать и отслеживать все ресурсы вашего решения как единую группу, а не работать с ними по отдельности.</span><span class="sxs-lookup"><span data-stu-id="bff29-132">You can deploy, manage, and monitor all the resources for your solution as a group, rather than handling these resources individually.</span></span>
* <span data-ttu-id="bff29-133">Вы можете повторно развертывать решение на протяжении всего цикла разработки и гарантировать, что ресурсы развертываются в согласованном состоянии.</span><span class="sxs-lookup"><span data-stu-id="bff29-133">You can repeatedly deploy your solution throughout the development lifecycle and have confidence your resources are deployed in a consistent state.</span></span>
* <span data-ttu-id="bff29-134">Инфраструктурой можно управлять с помощью декларативных шаблонов, а не сценариев.</span><span class="sxs-lookup"><span data-stu-id="bff29-134">You can manage your infrastructure through declarative templates rather than scripts.</span></span>
* <span data-ttu-id="bff29-135">Вы можете определять зависимости между ресурсами, так чтобы они разворачивались в правильном порядке.</span><span class="sxs-lookup"><span data-stu-id="bff29-135">You can define the dependencies between resources so they are deployed in the correct order.</span></span>
* <span data-ttu-id="bff29-136">Вы можете применить контроль доступа ко всем службам, так как контроль доступа на основе ролей (RBAC) изначально интегрирован в платформу управления.</span><span class="sxs-lookup"><span data-stu-id="bff29-136">You can apply access control to all services in your resource group because Role-Based Access Control (RBAC) is natively integrated into the management platform.</span></span>
* <span data-ttu-id="bff29-137">Для логического упорядочивания всех ресурсов в вашей подписке к ним можно применять теги.</span><span class="sxs-lookup"><span data-stu-id="bff29-137">You can apply tags to resources to logically organize all the resources in your subscription.</span></span>
* <span data-ttu-id="bff29-138">Чтобы узнать о выставлении счетов для вашей организации, просмотрите затраты на группу ресурсов с одним тегом.</span><span class="sxs-lookup"><span data-stu-id="bff29-138">You can clarify your organization's billing by viewing costs for a group of resources sharing the same tag.</span></span>  

<span data-ttu-id="bff29-139">Диспетчер ресурсов предоставляет новый способ развертывания ваших решений и управления ими.</span><span class="sxs-lookup"><span data-stu-id="bff29-139">Resource Manager provides a new way to deploy and manage your solutions.</span></span> <span data-ttu-id="bff29-140">Если вы использовали более раннюю модель развертывания и хотите узнать о произошедших изменениях, см. статью [Развертывание с помощью Azure Resource Manager и классическое развертывание: сведения о моделях развертывания и состоянии ресурсов](resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-140">If you used the earlier deployment model and want to learn about the changes, see [Understanding Resource Manager deployment and classic deployment](resource-manager-deployment-model.md).</span></span>

## <a name="consistent-management-layer"></a><span data-ttu-id="bff29-141">Уровень согласованного управления</span><span class="sxs-lookup"><span data-stu-id="bff29-141">Consistent management layer</span></span>
<span data-ttu-id="bff29-142">Resource Manager обеспечивает слой согласованного управления для задач, выполняемых с помощью Azure PowerShell, интерфейса командной строки Azure, портала Azure, REST API и средств разработки.</span><span class="sxs-lookup"><span data-stu-id="bff29-142">Resource Manager provides a consistent management layer for the tasks you perform through Azure PowerShell, Azure CLI, Azure portal, REST API, and development tools.</span></span> <span data-ttu-id="bff29-143">Все средства используют общий набор операций.</span><span class="sxs-lookup"><span data-stu-id="bff29-143">All the tools use a common set of operations.</span></span> <span data-ttu-id="bff29-144">Используйте средства, наиболее подходящие для своей среды. Они могут быть взаимозаменяемыми, что позволяет избежать путаницы.</span><span class="sxs-lookup"><span data-stu-id="bff29-144">You use the tools that work best for you, and can use them interchangeably without confusion.</span></span> 

<span data-ttu-id="bff29-145">На приведенном ниже рисунке показано, как эти средства взаимодействуют с такими же API Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="bff29-145">The following image shows how all the tools interact with the same Azure Resource Manager API.</span></span> <span data-ttu-id="bff29-146">API передает запросы в службу Resource Manager, где они проходят проверку подлинности и авторизацию.</span><span class="sxs-lookup"><span data-stu-id="bff29-146">The API passes requests to the Resource Manager service, which authenticates and authorizes the requests.</span></span> <span data-ttu-id="bff29-147">Потом Resource Manager перенаправляет запросы соответствующим поставщикам ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-147">Resource Manager then routes the requests to the appropriate resource providers.</span></span>

![Модель запросов Resource Manager](./media/resource-group-overview/consistent-management-layer.png)

## <a name="guidance"></a><span data-ttu-id="bff29-149">Руководство</span><span class="sxs-lookup"><span data-stu-id="bff29-149">Guidance</span></span>
<span data-ttu-id="bff29-150">Следующие рекомендации помогут использовать все преимущества Resource Manager при работе с решениями.</span><span class="sxs-lookup"><span data-stu-id="bff29-150">The following suggestions help you take full advantage of Resource Manager when working with your solutions.</span></span>

1. <span data-ttu-id="bff29-151">Определите и разверните инфраструктуру с помощью декларативного синтаксиса в шаблонах диспетчера ресурсов, а не с помощью безусловных команд.</span><span class="sxs-lookup"><span data-stu-id="bff29-151">Define and deploy your infrastructure through the declarative syntax in Resource Manager templates, rather than through imperative commands.</span></span>
2. <span data-ttu-id="bff29-152">Определите все шаги развертывания и настройки в шаблоне.</span><span class="sxs-lookup"><span data-stu-id="bff29-152">Define all deployment and configuration steps in the template.</span></span> <span data-ttu-id="bff29-153">При настройке решения вы не должны выполнять какие-либо действия вручную.</span><span class="sxs-lookup"><span data-stu-id="bff29-153">You should have no manual steps for setting up your solution.</span></span>
3. <span data-ttu-id="bff29-154">Используйте безусловные команды для управления ресурсами, например для запуска и остановки приложения или компьютера.</span><span class="sxs-lookup"><span data-stu-id="bff29-154">Run imperative commands to manage your resources, such as to start or stop an app or machine.</span></span>
4. <span data-ttu-id="bff29-155">Объедините ресурсы с одинаковым жизненным циклом в группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-155">Arrange resources with the same lifecycle in a resource group.</span></span> <span data-ttu-id="bff29-156">Для упорядочивания всех остальных ресурсов используйте теги.</span><span class="sxs-lookup"><span data-stu-id="bff29-156">Use tags for all other organizing of resources.</span></span>

<span data-ttu-id="bff29-157">Дополнительные рекомендации по шаблонам см. в статье [Рекомендации по созданию шаблонов Azure Resource Manager](resource-manager-template-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-157">For recommendations about templates, see [Best practices for creating Azure Resource Manager templates](resource-manager-template-best-practices.md).</span></span>

<span data-ttu-id="bff29-158">Руководство по использованию Resource Manager для эффективного управления подписками в организациях см [Azure enterprise scaffold - prescriptive subscription governance](resource-manager-subscription-governance.md) (Шаблон Azure для организаций. Рекомендуемая система управления подпиской).</span><span class="sxs-lookup"><span data-stu-id="bff29-158">For guidance on how enterprises can use Resource Manager to effectively manage subscriptions, see [Azure enterprise scaffold - prescriptive subscription governance](resource-manager-subscription-governance.md).</span></span>

## <a name="resource-groups"></a><span data-ttu-id="bff29-159">Группы ресурсов</span><span class="sxs-lookup"><span data-stu-id="bff29-159">Resource groups</span></span>
<span data-ttu-id="bff29-160">Существуют некоторые важные факторы, которые необходимо учитывать при определении группы ресурсов:</span><span class="sxs-lookup"><span data-stu-id="bff29-160">There are some important factors to consider when defining your resource group:</span></span>

1. <span data-ttu-id="bff29-161">Все ресурсы в группе должны совместно использовать один и тот же жизненный цикл.</span><span class="sxs-lookup"><span data-stu-id="bff29-161">All the resources in your group should share the same lifecycle.</span></span> <span data-ttu-id="bff29-162">Развертывание, обновление и удаление производится сразу для всех ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-162">You deploy, update, and delete them together.</span></span> <span data-ttu-id="bff29-163">Если один ресурс, например сервер базы данных, должен присутствовать в другом цикле развертывания, его следует поместить в другую группу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-163">If one resource, such as a database server, needs to exist on a different deployment cycle it should be in another resource group.</span></span>
2. <span data-ttu-id="bff29-164">Каждый ресурс может существовать только в одной группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-164">Each resource can only exist in one resource group.</span></span>
3. <span data-ttu-id="bff29-165">Ресурс можно добавить в группу ресурсов или удалить из нее в любое время.</span><span class="sxs-lookup"><span data-stu-id="bff29-165">You can add or remove a resource to a resource group at any time.</span></span>
4. <span data-ttu-id="bff29-166">Ресурс можно перемещать из одной группы ресурсов в другую.</span><span class="sxs-lookup"><span data-stu-id="bff29-166">You can move a resource from one resource group to another group.</span></span> <span data-ttu-id="bff29-167">Дополнительные сведения см. в статье [Перемещение ресурсов в новую группу ресурсов или подписку](resource-group-move-resources.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-167">For more information, see [Move resources to new resource group or subscription](resource-group-move-resources.md).</span></span>
5. <span data-ttu-id="bff29-168">Группа ресурсов может содержать ресурсы, которые находятся в разных регионах.</span><span class="sxs-lookup"><span data-stu-id="bff29-168">A resource group can contain resources that reside in different regions.</span></span>
6. <span data-ttu-id="bff29-169">Группу ресурсов можно использовать, чтобы определить область действия управления доступом для административных действий.</span><span class="sxs-lookup"><span data-stu-id="bff29-169">A resource group can be used to scope access control for administrative actions.</span></span>
7. <span data-ttu-id="bff29-170">Ресурс может взаимодействовать с ресурсом в других группах.</span><span class="sxs-lookup"><span data-stu-id="bff29-170">A resource can interact with resources in other resource groups.</span></span> <span data-ttu-id="bff29-171">Это взаимодействие чаще всего происходит, если эти два ресурса связаны, но имеют разные жизненные циклы (например, веб-приложения, подключенные к базе данных).</span><span class="sxs-lookup"><span data-stu-id="bff29-171">This interaction is common when the two resources are related but do not share the same lifecycle (for example, web apps connecting to a database).</span></span>

<span data-ttu-id="bff29-172">При создании группы ресурсов необходимо указать ее расположение.</span><span class="sxs-lookup"><span data-stu-id="bff29-172">When creating a resource group, you need to provide a location for that resource group.</span></span> <span data-ttu-id="bff29-173">У пользователя может возникнуть вопрос, зачем для группы ресурсов нужно расположение.</span><span class="sxs-lookup"><span data-stu-id="bff29-173">You may be wondering, "Why does a resource group need a location?</span></span> <span data-ttu-id="bff29-174">И если ресурсы и группа ресурсов могут находиться в разных расположениях, то какой смысл указывать расположение группы ресурсов?</span><span class="sxs-lookup"><span data-stu-id="bff29-174">And, if the resources can have different locations than the resource group, why does the resource group location matter at all?"</span></span> <span data-ttu-id="bff29-175">В группе ресурсов хранятся метаданные о ресурсах.</span><span class="sxs-lookup"><span data-stu-id="bff29-175">The resource group stores metadata about the resources.</span></span> <span data-ttu-id="bff29-176">Исходя из этого, при указании расположения группы ресурсов вы определяете расположение метаданных.</span><span class="sxs-lookup"><span data-stu-id="bff29-176">Therefore, when you specify a location for the resource group, you are specifying where that metadata is stored.</span></span> <span data-ttu-id="bff29-177">В целях обеспечения соответствия необходимо убедиться, что данные хранятся в определенном регионе.</span><span class="sxs-lookup"><span data-stu-id="bff29-177">For compliance reasons, you may need to ensure that your data is stored in a particular region.</span></span>

## <a name="resource-providers"></a><span data-ttu-id="bff29-178">Поставщики ресурсов</span><span class="sxs-lookup"><span data-stu-id="bff29-178">Resource providers</span></span>
<span data-ttu-id="bff29-179">Каждый поставщик ресурсов предоставляет набор ресурсов и операций для работы со службой Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-179">Each resource provider offers a set of resources and operations for working with an Azure service.</span></span> <span data-ttu-id="bff29-180">Например, чтобы хранить ключи и секреты, вам придется работать с поставщиком ресурсов **Microsoft.KeyVault**.</span><span class="sxs-lookup"><span data-stu-id="bff29-180">For example, if you want to store keys and secrets, you work with the **Microsoft.KeyVault** resource provider.</span></span> <span data-ttu-id="bff29-181">Этот поставщик ресурсов предлагает тип ресурса с именем **vaults** для создания хранилища ключей.</span><span class="sxs-lookup"><span data-stu-id="bff29-181">This resource provider offers a resource type called **vaults** for creating the key vault.</span></span> 

<span data-ttu-id="bff29-182">Формат имени типа ресурса: **{поставщик_ресурса}/{тип_ресурса}**.</span><span class="sxs-lookup"><span data-stu-id="bff29-182">The name of a resource type is in the format: **{resource-provider}/{resource-type}**.</span></span> <span data-ttu-id="bff29-183">Например, тип хранилища ключей — **Microsoft.KeyVault/vaults**.</span><span class="sxs-lookup"><span data-stu-id="bff29-183">For example, the key vault type is **Microsoft.KeyVault/vaults**.</span></span>

<span data-ttu-id="bff29-184">Прежде чем начинать развертывание ресурсов, необходимо подробнее узнать о доступных поставщиках ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-184">Before getting started with deploying your resources, you should gain an understanding of the available resource providers.</span></span> <span data-ttu-id="bff29-185">Сведения об именах поставщиков ресурсов и самих ресурсов помогут определить, какие ресурсы необходимо развернуть в Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-185">Knowing the names of resource providers and resources helps you define resources you want to deploy to Azure.</span></span> <span data-ttu-id="bff29-186">Также вы должны знать допустимые расположения и версии API для каждого типа ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-186">Also, you need to know the valid locations and API versions for each resource type.</span></span> <span data-ttu-id="bff29-187">См. дополнительные сведения о [поставщиках и типах ресурсов](resource-manager-supported-services.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-187">For more information, see [Resource providers and types](resource-manager-supported-services.md).</span></span>

## <a name="template-deployment"></a><span data-ttu-id="bff29-188">Развертывание шаблона</span><span class="sxs-lookup"><span data-stu-id="bff29-188">Template deployment</span></span>
<span data-ttu-id="bff29-189">С помощью Resource Manager можно создать шаблон (в формате JSON), определяющий инфраструктуру и конфигурацию решения Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-189">With Resource Manager, you can create a template (in JSON format) that defines the infrastructure and configuration of your Azure solution.</span></span> <span data-ttu-id="bff29-190">Этот шаблон можно использовать, чтобы повторно развертывать решение на протяжении всего его жизненного цикла и гарантировать, что ресурсы развертываются в согласованном состоянии.</span><span class="sxs-lookup"><span data-stu-id="bff29-190">By using a template, you can repeatedly deploy your solution throughout its lifecycle and have confidence your resources are deployed in a consistent state.</span></span> <span data-ttu-id="bff29-191">Если решение создается на портале, оно автоматически включает в себя шаблон развертывания.</span><span class="sxs-lookup"><span data-stu-id="bff29-191">When you create a solution from the portal, the solution automatically includes a deployment template.</span></span> <span data-ttu-id="bff29-192">Вам не нужно создавать шаблон с нуля, поскольку можно начать с шаблона для своего решения и настроить его в соответствии с конкретными потребностями.</span><span class="sxs-lookup"><span data-stu-id="bff29-192">You do not have to create your template from scratch because you can start with the template for your solution and customize it to meet your specific needs.</span></span> <span data-ttu-id="bff29-193">Шаблон для имеющейся группы ресурсов можно получить, либо экспортировав текущее состояние группы ресурсов, либо просмотрев шаблон, использованный для конкретного развертывания.</span><span class="sxs-lookup"><span data-stu-id="bff29-193">You can retrieve a template for an existing resource group by either exporting the current state of the resource group, or viewing the template used for a particular deployment.</span></span> <span data-ttu-id="bff29-194">Чтобы лучше понять синтаксис шаблона, изучите [экспортированный шаблон](resource-manager-export-template.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-194">Viewing the [exported template](resource-manager-export-template.md) is a helpful way to learn about the template syntax.</span></span>

<span data-ttu-id="bff29-195">См. дополнительные сведения о формате и создании [шаблона Azure Resource Manager](resource-manager-create-first-template.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-195">To learn about the format of the template and how you construct it, see [Create your first Azure Resource Manager template](resource-manager-create-first-template.md).</span></span> <span data-ttu-id="bff29-196">См. дополнительные сведения о синтаксисе JSON при [определении ресурсов в шаблонах Azure Resource Manager](/azure/templates/).</span><span class="sxs-lookup"><span data-stu-id="bff29-196">To view the JSON syntax for resources types, see [Define resources in Azure Resource Manager templates](/azure/templates/).</span></span>

<span data-ttu-id="bff29-197">Resource Manager обрабатывает шаблон, как и любой другой запрос (см. рис [Уровень согласованного управления](#consistent-management-layer)).</span><span class="sxs-lookup"><span data-stu-id="bff29-197">Resource Manager processes the template like any other request (see the image for [Consistent management layer](#consistent-management-layer)).</span></span> <span data-ttu-id="bff29-198">Он анализирует шаблон и преобразует его синтаксис в операции REST API для соответствующих поставщиков ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-198">It parses the template and converts its syntax into REST API operations for the appropriate resource providers.</span></span> <span data-ttu-id="bff29-199">Например, Resource Manager получает шаблон со следующим определением ресурса:</span><span class="sxs-lookup"><span data-stu-id="bff29-199">For example, when Resource Manager receives a template with the following resource definition:</span></span>

```json
"resources": [
  {
    "apiVersion": "2016-01-01",
    "type": "Microsoft.Storage/storageAccounts",
    "name": "mystorageaccount",
    "location": "westus",
    "sku": {
      "name": "Standard_LRS"
    },
    "kind": "Storage",
    "properties": {
    }
  }
]
```

<span data-ttu-id="bff29-200">В таком случае Resource Manager преобразует определение в операцию REST API, которая отправляется поставщику ресурсов Microsoft.Storage:</span><span class="sxs-lookup"><span data-stu-id="bff29-200">It converts the definition to the following REST API operation, which is sent to the Microsoft.Storage resource provider:</span></span>

```HTTP
PUT
https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Storage/storageAccounts/mystorageaccount?api-version=2016-01-01
REQUEST BODY
{
  "location": "westus",
  "properties": {
  }
  "sku": {
    "name": "Standard_LRS"
  },   
  "kind": "Storage"
}
```

<span data-ttu-id="bff29-201">Вы выбираете определение шаблонов и групп ресурсов по своему усмотрению в зависимости от того, как нужно управлять решением.</span><span class="sxs-lookup"><span data-stu-id="bff29-201">How you define templates and resource groups is entirely up to you and how you want to manage your solution.</span></span> <span data-ttu-id="bff29-202">Например, трехуровневое приложение можно развернуть из одного шаблона в одной группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-202">For example, you can deploy your three tier application through a single template to a single resource group.</span></span>

![трехуровневый шаблон](./media/resource-group-overview/3-tier-template.png)

<span data-ttu-id="bff29-204">Но определять всю инфраструктуру в одном шаблоне не нужно.</span><span class="sxs-lookup"><span data-stu-id="bff29-204">But, you do not have to define your entire infrastructure in a single template.</span></span> <span data-ttu-id="bff29-205">Во многих случаях целесообразно разделять требования к развертыванию между несколькими наборами шаблонов, предназначенными для определенных задач.</span><span class="sxs-lookup"><span data-stu-id="bff29-205">Often, it makes sense to divide your deployment requirements into a set of targeted, purpose-specific templates.</span></span> <span data-ttu-id="bff29-206">Эти шаблоны можно многократно использовать для различных решений.</span><span class="sxs-lookup"><span data-stu-id="bff29-206">You can easily reuse these templates for different solutions.</span></span> <span data-ttu-id="bff29-207">Чтобы развернуть конкретное решение, создайте главный шаблон, связывающий все необходимые шаблоны.</span><span class="sxs-lookup"><span data-stu-id="bff29-207">To deploy a particular solution, you create a master template that links all the required templates.</span></span> <span data-ttu-id="bff29-208">Ниже показано, как развернуть трехуровневое решение из родительского шаблона, в который входят три вложенных шаблона.</span><span class="sxs-lookup"><span data-stu-id="bff29-208">The following image shows how to deploy a three tier solution through a parent template that includes three nested templates.</span></span>

![вложенный шаблон](./media/resource-group-overview/nested-tiers-template.png)

<span data-ttu-id="bff29-210">Если в вашем случае у уровней отдельные жизненные циклы, эти уровни можно развернуть в отдельные группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-210">If you envision your tiers having separate lifecycles, you can deploy your three tiers to separate resource groups.</span></span> <span data-ttu-id="bff29-211">Обратите внимание, что ресурсы по-прежнему могут быть связаны с ресурсами в других группах.</span><span class="sxs-lookup"><span data-stu-id="bff29-211">Notice the resources can still be linked to resources in other resource groups.</span></span>

![шаблон уровня](./media/resource-group-overview/tier-templates.png)

<span data-ttu-id="bff29-213">Дополнительные сведения о разработке шаблонов см. в статье [Рекомендации по разработке шаблонов Azure Resource Manager](best-practices-resource-manager-design-templates.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-213">For more suggestions about designing your templates, see [Patterns for designing Azure Resource Manager templates](best-practices-resource-manager-design-templates.md).</span></span> <span data-ttu-id="bff29-214">Дополнительные сведения см. в статье [Использование связанных шаблонов в Azure Resource Manager](resource-group-linked-templates.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-214">For information about nested templates, see [Using linked templates with Azure Resource Manager](resource-group-linked-templates.md).</span></span>

<span data-ttu-id="bff29-215">Azure Resource Manager анализирует зависимости, чтобы обеспечить создание ресурсов в правильном порядке.</span><span class="sxs-lookup"><span data-stu-id="bff29-215">Azure Resource Manager analyzes dependencies to ensure resources are created in the correct order.</span></span> <span data-ttu-id="bff29-216">Если один ресурс зависит от значения в другом ресурсе (например, виртуальная машина, для которой требуется учетная запись хранения диска), можно задать зависимость.</span><span class="sxs-lookup"><span data-stu-id="bff29-216">If one resource relies on a value from another resource (such as a virtual machine needing a storage account for disks), you set a dependency.</span></span> <span data-ttu-id="bff29-217">Дополнительные сведения см. в статье [Определение зависимостей в шаблонах диспетчера ресурсов Azure](resource-group-define-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-217">For more information, see [Defining dependencies in Azure Resource Manager templates](resource-group-define-dependencies.md).</span></span>

<span data-ttu-id="bff29-218">Кроме того, шаблон можно использовать для внесения обновлений в инфраструктуру.</span><span class="sxs-lookup"><span data-stu-id="bff29-218">You can also use the template for updates to the infrastructure.</span></span> <span data-ttu-id="bff29-219">Например, можно добавить новый ресурс в решение и правила конфигурации для уже развернутых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-219">For example, you can add a resource to your solution and add configuration rules for the resources that are already deployed.</span></span> <span data-ttu-id="bff29-220">Если шаблон указывает создание ресурса, но этот ресурс уже существует, то Azure Resource Manager обновляет его, а не создает новый.</span><span class="sxs-lookup"><span data-stu-id="bff29-220">If the template specifies creating a resource but that resource already exists, Azure Resource Manager performs an update instead of creating a new asset.</span></span> <span data-ttu-id="bff29-221">Диспетчер ресурсов Azure обновляет существующий актив до того состояния, который бы имел новый ресурс.</span><span class="sxs-lookup"><span data-stu-id="bff29-221">Azure Resource Manager updates the existing asset to the same state as it would be as new.</span></span>  

<span data-ttu-id="bff29-222">Диспетчер ресурсов предоставляет расширения для сценариев, когда необходимы дополнительные операции, такие как установка определенного программного обеспечения, не включенного в программу установки.</span><span class="sxs-lookup"><span data-stu-id="bff29-222">Resource Manager provides extensions for scenarios when you need additional operations such as installing particular software that is not included in the setup.</span></span> <span data-ttu-id="bff29-223">Если вы уже используете службу управления конфигурацией, такую как DSC, Chef или Puppet, можете продолжить работу с ней с помощью расширений.</span><span class="sxs-lookup"><span data-stu-id="bff29-223">If you are already using a configuration management service, like DSC, Chef or Puppet, you can continue working with that service by using extensions.</span></span> <span data-ttu-id="bff29-224">Дополнительные сведения о расширениях виртуальных машин см. в статье [Обзор расширений и компонентов виртуальной машины](../virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="bff29-224">For information about virtual machine extensions, see [About virtual machine extensions and features](../virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> 

<span data-ttu-id="bff29-225">Наконец, шаблон становится частью исходного кода для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="bff29-225">Finally, the template becomes part of the source code for your app.</span></span> <span data-ttu-id="bff29-226">Можно включить его в репозиторий исходного кода и обновлять по мере развития приложения.</span><span class="sxs-lookup"><span data-stu-id="bff29-226">You can check it in to your source code repository and update it as your app evolves.</span></span> <span data-ttu-id="bff29-227">Шаблон можно изменить в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="bff29-227">You can edit the template through Visual Studio.</span></span>

<span data-ttu-id="bff29-228">После определения шаблона можно приступить к развертыванию ресурсов в Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-228">After defining your template, you are ready to deploy the resources to Azure.</span></span> <span data-ttu-id="bff29-229">Команды для развертывания ресурсов см. в следующих источниках.</span><span class="sxs-lookup"><span data-stu-id="bff29-229">For the commands to deploy the resources, see:</span></span>

* [<span data-ttu-id="bff29-230">Развертывание ресурсов с использованием шаблонов Resource Manager и Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="bff29-230">Deploy resources with Resource Manager templates and Azure PowerShell</span></span>](resource-group-template-deploy.md)
* [<span data-ttu-id="bff29-231">Развертывание ресурсов с использованием шаблонов Resource Manager и Azure CLI</span><span class="sxs-lookup"><span data-stu-id="bff29-231">Deploy resources with Resource Manager templates and Azure CLI</span></span>](resource-group-template-deploy-cli.md)
* [<span data-ttu-id="bff29-232">Развертывание ресурсов с использованием шаблонов Resource Manager и портала Azure</span><span class="sxs-lookup"><span data-stu-id="bff29-232">Deploy resources with Resource Manager templates and Azure portal</span></span>](resource-group-template-deploy-portal.md)
* [<span data-ttu-id="bff29-233">Развертывание ресурсов с использованием шаблонов и REST API Resource Manager</span><span class="sxs-lookup"><span data-stu-id="bff29-233">Deploy resources with Resource Manager templates and Resource Manager REST API</span></span>](resource-group-template-deploy-rest.md)

## <a name="tags"></a><span data-ttu-id="bff29-234">Теги</span><span class="sxs-lookup"><span data-stu-id="bff29-234">Tags</span></span>
<span data-ttu-id="bff29-235">Диспетчер ресурсов предоставляет возможность добавления тегов, которая позволяет классифицировать ресурсы в соответствии с вашими требованиями к управлению или выставлению счетов.</span><span class="sxs-lookup"><span data-stu-id="bff29-235">Resource Manager provides a tagging feature that enables you to categorize resources according to your requirements for managing or billing.</span></span> <span data-ttu-id="bff29-236">Используйте теги, если у вас есть сложная коллекция ресурсов и групп ресурсов и требуется визуализировать эти ресурсы самым оптимальным для вас образом.</span><span class="sxs-lookup"><span data-stu-id="bff29-236">Use tags when you have a complex collection of resource groups and resources, and need to visualize those assets in the way that makes the most sense to you.</span></span> <span data-ttu-id="bff29-237">Например, можно снабдить тегами ресурсы, которые выполняют в организации одну и ту же роль или относятся к одному отделу.</span><span class="sxs-lookup"><span data-stu-id="bff29-237">For example, you could tag resources that serve a similar role in your organization or belong to the same department.</span></span> <span data-ttu-id="bff29-238">Без тегов пользователи в организации могут создать несколько ресурсов, которые впоследствии будет трудно идентифицировать. То же касается и управления такими ресурсами.</span><span class="sxs-lookup"><span data-stu-id="bff29-238">Without tags, users in your organization can create multiple resources that may be difficult to later identify and manage.</span></span> <span data-ttu-id="bff29-239">Например, вы хотите удалить все ресурсы для конкретного проекта.</span><span class="sxs-lookup"><span data-stu-id="bff29-239">For example, you may wish to delete all the resources for a particular project.</span></span> <span data-ttu-id="bff29-240">Если к этим ресурсам не добавлены проектные теги, ресурсы придется искать вручную.</span><span class="sxs-lookup"><span data-stu-id="bff29-240">If those resources are not tagged for the project, you have to manually find them.</span></span> <span data-ttu-id="bff29-241">Добавление тегов может позволить сократить затраты при работе с подпиской.</span><span class="sxs-lookup"><span data-stu-id="bff29-241">Tagging can be an important way for you to reduce unnecessary costs in your subscription.</span></span> 

<span data-ttu-id="bff29-242">Один тег могут иметь ресурсы, находящиеся в разных группах ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-242">Resources do not need to reside in the same resource group to share a tag.</span></span> <span data-ttu-id="bff29-243">Можно создать собственную классификацию тегов, чтобы все пользователи в организации использовали одинаковые теги и никто из них не мог случайно указать немного отличающиеся теги (например, "отдел" вместо "отделения").</span><span class="sxs-lookup"><span data-stu-id="bff29-243">You can create your own tag taxonomy to ensure that all users in your organization use common tags rather than users inadvertently applying slightly different tags (such as "dept" instead of "department").</span></span>

<span data-ttu-id="bff29-244">В следующем примере показан тег, примененный к виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="bff29-244">The following example shows a tag applied to a virtual machine.</span></span>

```json
"resources": [    
  {
    "type": "Microsoft.Compute/virtualMachines",
    "apiVersion": "2015-06-15",
    "name": "SimpleWindowsVM",
    "location": "[resourceGroup().location]",
    "tags": {
        "costCenter": "Finance"
    },
    ...
  }
]
```

<span data-ttu-id="bff29-245">Чтобы получить все ресурсы со значением тега, используйте следующий командлет PowerShell:</span><span class="sxs-lookup"><span data-stu-id="bff29-245">To retrieve all the resources with a tag value, use the following PowerShell cmdlet:</span></span>

```powershell
Find-AzureRmResource -TagName costCenter -TagValue Finance
```

<span data-ttu-id="bff29-246">Или выполните следующую команду Azure CLI 2.0:</span><span class="sxs-lookup"><span data-stu-id="bff29-246">Or, the following Azure CLI 2.0 command:</span></span>

```azurecli
az resource list --tag costCenter=Finance
```

<span data-ttu-id="bff29-247">Ресурсы с тегами можно также просмотреть на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-247">You can also view tagged resources through the Azure portal.</span></span>

<span data-ttu-id="bff29-248">В [отчете об использовании](../billing/billing-understand-your-bill.md) вашей подписки содержатся имена тегов и их значения, которые позволяют разделить затраты по тегам.</span><span class="sxs-lookup"><span data-stu-id="bff29-248">The [usage report](../billing/billing-understand-your-bill.md) for your subscription includes tag names and values, which enables you to break out costs by tags.</span></span> <span data-ttu-id="bff29-249">Дополнительные сведения о тегах см. в статье [Использование тегов для организации ресурсов в Azure](resource-group-using-tags.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-249">For more information about tags, see [Using tags to organize your Azure resources](resource-group-using-tags.md).</span></span>

## <a name="access-control"></a><span data-ttu-id="bff29-250">управление доступом;</span><span class="sxs-lookup"><span data-stu-id="bff29-250">Access control</span></span>
<span data-ttu-id="bff29-251">Диспетчер ресурсов позволяет управлять доступом к определенным действиям внутри вашей организации.</span><span class="sxs-lookup"><span data-stu-id="bff29-251">Resource Manager enables you to control who has access to specific actions for your organization.</span></span> <span data-ttu-id="bff29-252">Он по умолчанию интегрирует управление доступом на основе ролей (RBAC) в платформу управления и применяет такое управление доступом ко всем службам в группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-252">It natively integrates role-based access control (RBAC) into the management platform and applies that access control to all services in your resource group.</span></span> 

<span data-ttu-id="bff29-253">При использовании управления доступом на основе ролей необходимо разобраться с двумя понятиями:</span><span class="sxs-lookup"><span data-stu-id="bff29-253">There are two main concepts to understand when working with role-based access control:</span></span>

* <span data-ttu-id="bff29-254">Определения ролей — набор разрешений, которые можно использовать для многих назначений.</span><span class="sxs-lookup"><span data-stu-id="bff29-254">Role definitions - describe a set of permissions and can be used in many assignments.</span></span>
* <span data-ttu-id="bff29-255">Назначения ролей — связывают определение с удостоверением (пользователя или группы) для определенной области (подписки, ресурса или группы ресурсов).</span><span class="sxs-lookup"><span data-stu-id="bff29-255">Role assignments - associate a definition with an identity (user or group) for a particular scope (subscription, resource group, or resource).</span></span> <span data-ttu-id="bff29-256">Области более низкого уровня наследуют назначение.</span><span class="sxs-lookup"><span data-stu-id="bff29-256">The assignment is inherited by lower scopes.</span></span>

<span data-ttu-id="bff29-257">Пользователей можно добавить в заранее определенную платформу и относящиеся к конкретному ресурсу роли.</span><span class="sxs-lookup"><span data-stu-id="bff29-257">You can add users to pre-defined platform and resource-specific roles.</span></span> <span data-ttu-id="bff29-258">Например, предварительно определенная роль "Читатель" позволяет пользователям просматривать ресурсы, но не изменять их.</span><span class="sxs-lookup"><span data-stu-id="bff29-258">For example, you can take advantage of the pre-defined role called Reader that permits users to view resources but not change them.</span></span> <span data-ttu-id="bff29-259">Вы добавляете пользователей организации, которым требуется такой тип доступа, в роль "Читатель" и применяете роль к подписке, группе ресурсов или ресурсу.</span><span class="sxs-lookup"><span data-stu-id="bff29-259">You add users in your organization that need this type of access to the Reader role and apply the role to the subscription, resource group, or resource.</span></span>

<span data-ttu-id="bff29-260">Azure предоставляет следующие четыре роли платформы:</span><span class="sxs-lookup"><span data-stu-id="bff29-260">Azure provides the following four platform roles:</span></span>

1. <span data-ttu-id="bff29-261">"Владелец" — может управлять всем, включая доступ.</span><span class="sxs-lookup"><span data-stu-id="bff29-261">Owner - can manage everything, including access</span></span>
2. <span data-ttu-id="bff29-262">"Участник" — может управлять всем, кроме доступа.</span><span class="sxs-lookup"><span data-stu-id="bff29-262">Contributor - can manage everything except access</span></span>
3. <span data-ttu-id="bff29-263">"Читатель" — может все просматривать, но не может вносить изменения.</span><span class="sxs-lookup"><span data-stu-id="bff29-263">Reader - can view everything, but can't make changes</span></span>
4. <span data-ttu-id="bff29-264">"Администратор доступа пользователей" — может управлять доступом пользователей к ресурсам Azure.</span><span class="sxs-lookup"><span data-stu-id="bff29-264">User Access Administrator - can manage user access to Azure resources</span></span>

<span data-ttu-id="bff29-265">Кроме того, Azure предоставляет несколько ролей для конкретных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-265">Azure also provides several resource-specific roles.</span></span> <span data-ttu-id="bff29-266">К ним относятся:</span><span class="sxs-lookup"><span data-stu-id="bff29-266">Some common ones are:</span></span>

1. <span data-ttu-id="bff29-267">"Участник виртуальных машин" — может управлять виртуальными машинами, но не может предоставлять к ним доступ, а также не может управлять виртуальными сетями или учетными записями хранения, к которым они подключены.</span><span class="sxs-lookup"><span data-stu-id="bff29-267">Virtual Machine Contributor - can manage virtual machines but not grant access to them, and cannot manage the virtual network or storage account to which they are connected</span></span>
2. <span data-ttu-id="bff29-268">"Участник сетей" — может управлять всеми сетевыми ресурсами, но не может предоставлять к ним доступ.</span><span class="sxs-lookup"><span data-stu-id="bff29-268">Network Contributor - can manage all network resources, but not grant access to them</span></span>
3. <span data-ttu-id="bff29-269">"Участник учетных записей хранения" — может управлять учетными записями хранения, но не может предоставлять к ним доступ.</span><span class="sxs-lookup"><span data-stu-id="bff29-269">Storage Account Contributor - Can manage storage accounts, but not grant access to them</span></span>
4. <span data-ttu-id="bff29-270">"Участник SQL Server" — может управлять серверами и базами данных SQL, но не их политиками безопасности.</span><span class="sxs-lookup"><span data-stu-id="bff29-270">SQL Server Contributor - Can manage SQL servers and databases, but not their security-related policies</span></span>
5. <span data-ttu-id="bff29-271">"Участник веб-сайтов" — может управлять веб-сайтами, но не веб-планами, к которым они подключены.</span><span class="sxs-lookup"><span data-stu-id="bff29-271">Website Contributor - Can manage websites, but not the web plans to which they are connected</span></span>

<span data-ttu-id="bff29-272">Полный список ролей и разрешенных действий см. в статье [RBAC: встроенные роли](../active-directory/role-based-access-built-in-roles.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-272">For the full list of roles and permitted actions, see [RBAC: Built in Roles](../active-directory/role-based-access-built-in-roles.md).</span></span> <span data-ttu-id="bff29-273">Дополнительные сведения об управлении доступом на основе ролей см. в статье [Использование назначений ролей для управления доступом к ресурсам в подписке Azure](../active-directory/role-based-access-control-configure.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-273">For more information about role-based access control, see [Azure Role-based Access Control](../active-directory/role-based-access-control-configure.md).</span></span> 

<span data-ttu-id="bff29-274">В некоторых случаях требуется выполнить код или скрипт, который получает доступ к ресурсам, не под учетными данными пользователя.</span><span class="sxs-lookup"><span data-stu-id="bff29-274">In some cases, you want to run code or script that accesses resources, but you do not want to run it under a user’s credentials.</span></span> <span data-ttu-id="bff29-275">Вместо этого нужно создать для приложения удостоверение (субъект-службу) и назначить ему подходящую роль.</span><span class="sxs-lookup"><span data-stu-id="bff29-275">Instead, you want to create an identity called a service principal for the application and assign the appropriate role for the service principal.</span></span> <span data-ttu-id="bff29-276">Resource Manager позволяет создать для приложения учетные данные и проверить его подлинность программными средствами.</span><span class="sxs-lookup"><span data-stu-id="bff29-276">Resource Manager enables you to create credentials for the application and programmatically authenticate the application.</span></span> <span data-ttu-id="bff29-277">Дополнительные сведения о создании субъектов-служб см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="bff29-277">To learn about creating service principals, see one of following topics:</span></span>

* [<span data-ttu-id="bff29-278">Использование Azure PowerShell для создания субъекта-службы и доступа к ресурсам</span><span class="sxs-lookup"><span data-stu-id="bff29-278">Use Azure PowerShell to create a service principal to access resources</span></span>](resource-group-authenticate-service-principal.md)
* [<span data-ttu-id="bff29-279">Использование интерфейса командной строки Azure для создания субъекта-службы и доступа к ресурсам</span><span class="sxs-lookup"><span data-stu-id="bff29-279">Use Azure CLI to create a service principal to access resources</span></span>](resource-group-authenticate-service-principal-cli.md)
* [<span data-ttu-id="bff29-280">Создание приложения Azure Active Directory и субъекта-службы с доступом к ресурсам с помощью портала</span><span class="sxs-lookup"><span data-stu-id="bff29-280">Use portal to create Azure Active Directory application and service principal that can access resources</span></span>](resource-group-create-service-principal-portal.md)

<span data-ttu-id="bff29-281">Можно также явно блокировать критически важные ресурсы, чтобы запретить пользователям удалять или изменять их.</span><span class="sxs-lookup"><span data-stu-id="bff29-281">You can also explicitly lock critical resources to prevent users from deleting or modifying them.</span></span> <span data-ttu-id="bff29-282">Дополнительные сведения см. в статье [Блокировка ресурсов с помощью диспетчера ресурсов Azure](resource-group-lock-resources.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-282">For more information, see [Lock resources with Azure Resource Manager](resource-group-lock-resources.md).</span></span>

## <a name="activity-logs"></a><span data-ttu-id="bff29-283">Журналы действий</span><span class="sxs-lookup"><span data-stu-id="bff29-283">Activity logs</span></span>
<span data-ttu-id="bff29-284">Resource Manager регистрирует все операции создания, изменения и удаления ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-284">Resource Manager logs all operations that create, modify, or delete a resource.</span></span> <span data-ttu-id="bff29-285">Журналы действий можно использовать для поиска ошибки при устранении неполадок, а также для наблюдения за тем, как пользователь в вашей организации изменяет ресурс.</span><span class="sxs-lookup"><span data-stu-id="bff29-285">You can use the activity logs to find an error when troubleshooting or to monitor how a user in your organization modified a resource.</span></span> <span data-ttu-id="bff29-286">Чтобы просмотреть журналы, в колонке **Параметры** для группы ресурсов выберите **Журналы действий**.</span><span class="sxs-lookup"><span data-stu-id="bff29-286">To see the logs, select **Activity logs** in the **Settings** blade for a resource group.</span></span> <span data-ttu-id="bff29-287">Журналы можно отфильтровать по множеству разных значений, в том числе по пользователю, который инициировал операцию.</span><span class="sxs-lookup"><span data-stu-id="bff29-287">You can filter the logs by many different values including which user initiated the operation.</span></span> <span data-ttu-id="bff29-288">Дополнительные сведения о работе с журналами действий см. в статье [Операции аудита с помощью диспетчера ресурсов](resource-group-audit.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-288">For information about working with the activity logs, see [View activity logs to manage Azure resources](resource-group-audit.md).</span></span>

## <a name="customized-policies"></a><span data-ttu-id="bff29-289">Настраиваемые политики</span><span class="sxs-lookup"><span data-stu-id="bff29-289">Customized policies</span></span>
<span data-ttu-id="bff29-290">Диспетчер ресурсов позволяет создавать настраиваемые политики для управления ресурсами.</span><span class="sxs-lookup"><span data-stu-id="bff29-290">Resource Manager enables you to create customized policies for managing your resources.</span></span> <span data-ttu-id="bff29-291">Типы создаваемых политик могут охватывать самые разные сценарии,</span><span class="sxs-lookup"><span data-stu-id="bff29-291">The types of policies you create can include diverse scenarios.</span></span> <span data-ttu-id="bff29-292">включая применение соглашения об именовании ресурсов, ограничение типов и экземпляров развертываемых ресурсов, а также ограничение регионов, в которых могут размещаться ресурсы.</span><span class="sxs-lookup"><span data-stu-id="bff29-292">You can enforce a naming convention on resources, limit which types and instances of resources can be deployed, or limit which regions can host a type of resource.</span></span> <span data-ttu-id="bff29-293">Для ресурсов можно задать значение тега, чтобы реализовать выставление счетов по отделам.</span><span class="sxs-lookup"><span data-stu-id="bff29-293">You can require a tag value on resources to organize billing by departments.</span></span> <span data-ttu-id="bff29-294">Политики создаются для того, чтобы снижать затраты и поддерживать согласованность в подписке.</span><span class="sxs-lookup"><span data-stu-id="bff29-294">You create policies to help reduce costs and maintain consistency in your subscription.</span></span> 

<span data-ttu-id="bff29-295">Они определяются в файле JSON, а затем применяются к подписке или группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-295">You define policies with JSON and then apply those policies either across your subscription or within a resource group.</span></span> <span data-ttu-id="bff29-296">Политики отличаются от управления доступом на основе ролей, так как они применяются к типам ресурсов.</span><span class="sxs-lookup"><span data-stu-id="bff29-296">Policies are different than role-based access control because they are applied to resource types.</span></span>

<span data-ttu-id="bff29-297">В следующем примере показано политику, которая обеспечивает согласованность тегов. Для этого указывается, что все ресурсы включают в себя тег costCenter.</span><span class="sxs-lookup"><span data-stu-id="bff29-297">The following example shows a policy that ensures tag consistency by specifying that all resources include a costCenter tag.</span></span>

```json
{
  "if": {
    "not" : {
      "field" : "tags",
      "containsKey" : "costCenter"
    }
  },
  "then" : {
    "effect" : "deny"
  }
}
```

<span data-ttu-id="bff29-298">Существует множество типов политик, которые можно создать.</span><span class="sxs-lookup"><span data-stu-id="bff29-298">There are many more types of policies you can create.</span></span> <span data-ttu-id="bff29-299">в статье [Применение политик для управления ресурсами и контроля доступа](resource-manager-policy.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-299">For more information, see [Use Policy to manage resources and control access](resource-manager-policy.md).</span></span>

## <a name="sdks"></a><span data-ttu-id="bff29-300">Пакеты SDK</span><span class="sxs-lookup"><span data-stu-id="bff29-300">SDKs</span></span>
<span data-ttu-id="bff29-301">Пакеты SDK для Azure доступны для нескольких языков и платформ.</span><span class="sxs-lookup"><span data-stu-id="bff29-301">Azure SDKs are available for multiple languages and platforms.</span></span> <span data-ttu-id="bff29-302">Каждая из этих языковых реализаций доступна в диспетчере пакетов экосистемы и на сайте GitHub.</span><span class="sxs-lookup"><span data-stu-id="bff29-302">Each of these language implementations is available through its ecosystem package manager and GitHub.</span></span>

<span data-ttu-id="bff29-303">Вот наши репозитории пакета SDK Open Source.</span><span class="sxs-lookup"><span data-stu-id="bff29-303">Here are our Open Source SDK repositories.</span></span> <span data-ttu-id="bff29-304">Присылайте отзывы, сообщения о проблемах и запросы на включение внесенных изменений.</span><span class="sxs-lookup"><span data-stu-id="bff29-304">We welcome feedback, issues, and pull requests.</span></span>

* [<span data-ttu-id="bff29-305">Пакет Azure SDK для .NET</span><span class="sxs-lookup"><span data-stu-id="bff29-305">Azure SDK for .NET</span></span>](https://github.com/Azure/azure-sdk-for-net)
* [<span data-ttu-id="bff29-306">Библиотеки управления Azure для Java</span><span class="sxs-lookup"><span data-stu-id="bff29-306">Azure Management Libraries for Java</span></span>](https://github.com/Azure/azure-sdk-for-java)
* [<span data-ttu-id="bff29-307">Пакет Azure SDK для Node.js</span><span class="sxs-lookup"><span data-stu-id="bff29-307">Azure SDK for Node.js</span></span>](https://github.com/Azure/azure-sdk-for-node)
* [<span data-ttu-id="bff29-308">Пакет Azure SDK для PHP</span><span class="sxs-lookup"><span data-stu-id="bff29-308">Azure SDK for PHP</span></span>](https://github.com/Azure/azure-sdk-for-php)
* [<span data-ttu-id="bff29-309">Пакет SDK для Azure для Python</span><span class="sxs-lookup"><span data-stu-id="bff29-309">Azure SDK for Python</span></span>](https://github.com/Azure/azure-sdk-for-python)
* [<span data-ttu-id="bff29-310">Пакет Azure SDK для Ruby </span><span class="sxs-lookup"><span data-stu-id="bff29-310">Azure SDK for Ruby</span></span>](https://github.com/Azure/azure-sdk-for-ruby)

<span data-ttu-id="bff29-311">Дополнительные сведения об использовании этих языков с вашими ресурсами см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="bff29-311">For information about using these languages with your resources, see:</span></span>

* <span data-ttu-id="bff29-312">[Azure for .NET developers](/dotnet/azure/?view=azure-dotnet) (Azure для разработчиков .NET);</span><span class="sxs-lookup"><span data-stu-id="bff29-312">[Azure for .NET developers](/dotnet/azure/?view=azure-dotnet)</span></span>
* <span data-ttu-id="bff29-313">[Azure for Java developers](/java/azure/) (Azure для разработчиков Java);</span><span class="sxs-lookup"><span data-stu-id="bff29-313">[Azure for Java developers](/java/azure/)</span></span>
* <span data-ttu-id="bff29-314">[Azure for Node.js developers](/nodejs/azure/) (Azure для разработчиков Node.js);</span><span class="sxs-lookup"><span data-stu-id="bff29-314">[Azure for Node.js developers](/nodejs/azure/)</span></span>
* <span data-ttu-id="bff29-315">[Azure for Python developers](/python/azure/) (Azure для разработчиков Python).</span><span class="sxs-lookup"><span data-stu-id="bff29-315">[Azure for Python developers](/python/azure/)</span></span>

> [!NOTE]
> <span data-ttu-id="bff29-316">Если пакет SDK не обеспечивает требуемую функциональность, можно также напрямую вызвать интерфейс [REST API Azure](https://docs.microsoft.com/rest/api/resources/) .</span><span class="sxs-lookup"><span data-stu-id="bff29-316">If the SDK doesn't provide the required functionality, you can also call to the [Azure REST API](https://docs.microsoft.com/rest/api/resources/) directly.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="bff29-317">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="bff29-317">Next steps</span></span>
* <span data-ttu-id="bff29-318">Вводные сведения о работе с шаблонами см. в статье [Экспорт шаблона Azure Resource Manager из существующих ресурсов](resource-manager-export-template.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-318">For a simple introduction to working with templates, see [Export an Azure Resource Manager template from existing resources](resource-manager-export-template.md).</span></span>
* <span data-ttu-id="bff29-319">См. дополнительные сведения в [руководстве по созданию шаблона Azure Resource Manager](resource-manager-create-first-template.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-319">For a more thorough walkthrough of creating a template, see [Create your first Azure Resource Manager template](resource-manager-create-first-template.md).</span></span>
* <span data-ttu-id="bff29-320">Сведения о том, какие функции можно использовать в шаблоне, см. в статье [Работа с шаблонами Azure Resource Manager в Visual Studio Code](resource-group-template-functions.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-320">To understand the functions you can use in a template, see [Template functions](resource-group-template-functions.md)</span></span>
* <span data-ttu-id="bff29-321">Сведения об использовании Resource Manager в Visual Studio см. в статье [Создание и развертывание групп ресурсов Azure с помощью Visual Studio](vs-azure-tools-resource-groups-deployment-projects-create-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="bff29-321">For information about using Visual Studio with Resource Manager, see [Creating and deploying Azure resource groups through Visual Studio](vs-azure-tools-resource-groups-deployment-projects-create-deploy.md).</span></span>

<span data-ttu-id="bff29-322">Краткий обзор диспетчера ресурсов также представлен в этом видео:</span><span class="sxs-lookup"><span data-stu-id="bff29-322">Here's a video demonstration of this overview:</span></span>

>[!VIDEO https://channel9.msdn.com/Blogs/Azure-Documentation-Shorts/Azure-Resource-Manager-Overview/player]


[powershellref]: https://docs.microsoft.com/powershell/resourcemanager/azurerm.resources/v3.2.0/azurerm.resources
