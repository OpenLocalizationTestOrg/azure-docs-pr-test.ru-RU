---
title: "aaaDevice сведения метаданных в hello удаленное наблюдение решения | Документы Microsoft"
description: "Описание удаленный мониторинг hello Azure IoT предварительно настроенное решение и его архитектуры."
services: 
suite: iot-suite
documentationcenter: 
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 1b334769-103b-4eb0-a293-184f3d1ba9a3
ms.service: iot-suite
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/24/2017
ms.author: dobett
ms.openlocfilehash: 8387b98b8b2ae4934b0c900bc4df37dc17337c60
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="device-information-metadata-in-hello-remote-monitoring-preconfigured-solution"></a>Устройство сведения метаданных в удаленное наблюдение предварительно настроенных решений hello

Hello Azure IoT Suite удаленное наблюдение предварительно настроенных решений показано подход, управление метаданными устройства. В этой статье рассматриваются подход hello это решение принимает tooenable toounderstand вы:

* Сохраняет какие hello метаданных устройствами.
* Как решение hello управляет метаданными hello устройства.

## <a name="context"></a>Context

Hello удаленный мониторинг предварительно настроенное решение использует [центр IoT Azure] [ lnk-iot-hub] tooenable облако toohello данных toosend вашего устройства. решение Hello хранит сведения об устройствах в трех разных местах:

| Расположение | Сохраненные сведения | Реализация |
| -------- | ------------------ | -------------- |
| Реестр удостоверений | Идентификатор устройства, ключи проверки подлинности, включенное состояние | Встроенная tooIoT концентратора |
| Двойники устройства | Метаданные: сообщаемые свойства, требуемые свойства, теги | Встроенная tooIoT концентратора |
| База данных Cosmos | Журнал методов и команд | Специальная для каждого решения |

Включает центр IoT [реестре удостоверений устройств] [ lnk-identity-registry] toomanage доступа центра IoT tooan и использует [близнецы устройства] [ lnk-device-twin] toomanage метаданные устройства . В центре также есть *реестр устройств* для удаленного мониторинга каждого решения. В этом реестре хранится журнал методов и команд. удаленный мониторинг решение использует Hello [Cosmos DB] [ lnk-docdb] базы данных tooimplement настраиваемое хранилище для журнала команд и метод.

> [!NOTE]
> Hello удаленное наблюдение предварительно настроенных решений сохраняет реестре удостоверений устройств hello в соответствии с hello сведения в базе данных Cosmos DB hello. Используют hello же toouniquely идентификатор устройства идентификации каждого устройство подключено tooyour центр IoT.

## <a name="device-metadata"></a>Метаданные устройства

Центр IoT поддерживает [двойных устройства] [ lnk-device-twin] каждого имитацию и физического устройства, подключенного tooa удаленного решением для мониторинга. Hello решение использует устройство близнецы toomanage hello метаданные, связанные с устройствами. Двойных устройства является документ JSON, обслуживается центр IoT и hello решение использует интерфейс API концентратора IoT toointeract hello с близнецы устройства.

Двойник устройства содержит три типа метаданных.

- *Отчет свойства* отправляются центра IoT tooan устройством. В удаленных решением для мониторинга hello, смоделированные устройства отправляют свойства отчета при запуске и в ответ слишком**изменение состояния устройства** команды и методы. Можно просмотреть свойства отчета в hello **список устройств** и **сведений об устройстве** hello решение портала. Сообщаемые свойства доступны только для чтения.
- *Требуемого свойства* извлекаются из центра IoT hello на устройствах. Он несет hello hello устройства toomake изменить какой-либо необходимые настройки на устройстве hello. Также hello обязанностью является hello устройства tooreport hello изменений назад toohello концентратора как свойство отчета. Можно задать значение нужного свойства через портал hello решения.
- *Теги* существуют только в двойных устройства hello и никогда не синхронизированы с устройством. Можно задать значения тега hello решение портала и использовать их при фильтрации hello список устройств. решение Hello также использует toodisplay значок тега hello tooidentify для устройства на портале решения hello.

Пример сообщила, что свойства из hello имитируемые устройства включают производителя и номер модели, широту и долготу. Имитация устройств также возвращать hello список поддерживаемых методов как свойство отчета.

> [!NOTE]
> Hello имитированное устройство код использует только hello **Desired.Config.TemperatureMeanValue** и **Desired.Config.TelemetryInterval** hello tooupdate нужными свойствами сообщил отправил обратно свойства tooIoT концентратора. Все прочие запросы на изменение требуемых свойств игнорируются.

Метаданные JSON устройства сведения документа, хранящегося в системный реестр Cosmos DB hello устройство имеет hello следующие структуры:

```json
{
  "DeviceProperties": {
    "DeviceID": "deviceid1",
    "HubEnabledState": null,
    "CreatedTime": "2016-04-25T23:54:01.313802Z",
    "DeviceState": "normal",
    "UpdatedTime": null
    },
  "SystemProperties": {
    "ICCID": null
  },
  "Commands": [],
  "CommandHistory": [],
  "IsSimulatedDevice": false,
  "id": "fe81a81c-bcbc-4970-81f4-7f12f2d8bda8"
}
```

> [!NOTE]
> Сведения об устройстве можно также включить метаданные toodescribe hello телеметрии hello устройство отправляет tooIoT концентратора. решение для удаленного мониторинга Hello использует этот toocustomize телеметрии метаданных, как панель мониторинга hello отображает [динамического телеметрии][lnk-dynamic-telemetry].

## <a name="lifecycle"></a>Жизненный цикл

При создании устройства на портале решения hello, hello решение создает запись в hello команда toostore Cosmos DB базы данных и журнала метод. На этом этапе hello решения также создает запись для устройства hello в реестре удостоверений устройств hello, создающий hello ключи hello устройство использует tooauthenticate с центром IoT. Оно также создает двойника устройства.

Устройства сначала подключается toohello решения, отправляет свойства отчета и сообщение сведения устройства. Hello сообщила, что значения свойств автоматически сохраняются в двойных hello устройства. Hello сообщила, что свойства включают hello изготовителя устройства, номер модели, серийный номер и список поддерживаемых методов. Информационное сообщение Hello устройств включает список hello hello команды, которые поддерживает устройство hello, включая данные о любые параметры. Когда hello решение получает это сообщение, он обновляет hello сведений об устройстве в базе данных Cosmos DB hello.

### <a name="view-and-edit-device-information-in-hello-solution-portal"></a>Просмотр и редактирование сведений об устройстве в портале решения hello

Hello список устройств на портале решения hello отображаются следующие свойства устройства как столбцы по умолчанию hello: **состояние**, **DeviceId**, **производителя**, **Номер модели**, **серийный номер**, **встроенного по**, **платформы**, **процессора**и  **Установлено ОЗУ**. Можно выбрать столбцы hello, щелкнув **редактор столбец**. Здравствуйте, свойства устройства **широты** и **долготы** диск расположение hello в hello карты Bing на панели мониторинга hello.

![Редактор столбцов в списке устройств][img-device-list]

В hello **сведений об устройстве** области портала hello решения можно изменять нужными свойствами и теги (предупреждение свойства доступны только для чтения).

![Область "Сведения устройства"][img-device-edit]

Hello решение портала tooremove устройства можно использовать из решения. При удалении устройства решения hello удаляет запись устройства hello из реестра удостоверений, а затем удаляет двойных hello устройства. решение Hello также удаляет устройство toohello связанные сведения из базы данных Cosmos DB hello. Перед удалением устройства его необходимо отключить.

![Удаление устройства][img-device-remove]

## <a name="device-information-message-processing"></a>Обработка сообщений со сведениями об устройстве

Сообщения со сведениями об устройстве, отправляемые устройством, отличаются от сообщений телеметрии. Устройство сведения сообщения включают устройство может реагировать на команды hello и любые журнала команд. Центр IoT сам не имеет сведений о hello метаданные, содержащиеся в сообщении сведения устройств и процессов hello сообщение hello так же, как он обрабатывает все сообщения устройства в облако. В удаленное наблюдение решения, hello [Azure Stream Analytics] [ lnk-stream-analytics] задания (ASA) считывает сообщения hello из центра IoT. Hello **DeviceInfo** фильтры для сообщений, которые содержат задания stream analytics **«ObjectType»: «DeviceInfo»** и пересылает их toohello **EventProcessorHost** узла экземпляр, который выполняется в веб-задание. Логика в hello **EventProcessorHost** экземпляр использует запись Cosmos DB hello toofind идентификатор hello устройства hello определенной устройства и обновления записи hello.

> [!NOTE]
> Сообщение со сведениями об устройстве — это стандартное сообщение, отправляемое с устройства в облако. решение Hello отличия между устройства информационные сообщения и сообщения телеметрии с помощью ASA запросов.

## <a name="next-steps"></a>Дальнейшие действия

После завершения обучения, как можно настроить hello предварительно настроенных решений можно изучить некоторые hello и другие возможности hello IoT Suite предварительно настроенных решений.

* [Обзор предварительно настроенного решения прогнозируемого обслуживания][lnk-predictive-overview]
* [Часто задаваемые вопросы об IoT Suite][lnk-faq]
* [Основание безопасности IoT из hello,][lnk-security-groundup]

<!-- Images and links -->
[img-device-list]: media/iot-suite-remote-monitoring-device-info/image1.png
[img-device-edit]: media/iot-suite-remote-monitoring-device-info/image2.png
[img-device-remove]: media/iot-suite-remote-monitoring-device-info/image3.png

[lnk-iot-hub]: https://azure.microsoft.com/documentation/services/iot-hub/
[lnk-identity-registry]: ../iot-hub/iot-hub-devguide-identity-registry.md
[lnk-device-twin]: ../iot-hub/iot-hub-devguide-device-twins.md
[lnk-docdb]: https://azure.microsoft.com/documentation/services/documentdb/
[lnk-stream-analytics]: https://azure.microsoft.com/documentation/services/stream-analytics/
[lnk-dynamic-telemetry]: iot-suite-dynamic-telemetry.md

[lnk-predictive-overview]: iot-suite-predictive-overview.md
[lnk-faq]: iot-suite-faq.md
[lnk-security-groundup]: securing-iot-ground-up.md
