---
title: "Понятия службы подготовки устройств для Центра Интернета вещей Azure | Документация Майкрософт"
description: "В этой статье описываются понятия подготовки устройств с помощью службы подготовки устройств и Центра Интернета вещей."
services: iot-dps
keywords: 
author: nberdy
ms.author: nberdy
ms.date: 10/03/2017
ms.topic: article
ms.service: iot-dps
documentationcenter: 
manager: timlt
ms.devlang: na
ms.custom: mvc
ms.openlocfilehash: 96c63e5d0379150ea619dbbe912a21e373f808af
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="iot-hub-device-provisioning-service-concepts"></a>Понятия службы подготовки устройств для Центра Интернета вещей

Служба подготовки устройств для Центра Интернета вещей — это вспомогательная служба, позволяющая настроить полностью автоматическую подготовку устройства в указанном Центре Интернета вещей. Она дает возможность подготавливать миллионы устройств с высоким уровнем безопасности и масштабируемости.

Подготовка устройства состоит из двух этапов. На первом этапе устанавливается начальное подключение между устройством и решением Интернета вещей путем *регистрации* устройства. Второй этап включает применение правильной *конфигурации* на устройстве на основе определенных требований решения. Устройство будет полностью *подготовлено* только после завершения обоих этапов. Служба подготовки устройств автоматизирует оба этапа для обеспечения эффективной подготовки устройства.

В этой статье приводятся основные понятия подготовки, которые лучше всего подходят для управления *службой*. Сведения в этой статье касаются пользователей, участвующих в [этапе настройки облака](about-iot-dps.md#cloud-setup-step) по подготовке устройства для развертывания.

## <a name="service-operations-endpoint"></a>Конечная точка операций службы

Конечная точка операций службы — это конечная точка, предназначенная для управления параметрами службы и обслуживания списка регистрации. Эта конечную точку использует только администратор служб. Она не используется на устройствах.

## <a name="device-provisioning-endpoint"></a>Конечная точка подготовки устройства

Конечная точка подготовки устройства — это центральная конечная точка, к которой обращаются все устройства при подготовке. URL-адрес должен быть одинаковым для всех служб подготовки, чтобы исключить необходимость перезаписи параметров устройств новыми данными о подключении в сценариях цепочки поставок. [Область ИД](#id-scope) обеспечивает изоляцию клиентов.

## <a name="linked-iot-hubs"></a>Связанные Центры Интернета вещей

Служба подготовки устройств может подготавливать для Центров Интернета вещей только связанные с ней устройства. Связывание Центра Интернета вещей со службой подготовки устройств предоставляет разрешения на чтение и запись к службе в реестре устройств Центра Интернета вещей. С помощью связывания служба подготовки устройств может зарегистрировать идентификатор устройства и задать начальную конфигурацию в двойнике устройства. Связанные Центры Интернета вещей могут находиться в любом регионе Azure. К службе подготовки можно привязать Центры в других подписках.

## <a name="allocation-policy"></a>Политика распределения

Параметр на уровне службы, определяющий назначение устройств службой подготовки устройств Центру Интернета вещей. Поддерживаются три политики распределения:
* **Evenly weighted distribution** (Равномерное распределение). В связанных Центрах Интернета вещей можно обеспечить равномерную подготовку устройств. Значение по умолчанию. При подготовке устройств только в одном Центре Интернета вещей можно оставить это значение.
* **Lowest latency** (Минимальная задержка). Устройства подготавливаются в Центре Интернета вещей с минимальной задержкой. Если несколько связанных Центров Интернета вещей обеспечивают одинаковую наименьшую задержку, служба подготовки хэширует устройства по этим Центрам.
* **Static configuration via the enrollment list** (Статическая конфигурация через список регистрации). Спецификация нужного Центра Интернета вещей в списке регистрации имеет приоритет над политикой распределения на уровне службы.

## <a name="enrollment"></a>Регистрация

Регистрация — это запись устройств или групп устройств, которые можно зарегистрировать в определенный момент. Запись регистрации содержит сведения об устройстве или группе устройств, включая метод аттестации устройств, и при необходимости начальную требуемую конфигурацию, Центр Интернета вещей и идентификатор устройства. Служба подготовки устройств поддерживает два типа регистраций.

### <a name="enrollment-group"></a>Группа регистраций

Это группа устройств, совместно использующих определенный механизм аттестации. Все устройства в группе регистраций представляют сертификаты X.509, подписанные одним корневым ЦС. Группы регистраций могут использовать только механизм аттестации X.509. Имя группы регистрации и сертификата должно состоять из букв и цифр нижнего регистра и может содержать дефисы.

> [!TIP]
> Мы советуем использовать группу регистраций для большого количества устройств, имеющих необходимую начальную конфигурацию, или для устройств, предназначенных для одного и того же клиента.

### <a name="individual-enrollment"></a>Отдельная регистрация

Отдельная регистрация — это запись одного устройства, которое можно зарегистрировать. В качестве механизмов аттестации отдельные регистрации могут использовать сертификаты X.509 или токены SAS (в реальном или виртуальном доверенном платформенном модуле). Идентификатор регистрации в отдельной регистрации состоит из цифр и букв нижнего регистра и может содержать дефисы. Для отдельных регистраций можно указать нужный идентификатор устройства Центра Интернета вещей.

> [!TIP]
> Мы советуем использовать отдельные регистрации для устройств, которым требуются уникальные начальные конфигурации, или для устройств, которые могут использовать только маркеры SAS через TPM или виртуальный TPM в качестве механизма аттестации.

## <a name="registration"></a>Регистрация

Регистрация — это запись успешной регистрации или подготовки устройства в Центре Интернета вещей через службу подготовки устройств. Записи регистрации создаются автоматически. Вы можете их удалить, но не обновить.

## <a name="operations"></a>Операции

Операции представляют собой единицы выставления счетов службы подготовки устройств. Операцией является успешное выполнение одной инструкции в службе. К операциям относятся регистрация и повторная регистрация устройств, а также изменения на стороне службы, например добавление записей в список регистрации и их обновление.
