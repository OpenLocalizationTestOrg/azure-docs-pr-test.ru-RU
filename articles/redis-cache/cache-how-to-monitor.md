---
title: "aaaHow toomonitor кэша Redis для Azure | Документы Microsoft"
description: "Узнайте, как toomonitor hello работоспособности и производительности своих экземпляров кэша Redis для Azure"
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 7e70b153-9c87-4290-85af-2228f31df118
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: sdanie
ms.openlocfilehash: c474d485dfcbb109d5bb634a980f6db080598e13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-toomonitor-azure-redis-cache"></a><span data-ttu-id="762ae-103">Как toomonitor Redis для Azure кэша</span><span class="sxs-lookup"><span data-stu-id="762ae-103">How toomonitor Azure Redis Cache</span></span>
<span data-ttu-id="762ae-104">Использует кэш Azure Redis [монитора Azure](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) tooprovide несколько возможностей отслеживания экземпляров кэша.</span><span class="sxs-lookup"><span data-stu-id="762ae-104">Azure Redis Cache uses [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) tooprovide several options for monitoring your cache instances.</span></span> <span data-ttu-id="762ae-105">Можно просмотреть метрики, закрепить диаграммы метрик toohello начальной панели, настроить hello диапазон дат и времени диаграмм мониторинга, добавить и удалить метрики из диаграмм hello и настроить оповещения при выполнении определенных условий.</span><span class="sxs-lookup"><span data-stu-id="762ae-105">You can view metrics, pin metrics charts toohello Startboard, customize hello date and time range of monitoring charts, add and remove metrics from hello charts, and set alerts when certain conditions are met.</span></span> <span data-ttu-id="762ae-106">Эти средства включите вы toomonitor hello работоспособности экземпляров кэша Redis для Azure и сведения об управлении приложениями кэширования.</span><span class="sxs-lookup"><span data-stu-id="762ae-106">These tools enable you toomonitor hello health of your Azure Redis Cache instances and help you manage your caching applications.</span></span>

<span data-ttu-id="762ae-107">Метрики для кэша Redis для Azure экземпляров собранных с помощью hello Redis [сведения](http://redis.io/commands/info) примерно вдвое команды за минуты и автоматически сохраняются в течение 30 дней (см. [Экспорт метрик кэша](#export-cache-metrics) tooconfigure Политика хранения разных), отображаемых в диаграммах метрик hello и оценки правилами оповещений.</span><span class="sxs-lookup"><span data-stu-id="762ae-107">Metrics for Azure Redis Cache instances are collected using hello Redis [INFO](http://redis.io/commands/info) command approximately twice per minute and automatically stored for 30 days (see [Export cache metrics](#export-cache-metrics) tooconfigure a different retention policy) so they can be displayed in hello metrics charts and evaluated by alert rules.</span></span> <span data-ttu-id="762ae-108">Дополнительные сведения о hello различные сведения значения для каждой метрики кэша см. в разделе [доступные метрики и интервалы отчетности](#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="762ae-108">For more information about hello different INFO values used for each cache metric, see [Available metrics and reporting intervals](#available-metrics-and-reporting-intervals).</span></span>

<a name="view-cache-metrics"></a>

<span data-ttu-id="762ae-109">метрики кэша tooview, [Обзор](cache-configure.md#configure-redis-cache-settings) tooyour экземпляра кэша в hello [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="762ae-109">tooview cache metrics, [browse](cache-configure.md#configure-redis-cache-settings) tooyour cache instance in hello [Azure portal](https://portal.azure.com).</span></span>  <span data-ttu-id="762ae-110">Кэш Azure Redis предоставляет некоторые встроенные диаграммы на hello **Обзор** колонки и hello **Redis метрики** колонку.</span><span class="sxs-lookup"><span data-stu-id="762ae-110">Azure Redis Cache provides some built-in charts on hello **Overview** blade and hello **Redis metrics** blade.</span></span> <span data-ttu-id="762ae-111">Каждая диаграмма может настраиваться путем добавления или удаления метрик и изменения отчетного интервала hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-111">Each chart can be customized by adding or removing metrics and changing hello reporting interval.</span></span>

![Метрики Redis](./media/cache-how-to-monitor/redis-cache-redis-metrics-blade.png)

## <a name="view-pre-configured-metrics-charts"></a><span data-ttu-id="762ae-113">Просмотр предварительно настроенных диаграмм метрик</span><span class="sxs-lookup"><span data-stu-id="762ae-113">View pre-configured metrics charts</span></span>

<span data-ttu-id="762ae-114">Hello **Обзор** колонке имеет следующие предварительно настроенные диаграммы мониторинга hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-114">hello **Overview** blade has hello following pre-configured monitoring charts.</span></span>

* [<span data-ttu-id="762ae-115">Диаграммы мониторинга</span><span class="sxs-lookup"><span data-stu-id="762ae-115">Monitoring charts</span></span>](#monitoring-charts)
* [<span data-ttu-id="762ae-116">Диаграммы использования</span><span class="sxs-lookup"><span data-stu-id="762ae-116">Usage charts</span></span>](#usage-charts)

### <a name="monitoring-charts"></a><span data-ttu-id="762ae-117">Диаграммы мониторинга</span><span class="sxs-lookup"><span data-stu-id="762ae-117">Monitoring charts</span></span>
<span data-ttu-id="762ae-118">Hello **мониторинг** раздела hello **Обзор** колонке **попаданий и промахов**, **возвращает и задает**, **подключений**, и **всего команд** диаграммы.</span><span class="sxs-lookup"><span data-stu-id="762ae-118">hello **Monitoring** section in hello **Overview** blade has **Hits and Misses**, **Gets and Sets**, **Connections**, and **Total Commands** charts.</span></span>

![Диаграммы мониторинга](./media/cache-how-to-monitor/redis-cache-monitoring-part.png)

### <a name="usage-charts"></a><span data-ttu-id="762ae-120">Диаграммы использования</span><span class="sxs-lookup"><span data-stu-id="762ae-120">Usage charts</span></span>
<span data-ttu-id="762ae-121">Hello **использование** раздела hello **Обзор** колонке **нагрузки на сервер Redis**, **использование памяти**, **пропускная способность сети** , и **ЦП** диаграммы, а также отображает hello **Ценовая категория** для экземпляра кэша hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-121">hello **Usage** section in hello **Overview** blade has **Redis Server Load**, **Memory Usage**, **Network Bandwith**, and **CPU Usage** charts, and also displays hello **Pricing tier** for hello cache instance.</span></span>

![Диаграммы использования](./media/cache-how-to-monitor/redis-cache-usage-part.png)

<span data-ttu-id="762ae-123">Hello **Ценовая категория** стоимость кэша отображает hello уровня и может использоваться слишком[шкалы](cache-how-to-scale.md) hello кэша tooa различных ценовой категории.</span><span class="sxs-lookup"><span data-stu-id="762ae-123">hello **Pricing tier** displays hello cache pricing tier, and can be used too[scale](cache-how-to-scale.md) hello cache tooa different pricing tier.</span></span>

## <a name="view-metrics-with-azure-monitor"></a><span data-ttu-id="762ae-124">Просмотр метрик с помощью Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="762ae-124">View metrics with Azure monitor</span></span>
<span data-ttu-id="762ae-125">tooview Redis показатели и создание пользовательских диаграмм с помощью монитора Azure щелкните **метрики** из hello **ресурсов меню**и настраивать диаграммы с использованием требуемого hello метрик, отчетного интервала тип диаграммы и Дополнительные.</span><span class="sxs-lookup"><span data-stu-id="762ae-125">tooview Redis metrics and create custom charts using Azure Monitor, click **Metrics** from hello **Resource menu**, and customize your chart using hello desired metrics, reporting interval, chart type, and more.</span></span>

![Метрики Redis](./media/cache-how-to-monitor/redis-cache-monitor.png)

<span data-ttu-id="762ae-127">Дополнительные сведения о работе с метриками в Azure Monitor см. в статье [Обзор метрик в Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="762ae-127">For more information on working with metrics using Azure Monitor, see [Overview of metrics in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span></span>

<a name="how-to-view-metrics-and-customize-chart"></a>
<a name="enable-cache-diagnostics"></a>
## <a name="export-cache-metrics"></a><span data-ttu-id="762ae-128">Экспорт метрик кэша</span><span class="sxs-lookup"><span data-stu-id="762ae-128">Export cache metrics</span></span>
<span data-ttu-id="762ae-129">По умолчанию в Azure Monitor метрики кэша [хранятся в течение 30 дней](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive), а затем удаляются.</span><span class="sxs-lookup"><span data-stu-id="762ae-129">By default, cache metrics in Azure Monitor are [stored for 30 days](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) and then deleted.</span></span> <span data-ttu-id="762ae-130">toopersist показатели кэша более 30 дней, вы можете [назначить учетную запись хранения](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) и укажите **хранения (в днях)** политику для метрик вашего кэша.</span><span class="sxs-lookup"><span data-stu-id="762ae-130">toopersist your cache metrics for longer than 30 days, you can [designate a storage account](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and specify a **Retention (days)** policy for your cache metrics.</span></span> 

<span data-ttu-id="762ae-131">tooconfigure учетную запись хранения для вашей метрик кэша:</span><span class="sxs-lookup"><span data-stu-id="762ae-131">tooconfigure a storage account for your cache metrics:</span></span>

1. <span data-ttu-id="762ae-132">Нажмите кнопку **диагностики** из hello **ресурсов меню** в hello **кэша Redis** колонку.</span><span class="sxs-lookup"><span data-stu-id="762ae-132">Click **Diagnostics** from hello **Resource menu** in hello **Redis Cache** blade.</span></span>
2. <span data-ttu-id="762ae-133">Щелкните **Вкл.**</span><span class="sxs-lookup"><span data-stu-id="762ae-133">Click **On**.</span></span>
3. <span data-ttu-id="762ae-134">Проверьте **архивировать учетной записи хранилища tooa**.</span><span class="sxs-lookup"><span data-stu-id="762ae-134">Check **Archive tooa storage account**.</span></span>
4. <span data-ttu-id="762ae-135">Выберите учетную запись хранения hello в какие метрики кэша toostore hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-135">Select hello storage account in which toostore hello cache metrics.</span></span>
5. <span data-ttu-id="762ae-136">Проверьте hello **1 минута** флажок и укажите **хранения (в днях)** политики.</span><span class="sxs-lookup"><span data-stu-id="762ae-136">Check hello **1 minute** checkbox and specify a **Retention (days)** policy.</span></span> <span data-ttu-id="762ae-137">Если не хотите tooapply любую политику хранения и сохранения данных, установите **хранения (в днях)** слишком**0**.</span><span class="sxs-lookup"><span data-stu-id="762ae-137">If you do not want tooapply any retention policy and retain data forever, set **Retention (days)** too**0**.</span></span>
6. <span data-ttu-id="762ae-138">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="762ae-138">Click **Save**.</span></span>

![Диагностика Redis](./media/cache-how-to-monitor/redis-cache-diagnostics.png)

>[!NOTE]
><span data-ttu-id="762ae-140">В дополнение tooarchiving toostorage метрик вашего кэша, вы также можете [поток их tooan концентратора событий или отправлять их tooLog Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span><span class="sxs-lookup"><span data-stu-id="762ae-140">In addition tooarchiving your cache metrics toostorage, you can also [stream them tooan Event hub or send them tooLog Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span></span>
>
>

<span data-ttu-id="762ae-141">tooaccess показатели, их можно просмотреть в hello портал Azure, как описано выше в этой статье, и их также можно использовать с помощью hello [API REST метрик монитор Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span><span class="sxs-lookup"><span data-stu-id="762ae-141">tooaccess your metrics, you can view them in hello Azure portal as previously described in this article, and you can also access them using hello [Azure Monitor Metrics REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span></span>

> [!NOTE]
> <span data-ttu-id="762ae-142">При изменении учетных записей хранилища данных hello в учетной записи хранения hello ранее настроенные остается доступной для загрузки, но не отображается в hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="762ae-142">If you change storage accounts, hello data in hello previously configured storage account remains available for download, but it is not displayed in hello Azure portal.</span></span>  
> 
> 

## <a name="available-metrics-and-reporting-intervals"></a><span data-ttu-id="762ae-143">Доступные метрики и интервалы отчетности</span><span class="sxs-lookup"><span data-stu-id="762ae-143">Available metrics and reporting intervals</span></span>
<span data-ttu-id="762ae-144">Показатели кэша регистрируются с определенной периодичностью: **за последний час**, **за сегодня**, **за последнюю неделю** и с **настраиваемым** интервалом.</span><span class="sxs-lookup"><span data-stu-id="762ae-144">Cache metrics are reported using several reporting intervals, including **Past hour**, **Today**, **Past week**, and **Custom**.</span></span> <span data-ttu-id="762ae-145">Hello **метрика** колонку для каждой диаграммы метрик отображает hello среднее, минимальное и максимальное значения для каждой метрики в диаграмме hello и некоторых метриках отображается общее для отчетного интервала hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-145">hello **Metric** blade for each metrics chart displays hello average, minimum, and maximum values for each metric in hello chart, and some metrics display a total for hello reporting interval.</span></span> 

<span data-ttu-id="762ae-146">Каждый показатель имеет две версии.</span><span class="sxs-lookup"><span data-stu-id="762ae-146">Each metric includes two versions.</span></span> <span data-ttu-id="762ae-147">Одна метрика измеряет производительность для hello весь кэш, а также для кэшей, использующих [кластеризации](cache-how-to-premium-clustering.md), вторая версия hello метрики, включающий `(Shard 0-9)` hello имя меры производительности одного сегмента в кэше.</span><span class="sxs-lookup"><span data-stu-id="762ae-147">One metric measures performance for hello entire cache, and for caches that use [clustering](cache-how-to-premium-clustering.md), a second version of hello metric that includes `(Shard 0-9)` in hello name measures performance for a single shard in a cache.</span></span> <span data-ttu-id="762ae-148">Например если кэша имеет 4 сегмента `Cache Hits` — общее количество попаданий в кэш целиком hello, hello и `Cache Hits (Shard 3)` является просто hello попаданий для своего сегмента hello кэша.</span><span class="sxs-lookup"><span data-stu-id="762ae-148">For example if a cache has 4 shards, `Cache Hits` is hello total amount of hits for hello entire cache, and `Cache Hits (Shard 3)` is just hello hits for that shard of hello cache.</span></span>

> [!NOTE]
> <span data-ttu-id="762ae-149">Даже если hello кэш не используется без подключенных активных клиентских приложений, вы можете увидеть некоторые действия с кэшем, например подключенных клиентов, использование памяти и операция не выполняется.</span><span class="sxs-lookup"><span data-stu-id="762ae-149">Even when hello cache is idle with no connected active client applications, you may see some cache activity, such as connected clients, memory usage, and operations being performed.</span></span> <span data-ttu-id="762ae-150">Это действие является нормальным во время операции hello экземпляра кэша Redis для Azure.</span><span class="sxs-lookup"><span data-stu-id="762ae-150">This activity is normal during hello operation of an Azure Redis Cache instance.</span></span>
> 
> 

| <span data-ttu-id="762ae-151">Метрика</span><span class="sxs-lookup"><span data-stu-id="762ae-151">Metric</span></span> | <span data-ttu-id="762ae-152">Описание</span><span class="sxs-lookup"><span data-stu-id="762ae-152">Description</span></span> |
| --- | --- |
| <span data-ttu-id="762ae-153">Попаданий в кэш</span><span class="sxs-lookup"><span data-stu-id="762ae-153">Cache Hits</span></span> |<span data-ttu-id="762ae-154">Количество успешных просмотров ключа указанного интервала отчетности hello Hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-154">hello number of successful key lookups during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-155">Это соответствует слишком`keyspace_hits` из hello Redis [сведения](http://redis.io/commands/info) команды.</span><span class="sxs-lookup"><span data-stu-id="762ae-155">This maps too`keyspace_hits` from hello Redis [INFO](http://redis.io/commands/info) command.</span></span> |
| <span data-ttu-id="762ae-156">Промахов в кэше</span><span class="sxs-lookup"><span data-stu-id="762ae-156">Cache Misses</span></span> |<span data-ttu-id="762ae-157">Количество неудачных просмотров ключа указанного интервала отчетности hello Hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-157">hello number of failed key lookups during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-158">Это соответствует слишком`keyspace_misses` из hello команду Redis INFO.</span><span class="sxs-lookup"><span data-stu-id="762ae-158">This maps too`keyspace_misses` from hello Redis INFO command.</span></span> <span data-ttu-id="762ae-159">Промахи в кэше не обязательно означает, что имеется проблема с кэшем hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-159">Cache misses do not necessarily mean there is an issue with hello cache.</span></span> <span data-ttu-id="762ae-160">Например при использовании модель программирования отдельно от кэша hello, приложение сначала ищет элемент в кеше hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-160">For example, when using hello cache-aside programming pattern, an application looks first in hello cache for an item.</span></span> <span data-ttu-id="762ae-161">Если hello элемент отсутствует (Промах кэша), hello элемента извлекается из базы данных hello и добавляется toohello кэша для следующего входа.</span><span class="sxs-lookup"><span data-stu-id="762ae-161">If hello item is not there (cache miss), hello item is retrieved from hello database and added toohello cache for next time.</span></span> <span data-ttu-id="762ae-162">Промахи в кэше — это нормальное поведение для hello модель программирования отдельно от кэша.</span><span class="sxs-lookup"><span data-stu-id="762ae-162">Cache misses are normal behavior for hello cache-aside programming pattern.</span></span> <span data-ttu-id="762ae-163">Если hello число промахов кэша выше, чем ожидалось, проанализируйте логику приложения hello, который заполняет и операций чтения из кэша hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-163">If hello number of cache misses is higher than expected, examine hello application logic that populates and reads from hello cache.</span></span> <span data-ttu-id="762ae-164">Если элементы удаляются из кэша hello из-за нехватки toomemory затем может быть несколько промахов в кэше, но лучше метрики toomonitor на нехватку памяти будет `Used Memory` или `Evicted Keys`.</span><span class="sxs-lookup"><span data-stu-id="762ae-164">If items are being evicted from hello cache due toomemory pressure then there may be some cache misses, but a better metric toomonitor for memory pressure would be `Used Memory` or `Evicted Keys`.</span></span> |
| <span data-ttu-id="762ae-165">Подключенные клиенты</span><span class="sxs-lookup"><span data-stu-id="762ae-165">Connected Clients</span></span> |<span data-ttu-id="762ae-166">Hello число клиентских подключений toohello кэша hello указанный период отчетности.</span><span class="sxs-lookup"><span data-stu-id="762ae-166">hello number of client connections toohello cache during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-167">Это соответствует слишком`connected_clients` из hello команду Redis INFO.</span><span class="sxs-lookup"><span data-stu-id="762ae-167">This maps too`connected_clients` from hello Redis INFO command.</span></span> <span data-ttu-id="762ae-168">Здравствуйте, один раз [предел для числа подключений](cache-configure.md#default-redis-server-configuration) достигается последующие попытки подключения toohello кэша завершится ошибкой.</span><span class="sxs-lookup"><span data-stu-id="762ae-168">Once hello [connection limit](cache-configure.md#default-redis-server-configuration) is reached subsequent connection attempts toohello cache will fail.</span></span> <span data-ttu-id="762ae-169">Обратите внимание, что даже если есть нет активных клиентских приложений, может быть несколько экземпляров подключенных клиентов из-за toointernal процессов и подключений.</span><span class="sxs-lookup"><span data-stu-id="762ae-169">Note that even if there are no active client application, there may still be a few instances of connected clients due toointernal processes and connections.</span></span> |
| <span data-ttu-id="762ae-170">Исключенные ключи</span><span class="sxs-lookup"><span data-stu-id="762ae-170">Evicted Keys</span></span> |<span data-ttu-id="762ae-171">Hello число элементов, удаленных из кэша hello во время hello указанного интервала отчетности из-за toohello `maxmemory` ограничение.</span><span class="sxs-lookup"><span data-stu-id="762ae-171">hello number of items evicted from hello cache during hello specified reporting interval due toohello `maxmemory` limit.</span></span> <span data-ttu-id="762ae-172">Это соответствует слишком`evicted_keys` из hello команду Redis INFO.</span><span class="sxs-lookup"><span data-stu-id="762ae-172">This maps too`evicted_keys` from hello Redis INFO command.</span></span> |
| <span data-ttu-id="762ae-173">Ключи с истекшим сроком действия</span><span class="sxs-lookup"><span data-stu-id="762ae-173">Expired Keys</span></span> |<span data-ttu-id="762ae-174">количество элементов в Hello истек срок действия из кэша hello hello указанный период отчетности.</span><span class="sxs-lookup"><span data-stu-id="762ae-174">hello number of items expired from hello cache during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-175">Это значение соответствует слишком`expired_keys` из hello команду Redis INFO.</span><span class="sxs-lookup"><span data-stu-id="762ae-175">This value maps too`expired_keys` from hello Redis INFO command.</span></span> |
| <span data-ttu-id="762ae-176">Всего ключей</span><span class="sxs-lookup"><span data-stu-id="762ae-176">Total Keys</span></span>  | <span data-ttu-id="762ae-177">Hello максимальное число ключей hello в кэше в течение hello за отчетный период времени.</span><span class="sxs-lookup"><span data-stu-id="762ae-177">hello maximum number of keys in hello cache during hello past reporting time period.</span></span> <span data-ttu-id="762ae-178">Это соответствует слишком`keyspace` из hello команду Redis INFO.</span><span class="sxs-lookup"><span data-stu-id="762ae-178">This maps too`keyspace` from hello Redis INFO command.</span></span> <span data-ttu-id="762ae-179">Из-за ограничения tooa hello базовой системы показателей, для кэшей с включенной кластеризацией всего ключей возвращает максимальное число ключей hello сегментов, который имел hello максимальное число ключей hello отчетного интервала для hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-179">Due tooa limitation of hello underlying metrics system, for caches with clustering enabled, Total Keys returns hello maximum number of keys of hello shard that had hello maximum number of keys during hello reporting interval.</span></span>  |
| <span data-ttu-id="762ae-180">Операций считывания</span><span class="sxs-lookup"><span data-stu-id="762ae-180">Gets</span></span> |<span data-ttu-id="762ae-181">Количество операций извлечения из кэша hello указанный период отчетности hello Hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-181">hello number of get operations from hello cache during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-182">Это значение является сумма hello hello следующие значения из hello Redis INFO все команды: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, и `cmdstat_getrange`, и является суммой эквивалентные toohello попаданий в кэш и Промахов в течение отчетного интервала hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-182">This value is hello sum of hello following values from hello Redis INFO all command: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, and `cmdstat_getrange`, and is equivalent toohello sum of cache hits and misses during hello reporting interval.</span></span> |
| <span data-ttu-id="762ae-183">Загрузка сервера Redis</span><span class="sxs-lookup"><span data-stu-id="762ae-183">Redis Server Load</span></span> |<span data-ttu-id="762ae-184">Процент циклов, в какие hello сервер Redis — выполняет обработку, а не в состоянии простоя для сообщений Hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-184">hello percentage of cycles in which hello Redis server is busy processing and not waiting idle for messages.</span></span> <span data-ttu-id="762ae-185">Если этот счетчик достигает 100, это значит, сервер Redis hello достиг ceiling производительности и не может обработать hello ЦП работе любой быстрее.</span><span class="sxs-lookup"><span data-stu-id="762ae-185">If this counter reaches 100 it means hello Redis server has hit a performance ceiling and hello CPU can't process work any faster.</span></span> <span data-ttu-id="762ae-186">Если вы видите высокой нагрузки на сервер Redis вы увидите исключений таймаута в клиенте hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-186">If you are seeing high Redis Server Load then you will see timeout exceptions in hello client.</span></span> <span data-ttu-id="762ae-187">В этом случае имеет смысл увеличить масштаб или сегментировать данные на несколько экземпляров кэша.</span><span class="sxs-lookup"><span data-stu-id="762ae-187">In this case you should consider scaling up or partitioning your data into multiple caches.</span></span> |
| <span data-ttu-id="762ae-188">Операций записи</span><span class="sxs-lookup"><span data-stu-id="762ae-188">Sets</span></span> |<span data-ttu-id="762ae-189">Номер Hello кэша toohello набор операций во время hello указан интервал отчетности.</span><span class="sxs-lookup"><span data-stu-id="762ae-189">hello number of set operations toohello cache during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-190">Это значение является сумма hello hello следующие значения из hello Redis INFO все команды: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange` , и `cmdstat_setnx`.</span><span class="sxs-lookup"><span data-stu-id="762ae-190">This value is hello sum of hello following values from hello Redis INFO all command: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange`, and `cmdstat_setnx`.</span></span> |
| <span data-ttu-id="762ae-191">Всего операций</span><span class="sxs-lookup"><span data-stu-id="762ae-191">Total Operations</span></span> |<span data-ttu-id="762ae-192">Hello общее число команд, обработанных сервером кэша hello hello указанного интервала отчетности.</span><span class="sxs-lookup"><span data-stu-id="762ae-192">hello total number of commands processed by hello cache server during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-193">Это значение соответствует слишком`total_commands_processed` из hello команду Redis INFO.</span><span class="sxs-lookup"><span data-stu-id="762ae-193">This value maps too`total_commands_processed` from hello Redis INFO command.</span></span> <span data-ttu-id="762ae-194">Обратите внимание, что при использовании исключительно для публикации и подписке кэша Redis для Azure будет метрики для `Cache Hits`, `Cache Misses`, `Gets`, или `Sets`, но будет `Total Operations` метрики, которые отражают использование кэша hello для операций публикации или подписки.</span><span class="sxs-lookup"><span data-stu-id="762ae-194">Note that when Azure Redis Cache is used purely for pub/sub there will be no metrics for `Cache Hits`, `Cache Misses`, `Gets`, or `Sets`, but there will be `Total Operations` metrics that reflect hello cache usage for pub/sub operations.</span></span> |
| <span data-ttu-id="762ae-195">Используемая память</span><span class="sxs-lookup"><span data-stu-id="762ae-195">Used Memory</span></span> |<span data-ttu-id="762ae-196">Hello объем кэш-памяти во время hello используется для пар ключ/значение в кэше hello в МБ указанного интервала отчетности.</span><span class="sxs-lookup"><span data-stu-id="762ae-196">hello amount of cache memory used for key/value pairs in hello cache in MB during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-197">Это значение соответствует слишком`used_memory` из hello команду Redis INFO.</span><span class="sxs-lookup"><span data-stu-id="762ae-197">This value maps too`used_memory` from hello Redis INFO command.</span></span> <span data-ttu-id="762ae-198">Не содержит метаданных или фрагментации.</span><span class="sxs-lookup"><span data-stu-id="762ae-198">This does not include metadata or fragmentation.</span></span> |
| <span data-ttu-id="762ae-199">RSS используемой памяти</span><span class="sxs-lookup"><span data-stu-id="762ae-199">Used Memory RSS</span></span> |<span data-ttu-id="762ae-200">Hello объем кэш-памяти, используемый hello указанный период отчетности, включая фрагментации и метаданных.</span><span class="sxs-lookup"><span data-stu-id="762ae-200">hello amount of cache memory used in MB during hello specified reporting interval, including fragmentation and metadata.</span></span> <span data-ttu-id="762ae-201">Это значение соответствует слишком`used_memory_rss` из hello команду Redis INFO.</span><span class="sxs-lookup"><span data-stu-id="762ae-201">This value maps too`used_memory_rss` from hello Redis INFO command.</span></span> |
| <span data-ttu-id="762ae-202">ЦП</span><span class="sxs-lookup"><span data-stu-id="762ae-202">CPU</span></span> |<span data-ttu-id="762ae-203">Hello ЦП сервера кэша Redis для Azure hello в процентах во время hello указанного интервала отчетности.</span><span class="sxs-lookup"><span data-stu-id="762ae-203">hello CPU utilization of hello Azure Redis Cache server as a percentage during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-204">Это значение соответствует операционной системе toohello `\Processor(_Total)\% Processor Time` счетчика производительности.</span><span class="sxs-lookup"><span data-stu-id="762ae-204">This value maps toohello operating system `\Processor(_Total)\% Processor Time` performance counter.</span></span> |
| <span data-ttu-id="762ae-205">Чтение из кэша</span><span class="sxs-lookup"><span data-stu-id="762ae-205">Cache Read</span></span> |<span data-ttu-id="762ae-206">Hello объем данных, считанных из кэша hello в мегабайтах в секунду (МБИТ/с) во время hello указанного интервала отчетности.</span><span class="sxs-lookup"><span data-stu-id="762ae-206">hello amount of data read from hello cache in Megabytes per second (MB/s) during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-207">Это значение является производным от hello сетевые адаптеры, поддерживающие hello виртуальной машины, где размещена кэша hello и является не Redis определенных.</span><span class="sxs-lookup"><span data-stu-id="762ae-207">This value is derived from hello network interface cards that support hello virtual machine that hosts hello cache and is not Redis specific.</span></span> <span data-ttu-id="762ae-208">**Это значение соответствует toohello использование пропускной способности сети этот кэш. Если требуется tooset предупреждений для ограничения пропускной способности сети стороны сервера, создайте его с помощью этого `Cache Read` счетчика. В разделе [в этой таблице](cache-faq.md#cache-performance) для hello наблюдается ограничения пропускной способности для различных кэша цены уровни и размеры.**</span><span class="sxs-lookup"><span data-stu-id="762ae-208">**This value corresponds toohello network bandwidth used by this cache. If you want tooset up alerts for server side network bandwidth limits, then create it using this `Cache Read` counter. See [this table](cache-faq.md#cache-performance) for hello observed bandwidth limits for various cache pricing tiers and sizes.**</span></span> |
| <span data-ttu-id="762ae-209">Запись в кэш</span><span class="sxs-lookup"><span data-stu-id="762ae-209">Cache Write</span></span> |<span data-ttu-id="762ae-210">Здравствуйте, объем данных, записанных toohello кэша в мегабайтах в секунду (МБИТ/с) во время указанного интервала отчетности hello.</span><span class="sxs-lookup"><span data-stu-id="762ae-210">hello amount of data written toohello cache in Megabytes per second (MB/s) during hello specified reporting interval.</span></span> <span data-ttu-id="762ae-211">Это значение является производным от hello сетевые адаптеры, поддерживающие hello виртуальной машины, где размещена кэша hello и является не Redis определенных.</span><span class="sxs-lookup"><span data-stu-id="762ae-211">This value is derived from hello network interface cards that support hello virtual machine that hosts hello cache and is not Redis specific.</span></span> <span data-ttu-id="762ae-212">Это значение соответствует toohello пропускной способности сети данных, передаваемых от клиента hello toohello кэша.</span><span class="sxs-lookup"><span data-stu-id="762ae-212">This value corresponds toohello network bandwidth of data sent toohello cache from hello client.</span></span> |

<a name="operations-and-alerts"></a>
## <a name="alerts"></a><span data-ttu-id="762ae-213">Оповещения</span><span class="sxs-lookup"><span data-stu-id="762ae-213">Alerts</span></span>
<span data-ttu-id="762ae-214">Можно настроить предупреждения tooreceive, основанные на журналах метрик и действия.</span><span class="sxs-lookup"><span data-stu-id="762ae-214">You can configure tooreceive alerts based on metrics and activity logs.</span></span> <span data-ttu-id="762ae-215">Монитор Azure позволяет tooconfigure предупреждения toodo hello следующие при инициировании:</span><span class="sxs-lookup"><span data-stu-id="762ae-215">Azure Monitor allows you tooconfigure an alert toodo hello following when it triggers:</span></span>

* <span data-ttu-id="762ae-216">Отправка уведомления по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="762ae-216">Send an email notification</span></span>
* <span data-ttu-id="762ae-217">Вызов webhook.</span><span class="sxs-lookup"><span data-stu-id="762ae-217">Call a webhook</span></span>
* <span data-ttu-id="762ae-218">Вызов приложения логики Azure.</span><span class="sxs-lookup"><span data-stu-id="762ae-218">Invoke an Azure Logic App</span></span>

<span data-ttu-id="762ae-219">правила оповещения tooconfigure для кэша, нажмите кнопку **предупреждения правила** из hello **ресурсов меню**.</span><span class="sxs-lookup"><span data-stu-id="762ae-219">tooconfigure Alert rules for your cache, click **Alert rules** from hello **Resource menu**.</span></span>

![Мониторинг](./media/cache-how-to-monitor/redis-cache-monitoring.png)

<span data-ttu-id="762ae-221">Дополнительные сведения о настройке и использовании оповещений см. в статье [Создание оповещений метрик в Azure Monitor для служб Azure с помощью портала Azure](../monitoring-and-diagnostics/insights-alerts-portal.md).</span><span class="sxs-lookup"><span data-stu-id="762ae-221">For more information about configuring and using Alerts, see [Overview of Alerts](../monitoring-and-diagnostics/insights-alerts-portal.md).</span></span>

## <a name="activity-logs"></a><span data-ttu-id="762ae-222">Журналы действий</span><span class="sxs-lookup"><span data-stu-id="762ae-222">Activity Logs</span></span>
<span data-ttu-id="762ae-223">Журналы действий глубже понять hello операций, которые были выполнены на своих экземпляров кэша Redis для Azure.</span><span class="sxs-lookup"><span data-stu-id="762ae-223">Activity logs provide insight into hello operations that were performed on your Azure Redis Cache instances.</span></span> <span data-ttu-id="762ae-224">Ранее они назывались журналами аудита или журналами операций.</span><span class="sxs-lookup"><span data-stu-id="762ae-224">It was previously known as "audit logs" or "operational logs".</span></span> <span data-ttu-id="762ae-225">Используя журналы действий, можно определить hello», кто и когда» для любой записи операций (PUT, POST, DELETE), затраченное на своих экземпляров кэша Redis для Azure.</span><span class="sxs-lookup"><span data-stu-id="762ae-225">Using activity logs, you can determine hello "what, who, and when" for any write operations (PUT, POST, DELETE) taken on your Azure Redis Cache instances.</span></span> 

> [!NOTE]
> <span data-ttu-id="762ae-226">Журнал действий не содержит сведений об операциях чтения (GET).</span><span class="sxs-lookup"><span data-stu-id="762ae-226">Activity logs do not include read (GET) operations.</span></span>
>
>

<span data-ttu-id="762ae-227">журналы действий tooview своего кэша щелкните **журналы действий** из hello **ресурсов меню**.</span><span class="sxs-lookup"><span data-stu-id="762ae-227">tooview activity logs for your cache, click **Activity logs** from hello **Resource menu**.</span></span>

<span data-ttu-id="762ae-228">Дополнительные сведения о журналах действий см. в разделе [Обзор hello журнал действий Azure](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span><span class="sxs-lookup"><span data-stu-id="762ae-228">For more information about Activity logs, see [Overview of hello Azure Activity Log](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span></span>











