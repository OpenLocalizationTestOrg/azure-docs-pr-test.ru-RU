---
title: "tooconfigure aaaHow георепликации для кэша Azure Redis | Документы Microsoft"
description: "Узнайте, как tooreplicate кэша Azure Redis Cache экземпляров разных географических регионах."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: edcd6f202b51055d1a4e47ecaf11f9977d50aa81
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooconfigure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="107c8-103">Как tooconfigure географической репликации для кэша Redis для Azure</span><span class="sxs-lookup"><span data-stu-id="107c8-103">How tooconfigure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="107c8-104">Георепликация предоставляет механизм связывания двух экземпляров кэша Redis для Azure уровня "Премиум".</span><span class="sxs-lookup"><span data-stu-id="107c8-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="107c8-105">Один кэш используется в качестве основных связанный кэш hello и hello других получателей связанного кэширования hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-105">One cache is designated as hello primary linked cache, and hello other as hello secondary linked cache.</span></span> <span data-ttu-id="107c8-106">Hello дополнительных связанных кэш становится доступным только для чтения и репликации данных, является запись toohello основных кэш toohello дополнительных связанный кэш.</span><span class="sxs-lookup"><span data-stu-id="107c8-106">hello secondary linked cache becomes read-only, and data written toohello primary cache is replicated toohello secondary linked cache.</span></span> <span data-ttu-id="107c8-107">Эта возможность может быть используется tooreplicate кэша в разных регионах Azure.</span><span class="sxs-lookup"><span data-stu-id="107c8-107">This functionality can be used tooreplicate a cache across Azure regions.</span></span> <span data-ttu-id="107c8-108">Эта статья содержит руководство по tooconfiguring георепликации для своих экземпляров кэша Redis для Azure уровня Premium.</span><span class="sxs-lookup"><span data-stu-id="107c8-108">This article provides a guide tooconfiguring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="107c8-109">Предварительные требования георепликации</span><span class="sxs-lookup"><span data-stu-id="107c8-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="107c8-110">tooconfigure географическую репликацию данных между двумя кэшами, hello следующие предварительные условия должны быть выполнены.</span><span class="sxs-lookup"><span data-stu-id="107c8-110">tooconfigure Geo-replication between two caches, hello following prerequisites must be met:</span></span>

- <span data-ttu-id="107c8-111">Оба кэша должны относиться к [уровню "Премиум"](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="107c8-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="107c8-112">Оба кэши должны находиться в hello одной подписке.</span><span class="sxs-lookup"><span data-stu-id="107c8-112">Both caches must be in hello same Azure subscription.</span></span>
- <span data-ttu-id="107c8-113">Hello дополнительных связанных кэш должен быть либо hello же ценовой уровень или большего размера цен, чем hello основных связанный кэш.</span><span class="sxs-lookup"><span data-stu-id="107c8-113">hello secondary linked cache must be either hello same pricing tier or a larger pricing tier than hello primary linked cache.</span></span>
- <span data-ttu-id="107c8-114">Если hello основных связанный кэш включенной кластеризацией, hello дополнительных связанных кэш должен быть кластеризации включено с hello одинаковое количество сегментов в качестве первичного связанного кэша hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-114">If hello primary linked cache has clustering enabled, hello secondary linked cache must have clustering enabled with hello same number of shards as hello primary linked cache.</span></span>
- <span data-ttu-id="107c8-115">Оба кэша должны быть созданы и находиться в состоянии выполнения.</span><span class="sxs-lookup"><span data-stu-id="107c8-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="107c8-116">Сохраняемость не должна быть включена ни на одном из кэшей.</span><span class="sxs-lookup"><span data-stu-id="107c8-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="107c8-117">Географическую репликацию данных между кэшами в hello поддерживается одной виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="107c8-117">Geo-replication between caches in hello same VNET is supported.</span></span> <span data-ttu-id="107c8-118">Географическая репликация между кэшами в разных виртуальных сетей также поддерживается, при условии, что hello двух виртуальных сетей настроены таким образом, ресурсы в виртуальных сетях hello может tooreach друг с другом через TCP-подключений.</span><span class="sxs-lookup"><span data-stu-id="107c8-118">Geo-replication between caches in different VNETs is also supported, as long as hello two VNETs are configured in such a way that resources in hello VNETs are able tooreach each other via TCP connections.</span></span>

<span data-ttu-id="107c8-119">После настройки георепликации hello применяются следующие ограничения tooyour пару связанных кэша.</span><span class="sxs-lookup"><span data-stu-id="107c8-119">After Geo-replication is configured, hello following restrictions apply tooyour linked cache pair:</span></span>

- <span data-ttu-id="107c8-120">Hello дополнительных связанных кэш только для чтения. можно читать из него, но не удается записать все tooit данных.</span><span class="sxs-lookup"><span data-stu-id="107c8-120">hello secondary linked cache is read-only; you can read from it, but you can't write any data tooit.</span></span> 
- <span data-ttu-id="107c8-121">Удаляются все данные в дополнительных связанных кэш hello до добавления ссылки hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-121">Any data that was in hello secondary linked cache before hello link was added is removed.</span></span> <span data-ttu-id="107c8-122">Если hello георепликации впоследствии удаляется тем не менее, hello реплицируются данные останутся в дополнительных связанных кэш hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-122">If hello Geo-replication is subsequently removed however, hello replicated data remains in hello secondary linked cache.</span></span>
- <span data-ttu-id="107c8-123">Не удалось инициировать [операция масштабирования](cache-how-to-scale.md) на любом кэша или [изменить hello количество сегментов](cache-how-to-premium-clustering.md) Если кэш hello включенной кластеризацией.</span><span class="sxs-lookup"><span data-stu-id="107c8-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change hello number of shards](cache-how-to-premium-clustering.md) if hello cache has clustering enabled.</span></span>
- <span data-ttu-id="107c8-124">Ни на одном из кэше не удастся включить сохраняемость.</span><span class="sxs-lookup"><span data-stu-id="107c8-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="107c8-125">Можно использовать [Экспорт](cache-how-to-import-export-data.md#export) с либо кэш, но вы можете только [импорта](cache-how-to-import-export-data.md#import) в основной hello связаны кэша.</span><span class="sxs-lookup"><span data-stu-id="107c8-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into hello primary linked cache.</span></span>
- <span data-ttu-id="107c8-126">Невозможно удалить связанный кэш или hello группы ресурсов, содержащий их, пока вы не удалите hello связи георепликации.</span><span class="sxs-lookup"><span data-stu-id="107c8-126">You can't delete either linked cache, or hello resource group that contains them, until you remove hello Geo-replication link.</span></span> <span data-ttu-id="107c8-127">Дополнительные сведения см. в разделе [причины hello неудачи операции удается toodelete Мой связанного кэша?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="107c8-127">For more information, see [Why did hello operation fail when I tried toodelete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="107c8-128">Если два кэша hello находятся в разных регионах, расходы на исходящие данные сети будут применяться toohello данные реплицируются во всех регионах toohello дополнительных связанный кэш.</span><span class="sxs-lookup"><span data-stu-id="107c8-128">If hello two caches are in different regions, network egress costs will apply toohello data replicated across regions toohello secondary linked cache.</span></span> <span data-ttu-id="107c8-129">Дополнительные сведения см. в разделе [выполняет сколько стоит tooreplicate данных разных регионах Azure?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span><span class="sxs-lookup"><span data-stu-id="107c8-129">For more information, see [How much does it cost tooreplicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="107c8-130">Отсутствует автоматический переход на другой toohello получателей связанный кэш-память если отключается основных кэш hello (и его репликой).</span><span class="sxs-lookup"><span data-stu-id="107c8-130">There is no automatic failover toohello secondary linked cache if hello primary cache (and its replica) go down.</span></span> <span data-ttu-id="107c8-131">В клиентских приложениях toofailover заказа потребовалось бы hello георепликации toomanually удалить связь и точки toohello приложения hello клиента кэша, ранее был hello дополнительных связанный кэш.</span><span class="sxs-lookup"><span data-stu-id="107c8-131">In order toofailover client applications, you would need toomanually remove hello Geo-replication link and point hello client applications toohello cache that was formerly hello secondary linked cache.</span></span> <span data-ttu-id="107c8-132">Дополнительные сведения см. в разделе [как работает автоматическое переключение toohello дополнительных связанных кэш?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span><span class="sxs-lookup"><span data-stu-id="107c8-132">For more information, see [How does failing over toohello secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="107c8-133">Добавление связи георепликации</span><span class="sxs-lookup"><span data-stu-id="107c8-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="107c8-134">toolink два premium кэширует вместе для георепликации, нажмите кнопку **георепликации** меню ресурса hello кэша hello предназначен как основной hello связаны кэша и нажмите кнопку **связь репликации кэша добавить**из hello **георепликации** колонку.</span><span class="sxs-lookup"><span data-stu-id="107c8-134">toolink two premium caches together for geo-replication, click **Geo-replication** from hello Resource menu of hello cache intended as hello primary linked cache, and then click **Add cache replication link** from hello **Geo-replication** blade.</span></span>

    ![Добавление связи](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="107c8-136">Щелкните имя требуемого hello кэш второго уровня hello hello **совместимый кэши** списка.</span><span class="sxs-lookup"><span data-stu-id="107c8-136">Click hello name of hello desired secondary cache from hello **Compatible caches** list.</span></span> <span data-ttu-id="107c8-137">Если нужного кэша не отображается в списке hello, убедитесь, что hello [георепликации необходимые компоненты](#geo-replication-prerequisites) для hello требуемого соблюдены кэша получателей.</span><span class="sxs-lookup"><span data-stu-id="107c8-137">If your desired cache isn't displayed in hello list, verify that hello [Geo-replication prerequisites](#geo-replication-prerequisites) for hello desired secondary cache are met.</span></span> <span data-ttu-id="107c8-138">кэши toofilter hello по регионам, щелкните нужный регион hello в toodisplay карты hello только те кэши в hello **совместимый кэши** списка.</span><span class="sxs-lookup"><span data-stu-id="107c8-138">toofilter hello caches by region, click hello desired region in hello map toodisplay only those caches in hello **Compatible caches** list.</span></span>

    ![Кэши, совместимые с георепликацией](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="107c8-140">Можно также запустить hello, связывание с помощью контекстного меню hello процесса или представления сведения о дополнительных кэш hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-140">You can also initiate hello linking process or view details about hello secondary cache by using hello context menu.</span></span>

    ![Контекстное меню георепликации](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="107c8-142">Нажмите кнопку **ссылку** toolink hello друг с другом два кэша и начать процесс репликации hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-142">Click **Link** toolink hello two caches together and begin hello replication process.</span></span>

    ![Связывание кэшей](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="107c8-144">Вы можете просмотреть ход выполнения процесса репликации hello hello на hello **георепликации** колонку.</span><span class="sxs-lookup"><span data-stu-id="107c8-144">You can view hello progress of hello replication process on hello **Geo-replication** blade.</span></span>

    ![Состояние связывания](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="107c8-146">Вы также можете просмотреть hello связывания состояние hello **Обзор** колонку для обоих первичных и вторичных кэшей hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-146">You can also view hello linking status on hello **Overview** blade for both hello primary and secondary caches.</span></span>

    ![Состояние кэша](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="107c8-148">После завершения процесса репликации hello hello **связать статус** изменяет слишком**успешно**.</span><span class="sxs-lookup"><span data-stu-id="107c8-148">Once hello replication process is complete, hello **Link status** changes too**Succeeded**.</span></span>

    ![Состояние кэша](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="107c8-150">Во время процесса связывания hello hello основных связанный кэш остается доступным для использования, но hello дополнительных связанных кэш недоступен, пока не завершится процесс связывания hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-150">During hello linking process, hello primary linked cache remains available for use but hello secondary linked cache is not available until hello linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="107c8-151">Удаление связи георепликации</span><span class="sxs-lookup"><span data-stu-id="107c8-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="107c8-152">tooremove hello взаимосвязь два кэша и остановка георепликации, выберите **разорвать связь кэши** из hello **георепликации** колонку.</span><span class="sxs-lookup"><span data-stu-id="107c8-152">tooremove hello link between two caches and stop Geo-replication, click **Unlink caches** from hello **Geo-replication** blade.</span></span>
    
    ![Удаление связи кэшей](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="107c8-154">После завершения процесса отсоединение hello hello дополнительных кэш доступен для чтения и записывает.</span><span class="sxs-lookup"><span data-stu-id="107c8-154">When hello unlinking process completes, hello secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="107c8-155">При удалении связи hello географической репликации hello реплицированные данные hello основных связанный кэш остается в кэше получателей hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-155">When hello Geo-replication link is removed, hello replicated data from hello primary linked cache remains in hello secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="107c8-156">Часто задаваемые вопросы по георепликации</span><span class="sxs-lookup"><span data-stu-id="107c8-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="107c8-157">Можно ли использовать георепликацию с кэшем уровня "Стандартный" или "Базовый"?</span><span class="sxs-lookup"><span data-stu-id="107c8-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="107c8-158">Мои кэш доступен для использования во время связывания hello или отсоединение процесса?</span><span class="sxs-lookup"><span data-stu-id="107c8-158">Is my cache available for use during hello linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="107c8-159">Можно ли связать больше двух кэшей?</span><span class="sxs-lookup"><span data-stu-id="107c8-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="107c8-160">Можно ли связать два кэша из разных подписок Azure?</span><span class="sxs-lookup"><span data-stu-id="107c8-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="107c8-161">Можно ли связать два кэша с разными размерами?</span><span class="sxs-lookup"><span data-stu-id="107c8-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="107c8-162">Можно ли использовать георепликацию при включенной кластеризации?</span><span class="sxs-lookup"><span data-stu-id="107c8-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="107c8-163">Можно ли использовать георепликацию, если кэши находятся в виртуальной сети?</span><span class="sxs-lookup"><span data-stu-id="107c8-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="107c8-164">Можно использовать PowerShell или Azure CLI toomanage георепликации</span><span class="sxs-lookup"><span data-stu-id="107c8-164">Can I use PowerShell or Azure CLI toomanage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="107c8-165">Сколько стоит tooreplicate данных разных регионах Azure?</span><span class="sxs-lookup"><span data-stu-id="107c8-165">How much does it cost tooreplicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="107c8-166">Почему hello операции не удается toodelete Мой связанного кэша?</span><span class="sxs-lookup"><span data-stu-id="107c8-166">Why did hello operation fail when I tried toodelete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="107c8-167">Какой регион лучше использовать для дополнительного связанного кэша?</span><span class="sxs-lookup"><span data-stu-id="107c8-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="107c8-168">Как работает автоматическое переключение toohello дополнительных связанных кэш?</span><span class="sxs-lookup"><span data-stu-id="107c8-168">How does failing over toohello secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="107c8-169">Можно ли использовать георепликацию с кэшем уровня "Стандартный" или "Базовый"?</span><span class="sxs-lookup"><span data-stu-id="107c8-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="107c8-170">Нет. Георепликация доступна только для кэшей категории "Премиум".</span><span class="sxs-lookup"><span data-stu-id="107c8-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-hello-linking-or-unlinking-process"></a><span data-ttu-id="107c8-171">Мои кэш доступен для использования во время связывания hello или отсоединение процесса?</span><span class="sxs-lookup"><span data-stu-id="107c8-171">Is my cache available for use during hello linking or unlinking process?</span></span>

- <span data-ttu-id="107c8-172">При связывании двух кэшей вместе для географической репликации, hello основных связанный кэш остается доступным для использования, но hello дополнительных связанных кэш недоступен, пока не завершится процесс связывания hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-172">When linking two caches together for Geo-replication, hello primary linked cache remains available for use but hello secondary linked cache is not available until hello linking process completes.</span></span>
- <span data-ttu-id="107c8-173">При удалении hello георепликации связь между двумя кэши, остаются доступными для использования обоих кэшей.</span><span class="sxs-lookup"><span data-stu-id="107c8-173">When removing hello Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="107c8-174">Можно ли связать больше двух кэшей?</span><span class="sxs-lookup"><span data-stu-id="107c8-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="107c8-175">Нет. При использовании георепликации можно связать друг с другом только два кэша.</span><span class="sxs-lookup"><span data-stu-id="107c8-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="107c8-176">Можно ли связать два кэша из разных подписок Azure?</span><span class="sxs-lookup"><span data-stu-id="107c8-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="107c8-177">Нет, обе кэши должны находиться в hello одной подписке.</span><span class="sxs-lookup"><span data-stu-id="107c8-177">No, both caches must be in hello same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="107c8-178">Можно ли связать два кэша с разными размерами?</span><span class="sxs-lookup"><span data-stu-id="107c8-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="107c8-179">Да, при условии, что hello дополнительных связанных кэш больше, чем hello основных связанный кэш.</span><span class="sxs-lookup"><span data-stu-id="107c8-179">Yes, as long as hello secondary linked cache is larger than hello primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="107c8-180">Можно ли использовать георепликацию при включенной кластеризации?</span><span class="sxs-lookup"><span data-stu-id="107c8-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="107c8-181">Да, при условии, что оба кэши имеют hello одинаковое число сегментов.</span><span class="sxs-lookup"><span data-stu-id="107c8-181">Yes, as long as both caches have hello same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="107c8-182">Можно ли использовать георепликацию, если кэши находятся в виртуальной сети?</span><span class="sxs-lookup"><span data-stu-id="107c8-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="107c8-183">Да. Георепликация кэшей в виртуальных сетях поддерживается.</span><span class="sxs-lookup"><span data-stu-id="107c8-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="107c8-184">Географическую репликацию данных между кэшами в hello поддерживается одной виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="107c8-184">Geo-replication between caches in hello same VNET is supported.</span></span>
- <span data-ttu-id="107c8-185">Географическая репликация между кэшами в разных виртуальных сетей также поддерживается, при условии, что hello двух виртуальных сетей настроены таким образом, ресурсы в виртуальных сетях hello может tooreach друг с другом через TCP-подключений.</span><span class="sxs-lookup"><span data-stu-id="107c8-185">Geo-replication between caches in different VNETs is also supported, as long as hello two VNETs are configured in such a way that resources in hello VNETs are able tooreach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-toomanage-geo-replication"></a><span data-ttu-id="107c8-186">Можно использовать PowerShell или Azure CLI toomanage георепликации</span><span class="sxs-lookup"><span data-stu-id="107c8-186">Can I use PowerShell or Azure CLI toomanage Geo-replication?</span></span>

<span data-ttu-id="107c8-187">В настоящее время можно управлять только с помощью георепликации hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="107c8-187">At this time you can only manage Geo-replication using hello Azure portal.</span></span>

### <a name="how-much-does-it-cost-tooreplicate-my-data-across-azure-regions"></a><span data-ttu-id="107c8-188">Сколько стоит tooreplicate данных разных регионах Azure?</span><span class="sxs-lookup"><span data-stu-id="107c8-188">How much does it cost tooreplicate my data across Azure regions?</span></span>

<span data-ttu-id="107c8-189">При использовании георепликации, данные из основных связанный кэш hello — вторичная связанных реплицированных toohello кэша.</span><span class="sxs-lookup"><span data-stu-id="107c8-189">When using Geo-replication, data from hello primary linked cache is replicated toohello secondary linked cache.</span></span> <span data-ttu-id="107c8-190">Если связанный hello двух кэшей будут находиться в hello же регионе Azure является бесплатной для передачи данных hello.</span><span class="sxs-lookup"><span data-stu-id="107c8-190">If hello two linked caches are in hello same Azure region, there is no charge for hello data transfer.</span></span> <span data-ttu-id="107c8-191">Если hello двух связанных кэшей будут находиться в разных регионах Azure, hello географическую репликацию данных и плата за передачу hello стоимость пропускной способности репликации, toohello данных других регион Azure.</span><span class="sxs-lookup"><span data-stu-id="107c8-191">If hello two linked caches are in different Azure regions, hello Geo-Replication data transfer charge is hello bandwidth cost of replicating that data toohello other Azure region.</span></span> <span data-ttu-id="107c8-192">Дополнительные сведения см. на странице [Сведения о стоимости пропускной способности](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="107c8-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-hello-operation-fail-when-i-tried-toodelete-my-linked-cache"></a><span data-ttu-id="107c8-193">Почему hello операции не удается toodelete Мой связанного кэша?</span><span class="sxs-lookup"><span data-stu-id="107c8-193">Why did hello operation fail when I tried toodelete my linked cache?</span></span>

<span data-ttu-id="107c8-194">Когда два кэша связаны друг с другом, нельзя удалить кэш или hello группы ресурсов, содержащий их, пока вы не удалите hello связи георепликации.</span><span class="sxs-lookup"><span data-stu-id="107c8-194">When two caches are linked together, you can't delete either cache or hello resource group that contains them until you remove hello Geo-replication link.</span></span> <span data-ttu-id="107c8-195">При попытке группу ресурсов hello toodelete, содержит одну или обе hello связаны кэши, hello другие ресурсы в группе ресурсов hello удаляются, но группа ресурсов hello остается в hello `deleting` состояние и все связанные кэши в группе ресурсов hello оставаться в hello `running` состояния.</span><span class="sxs-lookup"><span data-stu-id="107c8-195">If you attempt toodelete hello resource group that contains one or both of hello linked caches, hello other resources in hello resource group are deleted, but hello resource group stays in hello `deleting` state and any linked caches in hello resource group remain in hello `running` state.</span></span> <span data-ttu-id="107c8-196">toocomplete hello удаления группы ресурсов hello и hello связанных кэши в рамках его разрыв связи hello географической репликации, как описано в [к удалению связи георепликации](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="107c8-196">toocomplete hello deletion of hello resource group and hello linked caches within it, break hello Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="107c8-197">Какой регион лучше использовать для дополнительного связанного кэша?</span><span class="sxs-lookup"><span data-stu-id="107c8-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="107c8-198">В общем случае рекомендуется для вашего кэша tooexist в hello же регионе Azure, что приложения hello, который обращается к ней.</span><span class="sxs-lookup"><span data-stu-id="107c8-198">In general, it is recommended for your cache tooexist in hello same Azure region as hello application that accesses it.</span></span> <span data-ttu-id="107c8-199">Если у приложения есть основной и резервный регионы, то основной и дополнительный кэши следует размещать в тех же регионах.</span><span class="sxs-lookup"><span data-stu-id="107c8-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="107c8-200">Дополнительные сведения о парах регионов см. в статье [Непрерывность бизнес-процессов и аварийное восстановление в службах BizTalk: пары регионов Azure](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="107c8-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-toohello-secondary-linked-cache-work"></a><span data-ttu-id="107c8-201">Как работает автоматическое переключение toohello дополнительных связанных кэш?</span><span class="sxs-lookup"><span data-stu-id="107c8-201">How does failing over toohello secondary linked cache work?</span></span>

<span data-ttu-id="107c8-202">В hello первоначальный выпуск технологии географической репликации кэш Redis для Azure не поддерживает автоматический переход на другой разных регионах Azure.</span><span class="sxs-lookup"><span data-stu-id="107c8-202">In hello initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="107c8-203">Георепликация используется, главным образом, в сценариях аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="107c8-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="107c8-204">В сценарии восстановления distater клиенты должны быть стеку всего приложения hello в регионе, резервного копирования скоординированного способом, а не отдельных компонентов приложения по максимуму резервные копии tootheir tooswitch сами по себе.</span><span class="sxs-lookup"><span data-stu-id="107c8-204">In a distater recovery scenario, customers should bring up hello entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when tooswitch tootheir backups on their own.</span></span> <span data-ttu-id="107c8-205">Это особенно актуально tooRedis.</span><span class="sxs-lookup"><span data-stu-id="107c8-205">This is especially relevant tooRedis.</span></span> <span data-ttu-id="107c8-206">Одним из ключевых преимуществ hello Redis является хранилищем очень малой задержкой.</span><span class="sxs-lookup"><span data-stu-id="107c8-206">One of hello key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="107c8-207">Если используется Redis приложения при сбое tooa другом регионе Azure, но не поддерживает уровень вычислений hello, hello добавлены round время срабатывания окажет значительное влияние на производительности.</span><span class="sxs-lookup"><span data-stu-id="107c8-207">If Redis used by an application fails over tooa different Azure region but hello compute tier does not, hello added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="107c8-208">По этой причине мы хотели бы сбой tooavoid Redis по автоматически из-за проблемы доступности tootransient.</span><span class="sxs-lookup"><span data-stu-id="107c8-208">For this reason, we would like tooavoid Redis failing over automatically due tootransient availability issues.</span></span>

<span data-ttu-id="107c8-209">В настоящее время tooinitiate hello перехода на другой ресурс требуется hello tooremove георепликации ссылку в hello портал Azure и измените конечную точку соединения hello в клиент Redis hello от сервера-получателя (прежнее название — связанные) toohello hello основных связанный кэш кэша.</span><span class="sxs-lookup"><span data-stu-id="107c8-209">Currently, tooinitiate hello failover, you need tooremove hello Geo-replication link in hello Azure portal, and then change hello connection end-point in hello Redis client from hello primary linked cache toohello (formerly linked) secondary cache.</span></span> <span data-ttu-id="107c8-210">Когда приветствия два кэша отменить связь, hello реплика становится обычной попытку чтения и записи кэша и принимает запросы непосредственно из клиентов Redis.</span><span class="sxs-lookup"><span data-stu-id="107c8-210">When hello two caches are disassociated, hello replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="107c8-211">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="107c8-211">Next steps</span></span>

<span data-ttu-id="107c8-212">Дополнительные сведения о hello [уровня Premium кэша Redis Azure](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="107c8-212">Learn more about hello [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

