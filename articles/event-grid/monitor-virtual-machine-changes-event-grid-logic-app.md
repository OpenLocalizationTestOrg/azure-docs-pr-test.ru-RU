---
title: "Отслеживание изменений виртуальной машины с помощью Azure Logic Apps и службы \"Сетка событий Azure\" | Документация Майкрософт"
description: "Проверка наличия изменений конфигурации в виртуальных машинах с помощью службы \"Сетка событий Azure\" и Logic Apps."
keywords: "приложения логики, сетки событий, виртуальная машина, VM"
services: logic-apps
author: ecfan
manager: anneta
ms.assetid: 
ms.workload: logic-apps
ms.service: logic-apps
ms.topic: article
ms.date: 08/16/2017
ms.author: LADocs; estfan
ms.openlocfilehash: 4d4c16860dbec10162797a13c8f9f57106abd17f
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="monitor-virtual-machine-changes-with-azure-event-grid-and-logic-apps"></a><span data-ttu-id="7b8ba-104">Отслеживание изменений виртуальной машины с помощью Azure Logic Apps и службы "Сетка событий Azure"</span><span class="sxs-lookup"><span data-stu-id="7b8ba-104">Monitor virtual machine changes with Azure Event Grid and Logic Apps</span></span>

<span data-ttu-id="7b8ba-105">Можно запускать автоматический [рабочий процесс приложения логики](../logic-apps/logic-apps-what-are-logic-apps.md) при определенных событиях, которые происходят с ресурсами Azure или сторонними ресурсами.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-105">You can start an automated [logic app workflow](../logic-apps/logic-apps-what-are-logic-apps.md) when specific events happen in Azure resources or third-party resources.</span></span> <span data-ttu-id="7b8ba-106">Эти ресурсы могут публиковать данные события в службу [Сетка событий Azure](../event-grid/overview.md).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-106">These resources can publish those events to an [Azure event grid](../event-grid/overview.md).</span></span> <span data-ttu-id="7b8ba-107">В свою очередь, служба "Сетка событий" передает эти события подписчикам, использующим очереди, веб-привязки или [концентраторы событий](../event-hubs/event-hubs-what-is-event-hubs.md) в качестве конечных точек.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-107">In turn, the event grid pushes those events to subscribers that have queues, webhooks, or [event hubs](../event-hubs/event-hubs-what-is-event-hubs.md) as endpoints.</span></span> <span data-ttu-id="7b8ba-108">В качестве подписчика приложение логики может ожидать эти события из службы "Сетка событий" перед запуском автоматических рабочих процессов для выполнения задач без написания кода.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-108">As a subscriber, your logic app can wait for those events from the event grid before running automated workflows to perform tasks - without you writing any code.</span></span>

<span data-ttu-id="7b8ba-109">Для примера ниже приведено несколько событий, которые издатели могут отправлять подписчикам через службу "Сетка событий Azure".</span><span class="sxs-lookup"><span data-stu-id="7b8ba-109">For example, here are some events that publishers can send to subscribers through the Azure Event Grid service:</span></span>

* <span data-ttu-id="7b8ba-110">Создание, чтение, обновление или удаление ресурса.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-110">Create, read, update, or delete a resource.</span></span> <span data-ttu-id="7b8ba-111">Например, можно отслеживать изменения, за которые может взиматься плата по подписке Azure и которые могут отразиться на вашем счете.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-111">For example, you can monitor changes that might incur charges on your Azure subscription and affect your bill.</span></span> 
* <span data-ttu-id="7b8ba-112">Добавление или удаление пользователя в подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-112">Add or remove a person from an Azure subscription.</span></span>
* <span data-ttu-id="7b8ba-113">Ваше приложение выполняет определенное действие.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-113">Your app performs a particular action.</span></span>
* <span data-ttu-id="7b8ba-114">В очереди появляется новое сообщение.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-114">A new message appears in a queue.</span></span>

<span data-ttu-id="7b8ba-115">В этом руководстве описывается создание приложения логики, которое отслеживает изменения в виртуальной машине и отправляет сообщения электронной почты об этих изменениях.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-115">This tutorial creates a logic app that monitors changes to a virtual machine and sends emails about those changes.</span></span> <span data-ttu-id="7b8ba-116">При создании приложения логики с подпиской на события ресурса Azure события передаются из этого ресурса в приложение логики с помощью службы "Сетка событий".</span><span class="sxs-lookup"><span data-stu-id="7b8ba-116">When you create a logic app with an event subscription for an Azure resource, events flow from that resource through an event grid to the logic app.</span></span> <span data-ttu-id="7b8ba-117">В этом руководстве описывается создание приложения логики:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-117">The tutorial walks you through building this logic app:</span></span>

![Обзор: отслеживание виртуальной машины с помощью службы "Сетка событий" и приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/monitor-virtual-machine-event-grid-logic-app-overview.png)

<span data-ttu-id="7b8ba-119">Из этого руководства вы узнаете, как выполнять такие задачи:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-119">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="7b8ba-120">Создание приложения логики, отслеживающего события с помощью службы "Сетка событий".</span><span class="sxs-lookup"><span data-stu-id="7b8ba-120">Create a logic app that monitors events from an event grid.</span></span>
> * <span data-ttu-id="7b8ba-121">Добавление условия, проверяющего наличие изменений виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-121">Add a condition that specifically checks for virtual machine changes.</span></span>
> * <span data-ttu-id="7b8ba-122">Отправка электронного сообщения при изменении виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-122">Send email when your virtual machine changes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="7b8ba-123">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="7b8ba-123">Prerequisites</span></span>

* <span data-ttu-id="7b8ba-124">Учетная запись электронной почты [любого поставщика электронной почты, поддерживаемого Azure Logic Apps](../connectors/apis-list.md), например Office 365 Outlook, Outlook.com или Gmail, для отправки уведомлений.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-124">An email account from [any email provider supported by Azure Logic Apps](../connectors/apis-list.md), such as Office 365 Outlook, Outlook.com, or Gmail, for sending notifications.</span></span> <span data-ttu-id="7b8ba-125">В этом руководстве используется Office 365 Outlook.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-125">This tutorial uses Office 365 Outlook.</span></span>

* <span data-ttu-id="7b8ba-126">[Виртуальная машина](https://azure.microsoft.com/services/virtual-machines).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-126">A [virtual machine](https://azure.microsoft.com/services/virtual-machines).</span></span> <span data-ttu-id="7b8ba-127">Создайте виртуальную машину, используя [сведения из документации по виртуальным машинам](https://docs.microsoft.com/azure/virtual-machines/), если вы еще не сделали этого.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-127">If you haven't already done so, create a virtual machine through a [Create a VM tutorial](https://docs.microsoft.com/azure/virtual-machines/).</span></span> <span data-ttu-id="7b8ba-128">Чтобы настроить виртуальную машину для публикации событий, [не нужны никакие дополнительные действия](../event-grid/overview.md).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-128">To make the virtual machine publish events, you [don't need to do anything else](../event-grid/overview.md).</span></span>

## <a name="create-a-logic-app-that-monitors-events-from-an-event-grid"></a><span data-ttu-id="7b8ba-129">Создание приложения логики, отслеживающего события с помощью службы "Сетка событий"</span><span class="sxs-lookup"><span data-stu-id="7b8ba-129">Create a logic app that monitors events from an event grid</span></span>

<span data-ttu-id="7b8ba-130">Сначала создайте приложение логики и добавьте триггер службы "Сетка событий", отслеживающий группу ресурсов для виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-130">First, create a logic app and add an Event grid trigger that monitors the resource group for your virtual machine.</span></span> 

1. <span data-ttu-id="7b8ba-131">Выполните вход на [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-131">Sign in to the [Azure portal](https://portal.azure.com).</span></span> 

2. <span data-ttu-id="7b8ba-132">В верхнем левом углу главного меню Azure выберите **Создать** > **Enterprise Integration** (Интеграция Enterprise) > **Приложение логики**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-132">From the upper left corner of the main Azure menu, choose **New** > **Enterprise Integration** > **Logic App**.</span></span>

   ![Создание приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/azure-portal-create-logic-app.png)

3. <span data-ttu-id="7b8ba-134">Создайте приложение логики с параметрами, указанными в следующей таблице:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-134">Create your logic app with the settings specified in the following table:</span></span>

   ![Ввод данных приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/create-logic-app-for-event-grid.png)

   | <span data-ttu-id="7b8ba-136">Настройка</span><span class="sxs-lookup"><span data-stu-id="7b8ba-136">Setting</span></span> | <span data-ttu-id="7b8ba-137">Рекомендуемое значение</span><span class="sxs-lookup"><span data-stu-id="7b8ba-137">Suggested value</span></span> | <span data-ttu-id="7b8ba-138">Описание</span><span class="sxs-lookup"><span data-stu-id="7b8ba-138">Description</span></span> | 
   | ------- | --------------- | ----------- | 
   | <span data-ttu-id="7b8ba-139">**Имя**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-139">**Name**</span></span> | <span data-ttu-id="7b8ba-140">*{имя_вашего_приложения_логики}*</span><span class="sxs-lookup"><span data-stu-id="7b8ba-140">*{your-logic-app-name}*</span></span> | <span data-ttu-id="7b8ba-141">Укажите уникальное имя приложения логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-141">Provide a unique logic app name.</span></span> | 
   | <span data-ttu-id="7b8ba-142">**Подписка**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-142">**Subscription**</span></span> | <span data-ttu-id="7b8ba-143">*{ваша_подписка_Azure}*</span><span class="sxs-lookup"><span data-stu-id="7b8ba-143">*{your-Azure-subscription}*</span></span> | <span data-ttu-id="7b8ba-144">Выберите одну подписку Azure для всех служб в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-144">Select the same Azure subscription for all services in this tutorial.</span></span> | 
   | <span data-ttu-id="7b8ba-145">**Группа ресурсов**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-145">**Resource group**</span></span> | <span data-ttu-id="7b8ba-146">*{ваша_группа_ресурсов_Azure}*</span><span class="sxs-lookup"><span data-stu-id="7b8ba-146">*{your-Azure-resource-group}*</span></span> | <span data-ttu-id="7b8ba-147">Выберите одну группу ресурсов Azure для всех служб в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-147">Select the same Azure resource group for all services in this tutorial.</span></span> | 
   | <span data-ttu-id="7b8ba-148">**Расположение**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-148">**Location**</span></span> | <span data-ttu-id="7b8ba-149">*{ваш_регион_Azure}*</span><span class="sxs-lookup"><span data-stu-id="7b8ba-149">*{your-Azure-region}*</span></span> | <span data-ttu-id="7b8ba-150">Выберите один регион для всех служб в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-150">Select the same region for all services in this tutorial.</span></span> | 
   | | | 

4. <span data-ttu-id="7b8ba-151">По завершении установите флажок **Закрепить на панели мониторинга** и нажмите кнопку **Создать**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-151">When you're ready, select **Pin to dashboard**, and choose **Create**.</span></span>

   <span data-ttu-id="7b8ba-152">Вы создали ресурс Azure для приложения логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-152">You've now created an Azure resource for your logic app.</span></span> 
   <span data-ttu-id="7b8ba-153">После того, как Azure развернет приложение логики, конструктор Logic Apps отобразит несколько распространенных шаблонов, чтоб вы могли быстрее приступить к работе.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-153">After Azure deploys your logic app, the Logic Apps Designer shows you templates for common patterns so you can get started faster.</span></span>

   > [!NOTE] 
   > <span data-ttu-id="7b8ba-154">Если выбрать параметр **Закрепить на панели мониторинга**, приложение логики автоматически откроется в конструкторе Logic Apps.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-154">When you select **Pin to dashboard**, your logic app automatically opens in Logic Apps Designer.</span></span> <span data-ttu-id="7b8ba-155">В противном случае вы можете вручную найти и открыть свое приложение логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-155">Otherwise, you can manually find and open your logic app.</span></span>

5. <span data-ttu-id="7b8ba-156">Теперь выберите шаблон приложения логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-156">Now choose a logic app template.</span></span> <span data-ttu-id="7b8ba-157">В разделе **Шаблоны** выберите **Пустое приложение логики**. Это позволит создать приложение логики с нуля.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-157">Under **Templates**, choose **Blank Logic App** so you can build your logic app from scratch.</span></span>

   ![Выбор шаблона приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/choose-logic-app-template.png)

   <span data-ttu-id="7b8ba-159">Теперь конструктор Logic Apps показывает [*соединители*](../connectors/apis-list.md) и [*триггеры*](../logic-apps/logic-apps-what-are-logic-apps.md#logic-app-concepts), которые можно использовать для запуска приложения логики, а также действия, которые можно добавить после триггера для выполнения задач.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-159">The Logic Apps Designer now shows you [*connectors*](../connectors/apis-list.md) and [*triggers*](../logic-apps/logic-apps-what-are-logic-apps.md#logic-app-concepts) that you can use to start your logic app, and also actions that you can add after a trigger to perform tasks.</span></span> <span data-ttu-id="7b8ba-160">Триггер — это событие, которое создает экземпляр приложения логики и запускает рабочий процесс приложения логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-160">A trigger is an event that creates a logic app instance and starts your logic app workflow.</span></span> 
   <span data-ttu-id="7b8ba-161">Первым элементом в приложении логики должен быть триггер.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-161">Your logic app needs a trigger as the first item.</span></span>

6. <span data-ttu-id="7b8ba-162">В поле поиска введите "event grid" в качестве фильтра.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-162">In the search box, enter "event grid" as your filter.</span></span> <span data-ttu-id="7b8ba-163">Выберите триггер **Azure Event Grid - On a resource event** (Сетка событий Azure — для события ресурса).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-163">Select this trigger: **Azure Event Grid - On a resource event**</span></span>

   ![Выбор триггера "Azure Event Grid - On a resource event" (Сетка событий Azure — для события ресурса)](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-event-grid-trigger.png)

7. <span data-ttu-id="7b8ba-165">При появлении запроса войдите в службу "Сетка событий Azure", используя учетные данные Azure.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-165">When prompted, sign in to Azure Event Grid with your Azure credentials.</span></span>

   ![Вход с помощью учетных данных Azure](./media/monitor-virtual-machine-changes-event-grid-logic-app/sign-in-event-grid.png)

   > [!NOTE]
   > <span data-ttu-id="7b8ba-167">Если вы вошли с помощью личной учетной записи Майкрософт, например @outlook.com или @hotmail.com, триггер службы "Сетка событий" может отображаться неправильно.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-167">If you're signed in with a personal Microsoft account, such as @outlook.com or @hotmail.com, the Event Grid trigger might not appear correctly.</span></span> <span data-ttu-id="7b8ba-168">Чтобы избежать этого, выберите [подключение с помощью субъекта-службы](/azure-resource-manager/resource-group-create-service-principal-portal.md) или выполните аутентификацию в качестве участника Azure Active Directory, связанного с подпиской Azure, например *имя_пользователя*@emailoutlook.onmicrosoft.com.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-168">As a workaround, choose [Connect with Service Principal](/azure-resource-manager/resource-group-create-service-principal-portal.md), or authenticate as a member of the Azure Active Directory that's associated with your Azure subscription, for example, *user-name*@emailoutlook.onmicrosoft.com.</span></span>

8. <span data-ttu-id="7b8ba-169">Теперь подпишите приложение логики на события издателя.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-169">Now subscribe your logic app to publisher events.</span></span> <span data-ttu-id="7b8ba-170">Укажите сведения о подписке на события, как указано в следующей таблице:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-170">Provide the details for your event subscription as specified in the following table:</span></span>

   ![Ввод сведений подписки на события](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-event-grid-trigger-details-generic.png)

   | <span data-ttu-id="7b8ba-172">Настройка</span><span class="sxs-lookup"><span data-stu-id="7b8ba-172">Setting</span></span> | <span data-ttu-id="7b8ba-173">Рекомендуемое значение</span><span class="sxs-lookup"><span data-stu-id="7b8ba-173">Suggested value</span></span> | <span data-ttu-id="7b8ba-174">Описание</span><span class="sxs-lookup"><span data-stu-id="7b8ba-174">Description</span></span> | 
   | ------- | --------------- | ----------- | 
   | <span data-ttu-id="7b8ba-175">**Подписка**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-175">**Subscription**</span></span> | <span data-ttu-id="7b8ba-176">*{подписка_Azure_виртуальной_машины}*</span><span class="sxs-lookup"><span data-stu-id="7b8ba-176">*{virtual-machine-Azure-subscription}*</span></span> | <span data-ttu-id="7b8ba-177">Выберите подписку Azure издателя событий.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-177">Select the event publisher's Azure subscription.</span></span> <span data-ttu-id="7b8ba-178">Для работы с этим руководством выберите для виртуальной машины подписку Azure.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-178">For this tutorial, select the Azure subscription for your virtual machine.</span></span> | 
   | <span data-ttu-id="7b8ba-179">**Тип ресурса**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-179">**Resource Type**</span></span> | <span data-ttu-id="7b8ba-180">Microsoft.Resources.resourceGroups</span><span class="sxs-lookup"><span data-stu-id="7b8ba-180">Microsoft.Resources.resourceGroups</span></span> | <span data-ttu-id="7b8ba-181">Выберите тип ресурса издателя событий.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-181">Select the event publisher's resource type.</span></span> <span data-ttu-id="7b8ba-182">Для работы с этим руководством выберите указанное значение, чтобы приложение логики отслеживало только группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-182">For this tutorial, select the specified value so your logic app monitors only resource groups.</span></span> | 
   | <span data-ttu-id="7b8ba-183">**Имя ресурса**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-183">**Resource Name**</span></span> | <span data-ttu-id="7b8ba-184">*{имя_группы_ресурсов_виртуальной_машины}*</span><span class="sxs-lookup"><span data-stu-id="7b8ba-184">*{virtual-machine-resource-group-name}*</span></span> | <span data-ttu-id="7b8ba-185">Выберите имя ресурса издателя.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-185">Select the publisher's resource name.</span></span> <span data-ttu-id="7b8ba-186">Для работы с этим руководством выберите имя группы ресурсов виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-186">For this tutorial, select the name of the resource group for your virtual machine.</span></span> | 
   | <span data-ttu-id="7b8ba-187">Чтобы настроить необязательные параметры, щелкните **Показать расширенные параметры**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-187">For optional settings, choose **Show advanced options**.</span></span> | <span data-ttu-id="7b8ba-188">*{просмотрите описания}*</span><span class="sxs-lookup"><span data-stu-id="7b8ba-188">*{see descriptions}*</span></span> | <span data-ttu-id="7b8ba-189">* **Prefix Filter** (Фильтр по префиксу): для этого руководства оставьте данный параметр пустым.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-189">* **Prefix Filter**: For this tutorial, leave this setting empty.</span></span> <span data-ttu-id="7b8ba-190">Фильтр по умолчанию соответствует всем значениям.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-190">The default behavior matches all values.</span></span> <span data-ttu-id="7b8ba-191">Тем не менее можно указать строку префикса в качестве фильтра, например путь и параметр для определенного ресурса.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-191">However, you can specify a prefix string as a filter, for example, a path and a parameter for a specific resource.</span></span> <p><span data-ttu-id="7b8ba-192">* **Suffix Filter** (Фильтр по суффиксу): для этого руководства оставьте данный параметр пустым.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-192">* **Suffix Filter**: For this tutorial, leave this setting empty.</span></span> <span data-ttu-id="7b8ba-193">Фильтр по умолчанию соответствует всем значениям.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-193">The default behavior matches all values.</span></span> <span data-ttu-id="7b8ba-194">Тем не менее можно указать строку суффикса в качестве фильтра, например расширение имени файла, если вас интересуют только определенные типы файлов.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-194">However, you can specify a suffix string as a filter, for example, a file name extension, when you want only specific file types.</span></span><p><span data-ttu-id="7b8ba-195">* **Имя подписки.** Укажите уникальное имя подписки на события.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-195">* **Subscription Name**: Provide a unique name for your event subscription.</span></span> |
   | | | 

   <span data-ttu-id="7b8ba-196">Когда все будет готово, триггер службы "Сетка событий" должен выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-196">When you're done, your event grid trigger might look like this example:</span></span>
   
   ![Сведения о примере триггера службы "Сетка событий"](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-event-grid-trigger-details.png)

9. <span data-ttu-id="7b8ba-198">Сохраните приложение логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-198">Save your logic app.</span></span> <span data-ttu-id="7b8ba-199">На панели инструментов конструктора нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-199">On the designer toolbar, choose **Save**.</span></span> <span data-ttu-id="7b8ba-200">Чтобы свернуть и скрыть сведения о действии в приложении логики, выберите заголовок окна действия.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-200">To collapse and hide an action's details in your logic app, choose the action's title bar.</span></span>

   ![Сохранение приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-event-grid-save.png)

   <span data-ttu-id="7b8ba-202">При сохранении приложения логики с триггером службы "Сетка событий" Azure автоматически создает подписку на события для приложения логики выбранного ресурса.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-202">When you save your logic app with an event grid trigger, Azure automatically creates an event subscription for your logic app to your selected resource.</span></span> <span data-ttu-id="7b8ba-203">Таким образом, когда ресурс публикует событие в службе "Сетка событий", она автоматически отправляет это событие в приложение логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-203">So when the resource publishes an event to the event grid, that event grid automatically pushes the event to your logic app.</span></span> <span data-ttu-id="7b8ba-204">Это событие активирует приложение логики, а затем создает и запускает экземпляр рабочего процесса, который определяется на следующих шагах.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-204">This event triggers your logic app, then creates and runs an instance of the workflow that you define in these next steps.</span></span>

<span data-ttu-id="7b8ba-205">Теперь приложение логики активно и ожидает передачи данных событий службы "Сетка событий". Оно не будет выполнять никаких действий, пока они не будут добавлены в рабочий процесс.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-205">Your logic app is now live and listens to events from the event grid, but doesn't do anything until you add actions to the workflow.</span></span> 

## <a name="add-a-condition-that-checks-for-virtual-machine-changes"></a><span data-ttu-id="7b8ba-206">Добавление условия, которое проверяет наличие изменений виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="7b8ba-206">Add a condition that checks for virtual machine changes</span></span>

<span data-ttu-id="7b8ba-207">Чтобы запускать рабочий процесс приложения логики только в том случае, когда происходит определенное событие, добавьте условие, проверяющее наличие операций записи виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-207">To run your logic app workflow only when a specific event happens, add a condition that checks for virtual machine "write" operations.</span></span> <span data-ttu-id="7b8ba-208">Если это условие имеет значение true, приложение логики отправляет вам электронное сообщение со сведениями об обновленной виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-208">When this condition is true, your logic app sends you email with details about the updated virtual machine.</span></span>

1. <span data-ttu-id="7b8ba-209">В конструкторе Logic Apps выберите для триггера службы "Сетка событий" **Новый шаг** > **Добавить условие**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-209">In Logic App Designer, under the event grid trigger, choose **New step** > **Add a condition**.</span></span>

   ![Добавление условия в приложение логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-event-grid-add-condition-step.png)

   <span data-ttu-id="7b8ba-211">Конструктор Logic Apps добавляет пустое условие в рабочий процесс, включая пути действий для выполнения согласно значениям условия True и False.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-211">The Logic App Designer adds an empty condition to your workflow, including action paths to follow based whether the condition is true or false.</span></span>

   ![Пустое условие](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-add-empty-condition.png)

2. <span data-ttu-id="7b8ba-213">В поле **Условие** выберите **Edit in advanced mode** (Изменить в расширенном режиме).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-213">In the **Condition** box, choose **Edit in advanced mode**.</span></span>
<span data-ttu-id="7b8ba-214">Введите следующее выражение:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-214">Enter this expression:</span></span>

   `@equals(triggerBody()?['data']['operationName'], 'Microsoft.Compute/virtualMachines/write')`

   <span data-ttu-id="7b8ba-215">Теперь условие выглядит как в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-215">Your condition now looks like this example:</span></span>

   ![Пустое условие](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-condition-expression.png)

   <span data-ttu-id="7b8ba-217">Это выражение проверяет событие `body` на наличие объекта `data`, у которого свойство `operationName` соответствует операции `Microsoft.Compute/virtualMachines/write`.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-217">This expression checks the event `body` for a `data` object where the `operationName` property is the `Microsoft.Compute/virtualMachines/write` operation.</span></span> 
   <span data-ttu-id="7b8ba-218">Узнайте больше о [схеме событий службы "Сетка событий"](../event-grid/event-schema.md).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-218">Learn more about [Event Grid event schema](../event-grid/event-schema.md).</span></span>

3. <span data-ttu-id="7b8ba-219">Чтобы указать описание условия, нажмите кнопку с **многоточием** (**…**) на фигуре условия, а затем выберите **Переименовать**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-219">To provide a description for the condition, choose the **ellipses** (**...**) button on the condition shape, then choose **Rename**.</span></span>

   > [!NOTE] 
   > <span data-ttu-id="7b8ba-220">Указанные ниже примеры этого руководства также содержат описания выполнения действий в рабочем процессе приложения логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-220">The later examples in this tutorial also provide descriptions for steps in the logic app workflow.</span></span>

4. <span data-ttu-id="7b8ba-221">Теперь выберите **Edit in basic mode** (Изменить в простом режиме), чтобы выражение автоматически было разрешено указанным ниже образом:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-221">Now choose **Edit in basic mode** so that the expression automatically resolves as shown:</span></span>

   ![Условие приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-condition-1.png)

5. <span data-ttu-id="7b8ba-223">Сохраните приложение логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-223">Save your logic app.</span></span>

## <a name="send-email-when-your-virtual-machine-changes"></a><span data-ttu-id="7b8ba-224">Отправка электронного сообщения при изменении виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="7b8ba-224">Send email when your virtual machine changes</span></span>

<span data-ttu-id="7b8ba-225">Теперь добавьте [*действие*](../logic-apps/logic-apps-what-are-logic-apps.md#logic-app-concepts), чтобы получать электронное сообщение, когда заданное условие имеет значение true.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-225">Now add an [*action*](../logic-apps/logic-apps-what-are-logic-apps.md#logic-app-concepts) so that you get an email when the specified condition is true.</span></span>

1. <span data-ttu-id="7b8ba-226">В поле **If true** (При значении True) условия выберите **Добавить действие**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-226">In the condition's **If true** box, choose **Add an action**.</span></span>

   ![Добавление действия для условия со значением true](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-condition-2.png)

2. <span data-ttu-id="7b8ba-228">В поле поиска введите слово "почта" в качестве фильтра.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-228">In the search box, enter "email" as your filter.</span></span> <span data-ttu-id="7b8ba-229">Найдите и выберите соединитель, соответствующий поставщику услуг электронной почты.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-229">Based on your email provider, find and select the matching connector.</span></span> <span data-ttu-id="7b8ba-230">Затем выберите действие "отправить сообщение" для соединителя.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-230">Then select the "send email" action for your connector.</span></span> <span data-ttu-id="7b8ba-231">Например:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-231">For example:</span></span> 

   * <span data-ttu-id="7b8ba-232">Если у вас рабочая или учебная учетная запись, то выберите соединитель Office 365 Outlook.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-232">For an Azure work or school account, select the Office 365 Outlook connector.</span></span> 
   * <span data-ttu-id="7b8ba-233">Для личных учетных записей Майкрософт выберите соединитель Outlook.com.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-233">For personal Microsoft accounts, select the Outlook.com connector.</span></span> 
   * <span data-ttu-id="7b8ba-234">Для учетных записей Gmail выберите соединитель Gmail.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-234">For Gmail accounts, select the Gmail connector.</span></span> 

   <span data-ttu-id="7b8ba-235">Мы собираемся использовать соединитель Office 365 Outlook.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-235">We're going to continue with the Office 365 Outlook connector.</span></span> 
   <span data-ttu-id="7b8ba-236">Если вы используете другой поставщик, то действия будут аналогичными, но пользовательский интерфейс может отличаться.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-236">If you use a different provider, the steps remain the same, but your UI might appear different.</span></span> 

   ![Выбор действия "отправить сообщение"](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-send-email.png)

3. <span data-ttu-id="7b8ba-238">Если подключение к вашему поставщику услуг электронной почты не установлено, войдите в учетную запись электронной почты в ответ на запрос аутентификации.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-238">If you don't already have a connection for your email provider, sign in to your email account when you're asked for authentication.</span></span>

4. <span data-ttu-id="7b8ba-239">Введите данные электронной почты, как показано в указанной ниже таблице:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-239">Provide details for the email as specified in the following table:</span></span>

   ![Пустое действие электронной почты](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-empty-email-action.png)

   > [!TIP]
   > <span data-ttu-id="7b8ba-241">Чтобы выбрать поля, доступные в рабочем процессе, щелкните в поле ввода, чтобы открыть список **Динамическое содержимое**, или выберите **Add dynamic content** (Добавить динамическое содержимое).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-241">To select from fields available in your workflow, click in an edit box so that the **Dynamic content** list opens, or choose **Add dynamic content**.</span></span> <span data-ttu-id="7b8ba-242">Выберите **Дополнительно** для каждого раздела в списке, чтобы отобразить дополнительные поля.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-242">For more fields, choose **See more** for each section in the list.</span></span> <span data-ttu-id="7b8ba-243">Чтобы закрыть список **Динамическое содержимое**, выберите **Add dynamic content** (Добавить динамическое содержимое).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-243">To close the **Dynamic content** list, choose **Add dynamic content**.</span></span>

   | <span data-ttu-id="7b8ba-244">Настройка</span><span class="sxs-lookup"><span data-stu-id="7b8ba-244">Setting</span></span> | <span data-ttu-id="7b8ba-245">Рекомендуемое значение</span><span class="sxs-lookup"><span data-stu-id="7b8ba-245">Suggested value</span></span> | <span data-ttu-id="7b8ba-246">Описание</span><span class="sxs-lookup"><span data-stu-id="7b8ba-246">Description</span></span> | 
   | ------- | --------------- | ----------- | 
   | <span data-ttu-id="7b8ba-247">**To**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-247">**To**</span></span> | <span data-ttu-id="7b8ba-248">*{электронный_адрес_получателя}*</span><span class="sxs-lookup"><span data-stu-id="7b8ba-248">*{recipient-email-address}*</span></span> |<span data-ttu-id="7b8ba-249">Введите электронный адрес получателя.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-249">Enter the recipient's email address.</span></span> <span data-ttu-id="7b8ba-250">Для тестировании можете использовать свой собственный адрес.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-250">For testing purposes, you can use your own email address.</span></span> | 
   | <span data-ttu-id="7b8ba-251">**Тема**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-251">**Subject**</span></span> | <span data-ttu-id="7b8ba-252">Обновленный ресурс: **Тема**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-252">Resource updated: **Subject**</span></span>| <span data-ttu-id="7b8ba-253">Введите содержимое темы электронного сообщения.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-253">Enter the content for the email's subject.</span></span> <span data-ttu-id="7b8ba-254">В рамках этого руководства введите предложенный текст и выберите поле события **Тема**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-254">For this tutorial, enter the suggested text and select the event's **Subject** field.</span></span> <span data-ttu-id="7b8ba-255">Здесь тема электронного сообщения содержит имя обновленного ресурса (виртуальная машина).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-255">Here, your email subject includes the name for the updated resource (virtual machine).</span></span> | 
   | <span data-ttu-id="7b8ba-256">**Текст**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-256">**Body**</span></span> | <span data-ttu-id="7b8ba-257">Группа ресурсов: **Раздел**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-257">Resource group: **Topic**</span></span> <p><span data-ttu-id="7b8ba-258">Тип события: **Тип события**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-258">Event type: **Event Type**</span></span><p><span data-ttu-id="7b8ba-259">Идентификатор события: **Идентификатор**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-259">Event ID: **ID**</span></span><p><span data-ttu-id="7b8ba-260">Время: **Время события**</span><span class="sxs-lookup"><span data-stu-id="7b8ba-260">Time: **Event Time**</span></span> | <span data-ttu-id="7b8ba-261">Введите содержимое текста сообщения электронной почты.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-261">Enter the content for the email's body.</span></span> <span data-ttu-id="7b8ba-262">Введите предложенный текст и выберите поля **Раздел**, **Тип события**, **Идентификатор** и **Время события**, чтобы электронное сообщение содержало имя группы ресурсов, тип, метку времени и идентификатор события для обновления.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-262">For this tutorial, enter the suggested text and select the event's **Topic**, **Event Type**, **ID**, and **Event Time** fields so that your email includes the resource group name, event type, event timestamp, and event ID for the update.</span></span> <p><span data-ttu-id="7b8ba-263">Чтобы добавить пустые строки в содержимое, нажмите Shift + ВВОД.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-263">To add blank lines in your content, press Shift + Enter.</span></span> | 
   | | | 

   > [!NOTE] 
   > <span data-ttu-id="7b8ba-264">Если выбрать поле, которое представляет массив, конструктор автоматически добавит цикл **For each** для действия, которое ссылается на массив.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-264">If you select a field that represents an array, the designer automatically adds a **For each** loop around the action that references the array.</span></span> <span data-ttu-id="7b8ba-265">Таким образом приложение логики будет выполнять это действие для каждого элемента массива.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-265">That way, your logic app performs that action on each array item.</span></span>

   <span data-ttu-id="7b8ba-266">Теперь действие отправки электронного сообщения может выглядеть следующим образом.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-266">Now, your email action might look like this example:</span></span>

   ![Выбор выходных данных для включения в электронное сообщение](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-send-email-details.png)

   <span data-ttu-id="7b8ba-268">Готовое приложение логики может выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-268">And your finished logic app might look like this example:</span></span>

   ![Готовое приложение логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-completed.png)

5. <span data-ttu-id="7b8ba-270">Сохраните приложение логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-270">Save your logic app.</span></span> <span data-ttu-id="7b8ba-271">Чтобы свернуть и скрыть сведения о каждом действии в приложении логики, выберите заголовок окна действия.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-271">To collapse and hide each action's details in your logic app, choose the action's title bar.</span></span>

   ![Сохранение приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-event-grid-save-completed.png)

   <span data-ttu-id="7b8ba-273">Теперь приложение логики активно, но ожидает изменений в виртуальной машине, прежде чем что-либо выполнить.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-273">Your logic app is now live, but waits for changes to your virtual machine before doing anything.</span></span> 
   <span data-ttu-id="7b8ba-274">Чтобы проверить приложение логики, перейдите следующему разделу.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-274">To test your logic app now, continue to the next section.</span></span>

## <a name="test-your-logic-app-workflow"></a><span data-ttu-id="7b8ba-275">Проверка рабочего процесса приложения логики</span><span class="sxs-lookup"><span data-stu-id="7b8ba-275">Test your logic app workflow</span></span>

1. <span data-ttu-id="7b8ba-276">Чтобы проверить, получает ли приложение логики указанные события, обновите виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-276">To check that your logic app is getting the specified events, update your virtual machine.</span></span> 

   <span data-ttu-id="7b8ba-277">Например, можно изменить размер виртуальной машины на портале Azure или [с помощью Azure PowerShell](../virtual-machines/windows/resize-vm.md).</span><span class="sxs-lookup"><span data-stu-id="7b8ba-277">For example, you can resize your virtual machine in the Azure portal or [resize your VM with Azure PowerShell](../virtual-machines/windows/resize-vm.md).</span></span> 

   <span data-ttu-id="7b8ba-278">Через несколько секунд вы должны получить электронное сообщение.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-278">After a few moments, you should get an email.</span></span> <span data-ttu-id="7b8ba-279">Например:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-279">For example:</span></span>

   ![Электронное сообщение об обновлении виртуальной машины](./media/monitor-virtual-machine-changes-event-grid-logic-app/email.png)

2. <span data-ttu-id="7b8ba-281">Чтобы просмотреть журнал триггера и выполнения приложения логики, в меню приложения выберите **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-281">To review the runs and trigger history for your logic app, on your logic app menu, choose **Overview**.</span></span> <span data-ttu-id="7b8ba-282">Чтобы просмотреть дополнительные сведения о выполнении, выберите строку для этого выполнения.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-282">To view more details about a run, choose the row for that run.</span></span>

   ![Журнал выполнения приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-run-history.png)

3. <span data-ttu-id="7b8ba-284">Чтобы просмотреть входные и выходные данные каждого действия, разверните действие, которое необходимо просмотреть.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-284">To view the inputs and outputs for each step, expand the step that you want to review.</span></span> <span data-ttu-id="7b8ba-285">Эти сведения помогут вам диагностировать и устранить проблемы в приложении логики.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-285">This information can help you diagnose and debug problems in your logic app.</span></span>
 
   ![Информация журнала выполнения приложения логики](./media/monitor-virtual-machine-changes-event-grid-logic-app/logic-app-run-history-details.png)

<span data-ttu-id="7b8ba-287">Поздравляем! Вы создали и запустили приложение логики, которое отслеживает события ресурса с помощью службы "Сетка событий" и отправляет вам электронные сообщения при возникновении этих событий.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-287">Congratulations, you've created and run a logic app that monitors resource events through an event grid and emails you when those events happen.</span></span> <span data-ttu-id="7b8ba-288">Вы также узнали, как можно легко создать рабочие процессы, позволяющие автоматизировать и интегрировать системы и облачные службы.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-288">You also learned how easily you can create workflows that automate processes and integrate systems and cloud services.</span></span>

## <a name="clean-up-resources"></a><span data-ttu-id="7b8ba-289">Очистка ресурсов</span><span class="sxs-lookup"><span data-stu-id="7b8ba-289">Clean up resources</span></span>

<span data-ttu-id="7b8ba-290">В этом руководстве используются ресурсы и выполняются действия, подлежащие оплате по подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-290">This tutorial uses resources and performs actions that incur charges on your Azure subscription.</span></span> <span data-ttu-id="7b8ba-291">Завершив проверку и работу с руководством, обязательно отключите или удалите все ресурсы, за использование которых не имеете намерения платить.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-291">So when you're done with the tutorial and testing, make sure that you disable or delete any resources where you don't want to incur charges.</span></span>

<span data-ttu-id="7b8ba-292">Вы можете остановить выполнение приложения логики и отправку электронных сообщений, не удаляя приложение.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-292">You can stop your logic app from running and sending email without deleting the app.</span></span> <span data-ttu-id="7b8ba-293">В меню приложения логики щелкните **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-293">On your logic app menu, choose **Overview**.</span></span> <span data-ttu-id="7b8ba-294">На панели инструментов щелкните **Отключить**.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-294">On the toolbar, choose **Disable**.</span></span>

![Отключение приложения логики.](./media/monitor-virtual-machine-changes-event-grid-logic-app/turn-off-disable-logic-app.png)

## <a name="faq"></a><span data-ttu-id="7b8ba-296">Часто задаваемые вопросы</span><span class="sxs-lookup"><span data-stu-id="7b8ba-296">FAQ</span></span>

<span data-ttu-id="7b8ba-297">**Вопрос**. Какие другие задачи мониторинга виртуальных машин можно выполнять с помощью службы "Сетка событий" и приложений логики?</span><span class="sxs-lookup"><span data-stu-id="7b8ba-297">**Q**: What other virtual machine monitoring tasks can I perform with event grids and logic apps?</span></span> </br><span data-ttu-id="7b8ba-298">
**Ответ**. Можно отслеживать другие изменения в конфигурации, например:</span><span class="sxs-lookup"><span data-stu-id="7b8ba-298">
**A**: You can monitor other configuration changes, for example:</span></span>

* <span data-ttu-id="7b8ba-299">виртуальная машина получает права доступа RBAC (управление доступом на основе ролей);</span><span class="sxs-lookup"><span data-stu-id="7b8ba-299">A virtual machine gets role-based access control (RBAC) rights.</span></span>
* <span data-ttu-id="7b8ba-300">вносятся изменения в группу безопасности сети (NSG) сетевого интерфейса;</span><span class="sxs-lookup"><span data-stu-id="7b8ba-300">Changes are made to a network security group (NSG) on a network interface (NIC).</span></span>
* <span data-ttu-id="7b8ba-301">добавляются или удаляются диски виртуальной машины;</span><span class="sxs-lookup"><span data-stu-id="7b8ba-301">Disks for a virtual machine are added or removed.</span></span>
* <span data-ttu-id="7b8ba-302">сетевому адаптеру виртуальной машины назначается общедоступный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="7b8ba-302">A public IP address is assigned to a virtual machine NIC.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7b8ba-303">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7b8ba-303">Next steps</span></span>

* [<span data-ttu-id="7b8ba-304">Обзор службы Сетка событий Azure</span><span class="sxs-lookup"><span data-stu-id="7b8ba-304">Event Grid Overview</span></span>](../event-grid/overview.md)
* [<span data-ttu-id="7b8ba-305">Основные понятия службы "Сетка событий Azure"</span><span class="sxs-lookup"><span data-stu-id="7b8ba-305">Event Grid Concepts</span></span>](../event-grid/concepts.md)
* [<span data-ttu-id="7b8ba-306">Создание и перенаправление пользовательского события со службой "Сетка событий Azure"</span><span class="sxs-lookup"><span data-stu-id="7b8ba-306">Quickstart: Create and route custom events with Event Grid</span></span>](../event-grid/custom-event-quickstart.md)
* [<span data-ttu-id="7b8ba-307">Схема событий службы "Сетка событий Azure"</span><span class="sxs-lookup"><span data-stu-id="7b8ba-307">Event Grid event schema</span></span>](../event-grid/event-schema.md)
* [<span data-ttu-id="7b8ba-308">Azure Logic Apps</span><span class="sxs-lookup"><span data-stu-id="7b8ba-308">Azure Logic Apps</span></span>](../logic-apps/logic-apps-what-are-logic-apps.md)
* [<span data-ttu-id="7b8ba-309">Настройка рабочего процесса с помощью встроенного шаблона или схемы для быстрого начала работы</span><span class="sxs-lookup"><span data-stu-id="7b8ba-309">Create logic app workflows with predefined templates</span></span>](../logic-apps/logic-apps-use-logic-app-templates.md)