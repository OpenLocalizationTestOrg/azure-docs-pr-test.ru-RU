---
title: "Обмен данными с любой конечной точкой по протоколу HTTP в Azure Logic Apps | Документация Майкрософт"
description: "Создание приложений логики, которые обмениваются данными с любой конечной точкой по протоколу HTTP."
services: logic-apps
author: jeffhollan
manager: anneta
editor: 
documentationcenter: 
tags: connectors
ms.assetid: e11c6b4d-65a5-4d2d-8e13-38150db09c0b
ms.service: logic-apps
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/15/2016
ms.author: jehollan; LADocs
ms.openlocfilehash: 3eae7a4a47680fc36849fd413b76a80865cf3c9f
ms.sourcegitcommit: be9a42d7b321304d9a33786ed8e2b9b972a5977e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/19/2018
---
# <a name="get-started-with-the-http-action"></a>Начало работы с действием HTTP

Благодаря действию HTTP можно расширить рабочие процессы своей организации и взаимодействовать с конечной точкой по протоколу HTTP.

Вы можете:

* Создайте рабочие процессы приложений логики, которые будут активироваться, когда управляемый вами веб-сайт выйдет из строя.
* Настройте взаимодействие с конечной точкой по протоколу HTTP, чтобы распространить рабочие процессы на другие службы.

Сведения о начале работы с действием HTTP в приложении логики см. в статье [Создание нового приложения логики, подключающего службы SaaS](../logic-apps/quickstart-create-first-logic-app-workflow.md).

## <a name="use-the-http-trigger"></a>Использование триггера HTTP
Триггер — это событие, которое можно использовать для запуска рабочего процесса, определенного в приложении логики. [Дополнительные сведения о триггерах](connectors-overview.md).

Ниже приведен пример последовательности настройки триггера HTTP в конструкторе приложений логики.

1. Добавьте триггер HTTP в приложение логики.
2. Заполните параметры конечной точки HTTP, которую нужно опросить.
3. Измените интервал повторения на частоту опроса.

   Теперь приложение логики запускается с любым содержимым, возвращаемым при проверке.

   ![Триггер HTTP](./media/connectors-native-http/using-trigger.png)

### <a name="how-the-http-trigger-works"></a>Принцип работы триггера HTTP

Триггер HTTP отправляет вызов к конечной точке HTTP в соответствии с интервалом повторения. По умолчанию любой код HTTP-ответа меньше 300 вызывает запуск приложения логики. Чтобы указать, следует ли запускать приложение логики, можно изменить его в представлении кода и добавить условие, оцениваемое после HTTP-вызова. Ниже приведен пример триггера HTTP, который срабатывает, когда возвращаемый код состояния больше или равен `400`.

```javascript
"Http":
{
    "conditions": [
        {
            "expression": "@greaterOrEquals(triggerOutputs()['statusCode'], 400)"
        }
    ],
    "inputs": {
        "method": "GET",
        "uri": "https://blogs.msdn.microsoft.com/logicapps/",
        "headers": {
            "accept-language": "en"
        }
    },
    "recurrence": {
        "frequency": "Second",
        "interval": 15
    },
    "type": "Http"
}
```

Подробные сведения о параметрах триггера HTTP можно найти в библиотеке [MSDN](https://msdn.microsoft.com/library/azure/mt643939.aspx#HTTP-trigger).

## <a name="use-the-http-action"></a>Использование действия HTTP

Действие — это операция, выполняемая рабочим процессом, определенным в приложении логики. 
[Дополнительные сведения о действиях](connectors-overview.md).

1. Выберите **Новый шаг** > **Добавить действие**.
3. В поле поиска действий введите **http**, чтобы отобразить список действий HTTP.
   
    ![Выбор действия HTTP](./media/connectors-native-http/using-action-1.png)

4. Добавьте все необходимые параметры для HTTP-вызова.
   
    ![Выполнение действия HTTP](./media/connectors-native-http/using-action-2.png)

5. На панели инструментов конструктора нажмите кнопку **Сохранить**. Приложение логики будет сохранено и опубликовано (активировано).

## <a name="http-trigger"></a>Триггер HTTP
Ниже приведены подробные сведения о триггере, поддерживаемом этим соединителем. У соединителя HTTP один триггер.

| Триггер | ОПИСАНИЕ |
| --- | --- |
| HTTP |Совершает вызов HTTP и возвращает содержимое ответа. |

## <a name="http-action"></a>Действие HTTP
Ниже приведены подробные сведения о действии, которое поддерживает этот соединитель. У соединителя HTTP одно возможное действие.

| Действие | ОПИСАНИЕ |
| --- | --- |
| HTTP |Совершает вызов HTTP и возвращает содержимое ответа. |

## <a name="http-details"></a>Сведения о HTTP
В следующих таблицах приведены обязательные и необязательные поля ввода для действия, а также соответствующие выходные данные, связанные с его использованием.

#### <a name="http-request"></a>HTTP-запрос
Ниже перечислены поля ввода для действия, выполняющего исходящий HTTP-запрос.
Звездочка (*) означает, что это поле обязательное для заполнения.

| Отображаемое имя | Имя свойства | ОПИСАНИЕ |
| --- | --- | --- |
| Метод* |метод |HTTP-команда для использования |
| URI* |uri |URI HTTP-запроса |
| Заголовки |headers |Объект JSON заголовков HTTP, который нужно включить |
| Текст |текст |Текст HTTP-запроса |
| Authentication |authentication |Дополнительные сведения см. в разделе [Аутентификация](#authentication). |

<br>

#### <a name="output-details"></a>Сведения о выходных данных
Ниже приведены сведения о выходных данных для ответа HTTP.

| Имя свойства | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| Заголовки |object |Заголовки ответов |
| Текст |object |Объект ответа |
| Код состояния |int |HTTP status code (Код состояния HTTP) |

## <a name="authentication"></a>Authentication
Компонент Logic Apps позволяет использовать разные типы аутентификации для конечных точек HTTP. Такую аутентификацию можно применять с соединителями **HTTP**, **[HTTP + Swagger](connectors-native-http-swagger.md)** и **[HTTP Webhook](connectors-native-webhook.md)**. Ниже приведены типы аутентификации, которые можно настроить.

* [Обычная аутентификация](#basic-authentication)
* [Аутентификация на основе сертификата клиента](#client-certificate-authentication)
* [Аутентификация Azure Active Directory (Azure AD) OAuth](#azure-active-directory-oauth-authentication)

#### <a name="basic-authentication"></a>Обычная аутентификация

Для обычной аутентификации требуется следующий объект аутентификации.
Звездочка (*) означает, что это поле обязательное для заполнения.

| Имя свойства | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| Тип* |Тип |Тип аутентификации (для обычной аутентификации значение должно быть `Basic`) |
| Имя пользователя* |Имя пользователя |Имя пользователя для аутентификации |
| Пароль* |password |Пароль для аутентификации. |

> [!TIP]
> Если вы хотите использовать пароль, который не удается получить из определения, используйте параметр `securestring` и  
> [функцию определения рабочего процесса](http://aka.ms/logicappdocs) `@parameters()`.

Например: 

```javascript
{
    "type": "Basic",
    "username": "user",
    "password": "test"
}
```

#### <a name="client-certificate-authentication"></a>Аутентификация на основе сертификата клиента

Для аутентификации на основе сертификата клиента требуется следующий объект аутентификации. Звездочка (*) означает, что это поле обязательное для заполнения.

| Имя свойства | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| Тип* |Тип |Тип аутентификации (для аутентификации на основе SSL-сертификатов клиента значение должно быть `ClientCertificate`) |
| PFX* |pfx |Содержимое файла обмена личной информацией (PFX-файла) с кодировкой Base64 |
| Пароль* |password |Пароль для доступа к PFX-файлу |

> [!TIP]
> Чтобы применить параметр, который после сохранения приложения логики будет недоступным для чтения в определении, можно использовать параметр `securestring` и  
> [функцию определения рабочего процесса](http://aka.ms/logicappdocs) `@parameters()`.

Например: 

```javascript
{
    "type": "ClientCertificate",
    "pfx": "aGVsbG8g...d29ybGQ=",
    "password": "@parameters('myPassword')"
}
```

#### <a name="azure-ad-oauth-authentication"></a>Аутентификация Azure AD OAuth
Для аутентификации Azure AD OAuth требуется следующий объект аутентификации. Звездочка (*) означает, что это поле обязательное для заполнения.

| Имя свойства | Тип данных | ОПИСАНИЕ |
| --- | --- | --- |
| Тип* |Тип |Тип аутентификации (для аутентификации Azure AD OAuth значение должно быть `ActiveDirectoryOAuth`) |
| Клиент* |tenant |Идентификатор клиента Azure AD. |
| Аудитория* |audience |Ресурс, для которого запрашивается разрешение на использование. Например: `https://management.core.windows.net/` |
| Идентификатор клиента* |clientid |Идентификатор клиента для приложения Azure AD |
| Секрет* |secret |Секретные данные клиента, запрашивающего маркер |

> [!TIP]
> Можно использовать параметр `securestring` и [функцию определения рабочего процесса](http://aka.ms/logicappdocs) `@parameters()`, чтобы применить параметр, который после сохранения будет недоступным для чтения в определении.
> 
> 

Например: 

```javascript
{
    "type": "ActiveDirectoryOAuth",
    "tenant": "72f988bf-86f1-41af-91ab-2d7cd011db47",
    "audience": "https://management.core.windows.net/",
    "clientId": "34750e0b-72d1-4e4f-bbbe-664f6d04d411",
    "secret": "hcqgkYc9ebgNLA5c+GDg7xl9ZJMD88TmTJiJBgZ8dFo="
}
```

## <a name="next-steps"></a>Дополнительная информация
Теперь опробуйте платформу и [создайте приложение логики](../logic-apps/quickstart-create-first-logic-app-workflow.md). Чтобы узнать, какие еще соединители доступны в приложениях логики, ознакомьтесь со [списком интерфейсов API](apis-list.md).

