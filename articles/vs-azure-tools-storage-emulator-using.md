---
title: "Настройка и использование эмулятора хранения с помощью Visual Studio | Документация Майкрософт"
description: "Настройка и использование эмулятора хранения с помощью Visual Studio"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: c8e7996f-6027-4762-806e-614b93131867
ms.service: storage
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 8/17/2017
ms.author: kraigb
ms.openlocfilehash: f4cd8ccc3b186cf2b4178b7d8a98d8928c705cbc
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="configuring-and-using-the-storage-emulator-with-visual-studio"></a>Настройка и использование эмулятора хранения с помощью Visual Studio
[!INCLUDE [storage-try-azure-tools](../includes/storage-try-azure-tools.md)]

## <a name="overview"></a>Обзор
Среда разработки Azure SDK включает эмулятор хранения — служебную программу, которая имитирует доступные в среде Azure службы хранилища BLOB-объектов, очередей и таблиц на локальном компьютере разработчика. Если вы выполняете сборку облачной службы, которая использует службы хранилища Azure, или внешнего приложения, вызывающего службы хранилища, можно протестировать код локально с помощью эмулятора хранения. Инструменты Azure для Microsoft Visual Studio интегрируют управление эмулятором хранения в среду Visual Studio. Инструменты Azure инициализируют базу данных эмулятора хранения при первом использовании, запускают службу эмулятора хранения при запуске или отладке кода в Visual Studio и предоставляют доступ только для чтения к данным эмулятора хранения через обозреватель хранилищ Azure.

Подробные сведения об эмуляторе хранения, включая требования к системе и инструкции по пользовательской настройке, см. в статье [Использование эмулятора хранения Azure для разработки и тестирования](storage/common/storage-use-emulator.md).

> [!NOTE]
> Функциональность эмулятора хранения и служб хранилища Azure несколько отличается. Сведения о различиях см. в статье [Различия между эмулятором хранения и службами хранилища Azure](storage/common/storage-use-emulator.md) в документации по пакету SDK для Azure.
> 
> 

## <a name="configuring-a-connection-string-for-the-storage-emulator"></a>Настройка строки подключения для эмулятора хранения
Чтобы получить доступ к эмулятору хранения из кода в роли, необходимо настроить строку подключения, указывающую на эмулятор хранения. Позже ее можно будет изменить, чтобы она указывала на учетную запись хранения Azure. Строка подключения — это параметр конфигурации, который может быть прочитан ролью в среде выполнения для подключения к учетной записи хранения. Дополнительные сведения о создании строк подключения см. в статье [Настройка приложения Azure](https://msdn.microsoft.com/library/azure/2da5d6ce-f74d-45a9-bf6b-b3a60c5ef74e#BK_SettingsPage).

> [!NOTE]
> Ссылку на учетную запись эмулятора хранения можно получить из кода с помощью свойства **DevelopmentStorageAccount**. Этот метод подходит, если необходимо получить доступ к эмулятору хранения из кода. Если же вы планируете опубликовать приложение в Azure, следует создать строку подключения для доступа к вашей учетной записи хранения Azure и изменить код, чтобы использовать эту строку подключения перед публикацией приложения. Если необходимо часто переключаться между учетной записью эмулятора хранения и учетной записью хранения Azure, строка подключения упростит этот процесс.
> 
> 

## <a name="initializing-and-running-the-storage-emulator"></a>Инициализация и запуск эмулятора хранения
Можно настроить автоматический запуск эмулятора хранения в Visual Studio при запуске или отладке службы в Visual Studio. В обозревателе решений откройте контекстное меню своего проекта **Azure** и выберите **Свойства**. На вкладке **Разработка** из списка **Start Azure Storage Emulator** (Запуск эмулятора хранения Azure) выберите **True** (если это значение еще не задано).

При первом запуске или отладке службы в Visual Studio эмулятор хранения запустит процесс инициализации. Этот процесс резервирует локальные порты для эмулятора хранения и создает базу данных эмулятора. После завершения процесс не нужно повторять, если база данных эмулятора хранения не удалялась.

> [!NOTE]
> Начиная с выпуска инструментов Azure от июня 2012 г. эмулятор хранения работает в SQL Express LocalDB по умолчанию. В более ранних выпусках инструментов Azure эмулятор хранения по умолчанию работает в экземпляре SQL Express 2005 или 2008, который необходимо установить перед пакетом SDK для Azure.  Можно также запустить эмулятор хранения для обращения к именованному экземпляру SQL Express либо к именованному или стандартному экземпляру Microsoft SQL Server. Если необходимо настроить эмулятор хранения для работы с другим экземпляром, а не экземпляром по умолчанию, ознакомьтесь со статьей [Использование эмулятора хранения Azure для разработки и тестирования](storage/common/storage-use-emulator.md).
> 
> 

Эмулятор хранения содержит пользовательский интерфейс для просмотра состояния локальных служб хранилища, а также их запуска, остановки и сброса. После запуска службы эмулятора хранения можно отобразить пользовательский интерфейс либо запустить или остановить службу, щелкнув правой кнопкой мыши значок эмулятора Microsoft Azure в области уведомлений на панели задач Windows.

## <a name="viewing-storage-emulator-data-in-server-explorer"></a>Просмотр данных эмулятора хранения в обозревателе сервера
С помощью узла «Хранилище Azure» в обозревателе сервера вы можете просматривать данные и изменять параметры для данных BLOB-объектов и таблиц в своих учетных записях хранения, включая эмулятор хранения. Дополнительные сведения см. в статье [Управление ресурсами хранилища BLOB-объектов Azure с помощью обозревателя хранилищ (предварительная версия)](https://docs.microsoft.com/azure/vs-azure-tools-storage-explorer-blobs).

