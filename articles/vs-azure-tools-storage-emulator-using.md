---
title: "Настройка и использование эмулятора хранения с помощью Visual Studio | Документация Майкрософт"
description: "Настройка и использование эмулятора хранения с помощью Visual Studio"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: c8e7996f-6027-4762-806e-614b93131867
ms.service: storage
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 8/17/2017
ms.author: kraigb
ms.openlocfilehash: f4cd8ccc3b186cf2b4178b7d8a98d8928c705cbc
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="configuring-and-using-the-storage-emulator-with-visual-studio"></a><span data-ttu-id="dd2fe-103">Настройка и использование эмулятора хранения с помощью Visual Studio</span><span class="sxs-lookup"><span data-stu-id="dd2fe-103">Configuring and Using the Storage Emulator with Visual Studio</span></span>
[!INCLUDE [storage-try-azure-tools](../includes/storage-try-azure-tools.md)]

## <a name="overview"></a><span data-ttu-id="dd2fe-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="dd2fe-104">Overview</span></span>
<span data-ttu-id="dd2fe-105">Среда разработки Azure SDK включает эмулятор хранения — служебную программу, которая имитирует доступные в среде Azure службы хранилища BLOB-объектов, очередей и таблиц на локальном компьютере разработчика.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-105">The Azure SDK development environment includes the storage emulator, a utility that simulates the Blob, Queue, and Table storage services available in Azure on your local development machine.</span></span> <span data-ttu-id="dd2fe-106">Если вы выполняете сборку облачной службы, которая использует службы хранилища Azure, или внешнего приложения, вызывающего службы хранилища, можно протестировать код локально с помощью эмулятора хранения.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-106">If you are building a cloud service that employs the Azure storage services, or writing any external application that calls the storage services, you can test your code locally against the storage emulator.</span></span> <span data-ttu-id="dd2fe-107">Инструменты Azure для Microsoft Visual Studio интегрируют управление эмулятором хранения в среду Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-107">The Azure Tools for Microsoft Visual Studio integrate management of the storage emulator into Visual Studio.</span></span> <span data-ttu-id="dd2fe-108">Инструменты Azure инициализируют базу данных эмулятора хранения при первом использовании, запускают службу эмулятора хранения при запуске или отладке кода в Visual Studio и предоставляют доступ только для чтения к данным эмулятора хранения через обозреватель хранилищ Azure.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-108">The Azure Tools initialize the storage emulator database on first use, starts the storage emulator service when you run or debug your code from Visual Studio, and provides read-only access to the storage emulator data via the Azure Storage Explorer.</span></span>

<span data-ttu-id="dd2fe-109">Подробные сведения об эмуляторе хранения, включая требования к системе и инструкции по пользовательской настройке, см. в статье [Использование эмулятора хранения Azure для разработки и тестирования](storage/common/storage-use-emulator.md).</span><span class="sxs-lookup"><span data-stu-id="dd2fe-109">For detailed information on the storage emulator, including system requirements and custom configuration instructions, see [Use the Azure Storage Emulator for Development and Testing](storage/common/storage-use-emulator.md).</span></span>

> [!NOTE]
> <span data-ttu-id="dd2fe-110">Функциональность эмулятора хранения и служб хранилища Azure несколько отличается.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-110">There are some differences in functionality between the storage emulator simulation and the Azure storage services.</span></span> <span data-ttu-id="dd2fe-111">Сведения о различиях см. в статье [Различия между эмулятором хранения и службами хранилища Azure](storage/common/storage-use-emulator.md) в документации по пакету SDK для Azure.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-111">See [Differences Between the Storage Emulator and Azure Storage Services](storage/common/storage-use-emulator.md) in the Azure SDK documentation for information on the specific differences.</span></span>
> 
> 

## <a name="configuring-a-connection-string-for-the-storage-emulator"></a><span data-ttu-id="dd2fe-112">Настройка строки подключения для эмулятора хранения</span><span class="sxs-lookup"><span data-stu-id="dd2fe-112">Configuring a connection string for the storage emulator</span></span>
<span data-ttu-id="dd2fe-113">Чтобы получить доступ к эмулятору хранения из кода в роли, необходимо настроить строку подключения, указывающую на эмулятор хранения. Позже ее можно будет изменить, чтобы она указывала на учетную запись хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-113">To access the storage emulator from code within a role, you will want to configure a connection string that points to the storage emulator and that can later be changed to point to an Azure storage account.</span></span> <span data-ttu-id="dd2fe-114">Строка подключения — это параметр конфигурации, который может быть прочитан ролью в среде выполнения для подключения к учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-114">A connection string is a configuration setting that your role can read at runtime to connect to a storage account.</span></span> <span data-ttu-id="dd2fe-115">Дополнительные сведения о создании строк подключения см. в статье [Настройка приложения Azure](https://msdn.microsoft.com/library/azure/2da5d6ce-f74d-45a9-bf6b-b3a60c5ef74e#BK_SettingsPage).</span><span class="sxs-lookup"><span data-stu-id="dd2fe-115">For more information about how to create connection strings, see [Configuring the Azure Application](https://msdn.microsoft.com/library/azure/2da5d6ce-f74d-45a9-bf6b-b3a60c5ef74e#BK_SettingsPage).</span></span>

> [!NOTE]
> <span data-ttu-id="dd2fe-116">Ссылку на учетную запись эмулятора хранения можно получить из кода с помощью свойства **DevelopmentStorageAccount**.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-116">You can return a reference to the storage emulator account from your code by using the **DevelopmentStorageAccount** property.</span></span> <span data-ttu-id="dd2fe-117">Этот метод подходит, если необходимо получить доступ к эмулятору хранения из кода. Если же вы планируете опубликовать приложение в Azure, следует создать строку подключения для доступа к вашей учетной записи хранения Azure и изменить код, чтобы использовать эту строку подключения перед публикацией приложения.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-117">This approach works correctly if you want to access the storage emulator from your code, but if you plan to publish your application to Azure, you will need to create a connection string to access your Azure storage account and modify your code to use that connection string before you publish it.</span></span> <span data-ttu-id="dd2fe-118">Если необходимо часто переключаться между учетной записью эмулятора хранения и учетной записью хранения Azure, строка подключения упростит этот процесс.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-118">If you are switching between the storage emulator account and an Azure storage account frequently, a connection string will simplify this process.</span></span>
> 
> 

## <a name="initializing-and-running-the-storage-emulator"></a><span data-ttu-id="dd2fe-119">Инициализация и запуск эмулятора хранения</span><span class="sxs-lookup"><span data-stu-id="dd2fe-119">Initializing and running the storage emulator</span></span>
<span data-ttu-id="dd2fe-120">Можно настроить автоматический запуск эмулятора хранения в Visual Studio при запуске или отладке службы в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-120">You can specify that when you run or debug your service in Visual Studio, Visual Studio automatically launches the storage emulator.</span></span> <span data-ttu-id="dd2fe-121">В обозревателе решений откройте контекстное меню своего проекта **Azure** и выберите **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-121">In Solution Explorer, open the shortcut menu for your **Azure** project and choose **Properties**.</span></span> <span data-ttu-id="dd2fe-122">На вкладке **Разработка** из списка **Start Azure Storage Emulator** (Запуск эмулятора хранения Azure) выберите **True** (если это значение еще не задано).</span><span class="sxs-lookup"><span data-stu-id="dd2fe-122">On the **Development** tab, in the **Start Azure Storage Emulator** list, choose **True** (if it isn't already set to that value).</span></span>

<span data-ttu-id="dd2fe-123">При первом запуске или отладке службы в Visual Studio эмулятор хранения запустит процесс инициализации.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-123">The first time you run or debug your service from Visual Studio, the storage emulator launches an initialization process.</span></span> <span data-ttu-id="dd2fe-124">Этот процесс резервирует локальные порты для эмулятора хранения и создает базу данных эмулятора.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-124">This process reserves local ports for the storage emulator and creates the storage emulator database.</span></span> <span data-ttu-id="dd2fe-125">После завершения процесс не нужно повторять, если база данных эмулятора хранения не удалялась.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-125">Once complete, this process does not need to run again unless the storage emulator database is deleted.</span></span>

> [!NOTE]
> <span data-ttu-id="dd2fe-126">Начиная с выпуска инструментов Azure от июня 2012 г. эмулятор хранения работает в SQL Express LocalDB по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-126">Starting with the June 2012 release of the Azure Tools, the storage emulator runs, by default, in SQL Express LocalDB.</span></span> <span data-ttu-id="dd2fe-127">В более ранних выпусках инструментов Azure эмулятор хранения по умолчанию работает в экземпляре SQL Express 2005 или 2008, который необходимо установить перед пакетом SDK для Azure. </span><span class="sxs-lookup"><span data-stu-id="dd2fe-127">In earlier releases of the Azure Tools, the storage emulator runs against a default instance of SQL Express 2005 or 2008, which you must install before you can install the Azure SDK.</span></span> <span data-ttu-id="dd2fe-128">Можно также запустить эмулятор хранения для обращения к именованному экземпляру SQL Express либо к именованному или стандартному экземпляру Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-128">You can also run the storage emulator against a named instance of SQL Express or a named or default instance of Microsoft SQL Server.</span></span> <span data-ttu-id="dd2fe-129">Если необходимо настроить эмулятор хранения для работы с другим экземпляром, а не экземпляром по умолчанию, ознакомьтесь со статьей [Использование эмулятора хранения Azure для разработки и тестирования](storage/common/storage-use-emulator.md).</span><span class="sxs-lookup"><span data-stu-id="dd2fe-129">If you need to configure the storage emulator to run against an instance other than the default instance, see [Use the Azure Storage Emulator for Development and Testing](storage/common/storage-use-emulator.md).</span></span>
> 
> 

<span data-ttu-id="dd2fe-130">Эмулятор хранения содержит пользовательский интерфейс для просмотра состояния локальных служб хранилища, а также их запуска, остановки и сброса.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-130">The storage emulator provides a user interface to view the status of the local storage services and to start, stop, and reset them.</span></span> <span data-ttu-id="dd2fe-131">После запуска службы эмулятора хранения можно отобразить пользовательский интерфейс либо запустить или остановить службу, щелкнув правой кнопкой мыши значок эмулятора Microsoft Azure в области уведомлений на панели задач Windows.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-131">Once the storage emulator service has been started, you can display the user interface or start or stop the service by right-clicking the notification area icon for the Microsoft Azure Emulator in the Windows taskbar.</span></span>

## <a name="viewing-storage-emulator-data-in-server-explorer"></a><span data-ttu-id="dd2fe-132">Просмотр данных эмулятора хранения в обозревателе сервера</span><span class="sxs-lookup"><span data-stu-id="dd2fe-132">Viewing storage emulator data in Server Explorer</span></span>
<span data-ttu-id="dd2fe-133">С помощью узла «Хранилище Azure» в обозревателе сервера вы можете просматривать данные и изменять параметры для данных BLOB-объектов и таблиц в своих учетных записях хранения, включая эмулятор хранения.</span><span class="sxs-lookup"><span data-stu-id="dd2fe-133">The Azure Storage node in Server Explorer enables you to view data and change settings for blob and table data in your storage accounts, including the storage emulator.</span></span> <span data-ttu-id="dd2fe-134">Дополнительные сведения см. в статье [Управление ресурсами хранилища BLOB-объектов Azure с помощью обозревателя хранилищ (предварительная версия)](https://docs.microsoft.com/azure/vs-azure-tools-storage-explorer-blobs).</span><span class="sxs-lookup"><span data-stu-id="dd2fe-134">See [Manage Azure Blob Storage resources with Storage Explorer (Preview)](https://docs.microsoft.com/azure/vs-azure-tools-storage-explorer-blobs) for more information.</span></span>

