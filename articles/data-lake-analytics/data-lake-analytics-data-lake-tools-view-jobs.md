---
title: "Использование браузера и представления заданий в Azure Data Lake Analytics | Документация Майкрософт"
description: "Узнайте, как использовать браузер и представление для заданий Azure Data Lake Analytics. "
services: data-lake-analytics
documentationcenter: 
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: bdf27b4d-6f58-4093-ab83-4fa3a99b5650
ms.service: data-lake-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/02/2017
ms.author: jgao
ms.openlocfilehash: 8f1729f84a4fde2a56427a41b356d6263818519e
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="use-job-browser-and-job-view-for-azure-data-lake-analytics-jobs"></a><span data-ttu-id="8f117-103">Использование браузера и представления для заданий Azure Data Lake Analytics</span><span class="sxs-lookup"><span data-stu-id="8f117-103">Use Job Browser and Job View for Azure Data lake Analytics jobs</span></span>
<span data-ttu-id="8f117-104">Служба Azure Data Lake Analytics архивирует отправленные задания в [хранилище запросов](#query-store).</span><span class="sxs-lookup"><span data-stu-id="8f117-104">The Azure Data Lake Analytics service archives submitted jobs in a [query store](#query-store).</span></span> <span data-ttu-id="8f117-105">В этой статье вы узнаете, как использовать браузер и представление заданий в средствах Azure Data Lake для Visual Studio, чтобы находить исторические сведения о заданиях.</span><span class="sxs-lookup"><span data-stu-id="8f117-105">In this article, you learn how to use Job Browser and Job View in Azure Data Lake Tools for Visual Studio to find the historical job information.</span></span> 

<span data-ttu-id="8f117-106">По умолчанию служба Data Lake Analytics архивирует задания на 30 дней.</span><span class="sxs-lookup"><span data-stu-id="8f117-106">By default, the Data Lake Analytics service archives the jobs for 30 days.</span></span> <span data-ttu-id="8f117-107">Срок хранения можно настроить на портале Azure в настраиваемой политике окончания срока действия.</span><span class="sxs-lookup"><span data-stu-id="8f117-107">The expiration period can be configured from the Azure portal by configuring the customized expiration policy.</span></span> <span data-ttu-id="8f117-108">Доступ к данным задания по истечении этого срока невозможен.</span><span class="sxs-lookup"><span data-stu-id="8f117-108">You will not be able to access the job information after expiration.</span></span> 

## <a name="prerequisites"></a><span data-ttu-id="8f117-109">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="8f117-109">Prerequisites</span></span>
<span data-ttu-id="8f117-110">См. раздел о [предварительных требованиях в отношении средств Data Lake для Visual Studio](data-lake-analytics-data-lake-tools-get-started.md#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="8f117-110">See [Data Lake Tools for Visual Studio prerequisites](data-lake-analytics-data-lake-tools-get-started.md#prerequisites).</span></span>

## <a name="open-the-job-browser"></a><span data-ttu-id="8f117-111">Доступ к браузеру заданий</span><span class="sxs-lookup"><span data-stu-id="8f117-111">Open the Job Browser</span></span>
<span data-ttu-id="8f117-112">Браузер заданий можно открыть, выбрав **Обозреватель серверов > Azure > Data Lake Analytics > Задания** в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8f117-112">Access the Job Browser via **Server Explorer>Azure>Data Lake Analytics>Jobs** in Visual Studio.</span></span>  <span data-ttu-id="8f117-113">С помощью браузера заданий можно получить доступ к хранилищу запросов учетной записи Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="8f117-113">Using the Job Browser, you can access the query store of a Data Lake Analytics account.</span></span> <span data-ttu-id="8f117-114">В браузере заданий слева отображается хранилище запросов, в котором видны базовые сведения о задании, а справа — представление задания с подробными сведениями о задании.</span><span class="sxs-lookup"><span data-stu-id="8f117-114">Job Browser displays Query Store on the left, showing basic job information, and Job View on the right showing detailed job information.</span></span>

## <a name="job-view"></a><span data-ttu-id="8f117-115">Представление задания</span><span class="sxs-lookup"><span data-stu-id="8f117-115">Job View</span></span>
<span data-ttu-id="8f117-116">В представлении задания отображаются подробные сведения о задании.</span><span class="sxs-lookup"><span data-stu-id="8f117-116">Job View shows the detailed information of a job.</span></span> <span data-ttu-id="8f117-117">Чтобы открыть задание, дважды щелкните его в браузере или откройте его из меню Data Lake, щелкнув пункт Job View ("Представление задания").</span><span class="sxs-lookup"><span data-stu-id="8f117-117">To open a job, you can double-click a job in the Job Browser, or open it from the Data Lake menu by clicking Job View.</span></span> <span data-ttu-id="8f117-118">Вы увидите диалоговое окно с URL-адресом задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-118">You should see a dialog populated with the job URL.</span></span>

![Браузер заданий средств Data Lake для Visual Studio](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-view.png)

<span data-ttu-id="8f117-120">Представление задания содержит:</span><span class="sxs-lookup"><span data-stu-id="8f117-120">Job View contains:</span></span>

* <span data-ttu-id="8f117-121">Сводные данные задания</span><span class="sxs-lookup"><span data-stu-id="8f117-121">Job Summary</span></span>
  
    <span data-ttu-id="8f117-122">Обновите представление задания, чтобы увидеть новые сведения о выполняющемся задании.</span><span class="sxs-lookup"><span data-stu-id="8f117-122">Refresh the Job View to see the more recent information of running jobs.</span></span>
  
  * <span data-ttu-id="8f117-123">Состояние задания (граф).</span><span class="sxs-lookup"><span data-stu-id="8f117-123">Job Status (graph):</span></span>
    
      <span data-ttu-id="8f117-124">На графе "Состояние задания" отображаются основные этапы задания:</span><span class="sxs-lookup"><span data-stu-id="8f117-124">Job Status outlines the job phases:</span></span>
    
      ![Состояния этапов задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-phases.png)
    
    * <span data-ttu-id="8f117-126">Подготовка. Загрузите скрипт в облако, компилировав и оптимизировав сценарий с помощью службы компиляции.</span><span class="sxs-lookup"><span data-stu-id="8f117-126">Preparing: Upload your script to the cloud, compiling and optimizing the script using the compile service.</span></span>
    * <span data-ttu-id="8f117-127">В очереди. Задания находятся в очереди, пока ожидают появления достаточного количества ресурсов, или количество заданий превышает максимальное количество заданий, выполняемых одновременно, на учетную запись.</span><span class="sxs-lookup"><span data-stu-id="8f117-127">Queued: Jobs are queued whey they are waiting for enough resources, or the jobs exceed the max concurrent jobs per account limitation.</span></span> <span data-ttu-id="8f117-128">Параметр приоритета определяет последовательность постановки заданий в очередь: чем меньше число, тем выше приоритет.</span><span class="sxs-lookup"><span data-stu-id="8f117-128">The priority setting determines the sequence of queued jobs - the lower the number, the higher the priority.</span></span>
    * <span data-ttu-id="8f117-129">Выполняется. Задание выполняется в учетной записи Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="8f117-129">Running: The job is actually running in your Data Lake Analytics account.</span></span>
    * <span data-ttu-id="8f117-130">Завершение. Задание завершается (например, завершение работы с файлом).</span><span class="sxs-lookup"><span data-stu-id="8f117-130">Finalizing: The job is completing (for example, finalizing the file).</span></span>
      
      <span data-ttu-id="8f117-131">На любом этапе может произойти сбой задания,</span><span class="sxs-lookup"><span data-stu-id="8f117-131">The job can fail in every phase.</span></span> <span data-ttu-id="8f117-132">например ошибка компиляции на этапе подготовки, истечения времени ожидания на этапе "В очереди" или выполнения на этапе "Выполняется" и т. д.</span><span class="sxs-lookup"><span data-stu-id="8f117-132">For example, compilation errors in the Preparing phase, timeout errors in the Queued phase, and execution errors in the Running phase, etc.</span></span>
  * <span data-ttu-id="8f117-133">Основные сведения</span><span class="sxs-lookup"><span data-stu-id="8f117-133">Basic Information</span></span>
    
      <span data-ttu-id="8f117-134">В нижней части панели "Сводка по заданию" отображаются основные сведения о задании.</span><span class="sxs-lookup"><span data-stu-id="8f117-134">The basic job information shows in the lower part of the Job Summary panel.</span></span>
    
      ![Состояния этапов задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-info.png)
    
    * <span data-ttu-id="8f117-136">Job Result ("Результат задания"). "Успешно" или "Сбой".</span><span class="sxs-lookup"><span data-stu-id="8f117-136">Job Result: Succeeded or failed.</span></span> <span data-ttu-id="8f117-137">Сбой задания может произойти на любом этапе.</span><span class="sxs-lookup"><span data-stu-id="8f117-137">The job may fail in every phase.</span></span>
    * <span data-ttu-id="8f117-138">Total Duration ("Общая длительность"). Время с момента отправки и до момента завершения по часам (длительность).</span><span class="sxs-lookup"><span data-stu-id="8f117-138">Total Duration: Wall clock time (duration) between submitting time and ending time.</span></span>
    * <span data-ttu-id="8f117-139">Total Compute Time ("Общее время вычислений"). Сумма количества времени, затраченного на выполнение каждой вершины. Его можно учитывать как время выполнения задания только с одной вершиной.</span><span class="sxs-lookup"><span data-stu-id="8f117-139">Total Compute Time: The sum of every vertex execution time, you can consider it as the time that the job is executed in only one vertex.</span></span> <span data-ttu-id="8f117-140">Дополнительные сведения о вершинах см. в данных о параметре Total Vertices ("Общее количество вершин").</span><span class="sxs-lookup"><span data-stu-id="8f117-140">Refer to Total Vertices to find more information about vertex.</span></span>
    * <span data-ttu-id="8f117-141">Submit Time ("Время отправки"), "Время начала" и "Время окончания". Время, когда служба Data Lake Analytics получила задание, начала его выполнение и успешно или с ошибкой завершила задание.</span><span class="sxs-lookup"><span data-stu-id="8f117-141">Submit/Start/End Time: The time when the Data Lake Analytics service receives job submission/starts to run the job/ends the job successfully or not.</span></span>
    * <span data-ttu-id="8f117-142">Compilation ("Компиляция"), "В очереди" и "Выполняется". Время, затраченное на фазу "Подготовка", "В очереди" и "Выполняется" по часам.</span><span class="sxs-lookup"><span data-stu-id="8f117-142">Compilation/Queued/Running: Wall clock time spent during the Preparing/Queued/Running phase.</span></span>
    * <span data-ttu-id="8f117-143">Учетная запись. Учетная запись Data Lake Analytics, использованная для запуска задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-143">Account: The Data Lake Analytics account used for running the job.</span></span>
    * <span data-ttu-id="8f117-144">Автор. Пользователь, отправивший задание, используя учетную запись реального пользователя или системную запись.</span><span class="sxs-lookup"><span data-stu-id="8f117-144">Author: The user who submitted the job, it can be a real person’s account or a system account.</span></span>
    * <span data-ttu-id="8f117-145">Приоритет. Приоритет задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-145">Priority: The priority of the job.</span></span> <span data-ttu-id="8f117-146">Чем меньше число, тем выше приоритет.</span><span class="sxs-lookup"><span data-stu-id="8f117-146">The lower the number, the higher the priority.</span></span> <span data-ttu-id="8f117-147">Он влияет только на последовательность заданий в очереди.</span><span class="sxs-lookup"><span data-stu-id="8f117-147">It only affects the sequence of the jobs in the queue.</span></span> <span data-ttu-id="8f117-148">Если установить более высокое значение, приоритет не станет выше, чем у выполняемых заданий.</span><span class="sxs-lookup"><span data-stu-id="8f117-148">Setting a higher priority does not preempt running jobs.</span></span>
    * <span data-ttu-id="8f117-149">Параллелизм. Максимальное количество одновременно используемых единиц Azure Data Lake Analytics, или вершин.</span><span class="sxs-lookup"><span data-stu-id="8f117-149">Parallelism: The requested maximum number of concurrent Azure Data Lake Analytics Units (ADLAUs), aka vertices.</span></span> <span data-ttu-id="8f117-150">Сейчас одна вершина равна одной виртуальной машине с двумя виртуальными ядрами и 6 ГБ ОЗУ, хотя это может измениться в будущих обновлениях Data Lake Analytics.</span><span class="sxs-lookup"><span data-stu-id="8f117-150">Currently, one vertex is equal to one VM with two virtual core and six GB RAM, though this could be upgraded in future Data Lake Analytics updates.</span></span>
    * <span data-ttu-id="8f117-151">Bytes Left ("Оставшееся количество байтов"). Байты, которые необходимо обработать, чтобы завершить выполнение задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-151">Bytes Left: Bytes that need to be processed until the job completes.</span></span>
    * <span data-ttu-id="8f117-152">Bytes read ("Прочитанные байты") и Bytes written ("Записанные байты"). Количество байтов, прочитанных или записанных с начала выполнения задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-152">Bytes read/written: Bytes that have been read/written since the job started running.</span></span>
    * <span data-ttu-id="8f117-153">Total vertices ("Общее количество вершин"). Задание разбивается на множество рабочих частей, каждая из которых называется вершиной.</span><span class="sxs-lookup"><span data-stu-id="8f117-153">Total vertices: The job is broken up into many pieces of work, each piece of work is called a vertex.</span></span> <span data-ttu-id="8f117-154">Это значение указывает, из скольких рабочих частей состоит задание.</span><span class="sxs-lookup"><span data-stu-id="8f117-154">This value describes how many pieces of work the job consists of.</span></span> <span data-ttu-id="8f117-155">Вершину можно рассматривать как основную единицу обработки, или единицу Azure Data Lake Analytics. Вершины могут выполняться параллельно.</span><span class="sxs-lookup"><span data-stu-id="8f117-155">You can consider a vertex as a basic process unit, aka Azure Data Lake Analytics Unit (ADLAU), and vertices can be run in parallelism.</span></span> 
    * <span data-ttu-id="8f117-156">"Завершено", "Выполняется", "Сбой". Количество завершенных, выполняемых вершин и вершин со сбоем.</span><span class="sxs-lookup"><span data-stu-id="8f117-156">Completed/Running/Failed: The count of completed/running/failed vertices.</span></span> <span data-ttu-id="8f117-157">Сбой вершины может происходить из-за ошибки в коде пользователя и системе, но через некоторое время система автоматически выполняет повторную попытку выполнить такие вершины.</span><span class="sxs-lookup"><span data-stu-id="8f117-157">Vertices can fail due to both user code and system failures, but the system retries failed vertices automatically a few times.</span></span> <span data-ttu-id="8f117-158">Если после повторной попытки все равно произошел сбой, происходит сбой всего задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-158">If the vertex is still failed after retrying, the whole job will fail.</span></span>
* <span data-ttu-id="8f117-159">Граф задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-159">Job Graph</span></span>
  
    <span data-ttu-id="8f117-160">Скрипт U-SQL представляет логику преобразования входных данных в выходные.</span><span class="sxs-lookup"><span data-stu-id="8f117-160">A U-SQL script represents the logic of transforming input data to output data.</span></span> <span data-ttu-id="8f117-161">Скрипт компилируется и оптимизируется в виде плана физического выполнения на этапе подготовки.</span><span class="sxs-lookup"><span data-stu-id="8f117-161">The script is compiled and optimized to a physical execution plan at the Preparing phase.</span></span> <span data-ttu-id="8f117-162">На графе задания показан план физического выполнения.</span><span class="sxs-lookup"><span data-stu-id="8f117-162">Job Graph is to show the physical execution plan.</span></span>  <span data-ttu-id="8f117-163">На схеме ниже показан соответствующий процесс:</span><span class="sxs-lookup"><span data-stu-id="8f117-163">The following diagram illustrates the process:</span></span>
  
    ![Состояния этапов задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-logical-to-physical-plan.png)
  
    <span data-ttu-id="8f117-165">Задание разбивается на множество рабочих частей.</span><span class="sxs-lookup"><span data-stu-id="8f117-165">A job is broken up into many pieces of work.</span></span> <span data-ttu-id="8f117-166">Каждая рабочая часть называется вершиной.</span><span class="sxs-lookup"><span data-stu-id="8f117-166">Each piece of work is called a Vertex.</span></span> <span data-ttu-id="8f117-167">Вершины группируются в качестве супервершин (также называемых стадиями) и визуализируются в виде графа задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-167">The vertices are grouped as Super Vertex (aka stage), and visualized as Job Graph.</span></span> <span data-ttu-id="8f117-168">Зеленые таблички на графе задания представляют собой стадии.</span><span class="sxs-lookup"><span data-stu-id="8f117-168">The green stage placards in the job graph show the stages.</span></span>
  
    <span data-ttu-id="8f117-169">Каждая вершина стадии предусматривает аналогичные действия с различными частями одних и тех же данных.</span><span class="sxs-lookup"><span data-stu-id="8f117-169">Every vertex in a stage is doing the same kind of work with different pieces of the same data.</span></span> <span data-ttu-id="8f117-170">Например, если у вас есть файл данных размером 1 ТБ, а для его чтения используются сотни вершин, каждая из них обеспечивает чтение одного из блоков данных.</span><span class="sxs-lookup"><span data-stu-id="8f117-170">For example, if you have a file with one TB data, and there are hundreds of vertices reading from it, each of them is reading a chunk.</span></span> <span data-ttu-id="8f117-171">Эти вершины группируются в одну стадию и выполняют различные действия с разными частями одного файла входных данных.</span><span class="sxs-lookup"><span data-stu-id="8f117-171">Those vertices are grouped in the same stage and doing same work on different pieces of same input file.</span></span>
  
  * <span data-ttu-id="8f117-172"><a name="state-information"></a>Сведения о стадии.</span><span class="sxs-lookup"><span data-stu-id="8f117-172"><a name="state-information"></a>Stage information</span></span>
    
      <span data-ttu-id="8f117-173">В зависимости от стадии на табличках появляются цифры.</span><span class="sxs-lookup"><span data-stu-id="8f117-173">In a particular stage, some numbers are shown in the placard.</span></span>
    
      ![Стадия на графе задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-graph-stage.png)
    
    * <span data-ttu-id="8f117-175">SV1 Extract. Имя стадии, указанное согласно номеру и операционному методу.</span><span class="sxs-lookup"><span data-stu-id="8f117-175">SV1 Extract: The name of a stage, named by a number and the operation method.</span></span>
    * <span data-ttu-id="8f117-176">84 vertices ("84 вершины"). Общее число вершин на этом этапе.</span><span class="sxs-lookup"><span data-stu-id="8f117-176">84 vertices: The total count of vertices in this stage.</span></span> <span data-ttu-id="8f117-177">На рисунке видно, на сколько частей делится работа на этой стадии.</span><span class="sxs-lookup"><span data-stu-id="8f117-177">The figure indicates how many pieces of work is divided in this stage.</span></span>
    * <span data-ttu-id="8f117-178">12.90 s/vertex ("12,9 с/вершина"). Среднее время выполнения вершины для конкретной стадии.</span><span class="sxs-lookup"><span data-stu-id="8f117-178">12.90 s/vertex: The average vertex execution time for this stage.</span></span> <span data-ttu-id="8f117-179">На этом рисунке показаны данные, вычисленные на основе суммы (времени выполнения каждой вершины), разделенной на общее число вершин.</span><span class="sxs-lookup"><span data-stu-id="8f117-179">This figure is calculated by SUM (every vertex execution time) / (total Vertex count).</span></span> <span data-ttu-id="8f117-180">Это значит, что если назначено параллельное выполнение всех вершин, вся стадия завершится за 12,9 с.</span><span class="sxs-lookup"><span data-stu-id="8f117-180">Which means if you could assign all the vertices executed in parallelism, the whole stage is completed in 12.90 s.</span></span> <span data-ttu-id="8f117-181">Это также значит, что если всю работу на этом этапе выполнять последовательно, время можно рассчитать, умножив количество вершин на среднее время.</span><span class="sxs-lookup"><span data-stu-id="8f117-181">It also means if all the work in this stage is done serially, the cost would be #vertices * AVG time.</span></span>
    * <span data-ttu-id="8f117-182">850,895 rows written ("Записаны 850 895 строк"). Общее число строк, записанных на этой стадии.</span><span class="sxs-lookup"><span data-stu-id="8f117-182">850,895 rows written: Total row count written in this stage.</span></span>
    * <span data-ttu-id="8f117-183">R ("Ч") и W ("З"). Объем данных, прочитанных и записанных на этом этапе, в байтах.</span><span class="sxs-lookup"><span data-stu-id="8f117-183">R/W: Amount of data read/Written in this stage in bytes.</span></span>
    * <span data-ttu-id="8f117-184">Цвета. Чтобы указать состояние различных вершин используются разные цвета.</span><span class="sxs-lookup"><span data-stu-id="8f117-184">Colors: Colors are used in the stage to indicate different vertex status.</span></span>
      
      * <span data-ttu-id="8f117-185">Зеленый цвет значит, что вершина успешно выполнена.</span><span class="sxs-lookup"><span data-stu-id="8f117-185">Green indicates the vertex is succeeded.</span></span>
      * <span data-ttu-id="8f117-186">Оранжевый цвет обозначает повторную попытку выполнения вершины.</span><span class="sxs-lookup"><span data-stu-id="8f117-186">Orange indicates the vertex is retried.</span></span> <span data-ttu-id="8f117-187">Произошел сбой вершины, но автоматически предпринята повторная попытка выполнить вершину, которая успешно завершилась, как и вся стадия.</span><span class="sxs-lookup"><span data-stu-id="8f117-187">The retried vertex was failed but is retried automatically and successfully by the system, and the overall stage is completed successfully.</span></span> <span data-ttu-id="8f117-188">Если после повторной попытки произошел сбой, используется красный цвет и происходит сбой всего задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-188">If the vertex retried but still failed, the color turns red and the whole job failed.</span></span>
      * <span data-ttu-id="8f117-189">Красный цвет указывает на сбой. Это значит, что в системе выполнено несколько повторных попыток для определенной вершины, но все они завершились сбоем.</span><span class="sxs-lookup"><span data-stu-id="8f117-189">Red indicates failed, which means a certain vertex had been retried a few times by the system but still failed.</span></span> <span data-ttu-id="8f117-190">При таком сценарии происходит сбой всего задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-190">This scenario causes the whole job to fail.</span></span>
      * <span data-ttu-id="8f117-191">Синий цвет значит, что вершина выполняется.</span><span class="sxs-lookup"><span data-stu-id="8f117-191">Blue means a certain vertex is running.</span></span>
      * <span data-ttu-id="8f117-192">Белый цвет значит, что вершина пребывает в состоянии ожидания.</span><span class="sxs-lookup"><span data-stu-id="8f117-192">White indicates the vertex is Waiting.</span></span> <span data-ttu-id="8f117-193">Возможно, вершина ожидает, когда станет доступна единица Azure Data Lake Analytics, чтобы вершину можно было запланировать, или она ожидает ввода, так как ее входные данные не готовы.</span><span class="sxs-lookup"><span data-stu-id="8f117-193">The vertex may be waiting to be scheduled once an ADLAU becomes available, or it may be waiting for input since its input data might not be ready.</span></span>
      
      <span data-ttu-id="8f117-194">Дополнительные сведения о стадии можно увидеть, наведя курсор мыши на одну из стадий:</span><span class="sxs-lookup"><span data-stu-id="8f117-194">You can find more details for the stage by hovering your mouse cursor by one state:</span></span>
      
      ![Сведения о стадии на графе задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-graph-stage-details.png)
  * <span data-ttu-id="8f117-196">Вершины. Подробные сведения о вершинах, такие как их общее количество, количество завершенных вершин, вершин со сбоем, выполняемых вершин, вершин в ожидания и т. д.</span><span class="sxs-lookup"><span data-stu-id="8f117-196">Vertices: Describes the vertices details, for example, how many vertices in total, how many vertices have been completed, are they failed or still running/waiting, etc.</span></span>
  * <span data-ttu-id="8f117-197">Data read cross pod ("Данные из одного модуля, прочитанные в другом") и Data read intra pod ("Данные прочитанные в пределах модуля"). Файлы и данные, хранящиеся в нескольких модулях в распределенной файловой системе.</span><span class="sxs-lookup"><span data-stu-id="8f117-197">Data read cross/intra pod: Files and data are stored in multiple pods in distributed file system.</span></span> <span data-ttu-id="8f117-198">Эти значения обозначают объем данных, прочитанных в одном модуле и межу модулями.</span><span class="sxs-lookup"><span data-stu-id="8f117-198">The value here describes how much data has been read in the same pod or cross pod.</span></span>
  * <span data-ttu-id="8f117-199">Total Compute Time ("Общее время вычислений"). Сумма количества времени, затраченного на выполнение каждой вершины на стадии. Его можно учитывать как время выполнения всей работы на стадии только с одной вершиной.</span><span class="sxs-lookup"><span data-stu-id="8f117-199">Total compute time: The sum of every vertex execution time in the stage, you can consider it as the time it would take if all work in the stage is executed in only one vertex.</span></span>
  * <span data-ttu-id="8f117-200">Data and rows written ("Записанные данные и строки") и Data and rows read ("Прочтенные данные и строки"). Указывают, сколько данных или строк прочитаны, записаны или необходимо прочитать.</span><span class="sxs-lookup"><span data-stu-id="8f117-200">Data and rows written/read: Indicates how much data or rows have been read/written, or need to be read.</span></span>
  * <span data-ttu-id="8f117-201">Vertex read failures ("Сбои чтения вершин"). Количество вершин, для которых произошел сбой при чтении данных.</span><span class="sxs-lookup"><span data-stu-id="8f117-201">Vertex read failures: Describes how many vertices are failed while read data.</span></span>
  * <span data-ttu-id="8f117-202">Vertex duplicate discards ("Отмененные повторяющиеся вершины"). Если вершина выполняется слишком медленно, система может запланировать несколько вершин для одной части работы.</span><span class="sxs-lookup"><span data-stu-id="8f117-202">Vertex duplicate discards: If a vertex runs too slow, the system may schedule multiple vertices to run the same piece of work.</span></span> <span data-ttu-id="8f117-203">После успешного выполнения одной вершины избыточные будут отменены.</span><span class="sxs-lookup"><span data-stu-id="8f117-203">Reductant vertices will be discarded once one of the vertices complete successfully.</span></span> <span data-ttu-id="8f117-204">Счетчик отмены повторяющихся вершин записывает число вершин, удаленных из-за повторения на стадии.</span><span class="sxs-lookup"><span data-stu-id="8f117-204">Vertex duplicate discards records the number of vertices that are discarded as duplications in the stage.</span></span>
  * <span data-ttu-id="8f117-205">Vertex revocations ("Отзывы вершин"). Количество вершин, выполненных успешно, но по некоторым причинам запущенных повторно.</span><span class="sxs-lookup"><span data-stu-id="8f117-205">Vertex revocations: The vertex was succeeded, but get rerun later due to some reasons.</span></span> <span data-ttu-id="8f117-206">Например, если подчиненная вершина утратит промежуточные входные данные, будет предложено снова запустить вышестоящую вершину.</span><span class="sxs-lookup"><span data-stu-id="8f117-206">For example, if downstream vertex loses intermediate input data, it will ask the upstream vertex to rerun.</span></span>
  * <span data-ttu-id="8f117-207">Выполненные расписания вершин. Общее время запланированных вершин.</span><span class="sxs-lookup"><span data-stu-id="8f117-207">Vertex schedule executions: The total time that the vertices have been scheduled.</span></span>
  * <span data-ttu-id="8f117-208">Min Vertex data read ("Минимальный объем прочтенных данных"), Average Vertex data read ("Средний объем прочтенных данных"), Max Vertex data read ("Максимальный объем прочтенных данных"). Минимальный, средний и максимальный объем прочтенных данных каждой вершины.</span><span class="sxs-lookup"><span data-stu-id="8f117-208">Min/Average/Max Vertex data read: The minimum/average/maximum of every vertex read data.</span></span>
  * <span data-ttu-id="8f117-209">Длительность. Время, необходимое для выполнения стадии, по часам. Чтобы просмотреть это значение, необходимо загрузить профиль.</span><span class="sxs-lookup"><span data-stu-id="8f117-209">Duration: The wall clock time a stage takes, you need to load profile to see this value.</span></span>
  * <span data-ttu-id="8f117-210">Воспроизведение задания</span><span class="sxs-lookup"><span data-stu-id="8f117-210">Job Playback</span></span>
    
      <span data-ttu-id="8f117-211">Data Lake Analytics выполняет задания и архивирует такие сведения о выполнении вершин, как время запуска, остановки, возникновения ошибки вершины, способе повторного выполнения и т. д. Все сведения автоматически записываются в журнал хранилища запросов и хранятся в профиле задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-211">Data Lake Analytics runs jobs and archives the vertices running information of the jobs, such as when the vertices are started, stopped, failed and how they are retried, etc. All of the information is automatically logged in the query store and stored in its Job Profile.</span></span> <span data-ttu-id="8f117-212">Профиль задания можно скачать, нажав кнопку Load Profile ("Загрузить профиль"), после чего можно просматривать воспроизведение задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-212">You can download the Job Profile through “Load Profile” in Job View, and you can view the Job Playback after downloading the Job Profile.</span></span>
    
      <span data-ttu-id="8f117-213">Воспроизведение задания — это уменьшенная визуализация событий, произошедших в кластере.</span><span class="sxs-lookup"><span data-stu-id="8f117-213">Job Playback is an epitome visualization of what happened in the cluster.</span></span> <span data-ttu-id="8f117-214">Она позволяет наблюдать за выполнением задания и быстро (менее чем за 30 секунд) визуально обнаруживать аномалии производительности и узкие места.</span><span class="sxs-lookup"><span data-stu-id="8f117-214">It helps you watch job execution progress and visually detect out performance anomalies and bottlenecks in a very short time (less than 30s usually).</span></span>
  * <span data-ttu-id="8f117-215">Отображение тепловой карты задания</span><span class="sxs-lookup"><span data-stu-id="8f117-215">Job Heat Map Display</span></span> 
    
      <span data-ttu-id="8f117-216">Тепловую карту задания можно выбрать в раскрывающемся меню Display ("Отображение") на графе задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-216">Job Heat Map can be selected through the Display dropdown in Job Graph.</span></span> 
    
      ![Отображение тепловой карты для графа задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-graph-heat-map-display.png)
    
      <span data-ttu-id="8f117-218">Здесь показываются данные о вводе-выводе, тепловая карта времени и пропускной способности задания, на основе которой можно определить, какая часть занимает больше времени и есть ли в задании ограничение ввода-вывода и т. д.</span><span class="sxs-lookup"><span data-stu-id="8f117-218">It shows the I/O, time and throughput heat map of a job, through which you can find where the job spends most of the time, or whether your job is an I/O boundary job, and so on.</span></span>
    
      ![Пример тепловой карты для графа задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-graph-heat-map-example.png)
    
    * <span data-ttu-id="8f117-220">Ход выполнения. Выполнение задания, дополнительные сведения см. в информации [стадии](#stage-information).</span><span class="sxs-lookup"><span data-stu-id="8f117-220">Progress: The job execution progress, see Information in [stage information](#stage-information).</span></span>
    * <span data-ttu-id="8f117-221">Data read ("Прочитанные данные"), Data written ("Записанные данные"). Тепловая карта общего объема данных, записанных или прочитанных на каждой стадии.</span><span class="sxs-lookup"><span data-stu-id="8f117-221">Data read/written: The heat map of total data read/written in each stage.</span></span>
    * <span data-ttu-id="8f117-222">Compute time ("Время вычислений"). Тепловая карта суммы (времени выполнения каждой вершины). Ее можно рассматривать как время, которое займет вся работа на стадии, выполняемая только с одной вершиной.</span><span class="sxs-lookup"><span data-stu-id="8f117-222">Compute time: The heat map of SUM (every vertex execution time), you can consider this as how long it would take if all work in the stage is executed with only 1 vertex.</span></span>
    * <span data-ttu-id="8f117-223">Average execution time per node ("Среднее время выполнения для каждого узла"). Тепловая карта суммы (времени выполнения каждой вершины), разделенной на число вершин.</span><span class="sxs-lookup"><span data-stu-id="8f117-223">Average execution time per node: The heat map of SUM (every vertex execution time) / (Vertex Number).</span></span> <span data-ttu-id="8f117-224">Это значит, что если назначено параллельное выполнение всех вершин, вся стадия будет выполнена за этот промежуток времени.</span><span class="sxs-lookup"><span data-stu-id="8f117-224">Which means if you could assign all the vertices executed in parallelism, the whole stage will be done in this time frame.</span></span>
    * <span data-ttu-id="8f117-225">Input throughput ("Пропускная способность ввода") и Output throughput ("Пропускная способность вывода"). Тепловая карта пропускной способности ввода и вывода каждой стадии. Она позволяет узнать, есть ли в задании ограничение ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="8f117-225">Input/Output throughput: The heat map of input/output throughput of each stage, you can confirm if your job is an I/O bound job through this.</span></span>
* <span data-ttu-id="8f117-226">Metadata Operations ("Операции с метаданными").</span><span class="sxs-lookup"><span data-stu-id="8f117-226">Metadata Operations</span></span>
  
    <span data-ttu-id="8f117-227">Вы можете выполнять в скрипте U-SQL некоторые операции с метаданными, такие как создание базы данных, удаление таблицы и т. д. Эти операции отображаются на вкладке Metadata Operation ("Операции с метаданными") после компиляции.</span><span class="sxs-lookup"><span data-stu-id="8f117-227">You can perform some metadata operations in your U-SQL script, such as create a database, drop a table, etc. These operations are shown in Metadata Operation after compilation.</span></span> <span data-ttu-id="8f117-228">Здесь можно искать утверждения, создавать сущности, а также перетаскивать сущности сюда.</span><span class="sxs-lookup"><span data-stu-id="8f117-228">You may find assertions, create entities, drop entities here.</span></span>
  
    ![Операции с метаданными в представлении задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-view-metadata-operations.png)
* <span data-ttu-id="8f117-230">State History ("Журнал состояний").</span><span class="sxs-lookup"><span data-stu-id="8f117-230">State History</span></span>
  
    <span data-ttu-id="8f117-231">На панели "Сводка по заданию" также отображается вкладка State History ("Журнал состояний"). Здесь можно получить дополнительные сведения,</span><span class="sxs-lookup"><span data-stu-id="8f117-231">The State History is also visualized in Job Summary, but you can get more details here.</span></span> <span data-ttu-id="8f117-232">такие как время подготовки задания, его постановки в очередь, запуска и завершения.</span><span class="sxs-lookup"><span data-stu-id="8f117-232">You can find the detailed information such as when the job is prepared, queued, started running, ended.</span></span> <span data-ttu-id="8f117-233">Здесь также можно узнать, сколько раз скомпилировано задание (CcsAttempts:1) и когда оно фактически отправлено в кластер (Detail: Dispatching job to cluster) и т. д.</span><span class="sxs-lookup"><span data-stu-id="8f117-233">Also you can find how many times the job has been compiled (the CcsAttempts: 1), when is the job dispatched to the cluster actually (the Detail: Dispatching job to cluster), etc.</span></span>
  
    ![Журнал состояний в представлении задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-view-state-history.png)
* <span data-ttu-id="8f117-235">Диагностика</span><span class="sxs-lookup"><span data-stu-id="8f117-235">Diagnostics</span></span>
  
    <span data-ttu-id="8f117-236">Это средство автоматически диагностирует выполнение задания.</span><span class="sxs-lookup"><span data-stu-id="8f117-236">The tool diagnoses job execution automatically.</span></span> <span data-ttu-id="8f117-237">При возникновении ошибок или проблем с производительностью в ваших заданиях будут выводиться предупреждения.</span><span class="sxs-lookup"><span data-stu-id="8f117-237">You will receive alerts when there are some errors or performance issues in your jobs.</span></span> <span data-ttu-id="8f117-238">Обратите внимание, что необходимо загрузить профиль, чтобы здесь можно было получить полную информацию.</span><span class="sxs-lookup"><span data-stu-id="8f117-238">Please note that you need to download Profile to get full information here.</span></span> 
  
    ![Диагностика в представлении задания Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-view-diagnostics.png)
  
  * <span data-ttu-id="8f117-240">Warnings ("Предупреждения"). Здесь отображаются оповещения с предупреждениями компилятора.</span><span class="sxs-lookup"><span data-stu-id="8f117-240">Warnings: An alert shows up here with compiler warning.</span></span> <span data-ttu-id="8f117-241">После появления оповещения можно щелкнуть ссылку x issue(s) ("Проблемы: x"), чтобы получить дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="8f117-241">You can click “x issue(s)” link to have more details once the alert appears.</span></span>
  * <span data-ttu-id="8f117-242">Vertex run too long ("Вершины выполняются слишком долго"). Если для одной из них не хватает времени (к примеру, вершина выполняется 5 часов), эта проблема будет отображаться здесь.</span><span class="sxs-lookup"><span data-stu-id="8f117-242">Vertex run too long: If any vertex runs out of time (say 5 hours), issues will be found here.</span></span>
  * <span data-ttu-id="8f117-243">Resource usage ("Использование ресурсов"). Если для параметра "Параллелизм" установлено значение меньше или больше, чем необходимое, эта проблема будет указана здесь.</span><span class="sxs-lookup"><span data-stu-id="8f117-243">Resource usage: If you allocated more or not enough Parallelism than need, issues will be found here.</span></span> <span data-ttu-id="8f117-244">Вы также можете щелкнуть ссылку Resource usage ("Использование ресурсов"), чтобы получить дополнительные сведения и выполнить гипотетические сценарии для определения более эффективного выделения ресурсов (дополнительные сведения см. в этом руководстве).</span><span class="sxs-lookup"><span data-stu-id="8f117-244">Also you can click Resource usage to see more details and perform what-if scenarios to find a better resource allocation (for more details, see this guide).</span></span>
  * <span data-ttu-id="8f117-245">Memory check ("Проверка памяти"). Если какая-либо вершина использует более 5 ГБ памяти, эта проблема будет отображаться здесь.</span><span class="sxs-lookup"><span data-stu-id="8f117-245">Memory check: If any vertex uses more than 5 GB of memory, issues will be found here.</span></span> <span data-ttu-id="8f117-246">Система может завершить выполнение задания, если используется больше памяти, чем предусмотрено в системном ограничении.</span><span class="sxs-lookup"><span data-stu-id="8f117-246">Job execution may get killed by system if it uses more memory than system limitation.</span></span>

## <a name="job-detail"></a><span data-ttu-id="8f117-247">Job Detail ("Сведения о задании").</span><span class="sxs-lookup"><span data-stu-id="8f117-247">Job Detail</span></span>
<span data-ttu-id="8f117-248">В разделе сведений о задании отображаются подробные данные о задании, в том числе скрипт, ресурсы и представление выполнения вершин.</span><span class="sxs-lookup"><span data-stu-id="8f117-248">Job Detail shows the detailed information of the job, including Script, Resources and Vertex Execution View.</span></span>

![Сведения о задании в Azure Data Lake Analytics](./media/data-lake-analytics-data-lake-tools-view-jobs/data-lake-tools-job-details.png)

* <span data-ttu-id="8f117-250">Скрипт</span><span class="sxs-lookup"><span data-stu-id="8f117-250">Script</span></span>
  
    <span data-ttu-id="8f117-251">Скрипт U-SQL задания, содержащийся в хранилище запросов.</span><span class="sxs-lookup"><span data-stu-id="8f117-251">The U-SQL script of the job is stored in the query store.</span></span> <span data-ttu-id="8f117-252">При необходимости вы можете просматривать исходный скрипт U-SQL и отправлять его повторно.</span><span class="sxs-lookup"><span data-stu-id="8f117-252">You can view the original U-SQL script and re-submit it if needed.</span></span>
* <span data-ttu-id="8f117-253">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="8f117-253">Resources</span></span>
  
    <span data-ttu-id="8f117-254">Выходные данные компиляции задания, содержащиеся в хранилище запросов в разделе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="8f117-254">You can find the job compilation outputs stored in the query store through Resources.</span></span> <span data-ttu-id="8f117-255">Например, здесь вы можете найти файл algebra.xml, который используется для отображения графа задания, зарегистрированных сборок и т. п.</span><span class="sxs-lookup"><span data-stu-id="8f117-255">For instance, you can find “algebra.xml” which is used to show the Job Graph, the assemblies you registered, etc. here.</span></span>
* <span data-ttu-id="8f117-256">Представление выполнения вершин.</span><span class="sxs-lookup"><span data-stu-id="8f117-256">Vertex execution view</span></span>
  
    <span data-ttu-id="8f117-257">Здесь показываются сведения о выполнении вершин.</span><span class="sxs-lookup"><span data-stu-id="8f117-257">It shows vertices execution details.</span></span> <span data-ttu-id="8f117-258">Профиль заданий архивирует каждую запись журнала выполнения вершин, такую как общее количество записанных или прочитанных данных, данные о среде выполнения, состоянии и т. п. В этом представлении можно получить дополнительные сведения о том, как запущено задание.</span><span class="sxs-lookup"><span data-stu-id="8f117-258">The Job Profile archives every vertex execution log, such as total data read/written, runtime, state, etc. Through this view, you can get more details on how a job ran.</span></span> <span data-ttu-id="8f117-259">Дополнительные сведения см. в статье[Использование представления выполнения вершин в инструментах Data Lake для Visual Studio](data-lake-analytics-data-lake-tools-use-vertex-execution-view.md).</span><span class="sxs-lookup"><span data-stu-id="8f117-259">For more information, see [Use the Vertex Execution View in Data Lake Tools for Visual Studio](data-lake-analytics-data-lake-tools-use-vertex-execution-view.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="8f117-260">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="8f117-260">Next Steps</span></span>
* <span data-ttu-id="8f117-261">Сведения о том, как записывать диагностические данные в журнал, см. в статье [Доступ к журналам диагностики для Azure Data Lake Analytics](data-lake-analytics-diagnostic-logs.md).</span><span class="sxs-lookup"><span data-stu-id="8f117-261">To log diagnostics information, see [Accessing diagnostics logs for Azure Data Lake Analytics](data-lake-analytics-diagnostic-logs.md)</span></span>
* <span data-ttu-id="8f117-262">Более сложный запрос можно посмотреть в статье [Анализ журналов веб-сайта с помощью аналитики озера данных Azure](data-lake-analytics-analyze-weblogs.md).</span><span class="sxs-lookup"><span data-stu-id="8f117-262">To see a more complex query, see [Analyze Website logs using Azure Data Lake Analytics](data-lake-analytics-analyze-weblogs.md).</span></span>
* <span data-ttu-id="8f117-263">Дополнительные сведения см. в статье [Использование представления выполнения вершин в инструментах Data Lake для Visual Studio](data-lake-analytics-data-lake-tools-use-vertex-execution-view.md).</span><span class="sxs-lookup"><span data-stu-id="8f117-263">To use vertex execution view, see [Use the Vertex Execution View in Data Lake Tools for Visual Studio](data-lake-analytics-data-lake-tools-use-vertex-execution-view.md)</span></span>

