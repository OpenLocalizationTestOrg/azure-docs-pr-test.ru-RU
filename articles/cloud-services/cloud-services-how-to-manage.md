---
title: "задачи управления облачной службы aaaCommon (классические) | Документы Microsoft"
description: "Узнайте, как toomanage облачных служб в hello классический портал Azure."
services: cloud-services
documentationcenter: 
author: Thraka
manager: timlt
editor: 
ms.assetid: 41a30e50-067c-485b-96fd-434a6d057abc
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/18/2017
ms.author: adegeo
ms.openlocfilehash: 03b1d632f1480d0f65c87b7f8ffc747417acf7b5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-toomanage-cloud-services"></a>Как tooManage облачных служб
> [!div class="op_single_selector"]
> * [Портал Azure](cloud-services-how-to-manage-portal.md)
> * [классическом портале Azure](cloud-services-how-to-manage.md)
>
>

В hello **облачные службы** области hello Azure классического портала, можно обновить роли службы или развертывание, повышение уровня tooproduction промежуточное развертывание, связать ресурсы tooyour облачной службы, чтобы вы могли видеть hello ресурсов зависимости и масштаб hello ресурсы вместе и удалите облачной службы или типа развертывания.

## <a name="how-to-update-a-cloud-service-role-or-deployment"></a>Практическое руководство. Обновление роли облачной службы или развертывания
Код приложения hello tooupdate для облачной службы, используйте **обновление** на мониторинга hello **облачные службы** страницы, или **экземпляров** страницы. Одновременно можно обновить как одну, так и все роли. Вам потребуется tooupload новый пакет службы и файла конфигурации службы.

1. В hello [классический портал Azure](https://manage.windowsazure.com/), на панели мониторинга hello, **облачные службы** страницы, или **экземпляров** щелкните **обновление**.

    ![Обновление развертывания](./media/cloud-services-how-to-manage/CloudServices_UpdateDeployment.png)

2. В **метка развертывания**, введите имя tooidentify hello развертывания (например, mycloudservice4). Вы найдете метка развертывания hello под **быстрого запуска** на панели мониторинга hello.
3. В **пакета**, используйте **Обзор** файл пакета службы tooupload hello (cspkg-файл).
4. В **конфигурации**, используйте **Обзор** hello tooupload для файла конфигурации службы (csfg).
5. В **роли**выберите **все** Если tooupgrade всем ролям в hello облачной службы. Обновить tooperform одной роли, выберите hello роль tooupdate. Даже если выбран tooupdate определенной роли, hello обновления в файле конфигурации службы hello являются примененных tooall ролями.
6. Если изменения hello hello число ролей или размер hello какой-либо роли, выберите hello **разрешить обновления, если размер или количество ролей изменяется** tooproceed обновление hello tooenable флажок.

    Имейте в виду при изменении размера hello роли (то есть hello размер виртуальной машины, на котором размещается экземпляр роли) или hello число ролей, каждый экземпляр роли (виртуальная машина) должен быть образа, что все локальные данные будут потеряны.

7. Если все службы роли имеет только один экземпляр роли, выберите hello **обновление, даже если один или несколько ролей содержат один экземпляр флажок** обновления tooproceed tooenable hello.

    Служба Azure гарантирует доступность облачной службы в течение 99,95 % времени, только если для каждой роли определены как минимум два экземпляра (виртуальные машины). Которая позволяет одной виртуальной машины tooprocess клиентские запросы других hello в процессе обновления.

8. Нажмите кнопку **ОК** обновление службы hello toobegin (флажок).

## <a name="how-to-swap-deployments-toopromote-a-staged-deployment-tooproduction"></a>Как: замены развертываний toopromote tooproduction поэтапного развертывания
Используйте **замены** toopromote промежуточного развертывания облачной службы tooproduction. При выборе toodeploy новый выпуск облачной службы можно организовать и протестировать нового выпуска в облачной среде размещения службы, пока пользователи работают с текущего выпуска hello в рабочей среде. Когда вы будете готовы toopromote hello tooproduction нового выпуска, можно использовать **замены** hello tooswitch URL-адреса, по которой hello двух развертываний.

Можно менять развертываний hello **облачные службы** страницы или hello панели мониторинга.

1. В hello [классический портал Azure](https://manage.windowsazure.com/), нажмите кнопку **облачные службы**.
2. В списке hello облачных служб выберите hello облачной службы tooselect его.
3. Щелкните **Переключить**.

    Hello следующий запрос подтверждения открывается.

    ![Переключение облачных служб](./media/cloud-services-how-to-manage/CloudServices_Swap.png)

4. После проверки информации о hello развертывания, нажмите кнопку **Да** tooswap hello развертываний.

    Hello переключения развертывания происходит быстро, так как hello единственное, что изменения — hello виртуальных IP-адресов (VIP) для развертываний hello.

    toosave расходы, можно удалить hello развертывания в промежуточной среде, если вы уверены, что новое рабочее развертывание hello так, как ожидается hello.

### <a name="common-questions-about-swapping-deployments"></a>Часто задаваемые вопросы о переключении развертываний

**Что такое hello необходимые условия для замены развертываний**

Существует два ключевых требования для успешного переключения развертываний.

- Если вы хотите toouse статический IP-адрес для вашего производственный слот, необходимо зарезервировать для промежуточного слота также. В противном случае не удастся hello swap.

- Все экземпляры роли должна быть запущена перед выполнением переключения hello. Можно проверить состояние hello ваших экземпляров в hello классический портал Azure или с помощью [hello в Windows PowerShell команду Get-AzureRole](/powershell/module/azure/get-azurerole?view=azuresmps-3.7.0).

Обратите внимание, что обновления гостевой ОС и восстановления операции службы могут также вызывать развертывания меняет toofail. Дополнительные сведения см. в статье [Устранение неполадок, которые могут возникнуть при развертывании облачной службы](cloud-services-troubleshoot-deployment-problems.md).

**Увеличивают ли переключения время простоя приложения? Что делать в этом случае?**

Как описано в последнем разделе hello, то переключения развертывания обычно происходит очень быстро, так как она является только изменение конфигурации в подсистеме балансировки нагрузки Azure hello. В некоторых случаях, однако, это может занять около десяти секунд и привести к временному сбою подключения. toolimit влияние tooyour клиентов, рассмотрите возможность реализации [логику повторных попыток клиента](../best-practices-retry-general.md).

## <a name="how-to-link-a-resource-tooa-cloud-service"></a>Как: связать tooa ресурсов облачной службы
tooshow зависимости облачной службы на другие ресурсы, можно связать экземпляр базы данных SQL Azure или облачная служба toohello учетной записи хранилища. Можно связать и отмены связи с ресурсами на hello **связанные ресурсы** страницы, а затем отслеживать их использование в панель мониторинга hello облачной службы. Если мониторинг включен связанной учетной записи хранения, вы можете отслеживать общее количество запросов на панель мониторинга hello облачной службы.

Используйте **ссылку** toolink новой или существующей базы данных SQL экземпляр или хранилища учетной записи tooyour облачной службы. Затем можно масштабировать базы данных hello вместе с hello роль облачной службы, использующей ее на hello **шкалы** страницы. В этом случае учетные записи хранения масштабируются автоматически по мере увеличения объемов использования. Дополнительные сведения см. в разделе [как tooScale облачной службы и связанных ресурсов](cloud-services-how-to-scale.md).

Также можно отслеживать, управление и масштабирование базы данных hello hello **баз данных** узел hello классический портал Azure.

«Привязка» ресурса в этом смысле не подключает ресурс toohello приложения. При создании новой базы данных с помощью **ссылку**, вам понадобятся код приложения tooyour строки подключения tooadd hello и затем обновления hello облачной службы. Кроме того, потребуется tooadd строки подключения Если ваше приложение использует ресурсы в связанной учетной записи хранения.

После процедуры Hello описывает, как toolink новый экземпляр базы данных SQL, развернуть на новом сервере базы данных SQL, tooa облачной службы.

### <a name="toolink-a-sql-database-instance-tooa-cloud-service"></a>toolink облачной службы tooa экземпляр базы данных SQL
1. В hello [классический портал Azure](http://manage.windowsazure.com/), нажмите кнопку **облачные службы**. Затем щелкните имя hello панель мониторинга hello tooopen hello облачной службы.
2. Щелкните **Связанные ресурсы**.

    Hello **связанные ресурсы** откроется страница.

    ![Страница «Связанные ресурсы»](./media/cloud-services-how-to-manage/CloudServices_LinkedResourcesPage.png)

3. Щелкните **Привязать ресурс** или **Связать**.

    Hello **привязка ресурса** будет запущен мастер.

    ![Мастер привязки ресурсов, страница 1](./media/cloud-services-how-to-manage/CloudServices_LinkedResources_LinkPage1.png)

4. Щелкните **Создать новый ресурс** или **Привязать существующий ресурс**.
5. Выберите тип ресурса toolink hello. В hello [классический портал Azure](http://manage.windowsazure.com/), нажмите кнопку **базы данных SQL**. (Только hello классический портал Azure поддерживает связывание облачной службы tooa учетной записи хранилища.)
6. Конфигурация базы данных hello toocomplete, следуйте инструкциям в справке для hello **баз данных SQL** области hello классический портал Azure.

    Можно отслеживать ход hello hello в области сообщений hello для операции связывания.

    После связывания можно отслеживать состояние hello hello связанного ресурса на панель мониторинга hello облачной службы. Сведения о масштабировании связанной базы данных SQL см. в разделе [как tooScale облачной службы и связанных ресурсов](cloud-services-how-to-scale.md).

### <a name="toounlink-a-linked-resource"></a>toounlink связанного ресурса
1. В hello [классический портал Azure](http://manage.windowsazure.com/), нажмите кнопку **облачные службы**. Затем щелкните имя hello панель мониторинга hello tooopen hello облачной службы.
2. Нажмите кнопку **связанные ресурсы**, а затем выберите ресурс hello.
3. Щелкните **Отменить привязку**. Нажмите кнопку **Да** в hello подтверждения.

    Отмена связи базы данных SQL не оказывает влияния в базе данных hello или приложения hello toohello подключений. Вы можете управлять hello базы данных в hello **баз данных SQL** области hello классический портал Azure.

## <a name="how-to-delete-deployments-and-a-cloud-service"></a>Практическое руководство. Удаление развертываний и облачной службы
До удаления облачной службы необходимо удалить все текущие развертывания.

toosave расходы, можно удалить промежуточного развертывания, когда вы убедитесь, что рабочее развертывание работает надлежащим образом. Обратите внимание, что плата за вычислительные ресурсы для экземпляра роли взимается даже в том случае, если облачная служба не выполняется.

Используйте следующие процедуры toodelete hello развертывания или облачной службы.

1. В hello [классический портал Azure](http://manage.windowsazure.com/), нажмите кнопку **облачные службы**.
2. Выберите облачную службу hello и нажмите кнопку **удалить**. (tooselect облачной службы, не открывая hello панели мониторинга, щелкните в любом за исключением имени hello в hello облачной службы записи.)

    При наличии развертывания в промежуточной или рабочей среде, появится меню вариантов аналогичные toohello одном hello нижней части окна hello. Перед удалением hello облачной службы, необходимо удалить любые существующие развертывания.

    ![Меню удаления](./media/cloud-services-how-to-manage/CloudServices_DeleteMenu.png)

3. Нажмите кнопку развертывания, toodelete **удалить рабочее развертывание** или **удалить промежуточное развертывание**. Щелкните в hello подтверждения **Да**.
4. Если планируется toodelete hello облачной службы, повторите шаг 3, при необходимости, toodelete другие развертывания.
5. toodelete hello облачной службы, нажмите кнопку **удаления облачной службы**. Щелкните в hello подтверждения **Да**.

> [!NOTE]
> Если подробный мониторинг настроена для облачной службы, Azure не удаляет hello, наблюдение за данными из вашей учетной записи хранилища, при удалении hello облачной службы. Необходимо будет toodelete hello данных вручную. Сведения о которой toofind hello таблицах метрик. в разделе «как: доступ к данным подробного мониторинга за пределами hello классический портал Azure» в [как tooMonitor облачных служб](cloud-services-how-to-monitor.md).
>
>

## <a name="next-steps"></a>Дальнейшие действия
* [Общая настройка облачной службы](cloud-services-how-to-configure.md).
* Узнайте, каким образом слишком[развертывание облачной службы](cloud-services-how-to-create-deploy.md).
* Настройте [пользовательское доменное имя](cloud-services-custom-domain-name.md).
* Настройка [SSL-сертификатов](cloud-services-configure-ssl-certificate.md).
