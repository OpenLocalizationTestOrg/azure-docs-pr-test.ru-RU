---
title: "Схема NetworkConfiguration для облачных служб Azure | Документация Майкрософт"
ms.custom: 
ms.date: 12/07/2016
ms.prod: azure
ms.reviewer: 
ms.service: cloud-services
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: reference
ms.assetid: c1b94a9e-46e8-4a18-ac99-343c94b1d4bd
caps.latest.revision: "28"
author: thraka
ms.author: adegeo
manager: timlt
ms.openlocfilehash: 2438876e210363e9918e700397d4181990a3983f
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="azure-cloud-services-config-networkconfiguration-schema"></a>Схема элемента конфигурации NetworkConfiguration для облачных служб Azure

Элемент `NetworkConfiguration` в файле конфигурации службы задает параметры для виртуальной сети и DNS. Эти параметры необязательны для облачных служб.

Следующие ресурсы помогут получить дополнительные сведения о виртуальных сетях и соответствующих схемах:

- [Схема конфигурации облачных служб (классических)](schema-cscfg-file.md).
- [Схема определения облачных служб (классических)](schema-csdef-file.md).
- [Создание виртуальной сети (классической)](../virtual-network/virtual-networks-create-vnet-classic-pportal.md)

## <a name="networkconfiguration-element"></a>Элемент NetworkConfiguration
В следующем примере показан элемент `NetworkConfiguration` и его дочерние элементы:

```xml
<ServiceConfiguration>
  <NetworkConfiguration>
    <AccessControls>
      <AccessControl name="aclName1">
        <Rule order="<rule-order>" action="<rule-action>" remoteSubnet="<subnet-address>" description="rule-description"/>
      </AccessControl>
    </AccessControls>
    <EndpointAcls>
      <EndpointAcl role="<role-name>" endpoint="<endpoint-name>" accessControl="<acl-name>"/>
    </EndpointAcls>
    <Dns>
      <DnsServers>
        <DnsServer name="<server-name>" IPAddress="<server-address>" />
      </DnsServers>
    </Dns>
    <VirtualNetworkSite name="<site-name>"/>
    <AddressAssignments>
      <InstanceAddress roleName="<role-name>">
        <Subnets>
          <Subnet name="<subnet-name>"/>
        </Subnets>
      </InstanceAddress>
      <ReservedIPs>
        <ReservedIP name="<reserved-ip-name>"/>
      </ReservedIPs>
    </AddressAssignments>
  </NetworkConfiguration>
</ServiceConfiguration>
```

В таблице ниже описаны дочерние элементы элемента `NetworkConfiguration`.

| Элемент       | Описание |
| ------------- | ----------- |
| AccessControl | необязательный параметр. Указывает правила доступа к конечным точкам в облачной службе. Имя элемента управления доступом определяется строковым значением атрибута `name`. Элемент `AccessControl` содержит один или несколько элементов `Rule`. Можно определить несколько элементов `AccessControl`.|
| правило; | необязательный параметр. Указывает действие, которое следует выполнять для заданного диапазона IP-адресов подсети. Порядок правил определяется строковым значением атрибута `order`. Чем меньше число, тем выше приоритет. Например, можно задать правила с порядковыми номерами 100, 200 и 300. Правило с номером 100 будет проверяться раньше, чем правило с номером 200.<br /><br /> Действие, выполняемое правилом, определяется строковым значением атрибута `action`. Возможные значения:<br /><br /> -   `permit`. Означает, что взаимодействовать с конечной точкой могут только пакеты из указанного диапазона подсети.<br />-   `deny`. Указывает, что для конечных точек в заданном диапазоне подсети доступ запрещен.<br /><br /> Диапазон IP-адресов подсети, к которым применяется правило, определяется строковым значением атрибута `remoteSubnet`. Описание правила определяется строковым значением атрибута `description`.|
| EndpointAcl | необязательный параметр. Определяет назначение правил управления доступом для конечной точки. Имя роли, которая содержит нужную конечную точку, определяется строковым значением атрибута `role`. Имя конечной точки определяется строковым значением атрибута `endpoint`. Имя набора правил `AccessControl`, которые следует применить к этой конечной точке, определяется строковым значением атрибута `accessControl`. Можно определить несколько элементов `EndpointAcl`.|
| DnsServer | необязательный параметр. Задает параметры для DNS-сервера. Вы можете указать параметры для DNS-сервера без виртуальной сети. Имя DNS-сервера определяется строковым значением атрибута `name`. IP-адрес DNS-сервера определяется строковым значением атрибута `IPAddress`. IP-адрес должен быть допустимым IPv4-адресом.|
| VirtualNetworkSite | необязательный параметр. Указывает имя сайта виртуальной сети, в котором нужно развернуть облачную службу. Этот параметр не инициирует создание сайта виртуальной сети. Он ссылается на сайт, который ранее был определен в файле сети для виртуальной сети. Облачная служба может быть членом только одной виртуальной сети. Если этот параметр не указан, облачная служба не будет развертываться в виртуальной сети. Имя сайта виртуальной сети определяется строковым значением атрибута `name`.|
| InstanceAddress | необязательный параметр. Задает привязку роли к подсети или к набору подсетей в виртуальной сети. Если вы связываете имя роли с адресом экземпляра, можно указать подсети, с которыми следует сопоставить эту роль. Элемент `InstanceAddress` содержит элемент Subnets. Имя роли, которая связана с подсетью или набором подсетей, определяется строковым значением атрибута `roleName`.|
| Подсеть | необязательный параметр. Указывает подсеть, которая определена в файле конфигурации сети. Имя подсети определяется строковым значением атрибута `name`.|
| ReservedIP | необязательный параметр. Указывает зарезервированный IP-адрес, который должен быть связан с этим развертыванием. Чтобы использовать зарезервированный IP-адрес, его необходимо создать. Каждое развертывание в облачной службе можно связать с одним зарезервированным IP-адресом. Имя зарезервированного IP-адреса определяется строковым значением атрибута `name`.|

## <a name="see-also"></a>См. также
[Схема конфигурации облачных служб (классических)](schema-cscfg-file.md)