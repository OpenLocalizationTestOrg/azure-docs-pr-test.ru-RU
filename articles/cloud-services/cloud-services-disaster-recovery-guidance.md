---
title: "Что делать, если прерывание работы службы Azure влияет на облачные службы Azure | Документация Майкрософт"
description: "Узнайте, что делать, если прерывание работы службы Azure влияет на облачные службы Azure."
services: cloud-services
documentationcenter: 
author: mmccrory
manager: timlt
editor: 
ms.assetid: e52634ab-003d-4f1e-85fa-794f6cd12ce4
ms.service: cloud-services
ms.workload: cloud-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/04/2017
ms.author: mmccrory
ms.openlocfilehash: db6a980b85ea5ef8cbbba4ba5a36f9d033739df1
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="what-to-do-in-the-event-of-an-azure-service-disruption-that-impacts-azure-cloud-services"></a><span data-ttu-id="798ab-103">Что делать, если прерывание работы службы Azure влияет на облачные службы Azure</span><span class="sxs-lookup"><span data-stu-id="798ab-103">What to do in the event of an Azure service disruption that impacts Azure Cloud Services</span></span>
<span data-ttu-id="798ab-104">Корпорация Майкрософт прилагает все усилия для того, чтобы наши службы всегда были доступны.</span><span class="sxs-lookup"><span data-stu-id="798ab-104">At Microsoft, we work hard to make sure that our services are always available to you when you need them.</span></span> <span data-ttu-id="798ab-105">Иногда по независящим от нас обстоятельствам происходят незапланированные нарушения работы служб.</span><span class="sxs-lookup"><span data-stu-id="798ab-105">Forces beyond our control sometimes impact us in ways that cause unplanned service disruptions.</span></span>

<span data-ttu-id="798ab-106">Корпорация Майкрософт предоставляет соглашения об уровне обслуживания (SLA) для своих служб, в которых гарантируется их время бесперебойной работы и доступность.</span><span class="sxs-lookup"><span data-stu-id="798ab-106">Microsoft provides a Service Level Agreement (SLA) for its services as a commitment for uptime and connectivity.</span></span> <span data-ttu-id="798ab-107">Соглашения об уровне обслуживания для отдельных служб Azure можно найти в разделе [Соглашения об уровне обслуживания Azure](https://azure.microsoft.com/support/legal/sla/).</span><span class="sxs-lookup"><span data-stu-id="798ab-107">The SLA for individual Azure services can be found at [Azure Service Level Agreements](https://azure.microsoft.com/support/legal/sla/).</span></span>

<span data-ttu-id="798ab-108">В платформе Azure уже имеется множество встроенных возможностей для поддержки высокодоступных приложений.</span><span class="sxs-lookup"><span data-stu-id="798ab-108">Azure already has many built-in platform features that support highly available applications.</span></span> <span data-ttu-id="798ab-109">Дополнительные сведения об этих службах см. в статье [Аварийное восстановление и высокая доступность для приложений на платформе Azure](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md).</span><span class="sxs-lookup"><span data-stu-id="798ab-109">For more about these services, read [Disaster recovery and high availability for Azure applications](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md).</span></span>

<span data-ttu-id="798ab-110">В этой статье описывается действительный сценарий аварийного восстановления, при котором из-за масштабного стихийного бедствия или обширного прерывания работы службы весь регион оказывается подвержен сбою.</span><span class="sxs-lookup"><span data-stu-id="798ab-110">This article covers a true disaster recovery scenario, when a whole region experiences an outage due to major natural disaster or widespread service interruption.</span></span> <span data-ttu-id="798ab-111">Такие события происходят нечасто, но необходимо быть готовыми к тому, что сбой всего региона возможен.</span><span class="sxs-lookup"><span data-stu-id="798ab-111">These are rare occurrences, but you must prepare for the possibility that there is an outage of an entire region.</span></span> <span data-ttu-id="798ab-112">Если весь регион испытывает перебои в работе службы, то локально избыточные копии ваших данных становятся временно недоступными.</span><span class="sxs-lookup"><span data-stu-id="798ab-112">If an entire region experiences a service disruption, the locally redundant copies of your data would temporarily be unavailable.</span></span> <span data-ttu-id="798ab-113">Если включена георепликация, то в другом регионе будут храниться три дополнительные копии больших двоичных объектов и таблиц службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="798ab-113">If you have enabled geo-replication, three additional copies of your Azure Storage blobs and tables are stored in a different region.</span></span> <span data-ttu-id="798ab-114">В случае сбоя всего региона или аварии, при которой основной регион не может быть восстановлен, Azure перераспределяет все DNS-записи в геореплицированный регион.</span><span class="sxs-lookup"><span data-stu-id="798ab-114">In the event of a complete regional outage or a disaster in which the primary region is not recoverable, Azure remaps all of the DNS entries to the geo-replicated region.</span></span>

> [!NOTE]
> <span data-ttu-id="798ab-115">Учтите, что этот процесс нельзя контролировать, и он выполняется только при нарушениях работы службы на уровне центра обработки данных.</span><span class="sxs-lookup"><span data-stu-id="798ab-115">Be aware that you do not have any control over this process, and it will only occur for datacenter-wide service disruptions.</span></span> <span data-ttu-id="798ab-116">Поэтому для обеспечения самого высокого уровня доступности необходимо также использовать и другие стратегии архивации приложения.</span><span class="sxs-lookup"><span data-stu-id="798ab-116">Because of this, you must also rely on other application-specific backup strategies to achieve the highest level of availability.</span></span> <span data-ttu-id="798ab-117">Дополнительные сведения см. в статье [Аварийное восстановление и высокая доступность для приложений на платформе Azure](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md).</span><span class="sxs-lookup"><span data-stu-id="798ab-117">For more information, see [Disaster recovery and high availability for applications built on Microsoft Azure](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md).</span></span> <span data-ttu-id="798ab-118">Если вы хотите повлиять на отработку отказа, попробуйте использовать [геоизбыточное хранилище с доступом только для чтения (RA-GRS)](../storage/common/storage-redundancy.md#read-access-geo-redundant-storage), которое создает в другом регионе копию ваших данных с доступом только для чтения.</span><span class="sxs-lookup"><span data-stu-id="798ab-118">If you would like to be able to affect your own failover, you might want to consider the use of [read-access geo-redundant storage (RA-GRS)](../storage/common/storage-redundancy.md#read-access-geo-redundant-storage), which creates a read-only copy of your data in another region.</span></span>
>
>


## <a name="option-1-use-a-backup-deployment-through-azure-traffic-manager"></a><span data-ttu-id="798ab-119">Вариант 1. Использование архивации с помощью диспетчера трафика Azure</span><span class="sxs-lookup"><span data-stu-id="798ab-119">Option 1: Use a backup deployment through Azure Traffic Manager</span></span>
<span data-ttu-id="798ab-120">Самое надежное решение аварийного восстановления заключается в поддержке нескольких развертываний приложения в разных регионах и в направлении трафика между ними с помощью [диспетчера трафика Azure](../traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="798ab-120">The most robust disaster recovery solution involves maintaining multiple deployments of your application in different regions, then using [Azure Traffic Manager](../traffic-manager/traffic-manager-overview.md) to direct traffic between them.</span></span> <span data-ttu-id="798ab-121">Диспетчер трафика Azure предоставляет несколько [методов маршрутизации](../traffic-manager/traffic-manager-routing-methods.md), поэтому вы можете управлять развертываниями, используя основную или резервную модель или разделяя трафик между ними.</span><span class="sxs-lookup"><span data-stu-id="798ab-121">Azure Traffic Manager provides multiple [routing methods](../traffic-manager/traffic-manager-routing-methods.md), so you can choose whether to manage your deployments using a primary/backup model or to split traffic between them.</span></span>

![Балансировка облачных служб Azure по регионам с помощью диспетчера трафика Azure](./media/cloud-services-disaster-recovery-guidance/using-azure-traffic-manager.png)

<span data-ttu-id="798ab-123">Чтобы быстро среагировать на потерю региона, важно настроить [мониторинг конечных точек](../traffic-manager/traffic-manager-monitoring.md) диспетчера трафика.</span><span class="sxs-lookup"><span data-stu-id="798ab-123">For the fastest response to the loss of a region, it is important that you configure Traffic Manager's [endpoint monitoring](../traffic-manager/traffic-manager-monitoring.md).</span></span>

## <a name="option-2-deploy-your-application-to-a-new-region"></a><span data-ttu-id="798ab-124">Вариант 2. Развертывание приложения в новом регионе</span><span class="sxs-lookup"><span data-stu-id="798ab-124">Option 2: Deploy your application to a new region</span></span>
<span data-ttu-id="798ab-125">Использование нескольких активных развертываний, как описано в предыдущем варианте, влечет за собой дополнительные расходы.</span><span class="sxs-lookup"><span data-stu-id="798ab-125">Maintaining multiple active deployments as described in the previous option incurs additional ongoing costs.</span></span> <span data-ttu-id="798ab-126">Если цель времени восстановления (RTO) достаточно гибкая и у вас есть исходный код или скомпилированный пакет облачных служб, можно создать новый экземпляр приложения в другом регионе и обновить записи DNS, чтобы они указывали на новое развертывание.</span><span class="sxs-lookup"><span data-stu-id="798ab-126">If your recovery time objective (RTO) is flexible enough and you have the original code or compiled Cloud Services package, you can create a new instance of your application in another region and update your DNS records to point to the new deployment.</span></span>

<span data-ttu-id="798ab-127">Дополнительные сведения о том, как создавать и развертывать приложения облачной службы, см. [здесь](cloud-services-how-to-create-deploy-portal.md).</span><span class="sxs-lookup"><span data-stu-id="798ab-127">For more detail about how to create and deploy a cloud service application, see [How to create and deploy a cloud service](cloud-services-how-to-create-deploy-portal.md).</span></span>

<span data-ttu-id="798ab-128">В зависимости от источников данных приложения может потребоваться проверка процедур восстановления для источника данных приложения.</span><span class="sxs-lookup"><span data-stu-id="798ab-128">Depending on your application data sources, you may need to check the recovery procedures for your application data source.</span></span>

* <span data-ttu-id="798ab-129">Для источников данных службы хранилища Azure обратитесь к разделу [Репликация службы хранилища Azure](../storage/common/storage-redundancy.md#read-access-geo-redundant-storage) , чтобы узнать, какие варианты действий доступны на основе выбранной модели репликации приложения.</span><span class="sxs-lookup"><span data-stu-id="798ab-129">For Azure Storage data sources, see [Azure Storage replication](../storage/common/storage-redundancy.md#read-access-geo-redundant-storage) to check on the options that are available based on the chose replication model for your application.</span></span>
* <span data-ttu-id="798ab-130">Аналогичные сведения для источников данных базы данных SQL приведены в разделе [Обзор. Непрерывность облачных бизнес-процессов и аварийное восстановление баз данных с базой данных SQL](../sql-database/sql-database-business-continuity.md) .</span><span class="sxs-lookup"><span data-stu-id="798ab-130">For SQL Database sources, read [Overview: Cloud business continuity and database disaster recovery with SQL Database](../sql-database/sql-database-business-continuity.md) to check on the options that are available based on the chosen replication model for your application.</span></span>


## <a name="option-3-wait-for-recovery"></a><span data-ttu-id="798ab-131">Вариант 3. Ожидание восстановления</span><span class="sxs-lookup"><span data-stu-id="798ab-131">Option 3: Wait for recovery</span></span>
<span data-ttu-id="798ab-132">В этом случае вам не нужно ничего делать. Однако служба будет недоступна до восстановления региона.</span><span class="sxs-lookup"><span data-stu-id="798ab-132">In this case, no action on your part is required, but your service will be unavailable until the region is restored.</span></span> <span data-ttu-id="798ab-133">Текущее состояние службы можно просмотреть на [панели мониторинга работоспособности служб Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="798ab-133">You can see the current service status on the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="798ab-134">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="798ab-134">Next steps</span></span>
<span data-ttu-id="798ab-135">Чтобы больше узнать о том, как реализовать стратегию обеспечения аварийного восстановления и высокого уровня доступности, ознакомьтесь с разделом [Аварийное восстановление и высокий уровень доступности для приложений на платформе Azure](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md).</span><span class="sxs-lookup"><span data-stu-id="798ab-135">To learn more about how to implement a disaster recovery and high availability strategy, see [Disaster recovery and high availability for Azure applications](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md).</span></span>

<span data-ttu-id="798ab-136">Возможности облачной платформы подробно описаны в [техническом руководстве по обеспечению непрерывности бизнес-процессов Azure](../resiliency/resiliency-technical-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="798ab-136">To develop a detailed technical understanding of a cloud platform’s capabilities, see [Azure resiliency technical guidance](../resiliency/resiliency-technical-guidance.md).</span></span>