---
title: "aaaStage развертывания облачной службы (Node.js) | Документы Microsoft"
description: "Узнайте, как toodeploy tooa вашего приложения Azure, в промежуточной среде, затем развернуть tooa рабочей среде, с помощью переключения виртуального IP-адресов (VIP)."
services: cloud-services
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: d65d26a6-b424-49cd-a88c-7ef46bb112a8
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2017
ms.author: tarcher
ms.openlocfilehash: 0656c84ac444a10f152f441265f85141347bf1fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="staging-an-application-in-azure"></a><span data-ttu-id="63b3b-103">Развертывание приложения в промежуточной среде Azure</span><span class="sxs-lookup"><span data-stu-id="63b3b-103">Staging an Application in Azure</span></span>
<span data-ttu-id="63b3b-104">Упакованные приложения могут быть развернутой toohello промежуточной среды в Azure toobe тестирования перед перемещением его toohello рабочей среды, в которых hello приложение доступно hello Internet.</span><span class="sxs-lookup"><span data-stu-id="63b3b-104">A packaged application can be deployed toohello staging environment in Azure toobe tested before you move it toohello production environment in which hello application is accessible on hello Internet.</span></span> <span data-ttu-id="63b3b-105">Промежуточной среды — так же, как hello рабочей среде, за исключением того, вы можете только доступ hello промежуточное приложение скрытый URL-адрес, который формируется Azure.</span><span class="sxs-lookup"><span data-stu-id="63b3b-105">The staging environment is exactly like hello production environment, except that you can only access hello staged application with an obfuscated URL that is generated by Azure.</span></span> <span data-ttu-id="63b3b-106">После проверки работы приложения может быть развернутой toohello рабочую среду, выполнив переключение виртуального IP-адресов (VIP).</span><span class="sxs-lookup"><span data-stu-id="63b3b-106">After you have verified that your application is working correctly, it can be deployed toohello production environment by performing a Virtual IP (VIP) swap.</span></span>

> [!NOTE]
> <span data-ttu-id="63b3b-107">Hello действия в этой статье, относятся только toonode приложений, размещенных в виде облачной службы Azure.</span><span class="sxs-lookup"><span data-stu-id="63b3b-107">hello steps in this article only apply toonode applications hosted as an Azure Cloud Service.</span></span>
> 
> 

## <a name="step-1-stage-an-application"></a><span data-ttu-id="63b3b-108">Шаг 1. Развертывание приложения в промежуточной среде.</span><span class="sxs-lookup"><span data-stu-id="63b3b-108">Step 1: Stage an Application</span></span>
<span data-ttu-id="63b3b-109">Эта задача рассматривается как hello toostage приложения с помощью **Microsoft Azure PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="63b3b-109">This task covers how toostage an application by using hello **Microsoft Azure PowerShell**.</span></span>

1. <span data-ttu-id="63b3b-110">При публикации службы, просто передайте hello **-слот** параметр hello **AzureServiceProject публикации** командлета.</span><span class="sxs-lookup"><span data-stu-id="63b3b-110">When publishing a service, simply pass hello **-Slot** parameter to hello **Publish-AzureServiceProject** cmdlet.</span></span>
   
   ```powershell
   Publish-AzureServiceProject -Slot staging
   ```
2. <span data-ttu-id="63b3b-111">Войдите на toohello [классический портал Azure] и выберите **облачные службы**.</span><span class="sxs-lookup"><span data-stu-id="63b3b-111">Log on toohello [Azure classic portal] and select **Cloud Services**.</span></span> <span data-ttu-id="63b3b-112">Создается после hello облачной службы и hello **промежуточной** состояние столбца обновлялось слишком**под управлением**, щелкните имя службы hello.</span><span class="sxs-lookup"><span data-stu-id="63b3b-112">After hello cloud service is created and hello **Staging** column status has been updated too**Running**, click on hello service name.</span></span>
   
   ![портал, на котором отображается выполняющаяся служба][cloud-service]
3. <span data-ttu-id="63b3b-114">Выберите hello **панели мониторинга**, а затем выберите **промежуточной**.</span><span class="sxs-lookup"><span data-stu-id="63b3b-114">Select hello **Dashboard**, and then select **Staging**.</span></span>
   
   ![панель мониторинга облачной службы][cloud-service-dashboard]
4. <span data-ttu-id="63b3b-116">Запомните значение hello в hello **URL-адрес сайта** toohello правом записи.</span><span class="sxs-lookup"><span data-stu-id="63b3b-116">Note hello value in hello **Site URL** entry toohello right.</span></span> <span data-ttu-id="63b3b-117">имя DNS Hello — скрытый внутренний идентификатор, созданный Azure.</span><span class="sxs-lookup"><span data-stu-id="63b3b-117">hello DNS name is an obfuscated internal ID that Azure generated.</span></span>
   
    ![URL-адрес сайта][cloud-service-staging-url]

<span data-ttu-id="63b3b-119">Теперь можно проверить правильность работы приложения hello в промежуточной среде, используя URL-адрес сайта размещения hello hello.</span><span class="sxs-lookup"><span data-stu-id="63b3b-119">Now you can verify that hello application is working correctly in hello staging environment by using hello staging site URL.</span></span>

## <a name="step-2-upgrade-an-application-in-production-by-swapping-vips"></a><span data-ttu-id="63b3b-120">Шаг 2. Обновление приложения в рабочей среде путем переключения виртуальных IP-адресов</span><span class="sxs-lookup"><span data-stu-id="63b3b-120">Step 2: Upgrade an Application in Production by Swapping VIPs</span></span>
<span data-ttu-id="63b3b-121">После проверки hello обновленной версии приложения в промежуточной среде, можно быстро облегчить доступен в рабочей среде путем замены hello виртуальных IP-адресов (VIP) hello промежуточной и производственной средах.</span><span class="sxs-lookup"><span data-stu-id="63b3b-121">After you have verified hello upgraded version of an application in the staging environment, you can quickly make it available in production by swapping hello virtual IPs (VIPs) of hello staging and production environments.</span></span>

> [!NOTE]
> <span data-ttu-id="63b3b-122">Предполагается, что уже развертывания приложения tooproduction и промежуточное hello обновленной версии приложения.</span><span class="sxs-lookup"><span data-stu-id="63b3b-122">This step assumes that you have already deployed an application tooproduction and staged hello upgraded version of the application.</span></span>
> 
> 

1. <span data-ttu-id="63b3b-123">Войти в hello [классический портал Azure], нажмите кнопку **облачные службы** и выберите имя службы hello.</span><span class="sxs-lookup"><span data-stu-id="63b3b-123">Log into hello [Azure classic portal], click **Cloud Services** and then select hello service name.</span></span>
2. <span data-ttu-id="63b3b-124">Из hello **мониторинга**выберите **промежуточной**и нажмите кнопку **замены** hello нижней части страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="63b3b-124">From hello **Dashboard**, select **Staging**, and then click **Swap** at hello bottom of hello page.</span></span> <span data-ttu-id="63b3b-125">При этом откроется hello диалогового окна переключения виртуального IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="63b3b-125">This opens hello VIP Swap dialog.</span></span>
   
   ![диалоговое окно переключения виртуального IP-адреса][vip-swap-dialog]
3. <span data-ttu-id="63b3b-127">Просмотрите сведения hello и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="63b3b-127">Review hello information, and then click **OK**.</span></span> <span data-ttu-id="63b3b-128">два развертывания Hello начать обновление как промежуточного развертывания коммутаторы tooproduction и hello производственного развертывания коммутаторы toostaging hello.</span><span class="sxs-lookup"><span data-stu-id="63b3b-128">hello two deployments begin updating as hello staging deployment switches tooproduction and hello production deployment switches toostaging.</span></span>

<span data-ttu-id="63b3b-129">Вы успешно промежуточное развертывание и обновление развертывания в рабочей среде путем перестановки VIP по развертыванию hello в промежуточной.</span><span class="sxs-lookup"><span data-stu-id="63b3b-129">You have successfully staged a deployment and upgraded a production deployment by swapping VIPs with hello deployment in staging.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="63b3b-130">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="63b3b-130">Additional Resources</span></span>
* <span data-ttu-id="63b3b-131">[Как tooDeploy tooProduction на обновление службы, требуется поменять местами виртуальные IP-адреса в Azure]</span><span class="sxs-lookup"><span data-stu-id="63b3b-131">[How tooDeploy a Service Upgrade tooProduction by Swapping VIPs in Azure]</span></span>

[классический портал Azure]: http://manage.windowsazure.com
[cloud-service]: ./media/cloud-services-nodejs-stage-application/staging-cloud-service-running.png
[cloud-service-dashboard]: ./media/cloud-services-nodejs-stage-application/cloud-service-dashboard-staging.png
[cloud-service-staging-url]: ./media/cloud-services-nodejs-stage-application/cloud-service-staging-url.png
[vip-swap-dialog]: ./media/cloud-services-nodejs-stage-application/vip-swap-dialog.png
[Как tooDeploy tooProduction на обновление службы, требуется поменять местами виртуальные IP-адреса в Azure]: cloud-services-how-to-manage.md#how-to-swap-deployments-to-promote-a-staged-deployment-to-production
