---
title: "aaaHow toomonitor облачной службы | Документы Microsoft"
description: "Дополнительные сведения об toomonitor облачных служб с помощью hello классический портал Azure."
services: cloud-services
documentationcenter: 
author: thraka
manager: timlt
editor: 
ms.assetid: 5c48d2fb-b8ea-420f-80df-7aebe2b66b1b
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/07/2015
ms.author: adegeo
ms.openlocfilehash: ee98c56e0b98b85d75a5c1d796800069c4f06d20
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-toomonitor-cloud-services"></a><span data-ttu-id="c48f3-103">Как tooMonitor облачных служб</span><span class="sxs-lookup"><span data-stu-id="c48f3-103">How tooMonitor Cloud Services</span></span>
[!INCLUDE [disclaimer](../../includes/disclaimer.md)]

<span data-ttu-id="c48f3-104">Вы можете отслеживать `key` показатели производительности для облачных служб в hello классический портал Azure.</span><span class="sxs-lookup"><span data-stu-id="c48f3-104">You can monitor `key` performance metrics for your cloud services in hello Azure classic portal.</span></span> <span data-ttu-id="c48f3-105">Можно задать hello уровень мониторинга toominimal и подробных сведений для каждой службы роли и можно настроить мониторинг отображает hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-105">You can set hello level of monitoring toominimal and verbose for each service role, and can customize hello monitoring displays.</span></span> <span data-ttu-id="c48f3-106">Подробные данные мониторинга хранятся в учетной записи хранилища, к которому можно получить за пределами портала hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-106">Verbose monitoring data is stored in a storage account, which you can access outside hello portal.</span></span> 

<span data-ttu-id="c48f3-107">Мониторинга представлены в hello классический портал Azure, можно настроить.</span><span class="sxs-lookup"><span data-stu-id="c48f3-107">Monitoring displays in hello Azure classic portal are highly configurable.</span></span> <span data-ttu-id="c48f3-108">Можно выбрать метрики hello требуется toomonitor в списке метрик hello на hello **монитор** страницы и выберите какой tooplot метрики в диаграммы метрик на hello **монитор** страницы и hello панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="c48f3-108">You can choose hello metrics you want toomonitor in hello metrics list on hello **Monitor** page, and you can choose which metrics tooplot in metrics charts on hello **Monitor** page and hello dashboard.</span></span> 

## <a name="concepts"></a><span data-ttu-id="c48f3-109">Основные понятия</span><span class="sxs-lookup"><span data-stu-id="c48f3-109">Concepts</span></span>
<span data-ttu-id="c48f3-110">По умолчанию для новой облачной службы с помощью счетчиков производительности собираются из операционной системы сервера hello для экземпляров ролей hello (виртуальных машин) обеспечивается минимальный мониторинг.</span><span class="sxs-lookup"><span data-stu-id="c48f3-110">By default, minimal monitoring is provided for a new cloud service using performance counters gathered from hello host operating system for hello roles instances (virtual machines).</span></span> <span data-ttu-id="c48f3-111">минимальные показатели Hello, ограниченный tooCPU процент данных, вывод данных, пропускную способность чтения диска, а также пропускную способность записи на диск.</span><span class="sxs-lookup"><span data-stu-id="c48f3-111">hello minimal metrics are limited tooCPU Percentage, Data In, Data Out, Disk Read Throughput, and Disk Write Throughput.</span></span> <span data-ttu-id="c48f3-112">Настроив подробный мониторинг, вы можете получать дополнительные метрики на основе данных производительности в виртуальных машинах hello (экземпляры роли).</span><span class="sxs-lookup"><span data-stu-id="c48f3-112">By configuring verbose monitoring, you can receive additional metrics based on performance data within hello virtual machines (role instances).</span></span> <span data-ttu-id="c48f3-113">Hello подробные метрики позволяют более тщательного анализа проблем, возникающих во время работы приложений.</span><span class="sxs-lookup"><span data-stu-id="c48f3-113">hello verbose metrics enable closer analysis of issues that occur during application operations.</span></span>

<span data-ttu-id="c48f3-114">По умолчанию данные счетчиков производительности из экземпляров роли выборки и передаются из экземпляра роли hello каждые 3 минут.</span><span class="sxs-lookup"><span data-stu-id="c48f3-114">By default performance counter data from role instances is sampled and transferred from hello role instance at 3-minute intervals.</span></span> <span data-ttu-id="c48f3-115">При включении подробного мониторинга данных счетчиков производительности неформатированной hello агрегируются для каждого экземпляра роли и для экземпляров роли для каждой роли с интервалом в 5 минут, 1 час и 12 часов.</span><span class="sxs-lookup"><span data-stu-id="c48f3-115">When you enable verbose monitoring, hello raw performance counter data is aggregated for each role instance and across role instances for each role at intervals of 5 minutes, 1 hour, and 12 hours.</span></span> <span data-ttu-id="c48f3-116">Hello статистические данные удаляются после 10 дней.</span><span class="sxs-lookup"><span data-stu-id="c48f3-116">hello aggregated data is purged after 10 days.</span></span>

<span data-ttu-id="c48f3-117">После включения подробного мониторинга, hello статистическая обработка данных мониторинга хранятся в таблицах в вашей учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="c48f3-117">After you enable verbose monitoring, hello aggregated monitoring data is stored in tables in your storage account.</span></span> <span data-ttu-id="c48f3-118">tooenable подробного мониторинга для роли, необходимо настроить строка подключения диагностики, который связывает учетную запись хранения toohello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-118">tooenable verbose monitoring for a role, you must configure a diagnostics connection string that links toohello storage account.</span></span> <span data-ttu-id="c48f3-119">Для каждой роли можно использовать собственную учетную запись хранения.</span><span class="sxs-lookup"><span data-stu-id="c48f3-119">You can use different storage accounts for different roles.</span></span>

<span data-ttu-id="c48f3-120">Включение подробного мониторинга увеличивается хранилища затраты, связанные с toodata хранилища, передачи данных транзакции с хранилищем.</span><span class="sxs-lookup"><span data-stu-id="c48f3-120">Enabling verbose monitoring increases your storage costs related toodata storage, data transfer, and storage transactions.</span></span> <span data-ttu-id="c48f3-121">При минимальном уровне мониторинга учетная запись хранения не требуется.</span><span class="sxs-lookup"><span data-stu-id="c48f3-121">Minimal monitoring does not require a storage account.</span></span> <span data-ttu-id="c48f3-122">Hello данных для метрик hello, представленные на минимальный уровень мониторинга hello не хранятся в учетной записи хранения, даже если вы настроите мониторинг уровня tooverbose hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-122">hello data for hello metrics that are exposed at hello minimal monitoring level are not stored in your storage account, even if you set hello monitoring level tooverbose.</span></span>

## <a name="how-to-configure-monitoring-for-cloud-services"></a><span data-ttu-id="c48f3-123">Практическое руководство. Настройка мониторинга для облачных служб</span><span class="sxs-lookup"><span data-stu-id="c48f3-123">How to: Configure monitoring for cloud services</span></span>
<span data-ttu-id="c48f3-124">Используйте следующие процедуры tooconfigure того, какой наблюдения за hello классический портал Azure hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-124">Use hello following procedures tooconfigure verbose or minimal monitoring in hello Azure classic portal.</span></span> 

### <a name="before-you-begin"></a><span data-ttu-id="c48f3-125">Перед началом работы</span><span class="sxs-lookup"><span data-stu-id="c48f3-125">Before you begin</span></span>
* <span data-ttu-id="c48f3-126">Создание *классический* hello toostore учетной записи хранилища, наблюдение за данными.</span><span class="sxs-lookup"><span data-stu-id="c48f3-126">Create a *classic* storage account toostore hello monitoring data.</span></span> <span data-ttu-id="c48f3-127">Для каждой роли можно использовать собственную учетную запись хранения.</span><span class="sxs-lookup"><span data-stu-id="c48f3-127">You can use different storage accounts for different roles.</span></span> <span data-ttu-id="c48f3-128">Дополнительные сведения см. в разделе [как учетную запись хранения toocreate](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span><span class="sxs-lookup"><span data-stu-id="c48f3-128">For more information, see [How toocreate a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account).</span></span>
* <span data-ttu-id="c48f3-129">Включите систему диагностики Azure для ролей облачной службы.</span><span class="sxs-lookup"><span data-stu-id="c48f3-129">Enable Azure Diagnostics for your cloud service roles.</span></span> <span data-ttu-id="c48f3-130">См. в разделе [Настройки диагностики для облачных служб](cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="c48f3-130">See [Configuring Diagnostics for Cloud Services](cloud-services-dotnet-diagnostics.md).</span></span>

<span data-ttu-id="c48f3-131">Убедитесь, что строка подключения диагностики hello присутствует в конфигурации роли hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-131">Ensure that hello diagnostics connection string is present in hello Role configuration.</span></span> <span data-ttu-id="c48f3-132">Не удалось включить подробный мониторинг до включения диагностики Azure и включить строка подключения диагностики в конфигурации роли hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-132">You cannot turn on verbose monitoring until you enable Azure Diagnostics and include a diagnostics connection string in hello Role configuration.</span></span>   

> [!NOTE]
> <span data-ttu-id="c48f3-133">Проектах, предназначенных для Azure SDK 2.5 не включать автоматически строка подключения диагностики hello в шаблон проекта hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-133">Projects targeting Azure SDK 2.5 did not automatically include hello diagnostics connection string in hello project template.</span></span> <span data-ttu-id="c48f3-134">Для этих проектов потребуется toomanually добавить конфигурацию роли toohello строка подключения hello диагностики.</span><span class="sxs-lookup"><span data-stu-id="c48f3-134">For these projects, you need toomanually add hello diagnostics connection string toohello Role configuration.</span></span>
> 
> 

<span data-ttu-id="c48f3-135">**toomanually добавить конфигурацию tooRole строка подключения диагностики**</span><span class="sxs-lookup"><span data-stu-id="c48f3-135">**toomanually add diagnostics connection string tooRole configuration**</span></span>

1. <span data-ttu-id="c48f3-136">Привет открыть проект облачной службы в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c48f3-136">Open hello Cloud Service project in Visual Studio</span></span>
2. <span data-ttu-id="c48f3-137">Дважды щелкните hello **роли** tooopen hello конструктора ролей и выберите hello **параметры** вкладка</span><span class="sxs-lookup"><span data-stu-id="c48f3-137">Double-click on hello **Role** tooopen hello Role designer and select hello **Settings** tab</span></span>
3. <span data-ttu-id="c48f3-138">Найдите параметр с именем **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="c48f3-138">Look for a setting named **Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString**.</span></span> 
4. <span data-ttu-id="c48f3-139">Если этот параметр не указан, выберите команду hello **добавить параметр** tooadd кнопку его изменение и настройка toohello hello тип для hello новое значение слишком**ConnectionString**</span><span class="sxs-lookup"><span data-stu-id="c48f3-139">If this setting is not present, click on hello **Add Setting** button tooadd it toohello configuration and change hello type for hello new setting too**ConnectionString**</span></span>
5. <span data-ttu-id="c48f3-140">Задайте значение hello hello строку подключения, щелкнув hello **...**  кнопки.</span><span class="sxs-lookup"><span data-stu-id="c48f3-140">Set hello value for connection string hello by clicking on hello **...** button.</span></span> <span data-ttu-id="c48f3-141">Откроется диалоговое окно, позволяющее tooselect учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="c48f3-141">This will open up a dialog allowing you tooselect a storage account.</span></span>
   
    ![Настройки Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioDiagnosticsConnectionString.png)

### <a name="toochange-hello-monitoring-level-tooverbose-or-minimal"></a><span data-ttu-id="c48f3-143">мониторинг уровня tooverbose hello toochange или минимальным</span><span class="sxs-lookup"><span data-stu-id="c48f3-143">toochange hello monitoring level tooverbose or minimal</span></span>
1. <span data-ttu-id="c48f3-144">В hello [классический портал Azure](https://manage.windowsazure.com/)откройте hello **Настройка** страницы для развертывания облачной службы hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-144">In hello [Azure classic portal](https://manage.windowsazure.com/), open hello **Configure** page for hello cloud service deployment.</span></span>
2. <span data-ttu-id="c48f3-145">В поле **Уровень** выберите **Подробно** или **Минимальный**.</span><span class="sxs-lookup"><span data-stu-id="c48f3-145">In **Level**, click **Verbose** or **Minimal**.</span></span> 
3. <span data-ttu-id="c48f3-146">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="c48f3-146">Click **Save**.</span></span>

<span data-ttu-id="c48f3-147">После включения подробного мониторинга, необходимо начать просмотр данных мониторинга на hello классический портал Azure в течение часа hello hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-147">After you turn on verbose monitoring, you should start seeing hello monitoring data in hello Azure classic portal within hello hour.</span></span>

<span data-ttu-id="c48f3-148">данные счетчиков производительности неформатированной Hello и статистические данные наблюдения хранятся в учетной записи хранения hello в таблицах, дополненное hello идентификатор развертывания для ролей hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-148">hello raw performance counter data and aggregated monitoring data are stored in hello storage account in tables qualified by hello deployment ID for hello roles.</span></span> 

## <a name="how-to-receive-alerts-for-cloud-service-metrics"></a><span data-ttu-id="c48f3-149">Практическое руководство. Получение оповещений для метрик облачных служб</span><span class="sxs-lookup"><span data-stu-id="c48f3-149">How to: Receive alerts for cloud service metrics</span></span>
<span data-ttu-id="c48f3-150">Вы можете настроить получение оповещений на основе метрик мониторинга облачной службы.</span><span class="sxs-lookup"><span data-stu-id="c48f3-150">You can receive alerts based on your cloud service monitoring metrics.</span></span> <span data-ttu-id="c48f3-151">На hello **служб управления** страница hello классический портал Azure, можно создать tootrigger правила оповещения, когда hello метрика достигает значения, указываемого.</span><span class="sxs-lookup"><span data-stu-id="c48f3-151">On hello **Management Services** page of hello Azure classic portal, you can create a rule tootrigger an alert when hello metric you choose reaches a value that you specify.</span></span> <span data-ttu-id="c48f3-152">Можно также выбрать toohave сообщений электронной почты, отправляемых при hello оповещения.</span><span class="sxs-lookup"><span data-stu-id="c48f3-152">You can also choose toohave email sent when hello alert is triggered.</span></span> <span data-ttu-id="c48f3-153">Дополнительные сведения см. в статье [Создание оповещений для служб Azure с помощью портала Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span><span class="sxs-lookup"><span data-stu-id="c48f3-153">For more information, see [How to: Receive Alert Notifications and Manage Alert Rules in Azure](http://go.microsoft.com/fwlink/?LinkId=309356).</span></span>

## <a name="how-to-add-metrics-toohello-metrics-table"></a><span data-ttu-id="c48f3-154">Способ: добавить таблицу метрики toohello метрики</span><span class="sxs-lookup"><span data-stu-id="c48f3-154">How to: Add metrics toohello metrics table</span></span>
1. <span data-ttu-id="c48f3-155">В hello [классический портал Azure](http://manage.windowsazure.com/)откройте hello **монитор** страницы для hello облачной службы.</span><span class="sxs-lookup"><span data-stu-id="c48f3-155">In hello [Azure classic portal](http://manage.windowsazure.com/), open hello **Monitor** page for hello cloud service.</span></span>
   
    <span data-ttu-id="c48f3-156">По умолчанию hello таблице показателей отображается подмножество доступных метрик hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-156">By default, hello metrics table displays a subset of hello available metrics.</span></span> <span data-ttu-id="c48f3-157">Hello рисунке показано по умолчанию hello подробные метрики для облачной службы, используемом ограниченные toohello счетчика производительности "память\доступно МБ", а данные, собранные на уровне роли hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-157">hello illustration shows hello default verbose metrics for a cloud service, which is limited toohello Memory\Available MBytes performance counter, with data aggregated at hello role level.</span></span> <span data-ttu-id="c48f3-158">Используйте **добавить метрики** tooselect дополнительных статистическое выражение и toomonitor метрик уровня роли в hello классический портал Azure.</span><span class="sxs-lookup"><span data-stu-id="c48f3-158">Use **Add Metrics** tooselect additional aggregate and role-level metrics toomonitor in hello Azure classic portal.</span></span>
   
    ![Подробные данные мониторинга](./media/cloud-services-how-to-monitor/CloudServices_DefaultVerboseDisplay.png)
2. <span data-ttu-id="c48f3-160">Таблица показателей toohello tooadd метрики:</span><span class="sxs-lookup"><span data-stu-id="c48f3-160">tooadd metrics toohello metrics table:</span></span>
   
   1. <span data-ttu-id="c48f3-161">Нажмите кнопку **добавить метрики** tooopen **Выбор метрики**описанных ниже.</span><span class="sxs-lookup"><span data-stu-id="c48f3-161">Click **Add Metrics** tooopen **Choose Metrics**, shown below.</span></span>
      
       <span data-ttu-id="c48f3-162">Hello первой доступной метрика tooshow расширенные параметры, доступные.</span><span class="sxs-lookup"><span data-stu-id="c48f3-162">hello first available metric is expanded tooshow options that are available.</span></span> <span data-ttu-id="c48f3-163">Для каждой метрики параметр top hello отображает статистические данные наблюдения для всех ролей.</span><span class="sxs-lookup"><span data-stu-id="c48f3-163">For each metric, hello top option displays aggregated monitoring data for all roles.</span></span> <span data-ttu-id="c48f3-164">Кроме того вы можете отдельных ролей toodisplay данные.</span><span class="sxs-lookup"><span data-stu-id="c48f3-164">In addition, you can choose individual roles toodisplay data for.</span></span>
      
       ![Добавить метрики](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics.png)
   2. <span data-ttu-id="c48f3-166">toodisplay tooselect метрики</span><span class="sxs-lookup"><span data-stu-id="c48f3-166">tooselect metrics toodisplay</span></span>
      
      * <span data-ttu-id="c48f3-167">Щелкните hello стрелка вниз по возможности мониторинга hello метрики tooexpand hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-167">Click hello down arrow by hello metric tooexpand hello monitoring options.</span></span>
      * <span data-ttu-id="c48f3-168">Hello, установите флажок для каждого наблюдения за интересующий вас toodisplay.</span><span class="sxs-lookup"><span data-stu-id="c48f3-168">Select hello check box for each monitoring option you want toodisplay.</span></span>
        
        <span data-ttu-id="c48f3-169">Можно выбрать метрики too50 в таблице показателей hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-169">You can display up too50 metrics in hello metrics table.</span></span>
        
        > [!TIP]
        > <span data-ttu-id="c48f3-170">Подробным мониторингом hello метрики в списке может содержать десятки метрики.</span><span class="sxs-lookup"><span data-stu-id="c48f3-170">In verbose monitoring, hello metrics list can contain dozens of metrics.</span></span> <span data-ttu-id="c48f3-171">toodisplay полосы прокрутки, наведите указатель на правой стороне hello диалоговое окно «hello».</span><span class="sxs-lookup"><span data-stu-id="c48f3-171">toodisplay a scrollbar, hover over hello right side of hello dialog box.</span></span> <span data-ttu-id="c48f3-172">Список toofilter hello, щелкните значок поиска hello и введите текст в поле поиска hello, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="c48f3-172">toofilter hello list, click hello search icon, and enter text in hello search box, as shown below.</span></span>
        > 
        > 
        
        ![Настройка поиска по метрикам](./media/cloud-services-how-to-monitor/CloudServices_AddMetrics_Search.png)
3. <span data-ttu-id="c48f3-174">Выбрав все нужные метрики, нажмите кнопку «ОК» (флажок).</span><span class="sxs-lookup"><span data-stu-id="c48f3-174">After you finish selecting metrics, click OK (checkmark).</span></span>
   
    <span data-ttu-id="c48f3-175">Hello выбранные показатели добавляются toohello таблице показателей, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="c48f3-175">hello selected metrics are added toohello metrics table, as shown below.</span></span>
   
    ![Метрики мониторинга](./media/cloud-services-how-to-monitor/CloudServices_Monitor_UpdatedMetrics.png)
4. <span data-ttu-id="c48f3-177">toodelete метрику из таблицы метрик hello, нажмите кнопку tooselect метрики hello, а затем щелкните **удалить метрику**.</span><span class="sxs-lookup"><span data-stu-id="c48f3-177">toodelete a metric from hello metrics table, click hello metric tooselect it, and then click **Delete Metric**.</span></span> <span data-ttu-id="c48f3-178">(Команда **Удалить метрики** доступна только в том случае, если выбрана хотя бы одна метрика.)</span><span class="sxs-lookup"><span data-stu-id="c48f3-178">(You only see **Delete Metric** when you have a metric selected.)</span></span>

### <a name="tooadd-custom-metrics-toohello-metrics-table"></a><span data-ttu-id="c48f3-179">Таблица показателей toohello tooadd настраиваемых метрик</span><span class="sxs-lookup"><span data-stu-id="c48f3-179">tooadd custom metrics toohello metrics table</span></span>
<span data-ttu-id="c48f3-180">Hello **Verbose** уровень мониторинга предоставляет список показателей по умолчанию, можно отслеживать на портале hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-180">hello **Verbose** monitoring level provides a list of default metrics that you can monitor on hello portal.</span></span> <span data-ttu-id="c48f3-181">В дополнение к этому toothese можно отслеживать любые настраиваемые метрики или счетчики производительности, определяемый приложением через портал hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-181">In addition toothese you can monitor any custom metrics or performance counters defined by your application through hello portal.</span></span>

<span data-ttu-id="c48f3-182">Hello следующие шаги предполагают, что включено **Verbose** уровень мониторинга и настройки вашего приложения toocollect и передачи пользовательских счетчиков производительности.</span><span class="sxs-lookup"><span data-stu-id="c48f3-182">hello following steps assume that you have turned on **Verbose** monitoring level and have configured your application toocollect and transfer custom performance counters.</span></span> 

<span data-ttu-id="c48f3-183">toodisplay hello пользовательских счетчиков производительности в hello необходимые конфигурации hello tooupdate в wad-control-container портала:</span><span class="sxs-lookup"><span data-stu-id="c48f3-183">toodisplay hello custom performance counters in hello portal you need tooupdate hello configuration in wad-control-container:</span></span>

1. <span data-ttu-id="c48f3-184">Откройте BLOB-объект wad-control-container hello в вашей учетной записи хранения диагностики.</span><span class="sxs-lookup"><span data-stu-id="c48f3-184">Open hello wad-control-container blob in your diagnostics storage account.</span></span> <span data-ttu-id="c48f3-185">Можно использовать Visual Studio или других toodo обозреватель хранилища это.</span><span class="sxs-lookup"><span data-stu-id="c48f3-185">You can use Visual Studio or any other storage explorer toodo this.</span></span>
   
    ![Обозреватель серверов в Visual Studio.](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioBlobExplorer.png)
2. <span data-ttu-id="c48f3-187">Перейдите hello пути больших двоичных объектов, используя шаблон hello **DeploymentId, RoleName/RoleInstance** toofind hello конфигурации для экземпляра роли.</span><span class="sxs-lookup"><span data-stu-id="c48f3-187">Navigate hello blob path using hello pattern **DeploymentId/RoleName/RoleInstance** toofind hello configuration for your role instance.</span></span> 
   
    ![Обозреватель хранилищ Visual Studio](./media/cloud-services-how-to-monitor/CloudServices_Monitor_VisualStudioStorage.png)
3. <span data-ttu-id="c48f3-189">Загрузить файл конфигурации hello для экземпляра роли и обновить его tooinclude любые пользовательские счетчики производительности.</span><span class="sxs-lookup"><span data-stu-id="c48f3-189">Download hello configuration file for your role instance and update it tooinclude any custom performance counters.</span></span> <span data-ttu-id="c48f3-190">Например toomonitor *записи на диск/сек* для hello *диска C* добавьте следующий код под hello **PerformanceCounters\Subscriptions** узла</span><span class="sxs-lookup"><span data-stu-id="c48f3-190">For example toomonitor *Disk Write Bytes/sec* for hello *C drive* add hello following under **PerformanceCounters\Subscriptions** node</span></span>
   
    ```xml
    <PerformanceCounterConfiguration>
    <CounterSpecifier>\LogicalDisk(C:)\Disk Write Bytes/sec</CounterSpecifier>
    <SampleRateInSeconds>180</SampleRateInSeconds>
    </PerformanceCounterConfiguration>
    ```
4. <span data-ttu-id="c48f3-191">Сохраните изменения hello и задней toohello файла конфигурации передачи hello же перезапись расположение hello существующий файл в большом двоичном объекте hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-191">Save hello changes and upload hello configuration file back toohello same location overwriting hello existing file in hello blob.</span></span>
5. <span data-ttu-id="c48f3-192">Переключение режима tooVerbose в hello конфигурации классического портала Azure.</span><span class="sxs-lookup"><span data-stu-id="c48f3-192">Toggle tooVerbose mode in hello Azure classic portal configuration.</span></span> <span data-ttu-id="c48f3-193">Если вы уже есть в подробном режиме будет иметь tootoggle tooverbose toominimal и обратно.</span><span class="sxs-lookup"><span data-stu-id="c48f3-193">If you were in Verbose mode already you will have tootoggle toominimal and back tooverbose.</span></span>
6. <span data-ttu-id="c48f3-194">Hello пользовательский счетчик производительности будет доступна в hello **добавить метрики** диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="c48f3-194">hello custom performance counter will now be available in hello **Add Metrics** dialog box.</span></span> 

## <a name="how-to-customize-hello-metrics-chart"></a><span data-ttu-id="c48f3-195">Как: настроить диаграммы метрик hello</span><span class="sxs-lookup"><span data-stu-id="c48f3-195">How to: Customize hello metrics chart</span></span>
1. <span data-ttu-id="c48f3-196">В таблице показателей hello выберите копирование too6 tooplot метрик на диаграмме метрик hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-196">In hello metrics table, select up too6 metrics tooplot on hello metrics chart.</span></span> <span data-ttu-id="c48f3-197">tooselect показатель, щелкните hello флажок слева от него.</span><span class="sxs-lookup"><span data-stu-id="c48f3-197">tooselect a metric, click hello check box on its left side.</span></span> <span data-ttu-id="c48f3-198">tooremove метрику из диаграммы метрик hello, снимите его флажок в таблице показателей hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-198">tooremove a metric from hello metrics chart, clear its check box in hello metrics table.</span></span>
   
    <span data-ttu-id="c48f3-199">При выборе метрики в таблице показателей hello диаграммы метрик toohello добавляются метрики hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-199">As you select metrics in hello metrics table, hello metrics are added toohello metrics chart.</span></span> <span data-ttu-id="c48f3-200">На экране узкий **n дополнительные** раскрывающегося списка содержит заголовки метрики, не помещающийся отображения приветствия.</span><span class="sxs-lookup"><span data-stu-id="c48f3-200">On a narrow display, an **n more** drop-down list contains metric headers that won't fit hello display.</span></span>
2. <span data-ttu-id="c48f3-201">tooswitch между отображением относительные значения (окончательное значение только для каждой метрики) и абсолютных значений (ось Y отображается), выбрать относительный или абсолютный hello верхней части диаграммы hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-201">tooswitch between displaying relative values (final value only for each metric) and absolute values (Y axis displayed), select Relative or Absolute at hello top of hello chart.</span></span>
   
    ![Относительные или абсолютные](./media/cloud-services-how-to-monitor/CloudServices_Monitor_RelativeAbsolute.png)
3. <span data-ttu-id="c48f3-203">Отображает hello toochange hello временной диапазон диаграммы метрик, выберите 1 час, 24 часа или 7 дней hello верхней части диаграммы hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-203">toochange hello time range hello metrics chart displays, select 1 hour, 24 hours, or 7 days at hello top of hello chart.</span></span>
   
    ![Период отображения данных мониторинга](./media/cloud-services-how-to-monitor/CloudServices_Monitor_DisplayPeriod.png)
   
    <span data-ttu-id="c48f3-205">На диаграмме метрик мониторинга hello метод hello для построения метрик отличается.</span><span class="sxs-lookup"><span data-stu-id="c48f3-205">On hello dashboard metrics chart, hello method for plotting metrics is different.</span></span> <span data-ttu-id="c48f3-206">Доступен стандартный набор метрик и метрик добавляются или удаляются, выбрав заголовок метрики hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-206">A standard set of metrics is available, and metrics are added or removed by selecting hello metric header.</span></span>

### <a name="toocustomize-hello-metrics-chart-on-hello-dashboard"></a><span data-ttu-id="c48f3-207">Диаграмма показателей hello toocustomize на панели мониторинга hello</span><span class="sxs-lookup"><span data-stu-id="c48f3-207">toocustomize hello metrics chart on hello dashboard</span></span>
1. <span data-ttu-id="c48f3-208">Откройте панель мониторинга hello для hello облачной службы.</span><span class="sxs-lookup"><span data-stu-id="c48f3-208">Open hello dashboard for hello cloud service.</span></span>
2. <span data-ttu-id="c48f3-209">Добавить или удалить метрики из hello диаграммы:</span><span class="sxs-lookup"><span data-stu-id="c48f3-209">Add or remove metrics from hello chart:</span></span>
   
   * <span data-ttu-id="c48f3-210">tooplot создается новый hello метрики, установите флажок для показателя hello в заголовках диаграммы hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-210">tooplot a new metric, select hello check box for hello metric in hello chart headers.</span></span> <span data-ttu-id="c48f3-211">На экране узкий, щелкните hello вниз по  ***n* ?? метрики** tooplot не удается отобразить в области заголовка диаграммы метрик hello.</span><span class="sxs-lookup"><span data-stu-id="c48f3-211">On a narrow display, click hello down arrow by ***n*??metrics** tooplot a metric hello chart header area can't display.</span></span>
   * <span data-ttu-id="c48f3-212">toodelete показатель, отображения диаграмме hello, hello, снимите флажок рядом с его заголовок.</span><span class="sxs-lookup"><span data-stu-id="c48f3-212">toodelete a metric that is plotted on hello chart, clear hello check box by its header.</span></span>
   
3. <span data-ttu-id="c48f3-213">Выберите режим отображения значений: **Относительные** или **Абсолютные**.</span><span class="sxs-lookup"><span data-stu-id="c48f3-213">Switch between **Relative** and **Absolute** displays.</span></span>
4. <span data-ttu-id="c48f3-214">Выберите 1 час, 24 часа или 7 дней toodisplay данных.</span><span class="sxs-lookup"><span data-stu-id="c48f3-214">Choose 1 hour, 24 hours, or 7 days of data toodisplay.</span></span>

## <a name="how-to-access-verbose-monitoring-data-outside-hello-azure-classic-portal"></a><span data-ttu-id="c48f3-215">Как: доступ к данным подробного мониторинга за пределами hello классический портал Azure</span><span class="sxs-lookup"><span data-stu-id="c48f3-215">How to: Access verbose monitoring data outside hello Azure classic portal</span></span>
<span data-ttu-id="c48f3-216">Подробные данные мониторинга, хранятся в таблицах в учетных записях хранения hello, указываемые для каждой роли.</span><span class="sxs-lookup"><span data-stu-id="c48f3-216">Verbose monitoring data is stored in tables in hello storage accounts that you specify for each role.</span></span> <span data-ttu-id="c48f3-217">Для каждого развертывания облачной службы для роли hello создаются шесть таблиц.</span><span class="sxs-lookup"><span data-stu-id="c48f3-217">For each cloud service deployment, six tables are created for hello role.</span></span> <span data-ttu-id="c48f3-218">по две для каждого интервала (5 минут, 1 час и 12 часов).</span><span class="sxs-lookup"><span data-stu-id="c48f3-218">Two tables are created for each (5 minutes, 1 hour, and 12 hours).</span></span> <span data-ttu-id="c48f3-219">Одной из этих таблиц хранят агрегаты на уровне роли; Здравствуйте, агрегаты таблицы хранилища для экземпляров ролей.</span><span class="sxs-lookup"><span data-stu-id="c48f3-219">One of these tables stores role-level aggregations; hello other table stores aggregations for role instances.</span></span> 

<span data-ttu-id="c48f3-220">имена таблиц Hello имеют hello следующий формат:</span><span class="sxs-lookup"><span data-stu-id="c48f3-220">hello table names have hello following format:</span></span>

```
WAD*deploymentID*PT*aggregation_interval*[R|RI]Table
```

<span data-ttu-id="c48f3-221">Описание:</span><span class="sxs-lookup"><span data-stu-id="c48f3-221">where:</span></span>

* <span data-ttu-id="c48f3-222">*deploymentID* — hello GUID, назначенный toohello развертывания облачной службы</span><span class="sxs-lookup"><span data-stu-id="c48f3-222">*deploymentID* is hello GUID assigned toohello cloud service deployment</span></span>
* <span data-ttu-id="c48f3-223">*aggregation_interval* = 5M (5 мин), 1H (1 ч) или 12H (12 ч);</span><span class="sxs-lookup"><span data-stu-id="c48f3-223">*aggregation_interval* = 5M, 1H, or 12H</span></span>
* <span data-ttu-id="c48f3-224">сводные данные на уровне роли = R;</span><span class="sxs-lookup"><span data-stu-id="c48f3-224">role-level aggregations = R</span></span>
* <span data-ttu-id="c48f3-225">сводные данные для экземпляров роли = RI.</span><span class="sxs-lookup"><span data-stu-id="c48f3-225">aggregations for role instances = RI</span></span>

<span data-ttu-id="c48f3-226">Например hello следующие таблицы должно хранить подробные данные мониторинга, статистически обрабатываются через каждые 1 час:</span><span class="sxs-lookup"><span data-stu-id="c48f3-226">For example, hello following tables would store verbose monitoring data aggregated at 1-hour intervals:</span></span>

```
WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRTable (hourly aggregations for hello role)

WAD8b7c4233802442b494d0cc9eb9d8dd9fPT1HRITable (hourly aggregations for role instances)
```
