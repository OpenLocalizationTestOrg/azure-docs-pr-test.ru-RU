---
title: "aaaUse HDInsight нескольких кластеров с помощью учетной записи хранилища Озера данных Azure - Azure | Документы Microsoft"
description: "Узнайте, как toouse больше, чем один HDInsight кластер с одной учетной записи хранилища Озера данных"
keywords: "хранилище HDInsight, HDFS, структурированные данные, неструктурированные данные, Data Lake Store"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="c5460-104">Использование нескольких кластеров HDInsight с учетной записью Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="c5460-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="c5460-105">Начиная с версии 3.5 HDInsight, можно создать кластеры HDInsight с учетными записями хранилища Озера данных Azure как файловой системы по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="c5460-106">Data Lake Store поддерживает неограниченное пространство для хранения данных, поэтому оно идеально подходит не только для хранения больших объемов данных, но и для размещения нескольких кластеров HDInsight, которые совместно используют одну и ту же учетную запись Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c5460-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="c5460-107">Instructionson как toocreate HDInsight кластер с хранилища Озера данных в виде hello хранилища, в разделе [HDInsight, создания кластеров с хранилищем данных Озера](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c5460-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="c5460-108">Эта статья содержит администратор хранилища Озера данных toohello рекомендации по настройке одинарных или общего хранения учетной записи Озера данных, можно использовать в нескольких **active** кластеров HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c5460-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="c5460-109">Эти рекомендации применяются toohosting несколько Hadoop безопасности, а также незащищенные кластеры общей учетной записи хранилища Озера данных.</span><span class="sxs-lookup"><span data-stu-id="c5460-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="c5460-110">Списки управления доступом на уровне файла и папки в Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="c5460-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="c5460-111">Hello оставшейся части этой статьи предполагается, что хорошо знать файлов и папок уровня списки управления доступом в хранилище Озера данных Azure, который описан в статье [управление доступом в хранилище Озера данных Azure](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="c5460-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="c5460-112">Настройка Data Lake Store для нескольких кластеров HDInsight</span><span class="sxs-lookup"><span data-stu-id="c5460-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="c5460-113">Сообщите нам занять иерархию папок двухуровневой tooexplain hello рекомендации по использованию множества кластеров HDInsight с помощью учетной записи хранилища Озера данных.</span><span class="sxs-lookup"><span data-stu-id="c5460-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="c5460-114">Рекомендуется иметь учетную запись хранилища Озера данных со структурой папок hello **finance/кластеры/**.</span><span class="sxs-lookup"><span data-stu-id="c5460-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="c5460-115">При такой структуре все кластеры hello, необходимо для организации процент hello можно использовать /clusters/finance в качестве места хранения hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="c5460-116">В будущем, если другой организации, скажем отдела маркетинга, хочет кластерами HDInsight toocreate с помощью Здравствуйте учетную запись хранилища Озера данных, они могут создавать /clusters/marketing hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="c5460-117">Пока давайте использовать папку **/clusters/finance**.</span><span class="sxs-lookup"><span data-stu-id="c5460-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="c5460-118">tooenable toobe структуры этой папки фактически используемые в кластерах HDInsight, Здравствуйте, администратор хранилища Озера данных необходимо назначить соответствующие разрешения, как описано в таблице hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="c5460-119">Hello разрешения, указанные в таблице hello соответствуют tooAccess ACL, а не по умолчанию списки управления доступом.</span><span class="sxs-lookup"><span data-stu-id="c5460-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="c5460-120">Папка</span><span class="sxs-lookup"><span data-stu-id="c5460-120">Folder</span></span>  |<span data-ttu-id="c5460-121">Разрешения</span><span class="sxs-lookup"><span data-stu-id="c5460-121">Permissions</span></span>  |<span data-ttu-id="c5460-122">владельца</span><span class="sxs-lookup"><span data-stu-id="c5460-122">Owning user</span></span>  |<span data-ttu-id="c5460-123">группы владельцев</span><span class="sxs-lookup"><span data-stu-id="c5460-123">Owning group</span></span>  | <span data-ttu-id="c5460-124">Именованный пользователь</span><span class="sxs-lookup"><span data-stu-id="c5460-124">Named user</span></span> | <span data-ttu-id="c5460-125">Разрешения именованного пользователя</span><span class="sxs-lookup"><span data-stu-id="c5460-125">Named user permissions</span></span> | <span data-ttu-id="c5460-126">Именованная группа</span><span class="sxs-lookup"><span data-stu-id="c5460-126">Named group</span></span> | <span data-ttu-id="c5460-127">Разрешения именованной группы</span><span class="sxs-lookup"><span data-stu-id="c5460-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="c5460-128">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="c5460-128">rwxr-x--x</span></span>  |<span data-ttu-id="c5460-129">admin</span><span class="sxs-lookup"><span data-stu-id="c5460-129">admin</span></span> |<span data-ttu-id="c5460-130">admin</span><span class="sxs-lookup"><span data-stu-id="c5460-130">admin</span></span>  |<span data-ttu-id="c5460-131">Субъект-служба</span><span class="sxs-lookup"><span data-stu-id="c5460-131">Service principal</span></span> |<span data-ttu-id="c5460-132">--x</span><span class="sxs-lookup"><span data-stu-id="c5460-132">--x</span></span>  |<span data-ttu-id="c5460-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="c5460-133">FINGRP</span></span>   |<span data-ttu-id="c5460-134">r-x</span><span class="sxs-lookup"><span data-stu-id="c5460-134">r-x</span></span>         |
|<span data-ttu-id="c5460-135">/clusters</span><span class="sxs-lookup"><span data-stu-id="c5460-135">/clusters</span></span> | <span data-ttu-id="c5460-136">rwxr-x--x</span><span class="sxs-lookup"><span data-stu-id="c5460-136">rwxr-x--x</span></span> |<span data-ttu-id="c5460-137">admin</span><span class="sxs-lookup"><span data-stu-id="c5460-137">admin</span></span> |<span data-ttu-id="c5460-138">admin</span><span class="sxs-lookup"><span data-stu-id="c5460-138">admin</span></span> |<span data-ttu-id="c5460-139">Субъект-служба</span><span class="sxs-lookup"><span data-stu-id="c5460-139">Service principal</span></span> |<span data-ttu-id="c5460-140">--x</span><span class="sxs-lookup"><span data-stu-id="c5460-140">--x</span></span>  |<span data-ttu-id="c5460-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="c5460-141">FINGRP</span></span> |<span data-ttu-id="c5460-142">r-x</span><span class="sxs-lookup"><span data-stu-id="c5460-142">r-x</span></span>         |
|<span data-ttu-id="c5460-143">/clusters/finance</span><span class="sxs-lookup"><span data-stu-id="c5460-143">/clusters/finance</span></span> | <span data-ttu-id="c5460-144">rwxr-x--t</span><span class="sxs-lookup"><span data-stu-id="c5460-144">rwxr-x--t</span></span> |<span data-ttu-id="c5460-145">admin</span><span class="sxs-lookup"><span data-stu-id="c5460-145">admin</span></span> |<span data-ttu-id="c5460-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="c5460-146">FINGRP</span></span>  |<span data-ttu-id="c5460-147">Субъект-служба</span><span class="sxs-lookup"><span data-stu-id="c5460-147">Service principal</span></span> |<span data-ttu-id="c5460-148">rwx</span><span class="sxs-lookup"><span data-stu-id="c5460-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="c5460-149">В таблице hello</span><span class="sxs-lookup"><span data-stu-id="c5460-149">In hello table,</span></span>

- <span data-ttu-id="c5460-150">**Администратор** является создателем hello и администратора hello хранилища Озера данных.</span><span class="sxs-lookup"><span data-stu-id="c5460-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="c5460-151">**Субъект-служба** — hello Azure Active Directory (AAD) служба участника связанный с учетной записью hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="c5460-152">**FINGRP** является группой пользователей, созданные в Azure Active Directory, содержащую пользователей из организации процент hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="c5460-153">Инструкции по статье toocreate приложение AAD (который также создает субъект-службу), [создать приложение AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="c5460-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="c5460-154">Инструкции по toocreate группу пользователей в Azure Active Directory, в статье [управления группами в Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="c5460-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="c5460-155">Tooconsider некоторые ключевые моменты.</span><span class="sxs-lookup"><span data-stu-id="c5460-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="c5460-156">Структура Hello два уровня папок (**/кластеры/finance/**) должно быть создано и предоставлены соответствующие разрешения с Здравствуйте, администратор хранилища Озера данных **перед** с помощью учетной записи хранилища hello для кластеров.</span><span class="sxs-lookup"><span data-stu-id="c5460-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="c5460-157">Эта структура не создается автоматически при создании кластеров.</span><span class="sxs-lookup"><span data-stu-id="c5460-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="c5460-158">приведенном выше примере Hello рекомендует параметр hello, которой принадлежит группа **finance/кластеры/** как **FINGRP** и позволяя **r-x** доступ к tooFINGRP toohello всю папку, в иерархии начиная с корневого hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="c5460-159">Это гарантирует, члены hello FINGRP можно перейти hello структуру папок, начиная с корня.</span><span class="sxs-lookup"><span data-stu-id="c5460-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="c5460-160">В случае hello при разных участников службы AAD можно создавать кластеры под **finance/кластеры/**, hello прикрепленные бита (на hello **процент** папки) гарантирует, что созданы одной службой Невозможно удалить участника hello других.</span><span class="sxs-lookup"><span data-stu-id="c5460-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="c5460-161">Создает после hello структуру папок и разрешения на месте, в процессе создания кластера HDInsight местоположение хранения конкретного кластера, в разделе **/кластеры/finance/**.</span><span class="sxs-lookup"><span data-stu-id="c5460-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="c5460-162">Например, может быть hello хранилища для кластера с именем fincluster01 hello **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="c5460-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="c5460-163">Hello владения и разрешений для папок hello, созданное кластером HDInsight отображается в таблице hello здесь.</span><span class="sxs-lookup"><span data-stu-id="c5460-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="c5460-164">Папка</span><span class="sxs-lookup"><span data-stu-id="c5460-164">Folder</span></span>  |<span data-ttu-id="c5460-165">Разрешения</span><span class="sxs-lookup"><span data-stu-id="c5460-165">Permissions</span></span>  |<span data-ttu-id="c5460-166">владельца</span><span class="sxs-lookup"><span data-stu-id="c5460-166">Owning user</span></span>  |<span data-ttu-id="c5460-167">группы владельцев</span><span class="sxs-lookup"><span data-stu-id="c5460-167">Owning group</span></span>  | <span data-ttu-id="c5460-168">Именованный пользователь</span><span class="sxs-lookup"><span data-stu-id="c5460-168">Named user</span></span> | <span data-ttu-id="c5460-169">Разрешения именованного пользователя</span><span class="sxs-lookup"><span data-stu-id="c5460-169">Named user permissions</span></span> | <span data-ttu-id="c5460-170">Именованная группа</span><span class="sxs-lookup"><span data-stu-id="c5460-170">Named group</span></span> | <span data-ttu-id="c5460-171">Разрешения именованной группы</span><span class="sxs-lookup"><span data-stu-id="c5460-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="c5460-172">/clusters/finanace/ fincluster01</span><span class="sxs-lookup"><span data-stu-id="c5460-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="c5460-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="c5460-173">rwxr-x---</span></span>  |<span data-ttu-id="c5460-174">Субъект-служба</span><span class="sxs-lookup"><span data-stu-id="c5460-174">Service Principal</span></span> |<span data-ttu-id="c5460-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="c5460-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="c5460-176">Рекомендации по входным и выходным данным задания</span><span class="sxs-lookup"><span data-stu-id="c5460-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="c5460-177">Мы рекомендуется входных данных tooa задания и hello выходные данные задания храниться в папке за пределами **/кластеры**.</span><span class="sxs-lookup"><span data-stu-id="c5460-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="c5460-178">Это гарантирует, что даже если папки кластера hello удаленные tooreclaim некоторые места для хранения hello задания выходы и входы по-прежнему доступны для использования в будущем.</span><span class="sxs-lookup"><span data-stu-id="c5460-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="c5460-179">В этом случае убедитесь, что разрешает hello иерархии папок для хранения hello задания входных и выходных данных соответствующий уровень доступа для hello участника-службы.</span><span class="sxs-lookup"><span data-stu-id="c5460-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="c5460-180">Ограничение на число кластеров, которые могут использовать общую учетную запись хранения</span><span class="sxs-lookup"><span data-stu-id="c5460-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="c5460-181">максимально Hello hello количество кластеров, которые могут совместно использовать одну учетную запись хранилища Озера данных зависит от рабочей нагрузки hello, выполняемая на этих кластерах.</span><span class="sxs-lookup"><span data-stu-id="c5460-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="c5460-182">В кластерах hello, которые совместно используют учетную запись хранения, имеющих слишком много кластеров или очень больших рабочих нагрузок может привести к регулированию и выхода tooget hello хранилища учетной записи.</span><span class="sxs-lookup"><span data-stu-id="c5460-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="c5460-183">Поддержка списков управления доступом по умолчанию</span><span class="sxs-lookup"><span data-stu-id="c5460-183">Support for Default-ACLs</span></span>

<span data-ttu-id="c5460-184">При создании участника службы с помощью доступа с именем пользователя (как показано в приведенной выше таблице hello), мы рекомендуем **не** Добавление hello с именем пользователя по умолчанию-списка управления доступом.</span><span class="sxs-lookup"><span data-stu-id="c5460-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="c5460-185">Подготовка доступа с именем пользователя, с помощью списков ACL по умолчанию результаты в назначении hello 770 разрешений владеет пользователь, владеющий группы и др.</span><span class="sxs-lookup"><span data-stu-id="c5460-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="c5460-186">Хотя в этом режиме сохраняются все разрешения для пользователя-владельца (7) и группы-владельца (7), все разрешения для других пользователей удаляются (0).</span><span class="sxs-lookup"><span data-stu-id="c5460-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="c5460-187">Это приведет к известная проблема с одного определенного вариантов использования, подробно рассматривается в hello [известные проблемы и обходные пути](#known-issues-and-workarounds) раздела.</span><span class="sxs-lookup"><span data-stu-id="c5460-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="c5460-188">Известные проблемы и их решения</span><span class="sxs-lookup"><span data-stu-id="c5460-188">Known issues and workarounds</span></span>

<span data-ttu-id="c5460-189">В этом разделе перечислены известные проблемы, связанные с HDInsight хранилища Озера данных и их решения hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="c5460-190">Открытые локализованные ресурсы YARN</span><span class="sxs-lookup"><span data-stu-id="c5460-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="c5460-191">При создании новой учетной записи хранилища Озера данных Azure hello корневой каталог автоматически снабжаются too770 набор битов разрешений доступа ACL.</span><span class="sxs-lookup"><span data-stu-id="c5460-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="c5460-192">Hello корневую папку, которой принадлежит пользователь является пользователем toohello набор, для создания учетной записи hello (Здравствуйте, администратор хранилища Озера данных) и владельца группы hello устанавливается основная группа toohello hello пользователя, создавшего hello учетной записи.</span><span class="sxs-lookup"><span data-stu-id="c5460-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="c5460-193">Доступ для других пользователей не предоставляется.</span><span class="sxs-lookup"><span data-stu-id="c5460-193">No access is provided for "others".</span></span>

<span data-ttu-id="c5460-194">Эти параметры перечислены известные tooaffect одного определенного HDInsight вариантов использования захвачен при [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="c5460-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="c5460-195">Сбой отправки заданий toothis аналогичные ошибки сообщения:</span><span class="sxs-lookup"><span data-stu-id="c5460-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="c5460-196">Как указано в hello YARN JIRA привязан ранее, при локализации общих ресурсов hello, что локализатора проверяет все hello запрошенных ресурсов открыты на самом деле, проверьте их разрешения для hello удаленной файловой системы.</span><span class="sxs-lookup"><span data-stu-id="c5460-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="c5460-197">Все локальные ресурсы, не соответствующие этому условию, не локализуются.</span><span class="sxs-lookup"><span data-stu-id="c5460-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="c5460-198">Здравствуйте, проверьте наличие разрешений, включает файл toohello доступ на чтение для «другие».</span><span class="sxs-lookup"><span data-stu-id="c5460-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="c5460-199">Этот сценарий работает out of box при размещении кластерами HDInsight на Озера данных Azure, поскольку Озера данных Azure слишком запрещает любой доступ «другие» на корневом уровне папки.</span><span class="sxs-lookup"><span data-stu-id="c5460-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="c5460-200">Возможное решение</span><span class="sxs-lookup"><span data-stu-id="c5460-200">Workaround</span></span>
<span data-ttu-id="c5460-201">Набор чтения — разрешения на выполнение **другие** через иерархию hello, например в  **/** , **/кластеры** и   **/кластеры/finance**  как показано в приведенной выше таблице hello.</span><span class="sxs-lookup"><span data-stu-id="c5460-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="c5460-202">См. также</span><span class="sxs-lookup"><span data-stu-id="c5460-202">See also</span></span>

* [<span data-ttu-id="c5460-203">Создание кластера HDInsight с хранилищем озера данных в качестве хранилища</span><span class="sxs-lookup"><span data-stu-id="c5460-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


