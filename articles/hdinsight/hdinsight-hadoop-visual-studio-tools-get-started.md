---
title: "Подключение к Azure HDInsight с помощью средств Data Lake для Visual Studio | Документация Майкрософт"
description: "Узнайте, как установить и использовать средства Data Lake для Visual Studio, чтобы подключиться к кластерам Hadoop в Azure HDInsight и выполнить запросы Hive."
keywords: "средства hadoop, запрос hive, visual studio, visual studio hadoop"
services: HDInsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: ce9c572a-1e98-46bf-9581-13a9767f1fa5
ms.service: hdinsight
ms.custom: hdinsightactive,hdiseo17may2017
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/23/2017
ms.author: jgao
ms.openlocfilehash: f7eff70ece5e8dc7e0c5983871d40bd1f6eafff2
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="connect-to-azure-hdinsight-and-run-hive-queries-using-data-lake-tools-for-visual-studio"></a><span data-ttu-id="2aa50-104">Подключение к Azure HDInsight и выполнение запросов Hive с помощью средств Data Lake для Visual Studio</span><span class="sxs-lookup"><span data-stu-id="2aa50-104">Connect to Azure HDInsight and run Hive queries using Data Lake Tools for Visual Studio</span></span>

<span data-ttu-id="2aa50-105">Узнайте, как использовать средства Data Lake для Visual Studio, чтобы подключиться к кластерам Hadoop в [Azure HDInsight](hdinsight-hadoop-introduction.md) и отправлять запросы Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-105">Learn how to use Data Lake Tools for Visual Studio to connect to Hadoop clusters in [Azure HDInsight](hdinsight-hadoop-introduction.md) and submit Hive queries.</span></span> <span data-ttu-id="2aa50-106">Дополнительные сведения об использовании HDInsight см. в статьях [Введение в экосистему Hadoop в Azure HDInsight](hdinsight-hadoop-introduction.md) и [Руководство по Hadoop. Приступая к работе с Hadoop в HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="2aa50-106">For more information about using HDInsight, see [Introduction to HDInsight](hdinsight-hadoop-introduction.md) and [Get started with HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md).</span></span> <span data-ttu-id="2aa50-107">Дополнительные сведения о подключении к кластеру Storm см. в статье [Разработка топологий для Apache Storm в HDInsight на C# с помощью средств Hadoop для Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span><span class="sxs-lookup"><span data-stu-id="2aa50-107">For more information about connecting to a Storm cluster, see [Develop C# topologies for Apache Storm on HDInsight using Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span></span>

<span data-ttu-id="2aa50-108">Инструменты Data Lake для Visual Studio можно использовать как для доступа к Data Lake Analytics, так и к HDInsight.</span><span class="sxs-lookup"><span data-stu-id="2aa50-108">Data Lake Tools for Visual Studio can be used to access both Data Lake Analytics and HDInsight.</span></span>  <span data-ttu-id="2aa50-109">Дополнительные сведения см. в статье [Разработка скриптов U-SQL с помощью средств Data Lake для Visual Studio](../data-lake-analytics/data-lake-analytics-data-lake-tools-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="2aa50-109">For the information about Data Lake Tools, see [Tutorial: develop U-SQL scripts using Data Lake Tools for Visual Studio](../data-lake-analytics/data-lake-analytics-data-lake-tools-get-started.md).</span></span>

<span data-ttu-id="2aa50-110">**Предварительные требования**</span><span class="sxs-lookup"><span data-stu-id="2aa50-110">**Prerequisites**</span></span>

<span data-ttu-id="2aa50-111">Для работы с этим руководством и использования инструментов Data Lake в Visual Studio потребуется следующее:</span><span class="sxs-lookup"><span data-stu-id="2aa50-111">To complete this tutorial and use the Data Lake Tools in Visual Studio, you'll need the following:</span></span>

* <span data-ttu-id="2aa50-112">Кластер Azure HDInsight. Сведения о создании кластера см. в статье [Руководство по Hadoop. Приступая к работе с Hadoop в HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="2aa50-112">An Azure HDInsight cluster: To create one, see [Get started using Linux-based HDInsight](hdinsight-hadoop-linux-tutorial-get-started.md)</span></span>
* <span data-ttu-id="2aa50-113">Рабочая станция со следующим ПО:</span><span class="sxs-lookup"><span data-stu-id="2aa50-113">A workstation with the following software:</span></span>
  
  * <span data-ttu-id="2aa50-114">Windows 10, Windows 8.1, Windows 8 или Windows 7.</span><span class="sxs-lookup"><span data-stu-id="2aa50-114">Windows 10, Windows 8.1, Windows 8, or Windows 7.</span></span>
  * <span data-ttu-id="2aa50-115">Visual Studio 2013, 2015, 2017.</span><span class="sxs-lookup"><span data-stu-id="2aa50-115">Visual Studio 2013/2015/2017.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="2aa50-116">Сейчас доступна только английская версия инструментов Data Lake для Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2aa50-116">Currently, the Data Lake Tools for Visual Studio only come with the English version.</span></span>
    > 
    > 

## <a name="install-data-lake-tools-for-visual-studio"></a><span data-ttu-id="2aa50-117">Установка инструментов Data Lake для Visual Studio</span><span class="sxs-lookup"><span data-stu-id="2aa50-117">Install Data Lake Tools for Visual Studio</span></span>

<span data-ttu-id="2aa50-118">Инструменты Data Lake устанавливаются по умолчанию для Visual Studio 2017.</span><span class="sxs-lookup"><span data-stu-id="2aa50-118">Data Lake Tools is installed by default for Visual Studio 2017.</span></span> <span data-ttu-id="2aa50-119">Вы можете установить их с помощью [установщика веб-платформы](https://www.microsoft.com/web/downloads/).</span><span class="sxs-lookup"><span data-stu-id="2aa50-119">For older versions, you can install it using the [Web Platform Installer](https://www.microsoft.com/web/downloads/).</span></span> <span data-ttu-id="2aa50-120">Необходимо выбрать установщик, который соответствует вашей версии Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2aa50-120">You must choose the one that matches your version of Visual Studio.</span></span> <span data-ttu-id="2aa50-121">Если на вашем компьютере не установлена программа Visual Studio, вы можете установить последние версии Visual Studio Community и пакета Azure SDK с помощью [установщика веб-платформы](https://www.microsoft.com/web/downloads/).</span><span class="sxs-lookup"><span data-stu-id="2aa50-121">If you don't have Visual Studio installed, you can install the latest Visual Studio Community and Azure SDK using the [Web Platform Installer](https://www.microsoft.com/web/downloads/):</span></span>

<span data-ttu-id="2aa50-122">![Установщик веб-платформы средств Data Lake для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png "Использование установщика веб-платформы для установки средств Data Lake для Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="2aa50-122">![Data Lake Tools for Visual Studio Web Platform installer.](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.wpi.png "Use Web Platform Installer to install Data Lake Tools for Visual Studio")</span></span>

## <a name="connect-to-azure-subscriptions"></a><span data-ttu-id="2aa50-123">Подключение к подпискам Azure</span><span class="sxs-lookup"><span data-stu-id="2aa50-123">Connect to Azure subscriptions</span></span>
<span data-ttu-id="2aa50-124">Инструменты Data Lake для Visual Studio позволяют подключаться к кластерам HDInsight, осуществлять некоторые базовые операции управления и выполнять запросы Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-124">Data Lake Tools for Visual Studio allows you to connect to your HDInsight clusters, perform some basic management operations, and run Hive queries.</span></span>

> [!NOTE]
> <span data-ttu-id="2aa50-125">Дополнительные сведения о подключении к универсальному кластеру Hadoop см. в записи блога [How to write and submit Hive queries using Visual Studio](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx) (Создание и отправка запросов Hive с помощью Visual Studio).</span><span class="sxs-lookup"><span data-stu-id="2aa50-125">For information on connecting to a generic Hadoop cluster, see [Write and submit Hive queries using Visual Studio](http://blogs.msdn.com/b/xiaoyong/archive/2015/05/04/how-to-write-and-submit-hive-queries-using-visual-studio.aspx).</span></span>
> 
> 

<span data-ttu-id="2aa50-126">**Подключение к подписке Azure**</span><span class="sxs-lookup"><span data-stu-id="2aa50-126">**To connect to your Azure subscription**</span></span>

1. <span data-ttu-id="2aa50-127">Откройте Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2aa50-127">Open Visual Studio.</span></span>
2. <span data-ttu-id="2aa50-128">В меню **Вид** выберите **Обозреватель сервера**, чтобы открыть окно обозревателя сервера.</span><span class="sxs-lookup"><span data-stu-id="2aa50-128">From the **View** menu, click **Server Explorer** to open the Server Explorer window.</span></span>
3. <span data-ttu-id="2aa50-129">Разверните пункт **Azure**, а затем — **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-129">Expand **Azure**, and then expand **HDInsight**.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="2aa50-130">Должно открыться окно **Список задач HDInsight** .</span><span class="sxs-lookup"><span data-stu-id="2aa50-130">Notice the **HDInsight Task List** window should be open.</span></span> <span data-ttu-id="2aa50-131">Если оно не открылось, в меню **Вид** щелкните пункт **Другие окна**, а затем — **HDInsight Task List Window** (Окно списка задач HDInsight).</span><span class="sxs-lookup"><span data-stu-id="2aa50-131">If you don't see it, click **Other Windows** from the **View** menu, and then click **HDInsight Task List Window**.</span></span>  
   > 
   > 
4. <span data-ttu-id="2aa50-132">Введите учетные данные подписки Azure и нажмите кнопку **Войти**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-132">Enter your Azure subscription credentials, and then click **Sign In**.</span></span> <span data-ttu-id="2aa50-133">Это необходимо, только если подключение к подписке Azure из Visual Studio на данной рабочей станции ранее не выполнялось.</span><span class="sxs-lookup"><span data-stu-id="2aa50-133">This is only required if you have never connected to the Azure subscription from Visual Studio on this workstation.</span></span>
5. <span data-ttu-id="2aa50-134">В обозревателе сервера отобразится список существующих кластеров HDInsight.</span><span class="sxs-lookup"><span data-stu-id="2aa50-134">In Server Explorer, you'll see a list of existing HDInsight clusters.</span></span> <span data-ttu-id="2aa50-135">Если кластеров нет в наличии, их можно создать с помощью портала Azure, оболочки Azure PowerShell или пакета SDK для HDInsight.</span><span class="sxs-lookup"><span data-stu-id="2aa50-135">If you don't have any clusters, you can create one by using the Azure portal, Azure PowerShell, or the HDInsight SDK.</span></span> <span data-ttu-id="2aa50-136">Дополнительные сведения см. в статье [Создание кластеров Hadoop в HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="2aa50-136">For more information, see [Create HDInsight clusters](hdinsight-hadoop-provision-linux-clusters.md).</span></span>
   
   <span data-ttu-id="2aa50-137">![Список кластеров в обозревателе сервера для средств Data Lake для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png "Средства Data Lake для обозревателя серверов в Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="2aa50-137">![Data Lake Tools for Visual Studio Server Explorer cluster list](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.server.explorer.png "Data Lake Tools for Visual Studio Server Explorer")</span></span>
6. <span data-ttu-id="2aa50-138">Разверните кластер HDInsight.</span><span class="sxs-lookup"><span data-stu-id="2aa50-138">Expand an HDInsight cluster.</span></span> <span data-ttu-id="2aa50-139">Отобразятся **базы данных Hive**, учетная запись хранения по умолчанию, связанные учетные записи хранения и **журнал службы Hadoop**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-139">You'll see **Hive Databases**, a default storage account, linked storage accounts, and **Hadoop Service log**.</span></span> <span data-ttu-id="2aa50-140">Развертывание объектов можно продолжить.</span><span class="sxs-lookup"><span data-stu-id="2aa50-140">You can further expand the entities.</span></span>

<span data-ttu-id="2aa50-141">После подключения к подписке Azure можно будет выполнить следующие задачи.</span><span class="sxs-lookup"><span data-stu-id="2aa50-141">After you've connected to your Azure subscription, you'll be able to do the following:</span></span>

<span data-ttu-id="2aa50-142">**Подключение к порталу Azure из Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="2aa50-142">**To connect to the Azure portal from Visual Studio**</span></span>

* <span data-ttu-id="2aa50-143">В обозревателе сервера разверните **Azure** > **HDInsight**, щелкните правой кнопкой мыши кластер HDInsight и выберите **Manage Cluster in Azure portal** (Управление кластером на портале Azure).</span><span class="sxs-lookup"><span data-stu-id="2aa50-143">From Server Explorer, expand **Azure** > **HDInsight**, right-click an HDInsight cluster, and then click **Manage Cluster in Azure portal**.</span></span>

<span data-ttu-id="2aa50-144">**Отправка вопросов и отзывов из Visual Studio**</span><span class="sxs-lookup"><span data-stu-id="2aa50-144">**To ask questions and provide feedback from Visual Studio**</span></span>

* <span data-ttu-id="2aa50-145">В меню **Сервис** выберите **HDInsight**, а затем щелкните **Форум MSDN** (чтобы задать вопрос) или **Оставить отзыв**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-145">From the **Tools** menu, click **HDInsight**, and then click **MSDN Forum** to ask questions, or click **Give Feedback**.</span></span>

## <a name="navigate-the-linked-resources"></a><span data-ttu-id="2aa50-146">Переход на связанные ресурсы</span><span class="sxs-lookup"><span data-stu-id="2aa50-146">Navigate the linked resources</span></span>
<span data-ttu-id="2aa50-147">В обозревателе сервера отобразятся учетная запись хранения по умолчанию и все связанные учетные записи хранения.</span><span class="sxs-lookup"><span data-stu-id="2aa50-147">From Server Explorer, you can see the default storage account and any linked storage accounts.</span></span> <span data-ttu-id="2aa50-148">Если развернуть учетную запись хранения по умолчанию, отобразятся контейнеры в учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="2aa50-148">If you expand the default storage account, you can see the containers on the storage account.</span></span> <span data-ttu-id="2aa50-149">Учетная запись хранения по умолчанию и контейнер по умолчанию отмечены.</span><span class="sxs-lookup"><span data-stu-id="2aa50-149">The default storage account and the default container are marked.</span></span> <span data-ttu-id="2aa50-150">Можно просмотреть содержимое любого контейнера, щелкнув его правой кнопкой мыши.</span><span class="sxs-lookup"><span data-stu-id="2aa50-150">You can also right-click any of the containers to view the contents.</span></span>

<span data-ttu-id="2aa50-151">![Список связанных ресурсов в обозревателе серверов для средств Data Lake для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png "Список связанных ресурсов")</span><span class="sxs-lookup"><span data-stu-id="2aa50-151">![Data Lake Tools for Visual Studio server explorer list linked resources](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.linked.resources.png "list linked resources")</span></span>

<span data-ttu-id="2aa50-152">Когда контейнер откроется, с помощью следующих кнопок вы сможете передавать, удалять и скачивать большие двоичные объекты.</span><span class="sxs-lookup"><span data-stu-id="2aa50-152">After opening a container, you can use the following buttons to upload, delete, and download blobs:</span></span>

<span data-ttu-id="2aa50-153">![Операции с большими двоичными объектами в обозревателе серверов для средств Data Lake для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.blob.operations.png "Передача, удаление и скачивание больших двоичных объектов")</span><span class="sxs-lookup"><span data-stu-id="2aa50-153">![Data Lake Tools for Visual Studio server explorer blob operations](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.blob.operations.png "upload, delete, and download blobs")</span></span>

## <a name="run-a-hive-query"></a><span data-ttu-id="2aa50-154">Выполнение запроса Hive</span><span class="sxs-lookup"><span data-stu-id="2aa50-154">Run a Hive query</span></span>
<span data-ttu-id="2aa50-155">[Apache Hive](http://hive.apache.org) — это инфраструктура хранилища данных, созданная на основе Hadoop и обеспечивающая формирование сводных данных, запросов и анализа.</span><span class="sxs-lookup"><span data-stu-id="2aa50-155">[Apache Hive](http://hive.apache.org) is a data warehouse infrastructure built on Hadoop for providing data summarization, queries, and analysis.</span></span> <span data-ttu-id="2aa50-156">Инструменты Data Lake для Visual Studio поддерживают выполнение запросов Hive из Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2aa50-156">Data Lake Tools for Visual Studio supports running Hive queries from Visual Studio.</span></span> <span data-ttu-id="2aa50-157">Дополнительные сведения о Hive см. в статье [Использование Hive и HiveQL с Hadoop в HDInsight](hdinsight-use-hive.md).</span><span class="sxs-lookup"><span data-stu-id="2aa50-157">For more information about Hive, see [Use Hive with HDInsight](hdinsight-use-hive.md).</span></span>

<span data-ttu-id="2aa50-158">Тестирование сценария Hive для кластера HDInsight занимает много времени.</span><span class="sxs-lookup"><span data-stu-id="2aa50-158">It is time consuming to test Hive script against an HDInsight cluster.</span></span> <span data-ttu-id="2aa50-159">Оно может длиться несколько минут или более.</span><span class="sxs-lookup"><span data-stu-id="2aa50-159">It could take several minutes or more.</span></span> <span data-ttu-id="2aa50-160">Инструменты Data Lake для Visual Studio могут проверить скрипт Hive локально без подключения к кластеру в оперативном режиме.</span><span class="sxs-lookup"><span data-stu-id="2aa50-160">Data Lake Tools for Visual Studio is capable of validating Hive script locally without connecting to a live cluster.</span></span>

<span data-ttu-id="2aa50-161">Инструменты Data Lake для Visual Studio также позволяют пользователям видеть, что находится внутри задания Hive, собирая и отображая журналы YARN определенных заданий Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-161">Data Lake Tools for Visual Studio also enables users to see what’s inside the Hive job by collecting and surfacing the YARN logs of certain Hive jobs.</span></span>

### <a name="view-the-hivesampletable"></a><span data-ttu-id="2aa50-162">Просмотр таблицы **hivesampletable**</span><span class="sxs-lookup"><span data-stu-id="2aa50-162">View the **hivesampletable**</span></span>
<span data-ttu-id="2aa50-163">Все кластеры HDInsight поставляются с примером таблицы Hive, которая называется *hivesampletable*.</span><span class="sxs-lookup"><span data-stu-id="2aa50-163">All HDInsight clusters come with a sample Hive table called *hivesampletable*.</span></span> <span data-ttu-id="2aa50-164">Эта таблица будет использоваться для отображения списка таблиц Hive, просмотра схемы таблиц и списка строк в таблице Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-164">We'll use this table to show you how to list Hive tables, view the table schemas, and list the rows in the Hive table.</span></span>

<span data-ttu-id="2aa50-165">**Создание списка таблиц Hive и просмотр схемы таблицы Hive**</span><span class="sxs-lookup"><span data-stu-id="2aa50-165">**To list Hive tables and view Hive table schema**</span></span>

1. <span data-ttu-id="2aa50-166">В **обозревателе сервера** разверните **Azure** > **HDInsight** > кластер на ваш выбор > **Базы данных Hive** > **По умолчанию** > **hivesampletable**, чтобы просмотреть схему таблицы.</span><span class="sxs-lookup"><span data-stu-id="2aa50-166">From **Server Explorer**, expand **Azure** > **HDInsight** > the cluster of your choice > **Hive Databases** > **Default** > **hivesampletable** to see the table schema.</span></span>
2. <span data-ttu-id="2aa50-167">Щелкните **hivesampletable** правой кнопкой мыши, а затем выберите **Просмотреть первые 100 строк**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-167">Right-click **hivesampletable**, and then click **View Top 100 Rows** to list the rows.</span></span> <span data-ttu-id="2aa50-168">Это эквивалентно выполнению следующего запроса Hive с помощью драйвера Hive ODBC:</span><span class="sxs-lookup"><span data-stu-id="2aa50-168">It is equivalent to running the following Hive query using Hive ODBC driver:</span></span>
   
     <span data-ttu-id="2aa50-169">SELECT * FROM hivesampletable LIMIT 100</span><span class="sxs-lookup"><span data-stu-id="2aa50-169">SELECT * FROM hivesampletable LIMIT 100</span></span>
   
   <span data-ttu-id="2aa50-170">Подсчет строк можно настроить.</span><span class="sxs-lookup"><span data-stu-id="2aa50-170">You can customize the row count.</span></span>
   
   <span data-ttu-id="2aa50-171">![Средства Data Lake. Запрос схемы Hive в HDInsight для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png "Результаты запроса Hive")</span><span class="sxs-lookup"><span data-stu-id="2aa50-171">![Data Lake Tools: HDInsight Hive Visual Studio schema query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.hive.schema.png "Hive query results")</span></span>

### <a name="create-hive-tables"></a><span data-ttu-id="2aa50-172">Создание таблиц Hive</span><span class="sxs-lookup"><span data-stu-id="2aa50-172">Create Hive tables</span></span>
<span data-ttu-id="2aa50-173">Таблицу Hive можно создать с помощью графического интерфейса пользователя (GUI) или запросов Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-173">You can use the GUI to create a Hive table or use Hive queries.</span></span> <span data-ttu-id="2aa50-174">Дополнительные сведения об использовании запросов Hive см. в разделе [Выполнение запросов Hive](#run.queries).</span><span class="sxs-lookup"><span data-stu-id="2aa50-174">For information about using Hive queries, see [Run Hive queries](#run.queries).</span></span>

<span data-ttu-id="2aa50-175">**Создание таблицы Hive**</span><span class="sxs-lookup"><span data-stu-id="2aa50-175">**To create a Hive table**</span></span>

1. <span data-ttu-id="2aa50-176">В **обозревателе сервера** разверните **Azure** > **Кластеры HDInsight** > кластер HDInsight > **Базы данных Hive**, щелкните правой кнопкой мыши **По умолчанию** и выберите **Создать таблицу**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-176">From **Server Explorer**, expand **Azure** > **HDInsight Clusters** an HDInsight cluster > **Hive Databases**, then right-click **default**, and click **Create Table**.</span></span>
2. <span data-ttu-id="2aa50-177">Настройка таблицы.</span><span class="sxs-lookup"><span data-stu-id="2aa50-177">Configure the table.</span></span>
3. <span data-ttu-id="2aa50-178">Щелкните **Создать таблицу** , чтобы отправить задание для создания новой таблицы Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-178">Click **Create Table** to submit the job to create the new Hive table.</span></span>
   
    <span data-ttu-id="2aa50-179">![Средства Data Lake. Создание таблицы Hive с помощью средств HDInsight для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png "Создание таблицы Hive")</span><span class="sxs-lookup"><span data-stu-id="2aa50-179">![Data Lake Tools: HDInsight Visual Studio Tools create hive table](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.create.hive.table.png "Create Hive table")</span></span>

### <span data-ttu-id="2aa50-180"><a name="run.queries"></a>Проверка и выполнение запросов Hive</span><span class="sxs-lookup"><span data-stu-id="2aa50-180"><a name="run.queries"></a>Validate and run Hive queries</span></span>
<span data-ttu-id="2aa50-181">Существует два способа создания и выполнения запросов Hive:</span><span class="sxs-lookup"><span data-stu-id="2aa50-181">There are two ways to create and run Hive queries:</span></span>

* <span data-ttu-id="2aa50-182">Создание ad-hoc-запросов</span><span class="sxs-lookup"><span data-stu-id="2aa50-182">Create ad-hoc queries</span></span>
* <span data-ttu-id="2aa50-183">Создание приложения Hive</span><span class="sxs-lookup"><span data-stu-id="2aa50-183">Create a Hive application</span></span>

<span data-ttu-id="2aa50-184">**Создание, проверка и выполнение ad-hoc-запросов**</span><span class="sxs-lookup"><span data-stu-id="2aa50-184">**To create, validate, and run ad-hoc queries**</span></span>

1. <span data-ttu-id="2aa50-185">В **обозревателе сервера** разверните **Azure**, а затем — **Кластеры HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-185">From **Server Explorer**, expand **Azure**, and then expand **HDInsight Clusters**.</span></span>
2. <span data-ttu-id="2aa50-186">Правой кнопкой мыши щелкните кластер, в котором вы хотите выполнить запрос, и выберите **Написать запрос Hive**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-186">Right-click the cluster where you want to run the query, and then click **Write a Hive Query**.</span></span>
3. <span data-ttu-id="2aa50-187">Введите запросы Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-187">Enter the Hive queries.</span></span> <span data-ttu-id="2aa50-188">Обратите внимание, что редактор Hive поддерживает технологию IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="2aa50-188">Notice the Hive editor supports IntelliSense.</span></span> <span data-ttu-id="2aa50-189">Теперь инструменты Data Lake для Visual Studio поддерживают загрузку удаленных метаданных при редактировании скрипта Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-189">Data Lake Tools for Visual Studio supports loading the remote metadata when you are editing your Hive script.</span></span> <span data-ttu-id="2aa50-190">Например, если ввести "SELECT * FROM", IntelliSense отобразит все предлагаемые имена таблиц.</span><span class="sxs-lookup"><span data-stu-id="2aa50-190">For example, when you type "SELECT * FROM", the IntelliSense lists all the suggested table names.</span></span> <span data-ttu-id="2aa50-191">Если указано имя таблицы, IntelliSense выведет список имен столбцов.</span><span class="sxs-lookup"><span data-stu-id="2aa50-191">When a table name is specified, the column names are listed by the IntelliSense.</span></span> <span data-ttu-id="2aa50-192">Эти инструменты поддерживают почти все инструкции, подзапросы и встроенные определяемые пользователем функции Hive DML.</span><span class="sxs-lookup"><span data-stu-id="2aa50-192">The tools support almost all Hive DML statements, subqueries, and the built-in UDFs.</span></span>
   
    <span data-ttu-id="2aa50-193">![Средства Data Lake. IntelliSense в средствах HDInsight для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png "U-SQL IntelliSense")</span><span class="sxs-lookup"><span data-stu-id="2aa50-193">![Data Lake Tools: HDInsight Visual Studio Tools IntelliSense](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.table.names.png "U-SQL IntelliSense")</span></span>
   
    <span data-ttu-id="2aa50-194">![Средства Data Lake. IntelliSense в средствах HDInsight для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png "U-SQL IntelliSense")</span><span class="sxs-lookup"><span data-stu-id="2aa50-194">![Data Lake Tools: HDInsight Visual Studio Tools IntelliSense](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.intellisense.column.names.png "U-SQL IntelliSense")</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="2aa50-195">Предлагаются только метаданные кластеров, выбранных на панели инструментов HDInsight.</span><span class="sxs-lookup"><span data-stu-id="2aa50-195">Only the metadata of the clusters that is selected in HDInsight Toolbar will be suggested.</span></span>
   > 
   > 
4. <span data-ttu-id="2aa50-196">(Необязательно.) Щелкните **Проверить сценарий** , чтобы проверить сценарий на синтаксические ошибки.</span><span class="sxs-lookup"><span data-stu-id="2aa50-196">(Optional): Click **Validate Script** to check the script syntax errors.</span></span>
   
    <span data-ttu-id="2aa50-197">![Средства Data Lake. Локальная проверка в средствах Data Lake для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png "Проверка сценария")</span><span class="sxs-lookup"><span data-stu-id="2aa50-197">![Data Lake Tools: Data Lake Tools for Visual Studio local validation](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.validate.hive.script.png "Validate script")</span></span>
5. <span data-ttu-id="2aa50-198">Просто щелкните **Отправить** или выполните **расширенную отправку**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-198">Click **Submit** or **Submit (Advanced)**.</span></span> <span data-ttu-id="2aa50-199">С помощью расширенной отправки можно настроить **имя задания**, **аргументы**, **дополнительные конфигурации** и **каталог состояния** скрипта.</span><span class="sxs-lookup"><span data-stu-id="2aa50-199">With the advanced submit option, you'll configure **Job Name**, **Arguments**, **Additional Configurations**, and **Status Directory** for the script:</span></span>
   
    <span data-ttu-id="2aa50-200">![Запрос Hadoop Hive в HDInsight](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png "Отправка запросов")</span><span class="sxs-lookup"><span data-stu-id="2aa50-200">![HDInsight Hadoop hive query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.submit.jobs.advanced.png "Submit queries")</span></span>
   
    <span data-ttu-id="2aa50-201">После отправки задания отобразится окно **Сводка для задания Hive** .</span><span class="sxs-lookup"><span data-stu-id="2aa50-201">After you submit the job, you see a **Hive Job Summary** window.</span></span>
   
    <span data-ttu-id="2aa50-202">![Сводка запроса Hadoop Hive в HDInsight](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png "Сводка по заданию Hive")</span><span class="sxs-lookup"><span data-stu-id="2aa50-202">![Summary of an HDInsight Hadoop Hive query](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.run.hive.job.summary.png "Hive job summary")</span></span>
6. <span data-ttu-id="2aa50-203">Используйте кнопку **Обновить**, чтобы обновлять состояние задания, пока оно не сменится на **Завершено**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-203">Use the **Refresh** button to update the status until the job status changes to **Completed**.</span></span>
7. <span data-ttu-id="2aa50-204">Перейдите по ссылкам внизу, чтобы просмотреть **запрос задания**, **выходные данные задания**, **журнал задания** или **журнал YARN**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-204">Click the links at the bottom to see the following: **Job Query**, **Job Output**, **Job log**, or **Yarn log**.</span></span>

<span data-ttu-id="2aa50-205">**Создание и запуск решения Hive**</span><span class="sxs-lookup"><span data-stu-id="2aa50-205">**To create and run a Hive solution**</span></span>

1. <span data-ttu-id="2aa50-206">В меню **Файл** выберите команду **Создать**, а затем — **Проект**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-206">From the **FILE** menu, click **New**, and then click **Project**.</span></span>
2. <span data-ttu-id="2aa50-207">Выберите **HDInsight** в левой области окна, **Приложение Hive** в средней области, введите свойства и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-207">Select **HDInsight** from the left pane, select **Hive Application** in the middle pane, enter the properties, and then click **OK**.</span></span>
   
    <span data-ttu-id="2aa50-208">![Средства Data Lake. Создание проекта Hive с помощью средств HDInsight для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png "Создание приложений Hive с помощью Visual Studio")</span><span class="sxs-lookup"><span data-stu-id="2aa50-208">![Data Lake Tools: HDInsight Visual Studio Tools new hive project](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.new.hive.project.png "Create Hive applications from Visual Studio")</span></span>
3. <span data-ttu-id="2aa50-209">В **обозревателе решений** дважды щелкните файл **Script.hql**, чтобы открыть его.</span><span class="sxs-lookup"><span data-stu-id="2aa50-209">From **Solution Explorer**, double-click **Script.hql** to open it.</span></span>
4. <span data-ttu-id="2aa50-210">Для проверки скрипта Hive можно нажать кнопку **Validate Script** (Проверить скрипт) или щелкнуть правой кнопкой мыши скрипт в редакторе Hive и выбрать пункт **Validate Script** (Проверить скрипт) в контекстном меню.</span><span class="sxs-lookup"><span data-stu-id="2aa50-210">To validate the Hive script, you can click the **Validate Script** button, or right-click the script in the Hive editor, and then click **Validate Script** from the context menu.</span></span>

### <a name="view-hive-jobs"></a><span data-ttu-id="2aa50-211">Просмотр заданий Hive</span><span class="sxs-lookup"><span data-stu-id="2aa50-211">View Hive jobs</span></span>
<span data-ttu-id="2aa50-212">Для заданий Hive можно просмотреть запросы задания, выходные данные задания, журнал задания и журналы YARN.</span><span class="sxs-lookup"><span data-stu-id="2aa50-212">You can view job queries, job output, job logs, and Yarn logs for Hive jobs.</span></span> <span data-ttu-id="2aa50-213">Дополнительную информацию см. на предыдущем снимке экрана.</span><span class="sxs-lookup"><span data-stu-id="2aa50-213">For more information, see the previous screenshot.</span></span>

<span data-ttu-id="2aa50-214">Самая последняя версия средств позволяет увидеть, что находится внутри заданий Hive, собирая и отображая журналы YARN.</span><span class="sxs-lookup"><span data-stu-id="2aa50-214">The most recent release of the tools allows you to see what’s inside your Hive jobs by collecting and surfacing  YARN logs.</span></span> <span data-ttu-id="2aa50-215">Журнал YARN может помочь исследовать проблемы производительности.</span><span class="sxs-lookup"><span data-stu-id="2aa50-215">A YARN log can help you investigating performance issues.</span></span> <span data-ttu-id="2aa50-216">Дополнительные сведения о том, как HDInsight собирает журналы YARN, см. в статье [Доступ к журналам приложений YARN в HDInsight под управлением Windows](hdinsight-hadoop-access-yarn-app-logs.md).</span><span class="sxs-lookup"><span data-stu-id="2aa50-216">For more information about how HDInsight collects YARN logs, see [Access HDInsight Application Logs Programmatically](hdinsight-hadoop-access-yarn-app-logs.md).</span></span>

<span data-ttu-id="2aa50-217">**Просмотр заданий Hive**</span><span class="sxs-lookup"><span data-stu-id="2aa50-217">**To view Hive jobs**</span></span>

1. <span data-ttu-id="2aa50-218">В **обозревателе сервера** разверните **Azure**, а затем — **HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-218">From **Server Explorer**, expand **Azure**, and then expand **HDInsight**.</span></span>
2. <span data-ttu-id="2aa50-219">Щелкните кластер HDInsight правой кнопкой мыши, а затем выберите пункт **Отобразить задания**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-219">Right-click an HDInsight cluster, and then click **View Jobs**.</span></span> <span data-ttu-id="2aa50-220">Появится список заданий Hive, запущенных на кластере.</span><span class="sxs-lookup"><span data-stu-id="2aa50-220">You'll see a list of the Hive jobs that ran on the cluster.</span></span>
3. <span data-ttu-id="2aa50-221">Выберите задание из списка заданий, а затем используйте окно **Hive Job Summary** (Сводка по заданию Hive), чтобы открыть **запрос задания**, **выходные данные задания**, **журнал задания** или **журнал YARN**.</span><span class="sxs-lookup"><span data-stu-id="2aa50-221">Click a job in the job list to select it, and then use the **Hive Job Summary** window to open **Job Query**, **Job Output**, **Job Log**, or **Yarn log**.</span></span>
   
    <span data-ttu-id="2aa50-222">![Средства Data Lake. Просмотр заданий Hive с помощью средств HDInsight для Visual Studio](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png "Просмотр заданий Hive")</span><span class="sxs-lookup"><span data-stu-id="2aa50-222">![Data Lake Tools: HDInsight Visual Studio Tools view Hive jobs](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.view.hive.jobs.png "View Hive jobs")</span></span>

### <a name="faster-path-hive-execution-via-hiveserver2"></a><span data-ttu-id="2aa50-223">Быстрый путь выполнения Hive с помощью HiveServer2</span><span class="sxs-lookup"><span data-stu-id="2aa50-223">Faster path Hive execution via HiveServer2</span></span>
> [!NOTE]
> <span data-ttu-id="2aa50-224">Эта функция работает только с кластером HDInsight 3.2 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="2aa50-224">This feature only works on HDInsight cluster version 3.2 and newer.</span></span>
> 
> 

<span data-ttu-id="2aa50-225">Инструменты Data Lake используются для отправки заданий Hive через интерфейс [WebHCat](https://cwiki.apache.org/confluence/display/Hive/WebHCat) (также известен как Templeton).</span><span class="sxs-lookup"><span data-stu-id="2aa50-225">The Data Lake Tools used to submit Hive jobs via [WebHCat](https://cwiki.apache.org/confluence/display/Hive/WebHCat) (also known as Templeton).</span></span> <span data-ttu-id="2aa50-226">Возврат сведений о задании и сведений об ошибках занимает много времени.</span><span class="sxs-lookup"><span data-stu-id="2aa50-226">It took a long time to return job details and error information.</span></span>
<span data-ttu-id="2aa50-227">Чтобы решить эту проблему производительности, инструменты Data Lake выполняют задания Hive непосредственно в кластере через HiveServer2, что позволяет обходить RDP/SSH.</span><span class="sxs-lookup"><span data-stu-id="2aa50-227">In order to solve this performance issue, the Data Lake Tools executes Hive jobs directly in the cluster through HiveServer2, so that it bypasses RDP/SSH.</span></span>
<span data-ttu-id="2aa50-228">Помимо повышения производительности пользователи также могут просматривать диаграммы выполнения задач Hive в Tez, а также сведения о задаче.</span><span class="sxs-lookup"><span data-stu-id="2aa50-228">In addition to better performance, users can also view Hive on Tez graphs, and the Task details.</span></span>

<span data-ttu-id="2aa50-229">При использовании кластера HDInsight 3.2 или более поздней версии будет отображена кнопка **Execute via HiveServer2** (Выполнить через HiveServer2):</span><span class="sxs-lookup"><span data-stu-id="2aa50-229">For HDInsight cluster version 3.2 or later, you can see an **Execute via HiveServer2** button:</span></span>

<span data-ttu-id="2aa50-230">![Средства Data Lake для Visual Studio, выполнение через HiveServer2](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.execute.via.hiveserver2.png "Выполнение запросов Hive с помощью HiveServer2")</span><span class="sxs-lookup"><span data-stu-id="2aa50-230">![Data Lake visual studio Tools execute via hiveserver2](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.execute.via.hiveserver2.png "Execute Hive queries using HiveServer2")</span></span>

<span data-ttu-id="2aa50-231">Кроме того, вы можете просматривать журналы, отображаемые в режиме реального времени, а также графики задания при выполнении запроса Hive в Tez.</span><span class="sxs-lookup"><span data-stu-id="2aa50-231">And you can see the logs streamed back in real-time and see the job graphs if the Hive query is executed in Tez.</span></span>

<span data-ttu-id="2aa50-232">![Средства Data Lake для Visual Studio, быстрый путь выполнения Hive](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.fast.path.hive.execution.png "Просмотр графики заданий")</span><span class="sxs-lookup"><span data-stu-id="2aa50-232">![Data Lake visual studio Tools fast path hive execution](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.fast.path.hive.execution.png "View job graphs")</span></span>

<span data-ttu-id="2aa50-233">**Разница между выполнением запросов через HiveServer2 и отправкой запросов через WebHCat**</span><span class="sxs-lookup"><span data-stu-id="2aa50-233">**Difference between executing queries via HiveServer2 and Submitting Queries via WebHCat**</span></span>

<span data-ttu-id="2aa50-234">Выполнение запросов через HiveServer2 имеет множество преимуществ в отношении производительности, однако есть и ряд ограничений.</span><span class="sxs-lookup"><span data-stu-id="2aa50-234">Even though executing queries via HiveServer2 has many performance benefits, it has several limitations.</span></span> <span data-ttu-id="2aa50-235">Некоторые ограничения делают невозможным использование этой функции в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="2aa50-235">Some of the limitations are not suitable for production usage.</span></span> <span data-ttu-id="2aa50-236">Различия показаны в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="2aa50-236">The following table shows the differences:</span></span>

|  | <span data-ttu-id="2aa50-237">Выполнение через HiveServer2</span><span class="sxs-lookup"><span data-stu-id="2aa50-237">Executing via HiveServer2</span></span> | <span data-ttu-id="2aa50-238">Отправка через WebHCat</span><span class="sxs-lookup"><span data-stu-id="2aa50-238">Submitting via WebHCat</span></span> |
| --- | --- | --- |
| <span data-ttu-id="2aa50-239">Выполнение запросов</span><span class="sxs-lookup"><span data-stu-id="2aa50-239">Execute queries</span></span> |<span data-ttu-id="2aa50-240">Устраняет временные затраты на сервере WebHCat (который запускает задание MapReduce с именем TempletonControllerJob).</span><span class="sxs-lookup"><span data-stu-id="2aa50-240">Eliminates the overhead in WebHCat (which launches a MapReduce Job named “TempletonControllerJob”).</span></span> |<span data-ttu-id="2aa50-241">Так как запрос выполняется через WebHCat, WebHCat запускает задание MapReduce, что вызывает дополнительную задержку.</span><span class="sxs-lookup"><span data-stu-id="2aa50-241">As long as a query is executed via WebHCat, WebHCat will launch a MapReduce job which introduces additional latency.</span></span> |
| <span data-ttu-id="2aa50-242">Потоковая передача журналов</span><span class="sxs-lookup"><span data-stu-id="2aa50-242">Stream logs back</span></span> |<span data-ttu-id="2aa50-243">Практически в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="2aa50-243">In near real-time.</span></span> |<span data-ttu-id="2aa50-244">Журналы выполнения заданий доступны, только если задание завершено.</span><span class="sxs-lookup"><span data-stu-id="2aa50-244">The job execution logs are available only when the job is finished.</span></span> |
| <span data-ttu-id="2aa50-245">Просмотр журнала заданий</span><span class="sxs-lookup"><span data-stu-id="2aa50-245">View job history</span></span> |<span data-ttu-id="2aa50-246">Если запрос выполняется через HiveServer2, его журнал заданий (выходные данные заданий) не сохраняется.</span><span class="sxs-lookup"><span data-stu-id="2aa50-246">If a query is executed via HiveServer2, its job history (job log, job output) is not preserved.</span></span> <span data-ttu-id="2aa50-247">Приложение можно просмотреть в пользовательском интерфейсе YARN с ограниченными сведениями.</span><span class="sxs-lookup"><span data-stu-id="2aa50-247">The application can be viewed in YARN UI with limited information.</span></span> |<span data-ttu-id="2aa50-248">Если запрос выполняется через WebHCat, его журнал заданий (выходные данные задания) сохраняется. Его можно просматривать с помощью Visual Studio, SDK HDInsight или PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2aa50-248">If a query is executed via WebHCat, it’s job history (job log, job output) is preserved and can be viewed using Visual Studio/HDInsight SDK/PowerShell.</span></span> |
| <span data-ttu-id="2aa50-249">Закрытие окна</span><span class="sxs-lookup"><span data-stu-id="2aa50-249">Close window</span></span> |<span data-ttu-id="2aa50-250">Выполнение через HiveServer2 является синхронной операцией, поэтому окна должны оставаться открытыми. Если закрыть окна, выполнение запроса будет отменено.</span><span class="sxs-lookup"><span data-stu-id="2aa50-250">Executing via HiveServer2 is a “synchronous” way so you must keep the windows open; if the windows are closed then the query execution will be canceled.</span></span> |<span data-ttu-id="2aa50-251">Отправка через WebHCat является асинхронной операцией, поэтому вы можете отправить запрос через WebHCat и закрыть Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2aa50-251">Submitting via WebHCat is a “asynchronous” way so you can submit the query via WebHCat and close Visual Studio.</span></span> <span data-ttu-id="2aa50-252">Вы можете вернуться и просмотреть результаты в любое время.</span><span class="sxs-lookup"><span data-stu-id="2aa50-252">You can come back and see the results at any time.</span></span> |

### <a name="tez-hive-job-performance-graph"></a><span data-ttu-id="2aa50-253">Диаграмма выполнения задания Tez Hive</span><span class="sxs-lookup"><span data-stu-id="2aa50-253">Tez Hive job performance graph</span></span>
<span data-ttu-id="2aa50-254">Инструменты Data Lake поддерживают отображение графиков производительности для заданий Hive, выполняемых механизмом выполнения Tez.</span><span class="sxs-lookup"><span data-stu-id="2aa50-254">The Data Lake Tools support showing performance graphs for the Hive jobs ran by the Tez execution engine.</span></span> <span data-ttu-id="2aa50-255">Сведения о том, как включить Tez, см. в статье [Использование Hive и HiveQL с Hadoop в HDInsight](hdinsight-use-hive.md).</span><span class="sxs-lookup"><span data-stu-id="2aa50-255">For information on enabling Tez, see [use Hive in HDInsight](hdinsight-use-hive.md).</span></span> <span data-ttu-id="2aa50-256">После отправки в Visual Studio задания Hive Visual Studio отобразит диаграмму по завершении задания.</span><span class="sxs-lookup"><span data-stu-id="2aa50-256">After you submit a Hive job in Visual Studio, Visual Studio shows you the graph when the job is completed.</span></span>  <span data-ttu-id="2aa50-257">Возможно, вам потребуется нажать кнопку **Обновить**, чтобы получить последние сведения о состоянии задания.</span><span class="sxs-lookup"><span data-stu-id="2aa50-257">You might need to click the **Refresh** button to get the latest job status.</span></span>

> [!NOTE]
> <span data-ttu-id="2aa50-258">Эта функция доступна для кластеров HDInsight начиная с версии 3.2.4.593. Она работает только для выполненных заданий (если задание отправлено через WebHCat). Показанная ниже диаграмма будет отображаться, если запрос выполняется через HiveServer2.</span><span class="sxs-lookup"><span data-stu-id="2aa50-258">This feature is only available for HDInsight cluster version above 3.2.4.593, and can only work for completed jobs (if you submitted your job through WebHCat; this graph will show when you execute your query through HiveServer2).</span></span> <span data-ttu-id="2aa50-259">Она работает для кластеров под управлением Windows и Linux.</span><span class="sxs-lookup"><span data-stu-id="2aa50-259">This works for both Windows and Linux-based clusters.</span></span>
> 
> 

<span data-ttu-id="2aa50-260">![Диаграмма производительности Tez для Hadoop Hive](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png "Состояние задания")</span><span class="sxs-lookup"><span data-stu-id="2aa50-260">![hadoop hive tez performance graph](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.hive.tez.performance.graph.png "Job status")</span></span>

<span data-ttu-id="2aa50-261">Функция просмотра операторов Hive добавлена в этот выпуск, что позволит упростить понимание запросов Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-261">To help you understand your Hive query better, the tools add the Hive Operator view in this release.</span></span> <span data-ttu-id="2aa50-262">Чтобы увидеть все операторы для вершины графика, просто дважды щелкните вершину графика задания.</span><span class="sxs-lookup"><span data-stu-id="2aa50-262">You just need to double-click on the vertices of the job graph and you can see all the operators inside the vertex.</span></span> <span data-ttu-id="2aa50-263">Чтобы просмотреть подробную информацию о конкретном операторе, наведите на него указатель.</span><span class="sxs-lookup"><span data-stu-id="2aa50-263">You can also hover on a particular operator to view more details of this operator.</span></span>

### <a name="task-execution-view-for-hive-on-tez-jobs"></a><span data-ttu-id="2aa50-264">Представление выполнения задачи для заданий Hive в Tez</span><span class="sxs-lookup"><span data-stu-id="2aa50-264">Task execution view for Hive on Tez jobs</span></span>
<span data-ttu-id="2aa50-265">Представление выполнения задачи для заданий Hive в Tez позволяет просматривать подробные и структурированные сведения о заданиях Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-265">The Task execution view for Hive on Tez jobs can be used to get structured & visualized information for Hive jobs, and get more job details.</span></span> <span data-ttu-id="2aa50-266">При наличии проблем с производительностью представление позволяет получить подробную информацию.</span><span class="sxs-lookup"><span data-stu-id="2aa50-266">When there are performance issues, you can use the view to get further details.</span></span> <span data-ttu-id="2aa50-267">Например, вы можете узнать, как обрабатывается каждая задача, а также получить подробные сведения о каждой задаче (чтение и запись данных, время запланированного запуска и завершения и т. д.). Эти наглядные сведения помогут вам изменить конфигурацию задания или архитектуру системы.</span><span class="sxs-lookup"><span data-stu-id="2aa50-267">For example, how each task operates and the detailed information about each task (data read/write, schedule/start/end time, etc.), so that you can tune job configurations or system architecture based on the visualized information.</span></span>

<span data-ttu-id="2aa50-268">![Средства Data Lake для Visual Studio, представление выполнения заданий](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.task.execution.view.png "Представление выполнения заданий")</span><span class="sxs-lookup"><span data-stu-id="2aa50-268">![Data Lake Visual Studio Tools task execution view](./media/hdinsight-hadoop-visual-studio-tools-get-started/hdinsight.visual.studio.tools.task.execution.view.png "Task execution view")</span></span>

## <a name="run-pig-scripts"></a><span data-ttu-id="2aa50-269">Запуск сценариев Pig</span><span class="sxs-lookup"><span data-stu-id="2aa50-269">Run Pig scripts</span></span>
<span data-ttu-id="2aa50-270">Инструменты Data Lake для Visual Studio поддерживают создание и отправку скриптов Pig в кластеры HDInsight.</span><span class="sxs-lookup"><span data-stu-id="2aa50-270">Data Lake Tools for Visual Studio supports creating and submit Pig scripts to HDInsight clusters.</span></span> <span data-ttu-id="2aa50-271">Пользователи могут создать проект Pig из шаблона и затем отправить сценарий в кластеры HDInsight.</span><span class="sxs-lookup"><span data-stu-id="2aa50-271">Users can create a Pig project from template, and then submit the script to HDInsight clusters.</span></span>

## <a name="feedbacks--known-issues"></a><span data-ttu-id="2aa50-272">Отзывы и известные проблемы</span><span class="sxs-lookup"><span data-stu-id="2aa50-272">Feedbacks & Known issues</span></span>
* <span data-ttu-id="2aa50-273">Сейчас результаты HiveServer2 отображаются как обычный текст, что не совсем удобно.</span><span class="sxs-lookup"><span data-stu-id="2aa50-273">Currently HiveServer2 results are displayed in pure text fashion which is not ideal.</span></span> <span data-ttu-id="2aa50-274">Мы работаем над решением этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="2aa50-274">We are working on fixing that.</span></span>
* <span data-ttu-id="2aa50-275">Если результаты начинаются со значения NULL, они не отображаются.</span><span class="sxs-lookup"><span data-stu-id="2aa50-275">If the results are started with NULL values, currently the results are not shown.</span></span> <span data-ttu-id="2aa50-276">Мы исправили эту ошибку. Если наличие такой проблемы блокирует вашу работу, свяжитесь с нами по электронной почте или обратитесь в службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="2aa50-276">We have fixed this issue and if you are blocked on this issue, feel free to drop us an email or contact support team.</span></span>
* <span data-ttu-id="2aa50-277">Сценарий HQL, созданный Visual Studio, кодируется в зависимости от параметров региона пользователя.</span><span class="sxs-lookup"><span data-stu-id="2aa50-277">The HQL script created by Visual Studio is encoded depending on user’s local region setting.</span></span> <span data-ttu-id="2aa50-278">Он может выполняться неправильно, если пользователь отправит сценарий в кластер в виде двоичного файла.</span><span class="sxs-lookup"><span data-stu-id="2aa50-278">It may not execute correctly if user uploads the script to cluster as binary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2aa50-279">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="2aa50-279">Next steps</span></span>
<span data-ttu-id="2aa50-280">Из этой статьи вы узнали, как подключаться к кластерам HDInsight из Visual Studio, используя инструменты Data Lake (в HDInsight) и выполнять запросы Hive.</span><span class="sxs-lookup"><span data-stu-id="2aa50-280">In this article, you learned how to connect to HDInsight clusters from Visual Studio, using the Data Lake (HDInsight) Tools package, and how to run a Hive query.</span></span> <span data-ttu-id="2aa50-281">Дополнительные сведения можно найти в разделе </span><span class="sxs-lookup"><span data-stu-id="2aa50-281">For more information, see:</span></span>

* [<span data-ttu-id="2aa50-282">Использование Hive и HiveQL с Hadoop в HDInsight</span><span class="sxs-lookup"><span data-stu-id="2aa50-282">Use Hadoop Hive in HDInsight</span></span>](hdinsight-use-hive.md)
* [<span data-ttu-id="2aa50-283">Руководство по Hadoop. Приступая к работе с Hadoop в HDInsight</span><span class="sxs-lookup"><span data-stu-id="2aa50-283">Get started using Hadoop in HDInsight</span></span>](hdinsight-hadoop-linux-tutorial-get-started.md)
* [<span data-ttu-id="2aa50-284">Отправка заданий Hadoop в HDInsight</span><span class="sxs-lookup"><span data-stu-id="2aa50-284">Submit Hadoop jobs in HDInsight</span></span>](hdinsight-submit-hadoop-jobs-programmatically.md)
* [<span data-ttu-id="2aa50-285">Анализ данных Twitter с помощью Hive в HDInsight</span><span class="sxs-lookup"><span data-stu-id="2aa50-285">Analyze Twitter data with Hadoop in HDInsight</span></span>](hdinsight-analyze-twitter-data.md)

