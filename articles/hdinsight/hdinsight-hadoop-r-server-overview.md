---
title: "Основные сведения об R Server в HDInsight | Документация Майкрософт"
description: "Узнайте, как с помощью R Server в HDInsight создать приложения для анализа больших данных."
services: hdinsight
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6dc21bf5-4429-435f-a0fb-eea856e0ea96
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 06/19/2017
ms.author: bradsev
ms.openlocfilehash: c88bf04f904d6784b882f524ac8737ca70003c91
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
#<a name="introduction-to-r-server-and-open-source-r-capabilities-on-hdinsight"></a><span data-ttu-id="16ca4-103">Основные сведения об R Server и возможностях открытого кода R в HDInsight</span><span class="sxs-lookup"><span data-stu-id="16ca4-103">Introduction to R Server and open-source R capabilities on HDInsight</span></span>

<span data-ttu-id="16ca4-104">Microsoft R Server доступен в качестве варианта развертывания при создании кластеров HDInsight в Azure.</span><span class="sxs-lookup"><span data-stu-id="16ca4-104">Microsoft R Server is available as a deployment option when you create HDInsight clusters in Azure.</span></span> <span data-ttu-id="16ca4-105">Это новшество позволяет специалистам по обработке и анализу данных, статистикам и программистам на R получать доступ к масштабируемым, распределенным методам аналитики в HDInsight по требованию.</span><span class="sxs-lookup"><span data-stu-id="16ca4-105">This new capability provides data scientists, statisticians, and R programmers with on-demand access to scalable, distributed methods of analytics on HDInsight.</span></span>

<span data-ttu-id="16ca4-106">Кластеры можно масштабировать в соответствии с размерами существующих проектов и задач, а также удалять, когда они больше не требуются.</span><span class="sxs-lookup"><span data-stu-id="16ca4-106">Clusters can be sized appropriately to the projects and tasks at hand and then torn down when they're no longer needed.</span></span> <span data-ttu-id="16ca4-107">Так как такие кластеры входят в Azure HDInsight, они поставляются с круглосуточной поддержкой корпоративного уровня, гарантией бесперебойной работы в течение 99,9 % времени и возможностью интеграции с другими компонентами экосистемы Azure.</span><span class="sxs-lookup"><span data-stu-id="16ca4-107">Since they're part of Azure HDInsight, these clusters come with enterprise-level 24/7 support, an SLA of 99.9% up-time, and the ability to integrate with other components in the Azure ecosystem.</span></span>

<span data-ttu-id="16ca4-108">R Server в HDInsight предоставляет новейшие возможности для анализа наборов данных практически любого размера, загруженных в хранилище BLOB-объектов Azure или Data Lake Store, на базе языка R.</span><span class="sxs-lookup"><span data-stu-id="16ca4-108">R Server on HDInsight provides the latest capabilities for R-based analytics on datasets of virtually any size, loaded to either Azure Blob or Data Lake storage.</span></span> <span data-ttu-id="16ca4-109">Так как R Server основывается на R с открытым кодом, вы сможете использовать в своих приложениях на основе R любые из более чем 8000 пакетов R с открытым кодом.</span><span class="sxs-lookup"><span data-stu-id="16ca4-109">Since R Server is built on open source R, the R-based applications you build can leverage any of the 8000+ open source R packages.</span></span> <span data-ttu-id="16ca4-110">Также доступны процедуры из ScaleR — пакета аналитики больших данных от Майкрософт, который входит в состав R Server.</span><span class="sxs-lookup"><span data-stu-id="16ca4-110">The routines in ScaleR, Microsoft’s big data analytics package included with R Server, are also available.</span></span>

<span data-ttu-id="16ca4-111">Для подключения к кластеру и выполнения скриптов на языке R удобно использовать граничный узел кластеров.</span><span class="sxs-lookup"><span data-stu-id="16ca4-111">The edge node of a cluster provides a convenient place to connect to the cluster and to run your R scripts.</span></span> <span data-ttu-id="16ca4-112">На граничном узле вы можете выполнять распараллеленные распределенные функции ScaleR на ядрах сервера граничного узла.</span><span class="sxs-lookup"><span data-stu-id="16ca4-112">With an edge node, you have the option of running the parallelized distributed functions of ScaleR across the cores of the edge node server.</span></span> <span data-ttu-id="16ca4-113">Кроме того, вы можете выполнять эти функции на узлах кластера с помощью контекста вычислений Hadoop Map Reduce или Spark ScaleR.</span><span class="sxs-lookup"><span data-stu-id="16ca4-113">You can also run them across the nodes of the cluster by using ScaleR’s Hadoop Map Reduce or Spark compute contexts.</span></span>

<span data-ttu-id="16ca4-114">Модели или прогнозы, которые получаются в результате анализа, можно загрузить для локального использования.</span><span class="sxs-lookup"><span data-stu-id="16ca4-114">The models or predictions that result from analyses can be downloaded for use on-premises.</span></span> <span data-ttu-id="16ca4-115">Их также можно использовать в любой службе Azure, в частности в [веб-службе](../machine-learning/machine-learning-publish-a-machine-learning-web-service.md) [Студия машинного обучения Microsoft Azure](http://studio.azureml.net).</span><span class="sxs-lookup"><span data-stu-id="16ca4-115">They can also be operationalized elsewhere in Azure, in particular through [Azure Machine Learning Studio](http://studio.azureml.net) [web service](../machine-learning/machine-learning-publish-a-machine-learning-web-service.md).</span></span>

## <a name="get-started-with-r-on-hdinsight"></a><span data-ttu-id="16ca4-116">Начало работы с R Server в HDInsight</span><span class="sxs-lookup"><span data-stu-id="16ca4-116">Get started with R on HDInsight</span></span>
<span data-ttu-id="16ca4-117">Чтобы добавить R Server в кластер HDInsight, необходимо выбрать тип кластера R Server при создании кластера HDInsight на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="16ca4-117">To include R Server in an HDInsight cluster, you must select the R Server cluster type when creating an HDInsight cluster using the Azure portal.</span></span> <span data-ttu-id="16ca4-118">Тип кластера R Server включает в себя R Server на узлах данных кластера и R Server на граничном узле, который служит платформой для анализа данных на базе R Server.</span><span class="sxs-lookup"><span data-stu-id="16ca4-118">The R Server cluster type includes R Server on the data nodes of the cluster and on an edge node, which serves as a landing zone for R Server-based analytics.</span></span> <span data-ttu-id="16ca4-119">Пошаговые инструкции по созданию кластера см. в статье [Приступая к работе с R Server в HDInsight](hdinsight-hadoop-r-server-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-119">See [Getting Started with R Server on HDInsight](hdinsight-hadoop-r-server-get-started.md) for a walkthrough on how to create the cluster.</span></span>

## <a name="learn-about-data-storage-options"></a><span data-ttu-id="16ca4-120">Варианты хранилищ данных</span><span class="sxs-lookup"><span data-stu-id="16ca4-120">Learn about data storage options</span></span>
<span data-ttu-id="16ca4-121">Объем хранилища по умолчанию для файловой системы HDFS в кластерах HDInsight можно связать с учетной записи хранения Azure или Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="16ca4-121">Default storage for the HDFS file system of HDInsight clusters can be associated with either an Azure Storage account or an Azure Data Lake store.</span></span> <span data-ttu-id="16ca4-122">Такая связь гарантирует сохранение данных независимо от того, какие данные передаются в хранилище кластера в ходе анализа.</span><span class="sxs-lookup"><span data-stu-id="16ca4-122">This association ensures that whatever data is uploaded to the cluster storage during analysis is made persistent.</span></span> <span data-ttu-id="16ca4-123">Существуют различные инструменты для обработки передачи данных в выбранное вами хранилище, включая средства передачи портала, доступные учетной записи хранения, и служебную программу [AzCopy](../storage/common/storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-123">There are various tools for handling the data transfer to the storage option that you select, including the portal-based upload facility of the storage account and the [AzCopy](../storage/common/storage-use-azcopy.md) utility.</span></span>

<span data-ttu-id="16ca4-124">Независимо от выбранного основного хранилища вы можете настроить доступ к дополнительным хранилищам BLOB-объектов или Data Lake Store во время подготовки кластера.</span><span class="sxs-lookup"><span data-stu-id="16ca4-124">You have the option of adding access to additional Blob and Data lake stores during the cluster provisioning process regardless of the primary storage option in use.</span></span> <span data-ttu-id="16ca4-125">Сведения о настройке доступа к дополнительным учетным записям см. в статье [Приступая к работе с R Server в HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-get-started).</span><span class="sxs-lookup"><span data-stu-id="16ca4-125">See [Getting started with R Server on HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-get-started) for information on adding access to additional accounts.</span></span> <span data-ttu-id="16ca4-126">Сведения об использовании нескольких учетных записей хранения см. в дополнительной статье [Параметры службы хранилища Azure для R Server в HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-storage).</span><span class="sxs-lookup"><span data-stu-id="16ca4-126">See the supplementary [Azure Storage options for R Server on HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-storage) article to learn more about using multiple storage accounts.</span></span>

<span data-ttu-id="16ca4-127">На граничном узле для хранения данных можно также использовать [файлы Azure](../storage/files/storage-how-to-use-files-linux.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-127">You can also use [Azure Files](../storage/files/storage-how-to-use-files-linux.md) as a storage option for use on the edge node.</span></span> <span data-ttu-id="16ca4-128">Они позволяют подключить общую папку, созданную в службе хранения Azure, к файловой системе Linux.</span><span class="sxs-lookup"><span data-stu-id="16ca4-128">Azure Files enables you to mount a file share that was created in Azure Storage to the Linux file system.</span></span> <span data-ttu-id="16ca4-129">Дополнительные сведения об этих вариантах хранения данных для R Server в кластере HDInsight см. в статье [Параметры службы хранилища Azure для R Server в кластерах HDInsight](hdinsight-hadoop-r-server-storage.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-129">For more information about these data storage options for R Server on HDInsight cluster, see [Azure Storage options for R Server on HDInsight clusters](hdinsight-hadoop-r-server-storage.md).</span></span>

## <a name="access-r-server-on-the-cluster"></a><span data-ttu-id="16ca4-130">Доступ к R Server в кластере</span><span class="sxs-lookup"><span data-stu-id="16ca4-130">Access R Server on the cluster</span></span>
<span data-ttu-id="16ca4-131">Вы можете подключиться к R Server на граничном узле с помощью браузера, если вы решили добавить сервер RStudio Server в процессе подготовки.</span><span class="sxs-lookup"><span data-stu-id="16ca4-131">You can connect to R Server on the edge node using a browser, provided you’ve chosen to include RStudio Server during the provisioning process.</span></span> <span data-ttu-id="16ca4-132">Если вы не установили его при подготовке кластера, его можно добавить позднее.</span><span class="sxs-lookup"><span data-stu-id="16ca4-132">If you did not install it when provisioning the cluster, you can add it later.</span></span> <span data-ttu-id="16ca4-133">Сведения об установке сервера RStudio Server после создания кластера см. в статье [Установка RStudio с R Server в HDInsight](hdinsight-hadoop-r-server-install-r-studio.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-133">For information about installing RStudio Server after a cluster is created, see [Installing RStudio Server on HDInsight clusters](hdinsight-hadoop-r-server-install-r-studio.md).</span></span> <span data-ttu-id="16ca4-134">Для доступа к консоли R можно также подключиться к R Server с помощью SSH или PuTTY.</span><span class="sxs-lookup"><span data-stu-id="16ca4-134">You can also connect to the R Server by using SSH/PuTTY to access the R console.</span></span> 

## <a name="develop-and-run-r-scripts"></a><span data-ttu-id="16ca4-135">Разработка и выполнение сценариев R</span><span class="sxs-lookup"><span data-stu-id="16ca4-135">Develop and run R scripts</span></span>
<span data-ttu-id="16ca4-136">Для создания и выполнения скриптов R можно использовать не только распараллеленные распределенные процедуры из библиотеки ScaleR, но и более 8000 пакетов R с открытым исходным кодом.</span><span class="sxs-lookup"><span data-stu-id="16ca4-136">The R scripts you create and run can use any of the 8000+ open source R packages in addition to the parallelized and distributed routines available in the ScaleR library.</span></span> <span data-ttu-id="16ca4-137">Как правило, скрипт, выполняемый R Server на граничном узле, выполняется в интерпретаторе R на этом узле.</span><span class="sxs-lookup"><span data-stu-id="16ca4-137">In general, a script that is run with R Server on the edge node runs within the R interpreter on that node.</span></span> <span data-ttu-id="16ca4-138">Исключением являются действия, которым необходимо вызывать функцию ScaleR с контекстом вычислений Hadoop Map Reduce (RxHadoopMR) или Spark (RxSpark).</span><span class="sxs-lookup"><span data-stu-id="16ca4-138">The exceptions are those steps that need to call a ScaleR function with a compute context that is set to Hadoop Map Reduce (RxHadoopMR) or Spark (RxSpark).</span></span> <span data-ttu-id="16ca4-139">В этих случаях функция выполняется в распределенном режиме на узлах данных (задач) кластера, связанных с соответствующими данными.</span><span class="sxs-lookup"><span data-stu-id="16ca4-139">In this case, the function runs in a distributed fashion across those data (task) nodes of the cluster that are associated with the data referenced.</span></span> <span data-ttu-id="16ca4-140">Дополнительные сведения о различных параметрах контекста вычислений см. в статье [Параметры контекста вычислений для R Server в HDInsight (предварительная версия)](hdinsight-hadoop-r-server-compute-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-140">For more information about the different compute context options, see [Compute context options for R Server on HDInsight](hdinsight-hadoop-r-server-compute-contexts.md).</span></span>

## <a name="operationalize-a-model"></a><span data-ttu-id="16ca4-141">Ввод модели в эксплуатацию</span><span class="sxs-lookup"><span data-stu-id="16ca4-141">Operationalize a model</span></span>
<span data-ttu-id="16ca4-142">После того как моделирование данных будет завершено, вы можете запустить модель в эксплуатацию для составления прогнозов на основе новых данных в Azure или в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="16ca4-142">When your data modeling is complete, you can operationalize the model to make predictions for new data either from Azure and on-premises.</span></span> <span data-ttu-id="16ca4-143">Этот процесс называется оценкой.</span><span class="sxs-lookup"><span data-stu-id="16ca4-143">This process is known as scoring.</span></span> <span data-ttu-id="16ca4-144">Оценка может осуществляться в HDInsight, Машинном обучении Azure или локальной среде.</span><span class="sxs-lookup"><span data-stu-id="16ca4-144">Scoring can be done in HDInsight, Azure Machine Learning, or on-premises.</span></span>

### <a name="score-in-hdinsight"></a><span data-ttu-id="16ca4-145">Оценка в HDInsight</span><span class="sxs-lookup"><span data-stu-id="16ca4-145">Score in HDInsight</span></span>
<span data-ttu-id="16ca4-146">Для оценки в HDInsight напишите функцию R, которая вызывает модель для создания прогнозов для нового файла данных, загруженного в учетную запись хранения.</span><span class="sxs-lookup"><span data-stu-id="16ca4-146">To score in HDInsight, write an R function that calls your model to make predictions for a new data file that you've loaded to your storage account.</span></span> <span data-ttu-id="16ca4-147">Сохраните прогнозы в учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="16ca4-147">Then save the predictions back to the storage account.</span></span> <span data-ttu-id="16ca4-148">Эту процедуру можно выполнять на граничном узле кластера по требованию или по расписанию.</span><span class="sxs-lookup"><span data-stu-id="16ca4-148">You can run the routine on-demand on the edge node of your cluster or by using a scheduled job.</span></span>  

### <a name="score-in-azure-machine-learning-aml"></a><span data-ttu-id="16ca4-149">Оценка в Машинном обучении Azure</span><span class="sxs-lookup"><span data-stu-id="16ca4-149">Score in Azure Machine Learning (AML)</span></span>
<span data-ttu-id="16ca4-150">Для оценки с помощью веб-службы машинного обучения Azure используйте пакет R с открытым кодом для Машинного обучения Azure, известный как [AzureML](https://cran.r-project.org/web/packages/AzureML/vignettes/getting_started.html), чтобы опубликовать модель как веб-службу Azure.</span><span class="sxs-lookup"><span data-stu-id="16ca4-150">To score using an AML web service, use the open source Azure Machine Learning R package known as [AzureML](https://cran.r-project.org/web/packages/AzureML/vignettes/getting_started.html) to publish your model as an Azure web service.</span></span> <span data-ttu-id="16ca4-151">Для удобства этот пакет предварительно установлен на граничном узле.</span><span class="sxs-lookup"><span data-stu-id="16ca4-151">For convenience, this package is pre-installed on the edge node.</span></span> <span data-ttu-id="16ca4-152">Используйте средства машинного обучения, чтобы создать пользовательский интерфейс для веб-службы. Затем вызовите веб-службу, чтобы выполнить оценку.</span><span class="sxs-lookup"><span data-stu-id="16ca4-152">Next, use the facilities in Machine Learning to create a user interface for the web service, and then call the web service as needed for scoring.</span></span>

<span data-ttu-id="16ca4-153">При выборе этого варианта объекты модели ScaleR необходимо преобразовать в эквивалентные объекты модели с открытым исходным кодом для использования с веб-службой.</span><span class="sxs-lookup"><span data-stu-id="16ca4-153">If you choose this option, you need to convert any ScaleR model objects to equivalent open-source model objects for use with the web service.</span></span> <span data-ttu-id="16ca4-154">Для этого используйте функции приведения ScaleR, такие как `as.randomForest()`, для моделей на основе ансамблей.</span><span class="sxs-lookup"><span data-stu-id="16ca4-154">Use ScaleR coercion functions, such as `as.randomForest()` for ensemble-based models, for this conversion.</span></span>

### <a name="score-on-premises"></a><span data-ttu-id="16ca4-155">Оценка в локальной среде</span><span class="sxs-lookup"><span data-stu-id="16ca4-155">Score on-premises</span></span>
<span data-ttu-id="16ca4-156">Для оценки в локальной среде созданную модель можно сериализовать в R, загрузить на локальный компьютер, десериализовать, а затем использовать для оценки новых данных.</span><span class="sxs-lookup"><span data-stu-id="16ca4-156">To score on-premises after creating your model, you can serialize the model in R, download it, de-serialize it, and then use it for scoring new data.</span></span> <span data-ttu-id="16ca4-157">Вы можете оценить новые данные, используя подход, описанный ранее в статье [Общие сведения об R Server в HDInsight (предварительная версия)](#scoring-in-hdinsight), или с помощью [DeployR](https://deployr.revolutionanalytics.com/).</span><span class="sxs-lookup"><span data-stu-id="16ca4-157">You can score new data by using the approach described earlier in [Scoring in HDInsight](#scoring-in-hdinsight) or by using [DeployR](https://deployr.revolutionanalytics.com/).</span></span>

## <a name="maintain-the-cluster"></a><span data-ttu-id="16ca4-158">Обслуживание кластера</span><span class="sxs-lookup"><span data-stu-id="16ca4-158">Maintain the cluster</span></span>
### <a name="install-and-maintain-r-packages"></a><span data-ttu-id="16ca4-159">Установка и обслуживание пакетов R</span><span class="sxs-lookup"><span data-stu-id="16ca4-159">Install and maintain R packages</span></span>
<span data-ttu-id="16ca4-160">Большинство используемых вами пакетов R должны находиться на граничном узле, так как именно там выполняется основная часть действий скриптов R.</span><span class="sxs-lookup"><span data-stu-id="16ca4-160">Most of the R packages that you use are required on the edge node since most steps of your R scripts run there.</span></span> <span data-ttu-id="16ca4-161">Для установки дополнительных пакетов R на граничном узле можно использовать обычный для R метод `install.packages()` .</span><span class="sxs-lookup"><span data-stu-id="16ca4-161">To install additional R packages on the edge node, you can use the usual `install.packages()` method in R.</span></span>

<span data-ttu-id="16ca4-162">Если вы пользуетесь только подпрограммами из библиотеки ScaleR в кластере, устанавливать дополнительные пакеты R на узлы данных, как правило, не требуется.</span><span class="sxs-lookup"><span data-stu-id="16ca4-162">If you are just using routines from the ScaleR library across the cluster, you do not usually need to install additional R packages on the data nodes.</span></span> <span data-ttu-id="16ca4-163">Однако дополнительные пакеты могут потребоваться для выполнения метода **rxExec** или **RxDataStep** на узлах данных.</span><span class="sxs-lookup"><span data-stu-id="16ca4-163">However, you might need additional packages to support the use of **rxExec** or **RxDataStep** execution on the data nodes.</span></span>

<span data-ttu-id="16ca4-164">В таких случаях после создания кластера дополнительные пакеты можно установить с помощью действия скрипта.</span><span class="sxs-lookup"><span data-stu-id="16ca4-164">In these cases, the additional packages can be installed with a script action after you create the cluster.</span></span> <span data-ttu-id="16ca4-165">Дополнительные сведения см. в статье [Приступая к работе с R Server в HDInsight (предварительная версия)](hdinsight-hadoop-r-server-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-165">For more information, see [Creating an HDInsight cluster with R Server](hdinsight-hadoop-r-server-get-started.md).</span></span>   

### <a name="change-hadoop-map-reduce-memory-settings"></a><span data-ttu-id="16ca4-166">Изменение параметров памяти Hadoop MapReduce</span><span class="sxs-lookup"><span data-stu-id="16ca4-166">Change Hadoop Map Reduce memory settings</span></span>
<span data-ttu-id="16ca4-167">Изменив кластер, можно скорректировать объем памяти, который будет доступен R Server при выполнении задания MapReduce.</span><span class="sxs-lookup"><span data-stu-id="16ca4-167">A cluster can be modified to change the amount of memory that's available to R Server when it's running a Map Reduce job.</span></span> <span data-ttu-id="16ca4-168">Чтобы изменить кластер, используйте пользовательский интерфейс Ambari, который вы найдете в колонке своего кластера на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="16ca4-168">To modify a cluster, use the Apache Ambari UI that's available through the Azure portal blade for your cluster.</span></span> <span data-ttu-id="16ca4-169">Инструкции по получению доступа к пользовательскому интерфейсу Ambari для кластера см. в статье [Управление кластерами HDInsight с помощью веб-интерфейса Ambari](hdinsight-hadoop-manage-ambari.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-169">For instructions about how to access the Ambari UI for your cluster, see [Manage HDInsight clusters using the Ambari Web UI](hdinsight-hadoop-manage-ambari.md).</span></span>

<span data-ttu-id="16ca4-170">Вы также можете изменить объем памяти, доступной для R Server, с помощью параметров Hadoop в вызове метода **RxHadoopMR** , как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="16ca4-170">It's also possible to change the amount of memory that's available to R Server by using Hadoop switches in the call to **RxHadoopMR** as follows:</span></span>

    hadoopSwitches = "-libjars /etc/hadoop/conf -Dmapred.job.map.memory.mb=6656"  

### <a name="scale-your-cluster"></a><span data-ttu-id="16ca4-171">Масштабирование кластера</span><span class="sxs-lookup"><span data-stu-id="16ca4-171">Scale your cluster</span></span>
<span data-ttu-id="16ca4-172">Существующий кластер можно увеличить или уменьшить на портале.</span><span class="sxs-lookup"><span data-stu-id="16ca4-172">An existing cluster can be scaled up or down through the portal.</span></span> <span data-ttu-id="16ca4-173">Благодаря масштабированию вы получаете дополнительную мощность, которая может потребоваться для более ресурсоемких задач. Также масштабирование позволяет свернуть кластер во время простоя.</span><span class="sxs-lookup"><span data-stu-id="16ca4-173">By scaling, you can gain the additional capacity that you might need for larger processing tasks, or you can scale back a cluster when it is idle.</span></span> <span data-ttu-id="16ca4-174">Инструкции по масштабированию кластера см. в статье [Управление кластерами Hadoop в HDInsight с помощью портала Azure](hdinsight-administer-use-portal-linux.md).</span><span class="sxs-lookup"><span data-stu-id="16ca4-174">For instructions about how to scale a cluster, see [Manage HDInsight clusters](hdinsight-administer-use-portal-linux.md).</span></span>

### <a name="maintain-the-system"></a><span data-ttu-id="16ca4-175">Поддержка системы</span><span class="sxs-lookup"><span data-stu-id="16ca4-175">Maintain the system</span></span>
<span data-ttu-id="16ca4-176">Обслуживание, включающее в себя установку исправлений ОС и других обновлений, проводится на базовых виртуальных машинах Linux в кластере HDInsight в нерабочее время.</span><span class="sxs-lookup"><span data-stu-id="16ca4-176">Maintenance to apply OS patches and other updates is performed on the underlying Linux VMs in an HDInsight cluster during off-hours.</span></span> <span data-ttu-id="16ca4-177">Как правило, обслуживание проводится каждый понедельник и четверг в 3:30 (по местному времени для виртуальной машины).</span><span class="sxs-lookup"><span data-stu-id="16ca4-177">Typically, maintenance is done at 3:30 AM (based on the local time for the VM) every Monday and Thursday.</span></span> <span data-ttu-id="16ca4-178">Обновления выполняются таким образом, чтобы они не влияли более чем на четверть кластера одновременно.</span><span class="sxs-lookup"><span data-stu-id="16ca4-178">Updates are performed in such a way that they don't impact more than a quarter of the cluster at a time.</span></span>  

<span data-ttu-id="16ca4-179">Так как головные узлы избыточны, а затрагиваются не все узлы данных, выполнение заданий в это время может занимать больше времени.</span><span class="sxs-lookup"><span data-stu-id="16ca4-179">Since the head nodes are redundant and not all data nodes are impacted, any jobs that are running during this time might slow down.</span></span> <span data-ttu-id="16ca4-180">Но они все равно будут выполняться до завершения.</span><span class="sxs-lookup"><span data-stu-id="16ca4-180">They should still run to completion, however.</span></span> <span data-ttu-id="16ca4-181">Обслуживание не затрагивает установленное пользовательское программное обеспечение или локальные данные, если только в системе не возникнет неустранимая ошибка, требующая повторной сборки кластера.</span><span class="sxs-lookup"><span data-stu-id="16ca4-181">Any custom software or local data that you have is preserved across these maintenance events unless a catastrophic failure occurs that requires a cluster rebuild.</span></span>

## <a name="learn-about-ide-options-for-r-server-on-an-hdinsight-cluster"></a><span data-ttu-id="16ca4-182">Параметры IDE для R Server в кластере HDInsight</span><span class="sxs-lookup"><span data-stu-id="16ca4-182">Learn about IDE options for R Server on an HDInsight cluster</span></span>
<span data-ttu-id="16ca4-183">Граничный узел Linux в кластере HDInsight используется в качестве платформы для анализа на основе R.</span><span class="sxs-lookup"><span data-stu-id="16ca4-183">The Linux edge node of an HDInsight cluster is the landing zone for R-based analysis.</span></span> <span data-ttu-id="16ca4-184">В последних версиях HDInsight доступен параметр по умолчанию, позволяющий установить версию [RStudio Server](https://www.rstudio.com/products/rstudio-server/) для сообщества на граничном узле в качестве браузерной интегрированной среды разработки.</span><span class="sxs-lookup"><span data-stu-id="16ca4-184">Recent versions of HDInsight provide a default option for installing the community version of [RStudio Server](https://www.rstudio.com/products/rstudio-server/) on the edge node as a browser-based IDE.</span></span> <span data-ttu-id="16ca4-185">Использование RStudio Server в качестве интегрированной среды разработки для разработки и выполнение сценариев R может быть намного более эффективным, чем использование только консоли R.</span><span class="sxs-lookup"><span data-stu-id="16ca4-185">Use of RStudio Server as an IDE for the development and execution of R scripts can be considerably more productive than just using the R console.</span></span> <span data-ttu-id="16ca4-186">Если вы решили не добавлять RStudio Server при создании кластера и хотите добавить его позже, то вам следует изучить раздел [Установка RStudio с R Server в HDInsight](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-install-r-studio).</span><span class="sxs-lookup"><span data-stu-id="16ca4-186">If you chose not to add RStudio Server when creating the cluster but would like to add it later, then see [Installing R Studio Server on HDInsight clusters](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-r-server-install-r-studio).+</span></span>

<span data-ttu-id="16ca4-187">Еще один способ получить полноценную интегрированную среду разработки — установить классическую интегрированную среду разработки и использовать ее для доступа к кластеру посредством удаленного контекста вычислений Map Reduce или Spark.</span><span class="sxs-lookup"><span data-stu-id="16ca4-187">Another full IDE option is to install a desktop IDE and use it to access the cluster through use of a remote Map Reduce or Spark compute context.</span></span> <span data-ttu-id="16ca4-188">К возможным вариантам относятся [Инструменты R для Visual Studio](https://www.visualstudio.com/features/rtvs-vs.aspx), RStudio и [StatET](http://www.walware.de/goto/statet) на базе Eclipse от Walware.</span><span class="sxs-lookup"><span data-stu-id="16ca4-188">Options include Microsoft’s [R Tools for Visual Studio](https://www.visualstudio.com/features/rtvs-vs.aspx) (RTVS), RStudio, and Walware’s Eclipse-based [StatET](http://www.walware.de/goto/statet).</span></span>

<span data-ttu-id="16ca4-189">Наконец, доступ к консоли R Server на граничном узле можно получить, просто введя **R** в командной строке Linux после подключения с помощью SSH или PuTY.</span><span class="sxs-lookup"><span data-stu-id="16ca4-189">Lastly, you can access the R Server console on the edge node by typing **R** at the Linux command prompt after connecting via SSH or PuTY.</span></span> <span data-ttu-id="16ca4-190">При работе с консолью будет удобнее, если вы откроете текстовый редактор для разработки скрипта R в другом окне и будете вырезать и вставлять необходимые фрагменты скрипта в консоль R.</span><span class="sxs-lookup"><span data-stu-id="16ca4-190">When using the console interface, it is convenient to run a text editor for R script development in another window, and cut and paste sections of your script into the R console as needed.</span></span>

## <a name="learn-about-pricing"></a><span data-ttu-id="16ca4-191">Информация о ценах</span><span class="sxs-lookup"><span data-stu-id="16ca4-191">Learn about pricing</span></span>
<span data-ttu-id="16ca4-192">Кластер HDInsight с R Server оплачивается по такой же схеме, что и стандартные кластеры HDInsight.</span><span class="sxs-lookup"><span data-stu-id="16ca4-192">The fees that are associated with an HDInsight cluster with R Server are structured similarly to the fees for the standard HDInsight clusters.</span></span> <span data-ttu-id="16ca4-193">Стоимость кластера зависит от размера основной виртуальной машины на разных узлах имен, узлах данных и граничных узлах, а также от наценки за ядро-час в кластере.</span><span class="sxs-lookup"><span data-stu-id="16ca4-193">They are based on the sizing of the underlying VMs across the name, data, and edge nodes, with the addition of a core-hour uplift.</span></span> <span data-ttu-id="16ca4-194">Дополнительные сведения о ценах на кластеры HDInsight и доступности 30-дневной бесплатной пробной версии см. на странице [цен на HDInsight](https://azure.microsoft.com/pricing/details/hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="16ca4-194">For more information about HDInsight pricing, and the availability of a 30-day free trial, see [HDInsight pricing](https://azure.microsoft.com/pricing/details/hdinsight/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="16ca4-195">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="16ca4-195">Next steps</span></span>
<span data-ttu-id="16ca4-196">Дополнительные сведения об использовании R Server для работы с кластерами HDInsight см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="16ca4-196">To learn more about how to use R Server with HDInsight clusters, see the following topics:</span></span>

* [<span data-ttu-id="16ca4-197">Приступая к работе с R Server в HDInsight (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="16ca4-197">Getting started with R Server on HDInsight</span></span>](hdinsight-hadoop-r-server-get-started.md)
* [<span data-ttu-id="16ca4-198">Установка RStudio с R Server в HDInsight (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="16ca4-198">Add RStudio Server to HDInsight (if not installed during cluster creation)</span></span>](hdinsight-hadoop-r-server-install-r-studio.md)
* [<span data-ttu-id="16ca4-199">Варианты контекста вычислений для R Server в HDInsight</span><span class="sxs-lookup"><span data-stu-id="16ca4-199">Compute context options for R Server on HDInsight</span></span>](hdinsight-hadoop-r-server-compute-contexts.md)
* [<span data-ttu-id="16ca4-200">Параметры службы хранилища Azure для R Server в HDInsight (предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="16ca4-200">Azure Storage options for R Server on HDInsight</span></span>](hdinsight-hadoop-r-server-storage.md)
