---
title: "расписание исправления aaaConfigure ОС для кластеров под управлением Linux HDInsight - Azure | Документы Microsoft"
description: "Узнайте, как кластеры расписание исправления tooconfigure ОС для HDInsight под управлением Linux."
services: hdinsight
documentationcenter: 
author: bprakash
manager: asadk
editor: bprakash
ms.assetid: 
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 03/21/2017
ms.author: bhanupr
ms.openlocfilehash: 1598d64e594d7e8a68573fc63dd86051a5a9d025
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="os-patching-for-hdinsight"></a>Обновление путем частичной замены ОС для кластеров HDInsight 
Как управляемая служба Hadoop HDInsight отвечает за исправление hello ОС из hello, базовые виртуальные машины, используемые в кластерах HDInsight. Начиная с 1 августа 2016 г. Мы изменили исправления политика hello гостевой операционной системы для кластеров HDInsight под управлением Linux (версии 3.4 или выше). Цель Hello hello новой политики — toosignificantly снизить количество hello перезагрузки из-за toopatching. Новая политика Hello по-прежнему toopatch виртуальных машин (ВМ) в Linux кластеры каждый понедельник или Четверг, начиная с 12: 00 UTC в виде перемещение по узлам данного кластера. Тем не менее все виртуальные Машины, заданного перезагрузится только один раз каждые 30 дней, из-за исправления tooguest ОС. Кроме того hello первой перезагрузки для только что созданный кластер не произойдет раньше, чем 30 дней после даты создания кластера hello. Обновления будут действовать после перезагружаются hello виртуальных машин.

## <a name="how-tooconfigure-hello-os-patching-schedule-for-linux-based-hdinsight-clusters"></a>Как tooconfigure hello расписание исправления операционной системы для кластеров HDInsight под управлением Linux
Hello виртуальных машин в кластер HDInsight должны toobe иногда перезагрузить, чтобы можно было установить важных исправлений. Начиная с 1 августа 2016 г. новые кластеры HDInsight под управлением Linux (версия 3.4 или более поздней версии) перезагружаются hello следующие расписания:

1. Виртуальной машины в кластере hello можно только перезагрузить для исправлений максимум один раз в течение 30-дневного периода.
2. Перезагрузка Hello происходит, начиная с 00: 00 UTC.
3. процесс перезагрузки Hello происходит постепенно на виртуальных машинах в кластере hello, поэтому hello кластера по-прежнему доступна во время перезагрузки hello.
4. Hello первой перезагрузки для только что созданный кластер не произойдет раньше, чем через 30 дней после даты создания кластера hello.

Используя действие hello сценария, описанных в этой статье, можно изменить расписание исправления hello ОС следующим образом:
1. Можно включить или отключить автоматическую перезагрузку.
2. Частота hello набор перезагрузки (в днях между перезагрузками)
3. Задать hello день недели hello, когда происходит перезагрузка

> [!NOTE]
> Это действие сценария будет работать только с кластерами HDInsight под управлением Linux, созданными после 1 августа 2016 года. Исправления начнут действовать только после перезагрузки виртуальных машин. 
>

## <a name="how-toouse-hello-script"></a>Как toouse hello сценария 

При использовании этого сценария требуется hello следующую информацию:
1. Здравствуйте, расположение сценария: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight использует этот URI toofind и запустите сценарий hello на всех виртуальных машинах hello в кластере hello.
  
2. Здравствуйте типы узлов кластера, к которым применяется сценарий hello: головному узлу, workernode, zookeeper. Этот скрипт должен быть применен tooall типов узлов в кластере hello. Если это не применен tooa тип узла, а затем hello виртуальной машины для этого типа узла по-прежнему toouse hello предыдущего исправления расписания.


3.  Параметры. Этот сценарий принимает три числовых параметра.

    | Параметр | Определение |
    | --- | --- |
    | Включение или отключение автоматических перезагрузок. |0 или 1. Значение 0 отключает автоматические перезагрузки, а значение 1 — включает. |
    | Frequency |7 too90 (включительно). количество дней toowait перед перезапуском hello виртуальных машин для обновления, которые требуют перезагрузки Hello. |
    | День недели |1 too7 (включительно). Значение 1 указывает перезагрузки hello должно выполняться в понедельник, а 7 — пример Sunday.For, с помощью параметров 1 2 60 результаты в автоматически перезагружается каждые 60 дней (максимум) во вторник. |
    | Сохраняемость |При применении действия сценария tooan существующий кластер, можно пометить hello сценария сохраняется. Сохраненные сценарии применяются при добавлении нового workernodes toohello кластера с помощью операции масштабирования. |

> [!NOTE]
> Этот скрипт необходимо пометить сохраняется при применении tooan существующего кластера. В противном случае новые узлы, созданные с помощью масштабирования операций будет использовать исправления расписание по умолчанию hello.
Если применить hello сценарий как часть процесса создания кластера hello, оно сохраняется автоматически.
>

## <a name="next-steps"></a>Дальнейшие действия

Конкретные действия по использованию hello действие скрипта, см. в следующих разделах в hello hello [HDInsight под управлением Linuz настроить кластеры, использующие действие сценария](hdinsight-hadoop-customize-cluster-linux.md):

* [Использование действия скрипта при создании кластера](hdinsight-hadoop-customize-cluster-linux.md#use-a-script-action-during-cluster-creation)
* [Применить tooa действие скрипта под управлением кластера](hdinsight-hadoop-customize-cluster-linux.md#apply-a-script-action-to-a-running-cluster)
