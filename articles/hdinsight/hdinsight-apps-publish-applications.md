---
title: "приложения aaaPublish HDInsight — Azure | Документы Microsoft"
description: "Узнайте, как toocreate и публикация приложений HDInsight."
services: hdinsight
documentationcenter: 
author: mumian
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 14aef891-7a37-4cf1-8f7d-ca923565c783
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/25/2017
ms.author: jgao
ms.openlocfilehash: 7da0aa53828563e50ef372df901e1ba541fb40be
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="publish-hdinsight-applications-into-hello-azure-marketplace"></a><span data-ttu-id="d3ab5-103">Публикация приложений HDInsight в hello Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="d3ab5-103">Publish HDInsight applications into hello Azure Marketplace</span></span>
<span data-ttu-id="d3ab5-104">Пользователи могут устанавливать приложения HDInsight в кластере HDInsight под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-104">An HDInsight application is an application that users can install on a Linux-based HDInsight cluster.</span></span> <span data-ttu-id="d3ab5-105">Разработчиками этих приложений могут быть корпорация Майкрософт, независимые поставщики программного обеспечения или вы сами.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-105">These applications can be developed by Microsoft, independent software vendors (ISV) or by yourself.</span></span> <span data-ttu-id="d3ab5-106">В этой статье вы узнаете, как toopublish HDInsight приложения в Azure Marketplace hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-106">In this article, you learn how toopublish an HDInsight application into hello Azure Marketplace.</span></span>  <span data-ttu-id="d3ab5-107">Общие сведения о публикации в Azure Marketplace hello см. в разделе [публикации toohello предложение Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-107">For general information about publishing into hello Azure Marketplace, see [publish an offer toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md).</span></span>

<span data-ttu-id="d3ab5-108">HDInsight приложения используют hello *принеси свой собственный лицензии (BYOL)* модели, где поставщик приложение отвечает за лицензирование tooend приложения hello-пользователей и конечным пользователям только взимается по Azure для ресурсов hello они Создайте, например кластера HDInsight hello и его виртуальных машин и узлов.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-108">HDInsight applications use hello *Bring Your Own License (BYOL)* model, where application provider is responsible for licensing hello application tooend-users, and end-users are only charged by Azure for hello resources they create, such as hello HDInsight cluster and its VMs/nodes.</span></span> <span data-ttu-id="d3ab5-109">В настоящее время выставления счетов для самого приложения hello не осуществляется с помощью Azure.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-109">Currently, billing for hello application itself is not done through Azure.</span></span>

<span data-ttu-id="d3ab5-110">Другие статьи о приложениях HDInsight:</span><span class="sxs-lookup"><span data-stu-id="d3ab5-110">Other HDInsight application-related article:</span></span>

* <span data-ttu-id="d3ab5-111">[Установка приложений HDInsight](hdinsight-apps-install-applications.md): Узнайте, как кластеры tooinstall tooyour HDInsight приложения.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-111">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how tooinstall an HDInsight application tooyour clusters.</span></span>
* <span data-ttu-id="d3ab5-112">[Установка пользовательских приложений HDInsight](hdinsight-apps-install-custom-applications.md): Узнайте, как tooinstall и тестирования пользовательских приложений HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-112">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how tooinstall and test custom HDInsight applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="d3ab5-113">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="d3ab5-113">Prerequisites</span></span>
<span data-ttu-id="d3ab5-114">toosubmit ваш marketplace toohello пользовательское приложение, вы должны создания и тестирования вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-114">toosubmit your custom application toohello marketplace, you must have created and tested your custom application.</span></span> <span data-ttu-id="d3ab5-115">См. следующие статьи hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-115">See hello following articles:</span></span>

* <span data-ttu-id="d3ab5-116">[Установка пользовательских приложений HDInsight](hdinsight-apps-install-custom-applications.md): Узнайте, как tooinstall и тестирования пользовательских приложений HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-116">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): Learn how tooinstall and test custom HDInsight applications.</span></span>

<span data-ttu-id="d3ab5-117">Также необходимо зарегистрировать учетную запись разработчика.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-117">You must also have registered your developer account.</span></span> <span data-ttu-id="d3ab5-118">В разделе [публикации toohello предложение Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) и [создать учетную запись разработчика Майкрософт](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-118">See [publish an offer toohello Azure Marketplace](../marketplace-publishing/marketplace-publishing-getting-started.md) and [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>

## <a name="define-application"></a><span data-ttu-id="d3ab5-119">Определение приложения</span><span class="sxs-lookup"><span data-stu-id="d3ab5-119">Define application</span></span>
<span data-ttu-id="d3ab5-120">Для публикации приложений toohello Azure Marketplace осуществляются два шага.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-120">There are two steps involved for publishing applications toohello Azure Marketplace.</span></span>  <span data-ttu-id="d3ab5-121">Сначала определяется **createUiDef.json** tooindicate файл, который кластеры приложения совместим с; и затем опубликовать шаблон hello из hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-121">First you define a **createUiDef.json** file tooindicate which clusters your application is compatible with; and then you publish hello template from hello Azure portal.</span></span> <span data-ttu-id="d3ab5-122">Привет, в следующем разделе приведен пример файла createUiDef.json.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-122">hello following section is a sample createUiDef.json file.</span></span>

    {
        "handler": "Microsoft.HDInsight",
        "version": "0.0.1-preview",
        "clusterFilters": {
            "types": ["Hadoop", "HBase", "Storm", "Spark"],
            "tiers": ["Standard", "Premium"],
            "versions": ["3.4"]
        }
    }


| <span data-ttu-id="d3ab5-123">Поле</span><span class="sxs-lookup"><span data-stu-id="d3ab5-123">Field</span></span> | <span data-ttu-id="d3ab5-124">Описание</span><span class="sxs-lookup"><span data-stu-id="d3ab5-124">Description</span></span> | <span data-ttu-id="d3ab5-125">Возможные значения</span><span class="sxs-lookup"><span data-stu-id="d3ab5-125">Possible values</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d3ab5-126">types</span><span class="sxs-lookup"><span data-stu-id="d3ab5-126">types</span></span> |<span data-ttu-id="d3ab5-127">типы кластера Hello, совместимые с приложение hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-127">hello cluster types that hello application is compatible with.</span></span> |<span data-ttu-id="d3ab5-128">Hadoop, HBase, Storm, Spark (или любое их сочетание).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-128">Hadoop, HBase, Storm, Spark, (or any combination of these)</span></span> |
| <span data-ttu-id="d3ab5-129">tiers</span><span class="sxs-lookup"><span data-stu-id="d3ab5-129">tiers</span></span> |<span data-ttu-id="d3ab5-130">уровни кластера Hello, совместимые с приложение hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-130">hello cluster tiers that hello application is compatible with.</span></span> |<span data-ttu-id="d3ab5-131">"Стандартный", "Премиум" (или оба).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-131">Standard, Premium, (or both)</span></span> |
| <span data-ttu-id="d3ab5-132">versions</span><span class="sxs-lookup"><span data-stu-id="d3ab5-132">versions</span></span> |<span data-ttu-id="d3ab5-133">Hello типы кластера HDInsight, совместимые с приложение hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-133">hello HDInsight cluster types that hello application is compatible with.</span></span> |<span data-ttu-id="d3ab5-134">3.4</span><span class="sxs-lookup"><span data-stu-id="d3ab5-134">3.4</span></span> |

## <a name="application-install-script"></a><span data-ttu-id="d3ab5-135">Сценарий установки приложения</span><span class="sxs-lookup"><span data-stu-id="d3ab5-135">Application install script</span></span>
<span data-ttu-id="d3ab5-136">При установке приложения на кластере (существующий или новый), создается граничного узла и на нем выполняется сценарий установки приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-136">Whenever an application is installed on a cluster (either an existing one or a new one), an edge node is created and hello application install script is run on it.</span></span>
  > [!IMPORTANT]
  > <span data-ttu-id="d3ab5-137">Имя Hello имен сценария установки приложения hello должно быть уникальным для определенного кластера с hello следующая формата.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-137">hello name of hello application install script names must be unique for a particular cluster with hello following format.</span></span>
  > 
  > <span data-ttu-id="d3ab5-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span><span class="sxs-lookup"><span data-stu-id="d3ab5-138">name": "[concat('hue-install-v0','-' ,uniquestring(‘applicationName’)]"</span></span>
  > 
  > <span data-ttu-id="d3ab5-139">Обратите внимание, что существует имя скрипта toohello трех частей:</span><span class="sxs-lookup"><span data-stu-id="d3ab5-139">Note there are three parts toohello script name:</span></span>
  > 
  > 1. <span data-ttu-id="d3ab5-140">Скрипт имя префикс, который должно включать в себя имя приложения hello или соответствующие toohello имя приложения.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-140">A script name prefix, which shall include either hello application name or a name relevant toohello application.</span></span>
  > 2. <span data-ttu-id="d3ab5-141">Дефис (-) для удобства чтения.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-141">A "-" for readability.</span></span>
  > 3. <span data-ttu-id="d3ab5-142">Функция уникальная строка с именем приложения hello как hello параметра.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-142">A unique string function with hello application name as hello parameter.</span></span>
  > 
  > <span data-ttu-id="d3ab5-143">Пример: hello выше заканчивается становится: оттенок install-v0-4wkahss55hlas в hello сохраняются в списке действий скрипта.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-143">An example is hello above ends up becoming: hue-install-v0-4wkahss55hlas in hello persisted script action list.</span></span> <span data-ttu-id="d3ab5-144">Пример полезных данных JSON см. здесь: [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-144">For a sample JSON payload, see [https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json](https://raw.githubusercontent.com/hdinsight/Iaas-Applications/master/Hue/azuredeploy.json).</span></span>
  > 
<span data-ttu-id="d3ab5-145">сценарий установки Hello необходимо иметь следующие характеристики hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-145">hello installation script must have hello following characteristics:</span></span>
1. <span data-ttu-id="d3ab5-146">Убедитесь, что скрипт hello идемпотентными.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-146">Ensure that hello script is idempotent.</span></span> <span data-ttu-id="d3ab5-147">Несколько вызовов должен сформировать скрипт toohello hello того же результата.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-147">Multiple calls toohello script should produce hello same result.</span></span>
2. <span data-ttu-id="d3ab5-148">сценарий Hello, должно осуществляться должным образом.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-148">hello script should be properly versioned.</span></span> <span data-ttu-id="d3ab5-149">Используйте другое расположение для скрипта hello при обновлении или тестирования изменений, чтобы клиенты, пытающиеся приложения hello tooinstall не затрагиваются.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-149">Use a different location for hello script when you are upgrading or testing out changes so that customers that are trying tooinstall hello application are not affected.</span></span> 
3. <span data-ttu-id="d3ab5-150">Добавьте сценарии toohello достаточно ведения журнала в каждой точке.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-150">Add adequate logging toohello scripts at each point.</span></span> <span data-ttu-id="d3ab5-151">Обычно hello журналы сценариев, единственным способом toodebug hello проблемы с установкой приложения.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-151">Usually hello script logs are hello only way toodebug application installation issues.</span></span>
4. <span data-ttu-id="d3ab5-152">Убедитесь, что вызовы tooexternal services или ресурсов достаточно попыток установки hello не страдала от временных неполадок сети.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-152">Ensure that calls tooexternal services or resources have adequate retries so that hello installation is not affected by transient network issues.</span></span>
5. <span data-ttu-id="d3ab5-153">Если сценарий является запуск служб на узлах hello, убедитесь, что службы hello отслеживаются и настроить toostart автоматически в случае перезагрузки узла.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-153">If your script is starting services on hello nodes, ensure that hello services are monitored and configured toostart automatically in case of node reboots.</span></span>

## <a name="package-application"></a><span data-ttu-id="d3ab5-154">Пакет приложения</span><span class="sxs-lookup"><span data-stu-id="d3ab5-154">Package application</span></span>
<span data-ttu-id="d3ab5-155">Создайте ZIP-файл, который содержит все необходимые файлы для установки приложений HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-155">Create a zip file that contains all required files for installing your HDInsight applications.</span></span> <span data-ttu-id="d3ab5-156">Требуется hello ZIP-файл в [публикации приложения](#publish-application).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-156">You need hello zip file in [Publish application](#publish-application).</span></span>

* <span data-ttu-id="d3ab5-157">[createUiDefinition.json](#define-application).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-157">[createUiDefinition.json](#define-application).</span></span>
* <span data-ttu-id="d3ab5-158">mainTemplate.json.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-158">mainTemplate.json.</span></span> <span data-ttu-id="d3ab5-159">См. пример из статьи [Установка пользовательских приложений HDInsight](hdinsight-apps-install-custom-applications.md).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-159">See a sample at [Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md).</span></span>
* <span data-ttu-id="d3ab5-160">Все необходимые скрипты.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-160">All required scripts.</span></span>

> [!NOTE]
> <span data-ttu-id="d3ab5-161">Здравствуйте, файлы приложения (включая файлы веб-приложения, если есть) может располагаться на любой общедоступный конечной точки.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-161">hello application files (including web application files if there is any) can be located on any publicly accessible endpoint.</span></span>
> 

## <a name="publish-application"></a><span data-ttu-id="d3ab5-162">публикации приложения</span><span class="sxs-lookup"><span data-stu-id="d3ab5-162">Publish application</span></span>
<span data-ttu-id="d3ab5-163">Выполните следующие шаги toopublish HDInsight приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-163">Follow hello following steps toopublish an HDInsight application:</span></span>

1. <span data-ttu-id="d3ab5-164">Войдите на toohello [портал публикации Azure](https://publish.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-164">Sign on toohello [Azure Publishing portal](https://publish.windowsazure.com/).</span></span>
2. <span data-ttu-id="d3ab5-165">Нажмите кнопку **шаблоны решений** из левой toocreate hello шаблона решения.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-165">Click **Solution templates** from hello left toocreate a new solution template.</span></span>
3. <span data-ttu-id="d3ab5-166">Введите заголовок и нажмите кнопку **Создать шаблон решения**.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-166">Enter a title, and then click **Create a new solution template**.</span></span>
4. <span data-ttu-id="d3ab5-167">Нажмите кнопку **учетная запись центра разработки для создания и объединения hello Azure программы** tooregister вашей компании, если вы еще не сделали этого.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-167">Click **Create Dev Center account and join hello Azure program** tooregister your company if you haven't done so.</span></span>  <span data-ttu-id="d3ab5-168">См. статью [Создание учетной записи разработчика Майкрософт](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-168">See [Create a Microsoft Developer account](../marketplace-publishing/marketplace-publishing-accounts-creation-registration.md).</span></span>
5. <span data-ttu-id="d3ab5-169">Нажмите кнопку **определяют некоторые топологии tooget Started**.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-169">Click **Define some Topologies tooget Started**.</span></span> <span data-ttu-id="d3ab5-170">Шаблон решения является его топологии tooall «родительский».</span><span class="sxs-lookup"><span data-stu-id="d3ab5-170">A solution template is a "parent" tooall its topologies.</span></span> <span data-ttu-id="d3ab5-171">В одном шаблоне предложений или решения можно определить сразу несколько топологий.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-171">You can define multiple topologies in one offer/solution template.</span></span> <span data-ttu-id="d3ab5-172">При передаче toostaging предложение, то при переносе со всеми топологиями.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-172">When an offer is pushed toostaging, it is pushed with all its topologies.</span></span> 
6. <span data-ttu-id="d3ab5-173">Введите имя топологии и нажмите кнопку hello "плюс".</span><span class="sxs-lookup"><span data-stu-id="d3ab5-173">Enter a topology name, and then click hello plus sign.</span></span>
7. <span data-ttu-id="d3ab5-174">Введите новую версию и нажмите кнопку "плюс" hello.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-174">Enter a new version, and then click hello Plus sign.</span></span>
8. <span data-ttu-id="d3ab5-175">Отправка hello ZIP-файл, подготовленного на [упаковки приложения](#package-application).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-175">Upload hello zip file prepared in [Package application](#package-application).</span></span>  
9. <span data-ttu-id="d3ab5-176">Щелкните **Request Certification**(Запросить сертификацию).</span><span class="sxs-lookup"><span data-stu-id="d3ab5-176">Click **Request Certification**.</span></span> <span data-ttu-id="d3ab5-177">Hello Microsoft сертификации рассмотрит файлы hello и сертификация hello топологии.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-177">hello Microsoft certification team will review hello files and certify hello topology.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d3ab5-178">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="d3ab5-178">Next steps</span></span>
* <span data-ttu-id="d3ab5-179">[Установка приложений HDInsight](hdinsight-apps-install-applications.md): Узнайте, как кластеры tooinstall tooyour HDInsight приложения.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-179">[Install HDInsight applications](hdinsight-apps-install-applications.md): Learn how tooinstall an HDInsight application tooyour clusters.</span></span>
* <span data-ttu-id="d3ab5-180">[Установка пользовательских приложений HDInsight](hdinsight-apps-install-custom-applications.md): Узнайте, как toodeploy неопубликованные приложения tooHDInsight HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-180">[Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md): learn how toodeploy an unpublished HDInsight application tooHDInsight.</span></span>
* <span data-ttu-id="d3ab5-181">[Настроить кластеры HDInsight под управлением Linux, с помощью сценария действия](hdinsight-hadoop-customize-cluster-linux.md): Узнайте, как toouse действие сценария tooinstall дополнительные приложения.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-181">[Customize Linux-based HDInsight clusters using Script Action](hdinsight-hadoop-customize-cluster-linux.md): learn how toouse Script Action tooinstall additional applications.</span></span>
* <span data-ttu-id="d3ab5-182">[Создавать кластеры под управлением Linux Hadoop в HDInsight с помощью шаблонов диспетчера ресурсов Azure](hdinsight-hadoop-create-linux-clusters-arm-templates.md): Узнайте, как кластеры toocreate шаблонов диспетчера ресурсов toocall HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-182">[Create Linux-based Hadoop clusters in HDInsight using Azure Resource Manager templates](hdinsight-hadoop-create-linux-clusters-arm-templates.md): learn how toocall Resource Manager templates toocreate HDInsight clusters.</span></span>
* <span data-ttu-id="d3ab5-183">[Используйте пустой краевым узлам в HDInsight](hdinsight-apps-use-edge-node.md): Узнайте, как toouse пустой ребро узла для доступа к кластеру HDInsight, тестирование приложений HDInsight и размещение приложений HDInsight.</span><span class="sxs-lookup"><span data-stu-id="d3ab5-183">[Use empty edge nodes in HDInsight](hdinsight-apps-use-edge-node.md): learn how toouse an empty edge node for accessing HDInsight cluster, testing HDInsight applications, and hosting HDInsight applications.</span></span>

