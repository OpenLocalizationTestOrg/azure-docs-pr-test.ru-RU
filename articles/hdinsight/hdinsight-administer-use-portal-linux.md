---
title: "Управление кластерами Hadoop в HDInsight с помощью портала Azure | Документация Майкрософт"
description: "Узнайте, как создавать кластеры HDInsight и управлять ими с помощью портала Azure."
services: hdinsight
documentationcenter: 
author: mumian
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 5a76f897-02e8-4437-8f2b-4fb12225854a
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/15/2017
ms.author: jgao
ms.openlocfilehash: c9cb631aef71f72457c3517d02566a56919f82bc
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="manage-hadoop-clusters-in-hdinsight-by-using-the-azure-portal"></a><span data-ttu-id="01c16-103">Управление кластерами Hadoop в HDInsight с помощью портала Azure</span><span class="sxs-lookup"><span data-stu-id="01c16-103">Manage Hadoop clusters in HDInsight by using the Azure portal</span></span>
[!INCLUDE [selector](../../includes/hdinsight-portal-management-selector.md)]

<span data-ttu-id="01c16-104">[Портал Azure][azure-portal] позволяет управлять кластерами Hadoop в Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-104">Using the [Azure portal][azure-portal], you can manage Hadoop clusters in Azure HDInsight.</span></span> <span data-ttu-id="01c16-105">Используйте другие вкладки, чтобы перейти к статьям об управлении кластерами Hadoop в HDInsight с помощью других инструментов.</span><span class="sxs-lookup"><span data-stu-id="01c16-105">Use the tab selector for information on managing Hadoop clusters in HDInsight using other tools.</span></span>

<span data-ttu-id="01c16-106">**Предварительные требования**</span><span class="sxs-lookup"><span data-stu-id="01c16-106">**Prerequisites**</span></span>

<span data-ttu-id="01c16-107">Перед началом работы с этой статьей необходимо иметь следующее:</span><span class="sxs-lookup"><span data-stu-id="01c16-107">Before you begin this article, you must have the following items:</span></span>

* <span data-ttu-id="01c16-108">**Подписка Azure**.</span><span class="sxs-lookup"><span data-stu-id="01c16-108">**An Azure subscription**.</span></span> <span data-ttu-id="01c16-109">Ознакомьтесь с [бесплатной пробной версией Azure](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="01c16-109">See [Get Azure free trial](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).</span></span>

## <a name="open-the-portal"></a><span data-ttu-id="01c16-110">Запуск портала</span><span class="sxs-lookup"><span data-stu-id="01c16-110">Open the portal</span></span>
1. <span data-ttu-id="01c16-111">Войдите на портал [https://portal.azure.com](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="01c16-111">Sign in to [https://portal.azure.com](https://portal.azure.com).</span></span>
2. <span data-ttu-id="01c16-112">На портале:</span><span class="sxs-lookup"><span data-stu-id="01c16-112">After you open the portal, you can:</span></span>

   * <span data-ttu-id="01c16-113">В меню слева щелкните **Создать** , чтобы создать новый кластер.</span><span class="sxs-lookup"><span data-stu-id="01c16-113">Click **New** from the left menu to create a new cluster:</span></span>

       ![Кнопка создания кластера HDInsight](./media/hdinsight-administer-use-portal-linux/azure-portal-new-button.png)
   * <span data-ttu-id="01c16-115">В меню слева щелкните **Кластеры HDInsight** , чтобы просмотреть список существующих кластеров.</span><span class="sxs-lookup"><span data-stu-id="01c16-115">Click **HDInsight Clusters** from the left menu to list the existing clusters</span></span>

       ![Кнопка кластера HDInsight на портале Azure](./media/hdinsight-administer-use-portal-linux/azure-portal-hdinsight-button.png)

       <span data-ttu-id="01c16-117">Если кластер HDInsight не отображается, в нижней части списка щелкните **Больше служб** и в разделе **Аналитика** щелкните **Кластеры HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="01c16-117">If you don't see HDInsight cluster, click **More services** on the bottom of the list, and then click **HDInsight clusters** under the **Intelligence + Analytics** section.</span></span>


## <a name="create-clusters"></a><span data-ttu-id="01c16-118">Создание кластеров</span><span class="sxs-lookup"><span data-stu-id="01c16-118">Create clusters</span></span>
[!INCLUDE [delete-cluster-warning](../../includes/hdinsight-delete-cluster-warning.md)]

<span data-ttu-id="01c16-119">HDInsight работает со множеством компонентов Hadoop.</span><span class="sxs-lookup"><span data-stu-id="01c16-119">HDInsight works with a wide range of Hadoop components.</span></span> <span data-ttu-id="01c16-120">Список проверенных и поддерживаемых компонентов см. в статье [Что представляют собой различные компоненты Hadoop, доступные в HDInsight?](hdinsight-component-versioning.md)</span><span class="sxs-lookup"><span data-stu-id="01c16-120">For the list of the components that have been verified and supported, see [What version of Hadoop is in Azure HDInsight](hdinsight-component-versioning.md).</span></span> <span data-ttu-id="01c16-121">Общие сведения о создании кластеров см. в статье [Создание кластеров Hadoop под управлением Linux в HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-121">For the general cluster creation information, see [Create Hadoop clusters in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span></span>

### <a name="access-control-requirements"></a><span data-ttu-id="01c16-122">Требования к контролю доступа</span><span class="sxs-lookup"><span data-stu-id="01c16-122">Access control requirements</span></span>

<span data-ttu-id="01c16-123">При создании кластера HDInsight необходимо указать подписку Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-123">You must specify an Azure subscription when you create an HDInsight cluster.</span></span> <span data-ttu-id="01c16-124">Этот кластер может быть создан как новая или существующая группа ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-124">This cluster can be created in either a new Azure Resource group or an existing Resource group.</span></span> <span data-ttu-id="01c16-125">Чтобы проверить разрешения на создание кластеров HDInsight, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="01c16-125">You can use the following steps to verify your permissions for creating HDInsight clusters:</span></span>

- <span data-ttu-id="01c16-126">Использование существующей группы ресурсов</span><span class="sxs-lookup"><span data-stu-id="01c16-126">To use an existing resource group.</span></span>

    1. <span data-ttu-id="01c16-127">Войдите на [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="01c16-127">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
    2. <span data-ttu-id="01c16-128">Щелкните **Группы ресурсов** в меню слева, чтобы отобразить группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="01c16-128">Click **Resource groups** from the left menu to list the resource groups.</span></span>
    3. <span data-ttu-id="01c16-129">Щелкните группу ресурсов, которую вы хотите использовать для создания кластера HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-129">Click the resource group you want to use for creating your HDInsight cluster.</span></span>
    4. <span data-ttu-id="01c16-130">Щелкните **Управление доступом (IAM)** и проверьте, есть ли у вас (или у группы, к которой вы принадлежите) доступ к группе ресурсов, соответствующий роли не ниже участника.</span><span class="sxs-lookup"><span data-stu-id="01c16-130">Click **Access control (IAM)**, and verify that you (or a group that you belong to) have at least the Contributor access to the resource group.</span></span>

- <span data-ttu-id="01c16-131">Создание новой группы ресурсов</span><span class="sxs-lookup"><span data-stu-id="01c16-131">To create a new resource group</span></span>

    1. <span data-ttu-id="01c16-132">Выполните вход на [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="01c16-132">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
    2. <span data-ttu-id="01c16-133">Щелкните **Подписка** в меню слева</span><span class="sxs-lookup"><span data-stu-id="01c16-133">Click **Subscription** from the left menu.</span></span> <span data-ttu-id="01c16-134">(вы увидите значок ключа желтого цвета).</span><span class="sxs-lookup"><span data-stu-id="01c16-134">It has a yellow key icon.</span></span> <span data-ttu-id="01c16-135">Отобразится список подписок.</span><span class="sxs-lookup"><span data-stu-id="01c16-135">You shall see a list of subscriptions.</span></span>
    3. <span data-ttu-id="01c16-136">Щелкните подписку, которую вы используете для создания кластеров.</span><span class="sxs-lookup"><span data-stu-id="01c16-136">Click the subscription that you use to create clusters.</span></span> 
    4. <span data-ttu-id="01c16-137">Щелкните **Мои разрешения**.</span><span class="sxs-lookup"><span data-stu-id="01c16-137">Click **My permissions**.</span></span>  <span data-ttu-id="01c16-138">Вы увидите свою [роль](../active-directory/role-based-access-control-what-is.md#built-in-roles) в подписке.</span><span class="sxs-lookup"><span data-stu-id="01c16-138">It shows your [role](../active-directory/role-based-access-control-what-is.md#built-in-roles) on the subscription.</span></span> <span data-ttu-id="01c16-139">Создавать кластер HDInsight могут пользователи с ролью не ниже участника.</span><span class="sxs-lookup"><span data-stu-id="01c16-139">You need at least Contributor access to create HDInsight cluster.</span></span>

<span data-ttu-id="01c16-140">При появлении ошибки NoRegisteredProviderFound или ошибки MissingSubscriptionRegistration см. статью [Устранение распространенных ошибок развертывания в Azure с помощью Azure Resource Manager](../azure-resource-manager/resource-manager-common-deployment-errors.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-140">If you receive the NoRegisteredProviderFound error or the MissingSubscriptionRegistration error, see [Troubleshoot common Azure deployment errors with Azure Resource Manager](../azure-resource-manager/resource-manager-common-deployment-errors.md).</span></span>

## <a name="list-and-show-clusters"></a><span data-ttu-id="01c16-141">Отображение кластеров</span><span class="sxs-lookup"><span data-stu-id="01c16-141">List and show clusters</span></span>
1. <span data-ttu-id="01c16-142">Войдите на портал [https://portal.azure.com](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="01c16-142">Sign in to [https://portal.azure.com](https://portal.azure.com).</span></span>
2. <span data-ttu-id="01c16-143">В меню слева щелкните **Кластеры HDInsight** , чтобы просмотреть список существующих кластеров.</span><span class="sxs-lookup"><span data-stu-id="01c16-143">Click **HDInsight Clusters** from the left menu to list the existing clusters.</span></span>
3. <span data-ttu-id="01c16-144">Щелкните имя кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-144">Click the cluster name.</span></span> <span data-ttu-id="01c16-145">Если список кластеров длинный, можно использовать фильтр в верхней части страницы.</span><span class="sxs-lookup"><span data-stu-id="01c16-145">If the cluster list is long, you can use filter on the top of the page.</span></span>
4. <span data-ttu-id="01c16-146">Щелкните кластер в списке, чтобы просмотреть страницу с общими сведениями:</span><span class="sxs-lookup"><span data-stu-id="01c16-146">Click a cluster from the list to see the overview page:</span></span>

    ![Основная информация о кластере HDInsight на портале Azure](./media/hdinsight-administer-use-portal-linux/hdinsight-essentials.png)

    * <span data-ttu-id="01c16-148">**Панель мониторинга.** Открывает панель мониторинга кластера, а именно веб-интерфейс Ambari для кластеров под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="01c16-148">**Dashboard**: Opens the cluster dashboard, which is Ambari Web for Linux-based clusters.</span></span>
    * <span data-ttu-id="01c16-149">**Secure Shell**: отображение сведений, необходимых для подключения к кластеру по протоколу SSH.</span><span class="sxs-lookup"><span data-stu-id="01c16-149">**Secure Shell**: Shows the instructions to connect to the cluster using Secure Shell (SSH) connection.</span></span>
    * <span data-ttu-id="01c16-150">**Изменить масштаб кластера**: позволяет изменить количество рабочих узлов для этого кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-150">**Scale Cluster**: Allows you to change the number of worker nodes for this cluster.</span></span>
    * <span data-ttu-id="01c16-151">**Удалить**: удаление кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-151">**Delete**: Deletes the cluster.</span></span>
    * <span data-ttu-id="01c16-152">**Журналы действий.** Отображайте и запрашивайте журналы действий.</span><span class="sxs-lookup"><span data-stu-id="01c16-152">**Activity logs**: Show and query activity logs.</span></span>
    * <span data-ttu-id="01c16-153">**Управление доступом (IAM).** Используйте назначение ролей.</span><span class="sxs-lookup"><span data-stu-id="01c16-153">**Access control (IAM)**: Use role assignments.</span></span>  <span data-ttu-id="01c16-154">Ознакомьтесь со статьей [Использование назначений ролей для управления доступом к ресурсам в подписке Azure](../active-directory/role-based-access-control-configure.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-154">See [Use role assignments to manage access to your Azure subscription resources](../active-directory/role-based-access-control-configure.md).</span></span>
    * <span data-ttu-id="01c16-155">**Теги** позволяют задавать пары "ключ-значение" для определения пользовательской таксономии облачных служб.</span><span class="sxs-lookup"><span data-stu-id="01c16-155">**Tags**: Allows you to set key/value pairs to define a custom taxonomy of your cloud services.</span></span> <span data-ttu-id="01c16-156">Например, можно создать ключ с именем **project**, а затем использовать общее значение для всех служб, связанных с определенным проектом.</span><span class="sxs-lookup"><span data-stu-id="01c16-156">For example, you may create a key named **project**, and then use a common value for all services associated with a specific project.</span></span>
    * <span data-ttu-id="01c16-157">**Диагностика и решение проблем.** Отображайте сведения об устранении неполадок.</span><span class="sxs-lookup"><span data-stu-id="01c16-157">**Diagnose and solve problems**: Display troubleshooting information.</span></span>
    * <span data-ttu-id="01c16-158">**Блокировки.** Добавляйте блокировку во избежание изменения или удаления кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-158">**Locks**: Add lock to prevent the cluster being modified or deleted.</span></span>
    * <span data-ttu-id="01c16-159">**Сценарий автоматизации.** Отображайте и экспортируйте шаблон Azure Resource Manager для кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-159">**Automation script**: Display and export the Azure Resource Manager template for the cluster.</span></span> <span data-ttu-id="01c16-160">В настоящее время можно экспортировать только зависимую учетную запись хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-160">Currently, you can only export the dependent Azure storage account.</span></span> <span data-ttu-id="01c16-161">Ознакомьтесь со статьей [Создание кластеров Hadoop под управлением Linux в HDInsight с помощью шаблонов Azure Resource Manager](hdinsight-hadoop-create-linux-clusters-arm-templates.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-161">See [Create Linux-based Hadoop clusters in HDInsight using Azure Resource Manager templates](hdinsight-hadoop-create-linux-clusters-arm-templates.md).</span></span>
    * <span data-ttu-id="01c16-162">**Быстрое начало работы.** Отображение сведений, необходимых для начала работы с HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-162">**Quick Start**:  Displays information that helps you get started using HDInsight.</span></span>
    * <span data-ttu-id="01c16-163">**Средства для HDInsight.** Справочные сведения об инструментах, связанных с HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-163">**Tools for HDInsight**: Help information for HDInsight related tools.</span></span>
    * <span data-ttu-id="01c16-164">**Имя для входа в кластер.** Отображайте сведения о входе в кластер.</span><span class="sxs-lookup"><span data-stu-id="01c16-164">**Cluster Login**: Display the cluster login information.</span></span>
    * <span data-ttu-id="01c16-165">**Использование ядер в подписке.** Отображайте используемые и доступные ядра для подписки.</span><span class="sxs-lookup"><span data-stu-id="01c16-165">**Subscription Core Usage**: Display the used and available cores for your subscription.</span></span>
    * <span data-ttu-id="01c16-166">**Масштабирование кластера**: увеличение или уменьшение количества рабочих узлов в кластере.</span><span class="sxs-lookup"><span data-stu-id="01c16-166">**Scale Cluster**: Increase and decrease the number of cluster worker nodes.</span></span> <span data-ttu-id="01c16-167">Ознакомьтесь с разделом [Масштабирование кластеров](hdinsight-administer-use-management-portal.md#scale-clusters).</span><span class="sxs-lookup"><span data-stu-id="01c16-167">See[Scale clusters](hdinsight-administer-use-management-portal.md#scale-clusters).</span></span>
    * <span data-ttu-id="01c16-168">**Secure Shell**: отображение сведений, необходимых для подключения к кластеру по протоколу SSH.</span><span class="sxs-lookup"><span data-stu-id="01c16-168">**Secure Shell**: Shows the instructions to connect to the cluster using Secure Shell (SSH) connection.</span></span> <span data-ttu-id="01c16-169">Дополнительные сведения см. в статье [Использование SSH с Hadoop на основе Linux в HDInsight из Linux, Unix или OS X](hdinsight-hadoop-linux-use-ssh-unix.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-169">For more information, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span></span>
    * <span data-ttu-id="01c16-170">**Партнер HDInsight**: добавление и удаление текущего партнера HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-170">**HDInsight Partner**: Add/remove the current HDInsight Partner.</span></span>
    * <span data-ttu-id="01c16-171">**Внешние метахранилища**: просмотр метахранилищ Hive и Oozie.</span><span class="sxs-lookup"><span data-stu-id="01c16-171">**External Metastores**: View the Hive and Oozie metastores.</span></span> <span data-ttu-id="01c16-172">Метахранилища можно настроить только во время создания кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-172">The metastores can only be configured during the cluster creation process.</span></span> <span data-ttu-id="01c16-173">Ознакомьтесь с разделом [Использование метахранилища Hive/Oozie](hdinsight-hadoop-provision-linux-clusters.md#use-hiveoozie-metastore).</span><span class="sxs-lookup"><span data-stu-id="01c16-173">See [use Hive/Oozie metastore](hdinsight-hadoop-provision-linux-clusters.md#use-hiveoozie-metastore).</span></span>
    * <span data-ttu-id="01c16-174">**Действия скрипта**: выполнение bash-скриптов в кластере.</span><span class="sxs-lookup"><span data-stu-id="01c16-174">**Script Actions**: Run Bash scripts on the cluster.</span></span> <span data-ttu-id="01c16-175">См. статью [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-175">See [Customize Linux-based HDInsight clusters using Script Action](hdinsight-hadoop-customize-cluster-linux.md).</span></span>
    * <span data-ttu-id="01c16-176">**Приложения.** Добавляйте и удаляйте приложения HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-176">**Applications**: Add/remove HDInsight applications.</span></span>  <span data-ttu-id="01c16-177">Ознакомьтесь со статьей [Установка пользовательских приложений HDInsight](hdinsight-apps-install-custom-applications.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-177">See [Install custom HDInsight applications](hdinsight-apps-install-custom-applications.md).</span></span>
    * <span data-ttu-id="01c16-178">**Свойства**: просмотр свойств кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-178">**Properties**: View the cluster properties.</span></span>
    * <span data-ttu-id="01c16-179">**Учетные записи хранения.** Просматривайте учетные записи хранения и ключи.</span><span class="sxs-lookup"><span data-stu-id="01c16-179">**Storage accounts**: View the storage accounts and the keys.</span></span> <span data-ttu-id="01c16-180">Учетные записи хранения настраиваются во время создания кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-180">The storage accounts are configured during the cluster creation process.</span></span>
    * <span data-ttu-id="01c16-181">**Идентификатор AAD кластера**:</span><span class="sxs-lookup"><span data-stu-id="01c16-181">**Cluster AAD Identity**:</span></span>
    * <span data-ttu-id="01c16-182">**Новый запрос в службу поддержки**. Вы можете создать запрос в службу поддержки Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="01c16-182">**New support request**: Allows you to create a support ticket with Microsoft support.</span></span>
    
6. <span data-ttu-id="01c16-183">Щелкните **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="01c16-183">Click **Properties**:</span></span>

    <span data-ttu-id="01c16-184">Существуют следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="01c16-184">The properties are:</span></span>

   * <span data-ttu-id="01c16-185">**Имя узла**: имя кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-185">**Hostname**: Cluster name.</span></span>
   * <span data-ttu-id="01c16-186">**URL-адрес кластера**.</span><span class="sxs-lookup"><span data-stu-id="01c16-186">**Cluster URL**.</span></span> <span data-ttu-id="01c16-187">URL-адрес веб-интерфейса Ambari.</span><span class="sxs-lookup"><span data-stu-id="01c16-187">The URL for the Ambari web interface.</span></span>
   * <span data-ttu-id="01c16-188">**Состояние**: возможны варианты "Прервано", "Принято", "Хранилище кластера подготовлено", "Конфигурация виртуальной машины Azure", "Конфигурация HDInsight", "Оперативный", "Выполняется", "Ошибка", "Удаление", "Удалено", "Время ожидания истекло", "Удаление добавлено в очередь", "Истекло время ожидания удаления", "Ошибка удаления", "Исправление добавлено в очередь", "Смена сертификатов в очереди", "Изменение размера поставлено в очередь" и "Настройка кластера".</span><span class="sxs-lookup"><span data-stu-id="01c16-188">**Status**: Include Aborted, Accepted, ClusterStorageProvisioned, AzureVMConfiguration, HDInsightConfiguration, Operational, Running, Error, Deleting, Deleted, Timedout, DeleteQueued, DeleteTimedout, DeleteError, PatchQueued, CertRolloverQueued, ResizeQueued, ClusterCustomization</span></span>
   * <span data-ttu-id="01c16-189">**Регион**: расположение Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-189">**Region**: Azure location.</span></span> <span data-ttu-id="01c16-190">Поддерживаемые расположения Azure перечислены в раскрывающемся списке **Регион** на странице [Цены — HDInsight](https://azure.microsoft.com/pricing/details/hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="01c16-190">For a list of supported Azure locations, see the **Region** dropdown list box on [HDInsight pricing](https://azure.microsoft.com/pricing/details/hdinsight/).</span></span>
   * <span data-ttu-id="01c16-191">**Дата создания.**</span><span class="sxs-lookup"><span data-stu-id="01c16-191">**Date created**.</span></span>
   * <span data-ttu-id="01c16-192">**Операционная система**: **Windows** или **Linux**.</span><span class="sxs-lookup"><span data-stu-id="01c16-192">**Operating system**: Either **Windows** or **Linux**.</span></span>
   * <span data-ttu-id="01c16-193">**Тип**: Hadoop, HBase, Storm или Spark.</span><span class="sxs-lookup"><span data-stu-id="01c16-193">**Type**: Hadoop, HBase, Storm, Spark.</span></span>
   * <span data-ttu-id="01c16-194">**Версия**.</span><span class="sxs-lookup"><span data-stu-id="01c16-194">**Version**.</span></span> <span data-ttu-id="01c16-195">См. раздел [Поддерживаемые версии HDInsight](hdinsight-component-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-195">See [HDInsight versions](hdinsight-component-versioning.md)</span></span>
   * <span data-ttu-id="01c16-196">**Подписка**: имя подписки.</span><span class="sxs-lookup"><span data-stu-id="01c16-196">**Subscription**: Subscription name.</span></span>
   * <span data-ttu-id="01c16-197">**Источник данных по умолчанию**: файловая система кластера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="01c16-197">**Default data source**: The default cluster file system.</span></span>
   * <span data-ttu-id="01c16-198">**Worker nodes size** (Размер рабочих узлов).</span><span class="sxs-lookup"><span data-stu-id="01c16-198">**Worker nodes size**.</span></span>
   * <span data-ttu-id="01c16-199">**Размер головного узла.**</span><span class="sxs-lookup"><span data-stu-id="01c16-199">**Head node size**.</span></span>

## <a name="delete-clusters"></a><span data-ttu-id="01c16-200">Удаление кластеров</span><span class="sxs-lookup"><span data-stu-id="01c16-200">Delete clusters</span></span>
<span data-ttu-id="01c16-201">Удаление кластера не приведет к удалению учетной записи хранения, используемой по умолчанию, или других учетных записей, связанных с кластером.</span><span class="sxs-lookup"><span data-stu-id="01c16-201">Deleting a cluster does not delete the default storage account or any linked storage accounts.</span></span> <span data-ttu-id="01c16-202">Вы всегда сможете заново создать кластер, указав те же учетные записи хранения и те же метахранилища.</span><span class="sxs-lookup"><span data-stu-id="01c16-202">You can re-create the cluster by using the same storage accounts and the same metastores.</span></span> <span data-ttu-id="01c16-203">При повторном создании кластера мы советуем вам использовать новый контейнер больших двоичных объектов по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="01c16-203">It is recommended to use a new default Blob container when you re-create the cluster.</span></span>

1. <span data-ttu-id="01c16-204">Войдите на [портал][azure-portal].</span><span class="sxs-lookup"><span data-stu-id="01c16-204">Sign in to the [Portal][azure-portal].</span></span>
2. <span data-ttu-id="01c16-205">В меню слева щелкните **Кластеры HDInsight** .</span><span class="sxs-lookup"><span data-stu-id="01c16-205">Click **HDInsight Clusters** from the left menu.</span></span> <span data-ttu-id="01c16-206">Если вы не видите **кластеры HDInsight**, сначала щелкните **Больше служб**.</span><span class="sxs-lookup"><span data-stu-id="01c16-206">If you don't see **HDInsight Clusters**, click **More services** first.</span></span>
3. <span data-ttu-id="01c16-207">Щелкните кластер, который требуется удалить.</span><span class="sxs-lookup"><span data-stu-id="01c16-207">Click the cluster that you want to delete.</span></span>
4. <span data-ttu-id="01c16-208">В верхнем меню щелкните **Удалить** и следуйте инструкциям на экране.</span><span class="sxs-lookup"><span data-stu-id="01c16-208">Click **Delete** from the top menu, and then follow the instructions.</span></span>

<span data-ttu-id="01c16-209">См. также раздел [Приостановка и завершение работы кластеров](#pauseshut-down-clusters).</span><span class="sxs-lookup"><span data-stu-id="01c16-209">See also [Pause/shut down clusters](#pauseshut-down-clusters).</span></span>

## <a name="add-additional-storage-accounts"></a><span data-ttu-id="01c16-210">Добавление дополнительных учетных записей хранения</span><span class="sxs-lookup"><span data-stu-id="01c16-210">Add additional storage accounts</span></span>

<span data-ttu-id="01c16-211">После создания кластера можно добавить дополнительные учетные записи службы хранилища Azure и учетные записи Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="01c16-211">You can add additional Azure Storage accounts and Azure Data Lake Store accounts after a cluster is created.</span></span> <span data-ttu-id="01c16-212">Дополнительные сведения см. в статье [Добавление дополнительных учетных записей хранения в HDInsight](./hdinsight-hadoop-add-storage.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-212">For more information, see [Add additional storage accounts to HDInsight](./hdinsight-hadoop-add-storage.md).</span></span>

## <a name="scale-clusters"></a><span data-ttu-id="01c16-213">Масштабирование кластеров</span><span class="sxs-lookup"><span data-stu-id="01c16-213">Scale clusters</span></span>
<span data-ttu-id="01c16-214">Масштабирование кластера позволяет изменить количество рабочих узлов в кластере, который работает под управлением Azure HDInsight. При этом не требуется повторно создавать кластер.</span><span class="sxs-lookup"><span data-stu-id="01c16-214">The cluster scaling feature allows you to change the number of worker nodes used by a cluster that is running in Azure HDInsight without having to re-create the cluster.</span></span>

> [!NOTE]
> <span data-ttu-id="01c16-215">Поддерживаются только кластеры HDInsight версии 3.1.3 или более поздней.</span><span class="sxs-lookup"><span data-stu-id="01c16-215">Only clusters with HDInsight version 3.1.3 or higher are supported.</span></span> <span data-ttu-id="01c16-216">Если вы не знаете версию кластера, см. страницу «Свойства».</span><span class="sxs-lookup"><span data-stu-id="01c16-216">If you are unsure of the version of your cluster, you can check the Properties page.</span></span>  <span data-ttu-id="01c16-217">См. раздел [Отображение кластеров](#list-and-show-clusters).</span><span class="sxs-lookup"><span data-stu-id="01c16-217">See [List and show clusters](#list-and-show-clusters).</span></span>
>
>

<span data-ttu-id="01c16-218">Ниже представлены возможности, связанные с изменением количества узлов данных в кластере каждого типа, поддерживаемого в HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-218">The impact of changing the number of data nodes for each type of cluster supported by HDInsight:</span></span>

* <span data-ttu-id="01c16-219">Hadoop</span><span class="sxs-lookup"><span data-stu-id="01c16-219">Hadoop</span></span>

    <span data-ttu-id="01c16-220">Вы можете легко увеличить количество рабочих узлов в работающем кластере Hadoop. Это не помешает обработке заданий в состоянии ожидания и выполнения.</span><span class="sxs-lookup"><span data-stu-id="01c16-220">You can seamlessly increase the number of worker nodes in a Hadoop cluster that is running without impacting any pending or running jobs.</span></span> <span data-ttu-id="01c16-221">В ходе выполнения операции можно также отправлять новые задания.</span><span class="sxs-lookup"><span data-stu-id="01c16-221">New jobs can also be submitted while the operation is in progress.</span></span> <span data-ttu-id="01c16-222">Сбои операции масштабирования обрабатываются корректно, поэтому кластер всегда пребывает в функциональном состоянии.</span><span class="sxs-lookup"><span data-stu-id="01c16-222">Failures in a scaling operation are gracefully handled so that the cluster is always left in a functional state.</span></span>

    <span data-ttu-id="01c16-223">Если уменьшить масштаб кластера Hadoop, сократив количество узлов данных, некоторые службы в нем будут перезапущены.</span><span class="sxs-lookup"><span data-stu-id="01c16-223">When a Hadoop cluster is scaled down by reducing the number of data nodes, some of the services in the cluster are restarted.</span></span> <span data-ttu-id="01c16-224">Это приведет к сбою всех выполняющихся и ожидающих заданий при завершении операции масштабирования.</span><span class="sxs-lookup"><span data-stu-id="01c16-224">This behavior causes all running and pending jobs to fail at the completion of the scaling operation.</span></span> <span data-ttu-id="01c16-225">Однако после завершения операции вы можете повторно отправить задания.</span><span class="sxs-lookup"><span data-stu-id="01c16-225">You can, however, resubmit the jobs once the operation is complete.</span></span>
* <span data-ttu-id="01c16-226">HBase</span><span class="sxs-lookup"><span data-stu-id="01c16-226">HBase</span></span>

    <span data-ttu-id="01c16-227">Вы можете с легкостью добавлять и удалять узлы данных в работающем кластере HBase.</span><span class="sxs-lookup"><span data-stu-id="01c16-227">You can seamlessly add or remove nodes to your HBase cluster while it is running.</span></span> <span data-ttu-id="01c16-228">Балансировка региональных серверов выполняется автоматически в течение нескольких минут после завершения операции масштабирования.</span><span class="sxs-lookup"><span data-stu-id="01c16-228">Regional Servers are automatically balanced within a few minutes of completing the scaling operation.</span></span> <span data-ttu-id="01c16-229">Но их также можно сбалансировать вручную, выполнив вход в головной узел кластера и выполнив следующие команды в окне командной строки:</span><span class="sxs-lookup"><span data-stu-id="01c16-229">However, you can also manually balance the regional servers by logging in to the headnode of cluster and running the following commands from a command prompt window:</span></span>

        >pushd %HBASE_HOME%\bin
        >hbase shell
        >balancer

    <span data-ttu-id="01c16-230">Дополнительные сведения об использовании оболочки HBase см. []</span><span class="sxs-lookup"><span data-stu-id="01c16-230">For more information on using the HBase shell, see []</span></span>
* <span data-ttu-id="01c16-231">Storm</span><span class="sxs-lookup"><span data-stu-id="01c16-231">Storm</span></span>

    <span data-ttu-id="01c16-232">Вы можете с легкостью добавлять и удалять узлы данных в работающем кластере Storm.</span><span class="sxs-lookup"><span data-stu-id="01c16-232">You can seamlessly add or remove data nodes to your Storm cluster while it is running.</span></span> <span data-ttu-id="01c16-233">Но после успешного завершения операции масштабирования потребуется повторная балансировка топологии.</span><span class="sxs-lookup"><span data-stu-id="01c16-233">But after a successful completion of the scaling operation, you will need to rebalance the topology.</span></span>

    <span data-ttu-id="01c16-234">Повторную балансировку можно выполнить двумя способами:</span><span class="sxs-lookup"><span data-stu-id="01c16-234">Rebalancing can be accomplished in two ways:</span></span>

  * <span data-ttu-id="01c16-235">с помощью веб-интерфейса Storm;</span><span class="sxs-lookup"><span data-stu-id="01c16-235">Storm web UI</span></span>
  * <span data-ttu-id="01c16-236">с помощью программы командной строки.</span><span class="sxs-lookup"><span data-stu-id="01c16-236">Command-line interface (CLI) tool</span></span>

    <span data-ttu-id="01c16-237">Дополнительные сведения см. в [документации по Apache Storm](http://storm.apache.org/documentation/Understanding-the-parallelism-of-a-Storm-topology.html).</span><span class="sxs-lookup"><span data-stu-id="01c16-237">Refer to the [Apache Storm documentation](http://storm.apache.org/documentation/Understanding-the-parallelism-of-a-Storm-topology.html) for more details.</span></span>

    <span data-ttu-id="01c16-238">В кластере HDInsight доступен веб-интерфейс Storm.</span><span class="sxs-lookup"><span data-stu-id="01c16-238">The Storm web UI is available on the HDInsight cluster:</span></span>

    ![HDInsight, Storm, масштабирование, перераспределение](./media/hdinsight-administer-use-portal-linux/hdinsight-portal-scale-cluster-storm-rebalance.png)

    <span data-ttu-id="01c16-240">Ниже приведен пример использования команды CLI для повторной балансировки топологии Storm:</span><span class="sxs-lookup"><span data-stu-id="01c16-240">Here is an example how to use the CLI command to rebalance the Storm topology:</span></span>

        ## Reconfigure the topology "mytopology" to use 5 worker processes,
        ## the spout "blue-spout" to use 3 executors, and
        ## the bolt "yellow-bolt" to use 10 executors
        $ storm rebalance mytopology -n 5 -e blue-spout=3 -e yellow-bolt=10

<span data-ttu-id="01c16-241">**Масштабирование кластеров**</span><span class="sxs-lookup"><span data-stu-id="01c16-241">**To scale clusters**</span></span>

1. <span data-ttu-id="01c16-242">Войдите на [портал][azure-portal].</span><span class="sxs-lookup"><span data-stu-id="01c16-242">Sign in to the [Portal][azure-portal].</span></span>
2. <span data-ttu-id="01c16-243">В меню слева щелкните **Кластеры HDInsight** .</span><span class="sxs-lookup"><span data-stu-id="01c16-243">Click **HDInsight Clusters** from the left menu.</span></span>
3. <span data-ttu-id="01c16-244">Щелкните кластер, который требуется масштабировать.</span><span class="sxs-lookup"><span data-stu-id="01c16-244">Click the cluster you want to scale.</span></span>
3. <span data-ttu-id="01c16-245">Щелкните **Изменить масштаб кластера**.</span><span class="sxs-lookup"><span data-stu-id="01c16-245">Click **Scale Cluster**.</span></span>
4. <span data-ttu-id="01c16-246">В поле **Количество рабочих узлов**укажите нужное количество.</span><span class="sxs-lookup"><span data-stu-id="01c16-246">Enter **Number of Worker nodes**.</span></span> <span data-ttu-id="01c16-247">Максимальное количество узлов кластера зависит от типа подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-247">The limit on the number of cluster nodes varies among Azure subscriptions.</span></span> <span data-ttu-id="01c16-248">Чтобы увеличить лимит, обратитесь в службу поддержки по вопросам выставления счетов.</span><span class="sxs-lookup"><span data-stu-id="01c16-248">You can contact billing support to increase the limit.</span></span>  <span data-ttu-id="01c16-249">Сведения о затратах будут отражать внесенные изменения в определенное количество узлов.</span><span class="sxs-lookup"><span data-stu-id="01c16-249">The cost information reflects the changes you have made to the number of nodes.</span></span>

    ![HDInsight, Hadoop, HBase, Storm, Spark, масштабирование](./media/hdinsight-administer-use-portal-linux/hdinsight-portal-scale-cluster.png)

## <a name="pauseshut-down-clusters"></a><span data-ttu-id="01c16-251">Приостановка и завершение работы кластеров</span><span class="sxs-lookup"><span data-stu-id="01c16-251">Pause/shut down clusters</span></span>

<span data-ttu-id="01c16-252">Большинство заданий Hadoop представляют собой пакетные задания, выполняемые от случая к случаю.</span><span class="sxs-lookup"><span data-stu-id="01c16-252">Most of Hadoop jobs are batch jobs that are only run occasionally.</span></span> <span data-ttu-id="01c16-253">Обычно кластеры Hadoop в течение долгих промежутков времени не используются для обработки данных.</span><span class="sxs-lookup"><span data-stu-id="01c16-253">For most Hadoop clusters, there are large periods of time that the cluster is not being used for processing.</span></span> <span data-ttu-id="01c16-254">В случае с HDInsight ваши данные хранятся в службе хранилища Azure, что позволяет безопасно удалить неиспользуемый кластер.</span><span class="sxs-lookup"><span data-stu-id="01c16-254">With HDInsight, your data is stored in Azure Storage, so you can safely delete a cluster when it is not in use.</span></span>
<span data-ttu-id="01c16-255">Плата за кластеры HDInsight взимается, даже когда они не используются.</span><span class="sxs-lookup"><span data-stu-id="01c16-255">You are also charged for an HDInsight cluster, even when it is not in use.</span></span> <span data-ttu-id="01c16-256">Поскольку стоимость кластера во много раз превышает стоимость хранилища, экономически целесообразно удалять неиспользуемые кластеры.</span><span class="sxs-lookup"><span data-stu-id="01c16-256">Since the charges for the cluster are many times more than the charges for storage, it makes economic sense to delete clusters when they are not in use.</span></span>

<span data-ttu-id="01c16-257">Этот процесс можно выполнять автоматически несколькими способами:</span><span class="sxs-lookup"><span data-stu-id="01c16-257">There are many ways you can program the process:</span></span>

* <span data-ttu-id="01c16-258">С помощью фабрики данных Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-258">User Azure Data Factory.</span></span> <span data-ttu-id="01c16-259">Дополнительные сведения о создании связанных служб HDInsight по запросу см. в статье [Создание кластеров Hadoop под управлением Linux в HDInsight по запросу с помощью фабрики данных Azure](hdinsight-hadoop-create-linux-clusters-adf.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-259">See [Create on-demand Linux-based Hadoop clusters in HDInsight using Azure Data Factory](hdinsight-hadoop-create-linux-clusters-adf.md) for creating on-demand HDInsight linked services.</span></span>
* <span data-ttu-id="01c16-260">С помощью Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="01c16-260">Use Azure PowerShell.</span></span>  <span data-ttu-id="01c16-261">См. статью [Анализ данных о задержке рейсов с помощью Hive в HDInsight](hdinsight-analyze-flight-delay-data.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-261">See [Analyze flight delay data](hdinsight-analyze-flight-delay-data.md).</span></span>
* <span data-ttu-id="01c16-262">С помощью интерфейса командной строки Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-262">Use Azure CLI.</span></span> <span data-ttu-id="01c16-263">См. статью [Управление кластерами Hadoop в HDInsight с помощью интерфейса командной строки (CLI) Azure](hdinsight-administer-use-command-line.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-263">See [Manage HDInsight clusters using Azure CLI](hdinsight-administer-use-command-line.md).</span></span>
* <span data-ttu-id="01c16-264">С помощью пакета SDK для HDInsight .NET.</span><span class="sxs-lookup"><span data-stu-id="01c16-264">Use HDInsight .NET SDK.</span></span> <span data-ttu-id="01c16-265">См. статью [Отправка заданий Hadoop в HDInsight](hdinsight-submit-hadoop-jobs-programmatically.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-265">See [Submit Hadoop jobs](hdinsight-submit-hadoop-jobs-programmatically.md).</span></span>

<span data-ttu-id="01c16-266">Сведения о ценах см. на странице [цен на HDInsight](https://azure.microsoft.com/pricing/details/hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="01c16-266">For the pricing information, see [HDInsight pricing](https://azure.microsoft.com/pricing/details/hdinsight/).</span></span> <span data-ttu-id="01c16-267">Удаление кластера на портале описано в разделе [Удаление кластеров](#delete-clusters).</span><span class="sxs-lookup"><span data-stu-id="01c16-267">To delete a cluster from the Portal, see [Delete clusters](#delete-clusters)</span></span>


## <a name="upgrade-clusters"></a><span data-ttu-id="01c16-268">Установка новых версий кластеров</span><span class="sxs-lookup"><span data-stu-id="01c16-268">Upgrade clusters</span></span>

<span data-ttu-id="01c16-269">Ознакомьтесь с разделом [Обновление кластера HDInsight до более новой версии](./hdinsight-upgrade-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-269">See [Upgrade HDInsight cluster to a newer version](./hdinsight-upgrade-cluster.md).</span></span>

## <a name="change-passwords"></a><span data-ttu-id="01c16-270">Изменение паролей</span><span class="sxs-lookup"><span data-stu-id="01c16-270">Change passwords</span></span>
<span data-ttu-id="01c16-271">Кластер HDInsight может иметь две учетные записи пользователя.</span><span class="sxs-lookup"><span data-stu-id="01c16-271">An HDInsight cluster can have two user accounts.</span></span> <span data-ttu-id="01c16-272">Учетная запись пользователя кластера HDInsight (то есть</span><span class="sxs-lookup"><span data-stu-id="01c16-272">The HDInsight cluster user account (A.K.A.</span></span> <span data-ttu-id="01c16-273">учетная запись пользователя HTTP) и учетная запись пользователя SSH создаются во время создания кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-273">HTTP user account) and the SSH user account are created during the creation process.</span></span> <span data-ttu-id="01c16-274">С помощью пользовательского веб-интерфейса Ambari можно изменить имя пользователя кластера и пароль учетной записи, а также действия сценария для изменения учетной записи SSH.</span><span class="sxs-lookup"><span data-stu-id="01c16-274">You can use the Ambari web UI to change the cluster user account username and password, and script actions to change the SSH user account</span></span>

### <a name="change-the-cluster-user-password"></a><span data-ttu-id="01c16-275">Изменение пароля пользователя кластера</span><span class="sxs-lookup"><span data-stu-id="01c16-275">Change the cluster user password</span></span>
<span data-ttu-id="01c16-276">С помощью пользовательского веб-интерфейса Ambari можно изменить пароль пользователя кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-276">You can use the Ambari Web UI to change the Cluster user password.</span></span> <span data-ttu-id="01c16-277">Чтобы войти в Ambari, необходимо указать имя и пароль существующего пользователя кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-277">To log in to Ambari, you must use the existing cluster username and password.</span></span>

> [!NOTE]
> <span data-ttu-id="01c16-278">Если изменить пароль пользователя (администратора) кластера, это может привести к сбою при выполнении действий сценария для этого кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-278">Changing the cluster user (admin) password may cause script actions ran against this cluster to fail.</span></span> <span data-ttu-id="01c16-279">Если у вас есть сохраненные действия сценария для рабочих узлов, эти сценарии могут завершиться ошибкой при добавлении узлов в кластер при изменении размера.</span><span class="sxs-lookup"><span data-stu-id="01c16-279">If you have any persisted script actions that target worker nodes, these scripts may fail when you add nodes to the cluster through resize operations.</span></span> <span data-ttu-id="01c16-280">Дополнительные сведения о действиях сценариев см. в статье [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-280">For more information on script actions, see [Customize HDInsight clusters using script actions](hdinsight-hadoop-customize-cluster-linux.md).</span></span>
>
>

1. <span data-ttu-id="01c16-281">Войдите в веб-интерфейс Ambari с помощью учетных данных пользователя кластера HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-281">Sign in to the Ambari Web UI using the HDInsight cluster user credentials.</span></span> <span data-ttu-id="01c16-282">Имя пользователя по умолчанию — **admin**. URL-адрес — **https://&lt;имя_кластера_HDInsight>azurehdinsight.net**.</span><span class="sxs-lookup"><span data-stu-id="01c16-282">The default username is **admin**. The URL is **https://&lt;HDInsight Cluster Name>azurehdinsight.net**.</span></span>
2. <span data-ttu-id="01c16-283">В верхнем меню щелкните **Admin** (Администратор) и выберите пункт "Manage Ambari" (Управление Ambari).</span><span class="sxs-lookup"><span data-stu-id="01c16-283">Click **Admin** from the top menu, and then click "Manage Ambari".</span></span>
3. <span data-ttu-id="01c16-284">В меню слева щелкните **Users**(Пользователи).</span><span class="sxs-lookup"><span data-stu-id="01c16-284">From the left menu, click **Users**.</span></span>
4. <span data-ttu-id="01c16-285">Щелкните **Администратор**.</span><span class="sxs-lookup"><span data-stu-id="01c16-285">Click **Admin**.</span></span>
5. <span data-ttu-id="01c16-286">Щелкните **Change Password**(Изменить пароль).</span><span class="sxs-lookup"><span data-stu-id="01c16-286">Click **Change Password**.</span></span>

<span data-ttu-id="01c16-287">Ambari изменит пароль на всех узлах в кластере.</span><span class="sxs-lookup"><span data-stu-id="01c16-287">Ambari then changes the password on all nodes in the cluster.</span></span>

### <a name="change-the-ssh-user-password"></a><span data-ttu-id="01c16-288">Изменение пароля пользователя SSH</span><span class="sxs-lookup"><span data-stu-id="01c16-288">Change the SSH user password</span></span>
1. <span data-ttu-id="01c16-289">С помощью текстового редактора сохраните указанный ниже текст в файл с именем **changepassword.sh**.</span><span class="sxs-lookup"><span data-stu-id="01c16-289">Using a text editor, save the following text as a file named **changepassword.sh**.</span></span>

   > [!IMPORTANT]
   > <span data-ttu-id="01c16-290">Необходимо использовать редактор, который использует LF в качестве конца строки.</span><span class="sxs-lookup"><span data-stu-id="01c16-290">You must use an editor that uses LF as the line ending.</span></span> <span data-ttu-id="01c16-291">Если редактор использует CRLF, сценарий не будет работать.</span><span class="sxs-lookup"><span data-stu-id="01c16-291">If the editor uses CRLF, then the script does not work.</span></span>
   >
   >

        #! /bin/bash
        USER=$1
        PASS=$2

        usermod --password $(echo $PASS | openssl passwd -1 -stdin) $USER
2. <span data-ttu-id="01c16-292">Передайте файл в расположение хранилища, которое будет использоваться из HDInsight с помощью адреса HTTP или HTTPS.</span><span class="sxs-lookup"><span data-stu-id="01c16-292">Upload the file to a storage location that can be accessed from HDInsight using an HTTP or HTTPS address.</span></span> <span data-ttu-id="01c16-293">Например, в такое общедоступное хранилище файлов, как OneDrive или хранилище BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-293">For example, a public file store such as OneDrive or Azure Blob storage.</span></span> <span data-ttu-id="01c16-294">Сохраните универсальный код ресурса (URI) для файла (адрес HTTP или HTTPS), так как он понадобится на следующем шаге.</span><span class="sxs-lookup"><span data-stu-id="01c16-294">Save the URI (HTTP or HTTPS address) to the file, as this URI is needed in the next step.</span></span>
3. <span data-ttu-id="01c16-295">На портале Azure щелкните **Кластеры HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="01c16-295">From the Azure portal, click **HDInsight Clusters**.</span></span>
4. <span data-ttu-id="01c16-296">Щелкните свой кластер HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-296">Click your HDInsight cluster.</span></span>
4. <span data-ttu-id="01c16-297">Щелкните **Действия скрипта**.</span><span class="sxs-lookup"><span data-stu-id="01c16-297">Click **Script Actions**.</span></span>
4. <span data-ttu-id="01c16-298">В колонке **Действия скрипта** выберите **Отправить новое**.</span><span class="sxs-lookup"><span data-stu-id="01c16-298">From the **Script Actions** blade, select **Submit New**.</span></span> <span data-ttu-id="01c16-299">Когда отобразится колонка **Отправка действия скрипта**, введите следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="01c16-299">When the **Submit script action** blade appears, enter the following information:</span></span>

   | <span data-ttu-id="01c16-300">Поле</span><span class="sxs-lookup"><span data-stu-id="01c16-300">Field</span></span> | <span data-ttu-id="01c16-301">Значение</span><span class="sxs-lookup"><span data-stu-id="01c16-301">Value</span></span> |
   | --- | --- |
   | <span data-ttu-id="01c16-302">Имя</span><span class="sxs-lookup"><span data-stu-id="01c16-302">Name</span></span> |<span data-ttu-id="01c16-303">Измените пароль SSH</span><span class="sxs-lookup"><span data-stu-id="01c16-303">Change ssh password</span></span> |
   | <span data-ttu-id="01c16-304">URI bash-скрипта</span><span class="sxs-lookup"><span data-stu-id="01c16-304">Bash script URI</span></span> |<span data-ttu-id="01c16-305">Универсальный код ресурса (URI) файла changepassword.sh.</span><span class="sxs-lookup"><span data-stu-id="01c16-305">The URI to the changepassword.sh file</span></span> |
   | <span data-ttu-id="01c16-306">Узлы (головные, рабочие, Nimbus, супервизора, Zookeeper и т. д.).</span><span class="sxs-lookup"><span data-stu-id="01c16-306">Nodes (Head, Worker, Nimbus, Supervisor, Zookeeper, etc.)</span></span> |<span data-ttu-id="01c16-307">✓ для всех перечисленных типов узлов.</span><span class="sxs-lookup"><span data-stu-id="01c16-307">✓ for all node types listed</span></span> |
   | <span data-ttu-id="01c16-308">Параметры</span><span class="sxs-lookup"><span data-stu-id="01c16-308">Parameters</span></span> |<span data-ttu-id="01c16-309">Введите имя пользователя SSH и новый пароль.</span><span class="sxs-lookup"><span data-stu-id="01c16-309">Enter the SSH user name and then the new password.</span></span> <span data-ttu-id="01c16-310">Между именем пользователя и паролем должен быть один пробел.</span><span class="sxs-lookup"><span data-stu-id="01c16-310">There should be one space between the user name and the password.</span></span> |
   | <span data-ttu-id="01c16-311">Сохранить этот скрипт…</span><span class="sxs-lookup"><span data-stu-id="01c16-311">Persist this script action ...</span></span> |<span data-ttu-id="01c16-312">Оставьте это поле без изменений.</span><span class="sxs-lookup"><span data-stu-id="01c16-312">Leave this field unchecked.</span></span> |
5. <span data-ttu-id="01c16-313">Выберите **Создать**, чтобы применить сценарий.</span><span class="sxs-lookup"><span data-stu-id="01c16-313">Select **Create** to apply the script.</span></span> <span data-ttu-id="01c16-314">После выполнения сценария вы сможете подключиться к кластеру с помощью SSH с новым паролем.</span><span class="sxs-lookup"><span data-stu-id="01c16-314">Once the script finishes, you are able to connect to the cluster using SSH with the new password.</span></span>

## <a name="grantrevoke-access"></a><span data-ttu-id="01c16-315">Предоставление и отмена доступа</span><span class="sxs-lookup"><span data-stu-id="01c16-315">Grant/revoke access</span></span>
<span data-ttu-id="01c16-316">В кластерах HDInsight имеются следующие веб-службы HTTP (все эти службы имеют конечные точки RESTful):</span><span class="sxs-lookup"><span data-stu-id="01c16-316">HDInsight clusters have the following HTTP web services (all of these services have RESTful endpoints):</span></span>

* <span data-ttu-id="01c16-317">ODBC</span><span class="sxs-lookup"><span data-stu-id="01c16-317">ODBC</span></span>
* <span data-ttu-id="01c16-318">JDBC</span><span class="sxs-lookup"><span data-stu-id="01c16-318">JDBC</span></span>
* <span data-ttu-id="01c16-319">Ambari</span><span class="sxs-lookup"><span data-stu-id="01c16-319">Ambari</span></span>
* <span data-ttu-id="01c16-320">Oozie</span><span class="sxs-lookup"><span data-stu-id="01c16-320">Oozie</span></span>
* <span data-ttu-id="01c16-321">Templeton</span><span class="sxs-lookup"><span data-stu-id="01c16-321">Templeton</span></span>

<span data-ttu-id="01c16-322">По умолчанию эти службы предоставляются для доступа.</span><span class="sxs-lookup"><span data-stu-id="01c16-322">By default, these services are granted for access.</span></span> <span data-ttu-id="01c16-323">Вы можете отменить или предоставить доступ с помощью [Azure CLI](hdinsight-administer-use-command-line.md#enabledisable-http-access-for-a-cluster) и [Azure PowerShell](hdinsight-administer-use-powershell.md#grantrevoke-access).</span><span class="sxs-lookup"><span data-stu-id="01c16-323">You can revoke/grant the access using [Azure CLI](hdinsight-administer-use-command-line.md#enabledisable-http-access-for-a-cluster) and [Azure PowerShell](hdinsight-administer-use-powershell.md#grantrevoke-access).</span></span>

## <a name="find-the-subscription-id"></a><span data-ttu-id="01c16-324">Поиск идентификатора подписки</span><span class="sxs-lookup"><span data-stu-id="01c16-324">Find the subscription ID</span></span>

<span data-ttu-id="01c16-325">**Поиск идентификаторов подписок Azure**</span><span class="sxs-lookup"><span data-stu-id="01c16-325">**To find your Azure subscription IDs**</span></span>

1. <span data-ttu-id="01c16-326">Войдите на [портал][azure-portal].</span><span class="sxs-lookup"><span data-stu-id="01c16-326">Sign in to the [Portal][azure-portal].</span></span>
2. <span data-ttu-id="01c16-327">Щелкните **Подписки**.</span><span class="sxs-lookup"><span data-stu-id="01c16-327">Click **Subscriptions**.</span></span> <span data-ttu-id="01c16-328">У всех подписок есть имя и идентификатор.</span><span class="sxs-lookup"><span data-stu-id="01c16-328">Each subscription has a name and an ID.</span></span>

<span data-ttu-id="01c16-329">Каждый кластер привязывается к подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="01c16-329">Each cluster is tied to an Azure subscription.</span></span> <span data-ttu-id="01c16-330">Идентификатор подписки отображается на элементе кластера **Основное**.</span><span class="sxs-lookup"><span data-stu-id="01c16-330">The subscription ID is shown on the cluster **Essential** tile.</span></span> <span data-ttu-id="01c16-331">См. раздел [Отображение кластеров](#list-and-show-clusters).</span><span class="sxs-lookup"><span data-stu-id="01c16-331">See [List and show clusters](#list-and-show-clusters).</span></span>

## <a name="find-the-resource-group"></a><span data-ttu-id="01c16-332">Поиск группы ресурсов</span><span class="sxs-lookup"><span data-stu-id="01c16-332">Find the resource group</span></span>
<span data-ttu-id="01c16-333">В режиме Azure Resource Manager каждый кластер HDInsight создается с группой Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="01c16-333">In the Azure Resource Manager mode, each HDInsight cluster is created with an Azure Resource Manager group.</span></span> <span data-ttu-id="01c16-334">Группу Resource Manager, к которой принадлежит кластер, можно увидеть:</span><span class="sxs-lookup"><span data-stu-id="01c16-334">The Resource Manager group that a cluster belongs to appears in:</span></span>

* <span data-ttu-id="01c16-335">в списке кластеров в столбце **Группа ресурсов** ;</span><span class="sxs-lookup"><span data-stu-id="01c16-335">The cluster list has a **Resource Group** column.</span></span>
* <span data-ttu-id="01c16-336">на плитке кластера **Основное** .</span><span class="sxs-lookup"><span data-stu-id="01c16-336">Cluster **Essential** tile.</span></span>  

<span data-ttu-id="01c16-337">См. раздел [Отображение кластеров](#list-and-show-clusters).</span><span class="sxs-lookup"><span data-stu-id="01c16-337">See [List and show clusters](#list-and-show-clusters).</span></span>

## <a name="find-the-default-storage-account"></a><span data-ttu-id="01c16-338">Поиск учетной записи хранения по умолчанию</span><span class="sxs-lookup"><span data-stu-id="01c16-338">Find the default storage account</span></span>
<span data-ttu-id="01c16-339">Каждый кластер HDInsight имеет учетную запись хранения, используемую по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="01c16-339">Each HDInsight cluster has a default storage account.</span></span> <span data-ttu-id="01c16-340">Учетную запись хранения по умолчанию и ее ключи можно просмотреть в разделе **Учетные записи хранения**.</span><span class="sxs-lookup"><span data-stu-id="01c16-340">The default storage account and its keys for a cluster appears under **Storage Accounts**.</span></span> <span data-ttu-id="01c16-341">См. раздел [Отображение кластеров](#list-and-show-clusters).</span><span class="sxs-lookup"><span data-stu-id="01c16-341">See [List and show clusters](#list-and-show-clusters).</span></span>

## <a name="run-hive-queries"></a><span data-ttu-id="01c16-342">Выполнение запросов Hive</span><span class="sxs-lookup"><span data-stu-id="01c16-342">Run Hive queries</span></span>
<span data-ttu-id="01c16-343">Задание Hive нельзя выполнить непосредственно из портала Azure. Для этого можно использовать представление Hive в веб-интерфейсе Ambari.</span><span class="sxs-lookup"><span data-stu-id="01c16-343">You cannot run Hive job directly from the Azure portal, but you can use the Hive View on Ambari Web UI.</span></span>

<span data-ttu-id="01c16-344">**Выполнение запросов Hive с помощью представления Hive в Ambari**</span><span class="sxs-lookup"><span data-stu-id="01c16-344">**To run Hive queries using Ambari Hive View**</span></span>

1. <span data-ttu-id="01c16-345">Войдите в веб-интерфейс Ambari с помощью учетных данных пользователя кластера HDInsight.</span><span class="sxs-lookup"><span data-stu-id="01c16-345">Sign in to the Ambari Web UI using the HDInsight cluster user credentials.</span></span> <span data-ttu-id="01c16-346">Имя пользователя по умолчанию — **admin**. URL-адрес — **https://&lt;имя_кластера_HDInsight>azurehdinsight.net**.</span><span class="sxs-lookup"><span data-stu-id="01c16-346">The default username is **admin**. The URL is **https://&lt;HDInsight Cluster Name>azurehdinsight.net**.</span></span>
2. <span data-ttu-id="01c16-347">Откройте представление Hive, как показано на снимке экрана ниже:</span><span class="sxs-lookup"><span data-stu-id="01c16-347">Open Hive View as shown in the following screenshot:</span></span>  

    ![Представление Hive в HDInsight](./media/hdinsight-administer-use-portal-linux/hdinsight-hive-view.png)
3. <span data-ttu-id="01c16-349">В верхнем меню щелкните **Query** (Запрос).</span><span class="sxs-lookup"><span data-stu-id="01c16-349">Click **Query** from the top menu.</span></span>
4. <span data-ttu-id="01c16-350">Введите запрос Hive в **редактор запросов**, а затем нажмите кнопку **Execute** (Выполнить).</span><span class="sxs-lookup"><span data-stu-id="01c16-350">Enter a Hive query in **Query Editor**, and then click **Execute**.</span></span>

## <a name="monitor-jobs"></a><span data-ttu-id="01c16-351">Мониторинг заданий</span><span class="sxs-lookup"><span data-stu-id="01c16-351">Monitor jobs</span></span>
<span data-ttu-id="01c16-352">Дополнительные сведения см. в статье [Управление кластерами HDInsight с помощью веб-интерфейса Ambari](hdinsight-hadoop-manage-ambari.md#monitoring).</span><span class="sxs-lookup"><span data-stu-id="01c16-352">See [Manage HDInsight clusters by using the Ambari Web UI](hdinsight-hadoop-manage-ambari.md#monitoring).</span></span>

## <a name="browse-files"></a><span data-ttu-id="01c16-353">Обзор файлов</span><span class="sxs-lookup"><span data-stu-id="01c16-353">Browse files</span></span>
<span data-ttu-id="01c16-354">На портале Azure можно просмотреть содержимое контейнера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="01c16-354">Using the Azure portal, you can browse the content of the default container.</span></span>

1. <span data-ttu-id="01c16-355">Войдите на портал [https://portal.azure.com](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="01c16-355">Sign in to [https://portal.azure.com](https://portal.azure.com).</span></span>
2. <span data-ttu-id="01c16-356">В меню слева щелкните **Кластеры HDInsight** , чтобы просмотреть список существующих кластеров.</span><span class="sxs-lookup"><span data-stu-id="01c16-356">Click **HDInsight Clusters** from the left menu to list the existing clusters.</span></span>
3. <span data-ttu-id="01c16-357">Щелкните имя кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-357">Click the cluster name.</span></span> <span data-ttu-id="01c16-358">Если список кластеров длинный, можно использовать фильтр в верхней части страницы.</span><span class="sxs-lookup"><span data-stu-id="01c16-358">If the cluster list is long, you can use filter on the top of the page.</span></span>
4. <span data-ttu-id="01c16-359">Щелкните **Учетные записи хранения** в меню слева для кластера.</span><span class="sxs-lookup"><span data-stu-id="01c16-359">Click **Storage Accounts** from the cluster left menu.</span></span>
5. <span data-ttu-id="01c16-360">Щелкните учетную запись хранения.</span><span class="sxs-lookup"><span data-stu-id="01c16-360">Click a Storage account.</span></span>
7. <span data-ttu-id="01c16-361">Щелкните элемент **Большие двоичные объекты** .</span><span class="sxs-lookup"><span data-stu-id="01c16-361">Click the **Blobs** tile.</span></span>
8. <span data-ttu-id="01c16-362">Щелкните имя контейнера по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="01c16-362">Click the default container name.</span></span>

## <a name="monitor-cluster-usage"></a><span data-ttu-id="01c16-363">Мониторинг использования кластера</span><span class="sxs-lookup"><span data-stu-id="01c16-363">Monitor cluster usage</span></span>
<span data-ttu-id="01c16-364">В колонке кластера HDInsight в разделе **Использование** отображаются сведения о количестве ядер, доступных для HDInsight в рамках вашей подписки, а также о количестве ядер, выделенных для этого кластера, и их распределении между узлами в кластере.</span><span class="sxs-lookup"><span data-stu-id="01c16-364">The **Usage** section of the HDInsight cluster blade displays information about the number of cores available to your subscription for use with HDInsight, as well as the number of cores allocated to this cluster and how they are allocated for the nodes within this cluster.</span></span> <span data-ttu-id="01c16-365">См. раздел [Отображение кластеров](#list-and-show-clusters).</span><span class="sxs-lookup"><span data-stu-id="01c16-365">See [List and show clusters](#list-and-show-clusters).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="01c16-366">Для мониторинга служб, предоставляемых кластером HDInsight, необходимо использовать интерфейс Ambari Web или API REST Ambari.</span><span class="sxs-lookup"><span data-stu-id="01c16-366">To monitor the services provided by the HDInsight cluster, you must use Ambari Web or the Ambari REST API.</span></span> <span data-ttu-id="01c16-367">Дополнительные сведения об использовании Ambari см. в статье [Управление кластерами HDInsight с помощью веб-интерфейса Ambari](hdinsight-hadoop-manage-ambari.md).</span><span class="sxs-lookup"><span data-stu-id="01c16-367">For more information on using Ambari, see [Manage HDInsight clusters using Ambari](hdinsight-hadoop-manage-ambari.md)</span></span>
>
>

## <a name="connect-to-a-cluster"></a><span data-ttu-id="01c16-368">Подключение к кластеру</span><span class="sxs-lookup"><span data-stu-id="01c16-368">Connect to a cluster</span></span>

* [<span data-ttu-id="01c16-369">Использование Hive с HDInsight</span><span class="sxs-lookup"><span data-stu-id="01c16-369">Use Hive with HDInsight</span></span>](hdinsight-hadoop-use-hive-ambari-view.md)
* [<span data-ttu-id="01c16-370">Использование SSH с HDInsight</span><span class="sxs-lookup"><span data-stu-id="01c16-370">Use SSH with HDInsight</span></span>](hdinsight-hadoop-linux-use-ssh-unix.md)

## <a name="next-steps"></a><span data-ttu-id="01c16-371">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="01c16-371">Next steps</span></span>
<span data-ttu-id="01c16-372">Из этой статьи вы узнали о некоторых основных функциях администрирования.</span><span class="sxs-lookup"><span data-stu-id="01c16-372">In this article, you have learned some basic administative functions.</span></span> <span data-ttu-id="01c16-373">Для получения дополнительных сведений ознакомьтесь со следующими статьями:</span><span class="sxs-lookup"><span data-stu-id="01c16-373">To learn more, see the following articles:</span></span>

* [<span data-ttu-id="01c16-374">Администрирование HDInsight с помощью Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="01c16-374">Administer HDInsight Using Azure PowerShell</span></span>](hdinsight-administer-use-powershell.md)
* [<span data-ttu-id="01c16-375">Администрирование HDInsight с помощью CLI Azure</span><span class="sxs-lookup"><span data-stu-id="01c16-375">Administer HDInsight Using Azure CLI</span></span>](hdinsight-administer-use-command-line.md)
* [<span data-ttu-id="01c16-376">Создание кластеров HDInsight</span><span class="sxs-lookup"><span data-stu-id="01c16-376">Create HDInsight clusters</span></span>](hdinsight-hadoop-provision-linux-clusters.md)
* [<span data-ttu-id="01c16-377">Использование Hive в HDInsight</span><span class="sxs-lookup"><span data-stu-id="01c16-377">Use Hive in HDInsight</span></span>](hdinsight-use-hive.md)
* [<span data-ttu-id="01c16-378">Использование Pig в HDInsight</span><span class="sxs-lookup"><span data-stu-id="01c16-378">Use Pig in HDInsight</span></span>](hdinsight-use-pig.md)
* [<span data-ttu-id="01c16-379">Использование Hadoop Sqoop в HDInsight</span><span class="sxs-lookup"><span data-stu-id="01c16-379">Use Sqoop in HDInsight</span></span>](hdinsight-use-sqoop.md)
* [<span data-ttu-id="01c16-380">Начало работы с Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="01c16-380">Get Started with Azure HDInsight</span></span>](hdinsight-hadoop-linux-tutorial-get-started.md)
* [<span data-ttu-id="01c16-381">Какая версия Hadoop включена в Azure HDInsight?</span><span class="sxs-lookup"><span data-stu-id="01c16-381">What version of Hadoop is in Azure HDInsight?</span></span>](hdinsight-component-versioning.md)

[azure-portal]: https://portal.azure.com
[image-hadoopcommandline]: ./media/hdinsight-administer-use-portal-linux/hdinsight-hadoop-command-line.png "Командная строка Hadoop"
