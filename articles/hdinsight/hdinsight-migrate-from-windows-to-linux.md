---
title: "aaaMigrate с HDInsight под управлением Windows на основе tooLinux HDInsight — Azure | Документы Microsoft"
description: "Узнайте, как toomigrate с HDInsight, на основе Windows кластера tooa кластера HDInsight под управлением Linux."
services: hdinsight
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: ff35be59-bae3-42fd-9edc-77f0041bab93
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 07/12/2017
ms.author: larryfr
ms.openlocfilehash: 7e5e536e8672d7e7c3086c6860cec062d05eda65
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="migrate-from-a-windows-based-hdinsight-cluster-tooa-linux-based-cluster"></a><span data-ttu-id="62d43-103">Миграция с кластера под управлением Linux tooa кластера HDInsight под управлением Windows</span><span class="sxs-lookup"><span data-stu-id="62d43-103">Migrate from a Windows-based HDInsight cluster tooa Linux-based cluster</span></span>

<span data-ttu-id="62d43-104">Этот документ содержит сведения о hello различия между HDInsight в Windows и Linux, а также рекомендации о том, как toomigrate существующих рабочих нагрузок tooa под управлением Linux кластера.</span><span class="sxs-lookup"><span data-stu-id="62d43-104">This document provides details on hello differences between HDInsight on Windows and Linux, and guidance on how toomigrate existing workloads tooa Linux-based cluster.</span></span>

<span data-ttu-id="62d43-105">HDInsight под управлением Windows обеспечивает простой способ toouse Hadoop в облаке hello, может понадобиться кластера под управлением Linux toomigrate tooa.</span><span class="sxs-lookup"><span data-stu-id="62d43-105">While Windows-based HDInsight provides an easy way toouse Hadoop in hello cloud, you may need toomigrate tooa Linux-based cluster.</span></span> <span data-ttu-id="62d43-106">Например tootake преимуществами под управлением Linux инструменты и технологии, которые необходимы для вашего решения.</span><span class="sxs-lookup"><span data-stu-id="62d43-106">For example, tootake advantage of Linux-based tools and technologies that are required for your solution.</span></span> <span data-ttu-id="62d43-107">Часто в экосистеме Hadoop hello разрабатываются в системах под управлением Linux и не могут быть доступны для использования с HDInsight под управлением Windows.</span><span class="sxs-lookup"><span data-stu-id="62d43-107">Many things in hello Hadoop ecosystem are developed on Linux-based systems, and may not be available for use with Windows-based HDInsight.</span></span> <span data-ttu-id="62d43-108">Кроме того, во многих книгах, видеороликах и других учебных материалах предполагается, что при работе с Hadoop вы используете Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-108">Additionally, many books, videos, and other training material assume that you are using a Linux system when working with Hadoop.</span></span>

> [!NOTE]
> <span data-ttu-id="62d43-109">Кластеры HDInsight использовать долгосрочной поддержка Ubuntu (LTS) в качестве hello операционной системы для hello узлов в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-109">HDInsight clusters use Ubuntu long-term support (LTS) as hello operating system for hello nodes in hello cluster.</span></span> <span data-ttu-id="62d43-110">Сведения о версии hello Ubuntu с HDInsight, вместе с другими данными управления версиями компонента см. в разделе [версий компонента HDInsight](hdinsight-component-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-110">For information on hello version of Ubuntu available with HDInsight, along with other component versioning information, see [HDInsight component versions](hdinsight-component-versioning.md).</span></span>

## <a name="migration-tasks"></a><span data-ttu-id="62d43-111">Задачи миграции</span><span class="sxs-lookup"><span data-stu-id="62d43-111">Migration tasks</span></span>

<span data-ttu-id="62d43-112">Ниже приведен Hello общий рабочий процесс для миграции.</span><span class="sxs-lookup"><span data-stu-id="62d43-112">hello general workflow for migration is as follows.</span></span>

![Схема рабочего процесса миграции](./media/hdinsight-migrate-from-windows-to-linux/workflow.png)

1. <span data-ttu-id="62d43-114">Прочитайте каждый раздел этого документа toounderstand изменения, которые могут потребоваться при миграции существующего рабочего процесса, заданий, кластер под управлением Linux и т.д. tooa.</span><span class="sxs-lookup"><span data-stu-id="62d43-114">Read each section of this document toounderstand changes that may be required when migrating your existing workflow, jobs, etc. tooa Linux-based cluster.</span></span>

2. <span data-ttu-id="62d43-115">Создайте кластер под управлением Linux как среду тестирования и контроля качества.</span><span class="sxs-lookup"><span data-stu-id="62d43-115">Create a Linux-based cluster as a test/quality assurance environment.</span></span> <span data-ttu-id="62d43-116">Дополнительные сведения о создании кластера под управлением Linux см. в статье [Создание кластеров под управлением Linux в HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-116">For more information on creating a Linux-based cluster, see [Create Linux-based clusters in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span></span>

3. <span data-ttu-id="62d43-117">Копирование существующих заданий, источники данных и приемники toohello новой среды.</span><span class="sxs-lookup"><span data-stu-id="62d43-117">Copy existing jobs, data sources, and sinks toohello new environment.</span></span>

4. <span data-ttu-id="62d43-118">Выполните Проверочное тестирование toomake убедиться, что заданиям работать должным образом на новый кластер hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-118">Perform validation testing toomake sure that your jobs work as expected on hello new cluster.</span></span>

<span data-ttu-id="62d43-119">После проверки того, что все работает правильно, необходимо запланируйте время простоя для миграции hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-119">Once you have verified that everything works as expected, schedule downtime for hello migration.</span></span> <span data-ttu-id="62d43-120">В это время простоя выполните hello, следующие действия:</span><span class="sxs-lookup"><span data-stu-id="62d43-120">During this downtime, perform hello following actions:</span></span>

1. <span data-ttu-id="62d43-121">Создайте резервную копию временные данные, хранящиеся локально на узлах кластера hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-121">Back up any transient data stored locally on hello cluster nodes.</span></span> <span data-ttu-id="62d43-122">Например, к ним могут относиться данные, которые хранятся непосредственно на головном узле.</span><span class="sxs-lookup"><span data-stu-id="62d43-122">For example, if you have data stored directly on a head node.</span></span>

2. <span data-ttu-id="62d43-123">Удаление кластера под управлением Windows hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-123">Delete hello Windows-based cluster.</span></span>

3. <span data-ttu-id="62d43-124">Создайте кластер под управлением Linux с помощью hello же по умолчанию hello кластера под управлением Windows, используемого хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="62d43-124">Create a Linux-based cluster using hello same default data store that hello Windows-based cluster used.</span></span> <span data-ttu-id="62d43-125">Hello кластера под управлением Linux могут продолжать работать с существующие рабочих данных.</span><span class="sxs-lookup"><span data-stu-id="62d43-125">hello Linux-based cluster can continue working against your existing production data.</span></span>

4. <span data-ttu-id="62d43-126">Импортируйте все временные данные из резервной копии.</span><span class="sxs-lookup"><span data-stu-id="62d43-126">Import any transient data you backed up.</span></span>

5. <span data-ttu-id="62d43-127">Запуск заданий и продолжить обработку с помощью нового кластера hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-127">Start jobs/continue processing using hello new cluster.</span></span>

### <a name="copy-data-toohello-test-environment"></a><span data-ttu-id="62d43-128">Копирование данных toohello тестовой среды</span><span class="sxs-lookup"><span data-stu-id="62d43-128">Copy data toohello test environment</span></span>

<span data-ttu-id="62d43-129">Существует множество методов toocopy hello данных и заданий, однако в этом разделе описываются два hello hello простой методы toodirectly перемещения файлов tooa проверка кластера.</span><span class="sxs-lookup"><span data-stu-id="62d43-129">There are many methods toocopy hello data and jobs, however hello two discussed in this section are hello simplest methods toodirectly move files tooa test cluster.</span></span>

#### <a name="hdfs-copy"></a><span data-ttu-id="62d43-130">Копирование HDFS</span><span class="sxs-lookup"><span data-stu-id="62d43-130">HDFS copy</span></span>

<span data-ttu-id="62d43-131">Используйте hello следующие действия toocopy данные из hello производственного кластера toohello проверка кластера.</span><span class="sxs-lookup"><span data-stu-id="62d43-131">Use hello following steps toocopy data from hello production cluster toohello test cluster.</span></span> <span data-ttu-id="62d43-132">Эти шаги используют hello `hdfs dfs` служебную программу, которая входит в состав HDInsight.</span><span class="sxs-lookup"><span data-stu-id="62d43-132">These steps use hello `hdfs dfs` utility that is included with HDInsight.</span></span>

1. <span data-ttu-id="62d43-133">Найти hello хранилища учетной записи и по умолчанию сведения о контейнере для существующего кластера.</span><span class="sxs-lookup"><span data-stu-id="62d43-133">Find hello storage account and default container information for your existing cluster.</span></span> <span data-ttu-id="62d43-134">Следующий пример Hello использует эти сведения, PowerShell tooretrieve:</span><span class="sxs-lookup"><span data-stu-id="62d43-134">hello following example uses PowerShell tooretrieve this information:</span></span>

    ```powershell
    $clusterName="Your existing HDInsight cluster name"
    $clusterInfo = Get-AzureRmHDInsightCluster -ClusterName $clusterName
    write-host "Storage account name: $clusterInfo.DefaultStorageAccount.split('.')[0]"
    write-host "Default container: $clusterInfo.DefaultStorageContainer"
    ```

2. <span data-ttu-id="62d43-135">toocreate тестовой среды, выполните действия hello hello кластеров на основе Linux, создайте в документе HDInsight.</span><span class="sxs-lookup"><span data-stu-id="62d43-135">toocreate a test environment, follow hello steps in hello Create Linux-based clusters in HDInsight document.</span></span> <span data-ttu-id="62d43-136">Остановить перед созданием кластера hello, а вместо этого выберите **необязательная конфигурация**.</span><span class="sxs-lookup"><span data-stu-id="62d43-136">Stop before creating hello cluster, and instead select **Optional Configuration**.</span></span>

3. <span data-ttu-id="62d43-137">Hello необязательная конфигурация колонке выберите **связанные учетные записи хранения**.</span><span class="sxs-lookup"><span data-stu-id="62d43-137">From hello Optional Configuration blade, select **Linked Storage Accounts**.</span></span>

4. <span data-ttu-id="62d43-138">Выберите **добавить ключ хранилища**и при появлении запроса выберите учетную запись хранения hello, возвращенный hello сценарий PowerShell на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="62d43-138">Select **Add a storage key**, and when prompted, select hello storage account that was returned by hello PowerShell script in step 1.</span></span> <span data-ttu-id="62d43-139">Щелкните **Выбрать** на каждой колонке.</span><span class="sxs-lookup"><span data-stu-id="62d43-139">Click **Select** on each blade.</span></span> <span data-ttu-id="62d43-140">Наконец Создайте кластер hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-140">Finally, create hello cluster.</span></span>

5. <span data-ttu-id="62d43-141">После создания кластера hello подключиться с помощью tooit **SSH.**</span><span class="sxs-lookup"><span data-stu-id="62d43-141">Once hello cluster has been created, connect tooit using **SSH.**</span></span> <span data-ttu-id="62d43-142">Дополнительные сведения см. в статье [Использование SSH с Hadoop на основе Linux в HDInsight из Linux, Unix или OS X](hdinsight-hadoop-linux-use-ssh-unix.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-142">For more information, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span></span>

6. <span data-ttu-id="62d43-143">Из сеанса SSH hello используйте следующую toocopy командные файлы из hello связаны хранилища учетной записи toohello новой по умолчанию учетной записи хранения hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-143">From hello SSH session, use hello following command toocopy files from hello linked storage account toohello new default storage account.</span></span> <span data-ttu-id="62d43-144">Замените КОНТЕЙНЕРА hello контейнера сведения, возвращенные PowerShell.</span><span class="sxs-lookup"><span data-stu-id="62d43-144">Replace CONTAINER with hello container information returned by PowerShell.</span></span> <span data-ttu-id="62d43-145">Замените __учетной записи__ с именем учетной записи hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-145">Replace __ACCOUNT__ with hello account name.</span></span> <span data-ttu-id="62d43-146">Замените toodata путь hello tooa данных hello путь к файлу.</span><span class="sxs-lookup"><span data-stu-id="62d43-146">Replace hello path toodata with hello path tooa data file.</span></span>

    ```bash
    hdfs dfs -cp wasb://CONTAINER@ACCOUNT.blob.core.windows.net/path/to/old/data /path/to/new/location
    ```

    > [!NOTE]
    > <span data-ttu-id="62d43-147">Если структура каталогов hello, содержащий данные hello не существует на hello тестовой среды, можно создать его с помощью hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="62d43-147">If hello directory structure that contains hello data does not exist on hello test environment, you can create it using hello following command:</span></span>

    ```bash
    hdfs dfs -mkdir -p /new/path/to/create
    ```

    <span data-ttu-id="62d43-148">Hello `-p` коммутатор обеспечивает создание hello все каталоги в пути hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-148">hello `-p` switch enables hello creation of all directories in  hello path.</span></span>

#### <a name="direct-copy-between-blobs-in-azure-storage"></a><span data-ttu-id="62d43-149">Прямое копирование между большими двоичными объектами в службе хранилища Azure</span><span class="sxs-lookup"><span data-stu-id="62d43-149">Direct copy between blobs in Azure Storage</span></span>

<span data-ttu-id="62d43-150">Кроме того, может потребоваться toouse hello `Start-AzureStorageBlobCopy` Azure PowerShell командлет toocopy BLOB-объектов между учетными записями хранения за пределами HDInsight.</span><span class="sxs-lookup"><span data-stu-id="62d43-150">Alternatively, you may want toouse hello `Start-AzureStorageBlobCopy` Azure PowerShell cmdlet toocopy blobs between storage accounts outside of HDInsight.</span></span> <span data-ttu-id="62d43-151">Дополнительные сведения см. в разделе hello как toomanage раздел больших двоичных объектов Azure с помощью Azure PowerShell со службой хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="62d43-151">For more information, see hello How toomanage Azure Blobs section of Using Azure PowerShell with Azure Storage.</span></span>

## <a name="client-side-technologies"></a><span data-ttu-id="62d43-152">Технологии на стороне клиента</span><span class="sxs-lookup"><span data-stu-id="62d43-152">Client-side technologies</span></span>

<span data-ttu-id="62d43-153">Клиентские технологии, такие как [командлетов Azure PowerShell](/powershell/azureps-cmdlets-docs), [Azure CLI](../cli-install-nodejs.md), или hello [.NET SDK для Hadoop](https://hadoopsdk.codeplex.com/) продолжить toowork кластеры под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-153">Client-side technologies such as [Azure PowerShell cmdlets](/powershell/azureps-cmdlets-docs), [Azure CLI](../cli-install-nodejs.md), or hello [.NET SDK for Hadoop](https://hadoopsdk.codeplex.com/) continue toowork Linux-based clusters.</span></span> <span data-ttu-id="62d43-154">Эти технологии основаны на REST API, которые являются hello одинаково на обоих типах кластера ОС.</span><span class="sxs-lookup"><span data-stu-id="62d43-154">These technologies rely on REST APIs that are hello same across both cluster OS types.</span></span>

## <a name="server-side-technologies"></a><span data-ttu-id="62d43-155">Технологии на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="62d43-155">Server-side technologies</span></span>

<span data-ttu-id="62d43-156">Привет, в следующей таблице приведены инструкции по миграции серверных компонентов, связанных с Windows.</span><span class="sxs-lookup"><span data-stu-id="62d43-156">hello following table provides guidance on migrating server-side components that are Windows-specific.</span></span>

| <span data-ttu-id="62d43-157">Если вы используете эту технологию...</span><span class="sxs-lookup"><span data-stu-id="62d43-157">If you are using this technology...</span></span> | <span data-ttu-id="62d43-158">Выполните это действие...</span><span class="sxs-lookup"><span data-stu-id="62d43-158">Take this action...</span></span> |
| --- | --- |
| <span data-ttu-id="62d43-159">**PowerShell** (сценарии на стороне сервера, включая действия сценариев, используемые во время создания кластера)</span><span class="sxs-lookup"><span data-stu-id="62d43-159">**PowerShell** (server-side scripts, including Script Actions used during cluster creation)</span></span> |<span data-ttu-id="62d43-160">Перепишите эти сценарии как скрипты Bash.</span><span class="sxs-lookup"><span data-stu-id="62d43-160">Rewrite as Bash scripts.</span></span> <span data-ttu-id="62d43-161">Сведения о действиях сценариев см. в разделах [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md) и [Разработка действий сценариев с помощью HDInsight](hdinsight-hadoop-script-actions-linux.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-161">For Script Actions, see [Customize Linux-based HDInsight with Script Actions](hdinsight-hadoop-customize-cluster-linux.md) and [Script action development for Linux-based HDInsight](hdinsight-hadoop-script-actions-linux.md).</span></span> |
| <span data-ttu-id="62d43-162">**Azure CLI** (сценарии на стороне сервера)</span><span class="sxs-lookup"><span data-stu-id="62d43-162">**Azure CLI** (server-side scripts)</span></span> |<span data-ttu-id="62d43-163">Пока hello Azure CLI доступна в Linux, он не предустановлены на hello HDInsight кластер головного узла.</span><span class="sxs-lookup"><span data-stu-id="62d43-163">While hello Azure CLI is available on Linux, it does not come pre-installed on hello HDInsight cluster head nodes.</span></span> <span data-ttu-id="62d43-164">Дополнительные сведения об установке hello Azure CLI см. в разделе [Приступая к работе с Azure CLI 2.0](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli).</span><span class="sxs-lookup"><span data-stu-id="62d43-164">For more information on installing hello Azure CLI, see [Get started with Azure CLI 2.0](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli).</span></span> |
| <span data-ttu-id="62d43-165">**Компоненты .NET**</span><span class="sxs-lookup"><span data-stu-id="62d43-165">**.NET components**</span></span> |<span data-ttu-id="62d43-166">.NET поддерживается в кластерах HDInsight под управлением Linux посредством [Mono](https://mono-project.com).</span><span class="sxs-lookup"><span data-stu-id="62d43-166">.NET is supported on Linux-based HDInsight through [Mono](https://mono-project.com).</span></span> <span data-ttu-id="62d43-167">Дополнительные сведения см. в разделе [миграции .NET решений на базе tooLinux HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-167">For more information, see [Migrate .NET solutions tooLinux-based HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md).</span></span> |
| <span data-ttu-id="62d43-168">**Компоненты Win32 или другая технология, которая существует только для Windows**</span><span class="sxs-lookup"><span data-stu-id="62d43-168">**Win32 components or other Windows-only technology**</span></span> |<span data-ttu-id="62d43-169">Руководство по зависит от компонента hello или технологии.</span><span class="sxs-lookup"><span data-stu-id="62d43-169">Guidance depends on hello component or technology.</span></span> <span data-ttu-id="62d43-170">Может быть может toofind версии, совместимой с Linux или могут необходима toofind альтернативное решение или перепишите данный компонент.</span><span class="sxs-lookup"><span data-stu-id="62d43-170">You may be able toofind a version that is compatible with Linux, or you may need toofind an alternate solution or rewrite this component.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="62d43-171">Hello управления HDInsight SDK не полностью совместим с моно.</span><span class="sxs-lookup"><span data-stu-id="62d43-171">hello HDInsight management SDK is not fully compatible with Mono.</span></span> <span data-ttu-id="62d43-172">Он не можно использовать как часть решения развертывания кластера HDInsight toohello в данный момент.</span><span class="sxs-lookup"><span data-stu-id="62d43-172">It should not be used as part of solutions deployed toohello HDInsight cluster at this time.</span></span>

## <a name="cluster-creation"></a><span data-ttu-id="62d43-173">Создание кластера</span><span class="sxs-lookup"><span data-stu-id="62d43-173">Cluster creation</span></span>

<span data-ttu-id="62d43-174">В этом разделе приведены сведения о различиях при создании кластера.</span><span class="sxs-lookup"><span data-stu-id="62d43-174">This section provides information on differences in cluster creation.</span></span>

### <a name="ssh-user"></a><span data-ttu-id="62d43-175">Пользователь SSH</span><span class="sxs-lookup"><span data-stu-id="62d43-175">SSH User</span></span>

<span data-ttu-id="62d43-176">Кластеры HDInsight под управлением Linux используйте hello **Secure Shell (SSH)** протокола узлы кластера toohello tooprovide удаленного доступа.</span><span class="sxs-lookup"><span data-stu-id="62d43-176">Linux-based HDInsight clusters use hello **Secure Shell (SSH)** protocol tooprovide remote access toohello cluster nodes.</span></span> <span data-ttu-id="62d43-177">В отличие клиентов удаленного рабочего стола для кластеров Windows, большинство SSH-клиентов не обеспечивает графический пользовательский интерфейс.</span><span class="sxs-lookup"><span data-stu-id="62d43-177">Unlike Remote Desktop for Windows-based clusters, most SSH clients do not provide a graphical user experience.</span></span> <span data-ttu-id="62d43-178">Вместо этого клиенты SSH предоставляют командную строку, которая позволяет toorun команды на кластере hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-178">Instead, SSH clients provide a command line that allows you toorun commands on hello cluster.</span></span> <span data-ttu-id="62d43-179">Некоторые клиенты (например, [MobaXterm](http://mobaxterm.mobatek.net/)) предоставляют графический файл системы браузер в дополнение tooa удаленной командной строки.</span><span class="sxs-lookup"><span data-stu-id="62d43-179">Some clients (such as [MobaXterm](http://mobaxterm.mobatek.net/)) provide a graphical file system browser in addition tooa remote command line.</span></span>

<span data-ttu-id="62d43-180">Во время создания кластера необходимо указать имя пользователя SSH и **пароль** или **сертификат открытого ключа** для аутентификации.</span><span class="sxs-lookup"><span data-stu-id="62d43-180">During cluster creation, you must provide an SSH user and either a **password** or **public key certificate** for authentication.</span></span>

<span data-ttu-id="62d43-181">Мы рекомендуем использовать сертификат открытого ключа, так как он более безопасен по сравнению с паролем.</span><span class="sxs-lookup"><span data-stu-id="62d43-181">We recommend using Public key certificate, as it is more secure than using a password.</span></span> <span data-ttu-id="62d43-182">Сертификат проверки подлинности осуществляется посредством создания знаком пару открытого и закрытого ключа, а затем указав hello открытый ключ при создании кластера hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-182">Certificate authentication works by generating a signed public/private key pair, then providing hello public key when creating hello cluster.</span></span> <span data-ttu-id="62d43-183">При подключении сервера toohello, с помощью SSH, hello закрытый ключ на клиенте hello обеспечивает проверку подлинности для подключения hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-183">When connecting toohello server using SSH, hello private key on hello client provides authentication for hello connection.</span></span>

<span data-ttu-id="62d43-184">Дополнительные сведения см. в статье [Использование SSH с Hadoop на основе Linux в HDInsight из Linux, Unix или OS X](hdinsight-hadoop-linux-use-ssh-unix.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-184">For more information, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span></span>

### <a name="cluster-customization"></a><span data-ttu-id="62d43-185">Настройка кластера</span><span class="sxs-lookup"><span data-stu-id="62d43-185">Cluster customization</span></span>

<span data-ttu-id="62d43-186">**Действия сценария**, используемые в кластерах под управлением Linux, должны быть записаны в сценарий Bash.</span><span class="sxs-lookup"><span data-stu-id="62d43-186">**Script Actions** used with Linux-based clusters must be written in Bash script.</span></span> <span data-ttu-id="62d43-187">Во время действия скрипта можно использовать во время создания кластера для кластеров под управлением Linux, их также можно использовать tooperform настройки после копирования кластера и работает.</span><span class="sxs-lookup"><span data-stu-id="62d43-187">While Script Actions can be used during cluster creation, for Linux-based clusters they can also be used tooperform customization after a cluster is up and running.</span></span> <span data-ttu-id="62d43-188">Дополнительные сведения см. в разделах [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md) и [Разработка действий сценариев с помощью HDInsight](hdinsight-hadoop-script-actions-linux.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-188">For more information, see [Customize Linux-based HDInsight with Script Actions](hdinsight-hadoop-customize-cluster-linux.md) and [Script action development for Linux-based HDInsight](hdinsight-hadoop-script-actions-linux.md).</span></span>

<span data-ttu-id="62d43-189">Еще одна возможность настройки — **начальная загрузка**.</span><span class="sxs-lookup"><span data-stu-id="62d43-189">Another customization feature is **bootstrap**.</span></span> <span data-ttu-id="62d43-190">Для кластеров Windows эта функция позволяет расположение hello toospecify дополнительные библиотеки для использования с Hive.</span><span class="sxs-lookup"><span data-stu-id="62d43-190">For Windows clusters, this feature allows you toospecify hello location of additional libraries for use with Hive.</span></span> <span data-ttu-id="62d43-191">После создания кластера эти библиотеки автоматически станут доступны для использования с запросов Hive без необходимости toouse hello `ADD JAR`.</span><span class="sxs-lookup"><span data-stu-id="62d43-191">After cluster creation, these libraries are automatically available for use with Hive queries without hello need toouse `ADD JAR`.</span></span>

<span data-ttu-id="62d43-192">Hello начальной загрузки для кластеров под управлением Linux не обеспечивают эту функциональность.</span><span class="sxs-lookup"><span data-stu-id="62d43-192">hello Bootstrap feature for Linux-based clusters does not provide this functionality.</span></span> <span data-ttu-id="62d43-193">Вместо этого используйте действие сценария, указанное в статье [Добавление библиотек Hive во время создания кластера HDInsight](hdinsight-hadoop-add-hive-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-193">Instead, use script action documented in [Add Hive libraries during cluster creation](hdinsight-hadoop-add-hive-libraries.md).</span></span>

### <a name="virtual-networks"></a><span data-ttu-id="62d43-194">Виртуальные сети</span><span class="sxs-lookup"><span data-stu-id="62d43-194">Virtual Networks</span></span>

<span data-ttu-id="62d43-195">Кластеры HDInsight под управлением Windows работают только с классическими виртуальными сетями, а для кластеров HDInsight под управлением Linux требуются виртуальные сети Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="62d43-195">Windows-based HDInsight clusters only work with Classic Virtual Networks, while Linux-based HDInsight clusters require Resource Manager Virtual Networks.</span></span> <span data-ttu-id="62d43-196">Если имеются ресурсы классической виртуальной сети, которая hello кластера Linux HDInsight необходимо подключиться к см. в разделе [подключение tooa классической виртуальной сети виртуальная сеть диспетчера ресурсов](../vpn-gateway/vpn-gateway-connect-different-deployment-models-portal.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-196">If you have resources in a Classic Virtual Network that hello Linux-HDInsight cluster must connect to, see [Connecting a Classic Virtual Network tooa Resource Manager Virtual Network](../vpn-gateway/vpn-gateway-connect-different-deployment-models-portal.md).</span></span>

<span data-ttu-id="62d43-197">Дополнительные сведения о требованиях к конфигурации при использовании виртуальных сетей Azure в HDInsight см. в статье [Расширение возможностей HDInsight с помощью виртуальной сети Azure](hdinsight-extend-hadoop-virtual-network.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-197">For more information on configuration requirements for using Azure Virtual Networks with HDInsight, see [Extend HDInsight capabilities by using a Virtual Network](hdinsight-extend-hadoop-virtual-network.md).</span></span>

## <a name="management-and-monitoring"></a><span data-ttu-id="62d43-198">Управление и мониторинг</span><span class="sxs-lookup"><span data-stu-id="62d43-198">Management and monitoring</span></span>

<span data-ttu-id="62d43-199">Многие веб-hello пользовательских интерфейсов использовался с HDInsight под управлением Windows, такие как журнал заданий или Yarn пользовательского интерфейса, доступны через Ambari.</span><span class="sxs-lookup"><span data-stu-id="62d43-199">Many of hello web UIs you may have used with Windows-based HDInsight, such as Job History or Yarn UI, are available through Ambari.</span></span> <span data-ttu-id="62d43-200">Кроме того hello Ambari Hive представление предоставляет toorun способом запросов Hive, с помощью веб-браузере.</span><span class="sxs-lookup"><span data-stu-id="62d43-200">In addition, hello Ambari Hive View provides a way toorun Hive queries using your web browser.</span></span> <span data-ttu-id="62d43-201">Hello Ambari веб-интерфейса можно найти в кластеры под управлением Linux на https://CLUSTERNAME.azurehdinsight.net.</span><span class="sxs-lookup"><span data-stu-id="62d43-201">hello Ambari Web UI is available on Linux-based clusters at https://CLUSTERNAME.azurehdinsight.net.</span></span>

<span data-ttu-id="62d43-202">Дополнительные сведения о работе с Ambari см. в разделе hello следующие документы:</span><span class="sxs-lookup"><span data-stu-id="62d43-202">For more information on working with Ambari, see hello following documents:</span></span>

* [<span data-ttu-id="62d43-203">Веб-интерфейс Ambari</span><span class="sxs-lookup"><span data-stu-id="62d43-203">Ambari Web</span></span>](hdinsight-hadoop-manage-ambari.md)
* [<span data-ttu-id="62d43-204">Ambari REST API</span><span class="sxs-lookup"><span data-stu-id="62d43-204">Ambari REST API</span></span>](hdinsight-hadoop-manage-ambari-rest-api.md)

### <a name="ambari-alerts"></a><span data-ttu-id="62d43-205">Предупреждения Ambari</span><span class="sxs-lookup"><span data-stu-id="62d43-205">Ambari Alerts</span></span>

<span data-ttu-id="62d43-206">Ambari установлена система предупреждений, позволяющего однозначно судить о потенциальных проблемах с hello кластера.</span><span class="sxs-lookup"><span data-stu-id="62d43-206">Ambari has an alert system that can tell you of potential problems with hello cluster.</span></span> <span data-ttu-id="62d43-207">Отображаются в виде красного или желтого значка записей в hello Ambari веб-интерфейса, однако их также можно получить через API-Интерфейс REST hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-207">Alerts appear as red or yellow entries in hello Ambari Web UI, however you can also retrieve them through hello REST API.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="62d43-208">Предупреждения Ambari указывают на то, что проблема *возможна*, а не на то, что она уже *присутствует*.</span><span class="sxs-lookup"><span data-stu-id="62d43-208">Ambari alerts indicate that there *may* be a problem, not that there *is* a problem.</span></span> <span data-ttu-id="62d43-209">Например, может появиться предупреждение о том, что сервер HiveServer2 недоступен. При этом вы можете обратиться к нему обычным образом.</span><span class="sxs-lookup"><span data-stu-id="62d43-209">For example, you may receive an alert that HiveServer2 cannot be accessed, even though you can access it normally.</span></span>
>
> <span data-ttu-id="62d43-210">Многие предупреждения реализованы в качестве запросов к службе и ожидают ответа в течение определенного промежутка времени.</span><span class="sxs-lookup"><span data-stu-id="62d43-210">Many alerts are implemented as interval-based queries against a service, and expect a response within a specific time frame.</span></span> <span data-ttu-id="62d43-211">Поэтому предупреждение hello не обязательно означает, что служба hello не работает, только что он не вернул результаты в течение промежутка времени hello ожидается.</span><span class="sxs-lookup"><span data-stu-id="62d43-211">So hello alert doesn't necessarily mean that hello service is down, just that it didn't return results within hello expected time frame.</span></span>

<span data-ttu-id="62d43-212">Перед выполнением каких-либо действий с оповещением следует оценить, появлялось ли оно в течение продолжительного периода времени или отражает проблемы в работе пользователей, о которых уже сообщалось.</span><span class="sxs-lookup"><span data-stu-id="62d43-212">You should evaluate whether an alert has been occurring for an extended period, or mirrors user problems that have been reported before taking action on it.</span></span>

## <a name="file-system-locations"></a><span data-ttu-id="62d43-213">Структура файловой системы</span><span class="sxs-lookup"><span data-stu-id="62d43-213">File system locations</span></span>

<span data-ttu-id="62d43-214">Hello Linux кластера файловой системы выстраивается иначе, чем кластеры HDInsight под управлением Windows.</span><span class="sxs-lookup"><span data-stu-id="62d43-214">hello Linux cluster file system is laid out differently than Windows-based HDInsight clusters.</span></span> <span data-ttu-id="62d43-215">Используйте следующие файлы toofind часто используемые таблицы hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-215">Use hello following table toofind commonly used files.</span></span>

| <span data-ttu-id="62d43-216">Мне нужна toofind...</span><span class="sxs-lookup"><span data-stu-id="62d43-216">I need toofind...</span></span> | <span data-ttu-id="62d43-217">Это находится в папке...</span><span class="sxs-lookup"><span data-stu-id="62d43-217">It is located...</span></span> |
| --- | --- |
| <span data-ttu-id="62d43-218">Конфигурация</span><span class="sxs-lookup"><span data-stu-id="62d43-218">Configuration</span></span> |<span data-ttu-id="62d43-219">`/etc`.</span><span class="sxs-lookup"><span data-stu-id="62d43-219">`/etc`.</span></span> <span data-ttu-id="62d43-220">Например, `/etc/hadoop/conf/core-site.xml`</span><span class="sxs-lookup"><span data-stu-id="62d43-220">For example, `/etc/hadoop/conf/core-site.xml`</span></span> |
| <span data-ttu-id="62d43-221">Файлы журналов</span><span class="sxs-lookup"><span data-stu-id="62d43-221">Log files</span></span> |`/var/logs` |
| <span data-ttu-id="62d43-222">Платформа данных Hortonworks Data Platform (HDP)</span><span class="sxs-lookup"><span data-stu-id="62d43-222">Hortonworks Data Platform (HDP)</span></span> |<span data-ttu-id="62d43-223">`/usr/hdp`. Существует два каталога находится здесь, это текущая версия HDP hello и `current`.</span><span class="sxs-lookup"><span data-stu-id="62d43-223">`/usr/hdp`.There are two directories located here, one that is hello current HDP version and `current`.</span></span> <span data-ttu-id="62d43-224">Hello `current` каталог содержит toofiles символические ссылки и папки, размещенные в каталоге номера версии hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-224">hello `current` directory contains symbolic links toofiles and directories located in hello version number directory.</span></span> <span data-ttu-id="62d43-225">Hello `current` каталога предоставляется для удобного доступа к файлам HDP с момента hello номер версии станет как hello HDP обновляется версия.</span><span class="sxs-lookup"><span data-stu-id="62d43-225">hello `current` directory is provided as a convenient way of accessing HDP files since hello version number changes as hello HDP version is updated.</span></span> |
| <span data-ttu-id="62d43-226">hadoop-streaming.jar</span><span class="sxs-lookup"><span data-stu-id="62d43-226">hadoop-streaming.jar</span></span> |`/usr/hdp/current/hadoop-mapreduce-client/hadoop-streaming.jar` |

<span data-ttu-id="62d43-227">Вообще Если известно имя hello файла hello, можно использовать следующую команду из SSH toofind hello путь к файлу сеанса hello:</span><span class="sxs-lookup"><span data-stu-id="62d43-227">In general, if you know hello name of hello file, you can use hello following command from an SSH session toofind hello file path:</span></span>

    find / -name FILENAME 2>/dev/null

<span data-ttu-id="62d43-228">Также можно использовать подстановочные знаки с именем файла hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-228">You can also use wildcards with hello file name.</span></span> <span data-ttu-id="62d43-229">Например `find / -name *streaming*.jar 2>/dev/null` возвращает tooany путь hello jar-файлы, содержащие слово hello, «потоковая передача» как часть имени файла hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-229">For example, `find / -name *streaming*.jar 2>/dev/null` returns hello path tooany jar files that contain hello word 'streaming' as part of hello file name.</span></span>

## <a name="hive-pig-and-mapreduce"></a><span data-ttu-id="62d43-230">Hive, Pig и MapReduce</span><span class="sxs-lookup"><span data-stu-id="62d43-230">Hive, Pig, and MapReduce</span></span>

<span data-ttu-id="62d43-231">Рабочие нагрузки Pig и MapReduce на кластерах Linux похожи.</span><span class="sxs-lookup"><span data-stu-id="62d43-231">Pig and MapReduce workloads are similar on Linux-based clusters.</span></span> <span data-ttu-id="62d43-232">Однако кластеры HDInsight под управлением Linux можно создать с помощью более новых версий Hadoop, Hive и Pig.</span><span class="sxs-lookup"><span data-stu-id="62d43-232">However, Linux-based HDInsight clusters can be created using newer versions of Hadoop, Hive, and Pig.</span></span> <span data-ttu-id="62d43-233">Эти отличия версий могут повлиять на функционирование существующих решений.</span><span class="sxs-lookup"><span data-stu-id="62d43-233">These version differences may introduce changes in how your existing solutions function.</span></span> <span data-ttu-id="62d43-234">Дополнительные сведения о версиях hello компоненты, включенные в HDInsight см. в разделе [управление версиями компонента HDInsight](hdinsight-component-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-234">For more information on hello versions of components included with HDInsight, see [HDInsight component versioning](hdinsight-component-versioning.md).</span></span>

<span data-ttu-id="62d43-235">Кластеры HDInsight под управлением Linux не предоставляют функцию удаленного рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="62d43-235">Linux-based HDInsight does not provide remote desktop functionality.</span></span> <span data-ttu-id="62d43-236">Вместо этого можно использовать SSH tooremotely подключения toohello кластер головного узла.</span><span class="sxs-lookup"><span data-stu-id="62d43-236">Instead, you can use SSH tooremotely connect toohello cluster head nodes.</span></span> <span data-ttu-id="62d43-237">Дополнительные сведения см. в разделе hello следующие документы:</span><span class="sxs-lookup"><span data-stu-id="62d43-237">For more information, see hello following documents:</span></span>

* [<span data-ttu-id="62d43-238">Использование Hive с Hadoop в HDInsight с применением Beeline</span><span class="sxs-lookup"><span data-stu-id="62d43-238">Use Hive with SSH</span></span>](hdinsight-hadoop-use-hive-ssh.md)
* [<span data-ttu-id="62d43-239">Использование Pig с SSH</span><span class="sxs-lookup"><span data-stu-id="62d43-239">Use Pig with SSH</span></span>](hdinsight-hadoop-use-pig-ssh.md)
* [<span data-ttu-id="62d43-240">Использование MapReduce с SSH</span><span class="sxs-lookup"><span data-stu-id="62d43-240">Use MapReduce with SSH</span></span>](hdinsight-hadoop-use-mapreduce-ssh.md)

### <a name="hive"></a><span data-ttu-id="62d43-241">Hive</span><span class="sxs-lookup"><span data-stu-id="62d43-241">Hive</span></span>

> [!IMPORTANT]
> <span data-ttu-id="62d43-242">Если вы используете внешние метахранилища Hive, вы резервную копию метахранилище hello перед его использованием с HDInsight под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-242">If you use an external Hive metastore, you should back up hello metastore before using it with Linux-based HDInsight.</span></span> <span data-ttu-id="62d43-243">В HDInsight под управлением Linux используются более новые версии Hive, что может привести к проблемам совместимости с хранилищами метаданных, созданными с использованием предыдущих версий.</span><span class="sxs-lookup"><span data-stu-id="62d43-243">Linux-based HDInsight is available with newer versions of Hive, which may have incompatibilities with metastores created by earlier versions.</span></span>

<span data-ttu-id="62d43-244">Следующая диаграмма Hello содержатся рекомендации по переносу рабочих нагрузок Hive.</span><span class="sxs-lookup"><span data-stu-id="62d43-244">hello following chart provides guidance on migrating your Hive workloads.</span></span>

| <span data-ttu-id="62d43-245">В кластерах под управлением Windows я пользуюсь...</span><span class="sxs-lookup"><span data-stu-id="62d43-245">On Windows-based, I use...</span></span> | <span data-ttu-id="62d43-246">В кластерах под управлением Linux...</span><span class="sxs-lookup"><span data-stu-id="62d43-246">On Linux-based...</span></span> |
| --- | --- |
| <span data-ttu-id="62d43-247">**редактор Hive;**</span><span class="sxs-lookup"><span data-stu-id="62d43-247">**Hive Editor**</span></span> |[<span data-ttu-id="62d43-248">используйте представление Hive в Ambari</span><span class="sxs-lookup"><span data-stu-id="62d43-248">Hive View in Ambari</span></span>](hdinsight-hadoop-use-hive-ambari-view.md) |
| <span data-ttu-id="62d43-249">`set hive.execution.engine=tez;`tooenable Tez</span><span class="sxs-lookup"><span data-stu-id="62d43-249">`set hive.execution.engine=tez;` tooenable Tez</span></span> |<span data-ttu-id="62d43-250">Подсистема выполнения по умолчанию hello для кластеров под управлением Linux, больше не используется, чтобы hello задать инструкции Tez.</span><span class="sxs-lookup"><span data-stu-id="62d43-250">Tez is hello default execution engine for Linux-based clusters, so hello set statement is no longer needed.</span></span> |
| <span data-ttu-id="62d43-251">Определяемые пользователем функции C#</span><span class="sxs-lookup"><span data-stu-id="62d43-251">C# user-defined functions</span></span> | <span data-ttu-id="62d43-252">Сведения о проверке компонентов C# с HDInsight под управлением Linux см. в разделе [миграции .NET решений на базе tooLinux HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md)</span><span class="sxs-lookup"><span data-stu-id="62d43-252">For information on validating C# components with Linux-based HDInsight, see [Migrate .NET solutions tooLinux-based HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md)</span></span> |
| <span data-ttu-id="62d43-253">CMD файлы или сценарии на сервере hello вызывается как часть задания Hive</span><span class="sxs-lookup"><span data-stu-id="62d43-253">CMD files or scripts on hello server invoked as part of a Hive job</span></span> |<span data-ttu-id="62d43-254">используйте скрипты Bash</span><span class="sxs-lookup"><span data-stu-id="62d43-254">use Bash scripts</span></span> |
| <span data-ttu-id="62d43-255">`hive` из удаленного рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="62d43-255">`hive` command from remote desktop</span></span> |<span data-ttu-id="62d43-256">используйте [Beeline](hdinsight-hadoop-use-hive-beeline.md) или [Hive из сеанса SSH](hdinsight-hadoop-use-hive-ssh.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-256">Use [Beeline](hdinsight-hadoop-use-hive-beeline.md) or [Hive from an SSH session](hdinsight-hadoop-use-hive-ssh.md)</span></span> |

### <a name="pig"></a><span data-ttu-id="62d43-257">Pig,</span><span class="sxs-lookup"><span data-stu-id="62d43-257">Pig</span></span>

| <span data-ttu-id="62d43-258">В кластерах под управлением Windows я пользуюсь...</span><span class="sxs-lookup"><span data-stu-id="62d43-258">On Windows-based, I use...</span></span> | <span data-ttu-id="62d43-259">В кластерах под управлением Linux...</span><span class="sxs-lookup"><span data-stu-id="62d43-259">On Linux-based...</span></span> |
| --- | --- |
| <span data-ttu-id="62d43-260">Определяемые пользователем функции C#</span><span class="sxs-lookup"><span data-stu-id="62d43-260">C# user-defined functions</span></span> | <span data-ttu-id="62d43-261">Сведения о проверке компонентов C# с HDInsight под управлением Linux см. в разделе [миграции .NET решений на базе tooLinux HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md)</span><span class="sxs-lookup"><span data-stu-id="62d43-261">For information on validating C# components with Linux-based HDInsight, see [Migrate .NET solutions tooLinux-based HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md)</span></span> |
| <span data-ttu-id="62d43-262">CMD файлы или сценарии на сервере hello вызывается как часть задания Pig</span><span class="sxs-lookup"><span data-stu-id="62d43-262">CMD files or scripts on hello server invoked as part of a Pig job</span></span> |<span data-ttu-id="62d43-263">используйте скрипты Bash</span><span class="sxs-lookup"><span data-stu-id="62d43-263">use Bash scripts</span></span> |

### <a name="mapreduce"></a><span data-ttu-id="62d43-264">MapReduce</span><span class="sxs-lookup"><span data-stu-id="62d43-264">MapReduce</span></span>

| <span data-ttu-id="62d43-265">В кластерах под управлением Windows я пользуюсь...</span><span class="sxs-lookup"><span data-stu-id="62d43-265">On Windows-based, I use...</span></span> | <span data-ttu-id="62d43-266">В кластерах под управлением Linux...</span><span class="sxs-lookup"><span data-stu-id="62d43-266">On Linux-based...</span></span> |
| --- | --- |
| <span data-ttu-id="62d43-267">Компоненты C# для сопоставления и редукции</span><span class="sxs-lookup"><span data-stu-id="62d43-267">C# mapper and reducer components</span></span> | <span data-ttu-id="62d43-268">Сведения о проверке компонентов C# с HDInsight под управлением Linux см. в разделе [миграции .NET решений на базе tooLinux HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md)</span><span class="sxs-lookup"><span data-stu-id="62d43-268">For information on validating C# components with Linux-based HDInsight, see [Migrate .NET solutions tooLinux-based HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md)</span></span> |
| <span data-ttu-id="62d43-269">CMD файлы или сценарии на сервере hello вызывается как часть задания Hive</span><span class="sxs-lookup"><span data-stu-id="62d43-269">CMD files or scripts on hello server invoked as part of a Hive job</span></span> |<span data-ttu-id="62d43-270">используйте скрипты Bash</span><span class="sxs-lookup"><span data-stu-id="62d43-270">use Bash scripts</span></span> |

## <a name="oozie"></a><span data-ttu-id="62d43-271">Oozie,</span><span class="sxs-lookup"><span data-stu-id="62d43-271">Oozie</span></span>

> [!IMPORTANT]
> <span data-ttu-id="62d43-272">При использовании внешних метахранилище Oozie вы резервную копию метахранилище hello перед его использованием с HDInsight под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-272">If you use an external Oozie metastore, you should back up hello metastore before using it with Linux-based HDInsight.</span></span> <span data-ttu-id="62d43-273">В HDInsight под управлением Linux используются более новые версии Oozie, что может привести к проблемам совместимости с хранилищами метаданных, созданными с использованием предыдущих версий.</span><span class="sxs-lookup"><span data-stu-id="62d43-273">Linux-based HDInsight is available with newer versions of Oozie, which may have incompatibilities with metastores created by earlier versions.</span></span>

<span data-ttu-id="62d43-274">Рабочие процессы Oozie позволяют использовать действия оболочки.</span><span class="sxs-lookup"><span data-stu-id="62d43-274">Oozie workflows allow shell actions.</span></span> <span data-ttu-id="62d43-275">Оболочки действия используйте оболочки по умолчанию hello для hello операционной системы toorun командной строки.</span><span class="sxs-lookup"><span data-stu-id="62d43-275">Shell actions use hello default shell for hello operating system toorun command-line commands.</span></span> <span data-ttu-id="62d43-276">Если у вас есть Oozie рабочие процессы, зависящие от оболочки Windows hello, необходимо переписать hello toorely рабочих процессов на оболочку среды Linux hello (Bash).</span><span class="sxs-lookup"><span data-stu-id="62d43-276">If you have Oozie workflows that rely on hello Windows shell, you must rewrite hello workflows toorely on hello Linux shell environment (Bash).</span></span> <span data-ttu-id="62d43-277">Дополнительные сведения об использовании действий оболочки с Oozie см. в разделе [Oozie shell action extension](http://oozie.apache.org/docs/3.3.0/DG_ShellActionExtension.html) (Расширение действий оболочки Oozie).</span><span class="sxs-lookup"><span data-stu-id="62d43-277">For more information on using shell actions with Oozie, see [Oozie shell action extension](http://oozie.apache.org/docs/3.3.0/DG_ShellActionExtension.html).</span></span>

<span data-ttu-id="62d43-278">Если имеются рабочие процессы Oozie, зависящие от приложений C#, вызываемых с помощью действий оболочки, необходимо проверить эти приложения в среде Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-278">If you have Oozie workflows that rely on C# applications invoked through shell actions, you must validate these applications in a Linux environment.</span></span> <span data-ttu-id="62d43-279">Дополнительные сведения см. в разделе [миграции .NET решений на базе tooLinux HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-279">For more information, see [Migrate .NET solutions tooLinux-based HDInsight](hdinsight-hadoop-migrate-dotnet-to-linux.md).</span></span>

## <a name="storm"></a><span data-ttu-id="62d43-280">Storm</span><span class="sxs-lookup"><span data-stu-id="62d43-280">Storm</span></span>

| <span data-ttu-id="62d43-281">В кластерах под управлением Windows я пользуюсь...</span><span class="sxs-lookup"><span data-stu-id="62d43-281">On Windows-based, I use...</span></span> | <span data-ttu-id="62d43-282">В кластерах под управлением Linux...</span><span class="sxs-lookup"><span data-stu-id="62d43-282">On Linux-based...</span></span> |
| --- | --- |
| <span data-ttu-id="62d43-283">Панель мониторинга Storm</span><span class="sxs-lookup"><span data-stu-id="62d43-283">Storm Dashboard</span></span> |<span data-ttu-id="62d43-284">Hello Storm мониторинга недоступна.</span><span class="sxs-lookup"><span data-stu-id="62d43-284">hello Storm Dashboard is not available.</span></span> <span data-ttu-id="62d43-285">В разделе [развертывание и управление Storm топологии на основе Linux HDInsight](hdinsight-storm-deploy-monitor-topology-linux.md) для способов toosubmit топологий</span><span class="sxs-lookup"><span data-stu-id="62d43-285">See [Deploy and Manage Storm topologies on Linux-based HDInsight](hdinsight-storm-deploy-monitor-topology-linux.md) for ways toosubmit topologies</span></span> |
| <span data-ttu-id="62d43-286">Пользовательский интерфейс Storm</span><span class="sxs-lookup"><span data-stu-id="62d43-286">Storm UI</span></span> |<span data-ttu-id="62d43-287">найти по адресу https://CLUSTERNAME.azurehdinsight.net/stormui Hello Storm пользовательского интерфейса</span><span class="sxs-lookup"><span data-stu-id="62d43-287">hello Storm UI is available at https://CLUSTERNAME.azurehdinsight.net/stormui</span></span> |
| <span data-ttu-id="62d43-288">Visual Studio toocreate, развертывания и управления C# или гибридной топологии</span><span class="sxs-lookup"><span data-stu-id="62d43-288">Visual Studio toocreate, deploy, and manage C# or hybrid topologies</span></span> |<span data-ttu-id="62d43-289">Visual Studio может быть используется toocreate, развертывание и управление C# (SCP.NET) или гибридной топологии, на основе Linux ураган в кластерах HDInsight, созданные после 10/28/2016.</span><span class="sxs-lookup"><span data-stu-id="62d43-289">Visual Studio can be used toocreate, deploy, and manage C# (SCP.NET) or hybrid topologies on Linux-based Storm on HDInsight clusters created after 10/28/2016.</span></span> |

## <a name="hbase"></a><span data-ttu-id="62d43-290">HBase</span><span class="sxs-lookup"><span data-stu-id="62d43-290">HBase</span></span>

<span data-ttu-id="62d43-291">Для кластеров под управлением Linux, является родителем hello znode HBase `/hbase-unsecure`.</span><span class="sxs-lookup"><span data-stu-id="62d43-291">On Linux-based clusters, hello znode parent for HBase is `/hbase-unsecure`.</span></span> <span data-ttu-id="62d43-292">Это значение в конфигурации hello для клиентских приложений Java, использовать собственный API Java HBase.</span><span class="sxs-lookup"><span data-stu-id="62d43-292">Set this value in hello configuration for any Java client applications that use native HBase Java API.</span></span>

<span data-ttu-id="62d43-293">Пример клиента, который устанавливает это значение, см. в разделе [Использование Maven для сборки приложений Java, которые используют HBase с HDInsight (Hadoop)](hdinsight-hbase-build-java-maven.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-293">See [Build a Java-based HBase application](hdinsight-hbase-build-java-maven.md) for an example client that sets this value.</span></span>

## <a name="spark"></a><span data-ttu-id="62d43-294">Spark</span><span class="sxs-lookup"><span data-stu-id="62d43-294">Spark</span></span>

<span data-ttu-id="62d43-295">Кластеры Spark были доступны в кластерах Windows на этапе предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="62d43-295">Spark clusters were available on Windows-clusters during preview.</span></span> <span data-ttu-id="62d43-296">Общедоступная версия Spark доступна только в кластерах Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-296">Spark GA is only available with Linux-based clusters.</span></span> <span data-ttu-id="62d43-297">Отсутствует путь миграции в кластере Spark под управлением Windows версии tooa предварительного просмотра кластера Spark под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-297">There is no migration path from a Windows-based Spark preview cluster tooa release Linux-based Spark cluster.</span></span>

## <a name="known-issues"></a><span data-ttu-id="62d43-298">Известные проблемы</span><span class="sxs-lookup"><span data-stu-id="62d43-298">Known issues</span></span>

### <a name="azure-data-factory-custom-net-activities"></a><span data-ttu-id="62d43-299">Пользовательские действия .NET фабрики данных Azure</span><span class="sxs-lookup"><span data-stu-id="62d43-299">Azure Data Factory custom .NET activities</span></span>

<span data-ttu-id="62d43-300">Пользовательские действия .NET фабрики данных Azure в настоящее время не поддерживаются в кластерах HDInsight под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-300">Azure Data Factory custom .NET activities are not currently supported on Linux-based HDInsight clusters.</span></span> <span data-ttu-id="62d43-301">Вместо этого следует использовать один из hello следующие методы tooimplement настраиваемые действия в рамках конвейера ADF.</span><span class="sxs-lookup"><span data-stu-id="62d43-301">Instead, you should use one of hello following methods tooimplement custom activities as part of your ADF pipeline.</span></span>

* <span data-ttu-id="62d43-302">Выполните действия .NET в пуле пакетной службы Azure.</span><span class="sxs-lookup"><span data-stu-id="62d43-302">Execute .NET activities on Azure Batch pool.</span></span> <span data-ttu-id="62d43-303">В разделе hello связанной пакетной Azure используйте службу [использовать настраиваемые действия в конвейере фабрики данных Azure](../data-factory/data-factory-use-custom-activities.md)</span><span class="sxs-lookup"><span data-stu-id="62d43-303">See hello Use Azure Batch linked service section of [Use custom activities in an Azure Data Factory pipeline](../data-factory/data-factory-use-custom-activities.md)</span></span>
* <span data-ttu-id="62d43-304">Реализуйте hello действие как действие MapReduce.</span><span class="sxs-lookup"><span data-stu-id="62d43-304">Implement hello activity as a MapReduce activity.</span></span> <span data-ttu-id="62d43-305">Дополнительные сведения см. в разделе [Вызов программы MapReduce из фабрики данных](../data-factory/data-factory-map-reduce.md).</span><span class="sxs-lookup"><span data-stu-id="62d43-305">For more information, see [Invoke MapReduce Programs from Data Factory](../data-factory/data-factory-map-reduce.md).</span></span>

### <a name="line-endings"></a><span data-ttu-id="62d43-306">Символы конца строки</span><span class="sxs-lookup"><span data-stu-id="62d43-306">Line endings</span></span>

<span data-ttu-id="62d43-307">Как правило, в качестве символов конца строки в Windows используется CRLF, а в Linux — LF.</span><span class="sxs-lookup"><span data-stu-id="62d43-307">In general, line endings on Windows-based systems use CRLF, while Linux-based systems use LF.</span></span> <span data-ttu-id="62d43-308">Если при формировании или ожидать данных с помощью окончаниях CRLF, может потребоваться toomodify hello производители и потребители toowork с конца строки LF hello.</span><span class="sxs-lookup"><span data-stu-id="62d43-308">If you produce, or expect, data with CRLF line endings, you may need toomodify hello producers or consumers toowork with hello LF line ending.</span></span>

<span data-ttu-id="62d43-309">Например HDInsight в кластере под управлением Windows с помощью Azure PowerShell tooquery возвращает данные с CRLF.</span><span class="sxs-lookup"><span data-stu-id="62d43-309">For example, using Azure PowerShell tooquery HDInsight on a Windows-based cluster returns data with CRLF.</span></span> <span data-ttu-id="62d43-310">Hello того же запроса в кластере под управлением Linux возвращает LF.</span><span class="sxs-lookup"><span data-stu-id="62d43-310">hello same query with a Linux-based cluster returns LF.</span></span> <span data-ttu-id="62d43-311">Если конечная строка hello вызывает проблемы с вашей solutuion перед выполнением миграции следует протестировать toosee tooa кластера под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-311">You should test toosee if hello line ending causes a problem with your solutuion before migrating tooa Linux-based cluster.</span></span>

<span data-ttu-id="62d43-312">При наличии скриптов, которые выполняются непосредственно на узлах кластера Linux hello, следует всегда использовать LF как hello завершения строк.</span><span class="sxs-lookup"><span data-stu-id="62d43-312">If you have scripts that are executed directly on hello Linux-cluster nodes, you should always use LF as hello line ending.</span></span> <span data-ttu-id="62d43-313">Если вы используете CRLF, регистрируются сообщения об ошибках при выполнении скриптов hello в кластере под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-313">If you use CRLF, you may see errors when running hello scripts on a Linux-based cluster.</span></span>

<span data-ttu-id="62d43-314">Если вы знаете, что hello скрипты не содержат строк с использованием внедренных символов CR, можно с помощью одного из следующих методов hello hello окончаниях изменений:</span><span class="sxs-lookup"><span data-stu-id="62d43-314">If you know that hello scripts do not contain strings with embedded CR characters, you can bulk change hello line endings using one of hello following methods:</span></span>

* <span data-ttu-id="62d43-315">**Перед отправкой кластера toohello**: hello используйте следующую PowerShell инструкций toochange hello завершениях из CRLF tooLF перед отправкой hello сценария toohello кластера.</span><span class="sxs-lookup"><span data-stu-id="62d43-315">**Before uploading toohello cluster**: Use hello following PowerShell statements toochange hello line endings from CRLF tooLF before uploading hello script toohello cluster.</span></span>

    ```powershell
    $original_file ='c:\path\to\script.py'
    $text = [IO.File]::ReadAllText($original_file) -replace "`r`n", "`n"
    [IO.File]::WriteAllText($original_file, $text)
    ```

* <span data-ttu-id="62d43-316">**После отправки toohello кластера**: используйте hello следующие команды из toohello сеансу SSH скрипт hello toomodify кластера под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="62d43-316">**After uploading toohello cluster**: Use hello following command from an SSH session toohello Linux-based cluster toomodify hello script.</span></span>

    ```bash
    hdfs dfs -get wasb:///path/to/script.py oldscript.py
    tr -d '\r' < oldscript.py > script.py
    hdfs dfs -put -f script.py wasb:///path/to/script.py
    ```

## <a name="next-steps"></a><span data-ttu-id="62d43-317">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="62d43-317">Next Steps</span></span>

* [<span data-ttu-id="62d43-318">Узнайте, как toocreate HDInsight под управлением Linux кластеров</span><span class="sxs-lookup"><span data-stu-id="62d43-318">Learn how toocreate Linux-based HDInsight clusters</span></span>](hdinsight-hadoop-provision-linux-clusters.md)
* [<span data-ttu-id="62d43-319">Используйте SSH tooconnect tooHDInsight</span><span class="sxs-lookup"><span data-stu-id="62d43-319">Use SSH tooconnect tooHDInsight</span></span>](hdinsight-hadoop-linux-use-ssh-unix.md)
* [<span data-ttu-id="62d43-320">Выполняйте управление кластером под управлением Linux с помощью Ambari</span><span class="sxs-lookup"><span data-stu-id="62d43-320">Manage a Linux-based cluster using Ambari</span></span>](hdinsight-hadoop-manage-ambari.md)
