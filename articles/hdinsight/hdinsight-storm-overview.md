---
title: "Основные сведения об Apache Storm в Azure HDInsight | Документация Майкрософт"
description: "Apache Storm позволяет обрабатывать потоки данных в режиме реального времени. Azure HDInsight позволяет легко создавать кластеры Storm в облаке Azure. С помощью Visual Studio можно создать решения Storm, используя C#, а затем развернуть их в кластерах HDInsight Storm."
services: hdinsight
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
tags: azure-portal
keywords: "варианты использования apache storm, кластер storm, сведения об apache storm"
ms.assetid: 72d54080-1e48-4a5e-aa50-cce4ffc85077
ms.service: hdinsight
ms.custom: hdinsightactive,hdiseo17may2017
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/03/2017
ms.author: larryfr
ms.openlocfilehash: 073672f1223313938baedee027072cb96062294b
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="what-is-apache-storm-on-azure-hdinsight"></a><span data-ttu-id="b6fb6-106">Основные сведения об Apache Storm в Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="b6fb6-106">What is Apache Storm on Azure HDInsight?</span></span>

<span data-ttu-id="b6fb6-107">[Apache Storm](http://storm.apache.org/) — это распределенная отказоустойчивая вычислительная система с открытым исходным кодом.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-107">[Apache Storm](http://storm.apache.org/) is a distributed, fault-tolerant, open-source computation system.</span></span> <span data-ttu-id="b6fb6-108">Ее можно использовать для обработки потоков данных в режиме реального времени с помощью Hadoop.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-108">You can use Storm to process streams of data in real time with Hadoop.</span></span> <span data-ttu-id="b6fb6-109">Решения Storm могут также обеспечить гарантированную обработку данных и возможность воспроизвести те данные, которые не прошли удачную обработку в первый раз.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-109">Storm solutions can also provide guaranteed processing of data, with the ability to replay data that was not successfully processed the first time.</span></span>

<span data-ttu-id="b6fb6-110">Использование Storm в HDInsight обеспечивает следующие преимущества:</span><span class="sxs-lookup"><span data-stu-id="b6fb6-110">Storm on HDInsight provides the following key benefits:</span></span>

* <span data-ttu-id="b6fb6-111">Решение выполняется как управляемая служба с доступностью в течение 99,9 % времени.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-111">Performs as a managed service with an SLA of 99.9 percent uptime.</span></span>

* <span data-ttu-id="b6fb6-112">Простая настройка с помощью скриптов во время или после создания кластера Storm.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-112">Supports easy customization by running scripts against a Storm cluster during or after creation.</span></span> <span data-ttu-id="b6fb6-113">Дополнительные сведения см. в статье [Настройка кластеров HDInsight под управлением Linux с помощью действия сценария](hdinsight-hadoop-customize-cluster-linux.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-113">For more information, see [Customize HDInsight clusters using script action](hdinsight-hadoop-customize-cluster-linux.md).</span></span>

* <span data-ttu-id="b6fb6-114">Использование различных языков.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-114">Uses various languages.</span></span> <span data-ttu-id="b6fb6-115">Вы можете написать компоненты Storm на удобном для вас языке, например Java, C# и Python.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-115">You can write Storm components in the language of your choice, such as Java, C#, and Python.</span></span>

    * <span data-ttu-id="b6fb6-116">Интеграция Visual Studio с HDInsight для разработки, администрирования и отслеживания топологий C#.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-116">Integrates Visual Studio with HDInsight for the development, management, and monitoring of C# topologies.</span></span> <span data-ttu-id="b6fb6-117">Дополнительные сведения см. в статье [Разработка топологий для Apache Storm в HDInsight на C# с помощью средств Hadoop для Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-117">For more information, see [Develop C# Storm topologies with the HDInsight Tools for Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span></span>

    * <span data-ttu-id="b6fb6-118">Поддержка Java-интерфейса Trident.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-118">Supports the Trident Java interface.</span></span> <span data-ttu-id="b6fb6-119">Вы можете создавать топологии Storm, поддерживающие обработку сообщений в рамках подхода "только один раз", сохраняемость "транзакционных" хранилищ данных, а также набор распространенных операций Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-119">You can create Storm topologies that support exactly once processing of messages, transactional datastore persistence, and a set of common stream analytics operations.</span></span>

*  <span data-ttu-id="b6fb6-120">Простое масштабирование кластеров Storm.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-120">Easily scale Storm clusters up and down.</span></span> <span data-ttu-id="b6fb6-121">Вы можете добавить или удалить рабочие узлы, не влияя на выполняющиеся топологии Storm.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-121">You can add or remove worker nodes with no impact to running Storm topologies.</span></span>

* <span data-ttu-id="b6fb6-122">Интеграция со следующими службами Azure:</span><span class="sxs-lookup"><span data-stu-id="b6fb6-122">Integrates with the following Azure services:</span></span>

    * <span data-ttu-id="b6fb6-123">Концентраторы событий Azure</span><span class="sxs-lookup"><span data-stu-id="b6fb6-123">Azure Event Hubs</span></span>

    * <span data-ttu-id="b6fb6-124">Виртуальная сеть Azure</span><span class="sxs-lookup"><span data-stu-id="b6fb6-124">Azure Virtual Network</span></span>

    * <span data-ttu-id="b6fb6-125">База данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="b6fb6-125">Azure SQL Database</span></span>

    * <span data-ttu-id="b6fb6-126">Хранилище Azure</span><span class="sxs-lookup"><span data-stu-id="b6fb6-126">Azure Storage</span></span>

    * <span data-ttu-id="b6fb6-127">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="b6fb6-127">Azure Cosmos DB</span></span>

* <span data-ttu-id="b6fb6-128">Объединение возможностей нескольких кластеров HDInsight с помощью виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-128">Securely combines the capabilities of multiple HDInsight clusters by using Virtual Network.</span></span> <span data-ttu-id="b6fb6-129">Вы можете создавать конвейеры аналитики, использующие кластеры Storm, Kafka, Spark, HBase или Hadoop.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-129">You can create analytic pipelines that use Storm, Kafka, Spark, HBase, or Hadoop clusters.</span></span>

<span data-ttu-id="b6fb6-130">Список компаний, использующих Apache Storm в качестве решения для анализа данных в реальном времени, см. на [этой странице](https://storm.apache.org/documentation/Powered-By.html).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-130">For a list of companies that are using Apache Storm for their real-time analytics solutions, see [Companies using Apache Storm](https://storm.apache.org/documentation/Powered-By.html).</span></span>

<span data-ttu-id="b6fb6-131">Сведения для начала работы с системой Storm см. в статье [Начало работы со Storm в HDInsight][gettingstarted].</span><span class="sxs-lookup"><span data-stu-id="b6fb6-131">To get started using Storm, see [Get started with Storm on HDInsight][gettingstarted].</span></span>

## <a name="how-does-storm-work"></a><span data-ttu-id="b6fb6-132">Как работает Storm</span><span class="sxs-lookup"><span data-stu-id="b6fb6-132">How does Storm work</span></span>

<span data-ttu-id="b6fb6-133">Storm работает с топологиями, а не заданиями MapReduce, которые могут быть вам знакомы.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-133">Storm runs topologies instead of the MapReduce jobs that you might be familiar with.</span></span> <span data-ttu-id="b6fb6-134">Топологии Storm состоят из нескольких компонентов, которые расположены в виде направленного ациклического графа (DAG).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-134">Storm topologies are composed of multiple components that are arranged in a directed acyclic graph (DAG).</span></span> <span data-ttu-id="b6fb6-135">На указанной ниже схеме показаны потоки данных между компонентами.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-135">Data flows between the components in the graph.</span></span> <span data-ttu-id="b6fb6-136">Каждый компонент использует один или несколько потоков данных и может генерировать дополнительные потоки.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-136">Each component consumes one or more data streams, and can optionally emit one or more streams.</span></span> <span data-ttu-id="b6fb6-137">На следующей схеме показан поток данных между компонентами в базовой топологии подсчета слов:</span><span class="sxs-lookup"><span data-stu-id="b6fb6-137">The following diagram illustrates how data flows between components in a basic word-count topology:</span></span>

![Пример расположения компонентов в топологии Storm](./media/hdinsight-storm-overview/example-apache-storm-topology-diagram.png)

* <span data-ttu-id="b6fb6-139">Компоненты spout переносят данные в топологию.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-139">Spout components bring data into a topology.</span></span> <span data-ttu-id="b6fb6-140">Они генерируют один или несколько потоков в топологии.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-140">They emit one or more streams into the topology.</span></span>

* <span data-ttu-id="b6fb6-141">Компоненты bolt используют потоки, генерируемые элементами spout или другими элементами bolt.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-141">Bolt components consume streams emitted from spouts or other bolts.</span></span> <span data-ttu-id="b6fb6-142">Элементы bolt могут дополнительно генерировать потоки в топологии.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-142">Bolts might optionally emit streams into the topology.</span></span> <span data-ttu-id="b6fb6-143">Они также отвечают за запись данных во внешние службы или хранилище, например HDFS, Kafka или HBase.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-143">Bolts are also responsible for writing data to external services or storage, such as HDFS, Kafka, or HBase.</span></span>

## <a name="ease-of-creation"></a><span data-ttu-id="b6fb6-144">Простота создания</span><span class="sxs-lookup"><span data-stu-id="b6fb6-144">Ease of creation</span></span>

<span data-ttu-id="b6fb6-145">Новый кластер Storm в HDInsight можно подготовить за считаные минуты.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-145">You can provision a new Storm cluster on HDInsight in minutes.</span></span> <span data-ttu-id="b6fb6-146">Сведения о создании кластера Storm см. в статье [Начало работы с примерами Storm Starter для аналитики больших данных в HDInsight под управлением Linux](hdinsight-apache-storm-tutorial-get-started-linux.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-146">For more information on creating a Storm cluster, see [Get started with Storm on HDInsight](hdinsight-apache-storm-tutorial-get-started-linux.md).</span></span>

## <a name="ease-of-use"></a><span data-ttu-id="b6fb6-147">Простота использования</span><span class="sxs-lookup"><span data-stu-id="b6fb6-147">Ease of use</span></span>

* <span data-ttu-id="b6fb6-148">__Подключение Secure Shell.__ Головные узлы кластера Storm доступны через Интернет по протоколу SSH.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-148">__Secure Shell (SSH) connectivity__: You can access the head nodes of your Storm cluster over the Internet by using SSH.</span></span> <span data-ttu-id="b6fb6-149">С помощью SSH вы можете выполнять команды непосредственно в кластере.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-149">You can run commands directly on your cluster by using SSH.</span></span>

  <span data-ttu-id="b6fb6-150">Дополнительные сведения см. в статье [Использование SSH с Hadoop на основе Linux в HDInsight из Linux, Unix или OS X](hdinsight-hadoop-linux-use-ssh-unix.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-150">For more information, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span></span>

* <span data-ttu-id="b6fb6-151">__Веб-подключение.__ Все кластеры HDInsight предоставляют веб-интерфейс Ambari.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-151">__Web connectivity__: All HDInsight clusters provide the Ambari web UI.</span></span> <span data-ttu-id="b6fb6-152">Он позволяет легко отслеживать, настраивать и администрировать службы в кластере.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-152">You can easily monitor, configure, and manage services on your cluster by using the Ambari web UI.</span></span> <span data-ttu-id="b6fb6-153">Кластеры Storm также предоставляют пользовательский интерфейс Storm.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-153">Storm clusters also provide the Storm UI.</span></span> <span data-ttu-id="b6fb6-154">С его помощью вы можете отслеживать и контролировать выполнение топологий Storm из браузера.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-154">You can monitor and manage running Storm topologies from your browser by using the Storm UI.</span></span>

  <span data-ttu-id="b6fb6-155">Дополнительные сведения см. в статье [Управление кластерами HDInsight с помощью веб-интерфейса Ambari](hdinsight-hadoop-manage-ambari.md) и разделе [Мониторинг и управление: пользовательский интерфейс Storm](hdinsight-storm-deploy-monitor-topology-linux.md#monitor-and-manage-storm-ui).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-155">For more information, see the [Manage HDInsight using the Ambari Web UI](hdinsight-hadoop-manage-ambari.md) and [Monitor and manage using the Storm UI](hdinsight-storm-deploy-monitor-topology-linux.md#monitor-and-manage-storm-ui) documents.</span></span>

* <span data-ttu-id="b6fb6-156">__Azure PowerShell и Azure CLI.__ Обе эти служебные программы командной строки можно использовать для работы с HDInsight и другими службами Azure из клиентской системы.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-156">__Azure PowerShell and Azure CLI__: PowerShell and CLI both provide command-line utilities that you can use from your client system to work with HDInsight and other Azure services.</span></span>

* <span data-ttu-id="b6fb6-157">__Интеграция с Visual Studio.__ Средства Azure Data Lake для Visual Studio включают шаблоны проектов для создания топологий C# Storm с помощью платформы SCP.Net.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-157">__Visual Studio integration__: Azure Data Lake Tools for Visual Studio include project templates for creating C# Storm topologies by using the SCP.Net framework.</span></span> <span data-ttu-id="b6fb6-158">Средства Data Lake также предоставляют средства для развертывания, отслеживания и администрирования решений с помощью Storm в HDInsight.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-158">Data Lake Tools also provide tools to deploy, monitor, and manage solutions with Storm on HDInsight.</span></span>

  <span data-ttu-id="b6fb6-159">Дополнительные сведения см. в статье [Разработка топологий для Apache Storm в HDInsight на C# с помощью средств Hadoop для Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-159">For more information, see [Develop C# Storm topologies with the HDInsight Tools for Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span></span>

## <a name="integration-with-other-azure-services"></a><span data-ttu-id="b6fb6-160">Интеграция с другими службами Azure</span><span class="sxs-lookup"><span data-stu-id="b6fb6-160">Integration with other Azure services</span></span>

* <span data-ttu-id="b6fb6-161">__Azure Data Lake Store.__ Примеры использования Data Lake Store с помощью кластера Storm см. в статье [Использование Azure Data Lake Store с помощью Apache Storm в HDInsight (Java)](hdinsight-storm-write-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-161">__Azure Data Lake Store__: For an example of using Data Lake Store with a Storm cluster, see [Use Azure Data Lake Store with Apache Storm on HDInsight](hdinsight-storm-write-data-lake-store.md).</span></span>

* <span data-ttu-id="b6fb6-162">__Концентраторы событий.__ Примеры использования концентраторов событий с кластером Storm см. в следующих документах:</span><span class="sxs-lookup"><span data-stu-id="b6fb6-162">__Event Hubs__: For an example of using Event Hubs with a Storm cluster, see the following documents:</span></span>

    * [<span data-ttu-id="b6fb6-163">Разработка топологии подсчета слов на основе Java для Storm в HDInsight с помощью Maven</span><span class="sxs-lookup"><span data-stu-id="b6fb6-163">Develop a Java-based topology for Storm on HDInsight</span></span>](hdinsight-storm-develop-java-topology.md)

    * [<span data-ttu-id="b6fb6-164">Обработка событий из службы концентраторов событий Azure с помощью Storm в HDInsight (C#)</span><span class="sxs-lookup"><span data-stu-id="b6fb6-164">Process events from Azure Event Hubs with Storm on HDInsight (C#)</span></span>](hdinsight-storm-develop-csharp-event-hub-topology.md)

* <span data-ttu-id="b6fb6-165">__База данных SQL__, __Cosmos DB__, __концентраторы событий__ и __HBase.__ Примеры шаблонов для работы с ними включены в средства Data Lake для Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-165">__SQL Database__, __Cosmos DB__, __Event Hubs__, and __HBase__: Template examples are included in the Data Lake Tools for Visual Studio.</span></span> <span data-ttu-id="b6fb6-166">Дополнительные сведения см. в статье [Разработка топологий для Apache Storm в HDInsight на C# с помощью средств Hadoop для Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-166">For more information, see [Develop a C# topology for Storm on HDInsight](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span></span>

## <a name="reliability"></a><span data-ttu-id="b6fb6-167">Надежность</span><span class="sxs-lookup"><span data-stu-id="b6fb6-167">Reliability</span></span>

<span data-ttu-id="b6fb6-168">Система Apache Storm гарантирует, что каждое входящее сообщение будет полностью обработано даже в том случае, когда анализ данных распределен между сотнями узлов.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-168">Apache Storm guarantees that each incoming message is always fully processed, even when the data analysis is spread over hundreds of nodes.</span></span>

<span data-ttu-id="b6fb6-169">Функциональные возможности узла Nimbus схожи с возможностями службы Hadoop JobTracker. Через Zookeeper этот узел назначает задачи другим узлам в кластере.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-169">The Nimbus node provides functionality similar to the Hadoop JobTracker, and it assigns tasks to other nodes in a cluster through Zookeeper.</span></span> <span data-ttu-id="b6fb6-170">Узлы Zookeeper обеспечивают координацию кластера и упрощают взаимодействие между узлом Nimbus и процессом контролера на рабочих узлах.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-170">Zookeeper nodes provide coordination for a cluster and facilitate communication between Nimbus and the Supervisor process on the worker nodes.</span></span> <span data-ttu-id="b6fb6-171">Если один узел обработки выходит из строя, узел Nimbus узнает об этом и назначает задачу и связанные данные другому узлу.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-171">If one processing node goes down, the Nimbus node is informed, and it assigns the task and associated data to another node.</span></span>

<span data-ttu-id="b6fb6-172">По умолчанию для кластеров Apache Storm используется только один узел Nimbus,</span><span class="sxs-lookup"><span data-stu-id="b6fb6-172">The default configuration for Apache Storm clusters is to have only one Nimbus node.</span></span> <span data-ttu-id="b6fb6-173">но кластер Storm в HDInsight имеет два.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-173">Storm on HDInsight provides two Nimbus nodes.</span></span> <span data-ttu-id="b6fb6-174">При сбое основного узла кластер Storm переключится на дополнительный на время восстановления основного узла.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-174">If the primary node fails, the Storm cluster switches to the secondary node while the primary node is recovered.</span></span> <span data-ttu-id="b6fb6-175">На схеме ниже показана конфигурация последовательности задач для Storm в HDInsight.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-175">The following diagram illustrates the task flow configuration for Storm on HDInsight:</span></span>

![Схема с контролерами и компонентами Nimbus и Zookeeper](./media/hdinsight-storm-overview/nimbus.png)

## <a name="scale"></a><span data-ttu-id="b6fb6-177">Масштаб</span><span class="sxs-lookup"><span data-stu-id="b6fb6-177">Scale</span></span>

<span data-ttu-id="b6fb6-178">Вы можете выполнить динамическое масштабирование кластеров HDInsight, добавив или удалив рабочие узлы,</span><span class="sxs-lookup"><span data-stu-id="b6fb6-178">HDInsight clusters can be dynamically scaled by adding or removing worker nodes.</span></span> <span data-ttu-id="b6fb6-179">во время обработки данных.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-179">This operation can be performed while processing data.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b6fb6-180">Чтобы воспользоваться преимуществами новых узлов, добавленных с помощью масштабирования, необходимо повторно сбалансировать топологии Storm, запущенные до увеличения размера кластера.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-180">To take advantage of new nodes added through scaling, you need to rebalance Storm topologies started before the cluster size was increased.</span></span>

## <a name="support"></a><span data-ttu-id="b6fb6-181">Поддержка</span><span class="sxs-lookup"><span data-stu-id="b6fb6-181">Support</span></span>

<span data-ttu-id="b6fb6-182">Для кластеров Storm в HDInsight действует полная поддержка корпоративного уровня.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-182">Storm on HDInsight comes with full enterprise-level continuous support.</span></span> <span data-ttu-id="b6fb6-183">Кроме того, для кластеров Storm в HDInsight заявлена гарантированная доступность в течение 99,9 % времени.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-183">Storm on HDInsight also has an SLA of 99.9 percent.</span></span> <span data-ttu-id="b6fb6-184">Это означает, что мы гарантируем возможность подключения к кластеру Storm извне в течение как минимум 99,9 % времени.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-184">That means we guarantee that a Storm cluster has external connectivity at least 99.9 percent of the time.</span></span>

<span data-ttu-id="b6fb6-185">Дополнительные сведения см. на странице [службы поддержки Azure](https://azure.microsoft.com/support/options/).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-185">For more information, see [Azure support](https://azure.microsoft.com/support/options/).</span></span>

## <a name="apache-storm-use-cases"></a><span data-ttu-id="b6fb6-186">Варианты использования Apache Storm</span><span class="sxs-lookup"><span data-stu-id="b6fb6-186">Apache Storm use cases</span></span>

<span data-ttu-id="b6fb6-187">Ниже приведены несколько распространенных ситуаций, в которых вам может помочь кластер Storm в HDInsight.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-187">The following are some common scenarios for which you might use Storm on HDInsight:</span></span>

* <span data-ttu-id="b6fb6-188">Интернет вещей.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-188">Internet of Things (IoT)</span></span>
* <span data-ttu-id="b6fb6-189">Обнаружение мошенничества.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-189">Fraud detection</span></span>
* <span data-ttu-id="b6fb6-190">Социальная аналитика.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-190">Social analytics</span></span>
* <span data-ttu-id="b6fb6-191">Извлечение, преобразование и загрузка.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-191">Extraction, transformation, and loading (ETL)</span></span>
* <span data-ttu-id="b6fb6-192">Мониторинг сетей.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-192">Network monitoring</span></span>
* <span data-ttu-id="b6fb6-193">Поиск</span><span class="sxs-lookup"><span data-stu-id="b6fb6-193">Search</span></span>
* <span data-ttu-id="b6fb6-194">Службы мобильного взаимодействия</span><span class="sxs-lookup"><span data-stu-id="b6fb6-194">Mobile engagement</span></span>

<span data-ttu-id="b6fb6-195">Сценарии из реальной жизни см. в статье о том, [как компании используют Storm](https://storm.apache.org/documentation/Powered-By.html).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-195">For information about real-world scenarios, see the [How companies are using Storm](https://storm.apache.org/documentation/Powered-By.html) document.</span></span>

## <a name="development"></a><span data-ttu-id="b6fb6-196">Разработка</span><span class="sxs-lookup"><span data-stu-id="b6fb6-196">Development</span></span>

<span data-ttu-id="b6fb6-197">Средства Data Lake для Visual Studio позволяют разработчикам .NET проектировать и реализовывать топологии на языке C#.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-197">.NET developers can design and implement topologies in C# by using Data Lake Tools for Visual Studio.</span></span> <span data-ttu-id="b6fb6-198">Вы также можете создавать гибридные топологии, в которых используются компоненты Java и C#.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-198">You can also create hybrid topologies that use Java and C# components.</span></span>

<span data-ttu-id="b6fb6-199">Дополнительные сведения см. в статье [Разработка топологий для Apache Storm в HDInsight на C# с помощью средств Hadoop для Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-199">For more information, see [Develop C# topologies for Storm on HDInsight using Visual Studio](hdinsight-storm-develop-csharp-visual-studio-topology.md).</span></span>

<span data-ttu-id="b6fb6-200">Можно также разрабатывать решения Java с помощью интегрированной среды разработки по своему усмотрению.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-200">You can also develop Java solutions by using the IDE of your choice.</span></span> <span data-ttu-id="b6fb6-201">Дополнительные сведения см. в статье [Разработка топологии подсчета слов на основе Java для Storm в HDInsight с помощью Maven](hdinsight-storm-develop-java-topology.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-201">For more information, see [Develop Java topologies for Storm on HDInsight](hdinsight-storm-develop-java-topology.md).</span></span>

<span data-ttu-id="b6fb6-202">Для разработки компонентов Storm также может использоваться Python.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-202">Python can also be used to develop Storm components.</span></span> <span data-ttu-id="b6fb6-203">Дополнительные сведения см. в статье [Разработка топологий Apache Storm с помощью Python в HDInsight](hdinsight-storm-develop-python-topology.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-203">For more information, see [Develop Storm topologies using Python on HDInsight](hdinsight-storm-develop-python-topology.md).</span></span>

## <a name="common-development-patterns"></a><span data-ttu-id="b6fb6-204">Общие шаблоны разработки</span><span class="sxs-lookup"><span data-stu-id="b6fb6-204">Common development patterns</span></span>

### <a name="guaranteed-message-processing"></a><span data-ttu-id="b6fb6-205">Гарантированная обработка сообщений</span><span class="sxs-lookup"><span data-stu-id="b6fb6-205">Guaranteed message processing</span></span>

<span data-ttu-id="b6fb6-206">Apache Storm может обеспечить различные уровни гарантированной обработки сообщений.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-206">Apache Storm can provide different levels of guaranteed message processing.</span></span> <span data-ttu-id="b6fb6-207">Например, простое приложение Storm гарантирует как минимум одну обработку, в то время как Trident может гарантировать ровно одну обработку.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-207">For example, a basic Storm application can guarantee at-least-once processing, and Trident can guarantee exactly once processing.</span></span>

<span data-ttu-id="b6fb6-208">Дополнительные сведения см. в статье о [гарантированной обработке данных](https://storm.apache.org/about/guarantees-data-processing.html) на сайте apache.org.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-208">For more information, see [Guarantees on data processing](https://storm.apache.org/about/guarantees-data-processing.html) at apache.org.</span></span>

### <a name="ibasicbolt"></a><span data-ttu-id="b6fb6-209">IBasicBolt</span><span class="sxs-lookup"><span data-stu-id="b6fb6-209">IBasicBolt</span></span>

<span data-ttu-id="b6fb6-210">Шаблон чтения входного кортежа, выдающий значение 0 или больше, а затем непосредственно в конце метод execute, запрашивающий подтверждение входного кортежа, является типичным.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-210">The pattern of reading an input tuple, emitting zero or more tuples, and then acking the input tuple immediately at the end of the execute method is common.</span></span> <span data-ttu-id="b6fb6-211">Storm обеспечивает интерфейс [IBasicBolt](https://storm.apache.org/releases/1.0.3/javadocs/org/apache/storm/topology/IBasicBolt.html) для автоматизации этого шаблона.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-211">Storm provides the [IBasicBolt](https://storm.apache.org/releases/1.0.3/javadocs/org/apache/storm/topology/IBasicBolt.html) interface to automate this pattern.</span></span>

### <a name="joins"></a><span data-ttu-id="b6fb6-212">Соединения</span><span class="sxs-lookup"><span data-stu-id="b6fb6-212">Joins</span></span>

<span data-ttu-id="b6fb6-213">Объединение потоков данных отличается в разных приложениях.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-213">How data streams are joined varies between applications.</span></span> <span data-ttu-id="b6fb6-214">Например, вы можете объединять все кортежи с нескольких потоков в один новый поток или объединять только пакеты кортежей для отдельного окна.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-214">For example, you can join each tuple from multiple streams into one new stream, or you can join only batches of tuples for a specific window.</span></span> <span data-ttu-id="b6fb6-215">В любом случае объединение можно выполнить с помощью [fieldsGrouping](http://storm.apache.org/releases/current/javadocs/org/apache/storm/topology/InputDeclarer.html#fieldsGrouping-java.lang.String-org.apache.storm.tuple.Fields-).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-215">Either way, joining can be accomplished by using [fieldsGrouping](http://storm.apache.org/releases/current/javadocs/org/apache/storm/topology/InputDeclarer.html#fieldsGrouping-java.lang.String-org.apache.storm.tuple.Fields-).</span></span> <span data-ttu-id="b6fb6-216">Группирование полей — это способ определения того, как кортежи перенаправляются к элементам bolts.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-216">Field grouping is a way of defining how tuples are routed to bolts.</span></span>

<span data-ttu-id="b6fb6-217">В приведенном ниже примере Java используется fieldsGrouping для перенаправления кортежей из компонентов "1", "2" и "3" в элемент bolt MyJoiner.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-217">In the following Java example, fieldsGrouping is used to route tuples that originate from components "1", "2", and "3" to the MyJoiner bolt:</span></span>

    builder.setBolt("join", new MyJoiner(), parallelism) .fieldsGrouping("1", new Fields("joinfield1", "joinfield2")) .fieldsGrouping("2", new Fields("joinfield1", "joinfield2")) .fieldsGrouping("3", new Fields("joinfield1", "joinfield2"));

### <a name="batches"></a><span data-ttu-id="b6fb6-218">Пакеты</span><span class="sxs-lookup"><span data-stu-id="b6fb6-218">Batches</span></span>

<span data-ttu-id="b6fb6-219">Apache Storm предоставляет внутренний временной механизм (временный кортеж).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-219">Apache Storm provides an internal timing mechanism known as a "tick tuple."</span></span> <span data-ttu-id="b6fb6-220">Вы можете задать частоту использования временного кортежа в топологии.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-220">You can set how often a tick tuple is emitted in your topology.</span></span>

<span data-ttu-id="b6fb6-221">Пример использования временного кортежа из компонента на C# см. здесь: [PartialBoltCount.cs](https://github.com/hdinsight/hdinsight-storm-examples/blob/3b2c960549cac122e8874931df4801f0934fffa7/EventCountExample/EventCountTopology/src/main/java/com/microsoft/hdinsight/storm/examples/PartialCountBolt.java).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-221">For an example of using a tick tuple from a C# component, see [PartialBoltCount.cs](https://github.com/hdinsight/hdinsight-storm-examples/blob/3b2c960549cac122e8874931df4801f0934fffa7/EventCountExample/EventCountTopology/src/main/java/com/microsoft/hdinsight/storm/examples/PartialCountBolt.java).</span></span>

### <a name="caches"></a><span data-ttu-id="b6fb6-222">Кэши</span><span class="sxs-lookup"><span data-stu-id="b6fb6-222">Caches</span></span>

<span data-ttu-id="b6fb6-223">Для ускорения обработки часто используется кэширование в памяти, при котором в памяти сохраняются часто используемые ресурсы.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-223">In-memory caching is often used as a mechanism for speeding up processing because it keeps frequently used assets in memory.</span></span> <span data-ttu-id="b6fb6-224">Так как топология распределяется между несколькими узлами и несколькими процессами в пределах одного узла, вы можете использовать [fieldsGrouping](http://storm.apache.org/releases/current/javadocs/org/apache/storm/topology/InputDeclarer.html#fieldsGrouping-java.lang.String-org.apache.storm.tuple.Fields-).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-224">Because a topology is distributed across multiple nodes, and multiple processes within each node, you should consider using [fieldsGrouping](http://storm.apache.org/releases/current/javadocs/org/apache/storm/topology/InputDeclarer.html#fieldsGrouping-java.lang.String-org.apache.storm.tuple.Fields-).</span></span> <span data-ttu-id="b6fb6-225">`fieldsGrouping` гарантирует, что кортежи, содержащие поля, используемые для поиска в кэше, всегда перенаправляются к одному и тому же процессу.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-225">Use `fieldsGrouping` to ensure that tuples containing the fields that are used for cache lookup are always routed to the same process.</span></span> <span data-ttu-id="b6fb6-226">Эта функция группирования избавит от дублирования записей кэша в процессах.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-226">This grouping functionality avoids duplication of cache entries across processes.</span></span>

### <a name="stream-top-n"></a><span data-ttu-id="b6fb6-227">Передача значения "Первые N"</span><span class="sxs-lookup"><span data-stu-id="b6fb6-227">Stream "top N"</span></span>

<span data-ttu-id="b6fb6-228">Когда ваша топология зависит от расчета значения "Первые N", это значение нужно рассчитывать параллельно.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-228">When your topology depends on calculating a top N value, calculate the top N value in parallel.</span></span> <span data-ttu-id="b6fb6-229">Затем объедините результат расчетов в глобальное значение.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-229">Then merge the output from those calculations into a global value.</span></span> <span data-ttu-id="b6fb6-230">Эту операцию можно выполнить с помощью [fieldsGrouping](http://storm.apache.org/releases/current/javadocs/org/apache/storm/topology/InputDeclarer.html#fieldsGrouping-java.lang.String-org.apache.storm.tuple.Fields-), направив отдельные поля в параллельную обработку,</span><span class="sxs-lookup"><span data-stu-id="b6fb6-230">This operation can be done by using [fieldsGrouping](http://storm.apache.org/releases/current/javadocs/org/apache/storm/topology/InputDeclarer.html#fieldsGrouping-java.lang.String-org.apache.storm.tuple.Fields-) to route by field for parallel processing.</span></span> <span data-ttu-id="b6fb6-231">а затем — в элемент bolt, который определяет глобальное значение "Топ N".</span><span class="sxs-lookup"><span data-stu-id="b6fb6-231">Then you can route to a bolt that globally determines the top N value.</span></span>

<span data-ttu-id="b6fb6-232">Для расчета значения "Первые N" см. пример [RollingTopWords](https://github.com/apache/storm/blob/master/examples/storm-starter/src/jvm/org/apache/storm/starter/RollingTopWords.java).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-232">For an example of calculating a top N value, see the [RollingTopWords](https://github.com/apache/storm/blob/master/examples/storm-starter/src/jvm/org/apache/storm/starter/RollingTopWords.java) example.</span></span>

## <a name="logging"></a><span data-ttu-id="b6fb6-233">Ведение журналов</span><span class="sxs-lookup"><span data-stu-id="b6fb6-233">Logging</span></span>

<span data-ttu-id="b6fb6-234">Storm использует Apache Log4j для записи информации в журнал.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-234">Storm uses Apache Log4j to log information.</span></span> <span data-ttu-id="b6fb6-235">По умолчанию в журнал записывается большой объем данных, и разобраться в этой информации может быть трудно.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-235">By default, a large amount of data is logged, and it can be difficult to sort through the information.</span></span> <span data-ttu-id="b6fb6-236">Чтобы управлять ведением журналов, включите файл конфигурации ведения журналов в топологию Storm.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-236">You can include a logging configuration file as part of your Storm topology to control logging behavior.</span></span>

<span data-ttu-id="b6fb6-237">Пример топологии, в котором показано, как настроить ведение журнала, см. в примере Storm в HDInsight в статье [Разработка топологий на основе Java для базовых приложений подсчета слов с помощью Apache Storm и Maven в HDInsight](hdinsight-storm-develop-java-topology.md).</span><span class="sxs-lookup"><span data-stu-id="b6fb6-237">For an example topology that demonstrates how to configure logging, see [Java-based WordCount](hdinsight-storm-develop-java-topology.md) example for Storm on HDInsight.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b6fb6-238">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="b6fb6-238">Next steps</span></span>

<span data-ttu-id="b6fb6-239">Ниже приведены статьи, в которых можно найти дополнительные сведения о решениях для анализа данных в реальном времени с помощью Storm в HDInsight.</span><span class="sxs-lookup"><span data-stu-id="b6fb6-239">Learn more about real-time analytics solutions with Storm on HDInsight:</span></span>

* <span data-ttu-id="b6fb6-240">[Начало работы с примерами Storm Starter для аналитики больших данных в HDInsight под управлением Linux][gettingstarted]</span><span class="sxs-lookup"><span data-stu-id="b6fb6-240">[Get started with Apache Storm on HDInsight][gettingstarted]</span></span>
* [<span data-ttu-id="b6fb6-241">Примеры топологий и компонентов Storm для Apache Storm в HDInsight</span><span class="sxs-lookup"><span data-stu-id="b6fb6-241">Example topologies for Apache Storm on HDInsight</span></span>](hdinsight-storm-example-topology.md)

[stormtrident]: https://storm.apache.org/documentation/Trident-API-Overview.html
[samoa]: http://yahooeng.tumblr.com/post/65453012905/introducing-samoa-an-open-source-platform-for-mining
[apachetutorial]: https://storm.apache.org/documentation/Tutorial.html
[gettingstarted]: hdinsight-apache-storm-tutorial-get-started-linux.md
