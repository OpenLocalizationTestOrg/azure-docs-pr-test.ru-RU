---
title: "Регистрирует aaaAccess Hadoop YARN приложения на основе Linux HDInsight — Azure | Документы Microsoft"
description: "Узнайте, каким образом приложения YARN tooaccess ведет журнал на кластере под управлением Linux HDInsight (Hadoop), с помощью командной строки hello и веб-браузер."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 3ec08d20-4f19-4a8e-ac86-639c04d2f12e
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/31/2017
ms.author: larryfr
ms.openlocfilehash: 0bab356e3b97114abbb05712c8e7b21a194f2508
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="access-yarn-application-logs-on-linux-based-hdinsight"></a><span data-ttu-id="c2b8a-103">Доступ к журналам приложений YARN в HDInsight под управлением Linux</span><span class="sxs-lookup"><span data-stu-id="c2b8a-103">Access YARN application logs on Linux-based HDInsight</span></span>

<span data-ttu-id="c2b8a-104">Узнайте, как tooaccess hello в журналах приложений YARN (еще другого ресурса Согласователь) в кластере Hadoop в Azure HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-104">Learn how tooaccess hello logs for YARN (Yet Another Resource Negotiator) applications on a Hadoop cluster in Azure HDInsight.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c2b8a-105">Hello в данном пошаговом руководстве требуется кластер HDInsight, использующий Linux.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-105">hello steps in this document require an HDInsight cluster that uses Linux.</span></span> <span data-ttu-id="c2b8a-106">Linux — hello только операционную систему, используемую в HDInsight версии 3.4 или более поздней.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-106">Linux is hello only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="c2b8a-107">Дополнительные сведения см. в разделе [Что представляют собой различные компоненты и версии Hadoop, доступные в HDInsight?](hdinsight-component-versioning.md#hdinsight-windows-retirement)</span><span class="sxs-lookup"><span data-stu-id="c2b8a-107">For more information, see [HDInsight component versioning](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span>

## <span data-ttu-id="c2b8a-108"><a name="YARNTimelineServer"></a>YARN Timeline Server</span><span class="sxs-lookup"><span data-stu-id="c2b8a-108"><a name="YARNTimelineServer"></a>YARN Timeline Server</span></span>

<span data-ttu-id="c2b8a-109">Hello [YARN временная шкала Server](http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html) предоставляет сведения общего характера о завершенных приложений и сведений специфические для платформы разработки приложений с помощью двух различных интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-109">hello [YARN Timeline Server](http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html) provides generic information on completed applications and framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="c2b8a-110">В частности:</span><span class="sxs-lookup"><span data-stu-id="c2b8a-110">Specifically:</span></span>

* <span data-ttu-id="c2b8a-111">Возможность хранения и извлечения общей информации о приложениях в кластерах HDInsight появилась, начиная с версии 3.1.1.374.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-111">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="c2b8a-112">компонент сведения специфические для платформы разработки приложения Hello hello Server временной шкалы недоступен в кластерах HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-112">hello framework-specific application information component of hello Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="c2b8a-113">Общие сведения о приложениях включает hello следующий тип данных:</span><span class="sxs-lookup"><span data-stu-id="c2b8a-113">Generic information on applications includes hello following type of data:</span></span>

* <span data-ttu-id="c2b8a-114">Идентификатор приложения Hello, уникальный идентификатор приложения</span><span class="sxs-lookup"><span data-stu-id="c2b8a-114">hello application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="c2b8a-115">Hello пользователя, запустившего приложение hello</span><span class="sxs-lookup"><span data-stu-id="c2b8a-115">hello user who started hello application</span></span>
* <span data-ttu-id="c2b8a-116">Сведения о попытках внесенные toocomplete приложения hello</span><span class="sxs-lookup"><span data-stu-id="c2b8a-116">Information on attempts made toocomplete hello application</span></span>
* <span data-ttu-id="c2b8a-117">Hello контейнеры, используемые любые попытки конкретного приложения</span><span class="sxs-lookup"><span data-stu-id="c2b8a-117">hello containers used by any given application attempt</span></span>

## <span data-ttu-id="c2b8a-118"><a name="YARNAppsAndLogs"></a>Приложения и журналы YARN</span><span class="sxs-lookup"><span data-stu-id="c2b8a-118"><a name="YARNAppsAndLogs"></a>YARN applications and logs</span></span>

<span data-ttu-id="c2b8a-119">YARN поддерживает несколько моделей программирования (в том числе MapReduce), отделяя управление ресурсами от планирования и мониторинга приложений.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-119">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="c2b8a-120">YARN использует глобальный диспетчер *ResourceManager*, *диспетчеры узлов* на каждый рабочий узел и *диспетчеры приложений* на каждое приложение.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-120">YARN uses a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="c2b8a-121">Hello AM-приложения согласовывает ресурсы (ЦП, памяти, диска, сети) для запуска приложения с hello крепления.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-121">hello per-application AM negotiates resources (CPU, memory, disk, network) for running your application with hello RM.</span></span> <span data-ttu-id="c2b8a-122">Hello RM работает с NMs toogrant эти ресурсы, которые предоставляются как *контейнеры*.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-122">hello RM works with NMs toogrant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="c2b8a-123">Hello AM отвечает за отслеживание хода выполнения hello tooit контейнеров, назначенных hello по hello крепления.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-123">hello AM is responsible for tracking hello progress of hello containers assigned tooit by hello RM.</span></span> <span data-ttu-id="c2b8a-124">Приложение может требовать много контейнеров, в зависимости от характера приложения hello hello.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-124">An application may require many containers depending on hello nature of hello application.</span></span>

<span data-ttu-id="c2b8a-125">Для выполнения приложения может потребоваться несколько *попыток*.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-125">Each application may consist of multiple *application attempts*.</span></span> <span data-ttu-id="c2b8a-126">Если выполнение приложения завершается ошибкой, его можно повторить как новую попытку.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-126">If an application fails, it may be retried as a new attempt.</span></span> <span data-ttu-id="c2b8a-127">Каждая попытка выполняется в контейнере.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-127">Each attempt runs in a container.</span></span> <span data-ttu-id="c2b8a-128">С точки зрения контейнер предоставляет контекст hello для основной единицей работы, выполняемой в приложении YARN.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-128">In a sense, a container provides hello context for basic unit of work performed by a YARN application.</span></span> <span data-ttu-id="c2b8a-129">Все действия, которые выполняются в контексте hello контейнера выполняется на узле один рабочий hello, на какие hello контейнер был выделен.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-129">All work that is done within hello context of a container is performed on hello single worker node on which hello container was allocated.</span></span> <span data-ttu-id="c2b8a-130">Дополнительные сведения см. в статье об [основных понятиях YARN][YARN-concepts].</span><span class="sxs-lookup"><span data-stu-id="c2b8a-130">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="c2b8a-131">При отладке приложений проблемный Hadoop важны журналы (журналы приложений и связанных hello контейнера).</span><span class="sxs-lookup"><span data-stu-id="c2b8a-131">Application logs (and hello associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="c2b8a-132">YARN предоставляет удобная платформа для сбора, статистической обработки и хранения журналов приложений с hello [статистической обработки журнала] [ log-aggregation] компонентов.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-132">YARN provides a nice framework for collecting, aggregating, and storing application logs with hello [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="c2b8a-133">более определенными доступ к журналы приложений благодаря Hello журнала статистической функции.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-133">hello Log Aggregation feature makes accessing application logs more deterministic.</span></span> <span data-ttu-id="c2b8a-134">так как она объединяет журналы со всех контейнеров на рабочем узле и хранит их как один сводный файл журнала на рабочем узле</span><span class="sxs-lookup"><span data-stu-id="c2b8a-134">It aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node.</span></span> <span data-ttu-id="c2b8a-135">Hello журнала хранится в файловой системе по умолчанию hello, после завершения работы приложения.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-135">hello log is stored on hello default file system after an application finishes.</span></span> <span data-ttu-id="c2b8a-136">Приложение может использовать сотен или тысяч контейнеров, но журналы для всех контейнеров на узле один рабочий всегда являются агрегированных tooa одного файла.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-136">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node are always aggregated tooa single file.</span></span> <span data-ttu-id="c2b8a-137">Поэтому на каждый рабочий узел, используемый приложением, приходится один файл журнала.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-137">So there is only 1 log per worker node used by your application.</span></span> <span data-ttu-id="c2b8a-138">Объединение журналов включено по умолчанию на кластерах HDInsight версии 3.0 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-138">Log Aggregation is enabled by default on HDInsight clusters version 3.0 and above.</span></span> <span data-ttu-id="c2b8a-139">Статистические журналы расположены в хранилище по умолчанию для кластера hello.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-139">Aggregated logs are located in default storage for hello cluster.</span></span> <span data-ttu-id="c2b8a-140">Hello пути — hello HDFS путь toohello журналы:</span><span class="sxs-lookup"><span data-stu-id="c2b8a-140">hello following path is hello HDFS path toohello logs:</span></span>

    /app-logs/<user>/logs/<applicationId>

<span data-ttu-id="c2b8a-141">В пути hello `user` — имя hello hello пользователя, запустившего приложение hello.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-141">In hello path, `user` is hello name of hello user who started hello application.</span></span> <span data-ttu-id="c2b8a-142">Hello `applicationId` hello уникальный идентификатор, назначенный tooan по представляет приложение крепления hello YARN.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-142">hello `applicationId` is hello unique identifier assigned tooan application by hello YARN RM.</span></span>

<span data-ttu-id="c2b8a-143">Hello агрегированных журналы не читаются непосредственно, как они написаны [TFile][T-file], [двоичный формат] [ binary-format] проиндексирован контейнера.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-143">hello aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="c2b8a-144">Используйте журналы YARN ResourceManager hello или tooview средства CLI эти журналы как обычный текст для приложений или контейнеры, представляющие интерес.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-144">Use hello YARN ResourceManager logs or CLI tools tooview these logs as plain text for applications or containers of interest.</span></span>

## <a name="yarn-cli-tools"></a><span data-ttu-id="c2b8a-145">Средства CLI для YARN</span><span class="sxs-lookup"><span data-stu-id="c2b8a-145">YARN CLI tools</span></span>

<span data-ttu-id="c2b8a-146">средства интерфейса командной строки YARN hello toouse, необходимо сначала подключиться toohello кластера HDInsight, с помощью SSH.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-146">toouse hello YARN CLI tools, you must first connect toohello HDInsight cluster using SSH.</span></span> <span data-ttu-id="c2b8a-147">См. дополнительные сведения об [использовании SSH в HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span><span class="sxs-lookup"><span data-stu-id="c2b8a-147">For information, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md).</span></span>

<span data-ttu-id="c2b8a-148">Можно просмотреть эти журналы как обычный текст, выполнив один из hello, следующие команды:</span><span class="sxs-lookup"><span data-stu-id="c2b8a-148">You can view these logs as plain text by running one of hello following commands:</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>

<span data-ttu-id="c2b8a-149">Укажите hello &lt;applicationId >, &lt;пользователя, работы приложения >, &lt;containerId >, и &lt;рабочий адрес узла > сведения при выполнении этих команд.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-149">Specify hello &lt;applicationId>, &lt;user-who-started-the-application>, &lt;containerId>, and &lt;worker-node-address> information when running these commands.</span></span>

## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="c2b8a-150">Пользовательский интерфейс YARN ResourceManager</span><span class="sxs-lookup"><span data-stu-id="c2b8a-150">YARN ResourceManager UI</span></span>

<span data-ttu-id="c2b8a-151">пользовательский Интерфейс диспетчера ресурсов YARN Hello выполняется на головному узлу кластера hello.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-151">hello YARN ResourceManager UI runs on hello cluster headnode.</span></span> <span data-ttu-id="c2b8a-152">Она осуществляется с помощью Ambari web hello пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-152">It is accessed through hello Ambari web UI.</span></span> <span data-ttu-id="c2b8a-153">Регистрирует hello используйте следующие шаги tooview hello YARN:</span><span class="sxs-lookup"><span data-stu-id="c2b8a-153">Use hello following steps tooview hello YARN logs:</span></span>

1. <span data-ttu-id="c2b8a-154">В веб-браузере перейдите toohttps://CLUSTERNAME.azurehdinsight.net.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-154">In your web browser, navigate toohttps://CLUSTERNAME.azurehdinsight.net.</span></span> <span data-ttu-id="c2b8a-155">Замените ИМЯ_КЛАСТЕРА hello имя кластера HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-155">Replace CLUSTERNAME with hello name of your HDInsight cluster.</span></span>
2. <span data-ttu-id="c2b8a-156">Выберите из списка служб слева hello hello **YARN**.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-156">From hello list of services on hello left, select **YARN**.</span></span>

    ![Выбранные службы Yarn](./media/hdinsight-hadoop-access-yarn-app-logs-linux/yarnservice.png)
3. <span data-ttu-id="c2b8a-158">Из hello **быстрые ссылки** раскрывающийся список, выберите один из головного узла кластера hello, а затем выберите **ResourceManager журнала**.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-158">From hello **Quick Links** dropdown, select one of hello cluster head nodes and then select **ResourceManager Log**.</span></span>

    ![Быстрые ссылки для Yarn](./media/hdinsight-hadoop-access-yarn-app-logs-linux/yarnquicklinks.png)

    <span data-ttu-id="c2b8a-160">Появится список журналов tooYARN ссылки.</span><span class="sxs-lookup"><span data-stu-id="c2b8a-160">You are presented with a list of links tooYARN logs.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
