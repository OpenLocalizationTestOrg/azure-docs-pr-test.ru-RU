---
title: "aaaSchema обновляет июня-1-2016 — приложения логики Azure | Документы Microsoft"
description: "Создание определений JSON для Azure Logic Apps с версией схемы 2016-06-01"
author: jeffhollan
manager: anneta
editor: 
services: logic-apps
documentationcenter: 
ms.assetid: 349d57e8-f62b-4ec6-a92f-a6e0242d6c0e
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.custom: H1Hack27Feb2017
ms.date: 07/25/2016
ms.author: LADocs; jehollan
ms.openlocfilehash: b0347fbbd692a93b63a2f8b741402a225450b35a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="schema-updates-for-azure-logic-apps---june-1-2016"></a>Обновления схемы для Azure Logic Apps от 1 июня 2016 г.

Это новую схему и API-Интерфейс версии для приложения логики Azure включает в себя ключевых усовершенствований, которые делают приложения логики, более надежным и простым toouse:

* [Области](#scopes) позволяют группировать или вкладывать действия в виде набора действий.
* [Условия и циклы](#conditions-loops) — это действия первого класса.
* Более точный порядок для выполнения действий с hello `runAfter` свойства, замена`dependsOn`

tooupgrade логику приложения из hello 1 августа 2015 г. Просмотр схемы 1 июня 2016 г. toohello [см. раздел "Улучшение" hello](##upgrade-your-schema).

<a name="scopes"></a>
## <a name="scopes"></a>Области действия

Эта схема включает области, позволяющие группировать несколько действий или вложить одно действие в другое. Например, одно условие может содержать в себе другое условие. Узнайте больше о [синтаксисе областей](../logic-apps/logic-apps-loops-and-scopes.md) или просмотрите базовый пример области, приведенный ниже.

```
{
    "actions": {
        "My_Scope": {
            "type": "scope",
            "actions": {                
                "Http": {
                    "inputs": {
                        "method": "GET",
                        "uri": "http://www.bing.com"
                    },
                    "runAfter": {},
                    "type": "Http"
                }
            }
        }
    }
}
```

<a name="conditions-loops"></a>
## <a name="conditions-and-loops-changes"></a>Изменения в условиях и циклах

В предыдущих версиях схемы условия и циклы были параметрами, связанными с каким-то одним действием. В этой схеме отсутствует такое ограничение, поэтому условия и циклы теперь отображаются как типы действий. Узнайте больше о [циклах и областях](../logic-apps/logic-apps-loops-and-scopes.md) или просмотрите этот базовый пример условия:

```
{
    "If_trigger_is_some-trigger": {
        "type": "If",
        "expression": "@equals(triggerBody(), 'some-trigger')",
        "runAfter": { },
        "actions": {
            "Http_2": {
                "inputs": {
                    "method": "GET",
                    "uri": "http://www.bing.com"
                },
                "runAfter": {},
                "type": "Http"
            }
        },
        "else": 
        {
            "if_trigger_is_another-trigger": "..."
        }      
    }
}
```

<a name="run-after"></a>
## <a name="runafter-property"></a>Свойство runAfter

Hello `runAfter` заменяет свойство `dependsOn`, обеспечивает большую точность, при указании порядка выполнения hello для действий в зависимости от состояния hello предыдущих действий.

Hello `dependsOn` свойство было синоним «hello действие запущено и выполнено успешно», независимо от того, сколько раз требуется tooexecute действие, зависимости от того, было ли hello предыдущее действие выполнено успешно, сбой, или была пропущена. Hello `runAfter` свойство предоставляет гибкости объектом, который указывает все hello имена действий, после чего hello объекта выполняется. Оно также определяет массив состояний, которые можно использовать в качестве триггеров. Например, если требуется toorun после этапа A завершится успешно, а также после B успешного или неуспешного построения это `runAfter` свойство:

```
{
    "...",
    "runAfter": {
        "A": ["Succeeded"],
        "B": ["Succeeded", "Failed"]
    }
}
```

## <a name="upgrade-your-schema"></a>Обновление схемы

Обновление toohello новую схему занимает несколько действий. Hello процесс обновления включает выполнение скрипта обновления hello, сохранение в виде нового приложения логики и следует возможной перезаписью hello предыдущих логику приложения.

1. В hello портал Azure откройте приложение логики.

2. Go слишком**Обзор**. На панели инструментов приложения hello логику, выберите **обновления схемы**.
   
    ![Выбор параметра "Обновить схему"][1]
   
    Hello обновленные определения возвращается, который можно скопировать и вставить в определение ресурсов при необходимости. 
    Тем не менее мы **настоятельно рекомендуется** выборе **Сохранить как** toomake правильность ссылок на все подключения в hello обновления приложения логики.

3. На инструментов hello обновления колонке выберите **Сохранить как**.

4. Введите имя логику hello и состояние. toodeploy обновленных логики приложения, выберите **создать**.

5. Убедитесь, что обновленное приложение логики работает правильно.
   
   > [!NOTE]
   > При использовании триггер вручную или запроса URL-адрес обратного вызова hello изменения в новой логике приложения. Тест hello новый URL-адрес toomake убедиться, что hello-законченный работает взаимодействие. toopreserve предыдущих URL-адресов можно клонировать через существующие приложения логики.

6. *Необязательный* toooverwrite предыдущих логику приложения hello новой схемы версии, на панели инструментов hello, выберите **клон**, далее слишком**обновления схемы**. Этот шаг необходим только в том случае, если требуется tookeep hello же идентификатор или запрос триггер URL-адрес ресурса логику приложения.

### <a name="upgrade-tool-notes"></a>Примечания о средстве обновления

#### <a name="mapping-conditions"></a>Условия сопоставления

В определении hello обновить средство hello делает все возможное на группирование действий ветви true и false в качестве области действия. В частности, hello конструктора шаблон `@equals(actions('a').status, 'Skipped')` должны отображаться как `else` действие. Однако если hello обнаружены нераспознаваемые шаблоны, средство hello может создать отдельные условия для hello true и false ветвь hello. При необходимости можно сопоставить действия после обновления.

#### <a name="foreach-loop-with-condition"></a>Цикл foreach с условием

В новую схему hello, можно использовать hello фильтра действий tooreplicate hello шаблон `foreach` цикла с условием каждого элемента, но это изменение автоматически должны быть выполнены при обновлении. условие Hello становится действие фильтра перед hello цикл для возвращения только массив элементов, которые удовлетворяют условию hello, и этот массив передается в действие foreach hello. Пример см. в статье [Циклы, области действия и индивидуальная обработка приложений логики](../logic-apps/logic-apps-loops-and-scopes.md).

#### <a name="resource-tags"></a>Теги ресурсов

После обновления, удаляются теги ресурсов, так, необходимо сбросить их для hello обновления рабочего процесса.

## <a name="other-changes"></a>Другие изменения

### <a name="renamed-manual-trigger-toorequest-trigger"></a>Переименовать триггер запуска «вручную» too'request "триггер

Hello `manual` тип триггера был устаревшим и переименовать слишком`request` с типом `http`. Это изменение создает дополнительные согласованности для hello тип шаблона, который hello триггера — используется toobuild.

### <a name="new-filter-action"></a>Новое действие "фильтр"

toofilter большой массив вниз tooa меньший набор элементов, новые hello `filter` тип принимает массив и условия, вычисляет hello условие для каждого элемента и возвращает массив, элементы, соответствующие условиям hello.

### <a name="restrictions-for-foreach-and-until-actions"></a>Ограничения действий foreach и until

Hello `foreach` и `until` цикла являются ограниченными tooa отдельную операцию.

### <a name="new-trackedproperties-for-actions"></a>Новое свойство trackedProperties для действий

Действия теперь могут иметь дополнительное свойство `trackedProperties`, который является toohello того же уровня `runAfter` и `type` свойства. Этот объект указывает некоторые входные данные действия или выходные данные, которые должны tooinclude в телеметрии диагностики Azure hello, как часть рабочего процесса. Например:

```
{                
    "Http": {
        "inputs": {
            "method": "GET",
            "uri": "http://www.bing.com"
        },
        "runAfter": {},
        "type": "Http",
        "trackedProperties": {
            "responseCode": "@action().outputs.statusCode",
            "uri": "@action().inputs.uri"
        }
    }
}
```

## <a name="next-steps"></a>Дальнейшие действия
* [Создание определений приложений логики](../logic-apps/logic-apps-author-definitions.md)
* [Создание шаблона развертывания приложения логики](../logic-apps/logic-apps-create-deploy-template.md)

<!-- Image references -->
[1]: ./media/logic-apps-schema-2016-04-01/upgradeButton.png
