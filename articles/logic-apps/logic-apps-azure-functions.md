---
title: "aaaCustom код для приложения логики Azure с помощью функций Azure | Документы Microsoft"
description: "Узнайте, как создавать и выполнять пользовательский код для Azure Logic Apps с помощью Функций Azure."
services: logic-apps,functions
documentationcenter: .net,nodejs,java
author: jeffhollan
manager: anneta
editor: 
ms.assetid: 9fab1050-cfbc-4a8b-b1b3-5531bee92856
ms.service: logic-apps
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.custom: H1Hack27Feb2017
ms.date: 10/18/2016
ms.author: LADocs; jehollan
ms.openlocfilehash: 18b3821ed7e434feb568b9b96e9a5a2189dba3bd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="add-and-run-custom-code-for-logic-apps-through-azure-functions"></a>Добавление и выполнение пользовательского кода для приложений логики с помощью Функций Azure

фрагменты toorun C# или node.js в приложениях для логики, можно создать пользовательские функции с помощью функций Azure. 
[Функции Azure](../azure-functions/functions-overview.md) позволяют производить в Microsoft Azure вычисления без использования серверов. Они полезны для выполнения следующих задач:

* Расширенные функции форматирования или вычисления полей в приложениях логики.
* Выполнение вычислений в рабочем процессе.
* Расширения функциональности приложения hello логики с функциями, которые поддерживаются в C# или node.js.

## <a name="create-custom-functions-for-your-logic-apps"></a>Создание пользовательских функций для приложений логики

Рекомендуется создать функцию на портале Azure функции hello из hello **универсального веб-перехватчика - узел** или **универсального веб-перехватчика - C#** шаблонов. результат Hello создает заполняется автоматически шаблон, который принимает `application/json` из логики приложения. Функции, создаваемые на основе этих шаблонов обнаруживаются автоматически и отображаются в hello конструктора логики приложения под **функции Azure в моем регионе.**

В hello в hello портала Azure **Интеграция** область функции шаблона должно отображаться **режим** значение слишком**веб-перехватчика** и **тип веб-перехватчика** задано слишком**универсального JSON**. 

Функции веб-перехватчика принять запрос и передайте его в метод hello через `data` переменной. Можно обратиться к свойствам hello объема полезных данных с помощью точечной нотации как `data.function-name`. Например простую функцию JavaScript, которая преобразует значения даты и времени в строку даты выглядит как следующий пример hello:

```
function start(req, res){
    var data = req.body;
    res = {
        body: data.date.ToDateString();
    }
}
```

## <a name="call-azure-functions-from-logic-apps"></a>Вызов Функций Azure из приложений логики

контейнеры hello toolist из своей подписки и выберите hello функции, которые должны toocall в конструкторе логики приложения, нажмите кнопку hello **действия** меню и выберите его в **функции Azure в моем регионе**.

После выбора функции hello, задаваемые toospecify полезные данные входного объекта. Этот объект является приветственное сообщение, отправляет toohello логику приложения функции hello и должен быть объектом JSON. Например, если вы хотите toopass в hello **последнее изменение** даты из триггера Salesforce полезные данные функции hello может выглядеть как в следующем примере:

![Дата последнего изменения][1]

## <a name="trigger-logic-apps-from-a-function"></a>Запуск приложения логики из функции

Приложение логики можно запустить из функции. Ознакомьтесь со статьей [Приложения логики как вызываемые конечные точки](logic-apps-http-endpoint.md). Создания логики приложения, которое содержит триггер вручную, а затем внутри функции, создать HTTP POST toohello триггер запуска вручную URL-адрес с полезными данными hello, будет отправлено toohello логику приложения.

### <a name="create-a-function-from-logic-app-designer"></a>Создание функции из конструктора приложений логики

Также можно создать веб-перехватчика node.js функции из конструктора hello. Для начала выберите раздел **Функции Azure в моем регионе** , а затем контейнер для своей функции. Если у вас еще нет контейнер, необходимо toocreate один из hello [портала Azure функции](https://functions.azure.com/signin). Щелкните **Создать**.  

toogenerate шаблона, основанного на hello данных, что toocompute, укажите объект контекста hello планируется toopass в функцию. Это должен быть объект JSON. Например если передать содержимое файла hello из операции FTP, полезные данные контекста hello выглядит следующим образом в этом примере.

![Полезные данные контекста][2]

> [!NOTE]
> Так как этот объект не был приведен как строка, содержимое hello добавляется непосредственно toohello полезные данные JSON. Тем не менее если объект hello не является маркер JSON (то есть, строка или JSON объект или массив) возникает ошибка. toocast hello объекта в виде строки, добавляет кавычки, как показано на первом рисунке hello в этой статье.
> 

Конструктор Hello затем приводит к возникновению ошибки, можно создавать встроенные функции-шаблона. Переменные предварительно создаются на основе контекста hello планируется toopass в функции hello.

<!--Image references-->
[1]: ./media/logic-apps-azure-functions/callfunction.png
[2]: ./media/logic-apps-azure-functions/createfunction.png
