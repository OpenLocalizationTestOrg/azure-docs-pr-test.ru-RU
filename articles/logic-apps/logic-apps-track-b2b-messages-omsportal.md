---
title: "aaaTrack B2B сообщения в Operations Management Suite - приложения логики Azure | Документы Microsoft"
description: "Отслеживание взаимодействия B2B для учетной записи интеграции и приложений логики в Operations Management Suite (OMS) с помощью Azure Log Analytics"
author: padmavc
manager: anneta
editor: 
services: logic-apps
documentationcenter: 
ms.assetid: bb7d9432-b697-44db-aa88-bd16ddfad23f
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/21/2017
ms.author: LADocs; padmavc
ms.openlocfilehash: f385a72008b19408bb45d61c440df0505b688175
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="track-b2b-communication-in-hello-microsoft-operations-management-suite-oms"></a>Отслеживать B2B обмен данными в hello Microsoft Operations Management Suite (OMS)

После настройки взаимодействия B2B между двумя выполняющимися бизнес-процессами или приложениями с помощью учетной записи интеграции эти сущности могут обмениваться сообщениями друг с другом. toocheck ли эти сообщения обрабатываются правильно, вы можете отслеживать AS2, X12, и сообщения EDIFACT с [Azure Log Analytics](../log-analytics/log-analytics-overview.md) в hello [Operations Management Suite (OMS)](../operations-management-suite/operations-management-suite-overview.md). Например, для отслеживания сообщений можно использовать следующие функции:

* число и состояние сообщений;
* состояние подтверждений;
* сопоставление сообщений с подтверждениями;
* подробное описание ошибок при сбоях;
* возможности поиска.

## <a name="requirements"></a>Требования

* Приложение логики, настроенное на ведение журнала диагностики. Дополнительные сведения [как toocreate приложения логики](logic-apps-create-a-logic-app.md) и [как tooset ведение журнала для данного приложения логики](../logic-apps/logic-apps-monitor-your-logic-apps.md#azure-diagnostics).

* Учетная запись интеграции, настроенная для мониторинга и ведения журнала. Дополнительные сведения [как toocreate учетной записи интеграции](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md) и [как tooset мониторинга и ведения журнала для этой учетной записи](../logic-apps/logic-apps-monitor-b2b-message.md).

* Если это еще не сделано, [публикации tooLog диагностических данных аналитики](../logic-apps/logic-apps-track-b2b-messages-omsportal.md) в OMS.

> [!NOTE]
> После hello предыдущих требования соблюдены, должно быть рабочей hello [Operations Management Suite (OMS)](../operations-management-suite/operations-management-suite-overview.md). Следует использовать одну рабочую область OMS для отслеживания B2B связи в OMS hello. 
>  
> Если у вас нет рабочей области OMS, узнайте [как toocreate рабочей области OMS](../log-analytics/log-analytics-get-started.md).

## <a name="add-hello-logic-apps-b2b-solution-toohello-operations-management-suite-oms"></a>Добавление решения B2B логику приложения hello toohello Operations Management Suite (OMS)

toohave OMS следить за сообщениями B2B логики приложения, необходимо добавить hello **логику приложения B2B** портал OMS toohello решения. Дополнительные сведения о [Добавление решений tooOMS](../log-analytics/log-analytics-get-started.md).

1. В hello [портал Azure](https://portal.azure.com), выберите **более служб**. Введите в поле поиска "log analytics" и выберите **Log Analytics**, как показано ниже.

   ![Поиск Log Analytics](media/logic-apps-track-b2b-messages-omsportal/browseloganalytics.png)

2. В разделе **Log Analytics** найдите и выберите рабочую область OMS. 

   ![Выбор рабочей области OMS](media/logic-apps-track-b2b-messages-omsportal/selectla.png)

3. В разделе **Управление** выберите **Портал OMS**.

   ![Выбор портала OMS](media/logic-apps-track-b2b-messages-omsportal/omsportalpage.png)

4. После открытия hello OMS домашнюю страницу, выберите **коллекции решений**.    

   ![Выбор коллекции решений](media/logic-apps-track-b2b-messages-omsportal/omshomepage1.png)

5. В разделе **Все решения** найдите и выберите **Logic Apps B2B**.     

   ![Выбор Logic Apps B2B](media/logic-apps-track-b2b-messages-omsportal/omshomepage2.png)

6. В разделе **Logic Apps B2B** нажмите **Добавить**.

   ![Кнопка "Добавить"](media/logic-apps-track-b2b-messages-omsportal/omshomepage3.png)

   На домашней странице hello OMS hello плитки для **логику приложения B2B сообщения** теперь отображается. 
   Эта Плитка обновляет количество сообщений hello при обработке сообщений B2B.

   ![Домашняя страница OMS, плитка Logic Apps B2B Messages (Сообщения B2B для Logic Apps)](media/logic-apps-track-b2b-messages-omsportal/omshomepage4.png)

<a name="message-status-details"></a>

## <a name="track-message-status-and-details-in-hello-operations-management-suite"></a>Отслеживать состояние сообщения и сведения в hello Operations Management Suite

1. После обработки сообщения B2B можно просмотреть состояние hello и подробные сведения об этих сообщений. На домашней странице hello OMS выберите hello **логику приложения B2B сообщения** плитки.

   ![Обновленное количество сообщений](media/logic-apps-track-b2b-messages-omsportal/omshomepage6.png)

   > [!NOTE]
   > По умолчанию hello **логику приложения B2B сообщения** отражает данные, основанные на один день. toochange hello область tooa другой интервал, выберите элемент управления области hello вверху hello hello OMS страницы:
   > 
   > ![Изменение области данных](media/logic-apps-track-b2b-messages-omsportal/change-interval.png)
   >

2. После состояние сообщения hello появится панель мониторинга, можно просмотреть дополнительные сведения об определенный тип сообщений, отображающий данные, основанные на один день. Выберите плитку hello для **AS2**, **X12**, или **EDIFACT**.

   ![Просмотр состояния сообщения](media/logic-apps-track-b2b-messages-omsportal/omshomepage5.png)

   Отобразится список сообщений в соответствии с выбранной плиткой. 
   toolearn Дополнительные сведения о hello свойства для каждого типа сообщений см. Эти описания свойств сообщения.

   * [Свойства сообщения AS2](#as2-message-properties)
   * [Свойства сообщения X12](#x12-message-properties)
   * [Свойства сообщения EDIFACT](#EDIFACT-message-properties)

   Ниже представлен пример списка сообщений AS2.

   ![Просмотр списка сообщений AS2](media/logic-apps-track-b2b-messages-omsportal/as2messagelist.png)

3. tooview или экспорта hello входных и выходных данных для определенных сообщений выберите эти сообщения и выберите **загрузить**. Когда появится запрос, сохраните локального компьютера файл .zip tooyour hello и затем извлечь этот файл. 

   Hello извлеченную папку включает папки для каждого выбранного сообщения. 
   Если вы настроили подтверждений, папке сообщений hello входят файлы с подробными сведениями для подтверждения. 
   В каждой из папок сообщения находятся как минимум следующие файлы: 
   
   * Удобное для восприятия файлы с hello входных полезных данных и выходные данные сведения о полезных данных
   * Закодированные фалы с hello входы и выходы

   Для каждого типа сообщений можно найти папку hello и имя форматы файлов:

   * [Форматы имен файлов и папок для сообщений AS2](#as2-folder-file-names)
   * [Форматы имен файлов и папок для сообщений X12](#x12-folder-file-names)
   * [Форматы имен файлов и папок для сообщений EDIFACT](#edifact-folder-file-names)

   ![Загрузка файлов сообщений](media/logic-apps-track-b2b-messages-omsportal/download-messages.png)

4. tooview все действия, которые имеют hello же выполнить код, hello **поиска журналов** выберите сообщения из списка сообщений hello.

   Можно сортировать эти действия по столбцу или выполнить поиск определенных результатов.

   ![Действия с hello же код запуска](media/logic-apps-track-b2b-messages-omsportal/logsearch.png)

   * Выберите toosearch результаты с помощью готовых запросов **Избранное**.

   * Дополнительные сведения [как toobuild запросов путем добавления фильтров](logic-apps-track-b2b-messages-omsportal-query-filter-control-number.md). 
   Или Узнайте больше о [порядке поиска данных toofind с журналом в службе анализа журналов](../log-analytics/log-analytics-log-searches.md).

   * запрос toochange в hello поискового запроса hello на обновление с hello столбцы и значения требуется toouse как фильтры.

<a name="message-list-property-descriptions"></a>

## <a name="property-descriptions-and-name-formats-for-as2-x12-and-edifact-messages"></a>Описания свойств и форматы имен для сообщений AS2, X12 и EDIFACT

Для каждого типа сообщений ниже приведены описания свойств hello и форматы имен для файлов загруженного сообщений.

<a name="as2-message-properties"></a>

### <a name="as2-message-property-descriptions"></a>Описания свойств сообщения AS2

Ниже приведены описания свойств hello для каждого сообщения AS2.

| Свойство | Описание |
| --- | --- |
| Отправитель | гостевой партнер Hello, указанный в **параметры получения**, или указать hello размещаемый партнер в **параметры отправки** для соглашения AS2 |
| Получатель | размещаемый партнер Hello, указанный в **параметры получения**, или указать hello гостевого партнера в **параметры отправки** для соглашения AS2 |
| приложение логики; | приложения логики Hello, где настраиваются hello AS2 действия |
| Состояние | состояние сообщения AS2 Hello <br>Success: получено или отправлено корректное сообщение AS2, MDN не настроено. <br>Success: получено или отправлено корректное сообщение AS2, MDN настроено и получено либо отправлено. <br>Failed: получено некорректное сообщение AS2. MDN не настроено. <br>Pending: получено или отправлено корректное сообщение AS2. MDN настроено и ожидается. |
| Ack | состояние сообщения MDN Hello <br>Accepted: получено или отправлено положительное MDN. <br>Ожидание = ожидает tooreceive или отправлять MDN. <br>Rejected: получено или отправлено отрицательное MDN. <br>Не требуется = MDN не настроена в соглашении hello. |
| Направление | Hello направление сообщения AS2 |
| Идентификатор корреляции | Идентификатор Hello, которое сопоставляет все hello триггеров и действий в приложении логику |
| Идентификатор сообщения | Идентификатор сообщения Hello AS2 из заголовков сообщений hello AS2 |
| Timestamp | время Hello, обработки приветственное сообщение hello действие AS2 |
|          |             |

<a name="as2-folder-file-names"></a>

### <a name="as2-name-formats-for-downloaded-message-files"></a>Форматы имен AS2 для загруженных файлов сообщений

Ниже приведены hello форматов имени для каждого загруженного AS2 сообщение папки и файлы.

| Папка или файл | Формат имени |
| :------------- | :---------- |
| Папка сообщения | [отправитель]\_[получатель]\_AS2\_[ИД_корреляции]\_[ИД_сообщения]\_[метка времени] |
| Входные данные, выходные данные и файлы подтверждения (если настроено) | **Полезные входные данные**: [отправитель]\_[получатель]\_AS2\_[ИД_корреляции]\_input_payload.txt </p>**Полезные выходные данные**: [отправитель]\_[получатель]\_AS2\_[ИД_корреляции]\_output\_payload.txt </p></p>**Входные данные**: [отправитель]\_[получатель]\_AS2\_[ИД_корреляции]\_inputs.txt </p></p>**Выходные данные**: [отправитель]\_[получатель]\_AS2\_[ИД_корреляции]\_outputs.txt |
|          |             |

<a name="x12-message-properties"></a>

### <a name="x12-message-property-descriptions"></a>Описания свойств сообщения X12

Ниже приведены описания свойств hello для каждого X12 сообщения.

| Свойство | Описание |
| --- | --- |
| Отправитель | гостевой партнер Hello, указанный в **параметры получения**, или указать hello размещаемый партнер в **параметры отправки** для X12 соглашения |
| Получатель | размещаемый партнер Hello, указанный в **параметры получения**, или hello гостевого партнера, указанный в **параметры отправки** для X12 соглашения |
| приложение логики; | приложения логики Hello, где настраиваются hello X12 действия |
| Состояние | состояние сообщения Hello X12 <br>Success: получено или отправлено корректное сообщение X12. Функциональное подтверждение не настроено. <br>Success: получено или отправлено корректное сообщение X12. Функциональное подтверждение настроено и либо получено, либо отправлено. <br>Failed: получено или отправлено некорректное сообщение X12. <br>Pending: получено или отправлено корректное сообщение X12. Функциональное подтверждение настроено и ожидается его получение. |
| Ack | Состояние функционального подтверждения (997). <br>Accepted: получено или отправлено положительное функциональное подтверждение. <br>Rejected: получено или отправлено отрицательное функциональное подтверждение. <br>Pending: ожидается функциональное подтверждение, но оно еще не получено. <br>Ожидающие = формируется функциональных подтверждений, однако не удается отправить toopartner. <br>Not Required: функциональное подтверждение не настроено. |
| Направление | Направление сообщения Hello X12 |
| Идентификатор корреляции | Идентификатор Hello, которое сопоставляет все hello триггеров и действий в приложении логику |
| Тип сообщения | Тип EDI X 12 сообщения Hello |
| ICN | Hello контрольные числа обмена сообщения hello X12 |
| TSCN | Hello транзакций значение контрольного числа сообщения hello X12 |
| Timestamp | время Hello, действие hello X12 обработки сообщения hello |
|          |             |

<a name="x12-folder-file-names"></a>

### <a name="x12-name-formats-for-downloaded-message-files"></a>Форматы имен X12 для загруженных файлов сообщений

Ниже приведены форматы имен hello для каждой загрузки X12 папки и файлы сообщений.

| Папка или файл | Формат имени |
| :------------- | :---------- |
| Папка сообщения | [отправитель]\_[получатель]\_X12\_[контрольный_номер_обмена]\_[глобальный_контрольный_номер]\_[контрольный_номер_набора_транзакций]\_[метка_времени] |
| Входные данные, выходные данные и файлы подтверждения (если настроено) | **Полезные входные данные**: [отправитель]\_[получатель]\_X12\_[контрольный_номер_обмена]\_input_payload.txt </p>**Полезные выходные данные**: [отправитель]\_[получатель]\_X12\_[контрольный_номер_обмена]\_output\_payload.txt </p></p>**Входные данные**: [отправитель]\_[получатель]\_X12\_[контрольный_номер_обмена]\_inputs.txt </p></p>**Выходные данные**: [отправитель]\_[получатель]\_X12\_[контрольный_номер_обмена]\_outputs.txt |
|          |             |

<a name="EDIFACT-message-properties"></a>

### <a name="edifact-message-property-descriptions"></a>Описания свойств сообщения EDIFACT

Ниже приведены описания свойств hello для каждого сообщения EDIFACT.

| Свойство | Описание |
| --- | --- |
| Отправитель | гостевой партнер Hello, указанный в **параметры получения**, или указать hello размещаемый партнер в **параметры отправки** для соглашения EDIFACT |
| Получатель | размещаемый партнер Hello, указанный в **параметры получения**, или указать hello гостевого партнера в **параметры отправки** для соглашения EDIFACT |
| приложение логики; | приложения логики Hello, где настраиваются hello EDIFACT действия |
| Состояние | состояние сообщения EDIFACT Hello <br>Success: получено или отправлено корректное сообщение EDIFACT. Функциональное подтверждение не настроено. <br>Success: получено или отправлено корректное сообщение EDIFACT. Функциональное подтверждение настроено и либо получено, либо отправлено. <br>Failed: получено или отправлено некорректное сообщение EDIFACT <br>Pending: получено или отправлено корректное сообщение EDIFACT. Функциональное подтверждение настроено и ожидается его получение. |
| Ack | Состояние функционального подтверждения (997). <br>Accepted: получено или отправлено положительное функциональное подтверждение. <br>Rejected: получено или отправлено отрицательное функциональное подтверждение. <br>Pending: ожидается функциональное подтверждение, но оно еще не получено. <br>Ожидающие = формируется функциональных подтверждений, однако не удается отправить toopartner. <br>Not Required: функциональное подтверждение не настроено. |
| Направление | Направление сообщения EDIFACT Hello |
| Идентификатор корреляции | Идентификатор Hello, которое сопоставляет все hello триггеров и действий в приложении логику |
| Тип сообщения | Тип сообщения EDIFACT Hello |
| ICN | Hello контрольные числа обмена для сообщения EDIFACT hello |
| TSCN | Hello номера управления задайте транзакции для сообщения EDIFACT hello |
| Timestamp | время Hello, обработки приветственное сообщение hello действие EDIFACT |
|          |               |

<a name="edifact-folder-file-names"></a>

### <a name="edifact-name-formats-for-downloaded-message-files"></a>Форматы имен EDIFACT для загруженных файлов сообщений

Ниже приведены hello форматов имени для каждого загруженного EDIFACT сообщение папки и файлы.

| Папка или файл | Формат имени |
| :------------- | :---------- |
| Папка сообщения | [отправитель]\_[получатель]\_EDIFACT\_[контрольный_номер_обмена]\_[глобальный_контрольный_номер]\_[контрольный_номер_набора_транзакций]\_[метка_времени] |
| Входные данные, выходные данные и файлы подтверждения (если настроено) | **Полезные входные данные**: [отправитель]\_[получатель]\_EDIFACT\_[контрольный_номер_обмена]\_input_payload.txt </p>**Полезные выходные данные**: [отправитель]\_[получатель]\_EDIFACT\_[контрольный_номер_обмена]\_output\_payload.txt </p></p>**Входные данные**: [отправитель]\_[получатель]\_EDIFACT\_[контрольный_номер_обмена]\_inputs.txt </p></p>**Выходные данные**: [отправитель]\_[получатель]\_EDIFACT\_[контрольный_номер_обмена]\_outputs.txt |
|          |             |

## <a name="next-steps"></a>Дальнейшие действия

* [Создание запросов на отслеживание сообщений B2B на портале Operations Management Suite](../logic-apps/logic-apps-track-b2b-messages-omsportal-query-filter-control-number.md)
* [Схемы отслеживания AS2](../logic-apps/logic-apps-track-integration-account-as2-tracking-schemas.md)
* [Схемы отслеживания X12](../logic-apps/logic-apps-track-integration-account-x12-tracking-schema.md)
* [Настраиваемые схемы отслеживания](../logic-apps/logic-apps-track-integration-account-custom-tracking-schema.md)