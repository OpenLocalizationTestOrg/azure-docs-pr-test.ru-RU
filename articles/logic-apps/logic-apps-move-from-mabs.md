---
title: "Перемещение приложений из служб BizTalk в Azure Logic Apps | Документы Майкрософт"
description: "Перемещение или миграция служб BizTalk Azure (MABS) в Logic Apps"
services: logic-apps
documentationcenter: 
author: jonfancey
manager: anneta
editor: 
ms.assetid: 
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/30/2017
ms.author: ladocs; jonfan; mandia
ms.openlocfilehash: e58c6950d1d9420f32fc98ca917216dc5fae4fc3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="move-from-biztalk-services-to-logic-apps"></a><span data-ttu-id="29ad1-103">Переход от служб BizTalk к службе Logic Apps</span><span class="sxs-lookup"><span data-stu-id="29ad1-103">Move from BizTalk Services to Logic Apps</span></span>

<span data-ttu-id="29ad1-104">Службы Microsoft Azure BizTalk Services (MABS) находятся на этапе прекращения использования.</span><span class="sxs-lookup"><span data-stu-id="29ad1-104">Microsoft Azure BizTalk Services (MABS) is retiring.</span></span> <span data-ttu-id="29ad1-105">Эта статья поможет вам переместить решения интеграции MABS в службу Azure Logic Apps.</span><span class="sxs-lookup"><span data-stu-id="29ad1-105">Use this topic to move your MABS integration solutions to Azure Logic Apps.</span></span> 

## <a name="overview"></a><span data-ttu-id="29ad1-106">Обзор</span><span class="sxs-lookup"><span data-stu-id="29ad1-106">Overview</span></span>

<span data-ttu-id="29ad1-107">Службы BizTalk состоят из двух вложенных служб:</span><span class="sxs-lookup"><span data-stu-id="29ad1-107">BizTalk Services consists of two sub-services:</span></span>

1.  <span data-ttu-id="29ad1-108">гибридные подключения служб Microsoft BizTalk;</span><span class="sxs-lookup"><span data-stu-id="29ad1-108">Microsoft BizTalk Services Hybrid Connections</span></span>
2.  <span data-ttu-id="29ad1-109">интеграция на основе моста EAI и EDI.</span><span class="sxs-lookup"><span data-stu-id="29ad1-109">EAI and EDI bridge-based integration</span></span>

<span data-ttu-id="29ad1-110">Если вам требуется переместить гибридные подключения, в статье [Гибридные подключения к службе приложений Azure](../app-service/app-service-hybrid-connections.md) приводится описание изменений и компонентов этой службы.</span><span class="sxs-lookup"><span data-stu-id="29ad1-110">If you're looking to move hybrid connections, then [Azure App Service Hybrid Connections](../app-service/app-service-hybrid-connections.md) describes the changes and features of this service.</span></span> <span data-ttu-id="29ad1-111">Гибридные подключения Azure заменяют гибридные подключения служб BizTalk.</span><span class="sxs-lookup"><span data-stu-id="29ad1-111">Azure Hybrid Connections replaces BizTalk Services Hybrid Connections.</span></span> <span data-ttu-id="29ad1-112">Служба гибридных подключений Azure доступна со службой приложений Azure и предлагается на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="29ad1-112">Azure Hybrid Connections is available with Azure App Service, and is offered in the Azure portal.</span></span> <span data-ttu-id="29ad1-113">Служба гибридных подключений Azure также предоставляет новый диспетчер гибридных подключений для управления существующими гибридными подключениями служб BizTalk и новыми гибридными подключениями, созданными на портале.</span><span class="sxs-lookup"><span data-stu-id="29ad1-113">Azure Hybrid Connections also provides a new Hybrid Connection Manager to manage existing BizTalk Services hybrid connections, and new hybrid connections you create in the portal.</span></span> <span data-ttu-id="29ad1-114">Выпущена общедоступная версия гибридных подключений службы приложений Azure.</span><span class="sxs-lookup"><span data-stu-id="29ad1-114">Azure App Service Hybrid Connections is generally available (GA).</span></span>

<span data-ttu-id="29ad1-115">Служба Logic Apps заменяет интеграцию на основе моста EAI и EDI.</span><span class="sxs-lookup"><span data-stu-id="29ad1-115">For EAI and EDI bridge-based integration, Logic Apps is the replacement.</span></span> <span data-ttu-id="29ad1-116">Logic Apps обеспечивает те же возможности, что и службы BizTalk, а также дополнительные функции.</span><span class="sxs-lookup"><span data-stu-id="29ad1-116">Logic Apps provides all the same capabilities as BizTalk Services, and more.</span></span> <span data-ttu-id="29ad1-117">Logic Apps предоставляет рабочий процесс масштабирования облака на основе потребления и возможности оркестрации, которые позволяют быстро создавать сложные решения интеграции с помощью браузера или инструментов Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="29ad1-117">Logic Apps provides cloud-scale consumption-based workflow and orchestration features that allow you to quickly and easily building complex integration solutions using a browser, or using tools within Visual Studio.</span></span>

<span data-ttu-id="29ad1-118">В следующей таблице приведено сопоставление возможностей служб BizTalk и Logic Apps.</span><span class="sxs-lookup"><span data-stu-id="29ad1-118">The following table provides a mapping of BizTalk Services capabilities to Logic Apps.</span></span>

| <span data-ttu-id="29ad1-119">Службы BizTalk</span><span class="sxs-lookup"><span data-stu-id="29ad1-119">BizTalk Services</span></span>   | <span data-ttu-id="29ad1-120">Приложения логики</span><span class="sxs-lookup"><span data-stu-id="29ad1-120">Logic Apps</span></span>            | <span data-ttu-id="29ad1-121">Назначение</span><span class="sxs-lookup"><span data-stu-id="29ad1-121">Purpose</span></span>                  |
| ------------------ | --------------------- | ---------------------------- |
| <span data-ttu-id="29ad1-122">Соединитель</span><span class="sxs-lookup"><span data-stu-id="29ad1-122">Connector</span></span>          | <span data-ttu-id="29ad1-123">Соединитель</span><span class="sxs-lookup"><span data-stu-id="29ad1-123">Connector</span></span>             | <span data-ttu-id="29ad1-124">Отправка и получение данных</span><span class="sxs-lookup"><span data-stu-id="29ad1-124">Sending and receiving data</span></span>   |
| <span data-ttu-id="29ad1-125">Мост</span><span class="sxs-lookup"><span data-stu-id="29ad1-125">Bridge</span></span>             | <span data-ttu-id="29ad1-126">приложение логики;</span><span class="sxs-lookup"><span data-stu-id="29ad1-126">Logic App</span></span>             | <span data-ttu-id="29ad1-127">Обработчик конвейера</span><span class="sxs-lookup"><span data-stu-id="29ad1-127">Pipeline processor</span></span>           |
| <span data-ttu-id="29ad1-128">Стадия проверки</span><span class="sxs-lookup"><span data-stu-id="29ad1-128">Validate stage</span></span>     | <span data-ttu-id="29ad1-129">Действие проверки XML</span><span class="sxs-lookup"><span data-stu-id="29ad1-129">XML Validation action</span></span>      | <span data-ttu-id="29ad1-130">Проверка соответствия XML-документа схеме</span><span class="sxs-lookup"><span data-stu-id="29ad1-130">Validate an XML document against a schema</span></span>             |
| <span data-ttu-id="29ad1-131">Стадия добавления</span><span class="sxs-lookup"><span data-stu-id="29ad1-131">Enrich stage</span></span>       | <span data-ttu-id="29ad1-132">Маркеры данных</span><span class="sxs-lookup"><span data-stu-id="29ad1-132">Data Tokens</span></span>      | <span data-ttu-id="29ad1-133">Передача свойств в сообщения или в механизм принятия решений о маршрутизации</span><span class="sxs-lookup"><span data-stu-id="29ad1-133">Promote properties into messages or for routing decisions</span></span>             |
| <span data-ttu-id="29ad1-134">Стадия преобразования</span><span class="sxs-lookup"><span data-stu-id="29ad1-134">Transform stage</span></span>    | <span data-ttu-id="29ad1-135">Действие преобразования</span><span class="sxs-lookup"><span data-stu-id="29ad1-135">Transform action</span></span>      | <span data-ttu-id="29ad1-136">Преобразование сообщений XML из одного формата в другой</span><span class="sxs-lookup"><span data-stu-id="29ad1-136">Convert XML messages from one format to another</span></span>             |
| <span data-ttu-id="29ad1-137">Стадия декодирования</span><span class="sxs-lookup"><span data-stu-id="29ad1-137">Decode stage</span></span>       | <span data-ttu-id="29ad1-138">Действие декодирования неструктурированного файла</span><span class="sxs-lookup"><span data-stu-id="29ad1-138">Flat File Decode action</span></span>      | <span data-ttu-id="29ad1-139">Преобразование из неструктурированного файла в XML</span><span class="sxs-lookup"><span data-stu-id="29ad1-139">Convert from flat file to XML</span></span>             |
| <span data-ttu-id="29ad1-140">Стадия кодирования</span><span class="sxs-lookup"><span data-stu-id="29ad1-140">Encode stage</span></span>       |  <span data-ttu-id="29ad1-141">Действие кодирования неструктурированного файла</span><span class="sxs-lookup"><span data-stu-id="29ad1-141">Flat File Encode action</span></span>      | <span data-ttu-id="29ad1-142">Преобразование из XML в неструктурированный файл</span><span class="sxs-lookup"><span data-stu-id="29ad1-142">Convert from XML to flat file</span></span>             |
| <span data-ttu-id="29ad1-143">Инспектор сообщений</span><span class="sxs-lookup"><span data-stu-id="29ad1-143">Message Inspector</span></span>       |  <span data-ttu-id="29ad1-144">Функции Azure или приложения API</span><span class="sxs-lookup"><span data-stu-id="29ad1-144">Azure Functions or API Apps</span></span>      | <span data-ttu-id="29ad1-145">Запуск пользовательского кода в интеграции</span><span class="sxs-lookup"><span data-stu-id="29ad1-145">Run custom code in your integrations</span></span>             |
| <span data-ttu-id="29ad1-146">Действия маршрутизации</span><span class="sxs-lookup"><span data-stu-id="29ad1-146">Route Action</span></span>      |  <span data-ttu-id="29ad1-147">Условие или переключатель</span><span class="sxs-lookup"><span data-stu-id="29ad1-147">Condition or Switch</span></span>      | <span data-ttu-id="29ad1-148">Маршрутизация сообщений к одному из указанных соединителей</span><span class="sxs-lookup"><span data-stu-id="29ad1-148">Route messages to one of the specified connectors</span></span>             |

<span data-ttu-id="29ad1-149">В службах BizTalk имеются различные виды артефактов.</span><span class="sxs-lookup"><span data-stu-id="29ad1-149">There are a number of different types of artifact in BizTalk Services.</span></span>

## <a name="connectors"></a><span data-ttu-id="29ad1-150">Соединители</span><span class="sxs-lookup"><span data-stu-id="29ad1-150">Connectors</span></span>
<span data-ttu-id="29ad1-151">Соединители в службах BizTalk позволяют мостам отправлять и получать данные, включая двусторонние мосты, поддерживающие взаимодействие типа "запрос-ответ" на основе HTTP.</span><span class="sxs-lookup"><span data-stu-id="29ad1-151">Connectors in BizTalk Services allow bridges to send and receive data, including two-way bridges that enabled HTTP-based request/response interactions.</span></span> <span data-ttu-id="29ad1-152">В службе Logic Apps используется та же терминология.</span><span class="sxs-lookup"><span data-stu-id="29ad1-152">In Logic Apps, the same terminology is used.</span></span> <span data-ttu-id="29ad1-153">Соединители в приложениях логики имеют то же назначение, а также включают более 140 мостов, которые могут подключаться к широкому ряду технологий и служб, как локально с помощью локального шлюза данных (вместо службы адаптера BizTalk), так и в облаке с помощью облачных служб SaaS и PaaS, таких как OneDrive, Office 365, Dynamics CRM и т. д.</span><span class="sxs-lookup"><span data-stu-id="29ad1-153">Connectors in logic apps serve the same purpose, and also include over 140 that can connect to a broad array of technologies and services, both on-premises using the on-premises Data Gateway (replacing the BizTalk Adapter Service used by BizTalk Services), and cloud SaaS and PaaS services such as OneDrive, Office365, Dynamics CRM and many more.</span></span>

<span data-ttu-id="29ad1-154">Источники в службах BizTalk ограничены FTP, SFTP и подпиской на очереди или разделы служебной шины.</span><span class="sxs-lookup"><span data-stu-id="29ad1-154">Sources in BizTalk Services are limited to FTP, SFTP, and Service Bus Queue or Topic subscription.</span></span>

![](media/logic-apps-move-from-mabs/sources.png)

<span data-ttu-id="29ad1-155">Каждому мосту по умолчанию назначена конечная точка HTTP, для которой настроены адрес времени выполнения и свойства относительного адреса моста.</span><span class="sxs-lookup"><span data-stu-id="29ad1-155">Each bridge has an HTTP endpoint by default, which is configured with the Runtime Address and the Relative Address properties of the bridge.</span></span> <span data-ttu-id="29ad1-156">Те же возможности доступны через действие [запроса и ответа](../connectors/connectors-native-reqres.md) Logic Apps.</span><span class="sxs-lookup"><span data-stu-id="29ad1-156">To achieve the same with Logic Apps, use the [Request and Response](../connectors/connectors-native-reqres.md) actions.</span></span>

## <a name="xml-processing-and-bridges"></a><span data-ttu-id="29ad1-157">Обработка XML и мосты</span><span class="sxs-lookup"><span data-stu-id="29ad1-157">XML processing and bridges</span></span>
<span data-ttu-id="29ad1-158">Мост в службах BizTalk является аналогом конвейера обработки.</span><span class="sxs-lookup"><span data-stu-id="29ad1-158">A bridge in BizTalk Services is analogous to a processing pipeline.</span></span> <span data-ttu-id="29ad1-159">Мост может принимать данные, полученные из соединителя, и выполнять некоторые действия с ними, а затем отправлять их в другую систему.</span><span class="sxs-lookup"><span data-stu-id="29ad1-159">A bridge can take data received from a connector, and do some work with the data, and then send it to another system.</span></span> <span data-ttu-id="29ad1-160">Служба Logic Apps обеспечивает те же функции, поддерживая те же шаблоны взаимодействия на основе конвейера, что и службы BizTalk, а также предоставляя ряд других шаблонов интеграции.</span><span class="sxs-lookup"><span data-stu-id="29ad1-160">Logic Apps does the same by supporting the same pipeline-based interaction patterns as BizTalk Services, and also provides a number of other integration patterns.</span></span> <span data-ttu-id="29ad1-161">[Мост типа "запрос-ответ" XML](https://msdn.microsoft.com/library/azure/hh689781.aspx) в службах BizTalk называется конвейером VETER и состоит из стадий:</span><span class="sxs-lookup"><span data-stu-id="29ad1-161">The [XML Request-Reply Bridge](https://msdn.microsoft.com/library/azure/hh689781.aspx) in BizTalk Services is known as a VETER pipeline consisting of stages that can:</span></span>

* <span data-ttu-id="29ad1-162">(V) — проверка,</span><span class="sxs-lookup"><span data-stu-id="29ad1-162">(V) Validate</span></span>
* <span data-ttu-id="29ad1-163">(E) — добавление,</span><span class="sxs-lookup"><span data-stu-id="29ad1-163">(E) Enrich</span></span>
* <span data-ttu-id="29ad1-164">(T) — преобразование,</span><span class="sxs-lookup"><span data-stu-id="29ad1-164">(T) Transform</span></span>
* <span data-ttu-id="29ad1-165">(E) — добавление,</span><span class="sxs-lookup"><span data-stu-id="29ad1-165">(E) Enrich</span></span>
* <span data-ttu-id="29ad1-166">(R) — маршрутизация.</span><span class="sxs-lookup"><span data-stu-id="29ad1-166">(R) Route</span></span>

<span data-ttu-id="29ad1-167">Как показано на следующем рисунке, обработка разбивается на запрос и ответ и позволяет контролировать пути запроса и ответа по отдельности (например, с помощью разных карт):</span><span class="sxs-lookup"><span data-stu-id="29ad1-167">As seen in the following image, the processing is split between request and reply, and allows control over the request and the reply paths separately (for example, using different maps for each):</span></span>

![](media/logic-apps-move-from-mabs/xml-request-reply.png)

<span data-ttu-id="29ad1-168">Кроме того, односторонний мост XML добавляет стадии декодирования и кодирования в начале и конце обработки, а транзитный мост содержит одну стадию добавления.</span><span class="sxs-lookup"><span data-stu-id="29ad1-168">Additionally, an XML One-Way bridge adds Decode and Encode stages at the beginning and end of processing, and the Pass-Through bridge contains a single Enrich stage.</span></span>

### <a name="message-processing-and-decodingencoding"></a><span data-ttu-id="29ad1-169">Обработка и декодирование/кодирование сообщений</span><span class="sxs-lookup"><span data-stu-id="29ad1-169">Message processing and decoding/encoding</span></span>
<span data-ttu-id="29ad1-170">В службах BizTalk для полученных XML-сообщений разных типов выполняется определение соответствующей схемы.</span><span class="sxs-lookup"><span data-stu-id="29ad1-170">In BizTalk Services, you receive XML messages of different types, and determine the matching schema for the message received.</span></span> <span data-ttu-id="29ad1-171">Это происходит на стадии **Типы сообщений** конвейера обработки получения.</span><span class="sxs-lookup"><span data-stu-id="29ad1-171">This is performed in the **Message Types** stage of the receive processing pipeline.</span></span> <span data-ttu-id="29ad1-172">Затем на стадии декодирования обнаруженный тип сообщения используется для его декодирования с помощью заданной схемы.</span><span class="sxs-lookup"><span data-stu-id="29ad1-172">Then, the Decode stage uses the detected message type to decode it using the provided schema.</span></span> <span data-ttu-id="29ad1-173">Если схема является схемой неструктурированного файла, выполняется преобразование неструктурированного файла в XML.</span><span class="sxs-lookup"><span data-stu-id="29ad1-173">If the schema is a flatfile schema, it converts the incoming flatfile to XML.</span></span> 

<span data-ttu-id="29ad1-174">Служба Logic Apps обеспечивает аналогичные возможности.</span><span class="sxs-lookup"><span data-stu-id="29ad1-174">Logic Apps provides similar capabilities.</span></span> <span data-ttu-id="29ad1-175">Служба получает неструктурированный файл через широкий ряд различных протоколов с помощью триггеров разных соединителей (файловая система, FTP, HTTP и т. д.) и использует действие [декодирования неструктурированного файла](../logic-apps/logic-apps-enterprise-integration-flatfile.md) для преобразования входных данных в XML.</span><span class="sxs-lookup"><span data-stu-id="29ad1-175">You receive a flatfile over a multitude of different protocols using the different connector triggers (File System, FTP, HTTP, and so on), and use the [Flat File Decode](../logic-apps/logic-apps-enterprise-integration-flatfile.md) action to convert the incoming data to XML.</span></span> <span data-ttu-id="29ad1-176">Вы можете переместить имеющиеся схемы неструктурированных файлов непосредственно в приложения логики (без необходимости вносить какие-либо изменения), а затем отправить схемы в вашу учетную запись интеграции.</span><span class="sxs-lookup"><span data-stu-id="29ad1-176">You can move your existing flat file schemas directly to logic apps without requiring any changes, and then upload schemas to your Integration Account.</span></span>

### <a name="validation"></a><span data-ttu-id="29ad1-177">Проверка</span><span class="sxs-lookup"><span data-stu-id="29ad1-177">Validation</span></span>
<span data-ttu-id="29ad1-178">После преобразования входных данных в XML (или при получении сообщения в формате XML) выполняется проверка на соответствие сообщения XSD-схеме.</span><span class="sxs-lookup"><span data-stu-id="29ad1-178">After the incoming data is converted to XML (or if XML was the message format received), validation runs to determine if the message adheres to your XSD schema.</span></span> <span data-ttu-id="29ad1-179">Для этого в службе Logic Apps используется действие [Проверка XML](../logic-apps/logic-apps-enterprise-integration-xml-validation.md).</span><span class="sxs-lookup"><span data-stu-id="29ad1-179">To do this in Logic Apps, use the [XML Validation](../logic-apps/logic-apps-enterprise-integration-xml-validation.md) action.</span></span> <span data-ttu-id="29ad1-180">И в этом случае можно использовать те же схемы служб BizTalk без изменений.</span><span class="sxs-lookup"><span data-stu-id="29ad1-180">Again, you can use the same schemas from BizTalk Services without any changes.</span></span>

### <a name="transform-messages"></a><span data-ttu-id="29ad1-181">Преобразование сообщений</span><span class="sxs-lookup"><span data-stu-id="29ad1-181">Transform messages</span></span>
<span data-ttu-id="29ad1-182">В службах BizTalk стадия преобразования преобразует один формат XML-сообщения в другой</span><span class="sxs-lookup"><span data-stu-id="29ad1-182">In BizTalk Services, the Transform stage converts one XML-based message format to another.</span></span> <span data-ttu-id="29ad1-183">путем применения карты с помощью модуля сопоставления на основе TRFM.</span><span class="sxs-lookup"><span data-stu-id="29ad1-183">This is done by applying a map, using the TRFM-based mapper.</span></span> <span data-ttu-id="29ad1-184">В Logic Apps используется аналогичный процесс.</span><span class="sxs-lookup"><span data-stu-id="29ad1-184">In Logic Apps, the process is similar.</span></span> <span data-ttu-id="29ad1-185">Действие преобразования выполняет карту из учетной записи интеграции.</span><span class="sxs-lookup"><span data-stu-id="29ad1-185">The Transform action executes a map from your Integration Account.</span></span> <span data-ttu-id="29ad1-186">Основным различием является формат карт — в Logic Apps используется формат XSLT.</span><span class="sxs-lookup"><span data-stu-id="29ad1-186">The main difference is that maps in Logic Apps are in XSLT format.</span></span> <span data-ttu-id="29ad1-187">Формат XSLT включает возможность повторного использования уже имеющегося XSLT-файла, включая карты, созданные для BizTalk Server, которые содержат функтоиды.</span><span class="sxs-lookup"><span data-stu-id="29ad1-187">XSLT includes the ability to reuse existing XSLT you already have, including maps created for BizTalk Server that contain functoids.</span></span> 

### <a name="routing-rules"></a><span data-ttu-id="29ad1-188">Правила маршрутизации</span><span class="sxs-lookup"><span data-stu-id="29ad1-188">Routing rules</span></span>
<span data-ttu-id="29ad1-189">Службы BizTalk принимают решение о маршрутизации входящих сообщений и данных в ту или иную конечную точку или соединитель.</span><span class="sxs-lookup"><span data-stu-id="29ad1-189">BizTalk Services makes a routing decision on which endpoint/connector to send incoming messages/data.</span></span> <span data-ttu-id="29ad1-190">Вы можете выбрать одну из ряда предварительно настроенных конечных точек с помощью параметра фильтра маршрутизации:</span><span class="sxs-lookup"><span data-stu-id="29ad1-190">The ability to select one of a number of pre-configured endpoints is possible using the routing filter option:</span></span>

![](media/logic-apps-move-from-mabs/route-filter.png)

<span data-ttu-id="29ad1-191">Служба Logic Apps предоставляет более сложные возможности логики благодаря [условию](../logic-apps/logic-apps-use-logic-app-features.md) и [переключателю](../logic-apps/logic-apps-switch-case.md), обеспечивая расширенные функции управления потоком и маршрутизации.</span><span class="sxs-lookup"><span data-stu-id="29ad1-191">Logic Apps provides more sophisticated logic capabilities with [Condition](../logic-apps/logic-apps-use-logic-app-features.md) and [Switch](../logic-apps/logic-apps-switch-case.md), enabling advanced control flow and routing.</span></span> <span data-ttu-id="29ad1-192">Эффективное преобразование фильтров маршрутизации в службах BizTalk достигается с помощью **условия**, *если* существует только два варианта.</span><span class="sxs-lookup"><span data-stu-id="29ad1-192">Converting routing filters in BizTalk Services is best achieved using a **condition** *if* there are only two options.</span></span> <span data-ttu-id="29ad1-193">Если существует больше двух вариантов, используется **переключатель**.</span><span class="sxs-lookup"><span data-stu-id="29ad1-193">If there are more than two, then use a **switch**.</span></span>

### <a name="enrich"></a><span data-ttu-id="29ad1-194">Добавление</span><span class="sxs-lookup"><span data-stu-id="29ad1-194">Enrich</span></span>
<span data-ttu-id="29ad1-195">На стадии добавления службы BizTalk добавляют свойства в контекст сообщения, связанный с полученными данными.</span><span class="sxs-lookup"><span data-stu-id="29ad1-195">The Enrich stage in BizTalk Services processing adds properties to the message context associated with the data received.</span></span> <span data-ttu-id="29ad1-196">Например, повышая уровень свойства, используемого для маршрутизации (см. ниже) из поиска по базе данных, или извлекая значение с помощью выражения XPath.</span><span class="sxs-lookup"><span data-stu-id="29ad1-196">For example, promoting a property to use for routing (discussed below) from a database lookup, or by extracting a value using an XPath expression.</span></span> <span data-ttu-id="29ad1-197">Logic Apps предоставляет доступ ко всем выходным контекстным данным из предшествующих действий, что упрощает репликацию аналогичного поведения.</span><span class="sxs-lookup"><span data-stu-id="29ad1-197">Logic Apps provides access to all contextual data outputs from preceding actions, making it straightforward to replicate the same behavior.</span></span> <span data-ttu-id="29ad1-198">Например, с помощью действия подключения SQL `Get Row` можно вернуть данные из базы данных SQL Server и использовать эти данные в действии принятия решений для маршрутизации.</span><span class="sxs-lookup"><span data-stu-id="29ad1-198">For example, using the `Get Row` SQL connection action, you return data from a SQL Server database, and use the data in a Decision action for routing.</span></span> <span data-ttu-id="29ad1-199">Аналогично, свойства входящих сообщений в очереди служебной шины, запускаемых триггером, являются адресуемыми, также как и XPath с помощью выражений языка определений рабочего процесса xpath.</span><span class="sxs-lookup"><span data-stu-id="29ad1-199">Likewise, properties on incoming Service Bus queued messages by a trigger are addressable, as well as XPath using the xpath workflow definition language expression.</span></span>

### <a name="use-custom-code"></a><span data-ttu-id="29ad1-200">Использование пользовательского кода</span><span class="sxs-lookup"><span data-stu-id="29ad1-200">Use custom code</span></span>
<span data-ttu-id="29ad1-201">Службы BizTalk позволяют [выполнять пользовательский код](https://msdn.microsoft.com/library/azure/dn232389.aspx), отправленный в собственные сборки.</span><span class="sxs-lookup"><span data-stu-id="29ad1-201">BizTalk Services provides the ability to [run custom code](https://msdn.microsoft.com/library/azure/dn232389.aspx) uploaded in your own assemblies.</span></span> <span data-ttu-id="29ad1-202">Эта возможность реализуется с помощью интерфейса [IMessageInspector](https://msdn.microsoft.com/library/microsoft.biztalk.services.imessageinspector.aspx).</span><span class="sxs-lookup"><span data-stu-id="29ad1-202">This is implemented by the [IMessageInspector](https://msdn.microsoft.com/library/microsoft.biztalk.services.imessageinspector.aspx) interface.</span></span> <span data-ttu-id="29ad1-203">Каждая стадия моста содержит два свойства (On Enter Inspector и On Exit Inspector), предоставляющие созданный вами тип .Net, который реализует этот интерфейс.</span><span class="sxs-lookup"><span data-stu-id="29ad1-203">Each stage in the bridge includes two properties (On Enter Inspector, and On Exit Inspector) that provide the .Net type you created that implements this interface.</span></span> <span data-ttu-id="29ad1-204">Пользовательский код позволяет осуществлять более сложную обработку данных, а также повторно использовать существующий код в сборках, которые выполняют общую бизнес-логику.</span><span class="sxs-lookup"><span data-stu-id="29ad1-204">Custom code allows you to perform more complex processing on the data,  as well as reuse existing code in assemblies that perform common business logic.</span></span> 

<span data-ttu-id="29ad1-205">Служба Logic Apps предоставляет два основных способа выполнения пользовательского кода: Функции Azure и приложения API.</span><span class="sxs-lookup"><span data-stu-id="29ad1-205">Logic Apps provides two primary ways to execute custom code: Azure Functions, and API Apps.</span></span> <span data-ttu-id="29ad1-206">Функции Azure можно создавать и вызывать из приложений логики.</span><span class="sxs-lookup"><span data-stu-id="29ad1-206">Azure Functions can be created, and called from logic apps.</span></span> <span data-ttu-id="29ad1-207">См. статью [Добавление и выполнение пользовательского кода для приложений логики с помощью Функций Azure](../logic-apps/logic-apps-azure-functions.md).</span><span class="sxs-lookup"><span data-stu-id="29ad1-207">See [Add and run custom code for logic apps through Azure Functions](../logic-apps/logic-apps-azure-functions.md).</span></span> <span data-ttu-id="29ad1-208">Приложения API, часть службы приложений Azure, можно использовать для создания собственных триггеров и действий.</span><span class="sxs-lookup"><span data-stu-id="29ad1-208">Use API Apps, part of Azure App Service, to create your own triggers and actions.</span></span> <span data-ttu-id="29ad1-209">Подробнее см. в статье, посвященной [созданию пользовательского API для Logic Apps](../logic-apps/logic-apps-create-api-app.md).</span><span class="sxs-lookup"><span data-stu-id="29ad1-209">Learn more about [Creating a custom API to use with Logic Apps](../logic-apps/logic-apps-create-api-app.md).</span></span> 

<span data-ttu-id="29ad1-210">Если у вас есть пользовательский код в сборках, вызываемый из служб BizTalk, вы можете переместить этот код в Функции Azure или создать настраиваемые API с приложениями API — в зависимости от того, что требуется реализовать.</span><span class="sxs-lookup"><span data-stu-id="29ad1-210">If you have custom code in assmeblies that you call from BizTalk Services, you can either move this code to Azure Functions, or create custom APIs with API Apps; depending on what you're implementing.</span></span> <span data-ttu-id="29ad1-211">Например, если у вас есть код, служащий оболочкой для другой службы, для которой отсутствует соединитель Logic Apps, создайте приложение API и используйте действия, предоставляемые приложением API в приложении логики.</span><span class="sxs-lookup"><span data-stu-id="29ad1-211">For example, if you have code that wraps another service that Logic Apps doesn't have a connector, then create an API App, and use the actions your API app provides within your logic app.</span></span> <span data-ttu-id="29ad1-212">При наличии вспомогательных функций или библиотек можно рекомендовать использование Функций Azure.</span><span class="sxs-lookup"><span data-stu-id="29ad1-212">If you have helper functions or libraries, then Azure Functions is likely the best fit.</span></span>

### <a name="edi-processing-and-trading-partner-management"></a><span data-ttu-id="29ad1-213">Управление торговыми партнерами и обработка EDI</span><span class="sxs-lookup"><span data-stu-id="29ad1-213">EDI processing and trading partner management</span></span>
<span data-ttu-id="29ad1-214">Службы BizTalk включают обработку данных EDI и B2B с поддержкой AS2 (Applicability Statement 2), X12 и EDIFACT.</span><span class="sxs-lookup"><span data-stu-id="29ad1-214">BizTalk Services includes EDI and B2B processing with support for AS2 (Applicability Statement 2), X12, and EDIFACT.</span></span> <span data-ttu-id="29ad1-215">Служба Logic Apps также поддерживает эти возможности.</span><span class="sxs-lookup"><span data-stu-id="29ad1-215">So does Logic Apps.</span></span> <span data-ttu-id="29ad1-216">В службах BizTalk вы создаете мосты EDI и торговых партнеров/соглашения и управляете ими на выделенном портале отслеживания и управления.</span><span class="sxs-lookup"><span data-stu-id="29ad1-216">In BizTalk Services, your create EDI bridges and create/manage trading partners and agreements in the dedicated Tracking and Management portal.</span></span>

<span data-ttu-id="29ad1-217">В Logic Apps эта функция входит в состав [пакета интеграции Enterprise](../logic-apps/logic-apps-enterprise-integration-overview.md).</span><span class="sxs-lookup"><span data-stu-id="29ad1-217">In Logic Apps, this functionality is included with the [Enterprise Integration Pack](../logic-apps/logic-apps-enterprise-integration-overview.md).</span></span> <span data-ttu-id="29ad1-218">Он состоит из учетной записи интеграции и действий B2B для обработки EDI и B2B.</span><span class="sxs-lookup"><span data-stu-id="29ad1-218">This consists of the Integration Account and B2B actions for EDI and B2B processing.</span></span> <span data-ttu-id="29ad1-219">[Учетная запись интеграции](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md) используется для создания [торговых партнеров](../logic-apps/logic-apps-enterprise-integration-partners.md) и [соглашений](../logic-apps/logic-apps-enterprise-integration-agreements.md) и управления ими.</span><span class="sxs-lookup"><span data-stu-id="29ad1-219">The [Integration Account](../logic-apps/logic-apps-enterprise-integration-create-integration-account.md) is used to create and manage [trading partners](../logic-apps/logic-apps-enterprise-integration-partners.md) and [agreements](../logic-apps/logic-apps-enterprise-integration-agreements.md).</span></span> <span data-ttu-id="29ad1-220">Создав учетную запись интеграции, ее можно связать с одним или несколькими приложениями логики.</span><span class="sxs-lookup"><span data-stu-id="29ad1-220">Once you create an Integration Account, you can associate one or more logic apps to the account.</span></span> <span data-ttu-id="29ad1-221">После связывания вы можете использовать B2B-действия для доступа к информации о торговых партнерах в приложении логики.</span><span class="sxs-lookup"><span data-stu-id="29ad1-221">Once associated, you can use the B2B actions to access trading partner information within your logic app.</span></span> <span data-ttu-id="29ad1-222">Поддерживаются следующие действия:</span><span class="sxs-lookup"><span data-stu-id="29ad1-222">The following actions are provided:</span></span>

* <span data-ttu-id="29ad1-223">Кодирование AS2</span><span class="sxs-lookup"><span data-stu-id="29ad1-223">AS2 Encode</span></span>
* <span data-ttu-id="29ad1-224">Декодирование AS2</span><span class="sxs-lookup"><span data-stu-id="29ad1-224">AS2 Decode</span></span>
* <span data-ttu-id="29ad1-225">Кодирование X12</span><span class="sxs-lookup"><span data-stu-id="29ad1-225">X12 Encode</span></span>
* <span data-ttu-id="29ad1-226">Декодирование X12</span><span class="sxs-lookup"><span data-stu-id="29ad1-226">X12 Decode</span></span>
* <span data-ttu-id="29ad1-227">Кодирование EDIFACT</span><span class="sxs-lookup"><span data-stu-id="29ad1-227">EDIFACT Encode</span></span>
* <span data-ttu-id="29ad1-228">Декодирование EDIFACT</span><span class="sxs-lookup"><span data-stu-id="29ad1-228">EDIFACT Decode</span></span>

<span data-ttu-id="29ad1-229">В отличие от служб BizTalk эти действия не связаны с транспортными протоколами.</span><span class="sxs-lookup"><span data-stu-id="29ad1-229">Unlike BizTalk Services, these actions are decoupled from the transport protocols.</span></span> <span data-ttu-id="29ad1-230">Поэтому при создании приложений логики вам доступно больше вариантов соединителей, которые используются для отправки и получения данных.</span><span class="sxs-lookup"><span data-stu-id="29ad1-230">So when you create your logic apps, you have more flexibility on which connectors you use to send and receive data.</span></span> <span data-ttu-id="29ad1-231">Например, можно получать X12 файлы как вложения электронной почты, а затем обрабатывать эти файлы в приложении логики.</span><span class="sxs-lookup"><span data-stu-id="29ad1-231">For example, it's possible to receive X12 files as attachments from email, and then process these files in a logic app.</span></span> 

## <a name="manage-and-monitor"></a><span data-ttu-id="29ad1-232">Управление и мониторинг</span><span class="sxs-lookup"><span data-stu-id="29ad1-232">Manage and monitor</span></span>
<span data-ttu-id="29ad1-233">Аналогично управлению торговыми партнерами, выделенный портал служб BizTalk предоставлял возможности отслеживания для мониторинга и устранения неполадок.</span><span class="sxs-lookup"><span data-stu-id="29ad1-233">As well as trading partner management, the dedicated portal for BizTalk Services provided tracking capabilities to monitor and troubleshoot issues.</span></span> 

<span data-ttu-id="29ad1-234">Служба Logic Apps обеспечивает более широкие возможности отслеживания и мониторинга на [портале Azure](../logic-apps/logic-apps-monitor-your-logic-apps.md) и с помощью [решения B2B Operations Management Suite](../logic-apps/logic-apps-monitor-b2b-message.md), включая мобильное приложение для отслеживания системы независимо от вашего местонахождения.</span><span class="sxs-lookup"><span data-stu-id="29ad1-234">Logic Apps provides richer tracking and monitoring capabilities in the [Azure portal](../logic-apps/logic-apps-monitor-your-logic-apps.md), and with the [Operations Management Suite B2B solution](../logic-apps/logic-apps-monitor-b2b-message.md); including a mobile app for keeping an eye on things when you're on the move.</span></span>

## <a name="high-availability"></a><span data-ttu-id="29ad1-235">Высокая доступность</span><span class="sxs-lookup"><span data-stu-id="29ad1-235">High availability</span></span>
<span data-ttu-id="29ad1-236">Для достижения высокой доступности (HA) в службах BizTalk используется более одного экземпляра в данном регионе для распределения нагрузки обработки.</span><span class="sxs-lookup"><span data-stu-id="29ad1-236">To achieve high availability (HA) in BizTalk Services, you use more than one instance in a given region to share the processing load.</span></span> <span data-ttu-id="29ad1-237">В приложениях логики высокая доступность в регионе обеспечивается как встроенная функция (и не требует отдельной оплаты).</span><span class="sxs-lookup"><span data-stu-id="29ad1-237">With logic apps, in-region HA is built-in, and comes at no additional cost.</span></span> <span data-ttu-id="29ad1-238">Для аварийного восстановления за пределами региона для обработки B2B в службах BizTalk необходимо реализовать процессы резервного копирования и восстановления.</span><span class="sxs-lookup"><span data-stu-id="29ad1-238">For out-of-region disaster recovery for B2B processing in BizTalk Services, a backup and restore process is required.</span></span> <span data-ttu-id="29ad1-239">В службе Logic Apps предоставляется [возможность активного/пассивного аварийного восстановления](../logic-apps/logic-apps-enterprise-integration-b2b-business-continuity.md) в разных регионах; что позволяет выполнять синхронизацию данных B2B в учетных записях интеграции в разных регионах для обеспечения непрерывности бизнеса.</span><span class="sxs-lookup"><span data-stu-id="29ad1-239">In Logic Apps, a cross-region active/passive [DR capability](../logic-apps/logic-apps-enterprise-integration-b2b-business-continuity.md) is provided; which allows the synchronization of B2B data across Integration Accounts in different regions for business continuity.</span></span>

## <a name="next"></a><span data-ttu-id="29ad1-240">Далее</span><span class="sxs-lookup"><span data-stu-id="29ad1-240">Next</span></span>
* <span data-ttu-id="29ad1-241">Прочтите статью [Что такое приложения логики?](logic-apps-what-are-logic-apps.md)</span><span class="sxs-lookup"><span data-stu-id="29ad1-241">[What are Logic Apps](logic-apps-what-are-logic-apps.md)</span></span>
* <span data-ttu-id="29ad1-242">[Создайте свое первое приложение логики](logic-apps-create-a-logic-app.md) или приступите к работе, используя [готовый шаблон](logic-apps-use-logic-app-templates.md).</span><span class="sxs-lookup"><span data-stu-id="29ad1-242">[Create your first logic app](logic-apps-create-a-logic-app.md), or quickly get started using a [pre-built template](logic-apps-use-logic-app-templates.md)</span></span>  
* <span data-ttu-id="29ad1-243">[Просмотрите список всех доступных соединителей](../connectors/apis-list.md), которые можно использовать в приложении логики.</span><span class="sxs-lookup"><span data-stu-id="29ad1-243">[View all the available connectors](../connectors/apis-list.md) you can use in a logic app</span></span>
