---
title: "Мониторинг выполнения приложений логики и получение аналитических сведений о них с помощью OMS в Azure Logic Apps | Документация Майкрософт"
description: "Мониторинг выполнения приложений логики с помощью Log Analytics и Operations Management Suite (OMS). Получение аналитических сведений и более подробных данных отладки для устранения неполадок и диагностики."
author: divyaswarnkar
manager: anneta
editor: 
services: logic-apps
documentationcenter: 
ms.assetid: 
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/9/2017
ms.author: LADocs; divswa
ms.openlocfilehash: 8da2bc9645e432ddf0e9f627c7b5e30c44fd74b6
ms.sourcegitcommit: 963e0a2171c32903617d883bb1130c7c9189d730
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/20/2017
---
# <a name="monitor-and-get-insights-about-logic-app-runs-with-operations-management-suite-oms-and-log-analytics"></a>Мониторинг выполнения приложений логики и получение аналитических сведений о них с помощью Operations Management Suite (OMS) и Log Analytics

Для мониторинга и получения более подробных данных отладки при создании приложения логики можно включить Log Analytics. Служба Log Analytics предоставляет ведение журнала диагностики и мониторинг выполнения приложений логики на портале Operations Management Suite (OMS). При добавлении решения Logic Apps Management в OMS вы получаете обобщенные сведения о выполнении приложений логики, а также некоторые подробные данные, такие как состояние приложения, время выполнения, состояние повторной отправки и идентификаторы корреляции.

В этом разделе показано, как включить службу Log Analytics или установить решение Logic Apps Management в OMS, чтобы вы могли просматривать события и данные среды выполнения, относящиеся к выполнению ваших приложений логики.

 > [!TIP]
 > Чтобы отслеживать существующие приложения логики, выполните следующие действия для [включения ведения журнала диагностики и отправки данных среды выполнения приложений логики в OMS](../logic-apps/logic-apps-monitor-your-logic-apps.md#azure-diagnostics).

## <a name="requirements"></a>Требования

Прежде чем начать, необходимо иметь рабочую область OMS. Узнайте о том, [как создать ее](../log-analytics/log-analytics-get-started.md). 

## <a name="turn-on-diagnostics-logging-when-creating-logic-apps"></a>Включение ведения журнала диагностики при создании приложений логики

1. На [портале Azure](https://portal.azure.com) создайте приложение логики. Выберите **Создать** > **Интеграция Enterprise** > **Приложение логики** > **Создать**.

   ![Создайте приложение логики](media/logic-apps-monitor-your-logic-apps-oms/find-logic-apps-azure.png)

2. На странице **Создание приложения логики** выполните показанные ниже действия.

   1. Введите имя приложения логики и выберите подписку Azure. 
   2. Создайте или выберите существующую группу ресурсов Azure.
   3. Установите переключатель **Log Analytics** в положение **Вкл.** 
   Выберите рабочую область OMS, в которую будут отправляться данные, относящиеся к выполнению приложений логики. 
   4. Когда вы будете готовы, установите флажок **Закрепить на панели мониторинга** >  и нажмите кнопку **Создать**.

      ![Создание приложения логики](./media/logic-apps-monitor-your-logic-apps-oms/create-logic-app.png)

      По завершении этого шага Azure создает приложение логики, которое теперь связано с рабочей областью OMS. 
      На этом шаге в рабочую область OMS также автоматически устанавливается решение Logic Apps Management.

3. Чтобы просмотреть сведения о выполнении приложений логики в OMS, [выполните следующие действия](#view-logic-app-runs-oms).

## <a name="install-the-logic-apps-management-solution-in-oms"></a>Установка решения Logic Apps Management в OMS

Если вы уже включили Log Analytics при создании приложения логики, то пропустите этот шаг. Решение Logic Apps Management у вас уже установлено в OMS.

1. На [портале Azure](https://portal.azure.com) щелкните **Больше служб**. В поле поиска введите словосочетание "log analytics" в качестве фильтра и выберите **Log Analytics**, как показано ниже.

   ![Выберите "Log Analytics"](media/logic-apps-monitor-your-logic-apps-oms/find-log-analytics.png)

2. В разделе **Log Analytics** найдите и выберите рабочую область OMS. 

   ![Выбор рабочей области OMS](media/logic-apps-monitor-your-logic-apps-oms/select-logic-app.png)

3. В разделе **Управление** выберите **Портал OMS**.

   ![Выберите "Портал OMS"](media/logic-apps-monitor-your-logic-apps-oms/oms-portal-page.png)

4. Если на домашней странице OMS отображается баннер обновления, щелкните его, чтобы сначала обновить рабочую область OMS. Затем выберите **Коллекция решений**.

   ![Выбор "Коллекции решений"](media/logic-apps-monitor-your-logic-apps-oms/solutions-gallery.png)

5. В разделе **Все решения** найдите и выберите элемент решения **Logic Apps Management**.

   ![Выбор Logic Apps Management](media/logic-apps-monitor-your-logic-apps-oms/logic-apps-management-tile2.png)

6. Чтобы установить решение в рабочую область OMS, нажмите кнопку **Добавить**.

   ![Кнопка "Добавить" для Logic Apps Management](media/logic-apps-monitor-your-logic-apps-oms/add-logic-apps-management-solution.png)

<a name="view-logic-app-runs-oms"></a>

## <a name="view-your-logic-app-runs-in-your-oms-workspace"></a>Просмотр сведений о выполнении приложений логики в рабочей области OMS

1. Чтобы просмотреть число и состояние выполнений приложений логики, перейдите на страницу обзора своей рабочей области OMS. Просмотрите сведения в элементе **Logic Apps Management**.

   ![Элемент обзора, показывающий количество и состояние выполнений приложений логики](media/logic-apps-monitor-your-logic-apps-oms/overview.png)

   > [!Note]
   > Если баннер обновления отображается вместо элемента "Logic Apps Management" (Управление Logic Apps), щелкните баннер, чтобы сначала обновить рабочую область OMS.
  
   > ![Обновление рабочей области OMS](media/logic-apps-monitor-your-logic-apps-oms/oms-upgrade-banner.png)

2. Чтобы просмотреть сводку с более подробными сведениями о выполнении приложений логики, выберите элемент **Logic Apps Management**.

   Здесь сведения о выполнении приложений логики группируются по имени или по состоянию выполнения. Также можно просмотреть сведения о сбоях в действиях или триггерах для выполнений приложения логики.

   ![Сводные данные о состоянии выполнения приложений логики](media/logic-apps-monitor-your-logic-apps-oms/logic-apps-runs-summary.png)
   
3. Чтобы просмотреть все сведения о выполнении конкретного приложения логики или о конкретном состоянии, выберите строку с соответствующим приложением логики или состоянием.

   Ниже приведен пример, в котором показаны все сведения о выполнении конкретного приложения логики.

   ![Просмотр сведений о выполнении по приложению логики или по состоянию](media/logic-apps-monitor-your-logic-apps-oms/logic-app-run-details.png)

   На этой странице доступны два дополнительных параметра:
   * **Tracked properties** (Отслеживаемые свойства). В этом столбце отображаются отслеживаемые свойства для приложения логики, которые группируются по действиям. Чтобы просмотреть отслеживаемые свойства, щелкните **Просмотреть**. Для поиска отслеживаемых свойств можно использовать фильтр столбцов.
   
     ![Просмотр отслеживаемых свойств для приложения логики](media/logic-apps-monitor-your-logic-apps-oms/logic-app-tracked-properties.png)

     Прежде чем любое новое добавленное отслеживаемое свойство появится впервые, может пройти 10–15 минут. Узнайте, [как добавить отслеживаемые свойства в приложение логики](logic-apps-monitor-your-logic-apps.md#azure-diagnostics-event-settings-and-details).

   * **Отправить повторно**. Можно повторно отправить одно или несколько выполнений приложения логики, завершившихся сбоем, выполненных успешно или все еще выполняемых. Установите флажки для выполнений, которые необходимо отправить повторно, и щелкните **Отправить повторно**. 

     ![Повторная отправка выполнений приложения логики](media/logic-apps-monitor-your-logic-apps-oms/logic-app-resubmit.png)

4. Чтобы отфильтровать эти результаты, можно применить фильтр как на стороне клиента, так и на стороне сервера.

   * Клиентский фильтр: для каждого столбца выберите необходимые фильтры. 
   Ниже приведены некоторые примеры:

     ![Пример фильтров столбцов](media/logic-apps-monitor-your-logic-apps-oms/filters.png)

   * Серверный фильтр: чтобы выбрать определенное временное окно или ограничить отображаемое количество выполнений, воспользуйтесь элементом ограничения области в верхней части страницы. 
   По умолчанию за раз отображается только 1000 записей. 
   
     ![Изменение временного окна](media/logic-apps-monitor-your-logic-apps-oms/change-interval.png)
 
5. Чтобы просмотреть все действия и сведения о них для определенного выполнения приложения логики, выберите его строку.

   Ниже приведен пример, в котором показаны все действия при определенном выполнении приложения логики.

   ![Просмотр действий для выполнения приложения логики](media/logic-apps-monitor-your-logic-apps-oms/logic-app-action-details.png)
   
6. На любой странице результатов, чтобы просмотреть результаты запроса или все результаты, щелкните элемент **Показать все**, которая открывает страницу "Поиск по журналу".
   
   ![Элемент "Показать все" на странице "Результаты"](media/logic-apps-monitor-your-logic-apps-oms/logic-app-seeall.png)
   
   На странице "Поиск по журналу" сделайте следующее.
   * Чтобы просмотреть результаты запроса в таблице, выберите **Таблица**.
   * Чтобы изменить запрос, отредактируйте строку запроса на панели поиска. 
   Для доступа к дополнительным функциональным возможностям выберите **Расширенная аналитика**.

     ![Просмотр действий и сведений о них для выполнения приложения логики](media/logic-apps-monitor-your-logic-apps-oms/log-search-page.png)
     
     На открывшейся странице Azure Log Analytics можно обновить запросы и просмотреть результаты из таблицы. 
     В этом запросе используется [язык запросов Kusto](https://docs.loganalytics.io/docs/Language-Reference), который можно изменять, если требуется просмотреть другие результаты. 

     ![Представление запросов в Azure Log Analytics](media/logic-apps-monitor-your-logic-apps-oms/query.png)

## <a name="next-steps"></a>Дальнейшие действия

* [Мониторинг сообщений B2B](../logic-apps/logic-apps-monitor-b2b-message.md)

