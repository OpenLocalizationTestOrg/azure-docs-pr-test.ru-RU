---
title: "aaaAS2 сообщения для интеграции корпоративных B2B - приложения логики Azure | Документы Microsoft"
description: "Обмен сообщениями AS2 для интеграции с предприятием B2B с помощью Azure Logic Apps"
services: logic-apps
documentationcenter: .net,nodejs,java
author: MandiOhlinger
manager: anneta
editor: 
ms.assetid: c9b7e1a9-4791-474c-855f-988bd7bf4b7f
ms.service: logic-apps
ms.workload: integration
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/08/2017
ms.author: LADocs; mandia
ms.openlocfilehash: 23f9d74dd0ad807e9cdaedb320d60496cfef9bc3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="exchange-as2-messages-for-enterprise-integration-with-logic-apps"></a>Обмен сообщениями AS2 для интеграции с предприятием с помощью приложений логики

Прежде чем вы начнете обмениваться сообщениями AS2 с помощью Azure Logic Apps, нужно создать соглашение AS2 и сохранить его в вашей учетной записи интеграции. Ниже приведены шаги hello, описывающие соглашения toocreate AS2.

## <a name="before-you-start"></a>Перед началом работы

Вот hello необходимых элементов.

* [учетная запись интеграции](../logic-apps/logic-apps-enterprise-integration-accounts.md), которая уже определена и связана с подпиской Azure;
* По крайней мере два [партнеров](logic-apps-enterprise-integration-partners.md) , уже определенных в вашей учетной записи интеграции и настроен с квалификатором hello AS2 под **бизнес-идентификаторы**

> [!NOTE]
> При создании соглашения hello содержимое файла соглашения hello должен соответствовать типу соглашение hello.    

После [создания учетной записи интеграции](../logic-apps/logic-apps-enterprise-integration-accounts.md) и [добавления партнеров](logic-apps-enterprise-integration-partners.md) вы можете создать соглашение AS2. Следуйте действиям, описанным ниже.

## <a name="create-an-as2-agreement"></a>Создание соглашения AS2

1.  Войдите в toohello [портал Azure](http://portal.azure.com "портал Azure").  

2.  Hello в левом меню, выберите **дополнительные службы**. Введите в поле поиска hello, **интеграции** фильтра. В списке результатов hello выберите **учетные записи службы интеграции**.

    > [!TIP]
    > Если вы не видите **больше услуг**, может потребоваться меню hello tooexpand сначала. Вверху hello hello свернуты меню, выберите **меню Показ**.

    ![Дополнительные службы, выполните фильтрацию по "интеграция" и выберите "Учетные записи интеграции"](./media/logic-apps-enterprise-integration-agreements/overview-1.png)

3. В hello **учетные записи службы интеграции** колонку, которая открывает учетной записи выберите hello интеграции место toocreate hello соглашения.
Если вы не видите учетные записи интеграции, [сначала создайте учетную запись](../logic-apps/logic-apps-enterprise-integration-accounts.md "Все об учетных записях интеграции").  

    ![Выберите учетную запись интеграции hello, где toocreate hello соглашения](./media/logic-apps-enterprise-integration-overview/overview-3.png)

4. Выберите hello **соглашения** плитки. Если у вас нет соглашения плитки, сначала добавьте плитки приветствия.

    ![Выбор плитки "Соглашения"](./media/logic-apps-enterprise-integration-agreements/agreement-1.png)

5. В колонке hello соглашения, которое открывается, выберите **добавить**.

    ![Кнопка "Добавить"](./media/logic-apps-enterprise-integration-agreements/agreement-2.png)

6. В колонке **Добавить** введите **имя** соглашения. Для **типа соглашения** выберите **AS2**. Выберите hello **размещаемый партнер**, **удостоверение узла**, **гостевой партнер**, и **удостоверение гостевой** для соглашения.

    ![Сведения о соглашении](./media/logic-apps-enterprise-integration-agreements/agreement-3.png)  

    | Свойство | Описание |
    | --- | --- |
    | Имя |Имя соглашения hello |
    | Тип соглашения | AS2 |
    | "Host Partner" (Главный партнер) |Для соглашения нужно указать главного партнера и партнера-гостя. размещаемый партнер Hello представляет hello организации, которая настраивает соглашение hello. |
    | "Host Identity" (Идентификатор главного партнера) |Идентификатор для hello размещаемый партнер |
    | "Guest Partner" (Партнер-гость) |Для соглашения нужно указать главного партнера и партнера-гостя. гостевой партнер Hello представляет hello организации, которая сотрудничество hello размещаемый партнер. |
    | Guest Identity |Идентификатор для hello гостевого партнера |
    | "Receive Settings" (Параметры получения) |Эти свойства применяются tooall сообщений, полученных соглашения. |
    | "Send Settings" (Параметры отправки) |Эти свойства применяются tooall сообщения, отправленные соглашения. |

## <a name="configure-how-your-agreement-handles-received-messages"></a>Настройка обработки полученных сообщений соглашением

Теперь, когда устанавливается свойств соглашения hello, можно настроить как настоящее соглашение определяет и обрабатывает входящие сообщения, полученного от партнера по настоящему соглашению.

1.  В колонке **Добавить** выберите **Настройки получения**.
Настройка этих свойств на основе вашего соглашения с партнером hello, которая обменивается сообщениями с вами. Для описания свойств см. таблицу hello в этом разделе.

    ![Раздел "Настройки получения"](./media/logic-apps-enterprise-integration-agreements/agreement-4.png)

2. При необходимости можно переопределить свойства входящих сообщений hello, выбрав **переопределить свойства сообщения**.

3. toorequire все входящие сообщения toobe подписан, выберите **сообщение должно быть подписано**. Из hello **сертификат** выберите существующий [гостевой партнер открытый сертификат](../logic-apps/logic-apps-enterprise-integration-certificates.md) для проверки подписи hello сообщений hello. Или создайте сертификат hello, если у вас его нет.

4.  Выберите все входящие сообщения шифруются, toobe toorequire **сообщение должно быть зашифровано**. Из hello **сертификат** выберите существующий [закрытый сертификат узла партнера](../logic-apps/logic-apps-enterprise-integration-certificates.md) для расшифровки входящих сообщений. Или создайте сертификат hello, если у вас его нет.

5. Выберите toobe сообщения toorequire сжаты, **сообщение должно быть сжато**.

6. Выберите toosend уведомление disposition синхронное сообщение (MDN) для полученных сообщений **отправлять MDN**.

7. toosend подписанные MDN для полученных сообщений, **отправлять подписанные MDN**.

8. Выберите асинхронных MDN для полученных сообщений toosend **отправлять асинхронные MDN**.

9. После завершения операции, необходимые toosave убедиться, что параметры, выбрав **ОК**.

Теперь ваше соглашение готов toohandle входящих сообщений, которые соответствуют tooyour выбранные параметры.

| Свойство | Описание |
| --- | --- |
| Override message properties |Указывает, что свойства в полученных сообщениях могут быть переопределены. |
| Message should be signed |Требуется toobe сообщения с цифровой подписью. Настройте hello гостевой партнер открытый сертификат для проверки подписи.  |
| Message should be encrypted |Требуется шифрование toobe сообщений. Незашифрованные сообщения будут отклонены. Настройка закрытого сертификата hello узла партнера для расшифровки сообщений hello.  |
| Message should be compressed |Требуется toobe сообщений сжаты. В противном случае сообщения будут отклонены. |
| "MDN Text" (Текст MDN) |по умолчанию сообщение Hello метода обработки-toobe уведомления (MDN) отправляются toohello отправителя сообщения. |
| "Send MDN" (Отправлять MDN) |Требуется отправляемых toobe MDN. |
| "Send signed MDN" (Отправлять MDN с подписью) |Требуется подпись toobe MDN. |
| "MIC Algorithm" (Алгоритм контроля целостности учетных данных) |Выберите toouse hello алгоритм для подписывания сообщений. |
| "Send asynchronous MDN" (Отправлять асинхронные MDN) | Требуется toobe сообщения, отправленного асинхронно. |
| URL-адрес | Укажите URL-адрес hello, где toosend hello MDN. |

## <a name="configure-how-your-agreement-sends-messages"></a>Настройка отправки сообщений соглашением

Можно настроить как настоящее соглашение определяет и обрабатывает исходящих сообщений, отправляемых tooyour партнеров по настоящему соглашению.

1.  В колонке **Добавить** выберите **Настройки отправки**.
Настройка этих свойств на основе вашего соглашения с партнером hello, которая обменивается сообщениями с вами. Для описания свойств см. таблицу hello в этом разделе.

    ![Задать свойства «Параметры отправки» hello](./media/logic-apps-enterprise-integration-agreements/agreement-51.png)

2. toosend подписанных сообщений tooyour партнера, выберите **включить подпись сообщений**. Для подписи сообщения hello hello **алгоритм MIC** список, выберите hello *закрытый сертификат узла партнера алгоритм MIC*. И в hello **сертификат** выберите существующий [закрытый сертификат узла партнера](../logic-apps/logic-apps-enterprise-integration-certificates.md).

3. toosend зашифрованные сообщения toohello партнера, выберите **включить шифрование сообщений**. Для шифрования сообщений hello, в hello **алгоритм шифрования** список, выберите hello *гостевой партнер открытый сертификат алгоритм*.
И в hello **сертификат** выберите существующий [гостевой партнер открытый сертификат](../logic-apps/logic-apps-enterprise-integration-certificates.md).

4. toocompress приветственное сообщение, выберите **включить сжатие сообщений**.

5. Заголовок content-type toounfold hello HTTP в одну строку, выберите **заголовки Unfold HTTP**.

6. tooreceive синхронной MDN для hello отправленные сообщения, выберите **запроса MDN**.

7. tooreceive подписанные MDN для сообщений, отправленных hello, выберите **запрашивать подписанные MDN**.

8. tooreceive асинхронных MDN для hello отправленные сообщения, выберите **запрашивать асинхронные MDN**. Если выбран этот параметр, введите URL-адрес hello где toosend hello MDN.

9. Выберите toorequire неотказуемость получения, **включить NRR**.  

10. toouse формат toospecify алгоритма в hello MIC или входа hello Исходящие заголовки сообщения hello AS2 или MDN, выберите **формата алгоритма SHA2**.  

11. После завершения операции, необходимые toosave убедиться, что параметры, выбрав **ОК**.

Теперь ваше соглашение — Готово toohandle исходящих сообщений, которые соответствуют tooyour выбранные параметры.

| Свойство | Описание |
| --- | --- |
| "Enable message signing" (Включить подписание сообщений) |Требуется все сообщения, отправленные из toobe соглашение hello подписи. |
| "MIC Algorithm" (Алгоритм контроля целостности учетных данных) |Здравствуйте, toouse алгоритм для подписывания сообщений. Настраивает hello узла партнера закрытый сертификат алгоритм MIC для подписи сообщений hello. |
| Сертификат |Выберите toouse hello сертификат для подписи сообщений. Настраивает hello узла партнера закрытый сертификат для подписи сообщений hello. |
| "Enable message encryption" (Включить шифрование сообщений) |Указывает, что все сообщения, отправляемые посредством соглашения, должны быть зашифрованы. Настраивает алгоритм hello гостевой партнер открытый сертификат для шифрования сообщений hello. |
| "Encryption Algorithm" (Алгоритм шифрования) |Здравствуйте, toouse алгоритм шифрования для шифрования сообщения. Настраивает hello гостевой партнер открытый сертификат для шифрования сообщений hello. |
| Сертификат |сообщения tooencrypt toouse Hello сертификата. Настраивает hello гостевого партнера закрытый сертификат для шифрования сообщений hello. |
| Включить сжатие сообщений |Указывает, что все сообщения, отправляемые посредством соглашения, должны быть сжаты. |
| "Unfold HTTP headers" (Развернуть заголовки HTTP) |Помещает hello заголовок content-type HTTP в одну строку. |
| "Request MDN" (Запрашивать MDN) |Указывает, что для всех сообщений, отправляемые посредством соглашения, требуется уведомление о состоянии сообщения. |
| "Request signed MDN" (Запрашивать подписанные MDN) |Требуется все MDN, отправляемых toothis соглашение toobe подписи. |
| "Request asynchronous MDN" (Запрашивать асинхронные MDN) |Требуется соглашение toothis toobe отправки асинхронных MDN. |
| URL-адрес |Укажите URL-адрес hello, где toosend hello MDN. |
| "Enable NRR" (Включить NRR) |Требуется неотказуемость получения (NRR), атрибут связи, который предоставляет свидетельство hello данных было получено решает. |
| Параметр "Формат алгоритма SHA2" |Выбор алгоритма toouse формат в hello MIC или входа hello Исходящие заголовки сообщения AS2 hello или MDN |

## <a name="find-your-created-agreement"></a>Поиск созданного соглашения

1.  После завершения настройки всех свойств соглашения, hello **добавить** колонке выберите **ОК** toofinish создания соглашения и учетной записи колонке возвращаемого tooyour интеграции.

    В списке **Соглашения** появится созданное соглашение.

2.  Вы также можете просмотреть соглашения в обзоре учетной записи интеграции. В вашей учетной записи колонке интеграции выберите **Обзор**, а затем выберите hello **соглашения** плитки. 

    ![Выберите все соглашения tooview плитки «Соглашения»](./media/logic-apps-enterprise-integration-agreements/agreement-6.png)

## <a name="view-hello-swagger"></a>Представление hello swagger
В разделе hello [swagger сведения](/connectors/as2/). 

## <a name="next-steps"></a>Дальнейшие действия
* [Дополнительные сведения о hello пакет интеграции Enterprise](logic-apps-enterprise-integration-overview.md "Дополнительные сведения о пакет интеграции Enterprise")  
