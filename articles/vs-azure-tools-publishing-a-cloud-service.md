---
title: "aaaPublishing облачной службы, с помощью средства Azure hello | Документы Microsoft"
description: "Узнайте, как toopublish Azure облачной службы проектов с помощью Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 1a07b6e4-3678-4cbf-b37e-4520b402a3d9
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/14/2017
ms.author: kraigb
ms.openlocfilehash: 31ede8308146de2bb128b768f23f64eb85bc7548
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="publishing-a-cloud-service-using-hello-azure-tools"></a><span data-ttu-id="f3449-103">Публикация облачной службы с помощью средства Azure hello</span><span class="sxs-lookup"><span data-stu-id="f3449-103">Publishing a Cloud Service using hello Azure Tools</span></span>
<span data-ttu-id="f3449-104">С помощью средств hello Azure для Microsoft Visual Studio, можно опубликовать приложение Azure прямо из Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="f3449-104">By using hello Azure Tools for Microsoft Visual Studio, you can publish your Azure application directly from Visual Studio.</span></span> <span data-ttu-id="f3449-105">Интеграции Visual Studio поддерживает публикации tooeither hello промежуточной или рабочей среде для облачной службы hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-105">Visual Studio supports integrated publishing tooeither hello Staging or hello Production environment of a cloud service.</span></span>

<span data-ttu-id="f3449-106">Чтобы опубликовать приложение Azure, нужно иметь подписку Azure.</span><span class="sxs-lookup"><span data-stu-id="f3449-106">Before you can publish an Azure application, you must have an Azure subscription.</span></span> <span data-ttu-id="f3449-107">Необходимо также настроить облачной службы и хранилища учетной записи toobe, используемого приложением.</span><span class="sxs-lookup"><span data-stu-id="f3449-107">You must also set up a cloud service and storage account toobe used by your application.</span></span> <span data-ttu-id="f3449-108">Их можно настроить в hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="f3449-108">You can set these up at hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f3449-109">При публикации, можно выбрать hello среду развертывания для облачной службы.</span><span class="sxs-lookup"><span data-stu-id="f3449-109">When you publish, you can select hello deployment environment for your cloud service.</span></span> <span data-ttu-id="f3449-110">Также необходимо выбрать учетную запись хранилища, которая является пакета приложения hello toostore используется для развертывания.</span><span class="sxs-lookup"><span data-stu-id="f3449-110">You must also select a storage account that is used toostore hello application package for deployment.</span></span> <span data-ttu-id="f3449-111">После развертывания пакета приложения hello удаляется из учетной записи хранения hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-111">After deployment, hello application package is removed from hello storage account.</span></span>
> 
> 

<span data-ttu-id="f3449-112">После разработки и тестирования приложения Azure можно использовать веб-развертывания toopublish изменения постепенно веб-ролей.</span><span class="sxs-lookup"><span data-stu-id="f3449-112">When you are developing and testing an Azure application, you can use Web Deploy toopublish changes incrementally for your web roles.</span></span> <span data-ttu-id="f3449-113">После публикации среды развертывания tooa приложения веб-развертывания позволяет развертывать изменения непосредственно toohello запущена виртуальная машина, hello веб-роли.</span><span class="sxs-lookup"><span data-stu-id="f3449-113">After you publish your application tooa deployment environment, Web Deploy lets you deploy changes directly toohello virtual machine that is running hello web role.</span></span> <span data-ttu-id="f3449-114">Вы не имеют toopackage и публиковать все приложение Azure необходимо tooupdate вашей tootest роли web hello изменений каждый раз.</span><span class="sxs-lookup"><span data-stu-id="f3449-114">You do not have toopackage and publish your entire Azure application each time you want tooupdate your web role tootest out hello changes.</span></span> <span data-ttu-id="f3449-115">Такой подход может иметь вашей изменения веб-роли доступны в облаке hello для тестирования без ожидания toohave среды развертывания tooa опубликованного приложения.</span><span class="sxs-lookup"><span data-stu-id="f3449-115">With this approach you can have your web role changes available in hello cloud for testing without waiting toohave your application published tooa deployment environment.</span></span>

<span data-ttu-id="f3449-116">Используйте следующие процедуры toopublish hello приложения Azure и tooupdate веб-роли с помощью веб-развертывания:</span><span class="sxs-lookup"><span data-stu-id="f3449-116">Use hello following procedures toopublish your Azure application and tooupdate a web role by using Web Deploy:</span></span>

* <span data-ttu-id="f3449-117">Опубликуйте и упакуйте приложение Azure из Visual Studio</span><span class="sxs-lookup"><span data-stu-id="f3449-117">Publish or Package an Azure application from Visual Studio</span></span>
* <span data-ttu-id="f3449-118">Обновить веб роль как часть разработки hello и цикла тестирования</span><span class="sxs-lookup"><span data-stu-id="f3449-118">Update a web role as part of hello development and testing cycle</span></span>

## <a name="publish-or-package-an-azure-application-from-visual-studio"></a><span data-ttu-id="f3449-119">Опубликуйте и упакуйте приложение Azure из Visual Studio</span><span class="sxs-lookup"><span data-stu-id="f3449-119">Publish or Package an Azure Application from Visual Studio</span></span>
<span data-ttu-id="f3449-120">При публикации приложения Azure, можно выполнить одну из hello следующие задачи:</span><span class="sxs-lookup"><span data-stu-id="f3449-120">When you publish your Azure application, you can do one of hello following tasks:</span></span>

* <span data-ttu-id="f3449-121">Создание пакета службы: можно использовать этот пакет и hello службы конфигурации файла toopublish среды развертывания приложения tooa из hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="f3449-121">Create a service package: You can use this package and hello service configuration file toopublish your application tooa deployment environment from hello [Azure Classic Portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
* <span data-ttu-id="f3449-122">Публикация проекта Azure из Visual Studio: toopublish hello приложение напрямую tooAzure, используйте мастер публикации.</span><span class="sxs-lookup"><span data-stu-id="f3449-122">Publish your Azure project from Visual Studio: toopublish your application directly tooAzure, you use hello Publish Wizard.</span></span> <span data-ttu-id="f3449-123">Дополнительную информацию см. в статье [Мастер публикации приложений Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="f3449-123">For information, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="toocreate-a-service-package-from-visual-studio"></a><span data-ttu-id="f3449-124">toocreate пакета службы из Visual Studio</span><span class="sxs-lookup"><span data-stu-id="f3449-124">toocreate a service package from Visual Studio</span></span>
1. <span data-ttu-id="f3449-125">При готовности toopublish приложение, откройте обозреватель решений, Привет открыть контекстное меню для проекта Azure, который содержит роли, hello и выберите "Опубликовать".</span><span class="sxs-lookup"><span data-stu-id="f3449-125">When you are ready toopublish your application, open Solution Explorer, open hello shortcut menu for hello Azure project that contains your roles, and choose Publish.</span></span>
2. <span data-ttu-id="f3449-126">toocreate пакет службы, выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="f3449-126">toocreate a service package only, follow these steps:</span></span>  
   
   1. <span data-ttu-id="f3449-127">Hello Azure hello контекстном меню проекта, выбор **пакета**.</span><span class="sxs-lookup"><span data-stu-id="f3449-127">On hello shortcut menu for hello Azure project, choose **Package**.</span></span>
   2. <span data-ttu-id="f3449-128">В hello **пакета приложения Azure** диалоговое окно, выберите hello конфигурации службы, для которого требуется toocreate пакета и затем выберите конфигурацию построения hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-128">In hello **Package Azure Application** dialog box, choose hello service configuration for which you want toocreate a package, and then choose hello build configuration.</span></span>
   3. <span data-ttu-id="f3449-129">(необязательно) tooturn на удаленный рабочий стол для hello облачной службы после ее публикации, выберите hello **включить удаленный рабочий стол для всех ролей** флажок, а затем выберите **параметры** tooconfigure удаленного рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="f3449-129">(optional) tooturn on Remote Desktop for hello cloud service after you publish it, select hello **Enable Remote Desktop for all Roles** check box, and then select **Settings** tooconfigure Remote Desktop.</span></span> <span data-ttu-id="f3449-130">Если требуется toodebug облачной службы после ее публикации, включите удаленную отладку, выбрав **включить удаленный отладчик для всех ролей**.</span><span class="sxs-lookup"><span data-stu-id="f3449-130">If you want toodebug your cloud service after you publish it, turn on remote debugging by selecting **Enable Remote Debugger for all Roles**.</span></span>
      
      <span data-ttu-id="f3449-131">Дополнительную информацию см. в статье [Использование удаленного рабочего стола с ролями Azure](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="f3449-131">For more information, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
   4. <span data-ttu-id="f3449-132">toocreate hello пакет, выберите hello **пакета** ссылку.</span><span class="sxs-lookup"><span data-stu-id="f3449-132">toocreate hello package, choose hello **Package** link.</span></span>
      
      <span data-ttu-id="f3449-133">Проводник показывает расположение файла hello hello созданного пакета.</span><span class="sxs-lookup"><span data-stu-id="f3449-133">File Explorer shows hello file location of hello newly created package.</span></span> <span data-ttu-id="f3449-134">Можно скопировать это расположение, чтобы вы могли использовать из hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="f3449-134">You can copy this location so that you can use it from hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   5. <span data-ttu-id="f3449-135">toopublish этой среды развертывания пакета tooa необходимо использовать это расположение, как hello расположения пакета при создании облачной службы и развертывание этой среды tooan пакета с hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="f3449-135">toopublish this package tooa deployment environment, you must use this location as hello Package location when you create a cloud service and deploy this package tooan environment with hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
3. <span data-ttu-id="f3449-136">Выберите процесс развертывания hello (необязательно) toocancel на hello контекстное меню для элемента строки hello в журнале активности hello, **"Отмена" и удалите**.</span><span class="sxs-lookup"><span data-stu-id="f3449-136">(Optional) toocancel hello deployment process, on hello shortcut menu for hello line item in hello activity log, choose **Cancel and remove**.</span></span> <span data-ttu-id="f3449-137">Это останавливает процесс развертывания hello и удаляет среду развертывания hello из Azure.</span><span class="sxs-lookup"><span data-stu-id="f3449-137">This stops hello deployment process and deletes hello deployment environment from Azure.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="f3449-138">tooremove был этой среды развертывания после его развертывания необходимо использовать hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="f3449-138">tooremove this deployment environment after it has been deployed, you must use hello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span>
   > 
   > 
4. <span data-ttu-id="f3449-139">(Необязательно) После запуска экземпляров ролей Visual Studio автоматически отображает среду развертывания hello в hello **облачные службы** узел в обозревателе серверов.</span><span class="sxs-lookup"><span data-stu-id="f3449-139">(Optional) After your role instances have started, Visual Studio automatically shows hello deployment environment in hello **Cloud Services** node in Server Explorer.</span></span> <span data-ttu-id="f3449-140">Здесь вы увидите состояние hello hello отдельных экземпляров ролей.</span><span class="sxs-lookup"><span data-stu-id="f3449-140">From here, you can see hello status of hello individual role instances.</span></span> <span data-ttu-id="f3449-141">В разделе [Azure управление ресурсами с помощью Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md).hello следующие рисунке показаны экземпляры роли hello они находятся в состоянии Initializing hello:</span><span class="sxs-lookup"><span data-stu-id="f3449-141">See [Managing Azure resources with Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md).hello following illustration shows hello role instances while they are still in hello Initializing state:</span></span>
   
    ![VST_DeployComputeNode](./media/vs-azure-tools-publishing-a-cloud-service/IC744134.png)

## <a name="update-a-web-role-as-part-of-hello-development-and-testing-cycle"></a><span data-ttu-id="f3449-143">Обновить веб роль как часть hello разработку и тестирование цикла</span><span class="sxs-lookup"><span data-stu-id="f3449-143">Update a Web Role as Part of hello Development and Testing Cycle</span></span>
<span data-ttu-id="f3449-144">Если ваше приложение серверная инфраструктура стабильна, но hello веб-ролей требуется более частое обновление, можно использовать веб-развертывания tooupdate веб-роли в проекте.</span><span class="sxs-lookup"><span data-stu-id="f3449-144">If your app’s backend infrastructure is stable, but hello web roles need more frequent updating, you can use Web Deploy tooupdate only a web role in your project.</span></span> <span data-ttu-id="f3449-145">Это удобно в том случае, если не требуется toorebuild и повторно развернуть hello серверные рабочие роли или имеется несколько веб-ролей и требуется только один из веб-ролей hello tooupdate.</span><span class="sxs-lookup"><span data-stu-id="f3449-145">This is handy when you don’t want toorebuild and redeploy hello backend worker roles, or if you have multiple web roles and you want tooupdate only one of hello web roles.</span></span>

### <a name="requirements"></a><span data-ttu-id="f3449-146">Требования</span><span class="sxs-lookup"><span data-stu-id="f3449-146">Requirements</span></span>
<span data-ttu-id="f3449-147">Ниже приведены tooupdate веб-развертывания toouse hello требования к веб-роли.</span><span class="sxs-lookup"><span data-stu-id="f3449-147">Here are hello requirements toouse Web Deploy tooupdate your web role:</span></span>

* <span data-ttu-id="f3449-148">**Разработка и тестирование только в целях:** hello внесения изменений непосредственно виртуальной машине toohello запущенным hello веб-роли.</span><span class="sxs-lookup"><span data-stu-id="f3449-148">**For development and testing purposes only:** hello changes are made directly toohello virtual machine where hello web role is running.</span></span> <span data-ttu-id="f3449-149">Если эта виртуальная машина имеет toobe перезапуска, hello изменения будут потеряны, поскольку hello исходный пакет, который вы опубликовали используется toorecreate hello виртуальной машины для роли hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-149">If this virtual machine has toobe recycled, hello changes are lost because hello original package that you published is used toorecreate hello virtual machine for hello role.</span></span> <span data-ttu-id="f3449-150">Необходимо заново опубликовать приложение tooget hello последние изменения для hello веб-роли.</span><span class="sxs-lookup"><span data-stu-id="f3449-150">You must republish your application tooget hello latest changes for hello web role.</span></span>
* <span data-ttu-id="f3449-151">**Можно обновлять только веб-роли.** Рабочие роли не обновляются.</span><span class="sxs-lookup"><span data-stu-id="f3449-151">**Only web roles can be updated:** Worker roles can’t be updated.</span></span> <span data-ttu-id="f3449-152">Кроме того невозможно обновить hello RoleEntryPoint в файле WebRole.cs.</span><span class="sxs-lookup"><span data-stu-id="f3449-152">In addition, you can’t update hello RoleEntryPoint in web role.cs.</span></span>
* <span data-ttu-id="f3449-153">**Возможна поддержка только одного экземпляра веб-роли.** Ни одна роль не может существовать в среде развертывания в нескольких экземплярах.</span><span class="sxs-lookup"><span data-stu-id="f3449-153">**Can only support a single instance of a web role:** You can’t have multiple instances of any web role in your deployment environment.</span></span> <span data-ttu-id="f3449-154">При этом несколько веб-ролей с одним экземпляром поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="f3449-154">However, multiple web roles each with only one instance are supported.</span></span>
* <span data-ttu-id="f3449-155">**Необходимо включить удаленный рабочий стол:** это необходимо, чтобы веб-развертывания можно использовать hello пользователя и пароль tooconnect toohello виртуальной машины toodeploy hello изменения toohello сервера, на котором работает сервер Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="f3449-155">**You must enable remote desktop connections:** This is required so that Web Deploy can use hello user and password tooconnect toohello virtual machine toodeploy hello changes toohello server that’s running Internet Information Services (IIS).</span></span> <span data-ttu-id="f3449-156">Кроме того может потребоваться tooconnect toohello tooadd tooIIS доверенных сертификатов на эту виртуальную машину для виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="f3449-156">In addition, you might need tooconnect toohello virtual machine tooadd a trusted certificate tooIIS on this virtual machine.</span></span> <span data-ttu-id="f3449-157">(Это гарантирует, что защищен hello удаленного подключения для служб IIS, используемый веб-развертывания).</span><span class="sxs-lookup"><span data-stu-id="f3449-157">(This ensures that hello remote connection for IIS that is used by Web Deploy is secure.)</span></span>

<span data-ttu-id="f3449-158">Hello следующей процедуре предполагается, что вы используете hello **публикации приложения Azure** мастера.</span><span class="sxs-lookup"><span data-stu-id="f3449-158">hello following procedure assumes that you are using hello **Publish Azure Application** wizard.</span></span>

### <a name="tooenable-web-deploy-when-you-publish-your-application"></a><span data-ttu-id="f3449-159">tooEnable Web развертывания при при публикации приложения</span><span class="sxs-lookup"><span data-stu-id="f3449-159">tooEnable Web Deploy When You Publish Your Application</span></span>
1. <span data-ttu-id="f3449-160">tooenable hello **включить веб-развертывание** для всех веб-ролей флажок, необходимо сначала настроить подключения удаленного рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="f3449-160">tooenable hello **Enable Web Deploy** for all web roles check box, you must first configure remote desktop connections.</span></span> <span data-ttu-id="f3449-161">Выберите **включить удаленный рабочий стол** для всех ролей и затем hello питания учетные данные, которые будут использоваться tooconnect удаленно в hello **конфигурация удаленного рабочего стола** появившемся диалоговом окне.</span><span class="sxs-lookup"><span data-stu-id="f3449-161">Select **Enable Remote Desktop** for all roles and then supply hello credentials that will be used tooconnect remotely in hello **Remote Desktop Configuration** box that appears.</span></span> <span data-ttu-id="f3449-162">Дополнительную информацию см. в статье [Использование удаленного рабочего стола с ролями Azure](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="f3449-162">See [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md) for more information.</span></span>
2. <span data-ttu-id="f3449-163">tooenable веб-развертывание для всех hello веб-ролей в приложении, выберите **включить веб-развертывание для всех веб-ролей**.</span><span class="sxs-lookup"><span data-stu-id="f3449-163">tooenable Web Deploy for all hello web roles in your application, select **Enable Web Deploy for all web roles**.</span></span>
   
    <span data-ttu-id="f3449-164">Появится желтый предупредительный треугольник.</span><span class="sxs-lookup"><span data-stu-id="f3449-164">A yellow warning triangle appears.</span></span> <span data-ttu-id="f3449-165">Веб-развертывание использует недоверенный, самозаверяющий сертификат по умолчанию, который не рекомендуется для передачи конфиденциальных данных.</span><span class="sxs-lookup"><span data-stu-id="f3449-165">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="f3449-166">Если вам требуется toosecure этот процесс для конфиденциальных данных, можно добавить toobe сертификат SSL, используемый для подключения к веб-развертывания.</span><span class="sxs-lookup"><span data-stu-id="f3449-166">If you need toosecure this process for sensitive data, you can add a SSL certificate toobe used for Web Deploy connections.</span></span> <span data-ttu-id="f3449-167">Этот сертификат должен toobe доверенных сертификатов.</span><span class="sxs-lookup"><span data-stu-id="f3449-167">This certificate needs toobe a trusted certificate.</span></span> <span data-ttu-id="f3449-168">Сведения о том, как toodo, hello в разделе **tooMake развертывание Secure Web** далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="f3449-168">For information about how toodo this, see hello section **tooMake Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="f3449-169">Выберите **Далее** tooshow hello **Сводка** экрана, а затем выберите **публикации** toodeploy hello облачной службы.</span><span class="sxs-lookup"><span data-stu-id="f3449-169">Choose **Next** tooshow hello **Summary** screen, and then choose **Publish** toodeploy hello cloud service.</span></span>
   
    <span data-ttu-id="f3449-170">Hello облачная служба будет опубликована.</span><span class="sxs-lookup"><span data-stu-id="f3449-170">hello cloud service is published.</span></span> <span data-ttu-id="f3449-171">Hello виртуальной машины, созданной имеет включенные удаленные соединения для IIS, чтобы веб-развертывания можно было использовать tooupdate веб-ролей без повторной публикации.</span><span class="sxs-lookup"><span data-stu-id="f3449-171">hello virtual machine that is created has remote connections enabled for IIS so that Web Deploy can be used tooupdate your web roles without republishing them.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="f3449-172">При наличии более одного экземпляра, настроенного для веб-роли, появится предупреждающее сообщение о том, что каждой веб-роли будет экземпляр ограниченного tooone только в пакете hello, который создал toopublish приложения.</span><span class="sxs-lookup"><span data-stu-id="f3449-172">If you have more than one instance configured for a web role, a warning message appears, stating that each web role will be limited tooone instance only in hello package that’s created toopublish your application.</span></span> <span data-ttu-id="f3449-173">Выберите **ОК** toocontinue.</span><span class="sxs-lookup"><span data-stu-id="f3449-173">Select **OK** toocontinue.</span></span> <span data-ttu-id="f3449-174">Как указано в разделе "требования" hello, что более чем одной веб-ролью, но только один экземпляр каждой роли.</span><span class="sxs-lookup"><span data-stu-id="f3449-174">As stated in hello Requirements section, you can have more than one web role but only one instance of each role.</span></span>
   > 
   > 

### <a name="tooupdate-your-web-role-by-using-web-deploy"></a><span data-ttu-id="f3449-175">tooUpdate ваш веб-роли с помощью веб-развертывания</span><span class="sxs-lookup"><span data-stu-id="f3449-175">tooUpdate Your Web Role by Using Web Deploy</span></span>
1. <span data-ttu-id="f3449-176">веб-развертывания, toouse сделать проект toohello изменения кода для любого веб-ролей в Visual Studio, что вы хотите toopublish и затем щелкните правой кнопкой мыши узел этого проекта в решении и точек слишком**публикации**.</span><span class="sxs-lookup"><span data-stu-id="f3449-176">toouse Web Deploy, make code changes toohello project for any of your web roles in Visual Studio that you want toopublish, and then right-click this project node in your solution and point too**Publish**.</span></span> <span data-ttu-id="f3449-177">Hello **веб-публикация** откроется диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="f3449-177">hello **Publish Web** dialog box appears.</span></span>
2. <span data-ttu-id="f3449-178">(Необязательно) Если вы добавили доверенных toouse сертификат SSL для удаленных подключений служб IIS, можно снять hello **Разрешить ненадежный сертификат** флажок.</span><span class="sxs-lookup"><span data-stu-id="f3449-178">(Optional) If you added a trusted SSL certificate toouse for remote connections for IIS, you can clear hello **Allow untrusted certificate** check box.</span></span> <span data-ttu-id="f3449-179">Дополнительные сведения об как tooadd toomake сертификата, веб-развертывания защиты в разделе hello **tooMake безопасное развертывание Web** далее в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="f3449-179">For information about how tooadd a certificate toomake Web Deploy secure, see hello section **tooMake Web Deploy Secure** later in this topic.</span></span>
3. <span data-ttu-id="f3449-180">toouse веб-развертывания, hello публикации механизм должен hello имя пользователя и пароль, который настроен для подключения к удаленному рабочему столу при первой публикации пакета hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-180">toouse Web Deploy, hello publish mechanism needs hello user name and password that you set up for your remote desktop connection when you first published hello package.</span></span>
   
   1. <span data-ttu-id="f3449-181">В **имя пользователя**, введите имя пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-181">In **User name**, enter hello user name.</span></span>
   2. <span data-ttu-id="f3449-182">В **пароль**, введите пароль hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-182">In **Password**, enter hello password.</span></span>
   3. <span data-ttu-id="f3449-183">(Необязательно) Если вы хотите toosave пароль в этот профиль, выберите **сохранить пароль**.</span><span class="sxs-lookup"><span data-stu-id="f3449-183">(Optional) If you want toosave this password in this profile, choose **Save password**.</span></span>
4. <span data-ttu-id="f3449-184">toopublish hello изменения tooyour веб-роли выберите **публикации**.</span><span class="sxs-lookup"><span data-stu-id="f3449-184">toopublish hello changes tooyour web role, choose **Publish**.</span></span>
   
    <span data-ttu-id="f3449-185">Отображает строку состояния Hello **публикации работы**.</span><span class="sxs-lookup"><span data-stu-id="f3449-185">hello status line displays **Publish started**.</span></span> <span data-ttu-id="f3449-186">После завершения публикации hello **публикации успешно** отображается.</span><span class="sxs-lookup"><span data-stu-id="f3449-186">When hello publishing has completed, **Publish succeeded** appears.</span></span> <span data-ttu-id="f3449-187">Hello изменения теперь были toohello развернутого веб-роли на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="f3449-187">hello changes have now been deployed toohello web role on your virtual machine.</span></span> <span data-ttu-id="f3449-188">Теперь можно запустить приложение Azure в среде Azure tootest hello изменения.</span><span class="sxs-lookup"><span data-stu-id="f3449-188">Now you can start your Azure application in hello Azure environment tootest your changes.</span></span>

### <a name="toomake-web-deploy-secure"></a><span data-ttu-id="f3449-189">Развертывание защиты Web tooMake</span><span class="sxs-lookup"><span data-stu-id="f3449-189">tooMake Web Deploy Secure</span></span>
1. <span data-ttu-id="f3449-190">Веб-развертывание использует недоверенный, самозаверяющий сертификат по умолчанию, который не рекомендуется для передачи конфиденциальных данных.</span><span class="sxs-lookup"><span data-stu-id="f3449-190">Web Deploy uses an untrusted, self-signed certificate by default, which is not recommended for uploading sensitive data.</span></span> <span data-ttu-id="f3449-191">Если вам требуется toosecure этот процесс для конфиденциальных данных, можно добавить toobe сертификат SSL, используемый для подключения к веб-развертывания.</span><span class="sxs-lookup"><span data-stu-id="f3449-191">If you need toosecure this process for sensitive data, you can add a SSL certificate toobe used for Web Deploy connections.</span></span> <span data-ttu-id="f3449-192">Этот сертификат должен toobe доверенный сертификат, который можно получить из центра сертификации (ЦС).</span><span class="sxs-lookup"><span data-stu-id="f3449-192">This certificate needs toobe a trusted certificate, which you obtain from a certificate authority (CA).</span></span>
   
    <span data-ttu-id="f3449-193">toomake веб-развертывания для каждой виртуальной машины для каждого веб-ролей безопасности, необходимо отправить hello доверенный сертификат, который toouse для веб-развертывания toohello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="f3449-193">toomake Web Deploy secure for each virtual machine for each of your web roles, you must upload hello trusted certificate that you want toouse for web deploy toohello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="f3449-194">Это гарантирует, что этот сертификат hello добавлено toohello виртуальной машины, которая создается для hello веб-роли при публикации приложения.</span><span class="sxs-lookup"><span data-stu-id="f3449-194">This makes sure that hello certificate is added toohello virtual machine that is created for hello web role when you publish your application.</span></span>
2. <span data-ttu-id="f3449-195">tooadd tooIIS toouse SSL-сертификат, доверенным для удаленных соединений, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="f3449-195">tooadd a trusted SSL certificate tooIIS toouse for remote connections, follow these steps:</span></span>
   
   1. <span data-ttu-id="f3449-196">tooconnect toohello виртуальной машины, на котором выполняется экземпляр выберите hello hello веб-роли в роли веб-hello **Cloud Explorer** или **обозревателя серверов**и выберите hello **подключиться с помощью Удаленный рабочий стол** команды.</span><span class="sxs-lookup"><span data-stu-id="f3449-196">tooconnect toohello virtual machine that is running hello web role, select hello instance of hello web role in **Cloud Explorer** or **Server Explorer**, and then choose hello **Connect using Remote Desktop** command.</span></span> <span data-ttu-id="f3449-197">Подробные инструкции о том, как tooconnect toohello виртуальной машины, в разделе [использование удаленного рабочего стола с ролями Azure](vs-azure-tools-remote-desktop-roles.md).</span><span class="sxs-lookup"><span data-stu-id="f3449-197">For detailed steps about how tooconnect toohello virtual machine, see [Using Remote Desktop with Azure Roles](vs-azure-tools-remote-desktop-roles.md).</span></span>
      
      <span data-ttu-id="f3449-198">Ваш браузер предложит toodownload. RDP-файл.</span><span class="sxs-lookup"><span data-stu-id="f3449-198">Your browser will prompt you toodownload an .RDP file.</span></span>
   2. <span data-ttu-id="f3449-199">tooadd SSL-сертификат, откройте hello службы управления в диспетчере служб IIS.</span><span class="sxs-lookup"><span data-stu-id="f3449-199">tooadd an SSL certificate, open hello management service in IIS Manager.</span></span> <span data-ttu-id="f3449-200">В диспетчере IIS включите использование SSL, открыв hello **привязки** ссылку в hello **действия** области.</span><span class="sxs-lookup"><span data-stu-id="f3449-200">In IIS Manager, enable SSL by opening hello **Bindings** link in hello **Action** pane.</span></span> <span data-ttu-id="f3449-201">Hello **Добавление привязки сайта** откроется диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="f3449-201">hello **Add Site Binding** dialog box appears.</span></span> <span data-ttu-id="f3449-202">Выберите **добавить**, а затем выберите HTTPS в hello **тип** раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="f3449-202">Choose **Add**, and then choose HTTPS in hello **Type** dropdown list.</span></span> <span data-ttu-id="f3449-203">В hello **SSL-сертификат** выберите hello SSL-сертификат, подписаны центром сертификации и переданный toohello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).</span><span class="sxs-lookup"><span data-stu-id="f3449-203">In hello **SSL certificate** list, choose hello SSL certificate that you had signed by a CA and that you uploaded toohello [Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=213885).</span></span> <span data-ttu-id="f3449-204">Дополнительные сведения см. в разделе [Настройка параметров подключения для службы управления hello](http://go.microsoft.com/fwlink/?LinkId=215824).</span><span class="sxs-lookup"><span data-stu-id="f3449-204">For more information, see [Configure Connection Settings for hello Management Service](http://go.microsoft.com/fwlink/?LinkId=215824).</span></span>
      
      > [!NOTE]
      > <span data-ttu-id="f3449-205">При добавлении доверенного SSL-сертификата, hello желтый треугольник предупреждения больше не отображается в hello **мастер публикации**.</span><span class="sxs-lookup"><span data-stu-id="f3449-205">If you add a trusted SSL certificate, hello yellow warning triangle no longer appears in hello **Publish Wizard**.</span></span>
      > 
      > 

## <a name="include-files-in-hello-service-package"></a><span data-ttu-id="f3449-206">Включить файлы в пакет службы hello</span><span class="sxs-lookup"><span data-stu-id="f3449-206">Include Files in hello Service Package</span></span>
<span data-ttu-id="f3449-207">Может потребоваться tooinclude определенные файлы в пакет службы, чтобы они были доступны на виртуальной машине hello, созданного для роли.</span><span class="sxs-lookup"><span data-stu-id="f3449-207">You might need tooinclude specific files in your service package so that they are available on hello virtual machine that is created for a role.</span></span> <span data-ttu-id="f3449-208">Например может потребоваться tooadd .exe или MSI-файл, используемый пакетом службы tooyour сценария запуска.</span><span class="sxs-lookup"><span data-stu-id="f3449-208">For example, you might want tooadd an .exe or an .msi file that is used by a startup script tooyour service package.</span></span> <span data-ttu-id="f3449-209">Или может потребоваться tooadd сборку, которая требует проект веб-роли или рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="f3449-209">Or you might need tooadd an assembly that a web role or worker role project requires.</span></span> <span data-ttu-id="f3449-210">файлы tooinclude, они должны быть добавлены toohello решение для приложения Azure.</span><span class="sxs-lookup"><span data-stu-id="f3449-210">tooinclude files they must be added toohello solution for your Azure application.</span></span>

### <a name="tooinclude-files-in-hello-service-package"></a><span data-ttu-id="f3449-211">tooinclude файлы в пакет службы hello</span><span class="sxs-lookup"><span data-stu-id="f3449-211">tooinclude files in hello service package</span></span>
1. <span data-ttu-id="f3449-212">tooadd пакет службы tooa сборки, используйте hello следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="f3449-212">tooadd an assembly tooa service package, use hello following steps:</span></span>
   
   1. <span data-ttu-id="f3449-213">В **обозревателе решений** Привет открыть узел проекта для проекта hello, отсутствует hello ссылка на сборку.</span><span class="sxs-lookup"><span data-stu-id="f3449-213">In **Solution Explorer** open hello project node for hello project that is missing hello referenced assembly.</span></span>
   2. <span data-ttu-id="f3449-214">toohello tooadd hello сборки проекта, Привет открыть контекстное меню для hello **ссылки** папку и выберите **добавить ссылку**.</span><span class="sxs-lookup"><span data-stu-id="f3449-214">tooadd hello assembly toohello project, open hello shortcut menu for hello **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="f3449-215">Откроется диалоговое окно Добавить ссылку Hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-215">hello Add Reference dialog appears.</span></span>
   3. <span data-ttu-id="f3449-216">Выберите ссылку hello tooadd и затем задайте hello **ОК** кнопки.</span><span class="sxs-lookup"><span data-stu-id="f3449-216">Choose hello reference that you want tooadd and then choose hello **OK** button.</span></span>
      
      <span data-ttu-id="f3449-217">Hello ссылка будет добавлена toohello списке hello **ссылки** папки.</span><span class="sxs-lookup"><span data-stu-id="f3449-217">hello reference is added toohello list under hello **References** folder.</span></span>
   4. <span data-ttu-id="f3449-218">Откройте контекстное меню добавленной сборки hello hello и выберите **свойства**.</span><span class="sxs-lookup"><span data-stu-id="f3449-218">Open hello shortcut menu for hello assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="f3449-219">Hello **свойства** появится окно.</span><span class="sxs-lookup"><span data-stu-id="f3449-219">hello **Properties** window appears.</span></span>
      
      <span data-ttu-id="f3449-220">tooinclude этой сборки в службе hello пакета hello **Копировать локально список** выберите **True**.</span><span class="sxs-lookup"><span data-stu-id="f3449-220">tooinclude this assembly in hello service package, in hello **Copy Local list** choose **True**.</span></span>
2. <span data-ttu-id="f3449-221">В **обозревателе решений** Привет открыть узел проекта для проекта hello, отсутствует hello ссылка на сборку.</span><span class="sxs-lookup"><span data-stu-id="f3449-221">In **Solution Explorer** open hello project node for hello project that is missing hello referenced assembly.</span></span>
3. <span data-ttu-id="f3449-222">toohello tooadd hello сборки проекта, Привет открыть контекстное меню для hello **ссылки** папку и выберите **добавить ссылку**.</span><span class="sxs-lookup"><span data-stu-id="f3449-222">tooadd hello assembly toohello project, open hello shortcut menu for hello **References** folder and then choose **Add Reference**.</span></span> <span data-ttu-id="f3449-223">Hello **добавить ссылку** откроется диалоговое окно.</span><span class="sxs-lookup"><span data-stu-id="f3449-223">hello **Add Reference** dialog appears.</span></span>
4. <span data-ttu-id="f3449-224">Выберите ссылку hello tooadd и затем задайте hello **ОК** кнопки.</span><span class="sxs-lookup"><span data-stu-id="f3449-224">Choose hello reference that you want tooadd and then choose hello **OK** button.</span></span>
   
    <span data-ttu-id="f3449-225">Hello ссылка будет добавлена toohello списке hello **ссылки** папки.</span><span class="sxs-lookup"><span data-stu-id="f3449-225">hello reference is added toohello list under hello **References** folder.</span></span>
5. <span data-ttu-id="f3449-226">Откройте контекстное меню добавленной сборки hello hello и выберите **свойства**.</span><span class="sxs-lookup"><span data-stu-id="f3449-226">Open hello shortcut menu for hello assembly that you added and choose **Properties**.</span></span> <span data-ttu-id="f3449-227">Откроется окно свойств Hello.</span><span class="sxs-lookup"><span data-stu-id="f3449-227">hello Properties window appears.</span></span>
6. <span data-ttu-id="f3449-228">tooinclude этой сборки в службе hello пакета hello **Копировать локально** выберите **True**.</span><span class="sxs-lookup"><span data-stu-id="f3449-228">tooinclude this assembly in hello service package, in hello **Copy Local** list, choose **True**.</span></span>
7. <span data-ttu-id="f3449-229">Откройте контекстное меню файла hello hello tooinclude файлы в пакет службы hello, добавленные в проект tooyour веб-роли и выберите **свойства**.</span><span class="sxs-lookup"><span data-stu-id="f3449-229">tooinclude files in hello service package that have been added tooyour web role project, open hello shortcut menu for hello file, and then choose **Properties**.</span></span> <span data-ttu-id="f3449-230">Из hello **свойства** окно, выберите **содержимого** из hello **действие при построении** списка.</span><span class="sxs-lookup"><span data-stu-id="f3449-230">From hello **Properties** window, choose **Content** from hello **Build Action** list box.</span></span>
8. <span data-ttu-id="f3449-231">Откройте контекстное меню файла hello hello tooinclude файлы в пакет службы hello, добавленные в проект рабочей роли tooyour и выберите **свойства**.</span><span class="sxs-lookup"><span data-stu-id="f3449-231">tooinclude files in hello service package that have been added tooyour worker role project, open hello shortcut menu for hello file, and then choose **Properties**.</span></span> <span data-ttu-id="f3449-232">Из hello **свойства** окно, выберите **копировать, если новее** из hello **toooutput каталог копии** списка.</span><span class="sxs-lookup"><span data-stu-id="f3449-232">From hello **Properties** window, choose **Copy if newer** from hello **Copy toooutput directory** list box.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f3449-233">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="f3449-233">Next steps</span></span>
<span data-ttu-id="f3449-234">toolearn Дополнительные сведения о публикации tooAzure из Visual Studio, в разделе [мастер публикации приложений Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="f3449-234">toolearn more about publishing tooAzure from Visual Studio, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

