---
title: "aaaPublishing облачной службы, с помощью средства Azure hello | Документы Microsoft"
description: "Узнайте, как toopublish Azure облачной службы проектов с помощью Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 1a07b6e4-3678-4cbf-b37e-4520b402a3d9
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/14/2017
ms.author: kraigb
ms.openlocfilehash: 31ede8308146de2bb128b768f23f64eb85bc7548
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="publishing-a-cloud-service-using-hello-azure-tools"></a>Публикация облачной службы с помощью средства Azure hello
С помощью средств hello Azure для Microsoft Visual Studio, можно опубликовать приложение Azure прямо из Visual Studio. Интеграции Visual Studio поддерживает публикации tooeither hello промежуточной или рабочей среде для облачной службы hello.

Чтобы опубликовать приложение Azure, нужно иметь подписку Azure. Необходимо также настроить облачной службы и хранилища учетной записи toobe, используемого приложением. Их можно настроить в hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).

> [!IMPORTANT]
> При публикации, можно выбрать hello среду развертывания для облачной службы. Также необходимо выбрать учетную запись хранилища, которая является пакета приложения hello toostore используется для развертывания. После развертывания пакета приложения hello удаляется из учетной записи хранения hello.
> 
> 

После разработки и тестирования приложения Azure можно использовать веб-развертывания toopublish изменения постепенно веб-ролей. После публикации среды развертывания tooa приложения веб-развертывания позволяет развертывать изменения непосредственно toohello запущена виртуальная машина, hello веб-роли. Вы не имеют toopackage и публиковать все приложение Azure необходимо tooupdate вашей tootest роли web hello изменений каждый раз. Такой подход может иметь вашей изменения веб-роли доступны в облаке hello для тестирования без ожидания toohave среды развертывания tooa опубликованного приложения.

Используйте следующие процедуры toopublish hello приложения Azure и tooupdate веб-роли с помощью веб-развертывания:

* Опубликуйте и упакуйте приложение Azure из Visual Studio
* Обновить веб роль как часть разработки hello и цикла тестирования

## <a name="publish-or-package-an-azure-application-from-visual-studio"></a>Опубликуйте и упакуйте приложение Azure из Visual Studio
При публикации приложения Azure, можно выполнить одну из hello следующие задачи:

* Создание пакета службы: можно использовать этот пакет и hello службы конфигурации файла toopublish среды развертывания приложения tooa из hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).
* Публикация проекта Azure из Visual Studio: toopublish hello приложение напрямую tooAzure, используйте мастер публикации. Дополнительную информацию см. в статье [Мастер публикации приложений Azure](vs-azure-tools-publish-azure-application-wizard.md).

### <a name="toocreate-a-service-package-from-visual-studio"></a>toocreate пакета службы из Visual Studio
1. При готовности toopublish приложение, откройте обозреватель решений, Привет открыть контекстное меню для проекта Azure, который содержит роли, hello и выберите "Опубликовать".
2. toocreate пакет службы, выполните следующие действия:  
   
   1. Hello Azure hello контекстном меню проекта, выбор **пакета**.
   2. В hello **пакета приложения Azure** диалоговое окно, выберите hello конфигурации службы, для которого требуется toocreate пакета и затем выберите конфигурацию построения hello.
   3. (необязательно) tooturn на удаленный рабочий стол для hello облачной службы после ее публикации, выберите hello **включить удаленный рабочий стол для всех ролей** флажок, а затем выберите **параметры** tooconfigure удаленного рабочего стола. Если требуется toodebug облачной службы после ее публикации, включите удаленную отладку, выбрав **включить удаленный отладчик для всех ролей**.
      
      Дополнительную информацию см. в статье [Использование удаленного рабочего стола с ролями Azure](vs-azure-tools-remote-desktop-roles.md).
   4. toocreate hello пакет, выберите hello **пакета** ссылку.
      
      Проводник показывает расположение файла hello hello созданного пакета. Можно скопировать это расположение, чтобы вы могли использовать из hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).
   5. toopublish этой среды развертывания пакета tooa необходимо использовать это расположение, как hello расположения пакета при создании облачной службы и развертывание этой среды tooan пакета с hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).
3. Выберите процесс развертывания hello (необязательно) toocancel на hello контекстное меню для элемента строки hello в журнале активности hello, **"Отмена" и удалите**. Это останавливает процесс развертывания hello и удаляет среду развертывания hello из Azure.
   
   > [!NOTE]
   > tooremove был этой среды развертывания после его развертывания необходимо использовать hello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885).
   > 
   > 
4. (Необязательно) После запуска экземпляров ролей Visual Studio автоматически отображает среду развертывания hello в hello **облачные службы** узел в обозревателе серверов. Здесь вы увидите состояние hello hello отдельных экземпляров ролей. В разделе [Azure управление ресурсами с помощью Cloud Explorer](vs-azure-tools-resources-managing-with-cloud-explorer.md).hello следующие рисунке показаны экземпляры роли hello они находятся в состоянии Initializing hello:
   
    ![VST_DeployComputeNode](./media/vs-azure-tools-publishing-a-cloud-service/IC744134.png)

## <a name="update-a-web-role-as-part-of-hello-development-and-testing-cycle"></a>Обновить веб роль как часть hello разработку и тестирование цикла
Если ваше приложение серверная инфраструктура стабильна, но hello веб-ролей требуется более частое обновление, можно использовать веб-развертывания tooupdate веб-роли в проекте. Это удобно в том случае, если не требуется toorebuild и повторно развернуть hello серверные рабочие роли или имеется несколько веб-ролей и требуется только один из веб-ролей hello tooupdate.

### <a name="requirements"></a>Требования
Ниже приведены tooupdate веб-развертывания toouse hello требования к веб-роли.

* **Разработка и тестирование только в целях:** hello внесения изменений непосредственно виртуальной машине toohello запущенным hello веб-роли. Если эта виртуальная машина имеет toobe перезапуска, hello изменения будут потеряны, поскольку hello исходный пакет, который вы опубликовали используется toorecreate hello виртуальной машины для роли hello. Необходимо заново опубликовать приложение tooget hello последние изменения для hello веб-роли.
* **Можно обновлять только веб-роли.** Рабочие роли не обновляются. Кроме того невозможно обновить hello RoleEntryPoint в файле WebRole.cs.
* **Возможна поддержка только одного экземпляра веб-роли.** Ни одна роль не может существовать в среде развертывания в нескольких экземплярах. При этом несколько веб-ролей с одним экземпляром поддерживаются.
* **Необходимо включить удаленный рабочий стол:** это необходимо, чтобы веб-развертывания можно использовать hello пользователя и пароль tooconnect toohello виртуальной машины toodeploy hello изменения toohello сервера, на котором работает сервер Internet Information Services (IIS). Кроме того может потребоваться tooconnect toohello tooadd tooIIS доверенных сертификатов на эту виртуальную машину для виртуальной машины. (Это гарантирует, что защищен hello удаленного подключения для служб IIS, используемый веб-развертывания).

Hello следующей процедуре предполагается, что вы используете hello **публикации приложения Azure** мастера.

### <a name="tooenable-web-deploy-when-you-publish-your-application"></a>tooEnable Web развертывания при при публикации приложения
1. tooenable hello **включить веб-развертывание** для всех веб-ролей флажок, необходимо сначала настроить подключения удаленного рабочего стола. Выберите **включить удаленный рабочий стол** для всех ролей и затем hello питания учетные данные, которые будут использоваться tooconnect удаленно в hello **конфигурация удаленного рабочего стола** появившемся диалоговом окне. Дополнительную информацию см. в статье [Использование удаленного рабочего стола с ролями Azure](vs-azure-tools-remote-desktop-roles.md).
2. tooenable веб-развертывание для всех hello веб-ролей в приложении, выберите **включить веб-развертывание для всех веб-ролей**.
   
    Появится желтый предупредительный треугольник. Веб-развертывание использует недоверенный, самозаверяющий сертификат по умолчанию, который не рекомендуется для передачи конфиденциальных данных. Если вам требуется toosecure этот процесс для конфиденциальных данных, можно добавить toobe сертификат SSL, используемый для подключения к веб-развертывания. Этот сертификат должен toobe доверенных сертификатов. Сведения о том, как toodo, hello в разделе **tooMake развертывание Secure Web** далее в этом разделе.
3. Выберите **Далее** tooshow hello **Сводка** экрана, а затем выберите **публикации** toodeploy hello облачной службы.
   
    Hello облачная служба будет опубликована. Hello виртуальной машины, созданной имеет включенные удаленные соединения для IIS, чтобы веб-развертывания можно было использовать tooupdate веб-ролей без повторной публикации.
   
   > [!NOTE]
   > При наличии более одного экземпляра, настроенного для веб-роли, появится предупреждающее сообщение о том, что каждой веб-роли будет экземпляр ограниченного tooone только в пакете hello, который создал toopublish приложения. Выберите **ОК** toocontinue. Как указано в разделе "требования" hello, что более чем одной веб-ролью, но только один экземпляр каждой роли.
   > 
   > 

### <a name="tooupdate-your-web-role-by-using-web-deploy"></a>tooUpdate ваш веб-роли с помощью веб-развертывания
1. веб-развертывания, toouse сделать проект toohello изменения кода для любого веб-ролей в Visual Studio, что вы хотите toopublish и затем щелкните правой кнопкой мыши узел этого проекта в решении и точек слишком**публикации**. Hello **веб-публикация** откроется диалоговое окно.
2. (Необязательно) Если вы добавили доверенных toouse сертификат SSL для удаленных подключений служб IIS, можно снять hello **Разрешить ненадежный сертификат** флажок. Дополнительные сведения об как tooadd toomake сертификата, веб-развертывания защиты в разделе hello **tooMake безопасное развертывание Web** далее в этом разделе.
3. toouse веб-развертывания, hello публикации механизм должен hello имя пользователя и пароль, который настроен для подключения к удаленному рабочему столу при первой публикации пакета hello.
   
   1. В **имя пользователя**, введите имя пользователя hello.
   2. В **пароль**, введите пароль hello.
   3. (Необязательно) Если вы хотите toosave пароль в этот профиль, выберите **сохранить пароль**.
4. toopublish hello изменения tooyour веб-роли выберите **публикации**.
   
    Отображает строку состояния Hello **публикации работы**. После завершения публикации hello **публикации успешно** отображается. Hello изменения теперь были toohello развернутого веб-роли на виртуальной машине. Теперь можно запустить приложение Azure в среде Azure tootest hello изменения.

### <a name="toomake-web-deploy-secure"></a>Развертывание защиты Web tooMake
1. Веб-развертывание использует недоверенный, самозаверяющий сертификат по умолчанию, который не рекомендуется для передачи конфиденциальных данных. Если вам требуется toosecure этот процесс для конфиденциальных данных, можно добавить toobe сертификат SSL, используемый для подключения к веб-развертывания. Этот сертификат должен toobe доверенный сертификат, который можно получить из центра сертификации (ЦС).
   
    toomake веб-развертывания для каждой виртуальной машины для каждого веб-ролей безопасности, необходимо отправить hello доверенный сертификат, который toouse для веб-развертывания toohello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885). Это гарантирует, что этот сертификат hello добавлено toohello виртуальной машины, которая создается для hello веб-роли при публикации приложения.
2. tooadd tooIIS toouse SSL-сертификат, доверенным для удаленных соединений, выполните следующие действия.
   
   1. tooconnect toohello виртуальной машины, на котором выполняется экземпляр выберите hello hello веб-роли в роли веб-hello **Cloud Explorer** или **обозревателя серверов**и выберите hello **подключиться с помощью Удаленный рабочий стол** команды. Подробные инструкции о том, как tooconnect toohello виртуальной машины, в разделе [использование удаленного рабочего стола с ролями Azure](vs-azure-tools-remote-desktop-roles.md).
      
      Ваш браузер предложит toodownload. RDP-файл.
   2. tooadd SSL-сертификат, откройте hello службы управления в диспетчере служб IIS. В диспетчере IIS включите использование SSL, открыв hello **привязки** ссылку в hello **действия** области. Hello **Добавление привязки сайта** откроется диалоговое окно. Выберите **добавить**, а затем выберите HTTPS в hello **тип** раскрывающегося списка. В hello **SSL-сертификат** выберите hello SSL-сертификат, подписаны центром сертификации и переданный toohello [классический портал Azure](http://go.microsoft.com/fwlink/?LinkID=213885). Дополнительные сведения см. в разделе [Настройка параметров подключения для службы управления hello](http://go.microsoft.com/fwlink/?LinkId=215824).
      
      > [!NOTE]
      > При добавлении доверенного SSL-сертификата, hello желтый треугольник предупреждения больше не отображается в hello **мастер публикации**.
      > 
      > 

## <a name="include-files-in-hello-service-package"></a>Включить файлы в пакет службы hello
Может потребоваться tooinclude определенные файлы в пакет службы, чтобы они были доступны на виртуальной машине hello, созданного для роли. Например может потребоваться tooadd .exe или MSI-файл, используемый пакетом службы tooyour сценария запуска. Или может потребоваться tooadd сборку, которая требует проект веб-роли или рабочей роли. файлы tooinclude, они должны быть добавлены toohello решение для приложения Azure.

### <a name="tooinclude-files-in-hello-service-package"></a>tooinclude файлы в пакет службы hello
1. tooadd пакет службы tooa сборки, используйте hello следующие шаги:
   
   1. В **обозревателе решений** Привет открыть узел проекта для проекта hello, отсутствует hello ссылка на сборку.
   2. toohello tooadd hello сборки проекта, Привет открыть контекстное меню для hello **ссылки** папку и выберите **добавить ссылку**. Откроется диалоговое окно Добавить ссылку Hello.
   3. Выберите ссылку hello tooadd и затем задайте hello **ОК** кнопки.
      
      Hello ссылка будет добавлена toohello списке hello **ссылки** папки.
   4. Откройте контекстное меню добавленной сборки hello hello и выберите **свойства**. Hello **свойства** появится окно.
      
      tooinclude этой сборки в службе hello пакета hello **Копировать локально список** выберите **True**.
2. В **обозревателе решений** Привет открыть узел проекта для проекта hello, отсутствует hello ссылка на сборку.
3. toohello tooadd hello сборки проекта, Привет открыть контекстное меню для hello **ссылки** папку и выберите **добавить ссылку**. Hello **добавить ссылку** откроется диалоговое окно.
4. Выберите ссылку hello tooadd и затем задайте hello **ОК** кнопки.
   
    Hello ссылка будет добавлена toohello списке hello **ссылки** папки.
5. Откройте контекстное меню добавленной сборки hello hello и выберите **свойства**. Откроется окно свойств Hello.
6. tooinclude этой сборки в службе hello пакета hello **Копировать локально** выберите **True**.
7. Откройте контекстное меню файла hello hello tooinclude файлы в пакет службы hello, добавленные в проект tooyour веб-роли и выберите **свойства**. Из hello **свойства** окно, выберите **содержимого** из hello **действие при построении** списка.
8. Откройте контекстное меню файла hello hello tooinclude файлы в пакет службы hello, добавленные в проект рабочей роли tooyour и выберите **свойства**. Из hello **свойства** окно, выберите **копировать, если новее** из hello **toooutput каталог копии** списка.

## <a name="next-steps"></a>Дальнейшие действия
toolearn Дополнительные сведения о публикации tooAzure из Visual Studio, в разделе [мастер публикации приложений Azure](vs-azure-tools-publish-azure-application-wizard.md).

