---
title: "Метаданные приложений API службы приложений для обнаружения API и создания кода | Документация Майкрософт"
description: "Узнайте, как приложения API в службе приложений Azure используют метаданные Swagger для упрощения обнаружения API и создания кода."
services: app-service\api
documentationcenter: .net
author: alexkarcher-msft
manager: erikre
editor: 
ms.assetid: c7f8e33a-61cc-486f-89df-4a97dc3c71d4
ms.service: app-service-api
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/30/2016
ms.author: alkarche
ms.openlocfilehash: 800bb9df9b957bec2c80abb3edefbaf354b549ca
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="app-service-api-apps-metadata-for-api-discovery-and-code-generation"></a><span data-ttu-id="87cbf-103">Метаданные приложений API службы приложений для обнаружения API и создания кода</span><span class="sxs-lookup"><span data-stu-id="87cbf-103">App Service API Apps metadata for API discovery and code generation</span></span>
<span data-ttu-id="87cbf-104">Поддержка метаданных API [Swagger 2.0](http://swagger.io/) встроена в приложения API службы приложений.</span><span class="sxs-lookup"><span data-stu-id="87cbf-104">Support for [Swagger 2.0](http://swagger.io/) API metadata is built into App Service API Apps.</span></span> <span data-ttu-id="87cbf-105">Применение платформы Swagger не является обязательным, но оно дает возможность воспользоваться функциями приложений API, облегчающими ознакомление и использование.</span><span class="sxs-lookup"><span data-stu-id="87cbf-105">You don't have to use Swagger, but if you do use it, you can take advantage of API Apps features that make discovery and consumption easier.</span></span>   

## <a name="swagger-endpoint"></a><span data-ttu-id="87cbf-106">Конечная точка Swagger</span><span class="sxs-lookup"><span data-stu-id="87cbf-106">Swagger endpoint</span></span>
<span data-ttu-id="87cbf-107">Можно указать конечную точку, которая передает метаданные JSON Swagger 2.0 для приложения API в свойствах приложения API.</span><span class="sxs-lookup"><span data-stu-id="87cbf-107">You can specify an endpoint that provides Swagger 2.0 JSON metadata for an API app in a property of the API app.</span></span> <span data-ttu-id="87cbf-108">Конечная точка может соотноситься с базовым URL-адресом приложения API или с абсолютным URL-адресом.</span><span class="sxs-lookup"><span data-stu-id="87cbf-108">The endpoint can be relative to the base URL of the API app or an absolute URL.</span></span> <span data-ttu-id="87cbf-109">Абсолютные URL-адреса могут направлять на объекты за пределами приложения API.</span><span class="sxs-lookup"><span data-stu-id="87cbf-109">Absolute URLs can point outside the API app.</span></span> 

<span data-ttu-id="87cbf-110">У нисходящих клиентов (например, создание кода в Visual Studio и поток «Добавление API» PowerApps) URL-адрес должен быть общедоступным, т. е. не защищен проверкой подлинности пользователя или службы.</span><span class="sxs-lookup"><span data-stu-id="87cbf-110">Many downstream clients (for example, Visual Studio code generation and PowerApps "Add API" flow), the URL must be publicly accessible (not protected by user or service authentication).</span></span> <span data-ttu-id="87cbf-111">Это означает, что если вы используете проверку подлинности службы приложений и хотите предоставить определение API из самого приложения, необходимо использовать параметр проверки подлинности, который разрешает анонимный трафик к API.</span><span class="sxs-lookup"><span data-stu-id="87cbf-111">This means that if you're using App Service authentication and want to expose the API definition from within your app itself, you need to use authentication option that allows anonymous traffic to reach your API.</span></span> <span data-ttu-id="87cbf-112">Дополнительные сведения см. в статье [Проверка подлинности и авторизация для приложений API службы приложений](app-service-api-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="87cbf-112">For more information, see [Authentication and authorization for App Service API Apps](app-service-api-authentication.md).</span></span>

### <a name="portal-blade"></a><span data-ttu-id="87cbf-113">Колонка портала</span><span class="sxs-lookup"><span data-stu-id="87cbf-113">Portal blade</span></span>
<span data-ttu-id="87cbf-114">На [портале Azure](https://portal.azure.com/) в колонке **Определение API** можно посмотреть и изменить URL-адрес конечной точки.</span><span class="sxs-lookup"><span data-stu-id="87cbf-114">In the [Azure portal](https://portal.azure.com/) the endpoint URL can be seen and changed on the **API Definition** blade.</span></span>

![](./media/app-service-api-metadata/apidefblade.png)

### <a name="azure-resource-manager-property"></a><span data-ttu-id="87cbf-115">Свойство диспетчера ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="87cbf-115">Azure Resource Manager property</span></span>
<span data-ttu-id="87cbf-116">URL-адрес определения API для приложения API можно также настроить с помощью [обозревателя ресурсов](https://resources.azure.com/) или [шаблонов диспетчера Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md), используя такие средства командной строки, как [Azure PowerShell](/powershell/azureps-cmdlets-docs) и [интерфейс командной строки Azure](../cli-install-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="87cbf-116">You can also configure the API definition URL for an API app by using [Resource Explorer](https://resources.azure.com/) or [Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md) in command line tools such as [Azure PowerShell](/powershell/azureps-cmdlets-docs) and the [Azure CLI](../cli-install-nodejs.md).</span></span> 

<span data-ttu-id="87cbf-117">В **обозревателе ресурсов** выберите пункты **subscriptions > {ваша подписка} > resourceGroups > {ваша группа ресурсов} > providers > Microsoft.Web > sites > {ваш сайт} > config > web**. Отобразится свойство `apiDefinition`:</span><span class="sxs-lookup"><span data-stu-id="87cbf-117">In **Resource Explorer**, go to **subscriptions > {your subscription} > resourceGroups > {your resource group} > providers > Microsoft.Web > sites > {your site} > config > web**, and you'll see the `apiDefinition` property:</span></span>

        "apiDefinition": {
          "url": "https://contactslistapi.azurewebsites.net/swagger/docs/v1"
        }

<span data-ttu-id="87cbf-118">Чтобы просмотреть пример шаблона Azure Resource Manager, который задает свойство `apiDefinition` , откройте [в образце приложения списка дел файл azuredeploy.json](https://github.com/azure-samples/app-service-api-dotnet-todo-list/blob/master/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="87cbf-118">For an example of an Azure Resource Manager template that sets the `apiDefinition` property, open the [azuredeploy.json file in the To-Do List sample application](https://github.com/azure-samples/app-service-api-dotnet-todo-list/blob/master/azuredeploy.json).</span></span> <span data-ttu-id="87cbf-119">Найдите раздел шаблона, который выглядит, как показанный выше образец JSON.</span><span class="sxs-lookup"><span data-stu-id="87cbf-119">Find the section of the template that looks like the JSON sample shown above.</span></span>

### <a name="default-value"></a><span data-ttu-id="87cbf-120">Значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="87cbf-120">Default value</span></span>
<span data-ttu-id="87cbf-121">Если вы используете Visual Studio для создания приложений API, для конечной точки определения API автоматически задается URL-адрес приложения API в сочетании с `/swagger/docs/v1`.</span><span class="sxs-lookup"><span data-stu-id="87cbf-121">When you use Visual Studio to create an API app, the API definition endpoint is automatically set to the base URL of the API app plus `/swagger/docs/v1`.</span></span> <span data-ttu-id="87cbf-122">Это URL-адрес по умолчанию, используемый в пакете NuGet [Swashbuckle](https://www.nuget.org/packages/Swashbuckle) для передачи динамически создаваемых метаданных Swagger в проект веб-API ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="87cbf-122">This is the default URL that the [Swashbuckle](https://www.nuget.org/packages/Swashbuckle) NuGet package uses to serve dynamically generated Swagger metadata for an ASP.NET Web API project.</span></span> 

## <a name="code-generation"></a><span data-ttu-id="87cbf-123">Создание кода</span><span class="sxs-lookup"><span data-stu-id="87cbf-123">Code generation</span></span>
<span data-ttu-id="87cbf-124">Одним из преимуществ интеграции платформы Swagger в приложения API Azure является возможность автоматического создания кода.</span><span class="sxs-lookup"><span data-stu-id="87cbf-124">One of the benefits of integrating Swagger into Azure API apps is automatic code generation.</span></span> <span data-ttu-id="87cbf-125">Созданные классы клиента упрощают написание кода, который вызывает приложение API.</span><span class="sxs-lookup"><span data-stu-id="87cbf-125">Generated client classes make it easier to write code that calls an API app.</span></span>

<span data-ttu-id="87cbf-126">Код клиента для приложения API можно создать с помощью Visual Studio или из командной строки.</span><span class="sxs-lookup"><span data-stu-id="87cbf-126">You can generate client code for an API app by using Visual Studio or from the command line.</span></span> <span data-ttu-id="87cbf-127">Дополнительные сведения о том, как создавать классы клиента для проекта веб-API ASP.NET в Visual Studio, см. в статье [Приступая к работе с приложениями API и ASP.NET](app-service-api-dotnet-get-started.md#codegen).</span><span class="sxs-lookup"><span data-stu-id="87cbf-127">For information about how to generate client classes in Visual Studio for an ASP.NET Web API project, see [Get started with API Apps and ASP.NET](app-service-api-dotnet-get-started.md#codegen).</span></span> <span data-ttu-id="87cbf-128">Дополнительные сведения о том, как делать это с помощью командной строки на всех поддерживаемых языках, см. в файле сведений репозитория [Azure/autorest](https://github.com/azure/autorest) на сайте GitHub.com.</span><span class="sxs-lookup"><span data-stu-id="87cbf-128">For information about how to do it from the command line for all supported languages, see the readme file of the [Azure/autorest](https://github.com/azure/autorest) repository on GitHub.com.</span></span>

## <a name="next-steps"></a><span data-ttu-id="87cbf-129">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="87cbf-129">Next steps</span></span>
<span data-ttu-id="87cbf-130">Пошаговое руководство по созданию, развертыванию и использованию приложений API см. в статье [Приступая к работе с приложениями API в службе приложений Azure](app-service-api-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="87cbf-130">For a step-by-step tutorial that guides you through creating, deploying, and consuming an API app, see [Get started with API Apps in Azure App Service](app-service-api-dotnet-get-started.md).</span></span>

<span data-ttu-id="87cbf-131">Если вы используете управление API Azure с приложениями API, вы можете использовать метаданные Swagger для импорта API в управление API.</span><span class="sxs-lookup"><span data-stu-id="87cbf-131">If you use Azure API Management with API Apps, you can use Swagger metadata to import your API into API Management.</span></span> <span data-ttu-id="87cbf-132">Дополнительные сведения см. в статье [Как импортировать определение API с операциями в Azure API Management](../api-management/api-management-howto-import-api.md).</span><span class="sxs-lookup"><span data-stu-id="87cbf-132">For more information, see [How to import the definition of an API with operations in Azure API Management](../api-management/api-management-howto-import-api.md).</span></span> 

