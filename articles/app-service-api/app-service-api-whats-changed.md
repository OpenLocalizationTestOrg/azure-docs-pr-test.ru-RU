---
title: "API службы приложений — изменения aaaApp | Документы Microsoft"
description: "Узнайте о новых возможностях приложений API в службе приложений Azure."
services: app-service\api
documentationcenter: .net
author: mohitsriv
manager: erikre
editor: tdykstra
ms.assetid: a9b58066-e8fd-48b8-a651-4613b1736433
ms.service: app-service-api
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/29/2016
ms.author: rachelap
ms.openlocfilehash: 79df54f1dae91d7c5d3b66d208d0d1c1d7d55ae9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="app-service-api-apps---whats-changed"></a><span data-ttu-id="caa22-103">Изменения в приложениях API службы приложений</span><span class="sxs-lookup"><span data-stu-id="caa22-103">App Service API Apps - What's changed</span></span>
<span data-ttu-id="caa22-104">В описании события Connect() hello в ноября 2015 г., были ряд улучшений tooAzure службы приложений [было объявлено](https://azure.microsoft.com/blog/azure-app-service-updates-november-2015/).</span><span class="sxs-lookup"><span data-stu-id="caa22-104">At hello Connect() event in November 2015, a number of improvements tooAzure App Service were [announced](https://azure.microsoft.com/blog/azure-app-service-updates-november-2015/).</span></span> <span data-ttu-id="caa22-105">Эти улучшения включают базовые изменения toobetter tooAPI приложений с мобильных и веб-приложений, уменьшения числа концепции и повышения производительности, развертывания и выполнения.</span><span class="sxs-lookup"><span data-stu-id="caa22-105">These improvements include underlying changes tooAPI Apps toobetter align with Mobile and Web Apps, reduce concept count and improve deployment and runtime performance.</span></span> <span data-ttu-id="caa22-106">Запуск нового приложения API 30 ноября 2015 г., создается с помощью портала управления Azure hello или hello последнюю инструментарий будет отражать эти изменения.</span><span class="sxs-lookup"><span data-stu-id="caa22-106">Starting November 30, 2015, new API apps you create using hello Azure management portal or hello latest tooling will reflect these changes.</span></span> <span data-ttu-id="caa22-107">В этой статье описаны эти изменения, а также методы tooredeploy существующих приложений tootake преимуществами hello.</span><span class="sxs-lookup"><span data-stu-id="caa22-107">This article describes these changes, as well as how tooredeploy existing apps tootake advantage of hello capabilities.</span></span>

## <a name="feature-changes"></a><span data-ttu-id="caa22-108">Изменения функций</span><span class="sxs-lookup"><span data-stu-id="caa22-108">Feature changes</span></span>
<span data-ttu-id="caa22-109">ключевые функции Hello API приложения — проверка подлинности, CORS и API метаданных — переместили непосредственно в приложение службы.</span><span class="sxs-lookup"><span data-stu-id="caa22-109">hello key features of API Apps – authentication, CORS and API metadata – have moved directly into App Service.</span></span> <span data-ttu-id="caa22-110">Благодаря этому изменению hello возможности доступны через Web, мобильных устройств и приложения API.</span><span class="sxs-lookup"><span data-stu-id="caa22-110">With this change, hello features are available across Web, Mobile and API Apps.</span></span> <span data-ttu-id="caa22-111">Фактически, все три папки hello же **Microsoft.Web/sites** тип ресурса в диспетчере ресурсов.</span><span class="sxs-lookup"><span data-stu-id="caa22-111">In fact, all three share hello same **Microsoft.Web/sites** resource type in Resource Manager.</span></span> <span data-ttu-id="caa22-112">шлюз приложения API Hello больше не нужны или предлагаемых в приложениях API.</span><span class="sxs-lookup"><span data-stu-id="caa22-112">hello API Apps gateway is no longer needed or offered with API Apps.</span></span> <span data-ttu-id="caa22-113">Также можно сделать проще toouse API управления Azure с момента будут просто hello один API-Интерфейс управления шлюз.</span><span class="sxs-lookup"><span data-stu-id="caa22-113">This also makes it easier toouse Azure API Management since there will be just hello single API Management gateway.</span></span>

![Обзор приложений API](./media/app-service-api-whats-changed/api-apps-overview.png)

<span data-ttu-id="caa22-115">Основной принцип проектирования модели с hello обновления приложения API — tooenable toobring API, что находится в выбранном языке.</span><span class="sxs-lookup"><span data-stu-id="caa22-115">A key design principle with hello API Apps update is tooenable you toobring your API as is, in your language of choice.</span></span>  <span data-ttu-id="caa22-116">Если API веб-приложения или мобильное приложение уже развернуто, у вас tooredeploy вашего приложения tootake преимуществами новых функций hello.</span><span class="sxs-lookup"><span data-stu-id="caa22-116">If your API is already deployed as a Web App or Mobile App, you do not have tooredeploy your app tootake advantage of hello new features.</span></span> <span data-ttu-id="caa22-117">Если вы используете предварительную версию приложений API, подробные сведения по переходу на новую модель можно просмотреть ниже.</span><span class="sxs-lookup"><span data-stu-id="caa22-117">If you are currently on API Apps preview, migration guidance is detailed below.</span></span>

### <a name="authentication"></a><span data-ttu-id="caa22-118">Аутентификация</span><span class="sxs-lookup"><span data-stu-id="caa22-118">Authentication</span></span>
<span data-ttu-id="caa22-119">Hello существующих готовое к использованию приложения API, мобильные службы или приложения и веб-приложений функции проверки подлинности были объединены и доступны в одной стоечный модуль проверки подлинности службы приложений Azure на портале управления hello.</span><span class="sxs-lookup"><span data-stu-id="caa22-119">hello existing turnkey API Apps, Mobile Services/Apps and Web Apps authentication features have been unified and are available in a single Azure App Service authentication blade in hello management portal.</span></span> <span data-ttu-id="caa22-120">Службы tooauthentication введение в службе приложений, в разделе [развернув приложение службы проверки подлинности и авторизации](https://azure.microsoft.com/blog/announcing-app-service-authentication-authorization/).</span><span class="sxs-lookup"><span data-stu-id="caa22-120">For an introduction tooauthentication services in App Service, see [Expanding App Service authentication / authorization](https://azure.microsoft.com/blog/announcing-app-service-authentication-authorization/).</span></span>

<span data-ttu-id="caa22-121">Сценарии использования API предоставляют множество новых возможностей:</span><span class="sxs-lookup"><span data-stu-id="caa22-121">For API scenarios, there are a number of relevant new capabilities:</span></span>

* <span data-ttu-id="caa22-122">**Поддержка непосредственно с помощью Azure Active Directory**, без необходимости маркер AAD hello tooexchange для токена сеанса кода клиента: клиент достаточно включить токены AAD hello в заголовок Authorization hello, токен носителя toohello в соответствии с Спецификация.</span><span class="sxs-lookup"><span data-stu-id="caa22-122">**Support for using Azure Active Directory directly**, without client code having tooexchange hello AAD token for a session token: Your client can just include hello AAD tokens in hello Authorization header, according toohello bearer token specification.</span></span> <span data-ttu-id="caa22-123">Это также означает SDK не зависящие от приложения службы, необходимые на стороне клиента или сервера hello.</span><span class="sxs-lookup"><span data-stu-id="caa22-123">This also means no App Service-specific SDK is required on hello client or server side.</span></span> 
* <span data-ttu-id="caa22-124">**Доступ к Service to service или «Internal»**: при наличии процесса управляющей программы или необходимости tooAPIs доступ без интерфейса другим клиентом, вы можете запросить маркер с использованием участника-службы AAD и передать его tooApp службы для проверки подлинности с вашей приложение.</span><span class="sxs-lookup"><span data-stu-id="caa22-124">**Service-to-service or "Internal" access**: If you have a daemon process or some other client needing access tooAPIs without an interface, you can request a token using an AAD service principal and pass it tooApp Service for authentication with your application.</span></span>
* <span data-ttu-id="caa22-125">**Отложенное авторизации**: многие приложения имеют различные ограничения доступа для разных частей приложения hello.</span><span class="sxs-lookup"><span data-stu-id="caa22-125">**Deferred authorization**: Many applications have varying access restrictions for different parts of hello application.</span></span> <span data-ttu-id="caa22-126">Это может потребоваться toobe некоторые API-интерфейсы общедоступным, а для других требуется вход.</span><span class="sxs-lookup"><span data-stu-id="caa22-126">Perhaps you want some APIs toobe publicly available, while others require sign-in.</span></span> <span data-ttu-id="caa22-127">Hello исходной функции проверки подлинности и авторизации была основана, с hello всего сайта, требующие входа.</span><span class="sxs-lookup"><span data-stu-id="caa22-127">hello original Authentication/Authorization feature was all-or-nothing, with hello whole site requiring login.</span></span> <span data-ttu-id="caa22-128">Этот параметр по-прежнему существует, но можно также разрешить код приложения toorender доступа решения после приложения службы прошел проверку подлинности пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="caa22-128">This option still exists, but you can alternatively allow your application code toorender access decisions after App Service has authenticated hello user.</span></span>

<span data-ttu-id="caa22-129">Дополнительные сведения о новых возможностях проверки подлинности hello см. в разделе [проверки подлинности и авторизации для приложения API в службе приложений Azure](app-service-api-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="caa22-129">For more information about hello new authentication features, see [Authentication and authorization for API Apps in Azure App Service](app-service-api-authentication.md).</span></span> <span data-ttu-id="caa22-130">Сведения о том, как toomigrate существующего приложения API из предыдущих API приложения hello модели toohello новый один, см. в разделе [перенос существующего приложения API](#migrating-existing-api-apps) далее в этой статье.</span><span class="sxs-lookup"><span data-stu-id="caa22-130">For information about how toomigrate existing API apps from hello previous API apps model toohello new one, see [Migrating existing API apps](#migrating-existing-api-apps) later in this article.</span></span>

### <a name="cors"></a><span data-ttu-id="caa22-131">CORS</span><span class="sxs-lookup"><span data-stu-id="caa22-131">CORS</span></span>
<span data-ttu-id="caa22-132">Вместо с разделителями запятыми **MS_CrossDomainOrigins** приложения параметра, теперь есть стоечный модуль в hello портала управления Azure для настройки CORS.</span><span class="sxs-lookup"><span data-stu-id="caa22-132">Instead of a comma-delimited **MS_CrossDomainOrigins** app setting, there is now a blade in hello Azure management portal for configuring CORS.</span></span> <span data-ttu-id="caa22-133">Также приложение можно настроить с помощью таких средств диспетчера ресурсов, как Azure PowerShell, интерфейс командной строки или [обозреватель ресурсов](https://resources.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="caa22-133">Alternatively, it can be configured using Resource Manager tooling such as Azure PowerShell, CLI or [Resource Explorer](https://resources.azure.com/).</span></span> <span data-ttu-id="caa22-134">Набор hello **cors** свойство hello **Microsoft.Web/sites/config** тип ресурса для вашего  **&lt;имя сайта&gt;или веб-** ресурсов.</span><span class="sxs-lookup"><span data-stu-id="caa22-134">Set hello **cors** property on hello **Microsoft.Web/sites/config** resource type for your **&lt;site name&gt;/web** resource.</span></span> <span data-ttu-id="caa22-135">Например:</span><span class="sxs-lookup"><span data-stu-id="caa22-135">For example:</span></span>

    {
        "cors": {
            "allowedOrigins": [
                "https://localhost:44300"
            ]
        }
    } 

### <a name="api-metadata"></a><span data-ttu-id="caa22-136">Метаданные API</span><span class="sxs-lookup"><span data-stu-id="caa22-136">API metadata</span></span>
<span data-ttu-id="caa22-137">колонки определение Hello API доступен через API приложениями, мобильных и веб.</span><span class="sxs-lookup"><span data-stu-id="caa22-137">hello API definition blade is now available across Web, Mobile and API Apps.</span></span> <span data-ttu-id="caa22-138">На портале управления hello можно указать относительный URL-адрес или абсолютный URL-адрес, указывающий tooan конечной точки, представление узлов Swagger 2.0 API.</span><span class="sxs-lookup"><span data-stu-id="caa22-138">In hello management portal, you can specify either a relative url or an absolute url pointing tooan endpoint that hosts a Swagger 2.0 representation of your API.</span></span> <span data-ttu-id="caa22-139">Кроме того, возможна настройка с помощью инструментария диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="caa22-139">Alternatively, it can be configured using Resource Manager tooling.</span></span> <span data-ttu-id="caa22-140">Набор hello **apiDefinition** свойство hello **Microsoft.Web/sites/config** тип ресурса для вашего  **&lt;имя сайта&gt;или веб-** ресурсов.</span><span class="sxs-lookup"><span data-stu-id="caa22-140">Set hello **apiDefinition** property on hello **Microsoft.Web/sites/config** resource type for your **&lt;site name&gt;/web** resource.</span></span> <span data-ttu-id="caa22-141">Например:</span><span class="sxs-lookup"><span data-stu-id="caa22-141">For example:</span></span>

    {
        "apiDefinition":
        {
            "url": "https://myStorageAccount.blob.core.windows.net/swagger/apiDefinition.json"
        }
    }

<span data-ttu-id="caa22-142">В настоящее время hello метаданных конечной точки требуется toobe общего доступа без проверки подлинности для многих tooconsume подчиненных клиентов (например Visual Studio API-интерфейса REST создание клиента и PowerApps потока «Добавить API») ее.</span><span class="sxs-lookup"><span data-stu-id="caa22-142">At this time, hello metadata endpoint needs toobe publicly accessible without authentication for many downstream clients (e.g. Visual Studio REST API client generation and PowerApps "Add API" flow) tooconsume it.</span></span> <span data-ttu-id="caa22-143">Это значит, если вы используете проверку подлинности службы приложений и определения API hello tooexpose из в само приложение, необходимо будет toouse hello Отложенная проверка подлинности параметр описано ранее, чтобы метаданные Swagger tooyour маршрут hello является открытым.</span><span class="sxs-lookup"><span data-stu-id="caa22-143">This does mean if you are using App Service authentication and want tooexpose hello API definition from within your app itself, you will need toouse hello Deferred Authentication option described earlier so that hello route tooyour Swagger metadata is public.</span></span>

## <a name="management-portal"></a><span data-ttu-id="caa22-144">Портал управления</span><span class="sxs-lookup"><span data-stu-id="caa22-144">Management Portal</span></span>
<span data-ttu-id="caa22-145">При выборе **Создать > Интернет + мобильные устройства > приложения API** в hello портал создаст приложения API, которые отражают новые возможности hello, описанное в статье hello.</span><span class="sxs-lookup"><span data-stu-id="caa22-145">Selecting **New > Web + Mobile > API App** in hello portal will create API apps that reflect hello new capabilities described in hello article.</span></span> <span data-ttu-id="caa22-146">Выбрав **Обзор > Приложения API**, вы только отобразите новые приложения API.</span><span class="sxs-lookup"><span data-stu-id="caa22-146">**Browse > API Apps** will only show these new API apps.</span></span> <span data-ttu-id="caa22-147">После просмотра в приложение API общих папок колонке hello hello же макет и возможности, что и веб-приложений и мобильных приложений.</span><span class="sxs-lookup"><span data-stu-id="caa22-147">Once you browse into an API app, hello blade shares hello same layout and capabilities as those of Web and Mobile Apps.</span></span> <span data-ttu-id="caa22-148">Hello единственными отличиями являются примеры использования содержимого и порядок параметров.</span><span class="sxs-lookup"><span data-stu-id="caa22-148">hello only differences are quickstart content and ordering of settings.</span></span>

<span data-ttu-id="caa22-149">Существующие приложения API (или Marketplace API приложений, созданных из Logic Apps) с hello предыдущих возможность просмотра будет по-прежнему отображаться в конструкторе логики приложения hello и при просмотре всех ресурсов в группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="caa22-149">Existing API apps (or Marketplace API apps created from Logic Apps) with hello previous Preview capabilities will still be visible in hello Logic Apps designer and when browsing all resources in a resource group.</span></span>

## <a name="visual-studio"></a><span data-ttu-id="caa22-150">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="caa22-150">Visual Studio</span></span>
<span data-ttu-id="caa22-151">Большинство веб-приложений, поскольку они совместно используют инструментарий будет работать с нового приложения API hello же базовый **Microsoft.Web/sites** типа ресурса.</span><span class="sxs-lookup"><span data-stu-id="caa22-151">Most Web Apps tooling will work with new API apps since they share hello same underlying **Microsoft.Web/sites** resource type.</span></span> <span data-ttu-id="caa22-152">Hello Azure Visual Studio для работы с проектами, но следует обновленного tooversion 2.8.1 или более поздней версии, так как оно предоставляет ряд возможностей конкретного tooAPIs.</span><span class="sxs-lookup"><span data-stu-id="caa22-152">hello Azure Visual Studio tooling, however, should be upgraded tooversion 2.8.1 or later since it exposes a number of capabilities specific tooAPIs.</span></span> <span data-ttu-id="caa22-153">Загрузить пакет SDK для hello hello [страницу загрузок Azure](https://azure.microsoft.com/downloads/).</span><span class="sxs-lookup"><span data-stu-id="caa22-153">Download hello SDK from hello [Azure downloads page](https://azure.microsoft.com/downloads/).</span></span>

<span data-ttu-id="caa22-154">Рационализации hello объекта типы служб приложения hello, публиковать также единой под **публикации > службу приложений Microsoft Azure**:</span><span class="sxs-lookup"><span data-stu-id="caa22-154">With hello rationalization of hello App Service types, publish is also unified under **Publish > Microsoft Azure App Service**:</span></span>

![Публикация приложений API](./media/app-service-api-whats-changed/api-apps-publish.png)

<span data-ttu-id="caa22-156">Дополнительные сведения о SDK 2.8.1, объявления hello чтения toolearn [блога](https://azure.microsoft.com/blog/announcing-azure-sdk-2-8-1-for-net/).</span><span class="sxs-lookup"><span data-stu-id="caa22-156">toolearn more about SDK 2.8.1, read hello announcement [blog post](https://azure.microsoft.com/blog/announcing-azure-sdk-2-8-1-for-net/).</span></span>

<span data-ttu-id="caa22-157">Кроме того, можно вручную импортировать hello профиль из tooenable портала управления hello публикации публикации.</span><span class="sxs-lookup"><span data-stu-id="caa22-157">Alternatively, you can manually import hello publish profile from hello management portal tooenable publish.</span></span> <span data-ttu-id="caa22-158">Однако, чтобы использовать Cloud Explorer, создавать код и выбирать или создавать приложения API, необходимо установить пакет SDK 2.8.1 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="caa22-158">However, Cloud Explorer, code generation and API app selection/creation will require SDK 2.8.1 or higher.</span></span>

## <a name="migrating-existing-api-apps"></a><span data-ttu-id="caa22-159">Миграция существующих приложений API</span><span class="sxs-lookup"><span data-stu-id="caa22-159">Migrating existing API apps</span></span>
<span data-ttu-id="caa22-160">Если настраиваемого API развернутой toohello предыдущей предварительной версии приложения API, мы запроса перенести toohello новую модель для приложений API по 31 декабря 2015 г.</span><span class="sxs-lookup"><span data-stu-id="caa22-160">If your custom API is deployed toohello previous Preview version of API Apps, we request that you migrate toohello new model for API Apps by December 31, 2015.</span></span> <span data-ttu-id="caa22-161">Поскольку оба hello старой и новой модели созданы на основе веб-API, размещенных в службе приложений, могут повторно hello основная часть существующего кода.</span><span class="sxs-lookup"><span data-stu-id="caa22-161">Since both hello old and new model are based on Web APIs hosted in App Service, hello majority of existing code can be reused.</span></span>

### <a name="hosting-and-redeployment"></a><span data-ttu-id="caa22-162">Размещение и повторное развертывание</span><span class="sxs-lookup"><span data-stu-id="caa22-162">Hosting and redeployment</span></span>
<span data-ttu-id="caa22-163">Hello действия для повторного развертывания hello то же, что развертывание любой существующий tooApp веб-API службы.</span><span class="sxs-lookup"><span data-stu-id="caa22-163">hello steps for redeploying are hello same as deploying any existing Web API tooApp Service.</span></span> <span data-ttu-id="caa22-164">Шаги:</span><span class="sxs-lookup"><span data-stu-id="caa22-164">Steps:</span></span>

1. <span data-ttu-id="caa22-165">Создайте пустое приложение API.</span><span class="sxs-lookup"><span data-stu-id="caa22-165">Create an empty API app.</span></span> <span data-ttu-id="caa22-166">Это можно сделать на портале hello с New > приложения API, в Visual Studio, из публикации или средства диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="caa22-166">This can be done in hello portal with New > API App, in Visual Studio from publish, or from Resource Manager tooling.</span></span> <span data-ttu-id="caa22-167">Если используется диспетчер ресурсов средства и шаблоны, задайте hello **вид** значение слишком**api** на hello **Microsoft.Web/sites** краткие руководства по hello toohave типа ресурсов и параметров в портал управления Hello ориентированных сценариев API.</span><span class="sxs-lookup"><span data-stu-id="caa22-167">If using Resource Manager tooling or templates, set hello **kind** value too**api** on hello **Microsoft.Web/sites** resource type toohave hello quickstarts and settings in hello management portal oriented towards API scenarios.</span></span>
2. <span data-ttu-id="caa22-168">Подключите и развертывания проекта toohello пустой API приложения использование всех механизмы развертывания hello поддерживается службой приложений.</span><span class="sxs-lookup"><span data-stu-id="caa22-168">Connect and deploy your project toohello empty API app using any of hello deployment mechanisms supported by App Service.</span></span> <span data-ttu-id="caa22-169">Чтение [документации по развертыванию службы приложений Azure](../app-service-web/web-sites-deploy.md) toolearn дополнительные.</span><span class="sxs-lookup"><span data-stu-id="caa22-169">Read [Azure App Service deployment documentation](../app-service-web/web-sites-deploy.md) toolearn more.</span></span> 

### <a name="authentication"></a><span data-ttu-id="caa22-170">Аутентификация</span><span class="sxs-lookup"><span data-stu-id="caa22-170">Authentication</span></span>
<span data-ttu-id="caa22-171">Hello поддержка службы проверки подлинности службы приложений hello такие же возможности, которые были доступны с предыдущей модели приложения API hello.</span><span class="sxs-lookup"><span data-stu-id="caa22-171">hello App Service authentication services support hello same capabilities that were available with hello previous API Apps model.</span></span> <span data-ttu-id="caa22-172">Если используется токенов сеанса и требуется пакеты SDK, используйте hello следующие пакеты SDK клиента и сервера:</span><span class="sxs-lookup"><span data-stu-id="caa22-172">If you are using session tokens and require SDKs, use hello following client and server SDKs:</span></span>

* <span data-ttu-id="caa22-173">Для клиента: [пакет Azure SDK для мобильного клиента](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Client/)</span><span class="sxs-lookup"><span data-stu-id="caa22-173">Client: [Azure Mobile Client SDK](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Client/)</span></span>
* <span data-ttu-id="caa22-174">Для сервера: [расширение проверки подлинности .NET для мобильных приложений Microsoft Azure](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Server.Authentication/)</span><span class="sxs-lookup"><span data-stu-id="caa22-174">Server: [Microsoft Azure Mobile App .NET Authentication Extension](http://www.nuget.org/packages/Microsoft.Azure.Mobile.Server.Authentication/)</span></span> 

<span data-ttu-id="caa22-175">При использовании вместо hello альфа-канал службы приложений пакеты SDK, они не являются устаревшими:</span><span class="sxs-lookup"><span data-stu-id="caa22-175">If you were instead using hello App Service alpha SDKs, these are now deprecated:</span></span>

* <span data-ttu-id="caa22-176">Для клиента: [пакет SDK для службы приложений Microsoft Azure](http://www.nuget.org/packages/Microsoft.Azure.AppService)</span><span class="sxs-lookup"><span data-stu-id="caa22-176">Client: [Microsoft Azure AppService SDK](http://www.nuget.org/packages/Microsoft.Azure.AppService)</span></span>
* <span data-ttu-id="caa22-177">Для сервера: [Microsoft.Azure.AppService.ApiApps.Service](http://www.nuget.org/packages/Microsoft.Azure.AppService.ApiApps.Service)</span><span class="sxs-lookup"><span data-stu-id="caa22-177">Server: [Microsoft.Azure.AppService.ApiApps.Service](http://www.nuget.org/packages/Microsoft.Azure.AppService.ApiApps.Service)</span></span>

<span data-ttu-id="caa22-178">В частности с Azure Active Directory, однако нет службы конкретного приложения является обязательным, если маркер AAD hello используется напрямую.</span><span class="sxs-lookup"><span data-stu-id="caa22-178">In particular with Azure Active Directory, however, no App Service-specific is required if you are using hello AAD token directly.</span></span>

### <a name="internal-access"></a><span data-ttu-id="caa22-179">Внутренний доступ</span><span class="sxs-lookup"><span data-stu-id="caa22-179">Internal access</span></span>
<span data-ttu-id="caa22-180">Hello предыдущей модели приложения API включен уровень встроенных внутреннего доступа.</span><span class="sxs-lookup"><span data-stu-id="caa22-180">hello previous API Apps model included a built-in internal access level.</span></span> <span data-ttu-id="caa22-181">Это потребовало использование hello пакета SDK для подписи запросов.</span><span class="sxs-lookup"><span data-stu-id="caa22-181">This required use of hello SDK for signing requests.</span></span> <span data-ttu-id="caa22-182">Как было сказано выше, с новой модели приложений API hello, субъекты-службы AAD используется в качестве альтернативы для проверки подлинности службы для службы без необходимости обновления конкретного приложения пакета SDK.</span><span class="sxs-lookup"><span data-stu-id="caa22-182">As described earlier, with hello new API Apps model, AAD service principals can be used as an alternate for service-to-service authentication without requiring an App Service-specific SDK.</span></span> <span data-ttu-id="caa22-183">Дополнительные сведения см. в статье [Проверка подлинности с использованием субъекта-службы для приложений API в службе приложений Azure](app-service-api-dotnet-service-principal-auth.md).</span><span class="sxs-lookup"><span data-stu-id="caa22-183">Learn more in [Service principal authentication for API Apps in Azure App Service](app-service-api-dotnet-service-principal-auth.md).</span></span>

### <a name="discovery"></a><span data-ttu-id="caa22-184">Обнаружение</span><span class="sxs-lookup"><span data-stu-id="caa22-184">Discovery</span></span>
<span data-ttu-id="caa22-185">Hello предыдущих приложения API модели имели API-интерфейсы для обнаружения других API приложений во время выполнения в hello одну группу ресурсов за hello одного шлюза.</span><span class="sxs-lookup"><span data-stu-id="caa22-185">hello previous API Apps model had APIs for discovering other API apps at runtime in hello same resource group behind hello same gateway.</span></span> <span data-ttu-id="caa22-186">Это особенно полезно в архитектурах, где реализуются шаблоны микрослужб.</span><span class="sxs-lookup"><span data-stu-id="caa22-186">This is especially useful in architectures that implement microservice patterns.</span></span> <span data-ttu-id="caa22-187">Хотя эта возможность не поддерживается напрямую, есть несколько доступных вариантов.</span><span class="sxs-lookup"><span data-stu-id="caa22-187">While this is not directly supported, a number of options are available:</span></span>

1. <span data-ttu-id="caa22-188">Используйте hello API диспетчера ресурсов Azure для обнаружения.</span><span class="sxs-lookup"><span data-stu-id="caa22-188">Use hello Azure Resource Manager API's for discovery.</span></span>
2. <span data-ttu-id="caa22-189">Разместите службу управления API Azure перед API, размещенными в службе приложений.</span><span class="sxs-lookup"><span data-stu-id="caa22-189">Put Azure API Management in front of your App Service-hosted APIs.</span></span> <span data-ttu-id="caa22-190">Служба управления API Azure выступает в качестве интерфейсной части и может предоставлять постоянные URL-адреса, доступные извне приложения, даже при изменении внутренней топологии.</span><span class="sxs-lookup"><span data-stu-id="caa22-190">Azure API Management serves as a facade and can provide a stable external facing url even if you internal topology changes.</span></span>
3. <span data-ttu-id="caa22-191">Создание приложения API обнаружения и другими приложениями API зарегистрировать приложение hello обнаружения во время запуска.</span><span class="sxs-lookup"><span data-stu-id="caa22-191">Build your own discovery API app and have other API apps register with hello discovery app on startup.</span></span>
4. <span data-ttu-id="caa22-192">Во время развертывания наполнить параметры приложения hello, все hello API приложения (и клиентов) hello конечных точек hello другими приложениями API.</span><span class="sxs-lookup"><span data-stu-id="caa22-192">At deployment time, populate hello app settings of all hello API apps (and clients) with hello endpoints of hello other API apps.</span></span> <span data-ttu-id="caa22-193">Это применяется в шаблон развертывания, и, поскольку теперь позволяют приложениям API управления hello URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="caa22-193">This is viable in template deployments and since API Apps now give you control of hello url.</span></span>

## <a name="using-api-apps-with-logic-apps"></a><span data-ttu-id="caa22-194">Использование приложений API с приложениями логики</span><span class="sxs-lookup"><span data-stu-id="caa22-194">Using API Apps with Logic Apps</span></span>
<span data-ttu-id="caa22-195">Hello новой модели приложений API хорошо работает с [Logic Apps схемы версии 2015-08-01](../logic-apps/logic-apps-schema-2015-08-01.md).</span><span class="sxs-lookup"><span data-stu-id="caa22-195">hello new API apps model works well with [Logic Apps schema version 2015-08-01](../logic-apps/logic-apps-schema-2015-08-01.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="caa22-196">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="caa22-196">Next Steps</span></span>
<span data-ttu-id="caa22-197">toolearn более, ознакомьтесь со статьями hello в hello [раздел документации по API приложений](https://azure.microsoft.com/documentation/services/app-service/api/).</span><span class="sxs-lookup"><span data-stu-id="caa22-197">toolearn more, read hello articles in hello [API Apps Documentation section](https://azure.microsoft.com/documentation/services/app-service/api/).</span></span> <span data-ttu-id="caa22-198">Их обновленные tooreflect hello новую модель для приложений API.</span><span class="sxs-lookup"><span data-stu-id="caa22-198">They have been updated tooreflect hello new model for API Apps.</span></span> <span data-ttu-id="caa22-199">Кроме того направляться на форумах hello для дополнительных сведений или руководство по миграции:</span><span class="sxs-lookup"><span data-stu-id="caa22-199">In addition, do reach out on hello forums for additional details or guidance on migration:</span></span>

* [<span data-ttu-id="caa22-200">Форум MSDN</span><span class="sxs-lookup"><span data-stu-id="caa22-200">MSDN forum</span></span>](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureAPIApps)
* [<span data-ttu-id="caa22-201">Stack Overflow</span><span class="sxs-lookup"><span data-stu-id="caa22-201">Stack Overflow</span></span>](http://stackoverflow.com/questions/tagged/azure-api-apps)

