---
title: "Обновление проектов до текущей версии инструментов Azure | Документация Майкрософт"
description: "Сведения об обновлении проекта Azure в Visual Studio до текущей версии инструментов Azure"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 1d64070a-078d-468a-87f4-e6715de6475f
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/18/2016
ms.author: kraigb
ms.openlocfilehash: 9a35de7ca0e7161468181b21709e1bd9915d566f
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="how-to-upgrade-projects-to-the-current-version-of-the-azure-tools-for-visual-studio"></a><span data-ttu-id="84246-103">Обновление проектов до текущей версии инструментов Azure для Visual Studio</span><span class="sxs-lookup"><span data-stu-id="84246-103">How to upgrade projects to the current version of the Azure Tools for Visual Studio</span></span>
## <a name="overview"></a><span data-ttu-id="84246-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="84246-104">Overview</span></span>
<span data-ttu-id="84246-105">После установки текущего выпуска инструментов Azure (или предыдущего выпуска, который новее, чем 1.6) все проекты, созданные с помощью инструментов Azure, выпущенных до версии 1.6 (ноябрь 2011 г.), будут автоматически обновлены сразу же после их открытия.</span><span class="sxs-lookup"><span data-stu-id="84246-105">After you install the current release of the Azure Tools (or a previous release that's newer than 1.6), any projects that were created by using a Azure Tools release before 1.6 (November 2011) will be automatically upgraded as soon as you open them.</span></span> <span data-ttu-id="84246-106">Если вы создавали проекты с помощью версии 1.6 (ноябрь 2011 г.) этих инструментов и эта версия у вас по-прежнему установлена, вы можете открывать такие проекты в старой версии и решить позже, следует ли их обновлять.</span><span class="sxs-lookup"><span data-stu-id="84246-106">If you created projects by using the 1.6 (November 2011) release of those tools and you still have that release installed, you can open those projects in the older release and decide later whether to upgrade them.</span></span>

## <a name="how-your-project-changes-when-you-upgrade-it"></a><span data-ttu-id="84246-107">Изменение проекта при его обновлении</span><span class="sxs-lookup"><span data-stu-id="84246-107">How your project changes when you upgrade it</span></span>
<span data-ttu-id="84246-108">Если проект обновляется автоматически или вы указали, что его следует обновить, проект будет модифицирован для работы с текущими версиями определенных сборок, а также в нем изменятся некоторые свойства, описанные в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="84246-108">If a project is automatically upgraded or you specify that you want to upgrade it, your project is modified to work with current versions of certain assemblies, and some properties are also changed as this section describes.</span></span> <span data-ttu-id="84246-109">Если проект требует других изменений для обеспечения совместимости с более новой версией инструментов, такие изменения необходимо внести вручную.</span><span class="sxs-lookup"><span data-stu-id="84246-109">If your project requires other changes to be compatible with the newer version of the tools, you must make those changes manually.</span></span>

* <span data-ttu-id="84246-110">Файл web.config для веб-ролей и файл app.config для рабочих ролей обновляются для обращения к более новой версии Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitoirTraceListener.dll.</span><span class="sxs-lookup"><span data-stu-id="84246-110">The web.config file for web roles and the app.config file for worker roles are updated to reference the newer version of Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitoirTraceListener.dll.</span></span>
* <span data-ttu-id="84246-111">Сборки Microsoft.WindowsAzure.StorageClient.dll, Microsoft.WindowsAzure.Diagnostics.dll и Microsoft.WindowsAzure.ServiceRuntime.dll обновляются до новых версий.</span><span class="sxs-lookup"><span data-stu-id="84246-111">The Microsoft.WindowsAzure.StorageClient.dll, Microsoft.WindowsAzure.Diagnostics.dll, and Microsoft.WindowsAzure.ServiceRuntime.dll assemblies are upgraded to the new versions.</span></span>
* <span data-ttu-id="84246-112">Профили публикации, которые хранились в файле проекта Azure (.ccproj), перемещаются в отдельный файл с расширением .azurePubXml, расположенный в подкаталоге **Publish** .</span><span class="sxs-lookup"><span data-stu-id="84246-112">Publish profiles that were stored in the Azure project file (.ccproj) are moved to a separate file, with the extension .azurePubXml, in the **Publish** subdirectory.</span></span>
* <span data-ttu-id="84246-113">Некоторые свойства в профиле публикации обновляются для поддержки новых и измененных функций.</span><span class="sxs-lookup"><span data-stu-id="84246-113">Some properties in the publish profile are updated to support new and changed features.</span></span> <span data-ttu-id="84246-114">Свойство **AllowUpgrade** заменяется свойством **DeploymentReplacementMethod**, так как развернутую облачную службу можно обновлять одновременно или поступательно.</span><span class="sxs-lookup"><span data-stu-id="84246-114">**AllowUpgrade** is replaced by **DeploymentReplacementMethod** because you can update a deployed cloud service simultaneously or incrementally.</span></span>
* <span data-ttu-id="84246-115">Добавляется свойство **UseIISExpressByDefault** , для которого устанавливается значение false, чтобы веб-сервер, используемый для отладки, не изменялся автоматически с Internet Information Services (IIS) на IIS Express.</span><span class="sxs-lookup"><span data-stu-id="84246-115">The property **UseIISExpressByDefault** is added and set to false so that the web server that’s used for debugging won’t automatically change from Internet Information Services (IIS) to IIS Express.</span></span> <span data-ttu-id="84246-116">IIS Express — это веб-сервер по умолчанию для проектов, создаваемых с помощью новых версий инструментов.</span><span class="sxs-lookup"><span data-stu-id="84246-116">IIS Express is the default web server for projects that are created with the newer releases of the tools.</span></span>
* <span data-ttu-id="84246-117">Если Azure Caching размещается в одной или нескольких ролях вашего проекта, при обновлении проекта некоторые свойства в конфигурации службы (CSCFG-файле) и определении службы (CSDEF-файле) изменяются.</span><span class="sxs-lookup"><span data-stu-id="84246-117">If Azure Caching is hosted in one or more of your project’s roles, some properties in the service configuration (.cscfg file) and service definition (.csdef file) are changed when a project is upgraded.</span></span> <span data-ttu-id="84246-118">Если в проекте используется пакет кэширования Azure Caching NuGet, проект обновляется до последней версии пакета.</span><span class="sxs-lookup"><span data-stu-id="84246-118">If the project uses the Azure Caching NuGet package, the project is upgraded to the most recent version of the package.</span></span> <span data-ttu-id="84246-119">Откройте файл web.config и убедитесь, что конфигурация клиента поддерживалась должным образом в процессе обновления.</span><span class="sxs-lookup"><span data-stu-id="84246-119">You should open the web.config file and verify that the client configuration was maintained properly during the upgrade process.</span></span> <span data-ttu-id="84246-120">Если ссылки на клиентские сборки Azure Caching добавлены без использования пакета NuGet, эти сборки не будут обновляться. Необходимо вручную обновить такие ссылки до новых версий.</span><span class="sxs-lookup"><span data-stu-id="84246-120">If you added the references to Azure Caching client assemblies without using the NuGet package, these assemblies won't be updated; you must manually update these references to the new versions.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="84246-121">Для проектов F# необходимо вручную обновить ссылки на сборки Azure, чтобы они обращались к более новым версиям таких сборок.</span><span class="sxs-lookup"><span data-stu-id="84246-121">For F# projects, you must manually update references to Azure assemblies so that they reference the newer versions of those assemblies.</span></span>
> 
> 

### <a name="how-to-upgrade-an-azure-project-to-the-current-release"></a><span data-ttu-id="84246-122">Обновление проекта Azure до текущего выпуска</span><span class="sxs-lookup"><span data-stu-id="84246-122">How to upgrade an Azure project to the current release</span></span>
1. <span data-ttu-id="84246-123">Установите текущую версию инструментов Azure в установленной системе Visual Studio, которую планируется использовать для обновленного проекта, а затем откройте проект, который требуется обновить.</span><span class="sxs-lookup"><span data-stu-id="84246-123">Install the current version of the Azure Tools into the installation of Visual Studio that you want to use for the upgraded project, and then open the project that you want to upgrade.</span></span> <span data-ttu-id="84246-124">Если проект создан с помощью инструментов Azure, выпущенных до версии 1.6 (ноябрь 2011 г.), проект автоматически обновится до текущей версии.</span><span class="sxs-lookup"><span data-stu-id="84246-124">If the project was created with a Azure Tools release before 1.6 (November 2011), the project is automatically upgraded to the current version.</span></span> <span data-ttu-id="84246-125">Если проект был создан с помощью выпуска за ноябрь 2011 г. и этот выпуск все еще установлен, проект откроется в этом выпуске.</span><span class="sxs-lookup"><span data-stu-id="84246-125">If the project was created with the November 2011 release and that release is still installed, the project opens in that release.</span></span>
2. <span data-ttu-id="84246-126">В обозревателе решений откройте контекстное меню узла проекта, выберите **Свойства**, а затем в отобразившемся диалоговом окне выберите вкладку **Приложение**.</span><span class="sxs-lookup"><span data-stu-id="84246-126">In Solution Explorer, open the shortcut menu for the project node, choose **Properties**, and then choose the **Application** tab of the dialog box that appears.</span></span>
   
    <span data-ttu-id="84246-127">На вкладке **Приложение** отображается версия инструментов, связанная с проектом.</span><span class="sxs-lookup"><span data-stu-id="84246-127">The **Application** tab shows the tools version that’s associated with the project.</span></span> <span data-ttu-id="84246-128">Если отображается текущая версия инструментов Azure, проект уже обновлен.</span><span class="sxs-lookup"><span data-stu-id="84246-128">If the current version of Azure Tools appears, the project has already been upgraded.</span></span> <span data-ttu-id="84246-129">Если вы установили более новую версию инструментов, чем та, которая отображается на вкладке, появится кнопка **Обновление** .</span><span class="sxs-lookup"><span data-stu-id="84246-129">If you've installed a newer version of the tools than what the tab shows, an **Upgrade** button appears.</span></span>
3. <span data-ttu-id="84246-130">Нажмите кнопку **Обновление** , чтобы обновить проект до текущей версии инструментов.</span><span class="sxs-lookup"><span data-stu-id="84246-130">Choose the **Upgrade** button to upgrade a project to the current version of the tools.</span></span>
4. <span data-ttu-id="84246-131">Выполните сборку проекта, а затем исправьте все ошибки, возникающие в результате изменения API.</span><span class="sxs-lookup"><span data-stu-id="84246-131">Build the project, and then address any errors that result from API changes.</span></span> <span data-ttu-id="84246-132">Сведения об изменении кода для новой версии см. в документации к конкретному API.</span><span class="sxs-lookup"><span data-stu-id="84246-132">For information about how to modify your code for the new version, see the documentation for the specific API.</span></span>

