---
title: "производительность hello aaaTesting облачной службы | Документы Microsoft"
description: "Тестирование производительности hello облачной службы с помощью профилировщика Visual Studio hello"
services: visual-studio-online
documentationcenter: n/a
author: kraigb
manager: ghogen
editor: 
ms.assetid: 7a5501aa-f92c-457c-af9b-92ea50914e24
ms.service: visual-studio-online
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 98bd775e6ffcf948e737c5ec26399c81f4770fe3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="testing-hello-performance-of-a-cloud-service"></a>Тестирование производительности hello облачной службы
## <a name="overview"></a>Обзор
Вы можете протестировать hello производительность облачной службы в hello следующих способов:

* Используйте сведения диагностики Azure toocollect о запросов и соединений и tooreview статистику сайта, которые показывают, как служба hello выполняет с точки зрения клиента. tooget к выполнению, в разделе [настройки диагностики для облачных служб Azure и виртуальных машин](http://go.microsoft.com/fwlink/p/?LinkId=623009).
* Используйте tooget профилировщик Visual Studio hello глубокий анализ вычислительных аспектов hello способ выполнения службы hello. Как описано в этом разделе, можно использовать hello профилировщик toomeasure производительности как работы службы в Azure. Сведения о том, как toouse hello профилировщик toomeasure производительности как служба работает локально в эмуляторе вычислений см. в разделе [hello тестирование производительности облачной службы Azure локально в эмуляторе вычислений с помощью hello hello профилировщик Visual Studio ](http://go.microsoft.com/fwlink/p/?LinkId=262845).

## <a name="choosing-a-performance-testing-method"></a>Выбор метода тестирования производительности
### <a name="use-azure-diagnostics-toocollect"></a>Используйте toocollect диагностики Azure:
* статистики для веб-страниц или служб, такой как запросы и подключения;
* статистики по ролям, например, частоты перезапуска роли;
* Общую информацию об использовании памяти, например процент времени, сборщик мусора принимает hello или hello памяти hello набор запущенной роли.

### <a name="use-hello-visual-studio-profiler-to"></a>Используйте профилировщик Visual Studio hello для:
* Определите, какие функции занимают hello большая часть времени.
* измерения количества времени, которое занимает каждая часть программы с большим объемом вычислений;
* сравнения подробных отчетов о производительности для двух версий службы;
* Анализ распределения памяти более подробно, чем уровень hello отдельных выделений памяти.
* анализа проблем параллелизма в многопоточном коде.

При использовании профилировщика hello, можно собирать данные при выполнении облачной службы локально или в Azure.

### <a name="collect-profiling-data-locally-to"></a>Сбор данных профилирования локально позволит:
* Тестирование производительности hello части облачной службы, например выполнение определенной рабочей роли, которая не требует реалистичного моделирования нагрузки hello.
* Тестирование производительности hello облачной службы изолированно в контролируемых условиях.
* Тестирование производительности hello облачной службы, прежде чем развернуть его tooAzure.
* Проверка производительности hello облачной службы в частном порядке, без нарушения работы существующих развертываний hello.
* Тестирование производительности hello hello службы без дополнительных расходов для выполнения в Azure.

### <a name="collect-profiling-data-in-azure-to"></a>Сбор данных профилирования в Azure позволит:
* Тестирование производительности hello облачной службы при имитируемой или реальной нагрузке.
* Используйте hello метода инструментирования для сбора данных профилирования, как в этом разделе описывается более поздней версии.
* Тестирование производительности hello службы hello в hello же среде, что при запуске службы hello в рабочей среде.

Обычно при имитации нагрузки tootest облачных служб в обычный или условиях нагрузки.

## <a name="profiling-a-cloud-service-in-azure"></a>Профилирование облачной службы в Azure
При публикации облачной службы из Visual Studio можно hello службы профилей и hello профилирование параметры, позволяющие hello сведения, которые необходимо указать. Сеанс профилирования запускается для каждого экземпляра роли. Дополнительные сведения о том, как toopublish службы из Visual Studio отображается [публикации облачной службы Azure из Visual Studio tooan](https://msdn.microsoft.com/library/azure/ee460772.aspx).

toounderstand Дополнительные сведения о профилировании производительности в Visual Studio, в разделе [tooPerformance руководство для начинающих профилирования](https://msdn.microsoft.com/library/azure/ms182372.aspx) и [анализ производительности приложения с помощью средств профилирования](https://msdn.microsoft.com/library/azure/z9z62c29.aspx).

> [!NOTE]
> При публикации облачной службы можно включить IntelliTrace или профилирование. И то, и другое одновременно включить нельзя.
> 
> 

### <a name="profiler-collection-methods"></a>Методы сбора данных профилировщика
Для профилирования можно использовать различные методы сбора данных в зависимости от того, какую статистику по производительности необходимо получить:

* **Выборка из ЦП** — этот метод осуществляет сбор статистики приложения, которую удобно использовать для первоначального анализа проблем использования ЦП. Выборка циклов ЦП hello предложенным методом для запуска большинства расследований производительности. Нет слабо влияет на приложения hello профилируемым при сборе данных выборки ЦП.
* **Инструментирование** — этот метод осуществляет сбор подробных временных данных, которые удобно использовать для целенаправленного анализа и для анализа проблем производительности ввода/вывода. метод инструментирования Hello записывает каждого входа, выхода и вызов функции функций hello в модуле во время профилирования. Этот метод полезен для сбора подробных сведений о разделе кода и для понимания влияния операций ввода-вывода на производительность приложения hello. На компьютерах, работающих под управлением 32-разрядных операционных систем, этот метод недоступен. Этот параметр доступен только при запуске hello облачной службы в Azure, а не локально в эмуляторе вычислений hello.
* **Выделение памяти .NET** -этот метод осуществляет сбор данных о выделении памяти .NET Framework с помощью метода профилирования с выборкой hello. Hello собранные данные включают в себя hello число и размер выделенных объектов.
* **Параллелизм** — этот метод осуществляет сбор данных о конфликтах ресурсов и данных о выполнении процессов и потоков. Эти данные полезны для анализа многопоточных и многопроцессных приложений. метод параллелизма Hello собирает данные для каждого события, которое блокирует выполнение кода, например, когда поток ожидает блокировки освобождения ресурсов toobe доступа tooan приложения. Этот метод удобен для анализа многопоточных приложений.
* Можно также включить **профилирование уровневого взаимодействия**, который позволяет получить дополнительные сведения о времени выполнения hello синхронной ADO.NET вызовы функций многоуровневых приложений, взаимодействующих с одной или несколькими базы данных. Можно собирать данные об уровневом взаимодействии с любым из методов профилирования hello. Дополнительные сведения о профилировании межуровневого взаимодействия см. в разделе [Представление "Взаимодействие между уровнями"](https://msdn.microsoft.com/library/azure/dd557764.aspx).

## <a name="configuring-profiling-settings"></a>Настройка параметров профилирования
Здравствуйте, следуя рисунке показано как tooconfigure параметры профилирования из диалогового окна публикации приложения Azure hello.

![Настроить параметры профилирования](./media/vs-azure-tools-performance-profiling-cloud-services/IC526984.png)

> [!NOTE]
> tooenable hello **включить профилирование** флажок, необходимо иметь профилировщик hello установлены на локальном компьютере hello, что вы используете toopublish облачной службы. По умолчанию hello профилировщик устанавливается при установке Visual Studio.
> 
> 

### <a name="tooconfigure-profiling-settings"></a>tooconfigure параметров приложения
1. В обозревателе решений откройте контекстное меню проекта Azure hello и выберите **публикации**. Подробные инструкции о том, как toopublish облачной службы, в разделе [публикации облачной службы с помощью средства Azure "hello"](http://go.microsoft.com/fwlink/p?LinkId=623012).
2. В hello **публикации приложения Azure** диалоговое окно, выберите hello **Дополнительные параметры** вкладки.
3. tooenable профилирования, выберите hello **включить профилирование** флажок.
4. tooconfigure параметры профилирования, выберите hello **параметры** гиперссылки. Откроется диалоговое окно Параметры профилирования Hello.
5. Из hello **какой способ профилирования следует как toouse** переключатели, выберите тип hello профилирования.
6. данные, выберите hello профилирования уровневого взаимодействия toocollect hello **включить профилирование уровневого взаимодействия** флажок.
7. Параметры toosave hello, выберите hello **ОК** кнопки.
   
    При публикации этого приложения, эти параметры используются hello используется toocreate профилирования сеанса для каждой роли.

## <a name="viewing-profiling-reports"></a>Просмотр отчетов профилирования
Сеанс профилирования создается для каждого экземпляра роли в облачной службе. tooview профилированием сообщает каждой сессии из Visual Studio, можно просмотреть hello окна обозревателя серверов и выберите tooselect узел вычислений Azure hello экземпляра роли. Затем можно просмотреть отчет о профилировании, как показано в следующих рисунке hello hello.

![Просмотр отчета профилирования Azure](./media/vs-azure-tools-performance-profiling-cloud-services/IC748914.png)

### <a name="tooview-profiling-reports"></a>tooview отчеты профилирования
1. tooview hello окно обозревателя серверов в Visual Studio на hello строке меню выберите вид, обозреватель серверов.
2. Выберите узел вычислений Azure hello и выберите узел развертывания Azure hello hello облачной службы, выбранного tooprofile при публикации из Visual Studio.
3. Профилирование tooview отчетов для экземпляра, выберите hello роли в службе hello, Привет открыть контекстное меню для конкретного экземпляра, а затем выберите **Просмотр отчета о профилировании**.
   
    Hello отчет, VSP-файл будет загружен из Azure и состояние hello hello загрузки отображается в журнал действий Azure hello. По завершении загрузки hello hello, отчет о профилировании появится на вкладке в редакторе hello для Visual Studio с именем <Role name>  *<Instance Number>*  <identifier>VSP-файла. Сводные данные для отчета hello отображается.
4. toodisplay различных представлений отчета hello, в списке текущего представления hello, выберите тип hello представление. Дополнительные сведения см. в статье [Представления отчетов средств профилирования](https://msdn.microsoft.com/library/azure/bb385755.aspx).

## <a name="next-steps"></a>Дальнейшие действия
[Отладка облачных служб](https://msdn.microsoft.com/library/azure/ee405479.aspx)

[Tooan публикации облачной службы Azure из Visual Studio](https://msdn.microsoft.com/library/azure/ee460772.aspx)

