---
title: "данные aaaDistribute глобально с помощью Azure Cosmos DB | Документы Microsoft"
description: "Сведения о георепликации в масштабах планеты, отработке отказа и восстановлении данных с помощью глобальных баз данных из Azure Cosmos DB — глобально распределенной многомодельной службы базы данных."
services: cosmos-db
documentationcenter: 
author: arramac
manager: jhubbard
editor: 
ms.assetid: ba5ad0cc-aa1f-4f40-aee9-3364af070725
ms.service: cosmos-db
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 03/14/2017
ms.author: arramac
ms.openlocfilehash: b50e8433dc7e70c54d68c4c2f99954a13f4951f4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-toodistribute-data-globally-with-azure-cosmos-db"></a>Как toodistribute данных глобально с помощью Azure Cosmos DB
Среда Azure вездесуща: она используется более чем в 30 географических регионах по всему миру и постоянно растет. С его по всему миру наличие одной из возможностей hello друг друга, Azure предоставляет разработчикам tooits — hello toobuild возможности, развертывать и легко управлять глобально распределенных приложений. 

[Azure Cosmos DB](../cosmos-db/introduction.md) — это глобально распределенная, многомодельная служба базы данных Майкрософт, необходимая для работы с критически важными приложениями. Azure Cosmos DB предоставляет готовое к использованию глобальной рассылки [гибкое Масштабирование пропускной способности и хранения](../cosmos-db/partition-data.md) задержки по всему миру, десяти миллисекунды в 99-й процентиль hello, [пять хорошо определенные уровни согласованности ](consistency-levels.md)и гарантировать высокий уровень доступности, все сохраненные по [отрасли соглашений об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/cosmos-db/). Azure Cosmos DB [автоматически индексирует данных](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf) без необходимости toodeal с управлением схемы и индекса. Так как эта база данных является многомодельной, она поддерживает модели данных документа, пары "ключ — значение", графа и столбчатые модели данных. Как облачные службы Azure Cosmos DB тщательно разработана с распределением многопользовательский режим и глобальные из hello основание.

**Отдельная коллекция Azure Cosmos DB, секционированная и распределенная по нескольким регионам Azure**

![Коллекция Azure Cosmos DB, секционированная и распределенная по трем регионам](./media/distribute-data-globally/global-apps.png)

Как мы узнали при разработке Azure Cosmos DB, не стоит добавлять возможности глобального распространения опосредованно. Их невозможно "прикрутить" к "односайтовой" СУБД. Hello возможности, предлагаемые глобально распределенная база данных распространяться за пределы, традиционное географического аварийного восстановления (Geo-DR) предлагаемых баз данных «одиночного сайта». Односайтовые базы данных, предлагающие возможности Geo-DR, являются строгим подмножеством глобально распределенных баз данных. 

С Azure Cosmos DB готовое к использованию глобальных распределением, разработчики не имеют toobuild собственные формирование шаблонов репликации при помощи либо hello lambda-шаблон (например, [AWS DynamoDB репликации](https://github.com/awslabs/dynamodb-cross-region-library/blob/master/README.md)) через hello журнала базы данных или с помощью выполнив «двойной записи» по нескольким регионам. Мы не рекомендуем этих подходов, поскольку это невозможно tooensure правильность такого подхода и предоставить звуковой соглашений об уровне обслуживания. 

В этой статье содержится обзор возможностей глобального распространения Azure Cosmos DB. Описывается tooproviding уникальный подход Azure Cosmos DB комплексное соглашений об уровне обслуживания. 

## <a id="EnableGlobalDistribution"></a>Включение готового к использованию глобального распространения
Azure Cosmos DB предоставляет hello ниже возможности tooenable tooeasily можно писать приложения шкалы планеты. Эти возможности доступны через поставщик на основе ресурсов hello Azure Cosmos DB [API-интерфейс REST](https://docs.microsoft.com/rest/api/documentdbresourceprovider/) а также hello портал Azure.

### <a id="RegionalPresence"></a>Повсеместное географическое присутствие 
Azure постоянно расширяет свое географическое присутствие, добавляя [новые регионы](https://azure.microsoft.com/regions/) в сеть. Служба Azure Cosmos DB доступна во всех новых регионах Azure по умолчанию. Это позволяет вам tooassociate географический регион с вашей учетной записью Azure Cosmos DB базы данных как можно скорее Azure откроется новая область hello для бизнеса.

**Служба Azure Cosmos DB доступна во всех регионах Azure по умолчанию**

![Служба Azure Cosmos DB доступна во всех регионах Azure](./media/distribute-data-globally/azure-regions.png)

### <a id="UnlimitedRegionsPerAccount"></a>Связывание неограниченного количества регионов с учетной записью базы данных Azure Cosmos DB
Azure Cosmos DB позволяет tooassociate любое количество областей Azure с базы данных Azure Cosmos учетную запись базы данных. За пределами геозон ограничения (например, Китае, Германия) не ограничено hello количество областей, которые могут быть связаны с вашей учетной записью базы данных Azure Cosmos DB. Hello следующий рисунок показывает toospan базы данных учетной записи, настроенной 25 регионах Azure.  

**Учетная запись базы данных Azure Cosmos DB клиента, охватывающая 25 регионов Azure**

![Учетная запись базы данных Azure Cosmos DB, охватывающая 25 регионов Azure](./media/distribute-data-globally/spanning-regions.png)

### <a id="PolicyBasedGeoFencing"></a>Определение геозон на основе политик
Azure Cosmos DB — возможностей геозон спроектированный toohave на основе политики. Геозон является важным компонентом tooensure ограничения управления и обеспечения соответствия данных и может стать препятствием для сопоставления определенного региона с вашей учетной записи. Примеры геозон причинами (но не ограничиваются), определение области глобального распространения toohello области в облаке sovereign (например, Китай и Германия) или в пределах границ налогообложения государственных организаций (например, Австралия). Hello политики управляются с помощью метаданных hello подписки Azure.

### <a id="DynamicallyAddRegions"></a>Динамическое добавление и удаление регионов
Azure Cosmos DB можно tooadd (связывание) или удалить (связь) областей tooyour учетной записи базы данных в любой момент времени (в разделе [рисунка](#UnlimitedRegionsPerAccount)). Посредством репликации данных по секциям в параллельном режиме, Azure Cosmos DB гарантирует, когда новая область станет доступной, Azure Cosmos DB доступен в течение 30 минут в любом месте в hello world для копирования too100 TBs. 

### <a id="FailoverPriorities"></a>Приоритеты отработки отказа
toocontrol точной последовательности региональные переход на другой ресурс при отказе регионов, Azure Cosmos DB позволяет tooassociate приоритет hello toovarious областей, связанных с учетной записью базы данных hello (см. следующий рисунок hello). Azure Cosmos DB гарантирует hello автоматический переход на другой последовательности произойдет в указанном вами порядке приоритета hello. Дополнительные сведения о региональной отработке отказа см. в статье об [автоматической отработке отказа между регионами для обеспечения непрерывности бизнес-процессов в Azure Cosmos DB](regional-failover.md).

**Клиент Azure Cosmos DB можно настроить порядок приоритетов отработки отказа hello (правая панель) для областей, связанных с учетной записью базы данных**

![Настройка приоритетов отработки отказа с помощью Azure Cosmos DB](./media/distribute-data-globally/failover-priorities.png)

### <a id="OfflineRegions"></a>Динамическое отключение региона от сети
Azure Cosmos DB позволяет tootake базы данных в определенном регионе учетной записи вне сети и снова подключить его позже. Области, помечен как отключенный активно не участвуют в репликации и не являются частью hello последовательность перехода на другой ресурс. Это позволяет toofreeze hello последнее известное образ базы данных в одном из hello перед последовательное потенциально опасных обновляет приложение tooyour прочтите областей.

### <a id="ConsistencyLevels"></a>Несколько четко определенных моделей согласованности для глобально реплицируемых баз данных
Azure Cosmos DB предоставляет [несколько четко определенных уровней согласованности](consistency-levels.md), регулируемых соглашениями об уровне обслуживания. Можно выбрать модель конкретного согласованности (из списка доступных hello параметры) в зависимости от рабочей нагрузки hello и сценариев. 

### <a id="TunableConsistency"></a>Настраиваемая согласованность для глобально реплицируемых баз данных
Azure Cosmos DB дает переопределение tooprogrammatically и ослабить hello согласованности по умолчанию для каждого запроса, во время выполнения. 

### <a id="DynamicallyConfigurableReadWriteRegions"></a>Динамически настраиваемые регионы чтения и записи
Azure Cosmos DB включает tooconfigure hello областей (связанной с базой данных hello) для «чтение», «запись» или «чтение» области. 

### <a id="ElasticallyScaleThroughput"></a>Эластичное масштабирование пропускной способности в регионах Azure
Вы можете эластично масштабировать коллекцию Azure Cosmos DB, программно подготавливая пропускную способность. пропускная способность Hello — примененных tooall hello регионам коллекции hello распространяется в.

### <a id="GeoLocalReadsAndWrites"></a>Локальные операции чтения и записи
главным преимуществом Hello глобально распределенная база данных является toohello toooffer низкую задержку доступа к данным в любом месте Здравствуй, мир. Azure Cosmos DB предлагает гарантии низкой задержки на уровне 99-го процентиля (P99) для выполнения различных операций базы данных. Он гарантирует, что все операции чтения будут перенаправленное toohello ближайший регион локального чтения. используется tooserve запрос чтения hello кворума локального toohello регион, в котором выполняется чтение hello; Hello применимо и к toohello записи. Подтверждением записи только в том случае, после устойчивую фиксации большинством реплик hello записи локально, но без с условным удаленных реплик tooacknowledge hello при записи. Иначе говоря, протокол репликации hello Azure Cosmos DB работает hello предположении, что hello чтения и записи кворумов всегда локального toohello чтения и записи регионов, соответственно, в какой hello запроса.

### <a id="ManualFailover"></a>Запуск региональной отработки отказа вручную
Azure Cosmos DB позволяет tootrigger hello переход на другой ресурс hello toovalidate учетной записи базы данных hello *завершить tooend* свойства доступности всего приложения hello (помимо hello базы данных). Поскольку оба hello безопасности и гарантируется, что свойства liveness hello сбой обнаружения и заполнитель выборов, Azure Cosmos DB гарантирует *потеря данных нуля* для операции клиента инициирована отработка отказа вручную.

### <a id="AutomaticFailover"></a>Автоматическая отработка отказа
Azure Cosmos DB поддерживает автоматическую отработку отказа в случае сбоя одного или нескольких регионов. Во время региональной отработки отказа Azure Cosmos DB поддерживает параметры задержки при чтении, гарантированной бесперебойной работы, согласованности и пропускной способности, определенные соглашениями об уровне обслуживания. Azure Cosmos DB предоставляет верхнюю границу на длительность hello toocomplete операции автоматического перехода на другой ресурс. Это окно hello потенциальной потери данных во время региональном сбое hello.

### <a id="GranularFailover"></a>Выбор степени детализации отработки отказа
В настоящее время hello автоматическое и возможности перехода на другой ресурс вручную предоставляются на уровне гранулярности hello учетной записи базы данных hello. Следует отметить, что внутренне DB Cosmos Azure — спроектированный toooffer *автоматического* отработки отказа с высокой степенью детализации базы данных, коллекцию или даже секции (из коллекции, которой принадлежит диапазон ключей). 

### <a id="MultiHomingAPIs"></a>Интерфейсы API множественной адресации в Azure Cosmos DB
Azure Cosmos DB позволяет toointeract с hello базы данных с помощью логических (зависит от региона) или физических конечных точек (региона). Использование логических конечных точек гарантирует, что приложение hello может прозрачно многосетевой в случае отработки отказа. Здравствуйте, последний, физический конечных точек, обеспечивают точное управление toohello приложения tooredirect считывает и записывает toospecific областей.

Можно найти сведения о как tooconfigure считывать параметры для hello [DocumentDB API](../cosmos-db/tutorial-global-distribution-documentdb.md), [Graph API](../cosmos-db/tutorial-global-distribution-graph.md), [API таблиц](../cosmos-db/tutorial-global-distribution-table.md), и [MongoDB API](../cosmos-db/tutorial-global-distribution-mongodb.md)в соответствующие связанные статьи.

### <a id="TransparentSchemaMigration"></a>Прозрачный и согласованный перенос схемы и индекса базы данных 
Azure Cosmos DB является полностью [бессхемной](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf) службой. Уникальный дизайн Hello его ядра базы данных позволяет tooautomatically и синхронно индекса все данные hello, которые он принимает не требуя схемы или вторичных индексов от вас. Это позволяет вам tooiterate глобально распределенного приложения быстро не беспокоиться о миграции схемы и индекса базы данных и согласование развертыванием приложений многоэтапный изменений схемы. Azure Cosmos DB гарантирует, что явно внесенных вами изменений tooindexing политик не приводит в снижение производительности или доступности.  

### <a id="ComprehensiveSLAs"></a>Исчерпывающие соглашения об уровне обслуживания (не только высокий уровень доступности)
В качестве распределенной базы данных службы, Azure Cosmos DB предлагает четко определенные соглашения об уровне ОБСЛУЖИВАНИЯ для **потери данных**, **доступности**, **задержку в P99**, **пропускной способности**  и **согласованности** для hello базы данных в целом, независимо от числа hello областей, связанных с базой данных hello.  

## <a id="LatencyGuarantees"></a>Гарантии относительно задержки
ключевым преимуществом глобально распределенной базы данных службы как Azure Cosmos DB — tooyour toooffer низкую задержку доступа к данным в любом месте hello world Hello. Azure Cosmos DB предлагает гарантированную низкую задержку на уровне 99-го процентиля (P99) для различных операций базы данных. Hello репликации протокол, который использует базу данных Azure Cosmos гарантирует, что hello операций базы данных (в идеальном случае считывает и записывает) всегда выполняется в локальной toothat hello области клиента hello. соглашения об уровне ОБСЛУЖИВАНИЯ для Azure Cosmos DB включает P99 для задержки Hello операциях чтения и записи (синхронно) индексированного и запросы для разного размера запроса и ответа. гарантии Hello задержку для операций записи включают фиксации устойчивых большинство кворума в локальном hello центре обработки данных.

### <a id="LatencyAndConsistency"></a>Взаимосвязь задержки и согласованности 
Для глобально распределенная служба toooffer строгая согласованность в распределенной установки, необходимые записи toosynchronously реплицировать hello или синхронный выполнять операции чтения различных регионах — скорость hello светлой и hello определяют надежность глобальной сети что строгая согласованность приводит к низкой доступности операций с базами данных и высоких значений задержки. Таким образом в порядке toooffer гарантируется низкой задержки в P99 и 99.99 доступности, hello службы необходимо использовать асинхронную репликацию. Это в свою очередь требует, что hello службы должен также предлагают [choice(s) строго определенными, неявное согласованности](consistency-levels.md) — менее строгое (toooffer низкой задержки и доступности гарантии) и в идеале надежнее, чем («окончательной» согласованности toooffer модель интуитивно программирования).

Azure Cosmos DB гарантирует, что операции чтения не требуется toocontact реплики в нескольких регионах toodeliver hello определенного уровня согласованности. Аналогично гарантирует, что операция записи не получить заблокированы, пока hello данные реплицируются во всех областях hello (т. е. записи асинхронно реплицируются по регионам). Для учетных записей базы данных в нескольких регионах доступно несколько уровней нестрогой согласованности. 

### <a id="LatencyAndAvailability"></a>Взаимосвязь задержки и доступности 
Задержка и доступность — это две стороны hello hello же монеты. Мы говорим о задержке операций hello в стабильном состоянии и доступности, шрифтом hello сбоев. С точки зрения приложения hello медленно выполняемой операции базы данных не отличается от базы данных, которая недоступна. 

toodistinguish высокой задержкой из недоступности Azure Cosmos DB содержит абсолютный верхняя граница задержки различных операций с базой данных. Если hello операции базы данных занимает больше времени, чем toocomplete верхняя граница hello, Azure Cosmos DB возвращает ошибку времени ожидания. Hello Azure Cosmos DB доступности соглашения об уровне ОБСЛУЖИВАНИЯ гарантирует, что тайм-ауты hello считаются относительно hello доступности соглашения об уровне ОБСЛУЖИВАНИЯ. 

### <a id="LatencyAndThroughput"></a>Взаимосвязь задержки и пропускной способности
Azure Cosmos DB не принуждает выбирать между задержкой и пропускной способностью. Он учитывает hello SLA для обоих задержку в P99 и доставка hello пропускная способность, которую вы подготовили. 

## <a id="ConsistencyGuarantees"></a>Гарантии согласованности
При hello [строго согласованная модель](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf) стандарт gold hello возможностей программирования, результатом становится hello запутаться ценой высокой задержки (в устойчивом состоянии) и потерей доступности (шрифтом hello сбоев). 

Azure Cosmos DB предлагает четко определенных программирования tooreason модели-tooyou о согласованности реплицированные данные. Чтобы tooenable вы toobuild многосетевой приложений, hello согласованности моделей, доступных в базе данных Azure Cosmos спроектированный toobe регион не учитывают и не зависят от hello регион, из которых обслуживаются hello операций чтения и записи. 

Соглашения об уровне ОБСЛУЖИВАНИЯ Azure Cosmos DB согласованности гарантирует, что 100% запросов на чтение будет соответствовать hello обеспечение согласованности для уровня согласованности hello Запрошенная или (hello уровень по умолчанию согласованности на учетную запись базы данных hello или hello переопределении значения по запросу hello ). Запросы на чтение считается согласованности hello toohave выполнены соглашения об уровне ОБСЛУЖИВАНИЯ, если выполняются все гарантии согласованности hello, связанной с уровнем достоверности hello. Hello следующей таблице указаны гарантии согласованности hello, соответствующие toospecific уровни согласованности, предлагаемые Azure Cosmos DB.

**Гарантии согласованности, связанные с заданным уровнем согласованности в Azure Cosmos DB**

<table>
    <tr>
        <td><strong>Уровень согласованности</strong></td>
        <td><strong>Характеристики согласованности</strong></td>
        <td><strong>Соглашение об уровне обслуживания</strong></td>
    </tr>
    <tr>
        <td rowspan="3">Сеанс</td>
        <td>Чтение собственной записи</td>
        <td>100 %</td>
    </tr>
    <tr>
        <td>Монотонное чтение</td>
        <td>100 %</td>
    </tr>
    <tr>
        <td>Согласованность префиксов</td>
        <td>100 %</td>
    </tr>
    <tr>
        <td rowspan="3">Ограниченная с запаздыванием</td>
        <td>Монотонное чтение (в пределах региона)</td>
        <td>100 %</td>
    </tr>
    <tr>
        <td>Согласованность префиксов</td>
        <td>100 %</td>
    </tr>
    <tr>
        <td>Предел запаздывания &lt; K, T</td>
        <td>100 %</td>
    </tr>
    <tr>
        <td>Согласованность префиксов</td>
        <td>Согласованность префиксов</td>
        <td>100 %</td>
    </tr>
    <tr>
        <td>Уровень согласованности Strong (сильная)</td>
        <td>Линеаризуемость</td>
        <td>100 %</td>
    </tr>
</table>

### <a id="ConsistencyAndAvailability"></a>Взаимосвязь согласованности и доступности
Hello [результат impossibility](http://www.glassbeam.com/sites/all/themes/glassbeam/images/blog/10.1.1.67.6951.pdf) из hello [Крепления Теорема](https://people.eecs.berkeley.edu/~brewer/cs262b-2004/PODC-keynote.pdf) подтверждает на самом деле невозможно для доступных tooremain системы hello и предложение linearizable согласованности шрифтом hello сбоев. Служба Hello базы данных необходимо выбрать toobe CP или AP - систем CP отказ от доступности пользу linearizable согласованности хотя отказ от систем hello AP [linearizable согласованности](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf) пользу доступности. Azure Cosmos DB никогда не приводит к нарушению hello запрошенный уровень согласованности, который формально выполняет системный CP. Однако на практике согласованности не все или ничего предложение — существует несколько моделей четко определенных согласованности вдоль hello спектр согласованности между linearizable и окончательной согласованности. В базе данных Azure Cosmos, мы постарались tooidentify несколько hello ослаблены согласованности моделей с реальной применимости и интуитивно понятный модель программирования. Azure Cosmos DB переходит компромиссы согласованности доступности hello, предлагая 99.99 доступности соглашения об уровне ОБСЛУЖИВАНИЯ вместе с [несколько ослаблены еще хорошо определенные уровни согласованности](consistency-levels.md). 

### <a id="ConsistencyAndAvailability"></a>Взаимосвязь согласованности и задержки
Более исчерпывающий вариант теоремы CAP был предложен профессором Дэниэлом Абади (Daniel Abadi). Она называется [PACELC](http://cs-www.cs.yale.edu/homes/dna/papers/abadi-pacelc.pdf), и в ней учитываются компромиссы между задержкой и согласованностью в устойчивом состоянии. Указывается, что в стабильном состоянии, hello системы базы данных необходимо выбрать согласованности и задержки. С несколькими моделями ослабленной согласованности (на основе асинхронной репликации и локальное чтение, запись кворумов) Azure Cosmos DB гарантирует, что все операции чтения и записи локальной toohello чтения и записи соответственно областей.  Это позволяет Azure Cosmos toooffer Низкая задержка гарантирует внутри области hello для уровни согласованности hello.  

### <a id="ConsistencyAndThroughput"></a>Взаимосвязь согласованности и пропускной способности
Так как hello реализация модели конкретного согласованности зависит от выбора hello [тип кворума](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf), пропускная способность hello также различается в зависимости от выбора hello согласованности. Для экземпляра в базе данных Azure Cosmos, hello пропускная способность чтения в полной мере согласованно — примерно половину toothat согласованным операций чтения. 
 
**Взаимосвязь между нагрузкой операций чтения и определенным уровнем согласованности в Azure Cosmos DB**

![Взаимосвязь между согласованностью и пропускной способностью](./media/distribute-data-globally/consistency-and-throughput.png)

## <a id="ThroughputGuarantees"></a>Гарантии пропускной способности 
Azure Cosmos DB позволяет tooscale пропускной способности (а также, хранилища), гибко в разных регионах, в зависимости от потребности hello. 

**Отдельная коллекция Azure Cosmos DB, секционированная (на три сегмента) и распределенная по трем регионам Azure**

![Распределенные и секционированные коллекции Azure Cosmos DB](../cosmos-db/media/introduction/azure-cosmos-db-global-distribution.png)

Коллекция Azure Cosmos DB распределяется в двух плоскостях — в пределах региона и между регионами. Этот процесс описывается далее. 

* В пределах отдельного региона коллекция развертывается с точки зрения секций ресурсов. Каждая секция ресурсов управляет набором ключей и является строго согласованной и высокодоступной благодаря репликации конечного автомата в наборе реплик. Azure Cosmos DB — это полностью регулировкой ресурсов система, где секции ресурсов отвечает за поставку свою долю пропускной способности для hello бюджета tooit ресурсы, выделенные системы. масштабирование Hello Azure Cosmos DB коллекции полностью прозрачна — Azure Cosmos DB управление разделами ресурсов hello и разбивает и объединяет ее при необходимости. 
* Затем каждой из секций ресурсов hello распределяется по нескольким регионам. Разделы ресурсов владеет hello одинаковых ключей различных областей формы секции наборе (в разделе [рисунка](#ThroughputGuarantees)).  Секции ресурсов в пределах набора разделов координируются с помощью репликации состояние компьютера через hello несколько областей. В зависимости от уровня достоверности hello настроен hello ресурсов секции в пределах набора разделов настраиваются динамически с помощью различных топологиях (например, звезда, последовательное, дерево и т. д.). 

Силу управление секциями с высокой скоростью отклика, балансировки нагрузки и strict ресурсами Azure Cosmos DB можно пропускной способности tooelastically масштабирования по нескольким регионам Azure на Azure Cosmos DB коллекции. Изменение пропускной способности на коллекцию похож операция среды выполнения в базе данных Azure Cosmos - с другими операциями базы данных Azure Cosmos DB гарантирует hello абсолютный верхняя граница задержки для пропускной способности hello toochange вашего запроса. В качестве примера hello следующий рисунок показывает коллекции клиентов с гибко пропускная способность (двух регионах от 1 млн - 10M запросов/сек) по требованию hello.
 
**Коллекция клиента с эластично подготавливаемой пропускной способностью (от 1 до 10 млн запросов в секунду)**

![Эластичная подготовка пропускной способности в Azure Cosmos DB](./media/distribute-data-globally/elastic-throughput.png)

### <a id="ThroughputAndConsistency"></a>Взаимосвязь пропускной способности и согласованности 
То же, что и [взаимосвязь согласованности и пропускной способности](#ConsistencyAndThroughput).

### <a id="ThroughputAndAvailability"></a>Взаимосвязь пропускной способности и доступности
Azure Cosmos DB продолжается toomaintain его доступность при внесении изменений hello toohello пропускной способности. Azure Cosmos DB прозрачно управление разделами (например, разбиение, слияние, операции клонирования) и гарантирует, что операции hello не снижают производительность или доступность, пока приложение hello гибко увеличивает или уменьшает пропускную способность. 

## <a id="AvailabilityGuarantees"></a>Гарантии доступности
Azure Cosmos DB предлагает 99,99% доступности время работы соглашения об уровне ОБСЛУЖИВАНИЯ для каждого hello операции плоскости данных и управления. Как уже упоминалось, гарантии доступности Azure Cosmos DB включают в себя абсолютную верхнюю границу задержки для каждой операции в плоскостях данных и управления. гарантии доступности Hello steadfast и не изменяйте с количеством hello областей или географическое расстояние между регионами. Гарантии доступности применяются как к ручной, так и к автоматической отработке отказа. Azure Cosmos DB предлагает прозрачный множественной адресацией интерфейсы API, убедитесь, что приложение может действовать в отношении логические конечные точки и может прозрачно направлять hello запросов toohello новой области в случае отработки отказа. Иначе говоря, приложения не требуется повторное развертывание при отработке отказа региональных toobe и обслуживаются hello доступности соглашения об уровне обслуживания.

### <a id="AvailabilityAndConsistency"></a>Взаимосвязь доступности с согласованностью, задержкой и пропускной способностью
Взаимосвязь доступности с согласованностью, задержкой и пропускной способностью описывается в разделах [Взаимосвязь согласованности и доступности](#ConsistencyAndAvailability), [Взаимосвязь задержки и доступности](#LatencyAndAvailability) и [Взаимосвязь пропускной способности и доступности](#ThroughputAndAvailability). 

## <a id="GuaranteesAgainstDataLoss"></a>Гарантии и поведение системы при "потере данных"
В Azure Cosmos DB высокая доступность каждой секции (в коллекции) обеспечивается несколькими репликами, которые распределены по крайней мере между 10–20 доменами сбоя. Все операции записи синхронно и устойчивую фиксируются кворума большинства реплик, прежде чем они подтверждения toohello клиента. Асинхронная репликация координируется между секциями, распределенными по нескольким регионам. Azure Cosmos DB гарантирует отсутствие потерь данных при запуске отработки отказа клиентом вручную. Во время автоматического перехода на другой Azure Cosmos DB гарантирует, что верхнюю границу hello настроен ограниченных устаревание интервал на окно потери данных hello как часть его соглашения об уровне ОБСЛУЖИВАНИЯ.

## <a id="CustomerFacingSLAMetrics"></a>Метрики соглашения об уровне обслуживания для клиентов
Azure Cosmos DB прозрачно предоставляет метрики hello пропускной способности, задержке, согласованности и доступности. Эти метрики доступны программно и с помощью hello портал Azure (см. следующий рисунок). Можно также настроить оповещения для различных пороговых значений с помощью Azure Application Insights.
 
**Показатели согласованности, задержки, пропускной способности и доступности, прозрачно доступных tooeach клиента**

![Видимые клиентам метрики Azure Cosmos DB](./media/distribute-data-globally/customer-slas.png)

## <a id="Next Steps"></a>Дальнейшие действия
* tooimplement глобального репликации на Azure Cosmos DB учетной записи с использованием hello Azure портала, см. в разделе [как tooperform Azure Cosmos DB глобальной базы данных репликации с помощью портала Azure hello](tutorial-global-distribution-documentdb.md).
* toolearn о том, как tooimplement несколькими хозяевами архитектуры с Azure Cosmos DB, в разделе [архитектуры несколькими хозяевами базы данных с помощью Azure Cosmos DB](multi-region-writers.md).
* Дополнительные сведения о toolearn работать автоматической и ручной переход на другой ресурс в Azure Cosmos DB, разделе [региональной отработки отказа в Azure Cosmos DB](regional-failover.md).

## <a id="References"></a>Справочные материалы
1. Eric Brewer. [Towards Robust Distributed Systems](https://people.eecs.berkeley.edu/~brewer/cs262b-2004/PODC-keynote.pdf)
2. Eric Brewer. [Ограничение Двенадцатилетнего позже — как изменены правила hello](http://informatik.unibas.ch/fileadmin/Lectures/HS2012/CS341/workshops/reportsAndSlides/PresentationKevinUrban.pdf)
3. Gilbert, Lynch. - [Brewer's Conjecture and Feasibility of Consistent, Available, Partition Tolerant Web Services](http://www.glassbeam.com/sites/all/themes/glassbeam/images/blog/10.1.1.67.6951.pdf) (Гипотеза Брюера и возможность создания согласованных доступных веб-служб, совместимых с секционированием)
4. Дэниэл Абади. [Consistency Tradeoffs in Modern Distributed Database Systems Design](http://cs-www.cs.yale.edu/homes/dna/papers/abadi-pacelc.pdf)
5. Martin Kleppmann. [Please stop calling databases CP or AP](https://martin.kleppmann.com/2015/05/11/please-stop-calling-databases-cp-or-ap.html)
6. Peter Bailis et al. [Probabilistic Bounded Staleness (PBS) for Practical Partial Quorums](http://vldb.org/pvldb/vol5/p776_peterbailis_vldb2012.pdf)
7. Naor and Wool. [Load, Capacity and Availability in Quorum Systems](http://www.cs.utexas.edu/~lorenzo/corsi/cs395t/04S/notes/naor98load.pdf)
8. Herlihy and Wing. [Lineralizability: A correctness condition for concurrent objects](http://cs.brown.edu/~mph/HerlihyW90/p463-herlihy.pdf)
9. [Соглашение об уровне обслуживания для Azure Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db/)
