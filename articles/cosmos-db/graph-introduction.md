---
title: "Введение tooAzure API-интерфейсы Graph DB Cosmos | Документы Microsoft"
description: "Дополнительные сведения об использовании Azure Cosmos DB toostore, запроса и перекрестной больших графов с низкой задержкой, с помощью языка запросов graph Gremlin hello hello объекта Apache TinkerPop."
services: cosmos-db
author: dennyglee
documentationcenter: 
ms.assetid: b916644c-4f28-4964-95fe-681faa6d6e08
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/21/2017
ms.author: denlee
ms.openlocfilehash: a4e79a4aa27976966baf0554928026177991ff69
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="introduction-tooazure-cosmos-db-graph-api"></a>Введение tooAzure Cosmos DB: Graph API

[Azure Cosmos DB](introduction.md) является распределенной, моделей базы данных службы от корпорации Майкрософт для критически важных приложений "hello". Azure Cosmos DB предоставляет [под ключ глобального распространения](distribute-data-globally.md), [гибкое Масштабирование пропускной способности и хранения](partition-data.md) задержки по всему миру, десяти миллисекунды в 99-й процентиль hello, [пять хорошо определенные уровни согласованности](consistency-levels.md)и гарантировать высокий уровень доступности, в которой содержатся в [отрасли соглашений об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/cosmos-db/). Azure Cosmos DB [автоматически индексирует данных](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf) без необходимости toodeal с управлением схемы и индекса. Так как эта база данных является многомодельной, она поддерживает модели данных документа, пары "ключ — значение", графа и столбчатые модели данных.

![База данных Azure Cosmos DB, граф и Gremlin](./media/graph-introduction/graph-gremlin.png)

предоставляет Hello Azure Cosmos DB Graph API.

- Моделирование графов.
- Обходные API-интерфейсы.
- Готовое к использованию глобальное распределение.
- Эластичного масштабирования хранилища и пропускной способности с менее 10 мс, чтение задержки и не более 15 мс процентиля 99 hello
- Автоматическое индексирование с мгновенной доступностью запросов.
- Настраиваемые уровни согласованности.
- Комплексное соглашение об уровне обслуживания, включая доступность на уровне 99,99 %.

tooquery Azure Cosmos DB можно использовать hello [Apache TinkerPop](http://tinkerpop.apache.org) graph языка обхода [Gremlin](http://tinkerpop.apache.org/docs/current/reference/#graph-traversal-steps), или других TinkerPop совместимой диаграммы систем, таких как [Apache Spark GraphX](spark-connector-graph.md).

В этой статье содержится обзор hello Azure Cosmos DB Graph API и объясняется, как можно использовать его toostore больших графов с миллиардами вершин и ребра. Можно запросить hello диаграмм с задержка до миллисекунды и легко развить структуре графа hello и схемы.

## <a name="graph-database"></a>Базы данных графов
Данные в реальном мире hello естественным образом подключены. Традиционное моделирование данных ориентировано на сущности. Для многих приложений есть toomodel необходимость или toomodel сущностей и связей естественным образом.

[Граф](http://mathworld.wolfram.com/Graph.html) — это структура, состоящая из [вершин](http://mathworld.wolfram.com/GraphVertex.html) и [ребер](http://mathworld.wolfram.com/GraphEdge.html). Вершины и ребра могут содержать произвольное число свойств. Вершины обозначают дискретные объекты, например пользователя, место или событие. Ребра указывают взаимосвязи между вершинами. Например, пользователь может знать другого пользователя, участвовать в событии или посетить мероприятие. Свойства выражения сведения о вершин hello и границ. Примеры свойств вершины — имя и возраст, а ребра — метка времени или вес. Более формально эта модель называется [графом свойства](http://tinkerpop.apache.org/docs/current/reference/#intro). Azure Cosmos DB поддерживает модель графа свойство hello.

Например следующие hello образец граф показывает связи между людей, мобильных устройств, интересы и операционных систем.

![Пример базы данных, в котором показаны люди, их интересы и устройства](./media/graph-introduction/sample-graph.png)

Графы являются полезным toounderstand широкий спектр наборов данных в науки, технологии и бизнеса. Наборы данных графа позволяют эффективно моделировать и хранить графы естественным образом, благодаря чему их можно применить для различных сценариев. Базы данных графа обычно представляют собой базы данных NoSQL, так как для использования последних часто требуются быстрая итерация и гибкость схемы.

Графы предлагают новаторскую эффективную технологию моделирования данных. Однако этот факт сам по себе не является достаточно toouse причина диаграммы базы данных. Для многих шаблонов и случаев использования, которые включают обходы графа, графы более эффективны (на несколько порядков), чем традиционные базы данных SQL и NoSQL. При передаче более одной связи, такой как связь "друг 1-го друга", эта разница в производительности в дальнейшем усиливается.

Обходы быстрого hello, предоставляющие диаграммы базы данных можно сочетать с graph алгоритмы, как поиск в глубину, поиска преимущественно и алгоритм Dijkstra, toosolve проблем в различных доменах социальных сетей, управления содержимым, представления, и рекомендации.

## <a name="planet-scale-graphs-with-azure-cosmos-db"></a>Глобальные графы и база данных Azure Cosmos DB
Azure Cosmos DB является полностью управляемая диаграммы базы данных, которая предлагает глобального распространения эластичного масштабирования хранилища и пропускной способности, автоматического индексирования и запросов, уровни согласованности пройтись и поддержку стандарта TinkerPop hello.  

![Архитектура графа базы данных Azure Cosmos DB](./media/graph-introduction/cosmosdb-graph-architecture.png)

Azure Cosmos DB предлагает следующие hello друг друга возможности по сравнению баз данных graph tooother на рынке hello:

* Гибко масштабируемая пропускная способность и хранилище

 Графы в реальном мире hello должны tooscale превышена максимальная емкость hello одиночного сервера. С базой данных Azure Cosmos DB вы можете быстро и эффективно масштабировать графы на нескольких серверах. Также можно масштабировать hello пропускной способности независимо друг от друга на основе доступа шаблонов диаграммы. Azure Cosmos DB поддерживает диаграммы базы данных, которые можно масштабировать toovirtually размеры неограниченное хранение и пропускная способность.

* Репликация между несколькими регионами

 Azure Cosmos DB прозрачно реплицирует области tooall данных graph, ваш, связанную с вашей учетной записи. Репликация позволяет toodevelop приложений, требующих toodata глобальный доступ. Лишен недостатков в областях hello согласованности, доступности, производительности и соответствующие гарантии. Azure Cosmos DB обеспечивает прозрачную отработку отказа между регионами с помощью API-интерфейсов с поддержкой множественной адресации. Можно гибко масштабировать пропускной способности и хранения данных по всему миру hello.

* Быстрое выполнение запросов и обходов с помощью знакомого синтаксиса Gremlin

 Храните разные типы вершин и ребер, а также выполняйте запросы этих документов через знакомый синтаксис Gremlin. Azure Cosmos DB использует с высокой степенью параллелизма, без блокировки, структурированное журналом индексирования технологии tooautomatically индекса все содержимое. Эта возможность позволяет сложных запросов в режиме реального времени и обходов без hello требуют указания схемы toospecify, вторичные индексы или представлений. Дополнительные сведения см. в руководстве о [поддержке графа для языка Gremlin в базе данных Cosmos Azure](gremlin-support.md).

* Полная управляемость

 Azure Cosmos DB устраняет hello необходимость toomanage базы данных и машины ресурсы. Как полностью управляемая служба Microsoft Azure выполнять не требуется toomanage виртуальных машин, развертывание и настройка программного обеспечения, управление масштабирование или работать с уровня сложных данных обновления. Каждый граф автоматически сохраняется и защищается от региональных сбоев. Вы можете легко добавлять учетные записи Azure Cosmos DB и подготавливать требуемую емкость по мере необходимости, позволяя сосредоточиться на приложении, а не на вопросах эксплуатации и управления базой данных.

* Автоматическая индексация

 По умолчанию Azure Cosmos DB автоматически индексирует все свойства hello в узлы и ребра, на диаграмме hello и не ожидается и не требует любой схемы или создания вторичных индексов.

* Совместимость с Apache TinkerPop

 Azure Cosmos DB изначально поддерживает стандарт Apache TinkerPop hello открытым исходным кодом и могут интегрироваться с другими системами поддержкой TinkerPop графа. Таким образом, вы можете легко перемещаться из другой базы данных графа, например Titan или Neo4j, или же использовать базу данных Azure Cosmos DB с платформами аналитики графа, такими как [Apache Spark GraphX](spark-connector-graph.md).

* Настраиваемые уровни согласованности.

 Выберите из пяти четко определенных согласованности уровни tooachieve оптимальное значение, которое между согласованность и производительность. Для запросов и операций чтения служба Azure Cosmos DB предлагает пять отдельных уровней согласованности — сильный, с ограниченным устареванием, сеансовый, с согласованностью префиксов и согласованный в конечном счете. Эти уровни согласованности детальные, четко определенных разрешить toomake звуковой компромиссы между согласованности, доступность и задержки. Дополнительные сведения см. в разделе [согласованности с помощью уровней toomaximize доступности и производительности в DocumentDB](consistency-levels.md).

Azure Cosmos DB также можно использовать несколько моделей, как и документ и диаграммы, в hello же контейнеров и базам данных. Можно использовать данные документа коллекции toostore графа параллельно с документами. Можно использовать оба SQL-запросов через JSON и tooquery запросы Gremlin hello и те же данные в виде графа.

## <a name="getting-started"></a>Приступая к работе
Можно использовать hello Azure командной строки (CLI), Azure Powershell или hello портал Azure с поддержкой счетов Azure Cosmos DB toocreate API graph. После создания учетных записей, hello портал Azure предоставляет конечную точку службы, таких как `https://<youraccount>.graphs.azure.com`, предоставляющий Gremlin внешнего интерфейса WebSocket. Можно настроить на совместимом TinkerPop средств, таких как hello [Gremin консоли](http://tinkerpop.apache.org/docs/current/reference/#gremlin-console), tooconnect toothis конечной точки и построения приложений Java, Node.js или любой Gremlin драйвер клиента.

Hello следующей таблице показаны популярных Gremlin драйверы, которые можно использовать с Azure Cosmos DB.

| Загрузить | Документация |
| --- | --- |
| [Java](https://mvnrepository.com/artifact/com.tinkerpop.gremlin/gremlin-java) |[Документация по Gremlin для Java](http://tinkerpop.apache.org/javadocs/current/full/) |
| [Node.js](https://www.npmjs.com/package/gremlin) |[Gremlin для JavaScript в Github](https://github.com/jbmusso/gremlin-javascript) |
| [Консоль Gremlin](https://tinkerpop.apache.org/downloads.html) |[Документация по TinkerPop](http://tinkerpop.apache.org/docs/current/reference/#gremlin-console) |

Azure Cosmos DB также предоставляет библиотеки .NET, который содержит методы расширения Gremlin поверх hello [пакеты SDK Azure Cosmos DB](documentdb-sdk-dotnet.md) через NuGet. Эта библиотека предоставляет сервер Gremlin «в процессе», которые можно использовать tooconnect непосредственно tooDocumentDB секции данных.

| Загрузить | Документация |
| --- | --- |
| [.NET](https://www.nuget.org/packages/Microsoft.Azure.Graphs/) |[Microsoft.Azure.Graphs](https://msdn.microsoft.com/library/azure/dn948556.aspx) |

С помощью hello [DB эмулятор Azure Cosmos](local-emulator.md), можно использовать Graph API toodevelop hello и проверить это локально без создания подписки Azure и расходов на любой. Если вас устраивают, как приложение работает в эмуляторе hello, можно переключиться toousing учетную запись Azure Cosmos DB в облаке hello.

## <a name="scenarios-for-graph-support-of-azure-cosmos-db"></a>Сценарии для поддержки Graph базы данных Azure Cosmos DB
Ниже приведены некоторые примеры использования поддержки графа базы данных Azure Cosmos DB:

* Социальные сети

 Объединяя данные о клиентах и их взаимодействиях с другими людьми, вы можете разработать персонализированные средства, предугадать поведение клиента или объединить людей на основе их интересов. Azure Cosmos DB можно используется toomanage социальных сетей и отслеживать параметры клиента и данных.

* Системы рекомендаций

 Этот сценарий обычно используется в сфере розничной торговли hello. Объединяя сведения о продукции, пользователях и операциях пользователей, например приобретении, поиске и оценке товара, вы можете создать пользовательские рекомендации. Здравствуйте низкой задержкой, гибкое масштабирование и машинный код поддержки graph БД Cosmos Azure идеально подходит для моделирования таких взаимодействий.

* Геопространственные данные

 Многие приложения в телекоммуникационных материально-технического обеспечения и планирования требуется toofind расположение интерес в пределах одной области или найдите hello кратчайший/оптимального маршрута между двумя расположениями. База данных Azure Cosmos DB поможет легко справиться с этими задачами.

* "Интернет вещей"

 Hello сеть и подключения между устройствами IoT, смоделированная в виде графа можно построить лучшее представление о состоянии hello устройств и ресурсов и узнайте, как изменения в одной части hello сети может влиять на другую часть.

## <a name="next-steps"></a>Дальнейшие действия
toolearn Дополнительные сведения о поддержке graph в Azure Cosmos DB, см.:

* Приступая к работе с hello [Azure Cosmos DB graph учебника](create-graph-dotnet.md).
* Дополнительные сведения о слишком[запросов диаграмм в базу данных Cosmos Azure, используя Gremlin](gremlin-support.md).
