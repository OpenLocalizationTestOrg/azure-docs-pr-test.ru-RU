---
title: "Знакомство с API-интерфейсами Graph базы данных Azure Cosmos DB | Документация Майкрософт"
description: "Узнайте, как можно использовать базу данных Azure Cosmos DB, чтобы хранить, запрашивать и передавать массивные графы с минимальной задержкой с помощью языка запросов графа Gremlin в Apache TinkerPop."
services: cosmos-db
author: dennyglee
documentationcenter: 
ms.assetid: b916644c-4f28-4964-95fe-681faa6d6e08
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 05/21/2017
ms.author: denlee
ms.openlocfilehash: fb02fdf7f0f0a244fbf370e5f76fac2da2ef9f9e
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="introduction-to-azure-cosmos-db-graph-api"></a><span data-ttu-id="64dd0-103">Знакомство с базой данных Azure Cosmos DB. API Graph</span><span class="sxs-lookup"><span data-stu-id="64dd0-103">Introduction to Azure Cosmos DB: Graph API</span></span>

<span data-ttu-id="64dd0-104">[Azure Cosmos DB](introduction.md) — это глобально распределенная, многомодельная служба базы данных Майкрософт, необходимая для работы с критически важными приложениями.</span><span class="sxs-lookup"><span data-stu-id="64dd0-104">[Azure Cosmos DB](introduction.md) is the globally distributed, multi-model database service from Microsoft for mission-critical applications.</span></span> <span data-ttu-id="64dd0-105">Эта служба базы данных обеспечивает [готовое к использованию глобальное распределение](distribute-data-globally.md), [гибкое масштабирование пропускной способности и хранилища](partition-data.md) по всему миру, задержки менее 10 миллисекунд на уровне 99-го процентиля, [пять четко определенных уровней согласованности](consistency-levels.md), а также гарантированную высокую доступность — все это согласно [ведущим в отрасли соглашениям об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="64dd0-105">Azure Cosmos DB provides [turn-key global distribution](distribute-data-globally.md), [elastic scaling of throughput and storage](partition-data.md) worldwide, single-digit millisecond latencies at the 99th percentile, [five well-defined consistency levels](consistency-levels.md), and guaranteed high availability, which are all backed by [industry-leading SLAs](https://azure.microsoft.com/support/legal/sla/cosmos-db/).</span></span> <span data-ttu-id="64dd0-106">Azure Cosmos DB [автоматически индексирует данные](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf) без необходимости управлять схемой и индексом.</span><span class="sxs-lookup"><span data-stu-id="64dd0-106">Azure Cosmos DB [automatically indexes data](http://www.vldb.org/pvldb/vol8/p1668-shukla.pdf) without requiring you to deal with schema and index management.</span></span> <span data-ttu-id="64dd0-107">Так как эта база данных является многомодельной, она поддерживает модели данных документа, "ключ — значение", графа и столбчатые модели данных.</span><span class="sxs-lookup"><span data-stu-id="64dd0-107">It is multi-model and supports document, key-value, graph, and columnar data models.</span></span>

![База данных Azure Cosmos DB, граф и Gremlin](./media/graph-introduction/graph-gremlin.png)

<span data-ttu-id="64dd0-109">API Graph для базы данных Azure Cosmos DB предоставляет:</span><span class="sxs-lookup"><span data-stu-id="64dd0-109">The Azure Cosmos DB Graph API provides:</span></span>

- <span data-ttu-id="64dd0-110">Моделирование графов.</span><span class="sxs-lookup"><span data-stu-id="64dd0-110">Graph modeling</span></span>
- <span data-ttu-id="64dd0-111">Обходные API-интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="64dd0-111">Traversal APIs</span></span>
- <span data-ttu-id="64dd0-112">Готовое к использованию глобальное распределение.</span><span class="sxs-lookup"><span data-stu-id="64dd0-112">Turn-key global distribution</span></span>
- <span data-ttu-id="64dd0-113">Эластичное масштабирование хранилища и пропускной способности с задержкой операций чтения менее 10 мс и операций записи менее 15 мс на уровне 99-го процентиля.</span><span class="sxs-lookup"><span data-stu-id="64dd0-113">Elastic scaling of storage and throughput with less than 10 ms read latencies and less than 15 ms at the 99th percentile</span></span>
- <span data-ttu-id="64dd0-114">Автоматическое индексирование с мгновенной доступностью запросов.</span><span class="sxs-lookup"><span data-stu-id="64dd0-114">Automatic indexing with instant query availability</span></span>
- <span data-ttu-id="64dd0-115">Настраиваемые уровни согласованности.</span><span class="sxs-lookup"><span data-stu-id="64dd0-115">Tunable consistency levels</span></span>
- <span data-ttu-id="64dd0-116">Комплексное соглашение об уровне обслуживания, включая доступность на уровне 99,99 %.</span><span class="sxs-lookup"><span data-stu-id="64dd0-116">Comprehensive SLAs including 99.99% availability</span></span>

<span data-ttu-id="64dd0-117">Для создания запроса к Azure Cosmos DB можно использовать язык обхода графа [Apache TinkerPop](http://tinkerpop.apache.org), [Gremlin](http://tinkerpop.apache.org/docs/current/reference/#graph-traversal-steps) или другие совместимые с TinkerPop системы графов, такие как [Apache Spark GraphX](spark-connector-graph.md).</span><span class="sxs-lookup"><span data-stu-id="64dd0-117">To query Azure Cosmos DB, you can use the [Apache TinkerPop](http://tinkerpop.apache.org) graph traversal language, [Gremlin](http://tinkerpop.apache.org/docs/current/reference/#graph-traversal-steps), or other TinkerPop-compatible graph systems like [Apache Spark GraphX](spark-connector-graph.md).</span></span>

<span data-ttu-id="64dd0-118">В этой статье содержатся сведения об API Graph для Azure DB Cosmos и объясняется, как его использовать для хранения больших графов с миллиардами вершин и ребер.</span><span class="sxs-lookup"><span data-stu-id="64dd0-118">This article provides an overview of the Azure Cosmos DB Graph API and explains how you can use it to store massive graphs with billions of vertices and edges.</span></span> <span data-ttu-id="64dd0-119">Вы также узнаете о выполнении запросов с миллисекундными задержками и простой разработке структуры и схемы графа.</span><span class="sxs-lookup"><span data-stu-id="64dd0-119">You can query the graphs with millisecond latency and evolve the graph structure and schema easily.</span></span>

## <a name="graph-database"></a><span data-ttu-id="64dd0-120">Базы данных графов</span><span class="sxs-lookup"><span data-stu-id="64dd0-120">Graph database</span></span>
<span data-ttu-id="64dd0-121">В реальном мире все данные связаны естественным образом.</span><span class="sxs-lookup"><span data-stu-id="64dd0-121">Data as it appears in the real world is naturally connected.</span></span> <span data-ttu-id="64dd0-122">Традиционное моделирование данных ориентировано на сущности.</span><span class="sxs-lookup"><span data-stu-id="64dd0-122">Traditional data modeling focuses on entities.</span></span> <span data-ttu-id="64dd0-123">Для многих приложений необходимо моделировать сущности и взаимосвязи между ними.</span><span class="sxs-lookup"><span data-stu-id="64dd0-123">For many applications, there is also a need to model or to model both entities and relationships naturally.</span></span>

<span data-ttu-id="64dd0-124">[Граф](http://mathworld.wolfram.com/Graph.html) — это структура, состоящая из [вершин](http://mathworld.wolfram.com/GraphVertex.html) и [ребер](http://mathworld.wolfram.com/GraphEdge.html).</span><span class="sxs-lookup"><span data-stu-id="64dd0-124">A [graph](http://mathworld.wolfram.com/Graph.html) is a structure that's composed of [vertices](http://mathworld.wolfram.com/GraphVertex.html) and [edges](http://mathworld.wolfram.com/GraphEdge.html).</span></span> <span data-ttu-id="64dd0-125">Вершины и ребра могут содержать произвольное число свойств.</span><span class="sxs-lookup"><span data-stu-id="64dd0-125">Both vertices and edges can have an arbitrary number of properties.</span></span> <span data-ttu-id="64dd0-126">Вершины обозначают дискретные объекты, например пользователя, место или событие.</span><span class="sxs-lookup"><span data-stu-id="64dd0-126">Vertices denote discrete objects such as a person, a place, or an event.</span></span> <span data-ttu-id="64dd0-127">Ребра указывают взаимосвязи между вершинами.</span><span class="sxs-lookup"><span data-stu-id="64dd0-127">Edges denote relationships between vertices.</span></span> <span data-ttu-id="64dd0-128">Например, пользователь может знать другого пользователя, участвовать в событии или посетить мероприятие.</span><span class="sxs-lookup"><span data-stu-id="64dd0-128">For example, a person might know another person, be involved in an event, and recently been at a location.</span></span> <span data-ttu-id="64dd0-129">Свойства выражают сведения о вершинах и ребрах.</span><span class="sxs-lookup"><span data-stu-id="64dd0-129">Properties express information about the vertices and edges.</span></span> <span data-ttu-id="64dd0-130">Примеры свойств вершины — имя и возраст, а ребра — метка времени или вес.</span><span class="sxs-lookup"><span data-stu-id="64dd0-130">Example properties include a vertex that has a name, age, and edge, which has a timestamp and/or a weight.</span></span> <span data-ttu-id="64dd0-131">Более формально эта модель называется [графом свойства](http://tinkerpop.apache.org/docs/current/reference/#intro).</span><span class="sxs-lookup"><span data-stu-id="64dd0-131">More formally, this model is known as a [property graph](http://tinkerpop.apache.org/docs/current/reference/#intro).</span></span> <span data-ttu-id="64dd0-132">База данных Azure Cosmos DB поддерживает модель графа свойства.</span><span class="sxs-lookup"><span data-stu-id="64dd0-132">Azure Cosmos DB supports the property graph model.</span></span>

<span data-ttu-id="64dd0-133">Например, ниже представлен пример графа, в котором показаны взаимосвязи между людьми, их интересами, мобильными устройствами и операционными системами.</span><span class="sxs-lookup"><span data-stu-id="64dd0-133">For example, the following sample graph shows relationships among people, mobile devices, interests, and operating systems.</span></span>

![Пример базы данных, в котором показаны люди, их интересы и устройства](./media/graph-introduction/sample-graph.png)

<span data-ttu-id="64dd0-135">Графы удобны для понимания множества наборов данных в науке, технологиях и бизнесе.</span><span class="sxs-lookup"><span data-stu-id="64dd0-135">Graphs are useful to understand a wide range of datasets in science, technology, and business.</span></span> <span data-ttu-id="64dd0-136">Наборы данных графа позволяют эффективно моделировать и хранить графы естественным образом, благодаря чему их можно применить для различных сценариев.</span><span class="sxs-lookup"><span data-stu-id="64dd0-136">Graph databases let you model and store graphs naturally and efficiently, which makes them useful for many scenarios.</span></span> <span data-ttu-id="64dd0-137">Базы данных графа обычно представляют собой базы данных NoSQL, так как для использования последних часто требуются быстрая итерация и гибкость схемы.</span><span class="sxs-lookup"><span data-stu-id="64dd0-137">Graph databases are typically NoSQL databases because these use cases often also need schema flexibility and rapid iteration.</span></span>

<span data-ttu-id="64dd0-138">Графы предлагают новаторскую эффективную технологию моделирования данных.</span><span class="sxs-lookup"><span data-stu-id="64dd0-138">Graphs offer a novel and powerful data modeling technique.</span></span> <span data-ttu-id="64dd0-139">Эту технологию саму по себе нельзя назвать весомой причиной для использования базы данных графа.</span><span class="sxs-lookup"><span data-stu-id="64dd0-139">But this fact by itself is not a sufficient reason to use a graph database.</span></span> <span data-ttu-id="64dd0-140">Для многих шаблонов и случаев использования, которые включают обходы графа, графы более эффективны (на несколько порядков), чем традиционные базы данных SQL и NoSQL.</span><span class="sxs-lookup"><span data-stu-id="64dd0-140">For many use cases and patterns that involve graph traversals, graphs outperform traditional SQL and NoSQL databases by orders of magnitude.</span></span> <span data-ttu-id="64dd0-141">При передаче более одной связи, такой как связь "друг 1-го друга", эта разница в производительности в дальнейшем усиливается.</span><span class="sxs-lookup"><span data-stu-id="64dd0-141">This difference in performance is further amplified when traversing more than one relationship, like friend-of-a-friend.</span></span>

<span data-ttu-id="64dd0-142">Вы можете объединить быстрые обходы, обеспечиваемые базами данных графа, с такими его алгоритмами, как первый поиск глубины и ширины, алгоритм Дейкстры и т. д., чтобы решить проблемы в различных областях, например социальные сети, управление содержимым, рекомендации.</span><span class="sxs-lookup"><span data-stu-id="64dd0-142">You can combine the fast traversals that graph databases provide with graph algorithms, like depth-first search, breadth-first search, and Dijkstra’s algorithm, to solve problems in various domains like social networking, content management, geospatial, and recommendations.</span></span>

## <a name="planet-scale-graphs-with-azure-cosmos-db"></a><span data-ttu-id="64dd0-143">Глобальные графы и база данных Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="64dd0-143">Planet-scale graphs with Azure Cosmos DB</span></span>
<span data-ttu-id="64dd0-144">База данных Azure Cosmos DB является полностью управляемой базой данных графа, которая обеспечивает глобальное распределение, гибкое масштабирование хранилища и пропускной способности, автоматическое индексирование и возможность выполнять запросы, настраиваемые уровни согласованности, а также поддержку стандартной платформы вычисления графа TinkerPop.</span><span class="sxs-lookup"><span data-stu-id="64dd0-144">Azure Cosmos DB is a fully managed graph database that offers global distribution, elastic scaling of storage and throughput, automatic indexing and query, tunable consistency levels, and support for the TinkerPop standard.</span></span>  

![Архитектура графа базы данных Azure Cosmos DB](./media/graph-introduction/cosmosdb-graph-architecture.png)

<span data-ttu-id="64dd0-146">База данных Azure Cosmos DB предлагает следующие отличительные возможности по сравнению с другими базами данных графа, представленными на рынке:</span><span class="sxs-lookup"><span data-stu-id="64dd0-146">Azure Cosmos DB offers the following differentiated capabilities when compared to other graph databases in the market:</span></span>

* <span data-ttu-id="64dd0-147">Гибко масштабируемая пропускная способность и хранилище</span><span class="sxs-lookup"><span data-stu-id="64dd0-147">Elastically scalable throughput and storage</span></span>

 <span data-ttu-id="64dd0-148">На практике графы должны масштабироваться за пределы емкости одного сервера.</span><span class="sxs-lookup"><span data-stu-id="64dd0-148">Graphs in the real world need to scale beyond the capacity of a single server.</span></span> <span data-ttu-id="64dd0-149">С базой данных Azure Cosmos DB вы можете быстро и эффективно масштабировать графы на нескольких серверах.</span><span class="sxs-lookup"><span data-stu-id="64dd0-149">With Azure Cosmos DB, you can scale your graphs seamlessly across multiple servers.</span></span> <span data-ttu-id="64dd0-150">Вы также можете масштабировать пропускную способность графа на основе шаблонов доступа.</span><span class="sxs-lookup"><span data-stu-id="64dd0-150">You can also scale the throughput of your graph independently based on your access patterns.</span></span> <span data-ttu-id="64dd0-151">База данных Azure Cosmos DB поддерживает базы данных графа, которые можно масштабировать, достигая практически неограниченных размеров хранилища и подготовленной пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="64dd0-151">Azure Cosmos DB supports graph databases that can scale to virtually unlimited storage sizes and provisioned throughput.</span></span>

* <span data-ttu-id="64dd0-152">Репликация между несколькими регионами</span><span class="sxs-lookup"><span data-stu-id="64dd0-152">Multi-region replication</span></span>

 <span data-ttu-id="64dd0-153">База данных Azure Cosmos DB прозрачно реплицирует данные графа во все регионы, связанные с вашей учетной записью.</span><span class="sxs-lookup"><span data-stu-id="64dd0-153">Azure Cosmos DB transparently replicates your graph data to all regions that you've associated with your account.</span></span> <span data-ttu-id="64dd0-154">Репликация позволяет разрабатывать приложения, которым требуется глобальный доступ к данным.</span><span class="sxs-lookup"><span data-stu-id="64dd0-154">Replication enables you to develop applications that require global access to data.</span></span> <span data-ttu-id="64dd0-155">При этом нужно идти на компромиссы, выбирая между согласованностью, доступностью и производительностью, с соответствующими гарантиями.</span><span class="sxs-lookup"><span data-stu-id="64dd0-155">There are tradeoffs in the areas of consistency, availability, and performance and corresponding guarantees.</span></span> <span data-ttu-id="64dd0-156">Azure Cosmos DB обеспечивает прозрачную отработку отказа между регионами с помощью API-интерфейсов с поддержкой множественной адресации.</span><span class="sxs-lookup"><span data-stu-id="64dd0-156">Azure Cosmos DB provides transparent regional failover with multi-homing APIs.</span></span> <span data-ttu-id="64dd0-157">Вы сможете гибко масштабировать пропускную способность и размер хранилища по всему миру.</span><span class="sxs-lookup"><span data-stu-id="64dd0-157">You can elastically scale throughput and storage across the globe.</span></span>

* <span data-ttu-id="64dd0-158">Быстрое выполнение запросов и обходов с помощью знакомого синтаксиса Gremlin</span><span class="sxs-lookup"><span data-stu-id="64dd0-158">Fast queries and traversals with familiar Gremlin syntax</span></span>

 <span data-ttu-id="64dd0-159">Храните разные типы вершин и ребер, а также выполняйте запросы этих документов через знакомый синтаксис Gremlin.</span><span class="sxs-lookup"><span data-stu-id="64dd0-159">Store heterogeneous vertices and edges and query these documents through a familiar Gremlin syntax.</span></span> <span data-ttu-id="64dd0-160">База данных Azure Cosmos DB использует безблокировочную технологию индексирования с высокой степенью параллелизма и структурированием журналов для автоматического индексирования всего содержимого.</span><span class="sxs-lookup"><span data-stu-id="64dd0-160">Azure Cosmos DB utilizes a highly concurrent, lock-free, log-structured indexing technology to automatically index all content.</span></span> <span data-ttu-id="64dd0-161">Это дает возможность формировать многофункциональные запросы и обходы в режиме реального времени без необходимости указывать подсказки для схемы, вторичные индексы или представления.</span><span class="sxs-lookup"><span data-stu-id="64dd0-161">This capability enables rich real-time queries and traversals without the need to specify schema hints, secondary indexes, or views.</span></span> <span data-ttu-id="64dd0-162">Дополнительные сведения см. в руководстве о [поддержке графа для языка Gremlin в базе данных Cosmos Azure](gremlin-support.md).</span><span class="sxs-lookup"><span data-stu-id="64dd0-162">Learn more in [Query Graphs using Gremlin](gremlin-support.md).</span></span>

* <span data-ttu-id="64dd0-163">Полная управляемость</span><span class="sxs-lookup"><span data-stu-id="64dd0-163">Fully managed</span></span>

 <span data-ttu-id="64dd0-164">Azure Cosmos DB устраняет необходимость управления базой данных и вычислительными ресурсами.</span><span class="sxs-lookup"><span data-stu-id="64dd0-164">Azure Cosmos DB eliminates the need to manage database and machine resources.</span></span> <span data-ttu-id="64dd0-165">В полностью управляемой службе Microsoft Azure вам не нужно заниматься управлением виртуальными машинами, развертыванием и настройкой программного обеспечения или масштабированием или иметь дело со сложными обновлениями на уровне данных.</span><span class="sxs-lookup"><span data-stu-id="64dd0-165">As a fully managed Microsoft Azure service, you do not need to manage virtual machines, deploy and configure software, manage scaling, or deal with complex data-tier upgrades.</span></span> <span data-ttu-id="64dd0-166">Каждый граф автоматически сохраняется и защищается от региональных сбоев.</span><span class="sxs-lookup"><span data-stu-id="64dd0-166">Every graph is automatically backed up and protected against regional failures.</span></span> <span data-ttu-id="64dd0-167">Вы можете легко добавлять учетные записи Azure Cosmos DB и подготавливать требуемую емкость по мере необходимости, позволяя сосредоточиться на приложении, а не на вопросах эксплуатации и управления базой данных.</span><span class="sxs-lookup"><span data-stu-id="64dd0-167">You can easily add an Azure Cosmos DB account and provision capacity as you need it so that you can focus on your application instead of operating and managing your database.</span></span>

* <span data-ttu-id="64dd0-168">Автоматическая индексация</span><span class="sxs-lookup"><span data-stu-id="64dd0-168">Automatic indexing</span></span>

 <span data-ttu-id="64dd0-169">По умолчанию база данных Azure Cosmos DB автоматически индексирует все свойства в узлах и ребрах в графе, не ожидая и не требуя наличия какой-либо схемы или создания дополнительных индексов.</span><span class="sxs-lookup"><span data-stu-id="64dd0-169">By default, Azure Cosmos DB automatically indexes all the properties within nodes and edges in the graph and does not expect or require any schema or creation of secondary indices.</span></span>

* <span data-ttu-id="64dd0-170">Совместимость с Apache TinkerPop</span><span class="sxs-lookup"><span data-stu-id="64dd0-170">Compatibility with Apache TinkerPop</span></span>

 <span data-ttu-id="64dd0-171">База данных Azure Cosmos DB изначально поддерживает стандартный язык TinkerPop с открытым кодом, а также может интегрироваться с другими системами графа, совместимыми с этим языком.</span><span class="sxs-lookup"><span data-stu-id="64dd0-171">Azure Cosmos DB natively supports the open-source Apache TinkerPop standard and can be integrated with other TinkerPop-enabled graph systems.</span></span> <span data-ttu-id="64dd0-172">Таким образом, вы можете легко перемещаться из другой базы данных графа, например Titan или Neo4j, или же использовать базу данных Azure Cosmos DB с платформами аналитики графа, такими как [Apache Spark GraphX](spark-connector-graph.md).</span><span class="sxs-lookup"><span data-stu-id="64dd0-172">So, you can easily migrate from another graph database, like Titan or Neo4j, or use Azure Cosmos DB with graph analytics frameworks like [Apache Spark GraphX](spark-connector-graph.md).</span></span>

* <span data-ttu-id="64dd0-173">Настраиваемые уровни согласованности.</span><span class="sxs-lookup"><span data-stu-id="64dd0-173">Tunable consistency levels</span></span>

 <span data-ttu-id="64dd0-174">Вам доступны на выбор пять четко определенных уровней согласованности для достижения оптимального соотношения между согласованностью и производительностью.</span><span class="sxs-lookup"><span data-stu-id="64dd0-174">Select from five well-defined consistency levels to achieve optimal trade-off between consistency and performance.</span></span> <span data-ttu-id="64dd0-175">Для запросов и операций чтения служба Azure Cosmos DB предлагает пять отдельных уровней согласованности — сильный, с ограниченным устареванием, сеансовый, с согласованностью префиксов и согласованный в конечном счете.</span><span class="sxs-lookup"><span data-stu-id="64dd0-175">For queries and read operations, Azure Cosmos DB offers five distinct consistency levels: strong, bounded-staleness, session, consistent prefix, and eventual.</span></span> <span data-ttu-id="64dd0-176">Эти разделенные, четко определенные уровни согласованности позволяют принимать обоснованные компромиссы между показателями согласованности, доступности и задержки.</span><span class="sxs-lookup"><span data-stu-id="64dd0-176">These granular, well-defined consistency levels allow you to make sound tradeoffs among consistency, availability, and latency.</span></span> <span data-ttu-id="64dd0-177">Дополнительные сведения см. в статье [Уровни согласованности в DocumentDB](consistency-levels.md).</span><span class="sxs-lookup"><span data-stu-id="64dd0-177">Learn more in [Using consistency levels to maximize availability and performance in DocumentDB](consistency-levels.md).</span></span>

<span data-ttu-id="64dd0-178">База данных Azure Cosmos DB также позволяет использовать несколько моделей, например документа и графа, в тех же контейнерах или базах данных.</span><span class="sxs-lookup"><span data-stu-id="64dd0-178">Azure Cosmos DB also can use multiple models, like document and graph, within the same containers/databases.</span></span> <span data-ttu-id="64dd0-179">Вы можете использовать коллекцию документов, чтобы хранить данные графа параллельно с ними.</span><span class="sxs-lookup"><span data-stu-id="64dd0-179">You can use a document collection to store graph data side by side with documents.</span></span> <span data-ttu-id="64dd0-180">Кроме того, можно использовать SQL-запросы для JSON и запросы Gremlin для выполнения тех же запросов, что и для графа.</span><span class="sxs-lookup"><span data-stu-id="64dd0-180">You can use both SQL queries over JSON and Gremlin queries to query the same data as a graph.</span></span>

## <a name="getting-started"></a><span data-ttu-id="64dd0-181">Приступая к работе</span><span class="sxs-lookup"><span data-stu-id="64dd0-181">Getting started</span></span>
<span data-ttu-id="64dd0-182">Учетные записи базы данных Azure Cosmos DB можно создать с помощью Azure CLI, Azure Powershell или же портала Azure с поддержкой API Graph.</span><span class="sxs-lookup"><span data-stu-id="64dd0-182">You can use the Azure command-line interface (CLI), Azure Powershell, or the Azure portal with support for graph API to create Azure Cosmos DB accounts.</span></span> <span data-ttu-id="64dd0-183">После создания учетных записей портал Azure предоставляет конечную точку службы, например `https://<youraccount>.graphs.azure.com`, предоставляющую внешний интерфейс WebSocket для языка Gremlin.</span><span class="sxs-lookup"><span data-stu-id="64dd0-183">After you create accounts, the Azure portal provides a service endpoint, like `https://<youraccount>.graphs.azure.com`, that provides a WebSocket front end for Gremlin.</span></span> <span data-ttu-id="64dd0-184">Вы можете настроить средства, совместимые с TinkerPop, например [консоль Gremin](http://tinkerpop.apache.org/docs/current/reference/#gremlin-console), чтобы подключиться к этой конечной точке, а также создать приложения на Java, Node.js или любом другом клиентском драйвере Gremlin.</span><span class="sxs-lookup"><span data-stu-id="64dd0-184">You can configure your TinkerPop-compatible tools, like the [Gremin Console](http://tinkerpop.apache.org/docs/current/reference/#gremlin-console), to connect to this endpoint and build applications in Java, Node.js, or any Gremlin client driver.</span></span>

<span data-ttu-id="64dd0-185">В таблице ниже приведены распространенные драйверы Gremlin, которые вы можете использовать для базы данных Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="64dd0-185">The following table shows popular Gremlin drivers that you can use against Azure Cosmos DB:</span></span>

| <span data-ttu-id="64dd0-186">Загрузить</span><span class="sxs-lookup"><span data-stu-id="64dd0-186">Download</span></span> | <span data-ttu-id="64dd0-187">Документация</span><span class="sxs-lookup"><span data-stu-id="64dd0-187">Documentation</span></span> |
| --- | --- |
| [<span data-ttu-id="64dd0-188">Java</span><span class="sxs-lookup"><span data-stu-id="64dd0-188">Java</span></span>](https://mvnrepository.com/artifact/com.tinkerpop.gremlin/gremlin-java) |[<span data-ttu-id="64dd0-189">Документация по Gremlin для Java</span><span class="sxs-lookup"><span data-stu-id="64dd0-189">Gremlin JavaDoc</span></span>](http://tinkerpop.apache.org/javadocs/current/full/) |
| [<span data-ttu-id="64dd0-190">Node.js</span><span class="sxs-lookup"><span data-stu-id="64dd0-190">Node.js</span></span>](https://www.npmjs.com/package/gremlin) |[<span data-ttu-id="64dd0-191">Gremlin для JavaScript в Github</span><span class="sxs-lookup"><span data-stu-id="64dd0-191">Gremlin-JavaScript on Github</span></span>](https://github.com/jbmusso/gremlin-javascript) |
| [<span data-ttu-id="64dd0-192">Консоль Gremlin</span><span class="sxs-lookup"><span data-stu-id="64dd0-192">Gremlin console</span></span>](https://tinkerpop.apache.org/downloads.html) |[<span data-ttu-id="64dd0-193">Документация по TinkerPop</span><span class="sxs-lookup"><span data-stu-id="64dd0-193">TinkerPop docs</span></span>](http://tinkerpop.apache.org/docs/current/reference/#gremlin-console) |

<span data-ttu-id="64dd0-194">База данных Azure Cosmos DB также предоставляет библиотеку .NET с методами расширения Gremlin на основе [пакетов SDK базы данных Azure Cosmos DB](documentdb-sdk-dotnet.md) через NuGet.</span><span class="sxs-lookup"><span data-stu-id="64dd0-194">Azure Cosmos DB also provides a .NET library that has Gremlin extension methods on top of the [Azure Cosmos DB SDKs](documentdb-sdk-dotnet.md) via NuGet.</span></span> <span data-ttu-id="64dd0-195">Эта библиотека обеспечивает "внутрипроцессный" сервер Gremlin, который может использоваться для подключения напрямую к секциям данных DocumenDB.</span><span class="sxs-lookup"><span data-stu-id="64dd0-195">This library provides an "in-process" Gremlin server that you can use to connect directly to DocumentDB data partitions.</span></span>

| <span data-ttu-id="64dd0-196">Загрузить</span><span class="sxs-lookup"><span data-stu-id="64dd0-196">Download</span></span> | <span data-ttu-id="64dd0-197">Документация</span><span class="sxs-lookup"><span data-stu-id="64dd0-197">Documentation</span></span> |
| --- | --- |
| [<span data-ttu-id="64dd0-198">.NET</span><span class="sxs-lookup"><span data-stu-id="64dd0-198">.NET</span></span>](https://www.nuget.org/packages/Microsoft.Azure.Graphs/) |[<span data-ttu-id="64dd0-199">Microsoft.Azure.Graphs</span><span class="sxs-lookup"><span data-stu-id="64dd0-199">Microsoft.Azure.Graphs</span></span>](https://msdn.microsoft.com/library/azure/dn948556.aspx) |

<span data-ttu-id="64dd0-200">С помощью [эмулятора базы данных Azure Cosmos DB](local-emulator.md) вы можете выполнять разработку и тестирование локально с помощью API Graph, не создавая подписку Azure и без каких-либо затрат.</span><span class="sxs-lookup"><span data-stu-id="64dd0-200">By using the [Azure Cosmos DB Emulator](local-emulator.md), you can use the Graph API to develop and test locally without creating an Azure subscription or incurring any costs.</span></span> <span data-ttu-id="64dd0-201">Если приложение в эмуляторе работает правильно, вы можете использовать учетную запись базы данных Azure Cosmos DB в облаке.</span><span class="sxs-lookup"><span data-stu-id="64dd0-201">When you're satisfied with how your application is working in the Emulator, you can switch to using an Azure Cosmos DB account in the cloud.</span></span>

## <a name="scenarios-for-graph-support-of-azure-cosmos-db"></a><span data-ttu-id="64dd0-202">Сценарии для поддержки Graph базы данных Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="64dd0-202">Scenarios for graph support of Azure Cosmos DB</span></span>
<span data-ttu-id="64dd0-203">Ниже приведены некоторые примеры использования поддержки графа базы данных Azure Cosmos DB:</span><span class="sxs-lookup"><span data-stu-id="64dd0-203">Here are some scenarios where graph support of Azure Cosmos DB can be used:</span></span>

* <span data-ttu-id="64dd0-204">Социальные сети</span><span class="sxs-lookup"><span data-stu-id="64dd0-204">Social networks</span></span>

 <span data-ttu-id="64dd0-205">Объединяя данные о клиентах и их взаимодействиях с другими людьми, вы можете разработать персонализированные средства, предугадать поведение клиента или объединить людей на основе их интересов.</span><span class="sxs-lookup"><span data-stu-id="64dd0-205">By combining data about your customers and their interactions with other people, you can develop personalized experiences, predict customer behavior, or connect people with others with similar interests.</span></span> <span data-ttu-id="64dd0-206">Базу данных Azure Cosmos DB можно использовать для управления социальными сетями и отслеживания данных о клиенте и его предпочтениях.</span><span class="sxs-lookup"><span data-stu-id="64dd0-206">Azure Cosmos DB can be used to manage social networks and track customer preferences and data.</span></span>

* <span data-ttu-id="64dd0-207">Системы рекомендаций</span><span class="sxs-lookup"><span data-stu-id="64dd0-207">Recommendation engines</span></span>

 <span data-ttu-id="64dd0-208">Широко используется в сфере розничной торговли.</span><span class="sxs-lookup"><span data-stu-id="64dd0-208">This scenario is commonly used in the retail industry.</span></span> <span data-ttu-id="64dd0-209">Объединяя сведения о продукции, пользователях и операциях пользователей, например приобретении, поиске и оценке товара, вы можете создать пользовательские рекомендации.</span><span class="sxs-lookup"><span data-stu-id="64dd0-209">By combining information about products, users, and user interactions, like purchasing, browsing, or rating an item, you can build customized recommendations.</span></span> <span data-ttu-id="64dd0-210">База данных Azure Cosmos DB с минимальной задержкой, гибким масштабированием и встроенной поддержкой графа представляет собой идеальный вариант моделирования этих взаимосвязей.</span><span class="sxs-lookup"><span data-stu-id="64dd0-210">The low latency, elastic scale, and native graph support of Azure Cosmos DB is ideal for modeling these interactions.</span></span>

* <span data-ttu-id="64dd0-211">Геопространственные данные</span><span class="sxs-lookup"><span data-stu-id="64dd0-211">Geospatial</span></span>

 <span data-ttu-id="64dd0-212">Многим приложениям в сферах телекоммуникаций, логистики и туристического планирования требуется поиск интересующего расположения в регионе или же обнаружение самого короткого (оптимального) пути между двумя расположениями.</span><span class="sxs-lookup"><span data-stu-id="64dd0-212">Many applications in telecommunications, logistics, and travel planning need to find a location of interest within an area or locate the shortest/optimal route between two locations.</span></span> <span data-ttu-id="64dd0-213">База данных Azure Cosmos DB поможет легко справиться с этими задачами.</span><span class="sxs-lookup"><span data-stu-id="64dd0-213">Azure Cosmos DB is a natural fit for these problems.</span></span>

* <span data-ttu-id="64dd0-214">Интернет вещей</span><span class="sxs-lookup"><span data-stu-id="64dd0-214">Internet of Things</span></span>

 <span data-ttu-id="64dd0-215">С помощью сети и подключений между устройствами Интернета вещей, смоделированных как граф, вы можете лучше разобраться с состоянием и ресурсами, а также узнать, как изменения в одной части сети могут повлиять на другую часть.</span><span class="sxs-lookup"><span data-stu-id="64dd0-215">With the network and connections between IoT devices modeled as a graph, you can build a better understanding of the state of your devices and assets and learn how changes in one part of the network can potentially affect another part.</span></span>

## <a name="next-steps"></a><span data-ttu-id="64dd0-216">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="64dd0-216">Next steps</span></span>
<span data-ttu-id="64dd0-217">Дополнительные сведения о поддержке графа в базе данных Azure Cosmos DB см. в следующих ресурсах:</span><span class="sxs-lookup"><span data-stu-id="64dd0-217">To learn more about graph support in Azure Cosmos DB, see:</span></span>

* <span data-ttu-id="64dd0-218">[Azure Cosmos DB. Создание приложения .NET с помощью API Graph](create-graph-dotnet.md)</span><span class="sxs-lookup"><span data-stu-id="64dd0-218">Get started with the [Azure Cosmos DB graph tutorial](create-graph-dotnet.md).</span></span>
* <span data-ttu-id="64dd0-219">[Поддержка графа Gremlin в базе данных Azure Cosmos DB](gremlin-support.md)</span><span class="sxs-lookup"><span data-stu-id="64dd0-219">Learn about how to [query graphs in Azure Cosmos DB using Gremlin](gremlin-support.md).</span></span>
