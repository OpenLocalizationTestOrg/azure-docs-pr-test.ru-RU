---
title: "Конструктивный шаблон Azure Cosmos DB: приложения социальных сетей | Документация Майкрософт"
description: "Узнайте о конструктивном шаблоне для социальных сетей, используя гибкие возможности хранения данных Azure Cosmos DB и другие службы Azure."
keywords: "Приложения социальных сетей"
services: cosmos-db
author: ealsur
manager: jhubbard
editor: 
documentationcenter: 
ms.assetid: 2dbf83a7-512a-4993-bf1b-ea7d72e095d9
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/29/2017
ms.author: mimig
ms.openlocfilehash: 43025adeaf954fedfbcee32e636fb30935f2126b
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="going-social-with-azure-cosmos-db"></a><span data-ttu-id="4e87a-104">Использование социальных сетей с помощью Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="4e87a-104">Going social with Azure Cosmos DB</span></span>
<span data-ttu-id="4e87a-105">Жизнь в сильно взаимосвязанном обществе означает, что в определенный момент вы присоединяетесь к **социальной сети**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-105">Living in a massively-interconnected society means that, at some point in life, you become part of a **social network**.</span></span> <span data-ttu-id="4e87a-106">Мы используем социальные сети, чтобы поддерживать связь с друзьями, коллегами и родными, а иногда — чтобы делиться увлечением с теми, кто разделяет ваши интересы.</span><span class="sxs-lookup"><span data-stu-id="4e87a-106">We use social networks to keep in touch with friends, colleagues, family, or sometimes to share our passion with people with common interests.</span></span>

<span data-ttu-id="4e87a-107">Как специалисты и разработчики, мы могли задаваться вопросом, как эти сети хранят и связывают наши данные, или даже самостоятельно участвовать в создании или проектировании новой социальной сети для какой-нибудь специфической ниши рынка.</span><span class="sxs-lookup"><span data-stu-id="4e87a-107">As engineers or developers, we might have wondered how do these networks store and interconnect our data, or might have even been tasked to create or architect a new social network for a specific niche market yourselves.</span></span> <span data-ttu-id="4e87a-108">Именно тогда возникает главный вопрос: как хранятся все эти данные?</span><span class="sxs-lookup"><span data-stu-id="4e87a-108">That’s when the big question arises: How is all this data stored?</span></span>

<span data-ttu-id="4e87a-109">Предположим, что мы создаем новую яркую социальную сеть, где наши пользователи могут публиковать статьи с сопутствующими материалами, например изображениями, видео или даже музыкой.</span><span class="sxs-lookup"><span data-stu-id="4e87a-109">Let’s suppose that we are creating a new and shiny social network, where our users can post articles with related media like, pictures, videos, or even music.</span></span> <span data-ttu-id="4e87a-110">Пользователи могут комментировать записи и оценивать их с помощью очков.</span><span class="sxs-lookup"><span data-stu-id="4e87a-110">Users can comment on posts and give points for ratings.</span></span> <span data-ttu-id="4e87a-111">В сети будет веб-канал записей, которые пользователи смогут видеть, также они смогут взаимодействовать с целевой страницей основного веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="4e87a-111">There will be a feed of posts that users will see and be able to interact with on the main website landing page.</span></span> <span data-ttu-id="4e87a-112">Все выглядит не очень сложным (сначала), но для простоты давайте остановимся на этом (можно углубиться в настраиваемые пользовательские веб-каналы, на которые влияют связи, но это не входит в задачи этой статьи).</span><span class="sxs-lookup"><span data-stu-id="4e87a-112">This doesn’t sound really complex (at first), but for the sake of simplicity, let’s stop there (we could delve into custom user feeds affected by relationships, but it exceeds the goal of this article).</span></span>

<span data-ttu-id="4e87a-113">Итак, как все это хранить и где?</span><span class="sxs-lookup"><span data-stu-id="4e87a-113">So, how do we store this and where?</span></span>

<span data-ttu-id="4e87a-114">Многие из вас могут иметь опыт работы с базами данных SQL или хотя бы иметь понятие о [реляционном моделировании данных](https://en.wikipedia.org/wiki/Relational_model) , и вам не терпится начать рисовать примерно следующее.</span><span class="sxs-lookup"><span data-stu-id="4e87a-114">Many of you might have experience on SQL databases or at least have notion of [relational modeling of data](https://en.wikipedia.org/wiki/Relational_model) and you might be tempted to start drawing something like this:</span></span>

![Схема, иллюстрирующая относительную реляционную модель](./media/social-media-apps/social-media-apps-sql.png) 

<span data-ttu-id="4e87a-116">Идеально нормализованная и аккуратная структура данных…</span><span class="sxs-lookup"><span data-stu-id="4e87a-116">A perfectly normalized and pretty data structure…</span></span> <span data-ttu-id="4e87a-117">которая не масштабируется.</span><span class="sxs-lookup"><span data-stu-id="4e87a-117">that doesn't scale.</span></span> 

<span data-ttu-id="4e87a-118">Не поймите меня неправильно, я всю жизнь работал с базами данных SQL. Они удобны, но, как и в случае с любой методикой, практикой и программной платформой, они не подходят идеально для всех сценариев.</span><span class="sxs-lookup"><span data-stu-id="4e87a-118">Don’t get me wrong, I’ve worked with SQL databases all my life, they are great, but like every pattern, practice and software platform, it’s not perfect for every scenario.</span></span>

<span data-ttu-id="4e87a-119">Почему SQL — не наилучший вариант для этого сценария?</span><span class="sxs-lookup"><span data-stu-id="4e87a-119">Why isn't SQL the best choice in this scenario?</span></span> <span data-ttu-id="4e87a-120">Рассмотрим структуру одной записи. Чтобы показать эту запись на веб-сайте или в приложения, мне потребовалось бы сделать запрос с…</span><span class="sxs-lookup"><span data-stu-id="4e87a-120">Let’s look at the structure of a single post, if I wanted to show that post in a website or application, I’d have to do a query with…</span></span> <span data-ttu-id="4e87a-121">8 соединениями таблиц (!) только для того, чтобы показать одну запись. Теперь представьте поток записей, которые динамически загружаются и отображаются на экране, и вы поймете, о чем я.</span><span class="sxs-lookup"><span data-stu-id="4e87a-121">8 table joins (!) just to show one single post, now, picture a stream of posts that dynamically load and appear on the screen and you might see where I am going.</span></span>

<span data-ttu-id="4e87a-122">Конечно, мы могли бы использовать огромный экземпляр SQL с вычислительной мощностью, достаточной для обработки тысяч запросов с этим количеством соединений, чтобы обслуживать наше содержимое, но для чего тогда существует более простое решение?</span><span class="sxs-lookup"><span data-stu-id="4e87a-122">We could, of course, use a humongous SQL instance with enough power to solve thousands of queries with these many joins to serve our content, but truly, why would we when a simpler solution exists?</span></span>

## <a name="the-nosql-road"></a><span data-ttu-id="4e87a-123">Путь NoSQL</span><span class="sxs-lookup"><span data-stu-id="4e87a-123">The NoSQL road</span></span>
<span data-ttu-id="4e87a-124">Эта статья содержит рекомендации по экономичному моделированию данных социальной платформы с помощью базы данных NoSQL Azure, [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/), и использованию других возможностей базы данных Azure Cosmos DB, таких как [API Gremlin Graph](../cosmos-db/graph-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="4e87a-124">This article will guide you into modeling your social platform's data with Azure's NoSQL database [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/) in a cost-effective way while leveraging other Azure Cosmos DB features like the  [Gremlin Graph API](../cosmos-db/graph-introduction.md).</span></span> <span data-ttu-id="4e87a-125">Используя [NoSQL](https://en.wikipedia.org/wiki/NoSQL), храня данные в формате JSON и применяя [денормализацию](https://en.wikipedia.org/wiki/Denormalization), нашу запись, которая ранее представлялась сложной, можно преобразовать в один [документ](https://en.wikipedia.org/wiki/Document-oriented_database).</span><span class="sxs-lookup"><span data-stu-id="4e87a-125">Using a [NoSQL](https://en.wikipedia.org/wiki/NoSQL) approach, storing data in JSON format and applying [denormalization](https://en.wikipedia.org/wiki/Denormalization), our previously complicated post can be transformed into a single [Document](https://en.wikipedia.org/wiki/Document-oriented_database):</span></span>


    {
        "id":"ew12-res2-234e-544f",
        "title":"post title",
        "date":"2016-01-01",
        "body":"this is an awesome post stored on NoSQL",
        "createdBy":User,
        "images":["http://myfirstimage.png","http://mysecondimage.png"],
        "videos":[
            {"url":"http://myfirstvideo.mp4", "title":"The first video"},
            {"url":"http://mysecondvideo.mp4", "title":"The second video"}
        ],
        "audios":[
            {"url":"http://myfirstaudio.mp3", "title":"The first audio"},
            {"url":"http://mysecondaudio.mp3", "title":"The second audio"}
        ]
    }

<span data-ttu-id="4e87a-126">И его можно получить с помощью одного запроса без каких-либо операций соединения.</span><span class="sxs-lookup"><span data-stu-id="4e87a-126">And it can be obtained with a single query, and with no joins.</span></span> <span data-ttu-id="4e87a-127">Это намного проще, эффективнее и экономнее, и для достижения наилучшего результата требуется меньше ресурсов.</span><span class="sxs-lookup"><span data-stu-id="4e87a-127">This is much more simple and straightforward, and, budget-wise, it requires fewer resources to achieve a better result.</span></span>

<span data-ttu-id="4e87a-128">Azure Cosmos DB обеспечивает индексирование всех свойств с помощью автоматического индексирования, которое даже можно [настроить](indexing-policies.md).</span><span class="sxs-lookup"><span data-stu-id="4e87a-128">Azure Cosmos DB makes sure that all the properties are indexed with its automatic indexing, which can even be [customized](indexing-policies.md).</span></span> <span data-ttu-id="4e87a-129">Эта методика без использования схемы позволяет хранить документы с различными динамическими структурами. Возможно, завтра нам понадобятся записи со списком категорий или хэштегами, связанными с ними. Cosmos DB будет обрабатывать новые документы с помощью добавленных атрибутов, и для этого нам не придется ничего делать дополнительно.</span><span class="sxs-lookup"><span data-stu-id="4e87a-129">The schema-free approach lets us store Documents with different and dynamic structures, maybe tomorrow we want posts to have a list of categories or hashtags associated with them, Cosmos DB will handle the new Documents with the added attributes with no extra work required by us.</span></span>

<span data-ttu-id="4e87a-130">Комментарии к записи можно считать такими же записями, но со свойством родительской записи (это упрощает сопоставление объектов).</span><span class="sxs-lookup"><span data-stu-id="4e87a-130">Comments on a post can be treated as just other posts with a parent property (this simplifies our object mapping).</span></span> 

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":User2,
        "parent":"ew12-res2-234e-544f"
    }

    {
        "id":"asd2-fee4-23gc-jh67",
        "title":"Ditto!",
        "date":"2016-01-03",
        "createdBy":User3,
        "parent":"ew12-res2-234e-544f"
    }

<span data-ttu-id="4e87a-131">И все взаимодействия в социальной сети могут храниться в отдельном объекте как счетчики.</span><span class="sxs-lookup"><span data-stu-id="4e87a-131">And all social interactions can be stored on a separate object as counters:</span></span>

    {
        "id":"dfe3-thf5-232s-dse4",
        "post":"ew12-res2-234e-544f",
        "comments":2,
        "likes":10,
        "points":200
    }

<span data-ttu-id="4e87a-132">Создание веб-каналов — это просто создание документов, которые могут содержать список идентификаторов записей в указанном порядке релевантности.</span><span class="sxs-lookup"><span data-stu-id="4e87a-132">Creating feeds is just a matter of creating documents that can hold a list of post ids with a given relevance order:</span></span>

    [
        {"relevance":9, "post":"ew12-res2-234e-544f"},
        {"relevance":8, "post":"fer7-mnb6-fgh9-2344"},
        {"relevance":7, "post":"w34r-qeg6-ref6-8565"}
    ]

<span data-ttu-id="4e87a-133">Мы можем создать поток "Последние" с сообщениями, упорядоченными по дате создания, а также поток "Популярные" с записями, которые понравились наибольшему числу пользователей за последние 24 часа. Мы даже можем реализовать настраиваемый поток для каждого пользователя, например, основанный на логике, учитывающей число подписчиков и интересы, и все равно это будет список записей.</span><span class="sxs-lookup"><span data-stu-id="4e87a-133">We could have a “latest” stream with posts ordered by creation date, a “hottest” stream with those posts with more likes in the last 24 hours, we could even implement a custom stream for each user based on logic like followers and interests, and it would still be a list of posts.</span></span> <span data-ttu-id="4e87a-134">Важно то, как создаются эти списки, а производительность чтения остается неизменной.</span><span class="sxs-lookup"><span data-stu-id="4e87a-134">It’s a matter of how to build these lists, but the reading performance remains unhindered.</span></span> <span data-ttu-id="4e87a-135">Получив один из этих списков, мы выполним один запрос к Cosmos DB с помощью [оператора IN](documentdb-sql-query.md#WhereClause), чтобы получить сразу несколько страниц записей.</span><span class="sxs-lookup"><span data-stu-id="4e87a-135">Once we acquire one of these lists, we issue a single query to Cosmos DB using the [IN operator](documentdb-sql-query.md#WhereClause) to obtain pages of posts at a time.</span></span>

<span data-ttu-id="4e87a-136">Потоки веб-канала можно создать с использованием фоновых процессов [служб приложений Azure](https://azure.microsoft.com/services/app-service/) — [веб-заданий](../app-service-web/web-sites-create-web-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="4e87a-136">The feed streams could be built using [Azure App Services’](https://azure.microsoft.com/services/app-service/) background processes: [Webjobs](../app-service-web/web-sites-create-web-jobs.md).</span></span> <span data-ttu-id="4e87a-137">После создания записи фоновую обработку можно активировать с помощью [очередей](https://azure.microsoft.com/services/storage/) [службы хранилища Azure](../storage/queues/storage-dotnet-how-to-use-queues.md), а веб-задания можно активировать с помощью [пакета SDK веб-заданий](../app-service-web/websites-dotnet-webjobs-sdk.md), реализовав распространение записей в потоках на основе собственной настраиваемой логики.</span><span class="sxs-lookup"><span data-stu-id="4e87a-137">Once a post is created, background processing can be triggered by using [Azure Storage](https://azure.microsoft.com/services/storage/) [Queues](../storage/queues/storage-dotnet-how-to-use-queues.md) and Webjobs triggered using the [Azure Webjobs SDK](../app-service-web/websites-dotnet-webjobs-sdk.md), implementing the post propagation inside streams based on our own custom logic.</span></span> 

<span data-ttu-id="4e87a-138">Очки и отметки "Нравится" записи могут обрабатываться с отсрочкой, этот же подход применяется для создания согласованной среды.</span><span class="sxs-lookup"><span data-stu-id="4e87a-138">Points and likes over a post can be processed in a deferred manner using this same technique to create an eventually consistent environment.</span></span>

<span data-ttu-id="4e87a-139">С читателями все сложнее.</span><span class="sxs-lookup"><span data-stu-id="4e87a-139">Followers are trickier.</span></span> <span data-ttu-id="4e87a-140">В Cosmos DB действует ограничение максимального размера документа, и операции чтения или записи с большими документами могут повлиять на масштабируемость приложения.</span><span class="sxs-lookup"><span data-stu-id="4e87a-140">Cosmos DB has a maximum document size limit, and reading/writing large documents can impact the scalability of your application.</span></span> <span data-ttu-id="4e87a-141">Поэтому можно рассмотреть хранение читателей в документе со следующей структурой.</span><span class="sxs-lookup"><span data-stu-id="4e87a-141">So you may think about storing followers as a document with this structure:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "followersOf": "dse4-qwe2-ert4-aad2",
        "followers":[
            "ewr5-232d-tyrg-iuo2",
            "qejh-2345-sdf1-ytg5",
            //...
            "uie0-4tyg-3456-rwjh"
        ]
    }

<span data-ttu-id="4e87a-142">Это может подойти для пользователя с несколькими тысячами читателей, но если к нам присоединится какая-либо знаменитость, то при данном подходе размер документа увеличится и мы все равно натолкнемся на ограничение размера.</span><span class="sxs-lookup"><span data-stu-id="4e87a-142">This might work for a user with a few thousands followers, but if some celebrity joins our ranks, this approach will lead to a large document size, and might eventually hit the document size cap.</span></span>

<span data-ttu-id="4e87a-143">Чтобы решить эту задачу, мы используем смешанный подход.</span><span class="sxs-lookup"><span data-stu-id="4e87a-143">To solve this, we can use a mixed approach.</span></span> <span data-ttu-id="4e87a-144">В документе статистики пользователей мы можем хранить количество читателей.</span><span class="sxs-lookup"><span data-stu-id="4e87a-144">As part of the User Statistics document we can store the number of followers:</span></span>

    {
        "id":"234d-sd23-rrf2-552d",
        "user": "dse4-qwe2-ert4-aad2",
        "followers":55230,
        "totalPosts":452,
        "totalPoints":11342
    }

<span data-ttu-id="4e87a-145">Фактический граф подписчиков можно хранить с помощью [API Gremlin Graph](../cosmos-db/graph-introduction.md) базы данных Azure Cosmos DB. При этом создаются [вершины](http://mathworld.wolfram.com/GraphVertex.html) для каждого пользователя и [грани](http://mathworld.wolfram.com/GraphEdge.html), поддерживающие отношения "А подписан на Б".</span><span class="sxs-lookup"><span data-stu-id="4e87a-145">And the actual graph of followers can be stored using Azure Cosmos DB [Gremlin Graph API](../cosmos-db/graph-introduction.md), to create [vertexes](http://mathworld.wolfram.com/GraphVertex.html) for each user and [edges](http://mathworld.wolfram.com/GraphEdge.html) that maintain the "A-follows-B" relationships.</span></span> <span data-ttu-id="4e87a-146">API Graph позволяет вам не только получать подписчиков конкретного пользователя, но и создавать более сложные запросы, предлагающие пользователей с некоторыми общими характеристиками.</span><span class="sxs-lookup"><span data-stu-id="4e87a-146">The Graph API let's you not only obtain the followers of a certain user but create more complex queries to even suggest people in common.</span></span> <span data-ttu-id="4e87a-147">Если добавить в граф категории содержимого, которые "нравятся" пользователям, мы сможем добавить возможности связывания, включая интеллектуальное обнаружение содержимого, предложение содержимого, интересующего пользователей, на которых мы подписаны, или поиск людей, с которыми мы можем иметь общие интересы.</span><span class="sxs-lookup"><span data-stu-id="4e87a-147">If we add to the graph the Content Categories that people like or enjoy, we can start weaving experiences that include smart content discovery, suggesting content that those we follow like, or finding people with whom we might have much in common.</span></span>

<span data-ttu-id="4e87a-148">С помощью документа "Статистика пользователей" также можно создавать карточки в пользовательском интерфейсе или просматривать краткие профили.</span><span class="sxs-lookup"><span data-stu-id="4e87a-148">The User Statistics document can still be used to create cards in the UI or quick profile previews.</span></span>

## <a name="the-ladder-pattern-and-data-duplication"></a><span data-ttu-id="4e87a-149">Дублирование данных и шаблон "Лестница"</span><span class="sxs-lookup"><span data-stu-id="4e87a-149">The “Ladder” pattern and data duplication</span></span>
<span data-ttu-id="4e87a-150">Как можно заметить, в документе JSON, на который ссылается запись, существует несколько вхождений данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="4e87a-150">As you might have noticed in the JSON document that references a post, there are multiple occurrences of a user.</span></span> <span data-ttu-id="4e87a-151">Как вы уже догадались, это означает, что данные, представляющие пользователя (с учетом денормализации), могут находиться в нескольких местах.</span><span class="sxs-lookup"><span data-stu-id="4e87a-151">And you’d have guessed right, this means that the information that represents a user, given this denormalization, might be present in more than one place.</span></span>

<span data-ttu-id="4e87a-152">Чтобы ускорить обработку запросов, мы применяем дублирование данных.</span><span class="sxs-lookup"><span data-stu-id="4e87a-152">In order to allow for faster queries, we incur data duplication.</span></span> <span data-ttu-id="4e87a-153">Побочный эффект состоит в том, что если какое-либо действие меняет данные пользователя, нам нужно найти все действия, которые он когда-либо выполнил, и обновить их.</span><span class="sxs-lookup"><span data-stu-id="4e87a-153">The problem with this side-effect is that if by some action, a user’s data changes, we need to find all the activities he ever did and update them all.</span></span> <span data-ttu-id="4e87a-154">Звучит не слишком практично, верно?</span><span class="sxs-lookup"><span data-stu-id="4e87a-154">Doesn’t sound very practical, right?</span></span>

<span data-ttu-id="4e87a-155">Мы решим эту проблему, определив ключевые атрибуты пользователя, которые отображаются в нашем приложении для каждого действия.</span><span class="sxs-lookup"><span data-stu-id="4e87a-155">We are going to solve it by identifying the Key attributes of a user that we show in our application for each activity.</span></span> <span data-ttu-id="4e87a-156">Если мы показываем запись в приложении только с именем и изображением автора, зачем хранить в атрибуте createdBy все данные пользователя?</span><span class="sxs-lookup"><span data-stu-id="4e87a-156">If we visually show a post in our application and show just the creator’s name and picture, why store all of the user’s data in the “createdBy” attribute?</span></span> <span data-ttu-id="4e87a-157">Если для каждого комментария мы показываем только изображение пользователя, остальные его данные не нужны.</span><span class="sxs-lookup"><span data-stu-id="4e87a-157">If for each comment we just show the user’s picture, we don’t really need the rest of his information.</span></span> <span data-ttu-id="4e87a-158">Вот когда нам пригодится то, что я называю шаблоном "Лестница".</span><span class="sxs-lookup"><span data-stu-id="4e87a-158">That’s where something I call the “Ladder pattern” comes into play.</span></span>

<span data-ttu-id="4e87a-159">Для примера рассмотрим информацию о пользователе.</span><span class="sxs-lookup"><span data-stu-id="4e87a-159">Let’s take user information as an example:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "address":"742 Evergreen Terrace",
        "birthday":"1983-05-07",
        "email":"john@doe.com",
        "twitterHandle":"@john",
        "username":"johndoe",
        "password":"some_encrypted_phrase",
        "totalPoints":100,
        "totalPosts":24
    }

<span data-ttu-id="4e87a-160">Посмотрев на эту информацию, мы можем быстро определить, какая информация важна, а какая — нет, тем самым строя "лестницу".</span><span class="sxs-lookup"><span data-stu-id="4e87a-160">By looking at this information, we can quickly detect which is critical information and which isn’t, thus creating a “Ladder”:</span></span>

![Схема шаблона "Лестница"](./media/social-media-apps/social-media-apps-ladder.png)

<span data-ttu-id="4e87a-162">Наименьший объект называется блоком пользователя, это минимальный объем информации, идентифицирующий пользователя и используемый для дублирования данных.</span><span class="sxs-lookup"><span data-stu-id="4e87a-162">The smallest step is called a UserChunk, the minimal piece of information that identifies a user and it’s used for data duplication.</span></span> <span data-ttu-id="4e87a-163">Уменьшая размер дублируемых данных только до "видимой" информации, мы снизим вероятность масштабных обновлений.</span><span class="sxs-lookup"><span data-stu-id="4e87a-163">By reducing the size of the duplicated data to only the information we will “show”, we reduce the possibility of massive updates.</span></span>

<span data-ttu-id="4e87a-164">Средний объект называется пользователем, это полные данные, которые будут использоваться в большинстве зависящих от производительности запросов в Cosmos DB. Это наиболее используемые и важные данные.</span><span class="sxs-lookup"><span data-stu-id="4e87a-164">The middle step is called the user, it’s the full data that will be used on most performance-dependent queries on Cosmos DB, the most accessed and critical.</span></span> <span data-ttu-id="4e87a-165">Пользователь содержит информацию, представленную в блоке пользователя.</span><span class="sxs-lookup"><span data-stu-id="4e87a-165">It includes the information represented by a UserChunk.</span></span>

<span data-ttu-id="4e87a-166">Самый большой объект — расширенный пользователь.</span><span class="sxs-lookup"><span data-stu-id="4e87a-166">The largest is the Extended User.</span></span> <span data-ttu-id="4e87a-167">Он содержит все критически важные данные пользователя, а также другие данные, которые не требуется очень быстро считывать или которые используются при определенных условиях (например, при входе в систему).</span><span class="sxs-lookup"><span data-stu-id="4e87a-167">It includes all the critical user information plus other data that doesn’t really require to be read quickly or it’s usage is eventual (like the login process).</span></span> <span data-ttu-id="4e87a-168">Эти данные могут храниться за пределами Cosmos DB, в базе данных SQL Azure или таблицах хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="4e87a-168">This data can be stored outside of Cosmos DB, in Azure SQL Database or Azure Storage Tables.</span></span>

<span data-ttu-id="4e87a-169">Зачем разделять данные пользователя и хранить эту информацию в разных местах?</span><span class="sxs-lookup"><span data-stu-id="4e87a-169">Why would we split the user and even store this information in different places?</span></span> <span data-ttu-id="4e87a-170">Это необходимо, поскольку с точки зрения производительности, чем больше документы, тем дороже обходятся запросы.</span><span class="sxs-lookup"><span data-stu-id="4e87a-170">Because from a performance point of view, the bigger the documents, the costlier the queries.</span></span> <span data-ttu-id="4e87a-171">Используйте небольшие документы, содержащие только данные, необходимые для выполнения всех зависящих от производительности запросов для социальной сети, и храните отдельно дополнительные данные, которые используются при определенных условиях, например для полного изменения профилей, входа в систему и даже интеллектуального анализа данных для получения аналитики по использованию и инициатив по большим данным.</span><span class="sxs-lookup"><span data-stu-id="4e87a-171">Keep documents slim, with the right information to do all your performance-dependent queries for your social network, and store the other extra information for eventual scenarios like, full profile edits, logins, even data mining for usage analytics and Big Data initiatives.</span></span> <span data-ttu-id="4e87a-172">Нам действительно не важно, если сбор данных для интеллектуального анализа данных идет медленнее, так как выполняется в базе данных SQL Azure. Зато нам важно обеспечить быстрое и удобное взаимодействие с пользователями.</span><span class="sxs-lookup"><span data-stu-id="4e87a-172">We really don’t care if the data gathering for data mining is slower because it’s running on Azure SQL Database, we do have concern though that our users have a fast and slim experience.</span></span> <span data-ttu-id="4e87a-173">Данные пользователя, хранящиеся в Cosmos DB, будут выглядеть следующим образом.</span><span class="sxs-lookup"><span data-stu-id="4e87a-173">A user, stored on Cosmos DB, would look like this:</span></span>

    {
        "id":"dse4-qwe2-ert4-aad2",
        "name":"John",
        "surname":"Doe",
        "username":"johndoe"
        "email":"john@doe.com",
        "twitterHandle":"@john"
    }

<span data-ttu-id="4e87a-174">И запрос POST будет выглядеть следующим образом.</span><span class="sxs-lookup"><span data-stu-id="4e87a-174">And a Post would look like:</span></span>

    {
        "id":"1234-asd3-54ts-199a",
        "title":"Awesome post!",
        "date":"2016-01-02",
        "createdBy":{
            "id":"dse4-qwe2-ert4-aad2",
            "username":"johndoe"
        }
    }

<span data-ttu-id="4e87a-175">И в случае изменения, затрагивающего один из атрибутов блока, несложно найти требуемые документы с помощью запросов, которые указывают на индексированные атрибуты (SELECT * FROM posts p WHERE p.createdBy.id == “edited_user_id”), и затем обновить эти блоки.</span><span class="sxs-lookup"><span data-stu-id="4e87a-175">And when an edit arises where one of the attributes of the chunk is affected, it’s easy to find the affected documents by using queries that point to the indexed attributes (SELECT * FROM posts p WHERE p.createdBy.id == “edited_user_id”) and then updating the chunks.</span></span>

## <a name="the-search-box"></a><span data-ttu-id="4e87a-176">Поле поиска</span><span class="sxs-lookup"><span data-stu-id="4e87a-176">The search box</span></span>
<span data-ttu-id="4e87a-177">К счастью, пользователи будут формировать много содержимого.</span><span class="sxs-lookup"><span data-stu-id="4e87a-177">Users will generate, luckily, a lot of content.</span></span> <span data-ttu-id="4e87a-178">И мы должны дать возможность искать и находить содержимое, которое может отсутствовать непосредственно в их потоках содержимого, возможно, потому, что они не подписались на их авторов или просто пытаются найти старую запись, созданную 6 месяцев назад.</span><span class="sxs-lookup"><span data-stu-id="4e87a-178">And we should be able to provide the ability to search and find content that might not be directly in their content streams, maybe because we don’t follow the creators, or maybe we are just trying to find that old post we did 6 months ago.</span></span>

<span data-ttu-id="4e87a-179">Благодаря тому, что мы используем Azure Cosmos DB, мы можем всего за несколько минут легко реализовать механизм поиска с помощью [Поиска Azure](https://azure.microsoft.com/services/search/), не вводя ни одной строки кода (кроме, разумеется, процесса поиска и пользовательского интерфейса).</span><span class="sxs-lookup"><span data-stu-id="4e87a-179">Thankfully, and because we are using Azure Cosmos DB, we can easily implement a search engine using [Azure Search](https://azure.microsoft.com/services/search/) in a couple of minutes and without typing a single line of code (other than obviously, the search process and UI).</span></span>

<span data-ttu-id="4e87a-180">Почему это так просто?</span><span class="sxs-lookup"><span data-stu-id="4e87a-180">Why is this so easy?</span></span>

<span data-ttu-id="4e87a-181">Поиск Azure реализует так называемые [индексаторы](https://msdn.microsoft.com/library/azure/dn946891.aspx), фоновые процессы, которые привязываются к репозиториям данных и автоматически добавляют, обновляют или удаляют объекты в индексах.</span><span class="sxs-lookup"><span data-stu-id="4e87a-181">Azure Search implements what they call [Indexers](https://msdn.microsoft.com/library/azure/dn946891.aspx), background processes that hook in your data repositories and automagically add, update or remove your objects in the indexes.</span></span> <span data-ttu-id="4e87a-182">Они поддерживают [индексаторы базы данных SQL Azure](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [индексаторы больших двоичных объектов Azure](../search/search-howto-indexing-azure-blob-storage.md) и, к счастью, [индексаторы Azure Cosmos DB](../search/search-howto-index-documentdb.md).</span><span class="sxs-lookup"><span data-stu-id="4e87a-182">They support an [Azure SQL Database indexers](https://blogs.msdn.microsoft.com/kaevans/2015/03/06/indexing-azure-sql-database-with-azure-search/), [Azure Blobs indexers](../search/search-howto-indexing-azure-blob-storage.md) and thankfully, [Azure Cosmos DB indexers](../search/search-howto-index-documentdb.md).</span></span> <span data-ttu-id="4e87a-183">Переместить информацию из Cosmos DB в службу поиска Azure просто, так как и там, и там она хранится в формате JSON, и нам нужно просто [создать индекс](../search/search-create-index-portal.md) и сопоставить атрибуты из документов, которые мы хотим индексировать. Через нескольких минут (зависит от размера данных) все наше содержимое будет доступно для поиска с использованием лучшего решения "поиска как услуги" в облачной инфраструктуре.</span><span class="sxs-lookup"><span data-stu-id="4e87a-183">The transition of information from Cosmos DB to Azure Search is straightforward, as both store information in JSON format, we just need to [create our Index](../search/search-create-index-portal.md) and map which attributes from our Documents we want indexed and that’s it, in a matter of minutes (depends on the size of our data), all our content will be available to be searched upon, by the best Search-as-a-Service solution in cloud infrastructure.</span></span> 

<span data-ttu-id="4e87a-184">Дополнительные сведения о Поиске Azure см. в статье [Hitchhiker’s Guide to Search](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/) (Автостопом по поиску).</span><span class="sxs-lookup"><span data-stu-id="4e87a-184">For more information about Azure Search, you can visit the [Hitchhiker’s Guide to Search](https://blogs.msdn.microsoft.com/mvpawardprogram/2016/02/02/a-hitchhikers-guide-to-search/).</span></span>

## <a name="the-underlying-knowledge"></a><span data-ttu-id="4e87a-185">Базовый набор знаний</span><span class="sxs-lookup"><span data-stu-id="4e87a-185">The underlying knowledge</span></span>
<span data-ttu-id="4e87a-186">Храня все это содержимое, которое ежедневно увеличивается, мы можем задуматься: что делать с потоком информации, поступающей от моих пользователей?</span><span class="sxs-lookup"><span data-stu-id="4e87a-186">After storing all this content that grows and grows every day, we might find ourselves thinking: What can I do with all this stream of information from my users?</span></span>

<span data-ttu-id="4e87a-187">Ответ прост: включить его в работу и учиться.</span><span class="sxs-lookup"><span data-stu-id="4e87a-187">The answer is straightforward: Put it to work and learn from it.</span></span>

<span data-ttu-id="4e87a-188">Но как мы можем учиться?</span><span class="sxs-lookup"><span data-stu-id="4e87a-188">But, what can we learn?</span></span> <span data-ttu-id="4e87a-189">Из простых примеров можно привести [анализ тональности](https://en.wikipedia.org/wiki/Sentiment_analysis), т. е. рекомендации содержимого на основе предпочтений пользователя, или даже автоматический модератор содержимого, который гарантирует, что все содержимое, публикуемое в нашей социальной сети, безопасно для семьи.</span><span class="sxs-lookup"><span data-stu-id="4e87a-189">A few easy examples include [sentiment analysis](https://en.wikipedia.org/wiki/Sentiment_analysis), content recommendations based on a user’s preferences or even an automated content moderator that ensures that all the content published by our social network is safe for the family.</span></span>

<span data-ttu-id="4e87a-190">Теперь, когда я заинтересовал вас, скорее всего вы думаете, что нужна кандидатская степень по математике, чтобы извлечь эти шаблоны и информацию из простых баз данных и файлов, но это не так.</span><span class="sxs-lookup"><span data-stu-id="4e87a-190">Now that I got you hooked, you’ll probably think you need some PhD in math science to extract these patterns and information out of simple databases and files, but you’d be wrong.</span></span>

<span data-ttu-id="4e87a-191">[Машинное обучение Azure](https://azure.microsoft.com/services/machine-learning/), являющееся частью [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), — это полностью управляемая облачная служба, которая позволяет создавать рабочие процессы с помощью алгоритмов, используя простой интерфейс с перетаскиванием, а также позволяет программировать собственные алгоритмы на [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) или использовать некоторые встроенные и готовые к использованию API, например API [текстовой аналитики](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2), API [модератора содержимого](https://www.microsoft.com/moderator) или API [рекомендаций](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span><span class="sxs-lookup"><span data-stu-id="4e87a-191">[Azure Machine Learning](https://azure.microsoft.com/services/machine-learning/), part of the [Cortana Intelligence Suite](https://www.microsoft.com/en/server-cloud/cortana-analytics-suite/overview.aspx), is the a fully managed cloud service that lets you create workflows using algorithms in a simple drag-and-drop interface, code your own algorithms in [R](https://en.wikipedia.org/wiki/R_\(programming_language\)) or use some of the already-built and ready to use APIs such as: [Text Analytics](https://gallery.cortanaanalytics.com/MachineLearningAPI/Text-Analytics-2),  [Content Moderator](https://www.microsoft.com/moderator) or [Recommendations](https://gallery.cortanaanalytics.com/MachineLearningAPI/Recommendations-2).</span></span>

<span data-ttu-id="4e87a-192">Чтобы реализовать любой из этих сценариев машинного обучения, можно использовать [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) для приема информации из различных источников и [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) — для обработки данных и формирования выходных данных, которые могут быть обработаны Машинным обучением Azure.</span><span class="sxs-lookup"><span data-stu-id="4e87a-192">To achieve any of these Machine Learning scenarios, we can use [Azure Data Lake](https://azure.microsoft.com/services/data-lake-store/) to ingest the information from different sources, and use [U-SQL](https://azure.microsoft.com/documentation/videos/data-lake-u-sql-query-execution/) to process the information and generate an output that can be processed by Azure Machine Learning.</span></span>

<span data-ttu-id="4e87a-193">Другим доступным вариантом для анализа содержимого наших пользователей является использование [Microsoft Cognitive Services](https://www.microsoft.com/cognitive-services). Мы можем не только лучше понять их (анализируя с помощью [API текстовой аналитики](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api), что они пишут), но и обнаружить нежелательное содержимое или содержимое для взрослых и действовать соответствующим образом, используя [API компьютерного зрения](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span><span class="sxs-lookup"><span data-stu-id="4e87a-193">Another available option is to use [Microsoft Cognitive Services](https://www.microsoft.com/cognitive-services) to analyze our users content; not only can we understand them better (through analyzing what they write with [Text Analytics API](https://www.microsoft.com/cognitive-services/en-us/text-analytics-api)) , but we could also detect unwanted or mature content and act accordingly with [Computer Vision API](https://www.microsoft.com/cognitive-services/en-us/computer-vision-api).</span></span> <span data-ttu-id="4e87a-194">Службы Cognitive Services включают в себя много готовых решений, для использования которых не требуется никаких знаний Машинного обучения.</span><span class="sxs-lookup"><span data-stu-id="4e87a-194">Cognitive Services include a lot of out-of-the-box solutions that don't require any kind of Machine Learning knowledge to use.</span></span>

## <a name="a-planet-scale-social-experience"></a><span data-ttu-id="4e87a-195">Глобально масштабируемое социальное взаимодействие</span><span class="sxs-lookup"><span data-stu-id="4e87a-195">A planet-scale social experience</span></span>
<span data-ttu-id="4e87a-196">Последняя, но совсем не маловажная тема, которую необходимо рассмотреть, — **масштабируемость**.</span><span class="sxs-lookup"><span data-stu-id="4e87a-196">There is a last, but not least, important topic I must address: **scalability**.</span></span> <span data-ttu-id="4e87a-197">При разработке архитектуры очень важно обеспечить, чтобы каждый компонент мог масштабироваться самостоятельно. Нам это нужно, когда требуется обработать больше данных или когда требуется обеспечить большее географическое покрытие (или оба этих случая).</span><span class="sxs-lookup"><span data-stu-id="4e87a-197">When designing an architecture it's crucial that each component can scale on its own, either because we need to process more data or because we want to have a bigger geographical coverage (or both!).</span></span> <span data-ttu-id="4e87a-198">К счастью, решение такой сложной задачи **уже заложено** в Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="4e87a-198">Thankfully, achieving such a complex task is a **turnkey experience** with Cosmos DB.</span></span>

<span data-ttu-id="4e87a-199">Cosmos DB поддерживает заранее реализованное [динамическое секционирование](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/), автоматически создавая секции на основе заданного **ключа секции** (определяется как один из атрибутов в документах).</span><span class="sxs-lookup"><span data-stu-id="4e87a-199">Cosmos DB supports [dynamic partitioning](https://azure.microsoft.com/blog/10-things-to-know-about-documentdb-partitioned-collections/) out-of-the-box by automatically creating partitions based on a given **partition key** (defined as one of the attributes in your documents).</span></span> <span data-ttu-id="4e87a-200">Определение правильного ключа секции должно выполняться во время разработки и учитывать доступные [рекомендации](../cosmos-db/partition-data.md#designing-for-partitioning). При социальном взаимодействии ваша стратегия секционирования должна согласовываться с тем, как вы выполняете запросы (предпочтительно операции чтения в одной секции ) и записи (предотвращая формирование "активных областей" за счет распределения записей по нескольким секциям).</span><span class="sxs-lookup"><span data-stu-id="4e87a-200">Defining the correct partition key must be done at design time and keeping in mind the [best practices](../cosmos-db/partition-data.md#designing-for-partitioning) available; in the case of a social experience, your partitioning strategy must be aligned with the way you query (reads within the same partition are desirable) and write (avoid "hot spots" by spreading writes on multiple partitions).</span></span> <span data-ttu-id="4e87a-201">Вот некоторые из параметров: секции, основанные на временном ключе (день/месяц/неделя), по категории содержимого, по географическому региону, по пользователю. Все действительно зависит от того, как вы запрашиваете данные и показываете их при социальном взаимодействии.</span><span class="sxs-lookup"><span data-stu-id="4e87a-201">Some options are: partitions based on a temporal key (day/month/week), by content category, by geographical region, by user; it all really depends on how you will query the data and show it in your social experience.</span></span> 

<span data-ttu-id="4e87a-202">Стоит обратить внимание на один интересный момент: Cosmos DB будет прозрачно выполнять ваши запросы (включая [статистические выражения](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) по всем секциям, и вам не нужно добавлять какую-либо логику по мере роста объема данных.</span><span class="sxs-lookup"><span data-stu-id="4e87a-202">One interesting point worth mentioning is that Cosmos DB will run your queries (including [aggregates](https://azure.microsoft.com/blog/planet-scale-aggregates-with-azure-documentdb/)) across all your partitions transparently, you don't need to add any logic as your data grows.</span></span>

<span data-ttu-id="4e87a-203">Со временем у вас, очевидно, увеличится трафик и потребление ресурсов (измеряемое в единицах запроса, [ЕЗ](request-units.md)).</span><span class="sxs-lookup"><span data-stu-id="4e87a-203">With time, you will eventually grow in traffic and your resource consumption (measured in [RUs](request-units.md), or Request Units) will increase.</span></span> <span data-ttu-id="4e87a-204">Операции чтения и записи станут более частыми по мере роста вашей базы пользователей и начнут создавать и потреблять больше содержимого. Поэтому возможность **масштабирования пропускной способности** крайне важна.</span><span class="sxs-lookup"><span data-stu-id="4e87a-204">You will read and write more frequently as your userbase grows and they will start creating and reading more content; the ability of **scaling your throughput** is vital.</span></span> <span data-ttu-id="4e87a-205">Увеличить количество ЕЗ очень легко. Это можно сделать, нажав несколько кнопок на портале Azure или [выполнив команды через интерфейс API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span><span class="sxs-lookup"><span data-stu-id="4e87a-205">Increasing our RUs is very easy, we can do it with a few clicks on the Azure Portal or by [issuing commands through the API](https://docs.microsoft.com/rest/api/documentdb/replace-an-offer).</span></span>

![Увеличение масштаба и определение ключа секции](./media/social-media-apps/social-media-apps-scaling.png)

<span data-ttu-id="4e87a-207">Предположим, что ваши результаты улучшаются, и пользователи из другого региона, страны или континента обратили внимание на вашу платформу и начали ее использовать. Приятный сюрприз!</span><span class="sxs-lookup"><span data-stu-id="4e87a-207">What happens if things keep getting better and users from another region, country or continent, notice your platform and start using it, what a great surprise!</span></span>

<span data-ttu-id="4e87a-208">Но что произойдет дальше? Скоро вы понимаете, что их взаимодействие с вашей платформой не оптимально. Они находятся так далеко от вашего рабочего региона, что испытывают ужасные задержки. А вы, конечно, не хотите, чтобы они сменили вашу платформу на другую.</span><span class="sxs-lookup"><span data-stu-id="4e87a-208">But wait... you soon realize their experience with your platform is not optimal; they are so far away from your operational region that the latency is terrible, and you obviously don't want them to quit.</span></span> <span data-ttu-id="4e87a-209">Было бы очень удобно иметь возможность **охватить весь мир**... И такая возможность есть!</span><span class="sxs-lookup"><span data-stu-id="4e87a-209">If only there was an easy way of **extending your global reach**... but there is!</span></span>

<span data-ttu-id="4e87a-210">Cosmos DB позволяет [реплицировать данные глобально](../cosmos-db/tutorial-global-distribution-documentdb.md) и прозрачно всего парой щелчков мышью, а также автоматически выбирать из [клиентского кода](../cosmos-db/tutorial-global-distribution-documentdb.md) доступные регионы.</span><span class="sxs-lookup"><span data-stu-id="4e87a-210">Cosmos DB lets you [replicate your data globally](../cosmos-db/tutorial-global-distribution-documentdb.md) and transparently with a couple of clicks and automatically select among the available regions from your [client code](../cosmos-db/tutorial-global-distribution-documentdb.md).</span></span> <span data-ttu-id="4e87a-211">Это также означает, что у вас может быть [несколько регионов отработки отказа](regional-failover.md).</span><span class="sxs-lookup"><span data-stu-id="4e87a-211">This also means that you can have [multiple failover regions](regional-failover.md).</span></span> 

<span data-ttu-id="4e87a-212">При глобальной репликации данных необходимо убедиться, что ваши клиенты могут этим воспользоваться.</span><span class="sxs-lookup"><span data-stu-id="4e87a-212">When you replicate your data globally, you need to make sure that your clients can take advantage of it.</span></span> <span data-ttu-id="4e87a-213">Если вы используете веб-интерфейс или получаете доступ к API с мобильных клиентов, то вы можете развернуть [диспетчер трафика Azure](https://azure.microsoft.com/services/traffic-manager/) и клонировать свою службу приложений Azure во всех необходимых регионах, используя [конфигурацию производительности](../app-service-web/web-sites-traffic-manager.md) для поддержки расширенного глобального покрытия.</span><span class="sxs-lookup"><span data-stu-id="4e87a-213">If you are using a web frontend or accesing APIs from mobile clients, you can deploy [Azure Traffic Manager](https://azure.microsoft.com/services/traffic-manager/) and clone your Azure App Service on all the desired regions, using a [Performance configuration](../app-service-web/web-sites-traffic-manager.md) to support your extended global coverage.</span></span> <span data-ttu-id="4e87a-214">При обращении ваших клиентов к интерфейсу или API они будут направляться в ближайшую службу приложений, которая, в свою очередь, будет подключаться к локальной реплике Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="4e87a-214">When your clients access your frontend or APIs, they will be routed to the closest App Service, which in turn, will connect to the local Cosmos DB replica.</span></span>

![Добавление глобального покрытия в социальную платформу](./media/social-media-apps/social-media-apps-global-replicate.png)

## <a name="conclusion"></a><span data-ttu-id="4e87a-216">Заключение</span><span class="sxs-lookup"><span data-stu-id="4e87a-216">Conclusion</span></span>
<span data-ttu-id="4e87a-217">В этой статье я попытался пролить свет на возможности создания социальных сетей полностью на платформе Azure с помощью недорогих служб, что дает превосходные результаты, поощряя к использованию решения для многоуровневого хранения данных и распределения данных, которое называется "Лестница".</span><span class="sxs-lookup"><span data-stu-id="4e87a-217">This article tries to shed some light into the alternatives of creating social networks completely on Azure with low-cost services and providing great results by encouraging the use of a multi-layered storage solution and data distribution called “Ladder”.</span></span>

![Схема взаимодействия между службами Azure для социальных сетей](./media/social-media-apps/social-media-apps-azure-solution.png)

<span data-ttu-id="4e87a-219">Дело в том, что не существует единственно верного решения для таких сценариев. Это синергия отличных служб, обеспечивающих качественную работу: скорость и свобода Azure Cosmos DB для создания отличного приложения социальных сетей, интеллектуальность первоклассного решения для поиска (например, Поиска Azure), гибкость служб приложений Azure для размещения не только языконезависимых приложений, но и мощных фоновых процессов; расширяемая служба хранилища Azure и база данных SQL Azure для хранения больших объемов данных, большие аналитические возможности машинного обучения Azure для формирования знаний и аналитики, позволяющих получать отзывы о наших процессах и доставлять пользователям именно то содержимое, которое им нужно.</span><span class="sxs-lookup"><span data-stu-id="4e87a-219">The truth is that there is no silver bullet for this kind of scenarios, it’s the synergy created by the combination of great services that allow us to build great experiences: the speed and freedom of Azure Cosmos DB to provide a great social application, the intelligence behind a first-class search solution like Azure Search, the flexibility of Azure App Services to host not even language-agnostic applications but powerful background processes and the expandable Azure Storage and Azure SQL Database for storing massive amounts of data and the analytic power of Azure Machine Learning to create knowledge and intelligence that can provide feedback to our processes and help us deliver the right content to the right users.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4e87a-220">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="4e87a-220">Next steps</span></span>
<span data-ttu-id="4e87a-221">Дополнительные сведения о вариантах использования Cosmos DB см. в [этой статье](use-cases.md).</span><span class="sxs-lookup"><span data-stu-id="4e87a-221">To learn more about use cases for Cosmos DB, see [Common Cosmos DB use cases](use-cases.md).</span></span>