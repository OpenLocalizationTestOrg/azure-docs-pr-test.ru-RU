---
title: "Шифрование неактивных данных базы данных в Azure Cosmos DB | Документы Майкрософт"
description: "Сведения о шифровании всех данных по умолчанию в Azure Cosmos DB."
services: cosmos-db
author: voellm
manager: jhubbard
editor: mimig
documentationcenter: 
ms.assetid: 99725c52-d7ca-4bfa-888b-19b1569754d3
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/23/2017
ms.author: voellm
ms.openlocfilehash: d52d55fe45fdd18394166ec7ccd6e46e8f8f434b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-database-encryption-at-rest"></a><span data-ttu-id="08392-103">Шифрование неактивных данных базы данных в Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="08392-103">Azure Cosmos DB database encryption at rest</span></span>

<span data-ttu-id="08392-104">Шифрование неактивных — фразу, которая обычно называют toohello шифрования данных на устройствах энергонезависимого хранилища, такие как твердотельные накопители (SSD) и жесткие диски (HDD).</span><span class="sxs-lookup"><span data-stu-id="08392-104">Encryption at rest is a phrase that commonly refers toohello encryption of data on nonvolatile storage devices, such as solid state drives (SSDs) and hard disk drives (HDDs).</span></span> <span data-ttu-id="08392-105">Основные базы данных хранятся в Cosmos DB на твердотельных накопителях.</span><span class="sxs-lookup"><span data-stu-id="08392-105">Cosmos DB stores its primary databases on SSDs.</span></span> <span data-ttu-id="08392-106">Мультимедийные вложения и резервные копии хранятся в хранилище BLOB-объектов Azure, как правило, на основе жестких дисков.</span><span class="sxs-lookup"><span data-stu-id="08392-106">Its media attachments and backups are stored in Azure Blob storage, which is generally backed up by HDDs.</span></span> <span data-ttu-id="08392-107">С выпуском hello шифрование во время хранения для Cosmos DB шифруются все базы данных, вложения носителей и резервные копии.</span><span class="sxs-lookup"><span data-stu-id="08392-107">With hello release of encryption at rest for Cosmos DB, all your databases, media attachments, and backups are encrypted.</span></span> <span data-ttu-id="08392-108">Во время передачи теперь зашифрованные данные (по сети hello) и неактивные (энергонезависимого хранилища), предоставляя шифрования начала до конца.</span><span class="sxs-lookup"><span data-stu-id="08392-108">Your data is now encrypted in transit (over hello network) and at rest (nonvolatile storage), giving you end-to-end encryption.</span></span>

<span data-ttu-id="08392-109">Как службы PaaS, Cosmos DB toouse очень легко.</span><span class="sxs-lookup"><span data-stu-id="08392-109">As a PaaS service, Cosmos DB is very easy toouse.</span></span> <span data-ttu-id="08392-110">Так как все данные пользователя, хранящихся в Cosmos DB шифруются при хранении и транспорта, у вас нет tootake какие-либо действия.</span><span class="sxs-lookup"><span data-stu-id="08392-110">Because all user data stored in Cosmos DB is encrypted at rest and in transport, you don't have tootake any action.</span></span> <span data-ttu-id="08392-111">Другой способ tooput это шифрование на rest-«на «по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="08392-111">Another way tooput this is that encryption at rest is "on" by default.</span></span> <span data-ttu-id="08392-112">Существуют не tooturn элементы управления его отключение.</span><span class="sxs-lookup"><span data-stu-id="08392-112">There are no controls tooturn it off or on.</span></span> <span data-ttu-id="08392-113">Мы предоставляем эта функция прерывая toomeet наших [доступности и производительности соглашений об уровне обслуживания](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span><span class="sxs-lookup"><span data-stu-id="08392-113">We provide this feature while we continue toomeet our [availability and performance SLAs](https://azure.microsoft.com/support/legal/sla/cosmos-db).</span></span>

## <a name="implement-encryption-at-rest"></a><span data-ttu-id="08392-114">Реализация шифрования неактивных данных</span><span class="sxs-lookup"><span data-stu-id="08392-114">Implement encryption at rest</span></span>

<span data-ttu-id="08392-115">Шифрование неактивных данных реализуется с применением различных технологий обеспечения безопасности, включая безопасные системы хранения ключей, зашифрованные сети и криптографические API.</span><span class="sxs-lookup"><span data-stu-id="08392-115">Encryption at rest is implemented by using a number of security technologies, including secure key storage systems, encrypted networks, and cryptographic APIs.</span></span> <span data-ttu-id="08392-116">Системы, расшифровки и обработки данных поддерживают toocommunicate с системами, управления ключами.</span><span class="sxs-lookup"><span data-stu-id="08392-116">Systems that decrypt and process data have toocommunicate with systems that manage keys.</span></span> <span data-ttu-id="08392-117">Hello схема показывает, каким образом отделяется хранение зашифрованных данных и hello управления ключей.</span><span class="sxs-lookup"><span data-stu-id="08392-117">hello diagram shows how storage of encrypted data and hello management of keys is separated.</span></span> 

![Схема структуры](./media/database-encryption-at-rest/design-diagram.png)

<span data-ttu-id="08392-119">базовый поток Hello пользовательский запрос выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="08392-119">hello basic flow of a user request is as follows:</span></span>
- <span data-ttu-id="08392-120">Учетная запись базы данных пользователя Hello подготавливаются и извлечении хранилища ключей с помощью запроса toohello поставщика ресурсов для службы управления.</span><span class="sxs-lookup"><span data-stu-id="08392-120">hello user database account is made ready, and storage keys are retrieved via a request toohello Management Service Resource Provider.</span></span>
- <span data-ttu-id="08392-121">Пользователь создает подключение tooCosmos DB через транспорт HTTPS и secure.</span><span class="sxs-lookup"><span data-stu-id="08392-121">A user creates a connection tooCosmos DB via HTTPS/secure transport.</span></span> <span data-ttu-id="08392-122">(подробности абстрактный hello SDK hello).</span><span class="sxs-lookup"><span data-stu-id="08392-122">(hello SDKs abstract hello details.)</span></span>
- <span data-ttu-id="08392-123">При отправке пользователем Hello toobe документ JSON, сохраненных hello, ранее созданные безопасного соединения.</span><span class="sxs-lookup"><span data-stu-id="08392-123">hello user sends a JSON document toobe stored over hello previously created secure connection.</span></span>
- <span data-ttu-id="08392-124">документ JSON Hello индексируется Если hello пользователь отключил индексирования.</span><span class="sxs-lookup"><span data-stu-id="08392-124">hello JSON document is indexed unless hello user has turned off indexing.</span></span>
- <span data-ttu-id="08392-125">Hello документ JSON и индексации данных записываются toosecure хранилища.</span><span class="sxs-lookup"><span data-stu-id="08392-125">Both hello JSON document and index data are written toosecure storage.</span></span>
- <span data-ttu-id="08392-126">Периодически данные считываются из безопасного хранения hello и резервное хранилище больших двоичных объектов Azure шифрование toohello.</span><span class="sxs-lookup"><span data-stu-id="08392-126">Periodically, data is read from hello secure storage and backed up toohello Azure Encrypted Blob Store.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="08392-127">Часто задаваемые вопросы</span><span class="sxs-lookup"><span data-stu-id="08392-127">Frequently asked questions</span></span>

### <a name="q-how-much-more-does-azure-storage-cost-if-storage-service-encryption-is-enabled"></a><span data-ttu-id="08392-128">Вопрос. Насколько дороже обходится служба хранилища Azure с включенным шифрованием службы хранилища?</span><span class="sxs-lookup"><span data-stu-id="08392-128">Q: How much more does Azure Storage cost if Storage Service Encryption is enabled?</span></span>
<span data-ttu-id="08392-129">Ответ. Дополнительные затраты не требуются.</span><span class="sxs-lookup"><span data-stu-id="08392-129">A: There is no additional cost.</span></span>

### <a name="q-who-manages-hello-encryption-keys"></a><span data-ttu-id="08392-130">Вопрос, управляющий hello ключи шифрования?</span><span class="sxs-lookup"><span data-stu-id="08392-130">Q: Who manages hello encryption keys?</span></span>
<span data-ttu-id="08392-131">Ответ ключи hello осуществляется корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="08392-131">A: hello keys are managed by Microsoft.</span></span>

### <a name="q-how-often-are-encryption-keys-rotated"></a><span data-ttu-id="08392-132">Вопрос. Как часто меняются ключи шифрования?</span><span class="sxs-lookup"><span data-stu-id="08392-132">Q: How often are encryption keys rotated?</span></span>
<span data-ttu-id="08392-133">Ответ. В корпорации Майкрософт есть ряд внутренних правил касательно смены ключей шифрования, которым следует Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="08392-133">A: Microsoft has a set of internal guidelines for encryption key rotation, which Cosmos DB follows.</span></span> <span data-ttu-id="08392-134">определенные правила Hello не публикуются.</span><span class="sxs-lookup"><span data-stu-id="08392-134">hello specific guidelines are not published.</span></span> <span data-ttu-id="08392-135">Microsoft публикации hello [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), который рассматривается как подмножество внутренней рекомендации и содержит полезные советы и рекомендации для разработчиков.</span><span class="sxs-lookup"><span data-stu-id="08392-135">Microsoft does publish hello [Security Development Lifecycle (SDL)](https://www.microsoft.com/sdl/default.aspx), which is seen as a subset of internal guidance and has useful best practices for developers.</span></span>

### <a name="q-can-i-use-my-own-encryption-keys"></a><span data-ttu-id="08392-136">Вопрос. Можно ли использовать собственные ключи шифрования?</span><span class="sxs-lookup"><span data-stu-id="08392-136">Q: Can I use my own encryption keys?</span></span>
<span data-ttu-id="08392-137">Ответ cosmos DB — это служба PaaS, и мы работали легко toouse жестких tookeep hello службы.</span><span class="sxs-lookup"><span data-stu-id="08392-137">A: Cosmos DB is a PaaS service, and we worked hard tookeep hello service easy toouse.</span></span> <span data-ttu-id="08392-138">Мы заметили, что этот вопрос часто задают при обсуждении соответствия требованиям, например PCI-DSS.</span><span class="sxs-lookup"><span data-stu-id="08392-138">We've noticed this question is often asked as a proxy question for meeting a compliance requirement like PCI-DSS.</span></span> <span data-ttu-id="08392-139">В процессе построения этот компонент работал с tooensure аудиторы соответствия, что пользователи, использующие Cosmos DB требования к без hello необходимость toomanage сами ключи.</span><span class="sxs-lookup"><span data-stu-id="08392-139">As part of building this feature, we worked with compliance auditors tooensure that customers who use Cosmos DB meet their requirements without hello need toomanage keys themselves.</span></span>
<span data-ttu-id="08392-140">В результате в настоящее время отсутствуют tooburden параметр hello пользователи самостоятельно с помощью управления ключами.</span><span class="sxs-lookup"><span data-stu-id="08392-140">As a result, we currently do not offer users hello option tooburden themselves with key management.</span></span>

### <a name="q-what-regions-have-encryption-turned-on"></a><span data-ttu-id="08392-141">Вопрос. В каких регионах включено шифрование?</span><span class="sxs-lookup"><span data-stu-id="08392-141">Q: What regions have encryption turned on?</span></span>
<span data-ttu-id="08392-142">Ответ. Шифрование пользовательских данных включено во всех регионах Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="08392-142">A: All Azure Cosmos DB regions have encryption turned on for all user data.</span></span>

### <a name="q-does-encryption-affect-hello-performance-latency-and-throughput-slas"></a><span data-ttu-id="08392-143">Вопрос шифрования влияет на задержку hello производительность и пропускную способность соглашений об уровне обслуживания?</span><span class="sxs-lookup"><span data-stu-id="08392-143">Q: Does encryption affect hello performance latency and throughput SLAs?</span></span>
<span data-ttu-id="08392-144">Ответ нет влияния или изменения toohello производительности не соглашений об уровне обслуживания теперь, шифрование неактивных включено для всех существующих и новых учетных записей.</span><span class="sxs-lookup"><span data-stu-id="08392-144">A: There is no impact or changes toohello performance SLAs now that encryption at rest is enabled for all existing and new accounts.</span></span> <span data-ttu-id="08392-145">Вы можете прочитать больше на hello [соглашения об уровне ОБСЛУЖИВАНИЯ для Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db) страница последней гарантии toosee hello.</span><span class="sxs-lookup"><span data-stu-id="08392-145">You can read more on hello [SLA for Cosmos DB](https://azure.microsoft.com/support/legal/sla/cosmos-db) page toosee hello latest guarantees.</span></span>

### <a name="q-does-hello-local-emulator-support-encryption-at-rest"></a><span data-ttu-id="08392-146">Вопрос hello локальный эмулятор поддерживает шифрование неактивных?</span><span class="sxs-lookup"><span data-stu-id="08392-146">Q: Does hello local emulator support encryption at rest?</span></span>
<span data-ttu-id="08392-147">Ответ эмулятор hello — это автономное средство разработки и тестирования и не использует службы управления ключами hello, hello служба использует управляемый Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="08392-147">A: hello emulator is a standalone dev/test tool and does not use hello key management services that hello managed Cosmos DB service uses.</span></span> <span data-ttu-id="08392-148">Рекомендуется tooenable BitLocker на дисках, где хранятся конфиденциальные эмулятор тестовых данных.</span><span class="sxs-lookup"><span data-stu-id="08392-148">Our recommendation is tooenable BitLocker on drives where you are storing sensitive emulator test data.</span></span> <span data-ttu-id="08392-149">Hello [эмулятор поддерживает изменение каталога данных по умолчанию hello](local-emulator.md) с помощью известное местоположение.</span><span class="sxs-lookup"><span data-stu-id="08392-149">hello [emulator supports changing hello default data directory](local-emulator.md) as well as using a well-known location.</span></span>

## <a name="next-steps"></a><span data-ttu-id="08392-150">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="08392-150">Next steps</span></span>

<span data-ttu-id="08392-151">Обзор безопасности Cosmos DB и последние улучшения hello. в разделе [безопасность базы данных Azure Cosmos DB](database-security.md).</span><span class="sxs-lookup"><span data-stu-id="08392-151">For an overview of Cosmos DB security and hello latest improvements, see [Azure Cosmos DB database security](database-security.md).</span></span>
<span data-ttu-id="08392-152">Дополнительные сведения о сертификации корпорации Майкрософт см. в разделе hello [Центр управления безопасностью Azure](https://azure.microsoft.com/en-us/support/trust-center/).</span><span class="sxs-lookup"><span data-stu-id="08392-152">For more information about Microsoft certifications, see hello [Azure Trust Center](https://azure.microsoft.com/en-us/support/trust-center/).</span></span>
