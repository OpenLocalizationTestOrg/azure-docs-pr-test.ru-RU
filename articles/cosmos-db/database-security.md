---
title: "безопасность aaaDatabase – Azure Cosmos DB | Документы Microsoft"
description: "Узнайте, как Azure Cosmos DB обеспечивает защиту базы данных и данных."
keywords: "безопасность базы данных nosql, защита информации, безопасность данных, шифрование базы данных, защита базы данных, политики безопасности, тестирование безопасности"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: mimig
documentationcenter: 
ms.assetid: a02a6a82-3baf-405c-9355-7a00aaa1a816
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/18/2017
ms.author: mimig
ms.openlocfilehash: 85ffa62f611bfad00bf3fc5dbe536f91f97f1113
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-database-security"></a>Безопасность базы данных в Azure Cosmos DB

В этой статье рассматриваются рекомендации по обеспечению безопасности базы данных и предоставляемые основные возможности Azure Cosmos DB toohelp предотвратить, обнаружение и ответ toodatabase нарушений.
 
## <a name="whats-new-in-azure-cosmos-db-security"></a>Новые возможности безопасности в Azure Cosmos DB

Шифрование неактивных данных теперь доступно для документов и резервных копий, хранящихся в Azure Cosmos DB во всех регионах Azure. Шифрование неактивных данных применяется в этих регионах автоматически как для новых, так и для существующих клиентов. Нет необходимости tooconfigure что-нибудь есть; Вы получаете hello же значительные задержки, пропускной способности, доступности и функциональные возможности, как перед с преимуществами hello зная данных является надежным и безопасным с шифрованием при хранении.

## <a name="how-do-i-secure-my-database"></a>Как защитить свою базу данных? 

Безопасность данных обеспечивается общей ответственностью между вами, hello клиента и поставщика базы данных. В зависимости от поставщика базы данных hello выбранного необходимое hello ответственности, запущенный может изменяться. При выборе локального решения необходимо tooprovide зарегистрироваться у конечной точки защиты toophysical оборудования - которого является непростой задачей. Если выбрать поставщик облачной базы данных PaaS, например Azure Cosmos DB, то обязанности клиента значительно сокращаются. Здравствуйте, следующие изображения, позаимствованная из корпорации Майкрософт [общие обязанности облачные вычисления](https://aka.ms/sharedresponsibility) техническом документе показано, как вы отвечаете за уменьшается с поставщиком PaaS как Azure Cosmos DB.

![Ответственность клиента и поставщика базы данных](./media/database-security/nosql-database-security-responsibilities.png)

Здравствуйте предыдущей схеме показаны высокого уровня облачные безопасности компоненты, но элементы нужна tooworry о специально для решения базы данных? И, как сравнить другие решения tooeach? 

Мы рекомендуем hello следующий контрольный список требований на какие toocompare системы базы данных:

- Параметры безопасности сети и брандмауэра
- Аутентификация пользователей и детальные пользовательские элементы управления
- Данные возможности tooreplicate глобально для региональных сбоев
- Возможность tooperform переходы из одного центра tooanother
- Репликация локальных данных в рамках центра обработки данных
- Автоматическая архивация данных
- Восстановление удаленных данных из архива
- Защита и изолирование конфиденциальных данных
- Мониторинг атак
- Отвечать на запросы tooattacks
- Возможность граница toogeo tooadhere toodata управления ограничения
- Физическая защита серверов в защищенных центрах обработки данных

И хотя может показаться очевидным, последние [нарушений крупномасштабных базы данных](http://thehackernews.com/2017/01/mongodb-database-security.html) напоминают нам hello простой, но критических важности hello следующие требования:
- Исправлен серверов, которые хранятся копии toodate
- Шифрование HTTPS по умолчанию или SSL-шифрование
- Административные учетные записи с надежными паролями

## <a name="how-does-azure-cosmos-db-secure-my-database"></a>Каким образом Azure Cosmos DB обеспечивает защиту базы данных?

Рассмотрим обратно hello списка - сколько этих требований безопасности Azure Cosmos DB предусматривает? Абсолютно все.

Рассмотрим каждое из них подробнее.

|Требование к безопасности|Подход к обеспечению безопасности Azure Cosmos DB|
|---|---|---|
|Безопасность сети|С помощью брандмауэра IP hello первый слой toosecure защиты базы данных. Для поддержки входящего трафика брандмауэра база данных Azure Cosmos DB использует политики контроля доступа на основе IP-адресов. Управление доступом на основе IP Hello, аналогичные правила брандмауэра toohello, используемым системами традиционных баз данных, но они разворачиваются, чтобы учетная запись базы данных Azure Cosmos DB доступен только из утвержденных набор машины или облачные службы. <br><br>Azure Cosmos DB позволяет вам tooenable определенный IP-адрес (168.61.48.0), диапазон IP-адресов (168.61.48.0/8) и комбинации IP-адреса и диапазоны. <br><br>Все запросы, полученные от компьютеров, IP-адреса которых не входят в этот список разрешенных, блокируются Azure Cosmos DB. Запросы от утвержденные машин и облачных служб необходимо завершите toobe процесса проверки подлинности hello, получает доступ к ресурсам toohello элемента управления.<br><br>Дополнительные сведения см. на странице о [поддерживаемых брандмауэрах в Azure Cosmos DB](firewall-support.md).|
|Авторизация|Azure Cosmos DB использует для авторизации код проверки подлинности сообщения на основе хэша (HMAC). <br><br>Каждый запрос хэшируется с помощью ключа учетной записи секретный hello и hello Base64-кодировке хэширования отправляется с каждого вызова tooAzure Cosmos DB. запрос toovalidate hello, служба использует hello Azure Cosmos DB hello правильный секретный ключ и свойства toogenerate хэш, а затем он сравнивает значение hello с одним hello в запросе hello. Если hello два значения совпадают, операция hello авторизована успешно и hello запрос обрабатывается, в противном случае происходит сбой авторизации и hello запрос отклоняется.<br><br>Можно использовать любой [главный ключ](secure-access-to-data.md#master-keys), или [маркер ресурса](secure-access-to-data.md#resource-tokens) позволяет детально доступа tooa ресурса, например документ.<br><br>Дополнительные сведения см. в разделе [защита доступа ресурсы Cosmos DB tooAzure](secure-access-to-data.md).|
|Пользователи и разрешения|С помощью hello [главный ключ](#master-key) hello учетной записи, можно создать ресурсы пользователей и разрешений на базу данных. Объект [маркер ресурса](#resource-token) связана с разрешениями в базе данных и определяет, имеет ли пользователь hello доступ (чтение запись, только для чтения, или нет доступа) tooan ресурса приложения hello базы данных. К ресурсам приложения относятся коллекции, документы, вложения, хранимые процедуры, триггеры и определяемые пользователем функции (UDF). маркер ресурса Hello и используемого во время проверки подлинности tooprovide или запретить доступ toohello ресурсов.<br><br>Дополнительные сведения см. в разделе [защита доступа ресурсы Cosmos DB tooAzure](secure-access-to-data.md).|
|Интеграция с Active Directory (RBAC)| Можно также предоставить учетную запись доступа к toohello базы данных с помощью управления доступом (IAM) в hello портал Azure, как показано на снимке экрана приветствия после этой таблицы. IAM обеспечивает управление доступом на основе ролей и интегрируется с Active Directory. Можно использовать встроенных ролей или пользовательских ролей для отдельных пользователей и групп, как показано в hello после изображения.|
|Глобальная репликация|Azure Cosmos DB предоставляет готовое к использованию глобальных распространения, позволяющий tooreplicate вашей tooany данных одним из центров данных мире Azure с помощью hello нажатием кнопки. Глобальные репликации позволяют глобально масштабировать и обеспечивать доступ низкой задержкой данных tooyour вокруг Здравствуй, мир.<br><br>В контексте безопасности hello глобальные репликации гарантирует защиту данных от региональных сбоев.<br><br>Дополнительные сведения см. в статье [DocumentDB — глобально распределенная служба базы данных в Azure](distribute-data-globally.md).|
|Отработка отказа между регионами|Если вы реплицировали данные в нескольких центрах обработки данных, то Azure Cosmos DB автоматически переключит операции на другой центр, как только будет утрачена связь с региональным центром обработки данных. Можно создать упорядоченный список регионов отработки отказа с помощью hello областей, в которых данные реплицируются. <br><br>Дополнительные сведения см. в статье об [отработке отказа между регионами в Azure Cosmos DB](regional-failover.md).|
|Локальная репликация|Даже в одном центре обработки данных, Azure Cosmos DB автоматически реплицирует данные для высокой доступности, предоставляя hello Выбор [уровни согласованности](consistency-levels.md). Таким образом гарантируется предусмотренная в  [соглашении об уровне обслуживания бесперебойная работа на уровне 99,99 %](https://azure.microsoft.com/support/legal/sla/cosmos-db), а также поставляется финансовая гарантия, чего не может обеспечить ни одна другая служба базы данных.|
|Автоматическая оперативная архивация|Базы данных Azure Cosmos DB регулярно архивируются и хранятся в геоизбыточном хранилище. <br><br>Дополнительные сведения см. в статье [Автоматическая оперативная архивация и восстановление с помощью Azure Cosmos DB](online-backup-and-restore.md).|
|Восстановление удаленных данных|Hello автоматических оперативного резервного копирования может быть случайно удалили копирование слишком данных используется toorecover ~ 30 дней после события hello. <br><br>Дополнительные сведения см. в статье [Автоматическая оперативная архивация и восстановление с помощью Azure Cosmos DB](online-backup-and-restore.md).|
|Защита и изолирование конфиденциальных данных|Все данные в регионах hello, перечисленных в [новые?](#whats-new) теперь шифруются при хранении.<br><br>Персональные данные и другие конфиденциальные данные могут быть изолированной toospecific коллекций и чтения и записи или доступ только для чтения могут быть только toospecific пользователей.|
|Мониторинг атак|С помощью ведения журнала аудита и журналов действий можно отслеживать учетную запись на наличие аномальной активности. Вы можете просмотреть, какие операции выполнялись на ресурсы, которые начавшего hello, во время операции hello возникновения hello состояние операции hello и более, как показано на снимке экрана приветствия после этой таблицы.|
|Ответ tooattacks|Если подключиться к службе поддержки Azure tooreport возможной атаки процесс реагирования шаг 5 задействованы. Hello цель процесса hello шаг 5 — toorestore нормальную работу службы безопасности и операций как можно быстрее после обнаружении проблемы, и запускается расследования.<br><br>Дополнительные сведения см. в разделе [ответа безопасности Microsoft Azure в облаке hello](https://aka.ms/securityresponsepaper).|
|Установка геозон|Azure Cosmos DB обеспечивает управление данными и соответствие требованиям для отдельных регионов (например, Германия, Китай или US Gov).|
|Защищенное оборудование|Данные в Azure Cosmos DB хранятся на твердотельных накопителях SSD в защищенных центрах обработки данных Azure.<br><br>Дополнительные сведения о глобальных центрах обработки данных корпорации Майкрософт см. на [этой странице](https://www.microsoft.com/en-us/cloud-platform/global-datacenters).|
|Шифрование HTTPS, SSL и TLS|Все взаимодействия между клиентом и службой в Azure Cosmos DB принудительно осуществляются по протоколу SSL/TLS 1.2. Кроме того, любая репликация внутри центра обработки данных или между центрами также выполняется по протоколу SSL/TLS 1.2.|
|Шифрование при хранении|Все данные, хранимые в Azure Cosmos DB, хранятся в зашифрованном виде. Дополнительные сведения см. в статье [Шифрование неактивных данных базы данных в Azure Cosmos DB](.\database-encryption-at-rest.md).|
|Установка исправлений на серверы|Как управляемую базу данных Azure Cosmos DB исключает hello необходимость toomanage и исправление серверов, на которые нажатию, автоматически.|
|Административные учетные записи с надежными паролями|Его жестких toobelieve, хотя нуждается toomention это требование, но в отличие от конкурентов его невозможно toohave учетной записи администратора в базе данных Azure Cosmos без пароля.<br><br> Для обеспечения безопасности в службу по умолчанию интегрированы функции SSL и аутентификации на основе секрета HMAC.|
|Сертификаты безопасности и защиты данных|Служба Azure Cosmos DB сертифицирована в соответствии со стандартами [ISO 27001](https://www.microsoft.com/en-us/TrustCenter/Compliance/ISO-IEC-27001), [EUMC (European Model Clauses)](https://www.microsoft.com/en-us/TrustCenter/Compliance/EU-Model-Clauses) и [HIPAA](https://www.microsoft.com/en-us/TrustCenter/Compliance/HIPAA). Дополнительные сертификаты находятся в стадии получения.|

Hello следующем снимке экрана показана интеграция с Active directory (RBAC) с помощью управления доступом (IAM) в hello Azure portal: ![контроль (IAM) доступа в hello портал Azure — демонстрации безопасности базы данных](./media/database-security/nosql-database-security-identity-access-management-iam-rbac.png)

Hello следующем снимке экрана показано, как можно использовать ведение журнала аудита и журналах действий toomonitor вашей учетной записи: ![журналах действий для Azure Cosmos DB](./media/database-security/nosql-database-security-application-logging.png)

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о главных ключей и маркеры ресурсов см. в разделе [tooAzure защита доступа к данных Cosmos DB](secure-access-to-data.md).

Дополнительные сведения о сертификатах Майкрософт см. в [центре управления безопасностью Azure](https://azure.microsoft.com/support/trust-center/).
