---
title: "aaaConnect tooAzure Cosmos DB средствами бизнес-Аналитики analytics | Документы Microsoft"
description: "Узнайте, как toouse hello Azure Cosmos DB ODBC драйвера toocreate таблиц и представлений, чтобы нормализованные данные можно просмотреть в программе аналитика бизнес-Аналитики и данных."
keywords: "ODBC, драйвер ODBC"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: 
documentationcenter: 
ms.assetid: 9967f4e5-4b71-4cd7-8324-221a8c789e6b
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: rest-api
ms.topic: article
ms.date: 05/24/2017
ms.author: mimig
ms.openlocfilehash: e12a70f7805445f09fac01411e4bfbccc9a29c7a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="connect-tooazure-cosmos-db-using-bi-analytics-tools-with-hello-odbc-driver"></a><span data-ttu-id="7f95c-104">Подключение tooAzure Cosmos DB средствами анализа бизнес-Аналитики с драйвером ODBC hello</span><span class="sxs-lookup"><span data-stu-id="7f95c-104">Connect tooAzure Cosmos DB using BI analytics tools with hello ODBC driver</span></span>

<span data-ttu-id="7f95c-105">Hello Azure Cosmos DB ODBC драйвера включает tooconnect tooAzure DB Cosmos Бизнес-аналитики с помощью средств, таких как SQL Server Integration Services, Power BI Desktop и Tableau, можно анализировать и создавать визуализации данных Azure Cosmos DB в тех решения.</span><span class="sxs-lookup"><span data-stu-id="7f95c-105">hello Azure Cosmos DB ODBC driver enables you tooconnect tooAzure Cosmos DB using BI analytics tools such as SQL Server Integration Services, Power BI Desktop, and Tableau so that you can analyze and create visualizations of your Azure Cosmos DB data in those solutions.</span></span>

<span data-ttu-id="7f95c-106">драйвер Azure Cosmos DB ODBC Hello совместимые ODBC 3.8 и поддерживает синтаксис ANSI SQL-92.</span><span class="sxs-lookup"><span data-stu-id="7f95c-106">hello Azure Cosmos DB ODBC driver is ODBC 3.8 compliant and supports ANSI SQL-92 syntax.</span></span> <span data-ttu-id="7f95c-107">Здравствуйте, драйвер предлагает богатые возможности toohelp renormalize данные в базе данных Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="7f95c-107">hello driver offers rich features toohelp you renormalize data in Azure Cosmos DB.</span></span> <span data-ttu-id="7f95c-108">С помощью драйвера hello, может представлять данные в базе данных Azure Cosmos в виде таблиц и представлений.</span><span class="sxs-lookup"><span data-stu-id="7f95c-108">Using hello driver, you can represent data in Azure Cosmos DB as tables and views.</span></span> <span data-ttu-id="7f95c-109">драйвер Hello позволяет tooperform операции SQL для hello таблиц и представлений, включая группу запросов, вставки, обновления и удаления.</span><span class="sxs-lookup"><span data-stu-id="7f95c-109">hello driver enables you tooperform SQL operations against hello tables and views including group by queries, inserts, updates, and deletes.</span></span>

## <a name="why-do-i-need-toonormalize-my-data"></a><span data-ttu-id="7f95c-110">Зачем нужен toonormalize Мои данные?</span><span class="sxs-lookup"><span data-stu-id="7f95c-110">Why do I need toonormalize my data?</span></span>
<span data-ttu-id="7f95c-111">Azure Cosmos DB является schemaless базы данных, поэтому он обеспечивает возможность быстрой разработки приложений, включение приложения tooiterate свои данные модели на лету hello и не ограничивать их tooa strict схемы.</span><span class="sxs-lookup"><span data-stu-id="7f95c-111">Azure Cosmos DB is a schemaless database, so it enables rapid development of apps by enabling applications tooiterate their data model on hello fly and not confine them tooa strict schema.</span></span> <span data-ttu-id="7f95c-112">Отдельная база данных Azure Cosmos DB может содержать документы JSON разной структуры.</span><span class="sxs-lookup"><span data-stu-id="7f95c-112">A single Azure Cosmos DB database can contain JSON documents of various structures.</span></span> <span data-ttu-id="7f95c-113">Это отлично подходит для быстрой разработки приложений, но tooanalyze и создавать отчеты о данных с помощью анализа данных и средств бизнес-Аналитики, hello данных часто требуется toobe плоские и соответствовать определенной схеме tooa.</span><span class="sxs-lookup"><span data-stu-id="7f95c-113">This is great for rapid application development, but when you want tooanalyze and create reports of your data using data analytics and BI tools, hello data often needs toobe flattened and adhere tooa specific schema.</span></span>

<span data-ttu-id="7f95c-114">Это происходит, когда вступает в дело hello драйвер ODBC.</span><span class="sxs-lookup"><span data-stu-id="7f95c-114">This is where hello ODBC driver comes in.</span></span> <span data-ttu-id="7f95c-115">С помощью драйвера ODBC hello, вы можете теперь повторно нормализованный данные в базе данных Azure Cosmos в таблицы и представления подгонки tooyour данных, анализа и создания отчетов должен.</span><span class="sxs-lookup"><span data-stu-id="7f95c-115">By using hello ODBC driver, you can now renormalized data in Azure Cosmos DB into tables and views fitting tooyour data analytic and reporting needs.</span></span> <span data-ttu-id="7f95c-116">схемы повторно нормализованный Hello не оказывают влияния на исходные данные hello и не ограничивать toothem tooadhere разработчиков, они просто включите вы tooleverage ODBC-совместимую tooaccess hello данных средств.</span><span class="sxs-lookup"><span data-stu-id="7f95c-116">hello renormalized schemas have no impact on hello underlying data and do not confine developers tooadhere toothem, they simply enable you tooleverage ODBC-compliant tools tooaccess hello data.</span></span> <span data-ttu-id="7f95c-117">База данных Azure Cosmos DB придется по душе не только разработчикам, но и специалистам по анализу данных.</span><span class="sxs-lookup"><span data-stu-id="7f95c-117">So now your Azure Cosmos DB database will not only be a favorite for your development team, but your data analysts will love it too.</span></span>

<span data-ttu-id="7f95c-118">Теперь позволяет начать с драйвером ODBC hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-118">Now lets get started with hello ODBC driver.</span></span>

## <span data-ttu-id="7f95c-119"><a id="install"></a>Шаг 1: Установка драйвера Azure Cosmos DB ODBC hello</span><span class="sxs-lookup"><span data-stu-id="7f95c-119"><a id="install"></a>Step 1: Install hello Azure Cosmos DB ODBC driver</span></span>

1. <span data-ttu-id="7f95c-120">Загрузите драйверы hello для вашей среды:</span><span class="sxs-lookup"><span data-stu-id="7f95c-120">Download hello drivers for your environment:</span></span>

    * <span data-ttu-id="7f95c-121">[Microsoft Azure Cosmos DB ODBC 64-bit.msi](https://aka.ms/documentdb-odbc-64x64) для 64-разрядной версии Windows.</span><span class="sxs-lookup"><span data-stu-id="7f95c-121">[Microsoft Azure Cosmos DB ODBC 64-bit.msi](https://aka.ms/documentdb-odbc-64x64) for 64-bit Windows</span></span>
    * <span data-ttu-id="7f95c-122">[Microsoft Azure Cosmos DB ODBC 32x64-bit.msi](https://aka.ms/documentdb-odbc-32x64) для 32-разрядной версии на 64-разрядной версии Windows.</span><span class="sxs-lookup"><span data-stu-id="7f95c-122">[Microsoft Azure Cosmos DB ODBC 32x64-bit.msi](https://aka.ms/documentdb-odbc-32x64) for 32-bit on 64-bit Windows</span></span>
    * <span data-ttu-id="7f95c-123">[Microsoft Azure Cosmos DB ODBC 32-bit.msi](https://aka.ms/documentdb-odbc-32x32) для 32-разрядной версии Windows.</span><span class="sxs-lookup"><span data-stu-id="7f95c-123">[Microsoft Azure Cosmos DB ODBC 32-bit.msi](https://aka.ms/documentdb-odbc-32x32) for 32-bit Windows</span></span>

    <span data-ttu-id="7f95c-124">Msi выполнения hello файл на компьютере, какие hello начинается **Microsoft Azure Cosmos DB ODBC драйвера установки**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-124">Run hello msi file locally, which starts hello **Microsoft Azure Cosmos DB ODBC Driver Installation Wizard**.</span></span> 
2. <span data-ttu-id="7f95c-125">Завершите приветствия мастера установки, с помощью драйвера ODBC hello ввода tooinstall по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-125">Complete hello installation wizard using hello default input tooinstall hello ODBC driver.</span></span>
3. <span data-ttu-id="7f95c-126">Откройте hello **администратора источника данных ODBC** приложение на компьютере, это можно сделать введя **источники данных ODBC** поле поиска hello Windows.</span><span class="sxs-lookup"><span data-stu-id="7f95c-126">Open hello **ODBC Data source Administrator** app on your computer, you can do this by typing **ODBC Data sources** in hello Windows search box.</span></span> 
    <span data-ttu-id="7f95c-127">Вы можете подтвердить hello драйвера, щелкнув hello **драйверы** вкладку и обеспечивая **Microsoft Azure Cosmos DB ODBC Driver** указан.</span><span class="sxs-lookup"><span data-stu-id="7f95c-127">You can confirm hello driver was installed by clicking hello **Drivers** tab and ensuring **Microsoft Azure Cosmos DB ODBC Driver** is listed.</span></span>

    ![Администратор источников данных ODBC для Azure Cosmos DB](./media/odbc-driver/odbc-driver.png)

## <span data-ttu-id="7f95c-129"><a id="connect"></a>Шаг 2: Подключение базы данных Azure Cosmos DB tooyour</span><span class="sxs-lookup"><span data-stu-id="7f95c-129"><a id="connect"></a>Step 2: Connect tooyour Azure Cosmos DB database</span></span>

1. <span data-ttu-id="7f95c-130">После [драйвер Azure Cosmos DB ODBC Установка hello](#install), в hello **администратор источников данных ODBC** окно, нажмите кнопку **добавить**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-130">After [Installing hello Azure Cosmos DB ODBC driver](#install), in hello **ODBC Data Source Administrator** window, click **Add**.</span></span> <span data-ttu-id="7f95c-131">Вы можете создать пользовательское или системное имя источника данных.</span><span class="sxs-lookup"><span data-stu-id="7f95c-131">You can create a User or System DSN.</span></span> <span data-ttu-id="7f95c-132">В этом примере мы создаем пользовательское имя источника данных.</span><span class="sxs-lookup"><span data-stu-id="7f95c-132">In this example, we are creating a User DSN.</span></span>
2. <span data-ttu-id="7f95c-133">В hello **Создание нового источника данных** выберите **Microsoft Azure Cosmos DB ODBC Driver**, а затем нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-133">In hello **Create New Data Source** window, select **Microsoft Azure Cosmos DB ODBC Driver**, and then click **Finish**.</span></span>
3. <span data-ttu-id="7f95c-134">В hello **SDN установки драйвера ODBC Azure Cosmos DB** окна, заполните hello следующее:</span><span class="sxs-lookup"><span data-stu-id="7f95c-134">In hello **Azure Cosmos DB ODBC Driver SDN Setup** window, fill in hello following:</span></span> 

    ![Окно настройки имени источника данных драйвера ODBC для Azure Cosmos DB](./media/odbc-driver/odbc-driver-dsn-setup.png)
    - <span data-ttu-id="7f95c-136">**Имя источника данных**: понятное имя для hello ODBC DSN.</span><span class="sxs-lookup"><span data-stu-id="7f95c-136">**Data Source Name**: Your own friendly name for hello ODBC DSN.</span></span> <span data-ttu-id="7f95c-137">Это имя учетной записи Azure Cosmos DB уникальный tooyour, так что имя правильно при наличии нескольких учетных записей.</span><span class="sxs-lookup"><span data-stu-id="7f95c-137">This name is unique tooyour Azure Cosmos DB account, so name it appropriately if you have multiple accounts.</span></span>
    - <span data-ttu-id="7f95c-138">**Описание**: краткое описание источника данных hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-138">**Description**: A brief description of hello data source.</span></span>
    - <span data-ttu-id="7f95c-139">**Узел** — универсальный код ресурса (URI) для учетной записи Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="7f95c-139">**Host**: URI for your Azure Cosmos DB account.</span></span> <span data-ttu-id="7f95c-140">Можно получить из колонки hello Azure Cosmos DB ключи в hello портал Azure, как показано в следующий снимок экрана приветствия.</span><span class="sxs-lookup"><span data-stu-id="7f95c-140">You can retrieve this from hello Azure Cosmos DB Keys blade in hello Azure portal, as shown in hello following screenshot.</span></span> 
    - <span data-ttu-id="7f95c-141">**Доступ к ключу**: hello первичной или вторичной, чтения и записи или только для чтения ключа из колонки hello Azure Cosmos DB ключи в hello портал Azure, как показано на следующий снимок экрана приветствия.</span><span class="sxs-lookup"><span data-stu-id="7f95c-141">**Access Key**: hello primary or secondary, read-write or read-only key from hello Azure Cosmos DB Keys blade in hello Azure portal as shown in hello following screenshot.</span></span> <span data-ttu-id="7f95c-142">Мы рекомендуем использовать hello ключа, доступного только для чтения, если hello DSN используется для обработки данных только для чтения и создания отчетов.</span><span class="sxs-lookup"><span data-stu-id="7f95c-142">We recommend you use hello read-only key if hello DSN is used for read-only data processing and reporting.</span></span>
    <span data-ttu-id="7f95c-143">![Колонка ключей Azure Cosmos DB](./media/odbc-driver/odbc-driver-keys.png)</span><span class="sxs-lookup"><span data-stu-id="7f95c-143">![Azure Cosmos DB Keys blade](./media/odbc-driver/odbc-driver-keys.png)</span></span>
    - <span data-ttu-id="7f95c-144">**Зашифровать ключ доступа для**: выберите hello лучший выбор, основанный на количестве hello пользователей этой машины.</span><span class="sxs-lookup"><span data-stu-id="7f95c-144">**Encrypt Access Key for**: Select hello best choice based on hello users of this machine.</span></span> 
4. <span data-ttu-id="7f95c-145">Нажмите кнопку hello **тест** убедиться, что вы можете подключиться к учетной записи Azure Cosmos DB tooyour toomake кнопки.</span><span class="sxs-lookup"><span data-stu-id="7f95c-145">Click hello **Test** button toomake sure you can connect tooyour Azure Cosmos DB account.</span></span> 
5. <span data-ttu-id="7f95c-146">Нажмите кнопку **Дополнительные параметры** и набор hello следующие значения:</span><span class="sxs-lookup"><span data-stu-id="7f95c-146">Click **Advanced Options** and set hello following values:</span></span>
    - <span data-ttu-id="7f95c-147">**Запрос согласованности**: выберите hello [уровень согласованности](consistency-levels.md) на операции.</span><span class="sxs-lookup"><span data-stu-id="7f95c-147">**Query Consistency**: Select hello [consistency level](consistency-levels.md) for your operations.</span></span> <span data-ttu-id="7f95c-148">по умолчанию Hello-сеанс.</span><span class="sxs-lookup"><span data-stu-id="7f95c-148">hello default is Session.</span></span>
    - <span data-ttu-id="7f95c-149">**Число повторных попыток**: Введите hello число попыток tooretry операции, если первоначальный запрос hello не была завершена из-за регулирования tooservice.</span><span class="sxs-lookup"><span data-stu-id="7f95c-149">**Number of Retries**: Enter hello number of times tooretry an operation if hello initial request does not complete due tooservice throttling.</span></span>
    - <span data-ttu-id="7f95c-150">**Schema File** (Файл схемы). Здесь можно выбрать один из нескольких вариантов.</span><span class="sxs-lookup"><span data-stu-id="7f95c-150">**Schema File**: You have a number of options here.</span></span>
        - <span data-ttu-id="7f95c-151">По умолчанию, если оставить эту запись как пустое () драйвер hello сканирует hello первой страницы данных для всех коллекций схем hello toodetermine каждой коллекции.</span><span class="sxs-lookup"><span data-stu-id="7f95c-151">By default, leaving this entry as is (blank), hello driver scans hello first page data for all collections toodetermine hello schema of each collection.</span></span> <span data-ttu-id="7f95c-152">Этот процесс известен как сопоставление коллекций.</span><span class="sxs-lookup"><span data-stu-id="7f95c-152">This is known as Collection Mapping.</span></span> <span data-ttu-id="7f95c-153">Файл схемы не определен драйвер hello имеет tooperform hello проверки для каждого сеанса драйвера и может привести к более запуске время приложения с помощью hello DSN.</span><span class="sxs-lookup"><span data-stu-id="7f95c-153">Without a schema file defined, hello driver has tooperform hello scan for each driver session and could result in a higher start up time of an application using hello DSN.</span></span> <span data-ttu-id="7f95c-154">Мы рекомендуем связывать файл схемы для имени источника данных.</span><span class="sxs-lookup"><span data-stu-id="7f95c-154">We recommend that you always associate a schema file for a DSN.</span></span>
        - <span data-ttu-id="7f95c-155">Если уже имеется файл схемы (возможно одно, созданного с помощью hello [редактор схем](#schema-editor)), можно щелкнуть **Обзор**, перейдите в файл tooyour, щелкните **Сохранить**и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-155">If you already have a schema file (possibly one that you created using hello [Schema Editor](#schema-editor)), you can click **Browse**, navigate tooyour file, click **Save**, and then click **OK**.</span></span>
        - <span data-ttu-id="7f95c-156">Toocreate новую схему, нажмите кнопку **ОК**, а затем нажмите кнопку **редактор схем** в главном окне приветствия.</span><span class="sxs-lookup"><span data-stu-id="7f95c-156">If you want toocreate a new schema, click **OK**, and then click **Schema Editor** in hello main window.</span></span> <span data-ttu-id="7f95c-157">Для продолжения toohello [редактор схем](#schema-editor) сведения.</span><span class="sxs-lookup"><span data-stu-id="7f95c-157">Then proceed toohello [Schema Editor](#schema-editor) information.</span></span> <span data-ttu-id="7f95c-158">После создания нового файла схемы hello, помните назад toohello toogo **Дополнительно** файл схемы hello только что созданный tooinclude окна.</span><span class="sxs-lookup"><span data-stu-id="7f95c-158">Upon creating hello new schema file, please remember toogo back toohello **Advanced Options** window tooinclude hello newly created schema file.</span></span>

6. <span data-ttu-id="7f95c-159">После завершения и закрытия hello **DSN установки драйвера ODBC Azure Cosmos DB** hello — новый пользовательский DSN добавляется вкладка toohello DSN пользователя.</span><span class="sxs-lookup"><span data-stu-id="7f95c-159">Once you complete and close hello **Azure Cosmos DB ODBC Driver DSN Setup** window, hello new User DSN is added toohello User DSN tab.</span></span>

    ![Новый ODBC DSN DB Azure Cosmos вкладки DSN пользователя hello](./media/odbc-driver/odbc-driver-user-dsn.png)

## <span data-ttu-id="7f95c-161"><a id="#collection-mapping"></a>: Шаг 3 определение схемы с помощью метода сопоставления коллекции hello</span><span class="sxs-lookup"><span data-stu-id="7f95c-161"><a id="#collection-mapping"></a>Step 3: Create a schema definition using hello collection mapping method</span></span>

<span data-ttu-id="7f95c-162">Существует два типа методов выборки, которые можно использовать: **сопоставление коллекций** и **таблицы-разделители**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-162">There are two types of sampling methods that you can use: **collection mapping** or **table-delimiters**.</span></span> <span data-ttu-id="7f95c-163">В сеансе выборки могут использоваться оба метода выборки, но в каждой коллекции можно использовать только один из них.</span><span class="sxs-lookup"><span data-stu-id="7f95c-163">A sampling session can utilize both sampling methods, but each collection can only use a specific sampling method.</span></span> <span data-ttu-id="7f95c-164">Hello шаги создания схемы данных hello в одну или несколько коллекций, с помощью метода сопоставления коллекции hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-164">hello steps below create a schema for hello data in one or more collections using hello collection mapping method.</span></span> <span data-ttu-id="7f95c-165">Этот метод выборки получает hello данные на странице приветствия структуры hello toodetermine коллекции данных hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-165">This sampling method retrieves hello data in hello page of a collection toodetermine hello structure of hello data.</span></span> <span data-ttu-id="7f95c-166">Он переставляет коллекции tooa таблицы на стороне ODBC hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-166">It transposes a collection tooa table on hello ODBC side.</span></span> <span data-ttu-id="7f95c-167">Этот метод выборки при эффективного и быстрого однородные данные hello в коллекции.</span><span class="sxs-lookup"><span data-stu-id="7f95c-167">This sampling method is efficient and fast when hello data in a collection is homogenous.</span></span> <span data-ttu-id="7f95c-168">Если коллекция содержит разнородной тип данных, рекомендуется использовать hello [разделители таблицы сопоставления метод](#table-mapping) как она обеспечивает более надежный метод выборки структур данных toodetermine hello в коллекции hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-168">If a collection contains heterogenous type of data, we recommend you use hello [table-delimiters mapping method](#table-mapping) as it provides a more robust sampling method toodetermine hello data structures in hello collection.</span></span> 

1. <span data-ttu-id="7f95c-169">После завершения шагов 1 – 4 в [базы данных Azure Cosmos DB tooyour Connect](#connect), нажмите кнопку **редактор схем** в hello **DSN установки драйвера ODBC Azure Cosmos DB** окна.</span><span class="sxs-lookup"><span data-stu-id="7f95c-169">After completing steps 1-4 in [Connect tooyour Azure Cosmos DB database](#connect), click **Schema Editor** in hello **Azure Cosmos DB ODBC Driver DSN Setup** window.</span></span>

    ![В окне установки DSN драйвера ODBC DB Azure Cosmos hello кнопку редактора схемы](./media/odbc-driver/odbc-driver-schema-editor.png)
2. <span data-ttu-id="7f95c-171">В hello **редактор схем** окно, нажмите кнопку **создать новый**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-171">In hello **Schema Editor** window, click **Create New**.</span></span>
    <span data-ttu-id="7f95c-172">Hello **сформировать схему** окна отображаются все коллекции hello в учетной записи Azure Cosmos DB hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-172">hello **Generate Schema** window displays all hello collections in hello Azure Cosmos DB account.</span></span> 
3. <span data-ttu-id="7f95c-173">Выберите один или несколько коллекций toosample и нажмите кнопку **пример**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-173">Select one or more collections toosample, and then click **Sample**.</span></span> 
4. <span data-ttu-id="7f95c-174">В hello **конструкторе** представлены вкладки, hello базы данных, схемы и таблицы.</span><span class="sxs-lookup"><span data-stu-id="7f95c-174">In hello **Design View** tab, hello database, schema, and table are represented.</span></span> <span data-ttu-id="7f95c-175">В режиме таблицы hello сканирования hello отображает hello набор свойств, связанных с именами столбцов hello (имя SQL, имя источника, и т. д.).</span><span class="sxs-lookup"><span data-stu-id="7f95c-175">In hello table view, hello scan displays hello set of properties associated with hello column names (SQL Name, Source Name, etc.).</span></span>
    <span data-ttu-id="7f95c-176">Для каждого столбца можно изменить имя SQL hello столбца, тип SQL hello, длина SQL (если применимо), масштабирование (если применимо), точность (если применимо) и допускает значение NULL.</span><span class="sxs-lookup"><span data-stu-id="7f95c-176">For each column, you can modify hello column SQL name, hello SQL type, SQL length (if applicable), Scale (if applicable), Precision (if applicable) and Nullable.</span></span>
    - <span data-ttu-id="7f95c-177">Можно задать **скрыть столбец** слишком**true** Если tooexclude этот столбец из результатов запроса.</span><span class="sxs-lookup"><span data-stu-id="7f95c-177">You can set **Hide Column** too**true** if you want tooexclude that column from query results.</span></span> <span data-ttu-id="7f95c-178">Столбцы помечены как скрыть столбец = true не возвращаются для выбора и проекции, несмотря на то, что они по-прежнему являются частью схемы hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-178">Columns marked Hide Column = true are not returned for selection and projection, although they are still part of hello schema.</span></span> <span data-ttu-id="7f95c-179">Например можно скрыть все свойства система, требуемая для Azure Cosmos DB hello, начиная с «_».</span><span class="sxs-lookup"><span data-stu-id="7f95c-179">For example, you can hide all of hello Azure Cosmos DB system required properties starting with “_”.</span></span>
    - <span data-ttu-id="7f95c-180">Hello **идентификатор** столбца — hello только поле, которое не может быть скрытым, поскольку он используется как hello первичного ключа в схеме нормализованный hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-180">hello **id** column is hello only field that cannot be hidden as it is used as hello primary key in hello normalized schema.</span></span> 
5. <span data-ttu-id="7f95c-181">После завершения определения схемы hello щелкните **файл** | **Сохранить**, перейдите toosave hello toohello каталога схемы и нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-181">Once you have finished defining hello schema, click **File** | **Save**, navigate toohello directory toosave hello schema, and then click **Save**.</span></span>

    <span data-ttu-id="7f95c-182">Если в будущем hello toouse эту схему с DSN, откройте окно DSN установки драйвера ODBC Azure Cosmos DB hello (с помощью hello администратор источников данных ODBC), нажмите кнопку Дополнительно и перейдите toohello сохранить схему в имя файла схемы hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-182">If in hello future you want toouse this schema with a DSN, open hello Azure Cosmos DB ODBC Driver DSN Setup window (via hello ODBC Data Source Administrator), click Advanced Options, and then in hello Schema File box, navigate toohello saved schema.</span></span> <span data-ttu-id="7f95c-183">Сохранение файла схемы tooan существующего источника данных изменяет hello DSN подключения tooscope toohello данных и структуры, определяемой схемы.</span><span class="sxs-lookup"><span data-stu-id="7f95c-183">Saving a schema file tooan existing DSN modifies hello DSN connection tooscope toohello data and structure defined by schema.</span></span>

## <span data-ttu-id="7f95c-184"><a id="table-mapping"></a>Шаг 4: Создайте определение схемы с помощью таблицы hello-разделителей сопоставления метод</span><span class="sxs-lookup"><span data-stu-id="7f95c-184"><a id="table-mapping"></a>Step 4: Create a schema definition using hello table-delimiters mapping method</span></span>

<span data-ttu-id="7f95c-185">Существует два типа методов выборки, которые можно использовать: **сопоставление коллекций** и **таблицы-разделители**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-185">There are two types of sampling methods that you can use: **collection mapping** or **table-delimiters**.</span></span> <span data-ttu-id="7f95c-186">В сеансе выборки могут использоваться оба метода выборки, но в каждой коллекции можно использовать только один из них.</span><span class="sxs-lookup"><span data-stu-id="7f95c-186">A sampling session can utilize both sampling methods, but each collection can only use a specific sampling method.</span></span> 

<span data-ttu-id="7f95c-187">Hello следующие шаги создания схемы для hello данных в одну или несколько коллекций с помощью hello **таблицы разделители** сопоставления метод.</span><span class="sxs-lookup"><span data-stu-id="7f95c-187">hello following steps create a schema for hello data in one or more collections using hello **table-delimiters** mapping method.</span></span> <span data-ttu-id="7f95c-188">Мы рекомендуем использовать этот метод выборки, если коллекции содержат разнородные данные.</span><span class="sxs-lookup"><span data-stu-id="7f95c-188">We recommend that you use this sampling method when your collections contain heterogeneous type of data.</span></span> <span data-ttu-id="7f95c-189">Можно использовать этот метод tooscope hello, выборки tooa набор атрибутов и соответствующие значения.</span><span class="sxs-lookup"><span data-stu-id="7f95c-189">You can use this method tooscope hello sampling tooa set of attributes and its corresponding values.</span></span> <span data-ttu-id="7f95c-190">Например если документ содержит свойство «Type», вы можете задать область hello выборки toohello значения этого свойства.</span><span class="sxs-lookup"><span data-stu-id="7f95c-190">For example, if a document contains a “Type” property, you can scope hello sampling toohello values of this property.</span></span> <span data-ttu-id="7f95c-191">конечный результат выборки hello Hello представляет собой набор таблиц для каждого hello значений типа были выбраны.</span><span class="sxs-lookup"><span data-stu-id="7f95c-191">hello end result of hello sampling would be a set of tables for each of hello values for Type you have specified.</span></span> <span data-ttu-id="7f95c-192">Например, если выбрать значение "Автомобиль", будет создана таблица со сведениями об автомобилях, а если выбрать значение "Самолет", будет создана таблица со сведениями о самолетах.</span><span class="sxs-lookup"><span data-stu-id="7f95c-192">For example, Type = Car will produce a Car table while Type = Plane would produce a Plane table.</span></span>

1. <span data-ttu-id="7f95c-193">После завершения шагов 1 – 4 в [базы данных Azure Cosmos DB tooyour Connect](#connect), нажмите кнопку **редактор схем** в окне DSN установки драйвера ODBC Azure Cosmos DB hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-193">After completing steps 1-4 in [Connect tooyour Azure Cosmos DB database](#connect), click **Schema Editor** in hello Azure Cosmos DB ODBC Driver DSN Setup window.</span></span>
2. <span data-ttu-id="7f95c-194">В hello **редактор схем** окно, нажмите кнопку **создать новый**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-194">In hello **Schema Editor** window, click **Create New**.</span></span>
    <span data-ttu-id="7f95c-195">Hello **сформировать схему** окна отображаются все коллекции hello в учетной записи Azure Cosmos DB hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-195">hello **Generate Schema** window displays all hello collections in hello Azure Cosmos DB account.</span></span> 
3. <span data-ttu-id="7f95c-196">Выберите коллекцию для hello **представление образца** hello на вкладке **сопоставление определения** выберите столбец для коллекции hello **изменить**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-196">Select a collection on hello **Sample View** tab, in hello **Mapping Definition** column for hello collection, click **Edit**.</span></span> <span data-ttu-id="7f95c-197">Затем в hello **сопоставление определения** выберите **разделители таблицы** метод.</span><span class="sxs-lookup"><span data-stu-id="7f95c-197">Then in hello **Mapping Definition** window, select **Table Delimiters** method.</span></span> <span data-ttu-id="7f95c-198">Затем hello следующие:</span><span class="sxs-lookup"><span data-stu-id="7f95c-198">Then do hello following:</span></span>

    <span data-ttu-id="7f95c-199">а.</span><span class="sxs-lookup"><span data-stu-id="7f95c-199">a.</span></span> <span data-ttu-id="7f95c-200">В hello **атрибуты** введите имя hello свойства разделитель.</span><span class="sxs-lookup"><span data-stu-id="7f95c-200">In hello **Attributes** box, type hello name of a delimiter property.</span></span> <span data-ttu-id="7f95c-201">Это свойство в документе нужного tooscope hello выборки, например, города, и нажмите клавишу ВВОД.</span><span class="sxs-lookup"><span data-stu-id="7f95c-201">This is a property in your document that you want tooscope hello sampling to, for instance, City and press enter.</span></span> 

    <span data-ttu-id="7f95c-202">b.</span><span class="sxs-lookup"><span data-stu-id="7f95c-202">b.</span></span> <span data-ttu-id="7f95c-203">Требуется только tooscope hello выборки toocertain значения для только что введен атрибута hello, выберите атрибут hello в поле выбора hello, а затем введите значение в hello **значение** , например, Сиэтл и нажмите клавишу введите в поле.</span><span class="sxs-lookup"><span data-stu-id="7f95c-203">If you only want tooscope hello sampling toocertain values for hello attribute you just entered, select hello attribute in hello selection box, then enter a value in hello **Value** box, for example, Seattle and press enter.</span></span> <span data-ttu-id="7f95c-204">Вы можете продолжить tooadd несколько значений атрибутов.</span><span class="sxs-lookup"><span data-stu-id="7f95c-204">You can continue tooadd multiple values for attributes.</span></span> <span data-ttu-id="7f95c-205">Просто убедитесь, что hello, исправьте атрибут, выбранный при вводе значения.</span><span class="sxs-lookup"><span data-stu-id="7f95c-205">Just ensure that hello correct attribute is selected when you're entering values.</span></span>

    <span data-ttu-id="7f95c-206">Например, при включении **атрибуты** значение Город и вы хотите toolimit tooonly вашей таблице относятся строки со значением города Нью-Йорке и Дубаи, Город, введите в поле атрибуты hello и Нью-Йорке и Дубаи в hello  **Значения** поле.</span><span class="sxs-lookup"><span data-stu-id="7f95c-206">For example, if you include an **Attributes** value of City, and you want toolimit your table tooonly include rows with a city value of New York and Dubai, you would enter City in hello Attributes box, and New York and then Dubai in hello **Values** box.</span></span>
4. <span data-ttu-id="7f95c-207">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-207">Click **OK**.</span></span> 
5. <span data-ttu-id="7f95c-208">После завершения определения сопоставлений hello для коллекций hello требуется toosample в hello **редактор схем** окно, нажмите кнопку **пример**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-208">After completing hello mapping definitions for hello collections you want toosample, in hello **Schema Editor** window, click **Sample**.</span></span>
     <span data-ttu-id="7f95c-209">Для каждого столбца можно изменить имя SQL hello столбца, тип SQL hello, длина SQL (если применимо), масштабирование (если применимо), точность (если применимо) и допускает значение NULL.</span><span class="sxs-lookup"><span data-stu-id="7f95c-209">For each column, you can modify hello column SQL name, hello SQL type, SQL length (if applicable), Scale (if applicable), Precision (if applicable) and Nullable.</span></span>
    - <span data-ttu-id="7f95c-210">Можно задать **скрыть столбец** слишком**true** Если tooexclude этот столбец из результатов запроса.</span><span class="sxs-lookup"><span data-stu-id="7f95c-210">You can set **Hide Column** too**true** if you want tooexclude that column from query results.</span></span> <span data-ttu-id="7f95c-211">Столбцы помечены как скрыть столбец = true не возвращаются для выбора и проекции, несмотря на то, что они по-прежнему являются частью схемы hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-211">Columns marked Hide Column = true are not returned for selection and projection, although they are still part of hello schema.</span></span> <span data-ttu-id="7f95c-212">Например можно скрыть все свойства система, требуемая для Azure Cosmos DB "hello", начиная с «_».</span><span class="sxs-lookup"><span data-stu-id="7f95c-212">For example, you can hide all hello Azure Cosmos DB system required properties starting with “_”.</span></span>
    - <span data-ttu-id="7f95c-213">Hello **идентификатор** столбца — hello только поле, которое не может быть скрытым, поскольку он используется как hello первичного ключа в схеме нормализованный hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-213">hello **id** column is hello only field that cannot be hidden as it is used as hello primary key in hello normalized schema.</span></span> 
6. <span data-ttu-id="7f95c-214">После завершения определения схемы hello щелкните **файл** | **Сохранить**, перейдите toosave hello toohello каталога схемы и нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-214">Once you have finished defining hello schema, click **File** | **Save**, navigate toohello directory toosave hello schema, and then click **Save**.</span></span>
7. <span data-ttu-id="7f95c-215">Вернитесь в hello **DSN установки драйвера ODBC Azure Cosmos DB** окно, нажмите кнопку ** Дополнительные параметры **.</span><span class="sxs-lookup"><span data-stu-id="7f95c-215">Back in hello **Azure Cosmos DB ODBC Driver DSN Setup** window, click ** Advanced Options**.</span></span> <span data-ttu-id="7f95c-216">Затем в hello **файл схемы** перейдите toohello сохранен файл схемы и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-216">Then, in hello **Schema File** box, navigate toohello saved schema file and click **OK**.</span></span> <span data-ttu-id="7f95c-217">Нажмите кнопку **ОК** снова toosave hello DSN.</span><span class="sxs-lookup"><span data-stu-id="7f95c-217">Click **OK** again toosave hello DSN.</span></span> <span data-ttu-id="7f95c-218">Эта схема hello сохраняет, вы создали toohello DSN.</span><span class="sxs-lookup"><span data-stu-id="7f95c-218">This saves hello schema you created toohello DSN.</span></span> 

## <a name="optional-creating-views"></a><span data-ttu-id="7f95c-219">Создание представлений (необязательно)</span><span class="sxs-lookup"><span data-stu-id="7f95c-219">(Optional) Creating views</span></span>
<span data-ttu-id="7f95c-220">Можно определить и создать представления в рамках процесса выборки hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-220">You can define and create views as part of hello sampling process.</span></span> <span data-ttu-id="7f95c-221">Эти представления являются tooSQL эквивалент.</span><span class="sxs-lookup"><span data-stu-id="7f95c-221">These views are equivalent tooSQL views.</span></span> <span data-ttu-id="7f95c-222">Они доступны только для чтения и являются области hello выбора и проекции hello, определенные базы данных SQL Azure Cosmos.</span><span class="sxs-lookup"><span data-stu-id="7f95c-222">They are read-only and are scope hello selections and projections of hello Azure Cosmos DB SQL defined.</span></span> 

<span data-ttu-id="7f95c-223">toocreate представление данных в hello **редактор схем** окна "Свойства" hello **определения представления** столбец, нажмите кнопку **добавить** в строку hello toosample коллекции hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-223">toocreate a view for your data, in hello **Schema Editor** window, in hello **View Definitions** column, click **Add** on hello row of hello collection toosample.</span></span> <span data-ttu-id="7f95c-224">Затем в hello **определения представления** окне hello следующие:</span><span class="sxs-lookup"><span data-stu-id="7f95c-224">Then in hello **View Definitions** window, do hello following:</span></span>
1. <span data-ttu-id="7f95c-225">Нажмите кнопку **New**, введите имя для представления hello, например, EmployeesfromSeattleView и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-225">Click **New**, enter a name for hello view, for example, EmployeesfromSeattleView and then click **OK**.</span></span>
2. <span data-ttu-id="7f95c-226">В hello **изменить представление** окно, введите запрос Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="7f95c-226">In hello **Edit view** window, enter an Azure Cosmos DB query.</span></span> <span data-ttu-id="7f95c-227">Это должен быть SQL-запрос Azure Cosmos DB, например `SELECT c.City, c.EmployeeName, c.Level, c.Age, c.Gender, c.Manager FROM c WHERE c.City = “Seattle”`. Затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-227">This must be an Azure Cosmos DB SQL query, for example`SELECT c.City, c.EmployeeName, c.Level, c.Age, c.Gender, c.Manager FROM c WHERE c.City = “Seattle”`, and then click **OK**.</span></span>

<span data-ttu-id="7f95c-228">Количество создаваемых представлений не ограничено.</span><span class="sxs-lookup"><span data-stu-id="7f95c-228">You can create a many views as you like.</span></span> <span data-ttu-id="7f95c-229">После завершения работы определение hello представлений, можно затем произвести выборку данных hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-229">Once you are done defining hello views, you can then sample hello data.</span></span> 

## <a name="step-5-view-your-data-in-bi-tools-such-as-power-bi-desktop"></a><span data-ttu-id="7f95c-230">Шаг 5. Просмотр данных в инструментах бизнес-аналитики (Power BI Desktop)</span><span class="sxs-lookup"><span data-stu-id="7f95c-230">Step 5: View your data in BI tools such as Power BI Desktop</span></span>

<span data-ttu-id="7f95c-231">Можно использовать ваш новый DSN tooconnect DocumentADB с любой ODBC-совместимую средства — этот шаг просто показывает, как tooconnect tooPower BI Desktop и создать визуализации Power BI.</span><span class="sxs-lookup"><span data-stu-id="7f95c-231">You can use your new DSN tooconnect DocumentADB with any ODBC-compliant tools - this step simply shows you how tooconnect tooPower BI Desktop and create a Power BI visualization.</span></span>

1. <span data-ttu-id="7f95c-232">Откройте Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="7f95c-232">Open Power BI Desktop.</span></span>
2. <span data-ttu-id="7f95c-233">Щелкните **Получить данные**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-233">Click **Get Data**.</span></span>
3. <span data-ttu-id="7f95c-234">В hello **получить данные** окно, нажмите кнопку **других** | **ODBC** | **Connect**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-234">In hello **Get Data** window, click **Other** | **ODBC** | **Connect**.</span></span>
4. <span data-ttu-id="7f95c-235">В hello **из ODBC** окно, выберите hello источник данных создан и нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-235">In hello **From ODBC** window, select hello data source name you created, and then click **OK**.</span></span> <span data-ttu-id="7f95c-236">Можно оставить hello **Дополнительно** пустой записи.</span><span class="sxs-lookup"><span data-stu-id="7f95c-236">You can leave hello **Advanced Options** entries blank.</span></span>
5. <span data-ttu-id="7f95c-237">В hello **доступа к источнику данных с помощью драйвера ODBC** выберите **по умолчанию или пользовательскую** и нажмите кнопку **Connect**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-237">In hello **Access a data source using an ODBC driver** window, select **Default or Custom** and then click **Connect**.</span></span> <span data-ttu-id="7f95c-238">Нет необходимости tooinclude hello **учетных данных свойства строки соединения**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-238">You do not need tooinclude hello **Credential connection string properties**.</span></span>
6. <span data-ttu-id="7f95c-239">В hello **Навигатор** окно hello левой панели разверните hello базы данных, hello схемы и таблицы, а затем выберите hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-239">In hello **Navigator** window, in hello left pane, expand hello database, hello schema, and then select hello table.</span></span> <span data-ttu-id="7f95c-240">панель результатов Hello включает hello данных с помощью созданной схемой hello.</span><span class="sxs-lookup"><span data-stu-id="7f95c-240">hello results pane includes hello data using hello schema you created.</span></span>
7. <span data-ttu-id="7f95c-241">Установите флажок "hello" перед именем таблицы hello toovisualize hello данных в Power BI desktop и нажмите кнопку **нагрузки**.</span><span class="sxs-lookup"><span data-stu-id="7f95c-241">toovisualize hello data in Power BI desktop, check hello box in front of hello table name, and then click **Load**.</span></span>
8. <span data-ttu-id="7f95c-242">В Power BI Desktop на левом краю hello вкладку hello данных</span><span class="sxs-lookup"><span data-stu-id="7f95c-242">In Power BI Desktop, on hello far left, select hello Data tab</span></span> ![вкладка "Данные" в Power BI Desktop,](./media/odbc-driver/odbc-driver-data-tab.png) <span data-ttu-id="7f95c-244">tooconfirm данных был импортирован.</span><span class="sxs-lookup"><span data-stu-id="7f95c-244">tooconfirm your data was imported.</span></span>
9. <span data-ttu-id="7f95c-245">Теперь можно создавать визуальные элементы с помощью Power BI, щелкнув вкладку отчет hello ![вкладку отчет в Power BI Desktop](./media/odbc-driver/odbc-driver-report-tab.png), а затем выбрав **новый Visual**и затем Настройка плитки.</span><span class="sxs-lookup"><span data-stu-id="7f95c-245">You can now create visuals using Power BI by clicking on hello Report tab ![Report tab in Power BI Desktop](./media/odbc-driver/odbc-driver-report-tab.png), clicking **New Visual**, and then customizing your tile.</span></span> <span data-ttu-id="7f95c-246">Дополнительные сведения о создании визуализаций в Power BI Desktop см. в статье [Типы визуализаций в Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-visualization-types-for-reports-and-q-and-a/).</span><span class="sxs-lookup"><span data-stu-id="7f95c-246">For more information about creating visualizations in Power BI Desktop, see [Visualization types in Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-visualization-types-for-reports-and-q-and-a/).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="7f95c-247">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="7f95c-247">Troubleshooting</span></span>

<span data-ttu-id="7f95c-248">Если появляется следующая ошибка hello убедитесь hello **узла** и **ключ доступа** значения, скопированные hello портал Azure в [шаг 2](#connect) указаны правильно и повторите попытку.</span><span class="sxs-lookup"><span data-stu-id="7f95c-248">If you receive hello following error, ensure hello **Host** and **Access Key** values you copied hello Azure portal in [Step 2](#connect) are correct and then retry.</span></span> <span data-ttu-id="7f95c-249">Использовать toohello кнопки копирования hello справа от приветствия **узла** и **ключ доступа** значения в hello без ошибок значения hello Azure toocopy портала.</span><span class="sxs-lookup"><span data-stu-id="7f95c-249">Use hello copy buttons toohello right of hello **Host** and **Access Key** values in hello Azure portal toocopy hello values error free.</span></span>

    [HY000]: [Microsoft][Azure Cosmos DB] (401) HTTP 401 Authentication Error: {"code":"Unauthorized","message":"hello input authorization token can't serve hello request. Please check that hello expected payload is built as per hello protocol, and check hello key being used. Server used hello following payload toosign: 'get\ndbs\n\nfri, 20 jan 2017 03:43:55 gmt\n\n'\r\nActivityId: 9acb3c0d-cb31-4b78-ac0a-413c8d33e373"}`

## <a name="next-steps"></a><span data-ttu-id="7f95c-250">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7f95c-250">Next steps</span></span>

<span data-ttu-id="7f95c-251">toolearn Дополнительные сведения о базе данных Azure Cosmos, в разделе [возможности Azure Cosmos DB?](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="7f95c-251">toolearn more about Azure Cosmos DB, see [What is Azure Cosmos DB?](introduction.md).</span></span>
