---
title: "Центр обработки данных Azure Virtual aaaMicrosoft | Документы Microsoft"
description: "Узнайте, как toobuild вашего виртуального центра обработки данных в Azure"
services: networking
author: tracsman
manager: rossort
tags: azure-resource-manager
ms.service: virtual-network
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/26/2017
ms.author: jonor
ms.openlocfilehash: 84f77b16edaece202a6a94b6107f1c9585ec7f38
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="microsoft-azure-virtual-data-center"></a><span data-ttu-id="7fcc4-103">Виртуальный центр обработки данных Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="7fcc4-103">Microsoft Azure Virtual Data Center</span></span>
<span data-ttu-id="7fcc4-104">**Microsoft Azure**: ускоренное перемещение, оптимальные затраты, интеграция локальных приложений и данных</span><span class="sxs-lookup"><span data-stu-id="7fcc4-104">**Microsoft Azure**: Move faster, Save money, Integrate on-premises apps and data</span></span>

## <a name="overview"></a><span data-ttu-id="7fcc4-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="7fcc4-105">Overview</span></span>
<span data-ttu-id="7fcc4-106">Миграция tooAzure локальных приложений, даже без значительных изменений (подход известен как «точности прогнозов и сдвиг»), предоставляет организациям hello преимущества инфраструктуры защищенной и экономичное решение.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-106">Migrating on-premises applications tooAzure, even without any significant changes (an approach known as “lift and shift”), provides organizations hello benefits of a secured and cost-efficient infrastructure.</span></span> <span data-ttu-id="7fcc4-107">Однако наиболее hello toomake hello гибкости при наличии облачных вычислений, предприятия должны развиваться их архитектур tootake возможностями Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-107">However, toomake hello most of hello agility possible with cloud computing, enterprises should evolve their architectures tootake advantage of Azure capabilities.</span></span> <span data-ttu-id="7fcc4-108">Microsoft Azure предоставляет гипермасштабируемые службы и инфраструктуру, надежность и возможности корпоративного класса, а также множество вариантов гибридных подключений.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-108">Microsoft Azure delivers hyper-scale services and infrastructure, enterprise-grade capabilities and reliability, and many choices for hybrid connectivity.</span></span> <span data-ttu-id="7fcc4-109">Клиенты могут выбрать tooaccess этих облачных служб, либо с помощью hello Интернета или с Azure ExpressRoute, обеспечивающий связь частной сети.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-109">Customers can choose tooaccess these cloud services either via hello Internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="7fcc4-110">Hello платформы Microsoft Azure позволяет клиентам tooseamlessly расширения своей инфраструктуры в облако hello и построения многоуровневых архитектурах.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-110">hello Microsoft Azure platform allows customers tooseamlessly extend their infrastructure into hello cloud and build multi-tier architectures.</span></span> <span data-ttu-id="7fcc4-111">Кроме того партнеры корпорации Майкрософт предоставляют расширенные возможности, предлагая безопасности служб и виртуальных устройств, которые являются оптимизирован toorun в Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-111">Additionally, Microsoft partners provide enhanced capabilities by offering security services and virtual appliances that are optimized toorun in Azure.</span></span>

<span data-ttu-id="7fcc4-112">В этой статье содержится обзор шаблонов и схемы, которые можно использовать toosolve hello архитектуры проблемы масштабирования, производительности и безопасности, многие пользователи сталкиваются с при рассмотрении массового перемещения toohello облака.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-112">This article provides an overview of patterns and designs that can be used toosolve hello architectural scale, performance, and security concerns many customers face when thinking about moving en masse toohello cloud.</span></span> <span data-ttu-id="7fcc4-113">Обзор как toofit другой организации ИТ-ролями в hello управление и контроль hello системы также рассматривается с требованиями toosecurity выделения и оптимизации затрат.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-113">An overview of how toofit different organizational IT roles into hello management and governance of hello system is also discussed, with emphasis toosecurity requirements and cost optimization.</span></span>

## <a name="what-is-a-virtual-data-center"></a><span data-ttu-id="7fcc4-114">Что такое виртуальный центр обработки данных?</span><span class="sxs-lookup"><span data-stu-id="7fcc4-114">What is a Virtual Data Center?</span></span>
<span data-ttu-id="7fcc4-115">В hello первых дней облачные решения были спроектированный toohost один относительно изолированного приложения, в общей спектра hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-115">In hello early days, cloud solutions were designed toohost single, relatively isolated, applications, in hello public spectrum.</span></span> <span data-ttu-id="7fcc4-116">Этот подход был оптимальным несколько лет.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-116">This approach worked well for a few years.</span></span> <span data-ttu-id="7fcc4-117">Тем не менее как hello преимущества облачных решений стала очевидной и несколько крупномасштабных рабочих нагрузок были размещенной в облаке hello адресации безопасность, надежность, производительность и затрат проблемы развертывания в одном или несколько областей стали важных во всей hello жизненный цикл hello облачной службы.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-117">However, as hello benefits of cloud solutions became apparent and multiple large-scale workloads were hosted on hello cloud, addressing security, reliability, performance, and cost concerns of deployments in one or more regions became vital throughout hello life cycle of hello cloud service.</span></span>

<span data-ttu-id="7fcc4-118">Hello следующей схеме развертывания облака приводится несколько примеров уязвимости в системе безопасности (красный прямоугольник) и место для оптимизации виртуальных сетевых устройств для рабочих нагрузок (желтого прямоугольника).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-118">hello following cloud deployment diagram illustrates some examples of security gaps (red box) and room for optimization network virtual appliances across workloads (yellow box).</span></span>

<span data-ttu-id="7fcc4-119">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-119">[![0]][0]</span></span>

<span data-ttu-id="7fcc4-120">из этого необходимость масштабирования рабочих нагрузок предприятия toosupport родился Hello данных Virtual Center (vDC), а hello нужны toodeal с проблемами hello привело к появлению поддержки крупномасштабных приложений в общедоступном облаке hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-120">hello Virtual Data Center (vDC) was born from this necessity for scaling toosupport enterprise workloads, and hello need toodeal with hello problems introduced when supporting large-scale applications in hello public cloud.</span></span>

<span data-ttu-id="7fcc4-121">Виртуального контроллера домена не просто hello рабочих нагрузок приложений в облаке hello, но также hello сети, безопасности, управления и инфраструктуры (например, DNS и служб каталогов).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-121">A vDC is not just hello application workloads in hello cloud, but also hello network, security, management, and infrastructure (for example, DNS and Directory Services).</span></span> <span data-ttu-id="7fcc4-122">Это обычно также задней tooan частного подключения локальной сети или к данным центра.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-122">It usually also provides a private connection back tooan on-premises network or data center.</span></span> <span data-ttu-id="7fcc4-123">Это важные toothink о hello, поддерживающие объектам и инфраструктуре, эти рабочие нагрузки, помещаются в движении tooAzure рабочих нагрузок по мере.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-123">As more and more workloads move tooAzure, it is important toothink about hello supporting infrastructure and objects that these workloads are placed in.</span></span> <span data-ttu-id="7fcc4-124">Обдумывания тщательно как структурированы ресурсы можно избежать hello увеличением числа сотни «рабочей нагрузки, о-ва», который должен управляться отдельно с независимые данные потока, моделей безопасности и соответствия требованиям сложности.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-124">Thinking carefully about how resources are structured can avoid hello proliferation of hundreds of "workload islands" that must be managed separately with independent data flow, security models, and compliance challenges.</span></span>

<span data-ttu-id="7fcc4-125">Виртуальный центр обработки данных — это преимущественно коллекция отдельных, но связанных сущностей с общими функциями поддержки, возможностями и инфраструктурой.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-125">A Virtual Data Center is essentially a collection of separate but related entities with common supporting functions, features, and infrastructure.</span></span> <span data-ttu-id="7fcc4-126">Просматривая рабочих нагрузок как встроенная виртуального контроллера домена, и добиться снижения затрат из-за tooeconomies шкалы, оптимизированная безопасность с помощью компонента и данные потока, централизации и упрощения операций, управления и аудита соответствия.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-126">By viewing your workloads as an integrated vDC, you can realize reduced cost due tooeconomies of scale, optimized security through component and data flow centralization, along with easier operations, management, and compliance audits.</span></span>

> [!NOTE]
> <span data-ttu-id="7fcc4-127">Важно, hello виртуального контроллера домена toounderstand **не** дискретных Azure продукта, но сочетание hello различные функции и возможности слишком требованиям точное.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-127">It's important toounderstand that hello vDC is **NOT** a discrete Azure product, but hello combination of various features and capabilities too meet your exact requirements.</span></span> <span data-ttu-id="7fcc4-128">виртуального контроллера домена — это способ размышления о рабочих нагрузках и toomaximize Azure использования ресурсов и возможности для работы в облаке hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-128">vDC is a way of thinking about your workloads and Azure usage toomaximize your resources and abilities in hello cloud.</span></span> <span data-ttu-id="7fcc4-129">Hello виртуальный контроллер домена является таким образом Модульный подход о том, как toobuild службы ИТ в Azure, в этом соблюдаются организации ролях и обязанностях hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-129">hello virtual DC is therefore a modular approach on how toobuild up IT services in hello Azure, respecting organizational roles and responsibilities.</span></span>

<span data-ttu-id="7fcc4-130">Hello виртуального контроллера домена может помочь предприятиям получить рабочих нагрузок и приложений в Azure для hello следующие сценарии:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-130">hello vDC can help enterprises get workloads and applications into Azure for hello following scenarios:</span></span>

-   <span data-ttu-id="7fcc4-131">размещения нескольких связанных рабочих нагрузок;</span><span class="sxs-lookup"><span data-stu-id="7fcc4-131">Hosting multiple related workloads</span></span>
-   <span data-ttu-id="7fcc4-132">Перенос рабочих нагрузок из tooAzure в локальной среде</span><span class="sxs-lookup"><span data-stu-id="7fcc4-132">Migrating workloads from an on-premises environment tooAzure</span></span>
-   <span data-ttu-id="7fcc4-133">реализации общей или централизованной безопасности и требований к доступности рабочих нагрузок;</span><span class="sxs-lookup"><span data-stu-id="7fcc4-133">Implementing shared or centralized security and access requirements across workloads</span></span>
-   <span data-ttu-id="7fcc4-134">соответствующего объединения DevOps и централизованной ИТ-инфраструктуры для большого предприятия.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-134">Mixing DevOps and Centralized IT appropriately for a large enterprise</span></span>

<span data-ttu-id="7fcc4-135">Здравствуйте ключа toounlock hello преимущества виртуального контроллера домена, представляет собой централизованный топологию (концентратора и спицы) на наборе возможностей Azure: [виртуальной сети Azure][VNet], [Nsg] [ NSG], [Виртуальную сеть Пиринга][VNetPeering], [определяемых пользователем маршрутов (UDR)][UDR]и Azure удостоверение с [ Управление доступ к базовым членам ролей (RBAC)][RBAC].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-135">hello key toounlock hello advantages of vDC, is a centralized topology (hub and spokes) with a mix of Azure features: [Azure VNet][VNet], [NSGs][NSG], [VNet Peering][VNetPeering], [User-Defined Routes (UDR)][UDR], and Azure Identity with [Role Base Access Control (RBAC)][RBAC].</span></span>

## <a name="who-needs-a-virtual-data-center"></a><span data-ttu-id="7fcc4-136">Кому нужен виртуальный центр обработки данных?</span><span class="sxs-lookup"><span data-stu-id="7fcc4-136">Who Needs a Virtual Data Center?</span></span>
<span data-ttu-id="7fcc4-137">Любой клиент Azure, требуется toomove больше, чем несколько рабочих нагрузок в Azure могут использовать преимущества задуматься об использовании общих ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-137">Any Azure customer that needs toomove more than a couple of workloads into Azure can benefit from thinking about using common resources.</span></span> <span data-ttu-id="7fcc4-138">В зависимости от величины hello даже одного приложения могут выиграть от использования шаблонов hello и использовать компоненты toobuild виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-138">Depending on hello magnitude, even single applications can benefit from using hello patterns and components used toobuild a vDC.</span></span>

<span data-ttu-id="7fcc4-139">Если ваша организация имеет централизованной ИТ, сети, безопасности и соответствия команды или отдел, виртуального контроллера домена может помочь применять политики точек разделения полномочий и обеспечить единообразие из базового общие компоненты той же степени, определяя команды приложения hello свободу и управления как соответствующие требованиям.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-139">If your organization has a centralized IT, Network, Security, and/or Compliance team/department, a vDC can help enforce policy points, segregation of duty, and ensure uniformity of hello underlying common components while giving application teams as much freedom and control as is appropriate for your requirements.</span></span>

<span data-ttu-id="7fcc4-140">Организаций, намеренных tooDevOps могут использовать основные понятия виртуального контроллера домена hello tooprovide авторизации группами ресурсов Azure и для них имеется полный контроль над в пределах этой группы (либо подписка или группа ресурсов в подписке Общие), но hello сети и границы безопасности обеспечивать соответствие, в соответствии с централизованной политикой в виртуальной сети концентратора и группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-140">Organizations that are looking tooDevOps can utilize hello vDC concepts tooprovide authorized pockets of Azure resources and ensure they have total control within that group (either subscription or resource group in a common subscription), but hello network and security boundaries stay compliant as defined by a centralized policy in a hub VNet and Resource Group.</span></span>

## <a name="considerations-on-implementing-a-virtual-data-center"></a><span data-ttu-id="7fcc4-141">Рекомендации по реализация виртуального центра обработки данных</span><span class="sxs-lookup"><span data-stu-id="7fcc4-141">Considerations on Implementing a Virtual Data Center</span></span>
<span data-ttu-id="7fcc4-142">При разработке виртуального контроллера домена, существует несколько tooconsider жизненно важную проблемы:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-142">When designing a vDC, there are several pivotal issues tooconsider:</span></span>

-   <span data-ttu-id="7fcc4-143">службы удостоверений и каталогов;</span><span class="sxs-lookup"><span data-stu-id="7fcc4-143">Identity and Directory Services</span></span>
-   <span data-ttu-id="7fcc4-144">инфраструктуру безопасности;</span><span class="sxs-lookup"><span data-stu-id="7fcc4-144">Security infrastructure</span></span>
-   <span data-ttu-id="7fcc4-145">Подключение toohello облака</span><span class="sxs-lookup"><span data-stu-id="7fcc4-145">Connectivity toohello cloud</span></span>
-   <span data-ttu-id="7fcc4-146">Подключение в облаке hello</span><span class="sxs-lookup"><span data-stu-id="7fcc4-146">Connectivity within hello cloud</span></span>

##### <a name="identity-and-directory-service"></a><span data-ttu-id="7fcc4-147">*Службы удостоверений и каталогов*</span><span class="sxs-lookup"><span data-stu-id="7fcc4-147">*Identity and Directory Service*</span></span>
<span data-ttu-id="7fcc4-148">Службы удостоверений и каталогов, ключевой аспект все данные центров, как в локальных и в облаке hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-148">Identity and Directory services are a key aspect of all data centers, both on-premises and in hello cloud.</span></span> <span data-ttu-id="7fcc4-149">Удостоверение является аспекты связанных tooall tooservices доступа и авторизации в hello виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-149">Identity is related tooall aspects of access and authorization tooservices within hello vDC.</span></span> <span data-ttu-id="7fcc4-150">toohelp убедитесь, что только авторизованные пользователи и процессы, доступ к учетной записи Azure и ресурсы, Azure использует несколько типов учетных данных для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-150">toohelp ensure that only authorized users and processes access your Azure Account and resources, Azure uses several types of credentials for authentication.</span></span> <span data-ttu-id="7fcc4-151">К ним относятся пароли (tooaccess hello учетная запись Azure), криптографические ключи, цифровые подписи и сертификатов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-151">These include passwords (tooaccess hello Azure account), cryptographic keys, digital signatures, and certificates.</span></span> <span data-ttu-id="7fcc4-152">[*Многофакторная идентификация Azure* (MFA)][MFA] — это дополнительный слой обеспечения безопасности для получения доступа к службам Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-152">[*Azure Multi-Factor Authentication* (MFA)][MFA] is an additional layer of security for accessing Azure services.</span></span> <span data-ttu-id="7fcc4-153">Azure MFA обеспечивает надежную проверку подлинности в диапазоне от простой проверки параметров — телефонный звонок, текстовое сообщение или уведомление мобильного приложения и позволить клиентам toochoose hello способом.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-153">Azure MFA provides strong authentication with a range of easy verification options—phone call, text message, or mobile app notification—and allow customers toochoose hello method they prefer.</span></span>

<span data-ttu-id="7fcc4-154">Любого крупного предприятия должен toodefine процесс управления идентификации, описывающий управления hello отдельных лиц, проверки подлинности, авторизации, ролей и привилегий в пределах или между hello виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-154">Any large enterprise needs toodefine an identity management process that describes hello management of individual identities, their authentication, authorization, roles, and privileges within or across hello vDC.</span></span> <span data-ttu-id="7fcc4-155">Hello цели этого процесса должно быть tooincrease безопасность и производительность и снизить стоимость, время простоя и повторяющиеся ручные задачи.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-155">hello goals of this process should be tooincrease security and productivity while decreasing cost, downtime, and repetitive manual tasks.</span></span>

<span data-ttu-id="7fcc4-156">Предприятиям или организациям может потребоваться нужное сочетание служб для различных бизнес-приложений, так как сотрудники часто используют разные роли при работе с различными проектами.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-156">Enterprise/organizations can require a demanding mix of services for different Line-of-Businesses (LOBs), and employees often have different roles when involved with different projects.</span></span> <span data-ttu-id="7fcc4-157">Виртуального контроллера домена требуется хорошее взаимодействие между разными группами, каждый из которых определения конкретной роли, tooget системы, где надлежащего руководства.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-157">A vDC requires good cooperation between different teams, each with specific role definitions, tooget systems running with good governance.</span></span> <span data-ttu-id="7fcc4-158">Матрица Hello обязанности, доступ и права могут быть очень сложными.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-158">hello matrix of responsibilities, access, and rights can be extremely complex.</span></span> <span data-ttu-id="7fcc4-159">Управление удостоверениями в виртуальном центре обработки данных реализуется с помощью [*Azure Active Directory* (AAD)][AAD] и управления доступом на основе ролей (RBAC).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-159">Identity management in vDC is implemented through [*Azure Active Directory* (AAD)][AAD] and Role-Based Access Control (RBAC).</span></span>

<span data-ttu-id="7fcc4-160">Служба каталогов — это общая инфраструктура сведений для поиска, управления, администрирования и организации стандартных элементов и сетевых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-160">A Directory Service is a shared information infrastructure for locating, managing, administering, and organizing everyday items and network resources.</span></span> <span data-ttu-id="7fcc4-161">Эти ресурсы могут включать тома, папки, файлы, принтеры, пользователей, группы, устройства и другие объекты.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-161">These resources can include volumes, folders, files, printers, users, groups, devices, and other objects.</span></span> <span data-ttu-id="7fcc4-162">Каждый ресурс в сети hello считается сервер каталогов hello объекта.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-162">Each resource on hello network is considered an object by hello directory server.</span></span> <span data-ttu-id="7fcc4-163">Сведения о ресурсе хранятся в виде коллекции атрибутов, связанных с этим ресурсом или объектом.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-163">Information about a resource is stored as a collection of attributes associated with that resource or object.</span></span>

<span data-ttu-id="7fcc4-164">Все бизнес-службы Microsoft Online используют Azure Active Directory (AAD) для входа и других задач, связанных с идентификацией.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-164">All Microsoft online business services rely on Azure Active Directory (AAD) for sign-in and other identity needs.</span></span> <span data-ttu-id="7fcc4-165">Azure Active Directory (Azure AD) — это комплексное высокодоступное облачное решение для управления удостоверениями и доступом, предоставляющее базовые службы каталогов, расширенные функции управления удостоверениями и функции управления доступом к приложениям.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-165">Azure Active Directory is a comprehensive, highly available identity and access management cloud solution that combines core directory services, advanced identity governance, and application access management.</span></span> <span data-ttu-id="7fcc4-166">AAD можно интегрировать с локальной Active Directory tooenable единого входа для всех облачных и локально размещенные приложения (локальная).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-166">AAD can be integrated with on-premises Active Directory tooenable single sign-on for all cloud-based and locally hosted (on-premises) applications.</span></span> <span data-ttu-id="7fcc4-167">атрибуты пользователя Hello локальной Active Directory может быть автоматически синхронизированы tooAAD.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-167">hello user attributes of on-premises Active Directory can be automatically synchronized tooAAD.</span></span>

<span data-ttu-id="7fcc4-168">Один глобальный администратор является не обязательным tooassign все разрешения в виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-168">A single global administrator is not required tooassign all permissions in a vDC.</span></span> <span data-ttu-id="7fcc4-169">Вместо этого каждого конкретного отдела (или группа пользователей и служб в службе каталогов hello) может иметь toomanage необходимые разрешения hello свои ресурсы в пределах виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-169">Instead each specific department (or group of users or services in hello Directory Service) can have hello permissions required toomanage their own resources within a vDC.</span></span> <span data-ttu-id="7fcc4-170">Структурирование разрешений требует балансировки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-170">Structuring permissions requires balancing.</span></span> <span data-ttu-id="7fcc4-171">Большое количество разрешений может препятствовать оптимальной производительности, а недостаточное или отсутствие некоторых — может повысить риски для системы безопасности.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-171">Too many permissions can impede performance efficiency, and too few or loose permissions can increase security risks.</span></span> <span data-ttu-id="7fcc4-172">Azure на основе ролей управления доступом (RBAC) помогает tooaddress эту проблему, обеспечивая подробного управления доступом для ресурсов виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-172">Azure Role-Based Access Control (RBAC) helps tooaddress this problem, by offering fine-grained access management for vDC resources.</span></span>

##### <a name="security-infrastructure"></a><span data-ttu-id="7fcc4-173">*Инфраструктура безопасности*</span><span class="sxs-lookup"><span data-stu-id="7fcc4-173">*Security Infrastructure*</span></span>
<span data-ttu-id="7fcc4-174">Инфраструктура безопасности, в контексте hello виртуального контроллера домена является главным образом связанных toohello разделение трафика в конкретной виртуальной сети сегмент виртуального hello и как toocontrol входящего и исходящего проходит по всему hello виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-174">Security infrastructure, in hello context of a vDC, is mainly related toohello segregation of traffic in hello vDC's specific virtual network segment, and how toocontrol ingress and egress flows throughout hello vDC.</span></span> <span data-ttu-id="7fcc4-175">Служба Azure основана на мультитенантной архитектуре, которая предотвращает несанкционированный и непреднамеренный трафик между развертываниями, используя изоляцию виртуальной сети (VNet), списки управления доступом (ACL), подсистемы балансировки нагрузки, IP-фильтры и политики потока трафика.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-175">Azure is based on multi-tenant architecture that prevents unauthorized and unintentional traffic between deployments, using Virtual Network (VNet) isolation, access control lists (ACLs), load balancers, and IP filters, along with traffic flow policies.</span></span> <span data-ttu-id="7fcc4-176">Преобразование сетевых адресов (NAT) отделяет внутренний и внешний сетевой трафик.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-176">Network address translation (NAT) separates internal network traffic from external traffic.</span></span>

<span data-ttu-id="7fcc4-177">Hello фабрике Azure распределяет ресурсы инфраструктуры tootenant рабочих нагрузок и управляет tooand связи из виртуальных машин (ВМ).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-177">hello Azure fabric allocates infrastructure resources tootenant workloads and manages communications tooand from virtual machines (VMs).</span></span> <span data-ttu-id="7fcc4-178">Hello Azure низкоуровневая оболочка обеспечивает выполнение памяти и процесса разделение между виртуальными машинами и безопасно маршруты сетевого трафика tooguest операционной системы клиентов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-178">hello Azure hypervisor enforces memory and process separation between VMs and securely routes network traffic tooguest OS tenants.</span></span>

##### <a name="connectivity-toohello-cloud"></a><span data-ttu-id="7fcc4-179">*Подключение toohello облака*</span><span class="sxs-lookup"><span data-stu-id="7fcc4-179">*Connectivity toohello cloud*</span></span>
<span data-ttu-id="7fcc4-180">Hello виртуального контроллера домена должен быть подключен с toocustomers служб toooffer внешних сетей, партнеров и/или внутренних пользователей.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-180">hello vDC needs connectivity with external networks toooffer services toocustomers, partners and/or internal users.</span></span> <span data-ttu-id="7fcc4-181">Как правило, означает подключение не только toohello Internet, но tooon локальных сетей и центрами обработки данных.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-181">This usually means connectivity not only toohello Internet, but also tooon-premises networks and data centers.</span></span>

<span data-ttu-id="7fcc4-182">Создание их toocontrol политики безопасности, что клиентам и как конкретного виртуального контроллера домена размещенной службы доступны в и из него hello Интернет с использованием виртуальных сетевых устройств (с помощью фильтрации и трафик проверки) и пользовательские политики маршрутизации и фильтрации (сети Определяемые пользователем маршрутизации и группы безопасности сети).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-182">Customers can build their security policies toocontrol what and how specific vDC hosted services are accessible to/from hello Internet using Network Virtual Appliances (with filtering and traffic inspection), and custom routing policies and network filtering (User Defined Routing and Network Security Groups).</span></span>

<span data-ttu-id="7fcc4-183">Предприятиям часто требуется центров обработки данных tooconnect создавать локальные tooon или других ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-183">Enterprises often need tooconnect vDCs tooon-premises data centers or other resources.</span></span> <span data-ttu-id="7fcc4-184">Hello подключение между Azure и локальной сетей таким образом является важным аспектом при проектировании эффективных архитектуры.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-184">hello connectivity between Azure and on-premises networks is therefore a crucial aspect when designing an effective architecture.</span></span> <span data-ttu-id="7fcc4-185">Предприятия имеют два разных способа toocreate взаимосвязь между виртуального контроллера домена и локальных в Azure: время передачи через Интернет hello и/или частные прямого подключения.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-185">Enterprises have two different ways toocreate an interconnection between vDC and on-premises in Azure: transit over hello Internet and/or by private direct connections.</span></span>

<span data-ttu-id="7fcc4-186">[ **Azure VPN сайтами** ] [ VPN] соединительной службы через hello Интернет между локальными сетями и зашифровываются постоянного тока hello, установленное с помощью безопасной соединения (туннели IPsec/IKE).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-186">An [**Azure Site-to-Site VPN**][VPN] is an interconnection service over hello Internet between on-premises networks and hello vDC, established through secure encrypted connections (IPsec/IKE tunnels).</span></span> <span data-ttu-id="7fcc4-187">Azure подключения сеть-сеть — гибкий и быстрого toocreate и не требует любые дальнейшие закупок, как все подключения подключиться через hello Интернет.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-187">Azure Site-to-Site connection is flexible, quick toocreate, and does not require any further procurement, as all connections connect over hello internet.</span></span>

<span data-ttu-id="7fcc4-188">[**ExpressRoute** ] [ ExR] — это служба подключения к Azure, которая позволяет создавать частные подключения между виртуального контроллера домена и hello локальным сетям.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-188">[**ExpressRoute**][ExR] is an Azure connectivity service that lets you create private connections between vDC and hello on-premises networks.</span></span> <span data-ttu-id="7fcc4-189">Подключения ExpressRoute не проходят через hello общедоступный Интернет и обеспечивают большую безопасность, надежность и более высокую скорость (вверх too10 Гбит/с) вместе с согласованной задержки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-189">ExpressRoute connections do not go over hello public Internet, and offer higher security, reliability, and higher speeds (up too10 Gbps) along with consistent latency.</span></span> <span data-ttu-id="7fcc4-190">ExpressRoute полезно создавать, как клиенты могут получить преимущества hello правила соответствия, связанные с частные подключения ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-190">ExpressRoute is very useful for vDCs, as ExpressRoute customers can get hello benefits of compliance rules associated with private connections.</span></span>

<span data-ttu-id="7fcc4-191">Развертывание подключений ExpressRoute требует участия поставщика услуг ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-191">Deploying ExpressRoute connections involves engaging with an ExpressRoute service provider.</span></span> <span data-ttu-id="7fcc4-192">Для клиентов, которым требуется быстро toostart он является распространенным применением tooinitially подключение через виртуальную Частную сеть для tooestablish между hello виртуального контроллера домена и локальных ресурсов и последующей миграции tooExpressRoute соединения.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-192">For customers that need toostart quickly, it is common tooinitially use Site-to-Site VPN tooestablish connectivity between hello vDC and on-premises resources, and then migrate tooExpressRoute connection.</span></span>

##### <a name="connectivity-within-hello-cloud"></a><span data-ttu-id="7fcc4-193">*Подключение в облаке hello*</span><span class="sxs-lookup"><span data-stu-id="7fcc4-193">*Connectivity within hello cloud*</span></span>
<span data-ttu-id="7fcc4-194">[Виртуальные сети] [ VNet] и [виртуальную сеть Пиринга] [ VNetPeering] являются hello основные сетевые подключения службы внутри виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-194">[VNets][VNet] and [VNet Peering][VNetPeering] are hello basic networking connectivity services inside a vDC.</span></span> <span data-ttu-id="7fcc4-195">Границам изоляции для виртуального контроллера домена ресурсов гарантирует виртуальную сеть и виртуальную сеть пиринга позволяет intercommunication между разных виртуальных сетей в рамках hello же регионе Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-195">A VNet guarantees a natural boundary of isolation for vDC resources, and VNet peering allows intercommunication between different VNets within hello same Azure region.</span></span> <span data-ttu-id="7fcc4-196">Управление потоком данных внутри виртуальной сети, а также между виртуальными сетями требуется toomatch набор правил безопасности задано с помощью списков управления доступом ([сетевой группы безопасности][NSG]), [виртуальных сетевых устройств ] [ NVA]и настраиваемые таблицы маршрутизации ([UDR][UDR]).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-196">Traffic control inside a VNet and between VNets need toomatch a set of security rules specified through Access Control Lists ([Network Security Group][NSG]), [Network Virtual Appliances][NVA], and custom routing tables ([UDR][UDR]).</span></span>

## <a name="virtual-data-center-overview"></a><span data-ttu-id="7fcc4-197">Обзор виртуального центра обработки данных</span><span class="sxs-lookup"><span data-stu-id="7fcc4-197">Virtual Data Center Overview</span></span>

### <a name="topology"></a><span data-ttu-id="7fcc4-198">Топология</span><span class="sxs-lookup"><span data-stu-id="7fcc4-198">Topology</span></span>
<span data-ttu-id="7fcc4-199">Концентратор и спицы модели расширенных hello виртуальной центра обработки данных в одном регионе Azure</span><span class="sxs-lookup"><span data-stu-id="7fcc4-199">Hub and spokes model extended hello Virtual Data Center within a single Azure region</span></span>

<span data-ttu-id="7fcc4-200">[![1]][1]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-200">[![1]][1]</span></span>

<span data-ttu-id="7fcc4-201">Hello концентратор является hello центра зоны, контролирующий и проверяет входящего и исходящего трафика между различным зонам: Интернета, в локальной среде и hello сектора.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-201">hello hub is hello central zone that controls and inspects ingress and/or egress traffic between different zones: Internet, on-premises, and hello spokes.</span></span> <span data-ttu-id="7fcc4-202">Hello Звездообразная топология предоставляет эффективный способ политики безопасности tooenforce в центральном расположении, hello ИТ-отдел снижает вероятность hello неправильную настройку и раскрытия.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-202">hello hub and spoke topology gives hello IT department an effective way tooenforce security policies in a central location, while reducing hello potential for misconfiguration and exposure.</span></span>

<span data-ttu-id="7fcc4-203">концентратор Hello содержит hello занятая спицы hello общие компоненты службы.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-203">hello hub contains hello common service components consumed by hello spokes.</span></span> <span data-ttu-id="7fcc4-204">Ниже приведены несколько стандартных примеров распространенных центральных служб:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-204">Here are a few typical examples of common central services:</span></span>

-   <span data-ttu-id="7fcc4-205">инфраструктура Windows Active Directory Hello (hello связанные службы ADFS) для проверки подлинности пользователя третьих лиц, доступ к ненадежным сетям до получения доступа к toohello рабочих нагрузок hello типа «звезда»</span><span class="sxs-lookup"><span data-stu-id="7fcc4-205">hello Windows Active Directory infrastructure (with hello related ADFS service) required for user authentication of third parties accessing from untrusted networks before getting access toohello workloads in hello spoke</span></span>
-   <span data-ttu-id="7fcc4-206">Служба DNS tooresolve об именовании рабочей нагрузки hello в hello спицы, tooaccess ресурсам локально и на hello Интернета</span><span class="sxs-lookup"><span data-stu-id="7fcc4-206">A DNS service tooresolve naming for hello workload in hello spokes, tooaccess resources on-premises and on hello Internet</span></span>
-   <span data-ttu-id="7fcc4-207">Инфраструктура PKI, tooimplement единого входа на рабочих нагрузках.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-207">A PKI infrastructure, tooimplement single sign-on on workloads</span></span>
-   <span data-ttu-id="7fcc4-208">Управление потоком (TCP/UDP) между спицы hello и Интернет</span><span class="sxs-lookup"><span data-stu-id="7fcc4-208">Flow control (TCP/UDP) between hello spokes and Internet</span></span>
-   <span data-ttu-id="7fcc4-209">Управление потоком между hello типа «звезда» и в локальной среде</span><span class="sxs-lookup"><span data-stu-id="7fcc4-209">Flow control between hello spoke and on-premises</span></span>
-   <span data-ttu-id="7fcc4-210">управление потоком между несколькими периферийными зонами при необходимости.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-210">If desired, flow control between one spoke and another</span></span>

<span data-ttu-id="7fcc4-211">Hello виртуального контроллера домена уменьшает общую стоимость с помощью инфраструктуры общего концентратора hello между несколькими сектора.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-211">hello vDC reduces overall cost by using hello shared hub infrastructure between multiple spokes.</span></span>

<span data-ttu-id="7fcc4-212">Hello роль каждого типа «звезда» может быть toohost типов рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-212">hello role of each spoke can be toohost different types of workloads.</span></span> <span data-ttu-id="7fcc4-213">Hello спицы можно также предоставить Модульный подход для развертываний repeatable (например, разработки и тестирования, пользовательского приемочного тестирования подготовительной и производственных) из hello же рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-213">hello spokes can also provide a modular approach for repeatable deployments (for example, dev and test, User Acceptance Testing, pre-production, and production) of hello same workloads.</span></span> <span data-ttu-id="7fcc4-214">спицы Hello можно также использовать toosegregate и включение различных групп в вашей организации (например, группы DevOps).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-214">hello spokes can also be used toosegregate and enable different groups within your organization (for example, DevOps groups).</span></span> <span data-ttu-id="7fcc4-215">Внутри типа «звезда» это возможно toodeploy основные рабочей нагрузки или сложные многоуровневые рабочие нагрузки с трафик управления между уровнями hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-215">Inside a spoke, it is possible toodeploy a basic workload or complex multi-tier workloads with traffic control between hello tiers.</span></span>

##### <a name="subscription-limits-and-multiple-hubs"></a><span data-ttu-id="7fcc4-216">Ограничения подписки и несколько центральных зон</span><span class="sxs-lookup"><span data-stu-id="7fcc4-216">Subscription limits and multiple hubs</span></span>
<span data-ttu-id="7fcc4-217">Каждый компонент, независимо от типа hello Azure, развернута в подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-217">In Azure, every component, whatever hello type, is deployed in an Azure Subscription.</span></span> <span data-ttu-id="7fcc4-218">Hello изоляции компонентов Azure в разных подписках Azure может удовлетворять требованиям hello различных больших объектов, таких как настройка дифференцированных уровней доступа и авторизации.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-218">hello isolation of Azure components in different Azure subscriptions can satisfy hello requirements of different LOBs, such as setting up differentiated levels of access and authorization.</span></span>

<span data-ttu-id="7fcc4-219">Одного виртуального контроллера домена можно увеличивать масштаб toolarge число спицы, несмотря на то что, как и в каждой системе ИТ платформы ограничений нет.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-219">A single vDC can scale up toolarge number of spokes, although, as with every IT system, there are platforms limits.</span></span> <span data-ttu-id="7fcc4-220">Hello концентратора развертывается привязанного tooa определенной подписке Azure, имеющий ограничения и ограничения (например, максимальное количество виртуальной сети пиринги - см [подписка Azure и ограничения служб, квоты и ограничения] [ Limits] подробные сведения).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-220">hello hub deployment is bound tooa specific Azure subscription, which has restrictions and limits (for example, a max number of VNet peerings - see [Azure subscription and service limits, quotas, and constraints][Limits] for details).</span></span> <span data-ttu-id="7fcc4-221">В случаях, когда ограничения может быть проблемой, архитектура hello можно масштабировать до не ограничиваются расширение модели hello из кластера tooa одного концентратора спицы концентратора и сектора.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-221">In cases where limits may be an issue, hello architecture can scale up further by extending hello model from a single hub-spokes tooa cluster of hub and spokes.</span></span> <span data-ttu-id="7fcc4-222">Несколько концентраторов в одном или нескольких регионах Azure могут быть взаимосвязаны с помощью подключения Express Route или VPN типа "сеть — сеть".</span><span class="sxs-lookup"><span data-stu-id="7fcc4-222">Multiple hubs in one or more Azure regions can be interconnected using Express Route or site-to-site VPN.</span></span>

<span data-ttu-id="7fcc4-223">[![2]][2]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-223">[![2]][2]</span></span>

<span data-ttu-id="7fcc4-224">Hello введение нескольких концентраторов увеличивает hello затрат и управления трудозатрат системы hello и будет только выравнивание по ширине путем масштабируемости (примеры: ограничения системы или избыточности) и язык репликации (примеры: производительности или аварийного восстановления для конечных пользователей).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-224">hello introduction of multiple hubs increases hello cost and management effort of hello system and would only be justified by scalability (examples: system limits or redundancy) and regional replication (examples: end-user performance or disaster recovery).</span></span> <span data-ttu-id="7fcc4-225">В сценарии, требующие использования нескольких концентраторы всех концентраторов hello следует стремиться hello toooffer же набор служб для упрощения рабочей.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-225">In scenarios requiring multiple hubs, all hello hubs should strive toooffer hello same set of services for operational ease.</span></span>

##### <a name="interconnection-between-spokes"></a><span data-ttu-id="7fcc4-226">Взаимодействие между периферийными зонами</span><span class="sxs-lookup"><span data-stu-id="7fcc4-226">Interconnection between spokes</span></span>
<span data-ttu-id="7fcc4-227">Внутри одной говорили это возможно tooimplement сложных рабочих нагрузок с несколькими уровнями.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-227">Inside a single spoke, it is possible tooimplement complex multi-tiers workloads.</span></span> <span data-ttu-id="7fcc4-228">Многоуровневые конфигураций может осуществляться с помощью подсетей (по одному для каждого уровня) в одной виртуальной сети и фильтрации hello передаются с помощью Nsg hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-228">Multi-tier configurations can be implemented using subnets (one for every tier) in hello same VNet and filtering hello flows using NSGs.</span></span>

<span data-ttu-id="7fcc4-229">На Здравствуйте другой стороны, архитектор может потребоваться toodeploy многоуровневые рабочей нагрузки между несколькими виртуальными сетями.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-229">On hello other hand, an architect may want toodeploy a multi-tier workload across multiple VNets.</span></span> <span data-ttu-id="7fcc4-230">С помощью пиринговой виртуальной сети, спицы подключения спицы tooother в hello одному концентратору или другой концентраторов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-230">Using VNet peering, spokes can connect tooother spokes in hello same hub or different hubs.</span></span> <span data-ttu-id="7fcc4-231">Типичный пример такого сценария ситуация hello серверов приложений обработки которых в один звезда (VNet), при развертывании базы данных hello в разных звезда (VNet).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-231">A typical example of this scenario is hello case where application processing servers are in one spoke (VNet), while hello database is deployed in a different spoke (VNet).</span></span> <span data-ttu-id="7fcc4-232">В этом случае является просто toointerconnect спицы hello с пиринг виртуальной сети и тем самым избежать transiting через концентратор приветствия.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-232">In this case, it is easy toointerconnect hello spokes with VNet peering and thereby avoid transiting through hello hub.</span></span> <span data-ttu-id="7fcc4-233">Тщательная проверка архитектуры и безопасности должно быть выполнено tooensure, обход концентратор приветствия не обойти системы безопасности или аудита точки, которые могут существовать только в концентраторе hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-233">A careful architecture and security review should be performed tooensure that bypassing hello hub doesn’t bypass important security or auditing points that may only exist in hello hub.</span></span>

<span data-ttu-id="7fcc4-234">[![3]][3]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-234">[![3]][3]</span></span>

<span data-ttu-id="7fcc4-235">Спицы также может быть взаимосвязанных tooa звезда, который выступает в качестве единой консоли.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-235">Spokes can also be interconnected tooa spoke that acts as a hub.</span></span> <span data-ttu-id="7fcc4-236">Этот подход создает двух уровнях: hello звезда hello более высокого уровня (уровень 0) становятся hello концентратор нижней спицы (уровень 1) hello иерархии.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-236">This approach creates a two-level hierarchy: hello spoke in hello higher level (level 0) become hello hub of lower spokes (level 1) of hello hierarchy.</span></span> <span data-ttu-id="7fcc4-237">спицы Hello объекта виртуального контроллера домена должны tooreach tooforward hello трафика toohello центральный toohello локальную сеть или Интернет.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-237">hello spokes of vDC need tooforward hello traffic toohello central hub tooreach out either toohello on-premises network or internet.</span></span> <span data-ttu-id="7fcc4-238">Архитектуру с двумя уровнями концентратора вводит сложных маршрутизация, которая удаляет hello преимущества простой звезда связи.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-238">An architecture with two levels of hub introduces complex routing that removes hello benefits of a simple hub-spoke relationship.</span></span>

<span data-ttu-id="7fcc4-239">Несмотря на то, что Azure предоставляет сложные топологии, одним из основных принципов hello hello Концепция виртуального контроллера домена является повторяемости и простоты.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-239">Although Azure allows complex topologies, one of hello core principles of hello vDC concept is repeatability and simplicity.</span></span> <span data-ttu-id="7fcc4-240">toominimize управления усилиями hello простой звезда является hello рекомендуется Эталонная архитектура виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-240">toominimize management effort, hello simple hub-spoke design is hello recommended vDC reference architecture.</span></span>

### <a name="components"></a><span data-ttu-id="7fcc4-241">Компоненты</span><span class="sxs-lookup"><span data-stu-id="7fcc4-241">Components</span></span>
<span data-ttu-id="7fcc4-242">Виртуальный центр обработки данных состоит из четырех базовых типов компонентов: **инфраструктуры**, **сетей периметра**, **рабочих нагрузок** и **мониторинга**.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-242">A Virtual Data Center is made up of four basic component types: **Infrastructure**, **Perimeter Networks**, **Workloads**, and **Monitoring**.</span></span>

<span data-ttu-id="7fcc4-243">Каждый тип компонента состоит из различных функций и ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-243">Each component type consists of various Azure features and resources.</span></span> <span data-ttu-id="7fcc4-244">Ваш виртуального контроллера домена состоит из экземпляров нескольких типов компонентов и различные версии hello же тип компонента.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-244">Your vDC is made up of instances of multiple components types and multiple variations of hello same component type.</span></span> <span data-ttu-id="7fcc4-245">Например, у вас может быть много разных, логически разделенных экземпляров рабочей нагрузки, представляющих разные приложения.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-245">For instance, you may have many different, logically separated, workload instances that represent different applications.</span></span> <span data-ttu-id="7fcc4-246">Использовать эти компоненты различных типов и экземпляров tooultimately сборки hello виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-246">You use these different component types and instances tooultimately build hello vDC.</span></span>

<span data-ttu-id="7fcc4-247">[![4]][4]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-247">[![4]][4]</span></span>

<span data-ttu-id="7fcc4-248">Hello выше высокоуровневая архитектура виртуального контроллера домена показаны компоненты различных типов, которые используются в различных зонах топологии hello спицы концентратора.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-248">hello preceding high-level architecture of a vDC shows different component types used in different zones of hello hub-spokes topology.</span></span> <span data-ttu-id="7fcc4-249">Hello диаграмме показаны компоненты инфраструктуры в различные части архитектура hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-249">hello diagram shows infrastructure components in various parts of hello architecture.</span></span>

<span data-ttu-id="7fcc4-250">Как показывает опыт (для локального центра обработки данных или виртуального центра обработки данных), права доступа и привилегии должны предоставляться на основе группы.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-250">As a good practice (for an on-premises DC or vDC) access rights and privileges should be group-based.</span></span> <span data-ttu-id="7fcc4-251">Работа с группами, а не отдельными пользователями, позволит обеспечить согласованность политик доступа между группами, а также минимизировать ошибки конфигурации.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-251">Dealing with groups, instead of individual users helps maintaining access policies consistently across teams and aids in minimizing configuration errors.</span></span> <span data-ttu-id="7fcc4-252">Назначение и удаление пользователей tooand из соответствующих групп помогает обновление hello права определенного пользователя.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-252">Assigning and removing users tooand from appropriate groups helps keeping hello privileges of a specific user up-to-date.</span></span>

<span data-ttu-id="7fcc4-253">Каждая группа роль должна иметь уникальный префикс по их именам, что позволяет легко tooidentify какой группе связан с какой рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-253">Each role group should have a unique prefix on their names making it easy tooidentify which group is associated with which workload.</span></span> <span data-ttu-id="7fcc4-254">Например, рабочая нагрузка, размещающая службы проверки подлинности, должна содержать группы с именами *AuthServiceNetOps, AuthServiceSecOps, AuthServiceDevOps и AuthServiceInfraOps.*</span><span class="sxs-lookup"><span data-stu-id="7fcc4-254">For instance, a workload hosting an authentication service might have groups named *AuthServiceNetOps, AuthServiceSecOps, AuthServiceDevOps, and AuthServiceInfraOps.*</span></span> <span data-ttu-id="7fcc4-255">Аналогичным образом для централизованного роли, или не связанные с конкретной службой tooa, может стоять «Corp» *CorpNetOps* например.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-255">Likewise for centralized roles, or roles not related tooa specific service, could be prefaced with “Corp”, *CorpNetOps* for example.</span></span>

<span data-ttu-id="7fcc4-256">Многие организации используют разновидность hello следующие группы tooprovide основных разделение ролей:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-256">Many organizations use a variation of hello following groups tooprovide a major breakdown of roles:</span></span>

-   <span data-ttu-id="7fcc4-257">Hello *центральная ИТ-группа (Corp)* состоит из компонентов инфраструктуры (например, сети и безопасности) toocontrol права владения hello и таким образом требуется toohave hello роль участника в подписке hello (и иметь доступ к концентратор приветствия) и сетевых права участника в спицы hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-257">hello *central IT group (Corp)* has hello ownership rights toocontrol infrastructure (such as networking and security) components, and therefore needs toohave hello role of contributor on hello subscription (and have control of hello hub) and network contributor rights in hello spokes.</span></span> <span data-ttu-id="7fcc4-258">Большая организация часто разделяет эти обязанности управления между несколькими группами, например группой по выполнению сетевых операций (CorpNetOps) (уделяя исключительное внимание сетевым службам) и группой по выполнению операций безопасности (CorpSecOps) (отвечающей за политики безопасности и брандмауэра).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-258">Large organization frequently split up these management responsibilities between multiple teams such as; a Network Operations (CorpNetOps) group (with exclusive focus on networking) and a Security Operations (CorpSecOps) group (responsible for firewall and security policy).</span></span> <span data-ttu-id="7fcc4-259">В этом конкретном случае двум разным группам должны toobe, созданных для назначения этих пользовательских ролей.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-259">In this specific case, two different groups need toobe created for assignment of these custom roles.</span></span>
-   <span data-ttu-id="7fcc4-260">Hello *разработки & группа тестирования (AppDevOps)* имеет hello ответственности toodeploy рабочих нагрузок (приложения или службы).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-260">hello *dev & test (AppDevOps) group* has hello responsibility toodeploy workloads (Apps or Services).</span></span> <span data-ttu-id="7fcc4-261">Эта группа имеет hello участника виртуальной машины для развертывания IaaS или один или несколько участников PaaS ролей (в разделе [встроенных ролей для контроля доступа][Roles]).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-261">This group takes hello role of Virtual Machine Contributor for IaaS deployments and/or one or more PaaS contributor’s roles (see [Built-in roles for Azure Role-Based Access Control][Roles]).</span></span> <span data-ttu-id="7fcc4-262">При необходимости hello dev & команда тестирования может потребоваться видимость toohave на политики безопасности (Nsg) и политик маршрутизации (UDR) внутри концентратора hello или конкретного резервного.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-262">Optionally hello dev & test team may need toohave visibility on security policies (NSGs) and routing policies (UDR) inside hello hub or a specific spoke.</span></span> <span data-ttu-id="7fcc4-263">Таким образом в Добавление роли toohello участника для рабочих нагрузок, эта группа также требуется роль hello сетевого средства чтения.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-263">Therefore, in addition toohello roles of contributor for workloads, this group would also need hello role of Network Reader.</span></span>
-   <span data-ttu-id="7fcc4-264">Hello *операции и обслуживание группы (CorpInfraOps AppInfraOps)* имеют hello ответственность за управление рабочих нагрузок в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-264">hello *operation and maintenance group (CorpInfraOps or AppInfraOps)* have hello responsibility of managing workloads in production.</span></span> <span data-ttu-id="7fcc4-265">Эта группа должна toobe участника подписки на рабочие процессы в любых подписок производства.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-265">This group needs toobe a subscription contributor on workloads in any production subscriptions.</span></span> <span data-ttu-id="7fcc4-266">В некоторых организациях может также вычислять в случае необходимости группы дополнительных укрупнения поддержки группы с ролью hello участника подписки в рабочей среде и в центральный подписки hello в порядке toofix потенциальные проблемы с конфигурацией в рабочей среде hello Среда.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-266">Some organizations might also evaluate if they need an additional escalation support team group with hello role of subscription contributor in production and in hello central hub subscription, in order toofix potential configuration issues in hello production environment.</span></span>

<span data-ttu-id="7fcc4-267">Таким образом, что группы, созданные для hello центра ИТ-отделов управление концентратора hello соответствующие группы рабочей нагрузки на уровне hello структурированный виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-267">A vDC is structured so that groups created for hello central IT groups managing hello hub have corresponding groups at hello workload level.</span></span> <span data-ttu-id="7fcc4-268">В дополнение к этому toomanaging концентратора ресурсы только hello центра ИТ-отделов будет внешнего доступа может toocontrol и верхнего уровня разрешений для hello подписки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-268">In addition toomanaging hub resources only hello central IT groups would be able toocontrol external access and top-level permissions on hello subscription.</span></span> <span data-ttu-id="7fcc4-269">Однако группы рабочей нагрузки будет может toocontrol ресурсы, а также разрешения своей виртуальной сети независимо друг от друга в центре ИТ.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-269">However, workload groups would be able toocontrol resources and permissions of their VNet independently on Central IT.</span></span>

<span data-ttu-id="7fcc4-270">toobe потребности Hello виртуального контроллера домена секционированные toosecurely узла несколько проектов в пределах другой строки из бизнесе (LOB).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-270">hello vDC needs toobe partitioned toosecurely host multiple projects across different Line-of-Businesses (LOBs).</span></span> <span data-ttu-id="7fcc4-271">Всем проектам необходимы разные изолированные среды (разработки, UAT, рабочая среда).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-271">All projects require different isolated environments (Dev, UAT, production).</span></span> <span data-ttu-id="7fcc4-272">Отдельные подписки Azure для каждой из этих сред обеспечивают естественную изоляцию.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-272">Separate Azure subscriptions for each of these environments provide natural isolation.</span></span>

<span data-ttu-id="7fcc4-273">[![5]][5]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-273">[![5]][5]</span></span>

<span data-ttu-id="7fcc4-274">Hello предыдущей схеме показаны hello связь между проектами организации, пользователи, группы и hello средах, где hello Azure компоненты развертываются.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-274">hello preceding diagram shows hello relationship between an organization's projects, users, groups, and hello environments where hello Azure components are deployed.</span></span>

<span data-ttu-id="7fcc4-275">Обычно в сфере ИТ среда (или уровень) представляет систему, в которой развертываются и выполняются несколько приложений.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-275">Typically in IT, an environment (or tier) is a system in which multiple applications are deployed and executed.</span></span> <span data-ttu-id="7fcc4-276">Крупные предприятия используют среду разработки (в которой формируются и тестируются изменения) и рабочую среду (которую используют пользователи).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-276">Large enterprises use a development environment (where changes originally made and tested) and a production environment (what end-users use).</span></span> <span data-ttu-id="7fcc4-277">Эти среды разделены, часто несколько промежуточных сред между ними tooallow двухэтапного развертывания (развертывания), тестирование и отката в случае возникновении проблем.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-277">Those environments are separated, often with several staging environments in between them tooallow phased deployment (rollout), testing, and rollback in case of problems.</span></span> <span data-ttu-id="7fcc4-278">Архитектуры развертывания сильно различаться, но обычно по-прежнему идет процесс basic hello начиная с разработки (DEV) и заканчивается в рабочей среде (PROD).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-278">Deployment architectures vary significantly, but usually hello basic process of starting at development (DEV) and ending at production (PROD) is still followed.</span></span>

<span data-ttu-id="7fcc4-279">Общая архитектура для этих типов многоуровневых сред состоит из DevOps (разработка и тестирование), UAT (промежуточная среда) и рабочих сред.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-279">A common architecture for these types of multi-tier environments consists of DevOps (development and testing), UAT (staging), and production environments.</span></span> <span data-ttu-id="7fcc4-280">Организации могут использовать один или несколько Azure AD клиентам toodefine доступ и права toothese средах.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-280">Organizations can leverage single or multiple Azure AD tenants toodefine access and rights toothese environments.</span></span> <span data-ttu-id="7fcc4-281">Hello предыдущей диаграмме показана ситуация, где два разных клиентов Azure AD используются: один для DevOps и UAT и hello других исключительно для рабочей среды.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-281">hello previous diagram shows a case where two different Azure AD tenants are used: one for DevOps and UAT, and hello other exclusively for production.</span></span>

<span data-ttu-id="7fcc4-282">Здравствуйте, наличие из другой Azure AD клиентов обеспечивает разделение hello между средами.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-282">hello presence of different Azure AD tenants enforces hello separation between environments.</span></span> <span data-ttu-id="7fcc4-283">Здравствуйте, одной группе пользователей (например, центральный ИТ) должен tooauthenticate, с помощью различных tooaccess URI другой клиент AD изменить hello ролей или разрешения либо hello DevOps или рабочих сред проекта.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-283">hello same group of users (as an example, Central IT) needs tooauthenticate using a different URI tooaccess a different AD tenant modify hello roles or permissions of either hello DevOps or production environments of a project.</span></span> <span data-ttu-id="7fcc4-284">наличие Hello другого пользователя проверки подлинности tooaccess различных сред уменьшает возможные простои и других проблем, вызванных человеческой ошибки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-284">hello presence of different user authentication tooaccess different environments reduces possible outages and other issues caused by human errors.</span></span>

#### <a name="component-type-infrastructure"></a><span data-ttu-id="7fcc4-285">Тип компонента: инфраструктура</span><span class="sxs-lookup"><span data-stu-id="7fcc4-285">Component Type: Infrastructure</span></span>
<span data-ttu-id="7fcc4-286">Этот тип компонента здесь размещается большинство hello поддерживать инфраструктуру.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-286">This component type is where most of hello supporting infrastructure resides.</span></span> <span data-ttu-id="7fcc4-287">Здесь также проводят большую часть времени группы централизованной ИТ-инфраструктуры и группы по обеспечению соответствия требованиям и безопасности.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-287">It's also where your centralized IT, Security, and/or Compliance teams spend most of their time.</span></span>

<span data-ttu-id="7fcc4-288">[![6]][6]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-288">[![6]][6]</span></span>

<span data-ttu-id="7fcc4-289">Компоненты инфраструктуры обеспечивают взаимодействие между различными компонентами hello виртуального контроллера домена и присутствуют в концентратор hello и спицы hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-289">Infrastructure components provide an interconnection between hello different components of a vDC, and are present in both hello hub and hello spokes.</span></span> <span data-ttu-id="7fcc4-290">Hello ответственность за управление и обслуживание компонентов инфраструктуры hello обычно назначается toohello центральный ИТ и/или группы безопасности.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-290">hello responsibility for managing and maintaining hello infrastructure components is typically assigned toohello central IT and/or security team.</span></span>

<span data-ttu-id="7fcc4-291">Одна из hello основные задачи hello группы ИТ-инфраструктуры — tooguarantee hello согласованности IP адрес схем предприятии hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-291">One of hello primary tasks of hello IT infrastructure team is tooguarantee hello consistency of IP address schemas across hello enterprise.</span></span> <span data-ttu-id="7fcc4-292">Hello частного IP адрес пространство, назначенное toohello виртуального контроллера домена должен toobe согласованной и не совпадает с частных IP-адресов, назначенных в локальных сетях.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-292">hello private IP address space assigned toohello vDC needs toobe consistent and NOT overlapping with private IP addresses assigned on your on-premises networks.</span></span>

<span data-ttu-id="7fcc4-293">NAT на hello локальных маршрутизаторов края либо в Azure средах можно избежать конфликтов IP-адресов, хотя он добавляет компоненты инфраструктуры tooyour сложностей.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-293">While NAT on hello on-premises edge routers or in Azure environments can avoid IP address conflicts, it adds complications tooyour infrastructure components.</span></span> <span data-ttu-id="7fcc4-294">Простота управления является одним из основных целей hello виртуального контроллера домена, поэтому использование NAT toohandle IP проблемы не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-294">Simplicity of management is one of hello key goals of vDC, so using NAT toohandle IP concerns is not a recommended solution.</span></span>

<span data-ttu-id="7fcc4-295">Компоненты инфраструктуры содержат hello следующие функциональные возможности:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-295">Infrastructure components contain hello following functionality:</span></span>

-   <span data-ttu-id="7fcc4-296">[**Службы удостоверений и каталогов**][AAD].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-296">[**Identity and directory services**][AAD].</span></span> <span data-ttu-id="7fcc4-297">Тип ресурса tooevery доступа в Azure управляется удостоверение, хранящиеся в службе каталогов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-297">Access tooevery resource type in Azure is controlled by an identity stored in a directory service.</span></span> <span data-ttu-id="7fcc4-298">Служба хранилища данных каталога Hello не только hello список пользователей, но также hello tooresources прав доступа в определенной подписке Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-298">hello directory service stores not only hello list of users, but also hello access rights tooresources in a specific Azure subscription.</span></span> <span data-ttu-id="7fcc4-299">Эти службы могут существовать только в облаке или их можно синхронизировать с локальным удостоверением, хранящимся в Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-299">These services can exist cloud-only, or they can be synchronized with on-premises identity stored in Active Directory.</span></span>
-   <span data-ttu-id="7fcc4-300">[**Виртуальная сеть**][VPN].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-300">[**Virtual Network**][VPN].</span></span> <span data-ttu-id="7fcc4-301">Виртуальные сети — это одна из основных компонентов виртуального контроллера домена и включить toocreate границы изоляции трафика на hello платформы Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-301">Virtual Networks are one of main components of a vDC, and enable you toocreate a traffic isolation boundary on hello Azure platform.</span></span> <span data-ttu-id="7fcc4-302">Виртуальная сеть состоит из одного или нескольких сегментов виртуальной сети, каждый из которых содержит определенный сетевой префикс IP-адреса (подсеть).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-302">A Virtual Network is composed of a single or multiple virtual network segments, each with a specific IP network prefix (a subnet).</span></span> <span data-ttu-id="7fcc4-303">Hello виртуальной сети определяет область внутреннего периметра, где виртуальные машины IaaS и PaaS службы можно установить конфиденциальные сообщения.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-303">hello Virtual Network defines an internal perimeter area where IaaS virtual machines and PaaS services can establish private communications.</span></span> <span data-ttu-id="7fcc4-304">Виртуальные машины (и служб PaaS) в одной виртуальной сети не могут взаимодействовать напрямую tooVMs (и служб PaaS) в другую виртуальную сеть, даже если обе виртуальные сети создаются с hello того же клиента, в разделе hello одной подписке.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-304">VMs (and PaaS services) in one virtual network cannot communicate directly tooVMs (and PaaS services) in a different virtual network, even if both virtual networks are created by hello same customer, under hello same subscription.</span></span> <span data-ttu-id="7fcc4-305">Это критически важное свойство, которое гарантирует, что виртуальные машины и все коммуникации клиента останутся закрытыми в пределах виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-305">Isolation is a critical property that ensures customer VMs and communication remains private within a virtual network.</span></span>
-   <span data-ttu-id="7fcc4-306">[**UDR**][UDR].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-306">[**UDR**][UDR].</span></span> <span data-ttu-id="7fcc4-307">По умолчанию на основе таблицы маршрутизации системы hello перенаправляется трафик в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-307">Traffic in a Virtual Network is routed by default based on hello system routing table.</span></span> <span data-ttu-id="7fcc4-308">Пользователь определить маршрут — настраиваемые таблицы маршрутизации, администраторы сети можно связать tooone или несколько подсетей toooverwrite hello поведение таблицы маршрутизации системы hello и определить пути обмена данными между виртуальной сетью.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-308">A User Define Route is a custom routing table that network administrators can associate tooone or more subnets toooverwrite hello behavior of hello system routing table and define a communication path within a virtual network.</span></span> <span data-ttu-id="7fcc4-309">Hello наличие UDRs гарантирует, что исходящий трафик из передачи типа «звезда» hello по определенных пользовательских виртуальных машин или виртуальных сетевых устройств и присутствует в концентратор hello и спицы hello подсистемы балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-309">hello presence of UDRs guarantees that egress traffic from hello spoke transit through specific custom VMs and/or Network Virtual Appliances and load balancers present in hello hub and in hello spokes.</span></span>
-   <span data-ttu-id="7fcc4-310">[**Группа безопасности сети (NSG)**][NSG].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-310">[**NSG**][NSG].</span></span> <span data-ttu-id="7fcc4-311">Группа безопасности сети представляет список правил безопасности, которые действуют как фильтрация трафика для источников IP-адреса, назначения IP-адреса, протоколов, портов источника IP-адреса и портов назначения IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-311">A Network Security Group is a list of security rules that act as traffic filtering on IP Sources, IP Destination, Protocols, IP Source Ports, and IP Destination ports.</span></span> <span data-ttu-id="7fcc4-312">Hello NSG может быть применен tooa подсети, карты виртуальный сетевой Адаптер, связанный с виртуальной Машины Azure, или оба.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-312">hello NSG can be applied tooa subnet, a Virtual NIC card associated with an Azure VM, or both.</span></span> <span data-ttu-id="7fcc4-313">Hello Nsg являются основные tooimplement правильный поток управления в концентраторе hello и спицы hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-313">hello NSGs are essential tooimplement a correct flow control in hello hub and in hello spokes.</span></span> <span data-ttu-id="7fcc4-314">уровень безопасности, обеспечиваемая hello NSG Hello — это функция, открыть порты, а для какой цели.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-314">hello level of security afforded by hello NSG is a function of which ports you open, and for what purpose.</span></span> <span data-ttu-id="7fcc4-315">Пользователи должны применять фильтры дополнительных ВМ с брандмауэры например утилита IPtables или hello брандмауэра Windows.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-315">Customers should apply additional per-VM filters with host-based firewalls such as IPtables or hello Windows Firewall.</span></span>
-   <span data-ttu-id="7fcc4-316">**DNS**.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-316">**DNS**.</span></span> <span data-ttu-id="7fcc4-317">разрешение имен Hello ресурсов в hello виртуальных сетей для виртуального контроллера домена предоставляется через DNS.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-317">hello name resolution of resources in hello VNets of a vDC is provided through DNS.</span></span> <span data-ttu-id="7fcc4-318">область Hello разрешение имен по умолчанию hello DNS — ограниченный toohello виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-318">hello scope of name resolution of hello default DNS is limited toohello VNet.</span></span> <span data-ttu-id="7fcc4-319">Как правило пользовательскую службу DNS должен toobe, развернутые в концентраторе hello как часть общих служб, однако hello основных потребителей службы DNS находятся в hello типа «звезда».</span><span class="sxs-lookup"><span data-stu-id="7fcc4-319">Usually, a custom DNS service needs toobe deployed in hello hub as part of common services, but hello main consumers of DNS services reside in hello spoke.</span></span> <span data-ttu-id="7fcc4-320">При необходимости клиентов можно создать иерархическую структуру DNS с делегирование спицы toohello зон DNS.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-320">If necessary, customers can create a hierarchical DNS structure with delegation of DNS zones toohello spokes.</span></span>
-   <span data-ttu-id="7fcc4-321">[**Подписка][SubMgmt] и [управление группой ресурсов][RGMgmt]**.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-321">[**Subscription][SubMgmt] and [Resource Group Management][RGMgmt]**.</span></span> <span data-ttu-id="7fcc4-322">Подписка определяет toocreate границам несколько групп ресурсов в Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-322">A subscription defines a natural boundary toocreate multiple groups of resources in Azure.</span></span> <span data-ttu-id="7fcc4-323">Ресурсы в подписке собраны вместе в логические контейнеры, которые называются группами ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-323">Resources in a subscription are assembled together in logical containers named Resource Groups.</span></span> <span data-ttu-id="7fcc4-324">Группа ресурсов Hello представляет логическую группу tooorganize hello ресурсы виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-324">hello Resource Group represents a logical group tooorganize hello resources of a vDC.</span></span>
-   <span data-ttu-id="7fcc4-325">[**RBAC**][RBAC].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-325">[**RBAC**][RBAC].</span></span> <span data-ttu-id="7fcc4-326">Через RBAC это роль в организации возможных toomap вместе с правами tooaccess определенные ресурсы Azure, позволяя вам toorestrict пользователей tooonly подмножество действий.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-326">Through RBAC, it is possible toomap organizational role along with rights tooaccess specific Azure resources, allowing you toorestrict users tooonly a certain subset of actions.</span></span> <span data-ttu-id="7fcc4-327">С помощью РОЛЕЙ могут предоставлять доступ путем назначения toousers hello соответствующей роли, группы и приложения в соответствующие области hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-327">With RBAC, you can grant access by assigning hello appropriate role toousers, groups, and applications within hello relevant scope.</span></span> <span data-ttu-id="7fcc4-328">Hello область назначения роли может быть подписка Azure, группу ресурсов или один ресурс.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-328">hello scope of a role assignment can be an Azure subscription, a resource group, or a single resource.</span></span> <span data-ttu-id="7fcc4-329">RBAC разрешает наследование разрешений.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-329">RBAC allows inheritance of permissions.</span></span> <span data-ttu-id="7fcc4-330">Роль, назначенная в родительской области предоставляет доступ toohello дочерних элементов, содержащихся в нем.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-330">A role assigned at a parent scope also grants access toohello children contained within it.</span></span> <span data-ttu-id="7fcc4-331">RBAC можно разделять обязанностей и предоставить только hello объем toousers доступа, необходимых tooperform свою работу.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-331">Using RBAC, you can segregate duties and grant only hello amount of access toousers that they need tooperform their jobs.</span></span> <span data-ttu-id="7fcc4-332">Например, используйте RBAC toolet одного сотрудника управления виртуальными машинами в подписки, а другой можно управлять баз данных SQL Server в рамках hello одной подписке.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-332">For example, use RBAC toolet one employee manage virtual machines in a subscription, while another can manage SQL DBs within hello same subscription.</span></span>
-   <span data-ttu-id="7fcc4-333">[**Пиринговая связь между виртуальными сетями**][VNetPeering].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-333">[**VNet Peering**][VNetPeering].</span></span> <span data-ttu-id="7fcc4-334">Hello основная функция используется toocreate hello инфраструктура виртуального контроллера домена остается Пиринг виртуальной сети, механизм, который соединяет два виртуальных сетей (Vnet) в hello одного региона через сеть центра обработки данных Azure hello hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-334">hello fundamental feature used toocreate hello infrastructure of a vDC is VNet Peering, a mechanism that connects two virtual networks (VNets) in hello same region through hello network of hello Azure data center.</span></span>

#### <a name="component-type-perimeter-networks"></a><span data-ttu-id="7fcc4-335">Тип компонента: сети периметра</span><span class="sxs-lookup"><span data-stu-id="7fcc4-335">Component Type: Perimeter Networks</span></span>
<span data-ttu-id="7fcc4-336">[Сеть периметра] [ DMZ] компонентов (также известный как сеть DMZ) позволяют tooprovide сетевое соединение с локальным или сети центра обработки данных в физической, вместе с любой tooand подключения из Интернета hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-336">[Perimeter network][DMZ] components (also known as a DMZ network) allow you tooprovide network  connectivity with your on-premises or physical data center networks, along with any connectivity tooand from hello Internet.</span></span> <span data-ttu-id="7fcc4-337">Сетевые группы и группы по обеспечению безопасности также проводят здесь большую часть времени.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-337">It's also where your network and security teams likely spend most of their time.</span></span>

<span data-ttu-id="7fcc4-338">Входящих пакетов должен проходить hello устройства для обеспечения безопасности в концентраторе hello, например hello брандмауэра, Идентификаторы и IP-адресов, до достижения hello серверы в спицы hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-338">Incoming packets should flow through hello security appliances in hello hub, such as hello firewall, IDS, and IPS, before reaching hello back-end servers in hello spokes.</span></span> <span data-ttu-id="7fcc4-339">Пакеты Интернета из рабочих нагрузок hello должен также проходить hello-устройства для обеспечения безопасности в сети периметра hello для принудительного применения политики, проверки и проверки перед выходом из сети hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-339">Internet-bound packets from hello workloads should also flow through hello security appliances in hello perimeter network for policy enforcement, inspection, and auditing purposes, before leaving hello network.</span></span>

<span data-ttu-id="7fcc4-340">Компоненты сети периметра предоставляют hello следующие атрибуты:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-340">Perimeter network components provide hello following features:</span></span>

-   <span data-ttu-id="7fcc4-341">[Виртуальные сети][VNet], [UDR][UDR], [NSG][NSG].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-341">[Virtual Networks][VNet], [UDR][UDR], [NSG][NSG]</span></span>
-   <span data-ttu-id="7fcc4-342">[Виртуальные сетевые модули][NVA].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-342">[Network Virtual Appliance][NVA]</span></span>
-   <span data-ttu-id="7fcc4-343">[Подсистема балансировки нагрузки][ALB].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-343">[Load Balancer][ALB]</span></span>
-   <span data-ttu-id="7fcc4-344">[Шлюз приложения][AppGW] / [WAF][WAF].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-344">[Application Gateway][AppGW] / [WAF][WAF]</span></span>
-   <span data-ttu-id="7fcc4-345">[Общедоступные IP-адреса][PIP].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-345">[Public IPs][PIP]</span></span>

<span data-ttu-id="7fcc4-346">Как правило, hello центра ИТ и групп безопасности, есть ответственность за определение требования и операции hello сети периметра.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-346">Usually, hello central IT and security teams have responsibility for requirement definition and operations of hello perimeter networks.</span></span>

<span data-ttu-id="7fcc4-347">[![7]][7]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-347">[![7]][7]</span></span>

<span data-ttu-id="7fcc4-348">Hello предыдущей схеме показаны hello применения двух периметра с доступом toohello Интернета и из локальной сети, оба находятся в концентратор приветствия.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-348">hello preceding diagram shows hello enforcement of two perimeters with access toohello internet and an on-premises network, both resident in hello hub.</span></span> <span data-ttu-id="7fcc4-349">В одном концентраторе toointernet сети периметра hello можно увеличивать масштаб toosupport большое число больших объектов, с помощью нескольких ферм брандмауэры приложений Web (WAFs) и брандмауэры.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-349">In a single hub, hello perimeter network toointernet can scale up toosupport large numbers of LOBs, using multiple farms of Web Application Firewalls (WAFs) and/or firewalls.</span></span>

<span data-ttu-id="7fcc4-350">[**Виртуальные сети** ] [ VNet] концентратора hello обычно разрабатываются на виртуальная сеть с несколькими подсетями toohost hello другого типа служб фильтрации и проверив tooor трафика из hello Интернет через NVAs WAFs, и шлюзы приложения Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-350">[**Virtual Networks**][VNet] hello hub is typically built on a VNet with multiple subnets toohost hello different type of services filtering and inspecting traffic tooor from hello internet via NVAs, WAFs, and Azure Application Gateways.</span></span>

<span data-ttu-id="7fcc4-351">[**UDR**][UDR]. С помощью UDR клиенты могут развернуть брандмауэр, устройство IDS/IPS или другие виртуальные устройства и направить сетевой трафик через эти устройства безопасности, что позволяет применять, контролировать и проверять политики границ безопасности.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-351">[**UDR**][UDR] Using UDR, customers can deploy firewalls, IDS/IPS, and other virtual appliances, and route network traffic through these security appliances for security boundary policy enforcement, auditing, and inspection.</span></span> <span data-ttu-id="7fcc4-352">UDRs могут создаваться в обоих hello концентратора и hello спицы tooguarantee, изменится трафика через hello определенных пользовательских виртуальных машин, виртуальных сетевых устройств и подсистем балансировки нагрузки, используемых hello виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-352">UDRs can be created in both hello hub and hello spokes tooguarantee that traffic transits through hello specific custom VMs, Network Virtual Appliances and load balancers used by hello vDC.</span></span> <span data-ttu-id="7fcc4-353">tooguarantee, трафика создается из виртуальных машин, находящихся в hello звезда транспорте toohello правильный виртуальных устройств, UDR должен toobe по hello внешнего IP-адреса hello внутренней подсистемы балансировки нагрузки в качестве следующего прыжка hello задать в подсетях hello hello типа «звезда».</span><span class="sxs-lookup"><span data-stu-id="7fcc4-353">tooguarantee that traffic generated from VMs resident in hello spoke transit toohello correct virtual appliances, a UDR needs toobe set in hello subnets of hello spoke by setting hello front-end IP address of hello internal load balancer as hello next-hop.</span></span> <span data-ttu-id="7fcc4-354">Hello внутренней подсистемы балансировки нагрузки распределяет hello внутренний трафик toohello виртуальных устройств (пула внутренней подсистемы балансировки нагрузки).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-354">hello internal load balancer distributes hello internal traffic toohello virtual appliances (load balancer back-end pool).</span></span>

<span data-ttu-id="7fcc4-355">[![8]][8]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-355">[![8]][8]</span></span>

<span data-ttu-id="7fcc4-356">[**Сети виртуальных приборов** ] [ NVA] в концентраторе hello hello сети периметра с доступом toohello Интернет обычно осуществляется с помощью фермы брандмауэры и/или брандмауэры приложений Web (WAFs).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-356">[**Network Virtual Appliances**][NVA] In hello hub, hello perimeter network with access toohello internet is normally managed through a farm of firewalls and/or Web Application Firewalls (WAFs).</span></span>

<span data-ttu-id="7fcc4-357">Различных больших объектов обычно используют многие веб-приложения, и эти приложения имеют тенденцию toosuffer различных уязвимостей и потенциальной уязвимости.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-357">Different LOBs commonly use many web applications, and these applications tend toosuffer from various vulnerabilities and potential exploits.</span></span> <span data-ttu-id="7fcc4-358">Брандмауэры приложения Web — это специальные поколения продукта toodetect атаки, направленные на веб-приложений (HTTP/HTTPS) используется более подробно, чем универсальный брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-358">Web Applications Firewalls are a special breed of product used toodetect attacks against web applications (HTTP/HTTPS) in more depth than a generic firewall.</span></span> <span data-ttu-id="7fcc4-359">По сравнению с технологией брандмауэра традиции, WAFs имеют ряд конкретных компонентов tooprotect внутренняя веб-серверов от угроз.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-359">Compared with tradition firewall technology, WAFs have a set of specific features tooprotect internal web servers from threats.</span></span>

<span data-ttu-id="7fcc4-360">Ферма брандмауэра — группа брандмауэры, работают совместно в hello же общие администрирования с набором правил tooprotect безопасности hello-рабочих нагрузок, размещенные в спицы hello и управления доступом tooon локальные сети.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-360">A firewall farm is group of firewalls working in tandem under hello same common administration, with a set of security rules tooprotect hello workloads hosted in hello spokes, and control access tooon-premises networks.</span></span> <span data-ttu-id="7fcc4-361">Ферма брандмауэра имеет менее специализированным по сравнению с WAF программного обеспечения, но имеет широкое применение области toofilter и проверить любой тип трафика в входящего и исходящего трафика.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-361">A firewall farm has less specialized software compared with a WAF, but has a broad application scope toofilter and inspect any type of traffic in egress and ingress.</span></span> <span data-ttu-id="7fcc4-362">Брандмауэр ферм обычно реализуются в Azure с помощью виртуальных сетевых устройств (NVAs), доступные в hello Azure marketplace.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-362">Firewall farms are normally implemented in Azure through Network Virtual Appliances (NVAs), which are available in hello Azure marketplace.</span></span>

<span data-ttu-id="7fcc4-363">Рекомендуется toouse один набор NVAs для трафик на Интернет hello и другой трафик, приходящий локально.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-363">It is recommended toouse one set of NVAs for traffic originating on hello Internet, and another for traffic originating on-premises.</span></span> <span data-ttu-id="7fcc4-364">С помощью только одного набора NVAs для обоих представляет угрозу безопасности, поскольку она обеспечивает не периметра безопасности между двумя наборами hello сетевого трафика.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-364">Using only one set of NVAs for both is a security risk, as it provides no security perimeter between hello two sets of network traffic.</span></span> <span data-ttu-id="7fcc4-365">С помощью отдельных NVAs снижает сложность hello безопасности правила проверки и позволяет понять, какие правила соответствуют toowhich входящий сетевой запрос.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-365">Using separate NVAs reduces hello complexity of checking security rules, and makes it clear which rules correspond toowhich incoming network request.</span></span>

<span data-ttu-id="7fcc4-366">Большинство крупных предприятий управляют несколькими доменами.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-366">Most large enterprises manage multiple domains.</span></span> <span data-ttu-id="7fcc4-367">Azure DNS можно использовать toohost hello DNS-записи для определенного домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-367">Azure DNS can be used toohost hello DNS records for a particular domain.</span></span> <span data-ttu-id="7fcc4-368">В качестве примера hello Virtual IP Address (VIP) hello Azure внешней подсистемы балансировки нагрузки (или hello WAFs) могут быть зарегистрированы в записи hello записи Azure DNS.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-368">As example, hello Virtual IP Address (VIP) of hello Azure external load balancer (or hello WAFs) can be registered in hello A record of an Azure DNS record.</span></span>

<span data-ttu-id="7fcc4-369">[**Azure Load Balancer**][ALB]. Это служба высокого уровня доступности (уровень 4) (TCP, UDP), которая может распределять входящий трафик между экземплярами службы, определенными в наборе балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-369">[**Azure Load Balancer**][ALB] Azure load balancer offers a high availability Layer 4 (TCP, UDP) service, which can distribute incoming traffic among service instances defined in a load-balanced set.</span></span> <span data-ttu-id="7fcc4-370">Трафик отправлено toohello балансировки нагрузки переднего плана конечных точек (общедоступные конечные точки IP или частного IP конечных точек) может распространяться вместе с или без набора tooa трансляции адресов пула IP-адресов серверной части (например, Виртуальных сетевых устройств или виртуальные машины).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-370">Traffic sent toohello load balancer from front-end endpoints (public IP endpoints or private IP endpoints) can be redistributed with or without address translation tooa set of back-end IP address pool (examples being; Network Virtual Appliances or VMs).</span></span>

<span data-ttu-id="7fcc4-371">Подсистема балансировки нагрузки Azure могли проверять работоспособность hello hello различных экземпляров сервера также и при отправке трафика toohello неработоспособное экземпляр балансировки останавливается toorespond hello нагрузки происходит сбой проверки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-371">Azure Load Balancer can probe hello health of hello various server instances as well, and when a probe fails toorespond hello load balancer stops sending traffic toohello unhealthy instance.</span></span> <span data-ttu-id="7fcc4-372">В постоянного тока у нас есть hello наличия внешней подсистемы балансировки нагрузки в концентраторе hello (например, баланс hello трафика tooNVAs), а также в спицы hello (tooperform задачи, такие как балансировка трафика между разными ВМ многоуровневого приложения).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-372">In a vDC, we have hello presence of an external load balancer in hello hub (for instance, balance hello traffic tooNVAs), and in hello spokes (tooperform tasks like balancing traffic between different VMs of a multitier application).</span></span>

<span data-ttu-id="7fcc4-373">[**Шлюз приложений**][AppGW]. Шлюз приложений Microsoft Azure — это выделенный виртуальный модуль, предоставляющий контроллер доставки приложений (ADC) как услугу, предлагая для приложения множество функций балансировки нагрузки уровня 7.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-373">[**Application Gateway**][AppGW] Microsoft Azure Application Gateway is a dedicated virtual appliance providing application delivery controller (ADC) as a service, offering various layer 7 load balancing capabilities for your application.</span></span> <span data-ttu-id="7fcc4-374">Можно toooptimize web фермы производительность за счет разгрузки Процессора служб с интенсивными вычислениями SSL завершения toohello шлюз приложений.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-374">It allows you toooptimize web farm productivity by offloading CPU intensive SSL termination toohello application gateway.</span></span> <span data-ttu-id="7fcc4-375">Он также предоставляет другие возможности маршрутизации layer 7, включая циклическое распределение входящего трафика, сходство сеансов на основе файлов cookie, маршрутизация URL-адрес на основе пути и toohost возможность hello несколько веб-сайтов за один шлюз приложений.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-375">It also provides other layer 7 routing capabilities including round robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and hello ability toohost multiple websites behind a single Application Gateway.</span></span> <span data-ttu-id="7fcc4-376">Брандмауэр веб-приложения (WAF) также предоставляется как часть приложения hello шлюза WAF SKU.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-376">A web application firewall (WAF) is also provided as part of hello application gateway WAF SKU.</span></span> <span data-ttu-id="7fcc4-377">Этот номер SKU обеспечивает защиту приложений tooweb из общих веб-уязвимостей и эксплойтов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-377">This SKU provides protection tooweb applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="7fcc4-378">Шлюз приложений можно настроить как шлюз с выходом в Интернет, внутренний шлюз или их сочетание.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-378">Application Gateway can be configured as internet facing gateway, internal only gateway, or a combination of both.</span></span> 

<span data-ttu-id="7fcc4-379">[**Общедоступные IP-адреса** ] [ PIP] Azure некоторые преимущества позволяют вы tooassociate службы конечные точки tooa общедоступный IP-адрес, позволяющий toobe ресурсов tooyour обращаться из hello Интернета.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-379">[**Public IPs**][PIP] Some Azure features enable you tooassociate service endpoints tooa public IP address that allows tooyour resource toobe accessed from hello internet.</span></span> <span data-ttu-id="7fcc4-380">Эта конечная точка использует внутренний адрес трафика tooroute toohello сетевых адресов (NAT) и порт на hello виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-380">This endpoint uses Network Address Translation (NAT) tooroute traffic toohello internal address and port on hello Azure virtual network.</span></span> <span data-ttu-id="7fcc4-381">Этот путь является основной способ hello toopass внешний трафик в виртуальной сети hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-381">This path is hello primary way for external traffic toopass into hello virtual network.</span></span> <span data-ttu-id="7fcc4-382">как и где он преобразуется в виртуальной сети toohello Hello общедоступные IP-адреса может быть настроенный toodetermine, какой трафик передается в</span><span class="sxs-lookup"><span data-stu-id="7fcc4-382">hello Public IP addresses can be configured toodetermine which traffic is passed in, and how and where it's translated on toohello virtual network.</span></span>

#### <a name="component-type-monitoring"></a><span data-ttu-id="7fcc4-383">Тип компонента: мониторинг</span><span class="sxs-lookup"><span data-stu-id="7fcc4-383">Component Type: Monitoring</span></span>
<span data-ttu-id="7fcc4-384">Видимость и предупреждений от всех других типов компонентов Здравствуйте, предоставляют компоненты наблюдения.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-384">Monitoring components provide visibility and alerting from all hello other components types.</span></span> <span data-ttu-id="7fcc4-385">Все команды должны иметь доступ toomonitoring hello компонентов и служб, они имеют доступ к.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-385">All teams should have access toomonitoring for hello components and services they have access to.</span></span> <span data-ttu-id="7fcc4-386">Если справка по централизованной поддержки или к операции команды, их потребуется toohello toohave интеграции доступа к данным, предоставляемые эти компоненты.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-386">If you have a centralized help desk or operations teams, they would need toohave integrated access toohello data provided by these components.</span></span>

<span data-ttu-id="7fcc4-387">Ресурсы, размещенные на Azure предлагает различные виды ведение журнала и мониторинг поведения hello tootrack служб Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-387">Azure offers different types of logging and monitoring services tootrack hello behavior of Azure hosted resources.</span></span> <span data-ttu-id="7fcc4-388">Управление и контроль рабочих нагрузок в Azure — на основе не только на сбор данных журнала, но hello возможность tootrigger действия в зависимости от определенных событий для отчета.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-388">Governance and control of workloads in Azure is based not just on collecting log data, but also hello ability tootrigger actions based on specific reported events.</span></span>

<span data-ttu-id="7fcc4-389">Есть два основных типа журналов в Azure:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-389">There are two major types of logs in Azure:</span></span>

-   <span data-ttu-id="7fcc4-390">[**Журналы действий** ] [ ActLog] (известная также как «Операционный журнал») дают представление о hello операций, которые были выполнены для ресурсов в hello подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-390">[**Activity Logs**][ActLog] (referred also as "Operational Log") provide insight into hello operations that were performed on resources in hello Azure subscription.</span></span> <span data-ttu-id="7fcc4-391">Эти журналы сообщает о событиях hello плоскости управления для ваших подписок.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-391">These logs report hello control-plane events for your subscriptions.</span></span> <span data-ttu-id="7fcc4-392">Журналы аудита ведутся для каждого ресурса Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-392">Every Azure resource produces audit logs.</span></span>

-   <span data-ttu-id="7fcc4-393">[**Журналы Azure диагностики** ] [ DiagLog] журналы, созданные каким-либо ресурсом, предоставляющие сложных, часто данные об операции hello этого ресурса.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-393">[**Azure Diagnostic Logs**][DiagLog] are logs generated by a resource that provide rich, frequent data about hello operation of that resource.</span></span> <span data-ttu-id="7fcc4-394">Hello содержимое этих журналов зависит от типа ресурса.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-394">hello content of these logs varies by resource type.</span></span>

<span data-ttu-id="7fcc4-395">[![9]][9]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-395">[![9]][9]</span></span>

<span data-ttu-id="7fcc4-396">В постоянного тока это журналы Nsg hello tootrack крайне важно, особенно эти сведения:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-396">In a vDC, it is extremely important tootrack hello NSGs logs, particularly this information:</span></span>

-   <span data-ttu-id="7fcc4-397">[**Журналы событий**][NSGLog]: содержит сведения о какие правила NSG являются примененных tooVMs и экземпляр роли, на основе MAC-адреса.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-397">[**Event logs**][NSGLog]: provides information on what NSG rules are applied tooVMs and instance roles based on MAC address.</span></span>
-   <span data-ttu-id="7fcc4-398">[**Журналы счетчиков**][NSGLog]: отслеживает, сколько раз каждый NSG правило было выполненного toodeny или разрешить трафик.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-398">[**Counter logs**][NSGLog]: tracks how many times each NSG rule was executed toodeny or allow traffic.</span></span>

<span data-ttu-id="7fcc4-399">Все журналы можно хранить в учетных записях хранения Azure для аудита, статического анализа или архивации.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-399">All logs can be stored in Azure Storage Accounts for audit, static analysis, or backup purposes.</span></span> <span data-ttu-id="7fcc4-400">Когда hello журналы хранятся в учетной записи хранилища Azure, клиенты могут использовать различные типы из tooretrieve платформ prep, анализ и визуализация это состояние hello tooreport данных и работоспособности облачных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-400">When hello logs are stored in an Azure storage account, customers can use different types of frameworks tooretrieve, prep, analyze, and visualize this data tooreport hello status and health of cloud resources.</span></span>

<span data-ttu-id="7fcc4-401">Крупных предприятий должны уже приобрели стандартную платформу для наблюдения за локальной системы и можно расширить журналы toointegrate framework созданные облачные развертывания.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-401">Large enterprises should already have acquired a standard framework for monitoring on-premises systems and can extend that framework toointegrate logs generated by cloud deployments.</span></span> <span data-ttu-id="7fcc4-402">Для организаций, которые хотите все hello ведения журнала в облаке hello tookeep [Microsoft Operations Management Suite (OMS)] [ OMS] очень удобно.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-402">For organizations that wish tookeep all hello logging in hello cloud, [Microsoft Operations Management Suite (OMS)][OMS] is a great choice.</span></span> <span data-ttu-id="7fcc4-403">Набор OMS реализован как облачная служба, поэтому время, затрачиваемое на подготовку к работе, минимально, как и вложения в службы инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-403">Since OMS is implemented as a cloud-based service, you can have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="7fcc4-404">OMS может интегрироваться с компонентами System Center, такие как System Center Operations Manager tooextend существующие инвестиции в инфраструктуру управления в облаке hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-404">OMS can also integrate with System Center components such as System Center Operations Manager tooextend your existing management investments into hello cloud.</span></span>

<span data-ttu-id="7fcc4-405">Аналитика журналов OMS является компонентом hello OMS framework toohelp сбор, скоррелируйте, поиск и действующих в журнал и данные о производительности созданные операционных систем, приложений и инфраструктуры облака компонентов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-405">OMS Log analytics is a component of hello OMS framework toohelp collect, correlate, search, and act on log and performance data generated by operating systems, applications, infrastructure cloud components.</span></span> <span data-ttu-id="7fcc4-406">Он предоставляет пользователям в режиме реального времени оперативной аналитики с помощью интегрированной возможности поиска и настраиваемых панелей мониторинга tooanalyze все записи hello на всех рабочих нагрузок в виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-406">It gives customers real-time operational insights using integrated search and custom dashboards tooanalyze all hello records across all your workloads in a vDC.</span></span>

#### <a name="component-type-workloads"></a><span data-ttu-id="7fcc4-407">Тип компонента: рабочие нагрузки</span><span class="sxs-lookup"><span data-stu-id="7fcc4-407">Component Type: Workloads</span></span>
<span data-ttu-id="7fcc4-408">Именно здесь находятся ваши фактические приложения и службы.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-408">Workload components are where your actual applications and services reside.</span></span> <span data-ttu-id="7fcc4-409">Группы разработчиков приложения также проводят здесь большую часть времени.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-409">It's also where your application development teams spend most of their time.</span></span>

<span data-ttu-id="7fcc4-410">возможности рабочей нагрузки Hello действительно бесконечны.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-410">hello workload possibilities are truly endless.</span></span> <span data-ttu-id="7fcc4-411">Hello ниже приведены только некоторые типы возможных рабочих нагрузок hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-411">hello following are just a few of hello possible workload types:</span></span>

<span data-ttu-id="7fcc4-412">**Внутренние бизнес-приложения**</span><span class="sxs-lookup"><span data-stu-id="7fcc4-412">**Internal LOB Applications**</span></span>

<span data-ttu-id="7fcc4-413">Бизнес-приложения, компьютер приложений критических toohello текущей операции на предприятии.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-413">Line-of-business applications are computer applications critical toohello ongoing operation of an enterprise.</span></span> <span data-ttu-id="7fcc4-414">У них есть некоторые общие характеристики.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-414">LOB applications have some common characteristics:</span></span>

-   <span data-ttu-id="7fcc4-415">**Интерактивность**.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-415">**Interactive**.</span></span> <span data-ttu-id="7fcc4-416">Бизнес-приложения интерактивны по своей природе: вводятся данные и возвращаются результаты или отчеты.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-416">LOB applications are interactive by nature: data is entered, and result/reports are returned.</span></span>
-   <span data-ttu-id="7fcc4-417">**Активное использование данных**.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-417">**Data driven**.</span></span> <span data-ttu-id="7fcc4-418">Бизнес-приложения — это количество с toohello частого доступа к базам данных или других хранилищ данных.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-418">LOB applications are data intensive with frequent access toohello databases or other storage.</span></span>
-   <span data-ttu-id="7fcc4-419">**Интеграция**.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-419">**Integrated**.</span></span> <span data-ttu-id="7fcc4-420">Бизнес-приложений предложение интеграции с другими системами, внутри или за пределами организации hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-420">LOB applications offer integration with other systems within or outside hello organization.</span></span>

<span data-ttu-id="7fcc4-421">**Веб-сайтов (с выходом Интернета или для внутреннего использования) клиентов** большинство приложений, взаимодействующих с hello Интернета, веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-421">**Customer facing web sites (Internet or Internal facing)** Most applications that interact with hello Internet are web sites.</span></span> <span data-ttu-id="7fcc4-422">Azure предлагает возможность toorun hello веб-сайта на Виртуальной машине IaaS или из [веб-приложениях Azure] [ WebApps] сайта (PaaS).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-422">Azure offers hello capability toorun a web site on an IaaS VM or from an [Azure Web Apps][WebApps] site (PaaS).</span></span> <span data-ttu-id="7fcc4-423">Azure веб-приложения поддерживает интеграцию с виртуальными сетями, развертывание hello hello веб-приложений в резервный hello объекта виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-423">Azure Web Apps support integration with VNets that allow hello deployment of hello Web Apps in hello spoke of a vDC.</span></span> <span data-ttu-id="7fcc4-424">С hello Интеграция виртуальной сети вам не требуется tooexpose конечной точки Интернета для приложений, но hello ресурсов частного не через Интернет маршрутизируемый адрес из частной виртуальной сети вместо этого можно использовать.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-424">With hello VNET integration, you don't need tooexpose an Internet endpoint for your applications but can use hello resources private non-internet routable address from your private VNet instead.</span></span>

<span data-ttu-id="7fcc4-425">**Анализа больших данных или данных** Если данные должны tooscale копирование tooa очень больших томов, базы данных может не масштабируются.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-425">**Big Data/Analytics** When data needs tooscale up tooa very large volume, databases may not scale up properly.</span></span> <span data-ttu-id="7fcc4-426">Hadoop технология предоставляет систему toorun распределенных запросов параллельно на большое количество узлов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-426">Hadoop technology offers a system toorun distributed queries in parallel on large number of nodes.</span></span> <span data-ttu-id="7fcc4-427">Клиенты имеют hello параметр toorun данных рабочих нагрузок в виртуальных машинах IaaS или PaaS ([HDInsight][HDI]).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-427">Customers have hello option toorun data workloads in IaaS VMs or PaaS ([HDInsight][HDI]).</span></span> <span data-ttu-id="7fcc4-428">HDInsight поддерживает развертывание в виртуальную сеть на основе расположения, развернутых tooa кластера в резервный hello виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-428">HDInsight supports deploying into a location-based VNet, can be deployed tooa cluster in a spoke of hello vDC.</span></span>

<span data-ttu-id="7fcc4-429">
[Концентраторы событий Azure][EventHubs]**для событий и сообщений** — это служба обработки данных телеметрии с высокой степенью масштабируемости, которая собирает, преобразовывает и хранит миллионы событий.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-429">**Events and Messaging**
[Azure Event Hubs][EventHubs] is a hyper-scale telemetry ingestion service that collects, transforms, and stores millions of events.</span></span> <span data-ttu-id="7fcc4-430">Как распределенные платформы потоковой передачи он обеспечивает низкую задержку и настраиваемое время хранения, позволяя tooingest больших объемов данных телеметрии в Azure и чтения данных из нескольких приложений.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-430">As a distributed streaming platform, it offers low latency and configurable time retention, enabling you tooingest massive amounts of telemetry into Azure and read that data from multiple applications.</span></span> <span data-ttu-id="7fcc4-431">С концентраторами событий отдельный поток может поддерживать обработку конвейеров в режиме реального времени и на основе пакетов.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-431">With Event Hubs, a single stream can support both real-time and batch-based pipelines.</span></span>

<span data-ttu-id="7fcc4-432">Высоконадежную облачную систему для обмена сообщениями между приложениями и службами можно реализовать с помощью [служебной шины Azure][ServiceBus], которая предлагает асинхронный обмен сообщениями через брокер между клиентом и сервером, а также обработку сообщений в порядке поступления и возможность публикации и подписки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-432">A highly reliable cloud messaging service between applications and services, can be implemented through [Azure Service Bus][ServiceBus] that offers asynchronous brokered messaging between client and server, along with structured first-in-first-out (FIFO) messaging and publish/subscribe capabilities.</span></span>

<span data-ttu-id="7fcc4-433">[![10]][10]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-433">[![10]][10]</span></span>

### <a name="multiple-vdc"></a><span data-ttu-id="7fcc4-434">Несколько виртуальных центров обработки данных</span><span class="sxs-lookup"><span data-stu-id="7fcc4-434">Multiple vDC</span></span>
<span data-ttu-id="7fcc4-435">Таким образом в этой статье основное внимание уделяется одного виртуального контроллера домена, описывающие hello базовые компоненты и архитектура, contribute устойчивым tooa виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-435">So far, this article has focused on a single vDC, describing hello basic components and architecture that contribute tooa resilient vDC.</span></span> <span data-ttu-id="7fcc4-436">Компоненты Azure, такие как группы доступности NVAs, балансировки нагрузки Azure, наборы масштабирования, а также другие механизмы contribute tooa системы, позволяющих toobuild сплошной соглашение об уровне обслуживания в рабочей среде службы.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-436">Azure features such as Azure load balancer, NVAs, availability sets, scale sets, along with other mechanisms contribute tooa system that allow you toobuild solid SLA levels into your production services.</span></span>

<span data-ttu-id="7fcc4-437">Тем не менее одного виртуального контроллера домена размещается в одном регионе и отказе уязвимым toomajor, влияющего на этом весь регион.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-437">However, a single vDC is hosted within a single region, and is vulnerable toomajor outage that might affect that entire region.</span></span> <span data-ttu-id="7fcc4-438">Клиентам, которые должны tooachieve высокой соглашений об уровне обслуживания требуется tooprotect hello службы с помощью развертывания hello же проект создавать два (или более), помещаются в разных регионах.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-438">Customers that want tooachieve high SLAs need tooprotect hello services through deployments of hello same project in two (or more) vDCs, placed in different regions.</span></span>

<span data-ttu-id="7fcc4-439">В дополнение tooSLA проблемы существует несколько типичных сценариев, где развертывание нескольких создавать имеет смысл.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-439">In addition tooSLA concerns, there are several common scenarios where deploying multiple vDCs makes sense:</span></span>

-   <span data-ttu-id="7fcc4-440">Региональное и глобальное присутствие</span><span class="sxs-lookup"><span data-stu-id="7fcc4-440">Regional/Global presence</span></span>
-   <span data-ttu-id="7fcc4-441">Аварийное восстановление</span><span class="sxs-lookup"><span data-stu-id="7fcc4-441">Disaster Recovery</span></span>
-   <span data-ttu-id="7fcc4-442">Механизм toodivert трафик от контроллера домена</span><span class="sxs-lookup"><span data-stu-id="7fcc4-442">Mechanism toodivert traffic between DC</span></span>

#### <a name="regionalglobal-presence"></a><span data-ttu-id="7fcc4-443">Региональное и глобальное присутствие</span><span class="sxs-lookup"><span data-stu-id="7fcc4-443">Regional/Global presence</span></span>
<span data-ttu-id="7fcc4-444">Центры обработки данных Azure присутствуют в различных регионах по всему миру.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-444">Azure data centers are present in numerous regions worldwide.</span></span> <span data-ttu-id="7fcc4-445">При выборе нескольких центрах обработки данных Azure, клиенты должны tooconsider двух связанных факторов: географических расстояний и задержки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-445">When selecting multiple Azure data centers, customers need tooconsider two related factors: geographical distances and latency.</span></span> <span data-ttu-id="7fcc4-446">Клиенты должны tooevaluate hello географических расстояние между создавать hello и hello расстояние между hello виртуального контроллера домена и hello конечных пользователей, toooffer hello оптимального взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-446">Customers need tooevaluate hello geographical distance between hello vDCs and  hello distance between hello vDC and hello end users, toooffer hello best user experience.</span></span>

<span data-ttu-id="7fcc4-447">Hello регион Azure, где размещаются создавать также требуется tooconform законодательным требованиям, заданные в любой юрисдикцию, под которой работает ваша организация.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-447">hello Azure Region where vDCs are hosted also need tooconform with regulatory requirements established by any legal jurisdiction under which your organization operates.</span></span>

#### <a name="disaster-recovery"></a><span data-ttu-id="7fcc4-448">Аварийное восстановление</span><span class="sxs-lookup"><span data-stu-id="7fcc4-448">Disaster Recovery</span></span>
<span data-ttu-id="7fcc4-449">Реализация Hello план аварийного восстановления является тип строго связанные toohello опасения рабочей нагрузки и состояние hello возможность toosynchronize hello рабочей нагрузки между создавать разные.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-449">hello implementation of a disaster recovery plan is strongly related toohello type of workload concerned, and hello ability toosynchronize hello workload state between different vDCs.</span></span> <span data-ttu-id="7fcc4-450">В идеальном случае большинству клиентов требуется toosynchronize данных приложений между развертываний, работающих в двух разных создавать tooimplement быстрого переключения на другой механизм.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-450">Ideally, most customers want toosynchronize application data between deployments running in two different vDCs tooimplement a fast fail-over mechanism.</span></span> <span data-ttu-id="7fcc4-451">Большинство приложений доступно конфиденциальных toolatency и, может привести к потенциальной времени ожидания и задержки в синхронизации данных.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-451">Most applications are sensitive toolatency, and that can cause potential timeout and delay in data synchronization.</span></span>

<span data-ttu-id="7fcc4-452">Мониторинг синхронизации или пульса приложений в разных виртуальных центрах данных требует взаимодействия между этими центрами.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-452">Synchronization or heartbeat monitoring of applications in different vDCs requires communication between them.</span></span> <span data-ttu-id="7fcc4-453">Два виртуальных центра обработки данных в разных регионах можно подключить следующим образом:</span><span class="sxs-lookup"><span data-stu-id="7fcc4-453">Two vDCs in different regions can be connected through:</span></span>

-   <span data-ttu-id="7fcc4-454">ExpressRoute частного пиринга при toohello подключенных концентраторов виртуального контроллера домена hello одним каналом expressroute</span><span class="sxs-lookup"><span data-stu-id="7fcc4-454">ExpressRoute private peering when hello vDC hubs are connected toohello same ExpressRoute circuit</span></span>
-   <span data-ttu-id="7fcc4-455">несколько каналов ExpressRoute подключается с помощью вашей корпоративной магистрали и сетка виртуального контроллера домена подключенных toohello каналы ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="7fcc4-455">multiple ExpressRoute circuits connected via your corporate backbone and your vDC mesh connected toohello ExpressRoute circuits</span></span>
-   <span data-ttu-id="7fcc4-456">VPN-подключения типа "сеть — сеть" между концентраторами виртуального центра обработки данных в каждом регионе Azure.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-456">Site-to-Site VPN connections between your vDC hubs in each Azure Region</span></span>

<span data-ttu-id="7fcc4-457">Обычно hello подключение ExpressRoute при hello предпочтительный механизм из-за более высокой пропускной способности и задержки согласованного transiting через hello магистрали корпорации Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-457">Usually hello ExpressRoute connection is hello preferred mechanism due higher bandwidth and consistent latency when transiting through hello Microsoft backbone.</span></span>

<span data-ttu-id="7fcc4-458">Приложение не существует не toovalidate magic рецепт распределяются между два (или более) создавать различные находятся в разных регионах.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-458">There is no magic recipe toovalidate an application distributed between two (or more) different vDCs located in different regions.</span></span> <span data-ttu-id="7fcc4-459">Клиентам следует выполнить квалификации тесты tooverify hello задержка сети и пропускную способность для соединений hello и целевой, подходит ли репликация данных синхронным или асинхронным и может быть какие hello оптимальное время восстановления RTO () для вашей рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-459">Customers should run network qualification tests tooverify hello latency and bandwidth of hello connections and target whether synchronous or asynchronous data replication is appropriate and what hello optimal recovery time objective (RTO) can be for your workloads.</span></span>

#### <a name="mechanism-toodivert-traffic-between-dc"></a><span data-ttu-id="7fcc4-460">Механизм toodivert трафик от контроллера домена</span><span class="sxs-lookup"><span data-stu-id="7fcc4-460">Mechanism toodivert traffic between DC</span></span>
<span data-ttu-id="7fcc4-461">Один эффективный подход toodivert hello трафик входящих в один контроллер домена tooanother основан на DNS.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-461">One effective technique toodivert hello traffic incoming in one DC tooanother is based on DNS.</span></span> <span data-ttu-id="7fcc4-462">[Диспетчер трафика Azure] [ TM] использует hello доменных имен (DNS) механизм toodirect hello конечным пользователем трафика toohello наиболее подходящий общедоступную конечную точку в конкретных виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-462">[Azure Traffic Manager][TM] uses hello Domain Name System (DNS) mechanism toodirect hello end-user traffic toohello most appropriate public endpoint in a specific vDC.</span></span> <span data-ttu-id="7fcc4-463">Через зондов диспетчер трафика периодически проверяет работоспособность службы hello общедоступные конечные точки в разных создавать и в случае сбоя из этих конечных точек, он автоматически направляет toohello дополнительного виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-463">Through probes, Traffic Manager periodically checks hello service health of public endpoints in different vDCs and, in case of failure of those endpoints, it routes automatically toohello secondary vDC.</span></span>

<span data-ttu-id="7fcc4-464">Диспетчер трафика работает на Azure общедоступными конечными точками и может использоваться, например, / отклонения toocontrol tooAzure трафика виртуальных машин и веб-приложений в hello соответствующие виртуального контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-464">Traffic Manager works on Azure public endpoints and can be used, for example, toocontrol/divert traffic tooAzure VMs and Web Apps in hello appropriate vDC.</span></span> <span data-ttu-id="7fcc4-465">Диспетчера трафика был устойчив даже шрифтом hello переключения весь регион Azure и управления hello распределением пользовательского трафика для конечных точек службы в различных создавать на основе нескольких условий (например, сбой службы в конкретных виртуального контроллера домена или выбрав Hello виртуального контроллера домена с наименьшим значением задержки сети hello для hello клиента).</span><span class="sxs-lookup"><span data-stu-id="7fcc4-465">Traffic Manager is resilient even in hello face of an entire Azure region failing and can control hello distribution of user traffic for service endpoints in different vDCs based on several criteria (for instance, failure of a service in a specific vDC, or selecting hello vDC with hello lowest network latency for hello client).</span></span>

### <a name="conclusion"></a><span data-ttu-id="7fcc4-466">Заключение</span><span class="sxs-lookup"><span data-stu-id="7fcc4-466">Conclusion</span></span>
<span data-ttu-id="7fcc4-467">Hello Virtual Center данных является выполнения подход toodata center миграции в облако hello, которое использует сочетание функций и возможностей toocreate масштабируемой архитектуры в Azure, которая расширяет возможности использования ресурсов облака, снижение затрат и упрощения системы Управление.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-467">hello Virtual Data Center is an approach toodata center migration into hello cloud that uses a combination of features and capabilities toocreate a scalable architecture in Azure that maximizes cloud resource use, reducing costs, and simplifying system governance.</span></span> <span data-ttu-id="7fcc4-468">Концепция виртуального контроллера домена Hello основана на топологии спицы концентратора, предоставляя общие общих служб в концентраторе hello и позволяя конкретных приложений и рабочих нагрузок в спицы hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-468">hello vDC concept is based on a hub-spokes topology, providing common shared services in hello hub and allowing specific applications/workloads in hello spokes.</span></span> <span data-ttu-id="7fcc4-469">Виртуального контроллера домена совпадает структурой hello ролей компании, где разных отделов (центральный ИТ, DevOps, операции и обслуживание) работают вместе, каждый с определенным списком ролей и обязанностей.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-469">A vDC matches hello structure of company roles, where different departments (Central IT, DevOps, operation and maintenance) work together, each with a specific list of roles and duties.</span></span> <span data-ttu-id="7fcc4-470">Виртуального контроллера домена удовлетворяет требованиям hello к миграции «Точности прогнозов и Shift», но также предоставляет множество преимуществ toonative облачные развертывания.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-470">A vDC satisfies hello requirements for a "Lift and Shift" migration, but also provides many advantages toonative cloud deployments.</span></span>

## <a name="references"></a><span data-ttu-id="7fcc4-471">Ссылки</span><span class="sxs-lookup"><span data-stu-id="7fcc4-471">References</span></span>
<span data-ttu-id="7fcc4-472">Hello следующие атрибуты, описанные в этом документе.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-472">hello following features were discussed in this document.</span></span> <span data-ttu-id="7fcc4-473">Выберите дополнительные toolearn ссылки hello.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-473">Click hello links toolearn more.</span></span>

| | | |
|-|-|-|
|<span data-ttu-id="7fcc4-474">Сетевые функции</span><span class="sxs-lookup"><span data-stu-id="7fcc4-474">Network Features</span></span>|<span data-ttu-id="7fcc4-475">Балансировка нагрузки</span><span class="sxs-lookup"><span data-stu-id="7fcc4-475">Load Balancing</span></span>|<span data-ttu-id="7fcc4-476">Соединение</span><span class="sxs-lookup"><span data-stu-id="7fcc4-476">Connectivity</span></span>|
|<span data-ttu-id="7fcc4-477">[Виртуальные сети Azure][VNet]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-477">[Azure Virtual Networks][VNet]</span></span></br><span data-ttu-id="7fcc4-478">[Группы безопасности сети][NSG].</span><span class="sxs-lookup"><span data-stu-id="7fcc4-478">[Network Security Groups][NSG]</span></span></br><span data-ttu-id="7fcc4-479">[Журналы групп безопасности сети][NSGLog]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-479">[NSG Logs][NSGLog]</span></span></br><span data-ttu-id="7fcc4-480">[Определяемая пользователем маршрутизация][UDR]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-480">[User Defined Routing][UDR]</span></span></br><span data-ttu-id="7fcc4-481">[Сетевые виртуальные устройства][NVA]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-481">[Network Virtual Appliances][NVA]</span></span></br><span data-ttu-id="7fcc4-482">[Общедоступные IP-адреса][PIP]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-482">[Public IP Addresses][PIP]</span></span>|<span data-ttu-id="7fcc4-483">[Azure Load Balancer (L3) ][ALB]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-483">[Azure Load Balancer (L3) ][ALB]</span></span></br><span data-ttu-id="7fcc4-484">[Шлюз приложений (L7) ][AppGW]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-484">[Application Gateway (L7) ][AppGW]</span></span></br><span data-ttu-id="7fcc4-485">[Брандмауэр веб-приложения][WAF]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-485">[Web Application Firewall][WAF]</span></span></br><span data-ttu-id="7fcc4-486">[Диспетчер трафика Azure][TM]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-486">[Azure Traffic Manager][TM]</span></span> |<span data-ttu-id="7fcc4-487">[Пиринг виртуальных сетей][VNetPeering]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-487">[VNet Peering][VNetPeering]</span></span></br><span data-ttu-id="7fcc4-488">[Виртуальная частная сеть][VPN]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-488">[Virtual Private Network][VPN]</span></span></br><span data-ttu-id="7fcc4-489">[ExpressRoute][ExR]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-489">[ExpressRoute][ExR]</span></span>
|<span data-ttu-id="7fcc4-490">Удостоверение</span><span class="sxs-lookup"><span data-stu-id="7fcc4-490">Identity</span></span></br>|<span data-ttu-id="7fcc4-491">Мониторинг</span><span class="sxs-lookup"><span data-stu-id="7fcc4-491">Monitoring</span></span></br>|<span data-ttu-id="7fcc4-492">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="7fcc4-492">Best Practices</span></span></br>|
|<span data-ttu-id="7fcc4-493">[Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-493">[Azure Active Directory][AAD]</span></span></br><span data-ttu-id="7fcc4-494">[Многофакторная идентификация][MFA]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-494">[Multi-Factor Authentication][MFA]</span></span></br><span data-ttu-id="7fcc4-495">[Элементы управления доступом на основе ролей][RBAC]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-495">[Role Base Access Controls][RBAC]</span></span></br><span data-ttu-id="7fcc4-496">[Роли AAD по умолчанию][Roles]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-496">[Default AAD Roles][Roles]</span></span> |<span data-ttu-id="7fcc4-497">[Журналы действий][ActLog]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-497">[Activity Logs][ActLog]</span></span></br><span data-ttu-id="7fcc4-498">[Журналы диагностики][DiagLog]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-498">[Diagnostic Logs][DiagLog]</span></span></br><span data-ttu-id="7fcc4-499">[Microsoft Operations Management Suite][OMS]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-499">[Microsoft Operations Management Suite][OMS]</span></span></br> |<span data-ttu-id="7fcc4-500">[Сети периметра: рекомендации][DMZ]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-500">[Perimeter Networks Best Practices][DMZ]</span></span></br><span data-ttu-id="7fcc4-501">[Управление подпиской][SubMgmt]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-501">[Subscription Management][SubMgmt]</span></span></br><span data-ttu-id="7fcc4-502">[Управление группой ресурсов][RGMgmt]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-502">[Resource Group Management][RGMgmt]</span></span></br><span data-ttu-id="7fcc4-503">[Ограничения подписки Azure][Limits]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-503">[Azure Subscription Limits][Limits]</span></span> |
|<span data-ttu-id="7fcc4-504">Прочие службы Azure</span><span class="sxs-lookup"><span data-stu-id="7fcc4-504">Other Azure Services</span></span>|
|<span data-ttu-id="7fcc4-505">[Веб-приложения Azure][WebApps]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-505">[Azure Web Apps][WebApps]</span></span></br><span data-ttu-id="7fcc4-506">[HDInsights (Hadoop) ][HDI]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-506">[HDInsights (Hadoop) ][HDI]</span></span></br><span data-ttu-id="7fcc4-507">[Концентраторы событий][EventHubs]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-507">[Event Hubs][EventHubs]</span></span></br><span data-ttu-id="7fcc4-508">[Служебная шина][ServiceBus]</span><span class="sxs-lookup"><span data-stu-id="7fcc4-508">[Service Bus][ServiceBus]</span></span>|



## <a name="next-steps"></a><span data-ttu-id="7fcc4-509">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7fcc4-509">Next Steps</span></span>
 - <span data-ttu-id="7fcc4-510">Просмотр [виртуальную сеть Пиринга][VNetPeering], hello технологии является основой для концентратора виртуального контроллера домена и резервный схемы</span><span class="sxs-lookup"><span data-stu-id="7fcc4-510">Explore [VNet Peering][VNetPeering], hello underpinning technology for vDC hub and spoke designs</span></span>
 - <span data-ttu-id="7fcc4-511">Реализуйте [AAD] [ AAD] tooget работы с [RBAC] [ RBAC] исследования</span><span class="sxs-lookup"><span data-stu-id="7fcc4-511">Implement [AAD][AAD] tooget started with [RBAC][RBAC] exploration</span></span>
 - <span data-ttu-id="7fcc4-512">Разработайте модель управления ресурса и подписки и RBAC toomeet hello структуру, требования и политики вашей организации.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-512">Develop a Subscription and Resource management model and RBAC model toomeet hello structure, requirements, and polices of your organization.</span></span> <span data-ttu-id="7fcc4-513">наиболее важные действия Hello планирования.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-513">hello most important activity is planning.</span></span> <span data-ttu-id="7fcc4-514">для реорганизации, слияния, новых разработок и т. д.</span><span class="sxs-lookup"><span data-stu-id="7fcc4-514">As much as practical, plan for reorganizations, mergers, new product lines, etc.</span></span>

<!--Image References-->
[0]: ./media/networking-virtual-datacenter/redundant-equipment.png "Примеры перекрытия компонента" 
[1]: ./media/networking-virtual-datacenter/vdc-high-level.png "Подробный пример звездообразной топологии в виртуальном центре обработки данных"
[2]: ./media/networking-virtual-datacenter/hub-spokes-cluster.png "Кластер концентраторов и периферийных зон"
[3]: ./media/networking-virtual-datacenter/spoke-to-spoke.png "Связь между периферийными зонами"
[4]: ./media/networking-virtual-datacenter/vdc-block-level-diagram.png "Блок-схема уровня из hello виртуального контроллера домена"
[5]: ./media/networking-virtual-datacenter/users-groups-subsciptions.png "Пользователи, группы, подписки и проекты"
[6]: ./media/networking-virtual-datacenter/infrastructure-high-level.png "Высокоуровневая схема инфраструктуры"
[7]: ./media/networking-virtual-datacenter/highlevel-perimeter-networks.png "Высокоуровневая схема инфраструктуры"
[8]: ./media/networking-virtual-datacenter/vnet-peering-perimeter-neworks.png "Пиринг виртуальных сетей и сети периметра"
[9]: ./media/networking-virtual-datacenter/high-level-diagram-monitoring.png "Схема высокого уровня для мониторинга"
[10]: ./media/networking-virtual-datacenter/high-level-workloads.png "Схема высокого уровня для рабочих нагрузок"

<!--Link References-->
[Limits]: https://docs.microsoft.com/azure/azure-subscription-service-limits
[Roles]: https://docs.microsoft.com/azure/active-directory/role-based-access-built-in-roles
[VNet]: https://docs.microsoft.com/azure/virtual-network/virtual-networks-overview
[NSG]: https://docs.microsoft.com/azure/virtual-network/virtual-networks-nsg 
[VNetPeering]: https://docs.microsoft.com/azure/virtual-network/virtual-network-peering-overview 
[UDR]: https://docs.microsoft.com/azure/virtual-network/virtual-networks-udr-overview 
[RBAC]: https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is
[MFA]: https://docs.microsoft.com/azure/multi-factor-authentication/multi-factor-authentication
[AAD]: https://docs.microsoft.com/azure/active-directory/active-directory-whatis
[VPN]: https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-about-vpngateways 
[ExR]: https://docs.microsoft.com/azure/expressroute/expressroute-introduction 
[NVA]: https://docs.microsoft.com/azure/architecture/reference-architectures/dmz/nva-ha
[SubMgmt]: https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-subscription-governance 
[RGMgmt]: https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview
[DMZ]: https://docs.microsoft.com/azure/best-practices-network-security
[ALB]: https://docs.microsoft.com/azure/load-balancer/load-balancer-overview
[PIP]: https://docs.microsoft.com/azure/virtual-network/resource-groups-networking#public-ip-address
[AppGW]: https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction
[WAF]: https://docs.microsoft.com/azure/application-gateway/application-gateway-web-application-firewall-overview
[ActLog]: https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-activity-logs 
[DiagLog]: https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs
[NSGLog]: https://docs.microsoft.com/azure/virtual-network/virtual-network-nsg-manage-log
[OMS]: https://docs.microsoft.com/azure/operations-management-suite/operations-management-suite-overview
[WebApps]: https://docs.microsoft.com/azure/app-service-web/
[HDI]: https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-introduction
[EventHubs]: https://docs.microsoft.com/azure/event-hubs/event-hubs-what-is-event-hubs 
[ServiceBus]: https://docs.microsoft.com/azure/service-bus-messaging/service-bus-messaging-overview
[TM]: https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview
