---
title: "Управление устройствами с помощью Центра Интернета вещей Azure | Документация Майкрософт"
description: "Общие сведения об управлении устройствами в Центре Интернета вещей Azure: жизненный цикл корпоративных устройств и шаблоны управления устройствами, такие как перезагрузка, сброс к параметрам по умолчанию, обновление встроенного ПО, настройка, двойники устройства, запросы, задания."
services: iot-hub
documentationcenter: 
author: bzurcher
manager: timlt
editor: 
ms.assetid: a367e715-55f6-4593-bd68-7863cbf0eb81
ms.service: iot-hub
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/24/2017
ms.author: briz
ms.openlocfilehash: 458b316ba76ff7cace56eb21eaf105233e508741
ms.sourcegitcommit: c4cc4d76932b059f8c2657081577412e8f405478
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/11/2018
---
# <a name="overview-of-device-management-with-iot-hub"></a>Общие сведения об управлении устройствами с помощью Центра Интернета вещей
## <a name="introduction"></a>Введение
Центр Интернета вещей Azure предоставляет возможности и модель расширения, с помощью которых устройство и разработчики серверной части могут создавать надежные решения по управлению устройствами Интернета вещей. Устройства варьируются от ограниченных датчиков и микроконтроллеров узкого назначения до мощных шлюзов, которые выполняют маршрутизацию данных для групп устройств.  Кроме того, варианты использования и требования для операторов устройств Интернета вещей существенно отличаются в разных отраслях.  Несмотря на эти отличия, управление устройствами с помощью Центра Интернета вещей предусматривает возможности, шаблоны и библиотеки кода, предназначенные для различных наборов устройств и пользователей.

Чтобы создать успешное корпоративное решение Интернета вещей, важно разработать стратегию, в соответствии с которой операторы будут выполнять текущие операции управления коллекцией устройств. Для операторов устройств Интернета вещей требуются простые надежные инструменты и приложения, позволяющие им сосредоточиться на более стратегических аспектах работы. Эта статья содержит:

* общие сведения о подходе Центра Интернета вещей Azure к управлению устройствами;
* описание общих принципов управления устройствами;
* описание жизненного цикла устройств;
* обзор общих шаблонов управления устройствами.

## <a name="device-management-principles"></a>Принципы управления устройствами
Использование Интернета вещей сопровождается уникальными задачами управления устройствами, поэтому в каждом решении корпоративного класса должны учитываться следующие принципы:

![Рисунок с принципами управления устройствами][img-dm_principles]

* **Масштабирование и автоматизация.** Для решений Интернета вещей требуются простые средства, которые могут автоматизировать рутинные задачи и позволяют относительно небольшому количеству операторов управлять миллионами устройств. Ежедневно операторам требуется массово обрабатывать операции с устройствами в дистанционном режиме. Таким образом, необходимо, чтобы они получали оповещения только при возникновении проблем, требующих их внимания.
* **Открытость и совместимость.** Экосистема устройств чрезвычайно разнообразна. Средства управления должны поддерживать множество разных классов устройств, а также платформ и протоколов. Операторы должны поддерживать многие типы устройств — от встроенных однопроцессных микросхем с максимальными ограничениями до мощных полнофункциональных компьютеров.
* **Поддержка контекста.** Среды Интернета вещей динамичны. Они постоянно меняются. Поэтому надежность службы имеет первостепенную важность. Чтобы перерывы на обслуживание не повлияли на критически важные бизнес-операции и не вызвали опасное состояние, для операций управления устройствами следует учитывать следующие факторы.
    * Периоды обслуживания в рамках соглашения об уровне обслуживания
    * Состояния сети и электропитания
    * Условия использования
    * Географическое расположение устройства
* **Многочисленность ролей службы.** Поддержка уникальных рабочих процессов и операций Интернета вещей крайне важна. Операторы должны работать с учетом ограничений внутренних ИТ-отделов.  Им также нужно найти способ предоставлять соответствующие сведения об операциях устройств в реальном времени своим руководителям и другим сотрудникам с важными бизнес-ролями.

## <a name="device-lifecycle"></a>Жизненный цикл устройств
Есть набор этапов управления устройствами, которые являются общими для всех корпоративных проектов Интернета вещей. Центр Интернета вещей Azure предусматривает пять этапов жизненного цикла устройств.

![Пять этапов жизненного цикла устройств в Центре Интернета вещей Azure: планирование, подготовка, настройка, мониторинг, прекращение использования][img-device_lifecycle]

На каждом из этих пяти этапов есть ряд требований к оператору устройств, которые необходимо выполнить, чтобы обеспечить комплексное решение.

* **Планирование.** На этом этапе операторы создают схему метаданных устройства, позволяющую им легко и точно выполнить запрос, а также выбрать группу устройств для массового управления операциями. Для хранения метаданных устройства в форме тегов и свойств можно использовать его двойник.
  
    *Дополнительные материалы*: [Начало работы с двойниками устройств (Node)][lnk-twins-getstarted], [Общие сведения о двойниках устройств и их использование в Центре Интернета вещей][lnk-twins-devguide], [Настройка устройств с помощью требуемых свойств (Node)][lnk-twin-properties].
* **Подготовка.** Выполняется безопасная подготовка новых устройств в Центре Интернета вещей. Кроме того, на этом этапе операторы могут мгновенно определить возможности устройств.  Реестр удостоверений Центра Интернета вещей позволяет гибко использовать удостоверения устройств и учетные данные. Эти действия можно выполнять в пакетном режиме с помощью задания. На этом этапе также создаются устройства, чтобы формировать сведения об их возможностях и условиях на основе свойств в двойнике устройства.
  
    *Дополнительные материалы*: [Общие сведения о реестре удостоверений в Центре Интернета вещей][lnk-identity-registry], [Управление удостоверениями устройств Центра Интернета вещей в пакетном режиме][lnk-bulk-identity], [Настройка устройств с помощью требуемых свойств (Node)][lnk-twin-properties], [Служба подготовки устройств для Центра Интернета вещей Azure][lnk-dps].
* **Настройка.** Этот этап позволяет упростить массовое изменение конфигурации и обновление встроенного ПО на устройствах с сохранением работоспособности и безопасности. Эти операции управления устройствами выполняются в пакетном режиме с использованием требуемых свойств или прямых методов и трансляции заданий.
  
    *Дополнительные материалы*: [Использование прямых методов на устройстве Интернета вещей (Node.js)][lnk-c2d-methods], [Прямые методы][lnk-methods-devguide], [Настройка устройств с помощью требуемых свойств (Node)][lnk-twin-properties], [Планирование и трансляция заданий (Node)][lnk-jobs], [Планирование заданий на нескольких устройствах][lnk-jobs-devguide].
* **Отслеживание.** На этом этапе отслеживается общая работоспособность коллекции устройств и состояние текущих операций, а также операторам отправляются оповещения о проблемах, требующих их внимания.  Чтобы разрешить устройствам отправлять отчеты об условиях работы в режиме реального времени и состоянии операций обновления, используется двойник устройства. С помощью запросов двойника устройства создаются эффективные отчеты панели мониторинга, которые предоставляют сведения о проблемах, требующих немедленного решения.
  
    *Дополнительные материалы*: [Настройка устройств с помощью требуемых свойств (Node)][lnk-twin-properties], [Справочник по языку запросов Центра Интернета вещей для двойников устройств и заданий][lnk-query-language].
* **Прекращение использования.** На этом этапе выполняется замена или списывание устройства после сбоя как часть цикла обновления или по истечении времени существования службы.  При замене, архивации или прекращении использования физического устройства сведения об устройстве сохраняются с помощью двойника устройства. Безопасный отзыв удостоверений и учетных данных устройств выполняется с помощью реестра удостоверений Центра Интернета вещей.
  
    *Дополнительные материалы*: [Настройка устройств с помощью требуемых свойств (Node)][lnk-twin-properties], [Общие сведения о реестре удостоверений в Центре Интернета вещей][lnk-identity-registry].

## <a name="device-management-patterns"></a>Шаблоны управления устройствами
Центр Интернета вещей предусматривает следующий набор шаблонов управления устройствами.  В [руководствах по управлению устройствами][lnk-get-started] более подробно рассматривается, как расширить эти шаблоны в соответствии с конкретным сценарием и как создавать новые шаблоны на основе этих базовых шаблонов.

* **Перезагрузка.** Серверное приложение информирует устройство о том, что перезагрузка инициирована, с помощью прямого метода.  Устройство использует полученные свойства для обновления состояния перезагрузки устройства.
  
    ![Рисунок шаблона перезагрузки управления устройствами][img-reboot_pattern]
* **Сброс к параметрам по умолчанию.** Серверное приложение информирует устройство о том, что сброс к параметрам по умолчанию инициирован, с помощью прямого метода.  Устройство использует полученные свойства для обновления состояния сброса параметров устройства.
  
    ![Рисунок шаблона сброса к параметрам по умолчанию управления устройствами][img-facreset_pattern]
* **Настройка.** Серверное приложение использует требуемые свойства для настройки программного обеспечения устройства.  Устройство использует полученные свойства для обновления состояния конфигурации устройства.
  
    ![Рисунок шаблона настройки управления устройствами][img-config_pattern]
* **Обновление встроенного ПО.** Серверное приложение информирует устройство о том, что обновление встроенного ПО инициировано, с помощью прямого метода.  Устройство инициирует многоэтапный процесс, включающий в себя скачивание образа встроенного ПО, его применение и, наконец, повторное подключение к службе Центра Интернета вещей.  На протяжении всего этого многоэтапного процесса устройство использует полученные свойства для обновления хода выполнения и состояния устройства.
  
    ![Рисунок шаблона обновления встроенного ПО управления устройствами][img-fwupdate_pattern]
* **Отчеты о ходе выполнения и состоянии.** Серверное решение выполняет запросы к двойникам набора устройств для создания отчетов о состоянии и ходе выполнения действий на устройстве.
  
    ![Рисунок шаблона отчетов о ходе выполнения и состоянии управления устройства][img-report_progress_pattern]

## <a name="next-steps"></a>Дальнейшие действия
С помощью возможностей, шаблонов и библиотек кода, которые предоставляет Центр Интернета вещей для управления устройствами, можно создавать приложения Интернета вещей, отвечающие требованиям корпоративного оператора устройств Интернета вещей на каждом этапе жизненного цикла устройства.

Чтобы продолжить ознакомление с функциями управления устройствами в Центре Интернета вещей, изучите руководство [How to get started with device management (Node)][lnk-get-started] (Приступая к работе с функциями управления устройствами (Node)).

<!-- Images and links -->
[img-dm_principles]: media/iot-hub-device-management-overview/image4.png
[img-device_lifecycle]: media/iot-hub-device-management-overview/image5.png
[img-config_pattern]: media/iot-hub-device-management-overview/configuration-pattern.png
[img-facreset_pattern]: media/iot-hub-device-management-overview/facreset-pattern.png
[img-fwupdate_pattern]: media/iot-hub-device-management-overview/fwupdate-pattern.png
[img-reboot_pattern]: media/iot-hub-device-management-overview/reboot-pattern.png
[img-report_progress_pattern]: media/iot-hub-device-management-overview/report-progress-pattern.png

[lnk-twins-devguide]: iot-hub-devguide-device-twins.md
[lnk-get-started]: iot-hub-node-node-device-management-get-started.md
[lnk-twins-getstarted]: iot-hub-node-node-twin-getstarted.md
[lnk-twin-properties]: iot-hub-node-node-twin-how-to-configure.md
[lnk-hub-getstarted]: iot-hub-csharp-csharp-getstarted.md
[lnk-identity-registry]: iot-hub-devguide-identity-registry.md
[lnk-bulk-identity]: iot-hub-bulk-identity-mgmt.md
[lnk-query-language]: iot-hub-devguide-query-language.md
[lnk-c2d-methods]: iot-hub-node-node-direct-methods.md
[lnk-methods-devguide]: iot-hub-devguide-direct-methods.md
[lnk-jobs]: iot-hub-node-node-schedule-jobs.md
[lnk-jobs-devguide]: iot-hub-devguide-jobs.md
[lnk-dps]: https://azure.microsoft.com/documentation/services/iot-dps
