---
title: "конечные точки центра IoT Azure aaaUnderstand | Документы Microsoft"
description: "Руководство разработчика. Справочные сведения о конечных точках Центра Интернета вещей, доступных устройству и службе."
services: iot-hub
documentationcenter: .net
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 57ba52ae-19c6-43e4-bc6c-d8a5c2476e95
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/08/2017
ms.author: dobett
ms.openlocfilehash: 8647f15d2f2a050ad5799ea82f4d2d46db0dbec1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="reference---iot-hub-endpoints"></a>Руководство. Конечные точки Центра Интернета вещей

## <a name="iot-hub-names"></a>Имена Центров Интернета вещей

Можно найти имя центра IoT hello, на котором размещены ваши конечные точки на портале hello hello hello **Обзор** колонку. По умолчанию, выглядит hello DNS-имя центра IoT: `{your iot hub name}.azure-devices.net`.

Можно использовать Azure DNS toocreate пользовательское имя DNS для вашего центра IoT. Дополнительные сведения см. в разделе [параметры настраиваемого домена tooprovide используйте Azure DNS для службы Azure](../dns/dns-custom-domain.md#azure-iot).

## <a name="list-of-built-in-iot-hub-endpoints"></a>Список встроенных конечных точек Центра Интернета вещей

Центр IoT Azure является многопользовательскую службу, предоставляющую субъекты toovarious его функциональные возможности. Hello следующая диаграмма показывает hello конечных точек, предоставляемых центр IoT.

![Конечные точки Центра Интернета вещей][img-endpoints]

Hello следующий список описывает hello конечные точки:

* **Поставщик ресурсов.** Hello поставщика ресурсов центра IoT предоставляет [диспетчера ресурсов Azure] [ lnk-arm] интерфейса. Этот интерфейс позволяет toocreate владельцев подписки Azure и удалить центры IoT и tooupdate IoT hub свойства. Центр IoT свойства управляют [политики безопасности на уровне концентратора][lnk-accesscontrol], в отличие от управления доступом на уровне toodevice и функциональных параметров для обмена сообщениями облака для устройства и устройства в облако. Hello поставщика ресурсов центра IoT можно также слишком[экспорт удостоверения устройства][lnk-importexport].
* **Управление удостоверениями устройств.** Каждый центр IoT представляет набор идентификаторов устройств toomanage конечные точки HTTP REST (создания, извлечения, обновление и удаление). [Удостоверения устройств][lnk-device-identities] нужны для аутентификации устройств и контроля доступа к ним.
* **Управление двойником устройства.** Каждый центр IoT предоставляет набор tooquery конечной точки HTTP REST и обновление службы с выходом [близнецы устройства] [ lnk-twins] (обновление тегов и свойств).
* **Управление заданиями.** Каждый центр IoT предоставляет набор tooquery конечной точки HTTP REST ориентированных на службы и управлять [заданий][lnk-jobs].
* **Конечные точки устройств**. Для каждого устройства в реестре удостоверений hello центра IoT предоставляет набор конечных точек:

  * *Отправка сообщений с устройства в облако.* Устройство использует эту конечную точку слишком[отправлять сообщения из устройства в облако][lnk-d2c].
  * *Получение сообщений из облака на устройство.* Устройство использует этот tooreceive конечной точки целевой [сообщений облака на устройство][lnk-c2d].
  * *Инициирование отправки файлов.* Устройство использует tooreceive этой конечной точки URI SAS хранилища Azure из центра IoT слишком[передать файл][lnk-upload].
  * *Получение и обновление свойств двойников устройств*. Устройство использует этот tooaccess конечной точки его [двойных устройства][lnk-twins]его свойства.
  * *Получение запросов прямых методов*. Устройство использует toolisten этой конечной точки для [прямой метод][lnk-methods]на запросы.

    Эти конечные точки предоставляются по протоколам [MQTT 3.1.1][lnk-mqtt], HTTP 1.1 и [AMQP 1.0][lnk-amqp]. Протокол AMQP также доступен в [WebSockets][lnk-websockets] через порт 443.

    Hello устройства близнецы и методы конечных точек доступны только при использовании hello [MQTT v3.1.1] [ lnk-mqtt] протокола.

* **Конечные точки службы**. Каждый центр IoT предоставляет набор конечных точек для вашего решения серверной части toocommunicate с устройствами. За одним исключением, эти конечные точки доступны только с помощью hello [AMQP] [ lnk-amqp] протокола. конечную точку для вызова метода Hello предоставляется через протокол HTTP hello.
  
  * *Получение сообщений с устройства в облако.* Эта конечная точка совместима с [концентраторами событий Azure][lnk-event-hubs]. Внутренней службы можно использовать tooread hello [сообщения из устройства в облако] [ lnk-d2c] отправленных устройств. Можно создать настраиваемые конечные точки на ваш центр IoT в сложения, встроенные toothis конечной точки.
  * *Отправка сообщений из облака на устройство и получение уведомлений о доставке.* Эти конечные точки позволяют вашего решения серверной части toosend надежного [сообщений облака на устройство][lnk-c2d], и tooreceive hello соответствующего подтверждения доставки или истечения срока действия.
  * *Получение уведомлений о файлах*. Этой обмена сообщениями конечной точки позволяет tooreceive уведомления, когда устройства успешно отправить файл. 
  * *Вызов прямого метода.* Эта конечная точка позволяет tooinvoke внутренней службе [прямой метод] [ lnk-methods] на устройстве.
  * *Получение событий мониторинга операций*. Эта конечная точка позволяет tooreceive операции, наблюдение за событиями, если ваш IoT hub было настроено tooemit их. Дополнительные сведения см. в статье [Мониторинг операций Центра Интернета вещей][lnk-operations-mon].

Hello [пакеты SDK Azure IoT] [ lnk-sdks] статье hello различных способов tooaccess эти конечные точки.

Все конечные точки центра IoT использовать hello [TLS] [ lnk-tls] протокола, а конечная точка не никогда не предоставляется в незашифрованном виде незащищенным каналам.

## <a name="custom-endpoints"></a>Пользовательские конечные точки

Можно связать существующих служб Azure в вашей подписке tooyour IoT hub tooact как конечные точки для маршрутизации сообщений. Эти конечные точки действуют как конечные точки служб и используются в качестве приемников для маршрутов сообщений. Устройства не удалось записать непосредственно toohello дополнительные конечные точки. toolearn Дополнительные сведения о маршруты сообщений см. руководство по записи hello разработчика на [отправки и получения сообщений с центром IoT][lnk-devguide-messaging].

Центр IoT в настоящее время поддерживает hello следующих служб Azure как дополнительные конечные точки:

* Концентраторы событий
* Очереди служебной шины
* Разделы шины обслуживания

Центр IoT требуется конечных точек службы toothese доступ на запись к toowork маршрутизации сообщения. При настройке конечных точек через портал Azure hello, добавляются необходимые разрешения hello. Убедитесь, что ожидается hello toosupport пропускная способность службы настройки. При первой настройке вашего решения IoT, вы требуется toomonitor дополнительных конечных точек и внесите необходимые исправления hello реальную нагрузку.

Если сообщение соответствует несколько маршрутов, что все точки toohello же конечную точку центра IoT доставляет конечной точки toothat сообщений только один раз. Таким образом вам не требуется tooconfigure дедупликации на Service Bus очереди или раздела. В секционированных очередях сопоставление секций гарантирует упорядочивание сообщений.

> [!NOTE]
> Для очередей и разделов служебной шины, которые используются как конечные точки Центра Интернета вещей, **сеансы** или **поиск повторяющихся данных** должны быть выключены. Если любой из этих параметров включены, конечная точка hello отображается как **недостижимо** в hello портал Azure.

Ограничения на hello количество конечных точек, можно добавить hello см. [квот и регулирования][lnk-devguide-quotas].

## <a name="field-gateways"></a>Шлюзы поля

В решении Интернета вещей *полевой шлюз* располагается между устройствами и конечными точками Центра Интернета вещей. Это обычно находится закрыть tooyour устройств. Устройствами напрямую подключался hello шлюз поля с использованием протоколов, поддерживаемых устройствами hello. шлюз поля Hello подключается tooan конечной точки центра IoT с использованием протокола, поддерживаемую центр IoT. Полевой шлюз может быть специально выделенным оборудованием или маломощным компьютером, работающим под управлением программного обеспечения настраиваемого шлюза.

Можно использовать [Azure IoT Edge] [ lnk-iot-edge] tooimplement шлюз поля. IoT Edge предлагает функции, такие как обмен данными между несколькими устройствами на hello мультиплексирование одного центра IoT соединения.

## <a name="next-steps"></a>Дальнейшие действия

Другие справочные статьи в руководстве для разработчиков Центра Интернета вещей:

* [Справочник по языку запросов Центра Интернета вещей для двойников устройств и заданий][lnk-devguide-query]
* [Quotas and throttling][lnk-devguide-quotas] (Квоты и регулирование)
* [Поддержка MQTT в Центре Интернета вещей][lnk-devguide-mqtt]

[lnk-iot-edge]: https://github.com/Azure/iot-edge

[img-endpoints]: ./media/iot-hub-devguide-endpoints/endpoints.png
[lnk-amqp]: https://www.amqp.org/
[lnk-mqtt]: http://mqtt.org/
[lnk-websockets]: https://tools.ietf.org/html/rfc6455
[lnk-arm]: ../azure-resource-manager/resource-group-overview.md
[lnk-event-hubs]: http://azure.microsoft.com/documentation/services/event-hubs/

[lnk-tls]: https://tools.ietf.org/html/rfc5246


[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-accesscontrol]: iot-hub-devguide-security.md#access-control-and-permissions
[lnk-importexport]: iot-hub-devguide-identity-registry.md#import-and-export-device-identities
[lnk-d2c]: iot-hub-devguide-messages-d2c.md
[lnk-device-identities]: iot-hub-devguide-identity-registry.md
[lnk-upload]: iot-hub-devguide-file-upload.md
[lnk-c2d]: iot-hub-devguide-messages-c2d.md
[lnk-methods]: iot-hub-devguide-direct-methods.md
[lnk-twins]: iot-hub-devguide-device-twins.md
[lnk-query]: iot-hub-devguide-query-language.md
[lnk-jobs]: iot-hub-devguide-jobs.md

[lnk-devguide-quotas]: iot-hub-devguide-quotas-throttling.md
[lnk-devguide-query]: iot-hub-devguide-query-language.md
[lnk-devguide-mqtt]: iot-hub-mqtt-support.md
[lnk-devguide-messaging]: iot-hub-devguide-messaging.md
[lnk-operations-mon]: iot-hub-operations-monitoring.md
