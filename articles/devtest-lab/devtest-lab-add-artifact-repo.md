---
title: "Добавление репозитория Git в лабораторию в Azure DevTest Labs | Документы Майкрософт"
description: "Добавление репозитория Git GitHub или Visual Studio Team Services, предназначенного для источника пользовательских артефактов, в Azure DevTest Labs"
services: devtest-lab,virtual-machines,visual-studio-online
documentationcenter: na
author: tomarcher
manager: douge
editor: 
ms.assetid: 01b459f7-eaf2-45a8-b4b5-2c0a821b33c8
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/11/2017
ms.author: tarcher
ms.openlocfilehash: 053f92a65f9ae29154d471fd22ee842620b4f273
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="add-a-git-repository-to-store-custom-artifacts-and-azure-resource-manager-templates"></a><span data-ttu-id="ecfa3-103">Добавление репозитория Git для хранения пользовательских артефактов и шаблонов Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="ecfa3-103">Add a Git repository to store custom artifacts and Azure Resource Manager templates</span></span>

<span data-ttu-id="ecfa3-104">Если вы хотите [создать пользовательские артефакты](devtest-lab-artifact-author.md) для виртуальных машин в лаборатории или [использовать шаблоны Azure Resource Manager для создания настраиваемой тестовой среды](devtest-lab-create-environment-from-arm.md), нужно также добавить частный репозиторий Git для артефактов или шаблонов Azure Resource Manager, создаваемых вашей группой.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-104">If you want to [create custom artifacts](devtest-lab-artifact-author.md) for the VMs in your lab, or [use Azure Resource Manager templates to create a custom test environment](devtest-lab-create-environment-from-arm.md), you must also add a private Git repository to include the artifacts or Azure Resource Manager templates that your team creates.</span></span> <span data-ttu-id="ecfa3-105">Репозиторий артефактов может находиться в [GitHub](https://github.com) или [Visual Studio Team Services (VSTS)](https://visualstudio.com).</span><span class="sxs-lookup"><span data-stu-id="ecfa3-105">The repository can be hosted on [GitHub](https://github.com) or on [Visual Studio Team Services (VSTS)](https://visualstudio.com).</span></span>

<span data-ttu-id="ecfa3-106">Мы предоставили [репозиторий Github для артефактов](https://github.com/Azure/azure-devtestlab/tree/master/Artifacts), который можно развернуть в исходном виде либо настроить для своей лаборатории.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-106">We have provided a [Github repository of artifacts](https://github.com/Azure/azure-devtestlab/tree/master/Artifacts) that you can deploy as-is or customize for your labs.</span></span> <span data-ttu-id="ecfa3-107">При настройке или создании артефактов их нельзя сохранять в общедоступном репозитории — нужно создать собственный частный репозиторий.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-107">When you customize or create an artifact, you cannot store them in the public repository – you must create your own private repo.</span></span> 

<span data-ttu-id="ecfa3-108">При создании виртуальной машины можно сохранить шаблон Azure Resource Manager, при необходимости настроить его, а затем использовать для создания дополнительных виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-108">When you create a VM, you can save the Azure Resource Manager template, customize it if you want, and then use it later to easily create more VMs.</span></span> <span data-ttu-id="ecfa3-109">Нежно создать собственный частный репозиторий для хранения настраиваемых шаблонов Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-109">You must create your own private repository to store your custom Azure Resource Manager templates.</span></span>  

* <span data-ttu-id="ecfa3-110">Сведения о создании репозитория GitHub см. в [этой статье](https://help.github.com/categories/bootcamp/).</span><span class="sxs-lookup"><span data-stu-id="ecfa3-110">To learn how to create a GitHub repository, see [GitHub Bootcamp](https://help.github.com/categories/bootcamp/).</span></span>
* <span data-ttu-id="ecfa3-111">Сведения о создании проекта Team Services с репозиторием Git см. в статье [Connect to Visual Studio Team Services from Eclipse, Xcode, Visual Studio, and more](https://www.visualstudio.com/get-started/setup/connect-to-visual-studio-online) (Подключение к Visual Studio Team Services из Eclipse, Xcode, Visual Studio и других служб).</span><span class="sxs-lookup"><span data-stu-id="ecfa3-111">To learn how to create a Team Services project with a Git Repository, see [Connect to Visual Studio Team Services](https://www.visualstudio.com/get-started/setup/connect-to-visual-studio-online).</span></span>

<span data-ttu-id="ecfa3-112">Вот как может выглядеть содержащий артефакты репозиторий в GitHub:</span><span class="sxs-lookup"><span data-stu-id="ecfa3-112">The following screen shot shows an example of how a repository containing artifacts might look in GitHub:</span></span>  
![Пример репозитория артефактов GitHub](./media/devtest-lab-add-repo/devtestlab-github-artifact-repo-home.png)

## <a name="get-the-repository-information-and-credentials"></a><span data-ttu-id="ecfa3-114">Получение сведений о репозитории и его учетных данных</span><span class="sxs-lookup"><span data-stu-id="ecfa3-114">Get the repository information and credentials</span></span>
<span data-ttu-id="ecfa3-115">Чтобы добавить репозиторий в лабораторию, сначала нужно получить из репозитория определенные сведения.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-115">To add a repository to your lab, you must first get certain information from your repository.</span></span> <span data-ttu-id="ecfa3-116">В следующем разделе приводятся инструкции по получению таких сведений для репозиториев, размещенных на портале GitHub и в Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-116">The following sections guide you through getting this information for repositories hosted on GitHub and Visual Studio Team Services.</span></span>

### <a name="get-the-github-repository-clone-url-and-personal-access-token"></a><span data-ttu-id="ecfa3-117">Получение URL-адреса клона и персонального маркера доступа из репозитория GitHub</span><span class="sxs-lookup"><span data-stu-id="ecfa3-117">Get the GitHub repository clone URL and personal access token</span></span>
<span data-ttu-id="ecfa3-118">Для получения URL-адреса клона и личного маркера доступа из репозитория GitHub, выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="ecfa3-118">To get the GitHub repository clone URL and personal access token, follow these steps:</span></span>

1. <span data-ttu-id="ecfa3-119">Перейдите на домашнюю страницу репозитория GitHub, который содержит определения артефактов или шаблонов Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-119">Browse to the home page of the GitHub repository that contains the artifact or Azure Resource Manager template definitions.</span></span>
2. <span data-ttu-id="ecfa3-120">Выберите **Clone or download**(Клонировать или скачать).</span><span class="sxs-lookup"><span data-stu-id="ecfa3-120">Select **Clone or download**.</span></span>
3. <span data-ttu-id="ecfa3-121">Нажмите кнопку, чтобы скопировать **URL-адрес клона HTTPS** в буфер обмена, и сохраните URL-адрес для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-121">Select the button to copy the **HTTPS clone url** to the clipboard, and save the URL for later use.</span></span>
4. <span data-ttu-id="ecfa3-122">Выберите изображение профиля в правом верхнем углу GitHub и щелкните **Параметры**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-122">Select the profile image in the upper-right corner of GitHub, and select **Settings**.</span></span>
5. <span data-ttu-id="ecfa3-123">В меню **Личные параметры** в левой части экрана выберите **Личные маркеры доступа**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-123">In the **Personal settings** menu on the left, select **Personal access tokens**.</span></span>
6. <span data-ttu-id="ecfa3-124">Выберите **Создать новый маркер**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-124">Select **Generate new token**.</span></span>
7. <span data-ttu-id="ecfa3-125">На странице **New personal access token** (Новый личный маркер доступа) введите данные в поле **Token description** (Описание маркера), примите элементы по умолчанию в разделе **Выберите области** и щелкните **Создать токен**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-125">On the **New personal access token** page, enter a **Token description**, accept the default items in the **Select scopes**, and then choose **Generate Token**.</span></span>
8. <span data-ttu-id="ecfa3-126">Сохраните созданный маркер — он вам потребуется позднее.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-126">Save the generated token as you need it later.</span></span>
9. <span data-ttu-id="ecfa3-127">Теперь GitHub можно закрыть.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-127">You can close GitHub now.</span></span>   
10. <span data-ttu-id="ecfa3-128">Перейдите к разделу [Подключение лаборатории к репозиторию](#connect-your-lab-to-the-repository).</span><span class="sxs-lookup"><span data-stu-id="ecfa3-128">Continue to the [Connect your lab to the repository](#connect-your-lab-to-the-repository) section.</span></span>

### <a name="get-the-visual-studio-team-services-repository-clone-url-and-personal-access-token"></a><span data-ttu-id="ecfa3-129">Получение URL-адреса клона и личного маркера доступа из репозитория Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="ecfa3-129">Get the Visual Studio Team Services repository clone URL and personal access token</span></span>
<span data-ttu-id="ecfa3-130">Для получения URL-адреса клона и личного маркера доступа из репозитория Visual Studio Team Services выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="ecfa3-130">To get the Visual Studio Team Services repository clone URL and personal access token, follow these steps:</span></span>

1. <span data-ttu-id="ecfa3-131">Откройте домашнюю страницу групповой коллекции (например, `https://contoso-web-team.visualstudio.com`) и выберите свой проект.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-131">Open the home page of your team collection (for example, `https://contoso-web-team.visualstudio.com`), and then select your project.</span></span>
2. <span data-ttu-id="ecfa3-132">На домашней странице проекта выберите **Код**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-132">On the project home page, select **Code**.</span></span>
3. <span data-ttu-id="ecfa3-133">Чтобы увидеть URL-адрес клона, на странице **Код** проекта выберите **Клон**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-133">To view the clone URL, on the project **Code** page, select **Clone**.</span></span>
4. <span data-ttu-id="ecfa3-134">Сохраните URL-адрес, так как он потребуется при дальнейшей работе с данным учебником.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-134">Save the URL as you need it later in this tutorial.</span></span>
5. <span data-ttu-id="ecfa3-135">Для создания персонального маркера доступа выберите в раскрывающемся меню учетной записи пользователя **Мой профиль** .</span><span class="sxs-lookup"><span data-stu-id="ecfa3-135">To create a Personal Access Token, select **My profile** from the user account drop-down menu.</span></span>
6. <span data-ttu-id="ecfa3-136">На странице сведений о профиле выберите **Безопасность**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-136">On the profile information page, select **Security**.</span></span>
7. <span data-ttu-id="ecfa3-137">На вкладке **Безопасность** щелкните **Добавить**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-137">On the **Security** tab, select **Add**.</span></span>
8. <span data-ttu-id="ecfa3-138">На странице **Создание персонального маркера данных** :</span><span class="sxs-lookup"><span data-stu-id="ecfa3-138">In the **Create a personal access token** page:</span></span>

   * <span data-ttu-id="ecfa3-139">Введите **описание** маркера.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-139">Enter a **Description** for the token.</span></span>
   * <span data-ttu-id="ecfa3-140">Выберите пункт **180 дней** в списке **Срок действия истекает через**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-140">Select **180 days** from the **Expires In** list.</span></span>
   * <span data-ttu-id="ecfa3-141">Выберите пункт **Все доступные учетные записи** в списке **Учетные записи**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-141">Choose **All accessible accounts** from the **Accounts** list.</span></span>
   * <span data-ttu-id="ecfa3-142">Выберите параметр **Все области** .</span><span class="sxs-lookup"><span data-stu-id="ecfa3-142">Choose the **All scopes** option.</span></span>
   * <span data-ttu-id="ecfa3-143">Выберите пункт **Создать маркер**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-143">Choose **Create Token**.</span></span>
9. <span data-ttu-id="ecfa3-144">Новый маркер появится в списке **Личные маркеры доступа** .</span><span class="sxs-lookup"><span data-stu-id="ecfa3-144">When finished, the new token appears in the **Personal Access Tokens** list.</span></span> <span data-ttu-id="ecfa3-145">Выберите **Скопировать маркер**и сохраните значение маркера, так как оно вам потребуется позднее.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-145">Select **Copy Token**, and then save the token value for later use.</span></span>
10. <span data-ttu-id="ecfa3-146">Перейдите к разделу [Подключение лаборатории к репозиторию](#connect-your-lab-to-the-repository).</span><span class="sxs-lookup"><span data-stu-id="ecfa3-146">Continue to the [Connect your lab to the repository](#connect-your-lab-to-the-repository) section.</span></span>

## <a name="connect-your-lab-to-the-repository"></a><span data-ttu-id="ecfa3-147">Подключение лаборатории к репозиторию</span><span class="sxs-lookup"><span data-stu-id="ecfa3-147">Connect your lab to the repository</span></span>
1. <span data-ttu-id="ecfa3-148">Войдите на [портал Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span><span class="sxs-lookup"><span data-stu-id="ecfa3-148">Sign in to the [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040).</span></span>
2. <span data-ttu-id="ecfa3-149">Щелкните **Больше служб**, а затем выберите в списке **DevTest Labs**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-149">Select **More Services**, and then select **DevTest Labs** from the list.</span></span>
3. <span data-ttu-id="ecfa3-150">Из списка лабораторий выберите нужную лабораторию.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-150">From the list of labs, select the desired lab.</span></span>   
4. <span data-ttu-id="ecfa3-151">На панели слева выберите **Конфигурация и политики**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-151">On the left panel, select **Configuration and policies**.</span></span>
5. <span data-ttu-id="ecfa3-152">В области **Конфигурация и политики** лаборатории выберите **Репозитории**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-152">On the lab's **Configuration and policies** area, select **Repositories**.</span></span>
6. <span data-ttu-id="ecfa3-153">В области **Репозитории** выберите **+ Добавить**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-153">On the **Repositories** area, select **+ Add**.</span></span>

    ![Кнопка добавления репозитория](./media/devtest-lab-add-repo/devtestlab-add-repo.png)
7. <span data-ttu-id="ecfa3-155">На второй странице **Репозитории** укажите следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="ecfa3-155">On the second **Repositories** page, specify the following information:</span></span>

   * <span data-ttu-id="ecfa3-156">**Имя** — введите имя репозитория.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-156">**Name** - Enter a name for the repository.</span></span>
   * <span data-ttu-id="ecfa3-157">**URL-адрес клона Git** — введите URL-адрес клона HTTPS Git, скопированный ранее из GitHub или Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-157">**Git Clone Url** - Enter the Git HTTPS clone URL that you copied earlier from either GitHub or Visual Studio Team Services.</span></span>
   * <span data-ttu-id="ecfa3-158">**Ветвь** — укажите ветвь для получения определений.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-158">**Branch** - Enter the branch to get your definitions.</span></span>
   * <span data-ttu-id="ecfa3-159">**Личный маркер доступа** — укажите личный маркер доступа, полученный ранее из GitHub или Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-159">**Personal Access Token** - Enter the personal access token you obtained earlier from either GitHub or Visual Studio Team Services.</span></span>
   * <span data-ttu-id="ecfa3-160">**Путь к папке** — введите по меньшей мере один путь к папке относительно URL-адреса клона, содержащего определения артефактов или шаблонов Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-160">**Folder Paths** - Enter at least one folder path relative to the clone URL that contains your artifact or Azure Resource Manager template definitions.</span></span> <span data-ttu-id="ecfa3-161">При указании подкаталога обязательно включите косую черту в путь к папке.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-161">When specifying a subdirectory, make sure to include the forward slash in the folder path.</span></span>

     ![Область "Репозитории"](./media/devtest-lab-add-repo/devtestlab-repo-blade.png)
8. <span data-ttu-id="ecfa3-163">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-163">Select **Save**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ecfa3-164">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="ecfa3-164">Next steps</span></span>
<span data-ttu-id="ecfa3-165">После создания частного репозитория Git в зависимости от потребностей можно выполнить одно или оба из следующих действий:</span><span class="sxs-lookup"><span data-stu-id="ecfa3-165">After you have created your private Git repository, you can do one or both of the following, depending on your needs:</span></span>
* <span data-ttu-id="ecfa3-166">Сохраните [пользовательские артефакты](devtest-lab-artifact-author.md), которые можно использовать позднее для создания виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-166">Store your [custom artifacts](devtest-lab-artifact-author.md), which you can use later to create new VMs.</span></span>
* <span data-ttu-id="ecfa3-167">[Создайте среды с множеством виртуальных машин и ресурсов PaaS с помощью шаблонов Azure Resource Manager](devtest-lab-create-environment-from-arm.md), а затем сохраните шаблоны в частном репозитории.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-167">[Create multi-VM environments and PaaS resources with Azure Resource Manager templates](devtest-lab-create-environment-from-arm.md) and then store the templates in your private repo.</span></span>

<span data-ttu-id="ecfa3-168">При создании виртуальной машины вы можете убедиться, что артефакты или шаблоны добавляются в ваш репозиторий Git.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-168">When you create a VM, you can verify that the artifacts or templates are added to your Git repository.</span></span> <span data-ttu-id="ecfa3-169">Они сразу же появляются в списке артефактов или шаблонов, при этом в столбце источника отображается имя частного репозитория.</span><span class="sxs-lookup"><span data-stu-id="ecfa3-169">They are available immediately in the list of artifacts or templates, with the name of your private repo shown in the column that specifies the source.</span></span> 

[!INCLUDE [devtest-lab-try-it-out](../../includes/devtest-lab-try-it-out.md)]

### <a name="related-blog-posts"></a><span data-ttu-id="ecfa3-170">Связанные записи в блогах</span><span class="sxs-lookup"><span data-stu-id="ecfa3-170">Related blog posts</span></span>
* <span data-ttu-id="ecfa3-171">[Diagnose artifact failures in the lab](devtest-lab-troubleshoot-artifact-failure.md) (Диагностика сбоев артефактов в лаборатории)</span><span class="sxs-lookup"><span data-stu-id="ecfa3-171">[How to troubleshoot failing Artifacts in Azure DevTest Labs](devtest-lab-troubleshoot-artifact-failure.md)</span></span>
* <span data-ttu-id="ecfa3-172">[Join a VM to existing AD Domain using ARM template in Azure Dev Test Lab](http://www.visualstudiogeeks.com/blog/DevOps/Join-a-VM-to-existing-AD-domain-using-ARM-template-AzureDevTestLabs) (Присоединение виртуальной машины к существующему домену AD с помощью шаблона ARM в Azure DevTest Labs)</span><span class="sxs-lookup"><span data-stu-id="ecfa3-172">[Join a VM to existing AD Domain using a resource manager template in Azure DevTest Labs](http://www.visualstudiogeeks.com/blog/DevOps/Join-a-VM-to-existing-AD-domain-using-ARM-template-AzureDevTestLabs)</span></span>
