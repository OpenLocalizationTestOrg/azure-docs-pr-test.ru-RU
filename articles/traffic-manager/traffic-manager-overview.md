---
title: "aaaWhat — диспетчер трафика | Документы Microsoft"
description: "Эта статья поможет вам понять возможности диспетчера трафика и будь то hello правой трафика маршрутизации подходящую для разрабатываемого приложения"
services: traffic-manager
documentationcenter: 
author: kumudd
manager: timlt
editor: 
ms.assetid: 75d5ff9a-f4b9-4b05-af32-700e7bdfea5a
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/15/2017
ms.author: kumud
ms.openlocfilehash: 8e63ed11cdcdc03ae9cd28f88f0d1f9dc2cd44ff
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="overview-of-traffic-manager"></a>Обзор диспетчера трафика

Диспетчер трафика Microsoft Azure позволяет toocontrol hello распределением пользовательского трафика для конечных точек службы в разных центрах обработки данных. К конечным точкам службы, поддерживаемым диспетчером трафика Azure, относятся виртуальные машины, веб-приложения и облачные службы Azure. Можно также использовать диспетчер трафика Azure для внешних конечных точек, не относящихся к среде Azure.

Диспетчер трафика использует hello доменных имен (DNS) toodirect запросов toohello наиболее подходящий конечная точка клиента на основе метода маршрутизации трафика и работоспособности hello hello конечных точек. Диспетчер трафика предоставляет широкий набор [методов маршрутизации трафика](traffic-manager-routing-methods.md) и [параметры мониторинга конечных точек](traffic-manager-monitoring.md) другое приложение toosuit потребностей и автоматический переход на другой модели. Диспетчер трафика является устойчивым toofailure, включая hello сбое всего региона Azure.

## <a name="traffic-manager-benefits"></a>Преимущества диспетчера трафика

Диспетчер трафика позволяет решать указанные ниже задачи.

* **Повышение доступности критически важных приложений.**

    Диспетчер трафика обеспечивает высокую доступность для приложений за счет мониторинга конечных точек и автоматической отработки отказа при выходе конечной точки из строя.

* **Улучшение отклика высокопроизводительных приложений.**

    Azure позволяет toorun облачных служб или веб-сайтов в центрах вокруг Здравствуй, мир. Диспетчер трафика повышает скорость реагирования приложения путем направления конечной точки toohello трафика с наименьшим значением задержки сети hello для клиента hello.

* **Обслуживание без простоя.**

    Вы можете выполнять операции запланированного обслуживания приложений без простоев. Диспетчер трафика направляет трафик tooalternative конечных hello обслуживания во время выполнения.

* **Объединение локальных и облачных приложений.**

    Диспетчер трафика поддерживает внешние, конечные точки не Azure, позволяя тем самым toobe при использовании гибридного облака и локально развертывания, включая hello «повышение в облако,» «Миграция в облако,» и «переход на другой ресурс в облако».

* **Распределение трафика крупных, сложных развертываний.**

    С помощью [вложенных профилей диспетчера трафика](traffic-manager-nested-profiles.md), методов маршрутизации трафика может иметь объединенный toocreate сложных и гибких правил toosupport hello требуется более крупных и сложных развертываний.

## <a name="how-traffic-manager-works"></a>Как работает диспетчер трафика

Диспетчер трафика Azure позволяет toocontrol hello распределение трафика между конечными точками вашего приложения. Конечная точка — это любая служба, размещенная в среде Azure или за ее пределами, с доступом в Интернет.

Диспетчер трафика предоставляет два основных преимущества.

1. Распределение трафика в соответствии с tooone нескольких [методов маршрутизации трафика](traffic-manager-routing-methods.md)
2. [Постоянный мониторинг работоспособности конечной точки](traffic-manager-monitoring.md) и автоматический переход на другой ресурс при сбое конечных точек.

Когда клиент пытается tooconnect tooa службы, сначала необходимо устранить hello DNS-имя hello службы tooan IP-адрес. Hello клиент затем подключается toothat IP адрес tooaccess hello службы.

**наиболее важные точки toounderstand Hello — работы диспетчера трафика на уровне DNS hello.**  Диспетчер трафика использует DNS toodirect клиенты toospecific службы конечные точки на основе правил hello hello метода маршрутизации трафика. Клиенты подключаются toohello выбранной конечной точки **непосредственно**. Диспетчер трафика не выполняет функции прокси-сервера или шлюза. Диспетчер трафика не видит hello трафик, проходящий между hello клиентом и службой hello.

### <a name="traffic-manager-example"></a>Пример диспетчера трафика

Корпорация Contoso разработала новый партнерский портал. Hello URL-адрес для этого портала — https://partners.contoso.com/login.aspx. приложение Hello размещается в трех регионах Azure. tooimprove доступности и повышения общей производительности, они используют toodistribute диспетчера трафика клиента трафика toohello ближайшей доступной конечной точки.

tooachieve этой конфигурации их выполнения hello следующие шаги:

1. Развертывается три экземпляра службы. DNS-имена Hello из этих случаев являются «contoso us.cloudapp .net», «contoso eu.cloudapp .net» и «contoso asia.cloudapp .net».
2. Создание профиля диспетчера трафика, с именем «contoso.trafficmanager.net» и настройте его метод маршрутизации трафика «Производительность» hello toouse между конечными точками hello трех.
* Можно настроить их именного доменное имя, «partners.contoso.com», toopoint too'contoso.trafficmanager.net ", с помощью записи CNAME в DNS.

![Конфигурация DNS диспетчера трафика][1]

> [!NOTE]
> При использовании в собственном домене с диспетчером трафика Azure, необходимо использовать CNAME toopoint вашей именного домена имя tooyour имя домена диспетчера трафика. Стандартах DNS не позволяют toocreate запись CNAME в hello «вершина» (или корневой) домена. Поэтому вы не сможете создать запись CNAME для contoso.com (такой адрес иногда называют "голым" доменом). Запись CNAME можно создать только для поддомена contoso.com (например, www.contoso.com). toowork обойти это ограничение, рекомендуется использовать простые toodirect перенаправления HTTP-запросы для альтернативного имени «contoso.com» tooan например, «www.contoso.com».

### <a name="how-clients-connect-using-traffic-manager"></a>Как клиенты могут подключаться с помощью диспетчера трафика

Продолжить выполнение из предыдущего примера hello, когда клиент запрашивает страницу https://partners.contoso.com/login.aspx hello, hello клиент выполняет следующие шаги tooresolve hello DNS-имя hello и установления подключения:

![Установка подключения с помощью диспетчера трафика][2]

1. Hello клиент отправляет рекурсивный tooits настроен DNS запрос DNS имя hello tooresolve службы «partners.contoso.com». (Рекурсивная (локальная) служба DNS сама не размещает информацию о доменах. Вместо этого клиент hello off-loads рабочих hello взаимодействия hello различных заслуживающий доверия DNS служб через Интернет требуется tooresolve hello DNS-имя.
2. tooresolve hello DNS-имя, службы DNS рекурсивные hello находит серверы имен hello для домена «contoso.com» hello. Затем он связывается этих имя серверов toorequest hello «partners.contoso.com» запись DNS. Hello contoso.com DNS-серверы возвращают hello CNAME, указывающую toocontoso.trafficmanager.net.
3. Затем служба DNS рекурсивные hello находит серверы hello имя для домена «trafficmanager.net» hello, предоставляемых hello служба диспетчера трафика Azure. Он затем отправляет запрос для toothose записей DNS «contoso.trafficmanager.net» hello DNS-серверов.
4. серверы имен диспетчера трафика Hello получение запроса hello. Они выбирают конечную точку, учитывая следующее:

    - настроить Hello состояние каждой конечной точки (отключенные конечные точки не возвращается)
    - Проверяет текущее состояние каждой конечной точки, как определить с помощью диспетчера трафика работоспособности hello Hello. Дополнительные сведения см. в статье [Мониторинг и отработка отказов конечной точки диспетчера трафика](traffic-manager-monitoring.md).
    - Здравствуйте, выбранный метод маршрутизации трафика. Дополнительные сведения см. в статье [Методы маршрутизации трафика диспетчером трафика](traffic-manager-routing-methods.md).

5. Конечная точка выбрана Hello возвращаются в виде другую запись CNAME в DNS. В нашем примере это — contoso-us.cloudapp.net.
6. Затем служба DNS рекурсивные hello находит серверы hello имя для домена «cloudapp.net» hello. Он сможет обратиться. Эти hello toorequest серверов имя «contoso us.cloudapp .net» DNS-запись. Запись DNS «A», содержащую IP-адрес конечной точки службы на основе США hello hello возвращается.
7. Служба DNS рекурсивные Hello объединяет результаты hello и возвращает один toohello ответа DNS-клиента.
8. Hello клиент получает результаты для DNS hello и подключается toohello указанного IP-адреса. Клиент Hello подключается конечной точки службы приложения toohello напрямую, не через диспетчер трафика. Так как конечная точка HTTPS, выполняет необходимые подтверждения SSL/TLS hello hello клиента, а затем вызывает запрос HTTP GET для hello "/ login.aspx" страницы.

Служба DNS рекурсивные Hello кэширует hello полученных ответов DNS. Hello сопоставителя DNS на клиентском устройстве hello кэширует результат hello. Кэширование позволяет последующих toobe запросы DNS, более быстрого ответа на использование данных из кэша hello, а не запросов другим серверам имен. Длительность Hello hello кэша определяется свойством hello «время жизни» (TTL) каждой записи DNS. Значения короче привести быстрее срока действия кэша и таким образом несколько циклов приема-передачи toohello диспетчера трафика серверы имен. Более длинные значения означают, что может занять больше времени, toodirect трафик от конечной точки сбоя. Диспетчер трафика позволяет tooconfigure hello TTL используется в toobe ответов DNS диспетчера трафика в диапазоне от 0 секунд и максимально 2 147 483 647 секунд (hello максимальный диапазон, совместимые с [RFC 1035](https://www.ietf.org/rfc/rfc1035.txt)), позволяя toochoose значение hello лучше всего, сальдо hello требованиям приложения.

## <a name="pricing"></a>Цены

Сведения о ценах см. на [странице с ценами на диспетчер трафика](https://azure.microsoft.com/pricing/details/traffic-manager/).

## <a name="faq"></a>Часто задаваемые вопросы

Ответы на часто задаваемые вопросы о диспетчере трафика Azure см. в статье [Диспетчер трафика Azure: вопросы и ответы](traffic-manager-FAQs.md).

## <a name="next-steps"></a>Дальнейшие действия

См. дополнительные сведения в статье [Мониторинг и отработка отказов конечной точки диспетчера трафика](traffic-manager-monitoring.md).

См. дополнительные сведения в статье [Методы маршрутизации трафика диспетчером трафика](traffic-manager-routing-methods.md).

Дополнительные сведения о некоторых hello другой ключ [сетевые возможности](../networking/networking-overview.md) платформы Azure.

<!--Image references-->
[1]: ./media/traffic-manager-how-traffic-manager-works/dns-configuration.png
[2]: ./media/traffic-manager-how-traffic-manager-works/flow.png

