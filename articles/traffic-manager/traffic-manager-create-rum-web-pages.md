---
title: "Измерения на стороне пользователей в диспетчере трафика Azure с использованием веб-страниц | Документация Майкрософт"
description: "Настройка веб-страниц для отправки измерений на стороне пользователей в диспетчер трафика"
services: traffic-manager
documentationcenter: traffic-manager
author: KumudD
manager: timlt
editor: 
tags: 
ms.assetid: 
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: 
ms.workload: infrastructure
ms.date: 09/19/2017
ms.author: kumud
ms.custom: 
ms.openlocfilehash: ce5d333ad5d339b64d1fc1d081651052f71a8b67
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="how-to-send-real-user-measurements-to-azure-traffic-manager-using-web-pages"></a>Как отправить измерения на стороне пользователей в диспетчер трафика Azure с использованием веб-страниц

>[!NOTE]
>Функция "Измерения на стороне пользователей" в диспетчере трафика доступна в режиме предварительной версии. Она может не отличаться таким же уровнем доступности и надежности, как функции, предоставляемые в режиме общедоступной версии. Эта функция не поддерживается, может иметь ограничения и быть доступной не во всех расположениях Azure. Актуальные сведения о доступности и состоянии этой функции см. на странице [обновлений для диспетчера трафика Azure](https://azure.microsoft.com/updates/?product=traffic-manager).

Вы можете настроить веб-страницы для отправки измерений на стороне пользователей в диспетчер трафика, получив ключ RUM и внедрив созданный код на веб-страницу.

## <a name="obtain-a-real-user-measurements-key"></a>Получение ключа измерений на стороне пользователей

Измерения, которые вы принимаете и отправляете в диспетчер трафика из клиентского приложения, идентифицируются службой с помощью уникальной строки, называемой **ключом измерений на стороне пользователей (RUM)**. Ключ RUM можно получить с помощью портала Azure, REST API, PowerShell или Azure CLI.

Чтобы получить ключ RUM с помощью портала Azure, сделайте следующее:
1. В браузере войдите на портал Azure. Если у вас еще нет учетной записи, вы можете зарегистрироваться для получения бесплатной пробной версии на один месяц.
2. На панели поиска портала выполните поиск по имени профиля диспетчера трафика, которое необходимо изменить, а затем щелкните профиль диспетчера трафика в отображаемых результатах.
3. В колонке профиля диспетчера трафика в разделе **Параметры** щелкните **Real User Measurements** (Измерения на стороне пользователей).
4. Щелкните **Создать ключ**, чтобы создать ключ RUM.
 
  ![Создание ключа измерений на стороне пользователей](./media/traffic-manager-create-rum-visual-studio/generate-rum-key.png)

   **Рис. 1. Создание ключа измерений на стороне пользователей**

5. В этой колонке отображается созданный ключ RUM и фрагмент кода JavaScript, который необходимо внедрить на страницу HTML.
 
    ![Код JavaScript ключа измерений на стороне пользователей](./media/traffic-manager-create-rum-web-pages/rum-javascript-code.png)

    **Рис. 2. Ключ измерений на стороне пользователей и скрипт JavaScript измерений**
 
6.  Нажмите кнопку **Копировать**, чтобы скопировать код JavaScript. 

>[!IMPORTANT]
> Используйте созданный код JavaScript для правильной работы функции измерений на стороне пользователей. Любые изменения, внесенные в этот скрипт или скрипты, используемые функцией измерений на стороне пользователей, могут привести к непредсказуемому поведению.

## <a name="embed-the-code-to-an-html-web-page"></a>Внедрение кода на веб-страницу HTML

После получения ключа RUM необходимо внедрить этот скопированный код JavaScript на HTML-страницу, которую посещают конечные пользователи. Редактирование HTML-страницы можно выполнить разными способами и с помощью разных инструментов и рабочих процессов. В этом примере показано, как добавить этот скрипт на HTML-страницу. Вы можете использовать это руководство, адаптировав его непосредственно для своего рабочего процесса управления HTML-кодом.

1.  Откройте HTML-страницу в текстовом редакторе.
2.  Вставьте код JavaScript, который вы скопировали ранее, в раздел body HTML-страницы (скопированный код содержится в строках 8–9, см. рис. 3).
 
    ![Внедрение кода JavaScript на веб-страницу для измерений на стороне пользователей](./media/traffic-manager-create-rum-web-pages/rum-javascript-code.png)  

    **Рис. 3. Простая HTML-страница с внедренным кодом JavaScript функции измерений на стороне пользователей**

3.  Сохраните HTML-файл.
4. При следующем отображении этой страницы в веб-браузере загрузится соответствующий код JavaScript и с его помощью будут выполнены операции измерения и создания отчетов.


## <a name="next-steps"></a>Дальнейшие действия
- Узнайте больше об [измерениях на стороне пользователей](traffic-manager-rum-overview.md).
- Узнайте о том, [как работает диспетчер трафика](traffic-manager-overview.md)
- Узнайте больше о [методах маршрутизации трафика](traffic-manager-routing-methods.md) , поддерживаемых в диспетчере трафика.
- Узнайте, как [создать профиль диспетчера трафика](traffic-manager-create-profile.md)

