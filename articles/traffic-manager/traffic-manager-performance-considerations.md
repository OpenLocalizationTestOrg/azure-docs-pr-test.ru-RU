---
title: "aaaPerformance рекомендации для диспетчера трафика Azure | Документы Microsoft"
description: "Получить производительности, относящиеся к диспетчеру трафика и как tootest производительности веб-сайта, при использовании диспетчера трафика"
services: traffic-manager
documentationcenter: 
author: kumudd
manager: timlt
editor: 
ms.assetid: 3ba5dfa1-2922-43f1-9a23-d06969c4a516
ms.service: traffic-manager
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 03/16/2017
ms.author: kumud
ms.openlocfilehash: fd4e6cb221a2ceee63ec57237ee90fd714e91db8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="performance-considerations-for-traffic-manager"></a><span data-ttu-id="7a384-103">Рекомендации по безопасности для диспетчера трафика</span><span class="sxs-lookup"><span data-stu-id="7a384-103">Performance considerations for Traffic Manager</span></span>

<span data-ttu-id="7a384-104">На этой странице описываются особенности использования диспетчера трафика.</span><span class="sxs-lookup"><span data-stu-id="7a384-104">This page explains performance considerations using Traffic Manager.</span></span> <span data-ttu-id="7a384-105">Рассмотрим следующие сценарии hello.</span><span class="sxs-lookup"><span data-stu-id="7a384-105">Consider hello following scenario:</span></span>

<span data-ttu-id="7a384-106">У вас есть экземпляры веб-сайта в hello WestUS и EastAsia областей.</span><span class="sxs-lookup"><span data-stu-id="7a384-106">You have instances of your website in hello WestUS and EastAsia regions.</span></span> <span data-ttu-id="7a384-107">Один из экземпляров hello произошел сбой проверки работоспособности hello пробы диспетчера трафика hello.</span><span class="sxs-lookup"><span data-stu-id="7a384-107">One of hello instances is failing hello health check for hello traffic manager probe.</span></span> <span data-ttu-id="7a384-108">Трафика приложения — расширенный toohello работоспособное область.</span><span class="sxs-lookup"><span data-stu-id="7a384-108">Application traffic is directed toohello healthy region.</span></span> <span data-ttu-id="7a384-109">Ожидалась этой отработки отказа, но производительность может вызвать проблемы зависимости от задержки hello трафика hello, теперь проходящих tooa отдаленных области.</span><span class="sxs-lookup"><span data-stu-id="7a384-109">This failover is expected but performance can be a problem based on hello latency of hello traffic now traveling tooa distant region.</span></span>

## <a name="performance-considerations-for-traffic-manager"></a><span data-ttu-id="7a384-110">Рекомендации по безопасности для диспетчера трафика</span><span class="sxs-lookup"><span data-stu-id="7a384-110">Performance considerations for Traffic Manager</span></span>

<span data-ttu-id="7a384-111">Hello только влияние на производительность, способное диспетчера трафика на веб-сайта — hello при первоначальном уточняющем запросе DNS.</span><span class="sxs-lookup"><span data-stu-id="7a384-111">hello only performance impact that Traffic Manager can have on your website is hello initial DNS lookup.</span></span> <span data-ttu-id="7a384-112">DNS-запрос для hello имя профиля диспетчера трафика обрабатывается корневой сервер Microsoft DNS hello этой зоны trafficmanager.net hello узлов.</span><span class="sxs-lookup"><span data-stu-id="7a384-112">A DNS request for hello name of your Traffic Manager profile is handled by hello Microsoft DNS root server that hosts hello trafficmanager.net zone.</span></span> <span data-ttu-id="7a384-113">Диспетчер трафика заполняет и регулярно обновляет корневой hello Microsoft DNS-серверы, на основе политики диспетчера трафика hello и результаты проверки hello.</span><span class="sxs-lookup"><span data-stu-id="7a384-113">Traffic Manager populates, and regularly updates, hello Microsoft's DNS root servers based on hello Traffic Manager policy and hello probe results.</span></span> <span data-ttu-id="7a384-114">Даже во время начальной поиск DNS hello нет DNS-запросы отправляются tooTraffic диспетчера.</span><span class="sxs-lookup"><span data-stu-id="7a384-114">So even during hello initial DNS lookup, no DNS queries are sent tooTraffic Manager.</span></span>

<span data-ttu-id="7a384-115">Диспетчер трафика состоит из нескольких компонентов: DNS-имен серверов, API-службы, уровень хранилища hello и наблюдение за службой конечной точки.</span><span class="sxs-lookup"><span data-stu-id="7a384-115">Traffic Manager is made up of several components: DNS name servers, an API service, hello storage layer, and an endpoint monitoring service.</span></span> <span data-ttu-id="7a384-116">При сбое компонент службы диспетчера трафика, нет никакого влияния на hello DNS-имя, связанное с профилем диспетчера трафика.</span><span class="sxs-lookup"><span data-stu-id="7a384-116">If a Traffic Manager service component fails, there is no effect on hello DNS name associated with your Traffic Manager profile.</span></span> <span data-ttu-id="7a384-117">записи Hello в hello DNS-серверах Майкрософт, остаются без изменений.</span><span class="sxs-lookup"><span data-stu-id="7a384-117">hello records in hello Microsoft DNS servers remain unchanged.</span></span> <span data-ttu-id="7a384-118">При этом мониторинг конечной точки и обновление DNS не выполняется.</span><span class="sxs-lookup"><span data-stu-id="7a384-118">However, endpoint monitoring and DNS updating do not happen.</span></span> <span data-ttu-id="7a384-119">Таким образом диспетчер трафика не может tooupdate DNS toopoint tooyour отработки отказа сайтом при первичном сайте выходит из строя.</span><span class="sxs-lookup"><span data-stu-id="7a384-119">Therefore, Traffic Manager is not able tooupdate DNS toopoint tooyour failover site when your primary site goes down.</span></span>

<span data-ttu-id="7a384-120">Разрешение DNS-имен выполняется быстро и с кэшированием результатов.</span><span class="sxs-lookup"><span data-stu-id="7a384-120">DNS name resolution is fast and results are cached.</span></span> <span data-ttu-id="7a384-121">Hello hello при первоначальном уточняющем запросе DNS зависят приветствия hello серверы DNS-клиент использует для разрешения имен.</span><span class="sxs-lookup"><span data-stu-id="7a384-121">hello speed of hello initial DNS lookup depends on hello DNS servers hello client uses for name resolution.</span></span> <span data-ttu-id="7a384-122">Как правило, клиент выполняет поиск DNS примерно за 50 мс.</span><span class="sxs-lookup"><span data-stu-id="7a384-122">Typically, a client can complete a DNS lookup within ~50 ms.</span></span> <span data-ttu-id="7a384-123">Результаты поиска hello Hello кэшируются hello время hello DNS время жизни (TTL).</span><span class="sxs-lookup"><span data-stu-id="7a384-123">hello results of hello lookup are cached for hello duration of hello DNS Time-to-live (TTL).</span></span> <span data-ttu-id="7a384-124">по умолчанию Hello TTL для диспетчера трафика — 300 секунд.</span><span class="sxs-lookup"><span data-stu-id="7a384-124">hello default TTL for Traffic Manager is 300 seconds.</span></span>

<span data-ttu-id="7a384-125">Трафик НЕ проходит через диспетчер трафика.</span><span class="sxs-lookup"><span data-stu-id="7a384-125">Traffic does NOT flow through Traffic Manager.</span></span> <span data-ttu-id="7a384-126">По завершении просмотра DNS hello hello клиент имеет IP-адрес для экземпляра веб-узла.</span><span class="sxs-lookup"><span data-stu-id="7a384-126">Once hello DNS lookup completes, hello client has an IP address for an instance of your web site.</span></span> <span data-ttu-id="7a384-127">Клиент Hello адрес toothat подключается напрямую и не проходит через диспетчер трафика.</span><span class="sxs-lookup"><span data-stu-id="7a384-127">hello client connects directly toothat address and does not pass through Traffic Manager.</span></span> <span data-ttu-id="7a384-128">Hello политики диспетчера трафика, выбрать имеет не влияют на производительность DNS hello.</span><span class="sxs-lookup"><span data-stu-id="7a384-128">hello Traffic Manager policy you choose has no influence on hello DNS performance.</span></span> <span data-ttu-id="7a384-129">Однако производительность маршрутизации метод может отрицательно повлиять на процесс приложение hello.</span><span class="sxs-lookup"><span data-stu-id="7a384-129">However, a Performance routing-method can negatively impact hello application experience.</span></span> <span data-ttu-id="7a384-130">Например если ваша политика перенаправляет трафик из Северной Америки tooan экземпляра, размещенного в Азии, hello задержки в сети для этих сеансов может быть проблема с производительностью.</span><span class="sxs-lookup"><span data-stu-id="7a384-130">For example, if your policy redirects traffic from North America tooan instance hosted in Asia, hello network latency for those sessions may be a performance issue.</span></span>

## <a name="measuring-traffic-manager-performance"></a><span data-ttu-id="7a384-131">Проверка производительности диспетчера трафика</span><span class="sxs-lookup"><span data-stu-id="7a384-131">Measuring Traffic Manager Performance</span></span>

<span data-ttu-id="7a384-132">Существует несколько сайтов, можно использовать toounderstand hello производительности и поведение профиля диспетчера трафика.</span><span class="sxs-lookup"><span data-stu-id="7a384-132">There are several websites you can use toounderstand hello performance and behavior of a Traffic Manager profile.</span></span> <span data-ttu-id="7a384-133">Многие из этих сайтов можно использовать бесплатно, но с некоторыми ограничениями.</span><span class="sxs-lookup"><span data-stu-id="7a384-133">Many of these sites are free but may have limitations.</span></span> <span data-ttu-id="7a384-134">Некоторые сайты предлагают платные расширенные возможности мониторинга и отчетности.</span><span class="sxs-lookup"><span data-stu-id="7a384-134">Some sites offer enhanced monitoring and reporting for a fee.</span></span>

<span data-ttu-id="7a384-135">средства Hello на этих узлах измерять задержек DNS и отображения hello разрешить IP-адреса для клиента местоположениях Здравствуй, мир.</span><span class="sxs-lookup"><span data-stu-id="7a384-135">hello tools on these sites measure DNS latencies and display hello resolved IP addresses for client locations around hello world.</span></span> <span data-ttu-id="7a384-136">Большинство этих средств не кэшируют результаты hello DNS.</span><span class="sxs-lookup"><span data-stu-id="7a384-136">Most of these tools do not cache hello DNS results.</span></span> <span data-ttu-id="7a384-137">Таким образом инструменты hello показывают hello полного просмотра DNS при каждом запуске теста.</span><span class="sxs-lookup"><span data-stu-id="7a384-137">Therefore, hello tools show hello full DNS lookup each time a test is run.</span></span> <span data-ttu-id="7a384-138">При тестировании от своего собственного клиента можно только производительности hello полного DNS Уточняющий запрос один раз за период TTL hello.</span><span class="sxs-lookup"><span data-stu-id="7a384-138">When you test from your own client, you only experience hello full DNS lookup performance once during hello TTL duration.</span></span>

## <a name="sample-tools-toomeasure-dns-performance"></a><span data-ttu-id="7a384-139">Пример средства toomeasure DNS производительности</span><span class="sxs-lookup"><span data-stu-id="7a384-139">Sample tools toomeasure DNS performance</span></span>

* [<span data-ttu-id="7a384-140">SolveDNS</span><span class="sxs-lookup"><span data-stu-id="7a384-140">SolveDNS</span></span>](http://www.solvedns.com/dns-comparison/)

    <span data-ttu-id="7a384-141">SolveDNS включает разные средства для повышения производительности.</span><span class="sxs-lookup"><span data-stu-id="7a384-141">SolveDNS offers many performance tools.</span></span> <span data-ttu-id="7a384-142">средства сравнения DNS Hello может показывать время, затрачиваемое tooresolve DNS-имени и сравнение, поставщики услуг tooother DNS.</span><span class="sxs-lookup"><span data-stu-id="7a384-142">hello DNS Comparison tool can show you how long it takes tooresolve your DNS name and how that compares tooother DNS service providers.</span></span>

* [<span data-ttu-id="7a384-143">WebSitePulse</span><span class="sxs-lookup"><span data-stu-id="7a384-143">WebSitePulse</span></span>](http://www.websitepulse.com/help/tools.php)

    <span data-ttu-id="7a384-144">Одним из средств простой hello является WebSitePulse.</span><span class="sxs-lookup"><span data-stu-id="7a384-144">One of hello simplest tools is WebSitePulse.</span></span> <span data-ttu-id="7a384-145">Введите время ответа DNS toosee URL-адрес hello, первый байт, получения последнего байта и другие статистические данные производительности.</span><span class="sxs-lookup"><span data-stu-id="7a384-145">Enter hello URL toosee DNS resolution time, First Byte, Last Byte, and other performance statistics.</span></span> <span data-ttu-id="7a384-146">Вы можете выбрать одно из трех тестовых расположений.</span><span class="sxs-lookup"><span data-stu-id="7a384-146">You can choose from three different test locations.</span></span> <span data-ttu-id="7a384-147">В этом примере вы видите hello первого выполнения показывает, что Уточняющий запрос DNS принимает 0.204 сек.</span><span class="sxs-lookup"><span data-stu-id="7a384-147">In this example, you see that hello first execution shows that DNS lookup takes 0.204 sec.</span></span>

    ![pulse1](./media/traffic-manager-performance-considerations/traffic-manager-web-site-pulse.png)

    <span data-ttu-id="7a384-149">Поскольку приветствия результаты сохраняются в кэше, hello второй тест для hello же поиск DNS диспетчера трафика конечной точки hello занимает 0.002 сек.</span><span class="sxs-lookup"><span data-stu-id="7a384-149">Because hello results are cached, hello second test for hello same Traffic Manager endpoint hello DNS lookup takes 0.002 sec.</span></span>

    ![pulse2](./media/traffic-manager-performance-considerations/traffic-manager-web-site-pulse2.png)

* [<span data-ttu-id="7a384-151">CA App Synthetic Monitor</span><span class="sxs-lookup"><span data-stu-id="7a384-151">CA App Synthetic Monitor</span></span>](https://asm.ca.com/en/checkit.php)

    <span data-ttu-id="7a384-152">Прежнее название — средства веб-сайта проверьте Watchmouse hello, этот сайт показано время hello разрешения DNS из нескольких географических регионов, одновременно.</span><span class="sxs-lookup"><span data-stu-id="7a384-152">Formerly known as hello Watchmouse Check Website tool, this site show you hello DNS resolution time from multiple geographic regions simultaneously.</span></span> <span data-ttu-id="7a384-153">Введите время ответа DNS для toosee hello URL-адрес, время подключения и скорость из нескольких географических местоположений.</span><span class="sxs-lookup"><span data-stu-id="7a384-153">Enter hello URL toosee DNS resolution time, connection time, and speed from several geographic locations.</span></span> <span data-ttu-id="7a384-154">Используйте этот тест toosee, возвращается какие размещенной службы для разных местах по всему Здравствуй, мир.</span><span class="sxs-lookup"><span data-stu-id="7a384-154">Use this test toosee which hosted service is returned for different locations around hello world.</span></span>

    ![pulse1](./media/traffic-manager-performance-considerations/traffic-manager-web-site-watchmouse.png)

* [<span data-ttu-id="7a384-156">Pingdom</span><span class="sxs-lookup"><span data-stu-id="7a384-156">Pingdom</span></span>](http://tools.pingdom.com/)

    <span data-ttu-id="7a384-157">Это средство отображает статистику производительности для каждого элемента веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="7a384-157">This tool provides performance statistics for each element of a web page.</span></span> <span data-ttu-id="7a384-158">Hello вкладки страницы анализа проценту hello время, затраченное на поиск в DNS.</span><span class="sxs-lookup"><span data-stu-id="7a384-158">hello Page Analysis tab shows hello percentage of time spent on DNS lookup.</span></span>

* [<span data-ttu-id="7a384-159">What's My DNS?</span><span class="sxs-lookup"><span data-stu-id="7a384-159">What's My DNS?</span></span>](http://www.whatsmydns.net/)

    <span data-ttu-id="7a384-160">Этот сайт выполняет поиск DNS из 20 различных расположений и отображает результаты hello на карте.</span><span class="sxs-lookup"><span data-stu-id="7a384-160">This site does a DNS lookup from 20 different locations and displays hello results on a map.</span></span>

* [<span data-ttu-id="7a384-161">Dig Web Interface</span><span class="sxs-lookup"><span data-stu-id="7a384-161">Dig Web Interface</span></span>](http://www.digwebinterface.com)

    <span data-ttu-id="7a384-162">На этом сайте отображается подробная информация о DNS, включая записи CNAME и A.</span><span class="sxs-lookup"><span data-stu-id="7a384-162">This site shows more detailed DNS information including CNAMEs and A records.</span></span> <span data-ttu-id="7a384-163">Убедитесь, что установлен в параметрах hello «тонирование выходные данные» и «Статистику» и выберите «Все» в разделе Nameservers.</span><span class="sxs-lookup"><span data-stu-id="7a384-163">Make sure you check hello 'Colorize output' and 'Stats' under options, and select 'All' under Nameservers.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7a384-164">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7a384-164">Next Steps</span></span>

[<span data-ttu-id="7a384-165">О методах маршрутизации трафика в диспетчере трафика</span><span class="sxs-lookup"><span data-stu-id="7a384-165">About Traffic Manager traffic routing methods</span></span>](traffic-manager-routing-methods.md)

[<span data-ttu-id="7a384-166">Проверка параметров диспетчера трафика</span><span class="sxs-lookup"><span data-stu-id="7a384-166">Test your Traffic Manager settings</span></span>](traffic-manager-testing-settings.md)

[<span data-ttu-id="7a384-167">Операции с диспетчером трафика (справочник по REST API)</span><span class="sxs-lookup"><span data-stu-id="7a384-167">Operations on Traffic Manager (REST API Reference)</span></span>](http://go.microsoft.com/fwlink/?LinkId=313584)

[<span data-ttu-id="7a384-168">Командлеты для диспетчера трафика Azure</span><span class="sxs-lookup"><span data-stu-id="7a384-168">Azure Traffic Manager Cmdlets</span></span>](http://go.microsoft.com/fwlink/p/?LinkId=400769)

