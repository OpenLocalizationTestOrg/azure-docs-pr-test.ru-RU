---
title: "Исключения обмена сообщениями служебной шины Azure | Документация Майкрософт"
description: "Список исключений обмена сообщениями служебной шины и предлагаемые действия."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 3d8526fe-6e47-4119-9f3e-c56d916a98f9
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/06/2017
ms.author: sethm
ms.openlocfilehash: 93300ba995f2a556cb90fc657db5cf9ad56b9846
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="service-bus-messaging-exceptions"></a><span data-ttu-id="07602-103">Исключения обмена сообщениями служебной шины</span><span class="sxs-lookup"><span data-stu-id="07602-103">Service Bus messaging exceptions</span></span>
<span data-ttu-id="07602-104">В этой статье перечислены некоторые исключения, создаваемые API обмена сообщениями служебной шины Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="07602-104">This article lists some exceptions generated by the Microsoft Azure Service Bus messaging APIs.</span></span> <span data-ttu-id="07602-105">Этот справочник может измениться, поэтому следите за обновлениями.</span><span class="sxs-lookup"><span data-stu-id="07602-105">This reference is subject to change, so check back for updates.</span></span>

## <a name="exception-categories"></a><span data-ttu-id="07602-106">Категории исключений</span><span class="sxs-lookup"><span data-stu-id="07602-106">Exception categories</span></span>
<span data-ttu-id="07602-107">API обмена сообщениями создают исключения, которые можно разделить на следующие категории с указанием связанного действия, предпринимаемого для их устранения.</span><span class="sxs-lookup"><span data-stu-id="07602-107">The messaging APIs generate exceptions that can fall into the following categories, along with the associated action you can take to try to fix them.</span></span> <span data-ttu-id="07602-108">Обратите внимание, что значение и причины исключения могут различаться в зависимости от типа сущности обмена сообщениями (очереди и разделы, концентраторы событий).</span><span class="sxs-lookup"><span data-stu-id="07602-108">Note that the meaning and causes of an exception can vary depending on the type of messaging entity (queues/topics or Event Hubs):</span></span>

1. <span data-ttu-id="07602-109">Ошибка в коде пользователя ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)).</span><span class="sxs-lookup"><span data-stu-id="07602-109">User coding error ([System.ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)).</span></span> <span data-ttu-id="07602-110">Общее действие: прежде чем продолжить, попытайтесь исправить код.</span><span class="sxs-lookup"><span data-stu-id="07602-110">General action: try to fix the code before proceeding.</span></span>
2. <span data-ttu-id="07602-111">Ошибка настройки или конфигурации ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](/dotnet/api/microsoft.servicebus.messaging.messagingentitynotfoundexception), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)).</span><span class="sxs-lookup"><span data-stu-id="07602-111">Setup/configuration error ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](/dotnet/api/microsoft.servicebus.messaging.messagingentitynotfoundexception), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx).</span></span> <span data-ttu-id="07602-112">Общее действие: проверьте конфигурацию и измените ее при необходимости.</span><span class="sxs-lookup"><span data-stu-id="07602-112">General action: review your configuration and change if necessary.</span></span>
3. <span data-ttu-id="07602-113">Временные исключения ([Microsoft.ServiceBus.Messaging.MessagingException](/dotnet/api/microsoft.servicebus.messaging.messagingexception), [Microsoft.ServiceBus.Messaging.ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](/dotnet/api/microsoft.servicebus.messaging.messagingcommunicationexception)).</span><span class="sxs-lookup"><span data-stu-id="07602-113">Transient exceptions ([Microsoft.ServiceBus.Messaging.MessagingException](/dotnet/api/microsoft.servicebus.messaging.messagingexception), [Microsoft.ServiceBus.Messaging.ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](/dotnet/api/microsoft.servicebus.messaging.messagingcommunicationexception)).</span></span> <span data-ttu-id="07602-114">Общее действие: повторите операцию или уведомите пользователей.</span><span class="sxs-lookup"><span data-stu-id="07602-114">General action: retry the operation or notify users.</span></span>
4. <span data-ttu-id="07602-115">Другие исключения ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](/dotnet/api/microsoft.servicebus.messaging.messagelocklostexception), [Microsoft.ServiceBus.Messaging.SessionLockLostException](/dotnet/api/microsoft.servicebus.messaging.sessionlocklostexception)).</span><span class="sxs-lookup"><span data-stu-id="07602-115">Other exceptions ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](/dotnet/api/microsoft.servicebus.messaging.messagelocklostexception), [Microsoft.ServiceBus.Messaging.SessionLockLostException](/dotnet/api/microsoft.servicebus.messaging.sessionlocklostexception)).</span></span> <span data-ttu-id="07602-116">Общее действие: связано с типом исключения; см. таблицу в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="07602-116">General action: specific to the exception type; please refer to the table in the following section.</span></span> 

## <a name="exception-types"></a><span data-ttu-id="07602-117">Типы исключений</span><span class="sxs-lookup"><span data-stu-id="07602-117">Exception types</span></span>
<span data-ttu-id="07602-118">В следующей таблице перечислены типы исключений обмена сообщениями и их причины, а также рекомендуемые действия, которые можно выполнять.</span><span class="sxs-lookup"><span data-stu-id="07602-118">The following table lists messaging exception types, and their causes, and notes suggested action you can take.</span></span>

| <span data-ttu-id="07602-119">**Тип исключения**</span><span class="sxs-lookup"><span data-stu-id="07602-119">**Exception Type**</span></span> | <span data-ttu-id="07602-120">**Описание, причина, примеры**</span><span class="sxs-lookup"><span data-stu-id="07602-120">**Description/Cause/Examples**</span></span> | <span data-ttu-id="07602-121">**Рекомендуемое действие**</span><span class="sxs-lookup"><span data-stu-id="07602-121">**Suggested Action**</span></span> | <span data-ttu-id="07602-122">**Примечание к автоматическому или немедленному повтору**</span><span class="sxs-lookup"><span data-stu-id="07602-122">**Note on automatic/immediate retry**</span></span> |
| --- | --- | --- | --- |
| [<span data-ttu-id="07602-123">TimeoutException</span><span class="sxs-lookup"><span data-stu-id="07602-123">TimeoutException</span></span>](https://msdn.microsoft.com/library/system.timeoutexception.aspx) |<span data-ttu-id="07602-124">Сервер не ответил на запрошенную операцию в течение указанного времени, контролируемого параметром [OperationTimeout](/dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout).</span><span class="sxs-lookup"><span data-stu-id="07602-124">The server did not respond to the requested operation within the specified time which is controlled by [OperationTimeout](/dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout).</span></span> <span data-ttu-id="07602-125">Возможно, сервер выполнил запрошенную операцию.</span><span class="sxs-lookup"><span data-stu-id="07602-125">The server may have completed the requested operation.</span></span> <span data-ttu-id="07602-126">Это может произойти из-за сетевых или других задержек в инфраструктуре.</span><span class="sxs-lookup"><span data-stu-id="07602-126">This can happen due to network or other infrastructure delays.</span></span> |<span data-ttu-id="07602-127">Проверьте состояние системы для обеспечения согласованности и при необходимости повторите попытку.</span><span class="sxs-lookup"><span data-stu-id="07602-127">Check the system state for consistency and retry if necessary.</span></span> <span data-ttu-id="07602-128">Ознакомьтесь с разделом [Исключения времени ожидания](#timeoutexception).</span><span class="sxs-lookup"><span data-stu-id="07602-128">See [Timeout exceptions](#timeoutexception).</span></span> |<span data-ttu-id="07602-129">Повторная попытка может помочь в некоторых случаях. Добавьте в код логику повторных попыток.</span><span class="sxs-lookup"><span data-stu-id="07602-129">Retry might help in some cases; add retry logic to code.</span></span> |
| [<span data-ttu-id="07602-130">InvalidOperationException</span><span class="sxs-lookup"><span data-stu-id="07602-130">InvalidOperationException</span></span>](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx) |<span data-ttu-id="07602-131">Запрошенная пользователем операция не допускается в пределах сервера или службы.</span><span class="sxs-lookup"><span data-stu-id="07602-131">The requested user operation is not allowed within the server or service.</span></span> <span data-ttu-id="07602-132">Подробные сведения см. в сообщении об исключении.</span><span class="sxs-lookup"><span data-stu-id="07602-132">See the exception message for details.</span></span> <span data-ttu-id="07602-133">Например, операция [Complete](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete) создаст это исключение, если сообщение получено в режиме [ReceiveAndDelete](/dotnet/api/microsoft.servicebus.messaging.receivemode).</span><span class="sxs-lookup"><span data-stu-id="07602-133">For example, [Complete](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_Complete) will generate this exception if the message was received in [ReceiveAndDelete](/dotnet/api/microsoft.servicebus.messaging.receivemode) mode.</span></span> |<span data-ttu-id="07602-134">Проверьте код и обратитесь к документации.</span><span class="sxs-lookup"><span data-stu-id="07602-134">Check the code and the documentation.</span></span> <span data-ttu-id="07602-135">Убедитесь, что запрошенная операция допустима.</span><span class="sxs-lookup"><span data-stu-id="07602-135">Make sure the requested operation is valid.</span></span> |<span data-ttu-id="07602-136">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-136">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-137">OperationCanceledException</span><span class="sxs-lookup"><span data-stu-id="07602-137">OperationCanceledException</span></span>](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx) |<span data-ttu-id="07602-138">Предпринята попытка вызвать операцию с объектом, который уже закрыт, прерван или удален.</span><span class="sxs-lookup"><span data-stu-id="07602-138">An attempt is made to invoke an operation on an object that has already been closed, aborted or disposed.</span></span> <span data-ttu-id="07602-139">Иногда это означает, что внешняя транзакция уже удалена.</span><span class="sxs-lookup"><span data-stu-id="07602-139">In rare cases, the ambient transaction is already disposed.</span></span> |<span data-ttu-id="07602-140">Проверьте код и убедитесь, что он не вызывает операции с удаленным объектом.</span><span class="sxs-lookup"><span data-stu-id="07602-140">Check the code and make sure it does not invoke operations on a disposed object.</span></span> |<span data-ttu-id="07602-141">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-141">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-142">UnauthorizedAccessException</span><span class="sxs-lookup"><span data-stu-id="07602-142">UnauthorizedAccessException</span></span>](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx) |<span data-ttu-id="07602-143">Объекту [TokenProvider](/dotnet/api/microsoft.servicebus.tokenprovider) не удалось получить маркер. Маркер является недопустимым или не содержит утверждений, необходимых для выполнения операции.</span><span class="sxs-lookup"><span data-stu-id="07602-143">The [TokenProvider](/dotnet/api/microsoft.servicebus.tokenprovider) object could not acquire a token, the token is invalid, or the token does not contain the claims required to perform the operation.</span></span> |<span data-ttu-id="07602-144">Убедитесь, что поставщик маркеров создан с использованием правильных значений.</span><span class="sxs-lookup"><span data-stu-id="07602-144">Make sure the token provider is created with the correct values.</span></span> <span data-ttu-id="07602-145">Проверьте конфигурацию службы контроля доступа.</span><span class="sxs-lookup"><span data-stu-id="07602-145">Check the configuration of the Access Control service.</span></span> |<span data-ttu-id="07602-146">Повторная попытка может помочь в некоторых случаях. Добавьте в код логику повторных попыток.</span><span class="sxs-lookup"><span data-stu-id="07602-146">Retry might help in some cases; add retry logic to code.</span></span> |
| [<span data-ttu-id="07602-147">ArgumentException</span><span class="sxs-lookup"><span data-stu-id="07602-147">ArgumentException</span></span>](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [<span data-ttu-id="07602-148">ArgumentNullException</span><span class="sxs-lookup"><span data-stu-id="07602-148">ArgumentNullException</span></span>](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[<span data-ttu-id="07602-149">ArgumentOutOfRangeException</span><span class="sxs-lookup"><span data-stu-id="07602-149">ArgumentOutOfRangeException</span></span>](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) |<span data-ttu-id="07602-150">Для этого метода предоставлен один или несколько недопустимых аргументов.</span><span class="sxs-lookup"><span data-stu-id="07602-150">One or more arguments supplied to the method are invalid.</span></span><br /> <span data-ttu-id="07602-151">Универсальный код ресурса (URI), переданный в [NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) или [Create](/dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_Create_System_Collections_Generic_IEnumerable_System_Uri__), содержит сегменты пути.</span><span class="sxs-lookup"><span data-stu-id="07602-151">The URI supplied to [NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) or [Create](/dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_Create_System_Collections_Generic_IEnumerable_System_Uri__) contains path segment(s).</span></span><br /> <span data-ttu-id="07602-152">В [NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) или [Create](/dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_Create_System_Collections_Generic_IEnumerable_System_Uri__) передана недопустимая схема универсального кода ресурса (URI).</span><span class="sxs-lookup"><span data-stu-id="07602-152">The URI scheme supplied to [NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) or [Create](/dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_Create_System_Collections_Generic_IEnumerable_System_Uri__) is invalid.</span></span> <br /><span data-ttu-id="07602-153">Значение свойства превышает 32 КБ.</span><span class="sxs-lookup"><span data-stu-id="07602-153">The property value is larger than 32KB.</span></span> |<span data-ttu-id="07602-154">Проверьте вызывающий код и убедитесь, что аргументы заданы правильно.</span><span class="sxs-lookup"><span data-stu-id="07602-154">Check the calling code and make sure the arguments are correct.</span></span> |<span data-ttu-id="07602-155">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-155">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-156">MessagingEntityNotFoundException</span><span class="sxs-lookup"><span data-stu-id="07602-156">MessagingEntityNotFoundException</span></span>](/dotnet/api/microsoft.servicebus.messaging.messagingentitynotfoundexception) |<span data-ttu-id="07602-157">Сущность, связанная с операцией, не существует или была удалена.</span><span class="sxs-lookup"><span data-stu-id="07602-157">Entity associated with the operation does not exist or it has been deleted.</span></span> |<span data-ttu-id="07602-158">Убедитесь, что сущность существует.</span><span class="sxs-lookup"><span data-stu-id="07602-158">Make sure the entity exists.</span></span> |<span data-ttu-id="07602-159">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-159">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-160">MessageNotFoundException</span><span class="sxs-lookup"><span data-stu-id="07602-160">MessageNotFoundException</span></span>](/dotnet/api/microsoft.servicebus.messaging.messagenotfoundexception) |<span data-ttu-id="07602-161">Предпринята попытка получить сообщение с определенным порядковым номером.</span><span class="sxs-lookup"><span data-stu-id="07602-161">Attempt to receive a message with a particular sequence number.</span></span> <span data-ttu-id="07602-162">Это сообщение не найдено.</span><span class="sxs-lookup"><span data-stu-id="07602-162">This message is not found.</span></span> |<span data-ttu-id="07602-163">Убедитесь, что сообщение уже не было получено.</span><span class="sxs-lookup"><span data-stu-id="07602-163">Make sure the message has not been received already.</span></span> <span data-ttu-id="07602-164">Проверьте очередь недоставленных сообщений, чтобы увидеть, не находится ли в ней сообщение.</span><span class="sxs-lookup"><span data-stu-id="07602-164">Check the deadletter queue to see if the message has been deadlettered.</span></span> |<span data-ttu-id="07602-165">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-165">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-166">MessagingCommunicationException</span><span class="sxs-lookup"><span data-stu-id="07602-166">MessagingCommunicationException</span></span>](/dotnet/api/microsoft.servicebus.messaging.messagingcommunicationexception) |<span data-ttu-id="07602-167">Клиент не сможет установить соединение со служебной шиной.</span><span class="sxs-lookup"><span data-stu-id="07602-167">Client is not able to establish a connection to Service Bus.</span></span> |<span data-ttu-id="07602-168">Убедитесь, что имя узла указано правильно и узел доступен.</span><span class="sxs-lookup"><span data-stu-id="07602-168">Make sure the supplied host name is correct and the host is reachable.</span></span> |<span data-ttu-id="07602-169">Повторная попытка может помочь при наличии периодических сбоев подключения.</span><span class="sxs-lookup"><span data-stu-id="07602-169">Retry might help if there are intermittent connectivity issues.</span></span> |
| [<span data-ttu-id="07602-170">ServerBusyException</span><span class="sxs-lookup"><span data-stu-id="07602-170">ServerBusyException</span></span>](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) |<span data-ttu-id="07602-171">В настоящее время служба не может обработать запрос.</span><span class="sxs-lookup"><span data-stu-id="07602-171">Service is not able to process the request at this time.</span></span> |<span data-ttu-id="07602-172">Клиент может некоторое время подождать, после чего следует повторить операцию.</span><span class="sxs-lookup"><span data-stu-id="07602-172">Client can wait for a period of time, then retry the operation.</span></span> |<span data-ttu-id="07602-173">Клиент может повторить операцию через определенный промежуток времени.</span><span class="sxs-lookup"><span data-stu-id="07602-173">Client may retry after certain interval.</span></span> <span data-ttu-id="07602-174">Если в результате повтора возникает другое исключение, проверьте поведение повтора этого исключения.</span><span class="sxs-lookup"><span data-stu-id="07602-174">If a retry results in a different exception, check retry behavior of that exception.</span></span> |
| [<span data-ttu-id="07602-175">MessageLockLostException</span><span class="sxs-lookup"><span data-stu-id="07602-175">MessageLockLostException</span></span>](/dotnet/api/microsoft.servicebus.messaging.messagelocklostexception) |<span data-ttu-id="07602-176">Истек срок действия маркера блокировки, связанного с данным сообщением, или маркер блокировки не найден.</span><span class="sxs-lookup"><span data-stu-id="07602-176">Lock token associated with the message has expired, or the lock token is not found.</span></span> |<span data-ttu-id="07602-177">Удалите сообщение.</span><span class="sxs-lookup"><span data-stu-id="07602-177">Dispose the message.</span></span> |<span data-ttu-id="07602-178">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-178">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-179">SessionLockLostException</span><span class="sxs-lookup"><span data-stu-id="07602-179">SessionLockLostException</span></span>](/dotnet/api/microsoft.servicebus.messaging.sessionlocklostexception) |<span data-ttu-id="07602-180">Потеряна блокировка, связанная с данным сеансом.</span><span class="sxs-lookup"><span data-stu-id="07602-180">Lock associated with this session is lost.</span></span> |<span data-ttu-id="07602-181">Прервите объект [MessageSession](/dotnet/api/microsoft.servicebus.messaging.messagesession) .</span><span class="sxs-lookup"><span data-stu-id="07602-181">Abort the [MessageSession](/dotnet/api/microsoft.servicebus.messaging.messagesession) object.</span></span> |<span data-ttu-id="07602-182">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-182">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-183">MessagingException</span><span class="sxs-lookup"><span data-stu-id="07602-183">MessagingException</span></span>](/dotnet/api/microsoft.servicebus.messaging.messagingexception) |<span data-ttu-id="07602-184">Универсальное исключение обмена сообщениями, порождаемое в следующих случаях.</span><span class="sxs-lookup"><span data-stu-id="07602-184">Generic messaging exception that may be thrown in the following cases:</span></span><br /> <span data-ttu-id="07602-185">Предпринята попытка создать [QueueClient](/dotnet/api/microsoft.servicebus.messaging.queueclient) с использованием имени или пути, которые относятся к другому типу сущности (например, разделу).</span><span class="sxs-lookup"><span data-stu-id="07602-185">An attempt is made to create a [QueueClient](/dotnet/api/microsoft.servicebus.messaging.queueclient) using a name or path that belongs to a different entity type (for example, a topic).</span></span><br />  <span data-ttu-id="07602-186">Предпринята попытка отправить сообщение размером свыше 256 КБ.</span><span class="sxs-lookup"><span data-stu-id="07602-186">An attempt is made to send a message larger than 256KB.</span></span> <span data-ttu-id="07602-187">Во время обработки запроса возникла ошибка сервера или службы.</span><span class="sxs-lookup"><span data-stu-id="07602-187">The server or service encountered an error during processing of the request.</span></span> <span data-ttu-id="07602-188">Подробные сведения см. в сообщении об исключении.</span><span class="sxs-lookup"><span data-stu-id="07602-188">Please see the exception message for details.</span></span> <span data-ttu-id="07602-189">Как правило, это временное исключение.</span><span class="sxs-lookup"><span data-stu-id="07602-189">This is usually a transient exception.</span></span> |<span data-ttu-id="07602-190">Проверьте код и убедитесь, что для текста сообщения применяются только сериализуемые объекты (или используйте настраиваемый сериализатор).</span><span class="sxs-lookup"><span data-stu-id="07602-190">Check the code and ensure that only serializable objects are used for the message body (or use a custom serializer).</span></span> <span data-ttu-id="07602-191">Обратитесь к документации для получения сведений о поддерживаемых типах значений свойств и используйте только поддерживаемые типы.</span><span class="sxs-lookup"><span data-stu-id="07602-191">Check the documentation for the supported value types of the properties and only use supported types.</span></span> <span data-ttu-id="07602-192">Проверьте свойство [IsTransient](/dotnet/api/microsoft.servicebus.messaging.messagingexception#Microsoft_ServiceBus_Messaging_MessagingException_IsTransient) .</span><span class="sxs-lookup"><span data-stu-id="07602-192">Check the [IsTransient](/dotnet/api/microsoft.servicebus.messaging.messagingexception#Microsoft_ServiceBus_Messaging_MessagingException_IsTransient) property.</span></span> <span data-ttu-id="07602-193">Если оно имеет значение **true**, можно повторить операцию.</span><span class="sxs-lookup"><span data-stu-id="07602-193">If it is **true**, you can retry the operation.</span></span> |<span data-ttu-id="07602-194">Алгоритм поведения не определен и может не помочь.</span><span class="sxs-lookup"><span data-stu-id="07602-194">Retry behavior is undefined and might not help.</span></span> |
| [<span data-ttu-id="07602-195">MessagingEntityAlreadyExistsException</span><span class="sxs-lookup"><span data-stu-id="07602-195">MessagingEntityAlreadyExistsException</span></span>](/dotnet/api/microsoft.servicebus.messaging.messagingentityalreadyexistsexception) |<span data-ttu-id="07602-196">Предпринята попытка создать сущность с именем, которое уже используется другой сущностью в этом пространстве имен службы.</span><span class="sxs-lookup"><span data-stu-id="07602-196">Attempt to create an entity with a name that is already used by another entity in that service namespace.</span></span> |<span data-ttu-id="07602-197">Удалите существующую сущность или выберите другое имя для сущности, которую нужно создать.</span><span class="sxs-lookup"><span data-stu-id="07602-197">Delete the existing entity or choose a different name for the entity to be created.</span></span> |<span data-ttu-id="07602-198">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-198">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-199">QuotaExceededException</span><span class="sxs-lookup"><span data-stu-id="07602-199">QuotaExceededException</span></span>](/dotnet/api/microsoft.servicebus.messaging.quotaexceededexception) |<span data-ttu-id="07602-200">Сущность обмена сообщениями достигла максимально допустимого размера, или превышено максимально возможное количество подключений к пространству имен.</span><span class="sxs-lookup"><span data-stu-id="07602-200">The messaging entity has reached its maximum allowable size, or the maximum number of connections to a namespace has been exceeded.</span></span> |<span data-ttu-id="07602-201">Создайте в сущности пространство, получая сообщения из сущности или ее подочередей.</span><span class="sxs-lookup"><span data-stu-id="07602-201">Create space in the entity by receiving messages from the entity or its sub-queues.</span></span> <span data-ttu-id="07602-202">Ознакомьтесь с разделом [Исключение QuotaExceededException](#quotaexceededexception).</span><span class="sxs-lookup"><span data-stu-id="07602-202">See [QuotaExceededException](#quotaexceededexception).</span></span> |<span data-ttu-id="07602-203">Повторная попытка может помочь, если сообщения были удалены.</span><span class="sxs-lookup"><span data-stu-id="07602-203">Retry might help if messages have been removed in the meantime.</span></span> |
| [<span data-ttu-id="07602-204">RuleActionException</span><span class="sxs-lookup"><span data-stu-id="07602-204">RuleActionException</span></span>](/dotnet/api/microsoft.servicebus.messaging.ruleactionexception) |<span data-ttu-id="07602-205">Служебная шина возвращает это исключение, если вы пытаетесь создать недопустимое действие правила.</span><span class="sxs-lookup"><span data-stu-id="07602-205">Service Bus returns this exception if you attempt to create an invalid rule action.</span></span> <span data-ttu-id="07602-206">Служебная шина вкладывает это исключение в недоставленное сообщение, если во время обработки действия правила для данного сообщения произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="07602-206">Service Bus attaches this exception to a deadlettered message if an error occurs while processing the rule action for that message.</span></span> |<span data-ttu-id="07602-207">Проверьте правильность действия правила.</span><span class="sxs-lookup"><span data-stu-id="07602-207">Check the rule action for correctness.</span></span> |<span data-ttu-id="07602-208">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-208">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-209">FilterException</span><span class="sxs-lookup"><span data-stu-id="07602-209">FilterException</span></span>](/dotnet/api/microsoft.servicebus.messaging.filterexception) |<span data-ttu-id="07602-210">Служебная шина возвращает это исключение, если вы пытаетесь создать недопустимый фильтр.</span><span class="sxs-lookup"><span data-stu-id="07602-210">Service Bus returns this exception if you attempt to create an invalid filter.</span></span> <span data-ttu-id="07602-211">Служебная шина вкладывает это исключение в недоставленное сообщение, если во время обработки фильтра для данного сообщения произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="07602-211">Service Bus attaches this exception to a deadlettered message if an error occurred while processing the filter for that message.</span></span> |<span data-ttu-id="07602-212">Проверьте правильность фильтра.</span><span class="sxs-lookup"><span data-stu-id="07602-212">Check the filter for correctness.</span></span> |<span data-ttu-id="07602-213">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-213">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-214">SessionCannotBeLockedException</span><span class="sxs-lookup"><span data-stu-id="07602-214">SessionCannotBeLockedException</span></span>](/dotnet/api/microsoft.servicebus.messaging.sessioncannotbelockedexception) |<span data-ttu-id="07602-215">Предпринята попытка принять сеанс с конкретным идентификатором сеанса, но сеанс в данный момент заблокирован другим клиентом.</span><span class="sxs-lookup"><span data-stu-id="07602-215">Attempt to accept a session with a specific session ID, but the session is currently locked by another client.</span></span> |<span data-ttu-id="07602-216">Убедитесь, что сеанс разблокирован другими клиентами.</span><span class="sxs-lookup"><span data-stu-id="07602-216">Make sure the session is unlocked by other clients.</span></span> |<span data-ttu-id="07602-217">Повторная попытка может помочь, если сеанс был освобожден до этого времени.</span><span class="sxs-lookup"><span data-stu-id="07602-217">Retry might help if the session has been released in the interim.</span></span> |
| [<span data-ttu-id="07602-218">TransactionSizeExceededException</span><span class="sxs-lookup"><span data-stu-id="07602-218">TransactionSizeExceededException</span></span>](/dotnet/api/microsoft.servicebus.messaging.transactionsizeexceededexception) |<span data-ttu-id="07602-219">В состав транзакции входит слишком много операций.</span><span class="sxs-lookup"><span data-stu-id="07602-219">Too many operations are part of the transaction.</span></span> |<span data-ttu-id="07602-220">Сократите количество операций, входящих в состав этой транзакции.</span><span class="sxs-lookup"><span data-stu-id="07602-220">Reduce the number of operations that are part of this transaction.</span></span> |<span data-ttu-id="07602-221">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-221">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-222">MessagingEntityDisabledException</span><span class="sxs-lookup"><span data-stu-id="07602-222">MessagingEntityDisabledException</span></span>](/dotnet/api/microsoft.servicebus.messaging.messagingentitydisabledexception) |<span data-ttu-id="07602-223">Выполнен запрос на операцию среды выполнения с отключенной сущностью.</span><span class="sxs-lookup"><span data-stu-id="07602-223">Request for a runtime operation on a disabled entity.</span></span> |<span data-ttu-id="07602-224">Активируйте сущность.</span><span class="sxs-lookup"><span data-stu-id="07602-224">Activate the entity.</span></span> |<span data-ttu-id="07602-225">Повторная попытка может помочь, если сущность была активирована.</span><span class="sxs-lookup"><span data-stu-id="07602-225">Retry might help if the entity has been activated in the interim.</span></span> |
| [<span data-ttu-id="07602-226">NoMatchingSubscriptionException</span><span class="sxs-lookup"><span data-stu-id="07602-226">NoMatchingSubscriptionException</span></span>](/dotnet/api/microsoft.servicebus.messaging.nomatchingsubscriptionexception) |<span data-ttu-id="07602-227">Служебная шина возвращает это исключение, если сообщение отправлено в раздел, в котором включена предварительная фильтрация, и ни один из фильтров не соответствует.</span><span class="sxs-lookup"><span data-stu-id="07602-227">Service Bus returns this exception if you send a message to a topic that has pre-filtering enabled and none of the filters match.</span></span> |<span data-ttu-id="07602-228">Убедитесь, что соответствует по меньшей мере один фильтр.</span><span class="sxs-lookup"><span data-stu-id="07602-228">Make sure at least one filter matches.</span></span> |<span data-ttu-id="07602-229">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-229">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-230">MessageSizeExceededException</span><span class="sxs-lookup"><span data-stu-id="07602-230">MessageSizeExceededException</span></span>](/dotnet/api/microsoft.servicebus.messaging.messagesizeexceededexception) |<span data-ttu-id="07602-231">Полезные данные сообщения превышают предел в 256 КБ.</span><span class="sxs-lookup"><span data-stu-id="07602-231">A message payload exceeds the 256 KB limit.</span></span> <span data-ttu-id="07602-232">Обратите внимание, что предел в 256 КБ является общим размером сообщения с учетом системных свойств и служебных данных .NET.</span><span class="sxs-lookup"><span data-stu-id="07602-232">Note that the 256 KB limit is the total message size, which can include system properties and any .NET overhead.</span></span> |<span data-ttu-id="07602-233">Сократите размер полезных данных сообщения, а затем повторите операцию.</span><span class="sxs-lookup"><span data-stu-id="07602-233">Reduce the size of the message payload, then retry the operation.</span></span> |<span data-ttu-id="07602-234">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-234">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-235">TransactionException</span><span class="sxs-lookup"><span data-stu-id="07602-235">TransactionException</span></span>](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx) |<span data-ttu-id="07602-236">Внешняя транзакция (*Transaction.Current*) является недопустимой.</span><span class="sxs-lookup"><span data-stu-id="07602-236">The ambient transaction (*Transaction.Current*) is invalid.</span></span> <span data-ttu-id="07602-237">Возможно, она завершена или прервана.</span><span class="sxs-lookup"><span data-stu-id="07602-237">It may have been completed or aborted.</span></span> <span data-ttu-id="07602-238">Дополнительные сведения можно найти во внутреннем исключении.</span><span class="sxs-lookup"><span data-stu-id="07602-238">Inner exception may provide additional information.</span></span> | |<span data-ttu-id="07602-239">Повторная попытка не поможет.</span><span class="sxs-lookup"><span data-stu-id="07602-239">Retry will not help.</span></span> |
| [<span data-ttu-id="07602-240">TransactionInDoubtException</span><span class="sxs-lookup"><span data-stu-id="07602-240">TransactionInDoubtException</span></span>](https://msdn.microsoft.com/library/system.transactions.transactionindoubtexception.aspx) |<span data-ttu-id="07602-241">Предпринята попытка выполнить операцию с сомнительной транзакцией либо попытка зафиксировать транзакцию, и транзакция становится сомнительной.</span><span class="sxs-lookup"><span data-stu-id="07602-241">An operation is attempted on a transaction that is in doubt, or an attempt is made to commit the transaction and the transaction becomes in doubt.</span></span> |<span data-ttu-id="07602-242">Ваше приложение должно обрабатывать это исключение (как особый случай), так как транзакция уже может быть зафиксирована.</span><span class="sxs-lookup"><span data-stu-id="07602-242">Your application must handle this exception (as a special case), as the transaction may have already been committed.</span></span> |- |

## <a name="quotaexceededexception"></a><span data-ttu-id="07602-243">QuotaExceededException</span><span class="sxs-lookup"><span data-stu-id="07602-243">QuotaExceededException</span></span>
<span data-ttu-id="07602-244">[QuotaExceededException](/dotnet/api/microsoft.servicebus.messaging.quotaexceededexception) указывает на превышение квоты для конкретного объекта.</span><span class="sxs-lookup"><span data-stu-id="07602-244">[QuotaExceededException](/dotnet/api/microsoft.servicebus.messaging.quotaexceededexception) indicates that a quota for a specific entity has been exceeded.</span></span>

### <a name="queues-and-topics"></a><span data-ttu-id="07602-245">Очереди и разделы</span><span class="sxs-lookup"><span data-stu-id="07602-245">Queues and topics</span></span>
<span data-ttu-id="07602-246">Для очередей и разделов это, как правило, размер очереди.</span><span class="sxs-lookup"><span data-stu-id="07602-246">For queues and topics, this is often the size of the queue.</span></span> <span data-ttu-id="07602-247">Свойство сообщения об ошибке будет содержать дополнительные сведения, как показано в следующем примере:</span><span class="sxs-lookup"><span data-stu-id="07602-247">The error message property will contain further details, as in the following example:</span></span>

```
Microsoft.ServiceBus.Messaging.QuotaExceededException
Message: The maximum entity size has been reached or exceeded for Topic: ‘xxx-xxx-xxx’. 
    Size of entity in bytes:1073742326, Max entity size in bytes:
1073741824..TrackingId:xxxxxxxxxxxxxxxxxxxxxxxxxx, TimeStamp:3/15/2013 7:50:18 AM
```

<span data-ttu-id="07602-248">Сообщение уведомляет о том, что для раздела превышено ограничение размера, в данном случае 1 ГБ (ограничение по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="07602-248">The message states that the topic exceeded its size limit, in this case 1 GB (the default size limit).</span></span> 

### <a name="namespaces"></a><span data-ttu-id="07602-249">Пространства имен</span><span class="sxs-lookup"><span data-stu-id="07602-249">Namespaces</span></span>

<span data-ttu-id="07602-250">Для пространств имен исключение [QuotaExceededException](/dotnet/api/microsoft.servicebus.messaging.quotaexceededexception) может указывать на то, что приложение превысило максимально возможное количество подключений к пространству имен.</span><span class="sxs-lookup"><span data-stu-id="07602-250">For namespaces, [QuotaExceededException](/dotnet/api/microsoft.servicebus.messaging.quotaexceededexception) can indicate that an application has exceeded the maximum number of connections to a namespace.</span></span> <span data-ttu-id="07602-251">Например:</span><span class="sxs-lookup"><span data-stu-id="07602-251">For example:</span></span>

```
Microsoft.ServiceBus.Messaging.QuotaExceededException: ConnectionsQuotaExceeded for namespace xxx.
<tracking-id-guid>_G12 ---> 
System.ServiceModel.FaultException`1[System.ServiceModel.ExceptionDetail]: 
ConnectionsQuotaExceeded for namespace xxx.
```

#### <a name="common-causes"></a><span data-ttu-id="07602-252">Основные причины</span><span class="sxs-lookup"><span data-stu-id="07602-252">Common causes</span></span>
<span data-ttu-id="07602-253">Существует две основные причины этой ошибки: очередь недоставленных сообщений и неработающие получатели сообщений.</span><span class="sxs-lookup"><span data-stu-id="07602-253">There are two common causes for this error: the dead-letter queue, and non-functioning message receivers.</span></span>

1. <span data-ttu-id="07602-254">**Очередь недоставленных сообщений** модуль чтения не смог завершить сообщения и сообщения возвращаются в очередь или раздел по прошествии периода блокировки.</span><span class="sxs-lookup"><span data-stu-id="07602-254">**Dead-letter queue** A reader is failing to complete messages and the messages are returned to the queue/topic when the lock expires.</span></span> <span data-ttu-id="07602-255">Это может произойти, если в средстве чтения возникает исключение, блокирующее вызов [BrokeredMessage.Complete](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx).</span><span class="sxs-lookup"><span data-stu-id="07602-255">This can happen if the reader encounters an exception that prevents it from calling [BrokeredMessage.Complete](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx).</span></span> <span data-ttu-id="07602-256">После 10 попыток считывания сообщения оно по умолчанию перемещается в очередь недоставленных сообщений.</span><span class="sxs-lookup"><span data-stu-id="07602-256">After a message has been read 10 times, it moves to the dead-letter queue by default.</span></span> <span data-ttu-id="07602-257">Это поведение управляется свойством [QueueDescription.MaxDeliveryCount](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queuedescription.maxdeliverycount.aspx) со значением по умолчанию "10".</span><span class="sxs-lookup"><span data-stu-id="07602-257">This behavior is controlled by the [QueueDescription.MaxDeliveryCount](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queuedescription.maxdeliverycount.aspx) property and has a default value of 10.</span></span> <span data-ttu-id="07602-258">По мере накапливания сообщений в очереди недоставленных сообщений они начинают занимать много места.</span><span class="sxs-lookup"><span data-stu-id="07602-258">As messages pile up in the dead letter queue, they take up space.</span></span>
   
    <span data-ttu-id="07602-259">Чтобы устранить эту проблему, считайте и завершите сообщения в очереди недоставленных сообщений, как и в любой другой очереди.</span><span class="sxs-lookup"><span data-stu-id="07602-259">To resolve the issue, read and complete the messages from the dead-letter queue, as you would from any other queue.</span></span> <span data-ttu-id="07602-260">Класс [QueueClient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queueclient.aspx) даже содержит метод [FormatDeadLetterPath](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queueclient.formatdeadletterpath.aspx), который помогает форматировать путь очереди недоставленных сообщений.</span><span class="sxs-lookup"><span data-stu-id="07602-260">The [QueueClient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queueclient.aspx) class even contains a [FormatDeadLetterPath](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queueclient.formatdeadletterpath.aspx) method to help format the dead-letter queue path.</span></span>
2. <span data-ttu-id="07602-261">**Остановить получателя** приемником остановлена получение сообщений из очереди или подписки.</span><span class="sxs-lookup"><span data-stu-id="07602-261">**Receiver stopped** A receiver has stopped receiving messages from a queue or subscription.</span></span> <span data-ttu-id="07602-262">Определить эту проблему можно с помощью свойства [QueueDescription.MessageCountDetails](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queuedescription.messagecountdetails.aspx), которое выводит полную статистику по сообщениям.</span><span class="sxs-lookup"><span data-stu-id="07602-262">The way to identify this is to look at the [QueueDescription.MessageCountDetails](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queuedescription.messagecountdetails.aspx) property, which shows the full breakdown of the messages.</span></span> <span data-ttu-id="07602-263">Если значение свойства [ActiveMessageCount](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagecountdetails.activemessagecount.aspx) большое или растет, значит сообщения не считываются с той же скоростью, с которой отправляются.</span><span class="sxs-lookup"><span data-stu-id="07602-263">If the [ActiveMessageCount](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagecountdetails.activemessagecount.aspx) property is high or growing, then the messages are not being read as fast as they're being written.</span></span>

### <a name="event-hubs"></a><span data-ttu-id="07602-264">Концентраторы событий</span><span class="sxs-lookup"><span data-stu-id="07602-264">Event Hubs</span></span>
<span data-ttu-id="07602-265">Концентраторы событий имеют ограничение в 20 групп потребителей на один концентратор событий.</span><span class="sxs-lookup"><span data-stu-id="07602-265">Event Hubs has a limit of 20 consumer groups per Event Hub.</span></span> <span data-ttu-id="07602-266">При попытке создать больше групп появляется исключение [QuotaExceededException](/dotnet/api/microsoft.servicebus.messaging.quotaexceededexception).</span><span class="sxs-lookup"><span data-stu-id="07602-266">When you attempt to create more, you receive a [QuotaExceededException](/dotnet/api/microsoft.servicebus.messaging.quotaexceededexception).</span></span> 

## <a name="timeoutexception"></a><span data-ttu-id="07602-267">TimeoutException</span><span class="sxs-lookup"><span data-stu-id="07602-267">TimeoutException</span></span>
<span data-ttu-id="07602-268">[TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) указывает, что запущенная пользователем операция занимает больше времени, чем время ожидания операции.</span><span class="sxs-lookup"><span data-stu-id="07602-268">A [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) indicates that a user-initiated operation is taking longer than the operation timeout.</span></span> 

<span data-ttu-id="07602-269">Следует проверить значение свойства [ServicePointManager.DefaultConnectionLimit](https://msdn.microsoft.com/library/system.net.servicepointmanager.defaultconnectionlimit), так как достижение этого ограничения также может породить исключение [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx).</span><span class="sxs-lookup"><span data-stu-id="07602-269">You should check the value of the [ServicePointManager.DefaultConnectionLimit](https://msdn.microsoft.com/library/system.net.servicepointmanager.defaultconnectionlimit) property, as hitting this limit can also cause a [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx).</span></span>

### <a name="queues-and-topics"></a><span data-ttu-id="07602-270">Очереди и разделы</span><span class="sxs-lookup"><span data-stu-id="07602-270">Queues and topics</span></span>
<span data-ttu-id="07602-271">Для очередей и разделов время ожидания указывается в свойстве [MessagingFactorySettings.OperationTimeout](/dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout) (как часть строки подключения) или с помощью [ServiceBusConnectionStringBuilder](/dotnet/api/microsoft.servicebus.servicebusconnectionstringbuilder).</span><span class="sxs-lookup"><span data-stu-id="07602-271">For queues and topics, the timeout is specified either in the [MessagingFactorySettings.OperationTimeout](/dotnet/api/microsoft.servicebus.messaging.messagingfactorysettings#Microsoft_ServiceBus_Messaging_MessagingFactorySettings_OperationTimeout) property, as part of the connection string, or through [ServiceBusConnectionStringBuilder](/dotnet/api/microsoft.servicebus.servicebusconnectionstringbuilder).</span></span> <span data-ttu-id="07602-272">Само сообщение об ошибке может отличаться, но оно всегда содержит значение времени ожидания, указанное для текущей операции.</span><span class="sxs-lookup"><span data-stu-id="07602-272">The error message itself might vary, but it always contains the timeout value specified for the current operation.</span></span> 

### <a name="event-hubs"></a><span data-ttu-id="07602-273">Концентраторы событий</span><span class="sxs-lookup"><span data-stu-id="07602-273">Event Hubs</span></span>
<span data-ttu-id="07602-274">Для концентраторов событий время ожидания указывается как часть строки подключения или с помощью [ServiceBusConnectionStringBuilder](/dotnet/api/microsoft.servicebus.servicebusconnectionstringbuilder).</span><span class="sxs-lookup"><span data-stu-id="07602-274">For Event Hubs, the timeout is specified either as part of the connection string, or through [ServiceBusConnectionStringBuilder](/dotnet/api/microsoft.servicebus.servicebusconnectionstringbuilder).</span></span> <span data-ttu-id="07602-275">Само сообщение об ошибке может отличаться, но оно всегда содержит значение времени ожидания, указанное для текущей операции.</span><span class="sxs-lookup"><span data-stu-id="07602-275">The error message itself might vary, but it always contains the timeout value specified for the current operation.</span></span> 

### <a name="common-causes"></a><span data-ttu-id="07602-276">Основные причины</span><span class="sxs-lookup"><span data-stu-id="07602-276">Common causes</span></span>
<span data-ttu-id="07602-277">Существует две основные причины этой ошибки: неправильная конфигурация или временная ошибка службы.</span><span class="sxs-lookup"><span data-stu-id="07602-277">There are two common causes for this error: incorrect configuration, or a transient service error.</span></span>

1. <span data-ttu-id="07602-278">**Неправильная конфигурация.** Время ожидания операции может быть слишком коротким для состояния операции.</span><span class="sxs-lookup"><span data-stu-id="07602-278">**Incorrect configuration** The operation timeout might be too small for the operational condition.</span></span> <span data-ttu-id="07602-279">Время ожидания операции в пакете SDK клиента по умолчанию составляет 60 секунд.</span><span class="sxs-lookup"><span data-stu-id="07602-279">The default value for the operation timeout in the client SDK is 60 seconds.</span></span> <span data-ttu-id="07602-280">Проверьте, не задано ли в вашем коде слишком маленькое значение.</span><span class="sxs-lookup"><span data-stu-id="07602-280">Check to see if your code has the value set to something too small.</span></span> <span data-ttu-id="07602-281">Учтите, что состояние сети и загрузка ЦП могут повлиять на время, необходимое для выполнения конкретной операции, поэтому не следует задавать слишком маленькое значение времени ожидания операции.</span><span class="sxs-lookup"><span data-stu-id="07602-281">Note that the condition of the network and CPU usage can affect the time it takes for a particular operation to complete, so the operation timeout should not be set to a very small value.</span></span>
2. <span data-ttu-id="07602-282">**Временная ошибка** иногда служба шины обслуживания могут возникать задержки при обработке запросов, например во время периодов с большим трафиком.</span><span class="sxs-lookup"><span data-stu-id="07602-282">**Transient service error** Sometimes the Service Bus service can experience delays in processing requests; for example, during periods of high traffic.</span></span> <span data-ttu-id="07602-283">В таких случаях можно настроить повторную попытку выполнения операции через некоторое время до ее успешного завершения.</span><span class="sxs-lookup"><span data-stu-id="07602-283">In such cases, you can retry your operation after a delay, until the operation is successful.</span></span> <span data-ttu-id="07602-284">Если же операцию по-прежнему не удается выполнить после нескольких попыток, посетите [сайт состояния служб Azure](https://azure.microsoft.com/status/), чтобы получить сведения об известных простоях служб.</span><span class="sxs-lookup"><span data-stu-id="07602-284">If the same operation still fails after multiple attempts, please visit the [Azure service status site](https://azure.microsoft.com/status/) to see if there are any known service outages.</span></span>

## <a name="next-steps"></a><span data-ttu-id="07602-285">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="07602-285">Next steps</span></span>

<span data-ttu-id="07602-286">Полные справочные материалы по API служебной шины для .NET доступны в [справочнике по API Azure для .NET](/dotnet/api/overview/azure/servicebus).</span><span class="sxs-lookup"><span data-stu-id="07602-286">For the complete Service Bus .NET API reference, see the [Azure .NET API reference](/dotnet/api/overview/azure/servicebus).</span></span>

<span data-ttu-id="07602-287">Дополнительные сведения о [служебной шине](https://azure.microsoft.com/services/service-bus/) см. в следующих статьях.</span><span class="sxs-lookup"><span data-stu-id="07602-287">To learn more about [Service Bus](https://azure.microsoft.com/services/service-bus/), see the following topics.</span></span>

* [<span data-ttu-id="07602-288">Основные сведения об обмене сообщениями через служебную шину</span><span class="sxs-lookup"><span data-stu-id="07602-288">Service Bus messaging overview</span></span>](service-bus-messaging-overview.md)
* [<span data-ttu-id="07602-289">Базовая информация о служебной шине</span><span class="sxs-lookup"><span data-stu-id="07602-289">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="07602-290">Архитектура служебной шины</span><span class="sxs-lookup"><span data-stu-id="07602-290">Service Bus architecture</span></span>](service-bus-architecture.md)

