---
title: "aaaAzure хранилища очереди и очереди шины обслуживания — сходство и отличия | Документы Microsoft"
description: "Анализ сходства и различий между двумя типами очередей, предлагаемых в Azure."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: tysonn
ms.assetid: f07301dc-ca9b-465c-bd5b-a0f99bab606b
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/07/2017
ms.author: sethm
ms.openlocfilehash: f8b915e73ea3c82d823a96bf23c8c9e24c96aa42
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="storage-queues-and-service-bus-queues---compared-and-contrasted"></a><span data-ttu-id="aa922-103">Очереди службы хранилища и очереди служебной шины: сходства и различия</span><span class="sxs-lookup"><span data-stu-id="aa922-103">Storage queues and Service Bus queues - compared and contrasted</span></span>
<span data-ttu-id="aa922-104">В этой статье рассматриваются hello различия и сходства между hello двумя типами очередей, предлагаемых сегодня в Microsoft Azure: очереди хранилища и очереди шины обслуживания.</span><span class="sxs-lookup"><span data-stu-id="aa922-104">This article analyzes hello differences and similarities between hello two types of queues offered by Microsoft Azure today: Storage queues and Service Bus queues.</span></span> <span data-ttu-id="aa922-105">С помощью этих сведений, можно сравнить и сравните hello соответствующих технологий и быть может toomake более обоснованное решение о какая система лучше всего соответствует вашим потребностям.</span><span class="sxs-lookup"><span data-stu-id="aa922-105">By using this information, you can compare and contrast hello respective technologies and be able toomake a more informed decision about which solution best meets your needs.</span></span>

## <a name="introduction"></a><span data-ttu-id="aa922-106">Введение</span><span class="sxs-lookup"><span data-stu-id="aa922-106">Introduction</span></span>
<span data-ttu-id="aa922-107">Azure поддерживает два типа очередей: **очереди службы хранилища** и **очереди служебной шины**.</span><span class="sxs-lookup"><span data-stu-id="aa922-107">Azure supports two types of queue mechanisms: **Storage queues** and **Service Bus queues**.</span></span>

<span data-ttu-id="aa922-108">**Очереди хранилища**, которые являются частью hello [хранилища Azure](https://azure.microsoft.com/services/storage/) инфраструктуры, функция простой интерфейс на основе REST GET и PUT/СЧИТЫВАНИЯ, предоставляя надежный механизм обмена сообщениями внутри и между службами.</span><span class="sxs-lookup"><span data-stu-id="aa922-108">**Storage queues**, which are part of hello [Azure storage](https://azure.microsoft.com/services/storage/) infrastructure, feature a simple REST-based GET/PUT/PEEK interface, providing reliable, persistent messaging within and between services.</span></span>

<span data-ttu-id="aa922-109">**Очереди служебной шины** входят в более обширную инфраструктуру [обмена сообщениями Azure](https://azure.microsoft.com/services/service-bus/), поддерживающую очереди, публикации и подписки, а также более сложные шаблоны интеграции.</span><span class="sxs-lookup"><span data-stu-id="aa922-109">**Service Bus queues** are part of a broader [Azure messaging](https://azure.microsoft.com/services/service-bus/) infrastructure that supports queuing as well as publish/subscribe, and more advanced integration patterns.</span></span> <span data-ttu-id="aa922-110">Дополнительные сведения о Service Bus очередей, разделов и подписок см. в разделе hello [Общие сведения о Service Bus](service-bus-messaging-overview.md).</span><span class="sxs-lookup"><span data-stu-id="aa922-110">For more information about Service Bus queues/topics/subscriptions, see hello [overview of Service Bus](service-bus-messaging-overview.md).</span></span>

<span data-ttu-id="aa922-111">Несмотря на то что описываемые технологии очередей существуют параллельно, очереди службы хранилища появились раньше как выделенный механизм хранения очередей на базе служб хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="aa922-111">While both queuing technologies exist concurrently, Storage queues were introduced first, as a dedicated queue storage mechanism built on top of Azure Storage services.</span></span> <span data-ttu-id="aa922-112">Очереди шины обслуживания построены на основе hello широкой «обмен сообщениями» инфраструктуры, направленной toointegrate приложений или компонентов приложений, которые могут охватывать несколько коммуникационных протоколов, контрактов данных, доверенными доменами или сетевых сред.</span><span class="sxs-lookup"><span data-stu-id="aa922-112">Service Bus queues are built on top of hello broader "messaging" infrastructure designed toointegrate applications or application components that may span multiple communication protocols, data contracts, trust domains, and/or network environments.</span></span>

## <a name="technology-selection-considerations"></a><span data-ttu-id="aa922-113">Рекомендации по выбору технологии</span><span class="sxs-lookup"><span data-stu-id="aa922-113">Technology selection considerations</span></span>
<span data-ttu-id="aa922-114">Очереди хранилища и очереди шины обслуживания являются реализациями приветственное сообщение очереди службы, предлагаемой в настоящее время в Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="aa922-114">Both Storage queues and Service Bus queues are implementations of hello message queuing service currently offered on Microsoft Azure.</span></span> <span data-ttu-id="aa922-115">Каждый имеет немного различающиеся наборы функций, это означает, выберите один или другой hello или использовать оба, в зависимости от потребностей конкретного решения или экономической или технической задачи, которую требуется решить hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-115">Each has a slightly different feature set, which means you can choose one or hello other, or use both, depending on hello needs of your particular solution or business/technical problem you are solving.</span></span>

<span data-ttu-id="aa922-116">При определении, какие технологии очередей соответствует hello цели данного решения, архитекторам и разработчикам решений следует учитывать hello приведенным ниже рекомендациям.</span><span class="sxs-lookup"><span data-stu-id="aa922-116">When determining which queuing technology fits hello purpose for a given solution, solution architects and developers should consider hello recommendations below.</span></span> <span data-ttu-id="aa922-117">Дополнительные сведения см. следующий раздел hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-117">For more details, see hello next section.</span></span>

<span data-ttu-id="aa922-118">Ниже приведены случаи, в которых архитекторам и разработчикам решений **рекомендуется использовать очереди службы хранилища**.</span><span class="sxs-lookup"><span data-stu-id="aa922-118">As a solution architect/developer, **you should consider using Storage queues** when:</span></span>

* <span data-ttu-id="aa922-119">Приложение должно хранить более 80 ГБ сообщений в очереди, где сообщений hello имеют время существования, менее 7 дней.</span><span class="sxs-lookup"><span data-stu-id="aa922-119">Your application must store over 80 GB of messages in a queue, where hello messages have a lifetime shorter than 7 days.</span></span>
* <span data-ttu-id="aa922-120">Приложение хочет tootrack хода выполнения для обработки сообщения внутри очереди hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-120">Your application wants tootrack progress for processing a message inside of hello queue.</span></span> <span data-ttu-id="aa922-121">Это полезно, если сбоя hello рабочего процесса обработки сообщения.</span><span class="sxs-lookup"><span data-stu-id="aa922-121">This is useful if hello worker processing a message crashes.</span></span> <span data-ttu-id="aa922-122">Можно использовать, toocontinue сведения с места остановки предыдущего рабочего процесса hello последующим рабочим процессом.</span><span class="sxs-lookup"><span data-stu-id="aa922-122">A subsequent worker can then use that information toocontinue from where hello prior worker left off.</span></span>
* <span data-ttu-id="aa922-123">Наличие на сервере журналов всех транзакций hello, примененных к очередям.</span><span class="sxs-lookup"><span data-stu-id="aa922-123">You require server side logs of all of hello transactions executed against your queues.</span></span>

<span data-ttu-id="aa922-124">В следующих случаях архитекторам и разработчикам решений **рекомендуется использовать очереди служебной шины**:</span><span class="sxs-lookup"><span data-stu-id="aa922-124">As a solution architect/developer, **you should consider using Service Bus queues** when:</span></span>

* <span data-ttu-id="aa922-125">Решение должно может tooreceive сообщений без необходимости toopoll hello очереди.</span><span class="sxs-lookup"><span data-stu-id="aa922-125">Your solution must be able tooreceive messages without having toopoll hello queue.</span></span> <span data-ttu-id="aa922-126">С Service Bus, это можно сделать через hello использование продолжительным опросом hello получать операцию, используя протоколы на основе TCP hello, поддерживаемых служебной шины.</span><span class="sxs-lookup"><span data-stu-id="aa922-126">With Service Bus, this can be achieved through hello use of hello long-polling receive operation using hello TCP-based protocols that Service Bus supports.</span></span>
* <span data-ttu-id="aa922-127">Решение требует tooprovide очереди hello гарантированную первым в первым обслужен (FIFO) упорядоченную доставку.</span><span class="sxs-lookup"><span data-stu-id="aa922-127">Your solution requires hello queue tooprovide a guaranteed first-in-first-out (FIFO) ordered delivery.</span></span>
* <span data-ttu-id="aa922-128">Вы хотите, чтобы Azure и Windows Server работали симметрично (частное облако).</span><span class="sxs-lookup"><span data-stu-id="aa922-128">You want a symmetric experience in Azure and on Windows Server (private cloud).</span></span> <span data-ttu-id="aa922-129">Дополнительные сведения см. в статье [Служебная шина для Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span><span class="sxs-lookup"><span data-stu-id="aa922-129">For more information, see [Service Bus for Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).</span></span>
* <span data-ttu-id="aa922-130">Решение должно toosupport возможности автоматического обнаружения дубликатов.</span><span class="sxs-lookup"><span data-stu-id="aa922-130">Your solution must be able toosupport automatic duplicate detection.</span></span>
* <span data-ttu-id="aa922-131">Должны tooprocess приложения сообщения как параллельные долговременные потоки (сообщения связываются с потоком, с помощью hello [SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) свойство приветственное сообщение).</span><span class="sxs-lookup"><span data-stu-id="aa922-131">You want your application tooprocess messages as parallel long-running streams (messages are associated with a stream using hello [SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) property on hello message).</span></span> <span data-ttu-id="aa922-132">В этой модели каждый узел использует приложение hello конкурирует за потоки, в противоположность toomessages.</span><span class="sxs-lookup"><span data-stu-id="aa922-132">In this model, each node in hello consuming application competes for streams, as opposed toomessages.</span></span> <span data-ttu-id="aa922-133">Когда поток выделяется tooa использование узла, узел hello можно проверить состояние hello состояния потока приложения hello, использование транзакций.</span><span class="sxs-lookup"><span data-stu-id="aa922-133">When a stream is given tooa consuming node, hello node can examine hello state of hello application stream state using transactions.</span></span>
* <span data-ttu-id="aa922-134">В решении требуется реализовать транзакционный режим работы и атомарность при отправке или получении нескольких сообщений из очереди.</span><span class="sxs-lookup"><span data-stu-id="aa922-134">Your solution requires transactional behavior and atomicity when sending or receiving multiple messages from a queue.</span></span>
* <span data-ttu-id="aa922-135">Hello срока жизни (TTL) характеристик рабочей нагрузки конкретного приложения hello может превышать 7-дневного периода hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-135">hello time-to-live (TTL) characteristic of hello application-specific workload can exceed hello 7-day period.</span></span>
* <span data-ttu-id="aa922-136">Приложение обрабатывает сообщения, которые может превышать 64 КБ, но вряд ли приблизится будет hello 256 КБ.</span><span class="sxs-lookup"><span data-stu-id="aa922-136">Your application handles messages that can exceed 64 KB but will not likely approach hello 256 KB limit.</span></span>
* <span data-ttu-id="aa922-137">Работе с tooprovide требование toohello модели доступом на основе очередей, а также различные права или разрешения для отправителей и получателей.</span><span class="sxs-lookup"><span data-stu-id="aa922-137">You deal with a requirement tooprovide a role-based access model toohello queues, and different rights/permissions for senders and receivers.</span></span>
* <span data-ttu-id="aa922-138">Размер очереди не будет превышать 80 ГБ.</span><span class="sxs-lookup"><span data-stu-id="aa922-138">Your queue size will not grow larger than 80 GB.</span></span>
* <span data-ttu-id="aa922-139">Вы хотите toouse hello протокол AMQP 1.0 на основе стандартов обмена сообщениями.</span><span class="sxs-lookup"><span data-stu-id="aa922-139">You want toouse hello AMQP 1.0 standards-based messaging protocol.</span></span> <span data-ttu-id="aa922-140">Дополнительные сведения об AMQP см. в статье [Общие сведения о протоколе AMQP для служебной шины](service-bus-amqp-overview.md).</span><span class="sxs-lookup"><span data-stu-id="aa922-140">For more information about AMQP, see [Service Bus AMQP Overview](service-bus-amqp-overview.md).</span></span>
* <span data-ttu-id="aa922-141">Существует возможность миграции от точка-точка на основе очередей связи tooa обмена сообщениями, обеспечивает сквозную интеграцию дополнительных получателей (подписчиков), каждый из которых получает независимые копии некоторых или всех сообщения отправляются toohello очереди.</span><span class="sxs-lookup"><span data-stu-id="aa922-141">You can envision an eventual migration from queue-based point-to-point communication tooa message exchange pattern that enables seamless integration of additional receivers (subscribers), each of which receives independent copies of either some or all messages sent toohello queue.</span></span> <span data-ttu-id="aa922-142">последний Hello ссылается toohello публикации и подписки, встроенным Service Bus.</span><span class="sxs-lookup"><span data-stu-id="aa922-142">hello latter refers toohello publish/subscribe capability natively provided by Service Bus.</span></span>
* <span data-ttu-id="aa922-143">В решении обмена сообщениями должен быть гарантированной доставки может toosupport hello» в повторов» без hello требуется toobuild hello дополнительных компонентов инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="aa922-143">Your messaging solution must be able toosupport hello "At-Most-Once" delivery guarantee without hello need for you toobuild hello additional infrastructure components.</span></span>
* <span data-ttu-id="aa922-144">Вам потребуется как будет toopublish toobe и потребления пакетов сообщений.</span><span class="sxs-lookup"><span data-stu-id="aa922-144">You would like toobe able toopublish and consume batches of messages.</span></span>

## <a name="comparing-storage-queues-and-service-bus-queues"></a><span data-ttu-id="aa922-145">Сравнение очередей службы хранилища и служебной шины</span><span class="sxs-lookup"><span data-stu-id="aa922-145">Comparing Storage queues and Service Bus queues</span></span>
<span data-ttu-id="aa922-146">таблицы Hello hello в следующих разделах представлено логическое группирование функций очередей и позволяют сравнивать с одного взгляда hello возможности, доступные в очереди хранилища и очереди шины обслуживания.</span><span class="sxs-lookup"><span data-stu-id="aa922-146">hello tables in hello following sections provide a logical grouping of queue features and let you compare, at a glance, hello capabilities available in both Storage queues and Service Bus queues.</span></span>

## <a name="foundational-capabilities"></a><span data-ttu-id="aa922-147">Основные возможности</span><span class="sxs-lookup"><span data-stu-id="aa922-147">Foundational capabilities</span></span>
<span data-ttu-id="aa922-148">В этом разделе сравниваются некоторые из hello основных возможностей, предоставляемых хранилища очереди и очереди Service Bus.</span><span class="sxs-lookup"><span data-stu-id="aa922-148">This section compares some of hello fundamental queuing capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="aa922-149">Критерии сравнения</span><span class="sxs-lookup"><span data-stu-id="aa922-149">Comparison Criteria</span></span> | <span data-ttu-id="aa922-150">Очереди службы хранилища</span><span class="sxs-lookup"><span data-stu-id="aa922-150">Storage queues</span></span> | <span data-ttu-id="aa922-151">Очереди служебной шины</span><span class="sxs-lookup"><span data-stu-id="aa922-151">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa922-152">Гарантированный метод упорядочивания</span><span class="sxs-lookup"><span data-stu-id="aa922-152">Ordering guarantee</span></span> |<span data-ttu-id="aa922-153">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-153">**No**</span></span> <br/><br><span data-ttu-id="aa922-154">Дополнительные сведения см. в разделе hello первое Примечание в разделе «Дополнительные сведения» hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-154">For more information, see hello first note in hello “Additional Information” section.</span></span></br> |<span data-ttu-id="aa922-155">**Да — "первым прибыл, первым обслужен" (FIFO)**</span><span class="sxs-lookup"><span data-stu-id="aa922-155">**Yes - First-In-First-Out (FIFO)**</span></span><br/><br><span data-ttu-id="aa922-156">(с помощью hello использования сеансов обмена сообщениями)</span><span class="sxs-lookup"><span data-stu-id="aa922-156">(through hello use of messaging sessions)</span></span> |
| <span data-ttu-id="aa922-157">Гарантированный метод доставки</span><span class="sxs-lookup"><span data-stu-id="aa922-157">Delivery guarantee</span></span> |<span data-ttu-id="aa922-158">**Как минимум один раз**</span><span class="sxs-lookup"><span data-stu-id="aa922-158">**At-Least-Once**</span></span> |<span data-ttu-id="aa922-159">**Как минимум один раз**</span><span class="sxs-lookup"><span data-stu-id="aa922-159">**At-Least-Once**</span></span><br/><br/><span data-ttu-id="aa922-160">**Как минимум один раз**</span><span class="sxs-lookup"><span data-stu-id="aa922-160">**At-Most-Once**</span></span> |
| <span data-ttu-id="aa922-161">Поддержка атомарной операции</span><span class="sxs-lookup"><span data-stu-id="aa922-161">Atomic operation support</span></span> |<span data-ttu-id="aa922-162">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-162">**No**</span></span> |<span data-ttu-id="aa922-163">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-163">**Yes**</span></span><br/><br/> |
| <span data-ttu-id="aa922-164">Поведение при получении</span><span class="sxs-lookup"><span data-stu-id="aa922-164">Receive behavior</span></span> |<span data-ttu-id="aa922-165">**Без блокировки**</span><span class="sxs-lookup"><span data-stu-id="aa922-165">**Non-blocking**</span></span><br/><br/><span data-ttu-id="aa922-166">(немедленно завершается, если новые сообщения не найдены)</span><span class="sxs-lookup"><span data-stu-id="aa922-166">(completes immediately if no new message is found)</span></span> |<span data-ttu-id="aa922-167">**Блокировка со временем ожидания или без него**</span><span class="sxs-lookup"><span data-stu-id="aa922-167">**Blocking with/without timeout**</span></span><br/><br/><span data-ttu-id="aa922-168">(обеспечивает продолжительного опроса или hello [«Комета метод»](http://go.microsoft.com/fwlink/?LinkId=613759))</span><span class="sxs-lookup"><span data-stu-id="aa922-168">(offers long polling, or hello ["Comet technique"](http://go.microsoft.com/fwlink/?LinkId=613759))</span></span><br/><br/><span data-ttu-id="aa922-169">**Без блокировки**</span><span class="sxs-lookup"><span data-stu-id="aa922-169">**Non-blocking**</span></span><br/><br/><span data-ttu-id="aa922-170">(через hello использование .NET API только управляемый)</span><span class="sxs-lookup"><span data-stu-id="aa922-170">(through hello use of .NET managed API only)</span></span> |
| <span data-ttu-id="aa922-171">API push-уведомлений</span><span class="sxs-lookup"><span data-stu-id="aa922-171">Push-style API</span></span> |<span data-ttu-id="aa922-172">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-172">**No**</span></span> |<span data-ttu-id="aa922-173">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-173">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-174">Сеансы [OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) и **OnMessage** API-интерфейса .NET.</span><span class="sxs-lookup"><span data-stu-id="aa922-174">[OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) and **OnMessage** sessions .NET API.</span></span> |
| <span data-ttu-id="aa922-175">Режим получения</span><span class="sxs-lookup"><span data-stu-id="aa922-175">Receive mode</span></span> |<span data-ttu-id="aa922-176">**Просмотр и аренда**</span><span class="sxs-lookup"><span data-stu-id="aa922-176">**Peek & Lease**</span></span> |<span data-ttu-id="aa922-177">**Просмотр и блокировка**</span><span class="sxs-lookup"><span data-stu-id="aa922-177">**Peek & Lock**</span></span><br/><br/><span data-ttu-id="aa922-178">**Получение и удаление**</span><span class="sxs-lookup"><span data-stu-id="aa922-178">**Receive & Delete**</span></span> |
| <span data-ttu-id="aa922-179">Режим монопольного доступа</span><span class="sxs-lookup"><span data-stu-id="aa922-179">Exclusive access mode</span></span> |<span data-ttu-id="aa922-180">**На основе аренды**</span><span class="sxs-lookup"><span data-stu-id="aa922-180">**Lease-based**</span></span> |<span data-ttu-id="aa922-181">**На основе блокировки**</span><span class="sxs-lookup"><span data-stu-id="aa922-181">**Lock-based**</span></span> |
| <span data-ttu-id="aa922-182">Продолжительность аренды или блокировки</span><span class="sxs-lookup"><span data-stu-id="aa922-182">Lease/Lock duration</span></span> |<span data-ttu-id="aa922-183">**30 секунд (по умолчанию)**</span><span class="sxs-lookup"><span data-stu-id="aa922-183">**30 seconds (default)**</span></span><br/><br/><span data-ttu-id="aa922-184">**7 дней (максимум)** (можно продлить или освободить аренду сообщения с помощью hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API.)</span><span class="sxs-lookup"><span data-stu-id="aa922-184">**7 days (maximum)** (You can renew or release a message lease using hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API.)</span></span> |<span data-ttu-id="aa922-185">**60 секунд (по умолчанию)**</span><span class="sxs-lookup"><span data-stu-id="aa922-185">**60 seconds (default)**</span></span><br/><br/><span data-ttu-id="aa922-186">Можно возобновлять блокировку сообщений, с помощью hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.</span><span class="sxs-lookup"><span data-stu-id="aa922-186">You can renew a message lock using hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.</span></span> |
| <span data-ttu-id="aa922-187">Степень детализации аренды или блокировки</span><span class="sxs-lookup"><span data-stu-id="aa922-187">Lease/Lock precision</span></span> |<span data-ttu-id="aa922-188">**Уровень сообщения**</span><span class="sxs-lookup"><span data-stu-id="aa922-188">**Message level**</span></span><br/><br/><span data-ttu-id="aa922-189">(каждое сообщение может иметь другое значение времени ожидания, который затем можно обновлять при необходимости во время обработки сообщения hello, с помощью hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API)</span><span class="sxs-lookup"><span data-stu-id="aa922-189">(each message can have a different timeout value, which you can then update as needed while processing hello message, by using hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API)</span></span> |<span data-ttu-id="aa922-190">**Уровень очереди**</span><span class="sxs-lookup"><span data-stu-id="aa922-190">**Queue level**</span></span><br/><br/><span data-ttu-id="aa922-191">(у каждой очереди есть tooall точности применяется блокировка сообщениям, но можно обновить с помощью hello блокировки hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.)</span><span class="sxs-lookup"><span data-stu-id="aa922-191">(each queue has a lock precision applied tooall of its messages, but you can renew hello lock using hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.)</span></span> |
| <span data-ttu-id="aa922-192">Получение в пакетном режиме</span><span class="sxs-lookup"><span data-stu-id="aa922-192">Batched receive</span></span> |<span data-ttu-id="aa922-193">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-193">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-194">(явно указав число сообщений при получении сообщений, копирование tooa не более 32 сообщений)</span><span class="sxs-lookup"><span data-stu-id="aa922-194">(explicitly specifying message count when retrieving messages, up tooa maximum of 32 messages)</span></span> |<span data-ttu-id="aa922-195">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-195">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-196">(неявно включения свойства предварительной выборки или явно через hello использовать транзакций)</span><span class="sxs-lookup"><span data-stu-id="aa922-196">(implicitly enabling a pre-fetch property or explicitly through hello use of transactions)</span></span> |
| <span data-ttu-id="aa922-197">Отправка в пакетном режиме</span><span class="sxs-lookup"><span data-stu-id="aa922-197">Batched send</span></span> |<span data-ttu-id="aa922-198">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-198">**No**</span></span> |<span data-ttu-id="aa922-199">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-199">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-200">(с использованием hello транзакций или пакетной обработки на стороне клиента)</span><span class="sxs-lookup"><span data-stu-id="aa922-200">(through hello use of transactions or client-side batching)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="aa922-201">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="aa922-201">Additional information</span></span>
* <span data-ttu-id="aa922-202">Сообщения в очередях службы хранилища обычно располагаются в порядке их добавления (FIFO), но иногда очередность может нарушаться. Например, в результате сбоя при обработке на стороне клиентского приложения может закончиться время ожидания видимости сообщения.</span><span class="sxs-lookup"><span data-stu-id="aa922-202">Messages in Storage queues are typically first-in-first-out, but sometimes they can be out of order; for example, when a message's visibility timeout duration expires (for example, as a result of a client application crashing during processing).</span></span> <span data-ttu-id="aa922-203">По истечении времени ожидания видимости hello приветственное сообщение снова становится видимым hello очереди для другого рабочего toodequeue его.</span><span class="sxs-lookup"><span data-stu-id="aa922-203">When hello visibility timeout expires, hello message becomes visible again on hello queue for another worker toodequeue it.</span></span> <span data-ttu-id="aa922-204">После этого вновь видимость сообщение hello может быть помещено в очередь hello (снова toobe удален из очереди) после сообщения, которое было изначально поставлено в очередь после него.</span><span class="sxs-lookup"><span data-stu-id="aa922-204">At that point, hello newly visible message might be placed in hello queue (toobe dequeued again) after a message that was originally enqueued after it.</span></span>
* <span data-ttu-id="aa922-205">Hello гарантию, что шаблон FIFO в очередях Service Bus требует использования сеансов обмена сообщениями hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-205">hello guaranteed FIFO pattern in Service Bus queues requires hello use of messaging sessions.</span></span> <span data-ttu-id="aa922-206">В hello событие, которое приложение hello аварийном завершении во время обработки сообщения, полученного в hello **Показать & заблокировать** режим, при очередном hello получатель очереди сеансе обмена сообщениями, он будет запущен с неудачное сообщение hello после его срок жизни (TTL) истекло.</span><span class="sxs-lookup"><span data-stu-id="aa922-206">In hello event that hello application crashes while processing a message received in hello **Peek & Lock** mode, hello next time a queue receiver accepts a messaging session, it will start with hello failed message after its time-to-live (TTL) period expires.</span></span>
* <span data-ttu-id="aa922-207">Очереди хранилища, разработанной toosupport стандартные сценарии очередей, такие как разъединение приложения компоненты tooincrease масштабируемости и устойчивости к сбоям, выравнивания нагрузки и создания рабочих процессов.</span><span class="sxs-lookup"><span data-stu-id="aa922-207">Storage queues are designed toosupport standard queuing scenarios, such as decoupling application components tooincrease scalability and tolerance for failures, load leveling, and building process workflows.</span></span>
* <span data-ttu-id="aa922-208">Очереди шины обслуживания поддерживает hello *в однократная* гарантированной доставки.</span><span class="sxs-lookup"><span data-stu-id="aa922-208">Service Bus queues support hello *At-Least-Once* delivery guarantee.</span></span> <span data-ttu-id="aa922-209">Кроме того, hello *в повторов* семантической может поддерживаться путем использования состояния приложения hello toostore состояния сеанса с помощью tooatomically операций получения сообщений и обновить состояние сеанса hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-209">In addition, hello *At-Most-Once* semantic can be supported by using session state toostore hello application state and by using transactions tooatomically receive messages and update hello session state.</span></span>
* <span data-ttu-id="aa922-210">Очереди службы хранилища предоставляют единообразную и согласованную модель программирования для очередей, таблиц и больших двоичных объектов как разработчикам, так и специалистам по эксплуатации.</span><span class="sxs-lookup"><span data-stu-id="aa922-210">Storage queues provide a uniform and consistent programming model across queues, tables, and BLOBs – both for developers and for operations teams.</span></span>
* <span data-ttu-id="aa922-211">Очереди шины обслуживания обеспечивают поддержку локальных транзакций в контексте hello одной очереди.</span><span class="sxs-lookup"><span data-stu-id="aa922-211">Service Bus queues provide support for local transactions in hello context of a single queue.</span></span>
* <span data-ttu-id="aa922-212">Hello **получение и удаление** режим, поддерживаемый Service Bus предоставляет hello возможность tooreduce hello обмена сообщениями число операций (и связанные с этим расходы) за счет снижения гарантии доставки.</span><span class="sxs-lookup"><span data-stu-id="aa922-212">hello **Receive and Delete** mode supported by Service Bus provides hello ability tooreduce hello messaging operation count (and associated cost) in exchange for lowered delivery assurance.</span></span>
* <span data-ttu-id="aa922-213">Очереди хранилища предоставляют аренды с hello возможность tooextend hello аренды для сообщения.</span><span class="sxs-lookup"><span data-stu-id="aa922-213">Storage queues provide leases with hello ability tooextend hello leases for messages.</span></span> <span data-ttu-id="aa922-214">Это позволяет работников hello toomaintain Краткосрочные аренды на сообщениях.</span><span class="sxs-lookup"><span data-stu-id="aa922-214">This allows hello workers toomaintain short leases on messages.</span></span> <span data-ttu-id="aa922-215">Таким образом сбоя рабочего процесса, приветственное сообщение может быть быстро обработано рабочих процессов.</span><span class="sxs-lookup"><span data-stu-id="aa922-215">Thus, if a worker crashes, hello message can be quickly processed again by another worker.</span></span> <span data-ttu-id="aa922-216">Кроме того рабочего процесса можно расширить hello аренды для сообщения, если он должен tooprocess дольше, чем hello текущее время аренды.</span><span class="sxs-lookup"><span data-stu-id="aa922-216">In addition, a worker can extend hello lease on a message if it needs tooprocess it longer than hello current lease time.</span></span>
* <span data-ttu-id="aa922-217">Очереди хранилища предлагают время ожидания видимости, вы можете задавать при постановке hello или удалении сообщения из очереди.</span><span class="sxs-lookup"><span data-stu-id="aa922-217">Storage queues offer a visibility timeout that you can set upon hello enqueueing or dequeuing of a message.</span></span> <span data-ttu-id="aa922-218">Кроме того, сообщения можно обновлять значение аренды во время выполнения, и обновление разные значения для сообщений в hello же очереди.</span><span class="sxs-lookup"><span data-stu-id="aa922-218">In addition, you can update a message with different lease values at run-time, and update different values across messages in hello same queue.</span></span> <span data-ttu-id="aa922-219">Время ожидания блокировки Service Bus определены в метаданных очереди hello; Тем не менее, можно обновить hello блокировки, вызывающему Привет [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) метод.</span><span class="sxs-lookup"><span data-stu-id="aa922-219">Service Bus lock timeouts are defined in hello queue metadata; however, you can renew hello lock by calling hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) method.</span></span>
* <span data-ttu-id="aa922-220">Hello максимальное время ожидания для операции блокирующего получения в очередях шины обслуживания составляет 24 дня.</span><span class="sxs-lookup"><span data-stu-id="aa922-220">hello maximum timeout for a blocking receive operation in Service Bus queues is 24 days.</span></span> <span data-ttu-id="aa922-221">Однако для очередей на основе REST время ожидания не может превышать 55 секунд.</span><span class="sxs-lookup"><span data-stu-id="aa922-221">However, REST-based timeouts have a maximum value of 55 seconds.</span></span>
* <span data-ttu-id="aa922-222">Пакетная обработка на стороне клиента, предоставляемые Service Bus обеспечивает toobatch клиента очереди несколько сообщений в рамках одной операции отправки.</span><span class="sxs-lookup"><span data-stu-id="aa922-222">Client-side batching provided by Service Bus enables a queue client toobatch multiple messages into a single send operation.</span></span> <span data-ttu-id="aa922-223">Пакетная обработка возможна только для операций асинхронной отправки.</span><span class="sxs-lookup"><span data-stu-id="aa922-223">Batching is only available for asynchronous send operations.</span></span>
* <span data-ttu-id="aa922-224">Функции, такие как верхний предел 200 ТБ hello очереди хранилища (больше при виртуализации учетных записей) и очереди без ограничений, делают его идеальной платформой для поставщиков SaaS.</span><span class="sxs-lookup"><span data-stu-id="aa922-224">Features such as hello 200 TB ceiling of Storage queues (more when you virtualize accounts) and unlimited queues make it an ideal platform for SaaS providers.</span></span>
* <span data-ttu-id="aa922-225">Очереди службы хранилища предоставляют гибкий и эффективный механизм управления делегированным доступом.</span><span class="sxs-lookup"><span data-stu-id="aa922-225">Storage queues provide a flexible and performant delegated access control mechanism.</span></span>

## <a name="advanced-capabilities"></a><span data-ttu-id="aa922-226">Расширенные возможности</span><span class="sxs-lookup"><span data-stu-id="aa922-226">Advanced capabilities</span></span>
<span data-ttu-id="aa922-227">В этом разделе сравниваются расширенные возможности очередей службы хранилища и очередей служебной шины.</span><span class="sxs-lookup"><span data-stu-id="aa922-227">This section compares advanced capabilities provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="aa922-228">Критерии сравнения</span><span class="sxs-lookup"><span data-stu-id="aa922-228">Comparison Criteria</span></span> | <span data-ttu-id="aa922-229">Очереди службы хранилища</span><span class="sxs-lookup"><span data-stu-id="aa922-229">Storage queues</span></span> | <span data-ttu-id="aa922-230">Очереди служебной шины</span><span class="sxs-lookup"><span data-stu-id="aa922-230">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa922-231">Доставка по расписанию</span><span class="sxs-lookup"><span data-stu-id="aa922-231">Scheduled delivery</span></span> |<span data-ttu-id="aa922-232">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-232">**Yes**</span></span> |<span data-ttu-id="aa922-233">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-233">**Yes**</span></span> |
| <span data-ttu-id="aa922-234">Автоматическое перемещение в "мертвую очередь"</span><span class="sxs-lookup"><span data-stu-id="aa922-234">Automatic dead lettering</span></span> |<span data-ttu-id="aa922-235">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-235">**No**</span></span> |<span data-ttu-id="aa922-236">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-236">**Yes**</span></span> |
| <span data-ttu-id="aa922-237">Увеличение срока жизни очереди</span><span class="sxs-lookup"><span data-stu-id="aa922-237">Increasing queue time-to-live value</span></span> |<span data-ttu-id="aa922-238">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-238">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-239">(посредством обновления времени ожидания видимости "на месте")</span><span class="sxs-lookup"><span data-stu-id="aa922-239">(via in-place update of visibility timeout)</span></span> |<span data-ttu-id="aa922-240">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-240">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-241">(используется выделенная функция API)</span><span class="sxs-lookup"><span data-stu-id="aa922-241">(provided via a dedicated API function)</span></span> |
| <span data-ttu-id="aa922-242">Поддержка сообщений о сбое</span><span class="sxs-lookup"><span data-stu-id="aa922-242">Poison message support</span></span> |<span data-ttu-id="aa922-243">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-243">**Yes**</span></span> |<span data-ttu-id="aa922-244">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-244">**Yes**</span></span> |
| <span data-ttu-id="aa922-245">Обновление "на месте"</span><span class="sxs-lookup"><span data-stu-id="aa922-245">In-place update</span></span> |<span data-ttu-id="aa922-246">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-246">**Yes**</span></span> |<span data-ttu-id="aa922-247">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-247">**Yes**</span></span> |
| <span data-ttu-id="aa922-248">Журнал транзакций на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="aa922-248">Server-side transaction log</span></span> |<span data-ttu-id="aa922-249">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-249">**Yes**</span></span> |<span data-ttu-id="aa922-250">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-250">**No**</span></span> |
| <span data-ttu-id="aa922-251">Метрики хранения</span><span class="sxs-lookup"><span data-stu-id="aa922-251">Storage metrics</span></span> |<span data-ttu-id="aa922-252">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-252">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-253">**Точные метрики**: в реальном времени отслеживаются доступность, количество транзакций в секунду, количество вызовов API, количество ошибок и многое другое (данные агрегируются поминутно и доступны уже через несколько минут после того, как в рабочей среде произошло то или иное событие).</span><span class="sxs-lookup"><span data-stu-id="aa922-253">**Minute Metrics**: provides real-time metrics for availability, TPS, API call counts, error counts, and more, all in real time (aggregated per minute and reported within a few minutes from what just happened in production.</span></span> <span data-ttu-id="aa922-254">Дополнительные сведения см. в разделе [О метриках аналитики хранилища](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics).</span><span class="sxs-lookup"><span data-stu-id="aa922-254">For more information, see [About Storage Analytics Metrics](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics).</span></span> |<span data-ttu-id="aa922-255">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-255">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-256">(массовые запросы путем вызова [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues))</span><span class="sxs-lookup"><span data-stu-id="aa922-256">(bulk queries by calling [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues))</span></span> |
| <span data-ttu-id="aa922-257">Управление данными о состоянии</span><span class="sxs-lookup"><span data-stu-id="aa922-257">State management</span></span> |<span data-ttu-id="aa922-258">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-258">**No**</span></span> |<span data-ttu-id="aa922-259">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-259">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled)</span><span class="sxs-lookup"><span data-stu-id="aa922-260">[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled)</span></span> |
| <span data-ttu-id="aa922-261">Автоматическая пересылка сообщений</span><span class="sxs-lookup"><span data-stu-id="aa922-261">Message auto-forwarding</span></span> |<span data-ttu-id="aa922-262">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-262">**No**</span></span> |<span data-ttu-id="aa922-263">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-263">**Yes**</span></span> |
| <span data-ttu-id="aa922-264">Функция очистки очереди</span><span class="sxs-lookup"><span data-stu-id="aa922-264">Purge queue function</span></span> |<span data-ttu-id="aa922-265">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-265">**Yes**</span></span> |<span data-ttu-id="aa922-266">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-266">**No**</span></span> |
| <span data-ttu-id="aa922-267">Группы сообщений</span><span class="sxs-lookup"><span data-stu-id="aa922-267">Message groups</span></span> |<span data-ttu-id="aa922-268">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-268">**No**</span></span> |<span data-ttu-id="aa922-269">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-269">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-270">(с помощью hello использования сеансов обмена сообщениями)</span><span class="sxs-lookup"><span data-stu-id="aa922-270">(through hello use of messaging sessions)</span></span> |
| <span data-ttu-id="aa922-271">Состояние приложений по группам сообщений</span><span class="sxs-lookup"><span data-stu-id="aa922-271">Application state per message group</span></span> |<span data-ttu-id="aa922-272">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-272">**No**</span></span> |<span data-ttu-id="aa922-273">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-273">**Yes**</span></span> |
| <span data-ttu-id="aa922-274">Обнаружение дубликатов</span><span class="sxs-lookup"><span data-stu-id="aa922-274">Duplicate detection</span></span> |<span data-ttu-id="aa922-275">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-275">**No**</span></span> |<span data-ttu-id="aa922-276">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-276">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-277">(можно настроить на стороне отправителя hello)</span><span class="sxs-lookup"><span data-stu-id="aa922-277">(configurable on hello sender side)</span></span> |
| <span data-ttu-id="aa922-278">Просмотр групп сообщений</span><span class="sxs-lookup"><span data-stu-id="aa922-278">Browsing message groups</span></span> |<span data-ttu-id="aa922-279">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-279">**No**</span></span> |<span data-ttu-id="aa922-280">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-280">**Yes**</span></span> |
| <span data-ttu-id="aa922-281">Выборка сеансов сообщений по идентификатору</span><span class="sxs-lookup"><span data-stu-id="aa922-281">Fetching message sessions by ID</span></span> |<span data-ttu-id="aa922-282">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-282">**No**</span></span> |<span data-ttu-id="aa922-283">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-283">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="aa922-284">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="aa922-284">Additional information</span></span>
* <span data-ttu-id="aa922-285">Обе технологии очередей позволяют toobe сообщение, запланированные для доставки позднее.</span><span class="sxs-lookup"><span data-stu-id="aa922-285">Both queuing technologies enable a message toobe scheduled for delivery at a later time.</span></span>
* <span data-ttu-id="aa922-286">Автоматической пересылки в очереди позволяет тысячам tooauto прямого очереди свои сообщения tooa одну очередь, из какой hello принимающее приложение получает сообщение hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-286">Queue auto-forwarding enables thousands of queues tooauto-forward their messages tooa single queue, from which hello receiving application consumes hello message.</span></span> <span data-ttu-id="aa922-287">Можно использовать этот механизм безопасности tooachieve, поток управления и изоляции хранилища между создателями сообщений.</span><span class="sxs-lookup"><span data-stu-id="aa922-287">You can use this mechanism tooachieve security, control flow, and isolate storage between each message publisher.</span></span>
* <span data-ttu-id="aa922-288">Очереди службы хранилища поддерживают обновление содержимого сообщений.</span><span class="sxs-lookup"><span data-stu-id="aa922-288">Storage queues provide support for updating message content.</span></span> <span data-ttu-id="aa922-289">Эту функцию можно использовать для сохранения сведений о состоянии и пошаговых обновлений хода выполнения в сообщение hello, чтобы он мог быть обработан из hello последней контрольной точки, а не с самого начала.</span><span class="sxs-lookup"><span data-stu-id="aa922-289">You can use this functionality for persisting state information and incremental progress updates into hello message so that it can be processed from hello last known checkpoint, instead of starting from scratch.</span></span> <span data-ttu-id="aa922-290">Очереди шины обслуживания можно включить hello одного сценария с использованием сеансов сообщений hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-290">With Service Bus queues, you can enable hello same scenario through hello use of message sessions.</span></span> <span data-ttu-id="aa922-291">Сеансы позволяют toosave и извлекать состояние обработки приложения hello (с помощью [SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_) и [GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState)).</span><span class="sxs-lookup"><span data-stu-id="aa922-291">Sessions enable you toosave and retrieve hello application processing state (by using [SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_) and [GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState)).</span></span>
* <span data-ttu-id="aa922-292">[Мертвой устаревших сообщений](service-bus-dead-letter-queues.md), это только поддерживаемые очереди Service Bus, может быть полезным для изоляции сообщений, которые не могут быть успешно обработаны принимающим приложением hello, или когда сообщения не могут достичь цели из-за tooan истек срок действия Свойство срока жизни (TTL).</span><span class="sxs-lookup"><span data-stu-id="aa922-292">[Dead lettering](service-bus-dead-letter-queues.md), which is only supported by Service Bus queues, can be useful for isolating messages that cannot be processed successfully by hello receiving application or when messages cannot reach their destination due tooan expired time-to-live (TTL) property.</span></span> <span data-ttu-id="aa922-293">значение срока ЖИЗНИ Hello указывает, как долго сообщение остается в очереди hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-293">hello TTL value specifies how long a message remains in hello queue.</span></span> <span data-ttu-id="aa922-294">С Service Bus приветственное сообщение будет перемещать tooa специальную очередь $DeadLetterQueue после истечения срока TTL hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-294">With Service Bus, hello message will be moved tooa special queue called $DeadLetterQueue when hello TTL period expires.</span></span>
* <span data-ttu-id="aa922-295">toofind «подозрительных» сообщений в очереди хранилища, при удалении из очереди сообщение hello приложение проверяет hello  **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)**  свойства сообщения hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-295">toofind "poison" messages in Storage queues, when dequeuing a message hello application examines hello **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)** property of hello message.</span></span> <span data-ttu-id="aa922-296">Если **DequeueCount** превышает заданный порог, приложение hello перемещает hello сообщение tooan определяемые приложением «мертвую» очередь.</span><span class="sxs-lookup"><span data-stu-id="aa922-296">If **DequeueCount** is greater than a given threshold, hello application moves hello message tooan application-defined "dead letter" queue.</span></span>
* <span data-ttu-id="aa922-297">Очереди хранилища позволяют tooobtain подробный журнал всех транзакций hello выполняться hello очереди, а также суммарный метрики.</span><span class="sxs-lookup"><span data-stu-id="aa922-297">Storage queues enable you tooobtain a detailed log of all of hello transactions executed against hello queue, as well as aggregated metrics.</span></span> <span data-ttu-id="aa922-298">Обе функции полезны для отладки и понимания принципов использования очередей службы хранилища в приложении.</span><span class="sxs-lookup"><span data-stu-id="aa922-298">Both of these options are useful for debugging and understanding how your application uses Storage queues.</span></span> <span data-ttu-id="aa922-299">Они также могут использоваться для настройки производительности приложения и сокращая затраты на hello использования очередей.</span><span class="sxs-lookup"><span data-stu-id="aa922-299">They are also useful for performance-tuning your application and reducing hello costs of using queues.</span></span>
* <span data-ttu-id="aa922-300">Hello понятие «сеансы сообщений» поддерживает Service Bus позволяет сообщений, которые принадлежат tooa toobe определенные логические группы, связанные с заданным получателем, что в свою очередь порождает сходство как в сеансах сообщений с соответствующими им получателями.</span><span class="sxs-lookup"><span data-stu-id="aa922-300">hello concept of "message sessions" supported by Service Bus enables messages that belong tooa certain logical group toobe associated with a given receiver, which in turn creates a session-like affinity between messages and their respective receivers.</span></span> <span data-ttu-id="aa922-301">Можно включить эти расширенные функции в Service Bus, установка hello [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) свойства сообщения.</span><span class="sxs-lookup"><span data-stu-id="aa922-301">You can enable this advanced functionality in Service Bus by setting hello [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) property on a message.</span></span> <span data-ttu-id="aa922-302">Приемники можно прослушивать сеансе с определенным Идентификатором и получения сообщений, которые имеют указанный hello идентификатор сеанса.</span><span class="sxs-lookup"><span data-stu-id="aa922-302">Receivers can then listen on a specific session ID and receive messages that share hello specified session identifier.</span></span>
* <span data-ttu-id="aa922-303">Hello функции обнаружения дубликатов, поддерживаемые очереди Service Bus автоматически удаляет повторяющиеся сообщения, отправленные tooa очередь или раздел, на основе значения hello hello [MessageId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) свойство.</span><span class="sxs-lookup"><span data-stu-id="aa922-303">hello duplication detection functionality supported by Service Bus queues automatically removes duplicate messages sent tooa queue or topic, based on hello value of hello [MessageId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) property.</span></span>

## <a name="capacity-and-quotas"></a><span data-ttu-id="aa922-304">Емкость и квоты</span><span class="sxs-lookup"><span data-stu-id="aa922-304">Capacity and quotas</span></span>
<span data-ttu-id="aa922-305">В этом разделе сравнивается очереди хранилища и очереди Service Bus с точки зрения hello [емкости и квот](service-bus-quotas.md) , могут применяться.</span><span class="sxs-lookup"><span data-stu-id="aa922-305">This section compares Storage queues and Service Bus queues from hello perspective of [capacity and quotas](service-bus-quotas.md) that may apply.</span></span>

| <span data-ttu-id="aa922-306">Критерии сравнения</span><span class="sxs-lookup"><span data-stu-id="aa922-306">Comparison Criteria</span></span> | <span data-ttu-id="aa922-307">Очереди службы хранилища</span><span class="sxs-lookup"><span data-stu-id="aa922-307">Storage queues</span></span> | <span data-ttu-id="aa922-308">Очереди служебной шины</span><span class="sxs-lookup"><span data-stu-id="aa922-308">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa922-309">Максимальный размер очереди</span><span class="sxs-lookup"><span data-stu-id="aa922-309">Maximum queue size</span></span> |<span data-ttu-id="aa922-310">**500 ТБ**</span><span class="sxs-lookup"><span data-stu-id="aa922-310">**500 TB**</span></span><br/><br/><span data-ttu-id="aa922-311">(только tooa [единый емкость учетной записи хранилища](../storage/common/storage-introduction.md#queue-storage))</span><span class="sxs-lookup"><span data-stu-id="aa922-311">(limited tooa [single storage account capacity](../storage/common/storage-introduction.md#queue-storage))</span></span> |<span data-ttu-id="aa922-312">**1 ГБ too80 ГБ**</span><span class="sxs-lookup"><span data-stu-id="aa922-312">**1 GB too80 GB**</span></span><br/><br/><span data-ttu-id="aa922-313">(определяется при создании очереди и [включении секционирования](service-bus-partitioning.md) — см. раздел «Дополнительные сведения» hello)</span><span class="sxs-lookup"><span data-stu-id="aa922-313">(defined upon creation of a queue and [enabling partitioning](service-bus-partitioning.md) – see hello “Additional Information” section)</span></span> |
| <span data-ttu-id="aa922-314">Максимальный размер сообщения</span><span class="sxs-lookup"><span data-stu-id="aa922-314">Maximum message size</span></span> |<span data-ttu-id="aa922-315">**64 КБ**</span><span class="sxs-lookup"><span data-stu-id="aa922-315">**64 KB**</span></span><br/><br/><span data-ttu-id="aa922-316">(48 КБ при использовании кодировки **Base64**)</span><span class="sxs-lookup"><span data-stu-id="aa922-316">(48 KB when using **Base64** encoding)</span></span><br/><br/><span data-ttu-id="aa922-317">Azure поддерживает большие сообщения, комбинируя очереди и большие двоичные объекты, после чего можно поставить в очередь копирования too200GB для одного элемента.</span><span class="sxs-lookup"><span data-stu-id="aa922-317">Azure supports large messages by combining queues and blobs – at which point you can enqueue up too200GB for a single item.</span></span> |<span data-ttu-id="aa922-318">**256 КБ** или **1 МБ**</span><span class="sxs-lookup"><span data-stu-id="aa922-318">**256 KB** or **1 MB**</span></span><br/><br/><span data-ttu-id="aa922-319">(включая заголовок и текст; максимальный размер заголовка — 64 КБ).</span><span class="sxs-lookup"><span data-stu-id="aa922-319">(including both header and body, maximum header size: 64 KB).</span></span><br/><br/><span data-ttu-id="aa922-320">Зависит от hello [уровня службы](service-bus-premium-messaging.md).</span><span class="sxs-lookup"><span data-stu-id="aa922-320">Depends on hello [service tier](service-bus-premium-messaging.md).</span></span> |
| <span data-ttu-id="aa922-321">Максимальный срок жизни сообщения</span><span class="sxs-lookup"><span data-stu-id="aa922-321">Maximum message TTL</span></span> |<span data-ttu-id="aa922-322">**7 дней**</span><span class="sxs-lookup"><span data-stu-id="aa922-322">**7 days**</span></span> |**`TimeSpan.Max`** |
| <span data-ttu-id="aa922-323">Максимальное количество очередей</span><span class="sxs-lookup"><span data-stu-id="aa922-323">Maximum number of queues</span></span> |<span data-ttu-id="aa922-324">**Unlimited**</span><span class="sxs-lookup"><span data-stu-id="aa922-324">**Unlimited**</span></span> |<span data-ttu-id="aa922-325">**10 000**</span><span class="sxs-lookup"><span data-stu-id="aa922-325">**10,000**</span></span><br/><br/><span data-ttu-id="aa922-326">(для каждого пространства имен службы; может быть увеличено)</span><span class="sxs-lookup"><span data-stu-id="aa922-326">(per service namespace, can be increased)</span></span> |
| <span data-ttu-id="aa922-327">Максимальное количество параллельных клиентов</span><span class="sxs-lookup"><span data-stu-id="aa922-327">Maximum number of concurrent clients</span></span> |<span data-ttu-id="aa922-328">**Unlimited**</span><span class="sxs-lookup"><span data-stu-id="aa922-328">**Unlimited**</span></span> |<span data-ttu-id="aa922-329">**Unlimited**</span><span class="sxs-lookup"><span data-stu-id="aa922-329">**Unlimited**</span></span><br/><br/><span data-ttu-id="aa922-330">(100 одновременных подключений ограничение применяется только связи на основе протокола tooTCP)</span><span class="sxs-lookup"><span data-stu-id="aa922-330">(100 concurrent connection limit only applies tooTCP protocol-based communication)</span></span> |

### <a name="additional-information"></a><span data-ttu-id="aa922-331">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="aa922-331">Additional information</span></span>
* <span data-ttu-id="aa922-332">В служебной шине ограничения по размеру применяются принудительно.</span><span class="sxs-lookup"><span data-stu-id="aa922-332">Service Bus enforces queue size limits.</span></span> <span data-ttu-id="aa922-333">Hello максимальный размер очереди задается при создании очереди hello и может иметь значение в диапазоне от 1 до 80 ГБ.</span><span class="sxs-lookup"><span data-stu-id="aa922-333">hello maximum queue size is specified upon creation of hello queue and can have a value between 1 and 80 GB.</span></span> <span data-ttu-id="aa922-334">При достижении значения размера очереди hello, заданного при создании очереди hello, последующие входящие сообщения будут отклонены и hello, вызывающий код получит исключение.</span><span class="sxs-lookup"><span data-stu-id="aa922-334">If hello queue size value set on creation of hello queue is reached, additional incoming messages will be rejected and an exception will be received by hello calling code.</span></span> <span data-ttu-id="aa922-335">Дополнительные сведения о квотах в служебной шине см. в разделе [Квоты на служебную шину](service-bus-quotas.md).</span><span class="sxs-lookup"><span data-stu-id="aa922-335">For more information about quotas in Service Bus, see [Service Bus Quotas](service-bus-quotas.md).</span></span>
* <span data-ttu-id="aa922-336">В hello [стандартного уровня](service-bus-premium-messaging.md), можно создавать очереди Service Bus с размерами 1, 2, 3, 4 или 5 ГБ (по умолчанию hello составляет 1 ГБ).</span><span class="sxs-lookup"><span data-stu-id="aa922-336">In hello [Standard tier](service-bus-premium-messaging.md), you can create Service Bus queues in 1, 2, 3, 4, or 5 GB sizes (hello default is 1 GB).</span></span> <span data-ttu-id="aa922-337">На уровне "премиум" hello могут создавать очереди вверх too80 ГБ.</span><span class="sxs-lookup"><span data-stu-id="aa922-337">In hello Premium tier, you can create queues up too80 GB in size.</span></span> <span data-ttu-id="aa922-338">В стандартном уровне секционирование включено (используется по умолчанию hello), Service Bus создает 16 разделов для каждого указанного ГБ.</span><span class="sxs-lookup"><span data-stu-id="aa922-338">In Standard tier, with partitioning enabled (which is hello default), Service Bus creates 16 partitions for each GB you specify.</span></span> <span data-ttu-id="aa922-339">Таким образом, при создании очереди, имеет размер в 5 ГБ, с 16 секциями hello максимальный размер очереди становится (5 * 16) = 80 ГБ.</span><span class="sxs-lookup"><span data-stu-id="aa922-339">As such, if you create a queue that is 5 GB in size, with 16 partitions hello maximum queue size becomes (5 * 16) = 80 GB.</span></span> <span data-ttu-id="aa922-340">Вы увидите hello максимальный размер секционированной очереди или раздела, просмотрев его запись в hello [портал Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="aa922-340">You can see hello maximum size of your partitioned queue or topic by looking at its entry on hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="aa922-341">На уровне "премиум" hello только 2 секции создаются каждой очереди.</span><span class="sxs-lookup"><span data-stu-id="aa922-341">In hello Premium tier, only 2 partitions are created per queue.</span></span>
* <span data-ttu-id="aa922-342">С очередями хранилища, если hello содержимое сообщения hello не является типизированным XML, то он должен быть **Base64** кодировке.</span><span class="sxs-lookup"><span data-stu-id="aa922-342">With Storage queues, if hello content of hello message is not XML-safe, then it must be **Base64** encoded.</span></span> <span data-ttu-id="aa922-343">Если вы **Base64**-кодирования приветственное сообщение, полезные данные hello пользователя может быть вверх too48 КБ, вместо 64 КБ.</span><span class="sxs-lookup"><span data-stu-id="aa922-343">If you **Base64**-encode hello message, hello user payload can be up too48 KB, instead of 64 KB.</span></span>
* <span data-ttu-id="aa922-344">Каждое сообщение, сохраненное в очереди служебной шины, состоит из двух частей: заголовка и текста.</span><span class="sxs-lookup"><span data-stu-id="aa922-344">With Service Bus queues, each message stored in a queue is composed of two parts: a header and a body.</span></span> <span data-ttu-id="aa922-345">общий размер приветственное сообщение Hello не может превышать максимальное приветственное сообщение, размер, поддерживаемый уровнем службы hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-345">hello total size of hello message cannot exceed hello maximum message size supported by hello service tier.</span></span>
* <span data-ttu-id="aa922-346">Когда клиенты взаимодействуют с очередями служебной шины по hello протокол TCP, hello максимальное число одновременных подключений tooa одной очереди шины обслуживания — ограниченный too100.</span><span class="sxs-lookup"><span data-stu-id="aa922-346">When clients communicate with Service Bus queues over hello TCP protocol, hello maximum number of concurrent connections tooa single Service Bus queue is limited too100.</span></span> <span data-ttu-id="aa922-347">Это число распределяется между отправителями и получателями.</span><span class="sxs-lookup"><span data-stu-id="aa922-347">This number is shared between senders and receivers.</span></span> <span data-ttu-id="aa922-348">После достижения этой квоты последующие запросы на дополнительные соединения будут отклонены и hello, вызывающий код получит исключение.</span><span class="sxs-lookup"><span data-stu-id="aa922-348">If this quota is reached, subsequent requests for additional connections will be rejected and an exception will be received by hello calling code.</span></span> <span data-ttu-id="aa922-349">Это ограничение не применяется к клиентам, соединяющимся toohello очередей с помощью API на основе REST.</span><span class="sxs-lookup"><span data-stu-id="aa922-349">This limit is not imposed on clients connecting toohello queues using REST-based API.</span></span>
* <span data-ttu-id="aa922-350">Если требуется более 10 000 очередей в одно пространство имен Service Bus можно обратитесь в службу поддержки Azure hello и запросить увеличение.</span><span class="sxs-lookup"><span data-stu-id="aa922-350">If you require more than 10,000 queues in a single Service Bus namespace, you can contact hello Azure support team and request an increase.</span></span> <span data-ttu-id="aa922-351">tooscale за 10 000 очередей с Service Bus можно также создать дополнительные пространства имен с помощью hello [портал Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="aa922-351">tooscale beyond 10,000 queues with Service Bus, you can also create additional namespaces using hello [Azure portal][Azure portal].</span></span>

## <a name="management-and-operations"></a><span data-ttu-id="aa922-352">Управление и использование</span><span class="sxs-lookup"><span data-stu-id="aa922-352">Management and operations</span></span>
<span data-ttu-id="aa922-353">В этом разделе сравниваются функции управления hello, предоставляемые хранилища очереди и очереди Service Bus.</span><span class="sxs-lookup"><span data-stu-id="aa922-353">This section compares hello management features provided by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="aa922-354">Критерии сравнения</span><span class="sxs-lookup"><span data-stu-id="aa922-354">Comparison Criteria</span></span> | <span data-ttu-id="aa922-355">Очереди службы хранилища</span><span class="sxs-lookup"><span data-stu-id="aa922-355">Storage queues</span></span> | <span data-ttu-id="aa922-356">Очереди служебной шины</span><span class="sxs-lookup"><span data-stu-id="aa922-356">Service Bus queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa922-357">Протокол управления</span><span class="sxs-lookup"><span data-stu-id="aa922-357">Management protocol</span></span> |<span data-ttu-id="aa922-358">**REST по протоколу HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="aa922-358">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="aa922-359">**REST по протоколу HTTPS**</span><span class="sxs-lookup"><span data-stu-id="aa922-359">**REST over HTTPS**</span></span> |
| <span data-ttu-id="aa922-360">Протокол выполнения</span><span class="sxs-lookup"><span data-stu-id="aa922-360">Runtime protocol</span></span> |<span data-ttu-id="aa922-361">**REST по протоколу HTTP/HTTPS**</span><span class="sxs-lookup"><span data-stu-id="aa922-361">**REST over HTTP/HTTPS**</span></span> |<span data-ttu-id="aa922-362">**REST по протоколу HTTPS**</span><span class="sxs-lookup"><span data-stu-id="aa922-362">**REST over HTTPS**</span></span><br/><br/><span data-ttu-id="aa922-363">**Стандарт AMQP 1.0 (TCP с TLS)**</span><span class="sxs-lookup"><span data-stu-id="aa922-363">**AMQP 1.0 Standard (TCP with TLS)**</span></span> |
| <span data-ttu-id="aa922-364">.NET API</span><span class="sxs-lookup"><span data-stu-id="aa922-364">.NET API</span></span> |<span data-ttu-id="aa922-365">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-365">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-366">(API клиента службы хранилища для .NET)</span><span class="sxs-lookup"><span data-stu-id="aa922-366">(.NET Storage Client API)</span></span> |<span data-ttu-id="aa922-367">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-367">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-368">(API служебной шины для .NET)</span><span class="sxs-lookup"><span data-stu-id="aa922-368">(.NET Service Bus API)</span></span> |
| <span data-ttu-id="aa922-369">Машинный C++</span><span class="sxs-lookup"><span data-stu-id="aa922-369">Native C++</span></span> |<span data-ttu-id="aa922-370">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-370">**Yes**</span></span> |<span data-ttu-id="aa922-371">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-371">**Yes**</span></span> |
| <span data-ttu-id="aa922-372">API Java</span><span class="sxs-lookup"><span data-stu-id="aa922-372">Java API</span></span> |<span data-ttu-id="aa922-373">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-373">**Yes**</span></span> |<span data-ttu-id="aa922-374">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-374">**Yes**</span></span> |
| <span data-ttu-id="aa922-375">API для PHP</span><span class="sxs-lookup"><span data-stu-id="aa922-375">PHP API</span></span> |<span data-ttu-id="aa922-376">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-376">**Yes**</span></span> |<span data-ttu-id="aa922-377">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-377">**Yes**</span></span> |
| <span data-ttu-id="aa922-378">API для Node.js</span><span class="sxs-lookup"><span data-stu-id="aa922-378">Node.js API</span></span> |<span data-ttu-id="aa922-379">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-379">**Yes**</span></span> |<span data-ttu-id="aa922-380">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-380">**Yes**</span></span> |
| <span data-ttu-id="aa922-381">Поддержка произвольных метаданных</span><span class="sxs-lookup"><span data-stu-id="aa922-381">Arbitrary metadata support</span></span> |<span data-ttu-id="aa922-382">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-382">**Yes**</span></span> |<span data-ttu-id="aa922-383">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-383">**No**</span></span> |
| <span data-ttu-id="aa922-384">Правила именования очередей</span><span class="sxs-lookup"><span data-stu-id="aa922-384">Queue naming rules</span></span> |<span data-ttu-id="aa922-385">**Копирование too63 символов**</span><span class="sxs-lookup"><span data-stu-id="aa922-385">**Up too63 characters long**</span></span><br/><br/><span data-ttu-id="aa922-386">(Буквы в имени очереди должны быть строчными.)</span><span class="sxs-lookup"><span data-stu-id="aa922-386">(Letters in a queue name must be lowercase.)</span></span> |<span data-ttu-id="aa922-387">**Копирование too260 символов**</span><span class="sxs-lookup"><span data-stu-id="aa922-387">**Up too260 characters long**</span></span><br/><br/><span data-ttu-id="aa922-388">(В путях и именах очередей регистр не учитывается.)</span><span class="sxs-lookup"><span data-stu-id="aa922-388">(Queue paths and names are case-insensitive.)</span></span> |
| <span data-ttu-id="aa922-389">Функция получения длины очереди</span><span class="sxs-lookup"><span data-stu-id="aa922-389">Get queue length function</span></span> |<span data-ttu-id="aa922-390">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-390">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-391">(Приблизительное значение при истечении срока действия сообщения, после истечения срока ЖИЗНИ hello не удаляется.)</span><span class="sxs-lookup"><span data-stu-id="aa922-391">(Approximate value if messages expire beyond hello TTL without being deleted.)</span></span> |<span data-ttu-id="aa922-392">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-392">**Yes**</span></span><br/><br/><span data-ttu-id="aa922-393">(Точное значение в определенный момент времени.)</span><span class="sxs-lookup"><span data-stu-id="aa922-393">(Exact, point-in-time value.)</span></span> |
| <span data-ttu-id="aa922-394">Функция просмотра</span><span class="sxs-lookup"><span data-stu-id="aa922-394">Peek function</span></span> |<span data-ttu-id="aa922-395">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-395">**Yes**</span></span> |<span data-ttu-id="aa922-396">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-396">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="aa922-397">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="aa922-397">Additional information</span></span>
* <span data-ttu-id="aa922-398">Очереди хранилища поддерживают произвольные атрибуты, которые может быть применен toohello описание очереди, в форме hello пар имя значение.</span><span class="sxs-lookup"><span data-stu-id="aa922-398">Storage queues provide support for arbitrary attributes that can be applied toohello queue description, in hello form of name/value pairs.</span></span>
* <span data-ttu-id="aa922-399">Обе технологии также предоставляют возможность toopeek hello сообщение без необходимости toolock ИТ, которая может оказаться полезной при реализации проводника или браузера для очередей.</span><span class="sxs-lookup"><span data-stu-id="aa922-399">Both queue technologies offer hello ability toopeek a message without having toolock it, which can be useful when implementing a queue explorer/browser tool.</span></span>
* <span data-ttu-id="aa922-400">Hello Service Bus .NET через посредника обмена сообщениями TCP-подключений дуплексная интерфейсы API используются для повышения производительности при сравнении tooREST по протоколу HTTP, и они поддерживают стандартный протокол AMQP 1.0 hello.</span><span class="sxs-lookup"><span data-stu-id="aa922-400">hello Service Bus .NET brokered messaging APIs leverage full-duplex TCP connections for improved performance when compared tooREST over HTTP, and they support hello AMQP 1.0 standard protocol.</span></span>
* <span data-ttu-id="aa922-401">Имена очередей службы хранилища могут содержать от 3 до 63 знаков, включая строчные буквы, цифры и дефисы (-).</span><span class="sxs-lookup"><span data-stu-id="aa922-401">Names of Storage queues can be 3-63 characters long, can contain lowercase letters, numbers, and hyphens.</span></span> <span data-ttu-id="aa922-402">Дополнительные сведения см. в статье [Именование очередей и метаданных](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata).</span><span class="sxs-lookup"><span data-stu-id="aa922-402">For more information, see [Naming Queues and Metadata](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata).</span></span>
* <span data-ttu-id="aa922-403">Имена очередей Service Bus можно развертывать too260 символов и менее строгие правила именования.</span><span class="sxs-lookup"><span data-stu-id="aa922-403">Service Bus queue names can be up too260 characters long and have less restrictive naming rules.</span></span> <span data-ttu-id="aa922-404">имена очереди служебной шины могут содержать буквы, цифры, точки, дефисы и знаки подчеркивания.</span><span class="sxs-lookup"><span data-stu-id="aa922-404">Service Bus queue names can contain letters, numbers, periods, hyphens, and underscores.</span></span>

## <a name="authentication-and-authorization"></a><span data-ttu-id="aa922-405">Аутентификация и авторизация</span><span class="sxs-lookup"><span data-stu-id="aa922-405">Authentication and authorization</span></span>
<span data-ttu-id="aa922-406">В этом разделе рассматриваются hello проверки подлинности и авторизации функций, поддерживаемых хранилища очереди и очереди Service Bus.</span><span class="sxs-lookup"><span data-stu-id="aa922-406">This section discusses hello authentication and authorization features supported by Storage queues and Service Bus queues.</span></span>

| <span data-ttu-id="aa922-407">Критерии сравнения</span><span class="sxs-lookup"><span data-stu-id="aa922-407">Comparison Criteria</span></span> | <span data-ttu-id="aa922-408">Очереди службы хранилища</span><span class="sxs-lookup"><span data-stu-id="aa922-408">Storage queues</span></span> | <span data-ttu-id="aa922-409">Очереди служебной шины</span><span class="sxs-lookup"><span data-stu-id="aa922-409">Service Bus Queues</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa922-410">Аутентификация</span><span class="sxs-lookup"><span data-stu-id="aa922-410">Authentication</span></span> |<span data-ttu-id="aa922-411">**Симметричный ключ**</span><span class="sxs-lookup"><span data-stu-id="aa922-411">**Symmetric key**</span></span> |<span data-ttu-id="aa922-412">**Симметричный ключ**</span><span class="sxs-lookup"><span data-stu-id="aa922-412">**Symmetric key**</span></span> |
| <span data-ttu-id="aa922-413">Модель безопасности</span><span class="sxs-lookup"><span data-stu-id="aa922-413">Security model</span></span> |<span data-ttu-id="aa922-414">Делегирование доступа через маркеры SAS</span><span class="sxs-lookup"><span data-stu-id="aa922-414">Delegated access via SAS tokens.</span></span> |<span data-ttu-id="aa922-415">SAS</span><span class="sxs-lookup"><span data-stu-id="aa922-415">SAS</span></span> |
| <span data-ttu-id="aa922-416">Федерация поставщика удостоверений</span><span class="sxs-lookup"><span data-stu-id="aa922-416">Identity provider federation</span></span> |<span data-ttu-id="aa922-417">**Нет**</span><span class="sxs-lookup"><span data-stu-id="aa922-417">**No**</span></span> |<span data-ttu-id="aa922-418">**Да**</span><span class="sxs-lookup"><span data-stu-id="aa922-418">**Yes**</span></span> |

### <a name="additional-information"></a><span data-ttu-id="aa922-419">Дополнительная информация</span><span class="sxs-lookup"><span data-stu-id="aa922-419">Additional information</span></span>
* <span data-ttu-id="aa922-420">Каждый запрос tooeither из очереди технологии hello должен пройти проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="aa922-420">Every request tooeither of hello queuing technologies must be authenticated.</span></span> <span data-ttu-id="aa922-421">Общие очереди с анонимным доступом не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="aa922-421">Public queues with anonymous access are not supported.</span></span> <span data-ttu-id="aa922-422">При использовании [SAS](service-bus-sas.md) вы можете публиковать SAS только для записи, SAS только для чтения или даже SAS для полного доступа.</span><span class="sxs-lookup"><span data-stu-id="aa922-422">Using [SAS](service-bus-sas.md), you can address this scenario by publishing a write-only SAS, read-only SAS, or even a full-access SAS.</span></span>
* <span data-ttu-id="aa922-423">Hello схему проверки подлинности предоставляемых службой хранилища очередей используются hello симметричного ключа, являющееся хэш-проверки подлинности сообщения код (HMAC), вычисляется с помощью алгоритма SHA-256 hello и кодируются как **Base64** строки.</span><span class="sxs-lookup"><span data-stu-id="aa922-423">hello authentication scheme provided by Storage queues involves hello use of a symmetric key, which is a hash-based Message Authentication Code (HMAC), computed with hello SHA-256 algorithm and encoded as a **Base64** string.</span></span> <span data-ttu-id="aa922-424">Дополнительные сведения о соответствующем протоколе hello см. в разделе [проверки подлинности для служб хранилища Azure hello](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services).</span><span class="sxs-lookup"><span data-stu-id="aa922-424">For more information about hello respective protocol, see [Authentication for hello Azure Storage Services](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services).</span></span> <span data-ttu-id="aa922-425">Очереди служебной шины поддерживают аналогичную модель с использованием симметричных ключей.</span><span class="sxs-lookup"><span data-stu-id="aa922-425">Service Bus queues support a similar model using symmetric keys.</span></span> <span data-ttu-id="aa922-426">Дополнительные сведения см. в статье [Проверка подлинности подписанного URL-адреса с помощью служебной шины](service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="aa922-426">For more information, see [Shared Access Signature Authentication with Service Bus](service-bus-sas.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="aa922-427">Заключение</span><span class="sxs-lookup"><span data-stu-id="aa922-427">Conclusion</span></span>
<span data-ttu-id="aa922-428">За счет более глубокого понимания hello двух технологий, будет быть может toomake более обоснованное решение о том, что очередь toouse технологии, а также при.</span><span class="sxs-lookup"><span data-stu-id="aa922-428">By gaining a deeper understanding of hello two technologies, you will be able toomake a more informed decision on which queue technology toouse, and when.</span></span> <span data-ttu-id="aa922-429">Здравствуйте, решение о том, когда toouse очереди хранилища или шины обслуживания очереди четко зависит от ряда факторов.</span><span class="sxs-lookup"><span data-stu-id="aa922-429">hello decision on when toouse Storage queues or Service Bus queues clearly depends on a number of factors.</span></span> <span data-ttu-id="aa922-430">Эти факторы сильно зависят hello индивидуальными потребностями приложения и его архитектуры.</span><span class="sxs-lookup"><span data-stu-id="aa922-430">These factors may depend heavily on hello individual needs of your application and its architecture.</span></span> <span data-ttu-id="aa922-431">Если в приложении уже используются основные возможности hello Microsoft Azure, можно указать toochoose очереди хранилища, особенно в том случае, если требуются базовые функции обмена информацией и сообщениями между службами или необходимости очередей, которые могут быть больше 80 ГБ.</span><span class="sxs-lookup"><span data-stu-id="aa922-431">If your application already uses hello core capabilities of Microsoft Azure, you may prefer toochoose Storage queues, especially if you require basic communication and messaging between services or need queues that can be larger than 80 GB in size.</span></span>

<span data-ttu-id="aa922-432">Так как очереди служебной шины предлагают ряд расширенных функций (в том числе сеансы, транзакции, обнаружение дубликатов, автоматическое перемещение в "мертвую очередь", возможности публикации или подписки), они могут оказаться предпочтительнее для построения гибридного приложения или если в приложении они требуются по каким-либо другим причинам.</span><span class="sxs-lookup"><span data-stu-id="aa922-432">Because Service Bus queues provide a number of advanced features, such as sessions, transactions, duplicate detection, automatic dead-lettering, and durable publish/subscribe capabilities, they may be a preferred choice if you are building a hybrid application or if your application otherwise requires these features.</span></span>

## <a name="next-steps"></a><span data-ttu-id="aa922-433">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="aa922-433">Next steps</span></span>
<span data-ttu-id="aa922-434">следующие статьи Hello предоставляют рекомендации и Дополнительные сведения об использовании очереди хранилища или очереди шины обслуживания.</span><span class="sxs-lookup"><span data-stu-id="aa922-434">hello following articles provide more guidance and information about using Storage queues or Service Bus queues.</span></span>

* [<span data-ttu-id="aa922-435">Начало работы с очередями служебной шины</span><span class="sxs-lookup"><span data-stu-id="aa922-435">Get started with Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="aa922-436">Как tooUse hello службы хранилища очередей</span><span class="sxs-lookup"><span data-stu-id="aa922-436">How tooUse hello Queue Storage Service</span></span>](../storage/queues/storage-dotnet-how-to-use-queues.md)
* [<span data-ttu-id="aa922-437">Рекомендации по повышению производительности с помощью обмена сообщениями через брокер в служебной шине</span><span class="sxs-lookup"><span data-stu-id="aa922-437">Best practices for performance improvements using Service Bus brokered messaging</span></span>](service-bus-performance-improvements.md)
* <span data-ttu-id="aa922-438">[Introducing Queues and Topics in Azure Service Bus](http://www.code-magazine.com/article.aspx?quickid=1112041) (Введение в очереди и разделы служебной шины Azure) (запись блога)</span><span class="sxs-lookup"><span data-stu-id="aa922-438">[Introducing Queues and Topics in Azure Service Bus (blog post)](http://www.code-magazine.com/article.aspx?quickid=1112041)</span></span>
* [<span data-ttu-id="aa922-439">Здравствуйте, tooService руководство разработчика шины</span><span class="sxs-lookup"><span data-stu-id="aa922-439">hello Developer's Guide tooService Bus</span></span>](http://www.cloudcasts.net/devguide/Default.aspx?id=11030)
* [<span data-ttu-id="aa922-440">С помощью hello очереди службы в Azure</span><span class="sxs-lookup"><span data-stu-id="aa922-440">Using hello Queuing Service in Azure</span></span>](http://www.developerfusion.com/article/120197/using-the-queuing-service-in-windows-azure/)

[Azure portal]: https://portal.azure.com

