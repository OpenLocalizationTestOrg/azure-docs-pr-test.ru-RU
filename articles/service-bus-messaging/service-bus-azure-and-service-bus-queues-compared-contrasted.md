---
title: "aaaAzure хранилища очереди и очереди шины обслуживания — сходство и отличия | Документы Microsoft"
description: "Анализ сходства и различий между двумя типами очередей, предлагаемых в Azure."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: tysonn
ms.assetid: f07301dc-ca9b-465c-bd5b-a0f99bab606b
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: tbd
ms.date: 08/07/2017
ms.author: sethm
ms.openlocfilehash: f8b915e73ea3c82d823a96bf23c8c9e24c96aa42
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="storage-queues-and-service-bus-queues---compared-and-contrasted"></a>Очереди службы хранилища и очереди служебной шины: сходства и различия
В этой статье рассматриваются hello различия и сходства между hello двумя типами очередей, предлагаемых сегодня в Microsoft Azure: очереди хранилища и очереди шины обслуживания. С помощью этих сведений, можно сравнить и сравните hello соответствующих технологий и быть может toomake более обоснованное решение о какая система лучше всего соответствует вашим потребностям.

## <a name="introduction"></a>Введение
Azure поддерживает два типа очередей: **очереди службы хранилища** и **очереди служебной шины**.

**Очереди хранилища**, которые являются частью hello [хранилища Azure](https://azure.microsoft.com/services/storage/) инфраструктуры, функция простой интерфейс на основе REST GET и PUT/СЧИТЫВАНИЯ, предоставляя надежный механизм обмена сообщениями внутри и между службами.

**Очереди служебной шины** входят в более обширную инфраструктуру [обмена сообщениями Azure](https://azure.microsoft.com/services/service-bus/), поддерживающую очереди, публикации и подписки, а также более сложные шаблоны интеграции. Дополнительные сведения о Service Bus очередей, разделов и подписок см. в разделе hello [Общие сведения о Service Bus](service-bus-messaging-overview.md).

Несмотря на то что описываемые технологии очередей существуют параллельно, очереди службы хранилища появились раньше как выделенный механизм хранения очередей на базе служб хранилища Azure. Очереди шины обслуживания построены на основе hello широкой «обмен сообщениями» инфраструктуры, направленной toointegrate приложений или компонентов приложений, которые могут охватывать несколько коммуникационных протоколов, контрактов данных, доверенными доменами или сетевых сред.

## <a name="technology-selection-considerations"></a>Рекомендации по выбору технологии
Очереди хранилища и очереди шины обслуживания являются реализациями приветственное сообщение очереди службы, предлагаемой в настоящее время в Microsoft Azure. Каждый имеет немного различающиеся наборы функций, это означает, выберите один или другой hello или использовать оба, в зависимости от потребностей конкретного решения или экономической или технической задачи, которую требуется решить hello.

При определении, какие технологии очередей соответствует hello цели данного решения, архитекторам и разработчикам решений следует учитывать hello приведенным ниже рекомендациям. Дополнительные сведения см. следующий раздел hello.

Ниже приведены случаи, в которых архитекторам и разработчикам решений **рекомендуется использовать очереди службы хранилища**.

* Приложение должно хранить более 80 ГБ сообщений в очереди, где сообщений hello имеют время существования, менее 7 дней.
* Приложение хочет tootrack хода выполнения для обработки сообщения внутри очереди hello. Это полезно, если сбоя hello рабочего процесса обработки сообщения. Можно использовать, toocontinue сведения с места остановки предыдущего рабочего процесса hello последующим рабочим процессом.
* Наличие на сервере журналов всех транзакций hello, примененных к очередям.

В следующих случаях архитекторам и разработчикам решений **рекомендуется использовать очереди служебной шины**:

* Решение должно может tooreceive сообщений без необходимости toopoll hello очереди. С Service Bus, это можно сделать через hello использование продолжительным опросом hello получать операцию, используя протоколы на основе TCP hello, поддерживаемых служебной шины.
* Решение требует tooprovide очереди hello гарантированную первым в первым обслужен (FIFO) упорядоченную доставку.
* Вы хотите, чтобы Azure и Windows Server работали симметрично (частное облако). Дополнительные сведения см. в статье [Служебная шина для Windows Server](https://msdn.microsoft.com/library/dn282144.aspx).
* Решение должно toosupport возможности автоматического обнаружения дубликатов.
* Должны tooprocess приложения сообщения как параллельные долговременные потоки (сообщения связываются с потоком, с помощью hello [SessionId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid?view=azureservicebus-4.0.0#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) свойство приветственное сообщение). В этой модели каждый узел использует приложение hello конкурирует за потоки, в противоположность toomessages. Когда поток выделяется tooa использование узла, узел hello можно проверить состояние hello состояния потока приложения hello, использование транзакций.
* В решении требуется реализовать транзакционный режим работы и атомарность при отправке или получении нескольких сообщений из очереди.
* Hello срока жизни (TTL) характеристик рабочей нагрузки конкретного приложения hello может превышать 7-дневного периода hello.
* Приложение обрабатывает сообщения, которые может превышать 64 КБ, но вряд ли приблизится будет hello 256 КБ.
* Работе с tooprovide требование toohello модели доступом на основе очередей, а также различные права или разрешения для отправителей и получателей.
* Размер очереди не будет превышать 80 ГБ.
* Вы хотите toouse hello протокол AMQP 1.0 на основе стандартов обмена сообщениями. Дополнительные сведения об AMQP см. в статье [Общие сведения о протоколе AMQP для служебной шины](service-bus-amqp-overview.md).
* Существует возможность миграции от точка-точка на основе очередей связи tooa обмена сообщениями, обеспечивает сквозную интеграцию дополнительных получателей (подписчиков), каждый из которых получает независимые копии некоторых или всех сообщения отправляются toohello очереди. последний Hello ссылается toohello публикации и подписки, встроенным Service Bus.
* В решении обмена сообщениями должен быть гарантированной доставки может toosupport hello» в повторов» без hello требуется toobuild hello дополнительных компонентов инфраструктуры.
* Вам потребуется как будет toopublish toobe и потребления пакетов сообщений.

## <a name="comparing-storage-queues-and-service-bus-queues"></a>Сравнение очередей службы хранилища и служебной шины
таблицы Hello hello в следующих разделах представлено логическое группирование функций очередей и позволяют сравнивать с одного взгляда hello возможности, доступные в очереди хранилища и очереди шины обслуживания.

## <a name="foundational-capabilities"></a>Основные возможности
В этом разделе сравниваются некоторые из hello основных возможностей, предоставляемых хранилища очереди и очереди Service Bus.

| Критерии сравнения | Очереди службы хранилища | Очереди служебной шины |
| --- | --- | --- |
| Гарантированный метод упорядочивания |**Нет** <br/><br>Дополнительные сведения см. в разделе hello первое Примечание в разделе «Дополнительные сведения» hello.</br> |**Да — "первым прибыл, первым обслужен" (FIFO)**<br/><br>(с помощью hello использования сеансов обмена сообщениями) |
| Гарантированный метод доставки |**Как минимум один раз** |**Как минимум один раз**<br/><br/>**Как минимум один раз** |
| Поддержка атомарной операции |**Нет** |**Да**<br/><br/> |
| Поведение при получении |**Без блокировки**<br/><br/>(немедленно завершается, если новые сообщения не найдены) |**Блокировка со временем ожидания или без него**<br/><br/>(обеспечивает продолжительного опроса или hello [«Комета метод»](http://go.microsoft.com/fwlink/?LinkId=613759))<br/><br/>**Без блокировки**<br/><br/>(через hello использование .NET API только управляемый) |
| API push-уведомлений |**Нет** |**Да**<br/><br/>Сеансы [OnMessage](/dotnet/api/microsoft.servicebus.messaging.queueclient.onmessage#Microsoft_ServiceBus_Messaging_QueueClient_OnMessage_System_Action_Microsoft_ServiceBus_Messaging_BrokeredMessage__) и **OnMessage** API-интерфейса .NET. |
| Режим получения |**Просмотр и аренда** |**Просмотр и блокировка**<br/><br/>**Получение и удаление** |
| Режим монопольного доступа |**На основе аренды** |**На основе блокировки** |
| Продолжительность аренды или блокировки |**30 секунд (по умолчанию)**<br/><br/>**7 дней (максимум)** (можно продлить или освободить аренду сообщения с помощью hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API.) |**60 секунд (по умолчанию)**<br/><br/>Можно возобновлять блокировку сообщений, с помощью hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API. |
| Степень детализации аренды или блокировки |**Уровень сообщения**<br/><br/>(каждое сообщение может иметь другое значение времени ожидания, который затем можно обновлять при необходимости во время обработки сообщения hello, с помощью hello [UpdateMessage](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueue.updatemessage.aspx) API) |**Уровень очереди**<br/><br/>(у каждой очереди есть tooall точности применяется блокировка сообщениям, но можно обновить с помощью hello блокировки hello [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) API.) |
| Получение в пакетном режиме |**Да**<br/><br/>(явно указав число сообщений при получении сообщений, копирование tooa не более 32 сообщений) |**Да**<br/><br/>(неявно включения свойства предварительной выборки или явно через hello использовать транзакций) |
| Отправка в пакетном режиме |**Нет** |**Да**<br/><br/>(с использованием hello транзакций или пакетной обработки на стороне клиента) |

### <a name="additional-information"></a>Дополнительная информация
* Сообщения в очередях службы хранилища обычно располагаются в порядке их добавления (FIFO), но иногда очередность может нарушаться. Например, в результате сбоя при обработке на стороне клиентского приложения может закончиться время ожидания видимости сообщения. По истечении времени ожидания видимости hello приветственное сообщение снова становится видимым hello очереди для другого рабочего toodequeue его. После этого вновь видимость сообщение hello может быть помещено в очередь hello (снова toobe удален из очереди) после сообщения, которое было изначально поставлено в очередь после него.
* Hello гарантию, что шаблон FIFO в очередях Service Bus требует использования сеансов обмена сообщениями hello. В hello событие, которое приложение hello аварийном завершении во время обработки сообщения, полученного в hello **Показать & заблокировать** режим, при очередном hello получатель очереди сеансе обмена сообщениями, он будет запущен с неудачное сообщение hello после его срок жизни (TTL) истекло.
* Очереди хранилища, разработанной toosupport стандартные сценарии очередей, такие как разъединение приложения компоненты tooincrease масштабируемости и устойчивости к сбоям, выравнивания нагрузки и создания рабочих процессов.
* Очереди шины обслуживания поддерживает hello *в однократная* гарантированной доставки. Кроме того, hello *в повторов* семантической может поддерживаться путем использования состояния приложения hello toostore состояния сеанса с помощью tooatomically операций получения сообщений и обновить состояние сеанса hello.
* Очереди службы хранилища предоставляют единообразную и согласованную модель программирования для очередей, таблиц и больших двоичных объектов как разработчикам, так и специалистам по эксплуатации.
* Очереди шины обслуживания обеспечивают поддержку локальных транзакций в контексте hello одной очереди.
* Hello **получение и удаление** режим, поддерживаемый Service Bus предоставляет hello возможность tooreduce hello обмена сообщениями число операций (и связанные с этим расходы) за счет снижения гарантии доставки.
* Очереди хранилища предоставляют аренды с hello возможность tooextend hello аренды для сообщения. Это позволяет работников hello toomaintain Краткосрочные аренды на сообщениях. Таким образом сбоя рабочего процесса, приветственное сообщение может быть быстро обработано рабочих процессов. Кроме того рабочего процесса можно расширить hello аренды для сообщения, если он должен tooprocess дольше, чем hello текущее время аренды.
* Очереди хранилища предлагают время ожидания видимости, вы можете задавать при постановке hello или удалении сообщения из очереди. Кроме того, сообщения можно обновлять значение аренды во время выполнения, и обновление разные значения для сообщений в hello же очереди. Время ожидания блокировки Service Bus определены в метаданных очереди hello; Тем не менее, можно обновить hello блокировки, вызывающему Привет [RenewLock](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.renewlock#Microsoft_ServiceBus_Messaging_BrokeredMessage_RenewLock) метод.
* Hello максимальное время ожидания для операции блокирующего получения в очередях шины обслуживания составляет 24 дня. Однако для очередей на основе REST время ожидания не может превышать 55 секунд.
* Пакетная обработка на стороне клиента, предоставляемые Service Bus обеспечивает toobatch клиента очереди несколько сообщений в рамках одной операции отправки. Пакетная обработка возможна только для операций асинхронной отправки.
* Функции, такие как верхний предел 200 ТБ hello очереди хранилища (больше при виртуализации учетных записей) и очереди без ограничений, делают его идеальной платформой для поставщиков SaaS.
* Очереди службы хранилища предоставляют гибкий и эффективный механизм управления делегированным доступом.

## <a name="advanced-capabilities"></a>Расширенные возможности
В этом разделе сравниваются расширенные возможности очередей службы хранилища и очередей служебной шины.

| Критерии сравнения | Очереди службы хранилища | Очереди служебной шины |
| --- | --- | --- |
| Доставка по расписанию |**Да** |**Да** |
| Автоматическое перемещение в "мертвую очередь" |**Нет** |**Да** |
| Увеличение срока жизни очереди |**Да**<br/><br/>(посредством обновления времени ожидания видимости "на месте") |**Да**<br/><br/>(используется выделенная функция API) |
| Поддержка сообщений о сбое |**Да** |**Да** |
| Обновление "на месте" |**Да** |**Да** |
| Журнал транзакций на стороне сервера |**Да** |**Нет** |
| Метрики хранения |**Да**<br/><br/>**Точные метрики**: в реальном времени отслеживаются доступность, количество транзакций в секунду, количество вызовов API, количество ошибок и многое другое (данные агрегируются поминутно и доступны уже через несколько минут после того, как в рабочей среде произошло то или иное событие). Дополнительные сведения см. в разделе [О метриках аналитики хранилища](/rest/api/storageservices/fileservices/About-Storage-Analytics-Metrics). |**Да**<br/><br/>(массовые запросы путем вызова [GetQueues](/dotnet/api/microsoft.servicebus.namespacemanager.getqueues#Microsoft_ServiceBus_NamespaceManager_GetQueues)) |
| Управление данными о состоянии |**Нет** |**Да**<br/><br/>[Microsoft.ServiceBus.Messaging.EntityStatus.Active](/dotnet/api/microsoft.servicebus.messaging.entitystatus.active), [Microsoft.ServiceBus.Messaging.EntityStatus.Disabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.disabled), [Microsoft.ServiceBus.Messaging.EntityStatus.SendDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.senddisabled), [Microsoft.ServiceBus.Messaging.EntityStatus.ReceiveDisabled](/dotnet/api/microsoft.servicebus.messaging.entitystatus.receivedisabled) |
| Автоматическая пересылка сообщений |**Нет** |**Да** |
| Функция очистки очереди |**Да** |**Нет** |
| Группы сообщений |**Нет** |**Да**<br/><br/>(с помощью hello использования сеансов обмена сообщениями) |
| Состояние приложений по группам сообщений |**Нет** |**Да** |
| Обнаружение дубликатов |**Нет** |**Да**<br/><br/>(можно настроить на стороне отправителя hello) |
| Просмотр групп сообщений |**Нет** |**Да** |
| Выборка сеансов сообщений по идентификатору |**Нет** |**Да** |

### <a name="additional-information"></a>Дополнительная информация
* Обе технологии очередей позволяют toobe сообщение, запланированные для доставки позднее.
* Автоматической пересылки в очереди позволяет тысячам tooauto прямого очереди свои сообщения tooa одну очередь, из какой hello принимающее приложение получает сообщение hello. Можно использовать этот механизм безопасности tooachieve, поток управления и изоляции хранилища между создателями сообщений.
* Очереди службы хранилища поддерживают обновление содержимого сообщений. Эту функцию можно использовать для сохранения сведений о состоянии и пошаговых обновлений хода выполнения в сообщение hello, чтобы он мог быть обработан из hello последней контрольной точки, а не с самого начала. Очереди шины обслуживания можно включить hello одного сценария с использованием сеансов сообщений hello. Сеансы позволяют toosave и извлекать состояние обработки приложения hello (с помощью [SetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate#Microsoft_ServiceBus_Messaging_MessageSession_SetState_System_IO_Stream_) и [GetState](/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate#Microsoft_ServiceBus_Messaging_MessageSession_GetState)).
* [Мертвой устаревших сообщений](service-bus-dead-letter-queues.md), это только поддерживаемые очереди Service Bus, может быть полезным для изоляции сообщений, которые не могут быть успешно обработаны принимающим приложением hello, или когда сообщения не могут достичь цели из-за tooan истек срок действия Свойство срока жизни (TTL). значение срока ЖИЗНИ Hello указывает, как долго сообщение остается в очереди hello. С Service Bus приветственное сообщение будет перемещать tooa специальную очередь $DeadLetterQueue после истечения срока TTL hello.
* toofind «подозрительных» сообщений в очереди хранилища, при удалении из очереди сообщение hello приложение проверяет hello  **[DequeueCount](https://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.queue.cloudqueuemessage.dequeuecount.aspx)**  свойства сообщения hello. Если **DequeueCount** превышает заданный порог, приложение hello перемещает hello сообщение tooan определяемые приложением «мертвую» очередь.
* Очереди хранилища позволяют tooobtain подробный журнал всех транзакций hello выполняться hello очереди, а также суммарный метрики. Обе функции полезны для отладки и понимания принципов использования очередей службы хранилища в приложении. Они также могут использоваться для настройки производительности приложения и сокращая затраты на hello использования очередей.
* Hello понятие «сеансы сообщений» поддерживает Service Bus позволяет сообщений, которые принадлежат tooa toobe определенные логические группы, связанные с заданным получателем, что в свою очередь порождает сходство как в сеансах сообщений с соответствующими им получателями. Можно включить эти расширенные функции в Service Bus, установка hello [SessionID](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sessionid#Microsoft_ServiceBus_Messaging_BrokeredMessage_SessionId) свойства сообщения. Приемники можно прослушивать сеансе с определенным Идентификатором и получения сообщений, которые имеют указанный hello идентификатор сеанса.
* Hello функции обнаружения дубликатов, поддерживаемые очереди Service Bus автоматически удаляет повторяющиеся сообщения, отправленные tooa очередь или раздел, на основе значения hello hello [MessageId](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.messageid#Microsoft_ServiceBus_Messaging_BrokeredMessage_MessageId) свойство.

## <a name="capacity-and-quotas"></a>Емкость и квоты
В этом разделе сравнивается очереди хранилища и очереди Service Bus с точки зрения hello [емкости и квот](service-bus-quotas.md) , могут применяться.

| Критерии сравнения | Очереди службы хранилища | Очереди служебной шины |
| --- | --- | --- |
| Максимальный размер очереди |**500 ТБ**<br/><br/>(только tooa [единый емкость учетной записи хранилища](../storage/common/storage-introduction.md#queue-storage)) |**1 ГБ too80 ГБ**<br/><br/>(определяется при создании очереди и [включении секционирования](service-bus-partitioning.md) — см. раздел «Дополнительные сведения» hello) |
| Максимальный размер сообщения |**64 КБ**<br/><br/>(48 КБ при использовании кодировки **Base64**)<br/><br/>Azure поддерживает большие сообщения, комбинируя очереди и большие двоичные объекты, после чего можно поставить в очередь копирования too200GB для одного элемента. |**256 КБ** или **1 МБ**<br/><br/>(включая заголовок и текст; максимальный размер заголовка — 64 КБ).<br/><br/>Зависит от hello [уровня службы](service-bus-premium-messaging.md). |
| Максимальный срок жизни сообщения |**7 дней** |**`TimeSpan.Max`** |
| Максимальное количество очередей |**Unlimited** |**10 000**<br/><br/>(для каждого пространства имен службы; может быть увеличено) |
| Максимальное количество параллельных клиентов |**Unlimited** |**Unlimited**<br/><br/>(100 одновременных подключений ограничение применяется только связи на основе протокола tooTCP) |

### <a name="additional-information"></a>Дополнительная информация
* В служебной шине ограничения по размеру применяются принудительно. Hello максимальный размер очереди задается при создании очереди hello и может иметь значение в диапазоне от 1 до 80 ГБ. При достижении значения размера очереди hello, заданного при создании очереди hello, последующие входящие сообщения будут отклонены и hello, вызывающий код получит исключение. Дополнительные сведения о квотах в служебной шине см. в разделе [Квоты на служебную шину](service-bus-quotas.md).
* В hello [стандартного уровня](service-bus-premium-messaging.md), можно создавать очереди Service Bus с размерами 1, 2, 3, 4 или 5 ГБ (по умолчанию hello составляет 1 ГБ). На уровне "премиум" hello могут создавать очереди вверх too80 ГБ. В стандартном уровне секционирование включено (используется по умолчанию hello), Service Bus создает 16 разделов для каждого указанного ГБ. Таким образом, при создании очереди, имеет размер в 5 ГБ, с 16 секциями hello максимальный размер очереди становится (5 * 16) = 80 ГБ. Вы увидите hello максимальный размер секционированной очереди или раздела, просмотрев его запись в hello [портал Azure][Azure portal]. На уровне "премиум" hello только 2 секции создаются каждой очереди.
* С очередями хранилища, если hello содержимое сообщения hello не является типизированным XML, то он должен быть **Base64** кодировке. Если вы **Base64**-кодирования приветственное сообщение, полезные данные hello пользователя может быть вверх too48 КБ, вместо 64 КБ.
* Каждое сообщение, сохраненное в очереди служебной шины, состоит из двух частей: заголовка и текста. общий размер приветственное сообщение Hello не может превышать максимальное приветственное сообщение, размер, поддерживаемый уровнем службы hello.
* Когда клиенты взаимодействуют с очередями служебной шины по hello протокол TCP, hello максимальное число одновременных подключений tooa одной очереди шины обслуживания — ограниченный too100. Это число распределяется между отправителями и получателями. После достижения этой квоты последующие запросы на дополнительные соединения будут отклонены и hello, вызывающий код получит исключение. Это ограничение не применяется к клиентам, соединяющимся toohello очередей с помощью API на основе REST.
* Если требуется более 10 000 очередей в одно пространство имен Service Bus можно обратитесь в службу поддержки Azure hello и запросить увеличение. tooscale за 10 000 очередей с Service Bus можно также создать дополнительные пространства имен с помощью hello [портал Azure][Azure portal].

## <a name="management-and-operations"></a>Управление и использование
В этом разделе сравниваются функции управления hello, предоставляемые хранилища очереди и очереди Service Bus.

| Критерии сравнения | Очереди службы хранилища | Очереди служебной шины |
| --- | --- | --- |
| Протокол управления |**REST по протоколу HTTP/HTTPS** |**REST по протоколу HTTPS** |
| Протокол выполнения |**REST по протоколу HTTP/HTTPS** |**REST по протоколу HTTPS**<br/><br/>**Стандарт AMQP 1.0 (TCP с TLS)** |
| .NET API |**Да**<br/><br/>(API клиента службы хранилища для .NET) |**Да**<br/><br/>(API служебной шины для .NET) |
| Машинный C++ |**Да** |**Да** |
| API Java |**Да** |**Да** |
| API для PHP |**Да** |**Да** |
| API для Node.js |**Да** |**Да** |
| Поддержка произвольных метаданных |**Да** |**Нет** |
| Правила именования очередей |**Копирование too63 символов**<br/><br/>(Буквы в имени очереди должны быть строчными.) |**Копирование too260 символов**<br/><br/>(В путях и именах очередей регистр не учитывается.) |
| Функция получения длины очереди |**Да**<br/><br/>(Приблизительное значение при истечении срока действия сообщения, после истечения срока ЖИЗНИ hello не удаляется.) |**Да**<br/><br/>(Точное значение в определенный момент времени.) |
| Функция просмотра |**Да** |**Да** |

### <a name="additional-information"></a>Дополнительная информация
* Очереди хранилища поддерживают произвольные атрибуты, которые может быть применен toohello описание очереди, в форме hello пар имя значение.
* Обе технологии также предоставляют возможность toopeek hello сообщение без необходимости toolock ИТ, которая может оказаться полезной при реализации проводника или браузера для очередей.
* Hello Service Bus .NET через посредника обмена сообщениями TCP-подключений дуплексная интерфейсы API используются для повышения производительности при сравнении tooREST по протоколу HTTP, и они поддерживают стандартный протокол AMQP 1.0 hello.
* Имена очередей службы хранилища могут содержать от 3 до 63 знаков, включая строчные буквы, цифры и дефисы (-). Дополнительные сведения см. в статье [Именование очередей и метаданных](/rest/api/storageservices/fileservices/Naming-Queues-and-Metadata).
* Имена очередей Service Bus можно развертывать too260 символов и менее строгие правила именования. имена очереди служебной шины могут содержать буквы, цифры, точки, дефисы и знаки подчеркивания.

## <a name="authentication-and-authorization"></a>Аутентификация и авторизация
В этом разделе рассматриваются hello проверки подлинности и авторизации функций, поддерживаемых хранилища очереди и очереди Service Bus.

| Критерии сравнения | Очереди службы хранилища | Очереди служебной шины |
| --- | --- | --- |
| Аутентификация |**Симметричный ключ** |**Симметричный ключ** |
| Модель безопасности |Делегирование доступа через маркеры SAS |SAS |
| Федерация поставщика удостоверений |**Нет** |**Да** |

### <a name="additional-information"></a>Дополнительная информация
* Каждый запрос tooeither из очереди технологии hello должен пройти проверку подлинности. Общие очереди с анонимным доступом не поддерживаются. При использовании [SAS](service-bus-sas.md) вы можете публиковать SAS только для записи, SAS только для чтения или даже SAS для полного доступа.
* Hello схему проверки подлинности предоставляемых службой хранилища очередей используются hello симметричного ключа, являющееся хэш-проверки подлинности сообщения код (HMAC), вычисляется с помощью алгоритма SHA-256 hello и кодируются как **Base64** строки. Дополнительные сведения о соответствующем протоколе hello см. в разделе [проверки подлинности для служб хранилища Azure hello](/rest/api/storageservices/fileservices/Authentication-for-the-Azure-Storage-Services). Очереди служебной шины поддерживают аналогичную модель с использованием симметричных ключей. Дополнительные сведения см. в статье [Проверка подлинности подписанного URL-адреса с помощью служебной шины](service-bus-sas.md).

## <a name="conclusion"></a>Заключение
За счет более глубокого понимания hello двух технологий, будет быть может toomake более обоснованное решение о том, что очередь toouse технологии, а также при. Здравствуйте, решение о том, когда toouse очереди хранилища или шины обслуживания очереди четко зависит от ряда факторов. Эти факторы сильно зависят hello индивидуальными потребностями приложения и его архитектуры. Если в приложении уже используются основные возможности hello Microsoft Azure, можно указать toochoose очереди хранилища, особенно в том случае, если требуются базовые функции обмена информацией и сообщениями между службами или необходимости очередей, которые могут быть больше 80 ГБ.

Так как очереди служебной шины предлагают ряд расширенных функций (в том числе сеансы, транзакции, обнаружение дубликатов, автоматическое перемещение в "мертвую очередь", возможности публикации или подписки), они могут оказаться предпочтительнее для построения гибридного приложения или если в приложении они требуются по каким-либо другим причинам.

## <a name="next-steps"></a>Дальнейшие действия
следующие статьи Hello предоставляют рекомендации и Дополнительные сведения об использовании очереди хранилища или очереди шины обслуживания.

* [Начало работы с очередями служебной шины](service-bus-dotnet-get-started-with-queues.md)
* [Как tooUse hello службы хранилища очередей](../storage/queues/storage-dotnet-how-to-use-queues.md)
* [Рекомендации по повышению производительности с помощью обмена сообщениями через брокер в служебной шине](service-bus-performance-improvements.md)
* [Introducing Queues and Topics in Azure Service Bus](http://www.code-magazine.com/article.aspx?quickid=1112041) (Введение в очереди и разделы служебной шины Azure) (запись блога)
* [Здравствуйте, tooService руководство разработчика шины](http://www.cloudcasts.net/devguide/Default.aspx?id=11030)
* [С помощью hello очереди службы в Azure](http://www.developerfusion.com/article/120197/using-the-queuing-service-in-windows-azure/)

[Azure portal]: https://portal.azure.com

