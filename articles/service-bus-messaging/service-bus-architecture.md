---
title: "обработки Общие сведения об архитектуре сообщений Service Bus aaaAzure | Документы Microsoft"
description: "Содержит описание архитектуры обработки сообщения hello Azure Service Bus."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: baf94c2d-0e58-4d5d-a588-767f996ccf7f
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: f7606e40cdf6db3797a0db2de9365453ff2a158e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-architecture"></a>Архитектура служебной шины
В этой статье описывается архитектура обработки сообщений hello Azure Service Bus.

## <a name="service-bus-scale-units"></a>Единицы масштабирования служебной шины
Содержимое служебной шины упорядочено по *единицам масштабирования*. Единицы масштабирования — это единица развертывания и содержит все необходимые выполнения hello службы компонентов. Для каждой области развертывается одна или несколько единиц масштабирования служебной шины.

Пространство имен служебной шины — сопоставленных tooa единица масштабирования. Единица масштабирования Hello обрабатывает все типы объектов Service Bus (очереди, разделы, подписки). Единицы масштабирования Service Bus состоит из следующих компонентов hello.

* **Набор узлов шлюза.** Узлы шлюза проверяют подлинность входящих запросов. У каждого узла шлюза есть общедоступный IP-адрес.
* **Набор узлов брокера сообщений.** Узлы брокера сообщений обрабатывают запросы к сущностям обмена сообщениями.
* **Единое хранилище шлюза.** хранилище шлюза Hello содержит hello данные для каждой сущности, определенные в этой единице масштабирования. хранилище шлюза Hello реализована на основе базы данных SQL Azure.
* **Несколько хранилищ сообщений.** Хранилищам сообщений хранения сообщений hello всех очередей, разделов и подписок, которые определены в этой единице масштабирования. Здесь же хранятся все данные подписки. Если не [секционирование сущностей обмена сообщениями](service-bus-partitioning.md) является включение, очередь или раздел является сопоставленных tooone хранилище сообщений. Подписки хранятся в hello одно хранилище обмена сообщениями, как их родительским разделом. За исключением Service Bus [отправка сообщений Premium](service-bus-premium-messaging.md), хранилищам сообщений hello реализуются на основе баз данных SQL Azure.

## <a name="containers"></a>Контейнеры
Каждой сущности обмена сообщениями назначается определенный контейнер. Контейнер — это логическая конструкция, использующего только один обмена сообщениями toostore хранилища все необходимые данные для этого контейнера. Каждый контейнер назначается tooa узел брокера обмена сообщениями. Обычно контейнеров больше, чем узлов брокера сообщений. Таким образом, каждый узел брокера сообщений загружает несколько контейнеров. распределение узлов брокера обмена сообщениями tooa контейнеры Hello организована таким образом, что все узлы брокера для обмена сообщениями одинаково загружаются. Если изменение шаблона нагрузки hello (например, один из возвращает контейнеры hello очень занят) или если узла брокера обмена сообщениями становится временно недоступным hello контейнеры перераспределяются между hello, узлы брокера обмена сообщениями.

## <a name="processing-of-incoming-messaging-requests"></a>Обработка входящих запросов обмена сообщениями
Когда клиент отправляет запрос tooService шины, hello балансировки нагрузки Azure направляет его tooany узлов шлюза hello. узел шлюза Hello авторизацию hello запроса. Если запрос hello касается сущности обмена сообщениями (очередь, раздел, подписка), узел шлюза hello ищет hello объекта в хранилище шлюза hello и определяет, в какой сообщений hello хранилища находится сущность. Затем он ищет обмена сообщениями узла брокера, обрабатываемых в настоящее время этот контейнер и отправляет запрос toothat hello, узел брокера обмена сообщениями. узел брокера обмена сообщениями Hello обрабатывает запрос hello и обновляет состояние сущности hello в хранилище контейнера hello. узел брокера обмена сообщениями, затем Hello отправляет hello ответ назад toohello шлюза узел, который отправляет первоначальный запрос, выданный hello клиент обратной toohello соответствующий ответ.

![Обработка входящих запросов обмена сообщениями](./media/service-bus-architecture/ic690644.png)

## <a name="next-steps"></a>Дальнейшие действия
Теперь, когда вы прочитали Обзор архитектуры Service Bus, посетите hello следующие ссылки на дополнительные сведения:

* [Основные сведения об обмене сообщениями через служебную шину](service-bus-messaging-overview.md)
* [Базовая информация о Service Bus](service-bus-fundamentals-hybrid-solutions.md)
* [Решение для обмена сообщениями в очередях с помощью очередей служебной шины](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)


