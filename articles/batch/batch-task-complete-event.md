---
title: "AAA» событие завершения задачи пакета Azure | Документы Microsoft»"
description: "Справочник по событию завершения выполнения задачи пакетной службы."
services: batch
author: tamram
manager: timlt
ms.assetid: 
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 04/20/2017
ms.author: tamram
ms.openlocfilehash: c126bf897071c008be3d24190cf77bba5878b807
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="task-complete-event"></a><span data-ttu-id="467a1-103">Событие завершения выполнения задачи</span><span class="sxs-lookup"><span data-stu-id="467a1-103">Task complete event</span></span>

 <span data-ttu-id="467a1-104">Это событие создается после завершения задачи, независимо от того, код выхода hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-104">This event is emitted once a task is completed, regardless of hello exit code.</span></span> <span data-ttu-id="467a1-105">Это событие может быть используется toodetermine hello продолжительность выполнения задачи, в которых выполнялись задачу hello и ли она была повторена.</span><span class="sxs-lookup"><span data-stu-id="467a1-105">This event can be used toodetermine hello duration of a task, where hello task ran, and whether it was retried.</span></span>


 <span data-ttu-id="467a1-106">Hello следующем примере показан текст hello события завершения задачи.</span><span class="sxs-lookup"><span data-stu-id="467a1-106">hello following example shows hello body of a task complete event.</span></span>

```
{
    "jobId": "job-0000000001",
    "id": "task-5",
    "taskType": "User",
    "systemTaskVersion": 0,
    "nodeInfo": {
        "poolId": "pool-001",
        "nodeId": "tvm-257509324_1-20160908t162728z"
    },
    "multiInstanceSettings": {
        "numberOfInstances": 1
    },
    "constraints": {
        "maxTaskRetryCount": 2
    },
    "executionInfo": {
        "startTime": "2016-09-08T16:32:23.799Z",
        "endTime": "2016-09-08T16:34:00.666Z",
        "exitCode": 0,
        "retryCount": 0,
        "requeueCount": 0
    }
}
```

|<span data-ttu-id="467a1-107">Имя элемента</span><span class="sxs-lookup"><span data-stu-id="467a1-107">Element name</span></span>|<span data-ttu-id="467a1-108">Тип</span><span class="sxs-lookup"><span data-stu-id="467a1-108">Type</span></span>|<span data-ttu-id="467a1-109">Примечания</span><span class="sxs-lookup"><span data-stu-id="467a1-109">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="467a1-110">jobId</span><span class="sxs-lookup"><span data-stu-id="467a1-110">jobId</span></span>|<span data-ttu-id="467a1-111">Строка</span><span class="sxs-lookup"><span data-stu-id="467a1-111">String</span></span>|<span data-ttu-id="467a1-112">Идентификатор Hello hello задания, содержащий задачу hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-112">hello id of hello job containing hello task.</span></span>|
|<span data-ttu-id="467a1-113">id</span><span class="sxs-lookup"><span data-stu-id="467a1-113">id</span></span>|<span data-ttu-id="467a1-114">Строка</span><span class="sxs-lookup"><span data-stu-id="467a1-114">String</span></span>|<span data-ttu-id="467a1-115">Идентификатор Hello задачу hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-115">hello id of hello task.</span></span>|
|<span data-ttu-id="467a1-116">taskType</span><span class="sxs-lookup"><span data-stu-id="467a1-116">taskType</span></span>|<span data-ttu-id="467a1-117">Строка</span><span class="sxs-lookup"><span data-stu-id="467a1-117">String</span></span>|<span data-ttu-id="467a1-118">Тип Hello задачу hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-118">hello type of hello task.</span></span> <span data-ttu-id="467a1-119">Может быть установлено значение "JobManager", указывающее, что это задача диспетчера заданий, или значение "User", указывающее, что задача не относится к диспетчеру заданий.</span><span class="sxs-lookup"><span data-stu-id="467a1-119">This can either be 'JobManager' indicating it is a job manager task or 'User' indicating it is not a job manager task.</span></span> <span data-ttu-id="467a1-120">Это событие не создается для задач подготовки задания, задачи выпуска задания или задач запуска.</span><span class="sxs-lookup"><span data-stu-id="467a1-120">This event is not emitted for job preparation tasks, job release tasks or start tasks.</span></span>|
|<span data-ttu-id="467a1-121">systemTaskVersion</span><span class="sxs-lookup"><span data-stu-id="467a1-121">systemTaskVersion</span></span>|<span data-ttu-id="467a1-122">Int32</span><span class="sxs-lookup"><span data-stu-id="467a1-122">Int32</span></span>|<span data-ttu-id="467a1-123">Это счетчик hello внутренних повторов задачи.</span><span class="sxs-lookup"><span data-stu-id="467a1-123">This is hello internal retry counter on a task.</span></span> <span data-ttu-id="467a1-124">Внутренне hello пакетной службы можно повторить попытку tooaccount задачи для временных проблем.</span><span class="sxs-lookup"><span data-stu-id="467a1-124">Internally hello Batch service can retry a task tooaccount for transient issues.</span></span> <span data-ttu-id="467a1-125">Эти проблемы могут включать внутреннего планирования toorecover ошибок или попыток из вычислительных узлов в неверном состоянии.</span><span class="sxs-lookup"><span data-stu-id="467a1-125">These issues can include internal scheduling errors or attempts toorecover from compute nodes in a bad state.</span></span>|
|[<span data-ttu-id="467a1-126">nodeInfo</span><span class="sxs-lookup"><span data-stu-id="467a1-126">nodeInfo</span></span>](#nodeInfo)|<span data-ttu-id="467a1-127">Сложный тип</span><span class="sxs-lookup"><span data-stu-id="467a1-127">Complex Type</span></span>|<span data-ttu-id="467a1-128">Содержит сведения о hello вычислительных узлов, на какие hello запущена задача.</span><span class="sxs-lookup"><span data-stu-id="467a1-128">Contains information about hello compute node on which hello task ran.</span></span>|
|[<span data-ttu-id="467a1-129">multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="467a1-129">multiInstanceSettings</span></span>](#multiInstanceSettings)|<span data-ttu-id="467a1-130">Сложный тип</span><span class="sxs-lookup"><span data-stu-id="467a1-130">Complex Type</span></span>|<span data-ttu-id="467a1-131">Указывает, что эта задача hello осуществляется несколькими экземплярами требуется несколько вычислительных узлов.</span><span class="sxs-lookup"><span data-stu-id="467a1-131">Specifies that hello task is a Multi-Instance Task requiring multiple compute nodes.</span></span>  <span data-ttu-id="467a1-132">Дополнительные сведения см. в статье [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task).</span><span class="sxs-lookup"><span data-stu-id="467a1-132">See [multiInstanceSettings](https://docs.microsoft.com/rest/api/batchservice/get-information-about-a-task) for details.</span></span>|
|[<span data-ttu-id="467a1-133">constraints</span><span class="sxs-lookup"><span data-stu-id="467a1-133">constraints</span></span>](#constraints)|<span data-ttu-id="467a1-134">Сложный тип</span><span class="sxs-lookup"><span data-stu-id="467a1-134">Complex Type</span></span>|<span data-ttu-id="467a1-135">ограничения выполнения Hello применимые toothis задачи.</span><span class="sxs-lookup"><span data-stu-id="467a1-135">hello execution constraints that apply toothis task.</span></span>|
|[<span data-ttu-id="467a1-136">executionInfo</span><span class="sxs-lookup"><span data-stu-id="467a1-136">executionInfo</span></span>](#executionInfo)|<span data-ttu-id="467a1-137">Сложный тип</span><span class="sxs-lookup"><span data-stu-id="467a1-137">Complex Type</span></span>|<span data-ttu-id="467a1-138">Содержит сведения о выполнении hello задачи «hello».</span><span class="sxs-lookup"><span data-stu-id="467a1-138">Contains information about hello execution of hello task.</span></span>|

###  <span data-ttu-id="467a1-139"><a name="nodeInfo"></a> nodeInfo</span><span class="sxs-lookup"><span data-stu-id="467a1-139"><a name="nodeInfo"></a> nodeInfo</span></span>

|<span data-ttu-id="467a1-140">Имя элемента</span><span class="sxs-lookup"><span data-stu-id="467a1-140">Element name</span></span>|<span data-ttu-id="467a1-141">Тип</span><span class="sxs-lookup"><span data-stu-id="467a1-141">Type</span></span>|<span data-ttu-id="467a1-142">Примечания</span><span class="sxs-lookup"><span data-stu-id="467a1-142">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="467a1-143">poolId</span><span class="sxs-lookup"><span data-stu-id="467a1-143">poolId</span></span>|<span data-ttu-id="467a1-144">Строка</span><span class="sxs-lookup"><span data-stu-id="467a1-144">String</span></span>|<span data-ttu-id="467a1-145">Идентификатор Hello пула hello, на какие hello запущена задача.</span><span class="sxs-lookup"><span data-stu-id="467a1-145">hello id of hello pool on which hello task ran.</span></span>|
|<span data-ttu-id="467a1-146">nodeId</span><span class="sxs-lookup"><span data-stu-id="467a1-146">nodeId</span></span>|<span data-ttu-id="467a1-147">Строка</span><span class="sxs-lookup"><span data-stu-id="467a1-147">String</span></span>|<span data-ttu-id="467a1-148">Идентификатор Hello hello узла, на какие hello запущена задача.</span><span class="sxs-lookup"><span data-stu-id="467a1-148">hello id of hello node on which hello task ran.</span></span>|

###  <span data-ttu-id="467a1-149"><a name="multiInstanceSettings"></a> multiInstanceSettings</span><span class="sxs-lookup"><span data-stu-id="467a1-149"><a name="multiInstanceSettings"></a> multiInstanceSettings</span></span>

|<span data-ttu-id="467a1-150">Имя элемента</span><span class="sxs-lookup"><span data-stu-id="467a1-150">Element name</span></span>|<span data-ttu-id="467a1-151">Тип</span><span class="sxs-lookup"><span data-stu-id="467a1-151">Type</span></span>|<span data-ttu-id="467a1-152">Примечания</span><span class="sxs-lookup"><span data-stu-id="467a1-152">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="467a1-153">numberOfInstances</span><span class="sxs-lookup"><span data-stu-id="467a1-153">numberOfInstances</span></span>|<span data-ttu-id="467a1-154">Int32</span><span class="sxs-lookup"><span data-stu-id="467a1-154">Int32</span></span>|<span data-ttu-id="467a1-155">количество вычислительных узлов, предусмотренного задачу hello Hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-155">hello number of compute nodes required by hello task.</span></span>|

###  <span data-ttu-id="467a1-156"><a name="constraints"></a> constraints</span><span class="sxs-lookup"><span data-stu-id="467a1-156"><a name="constraints"></a> constraints</span></span>

|<span data-ttu-id="467a1-157">Имя элемента</span><span class="sxs-lookup"><span data-stu-id="467a1-157">Element name</span></span>|<span data-ttu-id="467a1-158">Тип</span><span class="sxs-lookup"><span data-stu-id="467a1-158">Type</span></span>|<span data-ttu-id="467a1-159">Примечания</span><span class="sxs-lookup"><span data-stu-id="467a1-159">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="467a1-160">maxTaskRetryCount</span><span class="sxs-lookup"><span data-stu-id="467a1-160">maxTaskRetryCount</span></span>|<span data-ttu-id="467a1-161">Int32</span><span class="sxs-lookup"><span data-stu-id="467a1-161">Int32</span></span>|<span data-ttu-id="467a1-162">Максимальное число повторных попыток задачу hello может быть Hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-162">hello maximum number of times hello task may be retried.</span></span> <span data-ttu-id="467a1-163">Hello пакетная служба повторяет задачу, если ее код выхода имеет ненулевое значение.</span><span class="sxs-lookup"><span data-stu-id="467a1-163">hello Batch service retries a task if its exit code is nonzero.</span></span><br /><br /> <span data-ttu-id="467a1-164">Обратите внимание, что это значение определяет специально hello число повторных попыток.</span><span class="sxs-lookup"><span data-stu-id="467a1-164">Note that this value specifically controls hello number of retries.</span></span> <span data-ttu-id="467a1-165">Пакетная служба Hello попытаться задачу hello один раз и повторите копирование toothis ограничение.</span><span class="sxs-lookup"><span data-stu-id="467a1-165">hello Batch service will try hello task once, and may then retry up toothis limit.</span></span> <span data-ttu-id="467a1-166">Например если hello максимальное число повторных попыток равно 3, пакет пытается задачи вверх too4 времени (один начальной попытки и 3 попытки).</span><span class="sxs-lookup"><span data-stu-id="467a1-166">For example, if hello maximum retry count is 3, Batch tries a task up too4 times (one initial try and 3 retries).</span></span><br /><br /> <span data-ttu-id="467a1-167">Если hello максимальное число повторных попыток равно 0, hello пакетная служба не выполняет повторную попытку запуска задачи.</span><span class="sxs-lookup"><span data-stu-id="467a1-167">If hello maximum retry count is 0, hello Batch service does not retry tasks.</span></span><br /><br /> <span data-ttu-id="467a1-168">Если hello максимальное число повторных попыток равно -1, hello пакетная служба повторяет задачи без ограничения.</span><span class="sxs-lookup"><span data-stu-id="467a1-168">If hello maximum retry count is -1, hello Batch service retries tasks without limit.</span></span><br /><br /> <span data-ttu-id="467a1-169">значение по умолчанию Hello равно 0 (повторы отсутствуют).</span><span class="sxs-lookup"><span data-stu-id="467a1-169">hello default value is 0 (no retries).</span></span>|

###  <span data-ttu-id="467a1-170"><a name="executionInfo"></a> executionInfo</span><span class="sxs-lookup"><span data-stu-id="467a1-170"><a name="executionInfo"></a> executionInfo</span></span>

|<span data-ttu-id="467a1-171">Имя элемента</span><span class="sxs-lookup"><span data-stu-id="467a1-171">Element name</span></span>|<span data-ttu-id="467a1-172">Тип</span><span class="sxs-lookup"><span data-stu-id="467a1-172">Type</span></span>|<span data-ttu-id="467a1-173">Примечания</span><span class="sxs-lookup"><span data-stu-id="467a1-173">Notes</span></span>|
|------------------|----------|-----------|
|<span data-ttu-id="467a1-174">startTime</span><span class="sxs-lookup"><span data-stu-id="467a1-174">startTime</span></span>|<span data-ttu-id="467a1-175">DateTime</span><span class="sxs-lookup"><span data-stu-id="467a1-175">DateTime</span></span>|<span data-ttu-id="467a1-176">время начала выполнения задачи hello Hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-176">hello time at which hello task started running.</span></span> <span data-ttu-id="467a1-177">«Работает» соответствует toohello **под управлением** состоянии, поэтому если задачу hello указывает файлы ресурсов или пакеты приложений, время начала hello отражает hello время работы загрузке или развертывании эти задачи hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-177">'Running' corresponds toohello **running** state, so if hello task specifies resource files or application packages, then hello start time reflects hello time at which hello task started downloading or deploying these.</span></span>  <span data-ttu-id="467a1-178">Если задачу hello был перезапущен или повторено, это hello, последнее время на задачу какие hello запущен.</span><span class="sxs-lookup"><span data-stu-id="467a1-178">If hello task has been restarted or retried, this is hello most recent time at which hello task started running.</span></span>|
|<span data-ttu-id="467a1-179">endTime</span><span class="sxs-lookup"><span data-stu-id="467a1-179">endTime</span></span>|<span data-ttu-id="467a1-180">DateTime</span><span class="sxs-lookup"><span data-stu-id="467a1-180">DateTime</span></span>|<span data-ttu-id="467a1-181">время завершения задачи hello Hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-181">hello time at which hello task completed.</span></span>|
|<span data-ttu-id="467a1-182">exitCode</span><span class="sxs-lookup"><span data-stu-id="467a1-182">exitCode</span></span>|<span data-ttu-id="467a1-183">Int32</span><span class="sxs-lookup"><span data-stu-id="467a1-183">Int32</span></span>|<span data-ttu-id="467a1-184">код выхода Hello задачу hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-184">hello exit code of hello task.</span></span>|
|<span data-ttu-id="467a1-185">retryCount</span><span class="sxs-lookup"><span data-stu-id="467a1-185">retryCount</span></span>|<span data-ttu-id="467a1-186">Int32</span><span class="sxs-lookup"><span data-stu-id="467a1-186">Int32</span></span>|<span data-ttu-id="467a1-187">Здравствуйте, число повторных попыток задачу hello пакетной службой hello.</span><span class="sxs-lookup"><span data-stu-id="467a1-187">hello number of times hello task has been retried by hello Batch service.</span></span> <span data-ttu-id="467a1-188">Hello задача выполняется повторно, если он выходит с ненулевой код выхода, копирование toohello указан MaxTaskRetryCount.</span><span class="sxs-lookup"><span data-stu-id="467a1-188">hello task is retried if it exits with a nonzero exit code, up toohello specified MaxTaskRetryCount.</span></span>|
|<span data-ttu-id="467a1-189">requeueCount</span><span class="sxs-lookup"><span data-stu-id="467a1-189">requeueCount</span></span>|<span data-ttu-id="467a1-190">Int32</span><span class="sxs-lookup"><span data-stu-id="467a1-190">Int32</span></span>|<span data-ttu-id="467a1-191">Здравствуйте, сколько раз задача hello поставлен в пакетной службой hello как hello результат запроса пользователя.</span><span class="sxs-lookup"><span data-stu-id="467a1-191">hello number of times hello task has been requeued by hello Batch service as hello result of a user request.</span></span><br /><br /> <span data-ttu-id="467a1-192">Когда пользователь удаляет hello, узлов из пула (путем изменения размеров или сжатии пула hello) или когда задание hello отключается, hello пользователя можно указать, что выполняющихся задач на узлах hello постановки в очередь для выполнения.</span><span class="sxs-lookup"><span data-stu-id="467a1-192">When hello user removes nodes from a pool (by resizing or shrinking hello pool) or when hello job is being disabled, hello user can specify that running tasks on hello nodes be requeued for execution.</span></span> <span data-ttu-id="467a1-193">Этот счетчик отслеживает, сколько раз задача hello поставлен по следующим причинам.</span><span class="sxs-lookup"><span data-stu-id="467a1-193">This count tracks how many times hello task has been requeued for these reasons.</span></span>|
