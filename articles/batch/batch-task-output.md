---
title: "Сохранение результатов или журналов из завершенных заданий и задач в хранилище данных — пакетная служба Azure | Документы Майкрософт"
description: "Дополнительные сведения о различных параметрах для сохранения выходных данных из пакетных задач и заданий. Вы можете сохранить данные в службе хранилища Azure или в другом хранилище данных."
services: batch
author: tamram
manager: timlt
editor: 
ms.assetid: 16e12d0e-958c-46c2-a6b8-7843835d830e
ms.service: batch
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: big-compute
ms.date: 06/16/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3ca93e823f02b1483ed290cf89de191937d1e2c3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="persist-job-and-task-output"></a><span data-ttu-id="55562-104">Сохранение пакетных заданий и выходных данных задач</span><span class="sxs-lookup"><span data-stu-id="55562-104">Persist job and task output</span></span>

[!INCLUDE [batch-task-output-include](../../includes/batch-task-output-include.md)]

<span data-ttu-id="55562-105">К типичным примерам выходных данных задачи относятся:</span><span class="sxs-lookup"><span data-stu-id="55562-105">Some common examples of task output include:</span></span>

- <span data-ttu-id="55562-106">файлы, созданные при обработке задачей входных данных;</span><span class="sxs-lookup"><span data-stu-id="55562-106">Files created when the task processes input data.</span></span>
- <span data-ttu-id="55562-107">файлы журналов, сопоставленные с выполнением задачи.</span><span class="sxs-lookup"><span data-stu-id="55562-107">Log files associated with task execution.</span></span> 

<span data-ttu-id="55562-108">Эта статья описывает различные параметры для сохранения выходных данных задач, а также сценарии, для которых лучше всего подходит каждый из параметров.</span><span class="sxs-lookup"><span data-stu-id="55562-108">This article describes various options for persisting task output and the scenarios for which each option is most appropriate.</span></span>   

## <a name="about-the-batch-file-conventions-standard"></a><span data-ttu-id="55562-109">Сведения о стандарте соглашений по пакетным файлам</span><span class="sxs-lookup"><span data-stu-id="55562-109">About the Batch File Conventions standard</span></span>

<span data-ttu-id="55562-110">Пакет определяет дополнительный набор соглашений для именования выходных файлов задач в службе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="55562-110">Batch defines an optional set of conventions for naming task output files in Azure Storage.</span></span> <span data-ttu-id="55562-111">Эти соглашения описаны в [стандарте соглашений по пакетным файлам](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="55562-111">The [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) describes these conventions.</span></span> <span data-ttu-id="55562-112">Стандарт соглашений об именовании файлов определяет имя целевого контейнера и путь к BLOB-объекту в службе хранилища Azure для заданного выходного файла на основе имен задания и задачи.</span><span class="sxs-lookup"><span data-stu-id="55562-112">The File Conventions standard determines the names of the destination container and blob path in Azure Storage for a given output file based on the names of the job and task.</span></span>

<span data-ttu-id="55562-113">Вы сами решаете, нужно ли использовать стандарт соглашений по файлам для именования файлов выходных данных.</span><span class="sxs-lookup"><span data-stu-id="55562-113">It's up to you whether you decide to use the File Conventions standard for naming your output data files.</span></span> <span data-ttu-id="55562-114">Вы также можете назначить целевому контейнеру и BLOB-объекту любое подходящее имя.</span><span class="sxs-lookup"><span data-stu-id="55562-114">You can also name the destination container and blob however you wish.</span></span> <span data-ttu-id="55562-115">Если для назначения имен выходным файлам используется стандарт соглашений об именовании файлов, то выходные файлы доступны для просмотра на [портале Azure][portal].</span><span class="sxs-lookup"><span data-stu-id="55562-115">If you do use the File Conventions standard for naming output files, then your output files are available for viewing in the [Azure portal][portal].</span></span>

<span data-ttu-id="55562-116">Стандарт соглашений по файлам можно использовать несколькими разными способами:</span><span class="sxs-lookup"><span data-stu-id="55562-116">There are a few different ways that you can use the File Conventions standard:</span></span>

- <span data-ttu-id="55562-117">Если для сохранения выходных файлов вы используете API пакетной службы, можно настроить именование целевых контейнеров и BLOB-объектов согласно стандарту соглашений по файлам.</span><span class="sxs-lookup"><span data-stu-id="55562-117">If you are using the Batch service API to persist output files, you can choose to name destination containers and blobs according to the File Conventions standard.</span></span> <span data-ttu-id="55562-118">API пакетной службы позволяет сохранять выходные файлы из клиентского кода, не изменяя приложение задачи.</span><span class="sxs-lookup"><span data-stu-id="55562-118">The Batch service API enables you to persist output files from client code, without modifying your task application.</span></span>
- <span data-ttu-id="55562-119">При работе на платформе .NET можно использовать [библиотеку соглашений о пакетных файлах Azure для .NET][nuget_package].</span><span class="sxs-lookup"><span data-stu-id="55562-119">If you are developing with .NET, you can use the [Azure Batch File Conventions library for .NET][nuget_package].</span></span> <span data-ttu-id="55562-120">Преимущество использования этой библиотеки заключается в том, что она поддерживает запросы к выходным файлам по их идентификатору или назначению.</span><span class="sxs-lookup"><span data-stu-id="55562-120">An advantage of using this library is that it supports querying your output files according to their ID or purpose.</span></span> <span data-ttu-id="55562-121">Встроенные функции запросов упрощают доступ к выходным файлам из клиентского приложения или из других задач.</span><span class="sxs-lookup"><span data-stu-id="55562-121">The built-in querying functionality makes it easy to access output files from a client application or from other tasks.</span></span> <span data-ttu-id="55562-122">Однако для вызова указанной библиотеки требуется изменить приложение задачи.</span><span class="sxs-lookup"><span data-stu-id="55562-122">However, your task application must be modified to call File Conventions library.</span></span> <span data-ttu-id="55562-123">Дополнительные сведения см. в справочнике по [библиотеке соглашений о файлах для .NET](https://msdn.microsoft.com/library/microsoft.azure.batch.conventions.files.aspx).</span><span class="sxs-lookup"><span data-stu-id="55562-123">For more information, see the reference for the [File Conventions library for .NET](https://msdn.microsoft.com/library/microsoft.azure.batch.conventions.files.aspx).</span></span>
- <span data-ttu-id="55562-124">При работе на языке, отличном от .NET, можно реализовать в приложении стандарт соглашений об именовании файлов.</span><span class="sxs-lookup"><span data-stu-id="55562-124">If you are developing with a language other than .NET, you can implement the File Conventions standard in your application.</span></span>

## <a name="design-considerations-for-persisting-output"></a><span data-ttu-id="55562-125">Рекомендации по проектированию сохраняемых выходных данных</span><span class="sxs-lookup"><span data-stu-id="55562-125">Design considerations for persisting output</span></span> 

<span data-ttu-id="55562-126">При разработке решения пакетной обработки нужно учесть несколько приведенных ниже факторов, связанных с выходными данными заданий и задач.</span><span class="sxs-lookup"><span data-stu-id="55562-126">When designing your Batch solution, consider the following factors related to job and task outputs.</span></span>

* <span data-ttu-id="55562-127">**Время существования вычислительного узла.** Нередко вычислительные узлы являются временными, особенно в пулах с поддержкой автомасштабирования.</span><span class="sxs-lookup"><span data-stu-id="55562-127">**Compute node lifetime**: Compute nodes are often transient, especially in autoscale-enabled pools.</span></span> <span data-ttu-id="55562-128">Выходные данные задачи, которая выполняется на узле, доступны, только пока этот узел существует и только в течение периода хранения файлов, заданного для задачи.</span><span class="sxs-lookup"><span data-stu-id="55562-128">Output from a task that runs on a node is available only while the node exists, and only within the file retention period you've set for the task.</span></span> <span data-ttu-id="55562-129">Если задача создает выходные данные, которые могут понадобиться после ее завершения, задача должна отправить их в долговременное хранилище, например службу хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="55562-129">If a task produces output that may be needed after the task is complete, then the task must upload its output files to a durable store such as Azure Storage.</span></span>

* <span data-ttu-id="55562-130">**Хранилище выходных данных**. В качестве хранилища выходных данных задачи рекомендуется использовать службу хранилища Azure, но подойдет и любое долговременное хранилище.</span><span class="sxs-lookup"><span data-stu-id="55562-130">**Output storage**: Azure Storage is recommended as a data store for task output, but you can use any durable storage.</span></span> <span data-ttu-id="55562-131">Функция записи выходных данных задачи в службу хранилища Azure интегрирована в API пакетной службы.</span><span class="sxs-lookup"><span data-stu-id="55562-131">Writing task output to Azure Storage is integrated into the Batch service API.</span></span> <span data-ttu-id="55562-132">Если используется другое долговременное хранилище, вам потребуется написать логику приложения для самостоятельного сохранения выходных данных задач.</span><span class="sxs-lookup"><span data-stu-id="55562-132">If you use another form of durable storage, you'll need to write the application logic to persist task output yourself.</span></span>   

* <span data-ttu-id="55562-133">**Извлечение выходных данных**. Выходные данные задачи, если они сохраняются, можно получить непосредственно с вычислительных узлов в пуле либо из службы хранилища Azure или другого хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="55562-133">**Output retrieval**: You can retrieve task output directly from the compute nodes in your pool, or from Azure Storage or another data store if you have persisted task output.</span></span> <span data-ttu-id="55562-134">Чтобы получить выходные данные задачи непосредственно от вычислительных узлов, необходимо знать имя файла и расположение его выходных данных на узле.</span><span class="sxs-lookup"><span data-stu-id="55562-134">To retrieve a task's output directly from a compute node, you need the file name and its output location on the node.</span></span> <span data-ttu-id="55562-135">Если выходные данные задачи сохраняются в службе хранилища Azure, потребуется полный путь к файлу в этой службе, чтобы скачивать подобные файлы с помощью пакета SDK службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="55562-135">If you persist task output to Azure Storage, then you need the full path to the file in Azure Storage to download the output files with the Azure Storage SDK.</span></span>

* <span data-ttu-id="55562-136">**Просмотр выходных данных.** Если перейти к задаче пакетной службы на портале Azure и щелкнуть **Файлы на узле**, отобразятся все файлы, связанные с задачей, а не только интересующие вас выходные файлы.</span><span class="sxs-lookup"><span data-stu-id="55562-136">**Viewing output**: When you navigate to a Batch task in the Azure portal and select **Files on node**, you are presented with all files associated with the task, not just the output files you're interested in.</span></span> <span data-ttu-id="55562-137">Опять же, файлы на вычислительных узлах доступны, только пока узел существует и только в течение периода хранения файлов, заданного для задачи.</span><span class="sxs-lookup"><span data-stu-id="55562-137">Again, files on compute nodes are available only while the node exists and only within the file retention time you've set for the task.</span></span> <span data-ttu-id="55562-138">Чтобы просмотреть выходные данные задачи, сохраненные в службе хранилища Azure, можно воспользоваться порталом Azure или клиентским приложением этой службы, например [Azure Storage Explorer][storage_explorer].</span><span class="sxs-lookup"><span data-stu-id="55562-138">To view task output that you've persisted to Azure Storage, you can use the Azure portal or an Azure Storage client application such as the [Azure Storage Explorer][storage_explorer].</span></span> <span data-ttu-id="55562-139">Чтобы просмотреть выходные данные в службе хранилища Azure с портала или из другого средства, нужно знать расположение файла и перейти напрямую к нему.</span><span class="sxs-lookup"><span data-stu-id="55562-139">To view output data in Azure Storage with the portal or another tool, you must know the file's location and navigate to it directly.</span></span>

## <a name="options-for-persisting-output"></a><span data-ttu-id="55562-140">Способы сохранения выходных данных</span><span class="sxs-lookup"><span data-stu-id="55562-140">Options for persisting output</span></span>

<span data-ttu-id="55562-141">В зависимости от сценария существует несколько способов для сохранения выходных данных задач:</span><span class="sxs-lookup"><span data-stu-id="55562-141">Depending on your scenario, there are a few different approaches you can take to persist task output:</span></span>

- <span data-ttu-id="55562-142">Использование API пакетной службы.</span><span class="sxs-lookup"><span data-stu-id="55562-142">Use the Batch service API.</span></span>  
- <span data-ttu-id="55562-143">Использование библиотеки соглашений по пакетным файлам для .NET.</span><span class="sxs-lookup"><span data-stu-id="55562-143">Use the Batch File Conventions library for .NET.</span></span>  
- <span data-ttu-id="55562-144">Реализация стандарта соглашений по пакетным файлам в приложении.</span><span class="sxs-lookup"><span data-stu-id="55562-144">Implement the Batch File Conventions standard in your application.</span></span>
- <span data-ttu-id="55562-145">Реализация пользовательского решения для перемещения файлов.</span><span class="sxs-lookup"><span data-stu-id="55562-145">Implement a custom file movement solution.</span></span>

<span data-ttu-id="55562-146">В следующих каждый из этих сценариев описан более подробно.</span><span class="sxs-lookup"><span data-stu-id="55562-146">The following sections describe each approach in more detail.</span></span>

### <a name="use-the-batch-service-api"></a><span data-ttu-id="55562-147">Использование API пакетной службы</span><span class="sxs-lookup"><span data-stu-id="55562-147">Use the Batch service API</span></span>

<span data-ttu-id="55562-148">Начиная с версии 2017-05-01, пакетная служба поддерживает указание выходных файлов в службе хранилища Azure для данных задачи при [добавлении отдельной задачи](https://docs.microsoft.com/rest/api/batchservice/add-a-task-to-a-job) или [их коллекции](https://docs.microsoft.com/rest/api/batchservice/add-a-collection-of-tasks-to-a-job) в задание.</span><span class="sxs-lookup"><span data-stu-id="55562-148">With version 2017-05-01, the Batch service adds support for specifying output files in Azure Storage for task data when you [add a task to a job](https://docs.microsoft.com/rest/api/batchservice/add-a-task-to-a-job) or [add a collection of tasks to a job](https://docs.microsoft.com/rest/api/batchservice/add-a-collection-of-tasks-to-a-job).</span></span>

<span data-ttu-id="55562-149">API пакетной службы поддерживает сохранение данных задачи в учетной записи службы хранилища Azure из пулов, созданных с конфигурацией виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="55562-149">The Batch service API supports persisting task data to an Azure Storage account from pools created with the virtual machine configuration.</span></span> <span data-ttu-id="55562-150">С помощью API пакетной службы можно сохранить данные задачи, не изменяя выполняемое этой задачей приложение.</span><span class="sxs-lookup"><span data-stu-id="55562-150">With the Batch service API, you can persist task data without modifying the application that your task runs.</span></span> <span data-ttu-id="55562-151">При именовании файлов, сохраняемых в службе хранилища Azure, можно придерживаться [стандарта соглашений по пакетным файлам](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="55562-151">You can optionally adhere to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) for naming the files that you persist to Azure Storage.</span></span> 

<span data-ttu-id="55562-152">Используйте API пакетной службы для сохранения выходных данных задач в следующих случаях:</span><span class="sxs-lookup"><span data-stu-id="55562-152">Use the Batch service API to persist task output when:</span></span>

- <span data-ttu-id="55562-153">Требуется сохранить данные задач пакетной службы и задач диспетчера заданий в пулах, созданных с конфигурацией виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="55562-153">You want to persist data from Batch tasks and job manager tasks in pools created with the virtual machine configuration.</span></span>
- <span data-ttu-id="55562-154">Требуется сохранить данные в контейнер службы хранилища Azure с произвольным именем.</span><span class="sxs-lookup"><span data-stu-id="55562-154">You want to persist data to an Azure Storage container with an arbitrary name.</span></span>
- <span data-ttu-id="55562-155">Требуется сохранить выходные данные в контейнер службы хранилища Azure в соответствии со [стандартом соглашений по пакетным файлам](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="55562-155">You want to persist data to an Azure Storage container named according to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span></span> 

> [!NOTE]
> <span data-ttu-id="55562-156">API пакетной службы не поддерживает сохранение данных из задач, которые выполняются в пулах, созданных с конфигурацией облачной службы.</span><span class="sxs-lookup"><span data-stu-id="55562-156">The Batch service API does not support persisting data from tasks running in pools created with the cloud service configuration.</span></span> <span data-ttu-id="55562-157">Дополнительные сведения о сохранении выходных данных задач из пулов, использующих конфигурацию облачных служб, см. в разделе [Сохранение данных заданий и задач в службе хранилища Azure с помощью библиотеки соглашений о пакетных файлах для .NET](batch-task-output-file-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="55562-157">For information about persisting task output from pools running the cloud services configuration, see [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md)</span></span>
> 
> 

<span data-ttu-id="55562-158">Дополнительные сведения о сохранении выходных данных задач с помощью API пакетной службы см. в разделе [Сохранение данных для задач в службе хранилища Azure с помощью API пакетной службы](batch-task-output-files.md).</span><span class="sxs-lookup"><span data-stu-id="55562-158">For more information on persisting task output with the Batch service API, see [Persist task data to Azure Storage with the Batch service API](batch-task-output-files.md).</span></span> <span data-ttu-id="55562-159">Кроме того, ознакомьтесь с примером проекта [PersistOutputs][github_persistoutputs] на GitHub, который показывает, как использовать клиентскую библиотеку пакетной службы для .NET, чтобы сохранять выходные данные задач в долговременном хранилище.</span><span class="sxs-lookup"><span data-stu-id="55562-159">Also see the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use the Batch client library for .NET to persist task output to durable storage.</span></span>

### <a name="use-the-batch-file-conventions-library-for-net"></a><span data-ttu-id="55562-160">Использование библиотеки соглашений по пакетным файлам для .NET</span><span class="sxs-lookup"><span data-stu-id="55562-160">Use the Batch File Conventions library for .NET</span></span>

<span data-ttu-id="55562-161">Разработчики, создающие пакетные решения с помощью C# и .NET, могут использовать [библиотеку соглашений по файлам для .NET][nuget_package], чтобы сохранять данные задач в учетной записи службы хранилища Azure согласно [стандарту соглашений по пакетным файлам](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="55562-161">Developers building Batch solutions with C# and .NET can use the [File Conventions library for .NET][nuget_package] to persist task data to an Azure Storage account, according to the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span></span> <span data-ttu-id="55562-162">Библиотека соглашений по файлам обрабатывает перемещение выходных файлов в службу хранилища Azure, а также именование целевых контейнеров и BLOB-объектов хорошо известным образом.</span><span class="sxs-lookup"><span data-stu-id="55562-162">The File Conventions library handles moving output files to Azure Storage and naming destination containers and blobs in a well-known way.</span></span>

<span data-ttu-id="55562-163">Библиотека соглашений по файлам поддерживает выполнение запросов для выходных файлов по идентификатору или назначению, что позволяет легко находить их без составления URI файлов.</span><span class="sxs-lookup"><span data-stu-id="55562-163">The File Conventions library supports querying output files by either ID or purpose, making it easy to locate them without needing the complete file URIs.</span></span> 

<span data-ttu-id="55562-164">Используйте библиотеку соглашений по пакетным файлам для .NET для сохранения выходных данных задач в следующих случаях:</span><span class="sxs-lookup"><span data-stu-id="55562-164">Use the Batch File Conventions library for .NET to persist task output when:</span></span>

- <span data-ttu-id="55562-165">Требуется обеспечить потоковую передачу данных в службу хранилища Azure, пока выполняется задача.</span><span class="sxs-lookup"><span data-stu-id="55562-165">You want to stream data to Azure Storage while the task is still running.</span></span>
- <span data-ttu-id="55562-166">Требуется сохранить данные из пулов, созданных с конфигурацией облачной службы или конфигурации виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="55562-166">You want to persist data from pools created with either the cloud service configuration or the virtual machine configuration.</span></span>
- <span data-ttu-id="55562-167">Клиентское приложение или другие задачи в задании должны находить и скачивать выходные файлы задачи по идентификатору или назначению.</span><span class="sxs-lookup"><span data-stu-id="55562-167">Your client application or other tasks in the job needs to locate and download task output files by ID or by purpose.</span></span> 
- <span data-ttu-id="55562-168">Требуется выполнить сохранение по контрольным точкам или предварительную отправку начальных результатов.</span><span class="sxs-lookup"><span data-stu-id="55562-168">You want to perform check-pointing or early upload of initial results.</span></span>
- <span data-ttu-id="55562-169">Требуется просмотреть выходные данные задачи на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="55562-169">You want to view task output in the Azure portal.</span></span>

<span data-ttu-id="55562-170">Дополнительные сведения о сохранении выходных данных задачи с помощью библиотеки соглашений по файлам для .NET см. в разделе [Сохранение данных заданий и задач в службе хранилища Azure с помощью библиотеки соглашений о пакетных файлах для .NET](batch-task-output-file-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="55562-170">For more information on persisting task output with the File Conventions library for .NET, see [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md).</span></span> <span data-ttu-id="55562-171">Кроме того, ознакомьтесь с примером проекта [PersistOutputs][github_persistoutputs] на GitHub, который показывает, как использовать библиотеку соглашений по файлам для .NET, чтобы сохранять выходные данные задач в долговременном хранилище.</span><span class="sxs-lookup"><span data-stu-id="55562-171">Also see the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use the File Conventions library for .NET to persist task output to durable storage.</span></span>

<span data-ttu-id="55562-172">Ознакомьтесь с примером проекта [PersistOutputs][github_persistoutputs] на GitHub, который показывает, как использовать клиентскую библиотеку пакетной службы для .NET, чтобы сохранять выходные данные задач в долговременном хранилище.</span><span class="sxs-lookup"><span data-stu-id="55562-172">The [PersistOutputs][github_persistoutputs] sample project on GitHub demonstrates how to use the Batch client library for .NET to persist task output to durable storage.</span></span>

### <a name="implement-the-batch-file-conventions-standard"></a><span data-ttu-id="55562-173">Реализация стандарта соглашений по пакетным файлам</span><span class="sxs-lookup"><span data-stu-id="55562-173">Implement the Batch File Conventions standard</span></span>

<span data-ttu-id="55562-174">При работе на языке, отличном от .NET, можно реализовать в приложении [стандарт соглашений по пакетным файлам](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions).</span><span class="sxs-lookup"><span data-stu-id="55562-174">If you are using a language other than .NET, you can implement the [Batch File Conventions standard](https://github.com/Azure/azure-sdk-for-net/tree/vs17Dev/src/SDKs/Batch/Support/FileConventions#conventions) in your own application.</span></span> 

<span data-ttu-id="55562-175">Это может быть уместным, когда требуется проверенная схема именования или нужно просматривать выходные данные задач на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="55562-175">You may want to implement the File Conventions naming standard yourself when you want a proven naming scheme, or when you want to view task output in the Azure portal.</span></span>

### <a name="implement-a-custom-file-movement-solution"></a><span data-ttu-id="55562-176">Реализация пользовательского решения для перемещения файлов</span><span class="sxs-lookup"><span data-stu-id="55562-176">Implement a custom file movement solution</span></span>

<span data-ttu-id="55562-177">Вы также можете реализовать собственное полноценное решение для перемещения файлов.</span><span class="sxs-lookup"><span data-stu-id="55562-177">You can also implement your own complete file movement solution.</span></span> <span data-ttu-id="55562-178">Такой подход применим в следующих случаях:</span><span class="sxs-lookup"><span data-stu-id="55562-178">Use this approach when:</span></span>

- <span data-ttu-id="55562-179">Требуется сохранить данные задачи в хранилище данных, отличном от службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="55562-179">You want to persist task data to a data store other than Azure Storage.</span></span> <span data-ttu-id="55562-180">Чтобы отправить файлы в хранилище данных, например Azure SQL или Azure DataLake, можно создать настраиваемый скрипт или исполняемый файл.</span><span class="sxs-lookup"><span data-stu-id="55562-180">To upload files to a data store like Azure SQL or Azure DataLake, you can create a custom script or executable to upload to that location.</span></span> <span data-ttu-id="55562-181">Затем его можно вызвать в командной строке после запуска основного исполняемого файла.</span><span class="sxs-lookup"><span data-stu-id="55562-181">You can then call it on the command line after running your primary executable.</span></span> <span data-ttu-id="55562-182">Например, на узле Windows можно вызывать две следующие команды:`doMyWork.exe && uploadMyFilesToSql.exe`</span><span class="sxs-lookup"><span data-stu-id="55562-182">For example, on a Windows node, you might call these two commands: `doMyWork.exe && uploadMyFilesToSql.exe`</span></span>
- <span data-ttu-id="55562-183">Требуется выполнить сохранение по контрольным точкам или предварительную отправку начальных результатов.</span><span class="sxs-lookup"><span data-stu-id="55562-183">You want to perform check-pointing or early upload of initial results.</span></span>
- <span data-ttu-id="55562-184">Требуется детально управлять обработкой ошибок.</span><span class="sxs-lookup"><span data-stu-id="55562-184">You want to maintain granular control over error handling.</span></span> <span data-ttu-id="55562-185">Например, может возникнуть потребность в собственном решении, когда нужно использовать действия зависимостей задач для выполнения определенных операций отправки на основе кодов выхода конкретной задачи.</span><span class="sxs-lookup"><span data-stu-id="55562-185">For example, you may want to implement your own solution if you want to use task dependency actions to take certain upload actions based on specific task exit codes.</span></span> <span data-ttu-id="55562-186">Дополнительные сведения о действиях зависимостей задач см. в разделе [Создание зависимостей для выполнения задач, которые зависят от других задач](batch-task-dependencies.md).</span><span class="sxs-lookup"><span data-stu-id="55562-186">For more information on task dependency actions, see [Create task dependencies to run tasks that depend on other tasks](batch-task-dependencies.md).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="55562-187">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="55562-187">Next steps</span></span>

- <span data-ttu-id="55562-188">Познакомьтесь с новыми функциями в API пакетной службы, предназначенными для сохранения данных задачи, в разделе [Сохранение данных для задач в службе хранилища Azure с помощью API пакетной службы](batch-task-output-files.md).</span><span class="sxs-lookup"><span data-stu-id="55562-188">Explore using the new features in the Batch service API to persist task data in [Persist task data to Azure Storage with the Batch service API](batch-task-output-files.md).</span></span>
- <span data-ttu-id="55562-189">Дополнительные сведения об использовании библиотеки соглашений по пакетным файлам для .NET см. в разделе [Сохранение данных заданий и задач в службе хранилища Azure с помощью библиотеки соглашений о пакетных файлах для .NET](batch-task-output-file-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="55562-189">Learn about using the Batch File Conventions library for .NET in [Persist job and task data to Azure Storage with the Batch File Conventions library for .NET to persist ](batch-task-output-file-conventions.md).</span></span>
- <span data-ttu-id="55562-190">Ознакомьтесь с примером проекта [PersistOutputs][github_persistoutputs] на GitHub, который показывает, как использовать клиентскую библиотеку пакетной службы и библиотеку соглашений по файлам для .NET, чтобы сохранять выходные данные задач в долговременном хранилище.</span><span class="sxs-lookup"><span data-stu-id="55562-190">See the [PersistOutputs][github_persistoutputs] sample project on GitHub, which demonstrates how to use both the Batch client library for .NET and the File Conventions library for .NET to persist task output to durable storage.</span></span>

[nuget_package]: https://www.nuget.org/packages/Microsoft.Azure.Batch.Conventions.Files
[portal]: https://portal.azure.com
[storage_explorer]: http://storageexplorer.com/
