---
title: "aaaOverview пакета Azure для разработчиков | Документы Microsoft"
description: "Дополнительные функции hello hello пакетной службы и его API-интерфейсы, с точки зрения разработки."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 416b95f8-2d7b-4111-8012-679b0f60d204
ms.service: batch
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-compute
ms.date: 06/28/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3da9d82572b28d05d1923166bd08c26725ca3316
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="develop-large-scale-parallel-compute-solutions-with-batch"></a>Разработка решений для крупномасштабных параллельных вычислений с использованием пакетной службы

В этом обзоре hello основные компоненты hello пакетной службы Azure мы обсудим функции hello основной службы и ресурсы, что пакет разработчики могут использовать toobuild крупномасштабных параллельных вычислений решения.

Вы разрабатываете распределенные вычислительные приложения или службы, выдает прямой [API-интерфейса REST] [ batch_rest_api] вызовы или вы используете один из hello [пакета SDK](batch-apis-tools.md#azure-accounts-for-batch-development), будет использоваться Многие hello ресурсов и возможности, рассматриваемые в данной статье.

> [!TIP]
> Более высокого уровня toohello введение пакетной службы в разделе [основы пакета Azure](batch-technical-overview.md).
>
>

## <a name="batch-service-workflow"></a>Рабочий процесс пакетной службы
Hello следующий общий рабочий процесс является типичным практически для всех приложений и служб, использующих hello пакетная служба для обработки параллельных рабочих нагрузок:

1. Отправка hello **файлы данных** , которые должны tooprocess tooan [хранилища Azure] [ azure_storage] учетной записи. Пакет включает встроенную поддержку доступа к хранилищу больших двоичных объектов Azure и задачи можно загрузить эти файлы слишком[вычислительных узлов](#compute-node) при выполнении задачи hello.
2. Отправка hello **файлы приложения** выполнения задач. Эти файлы могут быть двоичные файлы или сценарии и их зависимости и выполняемых задач hello в заданиях. Задачи можно загрузить эти файлы из вашей учетной записи хранилища, или можно использовать hello [пакетов приложений](#application-packages) компонентов пакета для развертывания и управления приложениями.
3. Создайте [пул](#pool) вычислительных узлов. При создании пула указываются hello количество вычислительных узлов для hello пула, размер и hello операционной системы. Назначается при запуске каждой задачи в своей работе tooexecute на одном из узлов hello в пуле.
4. Создайте [задание](#job). Задание — это набор задач. Нужно связать каждого задания tooa конкретного пула которых будут выполняться задачи этого задания.
5. Добавить [задачи](#task) toohello задания. Каждая задача запускает приложение hello или скрипт, который вы отправили tooprocess hello данных загружаемых файлов из вашей учетной записи хранилища. Как завершения каждой задачи, ее можно передать его выходные данные tooAzure хранилища.
6. Отслеживание хода выполнения заданий и получить выходные данные задачи hello из хранилища Azure.

Hello следующих разделах рассматриваются эти и hello другие ресурсы пакета, позволяющие сценарию распределенных вычислений.

> [!NOTE]
> Требуется [учетная запись пакетной службы](#account) toouse hello пакетной службы. Кроме того, большинство решений пакетной службы предполагают наличие [учетной записи хранения Azure][azure_storage] для хранения и извлечения файлов. Пакет в настоящее время поддерживает только hello **общего назначения** тип учетной записи хранения, как описано в шаге 5 [создать учетную запись хранилища](../storage/common/storage-create-storage-account.md#create-a-storage-account) в [учетных записей хранилища Azure о](../storage/common/storage-create-storage-account.md).
>
>

## <a name="batch-service-resources"></a>Ресурсы пакетной службы
Некоторые hello следующих ресурсов — учетные записи, вычислительные узлы, пулы, заданий и задач: требуются все решения, использующие hello пакетной службы. Другие ресурсы, например расписания заданий и пакеты приложений, являются полезными дополнительными функциями.

* [Учетная запись.](#account)
* [Вычислительный узел.](#compute-node)
* [Пул.](#pool)
* [Задание.](#job)

  * [Расписания заданий](#scheduled-jobs)
* [Задача.](#task)

  * [Задача запуска](#start-task)
  * [Задача диспетчера заданий](#job-manager-task)
  * [Задачи подготовки и завершения заданий.](#job-preparation-and-release-tasks)
  * [Задачи с несколькими экземплярами](#multi-instance-tasks)
  * [Зависимости задачи](#task-dependencies)
* [Пакеты приложений](#application-packages)

## <a name="account"></a>Учетная запись.
Учетная запись службы Batch является уникально идентифицируемая сущность в hello пакетной службы. Вся обработка данных привязана к учетной записи пакетной службы.

Можно создать учетную запись пакетной службы Azure с помощью hello [портал Azure](batch-account-create-portal.md) или программными средствами, например с hello [библиотека пакета управления .NET](batch-management-dotnet.md). При создании учетной записи hello, можно связать учетную запись хранилища Azure.

### <a name="pool-allocation-mode"></a>Режим распределения пула

При создании учетной записи пакетной службы можно указать способ распределения [пулов](#pool) вычислительных узлов. Пулы tooallocate вычислительные узлы можно выбрать в подписке, управляется пакетной службы Azure, или они могут быть добавлены в подписке. Hello *режим распределения пула* определяет свойства для учетной записи hello которого выделена память для пулов. 

toodecide, что пул toouse режим выделения, рассмотрим, который оптимально подходит для вашего сценария.

* **Пакетная служба**: пакетная служба — hello режим по умолчанию пула распределения, выделенных пулов фоновом hello в подписках Azure под управлением. Необходимо учитывать следующие факты о режиме выделения пула hello пакетной службы.

    - режим распределения пула Hello пакетная служба поддерживает пулы облачной службы и виртуальной машины.
    - Hello режим распределения пула пакетная служба поддерживает оба ключа проверки подлинности с общим или [проверки подлинности Azure Active Directory](batch-aad-auth.md) (Azure AD). 
    - Можно использовать либо выделенный или низким приоритетом вычислительных узлов в пулах, выделенных с помощью режима выделения пула пакетная служба hello.
    - Не используйте режим распределения пула пакетная служба hello при планировании toocreate пулов виртуальных машин Azure из пользовательских образов виртуальной Машины или если планируется toouse виртуальной сети. Создание учетной записи с режимом выделения пула подписки пользователя hello.
    - Подготовки в создании учетной записи с режимом выделения пула пакетная служба hello пулов виртуальных машин, которые должны быть созданы из [виртуальных машин Azure Marketplace] [ vm_marketplace] изображения.

* **Подписки пользователя**: режим выделения пула подписки пользователя hello пулы пакета выделяются в hello подписки Azure, где создается учетная запись hello. Необходимо учитывать следующие факты о режиме выделения пула hello подписки пользователя.
     
    - режим распределения пула подписки пользователя Hello поддерживает только пулы виртуальной машины. Она не поддерживает пулы облачных служб.
    - toocreate виртуальной машины пулов из пользовательских образов виртуальных Машин или toouse виртуальной сети с пулами виртуальной машины, необходимо использовать режим распределения пула hello подписки пользователя.  
    - Необходимо использовать [проверки подлинности Azure Active Directory](batch-aad-auth.md) с пулами, выделенных в подписки пользователя hello. 
    - Если режим выделения пула hello tooUser подписки необходимо настроить хранилище ключей Azure для вашей учетной записи пакетной. 
    - Можно использовать только выделенные вычислительные узлы в пулов в учетной записи, созданных с помощью режима выделения пула подписки пользователя hello. Низкоприоритетные узлы не поддерживаются.
    - Можно создать виртуальную машину пулов, подготовленный в учетную запись, обладающую режим распределения пула hello подписки пользователя, либо из [виртуальных машин Azure Marketplace] [ vm_marketplace] изображения или из пользовательских образов, которые Предоставьте.

Hello в следующей таблице сравниваются hello пакетной службы подписки пользователя пула выделения режимы и.

| **Режим распределения пула**                 | **Пакетная служба**                                                                                       | **Пользовательская подписка**                                                              |
|-------------------------------------------|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| **Место распределения пула**               | Подписка, управляемая Azure                                                                           | в какой hello пакетного создания учетной записи подписки пользователя Hello                        |
| **Поддерживаемые конфигурации**             | <ul><li>Конфигурация облачной службы</li><li>Конфигурация виртуальной машины (Linux и Windows)</li></ul> | <ul><li>Конфигурация виртуальной машины (Linux и Windows)</li></ul>                |
| **Поддерживаемые образы виртуальных машин**                  | <ul><li>Образы из Azure Marketplace</li></ul>                                                              | <ul><li>Образы из Azure Marketplace</li><li>Пользовательские образы</li></ul>                   |
| **Поддерживаемые типы вычислительных узлов**         | <ul><li>Специальные узлы</li><li>Низкоприоритетные узлы</li></ul>                                            | <ul><li>Специальные узлы</li></ul>                                                  |
| **Поддерживаемый тип проверки подлинности**             | <ul><li>Общий ключ</li><li>Azure AD</li></ul>                                                           | <ul><li>Azure AD</li></ul>                                                         |
| **Требуется ли хранилище Azure Key Vault**             | Нет                                                                                                      | Да                                                                                |
| **Квота на ядра**                           | Определяется по квоте на ядра для пакетной службы                                                                          | Определяется по квоте на ядра для подписки                                              |
| **Поддержка виртуальной сети Azure** | Пулы, созданных с помощью hello конфигурацию облачной службы                                                      | Пулы, созданных с помощью hello конфигурации виртуальной машины                               |
| **Поддерживаемая модель развертывания виртуальной сети**      | Виртуальные сети, созданные по классической модели развертывания                                                             | Виртуальных сетей, созданных с помощью hello классической модели развертывания или диспетчера ресурсов Azure |

## <a name="azure-storage-account"></a>Учетная запись хранения Azure

В большинстве решений пакетной службы для хранения файлов ресурсов и выходных файлов используется служба хранилища Azure.  

Пакет в настоящее время поддерживает только тип учетной записи хранилища общего назначения hello, как описано в шаге 5 [создать учетную запись хранилища](../storage/common/storage-create-storage-account.md#create-a-storage-account) в [учетных записей хранилища Azure о](../storage/common/storage-create-storage-account.md). В задачах пакетной службы (включая стандартные задачи, задачи запуска, задачи подготовки и прекращения заданий) необходимо указывать файлы ресурсов, которые находятся в учетных записях хранения общего назначения.


## <a name="compute-node"></a>Вычислительный узел.
Вычислительный узел — виртуальной машины (VM) Azure или облачная служба виртуальных Машин, выделенных tooprocessing часть рабочей нагрузки приложений. размер Hello узла определяет число ядер ЦП, объем памяти и размер локальной файловой системы, выделенный узел toohello hello. Можно создать пулы узлов Windows или Linux с помощью облачных служб Azure, образы из hello [виртуальных машин Azure Marketplace][vm_marketplace], или пользовательские образы, которые вы осуществляете подготовку. В разделе ниже hello [пула](#pool) Дополнительные сведения об этих параметрах.

Узлы можно запустить любой исполняемый файл или сценарий, который поддерживается средой hello операционной системы узла hello. скрипты \*EXE, \*CMD, \*BAT и PowerShell для Windows и двоичные файлы, скрипты оболочки и Python для Linux.

Для всех вычислительных узлов в пакетной службе характерно следующее:

* Стандартная [структура папок](#files-and-directories) и связанные [переменные среды](#environment-settings-for-tasks), на которые могут ссылаться задачи.
* **Брандмауэр** параметры, которые настроены toocontrol доступа.
* [Удаленный доступ](#connecting-to-compute-nodes) tooboth Windows (удаленного рабочего стола (RDP)) и узлы Linux (Secure Shell (SSH)).

## <a name="pool"></a>пул
Пул — это коллекция узлов, на которых выполняется приложение. пул Hello могут создаваться вручную пользователем, или автоматически hello пакетная служба при указании сделать toobe рабочих hello. Можно создавать и управлять пула, который соответствует требованиям hello ресурсов приложения. Пул можно использовать только с учетной записи пакетной hello, в котором он был создан. Учетная запись Пакетной службы может содержать более одного пула.

Azure пулы пакета основаны на hello базовой платформы вычислений Azure. Они предоставляют крупномасштабных распределения, установка приложений, распределение данных, наблюдение за работоспособностью и гибкой настройки hello количество вычислительных узлов в пуле ([масштабирование](#scaling-compute-resources)).

Каждый узел, который будет добавлен пул tooa назначается уникальное имя и IP-адрес. Если узел удаляется из пула, будут потеряны все изменения, внесенные toohello операционной системы или файлы, и его имя и IP-адрес освобождаются для использования в будущем. Когда узел покидает пул, он перестает существовать.

При создании пула можно указать следующие атрибуты hello. Некоторые параметры различаются в зависимости от режима выделения пула hello hello пакета [учетной записи](#account):

- Операционная система и версия вычислительного узла
- Тип вычислительного узла и целевое количество узлов
- Размер hello вычислительных узлов
- Политика масштабирования
- политика планирования задач;
- состояние взаимодействия между вычислительными узлами;
- задачи запуска для вычислительных узлов;
- Пакеты приложений
- Конфигурация сети

Каждый из этих параметров описан более подробно в следующих разделах hello.

> [!IMPORTANT]
> Учетные записи пакетного режимом выделения пула пакетная служба hello имеют Квота по умолчанию, который ограничивает hello количество ядер в учетной записи пакетной. число ядер в Hello соответствует toohello количество вычислительных узлов. Можно найти квот по умолчанию hello и инструкции о том, как слишком[увеличить квоту](batch-quota-limit.md#increase-a-quota) в [квоты и лимиты для пакетной службы Azure hello](batch-quota-limit.md). Если пул не является достижение его целевое количество узлов, квоты ядер hello возможно причина hello.
>
>Учетные записи пакетного режимом выделения пула подписки пользователя hello не предусмотрен квоты службы hello пакета. Вместо этого они совместно используют в hello основная квота для hello указан подписки. Дополнительные сведения см. в разделе [Ограничения виртуальных машин](../azure-subscription-service-limits.md#virtual-machines-limits) в статье [Подписка Azure, границы, квоты и ограничения службы](../azure-subscription-service-limits.md).
>
>

### <a name="compute-node-operating-system-and-version"></a>Операционная система и версия вычислительного узла

При создании пула пакета можно указать hello Azure конфигурации виртуальной машины и операционной системы требуется toorun на каждом вычислительном узле в пуле hello типа hello. Существует два типа Hello конфигураций, доступные в пакете::

- Hello **конфигурации виртуальной машины**, который указывает этот пул hello состоит из виртуальных машин Azure. Эти виртуальные машины могут быть созданы из образов Windows или Linux. 

    При создании пула на основании hello конфигурации виртуальной машины, вы должны указать не только hello размер узлов hello и hello источник изображения, используемые toocreate hello их, но также hello **ссылка на изображение виртуальной машины** и hello Пакет **агента узла SKU** toobe на узлах, hello. Дополнительные сведения об указании этих свойств пула см. в статье [Подготовка вычислительных узлов Linux в пулах пакетной службы Azure](batch-linux-nodes.md).

- Hello **конфигурация облачных служб**, который указывает этот пул hello состоит из узлов облачных служб Azure. Облачные службы предоставляют *только* вычислительные узлы Windows.

    Доступных операционных системах для облачной службы конфигурации пулов, перечислены в hello [выпуски гостевой ОС Azure и Матрица совместимости пакетов SDK](../cloud-services/cloud-services-guestos-update-matrix.md). При создании пула, который содержит узлы облачные службы, необходимо, чтобы размер узла toospecify hello и его *семейства ОС*. Облачные службы являются развернутой tooAzure быстрее, чем виртуальные машины под управлением Windows. Если вам нужны пулы вычислительных узлов Windows, вы можете обнаружить, что облачные службы предоставляют преимущества производительности с точки зрения времени развертывания.

    * Hello *семейства ОС* также определяет, какие версии .NET устанавливаются с hello ОС.
    * Как и рабочих ролей в облачных служб, можно задавать *версия ОС* (Дополнительные сведения о рабочих ролей см. в разделе hello [узнать подробнее об облачных службах](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) раздела hello [облачные службы Общие сведения о](../cloud-services/cloud-services-choose-me.md)).
    * Как с помощью рабочих ролей, рекомендуется указывать `*` для hello *версия ОС* , чтобы узлы hello, автоматически обновляются, и нет toonewly выпущены версии не toocater работ. Hello основном для выбора конкретной версии ОС используются совместимость приложений tooensure, позволяющий тестирования toobe выполняется перед предоставлением toobe версии hello обновлены обратной совместимости. После проверки hello *версия ОС* прерывания и повторно поставлен в очередь для пула hello может обновляться и могут быть установлены hello нового образа ОС — все выполняемые задачи.

При создании пула необходимо tooselect hello соответствующие **nodeAgentSkuId**, в зависимости от hello ОС hello базового образа из вашего виртуального жесткого диска. Сопоставление идентификаторов SKU tootheir доступный узел агента можно получить ссылки на образ операционной системы, вызывающему Привет [SKU агента узла поддерживается список](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) операции.

В разделе hello [учетной записи](#account) сведения о задании режима выделения пула hello при создании учетной записи пакетной.

#### <a name="custom-images-for-virtual-machine-pools"></a>Пользовательские образы для пулов виртуальных машин

toouse пулы виртуальной машины tooprovision пользовательского образа, создайте учетная запись пакетной режим распределения пула hello подписки пользователя. В этом режиме пакет пулы выделяются в подписку hello, где находится учетная запись hello. В разделе hello [учетной записи](#account) сведения о задании режима выделения пула hello при создании учетной записи пакетной.

toouse настраиваемого образа необходимо tooprepare hello образа путем обобщения. Сведения о подготовке пользовательских образов Linux из виртуальных машин Azure см. в разделе [захвата toouse виртуальной Машине Linux Azure как шаблон](../virtual-machines/linux/capture-image-nodejs.md). Сведения о подготовке пользовательских образов под управлением Windows на основе виртуальных машин Azure см. в статье [Создание пользовательского образа виртуальной машины Azure с помощью PowerShell](../virtual-machines/windows/tutorial-custom-images.md). 

> [!IMPORTANT]
> При подготовке настраиваемого образа, имейте в виду следующие hello.
> - Убедитесь, что hello базовый образ ОС используется tooprovision пулов пакета не имеют предварительно установленные расширения, Azure, такие как расширение пользовательского скрипта hello. Если образ hello содержит предварительно установленные расширения, Azure могут возникнуть проблемы, развертывание hello виртуальной Машины.
> - Убедитесь, что hello базовый образ ОС указываемые использует hello временный диск по умолчанию, как hello агента узла пакетной в данный момент ожидает временного диска по умолчанию hello.
>
>

toocreate пула конфигурации виртуальной машины, используя пользовательский образ, потребуется один или несколько стандартных Azure учетных записей хранения toostore пользовательских образов виртуальных жестких ДИСКОВ. Пользовательские образы хранятся в виде больших двоичных объектов. tooreference пользовательских образов при создании пула, укажите идентификаторы URI hello пользовательского образа VHD BLOB-объектов для hello hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) свойство hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) свойство.

Убедиться, что учетные записи хранения отвечают hello следующие критерии:   

- Hello учетных записей хранилища больших двоичных объектов VHD пользовательского образа содержащего hello должны toobe в hello той же подписке, как hello пакетной учетной записи (hello подписки пользователя).
- Hello указан учетные записи хранения должны toobe в hello же регионе, что hello пакетной учетной записи.
- Сейчас поддерживаются только стандартные учетные записи хранения общего назначения. Хранилище Azure Premium будет поддерживаться в будущих hello.
- Вы можете указать одну учетную запись хранения с несколькими большими двоичными объектами пользовательских VHD-файлов или несколькими учетными записями хранения, каждая из которых имеет один большой двоичный объект. Мы рекомендуем toouse несколько учетных записей хранения tooget более высокую производительность.
- Один BLOB-объект уникальный пользовательского образа виртуального жесткого диска может поддерживать too40, экземпляры виртуальной Машины с Linux или 20 экземпляров виртуальной Машины Windows. Вам потребуется toocreate копии пулов toocreate hello VHD BLOB-объектов с больше виртуальных машин. Например, пул с 200 виртуальных машин Windows должна 10 уникальный больших двоичных объектов VHD для hello **osDisk** свойство.

toocreate пул из образа с помощью портала Azure hello:

1. Перейдите tooyour пакетной учетной записи в hello портал Azure.
2. На hello **параметры** колонки, выберите hello **пулы** элемента меню.
3. На hello **пулы** колонки, выберите hello **добавить** команду; hello **Добавление пула** отображается колонку.
4. Выберите **настраиваемое изображение (ОС Linux или Windows)** из hello **тип изображения** раскрывающегося списка. портал Hello отображает hello **настраиваемое изображение** выбора. Выберите один или несколько виртуальных жестких дисков из hello же hello контейнера и нажмите кнопку **выберите** кнопки. 
    Поддержка нескольких виртуальных жестких дисков из разных учетных записей хранения и другие контейнеры будет добавлена в будущем hello.
5. Правильный выбор hello **издателя, предложения и Sku** для пользовательских виртуальных жестких дисков выберите требуемого hello **кэширование** режиме, а затем заполните все hello других параметров для пула hello.
6. toocheck Если кластер основан на настраиваемый образ, см. раздел hello **операционной системы** свойства раздела hello ресурсов сводки hello **пула** колонку. Hello значение этого свойства должно быть **настраиваемый образ операционной системы**.
7. Все пользовательские виртуальные жесткие диски, связанные с пулом, отображаются на hello пула **свойства** колонку.

### <a name="compute-node-type-and-target-number-of-nodes"></a>Тип вычислительного узла и целевое количество узлов

При создании пула можно указать, какие типы вычислительных узлов нужно и hello номер целевой для каждого. Ниже приведены типы Hello двух вычислительных узлов.

- **Выделенные вычислительные узлы.** Выделенные вычислительные узлы зарезервированы для рабочих нагрузок. Они дороже, чем узлы с низким приоритетом, но они гарантировано toonever возможность прерывания.

- **Низкоприоритетные вычислительные узлы.** Узлы с низким приоритетом воспользоваться излишком в Azure toorun рабочих нагрузок пакета. Они экономичнее (дешевле в час) по сравнению с выделенными узлами и выполняют рабочие нагрузки, требующие большого объема вычислительной мощности. Дополнительные сведения см. в статье [Использование низкоприоритетных виртуальных машин в пакетной службе (предварительная версия)](batch-low-pri-vms.md).

    При недостаточном количестве избыточных ресурсов в Azure низкоприоритетные вычислительные узлы замещаются. Если узел прерывается при выполнении задачи, задачи hello повторно поставлен в очередь и снова запустите после вычислительный узел снова станет доступным. Низкий приоритет узлы — это хороший вариант для рабочих нагрузок, где время выполнения задания hello гибок и hello работа распределяется между множество узлов. Прежде чем выбрать узлы toouse низкого приоритета для вашего сценария, убедитесь, что какой-либо работы потеряны из-за toopreemption будут минимальными и легко toorecreate.

    Низкоприоритетные вычислительных узлов, доступны только для пакета учетные записи, созданные с hello пула выделения режимом слишком**пакетная служба**.

Может включать оба низким приоритетом и выделенных вычислительных узлов в hello одного пула. Каждый тип узла &mdash; выделенные и низкого приоритета &mdash; имеет свой собственный постановка задачи, для которого можно указать hello требуемого числа узлов. 
    
Hello количество вычислительных узлов — ссылка tooas *целевой* потому, что в некоторых ситуациях пуле могут не достичь hello требуемого числа узлов. Например, пул не может достичь hello целевой при достижении hello [квоты ядер](batch-quota-limit.md) для вашего пакета учетной записи сначала. Или hello пула не может обеспечить целевой hello, если применено автоматическое масштабирование формулы toohello пул, который ограничивает максимальное количество узлов hello.

Дополнительные сведения о ценах на низкоприоритетные и выделенные вычислительные узлы см. на странице [цен на пакетную службу](https://azure.microsoft.com/pricing/details/batch/).

### <a name="size-of-hello-compute-nodes"></a>Размер hello вычислительных узлов

**конфигурация облачных служб**, приведены в статье [Размеры для облачных служб](../cloud-services/cloud-services-sizes-specs.md). Пакетная служба поддерживает все размеры облачных служб, кроме `ExtraSmall`, `STANDARD_A1_V2` и `STANDARD_A2_V2`.

Размеры вычислительных узлов, доступные в **конфигурации виртуальной машины**, перечислены в статьях [Размеры виртуальных машин в Azure](../virtual-machines/linux/sizes.md) для Linux и [Размеры виртуальных машин в Azure](../virtual-machines/windows/sizes.md) для Windows. Пакетная служба поддерживает все размеры виртуальных машин Azure, кроме `STANDARD_A0`. Для хранилища класса Premium также не поддерживаются размеры таких серий: `STANDARD_GS`, `STANDARD_DS` и `STANDARD_DSV2`.

При выборе узла размер вычислений, рассмотрите возможность характеристики hello и требования hello приложений, которые вы будете запускать приложение на узлах hello. Аспекты, как ли многопоточного приложения hello и объем памяти, он использует может помочь определить размер узла наиболее подходящий и экономически эффективный hello. Это типичный tooselect размер узла, при условии, что одна задача будет выполняться на узле одновременно. Однако это возможно toohave несколько задач (и поэтому нескольких экземпляров приложения) [параллельного выполнения](batch-parallel-node-tasks.md) на вычислительных узлах при выполнении задания. В этом случае это общие toochoose большего узла размер tooaccommodate hello увеличить требование выполнения параллельных задач. Дополнительные сведения см. в описании атрибута [Политика планирования задач](#task-scheduling-policy).

Все узлы hello в пуле, hello же размера. Если предполагалось toorun приложений с различными требованиями системы или загрузить уровней, рекомендуется использовать отдельные пулы.

### <a name="scaling-policy"></a>Политика масштабирования

Для динамических рабочих нагрузок, можно написать и применить [формула автоматического масштабирования](#scaling-compute-resources) tooa пула. Hello пакетная служба периодически оценивает формулу и корректирует hello количество узлов в рамках hello пула на основе различных пула, задания и параметры задачи, которые можно задать.

### <a name="task-scheduling-policy"></a>Политика планирования задач

Hello [Макс. заданий на узел](batch-parallel-node-tasks.md) конфигурации параметр определяет максимальное число задач, которые могут выполняться параллельно на каждом вычислительном узле в пуле hello hello.

Конфигурация по умолчанию Hello указывает, что одна задача одновременно работает на узле, но существуют сценарии, где полезным toohave двух или более задач одновременно выполнять на узле. В разделе hello [пример сценария](batch-parallel-node-tasks.md#example-scenario) в hello [узел параллельных задач](batch-parallel-node-tasks.md) toosee статьи, как можно использовать несколько задач на каждом узле.

Можно также указать *тип заливки* определяющий равномерно распределяет hello задачи для всех узлов в пуле пакет или пакеты каждый узел с hello максимальное число задач перед назначением узел tooanother задачи.

### <a name="communication-status-for-compute-nodes"></a>Состояние взаимодействия между вычислительными узлами

В большинстве случаев задачи друг от друга и не обязательно toocommunicate друг с другом. Но в некоторых приложениях задачи должны взаимодействовать (например, при использовании [задач с несколькими экземплярами](batch-mpi.md)).

Можно настроить tooallow пула **связи между узлами**, после чего узлов в пуле могут обмениваться данными во время выполнения. При включении обмена данными между узлами узлы в пулах с конфигурацией облачных служб могут взаимодействовать друг с другом через порты с номерами выше 1100. При этом пулы с конфигурацией виртуальной машины не ограничивают трафик через какой-либо порт.

Обратите внимание, что включение связи между узлами также влияет на расположение hello hello узлов в кластерах может ограничить максимальное количество узлов в пуле для hello из-за ограничений развертывания. Если приложение не требует связи между узлами, hello пакетной службы можно выделить большим числом узлов toohello пул из многих различных кластеров и центров обработки данных tooenable увеличить power параллельной обработки.

### <a name="start-tasks-for-compute-nodes"></a>Задачи запуска для вычислительных узлов

Необязательный Hello *запустить задачу* выполняет на каждом узле, как этот узел присоединение hello пулу, и каждый раз, когда узел перезапуска или повторного создания образа. Задача запуска Hello особенно полезна для подготовки вычислительных узлов для выполнения задач, таких как установка приложений hello выполняемых задач в вычислительных узлах hello hello.

### <a name="application-packages"></a>Пакеты приложений

Можно указать [пакетов приложений](#application-packages) toodeploy toohello вычислительных узлов в пуле hello. Пакеты приложений предоставляют упрощенное развертывание и управление версиями приложения hello, которые выполняются задачи. Пакеты приложений, которые указываются для пула, устанавливаются на каждый вычислительный узел, который присоединяется к пулу, а также каждый раз, когда узел перезагружается или для него пересоздается образ.

> [!NOTE]
> Пакеты приложений поддерживаются во всех пулах пакетной службы, созданных после 5 июля 2017 г. Они поддерживаются в пулах пакета, созданные между 10 марта 2016 г. и 5 июля 2017 г., только в том случае, если пул hello был создан с помощью конфигурации облачной службы. Пакеты приложений не поддерживают пулы пакета, созданные предыдущей too10 марта 2016 г. Дополнительные сведения об использовании приложения пакетах toodeploy узлы tooyour пакета приложений, в разделе [развертывания приложений toocompute узлов с пакетами приложения пакета](batch-application-packages.md).
>
>

### <a name="network-configuration"></a>Конфигурация сети

Можно указать подсети hello Azure [виртуальной сети (VNet)](../virtual-network/virtual-networks-overview.md) в какой hello пул вычислительных узлов должны создаваться. В разделе hello [сетевой конфигурации пула](#pool-network-configuration) Дополнительные сведения.


## <a name="job"></a>Задание
Задание представляет собой набор задач. Он управляет, как выполняется вычисление задачами на вычислительных узлах hello в пуле.

* Задание Hello указывает hello **пула** в какой hello работа будет toobe запуска. Вы можете создавать отдельный пул для каждого задания или использовать один пул для множества заданий. Кроме того, вы можете создавать пул для каждого задания, включенного в расписание, или единый пул для всех заданий в одном расписании.
* Вы можете указать **приоритет задания**, но это необязательный параметр. При отправке задания с более высоким приоритетом, чем задания, выполняемые задачи hello hello более высокий приоритет задания добавляются в очередь hello раньше задачи для задания hello более низким приоритетом. Задачи с более низким приоритетом, которые уже выполняются, прерываться не будут.
* Можно использовать задание **ограничения** toospecify некоторые ограничения для заданий:

    Можно задать **wallclock максимальное время**таким образом, если задание выполняется дольше заданного максимального wallclock времени hello, завершаются задания hello и всех его задач.

    Пакетная служба может обнаруживать и повторно выполнять незавершенные задачи. Можно указать hello **максимальное количество повторов задачи** как ограничение, является ли задача *всегда* или *никогда не* повторено. Повторение задачи означает, что эта задача hello будет toobe повторно поставлен в очередь, снова запустите.
* Клиентское приложение может добавить задание tooa задач или указать [задачи диспетчера заданий](#job-manager-task). Задачи диспетчера заданий содержит hello сведения, необходимые toocreate hello необходимые задачи для задания, с помощью задачи диспетчера заданий hello, выполняются на одном из hello вычислительных узлов в пуле hello. Hello задачи диспетчера заданий обработки специально с пакетной--он помещается в очередь как можно скорее hello задание создается и перезапускается, если происходит сбой. Задачи диспетчера заданий — *необходимые* для заданий, созданных [расписания задания](#scheduled-jobs) так как это hello единственным способом toodefine hello задачи перед созданием задания hello.
* По умолчанию задания остаются в активном состоянии hello после выполнения всех задач в задании hello. Это поведение можно изменить, чтобы hello задания автоматически прекращается после завершения всех задач в задании hello. Задание набора hello **onAllTasksComplete** свойство ([OnAllTasksComplete] [ net_onalltaskscomplete] в пакете .NET) слишком*terminatejob* tooautomatically завершить задание hello, если все задачи находятся в состоянии завершения hello.

    Обратите внимание, что служба Batch hello считает, что задание с *не* toohave задачи завершены все его задачи. Поэтому этот параметр чаще всего используется с [задачами диспетчера заданий](#job-manager-task). Если вы хотите toouse завершения автоматического задания без диспетчера заданий, изначально необходимо задать новое задание **onAllTasksComplete** свойство слишком*noaction*, установите для него слишком*terminatejob* только после завершения задания toohello задачи.

### <a name="job-priority"></a>приоритет задания
Можно назначить toojobs приоритет, созданного в пакете. Hello пакетная служба использует значение приоритета hello hello задания toodetermine hello порядок планирования заданий в учетной записи (не путать с toobe [запланированное задание](#scheduled-jobs)). значения приоритета Hello в диапазоне от -1000 too1000, с -1000 является низким приоритетом hello и 1000, hello высокий. tooupdate hello приоритет задания, вызов hello [обновление свойств hello задания] [ rest_update_job] операции (пакета REST), или изменить hello [CloudJob.Priority] [ net_cloudjob_priority] свойство (пакета .NET).

В рамках hello учетную запись, более высокий приоритет задания имеют расписание приоритет над задания с более низким приоритетом. Задания с более высоким приоритетом, относящиеся к одной учетной записи, не имеют преимущества при планировании относительно других заданий с более низким приоритетом, относящихся к другой учетной записи.

Задания распределяются по пулам независимо друг от друга. Если используется несколько пулов, задание с более высоким приоритетом не обязательно будет выполняться первым. Задание задерживается, если в связанном с ним пуле недостаточно свободных узлов. В hello же пуле заданий с hello таким же уровнем приоритета имеют одинаковую вероятность расписанию.

### <a name="scheduled-jobs"></a>Запланированные задания
[Задание расписания] [ rest_job_schedules] позволяют toocreate повторяющихся заданий в hello пакетной службы. Расписание задания указывает, когда toorun заданий и включает в себя спецификации hello для запуска toobe заданий hello. Можно указать длительность hello hello расписания — время и при hello расписание действует--и как часто задания создаются во время hello запланированного периода.

## <a name="task"></a>Задача
Задача представляет собой единицу вычисления, которая связана с заданием и выполняется на узле. Задачи назначаются tooa узел для выполнения или помещаются в очередь, пока не освободится узла. Проще говоря, задача выполняет один или несколько программ или сценариев в вычислительный узел tooperform hello стоящих перед вами сделать.

При создании задачи можно указать следующее:

* Hello **командной строки** для задачи «hello». Это hello командную строку, которая запускает приложения или сценария на вычислительном узле hello.

    Очень важно, что toonote, hello командной строки не фактически выполняется в оболочке. Таким образом, он не может принимать изначально преимуществами функции оболочки, например [переменной среды](#environment-settings-for-tasks) расширения (сюда входят hello `PATH`). tootake преимущества таких функций необходимо вызвать оболочки hello в командной строке hello — например, путем запуска `cmd.exe` на узлах Windows или `/bin/sh` в Linux:

    `cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

    `/bin/sh -c MyTaskApplication $MY_ENV_VAR`

    Если задачи должны toorun приложению или сценарию, который не находится в hello узла `PATH` или ссылок на переменные среды, вызов оболочки hello явно в hello задачи командной строки.
* **Файлы ресурсов** , содержащие toobe данных hello обработки. Эти файлы являются узел toohello автоматически копируются из хранилища больших двоичных объектов в учетной записи хранилища Azure общего назначения, перед выполнением задачи hello командной строки. Дополнительные сведения см. в разделе разделы hello [задачи запуска](#start-task) и [файлов и каталогов](#files-and-directories).
* Hello **переменных среды** , требуемые для приложения. Дополнительные сведения см. в разделе hello [параметры среды для задачи](#environment-settings-for-tasks) раздела.
* Hello **ограничения** под какие hello должна выполняться задача. К примеру, следующие ограничения максимального времени hello задачи hello допускается toorun hello максимальное количество раз, следует повторить задачи, завершившейся сбоем, а hello максимальное время сохраняются файлы в рабочий каталог hello задач.
* **Пакеты приложений** toodeploy toohello вычислительного узла, на какие hello задача — запланированных toorun. [Пакеты приложений](#application-packages) предоставляют упрощенное развертывание и управление версиями приложения hello, которые выполняются задачи. Пакеты приложений уровня задач особенно полезны в общий пул средах, где различные задания выполняются на один пул и пул hello не удаляется при завершении задания. Если в задании содержится меньшее количество задач, чем узлы в пуле hello, пакеты приложения задач можно свести к минимуму передачи данных так, как приложение будет развернутой toohello только узлы, выполнять задачи.

В дополнение к этому tootasks, определять вычисления tooperform на узле, hello следующие специальные действия также обеспечивается hello пакетной службы:

* [Задача запуска](#start-task)
* [Задача диспетчера заданий](#job-manager-task)
* [Задачи подготовки и завершения заданий.](#job-preparation-and-release-tasks)
* [Задачи с несколькими экземплярами](#multi-instance-tasks)
* [Зависимости задачи](#task-dependencies)

### <a name="start-task"></a>Задача запуска
Связав **запустить задачу** с пулом, можно подготовить hello операционной среде из его узлов. Например можно выполнять действия, как установка приложения hello, выполняемых задач или запуск фоновых процессов. Задача запуска Hello выполняется каждый раз при загрузке узла, при условии, что он остается в пуле hello — в том числе hello узел сначала добавлена toohello пул и при его перезапуска или повторного создания образа.

Основным преимуществом hello задачи запуска — что он может содержать все hello сведения, необходимые tooconfigure вычислительных узлов и устанавливать приложения hello, необходимые для выполнения задачи. Таким образом увеличение числа hello узлов в пуле похож на определение hello. количество новых целевой узел. Задача запуска Hello сведения hello пакетной службы hello, необходимые tooconfigure hello новых узлов и подготовить их для принятия задачи.

Как и в любой задаче пакетной службы Azure, можно указать список **файлы ресурсов** в [хранилища Azure][azure_storage], кроме tooa **командной строки** toobe выполнена. Пакетная служба Hello сначала копирует узел toohello hello ресурсов файлы из хранилища Azure, а затем запускается hello командной строки. Для задачи запуска пула список файлов hello обычно содержит приложение hello задач и его зависимости.

Тем не менее задача запуска hello также может включать ссылку toobe данные, используемые всех задач, выполняющихся на вычислительном узле hello. Например, может выполнять задачи запуска командной строки `robocopy` операции toocopy файлы приложения (которые были заданы как файлы ресурсов и загружен узел toohello) из hello запуск задачи [рабочий каталог](#files-and-directories) toohello [общую папку](#files-and-directories), а затем запустите MSI-ФАЙЛ или `setup.exe`.

Желательно, обычно для hello пакетной службы toowait для hello начала задачи toocomplete прежде чем hello узел готов toobe назначенных задач, но это можно настроить.

При сбое запуска задачи на вычислительном узле, затем hello hello узел находится в состоянии сбоя обновленные tooreflect hello и все задачи, не назначен узел hello. Задача запуска может завершиться ошибкой, если имеется проблема копирования ее файлов ресурсов из хранилища, или выполняется с помощью его командной строки процесс hello возвращает ненулевой код выхода.

При добавлении или обновлении hello задачи запуска для существующего пула, необходимо перезагрузить его вычислительные узлы для hello начальных задач toobe применения toohello узлов.

>[!NOTE]
> Hello общий размер задачи запуска должен быть меньше или равно too32768 символов, включая файлы ресурсов и переменные среды. tooensure, ваша задача запуска соответствует этим требованиям, можно использовать один из двух методов:
>
> 1. Можно использовать toodistribute пакетов приложений приложения или данные на каждый узел в пуле пакета. Дополнительные сведения о пакетах приложений см. в разделе [развертывания приложений toocompute узлов с пакетами приложения пакета](batch-application-packages.md).
> 2. Можно вручную создать ZIP-архив с файлами приложения. Отправьте ваш ZIP-архив tooAzure хранилища как большой двоичный объект. Укажите hello ZIP-архив, как файл ресурсов для запуска задачи. Перед запуском hello командной строки для запуска задачи, распакуйте архив hello из командной строки hello. 
>
>    toounzip hello архива, можно использовать средство по вашему выбору архивации hello. Вам потребуется использовать toounzip hello архив, как файл ресурсов для задачи запуска hello средство hello tooinclude.
>
>

### <a name="job-manager-task"></a>Задача диспетчера заданий
Как правило, используется **задачи диспетчера заданий** toocontrol и/или монитор задания выполнения — например, toocreate и отправить hello задачи для задания, определить дополнительные задачи toorun и определить, когда работа будет завершена. Однако задача диспетчера заданий не ограниченных toothese действий. Это полностью полноценным календарным задачу, которая может выполнять любые действия, необходимые для задания hello. Например задача диспетчера заданий может загрузить файл, который указан в качестве параметра, анализ hello содержимое этого файла и отправить дополнительные задачи, в зависимости от их содержимого.

Задача диспетчера заданий запускается перед выполнением всех других задач. Он предоставляет hello следующие атрибуты:

* Он автоматически передается как задача по hello пакетная служба при создании задания hello.
* Он является запланированных tooexecute перед hello других задач в задании.
* Его связанный узел является последней toobe hello удаления из пула при идет downsized hello пула.
* Его завершения может быть равноценных toohello завершения всех задач в задании hello.
* Задачи диспетчера заданий имеет наивысший приоритет hello необходимости перезапуска toobe. Если узел простоя недоступен, hello пакетная служба может завершить одну из hello других запущенных задач в комнате toomake hello пула для toorun задачи диспетчера заданий hello.
* Задачи диспетчера заданий в одно задание не имеют приоритет над задачи hello других заданий. Приоритеты между заданиями определяются только на уровне заданий.

### <a name="job-preparation-and-release-tasks"></a>Задачи подготовки и завершения заданий.
Для настройки среды выполнения задания в пакетной службе предусмотрена задача подготовки задания, а для очистки или обслуживания по окончании задания — задача завершения задания.

* **Задача подготовки задания**: запускает задачу подготовки задания на всех узлах вычисления, которые являются задачами запланированных toorun, перед любым hello выполняются другие задания задачи. Можно использовать данные toocopy задания подготовки задач является общим для всех задач, но является уникальным toohello задания, например.
* **Задачи прекращения задания**: после завершения задания выпуска рабочее задание выполняется на каждом узле в пуле hello, выполняется хотя бы одна задача. Можно использовать toodelete данных задания выпуска задачи, который копируется в задачу подготовки задания hello или toocompress и передачи диагностических данных журнала, например.

Оба задания подготовки и выпуска задачи позволяют toospecify toorun командной строки при вызове задачи hello. Они предоставляют такие возможности, как загрузка файлов, выполнение с повышенными правами, пользовательские переменные среды, максимальная продолжительность выполнения, число повторных попыток и время хранения файла.

Дополнительные сведения о задачах подготовки и завершения заданий см. в статье [Выполнение задач подготовки и завершения заданий на вычислительных узлах пакетной службы Azure](batch-job-prep-release.md).

### <a name="multi-instance-task"></a>Задачи с несколькими экземплярами
Объект [многоэкземплярные задача](batch-mpi.md) — задача, которая одновременно является настроенным toorun на нескольких вычислительных узлов. С несколькими экземплярами задачами, можно включить высокопроизводительных вычислительных сценариев, требующих группу вычислительных узлов, распределенные совместно tooprocess одной рабочей нагрузки (такие как интерфейса передачи сообщений (MPI)).

Подробное описание выполнения заданий MPI в пакете с помощью библиотеки .NET пакета hello извлечь [несколькими экземплярами использования задачи toorun приложений интерфейса передачи сообщений (MPI) в пакете Azure](batch-mpi.md).

### <a name="task-dependencies"></a>Зависимости задачи
[Зависимости задач](batch-task-dependencies.md), как hello названия, позволяющих toospecify, задача зависит от выполнения других задач, перед его выполнением hello. Эта возможность обеспечивает поддержку для ситуаций, в которых задачу «подчиненный» использует выход hello задачу «вышестоящего»--или когда вышестоящего задача выполняет некоторые инициализации, которые требуются для подчиненных задач. toouse эту функцию необходимо зависимостей задач первого включения на данного пакетного задания. Затем для каждой задачи, зависит от другого (или многие другие), можно указать задачи hello которых зависит от задачи.

С зависимостями задач можно настроить сценарии hello следующим образом:

* Задача *taskB* зависит от задачи *taskA* (выполнение задачи *taskB* не начнется, пока не завершится выполнение задачи *taskA*).
* Задача *taskC* зависит от задач *taskA* и *taskB*.
* Задача *taskD* зависит от ряда задач — от задачи *1* до задачи *10*.

Извлечение [зависимости в пакете Azure задач](batch-task-dependencies.md) и hello [TaskDependencies] [ github_sample_taskdeps] образец кода в hello [образцы azure пакета] [ github_samples] Репозиторий GitHub для подробных сведений об этой функции.

## <a name="environment-settings-for-tasks"></a>Параметры среды для задач
Каждая задача, выполняемая hello пакетная служба имеет доступ tooenvironment переменные, которые он устанавливает для вычислительных узлов. Это включает в себя переменные среды, определяемый hello пакетная служба ([определенные службы][msdn_env_vars]) и пользовательские переменные, которые можно определить для ваших задач. приложения Hello и сценарии, которые выполнение задач имеют доступ к переменным среды toothese во время выполнения.

Пользовательские переменные можно задать на уровне задачи или задания hello, заполняя hello *параметры среды* свойства для этих сущностей. Например, в разделе hello [добавить задание tooa задачи] [ rest_add_task] операции (API REST пакетной) или hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] и [ CloudJob.CommonEnvironmentSettings] [ net_job_env] свойств в пакете .NET.

Клиентское приложение или служба можно получить переменные среды задач, как служба определена и настраиваемые, с помощью hello [получить сведения о задаче] [ rest_get_task_info] операции (пакета REST) или путем доступа к Hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] свойство (пакета .NET). Процессы, выполняемые на вычислительном узле можно получить к ним доступ и других переменных среды на узле hello, например, с помощью hello знакомый `%VARIABLE_NAME%` (Windows) или `$VARIABLE_NAME` синтаксис (Linux).

Полный список всех служебных переменных среды см. в статье [Azure Batch compute node environment variables][msdn_env_vars] (Переменные среды вычислительного узла пакетной службы Azure).

## <a name="files-and-directories"></a>Файлы и каталоги
У каждой задачи есть *рабочий каталог*, в котором она может создавать дополнительные файлы и каталоги. Эта рабочая папка может использоваться для хранения программы hello, выполняемой задачей «hello», hello обрабатываемых данных, и hello выходных hello обработки, выполняемые ею. Все файлы и каталоги, задачи, принадлежащие hello задачу пользователя.

Hello пакетная служба предоставляет часть hello файловой системы на узле, что hello *корневой каталог*. Задачи могли обращаться к корневому каталогу hello, ссылаясь на hello `AZ_BATCH_NODE_ROOT_DIR` переменной среды. Дополнительные сведения об использовании переменных среды см. в разделе [Параметры среды для задач](#environment-settings-for-tasks).

Hello корневой каталог содержит hello следующая структура каталогов:

![Структура каталогов вычислительного узла][1]

* **общий**: этот каталог предоставляет доступ на чтение и запись слишком*все* задачи, выполняемые на узле. Любая задача, которая работает на узле hello можно создать, чтение, обновление и удаление файлов в этом каталоге. Задачи могли обращаться к этой папке, ссылаясь на hello `AZ_BATCH_NODE_SHARED_DIR` переменной среды.
* **startup**— этот каталог используется задачей запуска в качестве рабочего каталога. Здесь хранятся все файлы hello, загруженный toohello узел hello запуска задачи. Задача запуска Hello можно создать, чтение, обновление и удаление файлов в этот каталог. Задачи могли обращаться к этой папке, ссылаясь на hello `AZ_BATCH_NODE_STARTUP_DIR` переменной среды.
* **Задачи**: каталог создается для каждой задачи, которая работает на узле hello. При доступе с помощью ссылки на hello `AZ_BATCH_TASK_DIR` переменной среды.

    В каждый каталог задач hello пакетная служба создает рабочий каталог (`wd`), уникальный путь которого задается hello `AZ_BATCH_TASK_WORKING_DIR` переменной среды. Этот каталог предоставляет задаче toohello доступа на чтение и запись. задачу Hello можно создать, чтение, обновление и удаление файлов из этого каталога. Этот каталог хранится на основании hello *RetentionTime* ограничение, которое указано для задачи «hello».

    `stdout.txt`и `stderr.txt`: эти файлы записываются toohello задач папки во время выполнения hello задачи «hello».

> [!IMPORTANT]
> После удаления узла из пула hello *все* из hello удаляются файлы, хранящиеся на узле hello.
>
>

## <a name="application-packages"></a>Пакеты приложений
Hello [пакетов приложений](batch-application-packages.md) предоставляет удобные возможности для управления и развертывания приложений toohello вычислительных узлов в пулов. Можно загрузить и управления версиями приветствия приложения выполнять несколько задач, включая их двоичные файлы и файлы поддержки. Затем можно автоматически развертывать один или несколько из этих приложений toohello вычислительных узлов в пуле.

Можно указать пакетов приложений на уровне пула и задача hello. При указании пакетов пула приложений приложения hello — развернутой tooevery узел в пул hello. При указании задачи пакетов приложений, приложение hello развернутой только toonodes, запланированных toorun по крайней мере одно задание hello задач, непосредственно перед hello задачи Командная строка должна выполняться.

Обрабатывает пакет hello информацию о работе с toostore хранилища Azure пакеты приложения и развертывать узлы toocompute, благодаря которым издержки управления и кода можно упростить.

toofind подробные сведения о функции пакета приложение hello, извлечь [развертывания приложений toocompute узлов с пакетами приложения пакета](batch-application-packages.md).

> [!NOTE]
> При добавлении пула приложений пакеты tooan *существующие* пула, необходимо перезагрузить его вычислительных узлов для узлов toohello toobe развернуть пакеты приложения hello.
>
>

## <a name="pool-and-compute-node-lifetime"></a>Время существования пула и вычислительного узла
При разработке решения пакетной службы Azure, у вас toomake решение о том, как и при создании пулов и как долго вычислительные узлы в пределах этих пулов остаются доступными.

На одном конце спектра hello можно создать пул для каждого задания, которые можно отправить и удалить пул hello сразу после завершения выполнения ее задач. Это повышает использования, так как узлы hello выделяются только при необходимости и завершена, как только они становятся простоя. Это означает, что задания hello необходимо дождаться выделенной toobe узлы hello, является важным toonote, задачи, планируются на выполнение, как только узлы доступны по отдельности, выделен и hello задача запуска завершена. Пакет *не* подождать, пока доступны все узлы в пуле перед назначением задачи toohello узлов. Это позволяет обеспечить максимально эффективное использование ресурсов.

В hello другом конце спектра hello, если наличие немедленного запуска задания является наивысшим приоритетом hello, можно создать пул заранее и освободить его узлов перед отправкой задания. В этом сценарии задачи можно запустить немедленно, но узлы могут простаивают в ожидании их toobe назначен.

Смешанный подход обычно используется для обработки постоянной нагрузки, интенсивность которой изменяется. Имеется пул несколько заданий будут отправлены, что можно масштабировать hello количество узлов вверх или вниз toohello загрузку задания в соответствии с (в разделе [масштабирование вычислительных ресурсов](#scaling-compute-resources) в следующем разделе hello). Масштабирование можно выполнять по мере изменения интенсивности нагрузки или с упреждением, если нагрузка является прогнозируемой.

## <a name="virtual-network-vnet-and-firewall-configuration"></a>Конфигурация виртуальной сети и брандмауэра 

При подготовке пул вычислительных узлов в пакете Azure можно связать с подсетью Azure hello пула [виртуальной сети (VNet)](../virtual-network/virtual-networks-overview.md). в разделе toolearn Дополнительные сведения о создании виртуальной сети с подсетями, [создать виртуальную сеть Azure с подсетями](../virtual-network/virtual-networks-create-vnet-arm-pportal.md). 

 * Hello виртуальной сети, связанных с пулом должен быть:

   * В hello же Azure **область** как hello учетной записи пакетной службы.
   * В hello же **подписки** как hello учетной записи пакетной службы.

* Hello тип виртуальной сети поддерживается зависит от того, как пулы выделяемых для hello пакетной учетной записи:

    - Если режим распределения пула hello для вашей учетной записи пакетной задано tooBatch службы, то можно назначить только toopools виртуальной сети, созданных с помощью hello **конфигурация облачных служб**. Кроме того hello указанный виртуальной сети должен быть создан с hello классической модели развертывания. Виртуальных сетей, созданных с помощью модели развертывания диспетчера ресурсов Azure hello не поддерживаются.
 
    - Если режим распределения пула hello для вашей учетной записи пакетной задано tooUser подписки, то можно назначить только toopools виртуальной сети, созданных с помощью hello **конфигурации виртуальной машины**. Пулы, созданных с помощью hello **конфигурацию облачной службы** не поддерживаются. Здравствуйте, связанной виртуальной сети может быть создан с помощью модели развертывания диспетчера ресурсов Azure hello или hello классической модели развертывания.

    Таблица, содержащая поддержки виртуальной сети toopool режим выделения, в соответствии с разделе hello [режим распределения пула](#pool-allocation-mode) раздела.

* Если hello режим распределения пула для вашей учетной записи пакетной службы tooBatch, то необходимо указать, что разрешения для hello tooaccess основного пакета службы hello виртуальной сети. Hello виртуальной сети необходимо назначить hello [Classic Virtual Machine Contributor Role-Based управления доступом (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) участника роли toohello пакетной службы. Если указан hello RBAC роли не указано, hello пакетная служба возвращает 400 (неправильный запрос). роль tooadd hello в hello портала Azure:

    1. Выберите hello **виртуальной сети**, затем **(IAM) управления доступом к** > **ролей** > **участника виртуальной машины**  >  **Добавить**.
    2. На hello **добавить разрешения** колонки, выберите hello **участника виртуальной машины** роли.
    3. На hello **добавить разрешения** колонки, поиск hello API пакета. Поиск каждая из этих строк в свою очередь пока не найдете hello API:
        1. **MicrosoftAzureBatch**;
        2. **Microsoft Azure Batch**. Более новые клиенты Azure AD могут использовать это имя.
        3. **ddbf3205-c6bd-46ae-8127-60eb93363864** идентификатор hello hello API пакета. 
    3. Выберите hello субъект-служба API пакета. 
    4. Щелкните **Сохранить**.

        ![Назначить участника-службы tooBatch роль участника виртуальной Машины](./media/batch-api-basics/iam-add-role.png)


* Hello указан подсети должен быть достаточно свободного **IP-адреса** tooaccommodate hello общее количество целевых узлов; то есть hello сумма hello `targetDedicatedNodes` и `targetLowPriorityNodes` свойства пула hello. Если подсеть hello не имеет достаточно свободного IP-адресов, hello пакетная служба частично выделяет hello вычислительных узлов в пуле hello и возвращает ошибку изменения размера.

* Hello указанный подсети должны разрешать подключения от службы toobe hello пакета может tooschedule задачи на вычислительных узлах hello. Отклонен если toohello связи вычислительных узлов **группы безопасности сети (NSG)** связанные с hello виртуальной сети, то hello пакетная служба устанавливает состояние hello hello вычислительные узлы слишком**непригодным для использования**.

* Если указан hello связанной виртуальной сети **группы безопасности сети (Nsg)** и/или **брандмауэра**, то необходимо включить несколько зарезервированным системным порты для входящих сообщений:

- Для пулов, созданных с помощью конфигурации виртуальной машины, включите порты 29876 и 29877, а также порт 22 для Linux и порт 3389 для Windows. 
- Для пулов, созданных с помощью конфигурации облачной службы, включите порты 10100, 20100 и 30100. 
- Разрешить исходящие подключения tooAzure хранилища через порт 443. Также убедитесь, что конечная точка службы хранилища Azure может разрешаться на всех пользовательских DNS-серверах, используемых в виртуальной сети. В частности, URL-адреса формы hello `<account>.table.core.windows.net` должен быть разрешаемым.

    Hello следующей таблице описаны hello входящие порты, необходимые для пулов, созданные с помощью конфигурации виртуальной машины hello tooenable:

    |    Конечные порты    |    Исходный IP-адрес      |    Добавляет ли пакетная служба группы NSG?    |    Требуется для виртуальной Машины toobe можно использовать?    |    Действие пользователя   |
    |---------------------------|---------------------------|----------------------------|-------------------------------------|-----------------------|
    |    <ul><li>Для пулов, созданных с помощью конфигурации виртуальной машины hello: 29876, 29877</li><li>Для пулов, созданных с помощью hello конфигурацию облачной службы: 10100, 20100, 30100</li></ul>         |    Только IP-адреса для ролей пакетной службы |    Да. Пакет добавляет Nsg на уровне hello tooVMs интерфейсов (NIC), подключенных по сети. Группы NSG пропускают трафик только с IP-адресов для ролей пакетной службы. Даже если открыть эти порты для всего веб-hello, трафик hello происходит блокировка на hello сетевого адаптера. |    Да  |  Необязательно toospecify NSG, так как пакет допускает только пакета IP-адреса. <br /><br /> Если вы все же укажете NSG, убедитесь, что эти порты открыты для входящего трафика. <br /><br /> При указании * hello исходный IP-адрес в вашей NSG, пакет по-прежнему добавляет Nsg на уровне сетевого Адаптера, подключенного tooVMs hello. |
    |    3389, 22               |    Машины пользователя используются для отладки, так что можно получить доступ к hello виртуальной Машины.    |    Нет                                    |    Нет                     |    Если toohello toopermit удаленного доступа (RDP/SSH) виртуальной Машины, добавьте Nsg.   |                 

    Hello в следующей таблице описываются исходящий порт hello необходимые tooenable toopermit доступа tooAzure хранилища.

    |    Исходящие порты    |    Место назначения    |    Добавляет ли пакетная служба группы NSG?    |    Требуется для виртуальной Машины toobe можно использовать?    |    Действие пользователя    |
    |------------------------|-------------------|----------------------------|-------------------------------------|------------------------|
    |    443    |    Хранилище Azure    |    Нет    |    Да    |    Если добавить любые Nsg, а затем убедитесь, что этот порт — это открыть toooutbound трафик.    |


## <a name="scaling-compute-resources"></a>Масштабирование вычислительных ресурсов
С [автоматическое масштабирование](batch-automatic-scaling.md), может иметь hello пакетная служба динамически настраивать hello количество вычислительных узлов в пул в соответствии с toohello текущей рабочей нагрузки и использование ресурсов сценария вычислений. Это позволяет toolower hello общей стоимости эксплуатации приложения с помощью только ресурсы hello необходима, и их освобождения не требуется.

Чтобы включить автоматическое масштабирование, необходимо написать [соответствующую формулу](batch-automatic-scaling.md#automatic-scaling-formulas) и связать ее с пулом. Hello пакетная служба использует hello формулы toodetermine hello целевое количество узлов в пуле hello для масштабирования следующего интервала hello (интервал, можно настроить). Hello параметры автоматического масштабирования для пула можно указать при ее создании или включить позже масштабирование в пуле. Можно также обновить hello масштабирование параметры в пуле с поддержкой масштабирования.

Например возможно заданиям необходимы, отправки очень большое количество toobe задачи выполнены. Можно назначить пулу формулы toohello масштабирования соотнесения hello количество узлов в hello пула на основании hello текущее количество задач в очереди и частота завершения hello hello задач в задании hello. Hello пакетная служба периодически оценивает формула hello и изменяет размер пула hello, на основе рабочей нагрузки и других параметров формулы. Служба Hello добавляет узлы при необходимости, при наличии большого числа в очереди задач и удаляет узлы, если нет задач в очереди или не запущены.

Формулы масштабирования могут быть основаны на hello следующие метрики:

* **Метрик времени** на основе статистических данных собираются каждые пять минут в hello указанное количество часов.
* **Метрики ресурсов** — зависят от показателей загрузки ЦП, использования пропускной способности и памяти, а также количества узлов.
* **Метрики задач** зависят от состояния задачи: *Активная* (в очереди), *Выполняется* или *Завершена*.

После автоматического масштабирования уменьшения hello количество вычислительных узлов в кластер, необходимо учитывать, как toohandle задачи, которые выполнялись во время hello hello уменьшить операции. tooaccommodate, пакет предоставляет *параметр освобождения узла* , можно включить в формулах. Например можно указать, что выполнение задач немедленно остановлена, немедленно остановлена и затем повторно поставлен в очередь для выполнения на другом узле или только при разрешенных toofinish hello узел удаляется из пула hello.

Подробные сведения об автоматическом масштабировании приложения см. в статье [Автоматическое масштабирование вычислительных узлов в пуле пакетной службы Azure](batch-automatic-scaling.md).

> [!TIP]
> toomaximize вычислений использования ресурсов, hello окончании задания укажите hello целевое количество узлов toozero, но разрешить toofinish выполнение задачи.
>
>

## <a name="security-with-certificates"></a>Безопасность с использованием сертификатов
Обычно нужно toouse сертификаты при зашифровать или расшифровать конфиденциальные сведения для задач, таких как ключ hello для [учетной записи хранилища Azure][azure_storage]. toosupport это, можно установить сертификаты на узлах. Зашифрованные секретные данные передавались tootasks через параметры командной строки или в один из ресурсов задач hello и hello установлены сертификаты можно использовать toodecrypt их.

Использовать hello [добавить сертификат] [ rest_add_cert] операции (пакета REST) или [CertificateOperations.CreateCertificate] [ net_create_cert] метода (пакета .NET) tooadd tooa сертификат учетной записи пакетной службы. Затем можно связать hello сертификат с помощью нового или существующего пула. Если сертификат связан с пулом, hello пакетная служба устанавливает сертификат hello на каждом узле в пуле hello. Hello пакетная служба устанавливает соответствующие сертификаты hello при загрузке узла hello, перед запуском любых задач (включая задачи запуска hello и задачи диспетчера заданий).

При добавлении сертификатов tooan *существующие* пула, необходимо перезагрузить его вычислительные узлы hello-узлы toohello toobe применения сертификатов.

## <a name="error-handling"></a>Обработка ошибок
Может оказаться toohandle необходимые задачи и приложения сбоев в пределах пакета решения.

### <a name="task-failure-handling"></a>Обработка сбоев задач
Сбои задач делятся на следующие категории.

* **Ошибки предварительной обработки**

    В случае сбоя задачи toostart предварительной обработки ошибки задается для задачи «hello».  

    Предварительная обработка ошибок может возникать, если задачу hello файлы ресурсов были перемещены, hello учетной записи хранилища больше недоступен или другая проблема была обнаружена, предотвращено hello успешно скопировать файлы toohello узла.

* **Ошибки передачи файлов**

    Если происходит сбой передачи файлов, указанных для задачи по любой причине, ошибка передачи файла устанавливается для задачи «hello».

    Отправка ошибки могут возникать, если hello SAS, предоставленный доступ к хранилищу Azure является недопустимым или не предоставляет разрешения на запись, в случае учетной записи хранилища hello, или если другая проблема была обнаружена, препятствующая hello успешно копирование файлов из файла узел Hello.    

* **Ошибки приложений**

    также может произойти сбой процесса Hello, который указан с помощью командной строки задачу hello. Hello процесс считается toohave сбой при возврате ненулевой код выхода процесса hello, выполняемый задачей «hello» (в разделе *кодов выхода задачи* в следующем разделе hello).

    Об ошибках в приложении, можно настроить пакет задачу hello повтора tooautomatically tooa заданное число раз.

* **Ошибки ограничения**

    Можно задать ограничение, которое задает длительность hello максимальное выполнения задания или задачи, hello *maxWallClockTime*. Это может быть полезно для завершения задачи, которые не прошли tooprogress.

    При превышении hello максимальное время hello задача помечается как *завершения*, а код выхода hello установлено слишком`0xC000013A` и hello *schedulingError* поле помечено как `{ category:"ServerError", code="TaskEnded"}`.

### <a name="debugging-application-failures"></a>Отладка ошибок приложений
* `stderr` и `stdout`

    Во время выполнения приложения может привести к выходных данных диагностики, которые можно использовать tootroubleshoot проблемы. Как упоминалось в hello в разделе [файлов и каталогов](#files-and-directories), hello пакетная служба записывает стандартный выход и Стандартная ошибка вывода слишком`stdout.txt` и `stderr.txt` файлы из каталога задача hello hello вычислительного узла. Эти файлы можно использовать hello портал Azure или один из пакета SDK toodownload hello. Например, можно получить этих и других файлов, для устранения неполадок с помощью [ComputeNode.GetNodeFile] [ net_getfile_node] и [CloudTask.GetNodeFile] [ net_getfile_task] в библиотеке .NET пакета hello.

* **Код завершения задач**

    Как упоминалось ранее, задача отмеченного как пакетной службой hello hello процесс, выполняемый задачей «hello» возвращает ненулевой код выхода. Когда задача выполняет процесс, пакет заполняет свойство код выхода задачу hello с hello *возвращают код процесса hello*. Это важные toonote, код завершения задачи **не** определяется hello пакетной службы. Код завершения задачи определяется сам процесс hello или hello операционной системы, на который выполняется процесс hello.

### <a name="accounting-for-task-failures-or-interruptions"></a>Работа со сбоями и прерываниями задач
Задачи могут иногда завершаться ошибками или прерываться. Hello самим приложением задач может завершиться ошибкой, hello узла, в которой hello запущена задача может быть перезагружены или hello узла может быть удалена из пула hello во время операции изменения размера Если hello политика изъятия пула является набор узлов tooremove немедленно без ожидания toofinish задачи. Во всех случаях задачу hello можно автоматически постановки в очередь пакетом для выполнения на другом узле.

Он может также временная проблема toocause toohang задач или принимать tooexecute слишком длинное. Можно задать интервал приветствия максимальное выполнения задачи. В случае превышения выполнения максимальный интервал приветствия hello пакетная служба прерывает приложение hello задач.

### <a name="connecting-toocompute-nodes"></a>Соединяющие узлы toocompute
Можно выполнять дополнительные отладка и устранение неполадок при входе в вычислительном узле tooa удаленно. Можно использовать для узлов Windows hello Azure портала toodownload файл протокола удаленного рабочего стола (RDP) и получить сведения о соединении Secure Shell (SSH) для Linux узлов. Также это можно сделать с помощью hello API-интерфейсы пакета — например, с [пакета .NET] [ net_rdpfile] или [пакета Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).

> [!IMPORTANT]
> tooconnect tooa узлу с помощью протокола удаленного рабочего СТОЛА или SSH, необходимо сначала создать пользователя на узле hello. toodo это, можно использовать портал Azure hello [добавить узел tooa учетной записи пользователя] [ rest_create_user] с помощью API REST пакета hello, вызовите hello [ComputeNode.CreateComputeNodeUser] [ net_create_user] метода в пакете .NET или вызов hello [add_user] [ py_add_user] метод в модуле hello пакета Python.
>
>

### <a name="troubleshooting-problematic-compute-nodes"></a>Устранение неполадок проблемных вычислительных узлов
В ситуациях, где некоторые из ваших задач завершается ошибкой пакета клиентского приложения или службы можно просматривать метаданные hello hello сбой задачи tooidentify некорректно работающие узла. Получает уникальный идентификатор каждого узла в кластер, и включается в метаданные задачи hello hello узел, на котором выполняется задача. Определив проблемный узел, вы можете предпринять некоторые действия:

* **Перезагрузить узел hello** ([REST][rest_reboot] | [.NET][net_reboot])

    Перезапустить узел hello иногда можно очистить скрытых проблем, например постоянный или зависших процессов. Обратите внимание, что если пул, использует задачу запуска или задания, использует задачу подготовки задания, они выполняются при перезапуске узла hello.
* **Пересоздать hello узел** ([REST][rest_reimage] | [.NET][net_reimage])

    Это позволит переустановить hello операционной системы на узле hello. Как и в случае перезагрузки узла, запуска задач и задачи подготовки задания повторно после hello узел был повторного создания образа.
* **Удалить узел hello из пула hello** ([REST][rest_remove] | [.NET][net_remove])

    Иногда бывает необходимо toocompletely удалить узел hello из пула hello.
* **Отключение планирования задач на узле hello** ([REST][rest_offline] | [.NET][net_offline])

    Это фактически переводит узел hello автономный режим, чтобы последующие задачи не назначаются tooit, но разрешает запуск tooremain узел hello и в пуле hello. Это позволит вам tooperform дополнительное исследование в hello причина сбоев hello без потери данных hello вызвавшие сбой задача и без узла hello сбоям дополнительную задачу. Например, можно отключить, планированием задач на узле hello, затем [вход в удаленном режиме](#connecting-to-compute-nodes) tooexamine hello журналы событий узла или других для устранения неполадок. После завершения анализа, можно затем вывести hello узла обратно в оперативный режим, включение планирования задач ([REST][rest_online] | [.NET] [ net_online]), или один из hello другие действия уже было сказано ранее.

> [!IMPORTANT]
> С каждого действия, описанные в этом разделе--перезагрузки, повторное создание образа, удаление и отключение планирования задач — вы могли toospecify обработки задач, выполняющихся в данный момент на узле hello при выполнении действия hello. Например, при отключении планированием задач на узле с помощью клиентской библиотеки .NET пакета hello, можно указать [DisableComputeNodeSchedulingOption] [ net_offline_option] перечисления значение toospecify ли слишком**Terminate** выполнение задач, **Requeue** их на другие узлы, чтобы запланировать или разрешить toocomplete выполнение задачи до выполнения действия hello (**TaskCompletion**).
>
>

## <a name="next-steps"></a>Дальнейшие действия
* Дополнительные сведения о hello [API-интерфейсы пакета и средства](batch-apis-tools.md) для сборки пакета решения.
* Показывает, как образец пакета приложения, пошаговые инструкции по [начало работы с библиотекой пакетной службы Azure hello для .NET](batch-dotnet-get-started.md). Имеется также [версию Python](batch-python-tutorial.md) учебника hello, работающей на платформе Linux рабочей нагрузки вычислительных узлов.
* Загрузить и построить hello [обозреватель пакета] [ github_batchexplorer] образец проекта для использования во время разработки пакета решения. Используя обозреватель пакета hello, можно выполнить следующие hello и многое другое.

  * отслеживать и изменять работу пулов, заданий и задач в своей учетной записи пакетной службы;
  * загружать с узлов файлы `stdout.txt`, `stderr.txt` или любые другие;
  * создавать на узлах пользователей и загружать RDP-файлы для удаленного входа.
* Узнайте, каким образом слишком[создание кластеров Linux вычислительные узлы](batch-linux-nodes.md).
* Посетите hello [форум по пакетной службы Azure] [ batch_forum] в библиотеке MSDN. Форум Hello —, лучше всего поместить вопросы tooask являются только собираю или экспертом по с помощью пакетной службы.

[1]: ./media/batch-api-basics/node-folder-structure.png

[azure_storage]: https://azure.microsoft.com/services/storage/
[batch_forum]: https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurebatch
[cloud_service_sizes]: ../cloud-services/cloud-services-sizes-specs.md
[msmpi]: https://msdn.microsoft.com/library/bb524831.aspx
[github_samples]: https://github.com/Azure/azure-batch-samples
[github_sample_taskdeps]:  https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/TaskDependencies
[github_batchexplorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[batch_net_api]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[msdn_env_vars]: https://msdn.microsoft.com/library/azure/mt743623.aspx
[net_cloudjob_jobmanagertask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.jobmanagertask.aspx
[net_cloudjob_priority]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.priority.aspx
[net_cloudpool_starttask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.starttask.aspx
[net_cloudtask_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.environmentsettings.aspx
[net_create_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.createcertificate.aspx
[net_create_user]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.createcomputenodeuser.aspx
[net_getfile_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getnodefile.aspx
[net_getfile_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.getnodefile.aspx
[net_job_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.commonenvironmentsettings.aspx
[net_multiinstancesettings]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.multiinstancesettings.aspx
[net_onalltaskscomplete]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.onalltaskscomplete.aspx
[net_rdp]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getrdpfile.aspx
[net_reboot]: https://msdn.microsoft.com/library/azure/mt631495.aspx
[net_reimage]: https://msdn.microsoft.com/library/azure/mt631496.aspx
[net_remove]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.removefrompoolasync.aspx
[net_offline]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.disableschedulingasync.aspx
[net_online]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.enableschedulingasync.aspx
[net_offline_option]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.common.disablecomputenodeschedulingoption.aspx
[net_rdpfile]: https://msdn.microsoft.com/library/azure/Mt272127.aspx
[vnet]: https://msdn.microsoft.com/library/azure/dn820174.aspx#bk_netconf

[py_add_user]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.operations.html#azure.batch.operations.ComputeNodeOperations.add_user

[batch_rest_api]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[rest_add_job]: https://msdn.microsoft.com/library/azure/mt282178.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
[rest_add_cert]: https://msdn.microsoft.com/library/azure/dn820169.aspx
[rest_add_task]: https://msdn.microsoft.com/library/azure/dn820105.aspx
[rest_create_user]: https://msdn.microsoft.com/library/azure/dn820137.aspx
[rest_get_task_info]: https://msdn.microsoft.com/library/azure/dn820133.aspx
[rest_job_schedules]: https://msdn.microsoft.com/library/azure/mt282179.aspx
[rest_multiinstance]: https://msdn.microsoft.com/library/azure/mt637905.aspx
[rest_multiinstancesettings]: https://msdn.microsoft.com/library/azure/dn820105.aspx#multiInstanceSettings
[rest_update_job]: https://msdn.microsoft.com/library/azure/dn820162.aspx
[rest_rdp]: https://msdn.microsoft.com/library/azure/dn820120.aspx
[rest_reboot]: https://msdn.microsoft.com/library/azure/dn820171.aspx
[rest_reimage]: https://msdn.microsoft.com/library/azure/dn820157.aspx
[rest_remove]: https://msdn.microsoft.com/library/azure/dn820194.aspx
[rest_offline]: https://msdn.microsoft.com/library/azure/mt637904.aspx
[rest_online]: https://msdn.microsoft.com/library/azure/mt637907.aspx

[vm_marketplace]: https://azure.microsoft.com/marketplace/virtual-machines/
