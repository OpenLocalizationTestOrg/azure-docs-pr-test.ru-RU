---
title: "aaaUse hello Azure пакетной обработки службы toorender в облаке hello | Документы Microsoft"
description: "Выполнение заданий рендеринга на виртуальных машинах Azure непосредственно из Maya с оплатой по мере использования."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: hero-article
ms.date: 07/31/2017
ms.author: tamram
ms.openlocfilehash: 3fb78d883311bbc3ab62743b7d1b111ffad177cd
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="get-started-with-hello-batch-rendering-service"></a>Приступая к работе с hello визуализации пакетной службы

Hello службы подготовки к просмотру пакета Azure предоставляет широкие возможности визуализации масштабе облака на основе оплаты за использование. Hello пакетной обработки службы обрабатывает планирования заданий и постановка в очередь, управление ошибками и повторные попытки и автоматического масштабирования для задания визуализации. Hello пакетной обработки службы поддерживает Autodesk Maya, 3ds Max и Арнольд с поддержку для других приложений, ожидается в ближайшее время. Hello подключаемого модуля для Maya 2017 г. пакета позволяет легко toostart задания подготовки к просмотру в Azure прямо с рабочего стола. 

## <a name="supported-applications"></a>Поддерживаемые приложения

Hello визуализации пакетной службы в настоящее время поддерживает следующие приложения hello:

- Autodesk Maya;
- Autodesk 3ds Max;
- Autodesk Arnold.

## <a name="prerequisites"></a>Предварительные требования

служба пакетной обработки toouse hello, необходимо:

- [Учетная запись Azure](https://azure.microsoft.com/free/). 
- **Учетная запись пакетной службы Azure.** Рекомендации по созданию учетной записи пакетной в hello портала Azure см. в разделе [создать учетную запись пакета с портала Azure hello](batch-account-create-portal.md).
- **Учетная запись хранения Azure.** Hello ресурсы, используемые для подготовки к просмотру задания хранятся в хранилище Azure. Вы можете автоматически создать учетную запись хранения при настройке учетной записи пакетной службы. Вы также можете использовать имеющуюся учетную запись хранения. toolearn более об учетных записях хранения, в разделе [как toocreate, управления или удалить учетную запись хранения в hello портал Azure](https://docs.microsoft.com/azure/storage/storage-create-storage-account).

hello toouse пакета подключаемого модуля для Maya, необходимо:

- **Maya 2017**.
- **Arnold для Maya**.

Можно также использовать hello [портал Azure](https://portal.azure.com) toocreate пулы виртуальных машин, предварительно настроенные с Maya 3ds Max и Арнольд. Можно использовать задания портала toomonitor hello и диагностики неудачно завершившихся задач, загрузив журналы приложений и выполнив удаленное подключение tooindividual виртуальных машин с помощью протокола удаленного рабочего СТОЛА или SSH.

## <a name="basic-batch-concepts"></a>Основные понятия пакетной службы

Перед началом использования службы пакетной обработки hello, бывает полезно toobe знакомы с пакетной понятия, включая вычислительные узлы, пулы и заданий. toolearn о пакетной службы Azure в целом см. [выполнения параллельных рабочих нагрузок с использованием пакета](batch-technical-overview.md).

### <a name="pools"></a>Пулы

Пакетная служба представляет собой службу платформы для выполнения ресурсоемких вычислений (например, рендеринга) в **пуле** **вычислительных узлов**. Каждый вычислительный узел в пуле — это виртуальная машина Azure под управлением Windows или Linux. 

Дополнительные сведения о пулах пакета и вычислительных узлов см. в разделе hello [пула](batch-api-basics.md#pool) и [вычислительного узла](batch-api-basics.md#compute-node) разделы в [разработка крупномасштабных параллельных вычислений решений с использованием пакета](batch-api-basics.md).

### <a name="jobs"></a>Задания

Пакет **задания** имеет коллекцию задач, выполняемых на hello вычислительных узлов в пуле. При отправке задания отрисовки пакета делит hello задания на задачи и распространяет hello задачи toohello вычислительных узлов в пул toorun hello.

Дополнительные сведения о пакетных заданиях см. в разделе hello [задания](batch-api-basics.md#job) статьи [разработка крупномасштабных параллельных вычислений решений с использованием пакета](batch-api-basics.md).

## <a name="use-hello-batch-plug-in-for-maya-toosubmit-a-render-job"></a>Использовать hello пакета подключаемого модуля для Maya toosubmit задания отрисовки

С hello подключаемого модуля для Maya пакета вы можете отправить toohello задания пакетной обработки службы прямо с Maya. Hello в следующих разделах описано, как tooconfigure hello задания из hello подключаемого модуля и затем отправить его. 

### <a name="load-hello-batch-plug-in-in-maya"></a>Загрузить hello подключаемый модуль в Maya пакета

Hello пакета подключаемый модуль доступен в [GitHub](https://github.com/Azure/azure-batch-maya/releases). Распакуйте hello архивный каталог tooa по своему усмотрению. Hello подключаемый модуль можно загрузить непосредственно из hello *azure_batch_maya* каталога.

Подключаемый модуль в Maya hello tooload:

1. Запустите Maya.
2. Выберите **Window** (Окно) > **Settings/Preferences (Параметры)** > **Plug-in Manager** (Диспетчер подключаемых модулей).
3. Щелкните **Обзор**.
4. Перейдите выберите tooand *azure_batch_maya/plug-in/AzureBatch.py*.

### <a name="authenticate-access-tooyour-batch-and-storage-accounts"></a>Проверки подлинности учетных записей пакетного и хранения tooyour доступа

hello toouse подключаемый модуль, необходимо tooauthenticate, с помощью пакетной службы Azure и ключи учетной записи хранилища Azure. tooretrieve ключи учетной записи:

1. Экран приветствия подключаемый модуль в Maya и выберите hello **Config** вкладки.
2. Перейдите toohello [портал Azure](https://portal.azure.com).
3. Выберите **учетные записи пакетного** hello левом меню. При необходимости щелкните **Больше служб** и выполните фильтрацию по запросу _Пакетная служба_.
4. Найти hello требуемого пакетной учетной записи в списке hello.
5. Выберите hello **ключей** toodisplay пункт меню, имя учетной записи, URL-адреса и ключи доступа:
    - Вставьте URL-адрес учетной записи пакета hello в hello **службы** в hello пакета подключаемого модуля.
    - Вставьте имя учетной записи hello в hello **пакетной учетной записи** поля.
    - Вставить hello первичный ключ учетной записи в hello **ключа пакета** поля.
7. Выберите учетные записи хранения из левого меню hello. При необходимости щелкните **Больше служб** и выполните фильтрацию по запросу _хранение_.
8. Найдите учетную запись хранения требуемого hello в списке hello.
9. Выберите hello **клавиши доступа** имя учетной записи хранилища hello toodisplay пункта меню и ключей.
    - Вставьте имя учетной записи хранения hello в hello **учетной записи хранилища** в hello пакета подключаемого модуля.
    - Вставить hello первичный ключ учетной записи в hello **ключ хранилища** поля.
10. Нажмите кнопку **Authenticate** tooensure, hello подключаемый модуль можно получить доступ к обе учетные записи.

После успешного прохождения, подключаемый модуль наборов hello hello поле состояния слишком**проверкой подлинности**: 

![Аутентификация учетных записей хранения и пакетной службы](./media/batch-rendering-service/authentication.png)

### <a name="configure-a-pool-for-a-render-job"></a>Настройка пула для задания рендеринга

После проверки подлинности учетных записей хранения и пакетной службы можно настроить пул для задания рендеринга. Подключаемый модуль Hello сохраняет выбранные между сеансами. После настройки основной конфигурации, вам не нужна toomodify его, если не изменяется.

Hello следующих разделах подробно hello доступные параметры, доступные на hello **отправить** вкладки:

#### <a name="specify-a-new-or-existing-pool"></a>Указание нового или существующего пула

toospecify пул задания отрисовки hello toorun, выберите hello **отправить** вкладки. Эта вкладка предоставляет возможности для создания пула или выбора уже существующего:

- Вы можете **автоматической подготовки пула для этого задания** (параметр по умолчанию hello). При выборе этого параметра пакет создает пул hello исключительно для текущего задания hello и автоматически выполнена пул hello удалений hello отрисовки задания. Этот вариант лучше всего подходит при наличии toocomplete задание одной визуализации.
- Вы можете выбрать параметр **Reuse an existing persistent pool** (Повторно использовать существующий пул). При наличии существующего пула, который находится в состоянии простоя, можно указать этот пул для выполняющееся задание отрисовки hello, выбрав его из раскрывающегося списка hello. Повторное использование существующего пула постоянно сохраняет hello время, необходимое tooprovision hello пула.  
- Вы можете выбрать параметр **Create a new persistent pool** (Создать постоянный пул). При выборе этого параметра создается новый пул для запуска задания hello. Пул hello не удаляются по завершении задания hello, чтобы можно было повторно для последующих заданий. Выберите этот параметр, если у вас есть toorun непрерывного необходимость отображения заданий. На последующих заданий можно выбрать **повторно использовать существующий пул постоянных** toouse hello постоянные пула, созданного для первого задания hello.

![Указание пула, образа операционной системы, размера виртуальной машины и лицензии](./media/batch-rendering-service/submit.png)

Дополнительные сведения о как добавляется плата за ВМ Azure см. в разделе hello [Linux цены часто задаваемые вопросы о](https://azure.microsoft.com/pricing/details/virtual-machines/linux/#faq) и [Windows цены часто задаваемые вопросы о](https://azure.microsoft.com/pricing/details/virtual-machines/windows/#faq).

#### <a name="specify-hello-os-image-tooprovision"></a>Укажите изображение tooprovision hello ОС

Можно указать тип hello ОС изображение toouse tooprovision вычислительных узлов в пуле hello hello **Env** вкладку (среда). Пакет в настоящее время поддерживает следующие параметры изображения для подготовки к просмотру задания hello:

|Операционная система  |Образ —  |
|---------|---------|
|Linux     |Предварительная версия образа пакетной службы для CentOS |
|Windows     |Предварительная версия образа пакетной службы для Windows |

#### <a name="choose-a-vm-size"></a>Выбор размера виртуальной машины

Можно указать размер виртуальной Машины hello hello **Env** вкладки. Дополнительные сведения о доступных размерах виртуальных машин см. в статьях [Размеры виртуальных машин Linux в Azure](https://docs.microsoft.com/azure/virtual-machines/linux/sizes) и [Размеры виртуальных машин Windows в Azure](https://docs.microsoft.com/azure/virtual-machines/windows/sizes). 

![Укажите образ операционной системы виртуальной Машины hello и размер вкладки Env hello](./media/batch-rendering-service/environment.png)

#### <a name="specify-licensing-options"></a>Указание вариантов лицензирования

Можно указать hello лицензии, вы хотите toouse на hello **Env** вкладки. Доступные параметры: 

- **Maya** — по умолчанию.
- **Арнольд**, который доступен, если Арнольд обнаружено, что механизм отрисовки active hello в Maya.

 При желании toorender собственную лицензию с помощью конечной точки вашей лицензии можно настроить путем добавления таблицы toohello переменные среды hello. Будет убедиться, что toodeselect лицензирования параметры по умолчанию hello, при попытке сделать это.

> [!IMPORTANT]
> Вас взимается плата за использование лицензий hello во время работы виртуальных машин в пуле hello, даже если hello виртуальных машин в настоящее время не используются для подготовки к просмотру. tooavoid дополнительная плата перейдите toohello **пулы** вкладку и измените размер узлов too0 пула hello пока вы не будете готовы toorun другое задание отрисовки. 
>
>

#### <a name="manage-persistent-pools"></a>Управление постоянными пулами

Вы можете управлять постоянно существующего пула на hello **пулы** вкладки. При выборе пул из списка hello отображается текущее состояние пула hello hello.

Из hello **пулы** вкладку, можно также удалить пул hello и изменить hello несколько виртуальных машин в пуле hello. Можно изменить размер tooavoid узлы too0 пула, расходов между рабочих нагрузок.

![Просмотр, изменение размера и удаление пулов](./media/batch-rendering-service/pools.png)

### <a name="configure-a-render-job-for-submission"></a>Настройка задания рендеринга для отправки

После указания параметров hello для hello пула, который будет выполнять задачу отрисовки hello, настройте само задание hello. 

#### <a name="specify-scene-parameters"></a>Указание параметров сцены

Hello пакета подключаемый модуль обнаруживает какие механизм визуализации используется в настоящий момент в Maya и отображает hello соответствующие настройки на hello рендеринга **отправить** вкладки. Эти параметры включают hello первый кадр, конечный кадр, префикс выходные данные и шаг кадров. Параметры отрисовки файла hello сцены можно переопределить, указав разные параметры в hello подключаемого модуля. Изменения, вносимые toohello параметры подключаемого модуля не параметры отрисовки файла сохраненного задней toohello сцены, то можно внести изменения на основе задания, задание без необходимости tooreupload hello сцены файла.

Hello подключаемый модуль выдает предупреждение, если hello отрисовки ядра, который выбран в Maya не поддерживается.

При загрузке новых сцены при открытом hello подключаемый модуль, щелкните hello **обновление** кнопку toomake убедиться, что hello настройки будут обновлены.

#### <a name="resolve-asset-paths"></a>Разрешение путей к ресурсам

При загрузке hello подключаемого модуля, он ищет файле сцены hello любые ссылки на внешние файлы. Эти ссылки отображаются в hello **активы** вкладки. Если не удается разрешить указанный путь, подключаемый модуль hello попыток toolocate hello файл в несколько расположений по умолчанию, включая:

- Hello расположение файла сцены hello 
- текущий проект Hello _sourceimages_ каталога
- Hello текущий рабочий каталог. 

Если hello активов по-прежнему не удается найти, это отображается со значком предупреждения:

![Отсутствующие ресурсы, отображаемые со значком предупреждения](./media/batch-rendering-service/missing_assets.png)

Если известно расположение hello ссылка на неразрешенный файла, можно щелкнуть hello предупреждения о toobe значок запрос tooadd пути поиска. Hello подключаемый модуль затем использует этот tooresolve tooattempt путь поиска все отсутствующие ресурсы. Можно добавить любое количество дополнительных путей поиска.

Когда ссылка будет разрешена, она появится в списке с зеленым значком:

![Разрешенные ресурсы с зеленым значком](./media/batch-rendering-service/found_assets.png)

Если сцены требуются другие файлы, "hello" подключаемый модуль не обнаружила, можно добавить дополнительные файлы или каталоги. Используйте hello **добавить файлы** и **добавить каталог** кнопки. При загрузке новых сцены при открытом hello подключаемого модуля, будет убедиться, что tooclick **обновление** ссылки tooupdate hello сцены.

#### <a name="upload-assets-tooan-asset-project"></a>Передать проект активов tooan активы

При отправке задания отрисовки hello ссылки на файлы, отображаемые hello **активы** вкладки, автоматически отправленного tooAzure хранилище как проект активов. Также можно отправить файлы активов hello независимо от задания отрисовки, используя hello **отправить** кнопку на hello **активы** вкладку hello активов проекта имя задается в hello **проекта**поля, именем после текущего проекта Maya hello по умолчанию. При передаче файлов активов, сохраняется структура hello локального файла. 

После отправки на ресурсы может ссылаться любое количество заданий рендеринга. Все переданные ресурсы размещены доступных tooany задание, которое ссылается на проект средства hello, ли они включаются в сцене hello. toochange hello активов проекта ссылается следующего задания, изменение имени hello в hello **проекта** в hello **активы** вкладки. Если существуют, с которыми нужно tooexclude от передачи файлов, снимите флажок их с помощью зеленой hello кнопку рядом с полем листинг hello.

#### <a name="submit-and-monitor-hello-render-job"></a>Отправить и монитор hello подготовки задания

После настройки задания отрисовки hello в hello подключаемый модуль, щелкните hello **отправить задание** кнопку на hello **отправить** вкладке toosubmit hello задания tooBatch:

![Отправить задание отрисовки hello](./media/batch-rendering-service/submit_job.png)

Вы можете отслеживать задания, которое выполняется из hello **заданий** вкладку на hello подключаемого модуля. Выберите задание из hello toodisplay список hello текущее состояние задания hello. Можно также использовать этот toocancel вкладку и удалить заданий, а также toodownload hello выходов, а визуализации журналы. 

выходы toodownload изменить hello **выводит** поле tooset hello нужного целевого каталога. Щелкните toostart значок шестеренки hello фонового процесса, которое отслеживает задания hello и загрузки выходных данных по мере продвижения работы: 

![Просмотр состояния задания и загрузка выходных данных](./media/batch-rendering-service/jobs.png)

Вы можете закрыть Maya без нарушения хода выполнения загрузки hello.

## <a name="next-steps"></a>Дальнейшие действия

toolearn Дополнительные сведения о пакете, в разделе [выполнения параллельных рабочих нагрузок с использованием пакета](batch-technical-overview.md).
