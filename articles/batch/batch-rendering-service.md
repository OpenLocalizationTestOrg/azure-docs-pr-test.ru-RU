---
title: "Использование службы рендеринга пакетной службы Azure для рендеринга в облаке | Документация Майкрософт"
description: "Выполнение заданий рендеринга на виртуальных машинах Azure непосредственно из Maya с оплатой по мере использования."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: hero-article
ms.date: 07/31/2017
ms.author: tamram
ms.openlocfilehash: 4d22f92cafdbceee5213361d6d2b2f38904d12c6
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="get-started-with-the-batch-rendering-service"></a><span data-ttu-id="b8b43-103">Приступая к работе со службой рендеринга пакетной службы</span><span class="sxs-lookup"><span data-stu-id="b8b43-103">Get started with the Batch Rendering service</span></span>

<span data-ttu-id="b8b43-104">Служба рендеринга пакетной службы Azure предлагает возможности рендеринга в масштабах облака с оплатой по мере использования.</span><span class="sxs-lookup"><span data-stu-id="b8b43-104">The Azure Batch Rendering service offers cloud-scale rendering capabilities on a pay-per-use basis.</span></span> <span data-ttu-id="b8b43-105">Служба рендеринга пакетной службы обрабатывает планирование заданий и их постановку в очередь, управление сбоями и повторными попытками, а также автоматическое масштабирование задания рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-105">The Batch Rendering service handles job scheduling and queueing, managing failures and retries, and auto-scaling for your render job.</span></span> <span data-ttu-id="b8b43-106">Она поддерживает Autodesk Maya, 3ds Max и Arnold. В ближайшее время спектр поддерживаемых приложений будет расширен.</span><span class="sxs-lookup"><span data-stu-id="b8b43-106">The Batch Rendering service supports Autodesk Maya, 3ds Max, and Arnold, with support for other applications coming soon.</span></span> <span data-ttu-id="b8b43-107">Подключаемый модуль пакетной службы для Maya 2017 упрощает запуск задания рендеринга в Azure непосредственно с рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="b8b43-107">The Batch plug-in for Maya 2017 makes it easy to start a rendering job on Azure right from your desktop.</span></span> 

## <a name="supported-applications"></a><span data-ttu-id="b8b43-108">Поддерживаемые приложения</span><span class="sxs-lookup"><span data-stu-id="b8b43-108">Supported applications</span></span>

<span data-ttu-id="b8b43-109">На сегодня служба рендеринга пакетной службы поддерживает следующие приложения:</span><span class="sxs-lookup"><span data-stu-id="b8b43-109">The Batch Rendering service currently supports the following applications:</span></span>

- <span data-ttu-id="b8b43-110">Autodesk Maya;</span><span class="sxs-lookup"><span data-stu-id="b8b43-110">Autodesk Maya</span></span>
- <span data-ttu-id="b8b43-111">Autodesk 3ds Max;</span><span class="sxs-lookup"><span data-stu-id="b8b43-111">Autodesk 3ds Max</span></span>
- <span data-ttu-id="b8b43-112">Autodesk Arnold.</span><span class="sxs-lookup"><span data-stu-id="b8b43-112">Autodesk Arnold</span></span>

## <a name="prerequisites"></a><span data-ttu-id="b8b43-113">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="b8b43-113">Prerequisites</span></span>

<span data-ttu-id="b8b43-114">Чтобы использовать эту службу, вам потребуется:</span><span class="sxs-lookup"><span data-stu-id="b8b43-114">To use the Batch Rendering service, you need:</span></span>

- <span data-ttu-id="b8b43-115">[Учетная запись Azure](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="b8b43-115">An [Azure account](https://azure.microsoft.com/free/).</span></span> 
- <span data-ttu-id="b8b43-116">**Учетная запись пакетной службы Azure.**</span><span class="sxs-lookup"><span data-stu-id="b8b43-116">**An Azure Batch account.**</span></span> <span data-ttu-id="b8b43-117">Чтобы узнать о создании учетной записи пакетной службы на портале Azure, ознакомьтесь со статьей [Создание учетной записи пакетной службы на портале Azure](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="b8b43-117">For guidance on creating a Batch account in the Azure portal, see [Create a Batch account with the Azure portal](batch-account-create-portal.md).</span></span>
- <span data-ttu-id="b8b43-118">**Учетная запись хранения Azure.**</span><span class="sxs-lookup"><span data-stu-id="b8b43-118">**An Azure Storage account.**</span></span> <span data-ttu-id="b8b43-119">Ресурсы, используемые для задания рендеринга, хранятся в службе хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="b8b43-119">The assets used for your rendering job are stored in Azure Storage.</span></span> <span data-ttu-id="b8b43-120">Вы можете автоматически создать учетную запись хранения при настройке учетной записи пакетной службы.</span><span class="sxs-lookup"><span data-stu-id="b8b43-120">You can create a storage account automatically when you set up your Batch account.</span></span> <span data-ttu-id="b8b43-121">Вы также можете использовать имеющуюся учетную запись хранения.</span><span class="sxs-lookup"><span data-stu-id="b8b43-121">You can also use an existing storage account.</span></span> <span data-ttu-id="b8b43-122">Дополнительные сведения об учетных записях хранения см. в [этой](https://docs.microsoft.com/azure/storage/storage-create-storage-account) статье.</span><span class="sxs-lookup"><span data-stu-id="b8b43-122">To learn more about Storage accounts, see [How to create, manage, or delete a storage account in the Azure portal](https://docs.microsoft.com/azure/storage/storage-create-storage-account).</span></span>

<span data-ttu-id="b8b43-123">Чтобы использовать подключаемый модуль пакетной службы для Maya, вам потребуется:</span><span class="sxs-lookup"><span data-stu-id="b8b43-123">To use the Batch plug-in for Maya, you need:</span></span>

- <span data-ttu-id="b8b43-124">**Maya 2017**.</span><span class="sxs-lookup"><span data-stu-id="b8b43-124">**Maya 2017**</span></span>
- <span data-ttu-id="b8b43-125">**Arnold для Maya**.</span><span class="sxs-lookup"><span data-stu-id="b8b43-125">**Arnold for Maya**</span></span>

<span data-ttu-id="b8b43-126">Вы можете также использовать [портал Azure](https://portal.azure.com), чтобы создать пулы виртуальных машин, предварительно настроенные с Maya, 3ds Max и Arnold.</span><span class="sxs-lookup"><span data-stu-id="b8b43-126">You can also use the [Azure portal](https://portal.azure.com) to create pools of virtual machines that are pre-configured with Maya, 3ds Max, and Arnold.</span></span> <span data-ttu-id="b8b43-127">Портал можно использовать для мониторинга заданий и диагностики задач, завершившихся сбоем. Для этого необходимо загрузить журналы приложений, а также удаленно подключиться к отдельным виртуальным машинам по протоколу RDP или SSH.</span><span class="sxs-lookup"><span data-stu-id="b8b43-127">You can use the portal to monitor jobs and diagnose failed tasks by downloading application logs and by remotely connecting to individual VMs using RDP or SSH.</span></span>

## <a name="basic-batch-concepts"></a><span data-ttu-id="b8b43-128">Основные понятия пакетной службы</span><span class="sxs-lookup"><span data-stu-id="b8b43-128">Basic Batch concepts</span></span>

<span data-ttu-id="b8b43-129">Прежде чем начать использовать службу рендеринга пакетной службы, стоит ознакомиться с некоторыми понятиями пакетной службы, включая вычислительные узлы, пулы и задания.</span><span class="sxs-lookup"><span data-stu-id="b8b43-129">Before you begin using the Batch Rendering service, it's helpful to be familiar with a few Batch concepts, including compute nodes, pools, and jobs.</span></span> <span data-ttu-id="b8b43-130">Дополнительные сведения о пакетной службе Azure в целом см. в статье [Выполнение реальных параллельных рабочих нагрузок с использованием пакетной службы](batch-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b8b43-130">To learn more about Azure Batch in general, see [Run intrinsically parallel workloads with Batch](batch-technical-overview.md).</span></span>

### <a name="pools"></a><span data-ttu-id="b8b43-131">Пулы</span><span class="sxs-lookup"><span data-stu-id="b8b43-131">Pools</span></span>

<span data-ttu-id="b8b43-132">Пакетная служба представляет собой службу платформы для выполнения ресурсоемких вычислений (например, рендеринга) в **пуле** **вычислительных узлов**.</span><span class="sxs-lookup"><span data-stu-id="b8b43-132">Batch is a platform service for running compute-intensive work, like rendering, on a **pool** of **compute nodes**.</span></span> <span data-ttu-id="b8b43-133">Каждый вычислительный узел в пуле — это виртуальная машина Azure под управлением Windows или Linux.</span><span class="sxs-lookup"><span data-stu-id="b8b43-133">Each compute node in a pool is an Azure virtual machine (VM) running either Linux or Windows.</span></span> 

<span data-ttu-id="b8b43-134">Дополнительные сведения о пулах пакетной службы и вычислительных узлах см. в разделах о [пуле](batch-api-basics.md#pool) и [вычислительном узле](batch-api-basics.md#compute-node) в статье [Разработка решений для крупномасштабных параллельных вычислений с использованием пакетной службы](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="b8b43-134">For more information about Batch pools and compute nodes, see the [Pool](batch-api-basics.md#pool) and [Compute node](batch-api-basics.md#compute-node) sections in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>

### <a name="jobs"></a><span data-ttu-id="b8b43-135">Задания</span><span class="sxs-lookup"><span data-stu-id="b8b43-135">Jobs</span></span>

<span data-ttu-id="b8b43-136">**Задание** пакетной службы — это набор задач, выполняющихся на вычислительных узлах в пуле.</span><span class="sxs-lookup"><span data-stu-id="b8b43-136">A Batch **job** is a collection of tasks that run on the compute nodes in a pool.</span></span> <span data-ttu-id="b8b43-137">При отправке задания рендеринга пакетная служба делит задание на задачи и распределяет задачи между вычислительными узлами в пуле для их выполнения.</span><span class="sxs-lookup"><span data-stu-id="b8b43-137">When you submit a rendering job, Batch divides the job into tasks and distributes the tasks to the compute nodes in the pool to run.</span></span>

<span data-ttu-id="b8b43-138">Дополнительные сведения о заданиях пакетной службы см. в разделе о [задании](batch-api-basics.md#job) в статье [Разработка решений для крупномасштабных параллельных вычислений с использованием пакетной службы](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="b8b43-138">For more information about Batch jobs, see the [Job](batch-api-basics.md#job) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>

## <a name="use-the-batch-plug-in-for-maya-to-submit-a-render-job"></a><span data-ttu-id="b8b43-139">Использование подключаемого модуля пакетной службы для Maya для отправки задания рендеринга</span><span class="sxs-lookup"><span data-stu-id="b8b43-139">Use the Batch plug-in for Maya to submit a render job</span></span>

<span data-ttu-id="b8b43-140">С помощью подключаемого модуля пакетной службы для Maya можно отправить задание в пакетную службу рендеринга непосредственно с Maya.</span><span class="sxs-lookup"><span data-stu-id="b8b43-140">With the Batch plug-in for Maya, you can submit a job to the Batch Rendering service right from Maya.</span></span> <span data-ttu-id="b8b43-141">В следующих разделах описывается, как настроить задание из подключаемого модуля, а затем отправить его.</span><span class="sxs-lookup"><span data-stu-id="b8b43-141">The following sections describe how to configure the job from the plug-in and then submit it.</span></span> 

### <a name="load-the-batch-plug-in-in-maya"></a><span data-ttu-id="b8b43-142">Загрузка подключаемого модуля пакетной службы в Maya</span><span class="sxs-lookup"><span data-stu-id="b8b43-142">Load the Batch plug-in in Maya</span></span>

<span data-ttu-id="b8b43-143">Подключаемый модуль пакетной службы можно найти в [GitHub](https://github.com/Azure/azure-batch-maya/releases).</span><span class="sxs-lookup"><span data-stu-id="b8b43-143">The Batch plug-in is available on [GitHub](https://github.com/Azure/azure-batch-maya/releases).</span></span> <span data-ttu-id="b8b43-144">Распакуйте архив в любой каталог по своему усмотрению:</span><span class="sxs-lookup"><span data-stu-id="b8b43-144">Unzip the archive to a directory of your choice.</span></span> <span data-ttu-id="b8b43-145">Можно загрузить подключаемый модуль непосредственно из каталога *azure_batch_maya*.</span><span class="sxs-lookup"><span data-stu-id="b8b43-145">You can load the plug-in directly from the *azure_batch_maya* directory.</span></span>

<span data-ttu-id="b8b43-146">Чтобы загрузить подключаемый модуль в Maya:</span><span class="sxs-lookup"><span data-stu-id="b8b43-146">To load the plug-in in Maya:</span></span>

1. <span data-ttu-id="b8b43-147">Запустите Maya.</span><span class="sxs-lookup"><span data-stu-id="b8b43-147">Run Maya.</span></span>
2. <span data-ttu-id="b8b43-148">Выберите **Window** (Окно) > **Settings/Preferences (Параметры)** > **Plug-in Manager** (Диспетчер подключаемых модулей).</span><span class="sxs-lookup"><span data-stu-id="b8b43-148">Open **Window** > **Settings/Preferences** > **Plug-in Manager**.</span></span>
3. <span data-ttu-id="b8b43-149">Щелкните **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="b8b43-149">Click **Browse**.</span></span>
4. <span data-ttu-id="b8b43-150">Найдите и выберите *azure_batch_maya/plug-in/AzureBatch.py*.</span><span class="sxs-lookup"><span data-stu-id="b8b43-150">Navigate to and select *azure_batch_maya/plug-in/AzureBatch.py*.</span></span>

### <a name="authenticate-access-to-your-batch-and-storage-accounts"></a><span data-ttu-id="b8b43-151">Аутентификация доступа к учетным записям хранения и пакетной службы</span><span class="sxs-lookup"><span data-stu-id="b8b43-151">Authenticate access to your Batch and Storage accounts</span></span>

<span data-ttu-id="b8b43-152">Чтобы использовать подключаемый модуль, необходимо пройти аутентификацию с помощью ключей учетной записи хранения Azure и пакетной службы Azure.</span><span class="sxs-lookup"><span data-stu-id="b8b43-152">To use the plug-in, you need to authenticate using your Azure Batch and Azure Storage account keys.</span></span> <span data-ttu-id="b8b43-153">Чтобы получить ключи учетной записи:</span><span class="sxs-lookup"><span data-stu-id="b8b43-153">To retrieve your account keys:</span></span>

1. <span data-ttu-id="b8b43-154">Выведите подключаемый модуль в Maya и выберите вкладку **Config** (Конфигурация).</span><span class="sxs-lookup"><span data-stu-id="b8b43-154">Display the plug-in in Maya, and select the **Config** tab.</span></span>
2. <span data-ttu-id="b8b43-155">Перейдите на [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b8b43-155">Navigate to the [Azure portal](https://portal.azure.com).</span></span>
3. <span data-ttu-id="b8b43-156">Выберите **Учетные записи пакетной службы** в меню слева.</span><span class="sxs-lookup"><span data-stu-id="b8b43-156">Select **Batch Accounts** from the left-hand menu.</span></span> <span data-ttu-id="b8b43-157">При необходимости щелкните **Больше служб** и выполните фильтрацию по запросу _Пакетная служба_.</span><span class="sxs-lookup"><span data-stu-id="b8b43-157">If necessary, click **More Services** and filter on _Batch_.</span></span>
4. <span data-ttu-id="b8b43-158">Найдите нужную учетную запись пакетной службы в списке.</span><span class="sxs-lookup"><span data-stu-id="b8b43-158">Locate the desired Batch account in the list.</span></span>
5. <span data-ttu-id="b8b43-159">Выберите пункт меню **Ключи**, чтобы отобразить имя учетной записи, ее URL-адрес и ключи доступа:</span><span class="sxs-lookup"><span data-stu-id="b8b43-159">Select the **Keys** menu item to display your account name, account URL, and access keys:</span></span>
    - <span data-ttu-id="b8b43-160">Вставьте URL-адрес учетной записи пакетной службы в поле **службы** в подключаемом модуле пакетной службы.</span><span class="sxs-lookup"><span data-stu-id="b8b43-160">Paste the Batch account URL into the **Service** field in the Batch plug-in.</span></span>
    - <span data-ttu-id="b8b43-161">Вставьте имя учетной записи в поле **учетной записи пакетной службы**.</span><span class="sxs-lookup"><span data-stu-id="b8b43-161">Paste the account name into the **Batch Account** field.</span></span>
    - <span data-ttu-id="b8b43-162">Вставьте основной ключ учетной записи в поле **ключа пакетной службы**.</span><span class="sxs-lookup"><span data-stu-id="b8b43-162">Paste the primary account key into the **Batch Key** field.</span></span>
7. <span data-ttu-id="b8b43-163">Выберите учетные записи хранения в меню слева.</span><span class="sxs-lookup"><span data-stu-id="b8b43-163">Select Storage Accounts from the left-hand menu.</span></span> <span data-ttu-id="b8b43-164">При необходимости щелкните **Больше служб** и выполните фильтрацию по запросу _хранение_.</span><span class="sxs-lookup"><span data-stu-id="b8b43-164">If necessary, click **More Services** and filter on _Storage_.</span></span>
8. <span data-ttu-id="b8b43-165">Найдите нужную учетную запись хранения в списке.</span><span class="sxs-lookup"><span data-stu-id="b8b43-165">Locate the desired Storage account in the list.</span></span>
9. <span data-ttu-id="b8b43-166">Выберите пункт меню **Ключи доступа**, чтобы отобразить имя и ключи учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="b8b43-166">Select the **Access Keys** menu item to display the storage account name and keys.</span></span>
    - <span data-ttu-id="b8b43-167">Вставьте имя учетной записи хранения в поле **Storage Account** (Учетная запись хранения) в подключаемом модуле пакетной службы.</span><span class="sxs-lookup"><span data-stu-id="b8b43-167">Paste the Storage account name into the **Storage Account** field in the Batch plug-in.</span></span>
    - <span data-ttu-id="b8b43-168">Вставьте основной ключ учетной записи в поле **Storage Key** (Ключ хранилища).</span><span class="sxs-lookup"><span data-stu-id="b8b43-168">Paste the primary account key into the **Storage Key** field.</span></span>
10. <span data-ttu-id="b8b43-169">Щелкните **Authenticate** (Проверка подлинности), чтобы обеспечить доступ подключаемого модуля к обеим учетным записям.</span><span class="sxs-lookup"><span data-stu-id="b8b43-169">Click **Authenticate** to ensure that the plug-in can access both accounts.</span></span>

<span data-ttu-id="b8b43-170">После успешной аутентификации подключаемый модуль задает для поля состояния значение **Authenticated** (Проверка подлинности выполнена):</span><span class="sxs-lookup"><span data-stu-id="b8b43-170">Once you have successfully authenticated, the plug-in sets the status field to **Authenticated**:</span></span> 

![Аутентификация учетных записей хранения и пакетной службы](./media/batch-rendering-service/authentication.png)

### <a name="configure-a-pool-for-a-render-job"></a><span data-ttu-id="b8b43-172">Настройка пула для задания рендеринга</span><span class="sxs-lookup"><span data-stu-id="b8b43-172">Configure a pool for a render job</span></span>

<span data-ttu-id="b8b43-173">После проверки подлинности учетных записей хранения и пакетной службы можно настроить пул для задания рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-173">After you have authenticated your Batch and Storage accounts, set up a pool for your rendering job.</span></span> <span data-ttu-id="b8b43-174">Подключаемый модуль сохраняет выбранные параметры между сеансами.</span><span class="sxs-lookup"><span data-stu-id="b8b43-174">The plug-in saves your selections between sessions.</span></span> <span data-ttu-id="b8b43-175">После настройки предпочитаемой конфигурации не нужно менять ее, пока в этом не будет необходимости.</span><span class="sxs-lookup"><span data-stu-id="b8b43-175">Once you've set up your preferred configuration, you won't need to modify it unless it changes.</span></span>

<span data-ttu-id="b8b43-176">В следующих разделах описываются соответствующие параметры, доступные на вкладке **Submit** (Отправить).</span><span class="sxs-lookup"><span data-stu-id="b8b43-176">The following sections walk you through the available options, available on the **Submit** tab:</span></span>

#### <a name="specify-a-new-or-existing-pool"></a><span data-ttu-id="b8b43-177">Указание нового или существующего пула</span><span class="sxs-lookup"><span data-stu-id="b8b43-177">Specify a new or existing pool</span></span>

<span data-ttu-id="b8b43-178">Чтобы указать пул, в котором будет выполняться задание рендеринга, выберите вкладку **Submit** (Отправить).</span><span class="sxs-lookup"><span data-stu-id="b8b43-178">To specify a pool on which to run the render job, select the **Submit** tab.</span></span> <span data-ttu-id="b8b43-179">Эта вкладка предоставляет возможности для создания пула или выбора уже существующего:</span><span class="sxs-lookup"><span data-stu-id="b8b43-179">This tab offers options for creating a pool or selecting an existing pool:</span></span>

- <span data-ttu-id="b8b43-180">Вы можете выбрать параметр по умолчанию **Auto provision a pool for this job** (Автоматически подготавливать пул для этого задания).</span><span class="sxs-lookup"><span data-stu-id="b8b43-180">You can **auto provision a pool for this job** (the default option).</span></span> <span data-ttu-id="b8b43-181">При выборе этого параметра пакетная служба создает пул исключительно для текущего задания и автоматически удаляет его по завершении задания рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-181">When you choose this option, Batch creates the pool exclusively for the current job, and automatically deletes the pool when the render job is complete.</span></span> <span data-ttu-id="b8b43-182">Этот вариант лучше использовать, если вам необходимо выполнить одно задание рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-182">This option is best when you have a single render job to complete.</span></span>
- <span data-ttu-id="b8b43-183">Вы можете выбрать параметр **Reuse an existing persistent pool** (Повторно использовать существующий пул).</span><span class="sxs-lookup"><span data-stu-id="b8b43-183">You can **reuse an existing persistent pool**.</span></span> <span data-ttu-id="b8b43-184">Если пул уже существует (находится в состоянии простоя), можно указать его для запуска задания рендеринга. Для этого выберите его из раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="b8b43-184">If you have an existing pool that is idle, you can specify that pool for running the render job by selecting it from the dropdown.</span></span> <span data-ttu-id="b8b43-185">Повторное использование существующего пула сокращает время, необходимое для подготовки пула.</span><span class="sxs-lookup"><span data-stu-id="b8b43-185">Reusing an existing persistent pool saves the time required to provision the pool.</span></span>  
- <span data-ttu-id="b8b43-186">Вы можете выбрать параметр **Create a new persistent pool** (Создать постоянный пул).</span><span class="sxs-lookup"><span data-stu-id="b8b43-186">You can **create a new persistent pool**.</span></span> <span data-ttu-id="b8b43-187">При выборе этого параметра для выполнения задания создается пул.</span><span class="sxs-lookup"><span data-stu-id="b8b43-187">Choosing this option creates a new pool for running the job.</span></span> <span data-ttu-id="b8b43-188">Пул не удаляется после завершения задания, так что его можно повторно использовать для следующих заданий.</span><span class="sxs-lookup"><span data-stu-id="b8b43-188">It does not delete the pool when the job is complete, so that you can reuse it for future jobs.</span></span> <span data-ttu-id="b8b43-189">Выберите этот параметр, если нужно постоянно выполнять задания рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-189">Select this option when you have a continuous need to run render jobs.</span></span> <span data-ttu-id="b8b43-190">Для выполнения следующих заданий можно выбрать вариант **повторного использования существующего пула**, чтобы использовать постоянный пул, созданный для первого задания.</span><span class="sxs-lookup"><span data-stu-id="b8b43-190">On subsequent jobs, you can select **reuse an existing persistent pool** to use the persistent pool that you created for the first job.</span></span>

![Указание пула, образа операционной системы, размера виртуальной машины и лицензии](./media/batch-rendering-service/submit.png)

<span data-ttu-id="b8b43-192">Дополнительные сведения о том, как взимается плата за виртуальные машины Azure, см. на странице [часто задаваемых вопросов о ценах для Linux](https://azure.microsoft.com/pricing/details/virtual-machines/linux/#faq) и [Windows](https://azure.microsoft.com/pricing/details/virtual-machines/windows/#faq).</span><span class="sxs-lookup"><span data-stu-id="b8b43-192">For more information on how charges accrue for Azure VMs, see the [Linux Pricing FAQ](https://azure.microsoft.com/pricing/details/virtual-machines/linux/#faq) and [Windows Pricing FAQ](https://azure.microsoft.com/pricing/details/virtual-machines/windows/#faq).</span></span>

#### <a name="specify-the-os-image-to-provision"></a><span data-ttu-id="b8b43-193">Указание образа операционной системы для подготовки</span><span class="sxs-lookup"><span data-stu-id="b8b43-193">Specify the OS image to provision</span></span>

<span data-ttu-id="b8b43-194">Можно указать тип образа операционной системы, который будет использоваться для подготовки вычислительных узлов в пуле, на вкладке **Env** (Среда).</span><span class="sxs-lookup"><span data-stu-id="b8b43-194">You can specify the type of OS image to use to provision compute nodes in the pool on the **Env** (Environment) tab.</span></span> <span data-ttu-id="b8b43-195">На сегодня пакетная служба поддерживает следующие варианты образов для заданий рендеринга:</span><span class="sxs-lookup"><span data-stu-id="b8b43-195">Batch currently supports the following image options for rendering jobs:</span></span>

|<span data-ttu-id="b8b43-196">Операционная система</span><span class="sxs-lookup"><span data-stu-id="b8b43-196">Operating System</span></span>  |<span data-ttu-id="b8b43-197">Образ —</span><span class="sxs-lookup"><span data-stu-id="b8b43-197">Image</span></span>  |
|---------|---------|
|<span data-ttu-id="b8b43-198">Linux</span><span class="sxs-lookup"><span data-stu-id="b8b43-198">Linux</span></span>     |<span data-ttu-id="b8b43-199">Предварительная версия образа пакетной службы для CentOS</span><span class="sxs-lookup"><span data-stu-id="b8b43-199">Batch CentOS Preview</span></span> |
|<span data-ttu-id="b8b43-200">Windows</span><span class="sxs-lookup"><span data-stu-id="b8b43-200">Windows</span></span>     |<span data-ttu-id="b8b43-201">Предварительная версия образа пакетной службы для Windows</span><span class="sxs-lookup"><span data-stu-id="b8b43-201">Batch Windows Preview</span></span> |

#### <a name="choose-a-vm-size"></a><span data-ttu-id="b8b43-202">Выбор размера виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="b8b43-202">Choose a VM size</span></span>

<span data-ttu-id="b8b43-203">На вкладке **Env** (Среда) можно указать размер виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="b8b43-203">You can specify the VM size on the **Env** tab.</span></span> <span data-ttu-id="b8b43-204">Дополнительные сведения о доступных размерах виртуальных машин см. в статьях [Размеры виртуальных машин Linux в Azure](https://docs.microsoft.com/azure/virtual-machines/linux/sizes) и [Размеры виртуальных машин Windows в Azure](https://docs.microsoft.com/azure/virtual-machines/windows/sizes).</span><span class="sxs-lookup"><span data-stu-id="b8b43-204">For more information about available VM sizes, see [Linux VM sizes in Azure](https://docs.microsoft.com/azure/virtual-machines/linux/sizes) and [Windows VM sizes in Azure](https://docs.microsoft.com/azure/virtual-machines/windows/sizes).</span></span> 

![Указание параметров образа ОС и размера ВМ на вкладке среды](./media/batch-rendering-service/environment.png)

#### <a name="specify-licensing-options"></a><span data-ttu-id="b8b43-206">Указание вариантов лицензирования</span><span class="sxs-lookup"><span data-stu-id="b8b43-206">Specify licensing options</span></span>

<span data-ttu-id="b8b43-207">На вкладке **Env** (Среда) можно указать лицензии, которые будут использоваться.</span><span class="sxs-lookup"><span data-stu-id="b8b43-207">You can specify the licenses you wish to use on the **Env** tab.</span></span> <span data-ttu-id="b8b43-208">Доступные параметры: </span><span class="sxs-lookup"><span data-stu-id="b8b43-208">Options include:</span></span>

- <span data-ttu-id="b8b43-209">**Maya** — по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b8b43-209">**Maya**, which is enabled by default.</span></span>
- <span data-ttu-id="b8b43-210">**Arnold** — доступен, если он определяется как активный модуль рендеринга в Maya.</span><span class="sxs-lookup"><span data-stu-id="b8b43-210">**Arnold**, which is enabled if Arnold is detected as the active render engine in Maya.</span></span>

 <span data-ttu-id="b8b43-211">Если вы хотите выполнить рендеринг с помощью собственной лицензии, можно настроить конечную точку лицензии, добавив соответствующие переменные среды в таблицу.</span><span class="sxs-lookup"><span data-stu-id="b8b43-211">If you wish to render using your own license, you can configure your license end point by adding the appropriate environment variables to the table.</span></span> <span data-ttu-id="b8b43-212">Для этого должны быть отключены параметры лицензирования по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b8b43-212">Be sure to deselect the default licensing options if you do so.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b8b43-213">Пока виртуальные машины запущены в пуле, за использование лицензий выставляются счета, даже если машины в настоящее время не используются для рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-213">You are billed for use of the licenses while VMs are running in the pool, even if the VMs are not currently being used for rendering.</span></span> <span data-ttu-id="b8b43-214">Чтобы избежать дополнительных затрат, перейдите на вкладку **Pools** (Пулы) и измените размер на 0 узлов, пока вы не будете готовы к запуску другого задания рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-214">To avoid extra charges, navigate to the **Pools** tab and resize the pool to 0 nodes until you are ready to run another render job.</span></span> 
>
>

#### <a name="manage-persistent-pools"></a><span data-ttu-id="b8b43-215">Управление постоянными пулами</span><span class="sxs-lookup"><span data-stu-id="b8b43-215">Manage persistent pools</span></span>

<span data-ttu-id="b8b43-216">На вкладке **Pools** (Пулы) вы можете управлять имеющимся постоянным пулом.</span><span class="sxs-lookup"><span data-stu-id="b8b43-216">You can manage an existing persistent pool on the **Pools** tab.</span></span> <span data-ttu-id="b8b43-217">При выборе пула из списка отобразится его текущее состояние.</span><span class="sxs-lookup"><span data-stu-id="b8b43-217">Selecting a pool from the list displays the current state of the pool.</span></span>

<span data-ttu-id="b8b43-218">Используя вкладку **Pools** (Пулы), можно также удалить пул и изменить в нем количество виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="b8b43-218">From the **Pools** tab, you can also delete the pool and resize the number of VMs in the pool.</span></span> <span data-ttu-id="b8b43-219">Можно изменить размер пула до 0 узлов, чтобы избежать расходов между рабочими нагрузками.</span><span class="sxs-lookup"><span data-stu-id="b8b43-219">You can resize a pool to 0 nodes to avoid incurring costs in between workloads.</span></span>

![Просмотр, изменение размера и удаление пулов](./media/batch-rendering-service/pools.png)

### <a name="configure-a-render-job-for-submission"></a><span data-ttu-id="b8b43-221">Настройка задания рендеринга для отправки</span><span class="sxs-lookup"><span data-stu-id="b8b43-221">Configure a render job for submission</span></span>

<span data-ttu-id="b8b43-222">После указания параметров для пула, который будет выполнять задание рендеринга, настройте само задание.</span><span class="sxs-lookup"><span data-stu-id="b8b43-222">Once you have specified the parameters for the pool that will run the render job, configure the job itself.</span></span> 

#### <a name="specify-scene-parameters"></a><span data-ttu-id="b8b43-223">Указание параметров сцены</span><span class="sxs-lookup"><span data-stu-id="b8b43-223">Specify scene parameters</span></span>

<span data-ttu-id="b8b43-224">Подключаемый модуль пакетной службы обнаруживает, какой механизм рендеринга сейчас используется в Maya и отображает соответствующие параметры рендеринга на вкладке **Submit** (Отправить).</span><span class="sxs-lookup"><span data-stu-id="b8b43-224">The Batch plug-in detects which rendering engine you're currently using in Maya, and displays the appropriate render settings on the **Submit** tab.</span></span> <span data-ttu-id="b8b43-225">Эти параметры включают первый кадр, конечный кадр, префикс выходных данных и шаг кадра.</span><span class="sxs-lookup"><span data-stu-id="b8b43-225">These settings include the start frame, end frame, output prefix, and frame step.</span></span> <span data-ttu-id="b8b43-226">Вы можете переопределить параметры рендеринга файла сцены, указав другие параметры в подключаемом модуле.</span><span class="sxs-lookup"><span data-stu-id="b8b43-226">You can override the scene file render settings by specifying different settings in the plug-in.</span></span> <span data-ttu-id="b8b43-227">Изменения, внесенные в параметры подключаемого модуля, не сохраняются для параметров рендеринга файла сцены, поэтому можно вносить изменения для каждого отдельного задания без необходимости повторной отправки файла сцены.</span><span class="sxs-lookup"><span data-stu-id="b8b43-227">Changes you make to the plug-in settings are not persisted back to the scene file render settings, so you can make changes on a job-by-job basis without needing to reupload the scene file.</span></span>

<span data-ttu-id="b8b43-228">Подключаемый модуль выдает предупреждение, если механизм рендеринга, выбранный в Maya, не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="b8b43-228">The plug-in warns you if the render engine that you selected in Maya is not supported.</span></span>

<span data-ttu-id="b8b43-229">Если подключаемый модуль открыт и вы загружаете новую сцену, нажмите кнопку **Refresh** (Обновить) для обновления параметров.</span><span class="sxs-lookup"><span data-stu-id="b8b43-229">If you load a new scene while the plug-in is open, click the **Refresh** button to make sure the settings are updated.</span></span>

#### <a name="resolve-asset-paths"></a><span data-ttu-id="b8b43-230">Разрешение путей к ресурсам</span><span class="sxs-lookup"><span data-stu-id="b8b43-230">Resolve asset paths</span></span>

<span data-ttu-id="b8b43-231">При загрузке подключаемого модуля он проверяет файл сцены на наличие любых внешних ссылок на файл.</span><span class="sxs-lookup"><span data-stu-id="b8b43-231">When you load the plug-in, it scans the scene file for any external file references.</span></span> <span data-ttu-id="b8b43-232">Эти ссылки отображаются на вкладке **Assets** (Ресурсы).</span><span class="sxs-lookup"><span data-stu-id="b8b43-232">These references are displayed in the **Assets** tab.</span></span> <span data-ttu-id="b8b43-233">Если указанный путь не удалось разрешить, подключаемый модуль попытается найти файл в нескольких расположениях по умолчанию, включая:</span><span class="sxs-lookup"><span data-stu-id="b8b43-233">If a referenced path cannot be resolved, the plug-in attempts to locate the file in a few default locations, including:</span></span>

- <span data-ttu-id="b8b43-234">расположение файла сцены;</span><span class="sxs-lookup"><span data-stu-id="b8b43-234">The location of the scene file</span></span> 
- <span data-ttu-id="b8b43-235">каталог _sourceimages_ текущего проекта;</span><span class="sxs-lookup"><span data-stu-id="b8b43-235">The current project's _sourceimages_ directory</span></span>
- <span data-ttu-id="b8b43-236">текущий рабочий каталог.</span><span class="sxs-lookup"><span data-stu-id="b8b43-236">The current working directory.</span></span> 

<span data-ttu-id="b8b43-237">Если ресурс по-прежнему не удается найти, отобразится значок предупреждения:</span><span class="sxs-lookup"><span data-stu-id="b8b43-237">If the asset still cannot be located, it is listed with a warning icon:</span></span>

![Отсутствующие ресурсы, отображаемые со значком предупреждения](./media/batch-rendering-service/missing_assets.png)

<span data-ttu-id="b8b43-239">Если известно расположение неразрешенной ссылки на файл, можно щелкнуть значок предупреждения, чтобы получить запрос на добавление пути поиска.</span><span class="sxs-lookup"><span data-stu-id="b8b43-239">If you know the location of an unresolved file reference, you can click the warning icon to be prompted to add a search path.</span></span> <span data-ttu-id="b8b43-240">Подключаемый модуль затем использует этот путь поиска, чтобы попытаться разрешить все отсутствующие ресурсы.</span><span class="sxs-lookup"><span data-stu-id="b8b43-240">The plug-in then uses this search path to attempt to resolve any missing assets.</span></span> <span data-ttu-id="b8b43-241">Можно добавить любое количество дополнительных путей поиска.</span><span class="sxs-lookup"><span data-stu-id="b8b43-241">You can add any number of additional search paths.</span></span>

<span data-ttu-id="b8b43-242">Когда ссылка будет разрешена, она появится в списке с зеленым значком:</span><span class="sxs-lookup"><span data-stu-id="b8b43-242">When a reference is resolved, it is listed with a green light icon:</span></span>

![Разрешенные ресурсы с зеленым значком](./media/batch-rendering-service/found_assets.png)

<span data-ttu-id="b8b43-244">Если сцена требует другие файлы, не обнаруженные подключаемым модулем, можно добавить дополнительные файлы или каталоги.</span><span class="sxs-lookup"><span data-stu-id="b8b43-244">If your scene requires other files that the plug-in has not detected, you can add additional files or directories.</span></span> <span data-ttu-id="b8b43-245">Используйте кнопки **Add Files** (Добавить файлы) и **Add Directory** (Добавить каталог).</span><span class="sxs-lookup"><span data-stu-id="b8b43-245">Use the **Add Files** and **Add Directory** buttons.</span></span> <span data-ttu-id="b8b43-246">При загрузке новой сцены (пока подключаемый модуль открыт) необходимо нажать кнопку **Refresh** (Обновить) для обновления ссылок сцены.</span><span class="sxs-lookup"><span data-stu-id="b8b43-246">If you load a new scene while the plug-in is open, be sure to click **Refresh** to update the scene's references.</span></span>

#### <a name="upload-assets-to-an-asset-project"></a><span data-ttu-id="b8b43-247">Отправка ресурсов в проект ресурсов</span><span class="sxs-lookup"><span data-stu-id="b8b43-247">Upload assets to an asset project</span></span>

<span data-ttu-id="b8b43-248">При отправке задания рендеринга соответствующие файлы, отображенные на вкладке **Assets** (Ресурсы), автоматически отправляются в службу хранилища Azure как проект ресурсов.</span><span class="sxs-lookup"><span data-stu-id="b8b43-248">When you submit a render job, the referenced files displayed in the **Assets** tab are automatically uploaded to Azure Storage as an asset project.</span></span> <span data-ttu-id="b8b43-249">Также можно отправить файлы ресурсов независимо от задания рендеринга. Для этого используйте кнопку **Upload** (Отправить) на вкладке **Assets** (Ресурсы).</span><span class="sxs-lookup"><span data-stu-id="b8b43-249">You can also upload the asset files independently of a render job, using the **Upload** button on the **Assets** tab.</span></span> <span data-ttu-id="b8b43-250">Имя проекта ресурсов указано в поле **Project** (Проект). По умолчанию оно соответствует имени текущего проекта Maya.</span><span class="sxs-lookup"><span data-stu-id="b8b43-250">The asset project name is specified in the **Project** field and is named after the current Maya project by default.</span></span> <span data-ttu-id="b8b43-251">После передачи файлов ресурсов сохраняется структура локального файла.</span><span class="sxs-lookup"><span data-stu-id="b8b43-251">When asset files are uploaded, the local file structure is preserved.</span></span> 

<span data-ttu-id="b8b43-252">После отправки на ресурсы может ссылаться любое количество заданий рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-252">Once uploaded, assets can be referenced by any number of render jobs.</span></span> <span data-ttu-id="b8b43-253">Все переданные ресурсы доступны для любого задания, которое ссылается на проект ресурсов, независимо от того, включены ли они в сцене.</span><span class="sxs-lookup"><span data-stu-id="b8b43-253">All uploaded assets are available to any job that references the asset project, whether or not they are included in the scene.</span></span> <span data-ttu-id="b8b43-254">Чтобы изменить проект ресурсов, на который ссылается следующее задание, измените имя в поле **Project** (Проект) на вкладке **Assets** (Ресурсы).</span><span class="sxs-lookup"><span data-stu-id="b8b43-254">To change the asset project referenced by your next job, change the name in the **Project** field in the **Assets** tab.</span></span> <span data-ttu-id="b8b43-255">Если есть файлы, на которые имеются ссылки, которые не нужно отправлять, запретите их выбор, используя зеленую кнопку.</span><span class="sxs-lookup"><span data-stu-id="b8b43-255">If there are referenced files that you wish to exclude from uploading, unselect them using the green button beside the listing.</span></span>

#### <a name="submit-and-monitor-the-render-job"></a><span data-ttu-id="b8b43-256">Отправка и отслеживание задания рендеринга</span><span class="sxs-lookup"><span data-stu-id="b8b43-256">Submit and monitor the render job</span></span>

<span data-ttu-id="b8b43-257">После настройки задания рендеринга в подключаемом модуле нажмите кнопку **Submit Job** (Отправить задание) на вкладке **Submit** (Отправить), чтобы отправить задание в пакетную службу:</span><span class="sxs-lookup"><span data-stu-id="b8b43-257">After you have configured the render job in the plug-in, click the **Submit Job** button on the **Submit** tab to submit the job to Batch:</span></span>

![Отправка задания рендеринга](./media/batch-rendering-service/submit_job.png)

<span data-ttu-id="b8b43-259">Вы можете отслеживать задание, которое выполняется, используя вкладку **Jobs** (Задания) в подключаемом модуле.</span><span class="sxs-lookup"><span data-stu-id="b8b43-259">You can monitor a job that is in progress from the **Jobs** tab on the plug-in.</span></span> <span data-ttu-id="b8b43-260">Выберите задание из списка, чтобы отобразить его текущее состояние.</span><span class="sxs-lookup"><span data-stu-id="b8b43-260">Select a job from the list to display the current state of the job.</span></span> <span data-ttu-id="b8b43-261">Вы также можете использовать эту вкладку, чтобы отменить и удалить задания, а также загрузить выходные данные и журналы рендеринга.</span><span class="sxs-lookup"><span data-stu-id="b8b43-261">You can also use this tab to cancel and delete jobs, as well as to download the outputs and rendering logs.</span></span> 

<span data-ttu-id="b8b43-262">Чтобы загрузить выходные данные, измените поле **выходных данных**, чтобы задать нужный каталог назначения.</span><span class="sxs-lookup"><span data-stu-id="b8b43-262">To download outputs, modify the **Outputs** field to set the desired destination directory.</span></span> <span data-ttu-id="b8b43-263">Щелкните значок шестеренки, чтобы запустить фоновый процесс, который отслеживает задание и загружает выходные данные по мере выполнения:</span><span class="sxs-lookup"><span data-stu-id="b8b43-263">Click the gear icon to start a background process that watches the job and downloads outputs as it progresses:</span></span> 

![Просмотр состояния задания и загрузка выходных данных](./media/batch-rendering-service/jobs.png)

<span data-ttu-id="b8b43-265">Вы можете закрыть Maya, не прерывая процесс загрузки.</span><span class="sxs-lookup"><span data-stu-id="b8b43-265">You can close Maya without disrupting the download process.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b8b43-266">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="b8b43-266">Next steps</span></span>

<span data-ttu-id="b8b43-267">Дополнительные сведения о пакетной службе см. в статье [Выполнение реальных параллельных рабочих нагрузок с использованием пакетной службы](batch-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b8b43-267">To learn more about Batch, see [Run intrinsically parallel workloads with Batch](batch-technical-overview.md).</span></span>