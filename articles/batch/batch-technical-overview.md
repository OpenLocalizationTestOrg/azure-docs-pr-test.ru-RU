---
title: "Выполнение пакетной службой Azure крупномасштабных решений для параллельных вычислений в облаке | Документация Майкрософт"
description: "Узнайте об использовании пакетной службы Azure для крупномасштабных параллельных рабочих нагрузок и рабочих нагрузок HPC."
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: 
ms.assetid: 93e37d44-7585-495e-8491-312ed584ab79
ms.service: batch
ms.workload: big-compute
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/05/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: a99f96db0c1e8bcd0cf29c564e5badf0eb728e56
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="run-intrinsically-parallel-workloads-with-batch"></a>Выполнение реальных параллельных рабочих нагрузок с использованием пакетной службы

Пакетная служба Azure — это служба платформы, которая позволяет эффективно работать с приложениями для крупномасштабных параллельных и высокопроизводительных вычислений (HPC) в облаке. Пакетная служба Azure планирует запуск ресурсоемких вычислительных задач в управляемой коллекции виртуальных машин и автоматически масштабирует вычислительные ресурсы, учитывая требования заданий.

С помощью пакетной службы Azure вы можете легко определять вычислительные ресурсы Azure, необходимые для параллельного выполнения приложений в нужном масштабе. Вам не нужно вручную создавать и настраивать кластер высокопроизводительных вычислений (HPC), отдельные виртуальные машины, виртуальные сети или сложную инфраструктуру планировщика задач и заданий, а также управлять всеми этими ресурсами. Пакетная служба Azure автоматизирует или упрощает выполнение этих задач.

## <a name="use-cases-for-batch"></a>Варианты использования пакетной службы
Пакетная служба — это управляемая служба Azure, которая используется для *пакетной обработки данных* и *пакетных вычислений*. Она выполняет множество схожих задач, чтобы получить нужный результат. Пакетная обработка данных чаще всего используется в организациях для обработки, преобразования и анализа больших объемов данных.

Пакетная служба хорошо работает с параллельными приложениями и рабочими нагрузками, которые Параллельные рабочие нагрузки — это нагрузки, которые можно легко разбить на несколько задач, выполняемых одновременно на нескольких компьютерах.

![Параллельные задачи][1]<br/>

Примеры рабочих нагрузок, которые обрабатываются по этому методу:

* Моделирование финансовых рисков.
* анализ климатических и гидрологических данных;
* отрисовка, обработка и анализ изображений;
* Кодирование и перекодировка мультимедиа.
* Анализ генетических последовательностей.
* анализ расчетного напряжения;
* Тестирование программного обеспечения.

Пакетная служба также может выполнять параллельные вычисления с уменьшением шага в конце и более сложные рабочие нагрузки HPC, такие как приложения, использующие [интерфейс передачи сообщений](batch-mpi.md) .

Сравнение решений пакетной службы с другими решениями HPC в Azure см. в руководстве по [решениям HPC, пакетной службы и больших вычислений](../virtual-machines/linux/high-performance-computing.md).

[!INCLUDE [batch-pricing-include](../../includes/batch-pricing-include.md)]

## <a name="scenario-scale-out-a-parallel-workload"></a>Сценарий: развертывание параллельной рабочей нагрузки
Распространенное решение с использованием API пакетной службы для взаимодействия с пакетной службой включает в себя масштабирование принципиально параллельных рабочих нагрузок, таких как отрисовка изображений для 3D-формата, в пуле вычислительных узлов. Этот пул вычислительных узлов может быть своего рода фермой отрисовки, которая предоставляет десятки, сотни или даже тысячи ядер для заданий отрисовки.

На следующей схеме показан общий рабочий процесс, в котором используется клиентское приложение или размещенная служба для запуска параллельной рабочей нагрузки с помощью пакетной службы.

![Рабочий процесс решения с использованием пакетной службы][2]

В этом распространенном сценарии для обработки вычислительной рабочей нагрузки приложением или службой в пакетной службе Azure необходимо выполнить следующие действия:

1. Передайте **входные файлы** и **приложение**, которое будет обрабатывать эти файлы, в учетную запись службы хранилища Azure. Входными файлами могут быть любые данные, которые будет обрабатывать приложение, например данные финансового моделирования или видеофайлы, которые необходимо перекодировать. В качестве приложения можно использовать любое приложение для обработки данных, например приложение отрисовки 3D-данных или медиатранскодер.
2. Создайте в учетной записи пакетной службы **пул** пакетной службы, состоящий из вычислительных узлов, т. е. виртуальных машин, которые будут выполнять задачи. Чтобы установить приложение (отправленное на шаге 1) при присоединении узлов к пулу, укажите такие свойства, как [размер узла](../cloud-services/cloud-services-sizes-specs.md), используемая операционная система и расположение в службе хранилища Azure. Кроме того, вы можете настроить [автоматическое масштабирование](batch-automatic-scaling.md) пула в соответствии с рабочей нагрузкой, создаваемой вашими задачами. Автоматическое масштабирование динамически регулирует число вычислительных узлов в пуле.
3. Создайте **задание** пакетной службы для выполнения рабочей нагрузки в пуле вычислительных узлов. При создании задание связывается с пулом пакетной службы.
4. Добавьте **задачи** в задание. При добавлении задач в задание пакетная служба автоматически планирует их выполнение в вычислительных узлах пула. Каждая задача использует приложение, переданное для обработки входных файлов.
   
   * 4а. Перед выполнением задачи данные (входные файлы), которые нужно обработать, могут быть скачаны в назначенный задаче вычислительный узел. Если приложение еще не установлено на узле (см. шаг 2), оно будет скачано на данном этапе. По завершении скачивания задачи будут выполняться в соответствующих назначенных узлах.
5. При выполнении задач можно отправить запрос к пакетной службе, чтобы отслеживать ход выполнения задания и задач. Ваше клиентское приложение или служба взаимодействует с пакетной службой через протокол HTTPS. Если вам нужно отслеживать тысячи задач, которые выполняются на тысячах вычислительных узлов, целесообразно [отправлять в пакетную службу эффективные запросы](batch-efficient-list-queries.md).
6. Выполненные задачи отправляют выходные данные в службу хранилища Azure. Вы также можете извлечь файлы непосредственно из файловой системы в вычислительном узле.
7. Если при мониторинге обнаруживается, что задачи в задании выполнены, выходные данные могут быть скачаны для дальнейшей обработки или оценки через клиентское приложение или службу.

Это всего лишь один из способов использования пакетной службы, и в этом сценарии описывается только небольшая часть доступных функций. Например, можно выполнять [несколько задач параллельно](batch-parallel-node-tasks.md) на каждом вычислительном узле. Кроме того, можно использовать [задачи подготовки и завершения задания](batch-job-prep-release.md), чтобы подготовить узлы к запуску заданий, а затем выполнить очистку.

## <a name="next-steps"></a>Дальнейшие действия
Теперь, когда вы ознакомились с пакетной службой, пора узнать, как ее можно использовать для обработки параллельных рабочих нагрузок с ресурсоемкими вычислениями.

* Информация, необходимая для тех, кто готовится использовать пакетную службу, доступна в статье [Обзор функций пакетной службы для разработчиков](batch-api-basics.md). Эта статья содержит дополнительные подробные сведения о таких ресурсах пакетной службы, как пулы, узлы, задания, задачи и многие функции API, которые можно использовать при создании приложения пакетной службы.
* См. дополнительные сведения об [API-интерфейсах и средствах пакетной службы](batch-apis-tools.md) для сборки решений пакетной службы.
* Сведения об использовании C# и библиотеки .NET для пакетной службы при обработке простой рабочей нагрузки с помощью стандартного рабочего процесса пакетной службы см. в статье [Начало работы с библиотекой пакетной службы Azure для .NET](batch-dotnet-get-started.md). Это один из основных ресурсов, с которым нужно ознакомиться, приступая к работе с пакетной службой. Есть также версия руководства для [Python](batch-python-tutorial.md).
* Скачайте [примеры кода с GitHub][github_samples], чтобы увидеть, как C# и Python взаимодействуют с пакетной службой для планирования и обработки примеров рабочих нагрузок.
* Список ресурсов для работы с пакетной службой см. на схеме обучения [Пакетная служба][learning_path].


[github_samples]: https://github.com/Azure/azure-batch-samples
[learning_path]: https://azure.microsoft.com/documentation/learning-paths/batch/

[1]: ./media/batch-technical-overview/tech_overview_01.png
[2]: ./media/batch-technical-overview/tech_overview_02.png
