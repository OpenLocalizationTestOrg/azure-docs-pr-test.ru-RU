---
title: "пулы aaaProvision пакетной службы Azure из пользовательских образов | Документы Microsoft"
description: "Можно создать пакет пула из tooprovision пользовательского образа вычислительные узлы, которые содержат программное обеспечение hello и данные, необходимые для вашего приложения. Пользовательские изображения позволяют эффективно tooconfigure вычислительные узлы toorun рабочих нагрузок пакета."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 5cb698ee90f7d3ec9ffe69fa4dc602132c3f7569
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-custom-image-toocreate-a-pool-of-virtual-machines"></a><span data-ttu-id="aca43-104">Использование пользовательского изображения toocreate пула виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="aca43-104">Use a custom image toocreate a pool of virtual machines</span></span>

<span data-ttu-id="aca43-105">При создании пула виртуальных машин в пакете Azure необходимо указать образ виртуальной машины (VM), который предоставляет hello операционной системы для каждого вычислительных узлов в пул hello.</span><span class="sxs-lookup"><span data-stu-id="aca43-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides hello operating system for each compute node in hello pool.</span></span> <span data-ttu-id="aca43-106">Пул виртуальных машин можно создать с помощью образа Microsoft Azure Marketplace или подготовленного пользовательского образа VHD.</span><span class="sxs-lookup"><span data-stu-id="aca43-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="aca43-107">При предоставлении настраиваемого образа, вы можете контролировать настройки hello операционной системы во время hello, который предоставляется в каждом вычислительном узле.</span><span class="sxs-lookup"><span data-stu-id="aca43-107">When you provide a custom image, you have control over how hello operating system is configured at hello time that each compute node is provisioned.</span></span> <span data-ttu-id="aca43-108">Образ также могут включать приложения и ссылочные данные, доступные на hello вычислительного узла сразу же после его инициализации.</span><span class="sxs-lookup"><span data-stu-id="aca43-108">Your custom image can also include applications and reference data that are available on hello compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="aca43-109">С помощью пользовательского образа можно сэкономить время пользователя в вашем пуле вычислительных узлов получении готов toorun рабочей нагрузки пакета.</span><span class="sxs-lookup"><span data-stu-id="aca43-109">Using a custom image can save you time in getting your pool's compute nodes ready toorun your Batch workload.</span></span> <span data-ttu-id="aca43-110">Вы всегда можете использовать образ Azure Marketplace и установить программное обеспечение на каждом вычислительном узле после его подготовки. Однако этот подход менее эффективен, чем использование пользовательского образа.</span><span class="sxs-lookup"><span data-stu-id="aca43-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="aca43-111">Некоторые причины toouse пользовательского образа, который настроен для вашего сценария включают необходимости:</span><span class="sxs-lookup"><span data-stu-id="aca43-111">Some reasons toouse a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="aca43-112">**Настройка hello операционной системы (ОС)** специальной конфигурации hello операционной системы, которые могут выполняться над hello пользовательского образа.</span><span class="sxs-lookup"><span data-stu-id="aca43-112">**Configure hello operating system (OS)** Any special configuration of hello operating system can be performed on hello custom image.</span></span> 
- <span data-ttu-id="aca43-113">**Установки больших приложений.**</span><span class="sxs-lookup"><span data-stu-id="aca43-113">**Install large applications.**</span></span> <span data-ttu-id="aca43-114">Установка приложений на пользовательский образ более эффективна, чем их установка на каждом вычислительном узле после его подготовки.</span><span class="sxs-lookup"><span data-stu-id="aca43-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="aca43-115">**Копирования значительного объема данных.**</span><span class="sxs-lookup"><span data-stu-id="aca43-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="aca43-116">Если данные hello скопированный toohello пользовательского образа, ему только toobe скопировано, вместо того чтобы tooeach вычислительных узлов, экономя время и пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="aca43-116">If hello data is copied toohello custom image, it only needs toobe copied once, rather than tooeach compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="aca43-117">**Перезагрузите hello виртуальной Машины во время процесса установки hello.**</span><span class="sxs-lookup"><span data-stu-id="aca43-117">**Reboot hello VM during hello setup process.**</span></span> <span data-ttu-id="aca43-118">Hello перезагрузка виртуальной Машины может быть много времени, особенно в том случае, если количество вычислительных узлов.</span><span class="sxs-lookup"><span data-stu-id="aca43-118">Rebooting hello VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="aca43-119">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="aca43-119">Prerequisites</span></span>

- <span data-ttu-id="aca43-120">**Учетная запись пакета, созданных с помощью режима выделения пула подписки пользователя hello.**</span><span class="sxs-lookup"><span data-stu-id="aca43-120">**A Batch account created with hello User Subscription pool allocation mode.**</span></span> <span data-ttu-id="aca43-121">toouse пулы виртуальной машины tooprovision пользовательского образа, создание учетной записи пакета с hello подписки пользователя [режим распределения пула](batch-api-basics.md#pool-allocation-mode).</span><span class="sxs-lookup"><span data-stu-id="aca43-121">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="aca43-122">В этом режиме пакет пулы выделяются в подписку hello, где находится учетная запись hello.</span><span class="sxs-lookup"><span data-stu-id="aca43-122">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="aca43-123">. В разделе hello [учетной записи](batch-api-basics.md#account) статьи [разработка крупномасштабных параллельных вычислений решений с использованием пакета](batch-api-basics.md) сведения об установке режима выделения пула hello при создании учетной записи пакетной.</span><span class="sxs-lookup"><span data-stu-id="aca43-123">See hello [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting hello pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="aca43-124">**Учетная запись хранения Azure.**</span><span class="sxs-lookup"><span data-stu-id="aca43-124">**An Azure Storage account.**</span></span> <span data-ttu-id="aca43-125">toocreate пула виртуальных машин с помощью пользовательского образа, необходима учетная запись хранилища Azure стандартные, общего назначения в hello ту же подписку и регион.</span><span class="sxs-lookup"><span data-stu-id="aca43-125">toocreate a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in hello same subscription and region.</span></span> <span data-ttu-id="aca43-126">При создании настраиваемого образа из виртуальной Машины Azure, необходимо будет скопировать hello toohello учетная запись хранилища образов где располагается диска ОС ВМ hello, и вам не нужна toocreate отдельную учетную запись хранилища.</span><span class="sxs-lookup"><span data-stu-id="aca43-126">If you create a custom image from an Azure VM, then you will copy hello image toohello storage account where hello VM's OS disk resides, and you won't need toocreate a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="aca43-127">Подготовка пользовательского образа</span><span class="sxs-lookup"><span data-stu-id="aca43-127">Prepare a custom image</span></span>

<span data-ttu-id="aca43-128">tooprepare пользовательского образа для использования с использованием пакета необходимо обобщить существующей установки Windows или Linux.</span><span class="sxs-lookup"><span data-stu-id="aca43-128">tooprepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="aca43-129">При подготовке операционной системы удаляются сведения о компьютере.</span><span class="sxs-lookup"><span data-stu-id="aca43-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="aca43-130">результат Hello — это изображение, можно установить на других компьютерах или виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="aca43-130">hello result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="aca43-131">Пакет не поддерживается с помощью Azure управляемых образов tooprovision пулу.</span><span class="sxs-lookup"><span data-stu-id="aca43-131">Batch does not currently support using Azure managed images tooprovision a pool.</span></span> <span data-ttu-id="aca43-132">пользовательский образ Hello используйте tooprovision пул должен храниться в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="aca43-132">hello custom image you use tooprovision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="aca43-133">При подготовке настраиваемого образа, имейте в виду hello после точки.</span><span class="sxs-lookup"><span data-stu-id="aca43-133">When preparing your custom image, keep in mind hello following points:</span></span>
> - <span data-ttu-id="aca43-134">Убедитесь, что hello базовый образ ОС используется tooprovision пулов пакета не имеют предварительно установленные расширения, Azure, такие как расширение пользовательского скрипта hello.</span><span class="sxs-lookup"><span data-stu-id="aca43-134">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="aca43-135">Если образ hello содержит предварительно установленные расширения, Azure могут возникнуть проблемы, развертывание hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="aca43-135">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="aca43-136">Убедитесь, что hello базовый образ ОС указываемые использует hello временный диск по умолчанию, как hello агента узла пакетной в данный момент ожидает временного диска по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="aca43-136">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="aca43-137">В качестве пользовательского образа можно использовать любой имеющийся образ Windows или Linux.</span><span class="sxs-lookup"><span data-stu-id="aca43-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="aca43-138">Например, если хотите toouse локального изображения, а затем отправить учетной записи хранилища Azure hello изображения tooan в hello ту же подписку и регион учетной записи пакета с помощью [AzCopy](../storage/storage-use-azcopy.md) или другого средства передачи.</span><span class="sxs-lookup"><span data-stu-id="aca43-138">For example, if you wish toouse a local image, then upload hello image tooan Azure Storage account that is in hello same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="aca43-139">Также пользовательский образ можно подготовить из новой или имеющейся виртуальной машины Azure.</span><span class="sxs-lookup"><span data-stu-id="aca43-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="aca43-140">При создании новой виртуальной Машины можно использовать образ Azure Marketplace в качестве базового образа hello для настраиваемого образа и затем выполнить его настройку.</span><span class="sxs-lookup"><span data-stu-id="aca43-140">If you are creating a new VM, you can use an Azure Marketplace image as hello base image for your custom image and then customize it.</span></span> <span data-ttu-id="aca43-141">toocustomize hello базового образа, создание ВМ Azure и добавление приложений или tooit данных.</span><span class="sxs-lookup"><span data-stu-id="aca43-141">toocustomize hello base image, create an Azure VM and add your applications or data tooit.</span></span> <span data-ttu-id="aca43-142">Затем обобщить hello tooserve виртуальной Машины в качестве настраиваемого образа и сохраните его tooAzure хранилища.</span><span class="sxs-lookup"><span data-stu-id="aca43-142">Then generalize hello VM tooserve as your custom image and save it tooAzure Storage.</span></span> 

<span data-ttu-id="aca43-143">tooprepare пользовательского образа из виртуальной Машины Azure, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="aca43-143">tooprepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="aca43-144">Создайте **неуправляемую** виртуальную машину Azure из образа Microsoft Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="aca43-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="aca43-145">Microsoft Azure Marketplace содержит образы для [Windows](../virtual-machines/windows/quick-create-portal.md) и [Linux](../virtual-machines/linux/quick-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="aca43-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="aca43-146">На шаге 3 hello процесс создания виртуальной Машины, убедитесь, что **нет** для **хранилища: Используйте управляемые дисков** параметр.</span><span class="sxs-lookup"><span data-stu-id="aca43-146">On step 3 of hello VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="aca43-147">Также Обратите внимание hello имя учетной записи хранения для диска ОС ВМ hello, как эта учетная запись хранения является также где Azure будет сохранять настраиваемого образа:</span><span class="sxs-lookup"><span data-stu-id="aca43-147">Also take note of hello storage account name for hello VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![Создание неуправляемой виртуальной Машины и имя учетной записи хранения hello Примечание](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="aca43-149">Завершить процесс создания ВМ hello и дождитесь ее toobe, выделенной с помощью Azure.</span><span class="sxs-lookup"><span data-stu-id="aca43-149">Complete hello process of creating your VM, and wait for it toobe allocated by Azure.</span></span> <span data-ttu-id="aca43-150">Вот рисунок, демонстрирующий виртуальной Машины в hello портал Azure в рабочем состоянии hello.</span><span class="sxs-lookup"><span data-stu-id="aca43-150">Here's an image that shows a VM in hello Azure portal in hello running state:</span></span>

    ![Создание виртуальной машины из образа Marketplace](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="aca43-152">После запуска hello виртуальной Машины подключитесь tooit посредством протокола удаленного рабочего СТОЛА (для Windows) или SSH (для Linux).</span><span class="sxs-lookup"><span data-stu-id="aca43-152">Once hello VM is running, connect tooit via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="aca43-153">Установить все необходимое программное обеспечение или скопируйте требуемые данные и затем обобщить hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="aca43-153">Install any necessary software or copy desired data, and then generalize hello VM.</span></span> <span data-ttu-id="aca43-154">Следуйте инструкциям hello в [Generalize hello ВМ](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span><span class="sxs-lookup"><span data-stu-id="aca43-154">Follow hello steps described in [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="aca43-155">Выполните действия hello слишком[вход tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span><span class="sxs-lookup"><span data-stu-id="aca43-155">Follow hello steps too[Log in tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="aca43-156">tooinstall Azure PowerShell, в разделе [Обзор Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span><span class="sxs-lookup"><span data-stu-id="aca43-156">tooinstall Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="aca43-157">Затем выполните шаги hello слишком[Deallocate hello виртуальной Машины и набор hello состояние toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span><span class="sxs-lookup"><span data-stu-id="aca43-157">Next, follow hello steps too[Deallocate hello VM and set hello state toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="aca43-158">В hello портал Azure Обратите внимание, Виртуальная машина освобождена приветствия:</span><span class="sxs-lookup"><span data-stu-id="aca43-158">In hello Azure portal, notice that hello VM is deallocated:</span></span>

    ![Убедитесь, что Виртуальная машина освобождена приветствия](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="aca43-160">Создайте и сохраните tooAzure образ виртуальной Машины hello хранилища с помощью hello [AzureRmVMImage Сохранить](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) командлета PowerShell.</span><span class="sxs-lookup"><span data-stu-id="aca43-160">Create and save hello VM image tooAzure Storage using hello [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="aca43-161">Следуйте инструкциям hello, описанным в [создать изображение hello](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span><span class="sxs-lookup"><span data-stu-id="aca43-161">Follow hello instructions described in [Create hello image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="aca43-162">образ виртуальной Машины Hello сохраняется toohello учетную запись хранилища Azure создан при создании hello виртуальной Машины, как показано на первом шаге этой процедуры.</span><span class="sxs-lookup"><span data-stu-id="aca43-162">hello VM image is saved toohello Azure Storage account created when hello VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="aca43-163">Hello AzureRmVMImage сохранения командлет сохраняет hello изображения toohello **системы** контейнера в этой учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="aca43-163">hello Save-AzureRmVMImage cmdlet saves hello image toohello **system** container in that storage account.</span></span> <span data-ttu-id="aca43-164">Hello `-DestinationContainername` имена параметров виртуального каталога в hello **системы** контейнера.</span><span class="sxs-lookup"><span data-stu-id="aca43-164">hello `-DestinationContainername` parameter names a virtual directory within hello **system** container.</span></span> <span data-ttu-id="aca43-165">Hello `-VHDNamePrefix` параметр указывает префикс для hello имя большого двоичного объекта.</span><span class="sxs-lookup"><span data-stu-id="aca43-165">hello `-VHDNamePrefix` parameter specifies a prefix for hello blob name.</span></span> <span data-ttu-id="aca43-166">Этот префикс — присоединяемый toohello имя BLOB-объекта с дефиса.</span><span class="sxs-lookup"><span data-stu-id="aca43-166">This prefix is prepended toohello blob name with a hyphen.</span></span> 

    <span data-ttu-id="aca43-167">Например предположим, что вызвать AzureRmVMImage сохранения с hello следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="aca43-167">For example, suppose you call Save-AzureRmVMImage with hello following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="aca43-168">полученное изображение Hello сохраняется toohello расположение и имя большого двоичного объекта, показано ниже:</span><span class="sxs-lookup"><span data-stu-id="aca43-168">hello resulting image is saved toohello location and blob name shown here:</span></span>

    ![Расположение сохраненного VHD в контейнере системы](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="aca43-170">Неуправляемая виртуальная машина Azure создает несколько учетных записей хранения для различных целей.</span><span class="sxs-lookup"><span data-stu-id="aca43-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="aca43-171">Если вы не заметили hello имя контейнера хранилища hello hello ОС диска при hello виртуальной Машины была создана, а затем найти связанные hello хранилища учетной записи, содержащий hello **системы** контейнера.</span><span class="sxs-lookup"><span data-stu-id="aca43-171">If you did not note hello name of hello storage container for hello OS disk when hello VM was created, then find hello associated storage account that contains hello **system** container.</span></span> <span data-ttu-id="aca43-172">Перемещаться по hello **системы** toofind hello пользовательский образ контейнера с помощью hello значения, заданные для hello **AzureRmVMImage Сохранить** команды.</span><span class="sxs-lookup"><span data-stu-id="aca43-172">Navigate through hello **system** container toofind hello custom image using hello values you specified for hello **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-hello-portal"></a><span data-ttu-id="aca43-173">Создание пула из пользовательского образа на портале hello</span><span class="sxs-lookup"><span data-stu-id="aca43-173">Create a pool from a custom image in hello portal</span></span>

<span data-ttu-id="aca43-174">Если вы сохранили пользовательский образ и знаете его расположение, можно создать пул пакетной службы из этого образа.</span><span class="sxs-lookup"><span data-stu-id="aca43-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="aca43-175">Выполните эти шаги toocreate пул из hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="aca43-175">Follow these steps toocreate a pool from hello Azure portal:</span></span>

1. <span data-ttu-id="aca43-176">Перейдите tooyour пакетной учетной записи в hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="aca43-176">Navigate tooyour Batch account in hello Azure portal.</span></span> <span data-ttu-id="aca43-177">Эта учетная запись должна быть в hello той же подписке и регионе, что хранилище hello учетной записи содержащего hello пользовательского образа.</span><span class="sxs-lookup"><span data-stu-id="aca43-177">This account must be in hello same subscription and region as hello storage account containing hello custom image.</span></span> 
2. <span data-ttu-id="aca43-178">В hello **параметры** окна на hello слева, выберите hello **пулы** элемента меню.</span><span class="sxs-lookup"><span data-stu-id="aca43-178">In hello **Settings** window on hello left, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="aca43-179">В hello **пулы** окно, выберите hello **добавить** команды.</span><span class="sxs-lookup"><span data-stu-id="aca43-179">In hello **Pools** window, select hello **Add** command.</span></span>
4. <span data-ttu-id="aca43-180">На hello **"Добавить пул"** выберите **настраиваемое изображение (ОС Linux или Windows)** из hello **тип изображения** раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="aca43-180">On hello **Add Pool** window, select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="aca43-181">портал Hello отображает hello **настраиваемое изображение** выбора.</span><span class="sxs-lookup"><span data-stu-id="aca43-181">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="aca43-182">Перейдите учетной записи хранилища toohello, где находится пользовательский образ, и выберите hello нужный виртуальный жесткий ДИСК из контейнера hello.</span><span class="sxs-lookup"><span data-stu-id="aca43-182">Navigate toohello storage account where your custom image is located, and select hello desired VHD from hello container.</span></span> 
5. <span data-ttu-id="aca43-183">Правильный выбор hello **издателя, предложения и Sku** для вашего пользовательского виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="aca43-183">Select hello correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="aca43-184">Укажите hello оставшихся параметров, включая hello **размер узла**, **целевых узлах, выделенный**, и **низкий уровень приоритета узлов**, а также любой требуемой необязательные параметры.</span><span class="sxs-lookup"><span data-stu-id="aca43-184">Specify hello remaining required settings, including hello **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="aca43-185">Например, для настраиваемого образа Microsoft Windows Server Datacenter 2016 hello **"Добавить пул"** появится окно, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="aca43-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, hello **Add Pool** window appears as shown here:</span></span>

    ![Добавление пула из пользовательского образа Windows](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="aca43-187">toocheck ли существующего пула основан на настраиваемый образ, см. hello **операционной системы** свойства раздела hello ресурсов сводки hello **пула** окна.</span><span class="sxs-lookup"><span data-stu-id="aca43-187">toocheck whether an existing pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** window.</span></span> <span data-ttu-id="aca43-188">Если пул hello был создан из образа, он настраивается слишком**пользовательского образа виртуальной Машины**.</span><span class="sxs-lookup"><span data-stu-id="aca43-188">If hello pool was created from a custom image, it is set too**Custom VM Image**.</span></span>

<span data-ttu-id="aca43-189">Все пользовательские виртуальные жесткие диски, связанные с пулом, отображаются на hello пула **свойства** окна.</span><span class="sxs-lookup"><span data-stu-id="aca43-189">All custom VHDs associated with a pool are displayed on hello pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="aca43-190">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="aca43-190">Next steps</span></span>

- <span data-ttu-id="aca43-191">Исчерпывающий обзор пакетной службы см. в статье [Разработка решений для крупномасштабных параллельных вычислений с использованием пакетной службы](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="aca43-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="aca43-192">Сведения о создании учетной записи пакетной см. в разделе [создать учетную запись пакета с портала Azure hello](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="aca43-192">For information about creating a Batch account, see [Create a Batch account with hello Azure portal](batch-account-create-portal.md).</span></span>
