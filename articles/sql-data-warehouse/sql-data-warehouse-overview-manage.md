---
title: "Управление базами данных в хранилище данных SQL Azure | Документация Майкрософт"
description: "Общие сведения об управлении базами данных в хранилище данных SQL. Рассматриваются средства управления, динамические административные представления и масштабирование производительности, устранение неполадок с запросами, создание надлежащих политик безопасности и восстановление базы данных после повреждения данных или регионального сбоя."
services: sql-data-warehouse
documentationcenter: NA
author: kevinvngo
manager: jhubbard
editor: 
ms.assetid: 8576fdb3-71fe-4b3b-a4e0-5e8a7f148acf
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: manage
ms.date: 10/31/2016
ms.author: kevin;barbkess
ms.openlocfilehash: b14d0aad5a1f50c225391dbab27ec6240423a65a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="manage-databases-in-azure-sql-data-warehouse"></a><span data-ttu-id="016f6-104">Управление базами данных в хранилище данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="016f6-104">Manage databases in Azure SQL Data Warehouse</span></span>
<span data-ttu-id="016f6-105">Хранилище данных SQL позволяет автоматизировать многие аспекты управления базами данных.</span><span class="sxs-lookup"><span data-stu-id="016f6-105">SQL Data Warehouse automates many aspects of managing your databases.</span></span> <span data-ttu-id="016f6-106">Например, для масштабирования производительности достаточно выбрать и оплатить необходимый уровень вычислительных ресурсов, после чего всю работу по увеличению и уменьшению масштаба выполнит хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="016f6-106">For example, to scale performance you only need to adjust and pay for the right level of compute resources, and then let SQL Data Warehouse do all the work of scaling out and scaling back.</span></span>

<span data-ttu-id="016f6-107">Без сомнения, вам потребуется отслеживать рабочую нагрузку для определения требований к производительности, а также устранять неполадки с долго выполняющимися запросами.</span><span class="sxs-lookup"><span data-stu-id="016f6-107">You will undoubtedly want to monitor your workload to identify your performance needs as well as troubleshoot long-running queries.</span></span> <span data-ttu-id="016f6-108">Также нужно будет выполнить ряд задач безопасности, настроив разрешения для пользователей и имен входа.</span><span class="sxs-lookup"><span data-stu-id="016f6-108">You will also need to perform a few security tasks to manage permissions for users and logins.</span></span>

<span data-ttu-id="016f6-109">В этом обзоре рассматриваются следующие аспекты управления хранилищем данных SQL.</span><span class="sxs-lookup"><span data-stu-id="016f6-109">This overview covers these aspects of managing SQL Data Warehouse.</span></span>

* <span data-ttu-id="016f6-110">Средства управления</span><span class="sxs-lookup"><span data-stu-id="016f6-110">Management tools</span></span>
* <span data-ttu-id="016f6-111">Масштабирование вычислительных ресурсов</span><span class="sxs-lookup"><span data-stu-id="016f6-111">Scale Compute</span></span>
* <span data-ttu-id="016f6-112">Остановка и возобновление</span><span class="sxs-lookup"><span data-stu-id="016f6-112">Pause and Resume</span></span>
* <span data-ttu-id="016f6-113">Рекомендации по производительности</span><span class="sxs-lookup"><span data-stu-id="016f6-113">Performance Best Practices</span></span>
* <span data-ttu-id="016f6-114">Мониторинг запросов</span><span class="sxs-lookup"><span data-stu-id="016f6-114">Query Monitoring</span></span>
* <span data-ttu-id="016f6-115">Безопасность</span><span class="sxs-lookup"><span data-stu-id="016f6-115">Security</span></span>
* <span data-ttu-id="016f6-116">Архивация и восстановление</span><span class="sxs-lookup"><span data-stu-id="016f6-116">Backup and restore</span></span>

## <a name="management-tools"></a><span data-ttu-id="016f6-117">Средства управления</span><span class="sxs-lookup"><span data-stu-id="016f6-117">Management tools</span></span>
<span data-ttu-id="016f6-118">Для управления базами данных в хранилище данных SQL можно использовать различные средства.</span><span class="sxs-lookup"><span data-stu-id="016f6-118">You can use a variety of tools to manage databases in SQL Data Warehouse.</span></span> <span data-ttu-id="016f6-119">По мере накопления опыта в управлении базами данных у вас появятся свои предпочитаемые средства для различных задач.</span><span class="sxs-lookup"><span data-stu-id="016f6-119">As you manage databases, you will develop tool preferences for each type of task you need to perform.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="016f6-120">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="016f6-120">Azure portal</span></span>
<span data-ttu-id="016f6-121">[Портал Azure][Azure portal] — это веб-портал, на котором можно создавать, обновлять и удалять базы данных, а также отслеживать ресурсы базы данных.</span><span class="sxs-lookup"><span data-stu-id="016f6-121">The [Azure portal][Azure portal] is a web-based portal where you can create, update, and delete databases and monitor database resources.</span></span> <span data-ttu-id="016f6-122">Это хороший инструмент для тех, кто только знакомится с Azure или управляет небольшим количеством баз данных хранилищ, а также для оперативного выполнения любой задачи по управлению.</span><span class="sxs-lookup"><span data-stu-id="016f6-122">This tool is great is if you're just getting started with Azure, managing a small number of data warehouse databases, or need to quickly do something.</span></span>

<span data-ttu-id="016f6-123">Начало работы с порталом Azure описывается в статье [Создание хранилища данных SQL Azure][Create a SQL Data Warehouse (Azure portal)].</span><span class="sxs-lookup"><span data-stu-id="016f6-123">To get started with the Azure portal, see [Create a SQL Data Warehouse (Azure portal)][Create a SQL Data Warehouse (Azure portal)].</span></span>

### <a name="sql-server-data-tools-in-visual-studio"></a><span data-ttu-id="016f6-124">SQL Server Data Tools в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="016f6-124">SQL Server Data Tools in Visual Studio</span></span>
<span data-ttu-id="016f6-125">[SQL Server Data Tools][SQL Server Data Tools] (SSDT) в Visual Studio обеспечивают возможности подключения, управления и разработки для баз данных.</span><span class="sxs-lookup"><span data-stu-id="016f6-125">[SQL Server Data Tools][SQL Server Data Tools] (SSDT) in Visual Studio allows you to connect to, manage, and develop your databases.</span></span> <span data-ttu-id="016f6-126">Если вы не новичок в разработке приложений и уже знакомы с Visual Studio или другими интегрированными средами разработки (IDE), предлагаем обратить внимание на SSDT в составе Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="016f6-126">If you're an application developer familiar with Visual Studio or other integrated development environments (IDEs), try using SSDT in Visual Studio.</span></span>

<span data-ttu-id="016f6-127">Средства SSDT содержат обозреватель объектов сервера SQL, который позволяет визуализировать, подключать и выполнять скрипты для баз данных хранилища данных SQL.</span><span class="sxs-lookup"><span data-stu-id="016f6-127">SSDT includes the SQL Server Object Explorer which enables you to visualize, connect, and execute scripts against SQL Data Warehouse databases.</span></span> <span data-ttu-id="016f6-128">Чтобы быстро подключиться к хранилищу данных SQL, нажмите кнопку **Открыть в Visual Studio** в командной строке во время просмотра сведений базы данных на классическом портале Azure.</span><span class="sxs-lookup"><span data-stu-id="016f6-128">To quickly connect to SQL Data Warehouse, you can simply click the **Open in Visual Studio** button in the command bar when viewing the database details in the Azure Classic Portal.</span></span>  

<span data-ttu-id="016f6-129">Начало работы с SSDT в Visual Studio описывается в статье [Подключение к хранилищу данных SQL с помощью Visual Studio и SSDT][Query Azure SQL Data Warehouse with Visual Studio].</span><span class="sxs-lookup"><span data-stu-id="016f6-129">To get started with SSDT in Visual Studio, see [Query Azure SQL Data Warehouse with Visual Studio][Query Azure SQL Data Warehouse with Visual Studio].</span></span>

### <a name="command-line-tools"></a><span data-ttu-id="016f6-130">Программы командной строки</span><span class="sxs-lookup"><span data-stu-id="016f6-130">Command-line tools</span></span>
<span data-ttu-id="016f6-131">Средства командной строки идеально подходят для автоматизации рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="016f6-131">Command line tools are ideal for automating your workloads.</span></span>  <span data-ttu-id="016f6-132">PowerShell и sqlcmd предлагают отличные возможности по автоматизации процессов.</span><span class="sxs-lookup"><span data-stu-id="016f6-132">PowerShell and sqlcmd are two great ways to automate your processes.</span></span>  <span data-ttu-id="016f6-133">Рекомендуется использовать эти средства для управления большим количеством логических серверов и развертывания изменений ресурсов в рабочей среде, так как обязательные задачи должны быть включены в скрипт, а затем автоматизированы.</span><span class="sxs-lookup"><span data-stu-id="016f6-133">We recommend these tools for managing a large number of logical servers and deploying resource changes in a production environment as the tasks necessary can be scripted and then automated.</span></span>

### <a name="dynamic-management-views"></a><span data-ttu-id="016f6-134">Динамические административные представления</span><span class="sxs-lookup"><span data-stu-id="016f6-134">Dynamic management views</span></span>
<span data-ttu-id="016f6-135">Динамические административные представления предлагают базовые средства управления хранилищем данных SQL.</span><span class="sxs-lookup"><span data-stu-id="016f6-135">DMVs are the bread and butter of managing SQL Data Warehouse.</span></span> <span data-ttu-id="016f6-136">Практически все данные, которые появляются на портале, связаны с динамическими административными представлениями.</span><span class="sxs-lookup"><span data-stu-id="016f6-136">Almost all information that surfaces in the portal relies on DMVs.</span></span> <span data-ttu-id="016f6-137">Список динамических административных представлений хранилища данных SQL см. в статье [Системные представления][SQL Data Warehouse system views].</span><span class="sxs-lookup"><span data-stu-id="016f6-137">To see a list of SQL Data Warehouse DMVs, see [SQL Data Warehouse system views][SQL Data Warehouse system views].</span></span>

<span data-ttu-id="016f6-138">Начало работы описывается в статьях [Подключение к хранилищу данных SQL с помощью sqlcmd][Connect and query with sqlcmd] и [Создание хранилища данных SQL с помощью PowerShell][Create a database (PowerShell)].</span><span class="sxs-lookup"><span data-stu-id="016f6-138">To get started, see [Connect and query with sqlcmd][Connect and query with sqlcmd], and [Create a database (PowerShell)][Create a database (PowerShell)].</span></span>

## <a name="scale-compute"></a><span data-ttu-id="016f6-139">Масштабирование вычислительных ресурсов</span><span class="sxs-lookup"><span data-stu-id="016f6-139">Scale compute</span></span>
<span data-ttu-id="016f6-140">В хранилище данных SQL можно быстро увеличить или уменьшить производительность, настроив объем вычислительных ресурсов ЦП, памяти и пропускной способности ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="016f6-140">In SQL Data Warehouse, you can quickly scale performance out or back by increasing or decreasing compute resources of CPU, memory, and I/O bandwidth.</span></span> <span data-ttu-id="016f6-141">Для масштабирования производительности достаточно настроить число единиц использования хранилища данных, которые хранилище данных SQL выделяет для базы данных.</span><span class="sxs-lookup"><span data-stu-id="016f6-141">To scale performance, all you need to do is adjust the number of data warehouse units (DWUs) that SQL Data Warehouse allocates to your database.</span></span> <span data-ttu-id="016f6-142">Хранилище данных SQL быстро вносит изменения и применяет все базовые изменения в оборудовании или программном обеспечении.</span><span class="sxs-lookup"><span data-stu-id="016f6-142">SQL Data Warehouse quickly makes the change and handles all the underlying changes to hardware or software.</span></span>

<span data-ttu-id="016f6-143">Дополнительные сведения о масштабировании единиц использования хранилища данных (DWU) см. в статье [Масштабирование производительности].</span><span class="sxs-lookup"><span data-stu-id="016f6-143">To learn more about scaling DWUs, see [Scale performance].</span></span>

## <a name="pause-and-resume"></a><span data-ttu-id="016f6-144">Остановка и возобновление</span><span class="sxs-lookup"><span data-stu-id="016f6-144">Pause and resume</span></span>
<span data-ttu-id="016f6-145">Для сокращения затрат можно приостанавливать и возобновлять работу вычислительных ресурсов по требованию.</span><span class="sxs-lookup"><span data-stu-id="016f6-145">To save costs, you can pause and resume compute resources on-demand.</span></span> <span data-ttu-id="016f6-146">Например, если база данных не будет использоваться ночью и по выходным, ее работу можно приостанавливать на это время и возобновлять днем.</span><span class="sxs-lookup"><span data-stu-id="016f6-146">For example, if you won't be using the database during the night and on weekends, you can pause it during those times, and resume it during the day.</span></span> <span data-ttu-id="016f6-147">Когда работа база данных приостановлена, оплата за единицы DWU не взимается.</span><span class="sxs-lookup"><span data-stu-id="016f6-147">You won't be charged for DWUs while the database is paused.</span></span>

<span data-ttu-id="016f6-148">Дополнительные сведения см. в статьях [Приостановка работы вычислительных ресурсов][Pause compute] и [Возобновление работы вычислительных ресурсов][Resume compute].</span><span class="sxs-lookup"><span data-stu-id="016f6-148">For more information, see [Pause compute][Pause compute], and [Resume compute][Resume compute].</span></span>

## <a name="performance-best-practices"></a><span data-ttu-id="016f6-149">Рекомендации по производительности</span><span class="sxs-lookup"><span data-stu-id="016f6-149">Performance Best Practices</span></span>
<span data-ttu-id="016f6-150">Приступая к работе с новой технологией, можно сэкономить много времени благодаря советам и рекомендациям, которые правильнее всего использовать с самого начала.</span><span class="sxs-lookup"><span data-stu-id="016f6-150">When getting started with a new technology, discovering the tips and tricks that work best right from the start can save you lots of time.</span></span>  <span data-ttu-id="016f6-151">Рекомендации приводятся во многих наших разделах.</span><span class="sxs-lookup"><span data-stu-id="016f6-151">You will find best practices throughout many of our topics.</span></span>

<span data-ttu-id="016f6-152">Перечень наиболее важных соображений по разработке рабочих нагрузок см. в статье [Рекомендации по использованию хранилища данных SQL][SQL Data Warehouse Best Practices].</span><span class="sxs-lookup"><span data-stu-id="016f6-152">To see many a summary of the most important considerations when developing your workload, see [SQL Data Warehouse Best Practices][SQL Data Warehouse Best Practices].</span></span>

## <a name="query-monitoring"></a><span data-ttu-id="016f6-153">Мониторинг запросов</span><span class="sxs-lookup"><span data-stu-id="016f6-153">Query Monitoring</span></span>
<span data-ttu-id="016f6-154">Иногда какой-то запрос выполняется слишком долго, но не известно, какой именно.</span><span class="sxs-lookup"><span data-stu-id="016f6-154">Sometimes a query is running too long, but you aren't sure of which one is the culprit.</span></span> <span data-ttu-id="016f6-155">Хранилище данных SQL предлагает динамические административные представления, которые позволяют выяснить, какой запрос выполняется слишком долго.</span><span class="sxs-lookup"><span data-stu-id="016f6-155">SQL Data Warehouse has dynamic management views (DMVs) that you can use to figure out which query is taking too long.</span></span>

<span data-ttu-id="016f6-156">Сведения о долго выполняющихся запросах см. в статье [Мониторинг рабочей нагрузки с помощью динамических административных представлений][Monitor your workload using DMVs].</span><span class="sxs-lookup"><span data-stu-id="016f6-156">To find long-running queries, see [Monitor your workload using DMVs][Monitor your workload using DMVs].</span></span>

## <a name="security"></a><span data-ttu-id="016f6-157">Безопасность</span><span class="sxs-lookup"><span data-stu-id="016f6-157">Security</span></span>
<span data-ttu-id="016f6-158">Для поддержания безопасности системы необходимо быть настороже и отслеживать различные типы несанкционированного доступа.</span><span class="sxs-lookup"><span data-stu-id="016f6-158">To maintain a secure system, you must be on the alert and guard against any type of unauthorized access.</span></span> <span data-ttu-id="016f6-159">В системе безопасности необходимо задать правила брандмауэра, разрешающие подключаться только с разрешенных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="016f6-159">A security system needs to make sure firewall rules are in place so only authorized IP addresses can connect.</span></span> <span data-ttu-id="016f6-160">Также требуется надлежащая проверка подлинности учетных данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="016f6-160">It needs proper authentication of user credentials.</span></span> <span data-ttu-id="016f6-161">После подключения пользователя к базе данных он должен иметь разрешения на выполнение только минимального количества действий.</span><span class="sxs-lookup"><span data-stu-id="016f6-161">After a user has connected to the database, the user should only have permissions to perform a minimal number of actions.</span></span> <span data-ttu-id="016f6-162">Для защиты данных можно использовать шифрование.</span><span class="sxs-lookup"><span data-stu-id="016f6-162">To secure data, you can use encryption.</span></span> <span data-ttu-id="016f6-163">Также важно внедрить политику аудита и отслеживания, чтобы иметь возможность восстанавливать события при обнаружении подозрительных действий.</span><span class="sxs-lookup"><span data-stu-id="016f6-163">It's also important to have auditing and tracking so you can retrace events if there is any suspicious activity.</span></span>

<span data-ttu-id="016f6-164">Дополнительные сведения об управлении безопасностью см. в статье [Защита базы данных в хранилище данных SQL][Security overview].</span><span class="sxs-lookup"><span data-stu-id="016f6-164">To learn about managing security, head over to the [Security overview][Security overview].</span></span>

## <a name="backup-and-restore"></a><span data-ttu-id="016f6-165">Архивация и восстановление</span><span class="sxs-lookup"><span data-stu-id="016f6-165">Backup and restore</span></span>
<span data-ttu-id="016f6-166">Наличие надежных резервных копий данных является важной частью любой рабочей базы данных.</span><span class="sxs-lookup"><span data-stu-id="016f6-166">Having reliable backps of your data is an essential part of any production database.</span></span> <span data-ttu-id="016f6-167">Хранилище данных SQL защищает ваши данные за счет автоматической архивации активных баз данных через регулярные интервалы.</span><span class="sxs-lookup"><span data-stu-id="016f6-167">SQL Data Warehouse keeps your data safe by automatically backing up your active databases at regular intervals.</span></span> <span data-ttu-id="016f6-168">С помощью создаваемых резервных копий можно восстанавливать данные или базы данных в случае их повреждения или случайного удаления.</span><span class="sxs-lookup"><span data-stu-id="016f6-168">These backups allow you to recover from scenarios where you've corrupted your data or accidentally dropped your data or database.</span></span>  <span data-ttu-id="016f6-169">Сведения о расписании архивации данных, политике хранения и о том, как восстановить базу данных, см. в статье [Восстановление хранилища данных SQL][Restore from snapshot].</span><span class="sxs-lookup"><span data-stu-id="016f6-169">For the data backup schedule, retention policy and how to restore a database, see [Restore from snapshot][Restore from snapshot].</span></span>

## <a name="next-steps"></a><span data-ttu-id="016f6-170">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="016f6-170">Next steps</span></span>
<span data-ttu-id="016f6-171">Правильное проектирование баз данных упростит управление ими в хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="016f6-171">Using good database design principles will make it easier to manage your databases in SQL Data Warehouse.</span></span> <span data-ttu-id="016f6-172">Дополнительные сведения см. в [обзоре разработки][Development overview].</span><span class="sxs-lookup"><span data-stu-id="016f6-172">To learn more, head over to the [Development overview][Development overview].</span></span>

<!--Image references-->

<!--Article references-->
[Create a SQL Data Warehouse (Azure Portal)]: sql-data-warehouse-get-started-provision.md
[Create a database (PowerShell)]: sql-data-warehouse-get-started-provision-powershell.md
[connection]: sql-data-warehouse-develop-connections.md
[Query Azure SQL Data Warehouse with Visual Studio]: sql-data-warehouse-query-visual-studio.md
[Connect and query with sqlcmd]: sql-data-warehouse-get-started-connect-sqlcmd.md
[Development overview]: sql-data-warehouse-overview-develop.md
[Monitor your workload using DMVs]: sql-data-warehouse-manage-monitor.md
[Pause compute]: sql-data-warehouse-manage-compute-overview.md#pause-compute-bk
[Restore from snapshot]: sql-data-warehouse-restore-database-overview.md
[Resume compute]: sql-data-warehouse-manage-compute-overview.md#resume-compute-bk
<span data-ttu-id="016f6-173">[Масштабирование производительности]: sql-data-warehouse-manage-compute-overview.md#scale-compute</span><span class="sxs-lookup"><span data-stu-id="016f6-173">[Scale performance]: sql-data-warehouse-manage-compute-overview.md#scale-compute</span></span>
[Security overview]: sql-data-warehouse-overview-manage-security.md
[SQL Data Warehouse Best Practices]: sql-data-warehouse-best-practices.md
[SQL Data Warehouse system views]: sql-data-warehouse-reference-tsql-system-views.md

<!--MSDN references-->
[SQL Server Data Tools]: https://msdn.microsoft.com/library/mt204009.aspx

<!--Other web references-->
[Azure portal]: http://portal.azure.com/
