---
title: "Применение представлений T-SQL в хранилище данных SQL Azure | Документация Майкрософт"
description: "Советы по использованию представлений Transact-SQL в хранилище данных SQL Azure для разработки решений."
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: 
ms.assetid: b5208f32-8f4a-4056-8788-2adbb253d9fd
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: t-sql
ms.date: 10/31/2016
ms.author: jrj;barbkess
ms.openlocfilehash: d2a03be810bd7f792876607ec735eb578b65a3b5
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="views-in-sql-data-warehouse"></a>Представления в хранилище данных SQL
Представления особенно удобны в хранилище данных SQL. Их можно использовать разными способами для повышения качества вашего решения.  В этой статье представлены примеры того, как можно улучшить решение с помощью представлений; кроме того, здесь описаны ограничения, которые следует учитывать.

> [!NOTE]
> Синтаксис `CREATE VIEW` в этой статье не рассматривается. Информацию о синтаксисе см. в статье [CREATE VIEW][CREATE VIEW] на сайте MSDN.
> 
> 

## <a name="architectural-abstraction"></a>Архитектурная абстракция
Самый распространенный шаблон приложения — повторное создание таблиц с помощью инструкции CREATE TABLE AS SELECT (CTAS), после которой следует шаблон переименования объектов в процессе загрузки данных.

Приведенный ниже пример добавляет новые записи даты в измерение даты. Обратите внимание, что сначала создается новая таблица DimDate_New, которая затем переименовывается для замены исходной версии таблицы.

```sql
CREATE TABLE dbo.DimDate_New
WITH (DISTRIBUTION = ROUND_ROBIN
, CLUSTERED INDEX (DateKey ASC)
)
AS
SELECT *
FROM   dbo.DimDate  AS prod
UNION ALL
SELECT *
FROM   dbo.DimDate_stg AS stg
;

RENAME OBJECT DimDate TO DimDate_Old;
RENAME OBJECT DimDate_New TO DimDate;

```

Но эти действия могут привести к тому, что таблицы могут появляться в представлении пользователя и исчезать из него; кроме того, могут появляться сообщения об ошибках "Таблица не существует". Представления нужны для предоставления пользователям доступа к согласованному уровню отображения данных, пока базовые объекты переименовываются. Если пользователи получают доступ к данным через представления, им не нужно видеть базовые таблицы. Таким образом, пользователи работают с единообразным пользовательским интерфейсом, а конструкторы хранилища данных могут разрабатывать модель данных и повышать производительность с помощью CTAS при загрузке данных.    

## <a name="performance-optimization"></a>Оптимизация производительности
Представления также можно использовать для повышения эффективности соединений между таблицами. Например, в представление можно включить ключ избыточного распространения, заданный в критерии соединения, чтобы минимизировать перемещение данных.  Еще одно преимущество представления — принудительное выполнение определенного запроса или указания по соединению. Благодаря представлениям соединения всегда выполняются правильно, поэтому пользователю не нужно запоминать правильную конструкцию соединений.

## <a name="limitations"></a>Ограничения
Представления в хранилище данных SQL — это только метаданные.  Поэтому следующие возможности недоступны.

* Нет возможности привязать схему.
* Базовые таблицы нельзя обновлять через представление.
* Для временных таблиц нельзя создавать представления.
* Не поддерживаются указания для EXPAND и NOEXPAND.
* В хранилище данных SQL нет индексированных представлений.

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные советы по разработке см. в статье [Проектные решения и методики программирования для хранилища данных SQL][SQL Data Warehouse development overview].
Сведения о синтаксисе `CREATE VIEW` см. в статье [CREATE VIEW][CREATE VIEW].

<!--Image references-->

<!--Article references-->
[SQL Data Warehouse development overview]: ./sql-data-warehouse-overview-develop.md

<!--MSDN references-->
[CREATE VIEW]: https://msdn.microsoft.com/en-us/library/ms187956.aspx

<!--Other Web references-->
