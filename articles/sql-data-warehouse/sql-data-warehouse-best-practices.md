---
title: "aaaBest и рекомендации для хранилища данных SQL Azure | Документы Microsoft"
description: "Рекомендации, которые следует учитывать при разработке решений для хранилища данных SQL Azure. Они помогут вам обеспечить эффективную работу."
services: sql-data-warehouse
documentationcenter: NA
author: shivaniguptamsft
manager: jhubbard
editor: 
ms.assetid: 7b698cad-b152-4d33-97f5-5155dfa60f79
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: get-started-article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: performance
ms.date: 10/31/2016
ms.author: shigu;barbkess
ms.openlocfilehash: 1f42908fc03e1ca52278a6853d1afe9543d648b7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-for-azure-sql-data-warehouse"></a><span data-ttu-id="1b107-104">Рекомендации по использованию хранилища данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="1b107-104">Best practices for Azure SQL Data Warehouse</span></span>
<span data-ttu-id="1b107-105">В этой статье — это совокупность многие рекомендации, которые помогут вам tooachieve оптимальной производительности в хранилище данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="1b107-105">This article is a collection of many best practices that will help you tooachieve optimal performance from your Azure SQL Data Warehouse.</span></span>  <span data-ttu-id="1b107-106">Некоторые основные понятия hello в этой статье, базовый и легко tooexplain, другие понятия и другие дополнительные, и мы просто scratch hello поверхности в этой статье.</span><span class="sxs-lookup"><span data-stu-id="1b107-106">Some of hello concepts in this article are basic and easy tooexplain, other concepts are more advanced and we just scratch hello surface in this article.</span></span>  <span data-ttu-id="1b107-107">Hello цель этой статьи — toogive некоторые основные рекомендации и tooraise осведомленность о toofocus важных областях, как вы построении хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="1b107-107">hello purpose of this article is toogive you some basic guidance and tooraise awareness of important areas toofocus as you build your data warehouse.</span></span>  <span data-ttu-id="1b107-108">Каждый раздел содержит описание tooa концепции, а затем выберите команду, что toomore подробные статьи, посвященные какие концепции hello титульных более подробно.</span><span class="sxs-lookup"><span data-stu-id="1b107-108">Each section introduces you tooa concept and then point you toomore detailed articles which cover hello concept in more depth.</span></span>

<span data-ttu-id="1b107-109">Если вы еще мало знакомы с хранилищем данных SQL Azure, некоторые разделы могут показаться вам очень сложными.</span><span class="sxs-lookup"><span data-stu-id="1b107-109">If you are just getting started with Azure SQL Data Warehouse, do not let this article overwhelm you.</span></span>  <span data-ttu-id="1b107-110">последовательность Hello разделы hello является главным образом в порядке важности hello.</span><span class="sxs-lookup"><span data-stu-id="1b107-110">hello sequence of hello topics is mostly in hello order of importance.</span></span>  <span data-ttu-id="1b107-111">При запуске сосредоточиться на hello несколько понятий, вы будете исправно.</span><span class="sxs-lookup"><span data-stu-id="1b107-111">If you start by focusing on hello first few concepts, you'll be in good shape.</span></span>  <span data-ttu-id="1b107-112">Набравшись опыта работы с хранилищем данных SQL, вы можете приступить к изучению следующих понятий.</span><span class="sxs-lookup"><span data-stu-id="1b107-112">As you get more familiar and comfortable with using SQL Date Warehouse, come back and look at a few more concepts.</span></span>  <span data-ttu-id="1b107-113">Будет выполнено длинные для всего toomake смысле.</span><span class="sxs-lookup"><span data-stu-id="1b107-113">It won't take long for everything toomake sense.</span></span>

## <a name="reduce-cost-with-pause-and-scale"></a><span data-ttu-id="1b107-114">Снижение расходов за счет приостановки и масштабирования ресурсов</span><span class="sxs-lookup"><span data-stu-id="1b107-114">Reduce cost with pause and scale</span></span>
<span data-ttu-id="1b107-115">Это ключевой компонент хранилища данных SQL при возможности toopause hello не используются, который приостанавливает выставление счетов hello вычислительных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="1b107-115">A key feature of SQL Data Warehouse is hello ability toopause when you are not using it, which stops hello billing of compute resources.</span></span>  <span data-ttu-id="1b107-116">Другой ключевой особенностью является hello возможность tooscale ресурсов.</span><span class="sxs-lookup"><span data-stu-id="1b107-116">Another key feature is hello ability tooscale resources.</span></span>  <span data-ttu-id="1b107-117">Приостановка и масштабирование можно сделать через портал Azure hello или с помощью команд PowerShell.</span><span class="sxs-lookup"><span data-stu-id="1b107-117">Pausing and Scaling can be done via hello Azure portal or through PowerShell commands.</span></span>  <span data-ttu-id="1b107-118">Ознакомиться с этими функциями как они может значительно снизить стоимость hello хранилищем данных, если она не используется.</span><span class="sxs-lookup"><span data-stu-id="1b107-118">Become familiar with these features as they can greatly reduce hello cost of your data warehouse when it is not in use.</span></span>  <span data-ttu-id="1b107-119">Если всегда требуется хранилище данных доступен, можно tooconsider масштабов toohello наименьшего размера, DW100 вместо приостановки.</span><span class="sxs-lookup"><span data-stu-id="1b107-119">If you always want your data warehouse accessible, you may want tooconsider scaling it down toohello smallest size, a DW100 rather than pausing.</span></span>

<span data-ttu-id="1b107-120">Ознакомьтесь с дополнительными сведениями о [приостановке][Pause compute resources] и [возобновлении][Resume compute resources] использования вычислительных ресурсов, а также об их [масштабировании].</span><span class="sxs-lookup"><span data-stu-id="1b107-120">See also [Pause compute resources][Pause compute resources], [Resume compute resources][Resume compute resources], [Scale compute resources].</span></span>

## <a name="drain-transactions-before-pausing-or-scaling"></a><span data-ttu-id="1b107-121">Очистка транзакций перед приостановкой использования и масштабированием вычислительных ресурсов</span><span class="sxs-lookup"><span data-stu-id="1b107-121">Drain transactions before pausing or scaling</span></span>
<span data-ttu-id="1b107-122">При приостановке или масштабировать хранилище данных SQL фоновом hello запросы будут отменены при запуске hello приостановить или масштабировать запроса.</span><span class="sxs-lookup"><span data-stu-id="1b107-122">When you pause or scale your SQL Data Warehouse, behind hello scenes your queries are canceled when you initiate hello pause or scale request.</span></span>  <span data-ttu-id="1b107-123">Отмена простой запрос SELECT операция выполняется очень быстро и почти не указано влияние toohello время, затрачиваемое toopause или масштабирование экземпляра.</span><span class="sxs-lookup"><span data-stu-id="1b107-123">Canceling a simple SELECT query is a quick operation and has almost no impact toohello time it takes toopause or scale your instance.</span></span>  <span data-ttu-id="1b107-124">Однако транзакций запросы, которые изменить структуру данных или hello hello данных, может оказаться toostop может быстро.</span><span class="sxs-lookup"><span data-stu-id="1b107-124">However, transactional queries, which modify your data or hello structure of hello data, may not be able toostop quickly.</span></span>  <span data-ttu-id="1b107-125">**Транзакционные запросы по определению должны полностью завершиться или выполнить откат изменений.**</span><span class="sxs-lookup"><span data-stu-id="1b107-125">**Transactional queries, by definition, must either complete in their entirety or rollback their changes.**</span></span>  <span data-ttu-id="1b107-126">Откат hello, выполненный запрос транзакций может занять как долго или даже больше, чем исходного изменения hello hello запрос применения.</span><span class="sxs-lookup"><span data-stu-id="1b107-126">Rolling back hello work completed by a transactional query can take as long, or even longer, than hello original change hello query was applying.</span></span>  <span data-ttu-id="1b107-127">Например если отменить запрос, который удаления строк и уже выполнения в течение часа, может потребоваться системы hello строк назад hello tooinsert час, которые были удалены.</span><span class="sxs-lookup"><span data-stu-id="1b107-127">For example, if you cancel a query which was deleting rows and has already been running for an hour, it could take hello system an hour tooinsert back hello rows which were deleted.</span></span>  <span data-ttu-id="1b107-128">При запуске, приостановить или масштабирования во время операции выполняются в полете вашей приостановить или масштабирование может показаться tootake длительное время, так как Приостановка и масштабирование имеет toowait для отката toocomplete hello для продолжения.</span><span class="sxs-lookup"><span data-stu-id="1b107-128">If you run pause or scaling while transactions are in flight, your pause or scaling may seem tootake a long time because pausing and scaling has toowait for hello rollback toocomplete before it can proceed.</span></span>

<span data-ttu-id="1b107-129">Дополнительные сведения см. в статьях [Транзакции в хранилище данных SQL][Understanding transactions] и [Оптимизация транзакций для хранилища данных SQL][Optimizing transactions].</span><span class="sxs-lookup"><span data-stu-id="1b107-129">See also [Understanding transactions][Understanding transactions], [Optimizing transactions][Optimizing transactions]</span></span>

## <a name="maintain-statistics"></a><span data-ttu-id="1b107-130">Обеспечение статистики</span><span class="sxs-lookup"><span data-stu-id="1b107-130">Maintain statistics</span></span>
<span data-ttu-id="1b107-131">В отличие от SQL Server, который автоматически обнаруживает и создает или обновляет статистику в столбцах, в хранилище данных SQL этот процесс необходимо выполнять самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="1b107-131">Unlike SQL Server, which automatically detects and creates or updates statistics on columns, SQL Data Warehouse requires manual maintenance of statistics.</span></span>  <span data-ttu-id="1b107-132">Хотя мы планируем toochange оптимизированы в hello в будущем, для теперь требуется toomaintain вашей tooensure статистики, hello планы в хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="1b107-132">While we do plan toochange this in hello future, for now you will want toomaintain your statistics tooensure that hello SQL Data Warehouse plans are optimized.</span></span>  <span data-ttu-id="1b107-133">Hello планов, созданных оптимизатором hello доступны только в показанной hello доступной статистики.</span><span class="sxs-lookup"><span data-stu-id="1b107-133">hello plans created by hello optimizer are only as good as hello available statistics.</span></span>  <span data-ttu-id="1b107-134">**Создание выборочную статистику для каждого столбца tooget легко запускается со статистикой.**</span><span class="sxs-lookup"><span data-stu-id="1b107-134">**Creating sampled statistics on every column is an easy way tooget started with statistics.**</span></span>  <span data-ttu-id="1b107-135">Это одинаково важным tooupdate статистики также существенные изменения произойти tooyour данных.</span><span class="sxs-lookup"><span data-stu-id="1b107-135">It's equally important tooupdate statistics as significant changes happen tooyour data.</span></span>  <span data-ttu-id="1b107-136">Высокий уровень безопасности может быть tooupdate статистике ежедневно или после каждого нагрузки.</span><span class="sxs-lookup"><span data-stu-id="1b107-136">A conservative approach may be tooupdate your statistics daily or after each load.</span></span>  <span data-ttu-id="1b107-137">Всегда есть компромиссы между производительностью и стоимость hello toocreate и обновите статистику.</span><span class="sxs-lookup"><span data-stu-id="1b107-137">There are always trade-offs between performance and hello cost toocreate and update statistics.</span></span> <span data-ttu-id="1b107-138">Если обнаружится, что это занимает слишком много времени toomaintain все статистики, может понадобиться tootry toobe более селективным о есть статистика, какие столбцы или столбцы, которые необходимо частое обновление.</span><span class="sxs-lookup"><span data-stu-id="1b107-138">If you find it is taking too long toomaintain all of your statistics, you may want tootry toobe more selective about which columns have statistics or which columns need frequent updating.</span></span>  <span data-ttu-id="1b107-139">Например может потребоваться tooupdate столбцов даты, где новые значения могут быть добавлены, ежедневно.</span><span class="sxs-lookup"><span data-stu-id="1b107-139">For example, you might want tooupdate date columns, where new values may be added, daily.</span></span> <span data-ttu-id="1b107-140">**Hello будет получить максимальную выгоду, наличие статистики для столбцов, участвующих в соединениях, столбцов, используемых в hello обнаружено предложение и столбцы в GROUP BY.**</span><span class="sxs-lookup"><span data-stu-id="1b107-140">**You will gain hello most benefit by having statistics on columns involved in joins, columns used in hello WHERE clause and columns found in GROUP BY.**</span></span>

<span data-ttu-id="1b107-141">Дополнительные сведения см. в статьях [Управление статистикой таблиц в хранилище данных SQL][Manage table statistics], [CREATE STATISTICS (Transact-SQL)][CREATE STATISTICS] и [UPDATE STATISTICS (Transact-SQL)][UPDATE STATISTICS].</span><span class="sxs-lookup"><span data-stu-id="1b107-141">See also [Manage table statistics][Manage table statistics], [CREATE STATISTICS][CREATE STATISTICS], [UPDATE STATISTICS][UPDATE STATISTICS]</span></span>

## <a name="group-insert-statements-into-batches"></a><span data-ttu-id="1b107-142">Объединение инструкций INSERT в группы</span><span class="sxs-lookup"><span data-stu-id="1b107-142">Group INSERT statements into batches</span></span>
<span data-ttu-id="1b107-143">Небольшая таблица tooa одноразовый нагрузки с помощью инструкции INSERT или даже периодически перезагружает подстановки может работать нормально вашим потребностям, с помощью оператора, например `INSERT INTO MyLookup VALUES (1, 'Type 1')`.</span><span class="sxs-lookup"><span data-stu-id="1b107-143">A one-time load tooa small table with an INSERT statement or even a periodic reload of a look-up may perform just fine for your needs with a statement like `INSERT INTO MyLookup VALUES (1, 'Type 1')`.</span></span>  <span data-ttu-id="1b107-144">Тем не менее если вам требуется tooload тысяч или миллионов строк в hello дня, может оказаться, что одноэлементный ВСТАВОК просто не справляются.</span><span class="sxs-lookup"><span data-stu-id="1b107-144">However, if you need tooload thousands or millions of rows throughout hello day, you might find that singleton INSERTS just can't keep up.</span></span>  <span data-ttu-id="1b107-145">Вместо этого разработайте процессы, чтобы они записывают файл tooa и другой процесс, периодически поставляется и загружает этот файл.</span><span class="sxs-lookup"><span data-stu-id="1b107-145">Instead, develop your processes so that they write tooa file and another process periodically comes along and loads this file.</span></span>

<span data-ttu-id="1b107-146">Дополнительные сведения см. в статье [Инструкция INSERT (Transact-SQL)][INSERT].</span><span class="sxs-lookup"><span data-stu-id="1b107-146">See also [INSERT][INSERT]</span></span>

## <a name="use-polybase-tooload-and-export-data-quickly"></a><span data-ttu-id="1b107-147">Быстро использовать PolyBase tooload и экспорт данных</span><span class="sxs-lookup"><span data-stu-id="1b107-147">Use PolyBase tooload and export data quickly</span></span>
<span data-ttu-id="1b107-148">Хранилище данных SQL поддерживает загрузку и экспорт данных при помощи нескольких инструментов, включая фабрику данных Azure, PolyBase и BCP.</span><span class="sxs-lookup"><span data-stu-id="1b107-148">SQL Data Warehouse supports loading and exporting data through several tools including Azure Data Factory, PolyBase, and BCP.</span></span>  <span data-ttu-id="1b107-149">При работе с данными небольшого объема, что не требует высокой производительности, можно использовать любой инструмент.</span><span class="sxs-lookup"><span data-stu-id="1b107-149">For small amounts of data where performance isn't critical, any tool may be sufficient for your needs.</span></span>  <span data-ttu-id="1b107-150">Однако при загрузке или экспорт больших объемов данных, или требуется высокая производительность, PolyBase является наилучшим вариантом hello.</span><span class="sxs-lookup"><span data-stu-id="1b107-150">However, when you are loading or exporting large volumes of data or fast performance is needed, PolyBase is hello best choice.</span></span>  <span data-ttu-id="1b107-151">PolyBase — спроектированный tooleverage hello MPP (расширенной параллельной обработки) архитектура хранилища данных SQL таким образом загрузки и экспорт данных величины быстрее, чем любой другой инструмент.</span><span class="sxs-lookup"><span data-stu-id="1b107-151">PolyBase is designed tooleverage hello MPP (Massively Parallel Processing) architecture of SQL Data Warehouse and will therefore load and export data magnitudes faster than any other tool.</span></span>  <span data-ttu-id="1b107-152">Загрузку данных с помощью PolyBase можно выполнить, используя команды CTAS или INSERT INTO.</span><span class="sxs-lookup"><span data-stu-id="1b107-152">PolyBase loads can be run using CTAS or INSERT INTO.</span></span>  <span data-ttu-id="1b107-153">**С помощью CTAS позволит свести к минимуму ведение журнала транзакций и быстрым способом tooload hello данных.**</span><span class="sxs-lookup"><span data-stu-id="1b107-153">**Using CTAS will minimize transaction logging and hello fastest way tooload your data.**</span></span>  <span data-ttu-id="1b107-154">Фабрика данных Azure также поддерживает загрузку данных с помощью PolyBase.</span><span class="sxs-lookup"><span data-stu-id="1b107-154">Azure Data Factory also supports PolyBase loads.</span></span>  <span data-ttu-id="1b107-155">PolyBase поддерживает различные форматы файлов, включая формат GZIP.</span><span class="sxs-lookup"><span data-stu-id="1b107-155">PolyBase supports a variety of file formats including Gzip files.</span></span>  <span data-ttu-id="1b107-156">**toomaximize пропускная способность, при использовании gzip текстовые файлы, разрыв в 60 или более файлов toomaximize степенью параллелизма нагрузки.**</span><span class="sxs-lookup"><span data-stu-id="1b107-156">**toomaximize throughput when using gzip text files, break files up into 60 or more files toomaximize parallelism of your load.**</span></span>  <span data-ttu-id="1b107-157">Кроме того, для повышения общей пропускной способности можно загружать данные одновременно.</span><span class="sxs-lookup"><span data-stu-id="1b107-157">For faster total throughput, consider loading data concurrently.</span></span>

<span data-ttu-id="1b107-158">Дополнительные сведения см. в статьях [Загрузка данных в хранилище данных Azure SQL][Load data], [Руководство по использованию PolyBase в хранилище данных SQL][Guide for using PolyBase], [Azure SQL Data Warehouse loading patterns and strategies][Azure SQL Data Warehouse loading patterns and strategies] (Стратегии и шаблоны загрузки данных в хранилище данных SQL Azure), [Загрузка данных в хранилище данных SQL с помощью фабрики данных][Load Data with Azure Data Factory], [Перемещение данных в хранилище данных Azure SQL и из него с помощью фабрики данных Azure][Move data with Azure Data Factory], [Создание формата внешнего файла (Transact-SQL)][CREATE EXTERNAL FILE FORMAT] и [Функция Create Table As Select (CTAS) в хранилище данных SQL][Create table as select (CTAS)].</span><span class="sxs-lookup"><span data-stu-id="1b107-158">See also [Load data][Load data], [Guide for using PolyBase][Guide for using PolyBase], [Azure SQL Data Warehouse loading patterns and strategies][Azure SQL Data Warehouse loading patterns and strategies], [Load Data with Azure Data Factory][Load Data with Azure Data Factory], [Move data with Azure Data Factory][Move data with Azure Data Factory], [CREATE EXTERNAL FILE FORMAT][CREATE EXTERNAL FILE FORMAT], [Create table as select (CTAS)][Create table as select (CTAS)]</span></span>

## <a name="load-then-query-external-tables"></a><span data-ttu-id="1b107-159">Загрузка внешних таблиц и отправка запросов к ним</span><span class="sxs-lookup"><span data-stu-id="1b107-159">Load then query external tables</span></span>
<span data-ttu-id="1b107-160">Polybase, также известные как внешние таблицы могут быть hello самый быстрый способ tooload данных, он не является оптимальным для запросов.</span><span class="sxs-lookup"><span data-stu-id="1b107-160">While Polybase, also known as external tables, can be hello fastest way tooload data, it is not optimal for queries.</span></span> <span data-ttu-id="1b107-161">В настоящее время таблицы Polybase хранилища данных SQL поддерживают только файлы больших двоичных объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="1b107-161">SQL Data Warehouse Polybase tables currently only support Azure blob files.</span></span> <span data-ttu-id="1b107-162">Эти файлы не обслуживаются какими-либо вычислительными ресурсами.</span><span class="sxs-lookup"><span data-stu-id="1b107-162">These files do not have any compute resources backing them.</span></span>  <span data-ttu-id="1b107-163">В результате хранилище данных SQL не переложить эту работу и таким образом необходимо прочитать весь файл hello, загрузив его tootempdb в данные о заказах tooread hello.</span><span class="sxs-lookup"><span data-stu-id="1b107-163">As a result, SQL Data Warehouse cannot offload this work and therefore must read hello entire file by loading it tootempdb in order tooread hello data.</span></span>  <span data-ttu-id="1b107-164">Таким образом Если имеется несколько запросов, которые будет выполнять запросы к данным, лучше tooload эти данные один раз и использовать локальную таблицу hello запросами.</span><span class="sxs-lookup"><span data-stu-id="1b107-164">Therefore, if you have several queries that will be querying this data, it is better tooload this data once and have queries use hello local table.</span></span>

<span data-ttu-id="1b107-165">Ознакомьтесь также с [руководством по использованию PolyBase][Guide for using PolyBase].</span><span class="sxs-lookup"><span data-stu-id="1b107-165">See also [Guide for using PolyBase][Guide for using PolyBase]</span></span>

## <a name="hash-distribute-large-tables"></a><span data-ttu-id="1b107-166">Хэш-распределение больших таблиц</span><span class="sxs-lookup"><span data-stu-id="1b107-166">Hash distribute large tables</span></span>
<span data-ttu-id="1b107-167">По умолчанию таблицы распределяются по методу циклического перебора.</span><span class="sxs-lookup"><span data-stu-id="1b107-167">By default, tables are Round Robin distributed.</span></span>  <span data-ttu-id="1b107-168">Это упрощает tooget пользователей к работе по созданию таблицы без необходимости toodecide распределение соответствующих таблиц.</span><span class="sxs-lookup"><span data-stu-id="1b107-168">This makes it easy for users tooget started creating tables without having toodecide how their tables should be distributed.</span></span>  <span data-ttu-id="1b107-169">Таблицы с распределением по методу циклического перебора могут вполне годиться для некоторых рабочих нагрузок, но в большинстве случаев намного эффективнее использовать столбец распределения.</span><span class="sxs-lookup"><span data-stu-id="1b107-169">Round Robin tables may perform sufficiently for some workloads, but in most cases selecting a distribution column will perform much better.</span></span>  <span data-ttu-id="1b107-170">При Hello наиболее распространенным примером при распределенных по столбцу таблицы значительно превосходят циклического таблицы соединяются две большие таблицы фактов.</span><span class="sxs-lookup"><span data-stu-id="1b107-170">hello most common example of when a table distributed by a column will far outperform a Round Robin table is when two large fact tables are joined.</span></span>  <span data-ttu-id="1b107-171">Например при наличии таблицу orders, который распространяется по order_id и таблицу транзакций, которая также распространяется по order_id, при соединении таблицы транзакций tooyour таблицы заказов на order_id, этот запрос становится запроса к серверу, что означает Мы исключить операций перемещения данных.</span><span class="sxs-lookup"><span data-stu-id="1b107-171">For example, if you have an orders table, which is distributed by order_id, and a transactions table, which is also distributed by order_id, when you join your orders table tooyour transactions table on order_id, this query becomes a pass-through query, which means we eliminate data movement operations.</span></span>  <span data-ttu-id="1b107-172">Чем меньше в запросе действий, тем быстрее он выполняется.</span><span class="sxs-lookup"><span data-stu-id="1b107-172">Fewer steps mean a faster query.</span></span>  <span data-ttu-id="1b107-173">Скорость выполнения запроса также зависит от объема перемещаемых данных.</span><span class="sxs-lookup"><span data-stu-id="1b107-173">Less data movement also makes for faster queries.</span></span>  <span data-ttu-id="1b107-174">Пояснения излагаются лишь основы hello поверхности.</span><span class="sxs-lookup"><span data-stu-id="1b107-174">This explanation just scratches hello surface.</span></span> <span data-ttu-id="1b107-175">При загрузке распределенные таблицы, убедитесь, что входящие данные не сортируются по ключ распределения hello как замедлится вашей загружает.</span><span class="sxs-lookup"><span data-stu-id="1b107-175">When loading a distributed table, be sure that your incoming data is not sorted on hello distribution key as this will slow down your loads.</span></span>  <span data-ttu-id="1b107-176">См. ниже hello связывает за многие дополнительные сведения о как при выборе столбца распространения может повысить производительность, а также toodefine распределенные таблицы в предложении WITH hello инструкции СОЗДАНИЯ таблицы.</span><span class="sxs-lookup"><span data-stu-id="1b107-176">See hello below links for much more details on how selecting a distribution column can improve performance as well as how toodefine a distributed table in hello WITH clause of your CREATE TABLES statement.</span></span>

<span data-ttu-id="1b107-177">Дополнительные сведения см. в статьях [Общие сведения о таблицах в хранилище данных SQL][Table overview], [Распределение таблиц в хранилище данных SQL][Table distribution], [Создание таблицы (хранилище данных Azure SQL)][CREATE TABLE] и [Создание TABLE AS SELECT (хранилище данных Azure SQL)][CREATE TABLE AS SELECT], а также в статье, посвященной [выбору распределения таблицы][Selecting table distribution].</span><span class="sxs-lookup"><span data-stu-id="1b107-177">See also [Table overview][Table overview], [Table distribution][Table distribution], [Selecting table distribution][Selecting table distribution], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span></span>

## <a name="do-not-over-partition"></a><span data-ttu-id="1b107-178">Недопущение избыточного секционирования</span><span class="sxs-lookup"><span data-stu-id="1b107-178">Do not over-partition</span></span>
<span data-ttu-id="1b107-179">Не смотря на то, что секционирование данных — это эффективный способ управления данными, который реализуется благодаря переключению секций или оптимизации сканирования путем исключения секций, наличие большого количества секций может повлиять на производительность запросов.</span><span class="sxs-lookup"><span data-stu-id="1b107-179">While partitioning data can be very effective for maintaining your data through partition switching or optimizing scans by with partition elimination, having too many partitions can slow down your queries.</span></span>  <span data-ttu-id="1b107-180">Стратегия разделения данных на большое количество секций, как правило, эффективна в SQL Server, но она не всегда работает в хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="1b107-180">Often a high granularity partitioning strategy which may work well on SQL Server may not work well on SQL Data Warehouse.</span></span>  <span data-ttu-id="1b107-181">Наличие слишком большого числа секций hello эффективность кластеризованные индексы columnstore также можно уменьшить, если каждая секция имеет не более 1 миллиона строк.</span><span class="sxs-lookup"><span data-stu-id="1b107-181">Having too many partitions can also reduce hello effectiveness of clustered columnstore indexes if each partition has fewer than 1 million rows.</span></span>  <span data-ttu-id="1b107-182">Следует помнить, что фоне hello, хранилище данных SQL разделяет данные для вас в 60 базы данных, поэтому при создании таблицы на 100 секций, это фактически приводит к 6000 секций.</span><span class="sxs-lookup"><span data-stu-id="1b107-182">Keep in mind that behind hello scenes, SQL Data Warehouse partitions your data for you into 60 databases, so if you create a table with 100 partitions, this actually results in 6000 partitions.</span></span>  <span data-ttu-id="1b107-183">Каждой рабочей нагрузки отличается, поэтому hello рекомендациям tooexperiment с секционированием toosee, что лучше всего работает для рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="1b107-183">Each workload is different so hello best advice is tooexperiment with partitioning toosee what works best for your workload.</span></span>  <span data-ttu-id="1b107-184">В хранилище данных SQL можно использовать меньшее количество секций, чем в SQL Server.</span><span class="sxs-lookup"><span data-stu-id="1b107-184">Consider lower granularity than what may have worked for you in SQL Server.</span></span>  <span data-ttu-id="1b107-185">Например, попробуйте использовать еженедельные или ежемесячные секции вместо ежедневных.</span><span class="sxs-lookup"><span data-stu-id="1b107-185">For example, consider using weekly or monthly partitions rather than daily partitions.</span></span>

<span data-ttu-id="1b107-186">Дополнительные сведения см. в статье [Секционирование таблиц в хранилище данных SQL][Table partitioning].</span><span class="sxs-lookup"><span data-stu-id="1b107-186">See also [Table partitioning][Table partitioning]</span></span>

## <a name="minimize-transaction-sizes"></a><span data-ttu-id="1b107-187">Уменьшение размера транзакций</span><span class="sxs-lookup"><span data-stu-id="1b107-187">Minimize transaction sizes</span></span>
<span data-ttu-id="1b107-188">Инструкции INSERT, UPDATE и DELETE выполняются в транзакциях. В случае сбоя их необходимо откатить.</span><span class="sxs-lookup"><span data-stu-id="1b107-188">INSERT, UPDATE, and DELETE statements run in a transaction and when they fail they must be rolled back.</span></span>  <span data-ttu-id="1b107-189">hello toominimize потенциальных long отката свести к минимуму размерами транзакций, когда это возможно.</span><span class="sxs-lookup"><span data-stu-id="1b107-189">toominimize hello potential for a long rollback, minimize transaction sizes whenever possible.</span></span>  <span data-ttu-id="1b107-190">Это можно сделать, разделив инструкции INSERT, UPDATE и DELETE на части.</span><span class="sxs-lookup"><span data-stu-id="1b107-190">This can be done by dividing INSERT, UPDATE, and DELETE statements into parts.</span></span>  <span data-ttu-id="1b107-191">Например если инструкции INSERT, который можно ожидать tootake 1 час, возможно, разделите hello INSERT на 4 части, которые будут каждое выполнение в течение 15 минут.</span><span class="sxs-lookup"><span data-stu-id="1b107-191">For example, if you have an INSERT which you expect tootake 1 hour, if possible, break hello INSERT up into 4 parts, which will each run in 15 minutes.</span></span>  <span data-ttu-id="1b107-192">Использовать особых случаев минимального протоколирования, подобно CTAS, TRUNCATE, DROP TABLE или вставка tooempty таблиц tooreduce риск отката.</span><span class="sxs-lookup"><span data-stu-id="1b107-192">Leverage special Minimal Logging cases, like CTAS, TRUNCATE, DROP TABLE or INSERT tooempty tables, tooreduce rollback risk.</span></span>  <span data-ttu-id="1b107-193">Другой способ tooeliminate откатов — toouse только метаданных операции, такие как переключение секций для управления данными.</span><span class="sxs-lookup"><span data-stu-id="1b107-193">Another way tooeliminate rollbacks is toouse Metadata Only operations like partition switching for data management.</span></span>  <span data-ttu-id="1b107-194">Например, вместо этого, чем выполнение инструкции DELETE toodelete все строки в таблице, где был hello order_date в октябре 2001 г, можно секционировать данные ежемесячно и затем отключим hello секция с данными для пустую секцию из другой таблицы (см. ALTER Примеры ТАБЛИЦ).</span><span class="sxs-lookup"><span data-stu-id="1b107-194">For example, rather than execute a DELETE statement toodelete all rows in a table where hello order_date was in October of 2001, you could partition your data monthly and then switch out hello partition with data for an empty partition from another table (see ALTER TABLE examples).</span></span>  <span data-ttu-id="1b107-195">Для несекционированной таблицы можно с помощью данных hello toowrite CTAS, требуется tookeep в таблице, а не на использование инструкции DELETE.</span><span class="sxs-lookup"><span data-stu-id="1b107-195">For unpartitioned tables consider using a CTAS toowrite hello data you want tookeep in a table rather than using DELETE.</span></span>  <span data-ttu-id="1b107-196">Если CTAS принимает Здравствуйте одинаковое количество времени, это будет гораздо более безопасной toorun операции, поскольку оно ведение журнала транзакций с минимальными и может быть отменено быстро, при необходимости.</span><span class="sxs-lookup"><span data-stu-id="1b107-196">If a CTAS takes hello same amount of time, it is a much safer operation toorun as it has very minimal transaction logging and can be canceled quickly if needed.</span></span>

<span data-ttu-id="1b107-197">Дополнительные сведения см. в статьях [Транзакции в хранилище данных SQL][Understanding transactions], [Оптимизация транзакций для хранилища данных SQL][Optimizing transactions], [Секционирование таблиц в хранилище данных SQL][Table partitioning], а также в статьях об инструкциях [TRUNCATE TABLE][TRUNCATE TABLE] и [ALTER TABLE][ALTER TABLE] и статье [Функция Create Table As Select (CTAS) в хранилище данных SQL][Create table as select (CTAS)].</span><span class="sxs-lookup"><span data-stu-id="1b107-197">See also [Understanding transactions][Understanding transactions], [Optimizing transactions][Optimizing transactions], [Table partitioning][Table partitioning], [TRUNCATE TABLE][TRUNCATE TABLE], [ALTER TABLE][ALTER TABLE], [Create table as select (CTAS)][Create table as select (CTAS)]</span></span>

## <a name="use-hello-smallest-possible-column-size"></a><span data-ttu-id="1b107-198">Используйте hello наименьший размер столбцов</span><span class="sxs-lookup"><span data-stu-id="1b107-198">Use hello smallest possible column size</span></span>
<span data-ttu-id="1b107-199">При определении DDL, с использованием типа данных наименьшего hello, поддерживающий данных улучшит производительность запросов.</span><span class="sxs-lookup"><span data-stu-id="1b107-199">When defining your DDL, using hello smallest data type which will support your data will improve query performance.</span></span>  <span data-ttu-id="1b107-200">Это особенно важно для столбцов CHAR и VARCHAR.</span><span class="sxs-lookup"><span data-stu-id="1b107-200">This is especially important for CHAR and VARCHAR columns.</span></span>  <span data-ttu-id="1b107-201">Если hello длинного значения в столбце 25 символов, затем определите столбца как VARCHAR(25).</span><span class="sxs-lookup"><span data-stu-id="1b107-201">If hello longest value in a column is 25 characters, then define your column as VARCHAR(25).</span></span>  <span data-ttu-id="1b107-202">Не рекомендуется определять все столбцы tooa больших по умолчанию символов.</span><span class="sxs-lookup"><span data-stu-id="1b107-202">Avoid defining all character columns tooa large default length.</span></span>  <span data-ttu-id="1b107-203">Кроме того, по возможности определяйте столбцы как VARCHAR, а не NVARCHAR.</span><span class="sxs-lookup"><span data-stu-id="1b107-203">In addition, define columns as VARCHAR when that is all that is needed rather than use NVARCHAR.</span></span>

<span data-ttu-id="1b107-204">Дополнительные сведения см. в статьях, посвященных [общим сведениям о таблицах][Table overview], [типам данных таблиц][Table data types] и [инструкции CREATE TABLE][CREATE TABLE].</span><span class="sxs-lookup"><span data-stu-id="1b107-204">See also [Table overview][Table overview], [Table data types][Table data types], [CREATE TABLE][CREATE TABLE]</span></span>

## <a name="use-temporary-heap-tables-for-transient-data"></a><span data-ttu-id="1b107-205">Использование временных таблиц без кластеризованных индексов для хранения временных данных</span><span class="sxs-lookup"><span data-stu-id="1b107-205">Use temporary heap tables for transient data</span></span>
<span data-ttu-id="1b107-206">При временно размещения данных в хранилище данных SQL, может обнаружиться, что использование кучи таблицы сделает быстрее hello общий процесс.</span><span class="sxs-lookup"><span data-stu-id="1b107-206">When you are temporarily landing data on SQL Data Warehouse, you may find that using a heap table will make hello overall process faster.</span></span>  <span data-ttu-id="1b107-207">При загрузке данных только toostage его перед выполнением дополнительные преобразования, загрузка tooheap hello таблица будет намного быстрее, чем загрузка данных tooa hello кластеризованный columnstore таблицы.</span><span class="sxs-lookup"><span data-stu-id="1b107-207">If you are loading data only toostage it before running more transformations, loading hello table tooheap table will be much faster than loading hello data tooa clustered columnstore table.</span></span>  <span data-ttu-id="1b107-208">Кроме того загрузка данных tooa временной таблицы также будут загружаться гораздо быстрее, чем загрузка хранилища toopermanent таблицы.</span><span class="sxs-lookup"><span data-stu-id="1b107-208">In addition, loading data tooa temp table will also load much faster than loading a table toopermanent storage.</span></span>  <span data-ttu-id="1b107-209">Временные таблицы начинаться с «#» и доступны только в сеансе hello, создавшей его, поэтому они могут работать только в ограниченных сценариях.</span><span class="sxs-lookup"><span data-stu-id="1b107-209">Temporary tables start with a "#" and are only accessible by hello session which created it, so they may only work in limited scenarios.</span></span>   <span data-ttu-id="1b107-210">Таблицы в куче, определяются в предложение WITH hello CREATE TABLE.</span><span class="sxs-lookup"><span data-stu-id="1b107-210">Heap tables are defined in hello WITH clause of a CREATE TABLE.</span></span>  <span data-ttu-id="1b107-211">При использовании временной таблицы слишком помните toocreate статистические данные для этой временной таблицы.</span><span class="sxs-lookup"><span data-stu-id="1b107-211">If you do use a temporary table, remember toocreate statistics on that temporary table too.</span></span>

<span data-ttu-id="1b107-212">Дополнительные сведения см. в статьях о [временных таблицах][Temporary tables], [инструкциях CREATE TABLE][CREATE TABLE] и [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT].</span><span class="sxs-lookup"><span data-stu-id="1b107-212">See also [Temporary tables][Temporary tables], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span></span>

## <a name="optimize-clustered-columnstore-tables"></a><span data-ttu-id="1b107-213">Оптимизация таблиц с кластеризованными индексами columnstore</span><span class="sxs-lookup"><span data-stu-id="1b107-213">Optimize clustered columnstore tables</span></span>
<span data-ttu-id="1b107-214">Кластеризованные индексы columnstore являются одним из наиболее эффективных способов hello, данные можно хранить в хранилище данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="1b107-214">Clustered columnstore indexes are one of hello most efficient ways you can store your data in Azure SQL Data Warehouse.</span></span>  <span data-ttu-id="1b107-215">По умолчанию в хранилище данных SQL используются таблицы с кластеризованными индексами Columnstore.</span><span class="sxs-lookup"><span data-stu-id="1b107-215">By default, tables in SQL Data Warehouse are created as Clustered ColumnStore.</span></span>  <span data-ttu-id="1b107-216">Важно tooget hello максимальную производительность запросов в таблицах columnstore, в которых сегмент хорошее качество.</span><span class="sxs-lookup"><span data-stu-id="1b107-216">tooget hello best performance for queries on columnstore tables, having good segment quality is important.</span></span>  <span data-ttu-id="1b107-217">При строки записываются toocolumnstore таблиц в условиях нехватки памяти, качество сегмента columnstore может упасть.</span><span class="sxs-lookup"><span data-stu-id="1b107-217">When rows are written toocolumnstore tables under memory pressure, columnstore segment quality may suffer.</span></span>  <span data-ttu-id="1b107-218">Качество сегмента можно изменить по числу строк в сжатой группе строк.</span><span class="sxs-lookup"><span data-stu-id="1b107-218">Segment quality can be measured by number of rows in a compressed Row Group.</span></span>  <span data-ttu-id="1b107-219">. В разделе hello [причины низкой columnstore индекса качества] [ Causes of poor columnstore index quality] в hello [таблицы индексов] [ Table indexes] статью пошаговые инструкции по обнаружение и повышение качества сегмента для таблицы в кластеризованный индекс columnstore.</span><span class="sxs-lookup"><span data-stu-id="1b107-219">See hello [Causes of poor columnstore index quality][Causes of poor columnstore index quality] in hello [Table indexes][Table indexes] article for step by step instructions on detecting and improving segment quality for clustered columnstore tables.</span></span>  <span data-ttu-id="1b107-220">Поскольку сегментов columnstore высокого качества является важной, это рекомендуется toouse идентификаторы пользователей, находящихся в класс hello среднего или крупного ресурса для загрузки данных.</span><span class="sxs-lookup"><span data-stu-id="1b107-220">Because high quality columnstore segments is important, it's a good idea toouse users ids which are in hello medium or large resource class for loading data.</span></span>  <span data-ttu-id="1b107-221">Здравствуйте, меньше Dwu используется, hello большего hello ресурсов класса, вы будете tooyour tooassign загрузке пользователя.</span><span class="sxs-lookup"><span data-stu-id="1b107-221">hello fewer DWUs you use, hello larger hello resource class you will want tooassign tooyour loading user.</span></span>

<span data-ttu-id="1b107-222">Поскольку таблиц columnstore обычно не Принудительная отправка данных в сжатые columnstore сегмент до более 1 миллиона строк одной таблицы и каждого хранилища данных SQL таблица секционирована на 60 таблиц, как правило, таблицы columnstore не получается выигрыш запроса Если таблица hello имеет более 60 миллиона строк.</span><span class="sxs-lookup"><span data-stu-id="1b107-222">Since columnstore tables generally won't push data into a compressed columnstore segment until there are more than 1 million rows per table and each SQL Data Warehouse table is partitioned into 60 tables, as a rule of thumb, columnstore tables won't benefit a query unless hello table has more than 60 million rows.</span></span>  <span data-ttu-id="1b107-223">Для таблицы с менее 60 миллионов строк может быть любой toohave смысле индекс columnstore.</span><span class="sxs-lookup"><span data-stu-id="1b107-223">For table with less than 60 million rows, it may not make any sense toohave a columnstore index.</span></span>  <span data-ttu-id="1b107-224">Для таблицы с количеством строк менее 60 миллионов бессмысленно использовать индекс Columnstore, хотя он и не повлияет на производительность.</span><span class="sxs-lookup"><span data-stu-id="1b107-224">It also may not hurt.</span></span>  <span data-ttu-id="1b107-225">Кроме того Если выполнено секционирование данных, затем требуется tooconsider необходимость toobenefit toohave 1 миллион строк из кластеризованного индекса columnstore каждой секции.</span><span class="sxs-lookup"><span data-stu-id="1b107-225">Furthermore, if you partition your data, then you will want tooconsider that each partition will need toohave 1 million rows toobenefit from a clustered columnstore index.</span></span>  <span data-ttu-id="1b107-226">Если таблица имеет 100 секций, то он должен быть по крайней мере один миллиард 6 toohave toobenefit строк из хранилища кластеризованных столбцов (60 распределения * 100 секций * 1 миллион строк).</span><span class="sxs-lookup"><span data-stu-id="1b107-226">If a table has 100 partitions, then it will need toohave at least 6 billion rows toobenefit from a clustered columns store (60 distributions * 100 partitions * 1 million rows).</span></span>  <span data-ttu-id="1b107-227">Если таблица не имеет 6 миллиарда строк в этом примере, сократите число hello секций или попробуйте вместо таблицы кучи.</span><span class="sxs-lookup"><span data-stu-id="1b107-227">If your table does not have 6 billion rows in this example, either reduce hello number of partitions or consider using a heap table instead.</span></span>  <span data-ttu-id="1b107-228">Также возможно, стоит экспериментируете toosee Если повышения производительности могут быть получены с помощью таблицы кучи с вторичных индексов, а не в таблицу columnstore.</span><span class="sxs-lookup"><span data-stu-id="1b107-228">It also may be worth experimenting toosee if better performance can be gained with a heap table with secondary indexes rather than a columnstore table.</span></span>  <span data-ttu-id="1b107-229">Таблицы ColumnStore еще не поддерживают вторичные индексы.</span><span class="sxs-lookup"><span data-stu-id="1b107-229">Columnstore tables do not yet support secondary indexes.</span></span>

<span data-ttu-id="1b107-230">При запросе таблицы columnstore, запросы будут выполняться быстрее, если выбрать только необходимые столбцы hello.</span><span class="sxs-lookup"><span data-stu-id="1b107-230">When querying a columnstore table, queries will run faster if you select only hello columns you need.</span></span>  

<span data-ttu-id="1b107-231">Ознакомьтесь также со статьями [Индексирование таблиц в хранилище данных SQL][Table indexes], [Руководство по индексам columnstore][Columnstore indexes guide] и разделом с [описанием повторной сборки индексов columnstore][Rebuilding columnstore indexes].</span><span class="sxs-lookup"><span data-stu-id="1b107-231">See also [Table indexes][Table indexes], [Columnstore indexes guide][Columnstore indexes guide], [Rebuilding columnstore indexes][Rebuilding columnstore indexes]</span></span>

## <a name="use-larger-resource-class-tooimprove-query-performance"></a><span data-ttu-id="1b107-232">Используйте увеличить производительность запросов tooimprove класса ресурсов</span><span class="sxs-lookup"><span data-stu-id="1b107-232">Use larger resource class tooimprove query performance</span></span>
<span data-ttu-id="1b107-233">Хранилище данных SQL использует группы ресурсов в качестве tooqueries памяти tooallocate способом.</span><span class="sxs-lookup"><span data-stu-id="1b107-233">SQL Data Warehouse uses resource groups as a way tooallocate memory tooqueries.</span></span>  <span data-ttu-id="1b107-234">В стандартной hello все пользователи назначаются toohello мало ресурсов класса, который предоставляет 100 МБ памяти для каждого распространителя.</span><span class="sxs-lookup"><span data-stu-id="1b107-234">Out of hello box, all users are assigned toohello small resource class which grants 100 MB of memory per distribution.</span></span>  <span data-ttu-id="1b107-235">Поскольку всегда существует 60 распределения и каждого распределения предоставляется менее 100 МБ, расширенный hello областей памяти выделения — 6 000 МБ или в 6 ГБ.</span><span class="sxs-lookup"><span data-stu-id="1b107-235">Since there are always 60 distributions and each distribution is given a minimum of 100 MB, system wide hello total memory allocation is 6,000 MB, or just under 6 GB.</span></span>  <span data-ttu-id="1b107-236">Некоторые запросы, как большой соединения или таблиц columnstore tooclustered загрузок, будет обеспечен больше операций выделения памяти.</span><span class="sxs-lookup"><span data-stu-id="1b107-236">Certain queries, like large joins or loads tooclustered columnstore tables, will benefit from larger memory allocations.</span></span>  <span data-ttu-id="1b107-237">На выполнение некоторых запросов, таких как запросы на обычное сканирование, память не требуется.</span><span class="sxs-lookup"><span data-stu-id="1b107-237">Some queries, like pure scans, will see no benefit.</span></span>  <span data-ttu-id="1b107-238">На hello другой стороны использование классов больше ресурсов влияет параллелизм, поэтому рекомендуется tootake это во внимание перед перемещением все пользователи tooa больших ресурсов класса.</span><span class="sxs-lookup"><span data-stu-id="1b107-238">On hello flip side, utilizing larger resource classes impacts concurrency, so you will want tootake this into consideration before moving all of your users tooa large resource class.</span></span>

<span data-ttu-id="1b107-239">Дополнительные сведения см. в статье [Управление параллелизмом и рабочей нагрузкой в хранилище данных SQL][Concurrency and workload management].</span><span class="sxs-lookup"><span data-stu-id="1b107-239">See also [Concurrency and workload management][Concurrency and workload management]</span></span>

## <a name="use-smaller-resource-class-tooincrease-concurrency"></a><span data-ttu-id="1b107-240">Используйте меньше ресурсов класса tooIncrease параллелизма</span><span class="sxs-lookup"><span data-stu-id="1b107-240">Use Smaller Resource Class tooIncrease Concurrency</span></span>
<span data-ttu-id="1b107-241">Если отметить, что пользователь запросов показаться toohave длительная задержка, возможно, пользователи работают в классах больше ресурсов и потребляют много слоты параллелизма, вызывая другие запросы tooqueue вверх.</span><span class="sxs-lookup"><span data-stu-id="1b107-241">If you are noticing that user queries seem toohave a long delay, it could be that your users are running in larger resource classes and are consuming a lot of concurrency slots causing other queries tooqueue up.</span></span>  <span data-ttu-id="1b107-242">toosee, если запросы пользователей находятся в очереди, запустите `SELECT * FROM sys.dm_pdw_waits` toosee, если возвращаются все строки.</span><span class="sxs-lookup"><span data-stu-id="1b107-242">toosee if users queries are queued, run `SELECT * FROM sys.dm_pdw_waits` toosee if any rows are returned.</span></span>

<span data-ttu-id="1b107-243">Дополнительные сведения см. в статьях [Управление параллелизмом и рабочей нагрузкой в хранилище данных SQL][Concurrency and workload management] и [sys.dm_pdw_waits (Transact-SQL)][sys.dm_pdw_waits].</span><span class="sxs-lookup"><span data-stu-id="1b107-243">See also [Concurrency and workload management][Concurrency and workload management], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span></span>

## <a name="use-dmvs-toomonitor-and-optimize-your-queries"></a><span data-ttu-id="1b107-244">Используйте динамические административные представления toomonitor и оптимизации запросов</span><span class="sxs-lookup"><span data-stu-id="1b107-244">Use DMVs toomonitor and optimize your queries</span></span>
<span data-ttu-id="1b107-245">Хранилище данных SQL имеет несколько динамических административных представлений, которые могут быть используется toomonitor выполнения запроса.</span><span class="sxs-lookup"><span data-stu-id="1b107-245">SQL Data Warehouse has several DMVs which can be used toomonitor query execution.</span></span>  <span data-ttu-id="1b107-246">Hello мониторинга статье рассматриваются пошаговые инструкции на как toolook подробностей hello выполняющегося запроса.</span><span class="sxs-lookup"><span data-stu-id="1b107-246">hello monitoring article below walks through step-by-step instructions on how toolook at hello details of an executing query.</span></span>  <span data-ttu-id="1b107-247">tooquickly запросов поиска в эти динамические административные представления, с помощью параметра LABEL hello с запросами может помочь.</span><span class="sxs-lookup"><span data-stu-id="1b107-247">tooquickly find queries in these DMVs, using hello LABEL option with your queries can help.</span></span>

<span data-ttu-id="1b107-248">Дополнительные сведения см. в статьях [Мониторинг рабочей нагрузки с помощью динамических административных представлений][Monitor your workload using DMVs], [Использование меток для инструментирования запросов в хранилище данных SQL][LABEL], [Предложение OPTION (Transact-SQL)][OPTION], [sys.dm_exec_sessions (Transact-SQL)][sys.dm_exec_sessions], [sys.dm_pdw_exec_requests (Transact-SQL)][sys.dm_pdw_exec_requests], [sys.dm_pdw_request_steps][sys.dm_pdw_request_steps], [sys.dm_pdw_request_steps (Transact-SQL)][sys.dm_pdw_sql_requests], [ys.dm_pdw_dms_workers (Transact-SQL)], [DBCC PDW_SHOWEXECUTIONPLAN (Transact-SQL)][DBCC PDW_SHOWEXECUTIONPLAN] и [sys.dm_pdw_waits (Transact-SQL)][sys.dm_pdw_waits].</span><span class="sxs-lookup"><span data-stu-id="1b107-248">See also [Monitor your workload using DMVs][Monitor your workload using DMVs], [LABEL][LABEL], [OPTION][OPTION], [sys.dm_exec_sessions][sys.dm_exec_sessions], [sys.dm_pdw_exec_requests][sys.dm_pdw_exec_requests], [sys.dm_pdw_request_steps][sys.dm_pdw_request_steps], [sys.dm_pdw_sql_requests][sys.dm_pdw_sql_requests], [sys.dm_pdw_dms_workers], [DBCC PDW_SHOWEXECUTIONPLAN][DBCC PDW_SHOWEXECUTIONPLAN], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span></span>

## <a name="other-resources"></a><span data-ttu-id="1b107-249">Другие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="1b107-249">Other resources</span></span>
<span data-ttu-id="1b107-250">Дополнительные сведения о распространенных проблемах и способах их решения см. в статье [Устранение неполадок хранилища данных SQL Azure][Troubleshooting].</span><span class="sxs-lookup"><span data-stu-id="1b107-250">Also see our [Troubleshooting][Troubleshooting] article for common issues and solutions.</span></span>

<span data-ttu-id="1b107-251">Если вы не нашли то, что вы искали, в этой статье, попробуйте использовать hello «Поиск для документы» hello левой части этой страницы toosearch всех документов hello хранилище данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="1b107-251">If you didn't find what you were looking for in this article, try using hello "Search for docs" on hello left side of this page toosearch all of hello Azure SQL Data Warehouse documents.</span></span>  <span data-ttu-id="1b107-252">Hello [форум MSDN хранилища данных SQL Azure] [ Azure SQL Data Warehouse MSDN Forum] было создать как место для вас tooask вопросы пользователей tooother и toohello группы продукта хранилища данных SQL.</span><span class="sxs-lookup"><span data-stu-id="1b107-252">hello [Azure SQL Data Warehouse MSDN Forum][Azure SQL Data Warehouse MSDN Forum] was create as a place for you tooask questions tooother users and toohello SQL Data Warehouse Product Group.</span></span>  <span data-ttu-id="1b107-253">Мы активно отслеживать этот форум tooensure, что свои вопросы ответы на или по другим пользователем или один из нас.</span><span class="sxs-lookup"><span data-stu-id="1b107-253">We actively monitor this forum tooensure that your questions are answered either by another user or one of us.</span></span>  <span data-ttu-id="1b107-254">При желании tooask свои вопросы о переполнении стека в нам требуется также [Azure хранилища стека переполнения форум по данным SQL][Azure SQL Data Warehouse Stack Overflow Forum].</span><span class="sxs-lookup"><span data-stu-id="1b107-254">If you prefer tooask your questions on Stack Overflow, we also have an [Azure SQL Data Warehouse Stack Overflow Forum][Azure SQL Data Warehouse Stack Overflow Forum].</span></span>

<span data-ttu-id="1b107-255">Наконец, используйте hello [отзывов о хранилище данных SQL Azure] [ Azure SQL Data Warehouse Feedback] toomake функции запросов к страницам.</span><span class="sxs-lookup"><span data-stu-id="1b107-255">Finally, please do use hello [Azure SQL Data Warehouse Feedback][Azure SQL Data Warehouse Feedback] page toomake feature requests.</span></span>  <span data-ttu-id="1b107-256">Ваши отзывы и голоса за отзывы, оставленные другими пользователями, помогут нам определить, какие улучшения функций наиболее приоритетные.</span><span class="sxs-lookup"><span data-stu-id="1b107-256">Adding your requests or up-voting other requests really helps us prioritize features.</span></span>

<!--Image references-->

<!--Article references-->
[Create a support ticket]: ./sql-data-warehouse-get-started-create-support-ticket.md
[Concurrency and workload management]: ./sql-data-warehouse-develop-concurrency.md
[Create table as select (CTAS)]: ./sql-data-warehouse-develop-ctas.md
[Table overview]: ./sql-data-warehouse-tables-overview.md
[Table data types]: ./sql-data-warehouse-tables-data-types.md
[Table distribution]: ./sql-data-warehouse-tables-distribute.md
[Table indexes]: ./sql-data-warehouse-tables-index.md
[Causes of poor columnstore index quality]: ./sql-data-warehouse-tables-index.md#causes-of-poor-columnstore-index-quality
[Rebuilding columnstore indexes]: ./sql-data-warehouse-tables-index.md#rebuilding-indexes-to-improve-segment-quality
[Table partitioning]: ./sql-data-warehouse-tables-partition.md
[Manage table statistics]: ./sql-data-warehouse-tables-statistics.md
[Temporary tables]: ./sql-data-warehouse-tables-temporary.md
[Guide for using PolyBase]: ./sql-data-warehouse-load-polybase-guide.md
[Load data]: ./sql-data-warehouse-overview-load.md
[Move data with Azure Data Factory]: ../data-factory/data-factory-azure-sql-data-warehouse-connector.md
[Load data with Azure Data Factory]: ./sql-data-warehouse-get-started-load-with-azure-data-factory.md
[Load data with bcp]: ./sql-data-warehouse-load-with-bcp.md
[Load data with PolyBase]: ./sql-data-warehouse-get-started-load-with-polybase.md
[Monitor your workload using DMVs]: ./sql-data-warehouse-manage-monitor.md
[Pause compute resources]: ./sql-data-warehouse-manage-compute-overview.md#pause-compute-bk
[Resume compute resources]: ./sql-data-warehouse-manage-compute-overview.md#resume-compute-bk
[масштабировании]: ./sql-data-warehouse-manage-compute-overview.md#scale-compute
[Understanding transactions]: ./sql-data-warehouse-develop-transactions.md
[Optimizing transactions]: ./sql-data-warehouse-develop-best-practices-transactions.md
[Troubleshooting]: ./sql-data-warehouse-troubleshoot.md
[LABEL]: ./sql-data-warehouse-develop-label.md

<!--MSDN references-->
[ALTER TABLE]: https://msdn.microsoft.com/library/ms190273.aspx
[CREATE EXTERNAL FILE FORMAT]: https://msdn.microsoft.com/library/dn935026.aspx
[CREATE STATISTICS]: https://msdn.microsoft.com/library/ms188038.aspx
[CREATE TABLE]: https://msdn.microsoft.com/library/mt203953.aspx
[CREATE TABLE AS SELECT]: https://msdn.microsoft.com/library/mt204041.aspx
[DBCC PDW_SHOWEXECUTIONPLAN]: https://msdn.microsoft.com/library/mt204017.aspx
[INSERT]: https://msdn.microsoft.com/library/ms174335.aspx
[OPTION]: https://msdn.microsoft.com/library/ms190322.aspx
[TRUNCATE TABLE]: https://msdn.microsoft.com/library/ms177570.aspx
[UPDATE STATISTICS]: https://msdn.microsoft.com/library/ms187348.aspx
[sys.dm_exec_sessions]: https://msdn.microsoft.com/library/ms176013.aspx
[sys.dm_pdw_exec_requests]: https://msdn.microsoft.com/library/mt203887.aspx
[sys.dm_pdw_request_steps]: https://msdn.microsoft.com/library/mt203913.aspx
[sys.dm_pdw_sql_requests]: https://msdn.microsoft.com/library/mt203889.aspx
[ys.dm_pdw_dms_workers (Transact-SQL)]: https://msdn.microsoft.com/library/mt203878.aspx
[sys.dm_pdw_waits]: https://msdn.microsoft.com/library/mt203893.aspx
[Columnstore indexes guide]: https://msdn.microsoft.com/library/gg492088.aspx

<!--Other Web references-->
[Selecting table distribution]: https://blogs.msdn.microsoft.com/sqlcat/2015/08/11/choosing-hash-distributed-table-vs-round-robin-distributed-table-in-azure-sql-dw-service/
[Azure SQL Data Warehouse Feedback]: https://feedback.azure.com/forums/307516-sql-data-warehouse
[Azure SQL Data Warehouse MSDN Forum]: https://social.msdn.microsoft.com/Forums/sqlserver/home?forum=AzureSQLDataWarehouse
[Azure SQL Data Warehouse Stack Overflow Forum]:  http://stackoverflow.com/questions/tagged/azure-sqldw
[Azure SQL Data Warehouse loading patterns and strategies]: https://blogs.msdn.microsoft.com/sqlcat/2016/02/06/azure-sql-data-warehouse-loading-patterns-and-strategies
