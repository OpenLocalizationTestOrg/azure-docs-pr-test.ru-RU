---
title: "Описание операций хранилища данных SQL Azure | Документация Майкрософт"
description: "Эластичность хранилища данных SQL — это возможность повышать и понижать вычислительную мощность, а также приостанавливать вычислительную работу с помощью обычного ползунка изменения уровня производительности (количества DWU). В этой статье описываются метрики хранилища данных и их связь с DWU. "
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: 
ms.assetid: cadffa9c-589d-4db7-888a-1f202a753bc5
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: performance
ms.date: 10/31/2016
ms.author: jrj;barbkess
ms.openlocfilehash: 629ce22bf669a760d041bbd006b836d2da5d237b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="data-warehouse-workload"></a><span data-ttu-id="b2dcf-104">Рабочая нагрузка хранилища данных</span><span class="sxs-lookup"><span data-stu-id="b2dcf-104">Data warehouse workload</span></span>
<span data-ttu-id="b2dcf-105">Рабочая нагрузка хранилища данных — это все операции, которые выполняются в хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-105">A data warehouse workload refers to all of the operations that transpire against a data warehouse.</span></span> <span data-ttu-id="b2dcf-106">Рабочая нагрузка хранилища охватывает весь процесс загрузки данных в хранилище, выполнение анализа, создание отчетов о хранилище, управление данными в хранилище и экспорт данных из хранилища.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-106">The data warehouse workload encompasses the entire process of loading data into the warehouse, performing analysis and reporting on the data warehouse, managing data in the data warehouse, and exporting data from the data warehouse.</span></span> <span data-ttu-id="b2dcf-107">Глубина и ширина этих процессов зачастую зависят от уровня зрелости хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-107">The depth and breadth of these components are often commensurate with the maturity level of the data warehouse.</span></span>

## <a name="new-to-data-warehousing"></a><span data-ttu-id="b2dcf-108">Если вы не знакомы с системами хранения данных</span><span class="sxs-lookup"><span data-stu-id="b2dcf-108">New to data warehousing?</span></span>
<span data-ttu-id="b2dcf-109">Хранилище данных — это совокупность данных, загружаемых из одного или нескольких источников данных, которая используется для выполнения задач по бизнес-аналитике, например для создания отчетов и анализа данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-109">A data warehouse is a collection of data that is loaded from one or more data sources and is used to perform business intelligence tasks such as reporting and data analysis.</span></span>

<span data-ttu-id="b2dcf-110">Отличительной чертой хранилищ данных являются очереди, которые сканируют большое количество строк и большие диапазоны данных и могут возвращать относительно большие объемы результатов. Эти результаты впоследствии можно анализировать и создавать по ним различные отчеты.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-110">Data warehouses are characterized by queries that scan larger numbers of rows, large ranges of data and may return relatively large results for the purposes of analysis and reporting.</span></span> <span data-ttu-id="b2dcf-111">Хранилища данных также характеризуются относительно большими загрузками данных по сравнению с небольшими операциями вставки, обновления или удаления на уровне транзакций.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-111">Data warehouses are also characterized by relatively large data loads versus small transaction-level inserts/updates/deletes.</span></span>

* <span data-ttu-id="b2dcf-112">Хранилище данных работает лучше, если способ хранения данных позволяет оптимизировать запросы, которые должны сканировать большое количество строк или большие диапазоны данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-112">A data warehouse performs best when the data is stored in a way that optimizes queries that need to scan large numbers of rows or large ranges of data.</span></span> <span data-ttu-id="b2dcf-113">Этот тип сканирования лучше всего работает, если данные хранятся и ищутся в столбцах, а не строках.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-113">This type of scanning works best when the data is stored and searched by columns, instead of by rows.</span></span>

> [!NOTE]
> <span data-ttu-id="b2dcf-114">В контексте запросов для аналитики и создания отчетов индекс columnstore в памяти, который использует столбчатое хранилище, обеспечивает десятикратное увеличение сжатия и стократное улучшение производительности запросов по сравнению с традиционными двоичными деревьями.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-114">The in-memory columnstore index, which uses column storage, provides up to 10x compression gains and 100x query performance gains over traditional binary trees for reporting and analytics queries.</span></span> <span data-ttu-id="b2dcf-115">Мы считаем индексы columnstore стандартом для хранения и сканирования больших объемов информации в хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-115">We consider columnstore indexes as the standard for storing and scanning large data in a data warehouse.</span></span>
> 
> 

* <span data-ttu-id="b2dcf-116">Требования хранилища данных отличаются от требований системы, которая оптимизирует интерактивную обработку транзакций (OLTP).</span><span class="sxs-lookup"><span data-stu-id="b2dcf-116">A data warehouse has different requirements than a system that optimizes for online transaction processing (OLTP).</span></span> <span data-ttu-id="b2dcf-117">В системе OLTP выполняется множество операций вставки, обновления и удаления.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-117">The OLTP system has many insert, update, and delete operations.</span></span> <span data-ttu-id="b2dcf-118">Эти операции ищут конкретные строки в таблице.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-118">These operations seek to specific rows in the table.</span></span> <span data-ttu-id="b2dcf-119">Поиск в таблице выполняется эффективнее, если данные хранятся в строках.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-119">Table seeks perform best when the data is stored in a row-by-row manner.</span></span> <span data-ttu-id="b2dcf-120">Данные можно сортировать и искать, используя подход "разделяй и властвуй", который называется двоичным деревом или поиском в двоичном дереве.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-120">The data can be sorted and quickly searched with a divide and conquer approach called a binary tree or btree search.</span></span>

## <a name="data-loading"></a><span data-ttu-id="b2dcf-121">Загрузка данных</span><span class="sxs-lookup"><span data-stu-id="b2dcf-121">Data loading</span></span>
<span data-ttu-id="b2dcf-122">Загрузка данных является важной частью рабочей нагрузки хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-122">Data loading is a big part of the data warehouse workload.</span></span> <span data-ttu-id="b2dcf-123">В компаниях обычно работает высоконагруженная система OLTP, которая отслеживает изменения в течение дня, когда клиенты создают бизнес-транзакции.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-123">Businesses usually have a busy OLTP system that tracks changes throughout the day when customers are generating business transactions.</span></span> <span data-ttu-id="b2dcf-124">Периодически, чаще всего по ночам в период обслуживания, транзакции перемещаются или копируются в хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-124">Periodically, often at night during a maintenance window, the transactions are moved or copied to the data warehouse.</span></span> <span data-ttu-id="b2dcf-125">Когда данные находятся в хранилище данных, аналитики могут анализировать их и принимать соответствующие решения.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-125">Once the data is in the data warehouse, analysts can perform analysis and make business decisions on the data.</span></span>

* <span data-ttu-id="b2dcf-126">Обычно процесс загрузки называется ETL, что расшифровывается как извлечение, преобразование и загрузка (Extract, Transform и Load).</span><span class="sxs-lookup"><span data-stu-id="b2dcf-126">Traditionally, the process of loading is called ETL for Extract, Transform, and Load.</span></span> <span data-ttu-id="b2dcf-127">Данные необходимо преобразовывать, чтобы они согласовывались с другими данными в хранилище.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-127">Data usually needs to be transformed so it is consistent with other data in the data warehouse.</span></span> <span data-ttu-id="b2dcf-128">Ранее компании использовать выделенные ETL-серверы для выполнения преобразований.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-128">Previously, businesses used dedicated ETL servers to perform the transformations.</span></span> <span data-ttu-id="b2dcf-129">Теперь благодаря быстрым вычислениям с массовым параллелизмом данные можно сначала загрузить в хранилище данных SQL, а затем преобразовать их.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-129">Now, with such fast massively parallel processing you can load data into SQL Data Warehouse first, and then perform the transformations.</span></span> <span data-ttu-id="b2dcf-130">Этот процесс называется "Извлечение, загрузка и преобразование (ELT)". Он становится новой стандартной рабочей нагрузкой хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-130">This process is called Extract, Load, and Transform (ELT), and is becoming a new standard for the data warehouse workload.</span></span>

> [!NOTE]
> <span data-ttu-id="b2dcf-131">Используя SQL Server 2016, вы можете анализировать таблицы OLTP в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-131">With SQL Server 2016, you can now perform analytics in real-time on an OLTP table.</span></span> <span data-ttu-id="b2dcf-132">Вам по-прежнему требуется хранилище для хранения и анализа данных, но с помощью сервера можно выполнять анализ в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-132">This does not replace the need for a data warehouse to store and analyze data, but it does provide a way to perform analysis in real-time.</span></span>
> 
> 

### <a name="reporting-and-analysis-queries"></a><span data-ttu-id="b2dcf-133">Запросы для создания отчетов и анализа</span><span class="sxs-lookup"><span data-stu-id="b2dcf-133">Reporting and analysis queries</span></span>
<span data-ttu-id="b2dcf-134">Запросы для создания отчетов и анализа данных часто делятся на малые, средние и большие в зависимости от количества критериев, но обычно запросы классифицируются по времени.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-134">Reporting and analysis queries are often categorized into small, medium and large based on a number of criteria, but usually it is based on time.</span></span> <span data-ttu-id="b2dcf-135">В большинстве хранилищ данных существует смешанная рабочая нагрузка, которая состоит из быстро выполняющихся и долго выполняющихся запросов.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-135">In most data warehouses, there is a mixed workload of fast-running versus long-running queries.</span></span> <span data-ttu-id="b2dcf-136">В каждом случае важно определить это сочетание и его частоту (ежечасно, ежедневно, в конце месяца, в конце квартала и т. д.).</span><span class="sxs-lookup"><span data-stu-id="b2dcf-136">In each case, it is important to determine this mix and to determine its frequency (hourly, daily, month-end, quarter-end, and so on).</span></span> <span data-ttu-id="b2dcf-137">Важно понимать, что рабочая нагрузка смешанных запросов в сочетании с параллелизмом позволяет правильно планировать загрузку хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-137">It is important to understand that the mixed query workload, coupled with concurrency, lead to proper capacity planning for a data warehouse.</span></span>

* <span data-ttu-id="b2dcf-138">Планирование загрузки может быть сложной задачей при использовании рабочей нагрузки смешанных запросов, особенно если вам требуется длительное время упреждения для добавления ресурсов в хранилище данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-138">Capacity planning can be a complex task for a mixed query workload, especially when you need a long lead time to add capacity to the data warehouse.</span></span> <span data-ttu-id="b2dcf-139">С хранилищем данных SQL вам не нужно срочно планировать загрузку: вы можете увеличивать и уменьшать количество вычислительных ресурсов в любое время, поскольку вычислительные ресурсы и емкость хранилища не связаны друг с другом.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-139">SQL Data Warehouse removes the urgency of capacity planning since you can grow and shrink compute capacity at any time, and since storage and compute capacity are independently sized.</span></span>

### <a name="data-management"></a><span data-ttu-id="b2dcf-140">Управление данными</span><span class="sxs-lookup"><span data-stu-id="b2dcf-140">Data management</span></span>
<span data-ttu-id="b2dcf-141">Управление данными имеет большое значение, особенно если известно, что в ближайшем будущем на диске может закончиться свободное место.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-141">Managing data is important, especially when you know you might run out of disk space in the near future.</span></span> <span data-ttu-id="b2dcf-142">Хранилища данных обычно разделяют данные на осмысленные диапазоны, которые хранятся в виде секций таблицы.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-142">Data warehouses usually divide the data into meaningful ranges, which are stored as partitions in a table.</span></span> <span data-ttu-id="b2dcf-143">Все продукты на основе SQL Server позволяют перемещать разделы в таблицу и из нее.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-143">All SQL Server-based products let you move partitions in and out of the table.</span></span> <span data-ttu-id="b2dcf-144">Этот переход между секциями позволяет перемещать старые данные в менее дорогое хранилище, а новые данные оставить доступными в онлайн-хранилище.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-144">This partition switching lets you move older data to less expensive storage and keep the latest data available on online storage.</span></span>

* <span data-ttu-id="b2dcf-145">Индексы columnstore поддерживают работу с секционированными таблицами.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-145">Columnstore indexes support partitioned tables.</span></span> <span data-ttu-id="b2dcf-146">В случае с индексами columnstore секционированные таблицы используются для управления данными и архивирования.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-146">For columnstore indexes, partitioned tables are used for data management and archival.</span></span> <span data-ttu-id="b2dcf-147">В таблицах с построчным хранением данных секции имеют большое значение для производительности запросов.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-147">For tables stored row-by-row, partitions have a larger role in query performance.</span></span>  
* <span data-ttu-id="b2dcf-148">PolyBase играет важную роль в управлении данными.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-148">PolyBase plays an important role in managing data.</span></span> <span data-ttu-id="b2dcf-149">С помощью PolyBase вы можете архивировать старые данные в Hadoop или хранилище больших двоичных объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-149">Using PolyBase, you have the option to archive older data to Hadoop or Azure blob storage.</span></span>  <span data-ttu-id="b2dcf-150">Такая возможность предоставляет больше пространства для маневров, поскольку данные остаются в сети.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-150">This provides lots of options since the data is still online.</span></span>  <span data-ttu-id="b2dcf-151">Чтобы получить данные из Hadoop, может понадобиться больше времени. Но длительное время извлечения данных компенсирует затраты на хранение.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-151">It might take longer to retrieve data from Hadoop, but the tradeoff of retrieval time might outweigh the storage cost.</span></span>

### <a name="exporting-data"></a><span data-ttu-id="b2dcf-152">Экспорт данных</span><span class="sxs-lookup"><span data-stu-id="b2dcf-152">Exporting data</span></span>
<span data-ttu-id="b2dcf-153">Чтобы предоставить доступ к данным для создания отчетов и анализа, их можно отправить из хранилища данных на серверы, предназначенные для создания отчетов и выполнения анализа.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-153">One way to make data available for reports and analysis is to send data from the data warehouse to servers dedicated for running reports and analysis.</span></span> <span data-ttu-id="b2dcf-154">Эти серверы называются киосками данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-154">These servers are called data marts.</span></span> <span data-ttu-id="b2dcf-155">Например, вы можете предварительно обработать данные для отчетов и экспортировать их из хранилища в несколько серверов по всему миру. Таким образом клиенты и аналитики получат к ним доступ.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-155">For example, you could pre-process report data and then export it from the data warehouse to many servers around the world, to make it broadly available for customers and analysts.</span></span>

* <span data-ttu-id="b2dcf-156">Данные для отчетов можно каждую ночь передавать на серверы отчетов (доступны только для чтения) в виде моментальных снимков ежедневных данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-156">For generating reports, each night you could populate read-only reporting servers with a snapshot of the daily data.</span></span> <span data-ttu-id="b2dcf-157">Таким образом обеспечивается более высокая пропускная способность для клиентов и снижаются потребности хранилища данных в вычислительных ресурсах.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-157">This gives higher bandwidth for customers while lowering the compute resource needs on the data warehouse.</span></span> <span data-ttu-id="b2dcf-158">С точки зрения безопасности киоски данных позволяют сократить число пользователей, имеющих доступ к хранилищу данных.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-158">From a security aspect, data marts allow you to reduce the number of users who have access to the data warehouse.</span></span>
* <span data-ttu-id="b2dcf-159">Для целей аналитики вы можете создать в хранилище данных куб аналитики и анализировать информацию относительно хранилища данных. Или же можно предварительно обработать данные и экспортировать их на сервер аналитики для дальнейшего анализа.</span><span class="sxs-lookup"><span data-stu-id="b2dcf-159">For analytics, you can either build an analysis cube on the data warehouse and run analysis against the data warehouse, or pre-process data and export it to the analysis server for further analytics.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b2dcf-160">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="b2dcf-160">Next steps</span></span>
<span data-ttu-id="b2dcf-161">Теперь, когда вам уже известны некоторые сведения о хранилище данных SQL, узнайте о том, как [создать хранилище данных SQL][create a SQL Data Warehouse] и [загрузить демонстрационные данные][load sample data].</span><span class="sxs-lookup"><span data-stu-id="b2dcf-161">Now that you know a bit about SQL Data Warehouse, learn how to quickly [create a SQL Data Warehouse][create a SQL Data Warehouse] and [load sample data][load sample data].</span></span>

<!--Image references-->

<!--Article references-->
[load sample data]: ./sql-data-warehouse-load-sample-databases.md
[create a SQL Data Warehouse]: ./sql-data-warehouse-get-started-provision.md

<!--MSDN references-->

<!--Other web references-->
