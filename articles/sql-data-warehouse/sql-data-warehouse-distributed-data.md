---
title: "aaaHow распределенных данных работает в хранилище данных SQL Azure | Документы Microsoft"
description: "Дополнительные сведения, распределение данных для расширенной параллельной обработке (MPP) и hello варианты распределения таблиц в хранилище данных SQL Azure и параллельных хранилищ данных."
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: 
ms.assetid: bae494a6-7ac5-4c38-8ca3-ab2696c63a9f
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: tables
ms.date: 07/12/2017
ms.author: jrj;barbkess
ms.openlocfilehash: 9a712d8d5251e4391ede245105918283aaa4b193
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="distributed-data-and-distributed-tables-for-massively-parallel-processing-mpp"></a>Распределенные данные и распределенные таблицы для вычислений с массовым параллелизмом (MPP)
Сведения о распределении пользовательских данных в хранилище данных SQL Azure и хранилище Parallel Data Warehouse, системах Майкрософт для вычислений с массовым параллелизмом (MPP). Проектирование вашей toouse хранилища данных распределенных данных фактически помогает вам tooachieve hello обработки запросов преимущества архитектуры MPP hello. Выбор правильных вариантов при проектировании базы данных может иметь значительное влияние на повышение производительности запросов.  

> [!NOTE]
> Хранилище данных SQL Azure и используйте hello Parallel Data Warehouse разработки же расширенной параллельной обработке (MPP), но они имеют ряд различий из-за hello базовой платформы. Хранилище данных SQL — это платформа как услуга (PaaS), работающая на базе Azure. Хранилище Parallel Data Warehouse работает на базе Analytics Platform System (APS), локального модуля на базе Windows Server.
> 
> 

## <a name="what-is-distributed-data"></a>Что такое распределенные данные?
В хранилище данных SQL и параллельных хранилищ данных распределенных данных относится toouser данные, которые хранятся в нескольких местах hello MPP системы. Каждый из этих расположений функционирует как независимые хранения и обработки единица, которая выполняет запросы в его части данных hello. Распределенные данные — это основные toorunning запросы в параллельных tooachieve высокую производительность запросов.

toodistribute данных, хранилище данных hello назначает каждой строки таблицы tooone распределенных местонахождение пользователя.  Таблицы можно распределять с помощью метода хэш-распределения или метода циклического перебора. метод распространения Hello указывается в инструкции CREATE TABLE hello. 

## <a name="hash-distributed-tables"></a>Таблицы с хэш-распределением
Hello, следующая диаграмма иллюстрирует, как полная (таблица нераспределенный) возвращает хранящейся в виде таблицы распределенных хэш. Детерминированные функции присваивает каждой распределение tooone toobelong строк. В определении таблицы hello один из столбцов hello обозначается как столбец распределения hello. хэш-функции Hello использует значение hello в столбец tooassign hello распространения распространения tooa каждой строки.

Существуют особенности производительности для выбора hello столбца распределения, например различимости, Рассогласование данных и типов запросов, выполняемых в системе hello hello.

![Распределенная таблица](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "Распределенная таблица")  

* Каждая строка принадлежит tooone распространения.  
* Детерминированные хэш-алгоритм назначает каждой tooone распределение строк.  
* Hello количество строк таблицы на распространения зависит с hello различные размеры таблиц, как показано.

## <a name="round-robin-distributed-tables"></a>Таблицы с распределением методом циклического перебора
Циклический перебор распределенные таблицы равномерно распределяет строки hello, назначив распространения tooa каждой строки в последовательном порядке. Это быстрый tooload данные в таблицу циклический перебор, но производительность запроса может быть медленнее.  Для присоединения таблицы циклического обычно требуется передвижения hello строк tooenable hello запроса tooproduce точный результат, который занимает время.

## <a name="distributed-storage-locations-are-called-distributions"></a>Распределенные расположения хранения называются распределениями
Каждое распределенное расположение называется распределением. При выполнении запроса в параллельном режиме, его часть данных hello каждого распределения выполняет SQL-запроса. Хранилище данных SQL использует запрос hello toorun базы данных SQL. Параллельное хранилище данных используется запрос hello toorun SQL Server. Этот архитектура общих nothing является фундаментальные tooachieving масштабирования параллельных вычислений.

### <a name="can-i-view-hello-distributions"></a>Можно просмотреть распределения hello
Каждого распределения имеет идентификатор распространителя и отображается в системных представлениях, которые относятся tooSQL хранилища данных и параллельных хранилищ данных. Можно использовать производительность запросов tootroubleshoot идентификатор распространителя hello и других проблем. Список системных представлений hello см. в разделе hello [MPP системное представление](sql-data-warehouse-reference-tsql-statements.md).

## <a name="difference-between-a-distribution-and-a-compute-node"></a>Различия между распределением и вычислительным узлом
Распределение является основной единицей hello для хранения распределенных данных и обработки параллельных запросов. Распределения объединяются в вычислительные узлы. Каждый вычислительный узел отслеживает одно или несколько распределений.  

* Система платформы аналитики использует вычислительные узлы как компонент центра возможностей hello оборудования архитектуры и масштабирования. Всегда использует восемь распределения по вычислительных узлов, как показано на диаграмме hello для распределенных хэш таблиц. Здравствуйте, количество вычислительных узлов и поэтому Здравствуйте, количество распространением, определяется hello количество вычислительных узлов, приобретения для hello устройства. Например, при покупке восьми вычислительных узлов пользователь получает 64 распределения (8 вычислительных узлов x 8 распределений на узел). 
* Хранилище данных SQL использует фиксированное количество распределений, равное 60, и переменное количество вычислительных узлов. Вычислительные узлы Hello реализуются с ресурсами Azure вычислений и хранения. Hello количество вычислительных узлов можно изменить соответствующим рабочей нагрузки toohello серверной службы и hello вычислительные мощности (Dwu) укажите hello хранилища данных. При изменении hello количество вычислительных узлов, hello количество распространением на вычислительном узле также изменяется. 

### <a name="can-i-view-hello-compute-nodes"></a>Можно просмотреть hello вычислительных узлов
Каждый вычислительный узел содержит идентификатор узла и является видимым в системных представлениях, которые относятся tooSQL хранилища данных и параллельных хранилищ данных.  Вы увидите hello вычислительных узлов, просматривая hello node_id столбец в системных представлениях, имена которых начинаются с sys.pdw_nodes. Список системных представлений hello см. в разделе hello [MPP системное представление](sql-data-warehouse-reference-tsql-statements.md).

## <a name="Replicated"></a>Реплицированные таблицы
Содержит таблицу, которая реплицируется полностью копии hello таблицы хранятся на каждом вычислительном узле. Таблицы репликации удаляет данные tootransfer необходимость hello среди вычислительных узлов перед соединения или статистической обработки. Реплицированные таблицы осуществимы только с небольших таблиц из-за hello дополнительного места требуется toostore hello всю таблицу на каждом вычислительном узле.  

Hello следующей диаграмме показан реплицируемой таблицы, которые хранятся на каждом вычислительном узле. Для хранилища данных SQL hello реплицируемой таблицы является полностью копируются tooa базы данных распространителя на каждом вычислительном узле. Parallel Data Warehouse hello реплицируемой таблицы хранятся на всех дисках, назначенный toohello вычислительных узлов.  Такая стратегия работы с дисками реализуется с помощью файловых групп SQL Server.  

![Реплицируемая таблица](media/sql-data-warehouse-distributed-data/replicated-table.png "Реплицируемая таблица") 

## <a name="next-steps"></a>Дальнейшие действия
toouse распределенных таблиц см. по сути, [распределение таблиц в хранилище данных SQL](sql-data-warehouse-tables-distribute.md)  

