---
title: "Уровни производительности хранилища данных SQL Azure | Документация Майкрософт"
description: "Общие сведения об оптимизированных для вычислений и эластичности уровнях производительности хранилища данных SQL Azure."
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: 
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: performance
ms.date: 11/10/2017
ms.author: jrj;barbkess
ms.openlocfilehash: 03881c12faed723999e97431e4a69fdeb6bfa10d
ms.sourcegitcommit: 9ea2edae5dbb4a104322135bef957ba6e9aeecde
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/03/2018
---
# <a name="azure-sql-data-warehouse-performance-tiers-preview"></a>Уровни производительности хранилища данных SQL Azure (предварительная версия)
Хранилище данных SQL предлагает два уровня производительности, которые оптимизированы для аналитических рабочих нагрузок. В этой статье описываются основные понятия уровней производительности, которые помогут вам выбрать наиболее подходящий уровень для вашей рабочей нагрузки. 

## <a name="what-is-a-performance-tier"></a>Что такое уровень производительности?
Уровень производительности — это параметр, который определяет конфигурацию вашего хранилища данных. Этот параметр является одним из первых вариантов, который необходимо выбрать при создании хранилища данных.  

> [!VIDEO https://channel9.msdn.com/Events/Connect/2017/T140/player]

- На **уровне производительности, оптимизированном для эластичности**, уровень вычислений и хранения в архитектуре разделены. Этот вариант предназначен для рабочих нагрузок, для которых полезно такое разделение между вычислениями и хранилищем за счет частого масштабирования и поддержки коротких периодов пиковой активности. Этот уровень вычислений имеет самую низкую входную цену и масштабируется для поддержки большинства рабочих нагрузок клиентов.

- **Уровень производительности, оптимизированный для вычислений**, использует новейшие аппаратные средства Azure для внедрения нового кэша твердотельных накопителей NVMe, сохраняющего часто запрашиваемые данные близко к ЦП (которые и должны там быть). За счет автоматического распределения по уровням хранилища этот уровень производительности предназначен для сложных запросов, так как все операции ввода-вывода хранятся локально на вычислительном уровне. Кроме того, функция columnstore расширена для хранения неограниченного объема данных в хранилище данных SQL. Уровень производительности, оптимизированный для вычислений, предоставляет высочайший уровень масштабируемости, что позволяет увеличить масштаб до 30 000 единиц использования хранилища данных вычислений (cDWU). Этот уровень подходит для рабочих нагрузок, требующих постоянно высокого быстродействия и производительности.

## <a name="service-levels"></a>Уровни обслуживания
Цель уровня обслуживания (SLO) — это параметр масштабируемости, который определяет уровень затрат и производительности хранилища данных. Уровни обслуживания для масштабирования уровней производительности, оптимизированных для вычислений, измеряются в вычислительных единицах хранилища данных (cDWU), например DW2000c. Уровни обслуживания, оптимизированные для эластичности, измеряются в DWU, например DW2000. Дополнительные сведения см. в статье [Data Warehouse Units (DWUs) and compute Data Warehouse Units (cDWUs)](what-is-a-data-warehouse-unit-dwu-cdwu.md) (Единицы использования хранилища данных (DWUs) и вычислительные единицы использования хранилища данных (cDWU)).

В T-SQL параметр SERVICE_OBJECTIVE определяет уровень обслуживания и уровень производительности хранилища данных.

```sql
--Optimized for Elasticity
CREATE DATABASE myElasticSQLDW
WITH
(    SERVICE_OBJECTIVE = 'DW1000'
)
;

--Optimized for Compute
CREATE DATABASE myComputeSQLDW
WITH
(    SERVICE_OBJECTIVE = 'DW1000c'
)
;
```

## <a name="memory-maximums"></a>Максимальные ограничения памяти
Уровни производительности имеют разные профили памяти, что означает различный объем памяти для каждого запроса. Уровень производительности, оптимизированный для вычислений, предоставляет в два с половиной раза больше памяти для каждого запроса, чем уровень производительности, оптимизированный для эластичности. Эта дополнительная память помогает оптимизировать уровень производительности, оптимизированный для вычислений, обеспечивая высокую производительность. Дополнительная память для запроса также позволяет запускать больше одновременных запросов, так как запросы могут использовать более низкие [классы ресурсов](resource-classes-for-workload-management.md). 

### <a name="optimized-for-elasticity"></a>Оптимизация для эластичности

Уровни обслуживания для уровня производительности, оптимизированного для эластичности, находятся в диапазоне от DW100 до DW6000. 

| Уровень обслуживания | Максимальное число одновременных запросов | Вычислительные узлы | Распределения на один вычислительный узел | Максимальный объем памяти на одно распространение (МБ) | Максимальный объем памяти на одно хранилище данных (ГБ) |
|:-------------:|:----------------------:|:-------------:|:------------------------------:|:--------------------------------:|:----------------------------------:|
| DW100         | 4.                      | 1             | 60                             | 400                              |  24                                |
| DW200         | 8                      | 2             | 30                             | 800                              |  48                                |
| DW300         | 12                     | 3             | 20                             | 1200                            |  72                                |
| DW400         | 16                     | 4.             | 15                             | 1 600                            |  96                                |
| DW500         | 20                     | 5             | 12                             | 2 000                            | 120                                |
| DW600         | 24                     | 6             | 10                             | 2400                            | 144                                |
| DW1000        | 32                     | 10            | 6                              | 4000                            | 240                                |
| DW1200        | 32                     | 12            | 5                              | 4800                            | 288                                |
| DW1500        | 32                     | 15            | 4.                              | 6000                            | 360                                |
| DW2000        | 32                     | 20            | 3                              | 8000                            | 480                                |
| DW3000        | 32                     | 30            | 2                              | 12 000                           | 720                                |
| DW6000        | 32                     | 60            | 1                              | 24,000                           | 1440                               |

### <a name="optimized-for-compute"></a>Оптимизация для вычислений

Уровни обслуживания для уровня производительности, оптимизированного для вычислений, находятся в диапазоне от DW1000c до DW30000c. 

| Уровень обслуживания | Максимальное число одновременных запросов | Вычислительные узлы | Распределения на один вычислительный узел | Максимальный объем памяти на одно распределение (ГБ) | Максимальный объем памяти на одно хранилище данных (ГБ) |
|:-------------:|:----------------------:|:-------------:|:------------------------------:|:--------------------------------:|:----------------------------------:|
| DW1000c       | 32                     | 2             | 30                             |  10                              |   600                              |
| DW1500c       | 32                     | 3             | 20                             |  15                              |   900                              |
| DW2000c       | 32                     | 4.             | 15                             |  20                              |  1200                              |
| DW2500c       | 32                     | 5             | 12                             |  25                              |  1500                              |
| DW3000c       | 32                     | 6             | 10                             |  30                              |  1800                              |
| DW5000c       | 32                     | 10            | 6                              |  50                              |  3000                              |
| DW6000c       | 32                     | 12            | 5                              |  60                              |  3600                              |
| DW7500c       | 32                     | 15            | 4.                              |  75                              |  4500                              |
| DW10000c      | 32                     | 20            | 3                              | 100                              |  6000                              |
| DW15000c      | 32                     | 30            | 2                              | 150                              |  9000                              |
| DW30000c      | 32                     | 60            | 1                              | 300                              | 18000                              |

Максимальное количество cDWU на уровне DW30000c, который предоставляет 60 вычислительных узлов и одно распределение на узел вычислений. Например, хранилище данных объемом 600 ТБ на уровне DW30000c обрабатывает приблизительно 10 ТБ на один узел вычислений.

## <a name="concurrency-maximums"></a>Максимальные ограничения параллелизма
Хранилище данных SQL обеспечивает ведущий в отрасли уровень параллелизма на одну базу данных. Чтобы убедиться, что каждый запрос имеет достаточно ресурсов для эффективной работы, система отслеживает использование вычислительных ресурсов путем присвоения слотов выдачи для каждого запроса. Система помещает запросы в очередь, где они ждут, пока не станет доступно достаточное число слотов выдачи. 

Слоты выдачи также определяют приоритеты ЦП. Дополнительные сведения см. в статье [Анализ рабочей нагрузки](analyze-your-workload.md).

### <a name="concurrency-slots"></a>Слоты выдачи
Слоты выдачи — это удобный способ отслеживания ресурсов, доступных для выполнения запросов. Они похожи на билеты, которые вы покупаете, чтобы зарезервировать на концерте места, количество которых ограничено. Аналогичным образом хранилище данных SQL содержит конечное количество вычислительных ресурсов. Запросы резервируют вычислительные ресурсы путем приобретения слотов выдачи. Прежде чем запрос может начать выполнение, он должен иметь возможность зарезервировать достаточное количество слотов выдачи. После завершения запрос освобождает слоты выдачи. 

* Уровень производительности, оптимизированный для эластичности, поддерживает масштабирование до 240 слотов выдачи.
* Уровень производительности, оптимизированный для вычислений, поддерживает масштабирование до 1200 слотов выдачи.

Каждый запрос будет использовать ноль, один или несколько слотов выдачи. Системные и некоторые простые запросы не используют ни одного слота. По умолчанию для запросов, которыми управляют классы ресурсов, требуется один слот выдачи. Для более сложных запросов могут потребоваться дополнительные слоты выдачи  

- Запрос, использующий 10 слотов выдачи, может иметь доступ к в 5 раз большему количеству вычислительных ресурсов, чем запрос, использующий 2 слота выдачи.
- Если для каждого запроса требуется 10 слотов выдачи и имеется 40 слотов, то одновременно могут выполняться только 4 запроса.
 
Только запросы, управляемые ресурсами, используют слоты выдачи. Точное число используемых слотов выдачи определяется [классом ресурсов](resource-classes-for-workload-management.md) запроса.

### <a name="optimized-for-compute"></a>Оптимизация для вычислений
В следующей таблице показано максимальное число одновременных запросов и слотов выдачи для каждого [класса динамических ресурсов](resource-classes-for-workload-management.md).  Это применимо к уровню производительности, оптимизированному для вычислений.

**Классы динамических ресурсов**
| Уровень обслуживания | Максимальное число одновременных запросов | Доступные слоты выдачи | Слоты, используемые smallrc | Слоты, используемые mediumrc | Слоты, используемые largerc | Слоты, используемые xlargerc |
|:-------------:|:--------------------------:|:---------------------------:|:---------------------:|:----------------------:|:---------------------:|:----------------------:|
| DW1000c       | 32                         |   40                        | 1                     |  8                     |  16                   |  32                    |
| DW1500c       | 32                         |   60                        | 1                     |  8                     |  16                   |  32                    |
| DW2000c       | 32                         |   80                        | 1                     | 16                     |  32                   |  64                    |
| DW2500c       | 32                         |  100                        | 1                     | 16                     |  32                   |  64                    |
| DW3000c       | 32                         |  120                        | 1                     | 16                     |  32                   |  64                    |
| DW5000c       | 32                         |  200                        | 1                     | 32                     |  64                   | 128                    |
| DW6000c       | 32                         |  240                        | 1                     | 32                     |  64                   | 128                    |
| DW7500c       | 32                         |  300                        | 1                     | 64                     | 128                   | 128                    |
| DW10000c      | 32                         |  400                        | 1                     | 64                     | 128                   | 256                    |
| DW15000c      | 32                         |  600                        | 1                     | 64                     | 128                   | 256                    |
| DW30000c      | 32                         | 1200                        | 1                     | 64                     | 128                   | 256                    |

**Классы статических ресурсов**

В следующей таблице показано максимальное число одновременных запросов и слотов выдачи для каждого [класса статических ресурсов](resource-classes-for-workload-management.md).  

| Уровень обслуживания | Максимальное число одновременных запросов | Доступные слоты выдачи |staticrc10 | staticrc20 | staticrc30 | staticrc40 | staticrc50 | staticrc60 | staticrc70 | staticrc80 |
|:-------------:|:--------------------------:|:---------------------------:|:---------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|
| DW1000c       | 32                         |   40                        | 1         | 2          | 4.          | 8          | 16         | 32         | 32         |  32        |
| DW1500c       | 32                         |   60                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW2000c       | 32                         |   80                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW2500c       | 32                         |  100                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW3000c       | 32                         |  120                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW5000c       | 32                         |  200                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW6000c       | 32                         |  240                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW7500c       | 32                         |  300                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW10000c      | 32                         |  400                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW15000c      | 32                         |  600                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |
| DW30000c      | 32                         | 1200                        | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |

### <a name="optimized-for-elasticity"></a>Оптимизация для эластичности
В следующей таблице показано максимальное число одновременных запросов и слотов выдачи для каждого [класса динамических ресурсов](resource-classes-for-workload-management.md).  Это применимо к уровню производительности, оптимизированному для эластичности.

**Классы динамических ресурсов**

| Уровень обслуживания | Максимальное число одновременных запросов | Доступные слоты выдачи | smallrc | mediumrc | largerc | xlargerc |
|:-------------:|:--------------------------:|:---------------------------:|:-------:|:--------:|:-------:|:--------:|
| DW100         |  4.                         |   4.                         | 1       |  1       |  2      |   4.      |
| DW200         |  8                         |   8                         | 1       |  2       |  4.      |   8      |
| DW300         | 12                         |  12                         | 1       |  2       |  4.      |   8      |
| DW400         | 16                         |  16                         | 1       |  4.       |  8      |  16      |
| DW500         | 20                         |  20                         | 1       |  4.       |  8      |  16      |
| DW600         | 24                         |  24                         | 1       |  4.       |  8      |  16      |
| DW1000        | 32                         |  40                         | 1       |  8       | 16      |  32      |
| DW1200        | 32                         |  48                         | 1       |  8       | 16      |  32      |
| DW1500        | 32                         |  60                         | 1       |  8       | 16      |  32      |
| DW2000        | 32                         |  80                         | 1       | 16       | 32      |  64      |
| DW3000        | 32                         | 120                         | 1       | 16       | 32      |  64      |
| DW6000        | 32                         | 240                         | 1       | 32       | 64      | 128      |

**Классы статических ресурсов**. В следующей таблице показано максимальное число одновременных запросов и слотов выдачи для каждого [класса статических ресурсов](resource-classes-for-workload-management.md).  Это применимо к уровню производительности, оптимизированному для эластичности.

| Уровень обслуживания | Максимальное число одновременных запросов | Максимальное число слотов выдачи |staticrc10 | staticrc20 | staticrc30 | staticrc40 | staticrc50 | staticrc60 | staticrc70 | staticrc80 |
|:-------------:|:--------------------------:|:-------------------------:|:---------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|:----------:|
| DW100         | 4.                          |   4.                       | 1         | 2          | 4.          | 4.          |  4.         |  4.         |  4.         |   4.        |
| DW200         | 8                          |   8                       | 1         | 2          | 4.          | 8          |  8         |  8         |  8         |   8        |
| DW300         | 12                         |  12                       | 1         | 2          | 4.          | 8          |  8         |  8         |  8         |   8        |
| DW400         | 16                         |  16                       | 1         | 2          | 4.          | 8          | 16         | 16         | 16         |  16        |
| DW500         | 20                         |  20                       | 1         | 2          | 4.          | 8          | 16         | 16         | 16         |  16        |
| DW600         | 24                         |  24                       | 1         | 2          | 4.          | 8          | 16         | 16         | 16         |  16        |
| DW1000        | 32                         |  40                       | 1         | 2          | 4.          | 8          | 16         | 32         | 32         |  32        |
| DW1200        | 32                         |  48                       | 1         | 2          | 4.          | 8          | 16         | 32         | 32         |  32        |
| DW1500        | 32                         |  60                       | 1         | 2          | 4.          | 8          | 16         | 32         | 32         |  32        |
| DW2000        | 32                         |  80                       | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW3000        | 32                         | 120                       | 1         | 2          | 4.          | 8          | 16         | 32         | 64         |  64        |
| DW6000        | 32                         | 240                       | 1         | 2          | 4.          | 8          | 16         | 32         | 64         | 128        |

При достижении одного из этих пороговых значений, новые запросы помещаются в очередь и выполняются в порядке поступления.  После завершения запросов, а также после того, как число запросов и слотов падает ниже ограничения, хранилище данных SQL освобождает запросы в очереди. 

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о том, как использовать классы ресурсов для оптимизации рабочей нагрузки, см. в следующих статьях:
* [Классы ресурсов для управления рабочими нагрузками](resource-classes-for-workload-management.md)
* [Анализ рабочей нагрузки](analyze-your-workload.md)

