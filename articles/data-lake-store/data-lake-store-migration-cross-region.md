---
title: "Перенос Azure Data Lake Store между регионами | Документация Майкрософт"
description: "Сведения о переносе Azure Data Lake Store между регионами."
services: data-lake-store
documentationcenter: 
author: swums
manager: amitkul
editor: swums
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 01/27/2017
ms.author: stewu
ms.openlocfilehash: 650e1ea1a5e768ac72afc49435e4c4ab318a464a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="migrate-data-lake-store-across-regions"></a><span data-ttu-id="63ff6-103">Перенос Data Lake Store между регионами</span><span class="sxs-lookup"><span data-stu-id="63ff6-103">Migrate Data Lake Store across regions</span></span>

<span data-ttu-id="63ff6-104">Когда служба Azure Data Lake Store становится доступной в новых регионах, вам может понадобиться выполнить однократный перенос, чтобы воспользоваться преимуществами нового региона.</span><span class="sxs-lookup"><span data-stu-id="63ff6-104">As Azure Data Lake Store becomes available in new regions, you might choose to do a one-time migration, to take advantage of the new region.</span></span> <span data-ttu-id="63ff6-105">Узнайте, что необходимо учесть при планировании и выполнении переноса.</span><span class="sxs-lookup"><span data-stu-id="63ff6-105">Learn what to consider as you plan and complete the migration.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="63ff6-106">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="63ff6-106">Prerequisites</span></span>

* <span data-ttu-id="63ff6-107">**Подписка Azure**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-107">**An Azure subscription**.</span></span> <span data-ttu-id="63ff6-108">Чтобы получить дополнительные сведения, ознакомьтесь со страницей [Создайте бесплатную учетную запись Azure уже сегодня](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="63ff6-108">For more information, see [Create your free Azure account today](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="63ff6-109">**Учетная запись Data Lake Store в двух разных регионах**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-109">**A Data Lake Store account in two different regions**.</span></span> <span data-ttu-id="63ff6-110">Дополнительные сведения см. в статье [Начало работы с хранилищем озера данных Azure с помощью портала Azure](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="63ff6-110">For more information, see [Get started with Azure Data Lake Store](data-lake-store-get-started-portal.md).</span></span>
* <span data-ttu-id="63ff6-111">**Фабрика данных Azure**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-111">**Azure Data Factory**.</span></span> <span data-ttu-id="63ff6-112">Дополнительную информацию см. в статье [Общие сведения о службе фабрики данных Azure, службе интеграции данных в облаке](../data-factory/data-factory-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="63ff6-112">For more information, see [Introduction to Azure Data Factory](../data-factory/data-factory-introduction.md).</span></span>


## <a name="migration-considerations"></a><span data-ttu-id="63ff6-113">Рекомендации по переносу</span><span class="sxs-lookup"><span data-stu-id="63ff6-113">Migration considerations</span></span>

<span data-ttu-id="63ff6-114">Во-первых, определите стратегию переноса, лучше всего подходящую для вашего приложения, которое записывает, считывает и обрабатывает данные в Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="63ff6-114">First, identify the migration strategy that works best for your application that writes, reads, or processes data in Data Lake Store.</span></span> <span data-ttu-id="63ff6-115">При выборе стратегии учитывайте требования приложения к доступности и время простоя, которое возникнет во время переноса.</span><span class="sxs-lookup"><span data-stu-id="63ff6-115">When you choose a strategy, consider your application’s availability requirements, and the downtime that occurs during a migration.</span></span> <span data-ttu-id="63ff6-116">Например, проще всего использовать модель переноса в облаке "lift-and-shift".</span><span class="sxs-lookup"><span data-stu-id="63ff6-116">For example, your simplest approach might be to use the “lift-and-shift” cloud migration model.</span></span> <span data-ttu-id="63ff6-117">При таком подходе работа приложения в существующем регионе приостанавливается, пока все данные копируются в новый регион.</span><span class="sxs-lookup"><span data-stu-id="63ff6-117">In this approach, you pause the application in your existing region while all your data is copied to the new region.</span></span> <span data-ttu-id="63ff6-118">После завершения копирования приложение возобновляет работу в новом регионе, после чего старая учетная запись Data Lake Store удаляется.</span><span class="sxs-lookup"><span data-stu-id="63ff6-118">When the copy process is finished, you resume your application in the new region, and then delete the old Data Lake Store account.</span></span> <span data-ttu-id="63ff6-119">При переносе обязательно возникает простой.</span><span class="sxs-lookup"><span data-stu-id="63ff6-119">Downtime during the migration is required.</span></span>

<span data-ttu-id="63ff6-120">Чтобы сократить время простоя, можно немедленно начать прием новых данных в новом регионе.</span><span class="sxs-lookup"><span data-stu-id="63ff6-120">To reduce downtime, you might immediately start ingesting new data in the new region.</span></span> <span data-ttu-id="63ff6-121">Получив минимально необходимый набор данных, запустите приложение в новом регионе.</span><span class="sxs-lookup"><span data-stu-id="63ff6-121">When you have the minimum data needed, run your application in the new region.</span></span> <span data-ttu-id="63ff6-122">В фоновом режиме продолжайте копировать данные из старой учетной записи Data Lake Store в новую учетную запись Data Lake Store в новом регионе.</span><span class="sxs-lookup"><span data-stu-id="63ff6-122">In the background, continue to copy older data from the existing Data Lake Store account to the new Data Lake Store account in the new region.</span></span> <span data-ttu-id="63ff6-123">Такой подход позволяет переключиться на новый регион с небольшим временем простоя.</span><span class="sxs-lookup"><span data-stu-id="63ff6-123">By using this approach, you can make the switch to the new region with little downtime.</span></span> <span data-ttu-id="63ff6-124">Скопировав все старые данные, удалите старую учетную запись Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="63ff6-124">When all the older data has been copied, delete the old Data Lake Store account.</span></span>

<span data-ttu-id="63ff6-125">Далее перечислены другие важные факторы, которые следует учесть при планировании миграции.</span><span class="sxs-lookup"><span data-stu-id="63ff6-125">Other important details to consider when planning your migration are:</span></span>

* <span data-ttu-id="63ff6-126">**Объем данных**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-126">**Data volume**.</span></span> <span data-ttu-id="63ff6-127">Объем данных (в гигабайтах, по числу файлов и папок и т. д) влияет на время и ресурсы, необходимые для переноса.</span><span class="sxs-lookup"><span data-stu-id="63ff6-127">The volume of data (in gigabytes, the number of files and folders, and so on) affects the time and resources you need for the migration.</span></span>

* <span data-ttu-id="63ff6-128">**Имя учетной записи Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-128">**Data Lake Store account name**.</span></span> <span data-ttu-id="63ff6-129">Имя новой учетной записи в новом регионе должно быть глобально уникальным.</span><span class="sxs-lookup"><span data-stu-id="63ff6-129">The new account name in the new region must be globally unique.</span></span> <span data-ttu-id="63ff6-130">Предположим, ваша старая учетная запись Data Lake Store в восточной части США 2 называется contosoeastus2.azuredatalakestore.net.</span><span class="sxs-lookup"><span data-stu-id="63ff6-130">For example, the name of your old Data Lake Store account in East US 2 might be contosoeastus2.azuredatalakestore.net.</span></span> <span data-ttu-id="63ff6-131">Тогда новую учетную запись Data Lake Store, расположенную в Северной Европе (ЕС), можно назвать contosonortheu.azuredatalakestore.net.</span><span class="sxs-lookup"><span data-stu-id="63ff6-131">You might name your new Data Lake Store account in North EU contosonortheu.azuredatalakestore.net.</span></span>

* <span data-ttu-id="63ff6-132">**Инструменты**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-132">**Tools**.</span></span> <span data-ttu-id="63ff6-133">Для копирования файлов Data Lake Store рекомендуется использовать [действие копирования фабрики данных Azure](../data-factory/data-factory-azure-datalake-connector.md).</span><span class="sxs-lookup"><span data-stu-id="63ff6-133">We recommend that you use the [Azure Data Factory Copy Activity](../data-factory/data-factory-azure-datalake-connector.md) to copy Data Lake Store files.</span></span> <span data-ttu-id="63ff6-134">Фабрика данных поддерживает надежное и эффективное перемещение данных.</span><span class="sxs-lookup"><span data-stu-id="63ff6-134">Data Factory supports data movement with high performance and reliability.</span></span> <span data-ttu-id="63ff6-135">Учтите, что фабрика данных копирует только иерархию папок и содержимое файлов.</span><span class="sxs-lookup"><span data-stu-id="63ff6-135">Keep in mind that Data Factory copies only the folder hierarchy and content of the files.</span></span> <span data-ttu-id="63ff6-136">К новой учетной записи необходимо будет вручную применить все списки управления доступом (ACL), используемые в старой учетной записи.</span><span class="sxs-lookup"><span data-stu-id="63ff6-136">You need to manually apply any access control lists (ACLs) that you use in the old account to the new account.</span></span> <span data-ttu-id="63ff6-137">Дополнительные сведения, включая целевые показатели производительности для наилучших сценариев, приведены в разделе [Руководство по настройке производительности действия копирования](../data-factory/data-factory-copy-activity-performance.md).</span><span class="sxs-lookup"><span data-stu-id="63ff6-137">For more information, including performance targets for best-case scenarios, see the [Copy Activity performance and tuning guide](../data-factory/data-factory-copy-activity-performance.md).</span></span> <span data-ttu-id="63ff6-138">Если нужно скопировать данные быстрее, могут потребоваться дополнительные облачные единицы перемещения данных.</span><span class="sxs-lookup"><span data-stu-id="63ff6-138">If you want data copied more quickly, you might need to use additional Cloud Data Movement Units.</span></span> <span data-ttu-id="63ff6-139">Некоторые другие инструменты, например ADLCopy, не поддерживают копирование данных между регионами.</span><span class="sxs-lookup"><span data-stu-id="63ff6-139">Some other tools, like AdlCopy, don't support copying data between regions.</span></span>  

* <span data-ttu-id="63ff6-140">**Стоимость пропускной способности**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-140">**Bandwidth charges**.</span></span> <span data-ttu-id="63ff6-141">Потребуется оплачивать [пропускную способность](https://azure.microsoft.com/en-us/pricing/details/bandwidth/), так как данные передаются за пределы региона Azure.</span><span class="sxs-lookup"><span data-stu-id="63ff6-141">[Bandwidth charges](https://azure.microsoft.com/en-us/pricing/details/bandwidth/) apply because data is transferred out of an Azure region.</span></span>

* <span data-ttu-id="63ff6-142">**Списки управления доступом к данным**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-142">**ACLs on your data**.</span></span> <span data-ttu-id="63ff6-143">Защитите данные в новом регионе, используя списки управления доступом для файлов и папок.</span><span class="sxs-lookup"><span data-stu-id="63ff6-143">Secure your data in the new region by applying ACLs to files and folders.</span></span> <span data-ttu-id="63ff6-144">Дополнительные сведения см. в статье [Защита данных, хранимых в хранилище озера данных Azure](data-lake-store-secure-data.md).</span><span class="sxs-lookup"><span data-stu-id="63ff6-144">For more information, see [Securing data stored in Azure Data Lake Store](data-lake-store-secure-data.md).</span></span> <span data-ttu-id="63ff6-145">Мы рекомендуем использовать перенос для обновления и настройки списков управления доступом.</span><span class="sxs-lookup"><span data-stu-id="63ff6-145">We recommend that you use the migration to update and adjust your ACLs.</span></span> <span data-ttu-id="63ff6-146">Возможно, вам потребуется использовать параметры, аналогичные текущим.</span><span class="sxs-lookup"><span data-stu-id="63ff6-146">You might want to use settings similar to your current settings.</span></span> <span data-ttu-id="63ff6-147">Можно просмотреть списки управления доступом, которые применяются к любому файлу, с помощью портала Azure, [командлетов PowerShell](/powershell/module/azurerm.datalakestore/get-azurermdatalakestoreitempermission) или пакетов SDK.</span><span class="sxs-lookup"><span data-stu-id="63ff6-147">You can view the ACLs that are applied to any file by using the Azure portal, [PowerShell cmdlets](/powershell/module/azurerm.datalakestore/get-azurermdatalakestoreitempermission), or SDKs.</span></span>  

* <span data-ttu-id="63ff6-148">**Расположение служб аналитики**.</span><span class="sxs-lookup"><span data-stu-id="63ff6-148">**Location of analytics services**.</span></span> <span data-ttu-id="63ff6-149">Для оптимальной производительности ваши службы аналитики, такие как Data Lake Analytics или HDInsight, должны находиться в том же регионе, что и данные.</span><span class="sxs-lookup"><span data-stu-id="63ff6-149">For best performance, your analytics services, like Azure Data Lake Analytics or Azure HDInsight, should be in the same region as your data.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="63ff6-150">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="63ff6-150">Next steps</span></span>
* [<span data-ttu-id="63ff6-151">Обзор хранилища озера данных Azure</span><span class="sxs-lookup"><span data-stu-id="63ff6-151">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
