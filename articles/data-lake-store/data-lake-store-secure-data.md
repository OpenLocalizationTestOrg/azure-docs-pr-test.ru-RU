---
title: "aaaSecuring данные, хранящиеся в хранилище Озера данных Azure | Документы Microsoft"
description: "Узнайте, как списки управления toosecure данные в хранилище Озера данных Azure, с помощью групп и доступа"
services: data-lake-store
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: ca35e65f-3986-4f1b-bf93-9af6066bb716
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/10/2017
ms.author: nitinme
ms.openlocfilehash: 2b4ed7e322e1843ca47d6968ec8801ac19ea6399
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="securing-data-stored-in-azure-data-lake-store"></a>Защита данных, хранимых в хранилище озера данных Azure
Для защиты данных, хранимых в хранилище озера данных Azure, необходимо выполнить три шага.

1. Начните с создания групп безопасности в Azure Active Directory (AAD). Эти группы безопасности используются tooimplement управление доступом на основе ролей (RBAC) на портале Azure. Дополнительные сведения см. в статье [Использование назначений ролей для управления доступом к ресурсам в подписке Azure](../active-directory/role-based-access-control-configure.md).
2. Назначьте учетной записи хранилища Озера данных Azure toohello группы в безопасности AAD hello. Это свойство задает учетную запись хранилища Озера данных toohello доступ из hello портал и управления операции из портала hello или API-интерфейсы.
3. Назначения групп безопасности AAD hello, как списки управления доступом (ACL) в файловой системе hello хранилища Озера данных.
4. Кроме того можно также задать диапазон IP-адресов для клиентов, которые могут обращаться к данным hello в хранилище Озера данных.

В этой статье описано, как toouse hello hello Azure портала tooperform выше задачи. Подробные сведения о как хранилище Озера данных реализует безопасности на уровне учетной записи и данных hello разделе [безопасности в хранилище Озера данных Azure](data-lake-store-security-overview.md). Подробные сведения о реализации списков ACL в Azure Data Lake Store см. в статье [Контроль доступа в Azure Data Lake Store](data-lake-store-access-control.md).

## <a name="prerequisites"></a>Предварительные требования
Прежде чем начать работу с учебником, необходимо иметь следующие hello.

* **Подписка Azure**. Ознакомьтесь с [бесплатной пробной версией Azure](https://azure.microsoft.com/pricing/free-trial/).
* **Учетная запись Azure Data Lake Store.** Инструкции о том, как один, см. в разделе toocreate [Приступая к работе с хранилища Озера данных Azure](data-lake-store-get-started-portal.md)

## <a name="create-security-groups-in-azure-active-directory"></a>Создание групп безопасности в Azure Active Directory
Инструкции о том, как групп безопасности AAD toocreate и как группу toohello tooadd пользователей, в разделе [управления группами безопасности в Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).

> [!NOTE] 
> В Azure AD, используя hello портал Azure можно добавить пользователей и группы tooa других групп. Однако в заказ tooadd tooa участника группы служб, используйте [модуль PowerShell Azure AD](../active-directory/active-directory-accessmanagement-groups-settings-v2-cmdlets.md).
> 
> ```powershell
> # Get hello desired group and service principal and identify hello correct object IDs
> Get-AzureADGroup -SearchString "<group name>"
> Get-AzureADServicePrincipal -SearchString "<SPI name>"
> 
> # Add hello service principal toohello group
> Add-AzureADGroupMember -ObjectId <Group object ID> -RefObjectId <SPI object ID>
> ```
 
## <a name="assign-users-or-security-groups-tooazure-data-lake-store-accounts"></a>Назначение пользователей или групп безопасности учетным записям хранилища Озера данных tooAzure
Когда вам назначается пользователям или учетным записям хранилища Озера данных tooAzure группы безопасности, можно управлять операции управления доступом toohello hello учетной записи, с помощью hello портал Azure и API-интерфейсы диспетчера ресурсов Azure. 

1. Откройте учетную запись хранения озера данных Azure. Hello левой панели щелкните **Обзор**, нажмите кнопку **хранилища Озера данных**и выберите из колонки хранилища Озера данных hello, toowhich имя учетной записи hello, требуется tooassign пользователю или группе безопасности.

2. В колонке параметров Data Lake Store щелкните **Управление доступом (IAM)**. Hello колонке с помощью списков по умолчанию **Администраторы подписки** группы в качестве владельца.
   
    ![Назначение учетной записи хранилища Озера данных tooAzure группы](./media/data-lake-store-secure-data/adl.select.user.icon.png "назначить учетную запись хранилища Озера данных tooAzure группы безопасности")

    Существует два способа tooadd группы и назначить соответствующие ролей.
   
    * Добавить учетную запись пользователя или группу toohello и затем назначить роль, или
    * Добавить роль, а затем назначьте toorole пользователи и группы.
     
    В этом разделе мы рассмотрим первый подход hello, добавление группы и затем назначение ролей. Можно выполнить аналогичные шаги toofirst выберите роль, а затем назначить роль toothat группы.
4. В hello **пользователей** колонка, щелкните **добавить** tooopen hello **добавить доступ** колонку. В hello **добавить доступ** колонке нажмите кнопку **выберите роль**, а затем выберите роль для группы пользователей hello.
   
    ![Добавление роли для пользователя hello](./media/data-lake-store-secure-data/adl.add.user.1.png "добавить роль для пользователя hello")
   
    Hello **владельца** и **участника** роль предоставляет доступ tooa множество функций администрирования на hello учетной записи Озера данных. Для пользователей, которые будут взаимодействовать с данными в hello Озера данных, их можно добавить toohello ** чтения ** роли. область Hello этих ролей — ограниченный toohello управления операций связанные toohello хранилища Озера данных Azure.
   
    Для данных операций отдельные разрешения определить действия пользователей hello. Таким образом пользователя, имеющего роль модуля чтения можно только просмотр административных параметров, связанных с учетной записью hello, но может потенциально чтения и записи данных на основании назначенных toothem разрешения файловой системы. Разрешения файловой системы для хранилища Озера данных описаны в [назначить группу безопасности в качестве toohello списки управления доступом файловой системы для хранилища Озера данных Azure](#filepermissions).
5. В hello **добавить доступ** колонке нажмите кнопку **Добавление пользователей** tooopen hello **Добавление пользователей** колонку. В этой колонке найдите созданную ранее в Azure Active Directory группу безопасности hello. Если имеется много toosearch групп из используйте hello текстовое поле в верхнем toofilter hello на имя группы hello. Нажмите кнопку **Выбрать**.
   
    ![Добавление группы безопасности](./media/data-lake-store-secure-data/adl.add.user.2.png "Добавление группы безопасности")
   
    Если вы хотите tooadd группы или пользователя, который отсутствует в списке, вы можете пригласить их с помощью hello **пригласить** значок и указав hello адрес электронной почты для группы пользователей hello.
6. Нажмите кнопку **ОК**. Вы увидите hello группы безопасности, добавлено, как показано ниже.
   
    ![Добавленная группа безопасности](./media/data-lake-store-secure-data/adl.add.user.3.png "Добавленная группа безопасности")

7. Группы безопасности и пользователей теперь имеет учетную запись доступа к toohello хранилища Озера данных Azure. Если требуется, чтобы пользователи toospecific tooprovide доступ, их можно добавить группу безопасности toohello. Аналогично Если требуется toorevoke доступ для пользователя, можно удалить их из группы безопасности hello. Можно также назначить несколько групп безопасности tooan учетной записи. 

## <a name="filepermissions"></a>Назначение пользователей или группы безопасности как toohello списки управления доступом файловой системы для хранилища Озера данных Azure
Назначая группы безопасности пользователей и файловой системе toohello Озера данных Azure, установить управление доступом к hello данные, хранящиеся в хранилище Озера данных Azure.

1. В колонке учетной записи «Хранилище озера данных» щелкните **Обозреватель данных**.
   
    ![Создание каталогов в учетной записи Data Lake Store](./media/data-lake-store-secure-data/adl.start.data.explorer.png "Создание каталогов в учетной записи Data Lake")
2. В hello **обозреватель данных** колонке выберите hello файл или папку, для которого требуется tooconfigure hello ACL и нажмите кнопку **доступа**. файл tooa tooassign ACL, необходимо нажать кнопку **доступа** из hello **Просмотр файлов** колонку.
   
    ![Настройка списков управления доступом в файловой системе Data Lake](./media/data-lake-store-secure-data/adl.acl.1.png "Настройка списков управления доступом в файловой системе Data Lake")
3. Hello **доступа** колонке перечислены стандартным доступом hello и настраиваемого доступа уже назначены toohello корневой. Нажмите кнопку hello **добавить** значок tooadd другой списки управления доступом.
   
    ![Перечисление стандартных и пользовательских сценариев доступа](./media/data-lake-store-secure-data/adl.acl.2.png "Перечисление стандартных и пользовательских сценариев доступа")
   
   * **Стандартный доступ** hello стиле UNIX доступа, где указываются чтение, запись, выполнение (rwx) toothree различных пользовательских классов: владелец, группы и другие.
   * **Настраиваемый доступ** соответствует toohello POSIX списки управления доступом, позволяющая tooset разрешения для конкретных пользователей или групп и не только hello у владельца файла или группы. 
     
     Дополнительные сведения см. в разделе [ACL HDFS](https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html#ACLs_Access_Control_Lists). Дополнительные сведения о реализации списков управления доступом в контексте Data Lake Store см. в статье [Контроль доступа в Azure Data Lake Store](data-lake-store-access-control.md).
4. Нажмите кнопку hello **добавить** hello значок tooopen **добавить доступ к пользовательским** колонку. В этой колонке нажмите кнопку **Выбор пользователя или группы**, а затем в **Выбор пользователя или группы** колонке искать hello группы безопасности, созданной ранее на Azure Active Directory. Если имеется много toosearch групп из используйте hello текстовое поле в верхнем toofilter hello на имя группы hello. Щелкните группу hello tooadd и нажмите кнопку **выберите**.
   
    ![Добавление группы](./media/data-lake-store-secure-data/adl.acl.3.png "Добавление группы")
5. Нажмите кнопку **выберите разрешения**, выберите разрешения hello и следует tooassign hello разрешения по умолчанию ACL ли получить доступ к ACL или оба. Нажмите кнопку **ОК**.
   
    ![Назначьте разрешения toogroup](./media/data-lake-store-secure-data/adl.acl.4.png "назначить разрешения toogroup")
   
    Дополнительные сведения о разрешениях в Data Lake Store и списках ACL (по умолчанию и для доступа) см. в статье [Контроль доступа в Data Lake Store](data-lake-store-access-control.md).
6. В hello **добавить доступ к пользовательским** колонка, щелкните **ОК**. Hello добавленным группы с разрешениями hello связанные будут перечислены в hello **доступа** колонку.
   
    ![Назначьте разрешения toogroup](./media/data-lake-store-secure-data/adl.acl.5.png "назначить разрешения toogroup")
   
   > [!IMPORTANT]
   > В текущем выпуске hello, можно установить только 9 записей в разделе **доступ к пользовательским**. Если вы хотите tooadd больше 9 пользователи, необходимо создать группы безопасности, добавьте пользователей toosecurity группы, добавьте предоставления доступа к группам безопасности toothose hello хранилища Озера данных.
   > 
   > 
7. При необходимости можно также изменить разрешения доступа hello после добавления группы hello. Установите или снимите флажок hello флажок для каждого разрешения, введите (чтение, запись и выполнение), в зависимости от того, tooremove или назначьте этой группе безопасности разрешения toohello. Нажмите кнопку **Сохранить** toosave изменения hello, или **отменить** tooundo hello изменения.

## <a name="set-ip-address-range-for-data-access"></a>Назначение диапазона IP-адресов для доступа к данным
Хранилище Озера данных Azure позволяет toofurther блокировки хранилища данных tooyour доступа на уровне сети. Вы можете включить брандмауэр, указать IP-адрес или определить диапазон IP-адресов для доверенных клиентов. После включения только клиенты, имеющие hello в заданный диапазон IP-адресов можно подключить хранилище toohello.

![Параметры брандмауэра и доступ по IP-адресу](./media/data-lake-store-secure-data/firewall-ip-access.png "Параметры брандмауэра и доступ по IP-адресу")

## <a name="remove-security-groups-for-an-azure-data-lake-store-account"></a>Удаление групп безопасности из учетной записи хранения озера данных Azure
При удалении группы безопасности из учетных записей хранилища Озера данных Azure, изменяются только операции управления доступом toohello hello учетной записи, с помощью hello портала Azure и API-интерфейсы диспетчера ресурсов Azure.

1. В колонке учетной записи "Хранилище озера данных" щелкните **Настройки**. Из hello **параметры** колонка, щелкните **пользователей**.
   
    ![Назначение учетной записи Озера данных tooAzure группы](./media/data-lake-store-secure-data/adl.select.user.icon.png "назначить учетной записи Озера данных tooAzure группы")
2. В hello **пользователей** колонки щелкните группу безопасности hello, требуется tooremove.
   
    ![Tooremove группы безопасности](./media/data-lake-store-secure-data/adl.add.user.3.png "tooremove группы безопасности")
3. В колонке hello hello группы безопасности, нажмите кнопку **удалить**.
   
    ![Удаленная группа безопасности](./media/data-lake-store-secure-data/adl.remove.group.png "Удаленная группа безопасности")

## <a name="remove-security-group-acls-from-azure-data-lake-store-file-system"></a>Удаление ACL группы безопасности из файловой системы хранилища озера данных Azure
При удалении группы безопасности списки управления доступом из хранилища Озера данных Azure файловой системы, изменении доступ к данным toohello hello хранилища Озера данных.

1. В колонке учетной записи «Хранилище озера данных» щелкните **Обозреватель данных**.
   
    ![Создание каталогов в учетной записи Data Lake](./media/data-lake-store-secure-data/adl.start.data.explorer.png "Создание каталогов в учетной записи Data")
2. В hello **обозреватель данных** колонке выберите hello файл или папку, для которого требуется tooremove hello ACL и щелкните в колонке вашей учетной записи hello **доступа** значок. tooremove списка управления Доступом для файла, необходимо нажать кнопку **доступа** из hello **Просмотр файлов** колонку.
   
    ![Настройка списков управления доступом в файловой системе Data Lake](./media/data-lake-store-secure-data/adl.acl.1.png "Настройка списков управления доступом в файловой системе Data Lake")
3. В hello **доступа** колонку из hello **доступ к пользовательским** щелкните группу безопасности hello требуется tooremove. В hello **доступ к пользовательским** колонка, щелкните **удалить** и нажмите кнопку **ОК**.
   
    ![Назначьте разрешения toogroup](./media/data-lake-store-secure-data/adl.remove.acl.png "назначить разрешения toogroup")

## <a name="see-also"></a>См. также
* [Обзор хранилища озера данных Azure](data-lake-store-overview.md)
* [Копирование данных из хранилища Озера tooData больших двоичных объектов хранилища Azure](data-lake-store-copy-data-azure-storage-blob.md)
* [Использование аналитики озера данных Azure с хранилищем озера данных](../data-lake-analytics/data-lake-analytics-get-started-portal.md)
* [Использование Azure HDInsight с хранилищем озера данных](data-lake-store-hdinsight-hadoop-use-portal.md)
* [Начало работы с хранилищем озера данных с помощью PowerShell](data-lake-store-get-started-powershell.md)
* [Начало работы с хранилищем озера данных с помощью пакета SDK .NET](data-lake-store-get-started-net-sdk.md)
* [Журналы диагностики доступа для Data Lake Store](data-lake-store-diagnostic-logs.md)

