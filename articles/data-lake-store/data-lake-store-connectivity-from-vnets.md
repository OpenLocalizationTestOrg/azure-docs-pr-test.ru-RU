---
title: "aaaConnect tooAzure хранилища Озера данных из виртуальных сетей | Документы Microsoft"
description: "Подключение хранилища Озера данных tooAzure из виртуальных сетей Azure"
services: data-lake-store,data-catalog
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: 683fcfdc-cf93-46c3-b2d2-5cb79f5e9ea5
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/10/2017
ms.author: nitinme
ms.openlocfilehash: c695dcf49fe4e1a87a90729cf085a938f3b51fe3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="access-azure-data-lake-store-from-vms-within-an-azure-vnet"></a><span data-ttu-id="48f93-103">Доступ к Azure Data Lake Store из виртуальных машин в виртуальной сети Azure</span><span class="sxs-lookup"><span data-stu-id="48f93-103">Access Azure Data Lake Store from VMs within an Azure VNET</span></span>
<span data-ttu-id="48f93-104">Azure Data Lake Store — это служба PaaS, которая использует общедоступные IP-адреса в Интернете.</span><span class="sxs-lookup"><span data-stu-id="48f93-104">Azure Data Lake Store is a PaaS service that runs on public Internet IP addresses.</span></span> <span data-ttu-id="48f93-105">Любой сервер, обычно подключения toohello открытый Интернет может подключиться tooAzure конечные точки хранилища Озера данных также.</span><span class="sxs-lookup"><span data-stu-id="48f93-105">Any server that can connect toohello public Internet can typically connect tooAzure Data Lake Store endpoints as well.</span></span> <span data-ttu-id="48f93-106">По умолчанию все виртуальные машины, которые находятся в виртуальных сетях Azure можно получить доступ к Интернету hello и таким образом можно получить доступ к хранилищу Озера данных Azure.</span><span class="sxs-lookup"><span data-stu-id="48f93-106">By default, all VMs that are in Azure VNETs can access hello Internet and hence can access Azure Data Lake Store.</span></span> <span data-ttu-id="48f93-107">Однако это возможно tooconfigure ВМ в toonot виртуальной сети имеют toohello доступа к Интернету.</span><span class="sxs-lookup"><span data-stu-id="48f93-107">However, it is possible tooconfigure VMs in a VNET toonot have access toohello Internet.</span></span> <span data-ttu-id="48f93-108">Для таких виртуальных машин хранилища Озера данных tooAzure доступ ограничен также.</span><span class="sxs-lookup"><span data-stu-id="48f93-108">For such VMs, access tooAzure Data Lake Store is restricted as well.</span></span> <span data-ttu-id="48f93-109">Блокирует общий доступ в Интернет для виртуальных машин в виртуальных сетях Azure можно сделать с помощью любого подходе hello.</span><span class="sxs-lookup"><span data-stu-id="48f93-109">Blocking public Internet access for VMs in Azure VNETs can be done using any of hello following approach.</span></span>

* <span data-ttu-id="48f93-110">Настройка групп безопасности сети (NSG).</span><span class="sxs-lookup"><span data-stu-id="48f93-110">By configuring Network Security Groups (NSG)</span></span>
* <span data-ttu-id="48f93-111">Настройка определяемых пользователем маршрутов (UDR).</span><span class="sxs-lookup"><span data-stu-id="48f93-111">By configuring User Defined Routes (UDR)</span></span>
* <span data-ttu-id="48f93-112">Путем обмена маршруты через BGP (стандартный динамической маршрутизации протокол) при использовании этого блока ExpressRoute доступ к Интернету toohello</span><span class="sxs-lookup"><span data-stu-id="48f93-112">By exchanging routes via BGP (industry standard dynamic routing protocol) when ExpressRoute is used that block access toohello Internet</span></span>

<span data-ttu-id="48f93-113">В этой статье вы узнаете, как tooenable доступ к хранилищу Озера данных Azure toohello из виртуальных машин Azure, которой были ограниченными tooaccess ресурсов с помощью одного из трех методов hello, перечисленные выше.</span><span class="sxs-lookup"><span data-stu-id="48f93-113">In this article, you will learn how tooenable access toohello Azure Data Lake Store from Azure VMs which have been restricted tooaccess resources using one of hello three methods listed above.</span></span>

## <a name="enabling-connectivity-tooazure-data-lake-store-from-vms-with-restricted-connectivity"></a><span data-ttu-id="48f93-114">Включение tooAzure подключения к хранилищу Озера данных из виртуальных машин с ограниченным подключением</span><span class="sxs-lookup"><span data-stu-id="48f93-114">Enabling connectivity tooAzure Data Lake Store from VMs with restricted connectivity</span></span>
<span data-ttu-id="48f93-115">tooaccess Azure Озера данных хранения из таких виртуальных машин, их необходимо настроить IP-адрес tooaccess hello, где находится hello хранилища Озера данных Azure.</span><span class="sxs-lookup"><span data-stu-id="48f93-115">tooaccess Azure Data Lake Store from such VMs, you must configure them tooaccess hello IP address where hello Azure Data Lake Store account is available.</span></span> <span data-ttu-id="48f93-116">Можно определить hello IP-адресов для хранилища Озера данных учетных записей, разрешение имен DNS hello учетных записей (`<account>.azuredatalakestore.net`).</span><span class="sxs-lookup"><span data-stu-id="48f93-116">You can identify hello IP addresses for your Data Lake Store accounts by resolving hello DNS names of your accounts (`<account>.azuredatalakestore.net`).</span></span> <span data-ttu-id="48f93-117">Для этого можно использовать такие средства, как **nslookup**.</span><span class="sxs-lookup"><span data-stu-id="48f93-117">For this you can use tools such as **nslookup**.</span></span> <span data-ttu-id="48f93-118">Откройте командную строку на компьютере и запустите следующую команду hello.</span><span class="sxs-lookup"><span data-stu-id="48f93-118">Open a command prompt on your computer and run hello following command.</span></span>

    nslookup mydatastore.azuredatalakestore.net

<span data-ttu-id="48f93-119">выходные данные Hello напоминает следующее hello.</span><span class="sxs-lookup"><span data-stu-id="48f93-119">hello output resembles hello following.</span></span> <span data-ttu-id="48f93-120">Здравствуйте, значения данных **адрес** свойство — hello IP-адрес, связанный с вашей учетной записи хранилища Озера данных.</span><span class="sxs-lookup"><span data-stu-id="48f93-120">hello value against **Address** property is hello IP address associated with your Data Lake Store account.</span></span>

    Non-authoritative answer:
    Name:    1434ceb1-3a4b-4bc0-9c69-a0823fd69bba-mydatastore.projectcabostore.net
    Address:  104.44.88.112
    Aliases:  mydatastore.azuredatalakestore.net


### <a name="enabling-connectivity-from-vms-restricted-by-using-nsg"></a><span data-ttu-id="48f93-121">Настройка подключения из виртуальных машин, ограниченных с помощью NSG</span><span class="sxs-lookup"><span data-stu-id="48f93-121">Enabling connectivity from VMs restricted by using NSG</span></span>
<span data-ttu-id="48f93-122">При использовании правила NSG tooblock доступ к toohello Интернет, то можно создать другую NSG, которая разрешает доступ toohello адрес хранилища Озера данных.</span><span class="sxs-lookup"><span data-stu-id="48f93-122">When a NSG rule is used tooblock access toohello Internet, then you can create another NSG that allows access toohello Data Lake Store IP Address.</span></span> <span data-ttu-id="48f93-123">Дополнительные сведения о правилах NSG см. в статье [Группа безопасности сети](../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="48f93-123">More information on NSG rules is available at [What is a Network Security Group?](../virtual-network/virtual-networks-nsg.md).</span></span> <span data-ttu-id="48f93-124">Инструкции по статье Nsg toocreate [как с помощью Nsg toomanage hello портал Azure](../virtual-network/virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="48f93-124">For instructions on how toocreate NSGs see [How toomanage NSGs using hello Azure portal](../virtual-network/virtual-networks-create-nsg-arm-pportal.md).</span></span>

### <a name="enabling-connectivity-from-vms-restricted-by-using-udr-or-expressroute"></a><span data-ttu-id="48f93-125">Настройка подключения из виртуальных машин, ограниченных с помощью UDR или ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="48f93-125">Enabling connectivity from VMs restricted by using UDR or ExpressRoute</span></span>
<span data-ttu-id="48f93-126">Когда маршруты UDRs или обмен BGP маршруты, toohello доступа используется tooblock Интернет, специальные маршрут должен toobe настроен так, что виртуальные машины в таких подсетей можно получить доступ к конечные точки хранилища Озера данных.</span><span class="sxs-lookup"><span data-stu-id="48f93-126">When routes, either UDRs or BGP-exchanged routes, are used tooblock access toohello Internet, a special route needs toobe configured so that VMs in such subnets can access Data Lake Store endpoints.</span></span> <span data-ttu-id="48f93-127">Дополнительные сведения см. в статье [Что такое определяемые пользователем маршруты и IP-пересылка?](../virtual-network/virtual-networks-udr-overview.md)</span><span class="sxs-lookup"><span data-stu-id="48f93-127">For more information, see [What are User Defined Routes?](../virtual-network/virtual-networks-udr-overview.md).</span></span> <span data-ttu-id="48f93-128">Инструкции по созданию определяемых пользователем маршрутов см. в статье [Создание определяемых пользователем маршрутов (UDR) в Resource Manager с помощью PowerShell](../virtual-network/virtual-network-create-udr-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="48f93-128">For instructions on creating UDRs, see [Create UDRs in Resource Manager](../virtual-network/virtual-network-create-udr-arm-ps.md).</span></span>

### <a name="enabling-connectivity-from-vms-restricted-by-using-expressroute"></a><span data-ttu-id="48f93-129">Настройка подключения из виртуальных машин, ограниченных с помощью ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="48f93-129">Enabling connectivity from VMs restricted by using ExpressRoute</span></span>
<span data-ttu-id="48f93-130">При настройке канала ExpressRoute hello локальных серверов можно обращаться из хранилища Озера данных открытого пиринга.</span><span class="sxs-lookup"><span data-stu-id="48f93-130">When an ExpressRoute circuit is configured, hello on-premises servers can access Data Lake Store through public peering.</span></span> <span data-ttu-id="48f93-131">Дополнительные сведения о настройке ExpressRoute для общедоступного пиринга см. в статье [Вопросы и ответы по ExpressRoute](../expressroute/expressroute-faqs.md).</span><span class="sxs-lookup"><span data-stu-id="48f93-131">More details on configuring ExpressRoute for public peering is available at [ExpressRoute FAQs](../expressroute/expressroute-faqs.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="48f93-132">Дополнительные материалы</span><span class="sxs-lookup"><span data-stu-id="48f93-132">See also</span></span>
* [<span data-ttu-id="48f93-133">Обзор хранилища озера данных Azure</span><span class="sxs-lookup"><span data-stu-id="48f93-133">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
* [<span data-ttu-id="48f93-134">Обеспечение безопасности в Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="48f93-134">Securing data stored in Azure Data Lake Store</span></span>](data-lake-store-security-overview.md)

