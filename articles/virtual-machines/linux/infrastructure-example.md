---
title: "Пошаговое руководство инфраструктуры Azure aaaExample | Документы Microsoft"
description: "Дополнительные сведения о hello ключа проектирования и реализации руководства по развертыванию примере инфраструктуру в Azure."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 281fc2c0-b533-45fa-81a3-728c0049c73d
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: b6b307c0112203aa83e1fada81966fc265397a40
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="example-azure-infrastructure-walkthrough-for-linux-vms"></a>Пошаговое руководство по примеру инфраструктуры Azure для виртуальных машин Linux

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

В этой статье рассматривается создание примера инфраструктуры приложений. Мы подробно описывается проектирование инфраструктуры для простой интерактивной магазина, который объединяет в себе все hello рекомендации и решения для соглашения об именовании, группы доступности, виртуальные сети и подсистемы балансировки нагрузки и фактического развертывания виртуальных машин (ВМ).

## <a name="example-workload"></a>Пример рабочей нагрузки
Adventure Works Cycles хочет toobuild интерактивном магазине приложения в Azure, которая состоит из:

* Два сервера nginx hello клиентского интерфейса в веб-уровень
* двух серверов nginx, обрабатывающих данные и заказы на уровне приложения;
* двух серверов MongoDB, входящих в сегментированный кластер, для хранения данных продуктов и заказов на уровне базы данных;
* двух контроллеров домена Active Directory для учетных записей клиентов и поставщиков на уровне аутентификации.
* Все серверы hello находятся в двух подсетях:
  * подсеть переднего плана для hello веб-серверов 
  * подсеть серверной части для серверов приложений hello, MongoDB кластера и контроллеров домена

![Схема разных уровней для инфраструктуры приложений](./media/infrastructure-example/example-tiers.png)

Безопасный входящего веб-трафика должны являться балансировки нагрузки между веб-серверами hello клиентов Обзор интерактивном магазине hello. Порядок обработки трафика в форме hello HTTP запрашивает hello для веб-серверов должны быть балансировки нагрузки между серверами приложения hello. Кроме того инфраструктура hello должны быть спроектированы для обеспечения высокой доступности.

Полученный разработки Hello должно использовать:

* подписку и учетную запись Azure;
* одну группу ресурсов.
* Управляемые диски Azure
* виртуальную сеть с двумя подсетями;
* Группы доступности для hello виртуальных машин с аналогичной роли
* Виртуальные машины

Все hello выше выполните следующие соглашения об именовании.

* В Adventure Works Cycles используется префикс **[рабочая нагрузка ИТ-среды]-[расположение]-[ресурс Azure]** .
  * В этом примере «**azos**» (хранилище Azure связи) hello имени рабочей нагрузки ИТ и «**использовать**» (Восток США 2) — расположение hello
* Для виртуальных сетей используется формат AZOS-USE-VN**[номер]**.
* Для групп доступности используется формат azos-use-as-**[роль]**.
* Для имен виртуальных машин используется формат use azos-use-vm-**[имя_виртуальной_машины]**.

## <a name="azure-subscriptions-and-accounts"></a>Подписки и учетные записи Azure
Adventure Works Cycles с помощью подписки Enterprise, с именем Adventure Works корпоративную подписку, tooprovide выставления счетов для этой рабочей нагрузки ИТ.

## <a name="storage"></a>Хранилище
В компании Adventure Works Cycles решили использовать Управляемые диски Azure. При создании виртуальных машин используются хранилища обоих уровней:

* **Стандартное хранилище** hello веб-серверы, серверы приложений и контроллеров домена и диски с данными.
* **Хранилище Premium** hello MongoDB сегментированных кластера серверов и диски с данными.

## <a name="virtual-network-and-subnets"></a>Виртуальные сети и подсети
Поскольку hello виртуальной сети не требуется текущее подключение toohello Adventure рабочих циклов локальной сети, они решили в виртуальной сети только для облака.

Следующие параметры с помощью портала Azure hello hello они созданы только для облака виртуальной сети:

* Имя: AZOS-USE-VN01
* Расположение: восточная часть США 2.
* Адресное пространство виртуальной сети: 10.0.0.0/8.
* Первая подсеть:
  * Имя: FrontEnd.
  * Адресное пространство: 10.0.1.0/24.
* Вторая подсеть:
  * Имя: BackEnd.
  * Адресное пространство: 10.0.2.0/24.

## <a name="availability-sets"></a>Группы доступности
Высокая доступность toomaintain всех четырех уровней их интерактивном магазине компании Adventure Works Cycles решение на четыре группы доступности:

* **Используйте azos как web** hello веб-серверов
* **Использование azos как приложений** для серверов приложений hello
* **Используйте azos как db** hello серверов в кластере сегментированных MongoDB hello
* **Используйте azos как dc** контроллеров домена hello

## <a name="virtual-machines"></a>Виртуальные машины
Компания Adventure Works Cycles, выбранного на hello следующие имена для их виртуальные машины Azure:

* **azos использования vm web01** для hello первого веб-сервера
* **azos использования vm web02** для hello второго веб-сервера
* **azos использования vm app01** для hello первого сервера приложений
* **azos использования vm app02** для hello второй сервер приложений
* **azos использования vm db01** для первого сервера MongoDB hello в кластере hello
* **azos использования vm db02** для второго сервера MongoDB hello в кластере hello
* **azos использование vm-dc01** для hello первого контроллера домена
* **azos использование vm-dc02** для hello второго контроллера домена

Здесь представлена конфигурация полученный hello.

![Окончательная инфраструктура приложений, развернутая в Azure](./media/infrastructure-example/example-config.png)

Эта конфигурация включает:

* облачную виртуальную сеть с двумя подсетями (FrontEnd и BackEnd);
* Управляемые диски Azure с дисками уровней "Стандартный" и "Премиум";
* Четыре доступности набора: один для каждого уровня хранилища онлайн hello
* виртуальные машины Hello для hello четырех уровней
* Внешнего комплекта балансировки нагрузки для трафика HTTPS на основе веб-от hello Internet toohello веб-серверов
* Набор для незашифрованные веб-трафика от серверов серверы toohello hello веб-приложений с балансировкой внутренней нагрузки
* одну группу ресурсов.
