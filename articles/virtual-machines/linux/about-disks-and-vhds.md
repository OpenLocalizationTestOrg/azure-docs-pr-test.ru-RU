---
title: "Сведения о дисках и виртуальных жестких дисках для виртуальных машин Microsoft Azure под управлением Linux | Документация Майкрософт"
description: "Информация об основах использования дисков и виртуальных жестких дисков для виртуальных машин Linux в Azure."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 7be8dd52-98f7-4187-9b78-55197915bc9b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/15/2017
ms.author: robinsh
ms.openlocfilehash: be5f09af275142590ec6ade02562e914d5726e08
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="about-disks-and-vhds-for-azure-linux-vms"></a><span data-ttu-id="e070b-103">Сведения о дисках и виртуальных жестких дисках для виртуальных машин Azure под управлением Linux</span><span class="sxs-lookup"><span data-stu-id="e070b-103">About disks and VHDs for Azure Linux VMs</span></span>
<span data-ttu-id="e070b-104">Как и любой другой компьютер, виртуальные машины в Azure используют диски как место хранения операционной системы, приложений и данных.</span><span class="sxs-lookup"><span data-stu-id="e070b-104">Just like any other computer, virtual machines in Azure use disks as a place to store an operating system, applications, and data.</span></span> <span data-ttu-id="e070b-105">Все виртуальные машины Azure имеют по крайней мере два диска — диск операционной системы Linux и временный диск.</span><span class="sxs-lookup"><span data-stu-id="e070b-105">All Azure virtual machines have at least two disks – a Linux operating system disk and a temporary disk.</span></span> <span data-ttu-id="e070b-106">Диск операционной системы создается из образа, а диск операционной системы и образ в действительности являются виртуальными жесткими дисками (VHD), расположенными в учетной записи хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="e070b-106">The operating system disk is created from an image, and both the operating system disk and the image are actually virtual hard disks (VHDs) stored in an Azure storage account.</span></span> <span data-ttu-id="e070b-107">Кроме того, виртуальные машины могут иметь один или несколько дисков данных, которые также хранятся на виртуальных жестких дисках.</span><span class="sxs-lookup"><span data-stu-id="e070b-107">Virtual machines also can have one or more data disks, that are also stored as VHDs.</span></span> 

<span data-ttu-id="e070b-108">В этой статье рассматриваются различные варианты применения дисков и сведения о том, как создать и использовать различные типы дисков.</span><span class="sxs-lookup"><span data-stu-id="e070b-108">In this article, we will talk about the different uses for the disks, and then discuss the different types of disks you can create and use.</span></span> <span data-ttu-id="e070b-109">Также доступна версия этой статьи для [виртуальных машин Windows](../windows/about-disks-and-vhds.md).</span><span class="sxs-lookup"><span data-stu-id="e070b-109">This article is also available for [Windows virtual machines](../windows/about-disks-and-vhds.md).</span></span>

[!INCLUDE [learn-about-deployment-models](../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="disks-used-by-vms"></a><span data-ttu-id="e070b-110">Диски, используемые виртуальными машинами</span><span class="sxs-lookup"><span data-stu-id="e070b-110">Disks used by VMs</span></span>

<span data-ttu-id="e070b-111">Давайте рассмотрим, как виртуальные машины используют диски.</span><span class="sxs-lookup"><span data-stu-id="e070b-111">Let's take a look at how the disks are used by the VMs.</span></span>

## <a name="operating-system-disk"></a><span data-ttu-id="e070b-112">Диск операционной системы</span><span class="sxs-lookup"><span data-stu-id="e070b-112">Operating system disk</span></span>
<span data-ttu-id="e070b-113">У каждой виртуальной машины есть один подключенный диск операционной системы.</span><span class="sxs-lookup"><span data-stu-id="e070b-113">Every virtual machine has one attached operating system disk.</span></span> <span data-ttu-id="e070b-114">Он зарегистрирован как диск SATA и обозначается как /dev/sda по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e070b-114">It's registered as a SATA drive and is labeled /dev/sda by default.</span></span> <span data-ttu-id="e070b-115">Максимальная емкость этого диска составляет 2048 ГБ.</span><span class="sxs-lookup"><span data-stu-id="e070b-115">This disk has a maximum capacity of 2048 gigabytes (GB).</span></span> 

## <a name="temporary-disk"></a><span data-ttu-id="e070b-116">Временный диск</span><span class="sxs-lookup"><span data-stu-id="e070b-116">Temporary disk</span></span>
<span data-ttu-id="e070b-117">У каждой виртуальной машины есть временный диск.</span><span class="sxs-lookup"><span data-stu-id="e070b-117">Each VM contains a temporary disk.</span></span> <span data-ttu-id="e070b-118">Он выступает в качестве временного хранилища для приложений и процессов и предназначен только для хранения данных, таких как страничные файлы или файлы подкачки.</span><span class="sxs-lookup"><span data-stu-id="e070b-118">The temporary disk provides short-term storage for applications and processes and is intended to only store data such as page or swap files.</span></span> <span data-ttu-id="e070b-119">Данные на временном диске могут быть потеряны во время [обслуживания](../windows/manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#understand-vm-reboots---maintenance-vs-downtime) или при [повторном развертывании виртуальной машины](../windows/redeploy-to-new-node.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="e070b-119">Data on the temporary disk may be lost during a [maintenance event](../windows/manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#understand-vm-reboots---maintenance-vs-downtime) or when you [redeploy a VM](../windows/redeploy-to-new-node.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="e070b-120">Во время обычной перезагрузки виртуальной машины данные на временном диске должны сохраниться.</span><span class="sxs-lookup"><span data-stu-id="e070b-120">During a standard reboot of the VM, the data on the temporary drive should persist.</span></span>

<span data-ttu-id="e070b-121">На виртуальных машинах Linux в качестве временного диска обычно используется **/dev/sdb**. Агент Linux для Azure форматирует этот диск и монтирует его в каталог **/mnt**.</span><span class="sxs-lookup"><span data-stu-id="e070b-121">On Linux virtual machines, the disk is typically **/dev/sdb** and is formatted and mounted to **/mnt** by the Azure Linux Agent.</span></span> <span data-ttu-id="e070b-122">Размер временного диска зависит от размера виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="e070b-122">The size of the temporary disk varies, based on the size of the virtual machine.</span></span> <span data-ttu-id="e070b-123">Чтобы узнать больше, ознакомьтесь с [размерами виртуальных машин Linux](../windows/sizes.md).</span><span class="sxs-lookup"><span data-stu-id="e070b-123">For more information, see [Sizes for Linux virtual machines](../windows/sizes.md).</span></span>

<span data-ttu-id="e070b-124">Дополнительные сведения об использовании временного диска в Azure см. в статье [Общие сведения о временном диске на виртуальных машинах Microsoft Azure](https://blogs.msdn.microsoft.com/mast/2013/12/06/understanding-the-temporary-drive-on-windows-azure-virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="e070b-124">For more information on how Azure uses the temporary disk, see [Understanding the temporary drive on Microsoft Azure Virtual Machines](https://blogs.msdn.microsoft.com/mast/2013/12/06/understanding-the-temporary-drive-on-windows-azure-virtual-machines/)</span></span>

## <a name="data-disk"></a><span data-ttu-id="e070b-125">Диск данных</span><span class="sxs-lookup"><span data-stu-id="e070b-125">Data disk</span></span>
<span data-ttu-id="e070b-126">Диск данных — виртуальный жесткий диск, подключенный к виртуальной машине для хранения данных приложений или других необходимых данных.</span><span class="sxs-lookup"><span data-stu-id="e070b-126">A data disk is a VHD that's attached to a virtual machine to store application data, or other data you need to keep.</span></span> <span data-ttu-id="e070b-127">Диски данных регистрируются как диски SCSI и обозначаются любой указанной буквой.</span><span class="sxs-lookup"><span data-stu-id="e070b-127">Data disks are registered as SCSI drives and are labeled with a letter that you choose.</span></span> <span data-ttu-id="e070b-128">Максимальная емкость каждого диска составляет 4095 ГБ.</span><span class="sxs-lookup"><span data-stu-id="e070b-128">Each data disk has a maximum capacity of 4095 GB.</span></span> <span data-ttu-id="e070b-129">Размер виртуальной машины определяет, сколько дисков данных можно подключить и какой тип хранилища можно использовать для размещения дисков.</span><span class="sxs-lookup"><span data-stu-id="e070b-129">The size of the virtual machine determines how many data disks you can attach to it and the type of storage you can use to host the disks.</span></span>

> [!NOTE]
> <span data-ttu-id="e070b-130">Чтобы узнать больше о емкости виртуальных машин, ознакомьтесь с [размерами виртуальных машин Linux](../windows/sizes.md).</span><span class="sxs-lookup"><span data-stu-id="e070b-130">For more details about virtual machines capacities, see [Sizes for Linux virtual machines](../windows/sizes.md).</span></span>
> 

<span data-ttu-id="e070b-131">Azure создает диск операционной системы при создании виртуальной машины из образа.</span><span class="sxs-lookup"><span data-stu-id="e070b-131">Azure creates an operating system disk when you create a virtual machine from an image.</span></span> <span data-ttu-id="e070b-132">Если используется образ, включающий диски данных, при создании виртуальной машины Azure также создает диски данных.</span><span class="sxs-lookup"><span data-stu-id="e070b-132">If you use an image that includes data disks, Azure also creates the data disks when it creates the virtual machine.</span></span> <span data-ttu-id="e070b-133">В противном случае диски данных добавляются после создания виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="e070b-133">Otherwise, you add data disks after you create the virtual machine.</span></span>

<span data-ttu-id="e070b-134">Диски данных можно добавить в виртуальную машину в любое время, **подключив** их к ней.</span><span class="sxs-lookup"><span data-stu-id="e070b-134">You can add data disks to a virtual machine at any time, by **attaching** the disk to the virtual machine.</span></span> <span data-ttu-id="e070b-135">Можно использовать виртуальный жесткий диск, отправленный или скопированный в учетную запись хранения или созданный Azure.</span><span class="sxs-lookup"><span data-stu-id="e070b-135">You can use a VHD that you've uploaded or copied to your storage account, or one that Azure creates for you.</span></span> <span data-ttu-id="e070b-136">Подключая диск данных, вы связываете VHD-файл с виртуальной машиной. VHD-файл "берется в аренду", поэтому его невозможно удалить из хранилища, пока он подключен.</span><span class="sxs-lookup"><span data-stu-id="e070b-136">Attaching a data disk associates the VHD file with the VM, by placing a 'lease' on the VHD so it can't be deleted from storage while it's still attached.</span></span>

[!INCLUDE [storage-about-vhds-and-disks-windows-and-linux](../../../includes/storage-about-vhds-and-disks-windows-and-linux.md)]

## <a name="troubleshooting"></a><span data-ttu-id="e070b-137">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="e070b-137">Troubleshooting</span></span>
[!INCLUDE [virtual-machines-linux-lunzero](../../../includes/virtual-machines-linux-lunzero.md)]

## <a name="next-steps"></a><span data-ttu-id="e070b-138">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="e070b-138">Next steps</span></span>
* <span data-ttu-id="e070b-139">[Подключите диск](add-disk.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) , чтобы увеличить емкость хранилища для виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="e070b-139">[Attach a disk](add-disk.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) to add additional storage for your VM.</span></span>
* <span data-ttu-id="e070b-140">[Настройте программный RAID](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), чтобы обеспечить избыточность.</span><span class="sxs-lookup"><span data-stu-id="e070b-140">[Configure software RAID](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) for redundancy.</span></span>
* <span data-ttu-id="e070b-141">[Запишите образ виртуальной машины Linux](./classic/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json), чтобы иметь возможность быстро развернуть дополнительные виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="e070b-141">[Capture a Linux virtual machine](./classic/capture-image.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json) so you can quickly deploy additional VMs.</span></span>

