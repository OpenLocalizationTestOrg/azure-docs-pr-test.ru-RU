---
title: "aaaAzure виртуальные машины Linux и хранилище Azure | Документы Microsoft"
description: "Здесь описываются хранилища Azure класса Standard и Premium на основе управляемых и неуправляемых дисков для виртуальных машин Linux."
services: virtual-machines-linux
documentationcenter: virtual-machines-linux
author: vlivech
manager: timlt
editor: 
ms.assetid: d364c69e-0bd1-4f80-9838-bbc0a95af48c
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 2/7/2017
ms.author: rasquill
ms.openlocfilehash: d34441698a4e59721847685099e5fb3aa378c597
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-and-linux-vm-storage"></a>Azure и Linux: хранилища виртуальных машин
Хранилище Azure — hello решение облачного хранилища для современных приложений, которые зависят от надежности, доступности и toomeet hello масштабируемостью с клиентами.  В дополнение toomaking его возможности для новых сценариев крупномасштабными приложениями toobuild toosupport разработчиков хранилища Azure также предоставляет foundation hello хранилища для виртуальных машин Azure.

## <a name="managed-disks"></a>Управляемые диски

Виртуальные машины Azure, теперь доступны с помощью [управляемых дисков Azure](../windows/managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), который позволяет вам toocreate виртуальных машин без создания или управления любой [учетных записей хранилища Azure](../../storage/common/storage-introduction.md) самостоятельно. Укажите ли требуется Premium или должно быть стандартное хранилище и размер диска hello и Azure создает hello дисков виртуальной Машины. Виртуальные машины с управляемыми дисками содержат много важных функций, включая следующие:

- Поддержка автоматического масштабирования. Azure создает диски hello и управляет hello базового хранилища toosupport копирование too10, диски 000 на подписку.
- Повышенная надежность групп доступности. Azure гарантирует, что диски виртуальной машины будут автоматически изолированы друг от друга в группах доступности.
- Повышенный уровень контроля. Управляемые диски предоставляют различные операции, которые контролирует [управление доступом на основе ролей (RBAC)](../../active-directory/role-based-access-control-what-is.md).

При этом цены на Управляемые диски отличаются от цен на неуправляемые диски. Дополнительные сведения см. в разделе [Цены и выставление счетов для Управляемых дисков](../windows/managed-disks-overview.md#pricing-and-billing).

Можно преобразовать существующих виртуальных машин, использующие диски toouse управляемых неуправляемые диски с [преобразование виртуальной машины az](/cli/azure/vm#convert). Дополнительные сведения см. в разделе [как tooconvert ВМ Linux из неуправляемого диски tooAzure управляемых](convert-unmanaged-to-managed-disks.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json). Неуправляемые диска нельзя преобразовать в управляемого диска, если диск неуправляемые hello в учетной записи хранения, является, или в любое время, зашифрованные с помощью [шифрование службы хранилища Azure (SSE)](../../storage/common/storage-service-encryption.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json). следующие шаги подробно как tootooconvert неуправляемого дисков, или были в учетной записи хранения зашифрованных Hello:

- Скопируйте hello виртуальный жесткий диск (VHD) с [начала копирования BLOB-объекта хранилища az](/cli/azure/storage/blob/copy#start) tooa учетной записи хранилища, который никогда не был включен для шифрование службы хранилища Azure.
- Создайте виртуальную машину, которая использует управляемые диски, и в процессе создания укажите этот VHD-файл с помощью команды [az vm create](/cli/azure/vm#create).
- Присоединение hello скопированы VHD с [присоединить диск виртуальной машины az](/cli/azure/vm/disk#attach) tooa запуск виртуальной Машины с помощью управляемых дисках.


## <a name="azure-storage-standard-and-premium"></a>Хранилище Azure: уровни "Стандартный" и "Премиум"
Виртуальные машины Azure могут создаваться на основе управляемых и неуправляемых дисков хранилища класса Standard или Premium. При использовании портала toochoose hello ВМ необходимо переключить раскрывающийся список на hello **основы** tooview экрана диски standard и premium. При переключаемых tooSSD, хранилище premium, отображаются включена виртуальных машин, все поддерживаемый Твердотельные накопители.  Когда переключаемых tooHDD, стандарт включено хранилище виртуальных машин поддерживаемый вращающихся дисков показываются вместе с premium хранилища виртуальных машин, поддерживаемый SSD.

При создании виртуальной Машины из hello `azure-cli` между standard и premium можно выбрать при выборе размера виртуальной Машины hello через hello `-z` или `--vm-size` флаг cli.

## <a name="creating-a-vm-with-a-managed-disk"></a>Создание виртуальной машины на основе управляемого диска

Hello следующего примера требуется hello Azure 2.0 CLI, который затем можно [установите здесь](/cli/azure/install-azure-cli).

Сначала создайте hello toomanage ресурсов группы ресурсов с [Создание группы az](/cli/azure/group#create):

```azurecli
az group create --location westus --name myResourceGroup
```

Теперь создайте hello виртуальной Машины с [создания виртуальной машины az](/cli/azure/vm#create). Укажите уникальный аргумент `--public-ip-address-dns-name`, поскольку `mypublicdns`, скорее всего, уже используется.

```azurecli
az vm create \
    --resource-group myResourceGroup \
    --name myVM
    --image UbuntuLTS \
    --admin-username azureuser \
    --generate-ssh-keys \
    --public-ip-address-dns-name mypublicdns
```

Hello предыдущего примера создает виртуальную Машину с управляемого диска в стандартном хранилище учетной записи. добавить учетную запись хранения Premium, toouse hello `--storage-sku Premium_LRS` аргумент, как следующий пример hello:

```azurecli
az vm create \
    --resource-group myResourceGroup \
    --name myVM
    --image UbuntuLTS \
    --admin-username azureuser \
    --generate-ssh-keys \
    --public-ip-address-dns-name mypublicdns \
    --storage-sku Premium_LRS
```

## <a name="standard-storage"></a>Хранилище уровня "Стандартный"
Стандартная хранилища Azure — тип хранилища по умолчанию hello.  Хранилище уровня "Стандартный" экономически эффективно и сохраняет высокий уровень производительности.  

## <a name="premium-storage"></a>Хранилище уровня "Премиум"
Хранилище Azure Premium обеспечивает поддержку дисков с высокой производительностью и малой задержкой для виртуальных машин с интенсивной рабочей нагрузкой ввода-вывода. Диски виртуальной машины, использующие хранилище класса Premium, хранят данные на твердотельных накопителях. Можно выполнить миграцию приложения tooAzure дисков виртуальной Машины преимущества tootake хранилище Premium hello скорости и производительность этих дисков.

Возможности хранилища уровня "Премиум":

* Диски хранилища Premium: Хранилище Azure Premium поддерживает диски ВМ, которые могут быть вложенные tooDS, серии DSv2 или виртуальные машины Azure серии GS.
* Страничный большой двоичный объект Premium: Хранилище Premium поддерживает Azure страничные большие двоичные объекты, которые используется toohold постоянные диски для виртуальных машин Azure (ВМ).
* Локально избыточное хранилище Premium: Учетная запись хранения Premium поддерживает только локально избыточное хранилище (LRS) как параметр репликации hello и сохраняет три копии данных hello в одном регионе.
* [Хранилище уровня "Премиум"](../../storage/common/storage-premium-storage.md).

## <a name="premium-storage-supported-vms"></a>Виртуальные машины, поддерживаемые хранилищем уровня "Премиум"
Хранилище уровня "Премиум" поддерживает виртуальные машины серий DS, DSv2, GS и Fs. В этих виртуальных машинах можно использовать диски хранилищ уровня "Стандартный" и "Премиум". Но нельзя использовать диски хранилища уровня "Премиум" с серией виртуальных машин, не совместимой с хранилищем уровня "Премиум".

Ниже приведены hello ОС Linux, мы проверке с хранилище Premium.

| Дистрибутив | Версия | Поддерживаемое ядро |
| --- | --- | --- |
| Ubuntu |12.04 |3.2.0-75.110 или более поздней версии |
| Ubuntu |14.04 |3.13.0-44.73 или более поздней версии |
| Debian |7.x, 8.x |3.16.7-ckt4-1 или более поздней версии |
| SLES |SLES 12 |3.12.36-38.1 или более поздней версии |
| SLES |SLES 11 SP4 или более поздней версии |3.0.101-0.63.1 или более поздней версии |
| CoreOS |584.0.0 или более поздней версии |3.18.4 или более поздней версии |
| CentOS |6.5, 6.6, 6.7, 7.0, 7.1 |3.10.0-229.1.2.el7 или более поздней версии |
| RHEL |6.8 или более поздней версии, 7.2 или более поздней версии | |

## <a name="azure-file-storage"></a>Хранилище файлов Azure
Хранилище файлов Azure предлагает общих файловых ресурсов в облаке hello, с помощью стандартного протокола SMB hello. В файлах, Azure можно перенести корпоративных приложений, основанные на серверы tooAzure файла. Приложения, работающие в Azure, могут легко подключать общие папки из виртуальных машин Azure под управлением Linux. И с hello последний выпуск хранилища файлов, можно подключить общий файловый ресурс из локального приложения, которое поддерживает SMB 3.0.  Так как эти общие папки используют протокол SMB, вы можете обращаться к ним с помощью стандартных интерфейсов API файловой системы.

Файл хранилища основана на hello, технологии хранения больших двоичных объектов, таблиц и очередей, поэтому хранения файлов предлагает hello доступности, надежности, масштабируемости и географической избыточности, встроены в платформу hello хранилища Azure. Дополнительные сведения о целевых показателях производительности и ограничениях хранилища файлов см. в статье "Целевые показатели масштабируемости и производительности службы хранилища Azure".

* [Как toouse хранилища Azure File с Linux](../../storage/files/storage-how-to-use-files-linux.md)

## <a name="hot-storage"></a>"Горячее" хранилище
уровень хранилища Azure горячей Hello оптимизирован для хранения часто используемых данных.  Единицы хранения является тип хранилища по умолчанию hello для хранилищ больших двоичных объектов.

## <a name="cool-storage"></a>"Холодное" хранилище
уровень хранилища Azure ожиданием Hello оптимизировано для хранения данных, редко используемых и долгоживущие. К вариантам использования "холодного" хранилища относятся резервные копии, мультимедийное содержимое, данные научных исследований, сведения о соответствии требованиям и архивные данные. Как правило, любые данные, которые редко используются, являются идеальными кандидатами для "холодного" хранилища.

|  | "Горячий" уровень хранилища | "Холодный" уровень хранилища |
|:--- |:---:|:---:|
| Доступность |99,9 % |99 % |
| Доступность (операции чтения RA-GRS) |99,99 % |99,9 % |
| Плата за использование |Больше затрат на хранение |Меньше затрат на хранение |
| Меньше затрат на доступ |Больше затрат на доступ | |
| и транзакции |и транзакции | |

## <a name="redundancy"></a>Избыточность
Устойчивость tooensure и высокого уровня доступности и следовании hello об уровне ОБСЛУЖИВАНИЯ хранилища Azure, даже при временных сбоях оборудования лицо hello в репликации данных Hello в всегда является учетной записью хранения Microsoft Azure.

При создании учетной записи хранилища, необходимо выбрать один из hello следующие параметры репликации:

* Локально избыточное хранилище (LRS)
* Хранилище, избыточное в пределах зоны (ZRS)
* Геоизбыточное хранилище (GRS)
* Геоизбыточное хранилище с доступом для чтения (RA-GRS)

### <a name="locally-redundant-storage"></a>Локально избыточное хранилище
Локально избыточное хранилище (LRS) реплицирует данные в пределах области hello, в котором была создана учетная запись хранения. Устойчивость toomaximize, каждый запрос к данным в вашей учетной записи хранилища реплицируются три раза. Эти три реплики хранятся в отдельных доменах сбоя и доменах обновления.  Запрос успешно возвращается только в том случае, если он был письменного tooall три реплики.

### <a name="zone-redundant-storage"></a>Хранилище, избыточное в пределах зоны
Хранилище, избыточное в пределах зоны (ZRS) реплицирует данные по два toothree средства, в одном или двух регионах, дает большую степень устойчивости, чем LRS. Если учетной записи хранилища включена ZRS, данные будут доступны даже в случае сбоя в одном из средств hello hello.

### <a name="geo-redundant-storage"></a>Геоизбыточное хранилище
Географически избыточное хранилище (GRS) реплицируется на данных tooa дополнительный регион, который находится в сотнях километров от основного региона hello. Если учетной записи хранилища включена функция GRS, данные будут доступны даже в случае, когда hello полном региональном сбое или аварии, в которой hello первичного региона не может быть восстановлен.

### <a name="read-access-geo-redundant-storage"></a>Геоизбыточное хранилище с доступом для чтения
Геоизбыточное хранилище доступ для чтения (RA-GRS) повышает доступность для вашей учетной записи, предоставляя доступ только для чтения данных toohello в дополнительное расположение hello, кроме toohello репликации двух регионах, предоставляемые GRS. В событии hello данные становятся недоступными в основном регионе hello приложение может считывать данные из hello дополнительный регион.

Подробный обзор избыточности хранилища Azure см. в следующей статье:

* [Репликация службы хранилища Azure](../../storage/common/storage-redundancy.md)

## <a name="scalability"></a>Масштабируемость
Хранилище Azure — высокой степенью масштабируемости для хранения и обработки сотен терабайт данных hello toosupport больших данных сценариев, необходимых для анализа научных, финансовых и мультимедийных приложений. Или можно хранить hello небольших объемов данных, необходимых для малого бизнеса веб-сайта. Везде, где попадают вашим потребностям, вы платите только за hello данные, которые сохраняются. В настоящее время в хранилище Azure хранятся десятки триллионов уникальных клиентских объектов и обрабатываются в среднем миллионы запросов в секунду.

Для учетных записей хранения уровня "Стандартный": учетная запись хранения уровня "Стандартный" имеет ограничение по частоте запросов в 20 000 операций ввода-вывода. Hello всего операций ввода-ВЫВОДА для всех дисков виртуальной машины в стандартном хранилище учетной записи не должен превышать это ограничение.

Для учетных записей хранения уровня "Премиум": учетная запись хранения уровня "Премиум" имеет максимальную общую пропускную способность в 50 Гбит/с. Hello общая пропускная способность для всех дисков виртуальной Машины не должно превышать это ограничение.

## <a name="availability"></a>Доступность
Мы гарантируем, что по крайней мере 99,99% (99,9% для холодный уровень доступа) hello времени, мы будет успешно tooread запросы обработки данных из учетных записей доступа на чтение Geo Redundant Storage (RA-GRS), при условии, что Сбой попытки tooread данные из основной регион hello в дополнительном регионе hello предпринята.

Мы гарантируем, что по крайней мере 99,9% (99% для холодный уровень доступа) hello времени, мы будет успешно обрабатывает данные tooread запросов из локально избыточное хранилище (LRS), избыточное хранилище зоны (ZRS) и учетные записи географически избыточное хранилище (GRS).

Мы гарантируем, что по крайней мере 99,9% (99% для холодный уровень доступа) hello времени, мы будет успешно обрабатывают запросы данных toowrite tooLocally избыточном хранилище (LRS), зоны избыточности хранилища (ZRS) и географически избыточное хранилище (GRS), учетные записи и доступ для чтения географически избыточной Учетные записи хранения (RA-GRS).

* [Соглашение об уровне обслуживания Azure для службы хранилища](https://azure.microsoft.com/support/legal/sla/storage/v1_1/)

## <a name="regions"></a>регионы
Azure уже общедоступно в 30 регионах по всему миру hello и объявила планы для 4 других регионах. Географического распространения — приоритет для Azure, так как она позволяет наших клиентов tooachieve более высокую производительность и поддерживает их требованиями и настройками относительно расположения данных.  Последняя область toolaunch azures — в Германии.

Hello Германия Microsoft Cloud предоставляет toohello дифференцированных параметр облачные службы Майкрософт уже доступны через Европа, создание повышения возможности для инноваций и экономический рост для высокой регулируемые партнеров и клиентов в Германии, Hello Европейского Союза и hello Европейская ассоциация свободной торговли (ЕАСТ).

Данные клиента в этих новых центрах обработки данных в Magdeburg и Франкфурт, осуществляется через управления версиями hello данных доверенное лицо, международной системы T, независимых немецком компании и подразделения немецкой Telekom. Коммерческих облачных служб Майкрософт в этих центрах обработки данных соответствуют обработке нормам tooGerman данных и предоставить клиентам дополнительные варианты способ и место обработки данных.

* [Карта регионов Azure](https://azure.microsoft.com/regions/)

## <a name="security"></a>Безопасность
Хранилище Azure предоставляет широкий набор возможностей безопасности, которые вместе позволяют разработчикам toobuild безопасных приложений. Учетная запись хранения Hello сам могут быть защищены с помощью управления доступом на основе ролей и Azure Active Directory. Защитить данные, передаваемые между приложением и Azure, можно с помощью шифрования на стороне клиента, HTTPS или SMB 3.0. Данные могут быть определены toobe автоматически шифруются при записи tooAzure хранилища с помощью шифрования хранилища службы (SSE). Диски операционной системы и данных, используемым виртуальными машинами можно задать toobe, зашифрованных с помощью шифрования диска Azure. Объекты данных toohello делегированный доступ в хранилище Azure можно предоставить с помощью подписей общего доступа.

### <a name="management-plane-security"></a>Безопасность плоскости управления
Hello плоскости управления состоит из toomanage hello ресурсы, используемые вашей учетной записи хранилища. В этом разделе будет рассказано о модели развертывания диспетчера ресурсов Azure hello и доступом учетных записей хранения tooyour toocontrol toouse управление доступом на основе ролей (RBAC). Также мы поговорим об управлении ключами вашей учетной записи хранилища и как tooregenerate их.

### <a name="data-plane-security"></a>Безопасность плоскости данных
В этом разделе мы рассмотрим доступ toohello фактические данные объектов в вашей учетной записи хранилища больших двоичных объектов, файлов, очередей и таблиц, с помощью подписей общего доступа и хранимые политики доступа. Будут рассмотрены подписанные URL-адреса как уровня службы, так и уровня учетной записи. Мы также отображаются как toolimit доступ к tooa определенный IP-адрес (или диапазон IP-адресов), как использовать протокол hello toolimit tooHTTPS и как toorevoke a подписи общего доступа, не ожидая его tooexpire.

## <a name="encryption-in-transit"></a>Шифрование при передаче
В этом разделе рассматриваются как toosecure данных при передаче в или из хранилища Azure. Мы рассмотрим hello, рекомендуется использовать HTTPS и hello шифрования SMB 3.0 для общих ресурсов Azure. Мы будет также рассмотрим шифрования на стороне клиента, включающий tooencrypt hello данные перед передачей в хранилище в клиентском приложении и данные hello toodecrypt после передачи из хранилища.

## <a name="encryption-at-rest"></a>Шифрование при хранении
Мы поговорим о шифрование службы хранилища (SSE), и как можно включить для учетной записи хранения, приведет к блочные, страничные большие двоичные объекты и добавление большие двоичные объекты автоматически шифруются при записи tooAzure хранилища. Мы также рассмотрим как можно использовать шифрование диска Azure и изучите основные различия hello и варианты шифрования диска и SSE и шифрования на стороне клиента. Вкратце будут рассмотрены вопросы обеспечения соответствия FIPS на компьютерах, используемых в государственных учреждениях США.

* [Руководство по безопасности службы хранилища Azure](../../storage/common/storage-security-guide.md)

## <a name="temporary-disk"></a>Временный диск
У каждой виртуальной машины есть временный диск. временный диск Hello предоставляет краткосрочного хранения приложениями и процессами и предполагаемого tooonly хранения данных, таких как страница или файлы подкачки. Данные на временном диске hello могут быть потеряны во время [события обслуживания](manage-availability.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#understand-vm-reboots---maintenance-vs-downtime) или если вы [повторного развертывания виртуальной Машины](redeploy-to-new-node.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json). Во время стандартной перезагрузки hello ВМ должен сохранять hello данные на временном диске hello.

На виртуальных машинах Linux диск hello обычно является **/dev/sdb** и форматируются и подключено слишком**/mnt** по hello агент Azure Linux. размер Hello hello временного диска зависит от размера hello hello виртуальной машины. Чтобы узнать больше, ознакомьтесь с [размерами виртуальных машин Linux](sizes.md).

Дополнительные сведения об использовании hello временный диск Azure см. в разделе [основные сведения о временном диске hello на виртуальных машинах Microsoft Azure](https://blogs.msdn.microsoft.com/mast/2013/12/06/understanding-the-temporary-drive-on-windows-azure-virtual-machines/)

## <a name="cost-savings"></a>Экономия денежных средств
* [Стоимость хранения](https://azure.microsoft.com/pricing/details/storage/)
* [Калькулятор стоимости хранения](https://azure.microsoft.com/pricing/calculator/?service=storage)

## <a name="storage-limits"></a>Ограничения хранилища
* [Ограничения службы хранилища](../../azure-subscription-service-limits.md#storage-limits)
