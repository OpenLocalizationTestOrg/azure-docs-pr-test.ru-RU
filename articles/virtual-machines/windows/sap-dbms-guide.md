---
title: "aaaSAP NetWeaver на виртуальных машинах Azure — руководство по развертыванию СУБД | Документы Microsoft"
description: "SAP NetWeaver на виртуальных машинах Windows. Руководство по развертыванию СУБД"
services: virtual-machines-windows,virtual-network,storage
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: e0e05b5e-47aa-4c1e-bf83-0d62ee8f614e
ms.service: virtual-machines-windows
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-windows
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: a56b8f6b3b26fa10e01a25a251a3e4a7bfc77e2b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="sap-netweaver-on-azure-windows-virtual-machines-vms--dbms-deployment-guide"></a><span data-ttu-id="0fe6d-103">SAP NetWeaver на виртуальных машинах Windows в Azure. Руководство по развертыванию СУБД</span><span class="sxs-lookup"><span data-stu-id="0fe6d-103">SAP NetWeaver on Azure Windows Virtual Machines (VMs) – DBMS Deployment Guide</span></span>
[767598 ]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037;]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1139904;]:https://launchpad.support.sap.com/#/notes/1139904
[1173395.]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958;]:https://launchpad.support.sap.com/#/notes/1558958
[1585981.]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680;]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967;]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924;]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496;]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258;]:https://launchpad.support.sap.com/#/notes/1814258
[1882376.]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555;]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005.]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:sap-dbms-guide.md 
[dbms-guide-2.1]:#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f 
[dbms-guide-2.2]:#c8e566f9-21b7-4457-9f7f-126036971a91 
[dbms-guide-2.3]:#10b041ef-c177-498a-93ed-44b3441ab152 
[dbms-guide-2]:#65fa79d6-a85f-47ee-890b-22e794f51a64 
[dbms-guide-3]:#871dfc27-e509-4222-9370-ab1de77021c3 
[dbms-guide-5.5.1]:#0fef0e79-d3fe-4ae2-85af-73666a6f7268 
[dbms-guide-5.5.2]:#f9071eff-9d72-4f47-9da4-1852d782087b 
[dbms-guide-5.6]:#1b353e38-21b3-4310-aeb6-a77e7c8e81c8 
[dbms-guide-5.8]:#9053f720-6f3b-4483-904d-15dc54141e30 
[dbms-guide-5]:#3264829e-075e-4d25-966e-a49dad878737 
[dbms-guide-8.4.1]:#b48cfe3b-48e9-4f5b-a783-1d29155bd573 
[dbms-guide-8.4.2]:#23c78d3b-ca5a-4e72-8a24-645d141a3f5d 
[dbms-guide-8.4.3]:#77cd2fbb-307e-4cbf-a65f-745553f72d2c 
[dbms-guide-8.4.4]:#f77c1436-9ad8-44fb-a331-8671342de818 
[dbms-guide-900-sap-cache-server-on-premises]:#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:./media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:./media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:./media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:./media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:./media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:./media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:./media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:./media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:./media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:sap-deployment-guide.md 
[deployment-guide-2.2]:sap-deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94 
[deployment-guide-3.1.2]:sap-deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab 
[deployment-guide-3.2]:sap-deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281 
[deployment-guide-3.3]:sap-deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2 
[deployment-guide-3.4]:sap-deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1
[deployment-guide-3]:sap-deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e 
[deployment-guide-4.1]:sap-deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7 
[deployment-guide-4.2]:sap-deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e
[deployment-guide-4.3]:sap-deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc 
[deployment-guide-4.4.2]:sap-deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542 
[deployment-guide-4.4]:sap-deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d 
[deployment-guide-4.5.1]:sap-deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4 
[deployment-guide-4.5.2]:sap-deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f 
[deployment-guide-4.5]:sap-deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca 
[deployment-guide-5.1]:sap-deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2 
[deployment-guide-5.2]:sap-deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1 
[deployment-guide-5.3]:sap-deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8 

[deployment-guide-configure-monitoring-scenario-1]:sap-deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b 
[deployment-guide-configure-proxy]:sap-deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d 
[deployment-guide-figure-100]:./media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:./media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:sap-deployment-guide.md#figure-11
[deployment-guide-figure-1100]:./media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:./media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:./media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:sap-deployment-guide.md#figure-14
[deployment-guide-figure-1400]:./media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:./media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:./media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:sap-deployment-guide.md#figure-5
[deployment-guide-figure-50]:./media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:./media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:sap-deployment-guide.md#figure-6
[deployment-guide-figure-600]:./media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:sap-deployment-guide.md#figure-7
[deployment-guide-figure-700]:./media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:./media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:./media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:sap-deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:sap-deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:sap-deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:sap-deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b 

[deploy-template-cli]:../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:sap-get-started.md
[getting-started-dbms]:sap-get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:sap-get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:sap-get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[ha-guide]:sap-high-availability-guide.md

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:./media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:./media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:sap-planning-guide.md  
[planning-guide-1.2]:sap-planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff 
[planning-guide-11]:sap-planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058 
[planning-guide-11.4.1]:sap-planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77 
[planning-guide-11.5]:sap-planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f 
[planning-guide-2.1]:sap-planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803 
[planning-guide-2.2]:sap-planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10
[planning-guide-3.1]:sap-planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a 
[planning-guide-3.2.1]:sap-planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358 
[planning-guide-3.2.2]:sap-planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560 
[planning-guide-3.2.3]:sap-planning-guide.md#18810088-f9be-4c97-958a-27996255c665 
[planning-guide-3.2]:sap-planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77 
[planning-guide-3.3.2]:sap-planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 
[planning-guide-5.1.1]:sap-planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53 
[planning-guide-5.1.2]:sap-planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c 
[planning-guide-5.2.1]:sap-planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef 
[planning-guide-5.2.2]:sap-planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3 
[planning-guide-5.2]:sap-planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7 
[planning-guide-5.3.1]:sap-planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79 
[planning-guide-5.3.2]:sap-planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a 
[planning-guide-5.4.2]:sap-planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1 
[planning-guide-5.5.1]:sap-planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646 
[planning-guide-5.5.3]:sap-planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d 
[planning-guide-7.1]:sap-planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30 
[planning-guide-7]:sap-planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14 
[planning-guide-9.1]:sap-planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3 
[planning-guide-azure-premium-storage]:sap-planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 

[planning-guide-figure-100]:./media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:./media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:./media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:./media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:./media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:./media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:./media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:./media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:./media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:./media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:./media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:./media/virtual-machines-shared-sap-planning-guide/2500-vm-extension-details.png
[planning-guide-figure-2600]:./media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:./media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:./media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:./media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-300]:./media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:./media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:./media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-400]:./media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:./media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:./media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:./media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:sap-planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd 
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:sap-planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f 

[powershell-install-configure]:/powershell/azureps-cmdlets-docs
[resource-group-authoring-templates]:../../resource-group-authoring-templates.md
[resource-group-overview]:../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam 
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../storage/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../storage/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../storage/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../storage/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../storage/storage-premium-storage.md
[storage-redundancy]:../../storage/storage-redundancy.md
[storage-scalability-targets]:../../storage/storage-scalability-targets.md
[storage-use-azcopy]:../../storage/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:../../resource-manager-deployment-model.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../linux/cli-deploy-templates.md (Deploy and manage virtual machines by using Azure Resource Manager templates and hello Azure CLI)
[virtual-machines-deploy-rmtemplates-powershell]:../virtual-machines-windows-ps-manage.md (Manage virtual machines using Azure Resource Manager and PowerShell)
[virtual-machines-linux-agent-user-guide]:../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-linux-configure-lvm]:../linux/configure-lvm.md
[virtual-machines-linux-configure-raid]:../linux/configure-raid.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../linux/suse-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../linux/update-agent.md
[virtual-machines-manage-availability]:../virtual-machines-windows-manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:../virtual-machines-windows-ps-create.md
[virtual-machines-sizes]:sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:classic/ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:classic/ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:upload-image.md
[virtual-machines-windows-tutorial]:../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics]:../../virtual-network/virtual-networks-multiple-nics.md
[virtual-networks-nsg]:../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md
[vpn-gateway-vpn-faq]:../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../xplat-cli-azure-resource-manager.md

<span data-ttu-id="0fe6d-145">В этом руководстве является частью документации hello по реализации и развертыванию программного обеспечения SAP hello в Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-145">This guide is part of hello documentation on implementing and deploying hello SAP software on Microsoft Azure.</span></span> <span data-ttu-id="0fe6d-146">Прежде чем приступить к данному руководству, прочтите hello [реализацию руководство по планированию и][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-146">Before reading this guide, please read hello [Planning and Implementation Guide][planning-guide].</span></span> <span data-ttu-id="0fe6d-147">В этом документе рассматривается развертывание hello различных систем управления реляционной базы данных (RDBMS) и связанные продукты в сочетании с SAP на виртуальных машинах Microsoft Azure (ВМ) с помощью hello инфраструктуры Azure как возможности услуги (IaaS).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-147">This document covers hello deployment of various Relational Database Management Systems (RDBMS) and related products in combination with SAP on Microsoft Azure Virtual Machines (VMs) using hello Azure Infrastructure as a Service (IaaS) capabilities.</span></span>

<span data-ttu-id="0fe6d-148">Hello документ дополняет hello документацию по установке SAP и примечаниях SAP, которые представляют Привет основные ресурсы для установки и развертывания программного обеспечения SAP в заданный платформы</span><span class="sxs-lookup"><span data-stu-id="0fe6d-148">hello paper complements hello SAP Installation Documentation and SAP Notes which represent hello primary resources for installations and deployments of SAP software on given platforms</span></span>

## <a name="general-considerations"></a><span data-ttu-id="0fe6d-149">Общие рекомендации</span><span class="sxs-lookup"><span data-stu-id="0fe6d-149">General considerations</span></span>
<span data-ttu-id="0fe6d-150">В этой главе рассматриваются вопросы запуска связанных с SAP систем СУБД на виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-150">In this chapter, considerations of running SAP related DBMS systems in Azure VMs are introduced.</span></span> <span data-ttu-id="0fe6d-151">Существует несколько ссылок СУБД toospecific данной главы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-151">There are few references toospecific DBMS systems in this chapter.</span></span> <span data-ttu-id="0fe6d-152">Вместо hello конкретные реляционные СУБД обрабатываются в этом документе после данной главы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-152">Instead hello specific DBMS systems are handled within this paper, after this chapter.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="0fe6d-153">Определения</span><span class="sxs-lookup"><span data-stu-id="0fe6d-153">Definitions upfront</span></span>
<span data-ttu-id="0fe6d-154">В документе hello мы будем использовать hello следующими условиями:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-154">Throughout hello document we will use hello following terms:</span></span>

* <span data-ttu-id="0fe6d-155">IaaS: инфраструктура как услуга.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-155">IaaS: Infrastructure as a Service.</span></span>
* <span data-ttu-id="0fe6d-156">PaaS: платформа как услуга.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-156">PaaS: Platform as a Service.</span></span>
* <span data-ttu-id="0fe6d-157">SaaS: программное обеспечение как услуга.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-157">SaaS: Software as a Service.</span></span>
* <span data-ttu-id="0fe6d-158">Компонент SAP: отдельное приложение SAP, например ECC, BW, Solution Manager или EP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-158">SAP Component: an individual SAP application such as ECC, BW, Solution Manager or EP.</span></span>  <span data-ttu-id="0fe6d-159">Компоненты SAP могут основываться на традиционной технологии ABAP или Java или быть приложениями не на основе NetWeaver, например бизнес-объектами.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-159">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="0fe6d-160">Среда SAP: один или несколько компонентов SAP логически сгруппированы tooperform бизнес-функцию, например разработки, QAS, обучение, DR или производства.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-160">SAP Environment: one or more SAP components logically grouped tooperform a business function such as Development, QAS, Training, DR or Production.</span></span>
* <span data-ttu-id="0fe6d-161">Ландшафт SAP: Ссылается toohello все ресурсы SAP в клиента ИТ-инфраструктуре.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-161">SAP Landscape: This refers toohello entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="0fe6d-162">Hello ландшафт SAP включает все рабочие и непроизводственных средах.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-162">hello SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="0fe6d-163">Система SAP: hello сочетание уровень СУБД и уровня приложений, например SAP ERP-система разработки, тестовая система SAP BW, производственная система SAP CRM и т. д. В Azure развертывания, которые он не поддерживается toodivide этих двух уровней между локальной средой и Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-163">SAP System: hello combination of DBMS layer and application layer of e.g. an SAP ERP development system, SAP BW test system, SAP CRM production system, etc. In Azure deployments it is not supported toodivide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="0fe6d-164">Таким образом, система SAP должна быть развернута полностью в локальной среде или полностью в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-164">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="0fe6d-165">Тем не менее можно развернуть hello различных системах ландшафта SAP в Azure или локально.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-165">However, you can deploy hello different systems of an SAP landscape in Azure or on-premises.</span></span> <span data-ttu-id="0fe6d-166">Например вы развертывание hello SAP CRM разработки и тестирования системы в Azure, но hello SAP CRM рабочей системы в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-166">For example, you could deploy hello SAP CRM development and test systems in Azure but hello SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="0fe6d-167">Развертывание только в облаке: развертывания, где hello подписка Azure не подключен через сайт сайт или ExpressRoute подключения toohello локальной сетевой инфраструктуре.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-167">Cloud-Only deployment: A deployment where hello Azure subscription is not connected via a site-to-site or ExpressRoute connection toohello on-premises network infrastructure.</span></span> <span data-ttu-id="0fe6d-168">В документации Azure развертывания такого рода традиционно называются полностью облачными.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-168">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="0fe6d-169">Виртуальные машины, развернутые с помощью этого метода осуществляется через Интернет hello и общедоступные конечные точки Интернет назначены toohello ВМ в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-169">Virtual Machines deployed with this method are accessed through hello Internet and public Internet endpoints assigned toohello VMs in Azure.</span></span> <span data-ttu-id="0fe6d-170">Hello в локальной Active Directory (AD) и DNS не расширена tooAzure в этих типах развертываний.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-170">hello on-premises Active Directory (AD) and DNS is not extended tooAzure in these types of deployments.</span></span> <span data-ttu-id="0fe6d-171">Поэтому виртуальные машины hello не являются частью hello в локальной Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-171">Hence hello VMs are not part of hello on-premises Active Directory.</span></span> <span data-ttu-id="0fe6d-172">Примечание. Развертывания только в облаке в этом документе определяются как полные ландшафты SAP, которые работают исключительно в Azure. Для них службы Active Directory и служба разрешения имен не распространяются из локальной сети в общедоступное облако.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-172">Note: Cloud-Only deployments in this document are defined as complete SAP landscapes which are running exclusively in Azure without extension of Active Directory or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="0fe6d-173">Только для облака конфигурации не поддерживаются для производственных систем SAP или где SAP STMS или других локальных ресурсов должны toobe обмена данными между систем SAP, размещенных в Azure и ресурсам, расположенным в локальной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-173">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need toobe used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
* <span data-ttu-id="0fe6d-174">Между организациями: Описан сценарий, где виртуальные машины, развернутой tooan подписке Azure с сайт сайт, несколькими сайтами или подключение ExpressRoute между центрами обработки данных в локальной среде hello и Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-174">Cross-Premises: Describes a scenario where VMs are deployed tooan Azure subscription that has site-to-site, multi-site or ExpressRoute connectivity between hello on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="0fe6d-175">В документации Azure развертывания такого рода также называются распределенными развертываниями.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-175">In common Azure documentation, these kinds of deployments are also described as Cross-Premises scenarios.</span></span> <span data-ttu-id="0fe6d-176">Причиной Hello hello соединения является локальным доменам tooextend локальной Active Directory и локальную DNS в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-176">hello reason for hello connection is tooextend on-premises domains, on-premises Active Directory and on-premises DNS into Azure.</span></span> <span data-ttu-id="0fe6d-177">Hello локальной альбомная — расширенные toohello активов Azure hello подписки.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-177">hello on-premises landscape is extended toohello Azure assets of hello subscription.</span></span> <span data-ttu-id="0fe6d-178">При таком расширении hello виртуальных машин может быть частью локального домена hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-178">Having this extension, hello VMs can be part of hello on-premises domain.</span></span> <span data-ttu-id="0fe6d-179">Пользователи домена hello локального домена имеют доступ к серверам hello и могут запускать службы на их виртуальных машин (как службы СУБД).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-179">Domain users of hello on-premises domain can access hello servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="0fe6d-180">Возможно взаимодействие и разрешение имен между виртуальными машинами, развернутыми в локальной сети и Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-180">Communication and name resolution between VMs deployed on-premises and VMs deployed in Azure is possible.</span></span> <span data-ttu-id="0fe6d-181">Ожидается, что это toobe hello наиболее типичный сценарий развертывания ресурсов SAP в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-181">We expect this toobe hello most common scenario for deploying SAP assets on Azure.</span></span> <span data-ttu-id="0fe6d-182">Дополнительные сведения см. в [этой][vpn-gateway-cross-premises-options] и [этой][vpn-gateway-site-to-site-create] статьях.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-182">See [this][vpn-gateway-cross-premises-options] article and [this][vpn-gateway-site-to-site-create] for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="0fe6d-183">Для производственных систем SAP поддерживаются распределенные развертывания систем SAP, в которых системы SAP выполняются на виртуальных машинах Azure, являющихся членами локального домена.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-183">Cross-Premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="0fe6d-184">Распределенная конфигурация предполагает развертывание в Azure полного ландшафта SAP или его частей.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-184">Cross-Premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="0fe6d-185">Даже выполнение hello завершения ландшафт SAP в Azure, необходимо иметь этих виртуальных машин, не входит в состав домена в локальной среде и РЕКЛАМЫ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-185">Even running hello complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS.</span></span> <span data-ttu-id="0fe6d-186">Прежние версии документации hello мы говорили о сценариях гибридной ИТ-корневым hello термин «Гибридный» hello факт, что между сетями, между локальными и Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-186">In former versions of hello documentation we talked about Hybrid-IT scenarios, where hello term ‘Hybrid’ is rooted in hello fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="0fe6d-187">В данном случае «Гибридный» также означает, что hello ВМ в Azure, являются частью hello локальной Active Directory.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-187">In this case ‘Hybrid’ also means that hello VMs in Azure are part of hello on-premises Active Directory.</span></span>
>
>

<span data-ttu-id="0fe6d-188">В некоторой документации Майкрософт сценарии распределенного подключения описываются иначе. В частности, это касается высокодоступных конфигураций СУБД.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-188">Some Microsoft documentation describes Cross-Premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="0fe6d-189">В hello регистр hello SAP связанных документов, сценарий hello между организациями просто сводится toohaving сайт сайт или private (ExpressRoute) подключения и toohello факт что hello ландшафт SAP распределяется между локальной средой и Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-189">In hello case of hello SAP related documents, hello Cross-Premises scenario just boils down toohaving a site-to-site or private (ExpressRoute) connectivity and toohello fact that hello SAP landscape is distributed between on-premises and Azure.</span></span>

### <a name="resources"></a><span data-ttu-id="0fe6d-190">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="0fe6d-190">Resources</span></span>
<span data-ttu-id="0fe6d-191">Hello следующих руководствах доступны для раздела hello развертываний SAP в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-191">hello following guides are available for hello topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="0fe6d-192">[SAP NetWeaver на виртуальных машинах Windows. Руководство по планированию и внедрению][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-192">[SAP NetWeaver on Azure Virtual Machines (VMs) – Planning and Implementation Guide][planning-guide]</span></span>
* <span data-ttu-id="0fe6d-193">[SAP NetWeaver на виртуальных машинах Windows. Руководство по развертыванию][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-193">[SAP NetWeaver on Azure Virtual Machines (VMs) – Deployment Guide][deployment-guide]</span></span>
* <span data-ttu-id="0fe6d-194">[SAP NetWeaver на виртуальных машинах Azure. Руководство по развертыванию СУБД][dbms-guide] (этот документ)</span><span class="sxs-lookup"><span data-stu-id="0fe6d-194">[SAP NetWeaver on Azure Virtual Machines (VMs) – DBMS Deployment Guide (this document)][dbms-guide]</span></span>
* <span data-ttu-id="0fe6d-195">[SAP NetWeaver на виртуальных машинах Azure. Руководство по развертыванию и обеспечению высокого уровня доступности][ha-guide]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-195">[SAP NetWeaver on Azure Virtual Machines (VMs) – High Availability Deployment Guide][ha-guide]</span></span>

<span data-ttu-id="0fe6d-196">следующие примечания по SAP Hello приведены связанные toohello тема SAP в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-196">hello following SAP Notes are related toohello topic of SAP on Azure:</span></span>

| <span data-ttu-id="0fe6d-197">Номер примечания</span><span class="sxs-lookup"><span data-stu-id="0fe6d-197">Note number</span></span> | <span data-ttu-id="0fe6d-198">Название</span><span class="sxs-lookup"><span data-stu-id="0fe6d-198">Title</span></span> |
| --- | --- |
| <span data-ttu-id="0fe6d-199">[1928533]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-199">[1928533]</span></span> |<span data-ttu-id="0fe6d-200">Приложения SAP в Azure: поддерживаемые продукты и типы виртуальных машин Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-200">SAP Applications on Azure: Supported Products and Azure VM types</span></span> |
| <span data-ttu-id="0fe6d-201">[2015553]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-201">[2015553]</span></span> |<span data-ttu-id="0fe6d-202">SAP в Microsoft Azure: требования</span><span class="sxs-lookup"><span data-stu-id="0fe6d-202">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="0fe6d-203">[1999351]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-203">[1999351]</span></span> |<span data-ttu-id="0fe6d-204">Устранение неполадок, связанных с расширенным мониторингом Azure для SAP</span><span class="sxs-lookup"><span data-stu-id="0fe6d-204">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="0fe6d-205">[2178632]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-205">[2178632]</span></span> |<span data-ttu-id="0fe6d-206">Ключевые метрики мониторинга для SAP в Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-206">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="0fe6d-207">[1409604]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-207">[1409604]</span></span> |<span data-ttu-id="0fe6d-208">Виртуализация в Windows: расширенный мониторинг</span><span class="sxs-lookup"><span data-stu-id="0fe6d-208">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="0fe6d-209">[2191498]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-209">[2191498]</span></span> |<span data-ttu-id="0fe6d-210">SAP на платформе Linux в Azure: расширенный мониторинг</span><span class="sxs-lookup"><span data-stu-id="0fe6d-210">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="0fe6d-211">[2039619]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-211">[2039619]</span></span> |<span data-ttu-id="0fe6d-212">Здравствуйте, приложения SAP в Microsoft Azure с использованием базы данных Oracle: поддерживаемые продукты и версии</span><span class="sxs-lookup"><span data-stu-id="0fe6d-212">SAP Applications on Microsoft Azure using hello Oracle Database: Supported Products and Versions</span></span> |
| <span data-ttu-id="0fe6d-213">[2233094]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-213">[2233094]</span></span> |<span data-ttu-id="0fe6d-214">DB6: приложения SAP в Azure с использованием IBM DB2 для Linux, UNIX и Windows — дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="0fe6d-214">DB6: SAP Applications on Azure Using IBM DB2 for Linux, UNIX, and Windows - Additional Information</span></span> |
| <span data-ttu-id="0fe6d-215">[2243692]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-215">[2243692]</span></span> |<span data-ttu-id="0fe6d-216">Linux на виртуальной машине Microsoft Azure (IaaS): проблемы с лицензированием SAP</span><span class="sxs-lookup"><span data-stu-id="0fe6d-216">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="0fe6d-217">[1984787]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-217">[1984787]</span></span> |<span data-ttu-id="0fe6d-218">SUSE LINUX Enterprise Server 12: примечания к установке</span><span class="sxs-lookup"><span data-stu-id="0fe6d-218">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="0fe6d-219">[2002167]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-219">[2002167]</span></span> |<span data-ttu-id="0fe6d-220">Red Hat Enterprise Linux 7.x: установка и обновление</span><span class="sxs-lookup"><span data-stu-id="0fe6d-220">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |

<span data-ttu-id="0fe6d-221">Также ознакомьтесь с hello [SCN вики-сайте](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) , содержащий все примечания SAP для Linux.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-221">Please also read hello [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="0fe6d-222">Должен иметь практические знания о hello архитектура Microsoft Azure и как развертываемых и эксплуатируемых виртуальных машинах Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-222">You should have a working knowledge about hello Microsoft Azure Architecture and how Microsoft Azure Virtual Machines are deployed and operated.</span></span> <span data-ttu-id="0fe6d-223">Дополнительные сведения см. по адресу <https://azure.microsoft.com/documentation/>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-223">You can find more information here <https://azure.microsoft.com/documentation/></span></span>

> [!NOTE]
> <span data-ttu-id="0fe6d-224">Мы **не** обсуждения платформа как услуга (PaaS) возможности hello платформе Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-224">We are **not** discussing Microsoft Azure Platform as a Service (PaaS) offerings of hello Microsoft Azure Platform.</span></span> <span data-ttu-id="0fe6d-225">Этот документ посвящен под управлением системы управления базой данных (СУБД) в виртуальных машинах Microsoft Azure (IaaS), так же, как будет выполняться hello СУБД в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-225">This paper is about running a database management system (DBMS) in Microsoft Azure Virtual Machines (IaaS) just as you would run hello DBMS in your on-premises environment.</span></span> <span data-ttu-id="0fe6d-226">Возможности и функции базы данных в этих двух предложениях существенно отличаются, и их не следует путать друг с другом.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-226">Database capabilities and functionalities between these two offers are very different and should not be mixed up with each other.</span></span> <span data-ttu-id="0fe6d-227">См. также: <https://azure.microsoft.com/services/sql-database/>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-227">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
>
>

<span data-ttu-id="0fe6d-228">Поскольку мы обсуждаем IaaS, в общем hello Windows, Linux и СУБД установки и конфигурации по существу hello такой же, как любой виртуальной машине или исходного состояния системы исходного компьютера устанавливается в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-228">Since we are discussing IaaS, in general hello Windows, Linux and DBMS installation and configuration are essentially hello same as any virtual machine or bare metal machine you would install on-premises.</span></span> <span data-ttu-id="0fe6d-229">Но некоторые решения в плане архитектуры и реализации управления системой все же отличаются при использовании IaaS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-229">However, there are some architecture and system management implementation decisions which will be different when utilizing IaaS.</span></span> <span data-ttu-id="0fe6d-230">Hello цель данного документа — tooexplain hello архитектуры и системы управления различия, вы должны быть готовы при использовании IaaS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-230">hello purpose of this document is tooexplain hello specific architectural and system management differences that you must be prepared for when using IaaS.</span></span>

<span data-ttu-id="0fe6d-231">В общем случае hello области различий, которые будут рассматриваться являются:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-231">In general, hello overall areas of difference that this paper will discuss are:</span></span>

* <span data-ttu-id="0fe6d-232">Планирование hello правильную ВМ/VHD макет tooensure систем SAP имеется hello правильную структуру файлов данных и можно добиться достаточное количество операций ввода-ВЫВОДА для рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-232">Planning hello proper VM/VHD layout of SAP systems tooensure you have hello proper data file layout and can achieve enough IOPS for your workload.</span></span>
* <span data-ttu-id="0fe6d-233">Сетевые аспекты при использовании IaaS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-233">Networking considerations when using IaaS.</span></span>
* <span data-ttu-id="0fe6d-234">Toouse возможности конкретной базы данных в формат базы данных hello toooptimize заказа.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-234">Specific database features toouse in order toooptimize hello database layout.</span></span>
* <span data-ttu-id="0fe6d-235">Вопросы резервного копирования и восстановления в IaaS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-235">Backup and restore considerations in IaaS.</span></span>
* <span data-ttu-id="0fe6d-236">Использование разных типов образов для развертывания.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-236">Utilizing different types of images for deployment.</span></span>
* <span data-ttu-id="0fe6d-237">Высокий уровень доступности в Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-237">High Availability in Azure IaaS.</span></span>

## <span data-ttu-id="0fe6d-238"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Структура развертывания реляционной СУБД</span><span class="sxs-lookup"><span data-stu-id="0fe6d-238"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Structure of a RDBMS Deployment</span></span>
<span data-ttu-id="0fe6d-239">В порядке, следуйте данной главы, что необходимые toounderstand то, что был предоставлен в [это] [ deployment-guide-3] главе hello [руководство по развертыванию][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-239">In order follow this chapter, it is necessary toounderstand what was presented in [this][deployment-guide-3] chapter of hello [Deployment Guide][deployment-guide].</span></span> <span data-ttu-id="0fe6d-240">Знания о hello различных Серия виртуальных Машин и их различия различия Azure Standard и Premium хранилища должны быть понятны и известные перед изучением данной главы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-240">Knowledge about hello different VM-Series and their differences and differences of Azure Standard and Premium Storage should be understood and known before reading this chapter.</span></span>

<span data-ttu-id="0fe6d-241">До марта 2015 г. Azure VHD, содержащих операционной системы были ограниченный too127 ГБ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-241">Until March 2015, Azure VHDs which contain an operating system were limited too127 GB in size.</span></span> <span data-ttu-id="0fe6d-242">Это ограничение было снято в марте 2015 года (дополнительные сведения см. по ссылке <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/>).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-242">This limitation got lifted in March 2015 (for more information check <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/> ).</span></span> <span data-ttu-id="0fe6d-243">Оттуда для виртуальных жестких дисков содержащей hello операционной системы может иметь hello одинакового размера, как любой другой виртуальный жесткий ДИСК.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-243">From there on VHDs containing hello operating system can have hello same size as any other VHD.</span></span> <span data-ttu-id="0fe6d-244">Тем не менее мы все-таки структуру развертывания, где hello операционной системы и окончательной двоичные файлы SAP и СУБД отделены от hello файлы базы данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-244">Nevertheless, we still prefer a structure of deployment where hello operating system, DBMS and eventual SAP binaries are separate from hello database files.</span></span> <span data-ttu-id="0fe6d-245">Таким образом предполагается, что системы SAP, работающие на виртуальных машинах Azure будут иметь hello базовой виртуальной Машины (или VHD), установленные с операционной системой hello, базы данных исполняемые файлы системы управления и исполняемые файлы SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-245">Therefore, we expect SAP systems running in Azure Virtual Machines will have hello base VM (or VHD) installed with hello operating system, database management system executables and SAP executables.</span></span> <span data-ttu-id="0fe6d-246">Hello СУБД данных и файлы журнала будут храниться в хранилище Azure (Standard или Premium хранилища) в отдельные файлы виртуального жесткого диска и подключен как логические диски toohello исходного Azure ВМ образа операционной системы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-246">hello DBMS data and log files will be stored in Azure Storage (Standard or Premium Storage) in separate VHD files and attached as logical disks toohello original Azure operating system image VM.</span></span>

<span data-ttu-id="0fe6d-247">В зависимости от использования Azure Standard или Premium хранилища (например, с помощью hello серии DS или виртуальные машины серии GS) существует являются другие квоты в Azure, которые описаны [здесь][virtual-machines-sizes].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-247">Dependent on leveraging Azure Standard or Premium Storage (e.g. by using hello DS-series or GS-series VMs) there are other quotas in Azure which are documented [here][virtual-machines-sizes].</span></span> <span data-ttu-id="0fe6d-248">При планировании виртуальные жесткие диски Azure, вам потребуется toofind hello оптимальный баланс между hello квоты для hello следующее:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-248">When planning your Azure VHDs, you’ll need toofind hello best balance of hello quotas for hello following:</span></span>

* <span data-ttu-id="0fe6d-249">число файлов данных Hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-249">hello number of data files.</span></span>
* <span data-ttu-id="0fe6d-250">Количество VHD, содержащих файлы hello Hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-250">hello number of VHDs which contain hello files.</span></span>
* <span data-ttu-id="0fe6d-251">Hello в секунду для одного VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-251">hello IOPS quotas of a single VHD.</span></span>
* <span data-ttu-id="0fe6d-252">пропускная способность Hello каждого виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-252">hello data throughput per VHD.</span></span>
* <span data-ttu-id="0fe6d-253">Hello количество дополнительных виртуальных жестких дисков можно на размер виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-253">hello number of additional VHDs possible per VM size.</span></span>
* <span data-ttu-id="0fe6d-254">Hello общей пропускной способности хранилища виртуальной Машины можно указать.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-254">hello overall storage throughput a VM can provide.</span></span>

<span data-ttu-id="0fe6d-255">Azure будет обеспечивать квоту на количество операций ввода-вывода для каждого виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-255">Azure will enforce an IOPS quota per VHD drive.</span></span> <span data-ttu-id="0fe6d-256">Эти квоты различаются для виртуальных жестких дисков, размещенных в службе хранилища Azure классов Standard и Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-256">These quotas are different for VHDs hosted on Azure Standard Storage and Premium Storage.</span></span> <span data-ttu-id="0fe6d-257">Также будет сильно отличается между двумя типами хранилища hello с доставки факторов лучше задержки ввода-вывода хранилища Premium задержки ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-257">I/O latencies will also be very different between hello two storage types with Premium Storage delivering factors better I/O latencies.</span></span> <span data-ttu-id="0fe6d-258">Каждый из типов ВМ hello имеют ограниченное число виртуальных жестких дисков, которые могут tooattach.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-258">Each of hello different VM types have a limited number of VHDs that you are able tooattach.</span></span> <span data-ttu-id="0fe6d-259">Другое ограничение состоит в том, что только некоторые типы виртуальных машин могут использовать службу хранилища Azure класса Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-259">Another restriction is that only certain VM types can leverage Azure Premium Storage.</span></span> <span data-ttu-id="0fe6d-260">Это означает, что решение hello для определенного типа виртуальной Машины может не только управляться hello ЦП и требования к памяти, но также hello операций ввода-ВЫВОДА, задержки и диск пропускной способности, обычно масштабируются с hello количеством виртуальных жестких дисков или hello тип дисках хранилища Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-260">This means hello decision for a certain VM type might not only be driven by hello CPU and memory requirements, but also by hello IOPS, latency and disk throughput requirements that usually are scaled with hello number of VHDs or hello type of Premium Storage disks.</span></span> <span data-ttu-id="0fe6d-261">Особенно в хранилище Premium hello размер виртуального жесткого диска также может определяться hello число операций ввода-ВЫВОДА и пропускной способности, который должен toobe достигается путем каждый виртуальный жесткий ДИСК.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-261">Especially with Premium Storage hello size of a VHD also might be dictated by hello number of IOPS and throughput that needs toobe achieved by each VHD.</span></span>

<span data-ttu-id="0fe6d-262">Hello факт hello общую скорость операций ввода-ВЫВОДА, hello число VHD, подключен и размер ВМ взаимосвязаны, hello hello может привести к Azure конфигурации отличается от его локальное развертывание toobe системы SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-262">hello fact that hello overall IOPS rate, hello number of VHDs mounted, and hello size of hello VM are all tied together, might cause an Azure configuration of an SAP system toobe different than its on-premises deployment.</span></span> <span data-ttu-id="0fe6d-263">ограничения Hello операций ввода-ВЫВОДА на каждый LUN обычно настраиваются в локальном развертывании.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-263">hello IOPS limits per LUN are usually configurable in on-premises deployments.</span></span> <span data-ttu-id="0fe6d-264">Тогда как со службой хранилища Azure эти пределы являются фиксированного или как в хранилище Premium в зависимости от типа диска hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-264">Whereas with Azure Storage those limits are fixed or as in Premium Storage dependent on hello disk type.</span></span> <span data-ttu-id="0fe6d-265">Поэтому с локальных развертываний можно видеть пользовательские конфигурации серверов баз данных, в которых используется много разных томов для определенных исполняемых файлов, таких как SAP и hello СУБД, или предусмотрены отдельные томa для временных баз данных или табличных пространств.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-265">So with on-premises deployments we see customer configurations of database servers which are using many different volumes for special executables like SAP and hello DBMS or special volumes for temporary databases or table spaces.</span></span> <span data-ttu-id="0fe6d-266">При такой системы в локальной среде перемещенный tooAzure его может привести tooa трата потенциальных пропускная способность операций ввода-ВЫВОДА на VHD для исполняемых файлов или баз данных, которые не выполняют все или не много операций ввода-ВЫВОДА.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-266">When such an on-premises system is moved tooAzure it might lead tooa waste of potential IOPS bandwidth by wasting a VHD for executables or databases which do not perform any or not a lot of IOPS.</span></span> <span data-ttu-id="0fe6d-267">Таким образом в виртуальных машинах Azure рекомендуется по возможности установить на диске hello ОС, исполняемые файлы hello СУБД и SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-267">Therefore, in Azure VMs we recommend that hello DBMS and SAP executables be installed on hello OS disk if possible.</span></span>

<span data-ttu-id="0fe6d-268">Hello размещения hello файлы базы данных и файлов журнала и hello тип хранилища Azure используется, должен быть определен путем IOPS, задержки и пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-268">hello placement of hello database files and log files and hello type of Azure Storage used, should be defined by IOPS, latency and throughput requirements.</span></span> <span data-ttu-id="0fe6d-269">В порядке toohave достаточное количество операций ввода-ВЫВОДА для журнала транзакций hello, может быть принудительного tooleverage несколько виртуальных жестких дисков для журнала транзакций hello файлу или используйте диск на больший хранилище Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-269">In order toohave enough IOPS for hello transaction log, you might be forced tooleverage multiple VHDs for hello transaction log file or use a larger Premium Storage disk.</span></span> <span data-ttu-id="0fe6d-270">В этом случае, можно просто построить программного обеспечения RAID (например, хранилище пула для Windows или MDADM и LVM (диспетчер логических томов) для Linux) с hello VHD, содержащих журнал транзакций hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-270">In such a case one would simply build a software RAID (e.g. Windows Storage Pool for Windows or MDADM and LVM (Logical Volume Manager) for Linux) with hello VHDs which will contain hello transaction log.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0fe6d-272">Windows</span><span class="sxs-lookup"><span data-stu-id="0fe6d-272">Windows</span></span>
>
> <span data-ttu-id="0fe6d-273">Диск D:\ на виртуальной Машине Azure — несохраняемый диск, который реализуется некоторые локальные диски на узле hello вычислений Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-273">Drive D:\ in an Azure VM is a non-persisted drive which is backed by some local disks on hello Azure compute node.</span></span> <span data-ttu-id="0fe6d-274">Так как он является несохраняемым, это означает, любое содержимое toohello изменения, внесенные на диск D:\ hello потеряны при перезагрузке hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-274">Because it is non-persisted, this means that any changes made toohello content on hello D:\ drive is lost when hello VM is rebooted.</span></span> <span data-ttu-id="0fe6d-275">Под любыми изменениями подразумевается сохранение файлов, создание каталогов, установка приложений и т. д.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-275">By "any changes", we mean saved files, directories created, applications installed, etc.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0fe6d-277">Linux</span><span class="sxs-lookup"><span data-stu-id="0fe6d-277">Linux</span></span>
>
> <span data-ttu-id="0fe6d-278">Виртуальные машины Linux Azure автоматически подключить диск в/mnt/Resource это несохраняемый диск, поддерживаемый локальные диски на узле hello вычислений Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-278">Linux Azure VMs automatically mount a drive at /mnt/resource which is a non-persisted drive backed by local disks on hello Azure compute node.</span></span> <span data-ttu-id="0fe6d-279">Так как он является несохраняемым, это означает, что toocontent любые изменения, внесенные в/mnt/Resource теряются при перезагрузке hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-279">Because it is non-persisted, this means that any changes made toocontent in /mnt/resource is lost when hello VM is rebooted.</span></span> <span data-ttu-id="0fe6d-280">Под любыми изменениями подразумевается сохранение файлов, создание каталогов, установка приложений и т. д.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-280">By any changes, we mean files saved, directories created, applications installed, etc.</span></span>
>
>

- - -
<span data-ttu-id="0fe6d-281">Зависимость от hello Azure Серия виртуальных Машин, hello локальные диски на hello вычислений различных производительность Показать узел, что можно классифицировать как:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-281">Dependent on hello Azure VM-series, hello local disks on hello compute node show different performance which can be categorized like:</span></span>

* <span data-ttu-id="0fe6d-282">A0–A7: крайне ограниченная производительность.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-282">A0-A7: Very limited performance.</span></span> <span data-ttu-id="0fe6d-283">Используется только для файла подкачки Windows.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-283">Not usable for anything beyond windows page file</span></span>
* <span data-ttu-id="0fe6d-284">A8–A11: очень хорошая производительность на уровне 10 тыс. операций ввода-вывода в секунду и более 1 ГБ/с пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-284">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="0fe6d-285">Серия D: очень хорошая производительность на уровне 10 тыс. операций ввода-вывода в секунду и более 1 ГБ/с пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-285">D-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="0fe6d-286">Серия DS: очень хорошая производительность на уровне 10 тыс. операций ввода-вывода в секунду и более 1 ГБ/с пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-286">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="0fe6d-287">Серия G: очень хорошая производительность на уровне 10 тыс. операций ввода-вывода в секунду и более 1 ГБ/с пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-287">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="0fe6d-288">Серия GS: очень хорошая производительность на уровне 10 тыс. операций ввода-вывода в секунду и более 1 ГБ/с пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-288">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>

<span data-ttu-id="0fe6d-289">Выше инструкции применяются toohello типов ВМ, сертифицированные с SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-289">Statements above are applying toohello VM types that are certified with SAP.</span></span> <span data-ttu-id="0fe6d-290">Hello Серия виртуальных Машин с отличным операций ввода-ВЫВОДА и пропускной способности подлежат использование, некоторые функции СУБД, такие как базы данных tempdb или пространства временной таблицы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-290">hello VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features, like tempdb or temporary table space.</span></span>

### <span data-ttu-id="0fe6d-291"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Кэширование для виртуальных машин и виртуальных жестких дисков</span><span class="sxs-lookup"><span data-stu-id="0fe6d-291"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Caching for VMs and VHDs</span></span>
<span data-ttu-id="0fe6d-292">При создании дисков и VHD через портал hello или при подключении tooVMs отправленного VHD, мы можно выбрать, будут ли кэшироваться трафик hello ввода-вывода между hello ВМ и этими VHD, размещенными в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-292">When we create those disks/VHDs through hello portal or when we mount uploaded VHDs tooVMs, we can choose whether hello I/O traffic between hello VM and those VHDs located in Azure storage are cached.</span></span> <span data-ttu-id="0fe6d-293">В службе хранилища Azure классов Standard и Premium для этого типа кэша используются две разные технологии.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-293">Azure Standard and Premium Storage use two different technologies for this type of cache.</span></span> <span data-ttu-id="0fe6d-294">В обоих случаях hello кэша сам бы диска поддерживаться на hello же дисков hello временный диск (D:\ в Windows) или/mnt/Resource в Linux hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-294">In both cases hello cache itself would be disk backed on hello same drives used by hello temporary disk (D:\ on Windows or /mnt/resource on Linux) of hello VM.</span></span>

<span data-ttu-id="0fe6d-295">Для стандартных хранилища Azure: hello возможные типы кэша:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-295">For Azure Standard Storage hello possible cache types are:</span></span>

* <span data-ttu-id="0fe6d-296">Без кэширования</span><span class="sxs-lookup"><span data-stu-id="0fe6d-296">No caching</span></span>
* <span data-ttu-id="0fe6d-297">Кэширование чтения</span><span class="sxs-lookup"><span data-stu-id="0fe6d-297">Read caching</span></span>
* <span data-ttu-id="0fe6d-298">Кэширование чтения и записи</span><span class="sxs-lookup"><span data-stu-id="0fe6d-298">Read and Write caching</span></span>

<span data-ttu-id="0fe6d-299">В порядке tooget постоянную и определенную производительность, следует задать кэширование hello в стандартном хранилище Azure для всех виртуальных жестких дисков содержащий **СУБД связанные файлы данных, файлы журналов и too'NONE пространства таблиц "**.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-299">In order tooget consistent and deterministic performance, you should set hello caching on Azure Standard Storage for all VHDs containing **DBMS related data files, log files and table space too'NONE'**.</span></span> <span data-ttu-id="0fe6d-300">Hello кэширование hello ВМ можно оставить значения по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-300">hello caching of hello VM can remain with hello default.</span></span>

<span data-ttu-id="0fe6d-301">Для хранилища Azure Premium существуют следующие параметры кэширования hello:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-301">For Azure Premium Storage hello following caching options exist:</span></span>

* <span data-ttu-id="0fe6d-302">Без кэширования</span><span class="sxs-lookup"><span data-stu-id="0fe6d-302">No caching</span></span>
* <span data-ttu-id="0fe6d-303">Кэширование чтения</span><span class="sxs-lookup"><span data-stu-id="0fe6d-303">Read caching</span></span>

<span data-ttu-id="0fe6d-304">Рекомендуется для хранилища Azure Premium tooleverage **кэширование для файлов данных чтения** базы данных SAP hello и выбрал **отсутствие кэширования hello VHD(s) файлов журнала**.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-304">Recommendation for Azure Premium Storage is tooleverage **Read caching for data files** of hello SAP database and chose **No caching for hello VHD(s) of log file(s)**.</span></span>

### <span data-ttu-id="0fe6d-305"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Программный RAID-массив</span><span class="sxs-lookup"><span data-stu-id="0fe6d-305"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Software RAID</span></span>
<span data-ttu-id="0fe6d-306">Как уже говорилось выше необходимо будет toobalance hello число операций ввода-ВЫВОДА, требуемое для файлов базы данных hello между числом hello виртуальные жесткие диски, можно настроить и hello Максимума ВМ Azure предоставляет каждого виртуального жесткого диска или хранилище Premium диска типа.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-306">As already stated above, you will need toobalance hello number of IOPS needed for hello database files across hello number of VHDs you can configure and hello maximum IOPS an Azure VM will provide per VHD or Premium Storage disk type.</span></span> <span data-ttu-id="0fe6d-307">Простым способом toodeal с приветствия нагрузки операций ввода-ВЫВОДА на VHD toobuild программного RAID, на котором находится hello разным VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-307">Easiest way toodeal with hello IOPS load over VHDs is toobuild a software RAID over hello different VHDs.</span></span> <span data-ttu-id="0fe6d-308">Число файлов данных СУБД SAP hello поместите на приветствия номера LUN вырезано из hello программного RAID.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-308">Then place a number of data files of hello SAP DBMS on hello LUNS carved out of hello software RAID.</span></span> <span data-ttu-id="0fe6d-309">Зависит от требований hello tooconsider hello об использовании хранилища Premium также может потребоваться после двух hello три разных дисках хранилища Premium обеспечивают выше квоты операций ввода-ВЫВОДА, чем виртуальные жесткие диски на основе стандартных хранилища.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-309">Dependent on hello requirements you might want tooconsider hello usage of Premium Storage as well since two of hello three different Premium Storage disks provide higher IOPS quota than VHDs based on Standard Storage.</span></span> <span data-ttu-id="0fe6d-310">Помимо hello значительно лучше задержки ввода-вывода, предоставляемые хранилища Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-310">Besides hello significant better I/O latency provided by Azure Premium Storage.</span></span>

<span data-ttu-id="0fe6d-311">Тоже относится toohello журнала транзакций из различных систем реляционных СУБД hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-311">Same applies toohello transaction log of hello different DBMS systems.</span></span> <span data-ttu-id="0fe6d-312">С большим количеством их только добавлять дополнительные файлы журнала отслеживания не помогает, так как hello СУБД запись в один из файлов hello только во время.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-312">With a lot of them just adding more Tlog files does not help since hello DBMS systems write into one of hello files at a time only.</span></span> <span data-ttu-id="0fe6d-313">Если требуются высокоскоростных операций ввода-ВЫВОДА, чем одно стандартное хранилище на основании виртуального жесткого диска можно доставлять, вы можете создать чередующийся через несколько стандартных виртуальных жестких дисков хранилища, или можно использовать тип диск большего размера хранилища Premium, помимо высокоскоростных операций ввода-ВЫВОДА также обеспечивает более низкой задержке факторы для записи hello я / ОС в журнал транзакций hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-313">If higher IOPS rates are needed than a single Standard Storage based VHD can deliver, you can stripe over multiple Standard Storage VHDs or you can use a larger Premium Storage disk type that beyond higher IOPS rates also delivers factors lower latency for hello write I/Os into hello transaction log.</span></span>

<span data-ttu-id="0fe6d-314">При развертывании Azure программный RAID-массив предпочтительно использовать в следующих ситуациях:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-314">Situations experienced in Azure deployments which would favor using a software RAID are:</span></span>

* <span data-ttu-id="0fe6d-315">Журнал транзакций или журнал повтора операций требует больше операций ввода-вывода, чем обеспечивает Azure для одного виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-315">Transaction Log/Redo Log require more IOPS than Azure provides for a single VHD.</span></span> <span data-ttu-id="0fe6d-316">Как упоминалось выше, это можно решить, создав LUN для нескольких виртуальных жестких дисков с помощью программного RAID-массива.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-316">As mentioned above this can be solved by building a LUN over multiple VHDs using a software RAID.</span></span>
* <span data-ttu-id="0fe6d-317">Неравномерное ввода-вывода распределения рабочей нагрузки по hello разным файлам данных базы данных SAP hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-317">Uneven I/O workload distribution over hello different data files of hello SAP database.</span></span> <span data-ttu-id="0fe6d-318">В таких случаях один могут возникать попадание квоты hello довольно часто один файл данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-318">In such cases one can experience one data file hitting hello quota rather often.</span></span> <span data-ttu-id="0fe6d-319">В то время как другие файлы данных еще не получают закрыть toohello квоты операций ввода-ВЫВОДА для одного VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-319">Whereas other data files are not even getting close toohello IOPS quota of a single VHD.</span></span> <span data-ttu-id="0fe6d-320">В таких случаях hello простым решением является toobuild один LUN по нескольким VHD с помощью программного обеспечения RAID.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-320">In such cases hello easiest solution is toobuild one LUN over multiple VHDs using a software RAID.</span></span>
* <span data-ttu-id="0fe6d-321">Вы не знаете, какие hello точное ввода-вывода рабочей нагрузки на файл данных — и только примерно знать, что hello общую рабочую нагрузку операций ввода-ВЫВОДА для hello СУБД в дополнительной —.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-321">You don’t know what hello exact I/O workload per data file is and only roughly know what hello overall IOPS workload against hello DBMS is.</span></span> <span data-ttu-id="0fe6d-322">Простой toodo — toobuild один LUN с hello Справка по RAID.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-322">Easiest toodo is toobuild one LUN with hello help of a software RAID.</span></span> <span data-ttu-id="0fe6d-323">Сумма Hello квот несколько виртуальных жестких дисков за это устройство LUN затем необходимо выполнить hello известные IOPS скорость.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-323">hello sum of quotas of multiple VHDs behind this LUN should then fulfill hello known IOPS rate.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="0fe6d-325">Windows</span><span class="sxs-lookup"><span data-stu-id="0fe6d-325">Windows</span></span>
>
> <span data-ttu-id="0fe6d-326">Использование дисковых пространств под управлением Windows Server 2012 и выше предпочтительнее, так как это более эффективно, чем функция Windows Striping из более ранних версий Windows.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-326">Usage of Windows Server 2012 or higher Storage Spaces is preferable since it is more efficient than Windows Striping of earlier Windows versions.</span></span> <span data-ttu-id="0fe6d-327">Имейте в виду, что может потребоваться toocreate приветствия Windows пулы носителей и дисковые пространства с помощью команд PowerShell при использовании в качестве операционной системы Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-327">Please be aware that you might need toocreate hello Windows Storage Pools and Storage Spaces by PowerShell commands when using Windows Server 2012 as Operating System.</span></span> <span data-ttu-id="0fe6d-328">Здесь можно найти команды PowerShell Hello <https://technet.microsoft.com/library/jj851254.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-328">hello PowerShell commands can be found here <https://technet.microsoft.com/library/jj851254.aspx></span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="0fe6d-330">Linux</span><span class="sxs-lookup"><span data-stu-id="0fe6d-330">Linux</span></span>
>
> <span data-ttu-id="0fe6d-331">Только MDADM и LVM (диспетчер логических томов), поддерживаемых toobuild программного RAID на платформе Linux.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-331">Only MDADM and LVM (Logical Volume Manager) are supported toobuild a software RAID on Linux.</span></span> <span data-ttu-id="0fe6d-332">Дополнительные сведения см. в статье hello в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-332">For more information, read hello following articles:</span></span>
>
> * <span data-ttu-id="0fe6d-333">[Настройка программного RAID-массива в Linux][virtual-machines-linux-configure-raid] (для MDADM)</span><span class="sxs-lookup"><span data-stu-id="0fe6d-333">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid] (for MDADM)</span></span>
> * <span data-ttu-id="0fe6d-334">[Настройка диспетчера логических томов на виртуальной машине Linux в Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-334">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
>
>

- - -
<span data-ttu-id="0fe6d-335">Ниже приведены рекомендации по использованию виртуальных Машин ряд, который, как правило, может toowork со службой хранилища Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-335">Considerations for leveraging VM-series which are able toowork with Azure Premium Storage usually are:</span></span>

* <span data-ttu-id="0fe6d-336">Требования для задержки ввода-вывода, закройте доставки устройства SAN и NAS toowhat.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-336">Demands for I/O latencies that are close toowhat SAN/NAS devices deliver.</span></span>
* <span data-ttu-id="0fe6d-337">Потребность в улучшенной задержке при операциях ввода-вывода, чем обеспечивает служба хранилища Azure класса Standard.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-337">Demand for factors better I/O latency than Azure Standard Storage can deliver.</span></span>
* <span data-ttu-id="0fe6d-338">Больше операций ввода-вывода на виртуальную машину, чем можно достичь с помощью нескольких виртуальных жестких дисков хранилища класса Standard в отношении определенного типа виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-338">Higher IOPS per VM than what could be achieved with multiple Standard Storage VHDs against a certain VM type.</span></span>

<span data-ttu-id="0fe6d-339">С момента hello базовое хранилище Azure реплицирует узлов хранения tooat как минимум трех каждого виртуального жесткого диска, простой массив RAID 0, можно использовать чередование.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-339">Since hello underlying Azure Storage replicates each VHD tooat least three storage nodes, simple RAID 0 striping can be used.</span></span> <span data-ttu-id="0fe6d-340">Нет необходимости tooimplement RAID5 или RAID1 не существует.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-340">There is no need tooimplement RAID5 or RAID1.</span></span>

### <span data-ttu-id="0fe6d-341"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Служба хранилища Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-341"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span></span>
<span data-ttu-id="0fe6d-342">Microsoft, которые будут храниться в хранилище Azure hello базовой ВМ (с ОС) и виртуальных жестких дисков или большие двоичные объекты tooat как минимум 3 отдельных узла хранилища.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-342">Microsoft Azure Storage will store hello base VM (with OS) and VHDs or BLOBs tooat least 3 separate storage nodes.</span></span> <span data-ttu-id="0fe6d-343">При создании учетной записи хранения можно выбрать уровень защиты, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-343">When creating a storage account, there is a choice of protection as shown here:</span></span>

![Георепликация включена для учетной записи хранения Azure][dbms-guide-figure-100]

<span data-ttu-id="0fe6d-345">Azure Локальная репликация службы хранилища (локальное избыточное) предоставляет уровни защиты от потери данных из-за сбоя tooinfrastructure некоторые пользователи могут позволить себе toodeploy.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-345">Azure Storage Local Replication (Locally Redundant) provides levels of protection against data loss due tooinfrastructure failure that few customers could afford toodeploy.</span></span> <span data-ttu-id="0fe6d-346">Как показано выше, что нет 4 различные варианты с пятый выполняется вариантом hello первые три.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-346">As shown above there are 4 different options with a fifth being a variation of one of hello first three.</span></span> <span data-ttu-id="0fe6d-347">Различия состоят в следующем:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-347">Looking closer at them we can distinguish:</span></span>

* <span data-ttu-id="0fe6d-348">**Локально избыточное хранилище (LRS) класса Premium.** Хранилище Azure класса Premium обеспечивает поддержку высокопроизводительных дисков с низкой задержкой для виртуальных машин с интенсивной рабочей нагрузкой ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-348">**Premium Locally Redundant Storage (LRS)**: Azure Premium Storage delivers high-performance, low-latency disk support for virtual machines running I/O-intensive workloads.</span></span> <span data-ttu-id="0fe6d-349">Существует 3 реплик данных hello в hello же центре обработки данных Azure региона Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-349">There are 3 replicas of hello data within hello same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="0fe6d-350">Hello копии будут находиться в различных доменах отказа и обновление (см. в разделе Основные понятия [это] [ planning-guide-3.2] главе hello [руководство по планированию][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-350">hello copies will be in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in hello [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="0fe6d-351">В случае реплики hello данных, поступающих из службы из-за сбоя узла хранения tooa или сбой диска новая реплика будет создан автоматически.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-351">In case of a replica of hello data going out of service due tooa storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="0fe6d-352">**Локально избыточное хранилище (LRS)**: В этом случае существует 3 реплик данных hello в hello же центре обработки данных Azure региона Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-352">**Locally Redundant Storage (LRS)**: In this case there are 3 replicas of hello data within hello same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="0fe6d-353">Hello копии будут находиться в различных доменах отказа и обновление (см. в разделе Основные понятия [это] [ planning-guide-3.2] главе hello [руководство по планированию][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-353">hello copies will be in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in hello [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="0fe6d-354">В случае реплики hello данных, поступающих из службы из-за сбоя узла хранения tooa или сбой диска новая реплика будет создан автоматически.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-354">In case of a replica of hello data going out of service due tooa storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="0fe6d-355">**Географически избыточное хранилище (GRS)**: В этом случае является асинхронной репликации, который будет передавать дополнительного Здравствуйте, 3 реплик данных hello в другом регионе Azure, в большинстве случаев hello в одном географическом регионе (например, Северной Европе и Западная Европа).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-355">**Geo Redundant Storage (GRS)**: In this case there is an asynchronous replication that will feed an additional 3 replicas of hello data in another Azure Region which is in most of hello cases in hello same geographical region (like North Europe and West Europe).</span></span> <span data-ttu-id="0fe6d-356">В результате получатся три дополнительные реплики, так что всего суммарно реплик будет шесть.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-356">This will result in 3 additional replicas, so that there are 6 replicas in sum.</span></span> <span data-ttu-id="0fe6d-357">В варианте такого подхода является дополнительным которых данных hello в регионе реплицированных Azure географически hello могут использоваться для чтения целей (доступ на чтение географически избыточной).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-357">A variation of this is an addition where hello data in hello geo replicated Azure region can be used for read purposes (Read-Access Geo-Redundant).</span></span>
* <span data-ttu-id="0fe6d-358">**Зоны избыточности хранилища (ZRS)**: В этом случае hello 3 реплик данных остаются в hello hello же регионе Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-358">**Zone Redundant Storage (ZRS)**: In this case hello 3 replicas of hello data remain in hello same Azure Region.</span></span> <span data-ttu-id="0fe6d-359">Как описано в статье [это] [ planning-guide-3.1] главе hello [руководство по планированию] [ planning-guide] регионом Azure может быть несколько центров обработки данных в непосредственной близости.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-359">As explained in [this][planning-guide-3.1] chapter of hello [Planning Guide][planning-guide] an Azure region can be a number of datacenters in close proximity.</span></span> <span data-ttu-id="0fe6d-360">В случае, когда hello LRS hello реплик будут распространяться через hello разных центрах обработки данных, сделать один регион Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-360">In hello case of LRS hello replicas would be distributed over hello different datacenters that make one Azure region.</span></span>

<span data-ttu-id="0fe6d-361">Дополнительные сведения см. [здесь][storage-redundancy].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-361">More information can be found [here][storage-redundancy].</span></span>

> [!NOTE]
> <span data-ttu-id="0fe6d-362">Для развертываний СУБД не рекомендуется использование hello Geo Redundant Storage</span><span class="sxs-lookup"><span data-stu-id="0fe6d-362">For DBMS deployments, hello usage of Geo Redundant Storage is not recommended</span></span>
>
> <span data-ttu-id="0fe6d-363">Георепликация хранилища Azure является асинхронной.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-363">Azure Storage Geo-Replication is asynchronous.</span></span> <span data-ttu-id="0fe6d-364">Репликация отдельных виртуальных жестких дисков, который подключается tooa одной виртуальной Машины не синхронизируются на этапе блокировки.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-364">Replication of individual VHDs mounted tooa single VM are not synchronized in lock step.</span></span> <span data-ttu-id="0fe6d-365">Таким образом он не подходит tooreplicate файлы СУБД, распределенные по разным VHD или развертываемом для программного RAID на основе на несколько виртуальных жестких дисков.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-365">Therefore, it is not suitable tooreplicate DBMS files that are distributed over different VHDs or deployed against a software RAID based on multiple VHDs.</span></span> <span data-ttu-id="0fe6d-366">По СУБД необходима синхронизацию hello постоянного дискового хранилища через различные LUN и базовых дисков и виртуальных жестких дисков и шпинделей точно.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-366">DBMS software requires that hello persistent disk storage is precisely synchronized across different LUNs and underlying disks/VHDs/spindles.</span></span> <span data-ttu-id="0fe6d-367">По СУБД использует различные механизмы toosequence, ввод-ВЫВОД записи действий и СУБД будет сообщать, hello дисковый накопитель мишенью репликации hello поврежден, если различия составляют даже лишь несколько миллисекунд.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-367">DBMS software uses various mechanisms toosequence IO write activities and a DBMS will report that hello disk storage targeted by hello replication is corrupted if these vary even by a few milliseconds.</span></span> <span data-ttu-id="0fe6d-368">Поэтому если действительно требуется конфигурация базы данных с распределением по нескольким геореплицированным VHD, такая репликация должна toobe выполнять с помощью средства базы данных и функциональные возможности.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-368">Hence if one really wants a database configuration with a database stretched across multiple VHDs geo-replicated, such a replication needs toobe performed with database means and functionality.</span></span> <span data-ttu-id="0fe6d-369">Не следует полагаться на Георепликацию хранилища Azure tooperform этого задания.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-369">One should not rely on Azure Storage Geo-Replication tooperform this job.</span></span>
>
> <span data-ttu-id="0fe6d-370">Hello проблема заключается в простой tooexplain на примере системы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-370">hello problem is simplest tooexplain with an example system.</span></span> <span data-ttu-id="0fe6d-371">Предположим, что у вас есть систему SAP, добавленный в Azure, в которой имеется 8 VHD, содержащих файлы данных СУБД hello, а также один виртуальный жесткий ДИСК содержащего hello файла журнала транзакций.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-371">Let’s assume you have an SAP system uploaded into Azure which has 8 VHDs containing data files of hello DBMS plus one VHD containing hello transaction log file.</span></span> <span data-ttu-id="0fe6d-372">Каждый из этих 9 VHD будет иметь данные, записанные toothem toohello СУБД, в соответствии с последовательным способом ли данные hello записывается toohello данных файлов журнала транзакций.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-372">Each one of these 9 VHDs will have data written toothem in a consistent method according toohello DBMS, whether hello data is being written toohello data or transaction log files.</span></span>
>
> <span data-ttu-id="0fe6d-373">В порядке tooproperly репликации hello данных и поддержания целостного образа базы данных, hello содержимое всех девяти VHD бы toobe географически реплицируются в операциях ввода-вывода hello точный порядок hello были выполнены для hello девяти разным VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-373">In order tooproperly geo-replicate hello data and maintain a consistent database image, hello content of all nine VHDs would have toobe geo-replicated in hello exact order hello I/O operations were executed against hello nine different VHDs.</span></span> <span data-ttu-id="0fe6d-374">Однако георепликация службы хранилища Azure не позволяет toodeclare зависимости между VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-374">However, Azure Storage geo-replication does not allow toodeclare dependencies between VHDs.</span></span> <span data-ttu-id="0fe6d-375">Это означает, что географическая репликация хранилища Microsoft Azure не знает о hello факт, что hello содержимое этих девяти разных VHD, связанные tooeach другие изменения данных hello согласованы, только при репликации операций ввода-вывода hello hello порядок возникновения во всех hello 9 VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-375">This means Microsoft Azure Storage geo-replication doesn’t know about hello fact that hello content in these nine different VHDs are related tooeach other and that hello data changes are consistent only when replicating in hello order hello I/O operations happened across all hello 9 VHDs.</span></span>
>
> <span data-ttu-id="0fe6d-376">Помимо вероятность скрываться, что образы георепликацией hello в сценарии hello не предоставляют целостного образа базы данных, кроме того, к снижению производительности, который отображается с географически избыточное хранилище, которое может привести к серьезным повлиять на производительность.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-376">Besides chances being high that hello geo-replicated images in hello scenario do not provide a consistent database image, there also is a performance penalty that shows up with geo redundant storage that can severely impact performance.</span></span> <span data-ttu-id="0fe6d-377">Иными словами, этот тип избыточности хранилища не следует использовать для рабочих нагрузок типа СУБД.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-377">In summary do not use this type of storage redundancy for DBMS type workloads.</span></span>
>
>

#### <a name="mapping-vhds-into-azure-virtual-machine-service-storage-accounts"></a><span data-ttu-id="0fe6d-378">Сопоставление виртуальных жестких дисков с учетными записями хранения службы виртуальных машин Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-378">Mapping VHDs into Azure Virtual Machine Service Storage Accounts</span></span>
<span data-ttu-id="0fe6d-379">Учетная запись хранения Azure является не только административной конструкцией, но и предметом ограничений.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-379">An Azure Storage Account is not only an administrative construct, but also a subject of limitations.</span></span> <span data-ttu-id="0fe6d-380">В то время как ограничения hello зависят от того, мы говорим о Стандартная учетная запись хранения Azure или учетная запись хранения Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-380">Whereas hello limitations vary on whether we talk about an Azure Standard Storage Account or an Azure Premium Storage Account.</span></span> <span data-ttu-id="0fe6d-381">Hello точное возможности и ограничения перечислены [здесь][storage-scalability-targets]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-381">hello exact capabilities and limitations are listed [here][storage-scalability-targets]</span></span>

<span data-ttu-id="0fe6d-382">Поэтому для стандартного хранилища Azure очень важным toonote имеется ограничение на hello операций ввода-ВЫВОДА на учетную запись хранения (строки содержащий «Общая частота запросов» в [hello статьи][storage-scalability-targets]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-382">So for Azure Standard Storage it is important toonote there is a limit on hello IOPS per storage account (Row containing ‘Total Request Rate’ in [hello article][storage-scalability-targets]).</span></span> <span data-ttu-id="0fe6d-383">Кроме того, существует изначальное ограничение в 100 учетных записей хранения на одну подписку Azure (начиная с июля 2015 г.).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-383">In addition, there is an initial limit of 100 Storage Accounts per Azure subscription (as of July 2015).</span></span> <span data-ttu-id="0fe6d-384">Таким образом рекомендуется toobalance операций ввода-ВЫВОДА для виртуальных машин между несколькими учетными записями хранения при использовании стандартного хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-384">Therefore, it is recommended toobalance IOPS of VMs between multiple storage accounts when using Azure Standard Storage.</span></span> <span data-ttu-id="0fe6d-385">При этом отдельная виртуальная машина в идеале использует по возможности одну учетную запись хранения.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-385">Whereas a single VM ideally uses one storage account if possible.</span></span> <span data-ttu-id="0fe6d-386">Поэтому, если говорить о развертываниях СУБД, где каждый виртуальный жесткий диск, размещенный в службе хранилища Azure класса Standard, может достичь предела квоты, следует развертывать не более 30–40 виртуальных жестких дисков на одну учетную запись службы хранилища Azure класса Standard.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-386">So if we talk about DBMS deployments where each VHD that is hosted on Azure Standard Storage could reach its quota limit, you should only deploy 30-40 VHDs per Azure Storage Account that uses Azure Standard Storage.</span></span> <span data-ttu-id="0fe6d-387">В hello другой стороны, если использовать хранилище Azure класса Premium и требуется toostore томов большой базы данных, может оказаться точной с точки зрения операций ввода-ВЫВОДА.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-387">On hello other hand, if you leverage Azure Premium Storage and want toostore large database volumes, you might be fine in terms of IOPS.</span></span> <span data-ttu-id="0fe6d-388">Однако учетная запись службы хранилища Azure класса Premium накладывает существенно большие ограничения на объем данных, чем аналогичная учетная запись хранилища класса Standard.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-388">But an Azure Premium Storage Account is way more restrictive in data volume than an Azure Standard Storage Account.</span></span> <span data-ttu-id="0fe6d-389">В результате ограниченное число VHD в учетной записи хранилища Azure Premium можно развернуть только до обращения ограничение тома данных hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-389">As a result, you can only deploy a limited number of VHDs within an Azure Premium Storage Account before hitting hello data volume limit.</span></span> <span data-ttu-id="0fe6d-390">В hello окончания обработки учетной записи хранилища Azure, как «Виртуальная сеть SAN», имеет ограниченные возможности в операции ввода-ВЫВОДА и емкость.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-390">At hello end think of an Azure Storage Account as a “Virtual SAN” that has limited capabilities in IOPS and/or capacity.</span></span> <span data-ttu-id="0fe6d-391">В результате задачу hello остается как в локальных развертываний, макет hello toodefine hello VHD разных систем SAP hello через hello различных «воображаемых устройствах SAN» или учетных записей хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-391">As a result, hello task remains, as in on-premises deployments, toodefine hello layout of hello VHDs of hello different SAP systems over hello different ‘imaginary SAN devices’ or Azure Storage Accounts.</span></span>

<span data-ttu-id="0fe6d-392">Стандартное хранилище Azure, это не рекомендуется toopresent хранилища из tooa другое хранилище учетных записей для одной виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-392">For Azure Standard Storage it is not recommended toopresent storage from different storage accounts tooa single VM if possible.</span></span>

<span data-ttu-id="0fe6d-393">В то время как с помощью hello доменных служб Active Directory или серии GS виртуальных машин Azure это возможных toomount виртуальные жесткие диски из стандартных учетных записей хранилища Azure и учетные записи хранения Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-393">Whereas using hello DS or GS-series of Azure VMs it is possible toomount VHDs out of Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="0fe6d-394">Варианты использования, такие как записи резервных копий в стандартном хранилище резервного виртуальных жестких дисков, а наличие данных СУБД и файлы журналов в хранилище класса Premium поступать toomind которых удалось использовались таких разнородное хранилище.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-394">Use cases like writing backups into Standard Storage backed VHDs whereas having DBMS data and log files on Premium Storage come toomind where such heterogeneous storage could be leveraged.</span></span>

<span data-ttu-id="0fe6d-395">На основе клиентские развертывания и тестирования около 30 too40, VHD, содержащих файлы данных базы данных и файлы журналов могут быть подготовлены на одной стандартной учетной записи хранения Azure с приемлемой производительностью.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-395">Based on customer deployments and testing around 30 too40 VHDs containing database data files and log files can be provisioned on a single Azure Standard Storage Account with acceptable performance.</span></span> <span data-ttu-id="0fe6d-396">Как упоминалось ранее, учетной записи хранилища Azure Premium hello ограничение заключается в емкости данных hello toobe скорее всего, которые могут содержаться и не операций ввода-ВЫВОДА.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-396">As mentioned earlier, hello limitation of an Azure Premium Storage Account is likely toobe hello data capacity it can hold and not IOPS.</span></span>

<span data-ttu-id="0fe6d-397">Как с SAN устройств в локальной среде для управления доступом необходимо выполнять определенный мониторинг в порядке tooeventually обнаруживать узкие места в учетной записи хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-397">As with SAN devices on-premises, sharing requires some monitoring in order tooeventually detect bottlenecks on an Azure Storage Account.</span></span> <span data-ttu-id="0fe6d-398">Hello расширения мониторинга Azure для SAP и hello портал Azure — средства, которые можно использовать toodetect занятости учетных записей хранилища Azure, которая могут привести неоптимальной производительности операций ввода-ВЫВОДА.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-398">hello Azure Monitoring Extension for SAP and hello Azure Portal are tools that can be used toodetect busy Azure Storage Accounts that may be delivering suboptimal IO performance.</span></span>  <span data-ttu-id="0fe6d-399">Если такая ситуация обнаруживается, рекомендуется toomove занят виртуальные машины tooanother учетной записи хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-399">If this situation is detected it is recommended toomove busy VMs tooanother Azure Storage Account.</span></span> <span data-ttu-id="0fe6d-400">См. toohello [руководство по развертыванию] [ deployment-guide] сведения о как tooactivate hello SAP размещения возможностей наблюдения.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-400">Please refer toohello [Deployment Guide][deployment-guide] for details on how tooactivate hello SAP host monitoring capabilities.</span></span>

<span data-ttu-id="0fe6d-401">Другую статью со сводкой практических рекомендаций по хранилищу Azure класса Standard и связанным учетным записям см. здесь: <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-401">Another article summarizing best practices around Azure Standard Storage and Azure Standard Storage Accounts can be found here <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span></span>

#### <a name="moving-deployed-dbms-vms-from-azure-standard-storage-tooazure-premium-storage"></a><span data-ttu-id="0fe6d-402">Перемещение развертывания ВМ СУБД из стандартного хранилища Azure tooAzure хранилища Premium</span><span class="sxs-lookup"><span data-stu-id="0fe6d-402">Moving deployed DBMS VMs from Azure Standard Storage tooAzure Premium Storage</span></span>
<span data-ttu-id="0fe6d-403">Получаем довольно некоторые сценарии, где клиент место toomove развернутой виртуальной Машины из стандартных хранилища Azure в хранилище Azure класса Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-403">We encounter quite some scenarios where you as customer want toomove a deployed VM from Azure Standard Storage into Azure Premium Storage.</span></span> <span data-ttu-id="0fe6d-404">Это невозможно без физического перемещения данных hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-404">This is not possible without physically moving hello data.</span></span> <span data-ttu-id="0fe6d-405">Существует несколько способов tooachieve hello цели:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-405">There are several ways tooachieve hello goal:</span></span>

* <span data-ttu-id="0fe6d-406">Можно просто скопировать все виртуальные жесткие диски — базовый диск и диски с данными — в новую учетную запись службы хранилища Azure класса Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-406">You could simply copy all VHDs, base VHD as well as data VHDs into a new Azure Premium Storage Account.</span></span> <span data-ttu-id="0fe6d-407">Очень часто вы выбрали hello количество виртуальных жестких дисков в стандартном хранилище Azure не по причине hello факт, что требуется тома данных hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-407">Very often you chose hello number of VHDs in Azure Standard Storage not because of hello fact that you needed hello data volume.</span></span> <span data-ttu-id="0fe6d-408">Однако требуется столько виртуальные жесткие диски из-за hello операций ввода-ВЫВОДА.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-408">But you needed that many VHDs because of hello IOPS.</span></span> <span data-ttu-id="0fe6d-409">Теперь, чтобы переместить tooAzure хранилища Premium можно пройти средством меньше tooachieve VHD hello некоторые пропускная способность операций ввода-ВЫВОДА.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-409">Now that you move tooAzure Premium Storage you could go with way less VHDs tooachieve hello some IOPS throughput.</span></span> <span data-ttu-id="0fe6d-410">Учитывая hello факт, что в стандартном хранилище Azure, вы платите за hello использовать данные и не hello номинальный места на диске, hello количество виртуальных жестких дисков не имеет значения с точки зрения затрат.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-410">Given hello fact that in Azure Standard Storage you pay for hello used data and not hello nominal disk size, hello number of VHDs did not really matter in terms of costs.</span></span> <span data-ttu-id="0fe6d-411">Однако с помощью хранилища Azure Premium оплачиваться будет hello номинальный места на диске.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-411">However, with Azure Premium Storage, you would pay for hello nominal disk size.</span></span> <span data-ttu-id="0fe6d-412">Таким образом большинство клиентов hello попробуйте tookeep hello количество виртуальных жестких дисков Azure в хранилище Premium в hello номеров необходимые tooachieve hello IOPS пропускной способности необходимости.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-412">Therefore, most of hello customer try tookeep hello number of Azure VHDs in Premium Storage at hello number needed tooachieve hello IOPS throughput necessary.</span></span> <span data-ttu-id="0fe6d-413">Таким образом большинство пользователей принято способом hello простого 1:1 копирования.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-413">So, most customers decide against hello way of a simple 1:1 copy.</span></span>
* <span data-ttu-id="0fe6d-414">Если это еще не сделано, следует подключить один виртуальный жесткий диск, на котором можно разместить резервную копию базы данных SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-414">If not yet mounted, you mount a single VHD that can contain a database backup of your SAP database.</span></span> <span data-ttu-id="0fe6d-415">После создания резервной копии hello отключите все виртуальные жесткие диски, включая резервное копирование содержащего hello hello виртуального жесткого диска и hello копии базового VHD и hello VHD с резервной копией hello в учетную запись хранилища Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-415">After hello backup, you unmount all VHDs including hello VHD containing hello backup and copy hello base VHD and hello VHD with hello backup into an Azure Premium Storage account.</span></span> <span data-ttu-id="0fe6d-416">Затем будет развернуть hello виртуальных Машин на основании hello базовый виртуальный жесткий ДИСК и подключения hello VHD с резервной копией hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-416">You would then deploy hello VM based on hello base VHD and mount hello VHD with hello backup.</span></span> <span data-ttu-id="0fe6d-417">Теперь можно создавать дополнительные очистите дисках хранилища Premium hello виртуальной Машины, базы данных hello используется toorestore в.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-417">Now you create additional empty Premium Storage Disks for hello VM that are used toorestore hello database into.</span></span> <span data-ttu-id="0fe6d-418">Предполагается, что hello СУБД позволяет toochange пути toohello файлов данных и журналов в рамках процесса восстановления hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-418">This assumes that hello DBMS allows you toochange paths toohello data and log files as part of hello restore process.</span></span>
* <span data-ttu-id="0fe6d-419">Другая возможность — это разновидность hello бывшая процесса, где просто скопируйте резервную копию hello виртуального жесткого диска в хранилище Azure класса Premium и присоединить ее к виртуальной Машины, которая только что развертывании и установке.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-419">Another possibility is a variation of hello former process, where you just copy hello backup VHD into Azure Premium Storage and attach it against a VM that you newly deployed and installed.</span></span>
* <span data-ttu-id="0fe6d-420">Четвертый вероятность Hello выбирается при работе в, необходимо toochange hello количество файлов данных базы данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-420">hello fourth possibility you would choose when you are in need toochange hello number of data files of your database.</span></span> <span data-ttu-id="0fe6d-421">В таком случае следует выполнить копирование однородной системы SAP с помощью экспорта и импорта.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-421">In such a case you would perform a SAP homogenous system copy using export/import.</span></span> <span data-ttu-id="0fe6d-422">PUT те экспортировать файлы в VHD, скопированного в учетную запись хранилища Azure Premium и присоединить ее tooa использовать toorun hello импорта процессов виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-422">Put those export files into a VHD that is copied into an Azure Premium Storage Account and attach it tooa VM that you use toorun hello import processes.</span></span> <span data-ttu-id="0fe6d-423">Клиенты использовать эту возможность, главным образом в том случае, если они должны toodecrease hello количество файлов данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-423">Customers use this possibility mainly when they want toodecrease hello number of data files.</span></span>

### <a name="deployment-of-vms-for-sap-in-azure"></a><span data-ttu-id="0fe6d-424">Развертывание виртуальных машин для SAP в Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-424">Deployment of VMs for SAP in Azure</span></span>
<span data-ttu-id="0fe6d-425">Microsoft Azure предлагает несколько способов toodeploy ВМ и связанные диски.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-425">Microsoft Azure offers multiple ways toodeploy VMs and associated disks.</span></span> <span data-ttu-id="0fe6d-426">Таким образом это различия hello toounderstand очень важен, так как действия по подготовке виртуальных машин hello может отличаться в зависимости от способа развертывания hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-426">Thereby it is very important toounderstand hello differences since preparations of hello VMs might differ dependent on hello way of deployment.</span></span> <span data-ttu-id="0fe6d-427">Как правило мы рассмотрим hello сценарии, описанные в следующих главах hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-427">In general, we look into hello scenarios described in hello following chapters.</span></span>

#### <a name="deploying-a-vm-from-hello-azure-marketplace"></a><span data-ttu-id="0fe6d-428">Развертывание ВМ из Azure Marketplace hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-428">Deploying a VM from hello Azure Marketplace</span></span>
<span data-ttu-id="0fe6d-429">Как tootake Microsoft или сторонних производителей предоставленный образ из Azure Marketplace toodeploy hello ВМ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-429">You like tootake a Microsoft or 3rd party provided image from hello Azure Marketplace toodeploy your VM.</span></span> <span data-ttu-id="0fe6d-430">После развертывания ВМ в Azure вы выполните hello же рекомендации и средства tooinstall hello программного обеспечения SAP в ВМ, как это делается в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-430">After you deployed your VM in Azure, you follow hello same guidelines and tools tooinstall hello SAP software inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="0fe6d-431">Для установки программного обеспечения SAP hello внутри hello виртуальной Машине Azure, Майкрософт и SAP рекомендуется tooupload и сохранить установочный носитель SAP hello в VHD Azure или toocreate ВМ Azure работает как «файловый сервер», содержащий все hello необходимые установочные носители SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-431">For installing hello SAP software inside hello Azure VM, SAP and Microsoft recommend tooupload and store hello SAP installation media in Azure VHDs or toocreate an Azure VM working as a ‘File server’ which contains all hello necessary SAP installation media.</span></span>

#### <a name="deploying-a-vm-with-a-customer-specific-generalized-image"></a><span data-ttu-id="0fe6d-432">Развертывание виртуальной машины с помощью конкретного универсального пользовательского образа</span><span class="sxs-lookup"><span data-stu-id="0fe6d-432">Deploying a VM with a customer specific generalized image</span></span>
<span data-ttu-id="0fe6d-433">Из-за toospecific исправление требования в отношении tooyour операционная система или версия СУБД образы предоставленный hello в hello Azure Marketplace могут не соответствовать вашим потребностям.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-433">Due toospecific patch requirements in regards tooyour OS or DBMS version, hello provided images in hello Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="0fe6d-434">Таким образом может потребоваться toocreate ВМ с помощью собственных «private» образ ОС или СУБД ВМ, который можно разворачивать многократно.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-434">Therefore, you might need toocreate a VM using your own ‘private’ OS/DBMS VM image which can be deployed several times afterwards.</span></span> <span data-ttu-id="0fe6d-435">tooprepare такой «свой» образ для дублирования приветствия обобщенный ОС на hello локальной виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-435">tooprepare such a ‘private’ image for duplication, hello OS must be generalized on hello on-premises VM.</span></span> <span data-ttu-id="0fe6d-436">См. toohello [руководство по развертыванию] [ deployment-guide] подробные сведения о том, как toogeneralize виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-436">Please refer toohello [Deployment Guide][deployment-guide] for details on how toogeneralize a VM.</span></span>

<span data-ttu-id="0fe6d-437">Если вы уже установили содержимое SAP в локальной виртуальной Машины (особенно для двухуровневых систем), hello параметры системы SAP можно адаптировать после развертывания hello hello виртуальной Машине Azure через экземпляр hello переименовать процедуру, поддерживаемых hello подготовки программного обеспечения SAP Диспетчер (Примечание SAP [1619720]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-437">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt hello SAP system settings after hello deployment of hello Azure VM through hello instance rename procedure supported by hello SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="0fe6d-438">В противном случае можно установить по SAP hello позже, после развертывания hello hello виртуальной Машине Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-438">Otherwise you can install hello SAP software later after hello deployment of hello Azure VM.</span></span>

<span data-ttu-id="0fe6d-439">Начиная с hello содержимое базы данных, используемого приложением SAP hello можно либо создать hello содержимое заново с помощью установки SAP, или можно импортировать содержимое в Azure, используя VHD с резервной копией СУБД или возможности СУБД toodirectly hello резервное копирование в хранилище Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-439">As of hello database content used by hello SAP application, you can either generate hello content freshly by an SAP installation or you can import your content into Azure by using a VHD with a DBMS database backup or by leveraging capabilities of hello DBMS toodirectly backup into Microsoft Azure Storage.</span></span> <span data-ttu-id="0fe6d-440">В этом случае может также подготовить VHD с hello СУБД данных и журнала файлов в локальной и затем импортировать их как диски в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-440">In this case, you could also prepare VHDs with hello DBMS data and log files on-premises and then import those as Disks into Azure.</span></span> <span data-ttu-id="0fe6d-441">Но hello передача данных СУБД, которые загружаются из локальной tooAzure, будет работать на дисках VHD, которые должны toobe подготовлен в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-441">But hello transfer of DBMS data which is getting loaded from on-premises tooAzure would work over VHD disks that need toobe prepared on-premises.</span></span>

#### <a name="moving-a-vm-from-on-premises-tooazure-with-a-non-generalized-disk"></a><span data-ttu-id="0fe6d-442">Перемещение ВМ из локальной tooAzure с помощью специализированного диска</span><span class="sxs-lookup"><span data-stu-id="0fe6d-442">Moving a VM from on-premises tooAzure with a non-generalized disk</span></span>
<span data-ttu-id="0fe6d-443">При планировании toomove определенную систему SAP из локальной tooAzure (точности прогнозов и shift).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-443">You plan toomove a specific SAP system from on-premises tooAzure (lift and shift).</span></span> <span data-ttu-id="0fe6d-444">Это можно сделать путем отправки VHD, содержащий hello ОС hello, hello двоичные файлы SAP и возможные двоичные файлы СУБД и hello виртуальные жесткие диски с файлами данных и журналов hello объекта tooAzure СУБД hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-444">This can be done by uploading hello VHD which contains hello OS, hello SAP binaries and eventual DBMS binaries plus hello VHDs with hello data and log files of hello DBMS tooAzure.</span></span> <span data-ttu-id="0fe6d-445">В противоположной tooscenario #2 выше, вы сохранить hello имя узла, ИД безопасности SAP и учетные записи пользователей SAP в ВМ Azure hello как они были настроены в локальной среде hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-445">In opposite tooscenario #2 above, you keep hello hostname, SAP SID and SAP user accounts in hello Azure VM as they were configured in hello on-premises environment.</span></span> <span data-ttu-id="0fe6d-446">Таким образом обобщение hello образ не является обязательным.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-446">Therefore, generalizing hello image is not necessary.</span></span> <span data-ttu-id="0fe6d-447">Этот случай большей частью относится для сценариев между организациями, когда часть hello ландшафт SAP запускается локально и частей в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-447">This case will mostly apply for Cross-Premises scenarios where a part of hello SAP landscape is run on-premises and parts on Azure.</span></span>

## <span data-ttu-id="0fe6d-448"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>Высокая доступность и аварийное восстановление с использованием виртуальных машин Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-448"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>High Availability and Disaster Recovery with Azure VMs</span></span>
<span data-ttu-id="0fe6d-449">Azure предлагает следующие функциональные возможности высокого уровня доступности (HA) и аварийного восстановления (DR), применяемые toodifferent компонентов, которые могут использоваться в развертываниях SAP и СУБД hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-449">Azure offers hello following High Availability (HA) and Disaster Recovery (DR) functionalities which apply toodifferent components we would use for SAP and DBMS deployments</span></span>

### <a name="vms-deployed-on-azure-nodes"></a><span data-ttu-id="0fe6d-450">Виртуальные машины, развернутые на узлах Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-450">VMs deployed on Azure Nodes</span></span>
<span data-ttu-id="0fe6d-451">Hello платформы Azure не предлагает функции, такие как динамической миграции для развернутых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-451">hello Azure Platform does not offer features such as Live Migration for deployed VMs.</span></span> <span data-ttu-id="0fe6d-452">Это означает, если обслуживание необходимые в кластере серверов, на котором развернута виртуальная машина, hello виртуальной Машины должен tooget останавливается и перезапускается.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-452">This means if there is maintenance necessary on a server cluster on which a VM is deployed, hello VM needs tooget stopped and restarted.</span></span> <span data-ttu-id="0fe6d-453">Техническое обслуживание в Azure выполняется с помощью так называемых доменов обновления в кластерах серверов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-453">Maintenance in Azure is performed using so called Upgrade Domains within clusters of servers.</span></span> <span data-ttu-id="0fe6d-454">Одновременно поддерживается обслуживание только одного домена обновления.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-454">Only one Upgrade Domain at a time is being maintained.</span></span> <span data-ttu-id="0fe6d-455">При таком перезапуске произойдет прерывание службы во время завершения работы ВМ приветствия, обслуживание и перезапуск виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-455">During such a restart there will be an interruption of service while hello VM is shut down, maintenance is performed and VM restarted.</span></span> <span data-ttu-id="0fe6d-456">Однако большинство поставщиков СУБД предоставляет функциональные возможности высокого уровня доступности и аварийного восстановления, которые быстро перезапускают службы СУБД hello на другой узел в случае недоступности основного узла hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-456">Most DBMS vendors however provide High Availability and Disaster Recovery functionality that will quickly restart hello DBMS services on another node if hello primary node is unavailable.</span></span> <span data-ttu-id="0fe6d-457">Hello платформа Azure предлагает функциональность toodistribute ВМ, хранилища и другими службами Azure через домены обновления tooensure планируемого обслуживание или сбои инфраструктуры оказывали влияние только небольшое подмножество виртуальных машин и служб.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-457">hello Azure Platform offers functionality toodistribute VMs, Storage and other Azure services across Upgrade Domains tooensure that planned maintenance or infrastructure failures would only impact a small subset of VMs or services.</span></span>  <span data-ttu-id="0fe6d-458">При тщательном планировании это возможных tooachieve доступности уровней сопоставимых tooon локальной инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-458">With careful planning it is possible tooachieve availability levels comparable tooon-premises infrastructures.</span></span>

<span data-ttu-id="0fe6d-459">Группы доступности Microsoft Azure — это логические группы виртуальных машин или служб, которые обеспечивают виртуальных машин и других служб, распределенных toodifferent сбоя и домены обновления в кластере таким образом, что будет существовать только завершение работы одного узла на любой момент времени ( длячтения[это] [ virtual-machines-manage-availability] Дополнительные сведения).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-459">Microsoft Azure Availability Sets are a logical grouping of VMs or Services that ensures VMs and other services are distributed toodifferent Fault and Upgrade Domains within a cluster such that there would only be one node shutdown at any one point in time (read [this][virtual-machines-manage-availability] article for more details).</span></span>

<span data-ttu-id="0fe6d-460">Он должен toobe настроен по назначению при развертывании виртуальных машин, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-460">It needs toobe configured by purpose when rolling out VMs as seen here:</span></span>

![Определение группы доступности для конфигураций высокой доступности СУБД ][dbms-guide-figure-200]

<span data-ttu-id="0fe6d-462">Если мы хотим toocreate высокодоступные конфигурации развертываний СУБД (независимо от hello отдельных СУБД используемой ИНДИВИДУАЛЬНОЙ функциональности), то ВМ СУБД hello потребуется:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-462">If we want toocreate highly available configurations of DBMS deployments (independent of hello individual DBMS HA functionality used), hello DBMS VMs would need to:</span></span>

* <span data-ttu-id="0fe6d-463">Добавить toohello hello виртуальных машин одной виртуальной сети Azure (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span><span class="sxs-lookup"><span data-stu-id="0fe6d-463">Add hello VMs toohello same Azure Virtual Network (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span></span>
* <span data-ttu-id="0fe6d-464">виртуальные машины высокой ДОСТУПНОСТИ конфигурации hello Hello также должно быть в hello одной подсети.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-464">hello VMs of hello HA configuration should also be in hello same subnet.</span></span> <span data-ttu-id="0fe6d-465">Разрешение имен между hello разным подсетям не поддерживается в развертываниях только в облаке, будут работать только разрешение IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-465">Name resolution between hello different subnets is not possible in Cloud-Only deployments, only IP resolution will work.</span></span> <span data-ttu-id="0fe6d-466">Для распределенного развертывания с использованием подключения "сеть — сеть" или ExpressRoute будет уже установлена сеть по крайней мере с одной подсетью.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-466">Using site-to-site or ExpressRoute connectivity for Cross-Premises deployments, a network with at least one subnet will be already established.</span></span> <span data-ttu-id="0fe6d-467">Разрешение имен будет выполняться в соответствии с toohello локальными политиками AD и сетевой инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-467">Name resolution will be done according toohello on-premises AD policies and network infrastructure.</span></span>

[comment]: <> (Пользователь MSSedusch: проверить, актуально ли до сих пор в ARM)

#### <a name="ip-addresses"></a><span data-ttu-id="0fe6d-469">IP-адреса</span><span class="sxs-lookup"><span data-stu-id="0fe6d-469">IP Addresses</span></span>
<span data-ttu-id="0fe6d-470">Настоятельно рекомендуется hello toosetup ВМ для конфигураций высокой ДОСТУПНОСТИ устойчивым способом.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-470">It is highly recommended toosetup hello VMs for HA configurations in a resilient way.</span></span> <span data-ttu-id="0fe6d-471">Полагаться на партнерами IP адресов tooaddress hello высокого уровня ДОСТУПНОСТИ в конфигурации высокого уровня ДОСТУПНОСТИ hello не является надежной в Azure, если используются статические IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-471">Relying on IP addresses tooaddress hello HA partner(s) within hello HA configuration is not reliable in Azure unless static IP addresses are used.</span></span> <span data-ttu-id="0fe6d-472">В Azure существует два понятия "завершение работы".</span><span class="sxs-lookup"><span data-stu-id="0fe6d-472">There are two “Shutdown” concepts in Azure:</span></span>

* <span data-ttu-id="0fe6d-473">Завершение работы с помощью портала Azure или командлета Azure PowerShell Stop AzureRmVM: В этом случае выполняется завершение работы hello виртуальной машины и освобождена.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-473">Shut down through Azure Portal or Azure PowerShell cmdlet Stop-AzureRmVM: In this case hello Virtual Machine gets shutdown and de-allocated.</span></span> <span data-ttu-id="0fe6d-474">Учетная запись Azure больше не будет взиматься плата за эту виртуальную Машину, поэтому hello, повлечет за собой оплачивают только используемое дисковое пространство hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-474">Your Azure account will no longer be charged for this VM so hello only charges that will incur are for hello storage used.</span></span> <span data-ttu-id="0fe6d-475">Однако если hello частный IP-адрес сетевого интерфейса hello не статические, hello IP-адрес освобождается и не гарантируется, что этот сетевой интерфейс hello получает hello старый IP-адрес еще раз после перезапуска hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-475">However, if hello private IP address of hello network interface was not static, hello IP address is released and it is not guaranteed that hello network interface gets hello old IP address assigned again after a restart of hello VM.</span></span> <span data-ttu-id="0fe6d-476">Выполняет hello завершение работы с помощью hello портала Azure или путем вызова Stop AzureRmVM автоматически приводит к отмене выделения.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-476">Performing hello shut down through hello Azure Portal or by calling Stop-AzureRmVM will automatically cause de-allocation.</span></span> <span data-ttu-id="0fe6d-477">Если вы не хотите машина hello toodeallocat использовать Stop AzureRmVM - StayProvisioned</span><span class="sxs-lookup"><span data-stu-id="0fe6d-477">If you do not want toodeallocat hello machine use Stop-AzureRmVM -StayProvisioned</span></span>
* <span data-ttu-id="0fe6d-478">При выключении hello виртуальной Машины с ОС уровня hello ВМ возвращает завершить работу и не освобождена.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-478">If you shut down hello VM from an OS level, hello VM gets shut down and NOT de-allocated.</span></span> <span data-ttu-id="0fe6d-479">Однако в этом случае учетная запись Azure будет по-прежнему взиматься плата за hello ВМ, несмотря на то, что это shutdown факт hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-479">However, in this case, your Azure account will still be charged for hello VM, despite hello fact that it is shutdown.</span></span> <span data-ttu-id="0fe6d-480">В этом случае hello назначение hello IP адрес tooa остановленной виртуальной Машины останутся без изменений.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-480">In such a case, hello assignment of hello IP address tooa stopped VM will remain intact.</span></span> <span data-ttu-id="0fe6d-481">Завершение работы hello ВМ не приводит к автоматической отмене выделения.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-481">Shutting down hello VM from within will not automatically force de-allocation.</span></span>

<span data-ttu-id="0fe6d-482">Даже для сценариев между организациями по умолчанию завершения работы и Отмена выделения будет означает отмену назначения hello IP-адресов из hello виртуальной Машины, даже если в локальной политики в параметрах DHCP отличаются.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-482">Even for Cross-Premises scenarios, by default a shutdown and de-allocation will mean de-assignment of hello IP addresses from hello VM, even if on-premises policies in DHCP settings are different.</span></span>

* <span data-ttu-id="0fe6d-483">Hello исключение если назначения статических IP-адрес tooa сетевой интерфейс как описано [здесь][virtual-networks-reserved-private-ip].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-483">hello exception is if one assigns a static IP address tooa network interface as described [here][virtual-networks-reserved-private-ip].</span></span>
* <span data-ttu-id="0fe6d-484">В этом случае hello IP-адрес остается неизменным до тех пор, пока hello сетевого интерфейса не удаляется.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-484">In such a case hello IP address remains fixed as long as hello network interface is not deleted.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fe6d-485">В порядке tookeep hello всего развертывания простоту и управляемость ясно, что рекомендуется toosetup hello hello в СУБД высокой ДОСТУПНОСТИ и аварийного восстановления конфигурации в Azure в результате которого есть разрешение имен между hello, участвующих в разных ВМ партнерство ВМ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-485">In order tookeep hello whole deployment simple and manageable, hello clear recommendation is toosetup hello VMs partnering in a DBMS HA or DR configuration within Azure in a way that there is a functioning name resolution between hello different VMs involved.</span></span>
>
>

## <a name="deployment-of-host-monitoring"></a><span data-ttu-id="0fe6d-486">Развертывание мониторинга узлов</span><span class="sxs-lookup"><span data-stu-id="0fe6d-486">Deployment of Host Monitoring</span></span>
<span data-ttu-id="0fe6d-487">Для производственного использования приложений SAP в виртуальных машинах Azure SAP необходима hello возможность tooget данных мониторинга узла от физических узлах hello с hello виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-487">For productive usage of SAP Applications in Azure Virtual Machines, SAP requires hello ability tooget host monitoring data from hello physical hosts running hello Azure Virtual Machines.</span></span> <span data-ttu-id="0fe6d-488">Требуется определенный уровень исправлений SAP HostAgent, включающий эту возможность в SAPOSCOL и SAP HostAgent.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-488">A specific SAP HostAgent patch level will be required that enables this capability in SAPOSCOL and SAP HostAgent.</span></span> <span data-ttu-id="0fe6d-489">Hello точный уровень исправления задокументирован в примечании SAP [1409604].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-489">hello exact patch level is documented in SAP Note [1409604].</span></span>

<span data-ttu-id="0fe6d-490">Hello детали развертывания компонентов, которые предоставляют tooSAPOSCOL данных узла и SAPHostAgent и hello управление жизненным циклом этих компонентов, можно найти toohello [руководство по развертыванию][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-490">For hello details regarding deployment of components that deliver host data tooSAPOSCOL and SAPHostAgent and hello lifecycle management of those components, please refer toohello [Deployment Guide][deployment-guide]</span></span>

## <span data-ttu-id="0fe6d-491"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Особенности tooMicrosoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="0fe6d-491"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Specifics tooMicrosoft SQL Server</span></span>
### <a name="sql-server-iaas"></a><span data-ttu-id="0fe6d-492">IaaS в SQL Server</span><span class="sxs-lookup"><span data-stu-id="0fe6d-492">SQL Server IaaS</span></span>
<span data-ttu-id="0fe6d-493">Начиная с Microsoft Azure, можно легко перенести существующие приложения SQL Server, построенных на платформе Windows Server tooAzure виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-493">Starting with Microsoft Azure, you can easily migrate your existing SQL Server applications built on Windows Server platform tooAzure Virtual Machines.</span></span> <span data-ttu-id="0fe6d-494">SQL Server на виртуальной машине позволяет вам tooreduce hello совокупную стоимость владения развертывания, управления и обслуживания приложений уровня организации, перенеся эти приложения tooMicrosoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-494">SQL Server in a Virtual Machine enables you tooreduce hello total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications tooMicrosoft Azure.</span></span> <span data-ttu-id="0fe6d-495">С SQL Server в виртуальной машине Azure Администраторы и разработчики могут по-прежнему использовать hello тех же средств разработки и администрирования, которые доступны в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-495">With SQL Server in an Azure Virtual Machine, administrators and developers can still use hello same development and administration tools that are available on-premises.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fe6d-496">Учтите, что мы не касаемся базы данных SQL Microsoft Azure — платформу как предложение службы hello платформе Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-496">Please note we are not discussing Microsoft Azure SQL Database which is a Platform as a Service offer of hello Microsoft Azure Platform.</span></span> <span data-ttu-id="0fe6d-497">Обсуждение Hello в этом документе рассматривается запуск продукта SQL Server hello, известное для локальных развертываний в виртуальных машинах Azure, путем использования hello инфраструктура как служба функцию Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-497">hello discussion in this paper is about running hello SQL Server product as it is known for on-premises deployments in Azure Virtual Machines, leveraging hello Infrastructure as a Service capability of Azure.</span></span> <span data-ttu-id="0fe6d-498">Возможности и функции базы данных в этих двух предложениях различаются, и их не следует путать друг с другом.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-498">Database capabilities and functionalities between these two offers are different and should not be mixed up with each other.</span></span> <span data-ttu-id="0fe6d-499">См. также: <https://azure.microsoft.com/services/sql-database/>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-499">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
>
>

<span data-ttu-id="0fe6d-500">Настоятельно рекомендуется tooreview [это] [ virtual-machines-sql-server-infrastructure-services] документации, прежде чем продолжить.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-500">It is strongly recommended tooreview [this][virtual-machines-sql-server-infrastructure-services] documentation before continuing.</span></span>

<span data-ttu-id="0fe6d-501">В hello следующие разделы части документации hello в списке выше ссылку hello будет статистическую обработку и упомянутых.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-501">In hello following sections pieces of parts of hello documentation under hello link above will be aggregated and mentioned.</span></span> <span data-ttu-id="0fe6d-502">Также упоминаются особенности, связанные с SAP. Некоторые основные понятия описаны более подробно.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-502">Specifics around SAP are mentioned as well and some concepts are described in more detail.</span></span> <span data-ttu-id="0fe6d-503">Однако настоятельно рекомендуется toowork через hello документацией перед тем как читать документацию SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-503">However, it is highly recommended toowork through hello documentation above first before reading hello SQL Server specific documentation.</span></span>

<span data-ttu-id="0fe6d-504">Существуют некоторые специальные сведения об SQL Server в IaaS, которые следует знать перед продолжением:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-504">There is some SQL Server in IaaS specific information you should know before continuing:</span></span>

* <span data-ttu-id="0fe6d-505">**Соглашение об уровне обслуживания для виртуальных машин.** Существует соглашение об уровне обслуживания для виртуальных машин, работающих в Azure, которое можно найти здесь: <https://azure.microsoft.com/support/legal/sla/>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-505">**Virtual Machine SLA**: There is an SLA for Virtual Machines running in Azure which can be found here: <https://azure.microsoft.com/support/legal/sla/></span></span>  
* <span data-ttu-id="0fe6d-506">**Поддержка версий SQL.** Для клиентов SAP на виртуальной машине Microsoft Azure поддерживается SQL Server 2008 R2 и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-506">**SQL Version Support**: For SAP customers, we support SQL Server 2008 R2 and higher on Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="0fe6d-507">Более ранние выпуски не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-507">Earlier editions are not supported.</span></span> <span data-ttu-id="0fe6d-508">Дополнительные сведения см. в этом общем [заявлении о поддержке](https://support.microsoft.com/kb/956893).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-508">Review this general [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="0fe6d-509">Обратите внимание, что в целом SQL Server 2008 также поддерживается корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-509">Please note that in general SQL Server 2008 is supported by Microsoft as well.</span></span> <span data-ttu-id="0fe6d-510">Однако из-за toosignificant функциональные возможности для SAP, который появился в SQL Server 2008 R2, SQL Server 2008 R2 является hello минимальной поддерживаемой версией для SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-510">However due toosignificant functionality for SAP which was introduced with SQL Server 2008 R2, SQL Server 2008 R2 is hello minimum release for SAP.</span></span> <span data-ttu-id="0fe6d-511">Имейте в виду, что SQL Server 2012 и 2014 была расширена путем более глубокой интеграции в сценарии IaaS hello (например, резервное копирование непосредственно в службу хранилища Azure).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-511">Keep in mind that SQL Server 2012 and 2014 got extended with deeper integration into hello IaaS scenario (like backing up directly against Azure Storage).</span></span> <span data-ttu-id="0fe6d-512">Таким образом мы ограничить этот документ tooSQL Server 2012 и 2014 с последним уровнем исправления для Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-512">Therefore, we restrict this paper tooSQL Server 2012 and 2014 with its latest patch level for Azure.</span></span>
* <span data-ttu-id="0fe6d-513">**Поддержка функций SQL.** Большинство функций SQL Server поддерживается на виртуальных машинах Microsoft Azure с некоторыми исключениями.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-513">**SQL Feature Support**: Most SQL Server features are supported on Microsoft Azure Virtual Machines with some exceptions.</span></span> <span data-ttu-id="0fe6d-514">**Создание отказоустойчивых кластеров SQL Server с использованием общих дисков не поддерживается**.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-514">**SQL Server Failover Clustering using Shared Disks is not supported**.</span></span>  <span data-ttu-id="0fe6d-515">Распределенные технологии, такие как зеркальное отображение базы данных, группы доступности AlwaysOn, репликация, доставка журналов и Service Broker, поддерживаются в пределах одного региона Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-515">Distributed technologies like Database Mirroring, AlwaysOn Availability Groups, Replication, Log Shipping and Service Broker are supported within a single Azure Region.</span></span> <span data-ttu-id="0fe6d-516">SQL Server AlwaysOn также поддерживается между разными регионами Azure, как описано здесь: <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-516">SQL Server AlwaysOn also is supported between different Azure Regions as documented here:  <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span></span>  <span data-ttu-id="0fe6d-517">Просмотрите hello [заявление о поддержке](https://support.microsoft.com/kb/956893) для получения дополнительных сведений.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-517">Review hello [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="0fe6d-518">Пример toodeploy конфигурации AlwaysOn отображением в [это] [ virtual-machines-workload-template-sql-alwayson] статьи.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-518">An example on how toodeploy an AlwaysOn configuration is shown in [this][virtual-machines-workload-template-sql-alwayson] article.</span></span> <span data-ttu-id="0fe6d-519">Извлеките hello описаны рекомендации [здесь][virtual-machines-sql-server-infrastructure-services]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-519">Also, check out hello Best Practices documented [here][virtual-machines-sql-server-infrastructure-services]</span></span>
* <span data-ttu-id="0fe6d-520">**Производительность SQL**: мы уверены, что Microsoft Azure, размещенные виртуальные машины будут работать очень хорошо в предложениями виртуализации в общедоступном облаке tooother сравнения, но отдельные результаты могут различаться.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-520">**SQL Performance**: We are confident that Microsoft Azure hosted Virtual Machines will perform very well in comparison tooother public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="0fe6d-521">Ознакомьтесь с [этой][virtual-machines-sql-server-performance-best-practices] статьей.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-521">Check out [this][virtual-machines-sql-server-performance-best-practices] article.</span></span>
* <span data-ttu-id="0fe6d-522">**Использование образов из Azure Marketplace**: hello самый быстрый способ toodeploy новой виртуальной Машины Microsoft Azure — toouse изображение из hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-522">**Using Images from Azure Marketplace**: hello fastest way toodeploy a new Microsoft Azure VM is toouse an image from hello Azure Marketplace.</span></span> <span data-ttu-id="0fe6d-523">Это образы в Azure Marketplace hello, содержащие SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-523">There are images in hello Azure Marketplace which contain SQL Server.</span></span> <span data-ttu-id="0fe6d-524">образы Hello, где уже установлено приложение SQL Server не может использоваться для приложений SAP NetWeaver немедленно.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-524">hello images where SQL Server already is installed can’t be immediately used for SAP NetWeaver applications.</span></span> <span data-ttu-id="0fe6d-525">Hello причина — параметры сортировки SQL Server по умолчанию hello устанавливается в рамках этих образов и не параметры сортировки hello, необходимые для систем SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-525">hello reason is hello default SQL Server collation is installed within those images and not hello collation required by SAP NetWeaver systems.</span></span> <span data-ttu-id="0fe6d-526">В заказ toouse такие образы, проверьте hello действия, описанные в главах [с помощью SQL Server образы из Microsoft Azure Marketplace hello][dbms-guide-5.6].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-526">In order toouse such images, please check hello steps documented in chapter [Using a SQL Server images out of hello Microsoft Azure Marketplace][dbms-guide-5.6].</span></span>
* <span data-ttu-id="0fe6d-527">Дополнительные сведения см. в статье [Сведения о ценах](https://azure.microsoft.com/pricing/).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-527">Check out [Pricing Details](https://azure.microsoft.com/pricing/) for more information.</span></span> <span data-ttu-id="0fe6d-528">Hello [руководство по лицензированию SQL Server 2012](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) и [руководство по лицензированию SQL Server 2014](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) также являются важный ресурс.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-528">hello [SQL Server 2012 Licensing Guide](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) and [SQL Server 2014 Licensing Guide](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) are also an important resource.</span></span>

### <a name="sql-server-configuration-guidelines-for-sap-related-sql-server-installations-in-azure-vms"></a><span data-ttu-id="0fe6d-529">Рекомендации по конфигурации SQL Server для связанных с SAP установок SQL Server на виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-529">SQL Server configuration guidelines for SAP related SQL Server installations in Azure VMs</span></span>
#### <a name="recommendations-on-vmvhd-structure-for-sap-related-sql-server-deployments"></a><span data-ttu-id="0fe6d-530">Рекомендации по структуре виртуальных машин и виртуальных жестких дисков для связанных с SAP развертываний SQL Server</span><span class="sxs-lookup"><span data-stu-id="0fe6d-530">Recommendations on VM/VHD structure for SAP related SQL Server deployments</span></span>
<span data-ttu-id="0fe6d-531">В соответствии с общее описание hello, исполняемые файлы SQL Server следует найти или установлен на системном диске базового VHD ВМ hello hello (диск C:\).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-531">In accordance with hello general description, SQL Server executables should be located or installed into hello system drive of hello VM’s base VHD (drive C:\).</span></span>  <span data-ttu-id="0fe6d-532">Как правило большая часть системных баз данных SQL Server hello не используются на высоком уровне рабочей нагрузкой SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-532">Typically, most of hello SQL Server system databases are not utilized at a high level by SAP NetWeaver workload.</span></span> <span data-ttu-id="0fe6d-533">Поэтому hello системные базы данных SQL Server (master, msdb и model) может оставаться на диске C:\ hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-533">Hence hello system databases of SQL Server (master, msdb, and model) can remain on hello C:\ drive as well.</span></span> <span data-ttu-id="0fe6d-534">Исключением может быть tempdb, которое в случае hello некоторые SAP ERP и любых рабочих нагрузок BW может потребоваться больше данных или объем операций ввода-вывода не может поместиться в hello исходной виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-534">An exception could be tempdb, which in hello case of some SAP ERP and all BW workloads, might require either higher data volume or I/O operations volume which can’t fit into hello original VM.</span></span> <span data-ttu-id="0fe6d-535">Для таких систем следует выполнить следующие шаги hello:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-535">For such systems, hello following steps should be performed:</span></span>

* <span data-ttu-id="0fe6d-536">Переместить toohello файлов данных основной базы данных tempdb hello одном логическом диске как hello основные файлы данных базы данных SAP hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-536">Move hello primary tempdb data file(s) toohello same logical drive as hello primary data file(s) of hello SAP database.</span></span>
* <span data-ttu-id="0fe6d-537">Добавьте любые tooeach файлы tempdb дополнительных данных из hello других логических дисков, содержащих файл данных базы данных пользователей SAP hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-537">Add any additional tempdb data files tooeach of hello other logical drives containing a data file of hello SAP user database.</span></span>
* <span data-ttu-id="0fe6d-538">Добавьте hello tempdb logfile toohello логический диск, содержащий файл журнала базы данных пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-538">Add hello tempdb logfile toohello logical drive which contains hello user database’s log file.</span></span>
* <span data-ttu-id="0fe6d-539">**Только для типов ВМ, использующих локальный SSD** hello вычислительного узла tempdb данных и журнала файлов могут находиться на диск D:\ hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-539">**Exclusively for VM types that use local SSDs** on hello compute node tempdb data and log files might be placed on hello D:\ drive.</span></span> <span data-ttu-id="0fe6d-540">Тем не менее, возможно, рекомендуется использовать toouse несколько файлов данных tempdb.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-540">Nevertheless, it might be recommended toouse multiple tempdb data files.</span></span> <span data-ttu-id="0fe6d-541">Учтите, что тома диска D:\ различаются в зависимости от типа ВМ hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-541">Be aware D:\ drive volumes are different based on hello VM type.</span></span>

<span data-ttu-id="0fe6d-542">Эти конфигурации включить tempdb tooconsume больше места, чем hello системный диск — может tooprovide.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-542">These configurations enable tempdb tooconsume more space than hello system drive is able tooprovide.</span></span> <span data-ttu-id="0fe6d-543">В порядке toodetermine hello соответствующий размер tempdb можно проверить размеры tempdb hello в существующих системах, работающих в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-543">In order toodetermine hello proper tempdb size, one can check hello tempdb sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="0fe6d-544">Кроме того такая конфигурация позволит числа операций ввода-ВЫВОДА в tempdb, который не может быть предоставлен hello системного диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-544">In addition, such a configuration would enable IOPS numbers against tempdb which cannot be provided with hello system drive.</span></span> <span data-ttu-id="0fe6d-545">Еще раз системах, работающих в локальной среде может быть рабочей нагрузки используется toomonitor ввода-вывода для базы данных tempdb, чтобы можно было извлечь числа операций ввода-ВЫВОДА hello ожидать toosee на базе данных tempdb.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-545">Again, systems that are running on-premises can be used toomonitor I/O workload against tempdb so that you can derive hello IOPS numbers you expect toosee on your tempdb.</span></span>

<span data-ttu-id="0fe6d-546">Конфигурация виртуальной Машины, в которой работает SQL Server с базой данных SAP и где данных tempdb и файла журнала tempdb размещаются на диск D:\ hello выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-546">A VM configuration which runs SQL Server with a SAP database and where tempdb data and tempdb logfile are placed on hello D:\ drive would look like:</span></span>

![Эталонная конфигурация виртуальной машины Azure IaaS для SAP][dbms-guide-figure-300]

<span data-ttu-id="0fe6d-548">Имейте в виду, что этот диск D:\ hello имеет различные размеры, зависящее от типа ВМ hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-548">Be aware that hello D:\ drive has different sizes dependent on hello VM type.</span></span> <span data-ttu-id="0fe6d-549">Зависимость от hello требования к размеру базы данных tempdb может быть принудительного toopair данных tempdb и файлы журнала с hello SAP базы данных и файлов журнала в случаях, когда диск D:\ слишком мал.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-549">Dependent on hello size requirement of tempdb you might be forced toopair tempdb data and log files with hello SAP database data and log files in cases where D:\ drive is too small.</span></span>

#### <a name="formatting-hello-vhds"></a><span data-ttu-id="0fe6d-550">Форматирование VHD hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-550">Formatting hello VHDs</span></span>
<span data-ttu-id="0fe6d-551">Для SQL Server hello размер блока NTFS для VHD, содержащих данные SQL Server и журнала файлов должно быть 64 КБ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-551">For SQL Server hello NTFS block size for VHDs containing SQL Server data and log files should be 64K.</span></span> <span data-ttu-id="0fe6d-552">Нет необходимости tooformat hello диск D:\, не существует.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-552">There is no need tooformat hello D:\ drive.</span></span> <span data-ttu-id="0fe6d-553">Он предварительно отформатирован.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-553">This drive comes pre-formatted.</span></span>

<span data-ttu-id="0fe6d-554">В порядке toomake том, что hello восстановление или создание баз данных не инициализируется hello файлы данных, фокусируясь hello содержимое файлов hello, необходимо убедиться, что служба SQL Server hello контекст пользователя hello работает в имеет определенные разрешения.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-554">In order toomake sure that hello restore or creation of databases is not initializing hello data files by zeroing hello content of hello files, one should make sure that hello user context hello SQL Server service is running in has a certain permission.</span></span> <span data-ttu-id="0fe6d-555">Обычно эти разрешения имеют пользователи из группы администраторов Windows hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-555">Usually users in hello Windows Administrator group have these permissions.</span></span> <span data-ttu-id="0fe6d-556">Если hello службы SQL Server выполняется в контексте пользователя hello Windows неадминистративной пользователя, сначала необходимо tooassign этого пользователя hello право пользователя «Выполнение задач обслуживания тома».</span><span class="sxs-lookup"><span data-stu-id="0fe6d-556">If hello SQL Server service is run in hello user context of non-Windows Administrator user, you need tooassign that user hello User Right ‘Perform volume maintenance tasks’.</span></span>  <span data-ttu-id="0fe6d-557">Просмотрите сведения о hello в этой статье базы знаний Майкрософт: <https://support.microsoft.com/kb/2574695></span><span class="sxs-lookup"><span data-stu-id="0fe6d-557">See hello details in this Microsoft Knowledge Base Article: <https://support.microsoft.com/kb/2574695></span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="0fe6d-558">Влияние сжатия базы данных</span><span class="sxs-lookup"><span data-stu-id="0fe6d-558">Impact of database compression</span></span>
<span data-ttu-id="0fe6d-559">В конфигурациях, где пропускная способность ввода-вывода может стать ограничивающим фактором каждая мера, который сокращает число операций ввода-ВЫВОДА может помочь hello toostretch рабочей нагрузки, которая может выполняться в сценарии IaaS, например Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-559">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help toostretch hello workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="0fe6d-560">Таким образом Если это еще не сделано, применение сжатия SQL Server PAGE настоятельно рекомендуется SAP и Майкрософт до передачи существующего SAP баз данных tooAzure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-560">Therefore, if not yet done, applying SQL Server PAGE compression is strongly recommended by both SAP and Microsoft before uploading an existing SAP databases tooAzure.</span></span>

<span data-ttu-id="0fe6d-561">Рекомендация Hello tooperform сжатие базы данных перед отправкой tooAzure дается по двум причинам:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-561">hello recommendation tooperform Database Compression before uploading tooAzure is given out of two reasons:</span></span>

* <span data-ttu-id="0fe6d-562">меньше Hello объем данных toobe отправлен.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-562">hello amount of data toobe uploaded is lower.</span></span>
* <span data-ttu-id="0fe6d-563">Hello продолжительность выполнения сжатия hello короче, предполагая, что можно использовать более мощное оборудование с дополнительные процессоры или более высокой пропускной способности ввода-вывода или меньше операций ввода-вывода задержки в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-563">hello duration of hello compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises.</span></span>
* <span data-ttu-id="0fe6d-564">Меньшего размера базы данных может привести затрат сборки для выделения места на диске</span><span class="sxs-lookup"><span data-stu-id="0fe6d-564">Smaller database sizes might lead tooless costs for disk allocation</span></span>

<span data-ttu-id="0fe6d-565">Сжатие баз данных работает на виртуальных машинах Azure так же, как и в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-565">Database compression works as well in an Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="0fe6d-566">Дополнительные сведения о том, как toocompress существующей базы данных SAP SQL Server проверьте здесь: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-566">For more details on how toocompress an existing SAP SQL Server database please check here: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span></span>

### <a name="sql-server-2014--storing-database-files-directly-on-azure-blog-storage"></a><span data-ttu-id="0fe6d-567">SQL Server 2014: хранение файлов базы данных непосредственно в хранилище BLOB-объектов Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-567">SQL Server 2014 – Storing Database Files directly on Azure Blog Storage</span></span>
<span data-ttu-id="0fe6d-568">SQL Server 2014 открывает файлы базы данных toostore hello возможность непосредственно в хранилище больших двоичных объектов Azure без hello «оболочку» вокруг них виртуального жесткого диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-568">SQL Server 2014 opens hello possibility toostore database files directly on Azure Blob Store without hello ‘wrapper’ of a VHD around them.</span></span> <span data-ttu-id="0fe6d-569">Особенно с использованием стандартного хранилища Azure или более компактные типы ВМ этому сценариях, где можно преодолеть ограничения операций ввода-ВЫВОДА, будет применен ограниченному числу виртуальных жестких дисков, которые могут быть более компактные типы ВМ подключенного toosome hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-569">Especially with using Standard Azure Storage or smaller VM types this enables scenarios where you can overcome hello limits of IOPS that would be enforced by a limited number of VHDs that can be mounted toosome smaller VM types.</span></span> <span data-ttu-id="0fe6d-570">Это возможно в случае с пользовательскими базами данных, но не с системными базами данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-570">This works for user databases however not for system databases of SQL Server.</span></span> <span data-ttu-id="0fe6d-571">Также это возможно для файлов данных и журналов SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-571">It also works for data and log files of SQL Server.</span></span> <span data-ttu-id="0fe6d-572">Если вы хотите toodeploy SAP SQL Server, базы данных таким образом, а не «оболочку» ее виртуальные жесткие диски, примите следующие hello во внимание:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-572">If you’d like toodeploy a SAP SQL Server database this way instead of ‘wrapping’ it into VHDs, please keep hello following in mind:</span></span>

* <span data-ttu-id="0fe6d-573">toobe потребности Hello используемую учетную запись хранения в hello того региона Azure как hello, используемые toodeploy hello, выполняемых в виртуальной Машине SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-573">hello Storage Account used needs toobe in hello same Azure Region as hello one that is used toodeploy hello VM SQL Server is running in.</span></span>
* <span data-ttu-id="0fe6d-574">Для этого метода развертывания, а также применить рекомендации, приведенные ранее в отношении toodistribute VHD по разным учетным записям хранения Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-574">Considerations listed earlier in regards toodistribute VHDs over different Azure Storage Accounts apply for this method of deployments as well.</span></span> <span data-ttu-id="0fe6d-575">Означает hello операций ввода-вывода, учитываются hello ограничения hello учетной записи хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-575">Means hello I/O operations count against hello limits of hello Azure Storage Account.</span></span>

[comment]: <> (Пользователь MSSedusch: но при этом будет использоваться пропускная способность сети, а не хранилища, не так ли?)

<span data-ttu-id="0fe6d-577">Подробные сведения об этом типе развертывания приведены здесь: <https://msdn.microsoft.com/library/dn385720.aspx>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-577">Details about this type of deployment are listed here: <https://msdn.microsoft.com/library/dn385720.aspx></span></span>

<span data-ttu-id="0fe6d-578">В порядке toostore файлов данных SQL Server непосредственно в хранилище Azure класса Premium, вы должны toohave минимальное SQL Server 2014 выпуска исправления, которые здесь описаны: <https://support.microsoft.com/kb/3063054>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-578">In order toostore SQL Server data files directly on Azure Premium Storage, you need toohave a minimum SQL Server 2014 patch release which is documented here: <https://support.microsoft.com/kb/3063054>.</span></span> <span data-ttu-id="0fe6d-579">Хранение файлов данных SQL Server в стандартном хранилище Azure работать с версией SQL Server 2014 выпущена hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-579">Storing SQL Server data files on Azure Standard Storage does work with hello released version of SQL Server 2014.</span></span> <span data-ttu-id="0fe6d-580">Однако очень такие же исправления hello содержит еще один ряд исправлений, повышения надежности hello прямом использовании хранилища больших двоичных объектов для файлов данных SQL Server и резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-580">However, hello very same patches contain another series of fixes which make hello direct usage of Azure Blob Storage for SQL Server data files and backups more reliable.</span></span> <span data-ttu-id="0fe6d-581">Корпорация Майкрософт рекомендует toouse эти исправления в целом.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-581">Therefore we recommend toouse these patches in general.</span></span>

### <a name="sql-server-2014-buffer-pool-extension"></a><span data-ttu-id="0fe6d-582">Расширение буферного пула SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="0fe6d-582">SQL Server 2014 Buffer Pool Extension</span></span>
<span data-ttu-id="0fe6d-583">В SQL Server 2014 появилась новая функция, которая называется "Расширение буферного пула".</span><span class="sxs-lookup"><span data-stu-id="0fe6d-583">SQL Server 2014 introduced a new feature which is called Buffer Pool Extension.</span></span> <span data-ttu-id="0fe6d-584">Эти функции расширяют возможности hello буферный пул SQL Server, который сохраняется в памяти с помощью кэша второго уровня, поддерживаемый SSDs локального сервера или виртуальной Машине.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-584">This functionality extends hello buffer pool of SQL Server which is kept in memory with a second level cache that is backed by local SSDs of a server or VM.</span></span> <span data-ttu-id="0fe6d-585">Это позволяет tookeep большего рабочего набора данных «в памяти».</span><span class="sxs-lookup"><span data-stu-id="0fe6d-585">This enables tookeep a larger working set of data ‘in memory’.</span></span> <span data-ttu-id="0fe6d-586">Сравниваемые tooaccessing доступа hello стандартного хранилища Azure в расширение hello hello буферного пула, который хранится на локальной SSD ВМ Azure выполняется быстрее многих факторов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-586">Compared tooaccessing Azure Standard Storage hello access into hello extension of hello buffer pool which is stored on local SSDs of an Azure VM is many factors faster.</span></span>  <span data-ttu-id="0fe6d-587">Таким образом используя локальный диск D:\ hello hello типов ВМ, имеющих отличный операций ввода-ВЫВОДА и пропускной способности может быть очень другого способа tooreduce hello IOPS загрузки в службу хранилища Azure и значительно уменьшить время отклика запросов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-587">Therefore, leveraging hello local D:\ drive of hello VM types that have excellent IOPS and throughput could be a very reasonable way tooreduce hello IOPS load against Azure Storage and improve response times of queries dramatically.</span></span> <span data-ttu-id="0fe6d-588">Это применимо особенно в том случае, если хранилище класса Premium не используется.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-588">This applies especially when not using Premium Storage.</span></span> <span data-ttu-id="0fe6d-589">В случае хранения Premium и использовании hello hello кэша чтения Azure Premium на вычислительном узле hello согласно рекомендациям для файлов данных, должны больших различий нет.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-589">In case of Premium Storage and hello usage of hello Premium Azure Read Cache on hello compute node, as recommended for data files, no big differences are expected.</span></span> <span data-ttu-id="0fe6d-590">Причиной является то, что оба кэшей (расширение буферного пула для SQL Server и кэша чтения хранилища Premium) с помощью локальных дисках вычислительных узлов hello hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-590">Reason is that both caches (SQL Server Buffer Pool Extension and Premium Storage Read Cache) are using hello local disks of hello compute nodes.</span></span>
<span data-ttu-id="0fe6d-591">Дополнительные сведения об этих возможностях см. в следующей документации: <https://msdn.microsoft.com/library/dn133176.aspx>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-591">For more details about this functionality, please check this documentation: <https://msdn.microsoft.com/library/dn133176.aspx></span></span>

### <a name="backuprecovery-considerations-for-sql-server"></a><span data-ttu-id="0fe6d-592">Рекомендации по резервному копированию и восстановлению для SQL Server</span><span class="sxs-lookup"><span data-stu-id="0fe6d-592">Backup/Recovery considerations for SQL Server</span></span>
<span data-ttu-id="0fe6d-593">При развертывании SQL Server в Azure методику резервного копирования необходимо пересмотреть.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-593">When deploying SQL Server into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="0fe6d-594">Даже если система hello не продуктивной системы, hello SAP размещенной в SQL Server необходимо резервную копию базы данных периодически.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-594">Even if hello system is not a productive system, hello SAP database hosted by SQL Server must be backed up periodically.</span></span> <span data-ttu-id="0fe6d-595">Так как служба хранилища Azure сохраняет три образа, резервное копирование становится менее важным с учетом toocompensating сбоя хранилища.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-595">Since Azure Storage keeps three images, a backup is now less important in respect toocompensating a storage crash.</span></span> <span data-ttu-id="0fe6d-596">Hello Главная причина поддержки правильную план резервного копирования и восстановления не ограничивается компенсации логических или пользовательских ошибок, предоставляя моменту времени возможности восстановления.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-596">hello priority reason for maintaining a proper backup and recovery plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="0fe6d-597">Поэтому цель hello tooeither использовать резервные копии toorestore hello базу данных обратно tooa определенных момент времени или toouse hello резервных копий в Azure tooseed другой системы путем копирования существующей базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-597">So hello goal is tooeither use backups toorestore hello database back tooa certain point in time or toouse hello backups in Azure tooseed another system by copying hello existing database.</span></span> <span data-ttu-id="0fe6d-598">Например, можно перейти от уровня 2 SAP конфигурации tooa трехуровневые системы настройки hello же системы путем восстановления резервной копии.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-598">For example, you could transfer from a 2-Tier SAP configuration tooa 3-Tier system setup of hello same system by restoring a backup.</span></span>

<span data-ttu-id="0fe6d-599">Существует три способа toobackup SQL Server tooAzure хранилища:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-599">There are three different ways toobackup SQL Server tooAzure Storage:</span></span>

1. <span data-ttu-id="0fe6d-600">SQL Server 2012 CU4 и более поздней версии может изначально резервное копирование баз данных tooa URL.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-600">SQL Server 2012 CU4 and higher can natively backup databases tooa URL.</span></span> <span data-ttu-id="0fe6d-601">Это подробно описывается в блоге hello [новые функциональные возможности SQL Server 2014 — часть 5 — улучшения резервного копирования и восстановления](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-601">This is detailed in hello blog [New functionality in SQL Server 2014 – Part 5 – Backup/Restore Enhancements](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span></span> <span data-ttu-id="0fe6d-602">Ознакомьтесь с разделом [SQL Server 2012 с пакетом обновления 1 (SP1) и накопительным пакетом обновления 4 (CU4) и последующие выпуски][dbms-guide-5.5.1].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-602">See chapter [SQL Server 2012 SP1 CU4 and later][dbms-guide-5.5.1].</span></span>
2. <span data-ttu-id="0fe6d-603">TooSQL предыдущие выпуски SQL Server 2012 CU4 могут использовать tooa toobackup функциональность перенаправления виртуального жесткого диска и по сути перейти поток записи hello к расположения службы хранилища Azure, которая была настроена.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-603">SQL Server releases prior tooSQL 2012 CU4 can use a redirection functionality toobackup tooa VHD and basically move hello write stream towards an Azure Storage location that has been configured.</span></span> <span data-ttu-id="0fe6d-604">Ознакомьтесь с разделом [SQL Server 2012 с пакетом обновления 1 (SP1) и накопительным пакетом обновления 3 (CU3) и предыдущие выпуски][dbms-guide-5.5.2].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-604">See chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2].</span></span>
3. <span data-ttu-id="0fe6d-605">Последний способ Hello — tooperform обычной команды резервного копирования toodisk SQL Server на дискового устройства VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-605">hello final method is tooperform a conventional SQL Server backup toodisk command onto a VHD disk device.</span></span>  <span data-ttu-id="0fe6d-606">Это шаблон развертывания идентичные toohello локальной и не описываются подробно в этом документе.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-606">This is identical toohello on-premises deployment pattern and is not discussed in detail in this document.</span></span>

#### <span data-ttu-id="0fe6d-607"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 с пакетом обновления 1 (SP1) и накопительным пакетом обновления 4 (CU4) и последующие выпуски</span><span class="sxs-lookup"><span data-stu-id="0fe6d-607"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 and later</span></span>
<span data-ttu-id="0fe6d-608">Эта функция позволяет хранилища больших двоичных ОБЪЕКТОВ резервного копирования tooAzure toodirectly.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-608">This functionality allows you toodirectly backup tooAzure BLOB storage.</span></span> <span data-ttu-id="0fe6d-609">Этот метод не должен создать резервную копию tooother VHD Azure, что потребует емкости VHD и операций ввода-ВЫВОДА.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-609">Without this method, you must backup tooother Azure VHDs which would consume VHD and IOPS capacity.</span></span> <span data-ttu-id="0fe6d-610">Идея Hello это по сути:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-610">hello idea is basically this:</span></span>

 ![С помощью резервного копирования SQL Server 2012 tooMicrosoft BLOB-ОБЪЕКТА хранилища Azure][dbms-guide-figure-400]

<span data-ttu-id="0fe6d-612">Преимущество Hello в данном случае является требуются резервные копии SQL Server toospend виртуальные жесткие диски toostore на одно не.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-612">hello advantage in this case is that one doesn’t need toospend VHDs toostore SQL Server backups on.</span></span> <span data-ttu-id="0fe6d-613">Поэтому имеется выделяется меньшее число VHD и hello вся пропускная способность операций ввода-ВЫВОДА VHD может использоваться для файлов данных и журналов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-613">So you have fewer VHDs allocated and hello whole bandwidth of VHD IOPS can be used for data and log files.</span></span> <span data-ttu-id="0fe6d-614">Обратите внимание, hello максимальный размер резервной копии — ограниченный tooa максимум 1 ТБ, как описано в разделе hello «Ограничения» в этой статье: <https://msdn.microsoft.com/library/dn435916.aspx#limitations>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-614">Please note that hello maximum size of a backup is limited tooa maximum of 1 TB as documented in hello section ‘Limitations’ in this article: <https://msdn.microsoft.com/library/dn435916.aspx#limitations>.</span></span> <span data-ttu-id="0fe6d-615">Если размер резервной копии hello, несмотря на использование сжатия резервных копий SQL Server будет превышать 1 ТБ, размер, hello функциональные возможности, описанные в главах [SQL Server 2012 SP1 CU3 и более ранних версиях] [ dbms-guide-5.5.2] в этом документе, должен быть использовать toobe.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-615">If hello backup size, despite using SQL Server Backup compression would exceed 1 TB in size, hello functionality described in chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2] in this document needs toobe used.</span></span>

<span data-ttu-id="0fe6d-616">[Связанные документации](https://msdn.microsoft.com/library/dn449492.aspx) описанием hello восстановление баз данных из резервных копий в хранилище больших двоичных объектов Azure рекомендуется не toorestore непосредственно из хранилища больших двоичных ОБЪЕКТОВ Azure, если резервные копии hello > 25 ГБ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-616">[Related documentation](https://msdn.microsoft.com/library/dn449492.aspx) describing hello restore of databases from backups against Azure Blob Store recommend not toorestore directly from Azure BLOB store if hello backups is >25GB.</span></span> <span data-ttu-id="0fe6d-617">Рекомендация Hello в этой статье просто основанный на вопросы производительности, а не из-за ограничений toofunctional.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-617">hello recommendation in this article is simply based on performance considerations and not due toofunctional restrictions.</span></span> <span data-ttu-id="0fe6d-618">Поэтому для разных случаев могут применяться разные условия.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-618">Therefore, different conditions may apply on a case by case basis.</span></span>

<span data-ttu-id="0fe6d-619">Документацию по настройке и использованию преимуществ этого типа архивации можно найти в [этом](https://msdn.microsoft.com/library/dn466438.aspx) учебнике.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-619">Documentation on how this type of backup is set up and leveraged can be found in [this](https://msdn.microsoft.com/library/dn466438.aspx) tutorial</span></span>

<span data-ttu-id="0fe6d-620">Пример hello последовательности шагов могут считываться [здесь](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-620">An example of hello sequence of steps can be read [here](https://msdn.microsoft.com/library/dn435916.aspx).</span></span>

<span data-ttu-id="0fe6d-621">Автоматизация резервного копирования, оно имеет наивысший важность toomake убедиться, что различными именами hello больших двоичных объектов для каждой резервной копии.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-621">Automating backups, it is of highest importance toomake sure that hello BLOBs for each backup are named differently.</span></span> <span data-ttu-id="0fe6d-622">В противном случае они будут перезаписаны и hello цепочка восстановления будет разорвана.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-622">Otherwise they will be overwritten and hello restore chain is broken.</span></span>

<span data-ttu-id="0fe6d-623">В порядке не toomix копирование действия для hello 3 различных типов резервных копий это разные контейнеры рекомендуется toocreate под учетной записи хранилища hello, используемой для резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-623">In order not toomix up things between hello 3 different types of backups, it is advisable toocreate different containers underneath hello storage account used for backups.</span></span> <span data-ttu-id="0fe6d-624">Hello контейнеры можно разделять по ВМ только или по типу ВМ и резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-624">hello containers could be by VM only or by VM and Backup type.</span></span> <span data-ttu-id="0fe6d-625">Hello схемы может выглядеть так:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-625">hello schema could look like:</span></span>

 ![С помощью резервного копирования SQL Server 2012 tooMicrosoft BLOB-ОБЪЕКТА хранилища Azure — разные контейнеры в отдельной учетной записи хранения][dbms-guide-figure-500]

<span data-ttu-id="0fe6d-627">В примере hello выше hello, резервные копии не будет выполняться в учетной записи же хранилище, где hello hello развернутых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-627">In hello example above, hello backups would not be performed into hello same storage account where hello VMs are deployed.</span></span> <span data-ttu-id="0fe6d-628">Будет специально для резервных копий hello новой учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-628">There would be a new storage account specifically for hello backups.</span></span> <span data-ttu-id="0fe6d-629">В учетных записях хранения hello будет разные контейнеры, созданные с помощью матрицы hello тип резервного копирования и hello имя виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-629">Within hello storage accounts, there would be different containers created with a matrix of hello type of backup and hello VM name.</span></span> <span data-ttu-id="0fe6d-630">Такая сегментация позволит упростить tooadministrate hello резервные копии hello разных ВМ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-630">Such segmentation will make it easier tooadministrate hello backups of hello different VMs.</span></span>

<span data-ttu-id="0fe6d-631">большие двоичные объекты Hello один непосредственно записи hello резервные копии, не добавляете toohello число hello виртуальных жестких дисков виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-631">hello BLOBs one directly writes hello backups to, are not adding toohello count of hello VHDs of a VM.</span></span> <span data-ttu-id="0fe6d-632">Следовательно, можно использовать максимум подключенных hello конкретной SKU ВМ для данных hello VHD hello и файле журнала транзакций и по-прежнему выполнять резервное копирование в контейнер хранилища.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-632">Hence one could maximize hello maximum of VHDs mounted of hello specific VM SKU for hello data and transaction log file and still execute a backup against a storage container.</span></span>

#### <span data-ttu-id="0fe6d-633"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 с пакетом обновления 1 (SP1) и накопительным пакетом обновления 3 (CU3) и предыдущие выпуски</span><span class="sxs-lookup"><span data-stu-id="0fe6d-633"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 and earlier releases</span></span>
<span data-ttu-id="0fe6d-634">Первым шагом Hello в порядке tooachieve необходимо выполнить резервное копирование непосредственно в хранилище Azure будет toodownload hello msi, который связан слишком[это](https://www.microsoft.com/download/details.aspx?id=40740) KBA статьи.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-634">hello first step you must perform in order tooachieve a backup directly against Azure Storage would be toodownload hello msi which is linked too[this](https://www.microsoft.com/download/details.aspx?id=40740) KBA article.</span></span>

<span data-ttu-id="0fe6d-635">Загрузите файл установки hello x64 и документации hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-635">Download hello x64 installation file and hello documentation.</span></span> <span data-ttu-id="0fe6d-636">файл Hello установит программу, которая называется: «Microsoft SQL Server Backup tooMicrosoft средства Azure».</span><span class="sxs-lookup"><span data-stu-id="0fe6d-636">hello file will install a program called: ‘Microsoft SQL Server Backup tooMicrosoft Azure Tool’.</span></span> <span data-ttu-id="0fe6d-637">Внимательно прочтите документацию hello hello продукта.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-637">Read hello documentation of hello product thoroughly.</span></span>  <span data-ttu-id="0fe6d-638">Программа Hello работает в основном hello следующими способами:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-638">hello tool basically works in hello following way:</span></span>

* <span data-ttu-id="0fe6d-639">Из hello стороне SQL Server, определяется местоположение диска для резервного копирования SQL Server hello (не используйте диск D:\ hello для этого).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-639">From hello SQL Server side, a disk location for hello SQL Server backup is defined (don’t use hello D:\ drive for this).</span></span>
* <span data-ttu-id="0fe6d-640">Средство Hello разрешить toodefine правил, которые могут быть разных типов используемых toodirect контейнеров хранилища Azure toodifferent резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-640">hello tool will allow you toodefine rules which can be used toodirect different types of backups toodifferent Azure Storage containers.</span></span>
* <span data-ttu-id="0fe6d-641">После правила hello hello инструмент будет направлять поток записи hello резервного копирования tooone hello объекта toohello VHD/дисков hello расположение хранилища Azure, заданное ранее.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-641">Once hello rules are in place, hello tool will redirect hello write stream of hello backup tooone of hello VHDs/disks toohello Azure Storage location which was defined earlier.</span></span>
* <span data-ttu-id="0fe6d-642">Hello инструмент будет оставлять файл-заглушку небольшого размера несколько КБ на hello VHD-диск, который был определен для hello SQL Server резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-642">hello tool will leave a small stub file of a few KB size on hello VHD/Disk which was defined for hello SQL Server backup.</span></span> <span data-ttu-id="0fe6d-643">**Этот файл должен оставаться на место хранения hello, так как она является обязательным toorestore снова из хранилища Azure.**</span><span class="sxs-lookup"><span data-stu-id="0fe6d-643">**This file should be left on hello storage location since it is required toorestore again from Azure Storage.**</span></span>
  * <span data-ttu-id="0fe6d-644">Если файл заглушки hello (например, утрачен hello носителя, содержащего файл заглушки hello), были потеряны и вы выбрали вариант hello резервного копирования tooa учетной записью хранения Microsoft Azure, можно восстановить файл заглушки hello через хранилища Microsoft Azure загрузив его из контейнера хранилища hello, в котором она размещена.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-644">If you have lost hello stub file (e.g. through loss of hello storage media that contained hello stub file) and you have chosen hello option of backing up tooa Microsoft Azure Storage account, you may recover hello stub file through Microsoft Azure Storage by downloading it from hello storage container in which it was placed.</span></span> <span data-ttu-id="0fe6d-645">Затем следует поместить файл заглушки hello в папку на локальном компьютере hello, где настроенных toohello toodetect и передачи hello средство же контейнер с hello одинаковым паролем шифрования, если используется шифрование с исходное правило hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-645">You should then place hello stub file into a folder on hello local machine where hello Tool is configured toodetect and upload toohello same container with hello same encryption password if encryption was used with hello original rule.</span></span>

<span data-ttu-id="0fe6d-646">Это означает, что схемы hello как описано выше для последних версий SQL Server могут быть помещены в месте, а также в версиях SQL Server, на которых не разрешена прямая адресация расположения службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-646">This means hello schema as described above for more recent releases of SQL Server can be put in place as well for SQL Server releases which are not allowing direct address an Azure Storage location.</span></span>

<span data-ttu-id="0fe6d-647">Этот способ не следует использовать с более новыми версиями SQL Server, которые изначально поддерживают резервное копирование в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-647">This method should not be used with more recent SQL Server releases which support backing up natively against Azure Storage.</span></span> <span data-ttu-id="0fe6d-648">Исключениями являются которых ограничения встроенного резервного копирования hello в Azure блокируют выполнение такого резервного копирования в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-648">Exceptions are where limitations of hello native backup into Azure are blocking native backup execution into Azure.</span></span>

#### <a name="other-possibilities-toobackup-sql-server-databases"></a><span data-ttu-id="0fe6d-649">Другие базы данных SQL Server можно использовать toobackup</span><span class="sxs-lookup"><span data-stu-id="0fe6d-649">Other possibilities toobackup SQL Server databases</span></span>
<span data-ttu-id="0fe6d-650">Другие возможности toobackup базы данных — tooattach tooa дополнительных виртуальных жестких дисков виртуальной Машины, используйте toostore резервные копии на.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-650">Other possibilities toobackup databases is tooattach additional VHDs tooa VM that you use toostore backups on.</span></span> <span data-ttu-id="0fe6d-651">В этом случае потребуется toomake убедитесь, что этот hello виртуальные жесткие диски не выполняются полной.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-651">In such a case you would need toomake sure that hello VHDs are not running full.</span></span> <span data-ttu-id="0fe6d-652">Если это так hello, потребовалось бы toounmount hello виртуального жесткого диска и поэтому toospeak «Архивация» и заменить ее новой пустой виртуальный жесткий ДИСК.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-652">If that is hello case, you would need toounmount hello VHD and so toospeak ‘archive’ it and replace it with a new empty VHD.</span></span> <span data-ttu-id="0fe6d-653">Вы вышли из строя этого пути, следует ли tookeep эти VHD в отдельных учетных записей хранилища Azure из hello те, которые hello виртуальные жесткие диски с файлами базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-653">If you go down that path, you want tookeep these VHDs in separate Azure Storage Accounts from hello ones that hello VHDs with hello database files.</span></span>

<span data-ttu-id="0fe6d-654">Вторая возможность — это большая ВМ, который может иметь много VHD, подключенные toouse.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-654">A second possibility is toouse a large VM that can have many VHDs attached.</span></span> <span data-ttu-id="0fe6d-655">Например: </span><span class="sxs-lookup"><span data-stu-id="0fe6d-655">E.g.</span></span> <span data-ttu-id="0fe6d-656">виртуальную машину D14 с 32 виртуальными жесткими дисками.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-656">D14 with 32VHDs.</span></span> <span data-ttu-id="0fe6d-657">Используйте это та гибкая среда, где можно создать общие папки, используются затем как целевые объекты резервного копирования для различных серверов СУБД hello toobuild дисковых пространств.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-657">Use Storage Spaces toobuild a flexible environment where you could build shares that are used then as backup targets for hello different DBMS servers.</span></span>

<span data-ttu-id="0fe6d-658">Некоторые практические рекомендации также описаны [здесь](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) .</span><span class="sxs-lookup"><span data-stu-id="0fe6d-658">Some best practices got documented [here](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) as well.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="0fe6d-659">Рекомендации по ускорению резервного копирования и восстановления</span><span class="sxs-lookup"><span data-stu-id="0fe6d-659">Performance considerations for backups/restores</span></span>
<span data-ttu-id="0fe6d-660">Как в исходных развертываниях производительности резервного копирования и восстановления зависит от того, сколько томов может читаться параллельно и могут быть какие hello пропускной способности этих томов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-660">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="0fe6d-661">Кроме того hello потребление ресурсов ЦП при сжатии резервной копии может играют важную роль на виртуальных машинах с просто копирование too8 потоков ЦП.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-661">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up too8 CPU threads.</span></span> <span data-ttu-id="0fe6d-662">Исходя из сказанного выше, можно сделать следующие выводы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-662">Therefore, one can assume:</span></span>

* <span data-ttu-id="0fe6d-663">Hello hello число виртуальных жестких дисков используется toostore hello-файлов hello меньшего hello общую пропускную способность при чтении.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-663">hello fewer hello number of VHDs used toostore hello data files, hello smaller hello overall throughput in reading.</span></span>
* <span data-ttu-id="0fe6d-664">Здравствуйте, меньшим числом потоков ЦП в ВМ hello hello, hello более серьезное влияние hello сжатие резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-664">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression.</span></span>
* <span data-ttu-id="0fe6d-665">Hello меньшее число целевых объектов (BLOB-объектов или VHD) toowrite Здравствуйте резервного копирования для, hello меньшей пропускной способности hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-665">hello fewer targets (BLOBs or VHDs) toowrite hello backup to, hello lesser hello throughput.</span></span>
* <span data-ttu-id="0fe6d-666">hello Hello меньший размер виртуальной Машины, hello меньшего размера hello пропускной способности квота хранилища записи и чтения из хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-666">hello smaller hello VM size, hello smaller hello storage throughput quota writing and reading from Azure Storage.</span></span> <span data-ttu-id="0fe6d-667">Независимо от ли резервные копии hello сохраняются непосредственно на больших двоичных объектов Azure или они хранятся в виртуальные жесткие диски, еще раз, сохраняются в BLOB-объектов Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-667">Independent of whether hello backups are directly stored on Azure Blob or whether they are stored in VHDs that again are stored in Azure Blobs.</span></span>

<span data-ttu-id="0fe6d-668">При использовании больших двоичных ОБЪЕКТОВ хранилища Microsoft Azure в качестве целевой диск резервного копирования hello в последних версиях, их ограниченные toodesignating только один целевой URL-адрес для каждого конкретного резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-668">When using a Microsoft Azure Storage BLOB as hello backup target in more recent releases, you are restricted toodesignating only one URL target for each specific backup.</span></span>

<span data-ttu-id="0fe6d-669">Однако при использовании hello «Microsoft SQL Server Backup tooMicrosoft средства Azure» в предыдущих версиях, можно определить более одного целевого файла.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-669">But when using hello ‘Microsoft SQL Server Backup tooMicrosoft Azure Tool’ in older releases, you can define more than one file target.</span></span> <span data-ttu-id="0fe6d-670">С более чем одним целевым объектом hello резервное копирование можно масштабировать и hello пропускная способность резервного копирования hello выше.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-670">With more than one target, hello backup can scale and hello throughput of hello backup is higher.</span></span> <span data-ttu-id="0fe6d-671">Это приведет к созданию в нескольких файлах, а также в hello учетной записи хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-671">This would result then in multiple files as well in hello Azure Storage account.</span></span> <span data-ttu-id="0fe6d-672">В нашем тестировании, использовании нескольких файловых назначений определенно можно достичь пропускной способности hello, которая достигается с помощью расширений резервного копирования hello, реализованных начиная с SQL Server 2012 SP1 CU4.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-672">In our testing, using multiple file destinations one can definitely achieve hello throughput which one could achieve with hello backup extensions implemented in from SQL Server 2012 SP1 CU4 on.</span></span> <span data-ttu-id="0fe6d-673">Вы также не блокируются hello ограничение 1 ТБ как hello собственного резервного копирования в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-673">You also are not blocked by hello 1TB limit as in hello native backup into Azure.</span></span>

<span data-ttu-id="0fe6d-674">Однако, иметь в виду, hello пропускная способность также зависит от расположения hello hello учетной записи хранилища Azure, использовать для резервного копирования hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-674">However, keep in mind, hello throughput also is dependent on hello location of hello Azure Storage Account you use for hello backup.</span></span> <span data-ttu-id="0fe6d-675">Представление может быть toolocate hello учетной записи хранения в разных регионах hello виртуальные машины запущены в.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-675">An idea might be toolocate hello storage account in a different region than hello VMs are running in.</span></span> <span data-ttu-id="0fe6d-676">Например: </span><span class="sxs-lookup"><span data-stu-id="0fe6d-676">E.g.</span></span> <span data-ttu-id="0fe6d-677">можно запустить конфигурацию виртуальной Машины hello в Западной Европе, а поместить hello учетной записи хранилища, используемая tooback сводится в Северной Европе.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-677">you would run hello VM configuration in West-Europe, but put hello Storage Account that you use tooback up against in North-Europe.</span></span> <span data-ttu-id="0fe6d-678">Определенно будет влиять на hello пропускная способность резервного копирования и вероятность toogenerate 150 МБ/с пропускной способностью как кажется toobe возможна в случаях, когда hello целевое хранилище и hello виртуальные машины работают в hello одного регионального центра обработки данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-678">That certainly will have impact on hello backup throughput and is not likely toogenerate a throughput of 150MB/sec as it seems toobe possible in cases where hello target storage and hello VMs are running in hello same regional datacenter.</span></span>

#### <a name="managing-backup-blobs"></a><span data-ttu-id="0fe6d-679">Управление BLOB-объектами при резервном копировании</span><span class="sxs-lookup"><span data-stu-id="0fe6d-679">Managing Backup BLOBs</span></span>
<span data-ttu-id="0fe6d-680">Нет резервных копий требование toomanage hello самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-680">There is a requirement toomanage hello backups on your own.</span></span> <span data-ttu-id="0fe6d-681">Поскольку hello ожидается, что много BLOB-объектов будет создан путем выполнения резервных копий журналов транзакций часто, администрирование этих BLOB-объектов может легко перегрузить портал Azure hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-681">Since hello expectation is that many blobs will be created by executing frequent transaction log backups, administration of those blobs easily can overburden hello Azure Portal.</span></span> <span data-ttu-id="0fe6d-682">Таким образом это рекомендуется tooleverage обозреватель хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-682">Therefore, it is recommendable tooleverage a Azure Storage Explorer.</span></span> <span data-ttu-id="0fe6d-683">Существует несколько хороших доступных обозревателей которых может помочь toomanage учетную запись хранилища Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-683">There are several good ones available which can help toomanage an Azure storage account</span></span>

* <span data-ttu-id="0fe6d-684">Microsoft Visual Studio с установленным пакетом SDK для Azure (<https://azure.microsoft.com/downloads/>).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-684">Microsoft Visual Studio with Azure SDK installed (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="0fe6d-685">Обозреватель службы хранилища Microsoft Azure (<https://azure.microsoft.com/downloads/>).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-685">Microsoft Azure Storage Explorer (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="0fe6d-686">Средства сторонних производителей</span><span class="sxs-lookup"><span data-stu-id="0fe6d-686">3rd party tools</span></span>

[comment]: <> (Еще не поддерживается в ARM)
[comment]: <> (Архивация виртуальных машин Azure)
[comment]: <> (Виртуальные машины в системе SAP hello резервное копирование с помощью функции резервного копирования виртуальной машины Azure. Резервное копирование виртуальной машины Azure появилась в начале 2015 г. hello и в то же время является toobackup стандартный метод завершения виртуальную Машину в Azure. Служба архивации Azure хранятся резервные копии hello в Azure и позволяет восстановление виртуальной Машины, еще раз.)
[comment]: <> (Виртуальные машины, которые выполнения может быть резервное копирование баз данных также согласованного Если hello СУБД систем поддерживает hello службы теневого копирования тома VSS Windows < https://msdn.microsoft.com/library/windows/desktop/bb968832.aspx> как SQL Server. Поэтому с помощью резервной копии виртуальной Машины Azure может tooa tooget образом подходящие для восстановления резервной копии базы данных SAP. При этом следует помнить, что восстановление баз данных до определенной точки во времени невозможно, если резервная копия была создана с помощью службы архивации виртуальных машин Azure. Таким образом hello рекомендуется tooperform резервные копии баз данных с функциональность СУБД, не полагаясь на резервное копирование виртуальной Машины Azure.)
[comment]: <> (tooget знакомы с резервное копирование виртуальных машин Azure, начните здесь < https://azure.microsoft.com/documentation/services/backup/>)

### <span data-ttu-id="0fe6d-692"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Использование образов SQL Server из Microsoft Azure Marketplace hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-692"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Using a SQL Server images out of hello Microsoft Azure Marketplace</span></span>
<span data-ttu-id="0fe6d-693">Корпорация Майкрософт предлагает ВМ в hello Azure Marketplace, уже содержащие версии SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-693">Microsoft offers VMs in hello Azure Marketplace which already contain versions of SQL Server.</span></span> <span data-ttu-id="0fe6d-694">Для клиентов SAP, которым требуются лицензии на SQL Server и Windows это может быть возможность титульной toobasically hello необходимость лицензий путем развертывания VM с уже установленным SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-694">For SAP customers who require licenses for SQL Server and Windows, this might be an opportunity toobasically cover hello need for licenses by spinning up VMs with SQL Server already installed.</span></span> <span data-ttu-id="0fe6d-695">В порядке toouse такие образы для SAP, hello следующие вопросы должны toobe внесены.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-695">In order toouse such images for SAP, hello following considerations need toobe made:</span></span>

* <span data-ttu-id="0fe6d-696">Неознакомительные версии SQL Server Hello получить требуют больших затрат, чем просто только для Windows ВМ, развернутой из Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-696">hello SQL Server non-Evaluation versions acquire higher costs than just a ‘Windows-only’ VM deployed from Azure Marketplace.</span></span> <span data-ttu-id="0fe6d-697">См. в разделе цены toocompare эти статьи: <https://azure.microsoft.com/pricing/details/virtual-machines/> и <https://azure.microsoft.com/pricing/details/virtual-machines/#Sql>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-697">Please see these articles toocompare prices: <https://azure.microsoft.com/pricing/details/virtual-machines/> and <https://azure.microsoft.com/pricing/details/virtual-machines/#Sql>.</span></span>
* <span data-ttu-id="0fe6d-698">Использовать можно только те выпуски SQL Server, которые поддерживаются SAP, например SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-698">You only can use SQL Server releases which are supported by SAP, like SQL Server 2012.</span></span>
* <span data-ttu-id="0fe6d-699">Hello параметры сортировки экземпляра SQL Server hello, который устанавливается на виртуальных машинах hello, предусмотренных в Azure Marketplace hello не параметры сортировки hello SAP NetWeaver требует toorun экземпляр SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-699">hello collation of hello SQL Server instance which is installed in hello VMs offered in hello Azure Marketplace is not hello collation SAP NetWeaver requires hello SQL Server instance toorun.</span></span> <span data-ttu-id="0fe6d-700">Вы можете изменить параметры сортировки hello хотя и с hello указаниям, приведенным в следующем разделе hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-700">You can change hello collation though with hello directions in hello following section.</span></span>

#### <a name="changing-hello-sql-server-collation-of-a-microsoft-windowssql-server-vm"></a><span data-ttu-id="0fe6d-701">Изменение параметров сортировки SQL Server виртуальной машины Microsoft Windows или SQL Server hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-701">Changing hello SQL Server Collation of a Microsoft Windows/SQL Server VM</span></span>
<span data-ttu-id="0fe6d-702">Поскольку hello образов SQL Server в Azure Marketplace hello не настроены параметры сортировки toouse hello, необходимый для приложений SAP NetWeaver, ему toobe, изменить его сразу после развертывания hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-702">Since hello SQL Server images in hello Azure Marketplace are not set up toouse hello collation which is required by SAP NetWeaver applications, it needs toobe changed immediately after hello deployment.</span></span> <span data-ttu-id="0fe6d-703">SQL Server 2012 это можно сделать с помощью hello следующие действия как можно скорее hello которой развернута виртуальная машина, и администратор может toolog в hello развертывания ВМ:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-703">For SQL Server 2012, this can be done with hello following steps as soon as hello VM has been deployed and an administrator is able toolog into hello deployed VM:</span></span>

* <span data-ttu-id="0fe6d-704">Откройте окно командной строки Windows с правами администратора.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-704">Open a Windows Command Window ‘as administrator’.</span></span>
* <span data-ttu-id="0fe6d-705">Измените каталог hello tooC:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-705">Change hello directory tooC:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span></span>
* <span data-ttu-id="0fe6d-706">Выполните команду hello: Setup.exe/quiet/Action = REBUILDDATABASE/instancename = MSSQLSERVER/sqlsysadminaccounts =`<local_admin_account_name`>/SQLCOLLATION = SQL_Latin1_General_Cp850_BIN2</span><span class="sxs-lookup"><span data-stu-id="0fe6d-706">Execute hello command: Setup.exe /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=MSSQLSERVER /SQLSYSADMINACCOUNTS=`<local_admin_account_name`> /SQLCOLLATION=SQL_Latin1_General_Cp850_BIN2</span></span>   
  * <span data-ttu-id="0fe6d-707">`<local_admin_account_name`> hello учетная запись, которой был определен как hello учетной записи администратора при развертывании hello виртуальной Машины для hello впервые hello коллекции.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-707">`<local_admin_account_name`> is hello account which was defined as hello administrator account when deploying hello VM for hello first time through hello gallery.</span></span>

<span data-ttu-id="0fe6d-708">процесс Hello обычно занимает несколько минут.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-708">hello process should only take a few minutes.</span></span> <span data-ttu-id="0fe6d-709">В порядке toomake убедиться, что ли шаг hello завершено с hello правильный результат, выполните следующие шаги hello:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-709">In order toomake sure whether hello step ended up with hello correct result, please perform hello following steps:</span></span>

* <span data-ttu-id="0fe6d-710">Откройте среду SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-710">Open SQL Server Management Studio.</span></span>
* <span data-ttu-id="0fe6d-711">Откройте окно запроса.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-711">Open a Query Window.</span></span>
* <span data-ttu-id="0fe6d-712">Выполните команду sp_helpsort hello в главной базе данных SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-712">Execute hello command sp_helpsort in hello SQL Server master database.</span></span>

<span data-ttu-id="0fe6d-713">Hello требуемого результат должен выглядеть так:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-713">hello desired result should look like:</span></span>

    Latin1-General, binary code point comparison sort for Unicode Data, SQL Server Sort Order 40 on Code Page 850 for non-Unicode Data

<span data-ttu-id="0fe6d-714">Если это не является результатом hello, ОСТАНОВИТЕ развертывание SAP и выясните, почему hello установки команда не работает должным образом.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-714">If this is not hello result, STOP deploying SAP and investigate why hello setup command did not work as expected.</span></span> <span data-ttu-id="0fe6d-715">Развертывание приложений SAP NetWeaver в экземпляре SQL Server с разных кодовых страниц для SQL Server не hello упомянутый выше является **не** поддерживается.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-715">Deployment of SAP NetWeaver applications onto SQL Server instance with different SQL Server codepages than hello one mentioned above is **NOT** supported.</span></span>

### <a name="sql-server-high-availability-for-sap-in-azure"></a><span data-ttu-id="0fe6d-716">Высокая доступность SQL Server для SAP в Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-716">SQL Server High-Availability for SAP in Azure</span></span>
<span data-ttu-id="0fe6d-717">Как упоминалось выше в этом документе нет без хранения toocreate общие возможности, необходимые для использования hello hello старые функции высокого уровня доступности SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-717">As mentioned earlier in this paper, there is no possibility toocreate shared storage which is necessary for hello usage of hello oldest SQL Server high availability functionality.</span></span> <span data-ttu-id="0fe6d-718">Эта функциональность устанавливала не менее двух экземпляров SQL Server в Windows Server отказоустойчивого кластера (WSFC) с помощью общего диска для hello пользовательских баз данных (и, в конечном счете, tempdb).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-718">This functionality would install two or more SQL Server instances in a Windows Server Failover Cluster (WSFC) using a shared disk for hello user databases (and eventually tempdb).</span></span> <span data-ttu-id="0fe6d-719">Это hello долго Стандартная высокий уровень доступности метода, который также поддерживаемый SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-719">This is hello long time standard high availability method which also is supported by SAP.</span></span> <span data-ttu-id="0fe6d-720">Поскольку Azure не поддерживает общее хранилище, невозможно реализовать конфигурации высокого уровня доступности SQL Server с конфигурацией кластера общих дисков.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-720">Because Azure doesn’t support shared storage, SQL Server high availability configurations with a shared disk cluster configuration cannot be realized.</span></span> <span data-ttu-id="0fe6d-721">Однако многие другие методы высокого уровня доступности все равно могут иметь и описаны в следующих разделах hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-721">However, many other high availability methods are still possible and are described in hello following sections.</span></span>

[comment]: <> (Статьи по-прежнему refering tooASM)
[comment]: <> (Перед прочтением hello разных конкретных высокий уровень доступности технологии можно использовать для SQL Server в Azure, является очень полезный документ, который содержит дополнительные сведения и указатели [[[[здесь] Virtual-Machines-SQL-Server-High-Availability-and-disaster-recovery-Solutions])

#### <a name="sql-server-log-shipping"></a><span data-ttu-id="0fe6d-724">Доставка журналов SQL Server</span><span class="sxs-lookup"><span data-stu-id="0fe6d-724">SQL Server Log Shipping</span></span>
<span data-ttu-id="0fe6d-725">Один из методов hello объекта высокого уровня доступности (HA) — доставка журналов SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-725">One of hello methods of high availability (HA) is SQL Server Log Shipping.</span></span> <span data-ttu-id="0fe6d-726">Если hello виртуальных машин, участвующих в конфигурации высокого уровня ДОСТУПНОСТИ hello имеют работающее разрешение имен, то проблем не существует и установки hello в Azure не будет отличаться от настройки, в которой выполняется в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-726">If hello VMs participating in hello HA configuration have working name resolution, there is no problem and hello setup in Azure will not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="0fe6d-727">Не рекомендуется toorely на только разрешение IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-727">It is not recommended toorely on IP resolution only.</span></span> <span data-ttu-id="0fe6d-728">В отношении toosetting копирование доставки журналов и hello принципах доставки журналов см. в этой документации:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-728">In regards toosetting up Log Shipping and hello principles around Log Shipping please check this documentation:</span></span>

<span data-ttu-id="0fe6d-729"><https://technet.microsoft.com/library/ms187103.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-729"><https://technet.microsoft.com/library/ms187103.aspx></span></span>

<span data-ttu-id="0fe6d-730">В порядке tooreally добиться высокой доступности, одно из них должно toodeploy hello виртуальных машин, которые находятся в пределах такой toobe конфигурации доставки журналов в рамках hello одну группу доступности Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-730">In order tooreally achieve any high availability, one needs toodeploy hello VMs which are within such a Log Shipping configuration toobe within hello same Azure Availability Set.</span></span>

#### <a name="database-mirroring"></a><span data-ttu-id="0fe6d-731">Зеркальное отображение базы данных</span><span class="sxs-lookup"><span data-stu-id="0fe6d-731">Database Mirroring</span></span>
<span data-ttu-id="0fe6d-732">Зеркальное отображение базы данных, поддерживаемое SAP (см. Примечание SAP [965908]) опирается на определение резервного участника в строку подключения SAP hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-732">Database Mirroring as supported by SAP (see SAP Note [965908]) relies on defining a failover partner in hello SAP connection string.</span></span> <span data-ttu-id="0fe6d-733">В случаях hello между организациями, предполагается, что hello две виртуальные машины находятся в hello того же домена и что экземпляры SQL Server hello двух контекст пользователя hello запущены в группе, а также пользователей домена и имеет достаточные привилегии в hello двух экземплярах SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-733">For hello Cross-Premises cases, we assume that hello two VMs are in hello same domain and that hello user context hello two SQL Server instances are running under are domain users as well and have sufficient privileges in hello two SQL Server instances involved.</span></span> <span data-ttu-id="0fe6d-734">Таким образом hello настройки зеркального отображения базы данных в Azure не отличается от обычной локальной установки и конфигурации.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-734">Therefore, hello setup of Database Mirroring in Azure does not differ between a typical on-premises setup/configuration.</span></span>

<span data-ttu-id="0fe6d-735">Как только для облака развертываний, простой способ hello-toohave другой домен установки в Azure toohave этих ВМ СУБД (и в идеале выделенных ВМ SAP) в одном домене.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-735">As of Cloud-Only deployments, hello easiest method is toohave another domain setup in Azure toohave those DBMS VMs (and ideally dedicated SAP VMs) within one domain.</span></span>

<span data-ttu-id="0fe6d-736">Если домен не поддерживается, один можно также использовать сертификаты для hello базы данных конечные точки зеркального отображения, как описано здесь: <https://technet.microsoft.com/library/ms191477.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-736">If a domain is not possible, one can also use certificates for hello database mirroring endpoints as described here: <https://technet.microsoft.com/library/ms191477.aspx></span></span>

<span data-ttu-id="0fe6d-737">Учебник tooset вверх зеркального отображения базы данных в Azure можно найти здесь: <https://technet.microsoft.com/library/ms189852.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-737">A tutorial tooset-up Database Mirroring in Azure can be found here: <https://technet.microsoft.com/library/ms189852.aspx></span></span>

#### <a name="alwayson"></a><span data-ttu-id="0fe6d-738">AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="0fe6d-738">AlwaysOn</span></span>
<span data-ttu-id="0fe6d-739">Как AlwaysOn поддерживаются для SAP локально (см. Примечание SAP [1772688]), он является поддерживаемых toobe используется в сочетании с SAP в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-739">As AlwaysOn is supported for SAP on-premises (see SAP Note [1772688]), it is supported toobe used in combination with SAP in Azure.</span></span> <span data-ttu-id="0fe6d-740">Hello фактов, которые не могут toocreate общих дисков в Azure не означает, что нельзя создать в конфигурации AlwaysOn отказоустойчивого кластера (WSFC), между разными ВМ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-740">hello fact that you are not able toocreate shared disks in Azure doesn’t mean that one can’t create an AlwaysOn Windows Server Failover Cluster (WSFC) configuration between different VMs.</span></span> <span data-ttu-id="0fe6d-741">Только означает, что у вас toouse вероятность hello общий диск как кворума в конфигурации кластера hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-741">It only means that you do not have hello possibility toouse a shared disk as a quorum in hello cluster configuration.</span></span> <span data-ttu-id="0fe6d-742">Таким образом можно создать в Azure конфигурацию AlwaysOn WSFC и просто не выбирать тип кворума hello, использующий общий диск.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-742">Hence you can build an AlwaysOn WSFC configuration in Azure and simply not select hello quorum type that utilizes shared disk.</span></span> <span data-ttu-id="0fe6d-743">Hello среды Azure эти виртуальные машины развертываются в должно разрешаться hello виртуальных машин по имени и hello виртуальные машины должны находиться в hello того же домена.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-743">hello Azure environment those VMs are deployed in should resolve hello VMs by name and hello VMs should be in hello same domain.</span></span> <span data-ttu-id="0fe6d-744">Это касается развертываний только в Azure и распределенных развертываний.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-744">This is true for Azure only and Cross-Premises deployments.</span></span> <span data-ttu-id="0fe6d-745">Существует несколько особых рекомендаций по развертыванию hello прослушивателя группы доступности SQL Server (не toobe путать с hello группе доступности Azure) с момента Azure на данный момент времени не допускает toosimply создать объект AD/DNS, так как локальной.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-745">There are some special considerations around deploying hello SQL Server Availability Group Listener (not toobe confused with hello Azure Availability Set) since Azure at this point in time does not allow toosimply create an AD/DNS object as it is possible on-premises.</span></span> <span data-ttu-id="0fe6d-746">Таким образом некоторые действия установки, необходимые tooovercome hello поведения Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-746">Therefore, some different installation steps are necessary tooovercome hello specific behavior of Azure.</span></span>

<span data-ttu-id="0fe6d-747">Ниже приведены некоторые рекомендации по использованию прослушивателя группы доступности.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-747">Some considerations using an Availability Group Listener are:</span></span>

* <span data-ttu-id="0fe6d-748">С помощью прослушивателя группы доступности можно только с Windows Server 2012 или Windows Server 2012 R2 как гостевой ОС hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-748">Using an Availability Group Listener is only possible with Windows Server 2012 or Windows Server 2012 R2 as guest OS of hello VM.</span></span> <span data-ttu-id="0fe6d-749">Для Windows Server 2012 необходимо убедиться, что это исправление применяется toomake: <https://support.microsoft.com/kb/2854082></span><span class="sxs-lookup"><span data-stu-id="0fe6d-749">For Windows Server 2012 you need toomake sure that this patch is applied: <https://support.microsoft.com/kb/2854082></span></span>
* <span data-ttu-id="0fe6d-750">Windows Server 2008 R2 это исправление не существует, AlwaysOn необходимо toobe использовались в hello же так, как зеркальное отображение базы данных, указав участника отработки отказа в строке подключения hello (с использованием hello default.pfl параметр SAP баз данных SQL Server/mss/server — см. Примечание SAP [965908]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-750">For Windows Server 2008 R2 this patch does not exist and AlwaysOn would need toobe used in hello same manner as Database Mirroring by specifying a failover partner in hello connections string (done through hello SAP default.pfl parameter dbs/mss/server – see SAP Note [965908]).</span></span>
* <span data-ttu-id="0fe6d-751">При использовании прослушивателя группы доступности, виртуальные машины базы данных hello необходимость toobe подключен tooa выделенные подсистемы балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-751">When using an Availability Group Listener, hello Database VMs need toobe connected tooa dedicated Load Balancer.</span></span> <span data-ttu-id="0fe6d-752">Имя разрешения в развертываниях только в облаке либо потребует всех ВМ системы SAP (серверы приложений, СУБД и сервера (A) SCS) находятся в hello одной виртуальной сети или потребует от слоя hello SAP приложения обслуживания файла etc\host hello в порядок tooget hello ВМ имена hello разрешить VM SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-752">Name resolution in Cloud-Only deployments would either require all VMs of an SAP system (application servers, DBMS server and (A)SCS server) are in hello same virtual network or would require from an SAP application layer hello maintenance of hello etc\host file in order tooget hello VM names of hello SQL Server VMs resolved.</span></span> <span data-ttu-id="0fe6d-753">В порядке tooavoid назначения Azure новых IP-адресов в случаях, когда обе виртуальные машины случайно завершения работы один следует назначить статические IP-адреса сетевых интерфейсов toohello этих виртуальных машин в конфигурации AlwaysOn hello (который определяет статический IP-адрес описан в [это] [ virtual-networks-reserved-private-ip] статье)</span><span class="sxs-lookup"><span data-stu-id="0fe6d-753">In order tooavoid that Azure is assigning new IP addresses in cases where both VMs incidentally are shutdown, one should assign static IP addresses toohello network interfaces of those VMs in hello AlwaysOn configuration (defining a static IP address is described in [this][virtual-networks-reserved-private-ip] article)</span></span>

[comment]: <> (Старые блоги)
[comment]: <> (<https://blogs.msdn.com/b/alwaysonpro/archive/2014/08/29/recommendations-and-best-practices-when-deploying-sql-server-alwayson-availability-groups-in-windows-azure-iaas.aspx>, <https://blogs.technet.com/b/rmilne/archive/2015/07/27/how-to-set-static-ip-on-azure-vm.aspx>)
* <span data-ttu-id="0fe6d-756">Особые действия, необходимые при построении конфигурации кластера WSFC hello, где hello кластера требуется специальный IP-адрес назначения, так как Azure в текущей функциональности назначается имя кластера hello hello IP-адресом кластера hello hello узла создается.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-756">There are special steps required when building hello WSFC cluster configuration where hello cluster needs a special IP address assigned, because Azure with its current functionality would assign hello cluster name hello same IP address as hello node hello cluster is created on.</span></span> <span data-ttu-id="0fe6d-757">Это означает, что выполнить ручное действие должно быть выполнено tooassign другого кластера toohello IP адрес.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-757">This means a manual step must be performed tooassign a different IP address toohello cluster.</span></span>
* <span data-ttu-id="0fe6d-758">Hello прослушивателя группы доступности будет создан в Azure с конечными точками TCP/IP, назначенных toohello виртуальных машин, запущенных hello первичная и Вторичная реплики группы доступности hello toobe.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-758">hello Availability Group Listener is going toobe created in Azure with TCP/IP endpoints which are assigned toohello VMs running hello primary and secondary replicas of hello Availability group.</span></span>
* <span data-ttu-id="0fe6d-759">Может возникнуть необходимость toosecure эти конечные точки со списками управления доступом.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-759">There might be a need toosecure these endpoints with ACLs.</span></span>

[comment]: <> (TODO старый блог)
[comment]: <> (Здравствуйте, подробные инструкции и потребности установки конфигурации AlwaysOn в Azure лучше всего реализовывать при прохождении через hello учебника доступных [here][virtual-machines-windows-classic-ps-sql-alwayson-availability-groups])
[comment]: <> (Предварительно настроенное установки AlwaysOn с помощью коллекции Azure hello < https://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx>)
[comment]: <> (Создание прослушивателя группы доступности лучше всего описано в [этом][virtual-machines-windows-classic-ps-sql-int-listener] руководстве)
[comment]: <> (Защита сетевых конечных точек с помощью списков управления доступом лучше всего объясняется здесь:)
[comment]: <> (*    <https://michaelwasham.com/windows-azure-powershell-reference-guide/network-access-control-list-capability-in-windows-azure-powershell/>)
[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/08/31/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-1-of-2.aspx> )
[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/01/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-2-of-2.aspx>)  
[comment]: <> (*    <https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/18/creating-acls-for-windows-azure-endpoints.aspx>)

<span data-ttu-id="0fe6d-769">Возможные toodeploy группы доступности AlwaysOn SQL Server превышает также разных регионах Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-769">It is possible toodeploy a SQL Server AlwaysOn Availability Group over different Azure Regions as well.</span></span> <span data-ttu-id="0fe6d-770">Эта функция будет использовать hello Azure VNet-Vnet ([подробности][virtual-networks-configure-vnet-to-vnet-connection]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-770">This functionality will leverage hello Azure VNet-to-Vnet connectivity ([more details][virtual-networks-configure-vnet-to-vnet-connection]).</span></span>

[comment]: <> (TODO старый блог)
[comment]: <> (Ниже описан Hello Настройка группы доступности AlwaysOn SQL Server в этом случае: < https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.)

#### <a name="summary-on-sql-server-high-availability-in-azure"></a><span data-ttu-id="0fe6d-773">Сводка по высокой доступности SQL Server в Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-773">Summary on SQL Server High Availability in Azure</span></span>
<span data-ttu-id="0fe6d-774">Учитывая hello факт, что хранилище Azure обеспечивает защиту содержимого hello, имеется один меньше tooinsist причина в образе горячей замены.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-774">Given hello fact that Azure Storage is protecting hello content, there is one less reason tooinsist on a hot-standby image.</span></span> <span data-ttu-id="0fe6d-775">Это означает, что ваш сценарий обеспечения высокой доступности требуется tooonly защититься от hello в следующих случаях:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-775">This means your High Availability scenario needs tooonly protect against hello following cases:</span></span>

* <span data-ttu-id="0fe6d-776">В целом, из-за toomaintenance в кластере серверов hello в Azure или по другим причинам недоступности hello виртуальной Машины</span><span class="sxs-lookup"><span data-stu-id="0fe6d-776">Unavailability of hello VM as a whole due toomaintenance on hello server cluster in Azure or other reasons</span></span>
* <span data-ttu-id="0fe6d-777">Проблемы с программным обеспечением в экземпляре SQL Server hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-777">Software issues in hello SQL Server instance</span></span>
* <span data-ttu-id="0fe6d-778">Защита от ошибок пользователей при удалении данных, когда требуется восстановление на определенный момент времени</span><span class="sxs-lookup"><span data-stu-id="0fe6d-778">Protecting from manual error where data gets deleted and point-in-time recovery is needed</span></span>

<span data-ttu-id="0fe6d-779">Просмотр соответствующих технологий, один можно сказать, что первых двух случаях hello контролирует зеркального отображения базы данных или AlwaysOn, а третий вариант hello может быть сопоставлен только доставку журналов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-779">Looking at matching technologies one can argue that hello first two cases can be covered by Database Mirroring or AlwaysOn, whereas hello third case only can be covered by Log-Shipping.</span></span>

<span data-ttu-id="0fe6d-780">Вам потребуется toobalance hello более сложные Настройка AlwaysOn, tooDatabase по сравнению с преимуществами hello AlwaysOn зеркальное отображение.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-780">You will need toobalance hello more complex setup of AlwaysOn, compared tooDatabase Mirroring, with hello advantages of AlwaysOn.</span></span> <span data-ttu-id="0fe6d-781">Эти преимущества перечислены ниже.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-781">Those advantages can be listed like:</span></span>

* <span data-ttu-id="0fe6d-782">Вторичные реплики для чтения.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-782">Readable secondary replicas.</span></span>
* <span data-ttu-id="0fe6d-783">Резервные копии из вторичных реплик.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-783">Backups from secondary replicas.</span></span>
* <span data-ttu-id="0fe6d-784">Улучшенная масштабируемость.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-784">Better scalability.</span></span>
* <span data-ttu-id="0fe6d-785">Несколько вторичных реплик.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-785">More than one secondary replicas.</span></span>

### <span data-ttu-id="0fe6d-786"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>Общие сведения об SQL Server для SAP в Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-786"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>General SQL Server for SAP on Azure Summary</span></span>
<span data-ttu-id="0fe6d-787">Это руководство содержит много рекомендаций, и мы советуем прочитать его несколько раз перед планированием развертывания в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-787">There are many recommendations in this guide and we recommend you read it more than once before planning your Azure deployment.</span></span> <span data-ttu-id="0fe6d-788">В общем случае, быть убедиться, что toofollow hello top десяти основных рекомендаций по СУБД в Azure:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-788">In general, though, be sure toofollow hello top ten general DBMS on Azure specific points:</span></span>

[comment]: <> (В 2,3 раза более высокая пропускная способность, чем что? Чем один виртуальный жесткий диск?)
1. <span data-ttu-id="0fe6d-790">Используйте hello последний выпуск СУБД, такие как SQL Server 2014 с hello наибольшие преимущества в Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-790">Use hello latest DBMS release, like SQL Server 2014, that has hello most advantages in Azure.</span></span> <span data-ttu-id="0fe6d-791">Для SQL Server — SQL Server 2012 SP1 CU4 включающие функции hello резервного копирования в хранилище Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-791">For SQL Server, this is SQL Server 2012 SP1 CU4 which would include hello feature of backing up against Azure Storage.</span></span> <span data-ttu-id="0fe6d-792">Тем не менее, в сочетании с SAP мы бы рекомендовали по крайней мере последних CU SQL Server 2014 SP1 CU1 или SQL Server 2012 SP2 и hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-792">However, in conjunction with SAP we would recommend at least SQL Server 2014 SP1 CU1 or SQL Server 2012 SP2 and hello latest CU.</span></span>
2. <span data-ttu-id="0fe6d-793">Тщательно спланируйте ландшафт системы SAP в структуру файлов данных hello Azure toobalance с ограничениями Azure:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-793">Carefully plan your SAP system landscape in Azure toobalance hello data file layout and Azure restrictions:</span></span>
   * <span data-ttu-id="0fe6d-794">У вас нет слишком много виртуальных жестких дисков, но имеют достаточно tooensure, можно получить доступ к вашей необходимое значение IOPS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-794">Don’t have too many VHDs, but have enough tooensure you can reach your required IOPS.</span></span>
   * <span data-ttu-id="0fe6d-795">Помните, что количество операций ввода-вывода также ограничено для каждой учетной записи хранения Azure, а количество учетных записей хранения ограничено для каждой подписки Azure ([подробнее об этом][azure-subscription-service-limits]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-795">Remember that IOPS are also limited per Azure Storage Account and that Storage Accounts are limited within each Azure subscription ([more details][azure-subscription-service-limits]).</span></span>
   * <span data-ttu-id="0fe6d-796">Только чередование VHD, если вам требуется tooachieve более высокую пропускную способность.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-796">Only stripe across VHDs if you need tooachieve a higher throughput.</span></span>
3. <span data-ttu-id="0fe6d-797">Никогда не устанавливать программное обеспечение или поместите все файлы, которые требуют сохранения на диск D:\ hello, поскольку он является несохраняемым, и что-либо на этом диске будут потеряны при перезапуске Windows.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-797">Never install software or put any files that require persistence on hello D:\ drive as it is non-permanent and anything on this drive will be lost at a Windows reboot.</span></span>
4. <span data-ttu-id="0fe6d-798">Не используйте кэширование виртуальных жестких дисков Azure VHD для хранилища Azure Standard.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-798">Don’t use Azure VHD caching for Azure Standard Storage.</span></span>
5. <span data-ttu-id="0fe6d-799">Не используйте геореплицированные учетные записи хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-799">Don’t use Azure geo-replicated Storage Accounts.</span></span>  <span data-ttu-id="0fe6d-800">Используйте локальную избыточность для рабочих нагрузок СУБД.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-800">Use Locally Redundant for DBMS workloads.</span></span>
6. <span data-ttu-id="0fe6d-801">Используйте поставщика СУБД HA/DR решения tooreplicate базы данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-801">Use your DBMS vendor’s HA/DR solution tooreplicate database data.</span></span>
7. <span data-ttu-id="0fe6d-802">Всегда используйте разрешение имен, не полагайтесь на IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-802">Always use Name Resolution, don’t rely on IP addresses.</span></span>
8. <span data-ttu-id="0fe6d-803">Используйте hello наибольший возможных сжатие базы данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-803">Use hello highest database compression possible.</span></span> <span data-ttu-id="0fe6d-804">Для SQL Server это сжатие страниц.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-804">For SQL Server this is page compression.</span></span>
9. <span data-ttu-id="0fe6d-805">Соблюдайте осторожность при использовании образов SQL Server из hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-805">Be careful using SQL Server images from hello Azure Marketplace.</span></span> <span data-ttu-id="0fe6d-806">При использовании hello SQL Server, необходимо изменить параметры сортировки экземпляра hello перед установкой любого системы SAP NetWeaver на нем.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-806">If you use hello SQL Server one, you must change hello instance collation before installing any SAP NetWeaver system on it.</span></span>
10. <span data-ttu-id="0fe6d-807">Установка и настройка hello, мониторинг узла SAP для Azure, как описано в [руководство по развертыванию][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-807">Install and configure hello SAP Host Monitoring for Azure as described in [Deployment Guide][deployment-guide].</span></span>

## <a name="specifics-toosap-ase-on-windows"></a><span data-ttu-id="0fe6d-808">Особенности tooSAP ASE в Windows</span><span class="sxs-lookup"><span data-stu-id="0fe6d-808">Specifics tooSAP ASE on Windows</span></span>
<span data-ttu-id="0fe6d-809">Начиная с Microsoft Azure, можно легко перенести вашей существующей tooAzure приложений SAP ASE виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-809">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications tooAzure Virtual Machines.</span></span> <span data-ttu-id="0fe6d-810">SAP ASE на виртуальной машине позволяет вам tooreduce hello совокупную стоимость владения развертывания, управления и обслуживания приложений уровня организации, перенеся эти приложения tooMicrosoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-810">SAP ASE in a Virtual Machine enables you tooreduce hello total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications tooMicrosoft Azure.</span></span> <span data-ttu-id="0fe6d-811">С SAP ASE на виртуальной машине Azure Администраторы и разработчики могут по-прежнему использовать hello тех же средств разработки и администрирования, которые доступны в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-811">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use hello same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="0fe6d-812">Отсутствует SLA для hello Azure виртуальных машин, которые можно найти здесь: <https://azure.microsoft.com/support/legal/sla></span><span class="sxs-lookup"><span data-stu-id="0fe6d-812">There is an SLA for hello Azure Virtual Machines which can be found here: <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="0fe6d-813">Мы уверены, что Microsoft Azure, размещенные виртуальные машины будут работать очень хорошо в предложениями виртуализации в общедоступном облаке tooother сравнения, но отдельные результаты могут различаться.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-813">We are confident that Microsoft Azure hosted Virtual Machines will perform very well in comparison tooother public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="0fe6d-814">Изменения размера SAPS числа различных SAP сертифицированные SKU ВМ будет предоставляться в отдельном Примечание SAP hello SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-814">SAP sizing SAPS numbers of hello different SAP certified VM SKUs will be provided in a separate SAP Note [1928533].</span></span>

<span data-ttu-id="0fe6d-815">Инструкции и рекомендации, приведенные в учета toohello использования хранилища Azure, развертывания ВМ SAP или мониторинга SAP применяются toodeployments из SAP ASE вместе с приложениями SAP, как указано на протяжении hello первые четыре главах этого документа.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-815">Statements and recommendations in regard toohello usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply toodeployments of SAP ASE in conjunction with SAP applications as stated throughout hello first four chapters of this document.</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="0fe6d-816">Поддержка версий SAP ASE</span><span class="sxs-lookup"><span data-stu-id="0fe6d-816">SAP ASE Version Support</span></span>
<span data-ttu-id="0fe6d-817">SAP в настоящее время поддерживает версию SAP ASE 16.0 для использования с продуктами SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-817">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="0fe6d-818">Все обновления для сервера SAP ASE или toobe драйверы JDBC и ODBC с SAP Business Suite продукты предоставляются только через hello услугами SAP на: <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-818">All updates for SAP ASE server, or JDBC and ODBC drivers toobe used with SAP Business Suite products are provided solely through hello SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="0fe6d-819">Как и для установки локально не загружать обновления для сервера SAP ASE hello, или hello JDBC и драйверы ODBC непосредственно из Sybase веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-819">As for installations on-premises, do not download updates for hello SAP ASE server, or for hello JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="0fe6d-820">Подробные сведения о исправлений, которые поддерживаются для использования с SAP Business Suite продуктов локально и в виртуальных машинах Azure см. следующие примечания по SAP hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-820">For detailed information on patches which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see hello following SAP Notes:</span></span>

* <span data-ttu-id="0fe6d-821">[1590719]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-821">[1590719]</span></span>
* <span data-ttu-id="0fe6d-822">[1973241]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-822">[1973241]</span></span>

<span data-ttu-id="0fe6d-823">Общие сведения о запуске SAP Business Suite в SAP ASE можно найти в hello [SCN](https://scn.sap.com/community/ase)</span><span class="sxs-lookup"><span data-stu-id="0fe6d-823">General information on running SAP Business Suite on SAP ASE can be found in hello [SCN](https://scn.sap.com/community/ase)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="0fe6d-824">Рекомендации по конфигурации SAP ASE для связанных с SAP установок SAP ASE на виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-824">SAP ASE Configuration Guidelines for SAP related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-hello-sap-ase-deployment"></a><span data-ttu-id="0fe6d-825">Структура hello развертывания SAP ASE</span><span class="sxs-lookup"><span data-stu-id="0fe6d-825">Structure of hello SAP ASE Deployment</span></span>
<span data-ttu-id="0fe6d-826">В соответствии с общее описание hello, исполняемые файлы SAP ASE следует найти или установлен на системном диске базового VHD ВМ hello hello (диск c:\).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-826">In accordance with hello general description, SAP ASE executables should be located or installed into hello system drive of hello VM’s base VHD (drive c:\).</span></span> <span data-ttu-id="0fe6d-827">Как правило большинство hello SAP ASE инструменты из системы и баз данных, являются не действительно жесткое оптимизированный за счет использования рабочей нагрузкой SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-827">Typically, most of hello SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="0fe6d-828">Поэтому hello системы и средств баз данных (master, model, saptools, sybmgmtdb и sybsystemdb) может оставаться на hello C:\drive.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-828">Hence hello system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on hello C:\drive as well.</span></span>

<span data-ttu-id="0fe6d-829">Исключением может быть hello временной базы данных, содержащая все рабочие таблицы и временные таблицы, созданные приложением SAP ASE, который в случае некоторых SAP ERP и любых рабочих нагрузок BW может потребоваться больше данных или не может поместиться в hello исходный объем операций ввода-вывода Основной Виртуальной машины виртуальный жесткий ДИСК (диск c:\).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-829">An exception could be hello temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume which can’t fit into hello original VM’s base VHD (drive c:\).</span></span>

<span data-ttu-id="0fe6d-830">В зависимости от hello версия SAPInst/SWPM используется система tooinstall hello, hello база данных может содержать:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-830">Depending on hello version of SAPInst/SWPM used tooinstall hello system, hello database might contain:</span></span>

* <span data-ttu-id="0fe6d-831">Отдельную базу tempdb SAP ASE, которая создается при установке SAP ASE.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-831">A single SAP ASE tempdb which is created when installing SAP ASE</span></span>
* <span data-ttu-id="0fe6d-832">SAP ASE tempdb, созданные при установке SAP ASE и дополнительных saptempdb, созданные приветствия программы установки в SAP</span><span class="sxs-lookup"><span data-stu-id="0fe6d-832">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by hello SAP installation routine</span></span>
* <span data-ttu-id="0fe6d-833">SAP ASE tempdb, созданные при установке SAP ASE и дополнительные базы данных tempdb, который был создан вручную (например следующее примечание SAP [1752266]) требования к определенной базе данных tempdb ERP/BW toomeet</span><span class="sxs-lookup"><span data-stu-id="0fe6d-833">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (e.g. following SAP Note [1752266]) toomeet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="0fe6d-834">В случае определенных ERP или всех рабочих нагрузок BW имеет смысл, в tooperformance учета устройств tempdb hello tookeep hello дополнительно создать базы данных tempdb (SWPM или вручную) на диске C:\.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-834">In case of specific ERP or all BW workloads it makes sense, in regard tooperformance, tookeep hello tempdb devices of hello additionally created tempdb (by SWPM or manually) on a drive other than C:\.</span></span> <span data-ttu-id="0fe6d-835">Наличие нет дополнительные базы данных tempdb рекомендуется toocreate одно (Примечание SAP [1752266]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-835">If no additional tempdb exists it is recommended toocreate one (SAP Note [1752266]).</span></span>

<span data-ttu-id="0fe6d-836">Для таких систем hello следует выполнить следующие действия для hello дополнительно создать tempdb:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-836">For such systems hello following steps should be performed for hello additionally created tempdb:</span></span>

* <span data-ttu-id="0fe6d-837">Переместить hello первой базы данных tempdb toohello первый одноранговой базы данных SAP hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-837">Move hello first tempdb device toohello first device of hello SAP database</span></span>
* <span data-ttu-id="0fe6d-838">Добавление базы данных tempdb tooeach устройств из hello VHD, содержащих устройств из базы данных SAP hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-838">Add tempdb devices tooeach of hello VHDs containing a devices of hello SAP database</span></span>

<span data-ttu-id="0fe6d-839">Это tooeither tempdb конфигурации позволяет использовать больше места, чем hello системный диск — может tooprovide.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-839">This configuration enables tempdb tooeither consume more space than hello system drive is able tooprovide.</span></span> <span data-ttu-id="0fe6d-840">Как ссылку можно проверить размеры устройства hello tempdb в существующих системах, работающих в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-840">As a reference one can check hello tempdb device sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="0fe6d-841">Или такой конфигурации позволит числа операций ввода-ВЫВОДА в tempdb, который не может быть предоставлен hello системного диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-841">Or such a configuration would enable IOPS numbers against tempdb which cannot be provided with hello system drive.</span></span> <span data-ttu-id="0fe6d-842">Снова системах, работающих в локальной среде может быть рабочей нагрузки используется toomonitor ввода-вывода для базы данных tempdb.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-842">Again systems that are running on-premises can be used toomonitor I/O workload against tempdb.</span></span>

<span data-ttu-id="0fe6d-843">Никогда не помещайте каких-либо устройств SAP ASE на диск D:\ ВМ hello hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-843">Never put any SAP ASE devices onto hello D:\ drive of hello VM.</span></span> <span data-ttu-id="0fe6d-844">Это также применимо toohello tempdb, даже если hello объекты хранятся в базе данных tempdb hello являются временными.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-844">This also applies toohello tempdb, even if hello objects kept in hello tempdb are only temporary.</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="0fe6d-845">Влияние сжатия базы данных</span><span class="sxs-lookup"><span data-stu-id="0fe6d-845">Impact of Database Compression</span></span>
<span data-ttu-id="0fe6d-846">В конфигурациях, где пропускная способность ввода-вывода может стать ограничивающим фактором каждая мера, который сокращает число операций ввода-ВЫВОДА может помочь hello toostretch рабочей нагрузки, которая может выполняться в сценарии IaaS, например Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-846">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help toostretch hello workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="0fe6d-847">Таким образом настоятельно рекомендуется убедиться, что использование сжатия SAP ASE перед отправкой существующих tooAzure базы данных SAP toomake.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-847">Therefore, it is strongly recommended toomake sure that SAP ASE compression is used before uploading an existing SAP database tooAzure.</span></span>

<span data-ttu-id="0fe6d-848">Hello рекомендация tooperform сжатия перед отправкой tooAzure, если не реализовано дается по следующим причинам:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-848">hello recommendation tooperform compression before uploading tooAzure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="0fe6d-849">объем Hello tooAzure toobe отправки данных меньше</span><span class="sxs-lookup"><span data-stu-id="0fe6d-849">hello amount of data toobe uploaded tooAzure is lower</span></span>
* <span data-ttu-id="0fe6d-850">Предположим, что можно использовать более мощное оборудование с дополнительные процессоры или более высокой пропускной способности ввода-вывода или меньше операций ввода-вывода задержки в локальной короче Hello продолжительность выполнения сжатия hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-850">hello duration of hello compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="0fe6d-851">Меньшего размера базы данных может привести затрат сборки для выделения места на диске</span><span class="sxs-lookup"><span data-stu-id="0fe6d-851">Smaller database sizes might lead tooless costs for disk allocation</span></span>

<span data-ttu-id="0fe6d-852">Сжатие данных и LOB работает на виртуальных машинах Azure так же, как и в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-852">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="0fe6d-853">Дополнительные сведения об использовании в существующих SAP ASE toocheck, если сжатие уже присутствует в базе данных см. Примечание SAP [1750510].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-853">For more details on how toocheck if compression is already in use in an existing SAP ASE database please check SAP Note [1750510].</span></span>

#### <a name="using-dbacockpit-toomonitor-database-instances"></a><span data-ttu-id="0fe6d-854">С помощью DBACockpit toomonitor базы данных экземпляров</span><span class="sxs-lookup"><span data-stu-id="0fe6d-854">Using DBACockpit toomonitor Database Instances</span></span>
<span data-ttu-id="0fe6d-855">Для систем SAP, которые используются для SAP ASE платформы баз данных hello DBACockpit доступен как windows embedded браузера в транзакции DBACockpit или Webdynpro.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-855">For SAP systems which are using SAP ASE as database platform, hello DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="0fe6d-856">Однако hello полным набором функций для наблюдения и администрирования hello база данных доступна в реализации Webdynpro hello hello DBACockpit только.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-856">However hello full functionality for monitoring and administering hello database is available in hello Webdynpro implementation of hello DBACockpit only.</span></span>

<span data-ttu-id="0fe6d-857">Как с локальной системы, несколько шагов требуется tooenable все функциональные возможности SAP NetWeaver, используется реализация Webdynpro hello hello DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-857">As with on-premises systems several steps are required tooenable all SAP NetWeaver functionality used by hello Webdynpro implementation of hello DBACockpit.</span></span> <span data-ttu-id="0fe6d-858">Следуйте инструкциям в примечании SAP [1245200] tooenable hello использование webdynpros и создавать hello необходимые объекты.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-858">Please follow SAP Note [1245200] tooenable hello usage of webdynpros and generate hello required ones.</span></span> <span data-ttu-id="0fe6d-859">При следующем hello инструкциям hello выше заметки, которые требуется также настроить hello Internet Communication Manager (icm) вместе с hello toobe порты, используемые для подключений http и https.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-859">When following hello instructions in hello above notes you will also configure hello Internet Communication Manager (icm) along with hello ports toobe used for http and https connections.</span></span> <span data-ttu-id="0fe6d-860">по умолчанию Hello для протокола http, выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-860">hello default setting for http looks like this:</span></span>

> <span data-ttu-id="0fe6d-861">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="0fe6d-861">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
> <span data-ttu-id="0fe6d-862">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="0fe6d-862">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
>

<span data-ttu-id="0fe6d-863">и hello ссылки, созданные в транзакции DBACockpit будет выглядеть аналогично toothis:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-863">and hello links generated in transaction DBACockpit will look similar toothis:</span></span>

> <span data-ttu-id="0fe6d-864">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="0fe6d-864">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="0fe6d-865">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="0fe6d-865">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="0fe6d-866">В зависимости от наличие и способ размещения hello hello виртуальной машине Azure система SAP подключен через сайт сайт, несколькими сайтами или ExpressRoute (развертывание между организациями), необходимо убедиться, что toomake, ICM использует полное имя узла, которые могут быть разрешены на hello компьютер, где вы пытаетесь tooopen hello DBACockpit из.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-866">Depending on if and how hello Azure Virtual Machine hosting hello SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need toomake sure that ICM is using a fully qualified hostname that can be resolved on hello machine where you are trying tooopen hello DBACockpit from.</span></span> <span data-ttu-id="0fe6d-867">См. Примечание SAP [773830] toounderstand как определяет ICM hello полное доменное имя узла в зависимости от параметров профилей и набор параметров icm/host_name_full явным образом при необходимости.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-867">Please see SAP Note [773830] toounderstand how ICM determines hello fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="0fe6d-868">Если вы развернули hello виртуальной Машины в сценарии только для облака без подключения между организациями в локальной среде и Azure, нужны toodefine общедоступный IP-адрес и domainlabel.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-868">If you deployed hello VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need toodefine a public IP address and a domainlabel.</span></span> <span data-ttu-id="0fe6d-869">Формат Hello hello открытому DNS-имени hello виртуальной Машины будет выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-869">hello format of hello public DNS name of hello VM will then look like this :</span></span>

> <span data-ttu-id="0fe6d-870">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="0fe6d-870">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
>
>

<span data-ttu-id="0fe6d-871">Дополнительные сведения, связанные с DNS-имя toohello можно найти [здесь][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-871">More details related toohello DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="0fe6d-872">Значение параметра hello SAP профиля параметр icm/host_name_full toohello, DNS-имя ссылки hello hello виртуальной Машины Azure может выглядеть:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-872">Setting hello SAP profile parameter icm/host_name_full toohello DNS name of hello Azure VM hello link might look similar to:</span></span>

> <span data-ttu-id="0fe6d-873">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="0fe6d-873">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="0fe6d-874">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="0fe6d-874">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="0fe6d-875">В этом случае необходимо toomake убедитесь, что:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-875">In this case you need toomake sure to:</span></span>

* <span data-ttu-id="0fe6d-876">Добавление правила для входящих подключений toohello сетевой группы безопасности в hello портала Azure для портов TCP/IP hello использовать toocommunicate с ICM</span><span class="sxs-lookup"><span data-stu-id="0fe6d-876">Add Inbound rules toohello Network Security Group in hello Azure Portal for hello TCP/IP ports used toocommunicate with ICM</span></span>
* <span data-ttu-id="0fe6d-877">Добавление конфигурации брандмауэра Windows toohello правила для входящих подключений для hello toocommunicate порты, используемые TCP/IP с hello ICM</span><span class="sxs-lookup"><span data-stu-id="0fe6d-877">Add Inbound rules toohello Windows Firewall configuration for hello TCP/IP ports used toocommunicate with hello ICM</span></span>

<span data-ttu-id="0fe6d-878">Для автоматических импортированных доступны все изменения, рекомендуется tooperiodically применить hello исправления коллекции Примечание SAP применимо tooyour SAP версии:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-878">For an automated imported of all corrections available, it is recommended tooperiodically apply hello correction collection SAP Note applicable tooyour SAP version:</span></span>

* <span data-ttu-id="0fe6d-879">[1558958;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-879">[1558958]</span></span>
* <span data-ttu-id="0fe6d-880">[1619967;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-880">[1619967]</span></span>
* <span data-ttu-id="0fe6d-881">[1882376.]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-881">[1882376]</span></span>

<span data-ttu-id="0fe6d-882">Дополнительные сведения о панели администратор базы данных для SAP ASE можно найти в следующих примечаниях SAP hello:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-882">Further information about DBA Cockpit for SAP ASE can be found in hello following SAP Notes:</span></span>

* <span data-ttu-id="0fe6d-883">[1605680;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-883">[1605680]</span></span>
* <span data-ttu-id="0fe6d-884">[1757924;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-884">[1757924]</span></span>
* <span data-ttu-id="0fe6d-885">[1757928]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-885">[1757928]</span></span>
* <span data-ttu-id="0fe6d-886">[1758182]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-886">[1758182]</span></span>
* <span data-ttu-id="0fe6d-887">[1758496;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-887">[1758496]</span></span>    
* <span data-ttu-id="0fe6d-888">[1814258;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-888">[1814258]</span></span>
* <span data-ttu-id="0fe6d-889">[1922555;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-889">[1922555]</span></span>
* <span data-ttu-id="0fe6d-890">[1956005.]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-890">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="0fe6d-891">Рекомендации по резервному копированию и восстановлению для SAP ASE</span><span class="sxs-lookup"><span data-stu-id="0fe6d-891">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="0fe6d-892">При развертывании SAP ASE в Azure методику резервного копирования необходимо пересмотреть.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-892">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="0fe6d-893">Даже если система hello не продуктивной системы, hello SAP размещаемую SAP ASE должен резервную копию базы данных периодически.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-893">Even if hello system is not a productive system, hello SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="0fe6d-894">Так как служба хранилища Azure сохраняет три образа, резервное копирование становится менее важным с учетом toocompensating сбоя хранилища.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-894">Since Azure Storage keeps three images, a backup is now less important in respect toocompensating a storage crash.</span></span> <span data-ttu-id="0fe6d-895">Hello основная причина для обеспечения правильной план резервного копирования и восстановления не ограничивается компенсации логических или пользовательских ошибок, предоставляя моменту времени возможности восстановления.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-895">hello primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="0fe6d-896">Поэтому цель hello tooeither использовать резервные копии toorestore hello базу данных обратно tooa определенных момент времени или toouse hello резервных копий в Azure tooseed другой системы путем копирования существующей базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-896">So hello goal is tooeither use backups toorestore hello database back tooa certain point in time or toouse hello backups in Azure tooseed another system by copying hello existing database.</span></span> <span data-ttu-id="0fe6d-897">Например, можно перейти от уровня 2 SAP конфигурации tooa трехуровневые системы настройки hello же системы путем восстановления резервной копии.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-897">For example, you could transfer from a 2-Tier SAP configuration tooa 3-Tier system setup of hello same system by restoring a backup.</span></span>

<span data-ttu-id="0fe6d-898">Резервное копирование и восстановление базы данных в Azure работает hello таким же способом, как и в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-898">Backing up and restoring a database in Azure works hello same way as it does on-premises.</span></span> <span data-ttu-id="0fe6d-899">См. следующие примечания SAP:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-899">Please see SAP Notes:</span></span>

* <span data-ttu-id="0fe6d-900">[1588316]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-900">[1588316]</span></span>
* <span data-ttu-id="0fe6d-901">[1585981.]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-901">[1585981]</span></span>

<span data-ttu-id="0fe6d-902">В них вы найдете дополнительные сведения о создании конфигураций дампов и планировании резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-902">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="0fe6d-903">В зависимости от ваших потребностей, которые можно настроить и стратегии базы данных и журнала файлов дампа toodisk на одну из существующих виртуальных жестких дисков hello или добавить дополнительный виртуальный жесткий ДИСК для резервного копирования hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-903">Depending on your strategy and needs you can configure database and log dumps toodisk onto one of hello existing VHDs or add an additional VHD for hello backup.</span></span>  <span data-ttu-id="0fe6d-904">tooreduce hello опасность потери данных в случае возникновения ошибки, это рекомендуемое toouse виртуального жесткого диска, где находится устройство не базы данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-904">tooreduce hello danger of data loss in case of an error it is recommended toouse a VHD where no database device is located.</span></span>

<span data-ttu-id="0fe6d-905">Помимо сжатия данных и больших объектов система SAP ASE также предлагает сжатие резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-905">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="0fe6d-906">Сбрасывает toooccupy меньше пространства с hello базы данных и журнала, его рекомендуется использовать сжатие резервных копий toouse.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-906">toooccupy less space with hello database and log dumps it is recommended toouse backup compression.</span></span> <span data-ttu-id="0fe6d-907">Дополнительные сведения см. в примечании к SAP [1588316].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-907">Please see SAP Note [1588316] for more information.</span></span> <span data-ttu-id="0fe6d-908">Сжатие резервной копии hello также является ключевым tooreduce hello объем toobe данных, передаваемых при планировании резервного копирования toodownload или VHD, содержащих резервного копирования создает дамп hello tooon виртуальной машине Azure в локальной.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-908">Compressing hello backup is also crucial tooreduce hello amount of data toobe transferred if you plan toodownload backups or VHDs containing backup dumps from hello Azure Virtual Machine tooon-premises.</span></span>

<span data-ttu-id="0fe6d-909">Не используйте диск D:\ в качестве назначения дампа базы данных или журнала.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-909">Do not use drive D:\ as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="0fe6d-910">Рекомендации по ускорению резервного копирования и восстановления</span><span class="sxs-lookup"><span data-stu-id="0fe6d-910">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="0fe6d-911">Как в исходных развертываниях производительности резервного копирования и восстановления зависит от того, сколько томов может читаться параллельно и могут быть какие hello пропускной способности этих томов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-911">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="0fe6d-912">Кроме того hello потребление ресурсов ЦП при сжатии резервной копии может играют важную роль на виртуальных машинах с просто копирование too8 потоков ЦП.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-912">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up too8 CPU threads.</span></span> <span data-ttu-id="0fe6d-913">Исходя из сказанного выше, можно сделать следующие выводы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-913">Therefore, one can assume:</span></span>

* <span data-ttu-id="0fe6d-914">Hello меньше hello числом виртуальных жестких дисков, которые используются toostore hello базы данных устройства, hello меньшего hello общую пропускную способность при чтении</span><span class="sxs-lookup"><span data-stu-id="0fe6d-914">hello fewer hello number of VHDs used toostore hello database devices, hello smaller hello overall throughput in reading</span></span>
* <span data-ttu-id="0fe6d-915">Здравствуйте, меньшим числом потоков ЦП в ВМ hello hello, hello более серьезное влияние hello сжатие резервных копий</span><span class="sxs-lookup"><span data-stu-id="0fe6d-915">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="0fe6d-916">Здравствуйте, меньшее число целевых объектов (Stripe каталоги, виртуальные жесткие диски) toowrite hello резервного копирования, hello меньшей пропускной способности hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-916">hello fewer targets (Stripe Directories, VHDs) toowrite hello backup to, hello lesser hello throughput</span></span>

<span data-ttu-id="0fe6d-917">tooincrease hello число toothere toowrite целевых объектов можно двумя способами, в которых можно использовать или объединить в зависимости от потребностей.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-917">tooincrease hello number of targets toowrite toothere are two options which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="0fe6d-918">Чередование hello конечный том архивации нескольких подключенных VHD в порядке пропускная способность операций ввода-ВЫВОДА tooimprove hello в этом чередующемся томе</span><span class="sxs-lookup"><span data-stu-id="0fe6d-918">Striping hello backup target volume over multiple mounted VHDs in order tooimprove hello IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="0fe6d-919">Создание дампа конфигурации на уровне SAP ASE, который использует более одного целевого каталога toowrite hello дампа</span><span class="sxs-lookup"><span data-stu-id="0fe6d-919">Creating a dump configuration on SAP ASE level which uses more than one target directory toowrite hello dump to</span></span>

<span data-ttu-id="0fe6d-920">Сведения о распределении тома между несколькими виртуальными дисками см. выше в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-920">Striping a volume over multiple mounted VHDs has been discussed earlier in this guide.</span></span> <span data-ttu-id="0fe6d-921">Дополнительные сведения об использовании нескольких каталогов в конфигурацию дампа SAP ASE hello см. документацию toohello по sp_config_dump хранимую процедуру, которая является конфигурацией дампа hello используется toocreate на hello [справочный центр Sybase](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-921">For more information on using multiple directories in hello SAP ASE dump configuration please refer toohello documentation on Stored Procedure sp_config_dump which is used toocreate hello dump configuration on hello [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="0fe6d-922">Аварийное восстановление с помощью виртуальных машин Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-922">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="0fe6d-923">Репликация данных с помощью сервера репликации SAP Sybase</span><span class="sxs-lookup"><span data-stu-id="0fe6d-923">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="0fe6d-924">С hello SAP Sybase сервера репликации SAP ASE здесь горячего резервный решения tootransfer базы данных транзакций tooa отдаленных асинхронно.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-924">With hello SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution tootransfer database transactions tooa distant location asynchronously.</span></span>

<span data-ttu-id="0fe6d-925">Hello установки и функционирования SRS работает также функционально виртуальных Машин, размещенных в службах виртуальных машин Azure, как и в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-925">hello installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="0fe6d-926">Поддержка функций HADR ASE через сервер репликации SAP запланирована в будущем выпуске.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-926">ASE HADR via SAP Replication Server is planned with a future release.</span></span> <span data-ttu-id="0fe6d-927">Это решение будет протестировано и выпущено для платформ Microsoft Azure, как только оно станет доступно.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-927">It will be tested with and released for Microsoft Azure platforms as soon as it is available.</span></span>

## <a name="specifics-toosap-ase-on-linux"></a><span data-ttu-id="0fe6d-928">Особенности tooSAP ASE в Linux</span><span class="sxs-lookup"><span data-stu-id="0fe6d-928">Specifics tooSAP ASE on Linux</span></span>
<span data-ttu-id="0fe6d-929">Начиная с Microsoft Azure, можно легко перенести вашей существующей tooAzure приложений SAP ASE виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-929">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications tooAzure Virtual Machines.</span></span> <span data-ttu-id="0fe6d-930">SAP ASE на виртуальной машине позволяет вам tooreduce hello совокупную стоимость владения развертывания, управления и обслуживания приложений уровня организации, перенеся эти приложения tooMicrosoft Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-930">SAP ASE in a Virtual Machine enables you tooreduce hello total cost of ownership of deployment, management and maintenance of enterprise breadth applications by easily migrating these applications tooMicrosoft Azure.</span></span> <span data-ttu-id="0fe6d-931">С SAP ASE на виртуальной машине Azure Администраторы и разработчики могут по-прежнему использовать hello тех же средств разработки и администрирования, которые доступны в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-931">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use hello same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="0fe6d-932">Для развертывания виртуальных машин Azure важно tooknow hello официальный SLA, которые можно найти здесь: <https://azure.microsoft.com/support/legal/sla></span><span class="sxs-lookup"><span data-stu-id="0fe6d-932">For deploying Azure VMs it's important tooknow hello official SLAs which can be found here : <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="0fe6d-933">Сведения о размерах SAP и перечень сертифицированных SAP SKU виртуальных машин будут предоставлены в примечании к SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-933">SAP sizing information and a list of SAP certified VM SKUs will be provided in SAP Note [1928533].</span></span> <span data-ttu-id="0fe6d-934">Дополнительные документы о размерах SAP для виртуальных машин Azure можно найти здесь <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> и здесь <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-934">Additional SAP sizing documents for Azure Virtual machines can be found here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> and here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="0fe6d-935">Инструкции и рекомендации, приведенные в учета toohello использования хранилища Azure, развертывания ВМ SAP или мониторинга SAP применяются toodeployments из SAP ASE вместе с приложениями SAP, как указано на протяжении hello первые четыре главах этого документа.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-935">Statements and recommendations in regard toohello usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply toodeployments of SAP ASE in conjunction with SAP applications as stated throughout hello first four chapters of this document.</span></span>

<span data-ttu-id="0fe6d-936">Hello следующие два примечания по SAP включают общие сведения о ASE на ASE и Linux в облаке hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-936">hello following two SAP Notes include general information about ASE on Linux and ASE in hello Cloud :</span></span>

* <span data-ttu-id="0fe6d-937">[2134316]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-937">[2134316]</span></span>
* <span data-ttu-id="0fe6d-938">[1941500]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-938">[1941500]</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="0fe6d-939">Поддержка версий SAP ASE</span><span class="sxs-lookup"><span data-stu-id="0fe6d-939">SAP ASE Version Support</span></span>
<span data-ttu-id="0fe6d-940">SAP в настоящее время поддерживает версию SAP ASE 16.0 для использования с продуктами SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-940">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="0fe6d-941">Все обновления для сервера SAP ASE или toobe драйверы JDBC и ODBC с SAP Business Suite продукты предоставляются только через hello услугами SAP на: <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-941">All updates for SAP ASE server, or JDBC and ODBC drivers toobe used with SAP Business Suite products are provided solely through hello SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="0fe6d-942">Как и для установки локально не загружать обновления для сервера SAP ASE hello, или hello JDBC и драйверы ODBC непосредственно из Sybase веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-942">As for installations on-premises, do not download updates for hello SAP ASE server, or for hello JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="0fe6d-943">Подробные сведения о исправлений, которые поддерживаются для использования с SAP Business Suite продуктов локально и в виртуальных машинах Azure см. следующие примечания по SAP hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-943">For detailed information on patches which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see hello following SAP Notes:</span></span>

* <span data-ttu-id="0fe6d-944">[1590719]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-944">[1590719]</span></span>
* <span data-ttu-id="0fe6d-945">[1973241]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-945">[1973241]</span></span>

<span data-ttu-id="0fe6d-946">Общие сведения о запуске SAP Business Suite в SAP ASE можно найти в hello [SCN](https://scn.sap.com/community/ase)</span><span class="sxs-lookup"><span data-stu-id="0fe6d-946">General information on running SAP Business Suite on SAP ASE can be found in hello [SCN](https://scn.sap.com/community/ase)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="0fe6d-947">Рекомендации по конфигурации SAP ASE для связанных с SAP установок SAP ASE на виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-947">SAP ASE Configuration Guidelines for SAP related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-hello-sap-ase-deployment"></a><span data-ttu-id="0fe6d-948">Структура hello развертывания SAP ASE</span><span class="sxs-lookup"><span data-stu-id="0fe6d-948">Structure of hello SAP ASE Deployment</span></span>
<span data-ttu-id="0fe6d-949">В соответствии с hello общее описание исполняемые файлы SAP ASE следует найти или в hello корневой файловой системы hello виртуальной Машины (/sybase) установлен.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-949">In accordance with hello general description, SAP ASE executables should be located or installed into hello root file system of hello VM ( /sybase ).</span></span> <span data-ttu-id="0fe6d-950">Как правило большинство hello SAP ASE инструменты из системы и баз данных, являются не действительно жесткое оптимизированный за счет использования рабочей нагрузкой SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-950">Typically, most of hello SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="0fe6d-951">Поэтому hello системы и средств баз данных (master, model, saptools, sybmgmtdb и sybsystemdb) может оставаться на hello корневой файловой системы также.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-951">Hence hello system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on hello root file system as well.</span></span>

<span data-ttu-id="0fe6d-952">Исключением может быть hello временной базы данных, содержащая все рабочие таблицы и временные таблицы, созданные приложением SAP ASE, который в случае некоторых SAP ERP и любых рабочих нагрузок BW может потребоваться больше данных или не может поместиться в hello исходный объем операций ввода-вывода Диск операционной системы Виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-952">An exception could be hello temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume which can’t fit into hello original VM’s OS disk.</span></span>

<span data-ttu-id="0fe6d-953">В зависимости от hello версия SAPInst/SWPM используется система tooinstall hello, hello база данных может содержать:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-953">Depending on hello version of SAPInst/SWPM used tooinstall hello system, hello database might contain:</span></span>

* <span data-ttu-id="0fe6d-954">Отдельную базу tempdb SAP ASE, которая создается при установке SAP ASE.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-954">A single SAP ASE tempdb which is created when installing SAP ASE</span></span>
* <span data-ttu-id="0fe6d-955">SAP ASE tempdb, созданные при установке SAP ASE и дополнительных saptempdb, созданные приветствия программы установки в SAP</span><span class="sxs-lookup"><span data-stu-id="0fe6d-955">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by hello SAP installation routine</span></span>
* <span data-ttu-id="0fe6d-956">SAP ASE tempdb, созданные при установке SAP ASE и дополнительные базы данных tempdb, который был создан вручную (например следующее примечание SAP [1752266]) требования к определенной базе данных tempdb ERP/BW toomeet</span><span class="sxs-lookup"><span data-stu-id="0fe6d-956">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (e.g. following SAP Note [1752266]) toomeet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="0fe6d-957">В случае определенных ERP или всех рабочих нагрузок BW имеет смысл, в tooperformance учета устройств tempdb hello tookeep hello дополнительно создать базы данных tempdb (SWPM или вручную) в отдельной файловой системе, который может быть представлен одного Azure диска с данными или Linux RAID Объединение нескольких дисков данных Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-957">In case of specific ERP or all BW workloads it makes sense, in regard tooperformance, tookeep hello tempdb devices of hello additionally created tempdb (by SWPM or manually) on a separate file system which can be represented by a single Azure data disk or a Linux RAID spanning multiple Azure data disks.</span></span> <span data-ttu-id="0fe6d-958">Наличие нет дополнительные базы данных tempdb рекомендуется toocreate одно (Примечание SAP [1752266]).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-958">If no additional tempdb exists it is recommended toocreate one (SAP Note [1752266]).</span></span>

<span data-ttu-id="0fe6d-959">Для таких систем hello следует выполнить следующие действия для hello дополнительно создать tempdb:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-959">For such systems hello following steps should be performed for hello additionally created tempdb:</span></span>

* <span data-ttu-id="0fe6d-960">Переместить hello первой базы данных tempdb каталог toohello первый файловой системы базы данных SAP hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-960">Move hello first tempdb directory toohello first file system of hello SAP database</span></span>
* <span data-ttu-id="0fe6d-961">Добавить tooeach каталоги базы данных tempdb для hello VHD, содержащих базы данных SAP hello файловая система</span><span class="sxs-lookup"><span data-stu-id="0fe6d-961">Add tempdb directories tooeach of hello VHDs containing a filesystem of hello SAP database</span></span>

<span data-ttu-id="0fe6d-962">Это tooeither tempdb конфигурации позволяет использовать больше места, чем hello системный диск — может tooprovide.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-962">This configuration enables tempdb tooeither consume more space than hello system drive is able tooprovide.</span></span> <span data-ttu-id="0fe6d-963">Как ссылку можно проверить размеры directory hello tempdb в существующих системах, работающих в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-963">As a reference one can check hello tempdb directory sizes on existing systems which run on-premises.</span></span> <span data-ttu-id="0fe6d-964">Или такой конфигурации позволит числа операций ввода-ВЫВОДА в tempdb, который не может быть предоставлен hello системного диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-964">Or such a configuration would enable IOPS numbers against tempdb which cannot be provided with hello system drive.</span></span> <span data-ttu-id="0fe6d-965">Снова системах, работающих в локальной среде может быть рабочей нагрузки используется toomonitor ввода-вывода для базы данных tempdb.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-965">Again systems that are running on-premises can be used toomonitor I/O workload against tempdb.</span></span>

<span data-ttu-id="0fe6d-966">Никогда не помещайте все каталоги SAP ASE на/mnt или/mnt/Resource из hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-966">Never put any SAP ASE directories onto /mnt or /mnt/resource of hello VM.</span></span> <span data-ttu-id="0fe6d-967">Это также применимо toohello tempdb, даже если hello объекты хранятся в базе данных tempdb hello только являются временными, так как/mnt или/mnt/Resource по умолчанию виртуальной Машины Azure временного пространства, который не является постоянным.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-967">This also applies toohello tempdb, even if hello objects kept in hello tempdb are only temporary because /mnt or /mnt/resource is a default Azure VM temp space which is not persistent.</span></span> <span data-ttu-id="0fe6d-968">Дополнительные сведения о hello пространства временной виртуальной Машине Azure можно найти в [в данной статье][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-968">More details about hello Azure VM temp space can be found in [this article][virtual-machines-linux-how-to-attach-disk]</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="0fe6d-969">Влияние сжатия базы данных</span><span class="sxs-lookup"><span data-stu-id="0fe6d-969">Impact of Database Compression</span></span>
<span data-ttu-id="0fe6d-970">В конфигурациях, где пропускная способность ввода-вывода может стать ограничивающим фактором каждая мера, который сокращает число операций ввода-ВЫВОДА может помочь hello toostretch рабочей нагрузки, которая может выполняться в сценарии IaaS, например Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-970">In configurations where I/O bandwidth can become a limiting factor, every measure which reduces IOPS might help toostretch hello workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="0fe6d-971">Таким образом настоятельно рекомендуется убедиться, что использование сжатия SAP ASE перед отправкой существующих tooAzure базы данных SAP toomake.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-971">Therefore, it is strongly recommended toomake sure that SAP ASE compression is used before uploading an existing SAP database tooAzure.</span></span>

<span data-ttu-id="0fe6d-972">Hello рекомендация tooperform сжатия перед отправкой tooAzure, если не реализовано дается по следующим причинам:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-972">hello recommendation tooperform compression before uploading tooAzure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="0fe6d-973">объем Hello tooAzure toobe отправки данных меньше</span><span class="sxs-lookup"><span data-stu-id="0fe6d-973">hello amount of data toobe uploaded tooAzure is lower</span></span>
* <span data-ttu-id="0fe6d-974">Предположим, что можно использовать более мощное оборудование с дополнительные процессоры или более высокой пропускной способности ввода-вывода или меньше операций ввода-вывода задержки в локальной короче Hello продолжительность выполнения сжатия hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-974">hello duration of hello compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="0fe6d-975">Меньшего размера базы данных может привести затрат сборки для выделения места на диске</span><span class="sxs-lookup"><span data-stu-id="0fe6d-975">Smaller database sizes might lead tooless costs for disk allocation</span></span>

<span data-ttu-id="0fe6d-976">Сжатие данных и LOB работает на виртуальных машинах Azure так же, как и в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-976">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="0fe6d-977">Дополнительные сведения об использовании в существующих SAP ASE toocheck, если сжатие уже присутствует в базе данных см. Примечание SAP [1750510].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-977">For more details on how toocheck if compression is already in use in an existing SAP ASE database please check SAP Note [1750510].</span></span> <span data-ttu-id="0fe6d-978">Дополнительные сведения о сжатии баз данных см. в примечании к SAP [2121797].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-978">Also see SAP Note [2121797] for additional information regarding database compression.</span></span>

#### <a name="using-dbacockpit-toomonitor-database-instances"></a><span data-ttu-id="0fe6d-979">С помощью DBACockpit toomonitor базы данных экземпляров</span><span class="sxs-lookup"><span data-stu-id="0fe6d-979">Using DBACockpit toomonitor Database Instances</span></span>
<span data-ttu-id="0fe6d-980">Для систем SAP, которые используются для SAP ASE платформы баз данных hello DBACockpit доступен как windows embedded браузера в транзакции DBACockpit или Webdynpro.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-980">For SAP systems which are using SAP ASE as database platform, hello DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="0fe6d-981">Однако hello полным набором функций для наблюдения и администрирования hello база данных доступна в реализации Webdynpro hello hello DBACockpit только.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-981">However hello full functionality for monitoring and administering hello database is available in hello Webdynpro implementation of hello DBACockpit only.</span></span>

<span data-ttu-id="0fe6d-982">Как с локальной системы, несколько шагов требуется tooenable все функциональные возможности SAP NetWeaver, используется реализация Webdynpro hello hello DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-982">As with on-premises systems several steps are required tooenable all SAP NetWeaver functionality used by hello Webdynpro implementation of hello DBACockpit.</span></span> <span data-ttu-id="0fe6d-983">Следуйте инструкциям в примечании SAP [1245200] tooenable hello использование webdynpros и создавать hello необходимые объекты.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-983">Please follow SAP Note [1245200] tooenable hello usage of webdynpros and generate hello required ones.</span></span> <span data-ttu-id="0fe6d-984">При следующем hello инструкциям hello выше заметки, которые требуется также настроить hello Internet Communication Manager (icm) вместе с hello toobe порты, используемые для подключений http и https.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-984">When following hello instructions in hello above notes you will also configure hello Internet Communication Manager (icm) along with hello ports toobe used for http and https connections.</span></span> <span data-ttu-id="0fe6d-985">по умолчанию Hello для протокола http, выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-985">hello default setting for http looks like this:</span></span>

> <span data-ttu-id="0fe6d-986">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="0fe6d-986">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
> <span data-ttu-id="0fe6d-987">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span><span class="sxs-lookup"><span data-stu-id="0fe6d-987">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
>
>

<span data-ttu-id="0fe6d-988">и hello ссылки, созданные в транзакции DBACockpit будет выглядеть аналогично toothis:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-988">and hello links generated in transaction DBACockpit will look similar toothis:</span></span>

> <span data-ttu-id="0fe6d-989">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="0fe6d-989">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="0fe6d-990">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="0fe6d-990">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="0fe6d-991">В зависимости от наличие и способ размещения hello hello виртуальной машине Azure система SAP подключен через сайт сайт, несколькими сайтами или ExpressRoute (развертывание между организациями), необходимо убедиться, что toomake, ICM использует полное имя узла, которые могут быть разрешены на hello компьютер, где вы пытаетесь tooopen hello DBACockpit из.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-991">Depending on if and how hello Azure Virtual Machine hosting hello SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need toomake sure that ICM is using a fully qualified hostname that can be resolved on hello machine where you are trying tooopen hello DBACockpit from.</span></span> <span data-ttu-id="0fe6d-992">См. Примечание SAP [773830] toounderstand как определяет ICM hello полное доменное имя узла в зависимости от параметров профилей и набор параметров icm/host_name_full явным образом при необходимости.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-992">Please see SAP Note [773830] toounderstand how ICM determines hello fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="0fe6d-993">Если вы развернули hello виртуальной Машины в сценарии только для облака без подключения между организациями в локальной среде и Azure, нужны toodefine общедоступный IP-адрес и domainlabel.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-993">If you deployed hello VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need toodefine a public IP address and a domainlabel.</span></span> <span data-ttu-id="0fe6d-994">Формат Hello hello открытому DNS-имени hello виртуальной Машины будет выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-994">hello format of hello public DNS name of hello VM will then look like this :</span></span>

> <span data-ttu-id="0fe6d-995">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="0fe6d-995">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
>
>

<span data-ttu-id="0fe6d-996">Дополнительные сведения, связанные с DNS-имя toohello можно найти [здесь][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-996">More details related toohello DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="0fe6d-997">Значение параметра hello SAP профиля параметр icm/host_name_full toohello, DNS-имя ссылки hello hello виртуальной Машины Azure может выглядеть:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-997">Setting hello SAP profile parameter icm/host_name_full toohello DNS name of hello Azure VM hello link might look similar to:</span></span>

> <span data-ttu-id="0fe6d-998">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="0fe6d-998">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
> <span data-ttu-id="0fe6d-999">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="0fe6d-999">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
>
>

<span data-ttu-id="0fe6d-1000">В этом случае необходимо toomake убедитесь, что:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1000">In this case you need toomake sure to:</span></span>

* <span data-ttu-id="0fe6d-1001">Добавление правила для входящих подключений toohello сетевой группы безопасности в hello портала Azure для портов TCP/IP hello использовать toocommunicate с ICM</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1001">Add Inbound rules toohello Network Security Group in hello Azure Portal for hello TCP/IP ports used toocommunicate with ICM</span></span>
* <span data-ttu-id="0fe6d-1002">Добавление конфигурации брандмауэра Windows toohello правила для входящих подключений для hello toocommunicate порты, используемые TCP/IP с hello ICM</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1002">Add Inbound rules toohello Windows Firewall configuration for hello TCP/IP ports used toocommunicate with hello ICM</span></span>

<span data-ttu-id="0fe6d-1003">Для автоматических импортированных доступны все изменения, рекомендуется tooperiodically применить hello исправления коллекции Примечание SAP применимо tooyour SAP версии:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1003">For an automated imported of all corrections available, it is recommended tooperiodically apply hello correction collection SAP Note applicable tooyour SAP version:</span></span>

* <span data-ttu-id="0fe6d-1004">[1558958;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1004">[1558958]</span></span>
* <span data-ttu-id="0fe6d-1005">[1619967;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1005">[1619967]</span></span>
* <span data-ttu-id="0fe6d-1006">[1882376.]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1006">[1882376]</span></span>

<span data-ttu-id="0fe6d-1007">Дополнительные сведения о панели администратор базы данных для SAP ASE можно найти в следующих примечаниях SAP hello:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1007">Further information about DBA Cockpit for SAP ASE can be found in hello following SAP Notes:</span></span>

* <span data-ttu-id="0fe6d-1008">[1605680;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1008">[1605680]</span></span>
* <span data-ttu-id="0fe6d-1009">[1757924;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1009">[1757924]</span></span>
* <span data-ttu-id="0fe6d-1010">[1757928]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1010">[1757928]</span></span>
* <span data-ttu-id="0fe6d-1011">[1758182]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1011">[1758182]</span></span>
* <span data-ttu-id="0fe6d-1012">[1758496;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1012">[1758496]</span></span>    
* <span data-ttu-id="0fe6d-1013">[1814258;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1013">[1814258]</span></span>
* <span data-ttu-id="0fe6d-1014">[1922555;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1014">[1922555]</span></span>
* <span data-ttu-id="0fe6d-1015">[1956005.]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1015">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="0fe6d-1016">Рекомендации по резервному копированию и восстановлению для SAP ASE</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1016">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="0fe6d-1017">При развертывании SAP ASE в Azure методику резервного копирования необходимо пересмотреть.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1017">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="0fe6d-1018">Даже если система hello не продуктивной системы, hello SAP размещаемую SAP ASE должен резервную копию базы данных периодически.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1018">Even if hello system is not a productive system, hello SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="0fe6d-1019">Так как служба хранилища Azure сохраняет три образа, резервное копирование становится менее важным с учетом toocompensating сбоя хранилища.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1019">Since Azure Storage keeps three images, a backup is now less important in respect toocompensating a storage crash.</span></span> <span data-ttu-id="0fe6d-1020">Hello основная причина для обеспечения правильной план резервного копирования и восстановления не ограничивается компенсации логических или пользовательских ошибок, предоставляя моменту времени возможности восстановления.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1020">hello primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="0fe6d-1021">Поэтому цель hello tooeither использовать резервные копии toorestore hello базу данных обратно tooa определенных момент времени или toouse hello резервных копий в Azure tooseed другой системы путем копирования существующей базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1021">So hello goal is tooeither use backups toorestore hello database back tooa certain point in time or toouse hello backups in Azure tooseed another system by copying hello existing database.</span></span> <span data-ttu-id="0fe6d-1022">Например, можно перейти от уровня 2 SAP конфигурации tooa трехуровневые системы настройки hello же системы путем восстановления резервной копии.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1022">For example, you could transfer from a 2-Tier SAP configuration tooa 3-Tier system setup of hello same system by restoring a backup.</span></span>

<span data-ttu-id="0fe6d-1023">Резервное копирование и восстановление базы данных в Azure работает hello таким же способом, как и в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1023">Backing up and restoring a database in Azure works hello same way as it does on-premises.</span></span> <span data-ttu-id="0fe6d-1024">См. следующие примечания SAP:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1024">Please see SAP Notes:</span></span>

* <span data-ttu-id="0fe6d-1025">[1588316]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1025">[1588316]</span></span>
* <span data-ttu-id="0fe6d-1026">[1585981.]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1026">[1585981]</span></span>

<span data-ttu-id="0fe6d-1027">В них вы найдете дополнительные сведения о создании конфигураций дампов и планировании резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1027">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="0fe6d-1028">В зависимости от ваших потребностей, которые можно настроить и стратегии базы данных и журнала файлов дампа toodisk на одну из существующих виртуальных жестких дисков hello или добавить дополнительный виртуальный жесткий ДИСК для резервного копирования hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1028">Depending on your strategy and needs you can configure database and log dumps toodisk onto one of hello existing VHDs or add an additional VHD for hello backup.</span></span>  <span data-ttu-id="0fe6d-1029">tooreduce hello опасность потери данных в случае возникновения ошибки, это рекомендуемое toouse виртуального жесткого диска, где находится каталог или файл базы данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1029">tooreduce hello danger of data loss in case of an error it is recommended toouse a VHD where no database directory/file is located.</span></span>

<span data-ttu-id="0fe6d-1030">Помимо сжатия данных и больших объектов система SAP ASE также предлагает сжатие резервных копий.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1030">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="0fe6d-1031">Сбрасывает toooccupy меньше пространства с hello базы данных и журнала, его рекомендуется использовать сжатие резервных копий toouse.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1031">toooccupy less space with hello database and log dumps it is recommended toouse backup compression.</span></span> <span data-ttu-id="0fe6d-1032">Дополнительные сведения см. в примечании к SAP [1588316].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1032">Please see SAP Note [1588316] for more information.</span></span> <span data-ttu-id="0fe6d-1033">Сжатие резервной копии hello также является ключевым tooreduce hello объем toobe данных, передаваемых при планировании резервного копирования toodownload или VHD, содержащих резервного копирования создает дамп hello tooon виртуальной машине Azure в локальной.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1033">Compressing hello backup is also crucial tooreduce hello amount of data toobe transferred if you plan toodownload backups or VHDs containing backup dumps from hello Azure Virtual Machine tooon-premises.</span></span>

<span data-ttu-id="0fe6d-1034">Не используйте/mnt временного места на виртуальной Машине Azure hello или/mnt/Resource в качестве назначения дампа базы данных или журнала.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1034">Do not use hello Azure VM temp space /mnt or /mnt/resource as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="0fe6d-1035">Рекомендации по ускорению резервного копирования и восстановления</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1035">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="0fe6d-1036">Как в исходных развертываниях производительности резервного копирования и восстановления зависит от того, сколько томов может читаться параллельно и могут быть какие hello пропускной способности этих томов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1036">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="0fe6d-1037">Кроме того hello потребление ресурсов ЦП при сжатии резервной копии может играют важную роль на виртуальных машинах с просто копирование too8 потоков ЦП.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1037">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up too8 CPU threads.</span></span> <span data-ttu-id="0fe6d-1038">Исходя из сказанного выше, можно сделать следующие выводы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1038">Therefore, one can assume:</span></span>

* <span data-ttu-id="0fe6d-1039">Hello меньше hello числом виртуальных жестких дисков, которые используются toostore hello базы данных устройства, hello меньшего hello общую пропускную способность при чтении</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1039">hello fewer hello number of VHDs used toostore hello database devices, hello smaller hello overall throughput in reading</span></span>
* <span data-ttu-id="0fe6d-1040">Здравствуйте, меньшим числом потоков ЦП в ВМ hello hello, hello более серьезное влияние hello сжатие резервных копий</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1040">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="0fe6d-1041">Hello меньшее число целевых объектов (программного обеспечения Linux RAID, виртуальные жесткие диски) toowrite Здравствуйте резервного копирования для, hello меньшей пропускной способности hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1041">hello fewer targets ( Linux software RAID, VHDs) toowrite hello backup to, hello lesser hello throughput</span></span>

<span data-ttu-id="0fe6d-1042">tooincrease hello число toothere toowrite целевых объектов можно двумя способами, в которых можно использовать или объединить в зависимости от потребностей.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1042">tooincrease hello number of targets toowrite toothere are two options which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="0fe6d-1043">Чередование hello конечный том архивации нескольких подключенных VHD в порядке пропускная способность операций ввода-ВЫВОДА tooimprove hello в этом чередующемся томе</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1043">Striping hello backup target volume over multiple mounted VHDs in order tooimprove hello IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="0fe6d-1044">Создание дампа конфигурации на уровне SAP ASE, который использует более одного целевого каталога toowrite hello дампа</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1044">Creating a dump configuration on SAP ASE level which uses more than one target directory toowrite hello dump to</span></span>

<span data-ttu-id="0fe6d-1045">Сведения о распределении тома между несколькими виртуальными дисками см. выше в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1045">Striping a volume over multiple mounted VHDs has been discussed earlier in this guide.</span></span> <span data-ttu-id="0fe6d-1046">Дополнительные сведения об использовании нескольких каталогов в конфигурацию дампа SAP ASE hello см. документацию toohello по sp_config_dump хранимую процедуру, которая является конфигурацией дампа hello используется toocreate на hello [справочный центр Sybase](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1046">For more information on using multiple directories in hello SAP ASE dump configuration please refer toohello documentation on Stored Procedure sp_config_dump which is used toocreate hello dump configuration on hello [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="0fe6d-1047">Аварийное восстановление с помощью виртуальных машин Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1047">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="0fe6d-1048">Репликация данных с помощью сервера репликации SAP Sybase</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1048">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="0fe6d-1049">С hello SAP Sybase сервера репликации SAP ASE здесь горячего резервный решения tootransfer базы данных транзакций tooa отдаленных асинхронно.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1049">With hello SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution tootransfer database transactions tooa distant location asynchronously.</span></span>

<span data-ttu-id="0fe6d-1050">Hello установки и функционирования SRS работает также функционально виртуальных Машин, размещенных в службах виртуальных машин Azure, как и в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1050">hello installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="0fe6d-1051">Сейчас работа ASE HADR через сервер репликации SAP не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1051">ASE HADR via SAP Replication Server is NOT supported at this point in time.</span></span> <span data-ttu-id="0fe6d-1052">Он может тестирование и выпуска для платформ Microsoft Azure в будущем hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1052">It might be tested with and released for Microsoft Azure platforms in hello future.</span></span>

## <a name="specifics-toooracle-database-on-windows"></a><span data-ttu-id="0fe6d-1053">Особенности tooOracle базы данных в Windows</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1053">Specifics tooOracle Database on Windows</span></span>
<span data-ttu-id="0fe6d-1054">С момента середине 2013 года программное обеспечение Oracle поддерживает Oracle toorun на Microsoft Windows Hyper-V и Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1054">Since midyear 2013, Oracle software is supported by Oracle toorun on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="0fe6d-1055">Прочитайте этот статье tooget подробные сведения о поддержке общие hello Windows Hyper-V и Azure в Oracle: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span><span class="sxs-lookup"><span data-stu-id="0fe6d-1055">Please read this article tooget more details on hello general support of Windows Hyper-V and Azure by Oracle: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span>

<span data-ttu-id="0fe6d-1056">Следующие общие поддержки hello также поддерживается hello конкретного сценария приложений SAP, используя баз данных Oracle.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1056">Following hello general support, hello specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="0fe6d-1057">Сведения были указаны в этой части документа hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1057">Details are named in this part of hello document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="0fe6d-1058">Поддерживаемые версии Oracle</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1058">Oracle Version Support</span></span>
<span data-ttu-id="0fe6d-1059">Все сведения о версиях Oracle и соответствующие версии ОС, которые поддерживаются для ОС SAP Oracle на виртуальных машинах Azure можно найти в следующих Примечание SAP hello [2039619]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1059">All details about Oracle versions and corresponding OS versions which are supported for running SAP on Oracle on Azure Virtual Machines can be found in hello following SAP Note [2039619]</span></span>

<span data-ttu-id="0fe6d-1060">Общие сведения о работе SAP Business Suite в Oracle см. на сайте SCN: <https://scn.sap.com/community/oracle>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1060">General information about running SAP Business Suite on Oracle can be found on SCN: <https://scn.sap.com/community/oracle></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="0fe6d-1061">Рекомендации по конфигурации Oracle для установки SAP на виртуальные машины Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1061">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="0fe6d-1062">Конфигурация хранилища</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1062">Storage configuration</span></span>
<span data-ttu-id="0fe6d-1063">Поддерживается только один экземпляр Oracle, использующий диски, отформатированные в NTFS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1063">Only single instance Oracle using NTFS formatted disks is supported.</span></span> <span data-ttu-id="0fe6d-1064">Все файлы базы данных должны храниться на основании VHD-дисков файловой системы NTFS hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1064">All database files must be stored on hello NTFS file system based on VHD disks.</span></span> <span data-ttu-id="0fe6d-1065">Эти виртуальные жесткие диски, подключенные toohello виртуальной Машины Azure и основаны на хранилища больших двоичных ОБЪЕКТОВ страницы (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1065">These VHDs are mounted toohello Azure VM and are based on Azure Page BLOB Storage (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span></span>
<span data-ttu-id="0fe6d-1066">Любые сетевые диски и удаленные общие ресурсы, включая файловые службы Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1066">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="0fe6d-1067"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-1067"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="0fe6d-1068"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-1068"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="0fe6d-1069">**невозможно** использовать для хранения файлов базы данных Oracle!</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1069">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="0fe6d-1070">С помощью VHD Azure, в зависимости от хранилища больших двоичных ОБЪЕКТОВ страницы, hello инструкций, созданных в этом документе в главе [кэширование для ВМ и VHD] [ dbms-guide-2.1] и [хранилища Microsoft Azure] [ dbms-guide-2.3] применить toodeployments с hello базы данных Oracle.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1070">Using Azure VHDs based on Azure Page BLOB Storage, hello statements made in this document in chapter [Caching for VMs and VHDs][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply toodeployments with hello Oracle Database as well.</span></span>

<span data-ttu-id="0fe6d-1071">Как описано ранее в hello общие часть документа hello, существуют квоты на пропускную способность операций ввода-ВЫВОДА для виртуальных жестких дисков Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1071">As explained earlier in hello general part of hello document, quotas on IOPS throughput for Azure VHDs exist.</span></span> <span data-ttu-id="0fe6d-1072">Hello точное квоты в зависимости от типа ВМ hello используются.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1072">hello exact quotas are depending on hello VM type used.</span></span> <span data-ttu-id="0fe6d-1073">Список типов виртуальных машин с соответствующими квотами приведен [здесь][virtual-machines-sizes].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1073">A list of VM types with their quotas can be found [here][virtual-machines-sizes]</span></span>

<span data-ttu-id="0fe6d-1074">tooidentify hello поддерживаемые типы ВМ Azure, см. Примечание tooSAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1074">tooidentify hello supported Azure VM types, please refer tooSAP note [1928533]</span></span>

<span data-ttu-id="0fe6d-1075">До тех пор, пока hello Текущая квота операций ввода-ВЫВОДА на диске отвечает требованиям hello, это возможно toostore все файлы hello DB на один одним подключить виртуальный жесткий ДИСК Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1075">As long as hello current IOPS quota per disk satisfies hello requirements, it is possible toostore all hello DB files on one single mounted Azure VHD.</span></span>

<span data-ttu-id="0fe6d-1076">Если требуются дополнительные операции ввода-ВЫВОДА, настоятельно рекомендуется пулы носителей toouse окна (только в Windows Server 2012 и более поздних версий) или Windows чередование дисков для Windows 2008 R2 toocreate один большой логического устройства на нескольких подключенных дисках VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1076">If more IOPS are required, it is strongly recommended toouse Window Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 toocreate one big logical device over multiple mounted VHD disks.</span></span> <span data-ttu-id="0fe6d-1077">Ознакомьтесь также с разделом [Программный RAID-массив][dbms-guide-2.2] в этом документе.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1077">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="0fe6d-1078">Этот подход упрощает места на диске hello накладные toomanage hello администрирования и позволяет избежать трудозатрат hello toomanually распределить файлы по нескольких подключенных VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1078">This approach simplifies hello administration overhead toomanage hello disk space and avoids hello effort toomanually distribute files across multiple mounted VHDs.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="0fe6d-1079">Резервное копирование и восстановление</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1079">Backup / Restore</span></span>
<span data-ttu-id="0fe6d-1080">Для резервного копирования / восстановления функциональности, hello SAP BR * средства для Oracle поддерживаются в hello таким же, каким образом в стандартной операционной системе Windows Server и Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1080">For backup / restore functionality, hello SAP BR*Tools for Oracle are supported in hello same way as on standard Windows Server Operating Systems and Hyper-V.</span></span> <span data-ttu-id="0fe6d-1081">Диспетчер восстановления Oracle (RMAN) также поддерживается для toodisk резервных копий и восстановление с диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1081">Oracle Recovery Manager (RMAN) is also supported for backups toodisk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="0fe6d-1082">Высокая доступность</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1082">High Availability</span></span>
[comment]: <> (ссылка указывает tooASM)
<span data-ttu-id="0fe6d-1084">Для обеспечения высокой доступности и аварийного восстановления можно использовать Oracle Data Guard.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1084">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="0fe6d-1085">Дополнительные сведения см. в [этой документации][virtual-machines-windows-classic-configure-oracle-data-guard].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1085">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="0fe6d-1086">Другие</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1086">Other</span></span>
<span data-ttu-id="0fe6d-1087">Другие общие разделы как группы доступности Azure и SAP отслеживания примените, как описано в hello первых трех главах этого документа для развертывания виртуальных машин с hello базы данных Oracle.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1087">All other general topics like Azure Availability Sets or SAP monitoring apply as described in hello first three chapters of this document for deployments of VMs with hello Oracle Database as well.</span></span>

## <a name="specifics-for-hello-sap-maxdb-database-on-windows"></a><span data-ttu-id="0fe6d-1088">Подробные сведения для базы данных SAP MaxDB в Windows hello</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1088">Specifics for hello SAP MaxDB Database on Windows</span></span>
### <a name="sap-maxdb-version-support"></a><span data-ttu-id="0fe6d-1089">Поддерживаемые версии SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1089">SAP MaxDB Version Support</span></span>
<span data-ttu-id="0fe6d-1090">Сейчас с продуктами на основе SAP NetWeaver в Azure можно использовать SAP MaxDB версии 7.9.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1090">SAP currently supports SAP MaxDB version 7.9 for use with SAP NetWeaver-based products in Azure.</span></span> <span data-ttu-id="0fe6d-1091">Все обновления для сервера SAP MaxDB или toobe драйверы JDBC и ODBC при использовании продуктов на основе SAP NetWeaver, предоставляются исключительно через hello услугами SAP в <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1091">All updates for SAP MaxDB server, or JDBC and ODBC drivers toobe used with SAP NetWeaver-based products are provided solely through hello SAP Service Marketplace at <https://support.sap.com/swdc>.</span></span>
<span data-ttu-id="0fe6d-1092">Общие сведения о выполнении SAP NetWeaver в SAP MaxDB см. здесь: <https://scn.sap.com/community/maxdb>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1092">General information on running SAP NetWeaver on SAP MaxDB can be found at <https://scn.sap.com/community/maxdb>.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-maxdb-dbms"></a><span data-ttu-id="0fe6d-1093">Поддерживаемые версии Microsoft Windows и типы виртуальных машин Azure для СУБД SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1093">Supported Microsoft Windows Versions and Azure VM types for SAP MaxDB DBMS</span></span>
<span data-ttu-id="0fe6d-1094">версия Microsoft Windows hello поддерживается toofind для MaxDB СУБД SAP в Azure, см.:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1094">toofind hello supported Microsoft Windows version for SAP MaxDB DBMS on Azure, see:</span></span>

* <span data-ttu-id="0fe6d-1095">[матрица доступности продуктов SAP;][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1095">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="0fe6d-1096">примечание к SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1096">SAP Note [1928533]</span></span>

<span data-ttu-id="0fe6d-1097">Настоятельно рекомендуется toouse hello последнюю версию hello операционной системы Microsoft Windows, который является Microsoft Windows 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1097">It is highly recommended toouse hello newest version of hello operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="available-sap-maxdb-documentation"></a><span data-ttu-id="0fe6d-1098">Доступная документация по SAP MaxDB</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1098">Available SAP MaxDB Documentation</span></span>
<span data-ttu-id="0fe6d-1099">Обновить hello перечень SAP MaxDB документации можно найти в следующее примечание SAP hello [767598 ]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1099">You can find hello updated list of SAP MaxDB documentation in hello following SAP Note [767598]</span></span>

### <a name="sap-maxdb-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="0fe6d-1100">Рекомендации по конфигурации SAP MaxDB для установки SAP на виртуальные машины Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1100">SAP MaxDB Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <span data-ttu-id="0fe6d-1101"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Конфигурация хранилища</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1101"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Storage configuration</span></span>
<span data-ttu-id="0fe6d-1102">Рекомендации по SAP MaxDB хранилища Azure выполните hello Общие рекомендации, упомянутые в главе [структура развертывания реляционной СУБД][dbms-guide-2].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1102">Azure storage best practices for SAP MaxDB follow hello general recommendations mentioned in chapter [Structure of a RDBMS Deployment][dbms-guide-2].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="0fe6d-1103">Как и в других базах данных, в SAP MaxDB тоже есть файлы данных и файлы журналов,</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1103">Like other databases, SAP MaxDB also has data and log files.</span></span> <span data-ttu-id="0fe6d-1104">Тем не менее в терминологии SAP MaxDB hello правильный он «том» (не «файл»).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1104">However, in SAP MaxDB terminology hello correct term is “volume” (not “file”).</span></span> <span data-ttu-id="0fe6d-1105">Например, в SAP MaxDB существуют тома данных и тома журналов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1105">For example, there are SAP MaxDB data volumes and log volumes.</span></span> <span data-ttu-id="0fe6d-1106">Не путайте их с томами жестких дисков.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1106">Do not confuse these with OS disk volumes.</span></span>
>
>

<span data-ttu-id="0fe6d-1107">Вкратце повторим рекомендации.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1107">In short you have to:</span></span>

* <span data-ttu-id="0fe6d-1108">Настройка учетной записи хранилища Azure hello, содержащий hello SAP MaxDB данных и журналов тома (т. е. файлы) слишком**локального избыточном хранилище (LRS)** , как указано в главе [хранилища Microsoft Azure] [ dbms-guide-2.3].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1108">Set hello Azure storage account that holds hello SAP MaxDB data and log volumes (i.e. files) too**Local Redundant Storage (LRS)** as specified in chapter [Microsoft Azure Storage][dbms-guide-2.3].</span></span>
* <span data-ttu-id="0fe6d-1109">Путь hello отдельные операции ввода-ВЫВОДА для томов с данными SAP MaxDB (т. е. файлы) из hello пути ввода-ВЫВОДА для тома журналов (т. е. файлы).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1109">Separate hello IO path for SAP MaxDB data volumes (i.e. files) from hello IO path for log volumes (i.e. files).</span></span> <span data-ttu-id="0fe6d-1110">Это означает, что тома данных SAP MaxDB (т. е. файлы) имеют toobe установлен на один логический диск, и тома журнала SAP MaxDB (т. е. файлы) имеют toobe установлен на другом логическом диске.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1110">This means that SAP MaxDB data volumes (i.e. files) have toobe installed on one logical drive and SAP MaxDB log volumes (i.e. files) have toobe installed on another logical drive.</span></span>
* <span data-ttu-id="0fe6d-1111">Настроить hello правильный файл для каждого BLOB-объектов Azure, в зависимости от ли вы использовать для SAP MaxDB данных или журнала тома (т. е. файлы) и использование стандартного Azure или хранилище Azure класса Premium, как описано в главе [кэширование для виртуальных машин] [ dbms-guide-2.1].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1111">Set hello proper file caching for each Azure blob, depending on whether you use it for SAP MaxDB data or log volumes (i.e. files), and whether you use Azure Standard or Azure Premium Storage, as described in chapter [Caching for VMs][dbms-guide-2.1].</span></span>
* <span data-ttu-id="0fe6d-1112">До тех пор, пока hello Текущая квота операций ввода-ВЫВОДА на диске отвечает требованиям hello, является возможные toostore hello томов с данными на одном подключенный VHD Azure, а также хранить все тома журнала базы данных на другой одного подключенного VHD Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1112">As long as hello current IOPS quota per disk satisfies hello requirements, it is possible toostore all hello data volumes on a single mounted Azure VHD, and also store all database log volumes on another single mounted Azure VHD.</span></span>
* <span data-ttu-id="0fe6d-1113">Если требуются дополнительные операции ввода-ВЫВОДА и (или) пространство, настоятельно рекомендуется пулы носителей Microsoft окна toouse (только в Microsoft Windows Server 2012 и более поздних версий) или Microsoft Windows чередование дисков для Microsoft Windows 2008 R2 toocreate один большой логического устройства через несколько подключенные диски VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1113">If more IOPS and/or space are required, it is strongly recommended toouse Microsoft Window Storage Pools (only available in Microsoft Windows Server 2012 and higher) or Microsoft Windows striping for Microsoft Windows 2008 R2 toocreate one large logical device over multiple mounted VHD disks.</span></span> <span data-ttu-id="0fe6d-1114">Ознакомьтесь также с разделом [Программный RAID-массив][dbms-guide-2.2] в этом документе.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1114">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="0fe6d-1115">Этот подход упрощает hello администрирования накладные toomanage hello на диске и избежать трудозатрат hello вручную распределение файлов по нескольких подключенных VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1115">This approach simplifies hello administration overhead toomanage hello disk space and avoids hello effort of manually distributing files across multiple mounted VHDs.</span></span>
* <span data-ttu-id="0fe6d-1116">Для hello высоким требованиям операций ввода-ВЫВОДА можно использовать хранилище Azure класса Premium, который доступен в серии DS и виртуальные машины серии GS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1116">For hello highest IOPS requirements, you can use Azure Premium Storage, which is available on DS-series and GS-series VMs.</span></span>

![Эталонная конфигурация виртуальной машины Azure IaaS для СУБД SAP MaxDB][dbms-guide-figure-600]

#### <span data-ttu-id="0fe6d-1118"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Архивация и восстановление</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1118"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Backup and Restore</span></span>
<span data-ttu-id="0fe6d-1119">При развертывании SAP MaxDB в Azure методику резервного копирования необходимо пересмотреть.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1119">When deploying SAP MaxDB into Azure, you must review your backup methodology.</span></span> <span data-ttu-id="0fe6d-1120">Даже если система hello не продуктивной системы, hello SAP размещаемую SAP MaxDB необходимо резервную копию базы данных периодически.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1120">Even if hello system is not a productive system, hello SAP database hosted by SAP MaxDB must be backed up periodically.</span></span> <span data-ttu-id="0fe6d-1121">Так как в службе хранилища Azure хранятся три образа, резервное копирование представляется менее важным в контексте защиты системы от сбоев хранилища и более важных эксплуатационных и административных сбоев.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1121">Since Azure Storage keeps three images, a backup is now less important in terms of protecting your system against storage failure and more important operational or administrative failures.</span></span> <span data-ttu-id="0fe6d-1122">Hello основная причина для обеспечения правильной резервной копии и плана восстановления —, чтобы компенсировать логического или вручную ошибок, предоставляя возможности восстановления на момент.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1122">hello primary reason for maintaining a proper backup and restore plan is so that you can compensate for logical or manual errors by providing point-in-time recovery capabilities.</span></span> <span data-ttu-id="0fe6d-1123">Поэтому цель hello tooeither использования резервных копий toorestore hello базы данных tooa определенных точек времени или toouse hello резервных копий в Azure tooseed другой системы путем копирования существующей базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1123">So hello goal is tooeither use backups toorestore hello database tooa certain point in time or toouse hello backups in Azure tooseed another system by copying hello existing database.</span></span> <span data-ttu-id="0fe6d-1124">Например, можно перейти от уровня 2 SAP конфигурации tooa трехуровневые системы настройки hello же системы путем восстановления резервной копии.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1124">For example, you could transfer from a 2-tier SAP configuration tooa 3-tier system setup of hello same system by restoring a backup.</span></span>

<span data-ttu-id="0fe6d-1125">Резервное копирование и восстановление базы данных в hello Azure работает так же, как и для локальных систем, поэтому можно использовать стандартные MaxDB SAP резервного копирования и восстановления средств, которые описаны в одном документов документации SAP MaxDB hello перечисленные в примечании SAP [767598 ].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1125">Backing up and restoring a database in Azure works hello same way as it does for on-premises systems, so you can use standard SAP MaxDB backup/restore tools, which are described in one of hello SAP MaxDB documentation documents listed in SAP Note [767598].</span></span>

#### <span data-ttu-id="0fe6d-1126"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Рекомендации по ускорению архивации и восстановления</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1126"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Performance Considerations for Backup and Restore</span></span>
<span data-ttu-id="0fe6d-1127">Как в исходных развертываниях производительность резервного копирования и восстановления зависит от того, сколько томов может читаться параллельно и hello пропускной способности этих томов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1127">As in bare-metal deployments, backup and restore performance is dependent on how many volumes can be read in parallel and hello throughput of those volumes.</span></span> <span data-ttu-id="0fe6d-1128">Кроме того hello потребление ресурсов ЦП при сжатии резервной копии можно играют важную роль на виртуальных машинах с вверх too8 потоков ЦП.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1128">In addition, hello CPU consumption used by backup compression can play a significant role on VMs with up too8 CPU threads.</span></span> <span data-ttu-id="0fe6d-1129">Исходя из сказанного выше, можно сделать следующие выводы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1129">Therefore, one can assume:</span></span>

* <span data-ttu-id="0fe6d-1130">Здравствуйте, меньшее количество hello VHD, используемых toostore hello базы данных устройства, hello нижней hello общая пропускная способность операций чтения</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1130">hello fewer hello number of VHDs used toostore hello database devices, hello lower hello overall read throughput</span></span>
* <span data-ttu-id="0fe6d-1131">Здравствуйте, меньшим числом потоков ЦП в ВМ hello hello, hello более серьезное влияние hello сжатие резервных копий</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1131">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="0fe6d-1132">Здравствуйте, меньшее число целевых объектов (Stripe каталоги, виртуальные жесткие диски) toowrite hello резервного копирования, hello нижней Здравствуй, пропускная способность</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1132">hello fewer targets (Stripe Directories, VHDs) toowrite hello backup to, hello lower hello throughput</span></span>

<span data-ttu-id="0fe6d-1133">tooincrease hello число обращается toowrite для, можно двумя способами, которые можно использовать, возможно, в сочетании, в зависимости от потребностей:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1133">tooincrease hello number of targets toowrite to, there are two options that you can use, possibly in combination, depending on your needs:</span></span>

* <span data-ttu-id="0fe6d-1134">Выделить для резервных копий отдельные тома.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1134">Dedicating separate volumes for backup</span></span>
* <span data-ttu-id="0fe6d-1135">Чередование hello конечный том архивации нескольких подключенных VHD порядок пропускную способность операций ввода-ВЫВОДА tooimprove hello на этом томе чередующегося диска</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1135">Striping hello backup target volume over multiple mounted VHDs in order tooimprove hello IOPS throughput on that striped disk volume</span></span>
* <span data-ttu-id="0fe6d-1136">Выделить отдельные логические диски для:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1136">Having separate dedicated logical disk devices for:</span></span>
  * <span data-ttu-id="0fe6d-1137">томов (т. е. файлов) резервных копий SAP MaxDB;</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1137">SAP MaxDB backup volumes (i.e. files)</span></span>
  * <span data-ttu-id="0fe6d-1138">томов (т. е. файлов) данных SAP MaxDB;</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1138">SAP MaxDB data volumes ( i.e. files)</span></span>
  * <span data-ttu-id="0fe6d-1139">томов (т. е. файлов) журналов SAP MaxDB.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1139">SAP MaxDB log volumes ( i.e. files)</span></span>

<span data-ttu-id="0fe6d-1140">Сведения о распределении тома между несколькими виртуальными жесткими дисками см. в разделе [Программный RAID-массив][dbms-guide-2.2] этого документа.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1140">Striping a volume over multiple mounted VHDs has been discussed earlier in chapter [Software RAID][dbms-guide-2.2] of this document.</span></span>

#### <span data-ttu-id="0fe6d-1141"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Другое</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1141"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Other</span></span>
<span data-ttu-id="0fe6d-1142">Все другие основные разделы, таких как мониторинг группы доступности Azure или SAP применимы, как описано в hello первых трех главах этого документа для развертывания виртуальных машин с базой данных SAP MaxDB hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1142">All other general topics such as Azure Availability Sets or SAP monitoring also apply as described in hello first three chapters of this document for deployments of VMs with hello SAP MaxDB database.</span></span>
<span data-ttu-id="0fe6d-1143">Другие параметры, относящиеся MaxDB SAP — это прозрачное tooAzure виртуальные машины и описаны в различных документах, перечисленные в примечании SAP [767598 ] и в этих примечаниях SAP:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1143">Other SAP MaxDB-specific settings are transparent tooAzure VMs and are described in different documents listed in SAP Note [767598] and in these SAP notes:</span></span>

* <span data-ttu-id="0fe6d-1144">[826037;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1144">[826037]</span></span>
* <span data-ttu-id="0fe6d-1145">[1139904;]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1145">[1139904]</span></span>
* <span data-ttu-id="0fe6d-1146">[1173395.]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1146">[1173395]</span></span>

## <a name="specifics-for-sap-livecache-on-windows"></a><span data-ttu-id="0fe6d-1147">Особенности SAP liveCache в Windows</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1147">Specifics for SAP liveCache on Windows</span></span>
### <a name="sap-livecache-version-support"></a><span data-ttu-id="0fe6d-1148">Поддерживаемые версии SAP liveCache</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1148">SAP liveCache Version Support</span></span>
<span data-ttu-id="0fe6d-1149">Минимальной поддерживаемой версией SAP liveCache в службе виртуальных машин Azure является **SAP LC/LCAPPS 10.0 SP 25** (включая **liveCache 7.9.08.31** и **LCA-Build 25**), выпущенная для **EhP 2 для SAP SCM 7.0** и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1149">Minimal version of SAP liveCache supported in Azure Virtual Machines is **SAP LC/LCAPPS 10.0 SP 25** including **liveCache 7.9.08.31** and **LCA-Build 25**, released for **EhP 2 for SAP SCM 7.0** and higher.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-livecache-dbms"></a><span data-ttu-id="0fe6d-1150">Поддерживаемые версии Microsoft Windows и типы виртуальных машин Azure для СУБД SAP liveCache</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1150">Supported Microsoft Windows Versions and Azure VM types for SAP liveCache DBMS</span></span>
<span data-ttu-id="0fe6d-1151">версия Microsoft Windows hello поддерживается toofind для liveCache SAP в Azure, см.:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1151">toofind hello supported Microsoft Windows version for SAP liveCache on Azure, see:</span></span>

* <span data-ttu-id="0fe6d-1152">[матрица доступности продуктов SAP;][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1152">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="0fe6d-1153">примечание к SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1153">SAP Note [1928533]</span></span>

<span data-ttu-id="0fe6d-1154">Настоятельно рекомендуется toouse hello последнюю версию hello операционной системы Microsoft Windows, который является Microsoft Windows 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1154">It is highly recommended toouse hello newest version of hello operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="sap-livecache-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="0fe6d-1155">Рекомендации по конфигурации SAP liveCache для установки SAP на виртуальные машины Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1155">SAP liveCache Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="recommended-azure-vm-types"></a><span data-ttu-id="0fe6d-1156">Рекомендуемые типы виртуальных машин Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1156">Recommended Azure VM Types</span></span>
<span data-ttu-id="0fe6d-1157">Как приложение, которое выполняет вычисления, повышая SAP liveCache, сумма hello и быстродействии ОЗУ и ЦП имеет основной влияют на производительность liveCache SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1157">As SAP liveCache is an application that performs huge calculations, hello amount and speed of RAM and CPU has a major influence on SAP liveCache performance.</span></span>

<span data-ttu-id="0fe6d-1158">Для типов ВМ Azure hello, поддерживаемых SAP (Примечание SAP [1928533]), все виртуальные ресурсы ЦП выделенной toohello ВМ, поддерживаемых выделенных ресурсов ЦП hello низкоуровневой оболочки.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1158">For hello Azure VM types supported by SAP (SAP Note [1928533]), all virtual CPU resources allocated toohello VM are backed by dedicated physical CPU resources of hello hypervisor.</span></span> <span data-ttu-id="0fe6d-1159">Из-за отсутствия избыточного выделения ресурсов отсутствует конкуренция за ресурсы ЦП.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1159">No overprovisioning (and therefore no competition for CPU resources) takes place.</span></span>

<span data-ttu-id="0fe6d-1160">Аналогично для всех типов экземпляр виртуальной Машины Azure, поддерживаемых SAP, hello памяти виртуальной Машины — 100% сопоставлен toohello физической памяти — избыток (перерасход), например, не используется.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1160">Similarly, for all Azure VM instance types supported by SAP, hello VM memory is 100 % mapped toohello physical memory – overprovisioning (over-commitment), for example, is not used.</span></span>

<span data-ttu-id="0fe6d-1161">С этой точки зрения настоятельно рекомендуется toouse hello новой серии D или виртуальной Машине Azure серии DS (в сочетании со службой хранилища Azure Premium) типа, они имеют более быстрые процессоры 60%, чем hello серии A.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1161">From this perspective it is highly recommended toouse hello new D- series or DS-series (in combination with Azure Premium Storage) Azure VM type, as they have 60 % faster processors than hello A-series.</span></span> <span data-ttu-id="0fe6d-1162">Для hello наибольший объем ОЗУ и ЦП нагрузки, можно использовать серии G и виртуальные машины серии GS (в сочетании со службой хранилища Azure Premium) с новейших процессоров Intel Xeon® семейства E5 v3, имеющих дважды памяти hello и четыре раза hello твердотельный накопитель хранилище (SSD) hello D hello / Серии DS.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1162">For hello highest RAM and CPU load, you can use G-series and GS-series (in combination with Azure Premium Storage) VMs with hello latest Intel® Xeon® processor E5 v3 family, which have twice hello memory and four times hello solid state drive storage (SSDs) of hello D/DS-series.</span></span>

#### <a name="storage-configuration"></a><span data-ttu-id="0fe6d-1163">Конфигурация хранилища</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1163">Storage Configuration</span></span>
<span data-ttu-id="0fe6d-1164">Как SAP liveCache основано на технологии SAP MaxDB, все hello хранилища Azure рекомендации упомянутые для SAP MaxDB в главе [конфигурации хранилища] [ dbms-guide-8.4.1] также допустимы для SAP liveCache.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1164">As SAP liveCache is based on SAP MaxDB technology, all hello Azure storage best practice recommendations mentioned for SAP MaxDB in chapter [Storage configuration][dbms-guide-8.4.1] are also valid for SAP liveCache.</span></span>

#### <a name="dedicated-azure-vm-for-livecache"></a><span data-ttu-id="0fe6d-1165">Выделенная виртуальная машина Azure для liveCache</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1165">Dedicated Azure VM for liveCache</span></span>
<span data-ttu-id="0fe6d-1166">Как SAP liveCache интенсивно использует вычислительной мощностью, для производственного использования настоятельно рекомендуется toodeploy на выделенной виртуальной машине Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1166">As SAP liveCache intensively uses computational power, for productive usage it is highly recommended toodeploy on a dedicated Azure Virtual Machine.</span></span>

![Виртуальная машина Azure, выделенная для liveCache, для производственных целей][dbms-guide-figure-700]

#### <a name="backup-and-restore"></a><span data-ttu-id="0fe6d-1168">Архивация и восстановление</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1168">Backup and Restore</span></span>
<span data-ttu-id="0fe6d-1169">Резервное копирование и восстановление, включая вопросы производительности уже описаны в hello подходящие главы SAP MaxDB [резервного копирования и восстановления] [ dbms-guide-8.4.2] и [вопросы производительности для резервного копирования и восстановление][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1169">Backup and restore, including performance considerations, are already described in hello relevant SAP MaxDB chapters [Backup and Restore][dbms-guide-8.4.2] and [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span>

#### <a name="other"></a><span data-ttu-id="0fe6d-1170">Другие</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1170">Other</span></span>
<span data-ttu-id="0fe6d-1171">Все основные разделы уже описаны в hello соответствующие SAP MaxDB [это] [ dbms-guide-8.4.4] главы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1171">All other general topics are already described in hello relevant SAP MaxDB [this][dbms-guide-8.4.4] chapter.</span></span>

## <a name="specifics-for-hello-sap-content-server-on-windows"></a><span data-ttu-id="0fe6d-1172">Подробные сведения для hello SAP содержимого сервера в Windows</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1172">Specifics for hello SAP Content Server on Windows</span></span>
<span data-ttu-id="0fe6d-1173">Hello содержимое сервер SAP находится содержимое toostore отдельную, серверных компонентов, например электронных документов в различных форматах.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1173">hello SAP Content Server is a separate, server-based component toostore content such as electronic documents in different formats.</span></span> <span data-ttu-id="0fe6d-1174">Hello содержимого сервера SAP предоставляется средой разработки технологии и — между приложениями toobe используется для любого приложения SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1174">hello SAP Content Server is provided by development of technology and is toobe used cross-application for any SAP applications.</span></span> <span data-ttu-id="0fe6d-1175">Он устанавливается на отдельной системе.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1175">It is installed on a separate system.</span></span> <span data-ttu-id="0fe6d-1176">Стандартное содержимое обучающие материалы и документация из базы знаний хранилища или технической рисунки, исходящие от hello mySAP PLM системы управления документами.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1176">Typical content is training material and documentation from Knowledge Warehouse or technical drawings originating from hello mySAP PLM Document Management System.</span></span>

### <a name="sap-content-server-version-support"></a><span data-ttu-id="0fe6d-1177">Поддерживаемые версии сервера содержимого SAP</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1177">SAP Content Server Version Support</span></span>
<span data-ttu-id="0fe6d-1178">В настоящее время SAP поддерживает:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1178">SAP currently supports:</span></span>

* <span data-ttu-id="0fe6d-1179">**сервер содержимого SAP** версии **6.50 (и более поздние)**;</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1179">**SAP Content Server** with version **6.50 (and higher)**</span></span>
* <span data-ttu-id="0fe6d-1180">**SAP MaxDB версии 7.9;**</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1180">**SAP MaxDB version 7.9**</span></span>
* <span data-ttu-id="0fe6d-1181">**службы Microsoft IIS версии 8.0 (и более поздние версии).**</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1181">**Microsoft IIS (Internet Information Server) version 8.0 (and higher)**</span></span>

<span data-ttu-id="0fe6d-1182">Настоятельно рекомендуется toouse hello последнюю версию содержимого сервер SAP, который во время hello записи этого документа является **6.50 SP4**и hello новейшую версию **Microsoft IIS 8.5**.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1182">It is highly recommended toouse hello newest version of SAP Content Server, which at hello time of writing this document is **6.50 SP4**, and hello newest version of **Microsoft IIS 8.5**.</span></span>

<span data-ttu-id="0fe6d-1183">Проверьте hello последние поддерживаемые версии сервера содержимого SAP и Microsoft IIS в hello [матрицы доступности SAP продукта (PAM)][sap-pam].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1183">Check hello latest supported versions of SAP Content Server and Microsoft IIS in hello [SAP Product Availability Matrix (PAM)][sap-pam].</span></span>

### <a name="supported-microsoft-windows-and-azure-vm-types-for-sap-content-server"></a><span data-ttu-id="0fe6d-1184">Поддерживаемые версии Microsoft Windows и типы виртуальных машин Azure для сервера содержимого SAP</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1184">Supported Microsoft Windows and Azure VM types for SAP Content Server</span></span>
<span data-ttu-id="0fe6d-1185">toofind поддерживаемой версии Windows для сервера содержимого SAP в Azure, см.:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1185">toofind out supported Windows version for SAP Content Server on Azure, see:</span></span>

* <span data-ttu-id="0fe6d-1186">[матрица доступности продуктов SAP;][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1186">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="0fe6d-1187">примечание к SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1187">SAP Note [1928533]</span></span>

<span data-ttu-id="0fe6d-1188">Настоятельно рекомендуется toouse hello последнюю версию Microsoft Windows, так как во время hello записи этого документа — **Windows Server 2012 R2**.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1188">It is highly recommended toouse hello newest version of Microsoft Windows, which at hello time of writing this document is **Windows Server 2012 R2**.</span></span>

### <a name="sap-content-server-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="0fe6d-1189">Рекомендации по конфигурации сервера содержимого SAP для установки SAP на виртуальные машины Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1189">SAP Content Server Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="0fe6d-1190">Конфигурация хранилища</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1190">Storage Configuration</span></span>
<span data-ttu-id="0fe6d-1191">При настройке сервера SAP содержимого toostore файлов в базе данных SAP MaxDB hello все хранилища Azure лучшие рекомендации рекомендаций, упомянутых для SAP MaxDB в главе [конфигурации хранилища] [ dbms-guide-8.4.1] также допустимо для сценария hello содержимого сервер SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1191">If you configure SAP Content Server toostore files in hello SAP MaxDB database, all Azure storage best practices recommendation mentioned for SAP MaxDB in chapter [Storage Configuration][dbms-guide-8.4.1] are also valid for hello SAP Content Server scenario.</span></span>

<span data-ttu-id="0fe6d-1192">При настройке сервера SAP содержимого toostore файлы в файловой системе hello это рекомендуется toouse выделенного логического диска.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1192">If you configure SAP Content Server toostore files in hello file system, it is recommended toouse a dedicated logical drive.</span></span> <span data-ttu-id="0fe6d-1193">С помощью дисковых пространств можно tooalso увеличьте размер логического диска и пропускную способность операций ввода-ВЫВОДА, как описано в главе [по RAID][dbms-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1193">Using storage spaces enables you tooalso increase logical disk size and IOPS throughput, as described in in chapter [Software RAID][dbms-guide-2.2].</span></span>

#### <a name="sap-content-server-location"></a><span data-ttu-id="0fe6d-1194">Расположение сервера содержимого SAP</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1194">SAP Content Server Location</span></span>
<span data-ttu-id="0fe6d-1195">Сервер содержимого SAP имеет toobe, развернутых в hello же регионе Azure и виртуальной сети Azure, где развертывается hello системы SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1195">SAP Content Server has toobe deployed in hello same Azure region and Azure VNET where hello SAP system is deployed.</span></span> <span data-ttu-id="0fe6d-1196">Все бесплатные toodecide ли вы хотите toodeploy компоненты сервера SAP содержимого в выделенной виртуальной Машине Azure или в hello одной виртуальной Машины, где запущен hello системы SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1196">You are free toodecide whether you want toodeploy SAP Content Server components on a dedicated Azure VM or on hello same VM where hello SAP system is running.</span></span>

![Виртуальная машина Azure, выделенная для сервера содержимого SAP][dbms-guide-figure-800]

#### <a name="sap-cache-server-location"></a><span data-ttu-id="0fe6d-1198">Расположение сервера кэширования SAP</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1198">SAP Cache Server Location</span></span>
<span data-ttu-id="0fe6d-1199">Hello кэша сервера SAP является дополнительный компонент серверных tooprovide доступа too(cached) документы локально.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1199">hello SAP Cache Server is an additional server-based component tooprovide access too(cached) documents locally.</span></span> <span data-ttu-id="0fe6d-1200">Hello кэша сервера SAP кэширует документы hello содержимого сервера SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1200">hello SAP Cache Server caches hello documents of a SAP Content Server.</span></span> <span data-ttu-id="0fe6d-1201">Это действие toooptimize сетевого трафика, если документы toobe извлекаться несколько раз из различных источников.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1201">This is toooptimize network traffic if documents have toobe retrieved more than once from different locations.</span></span> <span data-ttu-id="0fe6d-1202">Общее правило Hello — что hello кэша сервера SAP есть toobe toohello физически закрыть клиент, обращающийся к hello кэша сервера SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1202">hello general rule is that hello SAP Cache Server has toobe physically close toohello client that accesses hello SAP Cache Server.</span></span>

<span data-ttu-id="0fe6d-1203">В этом случае существует два варианта.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1203">Here you have two options:</span></span>

1. <span data-ttu-id="0fe6d-1204">**Клиент — это система SAP серверной** при tooaccess настроенный сервер SAP содержимого серверной части системы SAP этой системы SAP является клиентом.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1204">**Client is a backend SAP system** If a backend SAP system is configured tooaccess SAP Content Server, that SAP system is a client.</span></span> <span data-ttu-id="0fe6d-1205">Как система SAP и содержимого сервера SAP, развернутых в hello же регионе Azure — в hello же центре обработки данных Azure — это физически закрыть tooeach других.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1205">As both SAP system and SAP Content Server are deployed in hello same Azure region – in hello same Azure datacenter – they are physically close tooeach other.</span></span> <span data-ttu-id="0fe6d-1206">Таким образом нет нет необходимости toohave выделенный кэш сервер SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1206">Therefore, there is no need toohave a dedicated SAP Cache Server.</span></span> <span data-ttu-id="0fe6d-1207">Hello доступ клиентов (SAP GUI или веб-браузер) пользовательского интерфейса SAP системы SAP напрямую, а hello SAP система получает документы из hello содержимого сервер SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1207">SAP UI clients (SAP GUI or web browser) access hello SAP system directly, and hello SAP system retrieves documents from hello SAP Content Server.</span></span>
2. <span data-ttu-id="0fe6d-1208">**Клиент — браузер локальной** hello сервера SAP содержимого может быть настроенный toobe прямого доступа hello веб-браузера.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1208">**Client is an on-premises web browser** hello SAP Content Server can be configured toobe accessed directly by hello web browser.</span></span> <span data-ttu-id="0fe6d-1209">В этом случае выполнение локального веб-браузера является клиентом hello содержимого сервер SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1209">In this case, a web browser running on–premises is a client of hello SAP Content Server.</span></span> <span data-ttu-id="0fe6d-1210">На локальном центре обработки данных и обработки данных Azure, помещаются в разных местах (в идеале закрыть tooeach другие).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1210">On-premises datacenter and Azure datacenter are placed in different physical locations (ideally close tooeach other).</span></span> <span data-ttu-id="0fe6d-1211">Локальный центр обработки данных — tooAzure, подключенных через VPN Azure сеть-сеть или подключение ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1211">Your on-premises datacenter is connected tooAzure via Azure Site-to-Site VPN or ExpressRoute.</span></span> <span data-ttu-id="0fe6d-1212">Несмотря на то, что оба параметра обеспечивают безопасное tooAzure соединение сети VPN, сайт сайт сетевое подключение не предлагает сети полосы пропускания и задержки SLA между hello локального центра обработки данных и hello центра обработки данных Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1212">Although both options offer secure VPN network connection tooAzure, site-to-site network connection does not offer a network bandwidth and latency SLA between hello on-premises datacenter and hello Azure datacenter.</span></span> <span data-ttu-id="0fe6d-1213">toospeed копирование toodocuments доступа вы выполните одно из следующих hello:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1213">toospeed up access toodocuments, you can do one of hello following:</span></span>
   1. <span data-ttu-id="0fe6d-1214">Установка сервера кэша SAP в локальной, закройте toohello локального веб-браузера (параметр [это] [ dbms-guide-900-sap-cache-server-on-premises] рисунок)</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1214">Install SAP Cache Server on-premises, close toohello on-premises web browser (option on [this][dbms-guide-900-sap-cache-server-on-premises] Figure)</span></span>
   2. <span data-ttu-id="0fe6d-1215">настроить канал Azure ExpressRoute, который обеспечивает выделенное высокоскоростное сетевое подключение с низкой задержкой между локальным ЦОД и ЦОД Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1215">Configure Azure ExpressRoute, which offers a high-speed and low-latency dedicated network connection between on-premises datacenter and Azure datacenter.</span></span>

<span data-ttu-id="0fe6d-1216">![Параметр tooinstall кэша сервера SAP локально][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span><span class="sxs-lookup"><span data-stu-id="0fe6d-1216">![Option tooinstall SAP Cache Server on-premises][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span></span>

#### <a name="backup--restore"></a><span data-ttu-id="0fe6d-1217">Резервное копирование и восстановление</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1217">Backup / Restore</span></span>
<span data-ttu-id="0fe6d-1218">При настройке hello содержимого сервера SAP toostore файлов в базе данных SAP MaxDB hello в главе SAP MaxDB уже описываются вопросы процедуры и производительности резервного копирования и восстановления hello [резервного копирования и восстановления] [ dbms-guide-8.4.2] и главе [факторы производительности при резервном копировании и восстановлении][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1218">If you configure hello SAP Content Server toostore files in hello SAP MaxDB database, hello backup/restore procedure and performance considerations are already described in SAP MaxDB chapter [Backup and Restore][dbms-guide-8.4.2] and chapter [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span>

<span data-ttu-id="0fe6d-1219">Если настроить hello содержимого сервера SAP toostore файлы в файловой системе hello, уже tooexecute вручную резервного копирования и восстановления всей файловой структуры hello находятся документы hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1219">If you configure hello SAP Content Server toostore files in hello file system, one option is tooexecute manual backup/restore of hello whole file structure where hello documents are located.</span></span> <span data-ttu-id="0fe6d-1220">Это аналогично tooSAP MaxDB резервного копирования и восстановления, рекомендуется toohave выделенный дисковый том для целей резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1220">Similar tooSAP MaxDB backup/restore, it is recommended toohave a dedicated disk volume for backup purpose.</span></span>

#### <a name="other"></a><span data-ttu-id="0fe6d-1221">Другие</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1221">Other</span></span>
<span data-ttu-id="0fe6d-1222">Другие параметры конкретного сервера SAP содержимого — это прозрачное tooAzure виртуальные машины и описаны в различных документов и примечания по SAP:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1222">Other SAP Content Server specific settings are transparent tooAzure VMs and are described in various documents and SAP Notes:</span></span>

* <span data-ttu-id="0fe6d-1223"><https://service.sap.com/contentserver></span><span class="sxs-lookup"><span data-stu-id="0fe6d-1223"><https://service.sap.com/contentserver></span></span>
* <span data-ttu-id="0fe6d-1224">примечание к SAP [1619726]</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1224">SAP Note [1619726]</span></span>  

## <a name="specifics-tooibm-db2-for-luw-on-windows"></a><span data-ttu-id="0fe6d-1225">Особенности tooIBM DB2 для LUW в Windows</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1225">Specifics tooIBM DB2 for LUW on Windows</span></span>
<span data-ttu-id="0fe6d-1226">С помощью Microsoft Azure можно легко перенести в существующее приложение SAP, запущенных на IBM DB2 для Linux, UNIX и Windows (LUW) tooAzure виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1226">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) tooAzure virtual machines.</span></span> <span data-ttu-id="0fe6d-1227">С SAP на IBM DB2 для LUW Администраторы и разработчики могут по-прежнему использовать hello же средства разработки и администрирования, которые доступны в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1227">With SAP on IBM DB2 for LUW, administrators and developers can still use hello same development and administration tools which are available on-premises.</span></span>
<span data-ttu-id="0fe6d-1228">Общие сведения о работе SAP Business Suite в IBM DB2 для LUW можно найти в hello сети сообщества SAP (SCN) в <https://scn.sap.com/community/db2-for-linux-unix-windows>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1228">General information about running SAP Business Suite on IBM DB2 for LUW can be found in hello SAP Community Network (SCN) at <https://scn.sap.com/community/db2-for-linux-unix-windows>.</span></span>

<span data-ttu-id="0fe6d-1229">Дополнительные сведения и новости о SAP в DB2 для LUW в Azure см. в примечании к SAP [2233094].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1229">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="0fe6d-1230">Поддерживаемые версии IBM DB2 для Linux, UNIX и Windows</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1230">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="0fe6d-1231">SAP в IBM DB2 для LUW поддерживается в службах виртуальных машин Microsoft Azure начиная с версии DB2 10.5.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1231">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="0fe6d-1232">Дополнительные сведения о поддерживаемых продуктах SAP и типах ВМ Azure см. Примечание tooSAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1232">For information about supported SAP products and Azure VM types, please refer tooSAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="0fe6d-1233">Рекомендации по конфигурации IBM DB2 для Linux, UNIX и Windows для установки SAP на виртуальные машины Azure</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1233">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="0fe6d-1234">Конфигурация хранилища</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1234">Storage Configuration</span></span>
<span data-ttu-id="0fe6d-1235">Все файлы базы данных должны храниться на основании VHD-дисков файловой системы NTFS hello.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1235">All database files must be stored on hello NTFS file system based on VHD disks.</span></span> <span data-ttu-id="0fe6d-1236">Эти VHD они toohello подключенных виртуальных Машин Azure и основаны в хранилища больших двоичных ОБЪЕКТОВ страницы (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1236">These VHDs are mounted toohello Azure VM and are based in Azure Page BLOB Storage (<https://msdn.microsoft.com/library/azure/ee691964.aspx>).</span></span>
<span data-ttu-id="0fe6d-1237">Любые сетевые диски или удаленные общие ресурсы, такие как hello следующие службы файлов Azure, **не** поддерживается для файлов базы данных:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1237">Any kind of network drives or remote shares like hello following Azure file services are **NOT** supported for database files:</span></span>

* <span data-ttu-id="0fe6d-1238"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-1238"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="0fe6d-1239"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span><span class="sxs-lookup"><span data-stu-id="0fe6d-1239"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="0fe6d-1240">При использовании Azure виртуальные жесткие диски, на основе хранилища больших двоичных ОБЪЕКТОВ Azure страница hello инструкций, созданных в этом документе в главе [структура развертывания реляционной СУБД] [ dbms-guide-2] справедливы toodeployments с hello IBM DB2 для LUW База данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1240">If you are using Azure VHDs based on Azure Page BLOB Storage, hello statements made in this document in chapter [Structure of a RDBMS Deployment][dbms-guide-2] also apply toodeployments with hello IBM DB2 for LUW Database.</span></span>

<span data-ttu-id="0fe6d-1241">Как описано ранее в hello общие часть документа hello, существуют квоты на пропускную способность операций ввода-ВЫВОДА для виртуальных жестких дисков Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1241">As explained earlier in hello general part of hello document, quotas on IOPS throughput for Azure VHDs exist.</span></span> <span data-ttu-id="0fe6d-1242">точное квоты Hello зависят hello ВМ типа используется.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1242">hello exact quotas depend on hello VM type used.</span></span> <span data-ttu-id="0fe6d-1243">Список типов виртуальных машин с соответствующими квотами приведен [здесь][virtual-machines-sizes].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1243">A list of VM types with their quotas can be found [here][virtual-machines-sizes]</span></span>

<span data-ttu-id="0fe6d-1244">При условии, что hello Текущая квота операций ввода-ВЫВОДА на диске недостаточно, это возможно toostore, все hello файлы базы данных на один одним подключить виртуальный жесткий ДИСК Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1244">As long as hello current IOPS quota per disk is sufficient, it is possible toostore all hello database files on one single mounted Azure VHD.</span></span>

<span data-ttu-id="0fe6d-1245">Для повышения производительности вопросы также ссылаться toochapter «данных безопасности и производительности рекомендации для базы данных каталогов» в руководствах по установке SAP.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1245">For performance considerations also refer toochapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="0fe6d-1246">Кроме того, вы можете использовать пулы носителей Windows (только в Windows Server 2012 и более поздних версий) или чередование Windows для Windows 2008 R2, как описано в главе [по RAID] [ dbms-guide-2.2] этого документа toocreate один большой логическое устройство через несколько подключенные диски VHD.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1246">Alternatively, you can use Windows Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 as described in chapter [Software RAID][dbms-guide-2.2] of this document toocreate one big logical device over multiple mounted VHD disks.</span></span>
<span data-ttu-id="0fe6d-1247">Для дисков hello, содержащих пути к хранилищу hello DB2 для sapdata и saptmp каталогов необходимо указать размер сектора физического диска 512 КБ.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1247">For hello disks containing hello DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span> <span data-ttu-id="0fe6d-1248">При использовании пулов хранения Windows, необходимо создать hello пулы носителей вручную через интерфейс командной строки с помощью параметра hello»-LogicalSectorSizeDefault».</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1248">When using Windows Storage Pools, you must create hello storage pools  manually via command line interface using hello parameter „-LogicalSectorSizeDefault“.</span></span> <span data-ttu-id="0fe6d-1249">Дополнительные сведения см. по адресу <https://technet.microsoft.com/library/hh848689.aspx>.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1249">For details see <https://technet.microsoft.com/library/hh848689.aspx>.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="0fe6d-1250">Резервное копирование и восстановление</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1250">Backup/Restore</span></span>
<span data-ttu-id="0fe6d-1251">функциональные возможности резервного копирования и восстановления Hello для IBM DB2 для LUW, поддерживаемых в hello таким же, каким образом в стандартной операционной системе Windows Server и Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1251">hello backup/restore functionality for IBM DB2 for LUW is supported in hello same way as on standard Windows Server Operating Systems and Hyper-V.</span></span>

<span data-ttu-id="0fe6d-1252">У вас обязательно должна быть надежная стратегия резервного копирования базы данных.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1252">You must make sure that you have a valid database backup strategy in place.</span></span>

<span data-ttu-id="0fe6d-1253">Как исходного развертывания, резервного копирования и восстановления производительность зависит от того, сколько томов может читаться параллельно, и какие hello пропускной способности этих томов могут быть.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1253">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what hello throughput of those volumes might be.</span></span> <span data-ttu-id="0fe6d-1254">Кроме того hello потребление ресурсов ЦП при сжатии резервной копии может играют важную роль на виртуальных машинах с просто копирование too8 потоков ЦП.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1254">In addition, hello CPU consumption used by backup compression may play a significant role on VMs with just up too8 CPU threads.</span></span> <span data-ttu-id="0fe6d-1255">Исходя из сказанного выше, можно сделать следующие выводы.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1255">Therefore, one can assume:</span></span>

* <span data-ttu-id="0fe6d-1256">Hello меньше hello числом виртуальных жестких дисков, которые используются toostore hello базы данных устройства, hello меньшего hello общую пропускную способность при чтении</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1256">hello fewer hello number of VHDs used toostore hello database devices, hello smaller hello overall throughput in reading</span></span>
* <span data-ttu-id="0fe6d-1257">Здравствуйте, меньшим числом потоков ЦП в ВМ hello hello, hello более серьезное влияние hello сжатие резервных копий</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1257">hello smaller hello number of CPU threads in hello VM, hello more severe hello impact of backup compression</span></span>
* <span data-ttu-id="0fe6d-1258">Здравствуйте, меньшее число целевых объектов (Stripe каталоги, виртуальные жесткие диски) toowrite hello резервного копирования, hello нижней Здравствуй, пропускная способность</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1258">hello fewer targets (Stripe Directories, VHDs) toowrite hello backup to, hello lower hello throughput</span></span>

<span data-ttu-id="0fe6d-1259">tooincrease количество hello toowrite целевых объектов для, два параметра может быть, использовать и объединены в зависимости от потребностей:</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1259">tooincrease hello number of targets toowrite to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="0fe6d-1260">Чередование hello конечный том архивации нескольких подключенных VHD в порядке пропускная способность операций ввода-ВЫВОДА tooimprove hello в этом чередующемся томе</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1260">Striping hello backup target volume over multiple mounted VHDs in order tooimprove hello IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="0fe6d-1261">Более одного целевого каталога toowrite hello Создание резервной копии</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1261">Using more than one target directory toowrite hello backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="0fe6d-1262">Высокая доступность и аварийное восстановление</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1262">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="0fe6d-1263">Microsoft Cluster Server (MSCS) не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1263">Microsoft Cluster Server (MSCS) is not supported.</span></span>

<span data-ttu-id="0fe6d-1264">Поддерживается аварийное восстановление высокой доступности (HADR) DB2.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1264">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="0fe6d-1265">Если виртуальные машины hello hello высокого уровня ДОСТУПНОСТИ конфигурации имеют работающее разрешение имен, установки hello в Azure не отличается от настройки, в которой выполняется в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1265">If hello virtual machines of hello HA configuration have working name resolution, hello setup in Azure will not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="0fe6d-1266">Не рекомендуется toorely на только разрешение IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1266">It is not recommended toorely on IP resolution only.</span></span>

<span data-ttu-id="0fe6d-1267">Не используйте георепликацию хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1267">Do not use Azure Store Geo-Replication.</span></span> <span data-ttu-id="0fe6d-1268">Дополнительные сведения см. в разделе toochapter [хранилища Microsoft Azure] [ dbms-guide-2.3] и главе [высокий уровень доступности и аварийного восстановления с виртуальными машинами Azure] [ dbms-guide-3].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1268">For further information, refer toochapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="0fe6d-1269">Другие</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1269">Other</span></span>
<span data-ttu-id="0fe6d-1270">Другие общие разделы как группы доступности Azure и SAP отслеживания примените, как описано в hello первых трех главах этого документа для развертывания виртуальных машин с IBM DB2 для LUW также.</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1270">All other general topics like Azure Availability Sets or SAP monitoring apply as described in hello first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span>

<span data-ttu-id="0fe6d-1271">См. также toochapter [общие SQL Server для SAP в Azure Сводка][dbms-guide-5.8].</span><span class="sxs-lookup"><span data-stu-id="0fe6d-1271">Also refer toochapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>
