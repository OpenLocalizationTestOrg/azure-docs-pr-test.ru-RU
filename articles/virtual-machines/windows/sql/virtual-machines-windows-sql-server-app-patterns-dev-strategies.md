---
title: "Шаблоны приложений сервера на виртуальных машинах aaaSQL | Документы Microsoft"
description: "В этой статье описаны шаблоны приложений для SQL Server в виртуальных машинах Azure. Статья предоставляет архитекторам и разработчикам решений основу для создания правильных архитектуры и конструкции."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: e18597598fdf9fe534ed07331d6f531d4dca0601
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="ff24e-104">Шаблоны приложений и стратегии разработки для SQL Server на виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="ff24e-104">Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines</span></span>
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a><span data-ttu-id="ff24e-105">Сводка:</span><span class="sxs-lookup"><span data-stu-id="ff24e-105">Summary:</span></span>
<span data-ttu-id="ff24e-106">Определение того, какой шаблон приложения и toouse шаблонов для приложений на основе SQL Server в Azure среда — это важное Проектное решение и его требуется основательное понимание принципов SQL Server и каждого компонента инфраструктуры Azure совместной работы .</span><span class="sxs-lookup"><span data-stu-id="ff24e-106">Determining which application pattern or patterns toouse for your SQL-Server-based applications in Azure environment is an important design decision and it requires a solid understanding of how SQL Server and each infrastructure component of Azure work together.</span></span> <span data-ttu-id="ff24e-107">С SQL Server в службах инфраструктуры Azure можно легко перенести, поддерживать и отслеживать существующие SQL Server приложения построенных на Windows Server toovirtual машины в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-107">With SQL Server in Azure Infrastructure Services, you can easily migrate, maintain, and monitor your existing SQL Server applications built-on Windows Server toovirtual machines in Azure.</span></span>

<span data-ttu-id="ff24e-108">Hello цель этой статьи — tooprovide архитекторов решений и разработчики в основу для хорошей архитектуры и приложений проектирования, которые они могут быть при переносе существующего приложения tooAzure как также в разработке новых приложений в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-108">hello goal of this article is tooprovide solution architects and developers a foundation for good application architecture and design, which they can follow when migrating existing applications tooAzure as well as developing new applications in Azure.</span></span>

<span data-ttu-id="ff24e-109">Для каждого шаблона приложения можно найти локальный сценарий его соответствующее решение облаком, и hello связанные Технические рекомендации.</span><span class="sxs-lookup"><span data-stu-id="ff24e-109">For each application pattern, you will find an on-premises scenario, its respective cloud-enabled solution, and hello related technical recommendations.</span></span> <span data-ttu-id="ff24e-110">Кроме того hello рассмотрены стратегии разработки конкретного Azure, чтобы правильно проектировать свои приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-110">In addition, hello article discusses Azure-specific development strategies so that you can design your applications correctly.</span></span> <span data-ttu-id="ff24e-111">Из-за toohello многих шаблонов приложений, рекомендуется архитекторам и разработчикам следует выбирать hello наиболее подходящий шаблон для своих приложений и пользователей.</span><span class="sxs-lookup"><span data-stu-id="ff24e-111">Due toohello many possible application patterns, it’s recommended that architects and developers should choose hello most appropriate pattern for their applications and users.</span></span>

<span data-ttu-id="ff24e-112">**Технические соавторы:** Луис Карлос Варгас Херринг (Luis Carlos Vargas Herring), Мадхан Арумугам Рамакришнан (Madhan Arumugam Ramakrishnan)</span><span class="sxs-lookup"><span data-stu-id="ff24e-112">**Technical Contributors:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan</span></span>

<span data-ttu-id="ff24e-113">**Технические рецензенты:** Кори Сэндерс (Corey Sanders), Дрю МакДэниэл (Drew McDaniel), Нараян Аннамалай (Narayan Annamalai), Нир Машковски (Nir Mashkowski), Санджей Мишра (Sanjay Mishra), Сильвано Кориани (Silvano Coriani), Стефан Шакоу (Stefan Schackow), Тим Хики (Tim Hickey), Тим Виман (Tim Wieman), Синь Цзинь (Xin Jin).</span><span class="sxs-lookup"><span data-stu-id="ff24e-113">**Technical Reviewers:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman, Xin Jin</span></span>

## <a name="introduction"></a><span data-ttu-id="ff24e-114">Введение</span><span class="sxs-lookup"><span data-stu-id="ff24e-114">Introduction</span></span>
<span data-ttu-id="ff24e-115">Можно разрабатывать множество типов многоуровневых приложений, разделяя hello компоненты hello разных уровней приложения на разных компьютерах, а также в разных компонентах.</span><span class="sxs-lookup"><span data-stu-id="ff24e-115">You can develop many types of n-tier applications by separating hello components of hello different application layers on different machines as well as in separate components.</span></span> <span data-ttu-id="ff24e-116">Например можно разместить клиентское приложение hello и бизнес-правила компонентов на одной машине, интерфейсный веб-компонент и компоненты уровня доступа к данным на другом компьютере и уровня серверную базу данных на другом компьютере.</span><span class="sxs-lookup"><span data-stu-id="ff24e-116">For example, you can place hello client application and business rules components in one machine, front-end web tier and data access tier components in another machine, and a back-end database tier in another machine.</span></span> <span data-ttu-id="ff24e-117">Такой способ структурирования позволяет изолировать уровни друг от друга.</span><span class="sxs-lookup"><span data-stu-id="ff24e-117">This kind of structuring helps isolate each tier from each other.</span></span> <span data-ttu-id="ff24e-118">При изменении источника данных, не обязательно toochange hello клиента или веб-приложения, но только hello компоненты уровня доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="ff24e-118">If you change where data comes from, you don’t need toochange hello client or web application but only hello data access tier components.</span></span>

<span data-ttu-id="ff24e-119">Типичный *n уровневые* приложение включает уровень представления hello, hello бизнес-уровень и уровень данных hello:</span><span class="sxs-lookup"><span data-stu-id="ff24e-119">A typical *n-tier* application includes hello presentation tier, hello business tier, and hello data tier:</span></span>

| <span data-ttu-id="ff24e-120">Уровень</span><span class="sxs-lookup"><span data-stu-id="ff24e-120">Tier</span></span> | <span data-ttu-id="ff24e-121">Описание</span><span class="sxs-lookup"><span data-stu-id="ff24e-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ff24e-122">**Уровень представления**</span><span class="sxs-lookup"><span data-stu-id="ff24e-122">**Presentation**</span></span> |<span data-ttu-id="ff24e-123">Hello *уровень представления* (веб-уровень, интерфейсный уровень) — hello слой, на котором пользователи взаимодействуют с приложением.</span><span class="sxs-lookup"><span data-stu-id="ff24e-123">hello *presentation tier* (web tier, front-end tier) is hello layer in which users interact with an application.</span></span> |
| <span data-ttu-id="ff24e-124">**Рабочий телефон**</span><span class="sxs-lookup"><span data-stu-id="ff24e-124">**Business**</span></span> |<span data-ttu-id="ff24e-125">Hello *бизнес-уровня* (средний уровень) — уровень hello, hello презентации hello и уровня данных уровня использования toocommunicate друг с другом и содержит основные возможности hello hello системы.</span><span class="sxs-lookup"><span data-stu-id="ff24e-125">hello *business tier* (middle tier) is hello layer that hello presentation tier and hello data tier use toocommunicate with each other and includes hello core functionality of hello system.</span></span> |
| <span data-ttu-id="ff24e-126">**Данные**</span><span class="sxs-lookup"><span data-stu-id="ff24e-126">**Data**</span></span> |<span data-ttu-id="ff24e-127">Hello *уровень данных* по сути является hello сервера, который хранит данные приложения (например, сервер SQL Server).</span><span class="sxs-lookup"><span data-stu-id="ff24e-127">hello *data tier* is basically hello server that stores an application's data (for example, a server running SQL Server).</span></span> |

<span data-ttu-id="ff24e-128">Слои приложений описывают логические группы hello hello функций и компонентов в приложении; уровни же описывают физическое распределение hello hello функциональных возможностей и компонентов на отдельных физических серверов, компьютеров, сетей или удаленных расположений.</span><span class="sxs-lookup"><span data-stu-id="ff24e-128">Application layers describe hello logical groupings of hello functionality and components in an application; whereas tiers describe hello physical distribution of hello functionality and components on separate physical servers, computers, networks, or remote locations.</span></span> <span data-ttu-id="ff24e-129">Hello слои приложения могут размещаться на hello же физического компьютера (hello того же уровня) или могут быть распределены по разным отдельным компьютерам (n уровневого) и hello компоненты в каждом слое взаимодействуют с компонентами в других слоях с помощью четко определенных интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="ff24e-129">hello layers of an application may reside on hello same physical computer (hello same tier) or may be distributed over separate computers (n-tier), and hello components in each layer communicate with components in other layers through well-defined interfaces.</span></span> <span data-ttu-id="ff24e-130">Можно представить hello термин "уровень" как ссылки toophysical распространения шаблоны, например двухуровневая трехуровневой и n уровневые.</span><span class="sxs-lookup"><span data-stu-id="ff24e-130">You can think of hello term tier as referring toophysical distribution patterns such as two-tier, three-tier, and n-tier.</span></span> <span data-ttu-id="ff24e-131">**Модель двухуровневого приложения** содержит два уровня приложений: сервер приложений и сервер базы данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-131">A **2-tier application pattern** contains two application tiers: application server and database server.</span></span> <span data-ttu-id="ff24e-132">между сервером приложения hello и hello сервера базы данных происходит прямое взаимодействие Hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-132">hello direct communication happens between hello application server and hello database server.</span></span> <span data-ttu-id="ff24e-133">сервер приложений Hello содержит компоненты веб уровня и бизнес уровня.</span><span class="sxs-lookup"><span data-stu-id="ff24e-133">hello application server contains both web-tier and business-tier components.</span></span> <span data-ttu-id="ff24e-134">В **модель трехуровневого приложения**, существует три уровня приложения: веб-сервер, сервер приложений, который содержит hello уровня бизнес-логики или компоненты доступа к бизнес-уровня данных и сервер базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-134">In **3-tier application pattern**, there are three application tiers: web server, application server, which contains hello business logic tier and/or business tier data access components, and hello database server.</span></span> <span data-ttu-id="ff24e-135">взаимодействие Hello hello веб-сервера и сервера базы данных hello происходит через сервер приложений hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-135">hello communication between hello web server and hello database server happens over hello application server.</span></span> <span data-ttu-id="ff24e-136">Подробные сведения о слоях и уровнях приложений см. в статье [Microsoft Application Architecture Guide](https://msdn.microsoft.com/library/ff650706.aspx) (Руководство по архитектуре приложений Майкрософт).</span><span class="sxs-lookup"><span data-stu-id="ff24e-136">For detailed information on application layers and tiers, see [Microsoft Application Architecture Guide](https://msdn.microsoft.com/library/ff650706.aspx).</span></span>

<span data-ttu-id="ff24e-137">Перед началом этой статьи, следует ознакомиться hello основные понятия SQL Server и Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-137">Before you start reading this article, you should have knowledge on hello fundamental concepts of SQL Server and Azure.</span></span> <span data-ttu-id="ff24e-138">Дополнительные сведения см. в статьях [Microsoft SQL Server](https://msdn.microsoft.com/library/bb545450.aspx) и [Приступая к работе с SQL Server в виртуальных машинах Azure](virtual-machines-windows-sql-server-iaas-overview.md), а также на веб-сайте [Azure.com](https://azure.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="ff24e-138">For information, see [SQL Server Books Online](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and [Azure.com](https://azure.microsoft.com/).</span></span>

<span data-ttu-id="ff24e-139">В этой статье описывается несколько моделей приложений, которые могут подходить для простых приложений, а также hello очень сложных корпоративных приложений.</span><span class="sxs-lookup"><span data-stu-id="ff24e-139">This article describes several application patterns that can be suitable for your simple applications as well as hello highly complex enterprise applications.</span></span> <span data-ttu-id="ff24e-140">Прежде чем с подробным описанием каждого шаблона, мы рекомендуем, следует ознакомиться со службами хранилища hello доступные данные в Azure, такие как [хранилища Azure](../../../storage/common/storage-introduction.md), [базы данных SQL Azure](../../../sql-database/sql-database-technical-overview.md), и [ SQL Server в виртуальной машине Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-140">Before detailing each pattern, we recommend that you should familiarize yourself with hello available data storage services in Azure, such as [Azure Storage](../../../storage/common/storage-introduction.md), [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), and [SQL Server in an Azure Virtual Machine](virtual-machines-windows-sql-server-iaas-overview.md).</span></span> <span data-ttu-id="ff24e-141">toomake hello наилучшие решения по конструкции приложения, понять, когда хранилище данных службы четко toouse.</span><span class="sxs-lookup"><span data-stu-id="ff24e-141">toomake hello best design decisions for your applications, understand when toouse which data storage service clearly.</span></span>

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a><span data-ttu-id="ff24e-142">Выбирайте SQL Server на виртуальной машине Azure в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-142">Choose SQL Server in an Azure Virtual Machine, when:</span></span>
* <span data-ttu-id="ff24e-143">Вам необходим контроль над SQL Server и Windows.</span><span class="sxs-lookup"><span data-stu-id="ff24e-143">You need control on SQL Server and Windows.</span></span> <span data-ttu-id="ff24e-144">Например это может включать версии SQL Server hello специальные исправления, производительности, конфигурации и т. д.</span><span class="sxs-lookup"><span data-stu-id="ff24e-144">For example, this might include hello SQL Server version, special hotfixes, performance configuration, etc.</span></span>
* <span data-ttu-id="ff24e-145">Требуется полная совместимость с SQL Server в локальной и хотите toomove существующих приложений tooAzure как-является.</span><span class="sxs-lookup"><span data-stu-id="ff24e-145">You need a full compatibility with SQL Server on-premises and want toomove existing applications tooAzure as-is.</span></span>
* <span data-ttu-id="ff24e-146">Требуется tooleverage возможности hello hello среды Azure, но база данных SQL Azure не поддерживает все функции hello, которые требуются приложению.</span><span class="sxs-lookup"><span data-stu-id="ff24e-146">You want tooleverage hello capabilities of hello Azure environment but Azure SQL Database does not support all hello features that your application requires.</span></span> <span data-ttu-id="ff24e-147">Это может включать в себя hello в следующих областях:</span><span class="sxs-lookup"><span data-stu-id="ff24e-147">This could include hello following areas:</span></span>
  
  * <span data-ttu-id="ff24e-148">**Размер базы данных**: во время hello обновления этой статьи база данных SQL поддерживает базы данных из копии too1 ТБ данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-148">**Database size**: At hello time this article was updated, SQL Database supports a database of up too1 TB of data.</span></span> <span data-ttu-id="ff24e-149">Если приложение требует более 1 ТБ данных, и вы не хотите tooimplement собственные решения для сегментирования, рекомендуется использовать SQL Server в виртуальной машине Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-149">If your application requires more than 1 TB of data and you don’t want tooimplement custom sharding solutions, it’s recommended that you use SQL Server in an Azure Virtual Machine.</span></span> <span data-ttu-id="ff24e-150">Hello актуальные сведения см. в разделе [масштабирование Out баз данных SQL Azure](https://msdn.microsoft.com/library/azure/dn495641.aspx) и [уровни служб базы данных SQL Azure и уровни производительности](../../../sql-database/sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-150">For hello latest information, see [Scaling Out Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn495641.aspx) and [Azure SQL Database Service Tiers and Performance Levels](../../../sql-database/sql-database-service-tiers.md).</span></span>
  * <span data-ttu-id="ff24e-151">**Соответствие требованиям HIPAA**. Клиенты из сферы здравоохранения и независимые поставщики программного обеспечения могут предпочесть [SQL Server на виртуальной машине Azure](virtual-machines-windows-sql-server-iaas-overview.md) вместо [базы данных SQL Azure](../../../sql-database/sql-database-technical-overview.md), так как вариант с SQL Server на виртуальной машине Azure оговорен в соглашении с бизнес-партнерами HIPAA.</span><span class="sxs-lookup"><span data-stu-id="ff24e-151">**HIPAA compliance**: Healthcare customers and Independent Software Vendors (ISVs) might choose [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) instead of [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md) because SQL Server in an Azure Virtual Machine is covered by HIPAA Business Associate Agreement (BAA).</span></span> <span data-ttu-id="ff24e-152">Сведения о соответствии требованиям см. в [центре управления безопасностью Microsoft Azure](https://azure.microsoft.com/support/trust-center/compliance/) — раздел "Compliance" (Соответствие требованиям).</span><span class="sxs-lookup"><span data-stu-id="ff24e-152">For information on compliance, see [Microsoft Azure Trust Center: Compliance](https://azure.microsoft.com/support/trust-center/compliance/).</span></span>
  * <span data-ttu-id="ff24e-153">**Функции на уровне экземпляра**: В настоящее время база данных SQL не поддерживает функции, находящихся за пределами базы данных hello (например на связанных серверах задания агента, FileStream, компонент Service Broker, и т. д.).</span><span class="sxs-lookup"><span data-stu-id="ff24e-153">**Instance-level features**: At this time, SQL Database doesn’t support features that live outside of hello database (such as Linked Servers, Agent jobs, FileStream, Service Broker, etc.).</span></span> <span data-ttu-id="ff24e-154">Дополнительные сведения см. в статье [Общие ограничения и рекомендации для базы данных SQL Azure](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span><span class="sxs-lookup"><span data-stu-id="ff24e-154">For more information, see [Azure SQL Database Guidelines and Limitations](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span></span>

## <a name="1-tier-simple-single-virtual-machine"></a><span data-ttu-id="ff24e-155">Модель простого одноуровневого приложения: одна виртуальная машина</span><span class="sxs-lookup"><span data-stu-id="ff24e-155">1-tier (simple): single virtual machine</span></span>
<span data-ttu-id="ff24e-156">В этой модели приложения развертывание приложения SQL Server и базы данных tooa автономной виртуальной машины в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-156">In this application pattern, you deploy your SQL Server application and database tooa standalone virtual machine in Azure.</span></span> <span data-ttu-id="ff24e-157">Hello же виртуальная машина содержит клиентское или веб-приложения, бизнес-компоненты, доступа к данным и hello сервера базы данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-157">hello same virtual machine contains your client/web application, business components, data access layer, and hello database server.</span></span> <span data-ttu-id="ff24e-158">Hello презентации, business и код доступа к данным логически разделены, но физически расположены на одном сервере машине.</span><span class="sxs-lookup"><span data-stu-id="ff24e-158">hello presentation, business, and data access code are logically separated but are physically located in a single-server machine.</span></span> <span data-ttu-id="ff24e-159">Большинство клиентов начинает с этой модели приложения и затем они масштабного развертывания, добавив дополнительные веб-ролей или виртуальных машин системы tootheir.</span><span class="sxs-lookup"><span data-stu-id="ff24e-159">Most customers start with this application pattern and then, they scale out by adding more web roles or virtual machines tootheir system.</span></span>

<span data-ttu-id="ff24e-160">Эту модель приложения удобно использовать в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-160">This application pattern is useful when:</span></span>

* <span data-ttu-id="ff24e-161">Требуется tooperform tooevaluate платформы tooAzure простую миграцию ли платформа hello отвечает требованиям приложения или нет.</span><span class="sxs-lookup"><span data-stu-id="ff24e-161">You want tooperform a simple migration tooAzure platform tooevaluate whether hello platform answers your application’s requirements or not.</span></span>
* <span data-ttu-id="ff24e-162">Требуется tookeep все hello уровни приложения размещенного в hello же виртуальные машины в hello же tooreduce hello задержка между уровнями центра обработки данных Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-162">You want tookeep all hello application tiers hosted in hello same virtual machine in hello same Azure data center tooreduce hello latency between tiers.</span></span>
* <span data-ttu-id="ff24e-163">Необходимо tooquickly подготовки разработки и тестовую среду на короткий период времени.</span><span class="sxs-lookup"><span data-stu-id="ff24e-163">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="ff24e-164">Вы хотите tooperform нагрузочное тестирование для различных уровней рабочей нагрузки, но на приветствия же время вы не хотите tooown и обслуживать много физических компьютеров все время hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-164">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="ff24e-165">Hello следующей схеме показывается простой локальный сценарий и как можно развернуть его Облачное решение в одной виртуальной машины в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-165">hello following diagram demonstrates a simple on-premises scenario and how you can deploy its cloud enabled solution in a single virtual machine in Azure.</span></span>

![Модель одноуровневого приложения](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

<span data-ttu-id="ff24e-167">Развертывание бизнес-уровне hello (бизнес-логики и компоненты доступа к данным) на hello одном физическом уровне hello уровня представления можно добиться максимальной производительности приложения, если необходимо использовать отдельный уровень из-за проблем с tooscalability или безопасности.</span><span class="sxs-lookup"><span data-stu-id="ff24e-167">Deploying hello business layer (business logic and data access components) on hello same physical tier as hello presentation layer can maximize application performance, unless you must use a separate tier due tooscalability or security concerns.</span></span>

<span data-ttu-id="ff24e-168">Так как это очень распространенный шаблон toostart с, может оказаться hello следующей статьей миграции удобен для перемещения вашей tooyour данных виртуальной Машины SQL Server: [миграция tooSQL базы данных сервера на Виртуальной машине Azure](virtual-machines-windows-migrate-sql.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-168">Since this is a very common pattern toostart with, you might find hello following article on migration useful for moving your data tooyour SQL Server VM: [Migrating a Database tooSQL Server on an Azure VM](virtual-machines-windows-migrate-sql.md).</span></span>

## <a name="3-tier-simple-multiple-virtual-machines"></a><span data-ttu-id="ff24e-169">Модель простого трехуровневого приложения: несколько виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="ff24e-169">3-tier (simple): multiple virtual machines</span></span>
<span data-ttu-id="ff24e-170">При использовании этой модели приложения выполняется развертывание трехуровневого приложения в Azure. При этом каждый уровень приложения размещается на отдельной виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="ff24e-170">In this application pattern, you deploy a 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="ff24e-171">Это обеспечивает гибкую среду, в которой можно легко выполнить вертикальное и горизонтальное масштабирование.</span><span class="sxs-lookup"><span data-stu-id="ff24e-171">This provides a flexible environment for an easy scale-up and scale-out scenarios.</span></span> <span data-ttu-id="ff24e-172">Если одна виртуальная машина содержит клиентское или веб-приложения, hello другой размещает бизнес-компоненты и hello другой сервер базы данных один узлов hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-172">When one virtual machine contains your client/web application, hello other one hosts your business components, and hello other one hosts hello database server.</span></span>

<span data-ttu-id="ff24e-173">Эту модель приложения удобно использовать в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-173">This application pattern is useful when:</span></span>

* <span data-ttu-id="ff24e-174">Вы хотите tooperform миграцию приложений сложная база данных tooAzure виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="ff24e-174">You want tooperform a migration of complex database applications tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="ff24e-175">Вы хотите toobe уровней другого приложения, размещенные в разных регионах.</span><span class="sxs-lookup"><span data-stu-id="ff24e-175">You want different application tiers toobe hosted in different regions.</span></span> <span data-ttu-id="ff24e-176">Например имеются общие базы данных, которые являются областями развернутой toomultiple для целей отчетности.</span><span class="sxs-lookup"><span data-stu-id="ff24e-176">For example, you might have shared databases that are deployed toomultiple regions for reporting purposes.</span></span>
* <span data-ttu-id="ff24e-177">Вы хотите toomove корпоративные приложения из локальных виртуализированных tooAzure платформ виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="ff24e-177">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span> <span data-ttu-id="ff24e-178">Подробные сведения о корпоративных приложениях см. в статье [What is an Enterprise Application?](https://msdn.microsoft.com/library/aa267045.aspx) (Основные сведения о корпоративных приложениях).</span><span class="sxs-lookup"><span data-stu-id="ff24e-178">For a detailed discussion on enterprise applications, see [What is an Enterprise Application](https://msdn.microsoft.com/library/aa267045.aspx).</span></span>
* <span data-ttu-id="ff24e-179">Необходимо tooquickly подготовки разработки и тестовую среду на короткий период времени.</span><span class="sxs-lookup"><span data-stu-id="ff24e-179">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="ff24e-180">Вы хотите tooperform нагрузочное тестирование для различных уровней рабочей нагрузки, но на приветствия же время вы не хотите tooown и обслуживать много физических компьютеров все время hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-180">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="ff24e-181">Hello следующей схеме показано, как разместить простое трехуровневое приложение в Azure путем размещения каждого уровня приложения в другую виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="ff24e-181">hello following diagram demonstrates how you can place a simple 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span>

![Модель трехуровневого приложения](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

<span data-ttu-id="ff24e-183">В этой модели приложения на каждом уровне используется только одна виртуальная машина.</span><span class="sxs-lookup"><span data-stu-id="ff24e-183">In this application pattern, there is only one virtual machine (VM) in each tier.</span></span> <span data-ttu-id="ff24e-184">Если у вас есть несколько виртуальных машин в Azure, мы рекомендуем настроить виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="ff24e-184">If you have multiple VMs in Azure, we recommend that you set up a virtual network.</span></span> <span data-ttu-id="ff24e-185">[Виртуальная сеть Azure](../../../virtual-network/virtual-networks-overview.md) создает надежный периметр безопасности, а также позволяет toocommunicate виртуальных машин друг с другом посредством частного IP-адреса hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-185">[Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) creates a trusted security boundary and also allows VMs toocommunicate among themselves over hello private IP address.</span></span> <span data-ttu-id="ff24e-186">Кроме того всегда проверяйте, что все подключения к Интернету, идут только toohello уровня представления.</span><span class="sxs-lookup"><span data-stu-id="ff24e-186">In addition, always make sure that all Internet connections only go toohello presentation tier.</span></span> <span data-ttu-id="ff24e-187">При использовании данной модели приложения, управляйте toocontrol hello сетевой безопасности группы правил доступа.</span><span class="sxs-lookup"><span data-stu-id="ff24e-187">When following this application pattern, manage hello network security group rules toocontrol access.</span></span> <span data-ttu-id="ff24e-188">Дополнительные сведения см. в разделе [разрешить внешний доступ tooyour виртуальной Машины с помощью портала Azure "hello"](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ff24e-188">For more information, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="ff24e-189">В диаграмме hello протоколы Интернета можно TCP, UDP, HTTP или HTTPS.</span><span class="sxs-lookup"><span data-stu-id="ff24e-189">In hello diagram, Internet Protocols can be TCP, UDP, HTTP, or HTTPS.</span></span>

> [!NOTE]
> <span data-ttu-id="ff24e-190">Настройка виртуальной сети в Azure выполняется бесплатно.</span><span class="sxs-lookup"><span data-stu-id="ff24e-190">Setting up a virtual network in Azure is free of charge.</span></span> <span data-ttu-id="ff24e-191">Тем не менее взимается плата для шлюза VPN hello, соединяющей tooon организациями.</span><span class="sxs-lookup"><span data-stu-id="ff24e-191">However, you are charged for hello VPN gateway that connects tooon-premises.</span></span> <span data-ttu-id="ff24e-192">Размер платы зависит hello количество времени, которое это соединение предоставляется и доступно.</span><span class="sxs-lookup"><span data-stu-id="ff24e-192">This charge is based on hello amount of time that connection is provisioned and available.</span></span>
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a><span data-ttu-id="ff24e-193">Модель двух- и трехуровневого приложений с горизонтальным масштабированием уровня представления</span><span class="sxs-lookup"><span data-stu-id="ff24e-193">2-tier and 3-tier with presentation tier scale-out</span></span>
<span data-ttu-id="ff24e-194">В этой модели приложения развертывание базы данных уровня 2 или 3-уровневое приложение tooAzure виртуальных машин путем размещения каждого уровня приложения в другой виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="ff24e-194">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="ff24e-195">Кроме того можно масштабировать hello уровень представления из-за tooincreased объема входящих клиентских запросов.</span><span class="sxs-lookup"><span data-stu-id="ff24e-195">In addition, you scale out hello presentation tier due tooincreased volume of incoming client requests.</span></span>

<span data-ttu-id="ff24e-196">Эту модель приложения удобно использовать в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-196">This application pattern is useful when:</span></span>

* <span data-ttu-id="ff24e-197">Вы хотите toomove корпоративные приложения из локальных виртуализированных tooAzure платформ виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="ff24e-197">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="ff24e-198">Вы хотите tooscale out hello уровень представления из-за tooincreased объема входящих клиентских запросов.</span><span class="sxs-lookup"><span data-stu-id="ff24e-198">You want tooscale out hello presentation tier due tooincreased volume of incoming client requests.</span></span>
* <span data-ttu-id="ff24e-199">Необходимо tooquickly подготовки разработки и тестовую среду на короткий период времени.</span><span class="sxs-lookup"><span data-stu-id="ff24e-199">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="ff24e-200">Вы хотите tooperform нагрузочное тестирование для различных уровней рабочей нагрузки, но на приветствия же время вы не хотите tooown и обслуживать много физических компьютеров все время hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-200">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="ff24e-201">Вы хотите tooown среду инфраструктуры, которую можно масштабировать вверх и вниз по требованию.</span><span class="sxs-lookup"><span data-stu-id="ff24e-201">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="ff24e-202">Hello следующей схеме показано, как можно разместить уровни приложения hello в нескольких виртуальных машин в Azure с расширением уровня представления hello из-за tooincreased объема входящих клиентских запросов.</span><span class="sxs-lookup"><span data-stu-id="ff24e-202">hello following diagram demonstrates how you can place hello application tiers in multiple virtual machines in Azure by scaling out hello presentation tier due tooincreased volume of incoming client requests.</span></span> <span data-ttu-id="ff24e-203">Как показано на схеме hello, подсистемы балансировки нагрузки Azure отвечает за распределение трафика по нескольким виртуальным машинам, а также определяет, какие tooconnect server web для.</span><span class="sxs-lookup"><span data-stu-id="ff24e-203">As seen in hello diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server tooconnect to.</span></span> <span data-ttu-id="ff24e-204">Наличие нескольких экземпляров веб-серверов hello в подсистему балансировки нагрузки обеспечивает высокий уровень доступности уровня представления hello hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-204">Having multiple instances of hello web servers behind a load balancer ensures hello high availability of hello presentation tier.</span></span>

![Модель приложения: горизонтальное масштабирование уровня представления](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a><span data-ttu-id="ff24e-206">Рекомендации для моделей двух-, трех- и n-уровневых приложений с несколькими виртуальными машинами на одном уровне</span><span class="sxs-lookup"><span data-stu-id="ff24e-206">Best practices for 2-tier, 3-tier, or n-tier patterns that have multiple VMs in one tier</span></span>
<span data-ttu-id="ff24e-207">Рекомендуется размещать hello виртуальных машин, которые принадлежат toohello же уровня в hello же облачной службе и в hello же hello группы доступности.</span><span class="sxs-lookup"><span data-stu-id="ff24e-207">It’s recommended that you place hello virtual machines that belong toohello same tier in hello same cloud service and in hello same hello availability set.</span></span> <span data-ttu-id="ff24e-208">Например, вы можете поместить набор веб-серверов в облачную службу **CloudService1** и группу доступности **AvailabilitySet1**, а набор серверов баз данных — в облачную службу **CloudService2** и группу доступности **AvailabilitySet2**.</span><span class="sxs-lookup"><span data-stu-id="ff24e-208">For example, place a set of web servers in **CloudService1** and **AvailabilitySet1** and a set of database servers in **CloudService2** and **AvailabilitySet2**.</span></span> <span data-ttu-id="ff24e-209">Группа доступности в Azure позволяет узлы высокой доступности tooplace hello в отдельных доменах сбоя и доменах обновления.</span><span class="sxs-lookup"><span data-stu-id="ff24e-209">An availability set in Azure enables you tooplace hello high availability nodes into separate fault domains and upgrade domains.</span></span>

<span data-ttu-id="ff24e-210">tooleverage несколько экземпляров виртуальных Машин уровня необходимо tooconfigure подсистемы балансировки нагрузки Azure между уровнями приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-210">tooleverage multiple VM instances of a tier, you need tooconfigure Azure Load Balancer between application tiers.</span></span> <span data-ttu-id="ff24e-211">tooconfigure подсистемы балансировки нагрузки на каждом уровне создать конечную точку с балансировкой нагрузки на VM каждого уровня отдельно.</span><span class="sxs-lookup"><span data-stu-id="ff24e-211">tooconfigure Load Balancer in each tier, create a load-balanced endpoint on each tier’s VMs separately.</span></span> <span data-ttu-id="ff24e-212">Для конкретного уровня сначала создайте виртуальные машины в hello же облачной службе.</span><span class="sxs-lookup"><span data-stu-id="ff24e-212">For a specific tier, first create VMs in hello same cloud service.</span></span> <span data-ttu-id="ff24e-213">Это гарантирует, что они имеют hello же общедоступный виртуальный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="ff24e-213">This ensures that they have hello same public Virtual IP address.</span></span> <span data-ttu-id="ff24e-214">Создайте конечную точку на одной из виртуальных машин hello на этом уровне.</span><span class="sxs-lookup"><span data-stu-id="ff24e-214">Next, create an endpoint on one of hello virtual machines on that tier.</span></span> <span data-ttu-id="ff24e-215">Затем назначьте hello одной конечной точки toohello других виртуальных машин данного уровня для балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="ff24e-215">Then, assign hello same endpoint toohello other virtual machines on that tier for load balancing.</span></span> <span data-ttu-id="ff24e-216">Создав набор с балансировкой нагрузки, распределение трафика между несколькими виртуальными машинами и также позволяют toodetermine hello подсистемы балансировки нагрузки какой tooconnect узел при сбое внутреннего узла ВМ.</span><span class="sxs-lookup"><span data-stu-id="ff24e-216">By creating a load-balanced set, you distribute traffic across multiple virtual machines and also allow hello Load Balancer toodetermine which node tooconnect when a backend VM node fails.</span></span> <span data-ttu-id="ff24e-217">Например наличие нескольких экземпляров веб-серверы hello в подсистему балансировки нагрузки обеспечивает высокий уровень доступности уровня представления hello hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-217">For example, having multiple instances of hello web servers behind a load balancer ensures hello high availability of hello presentation tier.</span></span>

<span data-ttu-id="ff24e-218">Рекомендуется всегда проверяйте, что все Интернет-подключения приходят toohello уровня представления.</span><span class="sxs-lookup"><span data-stu-id="ff24e-218">As a best practice, always make sure that all internet connections first go toohello presentation tier.</span></span> <span data-ttu-id="ff24e-219">уровень представления Hello обращается к hello бизнес-уровня и затем hello бизнес-уровень обращается к уровню данных hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-219">hello presentation layer accesses hello business tier, and then hello business tier accesses hello data tier.</span></span> <span data-ttu-id="ff24e-220">Дополнительные сведения о как tooallow доступ к toohello уровня представления. в разделе [разрешить внешний доступ tooyour виртуальной Машины с помощью портала Azure "hello"](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ff24e-220">For more information on how tooallow access toohello presentation layer, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="ff24e-221">Обратите внимание, что hello подсистемы балансировки нагрузки в Azure работает аналогично tooload балансировки нагрузки в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="ff24e-221">Note that hello Load Balancer in Azure works similar tooload balancers in an on-premises environment.</span></span> <span data-ttu-id="ff24e-222">Дополнительные сведения см. в статье [Балансировка нагрузки для служб инфраструктуры Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ff24e-222">For more information, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="ff24e-223">Кроме того, мы рекомендуем настроить частную сеть для ваших виртуальных машин с помощью виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-223">In addition, we recommend that you set up a private network for your virtual machines by using Azure Virtual Network.</span></span> <span data-ttu-id="ff24e-224">Это позволяет им toocommunicate друг с другом посредством частного IP-адреса hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-224">This allows them toocommunicate among themselves over hello private IP address.</span></span> <span data-ttu-id="ff24e-225">Дополнительные сведения см. в статье [Обзор виртуальной сети](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-225">For more information, see [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span>

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a><span data-ttu-id="ff24e-226">Модель двух- и трехуровневых приложений с горизонтальным масштабированием бизнес-уровня</span><span class="sxs-lookup"><span data-stu-id="ff24e-226">2-tier and 3-tier with business tier scale-out</span></span>
<span data-ttu-id="ff24e-227">В этой модели приложения развертывание базы данных уровня 2 или 3-уровневое приложение tooAzure виртуальных машин путем размещения каждого уровня приложения в другой виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="ff24e-227">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="ff24e-228">Кроме того может потребоваться toodistribute hello приложения сервера компонентов toomultiple виртуальных машин из-за сложности toohello приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-228">In addition, you might want toodistribute hello application server components toomultiple virtual machines due toohello complexity of your application.</span></span>

<span data-ttu-id="ff24e-229">Эту модель приложения удобно использовать в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-229">This application pattern is useful when:</span></span>

* <span data-ttu-id="ff24e-230">Вы хотите toomove корпоративные приложения из локальных виртуализированных tooAzure платформ виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="ff24e-230">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="ff24e-231">Вы хотите toodistribute hello приложения сервера компонентов toomultiple виртуальных машин из-за сложности toohello приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-231">You want toodistribute hello application server components toomultiple virtual machines due toohello complexity of your application.</span></span>
* <span data-ttu-id="ff24e-232">Вы хотите toomove бизнес логики интенсивной локальных приложений LOB (бизнес) tooAzure виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="ff24e-232">You want toomove business logic heavy on-premises LOB (line-of-business) applications tooAzure Virtual Machines.</span></span> <span data-ttu-id="ff24e-233">Бизнес-приложений — это ряд важных компьютерных приложений, которые являются жизненно важных toorunning предприятия, например учета, отдела кадров, заработной платы, управления логистическими цепочками и планирования приложений ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ff24e-233">LOB applications are a set of critical computer applications that are vital toorunning an enterprise, such as accounting, human resources (HR), payroll, supply chain management, and resource planning applications.</span></span>
* <span data-ttu-id="ff24e-234">Необходимо tooquickly подготовки разработки и тестовую среду на короткий период времени.</span><span class="sxs-lookup"><span data-stu-id="ff24e-234">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="ff24e-235">Вы хотите tooperform нагрузочное тестирование для различных уровней рабочей нагрузки, но на приветствия же время вы не хотите tooown и обслуживать много физических компьютеров все время hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-235">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="ff24e-236">Вы хотите tooown среду инфраструктуры, которую можно масштабировать вверх и вниз по требованию.</span><span class="sxs-lookup"><span data-stu-id="ff24e-236">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="ff24e-237">Привет, следующая диаграмма демонстрирует локальный сценарий и его Облачное решение.</span><span class="sxs-lookup"><span data-stu-id="ff24e-237">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="ff24e-238">В этом сценарии установите уровни приложения hello в нескольких виртуальных машин в Azure, горизонтальное масштабирование hello бизнес-уровень содержит hello бизнес-логики и компоненты доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="ff24e-238">In this scenario, you place hello application tiers in multiple virtual machines in Azure by scaling out hello business tier, which contains hello business logic tier and data access components.</span></span> <span data-ttu-id="ff24e-239">Как показано на схеме hello, подсистемы балансировки нагрузки Azure отвечает за распределение трафика по нескольким виртуальным машинам, а также определяет, какие tooconnect server web для.</span><span class="sxs-lookup"><span data-stu-id="ff24e-239">As seen in hello diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server tooconnect to.</span></span> <span data-ttu-id="ff24e-240">Наличие нескольких экземпляров серверов приложений hello в подсистему балансировки нагрузки гарантирует высокий уровень доступности hello hello бизнес-уровня.</span><span class="sxs-lookup"><span data-stu-id="ff24e-240">Having multiple instances of hello application servers behind a load balancer ensures hello high availability of hello business tier.</span></span> <span data-ttu-id="ff24e-241">Дополнительные сведения см. в разделе [Рекомендации для моделей двух-, трех- и n-уровневых приложений с несколькими виртуальными машинами на одном уровне](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span><span class="sxs-lookup"><span data-stu-id="ff24e-241">For more information, see [Best practices for 2-tier, 3-tier, or n-tier application patterns that have multiple virtual machines in one tier](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span></span>

![Модель приложения с горизонтальным масштабированием бизнес-уровня](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a><span data-ttu-id="ff24e-243">Модель двух- и трехуровневых приложений с горизонтальным масштабированием уровня представления и бизнес-уровня и HADR</span><span class="sxs-lookup"><span data-stu-id="ff24e-243">2-tier and 3-tier with presentation and business tiers scale-out and HADR</span></span>
<span data-ttu-id="ff24e-244">В этой модели приложения развертывание базы данных уровня 2 или 3-уровневое приложение tooAzure виртуальные машины, распределяя hello уровень представления (веб-сервера) и hello виртуальных машинах toomultiple компоненты бизнес уровня (сервера приложений).</span><span class="sxs-lookup"><span data-stu-id="ff24e-244">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by distributing hello presentation tier (web server) and hello business tier (application server) components toomultiple virtual machines.</span></span> <span data-ttu-id="ff24e-245">Кроме того, вы можете реализовать решения для обеспечения высокого уровня доступности и аварийного восстановления баз данных на виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-245">In addition, you implement high-availability and disaster recovery solutions for your databases in Azure virtual machines.</span></span>

<span data-ttu-id="ff24e-246">Эту модель приложения удобно использовать в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-246">This application pattern is useful when:</span></span>

* <span data-ttu-id="ff24e-247">Вы хотите toomove корпоративные приложения из tooAzure локальных виртуализированных платформ путем реализации возможностей SQL Server высокой доступности и аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="ff24e-247">You want toomove enterprise applications from virtualized platforms on-premises tooAzure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="ff24e-248">Вы хотите tooscale hello уровня представления и бизнес-уровня hello из-за tooincreased объема входящих клиентских запросов и сложности приложения hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-248">You want tooscale out hello presentation tier and hello business tier due tooincreased volume of incoming client requests and hello complexity of your application.</span></span>
* <span data-ttu-id="ff24e-249">Необходимо tooquickly подготовки разработки и тестовую среду на короткий период времени.</span><span class="sxs-lookup"><span data-stu-id="ff24e-249">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="ff24e-250">Вы хотите tooperform нагрузочное тестирование для различных уровней рабочей нагрузки, но на приветствия же время вы не хотите tooown и обслуживать много физических компьютеров все время hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-250">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="ff24e-251">Вы хотите tooown среду инфраструктуры, которую можно масштабировать вверх и вниз по требованию.</span><span class="sxs-lookup"><span data-stu-id="ff24e-251">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="ff24e-252">Привет, следующая диаграмма демонстрирует локальный сценарий и его Облачное решение.</span><span class="sxs-lookup"><span data-stu-id="ff24e-252">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="ff24e-253">В этом сценарии горизонтальное масштабирование уровня представления hello и компоненты бизнес-уровня hello в нескольких виртуальных машин в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-253">In this scenario, you scale out hello presentation tier and hello business tier components in multiple virtual machines in Azure.</span></span> <span data-ttu-id="ff24e-254">Кроме того, вы можете реализовать методы высокого уровня доступности и аварийного восстановления (HADR) для баз данных SQL Server в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-254">In addition, you implement high availability and disaster recovery (HADR) techniques for SQL Server databases in Azure.</span></span>

<span data-ttu-id="ff24e-255">Если несколько копий приложения работают на разных виртуальных машинах, то для них выполняется балансировка нагрузки по обработке запросов.</span><span class="sxs-lookup"><span data-stu-id="ff24e-255">Running multiple copies of an application in different VMs make sure that you are load balancing requests across them.</span></span> <span data-ttu-id="ff24e-256">При наличии нескольких виртуальных машин, необходимо убедиться, что все виртуальные машины доступны и работают в один момент времени toomake.</span><span class="sxs-lookup"><span data-stu-id="ff24e-256">When you have multiple virtual machines, you need toomake sure that all your VMs are accessible and running at one point in time.</span></span> <span data-ttu-id="ff24e-257">При настройке балансировки нагрузки подсистемы балансировки нагрузки Azure отслеживает hello работоспособность виртуальных машин и направляет входящие вызовы toohello полноценно функционирующие узлы ВМ должным образом.</span><span class="sxs-lookup"><span data-stu-id="ff24e-257">If you configure load balancing, Azure Load Balancer tracks hello health of VMs and directs incoming calls toohello healthy functioning VM nodes properly.</span></span> <span data-ttu-id="ff24e-258">Сведения о том, как tooset копирование балансировки нагрузки hello виртуальных машин, в разделе [балансировки нагрузки для служб инфраструктуры Azure](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ff24e-258">For information on how tooset up load balancing of hello virtual machines, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="ff24e-259">При наличии нескольких экземпляров приложений и веб-серверов за балансировщиком нагрузки гарантирует высокий уровень доступности hello hello представления и бизнес-уровни.</span><span class="sxs-lookup"><span data-stu-id="ff24e-259">Having multiple instances of web and application servers behind a load balancer ensures hello high availability of hello presentation and business tiers.</span></span>

![Горизонтальное масштабирование и высокий уровень доступности](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a><span data-ttu-id="ff24e-261">Рекомендации для моделей приложений, требующих HADR SQL</span><span class="sxs-lookup"><span data-stu-id="ff24e-261">Best practices for application patterns requiring SQL HADR</span></span>
<span data-ttu-id="ff24e-262">Если вы устанавливаете решения по обеспечению высокого уровня доступности и аварийного восстановления SQL Server на виртуальных машинах Azure, то вам также необходимо настроить виртуальную сеть для ваших виртуальных машин с помощью [виртуальной сети Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-262">When you set up SQL Server high availability and disaster recovery solutions in Azure Virtual Machines, setting up a virtual network for your virtual machines using [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is mandatory.</span></span>  <span data-ttu-id="ff24e-263">Виртуальные машины в виртуальной сети будут иметь стабильный частный IP-адрес даже после простоя службы, таким образом можно избежать времени обновления hello, необходимого для разрешения имен DNS.</span><span class="sxs-lookup"><span data-stu-id="ff24e-263">Virtual machines within a Virtual Network will have a stable private IP address even after a service downtime, thus you can avoid hello update time required for DNS name resolution.</span></span> <span data-ttu-id="ff24e-264">Кроме того, виртуальная сеть hello позволяет tooextend в локальной сети tooAzure и создает надежный периметр безопасности.</span><span class="sxs-lookup"><span data-stu-id="ff24e-264">In addition, hello virtual network allows you tooextend your on-premises network tooAzure and creates a trusted security boundary.</span></span> <span data-ttu-id="ff24e-265">Например, если для приложения действуют ограничения корпоративного домена (такие как аутентификация Windows или Active Directory), то необходимо настроить [виртуальную сеть Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-265">For example, if your application has corporate domain restrictions (such as, Windows authentication, Active Directory), setting up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is necessary.</span></span>

<span data-ttu-id="ff24e-266">Большинство клиентов, выполняющих рабочий код в Azure, хранят и основную, и дополнительную реплики в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-266">Most of customers, who are running production code on Azure, are keeping both primary and secondary replicas in Azure.</span></span>

<span data-ttu-id="ff24e-267">Подробные сведения и учебники по обеспечению высокого уровня доступности и аварийного восстановления см. в статье [Высокий уровень доступности и аварийное восстановление для SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-267">For comprehensive information and tutorials on high availability and disaster recovery techniques, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a><span data-ttu-id="ff24e-268">Модель двух- и трехуровневых приложений, использующих виртуальные машины Azure и облачные службы</span><span class="sxs-lookup"><span data-stu-id="ff24e-268">2-tier and 3-tier using Azure VMs and Cloud Services</span></span>
<span data-ttu-id="ff24e-269">В этой модели приложения развертывание двухуровневого или трехуровневого приложения tooAzure с использованием [облачных служб Azure](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (рабочих и веб-роли — платформа как услуга (PaaS)) и [виртуальных машинах Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) () Инфраструктура как услуга (IaaS)).</span><span class="sxs-lookup"><span data-stu-id="ff24e-269">In this application pattern, you deploy 2-tier or 3-tier application tooAzure by using both [Azure Cloud Services](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (web and worker roles - Platform as a Service (PaaS)) and [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Infrastructure as a Service (IaaS)).</span></span> <span data-ttu-id="ff24e-270">С помощью [облачных служб Azure](https://azure.microsoft.com/documentation/services/cloud-services/) hello презентации уровня или бизнес-уровня и SQL Server в [виртуальных машинах Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) данных hello уровень является полезным для большинства приложений, работающих в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-270">Using [Azure Cloud Services](https://azure.microsoft.com/documentation/services/cloud-services/) for hello presentation tier/business tier and SQL Server in [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) for hello data tier is beneficial for most applications running on Azure.</span></span> <span data-ttu-id="ff24e-271">Причина Hello в том, что наличие вычислительной работающего в облачных службах предоставляет удобные возможности для управления, развертывания, наблюдения и масштабирования.</span><span class="sxs-lookup"><span data-stu-id="ff24e-271">hello reason is that having a compute instance running on Cloud Services provides an easy management, deployment, monitoring, and scale-out.</span></span>

<span data-ttu-id="ff24e-272">С облачными службами Azure поддерживает hello инфраструктуры для вас, выполняет плановое обслуживание, исправления hello операционные системы и пытается toorecover от сбоев служб и оборудования.</span><span class="sxs-lookup"><span data-stu-id="ff24e-272">With Cloud Services, Azure maintains hello infrastructure for you, performs routine maintenance, patches hello operating systems, and attempts toorecover from service and hardware failures.</span></span> <span data-ttu-id="ff24e-273">Когда приложению масштабирования автоматическое и ручное масштабирование доступны для проекта облачной службы, увеличивая или уменьшая количество hello экземпляров или виртуальных машин, которые используются в приложении.</span><span class="sxs-lookup"><span data-stu-id="ff24e-273">When your application needs scale-out, automatic, and manual scale-out options are available for your cloud service project by increasing or decreasing hello number of instances or virtual machines that are used by your application.</span></span> <span data-ttu-id="ff24e-274">Кроме того использовании локальных toodeploy Visual Studio проекта приложения tooa облачной службы в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-274">In addition, you can use on-premises Visual Studio toodeploy your application tooa cloud service project in Azure.</span></span>

<span data-ttu-id="ff24e-275">Таким образом Если вы не хотите tooown административные задачи для представления или бизнес-уровня hello и приложения не требуется сложная конфигурация программного обеспечения или hello операционной системы, используйте облачных служб Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-275">In summary, if you don’t want tooown extensive administrative tasks for hello presentation/business tier and your application does not require any complex configuration of software or hello operating system, use Azure Cloud Services.</span></span> <span data-ttu-id="ff24e-276">Если база данных SQL Azure не поддерживает все функции hello, которую вы ищете, используйте SQL Server в виртуальных машинах Azure для hello уровня данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-276">If Azure SQL Database does not support all hello features you are looking for, use SQL Server in an Azure Virtual Machine for hello data tier.</span></span> <span data-ttu-id="ff24e-277">Запуск приложения в облачных службах Azure и хранении данных в виртуальных машинах Azure объединяет hello преимущества обеих служб.</span><span class="sxs-lookup"><span data-stu-id="ff24e-277">Running an application on Azure Cloud Services and storing data in Azure Virtual Machines combines hello benefits of both services.</span></span> <span data-ttu-id="ff24e-278">Более подробное сравнение подразделе hello в этом разделе о [сравнение стратегии разработки в Azure](#comparing-web-development-strategies-in-azure).</span><span class="sxs-lookup"><span data-stu-id="ff24e-278">For a detailed comparison, see hello section in this topic on [Comparing development strategies in Azure](#comparing-web-development-strategies-in-azure).</span></span>

<span data-ttu-id="ff24e-279">В этой модели приложения hello уровень представления включает веб-роли, который работает в среде выполнения Azure hello компонентом облачных служб и настроена для программирования веб-приложений с поддержкой служб IIS и ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ff24e-279">In this application pattern, hello presentation tier includes a web role, which is a Cloud Services component running in hello Azure execution environment and it is customized for web application programming as supported by IIS and ASP.NET.</span></span> <span data-ttu-id="ff24e-280">Hello бизнеса или внутренний уровень включает рабочей роли, который работает в среде выполнения Azure hello компонентом облачных служб и его упрощающая обобщенную разработку и позволяющая выполнять фоновую обработку для веб-роли.</span><span class="sxs-lookup"><span data-stu-id="ff24e-280">hello business or backend tier includes a worker role, which is a Cloud Services component running in hello Azure execution environment and it is useful for generalized development, and may perform background processing for a web role.</span></span> <span data-ttu-id="ff24e-281">Hello уровня базы данных находится на виртуальной машине SQL Server в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-281">hello database tier resides in a SQL Server virtual machine in Azure.</span></span> <span data-ttu-id="ff24e-282">Hello взаимодействие между уровнем представления hello и hello уровня базы данных происходит напрямую или через hello бизнес-уровень — компоненты рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="ff24e-282">hello communication between hello presentation tier and hello database tier happens directly or over hello business tier – worker role components.</span></span>

<span data-ttu-id="ff24e-283">Эту модель приложения удобно использовать в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-283">This application pattern is useful when:</span></span>

* <span data-ttu-id="ff24e-284">Вы хотите toomove корпоративные приложения из tooAzure локальных виртуализированных платформ путем реализации возможностей SQL Server высокой доступности и аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="ff24e-284">You want toomove enterprise applications from virtualized platforms on-premises tooAzure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="ff24e-285">Вы хотите tooown среду инфраструктуры, которую можно масштабировать вверх и вниз по требованию.</span><span class="sxs-lookup"><span data-stu-id="ff24e-285">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="ff24e-286">База данных SQL Azure не поддерживает все функции hello, приложению или базе данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-286">Azure SQL Database does not support all hello features that your application or database needs.</span></span>
* <span data-ttu-id="ff24e-287">Вы хотите tooperform нагрузочное тестирование для различных уровней рабочей нагрузки, но на приветствия же время вы не хотите tooown и обслуживать много физических компьютеров все время hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-287">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="ff24e-288">Привет, следующая диаграмма демонстрирует локальный сценарий и его Облачное решение.</span><span class="sxs-lookup"><span data-stu-id="ff24e-288">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="ff24e-289">В этом сценарии установите уровень представления hello в веб-роли, бизнес-уровня hello в рабочих ролях, но уровень данных hello на виртуальных машинах в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-289">In this scenario, you place hello presentation tier in web roles, hello business tier in worker roles but hello data tier in virtual machines in Azure.</span></span> <span data-ttu-id="ff24e-290">Запуск нескольких копий уровня представления hello в разных веб-ролях обеспечивает tooload балансировать нагрузку по запросам между ними.</span><span class="sxs-lookup"><span data-stu-id="ff24e-290">Running multiple copies of hello presentation tier in different web roles ensures tooload balance requests across them.</span></span> <span data-ttu-id="ff24e-291">При совместном использовании облачных служб Azure с виртуальными машинами Azure рекомендуется также настроить [виртуальную сеть Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-291">When you combine Azure Cloud Services with Azure Virtual Machines, we recommend that you set up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) as well.</span></span> <span data-ttu-id="ff24e-292">С [виртуальной сети Azure](../../../virtual-network/virtual-networks-overview.md), у вас есть стабильная и постоянные частные IP-адреса в пределах hello же облачную службу в hello облака.</span><span class="sxs-lookup"><span data-stu-id="ff24e-292">With [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), you can have stable and persistent private IP addresses within hello same cloud service in hello cloud.</span></span> <span data-ttu-id="ff24e-293">После определения виртуальной сети для виртуальных машин и облачных служб, они могли начать взаимодействовать между собой посредством частных IP-адреса hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-293">Once you define a virtual network for your virtual machines and cloud services, they can start communicating among themselves over hello private IP address.</span></span> <span data-ttu-id="ff24e-294">Кроме того, если виртуальные машины и Azure веб-ролей в hello же [виртуальной сети Azure](../../../virtual-network/virtual-networks-overview.md) низкой задержкой и обеспечивается более безопасное подключение.</span><span class="sxs-lookup"><span data-stu-id="ff24e-294">In addition, having virtual machines and Azure web/worker roles in hello same [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) provides low latency and more secure connectivity.</span></span> <span data-ttu-id="ff24e-295">Дополнительные сведения см. в статье [Стоит ли сделать выбор в пользу облачных служб или чего-то другого?](../../../cloud-services/cloud-services-choose-me.md)</span><span class="sxs-lookup"><span data-stu-id="ff24e-295">For more information, see [What is a cloud service](../../../cloud-services/cloud-services-choose-me.md).</span></span>

<span data-ttu-id="ff24e-296">Как показано на схеме hello, подсистемы балансировки нагрузки Azure распределяет трафик по нескольким виртуальным машинам, а также определяет, какие веб-сервера или сервера приложений tooconnect для.</span><span class="sxs-lookup"><span data-stu-id="ff24e-296">As seen in hello diagram, Azure Load Balancer distributes traffic across multiple virtual machines and also determines which web server or application server tooconnect to.</span></span> <span data-ttu-id="ff24e-297">Наличие нескольких экземпляров hello в подсистему балансировки нагрузки приложения и веб-серверов обеспечивает высокий уровень доступности уровня представления hello и бизнес-уровня hello hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-297">Having multiple instances of hello web and application servers behind a load balancer ensures hello high availability of hello presentation tier and hello business tier.</span></span> <span data-ttu-id="ff24e-298">Дополнительные сведения см. в разделе [Рекомендации для моделей приложений, требующих HADR SQL](#best-practices-for-application-patterns-requiring-sql-hadr).</span><span class="sxs-lookup"><span data-stu-id="ff24e-298">For more information, see [Best practices for application patterns requiring SQL HADR](#best-practices-for-application-patterns-requiring-sql-hadr).</span></span>

![Модели приложений с использованием облачных служб](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

<span data-ttu-id="ff24e-300">Другой подход tooimplement эта модель приложения является toouse объединенной веб-роли, которая содержит уровень представления и компоненты бизнес-уровня, как показано в следующих hello схемы.</span><span class="sxs-lookup"><span data-stu-id="ff24e-300">Another approach tooimplement this application pattern is toouse a consolidated web role that contains both presentation tier and business tier components as shown in hello following diagram.</span></span> <span data-ttu-id="ff24e-301">Эта модель приложения подходит для приложений, которым требуется конструкция с отслеживанием состояния.</span><span class="sxs-lookup"><span data-stu-id="ff24e-301">This application pattern is useful for applications that require stateful design.</span></span> <span data-ttu-id="ff24e-302">Поскольку Azure предоставляет вычислительные узлы без состояния для рабочих и веб-ролей, рекомендуется реализовать логику состояние toostore сеанса, с помощью одного из следующих технологий hello: [Azure Caching](https://azure.microsoft.com/documentation/services/redis-cache/), [табличного хранилища Azure](../../../cosmos-db/table-storage-how-to-use-dotnet.md) или [база данных Azure SQL](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-302">Since Azure provides stateless compute nodes on web and worker roles, we recommend that you implement a logic toostore session state using one of hello following technologies: [Azure Caching](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) or [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span>

![Модели приложений с использованием облачных служб](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a><span data-ttu-id="ff24e-304">Модель с виртуальными машинами Azure, базой данных SQL Azure и службой приложений Azure (веб-приложениями Azure)</span><span class="sxs-lookup"><span data-stu-id="ff24e-304">Pattern with Azure VMs, Azure SQL Database, and Azure App Service (Web Apps)</span></span>
<span data-ttu-id="ff24e-305">Основная цель этой модели приложения Hello — tooshow вы как toocombine инфраструктуры Azure, что компоненты службы (IaaS), с компонентами Azure платформа как услуга (PaaS) в решении.</span><span class="sxs-lookup"><span data-stu-id="ff24e-305">hello primary goal of this application pattern is tooshow you how toocombine Azure infrastructure as a service (IaaS) components with Azure platform-as-a-service components (PaaS) in your solution.</span></span> <span data-ttu-id="ff24e-306">Эта модель предназначена для Базы данных SQL Azure, хранящей реляционные данные.</span><span class="sxs-lookup"><span data-stu-id="ff24e-306">This pattern is focused on Azure SQL Database for relational data storage.</span></span> <span data-ttu-id="ff24e-307">Не включает SQL Server на виртуальной машине Azure, которая является частью hello Azure инфраструктуры как услуги.</span><span class="sxs-lookup"><span data-stu-id="ff24e-307">It does not include SQL Server in an Azure virtual machine, which is part of hello Azure infrastructure as a service offering.</span></span>

<span data-ttu-id="ff24e-308">В этой модели приложения развертывание tooAzure приложения базы данных путем размещения hello презентации и hello бизнес-уровнями в одной виртуальной машины и доступ к базе данных, на серверах баз данных SQL Azure (база данных SQL).</span><span class="sxs-lookup"><span data-stu-id="ff24e-308">In this application pattern, you deploy a database application tooAzure by placing hello presentation and business tiers in hello same virtual machine and accessing a database in Azure SQL Database (SQL Database) servers.</span></span> <span data-ttu-id="ff24e-309">Уровень представления hello можно реализовать с помощью традиционных IIS веб-решений.</span><span class="sxs-lookup"><span data-stu-id="ff24e-309">You can implement hello presentation tier by using traditional IIS-based web solutions.</span></span> <span data-ttu-id="ff24e-310">Кроме того, вы можете объединить уровень представления и бизнес-уровень, используя [веб-приложения Azure](https://azure.microsoft.com/documentation/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="ff24e-310">Or, you can implement a combined presentation and business tier by using [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span></span>

<span data-ttu-id="ff24e-311">Эту модель приложения удобно использовать в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-311">This application pattern is useful when:</span></span>

* <span data-ttu-id="ff24e-312">Уже имеется существующий сервер базы данных SQL в Azure и хотите tootest приложение быстро.</span><span class="sxs-lookup"><span data-stu-id="ff24e-312">You already have an existing SQL Database server configured in Azure and you want tootest your application quickly.</span></span>
* <span data-ttu-id="ff24e-313">Вы хотите tootest hello возможности среды Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-313">You want tootest hello capabilities of Azure environment.</span></span>
* <span data-ttu-id="ff24e-314">Необходимо tooquickly подготовки разработки и тестовую среду на короткий период времени.</span><span class="sxs-lookup"><span data-stu-id="ff24e-314">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="ff24e-315">Компоненты бизнес-логики и доступа к данным могут быть автономными и размещаться в веб-приложении.</span><span class="sxs-lookup"><span data-stu-id="ff24e-315">Your business logic and data access components can be self-contained within a web application.</span></span>

<span data-ttu-id="ff24e-316">Привет, следующая диаграмма демонстрирует локальный сценарий и его Облачное решение.</span><span class="sxs-lookup"><span data-stu-id="ff24e-316">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="ff24e-317">В этом сценарии установите уровни приложения hello в одной виртуальной машины в Azure и просматривать данные в базе данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-317">In this scenario, you place hello application tiers in a single virtual machine in Azure and access data in Azure SQL Database.</span></span>

![Модель смешанного приложения](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

<span data-ttu-id="ff24e-319">При выборе tooimplement приложения и объединенные веб-уровня с помощью веб-приложения Azure, рекомендуется сохранять hello средний уровень или уровень приложения в виде библиотеки динамической компоновки (DLL) в контексте hello веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-319">If you choose tooimplement a combined web and application tier by using Azure Web Apps, we recommend that you keep hello middle-tier or application tier as dynamic-link libraries (DLLs) in hello context of a web application.</span></span>

<span data-ttu-id="ff24e-320">Кроме того, просмотрите hello рекомендации, приведенные в hello [сравнение веб-разработки стратегии в Azure](#comparing-web-development-strategies-in-azure) раздел в конце hello в этой статье toolearn Дополнительные сведения о методах программирования.</span><span class="sxs-lookup"><span data-stu-id="ff24e-320">In addition, review hello recommendations given in hello [Comparing web development strategies in Azure](#comparing-web-development-strategies-in-azure) section at hello end of this article toolearn more about programming techniques.</span></span>

## <a name="n-tier-hybrid-application-pattern"></a><span data-ttu-id="ff24e-321">Модель n-уровневого гибридного приложения</span><span class="sxs-lookup"><span data-stu-id="ff24e-321">N-tier hybrid application pattern</span></span>
<span data-ttu-id="ff24e-322">В модели n-уровневого гибридного приложения выполняется реализация приложения на нескольких уровнях, распределенных между локальной средой и Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-322">In n-tier hybrid application pattern, you implement your application in multiple tiers distributed between on-premises and Azure.</span></span> <span data-ttu-id="ff24e-323">Таким образом создается гибкая и многократно используемая Гибридная система, которой можно изменить или добавить другие уровни hello определенного уровня без изменения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-323">Therefore, you create a flexible and reusable hybrid system, which you can modify or add a specific tier without changing hello other tiers.</span></span> <span data-ttu-id="ff24e-324">облако tooextend toohello вашей корпоративной сети, использовать [виртуальной сети Azure](../../../virtual-network/virtual-networks-overview.md) службы.</span><span class="sxs-lookup"><span data-stu-id="ff24e-324">tooextend your corporate network toohello cloud, you use [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) service.</span></span>

<span data-ttu-id="ff24e-325">Эту модель гибридных приложений удобно использовать в указанных ниже случаях.</span><span class="sxs-lookup"><span data-stu-id="ff24e-325">This hybrid application pattern is useful when:</span></span>

* <span data-ttu-id="ff24e-326">Вы хотите toobuild приложений, которые работают частично в облаке hello и частично в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="ff24e-326">You want toobuild applications that run partly in hello cloud and partly on-premises.</span></span>
* <span data-ttu-id="ff24e-327">Вы хотите toomigrate некоторых или всех элементов существующих локальных облака toohello приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-327">You want toomigrate some or all elements of an existing on-premises application toohello cloud.</span></span>
* <span data-ttu-id="ff24e-328">Вы хотите toomove корпоративные приложения из локальных виртуализированных платформ tooAzure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-328">You want toomove enterprise applications from on-premises virtualized platforms tooAzure.</span></span>
* <span data-ttu-id="ff24e-329">Вы хотите tooown среду инфраструктуры, которую можно масштабировать вверх и вниз по требованию.</span><span class="sxs-lookup"><span data-stu-id="ff24e-329">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="ff24e-330">Необходимо tooquickly подготовки разработки и тестовую среду на короткий период времени.</span><span class="sxs-lookup"><span data-stu-id="ff24e-330">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="ff24e-331">Требуется более резервную tootake и экономичный способ для корпоративных приложений базы данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-331">You want a cost effective way tootake backups for enterprise database applications.</span></span>

<span data-ttu-id="ff24e-332">Привет, следующая диаграмма демонстрирует модели многоуровневого гибридного приложения, разделенного между локальной и Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-332">hello following diagram demonstrates an n-tier hybrid application pattern that spans across on-premises and Azure.</span></span> <span data-ttu-id="ff24e-333">Как показано на схеме hello локальной инфраструктура включает [доменных служб Active Directory](https://technet.microsoft.com/library/hh831484.aspx) проверки подлинности пользователя toosupport контроллера домена.</span><span class="sxs-lookup"><span data-stu-id="ff24e-333">As shown in hello diagram, on-premises infrastructure includes [Active Directory Domain Services](https://technet.microsoft.com/library/hh831484.aspx) domain controller toosupport user authentication and authorization.</span></span> <span data-ttu-id="ff24e-334">Обратите внимание, что hello схеме показан сценарий, некоторые компоненты уровня данных hello проживания в центре обработки данных в локальной среде, тогда как некоторые компоненты уровня данных hello live в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-334">Note that hello diagram demonstrates a scenario, where some parts of hello data tier live in an on-premises data center whereas some parts of hello data tier live in Azure.</span></span> <span data-ttu-id="ff24e-335">В зависимости от потребностей вашего приложения можно реализовать несколько других гибридных сценариев.</span><span class="sxs-lookup"><span data-stu-id="ff24e-335">Depending on your application’s needs, you can implement several other hybrid scenarios.</span></span> <span data-ttu-id="ff24e-336">Например можно сохранять уровень представления hello и бизнес-уровня hello в локальной среде, но hello уровня данных в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-336">For example, you might keep hello presentation tier and hello business tier in an on-premises environment but hello data tier in Azure.</span></span>

![Модель n-уровневого приложения](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

<span data-ttu-id="ff24e-338">В Azure можно использовать Active Directory как изолированный облачный каталог для вашей организации. Кроме того, можно интегрировать существующий локальный каталог Active Directory с [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="ff24e-338">In Azure, you can use Active Directory as a standalone cloud directory for your organization, or you can also integrate existing on-premises Active Directory with [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span></span> <span data-ttu-id="ff24e-339">Как показано на схеме hello, компоненты бизнес-уровня hello можно получить доступ к toomultiple источники данных, такие как слишком[SQL Server в Azure](virtual-machines-windows-sql-server-iaas-overview.md) через закрытый внутренний IP-адрес, tooon локальный SQL Server через [виртуальнойсетиAzure](../../../virtual-network/virtual-networks-overview.md), или слишком[базы данных SQL](../../../sql-database/sql-database-technical-overview.md) с помощью технологий поставщика данных .NET Framework hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-339">As seen in hello diagram, hello business tier components can access toomultiple data sources, such as too[SQL Server in Azure](virtual-machines-windows-sql-server-iaas-overview.md) via a private internal IP address, tooon-premises SQL Server via [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), or too[SQL Database](../../../sql-database/sql-database-technical-overview.md) using hello .NET Framework data provider technologies.</span></span> <span data-ttu-id="ff24e-340">На этой схеме База данных SQL Azure представляет собой дополнительную службу хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-340">In this diagram, Azure SQL Database is an optional data storage service.</span></span>

<span data-ttu-id="ff24e-341">В модели многоуровневого гибридного приложения можно реализовать следующий рабочий процесс в указанном порядке hello hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-341">In n-tier hybrid application pattern, you can implement hello following workflow in hello order specified:</span></span>

1. <span data-ttu-id="ff24e-342">Определите корпоративные приложения базы данных, которым требуется переместить вверх toocloud с помощью hello toobe [Microsoft Assessment and Planning Toolkit (MAP)](http://microsoft.com/map).</span><span class="sxs-lookup"><span data-stu-id="ff24e-342">Identify enterprise database applications that need toobe moved up toocloud by using hello [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span></span> <span data-ttu-id="ff24e-343">Hello набор средств MAP собирает данные инвентаризации и производительности с компьютеров, вы принимаете решение для виртуализации и предоставляет рекомендации по емкости и планированию.</span><span class="sxs-lookup"><span data-stu-id="ff24e-343">hello MAP Toolkit gathers inventory and performance data from computers you are considering for virtualization and provides recommendations on capacity and assessment planning.</span></span>
2. <span data-ttu-id="ff24e-344">Планирование ресурсов hello и настройки, необходимые в hello платформы Azure, такие как учетные записи хранилища и виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="ff24e-344">Plan hello resources and configuration needed in hello Azure platform, such as storage accounts and virtual machines.</span></span>
3. <span data-ttu-id="ff24e-345">Настройте сетевое соединение между hello корпоративной локальной сетью и [виртуальной сети Azure](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-345">Set up network connectivity between hello corporate network on-premises and [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="ff24e-346">tooset hello подключение между hello корпоративной локальной сетью и виртуальной машины в Azure, используйте один из следующих двух методов hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-346">tooset up hello connection between hello corporate network on-premises and a virtual machine in Azure, use one of hello following two methods:</span></span>
   
   1. <span data-ttu-id="ff24e-347">Установите соединение между локальной сетью и Azure посредством общедоступных конечных точек на виртуальной машине в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-347">Establish a connection between on-premises and Azure via public end points on a virtual machine in Azure.</span></span> <span data-ttu-id="ff24e-348">Этот метод обеспечивает простую настройку и позволяет toouse проверку подлинности SQL Server на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="ff24e-348">This method provides an easy setup and enables you toouse SQL Server authentication in your virtual machine.</span></span> <span data-ttu-id="ff24e-349">Кроме того настройте вашей сетевой безопасности группы правил toocontrol общего трафика toohello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="ff24e-349">In addition, set up your network security group rules toocontrol public traffic toohello VM.</span></span> <span data-ttu-id="ff24e-350">Дополнительные сведения см. в разделе [разрешить внешний доступ tooyour виртуальной Машины с помощью портала Azure "hello"](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ff24e-350">For more information, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>
   2. <span data-ttu-id="ff24e-351">Установите соединение между локальной сетью и Azure с помощью туннеля виртуальной частной сети (VPN).</span><span class="sxs-lookup"><span data-stu-id="ff24e-351">Establish a connection between on-premises and Azure via Azure Virtual Private network (VPN) tunnel.</span></span> <span data-ttu-id="ff24e-352">Этот метод позволяет tooextend домена политики tooa виртуальной машины в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-352">This method allows you tooextend domain policies tooa virtual machine in Azure.</span></span> <span data-ttu-id="ff24e-353">Кроме того, можно настроить правила брандмауэра и использовать проверку подлинности Windows на виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="ff24e-353">In addition, you can set up firewall rules and use Windows authentication in your virtual machine.</span></span> <span data-ttu-id="ff24e-354">Сейчас Azure поддерживает безопасные подключения VPN типа "сеть-сеть" и VPN типа "точка-сеть".</span><span class="sxs-lookup"><span data-stu-id="ff24e-354">Currently, Azure supports secure site-to-site VPN and point-to-site VPN connections:</span></span>
      
      * <span data-ttu-id="ff24e-355">С помощью защищенного подключения типа "сеть-сеть" можно установить сетевое соединение между локальной сетью и виртуальной сетью в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-355">With secure site-to-site connection, you can establish network connectivity between your on-premises network and your virtual network in Azure.</span></span> <span data-ttu-id="ff24e-356">Рекомендуется для подключения вашей tooAzure среды центра данных в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="ff24e-356">It is recommended for connecting your on-premises data center environment tooAzure.</span></span>
      * <span data-ttu-id="ff24e-357">С помощью защищенного подключения типа "точка-сеть" можно установить сетевое соединение между виртуальной сетью в Azure и отдельными компьютерами, работающими в любом месте.</span><span class="sxs-lookup"><span data-stu-id="ff24e-357">With secure point-to-site connection, you can establish network connectivity between your virtual network in Azure and your individual computers running anywhere.</span></span> <span data-ttu-id="ff24e-358">Такой вариант рекомендуется, главным образом, для целей разработки и тестирования.</span><span class="sxs-lookup"><span data-stu-id="ff24e-358">It is mostly recommended for development and test purposes.</span></span>
      
      <span data-ttu-id="ff24e-359">Сведения о том, как tooconnect tooSQL Server в Azure, в разделе [подключения tooa виртуальной машины SQL Server в Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-359">For information on how tooconnect tooSQL Server in Azure, see [Connect tooa SQL Server Virtual Machine on Azure](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="ff24e-360">Настройте запланированные задания и предупреждения, которые создают резервные копии локальных данных на диске виртуальной машины в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-360">Set up scheduled jobs and alerts that back up on-premises data in a virtual machine disk in Azure.</span></span> <span data-ttu-id="ff24e-361">Дополнительные сведения см. в статьях [Резервное копирование и восстановление SQL Server с помощью службы хранилища BLOB-объектов Microsoft Azure](https://msdn.microsoft.com/library/jj919148.aspx) и [Резервное копирование и восстановление SQL Server в виртуальных машинах Azure](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-361">For more information, see [SQL Server Backup and Restore with Azure Blob Storage Service](https://msdn.microsoft.com/library/jj919148.aspx) and [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span>
5. <span data-ttu-id="ff24e-362">В зависимости от потребностей вашего приложения может реализовать один из hello следующие три типичных сценария:</span><span class="sxs-lookup"><span data-stu-id="ff24e-362">Depending on your application’s needs, you can implement one of hello following three common scenarios:</span></span>
   
   1. <span data-ttu-id="ff24e-363">Ваш веб-сервера, сервера приложений и неконфиденциальные данные можно сохранить в сервер базы данных в Azure, тогда как хранить hello конфиденциальные данные в локальной.</span><span class="sxs-lookup"><span data-stu-id="ff24e-363">You can keep your web server, application server, and insensitive data in a database server in Azure whereas you keep hello sensitive data on-premises.</span></span>
   2. <span data-ttu-id="ff24e-364">Можно хранить веб-сервер и сервер приложений локально, а hello сервера базы данных на виртуальной машине в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-364">You can keep your web server and application server on-premises whereas hello database server in a virtual machine in Azure.</span></span>
   3. <span data-ttu-id="ff24e-365">Можно хранить сервер базы данных, веб-сервер и сервер приложений локально, а сохранить hello реплик базы данных на виртуальных машинах в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-365">You can keep your database server, web server, and application server on-premises whereas you keep hello database replicas in virtual machines in Azure.</span></span> <span data-ttu-id="ff24e-366">Этот параметр позволяет hello локального веб-серверы или отчетов tooaccess приложения hello реплик базы данных в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-366">This setting allows hello on-premises web servers or reporting applications tooaccess hello database replicas in Azure.</span></span> <span data-ttu-id="ff24e-367">Таким образом можно добиться рабочей нагрузки hello toolower в локальной базе данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-367">Therefore, you can achieve toolower hello workload in an on-premises database.</span></span> <span data-ttu-id="ff24e-368">Мы рекомендуем использовать этот сценарий для серьезных рабочих нагрузок и целей разработки.</span><span class="sxs-lookup"><span data-stu-id="ff24e-368">We recommend that you implement this scenario for heavy read workloads and developmental purposes.</span></span> <span data-ttu-id="ff24e-369">Дополнительные сведения о создании реплик баз данных в Azure см. в описании групп доступности AlwaysOn в статье [Высокий уровень доступности и аварийное восстановление для SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-369">For information on creating database replicas in Azure, see AlwaysOn Availability Groups at [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="comparing-web-development-strategies-in-azure"></a><span data-ttu-id="ff24e-370">Сравнение стратегий веб-разработки в Azure</span><span class="sxs-lookup"><span data-stu-id="ff24e-370">Comparing web development strategies in Azure</span></span>
<span data-ttu-id="ff24e-371">tooimplement и развертывать многоуровневые приложения на основе SQL Server в Azure, можно использовать один из следующих двух программных способов hello:</span><span class="sxs-lookup"><span data-stu-id="ff24e-371">tooimplement and deploy a multi-tier SQL Server-based application in Azure, you can use one of hello following two programming methods:</span></span>

* <span data-ttu-id="ff24e-372">Настройте традиционный веб-сервер (IIS) в Azure и доступ к базам данных в SQL Server на виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-372">Set up a traditional web server (IIS - Internet Information Services) in Azure and access databases in SQL Server in Azure Virtual Machines.</span></span>
* <span data-ttu-id="ff24e-373">Реализуйте и разверните tooAzure облачной службы.</span><span class="sxs-lookup"><span data-stu-id="ff24e-373">Implement and deploy a cloud service tooAzure.</span></span> <span data-ttu-id="ff24e-374">Затем убедитесь, что эта облачная служба имеет доступ к базам данных в SQL Server на виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-374">Then, make sure that this cloud service can access databases in SQL Server in Azure Virtual machines.</span></span> <span data-ttu-id="ff24e-375">Облачная служба может включать несколько веб- и рабочих ролей.</span><span class="sxs-lookup"><span data-stu-id="ff24e-375">A cloud service can include multiple web and worker roles.</span></span>

<span data-ttu-id="ff24e-376">Привет, в следующей таблице представлено сравнение традиционной веб-разработки с облачными службами и веб-приложениях Azure с учетом tooSQL Server в виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-376">hello following table provides a comparison of traditional web development with Azure Cloud Services and Azure Web Apps with respect tooSQL Server in Azure Virtual Machines.</span></span> <span data-ttu-id="ff24e-377">Таблица Hello включает веб-приложения Azure, как возможные toouse SQL Server в виртуальной Машине Azure и как источник данных для веб-приложения Azure через его общедоступный виртуальный IP-адрес или DNS-имя.</span><span class="sxs-lookup"><span data-stu-id="ff24e-377">hello table includes Azure Web Apps as it is possible toouse SQL Server in Azure VM as a data source for Azure Web Apps via its public virtual IP address or DNS name.</span></span>

|  | <span data-ttu-id="ff24e-378">Традиционная веб-разработка в виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="ff24e-378">Traditional web development in Azure Virtual Machines</span></span> | <span data-ttu-id="ff24e-379">Облачные службы в Azure</span><span class="sxs-lookup"><span data-stu-id="ff24e-379">Cloud Services in Azure</span></span> | <span data-ttu-id="ff24e-380">Веб-размещение с помощью веб-приложений Azure</span><span class="sxs-lookup"><span data-stu-id="ff24e-380">Web Hosting with Azure Web Apps</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="ff24e-381">**Миграция приложений из локальных систем**</span><span class="sxs-lookup"><span data-stu-id="ff24e-381">**Application Migration from on-premises**</span></span> |<span data-ttu-id="ff24e-382">Существующие приложения как есть.</span><span class="sxs-lookup"><span data-stu-id="ff24e-382">Existing applications as-is.</span></span> |<span data-ttu-id="ff24e-383">Приложениям необходимы веб-роли и рабочие роли.</span><span class="sxs-lookup"><span data-stu-id="ff24e-383">Applications need web and worker roles.</span></span> |<span data-ttu-id="ff24e-384">Вариант "Существующие приложения как есть" подходит для независимых веб-приложений и веб-служб, которым требуется быстрая масштабируемость.</span><span class="sxs-lookup"><span data-stu-id="ff24e-384">Existing applications as-is but suited for self-contained web applications and web services that require quick scalability.</span></span> |
| <span data-ttu-id="ff24e-385">**Разработка и развертывание**</span><span class="sxs-lookup"><span data-stu-id="ff24e-385">**Development and Deployment**</span></span> |<span data-ttu-id="ff24e-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, диспетчер IIS, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ff24e-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, IIS Manager, PowerShell.</span></span> |<span data-ttu-id="ff24e-387">Visual Studio Azure SDK, TFS, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ff24e-387">Visual Studio, Azure SDK, TFS, PowerShell.</span></span> <span data-ttu-id="ff24e-388">Каждая облачная служба имеет два toowhich средах можно развернуть пакет службы и конфигурации: промежуточной и производственной сред.</span><span class="sxs-lookup"><span data-stu-id="ff24e-388">Each cloud service has two environments toowhich you can deploy your service package and configuration: staging and production.</span></span> <span data-ttu-id="ff24e-389">Можно развернуть toohello облачной службы, промежуточной среды tootest его перед продвижением tooproduction.</span><span class="sxs-lookup"><span data-stu-id="ff24e-389">You can deploy a cloud service toohello staging environment tootest it before you promote it tooproduction.</span></span> |<span data-ttu-id="ff24e-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, веб-развертывание, PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ff24e-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Web Deploy, PowerShell.</span></span> |
| <span data-ttu-id="ff24e-391">**Администрирование и настройка**</span><span class="sxs-lookup"><span data-stu-id="ff24e-391">**Administration and Setup**</span></span> |<span data-ttu-id="ff24e-392">Вы несете ответственность за выполнение административных задач на приложения hello, данные, правила брандмауэра, виртуальной сети и операционной системы.</span><span class="sxs-lookup"><span data-stu-id="ff24e-392">You are responsible for administrative tasks on hello application, data, firewall rules, virtual network, and operating system.</span></span> |<span data-ttu-id="ff24e-393">Вы несете ответственность за выполнение административных задач на приложения hello, данные, правила брандмауэра и виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="ff24e-393">You are responsible for administrative tasks on hello application, data, firewall rules, and virtual network.</span></span> |<span data-ttu-id="ff24e-394">Вы несете ответственность за выполнение административных задач в приложение hello и только данные.</span><span class="sxs-lookup"><span data-stu-id="ff24e-394">You are responsible for administrative tasks on hello application and data only.</span></span> |
| <span data-ttu-id="ff24e-395">**Высокая доступность и аварийное восстановление**</span><span class="sxs-lookup"><span data-stu-id="ff24e-395">**High Availability and Disaster Recovery (HADR)**</span></span> |<span data-ttu-id="ff24e-396">Рекомендуется размещать виртуальные машины в hello же доступности задать и в hello же облачной службе.</span><span class="sxs-lookup"><span data-stu-id="ff24e-396">We recommend that you place virtual machines in hello same availability set and in hello same cloud service.</span></span> <span data-ttu-id="ff24e-397">Сохранение виртуальных машин hello же группе доступности позволяет Azure tooplace hello узлы высокой доступности в отдельные домены сбоя и доменах обновления.</span><span class="sxs-lookup"><span data-stu-id="ff24e-397">Keeping your VMs in hello same availability set allows Azure tooplace hello high availability nodes into separate fault domains and upgrade domains.</span></span> <span data-ttu-id="ff24e-398">Аналогично Сохранение виртуальных машин в hello позволяет одной облачной службе балансировки нагрузки и виртуальные машины могут взаимодействовать напрямую друг с другом по локальной сети hello в центре обработки данных Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-398">Similarly, keeping your VMs in hello same cloud service enables load balancing and VMs can communicate directly with one another over hello local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="ff24e-399">Вы отвечаете за реализации решения высокого уровня доступности и аварийного восстановления для SQL Server в виртуальных машинах Azure tooavoid простоев.</span><span class="sxs-lookup"><span data-stu-id="ff24e-399">You are responsible for implementing a high availability and disaster recovery solution for SQL Server in Azure Virtual Machines tooavoid any downtime.</span></span> <span data-ttu-id="ff24e-400">Сведения о поддерживаемых технологиях HADR см. в статье [Высокий уровень доступности и аварийное восстановление для SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-400">For supported HADR technologies, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span><br/><br/><span data-ttu-id="ff24e-401">Вы отвечаете за архивацию своих данных и приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-401">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="ff24e-402">Azure можно перемещать виртуальные машины, если hello хост-компьютера в центре обработки данных hello завершается сбоем из-за проблем с toohardware.</span><span class="sxs-lookup"><span data-stu-id="ff24e-402">Azure can move your virtual machines if hello host machine in hello data center fails due toohardware issues.</span></span> <span data-ttu-id="ff24e-403">Кроме того, существует может быть запланирован простой вашей виртуальной машины при обновлении hello хост-компьютера для программного обеспечения безопасности и обновления.</span><span class="sxs-lookup"><span data-stu-id="ff24e-403">In addition, there could be planned downtime of your VM when hello host machine is updated for security or software updates.</span></span> <span data-ttu-id="ff24e-404">Таким образом рекомендуется поддерживать по крайней мере две виртуальные машины, в каждый уровень tooensure hello непрерывной доступности приложений.</span><span class="sxs-lookup"><span data-stu-id="ff24e-404">Therefore, we recommend that you maintain at least two VMs in each application tier tooensure hello continuous availability.</span></span> <span data-ttu-id="ff24e-405">Azure не обеспечивает выполнение соглашений об уровне обслуживания при использовании одной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="ff24e-405">Azure does not provide SLA for a single virtual machine.</span></span> <span data-ttu-id="ff24e-406">Дополнительные сведения см. в [техническом руководстве по обеспечению устойчивости в Azure](../../../resiliency/resiliency-technical-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-406">For more information, see [Azure resiliency technical guidance](../../../resiliency/resiliency-technical-guidance.md).</span></span> |<span data-ttu-id="ff24e-407">Azure управляет hello сбои, возникающие в результате hello базового оборудования или операционной системы программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-407">Azure manages hello failures resulting from hello underlying hardware or operating system software.</span></span> <span data-ttu-id="ff24e-408">Рекомендуется реализовать несколько экземпляров веб- или рабочей роли tooensure hello высокой доступности приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-408">We recommend that you implement multiple instances of a web or worker role tooensure hello high availability of your application.</span></span> <span data-ttu-id="ff24e-409">Дополнительные сведения см. в статьях [Соглашение об уровне обслуживания для облачных служб, виртуальных машин и виртуальной сети](http://www.microsoft.com/download/details.aspx?id=38427) и [Аварийное восстановление и высокая доступность для приложений на платформе Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span><span class="sxs-lookup"><span data-stu-id="ff24e-409">For information, see [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and [Disaster recovery and high availability for Azure applications](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span></span><br/><br/><span data-ttu-id="ff24e-410">Вы отвечаете за архивацию своих данных и приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-410">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="ff24e-411">Для баз данных, находящихся в базе данных SQL Server на виртуальной Машине Azure вы отвечаете за реализации высокого уровня доступности и аварийного восстановления решения tooavoid простоев.</span><span class="sxs-lookup"><span data-stu-id="ff24e-411">For databases residing in a SQL Server database in an Azure VM, you are responsible for implementing a high availability and disaster recovery solution tooavoid any downtime.</span></span> <span data-ttu-id="ff24e-412">Сведения о поддерживаемых технологиях HADR см. в статье "Высокий уровень доступности и аварийное восстановление для SQL Server на виртуальных машинах Azure".</span><span class="sxs-lookup"><span data-stu-id="ff24e-412">For supported HDAR technologies, see High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines.</span></span><br/><br/><span data-ttu-id="ff24e-413">**Зеркальное отображение базы данных SQL Server**: используйте с облачными службами Azure (веб-роли и рабочие роли).</span><span class="sxs-lookup"><span data-stu-id="ff24e-413">**SQL Server Database Mirroring**: Use with Azure Cloud Services (web/worker roles).</span></span> <span data-ttu-id="ff24e-414">Виртуальные машины SQL Server и проект облачной службы может быть в hello одной виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-414">SQL Server VMs and a cloud service project can be in hello same Azure Virtual Network.</span></span> <span data-ttu-id="ff24e-415">Если виртуальная машина SQL Server не находится в hello одной виртуальной сети, вы должны toocreate псевдонима SQL Server связи tooroute toohello экземпляра SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ff24e-415">If SQL Server VM is not in hello same Virtual Network, you need toocreate a SQL Server Alias tooroute communication toohello instance of SQL Server.</span></span> <span data-ttu-id="ff24e-416">Кроме того имя псевдонима hello должно соответствовать имени сервера SQL hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-416">In addition, hello alias name must match hello SQL Server name.</span></span> |<span data-ttu-id="ff24e-417">Высокий уровень доступности наследуется от рабочих ролей Azure, хранилища BLOB-объектов Azure и базы данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-417">High Availability is inherited from Azure worker roles, Azure blob storage, and Azure SQL Database.</span></span> <span data-ttu-id="ff24e-418">Например, служба хранилища Azure поддерживает три реплики для всех данных больших двоичных объектов, таблиц и очереди.</span><span class="sxs-lookup"><span data-stu-id="ff24e-418">For example, Azure Storage maintains three replicas of all blob, table, and queue data.</span></span> <span data-ttu-id="ff24e-419">В любой момент времени База данных SQL Azure хранит три реплики рабочих данных: одну основную и две дополнительных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-419">At any one time, Azure SQL Database keeps three replicas of data running—one primary replica and two secondary replicas.</span></span> <span data-ttu-id="ff24e-420">Дополнительные сведения см. в статьях [Документация по хранилищу](https://azure.microsoft.com/documentation/services/storage/) и [Что такое база данных SQL? Введение в базы данных SQL](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-420">For more information, see [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) and [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span><br/><br/><span data-ttu-id="ff24e-421">При использовании SQL Server на виртуальной машине Azure в качестве источника данных для веб-приложений Azure следует иметь в виду, что веб-приложения Azure не поддерживают виртуальную сеть Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-421">When using SQL Server in Azure VM as a data source for Azure Web Apps, keep in mind that Azure Web Apps does not support Azure Virtual Network.</span></span> <span data-ttu-id="ff24e-422">Другими словами все подключения от tooSQL веб-приложениях Azure VM Server в Azure должны проходить через общедоступные конечные точки виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="ff24e-422">In other words, all connections from Azure Web Apps tooSQL Server VMs in Azure must go through public end points of virtual machines.</span></span> <span data-ttu-id="ff24e-423">Это может привести к некоторым ограничениям для сценариев обеспечения высокого уровня доступности и аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="ff24e-423">This might cause some limitations for high availability and disaster recovery scenarios.</span></span> <span data-ttu-id="ff24e-424">Например hello клиентского приложения на веб-приложениях Azure подключение tooSQL виртуальной Машины сервера с зеркальным отображением базы данных не будет возможности tooconnect toohello нового основного сервера зеркальное отображение базы данных требуется настроить виртуальную сеть Azure между VM SQL Server в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-424">For example, hello client application on Azure Web Apps connecting tooSQL Server VM with database mirroring would not be able tooconnect toohello new primary server as database mirroring requires that you set up Azure Virtual Network between SQL Server host VMs in Azure.</span></span> <span data-ttu-id="ff24e-425">Таким образом, использование **зеркального отображения базы данных SQL Server** совместно с веб-приложениями Azure не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ff24e-425">Therefore, using **SQL Server Database Mirroring** with Azure Web Apps is not supported currently.</span></span><br/><br/><span data-ttu-id="ff24e-426">**Группы доступности AlwaysOn SQL Server**: вы можете настроить группы доступности AlwaysOn при использовании веб-приложений Azure совместно с виртуальными машинами SQL Server в Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-426">**SQL Server AlwaysOn Availability Groups**: You can set up AlwaysOn Availability Groups when using Azure Web Apps with SQL Server VMs in Azure.</span></span> <span data-ttu-id="ff24e-427">Но tooconfigure прослушивателя группы доступности AlwaysOn tooroute hello связи toohello основной реплике через общедоступные конечные точки балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="ff24e-427">But you need tooconfigure AlwaysOn Availability Group Listener tooroute hello communication toohello primary replica via public load-balanced endpoints.</span></span> |
| <span data-ttu-id="ff24e-428">**Возможности распределенного подключения**</span><span class="sxs-lookup"><span data-stu-id="ff24e-428">**cross-premises Connectivity**</span></span> |<span data-ttu-id="ff24e-429">Можно использовать tooon локальный tooconnect виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-429">You can use Azure Virtual Network tooconnect tooon-premises.</span></span> |<span data-ttu-id="ff24e-430">Можно использовать tooon локальный tooconnect виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-430">You can use Azure Virtual Network tooconnect tooon-premises.</span></span> |<span data-ttu-id="ff24e-431">Виртуальная сеть Azure поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ff24e-431">Azure Virtual Network is supported.</span></span> <span data-ttu-id="ff24e-432">Дополнительные сведения см. в публикации блога [Web Apps Virtual Network Integration](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/) (Интеграция виртуальной сети веб-приложений).</span><span class="sxs-lookup"><span data-stu-id="ff24e-432">For more information, see [Web Apps Virtual Network Integration](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span></span> |
| <span data-ttu-id="ff24e-433">**Масштабируемость**</span><span class="sxs-lookup"><span data-stu-id="ff24e-433">**Scalability**</span></span> |<span data-ttu-id="ff24e-434">Вертикальное масштабирование доступен путем увеличения размеров виртуальных машин hello или добавления дополнительных дисков.</span><span class="sxs-lookup"><span data-stu-id="ff24e-434">Scale-up is available by increasing hello virtual machine sizes or adding more disks.</span></span> <span data-ttu-id="ff24e-435">Дополнительные сведения о размерах виртуальных машин см. в разделе [Размеры виртуальных машин в Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ff24e-435">For more information about virtual machine sizes, see [Virtual Machine Sizes for Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span><br/><br/><span data-ttu-id="ff24e-436">**Для сервера базы данных**: горизонтальное масштабирование можно выполнить с помощью методов секционирования базы данных и групп доступности AlwaysOn в SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ff24e-436">**For Database Server**: Scale-out is available via database partitioning techniques and SQL Server AlwaysOn Availability groups.</span></span><br/><br/><span data-ttu-id="ff24e-437">Для серьезных рабочих нагрузок чтения можно использовать [группы доступности AlwaysOn](https://msdn.microsoft.com/library/hh510230.aspx) на нескольких дополнительных узлах, а также репликацию SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ff24e-437">For heavy read workloads, you can use [AlwaysOn Availability Groups](https://msdn.microsoft.com/library/hh510230.aspx) on multiple secondary nodes as well as SQL Server Replication.</span></span><br/><br/><span data-ttu-id="ff24e-438">Для рабочих нагрузок с интенсивной записи можно реализовать горизонтальное секционирование данных на нескольких физических серверов tooprovide приложения масштабирования.</span><span class="sxs-lookup"><span data-stu-id="ff24e-438">For heavy write workloads, you can implement horizontal partitioning data across multiple physical servers tooprovide application scale-out.</span></span><br/><br/><span data-ttu-id="ff24e-439">Кроме того, можно реализовать горизонтальное масштабирование, используя [SQL Server с маршрутизацией, зависящей от данных](https://technet.microsoft.com/library/cc966448.aspx).</span><span class="sxs-lookup"><span data-stu-id="ff24e-439">In addition, you can implement a scale-out by using [SQL Server with Data Dependent Routing](https://technet.microsoft.com/library/cc966448.aspx).</span></span> <span data-ttu-id="ff24e-440">С помощью данных зависимых маршрутизацией (DDR), необходим механизм hello клиентского приложения, обычно в слое бизнес-уровня hello секционирования hello tooimplement, базы данных tooroute hello запросы toomultiple узлов SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ff24e-440">With Data Dependent Routing (DDR), you need tooimplement hello partitioning mechanism in hello client application, typically in hello business tier layer, tooroute hello database requests toomultiple SQL Server nodes.</span></span> <span data-ttu-id="ff24e-441">Hello бизнес-уровень содержит сопоставления toohow hello данные секционированы и какой узел содержит данные hello.</span><span class="sxs-lookup"><span data-stu-id="ff24e-441">hello business tier contains mappings toohow hello data is partitioned and which node contains hello data.</span></span><br/><br/><span data-ttu-id="ff24e-442">Вы можете масштабировать приложения, запускающие виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="ff24e-442">You can scale applications that are running virtual machines.</span></span> <span data-ttu-id="ff24e-443">Дополнительные сведения см. в разделе [как tooScale приложения](../../../cloud-services/cloud-services-how-to-scale.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-443">For more information, see [How tooScale an Application](../../../cloud-services/cloud-services-how-to-scale.md).</span></span><br/><br/><span data-ttu-id="ff24e-444">**Важное примечание**: hello **автомасштабирования** компонента в Azure позволяет tooautomatically увеличение или уменьшение hello виртуальные машины, используемые вашим приложением.</span><span class="sxs-lookup"><span data-stu-id="ff24e-444">**Important Note**: hello **AutoScale** feature in Azure allows you tooautomatically increase or decrease hello Virtual Machines that are used by your application.</span></span> <span data-ttu-id="ff24e-445">Эта функция гарантирует, что взаимодействие с конечным пользователем hello влияния не оказывается отрицательно периоды пиковой нагрузки, и виртуальные машины, завершают работу, если hello потребность низкая.</span><span class="sxs-lookup"><span data-stu-id="ff24e-445">This feature guarantees that hello end-user experience is not affected negatively during peak periods, and VMs are shut down when hello demand is low.</span></span> <span data-ttu-id="ff24e-446">Рекомендуется не установить hello автомасштабирования параметр для облачной службы содержит виртуальные машины SQL Server.</span><span class="sxs-lookup"><span data-stu-id="ff24e-446">It’s recommended that you do not set hello AutoScale option for your cloud service if it includes SQL Server VMs.</span></span> <span data-ttu-id="ff24e-447">Hello причина-выполнение этой функции hello автоматического масштабирования позволяет Azure tooturn на виртуальной машине при hello ЦП на этой ВМ превышает некоторое пороговое значение и tooturn виртуальной машины при hello ЦП становится ниже этого значения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-447">hello reason is that hello AutoScale feature lets Azure tooturn on a virtual machine when hello CPU usage in that VM is higher than some threshold, and tooturn off a virtual machine when hello CPU usage goes lower than it.</span></span> <span data-ttu-id="ff24e-448">функция автоматического масштабирования Hello подходит для приложений без отслеживания состояния, например веб-серверы, где все виртуальные Машины можно управлять рабочей нагрузкой hello без ссылки tooany предыдущее состояние.</span><span class="sxs-lookup"><span data-stu-id="ff24e-448">hello AutoScale feature is useful for stateless applications, such as web servers, where any VM can manage hello workload without any references tooany previous state.</span></span> <span data-ttu-id="ff24e-449">Однако функция автоматического масштабирования hello не полезна для приложений с отслеживанием состояния, таких как SQL Server, где только один экземпляр позволяет записи toohello базы данных.</span><span class="sxs-lookup"><span data-stu-id="ff24e-449">However, hello AutoScale feature is not useful for stateful applications, such as SQL Server, where only one instance allows writing toohello database.</span></span> |<span data-ttu-id="ff24e-450">Разворачивание можно выполнять с помощью нескольких веб-ролей и рабочих ролей.</span><span class="sxs-lookup"><span data-stu-id="ff24e-450">Scale-up is available by using multiple web and worker roles.</span></span> <span data-ttu-id="ff24e-451">Дополнительные сведения о размерах виртуальных машин для веб-ролей и рабочих ролей см. в статье [Размеры для облачных служб](../../../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-451">For more information about virtual machine sizes for web roles and worker roles, see [Configure Sizes for Cloud Services](../../../cloud-services/cloud-services-sizes-specs.md).</span></span><br/><br/><span data-ttu-id="ff24e-452">При использовании **облачные службы**, можно определить несколько ролей toodistribute обработки, а также добиться гибкого масштабирования приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-452">When using **Cloud Services**, you can define multiple roles toodistribute processing and also achieve flexible scaling of your application.</span></span> <span data-ttu-id="ff24e-453">Все облачные службы включают одну или несколько веб-ролей или рабочих ролей, каждая из которых имеет собственные файлы и конфигурацию приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24e-453">Each cloud service includes one or more web roles and/or worker roles, each with its own application files and configuration.</span></span> <span data-ttu-id="ff24e-454">Можно вертикального масштабирования облачной службы, увеличив hello число экземпляров роли (виртуальных машин), развернутых для роли и вниз облачной службы за счет уменьшения hello число экземпляров роли.</span><span class="sxs-lookup"><span data-stu-id="ff24e-454">You can scale-up a cloud service by increasing hello number of role instances (virtual machines) deployed for a role and scale-down a cloud service by decreasing hello number of role instances.</span></span> <span data-ttu-id="ff24e-455">Дополнительные сведения см. в статье [Стоит ли сделать выбор в пользу облачных служб или чего-то другого?](../../../cloud-services/cloud-services-choose-me.md)</span><span class="sxs-lookup"><span data-stu-id="ff24e-455">For detailed information, see [Azure Execution Models](../../../cloud-services/cloud-services-choose-me.md).</span></span><br/><br/><span data-ttu-id="ff24e-456">Вы можете выполнять горизонтальное масштабирование благодаря встроенной поддержке высокого уровня доступности Azure в соответствии с [соглашением об уровне обслуживания для облачных служб, виртуальных машин и виртуальной сети](http://www.microsoft.com/download/details.aspx?id=38427) и балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="ff24e-456">Scale-out is available via built-in Azure high availability support through [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and Load Balancer.</span></span><br/><br/><span data-ttu-id="ff24e-457">Для многоуровневого приложения рекомендуется подключения сервера toodatabase приложений рабочих и веб-ролей виртуальных машин с помощью виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-457">For a multi-tier application, we recommend that you connect web/worker roles application toodatabase server VMs via Azure Virtual Network.</span></span> <span data-ttu-id="ff24e-458">Кроме того, Azure обеспечивает балансировку нагрузки для виртуальных машин в hello же облачной службе, распределяя по ним запросы пользователей.</span><span class="sxs-lookup"><span data-stu-id="ff24e-458">In addition, Azure provides load balancing for VMs in hello same cloud service, spreading user requests across them.</span></span> <span data-ttu-id="ff24e-459">Виртуальные машины, соединенные таким образом могут взаимодействовать напрямую друг с другом по локальной сети hello в центре обработки данных Azure.</span><span class="sxs-lookup"><span data-stu-id="ff24e-459">Virtual machines connected in this way can communicate directly with one another over hello local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="ff24e-460">Можно настроить **автомасштабирования** hello портал Azure, а также hello расписания.</span><span class="sxs-lookup"><span data-stu-id="ff24e-460">You can set up **AutoScale** on hello Azure portal as well as hello schedule times.</span></span> <span data-ttu-id="ff24e-461">Дополнительные сведения см. в разделе [как tooconfigure автоматическое масштабирование для облачной службы в портале hello](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-461">For more information, see [How tooconfigure auto scaling for a Cloud Service in hello portal](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span></span> |<span data-ttu-id="ff24e-462">**Увеличение и уменьшение масштаба**: вы можно увеличивать или уменьшать размер hello hello экземпляра (ВМ), зарезервированный для веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="ff24e-462">**Scale up and down**: You can increase/decrease hello size of hello instance (VM) reserved for your web site.</span></span><br/><br/><span data-ttu-id="ff24e-463">Горизонтальное масштабирование: вы можете добавить дополнительные зарезервированные экземпляры (виртуальные машины) для своего веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="ff24e-463">Scale out: You can add more reserved instances (VMs) for your web site.</span></span><br/><br/><span data-ttu-id="ff24e-464">Можно настроить **автомасштабирования** hello портала, а также hello расписания.</span><span class="sxs-lookup"><span data-stu-id="ff24e-464">You can set up **AutoScale** on hello portal as well as hello schedule times.</span></span> <span data-ttu-id="ff24e-465">Дополнительные сведения см. в разделе [как tooScale веб-приложений](../../../app-service-web/web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-465">For more information, see [How tooScale Web Apps](../../../app-service-web/web-sites-scale.md).</span></span> |

<span data-ttu-id="ff24e-466">Дополнительные сведения о выборе между этими программными методами см. в разделе [веб-приложения Azure, облачных служб и виртуальных машин: при toouse которого](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-466">For more information on choosing between these programming methods, see [Azure Web Apps, Cloud Services, and VMs: When toouse which](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="ff24e-467">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="ff24e-467">Next Steps</span></span>
<span data-ttu-id="ff24e-468">Дополнительные сведения о работе SQL Server на виртуальных машинах Azure см. в статье [Приступая к работе с SQL Server в виртуальных машинах Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ff24e-468">For more information on running SQL Server in Azure Virtual machines, see [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

