---
title: "aaaProvision виртуальной машины SQL Server | Документы Microsoft"
description: "Создание и подключение виртуальной машины в Azure с помощью портала hello tooa SQL Server. В этом учебнике используется режим диспетчера ресурсов hello."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 1aff691f-a40a-4de2-b6a0-def1384e086e
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: infrastructure-services
ms.date: 08/14/2017
ms.author: jroth
ms.openlocfilehash: acb52b180103d83715b51b46e2519211c8f0e362
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="provision-a-sql-server-virtual-machine-in-hello-azure-portal"></a><span data-ttu-id="b9dd8-104">Подготовьте виртуальную машину SQL Server в hello портал Azure</span><span class="sxs-lookup"><span data-stu-id="b9dd8-104">Provision a SQL Server virtual machine in hello Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="b9dd8-105">Портал</span><span class="sxs-lookup"><span data-stu-id="b9dd8-105">Portal</span></span>](virtual-machines-windows-portal-sql-server-provision.md)
> * [<span data-ttu-id="b9dd8-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="b9dd8-106">PowerShell</span></span>](virtual-machines-windows-ps-sql-create.md)
> 
> 

<span data-ttu-id="b9dd8-107">Этот учебник для начала до конца показано, как toouse hello Azure портала tooprovision виртуальной машины под управлением SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-107">This end-to-end tutorial shows you how toouse hello Azure portal tooprovision a virtual machine running SQL Server.</span></span>

<span data-ttu-id="b9dd8-108">Коллекция Hello Azure виртуальной машины (VM) содержит несколько образов, содержащих Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-108">hello Azure virtual machine (VM) gallery includes several images that contain Microsoft SQL Server.</span></span> <span data-ttu-id="b9dd8-109">С помощью нескольких щелчков можно выбрать одно из изображений SQL виртуальной Машины из коллекции hello приветствия и ее подготовки в вашей среде Azure.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-109">With a few clicks, you can select one of hello SQL VM images from hello gallery and provision it in your Azure environment.</span></span>

<span data-ttu-id="b9dd8-110">Изучив данный учебник, вы научитесь:</span><span class="sxs-lookup"><span data-stu-id="b9dd8-110">In this tutorial, you will:</span></span>

* [<span data-ttu-id="b9dd8-111">Выберите образ виртуальной Машины SQL из коллекции hello</span><span class="sxs-lookup"><span data-stu-id="b9dd8-111">Select a SQL VM image from hello gallery</span></span>](#select-a-sql-vm-image-from-the-gallery)
* [<span data-ttu-id="b9dd8-112">Настройка и создание hello виртуальной Машины</span><span class="sxs-lookup"><span data-stu-id="b9dd8-112">Configure and create hello VM</span></span>](#configure-the-vm)
* [<span data-ttu-id="b9dd8-113">Открыть hello виртуальной Машины с помощью удаленного рабочего стола</span><span class="sxs-lookup"><span data-stu-id="b9dd8-113">Open hello VM with Remote Desktop</span></span>](#open-the-vm-with-remote-desktop)
* [<span data-ttu-id="b9dd8-114">Удаленное подключение tooSQL сервера</span><span class="sxs-lookup"><span data-stu-id="b9dd8-114">Connect tooSQL Server remotely</span></span>](#connect-to-sql-server-remotely)

## <a name="select-a-sql-vm-image-from-hello-gallery"></a><span data-ttu-id="b9dd8-115">Выберите образ виртуальной Машины SQL из коллекции hello</span><span class="sxs-lookup"><span data-stu-id="b9dd8-115">Select a SQL VM image from hello gallery</span></span>

1. <span data-ttu-id="b9dd8-116">Войдите в toohello [портал Azure](https://portal.azure.com) под своей учетной записью.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-116">Log in toohello [Azure portal](https://portal.azure.com) using your account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="b9dd8-117">Если у вас нет учетной записи Azure, используйте [бесплатную пробную версию Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-117">If you do not have an Azure account, visit [Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>

2. <span data-ttu-id="b9dd8-118">Щелкните hello портал Azure, **New**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-118">On hello Azure portal, click **New**.</span></span> <span data-ttu-id="b9dd8-119">Откроется портал Hello hello **New** окна.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-119">hello portal opens hello **New** window.</span></span>

3. <span data-ttu-id="b9dd8-120">В hello **New** окно, нажмите кнопку **вычислений** и нажмите кнопку **все**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-120">In hello **New** window, click **Compute** and then click **See all**.</span></span>

   ![Окно "Новое вычисление"](./media/virtual-machines-windows-portal-sql-server-provision/azure-new-compute-blade.png)

4. <span data-ttu-id="b9dd8-122">Введите в поле поиска hello **SQL Server**, и нажмите клавишу ВВОД.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-122">In hello search field, type **SQL Server**, and press ENTER.</span></span>

5. <span data-ttu-id="b9dd8-123">Нажмите кнопку hello **фильтра** значок и выберите **Microsoft** для hello издателя.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-123">Then click hello **Filter** icon and select **Microsoft** for hello publisher.</span></span> <span data-ttu-id="b9dd8-124">Нажмите кнопку **сделать** на результаты hello toofilter окна фильтрации hello tooMicrosoft опубликованных образов SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-124">Click **Done** on hello filter window toofilter hello results tooMicrosoft published SQL Server images.</span></span>

   ![Окно "Виртуальные машины Azure"](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-blade2.png)

5. <span data-ttu-id="b9dd8-126">Просмотрите hello доступных образов SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-126">Review hello available SQL Server images.</span></span> <span data-ttu-id="b9dd8-127">Каждый образ определяет версию SQL Server и операционную систему.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-127">Each image identifies a SQL Server version and an operating system.</span></span>

6. <span data-ttu-id="b9dd8-128">Выберите hello изображение с именем **бесплатная лицензия: SQL Server 2016 Developer с пакетом обновления 1 в Windows Server 2016**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-128">Select hello image named **Free License: SQL Server 2016 SP1 Developer on Windows Server 2016**.</span></span>

   > [!TIP]
   > <span data-ttu-id="b9dd8-129">в этом учебнике используется Hello Developer edition, так как это полнофункциональный выпуск SQL Server, предоставляется бесплатно для разработки приложений в целях тестирования.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-129">hello Developer edition is used in this tutorial because it is a full-featured edition of SQL Server that is free for development testing purposes.</span></span> <span data-ttu-id="b9dd8-130">Вы платите только за hello стоимость выполнения hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-130">You pay only for hello cost of running hello VM.</span></span> <span data-ttu-id="b9dd8-131">Однако, свободного toochoose любой toouse hello изображения в этом учебнике.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-131">However, you are free toochoose any of hello images toouse in this tutorial.</span></span>

   > [!TIP]
   > <span data-ttu-id="b9dd8-132">Образы виртуальных Машин SQL включить hello стоимости лицензирования для SQL Server в hello / мин стоимости hello виртуальной Машине, созданной (за исключением hello Developer, экспресс-выпуск и версии).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-132">SQL VM images include hello licensing costs for SQL Server into hello per-minute pricing of hello VM you create (except for hello Developer and Express editions).</span></span> <span data-ttu-id="b9dd8-133">Выпуск SQL Server Developer предоставляется бесплатно для разработки и тестирования (не для рабочей среды), а выпуск SQL Express предоставляется бесплатно для упрощенных рабочих нагрузок (требующих менее 1 ГБ памяти и 10 ГБ хранилища).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-133">SQL Server Developer is free for development/testing (not production) and SQL Express is free for lightweight workloads (less than 1GB memory, less than 10 GB storage).</span></span> <span data-ttu-id="b9dd8-134">Имеется другой параметр toobring--владельцем лицензии (BYOL) и оплата только для hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-134">There is another option toobring-your-own-license (BYOL) and pay only for hello VM.</span></span> <span data-ttu-id="b9dd8-135">Имена таких образов содержат префикс {BYOL}.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-135">Those image names are prefixed with {BYOL}.</span></span> 
   >
   > <span data-ttu-id="b9dd8-136">Дополнительные сведения об этих параметрах см. в [руководстве по выбору ценовой категории для виртуальных машин Azure SQL Server](virtual-machines-windows-sql-server-pricing-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-136">For more information on these options, see [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

7. <span data-ttu-id="b9dd8-137">В разделе **Выбор модели развертывания** выберите **Resource Manager**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-137">Under **Select a deployment model**, verify that **Resource Manager** is selected.</span></span> <span data-ttu-id="b9dd8-138">Диспетчер ресурсов — hello, рекомендуется использовать модель развертывания для новых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-138">Resource Manager is hello recommended deployment model for new virtual machines.</span></span> 

8. <span data-ttu-id="b9dd8-139">Щелкните **Создать**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-139">Click **Create**.</span></span>

    ![Создание виртуальной машины SQL с помощью Resource Manager](./media/virtual-machines-windows-portal-sql-server-provision/azure-compute-sql-deployment-model.png)

## <a name="configure-hello-vm"></a><span data-ttu-id="b9dd8-141">Настройка hello виртуальной Машины</span><span class="sxs-lookup"><span data-stu-id="b9dd8-141">Configure hello VM</span></span>
<span data-ttu-id="b9dd8-142">Есть пять окон для настройки виртуальной машины SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-142">There are five windows for configuring a SQL Server virtual machine.</span></span>

| <span data-ttu-id="b9dd8-143">Шаг</span><span class="sxs-lookup"><span data-stu-id="b9dd8-143">Step</span></span> | <span data-ttu-id="b9dd8-144">Описание</span><span class="sxs-lookup"><span data-stu-id="b9dd8-144">Description</span></span> |
| --- | --- |
| <span data-ttu-id="b9dd8-145">**Основы**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-145">**Basics**</span></span> |[<span data-ttu-id="b9dd8-146">Настройка основных параметров</span><span class="sxs-lookup"><span data-stu-id="b9dd8-146">Configure basic settings</span></span>](#1-configure-basic-settings) |
| <span data-ttu-id="b9dd8-147">**Размер**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-147">**Size**</span></span> |[<span data-ttu-id="b9dd8-148">Выбор размера виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="b9dd8-148">Choose virtual machine size</span></span>](#2-choose-virtual-machine-size) |
| <span data-ttu-id="b9dd8-149">**Параметры**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-149">**Settings**</span></span> |[<span data-ttu-id="b9dd8-150">Настройка дополнительных возможностей</span><span class="sxs-lookup"><span data-stu-id="b9dd8-150">Configure optional features</span></span>](#3-configure-optional-features) |
| <span data-ttu-id="b9dd8-151">**Параметры SQL Server**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-151">**SQL Server settings**</span></span> |[<span data-ttu-id="b9dd8-152">Настройка параметров SQL Server</span><span class="sxs-lookup"><span data-stu-id="b9dd8-152">Configure SQL server settings</span></span>](#4-configure-sql-server-settings) |
| <span data-ttu-id="b9dd8-153">**Сводка**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-153">**Summary**</span></span> |[<span data-ttu-id="b9dd8-154">Просмотрите hello сводки</span><span class="sxs-lookup"><span data-stu-id="b9dd8-154">Review hello summary</span></span>](#5-review-the-summary) |

## <a name="1-configure-basic-settings"></a><span data-ttu-id="b9dd8-155">1. Настройка основных параметров.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-155">1. Configure basic settings</span></span>

<span data-ttu-id="b9dd8-156">На hello **основы** окна, предоставляют hello следующую информацию:</span><span class="sxs-lookup"><span data-stu-id="b9dd8-156">On hello **Basics** window, provide hello following information:</span></span>

* <span data-ttu-id="b9dd8-157">Введите уникальное **имя**виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-157">Enter a unique virtual machine **Name**.</span></span>

* <span data-ttu-id="b9dd8-158">Для оптимальной производительности выберите **SSD** в качестве типа диска виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-158">Select **SSD** for VM disk type for optimal performance.</span></span>

* <span data-ttu-id="b9dd8-159">Укажите **имя пользователя** hello учетной записи локального администратора на hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-159">Specify a **User name** for hello local administrator account on hello VM.</span></span> <span data-ttu-id="b9dd8-160">Эта учетная запись также добавляется toohello SQL Server **sysadmin** предопределенной роли сервера.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-160">This account is also added toohello SQL Server **sysadmin** fixed server role.</span></span>

* <span data-ttu-id="b9dd8-161">Введите надежный **пароль**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-161">Provide a strong **Password**.</span></span>

* <span data-ttu-id="b9dd8-162">Если у вас несколько подписок, проверьте правильность hello подписки для hello новой виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-162">If you have multiple subscriptions, verify that hello subscription is correct for hello new VM.</span></span>

* <span data-ttu-id="b9dd8-163">В hello **группы ресурсов** введите имя для новой группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-163">In hello **Resource group** box, type a name for a new resource group.</span></span> <span data-ttu-id="b9dd8-164">Кроме того, toouse существующую группу ресурсов щелкните **использовать существующие**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-164">Alternatively, toouse an existing resource group click **Use existing**.</span></span> <span data-ttu-id="b9dd8-165">Группа ресурсов — это коллекция связанных ресурсов в Azure (виртуальные машины, учетные записи хранения, виртуальные сети и т. д.).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-165">A resource group is a collection of related resources in Azure (virtual machines, storage accounts, virtual networks, etc.).</span></span>

  > [!NOTE]
  > <span data-ttu-id="b9dd8-166">Рекомендуется использовать новую группу ресурсов для тестирования или изучения процесса развертывания SQL Server в Azure.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-166">Using a new resource group is helpful if you are just testing or learning about SQL Server deployments in Azure.</span></span> <span data-ttu-id="b9dd8-167">После завершения теста, удалите hello hello ресурсов группы tooautomatically удаления виртуальной Машины и все ресурсы, связанные с данной группой ресурсов.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-167">After you finish with your test, delete hello resource group tooautomatically delete hello VM and all resources associated with that resource group.</span></span> <span data-ttu-id="b9dd8-168">Дополнительные сведения о группах ресурсов см. в статье [Общие сведения об Azure Resource Manager](../../../azure-resource-manager/resource-group-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-168">For more information about resource groups, see [Azure Resource Manager Overview](../../../azure-resource-manager/resource-group-overview.md).</span></span>

* <span data-ttu-id="b9dd8-169">Выберите **расположение** для hello регион Azure, где будет размещаться этого развертывания.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-169">Select a **Location** for hello Azure region that will host this deployment.</span></span>

* <span data-ttu-id="b9dd8-170">Нажмите кнопку **ОК** toosave hello параметры.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-170">Click **OK** toosave hello settings.</span></span>

    ![Окно "Общие сведения об SQL"](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-basic.png)

## <a name="2-choose-virtual-machine-size"></a><span data-ttu-id="b9dd8-172">2) Выбор размера виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-172">2. Choose virtual machine size</span></span>

<span data-ttu-id="b9dd8-173">На hello **размер** действии, выберите размер виртуальной машины в hello **выберите размер** окна.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-173">On hello **Size** step, choose a virtual machine size in hello **Choose a size** window.</span></span> <span data-ttu-id="b9dd8-174">окно Hello сначала отображает размеры рекомендуемые машины, в зависимости от выбранного изображения hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-174">hello window initially displays recommended machine sizes based on hello image you selected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b9dd8-175">Hello предполагаемое месячные затраты на hello **выберите размер** окна не включает стоимость лицензирования SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-175">hello estimated monthly cost displayed on hello **Choose a size** window does not include SQL Server licensing costs.</span></span> <span data-ttu-id="b9dd8-176">Это стоимость hello hello виртуальной Машины отдельно.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-176">This is hello cost of hello VM alone.</span></span> <span data-ttu-id="b9dd8-177">Hello Express Edition и Developer Edition сервера SQL Server это итоговая оценочная стоимость hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-177">For hello Express and Developer editions of SQL Server, this is hello total estimated cost.</span></span> <span data-ttu-id="b9dd8-178">Для других выпусков см hello [страница цен в виртуальных машинах](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) и выберите целевой выпуск SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-178">For other editions, see hello [Windows Virtual Machines pricing page](https://azure.microsoft.com/pricing/details/virtual-machines/windows/) and select your target edition of SQL Server.</span></span> <span data-ttu-id="b9dd8-179">См. также hello [цены рекомендации для виртуальных машин Azure SQL Server](virtual-machines-windows-sql-server-pricing-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-179">Also see hello [Pricing guidance for SQL Server Azure VMs](virtual-machines-windows-sql-server-pricing-guidance.md).</span></span>

![Варианты размеров виртуальной машины SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-vm-choose-a-size.png)

<span data-ttu-id="b9dd8-181">Для рабочих нагрузок см hello рекомендуемые размеры машины и конфигурации в [рекомендации по производительности для SQL Server в виртуальных машинах Azure](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-181">For production workloads, see hello recommended machine sizes and configuration in [Performance best practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span> <span data-ttu-id="b9dd8-182">Если требуется, чтобы размер машины, который отсутствует в списке, нажмите кнопку hello **просмотра всех** кнопки.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-182">If you need a machine size that is not listed, click hello **View all** button.</span></span>

> [!NOTE]
> <span data-ttu-id="b9dd8-183">Дополнительную информацию о размерах виртуальных машин см. в статье [Размеры виртуальных машин](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-183">For more information about virtual machine sizes see, [Sizes for virtual machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="b9dd8-184">Укажите размер машины и нажмите кнопку **Выбрать**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-184">Choose your machine size, and then click **Select**.</span></span>

## <a name="3-configure-optional-features"></a><span data-ttu-id="b9dd8-185">3. Настройка дополнительных возможностей</span><span class="sxs-lookup"><span data-stu-id="b9dd8-185">3. Configure optional features</span></span>

<span data-ttu-id="b9dd8-186">На hello **параметры** окна, Настройка хранилища Azure, сети и наблюдение за hello виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-186">On hello **Settings** window, configure Azure storage, networking, and monitoring for hello virtual machine.</span></span>

* <span data-ttu-id="b9dd8-187">В разделе **Хранилище** выберите **Да** возле параметра "Использование **управляемых дисков**".</span><span class="sxs-lookup"><span data-stu-id="b9dd8-187">Under **Storage**, select **Yes** under use **Managed Disks**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="b9dd8-188">Корпорация Майкрософт рекомендует использовать управляемые диски для SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-188">Microsoft recommends Managed Disks for SQL Server.</span></span> <span data-ttu-id="b9dd8-189">Управлять дисками управляет хранилищем фоновом hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-189">Managed Disks handles storage behind hello scenes.</span></span> <span data-ttu-id="b9dd8-190">Кроме того, когда виртуальные машины с дисками управляемых находятся в hello одной группе доступности Azure распределяет соответствующие избыточности ресурсы хранилища tooprovide hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-190">In addition, when virtual machines with Managed Disks are in hello same availability set, Azure distributes hello storage resources tooprovide appropriate redundancy.</span></span> <span data-ttu-id="b9dd8-191">Дополнительные сведения см. в [обзоре управляемых дисков Azure](../../../storage/storage-managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-191">For additional information, see [Azure Managed Disks Overview](../../../storage/storage-managed-disks-overview.md).</span></span> <span data-ttu-id="b9dd8-192">Подробные сведения об управляемых дисках в группе доступности см. в статье [Управление доступностью виртуальных машин Windows в Azure](../manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-192">For specifics about managed disks in an availability set, see [Use managed disks for VMs in availability set](../manage-availability.md).</span></span>

* <span data-ttu-id="b9dd8-193">В разделе **сети**, может принимать значения hello заполнено автоматически.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-193">Under **Network**, you can accept hello automatically populated values.</span></span> <span data-ttu-id="b9dd8-194">Также можно щелкнуть каждый компонент toomanually Настройка hello **виртуальная сеть**, **подсети**, **общедоступный IP-адрес**, и **группы безопасности сети**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-194">You can also click on each feature toomanually configure hello **Virtual network**, **Subnet**, **Public IP address**, and **Network Security Group**.</span></span> <span data-ttu-id="b9dd8-195">Для целей этого учебника hello оставьте значения по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-195">For hello purposes of this tutorial, keep hello default values.</span></span>

* <span data-ttu-id="b9dd8-196">Azure позволяет **мониторинг** по умолчанию с одной учетной записи хранилища, предназначенные для hello ВМ hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-196">Azure enables **Monitoring** by default with hello same storage account designated for hello VM.</span></span> <span data-ttu-id="b9dd8-197">Эти параметры можно изменить.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-197">You can change these settings here.</span></span>

* <span data-ttu-id="b9dd8-198">В разделе **набор доступности**, можно оставить значение по умолчанию hello **нет** для этого учебника.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-198">Under **Availability set**, you can leave hello default of **none** for this tutorial.</span></span> <span data-ttu-id="b9dd8-199">Если планируется tooset копирование группы доступности AlwaysOn SQL, Настройка hello доступности tooavoid воссоздание hello виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-199">If you plan tooset up SQL AlwaysOn Availability Groups, configure hello availability tooavoid recreating hello virtual machine.</span></span>  <span data-ttu-id="b9dd8-200">Дополнительные сведения см. в разделе [hello Управление доступностью виртуальных машин](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-200">For more information, see [Manage hello Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="b9dd8-201">Завершив настройку параметров, нажмите кнопку **OК**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-201">When you are done configuring these settings, click **OK**.</span></span>

## <a name="4-configure-sql-server-settings"></a><span data-ttu-id="b9dd8-202">4. Настройка параметров SQL Server</span><span class="sxs-lookup"><span data-stu-id="b9dd8-202">4. Configure SQL server settings</span></span>
<span data-ttu-id="b9dd8-203">На hello **параметры SQL Server** окна, настроить определенные параметры и оптимизации для SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-203">On hello **SQL Server settings** window, configure specific settings and optimizations for SQL Server.</span></span> <span data-ttu-id="b9dd8-204">Hello параметры, которые можно настроить для SQL Server включают следующие hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-204">hello settings that you can configure for SQL Server include hello following.</span></span>

| <span data-ttu-id="b9dd8-205">Настройка</span><span class="sxs-lookup"><span data-stu-id="b9dd8-205">Setting</span></span> |
| --- |
| [<span data-ttu-id="b9dd8-206">Соединение</span><span class="sxs-lookup"><span data-stu-id="b9dd8-206">Connectivity</span></span>](#connectivity) |
| [<span data-ttu-id="b9dd8-207">Аутентификация</span><span class="sxs-lookup"><span data-stu-id="b9dd8-207">Authentication</span></span>](#authentication) |
| [<span data-ttu-id="b9dd8-208">Конфигурация хранилища</span><span class="sxs-lookup"><span data-stu-id="b9dd8-208">Storage configuration</span></span>](#storage-configuration) |
| [<span data-ttu-id="b9dd8-209">Автоматическое исправление</span><span class="sxs-lookup"><span data-stu-id="b9dd8-209">Automated Patching</span></span>](#automated-patching) |
| [<span data-ttu-id="b9dd8-210">Автоматическая архивация</span><span class="sxs-lookup"><span data-stu-id="b9dd8-210">Automated Backup</span></span>](#automated-backup) |
| [<span data-ttu-id="b9dd8-211">Интеграция с хранилищем ключей Azure</span><span class="sxs-lookup"><span data-stu-id="b9dd8-211">Azure Key Vault Integration</span></span>](#azure-key-vault-integration) |
| [<span data-ttu-id="b9dd8-212">Службы R</span><span class="sxs-lookup"><span data-stu-id="b9dd8-212">R Services</span></span>](#r-services) |

### <a name="connectivity"></a><span data-ttu-id="b9dd8-213">Соединение</span><span class="sxs-lookup"><span data-stu-id="b9dd8-213">Connectivity</span></span>

<span data-ttu-id="b9dd8-214">В разделе **подключения SQL**, укажите тип hello доступа требуется экземпляр SQL Server toohello на этой виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-214">Under **SQL connectivity**, specify hello type of access you want toohello SQL Server instance on this VM.</span></span> <span data-ttu-id="b9dd8-215">Для целей этого учебника hello, выберите **общей (Интернет)** tooSQL tooallow подключений сервера из машин или служб на hello Интернета.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-215">For hello purposes of this tutorial, select **Public (internet)** tooallow connections tooSQL Server from machines or services on hello internet.</span></span> <span data-ttu-id="b9dd8-216">Этот параметр выбран Azure автоматически настраивает брандмауэр hello и трафик tooallow группы безопасности сети hello через порт 1433.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-216">With this option selected, Azure automatically configures hello firewall and hello network security group tooallow traffic on port 1433.</span></span>

![Варианты подключений SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-connectivity-alt.png)

> [!TIP]
> <span data-ttu-id="b9dd8-218">По умолчанию сервер SQL Server ожидает передачи данных через стандартный порт **1433**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-218">By default, SQL Server listens on a well-known port, **1433**.</span></span> <span data-ttu-id="b9dd8-219">Для повышения безопасности измените номер порта hello в предыдущих toolisten диалоговое окно hello нестандартный порт, например 1401.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-219">For increased security, change hello port in hello previous dialog toolisten on a non-default port, such as 1401.</span></span> <span data-ttu-id="b9dd8-220">После этого необходимо выполнить подключение, используя этот порт, с любого клиентского средства, например SSMS.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-220">If you do this, you must connect using that port from any client tools, such as SSMS.</span></span>

<span data-ttu-id="b9dd8-221">tooSQL tooconnect сервера через hello Интернета, также необходимо включить проверку подлинности SQL Server, который описан в следующем разделе hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-221">tooconnect tooSQL Server via hello internet, you also must enable SQL Server Authentication, which is described in hello next section.</span></span>

<span data-ttu-id="b9dd8-222">Если вы предпочитаете toohello подключений toonot включить компонент Database Engine через Здравствуйте Интернета, выберите один из следующих вариантов hello:</span><span class="sxs-lookup"><span data-stu-id="b9dd8-222">If you would prefer toonot enable connections toohello Database Engine via hello internet, choose one of hello following options:</span></span>

* <span data-ttu-id="b9dd8-223">**Локальный (внутри ВМ)** tooSQL tooallow подключений сервера только из внутри hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-223">**Local (inside VM only)** tooallow connections tooSQL Server only from within hello VM.</span></span>
* <span data-ttu-id="b9dd8-224">**Закрытый (в виртуальной сети)** tooSQL tooallow подключений сервера из машин или служб в hello одной виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-224">**Private (within Virtual Network)** tooallow connections tooSQL Server from machines or services in hello same virtual network.</span></span>

<span data-ttu-id="b9dd8-225">Как правило повышения безопасности, выбрав hello наиболее строгие взаимодействия, что сценарий позволяет.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-225">In general, improve security by choosing hello most restrictive connectivity that your scenario allows.</span></span> <span data-ttu-id="b9dd8-226">Но все параметры hello защищаемый через правил сетевой группы безопасности и проверки подлинности Windows или SQL.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-226">But all hello options are securable through Network Security Group rules and SQL/Windows Authentication.</span></span> <span data-ttu-id="b9dd8-227">Группы безопасности сети можно изменить после hello создания виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-227">You can edit Network Security Group after hello VM is created.</span></span> <span data-ttu-id="b9dd8-228">Дополнительные сведения см. в статье [Вопросы безопасности SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-228">For more information, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

> [!NOTE]
> <span data-ttu-id="b9dd8-229">образ виртуальной машины Hello для SQL Server Express edition не происходит автоматического включения протокола hello TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-229">hello virtual machine image for SQL Server Express edition does not automatically enable hello TCP/IP protocol.</span></span> <span data-ttu-id="b9dd8-230">Это справедливо даже для hello подключение частных и общедоступных параметров.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-230">This is true even for hello Public and  Private connectivity options.</span></span> <span data-ttu-id="b9dd8-231">Для экспресс-выпуск, необходимо использовать диспетчер конфигурации SQL Server слишком[вручную включить протокол hello TCP/IP](#configure-sql-server-to-listen-on-the-tcp-protocol) после создания hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-231">For Express edition, you must use SQL Server Configuration Manager too[manually enable hello TCP/IP protocol](#configure-sql-server-to-listen-on-the-tcp-protocol) after creating hello VM.</span></span>

### <a name="authentication"></a><span data-ttu-id="b9dd8-232">Аутентификация</span><span class="sxs-lookup"><span data-stu-id="b9dd8-232">Authentication</span></span>

<span data-ttu-id="b9dd8-233">Если требуется проверка подлинности SQL Server, выберите для параметра **Включить** under **Включить**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-233">If you require SQL Server Authentication, click **Enable** under **SQL authentication**.</span></span>

![проверка подлинности SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-authentication.png)

> [!NOTE]
> <span data-ttu-id="b9dd8-235">Если планируется tooaccess SQL Server через hello Интернета (т. е. hello возможность подключения к общедоступным параметр), необходимо включить проверку подлинности SQL здесь.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-235">If you plan tooaccess SQL Server over hello internet (i.e. hello Public connectivity option), you must enable SQL authentication here.</span></span> <span data-ttu-id="b9dd8-236">Общий доступ toohello SQL Server необходимо использовать hello проверки подлинности SQL.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-236">Public access toohello SQL Server requires hello use of SQL Authentication.</span></span>
> 
> 

<span data-ttu-id="b9dd8-237">Если вы включаете проверку подлинности SQL Server, укажите **имя для входа** и **пароль**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-237">If you enable SQL Server Authentication, specify a **Login name** and **Password**.</span></span> <span data-ttu-id="b9dd8-238">Это имя пользователя настроен в качестве имени входа для проверки подлинности SQL Server и членом hello **sysadmin** предопределенной роли сервера.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-238">This user name is configured as a SQL Server Authentication login and member of hello **sysadmin** fixed server role.</span></span> <span data-ttu-id="b9dd8-239">Дополнительные сведения о режимах проверки подлинности см. в статье [Выбор режима проверки подлинности](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-239">See [Choose an Authentication Mode](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode) for more information about Authentication Modes.</span></span>

<span data-ttu-id="b9dd8-240">Если не включить проверку подлинности SQL Server, можно использовать hello локальной учетной записи администратора на экземпляре SQL Server toohello tooconnect виртуальной Машины hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-240">If you do not enable SQL Server Authentication, then you can use hello local Administrator account on hello VM tooconnect toohello SQL Server instance.</span></span>

### <a name="storage-configuration"></a><span data-ttu-id="b9dd8-241">Конфигурация хранилища</span><span class="sxs-lookup"><span data-stu-id="b9dd8-241">Storage configuration</span></span>

<span data-ttu-id="b9dd8-242">Нажмите кнопку **конфигурации хранилища** toospecify требования к хранилищу hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-242">Click **Storage configuration** toospecify hello storage requirements.</span></span>

![Конфигурация хранилища SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-storage.png)

> [!NOTE]
> <span data-ttu-id="b9dd8-244">Если вы вручную настроили стандартное хранилище toouse виртуальной Машины, этот параметр недоступен.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-244">If you manually configured your VM toouse standard storage, this option is not available.</span></span> <span data-ttu-id="b9dd8-245">Автоматическая оптимизация доступна только для хранилища класса Premium.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-245">Automatic storage optimization is available only for Premium Storage.</span></span>

> [!TIP]
> <span data-ttu-id="b9dd8-246">Hello число останавливается и верхних пределов hello каждого ползунка зависит hello размер виртуальной Машины, которые вы выбрали.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-246">hello number of stops and hello upper limits of each slider is dependent on hello size of VM you selected.</span></span> <span data-ttu-id="b9dd8-247">Виртуальная машина крупных и более мощных является может tooscale вверх.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-247">A larger and more powerful VM is able tooscale up more.</span></span>

<span data-ttu-id="b9dd8-248">Вы можете указать такие требования, как количество операций ввода-вывода в секунду (IOPs), пропускная способность в МБ/с и общий размер хранилища.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-248">You can specify requirements as input/output operations per second (IOPs), throughput in MB/s, and total storage size.</span></span> <span data-ttu-id="b9dd8-249">Настройте эти значения с помощью hello скользящий шкал.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-249">Configure these values by using hello sliding scales.</span></span> <span data-ttu-id="b9dd8-250">Вы можете изменить эти параметры хранилища в зависимости от рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-250">You can change these storage settings based on workload.</span></span> <span data-ttu-id="b9dd8-251">Hello портал автоматически вычисляет количество дисков tooattach hello и настроить в соответствии с этими требованиями.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-251">hello portal automatically calculates hello number of disks tooattach and configure based on these requirements.</span></span>

<span data-ttu-id="b9dd8-252">В разделе **хранилища, обеспечивающее**, выберите один из следующих вариантов hello:</span><span class="sxs-lookup"><span data-stu-id="b9dd8-252">Under **Storage optimized for**, select one of hello following options:</span></span>

* <span data-ttu-id="b9dd8-253">**Общие** hello по умолчанию и поддерживает большинство рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-253">**General** is hello default setting and supports most workloads.</span></span>
* <span data-ttu-id="b9dd8-254">**Транзакций** обработки оптимизирует хранение hello для рабочих нагрузок OLTP традиционных баз данных.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-254">**Transactional** processing optimizes hello storage for traditional database OLTP workloads.</span></span>
* <span data-ttu-id="b9dd8-255">**Хранение данных** оптимизирует хранение hello для рабочих нагрузок, анализа и создания отчетов.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-255">**Data warehousing** optimizes hello storage for analytic and reporting workloads.</span></span>

### <a name="automated-patching"></a><span data-ttu-id="b9dd8-256">Автоматическое исправление</span><span class="sxs-lookup"><span data-stu-id="b9dd8-256">Automated patching</span></span>

<span data-ttu-id="b9dd8-257">**Automated patching** включен по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-257">**Automated patching** is enabled by default.</span></span> <span data-ttu-id="b9dd8-258">Автоматических исправлений позволяет Azure tooautomatically исправление для SQL Server и hello операционной системы.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-258">Automated patching allows Azure tooautomatically patch SQL Server and hello operating system.</span></span> <span data-ttu-id="b9dd8-259">Укажите день недели hello, время и длительность периода обслуживания.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-259">Specify a day of hello week, time, and duration for a maintenance window.</span></span> <span data-ttu-id="b9dd8-260">Azure устанавливает исправления в период обслуживания.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-260">Azure performs patching in this maintenance window.</span></span> <span data-ttu-id="b9dd8-261">расписание окна обслуживания Hello использует языковой стандарт hello виртуальной Машины для времени.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-261">hello maintenance window schedule uses hello VM locale for time.</span></span> <span data-ttu-id="b9dd8-262">Если требуется запретить Azure tooautomatically исправление для SQL Server и hello операционной системы, нажмите кнопку **отключить**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-262">If you do not want Azure tooautomatically patch SQL Server and hello operating system, click **Disable**.</span></span>  

![Автоматическая установка исправлений SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-patching.png)

<span data-ttu-id="b9dd8-264">Дополнительные сведения см. в статье [Автоматическая установка исправлений SQL Server на виртуальных машинах Azure (Resource Manager)](virtual-machines-windows-sql-automated-patching.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-264">For more information, see [Automated Patching for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-patching.md).</span></span>

### <a name="automated-backup"></a><span data-ttu-id="b9dd8-265">Автоматическая архивация</span><span class="sxs-lookup"><span data-stu-id="b9dd8-265">Automated backup</span></span>

<span data-ttu-id="b9dd8-266">Включите автоматическую архивацию для всех баз данных в разделе **Автоматическая архивация**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-266">Enable automatic database backups for all databases under **Automated backup**.</span></span> <span data-ttu-id="b9dd8-267">По умолчанию автоматическая архивация отключена.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-267">Automated backup is disabled by default.</span></span>

<span data-ttu-id="b9dd8-268">При включении автоматической архивации SQL можно настроить следующие hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-268">When you enable SQL automated backup, you can configure hello following:</span></span>

* <span data-ttu-id="b9dd8-269">срок хранения (в днях) для резервных копий;</span><span class="sxs-lookup"><span data-stu-id="b9dd8-269">Retention period (days) for backups</span></span>
* <span data-ttu-id="b9dd8-270">Toouse учетной записи хранилища для резервных копий</span><span class="sxs-lookup"><span data-stu-id="b9dd8-270">Storage account toouse for backups</span></span>
* <span data-ttu-id="b9dd8-271">параметр шифрования и пароль для резервных копий.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-271">Encryption option and password for backups</span></span>
* <span data-ttu-id="b9dd8-272">архивация системных баз данных;</span><span class="sxs-lookup"><span data-stu-id="b9dd8-272">Backup system databases</span></span>
* <span data-ttu-id="b9dd8-273">настройка расписания архивации баз данных.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-273">Configure backup schedule</span></span>

<span data-ttu-id="b9dd8-274">резервного копирования нажмите hello tooencrypt **включить**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-274">tooencrypt hello backup, click **Enable**.</span></span> <span data-ttu-id="b9dd8-275">Затем укажите hello **пароль**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-275">Then specify hello **Password**.</span></span> <span data-ttu-id="b9dd8-276">Azure создает сертификат tooencrypt hello резервные копии с указанием hello использует tooprotect пароль сертификата.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-276">Azure creates a certificate tooencrypt hello backups and uses hello specified password tooprotect that certificate.</span></span>

![Автоматическая архивация SQL](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-autobackup2.png)

 <span data-ttu-id="b9dd8-278">Дополнительную информацию см. в статье [Автоматическая архивация SQL Server на виртуальных машинах Azure (Resource Manager)](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-278">For more information, see [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

### <a name="azure-key-vault-integration"></a><span data-ttu-id="b9dd8-279">Интеграция с хранилищем ключей Azure</span><span class="sxs-lookup"><span data-stu-id="b9dd8-279">Azure Key Vault integration</span></span>

<span data-ttu-id="b9dd8-280">Щелкните toostore секретные данные безопасности в Azure для шифрования, **интеграции хранилища ключей Azure** и нажмите кнопку **включить**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-280">toostore security secrets in Azure for encryption, click **Azure key vault integration** and click **Enable**.</span></span>

![Интеграция SQL с хранилищем ключей Azure](./media/virtual-machines-windows-portal-sql-server-provision/azure-sql-arm-akv.png)

<span data-ttu-id="b9dd8-282">Hello следующей таблице перечислены необходимые tooconfigure параметры hello интеграция хранилища ключей Azure.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-282">hello following table lists hello parameters required tooconfigure Azure Key Vault Integration.</span></span>

| <span data-ttu-id="b9dd8-283">ПАРАМЕТР</span><span class="sxs-lookup"><span data-stu-id="b9dd8-283">PARAMETER</span></span> | <span data-ttu-id="b9dd8-284">Описание</span><span class="sxs-lookup"><span data-stu-id="b9dd8-284">DESCRIPTION</span></span> | <span data-ttu-id="b9dd8-285">ПРИМЕР</span><span class="sxs-lookup"><span data-stu-id="b9dd8-285">EXAMPLE</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b9dd8-286">**URL-адрес хранилища ключей**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-286">**Key Vault URL**</span></span> |<span data-ttu-id="b9dd8-287">расположение хранилища ключей hello Hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-287">hello location of hello key vault.</span></span> |<span data-ttu-id="b9dd8-288">https://contosokeyvault.vault.azure.net/</span><span class="sxs-lookup"><span data-stu-id="b9dd8-288">https://contosokeyvault.vault.azure.net/</span></span> |
| <span data-ttu-id="b9dd8-289">**Имя субъекта**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-289">**Principal name**</span></span> |<span data-ttu-id="b9dd8-290">Имя субъекта-службы Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-290">Azure Active Directory service principal name.</span></span> <span data-ttu-id="b9dd8-291">Это имя также является ссылка tooas hello идентификатор клиента.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-291">This name is also referred tooas hello Client ID.</span></span> |<span data-ttu-id="b9dd8-292">fde2b411-33d5-4e11-af04eb07b669ccf2</span><span class="sxs-lookup"><span data-stu-id="b9dd8-292">fde2b411-33d5-4e11-af04eb07b669ccf2</span></span> |
| <span data-ttu-id="b9dd8-293">**Секрет субъекта**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-293">**Principal secret**</span></span> |<span data-ttu-id="b9dd8-294">Секрет субъекта-службы Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-294">Azure Active Directory service principal secret.</span></span> <span data-ttu-id="b9dd8-295">Этот секрет также является ссылка tooas hello секрет клиента.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-295">This secret is also referred tooas hello Client Secret.</span></span> |<span data-ttu-id="b9dd8-296">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span><span class="sxs-lookup"><span data-stu-id="b9dd8-296">9VTJSQwzlFepD8XODnzy8n2V01Jd8dAjwm/azF1XDKM=</span></span> |
| <span data-ttu-id="b9dd8-297">**Имя учетных данных**</span><span class="sxs-lookup"><span data-stu-id="b9dd8-297">**Credential name**</span></span> |<span data-ttu-id="b9dd8-298">**Имя учетных данных**: интеграция с хранилищем ключей AZURE создает учетные данные в SQL Server, позволяя hello ВМ toohave доступа toohello хранилища ключей.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-298">**Credential name**: AKV Integration creates a credential within SQL Server, allowing hello VM toohave access toohello key vault.</span></span> <span data-ttu-id="b9dd8-299">Выберите имя для этих учетных данных.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-299">Choose a name for this credential.</span></span> |<span data-ttu-id="b9dd8-300">mycred1</span><span class="sxs-lookup"><span data-stu-id="b9dd8-300">mycred1</span></span> |

<span data-ttu-id="b9dd8-301">Дополнительные сведения см. в статье [Настройка интеграции хранилища ключей Azure для SQL Server на виртуальных машинах Azure (Resource Manager)](virtual-machines-windows-ps-sql-keyvault.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-301">For more information, see [Configure Azure Key Vault Integration for SQL Server on Azure VMs](virtual-machines-windows-ps-sql-keyvault.md).</span></span>

### <a name="r-services"></a><span data-ttu-id="b9dd8-302">Службы R</span><span class="sxs-lookup"><span data-stu-id="b9dd8-302">R services</span></span>

<span data-ttu-id="b9dd8-303">У вас есть hello параметр tooenable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-303">You have hello option tooenable [SQL Server R Services](https://msdn.microsoft.com/library/mt604845.aspx).</span></span> <span data-ttu-id="b9dd8-304">Это позволяет toouse advanced analytics с SQL Server 2016.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-304">This enables you toouse advanced analytics with SQL Server 2016.</span></span> <span data-ttu-id="b9dd8-305">Нажмите кнопку **включить** на hello **параметры сервера SQL Server** окна.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-305">Click **Enable** on hello **SQL Server Settings** window.</span></span>

> [!NOTE]
> <span data-ttu-id="b9dd8-306">Для SQL Server 2016 Developer Edition этот параметр отключен неправильно порталом hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-306">For SQL Server 2016 Developer Edition, this option is incorrectly disabled by hello portal.</span></span> <span data-ttu-id="b9dd8-307">Для выпуска Developer Edition необходимо включить службы R вручную после создания виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-307">For Developer edition, you must enable R Services manually after creating your VM.</span></span>

![Включение служб R SQL Server](./media/virtual-machines-windows-portal-sql-server-provision/azure-vm-sql-server-r-services.png)

<span data-ttu-id="b9dd8-309">Настроив параметры SQL Server, нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-309">When you are finished configuring SQL Server settings, click **OK**.</span></span>

## <a name="5-review-hello-summary"></a><span data-ttu-id="b9dd8-310">5. Просмотрите hello сводки</span><span class="sxs-lookup"><span data-stu-id="b9dd8-310">5. Review hello summary</span></span>

<span data-ttu-id="b9dd8-311">На hello **сводки** , просмотрите hello сводки и выберите команду **покупки** toocreate SQL Server, группа ресурсов и ресурсов, указанное для этой виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-311">On hello **Summary** window, review hello summary and click **Purchase** toocreate SQL Server, resource group, and resources specified for this VM.</span></span>

<span data-ttu-id="b9dd8-312">Вы можете отслеживать развертывание hello из hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-312">You can monitor hello deployment from hello Azure portal.</span></span> <span data-ttu-id="b9dd8-313">Hello **уведомления** кнопка hello верхней части экрана приветствия показывает основное состояние развертывания hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-313">hello **Notifications** button at hello top of hello screen shows basic status of hello deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="b9dd8-314">tooprovide можно представить в развертывании время ожидания, я развернул регионе Восток США toohello виртуальной Машине SQL с параметрами по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-314">tooprovide you with an idea on deployment times, I deployed a SQL VM toohello East US region with default settings.</span></span> <span data-ttu-id="b9dd8-315">Это тестовое развертывание заняла 26 минут toocomplete.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-315">This test deployment took a total of 26 minutes toocomplete.</span></span> <span data-ttu-id="b9dd8-316">Время развертывания зависит от региона и выбранных параметров.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-316">But you might experience a faster or slower deployment time based on your region and selected settings.</span></span>

## <a name="open-hello-vm-with-remote-desktop"></a><span data-ttu-id="b9dd8-317">Открыть hello виртуальной Машины с помощью удаленного рабочего стола</span><span class="sxs-lookup"><span data-stu-id="b9dd8-317">Open hello VM with Remote Desktop</span></span>

<span data-ttu-id="b9dd8-318">Используйте следующие шаги tooconnect toohello виртуальной машины SQL Server с удаленным рабочим столом hello.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-318">Use hello following steps tooconnect toohello SQL Server virtual machine with Remote Desktop:</span></span>

> [!INCLUDE [Connect tooSQL Server VM with remote desktop](../../../../includes/virtual-machines-sql-server-remote-desktop-connect.md)]

<span data-ttu-id="b9dd8-319">После подключения виртуальной машины SQL Server toohello можно запустить SQL Server Management Studio и подключитесь с проверкой подлинности Windows, используя учетные данные локального администратора.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-319">After you connect toohello SQL Server virtual machine, you can launch SQL Server Management Studio and connect with Windows Authentication using your local administrator credentials.</span></span> <span data-ttu-id="b9dd8-320">Если включена проверка подлинности SQL Server, можно также подключиться с проверкой подлинности SQL, используя имя входа SQL hello и пароль, которые настроены во время инициализации.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-320">If you enabled SQL Server Authentication, you can also connect with SQL Authentication using hello SQL login and password you configured during provisioning.</span></span>

<span data-ttu-id="b9dd8-321">Машины toohello доступа позволяет toodirectly изменение компьютера и параметры SQL Server, на основе требований.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-321">Access toohello machine enables you toodirectly change machine and SQL Server settings based on your requirements.</span></span> <span data-ttu-id="b9dd8-322">Например можно настроить параметры брандмауэра hello или изменения параметров конфигурации SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-322">For example, you could configure hello firewall settings or change SQL Server configuration settings.</span></span>

## <a name="enable-tcpip-for-developer-and-express-editions"></a><span data-ttu-id="b9dd8-323">Включение TCP/IP для выпусков Developer и Express</span><span class="sxs-lookup"><span data-stu-id="b9dd8-323">Enable TCP/IP for Developer and Express editions</span></span>

<span data-ttu-id="b9dd8-324">При подготовке новой виртуальной Машины SQL Server, Azure не происходит автоматического включения протокола TCP/IP hello для разработчиков SQL Server и выпусках Express.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-324">When provisioning a new SQL Server VM, Azure does not automatically enable hello TCP/IP protocol for SQL Server Developer and Express editions.</span></span> <span data-ttu-id="b9dd8-325">описанные действия Hello, как включить toomanually TCP/IP, чтобы удаленно подключиться по IP-адресу.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-325">hello steps below explain how toomanually enable TCP/IP so that you can connect remotely by IP address.</span></span>

<span data-ttu-id="b9dd8-326">Здравствуйте, выполнив действия, используйте **диспетчер конфигурации SQL Server** tooenable протокола hello TCP/IP для разработчиков SQL Server и выпусках Express.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-326">hello following steps use **SQL Server Configuration Manager** tooenable hello TCP/IP protocol for SQL Server Developer and Express editions.</span></span>

> [!INCLUDE [Connect tooSQL Server VM with remote desktop](../../../../includes/virtual-machines-sql-server-connection-tcp-protocol.md)]

## <a name="connect-toosql-server-remotely"></a><span data-ttu-id="b9dd8-327">Удаленное подключение tooSQL сервера</span><span class="sxs-lookup"><span data-stu-id="b9dd8-327">Connect tooSQL Server remotely</span></span>

<span data-ttu-id="b9dd8-328">В этом учебнике мы выбрали **открытый** доступа для виртуальной машины hello и **проверки подлинности SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-328">In this tutorial, we selected **Public** access for hello virtual machine and **SQL Server Authentication**.</span></span> <span data-ttu-id="b9dd8-329">Эти подключения параметры автоматически настроенного hello виртуальной машины tooallow SQL Server из любого клиента через hello Интернета (при условии, что они имеют правильные учетные данные SQL hello).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-329">These settings automatically configured hello virtual machine tooallow SQL Server connections from any client over hello internet (assuming they have hello correct SQL login).</span></span>

> [!NOTE]
> <span data-ttu-id="b9dd8-330">Если вы не выбрали открытым во время подготовки, можно изменить параметры подключения к SQL через портал hello после подготовки.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-330">If you did not select Public during provisioning, then you can change your SQL connectivity settings through hello portal after provisioning.</span></span> <span data-ttu-id="b9dd8-331">Дополнительные сведения см. в разделе [об изменении параметров подключения SQL](virtual-machines-windows-sql-connect.md#change).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-331">For more information, see  [Change your SQL connectivity settings](virtual-machines-windows-sql-connect.md#change).</span></span>

<span data-ttu-id="b9dd8-332">Hello в следующих разделах показано, как экземпляр SQL Server tooyour tooconnect на ВМ с другого компьютера через hello Интернета.</span><span class="sxs-lookup"><span data-stu-id="b9dd8-332">hello following sections show how tooconnect tooyour SQL Server instance on your VM from a different computer over hello internet.</span></span>

> [!INCLUDE [Connect tooSQL Server in a VM Resource Manager](../../../../includes/virtual-machines-sql-server-connection-steps-resource-manager.md)]

## <a name="next-steps"></a><span data-ttu-id="b9dd8-333">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="b9dd8-333">Next Steps</span></span>

<span data-ttu-id="b9dd8-334">Другие сведения об использовании SQL Server в Azure см. в разделе [SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-server-iaas-overview.md) и hello [вопросы и ответы](virtual-machines-windows-sql-server-iaas-faq.md).</span><span class="sxs-lookup"><span data-stu-id="b9dd8-334">For other information about using SQL Server in Azure, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and hello [Frequently Asked Questions](virtual-machines-windows-sql-server-iaas-faq.md).</span></span>
