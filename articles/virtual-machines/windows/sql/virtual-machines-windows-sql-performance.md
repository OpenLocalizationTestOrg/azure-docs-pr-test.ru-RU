---
title: "aaaPerformance советы и рекомендации по SQL Server в Azure | Документы Microsoft"
description: "Содержит рекомендации по оптимизации производительности SQL Server в виртуальных машинах Microsoft Azure."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 42ec9fbeb2dec3a654b93bbd08d666369835ee73
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="c5412-103">Рекомендации по оптимизации производительности SQL Server в виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="c5412-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="c5412-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="c5412-104">Overview</span></span>

<span data-ttu-id="c5412-105">В этом разделе приведены рекомендации по оптимизации производительности SQL Server в виртуальной машине Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="c5412-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="c5412-106">Во время работы SQL Server в виртуальных машинах Azure, рекомендуется продолжать использовать hello же параметров производительности базы данных, применимых tooSQL сервер в локальной среде.</span><span class="sxs-lookup"><span data-stu-id="c5412-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using hello same database performance tuning options that are applicable tooSQL Server in on-premises server environment.</span></span> <span data-ttu-id="c5412-107">Однако производительность hello реляционной базы данных в общедоступном облаке зависит от многих факторов, таких как hello размер виртуальной машины и конфигурации hello hello дисков данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-107">However, hello performance of a relational database in a public cloud depends on many factors such as hello size of a virtual machine, and hello configuration of hello data disks.</span></span>

<span data-ttu-id="c5412-108">При создании образов SQL Server [рассмотрим, подготовки виртуальных машин в Azure portal hello](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="c5412-108">When creating SQL Server images, [consider provisioning your VMs in hello Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="c5412-109">Виртуальные машины SQL Server, подготовленный в hello портала с помощью диспетчера ресурсов реализовывать все эти рекомендации, включая настройку хранилища hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-109">SQL Server VMs provisioned in hello Portal with Resource Manager implement all these best practices, including hello storage configuration.</span></span>

<span data-ttu-id="c5412-110">В этой статье основное внимание уделено начало hello *наиболее* производительности для SQL Server на виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="c5412-110">This article is focused on getting hello *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="c5412-111">Если рабочая нагрузка не так велика, могут потребоваться не все перечисленные ниже оптимизации.</span><span class="sxs-lookup"><span data-stu-id="c5412-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="c5412-112">При оценке этих рекомендаций учитывайте актуальные потребности в производительности и характер рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="c5412-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="c5412-113">Краткий контрольный список</span><span class="sxs-lookup"><span data-stu-id="c5412-113">Quick check list</span></span>

<span data-ttu-id="c5412-114">Hello ниже приведен краткий контрольный список для обеспечения оптимальной производительности SQL Server на виртуальных машинах Azure:</span><span class="sxs-lookup"><span data-stu-id="c5412-114">hello following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="c5412-115">Область</span><span class="sxs-lookup"><span data-stu-id="c5412-115">Area</span></span> | <span data-ttu-id="c5412-116">Оптимизация</span><span class="sxs-lookup"><span data-stu-id="c5412-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="c5412-117">Размер виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="c5412-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="c5412-118">[DS3](../../virtual-machines-windows-sizes-memory.md) или выше для выпуска SQL Enterprise.</span><span class="sxs-lookup"><span data-stu-id="c5412-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="c5412-119">[DS2](../../virtual-machines-windows-sizes-memory.md) или выше для выпусков SQL Standard и Web Edition.</span><span class="sxs-lookup"><span data-stu-id="c5412-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="c5412-120">Хранилище</span><span class="sxs-lookup"><span data-stu-id="c5412-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="c5412-121">Используйте [хранилище класса Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="c5412-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="c5412-122">Стандартное хранилище рекомендуется использовать только для разработки и тестирования.</span><span class="sxs-lookup"><span data-stu-id="c5412-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="c5412-123">Сохранить hello [учетной записи хранилища](../../../storage/common/storage-create-storage-account.md) и VM SQL Server в hello одного региона.</span><span class="sxs-lookup"><span data-stu-id="c5412-123">Keep hello [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in hello same region.</span></span><br/><br/><span data-ttu-id="c5412-124">Отключить Azure [географически избыточное хранилище](../../../storage/common/storage-redundancy.md) (георепликация) в учетной записи хранения hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on hello storage account.</span></span> |
| [<span data-ttu-id="c5412-125">диски;</span><span class="sxs-lookup"><span data-stu-id="c5412-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="c5412-126">Используйте как минимум 2 [диска P30](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 для файлов журнала, 1 для файлов данных и TempDB).</span><span class="sxs-lookup"><span data-stu-id="c5412-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="c5412-127">Избегайте использования дисков операционной системы или временных дисков для хранения базы данных или журналов.</span><span class="sxs-lookup"><span data-stu-id="c5412-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="c5412-128">Включите кэширование чтения на дисках hello, размещение файлов данных hello и TempDB.</span><span class="sxs-lookup"><span data-stu-id="c5412-128">Enable read caching on hello disk(s) hosting hello data files and TempDB.</span></span><br/><br/><span data-ttu-id="c5412-129">Не включайте кэширование на дисках, размещение файла журнала hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-129">Do not enable caching on disk(s) hosting hello log file.</span></span><br/><br/><span data-ttu-id="c5412-130">Внимание: Остановка службы SQL Server hello, при изменении параметров кэша hello для диска виртуальной Машины Azure.</span><span class="sxs-lookup"><span data-stu-id="c5412-130">Important: Stop hello SQL Server service when changing hello cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="c5412-131">Чередовать несколько производительности ввода-ВЫВОДА tooget увеличить диски данных Azure.</span><span class="sxs-lookup"><span data-stu-id="c5412-131">Stripe multiple Azure data disks tooget increased IO throughput.</span></span><br/><br/><span data-ttu-id="c5412-132">Выполняйте форматирование с использованием задокументированных размеров кластеров.</span><span class="sxs-lookup"><span data-stu-id="c5412-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="c5412-133">ВВОД-ВЫВОД</span><span class="sxs-lookup"><span data-stu-id="c5412-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="c5412-134">Включите сжатие страниц базы данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="c5412-135">Включите быструю инициализацию для файлов данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="c5412-136">Ограничить или отключить авторасширение базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-136">Limit or disable autogrow on hello database.</span></span><br/><br/><span data-ttu-id="c5412-137">Отключите Автосжатие hello базы данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-137">Disable autoshrink on hello database.</span></span><br/><br/><span data-ttu-id="c5412-138">Переместите все диски toodata баз данных, включая системные базы данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-138">Move all databases toodata disks, including system databases.</span></span><br/><br/><span data-ttu-id="c5412-139">Перемещение SQL Server ошибка журнала и трассировки файла каталоги toodata дисков.</span><span class="sxs-lookup"><span data-stu-id="c5412-139">Move SQL Server error log and trace file directories toodata disks.</span></span><br/><br/><span data-ttu-id="c5412-140">Настройка расположений по умолчанию для файлов резервных копий и базы данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="c5412-141">Включите заблокированные страницы.</span><span class="sxs-lookup"><span data-stu-id="c5412-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="c5412-142">Примените исправления производительности SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c5412-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="c5412-143">Зависит от определенных функций</span><span class="sxs-lookup"><span data-stu-id="c5412-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="c5412-144">Резервное копирование непосредственно tooblob хранилища.</span><span class="sxs-lookup"><span data-stu-id="c5412-144">Back up directly tooblob storage.</span></span> |

<span data-ttu-id="c5412-145">Дополнительные сведения о *как* и *почему* toomake эти оптимизации см. в статье hello сведения и рекомендации, приведенные в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="c5412-145">For more information on *how* and *why* toomake these optimizations, please review hello details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="c5412-146">Рекомендации по выбору размеров виртуальных машин</span><span class="sxs-lookup"><span data-stu-id="c5412-146">VM size guidance</span></span>

<span data-ttu-id="c5412-147">Для уязвимых приложений производительности, рекомендуется использовать следующие hello [размеры виртуальных машин](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="c5412-147">For performance sensitive applications, it’s recommended that you use hello following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="c5412-148">**Выпуск SQL Server Enterprise**: DS3 или выше</span><span class="sxs-lookup"><span data-stu-id="c5412-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="c5412-149">**Выпуски SQL Server Standard и Web**: DS2 или выше</span><span class="sxs-lookup"><span data-stu-id="c5412-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="c5412-150">Рекомендации по выбору хранилища</span><span class="sxs-lookup"><span data-stu-id="c5412-150">Storage guidance</span></span>

<span data-ttu-id="c5412-151">Виртуальные машины серий DS, DSv2 и GS поддерживают [хранилище класса Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="c5412-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="c5412-152">Для всех производственных рабочих нагрузок рекомендуется хранилище класса Premium.</span><span class="sxs-lookup"><span data-stu-id="c5412-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="c5412-153">Стандартное хранилище характеризуется различными задержками и пропускной способностью и рекомендуется только для рабочих нагрузок по разработке и тестированию.</span><span class="sxs-lookup"><span data-stu-id="c5412-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="c5412-154">Для производственных рабочих нагрузок необходимо использовать хранилище класса Premium.</span><span class="sxs-lookup"><span data-stu-id="c5412-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="c5412-155">Кроме того, рекомендуется создать учетную запись хранения Azure в hello одного центра обработки данных, как в SQL Server виртуальной машины tooreduce задержки при передаче.</span><span class="sxs-lookup"><span data-stu-id="c5412-155">In addition, we recommend that you create your Azure storage account in hello same data center as your SQL Server virtual machines tooreduce transfer delays.</span></span> <span data-ttu-id="c5412-156">При создании учетной записи хранения отключите георепликацию, поскольку согласованный порядок записи на несколько дисков не гарантируется.</span><span class="sxs-lookup"><span data-stu-id="c5412-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="c5412-157">Вместо этого рекомендуется реализовать средства аварийного восстановления SQL Server между двумя центрами обработки данных Azure.</span><span class="sxs-lookup"><span data-stu-id="c5412-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="c5412-158">Дополнительные сведения см. в статье [Высокий уровень доступности и аварийное восстановление для SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="c5412-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="c5412-159">Рекомендации по использованию дисков</span><span class="sxs-lookup"><span data-stu-id="c5412-159">Disks guidance</span></span>

<span data-ttu-id="c5412-160">Виртуальная машина Azure поддерживает три основных типа дисков:</span><span class="sxs-lookup"><span data-stu-id="c5412-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="c5412-161">**Диск ОС**: при создании виртуальной машины Azure hello платформа подключает к ней по крайней мере один диск (с меткой hello **C** диска) toohello виртуальной Машины для диска операционной системы.</span><span class="sxs-lookup"><span data-stu-id="c5412-161">**OS disk**: When you create an Azure Virtual Machine, hello platform will attach at least one disk (labeled as hello **C** drive) toohello VM for your operating system disk.</span></span> <span data-ttu-id="c5412-162">Этот диск представляет собой VHD-файл, сохраненный как страничный BLOB-объект в хранилище.</span><span class="sxs-lookup"><span data-stu-id="c5412-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="c5412-163">**Временный диск**: виртуальные машины Azure содержит другой диск, называемый hello временный диск (с меткой hello **D**: диск).</span><span class="sxs-lookup"><span data-stu-id="c5412-163">**Temporary disk**: Azure Virtual Machines contain another disk called hello temporary disk (labeled as hello **D**: drive).</span></span> <span data-ttu-id="c5412-164">Это диск на узле hello, который может использоваться для области временных файлов.</span><span class="sxs-lookup"><span data-stu-id="c5412-164">This is a disk on hello node that can be used for scratch space.</span></span>
* <span data-ttu-id="c5412-165">**Диски с данными**: как диски данных можно также присоединить дополнительные диски tooyour виртуальной машины, и они будут храниться в хранилище как страничные большие двоичные объекты.</span><span class="sxs-lookup"><span data-stu-id="c5412-165">**Data disks**: You can also attach additional disks tooyour virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="c5412-166">Hello следующих разделах описаны рекомендации по использованию этих разных дисках.</span><span class="sxs-lookup"><span data-stu-id="c5412-166">hello following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="c5412-167">Диск операционной системы</span><span class="sxs-lookup"><span data-stu-id="c5412-167">Operating system disk</span></span>

<span data-ttu-id="c5412-168">Диск операционной системы — это виртуальный жесткий диск, который можно установить и использовать как диск с установленной операционной системой, данный диск имеет метку **C:** .</span><span class="sxs-lookup"><span data-stu-id="c5412-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="c5412-169">По умолчанию политика кэширования на диске операционной системы hello — **чтения и записи**.</span><span class="sxs-lookup"><span data-stu-id="c5412-169">Default caching policy on hello operating system disk is **Read/Write**.</span></span> <span data-ttu-id="c5412-170">Для уязвимых приложений производительности рекомендуется использовать диски данных вместо диска операционной системы hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-170">For performance sensitive applications, we recommend that you use data disks instead of hello operating system disk.</span></span> <span data-ttu-id="c5412-171">В разделе hello на дисках данных ниже.</span><span class="sxs-lookup"><span data-stu-id="c5412-171">See hello section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="c5412-172">Временный диск</span><span class="sxs-lookup"><span data-stu-id="c5412-172">Temporary disk</span></span>

<span data-ttu-id="c5412-173">Здравствуйте, диск временного хранилища, обозначенный как hello **D**: диска, не сохраненные tooAzure хранилища больших двоичных объектов.</span><span class="sxs-lookup"><span data-stu-id="c5412-173">hello temporary storage drive, labeled as hello **D**: drive, is not persisted tooAzure blob storage.</span></span> <span data-ttu-id="c5412-174">Не храните файлы базы данных пользователя или пользователя файлы журнала транзакций на hello **D**: диск.</span><span class="sxs-lookup"><span data-stu-id="c5412-174">Do not store your user database files or user transaction log files on hello **D**: drive.</span></span>

<span data-ttu-id="c5412-175">Для серии D, серии Dv2 и виртуальные машины серии G hello временный диск на этих виртуальных машин на основе SSD.</span><span class="sxs-lookup"><span data-stu-id="c5412-175">For D-series, Dv2-series, and G-series VMs, hello temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="c5412-176">Если рабочая нагрузка активно использует базы данных tempdb (например, для временных объектов или сложные соединения), хранение базы данных TempDB на hello **D** диск может привести к более высокую пропускную способность базы данных TempDB и более низкая задержка базы данных TempDB.</span><span class="sxs-lookup"><span data-stu-id="c5412-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on hello **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="c5412-177">Для виртуальных машин (серии D, Dv2 и G), которые поддерживают хранилище класса Premium, рекомендуется хранить базу данных TempDB на диске, поддерживающем хранилище класса Premium, с включенным кэшированием чтения.</span><span class="sxs-lookup"><span data-stu-id="c5412-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="c5412-178">Имеется одна рекомендация toothis исключение; Если использование базы данных TempDB много записи, можно добиться более высокой производительности путем сохранения базы данных TempDB на локальных hello **D** диск, который также на основе SSD на этих машинах размера.</span><span class="sxs-lookup"><span data-stu-id="c5412-178">There is one exception toothis recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on hello local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="c5412-179">Диски данных</span><span class="sxs-lookup"><span data-stu-id="c5412-179">Data disks</span></span>

* <span data-ttu-id="c5412-180">**Использовать диски данных для файлов данных и журналов**: как минимум, использование 2 хранилища Premium [P30 дисков](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) где один диск содержит файлы журнала hello, а другие hello hello данные и файлы базы данных TempDB.</span><span class="sxs-lookup"><span data-stu-id="c5412-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains hello log file(s) and hello other contains hello data and TempDB file(s).</span></span> <span data-ttu-id="c5412-181">Каждый диск хранилища Premium предоставляет ряд операций ввода-вывода и пропускную способность (МБ/с) в зависимости от его размера, как описано в следующей статьей hello: [с помощью хранилища Premium для дисков](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="c5412-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in hello following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="c5412-182">**Чередование дисков**: для повышения пропускной способности можно добавить дополнительные диски данных и использовать чередование дисков.</span><span class="sxs-lookup"><span data-stu-id="c5412-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="c5412-183">toodetermine hello число дисков данных, необходимо tooanalyze hello число операций ввода-ВЫВОДА и пропускной способности, необходимой для ваших файлов журнала, а для данных и файлов базы данных TempDB.</span><span class="sxs-lookup"><span data-stu-id="c5412-183">toodetermine hello number of data disks, you need tooanalyze hello number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="c5412-184">Обратите внимание, что различные размеры виртуальной Машины различные ограничения на число операций ввода-вывода и пропускной способности поддерживается hello см. в разделе hello таблиц на значениях IOP для [размер виртуальной Машины](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c5412-184">Notice that different VM sizes have different limits on hello number of IOPs and bandwidth supported, see hello tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="c5412-185">Hello используйте следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="c5412-185">Use hello following guidelines:</span></span>

  * <span data-ttu-id="c5412-186">Windows 8 и Windows Server 2012 или более поздней версии, используйте [дисковых пространств](https://technet.microsoft.com/library/hh831739.aspx) с hello, следование правилам:</span><span class="sxs-lookup"><span data-stu-id="c5412-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with hello following guidelines:</span></span>

      1. <span data-ttu-id="c5412-187">Набор hello чередовать (размер чередования) too64 КБ (65 536 байт) для рабочих нагрузок OLTP и 256 КБ (262144 байт) для хранения влияет на производительность рабочих нагрузок tooavoid из-за toopartition Рассогласование данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-187">Set hello interleave (stripe size) too64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads tooavoid performance impact due toopartition misalignment.</span></span> <span data-ttu-id="c5412-188">Это следует сделать в PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c5412-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="c5412-189">Задайте число столбцов равным количеству физических дисков.</span><span class="sxs-lookup"><span data-stu-id="c5412-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="c5412-190">Используйте PowerShell (не пользовательский интерфейс диспетчера сервера) при настройке более 8 дисков.</span><span class="sxs-lookup"><span data-stu-id="c5412-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="c5412-191">Например, следующая PowerShell hello создает новый пул носителей с hello чередовать размер too64 КБ и hello число too2 столбцы:</span><span class="sxs-lookup"><span data-stu-id="c5412-191">For example, hello following PowerShell creates a new storage pool with hello interleave size too64 KB and hello number of columns too2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="c5412-192">Для Windows 2008 R2 или более ранней версии можно воспользоваться динамическими дисками (чередующимися томами операционной системы) и размер чередования hello всегда составляет 64 КБ.</span><span class="sxs-lookup"><span data-stu-id="c5412-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and hello stripe size is always 64 KB.</span></span> <span data-ttu-id="c5412-193">Обратите внимание, что эта возможность не поддерживается в Windows 8 и Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="c5412-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="c5412-194">Сведения см. заявление о поддержке hello в [службу виртуальных дисков находится в состоянии перехода tooWindows API управления хранилищами](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5412-194">For information, see hello support statement at [Virtual Disk Service is transitioning tooWindows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="c5412-195">Если рабочая нагрузка не слишком активно использует функции ведения журнала и не требует выделенного числа операций ввода-вывода в секунду, можно настроить только один пул носителей.</span><span class="sxs-lookup"><span data-stu-id="c5412-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="c5412-196">В противном случае можно создайте два пула носителей, один для файлов журнала hello и другим пулом носителей для файлов данных hello и TempDB.</span><span class="sxs-lookup"><span data-stu-id="c5412-196">Otherwise, create two storage pools, one for hello log file(s) and another storage pool for hello data file(s) and TempDB.</span></span> <span data-ttu-id="c5412-197">Определите hello количество дисков, связанных с каждого пула носителей, в зависимости от нагрузки ожиданиям.</span><span class="sxs-lookup"><span data-stu-id="c5412-197">Determine hello number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="c5412-198">Помните, что в разных размерах виртуальной машины можно подключать различное число дисков данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="c5412-199">Дополнительные сведения см. в статье [Размеры виртуальных машин в Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c5412-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="c5412-200">Если вы не используете хранилище Premium (сценариев разработки и тестирования), hello рекомендуется tooadd hello максимальное число дисков данных, поддерживаемых вашей [размер виртуальной Машины](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) и используйте чередование дисков.</span><span class="sxs-lookup"><span data-stu-id="c5412-200">If you are not using Premium Storage (dev/test scenarios), hello recommendation is tooadd hello maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="c5412-201">**Политика кэширования**: дисков с данными для хранения Premium кэширование чтения на дисках данных hello только размещение файлов данных и базы данных TempDB.</span><span class="sxs-lookup"><span data-stu-id="c5412-201">**Caching policy**: For Premium Storage data disks, enable read caching on hello data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="c5412-202">Если хранилище класса Premium не используется, не включайте кэширование ни для каких дисков данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="c5412-203">Инструкции по настройке кэширования диска, см. в разделе hello следующие вопросы: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) и [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5412-203">For instructions on configuring disk caching, see hello following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="c5412-204">Остановка службы SQL Server hello, при изменении параметра кэша hello дисков виртуальной Машины Azure tooavoid вероятность hello повреждений базы данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-204">Stop hello SQL Server service when changing hello cache setting of Azure VM disks tooavoid hello possibility of any database corruption.</span></span>

* <span data-ttu-id="c5412-205">**Размер единицы размещения NTFS**: при форматировании диска данных hello, рекомендуется использовать размер 64 КБ для файлов данных и журналов, а также базы данных TempDB.</span><span class="sxs-lookup"><span data-stu-id="c5412-205">**NTFS allocation unit size**: When formatting hello data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="c5412-206">**Диск рекомендаций по управлению**: при удалении диска данных или изменения своего кэша типа, остановка службы SQL Server hello во время изменения hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop hello SQL Server service during hello change.</span></span> <span data-ttu-id="c5412-207">При наличии параметров кэширования hello изменен на диске ОС hello Azure останавливает hello виртуальной Машины, изменяется тип кэша hello и перезапускает hello виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="c5412-207">When hello caching settings are changed on hello OS disk, Azure stops hello VM, changes hello cache type, and restarts hello VM.</span></span> <span data-ttu-id="c5412-208">При изменении параметров кэша hello диска данных виртуальной Машины hello не остановлен, но отсоединен от hello виртуальной Машины во время hello, изменить, а затем снова присоединить диск данных hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-208">When hello cache settings of a data disk are changed, hello VM is not stopped, but hello data disk is detached from hello VM during hello change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="c5412-209">Hello toostop сбой службы SQL Server во время таких операций могут привести к повреждению базы данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-209">Failure toostop hello SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="c5412-210">Рекомендации по использованию операций ввода-вывода</span><span class="sxs-lookup"><span data-stu-id="c5412-210">I/O guidance</span></span>

* <span data-ttu-id="c5412-211">Hello наилучший результат при использовании хранилища Premium достигается при параллелизации приложений и запросов.</span><span class="sxs-lookup"><span data-stu-id="c5412-211">hello best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="c5412-212">Хранилище Premium предназначена для сценариев, где hello глубина очереди ввода-ВЫВОДА больше 1, поэтому она почти или совсем не выигрыш в производительности для однопоточных последовательных запросов (даже если они являются большим объемом хранилища).</span><span class="sxs-lookup"><span data-stu-id="c5412-212">Premium Storage is designed for scenarios where hello IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="c5412-213">Например это могло повлиять на результаты теста, однопоточных hello средств анализа производительности, такие как SQLIO.</span><span class="sxs-lookup"><span data-stu-id="c5412-213">For example, this could impact hello single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="c5412-214">Рекомендуется использовать [сжатие страниц базы данных](https://msdn.microsoft.com/library/cc280449.aspx) , так как это позволяет повысить производительность рабочих нагрузок с большим объемом операций ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="c5412-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="c5412-215">Однако сжатие данных hello может увеличить hello потребление ресурсов ЦП на сервере базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-215">However, hello data compression might increase hello CPU consumption on hello database server.</span></span>

* <span data-ttu-id="c5412-216">Рассмотрите возможность включения hello Мгновенная инициализация tooreduce время, необходимое для начального выделения файлов.</span><span class="sxs-lookup"><span data-stu-id="c5412-216">Consider enabling instant file initialization tooreduce hello time that is required for initial file allocation.</span></span> <span data-ttu-id="c5412-217">преимущества tootake быстрой инициализацией файлов, предоставьте учетной записи службы SQL Server (MSSQLSERVER) hello с SE_MANAGE_VOLUME_NAME и добавить его toohello **выполнение задач обслуживания тома** политики безопасности.</span><span class="sxs-lookup"><span data-stu-id="c5412-217">tootake advantage of instant file initialization, you grant hello SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="c5412-218">Если вы используете образ платформы SQL Server для Azure, учетная запись службы по умолчанию hello (NT Service\MSSQLSERVER) не добавляется toohello **выполнение задач обслуживания тома** политики безопасности.</span><span class="sxs-lookup"><span data-stu-id="c5412-218">If you are using a SQL Server platform image for Azure, hello default service account (NT Service\MSSQLSERVER) isn’t added toohello **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="c5412-219">Другими словами, быстрая инициализация файлов в образе платформы SQL Server Azure не включена.</span><span class="sxs-lookup"><span data-stu-id="c5412-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="c5412-220">После добавления toohello учетной записи службы SQL Server hello **выполнение задач обслуживания тома** политику безопасности, перезапуск службы SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-220">After adding hello SQL Server service account toohello **Perform Volume Maintenance Tasks** security policy, restart hello SQL Server service.</span></span> <span data-ttu-id="c5412-221">Использование этой функции может быть показано из соображений безопасности.</span><span class="sxs-lookup"><span data-stu-id="c5412-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="c5412-222">Дополнительные сведения см. в статье [Мгновенная инициализация файлов базы данных](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5412-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="c5412-223">**автоматическое увеличение** считается toobe лишь предупредительной мерой на случай непредвиденного роста.</span><span class="sxs-lookup"><span data-stu-id="c5412-223">**autogrow** is considered toobe merely a contingency for unexpected growth.</span></span> <span data-ttu-id="c5412-224">Не используйте авторасширение для повседневного управления ростом данных и журналов.</span><span class="sxs-lookup"><span data-stu-id="c5412-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="c5412-225">Если используется авторасширение, предварительно увеличьте размер файла hello, с помощью переключателя размер hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-225">If autogrow is used, pre-grow hello file using hello Size switch.</span></span>

* <span data-ttu-id="c5412-226">Убедитесь, что **autoshrink** — отключено tooavoid ненужных затрат, которые могут отрицательно повлиять на производительность.</span><span class="sxs-lookup"><span data-stu-id="c5412-226">Make sure **autoshrink** is disabled tooavoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="c5412-227">Переместите все диски toodata баз данных, включая системные базы данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-227">Move all databases toodata disks, including system databases.</span></span> <span data-ttu-id="c5412-228">Дополнительные сведения см. в статье [Перемещение системных баз данных](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5412-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="c5412-229">Перемещение SQL Server ошибка журнала и трассировки файла каталоги toodata дисков.</span><span class="sxs-lookup"><span data-stu-id="c5412-229">Move SQL Server error log and trace file directories toodata disks.</span></span> <span data-ttu-id="c5412-230">Для этого в диспетчере конфигурации SQL Server щелкните правой кнопкой мыши свой экземпляр SQL Server и выберите пункт "Свойства".</span><span class="sxs-lookup"><span data-stu-id="c5412-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="c5412-231">Hello ошибка параметры файла журнала и трассировки можно изменить в hello **параметры запуска** вкладку hello в hello указан каталог дампа **Дополнительно** вкладку hello следующий снимок экрана показано, где toolook для параметр запуска журнала ошибок Hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-231">hello error log and trace file settings can be changed in hello **Startup Parameters** tab. hello Dump Directory is specified in hello **Advanced** tab. hello following screenshot shows where toolook for hello error log startup parameter.</span></span>

    ![Снимок экрана SQL ErrorLog](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="c5412-233">Настройка расположений по умолчанию для файлов резервных копий и базы данных.</span><span class="sxs-lookup"><span data-stu-id="c5412-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="c5412-234">Используйте hello рекомендации в этом разделе и внесите изменения hello в окне свойств сервера hello.</span><span class="sxs-lookup"><span data-stu-id="c5412-234">Use hello recommendations in this topic, and make hello changes in hello Server properties window.</span></span> <span data-ttu-id="c5412-235">Инструкции см. в разделе [hello Просмотр или изменение расположения по умолчанию для файлов данных и журналов (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5412-235">For instructions, see [View or Change hello Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="c5412-236">Hello следующем снимке экрана показано, как toomake эти изменения.</span><span class="sxs-lookup"><span data-stu-id="c5412-236">hello following screenshot demonstrates where toomake these changes.</span></span>

    ![Файлы журнала данных SQL и резервных копий](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="c5412-238">Включить блокировки страниц tooreduce операции ввода-ВЫВОДА, а также все действия разбиения на страницы.</span><span class="sxs-lookup"><span data-stu-id="c5412-238">Enable locked pages tooreduce IO and any paging activities.</span></span> <span data-ttu-id="c5412-239">Дополнительные сведения см. в разделе [включить hello блокировка страниц в памяти (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5412-239">For more information, see [Enable hello Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="c5412-240">Если вы используете SQL Server 2012, установите накопительный пакет обновления 10 для пакета обновления 1.</span><span class="sxs-lookup"><span data-stu-id="c5412-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="c5412-241">Это обновление содержит исправление hello низкой производительности ввода-вывода при выборке во временные таблицы в SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="c5412-241">This update contains hello fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="c5412-242">Дополнительные сведения см. в этой [статье базы знаний](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="c5412-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="c5412-243">Рекомендуется сжимать файлы данных при их передаче в среду Azure и из нее.</span><span class="sxs-lookup"><span data-stu-id="c5412-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="c5412-244">Рекомендации по использованию определенных функций </span><span class="sxs-lookup"><span data-stu-id="c5412-244">Feature specific guidance</span></span>

<span data-ttu-id="c5412-245">Для некоторых развертываний получить дополнительные преимущества, используя более сложные методики настройки.</span><span class="sxs-lookup"><span data-stu-id="c5412-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="c5412-246">Hello следующем списке перечислены некоторые функции SQL Server, которые могут помочь повысить производительность tooachieve:</span><span class="sxs-lookup"><span data-stu-id="c5412-246">hello following list highlights some SQL Server features that can help you tooachieve better performance:</span></span>

* <span data-ttu-id="c5412-247">**Создать резервную копию хранилища tooAzure**: при выполнении резервного копирования для SQL Server на виртуальных машинах Azure, можно использовать [tooURL резервного копирования SQL Server](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5412-247">**Backup tooAzure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="c5412-248">Эта функция доступна начиная с SQL Server 2012 SP1 CU2 и рекомендуется для резервного копирования toohello присоединенные диски с данными.</span><span class="sxs-lookup"><span data-stu-id="c5412-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up toohello attached data disks.</span></span> <span data-ttu-id="c5412-249">Когда вы резервного копирования и восстановления из хранилища Azure, выполните hello рекомендации, приведенные в [резервного копирования SQL Server tooURL рекомендации и устранение неполадок и восстановлении из резервных копий в хранилище Azure](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="c5412-249">When you backup/restore to/from Azure storage, follow hello recommendations provided at [SQL Server Backup tooURL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="c5412-250">Кроме того, можно автоматизировать эти процессы архивации с помощью [автоматической архивации SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="c5412-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="c5412-251">Предыдущий tooSQL Server 2012, можно использовать [tooAzure резервного копирования SQL Server средство](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="c5412-251">Prior tooSQL Server 2012, you can use [SQL Server Backup tooAzure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="c5412-252">Это средство может помочь tooincrease пропускная способность резервного копирования с использованием нескольких чередующихся целей резервного копирования.</span><span class="sxs-lookup"><span data-stu-id="c5412-252">This tool can help tooincrease backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="c5412-253">**Файлы данных SQL Server в Azure**: эта новая функция [Файлы данных SQL Server в Azure](https://msdn.microsoft.com/library/dn385720.aspx)доступна, начиная с SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="c5412-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="c5412-254">Выполнение SQL Server с файлами данных в Azure демонстрирует уровень производительности, сравнимый с использованием дисков данных Azure.</span><span class="sxs-lookup"><span data-stu-id="c5412-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c5412-255">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="c5412-255">Next Steps</span></span>

<span data-ttu-id="c5412-256">Рекомендации по безопасности см. в статье [Вопросы безопасности SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="c5412-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="c5412-257">Просмотрите другие разделы, посвященные виртуальным машинам SQL Server, в статье [Приступая к работе с SQL Server в виртуальных машинах Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c5412-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
