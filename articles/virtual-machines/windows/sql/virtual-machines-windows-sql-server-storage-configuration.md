---
title: "aaaStorage конфигурацию для виртуальных машин SQL Server | Документы Microsoft"
description: "В этой статье описывается процесс настройки хранилища для виртуальных машин SQL Server на портале Azure во время подготовки (модель развертывания с помощью Resource Manager). Здесь также описывается настройка хранилища для имеющихся виртуальных машин SQL Server."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: b50dbd698828780cfc044fa0966e8f4e2f3bb6c6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="dd2cc-104">Настройка хранилища для виртуальных машин SQL Server</span><span class="sxs-lookup"><span data-stu-id="dd2cc-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="dd2cc-105">При настройке образ виртуальной машины SQL Server в Azure, портал hello помогает tooautomate конфигурацию хранилища.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-105">When you configure a SQL Server virtual machine image in Azure, hello Portal helps tooautomate your storage configuration.</span></span> <span data-ttu-id="dd2cc-106">Сюда входят присоединение toohello хранилища виртуальной Машины, выполняете, tooSQL доступного хранилища сервера и его настройки toooptimize для требований к производительности.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-106">This includes attaching storage toohello VM, making that storage accessible tooSQL Server, and configuring it toooptimize for your specific performance requirements.</span></span>

<span data-ttu-id="dd2cc-107">В этой статье описывается процесс настройки хранилища для подготавливаемых и уже имеющихся виртуальных машин SQL Server на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="dd2cc-108">Эта конфигурация зависит от hello [рекомендации по производительности](virtual-machines-windows-sql-performance.md) для виртуальных машин Azure с SQL Server.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-108">This configuration is based on hello [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="dd2cc-109">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="dd2cc-109">Prerequisites</span></span>
<span data-ttu-id="dd2cc-110">toouse hello автоматической настройки конфигурации хранилища, к виртуальной машине требуется hello следующие характеристики:</span><span class="sxs-lookup"><span data-stu-id="dd2cc-110">toouse hello automated storage configuration settings, your virtual machine requires hello following characteristics:</span></span>

* <span data-ttu-id="dd2cc-111">быть подготовлена с помощью [коллекции образов SQL Server](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing);</span><span class="sxs-lookup"><span data-stu-id="dd2cc-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="dd2cc-112">Использует hello [модели развертывания диспетчера ресурсов](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="dd2cc-112">Uses hello [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="dd2cc-113">использовать [хранилище класса Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="dd2cc-113">Uses [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="dd2cc-114">Новые виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="dd2cc-114">New VMs</span></span>
<span data-ttu-id="dd2cc-115">Hello ниже описано, как tooconfigure хранилища для новых виртуальных машин SQL Server.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-115">hello following sections describe how tooconfigure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="dd2cc-116">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="dd2cc-116">Azure Portal</span></span>
<span data-ttu-id="dd2cc-117">При подготовке виртуальной Машины Azure с помощью образа коллекции SQL Server, вы можете tooautomatically Настройка hello хранилища для новой виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose tooautomatically configure hello storage for your new VM.</span></span> <span data-ttu-id="dd2cc-118">Укажите размер хранилища hello, ограничения производительности и тип рабочей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-118">You specify hello storage size, performance limits, and workload type.</span></span> <span data-ttu-id="dd2cc-119">Hello следующем снимке экрана показано hello хранилища конфигурации колонки, использованной для виртуальной Машины SQL подготовки.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-119">hello following screenshot shows hello Storage configuration blade used during SQL VM provisioning.</span></span>

![Настройка хранилища для виртуальной машины SQL Server во время подготовки](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="dd2cc-121">На основе ваших ответов, Azure выполняет следующие задачи настройки хранилища после создания виртуальной Машины hello hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-121">Based on your choices, Azure performs hello following storage configuration tasks after creating hello VM:</span></span>

* <span data-ttu-id="dd2cc-122">Создает и присоединяет виртуальная машина toohello диски premium хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-122">Creates and attaches premium storage data disks toohello virtual machine.</span></span>
* <span data-ttu-id="dd2cc-123">Настраивает hello данных дисков toobe доступен tooSQL сервера.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-123">Configures hello data disks toobe accessible tooSQL Server.</span></span>
* <span data-ttu-id="dd2cc-124">Настраивает hello диски с данными в хранилище пула на основании hello указанный размер и производительность требования (операции ввода-ВЫВОДА и пропускной способности).</span><span class="sxs-lookup"><span data-stu-id="dd2cc-124">Configures hello data disks into a storage pool based on hello specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="dd2cc-125">Пул носителей hello связывает с нового диска на виртуальной машине hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-125">Associates hello storage pool with a new drive on hello virtual machine.</span></span>
* <span data-ttu-id="dd2cc-126">оптимизирует этот диск в зависимости от указанного типа рабочей нагрузки ("Хранилище данных", "Обработка транзакций" или "Общая").</span><span class="sxs-lookup"><span data-stu-id="dd2cc-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="dd2cc-127">Для получения сведений о том, как Azure настраивает параметры хранения в разделе hello [раздел конфигурации хранилища](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="dd2cc-127">For further details on how Azure configures storage settings, see hello [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="dd2cc-128">Полное Пошаговое руководство по toocreate ВМ SQL Server в hello портала Azure. в статье [hello подготовки учебника](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="dd2cc-128">For a full walkthrough of how toocreate a SQL Server VM in hello Azure Portal, see [hello provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="dd2cc-129">Шаблоны Resource Manager</span><span class="sxs-lookup"><span data-stu-id="dd2cc-129">Resource Manage templates</span></span>
<span data-ttu-id="dd2cc-130">При использовании hello следующие шаблоны диспетчера ресурсов, по умолчанию без настройки пула носителей подключены два диски данных premium.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-130">If you use hello following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="dd2cc-131">Тем не менее можно настроить эти шаблоны toochange hello число дисков данных premium, вложенные toohello виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-131">However, you can customize these templates toochange hello number of premium data disks that are attached toohello virtual machine.</span></span>

* [<span data-ttu-id="dd2cc-132">Создание виртуальной машины с поддержкой автоматической архивации</span><span class="sxs-lookup"><span data-stu-id="dd2cc-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="dd2cc-133">Создание виртуальной машины с автоматической установкой исправлений</span><span class="sxs-lookup"><span data-stu-id="dd2cc-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="dd2cc-134">Создание виртуальной машины с интеграцией AKV</span><span class="sxs-lookup"><span data-stu-id="dd2cc-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="dd2cc-135">Существующие виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="dd2cc-135">Existing VMs</span></span>
<span data-ttu-id="dd2cc-136">Для существующих виртуальных машин SQL Server можно изменить некоторые параметры хранения hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-136">For existing SQL Server VMs, you can modify some storage settings in hello Azure portal.</span></span> <span data-ttu-id="dd2cc-137">Выберите виртуальную Машину, перейти toohello области параметров, а затем выберите конфигурация SQL Server.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-137">Select your VM, go toohello Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="dd2cc-138">Hello колонке конфигурации SQL Server показывает hello текущее использование памяти виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-138">hello SQL Server Configuration blade shows hello current storage usage of your VM.</span></span> <span data-ttu-id="dd2cc-139">На этой диаграмме отображаются все диски, подключенные к виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="dd2cc-140">Для каждого диска место хранения hello отображается в четырех разделах:</span><span class="sxs-lookup"><span data-stu-id="dd2cc-140">For each drive, hello storage space displays in four sections:</span></span>

* <span data-ttu-id="dd2cc-141">данные SQL;</span><span class="sxs-lookup"><span data-stu-id="dd2cc-141">SQL data</span></span>
* <span data-ttu-id="dd2cc-142">журнал SQL;</span><span class="sxs-lookup"><span data-stu-id="dd2cc-142">SQL log</span></span>
* <span data-ttu-id="dd2cc-143">прочее (не хранилище SQL);</span><span class="sxs-lookup"><span data-stu-id="dd2cc-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="dd2cc-144">Доступна</span><span class="sxs-lookup"><span data-stu-id="dd2cc-144">Available</span></span>

![Настройка хранилища для имеющейся виртуальной машины SQL Server](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="dd2cc-146">tooconfigure hello хранилища tooadd новый диск или расширить существующий диск, щелкните ссылку "Изменить" hello над диаграммой hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-146">tooconfigure hello storage tooadd a new drive or extend an existing drive, click hello Edit link above hello chart.</span></span>

<span data-ttu-id="dd2cc-147">параметры конфигурации Hello, которые вы видите зависит от использовали эту функцию перед.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-147">hello configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="dd2cc-148">При использовании для hello первый раз, можно указать требования к хранилищу для нового диска.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-148">When using for hello first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="dd2cc-149">Если ранее использовался этот компонент toocreate диска, вы можете tooextend хранилища этот диск.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-149">If you previously used this feature toocreate a drive, you can choose tooextend that drive’s storage.</span></span>

### <a name="use-for-hello-first-time"></a><span data-ttu-id="dd2cc-150">Используйте для hello первый раз</span><span class="sxs-lookup"><span data-stu-id="dd2cc-150">Use for hello first time</span></span>
<span data-ttu-id="dd2cc-151">Если это первый раз с помощью этой функции, можно указать hello ограничения размера и производительность хранилища для нового диска.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-151">If it is your first time using this feature, you can specify hello storage size and performance limits for a new drive.</span></span> <span data-ttu-id="dd2cc-152">Такая ситуация аналогичные toowhat отображаемые во время подготовки.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-152">This experience is similar toowhat you would see at provisioning time.</span></span> <span data-ttu-id="dd2cc-153">Основное отличие Hello — не допускаются тип рабочей нагрузки toospecify hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-153">hello main difference is that you are not permitted toospecify hello workload type.</span></span> <span data-ttu-id="dd2cc-154">Это ограничение предотвращает нарушения все существующие конфигурации SQL Server на виртуальной машине hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-154">This restriction prevents disrupting any existing SQL Server configurations on hello virtual machine.</span></span>

![Ползунки настройки хранилища для SQL Server](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="dd2cc-156">Azure создает диск на основе ваших параметров.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="dd2cc-157">В этом случае Azure выполняет следующие задачи настройки хранилища hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-157">In this scenario, Azure performs hello following storage configuration tasks:</span></span>

* <span data-ttu-id="dd2cc-158">Создает и присоединяет виртуальная машина toohello диски premium хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-158">Creates and attaches premium storage data disks toohello virtual machine.</span></span>
* <span data-ttu-id="dd2cc-159">Настраивает hello данных дисков toobe доступен tooSQL сервера.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-159">Configures hello data disks toobe accessible tooSQL Server.</span></span>
* <span data-ttu-id="dd2cc-160">Настраивает hello диски с данными в хранилище пула на основании hello указанный размер и производительность требования (операции ввода-ВЫВОДА и пропускной способности).</span><span class="sxs-lookup"><span data-stu-id="dd2cc-160">Configures hello data disks into a storage pool based on hello specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="dd2cc-161">Пул носителей hello связывает с нового диска на виртуальной машине hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-161">Associates hello storage pool with a new drive on hello virtual machine.</span></span>

<span data-ttu-id="dd2cc-162">Для получения сведений о том, как Azure настраивает параметры хранения в разделе hello [раздел конфигурации хранилища](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="dd2cc-162">For further details on how Azure configures storage settings, see hello [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="dd2cc-163">Добавление нового диска</span><span class="sxs-lookup"><span data-stu-id="dd2cc-163">Add a new drive</span></span>
<span data-ttu-id="dd2cc-164">Если хранилище на виртуальной машине SQL Server уже настроено, появится два параметра, позволяющие его расширить.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="dd2cc-165">Первый параметр Hello – tooadd новый диск, что может повысить уровень производительности hello вашей виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-165">hello first option is tooadd a new drive, which can increase hello performance level of your VM.</span></span>

![Добавить новый tooa диска виртуальной Машины SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="dd2cc-167">Однако после добавления hello диска, необходимо выполнить некоторое повышение производительности hello tooachieve лишние Ручная настройка.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-167">However, after adding hello drive, you must perform some extra manual configuration tooachieve hello performance increase.</span></span>

### <a name="extend-hello-drive"></a><span data-ttu-id="dd2cc-168">Расширьте диск hello</span><span class="sxs-lookup"><span data-stu-id="dd2cc-168">Extend hello drive</span></span>
<span data-ttu-id="dd2cc-169">Hello другие возможность расширить хранилище-tooextend hello существующего диска.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-169">hello other option for expanding storage is tooextend hello existing drive.</span></span> <span data-ttu-id="dd2cc-170">Данный параметр увеличивает hello доступное хранилище для диска, но не повышает производительность.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-170">This option increases hello available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="dd2cc-171">Пулы носителей невозможно изменить hello число столбцов, после создания пула носителей hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-171">With storage pools, you cannot alter hello number of columns after hello storage pool is created.</span></span> <span data-ttu-id="dd2cc-172">Hello число столбцов определяет число параллельных записей, которые можно Расслоение дисков данных hello в hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-172">hello number of columns determines hello number of parallel writes, which can be striped across hello data disks.</span></span> <span data-ttu-id="dd2cc-173">Поэтому добавление дисков данных не поможет вам повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="dd2cc-174">Они могут только выделить дополнительное хранилище для записываемых данных hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-174">They can only provide more storage for hello data being written.</span></span> <span data-ttu-id="dd2cc-175">Это ограничение также означает, что, при расширении диска hello, количество столбцов в hello определяет hello минимальное число дисков данных, которые можно добавить.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-175">This limitation also means that, when extending hello drive, hello number of columns determines hello minimum number of data disks that you can add.</span></span> <span data-ttu-id="dd2cc-176">Поэтому при создании пула носителей с дисками данных четыре hello количество столбцов не также 4.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-176">So if you create a storage pool with four data disks, hello number of columns is also four.</span></span> <span data-ttu-id="dd2cc-177">Каждый раз, когда расширить хранилище hello, необходимо добавить диски данных по крайней мере четыре.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-177">Any time you extend hello storage, you must add at least four data disks.</span></span>

![Расширения диска для виртуальной машины SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="dd2cc-179">Конфигурация хранилища</span><span class="sxs-lookup"><span data-stu-id="dd2cc-179">Storage configuration</span></span>
<span data-ttu-id="dd2cc-180">Этот раздел предоставляет справку для изменения конфигурации хранилища hello, Azure автоматически выполняет их во время подготовки виртуальной Машины SQL или конфигурации hello портала Azure.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-180">This section provides a reference for hello storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in hello Azure Portal.</span></span>

* <span data-ttu-id="dd2cc-181">Если для виртуальной машины выбрано хранилище объемом менее 2 ТБ, Azure не создает пул носителей,</span><span class="sxs-lookup"><span data-stu-id="dd2cc-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="dd2cc-182">а если 2 ТБ или больше — пул носителей создается.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="dd2cc-183">Hello следующий раздел в этом разделе подробно описаны hello hello конфигурацию пула носителей.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-183">hello next section of this topic provides hello details of hello storage pool configuration.</span></span>
* <span data-ttu-id="dd2cc-184">При автоматической настройке хранилища всегда используются диски данных P30 [хранилища класса Premium](../../../storage/common/storage-premium-storage.md) .</span><span class="sxs-lookup"><span data-stu-id="dd2cc-184">Automatic storage configuration always uses [premium storage](../../../storage/common/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="dd2cc-185">Следовательно имеется однозначное соответствие между вашей выбранное число терабайт и hello число дисков данных вложенных tooyour виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and hello number of data disks attached tooyour VM.</span></span>

<span data-ttu-id="dd2cc-186">Сведения о ценах см. в разделе hello [цены на хранилище](https://azure.microsoft.com/pricing/details/storage) страницы приветствия **дисковый накопитель** вкладки.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-186">For pricing information, see hello [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on hello **Disk Storage** tab.</span></span>

### <a name="creation-of-hello-storage-pool"></a><span data-ttu-id="dd2cc-187">Создание пула носителей hello</span><span class="sxs-lookup"><span data-stu-id="dd2cc-187">Creation of hello storage pool</span></span>
<span data-ttu-id="dd2cc-188">Azure использует hello после пула носителей hello toocreate параметры на виртуальные машины SQL Server.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-188">Azure uses hello following settings toocreate hello storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="dd2cc-189">Настройка</span><span class="sxs-lookup"><span data-stu-id="dd2cc-189">Setting</span></span> | <span data-ttu-id="dd2cc-190">Значение</span><span class="sxs-lookup"><span data-stu-id="dd2cc-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="dd2cc-191">Размер полосы</span><span class="sxs-lookup"><span data-stu-id="dd2cc-191">Stripe size</span></span> |<span data-ttu-id="dd2cc-192">256 КБ (хранение данных), 64 КБ (обработка транзакций)</span><span class="sxs-lookup"><span data-stu-id="dd2cc-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="dd2cc-193">Размеры диска</span><span class="sxs-lookup"><span data-stu-id="dd2cc-193">Disk sizes</span></span> |<span data-ttu-id="dd2cc-194">1 ТБ каждый</span><span class="sxs-lookup"><span data-stu-id="dd2cc-194">1 TB each</span></span> |
| <span data-ttu-id="dd2cc-195">Кэш</span><span class="sxs-lookup"><span data-stu-id="dd2cc-195">Cache</span></span> |<span data-ttu-id="dd2cc-196">чтение</span><span class="sxs-lookup"><span data-stu-id="dd2cc-196">Read</span></span> |
| <span data-ttu-id="dd2cc-197">Размер выделения</span><span class="sxs-lookup"><span data-stu-id="dd2cc-197">Allocation size</span></span> |<span data-ttu-id="dd2cc-198">Размер единицы выделения NTFS — 64 КБ</span><span class="sxs-lookup"><span data-stu-id="dd2cc-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="dd2cc-199">Мгновенная инициализация файлов</span><span class="sxs-lookup"><span data-stu-id="dd2cc-199">Instant file initialization</span></span> |<span data-ttu-id="dd2cc-200">Включено</span><span class="sxs-lookup"><span data-stu-id="dd2cc-200">Enabled</span></span> |
| <span data-ttu-id="dd2cc-201">Блокировка страниц в памяти</span><span class="sxs-lookup"><span data-stu-id="dd2cc-201">Lock pages in memory</span></span> |<span data-ttu-id="dd2cc-202">Включено</span><span class="sxs-lookup"><span data-stu-id="dd2cc-202">Enabled</span></span> |
| <span data-ttu-id="dd2cc-203">Восстановление</span><span class="sxs-lookup"><span data-stu-id="dd2cc-203">Recovery</span></span> |<span data-ttu-id="dd2cc-204">Простая модель восстановления (без устойчивости)</span><span class="sxs-lookup"><span data-stu-id="dd2cc-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="dd2cc-205">Количество столбцов</span><span class="sxs-lookup"><span data-stu-id="dd2cc-205">Number of columns</span></span> |<span data-ttu-id="dd2cc-206">Количество дисков данных<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="dd2cc-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="dd2cc-207">Расположение временной базы данных</span><span class="sxs-lookup"><span data-stu-id="dd2cc-207">TempDB location</span></span> |<span data-ttu-id="dd2cc-208">Хранится на дисках данных<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="dd2cc-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="dd2cc-209"><sup>1</sup> невозможно изменить после создания пула носителей hello hello число столбцов в пуле носителей hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-209"><sup>1</sup> After hello storage pool is created, you cannot alter hello number of columns in hello storage pool.</span></span>

<span data-ttu-id="dd2cc-210"><sup>2</sup> этот параметр применяется только первый диск toohello создается с помощью функции конфигурации хранилища hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-210"><sup>2</sup> This setting only applies toohello first drive you create using hello storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="dd2cc-211">Параметры оптимизации рабочей нагрузки</span><span class="sxs-lookup"><span data-stu-id="dd2cc-211">Workload optimization settings</span></span>
<span data-ttu-id="dd2cc-212">Hello следующей таблице описываются hello рабочей нагрузки тип доступны три варианта и их соответствующие оптимизации.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-212">hello following table describes hello three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="dd2cc-213">Тип рабочей нагрузки</span><span class="sxs-lookup"><span data-stu-id="dd2cc-213">Workload type</span></span> | <span data-ttu-id="dd2cc-214">Описание</span><span class="sxs-lookup"><span data-stu-id="dd2cc-214">Description</span></span> | <span data-ttu-id="dd2cc-215">Оптимизация</span><span class="sxs-lookup"><span data-stu-id="dd2cc-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="dd2cc-216">**Общие сведения**</span><span class="sxs-lookup"><span data-stu-id="dd2cc-216">**General**</span></span> |<span data-ttu-id="dd2cc-217">Значение по умолчанию, поддерживающее большинство рабочих нагрузок</span><span class="sxs-lookup"><span data-stu-id="dd2cc-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="dd2cc-218">None</span><span class="sxs-lookup"><span data-stu-id="dd2cc-218">None</span></span> |
| <span data-ttu-id="dd2cc-219">**Обработка транзакций**</span><span class="sxs-lookup"><span data-stu-id="dd2cc-219">**Transactional processing**</span></span> |<span data-ttu-id="dd2cc-220">Оптимизирует хранение hello для рабочих нагрузок OLTP традиционных баз данных</span><span class="sxs-lookup"><span data-stu-id="dd2cc-220">Optimizes hello storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="dd2cc-221">Флаг трассировки 1117</span><span class="sxs-lookup"><span data-stu-id="dd2cc-221">Trace Flag 1117</span></span><br/><span data-ttu-id="dd2cc-222">Флаг трассировки 1118</span><span class="sxs-lookup"><span data-stu-id="dd2cc-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="dd2cc-223">**Хранение данных**</span><span class="sxs-lookup"><span data-stu-id="dd2cc-223">**Data warehousing**</span></span> |<span data-ttu-id="dd2cc-224">Оптимизирует хранение hello для рабочих нагрузок аналитики и отчетности</span><span class="sxs-lookup"><span data-stu-id="dd2cc-224">Optimizes hello storage for analytic and reporting workloads</span></span> |<span data-ttu-id="dd2cc-225">Флаг трассировки 610</span><span class="sxs-lookup"><span data-stu-id="dd2cc-225">Trace Flag 610</span></span><br/><span data-ttu-id="dd2cc-226">Флаг трассировки 1117</span><span class="sxs-lookup"><span data-stu-id="dd2cc-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="dd2cc-227">Тип hello рабочей нагрузки можно указать только при подготовке виртуальной машины SQL, выбрав ее в шаг настройки хранилища hello.</span><span class="sxs-lookup"><span data-stu-id="dd2cc-227">You can only specify hello workload type when you provision a SQL virtual machine by selecting it in hello storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="dd2cc-228">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="dd2cc-228">Next steps</span></span>
<span data-ttu-id="dd2cc-229">Другие разделы, посвященные toorunning SQL Server в виртуальных машинах Azure, см. в разделе [SQL Server на виртуальных машинах Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="dd2cc-229">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
