---
title: "aaaPlanning для миграции IaaS ресурсов от классических tooAzure диспетчера ресурсов | Документы Microsoft"
description: "Планирование миграции IaaS ресурсов от классических tooAzure диспетчера ресурсов"
services: virtual-machines-windows
documentationcenter: 
author: singhkays
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 78492a2c-2694-4023-a7b8-c97d3708dcb7
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 04/01/2017
ms.author: kasing
ms.openlocfilehash: 7574122d951119db4991187945739b190ef14995
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="planning-for-migration-of-iaas-resources-from-classic-tooazure-resource-manager"></a><span data-ttu-id="a3cfd-103">Планирование миграции IaaS ресурсов от классических tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-103">Planning for migration of IaaS resources from classic tooAzure Resource Manager</span></span>
<span data-ttu-id="a3cfd-104">Хотя диспетчер ресурсов Azure предлагает множество функций прекрасных, это критическое tooplan out вашей toomake пути миграции, что безотказное.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-104">While Azure Resource Manager offers many amazing features, it is critical tooplan out your migration journey toomake sure things go smoothly.</span></span> <span data-ttu-id="a3cfd-105">Грамотное планирование позволит предотвратить возникновение ошибок при выполнении действий по переносу ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-105">Spending time on planning will ensure that you do not encounter issues while executing migration activities.</span></span>

> [!NOTE]
> <span data-ttu-id="a3cfd-106">следующие рекомендации Hello был сильно проецируемые tooby hello Azure Customer Advisory team и архитекторы облачного решения, работая с клиентами на перенос больших средах.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-106">hello following guidance was heavily contributed tooby hello Azure Customer Advisory team and Cloud Solution architects working with customers on migrating large environments.</span></span> <span data-ttu-id="a3cfd-107">Таким образом этот документ по-прежнему tooget обновлено, так как новый успеха выводов, поэтому проверьте обратно из toosee tootime времени при наличии каких-либо новых рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-107">As such this document will continue tooget updated as new patterns of success emerge, so check back from time tootime toosee if there are any new recommendations.</span></span>

<span data-ttu-id="a3cfd-108">Существует четыре этапа Общие пути миграции hello:</span><span class="sxs-lookup"><span data-stu-id="a3cfd-108">There are four general phases of hello migration journey:</span></span><br>

![Этапы переноса](../media/virtual-machines-windows-migration-classic-resource-manager/plan-labtest-migrate-beyond.png)

## <a name="plan"></a><span data-ttu-id="a3cfd-110">План</span><span class="sxs-lookup"><span data-stu-id="a3cfd-110">Plan</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="a3cfd-111">Технические вопросы и компромиссы</span><span class="sxs-lookup"><span data-stu-id="a3cfd-111">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="a3cfd-112">В зависимости от ваших размер технические требования, географических регионах и практику может потребоваться tooconsider:</span><span class="sxs-lookup"><span data-stu-id="a3cfd-112">Depending on your technical requirements size, geographies and operational practices, you might want tooconsider:</span></span>

1. <span data-ttu-id="a3cfd-113">Почему ваша организация хочет перейти на использование Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-113">Why is Azure Resource Manager desired for your organization?</span></span>  <span data-ttu-id="a3cfd-114">Что такое hello бизнес-причины перехода</span><span class="sxs-lookup"><span data-stu-id="a3cfd-114">What are hello business reasons for a migration?</span></span>
2. <span data-ttu-id="a3cfd-115">Что такое техническим причинам hello для диспетчера ресурсов Azure</span><span class="sxs-lookup"><span data-stu-id="a3cfd-115">What are hello technical reasons for Azure Resource Manager?</span></span>  <span data-ttu-id="a3cfd-116">Какие (если таковые имеются) дополнительных служб Azure следует как tooleverage?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-116">What (if any) additional Azure services would you like tooleverage?</span></span>
3. <span data-ttu-id="a3cfd-117">Какие приложения (или наборы виртуальных машин) включается в hello миграции?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-117">Which application (or sets of virtual machines) is included in hello migration?</span></span>
4. <span data-ttu-id="a3cfd-118">Какие сценарии поддерживаются с миграцией hello API?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-118">Which scenarios are supported with hello migration API?</span></span>  <span data-ttu-id="a3cfd-119">Просмотрите hello [неподдерживаемые функции и настройки](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-119">Review hello [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations).</span></span>
5. <span data-ttu-id="a3cfd-120">Поддерживают ли рабочие группы приложения и виртуальные машины в классической модели и модели Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-120">Will your operational teams now support applications/VMs in both Classic and Azure Resource Manager?</span></span>
6. <span data-ttu-id="a3cfd-121">Каким образом Azure Resource Manager изменяет процессы развертывания, администрирования, мониторинга виртуальной машины и отправки отчетов?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-121">How (if at all) does Azure Resource Manager change your VM deployment, management, monitoring, and reporting processes?</span></span>  <span data-ttu-id="a3cfd-122">Скрипты развертывания нужно обновить toobe?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-122">Do your deployment scripts need toobe updated?</span></span>
7. <span data-ttu-id="a3cfd-123">Что такое связь hello планирование tooalert заинтересованных лиц (конечных пользователей, владельцы приложений и владельцев инфраструктуры)?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-123">What is hello communications plan tooalert stakeholders (end users, application owners, and infrastructure owners)?</span></span>
8. <span data-ttu-id="a3cfd-124">В зависимости от сложности hello hello среды должно быть в течение периода обслуживания где приложения hello tooend недоступны пользователям и владельцам tooapplication?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-124">Depending on hello complexity of hello environment, should there be a maintenance period where hello application is unavailable tooend users and tooapplication owners?</span></span>  <span data-ttu-id="a3cfd-125">Если да, то как надолго?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-125">If so, for how long?</span></span>
9. <span data-ttu-id="a3cfd-126">Что такое заинтересованным tooensure план обучения hello знаниями и опытом использования диспетчера ресурсов Azure?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-126">What is hello training plan tooensure stakeholders are knowledgeable and proficient in Azure Resource Manager?</span></span>
10. <span data-ttu-id="a3cfd-127">Что такое управление программой hello или план проекта управления hello миграции?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-127">What is hello program management or project management plan for hello migration?</span></span>
11. <span data-ttu-id="a3cfd-128">Каковы hello временных шкалах для переноса диспетчера ресурсов Azure hello и другие связанные технологии дорожной карты?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-128">What are hello timelines for hello Azure Resource Manager migration and other related technology road maps?</span></span>  <span data-ttu-id="a3cfd-129">Согласованы ли они друг с другом оптимальным образом?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-129">Are they optimally aligned?</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="a3cfd-130">Рекомендации для удачного перемещения</span><span class="sxs-lookup"><span data-stu-id="a3cfd-130">Patterns of success</span></span>

<span data-ttu-id="a3cfd-131">Успешно клиенты имеют подробные планы, где hello этих вопросов, описанных и рассматриваются отношениям.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-131">Successful customers have detailed plans where hello preceding questions are discussed, documented and governed.</span></span>  <span data-ttu-id="a3cfd-132">Убедитесь, что планы миграции hello, широко известных toosponsors и заинтересованными лицами.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-132">Ensure hello migration plans are broadly communicated toosponsors and stakeholders.</span></span>  <span data-ttu-id="a3cfd-133">Чтобы получить представления о средствах и процедуре миграции, мы настоятельно рекомендуем изучить приведенные ниже руководства.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-133">Equip yourself with knowledge about your migration options; reading through this migration document set below is highly recommended.</span></span>

* [<span data-ttu-id="a3cfd-134">Общие сведения о миграции поддерживаются платформы IaaS ресурсов от классических tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-134">Overview of platform-supported migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-135">Технические близкое знакомство с платформа поддерживается перенос из классической tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-135">Technical deep dive on platform-supported migration from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-136">Планирование миграции IaaS ресурсов от классических tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-136">Planning for migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-plan.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-137">Использовать ресурсы IaaS PowerShell toomigrate из классической tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-137">Use PowerShell toomigrate IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-138">Использовать ресурсы IaaS toomigrate CLI из классической tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-138">Use CLI toomigrate IaaS resources from classic tooAzure Resource Manager</span></span>](../linux/migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-139">Средства сообщества соблюдения миграции IaaS ресурсов от классических tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-139">Community tools for assisting with migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-140">Распространенные ошибки миграции</span><span class="sxs-lookup"><span data-stu-id="a3cfd-140">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-141">Просмотрите hello наиболее часто задаваемые вопросы о миграции IaaS ресурсов от классических tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-141">Review hello most frequently asked questions about migrating IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)

### <a name="pitfalls-tooavoid"></a><span data-ttu-id="a3cfd-142">Tooavoid ловушек</span><span class="sxs-lookup"><span data-stu-id="a3cfd-142">Pitfalls tooavoid</span></span>

- <span data-ttu-id="a3cfd-143">Tooplan сбоя.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-143">Failure tooplan.</span></span>  <span data-ttu-id="a3cfd-144">Hello технологии шагов миграции проверенных и hello результат является предсказуемым.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-144">hello technology steps of this migration are proven and hello outcome is predictable.</span></span>
- <span data-ttu-id="a3cfd-145">Поскольку предполагается, что Здравствуйте, поддерживаемые платформой миграции API будет учетной записи для всех сценариев.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-145">Assumption that hello platform supported migration API will account for all scenarios.</span></span> <span data-ttu-id="a3cfd-146">Чтение hello [неподдерживаемые функции и настройки](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) toounderstand, какие сценарии поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-146">Read hello [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) toounderstand what scenarios are supported.</span></span>
- <span data-ttu-id="a3cfd-147">Отсутствие планирования потенциальных простоев в работе приложений для пользователей.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-147">Not planning potential application outage for end users.</span></span>  <span data-ttu-id="a3cfd-148">Планирование достаточно большого буфера tooadequately предупредить конечных пользователей времени приложения потенциально недоступен.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-148">Plan enough buffer tooadequately warn end users of potentially unavailable application time.</span></span>


## <a name="lab-test"></a><span data-ttu-id="a3cfd-149">Лабораторный анализ</span><span class="sxs-lookup"><span data-stu-id="a3cfd-149">Lab Test</span></span>

<span data-ttu-id="a3cfd-150">**Репликация среды и выполнение тестового переноса**</span><span class="sxs-lookup"><span data-stu-id="a3cfd-150">**Replicate your environment and do a test migration**</span></span>
  > [!NOTE]
  > <span data-ttu-id="a3cfd-151">Точная репликация существующей среды выполняется с помощью инструмента, предоставленного сообществом, который официально не поддерживается службой поддержки Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-151">Exact replication of your existing environment is executed by using a community-contributed tool which is not officially supported by Microsoft Support.</span></span> <span data-ttu-id="a3cfd-152">Таким образом, **необязательно** шаг, но она имеет hello лучшим способом toofind out проблемы, не работая непосредственно с вашей рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-152">Therefore, it is an **optional** step but it is hello best way toofind out issues without touching your production environments.</span></span> <span data-ttu-id="a3cfd-153">Если с помощью средства сообществом не подходит, затем прочитайте о hello ниже рекомендации пробного прогона проверки, подготовки и Abort.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-153">If using a community-contributed tool is not an option, then read about hello Validate/Prepare/Abort Dry Run recommendation below.</span></span>
  >

  <span data-ttu-id="a3cfd-154">Проведение лаборатории проверки для вашего сценария (вычислительных, сети и хранилища) — hello лучшим способом tooensure простую миграцию.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-154">Conducting a lab test of your exact scenario (compute, networking, and storage) is hello best way tooensure a smooth migration.</span></span> <span data-ttu-id="a3cfd-155">На этом этапе вы можете:</span><span class="sxs-lookup"><span data-stu-id="a3cfd-155">This will help ensure:</span></span>

  - <span data-ttu-id="a3cfd-156">Полностью отдельные лаборатории или существующих tootest нерабочей среде.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-156">A wholly separate lab or an existing non-production environment tootest.</span></span> <span data-ttu-id="a3cfd-157">Мы советуем использовать отдельную лабораторную среду, которую можно переместить несколько раз и разрушительно изменить.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-157">We recommend a wholly separate lab that can be migrated repeatedly and can be destructively modified.</span></span>  <span data-ttu-id="a3cfd-158">Ниже перечислены метаданных toocollect/hydrate сценарии из реальной подписок hello.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-158">Scripts toocollect/hydrate metadata from hello real subscriptions are listed below.</span></span>
  - <span data-ttu-id="a3cfd-159">Это лаборатории hello toocreate смысл в отдельную подписку.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-159">It's a good idea toocreate hello lab in a separate subscription.</span></span> <span data-ttu-id="a3cfd-160">Hello причина заключается в том, что hello лаборатории будет разрушен многократно и иметь отдельные, изолированной подписки позволяет снизить вероятность hello, что что-то реальный будут случайно удалены.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-160">hello reason is that hello lab will be torn down repeatedly, and having a separate, isolated subscription will reduce hello chance that something real will get accidentally deleted.</span></span>

  <span data-ttu-id="a3cfd-161">Это можно сделать с помощью средства AsmMetadataParser hello.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-161">This can be accomplished by using hello AsmMetadataParser tool.</span></span> <span data-ttu-id="a3cfd-162">См. дополнительные сведения о нем [здесь](https://github.com/Azure/classic-iaas-resourcemanager-migration/tree/master/AsmToArmMigrationApiToolset).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-162">[Read more about this tool here](https://github.com/Azure/classic-iaas-resourcemanager-migration/tree/master/AsmToArmMigrationApiToolset)</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="a3cfd-163">Рекомендации для удачного перемещения</span><span class="sxs-lookup"><span data-stu-id="a3cfd-163">Patterns of success</span></span>

<span data-ttu-id="a3cfd-164">следующие Hello были проблемы, обнаруженные во многих большего миграций hello.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-164">hello following were issues discovered in many of hello larger migrations.</span></span> <span data-ttu-id="a3cfd-165">Это не является исчерпывающим и должен указывать toohello [неподдерживаемые функции и настройки](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) для получения дополнительных сведений.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-165">This is not an exhaustive list and you should refer toohello [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) for more detail.</span></span>  <span data-ttu-id="a3cfd-166">Возможно, вы и не столкнетесь с этими техническими неполадками, но устранив их перед попыткой миграции, вы обеспечите плавный перенос ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-166">You may or may not encounter these technical issues but if you do solving these before attempting migration will ensure a smoother experience.</span></span>

- <span data-ttu-id="a3cfd-167">**Выполните пробного прогона проверки, подготовки или прерывание** -это, возможно, hello наиболее важных шага tooensure классический tooAzure диспетчера ресурсов успешной миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-167">**Do a Validate/Prepare/Abort Dry Run** -  This is perhaps hello most important step tooensure Classic tooAzure Resource Manager migration success.</span></span> <span data-ttu-id="a3cfd-168">Миграция Hello API имеет три основных этапа: проверка, Подготовка и фиксация.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-168">hello migration API has three main steps: Validate, Prepare and Commit.</span></span> <span data-ttu-id="a3cfd-169">Проверка будет считать состояния hello в классической среде и возвращают результат всех проблем.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-169">Validate will read hello state of your classic environment and return a result of all issues.</span></span> <span data-ttu-id="a3cfd-170">Тем не менее поскольку некоторые проблемы могут существовать в стеке диспетчера ресурсов Azure hello, проверка не будет перехватывать все данные.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-170">However, because some issues might exist in hello Azure Resource Manager stack, Validate will not catch everything.</span></span> <span data-ttu-id="a3cfd-171">Hello следующим шагом в процессе миграции, Подготовка служит для предоставления таких проблем.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-171">hello next step in migration process, Prepare will help expose those issues.</span></span> <span data-ttu-id="a3cfd-172">Подготовка будет переместить hello метаданные из tooAzure классический диспетчер ресурсов, но будет не фиксации hello перемещения и не удаляется и не изменять что-либо на hello классический стороне.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-172">Prepare will move hello metadata from Classic tooAzure Resource Manager, but will not commit hello move, and will not remove or change anything on hello Classic side.</span></span> <span data-ttu-id="a3cfd-173">Hello пробного прогона включает в себя Подготовка hello миграции, а затем прерывание (**не фиксируется**) подготовки миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-173">hello dry run involves preparing hello migration, then aborting (**not committing**) hello migration prepare.</span></span> <span data-ttu-id="a3cfd-174">Hello цель проверки/Подготовка/abort пробного прогона — toosee все метаданные hello в стеке диспетчера ресурсов Azure hello в исследовании (*программным способом или в портал*) и убедитесь, что все переносит правильно, а работать через технические вопросы.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-174">hello goal of validate/prepare/abort dry run is toosee all of hello metadata in hello Azure Resource Manager stack, examine it (*programmatically or in Portal*), and verify that everything migrates correctly, and work through technical issues.</span></span>  <span data-ttu-id="a3cfd-175">Таким образом вы также узнаете о продолжительности переноса, что позволит спланировать время простоя.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-175">It will also give you a sense of migration duration so you can plan for downtime accordingly.</span></span>  <span data-ttu-id="a3cfd-176">Проверить/Подготовка/abort не вызывает простоев пользователя; Таким образом он является tooapplication без нарушения их использования.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-176">A validate/prepare/abort does not cause any user downtime; therefore, it is non-disruptive tooapplication usage.</span></span>
  - <span data-ttu-id="a3cfd-177">следующие пункты Hello потребуется решить перед hello пробного прогона toobe, но тест пробного прогона спокойно будут удалены эти шаги подготовки, если они отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-177">hello items below will need toobe solved before hello dry run, but a dry run test will also safely flush out these preparation steps if they are missed.</span></span> <span data-ttu-id="a3cfd-178">Во время миграции enterprise обнаружили toobe пробного прогона hello переходу tooensure безопасный и очень полезным способом.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-178">During enterprise migration, we've found hello dry run toobe a safe and invaluable way tooensure migration readiness.</span></span>
  - <span data-ttu-id="a3cfd-179">Когда Подготовка выполняется управления hello плоскости (операции управления Azure) будет заблокирована для hello всей виртуальной сети, без изменения метаданных tooVM во время проверки и подготовка или прерывания.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-179">When prepare is running, hello control plane (Azure management operations) will be locked for hello whole virtual network, so no changes can be made tooVM metadata during validate/prepare/abort.</span></span>  <span data-ttu-id="a3cfd-180">Но кроме этого функции приложения (использование удаленного рабочего стола, виртуальной машины и т. д.) никак не будут затронуты.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-180">But otherwise any application function (RD, VM usage, etc.) will be unaffected.</span></span>  <span data-ttu-id="a3cfd-181">Пользователи hello виртуальных машин не будет знать, что этого пробного прогона hello, выполняется.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-181">Users of hello VMs will not know that hello dry run is being executed.</span></span>

- <span data-ttu-id="a3cfd-182">**Каналы ExpressRoute и VPN.**</span><span class="sxs-lookup"><span data-stu-id="a3cfd-182">**Express Route Circuits and VPN**.</span></span> <span data-ttu-id="a3cfd-183">В настоящее время шлюзы ExpressRoute со ссылками для авторизации невозможно перенести без простоя.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-183">Currently Express Route Gateways with authorization links cannot be migrated without downtime.</span></span> <span data-ttu-id="a3cfd-184">Решение hello. в разделе [перенести ExpressRoute каналов и связанные виртуальные сети из модели развертывания диспетчера ресурсов hello классический toohello](../../expressroute/expressroute-migration-classic-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-184">For hello workaround, see [Migrate ExpressRoute circuits and associated virtual networks from hello classic toohello Resource Manager deployment model](../../expressroute/expressroute-migration-classic-resource-manager.md).</span></span>

- <span data-ttu-id="a3cfd-185">**Расширения ВМ** -расширения виртуальных машин потенциально являются одним из крупнейших проблем toomigrating hello работающих виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-185">**VM Extensions** - Virtual Machine extensions are potentially one of hello biggest roadblocks toomigrating running VMs.</span></span> <span data-ttu-id="a3cfd-186">Учтите при планировании, что исправление расширений виртуальной машины может занять до 1–2 дней.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-186">Remediation of VM Extensions could take upwards of 1-2 days, so plan accordingly.</span></span>  <span data-ttu-id="a3cfd-187">Работа агента Azure — tooreport необходимые расширения виртуальных Машин состоянии работающих виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-187">A working Azure agent is needed tooreport back VM Extension status of running VMs.</span></span> <span data-ttu-id="a3cfd-188">Если состояние hello возвращаются как неправильный для работающей виртуальной Машины, это будет остановлено миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-188">If hello status comes back as bad for a running VM, this will halt migration.</span></span> <span data-ttu-id="a3cfd-189">самого агента Hello не требуется toobe в рабочем состоянии tooenable миграции, но если существуют расширения на hello ВМ, то оба агент и исходящие подключения к Интернету (с помощью DNS) потребуется выполнить для миграции toomove вперед.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-189">hello agent itself does not need toobe in working order tooenable migration, but if extensions exist on hello VM, then both a working agent AND outbound internet connectivity (with DNS) will be needed for migration toomove forward.</span></span>
  - <span data-ttu-id="a3cfd-190">Если во время миграции, все расширения виртуальной Машины, за исключением BGInfo версии 1 потеряно подключение tooa DNS-сервер. \* требуется toofirst удаляется из каждой виртуальной Машины, прежде чем подготовить миграции и добавить впоследствии заново задней toohello виртуальной Машины после переноса диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-190">If connectivity tooa DNS server is lost during migration, all VM Extensions except BGInfo version 1.\* need toofirst be removed from every VM before migration prepare, and subsequently re-added back toohello VM after Azure Resource Manager migration.</span></span>  <span data-ttu-id="a3cfd-191">**Это необходимо сделать только для запущенных виртуальных машин.**</span><span class="sxs-lookup"><span data-stu-id="a3cfd-191">**This is only for VMs that are running.**</span></span>  <span data-ttu-id="a3cfd-192">Если остановлены, освобожденных hello виртуальных машин, расширений ВМ не обязательно toobe удалены.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-192">If hello VMs are stopped deallocated, VM Extensions do not need toobe removed.</span></span>

  > [!NOTE]
  > <span data-ttu-id="a3cfd-193">Многие расширения, например расширение системы диагностики Azure и расширение мониторинга центра безопасности, будут автоматически переустановлены после миграции, так что их удаление не представляет проблемы.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-193">Many extensions like Azure diagnostics and security center monitoring will reinstall themselves after migration, so removing them is not a problem.</span></span>

  - <span data-ttu-id="a3cfd-194">Кроме того, группы безопасности сети не должны ограничивать исходящий доступ к Интернету,</span><span class="sxs-lookup"><span data-stu-id="a3cfd-194">In addition, make sure Network Security Groups are not restricting outbound internet access.</span></span> <span data-ttu-id="a3cfd-195">что возможно в некоторых конфигурациях групп безопасности сети.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-195">This can happen with some Network Security Groups configurations.</span></span> <span data-ttu-id="a3cfd-196">Исходящие подключения к Интернету (и DNS) требуется для расширений ВМ toobe миграции tooAzure диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-196">Outbound internet access (and DNS) is needed for VM Extensions toobe migrated tooAzure Resource Manager.</span></span>
  - <span data-ttu-id="a3cfd-197">Две версии hello расширение BGInfo существует и называются версий 1 и 2.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-197">Two versions of hello BGInfo extension exist and are called versions 1 and 2.</span></span>  

      - <span data-ttu-id="a3cfd-198">Если hello виртуальная машина использует hello расширение BGInfo версии 1, можно оставить это расширение как есть.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-198">If hello VM is using hello BGInfo version 1 extension, you can leave this extension as is.</span></span> <span data-ttu-id="a3cfd-199">Миграция Hello API пропускает этот модуль.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-199">hello migration API skips this extension.</span></span> <span data-ttu-id="a3cfd-200">После миграции можно добавить расширение BGInfo Hello.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-200">hello BGInfo extension can be added after migration.</span></span>
      - <span data-ttu-id="a3cfd-201">Если hello виртуальная машина использует hello расширение BGInfo на основе JSON-версии 2, hello ВМ был создан с помощью hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-201">If hello VM is using hello JSON-based BGInfo version 2 extension, hello VM was created using hello Azure portal.</span></span> <span data-ttu-id="a3cfd-202">Это расширение включает Hello миграции API в tooAzure миграции hello диспетчера ресурсов, предоставляемых hello агент работает и исходящий доступ к Интернету (и DNS).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-202">hello migration API includes this extension in hello migration tooAzure Resource Manager, provided hello agent is working and has outbound internet access (and DNS).</span></span>

  - <span data-ttu-id="a3cfd-203">**Способ исправления 1.**</span><span class="sxs-lookup"><span data-stu-id="a3cfd-203">**Remediation Option 1**.</span></span> <span data-ttu-id="a3cfd-204">Если известно, что виртуальные машины не будут иметь исходящие доступом в Интернет, работающая служба DNS и агенты Azure работает на виртуальных машинах hello, удалите все расширения виртуальной Машины в рамках миграции hello до подготовки, переустановите hello расширений ВМ после миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-204">If you know your VMs will not have outbound internet access, a working DNS service, and working Azure agents on hello VMs, then uninstall all VM extensions as part of hello migration before Prepare, then reinstall hello VM Extensions after migration.</span></span>
  - <span data-ttu-id="a3cfd-205">**Способ исправления 2.**</span><span class="sxs-lookup"><span data-stu-id="a3cfd-205">**Remediation Option 2**.</span></span> <span data-ttu-id="a3cfd-206">При слишком большого препятствие расширений ВМ, другой вариант — tooshutdown и освободить все виртуальные машины перед выполнением миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-206">If VM extensions are too big of a hurdle, another option is tooshutdown/deallocate all VMs before migration.</span></span> <span data-ttu-id="a3cfd-207">Перенос hello освобождена виртуальные машины, а затем перезапустите их на стороне Azure Resource Manager hello.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-207">Migrate hello deallocated VMs, then restart them on hello Azure Resource Manager side.</span></span> <span data-ttu-id="a3cfd-208">Hello преимущество такого подхода является переносимых расширений ВМ.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-208">hello benefit here is that VM extensions will migrate.</span></span> <span data-ttu-id="a3cfd-209">Hello недостатком является то, что будут потеряны все виртуальные IP-адреса общедоступными (это может быть не начального уровня), и очевидно, что hello ВМ будет завершена, приводит к гораздо больше влияние на работу приложения.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-209">hello downside is that all public facing Virtual IPs will be lost (this may be a non-starter), and obviously hello VMs will shut down causing a much greater impact on working applications.</span></span>

    > [!NOTE]
    > <span data-ttu-id="a3cfd-210">Если политика центра безопасности Azure настроена для работающих виртуальных машин переносимым hello, политика безопасности hello должна toobe остановлена перед удалением расширения, в противном случае безопасности hello, расширение мониторинга на будут переустановлены автоматически hello виртуальной Машины после его удаления.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-210">If an Azure Security Center policy is configured against hello running VMs being migrated, hello security policy needs toobe stopped before removing extensions, otherwise hello security monitoring extension will be reinstalled automatically on hello VM after removing it.</span></span>

- <span data-ttu-id="a3cfd-211">**Наборы доступности** — для toobe виртуальной сети (vNet) миграции tooAzure диспетчера ресурсов, hello классического развертывания (т. е. облачная служба) содержится ВМ должен быть в одной группе доступности или hello виртуальные машины не все должно быть в любой группе доступности.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-211">**Availability Sets** - For a virtual network (vNet) toobe migrated tooAzure Resource Manager, hello Classic deployment (i.e. cloud service) contained VMs must all be in one availability set, or hello VMs must all not be in any availability set.</span></span> <span data-ttu-id="a3cfd-212">Наличие более одного доступности в облачной службе hello не совместим с помощью диспетчера ресурсов Azure и будет остановлено, миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-212">Having more than one availability set in hello cloud service is not compatible with Azure Resource Manager and will halt migration.</span></span>  <span data-ttu-id="a3cfd-213">Как было сказано выше, в группе доступности должны находиться либо все виртуальные машины, либо ни одной.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-213">Additionally, there cannot be some VMs in an availability set, and some VMs not in an availability set.</span></span> <span data-ttu-id="a3cfd-214">tooresolve, будет необходимо tooremediate или передвинуть облачной службы.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-214">tooresolve this, you will need tooremediate or reshuffle your cloud service.</span></span>  <span data-ttu-id="a3cfd-215">Это может занять некоторое время, что следует учесть при планировании.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-215">Plan accordingly as this might be time consuming.</span></span>

- <span data-ttu-id="a3cfd-216">**Развертывание рабочих и веб-роли** -облачные службы, содержащее рабочих и веб-роли не может переносить tooAzure диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-216">**Web/Worker Role Deployments** -  Cloud Services containing web and worker roles cannot migrate tooAzure Resource Manager.</span></span> <span data-ttu-id="a3cfd-217">Hello рабочих и веб-роли необходимо сначала удалить hello в виртуальной сети перед началом миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-217">hello web/worker roles must first be removed from hello virtual network before migration can start.</span></span>  <span data-ttu-id="a3cfd-218">Обычным решением является toojust перемещения рабочих и веб-роль экземпляров tooa отдельные классической виртуальной сети, также связанного tooan канал ExpressRoute или toonewer кода hello toomigrate служб приложения PaaS (данного обсуждения выходит за рамки данного документа hello).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-218">A typical solution is toojust move web/worker role instances tooa separate Classic virtual network that is also linked tooan ExpressRoute circuit, or toomigrate hello code toonewer PaaS App Services (this discussion is beyond hello scope of this document).</span></span> <span data-ttu-id="a3cfd-219">В прежней hello повторно развернуть вариант, создайте новую виртуальную сеть классический, перемещения и повторного развертывания hello рабочих и веб-ролей toothat новую виртуальную сеть, а затем удалите развертываний hello hello перемещается в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-219">In hello former redeploy case, create a new Classic virtual network, move/redeploy hello web/worker roles toothat new virtual network, then delete hello deployments from hello virtual network being moved.</span></span> <span data-ttu-id="a3cfd-220">Не требует изменения кода.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-220">No code changes required.</span></span> <span data-ttu-id="a3cfd-221">новый Hello [Пиринг виртуальной сети](../../virtual-network/virtual-network-peering-overview.md) возможность может быть используется toopeer вместе hello классический виртуальная сеть, содержащая hello рабочих и веб-ролей и других виртуальных сетей в hello же регионе Azure, например, ведущий hello виртуальной сети Миграция (**после завершения миграции виртуальной сети как одноранговыми виртуальные сети не могут быть перенесены**), таким образом передавая hello те же возможности без потери производительности и снижения без задержки и пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-221">hello new [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md) capability can be used toopeer together hello classic virtual network containing hello web/worker roles and other virtual networks in hello same Azure region such as hello virtual network being migrated (**after virtual network migration is completed as peered virtual networks cannot be migrated**), hence providing hello same capabilities with no performance loss and no latency/bandwidth penalties.</span></span> <span data-ttu-id="a3cfd-222">Учитывая Добавление hello [Пиринг виртуальной сети](../../virtual-network/virtual-network-peering-overview.md), рабочих и веб-развертывания роли можно легко теперь следует устранить и блокирует tooAzure hello переноса диспетчера ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-222">Given hello addition of [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md), web/worker role deployments can now easily be mitigated and not block hello migration tooAzure Resource Manager.</span></span>

- <span data-ttu-id="a3cfd-223">**Квоты Azure Resource Manager.** У регионов Azure есть отдельные квоты и ограничения для классической модели и модели Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-223">**Azure Resource Manager Quotas** - Azure regions have separate quotas/limits for both Classic and Azure Resource Manager.</span></span> <span data-ttu-id="a3cfd-224">Несмотря на то, что в сценарии миграции не используется новое оборудование *(мы замена существующих виртуальных машин из tooAzure классический диспетчер ресурсов)*, квоты диспетчера ресурсов Azure по-прежнему нужна toobe на месте перед достаточной емкости можно начать миграцию.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-224">Even though in a migration scenario new hardware isn't being consumed *(we're swapping existing VMs from Classic tooAzure Resource Manager)*, Azure Resource Manager quotas still need toobe in place with enough capacity before migration can start.</span></span> <span data-ttu-id="a3cfd-225">Ниже перечислены ограничения основных hello, описанных выше вызывают проблемы.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-225">Listed below are hello major limits we've seen cause problems.</span></span>  <span data-ttu-id="a3cfd-226">Откройте hello tooraise билет поддержки Квота ограничивает.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-226">Open a quota support ticket tooraise hello limits.</span></span>

    > [!NOTE]
    > <span data-ttu-id="a3cfd-227">Эти ограничения должны toobe возникает в hello же регионе вашей текущей среде toobe переносятся.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-227">These limits need toobe raised in hello same region as your current environment toobe migrated.</span></span>
    >

    - <span data-ttu-id="a3cfd-228">Сетевые интерфейсы</span><span class="sxs-lookup"><span data-stu-id="a3cfd-228">Network Interfaces</span></span>
    - <span data-ttu-id="a3cfd-229">Балансировщики нагрузки</span><span class="sxs-lookup"><span data-stu-id="a3cfd-229">Load Balancers</span></span>
    - <span data-ttu-id="a3cfd-230">Общедоступные IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-230">Public IPs</span></span>
    - <span data-ttu-id="a3cfd-231">Статические общедоступные IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-231">Static Public IPs</span></span>
    - <span data-ttu-id="a3cfd-232">Ядра</span><span class="sxs-lookup"><span data-stu-id="a3cfd-232">Cores</span></span>
    - <span data-ttu-id="a3cfd-233">группы сетевой безопасности;</span><span class="sxs-lookup"><span data-stu-id="a3cfd-233">Network Security Groups</span></span>
    - <span data-ttu-id="a3cfd-234">таблицы маршрутов;</span><span class="sxs-lookup"><span data-stu-id="a3cfd-234">Route Tables</span></span>

    <span data-ttu-id="a3cfd-235">Можно проверить текущий квот диспетчера ресурсов Azure с помощью hello, следующие команды с hello последнюю версию Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-235">You can check your current Azure Resource Manager quotas using hello following commands with hello latest version of Azure PowerShell.</span></span>

    <span data-ttu-id="a3cfd-236">**Вычисления** *(ядра, группы доступности)*</span><span class="sxs-lookup"><span data-stu-id="a3cfd-236">**Compute** *(Cores, Availability Sets)*</span></span>

    ```powershell
    Get-AzureRmVMUsage -Location <azure-region>
    ```

    <span data-ttu-id="a3cfd-237">**Сети** *(виртуальные сети, статические общедоступные IP-адреса, общедоступные IP-адреса, группы безопасности сети, сетевые интерфейсы, подсистемы балансировки нагрузки, таблицы маршрутов)*</span><span class="sxs-lookup"><span data-stu-id="a3cfd-237">**Network** *(Virtual Networks, Static Public IPs, Public IPs, Network Security Groups, Network Interfaces, Load Balancers, Route Tables)*</span></span>

    ```powershell
    Get-AzureRmUsage /subscriptions/<subscription-id>/providers/Microsoft.Network/locations/<azure-region> -ApiVersion 2016-03-30 | Format-Table
    ```

    <span data-ttu-id="a3cfd-238">**Хранилище** *(учетная запись хранения)*</span><span class="sxs-lookup"><span data-stu-id="a3cfd-238">**Storage** *(Storage Account)*</span></span>

    ```powershell
    Get-AzureRmStorageUsage
    ```

- <span data-ttu-id="a3cfd-239">**Ограничения регулирования API Azure Resource Manager**. Если среда достаточно большая (например,</span><span class="sxs-lookup"><span data-stu-id="a3cfd-239">**Azure Resource Manager API throttling limits** - If you have a large enough environment (eg.</span></span> <span data-ttu-id="a3cfd-240">> 400 виртуальных машин в виртуальной сети), может попаданий API по умолчанию hello регулирования ограничения для операций записи (в настоящее время `1200 writes/hour`) в диспетчере ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-240">> 400 VMs in a VNET), you might hit hello default API throttling limits for writes (currently `1200 writes/hour`) in Azure Resource Manager.</span></span> <span data-ttu-id="a3cfd-241">Перед началом миграции, необходимо вызвать tooincrease билет поддержки это ограничение для вашей подписки.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-241">Before starting migration, you should raise a support ticket tooincrease this limit for your subscription.</span></span>


- <span data-ttu-id="a3cfd-242">**Истекло время ожидания ВМ состояние подготовки** — Если все виртуальные Машины, имеет состояние hello `provisioning timed out`, то toobe потребности разрешить до миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-242">**Provisioning Timed Out VM Status** - If any VM has hello status of `provisioning timed out`, this needs toobe resolved pre-migration.</span></span> <span data-ttu-id="a3cfd-243">Единственным способом toodo Hello это с временем простоя, отзыва и инициализацию hello виртуальной Машины (удалить его, сохранить hello диска, а затем повторно создать hello виртуальной Машины).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-243">hello only way toodo this is with downtime by deprovisioning/reprovisioning hello VM (delete it, keep hello disk, and recreate hello VM).</span></span>

- <span data-ttu-id="a3cfd-244">**Состояние виртуальной Машины RoleStateUnknown** — если миграция прерывается из-за tooa `role state unknown` ошибка сообщение, проверьте hello виртуальную Машину с помощью портала hello и убедиться, запущен.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-244">**RoleStateUnknown VM Status** - If migration halts due tooa `role state unknown` error message, inspect hello VM using hello portal and ensure it is running.</span></span> <span data-ttu-id="a3cfd-245">Обычно через несколько минут такая ошибка самоустраняется (не нужны никакие дополнительные действия). Это ошибка временного типа, которая происходит во время таких операций виртуальной машины, как `start`, `stop` и `restart`.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-245">This error will typically go away on its own (no remediation required) after a few minutes and is often a transient type often seen during a Virtual Machine `start`, `stop`, `restart` operations.</span></span> <span data-ttu-id="a3cfd-246">**Рекомендация.** Повторите попытку миграции через несколько минут.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-246">**Recommended practice:** re-try migration again after a few minutes.</span></span>

- <span data-ttu-id="a3cfd-247">**Кластер Fabric не существует.** В некоторых случаях определенные виртуальные машины невозможно переместить из-за нетипичных причин.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-247">**Fabric Cluster does not exist** -  In some cases, certain VMs cannot be migrated for various odd reasons.</span></span> <span data-ttu-id="a3cfd-248">Одно из этих известных случаях — если hello ВМ был создан недавно (в пределах hello прошлой неделе или это) и возникновения tooland Azure кластера, который не поддерживает для рабочих нагрузок диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-248">One of these known cases is if hello VM was recently created (within hello last week or so) and happened tooland an Azure cluster that is not yet equipped for Azure Resource Manager workloads.</span></span>  <span data-ttu-id="a3cfd-249">Вы получите сообщение об ошибке: `fabric cluster does not exist` и hello виртуальной Машины не могут быть перенесены.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-249">You will get an error that says `fabric cluster does not exist` and hello VM cannot be migrated.</span></span> <span data-ttu-id="a3cfd-250">Ожидания нескольких дней обычно устранения этой конкретной проблемы, как кластер hello скоро станет Azure Resource Manager включен.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-250">Waiting a couple of days will usually resolve this particular problem as hello cluster will soon get Azure Resource Manager enabled.</span></span> <span data-ttu-id="a3cfd-251">Однако одно немедленное решение — слишком`stop-deallocate` hello виртуальной Машины, затем продолжить перенос вперед и запуститься hello виртуальной Машины в диспетчере ресурсов Azure после миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-251">However, one immediate workaround is too`stop-deallocate` hello VM, then continue forward with migration, and start hello VM back up in Azure Resource Manager after migrating.</span></span>

### <a name="pitfalls-tooavoid"></a><span data-ttu-id="a3cfd-252">Tooavoid ловушек</span><span class="sxs-lookup"><span data-stu-id="a3cfd-252">Pitfalls tooavoid</span></span>

- <span data-ttu-id="a3cfd-253">Не сочетания клавиш и опустить миграции hello пробного прогона проверки/Подготовка и abort.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-253">Do not take shortcuts and omit hello validate/prepare/abort dry run migrations.</span></span>
- <span data-ttu-id="a3cfd-254">Многие, если не все потенциальных проблем, обнаружатся во время действия проверки/Подготовка/abort hello.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-254">Most, if not all, of your potential issues will surface during hello validate/prepare/abort steps.</span></span>

## <a name="migration"></a><span data-ttu-id="a3cfd-255">Миграция</span><span class="sxs-lookup"><span data-stu-id="a3cfd-255">Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="a3cfd-256">Технические вопросы и компромиссы</span><span class="sxs-lookup"><span data-stu-id="a3cfd-256">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="a3cfd-257">Теперь вы готовы, так как были выполнены посредством hello известные проблемы, связанные с вашей средой.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-257">Now you are ready because you have worked through hello known issues with your environment.</span></span>

<span data-ttu-id="a3cfd-258">Для миграций реальные hello может потребоваться tooconsider:</span><span class="sxs-lookup"><span data-stu-id="a3cfd-258">For hello real migrations, you might want tooconsider:</span></span>

1. <span data-ttu-id="a3cfd-259">Планирование и расписание hello виртуальной сети (наименьшая единица миграции) по мере увеличения приоритета.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-259">Plan and schedule hello virtual network (smallest unit of migration) with increasing priority.</span></span>  <span data-ttu-id="a3cfd-260">Сначала hello простой виртуальных сетей и хода выполнения с hello более сложным виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-260">Do hello simple virtual networks first, and progress with hello more complicated virtual networks.</span></span>
2. <span data-ttu-id="a3cfd-261">У большинства клиентов будут рабочие среды и прочие среды.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-261">Most customers will have non-production and production environments.</span></span>  <span data-ttu-id="a3cfd-262">Выполняйте перенос рабочей среды в последнюю очередь.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-262">Schedule production last.</span></span>
3. <span data-ttu-id="a3cfd-263">**(Необязательно.)** Спланируйте время планового обслуживания, оставив достаточный буфер на случай непредвиденных ошибок.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-263">**(OPTIONAL)** Schedule a maintenance downtime with plenty of buffer in case unexpected issues arise.</span></span>
4. <span data-ttu-id="a3cfd-264">Обращайтесь к службам поддержки и принимайте во внимание рекомендации в случае проблем.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-264">Communicate with and align with your support teams in case issues arise.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="a3cfd-265">Рекомендации для удачного перемещения</span><span class="sxs-lookup"><span data-stu-id="a3cfd-265">Patterns of success</span></span>

<span data-ttu-id="a3cfd-266">Здравствуйте, техническое руководство по из hello _лаборатории тестирования_ разделе следует учитывать и устранить предыдущих tooa реальной миграции.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-266">hello technical guidance from hello _Lab Test_ section should be considered and mitigated prior tooa real migration.</span></span>  <span data-ttu-id="a3cfd-267">С помощью соответствующую проверку hello миграция является фактически без событий.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-267">With adequate testing, hello migration is actually a non-event.</span></span>  <span data-ttu-id="a3cfd-268">В рабочей среде может быть полезным toohave дополнительную поддержку, например доверенным партнером корпорации Майкрософт или службы Microsoft Premier.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-268">For production environments, it might be helpful toohave additional support, such as a trusted Microsoft partner or Microsoft Premier services.</span></span>

### <a name="pitfalls-tooavoid"></a><span data-ttu-id="a3cfd-269">Tooavoid ловушек</span><span class="sxs-lookup"><span data-stu-id="a3cfd-269">Pitfalls tooavoid</span></span>

<span data-ttu-id="a3cfd-270">Тестирование не полностью может привести к проблемам и задержки в миграции hello.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-270">Not fully testing may cause issues and delay in hello migration.</span></span>  

## <a name="beyond-migration"></a><span data-ttu-id="a3cfd-271">Вспомогательные вопросы миграции</span><span class="sxs-lookup"><span data-stu-id="a3cfd-271">Beyond Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="a3cfd-272">Технические вопросы и компромиссы</span><span class="sxs-lookup"><span data-stu-id="a3cfd-272">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="a3cfd-273">Теперь, когда вы в диспетчере ресурсов Azure, разверните hello платформы.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-273">Now that you are in Azure Resource Manager, maximize hello platform.</span></span>  <span data-ttu-id="a3cfd-274">Чтение hello [Обзор диспетчера ресурсов Azure](../../azure-resource-manager/resource-group-overview.md) toofind out о дополнительные преимущества.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-274">Read hello [overview of Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) toofind out about additional benefits.</span></span>

<span data-ttu-id="a3cfd-275">Tooconsider следующее:</span><span class="sxs-lookup"><span data-stu-id="a3cfd-275">Things tooconsider:</span></span>

- <span data-ttu-id="a3cfd-276">Объединение hello миграции с другими действиями.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-276">Bundling hello migration with other activities.</span></span>  <span data-ttu-id="a3cfd-277">Большинство пользователей использует окно обслуживания приложений.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-277">Most customers opt for an application maintenance window.</span></span>  <span data-ttu-id="a3cfd-278">Если таким образом, может потребоваться toouse это время простоя tooenable другие возможности диспетчера ресурсов Azure, такие как, шифрования и миграции tooManaged дисков.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-278">If so, you might want toouse this downtime tooenable other Azure Resource Manager capabilities like encryption and migration tooManaged Disks.</span></span>
- <span data-ttu-id="a3cfd-279">Повторное использование hello технические и бизнес-причины для диспетчера ресурсов Azure; Включите hello дополнительные службы, доступные только для диспетчера ресурсов Azure, применяемые tooyour среды.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-279">Revisit hello technical and business reasons for Azure Resource Manager; enable hello additional services available only on Azure Resource Manager that apply tooyour environment.</span></span>
- <span data-ttu-id="a3cfd-280">Модернизируйте среду с помощью служб PaaS.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-280">Modernize your environment with PaaS services.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="a3cfd-281">Рекомендации для удачного перемещения</span><span class="sxs-lookup"><span data-stu-id="a3cfd-281">Patterns of success</span></span>

<span data-ttu-id="a3cfd-282">Быть целевым на какие службы теперь хотите tooenable диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-282">Be purposeful on what services you now want tooenable in Azure Resource Manager.</span></span>  <span data-ttu-id="a3cfd-283">Многие клиенты найти hello ниже привлекательной для своей среды Azure:</span><span class="sxs-lookup"><span data-stu-id="a3cfd-283">Many customers find hello below compelling for their Azure environments:</span></span>

- <span data-ttu-id="a3cfd-284">[Управление доступом на основе ролей](../../azure-resource-manager/resource-group-overview.md#access-control).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-284">[Role Based Access Control](../../azure-resource-manager/resource-group-overview.md#access-control).</span></span>
- <span data-ttu-id="a3cfd-285">[Шаблоны Azure Resource Manager для быстрого и контролируемого развертывания](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-285">[Azure Resource Manager templates for easier and more controlled deployment](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span></span>
- <span data-ttu-id="a3cfd-286">[Теги](../../azure-resource-manager/resource-group-using-tags.md).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-286">[Tags](../../azure-resource-manager/resource-group-using-tags.md).</span></span>
- <span data-ttu-id="a3cfd-287">[Управление действиями](../../azure-resource-manager/resource-group-audit.md).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-287">[Activity Control](../../azure-resource-manager/resource-group-audit.md)</span></span>
- <span data-ttu-id="a3cfd-288">[Политики ресурсов](../../azure-resource-manager/resource-manager-policy.md).</span><span class="sxs-lookup"><span data-stu-id="a3cfd-288">[Resource Policies](../../azure-resource-manager/resource-manager-policy.md)</span></span>

### <a name="pitfalls-tooavoid"></a><span data-ttu-id="a3cfd-289">Tooavoid ловушек</span><span class="sxs-lookup"><span data-stu-id="a3cfd-289">Pitfalls tooavoid</span></span>

<span data-ttu-id="a3cfd-290">Помните, почему работы этого классический диспетчер ресурсов tooAzure миграции путешествия.</span><span class="sxs-lookup"><span data-stu-id="a3cfd-290">Remember why you started this Classic tooAzure Resource Manager migration journey.</span></span>  <span data-ttu-id="a3cfd-291">Каков hello исходного служебных целей?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-291">What were hello original business reasons?</span></span> <span data-ttu-id="a3cfd-292">Вы получить hello бизнес-цель?</span><span class="sxs-lookup"><span data-stu-id="a3cfd-292">Did you achieve hello business reason?</span></span>


## <a name="next-steps"></a><span data-ttu-id="a3cfd-293">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="a3cfd-293">Next steps</span></span>

* [<span data-ttu-id="a3cfd-294">Общие сведения о миграции поддерживаются платформы IaaS ресурсов от классических tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-294">Overview of platform-supported migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-295">Технические близкое знакомство с платформа поддерживается перенос из классической tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-295">Technical deep dive on platform-supported migration from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-296">Использовать ресурсы IaaS PowerShell toomigrate из классической tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-296">Use PowerShell toomigrate IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-297">Использовать ресурсы IaaS toomigrate CLI из классической tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-297">Use CLI toomigrate IaaS resources from classic tooAzure Resource Manager</span></span>](../linux/migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-298">Средства сообщества соблюдения миграции IaaS ресурсов от классических tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-298">Community tools for assisting with migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-299">Распространенные ошибки миграции</span><span class="sxs-lookup"><span data-stu-id="a3cfd-299">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="a3cfd-300">Просмотрите hello наиболее часто задаваемые вопросы о миграции IaaS ресурсов от классических tooAzure диспетчера ресурсов</span><span class="sxs-lookup"><span data-stu-id="a3cfd-300">Review hello most frequently asked questions about migrating IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
