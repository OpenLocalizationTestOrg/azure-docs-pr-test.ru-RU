---
title: "Задает aaaAvailability для виртуальных машин Windows в Azure | Документы Microsoft"
description: "Дополнительные сведения о hello ключа проектирования и реализации руководства по развертыванию наборов доступности в службах инфраструктуры Azure."
documentationcenter: 
services: virtual-machines-windows
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: f9449f58-664b-4d5d-82f6-84c5d083047f
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: cc35fd1e913434d9facb94116edb1b1c30447c71
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-availability-sets-guidelines-for-windows-vms"></a>Рекомендации по группам доступности Azure для виртуальных машин Windows

[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-intro](../../../includes/virtual-machines-windows-infrastructure-guidelines-intro.md)]

Эта статья посвящена hello основные сведения о необходимых этапов планирования для группы доступности tooensure приложений будут оставаться доступными во время запланированного или незапланированного события.

## <a name="implementation-guidelines-for-availability-sets"></a>Рекомендации по реализации групп доступности
Решения

* Количество наборов доступности требуются для hello различных ролей и уровни в инфраструктуру приложения?

Задачи

* Определите hello число виртуальных машин на каждом уровне приложения, которое требуется.
* Определение необходимости tooadjust hello число сбоя или обновление toobe домены, используемые для вашего приложения.
* Определите необходимые hello группы доступности, используя соглашение об именовании и что виртуальные машины находятся в них. Виртуальная машина может находиться только в одной группе доступности.

## <a name="availability-sets"></a>Группы доступности
В Azure виртуальных машин (ВМ) может быть помещен в tooa логическое группирование, называемую группой доступности. При создании виртуальных машин в группе доступности hello платформы Azure распределяет hello базовой инфраструктуры hello размещение этих виртуальных машин. Должно быть toohello событий планового обслуживания платформы Azure или аппаратным обеспечением и ошибки инфраструктуры, используйте hello наборов доступности гарантирует, что по крайней мере одна виртуальная машина продолжает работать.

Не рекомендуется размещать приложения на одной виртуальной машине. Группа доступности содержит одну виртуальную Машину не получить какой-либо защиты от запланированного или незапланированного события в hello платформы Azure. Hello [соглашения об уровне ОБСЛУЖИВАНИЯ Azure](https://azure.microsoft.com/support/legal/sla/virtual-machines) требует два или более виртуальных машин в пределах доступности набора tooallow hello распределение виртуальных машин между hello базовой инфраструктуры. Если вы используете [хранилища Azure Premium](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello соглашения об уровне ОБСЛУЖИВАНИЯ Azure применяется tooa одной виртуальной Машины.

в кластерах оборудования toomultiple состоит из базовой инфраструктурой Hello в Azure. Каждый аппаратный кластер может поддерживать определенный диапазон размеров виртуальных машин. В любой момент времени группа доступности может размещаться только в одном аппаратном кластере. Таким образом размеры hello диапазон виртуальной Машины, которые могут существовать в одну группу доступности — toohello ограниченный диапазон ВМ размеры, поддерживаемые hello оборудования кластера. Hello оборудования кластера для группы доступности hello выбирается при hello первая виртуальная машина в наборе доступности hello развертывания или при запуске hello первая виртуальная машина в наборе доступности, где все виртуальные машины в настоящее время находятся в состоянии остановки освобождения hello. Hello следующую команду PowerShell может быть используется toodetermine hello диапазон из размеров виртуальных Машин для группы доступности: «Get-AzureRmVMSize - ResourceGroupName \<строка\> - AvailabilitySetName \<строка\> "

Каждый кластер оборудования делится на toomultiple домены обновления и домены отказоустойчивости. Эти домены определяются узлами с общим циклом обновления или с общей физической инфраструктурой, например источником питания и сетью. Azure автоматически распределяет виртуальные машины в группу доступности между доменами toomaintain доступности и отказоустойчивости. В зависимости от размера hello приложения и hello число виртуальных машин в группе доступности, можно настроить число hello доменов требуется toouse. Вы можете больше узнать об [управлении доступностью и использовании доменов обновления и доменов сбоя](manage-availability.md).

При разработке инфраструктуры приложения, планирование уровни приложения hello, которые можно использовать. Группа виртуальных машин, обслуживающих hello же цели в наборах tooavailability, такие как набор доступности для виртуальных машин переднего плана под управлением служб IIS. Создайте отдельную группу доступности для серверных виртуальных машин, на которых работает решение SQL Server. Задача Hello — tooensure, что группа доступности защищен каждого компонента приложения и по крайней мере один раз экземпляр всегда будет работать.

Подсистемы балансировки нагрузки может быть использована перед каждой toowork уровня приложения вместе с группу доступности и убедитесь, что трафик всегда может быть перенаправленное tooa запущен экземпляр. Без подсистемы балансировки нагрузки виртуальные машины могут работать под управлением во всей обслуживания запланированных и незапланированных событий, но может оказаться конечные пользователи могли tooresolve их, если hello недоступен основной виртуальной Машины.

Обеспечение высокого уровня доступности приложения следует проектировать на уровне хранилища. Hello рекомендуется слишком[использовать управляемые диски для виртуальных машин в группе доступности](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set). При использовании в данный момент диски неуправляемые, рекомендуется слишком[преобразования виртуальных машин в набор доступности дисков управляемых toouse](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).

## <a name="next-steps"></a>Дальнейшие действия
[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-windows-infrastructure-guidelines-next-steps.md)]
