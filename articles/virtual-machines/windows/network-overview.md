---
title: "Виртуальные сети и виртуальные машины Windows в Azure | Документация Майкрософт"
description: "Сведения о сети в контексте ее значения для создания виртуальных машин Windows в Azure."
services: virtual-machines-windows
documentationcenter: 
author: davidmu1
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 5493e9f7-7d45-4e98-be9a-657a53708746
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: get-started-article
ms.date: 07/17/2017
ms.author: davidmu
ms.openlocfilehash: ad43daa8778d7b6046983cedceeef024ddc521e0
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="virtual-networks-and-windows-virtual-machines-in-azure"></a><span data-ttu-id="3b86a-103">Виртуальные сети и виртуальные машины Windows в Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-103">Virtual networks and Windows virtual machines in Azure</span></span> 

<span data-ttu-id="3b86a-104">При создании виртуальной машины Azure вам потребуется [виртуальная сеть](../../virtual-network/virtual-networks-overview.md). Вы можете создать ее или использовать уже готовую.</span><span class="sxs-lookup"><span data-stu-id="3b86a-104">When you create an Azure virtual machine (VM), you must create a [virtual network](../../virtual-network/virtual-networks-overview.md) (VNet) or use an existing VNet.</span></span> <span data-ttu-id="3b86a-105">Кроме того, необходимо решить, как в этой виртуальной сети будет предоставляться доступ к виртуальным машинам.</span><span class="sxs-lookup"><span data-stu-id="3b86a-105">You also need to decide how your VMs are intended to be accessed on the VNet.</span></span> <span data-ttu-id="3b86a-106">Очень важно [спланировать это перед созданием ресурсов](../../virtual-network/virtual-network-vnet-plan-design-arm.md), а также ознакомиться с [ограничениями, применяемыми к сетевым ресурсам](../../azure-subscription-service-limits.md#networking-limits).</span><span class="sxs-lookup"><span data-stu-id="3b86a-106">It is important to [plan before creating resources](../../virtual-network/virtual-network-vnet-plan-design-arm.md) and make sure that you understand the [limits of networking resources](../../azure-subscription-service-limits.md#networking-limits).</span></span>

<span data-ttu-id="3b86a-107">На следующем рисунке виртуальные машины представлены в качестве веб-серверов и серверов баз данных.</span><span class="sxs-lookup"><span data-stu-id="3b86a-107">In the following figure, VMs are represented as web servers and database servers.</span></span> <span data-ttu-id="3b86a-108">Каждый набор виртуальных машин назначен отдельной подсети в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-108">Each set of VMs are assigned to separate subnets in the VNet.</span></span>

![виртуальной сети Azure](./media/network-overview/vnetoverview.png)

<span data-ttu-id="3b86a-110">Виртуальную сеть можно создать перед или в процессе создания виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="3b86a-110">You can either create a VNet before you create a VM or you can create the VNet when creating a VM.</span></span> <span data-ttu-id="3b86a-111">Вы можете создать виртуальную сеть самостоятельно или использовать сеть, которая будет создана при развертывании виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="3b86a-111">You must either create a VNet yourself or one is created for you when you create a VM.</span></span>

<span data-ttu-id="3b86a-112">Чтобы обеспечить взаимодействие с виртуальной машиной, создайте следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="3b86a-112">You create these resources to support communication with a VM:</span></span>

- <span data-ttu-id="3b86a-113">Сетевые интерфейсы</span><span class="sxs-lookup"><span data-stu-id="3b86a-113">Network interfaces</span></span>
- <span data-ttu-id="3b86a-114">IP-адреса;</span><span class="sxs-lookup"><span data-stu-id="3b86a-114">IP addresses</span></span>
- <span data-ttu-id="3b86a-115">Виртуальные сети и подсети</span><span class="sxs-lookup"><span data-stu-id="3b86a-115">Virtual network and subnets</span></span>

<span data-ttu-id="3b86a-116">Помимо этих основных ресурсов, могут также потребоваться следующие дополнительные ресурсы:</span><span class="sxs-lookup"><span data-stu-id="3b86a-116">In addition to those basic resources, you should also consider these optional resources:</span></span>

- <span data-ttu-id="3b86a-117">Группы безопасности сети</span><span class="sxs-lookup"><span data-stu-id="3b86a-117">Network security groups</span></span>
- <span data-ttu-id="3b86a-118">Балансировщики нагрузки</span><span class="sxs-lookup"><span data-stu-id="3b86a-118">Load balancers</span></span> 

## <a name="network-interfaces"></a><span data-ttu-id="3b86a-119">Сетевые интерфейсы</span><span class="sxs-lookup"><span data-stu-id="3b86a-119">Network interfaces</span></span>

<span data-ttu-id="3b86a-120">[Сетевой интерфейс (NIC)](../../virtual-network/virtual-network-network-interface.md) обеспечивает взаимодействие между виртуальной машиной и виртуальной сетью.</span><span class="sxs-lookup"><span data-stu-id="3b86a-120">A [network interface (NIC)](../../virtual-network/virtual-network-network-interface.md) is the interconnection between a VM and a virtual network (VNet).</span></span> <span data-ttu-id="3b86a-121">Виртуальная машина должна иметь по крайней мере один сетевой интерфейс, но в зависимости от ее размера количество сетевых интерфейсов можно увеличить.</span><span class="sxs-lookup"><span data-stu-id="3b86a-121">A VM must have at least one NIC, but can have more than one, depending on the size of the VM you create.</span></span> <span data-ttu-id="3b86a-122">Дополнительные сведения о количестве сетевых интерфейсов, поддерживаемых каждым из размеров виртуальной машины, см. в статье [Размеры виртуальных машин в Azure](sizes.md).</span><span class="sxs-lookup"><span data-stu-id="3b86a-122">Learn about how many NICs each VM size supports in [Sizes for virtual machines in Azure](sizes.md).</span></span> 

<span data-ttu-id="3b86a-123">Если вам требуется виртуальная машина с несколькими сетевыми интерфейсами, для начала создайте ее по крайней мере с двумя сетевыми интерфейсами.</span><span class="sxs-lookup"><span data-stu-id="3b86a-123">If you want to create a VM with more than one NIC, you must create the VM with at least two.</span></span>  <span data-ttu-id="3b86a-124">Потом их количество можно увеличить (в зависимости от того, какое количество поддерживает этот размер виртуальной машины). Однако если виртуальная машина создана с одним сетевым интерфейсом, вы не сможете добавить другие интерфейсы, независимо от поддерживаемого количества.</span><span class="sxs-lookup"><span data-stu-id="3b86a-124">After creation you can add additional NICs up to the number supported by the VM size, but you cannot add additional NICs to a VM only created with one, regardless of how many NICs the VM size supports.</span></span> 

<span data-ttu-id="3b86a-125">Если виртуальная машина входит в состав группы доступности, то у всех виртуальных машин в этой группе доступности должен быть либо один, либо несколько сетевых интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="3b86a-125">If the VM is added to an availability set, all VMs within the availability set must have one or multiple NICs.</span></span> <span data-ttu-id="3b86a-126">Виртуальные машины с несколькими сетевыми интерфейсами могут иметь разное их количество, но все они должны иметь по крайней мере два сетевых интерфейса.</span><span class="sxs-lookup"><span data-stu-id="3b86a-126">VMs with more than one NIC aren’t required to have the same number of NICs, but they must all have at least two.</span></span>

<span data-ttu-id="3b86a-127">Каждый сетевой интерфейс, подключенный к виртуальной машине, должен находиться в том же расположении и в той же подписке, что и виртуальная машина.</span><span class="sxs-lookup"><span data-stu-id="3b86a-127">Each NIC attached to a VM must exist in the same location and subscription as the VM.</span></span> <span data-ttu-id="3b86a-128">Сетевые интерфейсы необходимо подключить к виртуальной сети, созданной в том же расположении Azure и в той же подписке, что и сам сетевой интерфейс.</span><span class="sxs-lookup"><span data-stu-id="3b86a-128">Each NIC must be connected to a VNet that exists in the same Azure location and subscription as the NIC.</span></span> <span data-ttu-id="3b86a-129">Для созданного сетевого интерфейса можно изменить подсеть, к которой он подключен, но нельзя изменить виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="3b86a-129">After a NIC is created, you can change the subnet it's connected to, but you cannot change the VNet it's connected to.</span></span>  <span data-ttu-id="3b86a-130">Каждому сетевому интерфейсу, подключенному к виртуальной машине, назначается MAC-адрес, который не изменяется до удаления виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="3b86a-130">Each NIC attached to a VM is assigned a MAC address that doesn’t change until the VM is deleted.</span></span>

<span data-ttu-id="3b86a-131">В таблице ниже перечислены методы создания сетевого интерфейса.</span><span class="sxs-lookup"><span data-stu-id="3b86a-131">This table lists the methods that you can use to create a network interface.</span></span>

| <span data-ttu-id="3b86a-132">Метод</span><span class="sxs-lookup"><span data-stu-id="3b86a-132">Method</span></span> | <span data-ttu-id="3b86a-133">Описание</span><span class="sxs-lookup"><span data-stu-id="3b86a-133">Description</span></span> |
| ------ | ----------- |
| <span data-ttu-id="3b86a-134">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-134">Azure portal</span></span> | <span data-ttu-id="3b86a-135">При создании виртуальной машины на портале Azure сетевой интерфейс создается автоматически (нельзя использовать сетевой интерфейс, созданный отдельно).</span><span class="sxs-lookup"><span data-stu-id="3b86a-135">When you create a VM in the Azure portal, a network interface is automatically created for you (you cannot use a NIC you create separately).</span></span> <span data-ttu-id="3b86a-136">На портале виртуальные машины создаются только с одним сетевым интерфейсом.</span><span class="sxs-lookup"><span data-stu-id="3b86a-136">The portal creates a VM with only one NIC.</span></span> <span data-ttu-id="3b86a-137">Чтобы создать виртуальную машину с несколькими сетевыми интерфейсами, используйте другой метод.</span><span class="sxs-lookup"><span data-stu-id="3b86a-137">If you want to create a VM with more than one NIC, you must create it with a different method.</span></span> |
| [<span data-ttu-id="3b86a-138">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3b86a-138">Azure PowerShell</span></span>](../../virtual-network/virtual-network-deploy-multinic-arm-ps.md) | <span data-ttu-id="3b86a-139">Воспользуйтесь командлетом [New-AzureRmNetworkInterface](/powershell/module/azurerm.network/new-azurermnetworkinterface) с параметром **-PublicIpAddressId**, чтобы указать идентификатор созданного ранее общедоступного IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="3b86a-139">Use [New-AzureRmNetworkInterface](/powershell/module/azurerm.network/new-azurermnetworkinterface) with the **-PublicIpAddressId** parameter to provide the identifer of the public IP address that you previously created.</span></span> |
| [<span data-ttu-id="3b86a-140">Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-140">Azure CLI</span></span>](../../virtual-network/virtual-network-deploy-multinic-arm-cli.md) | <span data-ttu-id="3b86a-141">Чтобы указать идентификатор созданного ранее общедоступного IP-адреса, выполните команду [az network nic create](https://docs.microsoft.com/cli/azure/network/nic#create) с параметром **--public-ip-address**.</span><span class="sxs-lookup"><span data-stu-id="3b86a-141">To provide the identifer of the public IP address that you previously created, use [az network nic create](https://docs.microsoft.com/cli/azure/network/nic#create) with the **--public-ip-address** parameter.</span></span> |
| [<span data-ttu-id="3b86a-142">Шаблон</span><span class="sxs-lookup"><span data-stu-id="3b86a-142">Template</span></span>](../../virtual-network/virtual-network-deploy-multinic-arm-template.md) | <span data-ttu-id="3b86a-143">Используйте шаблон [Network Interface in a Virtual Network with Public IP Address](https://github.com/Azure/azure-quickstart-templates/tree/master/101-nic-publicip-dns-vnet) (Сетевой интерфейс в виртуальной сети с общедоступным IP-адресом) в качестве руководства по развертыванию сетевого интерфейса с помощью шаблона.</span><span class="sxs-lookup"><span data-stu-id="3b86a-143">Use [Network Interface in a Virtual Network with Public IP Address](https://github.com/Azure/azure-quickstart-templates/tree/master/101-nic-publicip-dns-vnet) as a guide for deploying a network interface using a template.</span></span> |

## <a name="ip-addresses"></a><span data-ttu-id="3b86a-144">IP-адреса;</span><span class="sxs-lookup"><span data-stu-id="3b86a-144">IP addresses</span></span> 

<span data-ttu-id="3b86a-145">В Azure сетевому интерфейсу можно назначить следующие типы [IP-адресов](../../virtual-network/virtual-network-ip-addresses-overview-arm.md).</span><span class="sxs-lookup"><span data-stu-id="3b86a-145">You can assign these types of [IP addresses](../../virtual-network/virtual-network-ip-addresses-overview-arm.md) to a NIC in Azure:</span></span>

- <span data-ttu-id="3b86a-146">**Общедоступные IP-адреса.** Используются для входящего и исходящего подключения к Интернету и другим ресурсам Azure, не подключенным к виртуальной сети (без преобразования сетевых адресов (NAT)).</span><span class="sxs-lookup"><span data-stu-id="3b86a-146">**Public IP addresses** - Used to communicate inbound and outbound (without network address translation (NAT)) with the Internet and other Azure resources not connected to a VNet.</span></span> <span data-ttu-id="3b86a-147">Для сетевого интерфейса общедоступные IP-адреса назначать необязательно.</span><span class="sxs-lookup"><span data-stu-id="3b86a-147">Assigning a public IP address to a NIC is optional.</span></span> <span data-ttu-id="3b86a-148">За общедоступные IP-адреса взимается номинальная плата. В рамках подписки их использование ограничено.</span><span class="sxs-lookup"><span data-stu-id="3b86a-148">Public IP addresses have a nominal charge and there's a maximum number that can be used per subscription.</span></span>
- <span data-ttu-id="3b86a-149">**Частные IP-адреса.** Используются для обмена данными в виртуальной сети, локальной сети и в Интернете (с преобразованием сетевых адресов).</span><span class="sxs-lookup"><span data-stu-id="3b86a-149">**Private IP addresses** - Used for communication within a VNet, your on-premises network, and the Internet (with NAT).</span></span> <span data-ttu-id="3b86a-150">Виртуальная машина должна иметь по крайней мере один частный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="3b86a-150">You must assign at least one private IP address to a VM.</span></span> <span data-ttu-id="3b86a-151">Дополнительные сведения о преобразовании сетевых адресов см. в статье [Общие сведения об исходящих подключениях в Azure](../../load-balancer/load-balancer-outbound-connections.md).</span><span class="sxs-lookup"><span data-stu-id="3b86a-151">To learn more about NAT in Azure, read [Understanding outbound connections in Azure](../../load-balancer/load-balancer-outbound-connections.md).</span></span>

<span data-ttu-id="3b86a-152">Общедоступные IP-адреса можно назначать виртуальным машинам или балансировщикам нагрузки с выходом в Интернет,</span><span class="sxs-lookup"><span data-stu-id="3b86a-152">You can assign public IP addresses to VMs or internet-facing load balancers.</span></span> <span data-ttu-id="3b86a-153">а частные IP-адреса — виртуальным машинам или внутренним балансировщикам нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-153">You can assign private IP addresses to VMs and internal load balancers.</span></span> <span data-ttu-id="3b86a-154">IP-адреса для виртуальной машины можно назначить с помощью сетевого интерфейса.</span><span class="sxs-lookup"><span data-stu-id="3b86a-154">You assign IP addresses to a VM using a network interface.</span></span>

<span data-ttu-id="3b86a-155">Существует два способа выделения IP-адреса ресурсу: динамический и статический.</span><span class="sxs-lookup"><span data-stu-id="3b86a-155">There are two methods in which an IP address is allocated to a resource - dynamic or static.</span></span> <span data-ttu-id="3b86a-156">По умолчанию используется динамический способ выделения, в рамках которого IP-адрес выделяется не тогда, когда он создается.</span><span class="sxs-lookup"><span data-stu-id="3b86a-156">The default allocation method is dynamic, where an IP address is not allocated when it's created.</span></span> <span data-ttu-id="3b86a-157">В этом случае IP-адрес выделяется при создании, а также при запуске остановленной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="3b86a-157">Instead, the IP address is allocated when you create a VM or start a stopped VM.</span></span> <span data-ttu-id="3b86a-158">Если остановить или удалить виртуальную машину, IP-адрес освобождается.</span><span class="sxs-lookup"><span data-stu-id="3b86a-158">The IP address is released when you stop or delete the VM.</span></span> 

<span data-ttu-id="3b86a-159">Чтобы IP-адрес виртуальной машины не изменялся, вы можете явным образом задать статический способ выделения.</span><span class="sxs-lookup"><span data-stu-id="3b86a-159">To ensure the IP address for the VM remains the same, you can set the allocation method explicitly to static.</span></span> <span data-ttu-id="3b86a-160">В рамках этого способа IP-адрес назначается немедленно,</span><span class="sxs-lookup"><span data-stu-id="3b86a-160">In this case, an IP address is assigned immediately.</span></span> <span data-ttu-id="3b86a-161">а освобождается только тогда, когда вы удаляете виртуальную машину или задаете динамический способ выделения.</span><span class="sxs-lookup"><span data-stu-id="3b86a-161">It is released only when you delete the VM or change its allocation method to dynamic.</span></span>
    
<span data-ttu-id="3b86a-162">В таблице ниже перечислены методы создания IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="3b86a-162">This table lists the methods that you can use to create an IP address.</span></span>

| <span data-ttu-id="3b86a-163">Метод</span><span class="sxs-lookup"><span data-stu-id="3b86a-163">Method</span></span> | <span data-ttu-id="3b86a-164">Описание</span><span class="sxs-lookup"><span data-stu-id="3b86a-164">Description</span></span> |
| ------ | ----------- |
| [<span data-ttu-id="3b86a-165">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-165">Azure portal</span></span>](../../virtual-network/virtual-network-deploy-static-pip-arm-portal.md) | <span data-ttu-id="3b86a-166">По умолчанию общедоступные IP-адреса являются динамическими, и адреса, связанные с ними, могут измениться при удалении или остановке виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="3b86a-166">By default, public IP addresses are dynamic and the address associated to them may change when the VM is stopped or deleted.</span></span> <span data-ttu-id="3b86a-167">Чтобы общедоступный IP-адрес виртуальной машины не изменялся, необходимо создать статический общедоступный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="3b86a-167">To guarantee that the VM always uses the same public IP address, create a static public IP address.</span></span> <span data-ttu-id="3b86a-168">По умолчанию при создании виртуальной машины на портале сетевому интерфейсу назначается динамический частный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="3b86a-168">By default, the portal assigns a dynamic private IP address to a NIC when creating a VM.</span></span> <span data-ttu-id="3b86a-169">Впоследствии его можно изменить на статический.</span><span class="sxs-lookup"><span data-stu-id="3b86a-169">You can change this to static after the VM is created.</span></span>|
| [<span data-ttu-id="3b86a-170">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3b86a-170">Azure PowerShell</span></span>](../../virtual-network/virtual-network-deploy-static-pip-arm-ps.md) | <span data-ttu-id="3b86a-171">Используйте командлет [New-AzureRmPublicIpAddress](/powershell/module/azurerm.network/new-azurermpublicipaddress) с параметром **-AllocationMethod**. Укажите для этого параметра значение Dynamic или Static.</span><span class="sxs-lookup"><span data-stu-id="3b86a-171">You use [New-AzureRmPublicIpAddress](/powershell/module/azurerm.network/new-azurermpublicipaddress) with the **-AllocationMethod** parameter as Dynamic or Static.</span></span> |
| [<span data-ttu-id="3b86a-172">Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-172">Azure CLI</span></span>](../../virtual-network/virtual-network-deploy-static-pip-arm-cli.md) | <span data-ttu-id="3b86a-173">Используйте команду [az network public-ip create](https://docs.microsoft.com/cli/azure/network/public-ip#create) с параметром **--allocation-method**. Укажите для этого параметра значение Dynamic или Static.</span><span class="sxs-lookup"><span data-stu-id="3b86a-173">You use [az network public-ip create](https://docs.microsoft.com/cli/azure/network/public-ip#create) with the **--allocation-method** parameter as Dynamic or Static.</span></span> |
| [<span data-ttu-id="3b86a-174">Шаблон</span><span class="sxs-lookup"><span data-stu-id="3b86a-174">Template</span></span>](../../virtual-network/virtual-network-deploy-static-pip-arm-template.md) | <span data-ttu-id="3b86a-175">Используйте шаблон [Network Interface in a Virtual Network with Public IP Address](https://github.com/Azure/azure-quickstart-templates/tree/master/101-nic-publicip-dns-vnet) (Сетевой интерфейс в виртуальной сети с общедоступным IP-адресом) в качестве руководства по развертыванию общедоступного IP-адреса с помощью шаблона.</span><span class="sxs-lookup"><span data-stu-id="3b86a-175">Use [Network Interface in a Virtual Network with Public IP Address](https://github.com/Azure/azure-quickstart-templates/tree/master/101-nic-publicip-dns-vnet) as a guide for deploying a public IP address using a template.</span></span> |

<span data-ttu-id="3b86a-176">После создания общедоступного IP-адреса его можно связать с виртуальной машиной, присвоив его сетевому интерфейсу.</span><span class="sxs-lookup"><span data-stu-id="3b86a-176">After you create a public IP address, you can associate it with a VM by assigning it to a NIC.</span></span>

## <a name="virtual-network-and-subnets"></a><span data-ttu-id="3b86a-177">Виртуальные сети и подсети</span><span class="sxs-lookup"><span data-stu-id="3b86a-177">Virtual network and subnets</span></span>

<span data-ttu-id="3b86a-178">Подсеть — это диапазон IP-адресов в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-178">A subnet is a range of IP addresses in the VNet.</span></span> <span data-ttu-id="3b86a-179">Виртуальную сеть можно разделить на несколько подсетей, чтобы организовать ее и повысить безопасность.</span><span class="sxs-lookup"><span data-stu-id="3b86a-179">You can divide a VNet into multiple subnets for organization and security.</span></span> <span data-ttu-id="3b86a-180">Каждый сетевой интерфейс виртуальной машины подключен к одной подсети в одной виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-180">Each NIC in a VM is connected to one subnet in one VNet.</span></span> <span data-ttu-id="3b86a-181">Сетевые интерфейсы, подключенные к подсетям (одной или разным) в виртуальной сети, могут взаимодействовать друг с другом без дополнительной настройки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-181">NICs connected to subnets (same or different) within a VNet can communicate with each other without any extra configuration.</span></span>

<span data-ttu-id="3b86a-182">При настройке виртуальной сети вы указываете топологию, в том числе доступные адресные пространства и подсети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-182">When you set up a VNet, you specify the topology, including the available address spaces and subnets.</span></span> <span data-ttu-id="3b86a-183">Если виртуальная сеть будет подключаться к другим виртуальным или локальным сетям, необходимо выбрать неперекрывающиеся диапазоны адресов.</span><span class="sxs-lookup"><span data-stu-id="3b86a-183">If the VNet is to be connected to other VNets or on-premises networks, you must select address ranges that don't overlap.</span></span> <span data-ttu-id="3b86a-184">Эти IP-адреса частные, и доступ к ним нельзя было получить через Интернет. Это касалось только IP-адресов, не поддерживающих маршрутизацию (например, 10.0.0.0/8, 172.16.0.0/12 или 192.168.0.0/16).</span><span class="sxs-lookup"><span data-stu-id="3b86a-184">The IP addresses are private and can't be accessed from the Internet, which was true only for the non-routeable IP addresses such as 10.0.0.0/8, 172.16.0.0/12, or 192.168.0.0/16.</span></span> <span data-ttu-id="3b86a-185">Теперь Azure обрабатывает любой диапазон адресов как часть закрытого пространства IP-адресов виртуальной сети, доступного только в пределах виртуальной сети, взаимосвязанных виртуальных сетей и из локального расположения.</span><span class="sxs-lookup"><span data-stu-id="3b86a-185">Now, Azure treats any address range as part of the private VNet IP address space that is only reachable within the VNet, within interconnected VNets, and from your on-premises location.</span></span> 

<span data-ttu-id="3b86a-186">Если вы работаете в организации, где за внутренние сети отвечает другой сотрудник, выбор адресного пространства необходимо обсудить с ним.</span><span class="sxs-lookup"><span data-stu-id="3b86a-186">If you work within an organization in which someone else is responsible for the internal networks, you should talk to that person before selecting your address space.</span></span> <span data-ttu-id="3b86a-187">Убедитесь, что диапазоны адресов не перекрываются, и сообщите этому сотруднику, какое пространство вы хотите использовать, чтобы он не использовал тот же диапазон IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="3b86a-187">Make sure there is no overlap and let them know the space you want to use so they don’t try to use the same range of IP addresses.</span></span> 

<span data-ttu-id="3b86a-188">По умолчанию между подсетями отсутствует периметр безопасности, поэтому виртуальные машины, которые находятся в них, могут взаимодействовать.</span><span class="sxs-lookup"><span data-stu-id="3b86a-188">By default, there is no security boundary between subnets, so VMs in each of these subnets can talk to one another.</span></span> <span data-ttu-id="3b86a-189">Однако вы можете настроить группы безопасности сети (NSG), которые позволяют управлять входящим и исходящим потоком трафика в подсетях и на виртуальных машинах.</span><span class="sxs-lookup"><span data-stu-id="3b86a-189">However, you can set up Network Security Groups (NSGs), which allow you to control the traffic flow to and from subnets and to and from VMs.</span></span> 

<span data-ttu-id="3b86a-190">В таблице ниже перечислены методы создания виртуальной сети и подсетей.</span><span class="sxs-lookup"><span data-stu-id="3b86a-190">This table lists the methods that you can use to create a VNet and subnets.</span></span> 

| <span data-ttu-id="3b86a-191">Метод</span><span class="sxs-lookup"><span data-stu-id="3b86a-191">Method</span></span> | <span data-ttu-id="3b86a-192">Описание</span><span class="sxs-lookup"><span data-stu-id="3b86a-192">Description</span></span> |
| ------ | ----------- |
| [<span data-ttu-id="3b86a-193">портале Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-193">Azure portal</span></span>](../../virtual-network/virtual-networks-create-vnet-arm-pportal.md) | <span data-ttu-id="3b86a-194">Если виртуальная сеть создана при создании виртуальной машины, то ее имя состоит из имени группы ресурсов, в которой находится виртуальная сеть, и части **-vnet**.</span><span class="sxs-lookup"><span data-stu-id="3b86a-194">If you let Azure create a VNet when you create a VM, the name is a combination of the resource group name that contains the VNet and **-vnet**.</span></span> <span data-ttu-id="3b86a-195">Адресное пространство — 10.0.0.0/24, обязательное имя подсети — **default**, а диапазон адресов подсети — 10.0.0.0/24.</span><span class="sxs-lookup"><span data-stu-id="3b86a-195">The address space is 10.0.0.0/24, the required subnet name is **default**, and the subnet address range is 10.0.0.0/24.</span></span> |
| [<span data-ttu-id="3b86a-196">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3b86a-196">Azure PowerShell</span></span>](../../virtual-network/virtual-networks-create-vnet-arm-ps.md) | <span data-ttu-id="3b86a-197">Чтобы создать подсеть и виртуальную сеть, используйте командлеты [New-AzureRmVirtualNetworkSubnetConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmVirtualNetworkSubnetConfig) и [New-AzureRmVirtualNetwork](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmVirtualNetwork).</span><span class="sxs-lookup"><span data-stu-id="3b86a-197">You use [New-AzureRmVirtualNetworkSubnetConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmVirtualNetworkSubnetConfig) and [New-AzureRmVirtualNetwork](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmVirtualNetwork) to create a subnet and a VNet.</span></span> <span data-ttu-id="3b86a-198">Вы также можете добавить подсеть в имеющуюся виртуальную сеть с помощью командлета [Add-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/add-azurermvirtualnetworksubnetconfig).</span><span class="sxs-lookup"><span data-stu-id="3b86a-198">You can also use [Add-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/add-azurermvirtualnetworksubnetconfig) to add a subnet to an existing VNet.</span></span> |
| [<span data-ttu-id="3b86a-199">Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-199">Azure CLI</span></span>](../../virtual-network/virtual-networks-create-vnet-arm-cli.md) | <span data-ttu-id="3b86a-200">Подсеть и виртуальная сеть создаются одновременно.</span><span class="sxs-lookup"><span data-stu-id="3b86a-200">The subnet and the VNet are created at the same time.</span></span> <span data-ttu-id="3b86a-201">В команду [az network vnet create](https://docs.microsoft.com/cli/azure/network/vnet#create) добавьте параметр **--subnet-name** с именем подсети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-201">Provide a **--subnet-name** parameter to [az network vnet create](https://docs.microsoft.com/cli/azure/network/vnet#create) with the subnet name.</span></span> |
| [<span data-ttu-id="3b86a-202">Шаблон</span><span class="sxs-lookup"><span data-stu-id="3b86a-202">Template</span></span>](../../virtual-network/virtual-networks-create-vnet-arm-template-click.md) | <span data-ttu-id="3b86a-203">Для создания виртуальной сети и подсетей проще всего скачать готовый шаблон, например [Virtual Network with two Subnets](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vnet-two-subnets) (Виртуальная сеть с двумя подсетями), и изменить его в соответствии со своими потребностями.</span><span class="sxs-lookup"><span data-stu-id="3b86a-203">The easiest way to create a VNet and subnets is to download an existing template, such as [Virtual Network with two Subnets](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vnet-two-subnets), and modify it for your needs.</span></span> |

## <a name="network-security-groups"></a><span data-ttu-id="3b86a-204">Группы безопасности сети</span><span class="sxs-lookup"><span data-stu-id="3b86a-204">Network security groups</span></span>

<span data-ttu-id="3b86a-205">[Группа безопасности сети](../../virtual-network/virtual-networks-nsg.md) содержит перечень правил списка управления доступом (ACL), которые разрешают или запрещают сетевой трафик к подсетям и сетевым интерфейсам (или и к тому, и к другому).</span><span class="sxs-lookup"><span data-stu-id="3b86a-205">A [network security group (NSG)](../../virtual-network/virtual-networks-nsg.md) contains a list of Access Control List (ACL) rules that allow or deny network traffic to subnets, NICs, or both.</span></span> <span data-ttu-id="3b86a-206">Группы безопасности сети можно связать с подсетями или отдельными сетевыми интерфейсами, подключенными к подсети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-206">NSGs can be associated with either subnets or individual NICs connected to a subnet.</span></span> <span data-ttu-id="3b86a-207">Если группа безопасности сети связана с подсетью, правила списка управления доступом применяются ко всем виртуальным машинам в этой подсети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-207">When an NSG is associated with a subnet, the ACL rules apply to all the VMs in that subnet.</span></span> <span data-ttu-id="3b86a-208">Кроме того, трафик к отдельным сетевым интерфейсам можно ограничить, связав группу безопасности сети непосредственно с нужным сетевым интерфейсом.</span><span class="sxs-lookup"><span data-stu-id="3b86a-208">In addition, traffic to an individual NIC can be restricted by associating an NSG directly to a NIC.</span></span>

<span data-ttu-id="3b86a-209">Группы безопасности сети содержат два набора правил: для входящего и исходящего трафика.</span><span class="sxs-lookup"><span data-stu-id="3b86a-209">NSGs contain two sets of rules: inbound and outbound.</span></span> <span data-ttu-id="3b86a-210">Приоритет для правила должен быть уникальным в пределах каждого набора.</span><span class="sxs-lookup"><span data-stu-id="3b86a-210">The priority for a rule must be unique within each set.</span></span> <span data-ttu-id="3b86a-211">Каждое правило имеет свойства протокола, диапазоны исходных портов и портов назначения, префиксы адресов, направление трафика, приоритет и тип доступа.</span><span class="sxs-lookup"><span data-stu-id="3b86a-211">Each rule has properties of protocol, source and destination port ranges, address prefixes, direction of traffic, priority, and access type.</span></span> 

<span data-ttu-id="3b86a-212">Все группы NSG содержат набор правил по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="3b86a-212">All NSGs contain a set of default rules.</span></span> <span data-ttu-id="3b86a-213">Эти правила нельзя удалить, но у них самый низкий приоритет, поэтому их можно переопределить, создав другие правила.</span><span class="sxs-lookup"><span data-stu-id="3b86a-213">The default rules cannot be deleted, but because they are assigned the lowest priority, they can be overridden by the rules that you create.</span></span> 

<span data-ttu-id="3b86a-214">При связывании группы безопасности сети с сетевой картой правила доступа к сети в этой группе NSG применяются только для данной сетевой карты.</span><span class="sxs-lookup"><span data-stu-id="3b86a-214">When you associate an NSG to a NIC, the network access rules in the NSG are applied only to that NIC.</span></span> <span data-ttu-id="3b86a-215">Если группа безопасности сети применяется к одному сетевому интерфейсу на виртуальной машине с несколькими сетевыми интерфейсами, она не влияет на трафик других сетевых интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="3b86a-215">If an NSG is applied to a single NIC on a multi-NIC VM, it does not affect traffic to the other NICs.</span></span> <span data-ttu-id="3b86a-216">Различные группы безопасности сети можно связать с сетевым интерфейсом (или виртуальной машиной в зависимости от модели развертывания) и подсетью, с которой связан сетевой интерфейс или виртуальная машина.</span><span class="sxs-lookup"><span data-stu-id="3b86a-216">You can associate different NSGs to a NIC (or VM, depending on the deployment model) and the subnet that a NIC or VM is bound to.</span></span> <span data-ttu-id="3b86a-217">Приоритет определяется в зависимости от направления трафика.</span><span class="sxs-lookup"><span data-stu-id="3b86a-217">Priority is given based on the direction of traffic.</span></span>

<span data-ttu-id="3b86a-218">При планировании виртуальных машин и сети [спланируйте](../../virtual-network/virtual-networks-nsg.md#planning) также группы безопасности сети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-218">Be sure to [plan](../../virtual-network/virtual-networks-nsg.md#planning) your NSGs when you plan your VMs and VNet.</span></span>

<span data-ttu-id="3b86a-219">В таблице ниже перечислены методы создания группы безопасности сети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-219">This table lists the methods that you can use to create a network security group.</span></span>

| <span data-ttu-id="3b86a-220">Метод</span><span class="sxs-lookup"><span data-stu-id="3b86a-220">Method</span></span> | <span data-ttu-id="3b86a-221">Описание</span><span class="sxs-lookup"><span data-stu-id="3b86a-221">Description</span></span> |
| ------ | ----------- |
| [<span data-ttu-id="3b86a-222">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-222">Azure portal</span></span>](../../virtual-network/virtual-networks-create-nsg-arm-pportal.md) | <span data-ttu-id="3b86a-223">При создании виртуальной машины на портале Azure группа безопасности сети создается автоматически и связывается с сетевым интерфейсом, созданным на портале.</span><span class="sxs-lookup"><span data-stu-id="3b86a-223">When you create a VM in the Azure portal, an NSG is automatically created and associated to the NIC the portal creates.</span></span> <span data-ttu-id="3b86a-224">Имя группы безопасности сети состоит из имени виртуальной машины и части **-nsg**.</span><span class="sxs-lookup"><span data-stu-id="3b86a-224">The name of the NSG is a combination of the name of the VM and **-nsg**.</span></span> <span data-ttu-id="3b86a-225">Эта группа безопасности сети содержит одно правило для входящего подключения с приоритетом 1000, разрешением RDP, протоколом TCP, портом 3389 и действием "Разрешить".</span><span class="sxs-lookup"><span data-stu-id="3b86a-225">This NSG contains one inbound rule with a priority of 1000, service set to RDP, the protocol set to TCP, port set to 3389, and action set to Allow.</span></span> <span data-ttu-id="3b86a-226">Если вы хотите разрешить любой другой входящий трафик к виртуальной машине, добавьте в эту группу безопасности сети дополнительные правила.</span><span class="sxs-lookup"><span data-stu-id="3b86a-226">If you want to allow any other inbound traffic to the VM, you must add additional rules to the NSG.</span></span> |
| [<span data-ttu-id="3b86a-227">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3b86a-227">Azure PowerShell</span></span>](../../virtual-network/virtual-networks-create-nsg-arm-ps.md) | <span data-ttu-id="3b86a-228">Используйте командлет [New AzureRmNetworkSecurityRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmNetworkSecurityRuleConfig) и предоставьте сведения о необходимом правиле.</span><span class="sxs-lookup"><span data-stu-id="3b86a-228">Use [New-AzureRmNetworkSecurityRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmNetworkSecurityRuleConfig) and provide the required rule information.</span></span> <span data-ttu-id="3b86a-229">Командлет [New-AzureRmNetworkSecurityGroup](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmNetworkSecurityGroup) позволяет создать группу безопасности сети,</span><span class="sxs-lookup"><span data-stu-id="3b86a-229">Use [New-AzureRmNetworkSecurityGroup](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmNetworkSecurityGroup) to create the NSG.</span></span> <span data-ttu-id="3b86a-230">командлет [Set-AzureRmVirtualNetworkSubnetConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/Set-AzureRmVirtualNetworkSubnetConfig) — настроить группу безопасности сети для подсети,</span><span class="sxs-lookup"><span data-stu-id="3b86a-230">Use [Set-AzureRmVirtualNetworkSubnetConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/Set-AzureRmVirtualNetworkSubnetConfig) to configure the NSG for the subnet.</span></span> <span data-ttu-id="3b86a-231">а командлет [Set-AzureRmVirtualNetwork](/powershell/module/azurerm.network/set-azurermvirtualnetwork) — добавить группу безопасности сети в виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="3b86a-231">Use [Set-AzureRmVirtualNetwork](/powershell/module/azurerm.network/set-azurermvirtualnetwork) to add the NSG to the VNet.</span></span> |
| [<span data-ttu-id="3b86a-232">Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-232">Azure CLI</span></span>](../../virtual-network/virtual-networks-create-nsg-arm-cli.md) | <span data-ttu-id="3b86a-233">Используйте команду [az network nsg create](https://docs.microsoft.com/cli/azure/network/nsg#create), чтобы изначально создать группу безопасности сети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-233">Use [az network nsg create](https://docs.microsoft.com/cli/azure/network/nsg#create) to initially create the NSG.</span></span> <span data-ttu-id="3b86a-234">Команда [az network nsg rule create](https://docs.microsoft.com/cli/azure/network/nsg/rule#create) позволяет добавить правила в группу безопасности сети,</span><span class="sxs-lookup"><span data-stu-id="3b86a-234">Use [az network nsg rule create](https://docs.microsoft.com/cli/azure/network/nsg/rule#create) to add rules to the NSG.</span></span> <span data-ttu-id="3b86a-235">а команда [az network vnet subnet update](https://docs.microsoft.com/en-us/cli/azure/network/vnet/subnet#update) — добавить группу безопасности сети в подсеть.</span><span class="sxs-lookup"><span data-stu-id="3b86a-235">Use [az network vnet subnet update](https://docs.microsoft.com/en-us/cli/azure/network/vnet/subnet#update) to add the NSG to the subnet.</span></span> |
| [<span data-ttu-id="3b86a-236">Шаблон</span><span class="sxs-lookup"><span data-stu-id="3b86a-236">Template</span></span>](../../virtual-network/virtual-networks-create-nsg-arm-template.md) | <span data-ttu-id="3b86a-237">Используйте шаблон [Create a Network Security Group](https://github.com/Azure/azure-quickstart-templates/tree/master/101-security-group-create) (Создание группы безопасности сети) в качестве руководства по развертыванию группы безопасности сети с помощью шаблона.</span><span class="sxs-lookup"><span data-stu-id="3b86a-237">Use [Create a Network Security Group](https://github.com/Azure/azure-quickstart-templates/tree/master/101-security-group-create) as a guide for deploying a network security group using a template.</span></span> |

## <a name="load-balancers"></a><span data-ttu-id="3b86a-238">Балансировщики нагрузки</span><span class="sxs-lookup"><span data-stu-id="3b86a-238">Load balancers</span></span>

<span data-ttu-id="3b86a-239">[Azure Load Balancer](../../load-balancer/load-balancer-overview.md) обеспечивает высокую доступность и производительность сети для приложений.</span><span class="sxs-lookup"><span data-stu-id="3b86a-239">[Azure Load Balancer](../../load-balancer/load-balancer-overview.md) delivers high availability and network performance to your applications.</span></span> <span data-ttu-id="3b86a-240">Балансировщик нагрузки можно настроить для [балансировки входящего интернет-трафика](../../load-balancer/load-balancer-internet-overview.md) виртуальных машин или для [балансировки трафика между виртуальными машинами в виртуальной сети](../../load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3b86a-240">A load balancer can be configured to [balance incoming Internet traffic](../../load-balancer/load-balancer-internet-overview.md) to VMs or [balance traffic between VMs in a VNet](../../load-balancer/load-balancer-internal-overview.md).</span></span> <span data-ttu-id="3b86a-241">Кроме того, балансировщик нагрузки может выполнять балансировку трафика между локальными компьютерами и виртуальными машинами в распределенных сетях или перенаправлять внешний трафик на определенную виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="3b86a-241">A load balancer can also balance traffic between on-premises computers and VMs in a cross-premises network, or forward external traffic to a specific VM.</span></span>

<span data-ttu-id="3b86a-242">Балансировщик нагрузки сопоставляет входящий и исходящий трафик между общедоступным IP-адресом и портом в балансировщике нагрузки и частным IP-адресом и портом виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="3b86a-242">The load balancer maps incoming and outgoing traffic between the public IP address and port on the load balancer and the private IP address and port of the VM.</span></span>

<span data-ttu-id="3b86a-243">При создании балансировщика нагрузки необходимо также учитывать следующие элементы конфигурации.</span><span class="sxs-lookup"><span data-stu-id="3b86a-243">When you create a load balancer, you must also consider these configuration elements:</span></span>

- <span data-ttu-id="3b86a-244">**Конфигурация внешних IP-адресов.** Балансировщик нагрузки может включать в себя один или несколько внешних IP-адресов, которые также называются виртуальными IP-адресами (VIP).</span><span class="sxs-lookup"><span data-stu-id="3b86a-244">**Front-end IP configuration** – A load balancer can include one or more front-end IP addresses, otherwise known as virtual IPs (VIPs).</span></span> <span data-ttu-id="3b86a-245">Такие IP-адреса обеспечивают поступление трафика.</span><span class="sxs-lookup"><span data-stu-id="3b86a-245">These IP addresses serve as ingress for the traffic.</span></span>
- <span data-ttu-id="3b86a-246">**Пул внутренних адресов.** Это IP-адреса, связанные с сетевым интерфейсом, на который передается нагрузка.</span><span class="sxs-lookup"><span data-stu-id="3b86a-246">**Back-end address pool** – IP addresses that are associated with the NIC to which load is distributed.</span></span>
- <span data-ttu-id="3b86a-247">**Правила преобразования сетевых адресов.** Эти правила определяют, как входящий трафик проходит через внешний IP-адрес и передается внутреннему IP-адресу.</span><span class="sxs-lookup"><span data-stu-id="3b86a-247">**NAT rules** - Defines how inbound traffic flows through the front-end IP and distributed to the back-end IP.</span></span>
- <span data-ttu-id="3b86a-248">**Правила балансировщика нагрузки.** Сопоставляют указанное сочетание внешнего IP-адреса и порта с набором внутренних IP-адресов и портов.</span><span class="sxs-lookup"><span data-stu-id="3b86a-248">**Load balancer rules** - Maps a given front-end IP and port combination to a set of back-end IP addresses and port combination.</span></span> <span data-ttu-id="3b86a-249">Отдельный балансировщик нагрузки может применять несколько правил балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-249">A single load balancer can have multiple load balancing rules.</span></span> <span data-ttu-id="3b86a-250">Каждое правило представляет собой сочетание интерфейсных IP-адреса и порта и внутренних IP-адреса и порта, связанных с виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="3b86a-250">Each rule is a combination of a front-end IP and port and back-end IP and port associated with VMs.</span></span>
- <span data-ttu-id="3b86a-251">**[Пробы.](../../load-balancer/load-balancer-custom-probe-overview.md)** Пробы позволяют отслеживать работоспособность виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="3b86a-251">**[Probes](../../load-balancer/load-balancer-custom-probe-overview.md)** - Monitors the health of VMs.</span></span> <span data-ttu-id="3b86a-252">Если проба не отвечает, балансировщик нагрузки прекращает отправлять новые подключения неработоспособным виртуальным машинам.</span><span class="sxs-lookup"><span data-stu-id="3b86a-252">When a probe fails to respond, the load balancer stops sending new connections to the unhealthy VM.</span></span> <span data-ttu-id="3b86a-253">Это не влияет на имеющиеся подключения, а новые подключения отправляются на работоспособные виртуальные машины.</span><span class="sxs-lookup"><span data-stu-id="3b86a-253">The existing connections are not affected, and new connections are sent to healthy VMs.</span></span>

<span data-ttu-id="3b86a-254">В таблице ниже перечислены методы создания балансировщика нагрузки с выходом в Интернет.</span><span class="sxs-lookup"><span data-stu-id="3b86a-254">This table lists the methods that you can use to create an internet-facing load balancer.</span></span>

| <span data-ttu-id="3b86a-255">Метод</span><span class="sxs-lookup"><span data-stu-id="3b86a-255">Method</span></span> | <span data-ttu-id="3b86a-256">Описание</span><span class="sxs-lookup"><span data-stu-id="3b86a-256">Description</span></span> |
| ------ | ----------- |
| <span data-ttu-id="3b86a-257">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-257">Azure portal</span></span> | <span data-ttu-id="3b86a-258">В настоящее время на портале Azure нельзя создать балансировщик нагрузки с выходом в Интернет.</span><span class="sxs-lookup"><span data-stu-id="3b86a-258">You can't currently create an internet-facing load balancer using the Azure portal.</span></span> |
| [<span data-ttu-id="3b86a-259">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3b86a-259">Azure PowerShell</span></span>](../../load-balancer/load-balancer-get-started-internet-arm-ps.md) | <span data-ttu-id="3b86a-260">Используйте командлет [New-AzureRmLoadBalancerFrontendIpConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerFrontendIpConfig) с параметром **-PublicIpAddress**, чтобы указать идентификатор созданного ранее общедоступного IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="3b86a-260">To provide the identifer of the public IP address that you previously created, use [New-AzureRmLoadBalancerFrontendIpConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerFrontendIpConfig) with the **-PublicIpAddress** parameter.</span></span> <span data-ttu-id="3b86a-261">Командлет [New-AzureRmLoadBalancerBackendAddressPoolConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerBackendAddressPoolConfig) позволяет создать конфигурацию пула внутренних адресов,</span><span class="sxs-lookup"><span data-stu-id="3b86a-261">Use [New-AzureRmLoadBalancerBackendAddressPoolConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerBackendAddressPoolConfig) to create the configuration of the back-end address pool.</span></span> <span data-ttu-id="3b86a-262">командлет [New-AzureRmLoadBalancerInboundNatRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerInboundNatRuleConfig) — правила преобразования сетевых адресов для входящих подключений, связанные с созданной конфигурацией внешних IP-адресов,</span><span class="sxs-lookup"><span data-stu-id="3b86a-262">Use [New-AzureRmLoadBalancerInboundNatRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerInboundNatRuleConfig) to create inbound NAT rules associated with the front-end IP configuration that you created.</span></span> <span data-ttu-id="3b86a-263">командлет [New-AzureRmLoadBalancerProbeConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerProbeConfig) — необходимые пробы,</span><span class="sxs-lookup"><span data-stu-id="3b86a-263">Use [New-AzureRmLoadBalancerProbeConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerProbeConfig) to create the probes that you need.</span></span> <span data-ttu-id="3b86a-264">командлет [New-AzureRmLoadBalancerRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerRuleConfig) — конфигурацию балансировщика нагрузки,</span><span class="sxs-lookup"><span data-stu-id="3b86a-264">Use [New-AzureRmLoadBalancerRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerRuleConfig) to create the load balancer configuration.</span></span> <span data-ttu-id="3b86a-265">а командлет [New-AzureRmLoadBalancer](/powershell/module/azurerm.network/new-azurermloadbalancer) — балансировщик нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-265">Use [New-AzureRmLoadBalancer](/powershell/module/azurerm.network/new-azurermloadbalancer) to create the load balancer.</span></span>|
| [<span data-ttu-id="3b86a-266">Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-266">Azure CLI</span></span>](../../load-balancer/load-balancer-get-started-internet-arm-cli.md) | <span data-ttu-id="3b86a-267">Используйте команду [az network lb create](https://docs.microsoft.com/cli/azure/network/lb#create), чтобы создать начальную конфигурацию балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-267">Use [az network lb create](https://docs.microsoft.com/cli/azure/network/lb#create) to create the initial load balancer configuration.</span></span> <span data-ttu-id="3b86a-268">Команда [az network lb frontend-ip create](https://docs.microsoft.com/cli/azure/network/lb/frontend-ip#create) позволяет добавить созданный ранее общедоступный IP-адрес,</span><span class="sxs-lookup"><span data-stu-id="3b86a-268">Use [az network lb frontend-ip create](https://docs.microsoft.com/cli/azure/network/lb/frontend-ip#create) to add the public IP address that you previously created.</span></span> <span data-ttu-id="3b86a-269">команда [az network lb address-pool create](https://docs.microsoft.com/cli/azure/network/lb/address-pool#create) — конфигурацию пула внутренних адресов,</span><span class="sxs-lookup"><span data-stu-id="3b86a-269">Use [az network lb address-pool create](https://docs.microsoft.com/cli/azure/network/lb/address-pool#create) to add the configuration of the back-end address pool.</span></span> <span data-ttu-id="3b86a-270">команда [az network lb inbound-nat-rule create](https://docs.microsoft.com/cli/azure/network/lb/inbound-nat-rule#create) — правила преобразования сетевых адресов,</span><span class="sxs-lookup"><span data-stu-id="3b86a-270">Use [az network lb inbound-nat-rule create](https://docs.microsoft.com/cli/azure/network/lb/inbound-nat-rule#create) to add NAT rules.</span></span> <span data-ttu-id="3b86a-271">команда [az network lb rule create](https://docs.microsoft.com/cli/azure/network/lb/rule#create) — правила балансировщика нагрузки,</span><span class="sxs-lookup"><span data-stu-id="3b86a-271">Use [az network lb rule create](https://docs.microsoft.com/cli/azure/network/lb/rule#create) to add the load balancer rules.</span></span> <span data-ttu-id="3b86a-272">а команда [az network lb probe create](https://docs.microsoft.com/cli/azure/network/lb/probe#create) — пробы.</span><span class="sxs-lookup"><span data-stu-id="3b86a-272">Use [az network lb probe create](https://docs.microsoft.com/cli/azure/network/lb/probe#create) to add the probes.</span></span> |
| [<span data-ttu-id="3b86a-273">Шаблон</span><span class="sxs-lookup"><span data-stu-id="3b86a-273">Template</span></span>](../../load-balancer/load-balancer-get-started-internet-arm-template.md) | <span data-ttu-id="3b86a-274">Используйте шаблон [2 VMs in a Load Balancer and configure NAT rules on the LB](https://github.com/Azure/azure-quickstart-templates/tree/master/201-2-vms-loadbalancer-natrules) (2 виртуальные машины в балансировщике нагрузки и настройка правил преобразования сетевых адресов для балансировки нагрузки) в качестве руководства по развертыванию балансировщика нагрузки с помощью шаблона.</span><span class="sxs-lookup"><span data-stu-id="3b86a-274">Use [2 VMs in a Load Balancer and configure NAT rules on the LB](https://github.com/Azure/azure-quickstart-templates/tree/master/201-2-vms-loadbalancer-natrules) as a guide for deploying a load balancer using a template.</span></span> |
    
<span data-ttu-id="3b86a-275">В таблице ниже перечислены методы создания внутреннего балансировщика нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-275">This table lists the methods that you can use to create an internal load balancer.</span></span>

| <span data-ttu-id="3b86a-276">Метод</span><span class="sxs-lookup"><span data-stu-id="3b86a-276">Method</span></span> | <span data-ttu-id="3b86a-277">Описание</span><span class="sxs-lookup"><span data-stu-id="3b86a-277">Description</span></span> |
| ------ | ----------- |
| <span data-ttu-id="3b86a-278">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-278">Azure portal</span></span> | <span data-ttu-id="3b86a-279">В настоящее время на портале Azure нельзя создать внутренний балансировщик нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-279">You can't currently create an internal load balancer using the Azure portal.</span></span> |
| [<span data-ttu-id="3b86a-280">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3b86a-280">Azure PowerShell</span></span>](../../load-balancer/load-balancer-get-started-ilb-arm-ps.md) | <span data-ttu-id="3b86a-281">Используйте командлет [New-AzureRmLoadBalancerFrontendIpConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerFrontendIpConfig) с параметром **-PrivateIpAddress**, чтобы указать частный IP-адрес в подсети сети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-281">To provide a private IP address in the network subnet, use [New-AzureRmLoadBalancerFrontendIpConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerFrontendIpConfig) with the **-PrivateIpAddress** parameter.</span></span> <span data-ttu-id="3b86a-282">Командлет [New-AzureRmLoadBalancerBackendAddressPoolConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerBackendAddressPoolConfig) позволяет создать конфигурацию пула внутренних адресов,</span><span class="sxs-lookup"><span data-stu-id="3b86a-282">Use [New-AzureRmLoadBalancerBackendAddressPoolConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerBackendAddressPoolConfig) to create the configuration of the back-end address pool.</span></span> <span data-ttu-id="3b86a-283">командлет [New-AzureRmLoadBalancerInboundNatRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerInboundNatRuleConfig) — правила преобразования сетевых адресов для входящих подключений, связанные с созданной конфигурацией внешних IP-адресов,</span><span class="sxs-lookup"><span data-stu-id="3b86a-283">Use [New-AzureRmLoadBalancerInboundNatRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerInboundNatRuleConfig) to create inbound NAT rules associated with the front-end IP configuration that you created.</span></span> <span data-ttu-id="3b86a-284">командлет [New-AzureRmLoadBalancerProbeConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerProbeConfig) — необходимые пробы,</span><span class="sxs-lookup"><span data-stu-id="3b86a-284">Use [New-AzureRmLoadBalancerProbeConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerProbeConfig) to create the probes that you need.</span></span> <span data-ttu-id="3b86a-285">командлет [New-AzureRmLoadBalancerRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerRuleConfig) — конфигурацию балансировщика нагрузки,</span><span class="sxs-lookup"><span data-stu-id="3b86a-285">Use [New-AzureRmLoadBalancerRuleConfig](https://docs.microsoft.com/powershell/resourcemanager/AzureRM.Network/v1.0.13/New-AzureRmLoadBalancerRuleConfig) to create the load balancer configuration.</span></span> <span data-ttu-id="3b86a-286">а командлет [New-AzureRmLoadBalancer](/powershell/module/azurerm.network/new-azurermloadbalancer) — балансировщик нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-286">Use [New-AzureRmLoadBalancer](/powershell/module/azurerm.network/new-azurermloadbalancer) to create the load balancer.</span></span>|
| [<span data-ttu-id="3b86a-287">Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-287">Azure CLI</span></span>](../../load-balancer/load-balancer-get-started-ilb-arm-cli.md) | <span data-ttu-id="3b86a-288">Используйте команду [az network lb create](https://docs.microsoft.com/cli/azure/network/lb#create), чтобы создать начальную конфигурацию балансировщика нагрузки,</span><span class="sxs-lookup"><span data-stu-id="3b86a-288">Use the [az network lb create](https://docs.microsoft.com/cli/azure/network/lb#create) command to create the initial load balancer configuration.</span></span> <span data-ttu-id="3b86a-289">и команду [az network lb frontend-ip create](https://docs.microsoft.com/cli/azure/network/lb/frontend-ip#create) с параметром **--private-ip-address**, чтобы определить частный IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="3b86a-289">To define the private IP address, use [az network lb frontend-ip create](https://docs.microsoft.com/cli/azure/network/lb/frontend-ip#create) with the **--private-ip-address** parameter.</span></span> <span data-ttu-id="3b86a-290">Команда [az network lb address-pool create](https://docs.microsoft.com/cli/azure/network/lb/address-pool#create) позволяет добавить конфигурацию пула внутренних адресов,</span><span class="sxs-lookup"><span data-stu-id="3b86a-290">Use [az network lb address-pool create](https://docs.microsoft.com/cli/azure/network/lb/address-pool#create) to add the configuration of the back-end address pool.</span></span> <span data-ttu-id="3b86a-291">команда [az network lb inbound-nat-rule create](https://docs.microsoft.com/cli/azure/network/lb/inbound-nat-rule#create) — правила преобразования сетевых адресов,</span><span class="sxs-lookup"><span data-stu-id="3b86a-291">Use [az network lb inbound-nat-rule create](https://docs.microsoft.com/cli/azure/network/lb/inbound-nat-rule#create) to add NAT rules.</span></span> <span data-ttu-id="3b86a-292">команда [az network lb rule create](https://docs.microsoft.com/cli/azure/network/lb/rule#create) — правила балансировщика нагрузки,</span><span class="sxs-lookup"><span data-stu-id="3b86a-292">Use [az network lb rule create](https://docs.microsoft.com/cli/azure/network/lb/rule#create) to add the load balancer rules.</span></span> <span data-ttu-id="3b86a-293">а команда [az network lb probe create](https://docs.microsoft.com/cli/azure/network/lb/probe#create) — пробы.</span><span class="sxs-lookup"><span data-stu-id="3b86a-293">Use [az network lb probe create](https://docs.microsoft.com/cli/azure/network/lb/probe#create) to add the probes.</span></span>|
| [<span data-ttu-id="3b86a-294">Шаблон</span><span class="sxs-lookup"><span data-stu-id="3b86a-294">Template</span></span>](../../load-balancer/load-balancer-get-started-ilb-arm-template.md) | <span data-ttu-id="3b86a-295">Используйте шаблон [2 VMs in a Load Balancer and configure NAT rules on the LB](https://github.com/Azure/azure-quickstart-templates/tree/master/201-2-vms-internal-load-balancer) (2 виртуальные машины в балансировщике нагрузки и настройка правил преобразования сетевых адресов для балансировки нагрузки) в качестве руководства по развертыванию балансировщика нагрузки с помощью шаблона.</span><span class="sxs-lookup"><span data-stu-id="3b86a-295">Use [2 VMs in a Load Balancer and configure NAT rules on the LB](https://github.com/Azure/azure-quickstart-templates/tree/master/201-2-vms-internal-load-balancer) as a guide for deploying a load balancer using a template.</span></span> |

## <a name="vms"></a><span data-ttu-id="3b86a-296">Виртуальные машины</span><span class="sxs-lookup"><span data-stu-id="3b86a-296">VMs</span></span>

<span data-ttu-id="3b86a-297">Виртуальные машины можно создать в одной виртуальной сети, и они могут подключаться друг к другу с помощью частных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="3b86a-297">VMs can be created in the same VNet and they can connect to each other using private IP addresses.</span></span> <span data-ttu-id="3b86a-298">Они могут взаимодействовать, даже если находятся в разных подсетях. Для этого не нужно настраивать шлюз или использовать общедоступные IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="3b86a-298">They can connect even if they are in different subnets without the need to configure a gateway or use public IP addresses.</span></span> <span data-ttu-id="3b86a-299">Чтобы добавить виртуальные машины в виртуальную сеть, необходимо сначала создать виртуальную сеть, а затем, создавая виртуальные машины, назначить каждую определенной виртуальной сети или подсети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-299">To put VMs into a VNet, you create the VNet and then as you create each VM, you assign it to the VNet and subnet.</span></span> <span data-ttu-id="3b86a-300">Параметры сети виртуальных машин задаются во время развертывания или запуска,</span><span class="sxs-lookup"><span data-stu-id="3b86a-300">VMs acquire their network settings during deployment or startup.</span></span>  

<span data-ttu-id="3b86a-301">а IP-адрес назначается во время развертывания.</span><span class="sxs-lookup"><span data-stu-id="3b86a-301">VMs are assigned an IP address when they are deployed.</span></span> <span data-ttu-id="3b86a-302">Если в виртуальную сеть или подсеть развертывается несколько виртуальных машин, каждая из них получает свой IP-адрес во время загрузки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-302">If you deploy multiple VMs into a VNet or subnet, they are assigned IP addresses as they boot up.</span></span> <span data-ttu-id="3b86a-303">Динамический IP-адрес — это внутренний IP-адрес, связанный с виртуальной машиной.</span><span class="sxs-lookup"><span data-stu-id="3b86a-303">A dynamic IP address (DIP) is the internal IP address associated with a VM.</span></span> <span data-ttu-id="3b86a-304">Виртуальной машине можно выделить статический динамический IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="3b86a-304">You can allocate a static DIP to a VM.</span></span> <span data-ttu-id="3b86a-305">При выделении статического динамического IP-адреса используйте определенную подсеть. Это позволит избежать назначения этого IP-адреса для другой виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="3b86a-305">If you allocate a static DIP, you should consider using a specific subnet to avoid accidentally reusing a static DIP for another VM.</span></span>  

<span data-ttu-id="3b86a-306">Если вы создали виртуальную машину, а затем хотите добавить ее в виртуальную сеть, потребуется много усилий, чтобы изменить настройки.</span><span class="sxs-lookup"><span data-stu-id="3b86a-306">If you create a VM and later want to migrate it into a VNet, it is not a simple configuration change.</span></span> <span data-ttu-id="3b86a-307">В этом случае виртуальную машину необходимо повторно развернуть в виртуальную сеть.</span><span class="sxs-lookup"><span data-stu-id="3b86a-307">You must redeploy the VM into the VNet.</span></span> <span data-ttu-id="3b86a-308">Проще всего удалить виртуальную машину (но не присоединенные к ней диски), а затем повторно создать ее в виртуальной сети, используя исходные диски.</span><span class="sxs-lookup"><span data-stu-id="3b86a-308">The easiest way to redeploy is to delete the VM, but not any disks attached to it, and then re-create the VM using the original disks in the VNet.</span></span> 

<span data-ttu-id="3b86a-309">В таблице ниже перечислены методы создания виртуальной машины в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="3b86a-309">This table lists the methods that you can use to create a VM in a VNet.</span></span>

| <span data-ttu-id="3b86a-310">Метод</span><span class="sxs-lookup"><span data-stu-id="3b86a-310">Method</span></span> | <span data-ttu-id="3b86a-311">Описание</span><span class="sxs-lookup"><span data-stu-id="3b86a-311">Description</span></span> |
| ------ | ----------- |
| [<span data-ttu-id="3b86a-312">портале Azure</span><span class="sxs-lookup"><span data-stu-id="3b86a-312">Azure portal</span></span>](../virtual-machines-windows-hero-tutorial.md) | <span data-ttu-id="3b86a-313">Используйте указанные ранее стандартные параметры сети, чтобы создать виртуальную машину с одним сетевым интерфейсом.</span><span class="sxs-lookup"><span data-stu-id="3b86a-313">Uses the default network settings that were previously mentioned to create a VM with a single NIC.</span></span> <span data-ttu-id="3b86a-314">Однако виртуальная машина с несколькими сетевыми интерфейсами создается другим методом.</span><span class="sxs-lookup"><span data-stu-id="3b86a-314">To create a VM with multiple NICs, you must use a different method.</span></span> |
| [<span data-ttu-id="3b86a-315">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="3b86a-315">Azure PowerShell</span></span>](../virtual-machines-windows-ps-create.md) | <span data-ttu-id="3b86a-316">Используйте командлет [Add-AzureRmVMNetworkInterface](/powershell/module/azurerm.compute/add-azurermvmnetworkinterface), чтобы добавить в конфигурацию виртуальной машины созданный ранее сетевой интерфейс.</span><span class="sxs-lookup"><span data-stu-id="3b86a-316">Includes the use of [Add-AzureRmVMNetworkInterface](/powershell/module/azurerm.compute/add-azurermvmnetworkinterface) to add the NIC that you previously created to the VM configuration.</span></span> |
| [<span data-ttu-id="3b86a-317">Шаблон</span><span class="sxs-lookup"><span data-stu-id="3b86a-317">Template</span></span>](ps-template.md) | <span data-ttu-id="3b86a-318">Используйте шаблон [Very simple deployment of a Windows VM](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows) (Простое развертывание виртуальной машины Windows) в качестве руководства по развертыванию виртуальной машины с помощью шаблона.</span><span class="sxs-lookup"><span data-stu-id="3b86a-318">Use [Very simple deployment of a Windows VM](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows) as a guide for deploying a VM using a template.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="3b86a-319">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="3b86a-319">Next steps</span></span>

- <span data-ttu-id="3b86a-320">Дополнительные сведения об [определяемых пользователем маршрутах и IP-пересылке](../../virtual-network/virtual-networks-udr-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3b86a-320">Learn how to configure [user-defined routes and IP forwarding](../../virtual-network/virtual-networks-udr-overview.md).</span></span> 
- <span data-ttu-id="3b86a-321">Дополнительные сведения о [настройке подключения между виртуальными сетями](../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="3b86a-321">Learn how to configure [VNet to VNet connections](../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md).</span></span>
- <span data-ttu-id="3b86a-322">Дополнительные сведения об [устранении проблем с маршрутами](../../virtual-network/virtual-network-routes-troubleshoot-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3b86a-322">Learn how to [Troubleshoot routes](../../virtual-network/virtual-network-routes-troubleshoot-portal.md).</span></span>
