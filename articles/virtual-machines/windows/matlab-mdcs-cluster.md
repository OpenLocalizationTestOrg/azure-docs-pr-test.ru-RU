---
title: "Кластеры MATLAB на виртуальных машинах | Документация Майкрософт"
description: "Использование виртуальных машин Microsoft Azure для создания кластеров MATLAB Distributed Computing Server для запуска параллельных рабочих нагрузок MATLAB с ресурсоемкими вычислениями"
services: virtual-machines-windows
documentationcenter: 
author: mscurrell
manager: timlt
editor: 
ms.assetid: e9980ce9-124a-41f1-b9ec-f444c8ea5c72
ms.service: virtual-machines-windows
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: Windows
ms.workload: infrastructure-services
ms.date: 05/09/2016
ms.author: markscu
ms.openlocfilehash: b302c6b3c6acbb8552796e7fb1bfd153d23dceb3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="create-matlab-distributed-computing-server-clusters-on-azure-vms"></a><span data-ttu-id="93d64-103">Создание кластеров MATLAB Distributed Computing Server на виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="93d64-103">Create MATLAB Distributed Computing Server clusters on Azure VMs</span></span>
<span data-ttu-id="93d64-104">Используя виртуальные машины Microsoft Azure, вы можете создать один или несколько кластеров MATLAB Distributed Computing Server, в которых можно запускать параллельные рабочие нагрузки MATLAB для ресурсоемких вычислений.</span><span class="sxs-lookup"><span data-stu-id="93d64-104">Use Microsoft Azure virtual machines to create one or more MATLAB Distributed Computing Server clusters to run your compute-intensive parallel MATLAB workloads.</span></span> <span data-ttu-id="93d64-105">Установите программное обеспечение MATLAB Distributed Computing Server на виртуальную машину для использования в качестве базового образа. Затем примените шаблон быстрого запуска Azure или сценарий Azure PowerShell (доступный на [GitHub](https://github.com/Azure/azure-quickstart-templates/tree/master/matlab-cluster)) для развертывания кластера и управления им.</span><span class="sxs-lookup"><span data-stu-id="93d64-105">Install your MATLAB Distributed Computing Server software on a VM to use as a base image and use an Azure quickstart template or Azure PowerShell script (available on [GitHub](https://github.com/Azure/azure-quickstart-templates/tree/master/matlab-cluster)) to deploy and manage the cluster.</span></span> <span data-ttu-id="93d64-106">После развертывания подключитесь к кластеру, чтобы запустить рабочие нагрузки.</span><span class="sxs-lookup"><span data-stu-id="93d64-106">After deployment, connect to the cluster to run your workloads.</span></span>

## <a name="about-matlab-and-matlab-distributed-computing-server"></a><span data-ttu-id="93d64-107">О MATLAB и MATLAB Distributed Computing Server</span><span class="sxs-lookup"><span data-stu-id="93d64-107">About MATLAB and MATLAB Distributed Computing Server</span></span>
<span data-ttu-id="93d64-108">Платформа [MATLAB](http://www.mathworks.com/products/matlab/) оптимизирована для решения инженерных и научных задач.</span><span class="sxs-lookup"><span data-stu-id="93d64-108">The [MATLAB](http://www.mathworks.com/products/matlab/) platform is optimized for solving engineering and scientific problems.</span></span> <span data-ttu-id="93d64-109">Пользователи MATLAB, работающие с задачами крупномасштабной симуляции и обработки данных, могут задействовать продукты MathWorks для параллельных вычислений, чтобы ускорить рабочие нагрузки с ресурсоемкими вычислениями, используя преимущества вычислительных кластеров и служб Grid.</span><span class="sxs-lookup"><span data-stu-id="93d64-109">MATLAB users with large-scale simulations and data processing tasks can use MathWorks parallel computing products to speed up their compute-intensive workloads by taking advantage of compute clusters and grid services.</span></span> <span data-ttu-id="93d64-110">[Parallel Computing Toolbox](http://www.mathworks.com/products/parallel-computing/) позволяет пользователям MATLAB параллелизировать приложения и задействовать преимущества многоядерных процессоров, графических процессоров и вычислительных кластеров.</span><span class="sxs-lookup"><span data-stu-id="93d64-110">[Parallel Computing Toolbox](http://www.mathworks.com/products/parallel-computing/) lets MATLAB users parallelize applications and take advantage of multi-core processors, GPUs, and compute clusters.</span></span> <span data-ttu-id="93d64-111">[MATLAB Distributed Computing Server](http://www.mathworks.com/products/distriben/) позволяет пользователям MATLAB задействовать множество компьютеров в вычислительном кластере.</span><span class="sxs-lookup"><span data-stu-id="93d64-111">[MATLAB Distributed Computing Server](http://www.mathworks.com/products/distriben/) enables MATLAB users to utilize many computers in a compute cluster.</span></span>

<span data-ttu-id="93d64-112">Используя виртуальные машины Azure, можно создавать кластеры MATLAB Distributed Computing Server, в которых доступны те же механизмы для отправки параллельных рабочих нагрузок, что и в локальных кластерах. Такими рабочими нагрузками могут быть интерактивные задания, пакетные задания, независимые задачи и взаимодействующие задачи.</span><span class="sxs-lookup"><span data-stu-id="93d64-112">By using Azure virtual machines, you can create MATLAB Distributed Computing Server clusters that have all the same mechanisms available to submit parallel work as on-premises clusters, such as interactive jobs, batch jobs, independent tasks, and communicating tasks.</span></span> <span data-ttu-id="93d64-113">Использование Azure в сочетании с платформой MATLAB имеет множество преимуществ по сравнению с подготовкой и использованием традиционного локального оборудования. Среди этих преимуществ: поддержка широкого диапазона размеров виртуальных машин, возможность создавать кластеры по требованию для оплаты только тех вычислительных ресурсов, которые используются, а также возможность тестировать модели в масштабе.</span><span class="sxs-lookup"><span data-stu-id="93d64-113">Using Azure in conjunction with the MATLAB platform has many benefits compared to provisioning and using traditional on-premises hardware: a range of virtual machine sizes, creation of clusters on-demand so you pay only for the compute resources you use, and the ability to test models at scale.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="93d64-114">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="93d64-114">Prerequisites</span></span>
* <span data-ttu-id="93d64-115">**Клиентский компьютер** — необходим клиентский компьютер на базе Windows для обмена данными с Azure и кластером MATLAB Distributed Computing Server после развертывания.</span><span class="sxs-lookup"><span data-stu-id="93d64-115">**Client computer** - You'll need a Windows-based client computer to communicate with Azure and the MATLAB Distributed Computing Server cluster after deployment.</span></span>
* <span data-ttu-id="93d64-116">**Azure PowerShell** — ознакомьтесь с разделом [Установка и настройка Azure PowerShell](/powershell/azure/overview) , чтобы установить этот компонент на клиентском компьютере.</span><span class="sxs-lookup"><span data-stu-id="93d64-116">**Azure PowerShell** - See [How to install and configure Azure PowerShell](/powershell/azure/overview) to install it on your client computer.</span></span>
* <span data-ttu-id="93d64-117">**Подписка Azure** — если ее нет, можно за пару минут создать [бесплатную учетную запись](https://azure.microsoft.com/free/) .</span><span class="sxs-lookup"><span data-stu-id="93d64-117">**Azure subscription** - If you don't have a subscription, you can create a [free account](https://azure.microsoft.com/free/) in just a couple of minutes.</span></span> <span data-ttu-id="93d64-118">Для больших кластеров можно использовать подписку с оплатой по мере использования или другие варианты приобретения.</span><span class="sxs-lookup"><span data-stu-id="93d64-118">For larger clusters, consider a pay-as-you-go subscription or other purchase options.</span></span>
* <span data-ttu-id="93d64-119">**Квота ядер** — может потребоваться увеличить квоту на ядра для развертывания большого кластера или нескольких кластеров MATLAB Distributed Computing Server.</span><span class="sxs-lookup"><span data-stu-id="93d64-119">**Cores quota** - You might need to increase the core quota to deploy a large cluster or more than one MATLAB Distributed Computing Server cluster.</span></span> <span data-ttu-id="93d64-120">Чтобы увеличить квоту, бесплатно [отправьте запрос в службу поддержки](https://azure.microsoft.com/blog/2014/06/04/azure-limits-quotas-increase-requests/) .</span><span class="sxs-lookup"><span data-stu-id="93d64-120">To increase a quota, [open an online customer support request](https://azure.microsoft.com/blog/2014/06/04/azure-limits-quotas-increase-requests/) at no charge.</span></span>
* <span data-ttu-id="93d64-121">**Лицензии MATLAB, Parallel Computing Toolbox и MATLAB Distributed Computing Server** — скрипты предполагают использование [MathWorks Hosted License Manager](http://www.mathworks.com/products/parallel-computing/mathworks-hosted-license-manager/) для всех лицензий.</span><span class="sxs-lookup"><span data-stu-id="93d64-121">**MATLAB, Parallel Computing Toolbox, and MATLAB Distributed Computing Server licenses** - The scripts assume that the [MathWorks Hosted License Manager](http://www.mathworks.com/products/parallel-computing/mathworks-hosted-license-manager/) is used for all licenses.</span></span>  
* <span data-ttu-id="93d64-122">**Программное обеспечение MATLAB Distributed Computing Server** — будет установлено на виртуальную машину, используемую в качестве базового образа виртуальной машины для виртуальных машин кластера.</span><span class="sxs-lookup"><span data-stu-id="93d64-122">**MATLAB Distributed Computing Server software** - Will be installed on a VM that will be used as the base VM image for the cluster VMs.</span></span>

## <a name="high-level-steps"></a><span data-ttu-id="93d64-123">Шаги высокого уровня</span><span class="sxs-lookup"><span data-stu-id="93d64-123">High level steps</span></span>
<span data-ttu-id="93d64-124">Чтобы использовать виртуальные машины Azure для кластеров MATLAB Distributed Computing Server, требуется выполнить следующие действия.</span><span class="sxs-lookup"><span data-stu-id="93d64-124">To use Azure virtual machines for your MATLAB Distributed Computing Server clusters, the following high-level steps are required.</span></span> <span data-ttu-id="93d64-125">Подробные инструкции см. в сопроводительной документации по шаблону быстрого запуска и сценариям на сайте [GitHub](https://github.com/Azure/azure-quickstart-templates/tree/master/matlab-cluster).</span><span class="sxs-lookup"><span data-stu-id="93d64-125">Detailed instructions are in the documentation accompanying the quickstart template and scripts on [GitHub](https://github.com/Azure/azure-quickstart-templates/tree/master/matlab-cluster).</span></span>

1. <span data-ttu-id="93d64-126">**Создание базового образа виртуальной машины**</span><span class="sxs-lookup"><span data-stu-id="93d64-126">**Create a base VM image**</span></span>  

   * <span data-ttu-id="93d64-127">Загрузите и установите программное обеспечение MATLAB Distributed Computing Server на эту виртуальную машину.</span><span class="sxs-lookup"><span data-stu-id="93d64-127">Download and install MATLAB Distributed Computing Server software onto this VM.</span></span>

     > [!NOTE]
     > <span data-ttu-id="93d64-128">Этот процесс может занять несколько часов, но его требуется выполнить только один раз для каждой используемой версии MATLAB.</span><span class="sxs-lookup"><span data-stu-id="93d64-128">This process can take a couple of hours, but you only have to do it once for each version of MATLAB you use.</span></span>   
     >
     >
2. <span data-ttu-id="93d64-129">**Создание одного или нескольких кластеров**</span><span class="sxs-lookup"><span data-stu-id="93d64-129">**Create one or more clusters**</span></span>  

   * <span data-ttu-id="93d64-130">Используйте предоставленный скрипт PowerShell или шаблон быстрого запуска для создания кластера из базового образа виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="93d64-130">Use the supplied PowerShell script or use the quickstart template to create a cluster from the base VM image.</span></span>   
   * <span data-ttu-id="93d64-131">Управление кластерами осуществляется с помощью предоставленного скрипта PowerShell, который позволяет перечислять, приостанавливать, возобновлять и удалять кластеры.</span><span class="sxs-lookup"><span data-stu-id="93d64-131">Manage the clusters using the supplied PowerShell script which allows you to list, pause, resume, and delete clusters.</span></span>

## <a name="cluster-configurations"></a><span data-ttu-id="93d64-132">Конфигурации кластеров</span><span class="sxs-lookup"><span data-stu-id="93d64-132">Cluster configurations</span></span>
<span data-ttu-id="93d64-133">В настоящее время шаблон и скрипт для создания кластеров позволяют создать единую топологию MATLAB Distributed Computing Server.</span><span class="sxs-lookup"><span data-stu-id="93d64-133">Currently, the cluster creation script and template enable you to create a single MATLAB Distributed Computing Server topology.</span></span> <span data-ttu-id="93d64-134">При необходимости можно создать один или несколько дополнительных кластеров; при этом в каждом кластере может быть разное число рабочих виртуальных машин, различные размеры виртуальных машин и т. д.</span><span class="sxs-lookup"><span data-stu-id="93d64-134">If you want, create one or more additional clusters, with each cluster having a different number of worker VMs, using different VM sizes, and so on.</span></span>

### <a name="matlab-client-and-cluster-in-azure"></a><span data-ttu-id="93d64-135">Клиент и кластер MATLAB в Azure</span><span class="sxs-lookup"><span data-stu-id="93d64-135">MATLAB client and cluster in Azure</span></span>
<span data-ttu-id="93d64-136">Узел клиента MATLAB, узел планировщика заданий MATLAB и узлы рабочих ролей MATLAB Distributed Computing Server настраиваются как виртуальные машины Azure в виртуальной сети, как показано на следующем рисунке.</span><span class="sxs-lookup"><span data-stu-id="93d64-136">The MATLAB client node, MATLAB Job Scheduler node, and MATLAB Distributed Computing Server "worker" nodes are all configured as Azure VMs in a virtual network, as shown in the following figure.</span></span>


* <span data-ttu-id="93d64-137">Чтобы использовать кластер, подключитесь к узлу клиента с помощью удаленного рабочего стола.</span><span class="sxs-lookup"><span data-stu-id="93d64-137">To use the cluster, connect by Remote Desktop to the client node.</span></span> <span data-ttu-id="93d64-138">На узле клиента выполняется клиент MATLAB.</span><span class="sxs-lookup"><span data-stu-id="93d64-138">The client node runs the MATLAB client.</span></span>
* <span data-ttu-id="93d64-139">Узел клиента содержит общую папку, доступную для всех рабочих узлов.</span><span class="sxs-lookup"><span data-stu-id="93d64-139">The client node has a file share that can be accessed by all workers.</span></span>
* <span data-ttu-id="93d64-140">Для проверки лицензий на все программное обеспечение MATLAB используется диспетчер лицензий MathWorks Hosted License Manager.</span><span class="sxs-lookup"><span data-stu-id="93d64-140">MathWorks Hosted License Manager is used for the license checks for all MATLAB software.</span></span>
* <span data-ttu-id="93d64-141">По умолчанию на рабочих виртуальных машинах создается по одному рабочему узлу MATLAB Distributed Computing Server на ядро, но можно указать любое число.</span><span class="sxs-lookup"><span data-stu-id="93d64-141">By default, one MATLAB Distributed Computing Server worker per core is created on the worker VMs, but you can specify any number.</span></span>

## <a name="use-an-azure-based-cluster"></a><span data-ttu-id="93d64-142">Использование кластера на базе Azure</span><span class="sxs-lookup"><span data-stu-id="93d64-142">Use an Azure-based Cluster</span></span>
<span data-ttu-id="93d64-143">Как и в других типах кластеров MATLAB Distributed Computing Server, в клиенте MATLAB (на клиентской виртуальной машине) необходимо использовать диспетчер профилей кластеров (Cluster Profile Manager), чтобы создать профиль кластера планировщика заданий MATLAB.</span><span class="sxs-lookup"><span data-stu-id="93d64-143">As with other types of MATLAB Distributed Computing Server clusters, you need to use the Cluster Profile Manager in the MATLAB client (on the client VM) to create a MATLAB Job Scheduler cluster profile.</span></span>

![Диспетчер профилей кластеров](./media/matlab-mdcs-cluster/cluster_profile_manager.png)

## <a name="next-steps"></a><span data-ttu-id="93d64-145">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="93d64-145">Next steps</span></span>
* <span data-ttu-id="93d64-146">Подробные инструкции по развертыванию и управлению кластерами MATLAB Distributed Computing Server в Azure см. в репозитории [GitHub](https://github.com/Azure/azure-quickstart-templates/tree/master/matlab-cluster), содержащем шаблоны и сценарии.</span><span class="sxs-lookup"><span data-stu-id="93d64-146">For detailed instructions to deploy and manage MATLAB Distributed Computing Server clusters in Azure, see the [GitHub](https://github.com/Azure/azure-quickstart-templates/tree/master/matlab-cluster) repository containing the templates and scripts.</span></span>
* <span data-ttu-id="93d64-147">Посетите [сайт MathWorks](http://www.mathworks.com/) с подробной документацией по MATLAB и MATLAB Distributed Computing Server.</span><span class="sxs-lookup"><span data-stu-id="93d64-147">Go to the [MathWorks site](http://www.mathworks.com/) for detailed documentation for MATLAB and MATLAB Distributed Computing Server.</span></span>
