---
title: "Краткое руководство по установке одного экземпляра SAP HANA вручную на виртуальных машинах Azure | Документация Майкрософт"
description: "Краткое руководство по установке одного экземпляра SAP HANA вручную на виртуальных машинах Azure"
services: virtual-machines-linux
documentationcenter: 
author: hermanndms
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: c51a2a06-6e97-429b-a346-b433a785c9f0
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 09/15/2016
ms.author: hermannd
ms.openlocfilehash: 05fb31007e1e4c2243f93169129ec5b2c93099e2
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2017
---
# <a name="quickstart-manual-installation-of-single-instance-sap-hana-on-azure-vms"></a><span data-ttu-id="7dfb5-103">Краткое руководство по установке одного экземпляра SAP HANA вручную на виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="7dfb5-103">Quickstart: Manual installation of single-instance SAP HANA on Azure VMs</span></span>
## <a name="introduction"></a><span data-ttu-id="7dfb5-104">Введение</span><span class="sxs-lookup"><span data-stu-id="7dfb5-104">Introduction</span></span>
<span data-ttu-id="7dfb5-105">Это руководство поможет вам настроить один экземпляр SAP HANA на виртуальных машинах Azure при установке SAP NetWeaver 7.5 и SAP HANA 1.0 SP12 вручную.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-105">This guide helps you set up a single-instance SAP HANA on Azure virtual machines (VMs) when you install SAP NetWeaver 7.5 and SAP HANA 1.0 SP12 manually.</span></span> <span data-ttu-id="7dfb5-106">В этом руководстве описывается развертывание SAP HANA в Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-106">The focus of this guide is on deploying SAP HANA on Azure.</span></span> <span data-ttu-id="7dfb5-107">Оно не заменяет документацию по SAP.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-107">It does not replace SAP documentation.</span></span> 

>[!Note]
><span data-ttu-id="7dfb5-108">Это руководство описывает развертывание SAP HANA на виртуальных машинах Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-108">This guide describes deployments of SAP HANA into Azure VMs.</span></span> <span data-ttu-id="7dfb5-109">Сведения о развертывании HANA SAP на крупных экземплярах HANA см. в статье [Использование SAP на виртуальных машинах Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/get-started).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-109">For information on deploying SAP HANA into HANA large instances, see [Using SAP on Azure virtual machines (VMs)](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/get-started).</span></span>
 
## <a name="prerequisites"></a><span data-ttu-id="7dfb5-110">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="7dfb5-110">Prerequisites</span></span>
<span data-ttu-id="7dfb5-111">В руководстве предполагается, что вы знакомы с инфраструктурой как услугой (IaaS), т. е. умеете выполнять такие задачи:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-111">This guide assumes that you are familiar with such infrastructure as a service (IaaS) basics as:</span></span>
 * <span data-ttu-id="7dfb5-112">развертывать виртуальные машины или виртуальные сети на портале Azure или с помощью PowerShell;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-112">How to deploy virtual machines or virtual networks via the Azure portal or PowerShell.</span></span>
 * <span data-ttu-id="7dfb5-113">работать с кроссплатформенным интерфейсом командной строки Azure, в т. ч. использовать шаблоны JavaScript Object Notification (JSON).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-113">The Azure cross-platform command-line interface (CLI), including the option to use JavaScript Object Notation (JSON) templates.</span></span>

<span data-ttu-id="7dfb5-114">В этом руководстве также предполагается, что вы знакомы со следующими технологиями и процедурами:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-114">This guide also assumes that you are familiar with:</span></span>
* <span data-ttu-id="7dfb5-115">SAP HANA и SAP NetWeaver и их локальная установка.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-115">SAP HANA and SAP NetWeaver and how to install them on-premises.</span></span>
* <span data-ttu-id="7dfb5-116">Установка и эксплуатации SAP HANA и экземпляров приложения SAP в Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-116">Installing and operating SAP HANA and SAP application instances on Azure.</span></span>
* <span data-ttu-id="7dfb5-117">Основные понятия и процедуры.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-117">The following concepts and procedures:</span></span>
   * <span data-ttu-id="7dfb5-118">Планирование развертывания SAP в Azure, в т. ч. планирование виртуальной сети Azure и использование службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-118">Planning for SAP deployment on Azure, including Azure Virtual Network  planning and Azure Storage usage.</span></span> <span data-ttu-id="7dfb5-119">См. статью [SAP NetWeaver на виртуальных машинах Windows. Руководство по планированию и внедрению](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/planning-guide).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-119">See [SAP NetWeaver on Azure Virtual Machines (VMs) - Planning and implementation guide](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/planning-guide).</span></span>
   * <span data-ttu-id="7dfb5-120">Принципы и способы развертывания виртуальных машин в Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-120">Deployment principles and ways to deploy VMs in Azure.</span></span> <span data-ttu-id="7dfb5-121">См. статью [Развертывание программного обеспечения SAP на виртуальных машинах Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/deployment-guide).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-121">See [Azure Virtual Machines deployment for SAP](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/deployment-guide).</span></span>
   * <span data-ttu-id="7dfb5-122">Обеспечение высокого уровня доступности для SAP NetWeaver ASCS (ABAP SAP Central Services), SCS (SAP Central Services) и ERS (расчет оценки поступления) в Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-122">High availability for SAP NetWeaver ASCS (ABAP SAP Central Services), SCS (SAP Central Services), and ERS (Evaluated Receipt Settlement) on Azure.</span></span> <span data-ttu-id="7dfb5-123">См. статью [Высокий уровень доступности SAP NetWeaver на виртуальных машинах Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/high-availability-guide).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-123">See [High availability for SAP NetWeaver on Azure VMs](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/high-availability-guide).</span></span>
   * <span data-ttu-id="7dfb5-124">Повышение эффективности с помощью установки нескольких SID ASCS/SCS в Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-124">Details on how to improve efficiency in leveraging a multi-SID installation of ASCS/SCS on Azure.</span></span> <span data-ttu-id="7dfb5-125">См. статью [Создание конфигурации с несколькими идентификаторами безопасности SAP NetWeaver](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/high-availability-multi-sid).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-125">See [Create a SAP NetWeaver multi-SID configuration](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/high-availability-multi-sid).</span></span> 
   * <span data-ttu-id="7dfb5-126">Принципы работы SAP NetWeaver на виртуальных машинах Linux в Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-126">Principles of running SAP NetWeaver based on Linux-driven VMs in Azure.</span></span> <span data-ttu-id="7dfb5-127">См. статью [Запуск SAP NetWeaver на виртуальных машинах SUSE Linux в Microsoft Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/suse-quickstart).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-127">See [Running SAP NetWeaver on Microsoft Azure SUSE Linux VMs](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/suse-quickstart).</span></span> <span data-ttu-id="7dfb5-128">В этом руководстве описываются важные настройки Linux на виртуальных машинах Azure, а также приведены сведения о том, как правильно присоединять диски хранилища Azure к виртуальным машинам Linux.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-128">This guide provides specific settings for Linux in Azure VMs and details on how to properly attach Azure storage disks to Linux VMs.</span></span>

<span data-ttu-id="7dfb5-129">Сейчас виртуальные машины Azure сертифицированы SAP только для конфигураций вертикального масштабирования SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-129">At this time, Azure VMs are certified by SAP for SAP HANA scale-up configurations only.</span></span> <span data-ttu-id="7dfb5-130">Конфигурации горизонтального масштабирования при использовании рабочих нагрузок SAP HANA пока не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-130">Scale-out configurations with SAP HANA workloads are not yet supported.</span></span> <span data-ttu-id="7dfb5-131">Сведения об обеспечении высокого уровня доступности SAP HANA для конфигураций вертикального масштабирования см. в статье [Высокий уровень доступности SAP HANA на виртуальных машинах Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/sap-hana-high-availability).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-131">For SAP HANA high availability in cases of scale-up configurations, see [High availability of SAP HANA on Azure virtual machines (VMs)](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/sap-hana-high-availability).</span></span>

<span data-ttu-id="7dfb5-132">Если вы хотите очень быстро развернуть экземпляр системы SAP HANA S/4HANA или BW/4HANA, попробуйте использовать [библиотеку SAP Cloud Appliance Library](http://cal.sap.com).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-132">If you are seeking to get an SAP HANA instance or S/4HANA, or BW/4HANA system deployed in very fast time, you should consider the usage of [SAP Cloud Appliance Library](http://cal.sap.com).</span></span> <span data-ttu-id="7dfb5-133">Документацию по развертыванию системы S/4HANA с использованием клиентской лицензии SAP в Azure см. в статье [Развертывание SAP S/4HANA или BW/4HANA в Microsoft Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/cal-s4h).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-133">You can find documentation about deploying, for example, an S/4HANA system through SAP CAL on Azure in [this guide](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/cal-s4h).</span></span> <span data-ttu-id="7dfb5-134">Вам понадобится только подписка Azure и пользователь SAP, которого можно зарегистрировать в библиотеке SAP Cloud Appliance Library.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-134">All you need to have is an Azure subscription and an SAP user that can be registered with SAP Cloud Appliance Library.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7dfb5-135">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="7dfb5-135">Additional resources</span></span>
### <a name="sap-hana-backup"></a><span data-ttu-id="7dfb5-136">Резервное копирование SAP HANA</span><span class="sxs-lookup"><span data-stu-id="7dfb5-136">SAP HANA backup</span></span>
<span data-ttu-id="7dfb5-137">Сведения о резервном копировании баз данных SAP HANA на виртуальных машинах Azure см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-137">For information on backing up SAP HANA databases on Azure VMs, see:</span></span>
* [<span data-ttu-id="7dfb5-138">Руководство по резервному копированию SAP HANA на виртуальных машинах Azure</span><span class="sxs-lookup"><span data-stu-id="7dfb5-138">Backup guide for SAP HANA on Azure Virtual Machines</span></span>](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/sap-hana-backup-guide)
* [<span data-ttu-id="7dfb5-139">Резервное копирование SAP HANA в Azure на уровне файлов</span><span class="sxs-lookup"><span data-stu-id="7dfb5-139">SAP HANA Azure Backup on file level</span></span>](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/sap-hana-backup-file-level)
* [<span data-ttu-id="7dfb5-140">Резервное копирование SAP HANA на основе моментальных снимков хранилища</span><span class="sxs-lookup"><span data-stu-id="7dfb5-140">SAP HANA backup based on storage snapshots</span></span>](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/sap-hana-backup-storage-snapshots)

### <a name="sap-cloud-appliance-library"></a><span data-ttu-id="7dfb5-141">Библиотека SAP Cloud Appliance Library</span><span class="sxs-lookup"><span data-stu-id="7dfb5-141">SAP Cloud Appliance Library</span></span>
<span data-ttu-id="7dfb5-142">Сведения об использовании библиотеки SAP Cloud Appliance Library для развертывания S/4HANA или BW/4HANA см. в статье [Развертывание SAP S/4HANA или BW/4HANA в Microsoft Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/cal-s4h).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-142">For information on using SAP Cloud Appliance Library to deploy S/4HANA or BW/4HANA, see [Deploy SAP S/4HANA or BW/4HANA on Microsoft Azure](https://docs.microsoft.com/azure/virtual-machines/workloads/sap/cal-s4h).</span></span>

### <a name="sap-hana-supported-operating-systems"></a><span data-ttu-id="7dfb5-143">Операционные системы, поддерживаемые платформой SAP HANA</span><span class="sxs-lookup"><span data-stu-id="7dfb5-143">SAP HANA-supported operating systems</span></span>
<span data-ttu-id="7dfb5-144">Сведения о поддерживаемых операционных системах для SAP HANA см. в [примечании по поддержке SAP № 2235581](https://launchpad.support.sap.com/#/notes/2235581/E).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-144">For information on SAP HANA-supported operating systems, see [SAP Support Note #2235581 - SAP HANA: Supported Operating Systems](https://launchpad.support.sap.com/#/notes/2235581/E).</span></span> <span data-ttu-id="7dfb5-145">На виртуальных машинах Azure поддерживаются только эти операционные системы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-145">Azure VMs support only a subset of these operating systems.</span></span> <span data-ttu-id="7dfb5-146">Следующие операционные системы поддерживаются для развертывания SAP HANA в Azure:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-146">The following operating systems are supported to deploy SAP HANA on Azure:</span></span> 

* <span data-ttu-id="7dfb5-147">SUSE Linux Enterprise Server 12.x;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-147">SUSE Linux Enterprise Server 12.x</span></span>
* <span data-ttu-id="7dfb5-148">Red Hat Enterprise Linux 7.2</span><span class="sxs-lookup"><span data-stu-id="7dfb5-148">Red Hat Enterprise Linux 7.2</span></span>

<span data-ttu-id="7dfb5-149">Дополнительную документацию SAP по платформе SAP HANA и разным дистрибутивах Linux см. по ссылкам ниже.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-149">For additional SAP documentation about SAP HANA and different Linux operating systems, see:</span></span>

* <span data-ttu-id="7dfb5-150">[SAP Support Note #171356 – SAP Software on Linux: General Information](https://launchpad.support.sap.com/#/notes/1984787) (Примечание по поддержке SAP №171356. Общие сведения о ПО SAP на платформе Linux).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-150">[SAP Support Note #171356 - SAP Software on Linux:  General Information](https://launchpad.support.sap.com/#/notes/1984787)</span></span>
* <span data-ttu-id="7dfb5-151">[SAP Support Note #1944799 – SAP HANA Guidelines for SLES Operating System Installation](http://go.sap.com/documents/2016/05/e8705aae-717c-0010-82c7-eda71af511fa.html) (Примечание по поддержке SAP №1944799. Рекомендации по установке SAP HANA в ОС SLES).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-151">[SAP Support Note #1944799 - SAP HANA Guidelines for SLES Operating System Installation](http://go.sap.com/documents/2016/05/e8705aae-717c-0010-82c7-eda71af511fa.html)</span></span>
* <span data-ttu-id="7dfb5-152">[SAP Support Note #2205917 – SAP HANA DB Recommended OS Settings for SLES 12 for SAP Applications](https://launchpad.support.sap.com/#/notes/2205917/E) (Примечание по поддержке SAP №2205917. База данных SAP HANA: рекомендуемые параметры ОС для SLES 12 для приложений SAP).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-152">[SAP Support Note #2205917 - SAP HANA DB Recommended OS Settings for SLES 12 for SAP Applications](https://launchpad.support.sap.com/#/notes/2205917/E)</span></span>
* <span data-ttu-id="7dfb5-153">[SAP Support Note #1984787 – SUSE Linux Enterprise Server 12: Installation Notes](https://launchpad.support.sap.com/#/notes/1984787) (Примечание по поддержке SAP №1984787. Заметки об установке SUSE Linux Enterprise Server 12).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-153">[SAP Support Note #1984787 - SUSE Linux Enterprise Server 12:  Installation Notes](https://launchpad.support.sap.com/#/notes/1984787)</span></span>
* <span data-ttu-id="7dfb5-154">[SAP Support Note #1391070 – Linux UUID Solutions](https://launchpad.support.sap.com/#/notes/1391070) (Примечание по поддержке SAP №1391070. Решения UUID для Linux).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-154">[SAP Support Note #1391070 - Linux UUID Solutions](https://launchpad.support.sap.com/#/notes/1391070)</span></span>
* <span data-ttu-id="7dfb5-155">[SAP Support Note #2009879 - SAP HANA Guidelines for Red Hat Enterprise Linux (RHEL) Operating System](https://launchpad.support.sap.com/#/notes/2009879) (Примечание по поддержке SAP № 2009879. Рекомендации для установки SAP HANA на ОС Red Hat Enterprise Linux (RHEL));</span><span class="sxs-lookup"><span data-stu-id="7dfb5-155">[SAP Support Note #2009879 - SAP HANA Guidelines for Red Hat Enterprise Linux (RHEL) Operating System](https://launchpad.support.sap.com/#/notes/2009879)</span></span>
* <span data-ttu-id="7dfb5-156">[2292690 - SAP HANA DB: Recommended OS settings for RHEL 7](https://launchpad.support.sap.com/#/notes/2292690/E) (Примечание по поддержке SAP № 2292690. База данных SAP HANA: рекомендуемые параметры операционной системы для RHEL 7).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-156">[2292690 - SAP HANA DB: Recommended OS settings for RHEL 7](https://launchpad.support.sap.com/#/notes/2292690/E)</span></span>

### <a name="sap-monitoring-in-azure"></a><span data-ttu-id="7dfb5-157">Мониторинг SAP в Azure</span><span class="sxs-lookup"><span data-stu-id="7dfb5-157">SAP monitoring in Azure</span></span>
<span data-ttu-id="7dfb5-158">Сведения о мониторинге SAP в Azure см. по ссылкам ниже.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-158">For information about SAP monitoring in Azure, see:</span></span>

* <span data-ttu-id="7dfb5-159">[Примечание к SAP № 2191498](https://launchpad.support.sap.com/#/notes/2191498/E) —</span><span class="sxs-lookup"><span data-stu-id="7dfb5-159">[SAP Note 2191498](https://launchpad.support.sap.com/#/notes/2191498/E).</span></span> <span data-ttu-id="7dfb5-160">сведения о расширенном мониторинге с помощью виртуальных машин Linux в Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-160">This note discusses SAP "enhanced monitoring" with Linux VMs on Azure.</span></span> 
* <span data-ttu-id="7dfb5-161">[Примечание к SAP № 1102124](https://launchpad.support.sap.com/#/notes/1102124/E) —</span><span class="sxs-lookup"><span data-stu-id="7dfb5-161">[SAP Note 1102124](https://launchpad.support.sap.com/#/notes/1102124/E).</span></span> <span data-ttu-id="7dfb5-162">сведения о SAPOSCOL в Linux.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-162">This note discusses information about SAPOSCOL on Linux.</span></span> 
* <span data-ttu-id="7dfb5-163">[Примечание к SAP № 2178632](https://launchpad.support.sap.com/#/notes/2178632/E) —</span><span class="sxs-lookup"><span data-stu-id="7dfb5-163">[SAP Note 2178632](https://launchpad.support.sap.com/#/notes/2178632/E).</span></span> <span data-ttu-id="7dfb5-164">ключевые метрики мониторинга для SAP в Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-164">This note discusses key monitoring metrics for SAP on Microsoft Azure.</span></span>

### <a name="azure-vm-types"></a><span data-ttu-id="7dfb5-165">Типы виртуальных машин Azure</span><span class="sxs-lookup"><span data-stu-id="7dfb5-165">Azure VM types</span></span>
<span data-ttu-id="7dfb5-166">Типы виртуальных машин Azure и поддерживаемые сценарии рабочих нагрузок SAP, используемых с SAP HANA, описаны на [странице сертифицированных платформ IaaS](https://www.sap.com/dmc/exp/2014-09-02-hana-hardware/enEN/iaas.html).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-166">Azure VM types and SAP-supported workload scenarios used with SAP HANA are documented in [SAP certified IaaS Platforms](https://www.sap.com/dmc/exp/2014-09-02-hana-hardware/enEN/iaas.html).</span></span> 

<span data-ttu-id="7dfb5-167">Типы виртуальных машин Azure, которые сертифицированы SAP для уровня приложения SAP NetWeaver или S/4HANA, описаны здесь: [SAP Note 1928533 - SAP Applications on Azure: Supported Products and Azure VM types](https://launchpad.support.sap.com/#/notes/1928533/E) (Примечание по поддержке SAP № 1928533. Приложения SAP в Azure: поддерживаемые продукты и типы виртуальных машин Azure).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-167">Azure VM types that are certified by SAP for SAP NetWeaver or the S/4HANA application layer are documented in [SAP Note 1928533 - SAP Applications on Azure: Supported Products and Azure VM types](https://launchpad.support.sap.com/#/notes/1928533/E).</span></span>

>[!Note]
><span data-ttu-id="7dfb5-168">Интеграция SAP, Linux и Azure поддерживается только в модели развертывания с помощью Azure Resource Manager и не поддерживается в классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-168">SAP-Linux-Azure integration is supported only on Azure Resource Manager and not the classic deployment model.</span></span> 

## <a name="manual-installation-of-sap-hana"></a><span data-ttu-id="7dfb5-169">Установка SAP HANA вручную</span><span class="sxs-lookup"><span data-stu-id="7dfb5-169">Manual installation of SAP HANA</span></span>
<span data-ttu-id="7dfb5-170">В этом руководстве описываются два разных способа установки SAP HANA на виртуальных машинах Azure вручную:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-170">This guide describes how to manually install SAP HANA on Azure VMs in two different ways:</span></span>

* <span data-ttu-id="7dfb5-171">использование диспетчера подготовки программного обеспечения SAP (SWPM) в рамках распределенной установки NetWeaver на шаге "Установка экземпляра базы данных";</span><span class="sxs-lookup"><span data-stu-id="7dfb5-171">By using SAP Software Provisioning Manager (SWPM) as part of a distributed NetWeaver installation in the "install database instance" step</span></span>
* <span data-ttu-id="7dfb5-172">использование диспетчера управления жизненным циклом базы данных SAP HANA (средства HDBLCM), а затем установка NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-172">By using the SAP HANA database lifecycle manager tool, HDBLCM, and then installing NetWeaver</span></span>

<span data-ttu-id="7dfb5-173">Кроме того, с помощью SWPM вы можете установить все компоненты (SAP HANA, сервер приложений SAP, экземпляр ASCS) на одной виртуальной машине, как описано в [этой записи блога](https://blogs.saphana.com/2013/12/31/announcement-sap-hana-and-sap-netweaver-as-abap-deployed-on-one-server-is-generally-available/).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-173">You can also use SWPM to install all components (SAP HANA, the SAP application server, and the ASCS instance) in one single VM, as described in this [SAP HANA blog announcement](https://blogs.saphana.com/2013/12/31/announcement-sap-hana-and-sap-netweaver-as-abap-deployed-on-one-server-is-generally-available/).</span></span> <span data-ttu-id="7dfb5-174">Последний вариант не описан в этом кратком руководстве, но при его использовании следует учитывать все соответствующие нюансы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-174">This option isn't described in this Quickstart guide, but the issues that you must take into consideration are the same.</span></span>

<span data-ttu-id="7dfb5-175">Прежде чем начать установку, прочтите раздел "Подготовка виртуальных машин Azure к установке SAP HANA вручную" этого руководства.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-175">Before you start an installation, we recommend that you read the "Preparing Azure VMs for manual installation of SAP HANA" section later in this guide.</span></span> <span data-ttu-id="7dfb5-176">Это поможет предотвратить несколько основных ошибок, которые могут возникнуть при использовании только конфигурации виртуальной машины Azure по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-176">Doing so can help prevent several basic mistakes that might occur when you use only a default Azure VM configuration.</span></span>

## <a name="key-steps-for-sap-hana-installation-when-you-use-sap-swpm"></a><span data-ttu-id="7dfb5-177">Основные шаги по установке SAP HANA при использовании SAP SWPM</span><span class="sxs-lookup"><span data-stu-id="7dfb5-177">Key steps for SAP HANA installation when you use SAP SWPM</span></span>
<span data-ttu-id="7dfb5-178">В этом разделе перечислены основные шаги для установки SAP HANA на уровне отдельного экземпляра вручную при использовании SAP SWPM для выполнения распределенной установки SAP NetWeaver 7.5.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-178">This section lists the key steps for a manual, single-instance SAP HANA installation when you use SAP SWPM to perform a distributed SAP NetWeaver 7.5 installation.</span></span> <span data-ttu-id="7dfb5-179">Отдельные шаги более подробно объясняются в этом руководстве на снимках экрана.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-179">The individual steps are explained in more detail in screenshots later in this guide.</span></span>

1. <span data-ttu-id="7dfb5-180">Создайте виртуальную сеть Azure с двумя тестовыми виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-180">Create an Azure virtual network that includes two test VMs.</span></span>
2. <span data-ttu-id="7dfb5-181">Разверните две виртуальные машины Azure с операционными системами (в нашем примере — SUSE Linux Enterprise Server (SLES) и SLES for SAP Applications 12 с пакетом обновления 1 (SP1)) в соответствии с моделью Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-181">Deploy the two Azure VMs with operating systems (in our example, SUSE Linux Enterprise Server (SLES) and SLES for SAP Applications 12 SP1), according to the Azure Resource Manager model.</span></span>
3. <span data-ttu-id="7dfb5-182">Присоедините два диска хранилища класса Standard или Premium к виртуальной машине сервера приложений (например, диски на 75 ГБ или 500 ГБ).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-182">Attach two Azure standard or premium storage disks (for example, 75-GB or 500-GB disks) to the application server VM.</span></span>
4. <span data-ttu-id="7dfb5-183">Присоедините диски хранилища класса Premium к виртуальной машине сервера базы данных HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-183">Attach premium storage disks to the HANA DB server VM.</span></span> <span data-ttu-id="7dfb5-184">Дополнительные сведения см. в разделе "Настройка диска" в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-184">For details, see the "Disk setup" section later in this guide.</span></span>
5. <span data-ttu-id="7dfb5-185">В зависимости от требований к размерам или пропускной способности, подключите несколько дисков и создайте чередующиеся тома с помощью средства управления логическими томами или администрирования нескольких устройств (MDADM) на уровне операционной системы в виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-185">Depending on size or throughput requirements, attach multiple disks, and then create striped volumes by using either logical volume management or a multiple-devices administration tool (MDADM) at the OS level inside the VM.</span></span>
6. <span data-ttu-id="7dfb5-186">Создайте на подключенных дисках или логических томах файловые системы XFS.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-186">Create XFS file systems on the attached disks or logical volumes.</span></span>
7. <span data-ttu-id="7dfb5-187">Подключите новые файловые системы XFS на уровне операционной системы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-187">Mount the new XFS file systems at the OS level.</span></span> <span data-ttu-id="7dfb5-188">Используйте одну файловую систему для всего программного обеспечения SAP.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-188">Use one file system for all the SAP software.</span></span> <span data-ttu-id="7dfb5-189">Используйте другую файловую систему для каталога /sapmnt и резервных копий.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-189">Use the other file system for the /sapmnt directory and backups, for example.</span></span> <span data-ttu-id="7dfb5-190">На сервере базы данных SAP HANA подключите файловые системы XFS на дисках хранилища класса Premium, такие как /hana и /usr/sap.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-190">On the SAP HANA DB server, mount the XFS file systems on the premium storage disks as /hana and /usr/sap.</span></span> <span data-ttu-id="7dfb5-191">Это необходимо, чтобы предотвратить переполнение корневой файловой системы, которая имеет небольшой размер на виртуальных машинах Azure под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-191">This process is necessary to prevent the root file system, which isn't large on Linux Azure VMs, from filling up.</span></span>
8. <span data-ttu-id="7dfb5-192">Добавьте в файл /etc/hosts локальные IP-адреса тестовых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-192">Enter the local IP addresses of the test VMs in the /etc/hosts file.</span></span>
9. <span data-ttu-id="7dfb5-193">Добавьте в файл /etc/fstab параметр **nofail**.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-193">Enter the **nofail** parameter in the /etc/fstab file.</span></span>
10. <span data-ttu-id="7dfb5-194">Настройте параметры ядра Linux в соответствии с выпуском ОС Linux, который вы используете.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-194">Set Linux kernel parameters according to the Linux OS release you are using.</span></span> <span data-ttu-id="7dfb5-195">Дополнительные сведения см. в соответствующих примечаниях SAP, посвященных HANA, и в разделе "Параметры ядра" этого руководства.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-195">For more information, see the appropriate SAP notes that discuss HANA and the "Kernel parameters" section in this guide.</span></span>
11. <span data-ttu-id="7dfb5-196">Добавьте область буфера.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-196">Add swap space.</span></span>
12. <span data-ttu-id="7dfb5-197">При необходимости установите на тестовых виртуальных машинах графический рабочий стол.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-197">Optionally, install a graphical desktop on the test VMs.</span></span> <span data-ttu-id="7dfb5-198">В противном случае используйте удаленную установку SAPinst.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-198">Otherwise, use a remote SAPinst installation.</span></span>
13. <span data-ttu-id="7dfb5-199">Скачайте программное обеспечение SAP из SAP Service Marketplace.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-199">Download the SAP software from the SAP Service Marketplace.</span></span>
14. <span data-ttu-id="7dfb5-200">Установите экземпляр SAP ASCS на виртуальной машине сервера приложений.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-200">Install the SAP ASCS instance on the app server VM.</span></span>
15. <span data-ttu-id="7dfb5-201">Предоставьте общий доступ к каталогу /sapmnt для тестовых виртуальных машин с помощью NFS.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-201">Share the /sapmnt directory among the test VMs by using NFS.</span></span> <span data-ttu-id="7dfb5-202">Виртуальная машина сервера приложений — это сервер NFS.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-202">The application server VM is the NFS server.</span></span>
16. <span data-ttu-id="7dfb5-203">Установите на виртуальной машине сервера базы данных экземпляр базы данных, в том числе HANA, с помощью SWPM.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-203">Install the database instance, including HANA, by using SWPM on the DB server VM.</span></span>
17. <span data-ttu-id="7dfb5-204">Установите основной сервер приложений (PAS) на виртуальной машине сервера приложений.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-204">Install the primary application server (PAS) on the application server VM.</span></span>
18. <span data-ttu-id="7dfb5-205">Запустите консоль управления SAP (SAP MC).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-205">Start SAP Management Console (SAP MC).</span></span> <span data-ttu-id="7dfb5-206">Подключитесь к консоли с помощью графического пользовательского интерфейса SAP или HANA Studio.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-206">Connect with SAP GUI or HANA Studio, for example.</span></span>

## <a name="key-steps-for-sap-hana-installation-when-you-use-hdblcm"></a><span data-ttu-id="7dfb5-207">Основные шаги по установке SAP HANA при использовании HDBLCM</span><span class="sxs-lookup"><span data-stu-id="7dfb5-207">Key steps for SAP HANA installation when you use HDBLCM</span></span>
<span data-ttu-id="7dfb5-208">В этом разделе перечислены основные шаги по установке SAP HANA на уровне отдельного экземпляра вручную при использовании SAP HDBLCM для выполнения распределенной установки SAP NetWeaver 7.5.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-208">This section lists the key steps for a manual, single-instance SAP HANA installation when you use SAP HDBLCM to perform a distributed SAP NetWeaver 7.5 installation.</span></span> <span data-ttu-id="7dfb5-209">Отдельные шаги более подробно объясняются в этом руководстве на снимках экрана.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-209">The individual steps are explained in more detail in screenshots throughout this guide.</span></span>

1. <span data-ttu-id="7dfb5-210">Создайте виртуальную сеть Azure с двумя тестовыми виртуальными машинами.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-210">Create an Azure virtual network that includes two test VMs.</span></span>
2. <span data-ttu-id="7dfb5-211">Разверните две виртуальные машины Azure с операционными системами (в нашем примере — SLES и SLES for SAP Applications 12 с пакетом обновления 1 (SP1)) в соответствии с моделью Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-211">Deploy two Azure VMs with operating systems (in our example, SLES and SLES for SAP Applications 12 SP1) according to the Azure Resource Manager model.</span></span>
3. <span data-ttu-id="7dfb5-212">Присоедините два диска хранилища класса Standard или Premium к виртуальной машине сервера приложений (например, диски на 75 ГБ или 500 ГБ).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-212">Attach two Azure standard or premium storage disks (for example, 75-GB or 500-GB disks) to the app server VM.</span></span>
4. <span data-ttu-id="7dfb5-213">Присоедините диски хранилища класса Premium к виртуальной машине сервера базы данных HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-213">Attach premium storage disks to the HANA DB server VM.</span></span> <span data-ttu-id="7dfb5-214">Дополнительные сведения см. в разделе "Настройка диска" в этом руководстве.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-214">For details, see the "Disk setup" section later in this guide.</span></span>
5. <span data-ttu-id="7dfb5-215">В зависимости от требований к размерам или пропускной способности, подключите несколько дисков и создайте чередующиеся тома с помощью средства управления логическими томами или администрирования нескольких устройств (MDADM) на уровне операционной системы в виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-215">Depending on size or throughput requirements, attach multiple disks and create striped volumes by using either logical volume management or a multiple-devices administration tool (MDADM) at the OS level inside the VM.</span></span>
6. <span data-ttu-id="7dfb5-216">Создайте на подключенных дисках или логических томах файловые системы XFS.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-216">Create XFS file systems on the attached disks or logical volumes.</span></span>
7. <span data-ttu-id="7dfb5-217">Подключите новые файловые системы XFS на уровне операционной системы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-217">Mount the new XFS file systems at the OS level.</span></span> <span data-ttu-id="7dfb5-218">Используйте одну файловую систему для всего программного обеспечения SAP, а другую — для каталога /sapmnt и резервных копий.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-218">Use one file system for all the SAP software, and use the other one for the /sapmnt directory and backups, for example.</span></span> <span data-ttu-id="7dfb5-219">На сервере базы данных SAP HANA подключите файловые системы XFS на дисках хранилища класса Premium, такие как /hana и /usr/sap.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-219">On the SAP HANA DB server, mount the XFS file systems on the premium storage disks as /hana and /usr/sap.</span></span> <span data-ttu-id="7dfb5-220">Это необходимо, чтобы предотвратить переполнение корневой файловой системы, которая имеет небольшой размер на виртуальных машинах Azure под управлением Linux.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-220">This process is necessary to help prevent the root file system, which isn't large on Linux Azure VMs, from filling up.</span></span>
8. <span data-ttu-id="7dfb5-221">Добавьте в файл /etc/hosts локальные IP-адреса тестовых виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-221">Enter the local IP addresses of the test VMs in the /etc/hosts file.</span></span>
9. <span data-ttu-id="7dfb5-222">Добавьте в файл /etc/fstab параметр **nofail**.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-222">Enter the **nofail** parameter in the /etc/fstab file.</span></span>
10. <span data-ttu-id="7dfb5-223">Настройте параметры ядра в соответствии с выпуском ОС Linux, который вы используете.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-223">Set kernel parameters according to the Linux OS release you are using.</span></span> <span data-ttu-id="7dfb5-224">Дополнительные сведения см. в соответствующих примечаниях SAP, посвященных HANA, и в разделе "Параметры ядра" этого руководства.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-224">For more information, see the appropriate SAP notes that discuss HANA and the "Kernel parameters" section in this guide.</span></span>
11. <span data-ttu-id="7dfb5-225">Добавьте область буфера.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-225">Add swap space.</span></span>
12. <span data-ttu-id="7dfb5-226">При необходимости установите на тестовых виртуальных машинах графический рабочий стол.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-226">Optionally, install a graphical desktop on the test VMs.</span></span> <span data-ttu-id="7dfb5-227">В противном случае используйте удаленную установку SAPinst.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-227">Otherwise, use a remote SAPinst installation.</span></span>
13. <span data-ttu-id="7dfb5-228">Скачайте программное обеспечение SAP из SAP Service Marketplace.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-228">Download the SAP software from the SAP Service Marketplace.</span></span>
14. <span data-ttu-id="7dfb5-229">Создайте на виртуальной машине сервера базы данных HANA группу sapsys с идентификатором 1001.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-229">Create a group, sapsys, with group ID 1001, on the HANA DB server VM.</span></span>
15. <span data-ttu-id="7dfb5-230">Установите SAP HANA на виртуальной машине сервера базы данных с помощью диспетчера управления жизненным циклом базы данных HANA (HDBLCM).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-230">Install SAP HANA on the DB server VM by using HANA Database Lifecycle Manager (HDBLCM).</span></span>
16. <span data-ttu-id="7dfb5-231">Установите экземпляр SAP ASCS на виртуальной машине сервера приложений.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-231">Install the SAP ASCS instance on the app server VM.</span></span>
17. <span data-ttu-id="7dfb5-232">Предоставьте общий доступ к каталогу /sapmnt для тестовых виртуальных машин с помощью NFS.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-232">Share the /sapmnt directory among the test VMs by using NFS.</span></span> <span data-ttu-id="7dfb5-233">Виртуальная машина сервера приложений — это сервер NFS.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-233">The application server VM is the NFS server.</span></span>
18. <span data-ttu-id="7dfb5-234">Установите на виртуальной машине сервера базы данных HANA экземпляр базы данных, в том числе HANA, с помощью SWPM.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-234">Install the database instance, including HANA, by using SWPM on the HANA DB server VM.</span></span>
19. <span data-ttu-id="7dfb5-235">Установите основной сервер приложений (PAS) на виртуальной машине сервера приложений.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-235">Install the primary application server (PAS) on the application server VM.</span></span>
20. <span data-ttu-id="7dfb5-236">Запустите консоль управления SAP.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-236">Start SAP MC.</span></span> <span data-ttu-id="7dfb5-237">Подключитесь к консоли с помощью графического пользовательского интерфейса SAP или HANA Studio.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-237">Connect through SAP GUI or HANA Studio.</span></span>

## <a name="preparing-azure-vms-for-a-manual-installation-of-sap-hana"></a><span data-ttu-id="7dfb5-238">Подготовка виртуальных машин Azure к установке SAP HANA вручную</span><span class="sxs-lookup"><span data-stu-id="7dfb5-238">Preparing Azure VMs for a manual installation of SAP HANA</span></span>
<span data-ttu-id="7dfb5-239">В этом разделе описываются следующие темы:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-239">This section covers the following topics:</span></span>

* <span data-ttu-id="7dfb5-240">обновления ОС;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-240">OS updates</span></span>
* <span data-ttu-id="7dfb5-241">настройка диска;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-241">Disk setup</span></span>
* <span data-ttu-id="7dfb5-242">параметры ядра;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-242">Kernel parameters</span></span>
* <span data-ttu-id="7dfb5-243">файловые системы;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-243">File systems</span></span>
* <span data-ttu-id="7dfb5-244">файл/etc/hosts;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-244">The /etc/hosts file</span></span>
* <span data-ttu-id="7dfb5-245">файл /etc/fstab.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-245">The /etc/fstab file</span></span>

### <a name="os-updates"></a><span data-ttu-id="7dfb5-246">Обновления ОС</span><span class="sxs-lookup"><span data-stu-id="7dfb5-246">OS updates</span></span>
<span data-ttu-id="7dfb5-247">Перед установкой дополнительного программного обеспечения проверьте наличие обновлений и исправлений для ОС Linux.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-247">Check for Linux OS updates and fixes before installing additional software.</span></span> <span data-ttu-id="7dfb5-248">Если вы установите исправление, возможно, вам не нужно будет обращаться в службу поддержки.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-248">By installing a patch, you might be able to avoid a call to the support desk.</span></span>

<span data-ttu-id="7dfb5-249">Убедитесь, что вы используете следующие операционные системы:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-249">Make sure that you are using:</span></span>
* <span data-ttu-id="7dfb5-250">SUSE Linux Enterprise Server for SAP Applications;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-250">SUSE Linux Enterprise Server for SAP Applications.</span></span>
* <span data-ttu-id="7dfb5-251">Red Hat Enterprise Linux for SAP Applications или Red Hat Enterprise Linux for SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-251">Red Hat Enterprise Linux for SAP Applications or Red Hat Enterprise Linux for SAP HANA.</span></span> 

<span data-ttu-id="7dfb5-252">Если вы еще не сделали это, зарегистрируйте развертывание операционной системы с помощью подписки Linux, предоставленной поставщиком Linux.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-252">If you haven't already, register the OS deployment with your Linux subscription from the Linux vendor.</span></span> <span data-ttu-id="7dfb5-253">Обратите внимание, что для SUSE есть также образы ОС для приложений SAP, которые уже содержат службы и зарегистрированы автоматически.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-253">Note that SUSE has OS images for SAP applications that already include services and which are registered automatically.</span></span>

<span data-ttu-id="7dfb5-254">В примере ниже показано, как проверить наличие доступных исправлений для SUSE Linux с помощью команды **zypper**:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-254">Here is an example of checking for available patches for SUSE Linux by using the **zypper** command:</span></span>

 `sudo zypper list-patches`

<span data-ttu-id="7dfb5-255">В зависимости от типа ошибки исправления классифицируются по категориям и уровню серьезности.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-255">Depending on the kind of issue, patches are classified by category and severity.</span></span> <span data-ttu-id="7dfb5-256">Часто используемые значения категорий: **security** (Безопасность), **recommended** (Рекомендуемое), **optional** (Необязательное), **feature** (Компонент), **document** (Документ) или **yast** (Еще один инструмент установки).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-256">Commonly used values for category are: **security**, **recommended**, **optional**, **feature**, **document**, or **yast**.</span></span>
<span data-ttu-id="7dfb5-257">Часто используемые значения уровней серьезности: **critical** (Критическое), **important** (Важное), **moderate** (Средней важности), **low** (Низкой важности) или **unspecified** (Не указано).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-257">Commonly used values for severity are: **critical**, **important**, **moderate**, **low**, or **unspecified**.</span></span>

<span data-ttu-id="7dfb5-258">Команда **zypper** находит только те обновления, которые требуются для установленных пакетов.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-258">The **zypper** command looks only for the updates that your installed packages need.</span></span> <span data-ttu-id="7dfb5-259">Например, можно использовать эту команду:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-259">For example, you could use this command:</span></span>

`sudo zypper patch  --category=security,recommended --severity=critical,important`

<span data-ttu-id="7dfb5-260">Можно добавить параметр `--dry-run`, чтобы протестировать обновление без фактического обновления системы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-260">You can add the parameter `--dry-run` to test the update without actually updating the system.</span></span>


### <a name="disk-setup"></a><span data-ttu-id="7dfb5-261">настройка диска;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-261">Disk setup</span></span>
<span data-ttu-id="7dfb5-262">Размер корневой файловой системы на виртуальных машинах Linux в Azure ограничен.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-262">The root file system in a Linux VM on Azure has a size limitation.</span></span> <span data-ttu-id="7dfb5-263">Поэтому для работы SAP на виртуальной машине Azure необходимо добавить дополнительное дисковое пространство.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-263">Therefore, it's necessary to attach additional disk space to an Azure VM for running SAP.</span></span> <span data-ttu-id="7dfb5-264">Для виртуальных машин Azure сервера приложений SAP достаточно использовать диски хранилища Azure класса Standard.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-264">For SAP application server Azure VMs, the use of Azure standard storage disks might be sufficient.</span></span> <span data-ttu-id="7dfb5-265">Но для виртуальных машин Azure сервера СУБД SAP HANA использование дисков хранилища класса Premium для производственных и непроизводственных реализаций является обязательным.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-265">However, for SAP HANA DBMS Azure VMs, the use of Azure Premium Storage disks for production and non-production implementations is mandatory.</span></span>

<span data-ttu-id="7dfb5-266">Учитывая [требования программы SAP HANA TDI к хранилищу](https://www.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html), мы предлагаем следующую конфигурацию хранилища класса Premium:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-266">Based on the [SAP HANA TDI Storage Requirements](https://www.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html), the following Azure Premium Storage configuration is suggested:</span></span> 

| <span data-ttu-id="7dfb5-267">SKU виртуальной машины</span><span class="sxs-lookup"><span data-stu-id="7dfb5-267">VM SKU</span></span> | <span data-ttu-id="7dfb5-268">ОЗУ</span><span class="sxs-lookup"><span data-stu-id="7dfb5-268">RAM</span></span> |  <span data-ttu-id="7dfb5-269">/hana/data и /hana/log,</span><span class="sxs-lookup"><span data-stu-id="7dfb5-269">/hana/data and /hana/log</span></span> <br /> <span data-ttu-id="7dfb5-270">чередующиеся с диспетчером логических томов или MDADM</span><span class="sxs-lookup"><span data-stu-id="7dfb5-270">striped with LVM or MDADM</span></span> | <span data-ttu-id="7dfb5-271">/hana/shared</span><span class="sxs-lookup"><span data-stu-id="7dfb5-271">/hana/shared</span></span> | <span data-ttu-id="7dfb5-272">том /root</span><span class="sxs-lookup"><span data-stu-id="7dfb5-272">/root volume</span></span> | <span data-ttu-id="7dfb5-273">/usr/sap</span><span class="sxs-lookup"><span data-stu-id="7dfb5-273">/usr/sap</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="7dfb5-274">GS5</span><span class="sxs-lookup"><span data-stu-id="7dfb5-274">GS5</span></span> | <span data-ttu-id="7dfb5-275">448 ГБ</span><span class="sxs-lookup"><span data-stu-id="7dfb5-275">448 GB</span></span> | <span data-ttu-id="7dfb5-276">2 x P30</span><span class="sxs-lookup"><span data-stu-id="7dfb5-276">2 x P30</span></span> | <span data-ttu-id="7dfb5-277">1 x P20</span><span class="sxs-lookup"><span data-stu-id="7dfb5-277">1 x P20</span></span> | <span data-ttu-id="7dfb5-278">1 x P10</span><span class="sxs-lookup"><span data-stu-id="7dfb5-278">1 x P10</span></span> | <span data-ttu-id="7dfb5-279">1 x P10</span><span class="sxs-lookup"><span data-stu-id="7dfb5-279">1 x P10</span></span> | 

<span data-ttu-id="7dfb5-280">В конфигурации диска выше том данных и журнала HANA будут размещаться в одном наборе дисков хранилища класса Premium, чередующихся с диспетчером логических томов или MDADM.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-280">In the suggested disk configuration, the HANA data volume and log volume are placed on the same set of Azure premium storage disks that are striped with LVM or MDADM.</span></span> <span data-ttu-id="7dfb5-281">Не нужно определять уровень избыточности RAID, так как хранилище Azure класса Premium сохраняет три образа дисков для обеспечения избыточности.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-281">It is not necessary to define any RAID redundancy level because Azure Premium Storage keeps three images of the disks for redundancy.</span></span> <span data-ttu-id="7dfb5-282">Чтобы настроить достаточный объем хранилища, ознакомьтесь с [требованиями программы SAP HANA TDI к хранилищу](https://www.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html) и [руководством по установке и обновлению сервера SAP HANA](http://help.sap.com/saphelp_hanaplatform/helpdata/en/4c/24d332a37b4a3caad3e634f9900a45/frameset.htm).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-282">To make sure that you configure enough storage, consult the [SAP HANA TDI Storage Requirements](https://www.sap.com/documents/2015/03/74cdb554-5a7c-0010-82c7-eda71af511fa.html) and [SAP HANA Server Installation and Update Guide](http://help.sap.com/saphelp_hanaplatform/helpdata/en/4c/24d332a37b4a3caad3e634f9900a45/frameset.htm).</span></span> <span data-ttu-id="7dfb5-283">Мы рекомендуем также учитывать разные объемы пропускной способности виртуального жесткого диска (VHD) для разных дисков хранилища класса Premium. Дополнительные сведения см. в статье [Высокопроизводительное хранилище класса Premium и управляемые диски для виртуальных машин Azure](https://docs.microsoft.com/azure/storage/storage-premium-storage).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-283">Also consider the different virtual hard disk (VHD) throughput volumes of the different Azure premium storage disks as documented in [High-performance Premium Storage and managed disks for VMs](https://docs.microsoft.com/azure/storage/storage-premium-storage).</span></span> 

<span data-ttu-id="7dfb5-284">Можно добавить дополнительные диски хранилища класса Premium на виртуальные машины СУБД HANA для хранения резервных копий журнала транзакций или базы данных.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-284">You can add more premium storage disks to the HANA DBMS VMs for storing database or transaction log backups.</span></span>

<span data-ttu-id="7dfb5-285">Дополнительные сведения о двух основных средствах для настройки чередования см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-285">For more information about the two main tools used to configure striping, see the following articles:</span></span>

* [<span data-ttu-id="7dfb5-286">Настройка программного RAID-массива в Linux</span><span class="sxs-lookup"><span data-stu-id="7dfb5-286">Configure software RAID on Linux</span></span>](../../linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="7dfb5-287">Настройка диспетчера логических томов на виртуальной машине Linux в Azure</span><span class="sxs-lookup"><span data-stu-id="7dfb5-287">Configure LVM on a Linux VM in Azure</span></span>](../../linux/configure-lvm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

<span data-ttu-id="7dfb5-288">Дополнительные сведения о присоединении дисков к виртуальным машинам Azure под управлением Linux в качестве гостевой ОС см. в статье [Добавление диска к виртуальной машине Linux](../../linux/add-disk.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-288">For more information on attaching disks to Azure VMs running Linux as a guest OS, see [Add a disk to a Linux VM](../../linux/add-disk.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="7dfb5-289">Хранилище Azure класса Premium позволяет определять режимы кэширования диска.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-289">Azure Premium Storage allows you to define disk caching modes.</span></span> <span data-ttu-id="7dfb5-290">Для чередующегося набора, который содержит тома /hana/data и /hana/log, кэширование диска нужно отключить.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-290">For the striped set holding /hana/data and /hana/log, disk caching should be disabled.</span></span> <span data-ttu-id="7dfb5-291">Для других томов (дисков) для режима кэширования необходимо установить значение **Только для чтения**.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-291">For the other volumes (disks), the caching mode should be set to **ReadOnly**.</span></span>

<span data-ttu-id="7dfb5-292">Дополнительные сведения см. в статье [Хранилище класса "Премиум": высокопроизводительная служба хранилища для рабочих нагрузок виртуальных машин Azure](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-292">For more information, see [Premium Storage: High-performance storage for Azure Virtual Machine workloads](../../../storage/common/storage-premium-storage.md).</span></span>

<span data-ttu-id="7dfb5-293">Примеры шаблонов JSON для создания виртуальных машин см. на странице с [шаблонами быстрого запуска Azure](https://github.com/Azure/azure-quickstart-templates).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-293">To find sample JSON templates for creating VMs, go to [Azure Quickstart Templates](https://github.com/Azure/azure-quickstart-templates).</span></span>
<span data-ttu-id="7dfb5-294">Шаблон vm-simple-sles является базовым.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-294">The vm-simple-sles template is a basic template.</span></span> <span data-ttu-id="7dfb5-295">Оно содержит раздел хранилища с дополнительным диском данных размером 100 ГБ.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-295">It includes a storage section, with an additional 100-GB data disk.</span></span> <span data-ttu-id="7dfb5-296">Этот шаблон можно использовать в качестве базы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-296">This template can be used as a base.</span></span> <span data-ttu-id="7dfb5-297">Шаблон можно адаптировать для конкретной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-297">You can adapt the template to your specific configuration.</span></span>

>[!Note]
><span data-ttu-id="7dfb5-298">Важно добавить диск хранилища Azure с помощью UUID, как описано в статье [Запуск SAP NetWeaver на виртуальных машинах SUSE Linux в Microsoft Azure](suse-quickstart.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-298">It is important to attach the Azure storage disk by using a UUID as documented in [Running SAP NetWeaver on Microsoft Azure SUSE Linux VMs](suse-quickstart.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="7dfb5-299">В тестовой среде к виртуальной машине сервера приложений SAP необходимо подключить два диска стандартного хранилища Azure, как показано на следующем снимке экрана.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-299">In the test environment, two Azure standard storage disks were attached to the SAP app server VM, as shown in the following screenshot.</span></span> <span data-ttu-id="7dfb5-300">На одном хранится программное обеспечение SAP для установки (например, NetWeaver 7.5, графический пользовательский интерфейс SAP, SAP HANA).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-300">One disk stored all the SAP software (including NetWeaver 7.5, SAP GUI, and SAP HANA) for installation.</span></span> <span data-ttu-id="7dfb5-301">Второй диск обеспечивает достаточный объем свободного места для удовлетворения дополнительных требований (например, резервного копирования и тестовых данных) и предоставления общего доступа к каталогу /sapmnt (т. е. профилям SAP) всем виртуальным машинам, которые относятся к одному ландшафту SAP.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-301">The second disk ensured that enough free space would be available for additional requirements (for example, backup and test data) and for the /sapmnt directory (that is, SAP profiles) to be shared among all VMs that belong to the same SAP landscape.</span></span>

![Окно дисков сервера приложений SAP HANA, отображающее два диска данных и их размеры](./media/hana-get-started/image003.jpg)


### <a name="kernel-parameters"></a><span data-ttu-id="7dfb5-303">параметры ядра;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-303">Kernel parameters</span></span>
<span data-ttu-id="7dfb5-304">Перед установкой SAP HANA необходимо указать определенные параметры ядра Linux, которые не относятся к стандартным образам из коллекции Azure и требуют настройки вручную.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-304">SAP HANA requires specific Linux kernel settings, which are not part of the standard Azure gallery images and must be set manually.</span></span> <span data-ttu-id="7dfb5-305">Для SUSE или Red Hat параметры могут отличаться.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-305">Depending on whether you use SUSE or Red Hat, the parameters might be different.</span></span> <span data-ttu-id="7dfb5-306">В примечаниях SAP, перечисленных выше, содержатся сведения об этих параметрах.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-306">The SAP Notes listed earlier give information about those parameters.</span></span> <span data-ttu-id="7dfb5-307">На снимках экрана используется SUSE Linux 12 с пакетом обновления 1 (SP1).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-307">In the screenshots shown, SUSE Linux 12 SP1 was used.</span></span> 

<span data-ttu-id="7dfb5-308">В общедоступной версии SLES for SAP Applications 12 GA и SLES for SAP Applications 12 с пакетом обновления 1 (SP1) добавлен новое средство (**tuned-adm**), заменяющее устаревшее средство **sapconf**.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-308">SLES for SAP Applications 12 GA and SLES for SAP Applications 12 SP1 have a new tool, **tuned-adm**, that replaces the old **sapconf** tool.</span></span> <span data-ttu-id="7dfb5-309">Для средства **tuned-adm** существует специальный профиль SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-309">A special SAP HANA profile is available for **tuned-adm**.</span></span> <span data-ttu-id="7dfb5-310">Чтобы настроить систему для SAP HANA, выполните следующую команду от имени привилегированного пользователя:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-310">To tune the system for SAP HANA, enter the following as a root user:</span></span>

   `tuned-adm profile sap-hana`

<span data-ttu-id="7dfb5-311">Дополнительные сведения о средстве **tuned-adm** см. в [ соответствующей документации по SUSE](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/sles-for-sap-12-sp1.zip).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-311">For more information about **tuned-adm**, see the [SUSE documentation about tuned-adm](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/sles-for-sap-12-sp1.zip).</span></span>

<span data-ttu-id="7dfb5-312">На следующем снимке экрана показаны значения `transparent_hugepage` и `numa_balancing`, измененные с помощью средства **tuned-adm** в соответствии с требуемыми параметрами SAP HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-312">In the following screenshot, you can see how **tuned-adm** changed the `transparent_hugepage` and `numa_balancing` values, according to the required SAP HANA settings.</span></span>

![Инструмент tuned-adm изменяет значения в соответствии с требуемыми параметрами SAP HANA](./media/hana-get-started/image005.jpg)

<span data-ttu-id="7dfb5-314">Чтобы сделать параметры ядра SAP HANA постоянными, используйте в SLES 12 загрузчик **grub2**.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-314">To make the SAP HANA kernel settings permanent, use **grub2** on SLES 12.</span></span> <span data-ttu-id="7dfb5-315">Дополнительные сведения о загрузчике **grub2** см. в разделе о [структуре файла конфигурации документации по SUSE](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/sles-for-sap-12-sp1.zip).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-315">For more information about **grub2**, go to the [Configuration File Structure](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/sles-for-sap-12-sp1.zip) section of the SUSE documentation.</span></span>

<span data-ttu-id="7dfb5-316">На следующем снимке экрана показаны измененные в файле конфигурации, а затем скомпилированные с помощью **grub2-mkconfig** параметры ядра:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-316">The following screenshot shows how the kernel settings were changed in the configuration file and then compiled by using **grub2-mkconfig**:</span></span>

![Параметры ядра, измененные в файле конфигурации и скомпилированные с помощью grub2-mkconfig](./media/hana-get-started/image006.jpg)

<span data-ttu-id="7dfb5-318">Параметры ядра также можно изменить, используя YaST или выбрав параметры **Boot Loader** > **Kernel Parameters** (Загрузчик > Параметры ядра):</span><span class="sxs-lookup"><span data-stu-id="7dfb5-318">Another option is to change the settings by using YaST and the **Boot Loader** > **Kernel Parameters** settings:</span></span>

![Вкладка параметров Kernel Parameters (Параметры ядра) в загрузчике YaST](./media/hana-get-started/image007.jpg)

### <a name="file-systems"></a><span data-ttu-id="7dfb5-320">Файловые системы</span><span class="sxs-lookup"><span data-stu-id="7dfb5-320">File systems</span></span>
<span data-ttu-id="7dfb5-321">На следующем снимке экрана показаны две файловые системы, созданные на виртуальной машине сервера приложений SAP поверх двух подключенных дисков стандартного хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-321">The following screenshot shows two file systems that were created on the SAP app server VM on top of the two attached Azure standard storage disks.</span></span> <span data-ttu-id="7dfb5-322">Эти файловые системы типа XFS подключены к /sapdata и /sapsoftware.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-322">Both file systems are of type XFS and are mounted to /sapdata and /sapsoftware.</span></span>

<span data-ttu-id="7dfb5-323">Структурировать файловые системы таким образом необязательно.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-323">It is not mandatory to structure your file systems in this way.</span></span> <span data-ttu-id="7dfb5-324">Структурировать дисковое пространство можно и с помощью других параметров.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-324">You have other options for structuring the disk space.</span></span> <span data-ttu-id="7dfb5-325">Наиболее важно предотвратить нехватку свободного места в корневой файловой системе.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-325">The most important consideration is to prevent the root file system from running out of free space.</span></span>

![Две файловые системы, созданные на виртуальной машине сервера приложений SAP](./media/hana-get-started/image008.jpg)

<span data-ttu-id="7dfb5-327">Во время установки базы данных на виртуальную машину базы данных SAP HANA при использовании SWPM или **обычного** варианта установки, компоненты устанавливаются в /hana и /usr/sap.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-327">Regarding the SAP HANA DB VM, during a database installation, when you use SAPinst (SWPM) and the **typical** installation option, everything is installed under /hana and /usr/sap.</span></span> <span data-ttu-id="7dfb5-328">Резервная копия журналов SAP HANA по умолчанию хранится в расположении /usr/sap.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-328">The default location for the SAP HANA log backup is under /usr/sap.</span></span> <span data-ttu-id="7dfb5-329">Опять же, так как очень важно предотвратить нехватку свободного пространства для корневой файловой системы, перед установкой SAP HANA с помощью SWPM убедитесь, что в разделе /hana и /usr/sap достаточно свободного места.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-329">Again, because it's important to prevent the root file system from running out of storage space, make sure that there is enough free space under /hana and /usr/sap before you install SAP HANA by using SWPM.</span></span>

<span data-ttu-id="7dfb5-330">Описание макета стандартной файловой системы SAP HANA см. в [руководстве по установке и обновлению сервера SAP HANA](http://help.sap.com/saphelp_hanaplatform/helpdata/en/4c/24d332a37b4a3caad3e634f9900a45/frameset.htm).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-330">For a description of the standard file-system layout of SAP HANA, see the [SAP HANA Server Installation and Update Guide](http://help.sap.com/saphelp_hanaplatform/helpdata/en/4c/24d332a37b4a3caad3e634f9900a45/frameset.htm).</span></span>

![Дополнительные файловые системы, созданные на виртуальной машине сервера приложений SAP](./media/hana-get-started/image009.jpg)

<span data-ttu-id="7dfb5-332">Когда вы устанавливаете SAP NetWeaver в среде SLES 12 или SLES for SAP Applications 12 из стандартного образа коллекции Azure, отображается сообщение о нехватке области буфера, как показано на следующем снимке экрана.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-332">When you install SAP NetWeaver on a standard SLES/SLES for SAP Applications 12 Azure gallery image, a message is displayed that says  there is no swap space, as shown in the following screenshot.</span></span> <span data-ttu-id="7dfb5-333">Чтобы закрыть это сообщение, можно вручную добавить файл подкачки с помощью **dd**, **mkswap** и **swapon**.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-333">To dismiss this message, you can manually add a swap file by using **dd**, **mkswap**, and **swapon**.</span></span> <span data-ttu-id="7dfb5-334">Инструкции см. в подразделе "Adding a Swap File Manually" (Добавление файла подкачки вручную) [раздела "Using the YaST Partitioner" (Использование модуля секционирования YaST) документации SUSE](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/sles-for-sap-12-sp1.zip).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-334">To learn how, search for "Adding a swap file manually" in the [Using the YaST Partitioner](https://www.suse.com/documentation/sles-for-sap-12/pdfdoc/sles-for-sap-12-sp1.zip) section of the SUSE documentation.</span></span>

<span data-ttu-id="7dfb5-335">Область буфера можно также настроить с помощью агента виртуальной машины Linux.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-335">Another option is to configure swap space by using the Linux VM agent.</span></span> <span data-ttu-id="7dfb5-336">Дополнительные сведения см. в [руководстве пользователя агента Linux Azure](../../linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-336">For more information, see the [Azure Linux Agent User Guide](../../linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

![Всплывающее сообщение, предупреждающее о том, что в области буфера недостаточно места](./media/hana-get-started/image010.jpg)


### <a name="the-etchosts-file"></a><span data-ttu-id="7dfb5-338">файл/etc/hosts;</span><span class="sxs-lookup"><span data-stu-id="7dfb5-338">The /etc/hosts file</span></span>
<span data-ttu-id="7dfb5-339">Перед началом установки SAP необходимо добавить в файл /etc/hosts имена узлов и IP-адреса виртуальных машин SAP.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-339">Before you start to install SAP, make sure you include the host names and IP addresses of the SAP VMs in the /etc/hosts file.</span></span> <span data-ttu-id="7dfb5-340">Разверните все виртуальные машины SAP в одной виртуальной сети Azure, а затем используйте внутренние IP-адреса, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-340">Deploy all the SAP VMs within one Azure virtual network, and then use the internal IP addresses, as shown here:</span></span>

![Имена узлов и IP-адреса виртуальных машин SAP, приведенные в файле /etc/hosts](./media/hana-get-started/image011.jpg)

### <a name="the-etcfstab-file"></a><span data-ttu-id="7dfb5-342">файл /etc/fstab.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-342">The /etc/fstab file</span></span>

<span data-ttu-id="7dfb5-343">Стоит добавить параметр **nofail** в файл fstab.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-343">It is helpful to add the **nofail** parameter to the fstab file.</span></span> <span data-ttu-id="7dfb5-344">При возникновении проблем с дисками этот параметр позволит виртуальной машине загрузиться, а не зависнуть в процессе загрузки.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-344">This way, if something goes wrong with the disks, the VM does not hang in the boot process.</span></span> <span data-ttu-id="7dfb5-345">Помните, что на диске может не быть дополнительного места и процессы могут заполнить корневую файловую систему.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-345">But remember that additional disk space might not be available, and processes might fill up the root file system.</span></span> <span data-ttu-id="7dfb5-346">Если /hana отсутствует, SAP HANA не запустится.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-346">If /hana is missing, SAP HANA won't start.</span></span>

![Добавление параметра nofail в файл fstab](./media/hana-get-started/image000c.jpg)

## <a name="graphical-gnome-desktop-on-sles-12sles-for-sap-applications-12"></a><span data-ttu-id="7dfb5-348">Графический рабочий стол GNOME в SLES 12 или SLES for SAP Applications 12</span><span class="sxs-lookup"><span data-stu-id="7dfb5-348">Graphical GNOME desktop on SLES 12/SLES for SAP Applications 12</span></span>
<span data-ttu-id="7dfb5-349">В этом разделе описываются следующие темы:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-349">This section covers the following topics:</span></span>

* <span data-ttu-id="7dfb5-350">Установка рабочего стола GNOME и xrdp в SLES 12 или SLES for SAP Applications 12.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-350">Installing the GNOME desktop and xrdp on SLES 12/SLES for SAP Applications 12</span></span>
* <span data-ttu-id="7dfb5-351">Запуск консоли управления SAP на основе Java с помощью Firefox в SLES 12 или SLES for SAP Applications 12.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-351">Running Java-based SAP MC by using Firefox on SLES 12/SLES for SAP Applications 12</span></span>

<span data-ttu-id="7dfb5-352">Можно также использовать альтернативные варианты, например Xterminal или VNC (не описанные в этом руководстве).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-352">You can also use alternatives such as Xterminal or VNC (not described in this guide).</span></span>

### <a name="installing-the-gnome-desktop-and-xrdp-on-sles-12sles-for-sap-applications-12"></a><span data-ttu-id="7dfb5-353">Установка рабочего стола GNOME и xrdp в SLES 12 или SLES for SAP Applications 12</span><span class="sxs-lookup"><span data-stu-id="7dfb5-353">Installing the GNOME desktop and xrdp on SLES 12/SLES for SAP Applications 12</span></span>
<span data-ttu-id="7dfb5-354">Если у вас есть ОС Windows, для запуска Firefox, SAPinst, графического пользовательского интерфейса SAP, консоли управления SAP или HANA Studio можно использовать графический рабочий стол непосредственно в виртуальных машинах SAP под управлением Linux. Кроме того, можно подключиться к виртуальной машине по протоколу удаленного рабочего стола с компьютера Windows.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-354">If you have a Windows background, you can easily use a graphical desktop directly within the SAP Linux VMs to run Firefox, SAPinst, SAP GUI, SAP MC, or HANA Studio, and connect to the VM through the Remote Desktop Protocol (RDP) from a Windows computer.</span></span> <span data-ttu-id="7dfb5-355">В вашей компании может быть настроена политика в отношении добавления графических пользовательских интерфейсов в рабочие и нерабочие среды Linux. В таком случае вам может понадобится установить GNOME на сервер.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-355">Dependent on your company policies about adding graphical user interfaces to production and non-production Linux based systems, you might want to install GNOME on your server.</span></span> <span data-ttu-id="7dfb5-356">Чтобы установить рабочий стол GNOME на виртуальную машину Azure SLES 12 или SLES for SAP Applications 12, сделайте следующее.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-356">To install the GNOME desktop on an Azure SLES 12/SLES for SAP Applications 12 VM:</span></span>

1. <span data-ttu-id="7dfb5-357">Установите рабочий стол GNOME с помощью следующей команды (например, в окне PuTTY):</span><span class="sxs-lookup"><span data-stu-id="7dfb5-357">Install the GNOME desktop by entering the following command (for example, in a PuTTY window):</span></span>

   `zypper in -t pattern gnome-basic`

2. <span data-ttu-id="7dfb5-358">Чтобы разрешить подключение к виртуальной машине через удаленный рабочий стол, установите xrdp:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-358">Install xrdp to allow a connection to the VM through RDP:</span></span>

   `zypper in xrdp`

3. <span data-ttu-id="7dfb5-359">Измените файл /etc/sysconfig/windowmanager и установите GNOME в качестве диспетчера окон по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-359">Edit /etc/sysconfig/windowmanager, and set the default window manager to GNOME:</span></span>

   `DEFAULT_WM="gnome"`

4. <span data-ttu-id="7dfb5-360">Выполните команду **chkconfig**, чтобы убедиться, что xrdp автоматически запустится после перезагрузки:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-360">Run **chkconfig** to make sure that xrdp starts automatically after a reboot:</span></span>

   `chkconfig -level 3 xrdp on`

5. <span data-ttu-id="7dfb5-361">Если с подключением RDP возникнут проблемы, попробуйте перезагрузить систему (в окне PuTTY):</span><span class="sxs-lookup"><span data-stu-id="7dfb5-361">If you have an issue with the RDP connection, try to restart (from a PuTTY window, for example):</span></span>

   `/etc/xrdp/xrdp.sh restart`

6. <span data-ttu-id="7dfb5-362">Если перезапуск xrdp, упомянутый на предыдущем шаге, не работает, проверьте наличие PID-файла:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-362">If an xrdp restart mentioned in the previous step doesn't work, check for a .pid file:</span></span>

   `check /var/run` 

   <span data-ttu-id="7dfb5-363">Поищите `xrdp.pid`.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-363">Look for `xrdp.pid`.</span></span> <span data-ttu-id="7dfb5-364">Если вы найдете этот файл, удалите его и попробуйте еще раз перезагрузить систему.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-364">If you find it, remove it, and try to restart again.</span></span>

### <a name="starting-sap-mc"></a><span data-ttu-id="7dfb5-365">Запуск консоли управления SAP</span><span class="sxs-lookup"><span data-stu-id="7dfb5-365">Starting SAP MC</span></span>
<span data-ttu-id="7dfb5-366">Когда вы установите рабочий стол GNOME, при запуске графической консоли управления SAP на основе Java из Firefox в виртуальной машине Azure SLES 12 или SLES for SAP Applications 12 может отображаться ошибка из-за отсутствия в браузере подключаемого модуля Java.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-366">After you install the GNOME desktop, starting the graphical Java-based SAP MC from Firefox while running in an Azure SLES 12/SLES for SAP Applications 12 VM might display an error because of the missing Java-browser plug-in.</span></span>

<span data-ttu-id="7dfb5-367">Чтобы запустить консоль управления SAP, используйте следующий URL-адрес: `<server>:5<instance_number>13`.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-367">The URL to start the SAP MC is `<server>:5<instance_number>13`.</span></span>

<span data-ttu-id="7dfb5-368">Дополнительные сведения см. в разделе [Starting the Web-Based SAP Management Console](https://help.sap.com/saphelp_nwce10/helpdata/en/48/6b7c6178dc4f93e10000000a42189d/frameset.htm) (Запуск консоли управления SAP на основе веб-технологий).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-368">For more information, see [Starting the Web-Based SAP Management Console](https://help.sap.com/saphelp_nwce10/helpdata/en/48/6b7c6178dc4f93e10000000a42189d/frameset.htm).</span></span>

<span data-ttu-id="7dfb5-369">На следующем снимке экрана показано сообщение об ошибке, которое отображается при отсутствии в браузере подключаемого модуля Java:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-369">The following screenshot shows the error message that is displayed when the Java-browser plug-in is missing:</span></span>

![Сообщение об ошибке, указывающее на отсутствие в браузере подключаемого модуля Java](./media/hana-get-started/image013.jpg)

<span data-ttu-id="7dfb5-371">Чтобы решить эту проблему, установите отсутствующий подключаемый модуль с помощью YaST, как показано на следующем снимке экрана:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-371">One way to solve the problem is to install the missing plug-in by using YaST, as shown in the following screenshot:</span></span>

![Использование YaST для установки отсутствующего подключаемого модуля](./media/hana-get-started/image014.jpg)

<span data-ttu-id="7dfb5-373">Когда вы повторно введете URL-адрес консоли управления SAP, отобразится сообщение с запросом на активацию подключаемого модуля:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-373">When you re-enter the SAP Management Console URL, a message appears asking you to activate the plug-in:</span></span>

![Диалоговое окно с запросом на активацию подключаемого модуля](./media/hana-get-started/image015.jpg)

<span data-ttu-id="7dfb5-375">Также может появиться сообщение об отсутствующем файле javafx.properties.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-375">You might also receive an error message about a missing file, javafx.properties.</span></span> <span data-ttu-id="7dfb5-376">Это связано с требованием наличия Oracle Java 1.8 для SAP GUI 7.4.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-376">This is related to the requirement of Oracle Java 1.8 for SAP GUI 7.4.</span></span> <span data-ttu-id="7dfb5-377">(См. [примечание к SAP 2059429](https://launchpad.support.sap.com/#/notes/2059424)). Ни версия Java для IBM, ни пакет openjdk, поставляемый в составе SLES или SLES for SAP Applications 12, не содержат необходимый файл javafx.properties.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-377">(See [SAP Note 2059429](https://launchpad.support.sap.com/#/notes/2059424).) Neither the IBM Java version nor the openjdk package delivered with SLES/SLES for SAP Applications 12 includes the needed javafx.properties file.</span></span> <span data-ttu-id="7dfb5-378">Рекомендуется скачать и установить Java SE8 с сайта Oracle.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-378">The solution is to download and install Java SE 8 from Oracle.</span></span>

<span data-ttu-id="7dfb5-379">Сведения о подобной проблеме с openjdk в openSUSE см. в обсуждении [SAPGui 7.4 Java for openSUSE 42.1 Leap](https://scn.sap.com/thread/3908306).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-379">For information about a similar issue with openjdk on openSUSE, see the discussion thread [SAPGui 7.4 Java for openSUSE 42.1 Leap](https://scn.sap.com/thread/3908306).</span></span>

## <a name="manual-installation-of-sap-hana-swpm"></a><span data-ttu-id="7dfb5-380">Установка SAP HANA вручную: SWPM</span><span class="sxs-lookup"><span data-stu-id="7dfb5-380">Manual installation of SAP HANA: SWPM</span></span>
<span data-ttu-id="7dfb5-381">На серии снимков экрана в этом разделе показаны основные действия по установке SAP NetWeaver 7.5 и SAP HANA SP12 при использовании SWPM (SAPinst).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-381">The series of screenshots in this section shows the key steps for installing SAP NetWeaver 7.5 and SAP HANA SP12 when you use SWPM (SAPinst).</span></span> <span data-ttu-id="7dfb5-382">Во время установки NetWeaver 7.5 при использовании SWPM можно также установить отдельный экземпляр базы данных HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-382">As part of a NetWeaver 7.5 installation, SWPM can also install the HANA database as a single instance.</span></span>

<span data-ttu-id="7dfb5-383">В примере со средой тестирования мы установили только один сервер приложений Advanced Business Application Programming (ABAP).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-383">In a sample test environment, we installed just one Advanced Business Application Programming (ABAP) app server.</span></span> <span data-ttu-id="7dfb5-384">Как показано на следующем снимке экрана, для установки ASCS и основных экземпляров сервера приложений на одной виртуальной машине Azure и SAP HANA в качестве системы баз данных на другой виртуальной машине Azure мы использовали параметр **Distributed System** (Распределенная система).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-384">As shown in the following screenshot, we used the **Distributed System** option to install the ASCS and primary application server instances in one Azure VM and SAP HANA as the database system in another Azure VM.</span></span>

![ASCS и основные экземпляры сервера приложений, установленные с помощью параметра "Distributed System" (Распределенная система)](./media/hana-get-started/image012.jpg)

<span data-ttu-id="7dfb5-386">Когда экземпляр ASCS будет установлен на виртуальной машине сервера приложений и будет отмечен в консоли управления SAP зеленой галочкой (см. снимок экрана ниже), для виртуальной машины сервера базы данных SAP HANA необходимо будет предоставить доступ к каталогу /sapmnt (содержащему каталог профилей SAP).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-386">After the ASCS instance is installed on the app server VM and is set to "green" in the SAP Management Console (shown in the following screenshot), the /sapmnt directory (including the SAP profile directory) must be shared with the SAP HANA DB server VM.</span></span> <span data-ttu-id="7dfb5-387">Доступ к этому каталогу требуется во время установки базы данных.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-387">The DB installation step needs access to this information.</span></span> <span data-ttu-id="7dfb5-388">Лучший способ предоставить доступ — использовать клиент NFS, который можно настроить с помощью Yast.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-388">The best way to provide access is to use NFS, which can be configured by using YaST.</span></span>

![Консоль управления SAP, отображающая экземпляр ASCS, установленный на виртуальной машине сервера приложений, с заданным значением green](./media/hana-get-started/image016.jpg)

<span data-ttu-id="7dfb5-390">Общий доступ к каталогу /sapmnt на виртуальной машине сервера приложений необходимо предоставить через NFS-клиент с помощью параметров **rw** и **no_root_squash**.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-390">On the app server VM, the /sapmnt directory should be shared via NFS by using the **rw** and **no_root_squash** options.</span></span> <span data-ttu-id="7dfb5-391">По умолчанию используются параметры **ro** и **root_squash**, но при установке экземпляра базы данных из-за них могут возникать проблемы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-391">The defaults are **ro** and **root_squash**, which might lead to problems when you install the database instance.</span></span>

![Предоставление общего доступа к каталогу /sapmnt через NFS-клиент с использованием параметров rw и no_root_squash](./media/hana-get-started/image017b.jpg)

<span data-ttu-id="7dfb5-393">На следующем снимке экрана показано, как на виртуальной машине сервера базы данных SAP HANA каталог /sapmnt, доступ к которому предоставляется с виртуальной машины сервера приложений, необходимо настроить с помощью **NFS-клиента** (и с помощью Yast).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-393">As the next screenshot shows, the /sapmnt share from the app server VM must be configured on the SAP HANA DB server VM by using **NFS Client** (and YaST).</span></span>

![Каталог /sapmnt, настроенный с помощью NFS-клиента](./media/hana-get-started/image018b.jpg)

<span data-ttu-id="7dfb5-395">Для установки **экземпляра базы данных** в рамках распределенной установки NetWeaver 7.5, как показано на следующем снимке экрана, войдите на виртуальную машину сервера базы данных SAP HANA и запустите SWPM.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-395">To perform a distributed NetWeaver 7.5 installation (**Database Instance**), as shown in the following screenshot, sign in to the SAP HANA DB server VM and start SWPM.</span></span>

![Установка экземпляра базы данных путем входа на виртуальную машину сервера базы данных SAP HANA и запуска SWPM](./media/hana-get-started/image019.jpg)

<span data-ttu-id="7dfb5-397">Выбрав **обычную** установку и путь к установочному носителю, введите идентификатор безопасности базы данных, имя узла, число экземпляров и пароль системного администратора базы данных.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-397">After you select **typical** installation and the path to the installation media, enter a DB SID, the host name, the instance number, and the DB system administrator password.</span></span>

![Страница входа в систему системного администратора базы данных SAP HANA](./media/hana-get-started/image035b.jpg)

<span data-ttu-id="7dfb5-399">Введите пароль схемы DBACOCKPIT:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-399">Enter the password for the DBACOCKPIT schema:</span></span>

![Поле для ввода пароля для схемы DBACockpit](./media/hana-get-started/image036b.jpg)

<span data-ttu-id="7dfb5-401">Введите вопрос для пароля схемы SAPABAP1:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-401">Enter a question for the SAPABAP1 schema password:</span></span>

![Ввод вопроса для пароля схемы SAPABAP1](./media/hana-get-started/image037b.jpg)

<span data-ttu-id="7dfb5-403">После выполнения каждого задания рядом с каждым этапом процесса установки базы данных появится зеленая галочка.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-403">After each task is completed, a green check mark is displayed next to each phase of the DB installation process.</span></span> <span data-ttu-id="7dfb5-404">Отобразится сообщение "Execution of ... Database Instance has completed" (Выполнение экземпляра базы данных (...) завершено).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-404">The message "Execution of ... Database Instance has completed" is displayed.</span></span>

![Окно выполнения задачи, содержащее сообщение с подтверждением](./media/hana-get-started/image023.jpg)

<span data-ttu-id="7dfb5-406">После успешной установки в консоли управления SAP возле экземпляра базы данных также будет установлена зеленая галочка и отобразится список всех процессов SAP HANA (hdbindexserver, hdbcompileserver и т. д.).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-406">After successful installation, the SAP Management Console should also show the DB instance as "green" and display the full list of SAP HANA processes (hdbindexserver, hdbcompileserver, and so forth).</span></span>

![Окно консоли управления SAP со списком процессов SAP HANA](./media/hana-get-started/image024.jpg)

<span data-ttu-id="7dfb5-408">На следующем снимке экрана показаны части структуры файла в каталоге /hana/shared, созданном SWPM во время установки HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-408">The following screenshot shows the parts of the file structure under the /hana/shared directory that SWPM created during the HANA installation.</span></span> <span data-ttu-id="7dfb5-409">Так как невозможно указать другой путь, перед установкой SAP HANA с помощью SWPM важно подключить дополнительное дисковое пространство в каталоге /hana.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-409">Because there is no option to specify a different path, it's important to mount additional disk space under the /hana directory before the SAP HANA installation by using SWPM.</span></span> <span data-ttu-id="7dfb5-410">Оно обеспечивает достаточный объем памяти для корневой файловой системы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-410">This prevents the root file system from running out of free space.</span></span>

![Структура файла каталога /hana/shared, созданного во время установки HANA](./media/hana-get-started/image025.jpg)

<span data-ttu-id="7dfb5-412">На этом снимке экрана показана структура файла каталога /usr/sap:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-412">This screenshot shows the file structure of the /usr/sap directory:</span></span>

![Структура файла каталога usr/sap/](./media/hana-get-started/image026.jpg)

<span data-ttu-id="7dfb5-414">Последний шаг распределенной установки ABAP — это установка основного экземпляра сервера приложений:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-414">The last step of the distributed ABAP installation is to install the primary application server instance:</span></span>

![Установка ABAP, отображающая основной экземпляр сервера приложений в качестве завершающего этапа](./media/hana-get-started/image027b.jpg)

<span data-ttu-id="7dfb5-416">После установки основного экземпляра сервера приложений и графического пользовательского интерфейса SAP с помощью транзакции **DBA Cockpit** убедитесь, что установка SAP HANA выполнена правильно:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-416">After the primary application server instance and SAP GUI are installed, use the **DBA Cockpit** transaction to confirm that the SAP HANA installation has finished correctly:</span></span>

![Окно DBACockpit с подтверждением успешной установки](./media/hana-get-started/image028b.jpg)

<span data-ttu-id="7dfb5-418">В качестве последнего шага на виртуальной машине сервера приложений SAP можно установить HANA Studio, а затем подключить ее к экземпляру SAP HANA, запущенному на виртуальной машине сервера базы данных:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-418">As a final step, you might want to first install HANA Studio in the SAP app server VM, and then connect to the SAP HANA instance that's running on the DB server VM:</span></span>

![Установка SAP HANA Studio на виртуальной машине сервера приложений SAP](./media/hana-get-started/image038b.jpg)

## <a name="manual-installation-of-sap-hana-hdblcm"></a><span data-ttu-id="7dfb5-420">Установка SAP HANA вручную: HDBLCM</span><span class="sxs-lookup"><span data-stu-id="7dfb5-420">Manual installation of SAP HANA: HDBLCM</span></span>
<span data-ttu-id="7dfb5-421">Кроме установки SAP HANA в рамках распределенной установки с помощью SWPM, можно сначала установить только HANA с помощью HDBLCM.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-421">In addition to installing SAP HANA as part of a distributed installation by using SWPM, you can install the HANA standalone first, by using HDBLCM.</span></span> <span data-ttu-id="7dfb5-422">Затем можно установить SAP NetWeaver 7.5.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-422">You can then install SAP NetWeaver 7.5, for example.</span></span> <span data-ttu-id="7dfb5-423">Процесс показан на снимках экрана в этом разделе.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-423">The screenshots in this section show how this process works.</span></span>

<span data-ttu-id="7dfb5-424">Дополнительные сведения о средстве HDBLCM HANA см. в следующих источниках:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-424">For more information about the HANA HDBLCM tool, see:</span></span>

* [<span data-ttu-id="7dfb5-425">Choosing the Correct SAP HANA HDBLCM for Your Task (Выбор подходящего средства SAP HANA HDBLCM для выполнения определенных заданий)</span><span class="sxs-lookup"><span data-stu-id="7dfb5-425">Choosing the Correct SAP HANA HDBLCM for Your Task</span></span>](https://help.sap.com/saphelp_hanaplatform/helpdata/en/68/5cff570bb745d48c0ab6d50123ca60/content.htm)
* [<span data-ttu-id="7dfb5-426">SAP HANA Lifecycle Management Tools (Средства управления жизненным циклом SAP Hana)</span><span class="sxs-lookup"><span data-stu-id="7dfb5-426">SAP HANA Lifecycle Management Tools</span></span>](http://saphanatutorial.com/sap-hana-lifecycle-management-tools/)
* [<span data-ttu-id="7dfb5-427">SAP HANA Server Installation and Update Guide (Руководство по установке и обновлению сервера SAP Hana)</span><span class="sxs-lookup"><span data-stu-id="7dfb5-427">SAP HANA Server Installation and Update Guide</span></span>](http://help.sap.com/hana/SAP_HANA_Server_Installation_Guide_en.pdf)

<span data-ttu-id="7dfb5-428">Чтобы избежать проблем с настройкой идентификатора группы по умолчанию для пользователя `\<HANA SID\>adm user` (созданного с помощью средства HDBLCM), перед установкой SAP HANA с помощью HDBLCM необходимо определить новую группу `sapsys` с помощью идентификатора группы `1001`:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-428">To avoid problems with a default group ID setting for the `\<HANA SID\>adm user` (created by the HDBLCM tool), define a new group called `sapsys` by using group ID `1001` before you install SAP HANA via HDBLCM:</span></span>

![Новая группа sapsys, определенная с использованием идентификатора группы 1001](./media/hana-get-started/image030.jpg)

<span data-ttu-id="7dfb5-430">При запуске HDBLCM в первый раз отображается простое главное меню.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-430">When you start HDBLCM the first time, a simple start menu is displayed.</span></span> <span data-ttu-id="7dfb5-431">Выберите пункт 1, **Install new system** (Установка новой системы), как показано на следующем снимке экрана:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-431">Select item 1, **Install new system**, as shown in the following screenshot:</span></span>

![Параметр "Install new system" (Установка новой системы) в окне запуска HDBLCM](./media/hana-get-started/image031.jpg)

<span data-ttu-id="7dfb5-433">На следующем снимке экрана отображаются все ранее выбранные основные параметры.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-433">The following screenshot displays all the key options that you selected previously.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7dfb5-434">Каталоги, используемые для журналов и томов данных HANA, а также путь установки (/hana/shared в этом примере) и /usr/sap, не должны быть частью корневой файловой системы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-434">Directories that are named for HANA log and data volumes, as well as the installation path (/hana/shared in this sample) and /usr/sap, should not be part of the root file system.</span></span> <span data-ttu-id="7dfb5-435">Эти каталоги принадлежат к дискам данных Azure, которые присоединены к виртуальной машине, как описано в разделе "Настройка диска".</span><span class="sxs-lookup"><span data-stu-id="7dfb5-435">These directories belong to the Azure data disks that were attached to the VM (described in the "Disk setup" section).</span></span> <span data-ttu-id="7dfb5-436">Такой подход обеспечивает достаточный объем памяти для корневой файловой системы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-436">This approach helps prevent the root file system from running out of space.</span></span> <span data-ttu-id="7dfb5-437">На следующем снимке экрана можно увидеть, что у системного администратора HANA есть идентификатор пользователя `1005`, а сам он является участником группы `sapsys` (ID `1001`), которая определена до установки.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-437">In the following screenshot, you can see that the HANA system administrator has user ID `1005` and is part of the `sapsys` group (ID `1001`) that was defined before the installation.</span></span>

![Список всех выбранных ранее основных компонентов SAP HANA](./media/hana-get-started/image032.jpg)

<span data-ttu-id="7dfb5-439">Вы можете найти сведения пользователя `\<HANA SID\>adm user` (`azdadm` на следующем снимке экрана) в каталоге /etc/passwd:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-439">You can check the `\<HANA SID\>adm user` (`azdadm` in the following screenshot) details in the /etc/passwd directory:</span></span>

![Сведения о пользователе \<HANA SID\>adm user в каталоге /etc/passwd](./media/hana-get-started/image033.jpg)

<span data-ttu-id="7dfb5-441">После установки SAP HANA с помощью HDBLCM в SAP HANA Studio отобразится структура файла, как показано на следующем снимке экрана.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-441">After you install SAP HANA by using HDBLCM, you can see the file structure in SAP HANA Studio, as shown in the following screenshot.</span></span> <span data-ttu-id="7dfb5-442">Схема SAPABAP1 со всеми таблицами SAP NetWeaver еще недоступна.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-442">The SAPABAP1 schema, which includes all the SAP NetWeaver tables, isn't available yet.</span></span>

![Структура файла SAP HANA в SAP HANA Studio](./media/hana-get-started/image034.jpg)

<span data-ttu-id="7dfb5-444">После установки SAP HANA на его основе можно установить SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-444">After you install SAP HANA, you can install SAP NetWeaver on top of it.</span></span> <span data-ttu-id="7dfb5-445">Как показано на следующем снимке экрана, установка выполнена как "распределенная" с помощью SWPM (как описано в предыдущем разделе).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-445">As shown in the following screenshot, the installation was performed as a distributed installation by using SWPM (as described in the previous section).</span></span> <span data-ttu-id="7dfb5-446">При установке экземпляра базы данных с помощью SWPM вводятся те же данные, что и при использовании HDBLCM (например, имя узла, идентификатор безопасности HANA и число экземпляров).</span><span class="sxs-lookup"><span data-stu-id="7dfb5-446">When you install the database instance by using SWPM, you enter the same data by using HDBLCM (for example, host name, HANA SID, and instance number).</span></span> <span data-ttu-id="7dfb5-447">Затем SWPM использует имеющуюся установку HANA и добавляет дополнительные схемы.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-447">SWPM then uses the existing HANA installation and adds more schemas.</span></span>

![Распределенная установка, выполненная с помощью SWPM](./media/hana-get-started/image035b.jpg)

<span data-ttu-id="7dfb5-449">На следующем снимке экрана показан этап установки SWPM с вводом данных о схеме DBACOCKPIT:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-449">The following screenshot shows the SWPM installation step where you enter data about the DBACOCKPIT schema:</span></span>

![Этап установки SWPM, на котором вводятся данные о схеме DBACockpit](./media/hana-get-started/image036b.jpg)

<span data-ttu-id="7dfb5-451">Введите данные о схеме SAPABAP1:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-451">Enter data about the SAPABAP1 schema:</span></span>

![Ввод данных о схеме SAPABAP1](./media/hana-get-started/image037b.jpg)

<span data-ttu-id="7dfb5-453">После установки экземпляра базы данных SWPM схема SAPABAP1 отобразится в SAP HANA Studio:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-453">After the SWPM database instance installation is completed, you can see the SAPABAP1 schema in SAP HANA Studio:</span></span>

![Схема SAPABAP1 в SAP HANA Studio](./media/hana-get-started/image038b.jpg)

<span data-ttu-id="7dfb5-455">Наконец, после установки сервера приложений SAP и графического пользовательского интерфейса SAP можно проверить экземпляр базы данных HANA с помощью транзакции **DBA Cockpit**:</span><span class="sxs-lookup"><span data-stu-id="7dfb5-455">Finally, after the SAP app server and SAP GUI installations are completed, you can verify the HANA DB instance by using the **DBA Cockpit** transaction:</span></span>

![Экземпляр базы данных HANA, проверенный с помощью транзакции DBA Cockpit](./media/hana-get-started/image039b.jpg)


## <a name="sap-software-downloads"></a><span data-ttu-id="7dfb5-457">Скачивания программного обеспечения SAP</span><span class="sxs-lookup"><span data-stu-id="7dfb5-457">SAP software downloads</span></span>
<span data-ttu-id="7dfb5-458">Программное обеспечение можно скачать с SAP Service Marketplace, как показано на следующих снимках экрана.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-458">You can download software from the SAP Service Marketplace, as shown in the following screenshots.</span></span>

<span data-ttu-id="7dfb5-459">Скачивание NetWeaver 7.5 для Linux и HANA.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-459">Download NetWeaver 7.5 for Linux/HANA:</span></span>

 ![Окно установки и обновления службы SAP для скачивания NetWeaver 7.5](./media/hana-get-started/image001.jpg)

<span data-ttu-id="7dfb5-461">Скачивание выпуска HANA SP12 Platform.</span><span class="sxs-lookup"><span data-stu-id="7dfb5-461">Download HANA SP12 Platform Edition:</span></span>

 ![Окно установки и обновления службы SAP для скачивания выпуска HANA SP12 Platform](./media/hana-get-started/image002.jpg)

