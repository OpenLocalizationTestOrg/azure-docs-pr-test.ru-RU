---
title: "aaaHigh доступности и аварийного восстановления из SAP HANA в Azure (большие экземпляры) | Документы Microsoft"
description: "Сведения об обеспечении высокого уровня доступности и о планировании аварийного восстановления решения \"SAP HANA в Azure (крупные экземпляры)\"."
services: virtual-machines-linux
documentationcenter: 
author: RicksterCDN
manager: timlt
editor: 
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure
ms.date: 12/01/2016
ms.author: rclaus
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 0c0967f54cf29bbb275eb7cda9d36608488add9e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="sap-hana-large-instances-high-availability-and-disaster-recovery-on-azure"></a>Высокий уровень доступности и аварийное восстановление SAP HANA в Azure (крупные экземпляры) 

Для работы критически важных серверов SAP HANA в Azure (крупные экземпляры) важно обеспечить высокий уровень доступности и реализовать стратегию аварийного восстановления. Он является важным toowork с SAP, системные интеграторы или архитектор tooproperly Microsoft и реализуйте hello стратегии справа высокой доступности и аварийного восстановления. Это также цели точки восстановления важных tooconsider hello и цель времени восстановления, которые являются определенной tooyour среды.

## <a name="high-availability"></a>высокую доступность;

Корпорация Майкрософт поддерживает методы высокого уровня доступности SAP HANA «готовую hello,», которые включают:

- **Репликация службы хранилища:** hello tooreplicate возможности системы хранения всех данных tooanother расположение (в пределах, или отдельно от hello одного центра обработки данных). SAP HANA работает независимо от этого метода.
- **Система репликации HANA:** hello репликации всех данных в отдельной системе SAP HANA SAP HANA tooa. Цель времени восстановления Hello сведено к минимуму посредством репликации данных через регулярные интервалы. SAP HANA поддерживает асинхронные, синхронный в памяти и синхронные (рекомендуется только для SAP HANA hello систем, которые находятся в одном центре обработки данных или меньше 100 км друг от друга). В hello текущего конструктора HANA большом экземпляре штампов HANA системы репликации может использоваться для обеспечения высокой доступности.
- **Разместить автоматического перехода на другой ресурс:** toouse решения локального-восстановление после сбоев как альтернативный toosystem репликации. При hello основной узел становится недоступным, один или несколько узлов резервный SAP HANA, настроенные в режиме масштабирования и SAP HANA автоматически переключается tooanother узла.

Дополнительные сведения о SAP HANA высокого уровня доступности см. следующую информацию SAP hello:

- [Техническая документация по высокому уровню доступности SAP HANA](http://go.sap.com/documents/2016/05/f8e5eeba-737c-0010-82c7-eda71af511fa.html)
- [Руководство по администрированию SAP HANA](http://help.sap.com/hana/SAP_HANA_Administration_Guide_en.pdf)
- [Видеокурс SAP по репликации системы SAP HANA](http://scn.sap.com/community/hana-in-memory/blog/2015/05/19/sap-hana-system-replication)
- [Примечание по SAP № 1999880. Часто задаваемые вопросы о репликации системы SAP HANA](https://bcs.wdf.sap.corp/sap/support/notes/1999880)
- [Примечание по SAP № 2165547. Резервное копирование и восстановление SAP HANA в среде репликации системы SAP HANA](https://websmp230.sap-ag.de/sap(bD1lbiZjPTAwMQ==)/bc/bsp/sno/ui_entry/entry.htm?param=69765F6D6F64653D3030312669765F7361706E6F7465735F6E756D6265723D3231363535343726)
- [Примечание по SAP № 1984882. Использование репликации системы SAP HANA для замены оборудования без простоя](https://websmp230.sap-ag.de/sap(bD1lbiZjPTAwMQ==)/bc/bsp/sno/ui_entry/entry.htm?param=69765F6D6F64653D3030312669765F7361706E6F7465735F6E756D6265723D3139383438383226)

## <a name="disaster-recovery"></a>Аварийное восстановление

Решение "SAP HANA в Azure (крупные экземпляры)" доступно в двух регионах Azure геополитического региона. Между hello два больших экземпляр меток двух разных регионах имеет прямое сетевое соединение для репликации данных во время аварийного восстановления. репликация Hello hello данных выполняется на основе инфраструктуры хранилища. по умолчанию Hello репликация не происходит. Это делается для конфигураций клиента hello, порядка аварийного восстановления hello. В текущей структуре hello HANA системы репликации не может использоваться для аварийного восстановления.

Однако преимущество tootake hello аварийного восстановления, вы должны toostart toodesign hello сетевого подключения toohello двух различных регионах Azure. toodo таким образом, необходимо подключение канала Azure ExpressRoute из локального в ваш основной регион Azure и другое подключение канала из локальной tooyour аварийного восстановления области. Это позволит обеспечить работоспособность в случае возникновения проблем со всем регионом Azure, в том числе с расположением конечного маршрутизатора Microsoft Enterprise (MSEE).

Как вторую меру можно подключить все Azure виртуальных сетей, соединяющих tooSAP HANA в Azure (большие экземпляры) в одном из tooboth областей hello этих каналов ExpressRoute. Эта мера адреса случай, где только один из расположения MSEE hello, подключается к локальным расположением с Azure передается не обслуживает.

Hello следующем рисунке показана hello оптимальную конфигурацию для аварийного восстановления.

![Оптимальная конфигурация для аварийного восстановления](./media/hana-overview-high-availability-disaster-recovery/image1-optimal-configuration.png)

Hello оптимальный вариант для аварийного восстановления конфигурации сети hello — toohave два каналы ExpressRoute от локальной toohello двух различных регионах Azure. Один канал переходит в действующем экземпляре под управлением tooregion #1. Второй канал ExpressRoute Hello переходит tooregion #2, выполнение некоторых экземпляров HANA нерабочей. (Это важно, если весь регион Azure, включая hello MSEE и отметки большом экземпляре уходит из сетки hello.)

В качестве второго меры hello различных виртуальных сетей являются подключенных toohello различные каналы ExpressRoute, подключенных tooSAP HANA в Azure (большие экземпляры). Вы можете обойти hello расположение, где MSEE дает сбой, или можно понизить hello цель точки восстановления для аварийного восстановления, как мы обсудим позже.

приводятся Hello Далее требования для установки аварийного восстановления.

- Необходимо упорядочить SAP HANA на конфигурациями hello же размера, что номера SKU рабочей и развернуть их в регионе аварийного восстановления hello Azure (большие экземпляры). Эти экземпляры могут быть теста используется toorun, "песочницы" или QA HANA экземпляров.
- Необходимо упорядочить профиля аварийного восстановления для каждого из вашего SAP HANA в SKU Azure (большие экземпляры), которые должны toorecover hello сайте аварийного восстановления, при необходимости. Это действие приводит toohello выделения томов хранилища, которые являются целью hello hello репликации хранилища из вашей рабочей области в область hello аварийного восстановления.

После выполнения предшествующих требования hello это hello хранилища ответственности toostart репликации. В инфраструктуре хранилища hello для SAP HANA в Azure (большие экземпляры) основой hello репликации хранилища является моментальные снимки хранилища. репликация аварийного восстановления toostart hello, требуется tooperform:

- моментальный снимок загрузочного логического номера устройства (LUN), как описано выше;
- моментальный снимок томов, связанных с HANA, как описано выше.

После выполнения эти снимки hello томах, связанных с профилем аварийного восстановления в регионе аварийного восстановления hello запускается начальная реплика hello томов.

Впоследствии, hello самый последний моментальный снимок хранилища используется каждый час дельты tooreplicate hello, которые разрабатывать на томах хранения hello.

Цель точки восстановления Hello, которое достигается с помощью этой конфигурации, за 60 минут too90. целевой в случае аварийного восстановления hello копирования hello HANA резервные копии журналов транзакций из SAP HANA на Azure (большие экземпляры) toohello tooachieve лучше восстановления точки другой регион Azure. tooachieve этой цели точки восстановления, hello следующие:

1. Резервное копирование транзакции HANA hello так часто, как можно слишком/hana/журнала или резервная копия журналов.
2. Скопируйте hello резервные копии журналов транзакций при завершении tooan Azure виртуальной машины (VM), который находится в виртуальной сети, подключенный toohello SAP HANA на сервере Azure (большие экземпляры).
3. От этой виртуальной Машины скопируйте hello резервного копирования tooa виртуальной Машины в виртуальной сети в регионе аварийного восстановления hello.
4. Хранить резервные копии журналов транзакций hello в этом регионе в hello виртуальной Машины.

В случае сбоя, после развертывания профилей hello аварийного восстановления на сервере фактическое скопируйте hello резервные копии журналов транзакций из toohello hello ВМ SAP HANA в Azure (большие экземпляры), теперь hello сервера-источника в регионе hello аварийного восстановления, и Восстановите эти резервные копии. Эта операция восстановления возможна, так как состояние hello HANA на дисках hello аварийного восстановления, HANA моментального снимка. Это правило смещения hello для дальнейшего восстановления резервных копий журнала транзакций.

## <a name="backup-and-restore"></a>Архивация и восстановление

Одной из баз данных наиболее важные аспекты toooperating hello убедиться, что hello базы данных может быть защищена от различных стихийных бедствий. Эти события вызываются все, от ошибок пользователей toosimple стихийных бедствий.

Резервное копирование базы данных, с возможностью toorestore hello его точки tooany времени (например, перед удалением кто-то критически важных данных), позволяет состояние tooa восстановления, максимально близкой как toohello способов было до возникновения перебоев в работе hello.

Для получения оптимальных результатов выполните следующие два типа резервного копирования:

- Резервные копии базы данных
- резервное копирование журналов транзакций.

В дополнение к этому toofull базы данных резервные копии, созданные на уровне приложения, можно еще более тщательной путем создания резервных копий с помощью хранилища моментальных снимков. Выполнение резервного копирования журнала также важно для восстановления базы данных hello (tooempty hello журналы и уже зафиксированных транзакций).

SAP HANA в Azure (крупные экземпляры) поддерживает следующие два варианта резервного копирования и восстановления.

- Модель "Сделай сам". После вычисления tooensure недостаточно места на диске выполните полные резервные копии базы данных и журнала, используя методы резервного копирования диска (toothose диски). Со временем hello резервные копии, скопированного tooan учетной записи хранилища Azure (после настройки Azure на файловом сервере с практически неограниченное хранение) или использовать резервное хранилище или хранилище Azure начального. Другой вариант — toouse средство защиты данных сторонних разработчиков, например Commvault toostore hello резервных копий после их копирования tooa учетной записи хранилища. Hello DIY параметра резервного копирования также может быть необходим для данных, которые должны toobe хранящиеся дольше для совместимости с и целей аудита.
- Использование hello резервное копирование и восстановление функциональные возможности, hello базовой инфраструктурой SAP HANA в Azure (большие экземпляры) предоставляет. Этот параметр соответствует hello потребность в резервные копии и делает вручную резервных копий почти устаревшие (за исключением того, где требуются резервные копии данных, для соответствия нормативным требованиям). Этот раздел посвящен остальные Hello hello резервного копирования и восстановления функциональные возможности, предлагаемые с HANA (крупных экземпляров).

> [!NOTE]
> Технология Hello моментальных снимков, используемый hello инфраструктуре HANA (крупных экземпляров) имеет зависимость от моментальные снимки SAP HANA. Моментальные снимки SAP HANA не работают в сочетании с мультитенантными контейнерами баз данных SAP HANA. В результате этот метод резервного копирования не может быть используется toodeploy SAP HANA Мультитенантного базы данных контейнеров.

### <a name="using-storage-snapshots-of-sap-hana-on-azure-large-instances"></a>Использование моментальных снимков хранилища SAP HANA в Azure (крупные экземпляры)

Инфраструктура хранилища Hello базовый HANA SAP в Azure (большие экземпляры) поддерживает понятие hello моментальный снимок тома хранилища. Резервное копирование и восстановление для определенного тома поддерживаются, hello следующие вопросы:

- Вместо резервных копий базы данных на регулярной основе создаются моментальные снимки тома хранилища.
- моментальный снимок хранилища Hello инициирует моментальный снимок SAP HANA, до начала выполнения моментального снимка хранилища hello. Этот моментальный снимок SAP HANA — точка установки hello окончательной журнала восстановления после восстановления моментального снимка хранилища hello.
- В точке hello, где моментального снимка хранилища hello выполнена успешно удаление снимка hello SAP HANA.
- Резервные копии журналов берутся часто и хранятся в тома резервного копирования журнала hello или в Azure.
- Если необходимо восстановить базу данных hello tooa определенные на определенный момент времени, запрос на получение поддержки Azure (простоях производственного) или SAP HANA tooMicrosoft на tooa toorestore управления службами Azure определенных хранилища моментальных снимков (например, планового восстановления системы "песочницы" исходное состояние tooits).
- SAP HANA Hello моментальный снимок, который включен в моментальный снимок hello хранилища — это смещения точка для применения резервных копий журнала, которые были выполнены и сохранены после hello хранилища моментального снимка.
- Эти резервные копии журналов создаются toorestore tooa серверной базы данных hello определенные на определенный момент времени.

Задание резервного копирования hello\_имя создает моментальный снимок hello следующих томов:

- hana/data;
- hana/log;
- hana/log\_backup (подключен как резервная копия в hana/log);
- hana/shared.

### <a name="storage-snapshot-considerations"></a>Факторы, которые необходимо учитывать при создании моментальных снимков хранилища

>[!NOTE]
>Моментальные снимки хранилища _не_ предоставляются бесплатно, так как для их хранения требуется дополнительное дисковое пространство.

следующие Hello конкретных механизм хранения моментальных снимков для SAP HANA в Azure (большие экземпляры).

- Моментальный снимок данных (на момент времени, когда берется hello) использует очень мало места.
- Изменения данных содержимого и содержимым hello в данных SAP HANA, изменение файлов на томе хранилища hello hello моментальных снимков должен содержимое исходного блока toostore hello.
- размер моментального снимка хранилища Hello увеличивается. имеется больше hello снимок Hello, становится моментального снимка хранилища больше hello hello.
- Здравствуйте дополнительные изменения, внесенные toohello объема базы данных SAP HANA за время жизни моментального снимка хранилища hello, становится hello большего hello объем занятого места хранения снимка hello.

SAP HANA в Azure (большие экземпляры) поставляется с фиксированный размер тома журналов и данных SAP HANA hello. Выполнение моментальные снимки для этих томов требуют большого объема в свободное место на томе, так что это ваш моментальные снимки хранилища ответственности tooschedule (в пределах hello SAP HANA на процесс Azure [крупных экземпляров]).

Hello следующие разделы предоставляют сведения о выполнении этих моментальных снимков, включая общие рекомендации:

- Хотя hello оборудования может выдержать 255 моментальные снимки на одном томе, настоятельно рекомендуется сохранить меньше этого числа.
- Прежде чем выполнять моментальные снимки хранилища, отслеживайте свободное пространство.
- Ниже hello количество хранилища моментальных снимков зависит от свободного пространства. Может потребоваться toolower hello количество моментальных снимков, которые можно сохранить или может потребоваться tooextend hello тома. (Вы можете заказать дополнительное пространство в единицах по 1 ТБ.)
- При выполнении действий, например при переносе данных в SAP HANA с помощью средств переноса системы (в частности, с помощью R3load) или при восстановлении баз данных SAP HANA на основе резервных копий, мы настоятельно советуем не создавать моментальные снимки хранилища. (Если миграция системы выполняется на новую систему SAP HANA, моментальные снимки хранилища не потребуется выполнить toobe.)
- При более значительных реорганизациях таблиц SAP HANA по возможности не создавайте моментальные снимки хранилища.
- Моментальные снимки хранилища являются готовности tooengaging возможности аварийного восстановления hello SAP HANA в Azure (большие экземпляры).

### <a name="setting-up-storage-snapshots"></a>Настройка моментальных снимков хранилища

1. Убедитесь, что Perl установлен в ОС Linux hello hello HANA (крупных экземпляров) сервера.
2. Изменить/etc/ssh/ssh\_строку hello config tooadd _компьютеры Mac hmac-sha1_.
3. Создайте учетную запись пользователя с резервным копированием SAP HANA hello главного узла для каждого экземпляра SAP HANA, которую вы используете (если применимо).
4. Hello SAP HANA HDB клиент должен быть установлен на всех серверах SAP HANA (крупных экземпляров).
5. На hello первого сервера SAP HANA (крупных экземпляров) для каждого региона открытого ключа должны создаваться hello tooaccess базовой инфраструктуры хранилища, управляющий созданием моментального снимка.
6. Скопируйте сценарий hello azure\_hana\_backup.pl из места/Scripts toohello **hdbsql** из hello установки SAP HANA.
7. Файл hello копирования HANABackupDetails.txt из toohello/Scripts таким же как hello сценариев Perl.
8. Измените файл HANABackupDetails.txt hello согласно требованиям спецификации hello соответствующего клиента.

### <a name="step-1-install-sap-hana-hdbclient"></a>Этап 1. Установка клиента SAP HANA HDB

Hello Linux установлен на HANA SAP в Azure (большие экземпляры) включает папки hello и сценариев необходимые tooexecute SAP HANA моментальные снимки хранилища для целей резервного копирования и аварийного восстановления. Однако это вашей обязанностью tooinstall SAP HANA HDBclient при установке SAP HANA. (Microsoft устанавливает hello HDBclient ни SAP HANA.)

### <a name="step-2-change-etcsshsshconfig"></a>Этап 2. Изменение файла /etc/ssh/ssh\_config

Добавьте в файл /etc/ssh/ssh\_config строку _MACs hmac-sha1_, как показано ниже.
```
#   RhostsRSAAuthentication no
#   RSAAuthentication yes
#   PasswordAuthentication yes
#   HostbasedAuthentication no
#   GSSAPIAuthentication no
#   GSSAPIDelegateCredentials no
#   GSSAPIKeyExchange no
#   GSSAPITrustDNS no
#   BatchMode no
#   CheckHostIP yes
#   AddressFamily any
#   ConnectTimeout 0
#   StrictHostKeyChecking ask
#   IdentityFile ~/.ssh/identity
#   IdentityFile ~/.ssh/id_rsa
#   IdentityFile ~/.ssh/id_dsa
#   Port 22
Protocol 2
#   Cipher 3des
#   Ciphers aes128-ctr,aes192-ctr,aes256-ctr,arcfour256,arcfour128,aes128-cbc,3des-cbc
#   MACs hmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160
MACs hmac-sha1
#   EscapeChar ~
#   Tunnel no
#   TunnelDevice any:any
#   PermitLocalCommand no
#   VisualHostKey no
#   ProxyCommand ssh -q -W %h:%p gateway.example.com
```

### <a name="step-3-create-a-public-key"></a>Этап 3. Создание открытого ключа

На hello первой SAP HANA на сервере Azure (большие экземпляры) в каждом регионе Azure создайте инфраструктуры открытого ключа toobe используется tooaccess hello хранилища, чтобы вы могли создавать моментальные снимки. открытый ключ Hello гарантирует пароль не является обязательным toosign в хранилище toohello и пароль учетных данных не поддерживаются. Выполните в Linux на сервере SAP HANA (крупных экземпляров) hello hello, следующая команда toogenerate hello открытый ключ.
```
  ssh-keygen –t dsa –b 1024
```
новое расположение Hello — _/root/.ssh/id\_dsa.pub. Не вводите фактическое парольную фразу, в противном случае парольную фразу hello необходимые tooenter будет каждый раз при входе в. Нажмите клавиши **ввод** дважды tooremove hello введите парольную фразу требование для входа.

Проверьте, что этот открытый ключ hello была исправлена, как ожидалось, изменение папки too/root/.ssh/ и последующего выполнения hello toomake **ls** команды. Если присутствует ключ hello, можно скопировать его, выполнив следующую команду hello.

![Команда для копирования открытого ключа](./media/hana-overview-high-availability-disaster-recovery/image2-public-key.png)

На этом этапе обратитесь к SAP HANA на управления службами Azure и укажите ключ hello. Hello представителю службы поддержки использует открытого ключа tooregister hello в hello базовой инфраструктуры хранения.

### <a name="step-4-create-an-sap-hana-user-account"></a>Этап 4. Создание учетной записи пользователя SAP HANA

Создайте в SAP HANA Studio учетную запись пользователя SAP HANA. Она будет использоваться для резервного копирования. Это учетная запись должна иметь следующие права hello: _администратора резервного копирования_ и _чтения каталога_. В этом примере hello username SCADMIN создается.

![Создание пользователя в HANA Studio](./media/hana-overview-high-availability-disaster-recovery/image3-creating-user.png)

### <a name="step-5-authorize-hello-sap-hana-user-account"></a>Шаг 5: Авторизации учетной записи пользователя SAP HANA hello

Разрешить учетную запись пользователя SAP HANA hello (toobe использовать скриптами hello без авторизации, каждый раз, чтобы запустить скрипт hello). Hello SAP HANA команда `hdbuserstore` позволяет создавать hello ключ пользователя SAP HANA, которая хранится на одном или нескольких узлах SAP HANA. ключ пользователя Hello также позволяет tooaccess пользователя hello SAP HANA без необходимости toomanage пароли из значений в hello сценариев процесс, который рассматривается ниже.

>[!IMPORTANT]
>Выполнения hello следующую команду, как `_root_`. В противном случае скрипт hello не может работать неправильно.

Введите hello `hdbuserstore` следующим образом:

![Введите команду hdbuserstore hello](./media/hana-overview-high-availability-disaster-recovery/image4-hdbuserstore-command.png)

В следующий пример, где hello выполняется SCADMIN01 и hello hostname является lhanad01, hello hello команда является:
```
hdbuserstore set SCADMIN01 lhanad01:30115 <backup username> <password>
```
Управляйте всеми процессами написания скрипта для масштабируемых экземпляров HANA с одного сервера. В этом примере ключ SAP HANA hello SCADMIN01 должен быть изменен для каждого узла в способом, который соответствует hello узел, который является ключом связанные toohello. То есть изменен hello SAP HANA резервного копирования учетных записей с числом экземпляр hello hello HANA DB **lhanad**. ключ Hello требуются права администратора на узле hello, когда он присваивается и hello резервного копирования пользователь для масштабного развертывания должен иметь экземпляры SAP HANA tooall прав доступа.
```
hdbuserstore set SCADMIN01 lhanad:30015 SCADMIN <password>
hdbuserstore set SCADMIN02 lhanad:30115 SCADMIN <password>
hdbuserstore set SCADMIN03 lhanad:30215 SCADMIN <password>
```

### <a name="step-6-copy-items-from-hello-scripts-folder"></a>Шаг 6: Копирование элементов из папки/Scripts hello

Следующие hello копии элементов из hello/скрипты (в hello золотой образ установки hello содержаться) toohello рабочий каталог для **hdbsql**. Для текущих установок HANA это каталог /hana/shared/D01/exe/linuxx86\_64/hdb.
```
azure\_hana\_backup.pl
testHANAConnection.pl
testStorageSnapshotConnection.pl
removeTestStorageSnapshot.pl
HANABackupCustomerDetails.txt
```
Скопируйте hello следующих элементов, если они выполняются с горизонтальным масштабированием или OLAP:
```
azure\_hana\_backup\_bw.pl
testHANAConnectionBW.pl
testStorageSnapshotConnectionBW.pl
removeTestStorageSnapshotBW.pl
HANABackupCustomerDetailsBW.txt
```
файл HANABackupCustomerDetails.txt Hello следующим образом для развертывания масштабируемых или нет. Это hello управления и файл конфигурации для hello скрипта, выполняемого моментальные снимки хранилища hello. Вы должны были получить hello _имя хранилища архивации_ и _IP-адрес хранилища_ из SAP HANA на управления службами Azure, если экземпляры были развернуты. Не удается изменить последовательность hello упорядочение или интервалы какой-либо переменные hello, или сценария hello не выполняется должным образом.

Для развертывания масштабируемых файл конфигурации hello выглядит следующим образом:
```
#Provided by Microsoft Service Management
Storage Backup Name: lhanad01backup
Storage IP Address: 10.250.20.21
#Created by customer using hdbuserstore
HANA Backup Name: SCADMIND01
```
Для конфигурации горизонтального масштабирования файл HANABackupCustomerDetailsBW.txt hello выглядит следующим образом:
```
#Provided by Microsoft Service Management
Storage Backup Name: lhanad01backup
Storage IP Address: 10.250.20.21
#Node IP addresses, instance numbers, and HANA backup name
#provided by customer.  HANA backup name created using
#hdbuserstore utility.
Node 1 IP Address: 10.254.15.21
Node 1 HANA instance number: 01
Node 1 HANA Backup Name: SCADMIN01
Node 2 IP Address: 10.254.15.22
Node 2 HANA instance number: 02
Node 2 HANA Backup Name: SCADMIN02
Node 3 IP Address: 10.254.15.23
Node 3 HANA instance number: 03
Node 3 HANA Backup Name: SCADMIN03
Node 4 IP Address: 10.254.15.24
Node 4 HANA instance number: 04
Node 4 HANA Backup Name: SCADMIN04
Node 5 IP Address: 10.254.15.25
Node 5 HANA instance number: 05
Node 5 HANA Backup Name: SCADMIN05
Node 6 IP Address: 10.254.15.26
Node 6 HANA instance number: 06
Node 6 HANA Backup Name: SCADMIN06
Node 7 IP Address: 10.254.15.27
Node 7 HANA instance number: 07
Node 7 HANA Backup Name: SCADMIN07
Node 8 IP Address: 10.254.15.28
Node 8 HANA instance number: 08
Node 8 HANA Backup Name: SCADMIN08
```
>[!NOTE]
>В настоящее время в hello фактический HANA хранилища моментальных снимков скрипт используются только сведения об узле 1. Рекомендуется протестировать tooor доступ со всех узлов HANA таким образом, чтобы при изменении главного узла резервного копирования hello уже гарантирует, что любой другой узел может занять его место, изменив hello сведения в узле 1.

toocheck для hello правильными настройками в файле конфигурации hello или экземпляров HANA toohello связи, выполните одно из следующих сценариев hello:
- Для конфигурации вертикального масштабирования (независимо от рабочей нагрузки SAP):

 ```
testHANAConnection.pl
```
- Для конфигурации горизонтального масштабирования:

 ```
testHANAConnectionBW.pl
```

Убедитесь, что этот экземпляр hello master HANA серверы HANA tooall требуется доступ. Существуют toohello нет параметров скрипта, но необходимо выполнить соответствующие HANABackupCustomerDetails hello / HANABackupCustomerDetailsBW в файле сценария toorun hello должным образом. Так как возвращается только hello оболочки команда коды ошибок, возможна не для hello скрипт проверки tooerror каждого экземпляра. Даже в этом случае скрипт hello предоставляет некоторые полезные комментарии вы toodouble проверки.

скрипт hello toorun:
```
 ./testHANAConnection.pl
```
 Если скрипт hello успешно получает состояние hello экземпляра HANA hello, отображается сообщение, что hello HANA подключение выполнено успешно.

Кроме того, имеется второй тип скрипта можно использовать возможности toosign toocheck hello главного HANA экземпляра сервера в хранилище toohello. Перед выполнением hello azure\_hana\_резервного копирования (\_bw) .pl сценария, необходимо выполнить следующий скрипт hello. Если том содержит снимки, это невозможно toodetermine ли том hello просто пуст или отсутствует ssh hello tooobtain сбоя сведения о снимке. По этой причине hello сценарий выполняет два действия:

- Он проверяет, что доступно этой консоли hello хранилища.
- создание тестового (фиктивного) моментального снимка для каждого тома экземпляра HANA.

По этой причине экземпляр HANA hello включается в качестве аргумента. Опять же не возможные tooprovide проверку ошибок для подключения хранилища hello, но hello сценарий предоставляет полезные ссылки, если происходит сбой выполнения hello.

Hello скрипт выполняется как:
```
 ./testStorageSnapshotConnection.pl <hana instance>
```
Или как:
```
./testStorageSnapshotConnectionBW.pl <hana instance>
```
сценарий Hello также отображает сообщения, которые могут toosign соответствующим образом tooyour развернуть хранилище клиента, которая организована вокруг hello логических номеров (устройств LUN), которые используются экземплярами серверов hello, которыми вы владеете.

Перед выполнением hello первого хранилища моментальных снимков резервного копирования на основе запустите hello Далее сценарии toomake правильность конфигурации hello.

После выполнения этих сценариев, можно удалить моментальные снимки hello, выполнив:
```
./removeTestStorageSnapshot.pl <hana instance>
```
Или
```
./removeTestStorageSnapshot.pl <hana instance>
```

### <a name="step-7-perform-on-demand-snapshots"></a>Этап 7. Создание моментальных снимков по запросу

Создайте моментальные снимки по запросу (или же запланируйте регулярное создание этих снимков с помощью Cron), выполнив один из следующих скриптов.

Для конфигураций с горизонтальным масштабированием выполните следующий сценарий hello:
```
./azure_hana_backup.pl lhanad01 customer 20
```
Для конфигурациях с масштабным развертыванием выполните следующий сценарий hello:
```
./azure_hana_backup_bw.pl lhanad01 customer 20
```
сценарий масштабирования Hello выполняет некоторые дополнительные проверки toomake, убедиться, что доступны все серверы HANA, что все экземпляры HANA возвращают соответствующее состояние экземпляра hello перед тем как продолжить создание SAP HANA или хранилище моментальных снимков.

Hello следующие аргументы не требуются:

- Hello HANA экземпляр требование резервного копирования.
- префикс Hello моментальных снимков для хранения снимка hello.
- Количество toobe моментальные снимки сохраняются в течение указанного префикса hello Hello.

```
./azure_hana_backup.pl lhanad01 customer 20
```

Выполнение скрипта hello Hello создает моментальный снимок хранилища hello в эти три этапа:

- создание моментального снимка HANA;
- создание моментального снимка хранилища;
- Удаление моментального снимка HANA hello.

Выполните сценарий hello путем вызова из hello HDB папку с исполняемым файлом, он был скопирован. Он создает резервную копию по крайней мере hello следующие тома, но он также выполняет резервное копирование любой том, имеет имя экземпляра SAP HANA явные hello в hello имя тома.
```
hana_data_<hana instance>_prod_t020_vol
hana_log_<hana instance>_prod_t020_vol
hana_log_backup_<hana instance>_prod_t020_vol
hana_shared_<hana instance>_prod_t020_vol
```
срок хранения Hello строго Администрирование с hello количество моментальных снимков, отправки в качестве параметра при выполнении сценария hello (например, 20, показанному ранее). Поэтому hello количество времени — это функция hello периода выполнения и hello количество моментальных снимков в вызове hello hello скрипта. Если hello количество моментальных снимков, которые хранятся превышает число hello, который указан как параметр в вызове hello hello скрипта, hello наиболее старые моментальные снимки хранилища этой метки (в нашем случае предыдущих _пользовательские_) удаляется до требуется новый моментальный снимок выполнена. Это означает номер hello назначаем как hello последнего параметра вызова hello номер hello, можно использовать toocontrol hello количество моментальных снимков.

>[!NOTE]
>Как только вы измените метку hello, подсчет hello запускается снова.

Необходимо имя экземпляра HANA hello tooinclude, предоставляемая SAP HANA на управления службами Azure в качестве аргумента, если они создаются моментальные снимки в средах с несколькими узлами. В средах с одним узлом достаточно hello имя hello SAP HANA на устройстве Azure (большие экземпляры), но по-прежнему рекомендуется использовать имя экземпляра HANA hello.

Кроме того, вы может создать резервную копию volumes\LUNs загрузки с помощью hello же скрипт. Резервную копию загрузочного тома необходимо создать по крайней мере при первом запуске HANA. Однако мы советуем запланировать резервное копирование, выполняемое каждую неделю или каждую ночь, с помощью Cron. Вместо вставки не добавляйте имя экземпляра SAP HANA, _загрузки_ как hello аргумент в сценарий hello следующим образом:
```
./azure_hana_backup boot customer 20
```
Hello одной политике хранения предоставленные toohello также загрузочного тома. Используйте моментальные снимки по запросу, как описано ранее, в особых случаях, например, во время обновления пакета (EHP) расширения SAP или при необходимости toocreate отдельное хранилище моментального снимка.

Мы рекомендуем вам tooperform запланированные моментальные снимки хранилища с помощью cron, и мы рекомендуем использовать hello же скрипт для всех резервных копий и потребностей аварийного восстановления (изменение hello скрипт входов toomatch hello различных запрошенный время резервного копирования). Это средство позволяет настроить резервное копирование на регулярной основе, например каждый час, каждые 12 часов, каждый день или каждую неделю. расписание cron Hello — спроектированный toocreate моментальные снимки хранилища, соответствующие hello описывалось ранее хранения метки для долгосрочного резервную. Hello скрипт включает команды tooback архивацию всех томов производства, в зависимости от их Запрошенная периодичность (файлы данных и журналов резервного копирования каждый час, тогда как hello загрузочного тома резервного копирования ежедневно).

Десятый минуты, через каждые 12 часов на hello десятый минуты и ежедневно hello десятый минуту записей Hello в следующий скрипт cron hello запустить в hello каждый час. Hello cron задания создаются таким образом, наличие единственного моментального снимка хранилища SAP HANA выполняется в течение определенного времени, поэтому hello часам и дням резервные копии не создаются через hello же время (12:10 AM). toohelp оптимизировать создание моментальных снимков и репликации, SAP HANA на управление службой Azure предоставляет hello рекомендуется время вы toorun резервных копий.

Планирование в /etc/crontab cron по умолчанию Hello выглядит следующим образом:
```
10 1-11,13-23 * * * ./azure_hana_backup.pl lhanad01 hourly 66
10 12 * * *  ./azure_hana_backup.pl lhanad01 12hour 14
```
В предыдущей инструкции cron hello hello тома HANA (без загрузочного тома) получение моментальных снимков с меткой hello каждый час. и 66 из них сохраняются. Кроме того 14 моментальные снимки с меткой 12-часовой hello сохраняются. Таким образом, вы можете хранить моментальные снимки, создаваемые каждый час, в течение трех дней и моментальные снимки, создаваемые каждые 12 часов, в течение четырех дней. Следовательно, моментальные снимки позволяют охватить целую неделю.

Планирование в cron может быть непростой задачей, так как только один сценарий должна выполняться в любой конкретный момент времени, если скрипты hello располагаются в шахматном порядке на несколько минут. Если требуется ежедневного резервного копирования для долгосрочного хранения моментальный снимок хранится вместе с 12-часовой моментальный снимок (с количеством хранения каждого 7) или почасовой hello моментальный снимок — по ширине tootake месте 10 минут позже. Только один моментальный снимок хранится в hello рабочего тома.
```
10 1-11,13-23 * * * ./azure_hana_backup.pl lhanad01 hourly 66
10 12 * * *  ./azure_hana_backup.pl lhanad01 12hour 7
10 0 * * * ./azure_hana_backup.pl lhanad01 daily 7
```
перечисленные здесь частот Hello являются только примеры. tooderive вашей оптимальное количество моментальных снимков, hello используйте следующие критерии:

- Требования к RTO для восстановления на определенный момент времени.
- Использование пространства.
- Требования к RTO и RTO в случае возможного аварийного восстановления.
- Последующее выполнение полного резервного копирования базы данных HANA на диски. Всякий раз, когда полной резервной копии для дисков, или _backint_ интерфейсом, будет выполнено, происходит сбой выполнения hello моментальные снимки хранилища. Если планируется tooexecute полные резервные копии на основе хранилища моментальных снимков, убедитесь, что отключен, выполнение hello моментальные снимки хранилища в течение этого времени.

>[!IMPORTANT]
> Использование Hello моментальные снимки хранилища для резервных копий SAP HANA допустим только в том случае, когда моментальные снимки hello выполняются в сочетании с резервными копиями журнала SAP HANA. Hello может toocover toobe необходимость резервных копий журнала периодов времени между моментальные снимки хранилища hello. При установке toousers обязательств восстановления на момент 30 дней необходимо hello следующее:

- Возможность tooaccess хранилища моментальных снимков, то есть 30 дней.
- Резервные копии журналов смежных через hello последние 30 дней.

В диапазоне hello резервных копий журналов создайте моментальный снимок тома резервного копирования журнала hello также. Однако необходимо убедиться, что tooperform регулярное резервное копирование журнала, чтобы пользователь мог:

- Имеется резервные копии журнала смежных hello необходимое tooperform восстановление на момент времени.
- Запретить тома журнала SAP HANA hello переполнения.

Один из последних шагах hello — SAP HANA tooschedule резервных копий журналов в SAP HANA Studio. Hello SAP HANA резервного копирования журнала целевой назначением является hello специально созданные hana или журнала\_резервные копии томов с точкой подключения hello /hana/log/backups.

![Настройка расписания для создания резервных копий журнала SAP HANA в SAP HANA Studio.](./media/hana-overview-high-availability-disaster-recovery/image5-schedule-backup.png)

Можно выполнять резервные копии намного чаще, чем каждые 15 минут. Некоторые пользователи выполняют резервное копирование журналов каждую минуту. Однако мы не советуем создавать резервные копии _реже_, чем раз в 15 минут.

Последний шаг Hello — toocreate tooperform на основе файла резервной копии (после hello первоначальной установки SAP HANA) одного резервного копирования запись, которая должна быть создана в каталог резервных копий hello. В противном случае SAP HANA не может инициировать резервное копирование журнала.

![Сделать файловых toocreate резервного копирования одной операции резервного копирования](./media/hana-overview-high-availability-disaster-recovery/image6-make-backup.png)

### <a name="monitoring-hello-number-and-size-of-snapshots-on-hello-disk-volume"></a>Мониторинг hello числа и размера моментальных снимков на диске hello

На томе конкретное хранилище можно отслеживать количество hello моментальные снимки и использование хранилища hello моментальных снимков. Hello `ls` команда не указывает hello каталога моментальных снимков или файлов. Однако hello команда ОС Linux `du` делает hello, следующие команды:

- `du –sh .snapshot`предоставляет сумму всех моментальных снимков в папке моментальных снимков hello.
- `du –sh --max-depth=1`список всех моментальных снимков, сохраненных в папке .snapshot hello и hello размер каждого моментального снимка.
- `du –hc`предоставляет общий размер hello, используемые всеми моментальными снимками.

С помощью этих команд toomake убедиться, что hello моментальных снимков, которые берутся и хранятся не потребляют всех хранилищ hello на томах hello.

### <a name="reducing-hello-number-of-snapshots-on-a-server"></a>Уменьшение числа hello моментальных снимков на сервере

Как было описано выше, можно уменьшить количество hello определенных меток моментальных снимков, которые хранятся. Hello последние два параметра tooinitiate команда hello моментальный снимок ряд метку и hello моментальные снимки, которые нужно tooretain.
```
./azure_hana_backup.pl lhanad01 customer 20
```
В предыдущем примере hello hello моментального снимка называется _клиента_ и hello число моментальных снимков с этой toobe метки сохраняются _20_. Как ответ toodisk объем занятого места, может потребоваться tooreduce hello число хранимых моментальных снимков. простой способ Hello tooreduce hello количество моментальных снимков — toorun hello скрипт с hello последнего параметра set too5:
```
./azure_hana_backup.pl lhanad01 customer 5
```
В результате выполняемого сценария hello с этим параметром, hello количество моментальных снимков, включая hello новое хранилище моментальных снимков, — _5_.

 >[!NOTE]
 > Этот сценарий сокращает hello количество моментальных снимков только в том случае, если последние предыдущего снимка hello более одного часа назад. сценарий Hello моментальных снимков, меньше, чем один час старый не удаляется.

Эти ограничения не toohello связанных необязательное аварийного восстановления возможности, предоставляемые.

Если вы больше не требуется toomaintain набора моментальных снимков с этим префиксом, можно выполнить сценарий hello с _0_ как hello хранения номер tooremove все моментальные снимки, соответствующие этим префиксом. Тем не менее удаление всех моментальных снимков может повлиять на возможности hello аварийного восстановления.

### <a name="recovering-toohello-most-recent-hana-snapshot"></a>Восстановление toohello самый последний моментальный снимок HANA

В событии hello возникают сценарии производства раскрывающегося списка, hello процесс восстановления из хранилища моментального снимка может быть инициировано как с инцидентом клиента с SAP HANA на управления службами Azure. Непредвиденная сценарий может быть предметом высокий уровень срочности рабочей системы и hello единственным способом tooretrieve hello данных равен toorestore hello рабочей базы данных было потеряно.

На hello другой стороны, восстановление на момент может быть низким срочность и планируется дней. Чтобы спланировать восстановление, можно обратиться в отдел по управлению службами SAP HANA в Azure и поднять высокоприоритетные вопросы. Например может планирования tootry обновление hello по SAP, применяя новый пакет расширения и затем toorevert создать резервные tooa моментальный снимок, который представляет состояние hello перед обновлением hello EHP.

Перед выполнением инструкции запроса hello, toodo требуется некоторая подготовка. SAP HANA команды управления службами Azure можно обработать запрос hello и предоставить hello восстановления тома. После этого — базу данных tooyou toorestore hello HANA основанные на моментальных снимках hello. Вот способ запроса tooprepare для hello:

>[!NOTE]
>Пользовательский интерфейс может отличаться от hello следующие снимки экрана, в зависимости от выпуска SAP HANA, которую вы используете hello.

1. Решите, какие toorestore моментального снимка. Если будет предложено, в противном случае нужно восстановить только тома данных hana или hello.

2. Завершите работу экземпляра HANA hello.

 ![Завершить работу экземпляра HANA hello](./media/hana-overview-high-availability-disaster-recovery/image7-shutdown-hana.png)

3. Отключите hello тома данных на каждом узле базы данных HANA. Восстановление Hello hello моментального снимка завершается сбоем, если объемы данных hello не отключены.

 ![Отключить hello тома данных на каждом узле базы данных HANA](./media/hana-overview-high-availability-disaster-recovery/image8-unmount-data-volumes.png)

4. Откройте tooinstruct hello Azure поддержки запроса восстановления определенного моментального снимка.

 - Во время восстановления hello: SAP HANA на управление службой Azure может запросить tooattend tooensure конференции, который потерь данных нет.

 - После восстановления hello: SAP HANA на управления службами Azure уведомляет о восстановления моментального снимка хранилища hello.

5. После завершения процесса восстановления hello, подключите томов с данными.

 ![Подключение всех томов данных](./media/hana-overview-high-availability-disaster-recovery/image9-remount-data-volumes.png)

6. Выберите параметры восстановления среды SAP HANA Studio, если они не загружается автоматически при следующем подключении tooHANA DB через SAP HANA Studio. Hello следующем примере показано восстановление toohello последнего HANA моментального снимка. Хранилище моментального снимка внедряет один HANA моментального снимка, и если вы восстанавливаете toohello самый последний моментальный снимок хранилища, он должен быть hello самый последний моментальный снимок HANA. (Если вы восстанавливаете tooolder моментальные снимки хранилища, необходимо toolocate hello HANA на основе моментального снимка для хранения hello время hello снимка.)

 ![Выбор параметров восстановления в SAP HANA Studio](./media/hana-overview-high-availability-disaster-recovery/image10-recover-options-a.png)

7. Выберите **восстановить hello tooa определенные данные резервного копирования или хранения моментальный снимок базы данных**.

 ![окно «Укажите параметры восстановления» Hello](./media/hana-overview-high-availability-disaster-recovery/image11-recover-options-b.png)

8. Установите переключатель **Specify backup without catalog** (Указать резервную копию без каталога).

 ![окно «Укажите расположение резервной копии» Hello](./media/hana-overview-high-availability-disaster-recovery/image12-recover-options-c.png)

9. В hello **конечный тип** выберите **моментального снимка**.

 ![окно «TooRecover резервного копирования укажите hello» Hello](./media/hana-overview-high-availability-disaster-recovery/image13-recover-options-d.png)

10. Нажмите кнопку **Готово** процесса восстановления toostart hello.

 ![Нажмите кнопку «Готово», процесс восстановления toostart hello](./media/hana-overview-high-availability-disaster-recovery/image14-recover-options-e.png)

11. База данных HANA Hello восстановлении и восстановлении HANA toohello моментальный снимок, который включается в моментальный снимок хранилища hello.

 ![База данных HANA является снимком восстановлена и восстановленные toohello HANA](./media/hana-overview-high-availability-disaster-recovery/image15-recover-options-f.png)

### <a name="recovering-toohello-most-recent-state"></a>Состояние последней toohello восстановления

Hello следующий процесс восстанавливает HANA hello моментальный снимок, который включается в моментальный снимок хранилища hello. Он затем восстанавливает hello транзакции журнала резервных копий toohello последних состояние hello базы данных перед восстановлением моментального снимка хранилища hello.

>[!IMPORTANT]
>Прежде чем продолжить, завершите создание цепочки последовательных резервных копий журнала транзакций. Без этих резервных копий нельзя будет восстановить hello текущим состоянием базы данных hello.

1. Выполните шаги 1-6 hello предшествующий процедура в «Recovering toohello последних HANA моментального снимка.»

2. Выберите **восстановить состояние последней tooits базы данных hello**.

 ![Выберите «Восстановить состояние последней tooits базы данных hello»](./media/hana-overview-high-availability-disaster-recovery/image16-recover-database-a.png)

3. Укажите расположение hello hello самые последние HANA резервные копии журнала. расположение Hello должно toocontain все резервные копии журналов HANA транзакции из самой последней состояния моментального снимка HANA toohello hello.

 ![Укажите расположение hello резервных копий журнала последней HANA hello](./media/hana-overview-high-availability-disaster-recovery/image17-recover-database-b.png)

4. Выберите резервную копию в качестве базы из базы данных, который hello toorecover. В нашем примере это HANA hello моментальный снимок, который был включен в моментальный снимок хранилища hello. (Только один моментальный снимок присутствует в следующий снимок экрана приветствия).

 ![Выберите резервную копию в качестве базы из базы данных, который hello toorecover](./media/hana-overview-high-availability-disaster-recovery/image18-recover-database-c.png)

5. Очистить hello **резервные копии используются разностные** флажок, если разности между временем hello моментального снимка HANA hello и последнее состояние hello не существуют.

 ![Очистить hello «Разностные резервные копии используются» флажок, если дельты не существует](./media/hana-overview-high-availability-disaster-recovery/image19-recover-database-d.png)

6. На экране сводки hello, нажмите кнопку **Готово** процедуры восстановления toostart hello.

 ![В итоговом окне приветствия нажмите кнопку «Готово»](./media/hana-overview-high-availability-disaster-recovery/image20-recover-database-e.png)

### <a name="recovering-tooanother-point-in-time"></a>Восстановление tooanother моменту времени
toorecover tooa точки во времени между и hello моментального снимка HANA (включен в моментальный снимок hello хранилища), которая является более поздней, чем восстановления на момент снимка hello HANA hello следующие:

1. Убедитесь, что все резервные копии журналов транзакций из требуется toorecover toohello время hello HANA моментального снимка.
2. Начать процедуру hello в разделе «Toohello последних состоянии Recovering.»
3. На шаге 2 процедуры hello hello **укажите параметры восстановления** выберите **восстановить hello базы данных toohello следующий момент времени**, укажите hello момент времени, а затем завершите шаги 3 – 6.

## <a name="monitoring-hello-execution-of-snapshots"></a>Мониторинг выполнения hello моментальных снимков

Требуется выполнение hello toomonitor хранилища моментальных снимков. Записывает выходной файл tooa Hello скрипта, исполняющего хранилища моментального снимка, а затем сохраняет его toohello местоположения скриптами Perl hello. Для каждого моментального снимка создается отдельный файл. Hello каждого файла четко видно hello различных этапов, которые выполняет скрипт hello моментального снимка:

- Поиск hello тома, которые требуется toocreate моментального снимка
- Поиск hello моментальных снимков берется из этих томов
- Удаление окончательной существующие моментальные снимки toomatch hello количество моментальных снимков, указываемой
- создание моментального снимка HANA;
- Создание моментального снимка хранилища hello по томам hello
- Удаление снимка HANA hello
- Переименование hello последних моментальный снимок слишком**.0**

Наиболее важной частью сценария hello Hello такова:
```
**********************Creating HANA snapshot**********************
Creating hello HANA snapshot with command: "./hdbsql -n localhost -i 01 -U SCADMIN01 "backup data create snapshot"" ...
HANA snapshot created successfully.
**********************Creating Storage snapshot**********************
Taking snapshot hourly.recent for hana_data_lhanad01_t020_vol ...
Snapshot created successfully.
Taking snapshot hourly.recent for hana_log_backup_lhanad01_t020_vol ...
Snapshot created successfully.
Taking snapshot hourly.recent for hana_log_lhanad01_t020_vol ...
Snapshot created successfully.
Taking snapshot hourly.recent for hana_shared_lhanad01_t020_vol ...
Snapshot created successfully.
Taking snapshot hourly.recent for sapmnt_lhanad01_t020_vol ...
Snapshot created successfully.
**********************Deleting HANA snapshot**********************
Deleting hello HANA snapshot with command: "./hdbsql -n localhost -i 01 -U SCADMIN01 "backup data drop snapshot"" ...
HANA snapshot deletion successfully.
```
Из этого образца можно увидеть, как записи скрипта hello hello создания моментального снимка HANA hello. В случае масштабного hello этот процесс запущен на главном узле hello. главный узел Hello инициирует hello синхронной создание моментальных снимков hello на всех рабочих узлов hello. Затем hello хранилища моментального снимка. После ее успешного выполнения hello моментальных снимков hello хранилища удаление снимка HANA hello.
