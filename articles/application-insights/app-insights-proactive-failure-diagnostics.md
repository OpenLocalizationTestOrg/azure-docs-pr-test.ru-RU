---
title: "Интеллектуальное обнаружение аномальных сбоев в Application Insights | Документация Майкрософт"
description: "Оповещает о необычных изменениях в частоте неудачных запросов для веб-приложения, а также выполняет диагностический анализ. Настройка не требуется."
services: application-insights
documentationcenter: 
author: yorac
manager: carmonm
ms.assetid: ea2a28ed-4cd9-4006-bd5a-d4c76f4ec20b
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 01/09/2017
ms.author: bwren
ms.openlocfilehash: e82d35459110e122ec8438b406a52df61922b0fc
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="smart-detection---failure-anomalies"></a><span data-ttu-id="b8c9f-104">Интеллектуальное обнаружение аномальных сбоев</span><span class="sxs-lookup"><span data-stu-id="b8c9f-104">Smart Detection - Failure Anomalies</span></span>
<span data-ttu-id="b8c9f-105">[Application Insights](app-insights-overview.md) автоматически уведомляет вас (почти в реальном времени), когда работа веб-приложения сопровождается чрезмерно частыми неудачно завершенными запросами.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-105">[Application Insights](app-insights-overview.md) automatically notifies you in near real time if your web app experiences an abnormal rise in the rate of failed requests.</span></span> <span data-ttu-id="b8c9f-106">Эта служба обнаруживает необычное увеличение числа невыполненных HTTP-запросов или вызовов зависимостей.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-106">It detects an unusual rise in the rate of HTTP requests or dependency calls that are reported as failed.</span></span> <span data-ttu-id="b8c9f-107">Невыполненными обычно считаются запросы с кодом ответа 400 или больше.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-107">For requests, failed requests are usually those with response codes of 400 or higher.</span></span> <span data-ttu-id="b8c9f-108">Для того чтобы вам было проще определить и диагностировать проблему, в уведомление включается анализ характеристик сбоев и соответствующие данные телеметрии.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-108">To help you triage and diagnose the problem, an analysis of the characteristics of the failures and related telemetry is provided in the notification.</span></span> <span data-ttu-id="b8c9f-109">Кроме того, даются ссылки на портал Application Insights для дальнейшей диагностики.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-109">There are also links to the Application Insights portal for further diagnosis.</span></span> <span data-ttu-id="b8c9f-110">Эта функция не требует настройки, так как использует алгоритмы машинного обучения для прогнозирования нормальной частоты невыполненных запросов.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-110">The feature needs no set-up nor configuration, as it uses machine learning algorithms to predict the normal failure rate.</span></span>

<span data-ttu-id="b8c9f-111">Эта функция работает для веб-приложений Java и ASP.NET, размещенных в облаке или на ваших серверах.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-111">This feature works for Java and ASP.NET web apps, hosted in the cloud or on your own servers.</span></span> <span data-ttu-id="b8c9f-112">Она также работает для любого приложения, создающего данные телеметрии запросов или зависимостей (например, при наличии рабочей роли, вызывающей [TrackRequest()](app-insights-api-custom-events-metrics.md#trackrequest) или [TrackDependency()](app-insights-api-custom-events-metrics.md#trackdependency)).</span><span class="sxs-lookup"><span data-stu-id="b8c9f-112">It also works for any app that generates request or dependency telemetry - for example, if you have a worker role that calls [TrackRequest()](app-insights-api-custom-events-metrics.md#trackrequest) or [TrackDependency()](app-insights-api-custom-events-metrics.md#trackdependency).</span></span>

<span data-ttu-id="b8c9f-113">Если пакет [Application Insights настроен для вашего проекта](app-insights-overview.md), а ваше приложение создает минимальный объем данных телеметрии, то системе интеллектуального обнаружения аномальных сбоев необходимо 24 часа, чтобы изучить нормальное поведение приложения. Затем система включается и может отправлять оповещения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-113">After setting up [Application Insights for your project](app-insights-overview.md), and provided your app generates a certain minimum amount of telemetry, Smart Detection of failure anomalies takes 24 hours to learn the normal behavior of your app, before it is switched on and can send alerts.</span></span>

<span data-ttu-id="b8c9f-114">Вот пример оповещения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-114">Here's a sample alert.</span></span>

![Пример оповещения системы интеллектуального обнаружения, содержащий связанный анализ кластера после сбоя](./media/app-insights-proactive-failure-diagnostics/013.png)

> [!NOTE]
> <span data-ttu-id="b8c9f-116">По умолчанию приходит более краткое сообщение, чем в этом примере.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-116">By default, you get a shorter format mail than this example.</span></span> <span data-ttu-id="b8c9f-117">Но можно [переключиться на этот подробный формат](#configure-alerts).</span><span class="sxs-lookup"><span data-stu-id="b8c9f-117">But you can [switch to this detailed format](#configure-alerts).</span></span>
>
>

<span data-ttu-id="b8c9f-118">Обратите внимание на то, что оно содержит:</span><span class="sxs-lookup"><span data-stu-id="b8c9f-118">Notice that it tells you:</span></span>

* <span data-ttu-id="b8c9f-119">Количество сбоев по сравнению с обычным поведением приложения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-119">The failure rate compared to normal app behavior.</span></span>
* <span data-ttu-id="b8c9f-120">Число затронутых пользователей, чтобы вы знали, насколько сильно следует беспокоиться.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-120">How many users are affected – so you know how much to worry.</span></span>
* <span data-ttu-id="b8c9f-121">Шаблон характеристик, связанный с ошибками.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-121">A characteristic pattern associated with the failures.</span></span> <span data-ttu-id="b8c9f-122">В этом примере имеются конкретный код ошибки, имя запроса (операция) и версия приложения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-122">In this example, there’s a particular response code, request name (operation) and app version.</span></span> <span data-ttu-id="b8c9f-123">Это позволяет сразу же определить фрагмент кода, с которого следует начать поиск.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-123">That immediately tells you where to start looking in your code.</span></span> <span data-ttu-id="b8c9f-124">К другим возможностям может относиться определенный тип браузера или клиентской операционной системы.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-124">Other possibilities could be a specific browser or client operating system.</span></span>
* <span data-ttu-id="b8c9f-125">Исключения, трассировки журналов и сбои в зависимостях (базах данных или других внешних компонентах), которые могут быть связаны с описанными ошибками.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-125">The exception, log traces, and dependency failure (databases or other external components) that appear to be associated with the characterized failures.</span></span>
* <span data-ttu-id="b8c9f-126">Прямые ссылки на соответствующие поиски телеметрии в Application Insights.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-126">Links directly to relevant searches on the telemetry in Application Insights.</span></span>

## <a name="benefits-of-smart-detection"></a><span data-ttu-id="b8c9f-127">Преимущества интеллектуального обнаружения</span><span class="sxs-lookup"><span data-stu-id="b8c9f-127">Benefits of Smart Detection</span></span>
<span data-ttu-id="b8c9f-128">Обычные [оповещения метрик](app-insights-alerts.md) сообщают о возможном наличии проблемы.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-128">Ordinary [metric alerts](app-insights-alerts.md) tell you there might be a problem.</span></span> <span data-ttu-id="b8c9f-129">Однако система интеллектуального обнаружения начинает самостоятельно осуществлять диагностику, выполняя множество операций анализа, которые в противном случае вам пришлось бы проводить самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-129">But Smart Detection starts the diagnostic work for you, performing a lot of the analysis you would otherwise have to do yourself.</span></span> <span data-ttu-id="b8c9f-130">Вы получаете тщательно подобранные результаты, что помогает быстро выявить первопричину проблемы.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-130">You get the results neatly packaged, helping you to get quickly to the root of the problem.</span></span>

## <a name="how-it-works"></a><span data-ttu-id="b8c9f-131">Принцип работы</span><span class="sxs-lookup"><span data-stu-id="b8c9f-131">How it works</span></span>
<span data-ttu-id="b8c9f-132">Система интеллектуального обнаружения отслеживает поступающие из вашего приложения данные телеметрии, а именно частоту сбоев.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-132">Smart  Detection monitors the telemetry received from your app, and in particular the failure rates.</span></span> <span data-ttu-id="b8c9f-133">Это правило подсчитывает число запросов, для которых свойство `Successful request` имеет значение false, и количество вызовов зависимостей, для которых свойство `Successful call` имеет значение false.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-133">This rule counts the number of requests for which the `Successful request` property is false, and the number of dependency calls for which the `Successful call` property is false.</span></span> <span data-ttu-id="b8c9f-134">По умолчанию для запросов `Successful request == (resultCode < 400)` (если вы не написали пользовательский код для [фильтрации](app-insights-api-filtering-sampling.md#filtering) или создания собственных вызовов [TrackRequest](app-insights-api-custom-events-metrics.md#trackrequest)).</span><span class="sxs-lookup"><span data-stu-id="b8c9f-134">For requests, by default, `Successful request == (resultCode < 400)` (unless you have written custom code to [filter](app-insights-api-filtering-sampling.md#filtering) or generate your own [TrackRequest](app-insights-api-custom-events-metrics.md#trackrequest) calls).</span></span> 

<span data-ttu-id="b8c9f-135">Производительность вашего приложения обладает типичным шаблоном поведения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-135">Your app’s performance has a typical pattern of behavior.</span></span> <span data-ttu-id="b8c9f-136">Одни запросы или вызовы зависимостей будут более подвержены сбоям, чем другие, а общий процент сбоев может возрастать при увеличении нагрузки.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-136">Some requests or dependency calls will be more prone to failure than others; and the overall failure rate may go up as load increases.</span></span> <span data-ttu-id="b8c9f-137">Для выявления таких аномалий система интеллектуального обнаружения использует машинное обучение.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-137">Smart Detection uses machine learning to find these anomalies.</span></span>

<span data-ttu-id="b8c9f-138">Так как данные телеметрии поступают в Application Insights из веб-приложения, система интеллектуального обнаружения сравнивает текущее поведение с шаблонами, зарегистрированными за последние несколько дней.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-138">As telemetry comes into Application Insights from your web app, Smart Detection compares the current behavior with the patterns seen over the past few days.</span></span> <span data-ttu-id="b8c9f-139">Если по сравнению с предыдущими показателями производительности наблюдается чрезмерное увеличение частоты отказов, запускается анализ.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-139">If an abnormal rise in failure rate is observed by comparison with previous performance, an analysis is triggered.</span></span>

<span data-ttu-id="b8c9f-140">При запуске анализа служба анализирует кластер по неудачному запросу, чтобы попытаться определить шаблон значений, который характеризует отказы.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-140">When an analysis is triggered, the service performs a cluster analysis on the failed request, to try to identify a pattern of values that characterize the failures.</span></span> <span data-ttu-id="b8c9f-141">В приведенном выше примере анализ обнаружил, что большинство сбоев связаны с конкретным кодом ошибки, именем запроса, URL-адресом сервера и экземпляром роли.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-141">In the example above, the analysis has discovered that most failures are about a specific result code, request name, Server URL host, and role instance.</span></span> <span data-ttu-id="b8c9f-142">Анализ также обнаружил, что свойство операционной системы клиента распределено по нескольким значениям, и поэтому его нет в списке.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-142">By contrast, the analysis has discovered that the client operating system property is distributed over multiple values, and so it is not listed.</span></span>

<span data-ttu-id="b8c9f-143">Если ваша служба инструментирована для использования этих вызовов телеметрии, то анализатор находит исключение и ошибку зависимости, связанные с запросами в выявленном кластере, а также примеры журналов трассировки, связанных с такими запросами.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-143">When your service is instrumented with these telemetry calls, the analyser looks for an exception and a dependency failure that are associated with requests in the cluster it has identified, together with an example of any trace logs associated with those requests.</span></span>

<span data-ttu-id="b8c9f-144">Результат анализа отправляется в виде оповещения, если в настройках не указан иной способ.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-144">The resulting analysis is sent to you as alert, unless you have configured it not to.</span></span>

<span data-ttu-id="b8c9f-145">Как и в случае [оповещений, настраиваемых вручную](app-insights-alerts.md), вы можете проверить состояние оповещения и настроить его в соответствующей колонке ресурса Application Insights.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-145">Like the [alerts you set manually](app-insights-alerts.md), you can inspect the state of the alert and configure it in the Alerts blade of your Application Insights resource.</span></span> <span data-ttu-id="b8c9f-146">В отличие от других оповещений, здесь не требуется настройка интеллектуального обнаружения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-146">But unlike other alerts, you don't need to set up or configure Smart Detection.</span></span> <span data-ttu-id="b8c9f-147">При желании адреса электронной почты для отправки оповещений можно отключить или изменить.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-147">If you want, you can disable it or change its target email addresses.</span></span>

## <a name="configure-alerts"></a><span data-ttu-id="b8c9f-148">Настройка оповещений</span><span class="sxs-lookup"><span data-stu-id="b8c9f-148">Configure alerts</span></span>
<span data-ttu-id="b8c9f-149">Вы можете отключить интеллектуальное обнаружение, изменить получателей электронных сообщений, создать веб-перехватчик или предоставить согласие на получение более подробных оповещений.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-149">You can disable Smart Detection, change the email recipients, create a webhook, or opt in to more detailed alert messages.</span></span>

<span data-ttu-id="b8c9f-150">Откройте страницу "Оповещения".</span><span class="sxs-lookup"><span data-stu-id="b8c9f-150">Open the Alerts page.</span></span> <span data-ttu-id="b8c9f-151">Аномальные сбои входят в список оповещений, которые вы настроили вручную. Здесь можно увидеть его текущее состояние.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-151">Failure Anomalies is included along with any alerts that you have set manually, and you can see whether it is currently in the alert state.</span></span>

![На странице "Обзор" щелкните плитку оповещения.](./media/app-insights-proactive-failure-diagnostics/021.png)

<span data-ttu-id="b8c9f-154">Щелкните оповещение, чтобы его настроить.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-154">Click the alert to configure it.</span></span>

![Конфигурация](./media/app-insights-proactive-failure-diagnostics/032.png)

<span data-ttu-id="b8c9f-156">Обратите внимание, что систему интеллектуального обнаружения можно отключить, но нельзя удалить (или создать еще одну).</span><span class="sxs-lookup"><span data-stu-id="b8c9f-156">Notice that you can disable Smart Detection, but you can't delete it (or create another one).</span></span>

#### <a name="detailed-alerts"></a><span data-ttu-id="b8c9f-157">Подробные оповещения</span><span class="sxs-lookup"><span data-stu-id="b8c9f-157">Detailed alerts</span></span>
<span data-ttu-id="b8c9f-158">Если установить флажок "Get more detailed diagnostics" (Получать более подробные диагностические данные), то электронное сообщение будет содержать дополнительные диагностические сведения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-158">If you select "Get more detailed diagnostics" then the email will contain more diagnostic information.</span></span> <span data-ttu-id="b8c9f-159">Иногда удается диагностировать проблему на основе только данных в сообщении электронной почты.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-159">Sometimes you'll be able to diagnose the problem just from the data in the email.</span></span>

<span data-ttu-id="b8c9f-160">Существует небольшой риск, что более подробное оповещение может содержать конфиденциальные сведения, поскольку оно включает сообщения об исключениях и трассировке.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-160">There's a slight risk that the more detailed alert could contain sensitive information, because it includes exception and trace messages.</span></span> <span data-ttu-id="b8c9f-161">Тем не менее это может произойти, только если код допускает передачу конфиденциальных сведений в эти сообщения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-161">However, this would only happen if your code could allow sensitive information into those messages.</span></span>

## <a name="triaging-and-diagnosing-an-alert"></a><span data-ttu-id="b8c9f-162">Рассмотрение и диагностика оповещения</span><span class="sxs-lookup"><span data-stu-id="b8c9f-162">Triaging and diagnosing an alert</span></span>
<span data-ttu-id="b8c9f-163">Оповещение означает, что обнаружен чрезмерный рост частоты невыполненных запросов.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-163">An alert indicates that an abnormal rise in the failed request rate was detected.</span></span> <span data-ttu-id="b8c9f-164">Скорее всего, проблема возникла в приложении или его среде.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-164">It's likely that there is some problem with your app or its environment.</span></span>

<span data-ttu-id="b8c9f-165">В зависимости от процента запросов и числа вовлеченных пользователей вы можете решить, насколько срочно необходимо решить проблему.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-165">From the percentage of requests and number of users affected, you can decide how urgent the issue is.</span></span> <span data-ttu-id="b8c9f-166">В приведенном выше примере доля невыполненных запросов (22,5 %) сравнивается с нормальным показателем (1 %), из чего очевидно наличие проблемы.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-166">In the example above, the failure rate of 22.5% compares with a normal rate of 1%, indicates that something bad is going on.</span></span> <span data-ttu-id="b8c9f-167">С другой стороны, это затронуло только 11 пользователей.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-167">On the other hand, only 11 users were affected.</span></span> <span data-ttu-id="b8c9f-168">Если это было ваше приложение, вы сможете оценить серьезность ситуации.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-168">If it were your app, you'd be able to assess how serious that is.</span></span>

<span data-ttu-id="b8c9f-169">Зачастую проблему можно быстро диагностировать по имени запроса, исключениям, зависимостям и другим данным трассировки.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-169">In many cases, you will be able to diagnose the problem quickly from the request name, exception, dependency failure and trace data provided.</span></span>

<span data-ttu-id="b8c9f-170">Существуют и некоторые другие признаки.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-170">There are some other clues.</span></span> <span data-ttu-id="b8c9f-171">Например, процент сбоев зависимостей в этом примере совпадает с процентом исключений (89,3 %).</span><span class="sxs-lookup"><span data-stu-id="b8c9f-171">For example, the dependency failure rate in this example is the same as the exception rate (89.3%).</span></span> <span data-ttu-id="b8c9f-172">Из этого можно предположить, что исключение возникает непосредственно при сбое зависимости, что позволяет точно определить фрагмент кода, с которого следует начать проверку.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-172">This suggests that the exception arises directly from the dependency failure - giving you a clear idea of where to start looking in your code.</span></span>

<span data-ttu-id="b8c9f-173">Для дальнейшего изучения воспользуйтесь ссылками в каждом разделе, которые укажут на [страницу поиска](app-insights-diagnostic-search.md) , относящуюся к соответствующим запросам, исключениям, зависимостям или трассировкам.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-173">To investigate further, the links in each section will take you straight to a [search page](app-insights-diagnostic-search.md) filtered to the relevant requests, exception, dependency or traces.</span></span> <span data-ttu-id="b8c9f-174">Вы также можете открыть [портал Azure](https://portal.azure.com), выбрав ресурс Application Insights для своего приложения и открыв колонку "Сбои".</span><span class="sxs-lookup"><span data-stu-id="b8c9f-174">Or you can open the [Azure portal](https://portal.azure.com), navigate to the Application Insights resource for your app, and open the Failures blade.</span></span>

<span data-ttu-id="b8c9f-175">В этом примере щелчок ссылки "View dependency failures details" (Просмотр сведений о сбоях зависимостей) открывает колонку поиска Application Insights.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-175">In this example, clicking the 'View dependency failures details' link opens the Application Insights search blade.</span></span> <span data-ttu-id="b8c9f-176">В ней отображается инструкции SQL, которая содержит пример первопричины: обязательные поля содержали значения NULL и не прошли проверку при операции сохранения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-176">It shows the SQL statement that has an example of the root cause: NULLs were provided at mandatory fields and did not pass validation during the save operation.</span></span>

![Поиск по журналу диагностики](./media/app-insights-proactive-failure-diagnostics/051.png)

## <a name="review-recent-alerts"></a><span data-ttu-id="b8c9f-178">Просмотр последних оповещений</span><span class="sxs-lookup"><span data-stu-id="b8c9f-178">Review recent alerts</span></span>

<span data-ttu-id="b8c9f-179">Щелкните **Интеллектуальное обнаружение**, чтобы быстро перейти к последнему оповещению.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-179">Click **Smart Detection** to get to the most recent alert:</span></span>

![Общие данные оповещения](./media/app-insights-proactive-failure-diagnostics/070.png)


## <a name="whats-the-difference-"></a><span data-ttu-id="b8c9f-181">В чем разница?</span><span class="sxs-lookup"><span data-stu-id="b8c9f-181">What's the difference ...</span></span>
<span data-ttu-id="b8c9f-182">Интеллектуальное обнаружение аномальных сбоев дополняет другие похожие компоненты Application Insights.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-182">Smart Detection of failure anomalies complements other similar but distinct features of Application Insights.</span></span>

* <span data-ttu-id="b8c9f-183">[Оповещения метрик](app-insights-alerts.md) задаются пользователем и позволяют отслеживать самые разные метрики, включая нагрузку на ЦП, частоту запросов, время загрузки страниц и т. д.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-183">[Metric Alerts](app-insights-alerts.md) are set by you and can monitor a wide range of metrics such as CPU occupancy, request rates,  page load times, and so on.</span></span> <span data-ttu-id="b8c9f-184">Их можно использовать, например, для того, чтобы добавить ресурсы.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-184">You can use them to warn you, for example, if you need to add more resources.</span></span> <span data-ttu-id="b8c9f-185">А интеллектуальное обнаружение аномальных сбоев, напротив, охватывает небольшой диапазон критически важных метрик (сейчас — только частоту неудачно выполненных запросов), почти в реальном времени оповещая вас о том, что частота неудачно выполненных запросов к веб-приложению намного превышает нормальный для веб-приложения уровень.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-185">By contrast, Smart Detection of failure anomalies covers a small range of critical metrics (currently only failed request rate), designed to notify you in near real time manner once your web app's failed request rate increases significantly compared to web app's normal behavior.</span></span>

    <span data-ttu-id="b8c9f-186">Система интеллектуального обнаружения автоматически корректирует пороговое значение в соответствии с преобладающими условиями.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-186">Smart Detection automatically adjusts its threshold in response to prevailing conditions.</span></span>

    <span data-ttu-id="b8c9f-187">Она начинает выполнять диагностику за вас.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-187">Smart Detection starts the diagnostic work for you.</span></span>
* <span data-ttu-id="b8c9f-188">[Система интеллектуального обнаружение аномалий производительности](app-insights-proactive-performance-diagnostics.md) использует искусственный интеллект для обнаружения необычного поведения ваших метрик без необходимости в настройке.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-188">[Smart Detection of performance anomalies](app-insights-proactive-performance-diagnostics.md) also uses machine intelligence to discover unusual patterns in your metrics, and no configuration by you is required.</span></span> <span data-ttu-id="b8c9f-189">В отличие от интеллектуального обнаружения аномальных сбоев, эта функция предназначена для поиска плохо обслуживаемых сегментов вашей системы (например, определенных страниц в определенном типе браузера).</span><span class="sxs-lookup"><span data-stu-id="b8c9f-189">But unlike Smart Detection of failure anomalies, the purpose of Smart  Detection of performance anomalies is to find segments of your usage manifold that might be badly served - for example, by specific pages on a specific type of browser.</span></span> <span data-ttu-id="b8c9f-190">Анализ выполняется ежедневно, и обнаруженные результаты обычно не требуют таких срочных действий, как оповещения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-190">The analysis is performed daily, and if any result is found, it's likely to be much less urgent than an alert.</span></span> <span data-ttu-id="b8c9f-191">Анализ аномальных сбоев, напротив, выполняется непрерывно на основе всех поступающих данных телеметрии. Если частота сбоев сервера превысит ожидаемое значение, вы получите оповещение в течение нескольких минут.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-191">By contrast, the analysis for failure anomalies is performed continuously on incoming telemetry, and you will be notified within minutes if server failure rates are greater than expected.</span></span>

## <a name="if-you-receive-a-smart-detection-alert"></a><span data-ttu-id="b8c9f-192">При возникновении оповещения интеллектуального обнаружения</span><span class="sxs-lookup"><span data-stu-id="b8c9f-192">If you receive a Smart Detection alert</span></span>
<span data-ttu-id="b8c9f-193">*Почему мне направлено это предупреждение?*</span><span class="sxs-lookup"><span data-stu-id="b8c9f-193">*Why have I received this alert?*</span></span>

* <span data-ttu-id="b8c9f-194">Мы обнаружили аномальное увеличение количества неудачных запросов по сравнению с обычными показателями за предыдущий период.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-194">We detected an abnormal rise in failed requests rate compared to the normal baseline of the preceding period.</span></span> <span data-ttu-id="b8c9f-195">После анализа сбоев и соответствующей телеметрии мы считаем, что возникла проблема, которую необходимо решить.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-195">After analysis of the failures and associated telemetry, we think that there is a problem that you should look into.</span></span>

<span data-ttu-id="b8c9f-196">*Уведомление означает, что определенно возникла какая-то неполадка?*</span><span class="sxs-lookup"><span data-stu-id="b8c9f-196">*Does the notification mean I definitely have a problem?*</span></span>

* <span data-ttu-id="b8c9f-197">Мы оповещать о нарушении или ухудшении работы приложения, однако только вы имеете полное представление о семантике и влиянии на приложение или пользователей.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-197">We try to alert on app disruption or degradation, but only you can fully understand the semantics and the impact on the app or users.</span></span>

<span data-ttu-id="b8c9f-198">*Это означает, что вы отслеживаете мои данные?*</span><span class="sxs-lookup"><span data-stu-id="b8c9f-198">*So, you guys look at my data?*</span></span>

* <span data-ttu-id="b8c9f-199">Нет.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-199">No.</span></span> <span data-ttu-id="b8c9f-200">Служба работает полностью в автоматическом режиме.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-200">The service is entirely automatic.</span></span> <span data-ttu-id="b8c9f-201">Уведомления получаете только вы.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-201">Only you get the notifications.</span></span> <span data-ttu-id="b8c9f-202">Ваши данные остаются [конфиденциальными](app-insights-data-retention-privacy.md).</span><span class="sxs-lookup"><span data-stu-id="b8c9f-202">Your data is [private](app-insights-data-retention-privacy.md).</span></span>

<span data-ttu-id="b8c9f-203">*Нужно ли мне подписаться на это оповещение?*</span><span class="sxs-lookup"><span data-stu-id="b8c9f-203">*Do I have to subscribe to this alert?*</span></span>

* <span data-ttu-id="b8c9f-204">Нет.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-204">No.</span></span> <span data-ttu-id="b8c9f-205">У каждого приложения, которое отправляет данные телеметрии запросов, имеется правило генерации оповещений интеллектуального обнаружения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-205">Every application that sends request telemetry has the Smart Detection alert rule.</span></span>

<span data-ttu-id="b8c9f-206">*Можно отменить подписку или настроить пересылку уведомлений моим коллегам?*</span><span class="sxs-lookup"><span data-stu-id="b8c9f-206">*Can I unsubscribe or get the notifications sent to my colleagues instead?*</span></span>

* <span data-ttu-id="b8c9f-207">Да, в области "Правила генерации оповещений" щелкните правило интеллектуального обнаружения, чтобы настроить его.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-207">Yes, In Alert rules, click the Smart Detection rule to configure it.</span></span> <span data-ttu-id="b8c9f-208">Вы можете отключить это оповещение или изменить его получателей.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-208">You can disable the alert, or change recipients for the alert.</span></span>

<span data-ttu-id="b8c9f-209">*Не могу найти письмо. Где найти уведомления на портале?*</span><span class="sxs-lookup"><span data-stu-id="b8c9f-209">*I lost the email. Where can I find the notifications in the portal?*</span></span>

* <span data-ttu-id="b8c9f-210">В журналах действий.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-210">In the Activity logs.</span></span> <span data-ttu-id="b8c9f-211">В Azure откройте ресурс Application Insights для своего приложения и выберите "Журналы действий".</span><span class="sxs-lookup"><span data-stu-id="b8c9f-211">In Azure, open the Application Insights resource for your app, then select Activity logs.</span></span>

<span data-ttu-id="b8c9f-212">*Некоторые оповещения относятся к известным проблемам, и я не хочу получать их.*</span><span class="sxs-lookup"><span data-stu-id="b8c9f-212">*Some of the alerts are about known issues and I do not want to receive them.*</span></span>

* <span data-ttu-id="b8c9f-213">У нас в планах есть функция подавления оповещений.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-213">We have alert suppression on our backlog.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b8c9f-214">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="b8c9f-214">Next steps</span></span>
<span data-ttu-id="b8c9f-215">Эти диагностические средства позволяют проверять данные телеметрии из приложения:</span><span class="sxs-lookup"><span data-stu-id="b8c9f-215">These diagnostic tools help you inspect the telemetry from your app:</span></span>

* [<span data-ttu-id="b8c9f-216">Обозреватель метрик</span><span class="sxs-lookup"><span data-stu-id="b8c9f-216">Metric explorer</span></span>](app-insights-metrics-explorer.md)
* [<span data-ttu-id="b8c9f-217">Обозреватель поиска</span><span class="sxs-lookup"><span data-stu-id="b8c9f-217">Search explorer</span></span>](app-insights-diagnostic-search.md)
* [<span data-ttu-id="b8c9f-218">Аналитика, мощный язык запросов</span><span class="sxs-lookup"><span data-stu-id="b8c9f-218">Analytics - powerful query language</span></span>](app-insights-analytics-tour.md)

<span data-ttu-id="b8c9f-219">Интеллектуальное обнаружение — это полностью автоматическая функция,</span><span class="sxs-lookup"><span data-stu-id="b8c9f-219">Smart detections are completely automatic.</span></span> <span data-ttu-id="b8c9f-220">но, возможно, вам потребуется настроить некоторые дополнительные оповещения.</span><span class="sxs-lookup"><span data-stu-id="b8c9f-220">But maybe you'd like to set up some more alerts?</span></span>

* [<span data-ttu-id="b8c9f-221">Настройка оповещений в Application Insights</span><span class="sxs-lookup"><span data-stu-id="b8c9f-221">Manually configured metric alerts</span></span>](app-insights-alerts.md)
* [<span data-ttu-id="b8c9f-222">Доступность веб-тестов</span><span class="sxs-lookup"><span data-stu-id="b8c9f-222">Availability web tests</span></span>](app-insights-monitor-web-app-availability.md)
