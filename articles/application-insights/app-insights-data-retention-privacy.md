---
title: "aaaData хранения и хранилища в Azure Application Insights | Документы Microsoft"
description: "Заявление о политике хранении и конфиденциальности"
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: a6268811-c8df-42b5-8b1b-1d5a7e94cbca
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 04/07/2017
ms.author: bwren
ms.openlocfilehash: 7823431d03a57db5268d2724a0604e40666009f8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="data-collection-retention-and-storage-in-application-insights"></a>Сбор и хранение данных в Application Insights


При установке [Azure Application Insights] [ start] SDK в приложении, он отправляет телеметрии о вашего приложения toohello облака. Естественно отвечает разработчики должны tooknow точно какие данные будут отправлены, что происходит toohello данных и как ведет управление им. В частности, возникают следующие вопросы: можно ли отправлять конфиденциальные данные, где они хранятся и насколько это безопасно? 

Во-первых, hello ответ:

* Hello стандартной телеметрии модулях, которые выполняются «стандартной hello» — служба toohello маловероятно, что toosend конфиденциальных данных. Данные телеметрии Hello волнует нагрузки, метрики производительности и использования, исключение отчеты и другие диагностические данные. Привет, основной пользователь, данные, видимые в hello диагностические отчеты, URL-адреса; но приложения в любом случае не следует помещать конфиденциальные данные в виде обычного текста в URL-АДРЕСЕ.
* Можно написать код, который отправляет дополнительные пользовательские телеметрии toohelp в диагностике и использовании мониторинга. (эта расширяемость — одна из полезных возможностей Application Insights). Возможно, ошибка, toowrite этот код, чтобы оно включало личных и другие конфиденциальные данные. Если приложение работает с таких данных, необходимо применить тщательного изучения процессов tooall hello написанного кода.
* Во время разработки и тестирования приложения, это легко tooinspect, что отправляется hello SDK. Hello данные отображаются в выходных данных окна браузера hello интегрированной среды разработки и отладки hello. 
* Hello данные находятся в [Microsoft Azure](http://azure.com) серверов в hello США и Европе. (При этом ваше приложение может выполняться где угодно.) Azure применяет [надежные процедуры обеспечения безопасности и соответствует целому ряду стандартов](https://azure.microsoft.com/support/trust-center/). Только владелец и указанной команды имеют доступ к данным tooyour. Сотрудники Майкрософт может иметь ограниченный доступ tooit только при определенных обстоятельствах только с вашего ведома. Шифруется во время передачи, в то, что серверы hello.

Hello оставшейся части этой статьи более подробно описываются эти ответы. Он разработано toobe самодостаточным, таким образом, чтобы его можно открыть toocolleagues, которые не входят в состав вашей рабочей группы.

## <a name="what-is-application-insights"></a>Что такое Azure Application Insights?
[Azure Application Insights] [ start] — это служба, предоставляемая корпорацией Майкрософт, которая помогает повысить производительность hello и удобство использования работающего приложения. Он отслеживает все hello время ее работы, во время тестирования и после развертывания или публикации приложения. Application Insights создает диаграммы и таблицы, которые показывают, например, какое время суток, вы получаете большинству пользователей является приложение hello отвечать на запросы, а также и контейнер, который обслуживается любого внешнего служб, он зависит. В случае сбоев, ошибок или проблем с производительностью, можно выполнить поиск по данным телеметрии hello причина hello toodiagnose детализации. И службы hello будет отправлено сообщений электронной почты, если были внесены изменения в hello доступность и производительность вашего приложения.

В порядке tooget эта функциональность устанавливается пакет SDK для Application Insights приложения, который становится частью кода. Когда приложение запущено, hello SDK проверяет его работы и отправляет служба Application Insights toohello телеметрии. Это облачная служба, размещенная в [Microsoft Azure](http://azure.com). (Application Insights работает для любых приложений, а не только тех, которые размещены в Azure.)

![Hello SDK в приложение отправляет данные телеметрии toohello служба Application Insights.](./media/app-insights-data-retention-privacy/01-scheme.png)

Hello служба Application Insights хранит и анализирует данные телеметрии hello. toosee hello анализа или поиск по hello хранимые данные телеметрии, войти в tooyour учетная запись Azure и Привет открыть ресурс Application Insights для вашего приложения. Вы также можете toohello доступа совместное использование данных с другими членами вашей команды или с указанным подписчиков Azure.

У вас есть данные, экспортированные из hello служба Application Insights, например tooa базы данных или tooexternal средства. Каждое средство предоставить специальной клавишей, полученной от службы hello. При необходимости можно отменить Hello ключ. 

Пакеты SDK Application Insights, доступны для различных типов приложений: веб-службы, размещенные в ваших собственных серверах J2EE или ASP.NET или в Azure; веб-клиентов — то есть hello кода, выполняемым в веб-страницы; Классические приложения и службы; приложения для устройств Windows Phone, iOS и Android. Все они отправлять данные телеметрии toohello одной службы.

## <a name="what-data-does-it-collect"></a>Какие данные собираются?
### <a name="how-is-hello-data-is-collected"></a>Каков hello данных собираются?
Есть три источника данных:

* пакет SDK, который либо интегрировать приложения Hello [в разработке](app-insights-asp-net.md) или [во время выполнения](app-insights-monitor-performance-live-website-now.md). Существуют разные пакеты SDK для различных типов приложений. Имеется также [пакета SDK для веб-страниц](app-insights-javascript.md), который загружает в hello конечного пользователя браузер вместе со страницы приветствия.
  
  * Каждый пакет SDK содержит ряд [модулей](app-insights-configuration-with-applicationinsights-config.md), которых с помощью разных методов toocollect различные типы телеметрии.
  * При установке пакета SDK для hello в разработке можно использовать его API toosend телеметрии, в стандартных модулях toohello сложения. Пользовательские данные телеметрии могут включать любые данные, должны toosend.
* В некоторых веб-серверов существуют агенты, запускать наряду с приложение hello и отправка данных телеметрии о ЦП, памяти и сети (LDM). Например, такие агенты могут быть установлены на виртуальных машинах Azure, узлах Docker и [серверах J2EE](app-insights-java-agent.md) .
* [Проверяет доступность](app-insights-monitor-web-app-availability.md) процессы выполняются корпорацией Майкрософт, отправляют запросы tooyour веб-приложения через регулярные интервалы. Hello результаты отправляются toohello служба Application Insights.

### <a name="what-kinds-of-data-are-collected"></a>Какие типы данных собираются?
Ниже перечислены основные категории Hello

* [Телеметрия веб-сервера](app-insights-asp-net.md) : HTTP-запросы.  URI, время, затраченное tooprocess hello запрос, код ответа, IP-адрес клиента. Идентификатор сеанса.
* [Веб-страницы](app-insights-javascript.md) : количество страниц, пользователей и сеансов. Время загрузки страницы. Исключения. Вызовы AJAX.
* Счетчики производительности: загрузка памяти, ЦП, сети, количество операций ввода-вывода.
* Контекст клиента и сервера: ОС, языковой стандарт, тип устройства, браузер и разрешение экрана.
* [Исключения](app-insights-asp-net-exceptions.md) и сбои: **дампы стека**, идентификатор сборки и тип процессора. 
* [Зависимости](app-insights-asp-net-dependencies.md) -вызывает tooexternal служб, таких как REST, SQL, AJAX. URI или строка подключения, длительность, успешное выполнение, команда.
* [Тесты доступности](app-insights-monitor-web-app-availability.md) : длительность теста и его шагов, ответы.
* [Журналы трассировки](app-insights-asp-net-trace-logs.md) и [пользовательские данные телеметрии](app-insights-api-custom-events-metrics.md):  - **все данные, которые программно добавляются в журналы или данные телеметрии**.

[Дополнительные сведения](#data-sent-by-application-insights).

## <a name="how-can-i-verify-whats-being-collected"></a>Как проверить, какие именно данные собираются?
Если вы разрабатываете приложение hello, с помощью Visual Studio, запустите приложение hello в режиме отладки (F5). Hello телеметрии отображается в окне вывода hello. Оттуда их можно скопировать, отформатировать как файл JSON и быстро проверить. 

![](./media/app-insights-data-retention-privacy/06-vs.png)

В окне приветствия диагностики также есть более удобном для чтения представления.

В случае с веб-страницами, откройте окно отладки в браузере.

![Нажмите клавишу F12 и откройте вкладку "Сеть" hello.](./media/app-insights-data-retention-privacy/08-browser.png)

### <a name="can-i-write-code-toofilter-hello-telemetry-before-it-is-sent"></a>Можно записать данные телеметрии hello toofilter кода перед его отправкой?
Можно написать [подключаемый модуль обработчика телеметрических данных](app-insights-api-filtering-sampling.md).

## <a name="how-long-is-hello-data-kept"></a>Сколько времени — hello данные, хранимые?
Необработанные данные точек (то есть элементов, которые можно запросить в аналитике и просматривать в поиске) хранятся копии too90 дней. Если требуются более длительного времени, данные tookeep, можно использовать [непрерывный Экспорт](app-insights-export-telemetry.md) toocopy его tooa учетной записи хранилища.

Статистические данные (то есть счетчики, средние значения и другие статистические данные, которые отображаются в обозревателе метрик) сохраняются со степенью детализации в 1 минуту в течение 90 дней.

## <a name="who-can-access-hello-data"></a>Кто имеет доступ к данным hello?
Hello данных является видимым tooyou и, если у вас есть учетная запись организации, члены команды. 

Он может быть экспортирован, вы и члены команды и может быть скопированный tooother расположения и переданный на tooother людей.

#### <a name="what-does-microsoft-do-with-hello-information-my-app-sends-tooapplication-insights"></a>Какие Microsoft функции выполняют сведениями hello Мое приложение отправляет tooApplication аналитики?
Корпорация Майкрософт использует hello данные только в порядке tooprovide hello службы tooyou.

## <a name="where-is-hello-data-held"></a>Где хранить данные hello
* В США hello или Europe. При создании нового ресурса Application Insights можно выбрать местоположение hello. 


#### <a name="does-that-mean-my-app-has-toobe-hosted-in-hello-usa-or-europe"></a>Означает, что мое приложение имеет toobe, размещенного в hello США и Европе?
* Нет. Приложение может выполняться в любом месте, узлы в локальной или в облаке hello.

## <a name="how-secure-is-my-data"></a>Насколько защищены мои данные?
Application Insights — это служба Azure. Политики безопасности описаны в hello [Azure безопасности, конфиденциальности и соответствия Технический документ](http://go.microsoft.com/fwlink/?linkid=392408).

Hello данные хранятся на серверах Microsoft Azure. Для учетных записей в hello Azure портал учетной записи ограничения описаны в hello [Azure безопасности, конфиденциальности и соответствия документа](http://go.microsoft.com/fwlink/?linkid=392408).

Ограничен доступ к данным tooyour специалистами корпорации Майкрософт. Мы доступа к данным только с вашего разрешения и, если необходимые toosupport использования Application Insights. 

Данные в совокупности всех наших клиентов приложениями (например, скорость передачи данных и средний объем трассировки) — используется tooimprove Application Insights.

#### <a name="could-someone-elses-telemetry-interfere-with-my-application-insights-data"></a>Могут ли данные телеметрии другого пользователя повлиять на мои данные Application Insights?
С помощью ключа инструментирования hello, которую можно найти в коде hello веб-страниц, они отправлять учетной записи tooyour дополнительных телеметрии. При достаточном объеме дополнительных данных вашим метрики неправильно представляют производительность и использование приложения.

Если код совместно с другими проектами, помните tooremove ключ инструментирования.

## <a name="is-hello-data-encrypted"></a>Hello данные шифруются?
Не в серверах hello в настоящее.

Все данные шифруются при перемещении между центрами обработки данных.

#### <a name="is-hello-data-encrypted-in-transit-from-my-application-tooapplication-insights-servers"></a>Hello данные шифруются при передаче от серверов аналитики tooApplication Мои приложения?
Да, мы используем портал toohello данных toosend https из практически для всех пакетов SDK, включая веб-серверов, устройств и HTTPS веб-страниц. Hello единственное исключение — данные, отправленные из простых HTTP веб-страниц. 

## <a name="personally-identifiable-information"></a>Персональные данные
#### <a name="could-personally-identifiable-information-pii-be-sent-tooapplication-insights"></a>Личные сведения (PII) можно отправить tooApplication аналитики?
Да, это возможно. 

Общее руководство:

* Большинство стандартных данных телеметрии (которые отправляются без написания кода) не содержит явных персональных данных. Однако возможно возможных tooidentify лицам по вывод из коллекции событий.
* Исключения и сообщения трассировки могут содержать личные данные.
* Пользовательские данные телеметрии - например, вызова например TrackEvent, создавать в коде, с помощью API или журнала трассировки hello - может содержать любые данные, выбрать.

Таблица Hello в конце hello этот документ содержит более подробное описание собираемых данных hello.

#### <a name="am-i-responsible-for-complying-with-laws-and-regulations-in-regard-toopii"></a>Я ответственность за соблюдение законов и норм в tooPII учета?
Да. Это ваш tooensure ответственность, hello сбора и использования данных hello соответствует с законы и постановления и hello Microsoft Online Services условия.

Следует соответствующим образом информирования клиентов о hello приложение собирает данные и как используются данные hello.

#### <a name="can-my-users-turn-off-application-insights"></a>Могут ли мои пользователи отключить Application Insights?
Не напрямую. Мы не предоставляем переключателя, пользователи могут работать tooturn off Application Insights.

Однако вы можете реализовать такую возможность в своем приложении. Все hello пакеты SDK включают параметр API, который отключает сбор телеметрии. 

#### <a name="my-application-is-unintentionally-collecting-sensitive-information-can-application-insights-scrub-this-data-so-it-isnt-retained"></a>Мое приложение непреднамеренно собирает конфиденциальные сведения. Может ли Application Insights удалить их?
Application Insights не фильтрует и не удаляет данные. Необходимо соответствующим образом управлять данными hello и предотвратить передачу таких данных tooApplication аналитики.

## <a name="data-sent-by-application-insights"></a>Данные, передаваемые службой Application Insights
пакеты SDK Hello различаться в зависимости от платформы и существует несколько компонентов, которые можно установить. (См. слишком[Application Insights - Обзор][start].) Каждый компонент отправляет различные данные.

#### <a name="classes-of-data-sent-in-different-scenarios"></a>Классы данных, передаваемых в различных сценариях
| Ваше действие | Собираемые классы данных (см. следующую таблицу) |
| --- | --- |
| [Добавить пакет SDK Application Insights tooa .NET веб-проекта][greenbrown] |ServerContext<br/>Выводимые<br/>Счетчики производительности<br/>Запросы<br/>**Исключения**<br/>Сеанс<br/>users |
| [Установка монитора состояния на сервере IIS][redfield] |Зависимости<br/>ServerContext<br/>Выводимые<br/>Счетчики производительности |
| [Добавить веб-приложение Java tooa пакет SDK Application Insights][java] |ServerContext<br/>Выводимые<br/>Запрос<br/>Сеанс<br/>users |
| [Добавление страницы tooweb JavaScript SDK][client] |ClientContext <br/>Выводимые<br/>Страница<br/>ClientPerf<br/>Ajax |
| [Определение свойств по умолчанию][apiproperties] |**Свойства** всех стандартных и настраиваемых событий |
| [Вызов TrackMetric][api] |Числовые значения<br/>**Свойства** |
| [Вызов Track*][api] |Имя события<br/>**Свойства** |
| [Вызов TrackException][api] |**Исключения**<br/>Дамп стека<br/>**Свойства** |
| Пакету SDK не может собрать данные. Например: <br/> не удается получить доступ к счетчикам производительности;<br/> порождается исключение в инициализаторе телеметрии. |Диагностика SDK |

Сведения о [пакетах SDK для других платформ][platforms] можно получить в соответствующей документации.

#### <a name="hello-classes-of-collected-data"></a>классы Hello собранных данных
| Собираемый класс данных | Включает (неисчерпывающий список) |
| --- | --- |
| **Свойства** |**Все данные — определяется кодом** |
| DeviceContext |Идентификатор, IP-адрес, языковой стандарт, модель устройства, сеть, тип сети, имя изготовителя оборудования, разрешение экрана, экземпляр роли, имя роли, тип устройства |
| ClientContext |ОС, языковой стандарт, язык, сеть, разрешение окна |
| Сеанс |идентификатор сеанса |
| ServerContext |Имя компьютера, языковой стандарт, ОС, устройство, сеанс пользователя, контекст пользователя, операция |
| Выводимые |географическое расположение на основе IP-адреса, отметка времени, ОС, браузер |
| Метрики |Имя и значение метрики |
| События |Имя и значение события |
| PageViews |URL-адрес и имя страницы или имя экрана |
| Производительность клиента |URL-адрес или имя страницы, время загрузки браузера |
| Ajax |HTTP-обращениях из tooserver веб-страницы |
| Запросы |URL-адрес, длительность, код ответа |
| Зависимости |Тип (SQL, HTTP,...), строка подключения или URI, синхронный или асинхронный, длительность, успех, инструкция SQL (с монитором состояния) |
| **Исключения** |Тип, **сообщения**, стеки вызовов, исходный файл и номер строки, идентификатор потока |
| Сбои |Код процесса, код родительского процесса, код потока сбоя, исправление приложения, идентификатор, сборка, тип исключения, адрес, причина, скрытые символы и регистры, начальный и конечный двоичный адрес, имя и путь двоичного файла, тип ЦП |
| Трассировка |**Сообщение** и уровень серьезности |
| Счетчики производительности |Время процессора, объем доступной памяти, частота запросов, скорость исключения, байтов исключительного пользования процесса, скорость ввода-вывода, длительность запроса, длина очереди запросов |
| Доступность |Код ответа веб-теста, длительность каждого шага теста, имя теста, метка времени, успешное завершение, время отклика, расположение теста. |
| Диагностика SDK |Сообщение трассировки или исключение |

Вы можете [отключить некоторые данные hello, изменив файл ApplicationInsights.config][config]

## <a name="credits"></a>Баллы
Этот продукт содержит данные GeoLite2, созданные MaxMind и доступные на веб-сайте [http://www.maxmind.com](http://www.maxmind.com).



<!--Link references-->

[api]: app-insights-api-custom-events-metrics.md
[apiproperties]: app-insights-api-custom-events-metrics.md#properties
[client]: app-insights-javascript.md
[config]: app-insights-configuration-with-applicationinsights-config.md
[greenbrown]: app-insights-asp-net.md
[java]: app-insights-java-get-started.md
[platforms]: app-insights-platforms.md
[pricing]: http://azure.microsoft.com/pricing/details/application-insights/
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md

