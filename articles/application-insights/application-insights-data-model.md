---
title: "Модель данных телеметрии Azure Application Insights | Документы Майкрософт"
description: "Обзор модели данных Application Insights"
services: application-insights
documentationcenter: .net
author: SergeyKanzhelev
manager: carmonm
ms.service: application-insights
ms.workload: TBD
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 04/25/2017
ms.author: bwren
ms.openlocfilehash: 6bcd30497622b01d4cd50bf7bbefebd4f00816b7
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="application-insights-telemetry-data-model"></a><span data-ttu-id="6d03d-103">Модель данных телеметрии Application Insights</span><span class="sxs-lookup"><span data-stu-id="6d03d-103">Application Insights telemetry data model</span></span>

<span data-ttu-id="6d03d-104">[Azure Application Insights](app-insights-overview.md) отправляет данные телеметрии из веб-приложения на портал Azure. Благодаря этому вы можете анализировать производительность и параметры использования приложения.</span><span class="sxs-lookup"><span data-stu-id="6d03d-104">[Azure Application Insights](app-insights-overview.md) sends telemetry from your web application to the Azure portal, so that you can analyze the performance and usage of your application.</span></span> <span data-ttu-id="6d03d-105">Модель телеметрии стандартизирована. Это позволяет создавать сценарии мониторинга, независимые от платформы и языка.</span><span class="sxs-lookup"><span data-stu-id="6d03d-105">The telemetry model is standardized so that it is possible to create platform and language-independent monitoring.</span></span> 

<span data-ttu-id="6d03d-106">Данные, собранные Application Insights, моделируют типичный шаблон выполнения приложения:</span><span class="sxs-lookup"><span data-stu-id="6d03d-106">Data collected by Application Insights models this typical application execution pattern:</span></span>

![Модель приложений Application Insights](./media/application-insights-data-model/application-insights-data-model.png)

<span data-ttu-id="6d03d-108">Приведенные ниже типы телеметрии позволяют отслеживать выполнение приложения.</span><span class="sxs-lookup"><span data-stu-id="6d03d-108">The following types of telemetry are used to monitor the execution of your app.</span></span> <span data-ttu-id="6d03d-109">Пакет SDK для Application Insights автоматически собирает на платформе веб-приложений следующие три типа телеметрии:</span><span class="sxs-lookup"><span data-stu-id="6d03d-109">The following three types are typically automatically collected by the Application Insights SDK from the web application framework:</span></span>

* <span data-ttu-id="6d03d-110">[**Запрос.**](application-insights-data-model-request-telemetry.md) Используется для регистрации запроса, полученного приложением.</span><span class="sxs-lookup"><span data-stu-id="6d03d-110">[**Request**](application-insights-data-model-request-telemetry.md) - Generated to log a request received by your app.</span></span> <span data-ttu-id="6d03d-111">Например, веб-пакет SDK для Application Insights автоматически создает элемент телеметрии запроса для каждого HTTP-запроса, полученного веб-приложением.</span><span class="sxs-lookup"><span data-stu-id="6d03d-111">For example, the Application Insights web SDK automatically generates a Request telemetry item for each HTTP request that your web app receives.</span></span> 

    <span data-ttu-id="6d03d-112">**Операция** — это поток выполнений, которые обрабатывают запрос.</span><span class="sxs-lookup"><span data-stu-id="6d03d-112">An **Operation** is the threads of execution that processes a request.</span></span> <span data-ttu-id="6d03d-113">Вы также можете [написать код](app-insights-api-custom-events-metrics.md#trackrequest) для мониторинга других типов операций, таких как "пробуждение" в веб-заданиях, или функций, которые периодически обрабатывают данные.</span><span class="sxs-lookup"><span data-stu-id="6d03d-113">You can also [write code](app-insights-api-custom-events-metrics.md#trackrequest) to monitor other types of operation, such as a "wake up" in a web job or function that periodically processes data.</span></span>  <span data-ttu-id="6d03d-114">Каждая операция имеет идентификатор.</span><span class="sxs-lookup"><span data-stu-id="6d03d-114">Each operation has an ID.</span></span> <span data-ttu-id="6d03d-115">Его можно использовать, чтобы группировать (application-insights-correlation.md) все данные телеметрии, созданные во время обработки запроса приложением.</span><span class="sxs-lookup"><span data-stu-id="6d03d-115">This ID that can be used to [group]((application-insights-correlation.md) all telemetry generated while your app is processing the request.</span></span> <span data-ttu-id="6d03d-116">Каждая операция выполняется в течение определенного периода времени, после чего может завершиться успешно или сбоем.</span><span class="sxs-lookup"><span data-stu-id="6d03d-116">Each operation either succeeds or fails, and has a duration of time.</span></span>
* <span data-ttu-id="6d03d-117">[**Исключение.**](application-insights-data-model-exception-telemetry.md) Обычно представляет исключение, вызывающее сбой операции.</span><span class="sxs-lookup"><span data-stu-id="6d03d-117">[**Exception**](application-insights-data-model-exception-telemetry.md) - Typically represents an exception that causes an operation to fail.</span></span>
* <span data-ttu-id="6d03d-118">[**Зависимость.**](application-insights-data-model-dependency-telemetry.md) Представляет собой вызов из приложения к внешней службе или хранилищу, например REST API или SQL.</span><span class="sxs-lookup"><span data-stu-id="6d03d-118">[**Dependency**](application-insights-data-model-dependency-telemetry.md) - Represents a call from your app to an external service or storage such as a REST API or SQL.</span></span> <span data-ttu-id="6d03d-119">В ASP.NET вызовы зависимостей SQL определяются `System.Data`.</span><span class="sxs-lookup"><span data-stu-id="6d03d-119">In ASP.NET, dependency calls to SQL are defined by `System.Data`.</span></span> <span data-ttu-id="6d03d-120">Вызовы конечных точек HTTP определяются `System.Net`.</span><span class="sxs-lookup"><span data-stu-id="6d03d-120">Calls to HTTP endpoints are defined by `System.Net`.</span></span> 

<span data-ttu-id="6d03d-121">Application Insights предоставляет три дополнительных типа данных пользовательской телеметрии:</span><span class="sxs-lookup"><span data-stu-id="6d03d-121">Application Insights provides three additional data types for custom telemetry:</span></span>

* <span data-ttu-id="6d03d-122">[Трассировка.](application-insights-data-model-trace-telemetry.md) Реализует ведение журнала диагностики напрямую или через адаптер с помощью привычной платформы инструментирования, такой как `Log4Net` или `System.Diagnostics`.</span><span class="sxs-lookup"><span data-stu-id="6d03d-122">[Trace](application-insights-data-model-trace-telemetry.md) - used either directly, or through an adapter to implement diagnostics logging using an instrumentation framework that is familiar to you, such as `Log4Net` or `System.Diagnostics`.</span></span>
* <span data-ttu-id="6d03d-123">[Событие.](application-insights-data-model-event-telemetry.md) Обычно используется для записи взаимодействия пользователя со службой для анализа шаблона использования.</span><span class="sxs-lookup"><span data-stu-id="6d03d-123">[Event](application-insights-data-model-event-telemetry.md) - typically used to capture user interaction with your service, to analyze usage patterns.</span></span>
* <span data-ttu-id="6d03d-124">[Метрика.](application-insights-data-model-metric-telemetry.md) Используется для создания отчета о периодических скалярных измерениях.</span><span class="sxs-lookup"><span data-stu-id="6d03d-124">[Metric](application-insights-data-model-metric-telemetry.md) - used to report periodic scalar measurements.</span></span>

<span data-ttu-id="6d03d-125">Для каждого элемента телеметрии могут определяться [контекстные сведения](application-insights-data-model-context.md), такие как версия приложения и идентификатор сеанса пользователя. Контекст — это набор строго типизированных полей, который позволяет реализовывать определенные сценарии.</span><span class="sxs-lookup"><span data-stu-id="6d03d-125">Every telemetry item can define the [context information](application-insights-data-model-context.md) like application version or user session id. Context is a set of strongly typed fields that unblocks certain scenarios.</span></span> <span data-ttu-id="6d03d-126">Если версия приложения правильно инициализирована, Application Insights может обнаруживать новые закономерности в работе приложения, связанные с повторным развертыванием.</span><span class="sxs-lookup"><span data-stu-id="6d03d-126">When application version is properly initialized, Application Insights can detect new patterns in application behavior correlated with redeployment.</span></span> <span data-ttu-id="6d03d-127">Идентификатор сеанса можно использовать для определения последствий сбоя или проблемы для пользователей.</span><span class="sxs-lookup"><span data-stu-id="6d03d-127">Session id can be used to calculate the outage or an issue impact on users.</span></span> <span data-ttu-id="6d03d-128">Отдельный подсчет числа идентификаторов сеансов, связанных с определенным сбоем зависимости, трассировкой ошибки или критическим исключением, позволяет получить ясное представление о последствиях.</span><span class="sxs-lookup"><span data-stu-id="6d03d-128">Calculating distinct count of session id values for certain failed dependency, error trace or critical exception gives a good understanding of an impact.</span></span>

<span data-ttu-id="6d03d-129">Модель телеметрии Application Insights определяет способ [корреляции](application-insights-correlation.md) телеметрии с операцией, частью которой она является.</span><span class="sxs-lookup"><span data-stu-id="6d03d-129">Application Insights telemetry model defines a way to [correlate](application-insights-correlation.md) telemetry to the operation of which it’s a part.</span></span> <span data-ttu-id="6d03d-130">Например, запрос может выполнять вызовы базы данных SQL и записывать сведения о диагностике.</span><span class="sxs-lookup"><span data-stu-id="6d03d-130">For example, a request can make a SQL Database calls and recorded diagnostics info.</span></span> <span data-ttu-id="6d03d-131">Вы можете задать контекст корреляции для этих элементов телеметрии, которые попадут обратно в телеметрию запросов.</span><span class="sxs-lookup"><span data-stu-id="6d03d-131">You can set the correlation context for those telemetry items that tie it back to the request telemetry.</span></span>

## <a name="schema-improvements"></a><span data-ttu-id="6d03d-132">Усовершенствования схемы</span><span class="sxs-lookup"><span data-stu-id="6d03d-132">Schema improvements</span></span>

<span data-ttu-id="6d03d-133">Модель данных Application Insights представляет собой простой и эффективный способ моделирования телеметрии вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="6d03d-133">Application Insights data model is a simple and basic yet powerful way to model your application telemetry.</span></span> <span data-ttu-id="6d03d-134">Мы стремимся сохранить простоту модели, чтобы поддержать ключевые сценарии и обеспечить возможность расширения схемы для углубленного использования.</span><span class="sxs-lookup"><span data-stu-id="6d03d-134">We strive to keep the model simple and slim to support essential scenarios and allow to extend the schema for advanced use.</span></span>

<span data-ttu-id="6d03d-135">Чтобы сообщить о проблемах или предложениях, связанных с моделью данных или схемой, используйте репозиторий [ApplicationInsights-Home](https://github.com/Microsoft/ApplicationInsights-Home/labels/schema) GitHub.</span><span class="sxs-lookup"><span data-stu-id="6d03d-135">To report data model or schema problems and suggestions use GitHub [ApplicationInsights-Home](https://github.com/Microsoft/ApplicationInsights-Home/labels/schema) repository.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6d03d-136">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="6d03d-136">Next steps</span></span>

- [<span data-ttu-id="6d03d-137">API Application Insights для пользовательских событий и метрик</span><span class="sxs-lookup"><span data-stu-id="6d03d-137">Write custom telemetry</span></span>](app-insights-api-custom-events-metrics.md)
- <span data-ttu-id="6d03d-138">Вы можете узнать, как [расширять и фильтровать данные телеметрии](app-insights-api-filtering-sampling.md).</span><span class="sxs-lookup"><span data-stu-id="6d03d-138">Learn how to [extend and filter telemetry](app-insights-api-filtering-sampling.md).</span></span>
- <span data-ttu-id="6d03d-139">Используйте [выборку](app-insights-sampling.md), чтобы минимизировать объем данных телеметрии на основе модели данных.</span><span class="sxs-lookup"><span data-stu-id="6d03d-139">Use [sampling](app-insights-sampling.md) to minimize amount of telemetry based on data model.</span></span>
- <span data-ttu-id="6d03d-140">Ознакомление с [платформами](app-insights-platforms.md), поддерживаемыми Application Insights.</span><span class="sxs-lookup"><span data-stu-id="6d03d-140">Check out [platforms](app-insights-platforms.md) supported by Application Insights.</span></span>
