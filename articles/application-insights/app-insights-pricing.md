---
title: "тома aaaManage цены и данных для анализа приложения Azure | Документы Microsoft"
description: "Управление объемом данных телеметрии и контроль расходов в Application Insights."
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: ebd0d843-4780-4ff3-bc68-932aa44185f6
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 05/10/2017
ms.author: bwren
ms.openlocfilehash: 4621c989cd467735aefc48ec9547fcbe1b1ae41b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="manage-pricing-and-data-volume-in-application-insights"></a>Управление ценами и объемом данных в Application Insights


Цены на [Azure Application Insights][start] зависят от объема данных для каждого приложения. Низкий уровень использования во время разработки или для небольших приложения является бесплатно, скорее всего, toobe, поскольку скидку 1 ГБ ежемесячные данные телеметрии.

Каждый ресурс Application Insights характерный toohello счета для вашей подписки tooAzure и оплачивается как отдельная служба.

Доступно два тарифных плана. план по умолчанию Hello называется Basic. Вы можете выбрать для плана корпоративного hello, у которого оплата за сутки, но позволяет определенных дополнительных средств, таких как [непрерывный Экспорт](app-insights-export-telemetry.md).

При наличии вопросов о ценах работе Application Insights, при желании вы свободного toopost вопрос на нашем [форум](https://social.msdn.microsoft.com/Forums/en-US/home?forum=ApplicationInsights). 

## <a name="hello-price-plans"></a>планы цена Hello

В разделе hello [Application Insights странице цен] [ pricing] для текущей цены в валюте.

### <a name="basic-plan"></a>План "Базовый"

Базовый план Hello — по умолчанию hello при создании нового ресурса Application Insights и будет достаточно для большинства пользователей.

* В базовый план hello, взимается плата по объему данных: число байтов, полученных Application Insights телеметрии. Так как размер пакета данных hello несжатых данных JSON, Application Insights, полученных из приложения hello измеряется объем данных.
Для [табличные данные, импортированные в Analytics](https://docs.microsoft.com/en-us/azure/application-insights/app-insights-analytics-import), тома данных hello измеряется как hello несжатый размер файлов, отправленных tooApplication аналитики.  
* Ваш первый 1 ГБ для каждого приложения является бесплатной, поэтому если вы только что экспериментов или разработки, вы toopay toohave маловероятно, что.
* Данные [динамического потока метрик](app-insights-live-stream.md) не учитываются при расчете стоимости.
* [Непрерывный Экспорт](app-insights-export-telemetry.md) доступен для платы дополнительный ГБ в базовый план hello.

### <a name="enterprise-plan"></a>План "Корпоративный"

* В плане корпоративного hello приложение может использовать все функции hello Application Insights. [Непрерывный экспорт](app-insights-export-telemetry.md) и 

[Журнал соединитель Analytics](https://go.microsoft.com/fwlink/?LinkId=833039&amp;clcid=0x409) доступны все лишние бесплатно в плане корпоративного hello.
* Вы платите на одном узле, который отправляет данные телеметрии для приложения в плане корпоративного hello. 
 * *Узел* — это любой физический компьютер, виртуальная машина или экземпляр роли платформы как услуги, на котором размещено ваше приложение.
 * В число узлов не включаются компьютеры для разработки, клиентские браузеры и мобильные устройства.
 * Если приложение содержит несколько компонентов, отправляющих данные телеметрии, например веб-службу и рабочую роль сервера, такие компоненты учитываются отдельно.
 * Данные [Live Metrics Stream](app-insights-live-stream.md) не учитываются при расчете стоимости.* Сумма оплаты за подписку зависит от количества узлов, а не от количества приложений. Если у вас есть пять узлов, отправка данных телеметрии для 12 приложений, а затем hello плату для пяти узлов.
* Несмотря на то что суммы в тарифах указаны за целый месяц, плата взимается только за те часы, в течение которых узел отправлял данные телеметрии из приложения. Hello почасовой взимается ежемесячная плата в кавычках hello / 744 (hello количество часов в месяц 31 день).
* Для каждого обнаруженного узла на день выделяются данные объемом 200 МБ (с детализацией по часам). Размещение неиспользуемых данных не переносятся из одного дня toohello Далее.
 * При выборе hello параметр цены Enterprise каждая подписка получает ежедневный лимит данных на основе hello числа узлов, отправка данных телеметрии toohello ресурсы Application Insights в этой подписке. Поэтому при наличии 5 узлов, отправка данных весь день будут скидку пула ресурсов Application Insights hello tooall применения 1 ГБ в этой подписке. Не важно, если некоторые узлы отправляют больше данных, чем другие узлы hello включила данных общей для всех узлов. Если в заданный день ресурсы Application Insights hello получать больше данных, чем включается в hello размещения ежедневных данных для этой подписки, взимается плата за избыточные данные-GB hello. 
 * Суточные данные Hello рассчитывается как hello количество часов в hello дня (UTC), каждый узел отправляет данные телеметрии, разделенное на 24 раз 200 МБ. Поэтому при наличии четырех узлов, передачу данных телеметрии во время 15-hello 24 часа в день hello hello включены данные для этого дня будет ((4 x 15) / 24) x 200 МБ = 500 МБ. По цене hello 2.30 долларов США за ГБ избыточные данные плата hello бы 1,15 долл. США, если узлы hello отправки 1 ГБ данных в этот день.
 * Обратите внимание, что ежедневный лимит плана корпоративного hello не совместно с приложениями, для которых вы выбрали параметр Basic hello и неиспользуемые лимит не переносятся из ежедневных. 
* Ниже приведены некоторые примеры расчетов для вычисления количества узлов.
| Сценарий                               | Общее количество узлов за день |
|:---------------------------------------|:----------------:|
| 1 приложение использует 3 экземпляра службы приложений Azure и 1 виртуальный сервер. | 4. |
| 3 приложений, выполняющихся на 2 виртуальные машины и hello ресурсы Application Insights для этих приложений в hello той же подписке и в hello корпоративный план | 2 | 
| 4 приложения, ресурсы которого аналитики приложений находятся в hello одной подписке. Для каждого приложения выполняется по 2 экземпляра в течение 16 часов с низкой нагрузкой и по 4 экземпляра в течение 8 часов максимальной нагрузки. | 13,33 | 
| Облачные службы, у которых есть по 1 рабочей роли и 1 веб-роли, каждая их которых выполняется в 2 экземплярах. | 4. | 
| В кластере Service Fabric с 5 узлами работают 50 микрослужб, для каждой из которых запущено по 3 экземпляра. | 5|

* Hello узел точного подсчета поведение зависит от того, пакет SDK Application Insights приложения с помощью. 
  * В пакете SDK версии 2.2 и начиная, оба hello Application Insights [Core SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) или [Web SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) будет отчета каждый узел приложения, как узел, например hello имя компьютера для физического сервера и узлов виртуальных Машин или hello Имя экземпляра в случае hello облачных служб.  Здравствуйте, используется только исключения приложений только с помощью [.NET Core](https://dotnet.github.io/) и hello основной пакет SDK Application Insights, в котором регистр только один узел должны отображаться для всех узлов из-за отсутствия hello имя узла. 
  * Для более ранних версиях пакета SDK для hello, hello [Web SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights.Web/) будет вести себя так же, как hello более новой версии пакета SDK, однако hello [Core SDK](https://www.nuget.org/packages/Microsoft.ApplicationInsights/) сообщит только один узел, независимо от числа hello узлы фактического приложения. 
  * Обратите внимание: Если приложение использует hello SDK tooset roleInstance tooa пользовательское значение, по умолчанию это же значение будет использовать toodetermine hello количество узлов. 
  * Если вы используете новую версию пакета SDK с помощью приложения, который запускается из клиентских компьютеров или мобильных устройств, возможно, что hello количество узлов может возвращать номер, который очень большой (из hello большое количество клиентских компьютеров или мобильных устройств). 

### <a name="multi-step-web-tests"></a>Многошаговые веб-тесты

За [многошаговые веб-тесты](app-insights-monitor-web-app-availability.md#multi-step-web-tests) взимается дополнительная плата. Это относится tooweb тесты, которые выполняют последовательность действий. 

За обычную проверку связи на одной странице отдельная плата не взимается. Объем данных, переданных в ходе простого или многошагового теста, оплачивается так же, как другие данные телеметрии из вашего приложения.
 
## <a name="operations-management-suite-subscription-entitlement"></a>Права подписки Operations Management Suite

Как [недавно объявила о](https://blogs.technet.microsoft.com/msoms/2017/05/19/azure-application-insights-enterprise-as-part-of-operations-management-suite-subscription/), покупателей в Microsoft Operations Management Suite E1 и E2 находятся может tooget аналитики корпоративного приложения в качестве дополнительного компонента без дополнительных затрат. В частности каждая единица Operations Management Suite E1 и E2 содержит узел too1 правах hello планом Enterprise Application Insights. Как указано выше, каждый узел Application Insights включает в себя копирование too200 МБ данных, полученный в день (в отличие от приема данных аналитики журналов), с 90-дневный хранения без дополнительной платы. 

> [!NOTE]
> tooensure, чтобы получить это право, необходимо иметь ресурсы Application Insights в hello Enterprise ценовой план. Это право применяется только в качестве узлов, поэтому ресурсы Application Insights в базовый план hello не будет реализовать все преимущества. Обратите внимание, это право не будут видны на hello оценки стоимости, показано в функции hello + ценообразования колонку. 
>
 
## <a name="review-pricing-plans-and-estimate-costs"></a>Просмотр тарифных планов и расчет стоимости

Applicaition аналитики позволяет легко toounderstand hello доступные ценовые и какие hello затраты, вероятно, являются основываться на последние шаблоны использования. Начните с открытия hello **компонентов + цены** колонки в hello ресурс Application Insights в hello портала Azure:

![Выберите "Цены".](./media/app-insights-pricing/01-pricing.png)

**а.** Просмотрите данных тома за месяц hello. Сюда включаются все данные hello получения и хранения (после любого [выборки](app-insights-sampling.md) сервер и клиентские приложения и тестов доступности.

**б.** Отдельно плата взимается за [многошаговые веб-тесты](app-insights-monitor-web-app-availability.md#multi-step-web-tests). (Сюда не входят доступности простых тестов, которые включены в платы тома данных hello).

**в.** Включение плана корпоративного hello.

**г.** Пролистайте тома данных tooview параметры управления toodata для hello последний месяц, задать ежедневный лимит или приема выборки.

Расходы аналитики приложения добавляются tooyour счетах Azure. Вы увидите подробные сведения о Azure выставлять счета на выставление счетов раздел hello портал Azure или в hello hello [Azure Billing Portal](https://account.windowsazure.com/Subscriptions). 

![Hello стороны выберите пункт меню выставления счетов.](./media/app-insights-pricing/02-billing.png)

## <a name="data-rate"></a>Скорость передачи данных
Существует три способа, в какие hello ограничено отправлять данные тома:

* **Выборка:** этот механизм может использоваться сокращения объема hello телеметрии, отправленные на серверные и клиентские приложения с минимальными искажения метрики. Это основное средство hello tootune hello объем данных. Дополнительные сведения см. в статье [Выборка в Application Insights](app-insights-sampling.md). 
* **Ежедневный лимит:** при создании ресурс Application Insights hello портал Azure это имеет значение too500 ГБ/день. Здравствуйте, по умолчанию при создании ресурса Application Insights из Visual Studio, является малый (только 32,3 МБ в день), являющийся предназначен только toofaciliate тестирования. В этом случае предполагается, что этот пользователь hello вызовет ежедневный лимит hello перед развертыванием в производственной среде приложение hello. ограничение на максимальный Hello является 500 ГБ/день, если вы запросили выше более высокого уровня трафика приложения. Проявлять осторожность при задании ежедневный лимит hello, как должно быть намерениям **никогда не toohit hello ежедневный лимит**, поскольку затем потерять данные hello оставшейся части дня hello и быть не удается toomonitor приложения. toochange его, используйте hello ежедневного тома cap колонке ссылки в колонке hello управление томами данных (см. ниже). Обратите внимание, что для некоторых типов подписки предусмотрен кредит, который нельзя использовать для Application Insights. Если подписки hello тратит ограничения, ежедневно hello cap колонке будет иметь инструкции как tooremove ее и включить hello ежедневно toobe крепления возникает за пределами 32,3 МБ в день.  
* **Регулирование:** этого ограничения hello данных скорость too32 k событий в секунду, Усредненное дольше 1 минуты. 


*Что произойдет, если мое приложение превышает hello скорости?*

* Hello объема данных, который приложение отправляет оценивается каждую минуту. Если значение счетчика превышает скорость hello в секунду, Усредненное значение за минуту hello, hello сервер отклоняет некоторых запросов. пакет SDK для Hello буферов данных hello, затем производит tooresend, рассредоточения скачков через несколько минут. Если приложение постоянно отправляет данные на выше скорости hello, некоторые данные будут удалены. (hello ASP.NET, Java и пакет SDK JavaScript повторите tooresend таким образом, других пакетов SDK может просто регулированию сброса данных.) Если произошло регулирование, вы увидите соответствующее предупреждение.

*Как узнать объем данных, отправляемых приложением?*

* Откройте hello **управление томами данных** колонке toosee hello ежедневные данные тома диаграммы. 
* Или же в обозревателе метрик добавьте новую диаграмму и в качестве метрики выберите **том точек данных** . Переключитесь на представление "Группировка" и сгруппируйте по **типу данных**.

## <a name="tooreduce-your-data-rate"></a>tooreduce скорость данных
Ниже приведены некоторые вы можете делать tooreduce тома данных.

* Используйте [выборку](app-insights-sampling.md). Эта технология снижает скорость передачи данных без наклон показатели и не прерывая toonavigate возможность hello между связанные элементы в поиске. В серверных приложениях эта технология включена автоматически.
* [Максимальное число вызовов Ajax, которые могут возвратить hello](app-insights-javascript.md#detailed-configuration) в каждом режиме или коммутатора функцию создания отчетов Ajax.
* Отключите модули сбора, которые вы не используете, [отредактировав файл ApplicationInsights.config](app-insights-configuration-with-applicationinsights-config.md). Например, вы можете решить, что счетчики производительности или данные зависимостей не являются необходимыми.
* Разделение ключей телеметрии tooseparate инструментирования. 
* Агрегируйте метрики заранее. Если вызовы tooTrackMetric поместил в приложении, можно уменьшить трафик с помощью hello перегрузку, которая принимает выбранное вычисление hello среднее и стандартное отклонение пакета измерений. Кроме того, вы можете использовать [пакет предварительных статистических вычислений](https://www.myget.org/gallery/applicationinsights-sdk-labs).

## <a name="managing-hello-maximum-daily-data-volume"></a>Управление hello максимальное дневной объем данных

Можно использовать hello ежедневного тома cap toolimit hello данные, собранные, но если hello cap выполняется, это приведет к потере всех telemetery, отправленных из приложения hello оставшейся hello дня. Это **не рекомендуется использовать** toohave вашего приложения toohit hello ежедневный лимит с момента, не удается tootrack hello работоспособности и производительности приложения после его достижении. 

Вместо этого используйте [выборки](app-insights-sampling.md) tootune hello тома toohello уровень данных, например и использовать ежедневный лимит hello только в крайнем «» в случае, если отправка гораздо выше тома telemetery неожиданно запуска приложения. 

Щелкните toochange hello ежедневный лимит, в hello Настройка раздела ресурса приложения Insihgts, **управление томами данных** затем **ежедневный лимит**.

![Настройка hello ежедневный лимит телеметрии тома](./media/app-insights-pricing/daily-cap.png) 

## <a name="sampling"></a>Выборка
[Выборка](app-insights-sampling.md) — это метод уменьшение частоты hello, по которому телеметрии отправляется tooyour приложения, при этом сохраняется возможность toofind hello связанных событий во время выполнения диагностики поиска и подсчитывает остались правильного события. 

Выборка — это эффективный способ tooreduce расходов и оставаться в пределах квоты по месяцам. Hello алгоритм выборки сохраняет связанные элементы телеметрии, чтобы, например, при использовании поиска можно найти hello запроса связанных tooa конкретного исключения. алгоритм Hello также сохраняет правильный подсчет числа элементов, чтобы увидеть правильные значения hello в обозревателе метрики для частоты запросов, ставки исключения, а также другие счетчики.

Существует несколько видов выборки.

* [Адаптивная выборки](app-insights-sampling.md) hello по умолчанию для пакета SDK ASP.NET, который автоматически настраивает toohello объем телеметрии, отправляет приложение hello. Он работает автоматически в hello SDK в веб-приложении, поэтому hello телеметрии трафик сети hello сокращается. 
* *Выборка приема* является альтернативой, работающая в hello точке, где данные телеметрии из приложения вводит hello служба Application Insights. Это не повлияет на hello объем телеметрии, отправляемых из приложения, но оно уменьшает тома hello сохраняются службой hello. Он используется tooreduce hello квоты, используемые телеметрии из браузеров и других пакетов SDK.

tooset приема выборки набора управления hello в колонке цены hello:

![Из hello квоты и расценки колонка щелкните плитку образцы hello и выберите дробь выборки.](./media/app-insights-pricing/04.png)

> [!WARNING]
> стоечный модуль выборки данных Hello определяет только значение hello приема выборки. Описатель не отражает частоту выборки hello, которая применяется hello пакет SDK Application Insights в вашем приложении. Если входящие телеметрии hello уже выборок значений в пакет SDK для hello, приема выборки не применяется.
> 

выборки скорость независимо от того, где он был применен, используйте фактические hello toodiscover [аналитический запрос](app-insights-analytics.md) подобные:

    requests | where timestamp > ago(1d)
    | summarize 100/avg(itemCount) by bin(timestamp, 1h) 
    | render areachart 

В каждом сохраняются записи, `itemCount` указывает номер исходной записи, которые он представляет равно too1 + hello число предыдущих записей отклоненных hello. 


## <a name="automation"></a>Служба автоматизации

Можно написать скрипт tooset hello цена план, с помощью управления ресурсами Azure. [Подробнее](app-insights-powershell.md#price).

## <a name="limits-summary"></a>Сводная таблица ограничений
[!INCLUDE [application-insights-limits](../../includes/application-insights-limits.md)]

## <a name="next-steps"></a>Дальнейшие действия

* [Выборка](app-insights-sampling.md)

<!--Link references-->

[api]: app-insights-api-custom-events-metrics.md
[apiproperties]: app-insights-api-custom-events-metrics.md#properties
[start]: app-insights-overview.md
[pricing]: http://azure.microsoft.com/pricing/details/application-insights/

