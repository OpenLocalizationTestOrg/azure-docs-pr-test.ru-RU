---
title: "aaaMonitor доступности и скорости реагирования любого веб-сайта | Документы Microsoft"
description: "Настройка веб-тестов в Application Insights. Получение оповещений, когда веб-сайт становится недоступным или медленно реагирует на запросы."
services: application-insights
documentationcenter: 
author: SoubhagyaDash
manager: carmonm
ms.assetid: 46dc13b4-eb2e-4142-a21c-94a156f760ee
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/25/2017
ms.author: bwren
ms.openlocfilehash: 4c5425c948770cc57a648ca50e217c75ac75fbd7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-availability-and-responsiveness-of-any-web-site"></a><span data-ttu-id="c41b8-104">Наблюдение за доступностью и скоростью реагирования веб-сайта</span><span class="sxs-lookup"><span data-stu-id="c41b8-104">Monitor availability and responsiveness of any web site</span></span>
<span data-ttu-id="c41b8-105">После развертывания веб-приложения или сервера tooany веб-сайтов, можно настроить toomonitor тесты его доступности и скорости реагирования.</span><span class="sxs-lookup"><span data-stu-id="c41b8-105">After you've deployed your web app or web site tooany server, you can set up tests toomonitor its availability and responsiveness.</span></span> <span data-ttu-id="c41b8-106">[Azure Application Insights](app-insights-overview.md) отправляет веб-запросы, приложение tooyour с регулярными интервалами из точек вокруг Здравствуй, мир!.</span><span class="sxs-lookup"><span data-stu-id="c41b8-106">[Azure Application Insights](app-insights-overview.md) sends web requests tooyour application at regular intervals from points around hello world.</span></span> <span data-ttu-id="c41b8-107">Эта надстройка предупреждает вас, если приложение реагирует медленно или не реагирует вообще.</span><span class="sxs-lookup"><span data-stu-id="c41b8-107">It alerts you if your application doesn't respond, or responds slowly.</span></span>

<span data-ttu-id="c41b8-108">Доступность тестов можно настроить для любой HTTP или конечной точки HTTPS, доступном hello общедоступный Интернет.</span><span class="sxs-lookup"><span data-stu-id="c41b8-108">You can set up availability tests for any HTTP or HTTPS endpoint that is accessible from hello public internet.</span></span> <span data-ttu-id="c41b8-109">У вас нет tooadd всего toohello веб-сайта, которое вы тестируете.</span><span class="sxs-lookup"><span data-stu-id="c41b8-109">You don't have tooadd anything toohello web site you're testing.</span></span> <span data-ttu-id="c41b8-110">Он даже не toobe веб-узла: можно проверить REST API службы, от которого зависят.</span><span class="sxs-lookup"><span data-stu-id="c41b8-110">It doesn't even have toobe your site: you could test a REST API service on which you depend.</span></span>

<span data-ttu-id="c41b8-111">Существует два вида тестов доступности:</span><span class="sxs-lookup"><span data-stu-id="c41b8-111">There are two types of availability tests:</span></span>

* <span data-ttu-id="c41b8-112">[URL-адрес проверки связи](#create): простой тест, созданный в hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="c41b8-112">[URL ping test](#create): a simple test that you can create in hello Azure portal.</span></span>
* <span data-ttu-id="c41b8-113">[Многоэтапный веб-теста](#multi-step-web-tests): создаваемая в Visual Studio Enterprise и передачи toohello портала.</span><span class="sxs-lookup"><span data-stu-id="c41b8-113">[Multi-step web test](#multi-step-web-tests): which you create in Visual Studio Enterprise and upload toohello portal.</span></span>

<span data-ttu-id="c41b8-114">Можно создать копии too25 тестов доступности для каждого ресурса приложения.</span><span class="sxs-lookup"><span data-stu-id="c41b8-114">You can create up too25 availability tests per application resource.</span></span>

## <span data-ttu-id="c41b8-115"><a name="create"></a>1. Открытие ресурса для отчетов по тестам доступности</span><span class="sxs-lookup"><span data-stu-id="c41b8-115"><a name="create"></a>1. Open a resource for your availability test reports</span></span>

<span data-ttu-id="c41b8-116">**Если вы уже настроили Application Insights** для веб-приложения откройте его ресурс Application Insights в hello [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c41b8-116">**If you have already configured Application Insights** for your web app, open its Application Insights resource in hello [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="c41b8-117">**Или, если требуется toosee отчетов в новый ресурс,** зарегистрироваться слишком[Microsoft Azure](http://azure.com), go toohello [портал Azure](https://portal.azure.com)и создать ресурс Application Insights.</span><span class="sxs-lookup"><span data-stu-id="c41b8-117">**Or, if you want toosee your reports in a new resource,** sign up too[Microsoft Azure](http://azure.com), go toohello [Azure portal](https://portal.azure.com), and create an Application Insights resource.</span></span>

![Создать > Application Insights](./media/app-insights-monitor-web-app-availability/11-new-app.png)

<span data-ttu-id="c41b8-119">Нажмите кнопку **все ресурсы** tooopen hello Обзор колонке hello новый ресурс.</span><span class="sxs-lookup"><span data-stu-id="c41b8-119">Click **All resources** tooopen hello Overview blade for hello new resource.</span></span>

## <span data-ttu-id="c41b8-120"><a name="setup"></a>2. Создание теста проверки связи с URL-адресом</span><span class="sxs-lookup"><span data-stu-id="c41b8-120"><a name="setup"></a>2. Create a URL ping test</span></span>
<span data-ttu-id="c41b8-121">Откройте колонку доступности hello и добавить тест.</span><span class="sxs-lookup"><span data-stu-id="c41b8-121">Open hello Availability blade and add a test.</span></span>

![Заливка по крайней мере hello URL-адрес веб-сайта](./media/app-insights-monitor-web-app-availability/13-availability.png)

* <span data-ttu-id="c41b8-123">**URL-адрес Hello** может быть любой веб-страницы требуется tootest, но он должен быть виден из hello общедоступный Интернет.</span><span class="sxs-lookup"><span data-stu-id="c41b8-123">**hello URL** can be any web page you want tootest, but it must be visible from hello public internet.</span></span> <span data-ttu-id="c41b8-124">Hello URL-адрес может включать строку запроса.</span><span class="sxs-lookup"><span data-stu-id="c41b8-124">hello URL can include a query string.</span></span> <span data-ttu-id="c41b8-125">поэтому вы, например, сможете немного поупражняться в работе с базой данных.</span><span class="sxs-lookup"><span data-stu-id="c41b8-125">So, for example, you can exercise your database a little.</span></span> <span data-ttu-id="c41b8-126">Если URL-адрес hello разрешается tooa перенаправления, мы дальнейшие too10 перенаправления.</span><span class="sxs-lookup"><span data-stu-id="c41b8-126">If hello URL resolves tooa redirect, we follow it up too10 redirects.</span></span>
* <span data-ttu-id="c41b8-127">**Синтаксический анализ зависимые запросы**: Если этот флажок установлен, тест hello запрашивает образы, сценарии, файлы стилей и другие файлы, которые являются частью веб-страницу приветствия при тестировании.</span><span class="sxs-lookup"><span data-stu-id="c41b8-127">**Parse dependent requests**: If this option is checked, hello test requests images, scripts, style files, and other files that are part of hello web page under test.</span></span> <span data-ttu-id="c41b8-128">Hello время записи ответа включает tooget время, затраченное hello эти файлы.</span><span class="sxs-lookup"><span data-stu-id="c41b8-128">hello recorded response time includes hello time taken tooget these files.</span></span> <span data-ttu-id="c41b8-129">Hello тест завершается неудачей, если эти ресурсы не могут быть загружены успешно в течение периода ожидания hello для всего теста hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-129">hello test fails if all these resources cannot be successfully downloaded within hello timeout for hello whole test.</span></span> 

    <span data-ttu-id="c41b8-130">Если hello флажок не установлен, hello теста только запрашивает hello файл по URL-АДРЕСУ hello указанной.</span><span class="sxs-lookup"><span data-stu-id="c41b8-130">If hello option is not checked, hello test only requests hello file at hello URL you specified.</span></span>
* <span data-ttu-id="c41b8-131">**Разрешить повторные попытки**: Если этот флажок установлен, при сбое теста hello, он будет предпринята повторная попытка через небольшой промежуток.</span><span class="sxs-lookup"><span data-stu-id="c41b8-131">**Enable retries**:  If this option is checked, when hello test fails, it is retried after a short interval.</span></span> <span data-ttu-id="c41b8-132">Сообщение об ошибке отобразится только после трех неудачных попыток подряд.</span><span class="sxs-lookup"><span data-stu-id="c41b8-132">A failure is reported only if three successive attempts fail.</span></span> <span data-ttu-id="c41b8-133">Затем последующие тесты выполняются с частотой hello обычного теста.</span><span class="sxs-lookup"><span data-stu-id="c41b8-133">Subsequent tests are then performed at hello usual test frequency.</span></span> <span data-ttu-id="c41b8-134">Повторите попытку временно приостанавливается до достижения успеха Далее hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-134">Retry is temporarily suspended until hello next success.</span></span> <span data-ttu-id="c41b8-135">Это правило действует в любом расположении тестирования.</span><span class="sxs-lookup"><span data-stu-id="c41b8-135">This rule is applied independently at each test location.</span></span> <span data-ttu-id="c41b8-136">Этот вариант является рекомендуемым.</span><span class="sxs-lookup"><span data-stu-id="c41b8-136">We recommend this option.</span></span> <span data-ttu-id="c41b8-137">В среднем около 80 % неудачных попыток решаются при повторной попытке.</span><span class="sxs-lookup"><span data-stu-id="c41b8-137">On average, about 80% of failures disappear on retry.</span></span>
* <span data-ttu-id="c41b8-138">**Периодичность проверки**: задает, как часто hello тест из расположения каждого теста.</span><span class="sxs-lookup"><span data-stu-id="c41b8-138">**Test frequency**: Sets how often hello test is run from each test location.</span></span> <span data-ttu-id="c41b8-139">При частоте пять минут и с пятью тестовыми расположениями ваш сайт будет проверяться в среднем каждую минуту.</span><span class="sxs-lookup"><span data-stu-id="c41b8-139">With a frequency of five minutes and five test locations, your site is tested on average every minute.</span></span>
* <span data-ttu-id="c41b8-140">**Тестовых расположений** являются hello помещает где наши серверы отправляют запросы tooyour URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="c41b8-140">**Test locations** are hello places from where our servers send web requests tooyour URL.</span></span> <span data-ttu-id="c41b8-141">Выберите несколько расположений, чтобы можно было различать проблемы веб-сайта и сетевые проблемы.</span><span class="sxs-lookup"><span data-stu-id="c41b8-141">Choose more than one so that you can distinguish problems in your website from network issues.</span></span> <span data-ttu-id="c41b8-142">Можно выбрать копирование too16 расположения.</span><span class="sxs-lookup"><span data-stu-id="c41b8-142">You can select up too16 locations.</span></span>
* <span data-ttu-id="c41b8-143">**Критерии успешного завершения**:</span><span class="sxs-lookup"><span data-stu-id="c41b8-143">**Success criteria**:</span></span>

    <span data-ttu-id="c41b8-144">**Время ожидания теста**: уменьшить это значение toobe, оповещения о замедление отклика.</span><span class="sxs-lookup"><span data-stu-id="c41b8-144">**Test timeout**: Decrease this value toobe alerted about slow responses.</span></span> <span data-ttu-id="c41b8-145">тест Hello подсчитывается как сбой, если в течение этого периода не были получены ответы hello с веб-узла.</span><span class="sxs-lookup"><span data-stu-id="c41b8-145">hello test is counted as a failure if hello responses from your site have not been received within this period.</span></span> <span data-ttu-id="c41b8-146">Если вы выбрали **проанализировать зависимые запросы**, затем все hello изображения, файлы стилей, сценарии и другие зависимые ресурсы необходимо получено в течение этого периода.</span><span class="sxs-lookup"><span data-stu-id="c41b8-146">If you selected **Parse dependent requests**, then all hello images, style files, scripts, and other dependent resources must have been received within this period.</span></span>

    <span data-ttu-id="c41b8-147">**HTTP-ответа**: hello, вернул код состояния, который учитывается как успех.</span><span class="sxs-lookup"><span data-stu-id="c41b8-147">**HTTP response**: hello returned status code that is counted as a success.</span></span> <span data-ttu-id="c41b8-148">200 — hello код, который указывает, возвращена обычной веб-страницы.</span><span class="sxs-lookup"><span data-stu-id="c41b8-148">200 is hello code that indicates that a normal web page has been returned.</span></span>

    <span data-ttu-id="c41b8-149">**Совпадение содержимого**: строка, например «Добро пожаловать!».</span><span class="sxs-lookup"><span data-stu-id="c41b8-149">**Content match**: a string, like "Welcome!"</span></span> <span data-ttu-id="c41b8-150">Проверим наличие точного совпадения (с учетом регистра) в каждом ответе.</span><span class="sxs-lookup"><span data-stu-id="c41b8-150">We test that an exact case-sensitive match occurs in every response.</span></span> <span data-ttu-id="c41b8-151">Это должна быть строка обычного текста без подстановочных знаков.</span><span class="sxs-lookup"><span data-stu-id="c41b8-151">It must be a plain string, without wildcards.</span></span> <span data-ttu-id="c41b8-152">Помните, что если изменения содержимого страницы может потребоваться tooupdate его.</span><span class="sxs-lookup"><span data-stu-id="c41b8-152">Don't forget that if your page content changes you might have tooupdate it.</span></span>
* <span data-ttu-id="c41b8-153">**Оповещения** по умолчанию отправляются tooyou в случае сбоев в трех местах более пяти минут.</span><span class="sxs-lookup"><span data-stu-id="c41b8-153">**Alerts** are, by default, sent tooyou if there are failures in three locations over five minutes.</span></span> <span data-ttu-id="c41b8-154">Сбой в одном месте — toobe скорее всего, проблема с сетью, а не на проблему с веб-узла.</span><span class="sxs-lookup"><span data-stu-id="c41b8-154">A failure in one location is likely toobe a network problem, and not a problem with your site.</span></span> <span data-ttu-id="c41b8-155">Но вы можете изменить дополнительные toobe пороговое значение hello или меньше символов и можно также изменений, hello сообщения электронной почты должны отправляться.</span><span class="sxs-lookup"><span data-stu-id="c41b8-155">But you can change hello threshold toobe more or less sensitive, and you can also change who hello emails should be sent to.</span></span>

    <span data-ttu-id="c41b8-156">Можно настроить вызов [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md), активируемый оповещением.</span><span class="sxs-lookup"><span data-stu-id="c41b8-156">You can set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span> <span data-ttu-id="c41b8-157">(Обратите внимание, что в настоящее время параметры запроса не передаются как свойства.)</span><span class="sxs-lookup"><span data-stu-id="c41b8-157">(But note that, at present, query parameters are not passed through as Properties.)</span></span>

### <a name="test-more-urls"></a><span data-ttu-id="c41b8-158">Тестирование дополнительных URL-адресов</span><span class="sxs-lookup"><span data-stu-id="c41b8-158">Test more URLs</span></span>
<span data-ttu-id="c41b8-159">Добавьте дополнительные тесты.</span><span class="sxs-lookup"><span data-stu-id="c41b8-159">Add more tests.</span></span> <span data-ttu-id="c41b8-160">Например в дополнение tootesting на домашней странице вы может убедитесь, что базы данных выполняется путем проверки hello URL-адрес для поиска.</span><span class="sxs-lookup"><span data-stu-id="c41b8-160">For example, In addition tootesting your home page, you can make sure your database is running by testing hello URL for a search.</span></span>


## <span data-ttu-id="c41b8-161"><a name="monitor"></a>3. Просмотр результатов теста доступности</span><span class="sxs-lookup"><span data-stu-id="c41b8-161"><a name="monitor"></a>3. See your availability test results</span></span>

<span data-ttu-id="c41b8-162">Через несколько минут, нажмите кнопку **обновление** toosee результатов теста.</span><span class="sxs-lookup"><span data-stu-id="c41b8-162">After a few minutes, click **Refresh** toosee test results.</span></span> 

![Сводки результатов в колонке домашней hello](./media/app-insights-monitor-web-app-availability/14-availSummary-3.png)

<span data-ttu-id="c41b8-164">Hello scatterplot показаны примеры hello результатов теста, имеющих сведений диагностики шаг теста в них.</span><span class="sxs-lookup"><span data-stu-id="c41b8-164">hello scatterplot shows samples of hello test results that have diagnostic test-step detail in them.</span></span> <span data-ttu-id="c41b8-165">Обработчик тестов Hello хранит диагностических сведений для тестов со сбоями.</span><span class="sxs-lookup"><span data-stu-id="c41b8-165">hello test engine stores diagnostic detail for tests that have failures.</span></span> <span data-ttu-id="c41b8-166">Сведения диагностики хранятся для успешные тесты для подмножества выполнений hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-166">For successful tests, diagnostic details are stored for a subset of hello executions.</span></span> <span data-ttu-id="c41b8-167">Наведите курсор на любую hello точек зеленый или красный toosee hello теста timestamp, продолжительность теста, расположение и имя теста.</span><span class="sxs-lookup"><span data-stu-id="c41b8-167">Hover over any of hello green/red dots toosee hello test timestamp, test duration, location, and test name.</span></span> <span data-ttu-id="c41b8-168">Нажимайте кнопку до любой точки в сведения hello точечной диаграммы toosee hello hello результата теста.</span><span class="sxs-lookup"><span data-stu-id="c41b8-168">Click through any dot in hello scatter plot toosee hello details of hello test result.</span></span>  

<span data-ttu-id="c41b8-169">Выберите конкретный тест, расположение, или уменьшить время hello периода toosee Дополнительные результаты вокруг hello интересующий вас период времени.</span><span class="sxs-lookup"><span data-stu-id="c41b8-169">Select a particular test, location, or reduce hello time period toosee more results around hello time period of interest.</span></span> <span data-ttu-id="c41b8-170">Используйте обозреватель поиска toosee результатов из всех выполнений, или аналитика запросы toorun пользовательские отчеты на основе этих данных.</span><span class="sxs-lookup"><span data-stu-id="c41b8-170">Use Search Explorer toosee results from all executions, or use Analytics queries toorun custom reports on this data.</span></span>

<span data-ttu-id="c41b8-171">В дополнение toohello необработанных результатов существует две метрики доступности в обозревателе метрик.</span><span class="sxs-lookup"><span data-stu-id="c41b8-171">In addition toohello raw results, there are two Availability metrics in Metrics Explorer:</span></span> 

1. <span data-ttu-id="c41b8-172">Доступности: Процент hello тесты, которые были успешно, через все выполнения теста.</span><span class="sxs-lookup"><span data-stu-id="c41b8-172">Availability: Percentage of hello tests that were successful, across all test executions.</span></span> 
2. <span data-ttu-id="c41b8-173">Продолжительность теста. Средняя длительность всех тестов.</span><span class="sxs-lookup"><span data-stu-id="c41b8-173">Test Duration: Average test duration across all test executions.</span></span>

<span data-ttu-id="c41b8-174">Можно применить фильтры на имя теста hello, тенденции tooanalyze расположение конкретного теста и/или расположение.</span><span class="sxs-lookup"><span data-stu-id="c41b8-174">You can apply filters on hello test name, location tooanalyze trends of a particular test and/or location.</span></span>

## <span data-ttu-id="c41b8-175"><a name="edit"></a> Изменение и проверка тестов</span><span class="sxs-lookup"><span data-stu-id="c41b8-175"><a name="edit"></a> Inspect and edit tests</span></span>

<span data-ttu-id="c41b8-176">На странице сводки hello выберите определенного теста.</span><span class="sxs-lookup"><span data-stu-id="c41b8-176">From hello summary page, select a specific test.</span></span> <span data-ttu-id="c41b8-177">Здесь можно просмотреть определенные результаты, а также изменить или временно отключить тест.</span><span class="sxs-lookup"><span data-stu-id="c41b8-177">There, you can see its specific results, and edit or temporarily disable it.</span></span>

![Изменение или отключение веб-теста](./media/app-insights-monitor-web-app-availability/19-availEdit-3.png)

<span data-ttu-id="c41b8-179">Может потребоваться тестов доступности toodisable или hello оповещения, правила, связанные с ними при выполнении обслуживания для службы.</span><span class="sxs-lookup"><span data-stu-id="c41b8-179">You might want toodisable availability tests or hello alert rules associated with them while you are performing maintenance on your service.</span></span> 

## <span data-ttu-id="c41b8-180"><a name="failures"></a>При возникновении сбоев</span><span class="sxs-lookup"><span data-stu-id="c41b8-180"><a name="failures"></a>If you see failures</span></span>
<span data-ttu-id="c41b8-181">Щелкните красную точку.</span><span class="sxs-lookup"><span data-stu-id="c41b8-181">Click a red dot.</span></span>

![Щелкните красную точку.](./media/app-insights-monitor-web-app-availability/open-instance-3.png)


<span data-ttu-id="c41b8-183">С помощью результатов тестов доступности можно сделать следующее:</span><span class="sxs-lookup"><span data-stu-id="c41b8-183">From an availability test result, you can:</span></span>

* <span data-ttu-id="c41b8-184">Проверьте hello ответ, полученный от сервера.</span><span class="sxs-lookup"><span data-stu-id="c41b8-184">Inspect hello response received from your server.</span></span>
* <span data-ttu-id="c41b8-185">Откройте hello телеметрии, отправленные сервером приложения во время обработки экземпляра hello невыполненных запросов.</span><span class="sxs-lookup"><span data-stu-id="c41b8-185">Open hello telemetry sent by your server app while processing hello failed request instance.</span></span>
* <span data-ttu-id="c41b8-186">Войдите в проблему или рабочих элементов в Git или VSTS проблема tootrack hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-186">Log an issue or work item in Git or VSTS tootrack hello problem.</span></span> <span data-ttu-id="c41b8-187">Hello ошибок будет содержать событие toothis связи.</span><span class="sxs-lookup"><span data-stu-id="c41b8-187">hello bug will contain a link toothis event.</span></span>
* <span data-ttu-id="c41b8-188">Привет открыть результат веб-теста в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c41b8-188">Open hello web test result in Visual Studio.</span></span>


<span data-ttu-id="c41b8-189">*Кажется, что все работает правильно, но выдается отчет об ошибке?*</span><span class="sxs-lookup"><span data-stu-id="c41b8-189">*Looks OK but reported as a failure?*</span></span> <span data-ttu-id="c41b8-190">Проверьте все образы hello, сценарии, таблицы стилей и другие файлы, загруженные страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="c41b8-190">Check all hello images, scripts, style sheets, and any other files loaded by hello page.</span></span> <span data-ttu-id="c41b8-191">Если любой из них происходит сбой, hello теста учитывается как сбой, даже если ОК загрузке hello html для главной страницы.</span><span class="sxs-lookup"><span data-stu-id="c41b8-191">If any of them fails, hello test is reported as failed, even if hello main html page loads OK.</span></span>

<span data-ttu-id="c41b8-192">*Связанные элементы отсутствуют?*</span><span class="sxs-lookup"><span data-stu-id="c41b8-192">*No related items?*</span></span> <span data-ttu-id="c41b8-193">Если служба Application Insights настроена для серверного приложения, возможно, это произошло из-за [выборки](app-insights-sampling.md) в операции.</span><span class="sxs-lookup"><span data-stu-id="c41b8-193">If you have Application Insights set up for your server-side application, that may be because [sampling](app-insights-sampling.md) is in operation.</span></span> 

## <a name="multi-step-web-tests"></a><span data-ttu-id="c41b8-194">Многошаговые веб-тесты</span><span class="sxs-lookup"><span data-stu-id="c41b8-194">Multi-step web tests</span></span>
<span data-ttu-id="c41b8-195">Вы можете отслеживать сценарий, который содержит последовательность URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="c41b8-195">You can monitor a scenario that involves a sequence of URLs.</span></span> <span data-ttu-id="c41b8-196">Например при наблюдении за продажу веб-сайта, можно проверить, добавление элементов toohello корзину работает правильно.</span><span class="sxs-lookup"><span data-stu-id="c41b8-196">For example, if you are monitoring a sales website, you can test that adding items toohello shopping cart works correctly.</span></span>

> [!NOTE] 
> <span data-ttu-id="c41b8-197">За многошаговые веб-тесты взимается плата.</span><span class="sxs-lookup"><span data-stu-id="c41b8-197">There is a charge for multi-step web tests.</span></span> <span data-ttu-id="c41b8-198">См. [таблицу расценок](http://azure.microsoft.com/pricing/details/application-insights/).</span><span class="sxs-lookup"><span data-stu-id="c41b8-198">[Pricing scheme](http://azure.microsoft.com/pricing/details/application-insights/).</span></span>
> 

<span data-ttu-id="c41b8-199">toocreate нескольких шагов теста вы запись hello сценарий с помощью Visual Studio Enterprise, а затем отправьте hello записи tooApplication аналитики.</span><span class="sxs-lookup"><span data-stu-id="c41b8-199">toocreate a multi-step test, you record hello scenario by using Visual Studio Enterprise, and then upload hello recording tooApplication Insights.</span></span> <span data-ttu-id="c41b8-200">Application Insights воспроизводит hello сценарий с интервалами и проверяет ответы hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-200">Application Insights replays hello scenario at intervals and verifies hello responses.</span></span>

> [!NOTE]
> <span data-ttu-id="c41b8-201">В тестах нельзя использовать запрограммированные функции или циклы.</span><span class="sxs-lookup"><span data-stu-id="c41b8-201">You can't use coded functions or loops in your tests.</span></span> <span data-ttu-id="c41b8-202">Hello тестирования должна полностью содержаться в скрипте открытии hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-202">hello test must be contained completely in hello .webtest script.</span></span> <span data-ttu-id="c41b8-203">Однако вы можете использовать стандартные подключаемые модули.</span><span class="sxs-lookup"><span data-stu-id="c41b8-203">However, you can use standard plugins.</span></span>
>

#### <a name="1-record-a-scenario"></a><span data-ttu-id="c41b8-204">1. Запись сценария</span><span class="sxs-lookup"><span data-stu-id="c41b8-204">1. Record a scenario</span></span>
<span data-ttu-id="c41b8-205">Используйте Visual Studio Enterprise toorecord веб-сеанс.</span><span class="sxs-lookup"><span data-stu-id="c41b8-205">Use Visual Studio Enterprise toorecord a web session.</span></span>

1. <span data-ttu-id="c41b8-206">Создайте проект веб-теста производительности.</span><span class="sxs-lookup"><span data-stu-id="c41b8-206">Create a Web performance test project.</span></span>

    ![В Visual Studio Enterprise edition создайте проект на основе шаблона веб-тестов производительности и нагрузочных тестов hello.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-create.png)

 * <span data-ttu-id="c41b8-208">*Нет hello веб-тестов производительности и нагрузочного теста шаблон?*</span><span class="sxs-lookup"><span data-stu-id="c41b8-208">*Don't see hello Web Performance and Load Test template?*</span></span> <span data-ttu-id="c41b8-209">Закройте Visual Studio Enterprise.</span><span class="sxs-lookup"><span data-stu-id="c41b8-209">- Close Visual Studio Enterprise.</span></span> <span data-ttu-id="c41b8-210">Откройте **установщик Visual Studio** toomodify установку Visual Studio Enterprise.</span><span class="sxs-lookup"><span data-stu-id="c41b8-210">Open **Visual Studio Installer** toomodify your Visual Studio Enterprise installation.</span></span> <span data-ttu-id="c41b8-211">В разделе **Отдельные компоненты** выберите **Средства для тестирования производительности веб-сайтов и нагрузочного тестирования**.</span><span class="sxs-lookup"><span data-stu-id="c41b8-211">Under **Individual Components**, select **Web Performance and load testing tools**.</span></span>

2. <span data-ttu-id="c41b8-212">Откройте файл webtest hello и начать запись.</span><span class="sxs-lookup"><span data-stu-id="c41b8-212">Open hello .webtest file and start recording.</span></span>

    ![Откройте файл webtest hello и щелкните запись.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-start.png)
3. <span data-ttu-id="c41b8-214">Здравствуйте, действия пользователя, должны toosimulate в тесте: Откройте веб-сайт, добавить в корзину toohello продукта и т. д.</span><span class="sxs-lookup"><span data-stu-id="c41b8-214">Do hello user actions you want toosimulate in your test: open your website, add a product toohello cart, and so on.</span></span> <span data-ttu-id="c41b8-215">Затем остановите тест.</span><span class="sxs-lookup"><span data-stu-id="c41b8-215">Then stop your test.</span></span>

    ![Hello веб-теста выполняется запись в Internet Explorer.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-record.png)

    <span data-ttu-id="c41b8-217">Не делайте слишком длинный сценарий.</span><span class="sxs-lookup"><span data-stu-id="c41b8-217">Don't make a long scenario.</span></span> <span data-ttu-id="c41b8-218">Ограничение — 100 шагов и 2 минуты.</span><span class="sxs-lookup"><span data-stu-id="c41b8-218">There's a limit of 100 steps and 2 minutes.</span></span>
4. <span data-ttu-id="c41b8-219">Изменение hello тест:</span><span class="sxs-lookup"><span data-stu-id="c41b8-219">Edit hello test to:</span></span>

   * <span data-ttu-id="c41b8-220">Добавление проверки toocheck hello полученных текста и ответа кодов.</span><span class="sxs-lookup"><span data-stu-id="c41b8-220">Add validations toocheck hello received text and response codes.</span></span>
   * <span data-ttu-id="c41b8-221">Удалить все лишние взаимодействия.</span><span class="sxs-lookup"><span data-stu-id="c41b8-221">Remove any superfluous interactions.</span></span> <span data-ttu-id="c41b8-222">Можно также удалить зависимые запросы для изображения или tooad или отслеживания сайтов.</span><span class="sxs-lookup"><span data-stu-id="c41b8-222">You could also remove dependent requests for pictures or tooad or tracking sites.</span></span>

     <span data-ttu-id="c41b8-223">Помните, можно изменить только скрипт теста hello - не удается добавить пользовательский код или вызывать другие веб-тесты.</span><span class="sxs-lookup"><span data-stu-id="c41b8-223">Remember that you can only edit hello test script - you can't add custom code or call other web tests.</span></span> <span data-ttu-id="c41b8-224">Нельзя вставлять циклы в тесте hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-224">Don't insert loops in hello test.</span></span> <span data-ttu-id="c41b8-225">Вы можете использовать стандартные подключаемые модули для веб-тестов.</span><span class="sxs-lookup"><span data-stu-id="c41b8-225">You can use standard web test plug-ins.</span></span>
5. <span data-ttu-id="c41b8-226">Запустите тест hello в Visual Studio toomake убедиться, что он работает.</span><span class="sxs-lookup"><span data-stu-id="c41b8-226">Run hello test in Visual Studio toomake sure it works.</span></span>

    <span data-ttu-id="c41b8-227">средства выполнения тестов web Hello открывает веб-браузер и повторяется hello действия, которые были записаны.</span><span class="sxs-lookup"><span data-stu-id="c41b8-227">hello web test runner opens a web browser and repeats hello actions you recorded.</span></span> <span data-ttu-id="c41b8-228">Убедитесь, что тест работает правильно.</span><span class="sxs-lookup"><span data-stu-id="c41b8-228">Make sure it works as you expect.</span></span>

    ![В Visual Studio откройте файл webtest hello и нажмите кнопку выполнить.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-run.png)

#### <a name="2-upload-hello-web-test-tooapplication-insights"></a><span data-ttu-id="c41b8-230">2. Отправка hello web теста tooApplication аналитики</span><span class="sxs-lookup"><span data-stu-id="c41b8-230">2. Upload hello web test tooApplication Insights</span></span>
1. <span data-ttu-id="c41b8-231">Создайте веб-теста на портале Application Insights hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-231">In hello Application Insights portal, create a web test.</span></span>

    ![В колонке тестов web hello нажмите кнопку "Добавить".](./media/app-insights-monitor-web-app-availability/16-another-test.png)
2. <span data-ttu-id="c41b8-233">Выберите тест, состоящий из нескольких шагов и отправить файл webtest hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-233">Select multi-step test, and upload hello .webtest file.</span></span>

    ![Выберите многошаговый веб-тест.](./media/app-insights-monitor-web-app-availability/appinsights-71webtestUpload.png)

    <span data-ttu-id="c41b8-235">Таким же способом, как и для проверки связи проверяет набор hello замера, частоту и параметры оповещений в hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-235">Set hello test locations, frequency, and alert parameters in hello same way as for ping tests.</span></span>

#### <a name="3-see-hello-results"></a><span data-ttu-id="c41b8-236">3. Просмотреть результаты hello</span><span class="sxs-lookup"><span data-stu-id="c41b8-236">3. See hello results</span></span>

<span data-ttu-id="c41b8-237">Просмотр теста результаты и сбоев hello и те же тесты, так как одному URL-адресу.</span><span class="sxs-lookup"><span data-stu-id="c41b8-237">View your test results and any failures in hello same way as single-url tests.</span></span>

<span data-ttu-id="c41b8-238">Кроме того, можно загрузить tooview результаты теста hello их в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c41b8-238">In addition, you can download hello test results tooview them in Visual Studio.</span></span>

#### <a name="too-many-failures"></a><span data-ttu-id="c41b8-239">Слишком много ошибок?</span><span class="sxs-lookup"><span data-stu-id="c41b8-239">Too many failures?</span></span>

* <span data-ttu-id="c41b8-240">Обычно причиной сбоя является hello теста выполняется слишком долго.</span><span class="sxs-lookup"><span data-stu-id="c41b8-240">A common reason for failure is that hello test runs too long.</span></span> <span data-ttu-id="c41b8-241">Тест должен выполняться не более двух минут.</span><span class="sxs-lookup"><span data-stu-id="c41b8-241">It mustn't run longer than two minutes.</span></span>

* <span data-ttu-id="c41b8-242">Не забывайте, что все ресурсы hello страницы необходимо правильно загрузить для тестирования toosucceed hello, включая сценарии, таблицы стилей, изображений и т. д.</span><span class="sxs-lookup"><span data-stu-id="c41b8-242">Don't forget that all hello resources of a page must load correctly for hello test toosucceed, including scripts, style sheets, images, and so forth.</span></span>

* <span data-ttu-id="c41b8-243">Hello веб-тест должен полностью содержаться в скрипте открытии hello: закодированные функции нельзя использовать в тесте hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-243">hello web test must be entirely contained in hello .webtest script: you can't use coded functions in hello test.</span></span>

### <a name="plugging-time-and-random-numbers-into-your-multi-step-test"></a><span data-ttu-id="c41b8-244">Вставка времени и случайных чисел в многошаговый тест</span><span class="sxs-lookup"><span data-stu-id="c41b8-244">Plugging time and random numbers into your multi-step test</span></span>
<span data-ttu-id="c41b8-245">Предположим, что вы тестируете инструмент, который получает зависящие от времени данные (например, запасы) от внешнего источника.</span><span class="sxs-lookup"><span data-stu-id="c41b8-245">Suppose you're testing a tool that gets time-dependent data such as stocks from an external feed.</span></span> <span data-ttu-id="c41b8-246">При записи веб-теста имеется toouse определенное время, но они настроены как тестовые параметры hello StartTime и EndTime.</span><span class="sxs-lookup"><span data-stu-id="c41b8-246">When you record your web test, you have toouse specific times, but you set them as parameters of hello test, StartTime and EndTime.</span></span>

![Веб-тест с параметрами.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-parameters.png)

<span data-ttu-id="c41b8-248">При выполнении теста hello, хотелось бы присутствуют всегда toobe hello время EndTime и StartTime должно быть 15 минут назад.</span><span class="sxs-lookup"><span data-stu-id="c41b8-248">When you run hello test, you'd like EndTime always toobe hello present time, and StartTime should be 15 minutes ago.</span></span>

<span data-ttu-id="c41b8-249">Подключаемые модули веб-теста позволяют hello toodo параметризовать раз.</span><span class="sxs-lookup"><span data-stu-id="c41b8-249">Web Test Plug-ins provide hello way toodo parameterize times.</span></span>

1. <span data-ttu-id="c41b8-250">Добавьте подключаемые модули веб-теста для всех необходимых значений переменных параметров.</span><span class="sxs-lookup"><span data-stu-id="c41b8-250">Add a web test plug-in for each variable parameter value you want.</span></span> <span data-ttu-id="c41b8-251">В веб-тест hello инструментов, выберите **добавить подключаемый модуль теста Web**.</span><span class="sxs-lookup"><span data-stu-id="c41b8-251">In hello web test toolbar, choose **Add Web Test Plugin**.</span></span>

    ![Щелкните "Добавить подключаемый модуль веб-теста" и выберите тип.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugins.png)

    <span data-ttu-id="c41b8-253">В этом примере мы используем два экземпляра hello подключаемый модуль время даты.</span><span class="sxs-lookup"><span data-stu-id="c41b8-253">In this example, we use two instances of hello Date Time Plug-in.</span></span> <span data-ttu-id="c41b8-254">Для первого экземпляра будет задано время за 15 минут до текущего, а для второго — текущее время.</span><span class="sxs-lookup"><span data-stu-id="c41b8-254">One instance is for "15 minutes ago" and another for "now."</span></span>
2. <span data-ttu-id="c41b8-255">Откройте свойства hello каждого подключаемого модуля.</span><span class="sxs-lookup"><span data-stu-id="c41b8-255">Open hello properties of each plug-in.</span></span> <span data-ttu-id="c41b8-256">Присвойте ему имя и задать для него toouse hello текущее время.</span><span class="sxs-lookup"><span data-stu-id="c41b8-256">Give it a name and set it toouse hello current time.</span></span> <span data-ttu-id="c41b8-257">Для одного из экземпляров задайте для параметра "Добавление минут" значение "-15".</span><span class="sxs-lookup"><span data-stu-id="c41b8-257">For one of them, set Add Minutes = -15.</span></span>

    ![Задайте имя, выберите "Использовать текущее время" и "Добавить минуты".](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-parameters.png)
3. <span data-ttu-id="c41b8-259">В параметры веб-теста hello используйте {{имя подключаемого модуля}} tooreference имя подключаемого модуля.</span><span class="sxs-lookup"><span data-stu-id="c41b8-259">In hello web test parameters, use {{plug-in name}} tooreference a plug-in name.</span></span>

    ![В параметрах тестирования hello используйте {{имя подключаемого модуля}}.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-name.png)

<span data-ttu-id="c41b8-261">Теперь отправьте портал toohello теста.</span><span class="sxs-lookup"><span data-stu-id="c41b8-261">Now, upload your test toohello portal.</span></span> <span data-ttu-id="c41b8-262">Он использует hello динамические значения для каждого запуска тестирования hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-262">It uses hello dynamic values on every run of hello test.</span></span>

## <a name="dealing-with-sign-in"></a><span data-ttu-id="c41b8-263">Работа с входом</span><span class="sxs-lookup"><span data-stu-id="c41b8-263">Dealing with sign-in</span></span>
<span data-ttu-id="c41b8-264">Если в приложении tooyour входа пользователей, имеются различные варианты для имитации вход, благодаря чему можно протестировать страницы входа в hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-264">If your users sign in tooyour app, you have various options for simulating sign-in so that you can test pages behind hello sign-in.</span></span> <span data-ttu-id="c41b8-265">Hello подход используется зависит от типа hello объекта безопасности, предоставляемый приложение hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-265">hello approach you use depends on hello type of security provided by hello app.</span></span>

<span data-ttu-id="c41b8-266">Во всех случаях следует создать учетную запись только для цели hello тестирования приложения.</span><span class="sxs-lookup"><span data-stu-id="c41b8-266">In all cases, you should create an account in your application just for hello purpose of testing.</span></span> <span data-ttu-id="c41b8-267">Если это возможно ограничения hello разрешения этой учетной записи теста, таким образом, чтобы невозможны hello веб-тесты, влияющие на реальных пользователей.</span><span class="sxs-lookup"><span data-stu-id="c41b8-267">If possible, restrict hello permissions of this test account so that there's no possibility of hello web tests affecting real users.</span></span>

### <a name="simple-username-and-password"></a><span data-ttu-id="c41b8-268">Простое имя пользователя и пароль</span><span class="sxs-lookup"><span data-stu-id="c41b8-268">Simple username and password</span></span>
<span data-ttu-id="c41b8-269">Запишите веб-теста в hello обычным способом.</span><span class="sxs-lookup"><span data-stu-id="c41b8-269">Record a web test in hello usual way.</span></span> <span data-ttu-id="c41b8-270">Сначала удалите файлы cookie.</span><span class="sxs-lookup"><span data-stu-id="c41b8-270">Delete cookies first.</span></span>

### <a name="saml-authentication"></a><span data-ttu-id="c41b8-271">Проверка подлинности SAML</span><span class="sxs-lookup"><span data-stu-id="c41b8-271">SAML authentication</span></span>
<span data-ttu-id="c41b8-272">С помощью подключаемого модуля hello SAML, который доступен для веб-тестов.</span><span class="sxs-lookup"><span data-stu-id="c41b8-272">Use hello SAML plugin that is available for web tests.</span></span>

### <a name="client-secret"></a><span data-ttu-id="c41b8-273">Секрет клиента</span><span class="sxs-lookup"><span data-stu-id="c41b8-273">Client secret</span></span>
<span data-ttu-id="c41b8-274">Если в приложении предусмотрен маршрут входа с использованием секрета клиента, используйте этот маршрут.</span><span class="sxs-lookup"><span data-stu-id="c41b8-274">If your app has a sign-in route that involves a client secret, use that route.</span></span> <span data-ttu-id="c41b8-275">Azure Active Directory (AAD) — это пример службы, в которой доступен вход в систему с использованием секрета клиента.</span><span class="sxs-lookup"><span data-stu-id="c41b8-275">Azure Active Directory (AAD) is an example of a service that provides a client secret sign-in.</span></span> <span data-ttu-id="c41b8-276">В Azure Active Directory hello секрет клиента — hello ключ приложения.</span><span class="sxs-lookup"><span data-stu-id="c41b8-276">In AAD, hello client secret is hello App Key.</span></span>

<span data-ttu-id="c41b8-277">Ниже приведен пример веб-теста веб-приложения Azure с использованием ключа приложения.</span><span class="sxs-lookup"><span data-stu-id="c41b8-277">Here's a sample web test of an Azure web app using an app key:</span></span>

![Пример секрета клиента](./media/app-insights-monitor-web-app-availability/110.png)

1. <span data-ttu-id="c41b8-279">Получите токен из Azure AD с помощью секрета клиента (AppKey).</span><span class="sxs-lookup"><span data-stu-id="c41b8-279">Get token from AAD using client secret (AppKey).</span></span>
2. <span data-ttu-id="c41b8-280">Извлеките токен носителя из ответа.</span><span class="sxs-lookup"><span data-stu-id="c41b8-280">Extract bearer token from response.</span></span>
3. <span data-ttu-id="c41b8-281">Вызовите API с помощью токена носителя в заголовке авторизации hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-281">Call API using bearer token in hello authorization header.</span></span>

<span data-ttu-id="c41b8-282">Убедитесь, что веб-тест hello фактического клиентского - то есть имеет собственное приложение в Azure Active Directory - и используйте его clientId + appkey.</span><span class="sxs-lookup"><span data-stu-id="c41b8-282">Make sure that hello web test is an actual client - that is, it has its own app in AAD - and use its clientId + appkey.</span></span> <span data-ttu-id="c41b8-283">Ваша служба тестируемого также имеет собственное приложение в Azure Active Directory: hello appID URI этого приложения будет отражено в веб-тест hello в поле «ресурс» hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-283">Your service under test also has its own app in AAD: hello appID URI of this app is reflected in hello web test in hello “resource” field.</span></span>

### <a name="open-authentication"></a><span data-ttu-id="c41b8-284">Открытая проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="c41b8-284">Open Authentication</span></span>
<span data-ttu-id="c41b8-285">Пример открытой проверки подлинности — это вход с помощью учетной записи Майкрософт или Google.</span><span class="sxs-lookup"><span data-stu-id="c41b8-285">An example of open authentication is signing in with your Microsoft or Google account.</span></span> <span data-ttu-id="c41b8-286">Многие приложения, используйте предоставляют OAuth hello вместо секрета клиента, поэтому на первый прием должно быть tooinvestigate эту возможность.</span><span class="sxs-lookup"><span data-stu-id="c41b8-286">Many apps that use OAuth provide hello client secret alternative, so your first tactic should be tooinvestigate that possibility.</span></span>

<span data-ttu-id="c41b8-287">Если тест необходимо выполнить вход с использованием OAuth, имеет общий подход hello:</span><span class="sxs-lookup"><span data-stu-id="c41b8-287">If your test must sign in using OAuth, hello general approach is:</span></span>

* <span data-ttu-id="c41b8-288">С помощью средства, например Fiddler tooexamine hello трафика между веб-браузере, сайт проверки подлинности hello и приложения.</span><span class="sxs-lookup"><span data-stu-id="c41b8-288">Use a tool such as Fiddler tooexamine hello traffic between your web browser, hello authentication site, and your app.</span></span>
* <span data-ttu-id="c41b8-289">Выполнение двух или более входа в систему с использованием разных компьютерах или браузеры, либо в длинные интервалы времени (tooexpire tooallow токены).</span><span class="sxs-lookup"><span data-stu-id="c41b8-289">Perform two or more sign-ins using different machines or browsers, or at long intervals (tooallow tokens tooexpire).</span></span>
* <span data-ttu-id="c41b8-290">Сравнивая различных сеансах, определите hello токен передается обратно из hello проверки подлинности узла, который затем передается сервером приложения tooyour после входа в систему.</span><span class="sxs-lookup"><span data-stu-id="c41b8-290">By comparing different sessions, identify hello token passed back from hello authenticating site, that is then passed tooyour app server after sign-in.</span></span>
* <span data-ttu-id="c41b8-291">Запишите веб-тест с помощью Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="c41b8-291">Record a web test using Visual Studio.</span></span>
* <span data-ttu-id="c41b8-292">Параметризовать hello токены, параметр hello при hello маркер возвращается из проверки подлинности hello и его использовании hello toohello запросы на сайт.</span><span class="sxs-lookup"><span data-stu-id="c41b8-292">Parameterize hello tokens, setting hello parameter when hello token is returned from hello authenticator, and using it in hello query toohello site.</span></span>
  <span data-ttu-id="c41b8-293">(Visual Studio пытается tooparameterize hello теста, но не правильно параметризовать токены hello.)</span><span class="sxs-lookup"><span data-stu-id="c41b8-293">(Visual Studio attempts tooparameterize hello test, but does not correctly parameterize hello tokens.)</span></span>


## <a name="performance-tests"></a><span data-ttu-id="c41b8-294">Тесты производительности</span><span class="sxs-lookup"><span data-stu-id="c41b8-294">Performance tests</span></span>
<span data-ttu-id="c41b8-295">Вы можете выполнить на своем веб-сайте нагрузочный тест.</span><span class="sxs-lookup"><span data-stu-id="c41b8-295">You can run a load test on your website.</span></span> <span data-ttu-id="c41b8-296">Тестирование доступности hello вы можете отправлять простые запросы или запросы многоступенчатый из наших точек вокруг Здравствуй, мир!.</span><span class="sxs-lookup"><span data-stu-id="c41b8-296">Like hello availability test, you can send either simple requests or multi-step requests from our points around hello world.</span></span> <span data-ttu-id="c41b8-297">В отличие от теста доступности, отправляется много запросов, что имитирует несколько одновременно работающих пользователей.</span><span class="sxs-lookup"><span data-stu-id="c41b8-297">Unlike an availability test, many requests are sent, simulating multiple simultaneous users.</span></span>

<span data-ttu-id="c41b8-298">В колонке Обзор hello, откройте **параметры**, **тесты производительности**.</span><span class="sxs-lookup"><span data-stu-id="c41b8-298">From hello Overview blade, open **Settings**, **Performance Tests**.</span></span> <span data-ttu-id="c41b8-299">При создании теста вы приглашены tooconnect tooor создать учетную запись Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="c41b8-299">When you create a test, you are invited tooconnect tooor create a Visual Studio Team Services account.</span></span>

<span data-ttu-id="c41b8-300">После завершения теста hello отображаются время отклика и показатели успеха.</span><span class="sxs-lookup"><span data-stu-id="c41b8-300">When hello test is complete, you are shown response times and success rates.</span></span>


![тест производительности;](./media/app-insights-monitor-web-app-availability/perf-test.png)

> [!TIP]
> <span data-ttu-id="c41b8-302">эффекты hello tooobserve теста производительности, используйте [обновляющегося потока](app-insights-live-stream.md) и [профилировщика](app-insights-profiler.md).</span><span class="sxs-lookup"><span data-stu-id="c41b8-302">tooobserve hello effects of a performance test, use [Live Stream](app-insights-live-stream.md) and [Profiler](app-insights-profiler.md).</span></span>
>

## <a name="automation"></a><span data-ttu-id="c41b8-303">Служба автоматизации</span><span class="sxs-lookup"><span data-stu-id="c41b8-303">Automation</span></span>
* <span data-ttu-id="c41b8-304">[Использовать tooset сценариев PowerShell копирование тест доступности](app-insights-powershell.md#add-an-availability-test) автоматически.</span><span class="sxs-lookup"><span data-stu-id="c41b8-304">[Use PowerShell scripts tooset up an availability test](app-insights-powershell.md#add-an-availability-test) automatically.</span></span>
* <span data-ttu-id="c41b8-305">Настройте вызов [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md), активируемый оповещением.</span><span class="sxs-lookup"><span data-stu-id="c41b8-305">Set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span>

## <span data-ttu-id="c41b8-306"><a name="qna"></a>Вопросы?</span><span class="sxs-lookup"><span data-stu-id="c41b8-306"><a name="qna"></a>Questions?</span></span> <span data-ttu-id="c41b8-307">Проблемы?</span><span class="sxs-lookup"><span data-stu-id="c41b8-307">Problems?</span></span>
* <span data-ttu-id="c41b8-308">*Можно ли вызывать код из моего веб-теста?*</span><span class="sxs-lookup"><span data-stu-id="c41b8-308">*Can I call code from my web test?*</span></span>

    <span data-ttu-id="c41b8-309">Нет.</span><span class="sxs-lookup"><span data-stu-id="c41b8-309">No.</span></span> <span data-ttu-id="c41b8-310">Hello шаги теста hello должен находиться в файл webtest hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-310">hello steps of hello test must be in hello .webtest file.</span></span> <span data-ttu-id="c41b8-311">Кроме того, нельзя вызывать другие веб-тесты и использовать циклы.</span><span class="sxs-lookup"><span data-stu-id="c41b8-311">And you can't call other web tests or use loops.</span></span> <span data-ttu-id="c41b8-312">Но есть несколько подключаемых модулей, которые могут оказаться полезными.</span><span class="sxs-lookup"><span data-stu-id="c41b8-312">But there are several plug-ins that you might find helpful.</span></span>
* <span data-ttu-id="c41b8-313">*Поддерживается ли протокол HTTPS?*</span><span class="sxs-lookup"><span data-stu-id="c41b8-313">*Is HTTPS supported?*</span></span>

    <span data-ttu-id="c41b8-314">Мы поддерживаем TLS 1.1 и TLS 1.2.</span><span class="sxs-lookup"><span data-stu-id="c41b8-314">We support TLS 1.1 and TLS 1.2.</span></span>
* <span data-ttu-id="c41b8-315">*Есть ли разница между понятиями «веб-тесты» и «тесты доступности»?*</span><span class="sxs-lookup"><span data-stu-id="c41b8-315">*Is there a difference between "web tests" and "availability tests"?*</span></span>

    <span data-ttu-id="c41b8-316">Hello двух слов может ссылаться на равных основаниях.</span><span class="sxs-lookup"><span data-stu-id="c41b8-316">hello two terms may be referenced interchangeably.</span></span> <span data-ttu-id="c41b8-317">Доступность проверяет, что более универсальный термин, который включает один URL-адрес ping hello Кроме проверяет toohello многоэтапной веб-тестов.</span><span class="sxs-lookup"><span data-stu-id="c41b8-317">Availability tests is a more generic term that includes hello single URL ping tests in addition toohello multi-step web tests.</span></span>
* <span data-ttu-id="c41b8-318">*Я хочу тестов доступности toouse на нашем внутреннего сервера, работающей за брандмауэром.*</span><span class="sxs-lookup"><span data-stu-id="c41b8-318">*I'd like toouse availability tests on our internal server that runs behind a firewall.*</span></span>

    <span data-ttu-id="c41b8-319">Есть два возможных решения:</span><span class="sxs-lookup"><span data-stu-id="c41b8-319">There are two possible solutions:</span></span>
    
    * <span data-ttu-id="c41b8-320">Настройка вашего брандмауэра toopermit входящие запросы от hello [IP-адресов нашими веб-агенты тестирования](app-insights-ip-addresses.md).</span><span class="sxs-lookup"><span data-stu-id="c41b8-320">Configure your firewall toopermit incoming requests from hello [IP addresses of our web test agents](app-insights-ip-addresses.md).</span></span>
    * <span data-ttu-id="c41b8-321">Написать собственный код tooperiodically тест внутреннего сервера.</span><span class="sxs-lookup"><span data-stu-id="c41b8-321">Write your own code tooperiodically test your internal server.</span></span> <span data-ttu-id="c41b8-322">Выполнение кода hello в виде фонового процесса на тестовом сервере за брандмауэром.</span><span class="sxs-lookup"><span data-stu-id="c41b8-322">Run hello code as a background process on a test server behind your firewall.</span></span> <span data-ttu-id="c41b8-323">Процесс тестирования могут отправлять свои результаты tooApplication аналитики с помощью [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) API в пакете SDK core hello.</span><span class="sxs-lookup"><span data-stu-id="c41b8-323">Your test process can send its results tooApplication Insights by using [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) API in hello core SDK package.</span></span> <span data-ttu-id="c41b8-324">Для этого тестового сервера toohave исходящего доступа toohello Application Insights приема конечной точки, но это гораздо меньшего размера угрозу безопасности, чем hello возможность разрешить входящие запросы.</span><span class="sxs-lookup"><span data-stu-id="c41b8-324">This requires your test server toohave outgoing access toohello Application Insights ingestion endpoint, but that is a much smaller security risk than hello alternative of permitting incoming requests.</span></span> <span data-ttu-id="c41b8-325">Hello результаты не будут отображаться в колонках тестов web доступности hello, но отображается как результаты доступности аналитика, поиска и обозреватель метрики.</span><span class="sxs-lookup"><span data-stu-id="c41b8-325">hello results will not appear in hello availability web tests blades, but appears as availability results in Analytics, Search, and Metric Explorer.</span></span>
* <span data-ttu-id="c41b8-326">*Сбой отправки многошагового веб-теста.*</span><span class="sxs-lookup"><span data-stu-id="c41b8-326">*Uploading a multi-step web test fails*</span></span>

    <span data-ttu-id="c41b8-327">Максимальный размер — 300 000.</span><span class="sxs-lookup"><span data-stu-id="c41b8-327">There's a size limit of 300 K.</span></span>

    <span data-ttu-id="c41b8-328">Циклы не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="c41b8-328">Loops aren't supported.</span></span>

    <span data-ttu-id="c41b8-329">Ссылки на tooother веб-тесты, не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="c41b8-329">References tooother web tests aren't supported.</span></span>

    <span data-ttu-id="c41b8-330">Источники данных не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="c41b8-330">Data sources aren't supported.</span></span>
* <span data-ttu-id="c41b8-331">*Мой многошаговый тест не выполняется.*</span><span class="sxs-lookup"><span data-stu-id="c41b8-331">*My multi-step test doesn't complete*</span></span>

    <span data-ttu-id="c41b8-332">Максимальное количество запросов в тесте — 100.</span><span class="sxs-lookup"><span data-stu-id="c41b8-332">There's a limit of 100 requests per test.</span></span>

    <span data-ttu-id="c41b8-333">Hello теста останавливается, если он выполняется дольше, чем двух минут.</span><span class="sxs-lookup"><span data-stu-id="c41b8-333">hello test is stopped if it runs longer than two minutes.</span></span>
* <span data-ttu-id="c41b8-334">*Как запустить тест с клиентскими сертификатами?*</span><span class="sxs-lookup"><span data-stu-id="c41b8-334">*How can I run a test with client certificates?*</span></span>

    <span data-ttu-id="c41b8-335">К сожалению, эта возможность не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="c41b8-335">We don't support that, sorry.</span></span>


## <span data-ttu-id="c41b8-336"><a name="next"></a>Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="c41b8-336"><a name="next"></a>Next steps</span></span>
<span data-ttu-id="c41b8-337">[Поиск по журналу диагностики в Application Insights][diagnostic]</span><span class="sxs-lookup"><span data-stu-id="c41b8-337">[Search diagnostic logs][diagnostic]</span></span>

<span data-ttu-id="c41b8-338">[Устранение неполадок][qna]</span><span class="sxs-lookup"><span data-stu-id="c41b8-338">[Troubleshooting][qna]</span></span>

[<span data-ttu-id="c41b8-339">IP-адреса веб-агентов тестирования</span><span class="sxs-lookup"><span data-stu-id="c41b8-339">IP addresses of web test agents</span></span>](app-insights-ip-addresses.md)

<!--Link references-->

[azure-availability]: ../insights-create-web-tests.md
[diagnostic]: app-insights-diagnostic-search.md
[qna]: app-insights-troubleshoot-faq.md
[start]: app-insights-overview.md
