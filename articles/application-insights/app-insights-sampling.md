---
title: "aaaTelemetry выборки в Azure Application Insights | Документы Microsoft"
description: "Как tookeep hello объем телеметрии в группе управления."
services: application-insights
documentationcenter: windows
author: vgorbenko
manager: carmonm
ms.assetid: 015ab744-d514-42c0-8553-8410eef00368
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/24/2017
ms.author: bwren
ms.openlocfilehash: e19c350d0a5f16736c100322a9922fcfbf5d7b39
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="sampling-in-application-insights"></a>Выборка в Application Insights


Выборка — это функция [Azure Application Insights](app-insights-overview.md), Он является hello рекомендуется способом tooreduce телеметрии трафика и хранения данных, сохраняя статистически правильный анализ данных приложений. Фильтр Hello выбирает элементы, которые связаны с другими, чтобы переходить между элементами, при выполнении диагностики исследования.
Если метрики счетчиков должны быть представлены tooyou в портал hello, они являются повторно нормализованный tootake учетную запись выборки toominimize любой влияет на статистику hello hello.

Выборка сокращает расходы, связанные с использованием трафика и данных, помогая избежать регулирования.

## <a name="in-brief"></a>Краткое описание
* Выборка сохраняет 1 в  *n*  записывает и отменяет hello rest. Например, при частоте выборки 20 % сохраняется 1 из 5 событий. 
* Если приложение отправляет большие объемы данных телеметрии, выборка происходит автоматически (в приложениях веб-сервера ASP.NET).
* Можно также задать выборки вручную, либо в hello портала на странице; цен hello или в hello пакета SDK для ASP.NET в файл .config hello tooalso сократить сетевой трафик hello.
* Если журнала пользовательских событий, и вы хотите toomake набор событий, либо сохранить, иначе удаляются вместе, убедитесь, что они имеют hello одинаковое значение идентификатором операции.
* делитель выборки Hello  *n*  сообщается в каждой записи в свойстве hello `itemCount`, которой поиска отображается в узле hello понятное имя «количество запросов» или «счетчик событий». Если выборка не выполняется, `itemCount==1`.
* При написании запросов аналитики необходимо [учитывать выборку](app-insights-analytics-tour.md#counting-sampled-data). В частности, вместо простого подсчета записей следует использовать функцию `summarize sum(itemCount)`.

## <a name="types-of-sampling"></a>Типы выборки
Существует три альтернативных метода выборки.

* **Адаптивная выборки** автоматически корректирует hello объем телеметрии, отправленные hello SDK в приложении ASP.NET. По умолчанию используется SDK версии 2.0.0-beta3. Сейчас этот модуль доступен только в рамках серверной телеметрии ASP.NET. 
* **Выборка-rate** уменьшает hello объем телеметрии, отправленные с сервер ASP.NET из браузеров пользователей. Можно задать скорость hello. Hello клиента и сервера будет синхронизировать их выборки, что, в поиск, можно перемещаться между связанной страницы представлений и запросов.
* **Выборка приема** работает в hello портал Azure. Он сбрасывает некоторые данные телеметрии hello, поступившего от приложения, с частотой, устанавливаемое. Она не уменьшает трафик телеметрии, но помогает оставаться в пределах месячной квоты. большим преимуществом Hello приема выборки — может быть задана без повторного развертывания приложения, что он работает одинаково для всех серверов и клиентов. 

Если выполняется адаптивная или фиксированная выборка, выборка приема отключена.

## <a name="ingestion-sampling"></a>Выборка приема
Эта форма выборки работает в hello точке, где hello телеметрии из вашего веб-сервера, браузерах и устройствах достигает конечной точки службы Application Insights hello. Несмотря на то, что он не уменьшить трафик телеметрии hello, отправляемых из приложения, он приводит к уменьшению объема hello обработки и хранения (и оплачивать) с Application Insights.

Используйте этот тип выборки, если приложение часто проходит над его месячной квоты и у вас нет hello возможность использовать один из типов на основе пакета SDK для hello выборки. 

Задать частоту выборки hello в hello квоты и колонки цены:

![Из колонки Обзор приложения hello нажмите кнопку Параметры, квоты, образцы, выберите частоту выборки и нажмите кнопку обновления.](./media/app-insights-sampling/04.png)

Как и другие виды выборки hello алгоритм сохраняет телеметрии связанные элементы. Например, если анализ телеметрии hello в поиск, можно будет toofind hello запроса связанных tooa конкретного исключения. Правильно сохраняются счетчики метрик, например частота запросов и частота исключений.

Точки данных, отклоненные выборкой, доступны не во всех функциях Application Insights, например [Непрерывный экспорт](app-insights-export-telemetry.md).

Выборка приема не работает во время действия адаптивной или фиксированной выборки на основе пакета SDK. Если частота выборки hello hello SDK менее 100%, то hello приема частоту выборки, устанавливаемое игнорируется.

> [!WARNING]
> значение Hello, отображаются на плитке hello указывает значение hello, настроенной для приема выборки. Если пакет SDK для выборки в операции, он не представляет hello фактическое дискретизации.
> 
> 

## <a name="adaptive-sampling-at-your-web-server"></a>Адаптивная выборка на веб-сервере
Адаптивная выборки доступен для hello пакет SDK Application Insights для ASP.NET v 2.0.0-beta3 и более поздних версий и включен по умолчанию. 

Адаптивная выборки влияет hello объем телеметрии, отправленные вашей toohello приложения web server служба Application Insights. Hello тома регулируется автоматически tookeep в пределах указанной максимальной скорости трафика.

Он не работает с небольшими объемами данных телеметрии и не затрагивается при отладке приложения или веб-узла с низкой нагрузкой.

tooachieve hello целевой том, некоторые из созданных телеметрии hello отбрасывается. Но как другие типы выборки, алгоритм hello сохраняет телеметрии связанные элементы. Например, если анализ телеметрии hello в поиск, можно будет toofind hello запроса связанных tooa конкретного исключения. 

Метрика подсчитывает, таких как частота запросов и частоты исключений скорректированное toocompensate для hello, частоту выборки, чтобы они отображали приблизительно правильные значения в обозревателе метрику.

**Обновление проекта NuGet** последние пакеты toohello *предварительного выпуска* версии Application Insights: щелкните правой кнопкой мыши проект hello в обозревателе решений, выберите Управление пакетами NuGet проверьте **Include Предварительная** и выполните поиск Microsoft.ApplicationInsights.Web. 

В [ApplicationInsights.config](app-insights-configuration-with-applicationinsights-config.md), можно настроить несколько параметров в hello `AdaptiveSamplingTelemetryProcessor` узла. фигуры Hello показано являются значениями по умолчанию hello:

* `<MaxTelemetryItemsPerSecond>5</MaxTelemetryItemsPerSecond>`
  
    Hello целевой скорость, с которой hello адаптивный алгоритм стремится к тому, **на каждом узле сервера**. Если веб-приложение работает на множестве узлов, так, чтобы tooremain внутри вашей целевой интенсивность трафика на портале Application Insights hello Уменьшите это значение.
* `<EvaluationInterval>00:00:15</EvaluationInterval>` 
  
    Интервал приветствия, на какие hello текущая скорость телеметрии повторного вычисления. Вычисление выполняется на основе скользящего среднего. Может потребоваться tooshorten этот интервал в случае ответственность toosudden пакетами телеметрии.
* `<SamplingPercentageDecreaseTimeout>00:02:00</SamplingPercentageDecreaseTimeout>`
  
    При изменении значения выборки в процентах, как скоро после мы допускается toolower выборки в процентах снова toocapture меньше данных.
* `<SamplingPercentageIncreaseTimeout>00:15:00</SamplingPercentageIncreaseTimeout>`
  
    При изменении значения выборки в процентах, как скоро после мы допускается tooincrease выборки в процентах снова toocapture больше данных.
* `<MinSamplingPercentage>0.1</MinSamplingPercentage>`
  
    Как меняется выборки в процентах, какова минимальное значение hello мы разрешены tooset.
* `<MaxSamplingPercentage>100.0</MaxSamplingPercentage>`
  
    Как меняется выборки в процентах, Каково максимальное значение hello мы разрешены tooset.
* `<MovingAverageRatio>0.25</MovingAverageRatio>` 
  
    При расчете hello hello скользящее среднее вес hello назначить toohello самое последнее значение. Используйте tooor равно значение меньше 1. Меньшие значения изменять алгоритм hello менее toosudden.
* `<InitialSamplingPercentage>100</InitialSamplingPercentage>`
  
    Hello значение, заданное при запуске приложение hello просто. Не снижайте это значение во время отладки. 

* `<ExcludedTypes>Trace;Exception</ExcludedTypes>`
  
    Список типов, которые не нужно toobe выборки, разделенных точкой с запятой. Распознаваемые типы: Dependency, Event, Exception, PageView, Request, Trace. Все экземпляры hello указало при передаче типов; проверит Hello типов, которые не указаны.

* `<IncludedTypes>Request;Dependency</IncludedTypes>`
  
    Список типов, которые вы хотите toobe выборки, разделенных точкой с запятой. Распознаваемые типы: Dependency, Event, Exception, PageView, Request, Trace. Hello задан, проверяются типы; все экземпляры служб hello других типов всегда будет передаваться.


**tooswitch отключение** адаптивной выборки, удалить hello AdaptiveSamplingTelemetryProcessor узел из конфигурации applicationinsights.

### <a name="alternative-configure-adaptive-sampling-in-code"></a>Альтернатива: настройка адаптивной выборки в коде
Вместо настройки выборки в config-файле hello, можно использовать код. Это позволяет toospecify функцию обратного вызова, который вызывается каждый раз, когда производится повторная оценка частоты выборки hello. Это можно использовать, например, используется toofind out какие частоту выборки.

Удалите hello `AdaptiveSamplingTelemetryProcessor` узел из hello config-файла.

*C#*

```C#

    using Microsoft.ApplicationInsights;
    using Microsoft.ApplicationInsights.Extensibility;
    using Microsoft.ApplicationInsights.WindowsServer.Channel.Implementation;
    using Microsoft.ApplicationInsights.WindowsServer.TelemetryChannel;
    ...

    var adaptiveSamplingSettings = new SamplingPercentageEstimatorSettings();

    // Optional: here you can adjust hello settings from their defaults.

    var builder = TelemetryConfiguration.Active.TelemetryProcessorChainBuilder;

    builder.UseAdaptiveSampling(
         adaptiveSamplingSettings,

        // Callback on rate re-evaluation:
        (double afterSamplingTelemetryItemRatePerSecond,
         double currentSamplingPercentage,
         double newSamplingPercentage,
         bool isSamplingPercentageChanged,
         SamplingPercentageEstimatorSettings s
        ) =>
        {
          if (isSamplingPercentageChanged)
          {
             // Report hello sampling rate.
             telemetryClient.TrackMetric("samplingPercentage", newSamplingPercentage);
          }
      });

    // If you have other telemetry processors:
    builder.Use((next) => new AnotherProcessor(next));

    builder.Build();

```

([Сведения о процессорах телеметрии](app-insights-api-filtering-sampling.md#filtering).)

<a name="other-web-pages"></a>

## <a name="sampling-for-web-pages-with-javascript"></a>Включение выборки для веб-страниц с помощью JavaScript
Вы можете настроить выборку с фиксированной частотой для веб-страниц с любого сервера. 

Когда вы [Настройка hello веб-страниц для Application Insights](app-insights-javascript.md), изменить фрагмент кода hello, получаемые из портала hello Application Insights. (В приложениях ASP.NET, фрагмент кода hello обычно попадают в _Layout.cshtml.)  Вставка строки как `samplingPercentage: 10,` перед hello ключ инструментирования:

    <script>
    var appInsights= ... 
    }({ 


    // Value must be 100/N where N is an integer.
    // Valid examples: 50, 25, 20, 10, 5, 1, 0.1, ...
    samplingPercentage: 10, 

    instrumentationKey:...
    }); 

    window.appInsights=appInsights; 
    appInsights.trackPageView(); 
    </script> 

Процент выборки hello выберите значение в процентах, является закрыть too100/N, где N — целое число.  В настоящее время выборка не поддерживает другие значения.

При включении фиксированной частота выборки на сервере hello, hello клиентами и сервером синхронизируются, что, в поиск, можно перемещаться между связанной страницы представлений и запросов.

## <a name="fixed-rate-sampling-for-aspnet-web-sites"></a>Выборка с фиксированной частотой для веб-сайтов ASP.NET
Выборка фиксированной ставке уменьшает hello трафик веб-сервера и веб-браузеры. В отличие от адаптивной выборки объем данных уменьшается в фиксированном, заданном вами размере. Он также синхронизирует hello клиента и сервера выборки и сохранения связанных элементов — например, так что при просмотре представления страницы поиска можно найти его на запросы.

Алгоритм выборки Hello сохраняет связанные элементы. При каждом событии HTTP-запроса он и связанные с ним события игнорируются или передаются. 

В обозревателе метрик ставки, такие как счетчики запроса и исключение умножаются toocompensate фактором для дискретизации hello, чтобы они приблизительно верны.

1. **Обновить пакеты NuGet для проекта** toohello последние *предварительного выпуска* версии Application Insights. Щелкните правой кнопкой мыши проект hello в обозревателе решений, выберите Управление пакетами NuGet проверьте **включить предварительный выпуск** и выполните поиск Microsoft.ApplicationInsights.Web. 
2. **Отключение адаптивной выборки**: В [ApplicationInsights.config](app-insights-configuration-with-applicationinsights-config.md), удалите или закомментируйте hello `AdaptiveSamplingTelemetryProcessor` узла.
   
    ```xml
   
    <TelemetryProcessors>
   
    <!-- Disabled adaptive sampling:
      <Add Type="Microsoft.ApplicationInsights.WindowsServer.TelemetryChannel.AdaptiveSamplingTelemetryProcessor, Microsoft.AI.ServerTelemetryChannel">
        <MaxTelemetryItemsPerSecond>5</MaxTelemetryItemsPerSecond>
      </Add>
    -->

    ```

1. **Включите модуль hello-rate выборки.** Добавьте следующий фрагмент слишком[ApplicationInsights.config](app-insights-configuration-with-applicationinsights-config.md):
   
    ```XML
   
    <TelemetryProcessors>
     <Add  Type="Microsoft.ApplicationInsights.WindowsServer.TelemetryChannel.SamplingTelemetryProcessor, Microsoft.AI.ServerTelemetryChannel">
   
      <!-- Set a percentage close too100/N where N is an integer. -->
     <!-- E.g. 50 (=100/2), 33.33 (=100/3), 25 (=100/4), 20, 1 (=100/100), 0.1 (=100/1000) -->
      <SamplingPercentage>10</SamplingPercentage>
      </Add>
    </TelemetryProcessors>
   
    ```

> [!NOTE]
> Процент выборки hello выберите значение в процентах, является закрыть too100/N, где N — целое число.  В настоящее время выборка не поддерживает другие значения.
> 
> 

### <a name="alternative-enable-fixed-rate-sampling-in-your-server-code"></a>Альтернатива: включение выборки с фиксированной частотой в коде сервера
Вместо параметра выборки hello в config-файле hello, можно использовать код. 

*C#*

```C#

    using Microsoft.ApplicationInsights.Extensibility;
    using Microsoft.ApplicationInsights.WindowsServer.TelemetryChannel;
    ...

    var builder = TelemetryConfiguration.Active.GetTelemetryProcessorChainBuilder();
    builder.UseSampling(10.0); // percentage

    // If you have other telemetry processors:
    builder.Use((next) => new AnotherProcessor(next));

    builder.Build();

```

([Сведения о процессорах телеметрии](app-insights-api-filtering-sampling.md#filtering).)

## <a name="when-toouse-sampling"></a>Когда toouse выборки?
Адаптивная выборки включается автоматически при использовании hello 2.0.0-beta3 версии пакета SDK для ASP.NET или более поздней версии. Выборку приема (на наших серверах) можно применять независимо от используемой версии SDK.

Выборка не требуется для большинства приложений малого и среднего размера. наиболее полезные сведения диагностики Hello и наиболее точную статистику получаются путем сбора данных для всех действий пользователей. 

Основные преимущества Hello выборки являются:

* Служба Application Insights удаляет («регулирует») точки данных, когда приложение слишком часто отправляет данные телеметрии за короткий интервал времени. 
* tookeep внутри hello [квоты](app-insights-pricing.md) точек данных для используемого ценового уровня. 
* tooreduce сетевой трафик от hello коллекцию телеметрии. 

### <a name="which-type-of-sampling-should-i-use"></a>Какой тип выборки следует использовать?
**Используйте выборку приема, если:**

* Вы часто превышаете ежемесячную квоту телеметрии.
* Вы используете более ранних, чем 2 версии hello SDK, который не поддерживает дискретизацию - например, hello Java SDK или версии ASP.NET.
* Вы получаете много данных телеметрии с веб-браузеров пользователей.

**Используйте выборку с фиксированной частотой, если:**

* Вы используете hello пакет SDK Application Insights для ASP.NET web services версии 2.0.0 и более поздних версиях и
* Требуется синхронизированные выборки между клиентом и сервером, таким образом, если выполняется анализ событий в [поиска](app-insights-diagnostic-search.md), можно переходить между связанных событий на приветствия клиента и сервера, например представления страниц и HTTP-запросов.
* Вы уверены, hello в процентном отношении соответствующие выборки для вашего приложения. Ее нужно находится достаточно высоко tooget точные показатели, но ниже hello скорость, с которой превышает ценообразования и hello регулирование пределы. 

**Используйте адаптивную выборку:**

В противном случае мы рекомендуем использовать адаптивную выборку. Оно включено по умолчанию на сервере ASP.NET hello SDK, версии 2.0.0-beta3 или более поздней версии. Такая выборка не уменьшает трафик, не превышающий определенный минимальный объем, и не влияет на сайты, которые используются редко.

## <a name="how-do-i-know-whether-sampling-is-in-operation"></a>Как узнать, действует ли выборка
выборки скорость независимо от того, где он был применен, используйте фактические hello toodiscover [аналитический запрос](app-insights-analytics.md) подобные:

    requests | where timestamp > ago(1d)
    | summarize 100/avg(itemCount) by bin(timestamp, 1h) 
    | render areachart 

В каждом сохраняются записи, `itemCount` указывает номер исходной записи, которые он представляет равно too1 + hello число предыдущих записей отклоненных hello. 

## <a name="how-does-sampling-work"></a>Как работает функция выборки?
-Rate и адаптивной выборки являются возможностью hello SDK в версиях ASP.NET из версии 2.0.0. Выборка приема — это функция hello служба Application Insights и может быть в операции, если hello SDK не выполняет выборку. 

Алгоритм выборки Hello решает, какие toodrop элементов телеметрии и какие другие tookeep (если он является hello SDK или служба Application Insights hello). Hello выборки решение основано на несколько правил, которые стремятся toopreserve все точки взаимосвязанных данных без изменений, обслуживание диагностики опыт в Application Insights, пригодных к использованию и надежное даже с сокращенный набор данных. Например, если для неудачно завершенного запроса приложение отправляет дополнительные элементы телеметрии (например, исключение и трассировки, зарегистрированные этим запросом), выборка не будет разделять этот запрос и другие данные телеметрии. Она либо сохраняет, либо удаляет все элементы вместе. В результате при просмотре сведений о запросе hello в Application Insights всегда видеть запрос hello вместе с его телеметрии связанные элементы. 

Для приложений, которые определяют «user» (то есть наиболее типичных веб-приложений), hello выборки решение зависит от хэш hello идентификатора пользователя hello, это означает, что все данные телеметрии для любого конкретного пользователя сохраняется либо удалены. Для типов приложений, которые не определяют пользователей (например, веб-службы) hello hello выборки решение зависит от hello идентификатор операции запроса hello. Наконец для элементов hello телеметрии, которые не имеют идентификатор пользователя, ни операции (для примера телеметрии элементов отчета из асинхронных потоков без контекста http) выборки просто захватывает процент телеметрии элементов каждого типа. 

При представлении задней tooyou телеметрии, Application Insights hello, служба настраивает hello показатели по hello такой же Процент выборки, которые использовались во время hello сбора, toocompensate для hello отсутствующие точки данных. Таким образом при просмотре hello телеметрии в Application Insights, hello работе пользователей статистически правильный приближений, являются очень близкие toohello вещественных чисел.

Точность Hello приближения hello во многом зависит от процента выборки hello настроен. Кроме того для приложений, обрабатывающих большой объем обычно сходных запросов из большого количества пользователей роста точности hello. На Здравствуйте другой стороны, для приложений, которые не работают с существенную нагрузку, как эти приложения обычно могут отправлять свои данные телеметрии должны оставаться в пределах квоты hello без риска потери данных после регулирования выборки не требуется. 

Обратите внимание, что Application Insights не пример типов телеметрии метрики и сеансов с момента для этих типов могут быть нежелательному Снижение точности hello. 

### <a name="adaptive-sampling"></a>Адаптивная выборка
Адаптивная выборки добавляет компонент, мониторы hello текущая скорость передачи данных из пакета SDK для hello и корректирует toostay tootry Процент выборки hello в hello целевой максимальной скорости. корректировки Hello пересчитывается через регулярные интервалы, а основан на скользящее среднее для hello исходящих скорости передачи данных.

## <a name="sampling-and-hello-javascript-sdk"></a>Выборка и hello JavaScript SDK
Hello клиентского (JavaScript) SDK участвует в фиксированной скорость выборки в сочетании с серверными hello SDK. Hello инструментированы страниц будет отправлять телеметрии на стороне клиента из hello и те же пользователи, для какой hello серверные решил его слишком «sample в.» Эта логика является целостность спроектированный toomaintain сеанс пользователя через клиент сервер стороны и. Благодаря этому с помощью любого элемента телеметрии в Application Insights можно найти все остальные элементы телеметрии для этого пользователя или сеанса. 

*Данные телеметрии на клиенте и сервере не отображают скоординированные образцы, как описано выше.*

* Убедитесь в том, что выборка с фиксированной частотой включена и на сервере, и в клиенте.
* Убедитесь, что этой hello SDK версии 2.0 или более поздней версии.
* Убедитесь, что выбран hello же выборки процент в hello клиента и сервера.

## <a name="frequently-asked-questions"></a>Часто задаваемые вопросы
*Почему выборка — это не простой сбор X процентов данных телеметрии каждого типа?*

* Хотя такой подход выборки обеспечит с очень высокой точностью в метрики приближений, он будет нарушена возможность toocorrelate диагностических данных для каждого пользователя, сеанса и запрос, которая необходима для диагностики. Поэтому выборку лучше всего описать как «сбор всех элементов телеметрии для X процентов пользователей приложения» или «сбор всех данных телеметрии для X процентов запросов приложения». Для hello телеметрии элементы, не связанные с запросами hello (например, фон асинхронная обработка) попадающие hello обратно слишком «сбор X процентов всех элементов для каждого типа телеметрии.» 

*Процент выборки hello меняться со временем?*

* Да, постепенно адаптивной выборки изменяется hello выборки процент, основанный на hello в настоящее время наблюдается объем телеметрии hello.

*Если я использую фиксированной частоты выборки, как определить, какие выборки в процентах будет работать наилучшим образом подходит для приложения hello?*

* Один из способов — toostart с адаптивной выборки, узнайте, как оценить сопоставляет на (см. hello выше вопрос), и затем коммутатора toofixed частота выборки с использованием этого курса. 
  
    В противном случае у вас tooguess. Анализ текущего использования телеметрии в AI, наблюдать за любой регулирования, появление и оценка hello объема hello сбора данных телеметрии. Эти три набора входных данных вместе с выбранной ценовой категории, предложить, сколько стоит tooreduce hello объем собранных hello телеметрии. Однако увеличение hello количество пользователей или некоторые другие shift hello объем телеметрии, может сделать недействительным свою оценку.

*Что произойдет, если настроить слишком низкий процент выборки?*

* Слишком мало выборки в процентах (over-aggressive выборки) снижает точность hello приближений hello, если Application Insights пытается toocompensate hello визуализации данных hello для сокращения тома данных hello. Кроме того возможности диагностики может снизиться, так, как часть hello редко сбои или медленных запросов могут быть использованы в выборке.

*Что произойдет, если настроить слишком высокий процент выборки?*

* Настройка слишком высокой выборки в процентах (не агрессивно достаточно) приведет к недостаточно снижению объема hello hello сбор телеметрии. По-прежнему могут возникнуть телеметрии, потери данных, относящегося к toothrottling и hello стоимость использования Application Insights может быть выше, чем вы запланированный из-за накладных расходов toooverage.

*На каких платформах можно использовать выборку?*

* Приема выборки может произойти автоматически для любого телеметрии определенной громкости, если hello SDK не выполняет выборки. Например, это будет работать, если ваше приложение использует сервер Java или если вы используете старую версию пакета SDK для ASP.NET hello.
* Если вы используете пакет SDK для ASP.NET версии 2.0.0 и более поздних версий (размещенный в Azure или на собственном сервере), вы получаете адаптивной выборки по умолчанию, но можно переключить toofixed скорость, как описано выше. С фиксированной частоты выборки, браузер hello SDK автоматически синхронизирует toosample связанных событий. 

*Существуют определенные редкие события, требуется, чтобы toosee. Как получить их за пределами модуля hello выборки?*

* Инициализируйте отдельный экземпляр TelemetryClient с новой TelemetryConfiguration (hello по умолчанию не активным). Используйте этот toosend редких событий.

## <a name="next-steps"></a>Дальнейшие действия
* [Фильтрация](app-insights-api-filtering-sampling.md) может обеспечивать более строгий контроль над данными, отправляемыми пакетом SDK.

