---
title: "Анализ aaaUsage для веб-приложений с помощью Azure Application Insights | Документы Microsoft"
description: "Изучение пользователей и их действий с веб-приложением."
services: application-insights
documentationcenter: 
author: botatoes
manager: carmonm
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 05/03/2017
ms.author: bwren
ms.openlocfilehash: f7f9173cf411fa0d2dfb3b5ba99134a02bbc0e89
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="usage-analysis-for-web-applications-with-application-insights"></a>Анализ использования для веб-приложений с помощью Application Insights

Какие функции веб-приложения наиболее популярны? Достигают ли пользователи своих целей с помощью вашего приложения? Уходят ли они в определенные моменты и возвращаются ли после этого?  [Azure Application Insights](app-insights-overview.md) помогает получить важные сведения о том, как люди используют ваше веб-приложение. Каждый раз, обновив приложение, можно оценить, насколько хорошо оно подходит пользователям. Обладая такими сведениями, можно принять решения на основе данных по дальнейшим циклам разработки.

## <a name="send-telemetry-from-your-app"></a>Отправка телеметрии из приложения

максимальное удобство Hello получается путем установки Application Insights, и в коде приложения сервера, так и на веб-страницах. Hello клиентские и серверные компоненты приложения отправить назад toohello телеметрии портала Azure для анализа.

1. **Код сервера:** Install hello соответствующий модуль для вашей [ASP.NET](app-insights-asp-net.md), [Azure](app-insights-azure.md), [Java](app-insights-java-get-started.md), [Node.js](app-insights-nodejs.md), или [других](app-insights-platforms.md) приложения.

    * *Не хотите tooinstall серверного кода? Просто [создайте ресурс Azure Application Insights](app-insights-create-new-resource.md).*

2. **Код веб-страницы:** Привет открыть [портал Azure](https://portal.azure.com), откройте hello ресурс Application Insights для своего приложения, а затем **Приступая к работе > мониторинг и диагностика клиентского**. 

    ![Скопируйте скрипт hello в head hello главной страницы.](./media/app-insights-usage-overview/02-monitor-web-page.png)


3. **Получение телеметрии:** запуска проекта в режиме отладки в течение нескольких минут, а затем найдите для результатов в колонке Обзор hello в Application Insights.

    Публикация вашего приложения toomonitor производительность приложения и узнать, что делают ваши пользователи вместе с приложением.

## <a name="include-user-and-session-id-in-your-telemetry"></a>Добавление идентификатора пользователя и сеанса к телеметрии
Пользователи tootrack со временем, Application Insights требуется tooidentify способ их. Hello событий, которые оно hello единственное средство использования, не требуется идентификатор пользователя или идентификатор сеанса.

Приступите к отправке этих идентификаторов [сюда](https://docs.microsoft.com/azure/application-insights/app-insights-usage-send-user-context).

## <a name="explore-usage-demographics-and-statistics"></a>Изучение демографических данных об использовании и статистики
Узнайте, когда люди используют ваше приложение, какие страницы им наиболее интересны, где находятся ваши пользователи, какие браузеры и операционные системы они используют. 

отчеты пользователей и сеансов Hello фильтр к свои данным страницами и пользовательские события и их сегментировать, свойства, такие как расположение, среды и страницы. Можно также добавить собственные фильтры.

![Пользователи](./media/app-insights-usage-overview/users.png)  

Важные сведения о hello правой отметить содержательные закономерности в hello набора данных.  

* Hello **пользователей** отчетов подсчитывает количество уникальных пользователей, получающих доступ к страницам в период выбранный момент времени в hello. (Пользователи подсчитываются с помощью файлов cookie. Если какой-либо пользователь обращается к вашему сайту, используя различные браузеры или клиентские компьютеры, или очищает файлы cookie, то он будет учтен более одного раза.)
* Hello **сеансы** hello число пользовательских сеансов, которые обращаются к сайту учитываются в отчете. Сеанс — это период действий пользователя, завершающийся периодом бездействия более получаса.

[Дополнительные сведения о средствах hello пользователям, сеансам и события](app-insights-usage-segmentation.md)  

## <a name="page-views"></a>Просмотры страниц

Из колонки использования hello переходите tooget плитки представления страницы приветствия декомпозиция наиболее популярных веб-страниц.

![Из колонки Обзор hello щелкните hello страницы представления диаграммы](./media/app-insights-usage-overview/05-games.png)

пример Hello выше является игры веб-сайта. Из диаграммы hello мгновенно видно:

* Использование не значительно hello прошлой неделе. Возможно, стоит задуматься о поисковой оптимизации?
* Теннис является наиболее популярные игры страницы приветствия. Рассмотрим дальнейшего улучшения toothis страницы.
* В среднем пользователей на странице приветствия Теннис примерно в три раза в неделю. (Сеансов примерно в три раза больше, чем пользователей.)
* Большинство пользователей узле hello во время hello США рабочей недели, а также в рабочие часы. Возможно должен предоставить кнопка «быстрый скрыть» на веб-странице приветствия.
* Hello [заметки](app-insights-annotations.md) на диаграмме hello Показать, когда новые версии hello веб-сайта были развернуты. Ни один из последних развертываний hello было заметно влияет на использование.

Что делать, если хотите сайта tooyour трафика hello tooinvestigate более подробно, например разбиение по пользовательское свойство, которое отправляет его телеметрии просмотров страниц веб-узла?

1. Откройте hello **события** средства в меню ресурса Application Insights hello. Этот инструмент позволяет проанализировать, сколько просмотров страниц и пользовательских событий было отправлено из приложения, используя разнообразные параметры фильтров, когорт и сегментов.
2. В hello «, используемая» раскрывающийся список выберите «View Any страницы».
3. В раскрывающемся списке «Разбиение по» hello выберите какие toosplit телеметрии просмотреть страницу свойств.

## <a name="retention---how-many-users-come-back"></a>Период удержания — сколько пользователей вернулось?

Хранения поможет вам понять, как часто пользователи возвращают toouse свои приложения с учетом последователей пользователей, которые выполнены какие-либо действия бизнес в течение определенного интервала времени. 

- Понимать, какие функции привести к пользователям назад toocome сильнее, чем другие 
- Сформируйте гипотезу на основе данных реальных пользователей. 
- Определите, является ли период удержания проблемой для вашего продукта. 

![Сохранение](./media/app-insights-usage-overview/retention.png) 

элементы управления хранения Hello в верхней части разрешить вы toodefine определенных событий и хранения toocalculate диапазона времени. Hello график в середине hello дает визуальное представление hello общий процент удержания указанный диапазон времени hello. График Hello на нижней hello представляет отдельных хранения в определенный период времени. Такой уровень детализации позволяет toounderstand делают какие ваши пользователи, а также то, что может повлиять на пользователей на более подробные гранулярности.  

[Дополнительные сведения о средство хранения hello](app-insights-usage-retention.md)

## <a name="custom-business-events"></a>Пользовательские бизнес-события

tooget, следует четко понимать, какие пользователи с веб-приложения, это полезно tooinsert строк кода toolog пользовательских событий. Эти события можно отследить все подробные пользовательского действия, например на нажатие конкретных кнопок, toomore значительные бизнес-события, например покупкой или выиграть игры. 

Хотя в некоторых случаях просмотры страниц могут представлять собой полезные события, но в целом это не так. Пользователь может открывать страницу продукта без приобретения hello продукта. 

С помощью специальных бизнес-событий можно создать диаграмму перемещения пользователей по сайту. Можно узнать их предпочтения относительно различных параметров, а также определить, где они покидают сайт или испытывают сложности. Обладая такими сведениями могли принимать обоснованные решения о приоритетах hello в невыполненной работе разработки.

События могут регистрироваться hello веб-странице:

```JavaScript

    appInsights.trackEvent("ExpandDetailTab", {DetailTab: tabName});
```

Или на стороне сервера hello hello веб-приложения:

```C#
    var tc = new Microsoft.ApplicationInsights.TelemetryClient();
    tc.TrackEvent("CreatedAccount", new Dictionary<string,string> {"AccountType":account.Type}, null);
    ...
    tc.TrackEvent("AddedItemToCart", new Dictionary<string,string> {"Item":item.Name}, null);
    ...
    tc.TrackEvent("CompletedPurchase");
```

События toothese значения свойств, можно прикрепить таким образом, можно фильтровать или разделить hello события при их исследовать hello портала. Кроме того стандартный набор свойств — tooeach присоединенные события, например идентификатор анонимного пользователя, который позволяет вам tootrace hello последовательность действий для отдельного пользователя.

Узнайте больше о [пользовательских событиях](app-insights-api-custom-events-metrics.md#trackevent) и [свойствах](app-insights-api-custom-events-metrics.md#properties).

### <a name="slice-and-dice-events"></a>Анализ событий

В средствах hello пользователям, сеансам и события можно плоскостных и объемных срезов пользовательские события, пользователя, имя события и свойства.
![Пользователи](./media/app-insights-usage-overview/users.png)  
  
## <a name="design-hello-telemetry-with-hello-app"></a>Данные телеметрии hello разработки с помощью приложения hello

При конструировании каждого компонента приложения, рассмотрим, как будет toomeasure его успешное выполнение с пользователями. Решите, запуска бизнес-событий необходимо toorecord, а также кода hello вызовов для этих событий отслеживания в ваше приложение hello.

## <a name="a--b-testing"></a>Тестирование A или B 
Если вы не знаете, какой вариант компонента будет более эффективен, освободить оба параметра, делая каждого доступного toodifferent пользователей. Успех hello каждого измерения, а затем переместите tooa единой версии.

Этот прием присоединить телеметрии hello tooall значений различных свойств, отправляемый по каждой версии приложения. Это можно сделать путем определения свойств в hello active TelemetryContext. Эти свойства по умолчанию добавляются, отправляет сообщения tooevery телеметрии, приложение hello - не только на пользовательские сообщения, но также стандартной телеметрии hello.

На портале Application Insights hello фильтрации и разбить данные на значения свойств hello, таким образом, как разные версии toocompare hello.

toodo, [Настройка инициализатор телеметрии](app-insights-api-filtering-sampling.md##add-properties-itelemetryinitializer):

```C#


    // Telemetry initializer class
    public class MyTelemetryInitializer : ITelemetryInitializer
    {
        public void Initialize (ITelemetry telemetry)
        {
            telemetry.Properties["AppVersion"] = "v2.1";
        }
    }
```

В инициализаторе приложения hello web например Global.asax.cs:

```C#

    protected void Application_Start()
    {
        // ...
        TelemetryConfiguration.Active.TelemetryInitializers
        .Add(new MyTelemetryInitializer());
    }
```

Все новые TelemetryClients автоматически добавляют заданного значения свойства hello. События телеметрии отдельных можно переопределить значения по умолчанию hello.

## <a name="next-steps"></a>Дальнейшие действия
   - [Пользователи, сеансы, события](app-insights-usage-segmentation.md)
   - [Воронки](usage-funnels.md)
   - [Сохранение](app-insights-usage-retention.md)
   - [Средство "Маршруты пользователей"](app-insights-usage-flows.md)
   - [Книги](app-insights-usage-workbooks.md)
   - [Добавление контекста пользователей](app-insights-usage-send-user-context.md)
