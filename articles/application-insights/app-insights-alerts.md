---
title: "aaaSet оповещений в Azure Application Insights | Документы Microsoft"
description: "Получайте уведомления о малом времени отклика, исключениях или других изменениях производительности или использования в веб-приложении."
services: application-insights
documentationcenter: 
author: CFreemanwa
manager: carmonm
ms.assetid: f8ebde72-f819-4ba5-afa2-31dbd49509a5
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: bwren
ms.openlocfilehash: e160cb173e68fda2e6d97f29da342c46b7ac4f19
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="set-alerts-in-application-insights"></a><span data-ttu-id="adddb-103">Настройка оповещений в Application Insights</span><span class="sxs-lookup"><span data-stu-id="adddb-103">Set Alerts in Application Insights</span></span>
<span data-ttu-id="adddb-104">[Azure Application Insights] [ start] предупреждения toochanges метрик производительности или использования в веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="adddb-104">[Azure Application Insights][start] can alert you toochanges in performance or usage metrics in your web app.</span></span> 

<span data-ttu-id="adddb-105">Application Insights мониторов работающем приложении для [разнообразных платформах] [ platforms] toohelp диагностики проблем с производительностью и понять закономерности использования.</span><span class="sxs-lookup"><span data-stu-id="adddb-105">Application Insights monitors your live app on a [wide variety of platforms][platforms] toohelp you diagnose performance issues and understand usage patterns.</span></span>

<span data-ttu-id="adddb-106">Оповещения бывают трех типов:</span><span class="sxs-lookup"><span data-stu-id="adddb-106">There are three kinds of alerts:</span></span>

* <span data-ttu-id="adddb-107">**оповещения о метриках**, сообщающие, что какая-либо метрика, например времени отклика, числа исключений, загрузки ЦП или количества просмотров страницы, достигла порогового значения за некоторый период времени;</span><span class="sxs-lookup"><span data-stu-id="adddb-107">**Metric alerts** tell you when a metric crosses a threshold value for some period - such as response times, exception counts, CPU usage, or page views.</span></span> 
* <span data-ttu-id="adddb-108">[**Веб-тестов** ] [ availability] сообщит о том, когда веб-узла недоступно на hello Интернета или отвечать медленно.</span><span class="sxs-lookup"><span data-stu-id="adddb-108">[**Web tests**][availability] tell you when your site is unavailable on hello internet, or responding slowly.</span></span> <span data-ttu-id="adddb-109">[Подробнее][availability]</span><span class="sxs-lookup"><span data-stu-id="adddb-109">[Learn more][availability].</span></span>
* <span data-ttu-id="adddb-110">[**Проактивная Диагностика** ](app-insights-proactive-diagnostics.md) настраиваются автоматически toonotify о необычных производительности шаблоны.</span><span class="sxs-lookup"><span data-stu-id="adddb-110">[**Proactive diagnostics**](app-insights-proactive-diagnostics.md) are configured automatically toonotify you about unusual performance patterns.</span></span>

<span data-ttu-id="adddb-111">В этой статье мы рассмотрим оповещения о метриках.</span><span class="sxs-lookup"><span data-stu-id="adddb-111">We focus on metric alerts in this article.</span></span>

## <a name="set-a-metric-alert"></a><span data-ttu-id="adddb-112">Задание оповещения о метриках</span><span class="sxs-lookup"><span data-stu-id="adddb-112">Set a Metric alert</span></span>
<span data-ttu-id="adddb-113">Привет открыть колонку правила оповещения, а затем используйте hello добавьте кнопку.</span><span class="sxs-lookup"><span data-stu-id="adddb-113">Open hello Alert rules blade, and then use hello add button.</span></span> 

![В колонке hello правила генерации оповещений выберите Добавление оповещения.](./media/app-insights-alerts/01-set-metric.png)

* <span data-ttu-id="adddb-116">Задайте другие свойства ресурса hello перед hello.</span><span class="sxs-lookup"><span data-stu-id="adddb-116">Set hello resource before hello other properties.</span></span> <span data-ttu-id="adddb-117">**Выберите ресурс hello «(компоненты)»** Если tooset оповещения о показателях производительности или использования.</span><span class="sxs-lookup"><span data-stu-id="adddb-117">**Choose hello "(components)" resource** if you want tooset alerts on performance or usage metrics.</span></span>
* <span data-ttu-id="adddb-118">Hello имя, присвоенное toohello предупреждение должно быть уникальным в пределах группы ресурсов hello (не только ваши приложения).</span><span class="sxs-lookup"><span data-stu-id="adddb-118">hello name that you give toohello alert must be unique within hello resource group (not just your application).</span></span>
* <span data-ttu-id="adddb-119">Быть тщательно toonote hello единиц, в которых в ответ на вопрос tooenter hello пороговое значение.</span><span class="sxs-lookup"><span data-stu-id="adddb-119">Be careful toonote hello units in which you're asked tooenter hello threshold value.</span></span>
* <span data-ttu-id="adddb-120">Если флажок hello «... владельцы электронной почты» tooeveryone электронной почты, кто имеет доступ группе ресурсов toothis отправляются предупреждения.</span><span class="sxs-lookup"><span data-stu-id="adddb-120">If you check hello box "Email owners...", alerts are sent by email tooeveryone who has access toothis resource group.</span></span> <span data-ttu-id="adddb-121">tooexpand этот набор пользователей, добавьте их toohello [группу ресурсов или подписку](app-insights-resources-roles-access-control.md) (не hello ресурсов).</span><span class="sxs-lookup"><span data-stu-id="adddb-121">tooexpand this set of people, add them toohello [resource group or subscription](app-insights-resources-roles-access-control.md) (not hello resource).</span></span>
* <span data-ttu-id="adddb-122">Если указать «Дополнительные сообщения электронной почты», оповещения отправляются toothose отдельных пользователей или групп (ли установлен флажок «email владельцев...» hello).</span><span class="sxs-lookup"><span data-stu-id="adddb-122">If you specify "Additional emails", alerts are sent toothose individuals or groups (whether or not you checked hello "email owners..." box).</span></span> 
* <span data-ttu-id="adddb-123">Задать [адрес веб-перехватчика](../monitoring-and-diagnostics/insights-webhooks-alerts.md) при настройке веб-приложения, который отвечает tooalerts.</span><span class="sxs-lookup"><span data-stu-id="adddb-123">Set a [webhook address](../monitoring-and-diagnostics/insights-webhooks-alerts.md) if you have set up a web app that responds tooalerts.</span></span> <span data-ttu-id="adddb-124">Он вызывается при активации оповещения hello и когда он разрешен.</span><span class="sxs-lookup"><span data-stu-id="adddb-124">It is called both when hello alert is Activated and when it is Resolved.</span></span> <span data-ttu-id="adddb-125">(Обратите внимание, что в настоящее время параметры запроса не передаются как свойства объекта webhook.)</span><span class="sxs-lookup"><span data-stu-id="adddb-125">(But note that at present, query parameters are not passed through as webhook properties.)</span></span>
* <span data-ttu-id="adddb-126">Можно отключить или включить оповещение hello: hello кнопки hello верхней части колонки hello.</span><span class="sxs-lookup"><span data-stu-id="adddb-126">You can Disable or Enable hello alert: see hello buttons at hello top of hello blade.</span></span>

<span data-ttu-id="adddb-127">*Я не вижу hello кнопки "добавить оповещение".*</span><span class="sxs-lookup"><span data-stu-id="adddb-127">*I don't see hello Add Alert button.*</span></span> 

* <span data-ttu-id="adddb-128">Вы используете учетную запись организации?</span><span class="sxs-lookup"><span data-stu-id="adddb-128">Are you using an organizational account?</span></span> <span data-ttu-id="adddb-129">Можно настроить оповещения, при наличии владельца или участника доступ toothis ресурса приложения.</span><span class="sxs-lookup"><span data-stu-id="adddb-129">You can set alerts if you have owner or contributor access toothis application resource.</span></span> <span data-ttu-id="adddb-130">Взгляните на колонки hello контроля доступа.</span><span class="sxs-lookup"><span data-stu-id="adddb-130">Take a look at hello Access Control blade.</span></span> <span data-ttu-id="adddb-131">[Дополнительная информация о контроле доступа][roles].</span><span class="sxs-lookup"><span data-stu-id="adddb-131">[Learn about access control][roles].</span></span>

> [!NOTE]
> <span data-ttu-id="adddb-132">В колонке hello оповещения, можно видеть, что уже набор предупреждений: [Проактивная Диагностика](app-insights-proactive-failure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="adddb-132">In hello alerts blade, you see that there's already an alert set up: [Proactive Diagnostics](app-insights-proactive-failure-diagnostics.md).</span></span> <span data-ttu-id="adddb-133">Предупреждения автоматического Hello отслеживает один определенный показатель, частота сбоев.</span><span class="sxs-lookup"><span data-stu-id="adddb-133">hello automatic alert monitors one particular metric, request failure rate.</span></span> <span data-ttu-id="adddb-134">Если вы решите toodisable hello упреждающие оповещения, нет необходимости tooset оповещение на Частота сбоев запросов.</span><span class="sxs-lookup"><span data-stu-id="adddb-134">Unless you decide toodisable hello proactive alert, you don't need tooset your own alert on request failure rate.</span></span> 
> 
> 

## <a name="see-your-alerts"></a><span data-ttu-id="adddb-135">Отображение оповещений</span><span class="sxs-lookup"><span data-stu-id="adddb-135">See your alerts</span></span>
<span data-ttu-id="adddb-136">Вы получите сообщение электронной почты при изменении состояния предупреждения с неактивного на активное.</span><span class="sxs-lookup"><span data-stu-id="adddb-136">You get an email when an alert changes state between inactive and active.</span></span> 

<span data-ttu-id="adddb-137">Привет текущее состояние каждого предупреждения отображается в колонке hello правила оповещений.</span><span class="sxs-lookup"><span data-stu-id="adddb-137">hello current state of each alert is shown in hello Alert rules blade.</span></span>

<span data-ttu-id="adddb-138">Имеется Сводка Недавние действия в оповещениях hello раскрывающегося списка:</span><span class="sxs-lookup"><span data-stu-id="adddb-138">There's a summary of recent activity in hello alerts drop-down:</span></span>

![Раскрывающийся список оповещений](./media/app-insights-alerts/010-alert-drop.png)

<span data-ttu-id="adddb-140">журнал изменений состояния Hello имеет hello журнал действий:</span><span class="sxs-lookup"><span data-stu-id="adddb-140">hello history of state changes is in hello Activity Log:</span></span>

![В колонке Обзор hello нажмите кнопку Параметры, журналы аудита](./media/app-insights-alerts/09-alerts.png)

## <a name="how-alerts-work"></a><span data-ttu-id="adddb-142">Принципы работы оповещений</span><span class="sxs-lookup"><span data-stu-id="adddb-142">How alerts work</span></span>
* <span data-ttu-id="adddb-143">У оповещения бывает три состояния: Never activated (Еще не активировалось), "Активировано" и "Разрешено".</span><span class="sxs-lookup"><span data-stu-id="adddb-143">An alert has three states: "Never activated", "Activated", and "Resolved."</span></span> <span data-ttu-id="adddb-144">Активированная означает hello условиям имел значение true, при последней проверки.</span><span class="sxs-lookup"><span data-stu-id="adddb-144">Activated means hello condition you specified was true, when it was last evaluated.</span></span>
* <span data-ttu-id="adddb-145">Когда оповещение изменяет состояние, создается уведомление.</span><span class="sxs-lookup"><span data-stu-id="adddb-145">A notification is generated when an alert changes state.</span></span> <span data-ttu-id="adddb-146">(Если условие оповещения hello уже имел значение true, при создании предупреждения hello, можно получить не уведомления пока условие hello выйдет false.)</span><span class="sxs-lookup"><span data-stu-id="adddb-146">(If hello alert condition was already true when you created hello alert, you might not get a notification until hello condition goes false.)</span></span>
* <span data-ttu-id="adddb-147">Каждого уведомления создают сообщение электронной почты, если проверяется поле сообщения hello или предоставленный адреса электронной почты.</span><span class="sxs-lookup"><span data-stu-id="adddb-147">Each notification generates an email if you checked hello emails box, or provided email addresses.</span></span> <span data-ttu-id="adddb-148">Можно также найти в раскрывающемся списке hello уведомления.</span><span class="sxs-lookup"><span data-stu-id="adddb-148">You can also look at hello Notifications drop-down list.</span></span>
* <span data-ttu-id="adddb-149">Каждый раз при получении метрики выполняется оценка оповещения (но не в других случаях).</span><span class="sxs-lookup"><span data-stu-id="adddb-149">An alert is evaluated each time a metric arrives, but not otherwise.</span></span>
* <span data-ttu-id="adddb-150">оценки Hello объединение метрика hello через предшествующий период hello и сравнивает его нового состояния hello toodetermine toohello пороговое значение.</span><span class="sxs-lookup"><span data-stu-id="adddb-150">hello evaluation aggregates hello metric over hello preceding period, and then compares it toohello threshold toodetermine hello new state.</span></span>
* <span data-ttu-id="adddb-151">Hello период, выбранный указывает интервал приветствия, через который объединяются метрики.</span><span class="sxs-lookup"><span data-stu-id="adddb-151">hello period that you choose specifies hello interval over which metrics are aggregated.</span></span> <span data-ttu-id="adddb-152">Он не влияет на частоту hello вычисляется предупреждение: зависит от частоты hello прибытия метрик.</span><span class="sxs-lookup"><span data-stu-id="adddb-152">It doesn't affect how often hello alert is evaluated: that depends on hello frequency of arrival of metrics.</span></span>
* <span data-ttu-id="adddb-153">Если данные не достигает определенного метрика некоторое время, разрыв hello имеет различные последствия для ознакомления с оповещением и на диаграммах hello в обозревателе метрик.</span><span class="sxs-lookup"><span data-stu-id="adddb-153">If no data arrives for a particular metric for some time, hello gap has different effects on alert evaluation and on hello charts in metric explorer.</span></span> <span data-ttu-id="adddb-154">В обозревателе метрик Если данные не происходит дольше, чем интервал выборки hello диаграммы hello диаграмме показано значение 0.</span><span class="sxs-lookup"><span data-stu-id="adddb-154">In metric explorer, if no data is seen for longer than hello chart's sampling interval, hello chart shows a value of 0.</span></span> <span data-ttu-id="adddb-155">Но предупреждения по hello же метрика не будет вычисляться и hello его состояние не изменяется.</span><span class="sxs-lookup"><span data-stu-id="adddb-155">But an alert based on hello same metric is not be reevaluated, and hello alert's state remains unchanged.</span></span> 
  
    <span data-ttu-id="adddb-156">По прибытии данных со временем диаграммы hello переходит назад tooa ненулевое значение.</span><span class="sxs-lookup"><span data-stu-id="adddb-156">When data eventually arrives, hello chart jumps back tooa non-zero value.</span></span> <span data-ttu-id="adddb-157">Вычисляет Hello оповещения на основе hello данных за указанный период hello недоступны.</span><span class="sxs-lookup"><span data-stu-id="adddb-157">hello alert evaluates based on hello data available for hello period you specified.</span></span> <span data-ttu-id="adddb-158">Если новая точка данных hello hello только один, доступный в период hello, hello статистические основывается только на что точек данных.</span><span class="sxs-lookup"><span data-stu-id="adddb-158">If hello new data point is hello only one available in hello period, hello aggregate is based just on that data point.</span></span>
* <span data-ttu-id="adddb-159">Даже если задать длительный период, оповещение может часто менять свое состояние с "предупреждение" на "работоспособен" и наоборот.</span><span class="sxs-lookup"><span data-stu-id="adddb-159">An alert can flicker frequently between alert and healthy states, even if you set a long period.</span></span> <span data-ttu-id="adddb-160">Это может произойти, если значение метрики hello контролируемое hello пороговое значение.</span><span class="sxs-lookup"><span data-stu-id="adddb-160">This can happen if hello metric value hovers around hello threshold.</span></span> <span data-ttu-id="adddb-161">Нет не гистерезис в hello порога: hello tooalert переход происходит на hello совпадает со значением в toohealthy перехода hello.</span><span class="sxs-lookup"><span data-stu-id="adddb-161">There is no hysteresis in hello threshold: hello transition tooalert happens at hello same value as hello transition toohealthy.</span></span>

## <a name="what-are-good-alerts-tooset"></a><span data-ttu-id="adddb-162">Что такое хорошее предупреждения tooset</span><span class="sxs-lookup"><span data-stu-id="adddb-162">What are good alerts tooset?</span></span>
<span data-ttu-id="adddb-163">Это зависит от приложения.</span><span class="sxs-lookup"><span data-stu-id="adddb-163">It depends on your application.</span></span> <span data-ttu-id="adddb-164">toostart, он имеет наилучшим образом не tooset слишком много метрики.</span><span class="sxs-lookup"><span data-stu-id="adddb-164">toostart with, it's best not tooset too many metrics.</span></span> <span data-ttu-id="adddb-165">Потратить некоторое время, просмотрев метрики диаграммы, пока выполняется приложение, tooget поведение в соответствии с его поведение обычным образом.</span><span class="sxs-lookup"><span data-stu-id="adddb-165">Spend some time looking at your metric charts while your app is running, tooget a feel for how it behaves normally.</span></span> <span data-ttu-id="adddb-166">Такой подход помогает найти tooimprove способы его производительность.</span><span class="sxs-lookup"><span data-stu-id="adddb-166">This practice helps you find ways tooimprove its performance.</span></span> <span data-ttu-id="adddb-167">Затем настройте tootell оповещения вы при переходе hello метрики за пределами зоны обычный hello.</span><span class="sxs-lookup"><span data-stu-id="adddb-167">Then set up alerts tootell you when hello metrics go outside hello normal zone.</span></span> 

<span data-ttu-id="adddb-168">Чаще всего используются следующие оповещения.</span><span class="sxs-lookup"><span data-stu-id="adddb-168">Popular alerts include:</span></span>

* <span data-ttu-id="adddb-169">[Метрики браузера][client] (особенно показатель **времени загрузки страницы** браузера) удобно использовать для веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="adddb-169">[Browser metrics][client], especially Browser **page load times**, are good for web applications.</span></span> <span data-ttu-id="adddb-170">Если на странице имеется много сценариев, следует искать **исключения браузера**.</span><span class="sxs-lookup"><span data-stu-id="adddb-170">If your page has many scripts, you should look for **browser exceptions**.</span></span> <span data-ttu-id="adddb-171">В порядке tooget эти метрики и предупреждения, имеется tooset [наблюдения за веб-страницы][client].</span><span class="sxs-lookup"><span data-stu-id="adddb-171">In order tooget these metrics and alerts, you have tooset up [web page monitoring][client].</span></span>
* <span data-ttu-id="adddb-172">**Время ответа сервера** hello на стороне сервера веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="adddb-172">**Server response time** for hello server side of web applications.</span></span> <span data-ttu-id="adddb-173">А также настройка оповещений, следить за этот показатель toosee, если он зависит от непропорционально высокая скорость: вариантов может означать, что приложение хватает ресурсов.</span><span class="sxs-lookup"><span data-stu-id="adddb-173">As well as setting up alerts, keep an eye on this metric toosee if it varies disproportionately with high request rates: variation might indicate that your app is running out of resources.</span></span> 
* <span data-ttu-id="adddb-174">**Исключения сервера** -toosee их, у вас есть toodo некоторые [дополнительная настройка](app-insights-asp-net-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="adddb-174">**Server exceptions** - toosee them, you have toodo some [additional setup](app-insights-asp-net-exceptions.md).</span></span>

<span data-ttu-id="adddb-175">Помните, что [диагностики скорость упреждающего сбоя](app-insights-proactive-failure-diagnostics.md) автоматически частоту hello монитора, по которому приложение отвечает toorequests с коды ошибок.</span><span class="sxs-lookup"><span data-stu-id="adddb-175">Don't forget that [proactive failure rate diagnostics](app-insights-proactive-failure-diagnostics.md) automatically monitor hello rate at which your app responds toorequests with failure codes.</span></span> 

## <a name="automation"></a><span data-ttu-id="adddb-176">Служба автоматизации</span><span class="sxs-lookup"><span data-stu-id="adddb-176">Automation</span></span>
* [<span data-ttu-id="adddb-177">Используйте PowerShell tooautomate Настройка оповещений</span><span class="sxs-lookup"><span data-stu-id="adddb-177">Use PowerShell tooautomate setting up alerts</span></span>](app-insights-powershell-alerts.md)
* [<span data-ttu-id="adddb-178">Использовать веб-перехватчиков tooautomate отвечает tooalerts</span><span class="sxs-lookup"><span data-stu-id="adddb-178">Use webhooks tooautomate responding tooalerts</span></span>](../monitoring-and-diagnostics/insights-webhooks-alerts.md)

## <a name="video"></a><span data-ttu-id="adddb-179">Видео</span><span class="sxs-lookup"><span data-stu-id="adddb-179">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/112/player]

## <a name="see-also"></a><span data-ttu-id="adddb-180">См. также</span><span class="sxs-lookup"><span data-stu-id="adddb-180">See also</span></span>
* [<span data-ttu-id="adddb-181">Доступность веб-тестов</span><span class="sxs-lookup"><span data-stu-id="adddb-181">Availability web tests</span></span>](app-insights-monitor-web-app-availability.md)
* [<span data-ttu-id="adddb-182">Автоматическая настройка оповещений</span><span class="sxs-lookup"><span data-stu-id="adddb-182">Automate setting up alerts</span></span>](app-insights-powershell-alerts.md)
* [<span data-ttu-id="adddb-183">Упреждающая диагностика</span><span class="sxs-lookup"><span data-stu-id="adddb-183">Proactive diagnostics</span></span>](app-insights-proactive-diagnostics.md) 

<!--Link references-->

[availability]: app-insights-monitor-web-app-availability.md
[client]: app-insights-javascript.md
[platforms]: app-insights-platforms.md
[roles]: app-insights-resources-roles-access-control.md
[start]: app-insights-overview.md

