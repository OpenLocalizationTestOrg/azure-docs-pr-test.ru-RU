---
title: "aaaApplication аналитики телеметрии в Visual Studio CodeLens | Документы Microsoft"
description: "Быстро получайте доступ к телеметрии запросов и исключений Application Insights с помощью CodeLens в Visual Studio."
services: application-insights
documentationcenter: .net
author: numberbycolors
manager: carmonm
ms.assetid: 93559e44-23cb-4b9d-8425-60f7f0d0a82c
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/17/2017
ms.author: bwren
ms.openlocfilehash: e812aa48f2a67eea860e7ecde341855763bb8a8b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="application-insights-telemetry-in-visual-studio-codelens"></a><span data-ttu-id="6017c-103">Телеметрия Application Insights в Visual Studio CodeLens</span><span class="sxs-lookup"><span data-stu-id="6017c-103">Application Insights telemetry in Visual Studio CodeLens</span></span>
<span data-ttu-id="6017c-104">Методы в коде hello веб-приложения могут сопровождаться телеметрии об исключениях во время выполнения и запросить времени ответа.</span><span class="sxs-lookup"><span data-stu-id="6017c-104">Methods in hello code of your web app can be annotated with telemetry about run-time exceptions and request response times.</span></span> <span data-ttu-id="6017c-105">При установке [Azure Application Insights](app-insights-overview.md) в приложении, в Visual Studio появляется телеметрии hello [CodeLens](https://msdn.microsoft.com/library/dn269218.aspx) -hello заметки hello верхней части каждой функции, в которых она используется полезные tooseeing сведения, например номер hello функции hello местах упоминается или hello последнего пользователя, его изменения.</span><span class="sxs-lookup"><span data-stu-id="6017c-105">If you install [Azure Application Insights](app-insights-overview.md) in your application, hello telemetry appears in Visual Studio [CodeLens](https://msdn.microsoft.com/library/dn269218.aspx) - hello notes at hello top of each function where you're used tooseeing useful information such as hello number of places hello function is referenced or hello last person who edited it.</span></span>

![CodeLens](./media/app-insights-visual-studio-codelens/codelens-overview.png)

> [!NOTE]
> <span data-ttu-id="6017c-107">Application Insights в CodeLens доступен в Visual Studio 2015 с обновлением 3 и более поздней версии или с hello последнюю версию [средства анализа для разработчиков расширение](https://visualstudiogallery.msdn.microsoft.com/82367b81-3f97-4de1-bbf1-eaf52ddc635a).</span><span class="sxs-lookup"><span data-stu-id="6017c-107">Application Insights in CodeLens is available in Visual Studio 2015 Update 3 and later, or with hello latest version of [Developer Analytics Tools extension](https://visualstudiogallery.msdn.microsoft.com/82367b81-3f97-4de1-bbf1-eaf52ddc635a).</span></span> <span data-ttu-id="6017c-108">Средство CodeLens доступно в выпусках Enterprise hello и профессиональные выпуски Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6017c-108">CodeLens is available in hello Enterprise and Professional editions of Visual Studio.</span></span>
> 
> 

## <a name="where-toofind-application-insights-data"></a><span data-ttu-id="6017c-109">Где toofind данные Application Insights</span><span class="sxs-lookup"><span data-stu-id="6017c-109">Where toofind Application Insights data</span></span>
<span data-ttu-id="6017c-110">Поиск телеметрии Application Insights в индикаторы CodeLens hello hello открытый запрос методов веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="6017c-110">Look for Application Insights telemetry in hello CodeLens indicators of hello public request methods of your web application.</span></span> <span data-ttu-id="6017c-111">Индикаторы CodeLens отображаются над объявлениями метода и другими объявлениями в коде C# и Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="6017c-111">CodeLens indicators are shown above method and other declarations in C# and Visual Basic code.</span></span> <span data-ttu-id="6017c-112">При наличии данных Application Insights для метода вы увидите индикаторы запросов и исключений, например "Запросов: 100, не выполнено: 1 %" или "Исключений: 10".</span><span class="sxs-lookup"><span data-stu-id="6017c-112">If Application Insights data is available for a method, you'll see indicators for requests and exceptions such as "100 requests, 1% failed" or "10 exceptions."</span></span> <span data-ttu-id="6017c-113">Для получения дополнительных сведений щелкните индикатор CodeLens.</span><span class="sxs-lookup"><span data-stu-id="6017c-113">Click a CodeLens indicator for more details.</span></span> 

> [!TIP]
> <span data-ttu-id="6017c-114">Запрос Application Insights и индикаторы исключение может занять несколько секунд дополнительных tooload после появления другие индикаторы CodeLens.</span><span class="sxs-lookup"><span data-stu-id="6017c-114">Application Insights request and exception indicators may take a few extra seconds tooload after other CodeLens indicators appear.</span></span>
> 
> 

## <a name="exceptions-in-codelens"></a><span data-ttu-id="6017c-115">Исключения в CodeLens</span><span class="sxs-lookup"><span data-stu-id="6017c-115">Exceptions in CodeLens</span></span>
![ПОДЛЕЖИТ УТОЧНЕНИЮ](./media/app-insights-visual-studio-codelens/codelens-exceptions.png)

<span data-ttu-id="6017c-117">индикатор CodeLens исключение Hello отображает hello число исключений, произошедших в hello за последние 24 часа из hello 15 большинства часто встречающееся исключений в приложении в этот период, во время обработки запроса hello обслуживаемых метод hello.</span><span class="sxs-lookup"><span data-stu-id="6017c-117">hello exception CodeLens indicator shows hello number of exceptions that have occurred in hello past 24 hours from hello 15 most frequently occurring exceptions in your application during that period, while processing hello request served by hello method.</span></span>

<span data-ttu-id="6017c-118">toosee более подробные сведения, щелкните индикатор CodeLens hello исключения:</span><span class="sxs-lookup"><span data-stu-id="6017c-118">toosee more details, click hello exceptions CodeLens indicator:</span></span>

* <span data-ttu-id="6017c-119">Процент Hello, изменения в число исключений из hello последние 24 часа относительный toohello предыдущие 24 часа</span><span class="sxs-lookup"><span data-stu-id="6017c-119">hello percentage change in number of exceptions from hello most recent 24 hours relative toohello prior 24 hours</span></span>
* <span data-ttu-id="6017c-120">Выберите **Go toocode** toonavigate toohello исходный код функции hello исключения hello</span><span class="sxs-lookup"><span data-stu-id="6017c-120">Choose **Go toocode** toonavigate toohello source code for hello function throwing hello exception</span></span>
* <span data-ttu-id="6017c-121">Выберите **поиска** tooquery Здравствуйте, все экземпляры данного исключения, которые произошли в последние 24 часа.</span><span class="sxs-lookup"><span data-stu-id="6017c-121">Choose **Search** tooquery all instances of this exception that have occurred in hello past 24 hours</span></span>
* <span data-ttu-id="6017c-122">Выберите **тренда** tooview визуализации тренда вхождений данного исключения в hello за последние 24 часа</span><span class="sxs-lookup"><span data-stu-id="6017c-122">Choose **Trend** tooview a trend visualization for occurrences of this exception in hello past 24 hours</span></span>
* <span data-ttu-id="6017c-123">Выберите **просмотреть все исключения в этом приложении** tooquery Здравствуйте, все исключения, которые произошли за последние 24 часа</span><span class="sxs-lookup"><span data-stu-id="6017c-123">Choose **View all exceptions in this app** tooquery all exceptions that have occurred in hello past 24 hours</span></span>
* <span data-ttu-id="6017c-124">Выберите **исследовать тенденции исключение** tooview визуализации тренда для всех исключений, которые произошли в hello за последние 24 часа.</span><span class="sxs-lookup"><span data-stu-id="6017c-124">Choose **Explore exception trends** tooview a trend visualization for all exceptions that have occurred in hello past 24 hours.</span></span> 

> [!TIP]
> <span data-ttu-id="6017c-125">Вы видите «0 исключений» в CodeLens, но известно, что должно быть исключения, проверьте toomake отметку hello ресурса Application Insights в CodeLens.</span><span class="sxs-lookup"><span data-stu-id="6017c-125">If you see "0 exceptions" in CodeLens but you know there should be exceptions, check toomake sure hello right Application Insights resource is selected in CodeLens.</span></span> <span data-ttu-id="6017c-126">tooselect другой ресурс, щелкните правой кнопкой мыши проект в обозревателе решений hello и выберите **Application Insights > Выбор источника данных телеметрии**.</span><span class="sxs-lookup"><span data-stu-id="6017c-126">tooselect another resource, right-click on your project in hello Solution Explorer and choose **Application Insights > Choose Telemetry Source**.</span></span> <span data-ttu-id="6017c-127">CodeLens доступен только для hello 15 большинства часто встречающееся исключений в приложении в hello за последние 24 часа, таким образом, если исключение является hello шестнадцатый наиболее часто или даже меньше, вы увидите «0» исключения.</span><span class="sxs-lookup"><span data-stu-id="6017c-127">CodeLens is only shown for hello 15 most frequently occurring exceptions in your application in hello past 24 hours, so if an exception is hello 16th most frequently or less, you'll see "0 exceptions."</span></span> <span data-ttu-id="6017c-128">Исключения из представления ASP.NET могут не отображаться в методах контроллера hello, созданные эти представления.</span><span class="sxs-lookup"><span data-stu-id="6017c-128">Exceptions from ASP.NET views may not appear on hello controller methods that generated those views.</span></span>
> 
> [!TIP]
> <span data-ttu-id="6017c-129">Если в CodeLens отображается индикатор "Исключений: ?",</span><span class="sxs-lookup"><span data-stu-id="6017c-129">If you see "?</span></span> <span data-ttu-id="6017c-130">исключения» в CodeLens, необходимо tooassociate, истек срок действия учетной записи Azure вместе с Visual Studio или учетные данные учетной записи Azure.</span><span class="sxs-lookup"><span data-stu-id="6017c-130">exceptions" in CodeLens, you need tooassociate your Azure account with Visual Studio or your Azure account credential may have expired.</span></span> <span data-ttu-id="6017c-131">В любом случае щелкните индикатор "Исключений: ?"</span><span class="sxs-lookup"><span data-stu-id="6017c-131">In either case, click "?</span></span> <span data-ttu-id="6017c-132">исключения» и выберите **добавить учетную запись...**  tooenter учетные данные.</span><span class="sxs-lookup"><span data-stu-id="6017c-132">exceptions" and choose **Add an account...** tooenter your credentials.</span></span>
> 
> 

## <a name="requests-in-codelens"></a><span data-ttu-id="6017c-133">Запросы в CodeLens</span><span class="sxs-lookup"><span data-stu-id="6017c-133">Requests in CodeLens</span></span>
![ПОДЛЕЖИТ УТОЧНЕНИЮ](./media/app-insights-visual-studio-codelens/codelens-requests.png)

<span data-ttu-id="6017c-135">Hello запроса CodeLens отображается индикатор hello число HTTP-запросы, был обслужен методом в hello за 24 часа, а также процент hello эти запросы, которые не удалось.</span><span class="sxs-lookup"><span data-stu-id="6017c-135">hello request CodeLens indicator shows hello number of HTTP requests that been serviced by a method in hello past 24 hours, plus hello percentage of those requests that failed.</span></span>

<span data-ttu-id="6017c-136">toosee сведения, щелкните индикатор CodeLens запрашивает hello:</span><span class="sxs-lookup"><span data-stu-id="6017c-136">toosee more details, click hello requests CodeLens indicator:</span></span>

* <span data-ttu-id="6017c-137">Здравствуйте, абсолютное и процентное изменение номера запросов, неудачных запросов и среднее время ответа через hello за 24 часа по сравнению toohello предыдущие 24 часа</span><span class="sxs-lookup"><span data-stu-id="6017c-137">hello absolute and percentage changes in number of requests, failed requests, and average response times over hello past 24 hours compared toohello prior 24 hours</span></span>
* <span data-ttu-id="6017c-138">надежность Hello метода hello, вычисляется как процент hello запросов, не нарушает в hello за последние 24 часа</span><span class="sxs-lookup"><span data-stu-id="6017c-138">hello reliability of hello method, calculated as hello percentage of requests that did not fail in hello past 24 hours</span></span>
* <span data-ttu-id="6017c-139">Выберите **поиска** для запросов или tooquery невыполненных запросов, все hello (сбой) запросы, произошедших в hello за последние 24 часа</span><span class="sxs-lookup"><span data-stu-id="6017c-139">Choose **Search** for requests or failed requests tooquery all hello (failed) requests that occurred in hello past 24 hours</span></span>
* <span data-ttu-id="6017c-140">Выберите **тренда** tooview визуализации тренда для запросов, запросов с ошибками или среднего времени в hello за последние 24 часа.</span><span class="sxs-lookup"><span data-stu-id="6017c-140">Choose **Trend** tooview a trend visualization for requests, failed requests, or average response times in hello past 24 hours.</span></span>
* <span data-ttu-id="6017c-141">Выберите имя hello hello ресурс Application Insights в верхний левый угол hello hello CodeLens сведения о представлении toochange ресурса, который является источником данных элемента CodeLens hello.</span><span class="sxs-lookup"><span data-stu-id="6017c-141">Choose hello name of hello Application Insights resource in hello upper left corner of hello CodeLens details view toochange which resource is hello source for CodeLens data.</span></span>

## <span data-ttu-id="6017c-142"><a name="next"></a>Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="6017c-142"><a name="next"></a>Next steps</span></span>
|  |  |
| --- | --- |
| <span data-ttu-id="6017c-143">**[Работа с Application Insights в Visual Studio](app-insights-visual-studio.md)**</span><span class="sxs-lookup"><span data-stu-id="6017c-143">**[Working with Application Insights in Visual Studio](app-insights-visual-studio.md)**</span></span><br/><span data-ttu-id="6017c-144">Поиск телеметрии, просмотр данных в CodeLens и настройка Application Insights —</span><span class="sxs-lookup"><span data-stu-id="6017c-144">Search telemetry, see data in CodeLens, and configure Application Insights.</span></span> <span data-ttu-id="6017c-145">все это в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="6017c-145">All within Visual Studio.</span></span> |![Щелкните правой кнопкой мыши проект hello и выберите идеи приложения поиска](./media/app-insights-visual-studio-codelens/34.png) |
| <span data-ttu-id="6017c-147">**[Добавление данных](app-insights-asp-net-more.md)**</span><span class="sxs-lookup"><span data-stu-id="6017c-147">**[Add more data](app-insights-asp-net-more.md)**</span></span><br/><span data-ttu-id="6017c-148">Мониторинг использования, доступности, зависимостей и исключений.</span><span class="sxs-lookup"><span data-stu-id="6017c-148">Monitor usage, availability, dependencies, exceptions.</span></span> <span data-ttu-id="6017c-149">Интеграция трассировок из платформ ведения журналов.</span><span class="sxs-lookup"><span data-stu-id="6017c-149">Integrate traces from logging frameworks.</span></span> <span data-ttu-id="6017c-150">Написание пользовательской телеметрии.</span><span class="sxs-lookup"><span data-stu-id="6017c-150">Write custom telemetry.</span></span> |![Visual studio](./media/app-insights-visual-studio-codelens/64.png) |
| <span data-ttu-id="6017c-152">**[Работа с порталом Application Insights hello](app-insights-dashboards.md)**</span><span class="sxs-lookup"><span data-stu-id="6017c-152">**[Working with hello Application Insights portal](app-insights-dashboards.md)**</span></span><br/><span data-ttu-id="6017c-153">Панели мониторинга, эффективные средства диагностики и анализа, оповещения, карта динамических зависимостей приложения, а также экспорт данных телеметрии.</span><span class="sxs-lookup"><span data-stu-id="6017c-153">Dashboards, powerful diagnostic and analytic tools, alerts, a live dependency map of your application, and telemetry export.</span></span> |![Visual studio](./media/app-insights-visual-studio-codelens/62.png) |

