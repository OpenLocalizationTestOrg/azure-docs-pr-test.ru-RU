---
title: "Устранение неполадок, связанных с тем, что в Application Insights для .NET не отображаются данные"
description: "Не отображаются данные в Azure Application Insights? Попробуйте здесь."
services: application-insights
documentationcenter: .net
author: CFreemanwa
manager: carmonm
ms.assetid: e231569f-1b38-48f8-a744-6329f41d91d3
ms.service: application-insights
ms.workload: mobile
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: article
ms.date: 03/14/2017
ms.author: bwren
ms.openlocfilehash: 13d150657b36605195adced2bb7367a3a0f30467
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="troubleshooting-no-data---application-insights-for-net"></a><span data-ttu-id="a5dc2-104">Устранение неполадок, связанных с тем, что в Application Insights для .NET не отображаются данные</span><span class="sxs-lookup"><span data-stu-id="a5dc2-104">Troubleshooting no data - Application Insights for .NET</span></span>
## <a name="some-of-my-telemetry-is-missing"></a><span data-ttu-id="a5dc2-105">Некоторая телеметрия отсутствует</span><span class="sxs-lookup"><span data-stu-id="a5dc2-105">Some of my telemetry is missing</span></span>
<span data-ttu-id="a5dc2-106">*В Application Insights отображается только часть событий, создаваемых приложением.*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-106">*In Application Insights, I only see a fraction of the events that are being generated by my app.*</span></span>

* <span data-ttu-id="a5dc2-107">Если постоянно отображается одна и та же часть, это может быть связано с адаптивной [выборкой](app-insights-sampling.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-107">If you are consistently seeing the same fraction, it's probably due to adaptive [sampling](app-insights-sampling.md).</span></span> <span data-ttu-id="a5dc2-108">Чтобы проверить это, откройте область поиска (из колонки "Обзор") и посмотрите на экземпляр запроса или другого события.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-108">To confirm this, open Search (from the overview blade) and look at an instance of a Request or other event.</span></span> <span data-ttu-id="a5dc2-109">В нижней части раздела свойств нажмите кнопку "...", чтобы отобразить все сведения свойств.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-109">At the bottom of the properties section click "..." to get full property details.</span></span> <span data-ttu-id="a5dc2-110">Если число запросов > 1, то выборка работает.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-110">If Request Count > 1, then sampling is in operation.</span></span> 
* <span data-ttu-id="a5dc2-111">В противном случае, возможно, превышено [ограничение на скорость передачи данных](app-insights-pricing.md#limits-summary) для вашего плана ценообразования.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-111">Otherwise, it's possible that you're hitting a [data rate limit](app-insights-pricing.md#limits-summary) for your pricing plan.</span></span> <span data-ttu-id="a5dc2-112">Эти ограничения применяются в пропорционально по минутам.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-112">These limits are applied per minute.</span></span>

## <a name="no-data-from-my-server"></a><span data-ttu-id="a5dc2-113">Нет данных с моего сервера</span><span class="sxs-lookup"><span data-stu-id="a5dc2-113">No data from my server</span></span>
<span data-ttu-id="a5dc2-114">*На моем веб-сервере установлено приложение, но данные телеметрии сервера не отображаются. На компьютере разработки все работало хорошо.*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-114">*I installed my app on my web server, and now I don't see any telemetry from it. It worked OK on my dev machine.*</span></span>

* <span data-ttu-id="a5dc2-115">Возможно, проблема в брандмауэре.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-115">Probably a firewall issue.</span></span> <span data-ttu-id="a5dc2-116">[Установите исключения брандмауэра для отправки данных Application Insights](app-insights-ip-addresses.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-116">[Set firewall exceptions for Application Insights to send data](app-insights-ip-addresses.md).</span></span>

<span data-ttu-id="a5dc2-117">*На моем веб-сервере [установлен монитор состояния](app-insights-monitor-performance-live-website-now.md) для мониторинга существующих приложений. Я не вижу никаких результатов.*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-117">*I [installed Status Monitor](app-insights-monitor-performance-live-website-now.md) on my web server to monitor existing apps. I don't see any results.*</span></span>

* <span data-ttu-id="a5dc2-118">См. раздел [Устранение неполадок](app-insights-monitor-performance-live-website-now.md#troubleshooting-runtime-configuration-of-application-insights).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-118">See [Troubleshooting Status Monitor](app-insights-monitor-performance-live-website-now.md#troubleshooting-runtime-configuration-of-application-insights).</span></span> 

## <span data-ttu-id="a5dc2-119"><a name="q01"></a>Параметр "Добавление Application Insights" в Visual Studio не отображается</span><span class="sxs-lookup"><span data-stu-id="a5dc2-119"><a name="q01"></a>No 'Add Application Insights' option in Visual Studio</span></span>
<span data-ttu-id="a5dc2-120">*Когда я щелкаю существующий проект в обозревателе решений правой кнопкой мыши, параметры Application Insights не отображаются.*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-120">*When I right-click an existing project in Solution Explorer, I don't see any Application Insights options.*</span></span>

* <span data-ttu-id="a5dc2-121">Средства Application Insights поддерживают не все типы проектов .NET.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-121">Not all types of .NET project are supported by the tools.</span></span> <span data-ttu-id="a5dc2-122">Проекты WCF и веб-проекты поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-122">Web and WCF projects are supported.</span></span> <span data-ttu-id="a5dc2-123">В проекты других типов, например в приложения-службы и классические приложения, можно [вручную добавить пакет SDK службы Application Insights](app-insights-windows-desktop.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-123">For other project types such as desktop or service applications, you can still [add an Application Insights SDK to your project manually](app-insights-windows-desktop.md).</span></span>
* <span data-ttu-id="a5dc2-124">Убедитесь в том, что установлена версия [Visual Studio 2013 с обновлением 3 или более поздним](http://go.microsoft.com/fwlink/?LinkId=397827).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-124">Make sure you have [Visual Studio 2013 Update 3 or later](http://go.microsoft.com/fwlink/?LinkId=397827).</span></span> <span data-ttu-id="a5dc2-125">Решение поставляется предварительно установленным с аналитическими средствами для разработчиков в рамках пакета Application Insights SDK.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-125">It comes pre-installed with Developer Analytics tools, which provide the Application Insights SDK.</span></span>
* <span data-ttu-id="a5dc2-126">Выберите элементы **Сервис**, **Расширения и обновления** и убедитесь, что пакет **Аналитические средства для разработчиков** установлен и включен.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-126">Select **Tools**, **Extensions and Updates** and check that **Developer Analytics Tools** is installed and enabled.</span></span> <span data-ttu-id="a5dc2-127">Если это так, щелкните пункт **Обновления** , чтобы проверить, доступно ли обновление.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-127">If so, click **Updates** to see if there's an update available.</span></span>
* <span data-ttu-id="a5dc2-128">Откройте диалоговое окно "Новый проект" и выберите "Веб-приложение ASP.NET".</span><span class="sxs-lookup"><span data-stu-id="a5dc2-128">Open the New Project dialog and choose ASP.NET Web application.</span></span> <span data-ttu-id="a5dc2-129">Если параметр Application Insights отображается, соответствующие средства установлены.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-129">If you see the Application Insights option there, then the tools are installed.</span></span> <span data-ttu-id="a5dc2-130">Если нет, попробуйте удалить и заново установить средства Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-130">If not, try uninstalling and then re-installing the Application Insights Tools.</span></span>

## <span data-ttu-id="a5dc2-131"><a name="q02"></a>Сбой при добавлении Application Insights</span><span class="sxs-lookup"><span data-stu-id="a5dc2-131"><a name="q02"></a>Adding Application Insights failed</span></span>
<span data-ttu-id="a5dc2-132">*При попытке добавить Application Insights в существующий проект я вижу сообщение об ошибке.*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-132">*When I try to add Application Insights to an existing project, I see an error message.*</span></span>

<span data-ttu-id="a5dc2-133">Вероятные причины:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-133">Likely causes:</span></span>

* <span data-ttu-id="a5dc2-134">Сбой связи с порталом Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-134">Communication with the Application Insights portal failed; or</span></span>
* <span data-ttu-id="a5dc2-135">В вашей учетной записи Azure возникли неполадки.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-135">There is some problem with your Azure account;</span></span>
* <span data-ttu-id="a5dc2-136">У вас есть только [доступ на чтение в подписке или группе, в которой вы пытаетесь создать новый ресурс](app-insights-resources-roles-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-136">You only have [read access to the subscription or group where you were trying to create the new resource](app-insights-resources-roles-access-control.md).</span></span>

<span data-ttu-id="a5dc2-137">Исправление:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-137">Fix:</span></span>

* <span data-ttu-id="a5dc2-138">Убедитесь, что вы указали правильные учетные данные для входа в учетную запись Azure.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-138">Check that you provided sign-in credentials for the right Azure account.</span></span> 
* <span data-ttu-id="a5dc2-139">В браузере убедитесь, что у вас есть доступ к [порталу Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-139">In your browser, check that you have access to the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="a5dc2-140">Откройте параметры и проверьте, нет ли каких-либо ограничений.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-140">Open Settings and see if there is any restriction.</span></span>
* <span data-ttu-id="a5dc2-141">[Добавьте Application Insights в существующий проект](app-insights-asp-net.md). В обозревателе решений щелкните проект правой кнопкой мыши и выберите пункт "Добавить Application Insights".</span><span class="sxs-lookup"><span data-stu-id="a5dc2-141">[Add Application Insights to your existing project](app-insights-asp-net.md): In Solution Explorer, right click your project and choose "Add Application Insights."</span></span>
* <span data-ttu-id="a5dc2-142">Если устранить проблему не удалось, добавьте ресурс на портал [вручную](app-insights-windows-services.md) , а затем добавьте в проект пакет SDK.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-142">If it still isn't working, follow the [manual procedure](app-insights-windows-services.md) to add a resource in the portal and then add the SDK to your project.</span></span> 

## <span data-ttu-id="a5dc2-143"><a name="emptykey"></a>Появляется сообщение об ошибке «ключ инструментирования не может быть пустым»</span><span class="sxs-lookup"><span data-stu-id="a5dc2-143"><a name="emptykey"></a>I get an error "Instrumentation key cannot be empty"</span></span>
<span data-ttu-id="a5dc2-144">Вероятно, произошла ошибка при установке Application Insights или же адаптера ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-144">Looks like something went wrong while you were installing Application Insights or maybe a logging adapter.</span></span>

<span data-ttu-id="a5dc2-145">В обозревателе решений щелкните проект правой кнопкой мыши и выберите **Application Insights > Настроить Application Insights**.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-145">In Solution Explorer, right-click your project and choose **Application Insights > Configure Application Insights**.</span></span> <span data-ttu-id="a5dc2-146">Появится диалоговое окно с предложением войти в Azure и создать новый ресурс Application Insights или повторно использовать уже существующий.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-146">You'll get a dialog that invites you to sign in to Azure and either create an Application Insights resource, or re-use an existing one.</span></span>

## <span data-ttu-id="a5dc2-147"><a name="NuGetBuild"></a> На сервере сборки возникает ошибка NuGet package(s) are missing (Пакеты NuGet отсутствуют).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-147"><a name="NuGetBuild"></a> "NuGet package(s) are missing" on my build server</span></span>
<span data-ttu-id="a5dc2-148">*Когда я выполняю отладку на компьютере для разработки, сборка выполняется без ошибок, но на сервере сборки отображается ошибка NuGet.*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-148">*Everything builds OK when I'm debugging on my development machine, but I get a NuGet error on the build server.*</span></span>

<span data-ttu-id="a5dc2-149">См. сведения о [восстановлении пакетов NuGet](http://docs.nuget.org/Consume/Package-Restore) и [автоматическом восстановлении пакетов](http://docs.nuget.org/Consume/package-restore/migrating-to-automatic-package-restore).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-149">Please see [NuGet Package Restore](http://docs.nuget.org/Consume/Package-Restore) and [Automatic Package Restore](http://docs.nuget.org/Consume/package-restore/migrating-to-automatic-package-restore).</span></span>

## <a name="missing-menu-command-to-open-application-insights-from-visual-studio"></a><span data-ttu-id="a5dc2-150">Отсутствует команда меню для открытия Application Insights из Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a5dc2-150">Missing menu command to open Application Insights from Visual Studio</span></span>
<span data-ttu-id="a5dc2-151">*Когда я щелкаю правой кнопкой мыши свой проект в обозревателе решений, не отображаются команды Application Insights или команда "Открыть Application Insights".*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-151">*When I right-click my project Solution Explorer, I don't see any Application Insights commands, or I don't see an Open Application Insights command.*</span></span>

<span data-ttu-id="a5dc2-152">Вероятные причины:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-152">Likely causes:</span></span>

* <span data-ttu-id="a5dc2-153">Ресурс Application Insights создан вручную, либо тип проекта не поддерживается средствами Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-153">If you created the Application Insights resource manually, or if the project is of a type that isn't supported by the Application Insights tools.</span></span>
* <span data-ttu-id="a5dc2-154">Аналитические средства для разработчиков отключены в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-154">The Developer Analytics tools are disabled in your Visual Studio.</span></span> 
* <span data-ttu-id="a5dc2-155">У вас установлена более старая версия Visual Studio, чем версия 2013 с обновлением 3.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-155">Your Visual Studio is older than 2013 Update 3.</span></span>

<span data-ttu-id="a5dc2-156">Исправление:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-156">Fix:</span></span>

* <span data-ttu-id="a5dc2-157">Обновите Visual Studio до версии 2013 с обновлением 3 или более поздней.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-157">Make sure your Visual Studio version is 2013 update 3 or later.</span></span>
* <span data-ttu-id="a5dc2-158">Выберите элементы **Сервис**, **Расширения и обновления** и убедитесь, что пакет **Аналитические средства для разработчиков** установлен и включен.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-158">Select **Tools**, **Extensions and Updates** and check that **Developer Analytics tools** is installed and enabled.</span></span> <span data-ttu-id="a5dc2-159">Если это так, щелкните пункт **Обновления** , чтобы проверить, доступно ли обновление.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-159">If so, click **Updates** to see if there's an update available.</span></span>
* <span data-ttu-id="a5dc2-160">В обозревателе решений щелкните проект правой кнопкой мыши.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-160">Right-click your project in Solution Explorer.</span></span> <span data-ttu-id="a5dc2-161">Если вы видите команду **Application Insights > Настроить Application Insights**, используйте ее, чтобы подключить проект к ресурсу в службе Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-161">If you see the command **Application Insights > Configure Application Insights**, use it to connect your project to the resource in the Application Insights service.</span></span>

<span data-ttu-id="a5dc2-162">В противном случае тип проекта не будет поддерживаться напрямую средствами Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-162">Otherwise, your project type isn't directly supported by the Application Insights tools.</span></span> <span data-ttu-id="a5dc2-163">Для просмотра данных телеметрии войдите на [портал Azure](https://portal.azure.com), выберите пункт Application Insights на панели навигации слева и выберите приложение.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-163">To see your telemetry, sign in to the [Azure portal](https://portal.azure.com), choose Application Insights on the left navigation bar, and select your application.</span></span>

## <a name="access-denied-on-opening-application-insights-from-visual-studio"></a><span data-ttu-id="a5dc2-164">При открытии Application Insights из Visual Studio возникает ошибка "Доступ запрещен"</span><span class="sxs-lookup"><span data-stu-id="a5dc2-164">'Access denied' on opening Application Insights from Visual Studio</span></span>
<span data-ttu-id="a5dc2-165">*При выборе команды меню "Открыть Application Insights" выполняется переход на портал Azure, но при этом появляется сообщение об ошибке "Доступ запрещен".*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-165">*The 'Open Application Insights' menu command takes me to the Azure portal, but I get an 'access denied' error.*</span></span>

![](./media/app-insights-asp-net-troubleshoot-no-data/access-denied.png)

<span data-ttu-id="a5dc2-166">При вводе учетных данных Майкрософт, которые вы в последний раз использовали в стандартном браузере, отсутствует доступ к [ресурсу, который был создан при добавлении Application Insights в это приложение](app-insights-asp-net.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-166">The Microsoft sign-in that you last used on your default browser doesn't have access to [the resource that was created when Application Insights was added to this app](app-insights-asp-net.md).</span></span> <span data-ttu-id="a5dc2-167">Есть две вероятные причины:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-167">There are two likely reasons:</span></span> 

* <span data-ttu-id="a5dc2-168">Возможно, у вас не одна учетная запись Майкрософт, а несколько — например, рабочая и личная.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-168">You have more than one Microsoft account - maybe a work and a personal Microsoft account?</span></span> <span data-ttu-id="a5dc2-169">В последний раз вы использовали в браузере по умолчанию не ту учетную запись, с помощью которой [добавляли Application Insights в проект](app-insights-asp-net.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-169">The sign-in that you last used on your default browser was for a different account than the one that has access to [add Application Insights to the project](app-insights-asp-net.md).</span></span> 
  
  * <span data-ttu-id="a5dc2-170">Исправление: щелкните свое имя в верхней правой части окна браузера и выполните выход. Затем войдите с учетной записью, необходимой для доступа.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-170">Fix: Click your name at top right of the browser window, and sign out. Then sign in with the account that has access.</span></span> <span data-ttu-id="a5dc2-171">Затем на панели навигации слева щелкните Application Insights и выберите приложение.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-171">Then on the left navigation bar, click Application Insights and select your app.</span></span>
* <span data-ttu-id="a5dc2-172">Кто-то другой добавил Application Insights в проект и забыл предоставить вам [доступ к группе ресурсов](app-insights-resources-roles-access-control.md) , в которой он был создан.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-172">Someone else added Application Insights to the project, and they forgot to give you [access to the resource group](app-insights-resources-roles-access-control.md) in which it was created.</span></span> 
  
  * <span data-ttu-id="a5dc2-173">Исправление: если этот пользователь использовал рабочую или учебную учетную запись, возможно, он добавил вас в группу или предоставил вам индивидуальный доступ к группе ресурсов.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-173">Fix: If they used an organizational account, they can add you to the team; or they can grant you individual access to the resource group.</span></span>

## <a name="asset-not-found-on-opening-application-insights-from-visual-studio"></a><span data-ttu-id="a5dc2-174">При открытии Application Insights из Visual Studio возникает ошибка "Ресурс-контейнер не найден"</span><span class="sxs-lookup"><span data-stu-id="a5dc2-174">'Asset not found' on opening Application Insights from Visual Studio</span></span>
<span data-ttu-id="a5dc2-175">*При выборе команды меню "Открыть Application Insights" выполняется переход на портал Azure, но при этом появляется сообщение об ошибке "Ресурс-контейнер не найден".*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-175">*The 'Open Application Insights' menu command takes me to the Azure portal, but I get an 'asset not found' error.*</span></span>

<span data-ttu-id="a5dc2-176">Вероятные причины:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-176">Likely causes:</span></span>

* <span data-ttu-id="a5dc2-177">Ресурс Application Insights для приложения был удален.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-177">The Application Insights resource for your application has been deleted; or</span></span>
* <span data-ttu-id="a5dc2-178">Ключ инструментирования был задан или изменен непосредственно в файле ApplicationInsights.config, при этом файл проекта не был обновлен.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-178">The instrumentation key was set or changed in ApplicationInsights.config by editing it directly, without updating the project file.</span></span> 

<span data-ttu-id="a5dc2-179">Ключ инструментирования в файле ApplicationInsights.config контролирует, куда отправляются данные телеметрии.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-179">The instrumentation key in ApplicationInsights.config controls where the telemetry is sent.</span></span> <span data-ttu-id="a5dc2-180">Строка в файле проекта контролирует, какой ресурс открывается при использовании команды в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-180">A line in the project file controls which resource is opened when you use the command in Visual Studio.</span></span> 

<span data-ttu-id="a5dc2-181">Исправление:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-181">Fix:</span></span>

* <span data-ttu-id="a5dc2-182">В обозревателе решений щелкните проект правой кнопкой мыши и выберите пункт Application Insights, а затем — "Настроить Application Insights".</span><span class="sxs-lookup"><span data-stu-id="a5dc2-182">In Solution Explorer, right-click the project and choose Application Insights, Configure Application Insights.</span></span> <span data-ttu-id="a5dc2-183">В открывшемся диалоговом окне можно отправить данные телеметрии в существующий ресурс или создать новый.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-183">In the dialog, you can either choose to send telemetry to an existing resource, or create a new one.</span></span> <span data-ttu-id="a5dc2-184">Или сделайте так:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-184">Or:</span></span>
* <span data-ttu-id="a5dc2-185">Откройте ресурс напрямую.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-185">Open the resource directly.</span></span> <span data-ttu-id="a5dc2-186">Войдите на [портал Azure](https://portal.azure.com), выберите пункт Application Insights на панели навигации слева и выберите приложение.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-186">Sign in to [the Azure portal](https://portal.azure.com), click Application Insights on the left navigation bar, and then select your app.</span></span>

## <a name="where-do-i-find-my-telemetry"></a><span data-ttu-id="a5dc2-187">Где найти мои данные телеметрии</span><span class="sxs-lookup"><span data-stu-id="a5dc2-187">Where do I find my telemetry?</span></span>
<span data-ttu-id="a5dc2-188">*После входа на [портал Microsoft Azure](https://portal.azure.com) я вижу панель мониторинга на домашней странице Azure. Итак, где найти мои данные Application Insights?*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-188">*I signed in to the [Microsoft Azure portal](https://portal.azure.com), and I'm looking at the Azure home dashboard. So where do I find my Application Insights data?*</span></span>

* <span data-ttu-id="a5dc2-189">На панели навигации слева щелкните Application Insights и выберите имя приложения.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-189">On the left navigation bar, click Application Insights, then your app name.</span></span> <span data-ttu-id="a5dc2-190">Если проекты не отображаются, [добавьте или настройте Application Insights в своем веб-проекте](app-insights-asp-net.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-190">If you don't have any projects there, you need to [add or configure Application Insights in your web project](app-insights-asp-net.md).</span></span>
  
    <span data-ttu-id="a5dc2-191">Вы увидите несколько сводных диаграмм.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-191">There you'll see some summary charts.</span></span> <span data-ttu-id="a5dc2-192">Щелкните любую из них, чтобы увидеть более подробные данные.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-192">You can click through them to see more detail.</span></span>
* <span data-ttu-id="a5dc2-193">В Visual Studio во время отладки приложения нажмите кнопку Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-193">In Visual Studio, while you're debugging your app, click the Application Insights button.</span></span>

## <span data-ttu-id="a5dc2-194"><a name="q03"></a> Не отображаются данные сервера (или вообще какие-либо данные)</span><span class="sxs-lookup"><span data-stu-id="a5dc2-194"><a name="q03"></a> No server data (or no data at all)</span></span>
<span data-ttu-id="a5dc2-195">*После запуска приложения и открытия службы Application Insights в Microsoft Azure на всех диаграммах отображаются сообщения "Сведения о сборе…" или "Не настроено".*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-195">*I ran my app and then opened the Application Insights service in Microsoft Azure, but all the charts show 'Learn how to collect...' or 'Not configured.'*</span></span> <span data-ttu-id="a5dc2-196">Или отображаются *только представление страницы и пользовательские данные, но нет данных сервера.*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-196">Or, *only Page View and user data, but no server data.*</span></span>

* <span data-ttu-id="a5dc2-197">Запустите приложение в режиме отладки в Visual Studio (F5).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-197">Run your application in debug mode in Visual Studio (F5).</span></span> <span data-ttu-id="a5dc2-198">Используйте приложение таким образом, чтобы создать данные телеметрии.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-198">Use the application so as to generate some telemetry.</span></span> <span data-ttu-id="a5dc2-199">Проверьте, можете ли вы просматривать события, зарегистрированные в окне вывода Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-199">Check that you can see events logged in the Visual Studio output window.</span></span> 
  
    ![](./media/app-insights-asp-net-troubleshoot-no-data/output-window.png)
* <span data-ttu-id="a5dc2-200">На портале Application Insights откройте колонку [Diagnostic Search](app-insights-diagnostic-search.md)(Поиск по журналу диагностики).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-200">In the Application Insights portal, open [Diagnostic Search](app-insights-diagnostic-search.md).</span></span> <span data-ttu-id="a5dc2-201">Как правило, сначала данные отображаются здесь.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-201">Data usually appears here first.</span></span>
* <span data-ttu-id="a5dc2-202">Нажмите кнопку «Обновить».</span><span class="sxs-lookup"><span data-stu-id="a5dc2-202">Click the Refresh button.</span></span> <span data-ttu-id="a5dc2-203">Колонка периодически обновляется, однако ее можно обновить и вручную.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-203">The blade refreshes itself periodically, but you can also do it manually.</span></span> <span data-ttu-id="a5dc2-204">При значительных значениях временного диапазона интервал обновления увеличивается.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-204">The refresh interval is longer for larger time ranges.</span></span>
* <span data-ttu-id="a5dc2-205">Проверьте соответствие ключей инструментирования.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-205">Check the instrumentation keys match.</span></span> <span data-ttu-id="a5dc2-206">В основной колонке приложения на портале Application Insights в раскрывающемся списке **Основные компоненты** найдите **ключ инструментирования**.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-206">On the main blade for your app in the Application Insights portal, in the **Essentials** drop-down, look at **Instrumentation key**.</span></span> <span data-ttu-id="a5dc2-207">Затем в Visual Studio в своем проекте откройте файл ApplicationInsights.config и найдите `<instrumentationkey>`.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-207">Then, in your project in Visual Studio, open ApplicationInsights.config and find the `<instrumentationkey>`.</span></span> <span data-ttu-id="a5dc2-208">Ключи должны совпадать.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-208">Check that the two keys are equal.</span></span> <span data-ttu-id="a5dc2-209">В противном случае выполните одно из таких действий:</span><span class="sxs-lookup"><span data-stu-id="a5dc2-209">If not:</span></span>
  
  * <span data-ttu-id="a5dc2-210">На портале щелкните Application Insights и найдите ресурс приложения с правильным ключом.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-210">In the portal, click Application Insights and look for the app resource with the right key; or</span></span>
  * <span data-ttu-id="a5dc2-211">В обозревателе решений в Visual Studio щелкните проект правой кнопкой мыши и выберите пункт Application Insights, а затем щелкните "Настроить".</span><span class="sxs-lookup"><span data-stu-id="a5dc2-211">In Visual Studio Solution Explorer, right-click the project and choose Application Insights, Configure.</span></span> <span data-ttu-id="a5dc2-212">Сбросьте настройки приложения, чтобы данные телеметрии отправлялись в нужный ресурс.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-212">Reset the app to send telemetry to the right resource.</span></span>
  * <span data-ttu-id="a5dc2-213">Если не удается найти совпадающие ключи, убедитесь, что для входа в Visual Studio и на портал используются одни и те же учетные данные.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-213">If you can't find the matching keys, check that you are using the same sign-in credentials in Visual Studio as in to the portal.</span></span>
    
    ![](./media/app-insights-asp-net-troubleshoot-no-data/ikey-check.png)
* <span data-ttu-id="a5dc2-214">На [панели мониторинга на домашней странице Microsoft Azure](https://portal.azure.com)посмотрите на карту работоспособности службы.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-214">In the [Microsoft Azure home dashboard](https://portal.azure.com), look at the Service Health map.</span></span> <span data-ttu-id="a5dc2-215">Если есть какие-либо предупреждения, дождитесь возвращения всех модулей в состояние ОК, затем закройте и заново откройте модуль приложения Application Insights.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-215">If there are some alert indications, wait until they have returned to OK and then close and re-open your Application Insights application blade.</span></span>
* <span data-ttu-id="a5dc2-216">Кроме того, просмотрите [наш блог о состояниях](http://blogs.msdn.com/b/applicationinsights-status/).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-216">Check also [our status blog](http://blogs.msdn.com/b/applicationinsights-status/).</span></span>
* <span data-ttu-id="a5dc2-217">Возможно, вы написали код для [серверного пакета SDK](app-insights-api-custom-events-metrics.md), который мог изменить ключ инструментирования в экземплярах `TelemetryClient` или в `TelemetryContext`.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-217">Did you write any code for the [server-side SDK](app-insights-api-custom-events-metrics.md) that might change the instrumentation key in `TelemetryClient` instances or in `TelemetryContext`?</span></span> <span data-ttu-id="a5dc2-218">Или вы создали [конфигурацию фильтра или выборки](app-insights-api-filtering-sampling.md) , которая отфильтровывает слишком много данных.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-218">Or did you write a [filter or sampling configuration](app-insights-api-filtering-sampling.md) that might be filtering out too much?</span></span>
* <span data-ttu-id="a5dc2-219">Если вы вносили изменения в файл ApplicationInsights.config, внимательно проверьте конфигурацию [TelemetryInitializer и TelemetryProcessor](app-insights-api-filtering-sampling.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-219">If you edited ApplicationInsights.config, carefully check the configuration of [TelemetryInitializers and TelemetryProcessors](app-insights-api-filtering-sampling.md).</span></span> <span data-ttu-id="a5dc2-220">Тип или параметр с неправильным именем может стать причиной неотправки данных пакетом SDK.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-220">An incorrectly-named type or parameter can cause the SDK to send no data.</span></span>

## <span data-ttu-id="a5dc2-221"><a name="q04"></a>Нет данных об использовании, браузере и просмотрах страниц</span><span class="sxs-lookup"><span data-stu-id="a5dc2-221"><a name="q04"></a>No data on Page Views, Browsers, Usage</span></span>
<span data-ttu-id="a5dc2-222">*Данные отображаются на диаграммах "Время ответа сервера" и "Запросы сервера", но отсутствуют в колонках "Время загрузки страницы", "Браузер" или "Использование".*</span><span class="sxs-lookup"><span data-stu-id="a5dc2-222">*I see data in Server Response Time and Server Requests charts, but no data in Page View Load time, or in the Browser or Usage blades.*</span></span>

<span data-ttu-id="a5dc2-223">Данные поступают из сценариев на веб-страницах.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-223">The data comes from scripts in the web pages.</span></span> 

* <span data-ttu-id="a5dc2-224">Если вы добавили Application Insights в существующий веб-проект, [нужно добавить сценарии вручную](app-insights-javascript.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-224">If you added Application Insights to an existing web project, [you have to add the scripts by hand](app-insights-javascript.md).</span></span>
* <span data-ttu-id="a5dc2-225">Убедитесь, что Internet Explorer не отображает ваш сайт в режиме совместимости.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-225">Make sure Internet Explorer isn't displaying your site in Compatibility mode.</span></span>
* <span data-ttu-id="a5dc2-226">Воспользуйтесь функцией отладки в браузере (в некоторых браузерах нужно нажать клавишу F12 и выбрать "Сеть"), чтобы убедиться, что данные отправляются по адресу `dc.services.visualstudio.com`.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-226">Use the browser's debug feature (F12 on some browsers, then choose Network) to verify that data is being sent to `dc.services.visualstudio.com`.</span></span>

## <a name="no-dependency-or-exception-data"></a><span data-ttu-id="a5dc2-227">Нет данных о зависимостях или исключениях</span><span class="sxs-lookup"><span data-stu-id="a5dc2-227">No dependency or exception data</span></span>
<span data-ttu-id="a5dc2-228">См. статьи, посвященные [телеметрии зависимостей](app-insights-asp-net-dependencies.md) и [телеметрии исключений](app-insights-asp-net-exceptions.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-228">See [dependency telemetry](app-insights-asp-net-dependencies.md) and [exception telemetry](app-insights-asp-net-exceptions.md).</span></span>

## <a name="no-performance-data"></a><span data-ttu-id="a5dc2-229">Нет данных о производительности</span><span class="sxs-lookup"><span data-stu-id="a5dc2-229">No performance data</span></span>
<span data-ttu-id="a5dc2-230">Данные о производительности (ЦП, скорость ввода-вывода и т. д.) доступны для [веб-служб Java](app-insights-java-collectd.md), [классических приложений Windows](app-insights-windows-desktop.md), [веб-приложений и служб IIS, если установлен монитор состояния](app-insights-monitor-performance-live-website-now.md), а также [облачных служб Azure](app-insights-azure.md).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-230">Performance data (CPU, IO rate, and so on) is available for [Java web services](app-insights-java-collectd.md), [Windows desktop apps](app-insights-windows-desktop.md), [IIS web apps and services if you install status monitor](app-insights-monitor-performance-live-website-now.md), and [Azure Cloud Services](app-insights-azure.md).</span></span> <span data-ttu-id="a5dc2-231">Их можно найти, открыв раздел "Параметры" и выбрав "Серверы".</span><span class="sxs-lookup"><span data-stu-id="a5dc2-231">you'll find it under Settings, Servers.</span></span>

<span data-ttu-id="a5dc2-232">Такие данные для веб-сайтов Azure недоступны.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-232">It isn't available for Azure websites.</span></span>

## <a name="no-server-data-since-i-published-the-app-to-my-server"></a><span data-ttu-id="a5dc2-233">После публикации приложения на сервере данные на нем отсутствуют</span><span class="sxs-lookup"><span data-stu-id="a5dc2-233">No (server) data since I published the app to my server</span></span>
* <span data-ttu-id="a5dc2-234">Проверьте, что вы фактически скопировали все библиотеки DLL Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-234">Check that you actually copied all the Microsoft.</span></span> <span data-ttu-id="a5dc2-235">ApplicationInsights на сервер вместе с Microsoft.Diagnostics.Instrumentation.Extensions.Intercept.dll</span><span class="sxs-lookup"><span data-stu-id="a5dc2-235">ApplicationInsights DLLs to the server, together with Microsoft.Diagnostics.Instrumentation.Extensions.Intercept.dll</span></span>
* <span data-ttu-id="a5dc2-236">В брандмауэре может потребоваться [открыть некоторые порты TCP](app-insights-ip-addresses.md#data-access-api).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-236">In your firewall, you might have to [open some TCP ports](app-insights-ip-addresses.md#data-access-api).</span></span>
* <span data-ttu-id="a5dc2-237">Если для отправки из корпоративной сети необходимо использовать прокси-сервер, установите значение [defaultProxy](https://msdn.microsoft.com/library/aa903360.aspx) в файле Web.config.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-237">If you have to use a proxy to send out of your corporate network, set [defaultProxy](https://msdn.microsoft.com/library/aa903360.aspx) in Web.config</span></span>
* <span data-ttu-id="a5dc2-238">Для Windows Server 2008. Убедитесь в том, что установлены следующие обновления: [KB2468871](https://support.microsoft.com/kb/2468871), [KB2533523](https://support.microsoft.com/kb/2533523), [KB2600217](https://support.microsoft.com/kb/2600217).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-238">Windows Server 2008: Make sure you have installed the following updates: [KB2468871](https://support.microsoft.com/kb/2468871), [KB2533523](https://support.microsoft.com/kb/2533523), [KB2600217](https://support.microsoft.com/kb/2600217).</span></span>

## <a name="i-used-to-see-data-but-it-has-stopped"></a><span data-ttu-id="a5dc2-239">Ранее видимые данные перестали отображаться</span><span class="sxs-lookup"><span data-stu-id="a5dc2-239">I used to see data, but it has stopped</span></span>
* <span data-ttu-id="a5dc2-240">Проверьте [блог состояний](http://blogs.msdn.com/b/applicationinsights-status/).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-240">Check the [status blog](http://blogs.msdn.com/b/applicationinsights-status/).</span></span>
* <span data-ttu-id="a5dc2-241">Вы достигли месячной квоты точек данных?</span><span class="sxs-lookup"><span data-stu-id="a5dc2-241">Have you hit your monthly quota of data points?</span></span> <span data-ttu-id="a5dc2-242">Чтобы выяснить это, последовательно выберите «Параметры», «Квота и расценки». Если вы достигли квоты, вы можете изменить свой тарифный план или заплатить за дополнительную емкость.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-242">Open the Settings/Quota and Pricing to find out. If so, you can upgrade your plan, or pay for additional capacity.</span></span> <span data-ttu-id="a5dc2-243">См. [таблицу цен](https://azure.microsoft.com/pricing/details/application-insights/).</span><span class="sxs-lookup"><span data-stu-id="a5dc2-243">See the [pricing scheme](https://azure.microsoft.com/pricing/details/application-insights/).</span></span>

## <a name="i-dont-see-all-the-data-im-expecting"></a><span data-ttu-id="a5dc2-244">Не отображаются все данные, которые ожидалось увидеть</span><span class="sxs-lookup"><span data-stu-id="a5dc2-244">I don't see all the data I'm expecting</span></span>
<span data-ttu-id="a5dc2-245">Если ваше приложение отправляет большие объемы данных, а вы используете Application Insights SDK для ASP.NET версии 2.0.0-beta3 или более поздней, может сработать функция [адаптивной выборки](app-insights-sampling.md) и будет отправлена только часть данных телеметрии.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-245">If your application sends a lot of data and you are using the Application Insights SDK for ASP.NET version 2.0.0-beta3 or later, the [adaptive sampling](app-insights-sampling.md) feature may operate and send only a percentage of your telemetry.</span></span> 

<span data-ttu-id="a5dc2-246">Ее можно отключить, но это не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-246">You can disable it, but this is not recommended.</span></span> <span data-ttu-id="a5dc2-247">Выборка разработана таким образом, чтобы связанные данные телеметрии правильно передавались для диагностических целей.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-247">Sampling is designed so that related telemetry is correctly transmitted, for diagnostic purposes.</span></span> 

## <a name="wrong-geographical-data-in-user-telemetry"></a><span data-ttu-id="a5dc2-248">Неправильные географические данные в телеметрии пользователя</span><span class="sxs-lookup"><span data-stu-id="a5dc2-248">Wrong geographical data in user telemetry</span></span>
<span data-ttu-id="a5dc2-249">Город, область и страна определяются по IP-адресу и не всегда являются точными.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-249">The city, region, and country dimensions are derived from IP addresses and aren't always accurate.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="a5dc2-250">Исключение "метод не найден" при выполнении в облачных службах Azure</span><span class="sxs-lookup"><span data-stu-id="a5dc2-250">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="a5dc2-251">Выполняется сборка для .NET 4.6?</span><span class="sxs-lookup"><span data-stu-id="a5dc2-251">Did you build for .NET 4.6?</span></span> <span data-ttu-id="a5dc2-252">Версия 4.6 не поддерживается автоматически в ролях облачных служб Azure.</span><span class="sxs-lookup"><span data-stu-id="a5dc2-252">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="a5dc2-253">[установите версию 4.6 в каждой роли](../cloud-services/cloud-services-dotnet-install-dotnet.md) .</span><span class="sxs-lookup"><span data-stu-id="a5dc2-253">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="still-not-working"></a><span data-ttu-id="a5dc2-254">По-прежнему не работает...</span><span class="sxs-lookup"><span data-stu-id="a5dc2-254">Still not working...</span></span>
* [<span data-ttu-id="a5dc2-255">Форум Application Insights</span><span class="sxs-lookup"><span data-stu-id="a5dc2-255">Application Insights forum</span></span>](https://social.msdn.microsoft.com/Forums/vstudio/en-US/home?forum=ApplicationInsights)

