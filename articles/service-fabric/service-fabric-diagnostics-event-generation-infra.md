---
title: "Наблюдение за службами структуры платформы уровень aaaAzure | Документы Microsoft"
description: "Дополнительные сведения о событиях уровня платформы журналов использования и toomonitor диагностики Azure Service Fabric кластеров."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/24/2017
ms.author: dekapur
ms.openlocfilehash: f8fb1c8b546e05c517ae12c91906acc04cd6eaa6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="platform-level-event-and-log-generation"></a><span data-ttu-id="ec6f4-103">Создание событий и журналов на уровне платформы</span><span class="sxs-lookup"><span data-stu-id="ec6f4-103">Platform level event and log generation</span></span>

## <a name="monitoring-hello-cluster"></a><span data-ttu-id="ec6f4-104">Мониторинг кластера hello</span><span class="sxs-lookup"><span data-stu-id="ec6f4-104">Monitoring hello cluster</span></span>

<span data-ttu-id="ec6f4-105">Это важные toomonitor на toodetermine уровня платформы hello ли оборудование и кластер работает должным образом.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-105">It is important toomonitor at hello platform level toodetermine whether or not your hardware and cluster are behaving as expected.</span></span> <span data-ttu-id="ec6f4-106">Хотя Service Fabric можно сохранить приложений, выполняющихся во время сбоя оборудования, но по-прежнему нужна toodiagnose ли происходит ошибка в приложении или в инфраструктуре hello.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-106">Though Service Fabric can keep applications running during a hardware failure, but you still need toodiagnose whether an error is occurring in an application or in hello underlying infrastructure.</span></span> <span data-ttu-id="ec6f4-107">Необходимо также отслеживать плана toobetter кластеры емкости, помощь в принятии решений об о добавлении или удалении оборудования.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-107">You also should monitor your clusters toobetter plan for capacity, helping in decisions about adding or removing hardware.</span></span>

<span data-ttu-id="ec6f4-108">Service Fabric предоставляет пять различных журнала каналы out-of box создаваемый hello следующие события:</span><span class="sxs-lookup"><span data-stu-id="ec6f4-108">Service Fabric provides five different log channels out-of-the-box that generate hello following events:</span></span>

* <span data-ttu-id="ec6f4-109">Операционный канал: общие операции, выполняемые Service Fabric и hello кластера, включая события для узла, возникающие, выполняется развертывание нового приложения или SF обновление отката и т. д.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-109">Operational channel: high-level operations performed by Service Fabric and hello cluster, including events for a node coming up, a new application being deployed, or a SF upgrade rollback, etc.</span></span>
* <span data-ttu-id="ec6f4-110">Операционный канал (подробные сведения): отчеты о работоспособности и решения о балансировке нагрузки.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-110">Operational channel - detailed: health reports and load balancing decisions</span></span>
* <span data-ttu-id="ec6f4-111">Канал данных & обмен сообщениями: критический журналы и события, создаваемые в обмена сообщениями (в настоящее время только hello ReverseProxy), а также путь к данным (надежного обмена модели)</span><span class="sxs-lookup"><span data-stu-id="ec6f4-111">Data & Messaging channel: critical logs and events generated in our messaging (currently only hello ReverseProxy) and data path (reliable services models)</span></span>
* <span data-ttu-id="ec6f4-112">Канал данных & обмен сообщениями - подробные: verbose канал, содержащий все журналы некритические hello из данных и обмена сообщениями в кластере hello (этот канал имеет очень большое количество событий)</span><span class="sxs-lookup"><span data-stu-id="ec6f4-112">Data & Messaging channel - detailed: verbose channel that contains all hello non-critical logs from data and messaging in hello cluster (this channel has a very high volume of events)</span></span>   
* <span data-ttu-id="ec6f4-113">[События Reliable Services](service-fabric-reliable-services-diagnostics.md): определенные события модели программирования.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-113">[Reliable Services events](service-fabric-reliable-services-diagnostics.md): programming model specific events</span></span>
* <span data-ttu-id="ec6f4-114">[События надежных субъектов](service-fabric-reliable-actors-diagnostics.md): определенные события модели программирования и счетчики производительности.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-114">[Reliable Actors events](service-fabric-reliable-actors-diagnostics.md): programming model specific events and performance counters</span></span>
* <span data-ttu-id="ec6f4-115">Поддержка журналов: системные журналы, созданные только toobe Service Fabric, нам используемый, когда поддержка</span><span class="sxs-lookup"><span data-stu-id="ec6f4-115">Support logs: system logs generated by Service Fabric only toobe used by us when providing support</span></span>

<span data-ttu-id="ec6f4-116">Эти различные каналы рассматривается большая часть hello платформы уровня ведения журнала, рекомендуется использовать.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-116">These various channels cover most of hello platform level logging that is recommended.</span></span> <span data-ttu-id="ec6f4-117">tooimprove платформы уровень ведения журнала, рассмотрите возможность приобретения лучше основные сведения о модели определения работоспособности hello и добавление отчеты о работоспособности пользовательские и добавление пользовательских **счетчики производительности** toobuild влияние в режиме реального времени представление о hello службы и приложения на кластере hello.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-117">tooimprove platform level logging, consider investing in better understanding hello health model and adding custom health reports, and adding custom **Performance Counters** toobuild a real-time understanding of hello impact of your services and applications on hello cluster.</span></span>

### <a name="azure-service-fabric-health-and-load-reporting"></a><span data-ttu-id="ec6f4-118">Отчеты о работоспособности и нагрузке Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="ec6f4-118">Azure Service Fabric health and load reporting</span></span>

<span data-ttu-id="ec6f4-119">В Service Fabric используется собственная модель работоспособности, которая подробно описана в следующих статьях.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-119">Service Fabric has its own health model, which is described in detail in these articles:</span></span>
- [<span data-ttu-id="ec6f4-120">Мониторинг работоспособности введение tooService структуры</span><span class="sxs-lookup"><span data-stu-id="ec6f4-120">Introduction tooService Fabric health monitoring</span></span>](service-fabric-health-introduction.md)
- [<span data-ttu-id="ec6f4-121">Проверка работоспособности службы и оповещение о проблемах</span><span class="sxs-lookup"><span data-stu-id="ec6f4-121">Report and check service health</span></span>](service-fabric-diagnostics-how-to-report-and-check-service-health.md)
- [<span data-ttu-id="ec6f4-122">Добавление настраиваемых отчетов о работоспособности Service Fabric</span><span class="sxs-lookup"><span data-stu-id="ec6f4-122">Add custom Service Fabric health reports</span></span>](service-fabric-report-health.md)
- [<span data-ttu-id="ec6f4-123">Просмотр отчетов о работоспособности Service Fabric</span><span class="sxs-lookup"><span data-stu-id="ec6f4-123">View Service Fabric health reports</span></span>](service-fabric-view-entities-aggregated-health.md)

<span data-ttu-id="ec6f4-124">Мониторинг работоспособности — критическое toomultiple аспектов работы службы.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-124">Health monitoring is critical toomultiple aspects of operating a service.</span></span> <span data-ttu-id="ec6f4-125">Отслеживать работоспособность особенно важно, когда Service Fabric выполняет обновление именованного приложения.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-125">Health monitoring is especially important when Service Fabric performs a named application upgrade.</span></span> <span data-ttu-id="ec6f4-126">После каждого домена обновления службы hello обновляется и является доступной tooyour клиентов, домен обновления hello прошла проверку работоспособности до развертывания hello перемещения toohello следующий домен обновления.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-126">After each upgrade domain of hello service is upgraded and is available tooyour customers, hello upgrade domain must pass health checks before hello deployment moves toohello next upgrade domain.</span></span> <span data-ttu-id="ec6f4-127">Если состояние работоспособности не может иметь в виду hello развертывания выполняется откат, так, чтобы приложение hello известных, хорошее состояние.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-127">If good health status cannot be achieved, hello deployment is rolled back, so that hello application is in a known, good state.</span></span> <span data-ttu-id="ec6f4-128">Несмотря на то, что некоторые могут быть подвержены перед hello службы будет выполнен откат, большинство пользователей не столкнуться с проблемой.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-128">Although some customers might be affected before hello services are rolled back, most customers won't experience an issue.</span></span> <span data-ttu-id="ec6f4-129">Кроме того разрешение происходит относительно быстро и без необходимости toowait для действия из отдела оператора.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-129">Also, a resolution occurs relatively quickly, and without having toowait for action from a human operator.</span></span> <span data-ttu-id="ec6f4-130">Здравствуйте, дополнительные проверки работоспособности, которые встроены в коде hello более устойчивым, служба становится toodeployment проблемы.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-130">hello more health checks that are incorporated into your code, hello more resilient your service is toodeployment issues.</span></span>

<span data-ttu-id="ec6f4-131">Другим аспектом службы работоспособности сообщает метрики из службы hello.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-131">Another aspect of service health is reporting metrics from hello service.</span></span> <span data-ttu-id="ec6f4-132">Метрики в Service Fabric важны, поскольку они являются используется toobalance использование ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-132">Metrics are important in Service Fabric because they are used toobalance resource usage.</span></span> <span data-ttu-id="ec6f4-133">Метрики также служат признаком работоспособности системы.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-133">Metrics also can be an indicator of system health.</span></span> <span data-ttu-id="ec6f4-134">Допустим, вы используете приложение с несколькими службами, в котором каждый экземпляр передает метрику количества запросов в секунду (RPS).</span><span class="sxs-lookup"><span data-stu-id="ec6f4-134">For example, you might have an application that has many services, and each instance reports a requests per second (RPS) metric.</span></span> <span data-ttu-id="ec6f4-135">Если одна служба использует больше ресурсов, чем другая служба, Service Fabric перемещает экземпляры службы вокруг кластера hello использования даже ресурсов toomaintain tootry.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-135">If one service is using more resources than another service, Service Fabric moves service instances around hello cluster, tootry toomaintain even resource utilization.</span></span> <span data-ttu-id="ec6f4-136">Использование ресурсов подробно описано в статье [Управление потреблением ресурсов и нагрузкой в Service Fabric с помощью метрик](service-fabric-cluster-resource-manager-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="ec6f4-136">For a more detailed explanation of how resource utilization works, see [Manage resource consumption and load in Service Fabric with metrics](service-fabric-cluster-resource-manager-metrics.md).</span></span>

<span data-ttu-id="ec6f4-137">Также метрики дают представление об эффективности службы.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-137">Metrics also can help give you insight into how your service is performing.</span></span> <span data-ttu-id="ec6f4-138">Со временем можно использовать toocheck метрики, работающий в ожидаемом hello службы.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-138">Over time, you can use metrics toocheck that hello service is operating within expected parameters.</span></span> <span data-ttu-id="ec6f4-139">Например если трендов показывают, что в 9: 00 в понедельник утром hello среднее RPS равно 1000, то вы можете настроить отчет о работоспособности, предупреждающее, если hello RPS меньше 500 или выше 1500.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-139">For example, if trends show that at 9 AM on Monday morning hello average RPS is 1,000, then you might set up a health report that alerts you if hello RPS is below 500 or above 1,500.</span></span> <span data-ttu-id="ec6f4-140">Все может быть вполне нормально, но может иметь смысл toobe вид, убедиться, что своим клиентам правильную работу.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-140">Everything might be perfectly fine, but it might be worth a look toobe sure that your customers are having a great experience.</span></span> <span data-ttu-id="ec6f4-141">Службу можно определить набор показателей, могут быть отправлены в целях проверки работоспособности, но не влияет на hello балансировку ресурсов кластера hello.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-141">Your service can define a set of metrics that can be reported for health check purposes, but that don't affect hello resource balancing of hello cluster.</span></span> <span data-ttu-id="ec6f4-142">toodo toozero вес метрики hello, этот набор.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-142">toodo this, set hello metric weight toozero.</span></span> <span data-ttu-id="ec6f4-143">Рекомендуется запустить все показатели с весом 0 и не увеличивают вес hello, пока не убедитесь, что вы понимаете, как вес метрики hello влияет на балансировку ресурсов для кластера.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-143">We recommend that you start all metrics with a weight of zero, and not increase hello weight  until you are sure that you understand how weighting hello metrics affects resource balancing for your cluster.</span></span>

> [!TIP]
> <span data-ttu-id="ec6f4-144">Не используйте много метрик с ненулевым весом.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-144">Don't use too many weighted metrics.</span></span> <span data-ttu-id="ec6f4-145">Это может быть трудно toounderstand, почему экземпляры службы перемещаются балансировки.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-145">It can be difficult toounderstand why service instances are being moved around for balancing.</span></span> <span data-ttu-id="ec6f4-146">Нескольких метрик вполне достаточно.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-146">A few metrics can go a long way!</span></span>

<span data-ttu-id="ec6f4-147">Все сведения, можно указать hello работоспособности и производительности приложения является кандидатом для отчетов, метрики и работоспособности.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-147">Any information that can indicate hello health and performance of your application is a candidate for metrics and health reports.</span></span> <span data-ttu-id="ec6f4-148">Счетчик производительности ЦП может показать, как используется узел, но он не даст информации о работоспособности определенной службы, так как на одном узле может быть запущено несколько служб.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-148">A CPU performance counter can tell you how your node is utilized, but it doesn't tell you whether a particular service is healthy, because multiple services might be running on a single node.</span></span> <span data-ttu-id="ec6f4-149">Однако показатели, такие как RPS, обработка, элементов и все задержка запроса можно указать hello работоспособности определенной службы.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-149">But, metrics like RPS, items processed, and request latency all can indicate hello health of a specific service.</span></span>

<span data-ttu-id="ec6f4-150">работоспособность tooreport аналогичные toothis используйте код:</span><span class="sxs-lookup"><span data-stu-id="ec6f4-150">tooreport health, use code similar toothis:</span></span>

  ```csharp
    if (!result.HasValue)
    {
        HealthInformation healthInformation = new HealthInformation("ServiceCode", "StateDictionary", HealthState.Error);
        this.Partition.ReportInstanceHealth(healthInformation);
    }
  ```

<span data-ttu-id="ec6f4-151">tooreport метрики, используйте аналогичные toothis кода:</span><span class="sxs-lookup"><span data-stu-id="ec6f4-151">tooreport a metric, use code similar toothis:</span></span>

  ```csharp
    this.Partition.ReportLoad(new List<LoadMetric> { new LoadMetric("MemoryInMb", 1234), new LoadMetric("metric1", 42) });
  ```

### <a name="service-fabric-support-logs"></a><span data-ttu-id="ec6f4-152">Журналы поддержки Service Fabric</span><span class="sxs-lookup"><span data-stu-id="ec6f4-152">Service Fabric support logs</span></span>

<span data-ttu-id="ec6f4-153">Если вам требуется toocontact технической поддержки Майкрософт для получения справки с кластером Azure Service Fabric, журналы поддержки почти всегда требуются.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-153">If you need toocontact Microsoft support for help with your Azure Service Fabric cluster, support logs are almost always required.</span></span> <span data-ttu-id="ec6f4-154">Если кластер размещен в Azure, эти журналы автоматически настраиваются в процессе создания кластера, а затем собираются.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-154">If your cluster is hosted in Azure, support logs are automatically configured and collected as part of creating a cluster.</span></span> <span data-ttu-id="ec6f4-155">Hello журналы хранятся в выделенную учетную запись хранилища в группе ресурсов кластера.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-155">hello logs are stored in a dedicated storage account in your cluster's resource group.</span></span> <span data-ttu-id="ec6f4-156">Учетная запись хранения Hello не фиксированным именем, но в учетной записи hello, видно, что контейнеры больших двоичных объектов и таблиц с именами, начинающимися с *структуры*.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-156">hello storage account doesn't have a fixed name, but in hello account, you see blob containers and tables with names that start with *fabric*.</span></span> <span data-ttu-id="ec6f4-157">Сведения о настройке сбора журналов для автономного кластера см. в статьях [Создание изолированного кластера под управлением Windows Server](service-fabric-cluster-creation-for-windows-server.md) и [Параметры конфигурации для автономного кластера Windows](service-fabric-cluster-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="ec6f4-157">For information about setting up log collections for a standalone cluster, see [Create and manage a standalone Azure Service Fabric cluster](service-fabric-cluster-creation-for-windows-server.md) and [Configuration settings for a standalone Windows cluster](service-fabric-cluster-manifest.md).</span></span> <span data-ttu-id="ec6f4-158">Для автономных экземплярах Service Fabric hello журналы должны отправляться tooa локальной общей папки.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-158">For standalone Service Fabric instances, hello logs should be sent tooa local file share.</span></span> <span data-ttu-id="ec6f4-159">Вы являетесь **необходимые** toohave эти журналы для поддержки, но они не являются предполагаемого toobe может использоваться кем-либо за пределами группы поддержки клиентов Майкрософт hello.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-159">You are **required** toohave these logs for support, but they are not intended toobe usable by anyone outside of hello Microsoft customer support team.</span></span>

## <a name="enabling-diagnostics-for-a-cluster"></a><span data-ttu-id="ec6f4-160">Включение диагностики для кластера</span><span class="sxs-lookup"><span data-stu-id="ec6f4-160">Enabling Diagnostics for a cluster</span></span>

<span data-ttu-id="ec6f4-161">В порядке преимуществами tootake эти журналы настоятельно рекомендуется, во время создания кластера «Диагностика» была включена.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-161">In order tootake advantage of these logs, it is highly recommended that during cluster creation, "Diagnostics" is enabled.</span></span> <span data-ttu-id="ec6f4-162">Включив диагностику, при развертывании кластера hello диагностики Windows Azure — может tooacknowledge hello рабочее, надежные службы и службы Reliable Actor каналы и hello данные хранилища, как описано далее в [статистической обработки событий с Диагностика Azure](service-fabric-diagnostics-event-aggregation-wad.md).</span><span class="sxs-lookup"><span data-stu-id="ec6f4-162">By turning on diagnostics, when hello cluster is deployed, Windows Azure Diagnostics is able tooacknowledge hello Operational, Reliable Services, and Reliable actors channels, and store hello data as explained further in [Aggregate events with Azure Diagnostics](service-fabric-diagnostics-event-aggregation-wad.md).</span></span>

<span data-ttu-id="ec6f4-163">Как показано выше, также имеется дополнительное поле tooadd ключ инструментирования приложений аналитики (AI).</span><span class="sxs-lookup"><span data-stu-id="ec6f4-163">As seen above, there is also an optional field tooadd an Application Insights (AI) instrumentation key.</span></span> <span data-ttu-id="ec6f4-164">При выборе toouse AI для любого анализа событий (Подробнее об этом [анализ событий с помощью Application Insights](service-fabric-diagnostics-event-analysis-appinsights.md)), здесь включают hello AppInsights ресурсов instrumentationKey (GUID).</span><span class="sxs-lookup"><span data-stu-id="ec6f4-164">If you choose toouse AI for any event analysis (read more about this in [Event Analysis with Application Insights](service-fabric-diagnostics-event-analysis-appinsights.md)), include hello AppInsights resource instrumentationKey (GUID) here.</span></span>


<span data-ttu-id="ec6f4-165">Если вы собираетесь toodeploy контейнеры tooyour кластера, включите toopick WAD копирование docker stats, добавив этот tooyour «DiagnosticMonitorConfiguration WadCfg >»:</span><span class="sxs-lookup"><span data-stu-id="ec6f4-165">If you are going toodeploy containers tooyour cluster, enable WAD toopick up docker stats by adding this tooyour "WadCfg > DiagnosticMonitorConfiguration":</span></span>

```json
"DockerSources": {
    "Stats": {
        "enabled": true,
        "sampleRate": "PT1M"
    }
},

```

## <a name="measuring-performance"></a><span data-ttu-id="ec6f4-166">Измерение производительности</span><span class="sxs-lookup"><span data-stu-id="ec6f4-166">Measuring performance</span></span>

<span data-ttu-id="ec6f4-167">Измерение производительности кластера поможет вам понять, как она будет toohandle нагрузочных тестов и диск решения для масштабирования кластера (Дополнительные сведения о масштабировании кластера [в Azure](service-fabric-cluster-scale-up-down.md), или [локальной](service-fabric-cluster-windows-server-add-remove-nodes.md)).</span><span class="sxs-lookup"><span data-stu-id="ec6f4-167">Measure performance of your cluster will help you understand how it is able toohandle load and drive decisions around scaling your cluster (see more about scaling a cluster [on Azure](service-fabric-cluster-scale-up-down.md), or [on-premises](service-fabric-cluster-windows-server-add-remove-nodes.md)).</span></span> <span data-ttu-id="ec6f4-168">Данные производительности также удобно при сравнении tooactions вы или приложений и служб может занимать, при анализе журналов в hello будущих.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-168">Performance data is also useful when compared tooactions you or your applications and services may have taken, when analyzing logs in hello future.</span></span> 

<span data-ttu-id="ec6f4-169">Список toocollect счетчики производительности при использовании Service Fabric см. в разделе [счетчиков производительности в Service Fabric](service-fabric-diagnostics-event-generation-perf.md)</span><span class="sxs-lookup"><span data-stu-id="ec6f4-169">For a list of performance counters toocollect when using Service Fabric, see [Performance Counters in Service Fabric](service-fabric-diagnostics-event-generation-perf.md)</span></span>

<span data-ttu-id="ec6f4-170">Ниже приведены два простых способа настройки сбора данных производительности для кластера:</span><span class="sxs-lookup"><span data-stu-id="ec6f4-170">Here are two common ways in which you can set up collecting performance data for your cluster:</span></span>

* <span data-ttu-id="ec6f4-171">С помощью агента: hello предпочтительный способ сбора производительности на машине, поскольку агенты обычно в списке метрик производительности, можно собирать, и он является сравнительно легко hello метриках toochoose требуется toocollect, или изменить их .</span><span class="sxs-lookup"><span data-stu-id="ec6f4-171">Using an agent: this is hello preferred way of collecting performance from a machine, since agents usually have a list of possible performance metrics that can be collected, and it is a relatively easy process toochoose hello metrics you want toocollect or change them.</span></span> <span data-ttu-id="ec6f4-172">Узнайте, как [как tooconfigure hello OMS для Service Fabric](service-fabric-diagnostics-event-analysis-oms.md) и [Настройка агента OMS Windows hello](../log-analytics/log-analytics-windows-agents.md) toolearn статьи о hello OMS agent, где один такой мониторинга агент, может toopick вверх данные о производительности для виртуальных машин кластера и развернутых контейнеров.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-172">Read about [how tooconfigure hello OMS for Service Fabric](service-fabric-diagnostics-event-analysis-oms.md) and [Setting up hello OMS Windows Agent](../log-analytics/log-analytics-windows-agents.md) articles toolearn more about hello OMS agent, which is one such monitoring agent that is able toopick up performance data for cluster VMs and deployed containers.</span></span>

* <span data-ttu-id="ec6f4-173">Настройка производительности toowrite диагностики счетчики tooa таблицы: для кластеров в Azure, это означает изменение toopick конфигурации диагностики Azure hello копирование hello соответствующие счетчики производительности из hello виртуальных машин в кластере, а также разрешают toopick вверх Если планируется развертывание все контейнеры docker Статистика.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-173">Configuring diagnostics toowrite performance counters tooa table: for clusters on Azure, this means changing hello Azure Diagnostics configuration toopick up hello appropriate performance counters from hello VMs in your cluster, and enabling it toopick up docker stats if you will be deploying any containers.</span></span> <span data-ttu-id="ec6f4-174">Сведения о настройке [счетчиков производительности в WAD](service-fabric-diagnostics-event-aggregation-wad.md) в Service Fabric tooset копирование сбор данных счетчика производительности.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-174">Read about configuring [Performance Counters in WAD](service-fabric-diagnostics-event-aggregation-wad.md) in Service Fabric tooset up performance counter collection.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ec6f4-175">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="ec6f4-175">Next steps</span></span>

<span data-ttu-id="ec6f4-176">Журналы и события должны toobe статистическую обработку, прежде чем передавать их tooany платформа анализа.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-176">Your logs and events need toobe aggregated before they can be sent tooany analysis platform.</span></span> <span data-ttu-id="ec6f4-177">Узнайте, как [EventFlow](service-fabric-diagnostics-event-aggregation-eventflow.md) и [WAD](service-fabric-diagnostics-event-aggregation-wad.md) toobetter понять hello рекомендуемые параметры.</span><span class="sxs-lookup"><span data-stu-id="ec6f4-177">Read about [EventFlow](service-fabric-diagnostics-event-aggregation-eventflow.md) and [WAD](service-fabric-diagnostics-event-aggregation-wad.md) toobetter understand some of hello recommended options.</span></span>
