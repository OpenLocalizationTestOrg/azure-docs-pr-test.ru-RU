---
title: "aaaDifferences между облачными службами и Service Fabric | Документы Microsoft"
description: "Общие сведения по переносу приложений из облачных служб tooService структуры."
services: service-fabric
documentationcenter: .net
author: vturecek
manager: timlt
editor: 
ms.assetid: 0b87b1d3-88ad-4658-a465-9f05a3376dee
ms.service: service-fabric
ms.devlang: dotNet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: vturecek
ms.openlocfilehash: bbc5ef4fe0fe1b0da55454cb6b766925030198fa
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="learn-about-hello-differences-between-cloud-services-and-service-fabric-before-migrating-applications"></a><span data-ttu-id="92545-103">Дополнительные сведения об отличиях hello облачных служб и Service Fabric перед миграцией приложения.</span><span class="sxs-lookup"><span data-stu-id="92545-103">Learn about hello differences between Cloud Services and Service Fabric before migrating applications.</span></span>
<span data-ttu-id="92545-104">Microsoft Azure Service Fabric — платформа приложения hello облака следующего поколения для масштабируемых, высокую степень доступности распределенных приложений.</span><span class="sxs-lookup"><span data-stu-id="92545-104">Microsoft Azure Service Fabric is hello next-generation cloud application platform for highly scalable, highly reliable distributed applications.</span></span> <span data-ttu-id="92545-105">Она содержит множество новых функций для упаковки, развертывания, обновления распределенных облачных приложений и управления ими.</span><span class="sxs-lookup"><span data-stu-id="92545-105">It introduces many new features for packaging, deploying, upgrading, and managing distributed cloud applications.</span></span> 

<span data-ttu-id="92545-106">Это Вводное руководство toomigrating приложений облачных служб tooService структуры.</span><span class="sxs-lookup"><span data-stu-id="92545-106">This is an introductory guide toomigrating applications from Cloud Services tooService Fabric.</span></span> <span data-ttu-id="92545-107">Она посвящена преимущественно архитектурным и структурным различиям между облачными службами и Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="92545-107">It focuses primarily on architectural and design differences between Cloud Services and Service Fabric.</span></span>

## <a name="applications-and-infrastructure"></a><span data-ttu-id="92545-108">Приложения и инфраструктура</span><span class="sxs-lookup"><span data-stu-id="92545-108">Applications and infrastructure</span></span>
<span data-ttu-id="92545-109">Фундаментальное различие между облачными службами и Service Fabric — hello связь между виртуальными машинами, рабочих нагрузок и приложений.</span><span class="sxs-lookup"><span data-stu-id="92545-109">A fundamental difference between Cloud Services and Service Fabric is hello relationship between VMs, workloads, and applications.</span></span> <span data-ttu-id="92545-110">Здесь рабочая нагрузка представляет собой кода hello записи tooperform конкретную задачу или предоставить службу.</span><span class="sxs-lookup"><span data-stu-id="92545-110">A workload here is defined as hello code you write tooperform a specific task or provide a service.</span></span>

* <span data-ttu-id="92545-111">**Облачные службы подразумевают развертывание приложений в качестве виртуальных машин.**</span><span class="sxs-lookup"><span data-stu-id="92545-111">**Cloud Services is about deploying applications as VMs.**</span></span> <span data-ttu-id="92545-112">написанного кода Hello — тесно связанные tooa экземпляра виртуальной Машины, такие как веб- или рабочей роли.</span><span class="sxs-lookup"><span data-stu-id="92545-112">hello code you write is tightly coupled tooa VM instance, such as a Web or Worker Role.</span></span> <span data-ttu-id="92545-113">toodeploy рабочей нагрузки в облачных службах является toodeploy один или несколько виртуальных Машин экземпляров данной рабочей нагрузке выполнения hello.</span><span class="sxs-lookup"><span data-stu-id="92545-113">toodeploy a workload in Cloud Services is toodeploy one or more VM instances that run hello workload.</span></span> <span data-ttu-id="92545-114">Приложения и виртуальные машины не отделяются друг от друга, формального определения приложения также нет.</span><span class="sxs-lookup"><span data-stu-id="92545-114">There is no separation of applications and VMs, and so there is no formal definition of an application.</span></span> <span data-ttu-id="92545-115">Приложение можно рассматривать как набор экземпляров веб-ролей или рабочих ролей в рамках развертывания облачных служб или как развертывание облачных служб полностью.</span><span class="sxs-lookup"><span data-stu-id="92545-115">An application can be thought of as a set of Web or Worker Role instances within a Cloud Services deployment or as an entire Cloud Services deployment.</span></span> <span data-ttu-id="92545-116">В этом примере приложение отображается как набор экземпляров ролей.</span><span class="sxs-lookup"><span data-stu-id="92545-116">In this example, an application is shown as a set of role instances.</span></span>

![Приложения и топология облачных служб][1]

* <span data-ttu-id="92545-118">**Service Fabric — о развертывание приложений tooexisting виртуальных машин или машин Service Fabric на Windows или Linux.**</span><span class="sxs-lookup"><span data-stu-id="92545-118">**Service Fabric is about deploying applications tooexisting VMs or machines running Service Fabric on Windows or Linux.**</span></span> <span data-ttu-id="92545-119">службы Hello, написанный являются полностью отделенный от базовой инфраструктуры, которая является абстрагироваться от платформы приложения Service Fabric hello, поэтому приложение может быть toomultiple развернутых сред hello.</span><span class="sxs-lookup"><span data-stu-id="92545-119">hello services you write are completely decoupled from hello underlying infrastructure, which is abstracted away by hello Service Fabric application platform, so an application can be deployed toomultiple environments.</span></span> <span data-ttu-id="92545-120">Рабочую нагрузку в Service Fabric называется «служба» и одну или несколько служб, группируются в формальное определение приложения, которое выполняется на платформе приложения hello Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="92545-120">A workload in Service Fabric is called a "service," and one or more services are grouped in a formally-defined application that runs on hello Service Fabric application platform.</span></span> <span data-ttu-id="92545-121">Несколько приложений может быть развернутой tooa один кластер Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="92545-121">Multiple applications can be deployed tooa single Service Fabric cluster.</span></span>

![Приложения и топология Service Fabric][2]

<span data-ttu-id="92545-123">Собственно Service Fabric представляет собой слой платформы приложений, который работает под управлением Windows или Linux, а облачные службы — систему для развертывания виртуальных машин под управлением Azure с присоединенными рабочими нагрузками.</span><span class="sxs-lookup"><span data-stu-id="92545-123">Service Fabric itself is an application platform layer that runs on Windows or Linux, whereas Cloud Services is a system for deploying Azure-managed VMs with workloads attached.</span></span>
<span data-ttu-id="92545-124">модель приложения Hello Service Fabric имеет ряд преимуществ:</span><span class="sxs-lookup"><span data-stu-id="92545-124">hello Service Fabric application model has a number of advantages:</span></span>

* <span data-ttu-id="92545-125">Быстрое развертывание.</span><span class="sxs-lookup"><span data-stu-id="92545-125">Fast deployment times.</span></span> <span data-ttu-id="92545-126">Создание экземпляров виртуальной машины может занять много времени.</span><span class="sxs-lookup"><span data-stu-id="92545-126">Creating VM instances can be time consuming.</span></span> <span data-ttu-id="92545-127">В Service Fabric, развернуты виртуальные машины только после tooform кластера, на котором размещена hello Service Fabric платформы приложений.</span><span class="sxs-lookup"><span data-stu-id="92545-127">In Service Fabric, VMs are only deployed once tooform a cluster that hosts hello Service Fabric application platform.</span></span> <span data-ttu-id="92545-128">С этого момента пакетов приложений может быть развернутой toohello кластера очень быстро.</span><span class="sxs-lookup"><span data-stu-id="92545-128">From that point on, application packages can be deployed toohello cluster very quickly.</span></span>
* <span data-ttu-id="92545-129">Размещение с высокой плотностью.</span><span class="sxs-lookup"><span data-stu-id="92545-129">High-density hosting.</span></span> <span data-ttu-id="92545-130">В облачных службах на виртуальной машине рабочей роли размещается одна рабочая нагрузка.</span><span class="sxs-lookup"><span data-stu-id="92545-130">In Cloud Services, a Worker Role VM hosts one workload.</span></span> <span data-ttu-id="92545-131">В Service Fabric приложений отделены от hello виртуальных машин, которые их выполнении, это означает, что позволяет развертывать большое количество приложений tooa небольшое количество виртуальных машин, которые могут снизить общую стоимость для более крупных развертываний.</span><span class="sxs-lookup"><span data-stu-id="92545-131">In Service Fabric, applications are separate from hello VMs that run them, meaning you can deploy a large number of applications tooa small number of VMs, which can lower overall cost for larger deployments.</span></span>
* <span data-ttu-id="92545-132">Hello Service Fabric платформ можно запускать где угодно, имеет машины Windows Server или Linux, будь то Azure или локально.</span><span class="sxs-lookup"><span data-stu-id="92545-132">hello Service Fabric platform can run anywhere that has Windows Server or Linux machines, whether it's Azure or on-premises.</span></span> <span data-ttu-id="92545-133">Hello платформа предоставляет уровень абстракции поверх базовой инфраструктуры hello, приложение может выполняться в разных средах.</span><span class="sxs-lookup"><span data-stu-id="92545-133">hello platform provides an abstraction layer over hello underlying infrastructure so your application can run on different environments.</span></span> 
* <span data-ttu-id="92545-134">Распределенное управление приложениями.</span><span class="sxs-lookup"><span data-stu-id="92545-134">Distributed application management.</span></span> <span data-ttu-id="92545-135">Service Fabric — это платформа не только узлы распределенных приложений, что также помогает управлять их жизненного цикла, независимо от hello размещение виртуальной Машины или машины жизненного цикла.</span><span class="sxs-lookup"><span data-stu-id="92545-135">Service Fabric is a platform that not only hosts distributed applications, but also helps manage their lifecycle independently of hello hosting VM or machine lifecycle.</span></span>

## <a name="application-architecture"></a><span data-ttu-id="92545-136">Архитектура приложения</span><span class="sxs-lookup"><span data-stu-id="92545-136">Application architecture</span></span>
<span data-ttu-id="92545-137">Hello архитектура приложений облачных служб обычно включает в себя многочисленные зависимости внешней службы, Service Bus, таблицы Azure и хранилище больших двоичных объектов, SQL, Redis и другие toomanage hello состояние и данные приложения и обмен данными между веб и рабочих ролей в развертывании облачных служб.</span><span class="sxs-lookup"><span data-stu-id="92545-137">hello architecture of a Cloud Services application usually includes numerous external service dependencies, such as Service Bus, Azure Table and Blob Storage, SQL, Redis, and others toomanage hello state and data of an application and communication between Web and Worker Roles in a Cloud Services deployment.</span></span> <span data-ttu-id="92545-138">Пример полного приложения облачных служб может выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="92545-138">An example of a complete Cloud Services application might look like this:</span></span>  

![Архитектура облачных служб][9]

<span data-ttu-id="92545-140">Service Fabric приложений также можно выбрать toouse hello же внешней службы в законченное приложение.</span><span class="sxs-lookup"><span data-stu-id="92545-140">Service Fabric applications can also choose toouse hello same external services in a complete application.</span></span> <span data-ttu-id="92545-141">Для этого примера архитектуры облачные службы hello простейший способ переноса из облачных служб tooService структуры — tooreplace только hello облачные службы развертывание с помощью приложения Service Fabric поддержание hello общая архитектура hello таким же.</span><span class="sxs-lookup"><span data-stu-id="92545-141">Using this example Cloud Services architecture, hello simplest migration path from Cloud Services tooService Fabric is tooreplace only hello Cloud Services deployment with a Service Fabric application, keeping hello overall architecture hello same.</span></span> <span data-ttu-id="92545-142">Hello Web и рабочих ролей могут быть службы без сохранения состояния перенесенных tooService структуры с минимальными изменениями кода.</span><span class="sxs-lookup"><span data-stu-id="92545-142">hello Web and Worker Roles can be ported tooService Fabric stateless services with minimal code changes.</span></span>

![Архитектура Service Fabric после простого переноса][10]

<span data-ttu-id="92545-144">На этом этапе hello система должна продолжить toowork Здравствуйте таким же, как и раньше.</span><span class="sxs-lookup"><span data-stu-id="92545-144">At this stage, hello system should continue toowork hello same as before.</span></span> <span data-ttu-id="92545-145">Используя преимущества возможностей Service Fabric с отслеживанием состояния, можно преобразовать внешние хранилища состояния во внутренние службы с отслеживанием состояния там, где это возможно.</span><span class="sxs-lookup"><span data-stu-id="92545-145">Taking advantage of Service Fabric's stateful features, external state stores can be internalized as stateful services where applicable.</span></span> <span data-ttu-id="92545-146">Это сложнее, чем простую миграцию Web and Worker Roles tooService структуры службы без сохранения состояния, поскольку оно требует написания пользовательских служб, предоставляющих приложения tooyour эквивалентную функциональность, как раньше hello внешние службы.</span><span class="sxs-lookup"><span data-stu-id="92545-146">This is more involved than a simple migration of Web and Worker Roles tooService Fabric stateless services, as it requires writing custom services that provide equivalent functionality tooyour application as hello external services did before.</span></span> <span data-ttu-id="92545-147">преимущества Hello таким образом:</span><span class="sxs-lookup"><span data-stu-id="92545-147">hello benefits of doing so include:</span></span> 

* <span data-ttu-id="92545-148">удаление внешних зависимостей;</span><span class="sxs-lookup"><span data-stu-id="92545-148">Removing external dependencies</span></span> 
* <span data-ttu-id="92545-149">Объединить hello развертывания, управления и обновления модели.</span><span class="sxs-lookup"><span data-stu-id="92545-149">Unifying hello deployment, management, and upgrade models.</span></span> 

<span data-ttu-id="92545-150">Пример архитектуры после преобразования этих служб во внутренние может выглядеть следующим образом:</span><span class="sxs-lookup"><span data-stu-id="92545-150">An example resulting architecture of internalizing these services could look like this:</span></span>

![Архитектура Service Fabric после полного переноса][11]

## <a name="communication-and-workflow"></a><span data-ttu-id="92545-152">Взаимодействие и рабочий процесс</span><span class="sxs-lookup"><span data-stu-id="92545-152">Communication and workflow</span></span>
<span data-ttu-id="92545-153">Большинство приложений облачной службы состоят из более чем одного уровня.</span><span class="sxs-lookup"><span data-stu-id="92545-153">Most Cloud Service applications consist of more than one tier.</span></span> <span data-ttu-id="92545-154">По аналогии приложения Service Fabric, как правило, состоят из нескольких служб.</span><span class="sxs-lookup"><span data-stu-id="92545-154">Similarly, a Service Fabric application consists of more than one service (typically many services).</span></span> <span data-ttu-id="92545-155">Две распространенные модели взаимодействия — это прямое взаимодействие и взаимодействие через внешнее долговременное хранилище.</span><span class="sxs-lookup"><span data-stu-id="92545-155">Two common communication models are direct communication and via an external durable storage.</span></span>

### <a name="direct-communication"></a><span data-ttu-id="92545-156">Прямое взаимодействие</span><span class="sxs-lookup"><span data-stu-id="92545-156">Direct communication</span></span>
<span data-ttu-id="92545-157">С прямым взаимодействием различные уровни могут взаимодействовать напрямую через конечные точки, предоставляемые каждым уровнем.</span><span class="sxs-lookup"><span data-stu-id="92545-157">With direct communication, tiers can communicate directly through endpoint exposed by each tier.</span></span> <span data-ttu-id="92545-158">В средах без сохранения состояния как облачные службы, это означает при выборе экземпляра роли виртуальной Машины, либо случайным образом или нагрузки циклического toobalance и подключения конечной точки для tooits напрямую.</span><span class="sxs-lookup"><span data-stu-id="92545-158">In stateless environments such as Cloud Services, this means selecting an instance of a VM role, either randomly or round-robin toobalance load, and connecting tooits endpoint directly.</span></span>

![Прямое взаимодействие для облачных служб][5]

 <span data-ttu-id="92545-160">Прямое взаимодействие — это основная модель взаимодействия в Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="92545-160">Direct communication is a common communication model in Service Fabric.</span></span> <span data-ttu-id="92545-161">Hello ключевое различие между Service Fabric и облачные службы — в облачных службах подключения tooa ВМ, тогда как в Service Fabric подключения tooa службы.</span><span class="sxs-lookup"><span data-stu-id="92545-161">hello key difference between Service Fabric and Cloud Services is that in Cloud Services you connect tooa VM, whereas in Service Fabric you connect tooa service.</span></span> <span data-ttu-id="92545-162">Это различие важно по нескольким причинам:</span><span class="sxs-lookup"><span data-stu-id="92545-162">This is an important distinction for a couple reasons:</span></span>

* <span data-ttu-id="92545-163">Службы в Service Fabric не привязанной toohello виртуальных машин, размещаемых; службы могут перемещаться по hello кластера и на самом деле это ожидаемое toomove вокруг по различным причинам: ресурсов балансировки, переход на другой ресурс, обновления приложений и инфраструктуры и ограничения размещения или загрузки.</span><span class="sxs-lookup"><span data-stu-id="92545-163">Services in Service Fabric are not bound toohello VMs that host them; services may move around in hello cluster, and in fact, are expected toomove around for various reasons: Resource balancing, failover, application and infrastructure upgrades, and placement or load constraints.</span></span> <span data-ttu-id="92545-164">Это означает, что адрес экземпляра службы может измениться в любое время.</span><span class="sxs-lookup"><span data-stu-id="92545-164">This means a service instance's address can change at any time.</span></span> 
* <span data-ttu-id="92545-165">В Service Fabric на виртуальной машине может размещаться несколько служб, каждая с уникальными конечными точками.</span><span class="sxs-lookup"><span data-stu-id="92545-165">A VM in Service Fabric can host multiple services, each with unique endpoints.</span></span>

<span data-ttu-id="92545-166">Service Fabric предоставляет механизм обнаружения службы, называемый hello службы именования, которая может быть используется tooresolve адреса конечной точки службы.</span><span class="sxs-lookup"><span data-stu-id="92545-166">Service Fabric provides a service discovery mechanism, called hello Naming Service, which can be used tooresolve endpoint addresses of services.</span></span> 

![Прямое взаимодействие для Service Fabric][6]

### <a name="queues"></a><span data-ttu-id="92545-168">Очереди</span><span class="sxs-lookup"><span data-stu-id="92545-168">Queues</span></span>
<span data-ttu-id="92545-169">Общий механизм взаимодействия между уровнями в средах без сохранения состояния, такие как облачные службы — toouse toodurably внешнего хранилища очереди рабочих задач из одного уровня tooanother хранения.</span><span class="sxs-lookup"><span data-stu-id="92545-169">A common communication mechanism between tiers in stateless environments such as Cloud Services is toouse an external storage queue toodurably store work tasks from one tier tooanother.</span></span> <span data-ttu-id="92545-170">Типичный сценарий — это веб-уровень, отправляющий tooan заданий очередей Azure или Service Bus, когда экземпляров рабочей роли можно вывести из очереди и обрабатывать hello заданий.</span><span class="sxs-lookup"><span data-stu-id="92545-170">A common scenario is a web tier that sends jobs tooan Azure Queue or Service Bus where Worker Role instances can dequeue and process hello jobs.</span></span>

![Взаимодействие через очередь для облачных служб][7]

<span data-ttu-id="92545-172">Hello же модель взаимодействия может использоваться в Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="92545-172">hello same communication model can be used in Service Fabric.</span></span> <span data-ttu-id="92545-173">Это может быть полезным при переносе существующего приложения облачные службы tooService структуры.</span><span class="sxs-lookup"><span data-stu-id="92545-173">This can be useful when migrating an existing Cloud Services application tooService Fabric.</span></span> 

![Прямое взаимодействие для Service Fabric][8]

## <a name="next-steps"></a><span data-ttu-id="92545-175">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="92545-175">Next Steps</span></span>
<span data-ttu-id="92545-176">Hello простейший способ переноса из tooService облачные службы, структура — это только hello развертывания облачных служб с помощью приложения Service Fabric поддержание hello общую архитектуру приложения примерно tooreplace hello таким же.</span><span class="sxs-lookup"><span data-stu-id="92545-176">hello simplest migration path from Cloud Services tooService Fabric is tooreplace only hello Cloud Services deployment with a Service Fabric application, keeping hello overall architecture of your application roughly hello same.</span></span> <span data-ttu-id="92545-177">Hello следующей статьей руководство convert toohelp tooa рабочей роли или веб-службы без отслеживания состояния Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="92545-177">hello following article provides a guide toohelp convert a Web or Worker Role tooa Service Fabric stateless service.</span></span>

* [<span data-ttu-id="92545-178">Простой миграции: преобразование tooa рабочей роли или веб-службы без отслеживания состояния Service Fabric</span><span class="sxs-lookup"><span data-stu-id="92545-178">Simple migration: convert a Web or Worker Role tooa Service Fabric stateless service</span></span>](service-fabric-cloud-services-migration-worker-role-stateless-service.md)

<!--Image references-->
[1]: ./media/service-fabric-cloud-services-migration-differences/topology-cloud-services.png
[2]: ./media/service-fabric-cloud-services-migration-differences/topology-service-fabric.png
[5]: ./media/service-fabric-cloud-services-migration-differences/cloud-service-communication-direct.png
[6]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-communication-direct.png
[7]: ./media/service-fabric-cloud-services-migration-differences/cloud-service-communication-queues.png
[8]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-communication-queues.png
[9]: ./media/service-fabric-cloud-services-migration-differences/cloud-services-architecture.png
[10]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-architecture-simple.png
[11]: ./media/service-fabric-cloud-services-migration-differences/service-fabric-architecture-full.png
