---
title: "aaaSet непрерывной интеграции для Azure микрослужбами | Документы Microsoft"
description: "Общие сведения о том, как получить tooset непрерывной интеграции и развертывания для приложения Service Fabric с помощью Visual Studio Team Services (VSTS)."
services: service-fabric
documentationcenter: na
author: mthalman-msft
manager: timlt
editor: 
ms.assetid: 3e8c2290-9e7a-456a-9b2c-db44d1b3988d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/06/2016
ms.author: mthalman;mikhegn
ms.openlocfilehash: 041e081f4a42f379394f2d21f07db4f6de045b24
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="set-up-service-fabric-continuous-integration-and-deployment-with-visual-studio-team-services"></a><span data-ttu-id="c930e-103">Настройка непрерывных интеграции и развертывания с помощью Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="c930e-103">Set up Service Fabric continuous integration and deployment with Visual Studio Team Services</span></span>
<span data-ttu-id="c930e-104">С помощью Visual Studio Team Services (VSTS) в этой статье описываются hello tooset шаги непрерывной интеграции и развертывания для приложения Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="c930e-104">This article describes hello steps tooset up continuous integration and deployment for an Azure Service Fabric application by using Visual Studio Team Services (VSTS).</span></span>

<span data-ttu-id="c930e-105">В этом документе отражает текущую процедуру hello и является ожидаемым toochange со временем.</span><span class="sxs-lookup"><span data-stu-id="c930e-105">This document reflects hello current procedure and is expected toochange over time.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c930e-106">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="c930e-106">Prerequisites</span></span>
<span data-ttu-id="c930e-107">tooget к работе, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="c930e-107">tooget started, follow these steps:</span></span>

1. <span data-ttu-id="c930e-108">Убедитесь, что учетная запись Team Services tooa доступа или [создать](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="c930e-108">Ensure that you have access tooa Team Services account or [create one](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) yourself.</span></span>
2. <span data-ttu-id="c930e-109">Убедитесь, что доступ tooa Team Services командного проекта или [создать](https://www.visualstudio.com/docs/setup-admin/create-team-project) самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="c930e-109">Ensure that you have access tooa Team Services team project or [create one](https://www.visualstudio.com/docs/setup-admin/create-team-project) yourself.</span></span>
3. <span data-ttu-id="c930e-110">Убедитесь, что toowhich кластера Service Fabric, можно развернуть приложение или сделать это с помощью hello [портал Azure](service-fabric-cluster-creation-via-portal.md), [шаблона Azure Resource Manager](service-fabric-cluster-creation-via-arm.md), или [Visual Studio ](service-fabric-cluster-creation-via-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="c930e-110">Ensure that you have a Service Fabric cluster toowhich you can deploy your application or create one using hello [Azure portal](service-fabric-cluster-creation-via-portal.md), an [Azure Resource Manager template](service-fabric-cluster-creation-via-arm.md), or [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span></span>
4. <span data-ttu-id="c930e-111">Убедитесь, что проект приложения Service Fabric (SFPROJ-файл) уже создан.</span><span class="sxs-lookup"><span data-stu-id="c930e-111">Ensure that you have already created a Service Fabric Application (.sfproj) project.</span></span> <span data-ttu-id="c930e-112">Необходимо иметь проект, была создана или обновлена с помощью Service Fabric SDK 2.1 или более поздней версии (hello .sfproj файл должен содержать значение свойства по ProjectVersion 1.1 или более поздней версии).</span><span class="sxs-lookup"><span data-stu-id="c930e-112">You must have a project that was created or upgraded with Service Fabric SDK 2.1 or higher (hello .sfproj file should contain a ProjectVersion property value of 1.1 or higher).</span></span>

> [!NOTE]
> <span data-ttu-id="c930e-113">Пользовательские агенты сборки больше не требуются.</span><span class="sxs-lookup"><span data-stu-id="c930e-113">Custom build agents are no longer required.</span></span> <span data-ttu-id="c930e-114">Размещенные агенты Team Services теперь устанавливаются вместе с программным обеспечением для управления кластером Service Fabric, что позволяет развертывать приложения непосредственно из этих агентов.</span><span class="sxs-lookup"><span data-stu-id="c930e-114">Team Services hosted agents now come pre-installed with Service Fabric cluster management software, allowing for deployment of your applications directly from those agents.</span></span>
> 
> 

## <a name="configure-and-share-your-source-files"></a><span data-ttu-id="c930e-115">Настройка и совместное использование исходных файлов</span><span class="sxs-lookup"><span data-stu-id="c930e-115">Configure and share your source files</span></span>
<span data-ttu-id="c930e-116">Hello первое, что вы хотите toodo — Подготовьте профиля публикации для использования процессом развертывания hello, которая выполняется в Team Services.</span><span class="sxs-lookup"><span data-stu-id="c930e-116">hello first thing you want toodo is prepare a publish profile for use by hello deployment process that executes within Team Services.</span></span>  <span data-ttu-id="c930e-117">Hello профиля публикации должно быть настроенный tootarget hello кластера, которые ранее подготовлены:</span><span class="sxs-lookup"><span data-stu-id="c930e-117">hello publish profile should be configured tootarget hello cluster that you've previously prepared:</span></span>

1. <span data-ttu-id="c930e-118">Выберите профиль публикации в проекте приложения, toouse для непрерывной интеграции рабочего процесса.</span><span class="sxs-lookup"><span data-stu-id="c930e-118">Choose a publish profile within your Application project that you want toouse for your continuous integration workflow.</span></span> <span data-ttu-id="c930e-119">Выполните hello [публикации инструкции](service-fabric-publish-app-remote-cluster.md) о том, как toopublish удаленного кластера tooa приложений.</span><span class="sxs-lookup"><span data-stu-id="c930e-119">Follow hello [publish instructions](service-fabric-publish-app-remote-cluster.md) on how toopublish an application tooa remote cluster.</span></span> <span data-ttu-id="c930e-120">Вам не нужны toopublish приложения хотя.</span><span class="sxs-lookup"><span data-stu-id="c930e-120">You don't actually need toopublish your application though.</span></span> <span data-ttu-id="c930e-121">Можно щелкнуть hello **Сохранить** диалоговое окно публикации гиперссылки в hello после настройки действия соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="c930e-121">You can click hello **Save** hyperlink in hello publish dialog once you have configured things appropriately.</span></span>
2. <span data-ttu-id="c930e-122">Вы хотите toobe вашего приложения, обновления для каждого развертывания, который находится в пределах Team Services, следует ли tooconfigure hello tooenable обновление профиля публикации.</span><span class="sxs-lookup"><span data-stu-id="c930e-122">If you want your application toobe upgraded for each deployment that occurs within Team Services, you want tooconfigure hello publish profile tooenable upgrade.</span></span> <span data-ttu-id="c930e-123">Hello диалоговое окно используется таким же публикации на шаге 1, убедитесь, что hello **обновления hello приложения** установлен флажок.</span><span class="sxs-lookup"><span data-stu-id="c930e-123">In hello same publish dialog used in step 1, ensure that hello **Upgrade hello Application** checkbox is checked.</span></span>  <span data-ttu-id="c930e-124">Вы можете узнать больше о [настройке дополнительных параметров обновления](service-fabric-visualstudio-configure-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="c930e-124">Learn more about [configuring additional upgrade settings](service-fabric-visualstudio-configure-upgrade.md).</span></span> <span data-ttu-id="c930e-125">Нажмите кнопку hello **Сохранить** hello параметры гиперссылки toosave toohello профиль публикации.</span><span class="sxs-lookup"><span data-stu-id="c930e-125">Click hello **Save** hyperlink toosave hello settings toohello publish profile.</span></span>
3. <span data-ttu-id="c930e-126">Убедитесь, что сохраненные изменения toohello опубликовать профиль и Отмена hello диалоговое окно публикации.</span><span class="sxs-lookup"><span data-stu-id="c930e-126">Ensure that you've saved your changes toohello publish profile and cancel hello publish dialog.</span></span>
4. <span data-ttu-id="c930e-127">Теперь настало время слишком[совместно использовать файлы исходного проекта приложения](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) с Team Services.</span><span class="sxs-lookup"><span data-stu-id="c930e-127">Now it's time too[share your Application project source files](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) with Team Services.</span></span> <span data-ttu-id="c930e-128">Как только исходные файлы доступны в Team Services, теперь можно переходить на следующий шаг toohello создания сборки.</span><span class="sxs-lookup"><span data-stu-id="c930e-128">Once your source files are accessible in Team Services, you can now move on toohello next step of generating builds.</span></span> 

## <a name="create-a-build-definition"></a><span data-ttu-id="c930e-129">Создание определения сборки</span><span class="sxs-lookup"><span data-stu-id="c930e-129">Create a build definition</span></span>
<span data-ttu-id="c930e-130">Определение сборки Team Services описывает рабочий процесс, состоящий из набора шагов сборки, которые выполняются последовательно.</span><span class="sxs-lookup"><span data-stu-id="c930e-130">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="c930e-131">Цель Hello hello определения построения, для которого создается — tooproduce пакет Service Fabric приложения и другие артефакты, которые можно использовать toodeploy приложения hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-131">hello goal of hello build definition that you are creating is tooproduce a Service Fabric application package, and other artifacts, that can be used toodeploy hello application.</span></span> <span data-ttu-id="c930e-132">Узнайте больше об [определениях сборок](https://www.visualstudio.com/docs/build/define/create)Team Services.</span><span class="sxs-lookup"><span data-stu-id="c930e-132">Learn more about Team Services [build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span>

### <a name="create-a-definition-from-hello-build-template"></a><span data-ttu-id="c930e-133">Создание определения на основе шаблона построения hello</span><span class="sxs-lookup"><span data-stu-id="c930e-133">Create a definition from hello build template</span></span>
1. <span data-ttu-id="c930e-134">Откройте командный проект в Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="c930e-134">Open your team project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="c930e-135">Выберите hello **построения** вкладки.</span><span class="sxs-lookup"><span data-stu-id="c930e-135">Select hello **Build** tab.</span></span>
3. <span data-ttu-id="c930e-136">Выберите hello зеленый  **+**  входа toocreate новое определение сборки.</span><span class="sxs-lookup"><span data-stu-id="c930e-136">Select hello green **+** sign toocreate a new build definition.</span></span>
4. <span data-ttu-id="c930e-137">В диалоговом окне приветствия откроется, выберите **приложение Azure Service Fabric** внутри hello **построения** категории шаблонов.</span><span class="sxs-lookup"><span data-stu-id="c930e-137">In hello dialog that opens, select **Azure Service Fabric Application** within hello **Build** template category.</span></span>
5. <span data-ttu-id="c930e-138">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="c930e-138">Select **Next**.</span></span>
6. <span data-ttu-id="c930e-139">Выберите репозиторий hello и ветвь, связанных с приложением Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="c930e-139">Select hello repository and branch associated with your Service Fabric application.</span></span>
7. <span data-ttu-id="c930e-140">Выберите очереди агента hello нужно toouse.</span><span class="sxs-lookup"><span data-stu-id="c930e-140">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="c930e-141">Поддерживаются размещенные агенты.</span><span class="sxs-lookup"><span data-stu-id="c930e-141">Hosted agents are supported.</span></span>
8. <span data-ttu-id="c930e-142">Нажмите кнопку **Создать**.</span><span class="sxs-lookup"><span data-stu-id="c930e-142">Select **Create**.</span></span>
9. <span data-ttu-id="c930e-143">Сохраните определение сборки hello и введите имя.</span><span class="sxs-lookup"><span data-stu-id="c930e-143">Save hello build definition and provide a name.</span></span>
10. <span data-ttu-id="c930e-144">Hello следующий абзац представляет собой описание этапов построения hello, создаваемые шаблоном hello:</span><span class="sxs-lookup"><span data-stu-id="c930e-144">hello following paragraph is a description of hello build steps generated by hello template:</span></span>

| <span data-ttu-id="c930e-145">Шаг сборки</span><span class="sxs-lookup"><span data-stu-id="c930e-145">Build step</span></span> | <span data-ttu-id="c930e-146">Описание</span><span class="sxs-lookup"><span data-stu-id="c930e-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c930e-147">Восстановление NuGet</span><span class="sxs-lookup"><span data-stu-id="c930e-147">NuGet restore</span></span> |<span data-ttu-id="c930e-148">Восстанавливает hello пакеты NuGet для решения hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-148">Restores hello NuGet packages for hello solution.</span></span> |
| <span data-ttu-id="c930e-149">Сборка решения \*.sln</span><span class="sxs-lookup"><span data-stu-id="c930e-149">Build solution \*.sln</span></span> |<span data-ttu-id="c930e-150">Выполняет построение hello всего решения.</span><span class="sxs-lookup"><span data-stu-id="c930e-150">Builds hello entire solution.</span></span> |
| <span data-ttu-id="c930e-151">Сборка решения \*.sfproj</span><span class="sxs-lookup"><span data-stu-id="c930e-151">Build solution \*.sfproj</span></span> |<span data-ttu-id="c930e-152">Создает пакет приложения Service Fabric hello, который является приложение hello используется toodeploy.</span><span class="sxs-lookup"><span data-stu-id="c930e-152">Generates hello Service Fabric application package that is used toodeploy hello application.</span></span> <span data-ttu-id="c930e-153">расположение пакета приложения Hello — указанного toobe в каталоге артефактов сборки hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-153">hello application package location is specified toobe within hello build's artifact directory.</span></span> |
| <span data-ttu-id="c930e-154">Обновление версий приложения Service Fabric</span><span class="sxs-lookup"><span data-stu-id="c930e-154">Update Service Fabric App Versions</span></span> |<span data-ttu-id="c930e-155">Обновляет значения версии hello, содержащихся в tooallow файлов манифеста пакета приложения hello для поддержки обновления.</span><span class="sxs-lookup"><span data-stu-id="c930e-155">Updates hello version values contained in hello application package's manifest files tooallow for upgrade support.</span></span> <span data-ttu-id="c930e-156">В разделе hello [страницы документации задач](https://go.microsoft.com/fwlink/?LinkId=820529) для получения дополнительной информации.</span><span class="sxs-lookup"><span data-stu-id="c930e-156">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> |
| <span data-ttu-id="c930e-157">Копирование файлов.</span><span class="sxs-lookup"><span data-stu-id="c930e-157">Copy Files</span></span> |<span data-ttu-id="c930e-158">Копирует hello публикации профиль и toobe артефакты файлы toohello приложения параметры построения, использованных для развертывания.</span><span class="sxs-lookup"><span data-stu-id="c930e-158">Copies hello publish profile and application parameters files toohello build's artifacts toobe consumed for deployment.</span></span> |
| <span data-ttu-id="c930e-159">Публикация артефакта</span><span class="sxs-lookup"><span data-stu-id="c930e-159">Publish Artifact</span></span> |<span data-ttu-id="c930e-160">Публикация артефактов сборки hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-160">Publishes hello build's artifacts.</span></span> <span data-ttu-id="c930e-161">Позволяет артефактов сборки hello tooconsume определения выпуска.</span><span class="sxs-lookup"><span data-stu-id="c930e-161">Allows a release definition tooconsume hello build's artifacts.</span></span> |

### <a name="verify-hello-default-set-of-tasks"></a><span data-ttu-id="c930e-162">Проверьте набор задач по умолчанию hello</span><span class="sxs-lookup"><span data-stu-id="c930e-162">Verify hello default set of tasks</span></span>
1. <span data-ttu-id="c930e-163">Проверьте hello **решения** поле ввода для hello **восстановление NuGet** и **построения решения** шаги построения.</span><span class="sxs-lookup"><span data-stu-id="c930e-163">Verify hello **Solution** input field for hello **NuGet restore** and **Build solution** build steps.</span></span>  <span data-ttu-id="c930e-164">По умолчанию эти шаги построения выполнения после всех файлов решения, содержащиеся в репозитории связанные hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-164">By default, these build steps execute upon all solution files that are contained in hello associated repository.</span></span>  <span data-ttu-id="c930e-165">Если требуется только hello toooperate определения построения для одного из этих файлов решения, необходимо toothat путь к файлу для tooexplicitly обновления hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-165">If you only want hello build definition toooperate on one of those solution files, you need tooexplicitly update hello path toothat file.</span></span>
2. <span data-ttu-id="c930e-166">Проверьте hello **решения** поле ввода для hello **упаковать приложение** шаг сборки.</span><span class="sxs-lookup"><span data-stu-id="c930e-166">Verify hello **Solution** input field for hello **Package application** build step.</span></span>  <span data-ttu-id="c930e-167">По умолчанию сборки предполагается, что существует только один проект приложения Fabric Application (.sfproj) в репозитории hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-167">By default, this build step assumes only one Service Fabric Application project (.sfproj) exists in hello repository.</span></span>  <span data-ttu-id="c930e-168">Если имеется несколько файлов в репозитории и должны tootarget только один из них для определения построения, необходимо toothat путь к файлу для tooexplicitly обновления hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-168">If you have multiple such files in your repository and want tootarget only one of them for this build definition, you need tooexplicitly update hello path toothat file.</span></span>  <span data-ttu-id="c930e-169">Toopackage приложение нескольких проектов в репозитории, вы должны toocreate дополнительных **построения Visual Studio** шаги в определении сборки hello, у каждого целевого проекта приложения.</span><span class="sxs-lookup"><span data-stu-id="c930e-169">If you want toopackage multiple Application projects in your repository, you need toocreate additional **Visual Studio Build** steps in hello build definition that each target an Application project.</span></span>  <span data-ttu-id="c930e-170">Затем необходимо также tooupdate hello **Аргументы MSBuild** поля для каждого из них шаги построения, чтобы расположение пакета hello уникален для каждого из них.</span><span class="sxs-lookup"><span data-stu-id="c930e-170">You would then also need tooupdate hello **MSBuild Arguments** field for each of those build steps so that hello package location is unique for each of them.</span></span>
3. <span data-ttu-id="c930e-171">Проверить поведение управления версиями hello, определенные в hello **обновление версий приложения структуры** шаг сборки.</span><span class="sxs-lookup"><span data-stu-id="c930e-171">Verify hello versioning behavior defined in hello **Update Service Fabric App Versions** build step.</span></span>  <span data-ttu-id="c930e-172">По умолчанию этот этап сборки добавляет hello построения tooall версии чисел в файлах манифеста пакета приложения hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-172">By default, this build step appends hello build number tooall version values in hello application package's manifest files.</span></span> <span data-ttu-id="c930e-173">В разделе hello [страницы документации задач](https://go.microsoft.com/fwlink/?LinkId=820529) для получения дополнительной информации.</span><span class="sxs-lookup"><span data-stu-id="c930e-173">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> <span data-ttu-id="c930e-174">Это полезно для поддержки обновления приложения, поскольку для каждого развертывания обновления требуется значения разных версий из предыдущего развертывания hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-174">This is useful for supporting upgrade of your application since each upgrade deployment requires different version values from hello previous deployment.</span></span> <span data-ttu-id="c930e-175">Если вы являетесь вы не собираетесь toouse обновление приложения в рабочем процессе, можно отключить этот этап сборки.</span><span class="sxs-lookup"><span data-stu-id="c930e-175">If you're not intending toouse application upgrade in your workflow, you may consider disabling this build step.</span></span> <span data-ttu-id="c930e-176">Необходимо отключить, если вы собираетесь tooproduce сборку, которая может быть toooverwrite используется существующее приложение Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="c930e-176">It must be disabled if your intention is tooproduce a build that can be used toooverwrite an existing Service Fabric application.</span></span> <span data-ttu-id="c930e-177">Hello развертывание завершается неудачей, если версия hello приложения hello, созданные сборкой hello не соответствует версии hello приложения hello в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-177">hello deployment fails if hello version of hello application produced by hello build does not match hello version of hello application in hello cluster.</span></span>
4. <span data-ttu-id="c930e-178">Если решение содержит проект .NET Core, необходимо убедиться, что определение сборки содержит шаг построения, восстанавливает hello зависимости:</span><span class="sxs-lookup"><span data-stu-id="c930e-178">If your solution contains a .NET Core project, you must ensure that your build definition contains a build step that restores hello dependencies:</span></span>
   1. <span data-ttu-id="c930e-179">Выберите **Добавить шаг сборки…**.</span><span class="sxs-lookup"><span data-stu-id="c930e-179">Select **Add build step...**.</span></span>
   2. <span data-ttu-id="c930e-180">Найдите hello **командной строки** за вкладку программа hello и его, нажмите кнопку Добавить.</span><span class="sxs-lookup"><span data-stu-id="c930e-180">Locate hello **Command-Line** task within hello Utility tab and click its Add button.</span></span>
   3. <span data-ttu-id="c930e-181">Для поля ввода задачу hello используйте hello следующие значения:</span><span class="sxs-lookup"><span data-stu-id="c930e-181">For hello task's input fields, use hello following values:</span></span>
   4. <span data-ttu-id="c930e-182">Инструмент: dotnet</span><span class="sxs-lookup"><span data-stu-id="c930e-182">Tool: dotnet</span></span>
   5. <span data-ttu-id="c930e-183">Аргументы: restore</span><span class="sxs-lookup"><span data-stu-id="c930e-183">Arguments: restore</span></span>
   6. <span data-ttu-id="c930e-184">Перетащите задачу hello сразу после hello **восстановление NuGet** шаг.</span><span class="sxs-lookup"><span data-stu-id="c930e-184">Drag hello task so that it is immediately after hello **NuGet restore** step.</span></span>
5. <span data-ttu-id="c930e-185">Сохраните все изменения вы внесли toohello определение сборки.</span><span class="sxs-lookup"><span data-stu-id="c930e-185">Save any changes you've made toohello build definition.</span></span>

### <a name="try-it"></a><span data-ttu-id="c930e-186">Попробовать</span><span class="sxs-lookup"><span data-stu-id="c930e-186">Try it</span></span>
<span data-ttu-id="c930e-187">Выберите **поставить в очередь построение** toomanually начать сборку.</span><span class="sxs-lookup"><span data-stu-id="c930e-187">Select **Queue Build** toomanually start a build.</span></span> <span data-ttu-id="c930e-188">Сборки также активируются после принудительного запуска или возврата.</span><span class="sxs-lookup"><span data-stu-id="c930e-188">Builds also triggers upon push or check-in.</span></span> <span data-ttu-id="c930e-189">Проверив успешному выполнению сборки hello, теперь можно переходить на toodefining определения выпуска, которая развертывает приложение tooa кластера.</span><span class="sxs-lookup"><span data-stu-id="c930e-189">Once you've verified that hello build is executing successfully, you can now move on toodefining a release definition that deploys your application tooa cluster.</span></span>

## <a name="create-a-release-definition"></a><span data-ttu-id="c930e-190">Создание определения выпуска</span><span class="sxs-lookup"><span data-stu-id="c930e-190">Create a release definition</span></span>
<span data-ttu-id="c930e-191">Определение выпуска Team Services описывает рабочий процесс, состоящий из набора задач, которые выполняются последовательно.</span><span class="sxs-lookup"><span data-stu-id="c930e-191">A Team Services release definition describes a workflow that is composed of a set of tasks that are executed sequentially.</span></span> <span data-ttu-id="c930e-192">Цель Hello hello определения выпуска, для которого создается tootake пакета приложения и разверните его tooa кластера.</span><span class="sxs-lookup"><span data-stu-id="c930e-192">hello goal of hello release definition that you are creating is tootake an application package and deploy it tooa cluster.</span></span> <span data-ttu-id="c930e-193">При совместном использовании hello определение построения и определение выпуска можно выполнить весь рабочий процесс hello из начиная с источника tooending файлы с запущенным приложением в кластере.</span><span class="sxs-lookup"><span data-stu-id="c930e-193">When used together, hello build definition and release definition can execute hello entire workflow from starting with source files tooending with a running application in your cluster.</span></span> <span data-ttu-id="c930e-194">Узнайте больше об [определениях выпуска](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition)Team Services.</span><span class="sxs-lookup"><span data-stu-id="c930e-194">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-definition-from-hello-release-template"></a><span data-ttu-id="c930e-195">Создайте определение из шаблона выпуска hello</span><span class="sxs-lookup"><span data-stu-id="c930e-195">Create a definition from hello release template</span></span>
1. <span data-ttu-id="c930e-196">Откройте проект в Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="c930e-196">Open your project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="c930e-197">Выберите hello **выпуска** вкладки.</span><span class="sxs-lookup"><span data-stu-id="c930e-197">Select hello **Release** tab.</span></span>
3. <span data-ttu-id="c930e-198">Выберите hello зеленый  **+**  toocreate определение нового выпуска и выберите **создать определение выпуска** в меню hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-198">Select hello green **+** sign toocreate a new release definition and select **Create release definition** in hello menu.</span></span>
4. <span data-ttu-id="c930e-199">В диалоговом окне приветствия откроется, выберите **развертывание структуры службы Azure** внутри hello **развертывания** категории шаблонов.</span><span class="sxs-lookup"><span data-stu-id="c930e-199">In hello dialog that opens, select **Azure Service Fabric Deployment** within hello **Deployment** template category.</span></span>
5. <span data-ttu-id="c930e-200">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="c930e-200">Select **Next**.</span></span>
6. <span data-ttu-id="c930e-201">Выберите определение сборки hello требуемый toouse hello источник этого определения выпуска.</span><span class="sxs-lookup"><span data-stu-id="c930e-201">Select hello build definition you want toouse as hello source of this release definition.</span></span>  <span data-ttu-id="c930e-202">Hello выпуска определения ссылок hello артефактов, которые были созданы hello выбранного определения построения.</span><span class="sxs-lookup"><span data-stu-id="c930e-202">hello release definition references hello artifacts that were produced by hello selected build definition.</span></span>
7. <span data-ttu-id="c930e-203">Проверьте hello **непрерывного развертывания** флажок, если вы хотите toohave Team Services автоматически создать выпуск и развертывание приложения Service Fabric hello всякий раз, когда построение завершается.</span><span class="sxs-lookup"><span data-stu-id="c930e-203">Check hello **Continuous deployment** check box if you wish toohave Team Services automatically create a new release and deploy hello Service Fabric application whenever a build completes.</span></span>
8. <span data-ttu-id="c930e-204">Выберите очереди агента hello нужно toouse.</span><span class="sxs-lookup"><span data-stu-id="c930e-204">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="c930e-205">Поддерживаются размещенные агенты.</span><span class="sxs-lookup"><span data-stu-id="c930e-205">Hosted agents are supported.</span></span>
9. <span data-ttu-id="c930e-206">Нажмите кнопку **Создать**.</span><span class="sxs-lookup"><span data-stu-id="c930e-206">Select **Create**.</span></span>
10. <span data-ttu-id="c930e-207">Измените имя определения hello, щелкнув значок карандаша hello вверху hello страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="c930e-207">Edit hello definition name by clicking hello pencil icon at hello top of hello page.</span></span>
11. <span data-ttu-id="c930e-208">Выберите toowhich hello кластера, необходимо развернуть приложение из hello **подключения кластера** поле ввода задачи «hello».</span><span class="sxs-lookup"><span data-stu-id="c930e-208">Select hello cluster toowhich your application should be deployed from hello **Cluster Connection** input field of hello task.</span></span> <span data-ttu-id="c930e-209">подключение кластера Hello содержится вся необходимая информация hello, позволяющий hello развертывания задач tooconnect toohello кластера.</span><span class="sxs-lookup"><span data-stu-id="c930e-209">hello cluster connection provides hello necessary information that allows hello deployment task tooconnect toohello cluster.</span></span> <span data-ttu-id="c930e-210">Если вы еще не подключения кластера для кластера, выберите hello **управление** гиперссылки Далее toohello поле tooadd один.</span><span class="sxs-lookup"><span data-stu-id="c930e-210">If you do not yet have a cluster connection for your cluster, select hello **Manage** hyperlink next toohello field tooadd one.</span></span> <span data-ttu-id="c930e-211">На открывшейся странице hello выполните следующие шаги hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-211">On hello page that opens, perform hello following steps:</span></span>
    1. <span data-ttu-id="c930e-212">Выберите **новую конечную точку службы** , а затем выберите **Azure Service Fabric** меню "hello".</span><span class="sxs-lookup"><span data-stu-id="c930e-212">Select **New Service Endpoint** and then select **Azure Service Fabric** from hello menu.</span></span>
    2. <span data-ttu-id="c930e-213">Выберите тип проверки подлинности, используемого кластера hello распространяется на эту конечную точку hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-213">Select hello type of authentication being used by hello cluster targeted by this endpoint.</span></span>
    3. <span data-ttu-id="c930e-214">Определите имя для соединения в hello **имя подключения** поля.</span><span class="sxs-lookup"><span data-stu-id="c930e-214">Define a name for your connection in hello **Connection Name** field.</span></span>  <span data-ttu-id="c930e-215">Как правило используется имя кластера hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-215">Typically, you would use hello name of your cluster.</span></span>
    4. <span data-ttu-id="c930e-216">Определение URL-адрес конечной точки подключения клиента hello в hello **конечную точку кластера** поля.</span><span class="sxs-lookup"><span data-stu-id="c930e-216">Define hello client connection endpoint URL in hello **Cluster Endpoint** field.</span></span>  <span data-ttu-id="c930e-217">Пример: tcp://contoso.westus.cloudapp.azure.com:19000.</span><span class="sxs-lookup"><span data-stu-id="c930e-217">Example: tcp://contoso.westus.cloudapp.azure.com:19000.</span></span>
    5. <span data-ttu-id="c930e-218">Для учетных данных Azure Active Directory, укажите учетные данные hello, toouse tooconnect toohello кластеру в hello **Username** и **пароль** поля.</span><span class="sxs-lookup"><span data-stu-id="c930e-218">For Azure Active Directory credentials, define hello credentials you want toouse tooconnect toohello cluster in hello **Username** and **Password** fields.</span></span>
    6. <span data-ttu-id="c930e-219">Для проверки подлинности на основе сертификатов, определите кодировку hello Base64 hello файл сертификата клиента в hello **сертификат клиента** поля.</span><span class="sxs-lookup"><span data-stu-id="c930e-219">For Certificate Based authentication, define hello Base64 encoding of hello client certificate file in hello **Client Certificate** field.</span></span>  <span data-ttu-id="c930e-220">См. на этом поле, сведения о том, как всплывающее окно справки hello tooget это значение.</span><span class="sxs-lookup"><span data-stu-id="c930e-220">See hello help pop-up on that field for info on how tooget that value.</span></span>  <span data-ttu-id="c930e-221">Если сертификат защищен паролем, определить пароль hello в hello **пароль** поля.</span><span class="sxs-lookup"><span data-stu-id="c930e-221">If your certificate is password-protected, define hello password in hello **Password** field.</span></span>
    7. <span data-ttu-id="c930e-222">Подтвердите изменения, нажав кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="c930e-222">Confirm your changes by clicking **OK**.</span></span> <span data-ttu-id="c930e-223">После перехода назад tooyour определение выпуска, щелкните значок обновления hello hello **подключения кластера** поле конечной точки hello toosee был только что добавлен.</span><span class="sxs-lookup"><span data-stu-id="c930e-223">After navigating back tooyour release definition, click hello refresh icon on hello **Cluster Connection** field toosee hello endpoint you just added.</span></span>
12. <span data-ttu-id="c930e-224">Сохраните определение выпуска hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-224">Save hello release definition.</span></span>

> [!NOTE]
> <span data-ttu-id="c930e-225">Учетные записи Майкрософт (например, @hotmail.com или @outlook.com) не поддерживаются для аутентификации Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c930e-225">Microsoft Accounts (for example, @hotmail.com or @outlook.com) are not supported with Azure Active Directory authentication.</span></span>
> 
> 

<span data-ttu-id="c930e-226">Определение Hello, созданный состоит из одной задачи типа **развертывания приложения Service Fabric**.</span><span class="sxs-lookup"><span data-stu-id="c930e-226">hello definition that is created consists of one task of type **Service Fabric Application Deployment**.</span></span> <span data-ttu-id="c930e-227">В разделе hello [страницы документации задач](https://go.microsoft.com/fwlink/?LinkId=820528) Дополнительные сведения об этой задаче.</span><span class="sxs-lookup"><span data-stu-id="c930e-227">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820528) for more information about this task.</span></span>

### <a name="verify-hello-template-defaults"></a><span data-ttu-id="c930e-228">Проверка шаблона по умолчанию hello</span><span class="sxs-lookup"><span data-stu-id="c930e-228">Verify hello template defaults</span></span>
1. <span data-ttu-id="c930e-229">Проверьте hello **профиль публикации** поле ввода для hello **развернуть приложение Service Fabric** задачи.</span><span class="sxs-lookup"><span data-stu-id="c930e-229">Verify hello **Publish Profile** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="c930e-230">По умолчанию это поле ссылается на профиль публикации, с именем Cloud.xml, содержащихся в артефактов сборки hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-230">By default, this field references a publish profile named Cloud.xml contained in hello build's artifacts.</span></span> <span data-ttu-id="c930e-231">Если требуется tooreference другой профиль публикации или если hello сборка содержит несколько пакетов приложений в ее артефактов, tooupdate hello пути необходимо соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="c930e-231">If you want tooreference a different publish profile or if hello build contains multiple application packages in its artifacts, you need tooupdate hello path appropriately.</span></span>
2. <span data-ttu-id="c930e-232">Проверьте hello **пакета приложения** поле ввода для hello **развернуть приложение Service Fabric** задачи.</span><span class="sxs-lookup"><span data-stu-id="c930e-232">Verify hello **Application Package** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="c930e-233">По умолчанию это поле ссылается hello приложения по умолчанию пакет путь, используемый в шаблон определения сборки hello.</span><span class="sxs-lookup"><span data-stu-id="c930e-233">By default, this field references hello default application package path used in hello build definition template.</span></span>  <span data-ttu-id="c930e-234">Если измененный путь к пакету приложения по умолчанию hello в hello определение сборки, необходимо tooupdate hello путь соответствующим образом здесь также.</span><span class="sxs-lookup"><span data-stu-id="c930e-234">If you've modified hello default application package path in hello build definition, you need tooupdate hello path appropriately here as well.</span></span>

### <a name="try-it"></a><span data-ttu-id="c930e-235">Попробовать</span><span class="sxs-lookup"><span data-stu-id="c930e-235">Try it</span></span>
<span data-ttu-id="c930e-236">Выберите **Создание выпуска** из hello **выпуска** toomanually меню кнопки Создать выпуск.</span><span class="sxs-lookup"><span data-stu-id="c930e-236">Select **Create Release** from hello **Release** button menu toomanually create a release.</span></span> <span data-ttu-id="c930e-237">В диалоговом окне приветствия откроется, выберите hello построения выпуска hello toobase на и нажмите кнопку **создать**.</span><span class="sxs-lookup"><span data-stu-id="c930e-237">In hello dialog that opens, select hello build that you want toobase hello release on and then click **Create**.</span></span> <span data-ttu-id="c930e-238">Если вы включили непрерывного развертывания, выпуски создается автоматически по завершении сборки hello связанное определение сборки.</span><span class="sxs-lookup"><span data-stu-id="c930e-238">If you enabled continuous deployment, releases will be created automatically when hello associated build definition completes a build.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c930e-239">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="c930e-239">Next steps</span></span>
<span data-ttu-id="c930e-240">Дополнительные сведения о непрерывной интеграции с приложениями Service Fabric, чтение hello следующие статьи toolearn:</span><span class="sxs-lookup"><span data-stu-id="c930e-240">toolearn more about continuous integration with Service Fabric applications, read hello following articles:</span></span>

* [<span data-ttu-id="c930e-241">Домашняя страница документации по Team Services</span><span class="sxs-lookup"><span data-stu-id="c930e-241">Team Services documentation home</span></span>](https://www.visualstudio.com/docs/overview)
* [<span data-ttu-id="c930e-242">Управление сборками в Team Services</span><span class="sxs-lookup"><span data-stu-id="c930e-242">Build management in Team Services</span></span>](https://www.visualstudio.com/docs/build/overview)
* [<span data-ttu-id="c930e-243">Управление выпусками в Team Services</span><span class="sxs-lookup"><span data-stu-id="c930e-243">Release management in Team Services</span></span>](https://www.visualstudio.com/docs/release/overview)

