---
title: "hello aaaPlanning емкость кластера Service Fabric | Документы Microsoft"
description: "Рекомендации по планированию загрузки кластера Service Fabric. NodeTypes, устойчивость и уровни надежности"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 83272ce7fefe698eef755cf66493c2874cc3b120
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="4c884-104">Рекомендации по планированию загрузки кластера Service Fabric</span><span class="sxs-lookup"><span data-stu-id="4c884-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="4c884-105">Для любой рабочей развернутой службы важным шагом является планирование загрузки.</span><span class="sxs-lookup"><span data-stu-id="4c884-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="4c884-106">Вот некоторые из элементов hello наличие tooconsider в рамках этого процесса.</span><span class="sxs-lookup"><span data-stu-id="4c884-106">Here are some of hello items that you have tooconsider as a part of that process.</span></span>

* <span data-ttu-id="4c884-107">номер узла Hello типы toostart кластера потребностей out с</span><span class="sxs-lookup"><span data-stu-id="4c884-107">hello number of node types your cluster needs toostart out with</span></span>
* <span data-ttu-id="4c884-108">Hello свойства каждого типа узла (размер, основной сети Интернет, количество виртуальных машин и т. д.)</span><span class="sxs-lookup"><span data-stu-id="4c884-108">hello properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="4c884-109">Здравствуйте, надежность и устойчивость характеристики кластера hello</span><span class="sxs-lookup"><span data-stu-id="4c884-109">hello reliability and durability characteristics of hello cluster</span></span>

<span data-ttu-id="4c884-110">Кратко рассмотрим каждый из пунктов.</span><span class="sxs-lookup"><span data-stu-id="4c884-110">Let us briefly review each of these items.</span></span>

## <a name="hello-number-of-node-types-your-cluster-needs-toostart-out-with"></a><span data-ttu-id="4c884-111">номер узла Hello типы toostart кластера потребностей out с</span><span class="sxs-lookup"><span data-stu-id="4c884-111">hello number of node types your cluster needs toostart out with</span></span>
<span data-ttu-id="4c884-112">Во-первых, требуется toofigure какие hello кластера, вы создаете будет toobe для и определяет, какие типы приложений планирование toodeploy в этом кластере.</span><span class="sxs-lookup"><span data-stu-id="4c884-112">First, you need toofigure out what hello cluster you are creating is going toobe used for and what kinds of applications you are planning toodeploy into this cluster.</span></span> <span data-ttu-id="4c884-113">Если не очистить на hello назначением кластера hello, вы скорее всего, еще не готовы процесс планирования емкости hello tooenter.</span><span class="sxs-lookup"><span data-stu-id="4c884-113">If you are not clear on hello purpose of hello cluster, you are most likely not yet ready tooenter hello capacity planning process.</span></span>

<span data-ttu-id="4c884-114">Установите номер hello типов узлов кластера должна toostart out с.</span><span class="sxs-lookup"><span data-stu-id="4c884-114">Establish hello number of node types your cluster needs toostart out with.</span></span>  <span data-ttu-id="4c884-115">Каждый узел является сопоставленных tooa набора масштабирования виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c884-115">Each node type is mapped tooa Virtual Machine Scale Set.</span></span> <span data-ttu-id="4c884-116">Каждый тип узла поддерживает возможность независимого масштабирования, имеет разные наборы открытых портов и собственные метрики емкости.</span><span class="sxs-lookup"><span data-stu-id="4c884-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="4c884-117">Поэтому решение hello hello числа типов узлов по существу сводится toohello следующие вопросы:</span><span class="sxs-lookup"><span data-stu-id="4c884-117">So hello decision of hello number of node types essentially comes down toohello following considerations:</span></span>

* <span data-ttu-id="4c884-118">Приложение имеет несколько служб, для них любой из них требуется открытый toobe или из Интернета?</span><span class="sxs-lookup"><span data-stu-id="4c884-118">Does your application have multiple services, and do any of them need toobe public or internet facing?</span></span> <span data-ttu-id="4c884-119">Обычно приложения содержат служба шлюза переднего плана, которая получает входные данные от клиента и один или несколько служб, взаимодействующих с hello службы интерфейса.</span><span class="sxs-lookup"><span data-stu-id="4c884-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with hello front-end services.</span></span> <span data-ttu-id="4c884-120">Поэтому в этом случае требуется как минимум два типа узлов.</span><span class="sxs-lookup"><span data-stu-id="4c884-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="4c884-121">У служб (составляющих приложение) различные требования к инфраструктуре, например больше ОЗУ или тактов центрального процессора?</span><span class="sxs-lookup"><span data-stu-id="4c884-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="4c884-122">Например предположим, требуется toodeploy содержит службы интерфейса и внутренняя служба приложения hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-122">For example, let us assume that hello application that you want toodeploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="4c884-123">Hello переднего плана, можно запустить службу на более мелкие ВМ (размеры виртуальных Машин как D2), быть toohello открыты порты Интернета.</span><span class="sxs-lookup"><span data-stu-id="4c884-123">hello front-end service can run on smaller VMs (VM sizes like D2) that have ports open toohello internet.</span></span>  <span data-ttu-id="4c884-124">Hello внутренней службы, однако вычисления интенсивно использующих и потребностей toorun на больше виртуальных машин (с размеры виртуальных Машин как D15 D4 D6,), не internet обращен.</span><span class="sxs-lookup"><span data-stu-id="4c884-124">hello back-end service, however, is computation intensive and needs toorun on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="4c884-125">В этом примере несмотря на то, что вы можете tooput все hello служб на один узел типа, рекомендуется разместить их в кластере с двумя типами узлов.</span><span class="sxs-lookup"><span data-stu-id="4c884-125">In this example, although you can decide tooput all hello services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="4c884-126">Это позволяет для каждого узла типа toohave различные свойства, такие как подключение к Интернету или размер виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="4c884-126">This allows for each node type toohave distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="4c884-127">Hello число виртуальных машин может масштабироваться независимо друг от друга, а также.</span><span class="sxs-lookup"><span data-stu-id="4c884-127">hello number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="4c884-128">Поскольку нельзя предсказать будущие hello, переход с фактов, которые известны и принять решение о hello число типов узлов, которые приложения должны toostart с.</span><span class="sxs-lookup"><span data-stu-id="4c884-128">Since you cannot predict hello future, go with facts you know of and decide on hello number of node types that your applications need toostart with.</span></span> <span data-ttu-id="4c884-129">Вы всегда сможете добавить или удалить типы узлов позже.</span><span class="sxs-lookup"><span data-stu-id="4c884-129">You can always add or remove node types later.</span></span> <span data-ttu-id="4c884-130">У кластера Service Fabric должен быть по крайней мере один тип узла.</span><span class="sxs-lookup"><span data-stu-id="4c884-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="hello-properties-of-each-node-type"></a><span data-ttu-id="4c884-131">Hello свойства каждого типа узла</span><span class="sxs-lookup"><span data-stu-id="4c884-131">hello properties of each node type</span></span>
<span data-ttu-id="4c884-132">Hello **тип узла** можно рассматривать как эквивалент tooroles в облачных службах.</span><span class="sxs-lookup"><span data-stu-id="4c884-132">hello **node type** can be seen as equivalent tooroles in Cloud Services.</span></span> <span data-ttu-id="4c884-133">Типы узлов определяют размеры виртуальных Машин hello, hello число виртуальных машин и их свойства.</span><span class="sxs-lookup"><span data-stu-id="4c884-133">Node types define hello VM sizes, hello number of VMs, and their properties.</span></span> <span data-ttu-id="4c884-134">Каждый тип узла, определенный в кластере Service Fabric, настроен как отдельный набор масштабирования виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c884-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="4c884-135">Набор масштабирования виртуальной машины — это ресурс вычислений Azure, вы можете использовать toodeploy и управлять коллекции виртуальных машин в качестве набора.</span><span class="sxs-lookup"><span data-stu-id="4c884-135">Virtual machine scale set is an Azure compute resource you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="4c884-136">Будучи определенным как отдельный набор масштабирования виртуальных машин, каждый тип узла поддерживает возможность независимого масштабирования, имеет разные наборы открытых портов и собственные метрики загрузки.</span><span class="sxs-lookup"><span data-stu-id="4c884-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="4c884-137">Чтение [в этом документе](service-fabric-cluster-nodetypes.md) Дополнительные сведения о связи hello Nodetypes toovirtual машины масштабного набора как tooRDP в один из экземпляров Привет открыть новые порты и т. д.</span><span class="sxs-lookup"><span data-stu-id="4c884-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on hello relationship of Nodetypes toovirtual machine scale set, how tooRDP into one of hello instances, open new ports etc.</span></span>

<span data-ttu-id="4c884-138">Кластер может иметь более одного типа узла, но тип основного узла hello (hello первое заданное вами на портале hello) должен иметь по крайней мере пять виртуальных машин для кластеров, используемые для рабочих нагрузок (или по крайней мере три виртуальные машины для теста кластеров).</span><span class="sxs-lookup"><span data-stu-id="4c884-138">Your cluster can have more than one node type, but hello primary node type (hello first one that you define on hello portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="4c884-139">Если вы создаете с помощью шаблона диспетчера ресурсов кластера hello, искать **является основным** атрибута в разделе определения типа узла hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-139">If you are creating hello cluster using a Resource Manager template, then look for **is Primary** attribute under hello node type definition.</span></span> <span data-ttu-id="4c884-140">Тип основного узла Hello — тип узла hello там, где размещены службы system Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="4c884-140">hello primary node type is hello node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="4c884-141">Тип первичного узла</span><span class="sxs-lookup"><span data-stu-id="4c884-141">Primary node type</span></span>
<span data-ttu-id="4c884-142">Кластер с несколькими типами узлов необходимо toochoose один из них toobe первичной.</span><span class="sxs-lookup"><span data-stu-id="4c884-142">For a cluster with multiple node types, you need toochoose one of them toobe primary.</span></span> <span data-ttu-id="4c884-143">Ниже приведены характеристики hello тип основного узла.</span><span class="sxs-lookup"><span data-stu-id="4c884-143">Here are hello characteristics of a primary node type:</span></span>

* <span data-ttu-id="4c884-144">Hello **минимальный размер виртуальных машин** тип основного узла hello определяется hello **уровень устойчивости** выборе.</span><span class="sxs-lookup"><span data-stu-id="4c884-144">hello **minimum size of VMs** for hello primary node type is determined by hello **durability tier** you choose.</span></span> <span data-ttu-id="4c884-145">по умолчанию Hello hello уровень устойчивости, бронза.</span><span class="sxs-lookup"><span data-stu-id="4c884-145">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="4c884-146">Прокрутите страницу вниз, сведения о какой уровень устойчивости hello и значения hello он может занять.</span><span class="sxs-lookup"><span data-stu-id="4c884-146">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="4c884-147">Hello **минимальное число виртуальных машин** тип основного узла hello определяется hello **уровень надежности** выборе.</span><span class="sxs-lookup"><span data-stu-id="4c884-147">hello **minimum number of VMs** for hello primary node type is determined by hello **reliability tier** you choose.</span></span> <span data-ttu-id="4c884-148">по умолчанию Hello hello уровень надежности, серебряный.</span><span class="sxs-lookup"><span data-stu-id="4c884-148">hello default for hello reliability tier is Silver.</span></span> <span data-ttu-id="4c884-149">Прокрутите страницу вниз, сведения о какой уровень надежности hello и значения hello он может занять.</span><span class="sxs-lookup"><span data-stu-id="4c884-149">Scroll down for details on what hello reliability tier is and hello values it can take.</span></span> 


* <span data-ttu-id="4c884-150">Hello Service Fabric системных служб (например, службы диспетчера кластеров hello или службы хранилища образов) помещаются в тип основного узла hello и поэтому hello надежность и устойчивость hello кластера определяется hello уровня значение и устойчивость уровень надежности значение, выбираемые для hello тип основного узла.</span><span class="sxs-lookup"><span data-stu-id="4c884-150">hello Service Fabric system services (for example, hello Cluster Manager service or Image Store service) are placed on hello primary node type and so hello reliability and durability of hello cluster is determined by hello reliability tier value and durability tier value you select for hello primary node type.</span></span>

![<span data-ttu-id="4c884-151">Снимок экрана с двумя типами узлов</span><span class="sxs-lookup"><span data-stu-id="4c884-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="4c884-152">Тип вторичного узла</span><span class="sxs-lookup"><span data-stu-id="4c884-152">Non-primary node type</span></span>
<span data-ttu-id="4c884-153">Кластер с несколькими типами узлов есть один тип основного узла и неосновной rest hello из них.</span><span class="sxs-lookup"><span data-stu-id="4c884-153">For a cluster with multiple node types, there is one primary node type and hello rest of them are non-primary.</span></span> <span data-ttu-id="4c884-154">Ниже приведены характеристики типа узла неосновной hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-154">Here are hello characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="4c884-155">Минимальный размер виртуальных машин для данного типа узла Hello определяется уровень устойчивости hello выбрать.</span><span class="sxs-lookup"><span data-stu-id="4c884-155">hello minimum size of VMs for this node type is determined by hello durability tier you choose.</span></span> <span data-ttu-id="4c884-156">по умолчанию Hello hello уровень устойчивости, бронза.</span><span class="sxs-lookup"><span data-stu-id="4c884-156">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="4c884-157">Прокрутите страницу вниз, сведения о какой уровень устойчивости hello и значения hello он может занять.</span><span class="sxs-lookup"><span data-stu-id="4c884-157">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="4c884-158">Hello минимальное число виртуальных машин для данного типа узла может быть один.</span><span class="sxs-lookup"><span data-stu-id="4c884-158">hello minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="4c884-159">Однако следует выбирать это число в зависимости от числа hello реплик hello приложений или служб, желательно toorun в этот тип узла.</span><span class="sxs-lookup"><span data-stu-id="4c884-159">However you should choose this number based on hello number of replicas of hello application/services that you would like toorun in this node type.</span></span> <span data-ttu-id="4c884-160">После развертывания кластера hello можно увеличить Hello число виртуальных машин в тип узла.</span><span class="sxs-lookup"><span data-stu-id="4c884-160">hello number of VMs in a node type can be increased after you have deployed hello cluster.</span></span>

## <a name="hello-durability-characteristics-of-hello-cluster"></a><span data-ttu-id="4c884-161">характеристики устойчивых Hello hello кластера</span><span class="sxs-lookup"><span data-stu-id="4c884-161">hello durability characteristics of hello cluster</span></span>
<span data-ttu-id="4c884-162">уровень устойчивости Hello имеет права доступа hello используется tooindicate toohello системы, виртуальные машины с базовой инфраструктуры Azure hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-162">hello durability tier is used tooindicate toohello system hello privileges that your VMs have with hello underlying Azure infrastructure.</span></span> <span data-ttu-id="4c884-163">В типе основного узла hello оно позволяет toopause Service Fabric запрос уровня инфраструктуры виртуальной Машины (таких как перезагрузка виртуальной Машины, повторное создание образа виртуальной Машины или миграцию виртуальной Машины), который влияет hello кворума требования для hello системных служб и служб с отслеживанием состояния.</span><span class="sxs-lookup"><span data-stu-id="4c884-163">In hello primary node type, this privilege allows Service Fabric toopause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact hello quorum requirements for hello system services and your stateful services.</span></span> <span data-ttu-id="4c884-164">В типы узлов неосновной hello данное право доступа позволяет toopause Service Fabric любой виртуальной Машины уровня инфраструктуры запросов, например перезагрузка виртуальной Машины, повторное создание образа виртуальной Машины, миграцию виртуальной Машины и т.д., которые влияют на требования hello кворума для служб с отслеживанием состояния в нем.</span><span class="sxs-lookup"><span data-stu-id="4c884-164">In hello non-primary node types, this privilege allows Service Fabric toopause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact hello quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="4c884-165">Эта привилегия представляется в формате hello следующие значения:</span><span class="sxs-lookup"><span data-stu-id="4c884-165">This privilege is expressed in hello following values:</span></span>

* <span data-ttu-id="4c884-166">Золотой - задания может быть приостановлена в течение двух часов в UD инфраструктура hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-166">Gold - hello infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="4c884-167">Устойчивость Gold можно включить только для номеров SKU виртуальных машин полных узлов, например D15_V2, G5 и т. д.</span><span class="sxs-lookup"><span data-stu-id="4c884-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="4c884-168">Серебряный - hello инфраструктуры задания может быть приостановлена и длительностью 10 минут на UD и доступна на всех стандартных виртуальных машин из одного ядра и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="4c884-168">Silver - hello infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="4c884-169">Bronze: привилегии отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="4c884-169">Bronze - No privileges.</span></span> <span data-ttu-id="4c884-170">Это значение по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-170">This is hello default.</span></span> <span data-ttu-id="4c884-171">Используйте этот уровень устойчивости только для типов узлов, на которых выполняются _только_ рабочие нагрузки без учета состояния.</span><span class="sxs-lookup"><span data-stu-id="4c884-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="4c884-172">Типы узлов, выполняющиеся с устойчивостью Bronze, _не получают привилегий_.</span><span class="sxs-lookup"><span data-stu-id="4c884-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="4c884-173">Это означает, что задания инфраструктуры, которые влияют рабочие нагрузки без отслеживания состояния, не будут остановлены или отложены.</span><span class="sxs-lookup"><span data-stu-id="4c884-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="4c884-174">Возможно, такие задания все же будут влиять на ваши рабочие нагрузки, приводя к простою или другим проблемам.</span><span class="sxs-lookup"><span data-stu-id="4c884-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="4c884-175">Для выполнения любого вида производственной рабочей нагрузки рекомендуется использовать по крайней мере устойчивость Silver.</span><span class="sxs-lookup"><span data-stu-id="4c884-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="4c884-176">Получить уровень надежности toochoose для каждого из типов узлов. Можно выбрать один тип узла toohave уровень устойчивости золотом или silver и других hello имеет бронза в hello одного кластера. **Необходимо поддерживать минимальное число 5 узлов для узла типа, который имеет устойчивость Gold или silver**.</span><span class="sxs-lookup"><span data-stu-id="4c884-176">You get toochoose durability level for each of your node-types.You can choose one node-type toohave a durability level of Gold or silver and hello other have Bronze in hello same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="4c884-177">**Преимущества использования уровней устойчивости Silver или Gold**</span><span class="sxs-lookup"><span data-stu-id="4c884-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="4c884-178">Уменьшает количество hello действия в операции масштабирования (то есть узел деактивация и удаление ServiceFabricNodeState вызывается автоматически)</span><span class="sxs-lookup"><span data-stu-id="4c884-178">Reduces hello number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="4c884-179">Уменьшает hello риск потери данных из-за tooa инициирована клиентом на месте SKU ВМ операции изменения или операций инфраструктуры Azure.</span><span class="sxs-lookup"><span data-stu-id="4c884-179">Reduces hello risk of data loss due tooa customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="4c884-180">**Недостатки использования уровней устойчивости Silver или Gold**</span><span class="sxs-lookup"><span data-stu-id="4c884-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="4c884-181">Tooyour развертываний набора масштабирования виртуальных машин и других связанных ресурсов Azure) может быть отложено, может истечь время или может быть заблокирован полностью проблем в кластере или на уровне инфраструктуры hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-181">Deployments tooyour Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at hello infrastructure level.</span></span> 
2. <span data-ttu-id="4c884-182">Здравствуйте, увеличивается число [события жизненного цикла реплики](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (например, основной операции замены) из-за tooautomated деактивации узла во время операций инфраструктуры Azure.</span><span class="sxs-lookup"><span data-stu-id="4c884-182">Increases hello number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due tooautomated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-toouse-silver-or-gold-durability-levels"></a><span data-ttu-id="4c884-183">Рекомендации по toouse серебряные и золотые уровни устойчивости</span><span class="sxs-lookup"><span data-stu-id="4c884-183">Recommendations on when toouse Silver or Gold durability levels</span></span>

<span data-ttu-id="4c884-184">Используйте серебряные и золотые устойчивости для все типы узлов с отслеживанием состояния, узел службы вы ожидали увидеть в tooscale (уменьшить число экземпляров виртуальных Машин) часто, и вы хотите использовать, что операции развертывания быть задержана пользу упрощение этих операций масштабирования в.</span><span class="sxs-lookup"><span data-stu-id="4c884-184">Use Silver or Gold durability for all node types that host stateful services you expect tooscale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="4c884-185">сценарии масштабирования Hello (добавление экземпляров виртуальных машин) не воспроизводятся в выборе hello уровень устойчивости, только в шкалы не.</span><span class="sxs-lookup"><span data-stu-id="4c884-185">hello scale-out scenarios (adding VMs instances) do not play into your choice of hello durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-hello-node-type-that-you-have-set-toosilver-or-gold-durability-level"></a><span data-ttu-id="4c884-186">Оперативной рекомендации для hello узла типа, который установлен toosilver или gold устойчивость уровня.</span><span class="sxs-lookup"><span data-stu-id="4c884-186">Operational Recommendations for hello node type that you have set toosilver or gold durability level.</span></span>

1. <span data-ttu-id="4c884-187">Сохранить кластера и приложений работоспособном состоянии постоянно и убедитесь в том, что приложения отвечают tooall [события жизненного цикла реплики службы](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (например, реплика в построении застряла) в течение отведенного времени.</span><span class="sxs-lookup"><span data-stu-id="4c884-187">Keep your cluster and applications healthy at all times, and make sure that applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="4c884-188">Принять более безопасных способов toomake изменение SKU ВМ (масштабирования вверх или вниз): изменение hello SKU виртуальной Машины набора масштабирования виртуальных машин является потенциально небезопасные операции и поэтому следует избегать по возможности.</span><span class="sxs-lookup"><span data-stu-id="4c884-188">Adopt safer ways toomake a VM SKU change (Scale up/down): Changing hello VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="4c884-189">Далее описывается процесс hello, можно выполнить tooavoid распространенных проблем.</span><span class="sxs-lookup"><span data-stu-id="4c884-189">Here is hello process you can follow tooavoid common issues.</span></span>
    - <span data-ttu-id="4c884-190">**Для nodetypes неосновной:** рекомендуется создать новый набор масштабирования виртуальных машин, изменить hello службы размещения tooinclude hello новый узел набора масштабирования виртуальных машин тип ограничения и затем сокращают hello, старый набор масштабирования виртуальных машин экземпляр счетчика too0, один узел одновременно (это toomake том, что удаление узлов hello не оказывают влияния на надежность hello hello кластера).</span><span class="sxs-lookup"><span data-stu-id="4c884-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify hello service placement constraint tooinclude hello new Virtual Machine Scale Set/node type and then reduce hello old Virtual Machine Scale Set instance count too0, one node at a time (this is toomake sure that removal of hello nodes do not impact hello reliability of hello cluster).</span></span>
    - <span data-ttu-id="4c884-191">**Для первичного nodetype hello:** рекомендуется не изменять номера SKU hello тип основного узла виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="4c884-191">**For hello primary nodetype:** Our recommendation is that you do not change VM SKU of hello primary node type.</span></span> <span data-ttu-id="4c884-192">Если hello причина для hello новая Конфигурация имеет емкость, мы рекомендуем добавить дополнительные экземпляры или по возможности создайте новый кластер.</span><span class="sxs-lookup"><span data-stu-id="4c884-192">If hello reason for hello new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="4c884-193">Если у вас нет выбора, внесите изменения модели набора масштабирования виртуальной машины toohello определение tooreflect hello новая Конфигурация.</span><span class="sxs-lookup"><span data-stu-id="4c884-193">If you have no choice, then make modifications toohello Virtual Machine Scale Set Model definition tooreflect hello new SKU.</span></span> <span data-ttu-id="4c884-194">Если кластер имеет только один тип узла, убедитесь, что все приложения с отслеживанием состояния отвечать tooall [события жизненного цикла реплики службы](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (например, реплика в построении застряла) с в отведенное время и что перестроить реплики вашей службы Продолжительность составляет менее пяти минут (уровень устойчивости серебряный).</span><span class="sxs-lookup"><span data-stu-id="4c884-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="4c884-195">Изменение hello размер виртуальной Машины SKU для набора масштабирования виртуальных Машин не работает по крайней мере серебристом устойчивость не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="4c884-195">Changing hello VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="4c884-196">Изменение размера (номера SKU) виртуальной машины — внутренняя операция инфраструктуры, которая может привести к потере данных.</span><span class="sxs-lookup"><span data-stu-id="4c884-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="4c884-197">Без хотя бы некоторые возможности toodelay или монитор это изменение возможна, hello операции можно вызвать dataloss для служб с отслеживанием состояния или других непредвиденных проблемы в работе, даже без отслеживания состояния рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="4c884-197">Without at least some ability toodelay or monitor this change, it is possible that hello operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="4c884-198">Обеспечьте как минимум пять узлов для любого масштабируемого набора виртуальных машин с включенной функцией MR.</span><span class="sxs-lookup"><span data-stu-id="4c884-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="4c884-199">Не удаляйте случайные экземпляры виртуальных машин. Всегда используйте функцию уменьшения масштаба масштабируемого набора виртуальных машин.</span><span class="sxs-lookup"><span data-stu-id="4c884-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="4c884-200">Удаление Hello случайных экземпляров виртуальной Машины имеет потенциально создания ставит в экземпляре виртуальной Машины hello распределены UD и FD.</span><span class="sxs-lookup"><span data-stu-id="4c884-200">hello deletion of random VM instances has a potential of creating imbalances in hello VM instance spread across UD and FD.</span></span> <span data-ttu-id="4c884-201">Это дисбаланс может негативно повлиять на балансировку нагрузки tooproperly возможности систем hello среди реплик экземпляров или службы для службы hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-201">This imbalance could adversely affect hello systems ability tooproperly load balance amongst hello service instances/Service replicas.</span></span>
6. <span data-ttu-id="4c884-202">Если с помощью автоматического масштабирования, задайте правила hello таким образом, что масштаб (удаление экземпляров виртуальной Машины) выполняются одновременно только один узел.</span><span class="sxs-lookup"><span data-stu-id="4c884-202">If using Autoscale, then set hello rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="4c884-203">Одновременно уменьшать масштаб более одного экземпляра небезопасно.</span><span class="sxs-lookup"><span data-stu-id="4c884-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="4c884-204">При масштабировании с уменьшением тип основного узла, вы никогда не должны масштабировать работу более чем позволяет какой уровень надежности hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-204">If Scaling down a primary node type, you should never scale it down more than what hello reliability tier allows.</span></span>


## <a name="hello-reliability-characteristics-of-hello-cluster"></a><span data-ttu-id="4c884-205">Здравствуйте, надежность характеристики кластера hello</span><span class="sxs-lookup"><span data-stu-id="4c884-205">hello reliability characteristics of hello cluster</span></span>
<span data-ttu-id="4c884-206">Hello уровень надежности используется tooset hello количество реплик hello системных служб, которые должны toorun в этом кластере на тип основного узла hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-206">hello reliability tier is used tooset hello number of replicas of hello system services that you want toorun in this cluster on hello primary node type.</span></span> <span data-ttu-id="4c884-207">Здравствуйте, дополнительные hello число реплик, hello надежнее hello системные службы находятся в кластере.</span><span class="sxs-lookup"><span data-stu-id="4c884-207">hello more hello number of replicas, hello more reliable hello system services are in your cluster.</span></span>  

<span data-ttu-id="4c884-208">уровень надежности Hello может принимать следующие значения hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-208">hello reliability tier can take hello following values:</span></span>

* <span data-ttu-id="4c884-209">Platinum - выполнения hello системных служб и целевой реплики набора число 9</span><span class="sxs-lookup"><span data-stu-id="4c884-209">Platinum - Run hello System services with a target replica set count of 9</span></span>
* <span data-ttu-id="4c884-210">Золотой - выполнения hello системных служб и целевой реплики набора число 7</span><span class="sxs-lookup"><span data-stu-id="4c884-210">Gold - Run hello System services with a target replica set count of 7</span></span>
* <span data-ttu-id="4c884-211">Серебряный - выполнения hello системных служб и целевой реплики набора число 5</span><span class="sxs-lookup"><span data-stu-id="4c884-211">Silver - Run hello System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="4c884-212">Бронзовый - выполнения hello системных служб и целевой реплики набора число 3</span><span class="sxs-lookup"><span data-stu-id="4c884-212">Bronze - Run hello System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="4c884-213">уровень надежности Hello выбранного определяет hello минимальное число узлов, которые должны быть типа первичного узла.</span><span class="sxs-lookup"><span data-stu-id="4c884-213">hello reliability tier you choose determines hello minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-hello-reliability-tier"></a><span data-ttu-id="4c884-214">Рекомендации для уровня надежности hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-214">Recommendations for hello reliability tier.</span></span>

 <span data-ttu-id="4c884-215">При увеличении или уменьшении hello размер кластера (sum hello экземпляров виртуальной Машины во всех типах узла), необходимо обновить кластер из одного уровня tooanother надежность hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-215">When you increase or decrease hello size of your cluster (hello sum of VM instances in all node types), you must update hello reliability of your cluster from one tier tooanother.</span></span> <span data-ttu-id="4c884-216">Это запускает hello обновления необходимые toochange hello системы служб реплики набора числа кластеров.</span><span class="sxs-lookup"><span data-stu-id="4c884-216">Doing this triggers hello cluster upgrades needed toochange hello system services replica set count.</span></span> <span data-ttu-id="4c884-217">Дождитесь обновления hello в toocomplete выполняется перед выполнением других кластера toohello изменения, такие как добавление узлов.</span><span class="sxs-lookup"><span data-stu-id="4c884-217">Wait for hello upgrade in progress toocomplete before making any other changes toohello cluster, like adding nodes.</span></span>  <span data-ttu-id="4c884-218">Можно отслеживать ход hello hello обновления Service Fabric Explorer или выполняется [Get ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="4c884-218">You can monitor hello progress of hello upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="4c884-219">Вот hello рекомендации по выбору hello уровень надежности.</span><span class="sxs-lookup"><span data-stu-id="4c884-219">Here is hello recommendation on choosing hello reliability tier.</span></span>

| <span data-ttu-id="4c884-220">**Размер кластера**</span><span class="sxs-lookup"><span data-stu-id="4c884-220">**Cluster Size**</span></span> | <span data-ttu-id="4c884-221">**Уровень надежности**</span><span class="sxs-lookup"><span data-stu-id="4c884-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="4c884-222">1</span><span class="sxs-lookup"><span data-stu-id="4c884-222">1</span></span> |<span data-ttu-id="4c884-223">Не указывайте Здравствуйте параметр уровень надежности, он вычисляется hello системы</span><span class="sxs-lookup"><span data-stu-id="4c884-223">Do not specify hello Reliability Tier parameter, hello system calculates it</span></span> |
| <span data-ttu-id="4c884-224">3</span><span class="sxs-lookup"><span data-stu-id="4c884-224">3</span></span> |<span data-ttu-id="4c884-225">Bronze</span><span class="sxs-lookup"><span data-stu-id="4c884-225">Bronze</span></span> |
| <span data-ttu-id="4c884-226">5 или 6</span><span class="sxs-lookup"><span data-stu-id="4c884-226">5 or 6</span></span>|<span data-ttu-id="4c884-227">Silver</span><span class="sxs-lookup"><span data-stu-id="4c884-227">Silver</span></span> |
| <span data-ttu-id="4c884-228">7 или 8</span><span class="sxs-lookup"><span data-stu-id="4c884-228">7 or 8</span></span> |<span data-ttu-id="4c884-229">Gold</span><span class="sxs-lookup"><span data-stu-id="4c884-229">Gold</span></span> |
| <span data-ttu-id="4c884-230">9 и более</span><span class="sxs-lookup"><span data-stu-id="4c884-230">9 and up</span></span> |<span data-ttu-id="4c884-231">Platinum</span><span class="sxs-lookup"><span data-stu-id="4c884-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="4c884-232">Рекомендации по загрузке для типа первичного узла</span><span class="sxs-lookup"><span data-stu-id="4c884-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="4c884-233">Вот hello руководство по планированию емкости тип основного узла hello</span><span class="sxs-lookup"><span data-stu-id="4c884-233">Here is hello guidance for planning hello primary node type capacity</span></span>

1. <span data-ttu-id="4c884-234">**Количество виртуальных Машин экземпляров toorun любой рабочей нагрузки в Azure:** необходимо указать минимальный размер типа первичного узла 5.</span><span class="sxs-lookup"><span data-stu-id="4c884-234">**Number of VM instances toorun any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="4c884-235">**Количество виртуальных Машин экземпляров toorun тестовые нагрузки в Azure** можно указать размер типа минимальное основного узла 1 или 3.</span><span class="sxs-lookup"><span data-stu-id="4c884-235">**Number of VM instances toorun test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="4c884-236">Здравствуйте одного узла кластера, запуск с помощью специальной настройки и поэтому, масштаб из этого кластера не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="4c884-236">hello one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="4c884-237">Hello одного узла кластера, содержит не надежность и поэтому в шаблоне диспетчера ресурсов имеется tooremove или не указывать этой конфигурации (не Установка значения конфигурации hello недостаточно).</span><span class="sxs-lookup"><span data-stu-id="4c884-237">hello one node cluster, has no reliability and so in your Resource Manager template, you have tooremove/not specify that configuration (not setting hello configuration value is not enough).</span></span> <span data-ttu-id="4c884-238">Если вы настроили Привет одному узлу кластера, настроить через портал, а затем hello конфигурации будет автоматически решать.</span><span class="sxs-lookup"><span data-stu-id="4c884-238">If you set up hello one node cluster set up via portal, then hello configuration is automatically taken care of.</span></span> <span data-ttu-id="4c884-239">Одно- и трехузловые кластеры не поддерживаются для выполнения производственных задач.</span><span class="sxs-lookup"><span data-stu-id="4c884-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="4c884-240">**Конфигурация виртуальной Машины:** тип основного узла работает где hello системных служб, поэтому hello SKU ВМ, выберите для него, необходимо взять в учетной записи hello в целом пиковых загрузить вы планирование tooplace в кластер hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-240">**VM SKU:** Primary node type is where hello system services run, so hello VM SKU you choose for it, must take into account hello overall peak load you plan tooplace into hello cluster.</span></span> <span data-ttu-id="4c884-241">Вот tooillustrate аналогию, что я имею в виду-считать тип основного узла hello вашей «легких» является содержание кислорода tooyour мозг и поэтому если мозг hello не получает достаточно кислорода, теле подвергается атаке.</span><span class="sxs-lookup"><span data-stu-id="4c884-241">Here is an analogy tooillustrate what I mean here - Think of hello primary node type as your "Lungs", it is what provides oxygen tooyour brain, and so if hello brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="4c884-242">Поскольку потребностей в емкости hello кластера определяется рабочей нагрузки планирование toorun в кластере hello, мы не можем предоставить вам качественное рекомендации для конкретной рабочей нагрузки, однако здесь toohelp hello широкий руководства вам начать работу</span><span class="sxs-lookup"><span data-stu-id="4c884-242">Since hello capacity needs of a cluster is determined by workload you plan toorun in hello cluster, we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="4c884-243">Для производственных рабочих нагрузок</span><span class="sxs-lookup"><span data-stu-id="4c884-243">For production workloads</span></span> 


- <span data-ttu-id="4c884-244">Hello рекомендуемая Конфигурация виртуальной Машины — это стандартная D3 Стандартная D3_V2 или эквивалент с не менее 14 ГБ локальный SSD.</span><span class="sxs-lookup"><span data-stu-id="4c884-244">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="4c884-245">Минимальная Hello поддерживается SKU ВМ используется стандартная D1 или стандартный D1_V2 или в эквивалентной с не менее 14 ГБ локальный SSD.</span><span class="sxs-lookup"><span data-stu-id="4c884-245">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="4c884-246">Номера SKU виртуальных машин с неполным числом ядер (например, Standard A0) для производственных рабочих нагрузок не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="4c884-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="4c884-247">Номер SKU Standard A1 не поддерживается для производственных рабочих нагрузок по соображениям производительности.</span><span class="sxs-lookup"><span data-stu-id="4c884-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="4c884-248">Рекомендации по производительности для рабочих нагрузок с отслеживанием состояния для прочих типов узлов</span><span class="sxs-lookup"><span data-stu-id="4c884-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="4c884-249">Это руководство предназначено для рабочих нагрузок с отслеживанием состояния, с помощью Service fabric [надежного коллекции или службы reliable Actor](service-fabric-choose-framework.md) используемой неосновной узел типа hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in hello non-primary node type.</span></span>


<span data-ttu-id="4c884-250">**Количество экземпляров виртуальных машин:** рабочие нагрузки с отслеживанием состояния рекомендуется запускать как минимум на 5 репликах, задав это количество целевым.</span><span class="sxs-lookup"><span data-stu-id="4c884-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="4c884-251">Это означает, что в стабильном состоянии в каждом домене сбоя и домене обновления будет по реплике (из набора реплик).</span><span class="sxs-lookup"><span data-stu-id="4c884-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="4c884-252">Концепция уровня целиком надежность Hello для типа первичного узла hello является toospecify способом этот параметр для системных служб.</span><span class="sxs-lookup"><span data-stu-id="4c884-252">hello whole reliability tier concept for hello primary node type is a way toospecify this setting for system services.</span></span> <span data-ttu-id="4c884-253">Так же hello соображения tooyour служб с отслеживанием состояния также.</span><span class="sxs-lookup"><span data-stu-id="4c884-253">So hello same consideration applies tooyour stateful services as well.</span></span>

<span data-ttu-id="4c884-254">Таким образом для рабочих нагрузок размера типа hello минимальный рекомендуемый не - основного узла — 5, при выполнении рабочих нагрузок с отслеживанием состояния в нем.</span><span class="sxs-lookup"><span data-stu-id="4c884-254">So for production workloads, hello minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="4c884-255">**Конфигурация виртуальной Машины:** это тип узла hello запущенным служб приложения, поэтому hello SKU ВМ выберите для него, необходимо учитывать пиковой нагрузки hello учетной записи вы планирование tooplace в каждом узле.</span><span class="sxs-lookup"><span data-stu-id="4c884-255">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="4c884-256">Здравствуйте потребностях hello nodetype, определяется рабочей нагрузки плана toorun в кластере hello, поэтому мы не можем предоставить вам качественное рекомендации для конкретной рабочей нагрузки, однако Вот toohelp hello широкий руководства вам начать работу</span><span class="sxs-lookup"><span data-stu-id="4c884-256">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="4c884-257">Для производственных рабочих нагрузок</span><span class="sxs-lookup"><span data-stu-id="4c884-257">For production workloads</span></span> 

- <span data-ttu-id="4c884-258">Hello рекомендуемая Конфигурация виртуальной Машины — это стандартная D3 Стандартная D3_V2 или эквивалент с не менее 14 ГБ локальный SSD.</span><span class="sxs-lookup"><span data-stu-id="4c884-258">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="4c884-259">Минимальная Hello поддерживается SKU ВМ используется стандартная D1 или стандартный D1_V2 или в эквивалентной с не менее 14 ГБ локальный SSD.</span><span class="sxs-lookup"><span data-stu-id="4c884-259">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="4c884-260">Номера SKU виртуальных машин с неполным числом ядер (например, Standard A0) для производственных рабочих нагрузок не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="4c884-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="4c884-261">В частности, номер SKU Standard A1 не поддерживается для производственных рабочих нагрузок по соображениям производительности.</span><span class="sxs-lookup"><span data-stu-id="4c884-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="4c884-262">Рекомендации по производительности для рабочих нагрузок без отслеживания состояния для прочих типов узлов</span><span class="sxs-lookup"><span data-stu-id="4c884-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="4c884-263">Это руководство без отслеживания состояния рабочих нагрузок, выполняющихся на неосновной nodetype hello.</span><span class="sxs-lookup"><span data-stu-id="4c884-263">This guidance of stateless Workloads that you are running on hello non-primary nodetype.</span></span>

<span data-ttu-id="4c884-264">**Количество экземпляров виртуальных Машин:** для рабочих нагрузок, которые не имеют состояния, минимальное hello поддерживается без основной узел типа размер равен 2.</span><span class="sxs-lookup"><span data-stu-id="4c884-264">**Number of VM instances:** For production workloads that are stateless, hello minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="4c884-265">Это позволяет toorun вы два без сохранения состояния экземпляра приложения и позволяя вашей службы toosurvive hello потери экземпляр виртуальной Машины.</span><span class="sxs-lookup"><span data-stu-id="4c884-265">This allows you toorun you two stateless instances of your application and allowing your service toosurvive hello loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="4c884-266">Если кластер работает под управлением структуры обновления меньше, чем 5.6, из-за tooa дефект в hello среды выполнения (эта проблема исправлена в 5.6), масштабирование вниз сборки типа узла неосновной больше 5, приведет к работоспособности кластера Включение неработоспособен, пока не вызывается [ Удаление ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) с именем hello соответствующего узла.</span><span class="sxs-lookup"><span data-stu-id="4c884-266">If your cluster is running on a service fabric version less than 5.6, due tooa defect in hello runtime (this issue is fixed in 5.6), scaling down a non-primary node type tooless than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with hello appropriate node name.</span></span> <span data-ttu-id="4c884-267">Чтобы узнать больше, прочитайте раздел [Масштабирование кластера Service Fabric с помощью правил автомасштабирования](service-fabric-cluster-scale-up-down.md).</span><span class="sxs-lookup"><span data-stu-id="4c884-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="4c884-268">**Конфигурация виртуальной Машины:** это тип узла hello запущенным служб приложения, поэтому hello SKU ВМ выберите для него, необходимо учитывать пиковой нагрузки hello учетной записи вы планирование tooplace в каждом узле.</span><span class="sxs-lookup"><span data-stu-id="4c884-268">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="4c884-269">Здравствуйте потребностях hello nodetype, определяется рабочей нагрузки плана toorun в кластере hello, поэтому мы не можем предоставить вам качественное рекомендации для конкретной рабочей нагрузки, однако Вот toohelp hello широкий руководства вам начать работу</span><span class="sxs-lookup"><span data-stu-id="4c884-269">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="4c884-270">Для производственных рабочих нагрузок</span><span class="sxs-lookup"><span data-stu-id="4c884-270">For production workloads</span></span> 


- <span data-ttu-id="4c884-271">Hello рекомендуемые SKU ВМ — Стандартная D3 или стандартный D3_V2 или наличие эквивалентных прав.</span><span class="sxs-lookup"><span data-stu-id="4c884-271">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="4c884-272">Минимальная Hello поддерживается SKU ВМ используется стандартная D1 или стандартный D1_V2 или наличие эквивалентных прав.</span><span class="sxs-lookup"><span data-stu-id="4c884-272">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="4c884-273">Номера SKU виртуальных машин с неполным числом ядер (например, Standard A0) для производственных рабочих нагрузок не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="4c884-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="4c884-274">Номер SKU Standard A1 не поддерживается для производственных рабочих нагрузок по соображениям производительности.</span><span class="sxs-lookup"><span data-stu-id="4c884-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links toohello next logical set of content tookeep hello customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="4c884-275">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="4c884-275">Next steps</span></span>
<span data-ttu-id="4c884-276">После завершения планирования емкости и настроить кластер чтения hello следующее:</span><span class="sxs-lookup"><span data-stu-id="4c884-276">Once you finish your capacity planning and set up a cluster, read hello following:</span></span>

* [<span data-ttu-id="4c884-277">Защита кластера Service Fabric</span><span class="sxs-lookup"><span data-stu-id="4c884-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="4c884-278">Общие сведения о наблюдении за работоспособностью системы в Service Fabric</span><span class="sxs-lookup"><span data-stu-id="4c884-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="4c884-279">Установите связь между масштабирования машины tooVirtual Nodetypes</span><span class="sxs-lookup"><span data-stu-id="4c884-279">Relationship of Nodetypes tooVirtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
