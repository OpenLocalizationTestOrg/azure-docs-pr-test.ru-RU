---
title: "Защита кластера Service Fabric: роли клиента | Документация Майкрософт"
description: "В данной статье описываются две роли клиента и разрешения, предоставленные этим ролям."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: coreysa
editor: 
ms.assetid: 7bc808d9-3609-46a1-ac12-b4f53bff98dd
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: 85935e60bba4b27972282700e2e9c9a22b403bdb
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="role-based-access-control-for-service-fabric-clients"></a><span data-ttu-id="f1784-103">Контроль доступа на основе ролей для клиентов Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f1784-103">Role-based access control for Service Fabric clients</span></span>
<span data-ttu-id="f1784-104">Платформа Azure Service Fabric поддерживает два разных типа контроля доступа для клиентов, подключенных к кластеру Service Fabric: администраторский и пользовательский.</span><span class="sxs-lookup"><span data-stu-id="f1784-104">Azure Service Fabric supports two different access control types for clients that are connected to a Service Fabric cluster: administrator and user.</span></span> <span data-ttu-id="f1784-105">Благодаря контролю доступа администратор кластера может ограничить доступ разных групп пользователей на выполнение определенных операций в кластере, повысив тем самым уровень безопасности кластера.</span><span class="sxs-lookup"><span data-stu-id="f1784-105">Access control allows the cluster administrator to limit access to certain cluster operations for different groups of users, making the cluster more secure.</span></span>  

<span data-ttu-id="f1784-106">**Администраторы** имеют полный доступ к возможностям управления (включая возможности чтения и записи).</span><span class="sxs-lookup"><span data-stu-id="f1784-106">**Administrators** have full access to management capabilities (including read/write capabilities).</span></span> <span data-ttu-id="f1784-107">По умолчанию **пользователи** имеют доступ только на чтение к функциям управления (например, при работе с запросами) и возможность разрешения приложений и служб.</span><span class="sxs-lookup"><span data-stu-id="f1784-107">By default, **users** only have read access to management capabilities (for example, query capabilities), and the ability to resolve applications and services.</span></span>

<span data-ttu-id="f1784-108">Во время создания кластера задаются две клиентские роли (администратора или клиента) путем предоставления отдельных сертификатов для каждой из них.</span><span class="sxs-lookup"><span data-stu-id="f1784-108">You specify the two client roles (administrator and client) at the time of cluster creation by providing separate certificates for each.</span></span> <span data-ttu-id="f1784-109">Сведения о настройке защищенного кластера Service Fabric см. в статье [Защита кластера Service Fabric](service-fabric-cluster-security.md).</span><span class="sxs-lookup"><span data-stu-id="f1784-109">See [Service Fabric cluster security](service-fabric-cluster-security.md) for details on setting up a secure Service Fabric cluster.</span></span>

## <a name="default-access-control-settings"></a><span data-ttu-id="f1784-110">Параметры контроля доступа по умолчанию</span><span class="sxs-lookup"><span data-stu-id="f1784-110">Default access control settings</span></span>
<span data-ttu-id="f1784-111">Тип контроля доступа администратора предусматривает полный доступ ко всем API-интерфейсам FabricClient.</span><span class="sxs-lookup"><span data-stu-id="f1784-111">The administrator access control type has full access to all the FabricClient APIs.</span></span> <span data-ttu-id="f1784-112">Вы можете выполнять любые операции чтения и записи в кластере Service Fabric, включая следующие.</span><span class="sxs-lookup"><span data-stu-id="f1784-112">It can perform any reads and writes on the Service Fabric cluster, including the following operations:</span></span>

### <a name="application-and-service-operations"></a><span data-ttu-id="f1784-113">Операции с приложением и службой</span><span class="sxs-lookup"><span data-stu-id="f1784-113">Application and service operations</span></span>
* <span data-ttu-id="f1784-114">**CreateService**: создание службы.</span><span class="sxs-lookup"><span data-stu-id="f1784-114">**CreateService**: service creation</span></span>                             
* <span data-ttu-id="f1784-115">**CreateServiceFromTemplate**: создание службы из шаблона.</span><span class="sxs-lookup"><span data-stu-id="f1784-115">**CreateServiceFromTemplate**: service creation from template</span></span>                             
* <span data-ttu-id="f1784-116">**UpdateService**: обновления службы.</span><span class="sxs-lookup"><span data-stu-id="f1784-116">**UpdateService**: service updates</span></span>                             
* <span data-ttu-id="f1784-117">**DeleteService**: удаление службы.</span><span class="sxs-lookup"><span data-stu-id="f1784-117">**DeleteService**: service deletion</span></span>                             
* <span data-ttu-id="f1784-118">**ProvisionApplicationType**: подготовка типа приложения.</span><span class="sxs-lookup"><span data-stu-id="f1784-118">**ProvisionApplicationType**: application type provisioning</span></span>                             
* <span data-ttu-id="f1784-119">**CreateApplication**: создание приложения.</span><span class="sxs-lookup"><span data-stu-id="f1784-119">**CreateApplication**: application creation</span></span>                               
* <span data-ttu-id="f1784-120">**DeleteApplication**: удаление приложения.</span><span class="sxs-lookup"><span data-stu-id="f1784-120">**DeleteApplication**: application deletion</span></span>                             
* <span data-ttu-id="f1784-121">**UpgradeApplication**: запуск или прерывание обновлений приложения.</span><span class="sxs-lookup"><span data-stu-id="f1784-121">**UpgradeApplication**: starting or interrupting application upgrades</span></span>                             
* <span data-ttu-id="f1784-122">**UnprovisionApplicationType**: отмена подготовки типа приложения.</span><span class="sxs-lookup"><span data-stu-id="f1784-122">**UnprovisionApplicationType**: application type unprovisioning</span></span>                             
* <span data-ttu-id="f1784-123">**MoveNextUpgradeDomain**: возобновление обновлений приложения с помощью явно указанного домена обновления.</span><span class="sxs-lookup"><span data-stu-id="f1784-123">**MoveNextUpgradeDomain**: resuming application upgrades with an explicit update domain</span></span>                             
* <span data-ttu-id="f1784-124">**ReportUpgradeHealth**: возобновление обновлений приложения с помощью текущего процесса обновления.</span><span class="sxs-lookup"><span data-stu-id="f1784-124">**ReportUpgradeHealth**: resuming application upgrades with the current upgrade progress</span></span>                             
* <span data-ttu-id="f1784-125">**ReportHealth**: сообщение о работоспособности.</span><span class="sxs-lookup"><span data-stu-id="f1784-125">**ReportHealth**: reporting health</span></span>                             
* <span data-ttu-id="f1784-126">**PredeployPackageToNode**: API предварительного развертывания.</span><span class="sxs-lookup"><span data-stu-id="f1784-126">**PredeployPackageToNode**: predeployment API</span></span>                            
* <span data-ttu-id="f1784-127">**CodePackageControl**: перезапуск пакетов кода.</span><span class="sxs-lookup"><span data-stu-id="f1784-127">**CodePackageControl**: restarting code packages</span></span>                             
* <span data-ttu-id="f1784-128">**RecoverPartition**: восстановление секции.</span><span class="sxs-lookup"><span data-stu-id="f1784-128">**RecoverPartition**: recovering a partition</span></span>                             
* <span data-ttu-id="f1784-129">**RecoverPartitions**: восстановление секций.</span><span class="sxs-lookup"><span data-stu-id="f1784-129">**RecoverPartitions**: recovering partitions</span></span>                             
* <span data-ttu-id="f1784-130">**RecoverServicePartitions**: восстановление секций службы.</span><span class="sxs-lookup"><span data-stu-id="f1784-130">**RecoverServicePartitions**: recovering service partitions</span></span>                             
* <span data-ttu-id="f1784-131">**RecoverSystemPartitions**: восстановление секций системной службы.</span><span class="sxs-lookup"><span data-stu-id="f1784-131">**RecoverSystemPartitions**: recovering system service partitions</span></span>                             

### <a name="cluster-operations"></a><span data-ttu-id="f1784-132">Операции с кластером</span><span class="sxs-lookup"><span data-stu-id="f1784-132">Cluster operations</span></span>
* <span data-ttu-id="f1784-133">**ProvisionFabric**: подготовка MSI и (или) манифеста кластера.</span><span class="sxs-lookup"><span data-stu-id="f1784-133">**ProvisionFabric**: MSI and/or cluster manifest provisioning</span></span>                             
* <span data-ttu-id="f1784-134">**UpgradeFabric**: запуск обновлений кластера.</span><span class="sxs-lookup"><span data-stu-id="f1784-134">**UpgradeFabric**: starting cluster upgrades</span></span>                             
* <span data-ttu-id="f1784-135">**UnprovisionFabric**: отмена подготовки MSI и (или) манифеста кластера.</span><span class="sxs-lookup"><span data-stu-id="f1784-135">**UnprovisionFabric**: MSI and/or cluster manifest unprovisioning</span></span>                         
* <span data-ttu-id="f1784-136">**MoveNextFabricUpgradeDomain**: возобновление обновлений кластера с помощью явно указанного домена обновления.</span><span class="sxs-lookup"><span data-stu-id="f1784-136">**MoveNextFabricUpgradeDomain**: resuming cluster upgrades with an explicit update domain</span></span>                             
* <span data-ttu-id="f1784-137">**ReportFabricUpgradeHealth**: возобновление обновлений кластера с помощью текущего процесса обновления.</span><span class="sxs-lookup"><span data-stu-id="f1784-137">**ReportFabricUpgradeHealth**: resuming cluster upgrades with the current upgrade progress</span></span>                             
* <span data-ttu-id="f1784-138">**StartInfrastructureTask**: запуск задач инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="f1784-138">**StartInfrastructureTask**: starting infrastructure tasks</span></span>                             
* <span data-ttu-id="f1784-139">**FinishInfrastructureTask**: завершение задач инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="f1784-139">**FinishInfrastructureTask**: finishing infrastructure tasks</span></span>                             
* <span data-ttu-id="f1784-140">**InvokeInfrastructureCommand**: команды управления задачами инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="f1784-140">**InvokeInfrastructureCommand**: infrastructure task management commands</span></span>                              
* <span data-ttu-id="f1784-141">**ActivateNode**: активация узла.</span><span class="sxs-lookup"><span data-stu-id="f1784-141">**ActivateNode**: activating a node</span></span>                             
* <span data-ttu-id="f1784-142">**DeactivateNode**: деактивация узла.</span><span class="sxs-lookup"><span data-stu-id="f1784-142">**DeactivateNode**: deactivating a node</span></span>                             
* <span data-ttu-id="f1784-143">**DeactivateNodesBatch**: деактивация нескольких узлов.</span><span class="sxs-lookup"><span data-stu-id="f1784-143">**DeactivateNodesBatch**: deactivating multiple nodes</span></span>                             
* <span data-ttu-id="f1784-144">**RemoveNodeDeactivations**: отмена деактивации нескольких узлов.</span><span class="sxs-lookup"><span data-stu-id="f1784-144">**RemoveNodeDeactivations**: reverting deactivation on multiple nodes</span></span>                             
* <span data-ttu-id="f1784-145">**GetNodeDeactivationStatus**: проверка состояния деактивации.</span><span class="sxs-lookup"><span data-stu-id="f1784-145">**GetNodeDeactivationStatus**: checking deactivation status</span></span>                             
* <span data-ttu-id="f1784-146">**NodeStateRemoved**: сообщение об удалении узла.</span><span class="sxs-lookup"><span data-stu-id="f1784-146">**NodeStateRemoved**: reporting node state removed</span></span>                             
* <span data-ttu-id="f1784-147">**ReportFault**: сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="f1784-147">**ReportFault**: reporting fault</span></span>                             
* <span data-ttu-id="f1784-148">**FileContent**: передача клиентского файла хранилища образов (вне кластера).</span><span class="sxs-lookup"><span data-stu-id="f1784-148">**FileContent**: image store client file transfer (external to cluster)</span></span>                             
* <span data-ttu-id="f1784-149">**FileDownload**: инициация скачивания клиентского файла хранилища образов (вне кластера).</span><span class="sxs-lookup"><span data-stu-id="f1784-149">**FileDownload**: image store client file download initiation (external to cluster)</span></span>                             
* <span data-ttu-id="f1784-150">**InternalList**: операция вывода списка клиентских файлов хранилища образов (внутренняя).</span><span class="sxs-lookup"><span data-stu-id="f1784-150">**InternalList**: image store client file list operation (internal)</span></span>                             
* <span data-ttu-id="f1784-151">**Delete**: операция удаления клиента хранилища образов.</span><span class="sxs-lookup"><span data-stu-id="f1784-151">**Delete**: image store client delete operation</span></span>                              
* <span data-ttu-id="f1784-152">**Upload**: операция передачи клиента хранилища образов.</span><span class="sxs-lookup"><span data-stu-id="f1784-152">**Upload**: image store client upload operation</span></span>                             
* <span data-ttu-id="f1784-153">**NodeControl**: запуск, остановка и перезапуск узлов.</span><span class="sxs-lookup"><span data-stu-id="f1784-153">**NodeControl**: starting, stopping, and restarting nodes</span></span>                             
* <span data-ttu-id="f1784-154">**MoveReplicaControl**: перемещение реплик с одного узла на другой.</span><span class="sxs-lookup"><span data-stu-id="f1784-154">**MoveReplicaControl**: moving replicas from one node to another</span></span>                             

### <a name="miscellaneous-operations"></a><span data-ttu-id="f1784-155">Прочие операции</span><span class="sxs-lookup"><span data-stu-id="f1784-155">Miscellaneous operations</span></span>
* <span data-ttu-id="f1784-156">**Ping**: проверка связи клиента.</span><span class="sxs-lookup"><span data-stu-id="f1784-156">**Ping**: client pings</span></span>                             
* <span data-ttu-id="f1784-157">**Query**: разрешены все запросы.</span><span class="sxs-lookup"><span data-stu-id="f1784-157">**Query**: all queries allowed</span></span>
* <span data-ttu-id="f1784-158">**NameExists**: проверки существования универсальных кодов ресурса (URI) именования.</span><span class="sxs-lookup"><span data-stu-id="f1784-158">**NameExists**: naming URI existence checks</span></span>                             

<span data-ttu-id="f1784-159">Тип контроля доступа от имени пользователя по умолчанию ограничивается следующими операциями.</span><span class="sxs-lookup"><span data-stu-id="f1784-159">The user access control type is, by default, limited to the following operations:</span></span> 

* <span data-ttu-id="f1784-160">**EnumerateSubnames**: перечисление универсального кода ресурса (URI) именования.</span><span class="sxs-lookup"><span data-stu-id="f1784-160">**EnumerateSubnames**: naming URI enumeration</span></span>                             
* <span data-ttu-id="f1784-161">**EnumerateProperties**: перечисления свойств именования.</span><span class="sxs-lookup"><span data-stu-id="f1784-161">**EnumerateProperties**: naming property enumeration</span></span>                             
* <span data-ttu-id="f1784-162">**PropertyReadBatch**: операции чтения свойств именования.</span><span class="sxs-lookup"><span data-stu-id="f1784-162">**PropertyReadBatch**: naming property read operations</span></span>                             
* <span data-ttu-id="f1784-163">**GetServiceDescription**: уведомления о службах с длительным временем опроса и чтение описаний служб.</span><span class="sxs-lookup"><span data-stu-id="f1784-163">**GetServiceDescription**: long-poll service notifications and reading service descriptions</span></span>                             
* <span data-ttu-id="f1784-164">**ResolveService**: разрешение служб на основе жалоб.</span><span class="sxs-lookup"><span data-stu-id="f1784-164">**ResolveService**: complaint-based service resolution</span></span>                             
* <span data-ttu-id="f1784-165">**ResolveNameOwner**: разрешение владельца универсального кода ресурса (URI) именования.</span><span class="sxs-lookup"><span data-stu-id="f1784-165">**ResolveNameOwner**: resolving naming URI owner</span></span>                             
* <span data-ttu-id="f1784-166">**ResolvePartition**: разрешение системных служб.</span><span class="sxs-lookup"><span data-stu-id="f1784-166">**ResolvePartition**: resolving system services</span></span>                             
* <span data-ttu-id="f1784-167">**ServiceNotifications**: уведомления служб на основе событий.</span><span class="sxs-lookup"><span data-stu-id="f1784-167">**ServiceNotifications**: event-based service notifications</span></span>                             
* <span data-ttu-id="f1784-168">**GetUpgradeStatus**: опрос состояния обновления приложения.</span><span class="sxs-lookup"><span data-stu-id="f1784-168">**GetUpgradeStatus**: polling application upgrade status</span></span>                             
* <span data-ttu-id="f1784-169">**GetFabricUpgradeStatus**: опрос состояния обновления кластера.</span><span class="sxs-lookup"><span data-stu-id="f1784-169">**GetFabricUpgradeStatus**: polling cluster upgrade status</span></span>                             
* <span data-ttu-id="f1784-170">**InvokeInfrastructureQuery**: запрос задач инфраструктуры.</span><span class="sxs-lookup"><span data-stu-id="f1784-170">**InvokeInfrastructureQuery**: querying infrastructure tasks</span></span>                             
* <span data-ttu-id="f1784-171">**List**: операция вывода списка клиентских файлов хранилища образов.</span><span class="sxs-lookup"><span data-stu-id="f1784-171">**List**: image store client file list operation</span></span>                             
* <span data-ttu-id="f1784-172">**ResetPartitionLoad**: сброс нагрузки для единицы отработки отказа.</span><span class="sxs-lookup"><span data-stu-id="f1784-172">**ResetPartitionLoad**: resetting load for a failover unit</span></span>                             
* <span data-ttu-id="f1784-173">**ToggleVerboseServicePlacementHealthReporting**: включение и выключение подробных отчетов о работоспособности размещения службы.</span><span class="sxs-lookup"><span data-stu-id="f1784-173">**ToggleVerboseServicePlacementHealthReporting**: toggling verbose service placement health reporting</span></span>                             

<span data-ttu-id="f1784-174">Контроль доступа от имени администратора также предусматривает доступ к приведенным выше операциям.</span><span class="sxs-lookup"><span data-stu-id="f1784-174">The admin access control also has access to the preceding operations.</span></span>

## <a name="changing-default-settings-for-client-roles"></a><span data-ttu-id="f1784-175">Изменение параметров по умолчанию для ролей клиента</span><span class="sxs-lookup"><span data-stu-id="f1784-175">Changing default settings for client roles</span></span>
<span data-ttu-id="f1784-176">При необходимости в файле манифеста кластера клиенту можно предоставить возможность администрирования.</span><span class="sxs-lookup"><span data-stu-id="f1784-176">In the cluster manifest file, you can provide admin capabilities to the client if needed.</span></span> <span data-ttu-id="f1784-177">Чтобы изменить значения по умолчанию, во время [создания кластера](service-fabric-cluster-creation-via-portal.md) перейдите к настройкам **Fabric Settings** (Параметры структуры), а затем укажите параметры, приведенные выше, в полях **Имя**, **Администратор**, **Пользователь** и **Значение**.</span><span class="sxs-lookup"><span data-stu-id="f1784-177">You can change the defaults by going to the **Fabric Settings** option during [cluster creation](service-fabric-cluster-creation-via-portal.md), and providing the preceding settings in the **name**, **admin**, **user**, and **value** fields.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f1784-178">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="f1784-178">Next steps</span></span>
[<span data-ttu-id="f1784-179">Защита кластера Service Fabric</span><span class="sxs-lookup"><span data-stu-id="f1784-179">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)

[<span data-ttu-id="f1784-180">Настройка кластера Service Fabric на портале Azure</span><span class="sxs-lookup"><span data-stu-id="f1784-180">Service Fabric cluster creation</span></span>](service-fabric-cluster-creation-via-portal.md)

