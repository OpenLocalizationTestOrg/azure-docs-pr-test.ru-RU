---
title: "Интерфейс командной строки Azure Service Fabric : sfctl node | Документация Майкрософт"
description: "Описание команд sfctl node интерфейса командной строки Azure Service Fabric."
services: service-fabric
documentationcenter: na
author: rwike77
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: cli
ms.topic: reference
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/22/2017
ms.author: ryanwi
ms.openlocfilehash: b94c5a7d6c3c74e1dd66559dea288238c35d664c
ms.sourcegitcommit: f1c1789f2f2502d683afaf5a2f46cc548c0dea50
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/18/2018
---
# <a name="sfctl-node"></a>sfctl node
Управление узлами, которые образуют кластер.

## <a name="commands"></a>Команды

|Get-Help|ОПИСАНИЕ|
| --- | --- |
|    disable       | Деактивирует узел кластера Service Fabric с указанной целью деактивации.|
|    enable        | Активирует деактивированный узел кластера Service Fabric.|
|    health        | Возвращает сведения о работоспособности узла Service Fabric.|
|    info          | Возвращает список узлов в кластере Service Fabric.|
|    list          | Возвращает список узлов в кластере Service Fabric.|
|    load          | Возвращает сведения о нагрузке узла Service Fabric.|
|    remove-state  | Уведомляет Service Fabric, что сохраненное состояние на узле было удалено без возможности восстановления или утеряно.|
|    report-health | Отправляет отчет о работоспособности узла Service Fabric.|
|    restart       | Перезапускает узел кластера Service Fabric.|
|    transition    | Запускает или останавливает узел кластера.|
|    transition-status| Возвращает ход выполнения запущенной операции с использованием StartNodeTransition.|


## <a name="sfctl-node-disable"></a>sfctl node disable
Деактивирует узел кластера Service Fabric с указанной целью деактивации.

Деактивирует узел кластера Service Fabric с указанной целью деактивации. После запуска деактивации ее уровень цели можно повысить увеличить, но не понизить (например, узел, который деактивируется с целью приостановки, можно деактивировать с целью перезагрузки, но не наоборот). Узлы могут быть повторно активированы с помощью операции активации узла в любой момент после деактивации. Если деактивация не завершена, то она отменяется. Узел, доступность которого утрачивается и восстанавливается при деактивации, все равно необходимо будет активировать, прежде чем на нем можно будет разместить службы.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --deactivation-intent | Описывает цель или причину деактивация узла. Возможные значения приведены ниже. -Pause — указывает, что узел должен быть приостановлен. Значение равно 1. -Restart — указывает, что цель состоит в перезапуске узла после короткого периода времени. Значение равно 2. -RemoveData — указывает, что цель состоит удалении данных узла. Значение равно 3. .|
| --timeout -t       | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug            | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h          | Отображение этого справочного сообщения и выход.|
| --output -o        | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query            | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose          | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-node-enable"></a>sfctl node enable
Активирует деактивированный узел кластера Service Fabric.

Активирует узел кластера Service Fabric, который в данный момент деактивирован. После активации узел снова станет доступен для размещения новых реплик, а все деактивированные реплики на этом узле будут повторно активированы.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --timeout -t       | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug            | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h          | Отображение этого справочного сообщения и выход.|
| --output -o        | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query            | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose          | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-node-health"></a>sfctl node health
Возвращает сведения о работоспособности узла Service Fabric.

Возвращает сведения о работоспособности узла Service Fabric. EventsHealthStateFilter используется для фильтрации получаемой коллекции событий работоспособности узла на основе состояния работоспособности. Если узел с заданным именем не существует в хранилище данных о работоспособности, то возвращается ошибка.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --events-health-state-filter| Позволяет отфильтровать коллекцию возвращаемых объектов HealthEvent на основе состояния работоспособности. Возможные значения для этого параметра — целочисленное значение одного из приведенных ниже состояний работоспособности. Возвращаются только те события, которые соответствуют заданному фильтру. Для оценки общего состояния работоспособности используются все события. Если фильтр не указан, возвращаются все записи. Значения состояния представляют собой перечисление на основе флага, поэтому значение может представлять собой сочетание этих значений, полученное с помощью битового оператора "ИЛИ". Например, если указано значение 6, то возвращаются все события со значениями HealthState "ОК" (2) и "Warning" (4). -Default — значение по умолчанию. Соответствует любому значению HealthState. Значение равно нулю. -None — фильтр, который не соответствует какому-либо значению HealthState. Используется для возвращения нуля результатов для определенной коллекции состояний. Значение равно 1. -ОК — фильтр, извлекающий входные данные с HealthState со значением "Ок". Значение равно 2. -Warning — фильтр, извлекающий входные данные с HealthState со значением "Warning". Значение равно 4. -Error — фильтр, извлекающий входные данные с HealthState со значением "Error". Значение равно 8. -All — фильтр, извлекающий входные данные с любым значением HealthState. Значение равно 65 535.|
| --timeout -t             | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug                  | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h                | Отображение этого справочного сообщения и выход.|
| --output -o              | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query                  | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose                | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-node-info"></a>sfctl node info
Возвращает список узлов в кластере Service Fabric.

Возвращает сведения о конкретном узле в кластере Service Fabric. Ответ содержит имя, состояние, идентификатор, данные о работоспособности, время доступности и другие сведения об узле.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --timeout -t       | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug            | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h          | Отображение этого справочного сообщения и выход.|
| --output -o        | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query            | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose          | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-node-list"></a>sfctl node list
Возвращает список узлов в кластере Service Fabric.

Конечная точка Nodes возвращает сведения об узлах в кластере Service Fabric. Ответ содержит имя, состояние, идентификатор, данные о работоспособности, время доступности и другие сведения об узле.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --continuation-token| Параметр маркера продолжения используется для получения следующего набора результатов. Маркер продолжения с непустым значением добавляется в ответ API, когда результаты из системы не помещаются в одном ответе.      Когда это значение передается в следующем вызове API, API возвращает следующий набор результатов. Если следующий набор результатов отсутствует, маркер продолжения не содержит значения. Значение этого параметра не должно быть указано в формате URL-адреса.|
| --node-status-filter| Позволяет фильтровать узлы по значению NodeStatus. Возвращаются только узлы, которые соответствуют указанному значению фильтра. Ниже приведены допустимые значения фильтра. -default — это значение фильтра извлекает все узлы, кроме узлов в состоянии "Unknown" или "Removed". -all — это значение фильтра извлекает все узлы. -up — это значение фильтра извлекает узлы, которые функционируют. -down — это значение фильтра извлекает узлы, которые не функционируют. -enabling — это значение фильтра извлекает узлы, которые включаются и находятся в состоянии "Enabling". -disabling — это значение фильтра извлекает узлы, которые отключаются и находятся в состоянии "Disabling". -disabled — это значение фильтра извлекает узлы, которые отключены и находятся в состоянии "Disabled". -unknown — это значение фильтра извлекает узлы, которые находятся в состоянии "Unknown". Узел находится в состоянии "Unknown", если у Service Fabric нет заслуживающей доверия информации об этом узле. Это может произойти, если система узнает об узле во время выполнения. -removed — это значение фильтра извлекает узлы, которые удалены и находятся в состоянии "Removed". Это узлы, которые удалены из кластера с помощью API RemoveNodeState. .      Значение по умолчанию: default.|
| --timeout -t     | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug          | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h        | Отображение этого справочного сообщения и выход.|
| --output -o      | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query          | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose        | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-node-load"></a>sfctl node load
Возвращает сведения о нагрузке узла Service Fabric.

Возвращает сведения о нагрузке узла Service Fabric.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --timeout -t       | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug            | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h          | Отображение этого справочного сообщения и выход.|
| --output -o        | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query            | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose          | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-node-restart"></a>sfctl node restart
Перезапускает узел кластера Service Fabric.

Перезапускает узел кластера Service Fabric, который уже запущен.

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-name [обязательный параметр]| Имя узла.|
| --create-fabric-dump  | Укажите значение True, чтобы создать дамп процесса узла структуры. Это значение следует вводить с учетом регистра.  Значение по умолчанию: False.|
| --node-instance-id | Идентификатор экземпляра на целевом узле. Если указан идентификатор экземпляра, то узел перезапускается только в том случае, если он соответствует текущему экземпляру узла. Значение по умолчанию "0" будет соответствовать любому идентификатору экземпляра. Идентификатор экземпляра можно получить с помощью запроса get node.  По умолчанию: 0.|
| --timeout -t       | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug            | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h          | Отображение этого справочного сообщения и выход.|
| --output -o        | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.  Значение по умолчанию: json.|
| --query            | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose          | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="sfctl-node-transition"></a>sfctl node transition
Запускает или останавливает узел кластера.

Запускает или останавливает узел кластера.  Узел кластера — это процесс, а не экземпляр операционной системы.
Для запуска узла передайте значение "Start" в параметр NodeTransitionType. Для остановки узла передайте в параметр NodeTransitionType значение "Stop". Этот API начнет операцию. Когда API вернется, возможно, узел еще не завершит переход. Вызовите GetNodeTransitionProgress с тем же значением OperationId, чтобы узнать ход выполнения операции. .

### <a name="arguments"></a>Аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --node-instance-id [обязательный параметр]| Идентификатор экземпляра целевого узла. Его можно определить с помощью API GetNodeInfo.|
| --node-name [обязательный параметр]| Имя узла.|
| --node-transition-type [обязательный параметр]| Указывает тип выполняемого перехода.                       NodeTransitionType.Start запускает остановленный узел.                       NodeTransitionType.Stop останавливает работающий узел. -Invalid — зарезервированное значение.  Не передавайте его в API. -Start — запускает остановленный узел. -Stop — останавливает работающий узел. .|
| --operation-id [обязательный параметр]| Идентификатор GUID, определяющий вызов этого API.  Он передается в соответствующий API GetProgress.|
| --stop-duration-in-seconds [обязательный параметр]| Длительность остановки узла в секундах.  Минимальное значение равно 600, а максимальное — 14 400. После истечения этого времени узел автоматически возобновляет работу.|
| --timeout -t                      | Время ожидания сервера в секундах.  Значение по умолчанию: 60.|

### <a name="global-arguments"></a>Глобальные аргументы

|Аргумент|ОПИСАНИЕ|
| --- | --- |
| --debug                           | Увеличение уровня детализации ведения журнала для отображения всех журналов отладки.|
| --help -h                         | Отображение этого справочного сообщения и выход.|
| --output -o                       | Формат выходных данных.  Допустимые значения: json, jsonc, table, tsv.                       Значение по умолчанию: json.|
| --query                           | Строка запроса JMESPath. Дополнительные сведения и примеры доступны на сайте http://jmespath.org.|
| --verbose                         | Повышение уровня детализации ведения журнала. Используйте параметр --debug, чтобы получить полные журналы отладки.|

## <a name="next-steps"></a>Дополнительная информация
- [Настройте](service-fabric-cli.md) интерфейс командной строки Service Fabric.
- Узнайте, как использовать интерфейс командной строки Service Fabric, с помощью [примеров сценариев](/azure/service-fabric/scripts/sfctl-upgrade-application).