---
title: "aaaConfigure безопасные Azure Service Fabric подключения кластера | Документы Microsoft"
description: "Узнайте, как Visual Studio tooconfigure toouse обеспечивать безопасность соединений, которые поддерживаются в кластере Azure Service Fabric hello."
services: service-fabric
documentationcenter: na
author: cawaMS
manager: paulyuk
editor: tglee
ms.assetid: 80501867-dd7a-4648-8bd6-d4f26b68402d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 8/04/2017
ms.author: cawa
ms.openlocfilehash: ed3e5043264cf026f74e24ca09b40ccc70086cf2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="configure-secure-connections-tooa-service-fabric-cluster-from-visual-studio"></a><span data-ttu-id="6e322-103">Настройка кластера Service Fabric tooa безопасных соединений из Visual Studio</span><span class="sxs-lookup"><span data-stu-id="6e322-103">Configure secure connections tooa Service Fabric cluster from Visual Studio</span></span>
<span data-ttu-id="6e322-104">Узнайте, как Visual Studio toosecurely toouse доступ к кластеру Azure Service Fabric с настройки политики управления доступом.</span><span class="sxs-lookup"><span data-stu-id="6e322-104">Learn how toouse Visual Studio toosecurely access an Azure Service Fabric cluster with access control policies configured.</span></span>

## <a name="cluster-connection-types"></a><span data-ttu-id="6e322-105">Типы подключения кластера</span><span class="sxs-lookup"><span data-stu-id="6e322-105">Cluster connection types</span></span>
<span data-ttu-id="6e322-106">Поддерживаются два типа подключений кластером hello Azure Service Fabric: **небезопасные** соединений и **x509 на основе сертификатов** безопасные подключения.</span><span class="sxs-lookup"><span data-stu-id="6e322-106">Two types of connections are supported by hello Azure Service Fabric cluster: **non-secure** connections and **x509 certificate-based** secure connections.</span></span> <span data-ttu-id="6e322-107">(Кластеры Service Fabric, размещенные локально, также поддерживают проверку подлинности **Windows** и **dSTS**.) У вас тип подключения кластера hello tooconfigure при создании кластера hello.</span><span class="sxs-lookup"><span data-stu-id="6e322-107">(For Service Fabric clusters hosted on-premises, **Windows** and **dSTS** authentications are also supported.) You have tooconfigure hello cluster connection type when hello cluster is being created.</span></span> <span data-ttu-id="6e322-108">После его создания не изменить тип подключения hello.</span><span class="sxs-lookup"><span data-stu-id="6e322-108">Once it's created, hello connection type can’t be changed.</span></span>

<span data-ttu-id="6e322-109">средства Visual Studio Service Fabric Hello поддерживает все типы проверки подлинности для подключения кластера tooa для публикации.</span><span class="sxs-lookup"><span data-stu-id="6e322-109">hello Visual Studio Service Fabric tools support all authentication types for connecting tooa cluster for publishing.</span></span> <span data-ttu-id="6e322-110">В разделе [установка кластера Service Fabric с портала Azure hello](service-fabric-cluster-creation-via-portal.md) инструкции о том, как tooset безопасности кластера Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6e322-110">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for instructions on how tooset up a secure Service Fabric cluster.</span></span>

## <a name="configure-cluster-connections-in-publish-profiles"></a><span data-ttu-id="6e322-111">Настройка подключения кластера в профилях публикации</span><span class="sxs-lookup"><span data-stu-id="6e322-111">Configure cluster connections in publish profiles</span></span>
<span data-ttu-id="6e322-112">Если вы публикуете проект Service Fabric из Visual Studio, используйте hello **опубликовать приложение Service Fabric** диалогового окна поле toochoose кластера с Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6e322-112">If you publish a Service Fabric project from Visual Studio, use hello **Publish Service Fabric Application** dialog box toochoose an Azure Service Fabric cluster.</span></span> <span data-ttu-id="6e322-113">В разделе **Конечная точка подключения** выберите кластер в своей подписке.</span><span class="sxs-lookup"><span data-stu-id="6e322-113">Under **Connection endpoint**, select an existing cluster under your subscription.</span></span>

![Hello ** публикации службы структуры приложения ** используется диалоговое окно используется tooconfigure подключения Service Fabric.][publishdialog]

<span data-ttu-id="6e322-115">Hello **опубликовать приложение Service Fabric** диалоговое окно автоматически проверяет подключение кластера hello.</span><span class="sxs-lookup"><span data-stu-id="6e322-115">hello **Publish Service Fabric Application** dialog box automatically validates hello cluster connection.</span></span> <span data-ttu-id="6e322-116">Если будет предложено, войдите в tooyour учетная запись Azure.</span><span class="sxs-lookup"><span data-stu-id="6e322-116">If prompted, sign in tooyour Azure account.</span></span> <span data-ttu-id="6e322-117">Проверка считается пройденной, означает, что в системе установлены правильные сертификаты безопасно установлены tooconnect toohello кластера или кластера, не защищенного hello.</span><span class="sxs-lookup"><span data-stu-id="6e322-117">If validation passes, it means that your system has hello correct certificates installed tooconnect toohello cluster securely, or your cluster is non-secure.</span></span> <span data-ttu-id="6e322-118">Сбои при выполнении проверки может быть вызвана, неполадками в сети или при отсутствии безопасного кластеру tooa tooconnect системы правильно настроены.</span><span class="sxs-lookup"><span data-stu-id="6e322-118">Validation failures can be caused by network issues or by not having your system correctly configured tooconnect tooa secure cluster.</span></span>

![Hello ** публикации службы структуры приложения ** диалоговое окно проверяет существующий, правильность настройки подключения кластера Service Fabric.][selectsfcluster]

### <a name="tooconnect-tooa-secure-cluster"></a><span data-ttu-id="6e322-120">tooconnect tooa безопасности кластера</span><span class="sxs-lookup"><span data-stu-id="6e322-120">tooconnect tooa secure cluster</span></span>
1. <span data-ttu-id="6e322-121">Убедитесь, что доступен один hello сертификатов клиентов, которые hello доверие кластера назначения.</span><span class="sxs-lookup"><span data-stu-id="6e322-121">Make sure you can access one of hello client certificates that hello destination cluster trusts.</span></span> <span data-ttu-id="6e322-122">сертификат Hello обычно совместно как файл обмена личной информацией (PFX-файл).</span><span class="sxs-lookup"><span data-stu-id="6e322-122">hello certificate is usually shared as a Personal Information Exchange (.pfx) file.</span></span> <span data-ttu-id="6e322-123">В разделе [установка кластера Service Fabric с портала Azure hello](service-fabric-cluster-creation-via-portal.md) для как tooconfigure hello server toogrant доступ к tooa клиента.</span><span class="sxs-lookup"><span data-stu-id="6e322-123">See [Setting up a Service Fabric cluster from hello Azure portal](service-fabric-cluster-creation-via-portal.md) for how tooconfigure hello server toogrant access tooa client.</span></span>
2. <span data-ttu-id="6e322-124">Установите сертификат доверенного hello.</span><span class="sxs-lookup"><span data-stu-id="6e322-124">Install hello trusted certificate.</span></span> <span data-ttu-id="6e322-125">toodo, дважды щелкните hello PFX-файл, или используйте hello PowerShell скрипт Import-PfxCertificate tooimport hello сертификаты.</span><span class="sxs-lookup"><span data-stu-id="6e322-125">toodo this, double-click hello .pfx file, or use hello PowerShell script Import-PfxCertificate tooimport hello certificates.</span></span> <span data-ttu-id="6e322-126">Установите сертификат hello слишком**Cert: \LocalMachine\My**.</span><span class="sxs-lookup"><span data-stu-id="6e322-126">Install hello certificate too**Cert:\LocalMachine\My**.</span></span> <span data-ttu-id="6e322-127">Он является ОК tooaccept все параметры по умолчанию при импорте сертификата hello.</span><span class="sxs-lookup"><span data-stu-id="6e322-127">It's OK tooaccept all default settings while importing hello certificate.</span></span>
3. <span data-ttu-id="6e322-128">Выберите hello **публикации...**  контекстном меню hello объекта hello tooopen проекта hello **публикации приложения Azure** диалоговое окно, выберите hello целевого кластера.</span><span class="sxs-lookup"><span data-stu-id="6e322-128">Choose hello **Publish...** command on hello shortcut menu of hello project tooopen hello **Publish Azure Application** dialog box and then select hello target cluster.</span></span> <span data-ttu-id="6e322-129">Средство Hello автоматически разрешает подключение hello и сохраняет профиль публикации параметров в hello безопасное соединение hello.</span><span class="sxs-lookup"><span data-stu-id="6e322-129">hello tool automatically resolves hello connection and saves hello secure connection parameters in hello publish profile.</span></span>
4. <span data-ttu-id="6e322-130">Необязательно: Изменение hello публикации toospecify профиля подключения безопасности кластера.</span><span class="sxs-lookup"><span data-stu-id="6e322-130">Optional: You can edit hello publish profile toospecify a secure cluster connection.</span></span>
   
   <span data-ttu-id="6e322-131">Поскольку требуется вручную изменить сведения о сертификате hello toospecify в файл XML профиля публикации hello, убедиться, что имя хранилища сертификатов toonote hello, хранения, расположение и отпечаток сертификата.</span><span class="sxs-lookup"><span data-stu-id="6e322-131">Since you're manually editing hello Publish Profile XML file toospecify hello certificate information, be sure toonote hello certificate store name, store location, and certificate thumbprint.</span></span> <span data-ttu-id="6e322-132">Вам потребуется tooprovide эти значения для хранилища сертификатов hello имя и местоположение хранилища.</span><span class="sxs-lookup"><span data-stu-id="6e322-132">You'll need tooprovide these values for hello certificate's store name and store location.</span></span> <span data-ttu-id="6e322-133">В разделе [как: hello получения отпечатка сертификата](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) для получения дополнительной информации.</span><span class="sxs-lookup"><span data-stu-id="6e322-133">See [How to: Retrieve hello Thumbprint of a Certificate](https://msdn.microsoft.com/library/ms734695\(v=vs.110\).aspx) for more information.</span></span>
   
   <span data-ttu-id="6e322-134">Можно использовать hello *ClusterConnectionParameters* параметры toospecify hello PowerShell параметры toouse при подключении toohello кластера Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="6e322-134">You can use hello *ClusterConnectionParameters* parameters toospecify hello PowerShell parameters toouse when connecting toohello Service Fabric cluster.</span></span> <span data-ttu-id="6e322-135">Допустимые параметры — это все, принимаются командлетом Connect-ServiceFabricCluster hello.</span><span class="sxs-lookup"><span data-stu-id="6e322-135">Valid parameters are any that are accepted by hello Connect-ServiceFabricCluster cmdlet.</span></span> <span data-ttu-id="6e322-136">Список доступных параметров см. в статье [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx).</span><span class="sxs-lookup"><span data-stu-id="6e322-136">See [Connect-ServiceFabricCluster](https://msdn.microsoft.com/library/mt125938.aspx) for a list of available parameters.</span></span>
   
   <span data-ttu-id="6e322-137">Если вы публикуете tooa удаленного кластера, необходимо toospecify hello соответствующие параметры для этого конкретного кластера.</span><span class="sxs-lookup"><span data-stu-id="6e322-137">If you’re publishing tooa remote cluster, you need toospecify hello appropriate parameters for that specific cluster.</span></span> <span data-ttu-id="6e322-138">Hello ниже приведен пример кластера незащищенные подключения tooa:</span><span class="sxs-lookup"><span data-stu-id="6e322-138">hello following is an example of connecting tooa non-secure cluster:</span></span>
   
   `<ClusterConnectionParameters ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000" />`
   
   <span data-ttu-id="6e322-139">Ниже приведен пример для подключения tooan x509 на основании сертификата безопасности кластера:</span><span class="sxs-lookup"><span data-stu-id="6e322-139">Here’s an example for connecting tooan x509 certificate-based secure cluster:</span></span>
   
   ```xml
   <ClusterConnectionParameters
   ConnectionEndpoint="mycluster.westus.cloudapp.azure.com:19000"
   X509Credential="true"
   ServerCertThumbprint="0123456789012345678901234567890123456789"
   FindType="FindByThumbprint"
   FindValue="9876543210987654321098765432109876543210"
   StoreLocation="CurrentUser"
   StoreName="My" />
   ```
5. <span data-ttu-id="6e322-140">Другие необходимые параметры, такие как параметры обновления и расположение файла параметров приложения и снова опубликовать приложение из hello **опубликовать приложение Service Fabric** диалоговое окно в Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6e322-140">Edit any other necessary settings, such as upgrade parameters and Application Parameter file location, and then publish your application from hello **Publish Service Fabric Application** dialog box in Visual Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6e322-141">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="6e322-141">Next steps</span></span>
<span data-ttu-id="6e322-142">Дополнительные сведения о доступе к кластерам Service Fabric см. в статье [Визуализация кластера с помощью Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="6e322-142">For more information about accessing Service Fabric clusters, see [Visualizing your cluster by using Service Fabric Explorer](service-fabric-visualizing-your-cluster.md).</span></span>

<!--Image references-->
[publishdialog]:./media/service-fabric-visualstudio-configure-secure-connections/publishdialog.png
[selectsfcluster]:./media/service-fabric-visualstudio-configure-secure-connections/selectsfcluster.png
