---
title: "Архитектура диспетчера aaaResource | Документы Microsoft"
description: "Общие сведения об архитектуре диспетчера кластерных ресурсов Service Fabric."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 6c4421f9-834b-450c-939f-1cb4ff456b9b
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9ea80273d0566a2ac25143ada3662875656b57b8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-architecture-overview"></a>Общие сведения об архитектуре диспетчера кластерных ресурсов
Диспетчер ресурсов кластера Service Fabric Hello является центральной службы, которая запущена на кластере hello. Он управляет hello требуемого состояния служб hello в кластере hello, особенно в отношении tooresource потребления и какие-либо правила размещения. 

toomanage hello ресурсы кластера, диспетчер ресурсов кластера Service Fabric hello должен иметь несколько видов информации:

- какие службы в настоящее время существуют;
- текущее (или стандартное) потребление ресурсов каждой службой; 
- Оставшаяся емкость кластера Hello 
- емкость Hello hello узлов в кластере hello 
- Hello объем ресурсов, потребляемых на каждом узле

потребления ресурсов Hello данной службе могут со временем измениться, а службы обычно важна более чем один тип ресурса. В разных службах могут учитываться как реальные физические, так и логические ресурсы. Например, службы контролируют такие физические показатели, как потребление памяти и места на диске. Но еще чаще их интересуют логические метрики, например WorkQueueDepth (Длина очереди заданий) или TotalRequests (Общее количество запросов). Логический и физический метрики, которые могут использоваться в hello одного кластера. Метрики могут совместно использоваться различными службами или быть конкретных tooa конкретной службы.

## <a name="other-considerations"></a>Дополнительные рекомендации
Hello владельцев и операторы hello кластера может отличаться от hello авторы службы и приложения, или на минимальное являются hello же носить ролей пользователей. При разработке приложения вам известно, что для него требуется. У вас есть оценки из hello следует развертывать ресурсы, будет использована и как разные службы. Например hello веб-уровень должен toorun на узлы, которые предоставляются toohello Интернета, пока не должны hello базы данных служб. Другой пример: hello веб-службы, возможно, ограничены ЦП и сети, при hello данных уровня службы заниматься более потребление памяти и диска. Однако обработка инцидента live сайта для этой службы в производственной среде или службой обновления toohello кто управляет пользователь hello toodo другое задание, а требует различных средств. 

Hello кластеров и службы являются динамическими:

- может увеличиваться или уменьшаться Hello количество узлов в кластере hello
- могут добавляться и исчезать узлы различных размеров и типов;
- службы могут создаваться и перемещаться, а также для них могут меняться потребности в выделяемых ресурсах и правила размещения;
- Обновление или другие операции управления выполнить откат через hello кластер приложения hello на уровнях инфраструктуры
- Сбои могут происходить в любое время.

## <a name="cluster-resource-manager-components-and-data-flow"></a>Компоненты и поток данных диспетчера кластерных ресурсов
Hello диспетчер ресурсов кластера имеет требования hello tootrack каждой службы и hello потребления ресурсов, каждый объект службы в пределах этих служб. Hello диспетчер ресурсов кластера имеет две основные части: агентов, работающих на каждом узле и отказоустойчивой службы. агенты Hello при каждой загрузке отслеживания узел сообщает из служб, статистические и периодически сообщает о них. Hello диспетчер ресурсов кластера службы сбора всех данных hello из локального агенты hello и реагирует на основании текущей конфигурации.

Рассмотрим следующие схемы hello.

<center>
![Архитектура балансировщика ресурсов][Image1]
</center>

Во время выполнения могут произойти разные изменения. Например, предположим, что сумма hello ресурсов некоторые службы обрабатывает изменения, некоторых ошибок служб, и некоторые узлы, подключении и отключении hello кластера. Все изменения hello на узле производятся статистические вычисления и периодически отправляются службы диспетчера ресурсов кластера toohello (1,2) где они снова статистическую обработку, анализируются и хранятся. Каждые несколько секунд, которые служба просматривает изменения hello и определяет, требуется ли каких-либо действий (3). Например могут заметить, что некоторые пустые узлы были добавлены toohello кластера. В результате решает toomove некоторые узлы toothose служб. Hello диспетчер ресурсов кластера может также Обратите внимание, что конкретный узел перегружен или сбой или был удален, определенных служб, освобождая ресурсы в другом месте.

Рассмотрим следующие схемы hello и посмотрим, что произойдет рядом. Давайте предположим, диспетчер ресурсов кластера hello определяет изменения не требуются. Он координирует с других системных служб (в определенной hello Диспетчер отказоустойчивости) toomake hello необходимые изменения. Затем hello необходимые команды отправляются toohello соответствующих узлах (4). Например предположим, что диспетчер ресурсов заметили перегружено Node5 и поэтому принимается решение toomove службы B из Node5 tooNode4 приветствия. В конце hello перенастройки hello (5) кластер hello выглядит следующим образом:

<center>
![Архитектура балансировщика ресурсов][Image2]
</center>

## <a name="next-steps"></a>Дальнейшие действия
- Hello диспетчер ресурсов кластера позволяет настраивать различные параметры для описания кластера hello. toofind подробные сведения о них, извлеките в этой статье на [описания кластера Service Fabric](./service-fabric-cluster-resource-manager-cluster-description.md)
- основной обязанностей Hello диспетчер ресурсов кластера являются перераспределения кластера hello и применения правила размещения. Дополнительные сведения о настройке этих функций см. в разделе [Балансировка кластера Service Fabric](./service-fabric-cluster-resource-manager-balancing.md).

[Image1]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-1.png
[Image2]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-2.png
