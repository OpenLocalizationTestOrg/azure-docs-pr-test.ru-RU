---
title: "Изменение параметров кластера Azure Service Fabric | Документация Майкрософт"
description: "В этой статье описываются параметры структуры и политики обновления структур, которые можно настраивать."
services: service-fabric
documentationcenter: .net
author: chackdan
manager: timlt
editor: 
ms.assetid: 7ced36bf-bd3f-474f-a03a-6ebdbc9677e2
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/15/2017
ms.author: chackdan
ms.openlocfilehash: d71fdcf2a054a9b9ac1d74ddd3a6b43d151fa87d
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="customize-service-fabric-cluster-settings-and-fabric-upgrade-policy"></a>Настройка параметров кластера Service Fabric и политики обновления структур
В этом документе описывается, как настроить различные параметры структуры и политику обновления структур для кластера Service Fabric. Их можно настроить на портале или с помощью шаблона Azure Resource Manager.

> [!NOTE]
> На портале могут быть доступны не все параметры. Если один из параметров, перечисленных ниже, недоступен на портале, настройте его с помощью шаблона Azure Resource Manager.
> 

## <a name="customizing-service-fabric-cluster-settings-using-azure-resource-manager-templates"></a>Настройка кластера Service Fabric с использованием шаблонов Azure Resource Manager
Ниже приведены шаги, с помощью которых можно добавить новый параметр *MaxDiskQuotaInMB* в раздел *Diagnostics*.

1. Откройте страницу https://resources.azure.com.
2. Перейдите к своей подписке: разверните пункты меню "Подписки" -> "Группы ресурсов" -> Microsoft.ServiceFabric, а затем выберите имя кластера.
3. В правом верхнем углу выберите пункт "Чтение и запись".
4. Выберите "Изменить" и обновите элемент JSON `fabricSettings`, а затем добавьте новый элемент.

```
      {
        "name": "Diagnostics",
        "parameters": [
          {
            "name": "MaxDiskQuotaInMB",
            "value": "65536"
          }
        ]
      }
```

## <a name="fabric-settings-that-you-can-customize"></a>Параметры структуры, которые можно настраивать
Ниже приведены параметры структуры, которые можно настраивать.

### <a name="section-name-diagnostics"></a>Имя раздела: Diagnostics
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| ConsumerInstances |string |Список экземпляров потребителя приложения для устройства. |
| ProducerInstances |Строка |Список экземпляров производителя приложения для устройства. |
| AppEtwTraceDeletionAgeInDays |Целое число, по умолчанию — 3 |Число дней, по истечении которого удаляются старые ETL-файлы, содержащие события трассировки событий Windows для приложения. |
| AppDiagnosticStoreAccessRequiresImpersonation |Логическое значение, по умолчанию — true |Указывает, является ли олицетворение обязательным при доступе к хранилищам диагностики от имени приложения. |
| MaxDiskQuotaInMB |Целое число, по умолчанию — 65536 |Квота диска (в МБ) для файлов журнала Windows Fabric. |
| DiskFullSafetySpaceInMB |Целое число, по умолчанию — 1024 |Оставшееся место на диске (в МБ), недоступное для использования приложением для устройства (DCA). |
| ApplicationLogsFormatVersion |Целое число, по умолчанию — 0 |Версия формата журналов приложений. Поддерживаемые значения: 0 и 1. Версия 1 содержит больше полей из записи о событии трассировки событий Windows. |
| ClusterId |Строка |Уникальный идентификатор кластера. Он создается при создании кластера. |
| EnableTelemetry |Логическое значение, по умолчанию — true |Включает или отключает телеметрию. |
| EnableCircularTraceSession |Логическое значение, по умолчанию — false |Флаг, указывающий, следует ли использовать сеансы циклической трассировки. |

### <a name="section-name-traceetw"></a>Имя раздела: Trace/Etw
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| Уровень |Целое число, по умолчанию — 4 |Уровень трассировки событий Windows может принимать значения 1, 2, 3, 4. Для обеспечения поддержки необходим уровень трассировки 4. |

### <a name="section-name-performancecounterlocalstore"></a>Имя раздела: PerformanceCounterLocalStore
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| IsEnabled |Логическое значение, по умолчанию — true |Флаг, указывающий, включен ли сбор данных счетчиками производительности на локальном узле. |
| SamplingIntervalInSeconds |Целое число, по умолчанию — 60 |Интервал выборки для сбора данных со счетчиков производительности. |
| Counters |Строка |Разделенный запятыми список счетчиков производительности, данные которых необходимо собирать. |
| MaxCounterBinaryFileSizeInMB |Целое число, по умолчанию — 1 |Максимальный размер (в МБ) двоичного файла каждого счетчика производительности. |
| NewCounterBinaryFileCreationIntervalInMinutes |Целое число, по умолчанию — 10 |Максимальный интервал (в секундах) для создания двоичных файлов счетчика производительности. |

### <a name="section-name-setup"></a>Имя раздела: Setup
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| FabricDataRoot |Строка |Корневой каталог данных Service Fabric. По умолчанию для Azure это d:\svcfab. |
| FabricLogRoot |string |Корневой каталог журналов Service Fabric. В нем хранятся журналы и трассировки Service Fabric. |
| ServiceRunAsAccountName |Строка |Имя учетной записи, используемой для запуска службы узла Fabric. |
| ServiceStartupType |string |Тип запуска службы узла Fabric. |
| SkipFirewallConfiguration |Логическое значение, по умолчанию — false |Указывает, должна ли система настраивать параметры брандмауэра. Применяется, только если используется брандмауэр Windows. Если вы используете брандмауэры сторонних производителей, то необходимо открыть порты для системы и приложений. |

### <a name="section-name-transactionalreplicator"></a>Имя раздела: TransactionalReplicator
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| MaxCopyQueueSize |Целое число без знака, по умолчанию — 16384 |Максимальное значение, определяющее начальный размер очереди операций репликации. Обратите внимание, что это значение должно представлять собой степень числа 2. Если во время выполнения размер очереди достигает установленного значения, операции будут распределены между основным и дополнительным репликаторами. |
| BatchAcknowledgementInterval | Время в секундах, по умолчанию — 0.015 | Временной диапазон в секундах. Период времени, в течение которого репликатор после получения операции находится в режиме ожидания, а затем возвращает подтверждение. Подтверждения других операций, полученных в этот период, возвращаются в одном сообщении. В результате этого уменьшается сетевой трафик и пропускная способность репликатора. |
| MaxReplicationMessageSize |Целое число без знака, по умолчанию — 52428800 | Максимальный размер сообщения операций репликации. По умолчанию — 50MB. |
| ReplicatorAddress |Строка, значение по умолчанию — "localhost:0" | Конечная точка в формате "IP-адрес:порт", используемая репликатором Windows Fabric для установки подключений к другим репликам, чтобы отправлять и получать операции. |
| InitialPrimaryReplicationQueueSize |Целое число без знака, по умолчанию — 64 | Определяет начальный размер очереди операций репликации в основном репликаторе. Обратите внимание, что это значение должно представлять собой степень числа 2.|
| MaxPrimaryReplicationQueueSize |Целое число без знака, по умолчанию — 8192 |Максимальное число операций в основной очереди репликации. Обратите внимание, что это значение должно представлять собой степень числа 2. |
| MaxPrimaryReplicationQueueMemorySize |Целое число без знака, по умолчанию — 0 |Максимальное значение основной очереди репликации в байтах. |
| InitialSecondaryReplicationQueueSize |Целое число без знака, по умолчанию — 64 |Определяет начальный размер очереди операций репликации в дополнительном репликаторе. Обратите внимание, что это значение должно представлять собой степень числа 2. |
| MaxSecondaryReplicationQueueSize |Целое число без знака, по умолчанию — 16384 |Максимальное число операций в дополнительной очереди репликации. Обратите внимание, что это значение должно представлять собой степень числа 2. |
| MaxSecondaryReplicationQueueMemorySize |Целое число без знака, по умолчанию — 0 |Максимальное значение дополнительной очереди репликации в байтах. |
| SecondaryClearAcknowledgedOperations |Логическое значение, по умолчанию — false |Логическое значение, которое контролирует удаление операций в дополнительном репликаторе после их подтверждения в основном репликаторе (записи на диск). Если задать для этого параметра значение true, это может привести к появлению дополнительных операций чтения на диске, связанных с перехватом реплик после отработки отказа. |
| MaxMetadataSizeInKB |Целое число, по умолчанию — 4 |Максимальный размер метаданных в потоке журналов. |
| MaxRecordSizeInKB |Целое число без знака, по умолчанию — 1024 | Максимальный размер записи в потоке журналов. |
| CheckpointThresholdInMB |Целое число, по умолчанию — 50 |При превышении этого значения использования журнала инициируется контрольная точка. |
| MaxAccumulatedBackupLogSizeInMB |Целое число, по умолчанию — 800 |Максимальный совокупный размер журналов архивации (в МБ) в заданной цепочке журналов архивации. Запросы на добавочную архивацию завершатся сбоем, если в результате добавочной архивации будет создан журнал архивации, из-за которого совокупный размер журналов архивации, созданных после последней полной архивации, превысит этот размер. В таких случаях пользователь должен выполнить полную архивацию. |
| MaxWriteQueueDepthInKB |Целое число, по умолчанию — 0 | Целое число, определяющее максимальную длину очереди записи, которую может использовать средство ведения журнала ядра (если это значение указано в килобайтах) для журнала, связанного с этой репликой. Это значение определяет максимальный размер в байтах, неиспользуемый во время обновлений средства ведения журнала ядра. Если задать для этого параметра значение 0, средство ведения журнала ядра вычислит соответствующее значение или значение кратное 4. |
| SharedLogId |string |Идентификатор общего журнала. Это глобальный идентификатор. Он должен быть уникальным для каждого общего журнала. |
| SharedLogPath |string |Путь к общему журналу. Если это значение не указано, используется общий журнал по умолчанию. |
| SlowApiMonitoringDuration |Время в секундах, по умолчанию — 300. | Укажите время для API перед созданием события предупреждения о работоспособности.|
| MinLogSizeInMB |Целое число, по умолчанию — 0 |Минимальный размер журнала транзакций. Журнал не разрешено усекать до размера меньше указанного значения. Значение 0 указывает, что минимальный размер журнала определяет репликатор в соответствии с другими параметрами. Увеличение этого значения повышает вероятность создания частичных копий и добавочных резервных копий, так как снижается допустимость усечения соответствующих записей журнала. |

### <a name="section-name-fabricclient"></a>Имя раздела: FabricClient
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| NodeAddresses |Строка, значение по умолчанию — "" |Список адресов (строк подключения) на разных узлах, которые можно использовать для взаимодействия со службой именования. Сначала клиент подключается к одному из адресов, выбранному случайным образом. Если введено несколько строк подключения и клиент не может установить подключение из-за ошибки времени ожидания или связи, он переключится на следующий адрес в списке. Сведения о семантике повторных попыток см. в разделе с адресами службы именования. |
| ConnectionInitializationTimeout |Время в секундах, по умолчанию — 2 |Временной диапазон в секундах. Время ожидания подключения при каждой попытке клиента подключиться к шлюзу. |
| PartitionLocationCacheLimit |Целое число, по умолчанию — 100000 |Количество разделов, кэшируемых для разрешения адресов служб (чтобы снять ограничения, задайте значение 0). |
| ServiceChangePollInterval |Время в секундах, по умолчанию — 120 |Временной диапазон в секундах. Интервал перехода последовательных опросов из клиента в шлюз для обратных вызовов уведомлений об изменениях зарегистрированной службы. |
| KeepAliveIntervalInSeconds |Целое число, по умолчанию — 20 |Интервал, через который FabricClient отправляет сообщения проверки активности в шлюз. Чтобы отключить параметр keepAlive, задайте значение 0. Значение должно быть положительным. |
| HealthOperationTimeout |Время в секундах, по умолчанию — 120 |Временной диапазон в секундах. Время ожидания сообщения с отчетом, отправленного диспетчеру работоспособности. |
| HealthReportSendInterval |Время в секундах, по умолчанию — 30. |Временной диапазон в секундах. Интервал, через который компонент для создания отчетов отправляет накопленные отчеты о работоспособности в диспетчер работоспособности. |
| HealthReportRetrySendInterval |Время в секундах, по умолчанию — 30. |Временной диапазон в секундах. Интервал, через который компонент для создания отчетов повторно отправляет накопленные отчеты о работоспособности в диспетчер работоспособности. |
| RetryBackoffInterval |Время в секундах, по умолчанию — 3 |Временной диапазон в секундах. Интервал отхода перед повторным выполнением операции. |
| MaxFileSenderThreads |Целое число без знака, по умолчанию — 10 |Максимальное количество файлов, передаваемых в параллельном режиме. |

### <a name="section-name-common"></a>Имя раздела: Common
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| PerfMonitorInterval |Время в секундах, по умолчанию — 1 |Временной диапазон в секундах. Интервал мониторинга производительности. Чтобы отключить мониторинг, задайте отрицательное значение или 0. |

### <a name="section-name-healthmanager"></a>Имя раздела: HealthManager
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| EnableApplicationTypeHealthEvaluation |Логическое значение, по умолчанию — false |Политика оценки работоспособности кластера. Включите отдельную политику для каждого типа приложения. |

### <a name="section-name-fabricnode"></a>Имя раздела: FabricNode
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| StateTraceInterval |Время в секундах, по умолчанию — 300. |Временной диапазон в секундах. Интервал трассировки состояния каждого узла и вышестоящих узлов в FM и FMM. |

### <a name="section-name-nodedomainids"></a>Имя раздела: NodeDomainIds
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| UpgradeDomainId |Строка, значение по умолчанию — "" |Описывает домен обновления, к которому принадлежит узел. |
| PropertyGroup |NodeFaultDomainIdCollection |Описывает домен сбоя, к которому принадлежит узел. Домен сбоя определяется через универсальный код ресурса (URI), содержащий сведения о расположении узла в центре обработки данных.  URI домена сбоя имеет формат "домен_сбоя:/домен_сбоя/", после чего следует сегмент пути URI.|

### <a name="section-name-nodeproperties"></a>Имя раздела: NodeProperties
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| PropertyGroup |NodePropertyCollectionMap |Список пар "ключ — значение" для свойств узла. |

### <a name="section-name-nodecapacities"></a>Имя раздела: NodeCapacities
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| PropertyGroup |NodeCapacityCollectionMap |Список емкостей узла для разных метрик. |

### <a name="section-name-fabricnode"></a>Имя раздела: FabricNode
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| StartApplicationPortRange |Целое число, по умолчанию — 0 |Начало диапазона портов приложения, управляемых подсистемой размещения. Обязательный параметр, если в разделе Hosting для параметра EndpointFilteringEnabled задано значение true. |
| EndApplicationPortRange |Целое число, по умолчанию — 0 |Конец диапазона портов приложения (не включая последнее значение), управляемых подсистемой размещения. Обязательный параметр, если в разделе Hosting для параметра EndpointFilteringEnabled задано значение true. |
| ClusterX509StoreName |Строка, значение по умолчанию — "My" |Имя хранилища сертификатов X.509, в котором содержится сертификат кластера, используемый для защиты передачи данных внутри кластера. |
| ClusterX509FindType |Строка, значение по умолчанию — "FindByThumbprint" |Указывает, как найти сертификат кластера в хранилище с использованием поддерживаемых значений параметра ClusterX509StoreName (FindByThumbprint, FindBySubjectName, FindBySubjectName). При наличии нескольких совпадений используется сертификат с самым поздним временем окончания срока действия. |
| ClusterX509FindValue |Строка, значение по умолчанию — "" |Значение фильтра поиска, используемое для поиска сертификата кластера. |
| ClusterX509FindValueSecondary |Строка, значение по умолчанию — "" |Значение фильтра поиска, используемое для поиска сертификата кластера. |
| ServerAuthX509StoreName |Строка, значение по умолчанию — "My" |Имя хранилища сертификатов X.509, в котором содержится сертификат сервера для входа в службу. |
| ServerAuthX509FindType |Строка, значение по умолчанию — "FindByThumbprint" |Указывает, как найти сертификат сервера в хранилище с использованием поддерживаемых значений параметра ServerAuthX509StoreName (FindByThumbprint, FindBySubjectName). |
| ServerAuthX509FindValue |Строка, значение по умолчанию — "" |Значение фильтра поиска, используемое для поиска сертификата сервера. |
| ServerAuthX509FindValueSecondary |Строка, значение по умолчанию — "" |Значение фильтра поиска, используемое для поиска сертификата сервера. |
| ClientAuthX509StoreName |Строка, значение по умолчанию — "My" |Имя хранилища сертификатов X.509, в котором содержится сертификат для роли администратора FabricClient по умолчанию. |
| ClientAuthX509FindType |Строка, значение по умолчанию — "FindByThumbprint" |Указывает, как найти сертификат в хранилище с использованием поддерживаемых значений параметра ClientAuthX509StoreName (FindByThumbprint, FindBySubjectName). |
| ClientAuthX509FindValue |Строка, значение по умолчанию — "" | Значение фильтра поиска, используемое для поиска сертификата роли администратора FabricClient по умолчанию. |
| ClientAuthX509FindValueSecondary |Строка, значение по умолчанию — "" |Значение фильтра поиска, используемое для поиска сертификата роли администратора FabricClient по умолчанию. |
| UserRoleClientX509StoreName |Строка, значение по умолчанию — "My" |Имя хранилища сертификатов X.509, в котором содержится сертификат роли пользователя FabricClient по умолчанию. |
| UserRoleClientX509FindType |Строка, значение по умолчанию — "FindByThumbprint" |Указывает, как найти сертификат в хранилище с использованием поддерживаемых значений параметра UserRoleClientX509StoreName (FindByThumbprint, FindBySubjectName). |
| UserRoleClientX509FindValue |Строка, значение по умолчанию — "" |Значение фильтра поиска, используемое для поиска сертификата роли пользователя FabricClient по умолчанию. |
| UserRoleClientX509FindValueSecondary |Строка, значение по умолчанию — "" |Значение фильтра поиска, используемое для поиска сертификата роли пользователя FabricClient по умолчанию. |

### <a name="section-name-paas"></a>Имя раздела: Paas
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| ClusterId |Строка, значение по умолчанию — "" |Хранилище сертификатов X509, используемое Fabric для защиты конфигурации. |

### <a name="section-name-fabrichost"></a>Имя раздела: FabricHost
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| StopTimeout |Время в секундах, по умолчанию — 300. |Временной диапазон в секундах. Время ожидания перед активацией, деактивацией и обновлением размещенной службы. |
| StartTimeout |Время в секундах, по умолчанию — 300. |Временной диапазон в секундах. Время ожидания перед запуском fabricactivationmanager. |
| ActivationRetryBackoffInterval |Время в секундах, по умолчанию — 5 |Временной диапазон в секундах. Интервал отхода при каждом сбое активации. При каждом постоянном сбое активации система повторяет попытки активации, пока их количество не достигнет значения MaxActivationFailureCount. Интервал повтора при каждой попытке является произведением числа постоянных сбоев активации и интервала отхода активации. |
| ActivationMaxRetryInterval |Время в секундах, по умолчанию — 300. |Временной диапазон в секундах. Максимальный интервал повторных попыток активации. Для каждого повторного сбоя интервал повторных попыток вычисляется с помощью следующей формулы: Min( ActivationMaxRetryInterval; число повторных сбоев * ActivationRetryBackoffInterval). |
| ActivationMaxFailureCount |Целое число, по умолчанию — 10 |Максимальное количество повторных попыток системы выполнить активацию, при достижении которого их следует прекратить. |
| EnableServiceFabricAutomaticUpdates |Логическое значение, по умолчанию — false |Включает автоматическое обновление Fabric через Центр обновления Windows. |
| EnableServiceFabricBaseUpgrade |Логическое значение, по умолчанию — false |Включает базовое обновление сервера. |
| EnableRestartManagement |Логическое значение, по умолчанию — false |Включает перезагрузку сервера. |


### <a name="section-name-failovermanager"></a>Имя раздела: FailoverManager
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| UserReplicaRestartWaitDuration |Время в секундах, по умолчанию — 60.0 * 30 |Временной диапазон в секундах. В случае сбоя материализованной реплики в течение этого времени Windows Fabric ожидает, пока реплика не восстановит работоспособность, а затем создает ей замену (для чего требуется копия состояния). |
| QuorumLossWaitDuration |Время в секундах, по умолчанию — MaxValue |Временной диапазон в секундах. Максимальное время, в течение которого раздел может находиться в состоянии потери кворума. Если по истечении этого времени раздел по-прежнему находится в состоянии потери кворума, запускается операция восстановления после потери кворума, а отключенные реплики рассматриваются как потерянные. Обратите внимание, что это может привести к потере данных. |
| UserStandByReplicaKeepDuration |Время в секундах, значение по умолчанию — 3600.0 * 24 * 7 |Временной диапазон в секундах. Если реплика не восстанавливает работоспособность за определенное время, она уже заменена. Этот таймер определяет, как долго диспетчер отработки отказов сохраняет реплику, находящуюся в режиме ожидания, до ее удаления. |
| UserMaxStandByReplicaCount |Целое число, по умолчанию — 1 |Максимальное количество реплик, находящихся в режиме ожидания, по умолчанию, которые система хранит для пользовательских служб. |

### <a name="section-name-namingservice"></a>Имя раздела: NamingService
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| TargetReplicaSetSize |Целое число, по умолчанию — 7 |Количество наборов реплик для каждого раздела в хранилище службы именования. При увеличении числа наборов реплик повышается уровень надежности хранения данных в хранилище службы именования, а также снижается возможность их потери в случае сбоев узла. В свою очередь, при их увеличении повышается нагрузка на Windows Fabric и увеличивается время обновления данных именования.|
|MinReplicaSetSize | Целое число, по умолчанию — 3 | Минимальное количество реплик службы именования, необходимых для записи данных, чтобы завершить обновление. При наличии меньшего количества реплик система надежности отклоняет обновления в хранилище службы именования до восстановления реплик. Это значение никогда не должно быть больше значения TargetReplicaSetSize. |
|ReplicaRestartWaitDuration | Время в секундах, по умолчанию — (60.0 * 30)| Временной диапазон в секундах. Этот таймер запускается после сбоя реплики службы именования.  По истечении этого времени диспетчер отработки отказов начнет заменять реплики, которые не работают (они еще считается потерянными). |
|QuorumLossWaitDuration | Время в секундах, по умолчанию — MaxValue | Временной диапазон в секундах. Этот таймер запускается после потери кворума в службе именования.  По истечении этого времени диспетчер отработки отказов рассматривает отключенные реплики как потерянные и пытается восстановить кворум. Обратите внимание, что это может привести к потере данных. |
|StandByReplicaKeepDuration | Время в секундах, по умолчанию — 3600.0 * 2 | Временной диапазон в секундах. Если реплики службы именования не восстанавливают работоспособность за определенное время, происходит их замена.  Этот таймер определяет, как долго диспетчер отработки отказов сохраняет реплику, находящуюся в режиме ожидания, до ее удаления. |
|PlacementConstraints | Строка, значение по умолчанию — "" | Ограничение размещения для службы именования. |
|ServiceDescriptionCacheLimit | Целое число, по умолчанию — 0 | Максимальное количество записей в кэше для описания наиболее давно использовавшейся службы в хранилище службы именования (чтобы снять ограничения, задайте значение 0). |
|RepairInterval | Время в секундах, по умолчанию — 5 | Временной диапазон в секундах. Интервал времени, в течение которого запускается устранение несоответствия именования между владельцем имени и владельцем центра. |
|MaxNamingServiceHealthReports | Целое число, по умолчанию — 10 | Максимальное количество медленных операций, одновременно рассматриваемых хранилищем службы именования в качестве неработоспособных. Если значение равно 0, отправляются все медленные операции. |
| MaxMessageSize |Целое число, значение по умолчанию — 4*1024*1024. |Максимальный размер сообщения для обмена с узлом клиента при использовании именования. Снижает количество атак типа "отказ в обслуживании". По умолчанию — 4MB. |
| MaxFileOperationTimeout |Время в секундах, по умолчанию — 30. |Временной диапазон в секундах. Максимально допустимое время ожидания для операции службы хранилища файлов. Запросы с более долгим временем ожидания отклоняются. |
| MaxOperationTimeout |Время в секундах, по умолчанию — 600 |Временной диапазон в секундах. Максимально допустимое время ожидания для операций клиента. Запросы с более долгим временем ожидания отклоняются. |
| MaxClientConnections |Целое число, значение по умолчанию — 1000. |Максимально допустимое количество клиентских подключений на шлюз. |
| ServiceNotificationTimeout |Время в секундах, по умолчанию — 30. |Временной диапазон в секундах. Время ожидания, используемое при доставке уведомлений службы клиенту. |
| MaxOutstandingNotificationsPerClient |Целое число, значение по умолчанию — 1000. |Максимальное количество необработанных уведомлений до принудительного закрытия регистрации клиента шлюзом. |
| MaxIndexedEmptyPartitions |Целое число, значение по умолчанию — 1000. |Максимальное количество пустых секций, остающихся индексированными в кэше уведомлений для синхронизации повторного подключения клиентов. При превышении этого значения пустые разделы удаляются из индекса в порядке возрастания версии поиска. Подключенные повторно клиенты по-прежнему могут синхронизировать и получать обновления недостающих пустых разделов, но протокол синхронизации становится более затратным. |
| GatewayServiceDescriptionCacheLimit |Целое число, по умолчанию — 0 |Максимальное количество записей в кэше для описания наиболее давно использовавшейся службы в шлюзе службы именования (чтобы снять ограничения, задайте значение 0). |
| PartitionCount |Целое число, по умолчанию — 3 |Количество секций хранилища службы именования, которые нужно создать. Каждому разделу принадлежит один ключ раздела, соответствующий его индексу. Поэтому ключи разделов [0; PartitionCount) существуют. При увеличении количества секций службы именования увеличивается масштаб этой службы. Это связано с уменьшением среднего размера данных, хранимого в любом резервном наборе реплик. Однако это приводит к повышению затрат на использование ресурсов, так как необходимо обслуживать реплики службы (их количество равно числу секций, умноженному на размер набора реплик).|

### <a name="section-name-runas"></a>Имя раздела: RunAs
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| RunAsAccountName |Строка, значение по умолчанию — "" |Указывает имя учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser или ManagedServiceAccount. Допустимые значения: "domain\user" или "user@domain". |
|RunAsAccountType|Строка, значение по умолчанию — "" |Указывает тип учетной записи запуска от имени. Требуется для любого допустимого значения раздела RunAs (DomainUser, NetworkService, ManagedServiceAccount, LocalSystem).|
|RunAsPassword|Строка, значение по умолчанию — "" |Указывает пароль учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser. |

### <a name="section-name-runasfabric"></a>Имя раздела: RunAs_Fabric
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| RunAsAccountName |Строка, значение по умолчанию — "" |Указывает имя учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser или ManagedServiceAccount. Допустимые значения: "domain\user" или "user@domain". |
|RunAsAccountType|Строка, значение по умолчанию — "" |Указывает тип учетной записи запуска от имени. Требуется для любого допустимого значения раздела RunAs (LocalUser, DomainUser, NetworkService, ManagedServiceAccount, LocalSystem). |
|RunAsPassword|Строка, значение по умолчанию — "" |Указывает пароль учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser. |

### <a name="section-name-runashttpgateway"></a>Имя раздела: RunAs_HttpGateway
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| RunAsAccountName |Строка, значение по умолчанию — "" |Указывает имя учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser или ManagedServiceAccount. Допустимые значения: "domain\user" или "user@domain". |
|RunAsAccountType|Строка, значение по умолчанию — "" |Указывает тип учетной записи запуска от имени. Требуется для любого допустимого значения раздела RunAs (LocalUser, DomainUser, NetworkService, ManagedServiceAccount, LocalSystem). |
|RunAsPassword|Строка, значение по умолчанию — "" |Указывает пароль учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser. |

### <a name="section-name-runasdca"></a>Имя раздела: RunAs_DCA
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| RunAsAccountName |Строка, значение по умолчанию — "" |Указывает имя учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser или ManagedServiceAccount. Допустимые значения: "domain\user" или "user@domain". |
|RunAsAccountType|Строка, значение по умолчанию — "" |Указывает тип учетной записи запуска от имени. Требуется для любого допустимого значения раздела RunAs (LocalUser, DomainUser, NetworkService, ManagedServiceAccount, LocalSystem). |
|RunAsPassword|Строка, значение по умолчанию — "" |Указывает пароль учетной записи запуска от имени. Требуется только для учетной записи типа DomainUser. |

### <a name="section-name-httpgateway"></a>Имя раздела: HttpGateway
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
|IsEnabled|Логическое значение, по умолчанию — false | Включает или отключает шлюз HTTP. По умолчанию HTTP-шлюз отключен. Этот параметр позволяет включить его. |
|ActiveListeners |Целое число без знака, по умолчанию — 50 | Число операций чтения для размещения в очереди HTTP-сервера. Это определяет количество параллельных запросов, обрабатываемых HTTP-шлюзом. |
|MaxEntityBodySize |Целое число без знака, по умолчанию — 4194304 |  Определяет максимальный размер текста HTTP-запроса. По умолчанию — 4MB. Если размер текста превышает это значение, HTTP-шлюз отклонит запрос. Минимальный размер блока чтения составляет 4096 байт. Поэтому значение этого параметра должно быть больше 4096. |
|HttpGatewayHealthReportSendInterval |Время в секундах, по умолчанию — 30. | Временной диапазон в секундах. Интервал, с которым шлюз HTTP отправляет накопленные отчеты о работоспособности в диспетчер работоспособности. |

### <a name="section-name-ktllogger"></a>Имя раздела: KtlLogger
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
|AutomaticMemoryConfiguration |Целое число, по умолчанию — 1 | Флаг, указывающий, следует ли настраивать параметры памяти автоматически и динамически. Если этот параметр имеет значение 0, параметры конфигурации памяти используются напрямую и не изменяются в зависимости от состояния системы. Если этот параметр имеет значение 1, параметры памяти настраиваются автоматически, и их можно изменить в зависимости от состояния системы. |
|WriteBufferMemoryPoolMinimumInKB |Целое число, по умолчанию — 8388608 |Объем памяти (в КБ), изначально выделяемый пулу памяти в буфере записи. Значение 0 означает, что ограничения отсутствуют, а значение по умолчанию необходимо согласовать с параметром SharedLogSizeInMB (см. ниже). |
|WriteBufferMemoryPoolMaximumInKB | Целое число, по умолчанию — 0 |Размер (в КБ), до которого можно увеличить пул памяти в буфере записи. Значение 0 означает, что ограничения отсутствуют. |
|MaximumDestagingWriteOutstandingInKB | Целое число, по умолчанию — 0 | Размер (в КБ), до которого можно увеличить общий журнал в зависимости от размера выделенного журнала. Значение 0 означает, что ограничения отсутствуют.
|SharedLogPath |Строка, значение по умолчанию — "" | Имя файла и путь к расположению, где требуется разместить контейнер общего журнала. Укажите значение "", чтобы использовать расположение по умолчанию в корневой папке данных Service Fabric. |
|SharedLogId |Строка, значение по умолчанию — "" |Глобальный уникальный идентификатор контейнера общего журнала. Укажите значение "", если используется расположение по умолчанию в корневой папке данных Service Fabric. |
|SharedLogSizeInMB |Целое число, по умолчанию — 8192 | Размер (в МБ), выделяемый в контейнере общего журнала. |

### <a name="section-name-applicationgatewayhttp"></a>Имя раздела: ApplicationGateway/Http
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
|IsEnabled |Логическое значение, по умолчанию — false | Включает или отключает HTTP-шлюз приложения. По умолчанию HTTP-шлюз приложения отключен. Этот параметр позволяет включить его. |
|NumberOfParallelOperations | Целое число без знака, по умолчанию — 5000. | Число операций чтения для размещения в очереди HTTP-сервера. Это определяет количество параллельных запросов, обрабатываемых HTTP-шлюзом. |
|DefaultHttpRequestTimeout |Время в секундах, Значение по умолчанию — 120. |Временной диапазон в секундах.  Определяет время ожидания запроса по умолчанию для HTTP-запросов, обрабатываемых в HTTP-шлюзе приложения. |
|ResolveServiceBackoffInterval |Время в секундах, по умолчанию — 5 |Временной диапазон в секундах.  Определяет интервал отхода по умолчанию перед повторным выполнением служебной операции разрешения, завершившейся сбоем. |
|BodyChunkSize |Целое число без знака, по умолчанию — 16384 |  Определяет размер блока в байтах, используемого для чтения текста. |
|GatewayAuthCredentialType |Строка, значение по умолчанию — "None" | Указывает тип учетных данных, используемых для безопасного доступа к конечной точке HTTP-шлюза приложения. Допустимое значение: None/X509. |
|GatewayX509CertificateStoreName |Строка, значение по умолчанию — "My" | Имя хранилища сертификатов X.509, в котором содержится сертификат HTTP-шлюза приложения. |
|GatewayX509CertificateFindType |Строка, значение по умолчанию — "FindByThumbprint" | Указывает, как найти сертификат в хранилище с использованием поддерживаемых значений параметра GatewayX509CertificateStoreName (FindByThumbprint, FindBySubjectName). |
|GatewayX509CertificateFindValue | Строка, значение по умолчанию — "" | Значение фильтра поиска, используемое для поиска сертификата HTTP-шлюза приложения. Этот сертификат настроен в конечной точке HTTPS, и при необходимости может также использоваться для проверки удостоверения приложения в службах. Сначала выполняется поиск параметра FindValue, а если он отсутствует, — FindValueSecondary. |
|GatewayX509CertificateFindValueSecondary | Строка, значение по умолчанию — "" |Значение фильтра поиска, используемое для поиска сертификата HTTP-шлюза приложения. Этот сертификат настроен в конечной точке HTTPS, и при необходимости может также использоваться для проверки удостоверения приложения в службах. Сначала выполняется поиск параметра FindValue, а если он отсутствует, — FindValueSecondary.|

### <a name="section-name-management"></a>Имя раздела: Management
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| ImageStoreConnectionString |SecureString | Строка подключения к корневой папке хранилища образов. |
| ImageStoreMinimumTransferBPS | Целое число, по умолчанию — 1024 |Минимальная скорость передачи между кластером и хранилищем образов. Это значение не определяет время ожидания при доступе к внешнему хранилищу образов. Измените его только при высокой задержке между кластером и хранилищем образов. Это позволит выделить кластеру больше времени на скачивание из внешнего хранилища образов. |
|AzureStorageMaxWorkerThreads | Целое число, по умолчанию — 25 | Максимальное число параллельных рабочих потоков. |
|AzureStorageMaxConnections | Целое число, по умолчанию — 5000 | Максимальное число одновременных подключений к службе хранилища Azure. |
|AzureStorageOperationTimeout | Время в секундах, по умолчанию — 6000 | Временной диапазон в секундах. Время ожидания завершения операции xstore. |
|ImageCachingEnabled | Логическое значение, по умолчанию — true | Включает или отключает кэширование. |
|DisableChecksumValidation | Логическое значение, по умолчанию — false | Включает или отключает проверку контрольной суммы во время подготовки приложения. |
|DisableServerSideCopy | Логическое значение, по умолчанию — false | Включает или отключает серверное копирование пакета приложения в хранилище образов во время подготовки приложения. |

### <a name="section-name-healthmanagerclusterhealthpolicy"></a>Имя раздела: HealthManager/ClusterHealthPolicy
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| ConsiderWarningAsError |Логическое значение, по умолчанию — false |Политика оценки работоспособности кластера. Предупреждения обрабатываются как ошибки. |
| MaxPercentUnhealthyNodes | Целое число, по умолчанию — 0 |Политика оценки работоспособности кластера. Максимальный процент неработоспособных узлов, допустимый для поддержания работоспособности кластера. |
| MaxPercentUnhealthyApplications | Целое число, по умолчанию — 0 |Политика оценки работоспособности кластера. Максимальный процент неработоспособных приложений, допустимый для поддержания работоспособности кластера. |
|MaxPercentDeltaUnhealthyNodes | Целое число, по умолчанию — 10 |Политика оценки работоспособности кластера перед обновлением. Максимальный процент неработоспособных узлов Delta, допустимый для поддержания работоспособности кластера. |
|MaxPercentUpgradeDomainDeltaUnhealthyNodes | Целое число, по умолчанию — 15 |Политика оценки работоспособности кластера перед обновлением. Максимальный процент неработоспособных узлов Delta в домене обновления, допустимый для работоспособности кластера.|

### <a name="section-name-faultanalysisservice"></a>Имя раздела: FaultAnalysisService
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| TargetReplicaSetSize |Целое число, по умолчанию — 0 |NOT_PLATFORM_UNIX_START. Размер набора целевых реплик для службы анализа сбоев. |
| MinReplicaSetSize |Целое число, по умолчанию — 0 |Минимальный размер набора целевых реплик для службы анализа сбоев. |
| ReplicaRestartWaitDuration |Время в секундах, по умолчанию — 60 минут|Временной диапазон в секундах. Время ожидания перед повторным запуском репликации для службы анализа сбоев. |
| QuorumLossWaitDuration | Время в секундах, по умолчанию — MaxValue |Временной диапазон в секундах. Время ожидания после потери кворума для службы анализа сбоев. |
| StandByReplicaKeepDuration| Время в секундах, по умолчанию — (60*24*7) минут |Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для службы анализа сбоев. |
| PlacementConstraints | Строка, значение по умолчанию — ""| Ограничения на размещения для службы анализа сбоев. |
| StoredActionCleanupIntervalInSeconds | Целое число, по умолчанию — 3600 |Частота очистки хранилища.  Удаляются только действия в конечном состоянии и действия, достигнувшие значения параметра CompletedActionKeepDurationInSeconds. |
| CompletedActionKeepDurationInSeconds | Целое число, по умолчанию — 604800 | Примерное время хранения действий, достигнувших конечного состояния.  Это также зависит от параметра StoredActionCleanupIntervalInSeconds, так как в этот период выполняется только очистка. 604 800 секунд — это 7 дней. |
| StoredChaosEventCleanupIntervalInSeconds | Целое число, по умолчанию — 3600 |Частота проведения аудита хранилища для очистки. Если количество событий превышает 30 000, включается очистка. |

### <a name="section-name-filestoreservice"></a>Имя раздела: FileStoreService
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| NamingOperationTimeout |Время в секундах, по умолчанию — 60. |Временной диапазон в секундах. Время ожидания перед выполнением операции именования. |
| QueryOperationTimeout | Время в секундах, по умолчанию — 60. |Временной диапазон в секундах. Время ожидания перед выполнением операции запроса. |
| MaxCopyOperationThreads | Целое число без знака, по умолчанию — 0 | Максимальное количество файлов, которое одновременно может скопировать дополнительный репликатор из основного. 0 — число ядер. |
| MaxFileOperationThreads | Целое число без знака, по умолчанию — 100 | Максимальное число параллельных потоков, доступных для выполнения операций с файлами (копирование и перемещение) в основном репликаторе. 0 — число ядер. |
| MaxStoreOperations | Целое число без знака, по умолчанию — 4096 |Максимальное количество параллельных операций сохранения транзакций, доступных в основном репликаторе. 0 — число ядер. |
| MaxRequestProcessingThreads | Целое число без знака, по умолчанию — 200 |Максимальное число параллельных потоков, доступных для обработки запросов в основном репликаторе. 0 — число ядер. |
| MaxSecondaryFileCopyFailureThreshold | Целое число без знака, по умолчанию — 25| Максимальное количество повторных попыток копирования файлов в дополнительном репликаторе, при достижении которого их следует прекратить. |
| AnonymousAccessEnabled | Логическое значение, по умолчанию — true |Включение или отключение анонимного доступа к общим папкам службы хранилища файлов. |
| PrimaryAccountType | Строка, значение по умолчанию — "" |Тип основной учетной записи субъекта, используемый для внесения общих папок службы хранилища файлов (FileStoreService) в список управления доступом. |
| PrimaryAccountUserName | Строка, значение по умолчанию — "" |Имя пользователя основной учетной записи субъекта, используемое для внесения общих папок службы хранилища файлов в список управления доступом. |
| PrimaryAccountUserPassword | Защищенная строка, по умолчанию — пусто |Пароль основной учетной записи субъекта, используемый для внесения общих папок службы хранилища файлов в список управления доступом. |
| FileStoreService | PrimaryAccountNTLMPasswordSecret | Защищенная строка, по умолчанию — пусто | Секрет пароля, используемый в качестве начального для создания такого же пароля при использовании проверки подлинности NTLM. |
| PrimaryAccountNTLMX509StoreLocation | Строка, значение по умолчанию — "LocalMachine"| Расположение хранилища сертификатов X509, используемых для создания HMAC в секрете пароля основной учетной записи при использовании проверки подлинности NTLM. |
| PrimaryAccountNTLMX509StoreName | Строка, значение по умолчанию — "MY"| Имя хранилища сертификатов X509, используемых для создания HMAC в секрете пароля основной учетной записи при использовании проверки подлинности NTLM. |
| PrimaryAccountNTLMX509Thumbprint | Строка, значение по умолчанию — ""|Отпечаток хранилища сертификатов X509, используемых для создания HMAC в секрете пароля основной учетной записи при использовании проверки подлинности NTLM. |
| SecondaryAccountType | Строка, значение по умолчанию — ""| Тип дополнительной учетной записи субъекта, используемый для внесения общих папок службы хранилища файлов в список управления доступом. |
| SecondaryAccountUserName | Строка, значение по умолчанию — ""| Имя пользователя дополнительной учетной записи субъекта, используемое для внесения общих папок службы хранилища файлов в список управления доступом. |
| SecondaryAccountUserPassword | Защищенная строка, по умолчанию — пусто |Пароль дополнительной учетной записи субъекта, используемый для внесения общих папок службы хранилища файлов в список управления доступом.  |
| SecondaryAccountNTLMPasswordSecret | Защищенная строка, по умолчанию — пусто | Секрет пароля, используемый в качестве начального для создания такого же пароля при использовании проверки подлинности NTLM. |
| SecondaryAccountNTLMX509StoreLocation | Строка, значение по умолчанию — "LocalMachine" |Расположение хранилища сертификатов X509, используемых для создания HMAC в секрете пароля дополнительной учетной записи при использовании проверки подлинности NTLM. |
| SecondaryAccountNTLMX509StoreName | Строка, значение по умолчанию — "MY" |Имя хранилища сертификатов X509, используемых для создания HMAC в секрете пароля дополнительной учетной записи при использовании проверки подлинности NTLM. |
| SecondaryAccountNTLMX509Thumbprint | Строка, значение по умолчанию — ""| Отпечаток хранилища сертификатов X509, используемых для создания HMAC в секрете пароля дополнительной учетной записи при использовании проверки подлинности NTLM. |

### <a name="section-name-imagestoreservice"></a>Section Name: ImageStoreService
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| Включено |Логическое значение, по умолчанию — false |Включенный флаг для службы хранилища образов. |
| TargetReplicaSetSize | Целое число, по умолчанию — 7 |Размер набора целевых реплик для службы хранилища образов. |
| MinReplicaSetSize | Целое число, по умолчанию — 3 |Минимальный размер набора целевых реплик для службы хранилища образов. |
| ReplicaRestartWaitDuration | Время в секундах, по умолчанию — 60.0 * 30 | Временной диапазон в секундах. Время ожидания перед повторным запуском репликации для службы хранилища образов. |
| QuorumLossWaitDuration | Время в секундах, по умолчанию — MaxValue | Временной диапазон в секундах. Время ожидания после потери кворума для службы хранилища образов. |
| StandByReplicaKeepDuration | Время в секундах, по умолчанию — 3600.0 * 2 | Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для службы хранилища образов. |
| PlacementConstraints | Строка, значение по умолчанию — "" | Ограничения на размещения для службы хранилища образов. |
| ClientUploadTimeout | Время в секундах, по умолчанию — 1800 |Временной диапазон в секундах. Значение времени ожидания для запроса на передачу верхнего уровня в службу хранилища образов. |
| ClientCopyTimeout | Время в секундах, по умолчанию — 1800 | Временной диапазон в секундах. Значение времени ожидания для запроса на копирование верхнего уровня в службу хранилища образов. |
| ClientDownloadTimeout | Время в секундах, по умолчанию — 1800 | Временной диапазон в секундах. Значение времени ожидания для запроса на скачивание верхнего уровня в службу хранилища образов. |
| ClientListTimeout | Время в секундах, по умолчанию — 600 | Временной диапазон в секундах. Значение времени ожидания для запроса на список верхнего уровня в службу хранилища образов. |
| ClientDefaultTimeout | Время в секундах, по умолчанию — 180 | Временной диапазон в секундах. Значение времени ожидания для всех запросов, кроме запросов на передачу и скачивание, (например, запросов на удаление или существование) к службе хранилища образов. |

### <a name="section-name-imagestoreclient"></a>Имя раздела: ImageStoreClient
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| ClientUploadTimeout |Время в секундах, по умолчанию — 1800 | Временной диапазон в секундах. Значение времени ожидания для запроса на передачу верхнего уровня в службу хранилища образов. |
| ClientCopyTimeout | Время в секундах, по умолчанию — 1800 | Временной диапазон в секундах. Значение времени ожидания для запроса на копирование верхнего уровня в службу хранилища образов. |
|ClientDownloadTimeout | Время в секундах, по умолчанию — 1800 | Временной диапазон в секундах. Значение времени ожидания для запроса на скачивание верхнего уровня в службу хранилища образов. |
|ClientListTimeout | Время в секундах, по умолчанию — 600 |Временной диапазон в секундах. Значение времени ожидания для запроса на список верхнего уровня в службу хранилища образов. |
|ClientDefaultTimeout | Время в секундах, по умолчанию — 180 | Временной диапазон в секундах. Значение времени ожидания для всех запросов, кроме запросов на передачу и скачивание, (например, запросов на удаление или существование) к службе хранилища образов. |

### <a name="section-name-tokenvalidationservice"></a>Имя раздела: TokenValidationService
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| Поставщики |Строка, значение по умолчанию — "DSTS" |Разделенный запятыми список поставщиков проверки токенов, которых можно включить (допустимые поставщики: DSTS, AAD). Сейчас в любое время может быть включен только один поставщик. |

### <a name="section-name-upgradeorchestrationservice"></a>Имя раздела: UpgradeOrchestrationService
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| TargetReplicaSetSize |Целое число, по умолчанию — 0 |Размер набора целевых реплик для службы управления обновлениями. |
| MinReplicaSetSize |Целое число, по умолчанию — 0 | Минимальный размер набора целевых реплик для службы управления обновлениями.
| ReplicaRestartWaitDuration | Время в секундах, по умолчанию — 60 минут| Временной диапазон в секундах. Время ожидания перед повторным запуском репликации для службы управления обновлениями. |
| QuorumLossWaitDuration | Время в секундах, по умолчанию — MaxValue | Временной диапазон в секундах. Время ожидания после потери кворума для службы управления обновлениями. |
| StandByReplicaKeepDuration | Время в секундах, по умолчанию — 60*24*7 минут | Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для службы управления обновлениями. |
| PlacementConstraints | Строка, значение по умолчанию — "" | Ограничения на размещения для службы управления обновлениями. |
| AutoupgradeEnabled | Логическое значение, по умолчанию — true | Автоматический опрос и обновление на основе файла состояния цели. |
| UpgradeApprovalRequired | Логическое значение, по умолчанию — false | Определяет, следует ли требовать утверждения администратора для изменения кода. |

### <a name="section-name-upgradeservice"></a>Имя раздела: UpgradeService
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| PlacementConstraints |Строка, значение по умолчанию — "" |Ограничения на размещения для службы обновления. |
| TargetReplicaSetSize | Целое число, по умолчанию — 3 | Размер набора целевых реплик для службы обновления. |
| MinReplicaSetSize | Целое число, по умолчанию — 2 | Минимальный размер набора целевых реплик для службы обновления. |
| CoordinatorType | Строка, значение по умолчанию — "WUTest"| Тип координатора службы обновления. |
| BaseUrl | Строка, значение по умолчанию — "" |Базовый URL-адрес службы обновления. |
| ClusterId | Строка, значение по умолчанию — "" | Идентификатор кластера службы обновления. |
| X509StoreName | Строка, значение по умолчанию — "My"| Имя хранилища X509 службы обновления. |
| X509StoreLocation | Строка, значение по умолчанию — "" | Расположение хранилища X509 службы обновления. |
| X509FindType | Строка, значение по умолчанию — ""| Тип поиска сертификата X509 службы обновления. |
| X509FindValue | Строка, значение по умолчанию — "" | Значение поиска сертификата X509 службы обновления. |
| X509SecondaryFindValue | Строка, значение по умолчанию — "" | Дополнительное значение поиска сертификата X509 службы обновления. |
| OnlyBaseUpgrade | Логическое значение, по умолчанию — false | Только базовое обновление службы обновления. |
| TestCabFolder | Строка, значение по умолчанию — "" | Папка с CAB-файлом теста для службы обновления. |

### <a name="section-name-securityclientaccess"></a>Имя раздела: Security/ClientAccess
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| CreateName |Строка, значение по умолчанию — "Admin" |Настройка безопасности для создания универсального кода ресурса (URI) именования. |
| DeleteName |Строка, значение по умолчанию — "Admin" |Настройка безопасности для удаления универсального кода ресурса (URI) именования. |
| PropertyWriteBatch |Строка, значение по умолчанию — "Admin" |Настройка безопасности для операций записи свойств именования. |
| CreateService |Строка, значение по умолчанию — "Admin" | Настройка безопасности для создания службы. |
| CreateServiceFromTemplate |Строка, значение по умолчанию — "Admin" |Настройка безопасности для создания службы на основе шаблона. |
| UpdateService |Строка, значение по умолчанию — "Admin" |Настройка безопасности для обновлений службы. |
| DeleteService  |Строка, значение по умолчанию — "Admin" |Настройка безопасности для удаления службы. |
| ProvisionApplicationType |Строка, значение по умолчанию — "Admin" | Настройка безопасности для подготовки типа приложения. |
| CreateApplication |Строка, значение по умолчанию — "Admin" | Настройка безопасности для создания приложения. |
| DeleteApplication |Строка, значение по умолчанию — "Admin" | Настройка безопасности для удаления приложения. |
| UpgradeApplication |Строка, значение по умолчанию — "Admin" | Настройка безопасности для запуска или прерывания обновлений приложения. |
| RollbackApplicationUpgrade |Строка, значение по умолчанию — "Admin" | Настройка безопасности для отката обновлений приложения. |
| UnprovisionApplicationType |Строка, значение по умолчанию — "Admin" | Настройка безопасности для отмены подготовки типа приложения. |
| MoveNextUpgradeDomain |Строка, значение по умолчанию — "Admin" | Настройка безопасности для возобновления обновлений приложения с помощью явного домена обновления. |
| ReportUpgradeHealth |Строка, значение по умолчанию — "Admin" | Настройка безопасности для возобновления обновлений приложения с помощью текущего процесса обновления. |
| ReportHealth |Строка, значение по умолчанию — "Admin" | Настройка безопасности для отправки сведений о работоспособности. |
| ProvisionFabric |Строка, значение по умолчанию — "Admin" | Настройка безопасности для подготовки MSI и (или) манифеста кластера. |
| UpgradeFabric |Строка, значение по умолчанию — "Admin" | Настройка безопасности для запуска обновлений кластера. |
| RollbackFabricUpgrade |Строка, значение по умолчанию — "Admin" | Настройка безопасности для отката обновлений кластера. |
| UnprovisionFabric |Строка, значение по умолчанию — "Admin" | Настройка безопасности для отмены подготовки MSI и (или) манифеста кластера. |
| MoveNextFabricUpgradeDomain |Строка, значение по умолчанию — "Admin" | Настройка безопасности для возобновления обновлений кластера с помощью явного домена обновления. |
| ReportFabricUpgradeHealth |Строка, значение по умолчанию — "Admin" | Настройка безопасности для возобновления обновлений кластера с помощью текущего процесса обновления. |
| StartInfrastructureTask |Строка, значение по умолчанию — "Admin" | Настройка безопасности для запуска задач инфраструктуры. |
| FinishInfrastructureTask |Строка, значение по умолчанию — "Admin" | Настройка безопасности для завершения задач инфраструктуры. |
| ActivateNode |Строка, значение по умолчанию — "Admin" | Настройка безопасности для активации узла. |
| DeactivateNode |Строка, значение по умолчанию — "Admin" | Настройка безопасности для деактивации узла. |
| DeactivateNodesBatch |Строка, значение по умолчанию — "Admin" | Настройка безопасности для деактивации нескольких узлов. |
| RemoveNodeDeactivations |Строка, значение по умолчанию — "Admin" | Настройка безопасности для отмены деактивации нескольких узлов. |
| GetNodeDeactivationStatus |Строка, значение по умолчанию — "Admin" | Настройка безопасности для проверки состояния деактивации. |
| NodeStateRemoved |Строка, значение по умолчанию — "Admin" | Настройка безопасности для отправки сообщения об удалении узла. |
| RecoverPartition |Строка, значение по умолчанию — "Admin" | Настройка безопасности для восстановления раздела. |
| RecoverPartitions |Строка, значение по умолчанию — "Admin" | Настройка безопасности для восстановления разделов. |
| RecoverServicePartitions |Строка, значение по умолчанию — "Admin" | Настройка безопасности для восстановления разделов службы. |
| RecoverSystemPartitions |Строка, значение по умолчанию — "Admin" | Настройка безопасности для восстановления разделов системной службы. |
| ReportFault |Строка, значение по умолчанию — "Admin" | Настройка безопасности для отправки сообщения об ошибке. |
| InvokeInfrastructureCommand |Строка, значение по умолчанию — "Admin" | Настройка безопасности для команд управления задачами инфраструктуры. |
| FileContent |Строка, значение по умолчанию — "Admin" | Настройка безопасности для передачи клиентского файла хранилища образов (вне кластера). |
| FileDownload |Строка, значение по умолчанию — "Admin" | Настройка безопасности для инициации скачивания клиентского файла хранилища образов (вне кластера). |
| InternalList |Строка, значение по умолчанию — "Admin" | Настройка безопасности для операции вывода списка клиентских файлов хранилища образов (внутренняя). |
| Delete |Строка, значение по умолчанию — "Admin" | Настройка безопасности для операции удаления клиента хранилища образов. |
| Отправить |Строка, значение по умолчанию — "Admin" | Настройка безопасности для операции передачи клиента хранилища образов. |
| GetStagingLocation |Строка, значение по умолчанию — "Admin" | Настройка безопасности для получения промежуточного расположения клиента хранилища образов. |
| GetStoreLocation |Строка, значение по умолчанию — "Admin" | Настройка безопасности для получения расположения хранилища клиента хранилища образов. |
| NodeControl |Строка, значение по умолчанию — "Admin" | Настройка безопасности для запуска, остановки и перезапуска узлов. |
| CodePackageControl |Строка, значение по умолчанию — "Admin" | Настройка безопасности для перезапуска пакетов кода. |
| UnreliableTransportControl |Строка, значение по умолчанию — "Admin" | Ненадежный транспорт для добавления и удаления поведения. |
| MoveReplicaControl |Строка, значение по умолчанию — "Admin" | Перемещение реплики. |
| PredeployPackageToNode |Строка, значение по умолчанию — "Admin" | API предварительного развертывания. |
| StartPartitionDataLoss |Строка, значение по умолчанию — "Admin" | Приводит к потере данных в разделе. |
| StartPartitionQuorumLoss |Строка, значение по умолчанию — "Admin" | Приводит к потере кворума в разделе. |
| StartPartitionRestart |Строка, значение по умолчанию — "Admin" | Одновременно перезапускает некоторые или все реплики раздела. |
| CancelTestCommand |Строка, значение по умолчанию — "Admin" | Отменяет определенную тестовую команду, если она выполняется. |
| StartChaos |Строка, значение по умолчанию — "Admin" | Запускает Chaos, если он еще не запущен. |
| StopChaos |Строка, значение по умолчанию — "Admin" | Останавливает Chaos, если он уже запущен. |
| StartNodeTransition |Строка, значение по умолчанию — "Admin" | Настройка безопасности для запуска перехода узла. |
| StartClusterConfigurationUpgrade |Строка, значение по умолчанию — "Admin" | Вызывает обновление конфигурации запуска кластера в разделе. |
| GetUpgradesPendingApproval |Строка, значение по умолчанию — "Admin" | Приводит к ожиданию утверждения получения обновлений в разделе. |
| StartApprovedUpgrades |Строка, значение по умолчанию — "Admin" | Приводит к запуску утвержденных обновлений в разделе. |
| Проверка связи |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для проверок связи клиента. |
| Запрос |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для запросов. |
| NameExists |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для проверок существования универсального кода ресурса (URI) именования. |
| EnumerateSubnames |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для перечисления универсального кода ресурса (URI) именования. |
| EnumerateProperties |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для перечисления свойств именования. |
| PropertyReadBatch |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для операции чтения свойств именования. |
| GetServiceDescription |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для уведомлений служб с длительным временем опроса и чтение описаний служб. |
| ResolveService |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для разрешения служб на основе жалоб. |
| ResolveNameOwner |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для разрешения владельца универсального кода ресурса (URI) именования. |
| ResolvePartition |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для разрешения системных служб. |
| ServiceNotifications |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для уведомлений служб на основе событий. |
| PrefixResolveService |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для разрешения префикса служб на основе жалоб. |
| GetUpgradeStatus |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для опроса состояния обновления приложения. |
| GetFabricUpgradeStatus |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для опроса состояния обновления кластера. |
| InvokeInfrastructureQuery |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для запроса задач инфраструктуры. |
| список |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для операции вывода списка клиентских файлов хранилища образов. |
| ResetPartitionLoad |Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для сброса нагрузки на единицу отработки отказа. |
| ToggleVerboseServicePlacementHealthReporting | Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для включения и выключения подробных отчетов о работоспособности размещения службы. |
| GetPartitionDataLossProgress | Строка, значение по умолчанию — "Admin\|\|User" | Получает сведения о ходе выполнения вызова API потери данных. |
| GetPartitionQuorumLossProgress | Строка, значение по умолчанию — "Admin\|\|User" | Получает сведения о ходе выполнения вызова API потери кворума. |
| GetPartitionRestartProgress | Строка, значение по умолчанию — "Admin\|\|User" | Получает сведения о ходе выполнения вызова API перезапуска раздела. |
| GetChaosReport | Строка, значение по умолчанию — "Admin\|\|User" | Получает сведения о состоянии Chaos в определенный диапазон времени. |
| GetNodeTransitionProgress | Строка, значение по умолчанию — "Admin\|\|User" | Настройка безопасности для получения сведений о ходе выполнения команды перехода узла. |
| GetClusterConfigurationUpgradeStatus | Строка, значение по умолчанию — "Admin\|\|User" | Вызывает получение сведений о состоянии обновления конфигурации кластера в разделе. |
| GetClusterConfiguration | Строка, значение по умолчанию — "Admin\|\|User" | Вызывает получение конфигурации кластера в разделе. |

### <a name="section-name-reconfigurationagent"></a>Имя раздела: ReconfigurationAgent
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| ApplicationUpgradeMaxReplicaCloseDuration | Время в секундах, по умолчанию — 900 |Временной диапазон в секундах. Период ожидания, по завершении которого система прекратит действие узлов службы, имеющих реплики, которые не удается закрыть. |
| ServiceApiHealthDuration | Время в секундах, по умолчанию — 30 минут | Временной диапазон в секундах. Этот параметр определяет период времени, по истечении которого API службы рассматривается как неработоспособный. |
| ServiceReconfigurationApiHealthDuration | Время в секундах, по умолчанию — 30. | Временной диапазон в секундах. Этот параметр определяет период времени, по истечении которого система, находящаяся в состоянии перенастройки, рассматривается как неработоспособная. |
| PeriodicApiSlowTraceInterval | Время в секундах, по умолчанию — 5 минут | Временной диапазон в секундах. Этот параметр определяет интервал повторной трассировки монитором API медленных вызовов API. |
| NodeDeactivationMaxReplicaCloseDuration | Время в секундах, по умолчанию — 900 | Временной диапазон в секундах. Максимальное время ожидания перед прекращением работы узла службы, блокирующего деактивацию узла. |
| FabricUpgradeMaxReplicaCloseDuration | Время в секундах, по умолчанию — 900 | Временной диапазон в секундах. Максимальное время ожидания агента перенастройки перед прекращением работы узла службы реплики, которую не удается закрыть. |
| IsDeactivationInfoEnabled | Логическое значение, по умолчанию — true | Определяет, будет ли агент перенастройки использовать сведения о деактивации для перевыбора основного репликатора. В конфигурации новых кластеров этот параметр должен иметь значение true. Дополнительные сведения о включении этой конфигурации для обновленных кластеров см. в заметках о выпуске. |

### <a name="section-name-placementandloadbalancing"></a>Имя раздела: PlacementAndLoadBalancing
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| TraceCRMReasons |Логическое значение, по умолчанию — true |Определяет, следует ли выполнять трассировку причин перемещений, вызванных CRM, в канал операционных событий. |
| ValidatePlacementConstraint | Логическое значение, по умолчанию — true | Указывает, проверяется ли выражение ограничения размещения для службы при обновлении описания службы. |
| PlacementConstraintValidationCacheSize | Целое число, по умолчанию — 10 000 | Ограничивает размер таблицы, используемой для быстрой проверки и кэширования выражений ограничения размещения. |
|VerboseHealthReportLimit | Целое число, по умолчанию — 20 | Определяет количество неудачных попыток размещения реплики перед созданием предупреждения о работоспособности (если подробные отчеты о работоспособности включены). |
|ConstraintViolationHealthReportLimit | Целое число, по умолчанию — 50 | Определяет количество допустимых нарушений ограничений репликой до проведения диагностики и создания отчетов о работоспособности. |
|DetailedConstraintViolationHealthReportLimit | Целое число, по умолчанию — 200 | Определяет количество допустимых нарушений ограничений репликой до проведения диагностики и создания подробных отчетов о работоспособности. |
|DetailedVerboseHealthReportLimit | Целое число, по умолчанию — 200 | Определяет количество повторных попыток размещения неразмещенной реплики до создания подробных отчетов о работоспособности. |
|ConsecutiveDroppedMovementsHealthReportLimit | Целое число, по умолчанию — 20 | Определяет число последовательных сбоев перемещений, вызванных балансировщиком ресурсов, до проведения диагностики и создания предупреждений о работоспособности. При использовании отрицательного значения предупреждения не создаются. |
|DetailedNodeListLimit | Целое число, по умолчанию — 15 | Определяет количество узлов на ограничение, которые необходимо добавить в отчеты о неразмещенных репликах перед усечением. |
|DetailedPartitionListLimit | Целое число, по умолчанию — 15 | Определяет количество разделов на запись диагностики для ограничения, которые необходимо добавить в журнал диагностики перед усечением. |
|DetailedDiagnosticsInfoListLimit | Целое число, по умолчанию — 15 | Определяет количество записей диагностики (с подробными сведениями) на ограничение, которые необходимо добавить в журнал диагностики перед усечением.|
|PLBRefreshGap | Время в секундах, по умолчанию — 1 | Временной диапазон в секундах. Определяет минимальное количество времени до обновления состояния балансировщиком нагрузки и размещения. |
|MinPlacementInterval | Время в секундах, по умолчанию — 1 | Временной диапазон в секундах. Определяет минимальное количество времени до выполнения двух последовательных размещений. |
|MinConstraintCheckInterval | Время в секундах, по умолчанию — 1 | Временной диапазон в секундах. Определяет минимальное количество времени до выполнения двух последовательных проверок ограничений. |
|MinLoadBalancingInterval | Время в секундах, по умолчанию — 5 | Временной диапазон в секундах. Определяет минимальное количество времени до выполнения двух последовательных балансировок. |
|BalancingDelayAfterNodeDown | Время в секундах, по умолчанию — 120 |Временной диапазон в секундах. Не запускайте процессы балансировки в течение этого периода после события сбоя узла. |
|BalancingDelayAfterNewNode | Время в секундах, по умолчанию — 120 |Временной диапазон в секундах. Не запускайте процессы балансировки в течение этого периода после события добавления нового узла. |
|ConstraintFixPartialDelayAfterNodeDown | Время в секундах, по умолчанию — 120 | Временной диапазон в секундах. Не исправляйте нарушения ограничений домена сбоя и домена обновления в течение этого периода после события сбоя узла. |
|ConstraintFixPartialDelayAfterNewNode | Время в секундах, по умолчанию — 120 | Временной диапазон в секундах. Не исправляйте нарушения ограничений домена сбоя и домена обновления в течение этого периода после события добавления нового узла. |
|GlobalMovementThrottleThreshold | Целое число без знака, по умолчанию — 1000 | Максимально допустимое число перемещений на этапе балансировки за последний интервал, указанный в параметре GlobalMovementThrottleCountingInterval. |
|GlobalMovementThrottleThresholdForPlacement | Целое число без знака, по умолчанию — 0 | Максимально допустимое число перемещений на этапе размещения за последний интервал, указанный в параметре GlobalMovementThrottleCountingInterval. Значение 0 означает, что ограничения отсутствуют.|
|GlobalMovementThrottleThresholdForBalancing | Целое число без знака, по умолчанию — 0 | Максимально допустимое число перемещений на этапе балансировки за последний интервал, указанный в параметре GlobalMovementThrottleCountingInterval. Значение 0 означает, что ограничения отсутствуют. |
|GlobalMovementThrottleCountingInterval | Время в секундах, по умолчанию — 600 | Временной диапазон в секундах. Указывает продолжительность последнего интервала, для которого нужно отследить перемещение реплик каждого домена (используется с параметром GlobalMovementThrottleThreshold). Значение 0 позволяет полностью игнорировать глобальное регулирование. |
|MovementPerPartitionThrottleThreshold | Целое число без знака, по умолчанию — 50 | Если количество перемещений, связанных с балансировкой, достигает значения MovementPerFailoverUnitThrottleThreshold за последний интервал, указанный в параметре MovementPerPartitionThrottleCountingInterval, или превышает его, это перемещение раздела не выполняется. |
|MovementPerPartitionThrottleCountingInterval | Время в секундах, по умолчанию — 600 | Временной диапазон в секундах. Указывает продолжительность последнего интервала, для которого нужно отслеживать перемещение реплик каждого раздела (используется с параметром MovementPerPartitionThrottleThreshold). |
|PlacementSearchTimeout | Время в секундах, по умолчанию — 0.5 | Временной диапазон в секундах. При размещении служб поиск выполняется по крайней мере в течение такого промежутка времени перед возвращением результата. |
|UseMoveCostReports | Логическое значение, по умолчанию — false | Указывает балансировщику нагрузки игнорировать элемент затрат функции вычисления, в результате чего увеличивается число перемещений и улучшается балансировка размещения. |
|PreventTransientOvercommit | Логическое значение, по умолчанию — false | Определяет, должен ли PLB сразу же использовать ресурсы, освобожденные при перемещениях. По умолчанию PLB может инициировать перемещение на том же узле, что может стать причиной его временной перегрузки. Чтобы избежать такого типа перегрузок и отключить дефрагментацию по запросу (placementWithMove), задайте для этого параметра значение true. |
|InBuildThrottlingEnabled | Логическое значение, по умолчанию — false | Определяет, включено ли встроенное регулирование. |
|InBuildThrottlingAssociatedMetric | Строка, значение по умолчанию — "" | Имя метрики, связанной с этим регулированием. |
|InBuildThrottlingGlobalMaxValue | Целое число, по умолчанию — 0 |Максимальное число встроенных реплик, допустимое глобально. |
|SwapPrimaryThrottlingEnabled | Логическое значение, по умолчанию — false| Определяет, включено ли регулирование замены основного репликатора. |
|SwapPrimaryThrottlingAssociatedMetric | Строка, значение по умолчанию — ""| Имя метрики, связанной с этим регулированием. |
|SwapPrimaryThrottlingGlobalMaxValue | Целое число, по умолчанию — 0 | Максимальное число реплик замены основного репликатора, допустимое глобально. |
|PlacementConstraintPriority | Целое число, по умолчанию — 0 | Определяет приоритет ограничения на размещение: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|PreferredLocationConstraintPriority | Целое число, по умолчанию — 2| Определяет приоритет ограничения на предпочтительное расположение: 0 — строгое ограничение, 1 — мягкое ограничение, 2 — оптимизация, отрицательное значение — ограничение игнорируется. |
|CapacityConstraintPriority | Целое число, по умолчанию — 0 | Определяет приоритет ограничения емкости: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|AffinityConstraintPriority | Целое число, по умолчанию — 0 | Определяет приоритет ограничения сходства: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|FaultDomainConstraintPriority | Целое число, по умолчанию — 0 | Определяет приоритет ограничения домена сбоя: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|UpgradeDomainConstraintPriority | Целое число, по умолчанию — 1| Определяет приоритет ограничения домена обновления: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|ScaleoutCountConstraintPriority | Целое число, по умолчанию — 0 | Определяет приоритет ограничения на количество масштабирований: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|ApplicationCapacityConstraintPriority | Целое число, по умолчанию — 0 | Определяет приоритет ограничения емкости: 0 — строгое ограничение, 1 — мягкое ограничение, отрицательное значение — ограничение игнорируется. |
|MoveParentToFixAffinityViolation | Логическое значение, по умолчанию — false | Определяет, можно ли переместить родительские реплики, чтобы устранить нарушения ограничений сходства.|
|MoveExistingReplicaForPlacement | Логическое значение, по умолчанию — true |Определяет, можно ли переместить имеющуюся реплику во время размещения. |
|UseSeparateSecondaryLoad | Логическое значение, по умолчанию — true | Определяет, можно ли использовать другую вторичную нагрузку. |
|PlaceChildWithoutParent | Логическое значение, по умолчанию — true | Определяет, можно ли разместить дочернюю реплику службы до размещения родительской реплики. |
|PartiallyPlaceServices | Логическое значение, по умолчанию — true | Определяет, будут ли полностью размещены все реплики службы в кластере и будут ли им выделены подходящие узлы.|
|InterruptBalancingForAllFailoverUnitUpdates | Логическое значение, по умолчанию — false | Определяет, прерывает ли любой тип обновления единицы отработки отказа быстрое или медленное выполнение балансировки. Если указать для этого параметра значение false, выполнение балансировки прерывается при создании или удалении единицы отработки отказа, изменении расположения основной реплики или изменении количества реплик. Если единица отработки отказа имеет лишние реплики, изменился флаг реплики или изменилась только версия раздела (и еще в некоторых случаях), выполнение балансировки не прерывается. |

### <a name="section-name-security"></a>Имя раздела: Security
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| ClusterProtectionLevel |None или EncryptAndSign. |None (по умолчанию) для незащищенных кластеров, EncryptAndSign для защищенных кластеров. |

### <a name="section-name-hosting"></a>Имя раздела: Hosting
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| ServiceTypeRegistrationTimeout |Время в секундах, по умолчанию — 300. |Максимальное время, отводимое на регистрацию ServiceType в структуре. |
| ServiceTypeDisableFailureThreshold |Целое число, по умолчанию — 1. |Это пороговое количество сбоев, по достижении которого диспетчер отработки отказов (FailoverManager) будет уведомлен о необходимости отключить тип службы на этом узле и попытаться использовать для размещения другой узел. |
| ActivationRetryBackoffInterval |Время в секундах, по умолчанию — 5. |Интервал отхода при каждом сбое активации. При каждом постоянном сбое активации система повторяет попытки активации, пока их количество не достигнет значения MaxActivationFailureCount. Интервал повтора при каждой попытке является произведением числа постоянных сбоев активации и интервала отхода активации. |
| ActivationMaxRetryInterval |Время в секундах, по умолчанию — 300. |При каждом постоянном сбое активации система повторяет попытки активации, пока их число не достигнет значения ActivationMaxFailureCount. ActivationMaxRetryInterval задает интервал времени ожидания перед повторной попыткой, осуществляемой после каждого сбоя активации. |
| ActivationMaxFailureCount |Целое число, по умолчанию — 10. |Количество неудачных попыток системы выполнить активацию, после которого их следует прекратить. |

### <a name="section-name-failovermanager"></a>Имя раздела: FailoverManager
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| PeriodicLoadPersistInterval |Время в секундах, по умолчанию — 10. |Этот параметр определяет частоту проверки диспетчером отработки отказов наличия новых отчетов о нагрузке. |

### <a name="section-name-federation"></a>Имя раздела: Federation
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| LeaseDuration |Время в секундах, по умолчанию — 30. |Длительность аренды между узлом и его соседями. |
| LeaseDurationAcrossFaultDomain |Время в секундах, по умолчанию — 30. |Длительность аренды между узлом и его соседями в доменах сбоя. |

### <a name="section-name-clustermanager"></a>Имя раздела: ClusterManager
| **Параметр** | **Допустимые значения** | **Рекомендация или краткое описание** |
| --- | --- | --- |
| UpgradeStatusPollInterval |Время в секундах, по умолчанию — 60. |Частота опроса состояния обновления приложения. Это значение определяет частоту обновления любого вызова GetApplicationUpgradeProgress. |
| UpgradeHealthCheckInterval |Время в секундах, по умолчанию — 60. |Частота проверок работоспособности во время обновления наблюдаемых приложений. |
| FabricUpgradeStatusPollInterval |Время в секундах, по умолчанию — 60. |Частота опроса состояния обновления структуры. Это значение определяет частоту обновления любого вызова GetFabricUpgradeProgress. |
| FabricUpgradeHealthCheckInterval |Время в секундах, по умолчанию — 60. |Частота проверок работоспособности во время обновления наблюдаемой структуры. |
|InfrastructureTaskProcessingInterval | Время в секундах, по умолчанию — 10. |Временной диапазон в секундах. Интервал обработки, используемый задачей инфраструктуры для обработки состояния компьютера. |
|TargetReplicaSetSize |Целое число, по умолчанию — 7 |Размер набора целевых реплик для диспетчера кластеров. |
|MinReplicaSetSize |Целое число, по умолчанию — 3 |Минимальный размер набора целевых реплик для диспетчера кластеров. |
|ReplicaRestartWaitDuration |Время в секундах, по умолчанию — (60.0 * 30)|Временной диапазон в секундах. Время ожидания перед повторным запуском репликации для диспетчера кластеров. |
|QuorumLossWaitDuration |Время в секундах, по умолчанию — MaxValue | Временной диапазон в секундах. Время ожидания после потери кворума для диспетчера кластеров. |
|StandByReplicaKeepDuration | Время в секундах, по умолчанию — (3600.0 * 2)|Временной диапазон в секундах. Время хранения реплики, находящейся в режиме ожидания, для диспетчера кластеров. |
|PlacementConstraints | Строка, значение по умолчанию — "" |Ограничения на размещения для диспетчера кластеров. |
|SkipRollbackUpdateDefaultService | Логическое значение, по умолчанию — false |CM пропускает возврат обновленных служб по умолчанию во время отката обновления приложения. |
|EnableDefaultServicesUpgrade | Логическое значение, по умолчанию — false |Включает обновление служб по умолчанию во время обновления приложения. После обновления описания служб по умолчанию будут перезаписаны. |
|InfrastructureTaskHealthCheckWaitDuration |Время в секундах, по умолчанию — 0| Временной диапазон в секундах. Время ожидания перед началом проверок работоспособности после постобработки задачи инфраструктуры. |
|InfrastructureTaskHealthCheckStableDuration | Время в секундах, по умолчанию — 0| Временной диапазон в секундах. Промежуток времени для отслеживания последовательно переданных проверок работоспособности перед успешным завершением постобработки задачи инфраструктуры. При обнаружении неудачной проверки работоспособности таймер сбрасывается. |
|InfrastructureTaskHealthCheckRetryTimeout | Время в секундах, по умолчанию — 60. |Временной диапазон в секундах. Промежуток времени для повторного выполнения неудачных проверок работоспособности во время постобработки задачи инфраструктуры. При просмотре переданной проверки работоспособности таймер сбрасывается. |
|ImageBuilderTimeoutBuffer |Время в секундах, по умолчанию — 3 |Временной диапазон в секундах. Промежуток времени для возвращения клиенту ошибок Image Builder, связанных с временем ожидания. Если буфер слишком мал, время ожидания клиента истекает до завершения проверки подлинности на сервере, и отправляется общая ошибка, связанная с временем ожидания. |
|MinOperationTimeout | Время в секундах, по умолчанию — 60. |Временной диапазон в секундах. Минимальное глобальное время ожидания для внутренней обработки операций в диспетчере кластеров. |
|MaxOperationTimeout |Время в секундах, по умолчанию — MaxValue | Временной диапазон в секундах. Максимальное глобальное время ожидания для внутренней обработки операций в диспетчере кластеров. |
|MaxTimeoutRetryBuffer | Время в секундах, по умолчанию — 600 |Временной диапазон в секундах. Максимальное время ожидания операции, если повторное выполнение из-за времени ожидания, вычисляется по следующей формуле: <Original Timeout> + <MaxTimeoutRetryBuffer>. Дополнительное время ожидания добавляется с шагом в значение параметра MinOperationTimeout. |
|MaxCommunicationTimeout |Время в секундах, по умолчанию — 600 |Временной диапазон в секундах. Максимальное время ожидания для внутреннего взаимодействия между диспетчером кластеров и другими системными службами (например, служба именования, диспетчер отработки отказов и т. д.). Это время ожидания должно быть меньше глобального значения MaxOperationTimeout (так как между системными компонентами каждой операции клиента может быть несколько взаимодействий). |
|MaxDataMigrationTimeout |Время в секундах, по умолчанию — 600 |Временной диапазон в секундах. Максимальное время ожидания для операции восстановления переноса данных после обновления Fabric. |
|MaxOperationRetryDelay |Время в секундах, по умолчанию — 5| Временной диапазон в секундах. Максимальная задержка для внутренних повторных попыток при возникновении ошибок. |
|ReplicaSetCheckTimeoutRollbackOverride |Время в секундах, по умолчанию — 1200 | Временной диапазон в секундах. Если для параметра ReplicaSetCheckTimeout задано максимальное значение DWORD, оно переопределяется значением этой конфигурации для отката. Значение, используемое для наката, никогда не переопределяется. |
|ImageBuilderJobQueueThrottle |Целое число, по умолчанию — 10 |Регулирование количества потоков для очереди заданий прокси Image Builder в запросах к приложению. |

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения об управлении кластерами доступны в следующих статьях.

[Добавление, смена и удаление сертификатов в кластере Azure ](service-fabric-cluster-security-update-certs-azure.md) 

