---
title: "Наблюдение за aaaHealth в Service Fabric | Документы Microsoft"
description: "Введение toohello Azure Service Fabric наблюдения за работоспособностью модель, которая обеспечивает наблюдение за hello кластера, приложениями и службами."
services: service-fabric
documentationcenter: .net
author: oanapl
manager: timlt
editor: 
ms.assetid: 1d979210-b1eb-4022-be24-799fd9d8e003
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/19/2017
ms.author: oanapl
ms.openlocfilehash: 904f36374ca6ca7e4caa1d43c92584e7e4c50087
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="introduction-tooservice-fabric-health-monitoring"></a><span data-ttu-id="fcb44-103">Мониторинг работоспособности введение tooService структуры</span><span class="sxs-lookup"><span data-stu-id="fcb44-103">Introduction tooService Fabric health monitoring</span></span>
<span data-ttu-id="fcb44-104">В платформе Azure Service Fabric используется модель работоспособности c широкими и гибкими возможностями оценки работоспособности и создания отчетов,</span><span class="sxs-lookup"><span data-stu-id="fcb44-104">Azure Service Fabric introduces a health model that provides rich, flexible, and extensible health evaluation and reporting.</span></span> <span data-ttu-id="fcb44-105">модель Hello компонент обеспечивает наблюдение за рядом реального времени hello состояния служб кластеров hello и hello в нем.</span><span class="sxs-lookup"><span data-stu-id="fcb44-105">hello model allows near-real-time monitoring of hello state of hello cluster and hello services running in it.</span></span> <span data-ttu-id="fcb44-106">Вы можете легко получать сведения о работоспособности и устранять потенциальные проблемы, прежде чем они приведут к серьезным перебоям в работе.</span><span class="sxs-lookup"><span data-stu-id="fcb44-106">You can easily obtain health information and correct potential issues before they cascade and cause massive outages.</span></span> <span data-ttu-id="fcb44-107">В обычной модели hello службы отправлять отчеты на основе своих локальных представлений и сведения, статистическая обработка tooprovide кластера общего уровня представления.</span><span class="sxs-lookup"><span data-stu-id="fcb44-107">In hello typical model, services send reports based on their local views, and that information is aggregated tooprovide an overall cluster-level view.</span></span>

<span data-ttu-id="fcb44-108">Компоненты Service Fabric используют этот tooreport модели работоспособности широкие возможности их текущее состояние.</span><span class="sxs-lookup"><span data-stu-id="fcb44-108">Service Fabric components use this rich health model tooreport their current state.</span></span> <span data-ttu-id="fcb44-109">Можно использовать hello же работоспособности tooreport механизм из приложений.</span><span class="sxs-lookup"><span data-stu-id="fcb44-109">You can use hello same mechanism tooreport health from your applications.</span></span> <span data-ttu-id="fcb44-110">Приложив усилия к созданию качественного механизма, генерирующего отчеты о состоянии работоспособности компонентов среды, вы сможете более эффективно обнаруживать и исправлять проблемы в своих приложениях.</span><span class="sxs-lookup"><span data-stu-id="fcb44-110">If you invest in high-quality health reporting that captures your custom conditions, you can detect and fix issues for your running application much more easily.</span></span>

<span data-ttu-id="fcb44-111">Hello следующие Microsoft Virtual Academy видео также описывает модель работоспособности Service Fabric hello и как она используется:<center><a target="_blank" href="https://mva.microsoft.com/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tevZw56yC_1906218965">
<img src="./media/service-fabric-health-introduction/HealthIntroVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="fcb44-111">hello following Microsoft Virtual Academy video also describes hello Service Fabric health model and how it's used: <center><a target="_blank" href="https://mva.microsoft.com/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tevZw56yC_1906218965">
<img src="./media/service-fabric-health-introduction/HealthIntroVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

> [!NOTE]
> <span data-ttu-id="fcb44-112">Мы запустили hello работоспособности подсистемы tooaddress потребность в отслеживаемых обновлений.</span><span class="sxs-lookup"><span data-stu-id="fcb44-112">We started hello health subsystem tooaddress a need for monitored upgrades.</span></span> <span data-ttu-id="fcb44-113">Service Fabric предоставляет отслеживаемых обновлений приложений и кластером, обеспечивающими полной доступности, не время простоя и минимальными toono вмешательства пользователя.</span><span class="sxs-lookup"><span data-stu-id="fcb44-113">Service Fabric provides monitored application and cluster upgrades that ensure full availability, no downtime and minimal toono user intervention.</span></span> <span data-ttu-id="fcb44-114">Эти цели hello обновления проверяется состояние на основе tooachieve настроили обновления политики.</span><span class="sxs-lookup"><span data-stu-id="fcb44-114">tooachieve these goals, hello upgrade checks health based on configured upgrade policies.</span></span> <span data-ttu-id="fcb44-115">Обновление может быть продолжено только в том случае, если соблюдены требуемые пороги работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-115">An upgrade can proceed only when health respects desired thresholds.</span></span> <span data-ttu-id="fcb44-116">В противном случае обновления hello либо откатывается автоматически или приостановлена Администраторы toogive вероятность toofix hello проблемы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-116">Otherwise, hello upgrade is either automatically rolled back or paused toogive administrators a chance toofix hello issues.</span></span> <span data-ttu-id="fcb44-117">toolearn Дополнительные сведения о обновлений приложений. в разделе [в этой статье](service-fabric-application-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="fcb44-117">toolearn more about application upgrades, see [this article](service-fabric-application-upgrade.md).</span></span>
> 
> 

## <a name="health-store"></a><span data-ttu-id="fcb44-118">Хранилище данных о работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-118">Health store</span></span>
<span data-ttu-id="fcb44-119">хранилище работоспособности Hello ведет здоровья сведения о сущностях в кластере hello для облегчения поиска и оценки.</span><span class="sxs-lookup"><span data-stu-id="fcb44-119">hello health store keeps health-related information about entities in hello cluster for easy retrieval and evaluation.</span></span> <span data-ttu-id="fcb44-120">Оно реализовано Service Fabric постоянное службы с отслеживанием состояния tooensure высокой доступности и масштабируемости.</span><span class="sxs-lookup"><span data-stu-id="fcb44-120">It is implemented as a Service Fabric persisted stateful service tooensure high availability and scalability.</span></span> <span data-ttu-id="fcb44-121">Hello хранилища работоспособности является частью hello **fabric: / System** приложения, который при hello кластер работает и запущены.</span><span class="sxs-lookup"><span data-stu-id="fcb44-121">hello health store is part of hello **fabric:/System** application, and it is available when hello cluster is up and running.</span></span>

## <a name="health-entities-and-hierarchy"></a><span data-ttu-id="fcb44-122">Сущности и иерархия работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-122">Health entities and hierarchy</span></span>
<span data-ttu-id="fcb44-123">работоспособные сущности Hello организованы в логические иерархию, которая захватывает взаимодействия и зависимости между различными организациями.</span><span class="sxs-lookup"><span data-stu-id="fcb44-123">hello health entities are organized in a logical hierarchy that captures interactions and dependencies among different entities.</span></span> <span data-ttu-id="fcb44-124">базе данных health store Hello автоматически строит работоспособные сущности и иерархии, основанной на отчеты, полученные от компонентов Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="fcb44-124">hello health store automatically builds health entities and hierarchy based on reports received from Service Fabric components.</span></span>

<span data-ttu-id="fcb44-125">работоспособные сущности Hello зеркало hello Service Fabric сущностей.</span><span class="sxs-lookup"><span data-stu-id="fcb44-125">hello health entities mirror hello Service Fabric entities.</span></span> <span data-ttu-id="fcb44-126">(Например, **сущность работоспособности приложения** соответствует экземпляр приложения развернуто в кластере hello, тогда как **сущности работоспособности узла** соответствует узле кластера Service Fabric.) захватывает иерархии работоспособности hello взаимодействие между Hello hello системными объектами и он является основой hello для оценки работоспособности Дополнительно.</span><span class="sxs-lookup"><span data-stu-id="fcb44-126">(For example, **health application entity** matches an application instance deployed in hello cluster, while **health node entity** matches a Service Fabric cluster node.) hello health hierarchy captures hello interactions of hello system entities, and it is hello basis for advanced health evaluation.</span></span> <span data-ttu-id="fcb44-127">Дополнительные сведения о ключевых понятиях Service Fabric см. в статье [Технический обзор Service Fabric](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fcb44-127">You can learn about key Service Fabric concepts in [Service Fabric technical overview](service-fabric-technical-overview.md).</span></span> <span data-ttu-id="fcb44-128">Дополнительные сведения о приложениях см. в статье [Модель приложения Service Fabric](service-fabric-application-model.md).</span><span class="sxs-lookup"><span data-stu-id="fcb44-128">For more on application, see [Service Fabric application model](service-fabric-application-model.md).</span></span>

<span data-ttu-id="fcb44-129">Hello работоспособные сущности и иерархии позволяют hello toobe кластеров и приложения эффективно сообщила, отладки и отслеживать.</span><span class="sxs-lookup"><span data-stu-id="fcb44-129">hello health entities and hierarchy allow hello cluster and applications toobe effectively reported, debugged, and monitored.</span></span> <span data-ttu-id="fcb44-130">Модель работоспособности Hello обеспечивает точный, *детальные* представление работоспособности hello hello множество различных перемещения в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-130">hello health model provides an accurate, *granular* representation of hello health of hello many moving pieces in hello cluster.</span></span>

<span data-ttu-id="fcb44-131">![Сущности работоспособности.][1]</span><span class="sxs-lookup"><span data-stu-id="fcb44-131">![Health entities.][1]</span></span>
<span data-ttu-id="fcb44-132">работоспособные сущности Hello, организованные в иерархию, в зависимости от родительско дочерних отношений.</span><span class="sxs-lookup"><span data-stu-id="fcb44-132">hello health entities, organized in a hierarchy based on parent-child relationships.</span></span>

[1]: ./media/service-fabric-health-introduction/servicefabric-health-hierarchy.png

<span data-ttu-id="fcb44-133">Hello работоспособности сущности являются:</span><span class="sxs-lookup"><span data-stu-id="fcb44-133">hello health entities are:</span></span>

* <span data-ttu-id="fcb44-134">**Cluster**(кластер).</span><span class="sxs-lookup"><span data-stu-id="fcb44-134">**Cluster**.</span></span> <span data-ttu-id="fcb44-135">Представляет hello работоспособности кластера Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="fcb44-135">Represents hello health of a Service Fabric cluster.</span></span> <span data-ttu-id="fcb44-136">Отчеты о работоспособности кластера описаны условия, которые влияют на весь кластер hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-136">Cluster health reports describe conditions that affect hello entire cluster.</span></span> <span data-ttu-id="fcb44-137">Эти условия действуют несколько сущностей в кластере hello или самого кластера hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-137">These conditions affect multiple entities in hello cluster or hello cluster itself.</span></span> <span data-ttu-id="fcb44-138">В зависимости от состояния hello hello отслеживания не может сузить проблемы hello вниз tooone или больше дочерних элементов неработоспособен.</span><span class="sxs-lookup"><span data-stu-id="fcb44-138">Based on hello condition, hello reporter can't narrow hello issue down tooone or more unhealthy children.</span></span> <span data-ttu-id="fcb44-139">Примеры: hello мозг кластера hello разбиения из-за проблемы toonetwork секционирования или связи.</span><span class="sxs-lookup"><span data-stu-id="fcb44-139">Examples include hello brain of hello cluster splitting due toonetwork partitioning or communication issues.</span></span>
* <span data-ttu-id="fcb44-140">**Node**(узел).</span><span class="sxs-lookup"><span data-stu-id="fcb44-140">**Node**.</span></span> <span data-ttu-id="fcb44-141">Представляет hello работоспособности Service Fabric узла.</span><span class="sxs-lookup"><span data-stu-id="fcb44-141">Represents hello health of a Service Fabric node.</span></span> <span data-ttu-id="fcb44-142">Отчеты о работоспособности узла описаны условия, которые влияют на функциональность узел hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-142">Node health reports describe conditions that affect hello node functionality.</span></span> <span data-ttu-id="fcb44-143">Как правило, они влияют на все сущности hello развернут, запущенными на нем.</span><span class="sxs-lookup"><span data-stu-id="fcb44-143">They typically affect all hello deployed entities running on it.</span></span> <span data-ttu-id="fcb44-144">Примеры: узлу не хватает места на диске (памяти, подключений или других свойств уровня компьютера) или узел не работает.</span><span class="sxs-lookup"><span data-stu-id="fcb44-144">Examples include node out of disk space (or other machine-wide properties, such as memory, connections) and when a node is down.</span></span> <span data-ttu-id="fcb44-145">узел сущности Hello определяется по имени узла hello (string).</span><span class="sxs-lookup"><span data-stu-id="fcb44-145">hello node entity is identified by hello node name (string).</span></span>
* <span data-ttu-id="fcb44-146">**Application**(приложение).</span><span class="sxs-lookup"><span data-stu-id="fcb44-146">**Application**.</span></span> <span data-ttu-id="fcb44-147">Представляет hello работоспособность приложения, работающий в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-147">Represents hello health of an application instance running in hello cluster.</span></span> <span data-ttu-id="fcb44-148">Отчеты о работоспособности приложения, описывающие условия, которые влияют на hello общей работоспособности приложения hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-148">Application health reports describe conditions that affect hello overall health of hello application.</span></span> <span data-ttu-id="fcb44-149">Они не может быть сужается tooindividual дочерних элементов (службы или развернутых приложений).</span><span class="sxs-lookup"><span data-stu-id="fcb44-149">They can't be narrowed down tooindividual children (services or deployed applications).</span></span> <span data-ttu-id="fcb44-150">Примеры hello конца в конец взаимодействия между различными службами приложения hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-150">Examples include hello end-to-end interaction among different services in hello application.</span></span> <span data-ttu-id="fcb44-151">Сущность приложения Hello определяется по имени приложения hello (URI).</span><span class="sxs-lookup"><span data-stu-id="fcb44-151">hello application entity is identified by hello application name (URI).</span></span>
* <span data-ttu-id="fcb44-152">**Служба**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-152">**Service**.</span></span> <span data-ttu-id="fcb44-153">Представляет hello работоспособности службы, запущенных в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-153">Represents hello health of a service running in hello cluster.</span></span> <span data-ttu-id="fcb44-154">Отчеты о работоспособности службы, описания условий, которые влияют на hello общую работоспособность службы hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-154">Service health reports describe conditions that affect hello overall health of hello service.</span></span> <span data-ttu-id="fcb44-155">Hello отслеживания не может сузить hello проблема tooan неработоспособное секции или реплики.</span><span class="sxs-lookup"><span data-stu-id="fcb44-155">hello reporter can't narrow down hello issue tooan unhealthy partition or replica.</span></span> <span data-ttu-id="fcb44-156">Пример: конфигурация службы (например, порт или внешняя общая папка), которая является причиной проблем во всех разделах.</span><span class="sxs-lookup"><span data-stu-id="fcb44-156">Examples include a service configuration (such as port or external file share) that is causing issues for all partitions.</span></span> <span data-ttu-id="fcb44-157">сущности службы Hello определяется по имени службы hello (URI).</span><span class="sxs-lookup"><span data-stu-id="fcb44-157">hello service entity is identified by hello service name (URI).</span></span>
* <span data-ttu-id="fcb44-158">**Partition**(раздел).</span><span class="sxs-lookup"><span data-stu-id="fcb44-158">**Partition**.</span></span> <span data-ttu-id="fcb44-159">Представляет состояние работоспособности hello раздела службы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-159">Represents hello health of a service partition.</span></span> <span data-ttu-id="fcb44-160">Отчеты о работоспособности раздела описаны условия, которые влияют на Привет всем наборе реплик.</span><span class="sxs-lookup"><span data-stu-id="fcb44-160">Partition health reports describe conditions that affect hello entire replica set.</span></span> <span data-ttu-id="fcb44-161">Примеры, когда hello число реплик, которые меньше число целевых объектов и секции при потере кворума.</span><span class="sxs-lookup"><span data-stu-id="fcb44-161">Examples include when hello number of replicas is below target count and when a partition is in quorum loss.</span></span> <span data-ttu-id="fcb44-162">сущность раздела Hello определяется параметрами секции hello идентификатор (GUID).</span><span class="sxs-lookup"><span data-stu-id="fcb44-162">hello partition entity is identified by hello partition ID (GUID).</span></span>
* <span data-ttu-id="fcb44-163">**Replica**(реплика).</span><span class="sxs-lookup"><span data-stu-id="fcb44-163">**Replica**.</span></span> <span data-ttu-id="fcb44-164">Представляет hello работоспособности реплики службы с отслеживанием состояния или экземпляра службы без отслеживания состояния.</span><span class="sxs-lookup"><span data-stu-id="fcb44-164">Represents hello health of a stateful service replica or a stateless service instance.</span></span> <span data-ttu-id="fcb44-165">Hello реплика является наименьшей единицей hello, которые watchdogs и компоненты системы могут включать в отчет для приложения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-165">hello replica is hello smallest unit that watchdogs and system components can report on for an application.</span></span> <span data-ttu-id="fcb44-166">Для служб с отслеживанием состояния например первичной реплики, не может реплицировать toosecondaries операций и медленной репликации.</span><span class="sxs-lookup"><span data-stu-id="fcb44-166">For stateful services, examples include a primary replica that can't replicate operations toosecondaries and slow replication.</span></span> <span data-ttu-id="fcb44-167">Кроме того, экземпляр службы без сохранения состояния может отправлять отчет, если заканчиваются ресурсы или возникают проблемы с подключением.</span><span class="sxs-lookup"><span data-stu-id="fcb44-167">Also, a stateless instance can report when it is running out of resources or has connectivity issues.</span></span> <span data-ttu-id="fcb44-168">сущности реплики Hello идентифицируется hello идентификатор (GUID) и hello реплики или экземпляра идентификатор секции (long).</span><span class="sxs-lookup"><span data-stu-id="fcb44-168">hello replica entity is identified by hello partition ID (GUID) and hello replica or instance ID (long).</span></span>
* <span data-ttu-id="fcb44-169">**DeployedApplication**(развернутое приложение).</span><span class="sxs-lookup"><span data-stu-id="fcb44-169">**DeployedApplication**.</span></span> <span data-ttu-id="fcb44-170">Представляет hello работоспособности *приложения, работающего на узле*.</span><span class="sxs-lookup"><span data-stu-id="fcb44-170">Represents hello health of an *application running on a node*.</span></span> <span data-ttu-id="fcb44-171">Отчеты о работоспособности развернутого приложения описание условий toohello конкретного приложения на узле hello, который не может уменьшать tooservice пакетам, развернутым в hello того же узла.</span><span class="sxs-lookup"><span data-stu-id="fcb44-171">Deployed application health reports describe conditions specific toohello application on hello node that can't be narrowed down tooservice packages deployed on hello same node.</span></span> <span data-ttu-id="fcb44-172">Примеры ошибок, когда не удается загрузить пакет приложения на этом узле и проблемы при настройке субъекты безопасности приложения на узле hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-172">Examples include errors when application package can't be downloaded on that node and issues setting up application security principals on hello node.</span></span> <span data-ttu-id="fcb44-173">приложение Hello развернут определяется по имени приложения (URI) и имя узла (string).</span><span class="sxs-lookup"><span data-stu-id="fcb44-173">hello deployed application is identified by application name (URI) and node name (string).</span></span>
* <span data-ttu-id="fcb44-174">**DeployedServicePackage**(развернутый пакет службы).</span><span class="sxs-lookup"><span data-stu-id="fcb44-174">**DeployedServicePackage**.</span></span> <span data-ttu-id="fcb44-175">Представляет hello работоспособности пакета службы, работающая на узле в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-175">Represents hello health of a service package running on a node in hello cluster.</span></span> <span data-ttu-id="fcb44-176">Он описывает пакет службы tooa определенных условий, не затрагивающих hello другие пакеты обновления на hello того же узла для hello того же приложения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-176">It describes conditions specific tooa service package that do not affect hello other service packages on hello same node for hello same application.</span></span> <span data-ttu-id="fcb44-177">Примеры кода пакета в пакет службы hello не может быть запущен и пакет конфигурации, которую невозможно прочитать.</span><span class="sxs-lookup"><span data-stu-id="fcb44-177">Examples include a code package in hello service package that cannot be started and a configuration package that cannot be read.</span></span> <span data-ttu-id="fcb44-178">пакет службы развернуты Hello определяется по имени приложения (URI), имя узла (string), имя манифеста службы (string) и код активации пакета службы (string).</span><span class="sxs-lookup"><span data-stu-id="fcb44-178">hello deployed service package is identified by application name (URI), node name (string), service manifest name (string), and service package activation ID (string).</span></span>

<span data-ttu-id="fcb44-179">Гранулярность Hello модель работоспособности hello позволяет легко toodetect и исправить проблемы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-179">hello granularity of hello health model makes it easy toodetect and correct issues.</span></span> <span data-ttu-id="fcb44-180">Например, если служба не отвечает, возможна tooreport, hello экземпляра приложения находится в неисправном состоянии.</span><span class="sxs-lookup"><span data-stu-id="fcb44-180">For example, if a service is not responding, it is feasible tooreport that hello application instance is unhealthy.</span></span> <span data-ttu-id="fcb44-181">Создавать отчеты на том, что уровень не является лучшим вариантом, однако из-за проблемы hello может не влияет на работу всех служб hello этого приложения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-181">Reporting at that level is not ideal, however, because hello issue might not be affecting all hello services within that application.</span></span> <span data-ttu-id="fcb44-182">Hello отчета может примененных toohello неработоспособности службы tooa конкретного дочернего раздела, если раздел toothat указывает Дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-182">hello report should be applied toohello unhealthy service or tooa specific child partition, if more information points toothat partition.</span></span> <span data-ttu-id="fcb44-183">Hello данных автоматически делает доступными через иерархию hello и Неработоспособная раздел станет видимым на уровне службы и приложения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-183">hello data automatically surfaces through hello hierarchy, and an unhealthy partition is made visible at service and application levels.</span></span> <span data-ttu-id="fcb44-184">Объединение помогает toopinpoint и более быстрому решению hello причину проблемы hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-184">This aggregation helps toopinpoint and resolve hello root cause of hello issue more quickly.</span></span>

<span data-ttu-id="fcb44-185">Hello работоспособности иерархия состоит из родительско дочерних отношений.</span><span class="sxs-lookup"><span data-stu-id="fcb44-185">hello health hierarchy is composed of parent-child relationships.</span></span> <span data-ttu-id="fcb44-186">Кластер состоит из узлов и приложений.</span><span class="sxs-lookup"><span data-stu-id="fcb44-186">A cluster is composed of nodes and applications.</span></span> <span data-ttu-id="fcb44-187">Приложения включают службы и развернутые приложения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-187">Applications have services and deployed applications.</span></span> <span data-ttu-id="fcb44-188">В развернутые приложения входят развернутые пакеты служб.</span><span class="sxs-lookup"><span data-stu-id="fcb44-188">Deployed applications have deployed service packages.</span></span> <span data-ttu-id="fcb44-189">Службы состоят из разделов, а каждый раздел включает одну или несколько реплик.</span><span class="sxs-lookup"><span data-stu-id="fcb44-189">Services have partitions, and each partition has one or more replicas.</span></span> <span data-ttu-id="fcb44-190">Между узлами и развернутыми сущностями существует особая связь.</span><span class="sxs-lookup"><span data-stu-id="fcb44-190">There is a special relationship between nodes and deployed entities.</span></span> <span data-ttu-id="fcb44-191">Узел неработоспособен, сообщаемые его полномочия системного компонента, hello Failover Manager service влияет на hello развертывания приложений, пакетов служб и реплик, которые развернуты на нем.</span><span class="sxs-lookup"><span data-stu-id="fcb44-191">An unhealthy node as reported by its authority system component, hello Failover Manager service, affects hello deployed applications, service packages, and replicas deployed on it.</span></span>

<span data-ttu-id="fcb44-192">Иерархия работоспособности Hello представляет hello последнее состояние системы hello на основании hello последние отчеты о работоспособности, который является почти в реальном времени информацию.</span><span class="sxs-lookup"><span data-stu-id="fcb44-192">hello health hierarchy represents hello latest state of hello system based on hello latest health reports, which is almost real-time information.</span></span>
<span data-ttu-id="fcb44-193">Внутренние и внешние watchdogs может включать в отчет hello же сущности на основе логику приложения или пользовательских условий триггера.</span><span class="sxs-lookup"><span data-stu-id="fcb44-193">Internal and external watchdogs can report on hello same entities based on application-specific logic or custom monitored conditions.</span></span> <span data-ttu-id="fcb44-194">Пользовательские отчеты сосуществовать с hello отчетов системы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-194">User reports coexist with hello system reports.</span></span>

<span data-ttu-id="fcb44-195">Планирование tooinvest в том, как tooreport и отправки ответа toohealth во время hello конструктора больших облачной службы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-195">Plan tooinvest in how tooreport and respond toohealth during hello design of a large cloud service.</span></span> <span data-ttu-id="fcb44-196">Это предварительные investement делает hello службы проще toodebug, мониторинга и работать.</span><span class="sxs-lookup"><span data-stu-id="fcb44-196">This up-front investement makes hello service easier toodebug, monitor, and operate.</span></span>

## <a name="health-states"></a><span data-ttu-id="fcb44-197">Состояния работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-197">Health states</span></span>
<span data-ttu-id="fcb44-198">Service Fabric использует три toodescribe состояния работоспособности, является ли сущность находится в работоспособном состоянии или не: "ОК", предупреждения и ошибки.</span><span class="sxs-lookup"><span data-stu-id="fcb44-198">Service Fabric uses three health states toodescribe whether an entity is healthy or not: OK, warning, and error.</span></span> <span data-ttu-id="fcb44-199">Любой отчет, отправленные toohello базе данных health store необходимо указать один из этих состояний.</span><span class="sxs-lookup"><span data-stu-id="fcb44-199">Any report sent toohello health store must specify one of these states.</span></span> <span data-ttu-id="fcb44-200">Результат оценки работоспособности Hello имеет одно из этих состояний.</span><span class="sxs-lookup"><span data-stu-id="fcb44-200">hello health evaluation result is one of these states.</span></span>

<span data-ttu-id="fcb44-201">Здравствуйте, возможно [состояния работоспособности](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthstate) являются:</span><span class="sxs-lookup"><span data-stu-id="fcb44-201">hello possible [health states](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthstate) are:</span></span>

* <span data-ttu-id="fcb44-202">**OK**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-202">**OK**.</span></span> <span data-ttu-id="fcb44-203">Hello сущность работоспособна.</span><span class="sxs-lookup"><span data-stu-id="fcb44-203">hello entity is healthy.</span></span> <span data-ttu-id="fcb44-204">Известных проблем с сущностью или ее дочерними элементами (если таковые есть) не выявлено.</span><span class="sxs-lookup"><span data-stu-id="fcb44-204">There are no known issues reported on it or its children (when applicable).</span></span>
* <span data-ttu-id="fcb44-205">**Предупреждение**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-205">**Warning**.</span></span> <span data-ttu-id="fcb44-206">Hello сущность имеет некоторые проблемы, но он по-прежнему может работать неправильно.</span><span class="sxs-lookup"><span data-stu-id="fcb44-206">hello entity has some issues, but it can still function correctly.</span></span> <span data-ttu-id="fcb44-207">Например, возникли задержки, но они еще не вызывают проблем в работе.</span><span class="sxs-lookup"><span data-stu-id="fcb44-207">For example, there are delays, but they do not cause any functional issues yet.</span></span> <span data-ttu-id="fcb44-208">В некоторых случаях hello условие предупреждения может устранить найденные ошибки без внешнего вмешательства.</span><span class="sxs-lookup"><span data-stu-id="fcb44-208">In some cases, hello warning condition may fix itself without external intervention.</span></span> <span data-ttu-id="fcb44-209">В этих случаях отчеты о работоспособности повышают информированность и обеспечивают представление о том, что происходит.</span><span class="sxs-lookup"><span data-stu-id="fcb44-209">In these cases, health reports raise awareness and provide visibility into what is going on.</span></span> <span data-ttu-id="fcb44-210">В других случаях hello условие предупреждения может ухудшить в серьезные проблемы без вмешательства пользователя.</span><span class="sxs-lookup"><span data-stu-id="fcb44-210">In other cases, hello warning condition may degrade into a severe problem without user intervention.</span></span>
* <span data-ttu-id="fcb44-211">**Ошибка**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-211">**Error**.</span></span> <span data-ttu-id="fcb44-212">сущности Hello не является рабочим.</span><span class="sxs-lookup"><span data-stu-id="fcb44-212">hello entity is unhealthy.</span></span> <span data-ttu-id="fcb44-213">Действие следует выполнить toofix hello состояние сущности hello, так как он не сможет работать правильно.</span><span class="sxs-lookup"><span data-stu-id="fcb44-213">Action should be taken toofix hello state of hello entity, because it can't function properly.</span></span>
* <span data-ttu-id="fcb44-214">**Неизвестно**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-214">**Unknown**.</span></span> <span data-ttu-id="fcb44-215">Hello сущность не существует в базе данных health store hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-215">hello entity doesn't exist in hello health store.</span></span> <span data-ttu-id="fcb44-216">Этот результат можно получить из hello распределенных запросов, объединить результаты из нескольких компонентов.</span><span class="sxs-lookup"><span data-stu-id="fcb44-216">This result can be obtained from hello distributed queries that merge results from multiple components.</span></span> <span data-ttu-id="fcb44-217">Например, запрос списка узла get hello отправляется слишком**FailoverManager**, **ClusterManager**, и **HealthManager**; вернуть приложение запроса списка становится слишком **ClusterManager** и **HealthManager**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-217">For example, hello get node list query goes too**FailoverManager**, **ClusterManager**, and **HealthManager**; get application list query goes too**ClusterManager** and **HealthManager**.</span></span> <span data-ttu-id="fcb44-218">В этих запросах объединяются результаты, полученные от нескольких компонентов системы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-218">These queries merge results from multiple system components.</span></span> <span data-ttu-id="fcb44-219">Если другой компонент системы возвращает сущность, которая отсутствует в базе данных health store, hello результаты слияния имеет неизвестное состояние работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-219">If another system component returns an entity that is not present in health store, hello merged result has unknown health state.</span></span> <span data-ttu-id="fcb44-220">Сущность не находится в хранилище, так как отчеты о работоспособности еще не были обработаны или hello объекта был очищен после удаления.</span><span class="sxs-lookup"><span data-stu-id="fcb44-220">An entity is not in store because health reports have not yet been processed or hello entity has been cleaned up after deletion.</span></span>

## <a name="health-policies"></a><span data-ttu-id="fcb44-221">Политики работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-221">Health policies</span></span>
<span data-ttu-id="fcb44-222">Hello работоспособности хранилища применяет toodetermine политики работоспособности, как сущность работоспособна на основе отчетов и его дочерних элементов.</span><span class="sxs-lookup"><span data-stu-id="fcb44-222">hello health store applies health policies toodetermine whether an entity is healthy based on its reports and its children.</span></span>

> [!NOTE]
> <span data-ttu-id="fcb44-223">Политики работоспособности можно указать в манифесте кластера hello (для оценки работоспособности кластер и узел) или в манифесте приложения hello (для оценки приложений и любые его дочерние элементы).</span><span class="sxs-lookup"><span data-stu-id="fcb44-223">Health policies can be specified in hello cluster manifest (for cluster and node health evaluation) or in hello application manifest (for application evaluation and any of its children).</span></span> <span data-ttu-id="fcb44-224">Запросы на оценку работоспособности также можно включать в пользовательские политики оценки работоспособности (политики, которые применяются только в ходе определенной оценки).</span><span class="sxs-lookup"><span data-stu-id="fcb44-224">Health evaluation requests can also pass in custom health evaluation policies, which are used only for that evaluation.</span></span>
> 
> 

<span data-ttu-id="fcb44-225">По умолчанию Service Fabric применяется строгие правила (все компоненты должны быть исправны) иерархическую связь родитель потомок hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-225">By default, Service Fabric applies strict rules (everything must be healthy) for hello parent-child hierarchical relationship.</span></span> <span data-ttu-id="fcb44-226">Если хотя бы один из дочерних элементов hello одного события неработоспособности, родительский hello считается неработоспособным.</span><span class="sxs-lookup"><span data-stu-id="fcb44-226">If even one of hello children has one unhealthy event, hello parent is considered unhealthy.</span></span>

### <a name="cluster-health-policy"></a><span data-ttu-id="fcb44-227">Политика работоспособности кластера</span><span class="sxs-lookup"><span data-stu-id="fcb44-227">Cluster health policy</span></span>
<span data-ttu-id="fcb44-228">Hello [политика работоспособности кластера](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy) — работоспособности кластера используется tooevaluate hello состояния и узел состояния работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-228">hello [cluster health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy) is used tooevaluate hello cluster health state and node health states.</span></span> <span data-ttu-id="fcb44-229">можно определить политику Hello в манифесте кластера hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-229">hello policy can be defined in hello cluster manifest.</span></span> <span data-ttu-id="fcb44-230">Если он отсутствует, используется политика по умолчанию hello (ноль отклонения сбоев).</span><span class="sxs-lookup"><span data-stu-id="fcb44-230">If it is not present, hello default policy (zero tolerated failures) is used.</span></span>
<span data-ttu-id="fcb44-231">политика работоспособности кластера Hello содержит:</span><span class="sxs-lookup"><span data-stu-id="fcb44-231">hello cluster health policy contains:</span></span>

* <span data-ttu-id="fcb44-232">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.considerwarningaserror).</span><span class="sxs-lookup"><span data-stu-id="fcb44-232">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.considerwarningaserror).</span></span> <span data-ttu-id="fcb44-233">Указывает, является ли tootreat предупреждение отчеты о работоспособности как ошибки во время оценки работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-233">Specifies whether tootreat warning health reports as errors during health evaluation.</span></span> <span data-ttu-id="fcb44-234">По умолчанию: false.</span><span class="sxs-lookup"><span data-stu-id="fcb44-234">Default: false.</span></span>
* <span data-ttu-id="fcb44-235">[MaxPercentUnhealthyApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthyapplications).</span><span class="sxs-lookup"><span data-stu-id="fcb44-235">[MaxPercentUnhealthyApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthyapplications).</span></span> <span data-ttu-id="fcb44-236">Указывает максимальный процент отклонения hello приложений, которые могут иметь неработоспособное считался hello кластера по ошибке.</span><span class="sxs-lookup"><span data-stu-id="fcb44-236">Specifies hello maximum tolerated percentage of applications that can be unhealthy before hello cluster is considered in error.</span></span>
* <span data-ttu-id="fcb44-237">[MaxPercentUnhealthyNodes](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthynodes).</span><span class="sxs-lookup"><span data-stu-id="fcb44-237">[MaxPercentUnhealthyNodes](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.maxpercentunhealthynodes).</span></span> <span data-ttu-id="fcb44-238">Указывает максимальный процент отклонения hello узлов, которые могут быть неработоспособное считался hello кластера по ошибке.</span><span class="sxs-lookup"><span data-stu-id="fcb44-238">Specifies hello maximum tolerated percentage of nodes that can be unhealthy before hello cluster is considered in error.</span></span> <span data-ttu-id="fcb44-239">В больших кластеров некоторые узлы всегда являются вниз или out для ремонта, поэтому этот процент должен быть настроенный tootolerate.</span><span class="sxs-lookup"><span data-stu-id="fcb44-239">In large clusters, some nodes are always down or out for repairs, so this percentage should be configured tootolerate that.</span></span>
* <span data-ttu-id="fcb44-240">[ApplicationTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap).</span><span class="sxs-lookup"><span data-stu-id="fcb44-240">[ApplicationTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.clusterhealthpolicy.applicationtypehealthpolicymap).</span></span> <span data-ttu-id="fcb44-241">Hello работоспособности политики сопоставление типов можно использовать во время типов специальные приложения toodescribe оценки работоспособности кластера.</span><span class="sxs-lookup"><span data-stu-id="fcb44-241">hello application type health policy map can be used during cluster health evaluation toodescribe special application types.</span></span> <span data-ttu-id="fcb44-242">По умолчанию все приложения помещаются в пул и оцениваются с помощью MaxPercentUnhealthyApplications.</span><span class="sxs-lookup"><span data-stu-id="fcb44-242">By default, all applications are put into a pool and evaluated with MaxPercentUnhealthyApplications.</span></span> <span data-ttu-id="fcb44-243">Некоторые типы приложений следует обрабатывать так, они могут быть взяты из глобального пула hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-243">If some application types should be treated differently, they can be taken out of hello global pool.</span></span> <span data-ttu-id="fcb44-244">Вместо этого они вычисляются для hello процентные показатели, связанные с их имя типа приложения hello-карте.</span><span class="sxs-lookup"><span data-stu-id="fcb44-244">Instead, they are evaluated against hello percentages associated with their application type name in hello map.</span></span> <span data-ttu-id="fcb44-245">Например, в кластере существуют тысячи приложений различных типов и несколько экземпляров управляющих приложений особого типа.</span><span class="sxs-lookup"><span data-stu-id="fcb44-245">For example, in a cluster there are thousands of applications of different types, and a few control application instances of a special application type.</span></span> <span data-ttu-id="fcb44-246">приложения управления Hello никогда не должны быть в ошибке.</span><span class="sxs-lookup"><span data-stu-id="fcb44-246">hello control applications should never be in error.</span></span> <span data-ttu-id="fcb44-247">Можно указать глобальный tootolerate % too20 MaxPercentUnhealthyApplications ошибками, но для hello тип приложения «ControlApplicationType» задайте hello MaxPercentUnhealthyApplications too0.</span><span class="sxs-lookup"><span data-stu-id="fcb44-247">You can specify global MaxPercentUnhealthyApplications too20% tootolerate some failures, but for hello application type "ControlApplicationType" set hello MaxPercentUnhealthyApplications too0.</span></span> <span data-ttu-id="fcb44-248">Таким образом, если некоторые hello многие приложения находятся в неработоспособном состоянии, но ниже глобального процента неработоспособное hello, hello кластера будет вычислено tooWarning.</span><span class="sxs-lookup"><span data-stu-id="fcb44-248">This way, if some of hello many applications are unhealthy, but below hello global unhealthy percentage, hello cluster would be evaluated tooWarning.</span></span> <span data-ttu-id="fcb44-249">Состояние "Предупреждение" не влияет на обновление кластера или другие операции мониторинга, вызванные состоянием "Ошибка".</span><span class="sxs-lookup"><span data-stu-id="fcb44-249">A warning health state does not impact cluster upgrade or other monitoring triggered by Error health state.</span></span> <span data-ttu-id="fcb44-250">Однако хотя бы один элемент управления приложения в ошибки могут привести к невозможности кластера неработоспособен, который вызывает откат или приостанавливает hello обновление кластера, в зависимости от конфигурации обновления hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-250">But even one control application in error would make cluster unhealthy, which triggers roll back or pauses hello cluster upgrade, depending on hello upgrade configuration.</span></span>
  <span data-ttu-id="fcb44-251">Для hello приложения типов, определенных в карте hello все экземпляры приложения будут убраны из hello глобальный пул приложений.</span><span class="sxs-lookup"><span data-stu-id="fcb44-251">For hello application types defined in hello map, all application instances are taken out of hello global pool of applications.</span></span> <span data-ttu-id="fcb44-252">Они вычисляются на основе общего числа hello приложения типа приложения hello, с помощью hello сопоставление определенных MaxPercentUnhealthyApplications из hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-252">They are evaluated based on hello total number of applications of hello application type, using hello specific MaxPercentUnhealthyApplications from hello map.</span></span> <span data-ttu-id="fcb44-253">Все остальные hello приложения hello остаются в глобальный пул hello и оцениваются с MaxPercentUnhealthyApplications.</span><span class="sxs-lookup"><span data-stu-id="fcb44-253">All hello rest of hello applications remain in hello global pool and are evaluated with MaxPercentUnhealthyApplications.</span></span>

<span data-ttu-id="fcb44-254">Привет, в следующем примере показан фрагмент кода из манифеста кластера.</span><span class="sxs-lookup"><span data-stu-id="fcb44-254">hello following example is an excerpt from a cluster manifest.</span></span> <span data-ttu-id="fcb44-255">toodefine записей в hello сопоставление типов, префикс hello именем параметра «ApplicationTypeMaxPercentUnhealthyApplications-», за которым следует имя типа приложения hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-255">toodefine entries in hello application type map, prefix hello parameter name with "ApplicationTypeMaxPercentUnhealthyApplications-", followed by hello application type name.</span></span>

```xml
<FabricSettings>
  <Section Name="HealthManager/ClusterHealthPolicy">
    <Parameter Name="ConsiderWarningAsError" Value="False" />
    <Parameter Name="MaxPercentUnhealthyApplications" Value="20" />
    <Parameter Name="MaxPercentUnhealthyNodes" Value="20" />
    <Parameter Name="ApplicationTypeMaxPercentUnhealthyApplications-ControlApplicationType" Value="0" />
  </Section>
</FabricSettings>
```

### <a name="application-health-policy"></a><span data-ttu-id="fcb44-256">Политика работоспособности приложения</span><span class="sxs-lookup"><span data-stu-id="fcb44-256">Application health policy</span></span>
<span data-ttu-id="fcb44-257">Hello [политика работоспособности приложения](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy) описывает, как можно сделать hello вычисления статистической обработки событий и дочерних состояний для приложений и их дочерние элементы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-257">hello [application health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy) describes how hello evaluation of events and child-states aggregation is done for applications and their children.</span></span> <span data-ttu-id="fcb44-258">Это может быть определено в манифесте приложения hello, **ApplicationManifest.xml**, в пакет приложения hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-258">It can be defined in hello application manifest, **ApplicationManifest.xml**, in hello application package.</span></span> <span data-ttu-id="fcb44-259">Если политики не заданы, Service Fabric предполагается сущности hello неработоспособен, если у него есть, либо дочерний отчет о работоспособности на состояние работоспособности hello предупреждения или ошибки.</span><span class="sxs-lookup"><span data-stu-id="fcb44-259">If no policies are specified, Service Fabric assumes that hello entity is unhealthy if it has a health report or a child at hello warning or error health state.</span></span>
<span data-ttu-id="fcb44-260">Ниже перечислены настраиваемые политики Hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-260">hello configurable policies are:</span></span>

* <span data-ttu-id="fcb44-261">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.considerwarningaserror.aspx).</span><span class="sxs-lookup"><span data-stu-id="fcb44-261">[ConsiderWarningAsError](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.considerwarningaserror.aspx).</span></span> <span data-ttu-id="fcb44-262">Указывает, является ли tootreat предупреждение отчеты о работоспособности как ошибки во время оценки работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-262">Specifies whether tootreat warning health reports as errors during health evaluation.</span></span> <span data-ttu-id="fcb44-263">По умолчанию: false.</span><span class="sxs-lookup"><span data-stu-id="fcb44-263">Default: false.</span></span>
* <span data-ttu-id="fcb44-264">[MaxPercentUnhealthyDeployedApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.maxpercentunhealthydeployedapplications).</span><span class="sxs-lookup"><span data-stu-id="fcb44-264">[MaxPercentUnhealthyDeployedApplications](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.maxpercentunhealthydeployedapplications).</span></span> <span data-ttu-id="fcb44-265">Указывает процент hello максимальное допустимое развернутых приложений, которые могут быть неработоспособное считался приложения hello по ошибке.</span><span class="sxs-lookup"><span data-stu-id="fcb44-265">Specifies hello maximum tolerated percentage of deployed applications that can be unhealthy before hello application is considered in error.</span></span> <span data-ttu-id="fcb44-266">Это процентное значение вычисляется путем деления hello число развернутых приложений за hello число узлов, которые приложения hello развернутых в настоящее время на кластере hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-266">This percentage is calculated by dividing hello number of unhealthy deployed applications over hello number of nodes that hello applications are currently deployed on in hello cluster.</span></span> <span data-ttu-id="fcb44-267">Вычисление Hello округляет tootolerate один сбой на небольшом количестве узлов.</span><span class="sxs-lookup"><span data-stu-id="fcb44-267">hello computation rounds up tootolerate one failure on small numbers of nodes.</span></span> <span data-ttu-id="fcb44-268">Значение в процентах по умолчанию: ноль.</span><span class="sxs-lookup"><span data-stu-id="fcb44-268">Default percentage: zero.</span></span>
* <span data-ttu-id="fcb44-269">[DefaultServiceTypeHealthPolicy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.defaultservicetypehealthpolicy).</span><span class="sxs-lookup"><span data-stu-id="fcb44-269">[DefaultServiceTypeHealthPolicy](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.defaultservicetypehealthpolicy).</span></span> <span data-ttu-id="fcb44-270">Указывает hello политика по умолчанию службы тип работоспособности, который заменяет hello политики работоспособности по умолчанию для всех типов служб в приложение hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-270">Specifies hello default service type health policy, which replaces hello default health policy for all service types in hello application.</span></span>
* <span data-ttu-id="fcb44-271">[ServiceTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.servicetypehealthpolicymap).</span><span class="sxs-lookup"><span data-stu-id="fcb44-271">[ServiceTypeHealthPolicyMap](https://docs.microsoft.com/dotnet/api/system.fabric.health.applicationhealthpolicy.servicetypehealthpolicymap).</span></span> <span data-ttu-id="fcb44-272">Обеспечивает сопоставление политики работоспособности службы для каждого типа службы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-272">Provides a map of service health policies per service type.</span></span> <span data-ttu-id="fcb44-273">Эти политики замените политик работоспособности тип службы по умолчанию hello для каждой службы указанного типа.</span><span class="sxs-lookup"><span data-stu-id="fcb44-273">These policies replace hello default service type health policies for each specified service type.</span></span> <span data-ttu-id="fcb44-274">Например если приложение имеет тип службы без сохранения состояния шлюза и типа службы с отслеживанием состояния ядра, hello политики работоспособности для их оценки можно настроить по-разному.</span><span class="sxs-lookup"><span data-stu-id="fcb44-274">For example, if an application has a stateless gateway service type and a stateful engine service type, you can configure hello health policies for their evaluation differently.</span></span> <span data-ttu-id="fcb44-275">При указании политики каждого типа службы, можно получить более детальный контроль работоспособности hello hello службы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-275">When you specify policy per service type, you can gain more granular control of hello health of hello service.</span></span>

### <a name="service-type-health-policy"></a><span data-ttu-id="fcb44-276">Политика работоспособности типа службы</span><span class="sxs-lookup"><span data-stu-id="fcb44-276">Service type health policy</span></span>
<span data-ttu-id="fcb44-277">Hello [тип политики работоспособности службы](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy) определяет, как tooevaluate и статистическое выражение hello служб и hello дочерних элементов службы.</span><span class="sxs-lookup"><span data-stu-id="fcb44-277">hello [service type health policy](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy) specifies how tooevaluate and aggregate hello services and hello children of services.</span></span> <span data-ttu-id="fcb44-278">политика Hello содержит:</span><span class="sxs-lookup"><span data-stu-id="fcb44-278">hello policy contains:</span></span>

* <span data-ttu-id="fcb44-279">[MaxPercentUnhealthyPartitionsPerService](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthypartitionsperservice).</span><span class="sxs-lookup"><span data-stu-id="fcb44-279">[MaxPercentUnhealthyPartitionsPerService](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthypartitionsperservice).</span></span> <span data-ttu-id="fcb44-280">Указывает процент hello максимальное допустимое неработоспособных разделов, прежде чем служба считается неработоспособным.</span><span class="sxs-lookup"><span data-stu-id="fcb44-280">Specifies hello maximum tolerated percentage of unhealthy partitions before a service is considered unhealthy.</span></span> <span data-ttu-id="fcb44-281">Значение в процентах по умолчанию: ноль.</span><span class="sxs-lookup"><span data-stu-id="fcb44-281">Default percentage: zero.</span></span>
* <span data-ttu-id="fcb44-282">[MaxPercentUnhealthyReplicasPerPartition](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyreplicasperpartition).</span><span class="sxs-lookup"><span data-stu-id="fcb44-282">[MaxPercentUnhealthyReplicasPerPartition](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyreplicasperpartition).</span></span> <span data-ttu-id="fcb44-283">Указывает процент неработоспособных реплик hello максимальное допустимое перед секции считается неработоспособным.</span><span class="sxs-lookup"><span data-stu-id="fcb44-283">Specifies hello maximum tolerated percentage of unhealthy replicas before a partition is considered unhealthy.</span></span> <span data-ttu-id="fcb44-284">Значение в процентах по умолчанию: ноль.</span><span class="sxs-lookup"><span data-stu-id="fcb44-284">Default percentage: zero.</span></span>
* <span data-ttu-id="fcb44-285">[MaxPercentUnhealthyServices](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyservices).</span><span class="sxs-lookup"><span data-stu-id="fcb44-285">[MaxPercentUnhealthyServices](https://docs.microsoft.com/dotnet/api/system.fabric.health.servicetypehealthpolicy.maxpercentunhealthyservices).</span></span> <span data-ttu-id="fcb44-286">Указывает максимальное допустимое hello процент неработоспособных служб перед приложения hello считается неработоспособным.</span><span class="sxs-lookup"><span data-stu-id="fcb44-286">Specifies hello maximum tolerated percentage of unhealthy services before hello application is considered unhealthy.</span></span> <span data-ttu-id="fcb44-287">Значение в процентах по умолчанию: ноль.</span><span class="sxs-lookup"><span data-stu-id="fcb44-287">Default percentage: zero.</span></span>

<span data-ttu-id="fcb44-288">Следующий пример Hello представлен фрагмент из манифеста приложения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-288">hello following example is an excerpt from an application manifest:</span></span>

```xml
    <Policies>
        <HealthPolicy ConsiderWarningAsError="true" MaxPercentUnhealthyDeployedApplications="20">
            <DefaultServiceTypeHealthPolicy
                   MaxPercentUnhealthyServices="0"
                   MaxPercentUnhealthyPartitionsPerService="10"
                   MaxPercentUnhealthyReplicasPerPartition="0"/>
            <ServiceTypeHealthPolicy ServiceTypeName="FrontEndServiceType"
                   MaxPercentUnhealthyServices="0"
                   MaxPercentUnhealthyPartitionsPerService="20"
                   MaxPercentUnhealthyReplicasPerPartition="0"/>
            <ServiceTypeHealthPolicy ServiceTypeName="BackEndServiceType"
                   MaxPercentUnhealthyServices="20"
                   MaxPercentUnhealthyPartitionsPerService="0"
                   MaxPercentUnhealthyReplicasPerPartition="0">
            </ServiceTypeHealthPolicy>
        </HealthPolicy>
    </Policies>
```

## <a name="health-evaluation"></a><span data-ttu-id="fcb44-289">Оценка работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-289">Health evaluation</span></span>
<span data-ttu-id="fcb44-290">Пользователи или автоматизированные службы могут оценивать работоспособность любых сущностей в любой момент времени.</span><span class="sxs-lookup"><span data-stu-id="fcb44-290">Users and automated services can evaluate health for any entity at any time.</span></span> <span data-ttu-id="fcb44-291">tooevaluate работоспособности сущности, статистические функции хранилища работоспособности hello работоспособности всех отчетов по сущности hello и оценивает все его дочерние элементы (если применимо).</span><span class="sxs-lookup"><span data-stu-id="fcb44-291">tooevaluate an entity's health, hello health store aggregates all health reports on hello entity and evaluates all its children (when applicable).</span></span> <span data-ttu-id="fcb44-292">Hello работоспособности статистического алгоритма использует политики работоспособности, определяющие, как отчеты о работоспособности tooevaluate и как состояния работоспособности дочерних tooaggregate (если применимо).</span><span class="sxs-lookup"><span data-stu-id="fcb44-292">hello health aggregation algorithm uses health policies that specify how tooevaluate health reports and how tooaggregate child health states (when applicable).</span></span>

### <a name="health-report-aggregation"></a><span data-ttu-id="fcb44-293">Агрегирование отчетов о работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-293">Health report aggregation</span></span>
<span data-ttu-id="fcb44-294">Для каждой сущности в системе может существовать несколько отчетов, отправляемых из разных источников (системных компонентов или модулей наблюдения) и сформированных по разным правилам.</span><span class="sxs-lookup"><span data-stu-id="fcb44-294">One entity can have multiple health reports sent by different reporters (system components or watchdogs) on different properties.</span></span> <span data-ttu-id="fcb44-295">использует статистическую Hello hello политики работоспособности, связанные, в частности hello члена ConsiderWarningAsError приложения или политика работоспособности кластера.</span><span class="sxs-lookup"><span data-stu-id="fcb44-295">hello aggregation uses hello associated health policies, in particular hello ConsiderWarningAsError member of application or cluster health policy.</span></span> <span data-ttu-id="fcb44-296">Указывает ConsiderWarningAsError как tooevaluate предупреждения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-296">ConsiderWarningAsError specifies how tooevaluate warnings.</span></span>

<span data-ttu-id="fcb44-297">Hello общее состояние работоспособности инициируется hello *наихудшее* отчеты о работоспособности hello сущности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-297">hello aggregated health state is triggered by hello *worst* health reports on hello entity.</span></span> <span data-ttu-id="fcb44-298">Если имеется хотя бы одна ошибка отчета о работоспособности, hello общее состояние работоспособности является ошибкой.</span><span class="sxs-lookup"><span data-stu-id="fcb44-298">If there is at least one error health report, hello aggregated health state is an error.</span></span>

![Агрегирование отчетов о работоспособности с состоянием Error.][2]

<span data-ttu-id="fcb44-300">Сущность оценки работоспособности, в отношении которой регистрируется один или несколько отчетов об ошибках, получает состояние "Ошибка".</span><span class="sxs-lookup"><span data-stu-id="fcb44-300">A health entity that has one or more error health reports is evaluated as Error.</span></span> <span data-ttu-id="fcb44-301">Hello то же верно для отчета о работоспособности истекшим сроком действия, независимо от их состояния работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-301">hello same is true for an expired health report, regardless of its health state.</span></span>

[2]: ./media/service-fabric-health-introduction/servicefabric-health-report-eval-error.png

<span data-ttu-id="fcb44-302">Если нет отчеты об ошибках и одно или несколько предупреждений, hello общее состояние работоспособности — предупреждение или ошибку, в зависимости от флага политики ConsiderWarningAsError hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-302">If there are no error reports and one or more warnings, hello aggregated health state is either warning or error, depending on hello ConsiderWarningAsError policy flag.</span></span>

![Схема агрегирования отчетов о работоспособности, включающая отчет с состоянием Warning и флаг ConsiderWarningAsError со значением False.][3]

<span data-ttu-id="fcb44-304">Работоспособность сводного отчета с отчетом предупреждение ConsiderWarningAsError набора toofalse (по умолчанию).</span><span class="sxs-lookup"><span data-stu-id="fcb44-304">Health report aggregation with warning report and ConsiderWarningAsError set toofalse (default).</span></span>

[3]: ./media/service-fabric-health-introduction/servicefabric-health-report-eval-warning.png

### <a name="child-health-aggregation"></a><span data-ttu-id="fcb44-305">Агрегирование данных о работоспособности дочерних элементов</span><span class="sxs-lookup"><span data-stu-id="fcb44-305">Child health aggregation</span></span>
<span data-ttu-id="fcb44-306">Hello общее состояние работоспособности сущности отражает состояния работоспособности дочерних hello (если применимо).</span><span class="sxs-lookup"><span data-stu-id="fcb44-306">hello aggregated health state of an entity reflects hello child health states (when applicable).</span></span> <span data-ttu-id="fcb44-307">Статистическая обработка дочерних состояний работоспособности Hello алгоритм использует hello работоспособности политики, применимые на основе типа сущности hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-307">hello algorithm for aggregating child health states uses hello health policies applicable based on hello entity type.</span></span>

![Агрегирование данных о работоспособности дочерних элементов.][4]

<span data-ttu-id="fcb44-309">Агрегирование состояний дочерних элементов на основе политик работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-309">Child aggregation based on health policies.</span></span>

[4]: ./media/service-fabric-health-introduction/servicefabric-health-hierarchy-eval.png

<span data-ttu-id="fcb44-310">После вычисления всех дочерних элементов hello хранилища работоспособности hello статистически обрабатывает их состояния работоспособности, основанные на процентах максимальное hello настроить неработоспособное дочерних элементов.</span><span class="sxs-lookup"><span data-stu-id="fcb44-310">After hello health store has evaluated all hello children, it aggregates their health states based on hello configured maximum percentage of unhealthy children.</span></span> <span data-ttu-id="fcb44-311">Это процентное значение берется из hello политики на основе типа сущности и дочерних hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-311">This percentage is taken from hello policy based on hello entity and child type.</span></span>

* <span data-ttu-id="fcb44-312">Если все дочерние элементы имеют ОК состояния, состояние работоспособности дочерних статистическая обработка hello — ОК.</span><span class="sxs-lookup"><span data-stu-id="fcb44-312">If all children have OK states, hello child aggregated health state is OK.</span></span>
* <span data-ttu-id="fcb44-313">Если дочерние элементы OK и состояния предупреждения работоспособность дочерних суммарный hello в состоянии предупреждения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-313">If children have both OK and warning states, hello child aggregated health state is warning.</span></span>
* <span data-ttu-id="fcb44-314">При наличии дочерних элементов с состояния ошибки, которые не влияют на hello максимальный разрешенный процент неработоспособное дочерних элементов, hello общее состояние работоспособности является ошибкой.</span><span class="sxs-lookup"><span data-stu-id="fcb44-314">If there are children with error states that do not respect hello maximum allowed percentage of unhealthy children, hello aggregated health state is an error.</span></span>
* <span data-ttu-id="fcb44-315">Если hello дочерние элементы с hello относительно состояний ошибки максимальный разрешенный процент неработоспособное дочерних hello общее состояние работоспособности — предупреждение.</span><span class="sxs-lookup"><span data-stu-id="fcb44-315">If hello children with error states respect hello maximum allowed percentage of unhealthy children, hello aggregated health state is warning.</span></span>

## <a name="health-reporting"></a><span data-ttu-id="fcb44-316">Создание отчетов о работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-316">Health reporting</span></span>
<span data-ttu-id="fcb44-317">Создавать отчеты для сущностей Service Fabric могут системные компоненты, приложения Service Fabric, а также внутренние и внешние модули мониторинга.</span><span class="sxs-lookup"><span data-stu-id="fcb44-317">System components, System Fabric applications, and internal/external watchdogs can report against Service Fabric entities.</span></span> <span data-ttu-id="fcb44-318">сделать "создатели отчетов" Hello *локального* решения hello работоспособности отслеживаемых hello сущностей, на основе условий hello, они представляют собой наблюдения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-318">hello reporters make *local* determinations of hello health of hello monitored entities, based on hello conditions they are monitoring.</span></span> <span data-ttu-id="fcb44-319">Они не должны toolook в любом глобальное состояние или статистической обработки данных.</span><span class="sxs-lookup"><span data-stu-id="fcb44-319">They don't need toolook at any global state or aggregate data.</span></span> <span data-ttu-id="fcb44-320">Hello требуемого поведение — toohave простой "создатели отчетов" и сложный организмам, требующих какие сведения toosend toolook во многих tooinfer вещи.</span><span class="sxs-lookup"><span data-stu-id="fcb44-320">hello desired behavior is toohave simple reporters, and not complex organisms that need toolook at many things tooinfer what information toosend.</span></span>

<span data-ttu-id="fcb44-321">toosend работоспособности toohello работоспособности хранилища данных отслеживания должен tooidentify hello затронутых сущности и создания отчета о работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-321">toosend health data toohello health store, a reporter needs tooidentify hello affected entity and create a health report.</span></span> <span data-ttu-id="fcb44-322">toosend hello отчетов, используйте hello [FabricClient.HealthClient.ReportHealth](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.healthclient.reporthealth) API-интерфейсы API, предоставляемым hello отчет о работоспособности `Partition` или `CodePackageActivationContext` объектов, командлеты PowerShell или REST.</span><span class="sxs-lookup"><span data-stu-id="fcb44-322">toosend hello report, use hello [FabricClient.HealthClient.ReportHealth](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.healthclient.reporthealth) API, report health APIs exposed on hello `Partition` or `CodePackageActivationContext` objects, PowerShell cmdlets, or REST.</span></span>

### <a name="health-reports"></a><span data-ttu-id="fcb44-323">Отчеты о работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-323">Health reports</span></span>
<span data-ttu-id="fcb44-324">Hello [отчеты о работоспособности](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthreport) для каждой сущности hello в кластере hello содержат hello следующую информацию:</span><span class="sxs-lookup"><span data-stu-id="fcb44-324">hello [health reports](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthreport) for each of hello entities in hello cluster contain hello following information:</span></span>

* <span data-ttu-id="fcb44-325">**SourceId**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-325">**SourceId**.</span></span> <span data-ttu-id="fcb44-326">Строка, однозначно определяющее hello-формирования события работоспособности hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-326">A string that uniquely identifies hello reporter of hello health event.</span></span>
* <span data-ttu-id="fcb44-327">**Entity identifier**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-327">**Entity identifier**.</span></span> <span data-ttu-id="fcb44-328">Определяет сущности hello, где применяется hello отчета.</span><span class="sxs-lookup"><span data-stu-id="fcb44-328">Identifies hello entity where hello report is applied.</span></span> <span data-ttu-id="fcb44-329">Он зависит от hello [тип сущности](service-fabric-health-introduction.md#health-entities-and-hierarchy):</span><span class="sxs-lookup"><span data-stu-id="fcb44-329">It differs based on hello [entity type](service-fabric-health-introduction.md#health-entities-and-hierarchy):</span></span>
  
  * <span data-ttu-id="fcb44-330">Cluster.</span><span class="sxs-lookup"><span data-stu-id="fcb44-330">Cluster.</span></span> <span data-ttu-id="fcb44-331">Отсутствует.</span><span class="sxs-lookup"><span data-stu-id="fcb44-331">None.</span></span>
  * <span data-ttu-id="fcb44-332">Node.</span><span class="sxs-lookup"><span data-stu-id="fcb44-332">Node.</span></span> <span data-ttu-id="fcb44-333">Имя узла (строка).</span><span class="sxs-lookup"><span data-stu-id="fcb44-333">Node name  (string).</span></span>
  * <span data-ttu-id="fcb44-334">приложение.</span><span class="sxs-lookup"><span data-stu-id="fcb44-334">Application.</span></span> <span data-ttu-id="fcb44-335">Имя приложения (URI).</span><span class="sxs-lookup"><span data-stu-id="fcb44-335">Application name (URI).</span></span> <span data-ttu-id="fcb44-336">Представляет имя экземпляра приложения hello, развернутым в кластере hello hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-336">Represents hello name of hello application instance deployed in hello cluster.</span></span>
  * <span data-ttu-id="fcb44-337">Service.</span><span class="sxs-lookup"><span data-stu-id="fcb44-337">Service.</span></span> <span data-ttu-id="fcb44-338">Имя службы (URI).</span><span class="sxs-lookup"><span data-stu-id="fcb44-338">Service name (URI).</span></span> <span data-ttu-id="fcb44-339">Представляет имя экземпляра службы hello, развернутым в кластере hello hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-339">Represents hello name of hello service instance deployed in hello cluster.</span></span>
  * <span data-ttu-id="fcb44-340">Partition.</span><span class="sxs-lookup"><span data-stu-id="fcb44-340">Partition.</span></span> <span data-ttu-id="fcb44-341">Идентификатор раздела (GUID).</span><span class="sxs-lookup"><span data-stu-id="fcb44-341">Partition ID (GUID).</span></span> <span data-ttu-id="fcb44-342">Представляет уникальный идентификатор секции hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-342">Represents hello partition unique identifier.</span></span>
  * <span data-ttu-id="fcb44-343">Replica.</span><span class="sxs-lookup"><span data-stu-id="fcb44-343">Replica.</span></span> <span data-ttu-id="fcb44-344">Идентификатор реплики службы с отслеживанием состояния Hello или идентификатор экземпляра службы без отслеживания состояния hello (INT64).</span><span class="sxs-lookup"><span data-stu-id="fcb44-344">hello stateful service replica ID or hello stateless service instance ID (INT64).</span></span>
  * <span data-ttu-id="fcb44-345">DeployedApplication.</span><span class="sxs-lookup"><span data-stu-id="fcb44-345">DeployedApplication.</span></span> <span data-ttu-id="fcb44-346">Имя приложения (URI) и имя узла (строка).</span><span class="sxs-lookup"><span data-stu-id="fcb44-346">Application name (URI) and node name (string).</span></span>
  * <span data-ttu-id="fcb44-347">DeployedServicePackage.</span><span class="sxs-lookup"><span data-stu-id="fcb44-347">DeployedServicePackage.</span></span> <span data-ttu-id="fcb44-348">Имя приложения (URI), имя узла (строка) и имя манифеста службы (строка).</span><span class="sxs-lookup"><span data-stu-id="fcb44-348">Application name (URI), node name (string), and service manifest name (string).</span></span>
* <span data-ttu-id="fcb44-349">**Property**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-349">**Property**.</span></span> <span data-ttu-id="fcb44-350">Объект *строка* (фиксированный перечисления), позволяющий hello отслеживания работоспособности hello toocategorize событий для конкретного свойства сущности hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-350">A *string* (not a fixed enumeration) that allows hello reporter toocategorize hello health event for a specific property of hello entity.</span></span> <span data-ttu-id="fcb44-351">Например формирования A можно отчетов работоспособности hello hello Node01 свойства «Хранилище» и формирования B можно отчетов работоспособности hello hello Node01 свойства «Подключения».</span><span class="sxs-lookup"><span data-stu-id="fcb44-351">For example, reporter A can report hello health of hello Node01 "Storage" property and reporter B can report hello health of hello Node01 "Connectivity" property.</span></span> <span data-ttu-id="fcb44-352">В базе данных health store hello эти отчеты обрабатываются как события работоспособности отдельных для hello Node01 сущности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-352">In hello health store, these reports are treated as separate health events for hello Node01 entity.</span></span>
* <span data-ttu-id="fcb44-353">**Описание**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-353">**Description**.</span></span> <span data-ttu-id="fcb44-354">Строка, которая позволяет tooprovide отслеживания подробных сведений о событие работоспособности hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-354">A string that allows a reporter tooprovide detailed information about hello health event.</span></span> <span data-ttu-id="fcb44-355">**Идентификатор SourceId**, **свойство**, и **HealthState** полностью должно описывать hello отчета.</span><span class="sxs-lookup"><span data-stu-id="fcb44-355">**SourceId**, **Property**, and **HealthState** should fully describe hello report.</span></span> <span data-ttu-id="fcb44-356">Описание Hello Добавление восприятия сведения об отчете hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-356">hello description adds human-readable information about hello report.</span></span> <span data-ttu-id="fcb44-357">текст Hello упрощает для администраторов и пользователей toounderstand hello отчет о работоспособности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-357">hello text makes it easier for administrators and users toounderstand hello health report.</span></span>
* <span data-ttu-id="fcb44-358">**HealthState**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-358">**HealthState**.</span></span> <span data-ttu-id="fcb44-359">[Перечисления](service-fabric-health-introduction.md#health-states) , описывающее состояние работоспособности hello hello отчета.</span><span class="sxs-lookup"><span data-stu-id="fcb44-359">An [enumeration](service-fabric-health-introduction.md#health-states) that describes hello health state of hello report.</span></span> <span data-ttu-id="fcb44-360">Hello приняты следующие значения: OK, предупреждения и ошибки.</span><span class="sxs-lookup"><span data-stu-id="fcb44-360">hello accepted values are OK, Warning, and Error.</span></span>
* <span data-ttu-id="fcb44-361">**TimeToLive**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-361">**TimeToLive**.</span></span> <span data-ttu-id="fcb44-362">Значение типа timespan, указывающее, сколько времени отчета о работоспособности hello является допустимым.</span><span class="sxs-lookup"><span data-stu-id="fcb44-362">A timespan that indicates how long hello health report is valid.</span></span> <span data-ttu-id="fcb44-363">В сочетании с **RemoveWhenExpired**, он позволяет hello базе данных health store знать, как tooevaluate истек срок действия события.</span><span class="sxs-lookup"><span data-stu-id="fcb44-363">Coupled with **RemoveWhenExpired**, it lets hello health store know how tooevaluate expired events.</span></span> <span data-ttu-id="fcb44-364">По умолчанию бесконечное значение hello и навсегда hello отчета является допустимым.</span><span class="sxs-lookup"><span data-stu-id="fcb44-364">By default, hello value is infinite, and hello report is valid forever.</span></span>
* <span data-ttu-id="fcb44-365">**RemoveWhenExpired**(кластер).</span><span class="sxs-lookup"><span data-stu-id="fcb44-365">**RemoveWhenExpired**.</span></span> <span data-ttu-id="fcb44-366">Логическое значение.</span><span class="sxs-lookup"><span data-stu-id="fcb44-366">A Boolean.</span></span> <span data-ttu-id="fcb44-367">Если задать tootrue, hello работоспособности с истекшим сроком действия отчета автоматически удаляется из хранилища работоспособности hello и hello отчета не влияет оценки работоспособности сущности.</span><span class="sxs-lookup"><span data-stu-id="fcb44-367">If set tootrue, hello expired health report is automatically removed from hello health store, and hello report doesn't impact entity health evaluation.</span></span> <span data-ttu-id="fcb44-368">При отчетов hello действителен в течение указанного периода только время и формирования отчетов hello не требуется tooexplicitly ее необходимо очистить. Также использовал toodelete отчеты из хранилища hello работоспособности (например, контрольного меняется и перестает отправлять отчеты с предыдущего источника и свойства).</span><span class="sxs-lookup"><span data-stu-id="fcb44-368">Used when hello report is valid for a specified period of time only, and hello reporter doesn't need tooexplicitly clear it out. It's also used toodelete reports from hello health store (for example, a watchdog is changed and stops sending reports with previous source and property).</span></span> <span data-ttu-id="fcb44-369">Он может отправить отчет, содержащий краткое TimeToLive вместе с RemoveWhenExpired tooclear копирование любого предыдущего состояния работоспособности магазине hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-369">It can send a report with a brief TimeToLive along with RemoveWhenExpired tooclear up any previous state from hello health store.</span></span> <span data-ttu-id="fcb44-370">Если значение hello toofalse, hello отчета с истекшим сроком действия рассматривается как ошибка оценки работоспособности hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-370">If hello value is set toofalse, hello expired report is treated as an error on hello health evaluation.</span></span> <span data-ttu-id="fcb44-371">значение false Hello сигналы toohello базе данных health store источника hello периодически следует сообщать о данном свойстве.</span><span class="sxs-lookup"><span data-stu-id="fcb44-371">hello false value signals toohello health store that hello source should report periodically on this property.</span></span> <span data-ttu-id="fcb44-372">Если это не так, то необходимо быть сбоях в контрольного hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-372">If it doesn't, then there must be something wrong with hello watchdog.</span></span> <span data-ttu-id="fcb44-373">Hello контрольного работоспособности фиксируется при рассмотрении hello событий как ошибку.</span><span class="sxs-lookup"><span data-stu-id="fcb44-373">hello watchdog's health is captured by considering hello event as an error.</span></span>
* <span data-ttu-id="fcb44-374">**SequenceNumber**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-374">**SequenceNumber**.</span></span> <span data-ttu-id="fcb44-375">Положительное целое число, который должен toobe увеличивающихся, он представляет порядок hello hello отчеты.</span><span class="sxs-lookup"><span data-stu-id="fcb44-375">A positive integer that needs toobe ever-increasing, it represents hello order of hello reports.</span></span> <span data-ttu-id="fcb44-376">Он используется hello работоспособности хранилища toodetect устаревших отчетов, которые были получены из-за задержки сети или других проблем с задержкой.</span><span class="sxs-lookup"><span data-stu-id="fcb44-376">It is used by hello health store toodetect stale reports that are received late because of network delays or other issues.</span></span> <span data-ttu-id="fcb44-377">Отчет будет отклонен, если hello порядковый номер меньше или равно hello номер последнего применения toohello для одной сущности, источник и свойства.</span><span class="sxs-lookup"><span data-stu-id="fcb44-377">A report is rejected if hello sequence number is less than or equal toohello most recently applied number for hello same entity, source, and property.</span></span> <span data-ttu-id="fcb44-378">Если не указан порядковый номер hello создается автоматически.</span><span class="sxs-lookup"><span data-stu-id="fcb44-378">If it is not specified, hello sequence number is generated automatically.</span></span> <span data-ttu-id="fcb44-379">Это необходимые tooput в hello порядковый номер, только в том случае, если отчеты о переходов между состояниями.</span><span class="sxs-lookup"><span data-stu-id="fcb44-379">It is necessary tooput in hello sequence number only when reporting on state transitions.</span></span> <span data-ttu-id="fcb44-380">В этом случае hello источник должен tooremember какие отчеты его отправки и хранения hello сведений для восстановления при отработке отказа.</span><span class="sxs-lookup"><span data-stu-id="fcb44-380">In this situation, hello source needs tooremember which reports it sent and keep hello information for recovery on failover.</span></span>

<span data-ttu-id="fcb44-381">Эти четыре параметра (SourceId, Entity Identifier, Property и HealthState) являются обязательными для всех отчетов.</span><span class="sxs-lookup"><span data-stu-id="fcb44-381">These four pieces of information--SourceId, entity identifier, Property, and HealthState--are required for every health report.</span></span> <span data-ttu-id="fcb44-382">Идентификатор SourceId строка Hello не допускается toostart с префиксом hello»**системы.**», которой должна быть зарезервирована для системы отчетов.</span><span class="sxs-lookup"><span data-stu-id="fcb44-382">hello SourceId string is not allowed toostart with hello prefix "**System.**", which is reserved for system reports.</span></span> <span data-ttu-id="fcb44-383">Для hello одной сущности имеется только один отчет для hello того же источника и свойства.</span><span class="sxs-lookup"><span data-stu-id="fcb44-383">For hello same entity, there is only one report for hello same source and property.</span></span> <span data-ttu-id="fcb44-384">Здравствуйте, несколько отчетов для одного источника и переопределения свойств друг с другом на hello работоспособности на стороне клиента (если они являются пакетными) или на стороне хранилища работоспособности hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-384">Multiple reports for hello same source and property override each other, either on hello health client side (if they are batched) or on hello health store side.</span></span> <span data-ttu-id="fcb44-385">Замена Hello основан на последовательности чисел. новые отчеты (с большими порядковыми номерами) замените старые отчеты.</span><span class="sxs-lookup"><span data-stu-id="fcb44-385">hello replacement is based on sequence numbers; newer reports (with higher sequence numbers) replace older reports.</span></span>

### <a name="health-events"></a><span data-ttu-id="fcb44-386">События работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-386">Health events</span></span>
<span data-ttu-id="fcb44-387">На внутреннем уровне hello работоспособности хранилище поддерживает [события работоспособности](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthevent), содержащих все hello сведения из отчетов hello и дополнительных метаданных.</span><span class="sxs-lookup"><span data-stu-id="fcb44-387">Internally, hello health store keeps [health events](https://docs.microsoft.com/dotnet/api/system.fabric.health.healthevent), which contain all hello information from hello reports, and additional metadata.</span></span> <span data-ttu-id="fcb44-388">Hello метаданные включают время hello hello отчет передан toohello работоспособности клиента и hello раз, когда он был изменен на стороне сервера hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-388">hello metadata includes hello time hello report was given toohello health client and hello time it was modified on hello server side.</span></span> <span data-ttu-id="fcb44-389">события работоспособности Hello возвращаемые [запросов о работоспособности](service-fabric-view-entities-aggregated-health.md#health-queries).</span><span class="sxs-lookup"><span data-stu-id="fcb44-389">hello health events are returned by [health queries](service-fabric-view-entities-aggregated-health.md#health-queries).</span></span>

<span data-ttu-id="fcb44-390">Hello добавлены метаданных содержит:</span><span class="sxs-lookup"><span data-stu-id="fcb44-390">hello added metadata contains:</span></span>

* <span data-ttu-id="fcb44-391">**SourceUtcTimestamp**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-391">**SourceUtcTimestamp**.</span></span> <span data-ttu-id="fcb44-392">отчет о hello Hello времени указано toohello работоспособности клиента (время по Гринвичу).</span><span class="sxs-lookup"><span data-stu-id="fcb44-392">hello time hello report was given toohello health client (Coordinated Universal Time).</span></span>
* <span data-ttu-id="fcb44-393">**LastModifiedUtcTimestamp**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-393">**LastModifiedUtcTimestamp**.</span></span> <span data-ttu-id="fcb44-394">отчет hello Hello времени последнего изменения на стороне сервера hello (время по Гринвичу).</span><span class="sxs-lookup"><span data-stu-id="fcb44-394">hello time hello report was last modified on hello server side (Coordinated Universal Time).</span></span>
* <span data-ttu-id="fcb44-395">**IsExpired**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-395">**IsExpired**.</span></span> <span data-ttu-id="fcb44-396">Значение флага tooindicate ли отчет hello истечения срока действия при выполнении запроса hello хранилищем работоспособности hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-396">A flag tooindicate whether hello report was expired when hello query was executed by hello health store.</span></span> <span data-ttu-id="fcb44-397">Срок действия события может истечь, только если флаг RemoveWhenExpired имеет значение False.</span><span class="sxs-lookup"><span data-stu-id="fcb44-397">An event can be expired only if RemoveWhenExpired is false.</span></span> <span data-ttu-id="fcb44-398">В противном случае событие hello не возвращаются запросом и удаляется из хранилища hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-398">Otherwise, hello event is not returned by query and is removed from hello store.</span></span>
* <span data-ttu-id="fcb44-399">**LastOkTransitionAt**, **LastWarningTransitionAt**, **LastErrorTransitionAt**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-399">**LastOkTransitionAt**, **LastWarningTransitionAt**, **LastErrorTransitionAt**.</span></span> <span data-ttu-id="fcb44-400">Здравствуйте, время последнего переходов ОК или предупреждениями.</span><span class="sxs-lookup"><span data-stu-id="fcb44-400">hello last time for OK/warning/error transitions.</span></span> <span data-ttu-id="fcb44-401">Эти поля присвойте hello журнал hello переходы состояний работоспособности для событий hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-401">These fields give hello history of hello health state transitions for hello event.</span></span>

<span data-ttu-id="fcb44-402">Hello состояния перехода поля могут использоваться оптимизированное оповещения и сведения о событиях состояния «журнала».</span><span class="sxs-lookup"><span data-stu-id="fcb44-402">hello state transition fields can be used for smarter alerts or "historical" health event information.</span></span> <span data-ttu-id="fcb44-403">Возможные сценарии их использования.</span><span class="sxs-lookup"><span data-stu-id="fcb44-403">They enable scenarios such as:</span></span>

* <span data-ttu-id="fcb44-404">Генерирование предупреждения, если свойство находится в состоянии Warning или Error более X минут.</span><span class="sxs-lookup"><span data-stu-id="fcb44-404">Alert when a property has been at warning/error for more than X minutes.</span></span> <span data-ttu-id="fcb44-405">Проверка условия hello в течение заданного времени позволяет избежать оповещения на временные условия.</span><span class="sxs-lookup"><span data-stu-id="fcb44-405">Checking hello condition for a period of time avoids alerts on temporary conditions.</span></span> <span data-ttu-id="fcb44-406">Например, предупреждение, если состояние работоспособности hello предупреждение более чем на пять минут могут быть переведены в (HealthState == предупреждение и теперь - LastWarningTransitionTime > 5 минут).</span><span class="sxs-lookup"><span data-stu-id="fcb44-406">For example, an alert if hello health state has been warning for more than five minutes can be translated into (HealthState == Warning and Now - LastWarningTransitionTime > 5 minutes).</span></span>
* <span data-ttu-id="fcb44-407">Предупреждение, только на условия, которые были изменены в hello последнего X минут.</span><span class="sxs-lookup"><span data-stu-id="fcb44-407">Alert only on conditions that have changed in hello last X minutes.</span></span> <span data-ttu-id="fcb44-408">Если отчет уже был при обнаружении ошибки перед hello указанного времени, может быть пропущено, так как он уже получил сигнал ранее.</span><span class="sxs-lookup"><span data-stu-id="fcb44-408">If a report was already at error before hello specified time, it can be ignored because it was already signaled previously.</span></span>
* <span data-ttu-id="fcb44-409">Если состояние свойства меняется с "Warning" на "Error" и обратно, можно определить, как долго сохраняется неработоспособность (т. е. состояние, отличное от "ОК").</span><span class="sxs-lookup"><span data-stu-id="fcb44-409">If a property is toggling between warning and error, determine how long it has been unhealthy (that is, not OK).</span></span> <span data-ttu-id="fcb44-410">Например, предупреждение, если более чем на пять минут не было работоспособное hello свойства могут быть переведены в (HealthState! = Ok и теперь - LastOkTransitionTime > 5 минут).</span><span class="sxs-lookup"><span data-stu-id="fcb44-410">For example, an alert if hello property hasn't been healthy for more than five minutes can be translated into (HealthState != Ok and Now - LastOkTransitionTime > 5 minutes).</span></span>

## <a name="example-report-and-evaluate-application-health"></a><span data-ttu-id="fcb44-411">Пример: отправка отчетов и оценка работоспособности приложения</span><span class="sxs-lookup"><span data-stu-id="fcb44-411">Example: Report and evaluate application health</span></span>
<span data-ttu-id="fcb44-412">Hello пример отправляет отчет о работоспособности с помощью PowerShell по приложения hello **fabric: / WordCount** из источника hello **MyWatchdog**.</span><span class="sxs-lookup"><span data-stu-id="fcb44-412">hello following example sends a health report through PowerShell on hello application **fabric:/WordCount** from hello source **MyWatchdog**.</span></span> <span data-ttu-id="fcb44-413">отчет о работоспособности Hello содержит сведения о свойстве работоспособности hello «доступность» в состоянии работоспособности ошибки с бесконечной TimeToLive.</span><span class="sxs-lookup"><span data-stu-id="fcb44-413">hello health report contains information about hello health property "availability" in an error health state, with infinite TimeToLive.</span></span> <span data-ttu-id="fcb44-414">Затем запрашивается работоспособности приложения hello, возвращающий статистическая обработка ошибки состояния работоспособности и hello сообщила о работоспособности событий в списке hello событиями состояния.</span><span class="sxs-lookup"><span data-stu-id="fcb44-414">Then it queries hello application health, which returns aggregated health state errors and hello reported health events in hello list of health events.</span></span>

```powershell
PS C:\> Send-ServiceFabricApplicationHealthReport –ApplicationName fabric:/WordCount –SourceId "MyWatchdog" –HealthProperty "Availability" –HealthState Error

PS C:\> Get-ServiceFabricApplicationHealth fabric:/WordCount -ExcludeHealthStatistics


ApplicationName                 : fabric:/WordCount
AggregatedHealthState           : Error
UnhealthyEvaluations            :
                                  Error event: SourceId='MyWatchdog', Property='Availability'.

ServiceHealthStates             :
                                  ServiceName           : fabric:/WordCount/WordCountService
                                  AggregatedHealthState : Error

                                  ServiceName           : fabric:/WordCount/WordCountWebService
                                  AggregatedHealthState : Ok

DeployedApplicationHealthStates :
                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_0
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_2
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_3
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_4
                                  AggregatedHealthState : Ok

                                  ApplicationName       : fabric:/WordCount
                                  NodeName              : _Node_1
                                  AggregatedHealthState : Ok

HealthEvents                    :
                                  SourceId              : System.CM
                                  Property              : State
                                  HealthState           : Ok
                                  SequenceNumber        : 360
                                  SentAt                : 3/22/2016 7:56:53 PM
                                  ReceivedAt            : 3/22/2016 7:56:53 PM
                                  TTL                   : Infinite
                                  Description           : Application has been created.
                                  RemoveWhenExpired     : False
                                  IsExpired             : False
                                  Transitions           : Error->Ok = 3/22/2016 7:56:53 PM, LastWarning = 1/1/0001 12:00:00 AM

                                  SourceId              : MyWatchdog
                                  Property              : Availability
                                  HealthState           : Error
                                  SequenceNumber        : 131032204762818013
                                  SentAt                : 3/23/2016 3:27:56 PM
                                  ReceivedAt            : 3/23/2016 3:27:56 PM
                                  TTL                   : Infinite
                                  Description           :
                                  RemoveWhenExpired     : False
                                  IsExpired             : False
                                  Transitions           : Ok->Error = 3/23/2016 3:27:56 PM, LastWarning = 1/1/0001 12:00:00 AM
```

## <a name="health-model-usage"></a><span data-ttu-id="fcb44-415">Использование модели работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-415">Health model usage</span></span>
<span data-ttu-id="fcb44-416">Модель работоспособности Hello позволяет облачных служб и hello базовой платформы tooscale Service Fabric, поскольку мониторинга и работоспособности решения расположены на разных мониторах hello в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="fcb44-416">hello health model allows cloud services and hello underlying Service Fabric platform tooscale, because monitoring and health determinations are distributed among hello different monitors within hello cluster.</span></span>
<span data-ttu-id="fcb44-417">Другие системы имеют централизованного службой на уровне кластера hello, который выполняет синтаксический анализ всех hello *потенциально* полезной информации, генерируемой служб.</span><span class="sxs-lookup"><span data-stu-id="fcb44-417">Other systems have a single, centralized service at hello cluster level that parses all hello *potentially* useful information emitted by services.</span></span> <span data-ttu-id="fcb44-418">Такой подход затрудняет масштабирование,</span><span class="sxs-lookup"><span data-stu-id="fcb44-418">This approach hinders their scalability.</span></span> <span data-ttu-id="fcb44-419">Он также не дает им toocollect toohelp идентифицировать проблемы и потенциальные проблемы как основной причины закрытия toohello максимально сведения.</span><span class="sxs-lookup"><span data-stu-id="fcb44-419">It also doesn't allow them toocollect specific information toohelp identify issues and potential issues as close toohello root cause as possible.</span></span>

<span data-ttu-id="fcb44-420">Модель работоспособности Hello активно используется для наблюдения и диагностики, а также для оценки работоспособности кластера и приложения и для отслеживаемых обновлений.</span><span class="sxs-lookup"><span data-stu-id="fcb44-420">hello health model is used heavily for monitoring and diagnosis, for evaluating cluster and application health, and for monitored upgrades.</span></span> <span data-ttu-id="fcb44-421">Другие службы использовать tooperform данных автоматическое восстановление работоспособности, построить журнал работоспособности кластера и выдавать предупреждения при определенных условиях.</span><span class="sxs-lookup"><span data-stu-id="fcb44-421">Other services use health data tooperform automatic repairs, build cluster health history, and issue alerts on certain conditions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fcb44-422">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="fcb44-422">Next steps</span></span>
[<span data-ttu-id="fcb44-423">Просмотр отчетов о работоспособности Service Fabric</span><span class="sxs-lookup"><span data-stu-id="fcb44-423">View Service Fabric health reports</span></span>](service-fabric-view-entities-aggregated-health.md)

[<span data-ttu-id="fcb44-424">Использование отчетов о работоспособности системы для устранения неполадок</span><span class="sxs-lookup"><span data-stu-id="fcb44-424">Use system health reports for troubleshooting</span></span>](service-fabric-understand-and-troubleshoot-with-system-health-reports.md)

[<span data-ttu-id="fcb44-425">Как tooreport и проверки службы работоспособности</span><span class="sxs-lookup"><span data-stu-id="fcb44-425">How tooreport and check service health</span></span>](service-fabric-diagnostics-how-to-report-and-check-service-health.md)

[<span data-ttu-id="fcb44-426">Добавление настраиваемых отчетов о работоспособности Service Fabric</span><span class="sxs-lookup"><span data-stu-id="fcb44-426">Add custom Service Fabric health reports</span></span>](service-fabric-report-health.md)

[<span data-ttu-id="fcb44-427">Мониторинг и диагностика состояния служб в локальной среде разработки</span><span class="sxs-lookup"><span data-stu-id="fcb44-427">Monitor and diagnose services locally</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)

[<span data-ttu-id="fcb44-428">Обновление приложения Service Fabric</span><span class="sxs-lookup"><span data-stu-id="fcb44-428">Service Fabric application upgrade</span></span>](service-fabric-application-upgrade.md)

