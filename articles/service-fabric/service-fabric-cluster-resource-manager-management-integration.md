---
title: "aaaService диспетчер ресурсов кластера структуры - интеграция с управлением | Документы Microsoft"
description: "Обзор hello точки интеграции между hello диспетчер ресурсов кластера и структуры управления службами."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 956cd0b8-b6e3-4436-a224-8766320e8cd7
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9a24c9de121fbe2e8e5e8e4d117e64686918936a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-integration-with-service-fabric-cluster-management"></a><span data-ttu-id="e5dfc-103">Интеграция диспетчера кластерных ресурсов с управлением кластерами Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e5dfc-103">Cluster resource manager integration with Service Fabric cluster management</span></span>
<span data-ttu-id="e5dfc-104">Диспетчер ресурсов кластера Service Fabric Hello не диск обновления в Service Fabric, но он связан.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-104">hello Service Fabric Cluster Resource Manager doesn't drive upgrades in Service Fabric, but it is involved.</span></span> <span data-ttu-id="e5dfc-105">Первый способ, помогает hello диспетчер ресурсов кластера с помощью управления за счет отслеживания hello Hello требуемое состояние кластера hello и hello служб внутри него.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-105">hello first way that hello Cluster Resource Manager helps with management is by tracking hello desired state of hello cluster and hello services inside it.</span></span> <span data-ttu-id="e5dfc-106">Диспетчер ресурсов кластера Hello отправляет отчеты о работоспособности при его невозможно перевести кластер hello в hello требуемой конфигурацией.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-106">hello Cluster Resource Manager sends out health reports when it cannot put hello cluster into hello desired configuration.</span></span> <span data-ttu-id="e5dfc-107">Например если Недостаточно емкости hello диспетчер ресурсов кластера отправляет работоспособности предупреждений и ошибок, указывающих на проблемы hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-107">For example, if there is insufficient capacity hello Cluster Resource Manager sends out health warnings and errors indicating hello problem.</span></span> <span data-ttu-id="e5dfc-108">Другой фрагмент интеграции имеет toodo с работы обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-108">Another piece of integration has toodo with how upgrades work.</span></span> <span data-ttu-id="e5dfc-109">Диспетчер ресурсов кластера Hello немного изменяет его поведение во время обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-109">hello Cluster Resource Manager alters its behavior slightly during upgrades.</span></span>  

## <a name="health-integration"></a><span data-ttu-id="e5dfc-110">Интеграция функций работоспособности</span><span class="sxs-lookup"><span data-stu-id="e5dfc-110">Health integration</span></span>
<span data-ttu-id="e5dfc-111">Диспетчер ресурсов кластера Hello постоянно отслеживает hello правил, определенных для размещения служб.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-111">hello Cluster Resource Manager constantly tracks hello rules you have defined for placing your services.</span></span> <span data-ttu-id="e5dfc-112">Она также отслеживает hello оставшихся емкости для каждой метрики на узлах hello в кластере hello и в кластере hello в целом.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-112">It also tracks hello remaining capacity for each metric on hello nodes and in hello cluster and in hello cluster as a whole.</span></span> <span data-ttu-id="e5dfc-113">Он передает предупреждения о работоспособности и сообщает об ошибках работоспособности, если не может выполнить эти правила или выделить достаточную емкость.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-113">If it can't satisfy those rules or if there is insufficient capacity, health warnings and errors are emitted.</span></span> <span data-ttu-id="e5dfc-114">Например если узел находится на емкость и hello диспетчер ресурсов кластера выполнит попытку toofix hello ситуации, перемещая служб.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-114">For example, if a node is over capacity and hello Cluster Resource Manager will try toofix hello situation by moving services.</span></span> <span data-ttu-id="e5dfc-115">Если не удается исправить ситуацию hello он выдает предупреждение работоспособности, указывающее, какой из узлов по емкости, а какие метрики.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-115">If it can't correct hello situation it emits a health warning indicating which node is over capacity, and for which metrics.</span></span>

<span data-ttu-id="e5dfc-116">Еще один пример предупреждения работоспособности диспетчера ресурсов hello — нарушения ограничений размещения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-116">Another example of hello Resource Manager's health warnings is violations of placement constraints.</span></span> <span data-ttu-id="e5dfc-117">Например, если вы определили ограничения размещения (например, `“NodeColor == Blue”`) и hello диспетчера ресурсов выявляется нарушение ограничения, он выдает предупреждение работоспособности.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-117">For example, if you have defined a placement constraint (such as `“NodeColor == Blue”`) and hello Resource Manager detects a violation of that constraint, it emits a health warning.</span></span> <span data-ttu-id="e5dfc-118">Это требование справедливо для пользовательских ограничений и ограничений по умолчанию hello (например, ограничения hello домен сбоя и доменов обновления).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-118">This is true for custom constraints and hello default constraints (like hello Fault Domain and Upgrade Domain constraints).</span></span>

<span data-ttu-id="e5dfc-119">Ниже приведен пример такого отчета о работоспособности.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-119">Here’s an example of one such health report.</span></span> <span data-ttu-id="e5dfc-120">В этом случае отчет о работоспособности hello является одной из секций hello системной службы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-120">In this case, hello health report is for one of hello system service’s partitions.</span></span> <span data-ttu-id="e5dfc-121">сообщение Hello работоспособности указывает приветствия реплики этого раздела временно упакованы в слишком мало домены обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-121">hello health message indicates hello replicas of that partition are temporarily packed into too few Upgrade Domains.</span></span>

```posh
PS C:\Users\User > Get-WindowsFabricPartitionHealth -PartitionId '00000000-0000-0000-0000-000000000001'


PartitionId           : 00000000-0000-0000-0000-000000000001
AggregatedHealthState : Warning
UnhealthyEvaluations  :
                        Unhealthy event: SourceId='System.PLB', Property='ReplicaConstraintViolation_UpgradeDomain', HealthState='Warning', ConsiderWarningAsError=false.

ReplicaHealthStates   :
                        ReplicaId             : 130766528804733380
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577821
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528854889931
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577822
                        AggregatedHealthState : Ok

                        ReplicaId             : 130837073190680024
                        AggregatedHealthState : Ok

HealthEvents          :
                        SourceId              : System.PLB
                        Property              : ReplicaConstraintViolation_UpgradeDomain
                        HealthState           : Warning
                        SequenceNumber        : 130837100116930204
                        SentAt                : 8/10/2015 7:53:31 PM
                        ReceivedAt            : 8/10/2015 7:53:33 PM
                        TTL                   : 00:01:05
                        Description           : hello Load Balancer has detected a Constraint Violation for this Replica: fabric:/System/FailoverManagerService Secondary Partition 00000000-0000-0000-0000-000000000001 is
                        violating hello Constraint: UpgradeDomain Details: UpgradeDomain ID -- 4, Replica on NodeName -- Node.8 Currently Upgrading -- false Distribution Policy -- Packing
                        RemoveWhenExpired     : True
                        IsExpired             : False
                        Transitions           : Ok->Warning = 8/10/2015 7:13:02 PM, LastError = 1/1/0001 12:00:00 AM
```

<span data-ttu-id="e5dfc-122">В сообщении о работоспособности содержатся следующие сведения:</span><span class="sxs-lookup"><span data-stu-id="e5dfc-122">Here's what this health message is telling us is:</span></span>

1. <span data-ttu-id="e5dfc-123">Все реплики hello сами находятся в работоспособном состоянии: каждый имеет AggregatedHealthState: ОК</span><span class="sxs-lookup"><span data-stu-id="e5dfc-123">All hello replicas themselves are healthy: Each has AggregatedHealthState : Ok</span></span>
2. <span data-ttu-id="e5dfc-124">Hello ограничение распространения доменов обновления в настоящее время нарушается.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-124">hello Upgrade Domain distribution constraint is currently being violated.</span></span> <span data-ttu-id="e5dfc-125">Это означает, что в определенном домене обновления больше реплик из данной секции, чем должно быть.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-125">This means a particular Upgrade Domain has more replicas from this partition than it should.</span></span>
3. <span data-ttu-id="e5dfc-126">Какой узел содержит может вызвать нарушение hello hello реплики.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-126">Which node contains hello replica causing hello violation.</span></span> <span data-ttu-id="e5dfc-127">В этом случае это hello узел с именем hello «Node.8»</span><span class="sxs-lookup"><span data-stu-id="e5dfc-127">In this case it's hello node with hello name "Node.8"</span></span>
4. <span data-ttu-id="e5dfc-128">Выполняется ли в данный момент обновление этой секции ("Currently Upgrading -- false").</span><span class="sxs-lookup"><span data-stu-id="e5dfc-128">Whether an upgrade is currently happening for this partition ("Currently Upgrading -- false")</span></span>
5. <span data-ttu-id="e5dfc-129">Здравствуйте, политика распространения для этой службы: «Упаковки--распространения политики».</span><span class="sxs-lookup"><span data-stu-id="e5dfc-129">hello distribution policy for this service: "Distribution Policy -- Packing".</span></span> <span data-ttu-id="e5dfc-130">Это управляется hello `RequireDomainDistribution` [политика размещения](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-130">This is governed by hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="e5dfc-131">Значение "Packing" означает, что в этом случае распределение в доменах _не_ требовалось, поэтому нам известно, что политика размещения не была указана для этой службы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-131">"Packing" indicates that in this case DomainDistribution was _not_ required, so we know that placement policy was not specified for this service.</span></span> 
6. <span data-ttu-id="e5dfc-132">Когда отчет hello произошли - 8/10/2015 19:13:02: 00</span><span class="sxs-lookup"><span data-stu-id="e5dfc-132">When hello report happened - 8/10/2015 7:13:02 PM</span></span>

<span data-ttu-id="e5dfc-133">Сведения этого предупреждения степени использования toodetect срабатывают в производственных toolet вы знаете, что-то пошло не так, а также как и прервет плохих обновлений.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-133">Information like this powers alerts that fire in production toolet you know something has gone wrong and is also used toodetect and halt bad upgrades.</span></span> <span data-ttu-id="e5dfc-134">В этом случае toosee мы хотим, если мы выяснить, почему hello диспетчера ресурсов имели toopack hello реплик в hello доменов обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-134">In this case, we’d want toosee if we can figure out why hello Resource Manager had toopack hello replicas into hello Upgrade Domain.</span></span> <span data-ttu-id="e5dfc-135">Обычно упаковки является временным, из-за узлов hello в hello других доменов обновления, например.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-135">Usually packing is transient because hello nodes in hello other Upgrade Domains were down, for example.</span></span>

<span data-ttu-id="e5dfc-136">Предположим, что hello диспетчер ресурсов кластера пытается tooplace некоторые службы, но не все решения, которые работают.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-136">Let’s say hello Cluster Resource Manager is trying tooplace some services, but there aren't any solutions that work.</span></span> <span data-ttu-id="e5dfc-137">Если не удается поместить служб, это происходит по одной из следующих причин hello:</span><span class="sxs-lookup"><span data-stu-id="e5dfc-137">When services can't be placed, it is usually for one of hello following reasons:</span></span>

1. <span data-ttu-id="e5dfc-138">Некоторые переходным представляет собой невозможно tooplace этого экземпляра службы или реплики правильно</span><span class="sxs-lookup"><span data-stu-id="e5dfc-138">Some transient condition has made it impossible tooplace this service instance or replica correctly</span></span>
2. <span data-ttu-id="e5dfc-139">требования к размещению Hello службы быть реализован.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-139">hello service’s placement requirements are unsatisfiable.</span></span>

<span data-ttu-id="e5dfc-140">В этих случаях отчеты о работоспособности от hello диспетчер ресурсов кластера помогают определить, почему не могут быть размещены службы hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-140">In these cases, health reports from hello Cluster Resource Manager help you determine why hello service can’t be placed.</span></span> <span data-ttu-id="e5dfc-141">Мы называем этот процесс hello ограничение исключения последовательности.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-141">We call this process hello constraint elimination sequence.</span></span> <span data-ttu-id="e5dfc-142">Во время его hello системы рассматриваются hello настроить ограничения влияния на службу hello и записи их устранения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-142">During it, hello system walks through hello configured constraints affecting hello service and records what they eliminate.</span></span> <span data-ttu-id="e5dfc-143">Таким образом, если службы не может toobe размещены, можно увидеть, какие узлы были устранены и почему.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-143">This way when services aren’t able toobe placed, you can see which nodes were eliminated and why.</span></span>

## <a name="constraint-types"></a><span data-ttu-id="e5dfc-144">Типы ограничений</span><span class="sxs-lookup"><span data-stu-id="e5dfc-144">Constraint types</span></span>
<span data-ttu-id="e5dfc-145">Давайте поговорим о каждом hello различные ограничения в эти отчеты о работоспособности.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-145">Let’s talk about each of hello different constraints in these health reports.</span></span> <span data-ttu-id="e5dfc-146">Вы увидите ограничения toothese связанные сообщения работоспособности помещенный реплик.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-146">You will see health messages related toothese constraints when replicas can't be placed.</span></span>

* <span data-ttu-id="e5dfc-147">**ReplicaExclusionStatic** и **ReplicaExclusionDynamic**: этих ограничений указывает, что решение было отклонено, поскольку hello двух объектов службы из одной секции будет toobe помещены hello же узла.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-147">**ReplicaExclusionStatic** and **ReplicaExclusionDynamic**: These constraints indicates that a solution was rejected because two service objects from hello same partition would have toobe placed on hello same node.</span></span> <span data-ttu-id="e5dfc-148">Это недопустимо, так как сбой данного узла чрезмерно повлиял бы на эту секцию.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-148">This isn’t allowed because then failure of that node would overly impact that partition.</span></span> <span data-ttu-id="e5dfc-149">ReplicaExclusionStatic и ReplicaExclusionDynamic являются почти приветствия же правило и hello различия не имеет значения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-149">ReplicaExclusionStatic and ReplicaExclusionDynamic are almost hello same rule and hello differences don't really matter.</span></span> <span data-ttu-id="e5dfc-150">Если вы видите, что последовательность исключения ограничение, содержащая либо hello ReplicaExclusionStatic или ReplicaExclusionDynamic ограничение hello диспетчер ресурсов кластера считает, что в нем не достаточное количество узлов.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-150">If you are seeing a constraint elimination sequence containing either hello ReplicaExclusionStatic or ReplicaExclusionDynamic constraint, hello Cluster Resource Manager thinks that there aren’t enough nodes.</span></span> <span data-ttu-id="e5dfc-151">Для этого необходимо оставшихся решения toouse эти недопустимые размещениями, которые запрещены.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-151">This requires remaining solutions toouse these invalid placements which are disallowed.</span></span> <span data-ttu-id="e5dfc-152">Hello другими ограничениями в последовательности hello будет обычно Расскажите, почему узлы будут исключаться на первом месте hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-152">hello other constraints in hello sequence will usually tell us why nodes are being eliminated in hello first place.</span></span>
* <span data-ttu-id="e5dfc-153">**PlacementConstraint**: Если вы видите это сообщение, значит, мы устранены некоторые узлы, так как они не удовлетворяет ограничениям hello службы размещения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-153">**PlacementConstraint**: If you see this message, it means that we eliminated some nodes because they didn’t match hello service’s placement constraints.</span></span> <span data-ttu-id="e5dfc-154">Мы трассировки ограничений размещения hello в данный момент настроена как часть этого сообщения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-154">We trace out hello currently configured placement constraints as a part of this message.</span></span> <span data-ttu-id="e5dfc-155">Это нормально, если определено ограничение размещения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-155">This is normal if you have a placement constraint defined.</span></span> <span data-ttu-id="e5dfc-156">Тем не менее если ограничения на размещение неправильно вызывает слишком много toobe узлы устранить это, как можно будет заметить.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-156">However, if placement constraint is incorrectly causing too many nodes toobe eliminated this is how you would notice.</span></span>
* <span data-ttu-id="e5dfc-157">**NodeCapacity**: это ограничение означает, что hello, диспетчер ресурсов кластера не удалось разместить hello реплик на hello указывает узлы, поскольку, поместить их возможности.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-157">**NodeCapacity**: This constraint means that hello Cluster Resource Manager couldn’t place hello replicas on hello indicated nodes because that would put them over capacity.</span></span>
* <span data-ttu-id="e5dfc-158">**Сопоставление**: это ограничение задает, что мы не удалось размещения hello реплики на узлах hello влияет так, как это может привести к нарушению ограничения сходства hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-158">**Affinity**: This constraint indicates that we couldn’t place hello replica on hello affected nodes since it would cause a violation of hello affinity constraint.</span></span> <span data-ttu-id="e5dfc-159">Дополнительные сведения о сходстве см. в [этой статье](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-159">More information on affinity is in [this article](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span></span>
* <span data-ttu-id="e5dfc-160">**FaultDomain** и **UpgradeDomain**: это ограничение исключает узлов, если указано размещение hello реплики на hello узлов вызовет упаковки в конкретной ошибкой или домен обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-160">**FaultDomain** and **UpgradeDomain**: This constraint eliminates nodes if placing hello replica on hello indicated nodes would cause packing in a particular fault or upgrade domain.</span></span> <span data-ttu-id="e5dfc-161">Несколько примеров, посвященные этого ограничения перечислены в разделе hello на [ограничений доменов сбоя и обновления и результирующее поведение](service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="e5dfc-161">Several examples discussing this constraint are presented in hello topic on [fault and upgrade domain constraints and resulting behavior](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
* <span data-ttu-id="e5dfc-162">**PreferredLocation**: это ограничение, удаление узлов из решения hello, так как он выполняется для оптимизации по умолчанию обычно не должны видеть.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-162">**PreferredLocation**: You shouldn’t normally see this constraint removing nodes from hello solution since it runs as an optimization by default.</span></span> <span data-ttu-id="e5dfc-163">Hello предпочтительное ограничение расположения также присутствует во время обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-163">hello preferred location constraint is also present during upgrades.</span></span> <span data-ttu-id="e5dfc-164">Во время обновления это назад toowhere службы используется toomove, которые использовались при запуске обновления hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-164">During upgrade it is used toomove services back toowhere they were when hello upgrade started.</span></span>

## <a name="blocklisting-nodes"></a><span data-ttu-id="e5dfc-165">Добавление узлов в список блокировки</span><span class="sxs-lookup"><span data-stu-id="e5dfc-165">Blocklisting Nodes</span></span>
<span data-ttu-id="e5dfc-166">Узлы будут блокироваться и при другое сообщение hello диспетчер ресурсов кластера отчетов о работоспособности.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-166">Another health message hello Cluster Resource Manager reports is when nodes are blocklisted.</span></span> <span data-ttu-id="e5dfc-167">Список блокировки можно считать временным ограничением, которое применяется автоматически.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-167">You can think of blocklisting as a temporary constraint that is automatically applied for you.</span></span> <span data-ttu-id="e5dfc-168">Узлы добавляются в список блокировки, когда на них повторяются сбои при запуске экземпляров заданного типа службы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-168">Nodes get blocklisted when they experience repeated failures when launching instances of that service type.</span></span> <span data-ttu-id="e5dfc-169">Узлы добавляются в список блокировки на основе типа службы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-169">Nodes are blocklisted on a per-service-type basis.</span></span> <span data-ttu-id="e5dfc-170">Узел может быть добавлен в список блокировки для одного типа службы, но может отсутствовать в нем для другого типа службы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-170">A node may be blocklisted for one service type but not another.</span></span> 

<span data-ttu-id="e5dfc-171">Вы увидите blocklisting включится часто во время разработки: некоторые ошибка приводит к toocrash узла службы во время запуска.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-171">You'll see blocklisting kick in often during development: some bug causes your service host toocrash on startup.</span></span> <span data-ttu-id="e5dfc-172">Service Fabric пытается узла службы hello toocreate несколько раз, а продолжает возникать сбой hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-172">Service Fabric tries toocreate hello service host a few times, and hello failure keeps occurring.</span></span> <span data-ttu-id="e5dfc-173">После нескольких попыток hello узел получает заблокированных и hello диспетчер ресурсов кластера будет пытаться toocreate hello службы в другом месте.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-173">After a few attempts, hello node gets blocklisted, and hello Cluster Resource Manager will try toocreate hello service elsewhere.</span></span> <span data-ttu-id="e5dfc-174">Если, сбой повторяется на нескольких узлах, это возможно, все допустимые узлы hello в hello кластера окажутся заблокирован.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-174">If that failure keeps happening on multiple nodes, it's possible that all of hello valid nodes in hello cluster end up blocked.</span></span> <span data-ttu-id="e5dfc-175">Blocklisting можно также удалить так много узлов, недостаточно успешно запустить hello службы toomeet hello требуемого шкалы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-175">Blocklisting cna also remove so many nodes that not enough can successfully launch hello service toomeet hello desired scale.</span></span> <span data-ttu-id="e5dfc-176">Как правило, вы увидите дополнительные ошибки или предупреждения, связанные с hello диспетчер ресурсов кластера, указывающее, что служба hello ниже необходимой реплики hello или число экземпляров, а также сообщений о работоспособности, указывающее, какие ошибки hello, если приводит toohello blocklisting на первом месте hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-176">You'll typically see additional errors or warnings from hello Cluster Resource Manager indicating that hello service is below hello desired replica or instance count, as well as health messages indicating what hello failure is that's leading toohello blocklisting in hello first place.</span></span>

<span data-ttu-id="e5dfc-177">Добавление в список блокировки не является окончательным.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-177">Blocklisting is not a permanent condition.</span></span> <span data-ttu-id="e5dfc-178">Через несколько минут hello узел удаляется из блокировки hello и Service Fabric может повторно активировать службы hello, на этом узле.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-178">After a few minutes, hello node is removed from hello blocklist and Service Fabric may activate hello services on that node again.</span></span> <span data-ttu-id="e5dfc-179">Службы продолжения toofail hello узел снова становится блокироваться и для этого типа службы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-179">If services continue toofail, hello node is blocklisted for that service type again.</span></span> 

### <a name="constraint-priorities"></a><span data-ttu-id="e5dfc-180">Приоритеты ограничений</span><span class="sxs-lookup"><span data-stu-id="e5dfc-180">Constraint priorities</span></span>

> [!WARNING]
> <span data-ttu-id="e5dfc-181">Изменение приоритетов ограничения не рекомендуется и может иметь значительное отрицательное воздействие на кластер.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-181">Changing constraint priorities is not recommended and may have significant adverse effects on your cluster.</span></span> <span data-ttu-id="e5dfc-182">для ссылки приоритеты ограничение по умолчанию hello и их поведение предоставляется Hello ниже сведения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-182">hello below information is provided for reference of hello default constraint priorities and their behavior.</span></span> 
>

<span data-ttu-id="e5dfc-183">Со всеми этих ограничений вы может говорить «Эй — я думаю, важнее всего hello в моей системе ограничений доменов сбоя.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-183">With all of these constraints, you may have been thinking “Hey – I think that fault domain constraints are hello most important thing in my system.</span></span> <span data-ttu-id="e5dfc-184">В порядке tooensure hello ограничения домена сбоя не нарушены, я рассматривается tooviolate другими ограничениями.»</span><span class="sxs-lookup"><span data-stu-id="e5dfc-184">In order tooensure hello fault domain constraint isn't violated, I’m willing tooviolate other constraints.”</span></span>

<span data-ttu-id="e5dfc-185">Для ограничений можно настроить различные уровни приоритета,</span><span class="sxs-lookup"><span data-stu-id="e5dfc-185">Constraints can be configured with different priority levels.</span></span> <span data-ttu-id="e5dfc-186">а именно:</span><span class="sxs-lookup"><span data-stu-id="e5dfc-186">These are:</span></span>

   - <span data-ttu-id="e5dfc-187">"жесткий" (0);</span><span class="sxs-lookup"><span data-stu-id="e5dfc-187">“hard” (0)</span></span>
   - <span data-ttu-id="e5dfc-188">"мягкий" (1);</span><span class="sxs-lookup"><span data-stu-id="e5dfc-188">“soft” (1)</span></span>
   - <span data-ttu-id="e5dfc-189">"оптимизационный" (2);</span><span class="sxs-lookup"><span data-stu-id="e5dfc-189">“optimization” (2)</span></span>
   - <span data-ttu-id="e5dfc-190">"отключен" (-1).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-190">“off” (-1).</span></span> 
   
<span data-ttu-id="e5dfc-191">Большинство ограничений hello настраиваются как жесткие ограничения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-191">Most of hello constraints are configured as hard constraints by default.</span></span>

<span data-ttu-id="e5dfc-192">Изменение приоритета hello ограничений редко.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-192">Changing hello priority of constraints is uncommon.</span></span> <span data-ttu-id="e5dfc-193">Было время там, где необходимо ограничение приоритеты toochange, обычно toowork вокруг некоторые ошибки или поведение, которое влияла на среде hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-193">There have been times where constraint priorities needed toochange, usually toowork around some other bug or behavior that was impacting hello environment.</span></span> <span data-ttu-id="e5dfc-194">Обычно hello гибкость инфраструктуры приоритет ограничение hello очень хорошо работает, но не требуется часто.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-194">Generally hello flexibility of hello constraint priority infrastructure has worked very well, but it isn't needed often.</span></span> <span data-ttu-id="e5dfc-195">Большую часть времени hello, все, что находится на их приоритеты по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-195">Most of hello time everything sits at their default priorities.</span></span> 

<span data-ttu-id="e5dfc-196">уровни приоритета Hello не означает, что ограничение данного _будет_ быть нарушен, ни, он всегда будет выполняться.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-196">hello priority levels don't mean that a given constraint _will_ be violated, nor that it will always be met.</span></span> <span data-ttu-id="e5dfc-197">Приоритеты ограничений определяют порядок, в котором накладываются ограничения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-197">Constraint priorities define an order in which constraints are enforced.</span></span> <span data-ttu-id="e5dfc-198">Приоритеты определяют компромиссы hello при невозможности toosatisfy все ограничения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-198">Priorities define hello tradeoffs when it is impossible toosatisfy all constraints.</span></span> <span data-ttu-id="e5dfc-199">Обычно все ограничения hello может быть выполнено, если что-то еще происходит в среде hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-199">Usually all hello constraints can be satisfied unless there's something else going on in hello environment.</span></span> <span data-ttu-id="e5dfc-200">Несколько примеров сценариев, которые могут стать причиной нарушения tooconstraint являются конфликтующими ограничениями или большое число одновременных сбоев.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-200">Some examples of scenarios that will lead tooconstraint violations are conflicting constraints, or large numbers of concurrent failures.</span></span>

<span data-ttu-id="e5dfc-201">В более сложных ситуациях можно изменить приоритеты ограничение hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-201">In advanced situations, you can change hello constraint priorities.</span></span> <span data-ttu-id="e5dfc-202">Допустим, требуется, чтобы tooensure, сопоставление будет нарушает всегда при необходимости toosolve емкость узла проблем.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-202">For example, say you wanted tooensure that affinity would always be violated when necessary toosolve node capacity issues.</span></span> <span data-ttu-id="e5dfc-203">tooachieve это, можно установить приоритет hello hello сходства ограничения слишком «soft» (1) и оставить слишком «жесткий» задайте ограничения емкости hello (0).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-203">tooachieve this, you could set hello priority of hello affinity constraint too“soft” (1) and leave hello capacity constraint set too“hard” (0).</span></span>

<span data-ttu-id="e5dfc-204">значения приоритета по умолчанию Hello hello различные ограничения указаны в hello следующие конфигурации:</span><span class="sxs-lookup"><span data-stu-id="e5dfc-204">hello default priority values for hello different constraints are specified in hello following config:</span></span>

<span data-ttu-id="e5dfc-205">ClusterManifest.xml</span><span class="sxs-lookup"><span data-stu-id="e5dfc-205">ClusterManifest.xml</span></span>

```xml
        <Section Name="PlacementAndLoadBalancing">
            <Parameter Name="PlacementConstraintPriority" Value="0" />
            <Parameter Name="CapacityConstraintPriority" Value="0" />
            <Parameter Name="AffinityConstraintPriority" Value="0" />
            <Parameter Name="FaultDomainConstraintPriority" Value="0" />
            <Parameter Name="UpgradeDomainConstraintPriority" Value="1" />
            <Parameter Name="PreferredLocationConstraintPriority" Value="2" />
        </Section>
```

<span data-ttu-id="e5dfc-206">Для автономных развертываний используется ClusterConfig.json, а для размещенных в Azure кластеров — Template.json.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-206">via ClusterConfig.json for Standalone deployments or Template.json for Azure hosted clusters:</span></span>

```json
"fabricSettings": [
  {
    "name": "PlacementAndLoadBalancing",
    "parameters": [
      {
          "name": "PlacementConstraintPriority",
          "value": "0"
      },
      {
          "name": "CapacityConstraintPriority",
          "value": "0"
      },
      {
          "name": "AffinityConstraintPriority",
          "value": "0"
      },
      {
          "name": "FaultDomainConstraintPriority",
          "value": "0"
      },
      {
          "name": "UpgradeDomainConstraintPriority",
          "value": "1"
      },
      {
          "name": "PreferredLocationConstraintPriority",
          "value": "2"
      }
    ]
  }
]
```

## <a name="fault-domain-and-upgrade-domain-constraints"></a><span data-ttu-id="e5dfc-207">Ограничения доменов сбоя и обновления</span><span class="sxs-lookup"><span data-stu-id="e5dfc-207">Fault domain and upgrade domain constraints</span></span>
<span data-ttu-id="e5dfc-208">Диспетчер ресурсов кластера Hello хочет tookeep служб распределено между доменами сбоя и обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-208">hello Cluster Resource Manager wants tookeep services spread out among fault and upgrade domains.</span></span> <span data-ttu-id="e5dfc-209">Он моделирует как ограничение внутри hello диспетчер ресурсов кластера в модуль.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-209">It models this as a constraint inside hello Cluster Resource Manager’s engine.</span></span> <span data-ttu-id="e5dfc-210">Дополнительные сведения об их использовании и их определенное поведение, см. в статье hello на [конфигурация кластера](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-210">For more information on how they are used and their specific behavior, check out hello article on [cluster configuration](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span></span>

<span data-ttu-id="e5dfc-211">Hello диспетчер ресурсов кластера может потребоваться несколько реплик toopack в домене обновления в порядке toodeal обновления, сбои или другие нарушения ограничений.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-211">hello Cluster Resource Manager may need toopack a couple replicas into an upgrade domain in order toodeal with upgrades, failures, or other constraint violations.</span></span> <span data-ttu-id="e5dfc-212">Обычно упаковки в домены сбоя или обновление происходит только при наличии нескольких ошибок или других обработки в системе hello, предотвращая правильное размещение.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-212">Packing into fault or upgrade domains normally happens only when there are several failures or other churn in hello system preventing correct placement.</span></span> <span data-ttu-id="e5dfc-213">При желании tooprevent упаковки даже в таких ситуациях можно воспользоваться hello `RequireDomainDistribution` [политика размещения](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-213">If you wish tooprevent packing even during these situations, you can utilize hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="e5dfc-214">Обратите внимание, что это может вызвать побочные эффекты, затрагивающие доступность и надежность службы, поэтому следует проявить осторожность.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-214">Note that this may affect service availability and reliability as a side effect, so consider it carefully.</span></span>

<span data-ttu-id="e5dfc-215">Если среда hello настроена правильно, все ограничения полностью учитываются, даже во время обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-215">If hello environment is configured correctly, all constraints are fully respected, even during upgrades.</span></span> <span data-ttu-id="e5dfc-216">Главное, что Hello является приветствия, диспетчер ресурсов кластера отслеживается то ограничения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-216">hello key thing is that hello Cluster Resource Manager is watching out for your constraints.</span></span> <span data-ttu-id="e5dfc-217">При обнаружении нарушение он немедленно сообщает об этом и пытается toocorrect hello проблему.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-217">When it detects a violation it immediately reports it and tries toocorrect hello issue.</span></span>

## <a name="hello-preferred-location-constraint"></a><span data-ttu-id="e5dfc-218">ограничение расположения предпочитаемый Hello</span><span class="sxs-lookup"><span data-stu-id="e5dfc-218">hello preferred location constraint</span></span>
<span data-ttu-id="e5dfc-219">Hello PreferredLocation ограничение будет немного отличаться, как он имеет два различных варианта использования.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-219">hello PreferredLocation constraint is a little different, as it has two different uses.</span></span> <span data-ttu-id="e5dfc-220">Во-первых, это ограничение применяется во время обновления приложений.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-220">One use of this constraint is during application upgrades.</span></span> <span data-ttu-id="e5dfc-221">Hello диспетчер ресурсов кластера автоматически управляет этим ограничением во время обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-221">hello Cluster Resource Manager automatically manages this constraint during upgrades.</span></span> <span data-ttu-id="e5dfc-222">Это используется tooensure что при обновлении будут завершены реплик возвращают tootheir начального расположения.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-222">It is used tooensure that when upgrades are complete that replicas return tootheir initial locations.</span></span> <span data-ttu-id="e5dfc-223">Hello других hello PreferredLocation ограничение используется для hello [ `PreferredPrimaryDomain` политика размещения](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-223">hello other use of hello PreferredLocation constraint is for hello [`PreferredPrimaryDomain` placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span></span> <span data-ttu-id="e5dfc-224">Оба являются оптимизации, и поэтому не hello PreferredLocation ограничение является hello Единственное ограничение, значение слишком «Оптимизация» по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-224">Both of these are optimizations, and hence hello PreferredLocation constraint is hello only constraint set too"Optimization" by default.</span></span>

## <a name="upgrades"></a><span data-ttu-id="e5dfc-225">Обновления</span><span class="sxs-lookup"><span data-stu-id="e5dfc-225">Upgrades</span></span>
<span data-ttu-id="e5dfc-226">Диспетчер ресурсов кластера Hello также помогает во время приложения и обновления кластера, во время которых он имеет два задания:</span><span class="sxs-lookup"><span data-stu-id="e5dfc-226">hello Cluster Resource Manager also helps during application and cluster upgrades, during which it has two jobs:</span></span>

* <span data-ttu-id="e5dfc-227">Убедитесь, не скомпрометированы правила hello hello кластера</span><span class="sxs-lookup"><span data-stu-id="e5dfc-227">ensure that hello rules of hello cluster are not compromised</span></span>
* <span data-ttu-id="e5dfc-228">Попробуйте перейти обновления toohelp hello плавно</span><span class="sxs-lookup"><span data-stu-id="e5dfc-228">try toohelp hello upgrade go smoothly</span></span>

### <a name="keep-enforcing-hello-rules"></a><span data-ttu-id="e5dfc-229">Сохранить правила hello</span><span class="sxs-lookup"><span data-stu-id="e5dfc-229">Keep enforcing hello rules</span></span>
<span data-ttu-id="e5dfc-230">учитывать toobe главное Hello — hello правила — hello строгие ограничения как ограничения размещения и емкости - по-прежнему используются во время обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-230">hello main thing toobe aware of is that hello rules – hello strict constraints like placement constraints and capacities - are still enforced during upgrades.</span></span> <span data-ttu-id="e5dfc-231">Ограничения на размещение гарантируют, что все ваши рабочие нагрузки выполняются только на определенных узлах даже во время обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-231">Placement constraints ensure that your workloads only run where they are allowed to, even during upgrades.</span></span> <span data-ttu-id="e5dfc-232">При высокой ограниченности служб обновления могут занимать больше времени.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-232">When services are highly constrained, upgrades can take longer.</span></span> <span data-ttu-id="e5dfc-233">При hello службы или узел hello, запущенного на отключена для обновления может содержаться несколько параметров, для которых можно перейти.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-233">When hello service or hello node it is running on is brought down for an update there may be few options for where it can go.</span></span>

### <a name="smart-replacements"></a><span data-ttu-id="e5dfc-234">Интеллектуальные замены</span><span class="sxs-lookup"><span data-stu-id="e5dfc-234">Smart replacements</span></span>
<span data-ttu-id="e5dfc-235">При запуске обновления hello диспетчера ресурсов создает моментальный снимок текущего расположения hello hello кластера.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-235">When an upgrade starts, hello Resource Manager takes a snapshot of hello current arrangement of hello cluster.</span></span> <span data-ttu-id="e5dfc-236">Каждый домен обновления завершится, попытается tooreturn hello служб, которые были в этом расположении исходного tootheir доменов обновления.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-236">As each Upgrade Domain completes, it attempts tooreturn hello services that were in that Upgrade Domain tootheir original arrangement.</span></span> <span data-ttu-id="e5dfc-237">Таким образом не менее двух переходов для службы во время обновления hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-237">This way there are at most two transitions for a service during hello upgrade.</span></span> <span data-ttu-id="e5dfc-238">Отсутствует один перемещения out узла влияет hello и одно перемещение назад с.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-238">There is one move out of hello affected node and one move back in.</span></span> <span data-ttu-id="e5dfc-239">Возвращение hello toohow кластера или службы, которое было до обновления hello также гарантирует обновление hello не влияет на макет hello hello кластера.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-239">Returning hello cluster or service toohow it was before hello upgrade also ensures hello upgrade doesn’t impact hello layout of hello cluster.</span></span> 

### <a name="reduced-churn"></a><span data-ttu-id="e5dfc-240">Сокращение оттока</span><span class="sxs-lookup"><span data-stu-id="e5dfc-240">Reduced churn</span></span>
<span data-ttu-id="e5dfc-241">Другой происходит во время обновления заключается, который отключает диспетчер ресурсов кластера балансировки hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-241">Another thing that happens during upgrades is that hello Cluster Resource Manager turns off balancing.</span></span> <span data-ttu-id="e5dfc-242">Предотвращение балансировки предотвращает ненужные реакции toohello сам процесс обновления, как перемещение служб в узлы, которые были удалены для обновления hello.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-242">Preventing balancing prevents unnecessary reactions toohello upgrade itself, like moving services into nodes that were emptied for hello upgrade.</span></span> <span data-ttu-id="e5dfc-243">Если обновление hello рассматриваемой обновление кластера, весь кластер hello во время обновления hello не сбалансированы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-243">If hello upgrade in question is a Cluster upgrade, then hello entire cluster is not balanced during hello upgrade.</span></span> <span data-ttu-id="e5dfc-244">Проверку ограничений останется активной, движение на метрик упреждающего балансировки hello отключено.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-244">Constraint checks stay active, only movement based on hello proactive balancing of metrics is disabled.</span></span>

### <a name="buffered-capacity--upgrade"></a><span data-ttu-id="e5dfc-245">Буферизованная емкость и обновление</span><span class="sxs-lookup"><span data-stu-id="e5dfc-245">Buffered Capacity & Upgrade</span></span>
<span data-ttu-id="e5dfc-246">Обычно нужно обновления toocomplete hello даже если кластер hello toofull ограниченного или закрыть.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-246">Generally you want hello upgrade toocomplete even if hello cluster is constrained or close toofull.</span></span> <span data-ttu-id="e5dfc-247">Управление емкостью hello hello кластера становится все более важной во время обновления чем обычно.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-247">Managing hello capacity of hello cluster is even more important during upgrades than usual.</span></span> <span data-ttu-id="e5dfc-248">В зависимости от hello число доменов обновления, в диапазоне от 5 до 20 процентов от общей мощности, необходимо перенести как hello обновления выполняет накат через hello кластер.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-248">Depending on hello number of upgrade domains, between 5 and 20 percent of capacity must be migrated as hello upgrade rolls through hello cluster.</span></span> <span data-ttu-id="e5dfc-249">Где-либо работы было toogo.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-249">That work has toogo somewhere.</span></span> <span data-ttu-id="e5dfc-250">Это где hello понятие [буфер производственные мощности](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) полезно.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-250">This is where hello notion of [buffered capacities](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) is useful.</span></span> <span data-ttu-id="e5dfc-251">Буферизованная емкость учитывается во время обычной работы.</span><span class="sxs-lookup"><span data-stu-id="e5dfc-251">Buffered capacity is respected during normal operation.</span></span> <span data-ttu-id="e5dfc-252">во время обновления, при необходимости Hello диспетчер ресурсов кластера могут занять узлов вверх tootheir общей емкости (использование буфера hello).</span><span class="sxs-lookup"><span data-stu-id="e5dfc-252">hello Cluster Resource Manager may fill nodes up tootheir total capacity (consuming hello buffer) during upgrades if necessary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e5dfc-253">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="e5dfc-253">Next steps</span></span>
* <span data-ttu-id="e5dfc-254">Начать с начала hello и [получить введение toohello диспетчер ресурсов кластера Service Fabric](service-fabric-cluster-resource-manager-introduction.md)</span><span class="sxs-lookup"><span data-stu-id="e5dfc-254">Start from hello beginning and [get an Introduction toohello Service Fabric Cluster Resource Manager](service-fabric-cluster-resource-manager-introduction.md)</span></span>
