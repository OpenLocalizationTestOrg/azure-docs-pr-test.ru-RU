---
title: "aaaArchitecture из Azure Service Fabric | Документы Microsoft"
description: "Service Fabric — это платформа распределенных систем используемых toobuild масштабируемые и надежные и легко управляемых приложений для облака hello. В этой статье показана архитектура hello Service Fabric."
services: service-fabric
documentationcenter: .net
author: rishirsinha
manager: timlt
editor: rishirsinha
ms.assetid: 6b554243-70cb-4c22-9b28-1a8b4703f45e
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/19/2017
ms.author: rsinha
ms.openlocfilehash: 0268578094ad1a0010ef44ed940f828b985f6c40
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-architecture"></a>Архитектура Service Fabric
Service Fabric имеет многоуровневые подсистемы. Эти подсистемы включить toowrite приложения, которые являются:

* высокая доступность,
* масштабируемость,
* управляемость,
* тестируемость.

Привет, следующая диаграмма показывает hello подсистем Service Fabric.

![Схема архитектуры Service Fabric](media/service-fabric-architecture/service-fabric-architecture.png)

В распределенной системе toosecurely hello возможность обмена данными между узлами в кластере критически важна. Hello базы hello стека является hello транспорта подсистемы, которая предоставляет безопасное соединение между узлами. Выше транспорта hello подсистемы находится в подсистеме федерации hello, какие кластеры hello разных узлах в единый объект (с именем кластеров), чтобы Service Fabric обнаружения сбоев, выполнять руководитель выборы и предоставление согласованного маршрутизации. Hello надежность, уровень над подсистемы федерации hello, отвечает за hello надежности служб Service Fabric через механизмы, такие как репликация, управление ресурсами и перехода на другой ресурс. Подсистема Hello федерации также лежащей в основе подсистемы hello размещение и активация, которая управляет hello жизненного цикла приложения на одном узле. Подсистема управления Hello управляет hello жизненного цикла приложений и служб. Hello пригодности для тестирования подсистемы помогает разработчикам приложений тестирования служб через имитация ошибки до и после развертывания среды tooproduction приложений и служб. Service Fabric предоставляет возможность hello tooresolve расположения служб через его подсистемы связи. Здравствуйте, предоставляемый toodevelopers состоят из уровней на основе этих подсистем вместе с инструментарием tooenable модели приложения hello моделей программирования приложений.

## <a name="transport-subsystem"></a>Транспортная подсистема
Подсистема транспорта Hello реализует канал связи между узлами датаграммы. Этот канал используется для взаимодействия между кластерами структуры службы и связи между кластера service fabric hello и клиентами. Он поддерживает односторонние и шаблоны взаимодействия запрос ответ, которых предоставляет hello основы для реализации широковещательной и многоадресной рассылки в hello уровня федерации. Подсистема Hello транспорта защищает обмен данными с помощью X509 сертификаты или безопасности Windows. Этой подсистемы используется внутри структуры службы и не доступны непосредственно toodevelopers для программирования приложений.

## <a name="federation-subsystem"></a>Подсистема федерации
В порядке tooreason о набора узлов в распределенной системе необходимо toohave согласованное представление системы hello. примитивы связи hello, предоставляемые подсистеме hello транспорта используется подсистемой федерации Hello и stitches hello различных узлов в один кластер единой, можно обсуждения. Он предоставляет примитивы hello распределенных систем необходимости, другие подсистемы - выявление отказов, руководитель выборов и согласованное маршрутизации hello. Подсистема федерации Hello построено на основе распределенных хэш-таблицы с пробелом маркера 128-разрядный. Подсистема Hello создает кольцевая топология по узлам hello, с каждым узлом в кольцо hello подмножество hello маркера пространство выделяется для владельца. Для обнаружения сбоя hello уровень использует механизм аренды на основе подавать победить и разрешения конфликтов. Подсистема Hello федерации также гарантирует через сложного соединения и отправления протоколов, существует только один владелец маркера в любое время. Это позволяет выбирать лидера и обеспечивать согласованную маршрутизацию.

## <a name="reliability-subsystem"></a>Подсистема надежности
Hello надежность подсистема предоставляет hello toomake механизм hello состояния службы Service Fabric высокой надежности с помощью hello hello *Replicator*, *Диспетчер отказоустойчивости*, и  *Балансировщик ресурсов*.

* Hello Replicator гарантирует, что изменения состояния в реплике hello основная служба будет автоматически реплицированных toosecondary реплик, поддержания согласованности между hello первичной и вторичной репликами в наборе реплик службы. Hello replicator отвечает за управление кворумом реплик hello в наборе реплик hello. Он взаимодействует с hello отработки отказа единицы tooget hello список операций tooreplicate и агент перенастройки hello предоставляет ему hello конфигурации набора репликации hello. Эта конфигурация указывает, операции hello реплик, которые должны toobe репликации. Service Fabric предоставляет репликации по умолчанию, именем структуры репликации, который может использоваться hello программирования модели API toomake hello состояния службы высокой доступности и надежности.
* Hello Диспетчер отказоустойчивости гарантирует, что при добавлении узлов tooor удален из кластера hello, hello нагрузка автоматически перераспределяется между hello доступные узлы. При сбое узла в кластере hello, hello кластера автоматически перенастраивает доступность toomaintain реплик службы hello.
* Hello диспетчера ресурсов размещает реплик службы на всех компьютерах домена сбоя в кластере hello и гарантирует, что работают все единиц отработки отказа. Hello диспетчера ресурсов также распределяет ресурсы службы между hello базовый общий пул распространения оптимальной универсальный нагрузки tooachieve узлов кластера.

## <a name="management-subsystem"></a>Подсистема управления
Подсистема управления Hello предоставляет служба начала до конца и управление жизненным циклом приложений. Командлеты PowerShell и API администратора позволяют tooprovision, развертывании, исправления, обновления и отменять подготовки приложений без потери доступности. Подсистема управления Hello выполняет это через hello следующие службы.

* **Диспетчер кластеров**: это hello основная служба, которая взаимодействует с hello Диспетчер отказоустойчивости от надежности tooplace hello приложений на hello узлов на основании hello ограничения размещения службы. Hello диспетчера ресурсов в подсистеме перехода на другой ресурс обеспечивает ограничения hello никогда не нарушена. Диспетчер кластеров Hello управляет hello жизненного цикла приложения hello от подготовки toode подготовку к работе. Она интегрируется с hello работоспособности manager tooensure доступности приложений не допустить потери с точки зрения семантики работоспособности во время обновления.
* **Диспетчер работоспособности**активирует наблюдение за работоспособностью приложений, служб и сущностей кластеров. Сведения о работоспособности, которые затем объединяются в работоспособности централизованное хранилище hello может передавать данные кластера сущностей (например, узлы, служба разделы и реплики). Эта информация предоставляет моментальный снимок состояния в целом в момент служб hello и узлы, распределенные по нескольким узлам в кластере hello, позволяя tootake все необходимые действия по исправлению. Запрос работоспособности API-интерфейсы позволяют события работоспособности hello tooquery сообщил toohello работоспособности подсистемы. запрос работоспособности Hello API-интерфейсы возвращать hello работоспособности необработанные данные, хранящиеся в работоспособности hello хранения или hello статистическая обработка, интерпретации данных о работоспособности для конкретного кластера сущности.
* **Хранилище образов**: Эта служба обеспечивает хранение и распределение hello двоичные файлы приложения. Эта служба предоставляет простой распределенной файловой хранилище, где приложения hello отправленного tooand, загруженные из.

## <a name="hosting-subsystem"></a>Подсистема хостинга
Диспетчер кластеров Hello информирует hello размещение подсистемы (запущен на каждом узле), который служб требуются toomanage для конкретного узла. затем размещение подсистемы Hello управляет hello жизненного цикла приложения hello на этом узле. Он взаимодействует с hello и стабильности работоспособности компонентов tooensure, в что hello реплики размещены и находятся в работоспособном состоянии.

## <a name="communication-subsystem"></a>Подсистема связи
В данной подсистеме имеются системы надежного обмена сообщениями в пределах hello кластеров и службы обнаружения через службу именование hello. Hello службы именования разрешает расположение tooa имена службы в кластере hello и позволяет пользователям toomanage службы имена и свойства. С помощью службы именования hello, клиенты безопасно обмениваться данными с любой узел в кластере tooresolve hello имя службы и получить метаданные службы. С помощью простого API клиента об именовании, можно разрабатывать пользователей Service Fabric службами и клиентами, может разрешить hello текущее расположение в сети даже динамичности узла или кластера hello изменению размера hello.

## <a name="testability-subsystem"></a>Подсистема тестирования
Подсистема тестирования представляет собой набор инструментов, специально предназначенных для тестирования служб, созданных в структуре служб. Hello средства позволяют разработчику легко вызывать значимых ошибок и запуск tooexercise сценарии тестирования и проверки hello многочисленные состояния и переходы, которые службы могут возникнуть во время его существования в безопасном месте. Больше времени, тесты, которые может выполнять итерацию различных возможных сбоев без потери доступности toorun механизм также предоставляет возможности тестирования. Это обеспечивает возможность тестирования в рабочей среде.

