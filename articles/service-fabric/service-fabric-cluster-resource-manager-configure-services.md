---
title: "Указание метрик и параметров размещения в микрослужбах Azure | Документация Майкрософт"
description: "Описание службы Service Fabric с указанием метрик, ограничений на размещение и других политик размещения."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 16e135c1-a00a-4c6f-9302-6651a090571a
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 807ae469e0555de542212532b829f464c9813598
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2017
---
# <a name="configuring-cluster-resource-manager-settings-for-service-fabric-services"></a><span data-ttu-id="3f039-103">Настройка параметров Cluster Resource Manager для служб Service Fabric</span><span class="sxs-lookup"><span data-stu-id="3f039-103">Configuring cluster resource manager settings for Service Fabric services</span></span>
<span data-ttu-id="3f039-104">Диспетчер кластерных ресурсов Service Fabric позволяет точно управлять правилами, регулирующими работу отдельных именованных служб.</span><span class="sxs-lookup"><span data-stu-id="3f039-104">The Service Fabric Cluster Resource Manager allows fine-grained control over the rules that govern every individual named service.</span></span> <span data-ttu-id="3f039-105">Для каждой именованной службы можно указать правила ее выделения в кластере.</span><span class="sxs-lookup"><span data-stu-id="3f039-105">Each named service can specify rules for how it should be allocated in the cluster.</span></span> <span data-ttu-id="3f039-106">Для каждой именованной службы можно также определить набор метрик, о которых она должна сообщать, включая их важность для данной службы.</span><span class="sxs-lookup"><span data-stu-id="3f039-106">Each named service can also define the set of metrics that it wants to report, including how important they are to that service.</span></span> <span data-ttu-id="3f039-107">Настройка служб делится на три задачи:</span><span class="sxs-lookup"><span data-stu-id="3f039-107">Configuring services breaks down into three different tasks:</span></span>

1. <span data-ttu-id="3f039-108">настройка ограничений на размещение;</span><span class="sxs-lookup"><span data-stu-id="3f039-108">Configuring placement constraints</span></span>
2. <span data-ttu-id="3f039-109">настройка метрик;</span><span class="sxs-lookup"><span data-stu-id="3f039-109">Configuring metrics</span></span>
3. <span data-ttu-id="3f039-110">настройка расширенных политик размещения и других правил (мало распространено).</span><span class="sxs-lookup"><span data-stu-id="3f039-110">Configuring advanced placement policies and other rules (less common)</span></span>

## <a name="placement-constraints"></a><span data-ttu-id="3f039-111">Ограничения на размещение</span><span class="sxs-lookup"><span data-stu-id="3f039-111">Placement constraints</span></span>
<span data-ttu-id="3f039-112">Ограничения на размещение используются, чтобы контролировать, на каких именно узлах кластера может выполняться служба.</span><span class="sxs-lookup"><span data-stu-id="3f039-112">Placement constraints are used to control which nodes in the cluster a service can actually run on.</span></span> <span data-ttu-id="3f039-113">Обычно определенный экземпляр именованной службы или все службы заданного типа можно запустить только на узле определенного типа.</span><span class="sxs-lookup"><span data-stu-id="3f039-113">Typically a particular named service instance or all services of a given type constrained to run on a particular type of node.</span></span> <span data-ttu-id="3f039-114">Ограничения размещения можно расширять.</span><span class="sxs-lookup"><span data-stu-id="3f039-114">Placement constraints are extensible.</span></span> <span data-ttu-id="3f039-115">Можно определить любой набор свойств для каждого типа узла, а затем выбирать их и ограничения при создании служб.</span><span class="sxs-lookup"><span data-stu-id="3f039-115">You can define any set of properties per  node type, and then select for them with constraints when creating services.</span></span> <span data-ttu-id="3f039-116">Ограничения размещения службы можно также изменить, когда она запущена.</span><span class="sxs-lookup"><span data-stu-id="3f039-116">You can also change a service's placement constraints while it is running.</span></span> <span data-ttu-id="3f039-117">Это позволяет реагировать на изменения в кластере или требованиях службы.</span><span class="sxs-lookup"><span data-stu-id="3f039-117">THis allows you to respond to changes in the cluster or the requirements of the service.</span></span> <span data-ttu-id="3f039-118">Свойства заданного узла можно также обновлять динамически в кластере.</span><span class="sxs-lookup"><span data-stu-id="3f039-118">The properties of a given node can also be updated dynamically in the cluster.</span></span> <span data-ttu-id="3f039-119">Дополнительные сведения об ограничениях на размещение и их настройке см. в [этой статье](service-fabric-cluster-resource-manager-cluster-description.md#node-properties-and-placement-constraints).</span><span class="sxs-lookup"><span data-stu-id="3f039-119">More information on placement constraints and how to configure them can be found in [this article](service-fabric-cluster-resource-manager-cluster-description.md#node-properties-and-placement-constraints)</span></span>

## <a name="metrics"></a><span data-ttu-id="3f039-120">Метрики</span><span class="sxs-lookup"><span data-stu-id="3f039-120">Metrics</span></span>
<span data-ttu-id="3f039-121">Метрики представляют собой набор ресурсов, которые необходимы каждой именованной службе.</span><span class="sxs-lookup"><span data-stu-id="3f039-121">Metrics are the set of resources that a given named service needs.</span></span> <span data-ttu-id="3f039-122">Конфигурация метрик службы включает в себя информацию о том, какую часть ресурса использует по умолчанию каждая реплика с отслеживанием состояния или экземпляр без отслеживания состояния этой службы.</span><span class="sxs-lookup"><span data-stu-id="3f039-122">A service's metric configuration includes how much of that resource each stateful replica or stateless instance of that service consumes by default.</span></span> <span data-ttu-id="3f039-123">Кроме того, метрики содержат вес, который показывает, насколько важна балансировка по этой метрике для службы в случае, когда возникает необходимость компромисса.</span><span class="sxs-lookup"><span data-stu-id="3f039-123">Metrics also include a weight that indicates how important balancing that metric is to that service, in case tradeoffs are necessary.</span></span>

## <a name="advanced-placement-rules"></a><span data-ttu-id="3f039-124">Расширенные правила размещения</span><span class="sxs-lookup"><span data-stu-id="3f039-124">Advanced placement rules</span></span>
<span data-ttu-id="3f039-125">Существуют другие типы правил размещения, которые могут использоваться в менее распространенных сценариях.</span><span class="sxs-lookup"><span data-stu-id="3f039-125">There are other types of placement rules that are useful in less common scenarios.</span></span> <span data-ttu-id="3f039-126">Ниже приведены некоторые примеры.</span><span class="sxs-lookup"><span data-stu-id="3f039-126">Some examples are:</span></span>
- <span data-ttu-id="3f039-127">Ограничения, которые помогают в работе с географически распределенными кластерами.</span><span class="sxs-lookup"><span data-stu-id="3f039-127">Constraints that help with geographically distributed clusters</span></span>
- <span data-ttu-id="3f039-128">Определенные архитектуры приложений.</span><span class="sxs-lookup"><span data-stu-id="3f039-128">Certain application architectures</span></span>

<span data-ttu-id="3f039-129">Другие правила размещения настраиваются с помощью корреляций или политик.</span><span class="sxs-lookup"><span data-stu-id="3f039-129">Other placement rules are configured via either Correlations or Policies.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3f039-130">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="3f039-130">Next steps</span></span>
- <span data-ttu-id="3f039-131">Метрики показывают, как диспетчер кластерных ресурсов Service Fabric управляет потреблением и емкостью в кластере.</span><span class="sxs-lookup"><span data-stu-id="3f039-131">Metrics are how the Service Fabric Cluster Resource Manger manages consumption and capacity in the cluster.</span></span> <span data-ttu-id="3f039-132">Чтобы узнать больше о метриках и их настройке, ознакомьтесь с [этой статьей](service-fabric-cluster-resource-manager-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="3f039-132">To learn more about metrics and how to configure them, check out [this article](service-fabric-cluster-resource-manager-metrics.md)</span></span>
- <span data-ttu-id="3f039-133">Сходство — один режимов, который можно настроить для служб.</span><span class="sxs-lookup"><span data-stu-id="3f039-133">Affinity is one mode you can configure for your services.</span></span> <span data-ttu-id="3f039-134">Этот режим редко используется; узнать о нем подробнее можно [здесь](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span><span class="sxs-lookup"><span data-stu-id="3f039-134">It is not common, but if you need it you can learn about it [here](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span></span>
- <span data-ttu-id="3f039-135">Существует много различных правил размещения, которые можно настроить для службы, чтобы реализовать дополнительные сценарии.</span><span class="sxs-lookup"><span data-stu-id="3f039-135">There are many different placement rules that can be configured on your service to handle additional scenarios.</span></span> <span data-ttu-id="3f039-136">Узнать о разных политиках размещения можно [здесь](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md)</span><span class="sxs-lookup"><span data-stu-id="3f039-136">You can find out about those different placement policies [here](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md)</span></span>
- <span data-ttu-id="3f039-137">Начните с самого начала, [изучив общие сведения о диспетчере кластерных ресурсов Service Fabric](service-fabric-cluster-resource-manager-introduction.md)</span><span class="sxs-lookup"><span data-stu-id="3f039-137">Start from the beginning and [get an Introduction to the Service Fabric Cluster Resource Manager](service-fabric-cluster-resource-manager-introduction.md)</span></span>
- <span data-ttu-id="3f039-138">Чтобы узнать, как диспетчер кластерных ресурсов управляет нагрузкой кластера и балансирует ее, ознакомьтесь со статьей о [балансировке нагрузки](service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="3f039-138">To find out about how the Cluster Resource Manager manages and balances load in the cluster, check out the article on [balancing load](service-fabric-cluster-resource-manager-balancing.md)</span></span>
- <span data-ttu-id="3f039-139">В Cluster Resource Manager предусмотрено много параметров для описания кластера.</span><span class="sxs-lookup"><span data-stu-id="3f039-139">The Cluster Resource Manager has many options for describing the cluster.</span></span> <span data-ttu-id="3f039-140">Дополнительные сведения об этих параметрах см. в статье с [описанием кластера Service Fabric](service-fabric-cluster-resource-manager-cluster-description.md).</span><span class="sxs-lookup"><span data-stu-id="3f039-140">To find out more about them, check out this article on [describing a Service Fabric cluster](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
