---
title: "aaaAvailability служб Service Fabric | Документы Microsoft"
description: "Описание процессов обнаружения сбоев, отработки отказа, восстановления для служб"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 279ba4a4-f2ef-4e4e-b164-daefd10582e4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: c443aadfe31a1413359b08d34c4b7dd5db4edd16
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="availability-of-service-fabric-services"></a>Доступность служб структуры служб
В этой статье представлен обзор способа, который используется в Service Fabric для поддержания доступности службы.

## <a name="availability-of-service-fabric-stateless-services"></a>Доступность служб без отслеживания состояния в структуре служб
Службы Azure Service Fabric могут предусматривать или не предусматривать отслеживание состояния. Службы без отслеживания состояния — это Прикладная служба, которая не имеет [локальное состояние](service-fabric-concepts-state.md) , требующий toobe высокодоступным и надежным.

При создании службы без отслеживания состояния требуется определить `InstanceCount`. число экземпляров Hello определяет hello число экземпляров логики приложения hello службы без отслеживания состояния, которая должна быть запущена в кластере hello. При увеличении числа экземпляров в hello — hello, рекомендуется использовать способ масштабирования службы без отслеживания состояния.

При отказе экземпляра без сохранения состояния с именем службы, новый экземпляр создается на некоторых соответствующего узла в кластере hello. Например, экземпляр службы без отслеживания состояния может завершиться с ошибкой на узле Node1 и быть создан заново на узле Node5.

## <a name="availability-of-service-fabric-stateful-services"></a>Доступность служб с отслеживанием состояния в структуре служб
Служба с отслеживанием состояния обладает определенным состоянием, которое с ней связано. В структуре служб служба с отслеживанием состояния моделируется в виде набора реплик. Каждая реплика представляет собой запущенный экземпляр кода hello hello службы, которая также имеет копию hello состояние для этой службы. Операций чтения и записи выполняются в одной реплике (называемые hello первичный). Toostate изменения из операций записи, *репликации* toohello реплик из набора реплик hello (называемые активные вторичные реплики) и применяется. 

Первичная реплика может быть только одна. Активных вторичных реплик может быть несколько. Hello число активных вторичных реплик настраивается и выше число реплик, которые допускают большего количества параллельных программах и сбоев оборудования.

Если первичная реплика hello выходит из строя, Service Fabric делает один hello активной вторичной реплики hello новой первичной репликой. Данной активной вторичной реплики уже установлена версия hello обновить состояние hello (через *репликации*), и он может продолжить обработку дальнейших чтения и операций записи.

Эта концепция — основной или активной вторичной реплики, называется hello роли реплики.

### <a name="replica-roles"></a>Роли реплик
роль реплики Hello — используется toomanage hello жизненного цикла состояния hello под управлением этой реплики. Реплика, роль которой определена как первичная, обслуживает запросы на чтение. Hello основной также обрабатывает все запросы записи путем обновления состояния и репликация изменений hello. Эти изменения могут применяться toohello активные вторичные реплики в наборе реплик hello. Задание Hello Active получателя — tooreceive изменений состояния, которые hello первичная реплика будет реплицирована и обновить представление этого состояния hello.

> [!NOTE]
> Например моделей программирования высокого уровня [службы Reliable Actor](service-fabric-reliable-actors-introduction.md) и [надежного обмена](service-fabric-reliable-services-introduction.md) скрыть hello понятие роль реплики от разработчика hello. В субъекты понятие hello роли необязателен, при в службах упрощено главным образом для большинства сценариев.
>

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о концепции Service Fabric см. следующие статьи hello:

- [Масштабирование служб Service Fabric](service-fabric-concepts-scalability.md)
- [Разделение служб Service Fabric](service-fabric-concepts-partitioning.md)
- [Определение состояния и управление им](service-fabric-concepts-state.md)
- [Надежные службы](service-fabric-reliable-services-introduction.md)
