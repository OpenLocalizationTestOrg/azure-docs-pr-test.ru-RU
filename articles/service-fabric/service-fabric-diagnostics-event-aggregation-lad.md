---
title: "Статистическая обработка событий Service Fabric с диагностикой Azure Linux aaaAzure | Документы Microsoft"
description: "Ознакомьтесь со сведениями об агрегировании и сборе событий с использованием LAD для мониторинга и диагностики кластеров Azure Service Fabric."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: aefa869219a0dd219e01e6574816fe3ce47fe472
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="0dd5c-103">Агрегирование и сбор событий с помощью системы диагностики Azure для Linux</span><span class="sxs-lookup"><span data-stu-id="0dd5c-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="0dd5c-104">Windows</span><span class="sxs-lookup"><span data-stu-id="0dd5c-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="0dd5c-105">Linux</span><span class="sxs-lookup"><span data-stu-id="0dd5c-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="0dd5c-106">При запуске кластера с Azure Service Fabric это журналы hello смысл toocollect со всех узлов hello в центральном расположении.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-106">When you're running an Azure Service Fabric cluster, it's a good idea toocollect hello logs from all hello nodes in a central location.</span></span> <span data-ttu-id="0dd5c-107">Наличие журналы hello в центральном расположении, помогает выполнить анализ и устранение проблем в кластере, или в hello приложений и служб, работающих в этом кластере.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-107">Having hello logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in hello applications and services running in that cluster.</span></span>

<span data-ttu-id="0dd5c-108">Собирать журналы и tooupload один из способов — toouse hello диагностики Azure Linux (LAD) расширения, которое отправляет журналы tooAzure хранилища и имеет hello параметр toosend журналы tooAzure Application Insights или концентраторов событий.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-108">One way tooupload and collect logs is toouse hello Linux Azure Diagnostics (LAD) extension, which uploads logs tooAzure Storage, and also has hello option toosend logs tooAzure Application Insights or Event Hubs.</span></span> <span data-ttu-id="0dd5c-109">Можно также использовать внешний процесс tooread hello событий из хранилища и поместите их в платформа продуктом анализа [аналитики журнала OMS](../log-analytics/log-analytics-service-fabric.md) или другим решением для синтаксического анализа журнала.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-109">You can also use an external process tooread hello events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="0dd5c-110">Источники журналов и событий</span><span class="sxs-lookup"><span data-stu-id="0dd5c-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="0dd5c-111">События платформы Service Fabric</span><span class="sxs-lookup"><span data-stu-id="0dd5c-111">Service Fabric platform events</span></span>
<span data-ttu-id="0dd5c-112">Service Fabric создает несколько готовых журналов посредством [LTTng](http://lttng.org), включая журналы операционных событий и событий среды выполнения.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="0dd5c-113">Эти журналы хранятся в расположении hello hello указывает шаблона диспетчера ресурсов кластера.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-113">These logs are stored in hello location that hello cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="0dd5c-114">tooget или набор учетных данных хранилища hello, найдите тег hello **AzureTableWinFabETWQueryable** и выполните поиск **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-114">tooget or set hello storage account details, search for hello tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="0dd5c-115">События приложения</span><span class="sxs-lookup"><span data-stu-id="0dd5c-115">Application events</span></span>
 <span data-ttu-id="0dd5c-116">События, которые создаются кодом ваших приложений и служб согласно вашим указаниям во время инструментирования программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="0dd5c-117">Вы можете использовать любое решение для ведения журналов, которое создает текстовые файлы журнала, например LTTng.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="0dd5c-118">Дополнительные сведения см. на трассировки приложения hello LTTng документации.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-118">For more information, see hello LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="0dd5c-119">[Мониторинг и диагностика состояния служб в локальной среде разработки](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)</span><span class="sxs-lookup"><span data-stu-id="0dd5c-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-hello-diagnostics-extension"></a><span data-ttu-id="0dd5c-120">Развертывание расширения диагностики hello</span><span class="sxs-lookup"><span data-stu-id="0dd5c-120">Deploy hello Diagnostics extension</span></span>
<span data-ttu-id="0dd5c-121">Первым шагом Hello в сбор журналов является расширение диагностики toodeploy hello в каждой из виртуальных машин hello в кластер Service Fabric hello.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-121">hello first step in collecting logs is toodeploy hello Diagnostics extension on each of hello VMs in hello Service Fabric cluster.</span></span> <span data-ttu-id="0dd5c-122">Hello расширения диагностики собирает журналы на каждой виртуальной Машине и отправляет их toohello учетной записи хранения, указанной вами.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-122">hello Diagnostics extension collects logs on each VM and uploads them toohello storage account that you specify.</span></span> <span data-ttu-id="0dd5c-123">Hello действия различаются в зависимости от hello портал Azure или диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-123">hello steps vary based on whether you use hello Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="0dd5c-124">задать toodeploy hello диагностики расширения toohello виртуальных машин в кластере hello в процессе создания кластера **диагностики** слишком**на**.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-124">toodeploy hello Diagnostics extension toohello VMs in hello cluster as part of cluster creation, set **Diagnostics** too**On**.</span></span> <span data-ttu-id="0dd5c-125">После создания кластера hello, этот параметр нельзя изменить с помощью портала hello.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-125">After you create hello cluster, you can't change this setting by using hello portal.</span></span>

<span data-ttu-id="0dd5c-126">Затем настройте файлы hello toocollect диагностики Azure Linux (LAD) и поместите их в вашей учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-126">Then, configure Linux Azure Diagnostics (LAD) toocollect hello files and place them into your storage account.</span></span> <span data-ttu-id="0dd5c-127">Этот процесс описан в сценарии 3 («отправить файлы журнала») в статье hello [toomonitor с помощью LAD и диагностики виртуальных машин Linux](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="0dd5c-127">This process is explained as scenario 3 ("Upload your own log files") in hello article [Using LAD toomonitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="0dd5c-128">После этого возвращает процесс, вы доступ toohello трассировки.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-128">Following this process gets you access toohello traces.</span></span> <span data-ttu-id="0dd5c-129">Можно передать hello визуализатора tooa трассировок по своему усмотрению.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-129">You can upload hello traces tooa visualizer of your choice.</span></span>

<span data-ttu-id="0dd5c-130">Можно также развернуть hello расширения диагностики с помощью диспетчера ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-130">You can also deploy hello Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="0dd5c-131">Hello процесс аналогичен для Windows и Linux и задокументирован для кластеров Windows в [как toocollect журналы с диагностикой Azure](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="0dd5c-131">hello process is similar for Windows and Linux and is documented for Windows clusters in [How toocollect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="0dd5c-132">Также можно использовать Operations Management Suite, как описано в статье [Анализ журналов Operations Management Suite в Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span><span class="sxs-lookup"><span data-stu-id="0dd5c-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="0dd5c-133">После завершения этой конфигурации агента отслеживание hello LAD hello указанные файлы журнала.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-133">After you finish this configuration, hello LAD agent monitors hello specified log files.</span></span> <span data-ttu-id="0dd5c-134">Всякий раз, когда строки присоединенных toohello файл, он создает запись системного журнала, отправленных toohello хранения, указанной.</span><span class="sxs-lookup"><span data-stu-id="0dd5c-134">Whenever a new line is appended toohello file, it creates a syslog entry that is sent toohello storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0dd5c-135">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="0dd5c-135">Next steps</span></span>

<span data-ttu-id="0dd5c-136">какие события следует изучить при диагностике проблем с toounderstand более подробно в разделе [документации LTTng](http://lttng.org/docs) и [с помощью LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="0dd5c-136">toounderstand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>
