---
title: "Жизненный цикл приложений в Service Fabric | Документация Майкрософт"
description: "Описывает разработку, развертывание, тестирование, обновление, обслуживание и удаление приложений Service Fabric."
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: 08837cca-5aa7-40da-b087-2b657224a097
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/14/2017
ms.author: ryanwi
ms.openlocfilehash: 5fb7fce7fd6e1f08632690de598e907ce7975ab2
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="service-fabric-application-lifecycle"></a><span data-ttu-id="105b3-103">Жизненный цикл приложения Service Fabric</span><span class="sxs-lookup"><span data-stu-id="105b3-103">Service Fabric application lifecycle</span></span>
<span data-ttu-id="105b3-104">Как и в случае с другими платформами, приложение в Azure Service Fabric обычно проходит следующие фазы: проектирование, разработка, тестирование, развертывание, обновление, техническое обслуживание и удаление.</span><span class="sxs-lookup"><span data-stu-id="105b3-104">As with other platforms, an application on Azure Service Fabric usually goes through the following phases: design, development, testing, deployment, upgrading, maintenance, and removal.</span></span> <span data-ttu-id="105b3-105">Service Fabric предоставляет первоклассную поддержку полного жизненного цикла приложений в облаке: от разработки, развертывания, ежедневного управления и технического обслуживания до вывода приложения из эксплуатации.</span><span class="sxs-lookup"><span data-stu-id="105b3-105">Service Fabric provides first-class support for the full application lifecycle of cloud applications, from development through deployment, daily management, and maintenance to eventual decommissioning.</span></span> <span data-ttu-id="105b3-106">Модель службы использует несколько различных ролей для независимого участия в жизненном цикле приложения.</span><span class="sxs-lookup"><span data-stu-id="105b3-106">The service model enables several different roles to participate independently in the application lifecycle.</span></span> <span data-ttu-id="105b3-107">В этой статье представлен обзор API и того, как они используются различными ролями на протяжении всех фаз жизненного цикла приложения в Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="105b3-107">This article provides an overview of the APIs and how they are used by the different roles throughout the phases of the Service Fabric application lifecycle.</span></span>

<span data-ttu-id="105b3-108">В следующем видео от Академии Microsoft Virtual Academy также описывается процесс управления жизненным циклом приложения: <center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=My3Ka56yC_6106218965">
<img src="./media/service-fabric-application-lifecycle/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="105b3-108">The following Microsoft Virtual Academy video describes how to manage your application lifecycle: <center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=My3Ka56yC_6106218965">
<img src="./media/service-fabric-application-lifecycle/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

## <a name="service-model-roles"></a><span data-ttu-id="105b3-109">Роли моделей служб</span><span class="sxs-lookup"><span data-stu-id="105b3-109">Service model roles</span></span>
<span data-ttu-id="105b3-110">Роли моделей служб:</span><span class="sxs-lookup"><span data-stu-id="105b3-110">The service model roles are:</span></span>

* <span data-ttu-id="105b3-111">**Разработчик службы.** Разрабатывает модульные и универсальные службы, для которых можно переопределить цель и которые можно использовать в различных приложениях одного и того же или разных типов.</span><span class="sxs-lookup"><span data-stu-id="105b3-111">**Service developer**: Develops modular and generic services that can be re-purposed and used in multiple applications of the same type or different types.</span></span> <span data-ttu-id="105b3-112">Например, служба очередей может использоваться для создания приложения для обработки обращений (служба поддержки) или приложения для электронной коммерции (корзины).</span><span class="sxs-lookup"><span data-stu-id="105b3-112">For example, a queue service can be used for creating a ticketing application (helpdesk) or an e-commerce application (shopping cart).</span></span>
* <span data-ttu-id="105b3-113">**Разработчик приложения.** Создает приложения путем интеграции коллекции служб для обеспечения соответствия определенным конкретным требованиям или сценариям.</span><span class="sxs-lookup"><span data-stu-id="105b3-113">**Application developer**: Creates applications by integrating a collection of services to satisfy certain specific requirements or scenarios.</span></span> <span data-ttu-id="105b3-114">Например, на веб-сайте электронной коммерции могут интегрироваться интерфейсные службы JSON без отслеживания состояния службы, аукцион с отслеживанием состояния службы и служба очереди с отслеживанием состояния службы для создания аукционного приложения.</span><span class="sxs-lookup"><span data-stu-id="105b3-114">For example, an e-commerce website might integrate “JSON Stateless Front-End Service,” “Auction Stateful Service,” and “Queue Stateful Service” to build an auctioning solution.</span></span>
* <span data-ttu-id="105b3-115">**Администратор приложения.** Принимает решения о конфигурации приложения (установка параметров шаблона конфигурации), развертывании (сопоставление с доступными ресурсами) и обеспечении качества обслуживания.</span><span class="sxs-lookup"><span data-stu-id="105b3-115">**Application administrator**: Makes decisions on the application configuration (filling in the configuration template parameters), deployment (mapping to available resources), and quality of service.</span></span> <span data-ttu-id="105b3-116">Например, администратор приложения принимает решение о языковых настройках приложения, используемых в зависимости от региона (например, английский для США или японский для Японии).</span><span class="sxs-lookup"><span data-stu-id="105b3-116">For example, an application administrator decides the language locale (English for the United States or Japanese for Japan, for example) of the application.</span></span> <span data-ttu-id="105b3-117">Другое развернутое приложение может иметь другие настройки.</span><span class="sxs-lookup"><span data-stu-id="105b3-117">A different deployed application can have different settings.</span></span>
* <span data-ttu-id="105b3-118">**Оператор.** Развертывает приложения с учетом конфигурации приложения и требований, указанных администратором приложения.</span><span class="sxs-lookup"><span data-stu-id="105b3-118">**Operator**: Deploys applications based on the application configuration and requirements specified by the application administrator.</span></span> <span data-ttu-id="105b3-119">Например, оператор выделяет и развертывает приложение и обеспечивает его работу в Azure.</span><span class="sxs-lookup"><span data-stu-id="105b3-119">For example, an operator provisions and deploys the application and ensures that it is running in Azure.</span></span> <span data-ttu-id="105b3-120">Операторы должны отслеживать работоспособность и производительность приложений и поддерживать соответствующую физическую инфраструктуру при необходимости.</span><span class="sxs-lookup"><span data-stu-id="105b3-120">Operators monitor application health and performance information and maintain the physical infrastructure as needed.</span></span>

## <a name="develop"></a><span data-ttu-id="105b3-121">Разработка</span><span class="sxs-lookup"><span data-stu-id="105b3-121">Develop</span></span>
1. <span data-ttu-id="105b3-122">*Разработчик службы* разрабатывает различные типы служб, используя модель программирования [Reliable Actors](service-fabric-reliable-actors-introduction.md) или [Reliable Services](service-fabric-reliable-services-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="105b3-122">A *service developer* develops different types of services using the [Reliable Actors](service-fabric-reliable-actors-introduction.md) or [Reliable Services](service-fabric-reliable-services-introduction.md) programming model.</span></span>
2. <span data-ttu-id="105b3-123">*Разработчик службы* декларативно описывает типы разработанных служб в файле манифеста служб, состоящего из одного или нескольких блоков кода, конфигурации и пакетов данных.</span><span class="sxs-lookup"><span data-stu-id="105b3-123">A *service developer* declaratively describes the developed service types in a service manifest file consisting of one or more code, configuration, and data packages.</span></span>
3. <span data-ttu-id="105b3-124">*Разработчик приложений* затем создает приложения, используя для этого службы различных типов.</span><span class="sxs-lookup"><span data-stu-id="105b3-124">An *application developer* then builds an application using different service types.</span></span>
4. <span data-ttu-id="105b3-125">*Разработчик приложений* декларативно описывает тип приложения в манифесте приложения путем ссылок на манифесты составляющих его служб и применяет переопределение и назначение параметров различных конфигураций и настроек развертывания служб, из которых состоит приложение.</span><span class="sxs-lookup"><span data-stu-id="105b3-125">An *application developer* declaratively describes the application type in an application manifest by referencing the service manifests of the constituent services and appropriately overriding and parameterizing different configuration and deployment settings of the constituent services.</span></span>

<span data-ttu-id="105b3-126">См. статьи [Приступая к работе с Reliable Actors](service-fabric-reliable-actors-get-started.md) и [Начало работы со службами Reliable Services в Service Fabric](service-fabric-reliable-services-quick-start.md), чтобы ознакомиться с примерами.</span><span class="sxs-lookup"><span data-stu-id="105b3-126">See [Get started with Reliable Actors](service-fabric-reliable-actors-get-started.md) and [Get started with Reliable Services](service-fabric-reliable-services-quick-start.md) for examples.</span></span>

## <a name="deploy"></a><span data-ttu-id="105b3-127">Развернуть</span><span class="sxs-lookup"><span data-stu-id="105b3-127">Deploy</span></span>
1. <span data-ttu-id="105b3-128">*Администратор приложения* изменяет приложение определенного типа для конкретного приложения, которое будет развернуто в кластере Service Fabric путем указания соответствующих параметров элемента **ApplicationType** в манифесте приложения.</span><span class="sxs-lookup"><span data-stu-id="105b3-128">An *application administrator* tailors the application type to a specific application to be deployed to a Service Fabric cluster by specifying the appropriate parameters of the **ApplicationType** element in the application manifest.</span></span>
2. <span data-ttu-id="105b3-129">*Оператор* загружает пакет приложения в хранилище образов кластера с помощью [метода **CopyApplicationPackage**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_CopyApplicationPackage_System_String_System_String_System_String_) или [командлета **Copy-ServiceFabricApplicationPackage**](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps).</span><span class="sxs-lookup"><span data-stu-id="105b3-129">An *operator* uploads the application package to the cluster image store by using the [**CopyApplicationPackage** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_CopyApplicationPackage_System_String_System_String_System_String_) or the [**Copy-ServiceFabricApplicationPackage** cmdlet](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps).</span></span> <span data-ttu-id="105b3-130">Пакет приложения содержит манифест приложения и коллекцию пакетов служб.</span><span class="sxs-lookup"><span data-stu-id="105b3-130">The application package contains the application manifest and the collection of service packages.</span></span> <span data-ttu-id="105b3-131">Структура служб выполняет развертывание приложений из пакета приложений, размещенного в хранилище образов, который может представлять собой магазин больших двоичных объектов Azure или системную службу Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="105b3-131">Service Fabric deploys applications from the application package stored in the image store, which can be an Azure blob store or the Service Fabric system service.</span></span>
3. <span data-ttu-id="105b3-132">*Оператор* затем выделяет тип приложения в целевом кластере из загруженного пакета приложения с помощью [метода **ProvisionApplicationAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_ProvisionApplicationAsync_System_String_System_TimeSpan_System_Threading_CancellationToken_), [командлета **Register-ServiceFabricApplicationType**](https://docs.microsoft.com/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) или [операции REST **Provision an Application**](https://docs.microsoft.com/rest/api/servicefabric/provision-an-application).</span><span class="sxs-lookup"><span data-stu-id="105b3-132">The *operator* then provisions the application type in the target cluster from the uploaded application package using the [**ProvisionApplicationAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_ProvisionApplicationAsync_System_String_System_TimeSpan_System_Threading_CancellationToken_), the  [**Register-ServiceFabricApplicationType** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/register-servicefabricapplicationtype), or the [**Provision an Application** REST operation](https://docs.microsoft.com/rest/api/servicefabric/provision-an-application).</span></span>
4. <span data-ttu-id="105b3-133">После подготовки приложения *оператор* запускает приложение с параметрами, предоставленными *администратором приложения* с помощью [метода **CreateApplicationAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_CreateApplicationAsync_System_Fabric_Description_ApplicationDescription_System_TimeSpan_System_Threading_CancellationToken_), [командлета **New-ServiceFabricApplication**](https://docs.microsoft.com/powershell/servicefabric/vlatest/new-servicefabricapplication) или [операции REST **Create Application**](https://docs.microsoft.com/rest/api/servicefabric/create-an-application).</span><span class="sxs-lookup"><span data-stu-id="105b3-133">After provisioning the application, an *operator* starts the application with the parameters supplied by the *application administrator* using the [**CreateApplicationAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_CreateApplicationAsync_System_Fabric_Description_ApplicationDescription_System_TimeSpan_System_Threading_CancellationToken_), the [**New-ServiceFabricApplication** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/new-servicefabricapplication), or the [**Create Application** REST operation](https://docs.microsoft.com/rest/api/servicefabric/create-an-application).</span></span>
5. <span data-ttu-id="105b3-134">После того как приложение будет развернуто, *оператор* использует [метод **CreateServiceAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.servicemanagementclient#System_Fabric_FabricClient_ServiceManagementClient_CreateServiceAsync_System_Fabric_Description_ServiceDescription_System_TimeSpan_System_Threading_CancellationToken_), [командлет **New-ServiceFabricService**](https://docs.microsoft.com/powershell/servicefabric/vlatest/new-servicefabricservice) или [операцию REST **Create Service**](https://docs.microsoft.com/rest/api/servicefabric/create-a-service) для создания экземпляров службы для приложения на основании доступных типов службы.</span><span class="sxs-lookup"><span data-stu-id="105b3-134">After the application has been deployed, an *operator* uses the [**CreateServiceAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.servicemanagementclient#System_Fabric_FabricClient_ServiceManagementClient_CreateServiceAsync_System_Fabric_Description_ServiceDescription_System_TimeSpan_System_Threading_CancellationToken_), the [**New-ServiceFabricService** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/new-servicefabricservice), or the [**Create Service** REST operation](https://docs.microsoft.com/rest/api/servicefabric/create-a-service) to create new service instances for the application based on available service types.</span></span>
6. <span data-ttu-id="105b3-135">Теперь приложение работает в кластере Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="105b3-135">The application is now running in the Service Fabric cluster.</span></span>

<span data-ttu-id="105b3-136">См. статью [Развертывание и удаление приложений с помощью PowerShell](service-fabric-deploy-remove-applications.md), чтобы ознакомиться с примерами.</span><span class="sxs-lookup"><span data-stu-id="105b3-136">See [Deploy an application](service-fabric-deploy-remove-applications.md) for examples.</span></span>

## <a name="test"></a><span data-ttu-id="105b3-137">Тест</span><span class="sxs-lookup"><span data-stu-id="105b3-137">Test</span></span>
1. <span data-ttu-id="105b3-138">После развертывания в локальном кластере разработки или в тестовом кластере *разработчик службы* запускает встроенный сценарий проверки переключения на резервный ресурс с помощью классов [**FailoverTestScenarioParameters**](https://docs.microsoft.com/dotnet/api/system.fabric.testability.scenario.failovertestscenarioparameters#System_Fabric_Testability_Scenario_FailoverTestScenarioParameters) и [**FailoverTestScenario**](https://docs.microsoft.com/dotnet/api/system.fabric.testability.scenario.failovertestscenario#System_Fabric_Testability_Scenario_FailoverTestScenario) или [командлета **Invoke-ServiceFabricFailoverTestScenario**](/powershell/module/servicefabric/invoke-servicefabricfailovertestscenario?view=azureservicefabricps).</span><span class="sxs-lookup"><span data-stu-id="105b3-138">After deploying to the local development cluster or a test cluster, a *service developer* runs the built-in failover test scenario by using the [**FailoverTestScenarioParameters**](https://docs.microsoft.com/dotnet/api/system.fabric.testability.scenario.failovertestscenarioparameters#System_Fabric_Testability_Scenario_FailoverTestScenarioParameters) and [**FailoverTestScenario**](https://docs.microsoft.com/dotnet/api/system.fabric.testability.scenario.failovertestscenario#System_Fabric_Testability_Scenario_FailoverTestScenario) classes, or the [**Invoke-ServiceFabricFailoverTestScenario** cmdlet](/powershell/module/servicefabric/invoke-servicefabricfailovertestscenario?view=azureservicefabricps).</span></span> <span data-ttu-id="105b3-139">Сценарий тестирования отказа пропускает указанную службу через важные преобразования и отказы, чтобы гарантировать, что она остается доступной и продолжает работать.</span><span class="sxs-lookup"><span data-stu-id="105b3-139">The failover test scenario runs a specified service through important transitions and failovers to ensure that it's still available and working.</span></span>
2. <span data-ttu-id="105b3-140">Затем *разработчик службы* запускает встроенный хаотический сценарий тестирования с помощью классов [**ChaosTestScenarioParameters**](https://docs.microsoft.com/dotnet/api/system.fabric.testability.scenario.chaostestscenarioparameters#System_Fabric_Testability_Scenario_ChaosTestScenarioParameters) и [**ChaosTestScenario**](https://docs.microsoft.com/dotnet/api/system.fabric.testability.scenario.chaostestscenario#System_Fabric_Testability_Scenario_ChaosTestScenario) или [командлета **Invoke-ServiceFabricChaosTestScenario**](/powershell/module/servicefabric/invoke-servicefabricchaostestscenario?view=azureservicefabricps).</span><span class="sxs-lookup"><span data-stu-id="105b3-140">The *service developer* then runs the built-in chaos test scenario using the [**ChaosTestScenarioParameters**](https://docs.microsoft.com/dotnet/api/system.fabric.testability.scenario.chaostestscenarioparameters#System_Fabric_Testability_Scenario_ChaosTestScenarioParameters) and [**ChaosTestScenario**](https://docs.microsoft.com/dotnet/api/system.fabric.testability.scenario.chaostestscenario#System_Fabric_Testability_Scenario_ChaosTestScenario) classes, or the [**Invoke-ServiceFabricChaosTestScenario** cmdlet](/powershell/module/servicefabric/invoke-servicefabricchaostestscenario?view=azureservicefabricps).</span></span> <span data-ttu-id="105b3-141">Хаотический сценарий тестирования в случайном порядке вызывает множественные ошибки на уровне узла, пакета кода и реплики в кластере.</span><span class="sxs-lookup"><span data-stu-id="105b3-141">The chaos test scenario randomly induces multiple node, code package, and replica faults into the cluster.</span></span>
3. <span data-ttu-id="105b3-142">*Разработчик службы* [тестирует обмен данными между службами](service-fabric-testability-scenarios-service-communication.md) , создавая сценарии тестирования для перемещения первичных реплик в кластере.</span><span class="sxs-lookup"><span data-stu-id="105b3-142">The *service developer* [tests service-to-service communication](service-fabric-testability-scenarios-service-communication.md) by authoring test scenarios that move primary replicas around the cluster.</span></span>

<span data-ttu-id="105b3-143">Дополнительные сведения см. в статье [Общие сведения о службе анализа сбоев](service-fabric-testability-overview.md).</span><span class="sxs-lookup"><span data-stu-id="105b3-143">See [Introduction to the Fault Analysis Service](service-fabric-testability-overview.md) for more information.</span></span>

## <a name="upgrade"></a><span data-ttu-id="105b3-144">Обновление</span><span class="sxs-lookup"><span data-stu-id="105b3-144">Upgrade</span></span>
1. <span data-ttu-id="105b3-145">*Разработчик службы* обновляет составляющие службы экземпляра приложения или устраняет ошибки кода и предоставляет новую версию манифеста служб.</span><span class="sxs-lookup"><span data-stu-id="105b3-145">A *service developer* updates the constituent services of the instantiated application and/or fixes bugs and provides a new version of the service manifest.</span></span>
2. <span data-ttu-id="105b3-146">*Разработчик приложения* переопределяет и параметризует настройки конфигурации и развертывания и предоставляет новую версию манифеста приложения.</span><span class="sxs-lookup"><span data-stu-id="105b3-146">An *application developer* overrides and parameterizes the configuration and deployment settings of the consistent services and provides a new version of the application manifest.</span></span> <span data-ttu-id="105b3-147">Разработчик приложения затем включает новые версии манифестов служб в приложение и собирает новую версию приложения этого же типа в обновленном пакете приложения.</span><span class="sxs-lookup"><span data-stu-id="105b3-147">The application developer then incorporates the new versions of the service manifests into the application and provides a new version of the application type in an updated application package.</span></span>
3. <span data-ttu-id="105b3-148">*Администратор приложения* включает новую версию приложения этого же типа в целевое приложение путем обновления соответствующих параметров.</span><span class="sxs-lookup"><span data-stu-id="105b3-148">An *application administrator* incorporates the new version of the application type into the target application by updating the appropriate parameters.</span></span>
4. <span data-ttu-id="105b3-149">*Оператор* загружает обновленный пакет приложения в хранилище образов кластера с помощью [метода **CopyApplicationPackage**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_CopyApplicationPackage_System_String_System_String_System_String_) или [командлета **Copy-ServiceFabricApplicationPackage**](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps).</span><span class="sxs-lookup"><span data-stu-id="105b3-149">An *operator* uploads the updated application package to the cluster image store using the [**CopyApplicationPackage** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_CopyApplicationPackage_System_String_System_String_System_String_) or the [**Copy-ServiceFabricApplicationPackage** cmdlet](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps).</span></span> <span data-ttu-id="105b3-150">Пакет приложения содержит манифест приложения и коллекцию пакетов служб.</span><span class="sxs-lookup"><span data-stu-id="105b3-150">The application package contains the application manifest and the collection of service packages.</span></span>
5. <span data-ttu-id="105b3-151">*Оператор* предоставляет новую версию приложения для целевого кластера с помощью [метода **ProvisionApplicationAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_ProvisionApplicationAsync_System_String_System_TimeSpan_System_Threading_CancellationToken_), [командлета **Register-ServiceFabricApplicationType**](https://docs.microsoft.com/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) или [операции REST **Provision an Application**](https://docs.microsoft.com/rest/api/servicefabric/provision-an-application).</span><span class="sxs-lookup"><span data-stu-id="105b3-151">An *operator* provisions the new version of the application in the target cluster by using the [**ProvisionApplicationAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_ProvisionApplicationAsync_System_String_System_TimeSpan_System_Threading_CancellationToken_), the [**Register-ServiceFabricApplicationType** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/register-servicefabricapplicationtype), or the [**Provision an Application** REST operation](https://docs.microsoft.com/rest/api/servicefabric/provision-an-application).</span></span>
6. <span data-ttu-id="105b3-152">*Оператор* обновляет целевое приложение до новой версии, используя [метод **UpgradeApplicationAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_UpgradeApplicationAsync_System_Fabric_Description_ApplicationUpgradeDescription_System_TimeSpan_System_Threading_CancellationToken_), [командлет **Start-ServiceFabricApplicationUpgrade**](https://docs.microsoft.com/powershell/servicefabric/vlatest/start-servicefabricapplicationupgrade) или [операцию **REST Upgrade an Application**](https://docs.microsoft.com/rest/api/servicefabric/upgrade-an-application).</span><span class="sxs-lookup"><span data-stu-id="105b3-152">An *operator* upgrades the target application to the new version using the [**UpgradeApplicationAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_UpgradeApplicationAsync_System_Fabric_Description_ApplicationUpgradeDescription_System_TimeSpan_System_Threading_CancellationToken_), the [**Start-ServiceFabricApplicationUpgrade** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/start-servicefabricapplicationupgrade), or the [**Upgrade an Application** REST operation](https://docs.microsoft.com/rest/api/servicefabric/upgrade-an-application).</span></span>
7. <span data-ttu-id="105b3-153">*Оператор* проверяет ход обновления с помощью [метода **GetApplicationUpgradeProgressAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_GetApplicationUpgradeProgressAsync_System_Uri_System_TimeSpan_System_Threading_CancellationToken_), [командлета **Get-ServiceFabricApplicationUpgrade**](https://docs.microsoft.com/powershell/servicefabric/vlatest/get-servicefabricapplicationupgrade) или [операции REST **Get Application Upgrade Progress**](https://docs.microsoft.com/rest/api/servicefabric/get-the-progress-of-an-application-upgrade1).</span><span class="sxs-lookup"><span data-stu-id="105b3-153">An *operator* checks the progress of upgrade using the [**GetApplicationUpgradeProgressAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_GetApplicationUpgradeProgressAsync_System_Uri_System_TimeSpan_System_Threading_CancellationToken_), the [**Get-ServiceFabricApplicationUpgrade** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/get-servicefabricapplicationupgrade), or the [**Get Application Upgrade Progress** REST operation](https://docs.microsoft.com/rest/api/servicefabric/get-the-progress-of-an-application-upgrade1).</span></span>
8. <span data-ttu-id="105b3-154">При необходимости *оператор* изменяет и повторно применяет параметры текущего обновления приложения с помощью [метода **UpdateApplicationUpgradeAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_UpdateApplicationUpgradeAsync_System_Fabric_Description_ApplicationUpgradeUpdateDescription_System_TimeSpan_System_Threading_CancellationToken_), [командлета **Update-ServiceFabricApplicationUpgrade**](https://docs.microsoft.com/powershell/servicefabric/vlatest/update-servicefabricapplicationupgrade) или [операции **REST Update Application Upgrade**](https://docs.microsoft.com/rest/api/servicefabric/update-an-application-upgrade).</span><span class="sxs-lookup"><span data-stu-id="105b3-154">If necessary, the *operator* modifies and reapplies the parameters of the current application upgrade using the [**UpdateApplicationUpgradeAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_UpdateApplicationUpgradeAsync_System_Fabric_Description_ApplicationUpgradeUpdateDescription_System_TimeSpan_System_Threading_CancellationToken_), the [**Update-ServiceFabricApplicationUpgrade** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/update-servicefabricapplicationupgrade), or the [**Update Application Upgrade** REST operation](https://docs.microsoft.com/rest/api/servicefabric/update-an-application-upgrade).</span></span>
9. <span data-ttu-id="105b3-155">При необходимости *оператор* применяет откат текущего обновления приложения с помощью [метода **RollbackApplicationUpgradeAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_RollbackApplicationUpgradeAsync_System_Uri_System_TimeSpan_System_Threading_CancellationToken_), [командлета **Start-ServiceFabricApplicationRollback**](https://docs.microsoft.com/powershell/servicefabric/vlatest/start-servicefabricapplicationrollback) или [операции **RESTRollback Application Upgrade**](https://docs.microsoft.com/rest/api/servicefabric/rollback-an-application-upgrade).</span><span class="sxs-lookup"><span data-stu-id="105b3-155">If necessary, the *operator* rolls back the current application upgrade using the [**RollbackApplicationUpgradeAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_RollbackApplicationUpgradeAsync_System_Uri_System_TimeSpan_System_Threading_CancellationToken_), the [**Start-ServiceFabricApplicationRollback** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/start-servicefabricapplicationrollback), or the [**Rollback Application Upgrade** REST operation](https://docs.microsoft.com/rest/api/servicefabric/rollback-an-application-upgrade).</span></span>
10. <span data-ttu-id="105b3-156">Структура службы обновляет целевое приложение, запущенное в кластере приложения без потери доступности служб, которые входят в его состав.</span><span class="sxs-lookup"><span data-stu-id="105b3-156">Service Fabric upgrades the target application running in the cluster without losing the availability of any of its constituent services.</span></span>

<span data-ttu-id="105b3-157">См. [руководство по обновлению приложений Service Fabric с помощью Visual Studio](service-fabric-application-upgrade-tutorial.md), чтобы ознакомиться с примерами.</span><span class="sxs-lookup"><span data-stu-id="105b3-157">See the [Application upgrade tutorial](service-fabric-application-upgrade-tutorial.md) for examples.</span></span>

## <a name="maintain"></a><span data-ttu-id="105b3-158">Техническое обслуживание</span><span class="sxs-lookup"><span data-stu-id="105b3-158">Maintain</span></span>
1. <span data-ttu-id="105b3-159">Для обновлений и исправлений операционной системы структура служб взаимодействует с инфраструктурой Azure таким образом, чтобы обеспечивать гарантированную доступность всех приложений в кластере.</span><span class="sxs-lookup"><span data-stu-id="105b3-159">For operating system upgrades and patches, Service Fabric interfaces with the Azure infrastructure to guarantee availability of all the applications running in the cluster.</span></span>
2. <span data-ttu-id="105b3-160">Для обновлений и исправлений в платформе Service Fabric обновление самой Service Fabric выполняется без потери доступности любых приложений, запущенных в кластере.</span><span class="sxs-lookup"><span data-stu-id="105b3-160">For upgrades and patches to the Service Fabric platform, Service Fabric upgrades itself without losing availability of any of the applications running on the cluster.</span></span>
3. <span data-ttu-id="105b3-161">*Администратор приложения* утверждает добавление или удаление узлов в кластере после выполнения анализа архивных данных об использовании мощностей и прогнозируемой потребности в мощностях в будущем.</span><span class="sxs-lookup"><span data-stu-id="105b3-161">An *application administrator* approves the addition or removal of nodes from a cluster after analyzing historical capacity utilization data and projected future demand.</span></span>
4. <span data-ttu-id="105b3-162">*Оператор* добавляет и удаляет узлы, указанные *администратором приложения*.</span><span class="sxs-lookup"><span data-stu-id="105b3-162">An *operator* adds and removes nodes specified by the *application administrator*.</span></span>
5. <span data-ttu-id="105b3-163">При добавлении новых или удалении существующих узлов из кластера структура службы автоматически балансирует нагрузку запущенных приложений на всех узлах в кластере, чтобы достичь оптимальной производительности.</span><span class="sxs-lookup"><span data-stu-id="105b3-163">When new nodes are added to or existing nodes are removed from the cluster, Service Fabric automatically load-balances the running applications across all nodes in the cluster to achieve optimal performance.</span></span>

## <a name="remove"></a><span data-ttu-id="105b3-164">Удалить</span><span class="sxs-lookup"><span data-stu-id="105b3-164">Remove</span></span>
1. <span data-ttu-id="105b3-165">*Оператор* может удалить определенный экземпляр запущенной службы в кластере без удаления всего приложения с помощью [метода **DeleteServiceAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.servicemanagementclient#System_Fabric_FabricClient_ServiceManagementClient_DeleteServiceAsync_System_Fabric_Description_DeleteServiceDescription_System_TimeSpan_System_Threading_CancellationToken_), [командлета **Remove-ServiceFabricService**](https://docs.microsoft.com/powershell/servicefabric/vlatest/remove-servicefabricservice) или [операции REST **Delete Service**](https://docs.microsoft.com/rest/api/servicefabric/delete-a-service).</span><span class="sxs-lookup"><span data-stu-id="105b3-165">An *operator* can delete a specific instance of a running service in the cluster without removing the entire application using the [**DeleteServiceAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.servicemanagementclient#System_Fabric_FabricClient_ServiceManagementClient_DeleteServiceAsync_System_Fabric_Description_DeleteServiceDescription_System_TimeSpan_System_Threading_CancellationToken_), the [**Remove-ServiceFabricService** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/remove-servicefabricservice), or the [**Delete Service** REST operation](https://docs.microsoft.com/rest/api/servicefabric/delete-a-service).</span></span>  
2. <span data-ttu-id="105b3-166">*Оператор* может также удалить экземпляр приложения и все его службы с помощью [метода **DeleteApplicationAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_DeleteApplicationAsync_System_Fabric_Description_DeleteApplicationDescription_System_TimeSpan_System_Threading_CancellationToken_), [командлета **Remove-ServiceFabricApplication**](https://docs.microsoft.com/powershell/servicefabric/vlatest/remove-servicefabricapplication) или [операции **REST Delete Application**](https://docs.microsoft.com/rest/api/servicefabric/delete-an-application).</span><span class="sxs-lookup"><span data-stu-id="105b3-166">An *operator* can also delete an application instance and all of its services using the [**DeleteApplicationAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_DeleteApplicationAsync_System_Fabric_Description_DeleteApplicationDescription_System_TimeSpan_System_Threading_CancellationToken_), the [**Remove-ServiceFabricApplication** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/remove-servicefabricapplication), or the [**Delete Application** REST operation](https://docs.microsoft.com/rest/api/servicefabric/delete-an-application).</span></span>
3. <span data-ttu-id="105b3-167">После того как приложения и службы будут остановлены, *оператор* может отменить выделение мощностей для этого типа приложений с помощью [метода **UnprovisionApplicationAsync**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_UnprovisionApplicationAsync_System_String_System_String_System_TimeSpan_System_Threading_CancellationToken_), [командлета **Unregister-ServiceFabricApplicationType**](https://docs.microsoft.com/powershell/servicefabric/vlatest/unregister-servicefabricapplicationtype) или [операции **REST Unprovision an Application**](https://docs.microsoft.com/rest/api/servicefabric/unprovision-an-application).</span><span class="sxs-lookup"><span data-stu-id="105b3-167">Once the application and services have stopped, the *operator* can unprovision the application type using the [**UnprovisionApplicationAsync** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_UnprovisionApplicationAsync_System_String_System_String_System_TimeSpan_System_Threading_CancellationToken_), the  [**Unregister-ServiceFabricApplicationType** cmdlet](https://docs.microsoft.com/powershell/servicefabric/vlatest/unregister-servicefabricapplicationtype), or the [**Unprovision an Application** REST operation](https://docs.microsoft.com/rest/api/servicefabric/unprovision-an-application).</span></span> <span data-ttu-id="105b3-168">При отмене подготовки мощностей для определенного типа приложения пакет приложения не удаляется из хранилища образов; необходимо удалить его вручную.</span><span class="sxs-lookup"><span data-stu-id="105b3-168">Unprovisioning the application type does not remove the application package from the ImageStore.</span></span> <span data-ttu-id="105b3-169">Пакет приложения необходимо удалить вручную.</span><span class="sxs-lookup"><span data-stu-id="105b3-169">You must remove the application package manually.</span></span>
4. <span data-ttu-id="105b3-170">*Оператор* удаляет пакет приложений из ImageStore с помощью [метода **RemoveApplicationPackage**](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_RemoveApplicationPackage_System_String_System_String_) или [командлета **Remove-ServiceFabricApplicationPackage**](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps).</span><span class="sxs-lookup"><span data-stu-id="105b3-170">An *operator* removes the application package from the ImageStore using the [**RemoveApplicationPackage** method](https://docs.microsoft.com/dotnet/api/system.fabric.fabricclient.applicationmanagementclient#System_Fabric_FabricClient_ApplicationManagementClient_RemoveApplicationPackage_System_String_System_String_) or the [**Remove-ServiceFabricApplicationPackage** cmdlet](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps).</span></span>

<span data-ttu-id="105b3-171">См. статью [Развертывание и удаление приложений с помощью PowerShell](service-fabric-deploy-remove-applications.md), чтобы ознакомиться с примерами.</span><span class="sxs-lookup"><span data-stu-id="105b3-171">See [Deploy an application](service-fabric-deploy-remove-applications.md) for examples.</span></span>

## <a name="next-steps"></a><span data-ttu-id="105b3-172">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="105b3-172">Next steps</span></span>
<span data-ttu-id="105b3-173">Дополнительные сведения о разработке и тестировании приложений Service Fabric и служб, а также об управлении ими см. в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="105b3-173">For more information on developing, testing, and managing Service Fabric applications and services, see:</span></span>

* [<span data-ttu-id="105b3-174">Reliable Actors</span><span class="sxs-lookup"><span data-stu-id="105b3-174">Reliable Actors</span></span>](service-fabric-reliable-actors-introduction.md)
* [<span data-ttu-id="105b3-175">Надежные службы</span><span class="sxs-lookup"><span data-stu-id="105b3-175">Reliable Services</span></span>](service-fabric-reliable-services-introduction.md)
* [<span data-ttu-id="105b3-176">Развертывание приложения</span><span class="sxs-lookup"><span data-stu-id="105b3-176">Deploy an application</span></span>](service-fabric-deploy-remove-applications.md)
* [<span data-ttu-id="105b3-177">Обновление приложения</span><span class="sxs-lookup"><span data-stu-id="105b3-177">Application upgrade</span></span>](service-fabric-application-upgrade.md)
* [<span data-ttu-id="105b3-178">Обзор Testability</span><span class="sxs-lookup"><span data-stu-id="105b3-178">Testability overview</span></span>](service-fabric-testability-overview.md)
