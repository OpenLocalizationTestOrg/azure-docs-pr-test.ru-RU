---
title: "aaaScalability служб Service Fabric | Документы Microsoft"
description: "Описывает способ tooscale служб Service Fabric"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: ed324f23-242f-47b7-af1a-e55c839e7d5d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 5af06f8f71ad5dee32ba115b922842684867e654
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="scaling-in-service-fabric"></a><span data-ttu-id="7e4f3-103">Масштабирование в Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7e4f3-103">Scaling in Service Fabric</span></span>
<span data-ttu-id="7e4f3-104">Azure Service Fabric делает его легко toobuild масштабируемых приложений, управление службами hello, секций и реплик на узлах кластера hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-104">Azure Service Fabric makes it easy toobuild scalable applications by managing hello services, partitions, and replicas on hello nodes of a cluster.</span></span> <span data-ttu-id="7e4f3-105">Выполнение многих рабочих нагрузок hello же об использовании ресурсов оборудования позволяет, но также обеспечивает гибкость с точки зрения Выбор tooscale рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-105">Running many workloads on hello same hardware enables maximum resource utilization, but also provides flexibility in terms of how you choose tooscale your workloads.</span></span> 

<span data-ttu-id="7e4f3-106">В Service Fabric масштабирования осуществляется несколькими способами:</span><span class="sxs-lookup"><span data-stu-id="7e4f3-106">Scaling in Service Fabric is accomplished several different ways:</span></span>

1. <span data-ttu-id="7e4f3-107">масштабирование путем создания или удаления экземпляров службы без отслеживания состояния;</span><span class="sxs-lookup"><span data-stu-id="7e4f3-107">Scaling by creating or removing stateless service instances</span></span>
2. <span data-ttu-id="7e4f3-108">масштабирование путем создания или удаления новых именованных служб;</span><span class="sxs-lookup"><span data-stu-id="7e4f3-108">Scaling by creating or removing new named services</span></span>
3. <span data-ttu-id="7e4f3-109">масштабирование путем создания или удаления новых именованных экземпляров приложений;</span><span class="sxs-lookup"><span data-stu-id="7e4f3-109">Scaling by creating or removing new named application instances</span></span>
4. <span data-ttu-id="7e4f3-110">масштабирование с использованием секционированных служб;</span><span class="sxs-lookup"><span data-stu-id="7e4f3-110">Scaling by using partitioned services</span></span>
5. <span data-ttu-id="7e4f3-111">Масштабирование путем добавления и удаления узлов из кластера hello</span><span class="sxs-lookup"><span data-stu-id="7e4f3-111">Scaling by adding and removing nodes from hello cluster</span></span> 
6. <span data-ttu-id="7e4f3-112">масштабирование с помощью метрик диспетчера кластерных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-112">Scaling by using Cluster Resource Manager metrics</span></span>

## <a name="scaling-by-creating-or-removing-stateless-service-instances"></a><span data-ttu-id="7e4f3-113">Масштабирование путем создания или удаления экземпляров службы без отслеживания состояния</span><span class="sxs-lookup"><span data-stu-id="7e4f3-113">Scaling by creating or removing stateless service instances</span></span>
<span data-ttu-id="7e4f3-114">Один простой tooscale способов hello в Service Fabric работает с службы без сохранения состояния.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-114">One of hello simplest ways tooscale within Service Fabric works with stateless services.</span></span> <span data-ttu-id="7e4f3-115">При создании службы без отслеживания состояния, вы получаете toodefine вероятность `InstanceCount`.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-115">When you create a stateless service, you get a chance toodefine an `InstanceCount`.</span></span> <span data-ttu-id="7e4f3-116">`InstanceCount`Определяет, сколько работающие копии этой службы кода создаются при запуске службы hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-116">`InstanceCount` defines how many running copies of that service's code are created when hello service starts up.</span></span> <span data-ttu-id="7e4f3-117">Предположим, например, 100 узлов в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-117">Let's say, for example, that there are 100 nodes in hello cluster.</span></span> <span data-ttu-id="7e4f3-118">Предположим также, что служба создается с параметром `InstanceCount`, равным 10.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-118">Let's also say that a service is created with an `InstanceCount` of 10.</span></span> <span data-ttu-id="7e4f3-119">Во время выполнения эти 10 работающие копии кода hello все станут слишком занят (или может не быть достаточно занят).</span><span class="sxs-lookup"><span data-stu-id="7e4f3-119">During runtime, those 10 running copies of hello code could all become too busy (or could be not busy enough).</span></span> <span data-ttu-id="7e4f3-120">Одним из способов tooscale что рабочая нагрузка является toochange hello число экземпляров.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-120">One way tooscale that workload is toochange hello number of instances.</span></span> <span data-ttu-id="7e4f3-121">Например некоторые части кода, мониторинга и управления можно изменить hello существующего количества экземпляров too50 или too5, в зависимости от того, должен ли рабочая нагрузка hello tooscale in или out на основе hello загрузки.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-121">For example, some piece of monitoring or management code can change hello existing number of instances too50, or too5, depending on whether hello workload needs tooscale in or out based on hello load.</span></span> 

<span data-ttu-id="7e4f3-122">C#:</span><span class="sxs-lookup"><span data-stu-id="7e4f3-122">C#:</span></span>

```csharp
StatelessServiceUpdateDescription updateDescription = new StatelessServiceUpdateDescription(); 
updateDescription.InstanceCount = 50;
await fabricClient.ServiceManager.UpdateServiceAsync(new Uri("fabric:/app/service"), updateDescription);
```

<span data-ttu-id="7e4f3-123">PowerShell:</span><span class="sxs-lookup"><span data-stu-id="7e4f3-123">Powershell:</span></span>

```posh
Update-ServiceFabricService -Stateless -ServiceName $serviceName -InstanceCount 50
```
### <a name="using-dynamic-instance-count"></a><span data-ttu-id="7e4f3-124">Использование динамического числа экземпляров</span><span class="sxs-lookup"><span data-stu-id="7e4f3-124">Using Dynamic Instance Count</span></span>
<span data-ttu-id="7e4f3-125">Специально для службы без сохранения состояния Service Fabric предлагает число экземпляров hello toochange автоматическим способом.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-125">Specifically for stateless services, Service Fabric offers an automatic way toochange hello instance count.</span></span> <span data-ttu-id="7e4f3-126">Это позволяет tooscale службы hello динамически с hello количеством доступные узлы.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-126">This allows hello service tooscale dynamically with hello number of nodes that are available.</span></span> <span data-ttu-id="7e4f3-127">tooopt способом Hello на это поведение является число экземпляров hello tooset = -1.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-127">hello way tooopt into this behavior is tooset hello instance count = -1.</span></span> <span data-ttu-id="7e4f3-128">InstanceCount = -1 — инструкция tooService структуры с надписью «Запустить эту службу без отслеживания состояния на каждом узле».</span><span class="sxs-lookup"><span data-stu-id="7e4f3-128">InstanceCount = -1 is an instruction tooService Fabric that says "Run this stateless service on every node."</span></span> <span data-ttu-id="7e4f3-129">При изменении номера hello узлов Service Fabric автоматически изменяет toomatch число экземпляр hello, гарантирует, что hello запущена на всех узлах допустимым.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-129">If hello number of nodes changes, Service Fabric automatically changes hello instance count toomatch, ensuring that hello service is running on all valid nodes.</span></span> 

<span data-ttu-id="7e4f3-130">C#:</span><span class="sxs-lookup"><span data-stu-id="7e4f3-130">C#:</span></span>

```csharp
StatelessServiceDescription serviceDescription = new StatelessServiceDescription();
//Set other service properties necessary for creation....
serviceDescription.InstanceCount = -1;
await fc.ServiceManager.CreateServiceAsync(serviceDescription);
```

<span data-ttu-id="7e4f3-131">PowerShell:</span><span class="sxs-lookup"><span data-stu-id="7e4f3-131">Powershell:</span></span>

```posh
New-ServiceFabricService -ApplicationName $applicationName -ServiceName $serviceName -ServiceTypeName $serviceTypeName -Stateless -PartitionSchemeSingleton -InstanceCount "-1"
```

## <a name="scaling-by-creating-or-removing-new-named-services"></a><span data-ttu-id="7e4f3-132">масштабирование путем создания или удаления новых именованных служб;</span><span class="sxs-lookup"><span data-stu-id="7e4f3-132">Scaling by creating or removing new named services</span></span>
<span data-ttu-id="7e4f3-133">Экземпляр службы является экземпляр типа службы (в разделе [жизненного цикла приложения Service Fabric](service-fabric-application-lifecycle.md)) в некоторых именованный экземпляр приложения в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-133">A named service instance is a specific instance of a service type (see [Service Fabric application life cycle](service-fabric-application-lifecycle.md)) within some named application instance in hello cluster.</span></span> 

<span data-ttu-id="7e4f3-134">Новые именованные экземпляры службы могут создаваться (или удаляться) при повышении (или снижении) нагрузки службы.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-134">New named service instances can be created (or removed) as services become more or less busy.</span></span> <span data-ttu-id="7e4f3-135">Это позволяет распределить по несколько экземпляров службы, обычно разрешение загрузки для существующих служб toodecrease toobe запросов.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-135">This allows requests toobe spread across more service instances, usually allowing load on existing services toodecrease.</span></span> <span data-ttu-id="7e4f3-136">При создании служб, hello диспетчер ресурсов кластера Service Fabric помещает hello службы в кластере hello распределенных образом.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-136">When creating services, hello Service Fabric Cluster Resource Manager places hello services in hello cluster in a distributed fashion.</span></span> <span data-ttu-id="7e4f3-137">точные решения Hello управляются hello [метрики](service-fabric-cluster-resource-manager-metrics.md) в кластере hello и другие правила размещения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-137">hello exact decisions are governed by hello [metrics](service-fabric-cluster-resource-manager-metrics.md) in hello cluster and other placement rules.</span></span> <span data-ttu-id="7e4f3-138">Службы можно создать несколькими способами, однако hello чаще всего либо через административных действий, таких как вызывающий [ `New-ServiceFabricService` ](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), или код, вызывающий [ `CreateServiceAsync` ](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span><span class="sxs-lookup"><span data-stu-id="7e4f3-138">Services can be created several different ways, but hello most common are either through administrative actions like someone calling [`New-ServiceFabricService`](https://docs.microsoft.com/en-us/powershell/module/servicefabric/new-servicefabricservice?view=azureservicefabricps), or by code calling [`CreateServiceAsync`](https://docs.microsoft.com/en-us/dotnet/api/system.fabric.fabricclient.servicemanagementclient.createserviceasync?view=azure-dotnet).</span></span> <span data-ttu-id="7e4f3-139">`CreateServiceAsync`Можно даже вызвать из других служб, выполняющихся в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-139">`CreateServiceAsync` can even be called from within other services running in hello cluster.</span></span>

<span data-ttu-id="7e4f3-140">Динамическое создание служб можно использовать во всех видах сценариев, это общепринятая практика.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-140">Creating services dynamically can be used in all sorts of scenarios, and is a common pattern.</span></span> <span data-ttu-id="7e4f3-141">Например, рассмотрим службу с отслеживанием состояния, которая представляет определенный рабочий процесс.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-141">For example, consider a stateful service that represents a particular workflow.</span></span> <span data-ttu-id="7e4f3-142">Вызовы, представляющий работу будет tooshow toothis службы, и эта служба является постоянной tooexecute hello действия toothat рабочего процесса и записи о ходе выполнения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-142">Calls representing work are going tooshow up toothis service, and this service is going tooexecute hello steps toothat workflow and record progress.</span></span> 

<span data-ttu-id="7e4f3-143">Как сделать этот масштаб конкретной службы? Hello службы может быть нескольких клиентов в определенной форме и принимать вызовы и начнем действия для многих различных экземпляров hello же рабочего процесса за один раз.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-143">How would you make this particular service scale? hello service could be multi-tenant in some form, and accept calls and kick off steps for many different instances of hello same workflow all at once.</span></span> <span data-ttu-id="7e4f3-144">Тем не менее, может сделать hello код сложнее, поскольку теперь tooworry о многих различных экземпляров hello того же рабочего процесса, все на разных этапах и от различных клиентов.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-144">However, that can make hello code more complex, since now it has tooworry about many different instances of hello same workflow, all at different stages and from different customers.</span></span> <span data-ttu-id="7e4f3-145">Кроме того, обработка несколько рабочих процессов, в то же время не устранит hello hello масштаб проблемы.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-145">Also, handling multiple workflows at hello same time doesn't solve hello scale problem.</span></span> <span data-ttu-id="7e4f3-146">Это потому, что в определенный момент эта служба будет занимать слишком много ресурсов toofit на конкретном компьютере.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-146">This is because at some point this service will consume too many resources toofit on a particular machine.</span></span> <span data-ttu-id="7e4f3-147">Многие службы, не создан для этого шаблона на первом месте hello также затруднений оплаты toosome специфические узким местом или замедление в своем коде.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-147">Many services not built for this pattern in hello first place also experience difficulty due toosome inherent bottleneck or slowdown in their code.</span></span> <span data-ttu-id="7e4f3-148">Подобные проблемы вызвать службу hello не toowork также при hello количество одновременных рабочих процессов, которые он отслеживает увеличивается.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-148">These types of issues cause hello service not toowork as well when hello number of concurrent workflows it is tracking gets larger.</span></span>  

<span data-ttu-id="7e4f3-149">Решением является toocreate экземпляр службы каждый другой экземпляр рабочего процесса hello требуется tootrack.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-149">A solution is toocreate an instance of this service for every different instance of hello workflow you want tootrack.</span></span> <span data-ttu-id="7e4f3-150">Это отличный шаблон, работает ли служба hello без сохранения состояния или с отслеживанием состояния.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-150">This is a great pattern and works whether hello service is stateless or stateful.</span></span> <span data-ttu-id="7e4f3-151">Для этого toowork шаблон имеется обычно другой службы, которая выступает в роли «Служба диспетчера рабочей нагрузки».</span><span class="sxs-lookup"><span data-stu-id="7e4f3-151">For this pattern toowork, there's usually another service that acts as a "Workload Manager Service".</span></span> <span data-ttu-id="7e4f3-152">Задание Hello этой службы является tooreceive запросы и tooroute tooother этих запросов служб.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-152">hello job of this service is tooreceive requests and tooroute those requests tooother services.</span></span> <span data-ttu-id="7e4f3-153">Диспетчер Hello можно динамически создать экземпляр службы hello рабочей нагрузки при получении сообщения hello, а затем передайте в службах toothose запросов.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-153">hello manager can dynamically create an instance of hello workload service when it receives hello message, and then pass on requests toothose services.</span></span> <span data-ttu-id="7e4f3-154">Служба диспетчера Hello также может получать обратные вызовы службы рабочего процесса по завершении этого задания.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-154">hello manager service could also receive callbacks when a given workflow service completes its job.</span></span> <span data-ttu-id="7e4f3-155">При получении диспетчером hello эти обратные вызовы его удалось удалить этот экземпляр службы рабочего процесса hello, или оставить его, если ожидается, что дополнительные вызовы.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-155">When hello manager receives these callbacks it could delete that instance of hello workflow service, or leave it if more calls are expected.</span></span> 

<span data-ttu-id="7e4f3-156">Дополнительных версий этого типа диспетчера, можно создавать пулы служб hello, которыми он управляет.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-156">Advanced versions of this type of manager can even create pools of hello services that it manages.</span></span> <span data-ttu-id="7e4f3-157">пул Hello помогает убедитесь, что при поступлении нового запроса он не toowait для hello службы toospin.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-157">hello pool helps ensure that when a new request comes in it doesn't have toowait for hello service toospin up.</span></span> <span data-ttu-id="7e4f3-158">Вместо этого диспетчер hello можно просто выбрать службы рабочего процесса, не является в настоящее время занято из пула hello, или маршрутизации случайным образом.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-158">Instead, hello manager can just pick a workflow service that is not currently busy from hello pool, or route randomly.</span></span> <span data-ttu-id="7e4f3-159">Поддержание пула доступных служб ускоряется обработки новых запросов, так как она является менее вероятно, у этого запроса hello toowait для новой службы toobe, зацикливается.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-159">Keeping a pool of services available makes handling new requests faster, since it is less likely that hello request has toowait for a new service toobe spun up.</span></span> <span data-ttu-id="7e4f3-160">Новые службы создаются быстро, но не бесплатно и не мгновенно.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-160">Creating new services is quick, but not free or instantaneous.</span></span> <span data-ttu-id="7e4f3-161">Hello пула позволяет минимизировать период времени, hello запрос имеет toowait перед обслуживаемые hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-161">hello pool helps minimize hello amount of time hello request has toowait before being serviced.</span></span> <span data-ttu-id="7e4f3-162">Вы увидите этот диспетчер и пула шаблон часто при отклика интересующим hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-162">You'll often see this manager and pool pattern when response times matter hello most.</span></span> <span data-ttu-id="7e4f3-163">Очереди запросов hello и создание службы hello в фоновом режиме hello и _затем_ передача его также является шаблон популярных manager как является создание и удаление служб, основанных на некоторых отслеживание hello объем работы этой службы в настоящее время имеет ожидающие.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-163">Queuing hello request and creating hello service in hello background and _then_ passing it on is also a popular manager pattern, as is creating and deleting services based on some tracking of hello amount of work that service currently has pending.</span></span> 

## <a name="scaling-by-creating-or-removing-new-named-application-instances"></a><span data-ttu-id="7e4f3-164">Масштабирование путем создания или удаления новых именованных экземпляров приложений</span><span class="sxs-lookup"><span data-stu-id="7e4f3-164">Scaling by creating or removing new named application instances</span></span>
<span data-ttu-id="7e4f3-165">Создание и удаление экземпляров всего приложения является аналогичный toohello шаблон создания и удаления служб.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-165">Creating and deleting whole application instances is similar toohello pattern of creating and deleting services.</span></span> <span data-ttu-id="7e4f3-166">Для этого шаблона отсутствует некоторые service manager, предоставляющего hello принятия решений на основе запросов hello, он видит и другие службы внутри кластера hello hello hello сведений, которые он получает из.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-166">For this pattern, there's some manager service that is making hello decision based on hello requests that it is seeing and hello information it is receiving from hello other services inside hello cluster.</span></span> 

<span data-ttu-id="7e4f3-167">В каких случаях должен создаваться новый именованный экземпляр приложения, а не новые именованные экземпляры службы в существующем приложении?</span><span class="sxs-lookup"><span data-stu-id="7e4f3-167">When should creating a new named application instance be used instead of creating a new named service instances in some already existing application?</span></span> <span data-ttu-id="7e4f3-168">Таких случаев несколько.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-168">There's a few cases:</span></span>

  * <span data-ttu-id="7e4f3-169">новый экземпляр приложения Hello предназначено для клиента, код должен toorun в некоторых конкретное удостоверение или параметры безопасности.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-169">hello new application instance is for a customer whose code needs toorun under some particular identity or security settings.</span></span>
    * <span data-ttu-id="7e4f3-170">Service Fabric возможность определения toorun пакеты другой код под определенной удостоверениями.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-170">Service Fabric allows defining different code packages toorun under particular identities.</span></span> <span data-ttu-id="7e4f3-171">В порядке toolaunch hello того же пакета кода под разными учетными записями, активаций hello должны toooccur в экземплярах другого приложения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-171">In order toolaunch hello same code package under different identities, hello activations need toooccur in different application instances.</span></span> <span data-ttu-id="7e4f3-172">Предположим, в вашей среде развернуты рабочие нагрузки клиента.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-172">Consider a case where you have an existing customer's workloads deployed.</span></span> <span data-ttu-id="7e4f3-173">Они могут выполняться в конкретное удостоверение, чтобы можно было отслеживать и управлять tooother их доступа к ресурсам, например удаленных баз данных или других систем.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-173">These may be running under a particular identity so you can monitor and control their access tooother resources, such as remote databases or other systems.</span></span> <span data-ttu-id="7e4f3-174">В этом случае когда регистрируется новый клиент, вероятно, необходимо исключить tooactivate кода hello того же контекста (пространство процесса).</span><span class="sxs-lookup"><span data-stu-id="7e4f3-174">In this case, when a new customer signs up, you probably don't want tooactivate their code in hello same context (process space).</span></span> <span data-ttu-id="7e4f3-175">Хотя можно было бы это затрудняет для вашего tooact кода службы в контексте hello конкретное удостоверение.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-175">While you could, this makes it harder for your service code tooact within hello context of a particular identity.</span></span> <span data-ttu-id="7e4f3-176">Обычно требуется дополнительный код для защиты, изоляции и управления удостоверениями.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-176">You typically must have more security, isolation, and identity management code.</span></span> <span data-ttu-id="7e4f3-177">Вместо использования различных с именем службы экземпляры внутри одного экземпляра приложения hello и поэтому hello же пространстве процесса, можно использовать различные именованные экземпляры структуры приложения службы.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-177">Instead of using different named service instances within hello same application instance and hence hello same process space, you can use different named Service Fabric Application instances.</span></span> <span data-ttu-id="7e4f3-178">Это позволяет проще контексты toodefine другим удостоверением.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-178">This makes it easier toodefine different identity contexts.</span></span>
  * <span data-ttu-id="7e4f3-179">новый экземпляр приложения Hello также служит в качестве средства конфигурации</span><span class="sxs-lookup"><span data-stu-id="7e4f3-179">hello new application instance also serves as a means of configuration</span></span>
    * <span data-ttu-id="7e4f3-180">По умолчанию все именованные экземпляры службы типа конкретной службы в пределах экземпляра приложения hello будет выполняться в hello же процесс на заданном узле.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-180">By default, all of hello named service instances of a particular service type within an application instance will run in hello same process on a given node.</span></span> <span data-ttu-id="7e4f3-181">Это означает, что хотя каждый экземпляр службы можно настроить по-разному, сделать это сложно.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-181">What this means is that while you can configure each service instance differently, doing so is complicated.</span></span> <span data-ttu-id="7e4f3-182">Службы должны иметь некоторые токен, они используют toolook вверх их конфигурации в рамках конфигурации пакета.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-182">Services must have some token they use toolook up their config within a configuration package.</span></span> <span data-ttu-id="7e4f3-183">Обычно это просто имя службы hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-183">Usually this is just hello service's name.</span></span> <span data-ttu-id="7e4f3-184">Это работает отлично, но он связывает hello конфигурации toohello имена экземпляров отдельные службы hello в пределах данного экземпляра приложения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-184">This works fine, but it couples hello configuration toohello names of hello individual named service instances within that application instance.</span></span> <span data-ttu-id="7e4f3-185">Это может вызывать путаницу и жестких toomanage с момента конфигурации обычно является артефактом времени разработки с определенными значениями экземпляра приложения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-185">This can be confusing and hard toomanage since configuration is normally a design time artifact with application instance specific values.</span></span> <span data-ttu-id="7e4f3-186">Создание нескольких служб всегда означает дополнительные обновления приложения toochange сведения hello в пакеты конфигурации hello или toodeploy новые, чтобы их определенные сведения можно найти новые службы hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-186">Creating more services always means more application upgrades toochange hello information within hello config packages or toodeploy new ones so that hello new services can look up their specific information.</span></span> <span data-ttu-id="7e4f3-187">Часто бывает проще toocreate совершенно новый именованный экземпляр приложения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-187">It's often easier toocreate a whole new named application instance.</span></span> <span data-ttu-id="7e4f3-188">Затем можно использовать tooset параметры приложения hello, независимо от настройки не требуется для служб hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-188">Then you can use hello application parameters tooset whatever configuration is necessary for hello services.</span></span> <span data-ttu-id="7e4f3-189">Таким образом, все службы hello, созданных в пределах, именованный экземпляр приложения может наследовать параметры конкретной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-189">This way all of hello services that are created within that named application instance can inherit particular configuration settings.</span></span> <span data-ttu-id="7e4f3-190">Например вместо того, один файл конфигурации с hello параметры и настройки для каждого клиента, такие как секреты или за пределы ресурсов клиента, вместо этого пришлось бы экземпляр другое приложение для каждого клиента с помощью этих параметров переопределить.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-190">For example, instead of having a single configuration file with hello settings and customizations for every customer, such as secrets or per customer resource limits, you'd instead have a different application instance for each customer with these settings overridden.</span></span> 
  * <span data-ttu-id="7e4f3-191">новое приложение Hello служит границу обновления</span><span class="sxs-lookup"><span data-stu-id="7e4f3-191">hello new application serves as an upgrade boundary</span></span>
    * <span data-ttu-id="7e4f3-192">В Service Fabric разные именованные экземпляры приложения служат в качестве границы для обновления.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-192">Within Service Fabric, different named application instances serve as boundaries for upgrade.</span></span> <span data-ttu-id="7e4f3-193">Обновление один именованный экземпляр приложения не влияет на код hello, на котором выполняется другой именованный экземпляр приложения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-193">An upgrade of one named application instance will not impact hello code that another named application instance is running.</span></span> <span data-ttu-id="7e4f3-194">Hello различных приложений будет заканчиваться под управлением других версий hello же код на hello разным узлам.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-194">hello different applications will end up running different versions of hello same code on hello same nodes.</span></span> <span data-ttu-id="7e4f3-195">Это может быть фактор, при необходимости toomake масштабирования принятия решений, так как вы можете ли новый код hello должен следовать за hello же обновляет как другая служба или нет.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-195">This can be a factor when you need toomake a scaling decision because you can choose whether hello new code should follow hello same upgrades as another service or not.</span></span> <span data-ttu-id="7e4f3-196">Например, вызов достигает службы диспетчера hello, который отвечает за масштабирование рабочих нагрузок конкретного клиента путем создания и удаления служб динамически.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-196">For example, say that a call arrives at hello manager service that is responsible for scaling a particular customer's workloads by creating and deleting services dynamically.</span></span> <span data-ttu-id="7e4f3-197">В этом случае вызов hello то, для рабочей нагрузки, связанные с _новый_ клиента.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-197">In this case however, hello call is for a workload associated with a _new_ customer.</span></span> <span data-ttu-id="7e4f3-198">Большинство пользователей как отделены друг от друга не только для hello и настройка безопасности причинам, перечисленным выше, но так как он обеспечивает большую гибкость с точки зрения под управлением определенных версий программного обеспечения hello и выбрав когда они обновляются.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-198">Most customers like being isolated from each other not just for hello security and configuration reasons listed previously, but because it provides more flexibility in terms of running specific versions of hello software and choosing when they get upgraded.</span></span> <span data-ttu-id="7e4f3-199">Можно также создать новый экземпляр приложения и создать службу hello существует просто toofurther секции hello сумма служб, которые затрагивает одного обновления.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-199">You may also create a new application instance and create hello service there simply toofurther partition hello amount of your services that any one upgrade will touch.</span></span> <span data-ttu-id="7e4f3-200">Отдельные экземпляры приложения обеспечивают большую детализацию при обновлении приложений, а также позволяют использовать тестирование A/B и развертывания Blue-Green.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-200">Separate application instances provide greater granularity when doing application upgrades, and also enable A/B testing and Blue/Green deployments.</span></span> 
  * <span data-ttu-id="7e4f3-201">существующий экземпляр приложения Hello заполнен</span><span class="sxs-lookup"><span data-stu-id="7e4f3-201">hello existing application instance is full</span></span>
    * <span data-ttu-id="7e4f3-202">В Service Fabric [емкость приложения](service-fabric-cluster-resource-manager-application-groups.md) — это понятие, toocontrol hello объем доступных ресурсов можно использовать для экземпляров конкретного приложения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-202">In Service Fabric, [application capacity](service-fabric-cluster-resource-manager-application-groups.md) is a concept that you can use toocontrol hello amount of resources available for particular application instances.</span></span> <span data-ttu-id="7e4f3-203">Например вы можете решить, что данной службе должна toohave другим экземпляром, созданным в tooscale порядке.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-203">For example, you may decide that a given service needs toohave another instance created in order tooscale.</span></span> <span data-ttu-id="7e4f3-204">Однако этот экземпляр приложения превышает емкость для определенной метрики.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-204">However, this application instance is out of capacity for a certain metric.</span></span> <span data-ttu-id="7e4f3-205">Если этого конкретного клиента или рабочей нагрузки следует по-прежнему предоставить больше ресурсов, затем можно либо увеличить емкость существующих hello для этого приложения или создайте новое приложение.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-205">If this particular customer or workload should still be granted more resources, then you could either increase hello existing capacity for that application or create a new application.</span></span> 

## <a name="scaling-at-hello-partition-level"></a><span data-ttu-id="7e4f3-206">Масштабирование на уровне секции hello</span><span class="sxs-lookup"><span data-stu-id="7e4f3-206">Scaling at hello partition level</span></span>
<span data-ttu-id="7e4f3-207">Service Fabric поддерживает секционирование.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-207">Service Fabric supports partitioning.</span></span> <span data-ttu-id="7e4f3-208">Секционирование позволяет разделить службы на несколько логических и физических секций, каждая из которых работает независимо друг от друга.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-208">Partitioning splits a service into several logical and physical sections, each of which operates independently.</span></span> <span data-ttu-id="7e4f3-209">Это удобно использовать с отслеживанием состояния служб, поскольку ни один набор реплик есть toohandle все вызовы hello и управления всеми hello состояние за один раз.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-209">This is useful with stateful services, since no one set of replicas has toohandle all hello calls and manipulate all of hello state at once.</span></span> <span data-ttu-id="7e4f3-210">Hello [секционирование Обзор](service-fabric-concepts-partitioning.md) содержит сведения о типах hello схем секционирования, которые поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-210">hello [partitioning overview](service-fabric-concepts-partitioning.md) provides information on hello types of partitioning schemes that are supported.</span></span> <span data-ttu-id="7e4f3-211">Hello реплики каждой секции распределены по hello узлов в кластере, распределение нагрузки для этой службы и проверку того, ни hello службе в целом или любого раздела имеет единую точку сбоя.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-211">hello replicas of each partition are spread across hello nodes in a cluster, distributing that service's load and ensuring that neither hello service as a whole or any partition has a single point of failure.</span></span> 

<span data-ttu-id="7e4f3-212">Рассмотрим службу, использующую схему секционирования по диапазонам, в которой нижний ключ равен 0, верхний ключ равен 99, а количество разделов равно 4.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-212">Consider a service that uses a ranged partitioning scheme with a low key of 0, a high key of 99, and a partition count of 4.</span></span> <span data-ttu-id="7e4f3-213">В кластере три узла службы hello может располагаться с 4 реплик, совместно использующих ресурсы hello на каждом узле, как показано ниже:</span><span class="sxs-lookup"><span data-stu-id="7e4f3-213">In a three-node cluster, hello service might be laid out with four replicas that share hello resources on each node as shown here:</span></span>

<span data-ttu-id="7e4f3-214"><center>
![Распределение разделов с тремя узлами](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="7e4f3-214"><center>
![Partition layout with three nodes](./media/service-fabric-concepts-scalability/layout-three-nodes.png)
</center></span></span>

<span data-ttu-id="7e4f3-215">Если увеличить количество узлов в hello Service Fabric будет переместить некоторые из существующих реплик hello существует.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-215">If you increase hello number of nodes, Service Fabric will move some of hello existing replicas there.</span></span> <span data-ttu-id="7e4f3-216">Например предположим, что hello узлы возрастает toofour и получить перераспределения hello реплик.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-216">For example, let's say hello number of nodes increases toofour and hello replicas get redistributed.</span></span> <span data-ttu-id="7e4f3-217">Теперь служба hello теперь имеет три реплики, которые выполняются на каждом узле, каждый принадлежащий toodifferent секций.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-217">Now hello service now has three replicas running on each node, each belonging toodifferent partitions.</span></span> <span data-ttu-id="7e4f3-218">Это позволяет более эффективное использование ресурсов, поскольку новый узел hello не холодного.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-218">This allows better resource utilization since hello new node isn't cold.</span></span> <span data-ttu-id="7e4f3-219">Как правило она также повышает производительность как каждая служба имеет несколько доступных tooit ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-219">Typically, it also improves performance as each service has more resources available tooit.</span></span>

<span data-ttu-id="7e4f3-220"><center>
![Распределение разделов с четырьмя узлами](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span><span class="sxs-lookup"><span data-stu-id="7e4f3-220"><center>
![Partition layout with four nodes](./media/service-fabric-concepts-scalability/layout-four-nodes.png)
</center></span></span>

## <a name="scaling-by-using-hello-service-fabric-cluster-resource-manager-and-metrics"></a><span data-ttu-id="7e4f3-221">Масштабирование, используя диспетчер ресурсов кластера Service Fabric hello и метрики</span><span class="sxs-lookup"><span data-stu-id="7e4f3-221">Scaling by using hello Service Fabric Cluster Resource Manager and metrics</span></span>
<span data-ttu-id="7e4f3-222">[Метрики](service-fabric-cluster-resource-manager-metrics.md) являются как службы express их tooService потребления ресурсов структуры.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-222">[Metrics](service-fabric-cluster-resource-manager-metrics.md) are how services express their resource consumption tooService Fabric.</span></span> <span data-ttu-id="7e4f3-223">С помощью метрики дает возможность tooreorganize hello диспетчер ресурсов кластера и оптимизировать макет hello hello кластера.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-223">Using metrics gives hello Cluster Resource Manager an opportunity tooreorganize and optimize hello layout of hello cluster.</span></span> <span data-ttu-id="7e4f3-224">Например может быть большое количество ресурсов в кластере hello, но они не может быть выделено toohello служб, которые в настоящее время выполнения задачи.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-224">For example, there may be plenty of resources in hello cluster, but they might not be allocated toohello services that are currently doing work.</span></span> <span data-ttu-id="7e4f3-225">Использование метрики позволяет hello диспетчер ресурсов кластера tooreorganize tooensure hello кластера, что служба имеет доступ toohello доступных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-225">Using metrics allows hello Cluster Resource Manager tooreorganize hello cluster tooensure that services have access toohello available resources.</span></span> 


## <a name="scaling-by-adding-and-removing-nodes-from-hello-cluster"></a><span data-ttu-id="7e4f3-226">Масштабирование путем добавления и удаления узлов из кластера hello</span><span class="sxs-lookup"><span data-stu-id="7e4f3-226">Scaling by adding and removing nodes from hello cluster</span></span> 
<span data-ttu-id="7e4f3-227">Другой вариант для масштабирования в Service Fabric — toochange hello размер кластера hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-227">Another option for scaling with Service Fabric is toochange hello size of hello cluster.</span></span> <span data-ttu-id="7e4f3-228">Изменение размера hello hello кластера означает добавление или удаление узлов для одного или нескольких типов hello узлов в кластере hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-228">Changing hello size of hello cluster means adding or removing nodes for one or more of hello node types in hello cluster.</span></span> <span data-ttu-id="7e4f3-229">Например рассмотрим случай, где все hello узлы в кластере hello, горячей.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-229">For example, consider a case where all of hello nodes in hello cluster are hot.</span></span> <span data-ttu-id="7e4f3-230">Это означает, что ресурсы кластера hello почти все потребления.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-230">This means that hello cluster's resources are almost all consumed.</span></span> <span data-ttu-id="7e4f3-231">В этом случае добавление toohello дополнительные узлы кластера является лучшим способом tooscale hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-231">In this case, adding more nodes toohello cluster is hello best way tooscale.</span></span> <span data-ttu-id="7e4f3-232">После новых узлов hello join hello кластера hello диспетчер ресурсов кластера Service Fabric перемещает toothem службы приведет к менее общую нагрузку на существующие узлы hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-232">Once hello new nodes join hello cluster hello Service Fabric Cluster Resource Manager moves services toothem, resulting in less total load on hello existing nodes.</span></span> <span data-ttu-id="7e4f3-233">Для служб без отслеживания состояния с числом экземпляров, равным -1, дополнительные экземпляры службы создаются автоматически.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-233">For stateless services with instance count = -1, more service instances are automatically created.</span></span> <span data-ttu-id="7e4f3-234">Это позволяет toomove некоторые вызовы из hello существующие узлы toohello новых узлов.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-234">This allows some calls toomove from hello existing nodes toohello new nodes.</span></span> 

<span data-ttu-id="7e4f3-235">Добавление и удаление toohello узлы кластера можно выполнить с помощью модуля PowerShell диспетчера ресурсов Azure Service Fabric hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-235">Adding and removing nodes toohello cluster can be accomplished via hello Service Fabric Azure Resource Manager PowerShell module.</span></span>

```posh
Add-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName  -NumberOfNodesToAdd 5 
Remove-AzureRmServiceFabricNode -ResourceGroupName $resourceGroupName -Name $clusterResourceName -NodeType $nodeTypeName -NumberOfNodesToRemove 5
```

## <a name="putting-it-all-together"></a><span data-ttu-id="7e4f3-236">Сборка</span><span class="sxs-lookup"><span data-stu-id="7e4f3-236">Putting it all together</span></span>
<span data-ttu-id="7e4f3-237">Давайте все hello идеи, которые мы обсуждали здесь и взаимодействовать через пример.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-237">Let's take all hello ideas that we've discussed here and talk through an example.</span></span> <span data-ttu-id="7e4f3-238">Рассмотрим следующие службы hello: вы пытаетесь toobuild службы, который выступает в качестве адресную книгу, удерживая для toonames и контактные данные.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-238">Consider hello following service: you are trying toobuild a service that acts as an address book, holding on toonames and contact information.</span></span> 

<span data-ttu-id="7e4f3-239">Использующейся есть ряд вопросов связанные tooscale: сколько пользователей, будет toohave?</span><span class="sxs-lookup"><span data-stu-id="7e4f3-239">Right up front you have a bunch of questions related tooscale: How many users are you going toohave?</span></span> <span data-ttu-id="7e4f3-240">Сколько контактов будет хранить каждый пользователь?</span><span class="sxs-lookup"><span data-stu-id="7e4f3-240">How many contacts will each user store?</span></span> <span data-ttu-id="7e4f3-241">Попыткой toofigure всем этим когда вы поддержку службы для hello первый раз сложно.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-241">Trying toofigure this all out when you are standing up your service for hello first time is difficult.</span></span> <span data-ttu-id="7e4f3-242">Предположим, что ты toogo с одной службой статических с количеством определенной секции.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-242">Let's say you were going toogo with a single static service with a specific partition count.</span></span> <span data-ttu-id="7e4f3-243">последствия Hello комплектации hello неверное количество секций может привести к вы toohave проблемы масштабирования позже.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-243">hello consequences of picking hello wrong partition count could cause you toohave scale issues later.</span></span> <span data-ttu-id="7e4f3-244">Аналогичным образом даже если выбрать hello правой count, которые не могут быть вся информация hello необходимо.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-244">Similarly, even if you pick hello right count you might not have all hello information you need.</span></span> <span data-ttu-id="7e4f3-245">Например имеется toodecide hello размер кластера hello заранее, как с точки зрения hello числом узлов и их размер.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-245">For example, you also have toodecide hello size of hello cluster up front, both in terms of hello number of nodes and their sizes.</span></span> <span data-ttu-id="7e4f3-246">Обычно жестких toopredict сколько ресурсов службы будет tooconsume со временем.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-246">It's usually hard toopredict how many resources a service is going tooconsume over its lifetime.</span></span> <span data-ttu-id="7e4f3-247">Он также может быть жестких tooknow опережает время hello трафика шаблон, который фактически видит hello службы.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-247">It can also be hard tooknow ahead of time hello traffic pattern that hello service actually sees.</span></span> <span data-ttu-id="7e4f3-248">Например пользователей может быть добавления и удаления их только первое, что в утром hello или возможно его значение распределяется равномерно продолжался hello hello дня.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-248">For example, maybe people add and remove their contacts only first thing in hello morning, or maybe it's distributed evenly over hello course of hello day.</span></span> <span data-ttu-id="7e4f3-249">Исходя из этого, которые могут понадобиться tooscale извлечение и возврат динамически.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-249">Based on this you might need tooscale out and in dynamically.</span></span> <span data-ttu-id="7e4f3-250">Может быть toopredict можно узнать, когда ты tooneed tooscale извлечение и возврат, но в любом случае, скорее всего, понадобятся потребления ресурсов toochanging tooreact tooneed вашей службой.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-250">Maybe you can learn toopredict when you're going tooneed tooscale out and in, but either way you're probably going tooneed tooreact toochanging resource consumption by your service.</span></span> <span data-ttu-id="7e4f3-251">Это может включать изменение размера hello кластера hello в порядке tooprovide дополнительные ресурсы при реорганизации использование существующих ресурсов недостаточно.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-251">This can involve changing hello size of hello cluster in order tooprovide more resources when reorganizing use of existing resources isn't enough.</span></span> 

<span data-ttu-id="7e4f3-252">Но зачем даже попробуйте toopick схему секционирования одной ожидания для всех пользователей?</span><span class="sxs-lookup"><span data-stu-id="7e4f3-252">But why even try toopick a single partition scheme out for all users?</span></span> <span data-ttu-id="7e4f3-253">Почему ограничиться tooone службы и один статический кластера? Hello реальной ситуации обычно более динамичным процессом.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-253">Why limit yourself tooone service and one static cluster? hello real situation is usually more dynamic.</span></span> 

<span data-ttu-id="7e4f3-254">При построении для масштабирования, рассмотрим следующие динамические шаблон hello.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-254">When building for scale, consider hello following dynamic pattern.</span></span> <span data-ttu-id="7e4f3-255">Может потребоваться tooadapt его tooyour ситуации:</span><span class="sxs-lookup"><span data-stu-id="7e4f3-255">You may need tooadapt it tooyour situation:</span></span>

1. <span data-ttu-id="7e4f3-256">Вместо того toopick схему секционирования для всех пользователей заранее, построение «service manager».</span><span class="sxs-lookup"><span data-stu-id="7e4f3-256">Instead of trying toopick a partitioning scheme for everyone up front, build a "manager service".</span></span>
2. <span data-ttu-id="7e4f3-257">Задание Hello службы диспетчера hello — toolook на сведения о заказчике, после их регистрации в службе.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-257">hello job of hello manager service is toolook at customer information when they sign up for your service.</span></span> <span data-ttu-id="7e4f3-258">В зависимости от того, что сведения о hello manager service создать экземпляр вашего _фактическое_ службы хранилища контакт _только для этого клиента_.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-258">Then depending on that information hello manager service create an instance of your _actual_ contact-storage service _just for that customer_.</span></span> <span data-ttu-id="7e4f3-259">Если они требуют особой конфигурации, изоляции и обновлении, можно также toospin экземпляр приложения для этого клиента.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-259">If they require particular configuration, isolation, or upgrades, you can also decide toospin up an Application instance for this customer.</span></span> 

<span data-ttu-id="7e4f3-260">Эта схема динамического создания имеет множество преимуществ.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-260">This dynamic creation pattern many benefits:</span></span>

  - <span data-ttu-id="7e4f3-261">Не пытаетесь tooguess hello правильный раздел счетчик для всех пользователей заранее или создания единой службы, бесконечно масштабируемые по себе.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-261">You're not trying tooguess hello correct partition count for all users up front or build a single service that is infinitely scalable all on its own.</span></span> 
  - <span data-ttu-id="7e4f3-262">Разные пользователи нет hello toohave же секции count, count реплики, ограничения размещения, метрик, по умолчанию загружает, имена служб, параметры dns или любой из hello другие свойства, заданные в службе hello или на уровне приложения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-262">Different users don't have toohave hello same partition count, replica count, placement constraints, metrics, default loads, service names, dns settings, or any of hello other properties specified at hello service or application level.</span></span> 
  - <span data-ttu-id="7e4f3-263">Это обеспечивает дополнительную сегментацию данных.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-263">You gain additional data segmentation.</span></span> <span data-ttu-id="7e4f3-264">Каждый клиент имеет собственную копию службы hello</span><span class="sxs-lookup"><span data-stu-id="7e4f3-264">Each customer has their own copy of hello service</span></span>
    - <span data-ttu-id="7e4f3-265">Каждую службу клиента можно настроить по-разному и предоставить ей больше или меньше ресурсов, например, выделив большее или меньшее число секций или реплик с учетом прогнозируемого масштаба.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-265">Each customer service can be configured differently and granted more or fewer resources, with more or fewer partitions or replicas as necessary based on their expected scale.</span></span>
      - <span data-ttu-id="7e4f3-266">Например, клиента hello оплаты hello «Gold» уровень — они могут получить несколько реплик или больше число секций и потенциально ресурсов выделенной службы tootheir через метрик и приложения.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-266">For example, say hello customer paid for hello "Gold" tier - they could get more replicas or greater partition count, and potentially resources dedicated tootheir services via metrics and application capacities.</span></span>
      - <span data-ttu-id="7e4f3-267">Или, например они предоставляемых количеству hello контакты, которые они нужны сведения «Малый» - они бы получить только несколько секций или даже может быть помещена в пул общих служб с другими клиентами.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-267">Or say they provided information indicating hello number of contacts they needed was "Small" - they would get only a few partitions, or could even be put into a shared service pool with other customers.</span></span>
  - <span data-ttu-id="7e4f3-268">Вы не используете несколько экземпляров службы или реплики во время ожидания для клиентов tooshow вверх</span><span class="sxs-lookup"><span data-stu-id="7e4f3-268">You're not running a bunch of service instances or replicas while you're waiting for customers tooshow up</span></span>
  - <span data-ttu-id="7e4f3-269">Если клиент покидает, последующего удаления свои данные из службы сложнее, чем настройка диспетчера hello удаление этой службы или приложения, он создан.</span><span class="sxs-lookup"><span data-stu-id="7e4f3-269">If a customer ever leaves, then removing their information from your service is as simple as having hello manager delete that service or application that it created.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7e4f3-270">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7e4f3-270">Next steps</span></span>
<span data-ttu-id="7e4f3-271">Дополнительные сведения о концепции Service Fabric см. следующие статьи hello:</span><span class="sxs-lookup"><span data-stu-id="7e4f3-271">For more information on Service Fabric concepts, see hello following articles:</span></span>

* [<span data-ttu-id="7e4f3-272">Доступность служб структуры служб</span><span class="sxs-lookup"><span data-stu-id="7e4f3-272">Availability of Service Fabric services</span></span>](service-fabric-availability-services.md)
* [<span data-ttu-id="7e4f3-273">Разделение служб Service Fabric</span><span class="sxs-lookup"><span data-stu-id="7e4f3-273">Partitioning Service Fabric services</span></span>](service-fabric-concepts-partitioning.md)
