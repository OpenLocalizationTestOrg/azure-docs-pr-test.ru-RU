---
title: "Соединитель LDAP aaaGeneric | Документы Microsoft"
description: "В этой статье описывается как универсальный соединитель LDAP tooconfigure Microsoft."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 984beeb0-4d91-4908-ad81-c19797c4891b
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: 25031b4da196bd073902b04b0705762bfa0118b9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="generic-ldap-connector-technical-reference"></a>Технический справочник по универсальному соединителю LDAP
В этой статье описывается hello универсальный соединитель LDAP. статья Hello относится toohello следующие продукты:

* Microsoft Identity Manager 2016 (MIM2016);
* Forefront Identity Manager 2010 R2 (FIM2010R2).
  * Необходимо установить исправление 4.1.3671.0 или более позднюю версию ( [KB3092178](https://support.microsoft.com/kb/3092178)).

Для MIM2016 и FIM2010R2, hello соединителя доступен для загрузки из hello [центра загрузки Майкрософт](http://go.microsoft.com/fwlink/?LinkId=717495).

Когда речь идет tooIETF RFC, в этом документе формате hello (RFC [номер RFC] / [section в документе RFC]), например (RFC 4512 или 4,3).
Дополнительные сведения можно найти в http://tools.ietf.org/html/rfc4500 (потребуется tooreplace 4500 с правильный номер RFC hello).

## <a name="overview-of-hello-generic-ldap-connector"></a>Общие сведения о hello универсальный соединитель LDAP
Универсальный соединитель LDAP Hello позволяет вам toointegrate hello служба синхронизации с сервером LDAP v3.

Определенные операции и элементы схемы, например те, требуется tooperform разностный импорт, не указаны в документах RFC IETF hello. Для таких операций поддерживаются только явно указанные каталоги LDAP.

С точки зрения высокого уровня hello текущий выпуск соединителя hello поддерживаются hello следующие атрибуты:

| Функция | Поддержка |
| --- | --- |
| Подключенный источник данных |Соединитель Hello поддерживается всеми серверами LDAP v3 (совместимый с RFC 4510). Он протестирован hello следующее: <li>Службы облегченного доступа к каталогам Microsoft Active Directory (AD LDS).</li><li>Глобальный каталог Microsoft Active Directory (AD GC).</li><li>389 Directory Server</li><li>Apache Directory Server.</li><li>IBM Tivoli DS.</li><li>Isode Directory.</li><li>NetIQ eDirectory.</li><li>Novell eDirectory.</li><li>Open DJ.</li><li>Open DS.</li><li>Open LDAP (openldap.org).</li><li>Oracle (предыдущее название — Sun) Directory Server Enterprise Edition.</li><li>RadiantOne Virtual Directory Server (VDS).</li><li>Sun One Directory Server.</li>**Важные каталоги, которые не поддерживаются:** <li>Доменных служб Microsoft Active Directory (AD DS) [использовать встроенный соединитель Active Directory hello вместо]</li><li>Oracle Internet Directory (OID).</li> |
| Сценарии |<li>Управление жизненным циклом объекта</li><li>Управление группами</li><li>Управление паролями</li> |
| Операции |для всех каталогов LDAP поддерживаются Hello следующие операции: <li>полный импорт;</li><li>экспорт.</li>Привет, следующие операции поддерживаются только в указанных каталогах:<li>Импорт изменений</li><li>Установка пароля, изменение пароля.</li> |
| Схема |<li>Обнаружена схемы из схемы LDAP hello (RFC3673 и RFC4512 или 4.2)</li><li>Поддерживаются структурные классы, дополнительные классы и класс объектов extensibleObject (RFC4512/4.3).</li> |

### <a name="delta-import-and-password-management-support"></a>Поддержка импорта изменений и управления паролями
Поддерживаемые каталоги для импорта изменений и управления паролями:

* Службы облегченного доступа к каталогам Microsoft Active Directory (AD LDS).
  * Поддерживаются все операции импорта изменений.
  * Поддерживается установка пароля.
* Глобальный каталог Microsoft Active Directory (AD GC).
  * Поддерживаются все операции импорта изменений.
  * Поддерживается установка пароля.
* 389 Directory Server
  * Поддерживаются все операции импорта изменений.
  * Поддерживаются установка и изменение пароля.
* Apache Directory Server.
  * Импорт изменений не поддерживается, так как в этом каталоге нет постоянного журнала изменений.
  * Поддерживается установка пароля.
* IBM Tivoli DS.
  * Поддерживаются все операции импорта изменений.
  * Поддерживаются установка и изменение пароля.
* Isode Directory.
  * Поддерживаются все операции импорта изменений.
  * Поддерживаются установка и изменение пароля.
* Novell eDirectory и NetIQ eDirectory.
  * В контексте импорта изменений поддерживаются операции добавления, обновления и переименования.
  * В контексте импорта изменений операция удаления не поддерживается.
  * Поддерживаются установка и изменение пароля.
* Open DJ.
  * Поддерживаются все операции импорта изменений.
  * Поддерживаются установка и изменение пароля.
* Open DS.
  * Поддерживаются все операции импорта изменений.
  * Поддерживаются установка и изменение пароля.
* Open LDAP (openldap.org).
  * Поддерживаются все операции импорта изменений.
  * Поддерживается установка пароля.
  * Изменение пароля не поддерживается.
* Oracle (предыдущее название — Sun) Directory Server Enterprise Edition.
  * Поддерживаются все операции импорта изменений.
  * Поддерживаются установка и изменение пароля.
* RadiantOne Virtual Directory Server (VDS).
  * Требуется версия 7.1.1 или более новая.
  * Поддерживаются все операции импорта изменений.
  * Поддерживаются установка и изменение пароля.
* Sun One Directory Server.
  * Поддерживаются все операции импорта изменений.
  * Поддерживаются установка и изменение пароля.

### <a name="prerequisites"></a>Предварительные требования
Прежде чем использовать hello соединитель, убедитесь, что у вас есть следующие hello hello синхронизации сервера:

* Microsoft .NET Framework, начиная с версии 4.5.2.

### <a name="detecting-hello-ldap-server"></a>Обнаружение сервера LDAP hello
Hello соединителя полагается на различные методы toodetect и определить сервер LDAP hello. Соединитель использует Hello hello корневой DSE, имя и версия поставщика, и он оценивает hello toofind уникальные объекты и атрибуты схемы известные tooexist на некоторых серверах LDAP. Эти данные, если найден, используется toopre-заполнения hello параметров настройки, приветствия соединителя.

### <a name="connected-data-source-permissions"></a>Права на доступ к подключенному источнику данных
tooperform операции импорта и экспорта объектов hello в подключенном каталоге hello, учетной записи соединителя hello необходимо иметь достаточные разрешения. Соединитель Hello должен записи может tooexport toobe разрешений и чтения может tooimport toobe разрешения. В возможности управления hello hello целевой каталог самого выполняется настройка разрешений.

### <a name="ports-and-protocols"></a>Порты и протоколы
Соединитель Hello использует hello номер порта, указанный в конфигурации hello, который по умолчанию — 389 для LDAP и 636 для LDAPS.

Для LDAPS необходимо использовать протокол SSL 3.0 или TLS. Протокол SSL 2.0 не поддерживается и не может быть активирован.

### <a name="required-controls-and-features"></a>Необходимые элементы управления и компоненты
Hello следующих элементов управления и компонентов LDAP должен быть доступен на сервере LDAP hello для hello соединитель toowork должным образом:  
`1.3.6.1.4.1.4203.1.5.3` Логические фильтры

Фильтр True или False Hello часто не сообщается, поддерживаемую каталогов LDAP и может отображаться на hello **страница глобального** под **обязательных компонентов не найден**. Это используется toocreate **или** фильтры в запросах LDAP, например, при импорте нескольких типов объектов. Если вы можете импортировать несколько типов объектов, ваш сервер LDAP поддерживает эту функцию.

Если использовать каталог, где — это уникальный идентификатор hello привязки hello ниже также должен быть доступен (Дополнительные сведения см. в разделе hello [Настройка привязки](#configure-anchors) раздел):  
Все операционные атрибуты (`1.3.6.1.4.1.4203.1.5.1`).

Если каталог hello имеет больше объектов, чем может поместиться в одном каталоге toohello вызова, то рекомендуется toouse разбиения на страницы. Для toowork разбиение по страницам потребуется один hello следующие параметры:

**Вариант 1.**  
`1.2.840.113556.1.4.319` pagedResultsControl.

**Вариант 2.**  
VLVControl (`2.16.840.1.113730.3.4.9`).  
`1.2.840.113556.1.4.473` SortControl.

Если оба параметра включены в конфигурацию соединителя hello, используется pagedResultsControl.

`1.2.840.113556.1.4.417` ShowDeletedControl.

ShowDeletedControl используется только с hello USNChanged разностный Импорт метод toobe может toosee удалены объектов.

Соединитель Hello предпринимает toodetect параметры hello присутствует на сервере hello. Если не удается обнаружить параметры hello, предупреждение в свойства соединителя hello отсутствует на странице глобального hello. Не все серверы LDAP всех элементов управления и компонентов они поддерживают и даже если это предупреждение будет присутствовать, hello соединитель может работать без проблем.

### <a name="delta-import"></a>Импорт изменений
Импорт изменений доступен только при наличии поддерживаемых каталогов. в настоящее время используются Hello следующие методы:

* Использование журнала доступа LDAP. См. [http://www.openldap.org/doc/admin24/overlays.html#Access Logging](http://www.openldap.org/doc/admin24/overlays.html#Access Logging).
* Использование журнала изменений LDAP. См. [http://tools.ietf.org/html/draft-good-ldap-changelog-04](http://tools.ietf.org/html/draft-good-ldap-changelog-04).
* Используется метка времени. Для eDirectory Novell и NetIQ hello соединитель использует последние tooget, даты и времени создания и обновления объектов. Novell и NetIQ eDirectory не предоставляет эквивалент означает tooretrieve удалить объекты. Этот параметр можно также в том случае, если никакой другой метод импорта дельта активен на сервере LDAP hello. Этот параметр не может tooimport удалить объекты.
* Используется атрибут USNChanged. См. [https://msdn.microsoft.com/library/ms677627.aspx](https://msdn.microsoft.com/library/ms677627.aspx).

### <a name="not-supported"></a>Не поддерживается
следующие атрибуты LDAP Hello не поддерживаются:

* Ссылки LDAP между серверами (RFC 4511/4.1.10).

## <a name="create-a-new-connector"></a>Создание нового соединителя
Универсальный соединитель LDAP tooCreate в **служба синхронизации** выберите **агент управления** и **создать**. Выберите hello **универсального LDAP (Майкрософт)** соединителя.

![Создание соединителя](./media/active-directory-aadconnectsync-connector-genericldap/createconnector.png)

### <a name="connectivity"></a>Соединение
На странице приветствия подключения необходимо указать сведения узла, порт и привязка hello. В зависимости от того, который привязки выбранного, Дополнительные сведения могут предоставляться в следующих разделах hello.

![Соединение](./media/active-directory-aadconnectsync-connector-genericldap/connectivity.png)

* время ожидания соединения приветствия используется только для hello первого подключения toohello сервера при обнаружении hello схемы.
* Если выбрана анонимная привязка, указывать сертификат или имя пользователя и пароль не нужно.
* Для других типов привязки потребуется указать имя пользователя и пароль либо выбрать сертификат.
* Если вы используете Kerberos tooauthenticate, задайте также hello сферы или домена пользователя hello.

Hello **атрибут псевдонимы** текстовое поле используется для атрибутов, определенных в схеме hello синтаксису RFC4522. Эти атрибуты не могут быть обнаружены во время определения схемы и hello соединитель должен помочь tooidentify этих атрибутов. Например приветствия следующие должны вводиться в hello атрибут псевдонимы поле toocorrectly определить атрибут userCertificate hello как двоичное значение атрибута:

`userCertificate;binary`

Hello ниже приведен пример для как эта конфигурация может выглядеть следующим образом:

![Соединение](./media/active-directory-aadconnectsync-connector-genericldap/connectivityattributes.png)

Выберите hello **включить операционные атрибуты в схему** tooalso флажок Включить атрибуты, созданные сервером hello. К ним относятся атрибуты, такие как при hello объекта была создана и время последнего обновления.

Выберите **включить расширенное атрибуты в схему** Если расширяемые объекты (RFC4512 или 4,3) используются, и дает toobe каждый атрибут, используется для всех объектов. При выборе этого параметра делает схемы hello очень большой, если подключенном каталоге hello не использует этот компонент hello рекомендуется tookeep hello параметр не выбран.

### <a name="global-parameters"></a>Глобальные параметры
На странице приветствия глобальные параметры Настройка журнала hello DN toohello разностных изменений и дополнительные возможности LDAP. Страница приветствия заполняется заранее hello сведения, предоставленные сервером LDAP hello.

![Соединение](./media/active-directory-aadconnectsync-connector-genericldap/globalparameters.png)

Верхний раздел Hello отображает сведения, предоставляемые hello самого сервера, таких как имя сервера hello hello. Hello соединитель также проверяет, присутствуют в hello DSE корневой hello обязательные элементы управления. Если эти элементы управления не указаны, появляется предупреждение. Некоторые каталоги LDAP не указывайте все возможности hello DSE корневого и возможно, что hello соединитель работает без проблем, даже при наличии предупреждения.

Hello **Поддерживаемые элементы управления** флажки управляют поведением hello для определенных операций:

* Если установлен флажок иерархического удаления, иерархия будет удалена с помощью одного вызова LDAP. С дерева удалить данный параметр не выбран соединитель hello выполняет рекурсивное удаление при необходимости.
* С выбранной результатов по страницам hello соединитель выполняет выгружаемого импорта с hello размер, указанный на hello запуска действия.
* Hello VLVControl и SortControl данные альтернативных toohello pagedResultsControl tooread из каталога LDAP hello.
* Если не выбраны все три параметра (pagedResultsControl, VLVControl и SortControl) затем hello соединитель импортирует все объекты в одной операции может завершиться ошибкой, если это большого каталога.
* ShowDeletedControl используется только в том случае, если hello разностный Импорт метод USNChanged.

журнал изменений Hello DN — hello контекст именования, используемый журнал изменений дельта hello, например **cn = журнал изменений**. Это значение должно быть указано toobe может toodo разностный Импорт.

Hello ниже приведен список по умолчанию журнал изменений DNs:

| Каталог | Разностный журнал изменений |
| --- | --- |
| Microsoft AD LDS и AD GC |Определяется автоматически. Используется атрибут USNChanged. |
| Apache Directory Server. |Недоступен. |
| 389 Directory Server |Журнал изменений. По умолчанию значение toouse: **cn = журнал изменений** |
| IBM Tivoli DS. |Журнал изменений. По умолчанию значение toouse: **cn = журнал изменений** |
| Isode Directory. |Журнал изменений. По умолчанию значение toouse: **cn = журнал изменений** |
| Novell/NetIQ eDirectory |Недоступен. Используется метка времени. Hello соединитель использует последние обновленные даты и времени tooget добавлены и обновленные записи. |
| Open DJ/DS |Журнал изменений.  По умолчанию значение toouse: **cn = журнал изменений** |
| Open LDAP |Журнал доступа. По умолчанию значение toouse: **cn = accesslog** |
| Oracle DSEE |Журнал изменений. По умолчанию значение toouse: **cn = журнал изменений** |
| RadiantOne VDS |Виртуальный каталог. Зависит от tooVDS directory подключен hello. |
| Sun One Directory Server. |Журнал изменений. По умолчанию значение toouse: **cn = журнал изменений** |

атрибут Hello пароль — имя атрибута hello hello соединителя hello следует использовать пароль hello tooset смены пароля и пароли.
Это значение по умолчанию слишком содержит**userPassword** , но может быть изменен при необходимости для определенного системного LDAP.

В списке дополнительных секций hello это возможно tooadd Дополнительные пространства имен, автоматически не обнаружено. Например, этот параметр можно использовать, если несколько серверов составляют логическом кластере, все должно быть импортирован на hello то же время. Так же, как Active Directory поддерживают несколько доменов в одном лесу, но все домены совместно использовать одну схему, приветствия же можно моделировать, введя дополнительные пространства имен hello в этом поле. Каждое пространство имен можно импортировать из разных серверах и дальнейшей настройки на странице приветствия Настройка разделов и иерархий. Используйте сочетание клавиш Ctrl + Ввод tooget новую строку.

### <a name="configure-provisioning-hierarchy"></a>Настройка иерархии подготовки
Данная страница является используется toomap hello различающееся имя компонента, например OU toohello тип объекта, который следует подготовить, например organizationalUnit.

![Иерархия подготовки](./media/active-directory-aadconnectsync-connector-genericldap/provisioninghierarchy.png)

При настройке подготовки иерархий, можно настроить соединитель tooautomatically hello создания структуры при необходимости. Если контроллер домена пространство имен = contoso, dc = com и объект нового объекта cn = Joe, ou = Seattle, c = US, контроллера домена = contoso, контроллера домена = предоставляется модели com, а затем hello соединителя могут создать объект типа страны для США и organizationalUnit для Сиэтла, если они уже присутствует в каталоге hello.

### <a name="configure-partitions-and-hierarchies"></a>Настройка разделов и иерархий
На странице приветствия разделов и иерархий, выберите все пространства имен с объектами планирование tooimport и экспорта.

![Разделы](./media/active-directory-aadconnectsync-connector-genericldap/partitions.png)

Для каждого пространства имен можно также tooconfigure возможные параметры подключения, переопределит hello значения, указанные на экране приветствия подключения. Если пустое значение по умолчанию tootheir оставить эти значения, используется hello сведения с экрана приветствия подключения.

Это также возможно tooselect какие контейнеры и подразделения hello соединитель должен Импорт и экспорт для.

При выполнении поиска этого для всех контейнеров в секции hello. В случаях, где имеется большое число контейнеров, это приводит снижение tooperformance.

>[!NOTE]
Начиная с hello марта 2017 г. обновление toohello универсального LDAP соединитель поиска могут быть ограничены в контейнерах hello выбранных область tooonly. Это можно сделать, выбрав флажок hello «Поиск только в выбранных контейнерах», как показано в приведенном ниже рисунке hello.

![Поиск только в выбранных контейнерах](./media/active-directory-aadconnectsync-connector-genericldap/partitions-only-selected-containers.png)

### <a name="configure-anchors"></a>Настройка привязок
На этой странице все значения уже настроены, и изменить их невозможно. Если была обнаружена поставщика сервера hello hello привязки могут быть заполнены с атрибутом неизменяемый для пример hello GUID объекта. Если она не обнаружено или известен toonot неизменяемый атрибутом, а затем hello соединитель использует различающееся имя (различающееся имя) как привязка hello.

![Привязки](./media/active-directory-aadconnectsync-connector-genericldap/anchors.png)


Hello ниже приведен список серверов LDAP и hello привязки используется:

| Каталог | Атрибут привязки |
| --- | --- |
| Microsoft AD LDS и AD GC |objectGUID |
| 389 Directory Server |Различающееся имя |
| Apache Directory |Различающееся имя |
| IBM Tivoli DS. |Различающееся имя |
| Isode Directory. |Различающееся имя |
| Novell/NetIQ eDirectory |GUID |
| Open DJ/DS |Различающееся имя |
| Open LDAP |Различающееся имя |
| Oracle ODSEE |Различающееся имя |
| RadiantOne VDS |Различающееся имя |
| Sun One Directory Server. |Различающееся имя |

## <a name="other-notes"></a>Другие примечания
В этом разделе сведения аспекты, которые являются конкретных toothis соединителя или по другим причинам важно tooknow.

### <a name="delta-import"></a>Импорт изменений
водяной знак разностного Hello в открытых LDAP — Дата и время в формате UTC. По этой причине часами hello между службой синхронизации FIM и Привет открыть LDAP должны быть синхронизированы. В противном случае некоторые записи в журнал изменений дельта hello могут быть опущены.

Для Novell eDirectory разностный Импорт hello не обнаруживает все операции удаления объекта. По этой причине необходим toorun полной периодического импорта объектов toofind удалены.

Для каталогов с помощью разностного Изменение журнала, который основан на даты и времени, это настоятельно рекомендуется toorun полный импорт периодических время. Этот процесс позволяет toofind механизм синхронизации hello и dissimilarities между сервером LDAP hello и возможности в пространство соединителя hello.

## <a name="troubleshooting"></a>Устранение неполадок
* Сведения о как ведение журнала tooenable tootroubleshoot hello соединителя разделе hello [как трассировка ETW для соединителей tooEnable](http://go.microsoft.com/fwlink/?LinkId=335731).
