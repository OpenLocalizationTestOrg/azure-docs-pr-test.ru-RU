---
title: "Синхронизация Azure AD Connect: планировщик | Документация Майкрософт"
description: "В этом разделе описывается функция встроенного планировщика hello в Azure AD Connect sync."
services: active-directory
documentationcenter: 
author: AndKjell
manager: femila
editor: 
ms.assetid: 6b1a598f-89c0-4244-9b20-f4aaad5233cf
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 07/12/2017
ms.author: billmath
ms.openlocfilehash: c587039cc68d305862a07beff364894b6f74cd2f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-connect-sync-scheduler"></a><span data-ttu-id="2a12e-103">Синхронизация Azure AD Connect: планировщик</span><span class="sxs-lookup"><span data-stu-id="2a12e-103">Azure AD Connect sync: Scheduler</span></span>
<span data-ttu-id="2a12e-104">В этом разделе описывается hello Планировщик синхронизации Azure AD Connect (так)</span><span class="sxs-lookup"><span data-stu-id="2a12e-104">This topic describes hello built-in scheduler in Azure AD Connect sync (a.k.a.</span></span> <span data-ttu-id="2a12e-105">(модуль синхронизации).</span><span class="sxs-lookup"><span data-stu-id="2a12e-105">sync engine).</span></span>

<span data-ttu-id="2a12e-106">Эта функция появилась в сборке 1.1.105.0 (выпущенной в феврале 2016 года).</span><span class="sxs-lookup"><span data-stu-id="2a12e-106">This feature was introduced with build 1.1.105.0 (released February 2016).</span></span>

## <a name="overview"></a><span data-ttu-id="2a12e-107">Обзор</span><span class="sxs-lookup"><span data-stu-id="2a12e-107">Overview</span></span>
<span data-ttu-id="2a12e-108">Служба синхронизации Azure AD Connect синхронизирует изменения в вашем локальном каталоге, используя планировщик.</span><span class="sxs-lookup"><span data-stu-id="2a12e-108">Azure AD Connect sync synchronize changes occurring in your on-premises directory using a scheduler.</span></span> <span data-ttu-id="2a12e-109">Планировщики выполняют два процесса — один для синхронизации паролей, другой для синхронизации объектов или атрибутов и задач технического обслуживания.</span><span class="sxs-lookup"><span data-stu-id="2a12e-109">There are two scheduler processes, one for password sync and another for object/attribute sync and maintenance tasks.</span></span> <span data-ttu-id="2a12e-110">В этом разделе рассматриваются последний hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-110">This topic covers hello latter.</span></span>

<span data-ttu-id="2a12e-111">В более ранних выпусках hello планировщика для объектов и атрибутов был toohello внешний модуль синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2a12e-111">In earlier releases, hello scheduler for objects and attributes was external toohello sync engine.</span></span> <span data-ttu-id="2a12e-112">Он используется планировщик заданий Windows или отдельный процесс синхронизации tootrigger службы Windows hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-112">It used Windows task scheduler or a separate Windows service tootrigger hello synchronization process.</span></span> <span data-ttu-id="2a12e-113">Планировщик Hello — с hello 1.1 подсистема синхронизации toohello Встроенные выпуски и позволяют выполнять некоторые настройки.</span><span class="sxs-lookup"><span data-stu-id="2a12e-113">hello scheduler is with hello 1.1 releases built-in toohello sync engine and do allow some customization.</span></span> <span data-ttu-id="2a12e-114">Hello новой частоты синхронизации по умолчанию — 30 минут.</span><span class="sxs-lookup"><span data-stu-id="2a12e-114">hello new default synchronization frequency is 30 minutes.</span></span>

<span data-ttu-id="2a12e-115">Планировщик Hello отвечает за две задачи:</span><span class="sxs-lookup"><span data-stu-id="2a12e-115">hello scheduler is responsible for two tasks:</span></span>

* <span data-ttu-id="2a12e-116">**Цикл синхронизации**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-116">**Synchronization cycle**.</span></span> <span data-ttu-id="2a12e-117">Hello tooimport процесс синхронизации изменения и экспорта.</span><span class="sxs-lookup"><span data-stu-id="2a12e-117">hello process tooimport, sync, and export changes.</span></span>
* <span data-ttu-id="2a12e-118">**Задачи обслуживания**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-118">**Maintenance tasks**.</span></span> <span data-ttu-id="2a12e-119">Обновление ключей и сертификатов для сброса паролей и службы регистрации устройств (DRS).</span><span class="sxs-lookup"><span data-stu-id="2a12e-119">Renew keys and certificates for Password reset and Device Registration Service (DRS).</span></span> <span data-ttu-id="2a12e-120">Удалять старые записи в журнале операций hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-120">Purge old entries in hello operations log.</span></span>

<span data-ttu-id="2a12e-121">Планировщик Hello сам всегда работает, но настроенных tooonly выполнить одно или ни один из этих задач может быть.</span><span class="sxs-lookup"><span data-stu-id="2a12e-121">hello scheduler itself is always running, but it can be configured tooonly run one or none of these tasks.</span></span> <span data-ttu-id="2a12e-122">Например если вам требуется toohave процесс цикла синхронизации, можно отключить этой задачи в планировщике hello, но по-прежнему выполнения hello задачи обслуживания.</span><span class="sxs-lookup"><span data-stu-id="2a12e-122">For example, if you need toohave your own synchronization cycle process, you can disable this task in hello scheduler but still run hello maintenance task.</span></span>

## <a name="scheduler-configuration"></a><span data-ttu-id="2a12e-123">Конфигурация планировщика</span><span class="sxs-lookup"><span data-stu-id="2a12e-123">Scheduler configuration</span></span>
<span data-ttu-id="2a12e-124">toosee текущие настройки конфигурации перейдите tooPowerShell и запустите `Get-ADSyncScheduler`.</span><span class="sxs-lookup"><span data-stu-id="2a12e-124">toosee your current configuration settings, go tooPowerShell and run `Get-ADSyncScheduler`.</span></span> <span data-ttu-id="2a12e-125">Отобразятся данные примерно следующего вида:</span><span class="sxs-lookup"><span data-stu-id="2a12e-125">It shows you something like this picture:</span></span>

![GetSyncScheduler](./media/active-directory-aadconnectsync-feature-scheduler/getsynccyclesettings2016.png)

<span data-ttu-id="2a12e-127">Если вы видите **hello синхронизации команды или командлета недоступен** при выполнении этого командлета, затем hello PowerShell модуль не был загружен.</span><span class="sxs-lookup"><span data-stu-id="2a12e-127">If you see **hello sync command or cmdlet is not available** when you run this cmdlet, then hello PowerShell module is not loaded.</span></span> <span data-ttu-id="2a12e-128">Эта проблема может произойти, если запуск Azure AD Connect на контроллере домена или на сервере с более высоких уровнях PowerShell ограниченного использования программ, чем параметры по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-128">This problem could happen if you run Azure AD Connect on a domain controller or on a server with higher PowerShell restriction levels than hello default settings.</span></span> <span data-ttu-id="2a12e-129">Если вы видите эту ошибку, запустите `Import-Module ADSync` toomake hello командлет доступно.</span><span class="sxs-lookup"><span data-stu-id="2a12e-129">If you see this error, then run `Import-Module ADSync` toomake hello cmdlet available.</span></span>

* <span data-ttu-id="2a12e-130">**AllowedSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-130">**AllowedSyncCycleInterval**.</span></span> <span data-ttu-id="2a12e-131">Hello короткий интервал времени между циклами синхронизации, предоставляемые Azure AD.</span><span class="sxs-lookup"><span data-stu-id="2a12e-131">hello shortest time interval between synchronization cycles allowed by Azure AD.</span></span> <span data-ttu-id="2a12e-132">Более частная синхронизация не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="2a12e-132">You cannot synchronize more frequently than this setting and still be supported.</span></span>
* <span data-ttu-id="2a12e-133">**CurrentlyEffectiveSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-133">**CurrentlyEffectiveSyncCycleInterval**.</span></span> <span data-ttu-id="2a12e-134">Hello расписание в данный момент в силу.</span><span class="sxs-lookup"><span data-stu-id="2a12e-134">hello schedule currently in effect.</span></span> <span data-ttu-id="2a12e-135">Он имеет hello совпадает со значением в CustomizedSyncInterval (если задать) Если это не чаще, чем AllowedSyncInterval.</span><span class="sxs-lookup"><span data-stu-id="2a12e-135">It has hello same value as CustomizedSyncInterval (if set) if it is not more frequent than AllowedSyncInterval.</span></span> <span data-ttu-id="2a12e-136">При использовании сборки до версии 1.1.281 изменения параметра CustomizedSyncCycleInterval вступают в силу после следующего цикла синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2a12e-136">If you use a build before 1.1.281 and you change CustomizedSyncCycleInterval, this change takes effect after next synchronization cycle.</span></span> <span data-ttu-id="2a12e-137">При сборке 1.1.281 hello изменение вступает в силу немедленно.</span><span class="sxs-lookup"><span data-stu-id="2a12e-137">From build 1.1.281 hello change takes effect immediately.</span></span>
* <span data-ttu-id="2a12e-138">**CustomizedSyncCycleInterval**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-138">**CustomizedSyncCycleInterval**.</span></span> <span data-ttu-id="2a12e-139">Если вы хотите toorun планировщика hello любой частотой, чем по умолчанию hello 30 минут, затем этот параметр.</span><span class="sxs-lookup"><span data-stu-id="2a12e-139">If you want hello scheduler toorun at any other frequency than hello default 30 minutes, then you configure this setting.</span></span> <span data-ttu-id="2a12e-140">На приведенном выше рисунке hello, hello планировщика был задан toorun каждый час вместо него.</span><span class="sxs-lookup"><span data-stu-id="2a12e-140">In hello picture above, hello scheduler has been set toorun every hour instead.</span></span> <span data-ttu-id="2a12e-141">Если значение этого параметра tooa ниже, чем AllowedSyncInterval, используется последнее hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-141">If you set this setting tooa value lower than AllowedSyncInterval, then hello latter is used.</span></span>
* <span data-ttu-id="2a12e-142">**NextSyncCyclePolicyType**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-142">**NextSyncCyclePolicyType**.</span></span> <span data-ttu-id="2a12e-143">Изменение или исходное значение.</span><span class="sxs-lookup"><span data-stu-id="2a12e-143">Either Delta or Initial.</span></span> <span data-ttu-id="2a12e-144">Определяет, если следующий запуск hello следует только незначительные изменения процесса, либо если hello следующего запуска полной импорта и синхронизации. последний Hello также будет повторно обработать все новые или измененные правила.</span><span class="sxs-lookup"><span data-stu-id="2a12e-144">Defines if hello next run should only process delta changes, or if hello next run should do a full import and sync. hello latter would also reprocess any new or changed rules.</span></span>
* <span data-ttu-id="2a12e-145">**NextSyncCycleStartTimeInUTC**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-145">**NextSyncCycleStartTimeInUTC**.</span></span> <span data-ttu-id="2a12e-146">При очередном hello запускается диспетчер hello следующего цикла синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2a12e-146">Next time hello scheduler starts hello next sync cycle.</span></span>
* <span data-ttu-id="2a12e-147">**PurgeRunHistoryInterval**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-147">**PurgeRunHistoryInterval**.</span></span> <span data-ttu-id="2a12e-148">Здравствуйте, журналы должны храниться время операции.</span><span class="sxs-lookup"><span data-stu-id="2a12e-148">hello time operation logs should be kept.</span></span> <span data-ttu-id="2a12e-149">Эти журналы могут быть просмотрены hello диспетчер службы синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2a12e-149">These logs can be reviewed in hello synchronization service manager.</span></span> <span data-ttu-id="2a12e-150">Здравствуйте, по умолчанию является tookeep эти журналы в течение 7 дней.</span><span class="sxs-lookup"><span data-stu-id="2a12e-150">hello default is tookeep these logs for 7 days.</span></span>
* <span data-ttu-id="2a12e-151">**SyncCycleEnabled**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-151">**SyncCycleEnabled**.</span></span> <span data-ttu-id="2a12e-152">Указывает, планировщика hello работает ли hello импорта, синхронизации и процессов экспорта как часть своей работы.</span><span class="sxs-lookup"><span data-stu-id="2a12e-152">Indicates if hello scheduler is running hello import, sync, and export processes as part of its operation.</span></span>
* <span data-ttu-id="2a12e-153">**MaintenanceEnabled**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-153">**MaintenanceEnabled**.</span></span> <span data-ttu-id="2a12e-154">Показывает, включен ли процесс обслуживания hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-154">Shows if hello maintenance process is enabled.</span></span> <span data-ttu-id="2a12e-155">Обновляет hello сертификаты и ключи и очищает hello журнала операций.</span><span class="sxs-lookup"><span data-stu-id="2a12e-155">It updates hello certificates/keys and purges hello operations log.</span></span>
* <span data-ttu-id="2a12e-156">**StagingModeEnabled**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-156">**StagingModeEnabled**.</span></span> <span data-ttu-id="2a12e-157">Показано, включен ли [промежуточный режим](active-directory-aadconnectsync-operations.md#staging-mode) .</span><span class="sxs-lookup"><span data-stu-id="2a12e-157">Shows if [staging mode](active-directory-aadconnectsync-operations.md#staging-mode) is enabled.</span></span> <span data-ttu-id="2a12e-158">Если этот параметр включен, затем он отключает экспортов hello запуск, но по-прежнему запускать импорта и синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2a12e-158">If this setting is enabled, then it suppresses hello exports from running but still run import and synchronization.</span></span>
* <span data-ttu-id="2a12e-159">**SchedulerSuspended**.</span><span class="sxs-lookup"><span data-stu-id="2a12e-159">**SchedulerSuspended**.</span></span> <span data-ttu-id="2a12e-160">Задается соединение во время обновления tootemporarily блок hello планировщика запуск.</span><span class="sxs-lookup"><span data-stu-id="2a12e-160">Set by Connect during an upgrade tootemporarily block hello scheduler from running.</span></span>

<span data-ttu-id="2a12e-161">Некоторые из этих параметров можно изменить с помощью `Set-ADSyncScheduler`.</span><span class="sxs-lookup"><span data-stu-id="2a12e-161">You can change some of these settings with `Set-ADSyncScheduler`.</span></span> <span data-ttu-id="2a12e-162">можно изменить Hello следующие параметры:</span><span class="sxs-lookup"><span data-stu-id="2a12e-162">hello following parameters can be modified:</span></span>

* <span data-ttu-id="2a12e-163">CustomizedSyncCycleInterval</span><span class="sxs-lookup"><span data-stu-id="2a12e-163">CustomizedSyncCycleInterval</span></span>
* <span data-ttu-id="2a12e-164">NextSyncCyclePolicyType</span><span class="sxs-lookup"><span data-stu-id="2a12e-164">NextSyncCyclePolicyType</span></span>
* <span data-ttu-id="2a12e-165">PurgeRunHistoryInterval</span><span class="sxs-lookup"><span data-stu-id="2a12e-165">PurgeRunHistoryInterval</span></span>
* <span data-ttu-id="2a12e-166">SyncCycleEnabled</span><span class="sxs-lookup"><span data-stu-id="2a12e-166">SyncCycleEnabled</span></span>
* <span data-ttu-id="2a12e-167">MaintenanceEnabled</span><span class="sxs-lookup"><span data-stu-id="2a12e-167">MaintenanceEnabled</span></span>

<span data-ttu-id="2a12e-168">В предыдущих сборках Azure AD Connect параметр **isStagingModeEnabled** предоставлялся в командлете Set-ADSyncScheduler.</span><span class="sxs-lookup"><span data-stu-id="2a12e-168">In earlier builds of Azure AD Connect, **isStagingModeEnabled** was exposed in Set-ADSyncScheduler.</span></span> <span data-ttu-id="2a12e-169">Это **неподдерживаемый** tooset это свойство.</span><span class="sxs-lookup"><span data-stu-id="2a12e-169">It is **unsupported** tooset this property.</span></span> <span data-ttu-id="2a12e-170">Здравствуйте, свойство **SchedulerSuspended** может изменяться только для Connect.</span><span class="sxs-lookup"><span data-stu-id="2a12e-170">hello property **SchedulerSuspended** should only be modified by Connect.</span></span> <span data-ttu-id="2a12e-171">Это **неподдерживаемый** tooset с PowerShell непосредственно.</span><span class="sxs-lookup"><span data-stu-id="2a12e-171">It is **unsupported** tooset this with PowerShell directly.</span></span>

<span data-ttu-id="2a12e-172">Настройка планировщика Hello хранится в Azure AD.</span><span class="sxs-lookup"><span data-stu-id="2a12e-172">hello scheduler configuration is stored in Azure AD.</span></span> <span data-ttu-id="2a12e-173">Если у вас есть тестовый сервер, любые изменения на сервере-источнике hello также влияет на hello тестового сервера (за исключением IsStagingModeEnabled).</span><span class="sxs-lookup"><span data-stu-id="2a12e-173">If you have a staging server, any change on hello primary server also affects hello staging server (except IsStagingModeEnabled).</span></span>

### <a name="customizedsynccycleinterval"></a><span data-ttu-id="2a12e-174">CustomizedSyncCycleInterval</span><span class="sxs-lookup"><span data-stu-id="2a12e-174">CustomizedSyncCycleInterval</span></span>
<span data-ttu-id="2a12e-175">Синтаксис: `Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`</span><span class="sxs-lookup"><span data-stu-id="2a12e-175">Syntax: `Set-ADSyncScheduler -CustomizedSyncCycleInterval d.HH:mm:ss`</span></span>  
<span data-ttu-id="2a12e-176">d — дни, HH — часы, mm — минуты, ss — секунды.</span><span class="sxs-lookup"><span data-stu-id="2a12e-176">d - days, HH - hours, mm - minutes, ss - seconds</span></span>

<span data-ttu-id="2a12e-177">Пример: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`</span><span class="sxs-lookup"><span data-stu-id="2a12e-177">Example: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 03:00:00`</span></span>  
<span data-ttu-id="2a12e-178">Изменения hello планировщика toorun каждые 3 часа.</span><span class="sxs-lookup"><span data-stu-id="2a12e-178">Changes hello scheduler toorun every 3 hours.</span></span>

<span data-ttu-id="2a12e-179">Пример: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`</span><span class="sxs-lookup"><span data-stu-id="2a12e-179">Example: `Set-ADSyncScheduler -CustomizedSyncCycleInterval 1.0:0:0`</span></span>  
<span data-ttu-id="2a12e-180">Изменения toorun планировщика hello ежедневно.</span><span class="sxs-lookup"><span data-stu-id="2a12e-180">Changes change hello scheduler toorun daily.</span></span>

### <a name="disable-hello-scheduler"></a><span data-ttu-id="2a12e-181">Отключить hello планировщика</span><span class="sxs-lookup"><span data-stu-id="2a12e-181">Disable hello scheduler</span></span>  
<span data-ttu-id="2a12e-182">При необходимости изменения конфигурации toomake вы хотите toodisable hello планировщика.</span><span class="sxs-lookup"><span data-stu-id="2a12e-182">If you need toomake configuration changes, then you want toodisable hello scheduler.</span></span> <span data-ttu-id="2a12e-183">Например, если вы [настроить фильтрацию](active-directory-aadconnectsync-configure-filtering.md) или [внести изменения правил toosynchronization](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="2a12e-183">For example, when you [configure filtering](active-directory-aadconnectsync-configure-filtering.md) or [make changes toosynchronization rules](active-directory-aadconnectsync-change-the-configuration.md).</span></span>

<span data-ttu-id="2a12e-184">Планировщик hello toodisable, запустите `Set-ADSyncScheduler -SyncCycleEnabled $false`.</span><span class="sxs-lookup"><span data-stu-id="2a12e-184">toodisable hello scheduler, run `Set-ADSyncScheduler -SyncCycleEnabled $false`.</span></span>

![Отключить hello планировщика](./media/active-directory-aadconnectsync-change-the-configuration/schedulerdisable.png)

<span data-ttu-id="2a12e-186">После внесения изменений, не забудьте планировщика hello tooenable с `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span><span class="sxs-lookup"><span data-stu-id="2a12e-186">When you've made your changes, do not forget tooenable hello scheduler again with `Set-ADSyncScheduler -SyncCycleEnabled $true`.</span></span>

## <a name="start-hello-scheduler"></a><span data-ttu-id="2a12e-187">Запустить планировщик hello</span><span class="sxs-lookup"><span data-stu-id="2a12e-187">Start hello scheduler</span></span>
<span data-ttu-id="2a12e-188">Планировщик Hello — по умолчанию выполняются каждые 30 минут.</span><span class="sxs-lookup"><span data-stu-id="2a12e-188">hello scheduler is by default run every 30 minutes.</span></span> <span data-ttu-id="2a12e-189">В некоторых случаях может потребоваться toorun цикл синхронизации между hello запланированных циклов или toorun другого типа, необходимо установить.</span><span class="sxs-lookup"><span data-stu-id="2a12e-189">In some cases, you might want toorun a sync cycle in between hello scheduled cycles or you need toorun a different type.</span></span>

<span data-ttu-id="2a12e-190">**Цикл синхронизации изменений**</span><span class="sxs-lookup"><span data-stu-id="2a12e-190">**Delta sync cycle**</span></span>  
<span data-ttu-id="2a12e-191">Цикл синхронизации дельта включает hello следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="2a12e-191">A delta sync cycle includes hello following steps:</span></span>

* <span data-ttu-id="2a12e-192">Импорт изменений во всех соединителях</span><span class="sxs-lookup"><span data-stu-id="2a12e-192">Delta import on all Connectors</span></span>
* <span data-ttu-id="2a12e-193">Синхронизация изменений во всех соединителях</span><span class="sxs-lookup"><span data-stu-id="2a12e-193">Delta sync on all Connectors</span></span>
* <span data-ttu-id="2a12e-194">Экспорт во всех соединителях</span><span class="sxs-lookup"><span data-stu-id="2a12e-194">Export on all Connectors</span></span>

<span data-ttu-id="2a12e-195">Это может быть наличие срочных изменение, которое должна быть синхронизирована немедленно, поэтому необходимо toomanually выполнения цикла.</span><span class="sxs-lookup"><span data-stu-id="2a12e-195">It could be that you have an urgent change that must be synchronized immediately, which is why you need toomanually run a cycle.</span></span> <span data-ttu-id="2a12e-196">Если вам требуется toomanually выполнения цикла, затем от выполнения PowerShell `Start-ADSyncSyncCycle -PolicyType Delta`.</span><span class="sxs-lookup"><span data-stu-id="2a12e-196">If you need toomanually run a cycle, then from PowerShell run `Start-ADSyncSyncCycle -PolicyType Delta`.</span></span>

<span data-ttu-id="2a12e-197">**Цикл полной синхронизации**</span><span class="sxs-lookup"><span data-stu-id="2a12e-197">**Full sync cycle**</span></span>  
<span data-ttu-id="2a12e-198">Внесены следующие изменения конфигурации hello, необходимости toorun циклом полной синхронизации (так)</span><span class="sxs-lookup"><span data-stu-id="2a12e-198">If you have made one of hello following configuration changes, you need toorun a full sync cycle (a.k.a.</span></span> <span data-ttu-id="2a12e-199">Цикл полной (первоначальной) синхронизации необходимо выполнять, если в конфигурацию внесено одно из следующих изменений:</span><span class="sxs-lookup"><span data-stu-id="2a12e-199">Initial):</span></span>

* <span data-ttu-id="2a12e-200">Добавлены дополнительные объекты или атрибуты toobe, импортированных из исходного каталога</span><span class="sxs-lookup"><span data-stu-id="2a12e-200">Added more objects or attributes toobe imported from a source directory</span></span>
* <span data-ttu-id="2a12e-201">Внесенные изменения правила синхронизации toohello</span><span class="sxs-lookup"><span data-stu-id="2a12e-201">Made changes toohello Synchronization rules</span></span>
* <span data-ttu-id="2a12e-202">Изменение [фильтрации](active-directory-aadconnectsync-configure-filtering.md) , в результате которого изменяется число включаемых объектов.</span><span class="sxs-lookup"><span data-stu-id="2a12e-202">Changed [filtering](active-directory-aadconnectsync-configure-filtering.md) so a different number of objects should be included</span></span>

<span data-ttu-id="2a12e-203">Если были внесены одно из этих изменений, должны toorun цикла полной синхронизации, модуль синхронизации hello имеет пространств соединителей hello tooreconsolidate возможности hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-203">If you have made one of these changes, then you need toorun a full sync cycle so hello sync engine has hello opportunity tooreconsolidate hello connector spaces.</span></span> <span data-ttu-id="2a12e-204">Цикла полной синхронизации включает hello следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="2a12e-204">A full sync cycle includes hello following steps:</span></span>

* <span data-ttu-id="2a12e-205">Полный импорт во всех соединителях</span><span class="sxs-lookup"><span data-stu-id="2a12e-205">Full Import on all Connectors</span></span>
* <span data-ttu-id="2a12e-206">Полная синхронизация во всех соединителях</span><span class="sxs-lookup"><span data-stu-id="2a12e-206">Full Sync on all Connectors</span></span>
* <span data-ttu-id="2a12e-207">Экспорт во всех соединителях</span><span class="sxs-lookup"><span data-stu-id="2a12e-207">Export on all Connectors</span></span>

<span data-ttu-id="2a12e-208">Запустите tooinitiate циклом полной синхронизации `Start-ADSyncSyncCycle -PolicyType Initial` из командной строки PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2a12e-208">tooinitiate a full sync cycle, run `Start-ADSyncSyncCycle -PolicyType Initial` from a PowerShell prompt.</span></span> <span data-ttu-id="2a12e-209">Эта команда запускает цикл полной синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2a12e-209">This command starts a full sync cycle.</span></span>

## <a name="stop-hello-scheduler"></a><span data-ttu-id="2a12e-210">Остановить планировщик hello</span><span class="sxs-lookup"><span data-stu-id="2a12e-210">Stop hello scheduler</span></span>
<span data-ttu-id="2a12e-211">Если планировщик hello в настоящее время выполняется цикл синхронизации, то может потребоваться toostop его.</span><span class="sxs-lookup"><span data-stu-id="2a12e-211">If hello scheduler is currently running a synchronization cycle, you might need toostop it.</span></span> <span data-ttu-id="2a12e-212">Например, если запустить мастер установки hello и этой ошибки:</span><span class="sxs-lookup"><span data-stu-id="2a12e-212">For example if you start hello installation wizard and you get this error:</span></span>

![SyncCycleRunningError](./media/active-directory-aadconnectsync-feature-scheduler/synccyclerunningerror.png)

<span data-ttu-id="2a12e-214">Пока выполняется цикл синхронизации, вносить изменения в конфигурацию нельзя.</span><span class="sxs-lookup"><span data-stu-id="2a12e-214">When a sync cycle is running, you cannot make configuration changes.</span></span> <span data-ttu-id="2a12e-215">Может дождаться завершения процесса hello hello планировщика, но также можно остановить его, и немедленно внести изменения.</span><span class="sxs-lookup"><span data-stu-id="2a12e-215">You could wait until hello scheduler has finished hello process, but you can also stop it so you can make your changes immediately.</span></span> <span data-ttu-id="2a12e-216">Остановка текущего цикла hello не является опасной и ожидающих изменений обрабатываются с помощью следующего запуска.</span><span class="sxs-lookup"><span data-stu-id="2a12e-216">Stopping hello current cycle is not harmful and pending changes are processed with next run.</span></span>

1. <span data-ttu-id="2a12e-217">Начало путем указания его текущего планировщика toostop hello цикла с помощью командлета PowerShell hello `Stop-ADSyncSyncCycle`.</span><span class="sxs-lookup"><span data-stu-id="2a12e-217">Start by telling hello scheduler toostop its current cycle with hello PowerShell cmdlet `Stop-ADSyncSyncCycle`.</span></span>
2. <span data-ttu-id="2a12e-218">Если использовать сборку до 1.1.281, то Остановка планировщика hello не останавливает hello текущий соединитель от его текущей задачи.</span><span class="sxs-lookup"><span data-stu-id="2a12e-218">If you use a build before 1.1.281, then stopping hello scheduler does not stop hello current Connector from its current task.</span></span> <span data-ttu-id="2a12e-219">tooforce Здравствуйте toostop соединитель, принимают hello, следующие действия: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)</span><span class="sxs-lookup"><span data-stu-id="2a12e-219">tooforce hello Connector toostop, take hello following actions: ![StopAConnector](./media/active-directory-aadconnectsync-feature-scheduler/stopaconnector.png)</span></span>
   * <span data-ttu-id="2a12e-220">Запуск **служба синхронизации** из меню "Пуск" hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-220">Start **Synchronization Service** from hello start menu.</span></span> <span data-ttu-id="2a12e-221">Go слишком**соединители**, выделите hello соединителя с состоянием hello **под управлением**и выберите **остановить** из hello действия.</span><span class="sxs-lookup"><span data-stu-id="2a12e-221">Go too**Connectors**, highlight hello Connector with hello state **Running**, and select **Stop** from hello Actions.</span></span>

<span data-ttu-id="2a12e-222">Планировщик Hello еще активен и снова запускается на первой возможности.</span><span class="sxs-lookup"><span data-stu-id="2a12e-222">hello scheduler is still active and starts again on next opportunity.</span></span>

## <a name="custom-scheduler"></a><span data-ttu-id="2a12e-223">Настраиваемый планировщик</span><span class="sxs-lookup"><span data-stu-id="2a12e-223">Custom scheduler</span></span>
<span data-ttu-id="2a12e-224">Hello командлеты, описанные в этом разделе доступны только в сборке [1.1.130.0](active-directory-aadconnect-version-history.md#111300) и более поздних версий.</span><span class="sxs-lookup"><span data-stu-id="2a12e-224">hello cmdlets documented in this section are only available in build [1.1.130.0](active-directory-aadconnect-version-history.md#111300) and later.</span></span>

<span data-ttu-id="2a12e-225">Если планировщик hello не удовлетворяет необходимым требованиям, можно запланировать hello соединителей, с помощью PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2a12e-225">If hello built-in scheduler does not satisfy your requirements, then you can schedule hello Connectors using PowerShell.</span></span>

### <a name="invoke-adsyncrunprofile"></a><span data-ttu-id="2a12e-226">Invoke-ADSyncRunProfile</span><span class="sxs-lookup"><span data-stu-id="2a12e-226">Invoke-ADSyncRunProfile</span></span>
<span data-ttu-id="2a12e-227">Запустить профиль для соединителя можно таким образом:</span><span class="sxs-lookup"><span data-stu-id="2a12e-227">You can start a profile for a Connector in this way:</span></span>

```
Invoke-ADSyncRunProfile -ConnectorName "name of connector" -RunProfileName "name of profile"
```

<span data-ttu-id="2a12e-228">Hello toouse имена для [именами соединителей](active-directory-aadconnectsync-service-manager-ui-connectors.md) и [запуска профиля имена](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) можно найти в hello [пользовательского интерфейса диспетчера службы синхронизации](active-directory-aadconnectsync-service-manager-ui.md).</span><span class="sxs-lookup"><span data-stu-id="2a12e-228">hello names toouse for [Connector names](active-directory-aadconnectsync-service-manager-ui-connectors.md) and [Run Profile Names](active-directory-aadconnectsync-service-manager-ui-connectors.md#configure-run-profiles) can be found in hello [Synchronization Service Manager UI](active-directory-aadconnectsync-service-manager-ui.md).</span></span>

![Вызов профиля выполнения](./media/active-directory-aadconnectsync-feature-scheduler/invokerunprofile.png)  

<span data-ttu-id="2a12e-230">Hello `Invoke-ADSyncRunProfile` командлета является синхронным, то есть, он не возвращает управление до hello соединителя завершения операции hello успешно или с ошибкой.</span><span class="sxs-lookup"><span data-stu-id="2a12e-230">hello `Invoke-ADSyncRunProfile` cmdlet is synchronous, that is, it does not return control until hello Connector has completed hello operation, either successfully or with an error.</span></span>

<span data-ttu-id="2a12e-231">При планировании соединителях hello рекомендуется tooschedule их в hello следующий порядок:</span><span class="sxs-lookup"><span data-stu-id="2a12e-231">When you schedule your Connectors, hello recommendation is tooschedule them in hello following order:</span></span>

1. <span data-ttu-id="2a12e-232">(полная/изменения) импорт из локальных каталогов, например Active Directory;</span><span class="sxs-lookup"><span data-stu-id="2a12e-232">(Full/Delta) Import from on-premises directories, such as Active Directory</span></span>
2. <span data-ttu-id="2a12e-233">(полная/изменения) импорт из Azure AD;</span><span class="sxs-lookup"><span data-stu-id="2a12e-233">(Full/Delta) Import from Azure AD</span></span>
3. <span data-ttu-id="2a12e-234">(полная/изменения) синхронизация из локальных каталогов, например Active Directory;</span><span class="sxs-lookup"><span data-stu-id="2a12e-234">(Full/Delta) Synchronization from on-premises directories, such as Active Directory</span></span>
4. <span data-ttu-id="2a12e-235">(полная/изменения) синхронизация из Azure AD;</span><span class="sxs-lookup"><span data-stu-id="2a12e-235">(Full/Delta) Synchronization from Azure AD</span></span>
5. <span data-ttu-id="2a12e-236">Экспорт tooAzure AD</span><span class="sxs-lookup"><span data-stu-id="2a12e-236">Export tooAzure AD</span></span>
6. <span data-ttu-id="2a12e-237">Экспорт tooon локальные каталоги, например Active Directory.</span><span class="sxs-lookup"><span data-stu-id="2a12e-237">Export tooon-premises directories, such as Active Directory</span></span>

<span data-ttu-id="2a12e-238">Этот порядок является выполнением соединители hello hello встроенного планировщика.</span><span class="sxs-lookup"><span data-stu-id="2a12e-238">This order is how hello built-in scheduler runs hello Connectors.</span></span>

### <a name="get-adsyncconnectorrunstatus"></a><span data-ttu-id="2a12e-239">Get-ADSyncConnectorRunStatus</span><span class="sxs-lookup"><span data-stu-id="2a12e-239">Get-ADSyncConnectorRunStatus</span></span>
<span data-ttu-id="2a12e-240">Также можно отслеживать toosee механизм синхронизации hello, если это занятости и неактивности.</span><span class="sxs-lookup"><span data-stu-id="2a12e-240">You can also monitor hello sync engine toosee if it is busy or idle.</span></span> <span data-ttu-id="2a12e-241">Этот командлет возвращает пустой результат, если подсистема синхронизации hello находится в состоянии простоя, но не запущена соединителя.</span><span class="sxs-lookup"><span data-stu-id="2a12e-241">This cmdlet returns an empty result if hello sync engine is idle and is not running a Connector.</span></span> <span data-ttu-id="2a12e-242">Если запущен соединитель, он возвращает имя hello hello соединителя.</span><span class="sxs-lookup"><span data-stu-id="2a12e-242">If a Connector is running, it returns hello name of hello Connector.</span></span>

```
Get-ADSyncConnectorRunStatus
```

![Состояние выполнения соединителя](./media/active-directory-aadconnectsync-feature-scheduler/getconnectorrunstatus.png)  
<span data-ttu-id="2a12e-244">На приведенном выше рисунке hello первая строка hello — из состояния, где модуль синхронизации hello бездействует.</span><span class="sxs-lookup"><span data-stu-id="2a12e-244">In hello picture above, hello first line is from a state where hello sync engine is idle.</span></span> <span data-ttu-id="2a12e-245">Вторая строка Hello из при выполнении hello соединителя Azure AD.</span><span class="sxs-lookup"><span data-stu-id="2a12e-245">hello second line from when hello Azure AD Connector is running.</span></span>

## <a name="scheduler-and-installation-wizard"></a><span data-ttu-id="2a12e-246">Планировщик и мастер установки</span><span class="sxs-lookup"><span data-stu-id="2a12e-246">Scheduler and installation wizard</span></span>
<span data-ttu-id="2a12e-247">При запуске мастера установки hello hello планировщика временно приостанавливается.</span><span class="sxs-lookup"><span data-stu-id="2a12e-247">If you start hello installation wizard, then hello scheduler is temporarily suspended.</span></span> <span data-ttu-id="2a12e-248">Эта функция действует так, как предполагается внести изменения в конфигурацию и не может применяться эти параметры, если активно запущен обработчик синхронизации hello.</span><span class="sxs-lookup"><span data-stu-id="2a12e-248">This behavior is because it is assumed you make configuration changes and these settings cannot be applied if hello sync engine is actively running.</span></span> <span data-ttu-id="2a12e-249">По этой причине не закрывайте приветствия мастера установки, так как он перестает подсистема синхронизации hello выполнять любые действия синхронизации.</span><span class="sxs-lookup"><span data-stu-id="2a12e-249">For this reason, do not leave hello installation wizard open since it stops hello sync engine from performing any synchronization actions.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2a12e-250">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="2a12e-250">Next steps</span></span>
<span data-ttu-id="2a12e-251">Дополнительные сведения о hello [синхронизации Azure AD Connect](active-directory-aadconnectsync-whatis.md) конфигурации.</span><span class="sxs-lookup"><span data-stu-id="2a12e-251">Learn more about hello [Azure AD Connect sync](active-directory-aadconnectsync-whatis.md) configuration.</span></span>

<span data-ttu-id="2a12e-252">Узнайте больше об [интеграции локальных удостоверений с Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="2a12e-252">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
