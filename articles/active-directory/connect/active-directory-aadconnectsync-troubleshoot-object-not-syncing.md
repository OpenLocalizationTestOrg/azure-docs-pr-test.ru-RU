---
title: "Устранение неполадок синхронизации объекта с Azure AD | Документация Майкрософт"
description: "Узнайте, как устранять неполадки синхронизации объекта с Azure AD."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 491a920ceeaac62dd37b1def3f02234056aebfb0
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="troubleshoot-an-object-that-is-not-synchronizing-to-azure-ad"></a><span data-ttu-id="20738-103">Устранение неполадок синхронизации объекта с Azure AD</span><span class="sxs-lookup"><span data-stu-id="20738-103">Troubleshoot an object that is not synchronizing to Azure AD</span></span>

<span data-ttu-id="20738-104">Если при синхронизации объекта с Azure AD возникают неполадки, то это может быть вызвано несколькими причинами.</span><span class="sxs-lookup"><span data-stu-id="20738-104">If an object is not synchronizing as expected to Azure AD, then it can be because of several reasons.</span></span> <span data-ttu-id="20738-105">Если вы получили от Azure AD сообщение об ошибке по электронной почте или ошибка отображается в службе Azure AD Connect Health, то ознакомьтесь со статьей [Устранение ошибок синхронизации](active-directory-aadconnect-troubleshoot-sync-errors.md).</span><span class="sxs-lookup"><span data-stu-id="20738-105">If you have received an error email from Azure AD or you see the error in Azure AD Connect Health, then read [troubleshoot export errors](active-directory-aadconnect-troubleshoot-sync-errors.md) instead.</span></span> <span data-ttu-id="20738-106">Но если возникла ситуация, при которой объект не находится в Azure AD, то вы найдете все необходимые сведения в этой статье.</span><span class="sxs-lookup"><span data-stu-id="20738-106">But if you are troubleshooting a problem where the object is not in Azure AD, then this topic is for you.</span></span> <span data-ttu-id="20738-107">Здесь описывается, как найти ошибки в локальном компоненте под названием "Синхронизация Azure AD Connect".</span><span class="sxs-lookup"><span data-stu-id="20738-107">It describes how to find errors in the on-premises component Azure AD Connect sync.</span></span>

<span data-ttu-id="20738-108">Чтобы найти ошибки, необходимо просмотреть несколько различных расположений в следующем порядке:</span><span class="sxs-lookup"><span data-stu-id="20738-108">To find the errors, you are going to look at a few different places in the following order:</span></span>

1. <span data-ttu-id="20738-109">[Журналы операций](#operations), где могут быть зафиксированы ошибки, определяемые модулем синхронизации во время импорта и синхронизации.</span><span class="sxs-lookup"><span data-stu-id="20738-109">The [operation logs](#operations) for finding errors identified by the sync engine during import and synchronization.</span></span>
2. <span data-ttu-id="20738-110">[Пространство соединителя](#connector-space-object-properties), где могут быть отсутствующие объекты и ошибки синхронизации.</span><span class="sxs-lookup"><span data-stu-id="20738-110">The [connector space](#connector-space-object-properties) for finding missing objects and synchronization errors.</span></span>
3. <span data-ttu-id="20738-111">[Метавселенная](#metaverse-object-properties), где могут быть проблемы, связанные с данными.</span><span class="sxs-lookup"><span data-stu-id="20738-111">The [metaverse](#metaverse-object-properties) for finding data-related problems.</span></span>

<span data-ttu-id="20738-112">Прежде чем выполнять эти действия, запустите [Synchronization Service Manager](active-directory-aadconnectsync-service-manager-ui.md).</span><span class="sxs-lookup"><span data-stu-id="20738-112">Start [Synchronization Service Manager](active-directory-aadconnectsync-service-manager-ui.md) before you begin these steps.</span></span>

## <a name="operations"></a><span data-ttu-id="20738-113">Операции</span><span class="sxs-lookup"><span data-stu-id="20738-113">Operations</span></span>
<span data-ttu-id="20738-114">Начните устранение неполадок с вкладки "Operations" (Операции) в Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="20738-114">The operations tab in the Synchronization Service Manager is where you should start your troubleshooting.</span></span> <span data-ttu-id="20738-115">На вкладке "Operations" (Операции) отображаются результаты последних операций.</span><span class="sxs-lookup"><span data-stu-id="20738-115">The operations tab shows the results from the most recent operations.</span></span>  
![Диспетчер службы синхронизации](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/operations.png)  

<span data-ttu-id="20738-117">В верхней части отображены все операции выполнения в хронологическом порядке.</span><span class="sxs-lookup"><span data-stu-id="20738-117">The top half shows all runs in chronic order.</span></span> <span data-ttu-id="20738-118">По умолчанию журнал операций содержит сведения за последние семь дней, но эту цифру можно изменить с помощью [планировщика](active-directory-aadconnectsync-feature-scheduler.md).</span><span class="sxs-lookup"><span data-stu-id="20738-118">By default, the operations log keeps information about the last seven days, but this setting can be changed with the [scheduler](active-directory-aadconnectsync-feature-scheduler.md).</span></span> <span data-ttu-id="20738-119">Вы можете найти любую операцию выполнения, которая не была завершена успешно.</span><span class="sxs-lookup"><span data-stu-id="20738-119">You want to look for any run that does not show a success status.</span></span> <span data-ttu-id="20738-120">Вы также можете изменить порядок сортировки, щелкая заголовки.</span><span class="sxs-lookup"><span data-stu-id="20738-120">You can change the sorting by clicking the headers.</span></span>

<span data-ttu-id="20738-121">Столбец **Status** (Состояние) является самым важным, он показывает наиболее серьезную проблему при выполнении.</span><span class="sxs-lookup"><span data-stu-id="20738-121">The **Status** column is the most important information and shows the most severe problem for a run.</span></span> <span data-ttu-id="20738-122">Ниже приводится краткая сводка наиболее распространенных состояний в порядке приоритета для анализа (где * означает, что возможно несколько строк ошибки).</span><span class="sxs-lookup"><span data-stu-id="20738-122">Here is a quick summary of the most common statuses in order of priority to investigate (where * indicate several possible error strings).</span></span>

| <span data-ttu-id="20738-123">Status</span><span class="sxs-lookup"><span data-stu-id="20738-123">Status</span></span> | <span data-ttu-id="20738-124">Комментарий</span><span class="sxs-lookup"><span data-stu-id="20738-124">Comment</span></span> |
| --- | --- |
| <span data-ttu-id="20738-125">stopped-*</span><span class="sxs-lookup"><span data-stu-id="20738-125">stopped-*</span></span> |<span data-ttu-id="20738-126">Не удалось завершить выполнение.</span><span class="sxs-lookup"><span data-stu-id="20738-126">The run could not complete.</span></span> <span data-ttu-id="20738-127">Например, если удаленная система не работает и с ней не удается связаться.</span><span class="sxs-lookup"><span data-stu-id="20738-127">For example, if the remote system is down and cannot be contacted.</span></span> |
| <span data-ttu-id="20738-128">stopped-error-limit</span><span class="sxs-lookup"><span data-stu-id="20738-128">stopped-error-limit</span></span> |<span data-ttu-id="20738-129">Обнаружено более 5000 ошибок.</span><span class="sxs-lookup"><span data-stu-id="20738-129">There are more than 5,000 errors.</span></span> <span data-ttu-id="20738-130">Выполнение было автоматически остановлено из-за большого количества ошибок.</span><span class="sxs-lookup"><span data-stu-id="20738-130">The run was automatically stopped due to the large number of errors.</span></span> |
| <span data-ttu-id="20738-131">completed-\*-errors</span><span class="sxs-lookup"><span data-stu-id="20738-131">completed-\*-errors</span></span> |<span data-ttu-id="20738-132">Выполнение завершено, но есть ошибки (меньше 5000), которые необходимо изучить.</span><span class="sxs-lookup"><span data-stu-id="20738-132">The run completed, but there are errors (fewer than 5,000) that should be investigated.</span></span> |
| <span data-ttu-id="20738-133">completed-\*-warnings</span><span class="sxs-lookup"><span data-stu-id="20738-133">completed-\*-warnings</span></span> |<span data-ttu-id="20738-134">Запуск завершен, но некоторые данные не находятся в ожидаемом состоянии.</span><span class="sxs-lookup"><span data-stu-id="20738-134">The run completed, but some data is not in the expected state.</span></span> <span data-ttu-id="20738-135">Если обнаружены ошибки, такое сообщение обычно является указателем.</span><span class="sxs-lookup"><span data-stu-id="20738-135">If you have errors, then this message is usually only a symptom.</span></span> <span data-ttu-id="20738-136">Пока вы не исправили ошибки, не следует рассматривать предупреждения.</span><span class="sxs-lookup"><span data-stu-id="20738-136">Until you have addressed errors, you should not investigate warnings.</span></span> |
| <span data-ttu-id="20738-137">Успешное завершение</span><span class="sxs-lookup"><span data-stu-id="20738-137">success</span></span> |<span data-ttu-id="20738-138">Проблемы отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="20738-138">No issues.</span></span> |

<span data-ttu-id="20738-139">При выборе строки в нижней части отображаются сведения об этой операции выполнения.</span><span class="sxs-lookup"><span data-stu-id="20738-139">When you select a row, the bottom updates to show the details of that run.</span></span> <span data-ttu-id="20738-140">Слева внизу может отображаться список **Step #**(Шаг №).</span><span class="sxs-lookup"><span data-stu-id="20738-140">To the far left of the bottom, you might have a list saying **Step #**.</span></span> <span data-ttu-id="20738-141">Он отображается, только если у вас в лесу несколько доменов, где каждый домен представлен шагом.</span><span class="sxs-lookup"><span data-stu-id="20738-141">This list only appears if you have multiple domains in your forest where each domain is represented by a step.</span></span> <span data-ttu-id="20738-142">Имя домена можно найти в разделе **Partition**(Секция).</span><span class="sxs-lookup"><span data-stu-id="20738-142">The domain name can be found under the heading **Partition**.</span></span> <span data-ttu-id="20738-143">В разделе **Synchronization Statistics**(Статистика синхронизации) можно найти дополнительные сведения о числе обработанных изменений.</span><span class="sxs-lookup"><span data-stu-id="20738-143">Under **Synchronization Statistics**, you can find more information about the number of changes that were processed.</span></span> <span data-ttu-id="20738-144">Щелкая ссылки, можно получить список измененных объектов.</span><span class="sxs-lookup"><span data-stu-id="20738-144">You can click the links to get a list of the changed objects.</span></span> <span data-ttu-id="20738-145">Если у вас есть объекты с ошибкой, они отображаются в разделе **Synchronization Errors**(Ошибки синхронизации).</span><span class="sxs-lookup"><span data-stu-id="20738-145">If you have objects with errors, those errors show up under **Synchronization Errors**.</span></span>

### <a name="troubleshoot-errors-in-operations-tab"></a><span data-ttu-id="20738-146">Устранение ошибок на вкладке "Operations" (Операции)</span><span class="sxs-lookup"><span data-stu-id="20738-146">Troubleshoot errors in operations tab</span></span>
![Диспетчер службы синхронизации](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/errorsync.png)  
<span data-ttu-id="20738-148">Если есть ошибки, то отображаемый в них объект и сама ошибка представлены ссылками, перейдя по которым можно получить дополнительные сведения.</span><span class="sxs-lookup"><span data-stu-id="20738-148">When you have errors, both the object in error and the error itself are links that provide more information.</span></span>

<span data-ttu-id="20738-149">Для начала щелкните строку ошибки (**sync-rule-error-function-triggered** на рисунке выше).</span><span class="sxs-lookup"><span data-stu-id="20738-149">Start by clicking the error string (**sync-rule-error-function-triggered** in the picture).</span></span> <span data-ttu-id="20738-150">Сначала отображается обзор объекта.</span><span class="sxs-lookup"><span data-stu-id="20738-150">You are first presented with an overview of the object.</span></span> <span data-ttu-id="20738-151">Чтобы просмотреть фактическую ошибку, нажмите кнопку **Stack Trace**(Трассировка стека).</span><span class="sxs-lookup"><span data-stu-id="20738-151">To see the actual error, click the button **Stack Trace**.</span></span> <span data-ttu-id="20738-152">Эта трассировка отображает информацию уровня отладки об ошибке.</span><span class="sxs-lookup"><span data-stu-id="20738-152">This trace provides debug level information for the error.</span></span>

<span data-ttu-id="20738-153">Вы можете щелкнуть правой кнопкой мыши поле **call stack information** (Сведения о стеке вызовов), выбрать пункт **select all** (Выбрать все) и щелкнуть **copy** (Копировать).</span><span class="sxs-lookup"><span data-stu-id="20738-153">You can right-click in the **call stack information** box, choose **select all**, and **copy**.</span></span> <span data-ttu-id="20738-154">Затем можно скопировать стек и просмотреть ошибку в любом редакторе на ваше усмотрение, например в Блокноте.</span><span class="sxs-lookup"><span data-stu-id="20738-154">You can then copy the stack and look at the error in your favorite editor, such as Notepad.</span></span>

* <span data-ttu-id="20738-155">Если получена ошибка из **SyncRulesEngine**, в начале сведений стека вызовов можно просмотреть список всех атрибутов объекта.</span><span class="sxs-lookup"><span data-stu-id="20738-155">If the error is from **SyncRulesEngine**, then the call stack information first has a list of all attributes on the object.</span></span> <span data-ttu-id="20738-156">Прокрутите вниз до заголовка **InnerException =>**.</span><span class="sxs-lookup"><span data-stu-id="20738-156">Scroll down until you see the heading **InnerException =>**.</span></span>  
  <span data-ttu-id="20738-157">![Synchronization Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/errorinnerexception.png)</span><span class="sxs-lookup"><span data-stu-id="20738-157">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/errorinnerexception.png)</span></span>  
  <span data-ttu-id="20738-158">В строке ниже отображается ошибка.</span><span class="sxs-lookup"><span data-stu-id="20738-158">The line after shows the error.</span></span> <span data-ttu-id="20738-159">На рисунке выше ошибка получена из-за создания пользовательского правила синхронизации Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="20738-159">In the picture above, the error is from a custom Sync Rule Fabrikam created.</span></span>

<span data-ttu-id="20738-160">Если сама ошибка не содержит достаточно сведений, значит, пора взглянуть на данные.</span><span class="sxs-lookup"><span data-stu-id="20738-160">If the error itself does not give enough information, then it is time to look at the data itself.</span></span> <span data-ttu-id="20738-161">Вы можете щелкнуть ссылку с идентификатором объекта и продолжить устранение неполадок в [импортированном объекте пространства соединителя](#cs-import).</span><span class="sxs-lookup"><span data-stu-id="20738-161">You can click the link with the object identifier and continue troubleshooting the [connector space imported object](#cs-import).</span></span>

## <a name="connector-space-object-properties"></a><span data-ttu-id="20738-162">Свойства объекта пространства соединителя</span><span class="sxs-lookup"><span data-stu-id="20738-162">Connector space object properties</span></span>
<span data-ttu-id="20738-163">Если на вкладке [Operations](#operations) (Операции) ошибки не выявлены, то необходимо отследить объект пространства соединителя, перейдя из Active Directory в метавселенную, а затем — в Azure AD.</span><span class="sxs-lookup"><span data-stu-id="20738-163">If you do not have any errors found in the [operations](#operations) tab, then the next step is to follow the connector space object from Active Directory, to the metaverse, and to Azure AD.</span></span> <span data-ttu-id="20738-164">На этом пути проблема должна быть выявлена.</span><span class="sxs-lookup"><span data-stu-id="20738-164">In this path, you should find where the problem is.</span></span>

### <a name="search-for-an-object-in-the-cs"></a><span data-ttu-id="20738-165">Поиск объекта в пространстве соединителя</span><span class="sxs-lookup"><span data-stu-id="20738-165">Search for an object in the CS</span></span>

<span data-ttu-id="20738-166">В **Synchronization Service Manager** откройте раздел **Connectors** (Соединители), выберите соединитель Active Directory, а затем выберите **Search Connector Space** (Поиск в пространстве соединителя).</span><span class="sxs-lookup"><span data-stu-id="20738-166">In **Synchronization Service Manager**, click **Connectors**, select the Active Directory Connector, and **Search Connector Space**.</span></span>

<span data-ttu-id="20738-167">В поле **Scope** (Область) выберите **RDN**, если требуется выполнить поиск по атрибуту CN, или **DN or anchor** (Различающееся имя или привязка), если требуется выполнить поиск по атрибуту distinguishedName.</span><span class="sxs-lookup"><span data-stu-id="20738-167">In **Scope**, select **RDN** (when you want to search on the CN attribute) or **DN or anchor** (when you want to search on the distinguishedName attribute).</span></span> <span data-ttu-id="20738-168">Введите значение и нажмите кнопку **Search** (Поиск).</span><span class="sxs-lookup"><span data-stu-id="20738-168">Enter a value and click **Search**.</span></span>  
<span data-ttu-id="20738-169">![Поиск в пространстве соединителя](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssearch.png)</span><span class="sxs-lookup"><span data-stu-id="20738-169">![Connector Space search](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssearch.png)</span></span>  

<span data-ttu-id="20738-170">Если не удается найти искомый объект, то он мог быть отфильтрован с помощью [фильтрации по доменам](active-directory-aadconnectsync-configure-filtering.md#domain-based-filtering) или [фильтрации по подразделениям](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering).</span><span class="sxs-lookup"><span data-stu-id="20738-170">If you do not find the object you are looking for, then it might have been filtered with [domain-based filtering](active-directory-aadconnectsync-configure-filtering.md#domain-based-filtering) or [OU-based filtering](active-directory-aadconnectsync-configure-filtering.md#organizational-unitbased-filtering).</span></span> <span data-ttu-id="20738-171">Ознакомьтесь со статьей [Синхронизация Azure AD Connect: настройка фильтрации](active-directory-aadconnectsync-configure-filtering.md), чтобы проверить правильность настроек фильтрации.</span><span class="sxs-lookup"><span data-stu-id="20738-171">Read the [configure filtering](active-directory-aadconnectsync-configure-filtering.md) topic to verify that the filtering is configured as expected.</span></span>

<span data-ttu-id="20738-172">Другой полезный вариант поиска — это выбрать соединитель Azure AD, в поле **Scope** (Область) выбрать **Pending Import** (Ожидание импорта) и установить флажок **Add** (Добавить).</span><span class="sxs-lookup"><span data-stu-id="20738-172">Another useful search is to select the Azure AD Connector, in **Scope** select **Pending Import**, and select the **Add** checkbox.</span></span> <span data-ttu-id="20738-173">При таком поиске отображаются все синхронизируемые в Azure AD объекты, которые не могут быть связаны с локальным объектом.</span><span class="sxs-lookup"><span data-stu-id="20738-173">This search gives you all synchronized objects in Azure AD that cannot be associated with an on-premises object.</span></span>  
<span data-ttu-id="20738-174">![Поиск потерянного объекта в пространстве соединителя](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssearchorphan.png)</span><span class="sxs-lookup"><span data-stu-id="20738-174">![Connector Space search orphan](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssearchorphan.png)</span></span>  
<span data-ttu-id="20738-175">Эти объекты были созданы другим модулем синхронизации или модулем синхронизации с другими настройками фильтрации.</span><span class="sxs-lookup"><span data-stu-id="20738-175">Those objects have been created by another sync engine or a sync engine with a different filtering configuration.</span></span> <span data-ttu-id="20738-176">Это представление является списком **потерянных объектов**, управление которыми больше не осуществляется.</span><span class="sxs-lookup"><span data-stu-id="20738-176">This view is a list of **orphan** objects no longer managed.</span></span> <span data-ttu-id="20738-177">Просмотрите список и по возможности удалите эти объекты с помощью командлетов [Azure AD PowerShell](http://aka.ms/aadposh).</span><span class="sxs-lookup"><span data-stu-id="20738-177">You should review this list and consider removing these objects using the [Azure AD PowerShell](http://aka.ms/aadposh) cmdlets.</span></span>

### <a name="cs-import"></a><span data-ttu-id="20738-178">Импорт в пространстве соединителя</span><span class="sxs-lookup"><span data-stu-id="20738-178">CS Import</span></span>
<span data-ttu-id="20738-179">При открытии объекта пространства соединителя в верхней части отображаются несколько вкладок.</span><span class="sxs-lookup"><span data-stu-id="20738-179">When you open a cs object, there are several tabs at the top.</span></span> <span data-ttu-id="20738-180">На вкладке **импорта** отображаются данные, добавленные после импорта.</span><span class="sxs-lookup"><span data-stu-id="20738-180">The **Import** tab shows the data that is staged after an import.</span></span>  
<span data-ttu-id="20738-181">![Объект пространства соединителя](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/csobject.png)  </span><span class="sxs-lookup"><span data-stu-id="20738-181">![CS object](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/csobject.png)  </span></span>  
<span data-ttu-id="20738-182">В столбце **Old Value** (Старое значение) отображаются объекты, в настоящее время хранящиеся в Connect. В столбце **New Value** (Новое значение) отображаются объекты, полученные из исходной системы и еще не примененные.</span><span class="sxs-lookup"><span data-stu-id="20738-182">The **Old Value** shows what currently is stored in Connect and the **New Value** what has been received from the source system and has not been applied yet.</span></span> <span data-ttu-id="20738-183">Если в объекте имеется ошибка, то изменения не обрабатываются.</span><span class="sxs-lookup"><span data-stu-id="20738-183">If there is an error on the object, then changes are not processed.</span></span>

<span data-ttu-id="20738-184">**Ошибка**</span><span class="sxs-lookup"><span data-stu-id="20738-184">**Error**</span></span>  
<span data-ttu-id="20738-185">![Объект пространства соединителя](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssyncerror.png)</span><span class="sxs-lookup"><span data-stu-id="20738-185">![CS object](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cssyncerror.png)</span></span>  
<span data-ttu-id="20738-186">Вкладка **Synchronization Error** (Ошибка синхронизации) отображается только при наличии проблемы с объектом.</span><span class="sxs-lookup"><span data-stu-id="20738-186">The **Synchronization Error** tab is only visible if there is a problem with the object.</span></span> <span data-ttu-id="20738-187">Дополнительные сведения см. в разделе [Устранение ошибок на вкладке "Operations" (Операции)](#troubleshoot-errors-in-operations-tab).</span><span class="sxs-lookup"><span data-stu-id="20738-187">For more information, see [troubleshoot synchronization errors](#troubleshoot-errors-in-operations-tab).</span></span>

### <a name="cs-lineage"></a><span data-ttu-id="20738-188">Журнал преобразований пространства соединителя</span><span class="sxs-lookup"><span data-stu-id="20738-188">CS Lineage</span></span>
<span data-ttu-id="20738-189">На вкладке журнала преобразований отображается связь объекта пространства соединителя с объектом метавселенной.</span><span class="sxs-lookup"><span data-stu-id="20738-189">The lineage tab shows how the connector space object is related to the metaverse object.</span></span> <span data-ttu-id="20738-190">Можно увидеть, когда соединитель в последний раз импортировал изменение из подключенной системы и какие правила были применены для внесения данных в метавселенную.</span><span class="sxs-lookup"><span data-stu-id="20738-190">You can see when the Connector last imported a change from the connected system and which rules applied to populate data in the metaverse.</span></span>  
<span data-ttu-id="20738-191">![Журнал преобразований пространства соединителя](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cslineage.png)</span><span class="sxs-lookup"><span data-stu-id="20738-191">![CS lineage](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cslineage.png)</span></span>  
<span data-ttu-id="20738-192">В столбце **Действия** отображается одно правило синхронизации с направлением **Входящее** и действием **Подготовка**.</span><span class="sxs-lookup"><span data-stu-id="20738-192">In the **Action** column, you can see there is one **Inbound** sync rule with the action **Provision**.</span></span> <span data-ttu-id="20738-193">Это значит, что объект метавселенной хранится, пока существует этот объект пространства соединителя.</span><span class="sxs-lookup"><span data-stu-id="20738-193">That indicates that as long as this connector space object is present, the metaverse object remains.</span></span> <span data-ttu-id="20738-194">Если в списке правил синхронизации отображается правило синхронизации с направлением **Outbound** (Исходящее) и действием **Provision** (Подготовка), это значит, что объект удаляется вместе с объектом метавселенной.</span><span class="sxs-lookup"><span data-stu-id="20738-194">If the list of sync rules instead shows a sync rule with direction **Outbound** and **Provision**, it indicates that this object is deleted when the metaverse object is deleted.</span></span>  
<span data-ttu-id="20738-195">![Synchronization Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cslineageout.png)</span><span class="sxs-lookup"><span data-stu-id="20738-195">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/cslineageout.png)</span></span>  
<span data-ttu-id="20738-196">В столбце **Синхронизация паролей** можно увидеть, что входящее пространство соединителя может вносить изменения в пароль, так как одно правило синхронизации имеет значение **True**.</span><span class="sxs-lookup"><span data-stu-id="20738-196">You can also see in the **PasswordSync** column that the inbound connector space can contribute changes to the password since one sync rule has the value **True**.</span></span> <span data-ttu-id="20738-197">Затем этот пароль отправляется в Azure AD с помощью правила для исходящего подключения.</span><span class="sxs-lookup"><span data-stu-id="20738-197">This password is then sent to Azure AD through the outbound rule.</span></span>

<span data-ttu-id="20738-198">Со вкладки журнала преобразований можно перейти к метавселенной. Для этого нужно щелкнуть элемент [Metaverse Object Properties](#mv-attributes) (Свойства объекта метавселенной).</span><span class="sxs-lookup"><span data-stu-id="20738-198">From the lineage tab, you can get to the metaverse by clicking [Metaverse Object Properties](#mv-attributes).</span></span>

<span data-ttu-id="20738-199">На каждой вкладке в нижней части есть две кнопки: **Preview** (Предварительный просмотр) и **Log** (Журнал).</span><span class="sxs-lookup"><span data-stu-id="20738-199">At the bottom of all tabs are two buttons: **Preview** and **Log**.</span></span>

### <a name="preview"></a><span data-ttu-id="20738-200">Предварительный просмотр</span><span class="sxs-lookup"><span data-stu-id="20738-200">Preview</span></span>
<span data-ttu-id="20738-201">Страница предварительного просмотра используется для синхронизации одного объекта.</span><span class="sxs-lookup"><span data-stu-id="20738-201">The preview page is used to synchronize one single object.</span></span> <span data-ttu-id="20738-202">Это полезно, если необходимо устранить ошибки некоторых пользовательских правил синхронизации и увидеть результат изменения одного объекта.</span><span class="sxs-lookup"><span data-stu-id="20738-202">It is useful if you are troubleshooting some custom sync rules and want to see the effect of a change on a single object.</span></span> <span data-ttu-id="20738-203">Можно выбрать нужный режим: **Full Sync** (Полная синхронизация) и **Delta sync** (Синхронизация изменений).</span><span class="sxs-lookup"><span data-stu-id="20738-203">You can select between **Full sync** and **Delta sync**.</span></span> <span data-ttu-id="20738-204">Кроме того, можно нажать кнопку **Generate Preview** (Создать предварительный просмотр), чтобы сохранить изменения в памяти, или кнопку **Commit Preview** (Просмотр перед фиксацией), чтобы обновить метавселенную и передать все изменения в целевые пространства соединителей.</span><span class="sxs-lookup"><span data-stu-id="20738-204">You can also select between **Generate Preview**, which only keeps the change in memory, and **Commit Preview**, which updated the metaverse and stages all changes to target connector spaces.</span></span>  
<span data-ttu-id="20738-205">![Synchronization Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/preview.png)</span><span class="sxs-lookup"><span data-stu-id="20738-205">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/preview.png)</span></span>  
<span data-ttu-id="20738-206">Вы можете проверить объект и узнать, какое правило применено к конкретному потоку атрибутов.</span><span class="sxs-lookup"><span data-stu-id="20738-206">You can inspect the object and which rule applied for a particular attribute flow.</span></span>  
<span data-ttu-id="20738-207">![Synchronization Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/previewresult.png)</span><span class="sxs-lookup"><span data-stu-id="20738-207">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/previewresult.png)</span></span>

### <a name="log"></a><span data-ttu-id="20738-208">Журнал</span><span class="sxs-lookup"><span data-stu-id="20738-208">Log</span></span>
<span data-ttu-id="20738-209">Страница журнала используется для проверки состояния синхронизации пароля и просмотра сведений журнала.</span><span class="sxs-lookup"><span data-stu-id="20738-209">The Log page is used to see the password sync status and history.</span></span> <span data-ttu-id="20738-210">Дополнительные сведения см. в статье [Устранение неполадок синхронизации паролей с помощью службы синхронизации Azure AD Connect](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="20738-210">For more information, see [Troubleshoot password synchronization](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span></span>

## <a name="metaverse-object-properties"></a><span data-ttu-id="20738-211">Свойства объекта метавселенной</span><span class="sxs-lookup"><span data-stu-id="20738-211">Metaverse object properties</span></span>
<span data-ttu-id="20738-212">Как правило, лучше начинать поиск с исходного [пространства соединителя](#connector-space) Active Directory.</span><span class="sxs-lookup"><span data-stu-id="20738-212">It is usually better to start searching from the source Active Directory [connector space](#connector-space).</span></span> <span data-ttu-id="20738-213">Но также можно начать поиск с метавселенной.</span><span class="sxs-lookup"><span data-stu-id="20738-213">But you can also start searching from the metaverse.</span></span>

### <a name="search-for-an-object-in-the-mv"></a><span data-ttu-id="20738-214">Поиск объекта в метавселенной</span><span class="sxs-lookup"><span data-stu-id="20738-214">Search for an object in the MV</span></span>
<span data-ttu-id="20738-215">В **Synchronization Service Manager** щелкните **Metaverse Search** (Поиск в метавселенной).</span><span class="sxs-lookup"><span data-stu-id="20738-215">In **Synchronization Service Manager**, click **Metaverse Search**.</span></span> <span data-ttu-id="20738-216">Создайте запрос, который точно найдет пользователя.</span><span class="sxs-lookup"><span data-stu-id="20738-216">Create a query you know finds the user.</span></span> <span data-ttu-id="20738-217">Можно искать по распространенным атрибутам, таким как accountName (sAMAccountName) или userPrincipalName.</span><span class="sxs-lookup"><span data-stu-id="20738-217">You can search for common attributes, such as accountName (sAMAccountName) and userPrincipalName.</span></span> <span data-ttu-id="20738-218">Дополнительные сведения см. в статье [Синхронизация Azure AD Connect: Synchronization Service Manager](active-directory-aadconnectsync-service-manager-ui-mvsearch.md).</span><span class="sxs-lookup"><span data-stu-id="20738-218">For more information, see [Metaverse search](active-directory-aadconnectsync-service-manager-ui-mvsearch.md).</span></span>
<span data-ttu-id="20738-219">![Synchronization Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/mvsearch.png)</span><span class="sxs-lookup"><span data-stu-id="20738-219">![Sync Service Manager](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/mvsearch.png)</span></span>  

<span data-ttu-id="20738-220">В окне **Search Results** (Результаты поиска) выберите объект.</span><span class="sxs-lookup"><span data-stu-id="20738-220">In the **Search Results** window, click the object.</span></span>

<span data-ttu-id="20738-221">Если объект не найден, то это значит, что он еще не достиг метавселенной.</span><span class="sxs-lookup"><span data-stu-id="20738-221">If you did not find the object, then it has not yet reached the metaverse.</span></span> <span data-ttu-id="20738-222">Продолжайте поиск объекта в [пространстве соединителя](#connector-space-object-properties) Active Directory.</span><span class="sxs-lookup"><span data-stu-id="20738-222">Continue to search for the object in the Active Directory [connector space](#connector-space-object-properties).</span></span> <span data-ttu-id="20738-223">Возможно, возникла ошибка синхронизации, которая блокирует попадание объекта в метавселенную, или мог быть применен фильтр.</span><span class="sxs-lookup"><span data-stu-id="20738-223">There could be an error from synchronization that is blocking the object from coming to the metaverse or there might be a filter applied.</span></span>

### <a name="mv-attributes"></a><span data-ttu-id="20738-224">Атрибуты метавселенной</span><span class="sxs-lookup"><span data-stu-id="20738-224">MV Attributes</span></span>
<span data-ttu-id="20738-225">На вкладке атрибутов можно просмотреть значения и узнать, какой соединитель их передал.</span><span class="sxs-lookup"><span data-stu-id="20738-225">On the attributes tab, you can see the values and which Connector contributed it.</span></span>  
![Диспетчер службы синхронизации](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/mvobject.png)  

<span data-ttu-id="20738-227">Если объект не синхронизируется, то просмотрите следующие атрибуты в метавселенной:</span><span class="sxs-lookup"><span data-stu-id="20738-227">If an object is not synchronizing, then look at the following attributes in the metaverse:</span></span>
- <span data-ttu-id="20738-228">Присутствует ли атрибут **cloudFiltered** и задано ли ему значение **true**?</span><span class="sxs-lookup"><span data-stu-id="20738-228">Is the attribute **cloudFiltered** present and set to **true**?</span></span> <span data-ttu-id="20738-229">Если да, то это значит, что он был отфильтрован, как указано в разделе [Фильтрация по атрибутам](active-directory-aadconnectsync-configure-filtering.md#attribute-based-filtering).</span><span class="sxs-lookup"><span data-stu-id="20738-229">If it is, then it has been filtered according to the steps in [attribute based filtering](active-directory-aadconnectsync-configure-filtering.md#attribute-based-filtering).</span></span>
- <span data-ttu-id="20738-230">Присутствует ли атрибут **sourceAnchor**?</span><span class="sxs-lookup"><span data-stu-id="20738-230">Is the attribute **sourceAnchor** present?</span></span> <span data-ttu-id="20738-231">Если нет, то есть у вас топология леса ресурсов учетной записи?</span><span class="sxs-lookup"><span data-stu-id="20738-231">If not, do you have an account-resource forest topology?</span></span> <span data-ttu-id="20738-232">Если объект определяется как связанный почтовый ящик (атрибут **msExchRecipientTypeDetails** имеет значение 2), то атрибут sourceAnchor заполняется из леса с действующей учетной записью Active Directory.</span><span class="sxs-lookup"><span data-stu-id="20738-232">If an object is identified as a linked mailbox (the attribute **msExchRecipientTypeDetails** has the value 2), then the sourceAnchor is contributed by the forest with an enabled Active Directory account.</span></span> <span data-ttu-id="20738-233">Убедитесь, что главная учетная запись правильно импортирована и синхронизирована.</span><span class="sxs-lookup"><span data-stu-id="20738-233">Make sure the master account has been imported and synchronized correctly.</span></span> <span data-ttu-id="20738-234">Главная учетная запись должны быть указана в списке [соединителей](#mv-connectors) для объекта.</span><span class="sxs-lookup"><span data-stu-id="20738-234">The master account must be listed in the [connectors](#mv-connectors) for the object.</span></span>

### <a name="mv-connectors"></a><span data-ttu-id="20738-235">Соединители метавселенной</span><span class="sxs-lookup"><span data-stu-id="20738-235">MV Connectors</span></span>
<span data-ttu-id="20738-236">На вкладке соединителей отображаются все пространства соединителя, которые включают представление объекта.</span><span class="sxs-lookup"><span data-stu-id="20738-236">The Connectors tab shows all connector spaces that have a representation of the object.</span></span>  
![Диспетчер службы синхронизации](./media/active-directory-aadconnectsync-troubleshoot-object-not-syncing/mvconnectors.png)  
<span data-ttu-id="20738-238">Необходимо иметь соединитель для:</span><span class="sxs-lookup"><span data-stu-id="20738-238">You should have a connector to:</span></span>

- <span data-ttu-id="20738-239">каждого леса Active Directory, в котором представлен пользователь</span><span class="sxs-lookup"><span data-stu-id="20738-239">Each Active Directory forest the user is represented in.</span></span> <span data-ttu-id="20738-240">(это представление может содержать объекты foreignSecurityPrincipals и Contact);</span><span class="sxs-lookup"><span data-stu-id="20738-240">This representation can include foreignSecurityPrincipals and Contact objects.</span></span>
- <span data-ttu-id="20738-241">соединителя в Azure AD.</span><span class="sxs-lookup"><span data-stu-id="20738-241">A connector in Azure AD.</span></span>

<span data-ttu-id="20738-242">Если у вас нет соединителя для Azure AD, то см. раздел [Атрибуты метавселенной](#MV-attributes), чтобы проверить критерии для подготовки в Azure AD.</span><span class="sxs-lookup"><span data-stu-id="20738-242">If you are missing the connector to Azure AD, then read [MV attributes](#MV-attributes) to verify the criteria for being provisioned to Azure AD.</span></span>

<span data-ttu-id="20738-243">С этой вкладки также можно перейти к [объекту пространства соединителя](#connector-space-object-properties).</span><span class="sxs-lookup"><span data-stu-id="20738-243">This tab also allows you to navigate to the [connector space object](#connector-space-object-properties).</span></span> <span data-ttu-id="20738-244">Выберите строку и щелкните **Свойства**.</span><span class="sxs-lookup"><span data-stu-id="20738-244">Select a row and click **Properties**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="20738-245">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="20738-245">Next steps</span></span>
<span data-ttu-id="20738-246">Узнайте больше о настройке [службы синхронизации Azure AD Connect](active-directory-aadconnectsync-whatis.md) .</span><span class="sxs-lookup"><span data-stu-id="20738-246">Learn more about the [Azure AD Connect sync](active-directory-aadconnectsync-whatis.md) configuration.</span></span>

<span data-ttu-id="20738-247">Узнайте больше об [интеграции локальных удостоверений с Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="20738-247">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>
