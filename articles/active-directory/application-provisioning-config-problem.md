---
title: "Настройка подготовки приложения Azure AD tooan коллекции пользователей aaaProblem | Документы Microsoft"
description: "Как столкнулись tootroubleshoot распространенных проблем при настройке подготовки tooan приложения, уже присутствует в коллекции приложений Azure AD hello пользователей"
services: active-directory
documentationcenter: 
author: ajamess
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: asteen
ms.openlocfilehash: 19b12be019b05faecef74c6f92a9de03b52a5ef9
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="problem-configuring-user-provisioning-tooan-azure-ad-gallery-application"></a><span data-ttu-id="adf0f-103">Ошибка при настройке подготовки приложения Azure AD tooan коллекции пользователей</span><span class="sxs-lookup"><span data-stu-id="adf0f-103">Problem configuring user provisioning tooan Azure AD Gallery application</span></span>

<span data-ttu-id="adf0f-104">Настройка [автоматическую подготовку пользователей](https://docs.microsoft.com/azure/active-directory/active-directory-saas-app-provisioning) для приложения (если они поддерживаются), требует особых указаний приложения hello и tooprepare для автоматической подготовки к работе.</span><span class="sxs-lookup"><span data-stu-id="adf0f-104">Configuring [automatic user provisioning](https://docs.microsoft.com/azure/active-directory/active-directory-saas-app-provisioning) for an app (where supported), requires that specific instructions be followed tooprepare hello application for automatic provisioning.</span></span> <span data-ttu-id="adf0f-105">Затем можно использовать hello Azure портала tooconfigure hello подготовки приложения toohello учетных записей пользователей toosynchronize службы.</span><span class="sxs-lookup"><span data-stu-id="adf0f-105">Then you can use hello Azure portal tooconfigure hello provisioning service toosynchronize user accounts toohello application.</span></span>

<span data-ttu-id="adf0f-106">Следует всегда сначала поиск hello установки учебника конкретных toosetting копирование подготовки для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="adf0f-106">You should always start by finding hello setup tutorial specific toosetting up provisioning for your application.</span></span> <span data-ttu-id="adf0f-107">Выполните эти шаги tooconfigure оба приложения hello и Azure AD toocreate hello инициализации подключения.</span><span class="sxs-lookup"><span data-stu-id="adf0f-107">Then follow those steps tooconfigure both hello app and Azure AD toocreate hello provisioning connection.</span></span> <span data-ttu-id="adf0f-108">Список учебников приложения можно найти на [список учебников по tooIntegrate приложений SaaS в Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-saas-tutorial-list).</span><span class="sxs-lookup"><span data-stu-id="adf0f-108">A list of app tutorials can be found at [List of Tutorials on How tooIntegrate SaaS Apps with Azure Active Directory](https://docs.microsoft.com/azure/active-directory/active-directory-saas-tutorial-list).</span></span>

## <a name="how-toosee-if-provisioning-is-working"></a><span data-ttu-id="adf0f-109">Как работает toosee, если инициализация</span><span class="sxs-lookup"><span data-stu-id="adf0f-109">How toosee if provisioning is working</span></span> 

<span data-ttu-id="adf0f-110">После настройки службы hello большинство анализировать hello операции службы hello могут отображаться в двух местах:</span><span class="sxs-lookup"><span data-stu-id="adf0f-110">Once hello service is configured, most insights into hello operation of hello service can be drawn from two places:</span></span>

-   <span data-ttu-id="adf0f-111">**Журналы аудита** — hello подготовки запись журналы аудита, все операции hello выполненных hello подготовки службы, включая запросы Azure AD для назначенных пользователей, которые находятся в области для подготовки.</span><span class="sxs-lookup"><span data-stu-id="adf0f-111">**Audit logs** – hello provisioning audit logs record all hello operations performed by hello provisioning service, including querying Azure AD for assigned users that are in scope for provisioning.</span></span> <span data-ttu-id="adf0f-112">Целевое приложение hello запроса наличие hello тех пользователей, сравнение объектов пользователя hello между системой hello.</span><span class="sxs-lookup"><span data-stu-id="adf0f-112">Query hello target app for hello existence of those users, comparing hello user objects between hello system.</span></span> <span data-ttu-id="adf0f-113">Затем добавьте, обновление или отключение учетной записи пользователя hello в целевой системе hello, на основе сравнения hello.</span><span class="sxs-lookup"><span data-stu-id="adf0f-113">Then add, update, or disable hello user account in hello target system based on hello comparison.</span></span> <span data-ttu-id="adf0f-114">Hello подготовки журналы аудита можно получить в hello в hello портале Azure **Azure Active Directory &gt; корпоративных приложений &gt; \[имя_приложения\] &gt; журналы аудита**вкладки. Фильтр hello входе hello **подготовку учетных записей** tooonly категории разделе hello подготовки события для этого приложения.</span><span class="sxs-lookup"><span data-stu-id="adf0f-114">hello provisioning audit logs can be accessed in hello Azure portal, in hello **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt; Audit Logs** tab. Filter hello logs on hello **Account Provisioning** category tooonly see hello provisioning events for that app.</span></span>

-   <span data-ttu-id="adf0f-115">**Состояние — подготовки** Сводка hello последней подготовки запуска для данного приложения, которые можно увидеть в hello **Azure Active Directory &gt; корпоративных приложений &gt; \[имя приложения\] &gt; Подготовка** раздел hello нижней части экрана приветствия в настройках службы hello.</span><span class="sxs-lookup"><span data-stu-id="adf0f-115">**Provisioning status –** A summary of hello last provisioning run for a given app can be seen in hello **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt;Provisioning** section, at hello bottom of hello screen under hello service settings.</span></span> <span data-ttu-id="adf0f-116">В этом разделе показано, сколько пользователей (или группы) в настоящее время выполняется синхронизация между hello две системы и при наличии ошибок.</span><span class="sxs-lookup"><span data-stu-id="adf0f-116">This section summarizes how many users (and/or groups) are currently being synchronized between hello two systems, and if there are any errors.</span></span> <span data-ttu-id="adf0f-117">В журналах аудита hello быть сведения об ошибке.</span><span class="sxs-lookup"><span data-stu-id="adf0f-117">Error details be in hello audit logs.</span></span> <span data-ttu-id="adf0f-118">Обратите внимание, что состояние подготовки hello не заполняется до завершения одной полной начальной синхронизации между Azure AD и приложение hello.</span><span class="sxs-lookup"><span data-stu-id="adf0f-118">Note that hello provisioning status not be populated until one full initial synchronization has been completed between Azure AD and hello app.</span></span>

## <a name="general-problem-areas-with-provisioning-tooconsider"></a><span data-ttu-id="adf0f-119">Общие проблемные области при подготовке tooconsider</span><span class="sxs-lookup"><span data-stu-id="adf0f-119">General problem areas with provisioning tooconsider</span></span>

<span data-ttu-id="adf0f-120">Ниже приведен список hello общие проблемные области, которые вы можете перейти в, если у вас о том, где toostart.</span><span class="sxs-lookup"><span data-stu-id="adf0f-120">Below is a list of hello general problem areas that you can drill into if you have an idea of where toostart.</span></span>

* [<span data-ttu-id="adf0f-121">Подготовка службы не отображается toostart</span><span class="sxs-lookup"><span data-stu-id="adf0f-121">Provisioning service does not appear toostart</span></span>](#provisioning-service-does-not-appear-to-start)
* [<span data-ttu-id="adf0f-122">Не удается сохранить конфигурацию из-за tooapp учетные данные не работает</span><span class="sxs-lookup"><span data-stu-id="adf0f-122">Can’t save configuration due tooapp credentials not working</span></span>](#can’t-save-configuration-due-to-app-credentials-not-working)
* [<span data-ttu-id="adf0f-123">Судя по журналам аудита, пользователи не подготовлены, несмотря на то, что они назначены</span><span class="sxs-lookup"><span data-stu-id="adf0f-123">Audit logs say users are “skipped” and not provisioned, even though they are assigned</span></span>](#audit-logs-say-users-are-skipped-and-not-provisioned-even-though-they-are-assigned)

## <a name="provisioning-service-does-not-appear-toostart"></a><span data-ttu-id="adf0f-124">Подготовка службы не отображается toostart</span><span class="sxs-lookup"><span data-stu-id="adf0f-124">Provisioning service does not appear toostart</span></span>

<span data-ttu-id="adf0f-125">Если значение hello **состояние подготовки** toobe **на** в hello **Azure Active Directory &gt; корпоративных приложений &gt; \[имя_приложения\] &gt;Provisioning** раздел hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="adf0f-125">If you set hello **Provisioning Status** toobe **On** in hello **Azure Active Directory &gt; Enterprise Apps &gt; \[Application Name\] &gt;Provisioning** section of hello Azure portal.</span></span> <span data-ttu-id="adf0f-126">Однако при последующей перезагрузке никакие другие сведения о состоянии на этой странице не отображаются.</span><span class="sxs-lookup"><span data-stu-id="adf0f-126">However no other status details are shown on that page after subsequent reloads.</span></span> <span data-ttu-id="adf0f-127">Вполне вероятно, что службе hello работает, но начальной синхронизации еще не завершена.</span><span class="sxs-lookup"><span data-stu-id="adf0f-127">It is likely that hello service is running but has not completed an initial synchronization yet.</span></span> <span data-ttu-id="adf0f-128">Проверьте hello **журналы аудита** описанных выше toodetermine выполняет hello какие операции службы, и если имеются ошибки.</span><span class="sxs-lookup"><span data-stu-id="adf0f-128">Check hello **Audit logs** described above toodetermine what operations hello service is performing, and if there are any errors.</span></span>

>[!NOTE]
><span data-ttu-id="adf0f-129">Начальная синхронизация может занять от tooseveral часов 20 минут, в зависимости от размера каталога Azure AD hello и hello количество пользователей в области для подготовки hello.</span><span class="sxs-lookup"><span data-stu-id="adf0f-129">An initial sync can take anywhere from 20 minutes tooseveral hours, depending on hello size of hello Azure AD directory and hello number of users in scope for provisioning.</span></span> <span data-ttu-id="adf0f-130">Последующие синхронизации после начальной синхронизации hello выполняться быстрее, как hello подготовки службы хранит водяных знаков, которые представляют Привет состояние обеих систем после начальной синхронизации hello, повышая производительность последующих синхронизаций.</span><span class="sxs-lookup"><span data-stu-id="adf0f-130">Subsequent syncs after hello initial sync be faster, as hello provisioning service stores watermarks that represent hello state of both systems after hello initial sync, improving performance of subsequent syncs.</span></span>
>
>

## <a name="cant-save-configuration-due-tooapp-credentials-not-working"></a><span data-ttu-id="adf0f-131">Не удается сохранить конфигурацию из-за tooapp учетные данные не работает</span><span class="sxs-lookup"><span data-stu-id="adf0f-131">Can’t save configuration due tooapp credentials not working</span></span>

<span data-ttu-id="adf0f-132">Для подготовки toowork того Azure AD требует действительные учетные данные, позволяющие tooconnect tooa пользователя управления API, предоставляемые этого приложения.</span><span class="sxs-lookup"><span data-stu-id="adf0f-132">In order for provisioning toowork, Azure AD requires valid credentials that allow it tooconnect tooa user management API provided by that app.</span></span> <span data-ttu-id="adf0f-133">Если эти учетные данные не работают, или вы не знаете wat, в которых они находятся, просмотрите hello учебник по настройке этого приложения, описанной выше.</span><span class="sxs-lookup"><span data-stu-id="adf0f-133">If these credentials do not work, or you don’t know wat they are, review hello tutorial for setting up this app, described previously.</span></span>

## <a name="audit-logs-say-users-are-skipped-and-not-provisioned-even-though-they-are-assigned"></a><span data-ttu-id="adf0f-134">Судя по журналам аудита, пользователи не подготовлены, несмотря на то, что они назначены</span><span class="sxs-lookup"><span data-stu-id="adf0f-134">Audit logs say users are skipped and not provisioned even though they are assigned</span></span>

<span data-ttu-id="adf0f-135">Когда пользователь отображается как «пропустить» в журналах аудита hello, это очень важно tooread hello подробные сведения об hello журнала сообщений toodetermine hello причине.</span><span class="sxs-lookup"><span data-stu-id="adf0f-135">When a user shows up as “skipped” in hello audit logs, it is very important tooread hello extended details in hello log message toodetermine hello reason.</span></span> <span data-ttu-id="adf0f-136">Ниже приведены распространенные причины и способы устранения ошибок:</span><span class="sxs-lookup"><span data-stu-id="adf0f-136">Below are common reasons and resolutions:</span></span>

-   <span data-ttu-id="adf0f-137">**Фильтр области был настроен** **, фильтрации hello пользователя на основе значения атрибута**.</span><span class="sxs-lookup"><span data-stu-id="adf0f-137">**A scoping filter has been configured** **that is filtering hello user out based on an attribute value**.</span></span> <span data-ttu-id="adf0f-138">Дополнительные сведения о фильтрах области см. в разделе <https://docs.microsoft.com/azure/active-directory/active-directory-saas-scoping-filters>.</span><span class="sxs-lookup"><span data-stu-id="adf0f-138">For more information on scoping filters, see <https://docs.microsoft.com/azure/active-directory/active-directory-saas-scoping-filters>.</span></span>

-   <span data-ttu-id="adf0f-139">**пользователь Hello называется «не эффективно».**</span><span class="sxs-lookup"><span data-stu-id="adf0f-139">**hello user is “not effectively entitled”.**</span></span> <span data-ttu-id="adf0f-140">Если вы видите это сообщение об ошибке, это потому, что проблема с hello назначение каждой записи хранится в Azure AD.</span><span class="sxs-lookup"><span data-stu-id="adf0f-140">If you see this specific error message, it is because there is a problem with hello user assignment record stored in Azure AD.</span></span> <span data-ttu-id="adf0f-141">toofix эту проблему, отмените назначение hello пользователь (или группа) из приложения hello и повторно назначить.</span><span class="sxs-lookup"><span data-stu-id="adf0f-141">toofix this issue, un-assign hello user (or group) from hello app, and re-assign it again.</span></span> <span data-ttu-id="adf0f-142">Дополнительные сведения о назначении см. в разделе <https://docs.microsoft.com/azure/active-directory/active-directory-coreapps-assign-user-azure-portal>.</span><span class="sxs-lookup"><span data-stu-id="adf0f-142">For more information on assignment, see <https://docs.microsoft.com/azure/active-directory/active-directory-coreapps-assign-user-azure-portal>.</span></span>

-   <span data-ttu-id="adf0f-143">**Обязательный атрибут для пользователя отсутствует или его значение не указано.**</span><span class="sxs-lookup"><span data-stu-id="adf0f-143">**A required attribute is missing or not populated for a user.**</span></span> <span data-ttu-id="adf0f-144">Tooconsider важно при настройке подготовки быть tooreview и настроить сопоставления атрибутов hello и рабочие процессы, определяющие, какой поток свойства пользователь (или группа) из toohello приложения Azure AD.</span><span class="sxs-lookup"><span data-stu-id="adf0f-144">An important thing tooconsider when setting up provisioning be tooreview and configure hello attribute mappings and workflows that define which user (or group) properties flow from Azure AD toohello application.</span></span> <span data-ttu-id="adf0f-145">Сюда входят свойства hello «сопоставления», будет использоваться toouniquely определить, соответствуют пользователи и группы, между системами двух hello.</span><span class="sxs-lookup"><span data-stu-id="adf0f-145">This includes setting hello “matching property” that be used toouniquely identify and match users/groups between hello two systems.</span></span> <span data-ttu-id="adf0f-146">Дополнительные сведения об этом важном процессе см. в разделе <https://docs.microsoft.com/azure/active-directory/active-directory-saas-customizing-attribute-mappings>.</span><span class="sxs-lookup"><span data-stu-id="adf0f-146">For more information on this important process, see <https://docs.microsoft.com/azure/active-directory/active-directory-saas-customizing-attribute-mappings>.</span></span>

   * <span data-ttu-id="adf0f-147">**Сопоставление для групп атрибутов:** подготовке hello объединение имени и группы сведений в членах toohello сложения, если поддерживается для некоторых приложений.</span><span class="sxs-lookup"><span data-stu-id="adf0f-147">**Attribute mappings for groups:** Provisioning of hello group name and group details, in addition toohello members, if supported for some applications.</span></span> <span data-ttu-id="adf0f-148">Можно включить или отключить эту возможность, включая или отключая hello **сопоставление** для группы объектов, отображаемых в hello **Provisioning** вкладки. При включении подготовки группы убедитесь, что tooreview hello атрибута сопоставления tooensure соответствующее поле используется для hello «идентификатор сопоставления».</span><span class="sxs-lookup"><span data-stu-id="adf0f-148">You can enable or disable this functionality by enabling or disabling hello **Mapping** for group objects shown in hello **Provisioning** tab. If provisioning groups is enabled, be sure tooreview hello attribute mappings tooensure an appropriate field is being used for hello “matching ID”.</span></span> <span data-ttu-id="adf0f-149">Это может быть hello отображаемое имя псевдонима электронной почты), как группа hello и ее члены не удалось подготовить Если hello соответствующее свойство является пустым или не заполненных для группы в Azure AD.</span><span class="sxs-lookup"><span data-stu-id="adf0f-149">This can be hello display name or email alias), as hello group and its members not be provisioned if hello matching property is empty or not populated for a group in Azure AD.</span></span>

#<a name="next-steps"></a><span data-ttu-id="adf0f-150">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="adf0f-150">Next steps</span></span>
[<span data-ttu-id="adf0f-151">Автоматизировать подготовку пользователей и их отзыва tooSaaS приложений с Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="adf0f-151">Automate User Provisioning and Deprovisioning tooSaaS Applications with Azure Active Directory</span></span>](active-directory-saas-app-provisioning.md)
