---
title: "Руководство по настройке Workday для автоматической подготовки пользователей с помощью локальной службы Active Directory и Azure Active Directory | Документы Майкрософт"
description: "Узнайте, как toouse рабочего дня, как источник данных удостоверения для Active Directory и Azure Active Directory."
services: active-directory
author: asmalser-msft
documentationcenter: na
manager: femila
ms.assetid: 1a2c375a-1bb1-4a61-8115-5a69972c6ad6
ms.service: active-directory
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: identity
ms.date: 05/26/2017
ms.author: asmalser
ms.openlocfilehash: d4eb3237b8fe7614606c58b39fbefcb44f4060fe
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="tutorial-configure-workday-for-automatic-user-provisioning-with-on-premises-active-directory-and-azure-active-directory"></a>Руководство по настройке Workday для автоматической подготовки пользователей с помощью локальной службы Active Directory и Azure Active Directory
Цель этого учебника Hello — tooshow hello действия, которые следует tooperform tooimport пользователей из Workday в Active Directory и Azure Active Directory, с необязательным обратная запись некоторых атрибутов tooWorkday. 



## <a name="overview"></a>Обзор

Hello [подготовки службы Azure Active Directory пользователей](active-directory-saas-app-provisioning.md) интегрируется с hello [API отдела кадров Workday](https://community.workday.com/sites/default/files/file-hosting/productionapi/Human_Resources/v21.1/Get_Workers.html) чтобы tooprovision учетных записей пользователей. Azure AD использует это подключение tooenable hello, следующие рабочие процессы подготовки пользователя:

* **Подготовка пользователей tooActive Directory** -синхронизировать выбранные наборы пользователей из Workday в один или несколько лесов Active Directory. 

* **Подготовка пользователей только для облака tooAzure Active Directory** -гибридного пользователей, которые есть в Active Directory и Azure Active Directory можно подготовить в последнем с помощью hello [AAD Connect](connect/active-directory-aadconnect.md). Тем не менее можно подготовить пользователей, которые доступны только для облака непосредственно из Workday tooAzure Active Directory с помощью hello подготовки службы пользователей Azure AD.

* **Обратная запись электронной почты адреса tooWorkday** -подготовки службы пользователей hello Azure AD может записывать выбранные Azure AD пользователя атрибуты задней tooWorkday, такие как адрес электронной почты hello.

### <a name="scenarios-covered"></a>Рассматриваемые сценарии

подготовки поддерживаемые пользователя Azure AD hello подготовки службы рабочих процессов Hello рабочего дня пользователей позволяет автоматизировать hello следующие сценарии управления жизненным циклом отдела кадров и удостоверение:

* **Найму новых сотрудников** — при добавлении нового сотрудника tooWorkday, учетной записи пользователя автоматически создается в Active Directory и Azure Active Directory и при необходимости Office 365 и [других приложений SaaS, поддерживаемых Azure AD ](active-directory-saas-app-provisioning.md), с помощью записи задняя сторона tooWorkday адрес электронной почты hello.

* **Обновления атрибута и профиля сотрудника**. При обновлении записи сотрудника в Workday (например, имени, должности или руководителя) его учетная запись пользователя будет автоматически обновлена в Active Directory, Azure Active Directory и при необходимости в Office 365 и [других приложениях SaaS, поддерживаемых Azure AD](active-directory-saas-app-provisioning.md).

* **Увольнения сотрудников**. При увольнении сотрудника в Workday его учетная запись пользователя будет автоматически отключена в Active Directory, Azure Active Directory и при необходимости в Office 365 и [других приложениях SaaS, поддерживаемых Azure AD](active-directory-saas-app-provisioning.md).

* **Сотрудник повторно нанимает** — когда сотрудник является rehired в рабочий день, можно автоматически активировать их старой учетной записи или повторно подготовленных (в зависимости от настроек) tooActive каталог Azure Active Directory и при необходимости Office 365, [других приложений SaaS, поддерживаемых Azure AD](active-directory-saas-app-provisioning.md).


## <a name="planning-your-solution"></a>Планирование решения

Прежде чем приступить к интеграции рабочего дня, проверьте требования hello ниже и чтения hello следующие рекомендации о том, как toomatch архитектурой Active Directory и требования с помощью подготовки пользователей hello решений, предоставляемых Azure Active Каталог.

### <a name="prerequisites"></a>Предварительные требования

Hello сценарий, описанный в этом руководстве предполагается, что уже hello следующих элементов:

* Действительная подписка AD Premium P1 с правами глобального администратора.
* Клиент реализации Workday для целей тестирования и интеграции.
* Права администратора в рабочий день toocreate пользователя системы интеграции и данные о сотрудниках tootest внести изменения в целях тестирования
* Для подготовки tooActive Directory пользователей, присоединенных к домену сервере службы Windows 2012 или более — hello необходимые toohost [локальный агент синхронизации](https://go.microsoft.com/fwlink/?linkid=847801)
* [Azure AD Connect](connect/active-directory-aadconnect.md) для синхронизации между Active Directory и Azure AD.

> [!NOTE]
> Если клиент Azure AD находится в Европе, см. в разделе hello [известные проблемы](#known-issues) разделе ниже.


### <a name="solution-architecture"></a>Архитектура решения

Azure AD предоставляет широкий набор подготовки toohelp соединителей, которые решения управления жизненным циклом подготовки и удостоверений из Workday tooActive Directory, Azure AD, приложений SaaS и выше. Функций, которые можно будет использовать и как настроить hello решение будет зависеть от среды и требований вашей организации. В качестве первого шага выполните запас hello следующее число присутствует и развернуты в вашей организации.

* Сколько используется лесов Active Directory?
* Сколько используется доменов Active Directory?
* Сколько используется подразделений Active Directory?
* Сколько используется клиентов Azure Active Directory?
* Существуют ли пользователям необходимо подготовить toobe tooboth Active Directory и Azure Active Directory (например, «гибридный» пользователей)?
* Существуют ли пользователям необходимо подготовить toobe tooAzure Active Directory, но не Active Directory (например «только облако» для пользователей)?
* Нужен ли адреса электронной почты пользователя обратной записи tooWorkday toobe?

При наличии вопросов toothese ответы можно запланировать рабочего дня, подготовки развертывания с hello приводимых ниже.

#### <a name="using-provisioning-connector-apps"></a>Использование приложения соединителя подготовки

Azure Active Directory поддерживает готовые соединители подготовки для Workday и множества других приложений SaaS. 

Один соединитель подготовки взаимодействует с hello API системы одного источника и помогает подготовки данных tooa один целевой системы. Большинство подготовки соединителей, которые поддерживает Azure AD — для одного источника и целевой системы (например tooServiceNow Azure AD) и может быть настроен, просто добавляя приложение hello рассматриваемой из коллекции приложений Azure AD hello (например ServiceNow). 

Между экземплярами соединителя подготовки и экземплярами приложений в Azure AD существует связь "один к одному":

| Исходная система | Целевая система |
| ---------- | ---------- | 
| Клиент Azure AD | Приложение SaaS |


Однако при работе с Workday и Active Directory, существует несколько toobe систем исходной и целевой считается:

| Исходная система | Целевая система | Примечания |
| ---------- | ---------- | ---------- |
| Workday | Лес Active Directory | Каждый лес обрабатывается как отдельная целевая система. |
| Workday | Клиент Azure AD | Требуется только для облачных пользователей. |
| Лес Active Directory | Клиент Azure AD | Сейчас этот поток обрабатывается AAD Connect. |
| Клиент Azure AD | Workday | Для обратной записи адресов электронной почты. |

toofacilitate эти несколько рабочих процессов toomultiple исходных и целевых систем, Azure AD предоставляет несколько подготовки соединителя приложений, можно добавлять из коллекции приложений hello Azure AD.

![Коллекция приложений Azure AD](./media/active-directory-saas-workday-inbound-tutorial/WD_Gallery.PNG)

* **Workday tooActive Подготовка каталога** -это приложение упрощает подготовку учетных записей пользователей из Workday tooa одного леса Active Directory. Если имеется несколько лесов, можно добавить один экземпляр этого приложения из коллекции приложений Azure AD hello для каждого леса Active Directory, необходимые tooprovision для.

* **Workday tooAzure AD подготовки** -пока AAD Connect — hello средство, которое должно быть tooAzure пользователей Active Directory используется toosynchronize Active Directory, это приложение может использовать toofacilitate подготовку пользователей только для облака из одного tooa рабочего дня Клиент Azure Active Directory.

* **Рабочего дня обратной записи** -это приложение облегчает обратной записи адресов электронной почты пользователя из tooWorkday Azure Active Directory.

> [!TIP]
> регулярные «Рабочий день» приложение Hello используется для настройки единого входа между рабочий день и Azure Active Directory. 

Как tooset и настройка этих специальных подготовки соединителя приложений является предметом hello hello оставшихся разделах данного руководства. Какие приложения выберите tooconfigure будет зависеть от на какие системы необходимо tooprovision и сколько леса Active Directory и Azure AD, это клиентов в вашей среде.

![Обзор](./media/active-directory-saas-workday-inbound-tutorial/WD_Overview.PNG)

## <a name="configure-a-system-integration-user-in-workday"></a>Настройка пользователя системной интеграции в Workday
Они требуются учетные данные для toohello tooconnect учетной записи интеграции системы рабочего дня API отдела кадров Workday является общим требованием подготовки соединителей все hello рабочего дня. В этом разделе описывается, как toocreate системные интеграторы учетной записи в рабочий день.

> [!NOTE]
> Он возможных toobypass эту процедуру и вместо этого использовать учетную запись глобального администратора Workday hello системной интеграции учетной записью. Такой вариант подойдет для демонстраций, но не рекомендуется для рабочих развертываний.

### <a name="create-an-integration-system-user"></a>Создание пользователя системы интеграции

**toocreate пользователя системы интеграции:**

1. Войдите в клиент Workday с помощью учетной записи администратора. В hello **Workday Workbench**, введите создать пользователя в поле поиска hello и нажмите кнопку **Создание пользователя системы интеграции**. 
   
    ![Создание пользователя](./media/active-directory-saas-workday-inbound-tutorial/IC750979.png "Создание пользователя")
2. Полный hello **Создание пользователя системы интеграции** задачу, указав имя пользователя и пароль для нового пользователя системы интеграции.  
 * Оставьте hello **потребовать создать пароль при следующем входе в систему** параметр флажок снят, так как этот пользователь выполнит вход программными средствами. 
 * Оставьте hello **время ожидания сеанса в минутах** со значением по умолчанию, равное 0, что позволит блокировать сеансов пользователей hello преждевременно превышения времени ожидания. 
   
    ![Создание пользователя системы интеграции](./media/active-directory-saas-workday-inbound-tutorial/IC750980.png "Создание пользователя системы интеграции")

### <a name="create-a-security-group"></a>Создание группы безопасности
Требуется toocreate группы произвольные интеграции системы безопасности и назначить пользователя tooit hello.

**toocreate группы безопасности:**

1. Введите создайте группу безопасности в поле поиска hello и нажмите кнопку **Создание группы безопасности**. 
   
    ![Создание группы безопасности](./media/active-directory-saas-workday-inbound-tutorial/IC750981.png "Создание группы безопасности")
2. Полный hello **Создание группы безопасности** задачи.  
3. Выберите группы безопасности системы интеграции — неограниченное из hello **тип клиентской группы безопасности** раскрывающегося списка.
4. Создайте toowhich группы безопасности, члены будут добавлены явно. 
   
    ![Создание группы безопасности](./media/active-directory-saas-workday-inbound-tutorial/IC750982.png "Создание группы безопасности")

### <a name="assign-hello-integration-system-user-toohello-security-group"></a>Назначение группы безопасности toohello пользователя системы интеграции hello

**tooassign пользователя системы интеграции hello:**

1. Введите в поле поиска hello изменение группы безопасности и нажмите кнопку **изменение группы безопасности**. 
   
    ![Изменение группы безопасности](./media/active-directory-saas-workday-inbound-tutorial/IC750983.png "Изменение группы безопасности")
2. Найдите и выберите hello новой группы безопасности интеграции по имени. 
   
    ![Изменение группы безопасности](./media/active-directory-saas-workday-inbound-tutorial/IC750984.png "Изменение группы безопасности")
3. Добавьте hello новый пользователь toohello новые группы безопасности системы интеграции. 
   
    ![Группа безопасности системы](./media/active-directory-saas-workday-inbound-tutorial/IC750985.png "Группа безопасности системы")  

### <a name="configure-security-group-options"></a>Настройка параметров группы безопасности
На этом шаге будет разрешен toohello нового безопасности группы для **получить** и **поместить** операции над hello объектах, защищенных следующими политиками безопасности домена hello:

* External Account Provisioning
* Worker Data: Public Worker Reports
* Worker Data: All Positions
* Worker Data: Current Staffing Information
* Worker Data: Business Title on Worker Profile

**tooconfigure параметров группы безопасности:**

1. Введите в поле поиска hello политики безопасности домена и затем щелкните ссылку hello **политики безопасности домена для функциональной области**.  
   
    ![Политики безопасности домена](./media/active-directory-saas-workday-inbound-tutorial/IC750986.png "Политики безопасности домена")  
2. Поиск системы и выберите hello **системы** функциональной области.  Нажмите кнопку **ОК**.  
   
    ![Политики безопасности домена](./media/active-directory-saas-workday-inbound-tutorial/IC750987.png "Политики безопасности домена")  
3. В списке политик безопасности для hello функциональная область системного hello, разверните **Администрирование безопасности** и выберите политику безопасности домена hello **Подготовка внешних учетных записей**.  
   
    ![Политики безопасности домена](./media/active-directory-saas-workday-inbound-tutorial/IC750988.png "Политики безопасности домена")  
4. Нажмите кнопку **изменить разрешения**, а затем на hello **изменение разрешений**диалогового окна добавьте hello новый безопасности группы toohello список групп безопасности с **получить** и **Поместить** разрешения интеграции. 
   
    ![Изменение разрешения](./media/active-directory-saas-workday-inbound-tutorial/IC750989.png "Изменение разрешения")  
5. Повторите шаг 1 выше tooreturn toohello экран выбора функциональных областей и на этот раз поиск персонала, выберите hello **кадрами функциональной области** и нажмите кнопку **ОК**.
   
    ![Политики безопасности домена](./media/active-directory-saas-workday-inbound-tutorial/IC750990.png "Политики безопасности домена")  
6. В списке политик безопасности для hello функциональная область персонала hello, разверните **данных рабочего процесса: персонала** и повторите шаг 4 выше для каждого из оставшихся политик безопасности:

   * Worker Data: Public Worker Reports
   * Worker Data: All Positions
   * Worker Data: Current Staffing Information
   * Worker Data: Business Title on Worker Profile
   
7. Повторите шаг 1, выше tooreturn toohello экран выбора функциональных областей и на этот раз поиск **контактные данные**выберите функциональная область персонала hello и нажмите кнопку **ОК**.

8.  В списке политик безопасности для hello функциональная область персонала hello, разверните **данных рабочего процесса: контактная информация рабочих**и повторите шаг 4 выше для политики безопасности hello ниже:

    * Worker Data: рабочий адрес электронной почты

    ![Политики безопасности домена](./media/active-directory-saas-workday-inbound-tutorial/IC750991.png "Политики безопасности домена")  
    
### <a name="activate-security-policy-changes"></a>Активация изменений политики безопасности

**изменения политики безопасности tooactivate:**

1. Введите активации в поле поиска hello и щелкните ссылку hello **активация ожидающих изменений политик безопасности**. 
   
    ![Активация](./media/active-directory-saas-workday-inbound-tutorial/IC750992.png "Активация") 
2. Начало hello активация ожидающих изменений политик безопасности задач, указав комментарий в целях аудита и нажмите кнопку **ОК**. 
   
    ![Активация ожидающих изменений безопасности](./media/active-directory-saas-workday-inbound-tutorial/IC750993.png "Активация ожидающих изменений безопасности")   
3. Полный hello задачу на следующий экран приветствия, установив флажок hello **Подтверждение**, а затем нажмите кнопку **ОК**. 
   
    ![Активация ожидающих изменений безопасности](./media/active-directory-saas-workday-inbound-tutorial/IC750994.png "Активация ожидающих изменений безопасности")  

## <a name="configuring-user-provisioning-from-workday-tooactive-directory"></a>Настройка подготовки пользователей из Workday tooActive каталога
Выполните эти инструкции tooconfigure учетной записи пользователя из Workday tooeach лесу Active Directory, требует подготовки для подготовки.

### <a name="part-1-adding-hello-provisioning-connector-app-and-creating-hello-connection-tooworkday"></a>Часть 1: Добавление подготовки соединителя приложение hello и создание tooWorkday подключения hello

**tooconfigure рабочий день tooActive Подготовка каталога:**

1.  Go слишком<https://portal.azure.com>

2.  Выберите в левой навигационной панели hello, **Azure Active Directory**

3.  Щелкните **Корпоративные приложения**, а затем — **Все приложения**.

4.  Выберите **добавить приложение**и выберите hello **все** категории.

5.  Поиск **tooActive Workday подготовки каталога**и добавление этого приложения из коллекции hello.

6.  После hello добавления приложений и отображается экран сведений приложения hello, выберите **подготовки**

7.  Изменение hello **Provisioning** **режим** слишком**автоматический**

8.  Полный hello **учетные данные администратора** следующим образом:

   * **Имя пользователя администратора** — введите пользователя hello hello рабочего дня интеграции системную учетную запись, с имени домена hello клиента. **Оно должно иметь примерно следующий вид: username@contoso4**

   * **Пароль администратора —** ввод пароля hello hello учетной записи системы интеграции рабочего дня

   * **Для клиента в URL-адрес —** введите hello URL-адрес toohello рабочий день web services конечную точку для вашего клиента. Это должно выглядеть: https://wd3-impl-services1.workday.com/ccx/service/contoso4, где contoso4 заменяется на имя вашего клиента правильно и wd3 impl заменяется строку hello нужное окружение.

   * **Леса Active Directory -** hello «Name» своего леса Active Directory, возвращенные powershell командлет Get-ADForest hello. Как правило, это строка вида: *contoso.com*

   * **Контейнер Active Directory -** введите строку hello контейнер, содержащий все пользователи в вашем лесу AD. Пример: *OU=Standard Users,OU=Users,DC=contoso,DC=test*

   * **Адрес электронной почты для уведомлений** — введите адрес электронной почты и установите флажок "send email if failure occurs" (Отправлять по электронной почте в случае сбоя).

   * Нажмите кнопку hello **проверить подключение** кнопки. Если проверка подключения hello завершается успешно, нажмите кнопку hello **Сохранить** кнопку вверху hello. В случае неудачи дважды Проверьте правильность hello учетные данные в рабочий день. 

![Портал Azure](./media/active-directory-saas-workday-inbound-tutorial/WD_1.PNG)

### <a name="part-2-configure-attribute-mappings"></a>Часть 2. Настройка сопоставлений атрибутов 

В этом разделе вы настроите потоки данных пользователя из Workday в Active Directory.

1.  На вкладке подготовки hello в **сопоставления**, нажмите кнопку **tooOnPremises синхронизации рабочего дня работников**.

2.  В hello **область объекта источника** поле, можно выбрать, какие групп пользователей в Workday должен находиться в области для подготовки tooAD, путем определения набора фильтров на основе атрибутов. Hello область по умолчанию — «все пользователи в рабочий день». Примеры фильтров

   * Пример: Toousers области с идентификаторами рабочих между 1000000 и 2000000

      * Атрибут: WorkerID

      * Оператор: REGEX Match

      * Значение: (1[0–9][0–9][0–9][0–9][0–9][0–9])

   * Пример: только сотрудники, а не временные работники 

      * Атрибут: EmployeeID

      * Оператор: IS NOT NULL

3.  В hello **целевого объекта действия** поле глобально, можно фильтровать, какие действия разрешены toobe выполняется на основе Active Directory. Самыми распространенными являются **создание** и **обновление**.

4.  В hello **сопоставление атрибутов** можно определить атрибуты сопоставление атрибутов каталога tooActive отдельных рабочего дня.

5. Щелкните на существующий атрибут tooupdate сопоставления или **добавить новое сопоставление** внизу hello hello экрана tooadd новые сопоставления. Отдельное сопоставление атрибутов поддерживает следующие свойства:

      * **Тип сопоставления**

         * **Прямой** — записывает hello значение атрибута hello рабочего дня атрибут toohello AD, без изменений

         * **Константа** -записи статические, постоянное строковое значение для атрибута hello AD

         * **Выражение** — позволяет toowrite пользовательское значение для атрибута hello AD на основании одного или нескольких атрибутов рабочего дня. [Дополнительные сведения см. в статье о выражениях](active-directory-saas-writing-expressions-for-attribute-mappings.md).

      * **Исходный атрибут** -атрибут hello пользователя из Workday.

      * **Значение по умолчанию** — необязательно. Если исходный атрибут hello имеет пустое значение, hello сопоставления будет вместо этого использовать это значение.
            Наиболее распространенные конфигурации — tooleave этом пустым.

      * **Целевой атрибут** — hello атрибут пользователя в Active Directory.

      * **Сопоставления объектов с помощью этого атрибута** — ли это сопоставление можно использовать toouniquely идентификации пользователей между рабочий день и Active Directory. Это обычно устанавливается на поле идентификатора работника для рабочего дня, который обычно сопоставлен с одним из атрибутов hello идентификатор сотрудника в Active Directory.

      * **Приоритет сопоставления** — возможность указания нескольких атрибутов сопоставления. При указании нескольких атрибутов сопоставления они вычисляются в порядке, заданном в этом поле. Как только соответствие найдено, дальнейшие атрибуты сопоставления не вычисляются.

      * **Применить это сопоставление**
       
         * **Всегда** — применить это сопоставление как при создании, так и при обновлении пользователей

         * **Только при создании** — применить это сопоставление только при создании пользователей

6. Щелкните сопоставлений, toosave **Сохранить** hello верхней части раздела сопоставление атрибутов.

![Портал Azure](./media/active-directory-saas-workday-inbound-tutorial/WD_2.PNG)

**Ниже приведено несколько примеров сопоставлений атрибутов между Workday и Active Directory с некоторыми общими выражениями**.

-   Hello выражение, которое сопоставляет toohello parentDistinguishedName AD атрибута может быть используется tooprovision tooa пользователя, конкретного Подразделения на основании одного или нескольких атрибутов исходного рабочего дня. В этом примере пользователи помещаются в различные подразделения в зависимости от данных города в Workday.

-   Hello выражение, которое сопоставляет атрибут userPrincipalName AD toohello создать имя участника-пользователя из firstName.LastName@contoso.com. Оно также заменяет недопустимые специальные символы.

-   [Документацию о написании выражений см. здесь](active-directory-saas-writing-expressions-for-attribute-mappings.md).

  
| АТРИБУТ WORKDAY | АТРИБУТ ACTIVE DIRECTORY |  ИДЕНТИФИКАТОР СОПОСТАВЛЕНИЯ? | СОЗДАНИЕ ИЛИ ОБНОВЛЕНИЕ |
| ---------- | ---------- | ---------- | ---------- |
|  **WorkerID**  |  EmployeeID | **Да** | Записывается только при создании | 
|  **Municipality**   |   l   |     | Создание и обновление |
|  **Company**         | company   |     |  Создание и обновление |
|  **CountryReferenceTwoLetter**      |   co |     |   Создание и обновление |
| **CountryReferenceTwoLetter**    |  c  |     |         Создание и обновление |
| **SupervisoryOrganization**  | department  |     |  Создание и обновление |
|  **PreferredNameData**  |  displayName |     |   Создание и обновление |
| **EmployeeID**    |  cn    |   |   Записывается только при создании |
| **Fax**      | facsimileTelephoneNumber     |     |    Создание и обновление |
| **FirstName**   | givenName       |     |    Создание и обновление |
| **Switch(\[Active\], , "0", "True", "1",)** |  accountDisabled      |     | Создание и обновление |
| **Mobile**  |    mobile       |     |       Записывается только при создании |
| **EmailAddress**    | mail    |     |     Создание и обновление |
| **ManagerReference**   | manager  |     |  Создание и обновление |
| **WorkSpaceReference** | physicalDeliveryOfficeName    |     |  Создание и обновление |
| **PostalCode**  |   postalCode  |     | Создание и обновление |
| **LocalReference** |  preferredLanguage  |     |  Создание и обновление |
| **Replace(Mid(Replace(\[EmployeeID\], , "(\[\\\\/\\\\\\\\\\\\\[\\\\\]\\\\:\\\\;\\\\|\\\\=\\\\,\\\\+\\\\\*\\\\?\\\\&lt;\\\\&gt;\])", , "", , ), 1, 20), , "([\\\\.)\*\$](file:///\\.)*$)", , "", , )**      |    sAMAccountName            |     |         Записывается только при создании |
| **LastName**   |   sn   |     |  Создание и обновление |
| **CountryRegionReference** |  st     |     | Создание и обновление |
| **AddressLineData**    |  streetAddress  |     |   Создание и обновление |
| **PrimaryWorkTelephone**  |  TelephoneNumber   |     | Записывается только при создании |
| **BusinessTitle**   |  title     |     |  Создание и обновление |
| **Join("@",Replace(Replace(Replace(Replace(Replace(Replace(Replace( Replace(Replace(Replace(Replace(Replace(Replace(Replace(Replace( Replace(Replace(Replace(Replace(Replace(Replace(Replace(Replace(Replace(Replace(Replace(Replace(Replace(Join(".", [FirstName], [LastName]), , "([Øø])", , "oe", , ), , "[Ææ]", , "ae", , ), , "([äãàâãåáąÄÃÀÂÃÅÁĄA])", , "a", , ), , "([B])", , "b", , ), , "([CçčćÇČĆ])", , "c", , ), , "([ďĎD])", , "d", , ), , "([ëèéêęěËÈÉÊĘĚE])", , "e", , ), , "([F])", , "f", , ), , "([G])", , "g", , ), , "([H])", , "h", , ), , "([ïîìíÏÎÌÍI])", , "i", , ), , "([J])", , "j", , ), , "([K])", , "k", , ), , "([ľłŁĽL])", , "l", , ), , "([M])", , "m", , ), , "([ñńňÑŃŇN])", , "n", , ), , "([öòőõôóÖÒŐÕÔÓO])", , "o", , ), , "([P])", , "p", , ), , "([Q])", , "q", , ), , "([řŘR])", , "r", , ), , "([ßšśŠŚS])", , "s", , ), , "([TŤť])", , "t", , ), , "([üùûúůűÜÙÛÚŮŰU])", , "u", , ), , "([V])", , "v", , ), , "([W])", , "w", , ), , "([ýÿýŸÝY])", , "y", , ), , "([źžżŹŽŻZ])", , "z", , ), " ", , , "", , ), "contoso.com")**   | userPrincipalName     |     | Создание и обновление                                                   
| **Switch(\[Municipality\], "OU=Standard Users,OU=Users,OU=Default,OU=Locations,DC=contoso,DC=com", "Dallas", "OU=Standard Users,OU=Users,OU=Dallas,OU=Locations,DC=contoso,DC=com", "Austin", "OU=Standard Users,OU=Users,OU=Austin,OU=Locations,DC=contoso,DC=com", "Seattle", "OU=Standard Users,OU=Users,OU=Seattle,OU=Locations,DC=contoso,DC=com", “London", "OU=Standard Users,OU=Users,OU=London,OU=Locations,DC=contoso,DC=com")**  | parentDistinguishedName     |     |  Создание и обновление |
  
### <a name="part-3-configure-hello-on-premises-synchronization-agent"></a>Часть 3: Настройка агента синхронизации локальной hello

В порядке tooprovision tooActive каталог локально агент должен устанавливаться на присоединенных к домену сервере в hello желания леса Active Directory. (Администратора домена или предприятия) учетные данные необходимы для завершения процедуры hello.

**[Можно загрузить агент синхронизации локальной hello здесь](https://go.microsoft.com/fwlink/?linkid=847801)**

После установки агента, выполните команды Powershell hello ниже tooconfigure hello агента для вашей среды.

**Команда 1**

> cd C:\\Program Files\\Microsoft Azure Active Directory Synchronization Agent\\Modules\\AADSyncAgent

> import-module AADSyncAgent.psd1

**Команда 2**

> Add-ADSyncAgentActiveDirectoryConfiguration

* Входные данные: «Directory Name», введите имя леса hello AD, как при вводе частично \#2
* Входные данные: имя и пароль администратора для леса Active Directory.

**Команда 3**

> Add-ADSyncAgentAzureActiveDirectoryConfiguration

* Входные данные: имя и пароль глобального администратора для вашего клиента Azure AD.

**Команда 4**

> Get-AdSyncAgentProvisioningTasks

* Действие: проверка возвращения данных. Эта команда автоматически обнаруживает приложения подготовки Workday в клиенте Azure AD. Выходные данные примера:

> Name: My AD Forest
>
> Enabled: True
>
> DirectoryName: mydomain.contoso.com
>
> Credentialed: False
>
> Identifier: WDAYdnAppDelta.c2ef8d247a61499ba8af0a29208fb853.4725aa7b-1103-41e6-8929-75a5471a5203

**Команда 5**

> Start-AdSyncAgentSynchronization -Automatic

**Команда 6**

> net stop aadsyncagent

**Команда 7**

> net start aadsyncagent

### <a name="part-4-start-hello-service"></a>Часть 4: Запуск службы hello
После завершения части 1 – 3 можно запустить hello подготовки службы, вернитесь на портал управления Azure hello.

1.  В hello **Provisioning** вкладка, набор hello **состояние подготовки** для **на**.

2. Щелкните **Сохранить**.

3. Эта команда запустит hello начальной синхронизации, который может принимать переменное число часов в зависимости от того, сколько пользователей, в рабочий день.

4. Синхронизации отдельные события, например какие пользователи считываются из рабочего дня, а затем впоследствии добавленное или обновленное tooActive каталога, могут просматриваться в hello **журналы аудита** вкладки. **[В разделе подготовки руководство по отчетам подробные инструкции о том, как tooread hello журналы аудита, hello](active-directory-saas-provisioning-reporting.md)**

5.  журнал приложений Windows Hello на компьютере агента hello покажет все операции, выполняемые через агента hello.

6. После завершения на вкладке **Подготовка** будет создан сводный отчет аудита, как показано ниже.

![Портал Azure](./media/active-directory-saas-workday-inbound-tutorial/WD_3.PNG)


## <a name="configuring-user-provisioning-tooazure-active-directory"></a>Настройка подготовки tooAzure Active Directory пользователей
Как настроить tooAzure подготовки Active Directory будет зависеть от требований к инициализации, как описано в следующей таблице hello.

| Сценарий | Решение |
| -------- | -------- |
| **Пользователи должны подготовить toobe tooActive Directory и Azure AD** | Используйте **[AAD Connect](connect/active-directory-aadconnect.md)**. |
| **Пользователи должны подготовить toobe tooActive каталога только** | Используйте **[AAD Connect](connect/active-directory-aadconnect.md)**. |
| **Пользователи должны подготовить toobe tooAzure AD только (облако только)** | Используйте hello **подготовки Active Directory tooAzure рабочий день** приложения в коллекции приложений hello |

Инструкции по настройке Azure AD Connect см. в разделе hello [документации по Azure AD Connect](connect/active-directory-aadconnect.md).

Hello в следующих разделах описаны Настройка подключения между рабочий день и Azure AD tooprovision только для облака.

> [!IMPORTANT]
> Только при наличии только для облака пользователей, которым требуется подготовить toobe tooAzure AD и локальной Active Directory, выполните описанную ниже процедуру hello.

### <a name="part-1-adding-hello-azure-ad-provisioning-connector-app-and-creating-hello-connection-tooworkday"></a>Часть 1: Добавление соединителя приложение hello Azure AD для подготовки и создание tooWorkday подключения hello

**tooconfigure рабочий день tooAzure Active Directory Подготовка пользователей только в облаке:**

1.  Go слишком<https://portal.azure.com>.

2.  Выберите в левой навигационной панели hello, **Azure Active Directory**

3.  Щелкните **Корпоративные приложения**, а затем — **Все приложения**.

4.  Выберите **добавить приложение**, а затем выберите hello **все** категории.

5.  Поиск **Workday tooAzure AD подготовки**и добавление этого приложения из коллекции hello.

6.  После hello добавления приложений и отображается экран сведений приложения hello, выберите **подготовки**

7.  Изменение hello **Provisioning** **режим** слишком**автоматический**

8.  Полный hello **учетные данные администратора** следующим образом:

   * **Имя пользователя администратора** — введите пользователя hello hello рабочего дня интеграции системную учетную запись, с имени домена hello клиента. Оно должно иметь примерно следующий вид: username@contoso4

   * **Пароль администратора —** ввод пароля hello hello учетной записи системы интеграции рабочего дня

   * **Для клиента в URL-адрес —** введите hello URL-адрес toohello рабочий день web services конечную точку для вашего клиента. Это должно выглядеть: https://wd3-impl-services1.workday.com/ccx/service/contoso4, где contoso4 заменяется на имя вашего клиента правильно и wd3 impl заменяется строку hello нужное окружение (при необходимости).

   * **Адрес электронной почты для уведомлений** — введите адрес электронной почты и установите флажок "send email if failure occurs" (Отправлять по электронной почте в случае сбоя).

   * Нажмите кнопку hello **проверить подключение** кнопки.

   * Если проверка подключения hello завершается успешно, нажмите кнопку hello **Сохранить** кнопку вверху hello. В случае неудачи следует внимательно, hello рабочего дня URL-адрес и учетные данные допустимы в рабочий день.


### <a name="part-2-configure-attribute-mappings"></a>Часть 2. Настройка сопоставлений атрибутов 

В этом разделе вы настроите потоки данных пользователя из Workday в Active Directory только для облачных пользователей.

1.  На вкладке подготовки hello в **сопоставления**, нажмите кнопку **tooAzure работников синхронизации AD**.

2.   В hello **область объекта источника** поле, можно выбрать, какие групп пользователей в Workday должен находиться в области для подготовки tooAzure AD, путем определения набора фильтров на основе атрибутов. Hello область по умолчанию — «все пользователи в рабочий день». Примеры фильтров

   * Пример: Toousers области с идентификаторами рабочих между 1000000 и 2000000

      * Атрибут: WorkerID

      * Оператор: REGEX Match

      * Значение: (1[0–9][0–9][0–9][0–9][0–9][0–9])

   * Пример: только временные работники, а не сотрудники

      * Атрибут: ContingentID

      * Оператор: IS NOT NULL

3.  В hello **целевого объекта действия** поле глобально, можно фильтровать, какие действия разрешены toobe выполняется в Azure AD. Самыми распространенными являются **создание** и **обновление**.

4.  В hello **сопоставление атрибутов** можно определить атрибуты сопоставление атрибутов каталога tooActive отдельных рабочего дня.

5. Щелкните на существующий атрибут tooupdate сопоставления или **добавить новое сопоставление** внизу hello hello экрана tooadd новые сопоставления. Отдельное сопоставление атрибутов поддерживает следующие свойства:

   * **Тип сопоставления**

      * **Прямой** — записывает hello значение атрибута hello рабочего дня атрибут toohello AD, без изменений

      * **Константа** -записи статические, постоянное строковое значение для атрибута hello AD

      * **Выражение** — позволяет toowrite пользовательское значение для атрибута hello AD на основании одного или нескольких атрибутов рабочего дня. [Дополнительные сведения см. в статье о выражениях](active-directory-saas-writing-expressions-for-attribute-mappings.md).

   * **Исходный атрибут** -атрибут hello пользователя из Workday.

   * **Значение по умолчанию** — необязательно. Если исходный атрибут hello имеет пустое значение, hello сопоставления будет вместо этого использовать это значение.
            Наиболее распространенные конфигурации — tooleave этом пустым.

   * **Целевой атрибут** — hello атрибут пользователя в Azure AD.

   * **Сопоставления объектов с помощью этого атрибута** — ли это сопоставление можно использовать toouniquely идентификации пользователей между рабочий день и Azure AD. Это обычно устанавливается на поле идентификатора работника для рабочего дня, которое обычно сопоставляется атрибут Employee ID hello (новый) или расширение атрибута в Azure AD.

   * **Приоритет сопоставления** — возможность указания нескольких атрибутов сопоставления. При указании нескольких атрибутов сопоставления они вычисляются в порядке, заданном в этом поле. Как только соответствие найдено, дальнейшие атрибуты сопоставления не вычисляются.

   * **Применить это сопоставление**

     * **Всегда** — применить это сопоставление как при создании, так и при обновлении пользователей

     * **Только при создании** — применить это сопоставление только при создании пользователей

6. Щелкните сопоставлений, toosave **Сохранить** hello верхней части раздела сопоставление атрибутов.

### <a name="part-3-start-hello-service"></a>Часть 3: Запуск службы hello
После завершения части 1 – 2 можно запустить hello подготовки службы.

1.  В hello **Provisioning** вкладка, набор hello **состояние подготовки** для **на**.

2. Щелкните **Сохранить**.

3. Эта команда запустит hello начальной синхронизации, который может принимать переменное число часов в зависимости от того, сколько пользователей, в рабочий день.

4. Синхронизация отдельные события можно просмотреть в hello **журналы аудита** вкладки. **[В разделе подготовки руководство по отчетам подробные инструкции о том, как tooread hello журналы аудита, hello](active-directory-saas-provisioning-reporting.md)**

5. После завершения на вкладке **Подготовка** будет создан сводный отчет аудита, как показано ниже.


## <a name="configuring-writeback-of-email-addresses-tooworkday"></a>Настройка обратной записи для tooWorkday адреса электронной почты
Выполните эти обратной записи tooconfigure инструкции адресов электронной почты пользователей из Azure Active Directory tooWorkday.

### <a name="part-1-adding-hello-provisioning-connector-app-and-creating-hello-connection-tooworkday"></a>Часть 1: Добавление подготовки соединителя приложение hello и создание tooWorkday подключения hello

**tooconfigure рабочий день tooActive Подготовка каталога:**

1.  Go слишком<https://portal.azure.com>

2.  Выберите в левой навигационной панели hello, **Azure Active Directory**

3.  Щелкните **Корпоративные приложения**, а затем — **Все приложения**.

4.  Выберите **добавить приложение**, а затем выберите hello **все** категории.

5.  Поиск **обратной записи Workday**и добавление этого приложения из коллекции hello.

6.  После hello добавления приложений и отображается экран сведений приложения hello, выберите **подготовки**

7.  Изменение hello **Provisioning** **режим** слишком**автоматический**

8.  Полный hello **учетные данные администратора** следующим образом:

   * **Имя пользователя администратора** — введите пользователя hello hello рабочего дня интеграции системную учетную запись, с имени домена hello клиента. Оно должно иметь примерно следующий вид: username@contoso4

   * **Пароль администратора —** ввод пароля hello hello учетной записи системы интеграции рабочего дня

   * **Для клиента в URL-адрес —** введите hello URL-адрес toohello рабочий день web services конечную точку для вашего клиента. Это должно выглядеть: https://wd3-impl-services1.workday.com/ccx/service/contoso4, где contoso4 заменяется на имя вашего клиента правильно и wd3 impl заменяется строку hello нужное окружение (при необходимости).

   * **Адрес электронной почты для уведомлений** — введите адрес электронной почты и установите флажок "send email if failure occurs" (Отправлять по электронной почте в случае сбоя).

   * Нажмите кнопку hello **проверить подключение** кнопки. Если проверка подключения hello завершается успешно, нажмите кнопку hello **Сохранить** кнопку вверху hello. В случае неудачи следует внимательно, hello рабочего дня URL-адрес и учетные данные допустимы в рабочий день.


### <a name="part-2-configure-attribute-mappings"></a>Часть 2. Настройка сопоставлений атрибутов 


В этом разделе вы настроите потоки данных пользователя из Workday в Active Directory.

1.  На вкладке подготовки hello в **сопоставления**, нажмите кнопку **tooWorkday пользователей синхронизации Azure AD**.

2.  В hello **область объекта источника** поля, при необходимости можно фильтровать какие групп пользователей в Azure Active Directory должны адреса электронной почты записаны tooWorkday. Hello область по умолчанию — «все пользователи в Azure AD». 

3.  В hello **сопоставление атрибутов** можно определить атрибуты сопоставление атрибутов каталога tooActive отдельных рабочего дня. Отсутствует сопоставление для hello адрес электронной почты по умолчанию. Тем не менее соответствующим Идентификатором hello необходимо обновленные toomatch пользователей в Azure AD с их соответствующие записи в рабочий день. Популярные соответствующий метод — идентификатор рабочего дня toosynchronize hello или сотрудника идентификатор tooextensionAttribute1-15 в Azure AD, а затем использовать этот атрибут в Azure AD пользователи toomatch обратно в рабочий день.

4.  Щелкните сопоставлений, toosave **Сохранить** вверху hello hello сопоставление атрибута раздела.

### <a name="part-3-start-hello-service"></a>Часть 3: Запуск службы hello
После завершения части 1 – 2 можно запустить hello подготовки службы.

1.  В hello **Provisioning** вкладка, набор hello **состояние подготовки** для **на**.

2. Щелкните **Сохранить**.

3. Эта команда запустит hello начальной синхронизации, который может принимать переменное число часов в зависимости от того, сколько пользователей, в рабочий день.

4. Синхронизация отдельные события можно просмотреть в hello **журналы аудита** вкладки. **[В разделе подготовки руководство по отчетам подробные инструкции о том, как tooread hello журналы аудита, hello](active-directory-saas-provisioning-reporting.md)**

5. После завершения на вкладке **Подготовка** будет создан сводный отчет аудита, как показано ниже.

## <a name="known-issues"></a>Известные проблемы

* **Журналы в европейских языковых аудита** — как hello выпуска этой версии technical preview, существует известная проблема с hello [журналы аудита](active-directory-saas-provisioning-reporting.md) для соединителя приложения hello рабочего дня, не появляются в hello [портал Azure](https://portal.azure.com) Если hello Azure AD клиента находится в центре обработки данных в Европе. Решение этой проблемы будет выпущено позже. Проверьте это пространство снова в hello рядом будущих обновлений. 

## <a name="additional-resources"></a>Дополнительные ресурсы
* [Учебник. Настройка единого входа между Workday и Azure Active Directory](active-directory-saas-workday-tutorial.md)
* [Список учебников по tooIntegrate приложений SaaS в Azure Active Directory](active-directory-saas-tutorial-list.md)
* [Что такое доступ к приложениям и единый вход с помощью Azure Active Directory?](active-directory-appssoaccess-whatis.md)

## <a name="next-steps"></a>Дальнейшие действия

* [Узнайте, каким образом ведет журнал tooreview и получать отчеты о действиях по подготовке](https://docs.microsoft.com/azure/active-directory/active-directory-saas-provisioning-reporting)
