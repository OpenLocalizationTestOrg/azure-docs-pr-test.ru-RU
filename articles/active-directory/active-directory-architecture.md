---
title: "Архитектура Azure Active Directory aaaUnderstand | Документы Microsoft"
description: "Объясняется, что такое клиент Azure AD и как toomanage Azure через Azure Active Directory"
services: active-directory
documentationcenter: 
author: MarkusVi
writer: v-lorisc
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 08/02/2017
ms.author: markvi
ms.openlocfilehash: 799943c012dcc309907ed3c36372038a0aad222a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="understand-azure-active-directory-architecture"></a>Общие сведения об архитектуре Azure Active Directory
Azure Active Directory (Azure AD) позволяет управлять toosecurely вы tooAzure доступ к службам и ресурсам для пользователей. а также содержит полный набор возможностей управления удостоверениями. Дополнительные сведения о возможностях Azure AD см. в статье [Что такое Microsoft Azure Active Directory](https://docs.microsoft.com/en-us/azure/active-directory/active-directory-whatis).

С Azure AD можно создать и управление пользователями и группами и включить tooallow разрешения и запрета доступа tooenterprise ресурсов. Сведения об управлении идентификаторов см. в разделе [hello основные принципы управления идентификации Azure](https://docs.microsoft.com/en-us/azure/active-directory/fundamentals-identity).

## <a name="azure-ad-architecture"></a>Архитектура Azure AD
Географически распределенная архитектура Azure AD, который включает подробный тип мониторинга, автоматического перенаправления, переход на другой ресурс и возможности восстановления можно было toodeliver корпоративного уровня доступности и производительности tooour клиентов.

в этой статье рассматриваются следующие элементы архитектуры Hello.
 *  Схема архитектуры службы
 *  Масштабируемость 
 *  постоянная доступность;
 *  центры обработки данных.

### <a name="service-architecture-design"></a>Схема архитектуры службы
Hello масштабируемые, высокодоступные, большим количеством данных система работает через независимых стандартных блоков или единиц масштабирования для уровня данных hello Azure AD наиболее распространенные toobuild способом, называются единиц масштабирования *секций*. 

уровень данных Hello имеет несколько служб переднего плана, которые обеспечивают возможность чтения и записи. Hello приведенной ниже схеме показано, как компоненты hello раздела каталога одного распределяются на протяжении территориально distrubuted центрах обработки данных. 

  ![Разделы каталога](./media/active-directory-architecture/active-directory-architecture.png)

компоненты Hello архитектура Azure AD включают первичной и вторичной репликами.

**Первичная реплика**

Hello *первичная реплика* получает все *записывает* для hello секции, она принадлежит. Все операции записи немедленно реплицированных tooa вторичная реплика в другом центре обработки данных перед возвратом вызывающего toohello успех, обеспечивая географически избыточная надежность записи.

**Вторичные реплики**

Все операции *чтения* в каталоге обрабатываются на *вторичных репликах*, расположенных в центрах обработки данных в разных географических регионах. Данные реплицируются асинхронно, поэтому вы можете иметь большое количество вторичных реплик. Чтение каталога, такие как запросы проверки подлинности, обслуживаются из центров обработки данных, которые являются клиентами закрыть tooour. вторичные реплики Hello отвечают за масштабируемости чтения.

### <a name="scalability"></a>Масштабируемость

Масштабируемость — это способность hello увеличивают производительность toomeet tooexpand службы. Записи масштабируемость достигается за счет секционирование данных hello. Масштабируемость чтения достигается за счет репликации данных из одной секции toomultiple вторичных реплик распределяются Здравствуй, мир.

Запросы из каталога приложений — обычно перенаправленное toohello центра обработки данных, что они физически ближайший к. Запись производится согласованности чтения и записи tooprovide первичная реплика прозрачно перенаправленный toohello. Вторичных реплик значительно расширить масштаб hello секций, так как каталоги hello обычно считывает обслуживанием большую часть времени hello.

Каталог приложения подключаются toohello ближайшего центрах обработки данных. Это повышает производительность и, следовательно, предоставляет возможности масштабирования. Поскольку раздел каталога может иметь несколько вторичных реплик, вторичные реплики могут размещаться ближе toohello directory клиентов. Только внутренний каталог компоненты служб, непосредственно целевой интенсивной записью hello active первичной реплики.

### <a name="continuous-availability"></a>Постоянная доступность

Доступность (или время работы) определяет возможность hello непрерывного tooperform системы. Hello ключа tooAzure AD высокого уровня доступности — быстро сдвига трафика между несколькими центрами обработки данных, географически распределенными наших служб. Каждый центр обработки данных является независимым, благодаря чему режимы сбоя не коррелируют.

Проектирование разделов Azure AD — упрощенный сравниваемых toohello enterprise разработки AD, что очень важно для вертикальное масштабирование системы hello. Мы внедрили архитектуру с одной первичной репликой, которая включает тщательно организованный и детерминированный процесс отработки отказа первичной реплики.

**Отказоустойчивость**

Система работает более доступны, если это нечувствительный к ошибкам сбоев toohardware, сети и программного обеспечения. Для каждой секции в каталоге hello существует высокой доступности реплику: hello первичной реплики. Только секции toohello операции записи выполняются в этой реплике. Реплика постоянно отслеживается, а сами могут быть немедленно смещенные tooanother реплики (которая становится hello новой первичной) при обнаружении ошибки. Во время отработки отказа доступность для записи может быть потеряна на 1–2 минуты. Эта операция не влияет на доступность для чтения.

Операций чтения (которые много порядков раз превышает количество операций записи), идут только toosecondary реплик. Вторичные реплики являются идемпотентными, потере любой одной реплики в данной секции легко компенсированы, направляя реплики tooanother hello операций чтения, обычно в hello одного центра обработки данных.

**Устойчивость данных**

Запись — устойчивую запись всех зафиксированных tooat как минимум два данных центры предыдущих tooit подтверждаемого. Это происходит, сначала фиксации записи hello на основной hello, а затем немедленно реплицировать tooat записи hello как минимум один другой центр обработки данных. Это гарантирует, что о потенциальном необратимой потерей hello данных center размещения hello основной не приводит к потере данных.

Azure AD хранит ноль [цель времени восстановления (RTO)](https://en.wikipedia.org/wiki/Recovery_time_objective) для выдачи маркера и каталога операций чтения и в порядке hello минут (пять минут) RTO для каталога записи. Мы также поддерживаем нулевое значение [RPO](https://en.wikipedia.org/wiki/Recovery_point_objective), что позволяет обеспечить сохранность данных во время отработок отказа.

### <a name="data-centers"></a>Центры обработки данных

Azure AD реплики хранятся в центрах обработки данных, расположенных на территории Здравствуй, мир. Дополнительные сведения см. в статье [Центры обработки данных Azure](https://azure.microsoft.com/en-us/overview/datacenters).

Azure AD работает в центрах обработки данных с hello следующие характеристики:

 * Проверки подлинности, диаграммы и другие службы AD защищенным hello службы шлюза. Hello шлюза обеспечивают балансировку нагрузки этих служб. При обнаружении неработоспособных серверов с использованием транзакционных проб работоспособности он автоматически выполняет отработку отказа. На основании зонды работоспособности, hello шлюза динамически направляет трафик центров обработки данных toohealthy.
 * Для *считывает*, hello каталог имеет вторичные реплики и соответствующими службами для переднего плана в конфигурации активный активный, работающие в нескольких центрах обработки данных. В случае сбоя весь центр обработки данных трафик будет автоматически перенаправленное tooa другом центре обработки данных.
 *  Для *записывает*, hello каталог будет переход на другой ресурс (Главная) первичной центрах обработки данных через запланированный (новом сервере-источнике — синхронизированные tooold первичный) или процедуры аварийного отработки отказа. Надежность данных достигается за счет репликации все центры обработки данных tooat как минимум два фиксации.

**Согласованность данных**

Hello directory модели является одним из окончательной согласованности. Типичные неполадки распределенных систем асинхронно репликации — что hello данными, полученными от «определенной» реплики может оказаться вверх toodate. 

Azure AD обеспечивает согласованность операций чтения и записи для приложений, предназначенных для вторичной реплики по Маршрутизация первичная реплика записывает toohello и извлечение hello синхронно записывает toohello вторичной реплики.

Приложение записывает с помощью hello абстрагированы Graph API Azure AD от сохранения сходства tooa directory реплики для обеспечения согласованности чтения и записи. Hello службы Azure AD Graph поддерживает логический сеанс, сопоставление tooa вторичной реплики, используемый для чтения; сопоставление записывается «реплики маркер «hello кэши службы graph с помощью распределенного кэша. Затем этот маркер используется для последующих операций в hello же логический сеанс. 

 >[!NOTE]
 >Записи реплицируются немедленно были выданы toohello вторичная реплика toowhich hello логический сеанс операции чтения.
 >

**Резервное копирование**

каталог Hello реализует обратимых удалений, вместо жесткого удаления, для пользователей и клиентов для легкого восстановления в случае случайного удаления клиентом. Если администратору клиента случайно удаляет пользователей, их легко можно отменить и восстановить hello удалить пользователей. 

Azure AD выполняет ежедневное резервное копирование всех данных и поэтому может принудительно восстановить данные в случае их логического удаления или повреждения. На нашем уровне данных применяются коды исправления ошибок. Это позволяет проверять наличие ошибок и автоматически исправлять определенные типы ошибок диска.

**Метрики и мониторы**

Для выполнения службы с высоким уровнем доступности требуются метрики и возможности мониторинга мирового уровня. Azure AD постоянно анализирует метрики работоспособности основных служб и предоставляет сведения о них, а также о критериях успешной работы каждой из этих служб. Мы постоянно разрабатываем и настраиваем метрики, возможности мониторинга и создания оповещений для каждого сценария в каждой службе Azure AD и во всех остальных службах.

Если любая служба Azure AD не работает должным образом, мы сразу функциональность toorestore действие как можно быстрее. Здравствуйте, наиболее важные отслеживает показатель Azure AD, насколько быстро мы можно обнаружить и устранить клиента или live проблема сайта. Мы инвестиций сильно в мониторинг и оповещения toominimize время toodetect (TTD целевой: < 5 минут) и оперативной готовности toominimize время toomitigate (целевой TTM: < 30 минут).

**Защита операций**

Мы используем операционные элементы управления, такие как Многофакторная идентификация (MFA), для всех операций, а также ведем аудит всех операций. Кроме того мы используем just-in-time повышение toogrant необходимые временный доступ к системе для любой рабочей задачи по требованию на постоянной основе. Дополнительные сведения см. в разделе [hello доверенные облака](https://azure.microsoft.com/en-us/support/trust-center).

## <a name="next-steps"></a>Дальнейшие действия
[Руководство разработчика по Azure Active Directory](https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-developers-guide)

