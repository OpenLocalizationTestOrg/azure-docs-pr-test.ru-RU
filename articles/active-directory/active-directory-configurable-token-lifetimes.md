---
title: "aaaConfigurable времени жизни токенов в Azure Active Directory | Документы Microsoft"
description: "Узнайте, как время жизни tooset для маркеров, выданного Azure AD."
services: active-directory
documentationcenter: 
author: billmath
manager: femila
editor: 
ms.assetid: 06f5b317-053e-44c3-aaaa-cf07d8692735
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/20/2017
ms.author: billmath
ms.custom: aaddev
ms.reviewer: anchitn
ms.openlocfilehash: 0d4c8545981c5463cc7c95f669167bbc38230123
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="configurable-token-lifetimes-in-azure-active-directory-public-preview"></a><span data-ttu-id="d5fc3-103">Настройка времени жизни маркеров в Azure Active Directory (общедоступная предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-103">Configurable token lifetimes in Azure Active Directory (Public Preview)</span></span>
<span data-ttu-id="d5fc3-104">Можно указать время существования hello маркер, выданный службой Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-104">You can specify hello lifetime of a token issued by Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="d5fc3-105">Время жизни маркеров можно настроить для всех приложений в организации, для многопользовательского приложения (приложения для нескольких организаций) или для определенного субъекта-службы в организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-105">You can set token lifetimes for all apps in your organization, for a multi-tenant (multi-organization) application, or for a specific service principal in your organization.</span></span>

> [!NOTE]
> <span data-ttu-id="d5fc3-106">Эта функция сейчас предоставляется в режиме общедоступной предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-106">This capability currently is in Public Preview.</span></span> <span data-ttu-id="d5fc3-107">Подготовить toorevert или отмените все изменения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-107">Be prepared toorevert or remove any changes.</span></span> <span data-ttu-id="d5fc3-108">функция Hello доступна в подписках Azure Active Directory предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-108">hello feature is available in any Azure Active Directory subscription during Public Preview.</span></span> <span data-ttu-id="d5fc3-109">Однако при hello функция станет общедоступной, некоторые аспекты hello компонентов может потребоваться [Azure Active Directory Premium](active-directory-get-started-premium.md) подписки.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-109">However, when hello feature becomes generally available, some aspects of hello feature might require an [Azure Active Directory Premium](active-directory-get-started-premium.md) subscription.</span></span>
>
>

<span data-ttu-id="d5fc3-110">В Azure AD объект политики представлен набором правил, которые применяются к отдельным приложениям или ко всем приложениям в организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-110">In Azure AD, a policy object represents a set of rules that are enforced on individual applications or on all applications in an organization.</span></span> <span data-ttu-id="d5fc3-111">Каждый тип политики имеет структуру уникальный набор свойств, которые будут применяться tooobjects toowhich, они назначаются.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-111">Each policy type has a unique structure, with a set of properties that are applied tooobjects toowhich they are assigned.</span></span>

<span data-ttu-id="d5fc3-112">Политики можно назначить в качестве политики по умолчанию hello для вашей организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-112">You can designate a policy as hello default policy for your organization.</span></span> <span data-ttu-id="d5fc3-113">политика Hello — примененных tooany приложений в организации hello, до тех пор, пока оно не переопределено политики с более высоким приоритетом.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-113">hello policy is applied tooany application in hello organization, as long as it is not overridden by a policy with a higher priority.</span></span> <span data-ttu-id="d5fc3-114">Можно также назначить toospecific политики приложений.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-114">You also can assign a policy toospecific applications.</span></span> <span data-ttu-id="d5fc3-115">порядок приоритетов Hello зависит от типа политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-115">hello order of priority varies by policy type.</span></span>


## <a name="token-types"></a><span data-ttu-id="d5fc3-116">Типы маркеров</span><span class="sxs-lookup"><span data-stu-id="d5fc3-116">Token types</span></span>

<span data-ttu-id="d5fc3-117">Политики времени жизни маркера можно настроить для маркеров обновления, маркеров доступа, маркеров сеансов и маркеров идентификации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-117">You can set token lifetime policies for refresh tokens, access tokens, session tokens, and ID tokens.</span></span>

### <a name="access-tokens"></a><span data-ttu-id="d5fc3-118">Маркеры доступа</span><span class="sxs-lookup"><span data-stu-id="d5fc3-118">Access tokens</span></span>
<span data-ttu-id="d5fc3-119">Доступ клиентов используйте маркеры tooaccess защищенному ресурсу.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-119">Clients use access tokens tooaccess a protected resource.</span></span> <span data-ttu-id="d5fc3-120">Маркер доступа можно использовать только для конкретного сочетания пользователя, клиентского приложения и ресурса.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-120">An access token can be used only for a specific combination of user, client, and resource.</span></span> <span data-ttu-id="d5fc3-121">Маркеры доступа не могут быть отозваны. Они действуют до истечения срока своего действия.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-121">Access tokens cannot be revoked and are valid until their expiry.</span></span> <span data-ttu-id="d5fc3-122">Вредоносный субъект, получивший маркер доступа, сможет использовать его на протяжении всего времени жизни.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-122">A malicious actor that has obtained an access token can use it for extent of its lifetime.</span></span> <span data-ttu-id="d5fc3-123">Корректировка времени существования hello доступа токен компромисс между повышения производительности системы и увеличение hello количество времени, hello клиент сохраняет доступ после отключения учетной записи пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-123">Adjusting hello lifetime of an access token is a trade-off between improving system performance and increasing hello amount of time that hello client retains access after hello user’s account is disabled.</span></span> <span data-ttu-id="d5fc3-124">Улучшенной производительностью достигается за счет уменьшения hello количество раз, клиент должен tooacquire маркер доступа новую.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-124">Improved system performance is achieved by reducing hello number of times a client needs tooacquire a fresh access token.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="d5fc3-125">Маркеры обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-125">Refresh tokens</span></span>
<span data-ttu-id="d5fc3-126">Когда клиент получает маркер tooaccess доступа к защищенному ресурсу, hello клиент получает токен обновления и маркер доступа.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-126">When a client acquires an access token tooaccess a protected resource, hello client receives both a refresh token and an access token.</span></span> <span data-ttu-id="d5fc3-127">токен обновления Hello — новые пары токенов используется tooobtain доступа или обновления, после истечения срока действия текущего маркера доступа hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-127">hello refresh token is used tooobtain new access/refresh token pairs when hello current access token expires.</span></span> <span data-ttu-id="d5fc3-128">Токен обновления — сочетание связанных tooa пользователя и клиента.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-128">A refresh token is bound tooa combination of user and client.</span></span> <span data-ttu-id="d5fc3-129">Токен обновления могут быть отменены и допустимость hello маркер проверяется каждый раз используется токен hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-129">A refresh token can be revoked, and hello token's validity is checked every time hello token is used.</span></span>

<span data-ttu-id="d5fc3-130">Это важные toomake различие между конфиденциальных клиентов и открытый.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-130">It's important toomake a distinction between confidential clients and public clients.</span></span> <span data-ttu-id="d5fc3-131">Дополнительные сведения о различных типах клиентов см. в разделе [RFC 6749](https://tools.ietf.org/html/rfc6749#section-2.1).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-131">For more information about different types of clients, see [RFC 6749](https://tools.ietf.org/html/rfc6749#section-2.1).</span></span>

#### <a name="token-lifetimes-with-confidential-client-refresh-tokens"></a><span data-ttu-id="d5fc3-132">Время жизни маркера для маркеров обновления конфиденциального клиента</span><span class="sxs-lookup"><span data-stu-id="d5fc3-132">Token lifetimes with confidential client refresh tokens</span></span>
<span data-ttu-id="d5fc3-133">Конфиденциальные клиенты — это такие клиентские приложения, которые могут безопасно хранить клиентский пароль (секрет),</span><span class="sxs-lookup"><span data-stu-id="d5fc3-133">Confidential clients are applications that can securely store a client password (secret).</span></span> <span data-ttu-id="d5fc3-134">Они гарантируют, что запросы исходят от клиентского приложения hello, а не из вредоносных субъекта.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-134">They can prove that requests are coming from hello client application and not from a malicious actor.</span></span> <span data-ttu-id="d5fc3-135">Например веб-приложения является конфиденциального клиента, так как он позволяет хранить секрет клиента на веб-сервере hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-135">For example, a web app is a confidential client because it can store a client secret on hello web server.</span></span> <span data-ttu-id="d5fc3-136">и потому он остается невидимым.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-136">It is not exposed.</span></span> <span data-ttu-id="d5fc3-137">По умолчанию время жизни маркеров обновления, выданный toothese потоки — Здравствуйте, так как эти потоки являются более безопасными, `until-revoked`, не может быть изменен с помощью политики и не будут отозваны сброс пароля добровольное.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-137">Because these flows are more secure, hello default lifetimes of refresh tokens issued toothese flows is `until-revoked`, cannot be changed by using policy, and will not be revoked on voluntary password resets.</span></span>

#### <a name="token-lifetimes-with-public-client-refresh-tokens"></a><span data-ttu-id="d5fc3-138">Время жизни маркеров для маркеров обновления общедоступного клиента</span><span class="sxs-lookup"><span data-stu-id="d5fc3-138">Token lifetimes with public client refresh tokens</span></span>

<span data-ttu-id="d5fc3-139">Общедоступные клиенты не могут обеспечить безопасное хранение клиентского пароля (секрета).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-139">Public clients cannot securely store a client password (secret).</span></span> <span data-ttu-id="d5fc3-140">Например приложение iOS и Android нельзя замаскировать секрет от владельца ресурса hello, чтобы считать открытого клиента.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-140">For example, an iOS/Android app cannot obfuscate a secret from hello resource owner, so it is considered a public client.</span></span> <span data-ttu-id="d5fc3-141">Можно определить политику ресурсов tooprevent токенов обновления из общих клиенты старше указанного периода, получить новую пару токена доступа или обновления.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-141">You can set policies on resources tooprevent refresh tokens from public clients older than a specified period from obtaining a new access/refresh token pair.</span></span> <span data-ttu-id="d5fc3-142">(toodo hello, используйте свойство обновления токена максимальное время простоя.) Также можно использовать политики tooset период за какой hello токенов обновления больше не принимаются.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-142">(toodo this, use hello Refresh Token Max Inactive Time property.) You also can use policies tooset a period beyond which hello refresh tokens are no longer accepted.</span></span> <span data-ttu-id="d5fc3-143">(toodo hello, используйте свойство обновления токена максимального срока хранения.) Вы можете настроить время жизни токена toocontrol обновления, когда и как часто hello пользователь является tooreenter необходимые учетные данные, вместо автоматической повторной проверки подлинности, при использовании открытого клиентское приложение hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-143">(toodo this, use hello Refresh Token Max Age property.) You can adjust hello lifetime of a refresh token toocontrol when and how often hello user is required tooreenter credentials, instead of being silently reauthenticated, when using a public client application.</span></span>

### <a name="id-tokens"></a><span data-ttu-id="d5fc3-144">Маркеры идентификации</span><span class="sxs-lookup"><span data-stu-id="d5fc3-144">ID tokens</span></span>
<span data-ttu-id="d5fc3-145">Маркеров безопасности, передаются toowebsites и собственных клиентов.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-145">ID tokens are passed toowebsites and native clients.</span></span> <span data-ttu-id="d5fc3-146">Они содержат сведения о профиле пользователя.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-146">ID tokens contain profile information about a user.</span></span> <span data-ttu-id="d5fc3-147">Маркер идентификатора — привязанного tooa конкретную комбинацию пользователя и клиента.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-147">An ID token is bound tooa specific combination of user and client.</span></span> <span data-ttu-id="d5fc3-148">Маркеры идентификации считаются действительными до истечения срока действия.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-148">ID tokens are considered valid until their expiry.</span></span> <span data-ttu-id="d5fc3-149">Как правило, веб-приложение соответствует пользователю время жизни сеанса за время существования toohello приложения hello hello идентификатор маркера, выданного для пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-149">Usually, a web application matches a user’s session lifetime in hello application toohello lifetime of hello ID token issued for hello user.</span></span> <span data-ttu-id="d5fc3-150">Вы можете настроить время существования идентификатора токена toocontrol частоту веб-приложение hello истечения срока действия сеанса приложения hello и как часто требуется повторная проверка подлинности с помощью Azure AD (без вмешательства пользователя или интерактивно) toobe пользователя hello hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-150">You can adjust hello lifetime of an ID token toocontrol how often hello web application expires hello application session, and how often it requires hello user toobe reauthenticated with Azure AD (either silently or interactively).</span></span>

### <a name="single-sign-on-session-tokens"></a><span data-ttu-id="d5fc3-151">Маркеры сеанса единого входа</span><span class="sxs-lookup"><span data-stu-id="d5fc3-151">Single sign-on session tokens</span></span>
<span data-ttu-id="d5fc3-152">Когда пользователь выполняет проверку подлинности с помощью Azure AD и выбирает hello **оставаться в системе** флажок, установлен один сеанс входа (SSO) с браузером пользователя hello и Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-152">When a user authenticates with Azure AD and selects hello **Keep me signed in** check box, a single sign-on session (SSO) is established with hello user’s browser and Azure AD.</span></span> <span data-ttu-id="d5fc3-153">маркер единого входа Hello, в форме куки-файла, hello представляет этого сеанса.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-153">hello SSO token, in hello form of a cookie, represents this session.</span></span> <span data-ttu-id="d5fc3-154">Обратите внимание, что этот токен сеанса единого входа hello не привязанной tooa определенного ресурса и клиентского приложения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-154">Note that hello SSO session token is not bound tooa specific resource/client application.</span></span> <span data-ttu-id="d5fc3-155">Маркеры сеанса единого входа могут быть отозваны, а при каждом использовании проверяется их действительность.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-155">SSO session tokens can be revoked, and their validity is checked every time they are used.</span></span>

<span data-ttu-id="d5fc3-156">В Azure AD используется два вида маркеров сеанса единого входа: постоянные и временные.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-156">Azure AD uses two kinds of SSO session tokens: persistent and nonpersistent.</span></span> <span data-ttu-id="d5fc3-157">Токены постоянного сеанса хранятся в виде постоянных файлов cookie браузером hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-157">Persistent session tokens are stored as persistent cookies by hello browser.</span></span> <span data-ttu-id="d5fc3-158">а временные — хранятся в виде файлов cookie сеанса.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-158">Nonpersistent session tokens are stored as session cookies.</span></span> <span data-ttu-id="d5fc3-159">(Файлов cookie сеанса, удаляются при закрытии hello.)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-159">(Session cookies are destroyed when hello browser is closed.)</span></span>

<span data-ttu-id="d5fc3-160">Срок действия временных маркеров сеанса составляет 24 часа,</span><span class="sxs-lookup"><span data-stu-id="d5fc3-160">Nonpersistent session tokens have a lifetime of 24 hours.</span></span> <span data-ttu-id="d5fc3-161">а постоянных маркеров — 180 дней.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-161">Persistent tokens have a lifetime of 180 days.</span></span> <span data-ttu-id="d5fc3-162">Каждый раз, когда токен сеанса единого входа используется в пределах срока его действия, срок действия hello расширяется другой 24 часа или 180 дней, в зависимости от типа маркера hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-162">Any time an SSO session token is used within its validity period, hello validity period is extended another 24 hours or 180 days, depending on hello token type.</span></span> <span data-ttu-id="d5fc3-163">Если маркер сеанса единого входа не используется в течение срока его действия, он считается истекшим и не будет приниматься.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-163">If an SSO session token is not used within its validity period, it is considered expired and is no longer accepted.</span></span>

<span data-ttu-id="d5fc3-164">Можно использовать политики раз hello tooset после первого токена сеанса hello был выдан за пределами какие hello токена сеанса больше не принимаются.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-164">You can use a policy tooset hello time after hello first session token was issued beyond which hello session token is no longer accepted.</span></span> <span data-ttu-id="d5fc3-165">(toodo hello этого, используйте свойство максимального срока хранения токена сеанса.) Вы можете настроить время существования маркера toocontrol сеанса, когда и как часто пользователь является tooreenter необходимые учетные данные, вместо автоматической проверки подлинности, при использовании веб-приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-165">(toodo this, use hello Session Token Max Age property.) You can adjust hello lifetime of a session token toocontrol when and how often a user is required tooreenter credentials, instead of being silently authenticated, when using a web application.</span></span>

### <a name="token-lifetime-policy-properties"></a><span data-ttu-id="d5fc3-166">Свойства политики времени жизни маркера</span><span class="sxs-lookup"><span data-stu-id="d5fc3-166">Token lifetime policy properties</span></span>
<span data-ttu-id="d5fc3-167">Политика времени жизни маркера — это объект политики, который содержит правила времени жизни маркера.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-167">A token lifetime policy is a type of policy object that contains token lifetime rules.</span></span> <span data-ttu-id="d5fc3-168">Используйте свойства hello toocontrol политики hello указано время жизни токена.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-168">Use hello properties of hello policy toocontrol specified token lifetimes.</span></span> <span data-ttu-id="d5fc3-169">Если политика не задано, система hello обеспечивает значение времени жизни по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-169">If no policy is set, hello system enforces hello default lifetime value.</span></span>

### <a name="configurable-token-lifetime-properties"></a><span data-ttu-id="d5fc3-170">Свойства для настройки времени жизни маркера</span><span class="sxs-lookup"><span data-stu-id="d5fc3-170">Configurable token lifetime properties</span></span>
| <span data-ttu-id="d5fc3-171">Свойство</span><span class="sxs-lookup"><span data-stu-id="d5fc3-171">Property</span></span> | <span data-ttu-id="d5fc3-172">Строка свойства политики</span><span class="sxs-lookup"><span data-stu-id="d5fc3-172">Policy property string</span></span> | <span data-ttu-id="d5fc3-173">Область применения</span><span class="sxs-lookup"><span data-stu-id="d5fc3-173">Affects</span></span> | <span data-ttu-id="d5fc3-174">значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="d5fc3-174">Default</span></span> | <span data-ttu-id="d5fc3-175">Минимальная</span><span class="sxs-lookup"><span data-stu-id="d5fc3-175">Minimum</span></span> | <span data-ttu-id="d5fc3-176">Максимальная</span><span class="sxs-lookup"><span data-stu-id="d5fc3-176">Maximum</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="d5fc3-177">Время жизни маркера доступа</span><span class="sxs-lookup"><span data-stu-id="d5fc3-177">Access Token Lifetime</span></span> |<span data-ttu-id="d5fc3-178">AccessTokenLifetime</span><span class="sxs-lookup"><span data-stu-id="d5fc3-178">AccessTokenLifetime</span></span> |<span data-ttu-id="d5fc3-179">Маркеры доступа, маркеры безопасности, маркеры SAML2</span><span class="sxs-lookup"><span data-stu-id="d5fc3-179">Access tokens, ID tokens, SAML2 tokens</span></span> |<span data-ttu-id="d5fc3-180">1 час</span><span class="sxs-lookup"><span data-stu-id="d5fc3-180">1 hour</span></span> |<span data-ttu-id="d5fc3-181">10 минут</span><span class="sxs-lookup"><span data-stu-id="d5fc3-181">10 minutes</span></span> |<span data-ttu-id="d5fc3-182">1 день</span><span class="sxs-lookup"><span data-stu-id="d5fc3-182">1 day</span></span> |
| <span data-ttu-id="d5fc3-183">Максимальное время неактивности для маркеров обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-183">Refresh Token Max Inactive Time</span></span> |<span data-ttu-id="d5fc3-184">MaxInactiveTime</span><span class="sxs-lookup"><span data-stu-id="d5fc3-184">MaxInactiveTime</span></span> |<span data-ttu-id="d5fc3-185">Маркеры обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-185">Refresh tokens</span></span> |<span data-ttu-id="d5fc3-186">14 дней</span><span class="sxs-lookup"><span data-stu-id="d5fc3-186">14 days</span></span> |<span data-ttu-id="d5fc3-187">10 минут</span><span class="sxs-lookup"><span data-stu-id="d5fc3-187">10 minutes</span></span> |<span data-ttu-id="d5fc3-188">90 дней</span><span class="sxs-lookup"><span data-stu-id="d5fc3-188">90 days</span></span> |
| <span data-ttu-id="d5fc3-189">Максимальный возраст однофакторного маркера обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-189">Single-Factor Refresh Token Max Age</span></span> |<span data-ttu-id="d5fc3-190">MaxAgeSingleFactor</span><span class="sxs-lookup"><span data-stu-id="d5fc3-190">MaxAgeSingleFactor</span></span> |<span data-ttu-id="d5fc3-191">Маркеры обновления (для всех пользователей)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-191">Refresh tokens (for any users)</span></span> |<span data-ttu-id="d5fc3-192">Пока не будет отозван</span><span class="sxs-lookup"><span data-stu-id="d5fc3-192">Until-revoked</span></span> |<span data-ttu-id="d5fc3-193">10 минут</span><span class="sxs-lookup"><span data-stu-id="d5fc3-193">10 minutes</span></span> |<span data-ttu-id="d5fc3-194">Пока не будет отозван<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="d5fc3-194">Until-revoked<sup>1</sup></span></span> |
| <span data-ttu-id="d5fc3-195">Максимальный возраст многофакторного маркера обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-195">Multi-Factor Refresh Token Max Age</span></span> |<span data-ttu-id="d5fc3-196">MaxAgeMultiFactor</span><span class="sxs-lookup"><span data-stu-id="d5fc3-196">MaxAgeMultiFactor</span></span> |<span data-ttu-id="d5fc3-197">Маркеры обновления (для всех пользователей)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-197">Refresh tokens (for any users)</span></span> |<span data-ttu-id="d5fc3-198">Пока не будет отозван</span><span class="sxs-lookup"><span data-stu-id="d5fc3-198">Until-revoked</span></span> |<span data-ttu-id="d5fc3-199">10 минут</span><span class="sxs-lookup"><span data-stu-id="d5fc3-199">10 minutes</span></span> |<span data-ttu-id="d5fc3-200">Пока не будет отозван<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="d5fc3-200">Until-revoked<sup>1</sup></span></span> |
| <span data-ttu-id="d5fc3-201">Максимальный возраст однофакторного маркера сеанса</span><span class="sxs-lookup"><span data-stu-id="d5fc3-201">Single-Factor Session Token Max Age</span></span> |<span data-ttu-id="d5fc3-202">MaxAgeSessionSingleFactor<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="d5fc3-202">MaxAgeSessionSingleFactor<sup>2</sup></span></span> |<span data-ttu-id="d5fc3-203">Маркеры сеанса (постоянные и временные)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-203">Session tokens (persistent and nonpersistent)</span></span> |<span data-ttu-id="d5fc3-204">Пока не будет отозван</span><span class="sxs-lookup"><span data-stu-id="d5fc3-204">Until-revoked</span></span> |<span data-ttu-id="d5fc3-205">10 минут</span><span class="sxs-lookup"><span data-stu-id="d5fc3-205">10 minutes</span></span> |<span data-ttu-id="d5fc3-206">Пока не будет отозван<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="d5fc3-206">Until-revoked<sup>1</sup></span></span> |
| <span data-ttu-id="d5fc3-207">Максимальный возраст многофакторного маркера сеанса</span><span class="sxs-lookup"><span data-stu-id="d5fc3-207">Multi-Factor Session Token Max Age</span></span> |<span data-ttu-id="d5fc3-208">MaxAgeSessionMultiFactor<sup>3</sup></span><span class="sxs-lookup"><span data-stu-id="d5fc3-208">MaxAgeSessionMultiFactor<sup>3</sup></span></span> |<span data-ttu-id="d5fc3-209">Маркеры сеанса (постоянные и временные)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-209">Session tokens (persistent and nonpersistent)</span></span> |<span data-ttu-id="d5fc3-210">Пока не будет отозван</span><span class="sxs-lookup"><span data-stu-id="d5fc3-210">Until-revoked</span></span> |<span data-ttu-id="d5fc3-211">10 минут</span><span class="sxs-lookup"><span data-stu-id="d5fc3-211">10 minutes</span></span> |<span data-ttu-id="d5fc3-212">Пока не будет отозван<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="d5fc3-212">Until-revoked<sup>1</sup></span></span> |

* <span data-ttu-id="d5fc3-213"><sup>1</sup>hello явную длину, можно задать для этих атрибутов — 365 дней.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-213"><sup>1</sup>365 days is hello maximum explicit length that can be set for these attributes.</span></span>
* <span data-ttu-id="d5fc3-214"><sup>2</sup>Если **MaxAgeSessionSingleFactor** не задано, это значение принимает hello **MaxAgeSingleFactor** значение.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-214"><sup>2</sup>If  **MaxAgeSessionSingleFactor** is not set, this value takes hello **MaxAgeSingleFactor** value.</span></span> <span data-ttu-id="d5fc3-215">Если ни один из параметров имеет значение, hello свойство принимает значение по умолчанию hello (до отозванные).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-215">If neither parameter is set, hello property takes hello default value (until-revoked).</span></span>
* <span data-ttu-id="d5fc3-216"><sup>3</sup>Если **MaxAgeSessionMultiFactor** не задано, это значение принимает hello **MaxAgeMultiFactor** значение.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-216"><sup>3</sup>If  **MaxAgeSessionMultiFactor** is not set, this value takes hello **MaxAgeMultiFactor** value.</span></span> <span data-ttu-id="d5fc3-217">Если ни один из параметров имеет значение, hello свойство принимает значение по умолчанию hello (до отозванные).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-217">If neither parameter is set, hello property takes hello default value (until-revoked).</span></span>

### <a name="exceptions"></a><span data-ttu-id="d5fc3-218">Исключения</span><span class="sxs-lookup"><span data-stu-id="d5fc3-218">Exceptions</span></span>
| <span data-ttu-id="d5fc3-219">Свойство</span><span class="sxs-lookup"><span data-stu-id="d5fc3-219">Property</span></span> | <span data-ttu-id="d5fc3-220">Область применения</span><span class="sxs-lookup"><span data-stu-id="d5fc3-220">Affects</span></span> | <span data-ttu-id="d5fc3-221">значение по умолчанию</span><span class="sxs-lookup"><span data-stu-id="d5fc3-221">Default</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d5fc3-222">Обновление максимального возраста маркеров (выданные для федеративных пользователей с недостаточной информацией об отзыве <sup>1</sup>)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-222">Refresh Token Max Age (issued for federated users who have insufficient revocation information<sup>1</sup>)</span></span> |<span data-ttu-id="d5fc3-223">Маркеры обновления (выданные для федеративных пользователей с недостаточной информацией об отзыве <sup>1</sup>)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-223">Refresh tokens (issued for federated users who have insufficient revocation information<sup>1</sup>)</span></span> |<span data-ttu-id="d5fc3-224">12 часов</span><span class="sxs-lookup"><span data-stu-id="d5fc3-224">12 hours</span></span> |
| <span data-ttu-id="d5fc3-225">Максимальное время неактивности для маркера обновления (выданного для конфиденциальных клиентов)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-225">Refresh Token Max Inactive Time (issued for confidential clients)</span></span> |<span data-ttu-id="d5fc3-226">Маркеры обновления (выданные для конфиденциальных клиентов)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-226">Refresh tokens (issued for confidential clients)</span></span> |<span data-ttu-id="d5fc3-227">90 дней</span><span class="sxs-lookup"><span data-stu-id="d5fc3-227">90 days</span></span> |
| <span data-ttu-id="d5fc3-228">Максимальный возраст маркеров обновления (выданных для конфиденциальных клиентов)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-228">Refresh Token Max Age (issued for confidential clients)</span></span> |<span data-ttu-id="d5fc3-229">Маркеры обновления (выданные для конфиденциальных клиентов)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-229">Refresh tokens (issued for confidential clients)</span></span> |<span data-ttu-id="d5fc3-230">Пока не будет отозван</span><span class="sxs-lookup"><span data-stu-id="d5fc3-230">Until-revoked</span></span> |

* <span data-ttu-id="d5fc3-231"><sup>1</sup>федеративные пользователи, имеющие входить все пользователи, не имеющие сведений недостаточно отзыва hello синхронизированных атрибут «LastPasswordChangeTimestamp».</span><span class="sxs-lookup"><span data-stu-id="d5fc3-231"><sup>1</sup>Federated users who have insufficient revocation information include any users who do not have hello "LastPasswordChangeTimestamp" attribute synced.</span></span> <span data-ttu-id="d5fc3-232">Эти пользователи получают этот короткий максимального срока хранения, так как AAD не удается tooverify при toorevoke маркеры, которые привязаны tooan старой учетных данных (например, пароль, который был изменен) и необходимо вернуть обратно чаще tooensure этого пользователя hello и связанные маркеры будут по-прежнему репутацию.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-232">These users are given this short Max Age because AAD is unable tooverify when toorevoke tokens that are tied tooan old credential (such as a password that has been changed) and must check back in more frequently tooensure that hello user and associated tokens are still in good standing.</span></span> <span data-ttu-id="d5fc3-233">tooimprove эти возможности клиента, которые администраторы необходимо убедиться, что они синхронизации hello атрибут «LastPasswordChangeTimestamp» (это можно задать на hello объекта пользователя, с помощью Powershell или с помощью AADSync).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-233">tooimprove this experience, tenant admins must ensure that they are syncing hello “LastPasswordChangeTimestamp” attribute (this can be set on hello user object using Powershell or through AADSync).</span></span>

### <a name="policy-evaluation-and-prioritization"></a><span data-ttu-id="d5fc3-234">Оценка политики и ее приоритеты</span><span class="sxs-lookup"><span data-stu-id="d5fc3-234">Policy evaluation and prioritization</span></span>
<span data-ttu-id="d5fc3-235">Можно создать и затем назначить время существования маркера политики tooa определенного приложения, tooyour организации и tooservice участниками.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-235">You can create and then assign a token lifetime policy tooa specific application, tooyour organization, and tooservice principals.</span></span> <span data-ttu-id="d5fc3-236">Несколько политик могут применяться tooa конкретного приложения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-236">Multiple policies might apply tooa specific application.</span></span> <span data-ttu-id="d5fc3-237">политика времени существования маркера Hello, вступает в силу следует таким правилам:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-237">hello token lifetime policy that takes effect follows these rules:</span></span>

* <span data-ttu-id="d5fc3-238">Если политика назначена явно toohello участника-службы, он применяется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-238">If a policy is explicitly assigned toohello service principal, it is enforced.</span></span>
* <span data-ttu-id="d5fc3-239">Если политика не присвоено явным образом toohello участника-службы, явно назначено toohello головной организации hello субъекта-службы включена политика.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-239">If no policy is explicitly assigned toohello service principal, a policy explicitly assigned toohello parent organization of hello service principal is enforced.</span></span>
* <span data-ttu-id="d5fc3-240">Если политика не назначается явно toohello участника-службы или toohello организации, применяется политика hello, назначенное toohello приложение.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-240">If no policy is explicitly assigned toohello service principal or toohello organization, hello policy assigned toohello application is enforced.</span></span>
* <span data-ttu-id="d5fc3-241">Если политика не была назначена toohello службы участника, hello организации или объекта приложения hello, hello значения по умолчанию применяется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-241">If no policy has been assigned toohello service principal, hello organization, or hello application object, hello default values is enforced.</span></span> <span data-ttu-id="d5fc3-242">(См. таблицу hello в [свойства можно настроить время существования маркера](#configurable-token-lifetime-properties).)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-242">(See hello table in [Configurable token lifetime properties](#configurable-token-lifetime-properties).)</span></span>

<span data-ttu-id="d5fc3-243">Дополнительные сведения об отношениях hello service principal-объекты и объекты приложений см. в разделе [приложений и объектов участника службы в Azure Active Directory](active-directory-application-objects.md).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-243">For more information about hello relationship between application objects and service principal objects, see [Application and service principal objects in Azure Active Directory](active-directory-application-objects.md).</span></span>

<span data-ttu-id="d5fc3-244">Во время hello используется токен hello оценивает допустимость маркера.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-244">A token’s validity is evaluated at hello time hello token is used.</span></span> <span data-ttu-id="d5fc3-245">политика Hello с высоким приоритетом hello приложения hello, к которому имеет доступ вступает в силу.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-245">hello policy with hello highest priority on hello application that is being accessed takes effect.</span></span>

> [!NOTE]
> <span data-ttu-id="d5fc3-246">Ниже приведен пример сценария.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-246">Here's an example scenario.</span></span>
>
> <span data-ttu-id="d5fc3-247">Пользователь хочет tooaccess двух веб-приложений: веб-приложение A и B. приложения Web</span><span class="sxs-lookup"><span data-stu-id="d5fc3-247">A user wants tooaccess two web applications: Web Application A and Web Application B.</span></span>
> 
> <span data-ttu-id="d5fc3-248">Факторы:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-248">Factors:</span></span>
> * <span data-ttu-id="d5fc3-249">Оба веб-приложения, в hello же родительских организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-249">Both web applications are in hello same parent organization.</span></span>
> * <span data-ttu-id="d5fc3-250">Токен 1 время существования политики с возрастом Max маркера сеанса восемь часов имеет значение по умолчанию hello родительской организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-250">Token Lifetime Policy 1 with a Session Token Max Age of eight hours is set as hello parent organization’s default.</span></span>
> * <span data-ttu-id="d5fc3-251">Веб-приложение A является использование обычных веб-приложением, не связанный tooany политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-251">Web Application A is a regular-use web application and isn’t linked tooany policies.</span></span>
> * <span data-ttu-id="d5fc3-252">Веб-приложение Б используется для процессов с высоким уровнем конфиденциальности,</span><span class="sxs-lookup"><span data-stu-id="d5fc3-252">Web Application B is used for highly sensitive processes.</span></span> <span data-ttu-id="d5fc3-253">Его участник службы имеет связанный tooToken 2 политики времени жизни, имеет сеанса токена максимального срока хранения в 30 минут.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-253">Its service principal is linked tooToken Lifetime Policy 2, which has a Session Token Max Age of 30 minutes.</span></span>
>
> <span data-ttu-id="d5fc3-254">В 12:00 hello пользователь начинает новый сеанс браузера и пытается tooaccess A. приложения Web hello пользователя является перенаправленный tooAzure AD и запрашивается toosign в.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-254">At 12:00 PM, hello user starts a new browser session and tries tooaccess Web Application A. hello user is redirected tooAzure AD and is asked toosign in.</span></span> <span data-ttu-id="d5fc3-255">Это создает файл cookie, который содержит маркер сеанса в браузере hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-255">This creates a cookie that has a session token in hello browser.</span></span> <span data-ttu-id="d5fc3-256">пользователь Hello является перенаправленный задней tooWeb приложение A с маркер идентификатора и позволяющая tooaccess hello пользователя приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-256">hello user is redirected back tooWeb Application A with an ID token that allows hello user tooaccess hello application.</span></span>
>
> <span data-ttu-id="d5fc3-257">В 12:15 PM hello пользователь пытается tooaccess B. приложения Web hello браузер перенаправляет tooAzure AD, который определяет файл cookie сеанса hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-257">At 12:15 PM, hello user tries tooaccess Web Application B. hello browser redirects tooAzure AD, which detects hello session cookie.</span></span> <span data-ttu-id="d5fc3-258">Субъекта приложения В веб-службы — связанного tooToken 2 время существования политики, но он также является частью родительской организации hello токен 1 время существования политики по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-258">Web Application B’s service principal is linked tooToken Lifetime Policy 2, but it's also part of hello parent organization, with default Token Lifetime Policy 1.</span></span> <span data-ttu-id="d5fc3-259">Так как субъекты связанного tooservice политики имеют более высокий приоритет, чем политикам организации по умолчанию токена 2 время существования политики вступает в силу.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-259">Token Lifetime Policy 2 takes effect because policies linked tooservice principals have a higher priority than organization default policies.</span></span> <span data-ttu-id="d5fc3-260">маркер сеанса Hello первоначального выпуска внутри hello последних 30 минут, поэтому считается допустимым.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-260">hello session token was originally issued within hello last 30 minutes, so it is considered valid.</span></span> <span data-ttu-id="d5fc3-261">пользователь Hello является перенаправленный задней tooWeb приложение B с маркер идентификатора, который предоставит им доступ.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-261">hello user is redirected back tooWeb Application B with an ID token that grants them access.</span></span>
>
> <span data-ttu-id="d5fc3-262">В 13:00 hello пользователь пытается tooaccess Web приложение A. hello пользователь — перенаправленный tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-262">At 1:00 PM, hello user tries tooaccess Web Application A. hello user is redirected tooAzure AD.</span></span> <span data-ttu-id="d5fc3-263">Веб-сайта A приложения не является связанной tooany политики, но так как он находится в организации с токен 1 время существования политики по умолчанию, эта политика вступает в силу.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-263">Web Application A is not linked tooany policies, but because it is in an organization with default Token Lifetime Policy 1, that policy takes effect.</span></span> <span data-ttu-id="d5fc3-264">обнаружен файл cookie сеанса Hello, изначально выдан внутри hello последние восемь часов.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-264">hello session cookie that was originally issued within hello last eight hours is detected.</span></span> <span data-ttu-id="d5fc3-265">пользователь Hello — автоматически перенаправленный задней tooWeb объект приложения с маркером новый идентификатор.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-265">hello user is silently redirected back tooWeb Application A with a new ID token.</span></span> <span data-ttu-id="d5fc3-266">пользователь Hello не является обязательным tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-266">hello user is not required tooauthenticate.</span></span>
>
> <span data-ttu-id="d5fc3-267">Сразу же после этого пользователь hello пытается tooaccess B. приложения Web hello пользователь является перенаправленный tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-267">Immediately afterward, hello user tries tooaccess Web Application B. hello user is redirected tooAzure AD.</span></span> <span data-ttu-id="d5fc3-268">Как и прошлый раз, применяется политика времени жизни маркеров 2.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-268">As before, Token Lifetime Policy 2 takes effect.</span></span> <span data-ttu-id="d5fc3-269">Так как более 30 минут выдачи токена hello, пользователь hello является запросом tooreenter своих учетных данных для входа.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-269">Because hello token was issued more than 30 minutes ago, hello user is prompted tooreenter their sign-in credentials.</span></span> <span data-ttu-id="d5fc3-270">чтобы получить новые маркер сеанса и маркер идентификатора.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-270">A brand-new session token and ID token are issued.</span></span> <span data-ttu-id="d5fc3-271">Hello пользователь может получить доступ к Web приложение B.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-271">hello user can then access Web Application B.</span></span>
>
>

## <a name="configurable-policy-property-details"></a><span data-ttu-id="d5fc3-272">Подробные сведения о настройке свойств политики</span><span class="sxs-lookup"><span data-stu-id="d5fc3-272">Configurable policy property details</span></span>
### <a name="access-token-lifetime"></a><span data-ttu-id="d5fc3-273">Время жизни маркера доступа</span><span class="sxs-lookup"><span data-stu-id="d5fc3-273">Access Token Lifetime</span></span>
<span data-ttu-id="d5fc3-274">**Строка:** AccessTokenLifetime</span><span class="sxs-lookup"><span data-stu-id="d5fc3-274">**String:** AccessTokenLifetime</span></span>

<span data-ttu-id="d5fc3-275">**Область применения:** маркеры доступа, маркеры безопасности</span><span class="sxs-lookup"><span data-stu-id="d5fc3-275">**Affects:** Access tokens, ID tokens</span></span>

<span data-ttu-id="d5fc3-276">**Описание:** эта политика определяет, как долго продолжают действовать маркеры доступа и маркеры идентификации для определенного ресурса.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-276">**Summary:** This policy controls how long access and ID tokens for this resource are considered valid.</span></span> <span data-ttu-id="d5fc3-277">Уменьшение hello время жизни токена доступа свойства снижает риск hello маркера доступа или маркер идентификатора, используемого вредоносных субъекта для длительного времени.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-277">Reducing hello Access Token Lifetime property mitigates hello risk of an access token or ID token being used by a malicious actor for an extended period of time.</span></span> <span data-ttu-id="d5fc3-278">(Эти токены не могут быть отозваны.) компромисс Hello связано с, производительность значительно снижена, токены hello toobe заменен более часто.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-278">(These tokens cannot be revoked.) hello trade-off is that performance is adversely affected, because hello tokens have toobe replaced more often.</span></span>

### <a name="refresh-token-max-inactive-time"></a><span data-ttu-id="d5fc3-279">Максимальное время неактивности для маркеров обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-279">Refresh Token Max Inactive Time</span></span>
<span data-ttu-id="d5fc3-280">**Строка:** MaxInactiveTime</span><span class="sxs-lookup"><span data-stu-id="d5fc3-280">**String:** MaxInactiveTime</span></span>

<span data-ttu-id="d5fc3-281">**Область применения:** маркеры обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-281">**Affects:** Refresh tokens</span></span>

<span data-ttu-id="d5fc3-282">**Сводка:** эта политика определяет, насколько стара токен обновления может быть до клиента больше не использования tooretrieve новую пару токена доступа или обновления при попытке tooaccess этого ресурса.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-282">**Summary:** This policy controls how old a refresh token can be before a client can no longer use it tooretrieve a new access/refresh token pair when attempting tooaccess this resource.</span></span> <span data-ttu-id="d5fc3-283">Так как новый маркер обновления обычно возвращается при использовании токена обновления эта политика предотвращает доступ, если hello клиент пытается использовать tooaccess любой ресурс с помощью hello текущий маркер обновления во время hello указанного периода времени.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-283">Because a new refresh token usually is returned when a refresh token is used, this policy prevents access if hello client tries tooaccess any resource by using hello current refresh token during hello specified period of time.</span></span>

<span data-ttu-id="d5fc3-284">Эта политика принудительно пользователей, которые не были активными в их tooretrieve tooreauthenticate клиента новый токен обновления.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-284">This policy forces users who have not been active on their client tooreauthenticate tooretrieve a new refresh token.</span></span>

<span data-ttu-id="d5fc3-285">необходимо задать Hello свойство обновления токена максимальное время простоя, меньше значения tooa hello проверкой маркера максимального срока хранения и свойства многофакторной обновления токена максимального срока хранения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-285">hello Refresh Token Max Inactive Time property must be set tooa lower value than hello Single-Factor Token Max Age and hello Multi-Factor Refresh Token Max Age properties.</span></span>

### <a name="single-factor-refresh-token-max-age"></a><span data-ttu-id="d5fc3-286">Максимальный возраст однофакторного маркера обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-286">Single-Factor Refresh Token Max Age</span></span>
<span data-ttu-id="d5fc3-287">**Строка:** MaxAgeSingleFactor</span><span class="sxs-lookup"><span data-stu-id="d5fc3-287">**String:** MaxAgeSingleFactor</span></span>

<span data-ttu-id="d5fc3-288">**Область применения:** маркеры обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-288">**Affects:** Refresh tokens</span></span>

<span data-ttu-id="d5fc3-289">**Сводка:** этот параметр определяет как долго пользователя можно использовать обновления токена tooget новый доступа или обновления пары токенов после их последнего подлинность проверена успешно с помощью только одного фактора.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-289">**Summary:** This policy controls how long a user can use a refresh token tooget a new access/refresh token pair after they last authenticated successfully by using only a single factor.</span></span> <span data-ttu-id="d5fc3-290">После пользователь проходит проверку подлинности и получает новый маркер обновления, hello пользователь может использовать поток маркеров обновления hello для hello указанного периода времени.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-290">After a user authenticates and receives a new refresh token, hello user can use hello refresh token flow for hello specified period of time.</span></span> <span data-ttu-id="d5fc3-291">(Это значение равно true, пока текущий маркер обновления hello не отозван, и не остается неиспользуемые дольше, чем время простоя hello). В этот момент пользователь hello является принудительное tooreauthenticate tooreceive новый токен обновления.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-291">(This is true as long as hello current refresh token is not revoked, and it is not left unused for longer than hello inactive time.) At that point, hello user is forced tooreauthenticate tooreceive a new refresh token.</span></span>

<span data-ttu-id="d5fc3-292">Уменьшение максимального возраста hello принудительно tooauthenticate пользователи чаще.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-292">Reducing hello max age forces users tooauthenticate more often.</span></span> <span data-ttu-id="d5fc3-293">Поскольку однофакторной проверки подлинности является менее безопасен, чем многофакторной проверки подлинности, рекомендуется установить значение этого свойства tooa, равно tooor меньше hello свойство многофакторной обновления токена максимального срока хранения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-293">Because single-factor authentication is considered less secure than multi-factor authentication, we recommend that you set this property tooa value that is equal tooor lesser than hello Multi-Factor Refresh Token Max Age property.</span></span>

### <a name="multi-factor-refresh-token-max-age"></a><span data-ttu-id="d5fc3-294">Максимальный возраст многофакторного маркера обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-294">Multi-Factor Refresh Token Max Age</span></span>
<span data-ttu-id="d5fc3-295">**Строка:** MaxAgeMultiFactor</span><span class="sxs-lookup"><span data-stu-id="d5fc3-295">**String:** MaxAgeMultiFactor</span></span>

<span data-ttu-id="d5fc3-296">**Область применения:** маркеры обновления</span><span class="sxs-lookup"><span data-stu-id="d5fc3-296">**Affects:** Refresh tokens</span></span>

<span data-ttu-id="d5fc3-297">**Сводка:** этот параметр определяет как долго пользователя можно использовать обновления токена tooget новый доступа или обновления пары токенов после их последнего подлинность проверена успешно с использованием нескольких факторов.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-297">**Summary:** This policy controls how long a user can use a refresh token tooget a new access/refresh token pair after they last authenticated successfully by using multiple factors.</span></span> <span data-ttu-id="d5fc3-298">После пользователь проходит проверку подлинности и получает новый маркер обновления, hello пользователь может использовать поток маркеров обновления hello для hello указанного периода времени.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-298">After a user authenticates and receives a new refresh token, hello user can use hello refresh token flow for hello specified period of time.</span></span> <span data-ttu-id="d5fc3-299">(Это значение равно true, пока текущий маркер обновления hello не отозван, и не неиспользуемые дольше, чем время простоя hello). На этом этапе принудительным tooreauthenticate tooreceive новый токен обновления.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-299">(This is true as long as hello current refresh token is not revoked, and it is not unused for longer than hello inactive time.) At that point, users are forced tooreauthenticate tooreceive a new refresh token.</span></span>

<span data-ttu-id="d5fc3-300">Уменьшение максимального возраста hello принудительно tooauthenticate пользователи чаще.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-300">Reducing hello max age forces users tooauthenticate more often.</span></span> <span data-ttu-id="d5fc3-301">Поскольку однофакторной проверки подлинности является менее безопасен, чем многофакторной проверки подлинности, рекомендуется установить это значение свойства tooa, равно tooor, превышающее значение hello проверкой обновления токена максимального срока хранения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-301">Because single-factor authentication is considered less secure than multi-factor authentication, we recommend that you set this property tooa value that is equal tooor greater than hello Single-Factor Refresh Token Max Age property.</span></span>

### <a name="single-factor-session-token-max-age"></a><span data-ttu-id="d5fc3-302">Максимальный возраст однофакторного маркера сеанса</span><span class="sxs-lookup"><span data-stu-id="d5fc3-302">Single-Factor Session Token Max Age</span></span>
<span data-ttu-id="d5fc3-303">**Строка:** MaxAgeSessionSingleFactor</span><span class="sxs-lookup"><span data-stu-id="d5fc3-303">**String:** MaxAgeSessionSingleFactor</span></span>

<span data-ttu-id="d5fc3-304">**Область применения:** маркеры сеанса (постоянные и временные)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-304">**Affects:** Session tokens (persistent and nonpersistent)</span></span>

<span data-ttu-id="d5fc3-305">**Сводка:** этот параметр определяет продолжительность пользователь может использовать токен tooget сеанса, новый идентификатор и сеанса токен после их последнего подлинность проверена успешно с помощью только одного фактора.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-305">**Summary:** This policy controls how long a user can use a session token tooget a new ID and session token after they last authenticated successfully by using only a single factor.</span></span> <span data-ttu-id="d5fc3-306">После пользователь проходит проверку подлинности и получает маркер новый сеанс, hello пользователь может использовать поток маркеров hello сеанса для hello указанного периода времени.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-306">After a user authenticates and receives a new session token, hello user can use hello session token flow for hello specified period of time.</span></span> <span data-ttu-id="d5fc3-307">(Это значение true, при условии, что hello токена текущего сеанса не отозван и не истек). После hello указанный период времени, пользователь hello является принудительное tooreauthenticate tooreceive новый маркер.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-307">(This is true as long as hello current session token is not revoked and has not expired.) After hello specified period of time, hello user is forced tooreauthenticate tooreceive a new session token.</span></span>

<span data-ttu-id="d5fc3-308">Уменьшение максимального возраста hello принудительно tooauthenticate пользователи чаще.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-308">Reducing hello max age forces users tooauthenticate more often.</span></span> <span data-ttu-id="d5fc3-309">Поскольку однофакторной проверки подлинности является менее безопасен, чем многофакторной проверки подлинности, рекомендуется установить это значение свойства tooa, равно tooor меньше hello многофакторной сеанса токена максимального срока хранения в свойство.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-309">Because single-factor authentication is considered less secure than multi-factor authentication, we recommend that you set this property tooa value that is equal tooor less than hello Multi-Factor Session Token Max Age property.</span></span>

### <a name="multi-factor-session-token-max-age"></a><span data-ttu-id="d5fc3-310">Максимальный возраст многофакторного маркера сеанса</span><span class="sxs-lookup"><span data-stu-id="d5fc3-310">Multi-Factor Session Token Max Age</span></span>
<span data-ttu-id="d5fc3-311">**Строка:** MaxAgeSessionMultiFactor</span><span class="sxs-lookup"><span data-stu-id="d5fc3-311">**String:** MaxAgeSessionMultiFactor</span></span>

<span data-ttu-id="d5fc3-312">**Область применения:** маркеры сеанса (постоянные и временные)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-312">**Affects:** Session tokens (persistent and nonpersistent)</span></span>

<span data-ttu-id="d5fc3-313">**Сводка:** Здравствуйте, этот параметр определяет продолжительность пользователь может использовать токен tooget сеанса, новый идентификатор и сеанса токен после последнего времени они выполнена проверка подлинности успешно с использованием нескольких факторов.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-313">**Summary:** This policy controls how long a user can use a session token tooget a new ID and session token after hello last time they authenticated successfully by using multiple factors.</span></span> <span data-ttu-id="d5fc3-314">После пользователь проходит проверку подлинности и получает маркер новый сеанс, hello пользователь может использовать поток маркеров hello сеанса для hello указанного периода времени.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-314">After a user authenticates and receives a new session token, hello user can use hello session token flow for hello specified period of time.</span></span> <span data-ttu-id="d5fc3-315">(Это значение true, при условии, что hello токена текущего сеанса не отозван и не истек). После hello указанный период времени, пользователь hello является принудительное tooreauthenticate tooreceive новый маркер.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-315">(This is true as long as hello current session token is not revoked and has not expired.) After hello specified period of time, hello user is forced tooreauthenticate tooreceive a new session token.</span></span>

<span data-ttu-id="d5fc3-316">Уменьшение максимального возраста hello принудительно tooauthenticate пользователи чаще.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-316">Reducing hello max age forces users tooauthenticate more often.</span></span> <span data-ttu-id="d5fc3-317">Поскольку однофакторной проверки подлинности является менее безопасен, чем многофакторной проверки подлинности, рекомендуется установить это значение свойства tooa, равно tooor, превышающее значение hello маркера максимального срока хранения проверкой сеанса.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-317">Because single-factor authentication is considered less secure than multi-factor authentication, we recommend that you set this property tooa value that is equal tooor greater than hello Single-Factor Session Token Max Age property.</span></span>

## <a name="example-token-lifetime-policies"></a><span data-ttu-id="d5fc3-318">Пример использования политик срока действия маркеров</span><span class="sxs-lookup"><span data-stu-id="d5fc3-318">Example token lifetime policies</span></span>
<span data-ttu-id="d5fc3-319">Указывая и изменяя время жизни маркеров для приложений, субъектов-служб и организации в целом, вы сможете реализовать в Azure AD много новых сценариев.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-319">Many scenarios are possible in Azure AD when you can create and manage token lifetimes for apps, service principals, and your overall organization.</span></span> <span data-ttu-id="d5fc3-320">В этом разделе мы рассмотрим несколько распространенных вариантов использования политик, которые помогут вам правильно применять новые правила для следующих параметров:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-320">In this section, we walk through a few common policy scenarios that can help you impose new rules for:</span></span>

* <span data-ttu-id="d5fc3-321">Token Lifetime</span><span class="sxs-lookup"><span data-stu-id="d5fc3-321">Token Lifetime</span></span>
* <span data-ttu-id="d5fc3-322">максимальное время неактивности для маркеров;</span><span class="sxs-lookup"><span data-stu-id="d5fc3-322">Token Max Inactive Time</span></span>
* <span data-ttu-id="d5fc3-323">Максимальный возраст маркеров</span><span class="sxs-lookup"><span data-stu-id="d5fc3-323">Token Max Age</span></span>

<span data-ttu-id="d5fc3-324">В примерах hello, можно узнать, как:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-324">In hello examples, you can learn how to:</span></span>

* <span data-ttu-id="d5fc3-325">как управлять политикой организации по умолчанию;</span><span class="sxs-lookup"><span data-stu-id="d5fc3-325">Manage an organization's default policy</span></span>
* <span data-ttu-id="d5fc3-326">как создать политику для входа в веб-службы;</span><span class="sxs-lookup"><span data-stu-id="d5fc3-326">Create a policy for web sign-in</span></span>
* <span data-ttu-id="d5fc3-327">как создать политику для собственного приложения, которое вызывает веб-API;</span><span class="sxs-lookup"><span data-stu-id="d5fc3-327">Create a policy for a native app that calls a web API</span></span>
* <span data-ttu-id="d5fc3-328">как управлять расширенной политикой.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-328">Manage an advanced policy</span></span>

### <a name="prerequisites"></a><span data-ttu-id="d5fc3-329">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="d5fc3-329">Prerequisites</span></span>
<span data-ttu-id="d5fc3-330">В следующих примерах hello создание, обновление, связать и удаление политики для вашей организации, приложений и субъектов-служб.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-330">In hello following examples, you create, update, link, and delete policies for apps, service principals, and your overall organization.</span></span> <span data-ttu-id="d5fc3-331">Если новый tooAzure AD, рекомендуется изучить [как tooget в Azure AD для клиента](active-directory-howto-tenant.md) перед выполнением этих примеров.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-331">If you are new tooAzure AD, we recommend that you learn about [how tooget an Azure AD tenant](active-directory-howto-tenant.md) before you proceed with these examples.</span></span>  

<span data-ttu-id="d5fc3-332">запущена, tooget hello следующие шаги:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-332">tooget started, do hello following steps:</span></span>

1. <span data-ttu-id="d5fc3-333">Загрузить последний hello [Azure AD PowerShell модуль выпуска общедоступной предварительной версии](https://www.powershellgallery.com/packages/AzureADPreview).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-333">Download hello latest [Azure AD PowerShell Module Public Preview release](https://www.powershellgallery.com/packages/AzureADPreview).</span></span>
2. <span data-ttu-id="d5fc3-334">Запустите hello `Connect` toosign команды в tooyour учетная запись администратора Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-334">Run hello `Connect` command toosign in tooyour Azure AD admin account.</span></span> <span data-ttu-id="d5fc3-335">Эту команду следует выполнять при каждом запуске сеанса.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-335">Run this command each time you start a new session.</span></span>

    ```PowerShell
    Connect-AzureAD -Confirm
    ```

3. <span data-ttu-id="d5fc3-336">toosee все политики, которые были созданы в вашей организации, выполнения hello следующие команды.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-336">toosee all policies that have been created in your organization, run hello following command.</span></span> <span data-ttu-id="d5fc3-337">Выполните эту команду после большинства операций в hello следующие сценарии.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-337">Run this command after most operations in hello following scenarios.</span></span> <span data-ttu-id="d5fc3-338">Выполнение команды hello также позволяет воспользоваться hello ** ** политик.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-338">Running hello command also helps you get hello ** ** of your policies.</span></span>

    ```PowerShell
    Get-AzureADPolicy
    ```

### <a name="example-manage-an-organizations-default-policy"></a><span data-ttu-id="d5fc3-339">Пример управления политикой организации по умолчанию</span><span class="sxs-lookup"><span data-stu-id="d5fc3-339">Example: Manage an organization's default policy</span></span>
<span data-ttu-id="d5fc3-340">В этом примере мы создадим для всей организации политику, которая позволяет пользователям реже вводить учетные данные.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-340">In this example, you create a policy that lets your users sign in less frequently across your entire organization.</span></span> <span data-ttu-id="d5fc3-341">toodo это, создайте политику времени существования маркера для проверкой токенов обновления, которая используется в вашей организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-341">toodo this, create a token lifetime policy for Single-Factor Refresh Tokens, which is applied across your organization.</span></span> <span data-ttu-id="d5fc3-342">политика Hello — примененных tooevery приложения в вашей организации и tooeach участника-службы, задать политики еще нет.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-342">hello policy is applied tooevery application in your organization, and tooeach service principal that doesn’t already have a policy set.</span></span>

1. <span data-ttu-id="d5fc3-343">Создайте политику времени жизни маркеров.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-343">Create a token lifetime policy.</span></span>

    1.  <span data-ttu-id="d5fc3-344">Набор hello проверкой токен обновления слишком» до отозванные.»</span><span class="sxs-lookup"><span data-stu-id="d5fc3-344">Set hello Single-Factor Refresh Token too"until-revoked."</span></span> <span data-ttu-id="d5fc3-345">токен Hello не истекает, пока отмене доступа.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-345">hello token doesn't expire until access is revoked.</span></span> <span data-ttu-id="d5fc3-346">Создайте следующие определения политики hello:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-346">Create hello following policy definition:</span></span>

        ```PowerShell
        @('{
            "TokenLifetimePolicy":
            {
                "Version":1,
                "MaxAgeSingleFactor":"until-revoked"
            }
        }')
        ```

    2.  <span data-ttu-id="d5fc3-347">политика hello toocreate с запуска hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-347">toocreate hello policy, run hello following command:</span></span>

        ```PowerShell
        New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1, "MaxAgeSingleFactor":"until-revoked"}}') -DisplayName "OrganizationDefaultPolicyScenario" -IsOrganizationDefault $true -Type "TokenLifetimePolicy"
        ```

    3.  <span data-ttu-id="d5fc3-348">toosee новую политику, а также политики hello tooget **ObjectId**, запустите hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-348">toosee your new policy, and tooget hello policy's **ObjectId**, run hello following command:</span></span>

        ```PowerShell
        Get-AzureADPolicy
        ```

2. <span data-ttu-id="d5fc3-349">Обновление политики hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-349">Update hello policy.</span></span>

    <span data-ttu-id="d5fc3-350">Можно решить, заданные в этом примере первая политика hello не строгие службе требуется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-350">You might decide that hello first policy you set in this example is not as strict as your service requires.</span></span> <span data-ttu-id="d5fc3-351">Запустите ваш токен обновления проверкой tooexpire в течение двух дней tooset hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-351">tooset your Single-Factor Refresh Token tooexpire in two days, run hello following command:</span></span>

    ```PowerShell
    Set-AzureADPolicy -Id <ObjectId FROM GET COMMAND> -DisplayName "OrganizationDefaultPolicyUpdatedScenario" -Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxAgeSingleFactor":"2.00:00:00"}}')
    ```

### <a name="example-create-a-policy-for-web-sign-in"></a><span data-ttu-id="d5fc3-352">Пример создания политики для входа в веб-службы</span><span class="sxs-lookup"><span data-stu-id="d5fc3-352">Example: Create a policy for web sign-in</span></span>

<span data-ttu-id="d5fc3-353">В этом примере создается политика, которая требует tooauthenticate пользователи чаще, в веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-353">In this example, you create a policy that requires users tooauthenticate more frequently in your web app.</span></span> <span data-ttu-id="d5fc3-354">Эта политика задает время существования маркеров доступа или идентификатор hello hello и максимальный возраст hello субъекта-службы маркеров toohello многофакторной сеанса веб-приложения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-354">This policy sets hello lifetime of hello access/ID tokens and hello max age of a multi-factor session token toohello service principal of your web app.</span></span>

1. <span data-ttu-id="d5fc3-355">Создайте политику времени жизни маркеров.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-355">Create a token lifetime policy.</span></span>

    <span data-ttu-id="d5fc3-356">Эта политика для web входа в систему, задает время существования маркера доступа или идентификатор hello и hello max проверкой маркера возраст tootwo часы сеансов.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-356">This policy, for web sign-in, sets hello access/ID token lifetime and hello max single-factor session token age tootwo hours.</span></span>

    1.  <span data-ttu-id="d5fc3-357">toocreate политика hello, выполните следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-357">toocreate hello policy, run this command:</span></span>

        ```PowerShell
        New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1,"AccessTokenLifetime":"02:00:00","MaxAgeSessionSingleFactor":"02:00:00"}}') -DisplayName "WebPolicyScenario" -IsOrganizationDefault $false -Type "TokenLifetimePolicy"
        ```

    2.  <span data-ttu-id="d5fc3-358">toosee новую политику, а также политики hello tooget **ObjectId**, запустите hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-358">toosee your new policy, and tooget hello policy **ObjectId**, run hello following command:</span></span>

        ```PowerShell
        Get-AzureADPolicy
        ```

2.  <span data-ttu-id="d5fc3-359">Назначьте участника-службы tooyour политики hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-359">Assign hello policy tooyour service principal.</span></span> <span data-ttu-id="d5fc3-360">Необходимо также tooget hello **ObjectId** субъекта-службы.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-360">You also need tooget hello **ObjectId** of your service principal.</span></span> 

    1.  <span data-ttu-id="d5fc3-361">toosee субъектов-служб вашей организации, вы можете запросить [Microsoft Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-361">toosee all your organization's service principals, you can query [Microsoft Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity).</span></span> <span data-ttu-id="d5fc3-362">Либо в [Azure AD Graph Explorer](https://graphexplorer.cloudapp.net/), войдите в tooyour учетной записи Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-362">Or, in [Azure AD Graph Explorer](https://graphexplorer.cloudapp.net/), sign in tooyour Azure AD account.</span></span>

    2.  <span data-ttu-id="d5fc3-363">При наличии hello **ObjectId** субъекта-службы запуска hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-363">When you have hello **ObjectId** of your service principal, run hello following command:</span></span>

        ```PowerShell
        Add-AzureADServicePrincipalPolicy -Id <ObjectId of hello ServicePrincipal> -RefObjectId <ObjectId of hello Policy>
        ```


### <a name="example-create-a-policy-for-a-native-app-that-calls-a-web-api"></a><span data-ttu-id="d5fc3-364">Пример создания политики для собственного приложения, вызывающего веб-API</span><span class="sxs-lookup"><span data-stu-id="d5fc3-364">Example: Create a policy for a native app that calls a web API</span></span>
<span data-ttu-id="d5fc3-365">В этом примере создается политика, часто требуется меньше пользователей tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-365">In this example, you create a policy that requires users tooauthenticate less frequently.</span></span> <span data-ttu-id="d5fc3-366">Hello политики также увеличивающими hello количество времени, пользователь может оставаться неактивным, перед hello пользователь должен принудительную проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-366">hello policy also lengthens hello amount of time a user can be inactive before hello user must reauthenticate.</span></span> <span data-ttu-id="d5fc3-367">политика Hello — примененных toohello веб-API.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-367">hello policy is applied toohello web API.</span></span> <span data-ttu-id="d5fc3-368">Когда собственное приложение hello запрашивает hello веб-API в качестве ресурса, применяется эта политика.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-368">When hello native app requests hello web API as a resource, this policy is applied.</span></span>

1. <span data-ttu-id="d5fc3-369">Создайте политику времени жизни маркеров.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-369">Create a token lifetime policy.</span></span>

    1.  <span data-ttu-id="d5fc3-370">toocreate strict политику для веб-API, запустите hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-370">toocreate a strict policy for a web API, run hello following command:</span></span>

        ```PowerShell
        New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxInactiveTime":"30.00:00:00","MaxAgeMultiFactor":"until-revoked","MaxAgeSingleFactor":"180.00:00:00"}}') -DisplayName "WebApiDefaultPolicyScenario" -IsOrganizationDefault $false -Type "TokenLifetimePolicy"
        ```

    2.  <span data-ttu-id="d5fc3-371">toosee новую политику, а также политики hello tooget **ObjectId**, запустите hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-371">toosee your new policy, and tooget hello policy **ObjectId**, run hello following command:</span></span>

        ```PowerShell
        Get-AzureADPolicy
        ```

2. <span data-ttu-id="d5fc3-372">Назначьте hello политики tooyour веб-API.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-372">Assign hello policy tooyour web API.</span></span> <span data-ttu-id="d5fc3-373">Необходимо также tooget hello **ObjectId** приложения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-373">You also need tooget hello **ObjectId** of your application.</span></span> <span data-ttu-id="d5fc3-374">Здравствуйте, лучшим способом toofind приложения **ObjectId** — toouse hello [портал Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-374">hello best way toofind your app's **ObjectId** is toouse hello [Azure portal](https://portal.azure.com/).</span></span>

   <span data-ttu-id="d5fc3-375">При наличии hello **ObjectId** приложения, запустите hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-375">When you have hello **ObjectId** of your app, run hello following command:</span></span>

        ```PowerShell
        Add-AzureADApplicationPolicy -Id <ObjectId of hello Application> -RefObjectId <ObjectId of hello Policy>
        ```


### <a name="example-manage-an-advanced-policy"></a><span data-ttu-id="d5fc3-376">Пример управления расширенной политикой</span><span class="sxs-lookup"><span data-stu-id="d5fc3-376">Example: Manage an advanced policy</span></span>
<span data-ttu-id="d5fc3-377">В этом примере можно создать несколько политик, как работает система приоритетов hello toolearn.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-377">In this example, you create a few policies, toolearn how hello priority system works.</span></span> <span data-ttu-id="d5fc3-378">Вы также узнаете как toomanage несколько политик, которые являются объектами примененных tooseveral.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-378">You also can learn how toomanage multiple policies that are applied tooseveral objects.</span></span>

1. <span data-ttu-id="d5fc3-379">Создайте политику времени жизни маркеров.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-379">Create a token lifetime policy.</span></span>

    1.  <span data-ttu-id="d5fc3-380">toocreate политику по умолчанию организации, которая задает дни hello токен обновления проверкой too30 время существования, запустите следующую команду hello:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-380">toocreate an organization default policy that sets hello Single-Factor Refresh Token lifetime too30 days, run hello following command:</span></span>

        ```PowerShell
        New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxAgeSingleFactor":"30.00:00:00"}}') -DisplayName "ComplexPolicyScenario" -IsOrganizationDefault $true -Type "TokenLifetimePolicy"
        ```

    2.  <span data-ttu-id="d5fc3-381">toosee новую политику, а также политики hello tooget **ObjectId**, запустите hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-381">toosee your new policy, and tooget hello policy's **ObjectId**, run hello following command:</span></span>

        ```PowerShell
        Get-AzureADPolicy
        ```

2. <span data-ttu-id="d5fc3-382">Назначьте участника-службы tooa политики hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-382">Assign hello policy tooa service principal.</span></span>

    <span data-ttu-id="d5fc3-383">Вы получили политику, применяемую toohello всей организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-383">Now, you have a policy that applies toohello entire organization.</span></span> <span data-ttu-id="d5fc3-384">Может потребоваться toopreserve эта политика 30-дневной для участника службы, но также изменить hello организации по умолчанию политика toohello верхний предел «до отозванные.»</span><span class="sxs-lookup"><span data-stu-id="d5fc3-384">You might want toopreserve this 30-day policy for a specific service principal, but change hello organization default policy toohello upper limit of "until-revoked."</span></span>

    1.  <span data-ttu-id="d5fc3-385">toosee субъектов-служб вашей организации, вы можете запросить [Microsoft Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity).</span><span class="sxs-lookup"><span data-stu-id="d5fc3-385">toosee all your organization's service principals, you can query [Microsoft Graph](https://msdn.microsoft.com/Library/Azure/Ad/Graph/api/entity-and-complex-type-reference#serviceprincipal-entity).</span></span> <span data-ttu-id="d5fc3-386">или открыть [проводник Azure AD Graph](https://graphexplorer.cloudapp.net/) и войти в учетную запись Azure AD.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-386">Or, in [Azure AD Graph Explorer](https://graphexplorer.cloudapp.net/), sign in by using your Azure AD account.</span></span>

    2.  <span data-ttu-id="d5fc3-387">При наличии hello **ObjectId** субъекта-службы запуска hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-387">When you have hello **ObjectId** of your service principal, run hello following command:</span></span>

            ```PowerShell
            Add-AzureADServicePrincipalPolicy -Id <ObjectId of hello ServicePrincipal> -RefObjectId <ObjectId of hello Policy>
            ```
        
3. <span data-ttu-id="d5fc3-388">Набор hello `IsOrganizationDefault` флаг toofalse:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-388">Set hello `IsOrganizationDefault` flag toofalse:</span></span>

    ```PowerShell
    Set-AzureADPolicy -Id <ObjectId of Policy> -DisplayName "ComplexPolicyScenario" -IsOrganizationDefault $false
    ```

4. <span data-ttu-id="d5fc3-389">Создайте новую политику организации по умолчанию:</span><span class="sxs-lookup"><span data-stu-id="d5fc3-389">Create a new organization default policy:</span></span>

    ```PowerShell
    New-AzureADPolicy -Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxAgeSingleFactor":"until-revoked"}}') -DisplayName "ComplexPolicyScenarioTwo" -IsOrganizationDefault $true -Type "TokenLifetimePolicy"
    ```

    <span data-ttu-id="d5fc3-390">Теперь у вас есть исходного участника-службы политик связанного tooyour hello и новая политика hello задано как политика по умолчанию вашей организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-390">You now have hello original policy linked tooyour service principal, and hello new policy is set as your organization default policy.</span></span> <span data-ttu-id="d5fc3-391">Это важные tooremember, что участники tooservice применяются политики имеют приоритет над организации политик по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-391">It's important tooremember that policies applied tooservice principals have priority over organization default policies.</span></span>

## <a name="cmdlet-reference"></a><span data-ttu-id="d5fc3-392">Справочник по командлетам</span><span class="sxs-lookup"><span data-stu-id="d5fc3-392">Cmdlet reference</span></span>

### <a name="manage-policies"></a><span data-ttu-id="d5fc3-393">Управление политиками</span><span class="sxs-lookup"><span data-stu-id="d5fc3-393">Manage policies</span></span>

<span data-ttu-id="d5fc3-394">Можно использовать следующие командлеты toomanage политики hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-394">You can use hello following cmdlets toomanage policies.</span></span>

#### <a name="new-azureadpolicy"></a><span data-ttu-id="d5fc3-395">New-AzureADPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-395">New-AzureADPolicy</span></span>

<span data-ttu-id="d5fc3-396">Создает новую политику.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-396">Creates a new policy.</span></span>

```PowerShell
New-AzureADPolicy -Definition <Array of Rules> -DisplayName <Name of Policy> -IsOrganizationDefault <boolean> -Type <Policy Type>
```

| <span data-ttu-id="d5fc3-397">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-397">Parameters</span></span> | <span data-ttu-id="d5fc3-398">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-398">Description</span></span> | <span data-ttu-id="d5fc3-399">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-399">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Definition</code> |<span data-ttu-id="d5fc3-400">Массив stringified JSON, содержащий все политики hello правила.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-400">Array of stringified JSON that contains all hello policy's rules.</span></span> | `-Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxInactiveTime":"20:00:00"}}')` |
| <code>&#8209;DisplayName</code> |<span data-ttu-id="d5fc3-401">Строка hello имя политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-401">String of hello policy name.</span></span> |`-DisplayName "MyTokenPolicy"` |
| <code>&#8209;IsOrganizationDefault</code> |<span data-ttu-id="d5fc3-402">Если значение равно true, задает политику hello как политика по умолчанию hello организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-402">If true, sets hello policy as hello organization's default policy.</span></span> <span data-ttu-id="d5fc3-403">Если присвоено значение false — параметр игнорируется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-403">If false, does nothing.</span></span> |`-IsOrganizationDefault $true` |
| <code>&#8209;Type</code> |<span data-ttu-id="d5fc3-404">Тип политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-404">Type of policy.</span></span> <span data-ttu-id="d5fc3-405">Для политик времени жизни маркеров всегда используйте значение TokenLifetimePolicy.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-405">For token lifetimes, always use "TokenLifetimePolicy."</span></span> | `-Type "TokenLifetimePolicy"` |
| <span data-ttu-id="d5fc3-406"><code>&#8209;AlternativeIdentifier</code> (необязательный параметр)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-406"><code>&#8209;AlternativeIdentifier</code> [Optional]</span></span> |<span data-ttu-id="d5fc3-407">Задает альтернативным Идентификатором для политики hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-407">Sets an alternative ID for hello policy.</span></span> |`-AlternativeIdentifier "myAltId"` |

</br></br>

#### <a name="get-azureadpolicy"></a><span data-ttu-id="d5fc3-408">Get-AzureADPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-408">Get-AzureADPolicy</span></span>
<span data-ttu-id="d5fc3-409">Возвращает полный список политик Azure AD или одну указанную политику.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-409">Gets all Azure AD policies or a specified policy.</span></span>

```PowerShell
Get-AzureADPolicy
```

| <span data-ttu-id="d5fc3-410">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-410">Parameters</span></span> | <span data-ttu-id="d5fc3-411">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-411">Description</span></span> | <span data-ttu-id="d5fc3-412">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-412">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d5fc3-413"><code>&#8209;Id</code> (необязательный параметр)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-413"><code>&#8209;Id</code> [Optional]</span></span> |<span data-ttu-id="d5fc3-414">**ObjectId (Id)** hello политики требуется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-414">**ObjectId (Id)** of hello policy you want.</span></span> |`-Id <ObjectId of Policy>` |

</br></br>

#### <a name="get-azureadpolicyappliedobject"></a><span data-ttu-id="d5fc3-415">Get-AzureADPolicyAppliedObject</span><span class="sxs-lookup"><span data-stu-id="d5fc3-415">Get-AzureADPolicyAppliedObject</span></span>
<span data-ttu-id="d5fc3-416">Возвращает все приложения и участников службы, которые являются связанные tooa политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-416">Gets all apps and service principals that are linked tooa policy.</span></span>

```PowerShell
Get-AzureADPolicyAppliedObject -Id <ObjectId of Policy>
```

| <span data-ttu-id="d5fc3-417">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-417">Parameters</span></span> | <span data-ttu-id="d5fc3-418">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-418">Description</span></span> | <span data-ttu-id="d5fc3-419">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-419">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-420">**ObjectId (Id)** hello политики требуется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-420">**ObjectId (Id)** of hello policy you want.</span></span> |`-Id <ObjectId of Policy>` |

</br></br>

#### <a name="set-azureadpolicy"></a><span data-ttu-id="d5fc3-421">Set-AzureADPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-421">Set-AzureADPolicy</span></span>
<span data-ttu-id="d5fc3-422">Обновляет существующую политику.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-422">Updates an existing policy.</span></span>

```PowerShell
Set-AzureADPolicy -Id <ObjectId of Policy> -DisplayName <string>
```

| <span data-ttu-id="d5fc3-423">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-423">Parameters</span></span> | <span data-ttu-id="d5fc3-424">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-424">Description</span></span> | <span data-ttu-id="d5fc3-425">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-425">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-426">**ObjectId (Id)** hello политики требуется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-426">**ObjectId (Id)** of hello policy you want.</span></span> |`-Id <ObjectId of Policy>` |
| <code>&#8209;DisplayName</code> |<span data-ttu-id="d5fc3-427">Строка hello имя политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-427">String of hello policy name.</span></span> |`-DisplayName "MyTokenPolicy"` |
| <span data-ttu-id="d5fc3-428"><code>&#8209;Definition</code> (необязательный параметр)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-428"><code>&#8209;Definition</code> [Optional]</span></span> |<span data-ttu-id="d5fc3-429">Массив stringified JSON, содержащий все политики hello правила.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-429">Array of stringified JSON that contains all hello policy's rules.</span></span> |`-Definition @('{"TokenLifetimePolicy":{"Version":1,"MaxInactiveTime":"20:00:00"}}')` |
| <span data-ttu-id="d5fc3-430"><code>&#8209;IsOrganizationDefault</code> (необязательный параметр)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-430"><code>&#8209;IsOrganizationDefault</code> [Optional]</span></span> |<span data-ttu-id="d5fc3-431">Если значение равно true, задает политику hello как политика по умолчанию hello организации.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-431">If true, sets hello policy as hello organization's default policy.</span></span> <span data-ttu-id="d5fc3-432">Если присвоено значение false — параметр игнорируется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-432">If false, does nothing.</span></span> |`-IsOrganizationDefault $true` |
| <span data-ttu-id="d5fc3-433"><code>&#8209;Type</code> (необязательный параметр)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-433"><code>&#8209;Type</code> [Optional]</span></span> |<span data-ttu-id="d5fc3-434">Тип политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-434">Type of policy.</span></span> <span data-ttu-id="d5fc3-435">Для политик времени жизни маркеров всегда используйте значение TokenLifetimePolicy.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-435">For token lifetimes, always use "TokenLifetimePolicy."</span></span> |`-Type "TokenLifetimePolicy"` |
| <span data-ttu-id="d5fc3-436"><code>&#8209;AlternativeIdentifier</code> (необязательный параметр)</span><span class="sxs-lookup"><span data-stu-id="d5fc3-436"><code>&#8209;AlternativeIdentifier</code> [Optional]</span></span> |<span data-ttu-id="d5fc3-437">Задает альтернативным Идентификатором для политики hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-437">Sets an alternative ID for hello policy.</span></span> |`-AlternativeIdentifier "myAltId"` |

</br></br>

#### <a name="remove-azureadpolicy"></a><span data-ttu-id="d5fc3-438">Remove-AzureADPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-438">Remove-AzureADPolicy</span></span>
<span data-ttu-id="d5fc3-439">Удаляет hello указан политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-439">Deletes hello specified policy.</span></span>

```PowerShell
 Remove-AzureADPolicy -Id <ObjectId of Policy>
```

| <span data-ttu-id="d5fc3-440">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-440">Parameters</span></span> | <span data-ttu-id="d5fc3-441">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-441">Description</span></span> | <span data-ttu-id="d5fc3-442">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-442">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-443">**ObjectId (Id)** hello политики требуется.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-443">**ObjectId (Id)** of hello policy you want.</span></span> | `-Id <ObjectId of Policy>` |

</br></br>

### <a name="application-policies"></a><span data-ttu-id="d5fc3-444">Политики приложений</span><span class="sxs-lookup"><span data-stu-id="d5fc3-444">Application policies</span></span>
<span data-ttu-id="d5fc3-445">Можно использовать следующие командлеты для политик приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-445">You can use hello following cmdlets for application policies.</span></span></br></br>

#### <a name="add-azureadapplicationpolicy"></a><span data-ttu-id="d5fc3-446">Add-AzureADApplicationPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-446">Add-AzureADApplicationPolicy</span></span>
<span data-ttu-id="d5fc3-447">Hello ссылки указано tooan применения политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-447">Links hello specified policy tooan application.</span></span>

```PowerShell
Add-AzureADApplicationPolicy -Id <ObjectId of Application> -RefObjectId <ObjectId of Policy>
```

| <span data-ttu-id="d5fc3-448">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-448">Parameters</span></span> | <span data-ttu-id="d5fc3-449">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-449">Description</span></span> | <span data-ttu-id="d5fc3-450">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-450">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-451">**ObjectId (Id)** приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-451">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |
| <code>&#8209;RefObjectId</code> |<span data-ttu-id="d5fc3-452">**ObjectId** hello политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-452">**ObjectId** of hello policy.</span></span> | `-RefObjectId <ObjectId of Policy>` |

</br></br>

#### <a name="get-azureadapplicationpolicy"></a><span data-ttu-id="d5fc3-453">Get-AzureADApplicationPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-453">Get-AzureADApplicationPolicy</span></span>
<span data-ttu-id="d5fc3-454">Получает политику Здравствуй, назначаемый tooan приложения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-454">Gets hello policy that is assigned tooan application.</span></span>

```PowerShell
Get-AzureADApplicationPolicy -Id <ObjectId of Application>
```

| <span data-ttu-id="d5fc3-455">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-455">Parameters</span></span> | <span data-ttu-id="d5fc3-456">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-456">Description</span></span> | <span data-ttu-id="d5fc3-457">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-457">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-458">**ObjectId (Id)** приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-458">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |

</br></br>

#### <a name="remove-azureadapplicationpolicy"></a><span data-ttu-id="d5fc3-459">Remove-AzureADApplicationPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-459">Remove-AzureADApplicationPolicy</span></span>
<span data-ttu-id="d5fc3-460">Удаляет политику из приложения.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-460">Removes a policy from an application.</span></span>

```PowerShell
Remove-AzureADApplicationPolicy -Id <ObjectId of Application> -PolicyId <ObjectId of Policy>
```

| <span data-ttu-id="d5fc3-461">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-461">Parameters</span></span> | <span data-ttu-id="d5fc3-462">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-462">Description</span></span> | <span data-ttu-id="d5fc3-463">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-463">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-464">**ObjectId (Id)** приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-464">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |
| <code>&#8209;PolicyId</code> |<span data-ttu-id="d5fc3-465">**ObjectId** hello политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-465">**ObjectId** of hello policy.</span></span> | `-PolicyId <ObjectId of Policy>` |

</br></br>

### <a name="service-principal-policies"></a><span data-ttu-id="d5fc3-466">Политики субъекта-службы</span><span class="sxs-lookup"><span data-stu-id="d5fc3-466">Service principal policies</span></span>
<span data-ttu-id="d5fc3-467">Можно использовать следующие командлеты для политики основной службы hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-467">You can use hello following cmdlets for service principal policies.</span></span>

#### <a name="add-azureadserviceprincipalpolicy"></a><span data-ttu-id="d5fc3-468">Add-AzureADServicePrincipalPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-468">Add-AzureADServicePrincipalPolicy</span></span>
<span data-ttu-id="d5fc3-469">Ссылки hello участника-службы tooa указанной политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-469">Links hello specified policy tooa service principal.</span></span>

```PowerShell
Add-AzureADServicePrincipalPolicy -Id <ObjectId of ServicePrincipal> -RefObjectId <ObjectId of Policy>
```

| <span data-ttu-id="d5fc3-470">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-470">Parameters</span></span> | <span data-ttu-id="d5fc3-471">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-471">Description</span></span> | <span data-ttu-id="d5fc3-472">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-472">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-473">**ObjectId (Id)** приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-473">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |
| <code>&#8209;RefObjectId</code> |<span data-ttu-id="d5fc3-474">**ObjectId** hello политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-474">**ObjectId** of hello policy.</span></span> | `-RefObjectId <ObjectId of Policy>` |

</br></br>

#### <a name="get-azureadserviceprincipalpolicy"></a><span data-ttu-id="d5fc3-475">Get-AzureADServicePrincipalPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-475">Get-AzureADServicePrincipalPolicy</span></span>
<span data-ttu-id="d5fc3-476">Возвращает все политики связанного toohello указанного субъекта-службы.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-476">Gets any policy linked toohello specified service principal.</span></span>

```PowerShell
Get-AzureADServicePrincipalPolicy -Id <ObjectId of ServicePrincipal>
```

| <span data-ttu-id="d5fc3-477">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-477">Parameters</span></span> | <span data-ttu-id="d5fc3-478">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-478">Description</span></span> | <span data-ttu-id="d5fc3-479">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-479">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-480">**ObjectId (Id)** приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-480">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |

</br></br>

#### <a name="remove-azureadserviceprincipalpolicy"></a><span data-ttu-id="d5fc3-481">Remove-AzureADServicePrincipalPolicy</span><span class="sxs-lookup"><span data-stu-id="d5fc3-481">Remove-AzureADServicePrincipalPolicy</span></span>
<span data-ttu-id="d5fc3-482">Удаляет политику hello из hello указанного субъекта-службы.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-482">Removes hello policy from hello specified service principal.</span></span>

```PowerShell
Remove-AzureADServicePrincipalPolicy -Id <ObjectId of ServicePrincipal>  -PolicyId <ObjectId of Policy>
```

| <span data-ttu-id="d5fc3-483">Параметры</span><span class="sxs-lookup"><span data-stu-id="d5fc3-483">Parameters</span></span> | <span data-ttu-id="d5fc3-484">Описание</span><span class="sxs-lookup"><span data-stu-id="d5fc3-484">Description</span></span> | <span data-ttu-id="d5fc3-485">Пример</span><span class="sxs-lookup"><span data-stu-id="d5fc3-485">Example</span></span> |
| --- | --- | --- |
| <code>&#8209;Id</code> |<span data-ttu-id="d5fc3-486">**ObjectId (Id)** приложения hello.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-486">**ObjectId (Id)** of hello application.</span></span> | `-Id <ObjectId of Application>` |
| <code>&#8209;PolicyId</code> |<span data-ttu-id="d5fc3-487">**ObjectId** hello политики.</span><span class="sxs-lookup"><span data-stu-id="d5fc3-487">**ObjectId** of hello policy.</span></span> | `-PolicyId <ObjectId of Policy>` |
