---
title: "Ссылки на странице приложения прокси приложения не работают | Документация Майкрософт"
description: "Как устранить ошибки, связанные с неработающими ссылками на приложения прокси приложения, которые были интегрированы с Azure AD?"
services: active-directory
documentationcenter: 
author: ajamess
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: asteen
ms.openlocfilehash: 83c4261fab0498541591c01f9bb692b396c7b751
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="links-on-the-page-dont-work-for-an-application-proxy-application"></a><span data-ttu-id="4eabe-103">Ссылки на странице приложения прокси приложения не работают</span><span class="sxs-lookup"><span data-stu-id="4eabe-103">Links on the page don't work for an Application Proxy application</span></span>

<span data-ttu-id="4eabe-104">Эта статья поможет понять, почему ссылки на приложение прокси приложения Azure Active Directory работают неправильно.</span><span class="sxs-lookup"><span data-stu-id="4eabe-104">This article help you to troubleshoot why links on your Azure Active Directory Application Proxy application don't work correctly.</span></span>

## <a name="overview"></a><span data-ttu-id="4eabe-105">Обзор</span><span class="sxs-lookup"><span data-stu-id="4eabe-105">Overview</span></span> 
<span data-ttu-id="4eabe-106">После публикации приложения прокси приложения единственные ссылки, которые работают по умолчанию, — это ссылки на места назначения, которые содержатся в опубликованном корневом URL-адресе.</span><span class="sxs-lookup"><span data-stu-id="4eabe-106">After publishing an Application Proxy app, the only links that work by default in the application are links to destinations contained within the published root URL.</span></span> <span data-ttu-id="4eabe-107">Ссылки в приложениях не работают; внутренний URL-адрес приложения, скорее всего, не включает все места назначения для ссылок в приложении.</span><span class="sxs-lookup"><span data-stu-id="4eabe-107">The links within the applications aren’t working, the internal URL for the application probably does not include all the destinations of links within the application.</span></span>

<span data-ttu-id="4eabe-108">**Почему это происходит?**</span><span class="sxs-lookup"><span data-stu-id="4eabe-108">**Why does this happen?**</span></span> <span data-ttu-id="4eabe-109">При щелчке по ссылке в приложении прокси приложения пытается разрешить URL-адрес как внутренний URL-адрес, который относится к этому приложению, или как внешний URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="4eabe-109">When clicking a link in an application, Application Proxy tries to resolve the URL as either an internal URL within the same application, or as an externally available URL.</span></span> <span data-ttu-id="4eabe-110">Если ссылка указывает на внутренний URL-адрес, который не относится к этому приложению, то эта ссылка не принадлежит ни к одному из контейнеров, и возникает ошибка "Не найдено".</span><span class="sxs-lookup"><span data-stu-id="4eabe-110">If the link points to an internal URL that is not within the same application, it does not belong to either of these buckets and result in a not found error.</span></span>

## <a name="ways-you-can-resolve-broken-links"></a><span data-ttu-id="4eabe-111">Способы решения проблемы с неработающими ссылками</span><span class="sxs-lookup"><span data-stu-id="4eabe-111">Ways you can resolve broken links</span></span>

<span data-ttu-id="4eabe-112">Существует три способа решения этой проблемы.</span><span class="sxs-lookup"><span data-stu-id="4eabe-112">There are three ways to resolve this issue.</span></span> <span data-ttu-id="4eabe-113">Они перечислены ниже в порядке возрастания сложности.</span><span class="sxs-lookup"><span data-stu-id="4eabe-113">The choices below are in listed in increasing complexity.</span></span>

1.  <span data-ttu-id="4eabe-114">Убедитесь, что внутренний URL-адрес является корневым URL-адресом, который содержит все соответствующие ссылки для приложения.</span><span class="sxs-lookup"><span data-stu-id="4eabe-114">Make sure the internal URL is a root that contains all the relevant links for the application.</span></span> <span data-ttu-id="4eabe-115">Благодаря этому все ссылки будут разрешаться как содержимое, опубликованное в том же приложении.</span><span class="sxs-lookup"><span data-stu-id="4eabe-115">This allows all links to be resolved as content published within the same application.</span></span>

    <span data-ttu-id="4eabe-116">Если вы хотите изменить внутренний URL-адрес, но хотите оставить прежней целевую страницу для пользователей, измените URL-адрес домашней страницы на ранее опубликованный внутренний URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="4eabe-116">If you change the internal URL but don’t want to change the landing page for users, change the Home page URL to the previously published internal URL.</span></span> <span data-ttu-id="4eabe-117">Для этого выберите "Azure Active Directory" -&gt; "Регистрация приложений" -&gt; <приложение> -&gt; "Свойства".</span><span class="sxs-lookup"><span data-stu-id="4eabe-117">This can be done by going to “Azure Active Directory” -&gt; App Registrations -&gt; select the application -&gt; Properties.</span></span> <span data-ttu-id="4eabe-118">На вкладке "Свойства" вы увидите поле "URL-адрес домашней страницы", в котором можно указать необходимую целевую страницу.</span><span class="sxs-lookup"><span data-stu-id="4eabe-118">In this properties tab, you see the field “Home Page URL” which you can adjust to be the desired landing page.</span></span>

2.  <span data-ttu-id="4eabe-119">Если в приложениях используются полные доменные имена (FQDN), для публикации приложений следует использовать [пользовательские домены](https://docs.microsoft.com/azure/active-directory/active-directory-application-proxy-custom-domains).</span><span class="sxs-lookup"><span data-stu-id="4eabe-119">If your applications use fully qualified domain names (FQDNs), use [custom domains](https://docs.microsoft.com/azure/active-directory/active-directory-application-proxy-custom-domains) to publish your applications.</span></span> <span data-ttu-id="4eabe-120">Эта функция позволяет использовать один и тот же URL-адрес и как внутренний, и как внешний.</span><span class="sxs-lookup"><span data-stu-id="4eabe-120">This feature allows the same URL to be used both internally and externally.</span></span>

    <span data-ttu-id="4eabe-121">В этом случае ссылки в приложении будут доступны извне через прокси приложения, так как ссылки на внутренние URL-адреса в приложении также будут распознаваться извне.</span><span class="sxs-lookup"><span data-stu-id="4eabe-121">This option ensures that the links in your application are externally accessible through Application Proxy since the links within the application to internal URLs are also recognized externally.</span></span> <span data-ttu-id="4eabe-122">Обратите внимание, что все ссылки по-прежнему должны принадлежать опубликованному приложению.</span><span class="sxs-lookup"><span data-stu-id="4eabe-122">Note that all links still need to belong to a published application.</span></span> <span data-ttu-id="4eabe-123">Тем не менее в этом случае ссылки не должны принадлежать одному приложению и могут принадлежать нескольким приложениям.</span><span class="sxs-lookup"><span data-stu-id="4eabe-123">However, with this option the links do not need to belong to the same application and can belong to multiple applications.</span></span>

3.  <span data-ttu-id="4eabe-124">Если ни один из этих вариантов не подходит, обратитесь к предварительной версии, в которой доступна новая функция преобразования/переписывания URL-адресов.</span><span class="sxs-lookup"><span data-stu-id="4eabe-124">If neither of these options are feasible, you join the preview for a new feature that do URL translation/rewriting.</span></span> <span data-ttu-id="4eabe-125">Эта функция преобразует внутренние URL-адреса или ссылки в коде HTML приложения во внешние опубликованные URL-адреса прокси приложения.</span><span class="sxs-lookup"><span data-stu-id="4eabe-125">With this option, internal URLs or links that exist in the HTML body of your applications be translated, or “mapped”, to the published external App Proxy URLs.</span></span> <span data-ttu-id="4eabe-126">Эта функция работает только для ссылок в коде HTML и CSS и не поможет, если ссылка создается с помощью JS.</span><span class="sxs-lookup"><span data-stu-id="4eabe-126">This only works for links in the HTML or CSS, and this not help if your link is generated through JS.</span></span> 

<span data-ttu-id="4eabe-127">Поэтому мы настоятельно рекомендуем использовать [пользовательские домены](https://docs.microsoft.com/azure/active-directory/active-directory-application-proxy-custom-domains), если это возможно.</span><span class="sxs-lookup"><span data-stu-id="4eabe-127">As a result, we strongly recommend using the [custom domains](https://docs.microsoft.com/azure/active-directory/active-directory-application-proxy-custom-domains) solution if possible.</span></span> <span data-ttu-id="4eabe-128">Если вы хотите присоединиться к предварительной версии, отправьте электронное письмо по адресу <aadapfeedback@microsoft.com>, указав идентификаторы приложений.</span><span class="sxs-lookup"><span data-stu-id="4eabe-128">If you do want to join the preview, email <aadapfeedback@microsoft.com> with the applicationId(s).</span></span>

## <a name="next-steps"></a><span data-ttu-id="4eabe-129">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="4eabe-129">Next steps</span></span>
[<span data-ttu-id="4eabe-130">Работа с имеющимися локальными прокси-серверами</span><span class="sxs-lookup"><span data-stu-id="4eabe-130">Work with existing on-premises proxy servers</span></span>](application-proxy-working-with-proxy-servers.md)

