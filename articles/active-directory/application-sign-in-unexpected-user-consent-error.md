---
title: "AAA непредвиденная ошибка при выполнении приложения tooan согласия | Документы Microsoft"
description: "Описание ошибок, возникающих во время процесса hello соглашаетесь tooan приложения и что делать о них"
services: active-directory
documentationcenter: 
author: ajamess
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: asteen
ms.openlocfilehash: dfee35f3a10e3cc4313109cedd972499452320f1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="unexpected-error-when-performing-consent-tooan-application"></a><span data-ttu-id="70cb6-103">Непредвиденная ошибка при выполнении приложения tooan согласия</span><span class="sxs-lookup"><span data-stu-id="70cb6-103">Unexpected error when performing consent tooan application</span></span>

<span data-ttu-id="70cb6-104">В этой статье рассматриваются ошибок, возникающих во время процесса hello соглашаетесь tooan приложения.</span><span class="sxs-lookup"><span data-stu-id="70cb6-104">This article discusses errors that can occur during hello process of consenting tooan application.</span></span> <span data-ttu-id="70cb6-105">Если вы получаете непредвиденные запросы согласия, не содержащие сообщения об ошибках, см. статью [Сценарии аутентификации в Azure Active Directory](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-scenarios).</span><span class="sxs-lookup"><span data-stu-id="70cb6-105">If you are Troubleshoot unexpected consent prompts that do not contain any error messages, see [Authentication Scenarios for Azure AD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-scenarios).</span></span>

<span data-ttu-id="70cb6-106">Многие приложения, которые интегрируются с Azure Active Directory требуют разрешения tooaccess других ресурсов в toofunction порядке.</span><span class="sxs-lookup"><span data-stu-id="70cb6-106">Many applications that integrate with Azure Active Directory require permissions tooaccess other resources in order toofunction.</span></span> <span data-ttu-id="70cb6-107">Когда эти ресурсы также интегрированы с Azure Active Directory, разрешения tooaccess их часто запрашивается при помощи hello общие разрешения framework.</span><span class="sxs-lookup"><span data-stu-id="70cb6-107">When these resources are also integrated with Azure Active Directory, permissions tooaccess them is often requested using hello common consent framework.</span></span> 

<span data-ttu-id="70cb6-108">Это приведет к запрос согласия при отображении, которое обычно происходит hello первый раз используется приложение, но может также находиться на последующее использование приложения hello.</span><span class="sxs-lookup"><span data-stu-id="70cb6-108">This results in a consent prompt being displayed, which generally occurs hello first time an application is used but can also occur on a subsequent use of hello application.</span></span>

<span data-ttu-id="70cb6-109">Некоторые условия должны соблюдаться для разрешения toohello tooconsent пользователя, необходимых приложению.</span><span class="sxs-lookup"><span data-stu-id="70cb6-109">Certain conditions must be true for a user tooconsent toohello permissions an application requires.</span></span> <span data-ttu-id="70cb6-110">В противном случае могут возникать различные ошибки.</span><span class="sxs-lookup"><span data-stu-id="70cb6-110">If these conditions are not met, various errors can occur.</span></span> <span data-ttu-id="70cb6-111">В частности, описаны такие возможности:</span><span class="sxs-lookup"><span data-stu-id="70cb6-111">These include:</span></span>

## <a name="requesting-not-authorized-permissions-error"></a><span data-ttu-id="70cb6-112">Ошибка при запросе неавторизованных разрешений</span><span class="sxs-lookup"><span data-stu-id="70cb6-112">Requesting not authorized permissions error</span></span>
* <span data-ttu-id="70cb6-113">**AADSTS90093:** &lt;clientAppDisplayName&gt; запрашивает одно или несколько разрешений, которые не авторизован toogrant.</span><span class="sxs-lookup"><span data-stu-id="70cb6-113">**AADSTS90093:** &lt;clientAppDisplayName&gt; is requesting one or more permissions that you are not authorized toogrant.</span></span> <span data-ttu-id="70cb6-114">Обратитесь к администратору, который можно дать согласие toothis приложения от вашего имени.</span><span class="sxs-lookup"><span data-stu-id="70cb6-114">Contact an administrator, who can consent toothis application on your behalf.</span></span>

<span data-ttu-id="70cb6-115">Эта ошибка возникает, когда пользователь, не являющийся администратором компании пытается toouse приложение, которое запрашивает разрешения, которые можно предоставить только администратор.</span><span class="sxs-lookup"><span data-stu-id="70cb6-115">This error occurs when a user who is not a company administrator attempts toouse an application that is requesting permissions that only an administrator can grant.</span></span> <span data-ttu-id="70cb6-116">Эту ошибку можно решить администратором, предоставление доступа toohello приложения от имени своей организации.</span><span class="sxs-lookup"><span data-stu-id="70cb6-116">This error can be resolved by an administrator granting access toohello application on behalf of their organization.</span></span>

## <a name="policy-prevents-granting-permissions-error"></a><span data-ttu-id="70cb6-117">Ошибка при блокировке назначения разрешений политикой</span><span class="sxs-lookup"><span data-stu-id="70cb6-117">Policy prevents granting permissions error</span></span>
* <span data-ttu-id="70cb6-118">**AADSTS90093:** администратор &lt;tenantDisplayName&gt; задал политику, которая запрещает предоставление &lt;имя приложения&gt; hello требуются разрешения.</span><span class="sxs-lookup"><span data-stu-id="70cb6-118">**AADSTS90093:** An administrator of &lt;tenantDisplayName&gt; has set a policy that prevents you from granting &lt;name of app&gt; hello permissions it is requesting.</span></span> <span data-ttu-id="70cb6-119">Обратитесь к администратору для &lt;tenantDisplayName&gt;, который можно предоставить разрешения toothis приложения от вашего имени.</span><span class="sxs-lookup"><span data-stu-id="70cb6-119">Contact an administrator of &lt;tenantDisplayName&gt;, who can grant permissions toothis app on your behalf.</span></span>

<span data-ttu-id="70cb6-120">Эта ошибка возникает при администратора компании отключает возможность hello tooapplications tooconsent пользователей, то пользователь без прав администратора пытается toouse приложение, требующее согласия.</span><span class="sxs-lookup"><span data-stu-id="70cb6-120">This error occurs when a company administrator turns off hello ability for users tooconsent tooapplications, then a non-administrator user attempts toouse an application that requires consent.</span></span> <span data-ttu-id="70cb6-121">Эту ошибку можно решить администратором, предоставление доступа toohello приложения от имени своей организации.</span><span class="sxs-lookup"><span data-stu-id="70cb6-121">This error can be resolved by an administrator granting access toohello application on behalf of their organization.</span></span>

## <a name="intermittent-problem-error"></a><span data-ttu-id="70cb6-122">Ошибка, связанная с периодически возникающей проблемой</span><span class="sxs-lookup"><span data-stu-id="70cb6-122">Intermittent problem error</span></span>
* <span data-ttu-id="70cb6-123">**AADSTS90090:** выглядит так, будто возникла временная проблема, запись разрешения hello слишком предпринята toogrant&lt;clientAppDisplayName&gt;.</span><span class="sxs-lookup"><span data-stu-id="70cb6-123">**AADSTS90090:** It looks like we encountered an intermittent problem recording hello permissions you attempted toogrant too&lt;clientAppDisplayName&gt;.</span></span> <span data-ttu-id="70cb6-124">Try again later. (Похоже, мы столкнулись с периодически возникающей проблемой при записи разрешений, которые вы пытались предоставить "clientAppDisplayName". Повторите попытку позже.)</span><span class="sxs-lookup"><span data-stu-id="70cb6-124">try again later.</span></span>

<span data-ttu-id="70cb6-125">Эта ошибка указывает на наличие периодически возникающей проблемы на стороне службы.</span><span class="sxs-lookup"><span data-stu-id="70cb6-125">This error indicates that an intermittent service side issue has occurred.</span></span> <span data-ttu-id="70cb6-126">Может быть разрешена путем tooconsent toohello приложение еще раз.</span><span class="sxs-lookup"><span data-stu-id="70cb6-126">It can be resolved by attempting tooconsent toohello application again.</span></span>

## <a name="resource-not-available-error"></a><span data-ttu-id="70cb6-127">Ошибка при недоступном ресурсе</span><span class="sxs-lookup"><span data-stu-id="70cb6-127">Resource not available error</span></span>
* <span data-ttu-id="70cb6-128">**AADSTS65005:** приложение hello &lt;clientAppDisplayName&gt; запрошенный разрешения tooaccess ресурса &lt;resourceAppDisplayName&gt; , недоступен.</span><span class="sxs-lookup"><span data-stu-id="70cb6-128">**AADSTS65005:** hello app &lt;clientAppDisplayName&gt; requested permissions tooaccess a resource &lt;resourceAppDisplayName&gt; that is not available.</span></span> 

<span data-ttu-id="70cb6-129">Обратитесь к разработчику приложения hello.</span><span class="sxs-lookup"><span data-stu-id="70cb6-129">Contact hello application developer.</span></span>

##  <a name="resource-not-available-in-tenant-error"></a><span data-ttu-id="70cb6-130">Ошибка при недоступном ресурсе в клиенте</span><span class="sxs-lookup"><span data-stu-id="70cb6-130">Resource not available in tenant error</span></span>
* <span data-ttu-id="70cb6-131">**AADSTS65005:** &lt;clientAppDisplayName&gt; запрашивает доступ tooa ресурсов &lt;resourceAppDisplayName&gt; , недоступна в вашей организации &lt; tenantDisplayName&gt;.</span><span class="sxs-lookup"><span data-stu-id="70cb6-131">**AADSTS65005:** &lt;clientAppDisplayName&gt; is requesting access tooa resource &lt;resourceAppDisplayName&gt; that is not available in your organization &lt;tenantDisplayName&gt;.</span></span> 

<span data-ttu-id="70cb6-132">Убедитесь, что этот ресурс доступен, или обратитесь к администратору &lt;tenantDisplayName&gt;.</span><span class="sxs-lookup"><span data-stu-id="70cb6-132">Ensure that this resource is available or contact an administrator of &lt;tenantDisplayName&gt;.</span></span>

## <a name="permissions-mismatch-error"></a><span data-ttu-id="70cb6-133">Ошибка при несовпадении разрешений</span><span class="sxs-lookup"><span data-stu-id="70cb6-133">Permissions mismatch error</span></span>
* <span data-ttu-id="70cb6-134">**AADSTS65005:** приложение hello запрашиваемый ресурс согласия tooaccess &lt;resourceAppDisplayName&gt;.</span><span class="sxs-lookup"><span data-stu-id="70cb6-134">**AADSTS65005:** hello app requested consent tooaccess resource &lt;resourceAppDisplayName&gt;.</span></span> <span data-ttu-id="70cb6-135">Этот запрос не выполнен, так как они не совпадают, как приложение hello был предварительно настроенных во время регистрации приложения.</span><span class="sxs-lookup"><span data-stu-id="70cb6-135">This request failed because it does not match how hello app was pre-configured during app registration.</span></span> <span data-ttu-id="70cb6-136">Обратитесь в службу hello приложения vendor.* *</span><span class="sxs-lookup"><span data-stu-id="70cb6-136">Contact hello app vendor.**</span></span>

<span data-ttu-id="70cb6-137">Эти все ошибки возникают при приложения hello пользователь пытается toois tooconsent запрашивает разрешения tooaccess ресурсов приложения, которое не удается найти в каталоге организации hello (клиента).</span><span class="sxs-lookup"><span data-stu-id="70cb6-137">These errors all occur when hello application a user is trying tooconsent toois requesting permissions tooaccess a resource application that cannot be found in hello organization’s directory (tenant).</span></span> <span data-ttu-id="70cb6-138">Это может произойти по нескольким причинам.</span><span class="sxs-lookup"><span data-stu-id="70cb6-138">This can occur for several reasons:</span></span>

-   <span data-ttu-id="70cb6-139">разработчиком клиентского приложения Hello настроил свои приложения неправильно, поэтому она toorequest доступа tooan Недопустимый ресурс.</span><span class="sxs-lookup"><span data-stu-id="70cb6-139">hello client application developer has configured their application incorrectly, causing it toorequest access tooan invalid resource.</span></span> <span data-ttu-id="70cb6-140">В этом случае разработчик приложения hello необходимо обновить конфигурацию hello tooresolve приложения hello клиента эту проблему.</span><span class="sxs-lookup"><span data-stu-id="70cb6-140">In this case, hello application developer must update hello configuration of hello client application tooresolve this issue.</span></span>

-   <span data-ttu-id="70cb6-141">Участника-службы, представляющий hello приложении целевого ресурса не существует в организации hello или существовали в прошлом hello, но он был удален.</span><span class="sxs-lookup"><span data-stu-id="70cb6-141">A Service Principal representing hello target resource application does not exist in hello organization, or existed in hello past but has been removed.</span></span> <span data-ttu-id="70cb6-142">эту проблему, субъекта-службы для приложения hello ресурса необходимо подготовить в организации hello, hello клиентское приложение может запросить разрешения tooit tooresolve.</span><span class="sxs-lookup"><span data-stu-id="70cb6-142">tooresolve this issue, a Service Principal for hello resource application must be provisioned in hello organization so hello client application can request permissions tooit.</span></span> <span data-ttu-id="70cb6-143">Это может произойти в различными способами, в зависимости от типа hello приложения, включая:</span><span class="sxs-lookup"><span data-stu-id="70cb6-143">This can happen in an number of ways, depending on hello type of application, including:</span></span>

    -   <span data-ttu-id="70cb6-144">Получение подписки для hello ресурсов приложения (Корпорация Майкрософт опубликовала приложения)</span><span class="sxs-lookup"><span data-stu-id="70cb6-144">Acquiring a subscription for hello resource application (Microsoft published applications)</span></span>

    -   <span data-ttu-id="70cb6-145">Соглашаетесь toohello ресурсов приложения</span><span class="sxs-lookup"><span data-stu-id="70cb6-145">Consenting toohello resource application</span></span>

    -   <span data-ttu-id="70cb6-146">Предоставление разрешений приложения hello через портал Azure hello</span><span class="sxs-lookup"><span data-stu-id="70cb6-146">Granting hello application permissions via hello Azure Portal</span></span>

    -   <span data-ttu-id="70cb6-147">Добавление приложения hello из hello коллекции приложений Azure AD.</span><span class="sxs-lookup"><span data-stu-id="70cb6-147">Adding hello application from hello Azure AD Application Gallery</span></span>

## <a name="next-steps"></a><span data-ttu-id="70cb6-148">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="70cb6-148">Next steps</span></span> 

[<span data-ttu-id="70cb6-149">Приложения, разрешения и согласие в Azure Active Directory (конечная точка версии 1)</span><span class="sxs-lookup"><span data-stu-id="70cb6-149">Apps, permissions, and consent in Azure Active Directory (v1 endpoint)</span></span>](https://docs.microsoft.com/azure/active-directory/active-directory-apps-permissions-consent)<br>

[<span data-ttu-id="70cb6-150">Области, разрешения и разрешения в hello Azure Active Directory (конечная точка версии 2.0)</span><span class="sxs-lookup"><span data-stu-id="70cb6-150">Scopes, permissions, and consent in hello Azure Active Directory (v2.0 endpoint)</span></span>](https://docs.microsoft.com/azure/active-directory/develop/active-directory-v2-scopes)


