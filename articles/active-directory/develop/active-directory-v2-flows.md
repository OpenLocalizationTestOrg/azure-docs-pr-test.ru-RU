---
title: "типы aaaApp для конечной v2.0 hello Azure Active Directory | Документы Microsoft"
description: "Hello типы приложений и сценарии, поддерживаемые hello Azure Active Directory версии 2.0 конечной точкой."
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 494a06b8-0f9b-44e1-a7a2-d728cf2077ae
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: db95c88d6865abac8ce80378ccd6b63cb38e0a01
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="app-types-for-hello-azure-active-directory-v20-endpoint"></a><span data-ttu-id="45af2-103">Типы приложений для конечной v2.0 hello Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="45af2-103">App types for hello Azure Active Directory v2.0 endpoint</span></span>
<span data-ttu-id="45af2-104">Hello конечной точки Azure Active Directory (Azure AD) версии 2.0 поддерживает проверку подлинности для различных архитектур современных приложений, все из них на основе стандартных протоколов [OAuth 2.0 и OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-104">hello Azure Active Directory (Azure AD) v2.0 endpoint supports authentication for a variety of modern app architectures, all of them based on industry-standard protocols [OAuth 2.0 or OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="45af2-105">Эта статья описывает hello типы приложений, которые можно создавать с помощью версии 2.0 Azure AD, независимо от выбранного языка и платформы.</span><span class="sxs-lookup"><span data-stu-id="45af2-105">This article describes hello types of apps that you can build by using Azure AD v2.0, regardless of your preferred language or platform.</span></span> <span data-ttu-id="45af2-106">Hello сведения в этой статье — спроектированный toohelp понять сценариев высокого уровня, прежде чем [начала работы с кодом hello](active-directory-appmodel-v2-overview.md#getting-started).</span><span class="sxs-lookup"><span data-stu-id="45af2-106">hello information in this article is designed toohelp you understand high-level scenarios before you [start working with hello code](active-directory-appmodel-v2-overview.md#getting-started).</span></span>

> [!NOTE]
> <span data-ttu-id="45af2-107">Конечная точка v2.0 Hello не поддерживает все сценарии Azure Active Directory и возможности.</span><span class="sxs-lookup"><span data-stu-id="45af2-107">hello v2.0 endpoint doesn't support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="45af2-108">toodetermine необходимость использования конечной точки v2.0 hello, узнайте, как [ограничения v2.0](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-108">toodetermine whether you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
> 
> 

## <a name="hello-basics"></a><span data-ttu-id="45af2-109">Основы Hello</span><span class="sxs-lookup"><span data-stu-id="45af2-109">hello basics</span></span>
<span data-ttu-id="45af2-110">Необходимо зарегистрировать каждый приложение, которое использует конечную точку v2.0 hello в hello [портала регистрации приложения Microsoft](https://apps.dev.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="45af2-110">You must register each app that uses hello v2.0 endpoint in hello [Microsoft Application Registration Portal](https://apps.dev.microsoft.com).</span></span> <span data-ttu-id="45af2-111">процесс регистрации приложения Hello собирает и назначает эти значения для приложения:</span><span class="sxs-lookup"><span data-stu-id="45af2-111">hello app registration process collects and assigns these values for your app:</span></span>

* <span data-ttu-id="45af2-112">**идентификатор приложения**, который определяет конкретное приложение;</span><span class="sxs-lookup"><span data-stu-id="45af2-112">An **Application ID** that uniquely identifies your app</span></span>
* <span data-ttu-id="45af2-113">Объект **URI перенаправления** , которые можно использовать приложение назад tooyour toodirect ответов</span><span class="sxs-lookup"><span data-stu-id="45af2-113">A **Redirect URI** that you can use toodirect responses back tooyour app</span></span>
* <span data-ttu-id="45af2-114">несколько других зависящих от сценария значений.</span><span class="sxs-lookup"><span data-stu-id="45af2-114">A few other scenario-specific values</span></span>

<span data-ttu-id="45af2-115">Дополнительные сведения, узнайте, как слишком[Регистрация приложения](active-directory-v2-app-registration.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-115">For details, learn how too[register an app](active-directory-v2-app-registration.md).</span></span>

<span data-ttu-id="45af2-116">После регистрации приложения hello приложение hello взаимодействует с Azure AD, отправляя запросы toohello Azure AD версии 2.0, конечной точки.</span><span class="sxs-lookup"><span data-stu-id="45af2-116">After hello app is registered, hello app communicates with Azure AD by sending requests toohello Azure AD v2.0 endpoint.</span></span> <span data-ttu-id="45af2-117">Мы предоставляем с открытым исходным кодом платформы и библиотеки, которые обрабатывают сведения о hello этих запросов.</span><span class="sxs-lookup"><span data-stu-id="45af2-117">We provide open-source frameworks and libraries that handle hello details of these requests.</span></span> <span data-ttu-id="45af2-118">Также имеется параметр tooimplement hello hello-логики проверки подлинности самостоятельно, создав запросы toothese конечные точки:</span><span class="sxs-lookup"><span data-stu-id="45af2-118">You also have hello option tooimplement hello authentication logic yourself by creating requests toothese endpoints:</span></span>

```
https://login.microsoftonline.com/common/oauth2/v2.0/authorize
https://login.microsoftonline.com/common/oauth2/v2.0/token
```
<!-- TODO: Need a page for libraries toolink too-->

## <a name="web-apps"></a><span data-ttu-id="45af2-119">веб-приложений:</span><span class="sxs-lookup"><span data-stu-id="45af2-119">Web apps</span></span>
<span data-ttu-id="45af2-120">Для веб-приложения (.NET, PHP, Java, Ruby, Python, узла), пользователь имеет доступ через браузер hello, можно использовать [OpenID Connect](active-directory-v2-protocols.md) пользователя при входе.</span><span class="sxs-lookup"><span data-stu-id="45af2-120">For web apps (.NET, PHP, Java, Ruby, Python, Node) that hello user accesses through a browser, you can use [OpenID Connect](active-directory-v2-protocols.md) for user sign-in.</span></span> <span data-ttu-id="45af2-121">В OpenID Connect hello веб-приложение получает маркер идентификатора.</span><span class="sxs-lookup"><span data-stu-id="45af2-121">In OpenID Connect, hello web app receives an ID token.</span></span> <span data-ttu-id="45af2-122">Маркер идентификатора является маркером безопасности, который проверяет удостоверение пользователя hello и предоставляет сведения о пользователе hello в форме hello утверждений:</span><span class="sxs-lookup"><span data-stu-id="45af2-122">An ID token is a security token that verifies hello user's identity and provides information about hello user in hello form of claims:</span></span>

```
// Partial raw ID token
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6ImtyaU1QZG1Cd...

// Partial content of a decoded ID token
{
    "name": "John Smith",
    "email": "john.smith@gmail.com",
    "oid": "d9674823-dffc-4e3f-a6eb-62fe4bd48a58"
    ...
}
```

<span data-ttu-id="45af2-123">Вы можете узнать о всех типов hello токенов и утверждений, которые доступны tooan приложения hello [v2.0 маркеры ссылка](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-123">You can learn about all hello types of tokens and claims that are available tooan app in hello [v2.0 tokens reference](active-directory-v2-tokens.md).</span></span>

<span data-ttu-id="45af2-124">В веб-сервера приложений процесс входа в систему проверки подлинности hello принимает следующие общие действия:</span><span class="sxs-lookup"><span data-stu-id="45af2-124">In web server apps, hello sign-in authentication flow takes these high-level steps:</span></span>

![Поток аутентификации веб-приложения](../../media/active-directory-v2-flows/convergence_scenarios_webapp.png)

<span data-ttu-id="45af2-126">Вы можете обеспечить удостоверение пользователя hello, проверка hello маркер идентификатора с помощью открытого ключа подписывания, полученные от конечной точки v2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="45af2-126">You can ensure hello user's identity by validating hello ID token with a public signing key that is received from hello v2.0 endpoint.</span></span> <span data-ttu-id="45af2-127">Файл cookie сеанса имеет значение, который может быть используется tooidentify hello пользователь запросов последующих страниц.</span><span class="sxs-lookup"><span data-stu-id="45af2-127">A session cookie is set, which can be used tooidentify hello user on subsequent page requests.</span></span>

<span data-ttu-id="45af2-128">toosee данного сценария для действия, попробуйте сделать hello кода веб-приложения вход образцы в нашей v2.0 [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started) раздела.</span><span class="sxs-lookup"><span data-stu-id="45af2-128">toosee this scenario in action, try one of hello web app sign-in code samples in our v2.0 [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) section.</span></span>

<span data-ttu-id="45af2-129">В дополнение к этому toosimple входа, сервер веб-приложения может потребоваться tooaccess другой веб-службы, например API-интерфейса REST.</span><span class="sxs-lookup"><span data-stu-id="45af2-129">In addition toosimple sign-in, a web server app might need tooaccess another web service, such as a REST API.</span></span> <span data-ttu-id="45af2-130">В этом случае hello веб-сервера приложения использует объединенные потока OpenID Connect и OAuth 2.0, с помощью hello [потока кода авторизации OAuth 2.0](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-130">In this case, hello web server app engages in a combined OpenID Connect and OAuth 2.0 flow, by using hello [OAuth 2.0 authorization code flow](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="45af2-131">Чтобы больше узнать об этом сценарии, ознакомьтесь с тем, как [приступить к работе с веб-приложениями и интерфейсами веб-API](active-directory-v2-devquickstarts-webapp-webapi-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-131">For more information about this scenario, read about [getting started with web apps and Web APIs](active-directory-v2-devquickstarts-webapp-webapi-dotnet.md).</span></span>

## <a name="web-apis"></a><span data-ttu-id="45af2-132">Веб-API</span><span class="sxs-lookup"><span data-stu-id="45af2-132">Web APIs</span></span>
<span data-ttu-id="45af2-133">Можно использовать hello v2.0 конечной точки toosecure веб-служб, таких как веб-интерфейса API RESTful вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="45af2-133">You can use hello v2.0 endpoint toosecure web services, such as your app's RESTful Web API.</span></span> <span data-ttu-id="45af2-134">Вместо маркеров безопасности и файлы cookie сеансов, веб-API использует toosecure маркера доступа OAuth 2.0, его данные и tooauthenticate входящие запросы.</span><span class="sxs-lookup"><span data-stu-id="45af2-134">Instead of ID tokens and session cookies, a Web API uses an OAuth 2.0 access token toosecure its data and tooauthenticate incoming requests.</span></span> <span data-ttu-id="45af2-135">код, вызывающий Hello веб-API добавляет маркер доступа в заголовке авторизации hello HTTP-запроса, следующим образом:</span><span class="sxs-lookup"><span data-stu-id="45af2-135">hello caller of a Web API appends an access token in hello authorization header of an HTTP request, like this:</span></span>

```
GET /api/items HTTP/1.1
Host: www.mywebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6...
Accept: application/json
...
```

<span data-ttu-id="45af2-136">Hello веб-API использует hello access token tooverify hello API вызывающего удостоверения и tooextract сведения о hello вызывающей стороне из утверждений, которые шифруются в токене доступа hello.</span><span class="sxs-lookup"><span data-stu-id="45af2-136">hello Web API uses hello access token tooverify hello API caller's identity and tooextract information about hello caller from claims that are encoded in hello access token.</span></span> <span data-ttu-id="45af2-137">toolearn обо всех типах hello токенов и утверждений, которые приложение tooan доступны в разделе hello [v2.0 маркеры ссылка](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-137">toolearn about all hello types of tokens and claims that are available tooan app, see hello [v2.0 tokens reference](active-directory-v2-tokens.md).</span></span>

<span data-ttu-id="45af2-138">Задайте tooopt power hello пользователей веб-API или отказаться определенных функций или данных, предоставляя разрешения, также известный как [областей](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-138">A Web API can give users hello power tooopt in or opt out of specific functionality or data by exposing permissions, also known as [scopes](active-directory-v2-scopes.md).</span></span> <span data-ttu-id="45af2-139">Для вызова приложения tooacquire tooa область разрешений hello пользователь должен дать согласие toohello области во время потоку.</span><span class="sxs-lookup"><span data-stu-id="45af2-139">For a calling app tooacquire permission tooa scope, hello user must consent toohello scope during a flow.</span></span> <span data-ttu-id="45af2-140">Конечная точка v2.0 Hello запрашивает разрешение пользователя hello и затем записывает разрешения в все токены доступа, hello, получаемых веб-API.</span><span class="sxs-lookup"><span data-stu-id="45af2-140">hello v2.0 endpoint asks hello user for permission, and then records permissions in all access tokens that hello Web API receives.</span></span> <span data-ttu-id="45af2-141">Hello веб-API проверяет маркеры доступа hello, он получает при каждом вызове и выполняет проверки авторизации.</span><span class="sxs-lookup"><span data-stu-id="45af2-141">hello Web API validates hello access tokens it receives on each call and performs authorization checks.</span></span>

<span data-ttu-id="45af2-142">Веб-API может получать маркеры доступа от всех типов приложений, включая приложения веб-сервера, классические и мобильные приложения, одностраничные приложения, серверные управляющие программы и даже другие веб-API.</span><span class="sxs-lookup"><span data-stu-id="45af2-142">A Web API can receive access tokens from all types of apps, including web server apps, desktop and mobile apps, single-page apps, server-side daemons, and even other Web APIs.</span></span> <span data-ttu-id="45af2-143">Hello поток высокого уровня для веб-API выглядит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="45af2-143">hello high-level flow for a Web API looks like this:</span></span>

![Поток аутентификации веб-API](../../media/active-directory-v2-flows/convergence_scenarios_webapi.png)

<span data-ttu-id="45af2-145">toolearn как образцы toosecure веб-API с помощью маркера доступа OAuth2, извлечение hello кода веб-API в нашем [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started) раздела.</span><span class="sxs-lookup"><span data-stu-id="45af2-145">toolearn how toosecure a Web API by using OAuth2 access tokens, check out hello Web API code samples in our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) section.</span></span>

<span data-ttu-id="45af2-146">Во многих случаях веб-API также требуется toomake исходящих запросов tooother нижестоящим веб-API, защищенным Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="45af2-146">In many cases, web APIs also need toomake outbound requests tooother downstream web APIs secured by Azure Active Directory.</span></span>  <span data-ttu-id="45af2-147">toodo таким образом, веб-API можно использовать преимущества Azure AD **по имени из** потока, который разрешает входящий токен доступа для другой toobe маркера доступа, используемых в исходящих запросов tooexchange hello веб-API.</span><span class="sxs-lookup"><span data-stu-id="45af2-147">toodo so, web APIs can take advantage of Azure AD's **On Behalf Of** flow, which allows hello web API tooexchange an incoming access token for another access token toobe used in outbound requests.</span></span>  <span data-ttu-id="45af2-148">Описывается Hello v2.0 конечной точки от имени потока в [подробно описывается здесь](active-directory-v2-protocols-oauth-on-behalf-of.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-148">hello v2.0 endpoint's On Behalf Of flow is described in [detail here](active-directory-v2-protocols-oauth-on-behalf-of.md).</span></span>

## <a name="mobile-and-native-apps"></a><span data-ttu-id="45af2-149">Мобильные и собственные приложения</span><span class="sxs-lookup"><span data-stu-id="45af2-149">Mobile and native apps</span></span>
<span data-ttu-id="45af2-150">Устройство установлено приложениям, например, мобильных и настольных приложений, часто требуется tooaccess внутренних служб или веб-API, хранения данных и выполнять действия от имени пользователя.</span><span class="sxs-lookup"><span data-stu-id="45af2-150">Device-installed apps, such as mobile and desktop apps, often need tooaccess back-end services or Web APIs that store data and perform functions on behalf of a user.</span></span> <span data-ttu-id="45af2-151">Эти приложения можно добавить tooback входа и авторизации служб с помощью hello [потока кода авторизации OAuth 2.0](active-directory-v2-protocols-oauth-code.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-151">These apps can add sign-in and authorization tooback-end services by using hello [OAuth 2.0 authorization code flow](active-directory-v2-protocols-oauth-code.md).</span></span>

<span data-ttu-id="45af2-152">В этой процедуре приложение hello получает код авторизации из конечной точки v2.0 hello при входе пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="45af2-152">In this flow, hello app receives an authorization code from hello v2.0 endpoint when hello user signs in.</span></span> <span data-ttu-id="45af2-153">Представляет код авторизации Hello hello приложения разрешение toocall служб, от имени пользователя hello, вошедшему в систему.</span><span class="sxs-lookup"><span data-stu-id="45af2-153">hello authorization code represents hello app's permission toocall back-end services on behalf of hello user who is signed in.</span></span> <span data-ttu-id="45af2-154">приложение Hello можно обменять код авторизации hello в фоновом режиме hello для токена доступа OAuth 2.0 и токен обновления.</span><span class="sxs-lookup"><span data-stu-id="45af2-154">hello app can exchange hello authorization code in hello background for an OAuth 2.0 access token and a refresh token.</span></span> <span data-ttu-id="45af2-155">приложение Hello можно использовать tooWeb tooauthenticate токена доступа hello API-интерфейсы в HTTP-запросы и использовать новых токенов доступа hello обновления токена tooget срок действия старых маркера доступа.</span><span class="sxs-lookup"><span data-stu-id="45af2-155">hello app can use hello access token tooauthenticate tooWeb APIs in HTTP requests, and use hello refresh token tooget new access tokens when older access tokens expire.</span></span>

![Поток аутентификации собственного приложения](../../media/active-directory-v2-flows/convergence_scenarios_native.png)

## <a name="single-page-apps-javascript"></a><span data-ttu-id="45af2-157">Одностраничные приложения (JavaScript)</span><span class="sxs-lookup"><span data-stu-id="45af2-157">Single-page apps (JavaScript)</span></span>
<span data-ttu-id="45af2-158">Многие современные приложения содержат интерфейсное одностраничное приложение, созданное преимущественно на языке JavaScript.</span><span class="sxs-lookup"><span data-stu-id="45af2-158">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="45af2-159">Часто они создаются с помощью таких платформ, как AngularJS, Ember.js или Durandal.js.</span><span class="sxs-lookup"><span data-stu-id="45af2-159">Often, it's written by using a framework like AngularJS, Ember.js, or Durandal.js.</span></span> <span data-ttu-id="45af2-160">Конечная точка v2.0 Hello Azure AD поддерживает эти приложения с помощью hello [неявного потока OAuth 2.0](active-directory-v2-protocols-implicit.md).</span><span class="sxs-lookup"><span data-stu-id="45af2-160">hello Azure AD v2.0 endpoint supports these apps by using hello [OAuth 2.0 implicit flow](active-directory-v2-protocols-implicit.md).</span></span>

<span data-ttu-id="45af2-161">В этой процедуре приложение hello получение маркеров непосредственно из hello v2.0 авторизации конечной точки без обмен любого сервера на сервер.</span><span class="sxs-lookup"><span data-stu-id="45af2-161">In this flow, hello app receives tokens directly from hello v2.0 authorize endpoint, without any server-to-server exchanges.</span></span> <span data-ttu-id="45af2-162">Все логики проверки подлинности и обработки принимает сеанса поместите полностью в клиенте JavaScript hello без перенаправления дополнительных страниц.</span><span class="sxs-lookup"><span data-stu-id="45af2-162">All authentication logic and session handling takes place entirely in hello JavaScript client, without extra page redirects.</span></span>

![Неявный поток аутентификации](../../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

<span data-ttu-id="45af2-164">toosee данного сценария для действия, попробуйте один из примеров кода одностраничного приложения hello в нашем [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started) раздела.</span><span class="sxs-lookup"><span data-stu-id="45af2-164">toosee this scenario in action, try one of hello single-page app code samples in our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) section.</span></span>

## <a name="daemons-and-server-side-apps"></a><span data-ttu-id="45af2-165">Управляющие программы и серверные приложения</span><span class="sxs-lookup"><span data-stu-id="45af2-165">Daemons and server-side apps</span></span>
<span data-ttu-id="45af2-166">Приложения, имеющие долго выполняющихся процессов или для работы без взаимодействия с пользователем также нужна возможность прощелкать tooaccess ресурсы, такие как веб-API.</span><span class="sxs-lookup"><span data-stu-id="45af2-166">Apps that have long-running processes or that operate without interaction with a user also need a way tooaccess secured resources, such as Web APIs.</span></span> <span data-ttu-id="45af2-167">Эти приложения могут проверять подлинность и получить токены, используя удостоверение приложения hello, а не пользователя делегировать удостоверение с hello OAuth 2.0 поток клиентских учетных данных.</span><span class="sxs-lookup"><span data-stu-id="45af2-167">These apps can authenticate and get tokens by using hello app's identity, rather than a user's delegated identity, with hello OAuth 2.0 client credentials flow.</span></span>

<span data-ttu-id="45af2-168">В этой процедуре приложение hello взаимодействует непосредственно с hello `/token` конечные точки tooobtain конечной точки:</span><span class="sxs-lookup"><span data-stu-id="45af2-168">In this flow, hello app interacts directly with hello `/token` endpoint tooobtain endpoints:</span></span>

![Поток аутентификации управляющей программы](../../media/active-directory-v2-flows/convergence_scenarios_daemon.png)

<span data-ttu-id="45af2-170">toobuild приложении управляющей программы см. в документации учетные данные клиента hello в нашем [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started) статьи или повторите [образец приложения .NET](https://github.com/Azure-Samples/active-directory-dotnet-daemon-v2).</span><span class="sxs-lookup"><span data-stu-id="45af2-170">toobuild a daemon app, see hello client credentials documentation in our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) section, or try a [.NET sample app](https://github.com/Azure-Samples/active-directory-dotnet-daemon-v2).</span></span>
