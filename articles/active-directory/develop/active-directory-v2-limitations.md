---
title: "aaaAzure Active Directory версии 2.0 конечной точки ограничения | Документы Microsoft"
description: "Список ограничений, для конечной точки v2.0 hello Azure AD."
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: a99289c0-e6ce-410c-94f6-c279387b4f66
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: bcbb7239f1d117002d16ac23dca8f1feb13a9161
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="should-i-use-hello-v20-endpoint"></a>Следует использовать конечную точку v2.0 hello
При построении приложения, которые интегрируются с Azure Active Directory необходимо toodecide ли протоколов конечной точки и проверки подлинности v2.0 hello соответствует потребностям. Исходная конечная точка Azure Active Directory по-прежнему полностью поддерживается и в некоторых отношениях является более функциональной, чем версия 2.0. Однако hello v2.0 конечной точки [предоставляет существенные преимущества](active-directory-v2-compare.md) для разработчиков.

Ниже приведены упрощенные рекомендации для разработчиков по состоянию на текущий момент.

* Если требуется поддержка личные учетные записи Майкрософт в приложении, используйте конечную точку v2.0 hello. Но прежде чем выполнять убедитесь, что вы понимаете hello ограничения, которые мы обсудим в этой статье.
* Если приложению требуется только toosupport Microsoft рабочих и учебных учетных записей, не используйте конечную точку v2.0 hello. Вместо этого ссылка tooour [руководство разработчика Azure AD](active-directory-developers-guide.md).

Со временем конечная точка v2.0 hello будет увеличиваться tooeliminate hello ограничения указаны здесь, чтобы только toouse hello v2.0 конечная точка необходима. Это время, в hello в этой статье является предполагаемым toohelp, можно определить, является ли конечная точка v2.0 hello для вас. Мы продолжим tooupdate этой статьи tooreflect hello текущее состояние конечной точки v2.0 hello. Проверяйте наличие tooreevaluate требованиями относительно возможностей версии 2.0.

При наличии приложения Azure AD, не используйте конечную точку v2.0 hello нет нет необходимости toostart с нуля. В будущем hello, корпорация Майкрософт предоставляет способ для вас toouse существующие приложения Azure AD с конечной точкой v2.0 hello.

## <a name="restrictions-on-app-types"></a>Ограничения для типов приложений
В настоящее время hello следующие типы приложений не поддерживаются hello v2.0 конечной точкой. Описание типов поддерживаемых приложений см. в разделе [типов приложений для конечной точки v2.0 Azure Active Directory hello](active-directory-v2-flows.md).

### <a name="standalone-web-apis"></a>Автономные веб-API
Можно использовать конечную точку v2.0 hello слишком[построения веб-API, защищенного с помощью OAuth 2.0](active-directory-v2-flows.md#web-apis). Тем не менее что веб-API можно получать маркеры только из приложения, которое имеет hello же идентификатор приложения. Невозможно получить доступ к веб-API из клиента с другим идентификатором приложения. Клиент Hello не toorequest может быть или получить разрешения tooyour веб-API.

toosee статье toobuild веб-API, принимающий маркеры от клиента, который имеет hello таким же Идентификатором приложения hello примеры v2.0 конечной точки веб-API, в нашем [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started) раздела.

## <a name="restrictions-on-app-registrations"></a>Ограничения регистрации приложений
В настоящее время для каждого приложения, которые должны toointegrate с конечной точкой v2.0 hello, необходимо создать запись о регистрации приложения в hello новый [портала регистрации приложения Microsoft](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList). Существующие Azure AD или приложения учетной записи Майкрософт не совместимы с конечной точкой v2.0 hello. Приложения, которые зарегистрированы в любой портал, кроме портала регистрации приложения hello не совместимы с конечной точкой v2.0 hello. В будущем hello мы планируем tooprovide toouse способом существующее приложение в качестве приложения версии 2.0. В настоящее время но нет нет пути миграции для существующих приложений toowork с конечной точкой v2.0 hello.

Кроме того, регистрации приложения, создаваемые в hello [портала регистрации приложения](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList) имеют hello следующие предупреждения:

* Для идентификатора приложения можно использовать только два секрета приложения.
* Просматривать регистрацию приложения (зарегистрированного пользователем с личной учетной записью Майкрософт) и управлять ею можно только с помощью одной учетной записи разработчика. Регистрацию не могут совместно использовать несколько разработчиков.  Если вы хотите tooshare регистрацию приложения среди нескольких разработчиков, можно создать приложение hello при входе в портал регистрации hello с учетной записью Azure AD.
* Существует ряд ограничений на формат hello hello перенаправления URI, который может быть. Дополнительные сведения о перенаправлении идентификаторы URI см. Далее раздел hello.

## <a name="restrictions-on-redirect-uris"></a>Ограничения для универсальных кодов ресурсов (URI) перенаправления
В настоящее время приложения, которые зарегистрированы в портал регистрации приложения hello являются ограниченными tooa ограниченный набор значений URI перенаправления. Здравствуйте перенаправления URI для веб-приложений и служб должны начинаться со схемой hello `https`, и все значения URI перенаправления должны совместно использовать одного домена DNS. Например, невозможно зарегистрировать веб-приложение с одним из следующих универсальных кодов ресурсов (URI) перенаправления.

`https://login-east.contoso.com`  
`https://login-west.contoso.com`

Система регистрации Hello сравнивает hello всей DNS-имя hello существующих перенаправления URI toohello DNS-имя hello перенаправления URI, который вы добавляете. Hello запроса tooadd hello DNS-имя завершаются ошибкой, если выполняется любое из следующих условий hello.  

* Hello всей DNS-имя hello новый URI перенаправления не соответствует URI перенаправления существующих hello hello DNS-имя.
* Hello всей DNS-имя hello новый URI перенаправления не поддомена URI перенаправления существующих hello.

Например, если приложение hello содержит этот URI перенаправления:

`https://login.contoso.com`

Можно добавить tooit следующим образом:

`https://login.contoso.com/new`

В этом случае hello DNS-имя соответствует точно. Или же можно сделать следующее.

`https://new.login.contoso.com`

В этом случае ссылка поддомен login.contoso.com tooa DNS. Если вы хотите toohave входа east.contoso.com и west.contoso.com входа как URI перенаправления приложения, необходимо добавить те URI перенаправления в следующем порядке:

`https://contoso.com`  
`https://login-east.contoso.com`  
`https://login-west.contoso.com`  

Можно добавить hello последние два, так как они являются поддомены hello сначала URI перенаправления, contoso.com. Это ограничение будет снято в следующей версии.

tooregister приложения в hello портала регистрации приложения, в статье toolearn [как tooregister приложения с конечной точкой v2.0 hello](active-directory-v2-app-registration.md).

## <a name="restrictions-on-services-and-apis"></a>Ограничения для служб и интерфейсов API
В настоящее время конечная точка hello версии 2.0 поддерживает вход для любого приложения, зарегистрированный в портал регистрации приложения hello и который попадает в список hello [поддерживается потоках проверки подлинности](active-directory-v2-flows.md). Однако эти приложения могут получать маркеры доступа OAuth 2.0 только для ограниченного набора ресурсов. маркеры только для доступа Hello v2.0 конечной точки проблемы:

* приложение Hello, запросившего токен hello. Приложение может получить маркер доступа для себя, если логические приложение hello состоит из нескольких разных компонентов или уровней. toosee этот сценарий в действии, извлечь нашей [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started) учебники.
* Hello почта Outlook, календаря и контактов API-интерфейсов REST, которые можно найти в папке https://outlook.office.com. toolearn toowrite приложение, которое обращается к эти API-интерфейсы в статье hello [Office Приступая к работе](https://www.msdn.com/office/office365/howto/authenticate-Office-365-APIs-using-v2) учебники.
* Для интерфейсов API Microsoft Graph. Дополнительные сведения о [Microsoft Graph](https://graph.microsoft.io) и hello данные, доступные tooyou.

Никакие другие службы в настоящее время не поддерживаются. Дополнительные службы Microsoft Online Services будет добавлена в hello в будущем, кроме toosupport для пользовательского веб-API и служб.

## <a name="restrictions-on-libraries-and-sdks"></a>Ограничения для библиотек и пакетов SDK
В настоящее время поддержка библиотек для конечной точки v2.0 hello ограничено. Конечная точка v2.0 toouse hello в реальном приложении следует вам доступны следующие параметры.

* При создании веб-приложения можно безопасно использовать Microsoft общедоступной серверное ПО промежуточного слоя tooperform входа и маркером проверки. К ним относятся Привет открыть подключение идентификатор OWIN по промежуточного слоя для ASP.NET и hello Node.js Passport подключаемого модуля. Примеры кода с использованием ПО промежуточного слоя Майкрософт доступны в разделе [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started).
* При создании классического или мобильного приложения можно использовать одну из библиотек проверки подлинности Майкрософт предварительной версии.  Эти библиотеки находятся в Предварительный просмотр поддерживается в рабочей среде, поэтому его безопасный toouse их в рабочих приложениях. Для получения дополнительных сведений о hello условия hello предварительного просмотра и hello доступных библиотек в нашем [ссылок библиотеки проверки подлинности](active-directory-v2-libraries.md).
* Для платформ, не связанная с библиотеки Microsoft можно интегрировать с конечной точкой v2.0 hello, непосредственно отправки и получения сообщений протокола в коде приложения. Здравствуйте протокола OpenID Connect и OAuth v2.0 [явным образом описаны](active-directory-v2-protocols.md) toohelp выполнить такие интеграцию.
* Наконец можно использовать открытым исходным кодом откройте идентификатор подключения и toointegrate библиотеки OAuth с конечной точкой v2.0 hello. Hello v2.0 протокол должен быть совместимым с многие библиотеки протокола с открытым исходным кодом без значительных изменений. доступность Hello таких библиотек зависит от языка и платформы. Hello [откройте подключение идентификатор](http://openid.net/connect/) и [OAuth 2.0](http://oauth.net/2/) веб-сайтов поддерживает список популярных реализациях. Дополнительные сведения см. в разделе [библиотеки Azure Active Directory версии 2.0 и проверки подлинности](active-directory-v2-libraries.md)и список hello открытая клиентские библиотеки и образцы, которые были протестированы с конечной точкой v2.0 hello.

## <a name="restrictions-on-protocols"></a>Ограничения для протоколов
Конечная точка v2.0 Hello не поддерживает SAML или WS-Federation; поддерживает только подключения Open ID и OAuth 2.0.  Не все функции и возможности протоколов OAuth необходимо внести в конечной точке v2.0 hello. Эти функции протокола и возможности в настоящее время поддерживаются *недоступно* в конечной точке v2.0 hello:

* Не содержат маркеров безопасности, выданных конечной точки v2.0 hello `email` утверждения для пользователя hello, даже если получить разрешение от пользователя tooview hello электронной почте.
* Конечная точка подключения UserInfo OpenID Hello не реализован в конечной точке v2.0 hello. Тем не менее, все данные профиля пользователя, вы потенциально получающих в данной конечной точке доступна из hello Microsoft Graph `/me` конечной точки.
* Конечная точка v2.0 Hello не поддерживает выдачи утверждений роли или группы в маркеров безопасности.
* Hello [предоставления учетных данных пароля владельца ресурса OAuth 2.0](https://tools.ietf.org/html/rfc6749#section-4.3) hello v2.0 конечной точкой не поддерживается.

Помимо конечная точка v2.0 hello не поддерживает hello SAML в любой форме или протоколы WS-Federation.

toobetter понять область hello функциональные возможности протокола, поддерживаемые в конечной точке v2.0 hello, прочтите наши [Справочник протокола OpenID Connect и OAuth 2.0](active-directory-v2-protocols.md).

## <a name="restrictions-for-work-and-school-accounts"></a>Ограничения для рабочих и учебных учетных записей
При использовании библиотеки проверки подлинности Active Directory (ADAL) в приложениях Windows вы предприняли преимуществами встроенной проверки подлинности Windows, который использует утверждение grant hello Security Assertion Markup Language (SAML). С его помощью пользователи федеративных клиентов Azure AD могут проходить аутентификацию в локальном экземпляре Active Directory автоматически, без необходимости ввода учетных данных. В настоящее время предоставления утверждения SAML hello в конечной точке v2.0 hello не поддерживается.
