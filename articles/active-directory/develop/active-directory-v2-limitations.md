---
title: "Ограничения конечной точки Azure Active Directory версии 2.0 | Документация Майкрософт"
description: "Список ограничений для конечной точки Azure AD версии 2.0."
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: a99289c0-e6ce-410c-94f6-c279387b4f66
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 00a6749d00c6e66a957b0a89c6658511a1bafe4d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="should-i-use-the-v20-endpoint"></a><span data-ttu-id="3d3ec-103">Следует ли мне использовать конечную точку версии 2.0?</span><span class="sxs-lookup"><span data-stu-id="3d3ec-103">Should I use the v2.0 endpoint?</span></span>
<span data-ttu-id="3d3ec-104">При создании приложений, которые интегрируются с Azure Active Directory, необходимо решить, соответствуют ли требованиям конечная точка версии 2.0 и протоколы проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-104">When you build applications that integrate with Azure Active Directory, you need to decide whether the v2.0 endpoint and authentication protocols meet your needs.</span></span> <span data-ttu-id="3d3ec-105">Исходная конечная точка Azure Active Directory по-прежнему полностью поддерживается и в некоторых отношениях является более функциональной, чем версия 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-105">Azure Active Directory's original endpoint is still fully supported and, in some respects, is more feature rich than v2.0.</span></span> <span data-ttu-id="3d3ec-106">Однако конечная точка версии 2.0 [представляет значительные преимущества](active-directory-v2-compare.md) для разработчиков.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-106">However, the v2.0 endpoint [introduces significant benefits](active-directory-v2-compare.md) for developers.</span></span>

<span data-ttu-id="3d3ec-107">Ниже приведены упрощенные рекомендации для разработчиков по состоянию на текущий момент.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-107">Here's our simplified recommendation for developers at this point in time:</span></span>

* <span data-ttu-id="3d3ec-108">Если в приложении требуется поддержка личных учетных записей Майкрософт, используйте конечную точку версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-108">If you must support personal Microsoft accounts in your application, use the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-109">Но перед этим убедитесь, что вы понимаете ограничения, которые рассматриваются в этой статье.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-109">But before you do, be sure that you understand the limitations that we discuss in this article.</span></span>
* <span data-ttu-id="3d3ec-110">Если приложению требуется только поддержка рабочих и учебных учетных записей Майкрософт, не используйте конечную точку версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-110">If your application only needs to support Microsoft work and school accounts, don't use the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-111">Вместо этого обратитесь к [руководству разработчика по Azure AD](active-directory-developers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-111">Instead, refer to our [Azure AD developer guide](active-directory-developers-guide.md).</span></span>

<span data-ttu-id="3d3ec-112">Со временем конечная точка версии 2.0 будет развиваться и поможет устранить эти ограничения, так что вам нужно будет использовать только ее.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-112">Over time, the v2.0 endpoint will grow to eliminate the restrictions listed here, so that you will only ever need to use the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-113">А пока эта статья поможет вам определить, подходит ли вам конечная точка версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-113">In the meantime, this article is intended to help you determine whether the v2.0 endpoint is right for you.</span></span> <span data-ttu-id="3d3ec-114">Мы продолжим обновлять эту статью, чтобы отражать текущее состояние конечной точки версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-114">We will continue to update this article to reflect the current state of the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-115">Вы можете проверить ее на наличие изменений, чтобы повторно оценить свои требования и возможности версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-115">Check back to reevaluate your requirements against v2.0 capabilities.</span></span>

<span data-ttu-id="3d3ec-116">Если у вас уже есть приложение Azure AD, в котором не используется конечная точка версии 2.0, нет необходимости начинать с нуля.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-116">If you have an existing Azure AD app that does not use the v2.0 endpoint, there's no need to start from scratch.</span></span> <span data-ttu-id="3d3ec-117">В будущем мы предоставим способ использования конечной точки версии 2.0 существующими приложениями Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-117">In the future, we will provide a way for you to use your existing Azure AD applications with the v2.0 endpoint.</span></span>

## <a name="restrictions-on-app-types"></a><span data-ttu-id="3d3ec-118">Ограничения для типов приложений</span><span class="sxs-lookup"><span data-stu-id="3d3ec-118">Restrictions on app types</span></span>
<span data-ttu-id="3d3ec-119">Перечисленные ниже типы приложений в настоящее время не поддерживаются конечной точкой версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-119">Currently, the following types of apps are not supported by the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-120">Описание поддерживаемых типов приложений см. в разделе [Типы приложений для конечной точки Azure Active Directory версии 2.0](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-120">For a description of supported app types, see [App types for the Azure Active Directory v2.0 endpoint](active-directory-v2-flows.md).</span></span>

### <a name="standalone-web-apis"></a><span data-ttu-id="3d3ec-121">Автономные веб-API</span><span class="sxs-lookup"><span data-stu-id="3d3ec-121">Standalone Web APIs</span></span>
<span data-ttu-id="3d3ec-122">Можно использовать конечную точку версии 2.0 для [создания веб-API, защищенного с помощью OAuth 2.0](active-directory-v2-flows.md#web-apis).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-122">You can use the v2.0 endpoint to [build a Web API that is secured with OAuth 2.0](active-directory-v2-flows.md#web-apis).</span></span> <span data-ttu-id="3d3ec-123">Однако такой веб-API может получать маркеры только от приложения с тем же идентификатором приложения.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-123">However, that Web API can receive tokens only from an application that has the same Application ID.</span></span> <span data-ttu-id="3d3ec-124">Невозможно получить доступ к веб-API из клиента с другим идентификатором приложения.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-124">You cannot access a Web API from a client that has a different Application ID.</span></span> <span data-ttu-id="3d3ec-125">Этот клиент не сможет запрашивать или получать разрешения для веб-API.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-125">The client won't be able to request or obtain permissions to your Web API.</span></span>

<span data-ttu-id="3d3ec-126">Чтобы узнать, как создать веб-API, принимающий маркеры от клиента с тем же идентификатором приложения, ознакомьтесь с примерами веб-API конечной точки версии 2.0 в разделе [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-126">To see how to build a Web API that accepts tokens from a client that has the same Application ID, see the v2.0 endpoint Web API samples in our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) section.</span></span>

## <a name="restrictions-on-app-registrations"></a><span data-ttu-id="3d3ec-127">Ограничения регистрации приложений</span><span class="sxs-lookup"><span data-stu-id="3d3ec-127">Restrictions on app registrations</span></span>
<span data-ttu-id="3d3ec-128">В настоящее время для каждого приложения, которое нужно интегрировать с конечной точкой версии 2.0, необходимо создать регистрацию на новом [портале регистрации приложений Майкрософт](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-128">Currently, for each app that you want to integrate with the v2.0 endpoint, you must create an app registration in the new [Microsoft Application Registration Portal](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span></span> <span data-ttu-id="3d3ec-129">Существующие приложения Azure AD или учетной записи Майкрософт не совместимы с конечной точкой версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-129">Existing Azure AD or Microsoft account apps are not compatible with the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-130">Приложения, которые зарегистрированы на любом другом портале, кроме портала регистрации приложений, несовместимы с конечной точкой версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-130">Apps that are registered in any portal other than the Application Registration Portal are not compatible with the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-131">Мы планируем в будущем предоставить возможность использования существующих приложений в качестве приложений для версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-131">In the future, we plan to provide a way to use an existing application as a v2.0 app.</span></span> <span data-ttu-id="3d3ec-132">В настоящее время невозможно выполнить миграцию существующего приложения для использования конечной точки версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-132">Currently, though, there is no migration path for an existing app to work with the v2.0 endpoint.</span></span>

<span data-ttu-id="3d3ec-133">Кроме того, имеются следующие замечания к регистрациям приложений, созданным на [портале регистрации приложений](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-133">In addition, app registrations that you create in the [Application Registration Portal](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList) have the following caveats:</span></span>

* <span data-ttu-id="3d3ec-134">Для идентификатора приложения можно использовать только два секрета приложения.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-134">Only two app secrets are allowed per Application ID.</span></span>
* <span data-ttu-id="3d3ec-135">Просматривать регистрацию приложения (зарегистрированного пользователем с личной учетной записью Майкрософт) и управлять ею можно только с помощью одной учетной записи разработчика.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-135">An app registration registered by a user with a personal Microsoft account can be viewed and managed only by a single developer account.</span></span> <span data-ttu-id="3d3ec-136">Регистрацию не могут совместно использовать несколько разработчиков.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-136">It cannot be shared between multiple developers.</span></span>  <span data-ttu-id="3d3ec-137">Если вы хотите совместно использовать регистрацию приложения с несколькими разработчиками, можно создать приложение, выполнив вход на портал регистрации с учетной записью Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-137">If you would like to share your app registration amongst multiple developers, you can create the application by signing into the registration portal with an Azure AD account.</span></span>
* <span data-ttu-id="3d3ec-138">К формату универсального кода ресурса (URI) перенаправления применяется несколько ограничений.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-138">There are several restrictions on the format of the redirect URI that is allowed.</span></span> <span data-ttu-id="3d3ec-139">Дополнительные сведения об универсальных кодах ресурсов (URI) перенаправления см. в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-139">For more information about redirect URIs, see the next section.</span></span>

## <a name="restrictions-on-redirect-uris"></a><span data-ttu-id="3d3ec-140">Ограничения для универсальных кодов ресурсов (URI) перенаправления</span><span class="sxs-lookup"><span data-stu-id="3d3ec-140">Restrictions on redirect URIs</span></span>
<span data-ttu-id="3d3ec-141">В настоящее время приложения, зарегистрированные на портале регистрации приложений, ограничены определенным набором значений универсального кода ресурса (URI) перенаправления.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-141">Currently, apps that are registered in the Application Registration Portal are restricted to a limited set of redirect URI values.</span></span> <span data-ttu-id="3d3ec-142">Универсальный код ресурса (URI) перенаправления для веб-приложений и служб должен начинаться со схемы `https`. Все его значения должны совместно использовать один домен DNS.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-142">The redirect URI for web apps and services must begin with the scheme `https`, and all redirect URI values must share a single DNS domain.</span></span> <span data-ttu-id="3d3ec-143">Например, невозможно зарегистрировать веб-приложение с одним из следующих универсальных кодов ресурсов (URI) перенаправления.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-143">For example, you cannot register a web app that has one of these redirect URIs:</span></span>

`https://login-east.contoso.com`  
`https://login-west.contoso.com`

<span data-ttu-id="3d3ec-144">Система регистрации сравнивает полное DNS-имя имеющегося универсального кода ресурса (URI) перенаправления и DNS-имя добавляемого универсального кода ресурса (URI) перенаправления.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-144">The registration system compares the whole DNS name of the existing redirect URI to the DNS name of the redirect URI that you are adding.</span></span> <span data-ttu-id="3d3ec-145">Запрос на добавление DNS-имени завершится ошибкой при выполнении любого из следующих условий.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-145">The request to add the DNS name will fail if either of the following conditions is true:</span></span>  

* <span data-ttu-id="3d3ec-146">Если DNS-имя нового универсального кода ресурса (URI) перенаправления не соответствует DNS-имени существующего универсального кода ресурса (URI) перенаправления.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-146">The whole DNS name of the new redirect URI does not match the DNS name of the existing redirect URI.</span></span>
* <span data-ttu-id="3d3ec-147">Если DNS-имя нового универсального кода ресурса (URI) перенаправления не является поддоменом существующего универсального кода ресурса (URI) перенаправления.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-147">The whole DNS name of the new redirect URI is not a subdomain of the existing redirect URI.</span></span>

<span data-ttu-id="3d3ec-148">Например, в приложении используется приведенный ниже универсальный код ресурса (URI) перенаправления.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-148">For example, if the app has this redirect URI:</span></span>

`https://login.contoso.com`

<span data-ttu-id="3d3ec-149">Можно добавить его следующим образом.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-149">You can add to it, like this:</span></span>

`https://login.contoso.com/new`

<span data-ttu-id="3d3ec-150">В этом случае DNS-имя полностью совпадает.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-150">In this case, the DNS name matches exactly.</span></span> <span data-ttu-id="3d3ec-151">Или же можно сделать следующее.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-151">Or, you can do this:</span></span>

`https://new.login.contoso.com`

<span data-ttu-id="3d3ec-152">В этом случае используется ссылка на поддомен DNS, login.contoso.com.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-152">In this case, you're referring to a DNS subdomain of login.contoso.com.</span></span> <span data-ttu-id="3d3ec-153">Если необходимо создать приложение с универсальными кодами ресурсов (URI) перенаправления login-east.contoso.com и login-west.contoso.com, то нужно добавить следующие универсальные коды ресурсов (URI) перенаправления в указанном порядке.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-153">If you want to have an app that has login-east.contoso.com and login-west.contoso.com as redirect URIs, you must add those redirect URIs in this order:</span></span>

`https://contoso.com`  
`https://login-east.contoso.com`  
`https://login-west.contoso.com`  

<span data-ttu-id="3d3ec-154">Два последних значения являются поддоменами первого универсального кода ресурса (URI) перенаправления (contoso.com), поэтому их можно добавить.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-154">You can add the latter two because they are subdomains of the first redirect URI, contoso.com.</span></span> <span data-ttu-id="3d3ec-155">Это ограничение будет снято в следующей версии.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-155">This limitation will be removed in an upcoming release.</span></span>

<span data-ttu-id="3d3ec-156">Чтобы узнать, как зарегистрировать приложение на портале регистрации приложений, ознакомьтесь с разделом [Как зарегистрировать приложение с использованием конечной точки версии 2.0](active-directory-v2-app-registration.md).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-156">To learn how to register an app in the Application Registration Portal, see [How to register an app with the v2.0 endpoint](active-directory-v2-app-registration.md).</span></span>

## <a name="restrictions-on-services-and-apis"></a><span data-ttu-id="3d3ec-157">Ограничения для служб и интерфейсов API</span><span class="sxs-lookup"><span data-stu-id="3d3ec-157">Restrictions on services and APIs</span></span>
<span data-ttu-id="3d3ec-158">На данный момент конечная точка версии 2.0 поддерживает вход для любого приложения, зарегистрированного на портале регистрации приложений, если оно соответствует списку [поддерживаемых потоков аутентификации](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-158">Currently, the v2.0 endpoint supports sign-in for any app that is registered in the Application Registration Portal, and which falls in the list of [supported authentication flows](active-directory-v2-flows.md).</span></span> <span data-ttu-id="3d3ec-159">Однако эти приложения могут получать маркеры доступа OAuth 2.0 только для ограниченного набора ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-159">However, these apps can acquire OAuth 2.0 access tokens for a very limited set of resources.</span></span> <span data-ttu-id="3d3ec-160">Конечная точка версии 2.0 выдает маркеры доступа только:</span><span class="sxs-lookup"><span data-stu-id="3d3ec-160">The v2.0 endpoint issues access tokens only for:</span></span>

* <span data-ttu-id="3d3ec-161">Для приложения, запросившего маркер.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-161">The app that requested the token.</span></span> <span data-ttu-id="3d3ec-162">Приложение может получить маркер доступа для себя, если логическое приложение состоит из нескольких различных компонентов или уровней.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-162">An app can acquire an access token for itself, if the logical app is composed of several different components or tiers.</span></span> <span data-ttu-id="3d3ec-163">Увидеть этот сценарий в действии можно в наших учебниках в разделе [Начало работы](active-directory-appmodel-v2-overview.md#getting-started) .</span><span class="sxs-lookup"><span data-stu-id="3d3ec-163">To see this scenario in action, check out our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) tutorials.</span></span>
* <span data-ttu-id="3d3ec-164">Интерфейсы REST API Почты, Календаря и Контактов Outlook расположены на сайте https://outlook.office.com.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-164">The Outlook Mail, Calendar, and Contacts REST APIs, all of which are located at https://outlook.office.com.</span></span> <span data-ttu-id="3d3ec-165">Инструкции по созданию приложения с доступом к этим API можно найти в руководствах в разделе [Начало работы с Office](https://www.msdn.com/office/office365/howto/authenticate-Office-365-APIs-using-v2).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-165">To learn how to write an app that accesses these APIs, see the [Office Getting Started](https://www.msdn.com/office/office365/howto/authenticate-Office-365-APIs-using-v2) tutorials.</span></span>
* <span data-ttu-id="3d3ec-166">Для интерфейсов API Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-166">Microsoft Graph APIs.</span></span> <span data-ttu-id="3d3ec-167">Вы можете узнать больше о [Microsoft Graph](https://graph.microsoft.io) и данных, которые вам доступны.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-167">You can learn more about [Microsoft Graph](https://graph.microsoft.io) and the data that is available to you.</span></span>

<span data-ttu-id="3d3ec-168">Никакие другие службы в настоящее время не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-168">No other services are supported at this time.</span></span> <span data-ttu-id="3d3ec-169">В будущем будут добавлены другие службы Microsoft Online Services, а также поддержка пользовательских веб-API и служб.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-169">More Microsoft Online Services will be added in the future, in addition to support for your own custom-built Web APIs and services.</span></span>

## <a name="restrictions-on-libraries-and-sdks"></a><span data-ttu-id="3d3ec-170">Ограничения для библиотек и пакетов SDK</span><span class="sxs-lookup"><span data-stu-id="3d3ec-170">Restrictions on libraries and SDKs</span></span>
<span data-ttu-id="3d3ec-171">Сейчас поддержка библиотек для конечной точки версии 2.0 ограничена.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-171">Currently, library support for the v2.0 endpoint is limited.</span></span> <span data-ttu-id="3d3ec-172">Если требуется использовать конечную точку версии 2.0 в рабочем приложении, доступны приведенные ниже варианты.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-172">If you want to use the v2.0 endpoint in a production application, you have these options:</span></span>

* <span data-ttu-id="3d3ec-173">Если вы создаете веб-приложение, то для выполнения входа и проверки маркеров можно спокойно использовать общедоступную версию серверного ПО промежуточного слоя Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-173">If you are building a web application, you can safely use Microsoft generally available server-side middleware to perform sign-in and token validation.</span></span> <span data-ttu-id="3d3ec-174">В нее входит ПО промежуточного слоя OWIN OpenID Connect для ASP.NET и подключаемый модуль NodeJS Passport.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-174">These include the OWIN Open ID Connect middleware for ASP.NET and the Node.js Passport plug-in.</span></span> <span data-ttu-id="3d3ec-175">Примеры кода с использованием ПО промежуточного слоя Майкрософт доступны в разделе [Приступая к работе](active-directory-appmodel-v2-overview.md#getting-started).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-175">For code samples that use Microsoft middleware, see our [Getting Started](active-directory-appmodel-v2-overview.md#getting-started) section.</span></span>
* <span data-ttu-id="3d3ec-176">При создании классического или мобильного приложения можно использовать одну из библиотек проверки подлинности Майкрософт предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-176">If you are building a desktop or mobile application, you can use one of our preview Microsoft Authentication Libraries (MSAL).</span></span>  <span data-ttu-id="3d3ec-177">Эти библиотеки находятся на стадии предварительной версии с поддержкой рабочей среды, поэтому использовать их в рабочих приложениях безопасно.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-177">These libraries are in a production-supported preview, so it is safe to use them in production applications.</span></span> <span data-ttu-id="3d3ec-178">Дополнительные сведения об условиях предварительной версии и доступных библиотеках см. в статье [Библиотеки проверки подлинности Azure Active Directory версии 2.0](active-directory-v2-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-178">You can read more about the terms of the preview and the available libraries in our [authentication libraries reference](active-directory-v2-libraries.md).</span></span>
* <span data-ttu-id="3d3ec-179">Для платформ, не поддерживаемых библиотеками Майкрософт, можно выполнять интеграцию с конечной точкой версии 2.0, непосредственно отправляя и принимая сообщения протокола в коде приложения.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-179">For platforms not covered by Microsoft libraries, you can integrate with the v2.0 endpoint by directly sending and receiving protocol messages in your application code.</span></span> <span data-ttu-id="3d3ec-180">Чтобы помочь вам выполнить такую интеграцию, [мы добавили детальную информацию](active-directory-v2-protocols.md) о протоколах OpenID Connect и OAuth для версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-180">The v2.0 OpenID Connect and OAuth protocols [are explicitly documented](active-directory-v2-protocols.md) to help you perform such an integration.</span></span>
* <span data-ttu-id="3d3ec-181">Наконец, для интеграции с конечной точкой версии 2.0 вы можете использовать библиотеки с открытым кодом OpenID Connect и OAuth.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-181">Finally, you can use open-source Open ID Connect and OAuth libraries to integrate with the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-182">Протокол версии 2.0 должен быть совместим со многими другими библиотеками протоколов с открытым кодом без существенных изменений.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-182">The v2.0 protocol should be compatible with many open-source protocol libraries without major changes.</span></span> <span data-ttu-id="3d3ec-183">Наличие этих библиотек зависит от языка и платформы.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-183">The availability of these kinds of libraries varies by language and platform.</span></span> <span data-ttu-id="3d3ec-184">На веб-сайтах [Open ID Connect](http://openid.net/connect/) и [OAuth 2.0](http://oauth.net/2/) можно ознакомиться со списком популярных реализаций.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-184">The [Open ID Connect](http://openid.net/connect/) and [OAuth 2.0](http://oauth.net/2/) websites maintain a list of popular implementations.</span></span> <span data-ttu-id="3d3ec-185">Дополнительные сведения, список клиентских библиотек с открытым кодом и примеры, проверенные с конечной точкой версии 2.0, доступны в статье [Azure Active Directory (AD) версии 2.0 и библиотеки аутентификации](active-directory-v2-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-185">For more information, see [Azure Active Directory v2.0 and authentication libraries](active-directory-v2-libraries.md), and the list of open-source client libraries and samples that have been tested with the v2.0 endpoint.</span></span>

## <a name="restrictions-on-protocols"></a><span data-ttu-id="3d3ec-186">Ограничения для протоколов</span><span class="sxs-lookup"><span data-stu-id="3d3ec-186">Restrictions on protocols</span></span>
<span data-ttu-id="3d3ec-187">Конечная точка версии 2.0 не поддерживает SAML или WS-Federation. Она поддерживает только Open ID Connect и OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-187">The v2.0 endpoint does not support SAML or WS-Federation; it only supports Open ID Connect and OAuth 2.0.</span></span>  <span data-ttu-id="3d3ec-188">В ней реализованы не все функции и возможности протоколов OAuth.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-188">Not all features and capabilities of OAuth protocols have been incorporated into the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-189">В настоящее время в конечной версии 2.0 *недоступны* приведенные ниже функции и возможности протокола.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-189">These protocol features and capabilities currently are *not available* in the v2.0 endpoint:</span></span>

* <span data-ttu-id="3d3ec-190">Маркеры идентификации, выданные конечной точкой версии 2.0, не содержат утверждение `email` для пользователя, даже если получено разрешение от пользователя на просмотр его электронной почты.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-190">ID tokens that are issued by the v2.0 endpoint do not contain an `email` claim for the user, even if you acquire permission from the user to view their email.</span></span>
* <span data-ttu-id="3d3ec-191">Конечная точка сведений о пользователе OpenID Connect не реализована в конечной точке версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-191">The OpenID Connect UserInfo endpoint is not implemented on the v2.0 endpoint.</span></span> <span data-ttu-id="3d3ec-192">Тем не менее все данные профилей пользователей, которые может получить эта конечная точка, доступны в конечной точке `/me` Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-192">However, all user profile data that you potentially would receive at this endpoint is available from the Microsoft Graph `/me` endpoint.</span></span>
* <span data-ttu-id="3d3ec-193">Конечная точка версии 2.0 не поддерживает выдачу утверждений ролей или групп в маркерах идентификации.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-193">The v2.0 endpoint does not support issuing role or group claims in ID tokens.</span></span>
* <span data-ttu-id="3d3ec-194">Она не поддерживает [предоставление учетных данных владельца ресурса OAuth 2.0](https://tools.ietf.org/html/rfc6749#section-4.3).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-194">The [OAuth 2.0 Resource Owner Password Credentials Grant](https://tools.ietf.org/html/rfc6749#section-4.3) is not supported by the v2.0 endpoint.</span></span>

<span data-ttu-id="3d3ec-195">Кроме того, конечная точка версии 2.0 не поддерживает протоколы SAML или WS-Federation ни в какой форме.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-195">In addtion, the v2.0 endpoint does not support any form of the SAML or WS-Federation protocols.</span></span>

<span data-ttu-id="3d3ec-196">Чтобы лучше понять область действия функций протоколов, поддерживаемых в конечной точке версии 2.0, ознакомьтесь со [справочником по протоколам OpenID Connect и OAuth 2.0](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-196">To better understand the scope of protocol functionality supported in the v2.0 endpoint, read through our [OpenID Connect and OAuth 2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

## <a name="restrictions-for-work-and-school-accounts"></a><span data-ttu-id="3d3ec-197">Ограничения для рабочих и учебных учетных записей</span><span class="sxs-lookup"><span data-stu-id="3d3ec-197">Restrictions for work and school accounts</span></span>
<span data-ttu-id="3d3ec-198">При использовании библиотеки проверки подлинности Active Directory (ADAL) в приложениях для Windows вы могли воспользоваться преимуществом встроенной проверки подлинности Windows, которая использует предоставление утверждения языка разметки заявлений системы безопасности (SAML).</span><span class="sxs-lookup"><span data-stu-id="3d3ec-198">If you've used Active Directory Authentication Library (ADAL) in Windows applications, you might have taken advantage of Windows integrated authentication, which uses the Security Assertion Markup Language (SAML) assertion grant.</span></span> <span data-ttu-id="3d3ec-199">С его помощью пользователи федеративных клиентов Azure AD могут проходить аутентификацию в локальном экземпляре Active Directory автоматически, без необходимости ввода учетных данных.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-199">With this grant, users of federated Azure AD tenants can silently authenticate with their on-premises Active Directory instance without entering credentials.</span></span> <span data-ttu-id="3d3ec-200">На данный момент предоставление утверждения SAML не поддерживается в конечной точке версии 2.0.</span><span class="sxs-lookup"><span data-stu-id="3d3ec-200">Currently, the SAML assertion grant is not supported on the v2.0 endpoint.</span></span>