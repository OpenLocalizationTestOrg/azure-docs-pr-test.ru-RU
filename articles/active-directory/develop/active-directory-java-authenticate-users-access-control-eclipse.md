---
title: "aaaHow toouse контроля доступа (Java) | Документы Microsoft"
description: "Дополнительные сведения о том, как toodevelop и использовании управления доступом с Java в Azure."
services: active-directory
documentationcenter: java
author: rmcmurray
manager: erikre
editor: 
ms.assetid: 247dfd59-0221-4193-97ec-4f3ebe01d3c7
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: Java
ms.topic: article
ms.date: 04/25/2017
ms.author: robmcm
ms.custom: aaddev
ms.openlocfilehash: cbbce3b1a05eabf3b86a8cb91db1bde92dbb8960
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooauthenticate-web-users-with-azure-access-control-service-using-eclipse"></a>Как tooAuthenticate веб-пользователей с Azure Access Control Service с помощью Eclipse
В этом руководстве будет показано, как toouse hello службы управления доступом Azure (ACS) в пределах hello средств Azure для Eclipse. Дополнительные сведения о ACS см. в разделе hello [дальнейшие действия](#next_steps) раздела.

> [!NOTE]
> Hello фильтр управления служб Azure Access является CTP-версии. Эта предварительная версия программного обеспечения не обеспечивается официальной поддержкой корпорации Майкрософт.
> 
> 

## <a name="what-is-acs"></a>Что такое ACS?
Большинство разработчиков не являются экспертами в области идентификации, и обычно не нужно тратить механизмы проверки подлинности и авторизации разработка времени для своих приложений и служб. ACS — это служба Azure, предоставляющая простой способ проверки подлинности пользователей, которым необходим tooaccess веб-приложений и служб без необходимости toofactor сложную логику проверки подлинности в код.

Привет, следующие функции доступны в ACS:

* Интеграция с Windows Identity Foundation (WIF).
* Поддержка популярных поставщиков удостоверений в Интернете, в том числе Windows Live ID, Google, Yahoo! и Facebook.
* Поддержка служб федерации Active Directory (AD FS) 2.0.
* Протокол Open Data Protocol (OData) — на основе службы управления, который предоставляет программный доступ tooACS параметры.
* Портал управления, позволяющий параметры ACS toohello административный доступ.

Дополнительные сведения о службе ACS см. в разделе [Служба Access Control Service 2.0][Access Control Service 2.0].

## <a name="concepts"></a>Основные понятия
Azure ACS строится на субъекты hello удостоверения на основе утверждений - механизмов целостный подход toocreating проверки подлинности для приложений, работающих локально или в облаке hello. Удостоверение на основе утверждений предоставляет чаще всего для приложений и служб tooacquire сведения об удостоверении необходимые им о пользователях внутри организации, в других организациях, а также на hello Интернета.

toocomplete hello задачи в данном руководстве, необходимо учитывать следующие основные понятия hello.

**Клиент** -в контексте этого как tooguide hello, это браузер, в котором пытается toogain доступа tooyour веб-приложения.

**Приложение проверяющей стороны (RP)** -приложение STS — это веб-сайт или служба, которая использует механизм проверки подлинности tooone внешнего центра. В жаргон удостоверений говорят, что этой hello RP доверяет эту службу. В этом руководстве объясняется как tooconfigure tootrust вашего приложения ACS.

**Маркер** — набор данных безопасности, который обычно выдается после успешной аутентификации пользователя. Он содержит набор *утверждений*, атрибуты hello проверку подлинности пользователя. Утверждение может представлять имя пользователя, идентификатор связанной с пользователем роли, возраст пользователя и т. д. Маркер обычно цифровой подписью, означающее, что всегда можно источника задней tooits издателя и его содержимое не может быть подделан. Пользователь улучшение доступа tooa приложение STS, предоставляя допустимый маркер, выданный центром сертификации, которому доверяет приложение hello STS.

**Поставщик удостоверений** — полномочный орган, который проверяет подлинность идентификационных данных пользователя и выдает маркеры безопасности. Фактические трудозатраты Hello выдавать маркеры реализуется на то, что специальные службу под названием службы маркеров безопасности (STS). Типичными примерами поставщиков удостоверений являются Windows Live ID, Facebook, репозитории бизнес-пользователей (например, Active Directory) и т. д.
Когда ACS tootrust настроенные IP-адреса, hello системы будут приниматься и проверяться токенов, выданных этому IP-адрес. ACS можно доверять несколько IP-адресов за один раз, что означает, если приложение доверяет ACS, можно сразу же предлагать hello tooall вашего приложения с проверкой подлинности пользователей из всех hello IP-адресов, ACS доверия от вашего имени.

**Поставщик федерации** — поставщики удостоверений располагают непосредственными знаниями о пользователях, осуществляют проверку их подлинности, используя их учетные данные, и выдают утверждения о том, что они знают об этих пользователях. Поставщик федерации — это другой вид полномочного органа: вместо непосредственной проверки подлинности пользователей он действует как промежуточное звено и выступает посредником при проверке подлинности между одной проверяющей стороной и одним или несколькими поставщиками удостоверений. И поставщики удостоверений, и поставщики федерации выдают маркеры безопасности, поэтому и те и другие используют службу маркеров безопасности (Security Token Services, STS). ACS — это один поставщик федерации.

**Обработчик правил ACS** -hello логика используется tootransform входящие маркеры от доверенных tootokens IP-адреса предназначены toobe занятая hello RP, учесть в виде простого правила преобразования утверждений. В ACS имеется обработчик правил, который следит за применением любой логики преобразования, указанной для вашей проверяющей стороны.

**Пространство имен ACS** — пространство имен представляет собой раздел ACS верхнего уровня, который используется для систематизации параметров. Пространство имен содержит список IP-адресов, вы доверяете, требуется tooserve hello правила, которые предполагается, что приложения проверяющей Стороны hello hello engine правило tooprocess входящие токены и т. д. Пространство имен предоставляет различные конечные точки, которые будут используемые приложения hello и tooperform tooget ACS разработчика его функции.

Hello на этом рисунке показано, как работает проверка подлинности ACS с веб-приложения:

![Рабочая схема ACS][acs_flow]

1. Hello клиента (в данном случае браузер) запрашивает страницу с hello RP.
2. Поскольку запрос hello еще не прошел проверку подлинности, hello RP перенаправляет toohello центр hello пользователя, которым она доверяет, который является ACS. Hello ACS отображает hello hello Выбор IP-адресов, заданных для этой проверяющей Стороны. Hello пользователь выбирает соответствующие IP hello.
3. Hello клиент просматривает страницу проверки подлинности toohello IP и приглашения пользователя toolog hello.
4. После проверки подлинности клиента hello (например, удостоверение hello введенных учетных данных) hello IP выдает маркер безопасности.
5. После выдачи маркера безопасности, hello IP перенаправляет клиента tooACS hello и hello клиент отправляет hello токен безопасности, выданный hello IP tooACS.
6. ACS проверяет hello маркер безопасности, выданный службой hello IP-адресов, входов hello удостоверения утверждений из этого маркера в обработчик правил hello ACS, вычисляет hello исходящие идентификационные утверждения и выдает маркер безопасности, содержащий эти исходящие утверждения.
7. ACS перенаправляет клиента hello toohello RP. Hello клиент отправляет hello выданных ACS toohello RP новый маркер безопасности. Hello проверяющей Стороны проверяет подпись hello hello маркер безопасности, выданный службой ACS, проверяет hello утверждения из этого маркера и возвращает первоначально запрошенную страницу приветствия.

## <a name="prerequisites"></a>Предварительные требования
toocomplete hello задачи в данном руководстве, необходимо будет hello следующее:

* Java Developer Kit (JDK), версия 1.6 или более поздняя.
* Интегрированная среда разработки Eclipse для разработчиков Java EE, версия Indigo или более поздняя. Скачать ее можно на веб-странице <http://www.eclipse.org/downloads/>. 
* Дистрибутив веб-сервера или сервера приложений на основе Java, например Apache Tomcat, GlassFish, сервера приложений JBoss или Jetty.
* Подписка на Azure, которую можно получить, перейдя по ссылке <http://www.microsoft.com/windowsazure/offers/>.
* Hello средств Azure для Eclipse, апреля 2014 г. выпуск или более поздней версии. Дополнительные сведения см. в разделе [hello Установка средств Azure для Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690946.aspx).
* Сертификат X.509 toouse вместе с приложением. Этот сертификат потребуется в обоих форматах: открытый сертификат (CER) и файл обмена личной информацией (PFX). (Возможности для создания этого сертификата будут описаны далее в этом руководстве.)
* Знакомство с hello Azure вычислений эмулятор и развертывания способов, приведенных в [Создание приложения Hello World для Azure в Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx).

## <a name="create-an-acs-namespace"></a>Создание пространства имен ACS
toobegin с помощью службы управления доступом (ACS) в Azure, необходимо создать пространство имен ACS. Hello пространство имен предоставляет уникальную область для адресации ресурсов ACS из приложения.

1. Войти в hello [портала управления Azure][Azure Management Portal].
2. Щелкните **Active Directory**. 
3. toocreate новое пространство имен Access Control выберите **New**, нажмите кнопку **службы приложений**, нажмите кнопку **управления доступом**и нажмите кнопку **быстрое создание** . 
4. Введите имя для пространства имен hello. Azure, подтверждает, что это hello имя является уникальным.
5. Выберите регион hello, в которой hello используется пространство имен. Для наилучшей производительности hello используйте hello регион, в которой развертывается приложение.
6. При наличии нескольких подписок выберите подписку hello, требуется toouse для пространства имен hello ACS.
7. Щелкните **Создать**.

Azure создает и активирует hello пространства имен. Подождите, пока состояние hello hello новое пространство имен **Active** перед продолжением. 

## <a name="add-identity-providers"></a>Добавление поставщиков удостоверений
В этой задаче добавляется toouse IP-адресов с приложением проверяющей Стороны для проверки подлинности. Для демонстрации эта задача показывает, как Windows Live как IP-адреса, но tooadd может использовать IP-адресов, указанным в портале управления ACS hello hello.

1. В hello [портала управления Azure][Azure Management Portal], нажмите кнопку **Active Directory**, выберите пространство имен Access Control и нажмите кнопку **управление**. Откроется портал управления ACS Hello.
2. В области навигации слева hello hello портал управления ACS, щелкните **Поставщики удостоверений**.
3. Windows Live ID включен по умолчанию и не может быть удален. В данном учебнике используется только Windows Live ID. Этот экран, то, где можно добавить другие IP-адреса, щелкнув hello **добавить** кнопки.

Теперь Windows Live ID используется в качестве поставщика удостоверений для вашего пространства имен ACS. Затем укажите веб-приложение Java (toobe создан в более поздней версии) как RP.

## <a name="add-a-relying-party-application"></a>Добавление приложения проверяющей стороны
В этой задаче настраивается ACS toorecognize веб-приложение Java как допустимое приложение проверяющей Стороны.

1. Щелкните hello портал управления ACS, **приложения проверяющей стороны**.
2. На hello **приложения проверяющей стороны** щелкните **добавить**.
3. На hello **Добавление приложения проверяющей стороны** страницы, hello следующие:
   
   1. В **имя**, имя типа hello hello RP. Для целей данного учебника введите **Azure Web App**.
   2. В поле **Режим** выберите **Enter settings manually** (Ввод параметров вручную).
   3. В **область**, применяется тип hello URI toowhich hello маркер безопасности, выданный службой ACS. Для рассматриваемой задачи введите **http://localhost:8080/**.
      ![Область действия проверяющей стороны для использования в эмуляторе среды выполнения приложений][relying_party_realm_emulator]
   4. В **URL-адрес возврата,** toowhich URL-адрес типа hello ACS возвращает маркер безопасности hello. Для данной задачи введите **http://localhost:8080/MyACSHelloWorld/index.jsp**
      ![URL-адрес возврата проверяющей стороны для использования в эмуляторе вычислений][relying_party_return_url_emulator]
   5. Примите значения по умолчанию hello в hello rest hello полей.
4. Щелкните **Сохранить**.

Вы успешно настроили веб-приложение Java при запуске в эмуляторе вычислений Azure hello (на http://localhost: 8080 /) toobe RP в пространство имен ACS. Создайте правила hello, ACS использует tooprocess утверждения для hello RP.

## <a name="create-rules"></a>Создание правил
В этой задаче вы определите hello правил, которые управляют, как утверждения передаются от IP-адреса tooyour RP. Целью hello в этом руководстве мы просто настроит hello входного утверждения ACS toocopy типы и значения непосредственно в исходящий маркер hello, без фильтрации или изменения их.

1. На главной странице портала управления ACS hello, нажмите кнопку **группы правил**.
2. На hello **группы правил** щелкните **группа правил по умолчанию для веб-приложения Azure**.
3. На hello **изменение группы правил** щелкните **формирования**.
4. На hello **создания правил: группа правил по умолчанию для веб-приложения Azure** , убедитесь, проверяется идентификатор Windows Live ID и нажмите кнопку **формирования**.    
5. На hello **изменение группы правил** щелкните **Сохранить**.

## <a name="upload-a-certificate-tooyour-acs-namespace"></a>Отправить сертификат пространства имен tooyour ACS
В этой задаче вы загрузите. Сертификат PFX, который будет использоваться запросы маркеров используется toosign созданные пространства имен ACS.

1. На главной странице портала управления ACS hello, нажмите кнопку **сертификаты и ключи**.
2. На hello **сертификаты и ключи** щелкните **добавить** выше **подписи маркера**.
3. На hello **добавьте токена подписи сертификата или ключа** страницы:
   1. В hello **для** щелкните **приложения проверяющей стороны** и выберите **веб-приложения Azure** (который ранее устанавливается в качестве hello имя приложения проверяющей стороны).
   2. В hello **тип** выберите **сертификат X.509**.
   3. В hello **сертификат** статьи, нажмите кнопку обзора hello и перехода, которые должны toouse файл сертификата X.509 toohello. Это будет PFX-файл. Выберите файл hello, нажмите кнопку **откройте**, а затем введите пароль сертификата hello в hello **пароль** текстовое поле. Имейте в виду, что для целей тестирования можно использовать самозаверяющий сертификат. toocreate самозаверяющий сертификат, используйте hello **New** кнопку в hello **библиотеки ACS фильтра** диалогового окна (описанным ниже), или использовать hello **encutil.exe** служебной программы из hello [проекта веб-сайта] [ project website] из hello начальный набор Azure для Java.
   4. Убедитесь, что установлен флаг **Назначить основным**. Ваш **добавьте токена подписи сертификата или ключа** страница должна выглядеть примерно следующие toohello.
       ![Добавление сертификата для подписи маркера][add_token_signing_cert]
   5. Нажмите кнопку **Сохранить** toosave параметры и закрыть hello **добавьте токена подписи сертификата или ключа** страницы.

Затем просмотрите сведения hello hello интеграции приложений страницы и скопируйте hello URI, что вам потребуется tooconfigure вашей toouse приложения Java web ACS.

## <a name="review-hello-application-integration-page"></a>Страница «Просмотр hello интеграции приложений»
Ваш Java web приложения (hello приложение STS) toowork с помощью ACS на странице интеграции приложения hello hello портал управления ACS можно найти все сведения hello и необходимости tooconfigure кода hello. Эти сведения понадобятся при настройке веб-приложения Java для федеративной проверки подлинности.

1. Щелкните hello портал управления ACS, **интеграция приложений**.  
2. В hello **интеграция приложений** щелкните **страницы входа в систему**.
3. В hello **интеграция страницы входа** щелкните **веб-приложения Azure**.

В hello **интеграция страницы входа: веб-приложения Azure** страница hello URL, перечисленных в **вариант 1: ссылки tooan входа, размещаемая в ACS страницу** будет использоваться в веб-приложение Java. Это значение потребуется при добавлении hello фильтр служб Azure Access Control библиотеки tooyour приложение Java.

## <a name="create-a-java-web-application"></a>Создание веб-приложения Java
1. В Eclipse в меню hello щелкните **файл**, нажмите кнопку **New**и нажмите кнопку **динамический веб-проект**. (Если вы не видите **динамический веб-проект** после нажатия кнопки в списке доступных проектов **файл**, **New**, затем hello следующие: щелкните **файл**, нажмите кнопку **New**, нажмите кнопку **проекта**, разверните **Web**, нажмите кнопку **динамический веб-проект**и нажмите кнопку  **Далее**.) В целях этого учебника назовите проект hello **MyACSHelloWorld**. (Убедитесь, используйте это имя, последующие шаги в этом учебнике ожидается, что ваш файл toobe WAR, с именем MyACSHelloWorld). На экране появится примерно следующее toohello:
   
    ![Пример создания проекта Hello World для ACS][create_acs_hello_world]
   
    Нажмите кнопку **Готово**
2. В окне обозревателя проектов в Eclipse разверните узел **MyACSHelloWorld**. Щелкните правой кнопкой мыши **WebContent**, выберите **Создать**, затем щелкните **JSP File** (JSP-файл).
3. В hello **Создание JSP-файла** диалогового окна, имя файла hello **index.jsp**. Сохранить hello родительскую папку как MyACSHelloWorld/WebContent, как показано в следующих hello:
   
    ![Пример добавления JSP-файла для ACS][add_jsp_file_acs]
   
    Щелкните **Далее**.
4. В hello **Выбор шаблона JSP** диалоговое окно, выберите **новый JSP-файл (html)** и нажмите кнопку **Готово**.
5. При открытии файла index.jsp hello в Eclipse добавьте в текст toodisplay **ACS Здравствуй, мир!** в существующих hello `<body>` элемента. Обновленный `<body>` должно отобразиться содержимое hello следующим образом:
   
        <body>
          <b><% out.println("Hello ACS World!"); %></b>
        </body>
   
    Сохраните index.jsp.

## <a name="add-hello-acs-filter-library-tooyour-application"></a>Добавить фильтр ACS библиотеки tooyour приложения hello
1. В обозревателе проектов Eclipse щелкните правой кнопкой мыши **MyACSHelloWorld**, выберите **Build Path** (Путь сборки), а затем щелкните **Configure Build Path** (Настроить путь сборки).
2. В hello **путь построения Java** диалоговое окно, нажмите кнопку hello **библиотеки** вкладки.
3. Щелкните **Добавить библиотеку**.
4. Щелкните **Azure Access Control Services Filter (by MS Open Tech)** (Фильтр служб контроля доступа Azure (от MS Open Tech)) и нажмите кнопку **Далее**. Hello **фильтр служб Azure Access Control** отображается диалоговое окно.  (hello **расположение** поля могут иметь различные пути, в зависимости от того, где установлен Eclipse, и номер версии hello может отличаться, в зависимости от обновлений программного обеспечения.)
   
    ![Добавление библиотеки фильтров ACS][add_acs_filter_lib]
5. В браузере открывается toohello **интеграция страницы входа** страница hello портала управления hello скопировать URL-адрес, перечисленные в hello **вариант 1: ссылки tooan входа, размещаемая в ACS страницу** поля и вставьте его в hello **Конечную точку проверки подлинности ACS** поле диалогового окна Eclipse "hello".
6. В браузере открывается toohello **изменение приложения проверяющей стороны** страница hello портала управления hello скопировать URL-адрес, перечисленные в hello **область** поля и вставьте его в hello **область проверяющей стороны**  поле диалогового окна Eclipse "hello".
7. В рамках hello **безопасности** диалогового окна Eclipse hello, если требуется, чтобы toouse существующий сертификат, нажмите кнопку **Обзор**, перейдите toohello сертификата требуется toouse, выделите его и нажмите кнопку  **Откройте**. Или toocreate новый сертификат, нажмите кнопку **New** toodisplay hello **новый сертификат** диалогового окна, укажите пароль hello, имя файла .cer hello и имя hello PFX-файл для нового hello сертификат.
8. Проверьте **внедрения сертификата hello в hello WAR-файл**. Внедрение hello сертификата таким образом он входит в развертывании без необходимости toomanually добавить его в качестве компонента. (Если вместо этого необходимо сохранить сертификат извне из WAR-файл, можно добавить сертификат hello в качестве компонента роли и снимите флажок **внедрения сертификата hello в hello WAR-файл**.)
9. [Необязательно] Оставьте установленный флажок **Требовать соединения HTTPS** . Если этот параметр установлен, вам потребуется tooaccess приложения с помощью протокола HTTPS hello. Если вы не хотите toorequire подключения по протоколу HTTPS, снимите этот флажок.
10. Для развертывания toohello эмулятора, ваш **фильтров ACS Azure** параметров будет выглядеть примерно следующие toohello.
    
    ![Эмулятор вычислений Azure параметров фильтрации ACS для toohello развертывания][add_acs_filter_lib_emulator]
11. Нажмите кнопку **Готово**
12. Щелкните **Да** при появлении диалогового окна с сообщением о создании файла web.xml.
13. Нажмите кнопку **ОК** tooclose hello **путь построения Java** диалогового окна.

## <a name="deploy-toohello-compute-emulator"></a>Развертывание toohello эмулятор вычислений
1. В обозревателе проектов Eclipse щелкните правой кнопкой мыши **MyACSHelloWorld**, выберите **Azure**, а затем щелкните **Package for Azure** (Пакет для Azure).
2. В поле **Имя проекта** введите **MyAzureACSProject** и нажмите кнопку **Далее**.
3. Выберите JDK и сервер приложений. (Эти шаги рассматриваются подробно в hello [Создание приложения Hello World для Azure в Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) учебника).
4. Нажмите кнопку **Готово**
5. Нажмите кнопку hello **запуск в эмуляторе Azure** кнопки.
6. После запуска веб-приложения Java в эмуляторе вычислений hello закройте все экземпляры браузера (при этом все текущие сеансы браузера не мешают ACS тестового имени входа).
7. Запустите приложение, открыв в браузере ссылку <http://localhost:8080/MyACSHelloWorld/> (или <https://localhost:8080/MyACSHelloWorld/>, если установлен флажок **Require HTTPS connections** (Требовать соединения HTTPS)). Должен появиться запрос для имени входа Windows Live ID, а затем должна быть принята toohello URL возврата, указанный для приложения проверяющей стороны.
8. По завершении просмотра приложения щелкните hello **сбросить эмулятор Azure** кнопки.

## <a name="deploy-tooazure"></a>Развертывание tooAzure
toodeploy tooAzure необходимо toochange hello доверяющей стороны области и возврат URL-адрес для пространства имен ACS.

1. В рамках hello портала управления Azure в hello **изменение приложения проверяющей стороны** , измените **область** URL-адрес hello toobe развернутого узла. Замените **пример** с hello DNS-имя, указанное для развертывания.
   
    ![Область действия проверяющей стороны для использования в рабочей среде][relying_party_realm_production]
2. Изменить **URL-адрес возврата** URL-адрес hello toobe приложения. Замените **пример** с hello DNS-имя, указанное для развертывания.
   
    ![URL-адрес возврата проверяющей стороны для использования в рабочей среде][relying_party_return_url_production]
3. Нажмите кнопку **Сохранить** toosave изменяет обновленный проверяющими стороны области и возврат URL-адрес.
4. Сохранить hello **интеграция страницы входа** странице откройте в браузере, вскоре необходимо toocopy от него.
5. В обозревателе проектов Eclipse щелкните правой кнопкой мыши **MyACSHelloWorld**, выберите **Build Path** (Путь сборки), а затем щелкните **Configure Build Path** (Настроить путь сборки).
6. Нажмите кнопку hello **библиотеки** щелкните **фильтр служб Azure Access Control**и нажмите кнопку **изменить**.
7. В браузере открывается toohello **интеграция страницы входа** страница hello портала управления hello скопировать URL-адрес, перечисленные в hello **вариант 1: ссылки tooan входа, размещаемая в ACS страницу** поля и вставьте его в hello **Конечную точку проверки подлинности ACS** поле диалогового окна Eclipse "hello".
8. В браузере открывается toohello **изменение приложения проверяющей стороны** страница hello портала управления hello скопировать URL-адрес, перечисленные в hello **область** поля и вставьте его в hello **область проверяющей стороны**  поле диалогового окна Eclipse "hello".
9. В рамках hello **безопасности** диалогового окна Eclipse hello, если требуется, чтобы toouse существующий сертификат, нажмите кнопку **Обзор**, перейдите toohello сертификата требуется toouse, выделите его и нажмите кнопку  **Откройте**. Или toocreate новый сертификат, нажмите кнопку **New** toodisplay hello **новый сертификат** диалогового окна, укажите пароль hello, имя файла .cer hello и имя hello PFX-файл для нового hello сертификат.
10. Сохранить **в hello WAR-файл сертификата hello внедрения** флажок установлен, при условии, что требуется сертификат tooembed hello в hello WAR-файла.
11. [Необязательно] Оставьте установленный флажок **Требовать соединения HTTPS** . Если этот параметр установлен, вам потребуется tooaccess приложения с помощью протокола HTTPS hello. Если вы не хотите toorequire подключения по протоколу HTTPS, снимите этот флажок.
12. Для tooAzure развертывания настройки фильтра ACS Azure будет выглядеть аналогично toohello следующее.
    
    ![Параметры фильтра Azure ACS для развертывания в рабочей среде][add_acs_filter_lib_production]
13. Нажмите кнопку **Готово** tooclose hello **изменить библиотеку** диалогового окна.
14. Нажмите кнопку **ОК** tooclose hello **свойства MyACSHelloWorld** диалогового окна.
15. В среде Eclipse щелкните hello **публикации tooAzure облака** кнопки. Ответ toohello запросов, как и в hello **toodeploy вашего приложения tooAzure** раздел hello [Создание приложения Hello World для Azure в Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) раздела. 

После развертывания веб-приложения, закройте все сеансы открыть обозреватель веб-приложения, и должен появиться запрос toosign с учетными данными Windows Live ID, следуют отправки toohello возвращает URL-адрес приложения проверяющей стороны.

После завершения с помощью приложения ACS Hello World, помните toodelete hello развертывания (рассказывается, как toodelete развертывания в hello [Создание приложения Hello World для Azure в Eclipse](http://msdn.microsoft.com/library/windowsazure/hh690944.aspx) раздела).

## <a name="next_steps"></a>Дальнейшие действия
Изучение hello Security Assertion Markup Language (SAML) возвращаемой приложением tooyour ACS, в разделе [как tooview SAML возвращают hello Azure Access Control Service][How tooview SAML returned by hello Azure Access Control Service]. toofurther исследовать функциональные возможности службы ACS и tooexperiment с более сложных сценариях см. в разделе [Access Control Service 2.0][Access Control Service 2.0].

Кроме того, этот пример используется hello **в hello WAR-файл сертификата hello внедрения** параметр. Этот параметр позволяет простой toodeploy hello сертификата. Если вместо этого требуется tookeep сертификата подписи отдельно от WAR-файл, можно использовать следующий метод hello:

1. В рамках hello **безопасности** раздел hello **фильтр служб Azure Access Control** диалоговое окно, введите **${env. JAVA_HOME}/mycert.cer** и снимите флажок **внедрения сертификата hello в hello WAR-файл**. (Если имя вашего файла сертификата отличается, настройте mycert.cer.) Нажмите кнопку **Готово** диалоговое окно tooclose hello.
2. Копия сертификата hello как компонент в развертывании: В обозревателе проектов Eclipse разверните **MyAzureACSProject**, щелкните правой кнопкой мыши **WorkerRole1**, нажмите кнопку **свойства** , разверните **роли Azure**и нажмите кнопку **компонентов**.
3. Щелкните **Добавить**.
4. В рамках hello **добавить компонент** диалогового окна:
   
   1. В hello **импорта** раздела:
      1. Используйте hello **файл** кнопку toonavigate toohello сертификат toouse. 
      2. Для параметра **Метод** выберите **copy**.
   2. Для **от имени**, щелкните текстовое поле hello и примите имя по умолчанию hello.
   3. В hello **развернуть** раздела:
      1. Для параметра **Метод** выберите **copy**.
      2. Для **toodirectory**, тип **% JAVA_HOME %**.
   4. Ваш **добавить компонент** диалоговое окно должно выглядеть примерно следующие toohello.
      
       ![Добавление сертификата как компонента][add_cert_component]
   5. Нажмите кнопку **ОК**.

На этом этапе ваш сертификат должен быть включен в развертывание. Обратите внимание, что независимо от того, внедрения сертификата hello в hello WAR-файл или добавить его в качестве компонента tooyour развертывания, сертификат tooyour tooupload приветствия имен согласно инструкциям hello [отправить сертификат пространства имен tooyour ACS] [ Upload a certificate tooyour ACS namespace] раздела.

[What is ACS?]: #what-is
[Concepts]: #concepts
[Prerequisites]: #pre
[Create a Java web application]: #create-java-app
[Create an ACS Namespace]: #create-namespace
[Add Identity Providers]: #add-IP
[Add a Relying Party Application]: #add-RP
[Create Rules]: #create-rules
[Upload a certificate tooyour ACS namespace]: #upload-certificate
[Review hello Application Integration Page]: #review-app-int
[Configure Trust between ACS and Your ASP.NET Web Application]: #config-trust
[Add hello ACS Filter library tooyour application]: #add_acs_filter_library
[Deploy toohello compute emulator]: #deploy_compute_emulator
[Deploy tooAzure]: #deploy_azure
[Next steps]: #next_steps
[project website]: http://wastarterkit4java.codeplex.com/releases/view/61026
[How tooview SAML returned by hello Azure Access Control Service]: active-directory-java-view-saml-returned-by-access-control.md
[Access Control Service 2.0]: http://go.microsoft.com/fwlink/?LinkID=212360
[Windows Identity Foundation]: http://www.microsoft.com/download/en/details.aspx?id=17331
[Windows Identity Foundation SDK]: http://www.microsoft.com/download/en/details.aspx?id=4451
[Azure Management Portal]: https://manage.windowsazure.com
[acs_flow]: ./media/active-directory-java-authenticate-users-access-control-eclipse/ACSFlow.png

<!-- Eclipse-specific -->
[add_acs_filter_lib]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibrary.png
[add_acs_filter_lib_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryEmulator.png
[add_acs_filter_lib_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddACSFilterLibraryProduction.png

[relying_party_realm_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmEmulator.png
[relying_party_return_url_emulator]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLEmulator.png
[relying_party_realm_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyRealmProduction.png
[relying_party_return_url_production]: ./media/active-directory-java-authenticate-users-access-control-eclipse/RelyingPartyReturnURLProduction.png
[add_cert_component]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddCertificateComponent.png
[add_jsp_file_acs]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddJSPFileACS.png
[create_acs_hello_world]: ./media/active-directory-java-authenticate-users-access-control-eclipse/CreateACSHelloWorld.png
[add_token_signing_cert]: ./media/active-directory-java-authenticate-users-access-control-eclipse/AddTokenSigningCertificate.png

