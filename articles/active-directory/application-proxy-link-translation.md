---
title: "aaaTranslate ссылки и прокси приложения Azure AD URL-адреса | Документы Microsoft"
description: "Описываются основы hello о соединителей прокси приложения Azure AD."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/10/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: 7ec2b9fb01617067cf5d676037877bf72c19217b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="redirect-hardcoded-links-for-apps-published-with-azure-ad-application-proxy"></a><span data-ttu-id="47230-103">Перенаправление встроенных ссылок для приложений, опубликованных с помощью прокси приложения Azure AD</span><span class="sxs-lookup"><span data-stu-id="47230-103">Redirect hardcoded links for apps published with Azure AD Application Proxy</span></span>

<span data-ttu-id="47230-104">Прокси приложения Azure AD делает вашей доступных toousers локальных приложений удаленного или на собственных устройствах.</span><span class="sxs-lookup"><span data-stu-id="47230-104">Azure AD Application Proxy makes your on-premises apps available toousers who are remote or on their own devices.</span></span> <span data-ttu-id="47230-105">Тем не менее, некоторые приложения, разработанные в локальных ссылок, внедренных в hello HTML.</span><span class="sxs-lookup"><span data-stu-id="47230-105">Some apps, however, were developed with local links embedded in hello HTML.</span></span> <span data-ttu-id="47230-106">Эти ссылки не работают при удаленном использовании приложение hello.</span><span class="sxs-lookup"><span data-stu-id="47230-106">These links don't work correctly when hello app is used remotely.</span></span> <span data-ttu-id="47230-107">При наличии нескольких локальных приложений точки tooeach другим пользователям tookeep ссылки hello, работа, когда они не в офисе hello.</span><span class="sxs-lookup"><span data-stu-id="47230-107">When you have several on-premises applications point tooeach other, your users expect hello links tookeep working when they're not at hello office.</span></span> 

<span data-ttu-id="47230-108">Hello лучшим способом toomake том, что ссылки рабочих Здравствуйте таким же, как внутренний и за пределами корпоративной сети — tooconfigure hello внешние URL-адреса из вашего приложения toobe hello же, как их внутреннего URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="47230-108">hello best way toomake sure that links work hello same both inside and outside of your corporate network is tooconfigure hello external URLs of your apps toobe hello same as their internal URLs.</span></span> <span data-ttu-id="47230-109">Используйте [пользовательских доменов](active-directory-application-proxy-custom-domains.md) tooconfigure ваш внешний URL-адреса toohave домен организации имя вместо домена прокси приложения по умолчанию hello.</span><span class="sxs-lookup"><span data-stu-id="47230-109">Use [custom domains](active-directory-application-proxy-custom-domains.md) tooconfigure your external URLs toohave your corporate domain name instead of hello default application proxy domain.</span></span>

<span data-ttu-id="47230-110">Если в клиенте невозможно использовать пользовательские домены, возможность преобразования ссылок hello прокси-сервера приложения будет хранить ссылки работает независимо от того, где находятся ваши пользователи.</span><span class="sxs-lookup"><span data-stu-id="47230-110">If you can't use custom domains in your tenant, then hello link translation feature of Application Proxy keeps your links working no matter where your users are.</span></span> <span data-ttu-id="47230-111">При наличии приложений, которые указывают непосредственно toointernal конечные точки или порты, можно сопоставить эти внутренние URL-адреса toohello опубликованы внешние URL-адреса прокси-сервера приложения.</span><span class="sxs-lookup"><span data-stu-id="47230-111">When you have apps that point directly toointernal endpoints or ports, you can map these internal URLs toohello published external Application Proxy URLs.</span></span> <span data-ttu-id="47230-112">Когда преобразование ссылок включено, прокси приложения выполняет поиск по HTML, CSS и выбирает теги JavaScript для опубликованных внутренних ссылок.</span><span class="sxs-lookup"><span data-stu-id="47230-112">When link translation is enabled, and Application Proxy searches through HTML, CSS, and select JavaScript tags for published internal links.</span></span> <span data-ttu-id="47230-113">Затем службы прокси приложения hello преобразует их, чтобы пользователи получают более не прерывать работу.</span><span class="sxs-lookup"><span data-stu-id="47230-113">Then hello Application Proxy service translates them so that your users get an uninterrupted experience.</span></span>

>[!NOTE]
><span data-ttu-id="47230-114">Hello возможность преобразования ссылок — для клиентов, которые по какой-либо причине не можете использовать пользовательские домены toohave hello же внутренние и внешние URL-адреса для своих приложений.</span><span class="sxs-lookup"><span data-stu-id="47230-114">hello link translation feature is for tenants that, for whatever reason, can't use custom domains toohave hello same internal and external URLs for their apps.</span></span> <span data-ttu-id="47230-115">Прежде чем включать эту функцию, проверьте, можете ли вы использовать [личные домены в прокси приложения Azure AD](active-directory-application-proxy-custom-domains.md).</span><span class="sxs-lookup"><span data-stu-id="47230-115">Before you enable this feature, see if [custom domains in Azure AD Application Proxy](active-directory-application-proxy-custom-domains.md) can work for you.</span></span>
>
><span data-ttu-id="47230-116">Или, если приложение hello необходимо tooconfigure с преобразование ссылок в SharePoint, см. раздел [настройка альтернативного сопоставления доступа для SharePoint 2013](https://technet.microsoft.com/library/cc263208.aspx) ссылки toomapping другой подход.</span><span class="sxs-lookup"><span data-stu-id="47230-116">Or, if hello application you need tooconfigure with link translation is SharePoint, see [Configure alternate access mappings for SharePoint 2013](https://technet.microsoft.com/library/cc263208.aspx) for another approach toomapping links.</span></span>

## <a name="how-link-translation-works"></a><span data-ttu-id="47230-117">Как работает преобразование ссылок</span><span class="sxs-lookup"><span data-stu-id="47230-117">How link translation works</span></span>

<span data-ttu-id="47230-118">После проверки подлинности когда hello прокси-сервер передает пользователя toohello данных приложения hello, прокси приложения проверяет приложения hello ссылки жестко закодировано и заменяет их соответствующих им, опубликованные внешние URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="47230-118">After authentication, when hello proxy server passes hello application data toohello user, Application Proxy scans hello application for hardcoded links and replaces them with their respective, published external URLs.</span></span>

<span data-ttu-id="47230-119">Прокси приложения предполагает, что приложения имеют кодировку UTF-8.</span><span class="sxs-lookup"><span data-stu-id="47230-119">Application Proxy assumes that applications are encoded in UTF-8.</span></span> <span data-ttu-id="47230-120">Если это не так hello, укажите тип кодировки hello в заголовке ответа http, как `Content-Type:text/html;charset=utf-8`.</span><span class="sxs-lookup"><span data-stu-id="47230-120">If that's not hello case, specify hello encoding type in an http response header, like `Content-Type:text/html;charset=utf-8`.</span></span>

### <a name="which-links-are-affected"></a><span data-ttu-id="47230-121">Какие ссылки будут затронуты</span><span class="sxs-lookup"><span data-stu-id="47230-121">Which links are affected?</span></span>

<span data-ttu-id="47230-122">возможность преобразования ссылок Hello только ищет ссылки, отображаемые в код теги в тексте hello приложения.</span><span class="sxs-lookup"><span data-stu-id="47230-122">hello link translation feature only looks for links that are in code tags in hello body of an app.</span></span> <span data-ttu-id="47230-123">Прокси приложения имеет отдельную функцию для преобразования файлов cookie и URL-адресов в заголовках.</span><span class="sxs-lookup"><span data-stu-id="47230-123">Application Proxy has a separate feature for translating cookies or URLs in headers.</span></span> 

<span data-ttu-id="47230-124">Существует два общих типа внутренних ссылок в локальных приложениях:</span><span class="sxs-lookup"><span data-stu-id="47230-124">There are two common types of internal links in on-premises applications:</span></span>

- <span data-ttu-id="47230-125">**Относительные ссылки на внутренние** tooa этой точки общего ресурса в локальный файл структуру, подобную `/claims/claims.html`.</span><span class="sxs-lookup"><span data-stu-id="47230-125">**Relative internal links** that point tooa shared resource in a local file structure like `/claims/claims.html`.</span></span> <span data-ttu-id="47230-126">Эти ссылки автоматически работать в приложениях, опубликованных через прокси-сервер приложения и продолжить toowork с или без преобразование ссылок.</span><span class="sxs-lookup"><span data-stu-id="47230-126">These links automatically work in apps that are published through Application Proxy, and continue toowork with or without link translation.</span></span> 
- <span data-ttu-id="47230-127">**Внутренние ссылки жестко** tooother локальных приложений, как `http://expenses` или публикации файлов, например `http://expenses/logo.jpg`.</span><span class="sxs-lookup"><span data-stu-id="47230-127">**Hardcoded internal links** tooother on-premises apps like `http://expenses` or published files like `http://expenses/logo.jpg`.</span></span> <span data-ttu-id="47230-128">возможность преобразования ссылок Hello работает жестко закодировано внутренних ссылок и изменяет их toopoint toohello внешние URL-адреса, toogo через удаленный пользователям.</span><span class="sxs-lookup"><span data-stu-id="47230-128">hello link translation feature works on hardcoded internal links, and changes them toopoint toohello external URLs that remote users need toogo through.</span></span>

### <a name="how-do-apps-link-tooeach-other"></a><span data-ttu-id="47230-129">Как ссылку tooeach других приложений?</span><span class="sxs-lookup"><span data-stu-id="47230-129">How do apps link tooeach other?</span></span>

<span data-ttu-id="47230-130">Преобразование ссылок для каждого приложения таким образом, вы можете контролировать hello взаимодействие с пользователем на уровне отдельных приложений hello.</span><span class="sxs-lookup"><span data-stu-id="47230-130">Link translation is enabled for each application, so that you have control over hello user experience at hello per-app level.</span></span> <span data-ttu-id="47230-131">Включите преобразование ссылок для приложения, при необходимости hello ссылки *из* перевода toobe этого приложения, не ссылки *для* этого приложения.</span><span class="sxs-lookup"><span data-stu-id="47230-131">Turn on link translation for an app when you want hello links *from* that app toobe translated, not links *to* that app.</span></span> 

<span data-ttu-id="47230-132">Предположим, что имеется три приложения, опубликованного через прокси-сервер приложения, что все связи tooeach других: преимущества, затрат и движения.</span><span class="sxs-lookup"><span data-stu-id="47230-132">For example, suppose that you have three applications published through Application Proxy that all link tooeach other: Benefits, Expenses, and Travel.</span></span> <span data-ttu-id="47230-133">Имеется четвертое приложение, "Отзыв", которое не опубликовано через прокси приложения.</span><span class="sxs-lookup"><span data-stu-id="47230-133">There's a fourth app, Feedback, that isn't published through Application Proxy.</span></span>

<span data-ttu-id="47230-134">При включении преобразование ссылок в приложение hello преимущества tooExpenses ссылки hello и движения, перенаправленный toohello внешние URL-адреса для этих приложений, но tooFeedback ссылку hello не перенаправлен, так как нет внешний URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="47230-134">When you enable link translation for hello Benefits app, hello links tooExpenses and Travel are redirected toohello external URLs for those apps, but hello link tooFeedback is not redirected because there is no external URL.</span></span> <span data-ttu-id="47230-135">Ссылки из расходов и движения задней tooBenefits не работают, так как преобразование ссылок не включено для этих двух приложений.</span><span class="sxs-lookup"><span data-stu-id="47230-135">Links from Expenses and Travel back tooBenefits don't work, because link translation has not been enabled for those two apps.</span></span>

![Ссылки из приложений tooother преимуществ при включении преобразование ссылок](./media/application-proxy-link-translation/one_app.png)

### <a name="which-links-arent-translated"></a><span data-ttu-id="47230-137">Какие ссылки не преобразовываются</span><span class="sxs-lookup"><span data-stu-id="47230-137">Which links aren't translated?</span></span>

<span data-ttu-id="47230-138">tooimprove производительности и безопасности, некоторые ссылки не преобразовать:</span><span class="sxs-lookup"><span data-stu-id="47230-138">tooimprove performance and security, some links aren't translated:</span></span>

- <span data-ttu-id="47230-139">Ссылки вне тегов кода.</span><span class="sxs-lookup"><span data-stu-id="47230-139">Links not inside of code tags.</span></span> 
- <span data-ttu-id="47230-140">Ссылки в формате, отличном от HTML, CSS или JavaScript.</span><span class="sxs-lookup"><span data-stu-id="47230-140">Links not in HTML, CSS, or JavaScript.</span></span> 
- <span data-ttu-id="47230-141">Внутренние ссылки, открываемые из других программ.</span><span class="sxs-lookup"><span data-stu-id="47230-141">Internal links opened from other programs.</span></span> <span data-ttu-id="47230-142">Ссылки, отправленные по электронной почте или через мгновенные сообщения либо включенные в другие документы.</span><span class="sxs-lookup"><span data-stu-id="47230-142">Links sent through email or instant message, or included in other documents, won't be translated.</span></span> <span data-ttu-id="47230-143">Hello пользователи должны tooknow toogo toohello внешний URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="47230-143">hello users need tooknow toogo toohello external URL.</span></span>

<span data-ttu-id="47230-144">Если вам требуется toosupport один из этих двух сценариев, используйте hello же внутренние и внешние URL-адреса вместо преобразование ссылок.</span><span class="sxs-lookup"><span data-stu-id="47230-144">If you need toosupport one of these two scenarios, use hello same internal and external URLs instead of link translation.</span></span>  

## <a name="enable-link-translation"></a><span data-ttu-id="47230-145">Включение преобразования ссылок</span><span class="sxs-lookup"><span data-stu-id="47230-145">Enable link translation</span></span>

<span data-ttu-id="47230-146">Приступить к работе с преобразованием ссылок очень просто:</span><span class="sxs-lookup"><span data-stu-id="47230-146">Getting started with link translation is as easy as clicking a button:</span></span>

1. <span data-ttu-id="47230-147">Войдите в toohello [портал Azure](https://portal.azure.com) с правами администратора.</span><span class="sxs-lookup"><span data-stu-id="47230-147">Sign in toohello [Azure portal](https://portal.azure.com) as an administrator.</span></span>
2. <span data-ttu-id="47230-148">Go слишком**Azure Active Directory** > **корпоративных приложений** > **всех приложений** > выберите hello приложение toomanage > **Прокси приложения**.</span><span class="sxs-lookup"><span data-stu-id="47230-148">Go too**Azure Active Directory** > **Enterprise applications** > **All applications** > select hello app you want toomanage > **Application proxy**.</span></span>
3. <span data-ttu-id="47230-149">Включить **преобразовать URL-адреса в основной части приложения** слишком**Да**.</span><span class="sxs-lookup"><span data-stu-id="47230-149">Turn **Translate URLs in application body** too**Yes**.</span></span>

   ![Выберите Да tootranslate URL-адреса в основной части приложения](./media/application-proxy-link-translation/select_yes.png)<span data-ttu-id="47230-151">.</span><span class="sxs-lookup"><span data-stu-id="47230-151">.</span></span>
4. <span data-ttu-id="47230-152">Выберите **Сохранить** tooapply изменения.</span><span class="sxs-lookup"><span data-stu-id="47230-152">Select **Save** tooapply your changes.</span></span>

<span data-ttu-id="47230-153">Теперь когда пользователям доступ к этому приложению, hello прокси-сервер автоматически обновляет внутренние URL-адреса, опубликованных через прокси приложения для клиента.</span><span class="sxs-lookup"><span data-stu-id="47230-153">Now, when your users access this application, hello proxy will automatically scan for internal URLs that have been published through Application Proxy on your tenant.</span></span>

## <a name="send-feedback"></a><span data-ttu-id="47230-154">Отправка отзывов</span><span class="sxs-lookup"><span data-stu-id="47230-154">Send feedback</span></span>

<span data-ttu-id="47230-155">Мы хотим вашей toomake справки рабочую функцию для всех приложений.</span><span class="sxs-lookup"><span data-stu-id="47230-155">We want your help toomake this feature work for all your apps.</span></span> <span data-ttu-id="47230-156">Мы поиска более 30 теги в HTML и CSS и принимаете какие toosupport случаях JavaScript.</span><span class="sxs-lookup"><span data-stu-id="47230-156">We search over 30 tags in HTML and CSS, and are considering which JavaScript cases toosupport.</span></span> <span data-ttu-id="47230-157">При наличии примером создаваемые ссылки, не выполняется перевод отправить фрагмент кода слишком[отзывы прокси приложения](mailto:aadapfeedback@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="47230-157">If you have an example of generated links that aren't being translated, send a code snippet too[Application Proxy Feedback](mailto:aadapfeedback@microsoft.com).</span></span> 

## <a name="next-steps"></a><span data-ttu-id="47230-158">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="47230-158">Next steps</span></span>
<span data-ttu-id="47230-159">[Использовать пользовательские домены с помощью прокси приложения Azure AD](active-directory-application-proxy-custom-domains.md) toohave hello внутренние и внешние URL-адреса</span><span class="sxs-lookup"><span data-stu-id="47230-159">[Use custom domains with Azure AD Application Proxy](active-directory-application-proxy-custom-domains.md) toohave hello same internal and external URL</span></span>

[<span data-ttu-id="47230-160">Настройка альтернативных сопоставлений доступа для SharePoint 2013</span><span class="sxs-lookup"><span data-stu-id="47230-160">Configure alternate access mappings for SharePoint 2013</span></span>](https://technet.microsoft.com/library/cc263208.aspx)
