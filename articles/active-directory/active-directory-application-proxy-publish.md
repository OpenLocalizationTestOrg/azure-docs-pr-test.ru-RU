---
title: "Публикация приложений с помощью прокси приложения Azure AD | Microsoft Azure"
description: "Здесь описывается публикация локальных приложений в облаке с помощью прокси приложения Azure AD на классическом портале."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: d94ac3f4-cd33-4c51-9d19-544a528637d4
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 07/14/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro; oldportal
ms.openlocfilehash: 96490c0d060fe5486a7235a5aa76380c8d9b5d4f
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="publish-applications-using-azure-ad-application-proxy"></a><span data-ttu-id="b2bab-103">Публикация приложений с помощью прокси приложения Azure AD</span><span class="sxs-lookup"><span data-stu-id="b2bab-103">Publish applications using Azure AD Application Proxy</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="b2bab-104">портале Azure</span><span class="sxs-lookup"><span data-stu-id="b2bab-104">Azure portal</span></span>](application-proxy-publish-azure-portal.md)
> * [<span data-ttu-id="b2bab-105">Классический портал Azure</span><span class="sxs-lookup"><span data-stu-id="b2bab-105">Azure classic portal</span></span>](active-directory-application-proxy-publish.md)

<span data-ttu-id="b2bab-106">Прокси приложения Azure AD обеспечивает поддержку удаленных рабочих ролей. Для этого необходимо опубликовать локальные приложения, чтобы к ним можно было получать доступ через Интернет.</span><span class="sxs-lookup"><span data-stu-id="b2bab-106">Azure AD Application Proxy helps you support remote workers by publishing on-premises applications to be accessed over the internet.</span></span> <span data-ttu-id="b2bab-107">На этом этапе у вас уже должен быть [включен прокси приложения на классическом портале Azure](active-directory-application-proxy-enable.md).</span><span class="sxs-lookup"><span data-stu-id="b2bab-107">By this point, you should already have [enabled Application Proxy in the Azure classic portal](active-directory-application-proxy-enable.md).</span></span> <span data-ttu-id="b2bab-108">В этой статье описаны действия, которые необходимо выполнить для публикации приложений, которые работают в локальной сети, и предоставления к ним безопасного удаленного доступа из внешней сети.</span><span class="sxs-lookup"><span data-stu-id="b2bab-108">This article walks you through the steps to publish applications that are running on your local network and provide secure remote access from outside your network.</span></span> <span data-ttu-id="b2bab-109">Ознакомившись с этой статьей, вы сможете указать для приложения личные сведения и настроить необходимые параметры безопасности.</span><span class="sxs-lookup"><span data-stu-id="b2bab-109">After you complete this article, you'll be ready to configure the application with personalized information or security requirements.</span></span>

> [!NOTE]
> <span data-ttu-id="b2bab-110">Прокси приложения — это функция, которая доступна только после обновления до выпуска Premium или Basic службы Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b2bab-110">Application Proxy is a feature that is available only if you upgraded to the Premium or Basic edition of Azure Active Directory.</span></span> <span data-ttu-id="b2bab-111">Дополнительные сведения см. в разделе [Выпуски Azure Active Directory](active-directory-editions.md).</span><span class="sxs-lookup"><span data-stu-id="b2bab-111">For more information, see [Azure Active Directory editions](active-directory-editions.md).</span></span> <span data-ttu-id="b2bab-112">Если вы хотите использовать прокси приложения, ознакомьтесь со статьей о [публикации приложений на портале Azure](application-proxy-publish-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="b2bab-112">If you want to use Application Proxy, you can [Publish applications in the Azure portal](application-proxy-publish-azure-portal.md).</span></span>

## <a name="publish-an-app-using-the-wizard"></a><span data-ttu-id="b2bab-113">Публикация приложения с помощью мастера</span><span class="sxs-lookup"><span data-stu-id="b2bab-113">Publish an app using the wizard</span></span>
1. <span data-ttu-id="b2bab-114">Войдите на [классический портал Azure](https://manage.windowsazure.com/)как администратор.</span><span class="sxs-lookup"><span data-stu-id="b2bab-114">Sign in as an administrator in the [Azure classic portal](https://manage.windowsazure.com/).</span></span>
2. <span data-ttu-id="b2bab-115">Перейдите к Active Directory и выберите каталог, в котором включен прокси приложения.</span><span class="sxs-lookup"><span data-stu-id="b2bab-115">Go to Active Directory and select the directory where you enabled Application Proxy.</span></span>
   
    ![Active Directory — значок](./media/active-directory-application-proxy-publish/ad_icon.png)
3. <span data-ttu-id="b2bab-117">Откройте вкладку **Приложения**, а затем нажмите кнопку **Добавить**, расположенную в нижней части окна.</span><span class="sxs-lookup"><span data-stu-id="b2bab-117">Click the **Applications** tab, and then click the **Add** button at the bottom of the screen</span></span>
   
    ![Добавить приложение](./media/active-directory-application-proxy-publish/aad_appproxy_selectdirectory.png)
4. <span data-ttu-id="b2bab-119">Выберите **Публикация приложения, которое будет доступно за пределами вашей сети**.</span><span class="sxs-lookup"><span data-stu-id="b2bab-119">Select **Publish an application that will be accessible from outside your network**.</span></span>
   
    ![Публикация приложения, которое будет доступно за пределами вашей сети](./media/active-directory-application-proxy-publish/aad_appproxy_addapp.png)
5. <span data-ttu-id="b2bab-121">Укажите следующие сведения о приложении:</span><span class="sxs-lookup"><span data-stu-id="b2bab-121">Provide the following information about your application:</span></span>
   
   * <span data-ttu-id="b2bab-122">**Имя**— понятное имя для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="b2bab-122">**Name**: The user-friendly name for your application.</span></span> <span data-ttu-id="b2bab-123">Оно должно быть уникальным в рамках вашего каталога.</span><span class="sxs-lookup"><span data-stu-id="b2bab-123">It must be unique within your directory.</span></span>
   * <span data-ttu-id="b2bab-124">**Внутренний URL-адрес**— это адрес, используемый соединителем прокси приложения для доступа к приложению вне частной сети.</span><span class="sxs-lookup"><span data-stu-id="b2bab-124">**Internal URL**: The address that the Application Proxy Connector uses to access the application from inside your private network.</span></span> <span data-ttu-id="b2bab-125">Для публикации можно указать только конкретный адрес на внутреннем сервере; при этом другие адреса сервера не публикуются.</span><span class="sxs-lookup"><span data-stu-id="b2bab-125">You can provide a specific path on the backend server to publish, while the rest of the server is unpublished.</span></span> <span data-ttu-id="b2bab-126">Таким образом можно публиковать разные сайты на одном сервере, назначая каждому из них отдельное имя и правила доступа.</span><span class="sxs-lookup"><span data-stu-id="b2bab-126">In this way, you can publish different sites on the same server, and give each one its own name and access rules.</span></span>
     
     > [!TIP]
     > <span data-ttu-id="b2bab-127">Если вы публикуете путь, он должен включать в себя все необходимые изображения, скрипты и таблицы стилей для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="b2bab-127">If you publish a path, make sure that it includes all the necessary images, scripts, and style sheets for your application.</span></span> <span data-ttu-id="b2bab-128">Например, если приложение расположено по адресу https://yourapp/app и использует образы, расположенные по адресу https://yourapp/media, следует опубликовать путь https://yourapp/.</span><span class="sxs-lookup"><span data-stu-id="b2bab-128">For example, if your app is at https://yourapp/app and uses images located at https://yourapp/media, then you should publish https://yourapp/ as the path.</span></span>
     > 
     > 
   * <span data-ttu-id="b2bab-129">**Метод предварительной проверки подлинности**— способ, с помощью которого прокси приложения проверяет пользователей, прежде чем предоставить им доступ к приложению.</span><span class="sxs-lookup"><span data-stu-id="b2bab-129">**Preauthentication Method**: How Application Proxy verifies users before giving them access to your application.</span></span> <span data-ttu-id="b2bab-130">Выберите один из вариантов в раскрывающемся меню.</span><span class="sxs-lookup"><span data-stu-id="b2bab-130">Choose one of the options from the drop-down menu.</span></span>
     
     * <span data-ttu-id="b2bab-131">Azure Active Directory — прокси приложения перенаправляет пользователей на страницу входа в Azure AD, где будет выполняться проверка подлинности их разрешений для каталога и приложения.</span><span class="sxs-lookup"><span data-stu-id="b2bab-131">Azure Active Directory: Application Proxy redirects users to sign in with Azure AD, which authenticates their permissions for the directory and application.</span></span>
     * <span data-ttu-id="b2bab-132">Транзитная проверка подлинности — пользователям не нужно выполнять проверку подлинности для доступа к приложению.</span><span class="sxs-lookup"><span data-stu-id="b2bab-132">Passthrough: Users don't have to authenticate to access the application.</span></span>
     
     ![Свойства приложения](./media/active-directory-application-proxy-publish/aad_appproxy_appproperties.png)  
6. <span data-ttu-id="b2bab-134">Чтобы завершить работу мастера, установите флажок в нижней части экрана.</span><span class="sxs-lookup"><span data-stu-id="b2bab-134">To finish the wizard, click the check mark at the bottom of the screen.</span></span> <span data-ttu-id="b2bab-135">Теперь приложение определено в Azure AD.</span><span class="sxs-lookup"><span data-stu-id="b2bab-135">The application is now defined in Azure AD.</span></span>

## <a name="assign-users-and-groups-to-the-application"></a><span data-ttu-id="b2bab-136">Назначение пользователей и групп для приложения</span><span class="sxs-lookup"><span data-stu-id="b2bab-136">Assign users and groups to the application</span></span>
<span data-ttu-id="b2bab-137">Чтобы предоставить пользователям доступ к опубликованному приложению, необходимо назначить их по отдельности или в группах.</span><span class="sxs-lookup"><span data-stu-id="b2bab-137">In order for your users to access your published application, you need to assign them either individually or in groups.</span></span> <span data-ttu-id="b2bab-138">(Не забудьте предоставить доступ и себе.) Каждый назначаемый пользователь должен иметь лицензию на поддержку Azure Basic или более высокого уровня.</span><span class="sxs-lookup"><span data-stu-id="b2bab-138">(Remember to assign yourself access, too.) Each user you assign needs a license for Azure Basic or higher.</span></span> <span data-ttu-id="b2bab-139">Дополнительные сведения см.</span><span class="sxs-lookup"><span data-stu-id="b2bab-139">You can assign licenses individually or to groups.</span></span> <span data-ttu-id="b2bab-140">в статье [Azure AD и приложения: назначение пользователей для приложения](active-directory-applications-guiding-developers-assigning-users.md).</span><span class="sxs-lookup"><span data-stu-id="b2bab-140">For more information, see [Assigning users to an application](active-directory-applications-guiding-developers-assigning-users.md).</span></span> 

<span data-ttu-id="b2bab-141">Для приложений, требующих предварительной проверки подлинности, присвоение пользователя предоставляет разрешение для использования приложения.</span><span class="sxs-lookup"><span data-stu-id="b2bab-141">For apps that require preauthentication, assigning a user grants permission to use the application.</span></span> <span data-ttu-id="b2bab-142">Для приложений, которые не требуют предварительной проверки подлинности, присвоение пользователя означает, что у пользователя есть доступ к приложению через панель доступа.</span><span class="sxs-lookup"><span data-stu-id="b2bab-142">For apps that don't require preauthentication, assigning a user means that the user can access the application through the access panel.</span></span>

1. <span data-ttu-id="b2bab-143">После завершения работы мастера добавления приложений отобразится страница быстрого запуска для приложения.</span><span class="sxs-lookup"><span data-stu-id="b2bab-143">After finishing the Add App wizard, you see the Quick Start page for your application.</span></span> <span data-ttu-id="b2bab-144">Чтобы управлять тем, кто имеет доступ к приложению, щелкните **Пользователи и группы**.</span><span class="sxs-lookup"><span data-stu-id="b2bab-144">To manage who has access to the app, select **Users and groups**.</span></span>
   
    ![Снимок экрана быстрого запуска прокси приложения: назначение пользователей](./media/active-directory-application-proxy-publish/aad_appproxy_usersgroups.png)
2. <span data-ttu-id="b2bab-146">Выполните поиск конкретных групп в каталоге или выберите вывод списка всех пользователей.</span><span class="sxs-lookup"><span data-stu-id="b2bab-146">Search for specific groups in your directory, or show all your users.</span></span> <span data-ttu-id="b2bab-147">Щелкните значок галочки, чтобы увидеть результаты поиска.</span><span class="sxs-lookup"><span data-stu-id="b2bab-147">To display the search results, click the check mark.</span></span>
   
      ![Снимок экрана поиска групп или пользователей](./media/active-directory-application-proxy-publish/aad_appproxy_search.png)
3. <span data-ttu-id="b2bab-149">Выберите пользователей или группы, которым необходимо назначить это приложение, и щелкните **Назначить**.</span><span class="sxs-lookup"><span data-stu-id="b2bab-149">Select each user or group you want to assign to this app and click **Assign**.</span></span> <span data-ttu-id="b2bab-150">Вам будет предложено подтвердить действие.</span><span class="sxs-lookup"><span data-stu-id="b2bab-150">You are asked to confirm this action.</span></span>

> [!NOTE]
> <span data-ttu-id="b2bab-151">Для приложений со встроенной проверкой подлинности Windows можно назначить только пользователей и группы, которые синхронизированы в локальной службе Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b2bab-151">For Integrated Windows Authentication apps, you can assign only users and groups that are synced from your on-premises Active Directory.</span></span> <span data-ttu-id="b2bab-152">Для приложений, опубликованных с помощью прокси приложения Azure Active Directory, нельзя назначить пользователей, использующих для входа учетную запись Майкрософт, а также гостей.</span><span class="sxs-lookup"><span data-stu-id="b2bab-152">Users who sign in with a Microsoft account and guests cannot be assigned for apps published with Azure Active Directory Application Proxy.</span></span> <span data-ttu-id="b2bab-153">Убедитесь, что назначаемые пользователи входят в систему с помощью учетных данных, содержащихся в том же домене, что и публикуемое приложение.</span><span class="sxs-lookup"><span data-stu-id="b2bab-153">Make sure your users sign in with credentials that are part of the same domain as the app you are publishing.</span></span>
> 
> 

## <a name="test-your-published-application"></a><span data-ttu-id="b2bab-154">Тестирование опубликованного приложения</span><span class="sxs-lookup"><span data-stu-id="b2bab-154">Test your published application</span></span>
<span data-ttu-id="b2bab-155">После публикации приложения можно проверить его работу, перейдя по опубликованному URL-адресу.</span><span class="sxs-lookup"><span data-stu-id="b2bab-155">Once you have published your application, you can test it out by navigating to the URL that you published.</span></span> <span data-ttu-id="b2bab-156">Удостоверьтесь в том, что оно доступно, правильно отображается и что все работает надлежащим образом.</span><span class="sxs-lookup"><span data-stu-id="b2bab-156">Make sure that you can access it, that it renders correctly, and that everything works as expected.</span></span> <span data-ttu-id="b2bab-157">Если возникнут проблемы или появится сообщение об ошибке, см. сведения в [руководстве по устранению неполадок](active-directory-application-proxy-troubleshoot.md).</span><span class="sxs-lookup"><span data-stu-id="b2bab-157">If you have trouble or get an error message, try the [troubleshooting guide](active-directory-application-proxy-troubleshoot.md).</span></span>

## <a name="configure-your-application"></a><span data-ttu-id="b2bab-158">Настройка приложения</span><span class="sxs-lookup"><span data-stu-id="b2bab-158">Configure your application</span></span>
<span data-ttu-id="b2bab-159">Вы можете изменить опубликованные приложения или настроить дополнительные параметры на странице "Настройка".</span><span class="sxs-lookup"><span data-stu-id="b2bab-159">You can modify published apps or set up advanced options on the Configure page.</span></span> <span data-ttu-id="b2bab-160">На этой странице можно изменить имя и загрузить логотип для приложения.</span><span class="sxs-lookup"><span data-stu-id="b2bab-160">On this page, you can customize your app by changing the name or uploading a logo.</span></span> <span data-ttu-id="b2bab-161">Можно также управлять правилами доступа, например, настроить метод предварительной проверки подлинности или многофакторную идентификацию.</span><span class="sxs-lookup"><span data-stu-id="b2bab-161">You can also manage access rules like the preauthentication method or multi-factor authentication.</span></span>

![Расширенная конфигурация](./media/active-directory-application-proxy-publish/aad_appproxy_configure.png)

<span data-ttu-id="b2bab-163">После публикации приложений с помощью прокси приложения Azure Active Directory они отображаются в списке приложений в Azure AD, и вы можете управлять ими.</span><span class="sxs-lookup"><span data-stu-id="b2bab-163">After you publish applications using Azure Active Directory Application Proxy, they appear in the Applications list in Azure AD, and you can manage them there.</span></span>

<span data-ttu-id="b2bab-164">Если отключить службы прокси приложения после публикации приложений, к приложениям нельзя будет получить доступ из-за пределов частной сети.</span><span class="sxs-lookup"><span data-stu-id="b2bab-164">If you disable Application Proxy services after you have published applications, the applications are no longer accessible from outside your private network.</span></span> <span data-ttu-id="b2bab-165">Пользователи по-прежнему могут получать доступ к локальным приложениям.</span><span class="sxs-lookup"><span data-stu-id="b2bab-165">Your users can still access the applications on-premises as usual.</span></span>

<span data-ttu-id="b2bab-166">Чтобы просмотреть приложение и убедиться, что оно доступно, дважды щелкните имя приложения.</span><span class="sxs-lookup"><span data-stu-id="b2bab-166">To view an application and make sure that it is accessible, double-click the name of the application.</span></span> <span data-ttu-id="b2bab-167">Если служба прокси приложения отключена и приложение недоступно, в верхней части экрана появится предупреждающее сообщение.</span><span class="sxs-lookup"><span data-stu-id="b2bab-167">If the Application Proxy service is disabled and the application is not available, a warning message appears at the top of the screen.</span></span>

<span data-ttu-id="b2bab-168">Чтобы удалить приложение, выберите его из списка и щелкните **Удалить**.</span><span class="sxs-lookup"><span data-stu-id="b2bab-168">To delete an application, select an application in the list and then click **Delete**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b2bab-169">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="b2bab-169">Next steps</span></span>
* [<span data-ttu-id="b2bab-170">Публикация приложений с помощью доменного имени</span><span class="sxs-lookup"><span data-stu-id="b2bab-170">Publish applications using your own domain name</span></span>](active-directory-application-proxy-custom-domains.md)
* [<span data-ttu-id="b2bab-171">Включение единого входа</span><span class="sxs-lookup"><span data-stu-id="b2bab-171">Enable single-sign on</span></span>](active-directory-application-proxy-sso-using-kcd.md)
* [<span data-ttu-id="b2bab-172">Включение условного доступа</span><span class="sxs-lookup"><span data-stu-id="b2bab-172">Enable conditional access</span></span>](active-directory-application-proxy-conditional-access.md)
* [<span data-ttu-id="b2bab-173">Работа с приложениями, поддерживающими утверждения</span><span class="sxs-lookup"><span data-stu-id="b2bab-173">Working with claims aware applications</span></span>](active-directory-application-proxy-claims-aware-apps.md)

<span data-ttu-id="b2bab-174">Последние новости и обновления см. в [блоге, посвященном прокси приложения](http://blogs.technet.com/b/applicationproxyblog/).</span><span class="sxs-lookup"><span data-stu-id="b2bab-174">For the latest news and updates, check out the [Application Proxy blog](http://blogs.technet.com/b/applicationproxyblog/)</span></span>

