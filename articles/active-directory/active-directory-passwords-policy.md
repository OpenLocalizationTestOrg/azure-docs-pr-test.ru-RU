---
title: "Политика: Azure AD SSPR | Документация Майкрософт"
description: "Параметры политики самостоятельного сброса пароля в Azure AD"
services: active-directory
keywords: "Управление паролями Active Directory, управление паролями, самостоятельный сброс пароля Azure AD"
documentationcenter: 
author: MicrosoftGuyJFlo
manager: femila
ms.reviewer: sahenry
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/28/2017
ms.author: joflore
ms.custom: it-pro
ms.openlocfilehash: f03c01158bf1a95ec03454b092bbe0314c4ea6be
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="password-policies-and-restrictions-in-azure-active-directory"></a>Политики и ограничения для паролей в Azure Active Directory

В этой статье описываются политики паролей и требования к сложности, связанные с учетными записями пользователей, которые хранятся в клиенте Azure AD.

## <a name="administrator-password-policy-differences"></a>Различия политики паролей администратора

Корпорация Майкрософт применяет строгую **двухступенчатую** политику сброса паролей по умолчанию для любой роли администратора Azure (например, роли глобального администратора, администратора службы технической поддержки, администратора паролей и т. д.).

запрещающие администраторам использовать вопросы безопасности и обеспечивающие соблюдение следующих условий.

Политика, разрешающая два способа входа, требует два блока данных для аутентификации (адрес электронной почты **и** номер телефона) и применяется в следующих случаях:

* Все роли администратора в Azure
  * Администратор службы технической поддержки
  * Администратор службы поддержки
  * администратора выставления счетов; 
  * Служба поддержка партнеров уровня 1
  * Служба поддержка партнеров уровня 2
  * Администратор службы Exchange
  * Администратор службы Lync
  * Администратор учетных записей
  * Создатели каталогов
  * Глобальный или корпоративный администратор
  * Администратор службы SharePoint
  * Администратор соответствия требованиям
  * Администратор приложений
  * Администратор безопасности
  * Администратор привилегированных ролей
  * Администратор службы Intune
  * Администратор прокси-сервера приложений
  * Администратор службы CRM
  * Администратор службы Power BI
  
* 30 **дней** с момента установки пробной версии истекло;
* **при** наличии личного домена;
* Azure AD Connect выполняет синхронизацию удостоверений из вашего локального каталога.

### <a name="exceptions"></a>Исключения
Политика, разрешающая один способ входа, требует один блок данных для аутентификации (адрес электронной почты **или** номер телефона) и применяется в следующих случаях:

* первые 30 **дней** пробной версии;
* отсутствие личного домена (*.onmicrosoft.com) **и** если в Azure AD Connect не выполняется синхронизация удостоверений.


## <a name="userprincipalname-policies-that-apply-to-all-user-accounts"></a>Политики UserPrincipalName, которые применяются ко всем учетным записям пользователей

Все учетные записи пользователей, используемые для входа в Azure AD, должны иметь уникальное значение атрибута имени субъекта-пользователя (UPN), связанное с этой учетной записью. В таблице ниже описываются политики, которые применяются к локальным учетным записям пользователей из Active Directory (синхронизируются с облаком) и к учетным записям пользователей в облаке.

| Свойство | Требования UserPrincipalName |
| --- | --- |
| Допустимые символы |<ul> <li>A–Z</li> <li>a–z</li><li>0–9</li> <li> . - \_ ! \# ^ \~</li></ul> |
| Недопустимые символы |<ul> <li>Любой знак @, который не отделяет имя пользователя от домена.</li> <li>Не может содержать знак точки (.) непосредственно перед знаком @.</li></ul> |
| Ограничения длины |<ul> <li>Общая длина не должна превышать 113 знаков</li><li>64 знака до символа @</li><li>48 знаков после символа @</li></ul> |

## <a name="password-policies-that-apply-only-to-cloud-user-accounts"></a>Политики паролей, которые применяются только к учетным записям пользователей в облаке.

В следующей таблице приведены доступные параметры политики паролей, которые могут применяться к учетным записям пользователей, создаваемым и управляемым в Azure AD.

| Свойство | Требования |
| --- | --- |
| Допустимые символы |<ul><li>A–Z</li><li>a–z</li><li>0–9</li> <li>@ # $ % ^ & * - _ ! + = [ ] { } &#124; \ : ‘ , . ? / ` ~ “ ( ) ;</li></ul> |
| Недопустимые символы |<ul><li>Символы Юникода</li><li>Пробелы</li><li> **Только надежные пароли**: не могут содержать знак точки (.) непосредственно перед символом @.</li></ul> |
| Ограничения для пароля |<ul><li>Минимум 8 символов, максимум 16 символов</li><li>**Только надежные пароли:** необходимо выполнить 3 из 4 следующих условий.<ul><li>Строчные буквы</li><li>Прописные буквы</li><li>Числа (0–9)</li><li>Символы (см. ограничения для пароля выше)</li></ul></li></ul> |
| Длительность срока действия пароля |<ul><li>Значение по умолчанию: **90** дней </li><li>Значение можно изменить с помощью командлета Set-MsolPasswordPolicy из модуля Azure Active Directory для Windows PowerShell</li></ul> |
| Уведомление об окончании срока действия пароля |<ul><li>Значение по умолчанию: **14** дней (до истечения срока действия пароля)</li><li>Значение можно настроить с помощью командлета Set-MsolPasswordPolicy</li></ul> |
| Окончание срока действия пароля |<ul><li>Значение по умолчанию: **false** дней (означает, что включен срок действия пароля) </li><li>Значение можно настроить для каждой учетной записи пользователя с помощью командлета Set-MsolUser. </li></ul> |
| Журнал **изменения** пароля |Последний пароль **невозможно** использовать повторно при **изменении** пароля. |
| Журнал **сброса** пароля | Последний пароль **можно** использовать повторно при **сбросе** забытого пароля. |
| Блокировка учетной записи |После 10 неудачных попыток входа (с неверным паролем) пользователь будет заблокирован на одну минуту. Последующие неудачные попытки входа приведут к блокировке пользователя на более длительное время. |

## <a name="set-password-expiration-policies-in-azure-active-directory"></a>Установка политик срока действия пароля в Azure Active Directory

Глобальный администратор облачной службы Майкрософт может использовать модуль Azure Active Directory для Windows PowerShell, чтобы настроить неограниченный срок действия паролей пользователей. Можно также использовать командлеты Windows PowerShell, чтобы удалить бессрочную конфигурацию или просмотреть, какие пользовательские пароли имеют неограниченный срок действия. Эта справка касается других поставщиков. Таких как Microsoft Intune и Office 365, которые используют Microsoft Azure Active Directory для служб идентификации и каталогов.

> [!NOTE]
> Неограниченный срок действия можно настроить только для паролей учетных записей пользователей, которые не синхронизируются в процессе синхронизации каталогов. Дополнительные сведения о синхронизации каталогов см. в статье [Приступая к работе с Azure AD Connect с использованием стандартных параметров](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect).
>
>

## <a name="set-or-check-password-policies-using-powershell"></a>Задание и проверка политик пароля с помощью PowerShell

Чтобы начать работу, необходимо [скачать и установить модуль Azure AD PowerShell](https://docs.microsoft.com/powershell/module/Azuread/?view=azureadps-2.0). После его установки вы можете выполнить следующие процедуры по настройке каждого поля.

### <a name="how-to-check-expiration-policy-for-a-password"></a>Как проверить политику срока действия пароля
1. Подключитесь к Windows PowerShell с помощью учетных данных администратора.
2. Выполните следующие команды:

   * Чтобы увидеть, задан ли для одного пользователя бессрочный пароль, выполните следующий командлет, используя имя участника-пользователя (UPN) (например, aprilr@contoso.onmicrosoft.com) или идентификатор проверяемого пользователя: `Get-MSOLUser -UserPrincipalName <user ID> | Select PasswordNeverExpires`
   * Чтобы просмотреть параметр «Пароль не имеет окончания срока действия» для всех пользователей, выполните следующий командлет: `Get-MSOLUser | Select UserPrincipalName, PasswordNeverExpires`

### <a name="set-a-password-to-expire"></a>Задание срока действия пароля

1. Подключитесь к Windows PowerShell с помощью учетных данных администратора.
2. Выполните следующие команды:

   * Чтобы установить пароль одного пользователя со сроком действия, выполните следующий командлет, используя имя участника-пользователя (UPN) или идентификатор пользователя: `Set-MsolUser -UserPrincipalName <user ID> -PasswordNeverExpires $false`
   * Чтобы задать срок действия паролей всех пользователей в организации, используйте следующий командлет: `Get-MSOLUser | Set-MsolUser -PasswordNeverExpires $false`

### <a name="set-a-password-to-never-expire"></a>Установка бессрочного пароля

1. Подключитесь к Windows PowerShell с помощью учетных данных администратора.
2. Выполните следующие команды:

   * Чтобы установить бессрочный пароль для одного пользователя, выполните следующий командлет, используя имя участника-пользователя (UPN) или идентификатор пользователя: `Set-MsolUser -UserPrincipalName <user ID> -PasswordNeverExpires $true`
   * Чтобы установить бессрочные пароли для всех пользователей в организации, выполните следующий командлет: `Get-MSOLUser | Set-MsolUser -PasswordNeverExpires $true`

## <a name="next-steps"></a>Дальнейшие действия

Дополнительные сведения о сбросе пароля с помощью Azure AD см. в следующих источниках:

* [**Быстрое начало работы с самостоятельным сбросом пароля в Azure AD**](active-directory-passwords-getting-started.md). Запуск и выполнение службы самостоятельного управления паролями Azure AD. 
* [**Licensing requirements for Azure AD self-service password reset**](active-directory-passwords-licensing.md) (Требования к лицензированию самостоятельного сброса пароля в Azure AD). Сведения о настройке лицензирования Azure AD.
* [**Deploy password reset without requiring end-user registration**](active-directory-passwords-data.md) (Развертывание сброса пароля без регистрации пользователя). Сведения о необходимых данных и их использовании для управления паролями.
* [**Развертывание компонентов управления паролями и обучение пользователей их использованию**](active-directory-passwords-best-practices.md). Рекомендации по планированию и развертыванию SSPR для пользователей.
* [**Настройка компонентов управления паролями в соответствии с требованиями организации**](active-directory-passwords-customize.md). Сведения о настройке интерфейса и параметров использования SSPR для организации.
* [**Параметры отчетов для управления паролями Azure AD**](active-directory-passwords-reporting.md). Определяйте, кто и когда использовал функцию SSPR.
* [**Как работает управление паролями в Azure Active Directory**](active-directory-passwords-how-it-works.md). Сведения о принципе работы управления паролями.
* [**Вопросы и ответы об управлении паролями**](active-directory-passwords-faq.md). Как? Почему? Что? Где? Кто? Когда? Здесь приведены ответы на интересующие вас вопросы.
* [**Устранение неполадок, связанных с управлением паролями**](active-directory-passwords-troubleshoot.md). Сведения об устранении распространенных проблем с SSPR.
