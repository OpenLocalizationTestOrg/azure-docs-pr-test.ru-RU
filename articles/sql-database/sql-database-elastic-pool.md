---
title: "aaaWhat являются пулов эластичных? Управление несколькими базами данных SQL с помощью Azure | Документация Майкрософт"
description: "Управление несколькими базами данных SQL (сотнями и тысячами) и их масштабирование с помощью эластичных пулов. Фиксированная цена за ресурсы, которые можно распределить туда, где они нужны."
keywords: "несколько баз данных, ресурсы базы данных, производительность базы данных"
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: b46e7fdc-2238-4b3b-a944-8ab36c5bdb8e
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: NA
ms.date: 07/31/2017
ms.author: carlrab
ms.workload: data-management
ms.topic: article
ms.tgt_pltfrm: NA
ms.openlocfilehash: 2098d7817ebe1277b5c131421f23c00803ec78f8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="elastic-pools-help-you-manage-and-scale-multiple-sql-databases"></a>Эластичные пулы помогают управлять несколькими базами данных SQL и масштабировать их

Эластичные пулы баз данных SQL — это простое и экономичное решение для администрирования и масштабирования нескольких баз данных с отличными и непредсказуемыми требованиями к ресурсам. Hello базы данных в пуле эластичных на одном сервере баз данных SQL Azure и совместно использовать ряд набор ресурсов ([единицы транзакций эластичных баз данных](sql-database-what-is-a-dtu.md) (Edtu)) по цене набора. Эластичные пулы в базе данных SQL Azure обеспечивают SaaS разработчики toooptimize hello цена производительности для группы баз данных в рамках своих бюджета выпуская эластичности производительности для каждой базы данных.   

> [!NOTE]
> Пулы эластичных БД общедоступны во всех регионах Azure, кроме западной Индии, где сейчас доступна только предварительная версия.  Общедоступные пулы эластичных БД появятся в этом регионе в самое ближайшее время.
>

## <a name="what-are-sql-elastic-pools"></a>Что такое эластичные пулы SQL? 

Разработчики SaaS создают приложения на основе уровней данных большого размера, состоящих из нескольких баз данных. Общий шаблон приложения — tooprovision одной базы данных для каждого клиента. Но различных клиентов часто имеют различные и неожиданных закономерностей, а это сложно toopredict hello требования к ресурсам каждая отдельная база данных пользователя. Обычно имеется два варианта: 

- избыточная подготовка ресурсов в соответствии с пиковой нагрузкой и переплата или
- Недостаточное подготовки toosave стоимость за счет hello объекта производительности и удовлетворенность клиента во время пиков. 

Эластичные пулы решить эту проблему, гарантируя, базы данных получить hello объем ресурсов, которые им необходимы, когда это необходимо. Они предоставляют простой механизм распределения ресурсов в рамках прогнозируемого бюджета. toolearn Дополнительные сведения о шаблонах разработки для приложений SaaS, с помощью эластичных пулов см [шаблоны проектирования многопользовательских приложений SaaS с базой данных SQL Azure](sql-database-design-patterns-multi-tenancy-saas-applications.md).

> [!VIDEO https://channel9.msdn.com/Blogs/Azure/Elastic-databases-helps-SaaS-developers-tame-explosive-growth/player]
>

Эластичные пулы включить hello разработчика toopurchase [единицы транзакций эластичных баз данных](sql-database-what-is-a-dtu.md) (Edtu) для пула, разделенных точками несколько баз данных tooaccommodate непредсказуемым использования отдельных баз данных. требование eDTU Hello в пуле определяется hello совокупное использование баз данных. число Hello пул доступных toohello edtu, которое управляется hello разработчика бюджета. developer Привет просто добавит toohello пула баз данных, устанавливает hello минимальное и максимальное число Edtu для hello баз данных и затем задает hello eDTU пула hello основании бюджет. Разработчик может использовать пулы tooseamlessly расти свои службы из бережливого запуска tooa зрелой организации в увеличивающийся шкалы.

В пуле hello отдельных баз данных, получают гибкость hello tooauto масштабирования в пределах набора параметров. В условиях большой нагрузки базы данных может использовать дополнительные запросу toomeet число Edtu. При небольших нагрузках базы данных используют меньше ресурсов (eDTU), а при отсутствии нагрузок не используют их вовсе. Подготовка ресурсов для всего пула hello, а не для отдельных баз данных упрощает задач управления. Кроме того, у вас есть прогнозируемого бюджета для пула hello. Дополнительные edtu, которое может быть добавлена tooan существующий пул без простоев базы данных, за исключением того, что hello баз данных может потребоваться переместить toobe tooprovide hello дополнительные вычислительные ресурсы для hello новое резервирование eDTU. Точно так же, если eDTU больше не нужны, они могут быть удалены из существующего пула в любой момент времени. Можно добавить или вычесть toohello пула баз данных. Если у базы данных прогнозируемо низкие показатели использования ресурсов, ее можно удалить.

Можно создавать и управлять эластичного пула, с помощью hello [портал Azure](sql-database-elastic-pool-manage-portal.md), [PowerShell](sql-database-elastic-pool-manage-powershell.md), [Transact-SQL](sql-database-elastic-pool-manage-tsql.md), [C#](sql-database-elastic-pool-manage-csharp.md), и hello REST API. 

## <a name="when-should-you-consider-a-sql-database-elastic-pool"></a>Когда следует использовать эластичный пул базы данных SQL?

Пулы хорошо подходят для большого числа баз данных с конкретными закономерностями использования. Для заданной базы данных эта закономерность характеризуется низким средним использованием с относительно редкими пиками использования.

Hello несколько баз данных можно добавить больше становятся накопления hello пула tooa. В зависимости от модели использования вашего приложения это экономия возможных toosee всего лишь два S3 баз данных.  

Hello следующие разделы помогают понять как tooassess, если в определенной коллекции баз данных могут использовать преимущества, в пуле. Hello примерах используются стандартные группы, но hello те же принципы применимы и tooBasic и пулы Premium.

### <a name="assessing-database-utilization-patterns"></a>Оценка закономерностей использования баз данных

Hello на этом рисунке показан пример базы данных, которая тратит много времени простоя, но также периодически резко возрастает с действием. Такая модель использования хорошо подходит для пула:

   ![отдельная база данных, подходящая для пула](./media/sql-database-elastic-pool/one-database.png)

Для hello показано 5 минутного периода, пики DB1 вверх too90 Dtu, но его общее среднее использование составляет менее 5 Dtu. S3, уровень производительности является обязательным toorun этой рабочей нагрузки в одной базе данных, но при этом остается большинство ресурсов hello неиспользуемых в периоды низкой активности.

Пул позволяет эти неиспользуемые toobe Dtu, общими для нескольких баз данных и таким образом снижает затраты по необходимости и общая Dtu hello.

Основываясь на предыдущем примере hello, предположим, что существует как DB1 дополнительные базы данных с одинаковыми шаблонами использования. В hello следующих двух рисунках, hello использование четырех баз данных и 20 баз данных, располагаются на hello же graph tooillustrate hello неперекрывающиеся характер их использования со временем:

   ![четыре базы данных с закономерностями использования, подходящими для пула](./media/sql-database-elastic-pool/four-databases.png)

  ![двадцать баз данных с закономерностями использования, подходящими для пула](./media/sql-database-elastic-pool/twenty-databases.png)

Hello совокупное использование DTU во всех базах данных 20 проиллюстрирован линией черного hello в предшествующих рисунок hello. Это показывает совокупное использование DTU hello никогда не превышает 100 Dtu, которое указывает, что 20 hello баз данных могут совместно использовать 100 число Edtu за этот период времени. Это приведет к сокращению 20 x Dtu и 13 x цена сокращения сравнивается tooplacing каждого hello баз данных в S3 уровней производительности для отдельных баз данных.

В этом примере идеально подходит для hello следующих причин:

* Существует большая разница между пиковым использованием и средним использованием для каждой базы данных.  
* Hello моменты максимального использования для каждой базы данных происходит в разные моменты времени.
* eDTU совместно используются многими базами данных.

Цена Hello пула является функцией hello Edtu пула. При 1,5 x больше hello цена единицы DTU для одной базы данных, цена единицы hello eDTU пула **Edtu пула может совместно использоваться многие базы данных и необходимых меньше общее число Edtu**. Эти различия в общий доступ к eDTU и ценах являются основой hello возможных экономии цена hello, предоставляющий пулов.  

Hello следующие правила, касающиеся toodatabase count и базы данных об использовании справки tooensure, предоставляющая пул сокращение затрат по сравнению уровни производительности toousing для отдельных баз данных.

### <a name="minimum-number-of-databases"></a>Минимальное число баз данных

Если сумма hello hello Dtu уровней производительности для отдельных баз данных более чем 1,5 x hello edtu, которое требуется для пула hello, эластичного пула становится более экономичным. Доступные размеры см. в разделе [eDTU и размеры хранилища для эластичных баз данных и пулов эластичных баз данных](sql-database-elastic-pool.md#edtu-and-storage-limits-for-elastic-pools).

***Пример***<br>
По крайней мере два S3 баз данных или баз данных по крайней мере 15 S0 необходимы 100 eDTU пула toobe эффективнее, чем при использовании уровней производительности для отдельных баз данных.

### <a name="maximum-number-of-concurrently-peaking-databases"></a>Максимальное число баз данных с одновременными пиками

Совместное использование число Edtu, не все базы данных в пуле могут одновременно использовать edtu, которое вверх toohello ограничить доступные при использовании уровней производительности для отдельных баз данных. Здравствуйте, меньшее число баз данных, которые одновременно пиковой, hello нижней hello пула eDTU может быть набор и становится более экономичным hello пула приветствия. Как правило не больше, чем 2 и 3 (или 67%) hello баз данных в пуле hello следует одновременно пиковой tootheir eDTU ограничения.

***Пример***<br>
tooreduce затраты для трех баз данных S3 200 eDTU пула, не более двух из этих баз данных одновременно пиковой в их использования. В противном случае если более двух из этих четырех баз данных S3 одновременно пиковой hello пула было бы toomore toobe размера, чем 200 edtu, которое. Если пул hello toomore измененным размером более 200 число Edtu, несколько баз данных S3 потребуется toobe добавлены toohello пула tookeep затраты меньше уровней производительности для отдельных баз данных.

Обратите внимание, что в этом примере не рассмотрите возможность использования других баз данных в пуле hello. Если все базы данных имеют некоторые использования в любой момент времени, затем меньше, чем 2 и 3 (и 67%) hello баз данных можно пиковой одновременно.

### <a name="dtu-utilization-per-database"></a>Использование единиц DTU на одну базу данных
Существенное отличие между hello пиковые и средний уровень использования базы данных указывает длительного периоды низкой загрузки и короткий период высокой загрузки. Эта закономерность использования идеально подходит для совместного использования ресурсов несколькими базами данных. Следует рассматривать помещение базы данных в пул, если ее загрузка пикового использования в 1,5 раза больше загрузки среднего использования.

***Пример***<br>
Базы данных служб S3 идеального прогноза является too100 Dtu, в среднем использующий 67 Dtu или меньше является хорошим кандидатом для совместного использования edtu, которое в пуле. Кроме того, базы данных служб S1 идеального прогноза является too20 Dtu, в среднем использующий 13 Dtu или меньше является хорошим кандидатом для пула.

## <a name="how-do-i-choose-hello-correct-pool-size"></a>Как выбрать размер правильный пула hello?

Hello оптимальный размер для пула зависит hello совокупное число Edtu и ресурсы хранения для всех баз данных в пуле hello. Это подразумевает определение hello большего из следующих hello:

* Максимальная Dtu, используемой всех баз данных в пуле hello.
* Максимальный объем хранилища байтов используемой всех баз данных в пуле hello.

Доступные размеры см. в разделе [eDTU и размеры хранилища для эластичных баз данных и пулов эластичных баз данных](#what-are-the-resource-limits-for-elastic-pools).

База данных SQL автоматически вычисляет hello использование журнала ресурсов баз данных в существующий сервер базы данных SQL и рекомендует конфигурации соответствующий пул hello в hello портал Azure. В дополнение toohello рекомендации встроенные возможности оценивает hello объем использования eDTU за пользовательскую группу баз данных на сервере hello. Это позволяет toodo анализа «что если» в интерактивном режиме Добавление пула toohello баз данных и их удаления tooget анализ использования ресурсов и изменение размеров советы перед фиксацией изменений. Инструкции см. в статье [Мониторинг пула эластичных баз данных и управление им на портале Azure](sql-database-elastic-pool-manage-portal.md).

В случаях, когда невозможно использовать средства hello следующие пошаговые может помочь оценить, является ли пул эффективнее, чем одной базы данных:

1. Оценка hello edtu, которое требуется для пула hello следующим образом:

   MAX(<*общее число баз данных* X *среднее использование DTU на базу данных*>,<br>
   <*количество баз данных с одновременными пиками* X *пиковое использование единиц DTU на базу данных*)
2. Оцените, сколько места хранения hello, необходимые для пула hello, добавив hello число байтов, необходимое для всех баз данных hello в пуле hello. Определите размер пула eDTU hello, предоставляющий этот объем хранилища. Ограничения хранилища пула по размеру пула в eDTU см. в разделе [eDTU и размеры хранилища для эластичных баз данных и пулов эластичных баз данных](sql-database-elastic-pool.md#edtu-and-storage-limits-for-elastic-pools).
3. Принимать hello большего оценок eDTU hello из шага 1 и 2 шага.
4. В разделе hello [странице цен базы данных SQL](https://azure.microsoft.com/pricing/details/sql-database/) и найти наименьшее eDTU пула hello размер, больше, чем оценка hello с шага 3.
5. Сравните цены пула hello из шага 5 toohello цены использования hello уровней производительности для отдельных баз данных.

### <a name="changing-elastic-pool-resources"></a>Изменение ресурсов эластичного пула

Можно увеличить или уменьшить hello ресурсы доступны tooan эластичного пула на основе потребностей в ресурсах.

* Изменение hello min edtu, которое каждой базы данных или максимальное число Edtu на базу данных обычно завершает более 5 минут.
* Изменение hello число Edtu на пул, зависит от hello общий объем пространства, используемого всех баз данных в пуле hello. Изменение занимает порядка 90 минут или меньше на каждые 100 ГБ. Например если hello общее пространство, занимаемое всех баз данных в пуле hello составляет 200 ГБ, то hello ожидаемого задержка для изменения hello eDTU пула на пул — 3 часа или менее.

## <a name="what-are-hello-resource-limits-for-elastic-pools"></a>Что такое hello ограничения ресурсов для эластичных пулов

Hello в следующей таблице описаны ограничения ресурсов hello эластичных пулов.  Обратите внимание, что ограничения ресурсов hello отдельных баз данных в пулах эластичных БД обычно hello так же, как одной базы данных за пределами пулы на основе Dtu и hello уровня обслуживания.  Например hello max параллельных рабочих ролей для базы данных S2 — 120 работников.  Таким образом hello max параллельных рабочих процессов для базы данных, в стандартный пул также является 120 работников Если hello max DTU на базу данных в пуле hello — 50 Dtu (что эквивалентные tooS2).

[!INCLUDE [SQL DB service tiers table for elastic pools](../../includes/sql-database-service-tiers-table-elastic-pools.md)]

Если используются все Dtu эластичного пула, каждой базы данных в пуле hello получает равное количество ресурсов tooprocess запросов.  Hello служба базы данных SQL обеспечивает распределение ресурсов между базами данных, гарантируя равно срезов времени вычислений совместного использования ресурсов. Эластичный пул ресурсов, распределение ресурсов для управления доступом — Кроме tooany объем ресурсов, в противном случае гарантируется tooeach базы данных, если hello минимальное значение DTU на базу данных имеет значение tooa ненулевое значение.

### <a name="database-properties-for-pooled-databases"></a>Свойства базы данных в составе пула

Привет, в следующей таблице описаны свойства hello для пула баз данных.

| Свойство | Описание |
|:--- |:--- |
| Максимальное количество eDTU на базу данных |Максимальное число Edtu, которое может использовать любой базы данных в пуле hello, если доступны на основе использования другими базами данных в пуле hello Hello.  Это значение не гарантирует предоставление ресурсов базе данных.  Этот параметр является глобальным параметром, который применяется tooall баз данных в пуле hello. Задайте максимальное число Edtu на базу данных пики toohandle находится достаточно высоко в использование базы данных. Определенную степень том, как ожидается, поскольку пул hello обычно предполагает горячие и холодные закономерностей для баз данных которой все базы данных не пиковые одновременно. Предположим, например, hello моменты максимального использования на базу данных 20 число Edtu и только 20% hello 100 баз данных в пуле hello пиковым hello то же время.  Если eDTU hello max каждой базы данных имеет значение edtu, которое too20, будет разумного tooovercommit hello пула по 5 раз и Edtu hello набор на too400 пула. |
| Минимальное количество eDTU на базу данных |Минимальное число edtu, которое гарантированно любой базы данных в пуле hello Hello.  Этот параметр является глобальным параметром, который применяется tooall баз данных в пуле hello. Hello min eDTU на базу данных может быть задано too0, а также является значением по умолчанию hello. Это свойство имеет значение tooanywhere между 0 и hello использованием среднее eDTU на базу данных. произведение Hello hello число баз данных в пуле hello и Edtu min hello каждой базы данных не может превышать число Edtu hello каждого пула.  Например если пул содержит 20 баз данных и edtu, которое too10 задать минимальное hello eDTU на базу данных, то hello число Edtu на пул необходимо по крайней мере 200 число Edtu. |
| Максимальный размер хранилища данных на базу данных |Hello максимальный объем хранилища для базы данных в пуле. Пул баз данных обмениваться хранилища пула хранилища базы данных является ограниченной toohello наименьшее значение из оставшихся пула и хранилищем max каждой базы данных. Max хранилища каждой базы данных ссылается toohello максимальный размер файлов данных hello и не учитывает hello пространство, используемое файлами журнала. |
|||

## <a name="using-other-sql-database-features-with-elastic-pools"></a>Использование других функций базы данных SQL с эластичными пулами

### <a name="elastic-jobs-and-elastic-pools"></a>Эластичные задания и эластичные пулы

Пул упрощает выполнение задач управления, так как позволяет выполнять сценарии в **[заданиях обработки эластичных БД](sql-database-elastic-jobs-overview.md)**. Задания обработки эластичных БД позволяют сократить объем трудоемких операций, связанных с управлением большим количеством баз данных. toobegin, в разделе [Приступая к работе с заданиями эластичной](sql-database-elastic-jobs-getting-started.md).

Дополнительные сведения о других средствах баз данных для работы с несколькими базами данных см. в статье [Развертывание с помощью Базы данных SQL Azure](sql-database-elastic-scale-introduction.md).

### <a name="business-continuity-options-for-databases-in-an-elastic-pool"></a>Возможности обеспечения непрерывности бизнес-процессов для баз данных в эластичных пулах
В составе пула баз данных обычно поддержки hello же [возможности обеспечения непрерывности бизнеса](sql-database-business-continuity.md) , которые доступны toosingle баз данных.

- **На момент времени восстановления**: точки в время восстановления использует резервные копии баз данных автоматически toorecover базы данных в определенный момент пула tooa времени. Ознакомьтесь с разделом [Восстановление до точки во времени](sql-database-recovery-using-backups.md#point-in-time-restore)

- **Географическое восстановление**: Географическое восстановление предоставляет режим восстановления по умолчанию hello при недоступности базы данных из-за инцидента в регионе hello, где размещаются базы данных hello. В разделе [восстановления вторичных tooa базы данных SQL Azure или отработки отказа](sql-database-disaster-recovery.md)

- **Активная георепликация.** Для приложений c более высокими требованиями к восстановлению по сравнению с возможностями геовосстановления настройте [активную георепликацию](sql-database-geo-replication-overview.md).

## <a name="manage-sql-database-elastic-pools-using-hello-azure-portal"></a>Управление с помощью портала Azure hello пулов эластичных баз данных SQL

### <a name="creating-a-new-sql-database-elastic-pool-using-hello-azure-portal"></a>Создание новой базы данных SQL эластичного пула, с помощью портала Azure hello

Существует два способа, можно создать пул эластичных БД в hello портал Azure. Если вы знаете hello пула установки требуется, или начинаться с рекомендацией из службы hello можно сделать ее с нуля. База данных SQL имеет интеллектуальным рекомендует при установке эластичного пула, если это более экономичное решение в зависимости от hello предыдущие данные телеметрии использования для баз данных. 

Создание из существующего эластичного пула **сервера** панель hello портала — это hello простым способом toomove существующих баз данных в эластичный пул. Можно также создать эластичного пула, выполняя поиск **гибкий пул SQL** в hello **Marketplace** или щелкнув **+ добавить** в hello **пулах эластичных БД SQL**Обзор колонку. Все возможности toospecify на новый или существующий сервер через этот пул, рабочий процесс подготовки.

> [!NOTE]
> Можно создать несколько пулов на сервере, но нельзя добавить баз данных с разных серверов в hello одного пула.
>  

Hello пула Ценовая категория определяет hello преимущества доступных toohello elastics в пул hello и hello максимальное число edtu, которое (eDTU MAX) и базы данных доступны tooeach хранилища (ГБ). Дополнительные сведения см. в статье [Уровни служб](#edtu-and-storage-limits-for-elastic-pools).

Щелкните toochange hello ценовую категорию для пула hello **Ценовая категория**, нажмите кнопку hello ценовой категории и нажмите кнопку **выберите**.

> [!IMPORTANT]
> После Выбор ценовой категории hello и фиксация изменений, нажав кнопку **ОК** на последнем шаге hello не будет возможности toochange hello ценовой категории hello пула. toochange hello ценовую категорию существующего пула эластичных БД, создать эластичного пула в нужный ценовой категории hello перенести hello баз данных toothis новый пул.
>

Здравствуйте, если вы работаете с базами данных hello достаточно данных телеметрии истории использования, **Оценка использования eDTU и ГБ** диаграммы и hello **фактический объем использования eDTU** toohelp обновление линейчатая диаграмма, конфигурации решения. Кроме того, служба hello может привести к toohelp сообщение рекомендации вы верного размера hello пула.

Hello служба базы данных SQL оценивает журнал использования и рекомендует один или несколько пулов, когда это эффективнее, чем при использовании одной базы данных. Каждая рекомендация оснащен уникальное подмножество hello сервера баз данных, которые лучше всего соответствуют hello пула.

![рекомендуемый пул](./media/sql-database-elastic-pool-create-portal/recommended-pool.png)  

Рекомендация Hello пул состоит из:

- Ценовая категория для пула hello (Basic, Standard, Premium или Premium RS)
- соответствующее количество **единиц eDTU пула** (также называемое максимальным количеством единиц eDTU для одного пула);
- Hello **eDTU MAX** и **eDTU Min** каждой базы данных
- Hello список рекомендуемых баз данных для пула hello

> [!IMPORTANT]
> Служба Hello учитывает hello последние 30 дней телеметрии при рекомендации пулов. Для toobe базы данных, считаются кандидатом для эластичного пула он должен существовать по крайней мере в течение 7 дней. Базы данных, которые уже находятся в эластичном пуле, не рассматриваются в качестве кандидатов для рекомендуемого добавления в пул.
>

Служба Hello оценивает потребностей в ресурсах и экономическую эффективность скользящего hello одной базы данных на каждом уровне службы в пулы hello же уровня. Например, все базы данных Standard на сервере оцениваются на предмет возможности их добавления в пул эластичных баз данных уровня Standard. Это означает, что служба hello не предоставить рекомендации между уровнями например стандартной базы данных в пул Premium.

После добавления базы данных toohello пула, динамически создаются рекомендации на основе истории использования hello hello баз данных, которые вы выбрали. Эти рекомендации отображаются только в hello eDTU и ГБ диаграмма использования и рекомендации заголовка вверху hello hello **настроить пул** колонку. Эти рекомендации относятся предполагаемого tooassist вам в создании эластичного пула оптимизированными для конкретных баз данных.

![Динамические рекомендации](./media/sql-database-elastic-pool-create-portal/dynamic-recommendation.png)

### <a name="manage-and-monitor-an-elastic-pool"></a>Мониторинг эластичного пула и управление им

В hello портал Azure можно наблюдать за hello эластичного пула и баз данных hello этого пула. Можно также сделать эластичного пула tooyour набор изменений и отправить все изменения в hello, же время. К таким изменениям относятся добавление или удаление баз данных, изменение параметров эластичного пула и изменение параметров базы данных.

Hello следующий рисунок показывает пример эластичного пула. Hello включает в себя:

*  Диаграммы для наблюдения за использованием ресурсов для эластичного пула hello и hello баз данных, содержащихся в пуле hello.
*  Hello **Настройка** toomake кнопку пула изменяет toohello эластичного пула.
*  Hello **создать базу данных** кнопки, которая создает базу данных и добавляет его toohello текущего пула эластичных БД.
*  Задания обработки эластичных БД, которые помогают управлять большим количеством баз данных, запуская скрипты Transact-SQL для всех баз данных в списке.

![Представление пула](./media/sql-database-elastic-pool-manage-portal/basic.png)

Вы можете перейти toosee tooa конкретного пула его использования ресурсов. По умолчанию hello пула является настроенным tooshow использования хранилища и eDTU для hello последний час. Hello диаграмма может быть настроенный tooshow различных показателей по различным временным окнам. Нажмите кнопку hello **использование ресурсов** диаграммы в **мониторинга эластичного пула** tooshow подробное представление hello заданных показателей hello указанного интервала времени.

![Мониторинг эластичного пула](./media/sql-database-elastic-pool-manage-portal/basic-2.png)

![Выноска "Метрика"](./media/sql-database-elastic-pool-manage-portal/metric.png)

### <a name="toocustomize-hello-chart-display"></a>Отображение диаграмм toocustomize hello

Другие показатели, например процент ЦП, процент операций ввода-ВЫВОДА данных и процент операций ввода-ВЫВОДА журнала, используемый можно редактировать диаграммы hello и toodisplay колонка метрики hello.

![Щелкните "Изменить".](./media/sql-database-elastic-pool-manage-portal/edit-metric.png)

На hello **изменить диаграмму** формы, можно выбрать диапазон времени (за последний час, в настоящее время или прошлая неделя), или нажмите кнопку **пользовательские** tooselect любую дату в диапазоне hello последние две недели. Можно выбрать между полоски или график и выберите toomonitor ресурсы hello.

> [!Note]
> Только диаграмма показателей с hello же единицу измерения могут быть отображены в hello в hello же время. Например если выбрать «eDTU в процентах» затем можно выбрать только других метрик процент как hello единицы измерения.
>

[Щелкните "Изменить"](./media/sql-database-elastic-pool-manage-portal/edit-chart.png)

### <a name="manage-and-monitor-databases-in-an-elastic-pool"></a>Мониторинг баз данных в эластичном пуле и управление ими

Отдельные базы данных также можно отслеживать на наличие потенциальных проблем. В разделе **Мониторинг эластичных баз данных**есть диаграмма, на которой отображаются метрики для пяти баз данных. По умолчанию hello диаграмма отображает hello 5 баз данных в пуле hello по объем использования eDTU среднее в hello последний час. 

![Мониторинг эластичного пула](./media/sql-database-elastic-pool-manage-portal/basic-3.png)

Щелкните hello **объем использования eDTU для баз данных для hello последний час** под **эластичной базы данных мониторинга**. При этом откроется **использования ресурсов базы данных** и предоставляет подробное представление об использовании hello базы данных в пуле hello. С помощью сетки hello в нижней части колонки hello hello, можно выбрать все базы данных в пуле toodisplay hello его использования в диаграмме hello (копирование баз данных too5). Можно также настроить hello метрики времени окна и отображается в диаграмме hello, щелкнув **изменение диаграммы**.

![Колонка "Использование ресурсов баз данных"](./media/sql-database-elastic-pool-manage-portal/db-utilization.png)

### <a name="toocustomize-hello-view"></a>представление toocustomize hello

Можно изменить tooselect диаграммы hello диапазон времени (за последний час или за последние 24 часа), или нажмите кнопку **пользовательские** tooselect различных ежедневно, hello за toodisplay 2 недели.

![Элемент управления "Изменение диаграммы"](./media/sql-database-elastic-pool-manage-portal/db-utilization-blade.png)

![Элемент управления "Пользовательский"](./media/sql-database-elastic-pool-manage-portal/editchart-date-time.png)

Можно также щелкнуть hello **баз данных путем сравнения** tooselect раскрывающийся список различные метрики toouse при сравнении баз данных.

![Изменение диаграммы hello](./media/sql-database-elastic-pool-manage-portal/edit-comparison-metric.png)

### <a name="tooselect-databases-toomonitor"></a>toomonitor tooselect баз данных

В списке баз данных hello в hello **использования ресурсов базы данных** колонки, можно найти конкретных баз данных путем поиска по страницам hello в списке hello или ввести в hello имя базы данных. Используйте hello флажок tooselect hello базы данных.

![Поиск toomonitor баз данных](./media/sql-database-elastic-pool-manage-portal/select-dbs.png)


### <a name="add-an-alert-tooan-elastic-pool-resource"></a>Добавление оповещений tooan эластичного пула ресурсов

Можно добавить правила tooan пула эластичных БД, отправки электронной почты предупреждения или toopeople tooURL строки конечных точек, достигнув порог загрузки, которую вы настроили hello эластичного пула.

**tooadd ресурс предупреждения tooany:**

1. Щелкните hello **использование ресурсов** tooopen hello диаграммы **метрика** колонке нажмите кнопку **добавить оповещение**и затем заполнить сведения hello в hello **добавить оповещение правило** колонке (**ресурсов** выполняется автоматическая настройка пула toobe hello, которым вы работаете).
2. Введите значение **имя** и **описание** , идентифицирующий предупреждения tooyou hello и получателей hello.
3. Выберите **метрика** нужных tooalert из списка hello.

    Диаграмма Hello динамически показано использование ресурсов для этой метрики toohelp выберите пороговое значение.

4. Выберите **Условие** (больше, меньше и т. д.) и **Пороговое значение**.
5. Выберите **период** hello метрику времени правила должны соблюдаться hello предупреждения триггеры.
6. Нажмите кнопку **ОК**.

Дополнительные сведения см. в статье [Создание оповещений для базы данных SQL Azure с помощью портала Azure](sql-database-insights-alerts-portal.md).

### <a name="move-a-database-into-an-elastic-pool"></a>Перемещение базы данных в пул эластичных БД

Вы можете добавить или удалить базы данных из существующего пула. Hello могут находиться в других пулов. Тем не менее, можно добавить только базы данных, которые находятся на hello же логическом сервере.

 ![Щелкните "Настроить пул".](./media/sql-database-elastic-pool-manage-portal/configure-pool.png)

![Нажмите кнопку Добавить toopool](./media/sql-database-elastic-pool-manage-portal/add-to-pool.png)

![Выберите tooadd баз данных](./media/sql-database-elastic-pool-manage-portal/add-databases-pool.png)

![Добавление в пул в состоянии ожидания.](./media/sql-database-elastic-pool-manage-portal/pending-additions.png)

![Щелкните Сохранить](./media/sql-database-elastic-pool-manage-portal/click-save.png)

### <a name="move-a-database-out-of-an-elastic-pool"></a>Перемещение базы данных из пула эластичных БД

![список баз данных](./media/sql-database-elastic-pool-manage-portal/select-pools-removal.png)

![список баз данных](./media/sql-database-elastic-pool-manage-portal/click-remove.png)

![Просмотр результата добавления и удаления базы данных](./media/sql-database-elastic-pool-manage-portal/pending-removal.png)

![Щелкните Сохранить](./media/sql-database-elastic-pool-manage-portal/click-save.png)

### <a name="change-performance-settings-of-an-elastic-pool"></a>Изменение параметров производительности эластичного пула

При наблюдении за использование ресурсов hello эластичного пула, вы можете заметить, что некоторые изменения требуются. Может быть hello потребности в изменении hello ограничения производительности или хранения. Возможно параметры toochange hello базы данных в пуле hello. Можно изменить настройки hello пула hello в любое время tooget hello оптимальный баланс производительности и стоимости. Дополнительные сведения см. в статье [Когда следует использовать пул эластичных баз данных?](sql-database-elastic-pool.md)

toochange hello число Edtu или хранилище ограничения в расчете на пул и Edtu на базу данных:

![Использование ресурсов пула эластичных БД](./media/sql-database-elastic-pool-manage-portal/resize-pool.png)

![Обновление эластичного пула и новые ежемесячные затраты](./media/sql-database-elastic-pool-manage-portal/pool-change-edtu.png)

## <a name="manage-sql-database-elastic-pools-using-powershell"></a>Управление эластичными пулами базы данных SQL с помощью PowerShell

toocreate и Управление пулами эластичных баз данных SQL с помощью Azure PowerShell, используйте следующие командлеты PowerShell hello. Если необходима tooinstall или обновить PowerShell, см. раздел [установите Azure PowerShell модуль](/powershell/azure/install-azurerm-ps). toocreate и управлять ими, баз данных, серверов и правил брандмауэра см [Создание и управление серверами баз данных SQL Azure и баз данных с помощью PowerShell](sql-database-servers-databases.md#manage-azure-sql-servers-databases-and-firewalls-using-powershell). 

> [!TIP]
> Образцы скриптов PowerShell, см. [Создание пулов эластичных и перемещение баз данных между пулами и вне пула, с помощью PowerShell](scripts/sql-database-move-database-between-pools-powershell.md) и [toomonitor с помощью PowerShell и масштаб пула эластичных SQL в базе данных SQL Azure](scripts/sql-database-monitor-and-scale-pool-powershell.md).
>

| Командлет | Описание |
| --- | --- |
|[New-AzureRmSqlElasticPool](/powershell/module/azurerm.sql/new-azurermsqlelasticpool)|Создает пул эластичных баз данных на логическом сервере SQL.|
|[Get-AzureRmSqlElasticPool](/powershell/module/azurerm.sql/get-azurermsqlelasticpool)|Получает пулы эластичных баз данных и значения их свойств на логическом сервере SQL.|
|[Set-AzureRmSqlElasticPool](/powershell/module/azurerm.sql/set-azurermsqlelasticpool)|Изменяет свойства пула эластичных баз данных на логическом сервере SQL.|
|[Remove-AzureRmSqlElasticPool](/powershell/module/azurerm.sql/remove-azurermsqlelasticpool)|Удаляет пул эластичных баз данных на логическом сервере SQL.|
|[Get-AzureRmSqlElasticPoolActivity](/powershell/module/azurerm.sql/get-azurermsqlelasticpoolactivity)|Возвращает состояние hello операций в пуле эластичных БД на логическом сервере SQL.|
|[New-AzureRmSqlDatabase](/powershell/module/azurerm.sql/new-azurermsqldatabase)|Создает новую базу данных в существующем пуле или отдельную базу данных. |
|[Get-AzureRmSqlDatabase](/powershell/module/azurerm.sql/get-azurermsqldatabase)|Получает одну или несколько баз данных.|
|[Set-AzureRmSqlDatabase](/powershell/module/azurerm.sql/set-azurermsqldatabase)|Определяет свойства базы данных или перемещает ее в эластичный пул, из пула либо между пулами.|
|[Remove-AzureRmSqlDatabase](/powershell/module/azurerm.sql/remove-azurermsqldatabase)|Удаляет базу данных.|

> [!TIP]
> Создание много баз данных в пуле эластичных БД может занять время после завершения с помощью портала hello или командлеты PowerShell, одновременно создать только одну базу данных. Создание tooautomate в пуле эластичных БД. в разделе [CreateOrUpdateElasticPoolAndPopulate](https://gist.github.com/billgib/d80c7687b17355d3c2ec8042323819ae).
>

## <a name="manage-sql-database-elastic-pools-using-hello-azure-cli"></a>Управление с помощью Azure CLI hello пулов эластичных баз данных SQL

toocreate и Управление пулами эластичных баз данных SQL с hello [Azure CLI](/cli/azure/overview), используйте ниже hello [базы данных SQL Azure CLI](/cli/azure/sql/db) команд. Используйте hello [оболочки облака](/azure/cloud-shell/overview) toorun hello CLI в браузере или [установить](/cli/azure/install-azure-cli) ее на macOS, Linux или Windows. 

> [!TIP]
> Azure CLI примере скриптов см. в разделе [toomove CLI использования базы данных Azure SQL в пул эластичных БД SQL](scripts/sql-database-move-database-between-pools-cli.md) и [tooscale использование Azure CLI гибкий пул SQL в базе данных SQL Azure](scripts/sql-database-scale-pool-cli.md).
>

| Командлет | Описание |
| --- | --- |
|[az sql elastic-pool create](/cli/azure/sql/elastic-pool#create)|Создает эластичный пул.|
|[az sql elastic-pool list](/cli/azure/sql/elastic-pool#list)|Возвращает список эластичных пулов на сервере.|
|[az sql elastic-pool list-dbs](/cli/azure/sql/elastic-pool#list-dbs)|Возвращает список баз данных в пуле эластичных баз данных.|
|[az sql elastic-pool list-editions](/cli/azure/sql/elastic-pool#list-editions)|Также содержит параметры доступных DTU пула, ограничений хранилища и параметры отдельных баз данных. В порядке tooreduce детализации, ограничения дополнительное хранилище и каждой базы данных параметры скрыты по умолчанию.|
|[az sql elastic-pool update](/cli/azure/sql/elastic-pool#update)|Обновляет эластичный пул.|
|[az sql elastic-pool delete](/cli/azure/sql/elastic-pool#delete)|Удаление эластичного пула hello.|

## <a name="manage-sql-database-elastic-pools-using-transact-sql"></a>Управление эластичными пулами базы данных SQL с помощью Transact-SQL

toocreate и перемещения баз данных в существующих пулах эластичных БД или tooreturn сведения о пуле эластичных баз данных SQL с помощью Transact-SQL, используйте hello, следующие команды T-SQL. Можно выполнить эти команды с помощью портала Azure hello [SQL Server Management Studio](/sql/ssms/use-sql-server-management-studio), [кода Visual Studio](https://code.visualstudio.com/docs), или любой другой программе, можно подключить tooan сервер базы данных SQL Azure и передать Transact-SQL команды. toocreate и управлять ими, баз данных, серверов и правил брандмауэра см [Создание и управление серверами баз данных SQL Azure и баз данных с помощью Transact-SQL](sql-database-servers-databases.md#manage-azure-sql-servers-databases-and-firewalls-using-transact-sql).

> [!IMPORTANT]
> С помощью Transact-SQL невозможно создать, обновить или удалить пул эластичных баз данных SQL Azure. Можно добавить или удалить из пула эластичных баз данных, и можно использовать динамические административные представления tooreturn сведения о существующих пулах эластичных БД.
>

| Команда | Описание |
| --- | --- |
|[CREATE DATABASE (база данных SQL Azure)](/sql/t-sql/statements/create-database-azure-sql-database)|Создает новую базу данных в существующем пуле или отдельную базу данных. Должен быть toohello подключенной базы данных master toocreate новую базу данных.|
| [ALTER DATABASE (база данных SQL Azure)](/sql/t-sql/statements/alter-database-azure-sql-database) |Перемещает базы данных из, в или между эластичными пулами.|
|[DROP DATABASE (Transact-SQL)](/sql/t-sql/statements/drop-database-transact-sql)|Удаляет базу данных.|
|[sys.elastic_pool_resource_stats (база данных SQL Azure)](/sql/relational-databases/system-catalog-views/sys-elastic-pool-resource-stats-azure-sql-database)|Возвращает статистику использования ресурсов для всех пулов эластичных баз данных hello в логическом сервере. Для каждого пула эластичной базы данных имеется одна строка на каждые 15 секунд окна отчета (четыре строки в минуту). Сюда входят ЦП, ввода-ВЫВОДА, журнала, использование хранилища и использования параллельных запросов или сеанса используется всеми базами данных в пуле hello.|
|[sys.database_service_objectives (база данных SQL Azure)](/sql/relational-databases/system-catalog-views/sys-database-service-objectives-azure-sql-database)|Возвращает hello выпуск (уровень службы), цель службы (ценовой категории) и имя эластичного пула, если таковые имеются, для базы данных Azure SQL или хранилище данных SQL Azure. Если вход в систему toohello базы данных master на сервере базы данных SQL Azure, возвращает сведения обо всех базах данных. Для хранилища данных SQL Azure необходимо быть toohello подключенной базы данных master.|

## <a name="manage-sql-database-elastic-pools-using-hello-rest-api"></a>Управление с помощью API-интерфейса REST hello пулов эластичных баз данных SQL

toocreate и управлять ими с помощью API-интерфейса REST hello пулов эластичных баз данных SQL см. в разделе [API REST для базы данных SQL Azure](/rest/api/sql/).

## <a name="next-steps"></a>Дальнейшие действия

* Мы рекомендуем просмотреть [видеокурс о возможностях эластичной базы данных SQL Azure на сайте Microsoft Virtual Academy](https://mva.microsoft.com/training-courses/elastic-database-capabilities-with-azure-sql-db-16554).
* toolearn Дополнительные сведения о шаблонах разработки для приложений SaaS, с помощью эластичных пулов см [шаблоны проектирования многопользовательских приложений SaaS с базой данных SQL Azure](sql-database-design-patterns-multi-tenancy-saas-applications.md).
* Учебник SaaS, с помощью эластичных пулов см. в разделе [toohello введение приложения Wingtip SaaS](sql-database-wtp-overview.md).
