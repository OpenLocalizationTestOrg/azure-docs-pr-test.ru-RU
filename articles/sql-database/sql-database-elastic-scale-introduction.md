---
title: "aaaScaling out с базой данных SQL Azure | Документы Microsoft"
description: "Программное обеспечение как услуга (SaaS) разработчики могут легко создавать эластичной, масштабируемых баз данных в hello облако с помощью этих средств"
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
editor: 
ms.assetid: d15a2e3f-5adf-41f0-95fa-4b945448e184
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: ddove
ms.openlocfilehash: 82a561e07389d8619727a540fa9424248c087eda
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="scaling-out-with-azure-sql-database"></a>Развертывание с помощью Базы данных SQL Azure
Можно легко масштабировать баз данных Azure SQL, с помощью hello **эластичной базы данных** средства. Эти средства и возможности позволяют использовать практически неограниченной hello ресурсов из баз данных **базы данных SQL Azure** toocreate решения для транзакционных рабочих нагрузок и особенно программное обеспечение как услуга (SaaS) приложения. Функции эластичной базы данных состоит из следующих hello.

* [Клиентская библиотека эластичной базы данных](sql-database-elastic-database-client-library.md): hello клиентская библиотека — это компонент, позволяет вам toocreate и обслуживать сегментированных баз данных.  См. статью [Приступая к работе с инструментами эластичных баз данных](sql-database-elastic-scale-get-started.md).
* [Инструмент разбиения и объединения эластичной базы данных](sql-database-elastic-scale-overview-split-and-merge.md) перемещает данные между сегментированными базами данных. Это полезно для перемещения данных из нескольких клиентов базы данных tooa однопользовательской базы данных (или наоборот). См. [руководство по инструменту разбиения и объединения эластичной базы данных](sql-database-elastic-scale-configure-deploy-split-and-merge.md).
* [Заданий эластичных баз данных](sql-database-elastic-jobs-overview.md) (Предварительная версия): используйте заданий toomanage большое число баз данных Azure SQL. Легко выполняйте административные операции, такие как изменения схемы, управление учетными данными, обновления ссылочных данных, сбор данных о производительности или сбор данных телеметрии клиента (заказчика) с помощью заданий.
* [Запрос эластичной базы данных](sql-database-elastic-query-overview.md) (Предварительная версия): позволяет запроса toorun Transact-SQL, которая охватывает несколько баз данных. Это позволяет средства tooreporting подключений, например Excel, PowerBI, Tableau, и т. д.
* [Эластичный транзакции](sql-database-elastic-transactions-overview.md): Эта функция позволяет toorun транзакций, которые охватывают несколько баз данных в базе данных SQL Azure. Транзакции эластичной базы данных доступны для приложений .NET с помощью ADO .NET и интегрировать hello знакомый программный интерфейс с помощью hello [классы System.Transaction](https://msdn.microsoft.com/library/system.transactions.aspx).

График Hello ниже показана архитектура, включающий hello **эластичной базы данных функции** в коллекции отношений tooa баз данных.

На этом графике схемы представляют цвета hello базы данных. Базы данных с hello одной общей папке цвет hello одной схеме.

1. Набор **баз данных Azure SQL** размещается в Azure с использованием архитектуры сегментирования.
2. Hello **клиентской библиотеке эластичной базы данных** задано используется toomanage сегментом.
3. Подмножество hello баз данных, помещаются в **эластичного пула**. (См. статью [Что такое пул эластичных БД Azure?](sql-database-elastic-pool.md))
4. **Задание обработки эластичных баз данных** запускает запланированные или динамические сценарии T-SQL для всех баз данных.
5. Hello **средством слияния разбиение** используется toomove данные из одного сегмента tooanother.
6. Hello **эластичной базы данных запроса** позволяет toowrite запрос, который охватывает все базы данных в набор сегментов hello.
7. **Эластичный транзакции** позволяет toorun транзакций, которые охватывают несколько баз данных. 

![Инструменты эластичных баз данных][1]

## <a name="why-use-hello-tools"></a>Зачем использовать средства hello?
Для виртуальных машин и хранилища BLOB-объектов эластичность и масштабирование облачных приложений легко реализуются путем простого добавления и удаления вычислительных единиц либо увеличения мощности. Однако для обработки данных в реляционных базах данных с отслеживанием состояния их реализация по-прежнему представляет сложности. Сложности появились в следующих сценариях.

* Увеличение и уменьшение емкости для части hello реляционной базы данных рабочей нагрузки.
* Управление хот-спотами при влиянии на конкретное подмножество данных, например особенно загруженный конечный пользователь (клиент).

В большинстве случаев подобные сценарии были устранены с инвестиции в приложение hello toosupport серверов базы данных большего масштаба. Тем не менее этот параметр будет ограничена в облаке hello, когда вся обработка происходит на стандартных серийном оборудовании. Вместо этого распределения данных и обработку через многие идентично структурой базы данных (известных как «сегментирование» шаблон горизонтального масштабирования) предоставляет альтернативные tootraditional масштабирования подходов как с точки зрения стоимости и гибкость.

## <a name="horizontal-and-vertical-scaling"></a>Горизонтальное и вертикальное масштабирование
Hello ниже рисунке hello горизонтальное и вертикальное измерение масштабирования, являющиеся hello основных способа можно масштабировать hello эластичных баз данных.

![Горизонтальное и вертикальное масштабирование][2]

Горизонтальное масштабирование относится tooadding или удаление баз данных в порядке tooadjust емкости или общую производительность. Оно также называется "расширением". Сегментирования, в котором данные секционируются по набору идентично структурированных баз данных, имеет общий способ tooimplement горизонтальное масштабирование.  

Вертикальное масштабирование ссылается tooincreasing или уменьшения уровня производительности hello отдельной базы данных — это также называется «масштабирования».

В большей части баз данных облачных приложений для масштабирования будет использоваться сочетание этих двух стратегий. Например программное обеспечение, как приложения службы могут использовать горизонтальное масштабирование tooprovision новых клиентов и масштабирование tooallow каждый конечный пользователь базы данных toogrow или сжатия ресурсов при необходимости hello рабочей нагрузкой по вертикали.

* Горизонтальное масштабирование управляется с помощью hello [клиентской библиотеке эластичной базы данных](sql-database-elastic-database-client-library.md).
* Вертикальное масштабирование выполняется с помощью Azure PowerShell командлеты toochange hello уровня служб или поместив в пуле эластичных баз данных.

## <a name="sharding"></a>Сегментирование
*Сегментирование* — toodistribute прием больших объемов идентично структурированных данных между несколькими независимыми баз данных. Она пользуется особенной популярностью среди разработчиков облачных технологий, создающих решения SaaS для пользователей или предприятий. Этим конечным пользователям часто являются tooas ссылка «клиенты». Сегментирование может потребоваться по ряду причин:  

* общий объем данных Hello является слишком большой toofit ограничениям hello одной базы данных
* пропускная способность транзакций Hello hello общей рабочей нагрузки превышает возможности hello одной базы данных
* клиентам может потребоваться физическая изоляция друг от друга, для чего требуются отдельные базы данных для каждого клиента;
* Для соответствия, производительности или геополитические причины различных разделов базы данных может потребоваться tooreside в разных географических регионах.

В других сценариях, например приема данных из распределенной устройств сегментирования может быть используется toofill набор баз данных, которые временно упорядочены. Например можно выделить отдельную базу данных tooeach дня или недели. В этом случае ключ сегментирования hello может быть целое число со знаком представляющих hello датой (присутствует во всех строках hello сегментированными таблицами) и запросы, получающие сведения для диапазона дат, которые должны быть направлены по hello приложения toohello подмножества баз данных, включающий диапазон hello в вопрос.

Сегментирование лучше всего работает при каждой транзакции в приложении может быть ограниченным tooa одно значение ключа сегментирования. Таким образом, что все транзакции будут локального tooa конкретной базы данных.

## <a name="multi-tenant-and-single-tenant"></a>Мультитенантные и с одним клиентом
Некоторые приложения используют hello простой способ создания отдельной базы данных для каждого клиента. Это hello **шаблон сегментирования одного клиента** изоляции и возможности резервного копирования и восстановления, и ресурсов, масштабирования на уровне гранулярности hello hello клиента. С одного клиента сегментирования каждой базы данных связан со значением идентификатора конкретных клиентов (или значение ключа клиента), но этот ключ не всегда обязательно присутствует в самих данных hello. Он является hello tooroute ответственность приложения каждого запроса toohello соответствующей базы данных - и hello клиентской библиотеки можно упростить этот код.

![Сравнение многопользовательских версий одного клиента][4]

Другие сценарии объединяют несколько клиентов вместе в базах данных вместо изолирования их в отдельных базах данных. Это обычное **шаблон сегментирования несколькими клиентами** - и может быть обусловлена hello факт, что приложение управляет большое число очень мало клиентов. В сегментирования несколькими клиентами hello строк в таблицах базы данных hello — это все разработан toocarry ключ, идентифицирующий ключ идентификатора или сегментирования клиента hello. Снова уровень приложения hello отвечает за маршрутизацию запроса клиента toohello соответствующей базы данных и может поддерживаться клиентской библиотекой hello эластичной базы данных. Кроме того, безопасность на уровне строк может быть используется toofilter строк, которые каждый клиент может получить доступ к - Дополнительные сведения см. в разделе [мультитенантных приложений с помощью средств эластичной базы данных и безопасности на уровне строки](sql-database-elastic-tools-multi-tenant-row-level-security.md). Распространение данных между базами данных могут быть необходимы с несколькими клиентами сегментирования шаблоном hello и обеспечивается средство разделения слияния hello эластичной базы данных. toolearn Дополнительные сведения о шаблонах разработки для приложений SaaS, с помощью эластичных пулов см [шаблоны проектирования многопользовательских приложений SaaS с базой данных SQL Azure](sql-database-design-patterns-multi-tenancy-saas-applications.md).

### <a name="move-data-from-multiple-toosingle-tenancy-databases"></a>Перемещение данных из нескольких баз данных toosingle аренды
При создании приложения SaaS, это обычно toooffer перспективных клиентов пробную версию программного обеспечения hello. В этом случае это экономически эффективная toouse базы данных нескольких клиентов для данных hello. Однако, когда потенциальный клиент становится реальным, предпочтительнее однопользовательская база данных, так как она обеспечивает лучшую производительность. Если hello клиента был создан данных во время пробного периода hello, используйте hello [средством слияния разбиение](sql-database-elastic-scale-overview-split-and-merge.md) данные hello toomove из базы данных новый одного клиента hello toohello несколькими клиентами.

## <a name="next-steps"></a>Дальнейшие действия
Пример приложения, демонстрирующий hello клиентской библиотеки, в разделе [начало работы с инструментами эластичной Datababase](sql-database-elastic-scale-get-started.md).

tooconvert существующих баз данных средства hello toouse см. в разделе [миграции существующих баз данных вне tooscale](sql-database-elastic-convert-to-use-elastic-tools.md).

особенности hello toosee hello эластичного пула, в разделе [вопросы цены и производительности для эластичного пула](sql-database-elastic-pool.md), или создайте новый пул с [эластичные пулы](sql-database-elastic-pool-manage-portal.md).  

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Anchors-->
<!--Image references-->
[1]:./media/sql-database-elastic-scale-introduction/tools.png
[2]:./media/sql-database-elastic-scale-introduction/h_versus_vert.png
[3]:./media/sql-database-elastic-scale-introduction/overview.png
[4]:./media/sql-database-elastic-scale-introduction/single_v_multi_tenant.png

