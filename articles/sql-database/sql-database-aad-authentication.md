---
title: "Проверка подлинности Active Directory aaaAzure — SQL Azure (Обзор) | Документы Microsoft"
description: "Дополнительные сведения о том, как toouse Azure Active Directory для проверки подлинности в базе данных SQL и хранилищем данных SQL"
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 08/11/2017
ms.author: rickbyh
ms.openlocfilehash: 7a63a162653b65294e11d3fa5bf39c320e742854
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="use-azure-active-directory-authentication-for-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="38a7d-103">Использование аутентификации Azure Active Directory для аутентификации с помощью базы данных SQL или хранилища данных SQL</span><span class="sxs-lookup"><span data-stu-id="38a7d-103">Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse</span></span>
<span data-ttu-id="38a7d-104">Проверка подлинности Azure Active Directory — это механизм подключения tooMicrosoft базы данных SQL Azure и [хранилище данных SQL](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) с помощью удостоверений в Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="38a7d-104">Azure Active Directory authentication is a mechanism of connecting tooMicrosoft Azure SQL Database and [SQL Data Warehouse](../sql-data-warehouse/sql-data-warehouse-overview-what-is.md) by using identities in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="38a7d-105">С помощью проверки подлинности Azure AD можно централизованно управлять hello удостоверений пользователей базы данных и другие службы Майкрософт, в одном централизованном месте.</span><span class="sxs-lookup"><span data-stu-id="38a7d-105">With Azure AD authentication, you can centrally manage hello identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="38a7d-106">Централизованное управление идентификатор представляет собой единое место toomanage пользователей базы данных и упрощает управление разрешениями.</span><span class="sxs-lookup"><span data-stu-id="38a7d-106">Central ID management provides a single place toomanage database users and simplifies permission management.</span></span> <span data-ttu-id="38a7d-107">Hello следующие преимущества:</span><span class="sxs-lookup"><span data-stu-id="38a7d-107">Benefits include hello following:</span></span>

* <span data-ttu-id="38a7d-108">Он предоставляет альтернативные tooSQL проверки подлинности сервера.</span><span class="sxs-lookup"><span data-stu-id="38a7d-108">It provides an alternative tooSQL Server authentication.</span></span>
* <span data-ttu-id="38a7d-109">Позволяет остановить hello увеличением числа пользователей на серверах базы данных.</span><span class="sxs-lookup"><span data-stu-id="38a7d-109">Helps stop hello proliferation of user identities across database servers.</span></span>
* <span data-ttu-id="38a7d-110">изменение паролей в одном расположении;</span><span class="sxs-lookup"><span data-stu-id="38a7d-110">Allows password rotation in a single place</span></span>
* <span data-ttu-id="38a7d-111">клиенты могут управлять разрешениями базы данных с помощью внешних групп (AAD);</span><span class="sxs-lookup"><span data-stu-id="38a7d-111">Customers can manage database permissions using external (AAD) groups.</span></span>
* <span data-ttu-id="38a7d-112">возможность исключить хранение паролей с помощью встроенной проверки подлинности Windows и других видов проверки подлинности, поддерживаемых Azure Active Directory;</span><span class="sxs-lookup"><span data-stu-id="38a7d-112">It can eliminate storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure Active Directory.</span></span>
* <span data-ttu-id="38a7d-113">Проверки подлинности Azure AD использует удостоверения tooauthenticate пользователей автономной базы данных на уровне базы данных hello.</span><span class="sxs-lookup"><span data-stu-id="38a7d-113">Azure AD authentication uses contained database users tooauthenticate identities at hello database level.</span></span>
* <span data-ttu-id="38a7d-114">Azure AD поддерживает проверку подлинности на основе токена для приложений, соединяющихся tooSQL базы данных.</span><span class="sxs-lookup"><span data-stu-id="38a7d-114">Azure AD supports token-based authentication for applications connecting tooSQL Database.</span></span>
* <span data-ttu-id="38a7d-115">Azure AD поддерживает проверку подлинности с использованием AD FS (федерация доменов) или собственную проверку подлинности с помощью имени пользователя и пароля для локального каталога Azure Active Directory без синхронизации домена.</span><span class="sxs-lookup"><span data-stu-id="38a7d-115">Azure AD authentication supports ADFS (domain federation) or native user/password authentication for a local Azure Active Directory without domain synchronization.</span></span>  
* <span data-ttu-id="38a7d-116">Azure AD поддерживает подключения из SQL Server Management Studio, использующие универсальную проверку подлинности Active Directory, в том числе многофакторную идентификацию (MFA).</span><span class="sxs-lookup"><span data-stu-id="38a7d-116">Azure AD supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes Multi-Factor Authentication (MFA).</span></span>  <span data-ttu-id="38a7d-117">MFA обеспечивает надежную аутентификацию с использованием ряда простых вариантов проверки посредством телефонного звонка, текстового сообщения, смарт-карты с ПИН-кодом или уведомления в мобильном приложении.</span><span class="sxs-lookup"><span data-stu-id="38a7d-117">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="38a7d-118">Дополнительные сведения см. в разделе [Поддержка SSMS в Azure AD MFA для базы данных SQL и хранилища данных SQL](sql-database-ssms-mfa-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="38a7d-118">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](sql-database-ssms-mfa-authentication.md).</span></span>  

>  [!NOTE]  
>  <span data-ttu-id="38a7d-119">Подключение tooSQL сервера, работающего на Виртуальной машине Azure не поддерживается с использованием учетной записи Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="38a7d-119">Connecting tooSQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="38a7d-120">Вместо этого используйте учетную запись домена Active Directory.</span><span class="sxs-lookup"><span data-stu-id="38a7d-120">Use a domain Active Directory account instead.</span></span>  

<span data-ttu-id="38a7d-121">действия по настройке Hello включают следующие процедуры tooconfigure hello и использование проверки подлинности Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="38a7d-121">hello configuration steps include hello following procedures tooconfigure and use Azure Active Directory authentication.</span></span>

1. <span data-ttu-id="38a7d-122">Создайте и заполните каталог Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-122">Create and populate Azure AD.</span></span>
2. <span data-ttu-id="38a7d-123">Необязательно: Связать или изменение hello active directory, который сейчас связан с подпиской Azure.</span><span class="sxs-lookup"><span data-stu-id="38a7d-123">Optional: Associate or change hello active directory that is currently associated with your Azure Subscription.</span></span>
3. <span data-ttu-id="38a7d-124">Создайте учетную запись администратора Azure Active Directory для сервера Azure SQL Server или [хранилища данных SQL Azure](https://azure.microsoft.com/services/sql-data-warehouse/).</span><span class="sxs-lookup"><span data-stu-id="38a7d-124">Create an Azure Active Directory administrator for Azure SQL server or [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
4. <span data-ttu-id="38a7d-125">Настройте клиентские компьютеры.</span><span class="sxs-lookup"><span data-stu-id="38a7d-125">Configure your client computers.</span></span>
5. <span data-ttu-id="38a7d-126">Создайте пользователей автономной базы данных в вашей базы данных сопоставлен tooAzure удостоверений AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-126">Create contained database users in your database mapped tooAzure AD identities.</span></span>
6. <span data-ttu-id="38a7d-127">Подключение tooyour базы данных с помощью удостоверений Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-127">Connect tooyour database by using Azure AD identities.</span></span>

> [!NOTE]
> <span data-ttu-id="38a7d-128">toolearn как toocreate и заполнить Azure AD и настройте с базой данных SQL Azure и хранилище данных SQL Azure AD см. в разделе [Настройка Azure AD с базой данных SQL Azure](sql-database-aad-authentication-configure.md).</span><span class="sxs-lookup"><span data-stu-id="38a7d-128">toolearn how toocreate and populate Azure AD, and then configure Azure AD with Azure SQL Database and SQL Data Warehouse, see [Configure Azure AD with Azure SQL Database](sql-database-aad-authentication-configure.md).</span></span>
>

## <a name="trust-architecture"></a><span data-ttu-id="38a7d-129">Архитектура доверия</span><span class="sxs-lookup"><span data-stu-id="38a7d-129">Trust architecture</span></span>
<span data-ttu-id="38a7d-130">Следующая общая диаграмма Hello показана архитектура решения hello использования проверки подлинности в Azure AD с базой данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="38a7d-130">hello following high-level diagram summarizes hello solution architecture of using Azure AD authentication with Azure SQL Database.</span></span> <span data-ttu-id="38a7d-131">Hello же принципы применяются tooSQL хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="38a7d-131">hello same concepts apply tooSQL Data Warehouse.</span></span> <span data-ttu-id="38a7d-132">считается toosupport собственного пользовательского пароля Azure AD только часть облака hello и базы данных SQL Azure AD и Azure.</span><span class="sxs-lookup"><span data-stu-id="38a7d-132">toosupport Azure AD native user password, only hello Cloud portion and Azure AD/Azure SQL Database is considered.</span></span> <span data-ttu-id="38a7d-133">toosupport федеративной проверки подлинности (или пароль для учетных данных Windows), при обмене данными hello с блоком служб федерации Active Directory.</span><span class="sxs-lookup"><span data-stu-id="38a7d-133">toosupport Federated authentication (or user/password for Windows credentials), hello communication with ADFS block is required.</span></span> <span data-ttu-id="38a7d-134">Hello стрелки обозначают пути обмена данными.</span><span class="sxs-lookup"><span data-stu-id="38a7d-134">hello arrows indicate communication pathways.</span></span>

![схема проверки подлинности aad][1]

<span data-ttu-id="38a7d-136">Hello следующая схема указывает федерации hello, доверия и отношения, обеспечивающие клиенту базы данных tooa tooconnect, отправляя маркер размещения.</span><span class="sxs-lookup"><span data-stu-id="38a7d-136">hello following diagram indicates hello federation, trust, and hosting relationships that allow a client tooconnect tooa database by submitting a token.</span></span> <span data-ttu-id="38a7d-137">токен Hello проходит проверку подлинности Azure AD и является доверенным для hello базы данных.</span><span class="sxs-lookup"><span data-stu-id="38a7d-137">hello token is authenticated by an Azure AD, and is trusted by hello database.</span></span> <span data-ttu-id="38a7d-138">Клиент 1 может представлять каталог Azure AD с собственными пользователями или федеративными пользователями.</span><span class="sxs-lookup"><span data-stu-id="38a7d-138">Customer 1 can represent an Azure Active Directory with native users or an Azure AD with federated users.</span></span> <span data-ttu-id="38a7d-139">Клиент 2 представляет возможное решение, включая импортированных пользователей. В этом примере пользователи импортированы из федеративной службы Azure Active Directory, при этом службы ADFS синхронизированы с Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="38a7d-139">Customer 2 represents a possible solution including imported users; in this example coming from a federated Azure Active Directory with ADFS being synchronized with Azure Active Directory.</span></span> <span data-ttu-id="38a7d-140">Очень важно, что требуется toounderstand, доступ к базе данных tooa с использованием проверки подлинности Azure AD, hello размещение подписки — связанные toohello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-140">It's important toounderstand that access tooa database using Azure AD authentication requires that hello hosting subscription is associated toohello Azure AD.</span></span> <span data-ttu-id="38a7d-141">Hello же подписка должна быть используется toocreate hello SQL Server размещения hello базы данных SQL Azure или хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="38a7d-141">hello same subscription must be used toocreate hello SQL Server hosting hello Azure SQL Database or SQL Data Warehouse.</span></span>

![отношение подписки][2]

## <a name="administrator-structure"></a><span data-ttu-id="38a7d-143">Структура администраторов</span><span class="sxs-lookup"><span data-stu-id="38a7d-143">Administrator structure</span></span>
<span data-ttu-id="38a7d-144">При использовании проверки подлинности Azure AD, существует две учетные записи администратора для сервера базы данных SQL hello. Здравствуйте исходного SQL Server администратор и администратор hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-144">When using Azure AD authentication, there are two Administrator accounts for hello SQL Database server; hello original SQL Server administrator and hello Azure AD administrator.</span></span> <span data-ttu-id="38a7d-145">Hello же принципы применяются tooSQL хранилища данных.</span><span class="sxs-lookup"><span data-stu-id="38a7d-145">hello same concepts apply tooSQL Data Warehouse.</span></span> <span data-ttu-id="38a7d-146">Только администратор hello, на основе учетной записи Azure AD можно создать hello первый пользователь базы данных Azure AD, которые содержатся в базе данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="38a7d-146">Only hello administrator based on an Azure AD account can create hello first Azure AD contained database user in a user database.</span></span> <span data-ttu-id="38a7d-147">Имя входа администратора Hello Azure AD может быть пользователя Azure AD или группе Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-147">hello Azure AD administrator login can be an Azure AD user or an Azure AD group.</span></span> <span data-ttu-id="38a7d-148">Здравствуйте, администратор имеет учетную запись группы, может использоваться каким-либо участником группы, включение нескольких администраторов Azure AD для экземпляра SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="38a7d-148">When hello administrator is a group account, it can be used by any group member, enabling multiple Azure AD administrators for hello SQL Server instance.</span></span> <span data-ttu-id="38a7d-149">С помощью учетной записи группы, как администратор улучшает управляемость, позволяя toocentrally добавлять и удалять членов группы в Azure AD, не изменяя hello пользователей или разрешений в базе данных SQL.</span><span class="sxs-lookup"><span data-stu-id="38a7d-149">Using group account as an administrator enhances manageability by allowing you toocentrally add and remove group members in Azure AD without changing hello users or permissions in SQL Database.</span></span> <span data-ttu-id="38a7d-150">За один раз можно настроить только одного администратора Azure AD (пользователя или группу).</span><span class="sxs-lookup"><span data-stu-id="38a7d-150">Only one Azure AD administrator (a user or group) can be configured at any time.</span></span>

![структура администраторов][3]

## <a name="permissions"></a><span data-ttu-id="38a7d-152">Разрешения</span><span class="sxs-lookup"><span data-stu-id="38a7d-152">Permissions</span></span>
<span data-ttu-id="38a7d-153">toocreate новых пользователей, необходимо иметь hello `ALTER ANY USER` разрешения в базе данных hello.</span><span class="sxs-lookup"><span data-stu-id="38a7d-153">toocreate new users, you must have hello `ALTER ANY USER` permission in hello database.</span></span> <span data-ttu-id="38a7d-154">Hello `ALTER ANY USER` tooany пользователя базы данных могут быть предоставлены разрешения.</span><span class="sxs-lookup"><span data-stu-id="38a7d-154">hello `ALTER ANY USER` permission can be granted tooany database user.</span></span> <span data-ttu-id="38a7d-155">Hello `ALTER ANY USER` разрешение также удерживаемые hello учетные записи администратора сервера и пользователи базы данных с hello `CONTROL ON DATABASE` или `ALTER ON DATABASE` разрешения для этой базы данных и члены hello `db_owner` роли базы данных.</span><span class="sxs-lookup"><span data-stu-id="38a7d-155">hello `ALTER ANY USER` permission is also held by hello server administrator accounts, and database users with hello `CONTROL ON DATABASE` or `ALTER ON DATABASE` permission for that database, and by members of hello `db_owner` database role.</span></span>

<span data-ttu-id="38a7d-156">toocreate пользователя автономной базы данных в базе данных SQL Azure или хранилище данных SQL, необходимо подключиться toohello базу данных, используя удостоверение Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-156">toocreate a contained database user in Azure SQL Database or SQL Data Warehouse, you must connect toohello database using an Azure AD identity.</span></span> <span data-ttu-id="38a7d-157">База данных toohello toocreate hello первого автономной базы данных пользователя, необходимо подключиться с помощью администратор Azure AD (который является владельцем базы данных hello hello).</span><span class="sxs-lookup"><span data-stu-id="38a7d-157">toocreate hello first contained database user, you must connect toohello database by using an Azure AD administrator (who is hello owner of hello database).</span></span> <span data-ttu-id="38a7d-158">См. шаги 4 и 5 ниже.</span><span class="sxs-lookup"><span data-stu-id="38a7d-158">This is demonstrated in steps 4 and 5 below.</span></span> <span data-ttu-id="38a7d-159">Проверка подлинности Azure AD можно только в том случае, если было создано Здравствуйте, администратор Azure AD для базы данных SQL Azure или хранилище данных SQL server.</span><span class="sxs-lookup"><span data-stu-id="38a7d-159">Any Azure AD authentication is only possible if hello Azure AD admin was created for Azure SQL Database or SQL Data Warehouse server.</span></span> <span data-ttu-id="38a7d-160">Если Здравствуйте, администратор Azure Active Directory был удален с сервера hello, существующих пользователей Azure Active Directory, ранее созданных в SQL Server больше не может подключиться toohello базы данных, используя свои учетные данные Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="38a7d-160">If hello Azure Active Directory admin was removed from hello server, existing Azure Active Directory users created previously inside SQL Server can no longer connect toohello database using their Azure Active Directory credentials.</span></span>

## <a name="azure-ad-features-and-limitations"></a><span data-ttu-id="38a7d-161">Функции и ограничения Azure AD</span><span class="sxs-lookup"><span data-stu-id="38a7d-161">Azure AD features and limitations</span></span>
<span data-ttu-id="38a7d-162">можно подготовить Hello следующие члены Azure AD в Azure SQL server или хранилища данных SQL:</span><span class="sxs-lookup"><span data-stu-id="38a7d-162">hello following members of Azure AD can be provisioned in Azure SQL server or SQL Data Warehouse:</span></span>

* <span data-ttu-id="38a7d-163">Собственные элементы: элемент, созданные в Azure AD в управляемый домен hello, или в домене клиента.</span><span class="sxs-lookup"><span data-stu-id="38a7d-163">Native members: A member created in Azure AD in hello managed domain or in a customer domain.</span></span> <span data-ttu-id="38a7d-164">Дополнительные сведения см. в разделе [добавить собственные tooAzure имя домена AD](../active-directory/active-directory-add-domain.md).</span><span class="sxs-lookup"><span data-stu-id="38a7d-164">For more information, see [Add your own domain name tooAzure AD](../active-directory/active-directory-add-domain.md).</span></span>
* <span data-ttu-id="38a7d-165">Федеративные члены домена — члены, созданные в Azure AD с федеративным доменом.</span><span class="sxs-lookup"><span data-stu-id="38a7d-165">Federated domain members: A member created in Azure AD with a federated domain.</span></span> <span data-ttu-id="38a7d-166">Дополнительные сведения см. в статье [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/) (Microsoft Azure теперь поддерживает федерацию с Windows Server Active Directory).</span><span class="sxs-lookup"><span data-stu-id="38a7d-166">For more information, see [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/).</span></span>
* <span data-ttu-id="38a7d-167">Импортированные члены из других каталогов Azure AD, являющиеся собственными или федеративными членами домена.</span><span class="sxs-lookup"><span data-stu-id="38a7d-167">Imported members from other Azure AD's who are native or federated domain members.</span></span>
* <span data-ttu-id="38a7d-168">Группы Active Directory, созданные как группы безопасности.</span><span class="sxs-lookup"><span data-stu-id="38a7d-168">Active Directory groups created as security groups.</span></span>

<span data-ttu-id="38a7d-169">Учетные записи Майкрософт (например, outlook.com, hotmail.com, live.com) и гостевые учетные записи (например, gmail.com, yahoo.com) не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="38a7d-169">Microsoft accounts (for example outlook.com, hotmail.com, live.com) or other guest accounts (for example gmail.com, yahoo.com) are not supported.</span></span> <span data-ttu-id="38a7d-170">Если вы можете войти слишком[https://login.live.com](https://login.live.com) с помощью hello учетную запись и пароль, а затем вы используете учетную запись Майкрософт, который не поддерживается для проверки подлинности Azure AD для базы данных SQL Azure или хранилище данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="38a7d-170">If you can log in too[https://login.live.com](https://login.live.com) using hello account and password, then you are using a Microsoft account, which is not supported for Azure AD authentication for Azure SQL Database or Azure SQL Data Warehouse.</span></span>

## <a name="connecting-using-azure-ad-identities"></a><span data-ttu-id="38a7d-171">Подключение с использованием удостоверений Azure AD</span><span class="sxs-lookup"><span data-stu-id="38a7d-171">Connecting using Azure AD identities</span></span>

<span data-ttu-id="38a7d-172">Проверка подлинности Azure Active Directory поддерживает следующие методы соединения tooa базы данных с помощью удостоверений Azure AD hello:</span><span class="sxs-lookup"><span data-stu-id="38a7d-172">Azure Active Directory authentication supports hello following methods of connecting tooa database using Azure AD identities:</span></span>

* <span data-ttu-id="38a7d-173">с использованием встроенной проверки подлинности Windows;</span><span class="sxs-lookup"><span data-stu-id="38a7d-173">Using integrated Windows authentication</span></span>
* <span data-ttu-id="38a7d-174">Использование имени субъекта-пользователя и пароля Azure AD</span><span class="sxs-lookup"><span data-stu-id="38a7d-174">Using an Azure AD principal name and a password</span></span>
* <span data-ttu-id="38a7d-175">Использование маркера проверки подлинности приложения</span><span class="sxs-lookup"><span data-stu-id="38a7d-175">Using Application token authentication</span></span>

### <a name="additional-considerations"></a><span data-ttu-id="38a7d-176">Дополнительные замечания</span><span class="sxs-lookup"><span data-stu-id="38a7d-176">Additional considerations</span></span>

* <span data-ttu-id="38a7d-177">управляемость tooenhance, рекомендуется подготовить выделенный Azure AD группы с правами администратора.</span><span class="sxs-lookup"><span data-stu-id="38a7d-177">tooenhance manageability, we recommended you provision a dedicated Azure AD group as an administrator.</span></span>   
* <span data-ttu-id="38a7d-178">За один раз можно настроить только одну учетную запись администратора Azure AD (пользователя или группу) для сервера Azure SQL Server или хранилища данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="38a7d-178">Only one Azure AD administrator (a user or group) can be configured for an Azure SQL server or Azure SQL Data Warehouse at any time.</span></span>   
* <span data-ttu-id="38a7d-179">Только администратор Azure AD для SQL Server можно сначала подключиться toohello Azure SQL server или хранилище данных SQL Azure, используя учетную запись Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="38a7d-179">Only an Azure AD administrator for SQL Server can initially connect toohello Azure SQL server or Azure SQL Data Warehouse using an Azure Active Directory account.</span></span> <span data-ttu-id="38a7d-180">Здравствуйте, администратор Active Directory можно настроить последующих Azure AD пользователи базы данных.</span><span class="sxs-lookup"><span data-stu-id="38a7d-180">hello Active Directory administrator can configure subsequent Azure AD database users.</span></span>   
* <span data-ttu-id="38a7d-181">Рекомендуется установить время ожидания too30 hello соединения с.</span><span class="sxs-lookup"><span data-stu-id="38a7d-181">We recommend setting hello connection timeout too30 seconds.</span></span>   
* <span data-ttu-id="38a7d-182">Проверку подлинности Azure Active Directory поддерживают SQL Server 2016 Management Studio и SQL Server Data Tools для Visual Studio 2015 (версии 14.0.60311.1, выпущенной в апреле 2016 г., или более поздней).</span><span class="sxs-lookup"><span data-stu-id="38a7d-182">SQL Server 2016 Management Studio and SQL Server Data Tools for Visual Studio 2015 (version 14.0.60311.1April 2016 or later) support Azure Active Directory authentication.</span></span> <span data-ttu-id="38a7d-183">(Проверка подлинности azure AD поддерживается hello **поставщик данных .NET Framework для SQL Server**; по крайней мере версии .NET Framework 4.6).</span><span class="sxs-lookup"><span data-stu-id="38a7d-183">(Azure AD authentication is supported by hello **.NET Framework Data Provider for SqlServer**; at least version .NET Framework 4.6).</span></span> <span data-ttu-id="38a7d-184">Поэтому hello последние версии этих средств и приложений уровня данных (DAC и bacpac) можно использовать проверку подлинности Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-184">Therefore hello newest versions of these tools and data-tier applications (DAC and .bacpac) can use Azure AD authentication.</span></span>   
* <span data-ttu-id="38a7d-185">[ODBC версии 13.1](https://www.microsoft.com/download/details.aspx?id=53339) поддерживает проверку подлинности Azure Active Directory, однако `bcp.exe` не может подключаться с использованием проверки подлинности Azure Active Directory, так как использует устаревший поставщик ODBC.</span><span class="sxs-lookup"><span data-stu-id="38a7d-185">[ODBC version 13.1](https://www.microsoft.com/download/details.aspx?id=53339) supports Azure Active Directory authentication however `bcp.exe` cannot connect using Azure Active Directory authentication because it uses an older ODBC provider.</span></span>   
* <span data-ttu-id="38a7d-186">`sqlcmd`поддерживает проверки подлинности Azure Active Directory, начиная с версии 13.1 предоставляемые hello [центра загрузки](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="38a7d-186">`sqlcmd` supports Azure Active Directory authentication beginning with version 13.1 available from hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>   
* <span data-ttu-id="38a7d-187">SQL Server Data Tools для Visual Studio 2015 требуется по крайней мере hello апреля 2016 г. версия hello Data Tools (версия 14.0.60311.1).</span><span class="sxs-lookup"><span data-stu-id="38a7d-187">SQL Server Data Tools for Visual Studio 2015 requires at least hello April 2016 version of hello Data Tools (version 14.0.60311.1).</span></span> <span data-ttu-id="38a7d-188">Сейчас пользователи Azure AD не отображаются в обозревателе объектов SSDT.</span><span class="sxs-lookup"><span data-stu-id="38a7d-188">Currently Azure AD users are not shown in SSDT Object Explorer.</span></span> <span data-ttu-id="38a7d-189">Чтобы избежать этого, просмотра сведений о пользователях hello в [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="38a7d-189">As a workaround, view hello users in [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span>   
* <span data-ttu-id="38a7d-190">[Драйвер Microsoft JDBC 6.0 для SQL Server](https://www.microsoft.com/download/details.aspx?id=11774) поддерживает проверку подлинности Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-190">[Microsoft JDBC Driver 6.0 for SQL Server](https://www.microsoft.com/download/details.aspx?id=11774) supports Azure AD authentication.</span></span> <span data-ttu-id="38a7d-191">Кроме того, в разделе [Настройка параметров соединения hello](https://msdn.microsoft.com/library/ms378988.aspx).</span><span class="sxs-lookup"><span data-stu-id="38a7d-191">Also, see [Setting hello Connection Properties](https://msdn.microsoft.com/library/ms378988.aspx).</span></span>   
* <span data-ttu-id="38a7d-192">PolyBase не поддерживает проверку подлинности Azure AD.</span><span class="sxs-lookup"><span data-stu-id="38a7d-192">PolyBase cannot authenticate by using Azure AD authentication.</span></span>   
* <span data-ttu-id="38a7d-193">Проверки подлинности Azure AD поддерживается для базы данных SQL Azure portal hello **Импорт базы данных** и **Экспорт базы данных** колонок.</span><span class="sxs-lookup"><span data-stu-id="38a7d-193">Azure AD authentication is supported for SQL Database by hello Azure portal **Import Database** and **Export Database** blades.</span></span> <span data-ttu-id="38a7d-194">Импорт и экспорт с помощью проверки подлинности Azure AD из hello команду PowerShell также поддерживается.</span><span class="sxs-lookup"><span data-stu-id="38a7d-194">Import and export using Azure AD authentication is also supported from hello PowerShell command.</span></span>   
* <span data-ttu-id="38a7d-195">Проверка подлинности Azure AD для базы данных SQL и хранилища данных SQL поддерживается с помощью CLI.</span><span class="sxs-lookup"><span data-stu-id="38a7d-195">Azure AD authentication is supported for SQL Database and SQL Data Warehouse by use CLI.</span></span> <span data-ttu-id="38a7d-196">Сведения о настройке и управлении Azure AD см. в статьях [Настройка аутентификации Azure Active Directory и управление ею с использованием базы данных SQL или хранилища данных SQL](sql-database-aad-authentication-configure.md) и [SQL Server - az sql server](https://docs.microsoft.com/en-us/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="38a7d-196">For more information, see [Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication-configure.md) and [SQL Server - az sql server](https://docs.microsoft.com/en-us/cli/azure/sql/server).</span></span>

## <a name="next-steps"></a><span data-ttu-id="38a7d-197">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="38a7d-197">Next steps</span></span>
- <span data-ttu-id="38a7d-198">toolearn как toocreate и заполнить Azure AD и затем настроить Azure AD с базой данных SQL Azure или хранилище данных SQL Azure см. в разделе [Настройка и управление проверкой подлинности Azure Active Directory с базой данных SQL или хранилище данных SQL](sql-database-aad-authentication-configure.md).</span><span class="sxs-lookup"><span data-stu-id="38a7d-198">toolearn how toocreate and populate Azure AD, and then configure Azure AD with Azure SQL Database or Azure SQL Data Warehouse, see [Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication-configure.md).</span></span>
- <span data-ttu-id="38a7d-199">Общие сведения о доступе к базе данных SQL и управлении ею см. в статье [Контроль доступа к базе данных SQL Azure](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="38a7d-199">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="38a7d-200">Общие сведения об именах для входа, пользователях и ролях базы данных в базе данных SQL см. в статье [Предоставление доступа к базе данных и управление им](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="38a7d-200">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="38a7d-201">Дополнительные сведения о субъектах базы данных см. в [этой статье](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="38a7d-201">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="38a7d-202">Дополнительные сведения о ролях баз данных см. в статье [Роли уровня базы данных](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="38a7d-202">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="38a7d-203">Дополнительные сведения о правилах брандмауэра см. в статье [Обзор правил брандмауэра базы данных SQL Azure](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="38a7d-203">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[9]: ./media/sql-database-aad-authentication/9ad-settings.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/11connect-using-int-auth.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db.png

