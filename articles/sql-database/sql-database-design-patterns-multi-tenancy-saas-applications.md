---
title: "шаблоны aaaDesign приложения SaaS с несколькими клиентами, а база данных SQL Azure | Документы Microsoft"
description: "В этой статье обсуждаются требования hello и Общие шаблоны архитектуры данных приложений базы данных нескольких клиентов, работающих в облачной среде требуется tooconsider и hello различные компромиссы, связанными с этими шаблонами. Здесь также объясняется, как База данных SQL Azure с пулами эластичных БД и инструментами эластичных баз данных позволяет выполнить эти требования без компромиссов."
keywords: 
services: sql-database
documentationcenter: 
author: srinia
manager: jhubbard
editor: 
ms.assetid: 1dd20c6b-ddbb-40ef-ad34-609d398d008a
ms.service: sql-database
ms.custom: scale out apps
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: sqldb-design
ms.date: 02/01/2017
ms.author: srinia
ms.openlocfilehash: a4b58935b08cb78792e65a675d680de708b709fc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multi-tenant-saas-applications-and-azure-sql-database"></a><span data-ttu-id="ff24a-104">Шаблоны разработки для мультитенантных приложений SaaS и база данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="ff24a-104">Design patterns for multi-tenant SaaS applications and Azure SQL Database</span></span>
<span data-ttu-id="ff24a-105">В этой статье вы узнаете о hello требования и Общие шаблоны архитектуры данных нескольких клиентов по как услуга (SaaS) приложения базы данных, которые выполняются в облачной среде.</span><span class="sxs-lookup"><span data-stu-id="ff24a-105">In this article, you can learn about hello requirements and common data architecture patterns of multi-tenant software as a service (SaaS) database applications that run in a cloud environment.</span></span> <span data-ttu-id="ff24a-106">Здесь также описываются факторы hello требуется tooconsider и hello компромиссы шаблонов другую структуру.</span><span class="sxs-lookup"><span data-stu-id="ff24a-106">It also explains hello factors you need tooconsider and hello trade-offs of different design patterns.</span></span> <span data-ttu-id="ff24a-107">Пулы эластичных БД и инструменты эластичных баз данных в Базе данных SQL Azure помогают обеспечить соответствие конкретным требованиям без ущерба для других целей.</span><span class="sxs-lookup"><span data-stu-id="ff24a-107">Elastic pools and elastic tools in Azure SQL Database can help you meet your specific requirements without compromising other objectives.</span></span>

<span data-ttu-id="ff24a-108">Иногда разработчики делают варианты, которые работают с долгосрочной интересам при разработке модели аренды для hello уровни данных из приложения с несколькими клиентами.</span><span class="sxs-lookup"><span data-stu-id="ff24a-108">Developers sometimes make choices that work against their long-term best interests when they design tenancy models for hello data tiers of multi-tenant applications.</span></span> <span data-ttu-id="ff24a-109">Изначально по крайней мере, разработчик может воспринимать удобство разработки и снизить затраты поставщика облачной службы как более важной, чем клиента изоляции или hello масштабируемости приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24a-109">Initially, at least, a developer might perceive ease of development and lower cloud service provider costs as more important than tenant isolation or hello scalability of an application.</span></span> <span data-ttu-id="ff24a-110">Этот выбор может привести toocustomer удовлетворенность проблемы и дорогостоящей коррекцию курса позже.</span><span class="sxs-lookup"><span data-stu-id="ff24a-110">This choice can lead toocustomer satisfaction concerns and a costly course-correction later.</span></span>

<span data-ttu-id="ff24a-111">Многопользовательское приложение — это приложение, размещенных в облачной среде и предоставляющий hello же набор служб toohundreds или тысяч клиентов, которые не используют и не отображаются данные друг друга.</span><span class="sxs-lookup"><span data-stu-id="ff24a-111">A multi-tenant application is an application hosted in a cloud environment and that provides hello same set of services toohundreds or thousands of tenants who do not share or see each other’s data.</span></span> <span data-ttu-id="ff24a-112">Примером является приложение SaaS, которое обеспечивает tootenants службы в среде, размещаемых в облаке.</span><span class="sxs-lookup"><span data-stu-id="ff24a-112">An example is an SaaS application that provides services tootenants in a cloud-hosted environment.</span></span>

## <a name="multi-tenant-applications"></a><span data-ttu-id="ff24a-113">Мультитенантные приложения</span><span class="sxs-lookup"><span data-stu-id="ff24a-113">Multi-tenant applications</span></span>
<span data-ttu-id="ff24a-114">В мультитенантных приложениях данные и рабочую нагрузку можно легко секционировать.</span><span class="sxs-lookup"><span data-stu-id="ff24a-114">In multi-tenant applications, data and workload can be easily partitioned.</span></span> <span data-ttu-id="ff24a-115">Можно разделить данных и рабочей нагрузки, например, по границам клиента, так как большинство запросов выполняются в ограничивающее hello клиента.</span><span class="sxs-lookup"><span data-stu-id="ff24a-115">You can partition data and workload, for example, along tenant boundaries, because most requests occur within hello confines of a tenant.</span></span> <span data-ttu-id="ff24a-116">Это свойство является присущих hello данных и рабочей нагрузки hello и он предпочитает шаблонов приложения hello, описанных в этой статье.</span><span class="sxs-lookup"><span data-stu-id="ff24a-116">That property is inherent in hello data and hello workload, and it favors hello application patterns discussed in this article.</span></span>

<span data-ttu-id="ff24a-117">Разработчики используют этот тип приложения по всему спектру hello облачных приложений, включая:</span><span class="sxs-lookup"><span data-stu-id="ff24a-117">Developers use this type of application across hello whole spectrum of cloud-based applications, including:</span></span>

* <span data-ttu-id="ff24a-118">Облачных приложений партнеров базы данных, которые перенесен toohello как приложений SaaS</span><span class="sxs-lookup"><span data-stu-id="ff24a-118">Partner database applications that are being transitioned toohello cloud as SaaS applications</span></span>
* <span data-ttu-id="ff24a-119">SaaS приложений для облака hello из hello основание,</span><span class="sxs-lookup"><span data-stu-id="ff24a-119">SaaS applications built for hello cloud from hello ground up</span></span>
* <span data-ttu-id="ff24a-120">приложения, напрямую предоставляемые потребителям;</span><span class="sxs-lookup"><span data-stu-id="ff24a-120">Direct, customer-facing applications</span></span>
* <span data-ttu-id="ff24a-121">корпоративные приложения для сотрудников.</span><span class="sxs-lookup"><span data-stu-id="ff24a-121">Employee-facing enterprise applications</span></span>

<span data-ttu-id="ff24a-122">Приложения SaaS, которые предназначены hello облака, так и с корнями как участника базы данных приложения обычно приложения с несколькими клиентами.</span><span class="sxs-lookup"><span data-stu-id="ff24a-122">SaaS applications that are designed for hello cloud and those with roots as partner database applications typically are multi-tenant applications.</span></span> <span data-ttu-id="ff24a-123">Эти приложения SaaS доставлять приложении специализированное программное обеспечение службы tootheir клиентов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-123">These SaaS applications deliver a specialized software application as a service tootheir tenants.</span></span> <span data-ttu-id="ff24a-124">Клиентов можно получить доступ к службе приложения hello и связанные данные, хранимые как часть приложения hello полные права.</span><span class="sxs-lookup"><span data-stu-id="ff24a-124">Tenants can access hello application service and have full ownership of associated data stored as part of hello application.</span></span> <span data-ttu-id="ff24a-125">Но tootake преимуществами hello SaaS, клиенты должны отказа от контролировать свои собственные данные.</span><span class="sxs-lookup"><span data-stu-id="ff24a-125">But tootake advantage of hello benefits of SaaS, tenants must surrender some control over their own data.</span></span> <span data-ttu-id="ff24a-126">Они доверяют tookeep поставщика службы SaaS hello свои данные, безопасно и изолированы от данных других клиентов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-126">They trust hello SaaS service provider tookeep their data safe and isolated from other tenants’ data.</span></span> <span data-ttu-id="ff24a-127">Примерами такого мультитенантного приложения SaaS являются MYOB, SnelStart и Salesforce.com. Каждый из этих приложений могут быть секционированы по границ клиента и поддержки hello приложения шаблонов проектирования, которые мы обсудим в этой статье.</span><span class="sxs-lookup"><span data-stu-id="ff24a-127">Examples of this kind of multi-tenant SaaS application are MYOB, SnelStart, and Salesforce.com. Each of these applications can be partitioned along tenant boundaries and support hello application design patterns we discuss in this article.</span></span>

<span data-ttu-id="ff24a-128">Приложения, которые предоставляют службы напрямую toocustomers или tooemployees в пределах организации (который часто ссылается tooas пользователей, а не клиентов), другой категории на спектра многопользовательского приложения hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-128">Applications that provide a direct service toocustomers or tooemployees within an organization (often referred tooas users, rather than tenants) are another category on hello multi-tenant application spectrum.</span></span> <span data-ttu-id="ff24a-129">Пользователям подписываться toohello службы и не владеет hello данные, которые поставщик услуг hello собирает и хранит.</span><span class="sxs-lookup"><span data-stu-id="ff24a-129">Customers subscribe toohello service and do not own hello data that hello service provider collects and stores.</span></span> <span data-ttu-id="ff24a-130">У поставщиков служб есть менее строгие требования к tookeep изолированными друг от друга за пределами законодательство, касающееся конфиденциальности органами данных заказчиков.</span><span class="sxs-lookup"><span data-stu-id="ff24a-130">Service providers have less stringent requirements tookeep their customers’ data isolated from each other beyond government-mandated privacy regulations.</span></span> <span data-ttu-id="ff24a-131">Примерами такого мультитенантного приложения для клиентов выступают поставщики мультимедийного содержимого, например Netflix, Spotify и Xbox LIVE.</span><span class="sxs-lookup"><span data-stu-id="ff24a-131">Examples of this kind of customer-facing multi-tenant application are media content providers like Netflix, Spotify, and Xbox LIVE.</span></span> <span data-ttu-id="ff24a-132">К другим примерам приложений с простым секционированием можно отнести веб-приложения для клиентов или приложения "Интернета вещей", где каждый клиент или каждое устройство может служить в качестве секции.</span><span class="sxs-lookup"><span data-stu-id="ff24a-132">Other examples of easily partitionable applications are customer-facing, Internet-scale applications, or Internet of Things (IoT) applications in which each customer or device can serve as a partition.</span></span> <span data-ttu-id="ff24a-133">При этом границы секций могут отделять разных пользователей или устройства.</span><span class="sxs-lookup"><span data-stu-id="ff24a-133">Partition boundaries can separate users and devices.</span></span>

<span data-ttu-id="ff24a-134">Не все приложения можно легко секционировать по одному свойству, например клиент, потребитель, пользователь или устройство.</span><span class="sxs-lookup"><span data-stu-id="ff24a-134">Not all applications partition easily along a single property such as tenant, customer, user, or device.</span></span> <span data-ttu-id="ff24a-135">В сложном приложении планирования ресурсов, например, содержатся продукты, заказы и клиенты.</span><span class="sxs-lookup"><span data-stu-id="ff24a-135">A complex enterprise resource planning (ERP) application, for example, has products, orders, and customers.</span></span> <span data-ttu-id="ff24a-136">Как правило, у них сложная схема с тысячами тесно взаимосвязанных таблиц.</span><span class="sxs-lookup"><span data-stu-id="ff24a-136">It usually has a complex schema with thousands of highly interconnected tables.</span></span>

<span data-ttu-id="ff24a-137">Стратегия не одну секцию можно применять tooall таблиц и работайте с рабочей нагрузки приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24a-137">No single partition strategy can apply tooall tables and work across an application's workload.</span></span> <span data-ttu-id="ff24a-138">В этой статье рассматриваются мультитенантные приложения, данные и рабочие нагрузки которых легко секционировать.</span><span class="sxs-lookup"><span data-stu-id="ff24a-138">This article focuses on multi-tenant applications that have easily partitionable data and workloads.</span></span>

## <a name="multi-tenant-application-design-trade-offs"></a><span data-ttu-id="ff24a-139">Компромиссы при разработке мультитенантного приложения</span><span class="sxs-lookup"><span data-stu-id="ff24a-139">Multi-tenant application design trade-offs</span></span>
<span data-ttu-id="ff24a-140">шаблон разработки Hello, разработчик многопользовательского приложения обычно выбирает основан на рассмотрение hello следующие факторы:</span><span class="sxs-lookup"><span data-stu-id="ff24a-140">hello design pattern that a multi-tenant application developer chooses typically is based on a consideration of hello following factors:</span></span>

* <span data-ttu-id="ff24a-141">**Изоляция клиентов**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-141">**Tenant isolation**.</span></span> <span data-ttu-id="ff24a-142">Hello разработчику нужен tooensure, что клиента не содержит данные, клиенты tooother нежелательного доступа.</span><span class="sxs-lookup"><span data-stu-id="ff24a-142">hello developer needs tooensure that no tenant has unwanted access tooother tenants’ data.</span></span> <span data-ttu-id="ff24a-143">требование изоляции Hello расширяет tooother свойства, такие как обеспечивает защиту от шумный соседей, которой может toorestore данных клиента и реализации настроек конкретного клиента.</span><span class="sxs-lookup"><span data-stu-id="ff24a-143">hello isolation requirement extends tooother properties, such as providing protection from noisy neighbors, being able toorestore a tenant’s data, and implementing tenant-specific customizations.</span></span>
* <span data-ttu-id="ff24a-144">**Стоимость облачных ресурсов**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-144">**Cloud resource cost**.</span></span> <span data-ttu-id="ff24a-145">Стоимость конкурентное toobe необходимых приложению SaaS.</span><span class="sxs-lookup"><span data-stu-id="ff24a-145">An SaaS application needs toobe cost-competitive.</span></span> <span data-ttu-id="ff24a-146">Многопользовательского приложения разработчик может выберите toooptimize более низкую стоимость hello при использовании облачных ресурсов, таких как хранилище и вычислительные затраты.</span><span class="sxs-lookup"><span data-stu-id="ff24a-146">A multi-tenant application developer might choose toooptimize for lower cost in hello use of cloud resources, such as storage and compute costs.</span></span>
* <span data-ttu-id="ff24a-147">**Простота разработки и выполнения операций**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-147">**Ease of DevOps**.</span></span> <span data-ttu-id="ff24a-148">Многопользовательского приложения разработчику tooincorporate изоляции защиты, обслуживать и для отслеживания работоспособности hello их приложения и схемы базы данных и устранение неполадок клиента.</span><span class="sxs-lookup"><span data-stu-id="ff24a-148">A multi-tenant application developer needs tooincorporate isolation protection, maintain, and monitor hello health of their application and database schema, and troubleshoot tenant issues.</span></span> <span data-ttu-id="ff24a-149">Сложности в разработке приложений и операции непосредственно преобразует tooincreased затрат и решить проблемы с удовлетворенность клиента.</span><span class="sxs-lookup"><span data-stu-id="ff24a-149">Complexity in application development and operation translates directly tooincreased cost and challenges with tenant satisfaction.</span></span>
* <span data-ttu-id="ff24a-150">**Масштабируемость**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-150">**Scalability**.</span></span> <span data-ttu-id="ff24a-151">Hello tooincrementally возможность добавить дополнительные клиенты и емкости для клиентов, которым требуется это императивного tooa Успешная операция SaaS.</span><span class="sxs-lookup"><span data-stu-id="ff24a-151">hello ability tooincrementally add more tenants and capacity for tenants who require it is imperative tooa successful SaaS operation.</span></span>

<span data-ttu-id="ff24a-152">Каждый из этих факторов имеет tooanother преимущества и недостатки по сравнению.</span><span class="sxs-lookup"><span data-stu-id="ff24a-152">Each of these factors has trade-offs compared tooanother.</span></span> <span data-ttu-id="ff24a-153">облако наименьшую стоимость Hello предложения не могут предложить hello наиболее удобным процесс разработки.</span><span class="sxs-lookup"><span data-stu-id="ff24a-153">hello lowest-cost cloud offering might not offer hello most convenient development experience.</span></span> <span data-ttu-id="ff24a-154">Очень важно для разработчика toomake проинформировать вариантов об этих параметрах и их преимущества и недостатки во время разработки приложения hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-154">It’s important for a developer toomake informed choices about these options and their trade-offs during hello application design process.</span></span>

<span data-ttu-id="ff24a-155">Шаблон разработки популярных является toopack нескольких клиентов в одну или несколько баз данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-155">A popular development pattern is toopack multiple tenants into one or a few databases.</span></span> <span data-ttu-id="ff24a-156">Hello преимущества этого подхода являются более низких затратах, поскольку вы платите за несколько баз данных и hello относительной простоты работы с ограниченным числом баз данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-156">hello benefits of this approach are a lower cost because you pay for a few databases, and hello relative simplicity of working with a limited number of databases.</span></span> <span data-ttu-id="ff24a-157">Но со временем разработчик мультитенантного приложения SaaS увидит, что у этого варианта есть существенные недостатки, касающиеся изоляции и масштабируемости клиентов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-157">But over time, a SaaS multi-tenant application developer will realize that this choice has substantial downsides in tenant isolation and scalability.</span></span> <span data-ttu-id="ff24a-158">Если изоляции клиентов становится важным, дополнительных усилий данные требуется tooprotect клиента в общем хранилище от несанкционированного доступа или шумный соседей.</span><span class="sxs-lookup"><span data-stu-id="ff24a-158">If tenant isolation becomes important, additional effort is required tooprotect tenant data in shared storage from unauthorized access or noisy neighbors.</span></span> <span data-ttu-id="ff24a-159">Из-за этих дополнительных усилий процесс разработки может значительно усложниться, а затраты на поддержку изоляции — повыситься.</span><span class="sxs-lookup"><span data-stu-id="ff24a-159">This additional effort might significantly boost development efforts and isolation maintenance costs.</span></span> <span data-ttu-id="ff24a-160">Аналогичным образом Если требуется добавление клиентов, этот шаблон проектирования обычно требует данных клиента tooredistribute опыт на уровне базы данных tooproperly шкалы hello данных приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24a-160">Similarly, if adding tenants is required, this design pattern typically requires expertise tooredistribute tenant data across databases tooproperly scale hello data tier of an application.</span></span>  

<span data-ttu-id="ff24a-161">Часто изоляции клиентов является главным требованием в мультитенантных приложений SaaS, обслуживающие toobusinesses и организаций.</span><span class="sxs-lookup"><span data-stu-id="ff24a-161">Tenant isolation often is a fundamental requirement in SaaS multi-tenant applications that cater toobusinesses and organizations.</span></span> <span data-ttu-id="ff24a-162">Разработчиков привлекают явные преимущества простоты и стоимости, и они игнорируют изоляцию клиентов и масштабируемость.</span><span class="sxs-lookup"><span data-stu-id="ff24a-162">A developer might be tempted by perceived advantages in simplicity and cost over tenant isolation and scalability.</span></span> <span data-ttu-id="ff24a-163">Этот недостаток может доказать сложный и дорогостоящий процесс при расширении hello службы, требования к изоляции клиента становятся более важные и управляемых на уровне приложения hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-163">This trade-off can prove complex and expensive as hello service grows and tenant isolation requirements become more important and managed at hello application layer.</span></span> <span data-ttu-id="ff24a-164">Тем не менее в приложения с несколькими клиентами, предоставляющие toocustomers прямым, обращенные службы, изоляции клиентов может быть более низкий приоритет, чем оптимизация для стоимости ресурсов облака.</span><span class="sxs-lookup"><span data-stu-id="ff24a-164">However, in multi-tenant applications that provide a direct, consumer-facing service toocustomers, tenant isolation might be a lower priority than optimizing for cloud resource cost.</span></span>

## <a name="multi-tenant-data-models"></a><span data-ttu-id="ff24a-165">Мультитенантные модели данных</span><span class="sxs-lookup"><span data-stu-id="ff24a-165">Multi-tenant data models</span></span>
<span data-ttu-id="ff24a-166">Общие рекомендации по разработке для размещения данных клиента можно представить в виде трех отдельных моделей, показанных на рис. 1.</span><span class="sxs-lookup"><span data-stu-id="ff24a-166">Common design practices for placing tenant data follow three distinct models, shown in Figure 1.</span></span>

![модели данных мультитенантного приложения](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-multi-tenant-data-models.png)

<span data-ttu-id="ff24a-168">Рис. 1. Общие рекомендации по разработке для моделей данных мультитенантных приложений</span><span class="sxs-lookup"><span data-stu-id="ff24a-168">Figure 1: Common design practices for multi-tenant data models</span></span>

* <span data-ttu-id="ff24a-169">**База данных для каждого клиента**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-169">**Database-per-tenant**.</span></span> <span data-ttu-id="ff24a-170">У каждого клиента есть своя база данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-170">Each tenant has its own database.</span></span> <span data-ttu-id="ff24a-171">Все данные конкретного клиента является ограниченной toohello клиента базы данных и изолировать от других клиентов и их данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-171">All tenant-specific data is confined toohello tenant’s database and isolated from other tenants and their data.</span></span>
* <span data-ttu-id="ff24a-172">**Сегментированная общая база данных**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-172">**Shared database-sharded**.</span></span> <span data-ttu-id="ff24a-173">Несколько клиентов совместно используют одну из нескольких баз данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-173">Multiple tenants share one of multiple databases.</span></span> <span data-ttu-id="ff24a-174">Набор определенных клиентов назначается tooeach базы данных с помощью стратегии секционирования, таких как хэш, диапазон или список секционирование.</span><span class="sxs-lookup"><span data-stu-id="ff24a-174">A distinct set of tenants is assigned tooeach database by using a partitioning strategy such as hash, range, or list partitioning.</span></span> <span data-ttu-id="ff24a-175">Эта стратегия распределения данных часто является ссылка tooas сегментирования.</span><span class="sxs-lookup"><span data-stu-id="ff24a-175">This data distribution strategy often is referred tooas sharding.</span></span>
* <span data-ttu-id="ff24a-176">**Отдельная общая база данных**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-176">**Shared database-single**.</span></span> <span data-ttu-id="ff24a-177">Отдельная большая база данных содержит данные для всех клиентов, которые различаются по столбцу идентификатора клиента.</span><span class="sxs-lookup"><span data-stu-id="ff24a-177">A single, sometimes large, database contains data for all tenants, which are disambiguated in a tenant ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="ff24a-178">Разработчик приложения может выбрать tooplace разных клиентов в различные схемы баз данных, а затем использовать hello схемы имя toodisambiguate hello разных клиентов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-178">An application developer might choose tooplace different tenants in different database schemas, and then use hello schema name toodisambiguate hello different tenants.</span></span> <span data-ttu-id="ff24a-179">Не рекомендуется этот подход, так как он обычно требует использования hello динамического SQL, и не может быть эффективным кэширование планов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-179">We do not recommend this approach because it usually requires hello use of dynamic SQL, and it can’t be effective in plan caching.</span></span> <span data-ttu-id="ff24a-180">В hello оставшейся части этой статьи внимание на hello общий подход таблицы для этой категории многопользовательского приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24a-180">In hello remainder of this article, we focus on hello shared table approach for this category of multi-tenant application.</span></span>
> 
> 

## <a name="popular-multi-tenant-data-models"></a><span data-ttu-id="ff24a-181">Популярные модели данных мультитенантного приложения</span><span class="sxs-lookup"><span data-stu-id="ff24a-181">Popular multi-tenant data models</span></span>
<span data-ttu-id="ff24a-182">Это важные tooevaluate hello различных типов моделей данных нескольких клиентов с точки зрения проектирования приложения hello преимущества и недостатки, которые мы определили уже.</span><span class="sxs-lookup"><span data-stu-id="ff24a-182">It’s important tooevaluate hello different types of multi-tenant data models in terms of hello application design trade-offs we’ve already identified.</span></span> <span data-ttu-id="ff24a-183">Эти факторы позволят характеризующих hello три наиболее распространенные несколькими клиентами моделями описанных ранее и их использование базы данных, как показано на рис. 2.</span><span class="sxs-lookup"><span data-stu-id="ff24a-183">These factors help characterize hello three most common multi-tenant data models described earlier and their database usage as shown in Figure 2.</span></span>

* <span data-ttu-id="ff24a-184">**Изоляция**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-184">**Isolation**.</span></span> <span data-ttu-id="ff24a-185">Hello степень изоляции между клиентами может быть мерой сколько изоляции клиентов, при этом модель данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-185">hello degree of isolation between tenants can be a measure of how much tenant isolation a data model achieves.</span></span>
* <span data-ttu-id="ff24a-186">**Стоимость облачных ресурсов**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-186">**Cloud resource cost**.</span></span> <span data-ttu-id="ff24a-187">Hello объем ресурсов, между клиентами для управления доступом можно оптимизировать стоимости ресурсов облака.</span><span class="sxs-lookup"><span data-stu-id="ff24a-187">hello amount of resource sharing between tenants can optimize cloud resource cost.</span></span> <span data-ttu-id="ff24a-188">Ресурс может определяться как hello вычислений и затраты на хранение.</span><span class="sxs-lookup"><span data-stu-id="ff24a-188">A resource can be defined as hello compute and storage cost.</span></span>
* <span data-ttu-id="ff24a-189">**Стоимость разработки и выполнения операций**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-189">**DevOps cost**.</span></span> <span data-ttu-id="ff24a-190">Hello простота разработки приложений, развертывание и управляемости снижает общую стоимость операции SaaS.</span><span class="sxs-lookup"><span data-stu-id="ff24a-190">hello ease of application development, deployment, and manageability reduces overall SaaS operation cost.</span></span>  

<span data-ttu-id="ff24a-191">На рисунке 2 оси hello Y отображает hello уровень изоляции клиентов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-191">In Figure 2, hello Y axis shows hello level of tenant isolation.</span></span> <span data-ttu-id="ff24a-192">ось Hello X отображает hello уровень общего доступа к ресурсу.</span><span class="sxs-lookup"><span data-stu-id="ff24a-192">hello X axis shows hello level of resource sharing.</span></span> <span data-ttu-id="ff24a-193">серый Hello диагональной стрелки в середине hello указывает направление hello DevOps затрат, контроля над tooincrease или уменьшаются.</span><span class="sxs-lookup"><span data-stu-id="ff24a-193">hello gray, diagonal arrow in hello middle indicates hello direction of DevOps costs, tending tooincrease or decrease.</span></span>

![Популярные шаблоны разработки мультитенантного приложения](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-popular-application-patterns.png)

<span data-ttu-id="ff24a-195">Рис. 2. Популярные мультитенантные модели данных</span><span class="sxs-lookup"><span data-stu-id="ff24a-195">Figure 2: Popular multi-tenant data models</span></span>

<span data-ttu-id="ff24a-196">Hello правый нижний квадрант, на рисунке 2 показано модели приложения, одна потенциально большого объема, общей базы данных и hello общие таблицы (или отдельный файл схемы) подход.</span><span class="sxs-lookup"><span data-stu-id="ff24a-196">hello lower-right quadrant in Figure 2 shows an application pattern that uses a potentially large, shared single database, and hello shared table (or separate schema) approach.</span></span> <span data-ttu-id="ff24a-197">Это хорошо подходит для совместного использования, поскольку все клиенты используют hello же базы данных ресурсов (ЦП, памяти, ввода вывода) в одной базе данных ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-197">It's good for resource sharing because all tenants use hello same database resources (CPU, memory, input/output) in a single database.</span></span> <span data-ttu-id="ff24a-198">Но изоляция клиентов ограничена.</span><span class="sxs-lookup"><span data-stu-id="ff24a-198">But tenant isolation is limited.</span></span> <span data-ttu-id="ff24a-199">Может потребоваться клиентам tooprotect tootake дополнительные шаги друг от друга на уровне приложения hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-199">You might need tootake additional steps tooprotect tenants from each other at hello application layer.</span></span> <span data-ttu-id="ff24a-200">Следующие дополнительные действия может значительно повысить стоимость разработки и управления ими приложения hello DevOps hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-200">These additional steps can significantly increase hello DevOps cost of developing and managing hello application.</span></span> <span data-ttu-id="ff24a-201">Масштабируемость ограничивается hello масштаб hello оборудования, на котором размещена база данных hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-201">Scalability is limited by hello scale of hello hardware that hosts hello database.</span></span>

<span data-ttu-id="ff24a-202">Hello левый нижний квадрант на рисунке 2 показано сегментированных нескольких клиентов между несколькими базами данных (как правило, различные аппаратные единицы масштабирования).</span><span class="sxs-lookup"><span data-stu-id="ff24a-202">hello lower-left quadrant in Figure 2 illustrates multiple tenants sharded across multiple databases (typically, different hardware scale units).</span></span> <span data-ttu-id="ff24a-203">Каждая база данных содержит подмножество клиентов, помогает решить проблему масштабируемость hello других шаблонов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-203">Each database hosts a subset of tenants, which addresses hello scalability concern of other patterns.</span></span> <span data-ttu-id="ff24a-204">Если требуется дополнительная емкость для нескольких клиентов, клиенты hello легко можно поместить на выделенный единиц масштабирования оборудования toonew новых баз данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-204">If more capacity is required for more tenants, you can easily place hello tenants on new databases allocated toonew hardware scale units.</span></span> <span data-ttu-id="ff24a-205">Тем не менее уменьшается объем hello общий доступ к ресурсам.</span><span class="sxs-lookup"><span data-stu-id="ff24a-205">However, hello amount of resource sharing is reduced.</span></span> <span data-ttu-id="ff24a-206">Только для клиентов обмена hello же единиц масштабирования и общего доступа к ресурсам.</span><span class="sxs-lookup"><span data-stu-id="ff24a-206">Only tenants placed on hello same scale units share resources.</span></span> <span data-ttu-id="ff24a-207">Такой подход обеспечивает немного улучшения tootenant изоляции, так как многие клиенты выровнены по-прежнему не выполняется автоматически защищены от других действий.</span><span class="sxs-lookup"><span data-stu-id="ff24a-207">This approach provides little improvement tootenant isolation because many tenants are still collocated without being automatically protected from each other’s actions.</span></span> <span data-ttu-id="ff24a-208">Сложность приложения остается высокой.</span><span class="sxs-lookup"><span data-stu-id="ff24a-208">Application complexity remains high.</span></span>

<span data-ttu-id="ff24a-209">левый верхний квадрант Hello на рисунке 2 — третий способ hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-209">hello upper-left quadrant in Figure 2 is hello third approach.</span></span> <span data-ttu-id="ff24a-210">При этом данные каждого клиента помещаются в отдельную базу данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-210">It places each tenant’s data in its own database.</span></span> <span data-ttu-id="ff24a-211">Для такого подхода характерны высокий уровень изоляции клиентов и ограничение объема общих ресурсов, так как в каждой базе данных есть собственные выделенные ресурсы.</span><span class="sxs-lookup"><span data-stu-id="ff24a-211">This approach has good tenant-isolation properties but limits resource sharing when each database has its own dedicated resources.</span></span> <span data-ttu-id="ff24a-212">Этот подход эффективен при наличии у всех клиентов прогнозируемых рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="ff24a-212">This approach is good if all tenants have predictable workloads.</span></span> <span data-ttu-id="ff24a-213">Если рабочие нагрузки клиентов становятся менее предсказуемым, поставщик hello не удается оптимизировать совместное использование ресурсов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-213">If tenant workloads become less predictable, hello provider cannot optimize resource sharing.</span></span> <span data-ttu-id="ff24a-214">А для приложений SaaS характерна непредсказуемость.</span><span class="sxs-lookup"><span data-stu-id="ff24a-214">Unpredictability is common for SaaS applications.</span></span> <span data-ttu-id="ff24a-215">либо, Hello поставщика необходимо чрезмерно подготовить toomeet требования или ресурсах более низкого.</span><span class="sxs-lookup"><span data-stu-id="ff24a-215">hello provider must either over-provision toomeet demands or lower resources.</span></span> <span data-ttu-id="ff24a-216">В обоих случаях это приведет к увеличению затрат или неудовлетворенности клиентов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-216">Either action results in either higher costs or lower tenant satisfaction.</span></span> <span data-ttu-id="ff24a-217">Более высокую степень совместного использования разных клиентах ресурсов становится более экономичное решение hello желательно toomake.</span><span class="sxs-lookup"><span data-stu-id="ff24a-217">A higher degree of resource sharing across tenants becomes desirable toomake hello solution more cost-effective.</span></span> <span data-ttu-id="ff24a-218">Возрастающее число hello баз данных также повышает toodeploy DevOps затрат и обслуживания приложения hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-218">Increasing hello number of databases also increases DevOps cost toodeploy and maintain hello application.</span></span> <span data-ttu-id="ff24a-219">Несмотря на эти вопросы этот метод обеспечивает hello лучший и самый простой изоляции для клиентов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-219">Despite these concerns, this method provides hello best and easiest isolation for tenants.</span></span>

<span data-ttu-id="ff24a-220">Эти факторы влияют также hello шаблон конструирования, который клиент выбирает:</span><span class="sxs-lookup"><span data-stu-id="ff24a-220">These factors also influence hello design pattern a customer chooses:</span></span>

* <span data-ttu-id="ff24a-221">**Владение данными клиента**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-221">**Ownership of tenant data**.</span></span> <span data-ttu-id="ff24a-222">Приложение, в котором клиенты сохраняют владения свои собственные данные, повышает вероятность hello шаблон из одной базы данных каждого клиента.</span><span class="sxs-lookup"><span data-stu-id="ff24a-222">An application in which tenants retain ownership of their own data favors hello pattern of a single database per tenant.</span></span>
* <span data-ttu-id="ff24a-223">**Масштабирование**.</span><span class="sxs-lookup"><span data-stu-id="ff24a-223">**Scale**.</span></span> <span data-ttu-id="ff24a-224">Для приложения, предназначенного для множества клиентов, лучше всего применить подход с совместным использованием базы данных, например сегментирование.</span><span class="sxs-lookup"><span data-stu-id="ff24a-224">An application that targets hundreds of thousands or millions of tenants favors database sharing approaches such as sharding.</span></span> <span data-ttu-id="ff24a-225">В этом случае по-прежнему остаются жесткие требования к изоляции.</span><span class="sxs-lookup"><span data-stu-id="ff24a-225">Isolation requirements still can pose challenges.</span></span>
* <span data-ttu-id="ff24a-226">**Стоимость и бизнес-модель.**</span><span class="sxs-lookup"><span data-stu-id="ff24a-226">**Value and business model**.</span></span> <span data-ttu-id="ff24a-227">Если доход на клиента приложения мал (менее одного доллара), то требования к изоляции отходят на второй план. В этом случае разумно использовать общую базу данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-227">If an application’s per-tenant revenue if small (less than a dollar), isolation requirements become less critical and a shared database makes sense.</span></span> <span data-ttu-id="ff24a-228">Если доход для клиента составляет несколько долларов или более, целесообразно использовать базу данных для каждого клиента.</span><span class="sxs-lookup"><span data-stu-id="ff24a-228">If per-tenant revenue is a few dollars or more, a database-per-tenant model is more feasible.</span></span> <span data-ttu-id="ff24a-229">Благодаря этому можно снизить затраты на разработку.</span><span class="sxs-lookup"><span data-stu-id="ff24a-229">It might help reduce development costs.</span></span>

<span data-ttu-id="ff24a-230">Имея hello разработки компромиссы показано на рисунке 2, идеальная модель нескольких клиентов должен tooincorporate хорошо клиента изоляции свойства оптимальной ресурсов между клиентами.</span><span class="sxs-lookup"><span data-stu-id="ff24a-230">Given hello design trade-offs shown in Figure 2, an ideal multi-tenant model needs tooincorporate good tenant isolation properties with optimal resource sharing among tenants.</span></span> <span data-ttu-id="ff24a-231">Эта модель помещается на категории hello, описанные в правый верхний квадрант hello рис. 2.</span><span class="sxs-lookup"><span data-stu-id="ff24a-231">This model fits in hello category described in hello upper-right quadrant of Figure 2.</span></span>

## <a name="multi-tenancy-support-in-azure-sql-database"></a><span data-ttu-id="ff24a-232">Поддержка мультитенантности в базе данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="ff24a-232">Multi-tenancy support in Azure SQL Database</span></span>
<span data-ttu-id="ff24a-233">База данных SQL Azure поддерживает все шаблоны мультитенантных приложений, указанных на рис. 2.</span><span class="sxs-lookup"><span data-stu-id="ff24a-233">Azure SQL Database supports all multi-tenant application patterns outlined in Figure 2.</span></span> <span data-ttu-id="ff24a-234">Эластичные пулы также поддерживает модели приложения, объединяет ценным ресурсом для управления доступом и подход преимущества изоляции hello hello базы данных каждого клиента (см. раздел hello правый верхний квадрант на рис. 3).</span><span class="sxs-lookup"><span data-stu-id="ff24a-234">With elastic pools, it also supports an application pattern that combines good resource sharing and hello isolation benefits of hello database-per-tenant approach (see hello upper-right quadrant in Figure 3).</span></span> <span data-ttu-id="ff24a-235">Эластичной базы данных средства и возможности в базе данных SQL помогают уменьшить стоимость toodevelop hello и работать приложение, которое имеет несколько баз данных (показаны в области hello затененные на рис. 3).</span><span class="sxs-lookup"><span data-stu-id="ff24a-235">Elastic database tools and capabilities in SQL Database help reduce hello cost toodevelop and operate an application that has many databases (shown in hello shaded area in Figure 3).</span></span> <span data-ttu-id="ff24a-236">Эти средства могут помочь вам построения и управления ими приложения, использующие шаблоны hello нескольких баз данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-236">These tools can help you build and manage applications that use any of hello multi-database patterns.</span></span>

![Шаблоны в Базе данных SQL Azure](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-patterns-sqldb.png)

<span data-ttu-id="ff24a-238">Рис. 3. Шаблоны мультитенантного приложения в базе данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="ff24a-238">Figure 3: Multi-tenant application patterns in Azure SQL Database</span></span>

## <a name="database-per-tenant-model-with-elastic-pools-and-tools"></a><span data-ttu-id="ff24a-239">Модель, предусматривающая использование одной базы данных для каждого клиента, с пулами и инструментами эластичных БД</span><span class="sxs-lookup"><span data-stu-id="ff24a-239">Database-per-tenant model with elastic pools and tools</span></span>
<span data-ttu-id="ff24a-240">Эластичные пулы в базе данных SQL совместить изоляции клиентов с ресурсов между клиента баз данных toobetter hello базы данных каждого клиента подход, основанный.</span><span class="sxs-lookup"><span data-stu-id="ff24a-240">Elastic pools in SQL Database combine tenant isolation with resource sharing among tenant databases toobetter support hello database-per-tenant approach.</span></span> <span data-ttu-id="ff24a-241">База данных SQL является решением уровня данных для поставщиков SaaS, которые создают мультитенантные приложения.</span><span class="sxs-lookup"><span data-stu-id="ff24a-241">SQL Database is a data tier solution for SaaS providers who build multi-tenant applications.</span></span> <span data-ttu-id="ff24a-242">необходимость Hello ресурсов между клиентами переходит hello приложения toohello базы данных службы слоя.</span><span class="sxs-lookup"><span data-stu-id="ff24a-242">hello burden of resource sharing among tenants shifts from hello application layer toohello database service layer.</span></span> <span data-ttu-id="ff24a-243">Hello сложность управления и запросов в масштабе нескольких базах данных упрощено благодаря эластичной заданий, эластичной запроса, эластичной транзакции и клиентская библиотека hello эластичной базы данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-243">hello complexity of managing and querying at scale across databases is simplified with elastic jobs, elastic query, elastic transactions, and hello elastic database client library.</span></span>

| <span data-ttu-id="ff24a-244">Требования к приложению</span><span class="sxs-lookup"><span data-stu-id="ff24a-244">Application requirements</span></span> | <span data-ttu-id="ff24a-245">Возможности Базы данных SQL</span><span class="sxs-lookup"><span data-stu-id="ff24a-245">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="ff24a-246">Изоляция клиентов и совместное использование ресурсов</span><span class="sxs-lookup"><span data-stu-id="ff24a-246">Tenant isolation and resource sharing</span></span> |<span data-ttu-id="ff24a-247">[Эластичные пулы](sql-database-elastic-pool.md): выделите пул ресурсов баз данных SQL и общий доступ к ресурсам hello в различных базах данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-247">[Elastic pools](sql-database-elastic-pool.md): Allocate a pool of SQL Database resources and share hello resources across various databases.</span></span> <span data-ttu-id="ff24a-248">Кроме того, отдельные базы данных можно нарисовать столько же ресурсов из пула hello как пикового спроса емкости необходимые tooaccommodate из-за toochanges в рабочих нагрузок клиентов.</span><span class="sxs-lookup"><span data-stu-id="ff24a-248">Also, individual databases can draw as much resources from hello pool as needed tooaccommodate capacity demand spikes due toochanges in tenant workloads.</span></span> <span data-ttu-id="ff24a-249">Hello эластичный пул может масштабироваться вверх или вниз при необходимости.</span><span class="sxs-lookup"><span data-stu-id="ff24a-249">hello elastic pool itself can be scaled up or down as needed.</span></span> <span data-ttu-id="ff24a-250">Эластичные пулы также предоставляют простота администрирования и мониторинга и устранения неполадок на уровне пула hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-250">Elastic pools also provide ease of manageability and monitoring and troubleshooting at hello pool level.</span></span> |
| <span data-ttu-id="ff24a-251">Простота разработки и выполнения операций в базах данных</span><span class="sxs-lookup"><span data-stu-id="ff24a-251">Ease of DevOps across databases</span></span> |<span data-ttu-id="ff24a-252">[Пулы эластичных БД](sql-database-elastic-pool.md) (см. выше).</span><span class="sxs-lookup"><span data-stu-id="ff24a-252">[Elastic pools](sql-database-elastic-pool.md): As noted earlier.</span></span> |
| | <span data-ttu-id="ff24a-253">[Эластичные запросы](sql-database-elastic-query-horizontal-partitioning.md)позволяют выполнять запросы к базам данных для формирования отчетов или выполнения анализа между клиентами.</span><span class="sxs-lookup"><span data-stu-id="ff24a-253">[Elastic query](sql-database-elastic-query-horizontal-partitioning.md): Query across databases for reporting or cross-tenant analysis.</span></span> |
| | <span data-ttu-id="ff24a-254">[Эластичный задания](sql-database-elastic-jobs-overview.md): пакет и надежно развертывать операций обслуживания базы данных или баз данных toomultiple изменения схемы базы данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-254">[Elastic jobs](sql-database-elastic-jobs-overview.md): Package and reliably deploy database maintenance operations or database schema changes toomultiple databases.</span></span> |
| | <span data-ttu-id="ff24a-255">[Эластичный транзакции](sql-database-elastic-transactions-overview.md): процесс изменений tooseveral баз данных в виде атомарной и изолированных приложений.</span><span class="sxs-lookup"><span data-stu-id="ff24a-255">[Elastic transactions](sql-database-elastic-transactions-overview.md): Process changes tooseveral databases in an atomic and isolated way.</span></span> <span data-ttu-id="ff24a-256">Эластичные транзакции необходимы, если приложение требует абсолютно гарантированного выполнения операций с несколькими базами данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-256">Elastic transactions are needed when applications need “all or nothing” guarantees over several database operations.</span></span> |
| | <span data-ttu-id="ff24a-257">[Клиентская библиотека эластичной базы данных](sql-database-elastic-database-client-library.md): управление распределения данных и карты клиентов toodatabases.</span><span class="sxs-lookup"><span data-stu-id="ff24a-257">[Elastic database client library](sql-database-elastic-database-client-library.md): Manage data distributions and map tenants toodatabases.</span></span> |

## <a name="shared-models"></a><span data-ttu-id="ff24a-258">Общие модели</span><span class="sxs-lookup"><span data-stu-id="ff24a-258">Shared models</span></span>
<span data-ttu-id="ff24a-259">Как описано выше, для большинства поставщиков SaaS подходы с использованием общей модели могут создавать проблемы с изоляцией клиентов, а также вызывать трудности при разработке и обслуживании приложений.</span><span class="sxs-lookup"><span data-stu-id="ff24a-259">As described earlier, for most SaaS providers, a shared model approach might pose problems with tenant isolation issues and complexities with application development and maintenance.</span></span> <span data-ttu-id="ff24a-260">Тем не менее многопользовательских приложений, предоставляющих услуги напрямую клиента tooconsumers, требования к изоляции не может быть как важные как снижают стоимость.</span><span class="sxs-lookup"><span data-stu-id="ff24a-260">However, for multi-tenant applications that provide a service directly tooconsumers, tenant isolation requirements may not be as high a priority as minimizing cost.</span></span> <span data-ttu-id="ff24a-261">Возможно, это может toopack клиентов в один или несколько баз данных с высокой плотности tooreduce затраты.</span><span class="sxs-lookup"><span data-stu-id="ff24a-261">They might be able toopack tenants in one or more databases at a high density tooreduce costs.</span></span> <span data-ttu-id="ff24a-262">Модели с общими базами данных, в которых используется одна или несколько сегментированных баз данных, повышают эффективность совместного использования ресурсов и уменьшают совокупную стоимость.</span><span class="sxs-lookup"><span data-stu-id="ff24a-262">Shared-database models using a single database or multiple sharded databases might result in additional efficiencies in resource sharing and overall cost.</span></span> <span data-ttu-id="ff24a-263">База данных SQL Azure предоставляет некоторые возможности, которые помогают клиентам построения изоляции для повышения уровня безопасности и управление в масштабе hello уровне данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-263">Azure SQL Database provides some features that help customers build isolation for improved security and management at scale in hello data tier.</span></span>

| <span data-ttu-id="ff24a-264">Требования к приложению</span><span class="sxs-lookup"><span data-stu-id="ff24a-264">Application requirements</span></span> | <span data-ttu-id="ff24a-265">Возможности Базы данных SQL</span><span class="sxs-lookup"><span data-stu-id="ff24a-265">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="ff24a-266">Возможности обеспечения защиты путем изоляции</span><span class="sxs-lookup"><span data-stu-id="ff24a-266">Security isolation features</span></span> |[<span data-ttu-id="ff24a-267">Безопасность на уровне строк</span><span class="sxs-lookup"><span data-stu-id="ff24a-267">Row-level security</span></span>](https://msdn.microsoft.com/library/dn765131.aspx) |
| [<span data-ttu-id="ff24a-268">Схема базы данных</span><span class="sxs-lookup"><span data-stu-id="ff24a-268">Database schema</span></span>](https://msdn.microsoft.com/library/dd207005.aspx) | |
| <span data-ttu-id="ff24a-269">Простота разработки и выполнения операций в базах данных</span><span class="sxs-lookup"><span data-stu-id="ff24a-269">Ease of DevOps across databases</span></span> |[<span data-ttu-id="ff24a-270">Запросы к эластичным БД</span><span class="sxs-lookup"><span data-stu-id="ff24a-270">Elastic query</span></span>](sql-database-elastic-query-horizontal-partitioning.md) |
| | [<span data-ttu-id="ff24a-271">Задания обработки эластичных БД</span><span class="sxs-lookup"><span data-stu-id="ff24a-271">Elastic jobs</span></span>](sql-database-elastic-jobs-overview.md) |
| | [<span data-ttu-id="ff24a-272">Эластичные транзакции</span><span class="sxs-lookup"><span data-stu-id="ff24a-272">Elastic transactions</span></span>](sql-database-elastic-transactions-overview.md) |
| | [<span data-ttu-id="ff24a-273">Клиентская библиотека эластичной базы данных</span><span class="sxs-lookup"><span data-stu-id="ff24a-273">Elastic database client library</span></span>](sql-database-elastic-database-client-library.md) |
| | [<span data-ttu-id="ff24a-274">Разделение и объединение эластичной базы данных</span><span class="sxs-lookup"><span data-stu-id="ff24a-274">Elastic database split and merge</span></span>](sql-database-elastic-scale-overview-split-and-merge.md) |

## <a name="summary"></a><span data-ttu-id="ff24a-275">Сводка</span><span class="sxs-lookup"><span data-stu-id="ff24a-275">Summary</span></span>
<span data-ttu-id="ff24a-276">Требования к изоляции клиентов важны для большинства мультитенантных приложений SaaS.</span><span class="sxs-lookup"><span data-stu-id="ff24a-276">Tenant isolation requirements are important for most SaaS multi-tenant applications.</span></span> <span data-ttu-id="ff24a-277">Привет лучший вариант tooprovide изоляции сильно полагается сторону подход hello базы данных каждого клиента.</span><span class="sxs-lookup"><span data-stu-id="ff24a-277">hello best option tooprovide isolation leans heavily toward hello database-per-tenant approach.</span></span> <span data-ttu-id="ff24a-278">Hello другие два способа требует вложений в слои сложных приложений, требующих изоляции tooprovide квалифицированный разработки персонала, что значительно увеличивает затраты и риски.</span><span class="sxs-lookup"><span data-stu-id="ff24a-278">hello other two approaches require investments in complex application layers that require skilled development staff tooprovide isolation, which significantly increases cost and risk.</span></span> <span data-ttu-id="ff24a-279">Если требования к изоляции не учитываются раннем этапе разработки службы hello, модернизации их может быть еще более дорогостоящие в первых двух моделях hello.</span><span class="sxs-lookup"><span data-stu-id="ff24a-279">If isolation requirements are not accounted for early in hello service development, retrofitting them can be even more costly in hello first two models.</span></span> <span data-ttu-id="ff24a-280">Hello главных недостатка, связанные с моделью hello базы данных каждого клиента, связанные tooincreased затраты ресурсов облака из-за tooreduced общего доступа, обслуживание и управление много баз данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-280">hello main drawbacks associated with hello database-per-tenant model are related tooincreased cloud resource costs due tooreduced sharing, and maintaining and managing many databases.</span></span> <span data-ttu-id="ff24a-281">Зачастую разработчикам приложений SaaS очень сложно идти на эти компромиссы.</span><span class="sxs-lookup"><span data-stu-id="ff24a-281">SaaS application developers often struggle when they make these trade-offs.</span></span>

<span data-ttu-id="ff24a-282">Несмотря на то, что преимущества и недостатки может быть основных барьер большинство поставщиков облачных услуг базы данных, база данных SQL Azure устраняет барьеры hello эластичного пула и возможности эластичной базы данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-282">Although trade-offs might be major barriers with most cloud database service providers, Azure SQL Database eliminates hello barriers with its elastic pool and elastic database capabilities.</span></span> <span data-ttu-id="ff24a-283">Разработчики SaaS можно объединять hello изоляции характеристики модели базы данных каждого клиента и оптимизировать ресурса общего доступа и hello Улучшена управляемость много баз данных с помощью эластичных пулов и связанные средства.</span><span class="sxs-lookup"><span data-stu-id="ff24a-283">SaaS developers can combine hello isolation characteristics of a database-per-tenant model and optimize resource sharing and hello manageability improvements of many databases by using elastic pools and associated tools.</span></span>

<span data-ttu-id="ff24a-284">Для поставщиков мультитенантных приложений, которые не предъявляют требования к изоляции клиентов и могут плотно разместить клиентов в базе данных, могут быть полезны общие модели данных. Они позволят повысить эффективность совместного использования ресурсов и уменьшить общую стоимость.</span><span class="sxs-lookup"><span data-stu-id="ff24a-284">Multi-tenant application providers who have no tenant isolation requirements and who can pack tenants in a database at a high density might find that shared data models result in additional efficiency in resource sharing and reduce overall cost.</span></span> <span data-ttu-id="ff24a-285">Используя средства эластичных баз данных, библиотеки сегментирования и функции обеспечения безопасности базы данных SQL Azure, поставщики SaaS могут создавать такие приложения и управлять ими.</span><span class="sxs-lookup"><span data-stu-id="ff24a-285">Azure SQL Database elastic database tools, sharding libraries, and security features help SaaS providers build and manage multi-tenant applications.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ff24a-286">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="ff24a-286">Next steps</span></span>
<span data-ttu-id="ff24a-287">[Начало работы с инструментами эластичной базы данных](sql-database-elastic-scale-get-started.md) с пример приложения, демонстрирующий hello клиентской библиотеки.</span><span class="sxs-lookup"><span data-stu-id="ff24a-287">[Get started with elastic database tools](sql-database-elastic-scale-get-started.md) with a sample app that demonstrates hello client library.</span></span>

<span data-ttu-id="ff24a-288">Создайте [настраиваемую панель мониторинга пула эластичных БД для SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) с помощью примера приложения, использующего пулы эластичных БД для экономичного и масштабируемого решения базы данных.</span><span class="sxs-lookup"><span data-stu-id="ff24a-288">Create an [elastic pool custom dashboard for SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) with a sample app that uses elastic pools for a cost-effective, scalable database solution.</span></span>

<span data-ttu-id="ff24a-289">Используйте инструменты для баз данных SQL Azure hello слишком[миграции существующих баз данных tooscale out](sql-database-elastic-convert-to-use-elastic-tools.md).</span><span class="sxs-lookup"><span data-stu-id="ff24a-289">Use hello Azure SQL Database tools too[migrate existing databases tooscale out](sql-database-elastic-convert-to-use-elastic-tools.md).</span></span>

<span data-ttu-id="ff24a-290">эластичный пул с помощью toocreate hello Azure портала, см. в разделе [создать эластичный пул](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="ff24a-290">toocreate an elastic pool using hello Azure portal, see [create an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>  

<span data-ttu-id="ff24a-291">Узнайте, каким образом слишком[мониторинг и управление ими в пуле эластичных](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="ff24a-291">Learn how too[monitor and manage an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ff24a-292">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="ff24a-292">Additional resources</span></span>

* [<span data-ttu-id="ff24a-293">Развертывание и изучение мультитенантного приложения SaaS, использующего базу данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="ff24a-293">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>](sql-database-saas-tutorial.md)
* [<span data-ttu-id="ff24a-294">Что такое пул эластичных БД Azure?</span><span class="sxs-lookup"><span data-stu-id="ff24a-294">What is an Azure elastic pool?</span></span>](sql-database-elastic-pool.md)
* [<span data-ttu-id="ff24a-295">Общие сведения о возможностях эластичных баз данных</span><span class="sxs-lookup"><span data-stu-id="ff24a-295">Scaling out with Azure SQL Database</span></span>](sql-database-elastic-scale-introduction.md)
* [<span data-ttu-id="ff24a-296">Мультитенантные приложения со средствами эластичных баз данных и безопасностью на уровне строк</span><span class="sxs-lookup"><span data-stu-id="ff24a-296">multi-tenant applications with elastic database tools and row-level security</span></span>](sql-database-elastic-tools-multi-tenant-row-level-security.md)
* <span data-ttu-id="ff24a-297">[Authenticate using Azure AD and OpenID Connect](../guidance/guidance-multitenant-identity-authenticate.md) (Проверка подлинности с помощью Azure AD и OpenID Connect)</span><span class="sxs-lookup"><span data-stu-id="ff24a-297">[Authentication in multi-tenant apps by using Azure Active Directory and OpenID Connect](../guidance/guidance-multitenant-identity-authenticate.md)</span></span>
* [<span data-ttu-id="ff24a-298">Сведения о приложении Tailspin Surveys</span><span class="sxs-lookup"><span data-stu-id="ff24a-298">Tailspin Surveys application</span></span>](../guidance/guidance-multitenant-identity-tailspin.md)


## <a name="questions-and-feature-requests"></a><span data-ttu-id="ff24a-299">Вопросы и запросы на функции</span><span class="sxs-lookup"><span data-stu-id="ff24a-299">Questions and feature requests</span></span>

<span data-ttu-id="ff24a-300">По вопросам, поиск нас в hello [форум базы данных SQL](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span><span class="sxs-lookup"><span data-stu-id="ff24a-300">For questions, find us in hello [SQL Database forum](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span></span> <span data-ttu-id="ff24a-301">Добавить запрос функции в hello [форуме обратной связи в базе данных SQL](https://feedback.azure.com/forums/217321-sql-database/).</span><span class="sxs-lookup"><span data-stu-id="ff24a-301">Add a feature request in hello [SQL Database feedback forum](https://feedback.azure.com/forums/217321-sql-database/).</span></span>

