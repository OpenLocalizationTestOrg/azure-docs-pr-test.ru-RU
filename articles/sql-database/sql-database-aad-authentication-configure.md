---
title: "Проверка подлинности Azure Active Directory aaaConfigure - SQL | Документы Microsoft"
description: "Узнайте, как tooconnect tooSQL базы данных и хранилище данных SQL с помощью проверки подлинности Azure Active Directory."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/10/2017
ms.author: rickbyh
ms.openlocfilehash: d6222da0b840f96d4bcfbc02964dc7c54d5ea1ee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="configure-and-manage-azure-active-directory-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="3f054-103">Настройка аутентификации Azure Active Directory и управление ею с использованием базы данных SQL или хранилища данных SQL</span><span class="sxs-lookup"><span data-stu-id="3f054-103">Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse</span></span>

<span data-ttu-id="3f054-104">В этой статье показано, как toocreate и заполнить Azure AD, а затем использовать Azure AD с базой данных SQL Azure и хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="3f054-104">This article shows you how toocreate and populate Azure AD, and then use Azure AD with Azure SQL Database and SQL Data Warehouse.</span></span> <span data-ttu-id="3f054-105">Обзор см. в статье [Подключение к базе данных SQL или хранилищу данных SQL c использованием проверки подлинности Azure Active Directory](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="3f054-105">For an overview, see [Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>

>  [!NOTE]  
>  <span data-ttu-id="3f054-106">Подключение tooSQL сервера, работающего на Виртуальной машине Azure не поддерживается с использованием учетной записи Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3f054-106">Connecting tooSQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="3f054-107">Вместо этого используйте учетную запись домена Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3f054-107">Use a domain Active Directory account instead.</span></span>

## <a name="create-and-populate-an-azure-ad"></a><span data-ttu-id="3f054-108">Создание и заполнение каталога Azure AD</span><span class="sxs-lookup"><span data-stu-id="3f054-108">Create and populate an Azure AD</span></span>
<span data-ttu-id="3f054-109">Создайте каталог Azure AD и заполните его пользователями и группами.</span><span class="sxs-lookup"><span data-stu-id="3f054-109">Create an Azure AD and populate it with users and groups.</span></span> <span data-ttu-id="3f054-110">Azure AD может быть управляемого домена hello первоначальный домен Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-110">Azure AD can be hello initial domain Azure AD managed domain.</span></span> <span data-ttu-id="3f054-111">Azure AD также может быть локальной службы Active Directory домена, включена в федерацию с Azure AD hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-111">Azure AD can also be an on-premises Active Directory Domain Services that is federated with hello Azure AD.</span></span>

<span data-ttu-id="3f054-112">Дополнительные сведения см. в разделе [интеграция локальных удостоверений с Azure Active Directory](../active-directory/active-directory-aadconnect.md), [добавить собственные tooAzure имя домена AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure теперь поддерживает федерацию с Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [администрирование каталога Azure AD](https://msdn.microsoft.com/library/azure/hh967611.aspx), [управление Azure AD с помощью Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), и [гибридное удостоверение Необходимые порты и протоколы](../active-directory/active-directory-aadconnect-ports.md).</span><span class="sxs-lookup"><span data-stu-id="3f054-112">For more information, see [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name tooAzure AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Manage Azure AD using Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), and [Hybrid Identity Required Ports and Protocols](../active-directory/active-directory-aadconnect-ports.md).</span></span>

## <a name="optional-associate-or-change-hello-active-directory-that-is-currently-associated-with-your-azure-subscription"></a><span data-ttu-id="3f054-113">Необязательно: Связать или изменение hello active directory, который сейчас связан с подпиской Azure</span><span class="sxs-lookup"><span data-stu-id="3f054-113">Optional: Associate or change hello active directory that is currently associated with your Azure Subscription</span></span>
<span data-ttu-id="3f054-114">tooassociate базы данных с каталогом hello Azure AD для вашей организации, сделать каталог hello доверенных каталог для базы данных размещения hello hello подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-114">tooassociate your database with hello Azure AD directory for your organization, make hello directory a trusted directory for hello Azure subscription hosting hello database.</span></span> <span data-ttu-id="3f054-115">Дополнительные сведения см. в статье [Связь между подписками Azure и службой Azure Active Directory](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f054-115">For more information, see [How Azure subscriptions are associated with Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span></span>

<span data-ttu-id="3f054-116">**Дополнительные сведения.** Каждая подписка Azure связана отношением доверия с экземпляром Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-116">**Additional information:** Every Azure subscription has a trust relationship with an Azure AD instance.</span></span> <span data-ttu-id="3f054-117">Это означает, что она доверяет, tooauthenticate directory пользователей, служб и устройств.</span><span class="sxs-lookup"><span data-stu-id="3f054-117">This means that it trusts that directory tooauthenticate users, services, and devices.</span></span> <span data-ttu-id="3f054-118">Несколько подписок могут доверять hello же каталоге, но подписка доверяет только одному каталогу.</span><span class="sxs-lookup"><span data-stu-id="3f054-118">Multiple subscriptions can trust hello same directory, but a subscription trusts only one directory.</span></span> <span data-ttu-id="3f054-119">Вы увидите каталога, который является доверенным для вашей подписки, под hello **параметры** tab в [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="3f054-119">You can see which directory is trusted by your subscription under hello **Settings** tab at [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="3f054-120">Это отношение доверия с подпиской и каталогом не похожи hello отношения подписки с другими ресурсами в Azure (веб-сайтов, баз данных и т. д), которые наиболее точно дочерними ресурсами подписки.</span><span class="sxs-lookup"><span data-stu-id="3f054-120">This trust relationship that a subscription has with a directory is unlike hello relationship that a subscription has with all other resources in Azure (websites, databases, and so on), which are more like child resources of a subscription.</span></span> <span data-ttu-id="3f054-121">Если подписки истекает, а затем получить доступ к toothose другие ресурсы, связанные с подпиской hello также останавливается.</span><span class="sxs-lookup"><span data-stu-id="3f054-121">If a subscription expires, then access toothose other resources associated with hello subscription also stops.</span></span> <span data-ttu-id="3f054-122">Но hello каталог останется в Azure, и можно связать с этим каталогом другую подписку и продолжить toomanage hello каталог пользователей.</span><span class="sxs-lookup"><span data-stu-id="3f054-122">But hello directory remains in Azure, and you can associate another subscription with that directory and continue toomanage hello directory users.</span></span> <span data-ttu-id="3f054-123">Дополнительные сведения о ресурсах см. в статье, посвященной [доступу к ресурсам в Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f054-123">For more information about resources, see [Understanding resource access in Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span></span>

<span data-ttu-id="3f054-124">Hello следующих процедурах показано, как toochange hello связан каталог для данной подписки.</span><span class="sxs-lookup"><span data-stu-id="3f054-124">hello following procedures show you how toochange hello associated directory for a given subscription.</span></span>
1. <span data-ttu-id="3f054-125">Подключение tooyour [классический портал Azure](https://manage.windowsazure.com/) с помощью администратора подписки Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-125">Connect tooyour [Azure Classic Portal](https://manage.windowsazure.com/) by using an Azure subscription administrator.</span></span>
2. <span data-ttu-id="3f054-126">В hello слева выберите **параметры**.</span><span class="sxs-lookup"><span data-stu-id="3f054-126">On hello left banner, select **SETTINGS**.</span></span>
3. <span data-ttu-id="3f054-127">Ваши подписки отобразятся в параметры экрана приветствия.</span><span class="sxs-lookup"><span data-stu-id="3f054-127">Your subscriptions appear in hello settings screen.</span></span> <span data-ttu-id="3f054-128">По желанию hello подписки не отображается, нажмите кнопку **подписки** вверху hello раскрывающийся список hello **фильтр по DIRECTORY** поле hello каталог, содержащий подписки и нажмите кнопку **Применить**.</span><span class="sxs-lookup"><span data-stu-id="3f054-128">If hello desired subscription does not appear, click **Subscriptions** at hello top, drop down hello **FILTER BY DIRECTORY** box and select hello directory that contains your subscriptions, and then click **APPLY**.</span></span>
   
    ![выбрать подписку][4]
4. <span data-ttu-id="3f054-130">В hello **параметры** , щелкните свою подписку, а затем выберите **изменить КАТАЛОГ** hello нижней части страницы приветствия.</span><span class="sxs-lookup"><span data-stu-id="3f054-130">In hello **settings** area, click your subscription, and then click  **EDIT DIRECTORY** at hello bottom of hello page.</span></span>
   
    ![ad-settings-portal][5]
5. <span data-ttu-id="3f054-132">В hello **изменить КАТАЛОГ** поле hello Azure Active Directory, связанный с SQL Server или хранилища данных SQL и нажмите кнопку со стрелкой hello для следующего.</span><span class="sxs-lookup"><span data-stu-id="3f054-132">In hello **EDIT DIRECTORY** box, select hello Azure Active Directory that is associated with your SQL Server or SQL Data Warehouse, and then click hello arrow for next.</span></span>
   
    ![edit-directory-select][6]
6. <span data-ttu-id="3f054-134">В hello **Подтверждение** directory диалоговое окно сопоставления, убедитесь, что «**все соадминистраторы будут удалены.**»</span><span class="sxs-lookup"><span data-stu-id="3f054-134">In hello **CONFIRM** directory Mapping dialog box, confirm that "**All co-administrators will be removed.**"</span></span>
   
    ![edit-directory-confirm][7]
7. <span data-ttu-id="3f054-136">Щелкните флажок tooreload hello hello-портал.</span><span class="sxs-lookup"><span data-stu-id="3f054-136">Click hello check tooreload hello portal.</span></span>

   > [!NOTE]
   > <span data-ttu-id="3f054-137">При изменить каталог hello, администраторов tooall доступ, пользователи Azure AD и группам и пользователи каталога резервных ресурсов будут удалены и больше не имеют подписки toothis доступа или его ресурсам.</span><span class="sxs-lookup"><span data-stu-id="3f054-137">When you change hello directory, access tooall co-administrators, Azure AD users and groups, and directory-backed resource users are removed and they no longer have access toothis subscription or its resources.</span></span> <span data-ttu-id="3f054-138">Только, администратор служб, можно настроить доступ для участников, в зависимости от нового каталога hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-138">Only you, as a service administrator, can configure access for principals based on hello new directory.</span></span> <span data-ttu-id="3f054-139">Это изменение может занять значительное время toopropagate tooall ресурсов.</span><span class="sxs-lookup"><span data-stu-id="3f054-139">This change might take a substantial amount of time toopropagate tooall resources.</span></span> <span data-ttu-id="3f054-140">Изменение каталога hello, также изменения Здравствуйте, администратор Azure AD для базы данных SQL и хранилища данных SQL и запретить доступ к базе данных для всех существующих пользователей Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-140">Changing hello directory, also changes hello Azure AD administrator for SQL Database and SQL Data Warehouse and disallow database access for any existing Azure AD users.</span></span> <span data-ttu-id="3f054-141">Azure AD Здравствуйте, администратор должен быть сброса (как описано ниже) и новый Azure необходимо создать пользователей AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-141">hello Azure AD admin must be reset (as described below) and new Azure AD users must be created.</span></span>
   >  

## <a name="create-an-azure-ad-administrator-for-azure-sql-server"></a><span data-ttu-id="3f054-142">Создание администратора Azure AD для сервера Azure SQL Server</span><span class="sxs-lookup"><span data-stu-id="3f054-142">Create an Azure AD administrator for Azure SQL server</span></span>
<span data-ttu-id="3f054-143">Каждый сервер Azure SQL (в котором размещена база данных SQL или хранилище данных SQL) начинается с одного сервера учетной записи администратора, администратор hello hello всего сервера Azure SQL.</span><span class="sxs-lookup"><span data-stu-id="3f054-143">Each Azure SQL server (which hosts a SQL Database or SQL Data Warehouse) starts with a single server administrator account that is hello administrator of hello entire Azure SQL server.</span></span> <span data-ttu-id="3f054-144">Необходимо создать второго администратора SQL Server, то есть учетную запись Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-144">A second SQL Server administrator must be created, that is an Azure AD account.</span></span> <span data-ttu-id="3f054-145">Этот участник создается как пользователя автономной базы данных в базе данных master hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-145">This principal is created as a contained database user in hello master database.</span></span> <span data-ttu-id="3f054-146">Администраторы учетных записей администратора сервера hello являются членами hello **db_owner** роли в каждый пользователь базы данных и введите каждой пользовательской базы данных в качестве hello **dbo** пользователя.</span><span class="sxs-lookup"><span data-stu-id="3f054-146">As administrators, hello server administrator accounts are members of hello **db_owner** role in every user database, and enter each user database as hello **dbo** user.</span></span> <span data-ttu-id="3f054-147">Дополнительные сведения об учетных записях администратора сервера hello см. в разделе [Управление базами данных и именами входа в базе данных SQL Azure](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="3f054-147">For more information about hello server administrator accounts, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="3f054-148">При использовании Azure Active Directory с георепликации, Здравствуйте, администратор Azure Active Directory необходимо включить поддержку основного hello и серверы-получатели hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-148">When using Azure Active Directory with geo-replication, hello Azure Active Directory administrator must be configured for both hello primary and hello secondary servers.</span></span> <span data-ttu-id="3f054-149">Если сервер не имеет администратора Azure Active Directory, то Azure Active Directory имена входа и пользователи принимать tooserver ошибку «Не удается подключиться».</span><span class="sxs-lookup"><span data-stu-id="3f054-149">If a server does not have an Azure Active Directory administrator, then Azure Active Directory logins and users receive a "Cannot connect" tooserver error.</span></span>

> [!NOTE]
> <span data-ttu-id="3f054-150">Пользователи, которые не основаны на учетную запись Azure AD (включая учетной записи администратора hello Azure SQL server), невозможно создать Azure AD — пользователи, так как они не имеют разрешений toovalidate предложенные пользователей базы данных с hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-150">Users that are not based on an Azure AD account (including hello Azure SQL server administrator account), cannot create Azure AD-based users, because they do not have permission toovalidate proposed database users with hello Azure AD.</span></span>
> 

## <a name="provision-an-azure-active-directory-administrator-for-your-azure-sql-server"></a><span data-ttu-id="3f054-151">Подготовка администратора Azure Active Directory для сервера Azure SQL Server</span><span class="sxs-lookup"><span data-stu-id="3f054-151">Provision an Azure Active Directory administrator for your Azure SQL server</span></span>

<span data-ttu-id="3f054-152">следующие две процедуры Hello показывается, как tooprovision администратора Azure Active Directory для сервера Azure SQL в hello портал Azure и с помощью PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3f054-152">hello following two procedures show you how tooprovision an Azure Active Directory administrator for your Azure SQL server in hello Azure portal and by using PowerShell.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="3f054-153">Портал Azure</span><span class="sxs-lookup"><span data-stu-id="3f054-153">Azure portal</span></span>
1. <span data-ttu-id="3f054-154">В hello [портал Azure](https://portal.azure.com/)в hello в правом верхнем углу, щелкнув вашей toodrop подключения список возможных каталогов Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3f054-154">In hello [Azure portal](https://portal.azure.com/), in hello upper-right corner, click your connection toodrop down a list of possible Active Directories.</span></span> <span data-ttu-id="3f054-155">Выберите hello исправить Active Directory по умолчанию hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-155">Choose hello correct Active Directory as hello default Azure AD.</span></span> <span data-ttu-id="3f054-156">Этот шаг ссылки hello связь подписки с помощью Active Directory с сервером Azure SQL, убедившись, что hello одной подписке используется для Azure AD и SQL Server.</span><span class="sxs-lookup"><span data-stu-id="3f054-156">This step links hello subscription association with Active Directory with Azure SQL server making sure that hello same subscription is used for both Azure AD and SQL Server.</span></span> <span data-ttu-id="3f054-157">(можно размещение hello Azure SQL server, базы данных SQL Azure или хранилище данных SQL Azure.)</span><span class="sxs-lookup"><span data-stu-id="3f054-157">(hello Azure SQL server can be hosting either Azure SQL Database or Azure SQL Data Warehouse.)</span></span>   
    <span data-ttu-id="3f054-158">![choose-ad][8]</span><span class="sxs-lookup"><span data-stu-id="3f054-158">![choose-ad][8]</span></span>   
    
2. <span data-ttu-id="3f054-159">В hello слева выберите баннер **серверов SQL Server**, выберите ваш **SQL server**и затем в hello **SQL Server** колонке нажмите кнопку **администратора Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="3f054-159">In hello left banner select **SQL servers**, select your **SQL server**, and then in hello **SQL Server** blade, click **Active Directory admin**.</span></span>   
3. <span data-ttu-id="3f054-160">В hello **администратора Active Directory** колонка, щелкните **задать администратора**.</span><span class="sxs-lookup"><span data-stu-id="3f054-160">In hello **Active Directory admin** blade, click **Set admin**.</span></span>   
    <span data-ttu-id="3f054-161">![выбор Active Directory](./media/sql-database-aad-authentication/select-active-directory.png)</span><span class="sxs-lookup"><span data-stu-id="3f054-161">![select active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span></span>  
    
4. <span data-ttu-id="3f054-162">В hello **добавить администратора** колонке поиск пользователя, выберите hello пользователя или группы toobe администратора и нажмите кнопку **выберите**.</span><span class="sxs-lookup"><span data-stu-id="3f054-162">In hello **Add admin** blade, search for a user, select hello user or group toobe an administrator, and then click **Select**.</span></span> <span data-ttu-id="3f054-163">(колонки администрирования Active Directory hello показывает все элементы и группы в Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3f054-163">(hello Active Directory admin blade shows all members and groups of your Active Directory.</span></span> <span data-ttu-id="3f054-164">Пользователей или группы, которые выделены серым цветом, нельзя выбрать; они не поддерживаются ролью администратора Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-164">Users or groups that are grayed out cannot be selected because they are not supported as Azure AD administrators.</span></span> <span data-ttu-id="3f054-165">(См. список поддерживаемых Администраторы в hello hello **функции Azure AD и ограничения** раздел [использование Azure проверки подлинности Active Directory для проверки подлинности в базе данных SQL или хранилище данных SQL](sql-database-aad-authentication.md).) Управление доступом на основе ролей (RBAC) применяется только toohello портала и не распространенный tooSQL сервера.</span><span class="sxs-lookup"><span data-stu-id="3f054-165">(See hello list of supported admins in hello **Azure AD Features and Limitations** section of [Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication.md).) Role-based access control (RBAC) applies only toohello portal and is not propagated tooSQL Server.</span></span>   
    <span data-ttu-id="3f054-166">![выбор администратора](./media/sql-database-aad-authentication/select-admin.png)</span><span class="sxs-lookup"><span data-stu-id="3f054-166">![select admin](./media/sql-database-aad-authentication/select-admin.png)</span></span>  
    
5. <span data-ttu-id="3f054-167">Вверху hello hello **администратора Active Directory** колонка, щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="3f054-167">At hello top of hello **Active Directory admin** blade, click **SAVE**.</span></span>   
    <span data-ttu-id="3f054-168">![сохранение администратора](./media/sql-database-aad-authentication/save-admin.png)</span><span class="sxs-lookup"><span data-stu-id="3f054-168">![save admin](./media/sql-database-aad-authentication/save-admin.png)</span></span>   

<span data-ttu-id="3f054-169">Hello изменения Здравствуйте, администратор может занять несколько минут.</span><span class="sxs-lookup"><span data-stu-id="3f054-169">hello process of changing hello administrator may take several minutes.</span></span> <span data-ttu-id="3f054-170">После чего появится новый администратор hello в hello **администратора Active Directory** поле.</span><span class="sxs-lookup"><span data-stu-id="3f054-170">Then hello new administrator appears in hello **Active Directory admin** box.</span></span>

   > [!NOTE]
   > <span data-ttu-id="3f054-171">При настройке Azure AD Здравствуйте, администратор, hello новое имя администратора (пользователя или группы) не может быть уже присутствует в базе данных master виртуального hello имени пользователя проверки подлинности SQL Server.</span><span class="sxs-lookup"><span data-stu-id="3f054-171">When setting up hello Azure AD admin, hello new admin name (user or group) cannot already be present in hello virtual master database as a SQL Server authentication user.</span></span> <span data-ttu-id="3f054-172">Если он имеется, hello Azure AD администратор установка завершится ошибкой; откат его создания и указав, что такие права администратора (имя) уже существует.</span><span class="sxs-lookup"><span data-stu-id="3f054-172">If present, hello Azure AD admin setup will fail; rolling back its creation and indicating that such an admin (name) already exists.</span></span> <span data-ttu-id="3f054-173">Так как такой пользователь проверку подлинности SQL Server не является частью hello Azure AD, любой сервер toohello tooconnect усилия с использованием проверки подлинности Azure AD завершается ошибкой.</span><span class="sxs-lookup"><span data-stu-id="3f054-173">Since such a SQL Server authentication user is not part of hello Azure AD, any effort tooconnect toohello server using Azure AD authentication fails.</span></span>
   > 


<span data-ttu-id="3f054-174">toolater удалить администратора, вверху hello hello **администратора Active Directory** колонка, щелкните **удалить администратора**и нажмите кнопку **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="3f054-174">toolater remove an Admin, at hello top of hello **Active Directory admin** blade, click **Remove admin**, and then click **Save**.</span></span>

### <a name="powershell"></a><span data-ttu-id="3f054-175">PowerShell</span><span class="sxs-lookup"><span data-stu-id="3f054-175">PowerShell</span></span>
<span data-ttu-id="3f054-176">toorun командлеты PowerShell, необходимо toohave Azure PowerShell установлена и запущена.</span><span class="sxs-lookup"><span data-stu-id="3f054-176">toorun PowerShell cmdlets, you need toohave Azure PowerShell installed and running.</span></span> <span data-ttu-id="3f054-177">Дополнительные сведения см. в разделе [как tooinstall и настройка Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="3f054-177">For detailed information, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="3f054-178">tooprovision администратор Azure AD, выполните следующие команды Azure PowerShell hello:</span><span class="sxs-lookup"><span data-stu-id="3f054-178">tooprovision an Azure AD admin, execute hello following Azure PowerShell commands:</span></span>

* <span data-ttu-id="3f054-179">Add-AzureRmAccount</span><span class="sxs-lookup"><span data-stu-id="3f054-179">Add-AzureRmAccount</span></span>
* <span data-ttu-id="3f054-180">Select-AzureRmSubscription</span><span class="sxs-lookup"><span data-stu-id="3f054-180">Select-AzureRmSubscription</span></span>

<span data-ttu-id="3f054-181">Командлеты используются tooprovision и управление администрирования Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-181">Cmdlets used tooprovision and manage Azure AD admin:</span></span>

| <span data-ttu-id="3f054-182">Имя командлета</span><span class="sxs-lookup"><span data-stu-id="3f054-182">Cmdlet name</span></span> | <span data-ttu-id="3f054-183">Описание</span><span class="sxs-lookup"><span data-stu-id="3f054-183">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="3f054-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="3f054-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/set-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="3f054-185">Выполняет подготовку учетной записи администратора Azure Active Directory для сервера Azure SQL Server или хранилища данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-185">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="3f054-186">(Должен быть из текущей подписки hello).</span><span class="sxs-lookup"><span data-stu-id="3f054-186">(Must be from hello current subscription.)</span></span> |
| [<span data-ttu-id="3f054-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="3f054-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/remove-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="3f054-188">Удаляет учетную запись администратора Azure Active Directory для сервера Azure SQL Server или хранилища данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-188">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
| [<span data-ttu-id="3f054-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="3f054-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/get-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="3f054-190">Возвращает сведения о администратора Azure Active Directory, настроенных для hello Azure SQL server или хранилище данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-190">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="3f054-191">Используйте команду get-help toosee более подробные сведения для каждого из этих команд, например PowerShell ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span><span class="sxs-lookup"><span data-stu-id="3f054-191">Use PowerShell command get-help toosee more details for each of these commands, for example ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span></span>

<span data-ttu-id="3f054-192">Здравствуйте, выполнив скрипт подготавливает группы администратора Azure AD с именем **DBA_Group** (идентификатор объекта `40b79501-b343-44ed-9ce7-da4c8cc7353f`) для hello **demo_server** сервера в группу ресурсов с именем **23 группы** :</span><span class="sxs-lookup"><span data-stu-id="3f054-192">hello following script provisions an Azure AD administrator group named **DBA_Group** (object id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) for hello **demo_server** server in a resource group named **Group-23**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group"
```

<span data-ttu-id="3f054-193">Hello **DisplayName** входного параметра принимает hello Azure AD отображаемое имя или имя участника-пользователя hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-193">hello **DisplayName** input parameter accepts either hello Azure AD display name or hello User Principal Name.</span></span> <span data-ttu-id="3f054-194">Например, ``DisplayName="John Smith"`` и ``DisplayName="johns@contoso.com"``.</span><span class="sxs-lookup"><span data-stu-id="3f054-194">For example, ``DisplayName="John Smith"`` and ``DisplayName="johns@contoso.com"``.</span></span> <span data-ttu-id="3f054-195">Для Azure AD группы только hello Azure AD поддерживается отображаемое имя.</span><span class="sxs-lookup"><span data-stu-id="3f054-195">For Azure AD groups only hello Azure AD display name is supported.</span></span>

> [!NOTE]
> <span data-ttu-id="3f054-196">Hello команду Azure PowerShell ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` не остановит процесс подготовки Администраторы Azure AD для пользователей, не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="3f054-196">hello Azure PowerShell  command ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` does not prevent you from provisioning Azure AD admins for unsupported users.</span></span> <span data-ttu-id="3f054-197">Неподдерживаемые пользователя могут быть подготовлены, но не удается подключиться tooa базы данных.</span><span class="sxs-lookup"><span data-stu-id="3f054-197">An unsupported user can be provisioned, but can not connect tooa database.</span></span> 
> 

<span data-ttu-id="3f054-198">Hello следующем примере используется необязательный hello **ObjectID**:</span><span class="sxs-lookup"><span data-stu-id="3f054-198">hello following example uses hello optional **ObjectID**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group" -ObjectId "40b79501-b343-44ed-9ce7-da4c8cc7353f"
```

> [!NOTE]
> <span data-ttu-id="3f054-199">Hello Azure AD **ObjectID** является обязательным, если hello **DisplayName** не является уникальным.</span><span class="sxs-lookup"><span data-stu-id="3f054-199">hello Azure AD **ObjectID** is required when hello **DisplayName** is not unique.</span></span> <span data-ttu-id="3f054-200">tooretrieve hello **ObjectID** и **DisplayName** значения, воспользуйтесь разделом Active Directory hello классический портал Azure и просмотрите свойства hello пользователя или группы.</span><span class="sxs-lookup"><span data-stu-id="3f054-200">tooretrieve hello **ObjectID** and **DisplayName** values, use hello Active Directory section of Azure Classic Portal, and view hello properties of a user or group.</span></span>
> 

<span data-ttu-id="3f054-201">Следующий пример Hello возвращает сведения о текущей Azure AD Здравствуйте, администратор для сервера Azure SQL:</span><span class="sxs-lookup"><span data-stu-id="3f054-201">hello following example returns information about hello current Azure AD admin for Azure SQL server:</span></span>

```
Get-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server" | Format-List
```

<span data-ttu-id="3f054-202">Следующий пример Hello удаляет администратор Azure AD:</span><span class="sxs-lookup"><span data-stu-id="3f054-202">hello following example removes an Azure AD administrator:</span></span>

```
Remove-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server"
```

<span data-ttu-id="3f054-203">Можно также подготовить администратора Azure Active Directory с помощью API-интерфейсов REST hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-203">You can also provision an Azure Active Directory Administrator by using hello REST APIs.</span></span> <span data-ttu-id="3f054-204">Дополнительные сведения см. в справочнике по REST API управления службами и статье [Operations for Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx) (Операции для баз данных SQL Azure).</span><span class="sxs-lookup"><span data-stu-id="3f054-204">For more information, see [Service Management REST API Reference and Operations for Azure SQL Databases Operations for Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span></span>

### <a name="cli"></a><span data-ttu-id="3f054-205">Интерфейс командной строки</span><span class="sxs-lookup"><span data-stu-id="3f054-205">CLI</span></span>  
<span data-ttu-id="3f054-206">Можно также предоставить вызывающему Привет, следующие команды CLI администратор Azure AD:</span><span class="sxs-lookup"><span data-stu-id="3f054-206">You can also provision an Azure AD admin by calling hello following CLI commands:</span></span>
| <span data-ttu-id="3f054-207">Команда</span><span class="sxs-lookup"><span data-stu-id="3f054-207">Command</span></span> | <span data-ttu-id="3f054-208">Описание</span><span class="sxs-lookup"><span data-stu-id="3f054-208">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="3f054-209">az sql server ad-admin create</span><span class="sxs-lookup"><span data-stu-id="3f054-209">az sql server ad-admin create</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#create) |<span data-ttu-id="3f054-210">Выполняет подготовку учетной записи администратора Azure Active Directory для сервера Azure SQL Server или хранилища данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-210">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="3f054-211">(Должен быть из текущей подписки hello).</span><span class="sxs-lookup"><span data-stu-id="3f054-211">(Must be from hello current subscription.)</span></span> |
|[<span data-ttu-id="3f054-212">az sql server ad-admin delete</span><span class="sxs-lookup"><span data-stu-id="3f054-212">az sql server ad-admin delete</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#delete) |<span data-ttu-id="3f054-213">Удаляет учетную запись администратора Azure Active Directory для сервера Azure SQL Server или хранилища данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-213">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="3f054-214">az sql server ad-admin list</span><span class="sxs-lookup"><span data-stu-id="3f054-214">az sql server ad-admin list</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#list) |<span data-ttu-id="3f054-215">Возвращает сведения о администратора Azure Active Directory, настроенных для hello Azure SQL server или хранилище данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-215">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="3f054-216">az sql server ad-admin update</span><span class="sxs-lookup"><span data-stu-id="3f054-216">az sql server ad-admin update</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#update) |<span data-ttu-id="3f054-217">Обновляет Здравствуйте, администратор Active Directory для сервера Azure SQL или хранилище данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-217">Updates hello Active Directory administrator for an Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="3f054-218">Дополнительные сведения о командах CLI см. в статье [SQL Server - az sql server](https://docs.microsoft.com/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="3f054-218">For more information about CLI commands, see [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span></span>  


## <a name="configure-your-client-computers"></a><span data-ttu-id="3f054-219">Настройка клиентских компьютеров</span><span class="sxs-lookup"><span data-stu-id="3f054-219">Configure your client computers</span></span>
<span data-ttu-id="3f054-220">На всех клиентских компьютерах, из которых приложениям или пользователям подключаться tooAzure базы данных SQL или хранилище данных SQL Azure, с помощью удостоверений Azure AD, необходимо установить hello после программного обеспечения:</span><span class="sxs-lookup"><span data-stu-id="3f054-220">On all client machines, from which your applications or users connect tooAzure SQL Database or Azure SQL Data Warehouse using Azure AD identities, you must install hello following software:</span></span>

* <span data-ttu-id="3f054-221">.NET Framework 4.6 или более поздней версии можно скачать на веб-странице [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f054-221">.NET Framework 4.6 or later from [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span></span>
* <span data-ttu-id="3f054-222">Библиотека проверки подлинности Azure Active Directory для SQL Server (**ADALSQL. Библиотеки DLL**) доступна на нескольких языках (x86 и amd64) из центра загрузки hello [Microsoft библиотеку аутентификации Active Directory для Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span><span class="sxs-lookup"><span data-stu-id="3f054-222">Azure Active Directory Authentication Library for SQL Server (**ADALSQL.DLL**) is available in multiple languages (both x86 and amd64) from hello download center at [Microsoft Active Directory Authentication Library for Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span></span>

<span data-ttu-id="3f054-223">Вы можете выполнить эти требования, сделав следующее:</span><span class="sxs-lookup"><span data-stu-id="3f054-223">You can meet these requirements by:</span></span>

* <span data-ttu-id="3f054-224">Установка любого [среды Management Studio SQL Server 2016](https://msdn.microsoft.com/library/mt238290.aspx) или [SQL Server Data Tools для Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) соответствует hello требования .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="3f054-224">Installing either [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) or [SQL Server Data Tools for Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) meets hello .NET Framework 4.6 requirement.</span></span>
* <span data-ttu-id="3f054-225">SSMS устанавливается версия hello x86 **ADALSQL. Библиотеки DLL**.</span><span class="sxs-lookup"><span data-stu-id="3f054-225">SSMS installs hello x86 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="3f054-226">SSDT устанавливает версию amd64 hello **ADALSQL. Библиотеки DLL**.</span><span class="sxs-lookup"><span data-stu-id="3f054-226">SSDT installs hello amd64 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="3f054-227">Hello последний выпуск Visual Studio из [загрузки Visual Studio](https://www.visualstudio.com/downloads/download-visual-studio-vs) требованиям hello .NET Framework 4.6, но не устанавливает версию необходимые amd64 hello **ADALSQL. Библиотеки DLL**.</span><span class="sxs-lookup"><span data-stu-id="3f054-227">hello latest Visual Studio from [Visual Studio Downloads](https://www.visualstudio.com/downloads/download-visual-studio-vs) meets hello .NET Framework 4.6 requirement, but does not install hello required amd64 version of **ADALSQL.DLL**.</span></span>

## <a name="create-contained-database-users-in-your-database-mapped-tooazure-ad-identities"></a><span data-ttu-id="3f054-228">Создать пользователей автономной базы данных в вашей базы данных сопоставлен tooAzure удостоверений AD</span><span class="sxs-lookup"><span data-stu-id="3f054-228">Create contained database users in your database mapped tooAzure AD identities</span></span>

<span data-ttu-id="3f054-229">Проверка подлинности Azure Active Directory требует toobe пользователей базы данных создана в виде пользователей автономной базы данных.</span><span class="sxs-lookup"><span data-stu-id="3f054-229">Azure Active Directory authentication requires database users toobe created as contained database users.</span></span> <span data-ttu-id="3f054-230">Пользователя автономной базы данных в зависимости от Azure AD identity является пользователем базы данных, не имеет имени входа в базе данных master hello и каталог Azure AD, который связан с базой данных hello hello удостоверению tooan карты в.</span><span class="sxs-lookup"><span data-stu-id="3f054-230">A contained database user based on an Azure AD identity, is a database user that does not have a login in hello master database, and which maps tooan identity in hello Azure AD directory that is associated with hello database.</span></span> <span data-ttu-id="3f054-231">Hello удостоверений Azure AD может быть отдельного пользователя или группы.</span><span class="sxs-lookup"><span data-stu-id="3f054-231">hello Azure AD identity can be either an individual user account or a group.</span></span> <span data-ttu-id="3f054-232">Дополнительные сведения о пользователях автономной базы данных см. в статье [Пользователи автономной базы данных — создание переносимой базы данных](https://msdn.microsoft.com/library/ff929188.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f054-232">For more information about contained database users, see [Contained Database Users- Making Your Database Portable](https://msdn.microsoft.com/library/ff929188.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="3f054-233">Пользователи базы данных (за исключением hello администраторов) не может создаваться с помощью портала.</span><span class="sxs-lookup"><span data-stu-id="3f054-233">Database users (with hello exception of administrators) cannot be created using portal.</span></span> <span data-ttu-id="3f054-234">RBAC роли не являются распространенный tooSQL сервера, базы данных SQL или хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="3f054-234">RBAC roles are not propagated tooSQL Server, SQL Database, or SQL Data Warehouse.</span></span> <span data-ttu-id="3f054-235">Роли RBAC Azure используются для управления ресурсами Azure и не применять разрешения toodatabase.</span><span class="sxs-lookup"><span data-stu-id="3f054-235">Azure RBAC roles are used for managing Azure Resources, and do not apply toodatabase permissions.</span></span> <span data-ttu-id="3f054-236">Например, hello **участника SQL Server** роль не предоставляет toohello tooconnect доступа к базе данных SQL или хранилище данных SQL.</span><span class="sxs-lookup"><span data-stu-id="3f054-236">For example, hello **SQL Server Contributor** role does not grant access tooconnect toohello SQL Database or SQL Data Warehouse.</span></span> <span data-ttu-id="3f054-237">необходимо предоставить разрешение доступа Hello непосредственно в базе данных hello, с помощью инструкций Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="3f054-237">hello access permission must be granted directly in hello database using Transact-SQL statements.</span></span>
>

<span data-ttu-id="3f054-238">по крайней мере hello Azure AD содержится база данных пользователя на основе (кроме hello администратора сервера, которому принадлежит hello базы данных), подключение toohello базы данных с использованием идентификатора Azure AD в качестве пользователя с toocreate **ALTER ANY USER** разрешение.</span><span class="sxs-lookup"><span data-stu-id="3f054-238">toocreate an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity, as a user with at least hello **ALTER ANY USER** permission.</span></span> <span data-ttu-id="3f054-239">Затем используйте hello, используя синтаксис языка Transact-SQL:</span><span class="sxs-lookup"><span data-stu-id="3f054-239">Then use hello following Transact-SQL syntax:</span></span>

```
CREATE USER <Azure_AD_principal_name> FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="3f054-240">*Azure_AD_principal_name* может быть hello имя участника-пользователя Azure AD пользователя или hello отображаемое имя для группы Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-240">*Azure_AD_principal_name* can be hello user principal name of an Azure AD user or hello display name for an Azure AD group.</span></span>

<span data-ttu-id="3f054-241">**Примеры:** toocreate пользователя автономной базы данных, представляющий Azure AD федеративные или управляемые пользователя домена:</span><span class="sxs-lookup"><span data-stu-id="3f054-241">**Examples:** toocreate a contained database user representing an Azure AD federated or managed domain user:</span></span>
```
CREATE USER [bob@contoso.com] FROM EXTERNAL PROVIDER;
CREATE USER [alice@fabrikam.onmicrosoft.com] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="3f054-242">toocreate пользователя автономной базы данных, представляющий Azure AD или федеративного группу домена обеспечивают hello отображаемое имя группы безопасности:</span><span class="sxs-lookup"><span data-stu-id="3f054-242">toocreate a contained database user representing an Azure AD or federated domain group, provide hello display name of a security group:</span></span>
```
CREATE USER [ICU Nurses] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="3f054-243">toocreate пользователя автономной базы данных, представляющий приложение, которое соединяется с использованием маркера Azure AD:</span><span class="sxs-lookup"><span data-stu-id="3f054-243">toocreate a contained database user representing an application that connects using an Azure AD token:</span></span>

```
CREATE USER [appName] FROM EXTERNAL PROVIDER;
```

>  [!TIP]
>  <span data-ttu-id="3f054-244">Невозможно напрямую создать пользователя из Azure Active Directory Кроме hello Azure Active Directory, которая связана с подпиской Azure.</span><span class="sxs-lookup"><span data-stu-id="3f054-244">You cannot directly create a user from an Azure Active Directory other than hello Azure Active Directory that is associated with your Azure subscription.</span></span> <span data-ttu-id="3f054-245">Однако члены других каталогов Active Directory, импортированных пользователей в hello связанные Active Directory (это называется внешних пользователей) можно добавить группы Active Directory tooan hello клиента Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3f054-245">However, members of other Active Directories that are imported users in hello associated Active Directory (known as external users) can be added tooan Active Directory group in hello tenant Active Directory.</span></span> <span data-ttu-id="3f054-246">Создание пользователя автономной базы данных для этой группы AD, hello пользователям hello внешних Active Directory можно получить доступ tooSQL базы данных.</span><span class="sxs-lookup"><span data-stu-id="3f054-246">By creating a contained database user for that AD group, hello users from hello external Active Directory can gain access tooSQL Database.</span></span>   

<span data-ttu-id="3f054-247">Подробные сведения о создании пользователей автономной базы данных на основе удостоверений Azure Active Directory см. в статье [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f054-247">For more information about creating contained database users based on Azure Active Directory identities, see [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="3f054-248">Удаление администратора hello Azure Active Directory для Azure SQL server невозможным подключение сервера toohello любого пользователя проверка подлинности Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-248">Removing hello Azure Active Directory administrator for Azure SQL server prevents any Azure AD authentication user from connecting toohello server.</span></span> <span data-ttu-id="3f054-249">При необходимости администратор Базы данных SQL может вручную удалить неиспользуемых пользователей Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-249">If necessary, unusable Azure AD users can be dropped manually by a SQL Database administrator.</span></span>   

>  [!NOTE]
>  <span data-ttu-id="3f054-250">При получении **превышено время ожидания подключения**, может потребоваться tooset hello `TransparentNetworkIPResolution` параметр toofalse строку hello соединения.</span><span class="sxs-lookup"><span data-stu-id="3f054-250">If you receive a **Connection Timeout Expired**, you may need tooset hello `TransparentNetworkIPResolution` parameter of hello connection string toofalse.</span></span> <span data-ttu-id="3f054-251">Дополнительные сведения см. в статье [Connection timeout issue with .NET Framework 4.6.1 — TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/) (Проблема с временем ожидания подключения в .NET Framework 4.6.1 — TransparentNetworkIPResolution).</span><span class="sxs-lookup"><span data-stu-id="3f054-251">For more information, see [Connection timeout issue with .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span></span>   

   
<span data-ttu-id="3f054-252">При создании пользователя базы данных, пользователь получает hello **CONNECT** разрешения и могут подключиться toothat базы данных как член hello **ОТКРЫТЫЙ** роли.</span><span class="sxs-lookup"><span data-stu-id="3f054-252">When you create a database user, that user receives hello **CONNECT** permission and can connect toothat database as a member of hello **PUBLIC** role.</span></span> <span data-ttu-id="3f054-253">Изначально hello только те разрешения, которые являются доступными toohello пользователя toohello предоставлены все разрешения **ОТКРЫТЫЙ** роли или какие-либо разрешения предоставлены tooany группы Windows, являясь членом.</span><span class="sxs-lookup"><span data-stu-id="3f054-253">Initially hello only permissions available toohello user are any permissions granted toohello **PUBLIC** role, or any permissions granted tooany Windows groups that they are a member of.</span></span> <span data-ttu-id="3f054-254">После подготовки Azure содержащихся на основе AD пользователя базы данных, можно предоставить дополнительные разрешения пользователя hello hello таким же, как предоставить разрешения tooany другого типа пользователя.</span><span class="sxs-lookup"><span data-stu-id="3f054-254">Once you provision an Azure AD-based contained database user, you can grant hello user additional permissions, hello same way as you grant permission tooany other type of user.</span></span> <span data-ttu-id="3f054-255">Обычно разрешения роли toodatabase и добавьте пользователей tooroles.</span><span class="sxs-lookup"><span data-stu-id="3f054-255">Typically grant permissions toodatabase roles, and add users tooroles.</span></span> <span data-ttu-id="3f054-256">Подробные сведения см. в статье [Database Engine Permission Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx) (Основные сведения о разрешениях ядра СУБД).</span><span class="sxs-lookup"><span data-stu-id="3f054-256">For more information, see [Database Engine Permission Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span></span> <span data-ttu-id="3f054-257">Дополнительные сведения о специальных ролях базы данных SQL см. в статье [Проверка подлинности и авторизация в базе данных SQL: предоставление доступа](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="3f054-257">For more information about special SQL Database roles, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>
<span data-ttu-id="3f054-258">Федеративный домен пользователя, импортированы в домен управление, необходимо использовать идентификатор hello управляемого домена.</span><span class="sxs-lookup"><span data-stu-id="3f054-258">A federated domain user that is imported into a manage domain, must use hello managed domain identity.</span></span>

> [!NOTE]
> <span data-ttu-id="3f054-259">Azure AD пользователи будут отмечены в метаданных базы данных hello с типом E (EXTERNAL_USER) и для групп типа X (EXTERNAL_GROUPS).</span><span class="sxs-lookup"><span data-stu-id="3f054-259">Azure AD users are marked in hello database metadata with type E (EXTERNAL_USER) and for groups with type X (EXTERNAL_GROUPS).</span></span> <span data-ttu-id="3f054-260">Дополнительные сведения см. в статье [sys.database_principals (Transact-SQL)](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f054-260">For more information, see [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span> 
>

## <a name="connect-toohello-user-database-or-data-warehouse-by-using-ssms-or-ssdt"></a><span data-ttu-id="3f054-261">Подключиться с помощью SSMS или SSDT toohello пользователя базы данных или хранилища данных</span><span class="sxs-lookup"><span data-stu-id="3f054-261">Connect toohello user database or data warehouse by using SSMS or SSDT</span></span>  
<span data-ttu-id="3f054-262">Администратор tooconfirm hello Azure AD установлена должным образом, подключите toohello **master** базы данных с помощью учетной записи администратора hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-262">tooconfirm hello Azure AD administrator is properly set up, connect toohello **master** database using hello Azure AD administrator account.</span></span>
<span data-ttu-id="3f054-263">tooprovision Azure AD содержится база данных пользователя на основе (кроме hello администратором сервера, которому принадлежит hello базы данных) и подключитесь toohello базу данных с использованием идентификатора Azure AD, который имеет доступ к базе данных toohello.</span><span class="sxs-lookup"><span data-stu-id="3f054-263">tooprovision an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity that has access toohello database.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="3f054-264">Проверку подлинности Azure Active Directory поддерживают [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) и [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) для Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="3f054-264">Support for Azure Active Directory authentication is available with [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span></span> <span data-ttu-id="3f054-265">Hello августа 2016 г. выпуск SSMS также включает поддержку универсальной проверки подлинности Active Directory, который позволяет администраторам toorequire многофакторной проверки подлинности с помощью телефонный звонок, текстовое сообщение, смарт-карты с помощью ПИН-кода или уведомление мобильного приложения.</span><span class="sxs-lookup"><span data-stu-id="3f054-265">hello August 2016 release of SSMS also includes support for Active Directory Universal Authentication, which allows administrators toorequire Multi-Factor Authentication using a phone call, text message, smart cards with pin, or mobile app notification.</span></span>
 
## <a name="using-an-azure-ad-identity-tooconnect-using-ssms-or-ssdt"></a><span data-ttu-id="3f054-266">С помощью tooconnect удостоверений Azure AD с помощью SSMS или SSDT</span><span class="sxs-lookup"><span data-stu-id="3f054-266">Using an Azure AD identity tooconnect using SSMS or SSDT</span></span>  

<span data-ttu-id="3f054-267">Hello перечисленные ниже действия показывают, как tooconnect tooa SQL базы данных с использованием идентификатора Azure AD с помощью SQL Server Management Studio или инструменты для баз данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="3f054-267">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity using SQL Server Management Studio or SQL Server Database Tools.</span></span>

### <a name="active-directory-integrated-authentication"></a><span data-ttu-id="3f054-268">Встроенная аутентификация Active Directory</span><span class="sxs-lookup"><span data-stu-id="3f054-268">Active Directory integrated authentication</span></span>

<span data-ttu-id="3f054-269">Используйте этот метод, если вы вошли в tooWindows, используя учетные данные Azure Active Directory из федеративный домен.</span><span class="sxs-lookup"><span data-stu-id="3f054-269">Use this method if you are logged in tooWindows using your Azure Active Directory credentials from a federated domain.</span></span>

1. <span data-ttu-id="3f054-270">Запустите среду Management Studio или Data Tools и в hello **подключения tooServer** (или **подключения tooDatabase ядра**) диалогового окна hello **проверки подлинности** выберите **Интегрированных в active Directory -**.</span><span class="sxs-lookup"><span data-stu-id="3f054-270">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Integrated**.</span></span> <span data-ttu-id="3f054-271">Пароль не требуется, или можно ввести, поскольку существующие учетные данные будут представлены для подключения hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-271">No password is needed or can be entered because your existing credentials will be presented for hello connection.</span></span>   

    ![Выбор встроенной аутентификации Active Directory][11]
2. <span data-ttu-id="3f054-273">Щелкните hello **параметры** кнопки и на hello **свойства соединения** страницы в hello **подключения toodatabase** введите имя hello hello пользовательской базы данных требуется tooconnect Кому.</span><span class="sxs-lookup"><span data-stu-id="3f054-273">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="3f054-274">(hello **код домена имя или клиента AD**» параметр поддерживается только для **универсальной с многофакторной проверки Подлинности подключения** "Параметры", в противном случае он неактивен.)</span><span class="sxs-lookup"><span data-stu-id="3f054-274">(hello **AD domain name or tenant ID**” option is only supported for **Universal with MFA connection** options, otherwise it is greyed out.)</span></span>  

    ![Выберите имя базы данных hello][13]

## <a name="active-directory-password-authentication"></a><span data-ttu-id="3f054-276">Проверка пароля Active Directory</span><span class="sxs-lookup"><span data-stu-id="3f054-276">Active Directory password authentication</span></span>

<span data-ttu-id="3f054-277">Этот метод следует используйте при подключении с именем участника Azure AD с помощью Azure AD hello управляемого домена.</span><span class="sxs-lookup"><span data-stu-id="3f054-277">Use this method when connecting with an Azure AD principal name using hello Azure AD managed domain.</span></span> <span data-ttu-id="3f054-278">Ее также можно использовать для федеративной учетной записи без домена toohello доступа, например при удаленной работе.</span><span class="sxs-lookup"><span data-stu-id="3f054-278">You can also use it for federated account without access toohello domain, for example when working remotely.</span></span>

<span data-ttu-id="3f054-279">Используйте этот метод, если вы вошли с использованием учетных данных из домена, который не входит в федерацию с Azure tooWindows или при использовании проверки подлинности Azure AD с помощью Azure AD на основании начального приветствия или hello домена клиента.</span><span class="sxs-lookup"><span data-stu-id="3f054-279">Use this method if you are logged in tooWindows using credentials from a domain that is not federated with Azure, or when using Azure AD authentication using Azure AD based on hello initial or hello client domain.</span></span>

1. <span data-ttu-id="3f054-280">Запустите среду Management Studio или Data Tools и в hello **подключения tooServer** (или **подключения tooDatabase ядра**) диалогового окна hello **проверки подлинности** выберите **Active Directory — пароль**.</span><span class="sxs-lookup"><span data-stu-id="3f054-280">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Password**.</span></span>
2. <span data-ttu-id="3f054-281">В hello **имя пользователя** введите свое имя пользователя Azure Active Directory в формате hello  **username@domain.com** . Это должна быть учетной записью из hello Azure Active Directory или учетную запись из домена федерацию с Azure Active Directory hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-281">In hello **User name** box, type your Azure Active Directory user name in hello format **username@domain.com**. This must be an account from hello Azure Active Directory or an account from a domain federate with hello Azure Active Directory.</span></span>
3. <span data-ttu-id="3f054-282">В hello **пароль** введите пароль пользователя для учетной записи Azure Active Directory hello или федеративной учетной записи домена.</span><span class="sxs-lookup"><span data-stu-id="3f054-282">In hello **Password** box, type your user password for hello Azure Active Directory account or federated domain account.</span></span>

    ![Выбор проверки пароля Active Directory][12]
4. <span data-ttu-id="3f054-284">Щелкните hello **параметры** кнопки и на hello **свойства соединения** страницы в hello **подключения toodatabase** введите имя hello hello пользовательской базы данных требуется tooconnect Кому.</span><span class="sxs-lookup"><span data-stu-id="3f054-284">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="3f054-285">(См. рисунок hello в предыдущем варианте hello).</span><span class="sxs-lookup"><span data-stu-id="3f054-285">(See hello graphic in hello previous option.)</span></span>

## <a name="using-an-azure-ad-identity-tooconnect-from-a-client-application"></a><span data-ttu-id="3f054-286">С помощью tooconnect удостоверений Azure AD из клиентского приложения</span><span class="sxs-lookup"><span data-stu-id="3f054-286">Using an Azure AD identity tooconnect from a client application</span></span>

<span data-ttu-id="3f054-287">Hello перечисленные ниже действия показывают, как tooconnect tooa SQL базы данных с использованием идентификатора Azure AD из клиентского приложения.</span><span class="sxs-lookup"><span data-stu-id="3f054-287">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity from a client application.</span></span>

###  <a name="active-directory-integrated-authentication"></a><span data-ttu-id="3f054-288">Встроенная аутентификация Active Directory</span><span class="sxs-lookup"><span data-stu-id="3f054-288">Active Directory integrated authentication</span></span>

<span data-ttu-id="3f054-289">toouse встроенная проверка подлинности Windows, Active Directory вашего домена необходимо федерацию с Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3f054-289">toouse integrated Windows authentication, your domain’s Active Directory must be federated with Azure Active Directory.</span></span> <span data-ttu-id="3f054-290">Клиентское приложение (или служба) соединения toohello базы данных должна быть запущена на компьютере, присоединенном к домену, учетными данными пользователя домена.</span><span class="sxs-lookup"><span data-stu-id="3f054-290">Your client application (or a service) connecting toohello database must be running on a domain-joined machine under a user’s domain credentials.</span></span>

<span data-ttu-id="3f054-291">tooconnect tooa базы данных с помощью интегрированной проверки подлинности и удостоверение Azure AD, ключевое слово hello проверки подлинности, в строку подключения базы данных hello необходимо задать tooActive интеграции каталогов.</span><span class="sxs-lookup"><span data-stu-id="3f054-291">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword in hello database connection string must be set tooActive Directory Integrated.</span></span> <span data-ttu-id="3f054-292">Hello следующий код C# использует ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="3f054-292">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Integrated; Initial Catalog=testdb;";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="3f054-293">Здравствуйте, ключевое слово строки подключения ``Integrated Security=True`` не поддерживается для подключения tooAzure базы данных SQL.</span><span class="sxs-lookup"><span data-stu-id="3f054-293">hello connection string keyword ``Integrated Security=True`` is not supported for connecting tooAzure SQL Database.</span></span> <span data-ttu-id="3f054-294">При создании соединения ODBC, будет требуется tooremove пробелы и задать too'ActiveDirectoryIntegrated проверки подлинности ".</span><span class="sxs-lookup"><span data-stu-id="3f054-294">When making an ODBC connection, you will need tooremove spaces and set Authentication too'ActiveDirectoryIntegrated'.</span></span>

### <a name="active-directory-password-authentication"></a><span data-ttu-id="3f054-295">Проверка пароля Active Directory</span><span class="sxs-lookup"><span data-stu-id="3f054-295">Active Directory password authentication</span></span>

<span data-ttu-id="3f054-296">tooconnect tooa базы данных с помощью интегрированной проверки подлинности и удостоверение Azure AD, ключевое слово hello проверки подлинности необходимо задать tooActive пароль.</span><span class="sxs-lookup"><span data-stu-id="3f054-296">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword must be set tooActive Directory Password.</span></span> <span data-ttu-id="3f054-297">Строка подключения Hello должен содержать идентификатор пользователя или UID и пароль/PWD ключевых слов и значений.</span><span class="sxs-lookup"><span data-stu-id="3f054-297">hello connection string must contain User ID/UID and Password/PWD keywords and values.</span></span> <span data-ttu-id="3f054-298">Hello следующий код C# использует ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="3f054-298">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Password; Initial Catalog=testdb;  UID=bob@contoso.onmicrosoft.com; PWD=MyPassWord!";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="3f054-299">Дополнительные сведения о методах проверки подлинности Azure AD с помощью hello демонстрационный код примеров по адресу [Демонстрация GitHub проверки подлинности Azure AD](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span><span class="sxs-lookup"><span data-stu-id="3f054-299">Learn more about Azure AD authentication methods using hello demo code samples available at [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span></span>

## <a name="azure-ad-token"></a><span data-ttu-id="3f054-300">Токен Azure AD</span><span class="sxs-lookup"><span data-stu-id="3f054-300">Azure AD token</span></span>
<span data-ttu-id="3f054-301">Этот метод проверки подлинности позволяет tooAzure tooconnect службы среднего уровня базы данных SQL или хранилище данных SQL Azure с помощью получения токена из Azure Active Directory (AAD).</span><span class="sxs-lookup"><span data-stu-id="3f054-301">This authentication method allows middle-tier services tooconnect tooAzure SQL Database or Azure SQL Data Warehouse by obtaining a token from Azure Active Directory (AAD).</span></span> <span data-ttu-id="3f054-302">Он используется для реализации сложных сценариев, включая проверку подлинности на основе сертификатов.</span><span class="sxs-lookup"><span data-stu-id="3f054-302">It enables sophisticated scenarios including certificate-based authentication.</span></span> <span data-ttu-id="3f054-303">Необходимо выполнить четыре основные шаги toouse токена проверки подлинности Azure AD.</span><span class="sxs-lookup"><span data-stu-id="3f054-303">You must complete four basic steps toouse Azure AD token authentication:</span></span>

1. <span data-ttu-id="3f054-304">Зарегистрировать приложение в Azure Active Directory и получить идентификатор клиента hello в коде.</span><span class="sxs-lookup"><span data-stu-id="3f054-304">Register your application with Azure Active Directory and get hello client id for your code.</span></span> 
2. <span data-ttu-id="3f054-305">Создание пользователя базы данных представления приложения hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-305">Create a database user representing hello application.</span></span> <span data-ttu-id="3f054-306">(Выполнено ранее на шаге 6.)</span><span class="sxs-lookup"><span data-stu-id="3f054-306">(Completed earlier in step 6.)</span></span>
3. <span data-ttu-id="3f054-307">Создайте сертификат при запуске компьютера клиента hello приложения hello.</span><span class="sxs-lookup"><span data-stu-id="3f054-307">Create a certificate on hello client computer runs hello application.</span></span>
4. <span data-ttu-id="3f054-308">Добавление сертификата hello в качестве ключа для вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="3f054-308">Add hello certificate as a key for your application.</span></span>

<span data-ttu-id="3f054-309">Пример строки подключения.</span><span class="sxs-lookup"><span data-stu-id="3f054-309">Sample connection string:</span></span>

```
string ConnectionString =@"Data Source=n9lxnyuzhv.database.windows.net; Initial Catalog=testdb;"
SqlConnection conn = new SqlConnection(ConnectionString);
connection.AccessToken = "Your JWT token"
conn.Open();
```

<span data-ttu-id="3f054-310">Дополнительные сведения см. в [блоге о безопасности SQL Server](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span><span class="sxs-lookup"><span data-stu-id="3f054-310">For more information, see [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span></span>

### <a name="sqlcmd"></a><span data-ttu-id="3f054-311">sqlcmd</span><span class="sxs-lookup"><span data-stu-id="3f054-311">sqlcmd</span></span>

<span data-ttu-id="3f054-312">Здравствуйте, при использовании после инструкций, подключитесь с помощью версии 13.1 sqlcmd, которое доступно из hello [центра загрузки](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="3f054-312">hello following statements, connect using version 13.1 of sqlcmd, which is available from hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>

```
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net  -G  
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net -U bob@contoso.com -P MyAADPassword -G -l 30
```

## <a name="next-steps"></a><span data-ttu-id="3f054-313">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="3f054-313">Next steps</span></span>
- <span data-ttu-id="3f054-314">Общие сведения о доступе к базе данных SQL и управлении ею см. в статье [Контроль доступа к базе данных SQL Azure](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="3f054-314">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="3f054-315">Общие сведения об именах для входа, пользователях и ролях базы данных в базе данных SQL см. в статье [Предоставление доступа к базе данных и управление им](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="3f054-315">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="3f054-316">Дополнительные сведения о субъектах базы данных см. в [этой статье](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f054-316">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="3f054-317">Дополнительные сведения о ролях баз данных см. в статье [Роли уровня базы данных](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f054-317">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="3f054-318">Дополнительные сведения о правилах брандмауэра см. в статье [Обзор правил брандмауэра базы данных SQL Azure](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="3f054-318">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/active-directory-integrated.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth2.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db2.png

