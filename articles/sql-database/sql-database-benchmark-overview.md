---
title: "Общие сведения об измерении производительности Базы данных SQL Azure"
description: "В этом разделе описывается тест производительности Базы данных SQL Azure, используемый при измерении ее производительности."
services: sql-database
documentationcenter: na
author: jan-eng
manager: jhubbard
editor: monicar
ms.assetid: e26f8a66-2c12-49d7-8297-45b4d48a5c01
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 06/21/2016
ms.author: janeng
ms.openlocfilehash: 57178352e0a402f3559c94ce25f125dcbefd1374
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="azure-sql-database-benchmark-overview"></a><span data-ttu-id="ea8b7-103">Общие сведения об измерении производительности Базы данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="ea8b7-103">Azure SQL Database benchmark overview</span></span>
## <a name="overview"></a><span data-ttu-id="ea8b7-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="ea8b7-104">Overview</span></span>
<span data-ttu-id="ea8b7-105">База данных SQL Microsoft Azure предлагает три [уровня служб](sql-database-service-tiers.md) с несколькими уровнями производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-105">Microsoft Azure SQL Database offers three [service tiers](sql-database-service-tiers.md) with multiple performance levels.</span></span> <span data-ttu-id="ea8b7-106">Каждый уровень производительности предоставляет более обширный набор ресурсов (или «мощностей»), предназначенный для повышения пропускной способности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-106">Each performance level provides an increasing set of resources, or ‘power’, designed to deliver increasingly higher throughput.</span></span>

<span data-ttu-id="ea8b7-107">Важно иметь возможность измерить, как увеличивающаяся мощность каждого уровня производительности преобразуется в повышенную производительность базы данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-107">It is important to be able to quantify how the increasing power of each performance level translates into increased database performance.</span></span> <span data-ttu-id="ea8b7-108">Для этого корпорация Майкрософт разработала тест производительности Базы данных SQL Azure (ASDB).</span><span class="sxs-lookup"><span data-stu-id="ea8b7-108">To do this Microsoft has developed the Azure SQL Database Benchmark (ASDB).</span></span> <span data-ttu-id="ea8b7-109">Этот тест выполняет набор базовых операций, которые есть во всех рабочих нагрузках OLTP.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-109">The benchmark exercises a mix of basic operations found in all OLTP workloads.</span></span> <span data-ttu-id="ea8b7-110">Измеряется пропускная способность, обеспечиваемая базами данных на каждом уровне производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-110">We measure the throughput achieved for databases running in each performance level.</span></span>

<span data-ttu-id="ea8b7-111">Ресурсы и мощность каждого уровня служб и уровня производительности выражаются в [единицах транзакций базы данных (DTU)](sql-database-what-is-a-dtu.md).</span><span class="sxs-lookup"><span data-stu-id="ea8b7-111">The resources and power of each service tier and performance level are expressed in terms of [Database Transaction Units (DTUs)](sql-database-what-is-a-dtu.md).</span></span> <span data-ttu-id="ea8b7-112">Единицы DTU позволяют описывать относительную мощность уровня производительности, основываясь на измерении загрузки ЦП, памяти и скорости чтения и записи, которые характерны для каждого уровня производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-112">DTUs provide a way to describe the relative capacity of a performance level based on a blended measure of CPU, memory, and read and write rates offered by each performance level.</span></span> <span data-ttu-id="ea8b7-113">Удвоение оценки DTU базы данных соответствует удвоению ее мощности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-113">Doubling the DTU rating of a database equates to doubling the database power.</span></span> <span data-ttu-id="ea8b7-114">Тест производительности позволяет оценить, как увеличение мощности влияет на производительность базы данных для каждого уровня производительности. Эта оценка выполняется так: запускаются реальные операции базы данных, при этом размер базы данных, количество пользователей и скорость транзакций масштабируются пропорционально ресурсам, предоставляемым базе данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-114">The benchmark allows us to assess the impact on database performance of the increasing power offered by each performance level by exercising actual database operations, while scaling database size, number of users, and transaction rates in proportion to the resources provided to the database.</span></span>

<span data-ttu-id="ea8b7-115">Если пропускную способность служб уровня Basic выражать с помощью количества транзакций в час, служб уровня Standard — с помощью количества транзакций в минуту, а служб уровня служб Premium — с помощью количества транзакций в секунду, становится проще соотносить потенциал производительности служб каждого уровня с требованиями приложения.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-115">By expressing the throughput of the Basic service tier using transactions per-hour, the Standard service tier using transactions per-minute, and the Premium service tier using transactions per-second, it makes it easier to quickly relate the performance potential of each service tier to the requirements of an application.</span></span>

## <a name="correlating-benchmark-results-to-real-world-database-performance"></a><span data-ttu-id="ea8b7-116">Соотнесение результатов тестирования производительности с реальной производительностью базы данных</span><span class="sxs-lookup"><span data-stu-id="ea8b7-116">Correlating benchmark results to real world database performance</span></span>
<span data-ttu-id="ea8b7-117">Важно понимать, что тест ASDB, как все тесты производительности, является только показательным и ориентировочным тестом.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-117">It is important to understand that ASDB, like all benchmarks, is representative and indicative only.</span></span> <span data-ttu-id="ea8b7-118">Показатели скорости транзакций, достигнутые приложением тестирования производительности, будут отличаться от таких показателей других приложений.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-118">The transaction rates achieved with the benchmark application will not be the same as those that might be achieved with other applications.</span></span> <span data-ttu-id="ea8b7-119">Тест производительности состоит из набора транзакций разных типов, выполняемых в схеме, которая содержит целый ряд таблиц и типов данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-119">The benchmark comprises a collection of different transaction types run against a schema containing a range of tables and data types.</span></span> <span data-ttu-id="ea8b7-120">Хотя тест производительности выполняет основные операции, свойственные для всех рабочих нагрузок OLTP, он не представляет какой-либо определенный класс базы данных или приложения.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-120">While the benchmark exercises the same basic operations that are common to all OLTP workloads, it does not represent any specific class of database or application.</span></span> <span data-ttu-id="ea8b7-121">Цель тестирования производительности заключается в предоставлении приемлемых рекомендаций для относительной производительности базы данных, которую можно ожидать при переходе на более высокий или более низкий уровень производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-121">The goal of the benchmark is to provide a reasonable guide to the relative performance of a database that might be expected when scaling up or down between performance levels.</span></span> <span data-ttu-id="ea8b7-122">На самом деле базы данных имеют разные размеры и сложность, обрабатывают разные сочетания рабочих нагрузок и реагируют разными способами.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-122">In reality, databases are of different sizes and complexity, encounter different mixes of workloads, and will respond in different ways.</span></span> <span data-ttu-id="ea8b7-123">Например, приложение с большим объемом операций ввода-вывода может быстрее достигнуть порогового значения таких операций или приложение с интенсивной нагрузкой ЦП может быстрее достигнуть порогового значения такой нагрузки.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-123">For example, an IO-intensive application may hit IO thresholds sooner, or a CPU-intensive application may hit CPU limits sooner.</span></span> <span data-ttu-id="ea8b7-124">Нет никакой гарантии, что конкретная база данных будет увеличиваться так же, как это показывает тест производительности при увеличении нагрузки.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-124">There is no guarantee that any particular database will scale in the same way as the benchmark under increasing load.</span></span>

<span data-ttu-id="ea8b7-125">Тест производительности и его методология подробно описаны ниже.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-125">The benchmark and its methodology are described in more detail below.</span></span>

## <a name="benchmark-summary"></a><span data-ttu-id="ea8b7-126">Сводка о тесте производительности</span><span class="sxs-lookup"><span data-stu-id="ea8b7-126">Benchmark summary</span></span>
<span data-ttu-id="ea8b7-127">Тест ASDB измеряет производительность набора основных операций базы данных, выполняемых чаще всего при рабочих нагрузках оперативной обработки транзакций (OLTP).</span><span class="sxs-lookup"><span data-stu-id="ea8b7-127">ASDB measures the performance of a mix of basic database operations which occur most frequently in online transaction processing (OLTP) workloads.</span></span> <span data-ttu-id="ea8b7-128">Хотя тест производительности разрабатывался для облачных вычислений, схемы базы данных, заполнение данными и транзакции рассчитаны на максимально широкий уровень репрезентативности основных элементов, которые чаще всего используются в рабочих нагрузках OLTP.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-128">Although the benchmark is designed with cloud computing in mind, the database schema, data population, and transactions have been designed to be broadly representative of the basic elements most commonly used in OLTP workloads.</span></span>

## <a name="schema"></a><span data-ttu-id="ea8b7-129">Схема</span><span class="sxs-lookup"><span data-stu-id="ea8b7-129">Schema</span></span>
<span data-ttu-id="ea8b7-130">Схема разработана таким образом, чтобы предоставить достаточную степень разнообразия и сложности для поддержки широкого диапазона операций.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-130">The schema is designed to have enough variety and complexity to support a broad range of operations.</span></span> <span data-ttu-id="ea8b7-131">Тест производительности выполняется в базе данных, состоящей из шести таблиц.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-131">The benchmark runs against a database comprised of six tables.</span></span> <span data-ttu-id="ea8b7-132">Эти таблицы делятся на три категории: фиксированного размера, масштабируемые и расширяемые.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-132">The tables fall into three categories: fixed-size, scaling, and growing.</span></span> <span data-ttu-id="ea8b7-133">Есть две таблицы фиксированного размера, три масштабируемые таблицы и одна расширяемая таблица.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-133">There are two fixed-size tables; three scaling tables; and one growing table.</span></span> <span data-ttu-id="ea8b7-134">Таблицы фиксированного размера имеют неизменное количество строк.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-134">Fixed-size tables have a constant number of rows.</span></span> <span data-ttu-id="ea8b7-135">Масштабируемые таблицы имеют кратность, пропорциональную производительности базы данных, но не изменяемую во время тестирования производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-135">Scaling tables have a cardinality that is proportional to database performance, but doesn’t change during the benchmark.</span></span> <span data-ttu-id="ea8b7-136">Расширяемая таблица имеет такой же размер, что и масштабируемая таблица при начальной нагрузке, но затем в процессе тестирования производительности кратность изменяется по мере добавления и удаления строк.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-136">The growing table is sized like a scaling table on initial load, but then the cardinality changes in the course of running the benchmark as rows are inserted and deleted.</span></span>

<span data-ttu-id="ea8b7-137">Схема включает сочетание типов данных, в том числе целое число, цифру, символ, а также дату и время.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-137">The schema includes a mix of data types, including integer, numeric, character, and date/time.</span></span> <span data-ttu-id="ea8b7-138">Схема включает первичные и вторичные ключи, но не имеет внешних ключей, т. е. между таблицами нет ограничений ссылочной целостности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-138">The schema includes primary and secondary keys, but not any foreign keys - that is, there are no referential integrity constraints between tables.</span></span>

<span data-ttu-id="ea8b7-139">Программа формирования данных создает данные для исходной базы данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-139">A data generation program generates the data for the initial database.</span></span> <span data-ttu-id="ea8b7-140">Целочисленные и числовые данные создаются с помощью разных стратегий.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-140">Integer and numeric data is generated with various strategies.</span></span> <span data-ttu-id="ea8b7-141">В некоторых случаях значения случайным образом распределяются в диапазоне.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-141">In some cases, values are distributed randomly over a range.</span></span> <span data-ttu-id="ea8b7-142">Чтобы гарантировать соблюдение конкретного распределения в других случаях, набор значений переставляется случайным образом.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-142">In other cases, a set of values is randomly permuted to ensure that a specific distribution is maintained.</span></span> <span data-ttu-id="ea8b7-143">Текстовые поля создаются из взвешенного списка слов для формирования реалистичных данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-143">Text fields are generated from a weighted list of words to produce realistic looking data.</span></span>

<span data-ttu-id="ea8b7-144">Размер базы данных устанавливается в соответствии с «коэффициентом масштабирования».</span><span class="sxs-lookup"><span data-stu-id="ea8b7-144">The database is sized based on a “scale factor.”</span></span> <span data-ttu-id="ea8b7-145">Коэффициент масштабирования (сокращенно SF) определяет кратность элементов в масштабируемых и растущих таблицах.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-145">The scale factor (abbreviated as SF) determines the cardinality of the scaling and growing tables.</span></span> <span data-ttu-id="ea8b7-146">Как описано ниже, в разделе «Пользователи и пошаговое продвижение», размер базы данных, количество пользователей и максимальная производительность масштабируются пропорционально друг к другу.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-146">As described below in the section Users and Pacing, the database size, number of users, and maximum performance all scale in proportion to each other.</span></span>

## <a name="transactions"></a><span data-ttu-id="ea8b7-147">Транзакции</span><span class="sxs-lookup"><span data-stu-id="ea8b7-147">Transactions</span></span>
<span data-ttu-id="ea8b7-148">Рабочая нагрузка состоит из девяти типов транзакций, как показано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-148">The workload consists of nine transaction types, as shown in the table below.</span></span> <span data-ttu-id="ea8b7-149">Каждая транзакция должна подчеркивать определенный набор системных характеристик в ядре СУБД и системном оборудовании. При этом она должна явно отличаться от других транзакций.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-149">Each transaction is designed to highlight a particular set of system characteristics in the database engine and system hardware, with high contrast from the other transactions.</span></span> <span data-ttu-id="ea8b7-150">Такой подход упрощает оценку влияния различных компонентов на общую производительность.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-150">This approach makes it easier to assess the impact of different components to overall performance.</span></span> <span data-ttu-id="ea8b7-151">Например, транзакция «Чтение, высокая интенсивность» создает значительное число операций чтения с диска.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-151">For example, the transaction “Read Heavy” produces a significant number of read operations from disk.</span></span>

| <span data-ttu-id="ea8b7-152">Тип транзакции</span><span class="sxs-lookup"><span data-stu-id="ea8b7-152">Transaction Type</span></span> | <span data-ttu-id="ea8b7-153">Описание</span><span class="sxs-lookup"><span data-stu-id="ea8b7-153">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ea8b7-154">Чтение, низкая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-154">Read Lite</span></span> |<span data-ttu-id="ea8b7-155">ВЫБОР; в памяти; только для чтения</span><span class="sxs-lookup"><span data-stu-id="ea8b7-155">SELECT; in-memory; read-only</span></span> |
| <span data-ttu-id="ea8b7-156">Носитель для чтения</span><span class="sxs-lookup"><span data-stu-id="ea8b7-156">Read Medium</span></span> |<span data-ttu-id="ea8b7-157">ВЫБОР; в основном в памяти; только для чтения</span><span class="sxs-lookup"><span data-stu-id="ea8b7-157">SELECT; mostly in-memory; read-only</span></span> |
| <span data-ttu-id="ea8b7-158">Чтение, высокая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-158">Read Heavy</span></span> |<span data-ttu-id="ea8b7-159">ВЫБОР; в основном не в памяти; только для чтения</span><span class="sxs-lookup"><span data-stu-id="ea8b7-159">SELECT; mostly not in-memory; read-only</span></span> |
| <span data-ttu-id="ea8b7-160">Обновление, низкая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-160">Update Lite</span></span> |<span data-ttu-id="ea8b7-161">ОБНОВЛЕНИЕ; в памяти; чтение и запись</span><span class="sxs-lookup"><span data-stu-id="ea8b7-161">UPDATE; in-memory; read-write</span></span> |
| <span data-ttu-id="ea8b7-162">Обновление, высокая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-162">Update Heavy</span></span> |<span data-ttu-id="ea8b7-163">ОБНОВЛЕНИЕ; в основном не в памяти; чтение и запись</span><span class="sxs-lookup"><span data-stu-id="ea8b7-163">UPDATE; mostly not in-memory; read-write</span></span> |
| <span data-ttu-id="ea8b7-164">Вставка, низкая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-164">Insert Lite</span></span> |<span data-ttu-id="ea8b7-165">ВСТАВКА; в памяти; чтение и запись</span><span class="sxs-lookup"><span data-stu-id="ea8b7-165">INSERT; in-memory; read-write</span></span> |
| <span data-ttu-id="ea8b7-166">Вставка, высокая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-166">Insert Heavy</span></span> |<span data-ttu-id="ea8b7-167">ВСТАВКА; в основном не в памяти; чтение и запись</span><span class="sxs-lookup"><span data-stu-id="ea8b7-167">INSERT; mostly not in-memory; read-write</span></span> |
| <span data-ttu-id="ea8b7-168">Удалить</span><span class="sxs-lookup"><span data-stu-id="ea8b7-168">Delete</span></span> |<span data-ttu-id="ea8b7-169">УДАЛЕНИЕ; сочетание в памяти и не в памяти; чтение и запись</span><span class="sxs-lookup"><span data-stu-id="ea8b7-169">DELETE; mix of in-memory and not in-memory; read-write</span></span> |
| <span data-ttu-id="ea8b7-170">ЦП, высокая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-170">CPU Heavy</span></span> |<span data-ttu-id="ea8b7-171">ВЫБОР; в памяти; относительно высокая загрузка ЦП; только для чтения</span><span class="sxs-lookup"><span data-stu-id="ea8b7-171">SELECT; in-memory; relatively heavy CPU load; read-only</span></span> |

## <a name="workload-mix"></a><span data-ttu-id="ea8b7-172">Сочетание рабочих нагрузок</span><span class="sxs-lookup"><span data-stu-id="ea8b7-172">Workload mix</span></span>
<span data-ttu-id="ea8b7-173">Транзакции выбираются случайным образом из взвешенного распределения следующего общего сочетания.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-173">Transactions are selected at random from a weighted distribution with the following overall mix.</span></span> <span data-ttu-id="ea8b7-174">Обще сочетание имеет соотношение чтения и записи 2:1.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-174">The overall mix has a read/write ratio of approximately 2:1.</span></span>

| <span data-ttu-id="ea8b7-175">Тип транзакции</span><span class="sxs-lookup"><span data-stu-id="ea8b7-175">Transaction Type</span></span> | <span data-ttu-id="ea8b7-176">Процент от сочетания</span><span class="sxs-lookup"><span data-stu-id="ea8b7-176">% of Mix</span></span> |
| --- | --- |
| <span data-ttu-id="ea8b7-177">Чтение, низкая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-177">Read Lite</span></span> |<span data-ttu-id="ea8b7-178">35</span><span class="sxs-lookup"><span data-stu-id="ea8b7-178">35</span></span> |
| <span data-ttu-id="ea8b7-179">Носитель для чтения</span><span class="sxs-lookup"><span data-stu-id="ea8b7-179">Read Medium</span></span> |<span data-ttu-id="ea8b7-180">20</span><span class="sxs-lookup"><span data-stu-id="ea8b7-180">20</span></span> |
| <span data-ttu-id="ea8b7-181">Чтение, высокая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-181">Read Heavy</span></span> |<span data-ttu-id="ea8b7-182">5</span><span class="sxs-lookup"><span data-stu-id="ea8b7-182">5</span></span> |
| <span data-ttu-id="ea8b7-183">Обновление, низкая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-183">Update Lite</span></span> |<span data-ttu-id="ea8b7-184">20</span><span class="sxs-lookup"><span data-stu-id="ea8b7-184">20</span></span> |
| <span data-ttu-id="ea8b7-185">Обновление, высокая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-185">Update Heavy</span></span> |<span data-ttu-id="ea8b7-186">3</span><span class="sxs-lookup"><span data-stu-id="ea8b7-186">3</span></span> |
| <span data-ttu-id="ea8b7-187">Вставка, низкая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-187">Insert Lite</span></span> |<span data-ttu-id="ea8b7-188">3</span><span class="sxs-lookup"><span data-stu-id="ea8b7-188">3</span></span> |
| <span data-ttu-id="ea8b7-189">Вставка, высокая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-189">Insert Heavy</span></span> |<span data-ttu-id="ea8b7-190">2</span><span class="sxs-lookup"><span data-stu-id="ea8b7-190">2</span></span> |
| <span data-ttu-id="ea8b7-191">Удалить</span><span class="sxs-lookup"><span data-stu-id="ea8b7-191">Delete</span></span> |<span data-ttu-id="ea8b7-192">2</span><span class="sxs-lookup"><span data-stu-id="ea8b7-192">2</span></span> |
| <span data-ttu-id="ea8b7-193">ЦП, высокая интенсивность</span><span class="sxs-lookup"><span data-stu-id="ea8b7-193">CPU Heavy</span></span> |<span data-ttu-id="ea8b7-194">10</span><span class="sxs-lookup"><span data-stu-id="ea8b7-194">10</span></span> |

## <a name="users-and-pacing"></a><span data-ttu-id="ea8b7-195">Пользователи и пошаговое продвижение</span><span class="sxs-lookup"><span data-stu-id="ea8b7-195">Users and pacing</span></span>
<span data-ttu-id="ea8b7-196">Рабочая нагрузка теста производительности определяется с помощью средства, которое передает транзакции через ряд подключений для имитации работы определенного количества одновременных пользователей.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-196">The benchmark workload is driven from a tool that submits transactions across a set of connections to simulate the behavior of a number of concurrent users.</span></span> <span data-ttu-id="ea8b7-197">Хотя все подключения и транзакции создаются компьютером, для простоты мы называем эти подключения «пользователи».</span><span class="sxs-lookup"><span data-stu-id="ea8b7-197">Although all of the connections and transactions are machine generated, for simplicity we refer to these connections as “users.”</span></span> <span data-ttu-id="ea8b7-198">Несмотря на то, что каждый пользователь работает независимо от других пользователей, все они выполняют одинаковый цикл, показанный ниже:</span><span class="sxs-lookup"><span data-stu-id="ea8b7-198">Although each user operates independently of all other users, all users perform the same cycle of steps shown below:</span></span>

1. <span data-ttu-id="ea8b7-199">Установление подключения к базе данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-199">Establish a database connection.</span></span>
2. <span data-ttu-id="ea8b7-200">Повторение до получения сигнала выхода:</span><span class="sxs-lookup"><span data-stu-id="ea8b7-200">Repeat until signaled to exit:</span></span>
   * <span data-ttu-id="ea8b7-201">случайный выбор транзакций (из взвешенного распределения);</span><span class="sxs-lookup"><span data-stu-id="ea8b7-201">Select a transaction at random (from a weighted distribution).</span></span>
   * <span data-ttu-id="ea8b7-202">выполнение выбранной транзакции и измерение времени ответа;</span><span class="sxs-lookup"><span data-stu-id="ea8b7-202">Perform the selected transaction and measure the response time.</span></span>
   * <span data-ttu-id="ea8b7-203">ожидание задержки шага.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-203">Wait for a pacing delay.</span></span>
3. <span data-ttu-id="ea8b7-204">Завершение подключения к базе данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-204">Close the database connection.</span></span>
4. <span data-ttu-id="ea8b7-205">Выход.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-205">Exit.</span></span>

<span data-ttu-id="ea8b7-206">Задержка шага (в действии 2в) выбирается случайным образом, однако с распределением со средним значением в 1,0 секунду.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-206">The pacing delay (in step 2c) is selected at random, but with a distribution that has an average of 1.0 second.</span></span> <span data-ttu-id="ea8b7-207">Таким образом, в среднем каждый пользователь может создавать максимум одну транзакцию в секунду.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-207">Thus each user can, on average, generate at most one transaction per second.</span></span>

## <a name="scaling-rules"></a><span data-ttu-id="ea8b7-208">Правила масштабирования</span><span class="sxs-lookup"><span data-stu-id="ea8b7-208">Scaling rules</span></span>
<span data-ttu-id="ea8b7-209">Количество пользователей определяется размером базы данных (в единицах коэффициента масштабирования).</span><span class="sxs-lookup"><span data-stu-id="ea8b7-209">The number of users is determined by the database size (in scale-factor units).</span></span> <span data-ttu-id="ea8b7-210">Существует один пользователь на каждые пять единиц коэффициента масштабирования.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-210">There is one user for every five scale-factor units.</span></span> <span data-ttu-id="ea8b7-211">Из-за задержки шага один пользователь может в среднем создавать не более одной транзакции в секунду.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-211">Because of the pacing delay, one user can generate at most one transaction per second, on average.</span></span>

<span data-ttu-id="ea8b7-212">Например, база данных с коэффициентом масштабирования 500 (SF=500) будет иметь 100 пользователей и может достичь максимальной скорости в 100 транзакций в секунду.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-212">For example, a scale-factor of 500 (SF=500) database will have 100 users and can achieve a maximum rate of 100 TPS.</span></span> <span data-ttu-id="ea8b7-213">Для более высокой скорости требуется больше пользователей и большие размеры базы данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-213">To drive a higher TPS rate requires more users and a larger database.</span></span>

<span data-ttu-id="ea8b7-214">В таблице ниже показано количество пользователей, фактически поддерживаемых для каждого уровня службы и уровня производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-214">The table below shows the number of users actually sustained for each service tier and performance level.</span></span>

| <span data-ttu-id="ea8b7-215">Уровень службы (уровень производительности)</span><span class="sxs-lookup"><span data-stu-id="ea8b7-215">Service Tier (Performance Level)</span></span> | <span data-ttu-id="ea8b7-216">Пользователи</span><span class="sxs-lookup"><span data-stu-id="ea8b7-216">Users</span></span> | <span data-ttu-id="ea8b7-217">Размер базы данных</span><span class="sxs-lookup"><span data-stu-id="ea8b7-217">Database Size</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ea8b7-218">Basic</span><span class="sxs-lookup"><span data-stu-id="ea8b7-218">Basic</span></span> |<span data-ttu-id="ea8b7-219">5</span><span class="sxs-lookup"><span data-stu-id="ea8b7-219">5</span></span> |<span data-ttu-id="ea8b7-220">720 МБ</span><span class="sxs-lookup"><span data-stu-id="ea8b7-220">720 MB</span></span> |
| <span data-ttu-id="ea8b7-221">Standard (S0)</span><span class="sxs-lookup"><span data-stu-id="ea8b7-221">Standard (S0)</span></span> |<span data-ttu-id="ea8b7-222">10</span><span class="sxs-lookup"><span data-stu-id="ea8b7-222">10</span></span> |<span data-ttu-id="ea8b7-223">1 GB</span><span class="sxs-lookup"><span data-stu-id="ea8b7-223">1 GB</span></span> |
| <span data-ttu-id="ea8b7-224">Standard (S1)</span><span class="sxs-lookup"><span data-stu-id="ea8b7-224">Standard (S1)</span></span> |<span data-ttu-id="ea8b7-225">20</span><span class="sxs-lookup"><span data-stu-id="ea8b7-225">20</span></span> |<span data-ttu-id="ea8b7-226">2,1 ГБ</span><span class="sxs-lookup"><span data-stu-id="ea8b7-226">2.1 GB</span></span> |
| <span data-ttu-id="ea8b7-227">Standard (S2)</span><span class="sxs-lookup"><span data-stu-id="ea8b7-227">Standard (S2)</span></span> |<span data-ttu-id="ea8b7-228">50</span><span class="sxs-lookup"><span data-stu-id="ea8b7-228">50</span></span> |<span data-ttu-id="ea8b7-229">7,1 ГБ</span><span class="sxs-lookup"><span data-stu-id="ea8b7-229">7.1 GB</span></span> |
| <span data-ttu-id="ea8b7-230">Premium (P1)</span><span class="sxs-lookup"><span data-stu-id="ea8b7-230">Premium (P1)</span></span> |<span data-ttu-id="ea8b7-231">100</span><span class="sxs-lookup"><span data-stu-id="ea8b7-231">100</span></span> |<span data-ttu-id="ea8b7-232">14 ГБ</span><span class="sxs-lookup"><span data-stu-id="ea8b7-232">14 GB</span></span> |
| <span data-ttu-id="ea8b7-233">Premium (P2)</span><span class="sxs-lookup"><span data-stu-id="ea8b7-233">Premium (P2)</span></span> |<span data-ttu-id="ea8b7-234">200</span><span class="sxs-lookup"><span data-stu-id="ea8b7-234">200</span></span> |<span data-ttu-id="ea8b7-235">28 ГБ</span><span class="sxs-lookup"><span data-stu-id="ea8b7-235">28 GB</span></span> |
| <span data-ttu-id="ea8b7-236">Premium (P6/P3)</span><span class="sxs-lookup"><span data-stu-id="ea8b7-236">Premium (P6/P3)</span></span> |<span data-ttu-id="ea8b7-237">800</span><span class="sxs-lookup"><span data-stu-id="ea8b7-237">800</span></span> |<span data-ttu-id="ea8b7-238">114 ГБ</span><span class="sxs-lookup"><span data-stu-id="ea8b7-238">114 GB</span></span> |

## <a name="measurement-duration"></a><span data-ttu-id="ea8b7-239">Продолжительность измерения</span><span class="sxs-lookup"><span data-stu-id="ea8b7-239">Measurement duration</span></span>
<span data-ttu-id="ea8b7-240">Для правильного выполнения теста производительности требуется измерять устойчивое состояние по крайней мере один час.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-240">A valid benchmark run requires a steady-state measurement duration of at least one hour.</span></span>

## <a name="metrics"></a><span data-ttu-id="ea8b7-241">Метрики</span><span class="sxs-lookup"><span data-stu-id="ea8b7-241">Metrics</span></span>
<span data-ttu-id="ea8b7-242">Ключевыми показателями теста производительности являются пропускная способность и время ответа.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-242">The key metrics in the benchmark are throughput and response time.</span></span>

* <span data-ttu-id="ea8b7-243">Пропускная способность — это важный показатель производительности в тесте производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-243">Throughput is the essential performance measure in the benchmark.</span></span> <span data-ttu-id="ea8b7-244">Пропускная способность измеряется в транзакциях в единицу времени, учитывая все типы транзакций.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-244">Throughput is reported in transactions per unit-of-time, counting all transaction types.</span></span>
* <span data-ttu-id="ea8b7-245">Время отклика — это показатель прогнозируемости производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-245">Response time is a measure of performance predictability.</span></span> <span data-ttu-id="ea8b7-246">Ограничение времени ответа зависит от класса службы. Более высокие классы службы имеют более строгие требования ко времени ответа, как показано ниже.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-246">The response time constraint varies with class of service, with higher classes of service having a more stringent response time requirement, as shown below.</span></span>

| <span data-ttu-id="ea8b7-247">Класс службы</span><span class="sxs-lookup"><span data-stu-id="ea8b7-247">Class of Service</span></span> | <span data-ttu-id="ea8b7-248">Единица пропускной способности</span><span class="sxs-lookup"><span data-stu-id="ea8b7-248">Throughput Measure</span></span> | <span data-ttu-id="ea8b7-249">Требование ко времени ответа</span><span class="sxs-lookup"><span data-stu-id="ea8b7-249">Response Time Requirement</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ea8b7-250">Premium</span><span class="sxs-lookup"><span data-stu-id="ea8b7-250">Premium</span></span> |<span data-ttu-id="ea8b7-251">Транзакций в секунду</span><span class="sxs-lookup"><span data-stu-id="ea8b7-251">Transactions per second</span></span> |<span data-ttu-id="ea8b7-252">95-й процентиль при 0,5 секунды</span><span class="sxs-lookup"><span data-stu-id="ea8b7-252">95th percentile at 0.5 seconds</span></span> |
| <span data-ttu-id="ea8b7-253">Standard</span><span class="sxs-lookup"><span data-stu-id="ea8b7-253">Standard</span></span> |<span data-ttu-id="ea8b7-254">Транзакций в минуту</span><span class="sxs-lookup"><span data-stu-id="ea8b7-254">Transactions per minute</span></span> |<span data-ttu-id="ea8b7-255">90-й процентиль при 1,0 секунде</span><span class="sxs-lookup"><span data-stu-id="ea8b7-255">90th percentile at 1.0 seconds</span></span> |
| <span data-ttu-id="ea8b7-256">Basic</span><span class="sxs-lookup"><span data-stu-id="ea8b7-256">Basic</span></span> |<span data-ttu-id="ea8b7-257">Транзакций в час</span><span class="sxs-lookup"><span data-stu-id="ea8b7-257">Transactions per hour</span></span> |<span data-ttu-id="ea8b7-258">80-й процентиль при 2,0 секундах</span><span class="sxs-lookup"><span data-stu-id="ea8b7-258">80th percentile at 2.0 seconds</span></span> |

## <a name="conclusion"></a><span data-ttu-id="ea8b7-259">Заключение</span><span class="sxs-lookup"><span data-stu-id="ea8b7-259">Conclusion</span></span>
<span data-ttu-id="ea8b7-260">Тест производительности Базы данных SQL Azure измеряет относительную производительность такой базы данных, функционирующей в диапазоне доступных уровней служб и уровней производительности.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-260">The Azure SQL Database Benchmark measures the relative performance of Azure SQL Database running across the range of available service tiers and performance levels.</span></span> <span data-ttu-id="ea8b7-261">Тест производительности выполняет набор основных операций базы данных, выполняемых чаще всего при рабочих нагрузках оперативной обработки транзакций (OLTP).</span><span class="sxs-lookup"><span data-stu-id="ea8b7-261">The benchmark exercises a mix of basic database operations which occur most frequently in online transaction processing (OLTP) workloads.</span></span> <span data-ttu-id="ea8b7-262">Измеряя фактическую производительность, тест обеспечивает более существенную оценку того, как изменение уровня производительности влияет на пропускную способность. Такого уровня оценки не добиться, если просто перечислять ресурсы, предоставляемые на каждом уровне, например скорость ЦП, объем памяти и операции ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-262">By measuring actual performance, the benchmark provides a more meaningful assessment of the impact on throughput of changing the performance level than is possible by just listing the resources provided by each level such as CPU speed, memory size, and IOPS.</span></span> <span data-ttu-id="ea8b7-263">В дальнейшем мы продолжим совершенствовать тест производительности, чтобы расширить область его применения и увеличить количество предоставляемых данных.</span><span class="sxs-lookup"><span data-stu-id="ea8b7-263">In the future, we will continue to evolve the benchmark to broaden its scope and expand the data provided.</span></span>

## <a name="resources"></a><span data-ttu-id="ea8b7-264">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="ea8b7-264">Resources</span></span>
[<span data-ttu-id="ea8b7-265">Введение в базы данных SQL</span><span class="sxs-lookup"><span data-stu-id="ea8b7-265">Introduction to SQL Database</span></span>](sql-database-technical-overview.md)

[<span data-ttu-id="ea8b7-266">Уровни служб и уровни производительности</span><span class="sxs-lookup"><span data-stu-id="ea8b7-266">Service tiers and performance levels</span></span>](sql-database-service-tiers.md)

[<span data-ttu-id="ea8b7-267">Руководство по производительности для отдельных баз данных</span><span class="sxs-lookup"><span data-stu-id="ea8b7-267">Performance guidance for single databases</span></span>](sql-database-performance-guidance.md)
