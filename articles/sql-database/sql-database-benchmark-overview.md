---
title: "Обзор производительности aaaAzure базы данных SQL"
description: "В этом разделе описываются hello тесте производительности базы данных SQL Azure используется в оценке производительности hello базы данных SQL Azure."
services: sql-database
documentationcenter: na
author: jan-eng
manager: jhubbard
editor: monicar
ms.assetid: e26f8a66-2c12-49d7-8297-45b4d48a5c01
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 06/21/2016
ms.author: janeng
ms.openlocfilehash: 1024e9ada511935f911cb1345b4dc5508997c702
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-benchmark-overview"></a>Общие сведения об измерении производительности Базы данных SQL Azure
## <a name="overview"></a>Обзор
База данных SQL Microsoft Azure предлагает три [уровня служб](sql-database-service-tiers.md) с несколькими уровнями производительности. Каждый уровень производительности предоставляет возрастающей набор ресурсов, или «power», отвечающий toodeliver увеличенной пропускной способностью.

Это может tooquantify важные toobe как увеличение мощности каждого уровня производительности hello преобразуется в повышении производительности базы данных. toodo, корпорация Майкрософт разработала hello тест производительности базы данных SQL Azure (ASDB). Hello тест производительности проверяет набор базовых операций в всех рабочих нагрузок OLTP. Мы измерить hello пропускную способность, обеспечиваемую базами данных на каждом уровне производительности.

Hello ресурсы и мощность каждого уровня производительности и уровня обслуживания, выражаются в виде [единицы транзакций баз данных (Dtu)](sql-database-what-is-a-dtu.md). Dtu обеспечивают toodescribe hello относительную емкость уровня производительности на основе на смешанном показателе ЦП, памяти и прочитать и скорости, предлагаемой каждым уровнем производительности записи. Удвоение оценки DTU hello базы данных соответствует мощности базы данных toodoubling hello. Hello тест производительности позволяет нам tooassess hello влияние на производительность базы данных увеличение мощности, предлагаемой каждым уровнем производительности путем выполнения реальных операций базы данных, при увеличении размера базы данных, количество пользователей и скорости транзакций пропорционально hello toohello ресурсов, предоставленных toohello базы данных.

Выражение hello пропускной способности уровень обслуживания Basic hello, с помощью транзакций в час, hello уровня служб Standard транзакциях в минуту, а также использование транзакций в секунду, кроме того, становится проще tooquickly уровня служб Premium hello связаны hello потенциал производительность каждого требования к toohello службы уровня приложения.

## <a name="correlating-benchmark-results-tooreal-world-database-performance"></a>Сопоставление производительности базы данных world tooreal результаты теста производительности
Он является важным toounderstand, ASDB, как все тесты производительности, является только Показательным и ориентировочным. Здравствуйте транзакции ставки при тестирования приложения hello не будет иметь hello такой же, как те, которые могут осуществляться с другими приложениями. Hello тест производительности охватывает набор транзакций разных типов, выполняющихся в схеме, содержащий диапазон таблицы и типов данных. Упражнения тестирования hello hello основные операции, распространенных рабочих нагрузок OLTP tooall, он не представляет любой определенный класс баз данных или приложений. Цель Hello hello тестирования — tooprovide правдоподобные toohello относительную производительность базы данных, которые можно ожидать при масштабировании вверх или вниз между уровнями производительности. На самом деле базы данных имеют разные размеры и сложность, обрабатывают разные сочетания рабочих нагрузок и реагируют разными способами. Например, приложение с большим объемом операций ввода-вывода может быстрее достигнуть порогового значения таких операций или приложение с интенсивной нагрузкой ЦП может быстрее достигнуть порогового значения такой нагрузки. Нет никакой гарантии, что любая конкретная база данных будет масштабироваться в приветствия таким же способом, как hello производительности при увеличении нагрузки.

Hello теста производительности и его методологии описаны более подробно ниже.

## <a name="benchmark-summary"></a>Сводка о тесте производительности
ASDB измеряет производительность набора основных операций базы данных, наиболее часто в интерактивной транзакционной обработки (OLTP) рабочих нагрузок hello. Несмотря на то, что тест hello предназначен для облачных вычислений в виду, hello схемы базы данных, заполнение данными и транзакции были спроектированный toobe широко представлять основные элементы hello наиболее часто используются в рабочих нагрузок OLTP.

## <a name="schema"></a>Схема
Hello схемы является спроектированный toohave достаточно широкий спектр операций toosupport разнообразие и уровень сложности. Hello тест выполняется в базе данных, состоящей из шести таблиц. Hello таблицы делятся на три категории: фиксированного размера, масштабируемые и расширяемые. Есть две таблицы фиксированного размера, три масштабируемые таблицы и одна расширяемая таблица. Таблицы фиксированного размера имеют неизменное количество строк. Масштабируемые таблицы иметь количество элементов, пропорциональное toodatabase производительность, но не меняется во время тестирования hello. увеличение таблицы Hello подбирается вид масштабирования на начальной загрузки, но затем изменяет количество элементов hello в курсе hello выполнения тестирования hello при вставке и удалении строк.

Hello схема включает набор типов данных, включая integer, numeric, символьные и даты и времени. Схема Hello включает первичные и вторичные ключи, но не имеет внешних ключей — то есть ограничения ссылочной целостности между таблицами.

Программа формирования данных создает данные hello для hello исходной базы данных. Целочисленные и числовые данные создаются с помощью разных стратегий. В некоторых случаях значения случайным образом распределяются в диапазоне. В других случаях — совокупность значений является случайным образом перестановкой tooensure, что поддерживается заданного распределения. Текстовые поля создаются из взвешенного списка слов tooproduce реалистичных данных.

Hello размер базы данных устанавливается на «коэффициенту масштабирования». Коэффициент масштабирования Hello (сокращенно SF) определяет количество элементов hello hello масштабируемых и расширяемых таблицах. Как описано ниже в hello раздела пользователи и интенсивность, размер базы данных hello, количество пользователей и максимальная производительность масштабируются в другие пропорции tooeach.

## <a name="transactions"></a>Транзакции
Рабочая нагрузка Hello состоит из типов девять операций, как показано в следующей таблице hello. Каждая транзакция спроектированный toohighlight определенного набора системных характеристик ядра СУБД и системного оборудования hello базы данных, с высокой степенью отличия от hello другими транзакциями. Этот способ позволяет проще влияние hello tooassess toooverall производительности различных компонентов. Например транзакция hello, «Чтение, высокая интенсивность» создает со значительным числом операций чтения с диска.

| Тип транзакции | Описание |
| --- | --- |
| Чтение, низкая интенсивность |ВЫБОР; в памяти; только для чтения |
| Носитель для чтения |ВЫБОР; в основном в памяти; только для чтения |
| Чтение, высокая интенсивность |ВЫБОР; в основном не в памяти; только для чтения |
| Обновление, низкая интенсивность |ОБНОВЛЕНИЕ; в памяти; чтение и запись |
| Обновление, высокая интенсивность |ОБНОВЛЕНИЕ; в основном не в памяти; чтение и запись |
| Вставка, низкая интенсивность |ВСТАВКА; в памяти; чтение и запись |
| Вставка, высокая интенсивность |ВСТАВКА; в основном не в памяти; чтение и запись |
| Удалить |УДАЛЕНИЕ; сочетание в памяти и не в памяти; чтение и запись |
| ЦП, высокая интенсивность |ВЫБОР; в памяти; относительно высокая загрузка ЦП; только для чтения |

## <a name="workload-mix"></a>Сочетание рабочих нагрузок
Транзакции выбираются случайным образом из взвешенного распределения с hello, следуя общего состава. Hello общий состав имеет соотношение чтения и записи около 2:1.

| Тип транзакции | Процент от сочетания |
| --- | --- |
| Чтение, низкая интенсивность |35 |
| Носитель для чтения |20 |
| Чтение, высокая интенсивность |5 |
| Обновление, низкая интенсивность |20 |
| Обновление, высокая интенсивность |3 |
| Вставка, низкая интенсивность |3 |
| Вставка, высокая интенсивность |2 |
| Удалить |2 |
| ЦП, высокая интенсивность |10 |

## <a name="users-and-pacing"></a>Пользователи и пошаговое продвижение
Рабочая нагрузка теста производительности Hello событиями из средства, которое передает транзакции через набор подключений toosimulate hello поведение число одновременных пользователей. Несмотря на то, что все соединения hello и транзакции создаются компьютером, для простоты мы называем toothese подключений «пользователи». Несмотря на то, что каждый пользователь работает независимо от других пользователей, все они выполняют hello одинаковый рабочий цикл, который приведен ниже:

1. Установление подключения к базе данных.
2. Повторяйте до получения сигнала tooexit:
   * случайный выбор транзакций (из взвешенного распределения);
   * Выполнение транзакции выбран hello и измерения времени ответа hello.
   * ожидание задержки шага.
3. Закройте подключения к базе данных hello.
4. Выход.

Hello задержки (в действии 2c), выбирается произвольно, но с распределением со средним значением, равным 1,0 секунде. Таким образом, в среднем каждый пользователь может создавать максимум одну транзакцию в секунду.

## <a name="scaling-rules"></a>Правила масштабирования
Hello количество пользователей определяется hello размер базы данных (в единицах коэффициента масштабирования). Существует один пользователь на каждые пять единиц коэффициента масштабирования. Из-за задержки шага hello один пользователь может в среднем создавать не более одной транзакции в секунду.

Например, база данных с коэффициентом масштабирования 500 (SF=500) будет иметь 100 пользователей и может достичь максимальной скорости в 100 транзакций в секунду. toodrive с высокой частотой TPS требуется больше пользователей и базу данных большего размера.

в следующей таблице Hello показывает hello количество пользователей, используемых для каждого уровня производительности и уровня обслуживания.

| Уровень службы (уровень производительности) | Пользователи | Размер базы данных |
| --- | --- | --- |
| Basic |5 |720 МБ |
| Standard (S0) |10 |1 GB |
| Standard (S1) |20 |2,1 ГБ |
| Standard (S2) |50 |7,1 ГБ |
| Premium (P1) |100 |14 ГБ |
| Premium (P2) |200 |28 ГБ |
| Premium (P6/P3) |800 |114 ГБ |

## <a name="measurement-duration"></a>Продолжительность измерения
Для правильного выполнения теста производительности требуется измерять устойчивое состояние по крайней мере один час.

## <a name="metrics"></a>Метрики
ключевые показатели Hello в тесте производительности hello, пропускную способность и время ответа.

* Пропускная способность — hello важная мера производительности в тесте производительности hello. Пропускная способность измеряется в транзакциях в единицу времени, учитывая все типы транзакций.
* Время отклика — это показатель прогнозируемости производительности. ограничение времени ответа Hello зависит от класса службы: более высокие классы службы, имеющих более строгим требованиям к времени ответа, как показано ниже.

| Класс службы | Единица пропускной способности | Требование ко времени ответа |
| --- | --- | --- |
| Premium |Транзакций в секунду |95-й процентиль при 0,5 секунды |
| Standard |Транзакций в минуту |90-й процентиль при 1,0 секунде |
| Basic |Транзакций в час |80-й процентиль при 2,0 секундах |

## <a name="conclusion"></a>Заключение
Hello тест производительности базы данных SQL Azure измеряет относительную производительность hello выполнения нескольких hello диапазона доступных уровней обслуживания и уровни производительности базы данных SQL Azure. Hello тест производительности проверяет набор базовых операций базы данных, наиболее часто в интерактивной транзакционной обработки (OLTP) рабочих нагрузок. Измеряя фактическую производительность, тест hello обеспечивает более значимую оценку влияния hello изменения hello уровень производительности по сравнению с простым перечислением ресурсов hello, предоставляемых на каждом уровне, например, скорость ЦП, объем памяти и операций ввода-ВЫВОДА на пропускную способность . В будущем hello мы продолжить ее области действия тестирования toobroaden tooevolve hello и разверните предоставленных данных hello.

## <a name="resources"></a>Ресурсы
[Введение tooSQL базы данных](sql-database-technical-overview.md)

[Уровни служб и уровни производительности](sql-database-service-tiers.md)

[Руководство по производительности для отдельных баз данных](sql-database-performance-guidance.md)
