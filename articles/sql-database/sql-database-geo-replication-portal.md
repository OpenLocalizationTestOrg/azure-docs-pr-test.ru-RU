---
title: "Портал Azure: георепликация базы данных SQL | Документация Майкрософт"
description: "Настройка географической репликации для базы данных SQL Azure в hello портал Azure и инициировать отработку отказа"
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: d0b29822-714f-4633-a5ab-fb1a09d43ced
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 03/06/2016
ms.author: carlrab
ms.openlocfilehash: 09cbbdb040f36c42593e3be87ce6db2238f36656
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="configure-active-geo-replication-for-azure-sql-database-in-hello-azure-portal-and-initiate-failover"></a>Настройка активной георепликации для базы данных SQL Azure в hello портал Azure и инициировать отработку отказа

В этой статье показано, как tooconfigure активной георепликации для базы данных SQL в hello [портал Azure](http://portal.azure.com) и tooinitiate перехода на другой ресурс.

tooinitiate переход на другой ресурс hello портал Azure в разделе [инициации плановой или незапланированной отработки отказа для базы данных SQL Azure с портала Azure hello](sql-database-geo-replication-portal.md).

tooconfigure активной георепликации с помощью hello портал Azure, требуется hello следующих ресурсов:

* Базы данных Azure SQL: hello базы данных-источника, которые должны tooreplicate tooa другом географическом регионе.

> [!Note]
Должен быть активной георепликации между базами данных в hello одной подписке.

## <a name="add-a-secondary-database"></a>Добавление базы данных-получателя
Hello следующие действия создадут новые базы данных-получателя в связи георепликации.  

tooadd базы данных-получателя, необходимо быть владельцем подписки hello или совладелец.

База данных-получатель Hello имеет точно такое же имя в качестве базы данных-источника hello hello и по умолчанию hello того же уровня обслуживания. Hello баз данных-получателей может быть одной базы данных или базы данных в пуле эластичных БД. Чтобы узнать больше, ознакомьтесь с [уровнями служб](sql-database-service-tiers.md).
После hello получателя создается и заполняется, данных начинает репликации из hello базы данных-источника toohello базы данных-получателя.

> [!NOTE]
> Наличие hello участника базы данных (например, в результате завершения предыдущей связи георепликации) hello команда завершается ошибкой.
> 

1. В hello [портал Azure](http://portal.azure.com), просмотра toohello базы данных, которые должны tooset для географической репликации.
2. На странице базы данных SQL hello выберите **георепликации**и выберите hello области toocreate hello баз данных-получателей. Можно выбрать любой регионе, отличном от региона hello размещение базы данных-источника hello, но мы рекомендуем hello [парном регионе](../best-practices-availability-paired-regions.md).
   
    ![Настройка георепликации](./media/sql-database-geo-replication-portal/configure-geo-replication.png)
3. Выбор или Настройка сервера hello и ценовую категорию для базы данных-получателя hello.
   
    ![Настройка базы данных-получателя](./media/sql-database-geo-replication-portal/create-secondary.png)
4. При необходимости можно добавить tooan эластичный пул баз данных-получателей. Щелкните toocreate hello базы данных-получателя в пуле, **эластичного пула** и выберите пул на целевом сервере hello. Пул должен уже существовать на целевом сервере hello. Этот рабочий процесс не создает пул.
5. Нажмите кнопку **создать** tooadd hello получателей.
6. создается база данных-получатель Hello и начинает процесс заполнения hello.
   
    ![Настройка базы данных-получателя](./media/sql-database-geo-replication-portal/seeding0.png)
7. После завершения процесса заполнения hello баз данных-получателей hello отображение его состояния.
   
    ![Заполнение завершено](./media/sql-database-geo-replication-portal/seeding-complete.png)

## <a name="initiate-a-failover"></a>Запуск отработки отказа

Hello баз данных-получателей может быть выключены toobecome hello основной.  

1. В hello [портал Azure](http://portal.azure.com), Обзор toohello основной базой данных hello связи георепликации.
2. В колонке базы данных SQL hello, выберите **все параметры** > **георепликации**.
3. В hello **баз данных-ПОЛУЧАТЕЛЕЙ** список, выберите hello базы данных, которая toobecome hello новом сервере-источнике и нажмите кнопку **перехода на другой ресурс**.
   
    ![Отработка отказа](./media/sql-database-geo-replication-failover-portal/secondaries.png)
4. Нажмите кнопку **Да** hello toobegin перехода на другой ресурс.

Команда Hello немедленно переключается hello базы данных-получателя в первичной роли hello. 

Отсутствует короткий период, в течение которого обеих баз данных недоступны (в порядке hello 0 секунд too25) во время переключения ролей hello. Если база данных-источник hello имеет несколько баз данных-получателей, команда hello автоматически перенастройка hello других баз данных-получателей tooconnect toohello новом сервере-источнике. вся операция Hello занимает меньше минуты toocomplete в обычных условиях. 

> [!NOTE]
> Эта команда предназначена для быстрого восстановления hello базы данных в случае сбоя. Она активирует отработку отказа без синхронизации данных (принудительная отработка отказа).  Если основной hello находится в оперативном режиме и фиксации транзакций, когда hello команды потеря данных возможна. 
> 
> 

## <a name="remove-secondary-database"></a>Удаление базы данных-получателя
Эта операция безвозвратно завершает hello репликации toohello баз данных-получателей, а изменения hello роль базы данных hello получателей tooa регулярного чтения и записи. Если нарушена hello подключения toohello баз данных-получателей, hello команда выполняется успешно, но hello чтения и записи вторичных выполняет становится до, после восстановления подключения.  

1. В hello [портал Azure](http://portal.azure.com), Обзор toohello основной базой данных hello связи георепликации.
2. На странице базы данных SQL hello выберите **георепликации**.
3. В hello **баз данных-ПОЛУЧАТЕЛЕЙ** список, выберите hello базы данных, которая tooremove из hello связи георепликации.
4. Щелкните **Остановить репликацию**.
   
    ![Удаление базы данных-получателя](./media/sql-database-geo-replication-portal/remove-secondary.png)
5. Откроется окно подтверждения. Нажмите кнопку **Да** базы данных hello tooremove из hello связи георепликации. (Задайте его tooa чтения и записи базы данных не является частью любой репликации.)

## <a name="next-steps"></a>Дальнейшие действия
* разделе toolearn Дополнительные сведения об активной георепликации [активной георепликации](sql-database-geo-replication-overview.md).
* Сведения об обеспечении непрерывности бизнес-процессов и возможные сценарии описаны в [обзоре непрерывности бизнес-процессов](sql-database-business-continuity.md).

