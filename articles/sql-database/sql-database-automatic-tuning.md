---
title: "База данных — aaaSQL автоматической настройки | Документы Microsoft"
description: "База данных SQL анализирует SQL-запроса и автоматически адаптирует toouser рабочей нагрузки."
services: sql-database
documentationcenter: 
author: jovanpop-msft
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/05/2017
ms.author: jovanpop
ms.openlocfilehash: 897a8deaabedb6727dc49958c64d0433c5f2e4f4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="automatic-tuning"></a>Автоматическая настройка

База данных SQL Azure является полностью управляемым данных службы, которая отслеживает hello запросы, которые выполняются в базе данных hello и автоматически может повысить производительность рабочей нагрузки hello. База данных SQL Azure имеет встроенный механизм, который может автоматически настраивать и повысить производительность запросов путем динамической адаптации нагрузки tooyour hello базы данных. Автоматической настройки в базе данных SQL Azure может быть одним из самых важных функций hello, можно включить в базе данных SQL Azure toooptimize производительность запросов.

См. в статье шагов hello слишком[включить автоматическую настройку](sql-database-automatic-tuning-enable.md) с помощью портала Azure "hello".

## <a name="why-automatic-tuning"></a>Почему автоматическая настройка

Одно из основных задач hello в классическом базы данных администрирования наблюдает за hello рабочей нагрузки, определение критических SQL запросы, индексы, которые должны быть добавлены tooimprove производительности и редко используемые индексы. База данных SQL Azure предоставляет подробное представление о hello запросов и индексов, необходимо toomonitor. Однако постоянный мониторинг базы данных — это сложная и трудоемкая задача, особенно при работе с несколькими базами данных. Управление огромное число баз данных может быть невозможным toodo эффективно даже со все доступные средства и отчеты, которые содержат базы данных SQL Azure и на портале Azure. Вместо контроля и настройки базы данных вручную, следует рассмотреть возможность делегирования некоторые hello контроля и настройки действия tooAzure базы данных SQL с помощью функции автоматической настройки. 


> [!VIDEO https://channel9.msdn.com/Blogs/Azure-in-the-Enterprise/Enabling-Azure-SQL-Database-Auto-Tuning-at-Scale-for-Microsoft-IT/player]
>

## <a name="how-does-automatic-tuning-work"></a>Как работает автоматическая настройка

База данных SQL Azure имеет процесс непрерывного производительности мониторинга и анализа, который постоянно узнает о hello характеристик рабочей нагрузки и определить потенциальные проблемы и усовершенствования.

![Процесс автоматической настройки](./media/sql-database-automatic-tuning/tuning-process.png)

Этот процесс позволяет toodynamically базы данных SQL Azure адаптировать tooyour рабочей нагрузки, который можно найти, какие индексы и планов может способствовать повышению производительности для рабочих нагрузок и индексы влияют на рабочих нагрузок. На основании этих данных автоматическая настройка применяет действия по настройке производительности при рабочей нагрузке. Кроме того база данных SQL Azure постоянно отслеживает производительность после любого изменения, внесенные программой автоматической настройки tooensure, что позволяет повысить производительность рабочей нагрузки. Любое действие, которое не повысило производительность, автоматически отменяется. Процесс проверки является функцией ключа, которая гарантирует, что любые изменения, сделанные с автоматической настройки не приводит к снижению производительности hello рабочей нагрузки.

В базе данных SQL Azure есть две функции автоматической настройки:

 -  **Автоматическое управление индексами**: определяет индексы, которые необходимо добавить в базу данных или удалить.
 -  **Автоматическое изменение плана**: определяет проблемные планы и исправляет проблемы производительности плана SQL (ожидается в ближайшее время, уже доступна в SQL Server 2017).

## <a name="automatic-index-management"></a>Автоматическое управление индексами

В базе данных SQL Azure управлять индексами легко, так как база данных SQL Azure отслеживает рабочую нагрузку и всегда обеспечивает оптимальную индексацию данных. Правильное проектирование индекса имеет решающее значение для обеспечения оптимальной производительности при рабочей нагрузке. Автоматическое управление индексами поможет оптимизировать их. Управление индексами автоматического можно устранять проблемы с производительностью в неправильно индексированных баз данных, или сохранить и оптимизируйте индексы по hello существующей схемы базы данных. 

### <a name="why-do-you-need-index-management"></a>Для чего необходимо управление индексами

Индексы ускорить некоторые запросы на чтение данных из таблиц hello. Тем не менее они могут замедлить hello запросов, которые обновляют данные. Требуется toocarefully анализ при toocreate индекса, и какие столбцы необходимо tooinclude в hello индекса. Некоторые индексы могут оказаться ненужными через некоторое время. Таким образом, потребовалось бы tooperiodically определить и удалить индексы hello не отображают никаких преимуществ. Если сейчас пропустить Здравствуйте неиспользуемых индексов, будет снижаться производительность hello запросов, которые обновляют данные без никаких преимуществ на hello запросов на чтение данных. Неиспользуемые индексы также влиять на общую производительность системы hello, так как дополнительные обновления требуют ненужные ведения журнала.

Поиск hello оптимальный набор индексов, которые повышают производительность запросов hello, считывать данные из таблиц и оказывать минимальное влияние на обновления может потребоваться непрерывные и сложного анализа.

База данных SQL Azure использует встроенные аналитики и расширенных правил, анализ запросов, определите индексы, которые были бы оптимально подходит для вашей текущей рабочей нагрузкой и hello индексы могут быть удалены. База данных SQL Azure гарантирует, что минимальный набор необходимых индексов, оптимизирующие hello запросов на чтение данных, с привет к минимуму влияние на hello других запросов.

### <a name="how-tooidentify-indexes-that-need-toobe-changed-in-your-database"></a>Как tooidentify индексы, toobe необходимость изменения в базе данных?

База данных SQL Azure упрощает процесс управления индексами. Вместо hello трудоемкий процесс анализа рабочей нагрузки вручную и мониторинга индекса базы данных SQL Azure анализа рабочей нагрузки, определяет hello запросы, которые могут выполняться быстрее с новым индексом и идентифицирует неиспользуемые или повторяющиеся индексы. Дополнительные сведения об идентификации индексов, которые необходимо изменить, см. в статье [Использование помощника по базам данных SQL на портале Azure](sql-database-advisor-portal.md).

### <a name="automatic-index-management-considerations"></a>Рекомендации по автоматическому управлению индексами

Если обнаружится, что встроенные правила hello улучшить производительность hello базы данных, можно разрешить автоматическое управление индексов базы данных Azure SQL.

Действия, необходимые toocreate необходимые индексы в базах данных SQL Azure может потреблять ресурсы и временно повлиять на производительность рабочей нагрузки. влияние на производительность рабочей нагрузки, база данных SQL Azure создание индекса hello toominimize находит окно hello соответствующее время для любой операции управления индекса. Действия по настройке будет отложена, если база данных hello должна tooexecute ресурсов рабочей нагрузки и запущена при hello базы данных имеет достаточно неиспользуемые ресурсы, которые могут использоваться для задач обслуживания hello. Одна из важных функций в индекс автоматического управления используется для подтверждения hello действий. Когда база данных SQL Azure создает или удаляет индекс, процесс мониторинга анализирует производительность tooverify вашей рабочей нагрузки, что действие hello Улучшенная производительность hello. Если его не удалось перевести существенным усовершенствованием — действие hello возвращается немедленно. Таким образом, база данных SQL Azure гарантирует, что автоматические действия не снижают производительность при рабочей нагрузке. Индексы, созданные путем автоматической настройки прозрачны для операции обслуживания hello hello базовой схемы. Изменения схемы, например, удаление или переименование столбцов наличием hello автоматически созданные индексов не блокируются. Индексы, которые были автоматически созданы базой данных SQL Azure, немедленно удаляются при удалении связанных таблиц или столбцов.

## <a name="automatic-plan-choice-correction"></a>Автоматическое исправление выбора плана

Автоматическое исправление плана — это новая функция автоматической настройки, добавленная в SQL Server 2017 CTP 2.0, которая определяет неправильное поведение планов SQL. Функция автоматической настройки будет добавлена в ближайшее время в базе данных SQL Azure. Дополнительные сведения см.в статье [Автоматическая настройка](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).

## <a name="next-steps"></a>Дальнейшие действия

- автоматической настройки в базе данных SQL Azure и позволяют автоматического tooenable функция настройки полностью управлять рабочей нагрузки см. в разделе [включить автоматическую настройку](sql-database-automatic-tuning-enable.md).
- Ручная настройка toouse, можно просмотреть [рекомендаций на портале Azure](sql-database-advisor-portal.md) и вручную применить hello из них, которые повышают производительность запросов.
