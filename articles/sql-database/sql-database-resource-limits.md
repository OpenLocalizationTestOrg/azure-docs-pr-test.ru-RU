---
title: "Ограничения ресурсов базы данных SQL Azure | Документация Майкрософт"
description: "На этой странице описываются некоторые общие ограничения ресурсов для Базы данных SQL Azure."
services: sql-database
documentationcenter: na
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: 884e519f-23bb-4b73-a718-00658629646a
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/12/2017
ms.author: carlrab
ms.openlocfilehash: e75458db79e6c15f8d5155b71f04a20fa21818ff
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="azure-sql-database-resource-limits"></a>Ограничения ресурсов базы данных SQL Azure
## <a name="overview"></a>Обзор
База данных SQL Azure управляет ресурсами, доступными для базы данных, с использованием двух различных механизмов: **управления ресурсами** и **принудительного применения ограничений**. В этой статье объясняются эти два основных элемента управления ресурсами.

## <a name="resource-governance"></a>управление ресурсами;
Одна из целей проектирования уровней обслуживания "Базовый", "Стандартный", "Премиум" и Premium RS — обеспечить такое поведение базы данных SQL Azure, как если бы она работала на отдельном компьютере в полной изоляции от других баз данных. Управление ресурсами эмулирует такое поведение. В совокупности ресурсы, назначенные базе данных и связанные с ЦП, объемом памяти, а также операциями ввода-вывода журнала и данных, могут использоваться по максимуму. В таком случае механизм управления ресурсами будет отправлять запросы в очередь на выполнение и назначать им ресурсы по мере их высвобождения.

Как и на выделенном компьютере, использование всех доступных ресурсов приводит к задержке выполнения текущих выполняемых запросов, что может вызвать превышение времени ожидания команд на клиенте. Приложения с агрессивной логикой повтора попыток и приложения, которые выполняют запросы к базе данных с высокой частотой, могут получать сообщения об ошибках при попытке выполнения новых запросов, если достигнут лимит одновременных запросов.

### <a name="recommendations"></a>Рекомендации
При приближении к максимальной загруженности базы данных отслеживайте показатели использования ресурсов, а также среднее время отклика на запросы. При обнаружении увеличенных задержек выполнения запросов обычно есть три варианта:

1. Уменьшить объем входящих запросов к базе данных, чтобы предотвратить превышение времени ожидания и накопление запросов.
2. Назначить базе данных более высокий уровень производительности.
3. Оптимизировать запросы для уменьшения использования ресурсов каждым из них. Для получения дополнительных сведений см. раздел "Настройка запросов и подсказки" в статье "Руководство по производительности базы данных SQL Azure".

## <a name="enforcement-of-limits"></a>принудительные ограничения;
При достижении лимита для ресурсов, отличных от ЦП, памяти, ввода-вывода журнала и ввода-вывода данных, новые запросы принудительно запрещаются. Когда база данных достигает заданного максимального размера, операции вставки и обновления, которые увеличивают объем данных, завершаются ошибкой. А операции выделения и удаления продолжают выполнятся. Клиенты получат [сообщение об ошибке](sql-database-develop-error-messages.md) в зависимости от достигнутого лимита.

Например, ограничено количество подключений к базе данных SQL и количество одновременных запросов, которые могут быть обработаны. Для поддержки пулов соединений база данных SQL разрешает большее количество подключений к базе данных, чем количество одновременных запросов. Хотя приложение может легко регулировать число доступных подключений, объем параллельных запросов зачастую существенно труднее оценивать и контролировать. Возникновение ошибок особенно вероятно во время пиковых нагрузок, когда либо приложение отправляет слишком много запросов, либо база данных достигает лимита ресурсов и начинает накапливать рабочие потоки из-за все дольше выполняемых запросов.

## <a name="service-tiers-and-performance-levels"></a>Уровни служб и уровни производительности
Существуют уровни служб и уровни производительности для отдельных баз данных и эластичных пулов.

### <a name="single-databases"></a>Отдельные базы данных
Ограничения для одной базы данных определяются уровнем служб и уровнем производительности базы данных. В следующей таблице описываются характеристики баз данных уровня "Базовый", "Стандартный", "Премиум" и Premium RS на различных уровнях производительности.

[!INCLUDE [SQL DB service tiers table](../../includes/sql-database-service-tiers-table.md)]

> [!IMPORTANT]
> Клиенты, использующие уровни производительности P11 и P15, могут использовать до 4 ТБ предоставленного хранилища без дополнительной платы. Возможность использования до 4 ТБ предоставленного хранилища в настоящее время доступна в следующих регионах: восточная часть США 2, западная часть США, Виргиния (для обслуживания государственных организаций США), Западная Европа, Центральная Германия, Юго-Восточная Азия, восточная Япония, восточная Австралия, Центральная Канада и Восточная Канада.
>

### <a name="elastic-pools"></a>Пулы эластичных БД
[Пулы эластичных БД](sql-database-elastic-pool.md) совместно используют ресурсы между базами данных в пуле. В следующей таблице описываются характеристики эластичных пулов уровня "Базовый", "Стандартный", "Премиум" и "Премиум RS".

[!INCLUDE [SQL DB service tiers table for elastic databases](../../includes/sql-database-service-tiers-table-elastic-pools.md)]

Расширенное определение каждого ресурса, указанного в предыдущих таблицах, см. в описаниях в разделе [Возможности и ограничения уровней служб](sql-database-performance-guidance.md#service-tier-capabilities-and-limits). Общие сведения об уровнях служб см. в статье [Уровни служб базы данных SQL для отдельных баз данных и пулов эластичных баз данных](sql-database-service-tiers.md).

## <a name="other-sql-database-limits"></a>Другие ограничения базы данных SQL
| Область | Ограничение | Описание |
| --- | --- | --- |
| Базы данных, использующие автоматический экспорт для каждой подписки |10 |Автоматический экспорт позволяет создать настраиваемое расписание резервного копирования баз данных SQL. Срок действия предварительной версии этой функции истекает 1 марта 2017 г.  |
| Баз данных на сервер |До 5000 |На каждом сервере может размещаться не более 5000 баз данных. |
| Количество DTU для каждого сервера |45000 |Для подготовки изолированных баз данных и эластичных пулов для каждого сервера доступно 45000 DTU. Общее количество изолированных баз данных и пулов для каждого сервера ограничено только числом DTU сервера.  

> [!IMPORTANT]
> В настоящий момент служба Azure SQL Database Automated Export находится на этапе предварительной версии, и ее использование будет прекращено 1 марта 2017 года. Начиная с 1 декабря 2016 года завершается поддержка автоматического экспорта для всех баз данных SQL. Все существующие задания автоматического экспорта продолжат работать до 1 марта 2017 года. После 1 декабря 2016 года можно использовать [долгосрочное хранение резервных копий](sql-database-long-term-retention.md) или [службу автоматизации Azure](../automation/automation-intro.md), чтобы периодически архивировать базы данных SQL с помощью PowerShell согласно выбранному расписанию. Пример сценария можно скачать из [репозитория GitHub](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export).
>


## <a name="resources"></a>Ресурсы
[Лимиты, квоты и ограничения подписки и обслуживания Azure](../azure-subscription-service-limits.md)

[Уровни служб и уровни производительности в базе данных SQL Azure](sql-database-service-tiers.md)

[Сообщения об ошибках для клиентских программ базы данных SQL](sql-database-develop-error-messages.md)
