---
title: "aaaAzure ограничения ресурсов для базы данных SQL | Документы Microsoft"
description: "На этой странице описываются некоторые общие ограничения ресурсов для Базы данных SQL Azure."
services: sql-database
documentationcenter: na
author: CarlRabeler
manager: jhubbard
editor: 
ms.assetid: 884e519f-23bb-4b73-a718-00658629646a
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/12/2017
ms.author: carlrab
ms.openlocfilehash: 3e7be4fdc74e802d37274690531caaf138bcedb0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-resource-limits"></a><span data-ttu-id="f8e17-103">Ограничения ресурсов базы данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="f8e17-103">Azure SQL Database resource limits</span></span>
## <a name="overview"></a><span data-ttu-id="f8e17-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="f8e17-104">Overview</span></span>
<span data-ttu-id="f8e17-105">База данных SQL Azure управляет hello ресурсах tooa доступны в базе данных с помощью двух разных механизмов: **управления ресурсами** и **принудительного применения ограничения**.</span><span class="sxs-lookup"><span data-stu-id="f8e17-105">Azure SQL Database manages hello resources available tooa database using two different mechanisms: **Resources Governance** and **Enforcement of Limits**.</span></span> <span data-ttu-id="f8e17-106">В этой статье объясняются эти два основных элемента управления ресурсами.</span><span class="sxs-lookup"><span data-stu-id="f8e17-106">This topic explains these two main areas of resource management.</span></span>

## <a name="resource-governance"></a><span data-ttu-id="f8e17-107">управление ресурсами;</span><span class="sxs-lookup"><span data-stu-id="f8e17-107">Resource governance</span></span>
<span data-ttu-id="f8e17-108">Одной из задач проектирования hello уровней обслуживания Basic, Standard, Premium и Premium RS hello предназначен для toobehave базы данных SQL Azure, как если бы база данных hello работает в собственном компьютере, изолированная от других баз данных.</span><span class="sxs-lookup"><span data-stu-id="f8e17-108">One of hello design goals of hello Basic, Standard, Premium, and Premium RS service tiers is for Azure SQL Database toobehave as if hello database is running on its own machine, isolated from other databases.</span></span> <span data-ttu-id="f8e17-109">Управление ресурсами эмулирует такое поведение.</span><span class="sxs-lookup"><span data-stu-id="f8e17-109">Resource governance emulates this behavior.</span></span> <span data-ttu-id="f8e17-110">Если суммарный hello использования ресурсов достигает очереди запросов при выполнении hello максимальное доступных ЦП, памяти, ввода-вывода журнала и базы данных назначенного toohello ресурсы ввода-вывода данных, управление ресурсами и назначьте toohello в очередь запросы по мере освобождения ресурсов.</span><span class="sxs-lookup"><span data-stu-id="f8e17-110">If hello aggregated resource utilization reaches hello maximum available CPU, Memory, Log I/O, and Data I/O resources assigned toohello database, resource governance queues queries in execution and assign resources toohello queued queries as they free up.</span></span>

<span data-ttu-id="f8e17-111">Как на выделенном компьютере, используя все доступные ресурсы приведет к более длительному выполнению текущих выполняющихся запросов, который может привести к времени ожидания команды на приветствия клиента.</span><span class="sxs-lookup"><span data-stu-id="f8e17-111">As on a dedicated machine, utilizing all available resources results in a longer execution of currently executing queries, which can result in command timeouts on hello client.</span></span> <span data-ttu-id="f8e17-112">Приложения с агрессивной логикой повторного выполнения и приложения, выполняющие запросы hello базы данных с высокой частотой могут столкнуться сообщения об ошибках при попытке tooexecute новые запросы, когда был достигнут предел hello параллельных запросов.</span><span class="sxs-lookup"><span data-stu-id="f8e17-112">Applications with aggressive retry logic and applications that execute queries against hello database with a high frequency can encounter errors messages when trying tooexecute new queries when hello limit of concurrent requests has been reached.</span></span>

### <a name="recommendations"></a><span data-ttu-id="f8e17-113">Рекомендации</span><span class="sxs-lookup"><span data-stu-id="f8e17-113">Recommendations:</span></span>
<span data-ttu-id="f8e17-114">Отслеживать использование ресурсов hello и hello среднего времени отклика запросов при приближении hello максимальной загрузки базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8e17-114">Monitor hello resource utilization and hello average response times of queries when nearing hello maximum utilization of a database.</span></span> <span data-ttu-id="f8e17-115">При обнаружении увеличенных задержек выполнения запросов обычно есть три варианта:</span><span class="sxs-lookup"><span data-stu-id="f8e17-115">When encountering higher query latencies you generally have three options:</span></span>

1. <span data-ttu-id="f8e17-116">Снизить hello количество входящих запросов toohello базы данных tooprevent время ожидания и hello накопление запросов.</span><span class="sxs-lookup"><span data-stu-id="f8e17-116">Reduce hello number of incoming requests toohello database tooprevent timeout and hello pile up of requests.</span></span>
2. <span data-ttu-id="f8e17-117">Назначьте выше toohello уровня производительности базы данных.</span><span class="sxs-lookup"><span data-stu-id="f8e17-117">Assign a higher performance level toohello database.</span></span>
3. <span data-ttu-id="f8e17-118">Оптимизируйте использование ресурсов hello tooreduce запросы для каждого запроса.</span><span class="sxs-lookup"><span data-stu-id="f8e17-118">Optimize queries tooreduce hello resource utilization of each query.</span></span> <span data-ttu-id="f8e17-119">Дополнительные сведения см. в разделе hello Настройка запросов и подсказки раздел статьи hello руководство по производительности базы данных SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="f8e17-119">For more information, see hello Query Tuning/Hinting section in hello Azure SQL Database Performance Guidance article.</span></span>

## <a name="enforcement-of-limits"></a><span data-ttu-id="f8e17-120">принудительные ограничения;</span><span class="sxs-lookup"><span data-stu-id="f8e17-120">Enforcement of limits</span></span>
<span data-ttu-id="f8e17-121">При достижении лимита для ресурсов, отличных от ЦП, памяти, ввода-вывода журнала и ввода-вывода данных, новые запросы принудительно запрещаются.</span><span class="sxs-lookup"><span data-stu-id="f8e17-121">Resources other than CPU, Memory, Log I/O, and Data I/O are enforced by denying new requests when limits are reached.</span></span> <span data-ttu-id="f8e17-122">База данных достигает hello настроить максимальный предел размера, вставки и обновления, увеличьте размер данных к сбою, выбирает и удаления продолжено toowork.</span><span class="sxs-lookup"><span data-stu-id="f8e17-122">When a database reaches hello configured maximum size limit, inserts and updates that increase data size fail, while selects and deletes continue toowork.</span></span> <span data-ttu-id="f8e17-123">Клиенты получают [сообщение об ошибке](sql-database-develop-error-messages.md) в зависимости от того, ограничение hello, достигнут.</span><span class="sxs-lookup"><span data-stu-id="f8e17-123">Clients receive an [error message](sql-database-develop-error-messages.md) depending on hello limit that has been reached.</span></span>

<span data-ttu-id="f8e17-124">Например ограничены hello подключения базы данных SQL tooa а hello число одновременных запросов, которые могут быть обработаны.</span><span class="sxs-lookup"><span data-stu-id="f8e17-124">For example, hello number of connections tooa SQL database and hello number of concurrent requests that can be processed are restricted.</span></span> <span data-ttu-id="f8e17-125">База данных SQL позволяет hello число подключений toohello базы данных toobe больше hello число одновременных запросов toosupport подключений в пул.</span><span class="sxs-lookup"><span data-stu-id="f8e17-125">SQL Database allows hello number of connections toohello database toobe greater than hello number of concurrent requests toosupport connection pooling.</span></span> <span data-ttu-id="f8e17-126">Хотя hello число доступных подключений можно легко управлять приложения hello, hello число параллельных запросов чаще всего раз сложнее tooestimate и toocontrol.</span><span class="sxs-lookup"><span data-stu-id="f8e17-126">While hello number of connections that are available can easily be controlled by hello application, hello number of parallel requests is often times harder tooestimate and toocontrol.</span></span> <span data-ttu-id="f8e17-127">Особенно во время пиковых нагрузок, когда hello приложение отправляет слишком много запросов или hello база данных достигает ограничения на ресурсы и начинает накапливать рабочие потоки из-за toolonger выполнения запросов, могут появиться ошибки.</span><span class="sxs-lookup"><span data-stu-id="f8e17-127">Especially during peak loads when hello application either sends too many requests or hello database reaches its resource limits and starts piling up worker threads due toolonger running queries, errors can be encountered.</span></span>

## <a name="service-tiers-and-performance-levels"></a><span data-ttu-id="f8e17-128">Уровни служб и уровни производительности</span><span class="sxs-lookup"><span data-stu-id="f8e17-128">Service tiers and performance levels</span></span>
<span data-ttu-id="f8e17-129">Существуют уровни служб и уровни производительности для отдельных баз данных и эластичных пулов.</span><span class="sxs-lookup"><span data-stu-id="f8e17-129">There are service tiers and performance levels for both single database and elastic pools.</span></span>

### <a name="single-databases"></a><span data-ttu-id="f8e17-130">Отдельные базы данных</span><span class="sxs-lookup"><span data-stu-id="f8e17-130">Single databases</span></span>
<span data-ttu-id="f8e17-131">Для одной базы данных ограничения hello базы данных определяются hello базы данных службы уровня и уровня производительности.</span><span class="sxs-lookup"><span data-stu-id="f8e17-131">For a single database, hello limits of a database are defined by hello database service tier and performance level.</span></span> <span data-ttu-id="f8e17-132">Привет, в следующей таблице описаны характеристики hello баз данных Basic, Standard, Premium и Premium RS на различные уровни производительности.</span><span class="sxs-lookup"><span data-stu-id="f8e17-132">hello following table describes hello characteristics of Basic, Standard, Premium, and Premium RS databases at varying performance levels.</span></span>

[!INCLUDE [SQL DB service tiers table](../../includes/sql-database-service-tiers-table.md)]

> [!IMPORTANT]
> <span data-ttu-id="f8e17-133">Клиенты, использующие P11 и P15 уровни производительности можно использовать too4 ТБ памяти — включены без дополнительной платы.</span><span class="sxs-lookup"><span data-stu-id="f8e17-133">Customers using P11 and P15 performance levels can use up too4 TB of included storage at no additional charge.</span></span> <span data-ttu-id="f8e17-134">Этот параметр 4 ТБ в настоящее время доступен в следующих регионах hello: нам East2, Запад США, Вирджиния государственных организаций США, Западной Европе, Германия центра, Южная Восточная Азия, восток Японии, Восточная Австралия, Канады центра и Восточная Канада.</span><span class="sxs-lookup"><span data-stu-id="f8e17-134">This 4 TB option is currently available in hello following regions: US East2, West US, US Gov Virginia, West Europe, Germany Central, South East Asia, Japan East, Australia East, Canada Central, and Canada East.</span></span>
>

### <a name="elastic-pools"></a><span data-ttu-id="f8e17-135">Пулы эластичных БД</span><span class="sxs-lookup"><span data-stu-id="f8e17-135">Elastic pools</span></span>
<span data-ttu-id="f8e17-136">[Эластичные пулы](sql-database-elastic-pool.md) общий доступ к ресурсам между базами данных в пуле hello.</span><span class="sxs-lookup"><span data-stu-id="f8e17-136">[Elastic pools](sql-database-elastic-pool.md) share resources across databases in hello pool.</span></span> <span data-ttu-id="f8e17-137">Привет, в следующей таблице описаны характеристики hello Basic, Standard, Premium и Premium RS эластичные пулы.</span><span class="sxs-lookup"><span data-stu-id="f8e17-137">hello following table describes hello characteristics of Basic, Standard, Premium, and Premium RS elastic pools.</span></span>

[!INCLUDE [SQL DB service tiers table for elastic databases](../../includes/sql-database-service-tiers-table-elastic-pools.md)]

<span data-ttu-id="f8e17-138">Расширенные определения каждого ресурса, перечисленных в предыдущих таблицах hello, в разделе описания hello в [уровня возможности и ограничения службы](sql-database-performance-guidance.md#service-tier-capabilities-and-limits).</span><span class="sxs-lookup"><span data-stu-id="f8e17-138">For an expanded definition of each resource listed in hello previous tables, see hello descriptions in [Service tier capabilities and limits](sql-database-performance-guidance.md#service-tier-capabilities-and-limits).</span></span> <span data-ttu-id="f8e17-139">Общие сведения об уровнях служб см. в статье [Уровни служб базы данных SQL для отдельных баз данных и пулов эластичных баз данных](sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="f8e17-139">For an overview of service tiers, see [Azure SQL Database Service Tiers and Performance Levels](sql-database-service-tiers.md).</span></span>

## <a name="other-sql-database-limits"></a><span data-ttu-id="f8e17-140">Другие ограничения базы данных SQL</span><span class="sxs-lookup"><span data-stu-id="f8e17-140">Other SQL Database limits</span></span>
| <span data-ttu-id="f8e17-141">Область</span><span class="sxs-lookup"><span data-stu-id="f8e17-141">Area</span></span> | <span data-ttu-id="f8e17-142">Ограничение</span><span class="sxs-lookup"><span data-stu-id="f8e17-142">Limit</span></span> | <span data-ttu-id="f8e17-143">Описание</span><span class="sxs-lookup"><span data-stu-id="f8e17-143">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f8e17-144">Базы данных, использующие автоматический экспорт для каждой подписки</span><span class="sxs-lookup"><span data-stu-id="f8e17-144">Databases using Automated export per subscription</span></span> |<span data-ttu-id="f8e17-145">10</span><span class="sxs-lookup"><span data-stu-id="f8e17-145">10</span></span> |<span data-ttu-id="f8e17-146">Автоматический экспорт можно toocreate пользовательское расписание резервного копирования баз данных SQL.</span><span class="sxs-lookup"><span data-stu-id="f8e17-146">Automated export allows you toocreate a custom schedule for backing up your SQL databases.</span></span> <span data-ttu-id="f8e17-147">Hello предварительной версии этой функции будет заканчиваться на 1 марта 2017 г.</span><span class="sxs-lookup"><span data-stu-id="f8e17-147">hello preview of this feature will end on March 1, 2017.</span></span>  |
| <span data-ttu-id="f8e17-148">Баз данных на сервер</span><span class="sxs-lookup"><span data-stu-id="f8e17-148">Databases per server</span></span> |<span data-ttu-id="f8e17-149">Копирование too5000</span><span class="sxs-lookup"><span data-stu-id="f8e17-149">Up too5000</span></span> |<span data-ttu-id="f8e17-150">Копирование too5000 разрешено баз данных на каждом сервере.</span><span class="sxs-lookup"><span data-stu-id="f8e17-150">Up too5000 databases are allowed per server.</span></span> |
| <span data-ttu-id="f8e17-151">Количество DTU для каждого сервера</span><span class="sxs-lookup"><span data-stu-id="f8e17-151">DTUs per server</span></span> |<span data-ttu-id="f8e17-152">45000</span><span class="sxs-lookup"><span data-stu-id="f8e17-152">45000</span></span> |<span data-ttu-id="f8e17-153">Для подготовки изолированных баз данных и эластичных пулов для каждого сервера доступно 45000 DTU.</span><span class="sxs-lookup"><span data-stu-id="f8e17-153">45000 DTUs are allowed per server for provisioning standalone databases and elastic pools.</span></span> <span data-ttu-id="f8e17-154">Hello общее число автономные базы данных и пулов на сервере ограничивается только число hello server Dtu.</span><span class="sxs-lookup"><span data-stu-id="f8e17-154">hello total number of standalone databases and pools allowed per server is limited only by hello number of server DTUs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="f8e17-155">В настоящий момент служба Azure SQL Database Automated Export находится на этапе предварительной версии, и ее использование будет прекращено 1 марта 2017 года.</span><span class="sxs-lookup"><span data-stu-id="f8e17-155">Azure SQL Database Automated Export is now in preview and will be retired on March 1, 2017.</span></span> <span data-ttu-id="f8e17-156">Начиная с 1-го декабря 2016, больше не будет возможности tooconfigure автоматического экспорта в любой базе данных SQL.</span><span class="sxs-lookup"><span data-stu-id="f8e17-156">Starting December 1st, 2016, you will no longer be able tooconfigure automated export on any SQL database.</span></span> <span data-ttu-id="f8e17-157">Все существующие задания автоматического экспорта по-прежнему toowork до 1 марта 2017 г.</span><span class="sxs-lookup"><span data-stu-id="f8e17-157">All your existing automated export jobs will continue toowork until March 1st, 2017.</span></span> <span data-ttu-id="f8e17-158">После 1-го декабря 2016 г., можно использовать [долгосрочного хранения резервной копии](sql-database-long-term-retention.md) или [автоматизации Azure](../automation/automation-intro.md) tooarchive баз данных SQL периодически с помощью PowerShell, периодически в соответствии с расписанием tooa по своему усмотрению.</span><span class="sxs-lookup"><span data-stu-id="f8e17-158">After December 1st, 2016, you can use [long-term backup retention](sql-database-long-term-retention.md) or [Azure Automation](../automation/automation-intro.md) tooarchive SQL databases periodically using PowerShell periodically according tooa schedule of your choice.</span></span> <span data-ttu-id="f8e17-159">Пример сценария, можно загрузить hello [образец скрипта из GitHub](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export).</span><span class="sxs-lookup"><span data-stu-id="f8e17-159">For a sample script, you can download hello [sample script from GitHub](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-automation-automated-export).</span></span>
>


## <a name="resources"></a><span data-ttu-id="f8e17-160">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="f8e17-160">Resources</span></span>
[<span data-ttu-id="f8e17-161">Лимиты, квоты и ограничения подписки и обслуживания Azure</span><span class="sxs-lookup"><span data-stu-id="f8e17-161">Azure Subscription and Service Limits, Quotas, and Constraints</span></span>](../azure-subscription-service-limits.md)

[<span data-ttu-id="f8e17-162">Уровни служб и уровни производительности в базе данных SQL Azure</span><span class="sxs-lookup"><span data-stu-id="f8e17-162">Azure SQL Database Service Tiers and Performance Levels</span></span>](sql-database-service-tiers.md)

[<span data-ttu-id="f8e17-163">Сообщения об ошибках для клиентских программ базы данных SQL</span><span class="sxs-lookup"><span data-stu-id="f8e17-163">Error messages for SQL Database client programs</span></span>](sql-database-develop-error-messages.md)
