---
title: "Портал Azure: создание пула эластичных баз данных SQL и управление им | Документация Майкрософт"
description: "Узнайте, как toouse hello портал Azure и toomanage интеллектуальным базы данных SQL, монитор и верного размера производительность базы данных toooptimize масштабируемой эластичного пула и управлять затрат."
keywords: 
services: sql-database
documentationcenter: 
author: ninarn
manager: jhubbard
editor: cgronlun
ms.assetid: 3dc9b7a3-4b10-423a-8e44-9174aca5cf3d
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: NA
ms.date: 06/06/2016
ms.author: ninarn
ms.workload: data-management
ms.topic: article
ms.tgt_pltfrm: NA
ms.openlocfilehash: e0de952bc0c91177f64c04363630783d72435741
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="create-and-manage-an-elastic-pool-with-hello-azure-portal"></a>Создание и управление ими в пуле эластичных БД с hello портал Azure
В этом разделе показано, как toocreate и управления ими масштабируемой [эластичные пулы](sql-database-elastic-pool.md) с hello портал Azure. Можно также создать и управлять Azure эластичного пула с [PowerShell](sql-database-elastic-pool-manage-powershell.md), hello REST API или [C#](sql-database-elastic-pool-manage-csharp.md). Вы также можете использовать [Transact-SQL](sql-database-elastic-pool-manage-tsql.md), чтобы создавать новые базы данных в эластичных пулах и перемещать базы данных в пулы и обратно.

## <a name="create-an-elastic-pool"></a>Создание эластичного пула 

Эластичный пул можно создать двумя способами. Если вы знаете hello пула установки требуется, или начинаться с рекомендацией из службы hello можно сделать ее с нуля. База данных SQL имеет интеллектуальным рекомендует при установке эластичного пула, если это более экономичное решение в зависимости от hello предыдущие данные телеметрии использования для баз данных.

Можно создать несколько пулов на сервере, но нельзя добавить баз данных с разных серверов в hello одного пула. 

> [!NOTE]
> Пулы эластичных БД общедоступны во всех регионах Azure, кроме западной Индии, где сейчас доступна только предварительная версия.  Общедоступные пулы эластичных БД появятся в этом регионе в самое ближайшее время.
>

### <a name="step-1-create-an-elastic-pool"></a>Шаг 1. Создание эластичного пула

Создание из существующего эластичного пула **сервера** панель hello портала — это hello простым способом toomove существующих баз данных в эластичный пул.

> [!NOTE]
> Можно также создать эластичного пула, выполняя поиск **гибкий пул SQL** в hello **Marketplace** или щелкнув **+ добавить** в hello **пулах эластичных БД SQL**Обзор колонку. Все возможности toospecify на новый или существующий сервер через этот пул, рабочий процесс подготовки.
>
>

1. В hello [портал Azure](http://portal.azure.com/), нажмите кнопку **дополнительные службы**  **>**  **серверов SQL Server**и нажмите кнопку hello сервер, содержащий hello Вы хотите tooadd tooan эластичного пула баз данных.
2. Щелкните **Создать пул**.

    ![Добавление пула tooa сервера](./media/sql-database-elastic-pool-create-portal/new-pool.png)

    **-ИЛИ-**

    Может появиться сообщение о том, что рекомендуется использовать эластичные пулы для сервера hello. Щелкните hello toosee сообщение hello, рекомендуемые пулы основании данные телеметрии использования журнала базы данных, выберите toosee уровня hello Дополнительные сведения и настройки пула hello. В разделе [понять пула рекомендаций](#understand-elastic-pool-recommendations) далее в этом разделе как hello рекомендации.

    ![рекомендуемый пул](./media/sql-database-elastic-pool-create-portal/recommended-pool.png)

3. Hello **эластичного пула** колонке отображается которого задается hello параметры для пула. Если вы нажали кнопку **новый пул** hello в предыдущем шаге, является hello ценовой категории **стандартные** по умолчанию и базы данных не выбран. Можно создать пул пустой или выбрать несколько баз данных из этого toomove сервера в пул hello. При создании рекомендуемый пул hello рекомендуется ценовой категории параметров производительности и подставляются список баз данных, но может быть изменено.

    ![Настройка эластичного пула](./media/sql-database-elastic-pool-create-portal/configure-elastic-pool.png)

4. Укажите имя для эластичного пула hello, или оставьте его значения по умолчанию hello.

### <a name="step-2-choose-a-pricing-tier"></a>Шаг 2. Выбор ценовой категории

Hello пула Ценовая категория определяет hello преимущества доступных toohello elastics в пул hello и hello максимальное число edtu, которое (eDTU MAX) и базы данных доступны tooeach хранилища (ГБ). Дополнительные сведения см. в статье "Уровни служб".

Щелкните toochange hello ценовую категорию для пула hello **Ценовая категория**, нажмите кнопку hello ценовой категории и нажмите кнопку **выберите**.

> [!IMPORTANT]
> После Выбор ценовой категории hello и фиксация изменений, нажав кнопку **ОК** на последнем шаге hello не будет возможности toochange hello ценовой категории hello пула. toochange hello ценовую категорию существующего пула эластичных БД, создать эластичного пула в нужный ценовой категории hello перенести hello баз данных toothis новый пул.
>

![Выберите ценовую категорию](./media/sql-database-elastic-pool-create-portal/pricing-tier.png)

### <a name="step-3-configure-hello-pool"></a>Шаг 3: Настройка пула hello

После настройки hello ценовой категории, нажмите кнопку Настройка пула, добавления базы данных, набор Edtu пула и хранилища (пул ГБ), а значение hello min и max число Edtu для hello elastics в пуле hello.

1. Щелкните **Настроить пул**
2. Выберите базы данных hello требуется tooadd toohello пула. Этот шаг необязателен при создании пула hello. Базы данных можно добавить после создания пула hello.
    tooadd баз данных, нажмите кнопку **добавления базы данных**, щелкните hello баз данных требуется tooadd и нажмите кнопку hello **выберите** кнопки.

    ![Добавить базы данных](./media/sql-database-elastic-pool-create-portal/add-databases.png)

    Здравствуйте, если вы работаете с базами данных hello достаточно данных телеметрии истории использования, **Оценка использования eDTU и ГБ** диаграммы и hello **фактический объем использования eDTU** toohelp обновление линейчатая диаграмма, конфигурации решения. Кроме того, служба hello может привести к toohelp сообщение рекомендации вы верного размера hello пула. В разделе [Dynamic Recommendations](#understand-elastic-pool-recommendations).

3. Использование элементов управления hello в hello **настроить пул** tooexplore параметров страницы и настроить пул. Дополнительные сведения об ограничениях для каждого уровня обслуживания см. в разделе [eDTU и размеры хранилища для пулов эластичных БД](sql-database-elastic-pool.md#edtu-and-storage-limits-for-elastic-pools). Подробные рекомендации по выбору правильного размера эластичного пула см. в статье [Когда следует использовать эластичный пул?](sql-database-elastic-pool.md) Дополнительные сведения о параметрах пула см. в разделе [Свойства пулов эластичных БД](sql-database-elastic-pool.md#database-properties-for-pooled-databases).

    ![Настройка эластичного пула](./media/sql-database-elastic-pool-create-portal/configure-performance.png)

4. Нажмите кнопку **выберите** в hello **настроить пул** колонке после изменения параметров.
5. Нажмите кнопку **ОК** toocreate hello пула.

## <a name="understand-elastic-pool-recommendations"></a>Пояснения к рекомендациям для эластичного пула

Hello служба базы данных SQL оценивает журнал использования и рекомендует один или несколько пулов, когда это эффективнее, чем при использовании одной базы данных. Каждая рекомендация оснащен уникальное подмножество hello сервера баз данных, которые лучше всего соответствуют hello пула.

![рекомендуемый пул](./media/sql-database-elastic-pool-create-portal/recommended-pool.png)  

Рекомендация Hello пул состоит из:

- Ценовая категория для пула hello (Basic, Standard, Premium или Premium RS)
- соответствующее количество **единиц eDTU пула** (также называемое максимальным количеством единиц eDTU для одного пула);
- Hello **eDTU MAX** и **eDTU Min** каждой базы данных
- Hello список рекомендуемых баз данных для пула hello

> [!IMPORTANT]
> Служба Hello учитывает hello последние 30 дней телеметрии при рекомендации пулов. Для toobe базы данных, считаются кандидатом для эластичного пула он должен существовать по крайней мере в течение 7 дней. Базы данных, которые уже находятся в эластичном пуле, не рассматриваются в качестве кандидатов для рекомендуемого добавления в пул.
>

Служба Hello оценивает потребностей в ресурсах и экономическую эффективность скользящего hello одной базы данных на каждом уровне службы в пулы hello же уровня. Например, все базы данных Standard на сервере оцениваются на предмет возможности их добавления в пул эластичных баз данных уровня Standard. Это означает, что служба hello не предоставить рекомендации между уровнями например стандартной базы данных в пул Premium.

После добавления базы данных toohello пула, динамически создаются рекомендации на основе истории использования hello hello баз данных, которые вы выбрали. Эти рекомендации отображаются только в hello eDTU и ГБ диаграмма использования и рекомендации заголовка вверху hello hello **настроить пул** колонку. Эти рекомендации относятся предполагаемого tooassist вам в создании эластичного пула оптимизированными для конкретных баз данных.

![Динамические рекомендации](./media/sql-database-elastic-pool-create-portal/dynamic-recommendation.png)

## <a name="manage-and-monitor-an-elastic-pool"></a>Мониторинг эластичного пула и управление им

Можно использовать hello Azure toomonitor портала и управления эластичного пула и базами данных hello в пуле hello. Из портала hello можно наблюдать за hello эластичного пула и баз данных hello этого пула. Можно также сделать эластичного пула tooyour набор изменений и отправить все изменения в hello, же время. К таким изменениям относятся добавление или удаление баз данных, изменение параметров эластичного пула и изменение параметров базы данных.

Hello следующий рисунок показывает пример эластичного пула. Hello включает в себя:

*  Диаграммы для наблюдения за использованием ресурсов для эластичного пула hello и hello баз данных, содержащихся в пуле hello.
*  Hello **Настройка** toomake кнопку пула изменяет toohello эластичного пула.
*  Hello **создать базу данных** кнопки, которая создает базу данных и добавляет его toohello текущего пула эластичных БД.
*  Задания обработки эластичных БД, которые помогают управлять большим количеством баз данных, запуская скрипты Transact-SQL для всех баз данных в списке.

![Представление пула][2]

Вы можете перейти toosee tooa конкретного пула его использования ресурсов. По умолчанию hello пула является настроенным tooshow использования хранилища и eDTU для hello последний час. Hello диаграмма может быть настроенный tooshow различных показателей по различным временным окнам.

1. Выберите toowork пула эластичных БД с.
2. В разделе **Наблюдение за пулами эластичных БД** есть диаграмма **Использование ресурсов**. Щелкните диаграмму hello.

    ![Мониторинг эластичного пула][3]

    Hello **метрика** открывает колонку, показывающая подробное представление hello заданных метрики hello указанного интервала времени.   

    ![Выноска "Метрика"][9]

### <a name="toocustomize-hello-chart-display"></a>Отображение диаграмм toocustomize hello

Другие показатели, например процент ЦП, процент операций ввода-ВЫВОДА данных и процент операций ввода-ВЫВОДА журнала, используемый можно редактировать диаграммы hello и toodisplay колонка метрики hello.

1. Щелкните hello колонка метрики, **изменить**.

    ![Щелкните "Изменить".][6]

2. В hello **изменить диаграмму** колонке выберите диапазон времени (за последний час, в настоящее время или прошлая неделя), или нажмите кнопку **пользовательские** tooselect любую дату в диапазоне hello последние две недели. Выберите тип диаграммы hello (линия или), а затем toomonitor ресурсы hello.

   > [!Note]
   > Только диаграмма показателей с hello же единицу измерения могут быть отображены в hello в hello же время. Например если выбрать «eDTU в процентах» затем можно выбрать только других метрик процент как hello единицы измерения.
   >

    ![Щелкните "Изменить".](./media/sql-database-elastic-pool-manage-portal/edit-chart.png)

3. Нажмите кнопку **ОК**.

## <a name="manage-and-monitor-databases-in-an-elastic-pool"></a>Мониторинг баз данных в эластичном пуле и управление ими

Отдельные базы данных также можно отслеживать на наличие потенциальных проблем.

1. В разделе **Мониторинг эластичных баз данных**есть диаграмма, на которой отображаются метрики для пяти баз данных. По умолчанию hello диаграмма отображает hello 5 баз данных в пуле hello по объем использования eDTU среднее в hello последний час. Щелкните диаграмму hello.

    ![Мониторинг эластичного пула][4]

2. Hello **использования ресурсов базы данных** колонке отображается. Это предоставляет подробное представление об использовании hello базы данных в пуле hello. С помощью сетки hello в нижней части колонки hello hello, можно выбрать все базы данных в пуле toodisplay hello его использования в диаграмме hello (копирование баз данных too5). Можно также настроить hello метрики времени окна и отображается в диаграмме hello, щелкнув **изменение диаграммы**.

    ![Колонка "Использование ресурсов баз данных"][8]

### <a name="toocustomize-hello-view"></a>представление toocustomize hello

1. В hello **базы данных об использовании ресурсов** колонка, щелкните **изменение диаграммы**.

    ![Элемент управления "Изменение диаграммы"](./media/sql-database-elastic-pool-manage-portal/db-utilization-blade.png)

2. В hello **изменить** диаграммы колонке выберите диапазон времени (за последний час или за последние 24 часа) или щелкните **пользовательские** tooselect различных ежедневно, hello за toodisplay 2 недели.

    ![Элемент управления "Пользовательский"](./media/sql-database-elastic-pool-manage-portal/editchart-date-time.png)

3. Щелкните hello **баз данных путем сравнения** tooselect раскрывающийся список различные метрики toouse при сравнении баз данных.

    ![Изменение диаграммы hello](./media/sql-database-elastic-pool-manage-portal/edit-comparison-metric.png)

### <a name="tooselect-databases-toomonitor"></a>toomonitor tooselect баз данных

В списке баз данных hello в hello **использования ресурсов базы данных** колонки, можно найти конкретных баз данных путем поиска по страницам hello в списке hello или ввести в hello имя базы данных. Используйте hello флажок tooselect hello базы данных.

![Поиск toomonitor баз данных][7]


## <a name="add-an-alert-tooan-elastic-pool-resource"></a>Добавление оповещений tooan эластичного пула ресурсов

Можно добавить правила tooan пула эластичных БД, отправки электронной почты предупреждения или toopeople tooURL строки конечных точек, достигнув порог загрузки, которую вы настроили hello эластичного пула.

**tooadd ресурс предупреждения tooany:**

1. Щелкните hello **использование ресурсов** tooopen hello диаграммы **метрика** колонке нажмите кнопку **добавить оповещение**и затем заполнить сведения hello в hello **добавить оповещение правило** колонке (**ресурсов** выполняется автоматическая настройка пула toobe hello, которым вы работаете).
2. Введите значение **имя** и **описание** , идентифицирующий предупреждения tooyou hello и получателей hello.
3. Выберите **метрика** нужных tooalert из списка hello.

    Диаграмма Hello динамически показано использование ресурсов для этой метрики toohelp выберите пороговое значение.

4. Выберите **Условие** (больше, меньше и т. д.) и **Пороговое значение**.
5. Выберите **период** hello метрику времени правила должны соблюдаться hello предупреждения триггеры.
6. Нажмите кнопку **ОК**.

Дополнительные сведения см. в статье [Создание оповещений для базы данных SQL Azure с помощью портала Azure](sql-database-insights-alerts-portal.md).

## <a name="move-a-database-into-an-elastic-pool"></a>Перемещение базы данных в пул эластичных БД

Вы можете добавить или удалить базы данных из существующего пула. Hello могут находиться в других пулов. Тем не менее, можно добавить только базы данных, которые находятся на hello же логическом сервере.

1. В колонке hello для пула hello под **эластичных баз данных** щелкните **настроить пул**.

    ![Щелкните "Настроить пул".][1]

2. В hello **настроить пул** колонка, щелкните **добавить toopool**.

    ![Нажмите кнопку Добавить toopool](./media/sql-database-elastic-pool-manage-portal/add-to-pool.png)


3. В hello **добавления баз данных** колонки, базы данных выберите hello или пула toohello tooadd баз данных. Затем щелкните **Выбрать**.

    ![Выберите tooadd баз данных](./media/sql-database-elastic-pool-manage-portal/add-databases-pool.png)

    Hello **настроить пул** колонке теперь списки hello базы данных, выбранной toobe добавлена с его состоянием, задайте слишком**ожидающие**.

    ![Добавление в пул в состоянии ожидания.](./media/sql-database-elastic-pool-manage-portal/pending-additions.png)

3. В hello **Настройка пула колонке**, нажмите кнопку **Сохранить**.

    ![Щелкните Сохранить](./media/sql-database-elastic-pool-manage-portal/click-save.png)

## <a name="move-a-database-out-of-an-elastic-pool"></a>Перемещение базы данных из пула эластичных БД

1. В hello **настроить пул** колонки, базы данных выберите hello или tooremove баз данных.

    ![список баз данных](./media/sql-database-elastic-pool-manage-portal/select-pools-removal.png)

2. Щелкните **Удалить из пула**.

    ![список баз данных](./media/sql-database-elastic-pool-manage-portal/click-remove.png)

    Hello **настроить пул** колонке теперь списки hello базы данных, выбранной toobe удаляется вместе с его статус слишком**ожидающие**.

    ![Просмотр результата добавления и удаления базы данных](./media/sql-database-elastic-pool-manage-portal/pending-removal.png)

3. В hello **Настройка пула колонке**, нажмите кнопку **Сохранить**.

    ![Щелкните Сохранить](./media/sql-database-elastic-pool-manage-portal/click-save.png)

## <a name="change-performance-settings-of-an-elastic-pool"></a>Изменение параметров производительности эластичного пула

При наблюдении за использование ресурсов hello эластичного пула, вы можете заметить, что некоторые изменения требуются. Может быть hello потребности в изменении hello ограничения производительности или хранения. Возможно параметры toochange hello базы данных в пуле hello. Можно изменить настройки hello пула hello в любое время tooget hello оптимальный баланс производительности и стоимости. Дополнительные сведения см. в статье [Когда следует использовать пул эластичных баз данных?](sql-database-elastic-pool.md)

toochange hello число Edtu или хранилище ограничения в расчете на пул и Edtu на базу данных:

1. Откройте hello **настроить пул** колонку.

    В разделе **параметры эластичного пула**, используйте либо параметры пула hello toochange ползунка.

    ![Использование ресурсов пула эластичных БД](./media/sql-database-elastic-pool-manage-portal/resize-pool.png)

2. При изменении приветствия, экрана приветствия показывает hello предполагаемые ежемесячные затраты на изменения hello.

    ![Обновление эластичного пула и новые ежемесячные затраты](./media/sql-database-elastic-pool-manage-portal/pool-change-edtu.png)

## <a name="latency-of-elastic-pool-operations"></a>Задержка операций эластичного пула
* Изменение hello min edtu, которое каждой базы данных или максимальное число Edtu на базу данных обычно завершает более 5 минут.
* Изменение hello число Edtu на пул, зависит от hello общий объем пространства, используемого всех баз данных в пуле hello. Изменение занимает порядка 90 минут или меньше на каждые 100 ГБ. Например если hello общее пространство, занимаемое всех баз данных в пуле hello составляет 200 ГБ, то hello ожидаемого задержка для изменения hello eDTU пула на пул — 3 часа или менее.

## <a name="next-steps"></a>Дальнейшие действия

- toounderstand какие эластичного пула в разделе [эластичный пул баз данных SQL](sql-database-elastic-pool.md).
- Рекомендации по использованию эластичных пулов см. в статье [Когда следует использовать эластичный пул?](sql-database-elastic-pool.md)
- toouse эластичной задания toorun Transact-SQL скрипты на любом количестве баз данных в пуле hello. в разделе [Обзор эластичной задания](sql-database-elastic-jobs-overview.md).
- tooquery через любое количество баз данных в пуле hello. в разделе [Обзор эластичной запросов](sql-database-elastic-query-overview.md).
- Для транзакций любое количество баз данных в пуле hello. в разделе [эластичной транзакции](sql-database-elastic-transactions-overview.md).


<!--Image references-->
[1]: ./media/sql-database-elastic-pool-manage-portal/configure-pool.png
[2]: ./media/sql-database-elastic-pool-manage-portal/basic.png
[3]: ./media/sql-database-elastic-pool-manage-portal/basic-2.png
[4]: ./media/sql-database-elastic-pool-manage-portal/basic-3.png
[5]: ./media/sql-database-elastic-pool-manage-portal/elastic-jobs.png
[6]: ./media/sql-database-elastic-pool-manage-portal/edit-metric.png
[7]: ./media/sql-database-elastic-pool-manage-portal/select-dbs.png
[8]: ./media/sql-database-elastic-pool-manage-portal/db-utilization.png
[9]: ./media/sql-database-elastic-pool-manage-portal/metric.png
