---
title: "Устранение неполадок при развертывании StorSimple | Документация Майкрософт"
description: "Инструкции по диагностике и устранению ошибок при первом развертывании StorSimple."
services: storsimple
documentationcenter: NA
author: alkohli
manager: carmonm
editor: 
ms.assetid: f8352eaa-193c-42d1-8818-0b8e02d8485d
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: TBD
ms.date: 08/18/2016
ms.author: alkohli
ms.openlocfilehash: 230a652ceca8b4643d1984d81383c6628b8e1f5f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshoot-storsimple-device-deployment-issues"></a><span data-ttu-id="d62ef-103">Устранение неполадок в развертывании устройства StorSimple</span><span class="sxs-lookup"><span data-stu-id="d62ef-103">Troubleshoot StorSimple device deployment issues</span></span>
## <a name="overview"></a><span data-ttu-id="d62ef-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="d62ef-104">Overview</span></span>
<span data-ttu-id="d62ef-105">Эта статья содержит полезные рекомендации по устранению неполадок в развертывании системы Microsoft Azure StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-105">This article provides helpful troubleshooting guidance for your Microsoft Azure StorSimple deployment.</span></span> <span data-ttu-id="d62ef-106">Здесь описаны типичные проблемы, возможные причины и рекомендуемые действия для устранения проблем, которые могут возникнуть в процессе настройки StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-106">It describes common issues, possible causes, and recommended steps to help you resolve problems that you might experience when you configure StorSimple.</span></span> <span data-ttu-id="d62ef-107">Эти сведения актуальны как для локального физического устройства StorSimple, так и для виртуального устройства StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-107">This information applies to both the StorSimple on-premises physical device and the StorSimple virtual device.</span></span>

> [!NOTE]
> <span data-ttu-id="d62ef-108">Проблемы с конфигурацией устройства могут возникнуть при первом развертывании устройства или позже, в процессе его эксплуатации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-108">Device configuration-related issues that you may face can occur when you deploy the device for the first time, or they can occur later, when the device is operational.</span></span> <span data-ttu-id="d62ef-109">В данной статье рассматривается устранение неполадок при развертывании устройства впервые.</span><span class="sxs-lookup"><span data-stu-id="d62ef-109">This article focuses on troubleshooting first-time deployment issues.</span></span> <span data-ttu-id="d62ef-110">Инструкции по устранению неполадок в процессе эксплуатации устройства см. в статье [Устранение неполадок в работающем устройстве StorSimple](storsimple-troubleshoot-operational-device.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-110">To troubleshoot an operational device, go to [Troubleshoot operational device issues](storsimple-troubleshoot-operational-device.md).</span></span>
> 
> 

<span data-ttu-id="d62ef-111">В этой статье также описываются средства для устранения неполадок в развертываниях StorSimple, представлен пример пошагового устранения неполадок.</span><span class="sxs-lookup"><span data-stu-id="d62ef-111">This article also describes the tools for troubleshooting StorSimple deployments and provides a step-by-step troubleshooting example.</span></span>

## <a name="first-time-deployment-issues"></a><span data-ttu-id="d62ef-112">Проблемы при первом развертывании</span><span class="sxs-lookup"><span data-stu-id="d62ef-112">First-time deployment issues</span></span>
<span data-ttu-id="d62ef-113">При возникновении проблем во время развертывания устройства в первый раз, обратите внимание на следующее.</span><span class="sxs-lookup"><span data-stu-id="d62ef-113">If you run into an issue when deploying your device for the first time, consider the following:</span></span>

* <span data-ttu-id="d62ef-114">Если вы выполняете поиск и устранение неисправностей на физическом устройстве, убедитесь, что аппаратное обеспечение установлено и настроено так, как это описано в разделах [Установка устройства StorSimple 8100](storsimple-8100-hardware-installation.md) или [Установка устройства StorSimple 8600](storsimple-8600-hardware-installation.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-114">If you are troubleshooting a physical device, make sure that the hardware has been installed and configured as described in [Install your StorSimple 8100 device](storsimple-8100-hardware-installation.md) or [Install your StorSimple 8600 device](storsimple-8600-hardware-installation.md).</span></span>
* <span data-ttu-id="d62ef-115">Проверьте, соблюдены ли предварительные требования, связанные с развертыванием.</span><span class="sxs-lookup"><span data-stu-id="d62ef-115">Check prerequisites for deployment.</span></span> <span data-ttu-id="d62ef-116">Убедитесь, что у вас есть вся информация, перечисленная в [контрольном списке конфигурации развертывания](storsimple-deployment-walkthrough.md#deployment-configuration-checklist).</span><span class="sxs-lookup"><span data-stu-id="d62ef-116">Make sure that you have all the information described in the [deployment configuration checklist](storsimple-deployment-walkthrough.md#deployment-configuration-checklist).</span></span>
* <span data-ttu-id="d62ef-117">Изучите заметки о выпуске StorSimple — документ может содержать описание проблемы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-117">Review the StorSimple Release Notes to see if the problem is described.</span></span> <span data-ttu-id="d62ef-118">Заметки о выпуске содержат обходные пути для известных проблем установки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-118">The release notes include workarounds for known installation problems.</span></span> 

<span data-ttu-id="d62ef-119">Во время развертывания устройства наиболее распространенные проблемы возникают у пользователей при запуске мастера установки и регистрации устройства с помощью Windows PowerShell для StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-119">During device deployment, the most common issues that users face occur when they run the setup wizard and when they register the device via Windows PowerShell for StorSimple.</span></span> <span data-ttu-id="d62ef-120">(Windows PowerShell для StorSimple используется для регистрации и настройки устройства StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-120">(You use Windows PowerShell for StorSimple to register and configure your StorSimple device.</span></span> <span data-ttu-id="d62ef-121">Подробные сведения о регистрации устройства см. в разделе [Шаг 3. Настройка и регистрация устройства средствами Windows PowerShell для StorSimple](storsimple-deployment-walkthrough.md#step-3-configure-and-register-the-device-through-windows-powershell-for-storsimple)).</span><span class="sxs-lookup"><span data-stu-id="d62ef-121">For more information on device registration, see [Step 3: Configure and register your device through Windows PowerShell for StorSimple](storsimple-deployment-walkthrough.md#step-3-configure-and-register-the-device-through-windows-powershell-for-storsimple)).</span></span>

<span data-ttu-id="d62ef-122">Следующие разделы помогут устранить проблемы, возникающие при настройке устройства StorSimple в первый раз.</span><span class="sxs-lookup"><span data-stu-id="d62ef-122">The following sections can help you resolve issues that you encounter when you configure the StorSimple device for the first time.</span></span>

## <a name="first-time-setup-wizard-process"></a><span data-ttu-id="d62ef-123">Работа с мастером установки в первый раз</span><span class="sxs-lookup"><span data-stu-id="d62ef-123">First-time setup wizard process</span></span>
<span data-ttu-id="d62ef-124">Ниже приводится пошаговое описание работы с мастером установки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-124">The following steps summarize the setup wizard process.</span></span> <span data-ttu-id="d62ef-125">Подробные сведения об установке и настройке см. в статье [Развертывание локального устройства StorSimple](storsimple-deployment-walkthrough.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-125">For detailed setup information, see [Deploy your on-premises StorSimple device](storsimple-deployment-walkthrough.md).</span></span>

1. <span data-ttu-id="d62ef-126">Выполните командлет [Invoke-HcsSetupWizard](https://technet.microsoft.com/library/dn688135.aspx) , чтобы запустить мастер установки, который поможет выполнить остальные шаги.</span><span class="sxs-lookup"><span data-stu-id="d62ef-126">Run the [Invoke-HcsSetupWizard](https://technet.microsoft.com/library/dn688135.aspx) cmdlet to start the setup wizard that will guide you through the remaining steps.</span></span> 
2. <span data-ttu-id="d62ef-127">Настройте сеть: мастер установки позволяет настроить параметры сети для сетевого интерфейса DATA 0 на устройстве StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-127">Configure the network: the setup wizard lets you configure network settings for the DATA 0 network interface on your StorSimple device.</span></span> <span data-ttu-id="d62ef-128">К числу этих параметров относятся следующие:</span><span class="sxs-lookup"><span data-stu-id="d62ef-128">These settings include the following:</span></span>
   * <span data-ttu-id="d62ef-129">Виртуальный IP-адрес (VIP), маска подсети и шлюз: командлет [Set-HcsNetInterface](https://technet.microsoft.com/library/dn688161.aspx) выполняется в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="d62ef-129">Virtual IP (VIP), subnet mask, and gateway – The [Set-HcsNetInterface](https://technet.microsoft.com/library/dn688161.aspx) cmdlet is executed in the background.</span></span> <span data-ttu-id="d62ef-130">Он настаивает IP-адрес, маску подсети и шлюз для сетевого интерфейса DATA 0 на устройстве StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-130">It configures the IP address, subnet mask, and gateway for the DATA 0 network interface on your StorSimple device.</span></span>
   * <span data-ttu-id="d62ef-131">Основной DNS-сервер: командлет [Set-HcsDnsClientServerAddress](https://technet.microsoft.com/library/dn688172.aspx) выполняется в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="d62ef-131">Primary DNS server – The [Set-HcsDnsClientServerAddress](https://technet.microsoft.com/library/dn688172.aspx) cmdlet is executed in the background.</span></span> <span data-ttu-id="d62ef-132">Он настраивает параметры DNS для решения StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-132">It configures the DNS settings for your StorSimple solution.</span></span>
   * <span data-ttu-id="d62ef-133">NTP-сервер: командлет [Set-HcsNtpClientServerAddress](https://technet.microsoft.com/library/dn688138.aspx) выполняется в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="d62ef-133">NTP server – The [Set-HcsNtpClientServerAddress](https://technet.microsoft.com/library/dn688138.aspx) cmdlet is executed in the background.</span></span> <span data-ttu-id="d62ef-134">Он настраивает параметры NTP-сервера для решения StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-134">It configures the NTP server settings for your StorSimple solution.</span></span>
   * <span data-ttu-id="d62ef-135">Дополнительный веб-прокси-сервер: командлет [Set-HcsWebProxy](https://technet.microsoft.com/library/dn688154.aspx) выполняется в фоновом режиме.</span><span class="sxs-lookup"><span data-stu-id="d62ef-135">Optional web proxy – The [Set-HcsWebProxy](https://technet.microsoft.com/library/dn688154.aspx) cmdlet is executed in the background.</span></span> <span data-ttu-id="d62ef-136">Он задает и включает конфигурацию веб-прокси для решения StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-136">It sets and enables the web proxy configuration for your StorSimple solution.</span></span>
3. <span data-ttu-id="d62ef-137">Настройка паролей: затем необходимо настроить пароли администратора устройства и диспетчера моментальных снимков StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-137">Set up the passwords: the next step is to set up device administrator and StorSimple Snapshot Manager passwords.</span></span> <span data-ttu-id="d62ef-138">Если выполняется обновление 1, вам не нужно задавать пароль диспетчера моментальных снимков StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-138">If you are running Update 1, then you will not be required to set up the StorSimple Snapshot Manager password.</span></span>
   
   * <span data-ttu-id="d62ef-139">Пароль администратора устройства используется для входа в систему на устройстве.</span><span class="sxs-lookup"><span data-stu-id="d62ef-139">The device administrator password is used to log on to your device.</span></span> <span data-ttu-id="d62ef-140">Пароль устройства по умолчанию: **Password1**.</span><span class="sxs-lookup"><span data-stu-id="d62ef-140">The default device password is **Password1**.</span></span>
   * <span data-ttu-id="d62ef-141">Пароль диспетчера моментальных снимков StorSimple нужен при настройке устройства для использования этого диспетчера.</span><span class="sxs-lookup"><span data-stu-id="d62ef-141">The StorSimple Snapshot Manager password is required when you configure a device to use StorSimple Snapshot Manager.</span></span> <span data-ttu-id="d62ef-142">Сначала нужно задать пароль в мастере установки, а затем его можно будет настраивать и изменять в службе диспетчера StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-142">You need to first set the password in the setup wizard, and then you can set and change it from the StorSimple Manager service.</span></span> <span data-ttu-id="d62ef-143">Этот пароль используется для проверки подлинности устройства в диспетчере моментальных снимков StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-143">This password authenticates the device with StorSimple Snapshot Manager.</span></span>
     
     > [!IMPORTANT]
     > <span data-ttu-id="d62ef-144">Пароли собираются перед регистрацией, но применяются только после успешной регистрации устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-144">Passwords are collected before registration, but applied only after you successfully register the device.</span></span> <span data-ttu-id="d62ef-145">В случае ошибки применения пароля система будет требовать снова указать пароль до тех пор, пока необходимые пароли (соответствующие требованиям по сложности) не будут собраны.</span><span class="sxs-lookup"><span data-stu-id="d62ef-145">If there is a failure to apply a password, you will be prompted to supply the password again until the required passwords (that meet the complexity requirements) are collected.</span></span>
     > 
     > 
4. <span data-ttu-id="d62ef-146">Регистрация устройства: последний шаг — регистрация устройства в службе диспетчера StorSimple, работающей в среде Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="d62ef-146">Register the device: the final step is to register the device with the StorSimple Manager service running in Microsoft Azure.</span></span> <span data-ttu-id="d62ef-147">Для регистрации необходимо [получить ключ регистрации службы](storsimple-manage-service.md#get-the-service-registration-key) на классическом портале Azure и указать его в мастере установки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-147">The registration requires you to [get the service registration key](storsimple-manage-service.md#get-the-service-registration-key) from the Azure classic portal, and provide it in the setup wizard.</span></span> <span data-ttu-id="d62ef-148">После успешной регистрации устройства вам предоставляется ключ шифрования данных службы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-148">After the device is successfully registered, a service data encryption key is provided to you.</span></span> <span data-ttu-id="d62ef-149">Обязательно сохраните этот ключ шифрования в защищенном месте, так как он потребуется для регистрации в службе всех последующих устройств.</span><span class="sxs-lookup"><span data-stu-id="d62ef-149">Be sure to keep this encryption key in a safe location because it will be required to register all subsequent devices with the service.</span></span>

## <a name="common-errors-during-device-deployment"></a><span data-ttu-id="d62ef-150">Распространенные ошибки при развертывании устройства</span><span class="sxs-lookup"><span data-stu-id="d62ef-150">Common errors during device deployment</span></span>
<span data-ttu-id="d62ef-151">В следующих таблицах перечислены распространенные ошибки, которые могут возникнуть в следующих случаях:</span><span class="sxs-lookup"><span data-stu-id="d62ef-151">The following tables list the common errors that you might encounter when you:</span></span>

* <span data-ttu-id="d62ef-152">Настройка обязательных сетевых параметров.</span><span class="sxs-lookup"><span data-stu-id="d62ef-152">Configure the required network settings.</span></span>
* <span data-ttu-id="d62ef-153">Настройка необязательных параметров веб-прокси.</span><span class="sxs-lookup"><span data-stu-id="d62ef-153">Configure the optional web proxy settings.</span></span>
* <span data-ttu-id="d62ef-154">Настройка паролей администратора устройства и диспетчера моментальных снимков StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-154">Set up the device administrator and StorSimple Snapshot Manager passwords.</span></span> 
* <span data-ttu-id="d62ef-155">Регистрация устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-155">Register the device.</span></span> 

## <a name="errors-during-the-required-network-settings"></a><span data-ttu-id="d62ef-156">Ошибки, возникающие при настройке обязательных параметров сети</span><span class="sxs-lookup"><span data-stu-id="d62ef-156">Errors during the required network settings</span></span>
| <span data-ttu-id="d62ef-157">Нет.</span><span class="sxs-lookup"><span data-stu-id="d62ef-157">No.</span></span> | <span data-ttu-id="d62ef-158">Сообщение об ошибке</span><span class="sxs-lookup"><span data-stu-id="d62ef-158">Error message</span></span> | <span data-ttu-id="d62ef-159">Возможные причины</span><span class="sxs-lookup"><span data-stu-id="d62ef-159">Possible causes</span></span> | <span data-ttu-id="d62ef-160">Рекомендуемое действие</span><span class="sxs-lookup"><span data-stu-id="d62ef-160">Recommended action</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="d62ef-161">1</span><span class="sxs-lookup"><span data-stu-id="d62ef-161">1</span></span> |<span data-ttu-id="d62ef-162">Invoke-HcsSetupWizard: эта команда может быть выполнена только на активном контроллере.</span><span class="sxs-lookup"><span data-stu-id="d62ef-162">Invoke-HcsSetupWizard: This command can only be run on the active controller.</span></span> |<span data-ttu-id="d62ef-163">Настройка выполнялась на пассивном контроллере.</span><span class="sxs-lookup"><span data-stu-id="d62ef-163">Configuration was being performed on the passive controller.</span></span> |<span data-ttu-id="d62ef-164">Выполните эту команду на активном контроллере.</span><span class="sxs-lookup"><span data-stu-id="d62ef-164">Run this command from the active controller.</span></span> <span data-ttu-id="d62ef-165">Дополнительные сведения см. в разделе [Определение активного контроллера устройства](storsimple-controller-replacement.md#identify-the-active-controller-on-your-device).</span><span class="sxs-lookup"><span data-stu-id="d62ef-165">For more information, see [Identify an active controller on your device](storsimple-controller-replacement.md#identify-the-active-controller-on-your-device).</span></span> |
| <span data-ttu-id="d62ef-166">2</span><span class="sxs-lookup"><span data-stu-id="d62ef-166">2</span></span> |<span data-ttu-id="d62ef-167">Invoke-HcsSetupWizard: устройство не готово.</span><span class="sxs-lookup"><span data-stu-id="d62ef-167">Invoke-HcsSetupWizard: Device not ready.</span></span> |<span data-ttu-id="d62ef-168">Проблемы с сетевым подключением в интерфейсе DATA 0.</span><span class="sxs-lookup"><span data-stu-id="d62ef-168">There are issues with the network connectivity on DATA 0.</span></span> |<span data-ttu-id="d62ef-169">Проверьте физическое подключение к сети в интерфейсе DATA 0.</span><span class="sxs-lookup"><span data-stu-id="d62ef-169">Check the physical network connectivity on DATA 0.</span></span> |
| <span data-ttu-id="d62ef-170">3</span><span class="sxs-lookup"><span data-stu-id="d62ef-170">3</span></span> |<span data-ttu-id="d62ef-171">Invoke-HcsSetupWizard: конфликт IP-адресов с другой системой в сети (исключение из HRESULT: 0x80070263).</span><span class="sxs-lookup"><span data-stu-id="d62ef-171">Invoke-HcsSetupWizard: There is an IP address conflict with another system on the network (Exception from HRESULT: 0x80070263).</span></span> |<span data-ttu-id="d62ef-172">IP-адрес, предоставленный для DATA 0, уже используется другой системой.</span><span class="sxs-lookup"><span data-stu-id="d62ef-172">The IP supplied for DATA 0 was already in use by another system.</span></span> |<span data-ttu-id="d62ef-173">Укажите новый IP-адрес, который еще не используется.</span><span class="sxs-lookup"><span data-stu-id="d62ef-173">Provide a new IP that is not in use.</span></span> |
| <span data-ttu-id="d62ef-174">4</span><span class="sxs-lookup"><span data-stu-id="d62ef-174">4</span></span> |<span data-ttu-id="d62ef-175">Invoke-HcsSetupWizard: сбой ресурса кластера</span><span class="sxs-lookup"><span data-stu-id="d62ef-175">Invoke-HcsSetupWizard: A cluster resource failed.</span></span> <span data-ttu-id="d62ef-176">(исключение из HRESULT: 0x800713AE).</span><span class="sxs-lookup"><span data-stu-id="d62ef-176">(Exception from HRESULT: 0x800713AE).</span></span> |<span data-ttu-id="d62ef-177">Дублирование виртуальных IP-адресов.</span><span class="sxs-lookup"><span data-stu-id="d62ef-177">Duplicate VIP.</span></span> <span data-ttu-id="d62ef-178">Указанный IP-адрес уже используется.</span><span class="sxs-lookup"><span data-stu-id="d62ef-178">The supplied IP is already in use.</span></span> |<span data-ttu-id="d62ef-179">Укажите новый IP-адрес, который еще не используется.</span><span class="sxs-lookup"><span data-stu-id="d62ef-179">Provide a new IP that is not in use.</span></span> |
| <span data-ttu-id="d62ef-180">5</span><span class="sxs-lookup"><span data-stu-id="d62ef-180">5</span></span> |<span data-ttu-id="d62ef-181">Invoke-HcsSetupWizard: недопустимый IPv4-адрес.</span><span class="sxs-lookup"><span data-stu-id="d62ef-181">Invoke-HcsSetupWizard: Invalid IPv4 address.</span></span> |<span data-ttu-id="d62ef-182">IP-адрес указан в неверном формате.</span><span class="sxs-lookup"><span data-stu-id="d62ef-182">The IP address is provided in an incorrect format.</span></span> |<span data-ttu-id="d62ef-183">Проверьте формат и укажите IP-адрес еще раз.</span><span class="sxs-lookup"><span data-stu-id="d62ef-183">Check the format and supply your IP address again.</span></span> <span data-ttu-id="d62ef-184">Дополнительные сведения см. на странице [Адресация IPv4][1].</span><span class="sxs-lookup"><span data-stu-id="d62ef-184">For more information, see [Ipv4 Addressing][1].</span></span> |
| <span data-ttu-id="d62ef-185">6</span><span class="sxs-lookup"><span data-stu-id="d62ef-185">6</span></span> |<span data-ttu-id="d62ef-186">Invoke-HcsSetupWizard: недопустимый IPv6-адрес.</span><span class="sxs-lookup"><span data-stu-id="d62ef-186">Invoke-HcsSetupWizard: Invalid IPv6 address.</span></span> |<span data-ttu-id="d62ef-187">IP-адрес указан в неверном формате.</span><span class="sxs-lookup"><span data-stu-id="d62ef-187">The IP address is provided in an incorrect format.</span></span> |<span data-ttu-id="d62ef-188">Проверьте формат и укажите IP-адрес еще раз.</span><span class="sxs-lookup"><span data-stu-id="d62ef-188">Check the format and supply your IP address again.</span></span> <span data-ttu-id="d62ef-189">Дополнительные сведения см. на странице [Адресация IPv6][2].</span><span class="sxs-lookup"><span data-stu-id="d62ef-189">For more information, see [Ipv6 Addressing][2].</span></span> |
| <span data-ttu-id="d62ef-190">7</span><span class="sxs-lookup"><span data-stu-id="d62ef-190">7</span></span> |<span data-ttu-id="d62ef-191">Invoke-HcsSetupWizard: в сопоставителе конечных точек отсутствуют доступные конечные точки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-191">Invoke-HcsSetupWizard: There are no more endpoints available from the endpoint mapper.</span></span> <span data-ttu-id="d62ef-192">(Исключение из HRESULT: 0x800706D9)</span><span class="sxs-lookup"><span data-stu-id="d62ef-192">(Exception from HRESULT: 0x800706D9)</span></span> |<span data-ttu-id="d62ef-193">Функциональные возможности кластера не работают.</span><span class="sxs-lookup"><span data-stu-id="d62ef-193">The cluster functionality is not working.</span></span> |<span data-ttu-id="d62ef-194">[Обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) , чтобы узнать, что делать дальше.</span><span class="sxs-lookup"><span data-stu-id="d62ef-194">[Contact Microsoft Support](storsimple-contact-microsoft-support.md) for next steps.</span></span> |

## <a name="errors-during-the-optional-web-proxy-settings"></a><span data-ttu-id="d62ef-195">Ошибки, возникающие при настройке необязательных параметров веб-прокси</span><span class="sxs-lookup"><span data-stu-id="d62ef-195">Errors during the optional web proxy settings</span></span>
| <span data-ttu-id="d62ef-196">Нет.</span><span class="sxs-lookup"><span data-stu-id="d62ef-196">No.</span></span> | <span data-ttu-id="d62ef-197">Сообщение об ошибке</span><span class="sxs-lookup"><span data-stu-id="d62ef-197">Error message</span></span> | <span data-ttu-id="d62ef-198">Возможные причины</span><span class="sxs-lookup"><span data-stu-id="d62ef-198">Possible causes</span></span> | <span data-ttu-id="d62ef-199">Рекомендуемое действие</span><span class="sxs-lookup"><span data-stu-id="d62ef-199">Recommended action</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="d62ef-200">1</span><span class="sxs-lookup"><span data-stu-id="d62ef-200">1</span></span> |<span data-ttu-id="d62ef-201">Invoke-HcsSetupWizard: недопустимый параметр (исключение из HRESULT: 0x80070057)</span><span class="sxs-lookup"><span data-stu-id="d62ef-201">Invoke-HcsSetupWizard: Invalid parameter (Exception from HRESULT: 0x80070057)</span></span> |<span data-ttu-id="d62ef-202">Один из параметров, указанных для настройки прокси-сервера, является недопустимым.</span><span class="sxs-lookup"><span data-stu-id="d62ef-202">One of the parameters provided for the proxy settings is not valid.</span></span> |<span data-ttu-id="d62ef-203">URI предоставлен в неверном формате.</span><span class="sxs-lookup"><span data-stu-id="d62ef-203">The URI is not provided in the correct format.</span></span> <span data-ttu-id="d62ef-204">Используйте следующий формат: http://*<IP address or FQDN of the web proxy server>*:*<TCP port number>*</span><span class="sxs-lookup"><span data-stu-id="d62ef-204">Use the following format: http://*<IP address or FQDN of the web proxy server>*:*<TCP port number>*</span></span> |
| <span data-ttu-id="d62ef-205">2</span><span class="sxs-lookup"><span data-stu-id="d62ef-205">2</span></span> |<span data-ttu-id="d62ef-206">Invoke-HcsSetupWizard: RPC-сервер недоступен (исключение из HRESULT: 0x800706ba)</span><span class="sxs-lookup"><span data-stu-id="d62ef-206">Invoke-HcsSetupWizard: RPC server not available (Exception from HRESULT: 0x800706ba)</span></span> |<span data-ttu-id="d62ef-207">Ниже перечислены возможные причины этого.</span><span class="sxs-lookup"><span data-stu-id="d62ef-207">The root cause is one of the following:</span></span><ol><li><span data-ttu-id="d62ef-208">Кластер не функционирует.</span><span class="sxs-lookup"><span data-stu-id="d62ef-208">The cluster is not up.</span></span></li><li><span data-ttu-id="d62ef-209">Пассивный контроллер не может взаимодействовать с активным контроллером, а команда выполняется из пассивного контроллера.</span><span class="sxs-lookup"><span data-stu-id="d62ef-209">The passive controller cannot communicate with the active controller, and the command is run from passive controller.</span></span></li></ol> |<span data-ttu-id="d62ef-210">В зависимости от причины:</span><span class="sxs-lookup"><span data-stu-id="d62ef-210">Depending on the root cause:</span></span><ol><li><span data-ttu-id="d62ef-211">[Обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) , чтобы убедиться, что кластер работает.</span><span class="sxs-lookup"><span data-stu-id="d62ef-211">[Contact Microsoft Support](storsimple-contact-microsoft-support.md) to make sure that the cluster is up.</span></span></li><li><span data-ttu-id="d62ef-212">Выполните команду из активного контроллера.</span><span class="sxs-lookup"><span data-stu-id="d62ef-212">Run the command from the active controller.</span></span> <span data-ttu-id="d62ef-213">Если требуется выполнить команду из пассивного контроллера, необходимо убедиться, что он может взаимодействовать с активным контроллером.</span><span class="sxs-lookup"><span data-stu-id="d62ef-213">If you want to run the command from the passive controller, you will need to ensure that the passive controller can communicate with the active controller.</span></span> <span data-ttu-id="d62ef-214">Если соединение разорвано, необходимо [обратиться в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-214">You will need to [contact Microsoft Support](storsimple-contact-microsoft-support.md) if this connectivity is broken.</span></span></li></ol> |
| <span data-ttu-id="d62ef-215">3</span><span class="sxs-lookup"><span data-stu-id="d62ef-215">3</span></span> |<span data-ttu-id="d62ef-216">Invoke-HcsSetupWizard: сбой вызова RPC (исключение из HRESULT: 0x800706be)</span><span class="sxs-lookup"><span data-stu-id="d62ef-216">Invoke-HcsSetupWizard: RPC call failed (Exception from HRESULT: 0x800706be)</span></span> |<span data-ttu-id="d62ef-217">Кластер не работает.</span><span class="sxs-lookup"><span data-stu-id="d62ef-217">Cluster is down.</span></span> |<span data-ttu-id="d62ef-218">[Обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) , чтобы убедиться, что кластер работает.</span><span class="sxs-lookup"><span data-stu-id="d62ef-218">[Contact Microsoft Support](storsimple-contact-microsoft-support.md) to make sure that the cluster is up.</span></span> |
| <span data-ttu-id="d62ef-219">4</span><span class="sxs-lookup"><span data-stu-id="d62ef-219">4</span></span> |<span data-ttu-id="d62ef-220">Invoke-HcsSetupWizard: ресурс кластера не найден (исключение из HRESULT: 0x8007138f)</span><span class="sxs-lookup"><span data-stu-id="d62ef-220">Invoke-HcsSetupWizard: Cluster resource not found (Exception from HRESULT: 0x8007138f)</span></span> |<span data-ttu-id="d62ef-221">Ресурс кластера не найден.</span><span class="sxs-lookup"><span data-stu-id="d62ef-221">The cluster resource is not found.</span></span> <span data-ttu-id="d62ef-222">Это может произойти при неправильной установке.</span><span class="sxs-lookup"><span data-stu-id="d62ef-222">This can happen when the installation was not correct.</span></span> |<span data-ttu-id="d62ef-223">Может потребоваться восстановить на устройстве заводские настройки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-223">You may need to reset the device to the factory default settings.</span></span> <span data-ttu-id="d62ef-224">[Обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) , чтобы создать ресурс кластера.</span><span class="sxs-lookup"><span data-stu-id="d62ef-224">[Contact Microsoft Support](storsimple-contact-microsoft-support.md) to create a cluster resource.</span></span> |
| <span data-ttu-id="d62ef-225">5</span><span class="sxs-lookup"><span data-stu-id="d62ef-225">5</span></span> |<span data-ttu-id="d62ef-226">Invoke-HcsSetupWizard: ресурс кластера не подключен к сети (исключение из HRESULT: 0x8007138c)</span><span class="sxs-lookup"><span data-stu-id="d62ef-226">Invoke-HcsSetupWizard: Cluster resource not online (Exception from HRESULT: 0x8007138c)</span></span> |<span data-ttu-id="d62ef-227">Ресурсы кластера отключены от сети.</span><span class="sxs-lookup"><span data-stu-id="d62ef-227">Cluster resources are not online.</span></span> |<span data-ttu-id="d62ef-228">[Обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) , чтобы узнать, что делать дальше.</span><span class="sxs-lookup"><span data-stu-id="d62ef-228">[Contact Microsoft Support](storsimple-contact-microsoft-support.md) for next steps.</span></span> |

## <a name="errors-related-to-device-administrator-and-storsimple-snapshot-manager-passwords"></a><span data-ttu-id="d62ef-229">Ошибки, связанные с настройкой паролей администратора устройства и диспетчера моментальных снимков StorSimple</span><span class="sxs-lookup"><span data-stu-id="d62ef-229">Errors related to device administrator and StorSimple Snapshot Manager passwords</span></span>
<span data-ttu-id="d62ef-230">Пароль администратора устройства по умолчанию: **Password1**.</span><span class="sxs-lookup"><span data-stu-id="d62ef-230">The default device administrator password is **Password1**.</span></span> <span data-ttu-id="d62ef-231">Пароль становится недействительным после первого входа в систему. Следовательно, нужно изменить его в мастере установки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-231">This password expires after the first logon; therefore, you will need to use the setup wizard to change it.</span></span> <span data-ttu-id="d62ef-232">При регистрации устройства в первый раз необходимо указать новый пароль администратора устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-232">You must provide a new device administrator password when you register the device for the first time.</span></span> 

<span data-ttu-id="d62ef-233">При использовании программного обеспечения диспетчера моментальных снимков StorSimple на узле Windows Server для управления устройством необходимо также указать пароль для диспетчера при первой регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-233">If you use the StorSimple Snapshot Manager software running on the Windows Server host to manage the device, then you must also provide a StorSimple Snapshot Manager password during first-time registration.</span></span> 

<span data-ttu-id="d62ef-234">Убедитесь, что пароли соответствуют следующим требованиям:</span><span class="sxs-lookup"><span data-stu-id="d62ef-234">Make sure that your passwords meet the following requirements:</span></span>

* <span data-ttu-id="d62ef-235">Требуемая длина пароля администратора устройства: от 8 до 15 символов.</span><span class="sxs-lookup"><span data-stu-id="d62ef-235">Your device administrator password should be between 8 and 15 characters long.</span></span>
* <span data-ttu-id="d62ef-236">Требуемая длина пароля диспетчера моментальных снимков StorSimple: 14 или 15 символов.</span><span class="sxs-lookup"><span data-stu-id="d62ef-236">Your StorSimple Snapshot Manager password should be 14 or 15 characters long.</span></span>
* <span data-ttu-id="d62ef-237">Пароль должен содержать 3 из следующих 4 типов символов: символы нижнего и верхнего регистров, цифры и специальные символы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-237">Passwords should contain 3 of the following 4 character types: lowercase, uppercase, numeric, and special.</span></span> 
* <span data-ttu-id="d62ef-238">Текущий пароль не должен совпадать с 24 предыдущими.</span><span class="sxs-lookup"><span data-stu-id="d62ef-238">Your password cannot be the same as the last 24 passwords.</span></span>

<span data-ttu-id="d62ef-239">Помните, что срок действия пароля истекает каждый год, а поменять пароль можно только после успешной регистрации устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-239">In addition, keep in mind that passwords expire every year, and can be changed only after you successfully register the device.</span></span> <span data-ttu-id="d62ef-240">Если по какой-либо причине выполнить регистрацию не удается, пароль невозможно будет изменить.</span><span class="sxs-lookup"><span data-stu-id="d62ef-240">If the registration fails for any reason, the passwords will not be changed.</span></span> <span data-ttu-id="d62ef-241">Дополнительные сведения об администраторе устройства и паролях StorSimple Snapshot Manager см. в статье [Изменение паролей StorSimple с помощью службы диспетчера StorSimple](storsimple-change-passwords.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-241">For more information on device administrator and StorSimple Snapshot Manager passwords, go to [Use the StorSimple Manager service to change your StorSimple passwords](storsimple-change-passwords.md).</span></span>

<span data-ttu-id="d62ef-242">При настройке паролей администратора устройства или диспетчера моментальных снимков StorSimple могут возникнуть следующие ошибки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-242">You may encounter one or more of the following errors when setting up the device administrator and StorSimple Snapshot Manager passwords.</span></span>

| <span data-ttu-id="d62ef-243">Нет.</span><span class="sxs-lookup"><span data-stu-id="d62ef-243">No.</span></span> | <span data-ttu-id="d62ef-244">Сообщение об ошибке</span><span class="sxs-lookup"><span data-stu-id="d62ef-244">Error message</span></span> | <span data-ttu-id="d62ef-245">Рекомендуемое действие</span><span class="sxs-lookup"><span data-stu-id="d62ef-245">Recommended action</span></span> |
| --- | --- | --- |
| <span data-ttu-id="d62ef-246">1</span><span class="sxs-lookup"><span data-stu-id="d62ef-246">1</span></span> |<span data-ttu-id="d62ef-247">Пароль превышает максимальную длину.</span><span class="sxs-lookup"><span data-stu-id="d62ef-247">The password exceeds the maximum length.</span></span> |<span data-ttu-id="d62ef-248">Используйте пароль, который отвечает следующим требованиям:</span><span class="sxs-lookup"><span data-stu-id="d62ef-248">Use a password that meets these requirements:</span></span><ul><li><span data-ttu-id="d62ef-249">Требуемая длина пароля администратора устройства: от 8 до 15 знаков.</span><span class="sxs-lookup"><span data-stu-id="d62ef-249">Your device administrator password must be between 8 and 15 characters long.</span></span></li><li><span data-ttu-id="d62ef-250">Требуемая длина пароля StorSimple Snapshot Manager: 14 или 15 знаков.</span><span class="sxs-lookup"><span data-stu-id="d62ef-250">Your StorSimple Snapshot Manager password must be 14 or 15 characters long.</span></span></li></ul> |
| <span data-ttu-id="d62ef-251">2</span><span class="sxs-lookup"><span data-stu-id="d62ef-251">2</span></span> |<span data-ttu-id="d62ef-252">Длина пароля не соответствует требованиям.</span><span class="sxs-lookup"><span data-stu-id="d62ef-252">The password does not meet the required length.</span></span> |<span data-ttu-id="d62ef-253">Используйте пароль, который отвечает следующим требованиям:</span><span class="sxs-lookup"><span data-stu-id="d62ef-253">Use a password that meets these requirements:</span></span><ul><li><span data-ttu-id="d62ef-254">Требуемая длина пароля администратора устройства: от 8 до 15 знаков.</span><span class="sxs-lookup"><span data-stu-id="d62ef-254">Your device administrator password must be between 8 and 15 characters long.</span></span></li><li><span data-ttu-id="d62ef-255">Требуемая длина пароля StorSimple Snapshot Manager: 14 или 15 знаков.</lu></span><span class="sxs-lookup"><span data-stu-id="d62ef-255">Your StorSimple Snapshot Manager password must be 14 or 15 characters long.</lu></span></span></ul> |
| <span data-ttu-id="d62ef-256">3</span><span class="sxs-lookup"><span data-stu-id="d62ef-256">3</span></span> |<span data-ttu-id="d62ef-257">Пароль должен содержать символы нижнего регистра.</span><span class="sxs-lookup"><span data-stu-id="d62ef-257">The password must contain lowercase characters.</span></span> |<span data-ttu-id="d62ef-258">Пароль должен содержать 3 из следующих 4 типов символов: символы нижнего и верхнего регистров, цифры и специальные символы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-258">Passwords must contain 3 of the following 4 character types: lowercase, uppercase, numeric, and special.</span></span> <span data-ttu-id="d62ef-259">Убедитесь, что пароль отвечает этим требованиям.</span><span class="sxs-lookup"><span data-stu-id="d62ef-259">Make sure that your password meets these requirements.</span></span> |
| <span data-ttu-id="d62ef-260">4</span><span class="sxs-lookup"><span data-stu-id="d62ef-260">4</span></span> |<span data-ttu-id="d62ef-261">Пароль должен содержать цифры.</span><span class="sxs-lookup"><span data-stu-id="d62ef-261">The password must contain numeric characters.</span></span> |<span data-ttu-id="d62ef-262">Пароль должен содержать 3 из следующих 4 типов символов: символы нижнего и верхнего регистров, цифры и специальные символы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-262">Passwords must contain 3 of the following 4 character types: lowercase, uppercase, numeric, and special.</span></span> <span data-ttu-id="d62ef-263">Убедитесь, что пароль отвечает этим требованиям.</span><span class="sxs-lookup"><span data-stu-id="d62ef-263">Make sure that your password meets these requirements.</span></span> |
| <span data-ttu-id="d62ef-264">5</span><span class="sxs-lookup"><span data-stu-id="d62ef-264">5</span></span> |<span data-ttu-id="d62ef-265">Пароль должен содержать специальные символы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-265">The password must contain special characters.</span></span> |<span data-ttu-id="d62ef-266">Пароль должен содержать 3 из следующих 4 типов символов: символы нижнего и верхнего регистров, цифры и специальные символы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-266">Passwords must contain 3 of the following 4 character types: lowercase, uppercase, numeric, and special.</span></span> <span data-ttu-id="d62ef-267">Убедитесь, что пароль отвечает этим требованиям.</span><span class="sxs-lookup"><span data-stu-id="d62ef-267">Make sure that your password meets these requirements.</span></span> |
| <span data-ttu-id="d62ef-268">6</span><span class="sxs-lookup"><span data-stu-id="d62ef-268">6</span></span> |<span data-ttu-id="d62ef-269">Пароль должен содержать 3 из следующих 4 типов символов: символы нижнего и верхнего регистров, цифры и специальные символы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-269">The password must contain 3 of the following 4 character types: uppercase, lowercase, numeric, and special.</span></span> |<span data-ttu-id="d62ef-270">Пароль не содержит необходимые типы символов.</span><span class="sxs-lookup"><span data-stu-id="d62ef-270">Your password does not contain the required types of characters.</span></span> <span data-ttu-id="d62ef-271">Убедитесь, что пароль отвечает этим требованиям.</span><span class="sxs-lookup"><span data-stu-id="d62ef-271">Make sure that your password meets these requirements.</span></span> |
| <span data-ttu-id="d62ef-272">7</span><span class="sxs-lookup"><span data-stu-id="d62ef-272">7</span></span> |<span data-ttu-id="d62ef-273">Параметр не соответствует подтверждению.</span><span class="sxs-lookup"><span data-stu-id="d62ef-273">Parameter does not match confirmation.</span></span> |<span data-ttu-id="d62ef-274">Убедитесь, что пароль отвечает всем требованиям и введен правильно.</span><span class="sxs-lookup"><span data-stu-id="d62ef-274">Make sure that your password meets all requirements and that you entered it correctly.</span></span> |
| <span data-ttu-id="d62ef-275">8</span><span class="sxs-lookup"><span data-stu-id="d62ef-275">8</span></span> |<span data-ttu-id="d62ef-276">Пароль не может соответствовать значению по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d62ef-276">Your password cannot match the default.</span></span> |<span data-ttu-id="d62ef-277">Пароль по умолчанию: *Password1*.</span><span class="sxs-lookup"><span data-stu-id="d62ef-277">The default password is *Password1*.</span></span> <span data-ttu-id="d62ef-278">Необходимо изменить этот пароль после входа в систему в первый раз.</span><span class="sxs-lookup"><span data-stu-id="d62ef-278">You need to change this password after you log on for the first time.</span></span> |
| <span data-ttu-id="d62ef-279">9</span><span class="sxs-lookup"><span data-stu-id="d62ef-279">9</span></span> |<span data-ttu-id="d62ef-280">Введенный пароль не соответствует паролю устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-280">The password you have entered does not match the device password.</span></span> <span data-ttu-id="d62ef-281">Повторите ввод пароля.</span><span class="sxs-lookup"><span data-stu-id="d62ef-281">Please retype the password.</span></span> |<span data-ttu-id="d62ef-282">Проверьте пароль и введите его еще раз.</span><span class="sxs-lookup"><span data-stu-id="d62ef-282">Check the password and type it again.</span></span> |

<span data-ttu-id="d62ef-283">Пароли собираются перед регистрацией устройства, но применяются только после успешной регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-283">Passwords are collected before the device is registered, but are applied only after successful registration.</span></span> <span data-ttu-id="d62ef-284">Рабочий процесс восстановления пароля требует регистрации устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-284">The password recovery workflow requires the device to be registered.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="d62ef-285">В общем случае при неудачной попытке применить пароль программное обеспечение предпринимает попытки собрать пароль до тех пор, пока это не будет сделано.</span><span class="sxs-lookup"><span data-stu-id="d62ef-285">In general, if an attempt to apply a password fails, then the software repeatedly attempts to collect the password until it is successful.</span></span> <span data-ttu-id="d62ef-286">В редких случаях применить пароль не удается.</span><span class="sxs-lookup"><span data-stu-id="d62ef-286">In rare instances, the password cannot be applied.</span></span> <span data-ttu-id="d62ef-287">В этом случае можно зарегистрировать устройство и продолжить работу, однако пароли не будут изменены.</span><span class="sxs-lookup"><span data-stu-id="d62ef-287">In this situation, you can register the device and proceed, however the passwords will not be changed.</span></span> <span data-ttu-id="d62ef-288">Вы не получите никакого уведомления о том, какой пароль не был изменен: пароль администратора устройства или пароль диспетчера моментальных снимков StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-288">You will receive no indication as to which password was not changed — the device administrator password or the StorSimple Snapshot Manager password.</span></span> <span data-ttu-id="d62ef-289">В такой ситуации рекомендуется сменить оба пароля.</span><span class="sxs-lookup"><span data-stu-id="d62ef-289">If this situation occurs, we recommend that you change both passwords.</span></span>
> 
> 

<span data-ttu-id="d62ef-290">Можно сбросить пароли на классическом портале Azure при помощи службы "Диспетчер StorSimple".</span><span class="sxs-lookup"><span data-stu-id="d62ef-290">You can reset the passwords in the Azure classic portal via the StorSimple Manager service.</span></span> <span data-ttu-id="d62ef-291">Дополнительную информацию см. в разделе</span><span class="sxs-lookup"><span data-stu-id="d62ef-291">For more information, go to:</span></span> 

* <span data-ttu-id="d62ef-292">[Изменение пароля администратора устройства](storsimple-change-passwords.md#change-the-device-administrator-password).</span><span class="sxs-lookup"><span data-stu-id="d62ef-292">[Change the device administrator password](storsimple-change-passwords.md#change-the-device-administrator-password).</span></span>
* <span data-ttu-id="d62ef-293">[Изменение пароля диспетчера моментальных снимков StorSimple](storsimple-change-passwords.md#change-the-storsimple-snapshot-manager-password).</span><span class="sxs-lookup"><span data-stu-id="d62ef-293">[Change the StorSimple Snapshot Manager password](storsimple-change-passwords.md#change-the-storsimple-snapshot-manager-password).</span></span>

## <a name="errors-during-device-registration"></a><span data-ttu-id="d62ef-294">Ошибки во время регистрации устройства</span><span class="sxs-lookup"><span data-stu-id="d62ef-294">Errors during device registration</span></span>
<span data-ttu-id="d62ef-295">Для регистрации устройства используется служба диспетчера StorSimple в среде Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="d62ef-295">You use the StorSimple Manager service running in Microsoft Azure to register the device.</span></span> <span data-ttu-id="d62ef-296">Во время регистрации устройства могут возникать следующие проблемы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-296">You could encounter one or more of the following issues during device registration.</span></span>

| <span data-ttu-id="d62ef-297">Нет.</span><span class="sxs-lookup"><span data-stu-id="d62ef-297">No.</span></span> | <span data-ttu-id="d62ef-298">Сообщение об ошибке</span><span class="sxs-lookup"><span data-stu-id="d62ef-298">Error message</span></span> | <span data-ttu-id="d62ef-299">Возможные причины</span><span class="sxs-lookup"><span data-stu-id="d62ef-299">Possible causes</span></span> | <span data-ttu-id="d62ef-300">Рекомендуемое действие</span><span class="sxs-lookup"><span data-stu-id="d62ef-300">Recommended action</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="d62ef-301">1</span><span class="sxs-lookup"><span data-stu-id="d62ef-301">1</span></span> |<span data-ttu-id="d62ef-302">Ошибка 350027: не удалось зарегистрировать устройство в диспетчере StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-302">Error 350027: Failed to register the device with the StorSimple Manager.</span></span> | |<span data-ttu-id="d62ef-303">Подождите несколько минут и повторите попытку.</span><span class="sxs-lookup"><span data-stu-id="d62ef-303">Wait for a few minutes and then try the operation again.</span></span> <span data-ttu-id="d62ef-304">Если проблема будет повторяться, [обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-304">If the issue persists, [contact Microsoft Support](storsimple-contact-microsoft-support.md).</span></span> |
| <span data-ttu-id="d62ef-305">2</span><span class="sxs-lookup"><span data-stu-id="d62ef-305">2</span></span> |<span data-ttu-id="d62ef-306">Ошибка 350013: ошибка во время регистрации устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-306">Error 350013: An error has occurred in registering the device.</span></span> <span data-ttu-id="d62ef-307">Это может быть вызвано использованием неправильного ключа регистрации службы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-307">This could be due to incorrect service registration key.</span></span> | |<span data-ttu-id="d62ef-308">Зарегистрируйте устройство еще раз, указав правильный ключ регистрации службы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-308">Please register the device again with the correct service registration key.</span></span> <span data-ttu-id="d62ef-309">Дополнительные сведения см. в разделе [Получение регистрационного ключа службы](storsimple-manage-service.md#get-the-service-registration-key).</span><span class="sxs-lookup"><span data-stu-id="d62ef-309">For more information, see [Get the service registration key.](storsimple-manage-service.md#get-the-service-registration-key)</span></span> |
| <span data-ttu-id="d62ef-310">3</span><span class="sxs-lookup"><span data-stu-id="d62ef-310">3</span></span> |<span data-ttu-id="d62ef-311">Ошибка 350063: проверка подлинности в службе диспетчера StorSimple пройдена, однако произошел сбой регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-311">Error 350063: Authentication to StorSimple Manager service passed but registration failed.</span></span> <span data-ttu-id="d62ef-312">Повторите операцию через некоторое время.</span><span class="sxs-lookup"><span data-stu-id="d62ef-312">Please retry the operation after some time.</span></span> |<span data-ttu-id="d62ef-313">Эта ошибка указывает, что проверка подлинности в ACS пройдена, однако произошел сбой вызова регистрации, адресованного службе.</span><span class="sxs-lookup"><span data-stu-id="d62ef-313">This error indicates that authentication with ACS has passed but the register call made to the service has failed.</span></span> <span data-ttu-id="d62ef-314">Это может быть результатом случайного сбоя в сети.</span><span class="sxs-lookup"><span data-stu-id="d62ef-314">This could be a result of a sporadic network glitch.</span></span> |<span data-ttu-id="d62ef-315">Если проблема будет повторяться, [обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-315">If the issue persists, please [contact Microsoft Support](storsimple-contact-microsoft-support.md).</span></span> |
| <span data-ttu-id="d62ef-316">4</span><span class="sxs-lookup"><span data-stu-id="d62ef-316">4</span></span> |<span data-ttu-id="d62ef-317">Ошибка 350049: не удалось связаться со службой во время регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-317">Error 350049: The service could not be reached during registration.</span></span> |<span data-ttu-id="d62ef-318">При вызове службы получено веб-исключение.</span><span class="sxs-lookup"><span data-stu-id="d62ef-318">When the call is made to the service, a web exception is received.</span></span> <span data-ttu-id="d62ef-319">В некоторых случаях это можно исправить, повторив попытку выполнения операции позже.</span><span class="sxs-lookup"><span data-stu-id="d62ef-319">In some cases, this may get fixed with retrying the operation later.</span></span> |<span data-ttu-id="d62ef-320">Проверьте IP-адрес и DNS-имя и повторите попытку.</span><span class="sxs-lookup"><span data-stu-id="d62ef-320">Please check your IP address and DNS name and then retry the operation.</span></span> <span data-ttu-id="d62ef-321">Если проблема будет повторяться, [обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md)</span><span class="sxs-lookup"><span data-stu-id="d62ef-321">If the problem persists, [contact Microsoft Support.](storsimple-contact-microsoft-support.md)</span></span> |
| <span data-ttu-id="d62ef-322">5</span><span class="sxs-lookup"><span data-stu-id="d62ef-322">5</span></span> |<span data-ttu-id="d62ef-323">Ошибка 350031: устройство уже зарегистрировано.</span><span class="sxs-lookup"><span data-stu-id="d62ef-323">Error 350031: The device has already been registered.</span></span> | |<span data-ttu-id="d62ef-324">Никаких действий не требуется.</span><span class="sxs-lookup"><span data-stu-id="d62ef-324">No action necessary.</span></span> |
| <span data-ttu-id="d62ef-325">6</span><span class="sxs-lookup"><span data-stu-id="d62ef-325">6</span></span> |<span data-ttu-id="d62ef-326">Ошибка 350016: не удалось выполнить регистрацию устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-326">Error 350016: Device Registration failed.</span></span> | |<span data-ttu-id="d62ef-327">Убедитесь, что указан правильный ключ регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-327">Please make sure the registration key is correct.</span></span> |
| <span data-ttu-id="d62ef-328">7</span><span class="sxs-lookup"><span data-stu-id="d62ef-328">7</span></span> |<span data-ttu-id="d62ef-329">Invoke-HcsSetupWizard: произошла ошибка регистрации устройства; это может быть вызвано неправильным IP-адресом или DNS-именем.</span><span class="sxs-lookup"><span data-stu-id="d62ef-329">Invoke-HcsSetupWizard: An error has occurred while registering your device; this could be due to incorrect IP address or DNS name.</span></span> <span data-ttu-id="d62ef-330">Проверьте параметры сети и повторите попытку.</span><span class="sxs-lookup"><span data-stu-id="d62ef-330">Please check your network settings and try again.</span></span> <span data-ttu-id="d62ef-331">Если проблема будет повторяться, [обратитесь в службу технической поддержки Майкрософт](storsimple-contact-microsoft-support.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-331">If the problem persists, [contact Microsoft Support](storsimple-contact-microsoft-support.md).</span></span> <span data-ttu-id="d62ef-332">(Ошибка 350050)</span><span class="sxs-lookup"><span data-stu-id="d62ef-332">(Error 350050)</span></span> |<span data-ttu-id="d62ef-333">Убедитесь, что устройство может проверить связь с внешней сетью.</span><span class="sxs-lookup"><span data-stu-id="d62ef-333">Ensure that your device can ping the outside network.</span></span> <span data-ttu-id="d62ef-334">Если подключение к внешней сети отсутствует, может произойти сбой регистрации с этой ошибкой.</span><span class="sxs-lookup"><span data-stu-id="d62ef-334">If you do not have connectivity to outside network, the registration may fail with this error.</span></span> <span data-ttu-id="d62ef-335">Эту ошибку могут вызвать следующие факторы или их сочетание:</span><span class="sxs-lookup"><span data-stu-id="d62ef-335">This error may be a combination of one or more of the following:</span></span><ul><li><span data-ttu-id="d62ef-336">неправильный IP-адрес;</span><span class="sxs-lookup"><span data-stu-id="d62ef-336">Incorrect IP</span></span></li><li><span data-ttu-id="d62ef-337">неправильная подсеть;</span><span class="sxs-lookup"><span data-stu-id="d62ef-337">Incorrect subnet</span></span></li><li><span data-ttu-id="d62ef-338">неправильный шлюз;</span><span class="sxs-lookup"><span data-stu-id="d62ef-338">Incorrect gateway</span></span></li><li><span data-ttu-id="d62ef-339">неправильные параметры DNS.</span><span class="sxs-lookup"><span data-stu-id="d62ef-339">Incorrect DNS settings</span></span></li></ul> |<span data-ttu-id="d62ef-340">Пошаговое описание приведено в разделе [Пример с пошаговыми инструкциями по устранению неполадок в устройстве StorSimple](#step-by-step-storsimple-troubleshooting-example).</span><span class="sxs-lookup"><span data-stu-id="d62ef-340">See the steps in the [Step-by-step troubleshooting example](#step-by-step-storsimple-troubleshooting-example).</span></span> |
| <span data-ttu-id="d62ef-341">8</span><span class="sxs-lookup"><span data-stu-id="d62ef-341">8</span></span> |<span data-ttu-id="d62ef-342">Invoke-HcsSetupWizard: сбой текущей операции из-за внутренней ошибки в службе, [0x1FBE2].</span><span class="sxs-lookup"><span data-stu-id="d62ef-342">Invoke-HcsSetupWizard: The current operation failed due to an internal service error [0x1FBE2].</span></span> <span data-ttu-id="d62ef-343">Повторите операцию через некоторое время.</span><span class="sxs-lookup"><span data-stu-id="d62ef-343">Please retry the operation after sometime.</span></span> <span data-ttu-id="d62ef-344">Если проблема будет повторяться, обратитесь в службу поддержки Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="d62ef-344">If the issue persists, please contact Microsoft Support.</span></span> |<span data-ttu-id="d62ef-345">Это общая ошибка, возникающая при наличии любых невидимых пользователю ошибок в службе или агенте.</span><span class="sxs-lookup"><span data-stu-id="d62ef-345">This is a generic error thrown for all user invisible errors from service or agent.</span></span> <span data-ttu-id="d62ef-346">Наиболее распространенной причиной является сбой проверки подлинности в ACS.</span><span class="sxs-lookup"><span data-stu-id="d62ef-346">The most common reason may be that the ACS authentication has failed.</span></span> <span data-ttu-id="d62ef-347">Возможные причины сбоя: проблемы с конфигурацией NTP-сервера и неверная установка времени на устройстве.</span><span class="sxs-lookup"><span data-stu-id="d62ef-347">A possible cause for the failure is that there are issues with the NTP server configuration and time on the device is not set correctly.</span></span> |<span data-ttu-id="d62ef-348">Скорректируйте время (при наличии проблем) и повторите попытку регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-348">Correct the time (if there are issues) and then retry the registration operation.</span></span> <span data-ttu-id="d62ef-349">При использовании команды Set-HcsSystem -Timezone для настройки часового пояса начинайте слова в названии часового пояса с прописной буквы (например, "Pacific Standard Time").</span><span class="sxs-lookup"><span data-stu-id="d62ef-349">If you use the Set-HcsSystem -Timezone command to adjust the time zone, capitalize each word in the time zone (for example "Pacific Standard Time").</span></span>  <span data-ttu-id="d62ef-350">Если проблема будет повторяться, [обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) для получения дальнейших инструкций.</span><span class="sxs-lookup"><span data-stu-id="d62ef-350">If this issue persists, [contact Microsoft Support](storsimple-contact-microsoft-support.md) for next steps.</span></span> |
| <span data-ttu-id="d62ef-351">9</span><span class="sxs-lookup"><span data-stu-id="d62ef-351">9</span></span> |<span data-ttu-id="d62ef-352">Предупреждение: не удалось активировать устройство.</span><span class="sxs-lookup"><span data-stu-id="d62ef-352">Warning: Could not activate the device.</span></span> <span data-ttu-id="d62ef-353">Пароли администратора устройства и диспетчера моментальных снимков StorSimple не поменялись.</span><span class="sxs-lookup"><span data-stu-id="d62ef-353">Your device administrator and StorSimple Snapshot Manager passwords have not been changed.</span></span> |<span data-ttu-id="d62ef-354">При сбое регистрации пароли администратора устройства и диспетчера моментальных снимков StorSimple не меняются.</span><span class="sxs-lookup"><span data-stu-id="d62ef-354">If the registration fails, the device administrator and StorSimple Snapshot Manager passwords are not changed.</span></span> | |

## <a name="tools-for-troubleshooting-storsimple-deployments"></a><span data-ttu-id="d62ef-355">Средства для устранения неполадок в развертываниях StorSimple</span><span class="sxs-lookup"><span data-stu-id="d62ef-355">Tools for troubleshooting StorSimple deployments</span></span>
<span data-ttu-id="d62ef-356">StorSimple включает в себя несколько средств, которые можно использовать для устранения неполадок в решении StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-356">StorSimple includes several tools that you can use to troubleshoot your StorSimple solution.</span></span> <span data-ttu-id="d62ef-357">В частности, описаны такие возможности:</span><span class="sxs-lookup"><span data-stu-id="d62ef-357">These include:</span></span>

* <span data-ttu-id="d62ef-358">Пакеты поддержки и журналы устройств.</span><span class="sxs-lookup"><span data-stu-id="d62ef-358">Support packages and device logs</span></span> 
* <span data-ttu-id="d62ef-359">Командлеты, специально разработанные для устранения неполадок.</span><span class="sxs-lookup"><span data-stu-id="d62ef-359">Cmdlets specifically designed for troubleshooting</span></span> 

## <a name="support-packages-and-device-logs-available-for-troubleshooting"></a><span data-ttu-id="d62ef-360">Пакеты поддержки и журналы устройств, доступные для устранения неполадок</span><span class="sxs-lookup"><span data-stu-id="d62ef-360">Support packages and device logs available for troubleshooting</span></span>
<span data-ttu-id="d62ef-361">Пакет поддержки содержит все журналы, которые могут помочь сотрудникам службы поддержки Майкрософт в устранении неполадок на устройстве.</span><span class="sxs-lookup"><span data-stu-id="d62ef-361">A support package contains all the relevant logs that can assist the Microsoft Support team with troubleshooting device issues.</span></span> <span data-ttu-id="d62ef-362">Для создания зашифрованного пакета поддержки, который затем можно предоставить специалистам службы поддержки, можно воспользоваться Windows PowerShell для StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-362">You can use Windows PowerShell for StorSimple to generate an encrypted support package that you can then share with support personnel.</span></span>

### <a name="to-view-the-logs-or-the-contents-of-the-support-package"></a><span data-ttu-id="d62ef-363">Просмотр журналов или содержимого пакета поддержки</span><span class="sxs-lookup"><span data-stu-id="d62ef-363">To view the logs or the contents of the support package</span></span>
1. <span data-ttu-id="d62ef-364">Создайте пакет поддержки с помощью Windows PowerShell для StorSimple в соответствии с инструкциями в статье [Создание пакета поддержки и управление им](storsimple-create-manage-support-package.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-364">Use Windows PowerShell for StorSimple to generate a support package as described in [Create and manage a support package](storsimple-create-manage-support-package.md).</span></span>
2. <span data-ttu-id="d62ef-365">Загрузите [скрипт расшифровки](https://gallery.technet.microsoft.com/scriptcenter/Script-to-decrypt-a-a8d1ed65) в локальную систему на клиентском компьютере.</span><span class="sxs-lookup"><span data-stu-id="d62ef-365">Download the [decryption script](https://gallery.technet.microsoft.com/scriptcenter/Script-to-decrypt-a-a8d1ed65) locally on your client computer.</span></span>
3. <span data-ttu-id="d62ef-366">Используйте [пошаговое описание процедуры](storsimple-create-manage-support-package.md#edit-a-support-package) , чтобы открыть и расшифровать пакет поддержки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-366">Use this [step-by-step procedure](storsimple-create-manage-support-package.md#edit-a-support-package) to open and decrypt the support package.</span></span>
4. <span data-ttu-id="d62ef-367">Расшифрованные журналы пакета поддержки записываются в формате etw/etvx.</span><span class="sxs-lookup"><span data-stu-id="d62ef-367">The decrypted support package logs are in etw/etvx format.</span></span> <span data-ttu-id="d62ef-368">Для просмотра этих файлов в компоненте «Просмотр событий» Windows можно выполнить следующие действия:</span><span class="sxs-lookup"><span data-stu-id="d62ef-368">You can perform the following steps to view these files in Windows Event Viewer:</span></span>
   
   1. <span data-ttu-id="d62ef-369">Выполните команду **eventvwr** в клиенте Windows.</span><span class="sxs-lookup"><span data-stu-id="d62ef-369">Run the **eventvwr** command on your Windows client.</span></span> <span data-ttu-id="d62ef-370">Это позволит запустить компонент «Просмотр событий».</span><span class="sxs-lookup"><span data-stu-id="d62ef-370">This will start the Event Viewer.</span></span>
   2. <span data-ttu-id="d62ef-371">В области **Действия** щелкните **Открыть сохраненный журнал** и укажите файлы журнала в формате ETVX или ETW (пакет поддержки).</span><span class="sxs-lookup"><span data-stu-id="d62ef-371">In the **Actions** pane, click **Open Saved Log** and point to the log files in etvx/etw format (the support package).</span></span> <span data-ttu-id="d62ef-372">Теперь можно просмотреть файл.</span><span class="sxs-lookup"><span data-stu-id="d62ef-372">You can now view the file.</span></span> <span data-ttu-id="d62ef-373">После открытия файла можно щелкнуть правой кнопкой мыши и сохранить его как обычный текст.</span><span class="sxs-lookup"><span data-stu-id="d62ef-373">After you open the file, you can right-click and save the file as text.</span></span>
      
      > [!IMPORTANT]
      > <span data-ttu-id="d62ef-374">Можно также использовать командлет **Get-WinEvent**, чтобы открыть этот файл в Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d62ef-374">You can also use the **Get-WinEvent** cmdlet to open these files in Windows PowerShell.</span></span> <span data-ttu-id="d62ef-375">Дополнительные сведения см. в статье [Get-WinEvent](https://technet.microsoft.com/library/hh849682.aspx) справочной документации по командлетам Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d62ef-375">For more information, see [Get-WinEvent](https://technet.microsoft.com/library/hh849682.aspx) in the Windows PowerShell cmdlet reference documentation.</span></span>
      > 
      > 
5. <span data-ttu-id="d62ef-376">При открытии журналов в компоненте «Просмотр событий» ищите указанные ниже журналы. Они содержат описание ошибок в конфигурации устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-376">When the logs open in Event Viewer, look for the following logs that contain issues related to the device configuration:</span></span>
   
   * <span data-ttu-id="d62ef-377">hcs_pfconfig/Operational Log.</span><span class="sxs-lookup"><span data-stu-id="d62ef-377">hcs_pfconfig/Operational Log</span></span>
   * <span data-ttu-id="d62ef-378">hcs_pfconfig/Config.</span><span class="sxs-lookup"><span data-stu-id="d62ef-378">hcs_pfconfig/Config</span></span>
6. <span data-ttu-id="d62ef-379">В файлах журналов ищите строки, имеющие отношение к командлетам, которые вызываются мастером установки.</span><span class="sxs-lookup"><span data-stu-id="d62ef-379">In the log files, search for strings related to the cmdlets called by the setup wizard.</span></span> <span data-ttu-id="d62ef-380">Список этих командлетов см. в разделе [Работа с мастером установки в первый раз](#first-time-setup-wizard-process).</span><span class="sxs-lookup"><span data-stu-id="d62ef-380">See [First-time setup wizard process](#first-time-setup-wizard-process) for a list of these cmdlets.</span></span> 
7. <span data-ttu-id="d62ef-381">Если не удается определить причину проблемы, можно [обратиться в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) для получения дальнейших инструкций.</span><span class="sxs-lookup"><span data-stu-id="d62ef-381">If you are not able to figure out the cause of the problem, you can [contact Microsoft Support](storsimple-contact-microsoft-support.md) for next steps.</span></span> <span data-ttu-id="d62ef-382">Используйте шаги в разделе [Создание запроса поддержки](storsimple-contact-microsoft-support.md#create-a-support-request) при обращении в службу технической поддержки Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="d62ef-382">Use the steps in [Create a support request](storsimple-contact-microsoft-support.md#create-a-support-request) when you contact Microsoft Support for assistance.</span></span>

## <a name="cmdlets-available-for-troubleshooting"></a><span data-ttu-id="d62ef-383">Командлеты, доступные для устранения неполадок</span><span class="sxs-lookup"><span data-stu-id="d62ef-383">Cmdlets available for troubleshooting</span></span>
<span data-ttu-id="d62ef-384">Воспользуйтесь следующими командлетами Windows PowerShell для обнаружения ошибок подключения.</span><span class="sxs-lookup"><span data-stu-id="d62ef-384">Use the following Windows PowerShell cmdlets to detect connectivity errors.</span></span>

* <span data-ttu-id="d62ef-385">`Get-NetAdapter`: используйте этот командлет для оценки состояния сетевых интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="d62ef-385">`Get-NetAdapter`: Use this cmdlet to detect the health of network interfaces.</span></span> 
* <span data-ttu-id="d62ef-386">`Test-Connection`: используйте этот командлет для проверки сетевого подключения внутри сети и за ее пределами.</span><span class="sxs-lookup"><span data-stu-id="d62ef-386">`Test-Connection`: Use this cmdlet to check the network connectivity inside and outside of the network.</span></span>
* <span data-ttu-id="d62ef-387">`Test-HcsmConnection`: используйте этот командлет для проверки подключения успешно зарегистрированного устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-387">`Test-HcsmConnection`: Use this cmdlet to check the connectivity of a successfully registered device.</span></span>

<span data-ttu-id="d62ef-388">При использовании на устройстве StorSimple обновления 1 также доступны следующие командлеты диагностики.</span><span class="sxs-lookup"><span data-stu-id="d62ef-388">If you are running Update 1 on your StorSimple device, the following diagnostic cmdlets are also available.</span></span>

* <span data-ttu-id="d62ef-389">`Sync-HcsTime`: этот командлет отображает время устройства и время синхронизации с NTP-сервером.</span><span class="sxs-lookup"><span data-stu-id="d62ef-389">`Sync-HcsTime`: Use this cmdlet to display device time and force a time sync with the NTP server.</span></span>
* <span data-ttu-id="d62ef-390">`Enable-HcsPing` и `Disable-HcsPing`: эти командлеты позволяют узлам проверять связь с сетевыми интерфейсами на устройстве StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-390">`Enable-HcsPing` and `Disable-HcsPing`: Use these cmdlets to allow the hosts to ping the network interfaces on your StorSimple device.</span></span> <span data-ttu-id="d62ef-391">По умолчанию сетевые интерфейсы устройства StorSimple не отвечают на запросы проверки связи.</span><span class="sxs-lookup"><span data-stu-id="d62ef-391">By default, the StorSimple network interfaces do not respond to ping requests.</span></span>
* <span data-ttu-id="d62ef-392">`Trace-HcsRoute`: этот командлет выполняет трассировку маршрута.</span><span class="sxs-lookup"><span data-stu-id="d62ef-392">`Trace-HcsRoute`: Use this cmdlet as a route tracing tool.</span></span> <span data-ttu-id="d62ef-393">Он отправляет пакеты на все маршрутизаторы, расположенные на пути к конечной точке, а затем вычисляет результат, используя полученные из каждой точки перехода пакеты.</span><span class="sxs-lookup"><span data-stu-id="d62ef-393">It sends packets to each router on the way to a final destination over a period of time, and then computes results based on the packets returned from each hop.</span></span> <span data-ttu-id="d62ef-394">Поскольку `Trace-HcsRoute` не исключает потерю некоторого количества пакетов для каждого маршрутизатора или линии связи, можно установить, какие именно маршрутизаторы или линии связи могут вызывать проблемы с сетью.</span><span class="sxs-lookup"><span data-stu-id="d62ef-394">Since `Trace-HcsRoute` shows the degree of packet loss at any given router or link, you can pinpoint which routers or links might be causing network problems.</span></span> 
* <span data-ttu-id="d62ef-395">`Get-HcsRoutingTable`: используйте этот командлет, чтобы отобразить локальную таблицу маршрутизации протокола Интернета (IP).</span><span class="sxs-lookup"><span data-stu-id="d62ef-395">`Get-HcsRoutingTable`: Use this cmdlet to display the local IP routing table.</span></span>

## <a name="troubleshoot-with-the-get-netadapter-cmdlet"></a><span data-ttu-id="d62ef-396">Устранение неполадок с использованием командлета Get-NetAdapter</span><span class="sxs-lookup"><span data-stu-id="d62ef-396">Troubleshoot with the Get-NetAdapter cmdlet</span></span>
<span data-ttu-id="d62ef-397">При настройке сетевых интерфейсов для развертывания устройства в первый раз данные о состоянии оборудования недоступны в пользовательском интерфейсе службы диспетчера StorSimple, поскольку устройство еще не зарегистрировано в службе.</span><span class="sxs-lookup"><span data-stu-id="d62ef-397">When you configure network interfaces for a first-time device deployment, the hardware status is not available in the StorSimple Manager service UI because the device is not yet registered with the service.</span></span> <span data-ttu-id="d62ef-398">Кроме того, информация на странице «Состояние оборудования» может не всегда точно отражать состояние устройства, особенно при наличии проблем, влияющих на синхронизацию службы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-398">Additionally, the Hardware Status page may not always correctly reflect the state of the device, especially if there are issues that affect service synchronization.</span></span> <span data-ttu-id="d62ef-399">В этих случаях можно использовать командлет `Get-NetAdapter` , чтобы определить состояние и статус сетевых интерфейсов в своей системе.</span><span class="sxs-lookup"><span data-stu-id="d62ef-399">In these situations, you can use the `Get-NetAdapter` cmdlet to determine the health and status of your network interfaces.</span></span>

### <a name="to-see-a-list-of-all-the-network-adapters-on-your-device"></a><span data-ttu-id="d62ef-400">Просмотр полного списка сетевых адаптеров на устройстве</span><span class="sxs-lookup"><span data-stu-id="d62ef-400">To see a list of all the network adapters on your device</span></span>
1. <span data-ttu-id="d62ef-401">Запустите Windows PowerShell для StorSimple, а затем введите `Get-NetAdapter`.</span><span class="sxs-lookup"><span data-stu-id="d62ef-401">Start Windows PowerShell for StorSimple, and then type `Get-NetAdapter`.</span></span> 
2. <span data-ttu-id="d62ef-402">Используйте выходные данные командлета `Get-NetAdapter` и следующие инструкции, чтобы узнать статус своего сетевого интерфейса.</span><span class="sxs-lookup"><span data-stu-id="d62ef-402">Use the output of the `Get-NetAdapter` cmdlet and the following guidelines to understand the status of your network interface.</span></span>
   
   * <span data-ttu-id="d62ef-403">Если интерфейс работоспособен и включен, то параметр состояния **ifIndex** имеет значение **Up** (Работает).</span><span class="sxs-lookup"><span data-stu-id="d62ef-403">If the interface is healthy and enabled, the **ifIndex** status is shown as **Up**.</span></span>
   * <span data-ttu-id="d62ef-404">Если интерфейс работоспособен, но не подключен физически (с использованием сетевого кабеля), то параметр состояния **ifIndex** имеет значение **Disabled** (Отключен).</span><span class="sxs-lookup"><span data-stu-id="d62ef-404">If the interface is healthy but is not physically connected (by a network cable), the **ifIndex** is shown as **Disabled**.</span></span>
   * <span data-ttu-id="d62ef-405">Если интерфейс работоспособен, но не включен, то параметр состояния **ifIndex** имеет значение **NotPresent** (Нет).</span><span class="sxs-lookup"><span data-stu-id="d62ef-405">If the interface is healthy but not enabled, the **ifIndex** status is shown as **NotPresent**.</span></span>
   * <span data-ttu-id="d62ef-406">Если интерфейс не существует, он не отображается в этом списке.</span><span class="sxs-lookup"><span data-stu-id="d62ef-406">If the interface does not exist, it does not appear in this list.</span></span> <span data-ttu-id="d62ef-407">Этот интерфейс будет отображаться в пользовательском интерфейсе службы диспетчера StorSimple в состоянии сбоя.</span><span class="sxs-lookup"><span data-stu-id="d62ef-407">The StorSimple Manager service UI will still show this interface in a failed state.</span></span>

<span data-ttu-id="d62ef-408">Дополнительные сведения об использовании этого командлета см. в статье [GetNetAdapter](https://technet.microsoft.com/library/jj130867.aspx) справочника по командлетам Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d62ef-408">For more information on how to use this cmdlet, go to [GetNetAdapter](https://technet.microsoft.com/library/jj130867.aspx) in the Windows PowerShell cmdlet reference.</span></span> 

<span data-ttu-id="d62ef-409">В следующих разделах показаны примеры выходных данных командлета `Get-NetAdapter` .</span><span class="sxs-lookup"><span data-stu-id="d62ef-409">The following sections show samples of output from the `Get-NetAdapter` cmdlet.</span></span> 

 <span data-ttu-id="d62ef-410">В этих примерах контроллер 0 — пассивный, он имеет следующую конфигурацию:</span><span class="sxs-lookup"><span data-stu-id="d62ef-410">In these samples, controller 0 was the passive controller, and was configured as follows:</span></span>

* <span data-ttu-id="d62ef-411">Сетевые интерфейсы DATA 0, DATA 1, DATA 2 и DATA 3 существуют на устройстве.</span><span class="sxs-lookup"><span data-stu-id="d62ef-411">DATA 0, DATA 1, DATA 2, and DATA 3 network interfaces existed on the device.</span></span>
* <span data-ttu-id="d62ef-412">Карт сетевых интерфейсов DATA 4 и DATA 5 нет; следовательно, они не указаны в выходных данных.</span><span class="sxs-lookup"><span data-stu-id="d62ef-412">DATA 4 and DATA 5 network interface cards were not present; therefore, they are not listed in the output.</span></span>
* <span data-ttu-id="d62ef-413">Интерфейс DATA 0 включен.</span><span class="sxs-lookup"><span data-stu-id="d62ef-413">DATA 0 was enabled.</span></span>

<span data-ttu-id="d62ef-414">Контроллер 1 — активный, он имеет следующую конфигурацию:</span><span class="sxs-lookup"><span data-stu-id="d62ef-414">Controller 1 was the active controller, and was configured as follows:</span></span>

* <span data-ttu-id="d62ef-415">Сетевые интерфейсы DATA 0, DATA 1, DATA 2, DATA 3, DATA 4 и DATA 5 существуют на устройстве.</span><span class="sxs-lookup"><span data-stu-id="d62ef-415">DATA 0, DATA 1, DATA 2, DATA 3, DATA 4, and DATA 5 network interfaces existed on the device.</span></span>
* <span data-ttu-id="d62ef-416">Интерфейс DATA 0 включен.</span><span class="sxs-lookup"><span data-stu-id="d62ef-416">DATA 0 was enabled.</span></span>

<span data-ttu-id="d62ef-417">**Образец выходных данных, контроллер 0**</span><span class="sxs-lookup"><span data-stu-id="d62ef-417">**Sample output – controller 0**</span></span>

<span data-ttu-id="d62ef-418">Далее приведены выходные данные контроллера 0 (пассивного контроллера).</span><span class="sxs-lookup"><span data-stu-id="d62ef-418">The following is the output from controller 0 (the passive controller).</span></span> <span data-ttu-id="d62ef-419">Интерфейсы DATA 1, DATA 2 и DATA 3 не подключены.</span><span class="sxs-lookup"><span data-stu-id="d62ef-419">DATA 1, DATA 2, and DATA 3 are not connected.</span></span> <span data-ttu-id="d62ef-420">Интерфейсы DATA 4 и DATA 5 не включены в список, потому что они отсутствуют на устройстве.</span><span class="sxs-lookup"><span data-stu-id="d62ef-420">DATA 4 and DATA 5 are not listed because they are not present on the device.</span></span> 

     Controller0>Get-NetAdapter
     Name                 InterfaceDescription                        ifIndex  Status
     ------               --------------------                        -------  ----------
     DATA3                Mellanox ConnectX-3 Ethernet Adapter #2     17       NotPresent
     DATA2                Mellanox ConnectX-3 Ethernet Adapter        14       NotPresent
     Ethernet 2           HCS VNIC                                    13       Up
     DATA1                Intel(R) 82574L Gigabit Network Co...#2     16       NotPresent
     DATA0                Intel(R) 82574L Gigabit Network Conn...     15       Up


<span data-ttu-id="d62ef-421">**Образец выходных данных, контроллер 1**</span><span class="sxs-lookup"><span data-stu-id="d62ef-421">**Sample output – controller 1**</span></span>

<span data-ttu-id="d62ef-422">Далее приведены выходные данные контроллера 1 (активного контроллера).</span><span class="sxs-lookup"><span data-stu-id="d62ef-422">The following is the output from controller 1 (the active controller).</span></span> <span data-ttu-id="d62ef-423">Только сетевой интерфейс DATA 0 на этом устройстве настроен и работает.</span><span class="sxs-lookup"><span data-stu-id="d62ef-423">Only the DATA 0 network interface on the device is configured and working.</span></span>

     Controller1>Get-NetAdapter
     Name                 InterfaceDescription                        ifIndex  Status
     ------               --------------------                        -------  ----------
     DATA3                Mellanox ConnectX-3 Ethernet Adapter        18       NotPresent
     DATA2                Mellanox ConnectX-3 Ethernet Adapter #2     19       NotPresent
     DATA1                Intel(R) 82574L Gigabit Network Co...#2     16       NotPresent
     DATA0                Intel(R) 82574L Gigabit Network Conn...     15       Up
     Ethernet 2           HCS VNIC                                    13       Up
     DATA5                Intel(R) Gigabit ET Dual Port Server...     14       NotPresent
     DATA4                Intel(R) Gigabit ET Dual Port Serv...#2     17       NotPresent


## <a name="troubleshoot-with-the-test-connection-cmdlet"></a><span data-ttu-id="d62ef-424">Устранение неполадок с использованием командлета Test-Connection</span><span class="sxs-lookup"><span data-stu-id="d62ef-424">Troubleshoot with the Test-Connection cmdlet</span></span>
<span data-ttu-id="d62ef-425">Можно воспользоваться командлетом `Test-Connection` , чтобы определить, может ли устройство StorSimple подключаться к внешней сети.</span><span class="sxs-lookup"><span data-stu-id="d62ef-425">You can use the `Test-Connection` cmdlet to determine whether your StorSimple device can connect to the outside network.</span></span> <span data-ttu-id="d62ef-426">Если все сетевые параметры, включая DNS, правильно настроены в мастере установки, можно воспользоваться командлетом `Test-Connection` , чтобы проверить связь с известным адресом за пределами сети, например outlook.com.</span><span class="sxs-lookup"><span data-stu-id="d62ef-426">If all the networking parameters, including the DNS, are configured correctly in the setup wizard, you can use the `Test-Connection` cmdlet to ping a known address outside of the network, such as outlook.com.</span></span> 

<span data-ttu-id="d62ef-427">Для устранения проблем подключения, связанных с этим командлетом, включите проверку связи (если она отключена).</span><span class="sxs-lookup"><span data-stu-id="d62ef-427">You should enable ping to troubleshoot connectivity issues with this cmdlet if ping is disabled.</span></span>

<span data-ttu-id="d62ef-428">Примеры выходных данных командлета `Test-Connection` см. ниже.</span><span class="sxs-lookup"><span data-stu-id="d62ef-428">See the following samples of output from the `Test-Connection` cmdlet.</span></span> 

> [!NOTE]
> <span data-ttu-id="d62ef-429">В первом примере для устройства заданы неверные параметры DNS.</span><span class="sxs-lookup"><span data-stu-id="d62ef-429">In the first sample, the device is configured with an incorrect DNS.</span></span> <span data-ttu-id="d62ef-430">Во втором примере параметры DNS заданы верно.</span><span class="sxs-lookup"><span data-stu-id="d62ef-430">In the second sample, the DNS is correct.</span></span>
> 
> 

<span data-ttu-id="d62ef-431">**Пример вывода: неверные параметры DNS**</span><span class="sxs-lookup"><span data-stu-id="d62ef-431">**Sample output – incorrect DNS**</span></span>

<span data-ttu-id="d62ef-432">В следующем примере отсутствуют выходные данные для IPV4- и IPV6-адресов, что означает, что служба DNS не разрешена.</span><span class="sxs-lookup"><span data-stu-id="d62ef-432">In the following sample, there is no output for the IPV4 and IPV6 addresses, which indicates that the DNS is not resolved.</span></span> <span data-ttu-id="d62ef-433">Следовательно, подключение к внешней сети отсутствует, необходимо указать правильные параметры DNS.</span><span class="sxs-lookup"><span data-stu-id="d62ef-433">This means that there is no connectivity to the outside network and a correct DNS needs to be supplied.</span></span> 

     Source        Destination     IPV4Address      IPV6Address
     ------        -----------     -----------      -----------
     HCSNODE0      outlook.com
     HCSNODE0      outlook.com
     HCSNODE0      outlook.com
     HCSNODE0      outlook.com

<span data-ttu-id="d62ef-434">**Пример вывода: верные параметры DNS**</span><span class="sxs-lookup"><span data-stu-id="d62ef-434">**Sample output – correct DNS**</span></span>

<span data-ttu-id="d62ef-435">В следующем примере DNS возвращает IPV4-адрес, что указывает на правильность настройки DNS.</span><span class="sxs-lookup"><span data-stu-id="d62ef-435">In the following sample, the DNS returns the IPV4 address, indicating that the DNS is configured correctly.</span></span> <span data-ttu-id="d62ef-436">Это подтверждает наличие подключения к внешней сети.</span><span class="sxs-lookup"><span data-stu-id="d62ef-436">This confirms that there is connectivity to the outside network.</span></span> 

     Source        Destination     IPV4Address      IPV6Address
     ------        -----------     -----------      -----------
     HCSNODE0      outlook.com     132.245.92.194
     HCSNODE0      outlook.com     132.245.92.194
     HCSNODE0      outlook.com     132.245.92.194
     HCSNODE0      outlook.com     132.245.92.194

## <a name="troubleshoot-with-the-test-hcsmconnection-cmdlet"></a><span data-ttu-id="d62ef-437">Устранение неполадок с использованием командлета Test-HcsmConnection</span><span class="sxs-lookup"><span data-stu-id="d62ef-437">Troubleshoot with the Test-HcsmConnection cmdlet</span></span>
<span data-ttu-id="d62ef-438">Используйте командлет `Test-HcsmConnection` для работы с устройством, которое уже подключено к службе диспетчера StorSimple и зарегистрировано в ней.</span><span class="sxs-lookup"><span data-stu-id="d62ef-438">Use the `Test-HcsmConnection` cmdlet for a device that is already connected to and registered with your StorSimple Manager service.</span></span> <span data-ttu-id="d62ef-439">Этот командлет помогает проверить подключение между зарегистрированным устройством и соответствующей службой диспетчера StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-439">This cmdlet helps you verify the connectivity between a registered device and the corresponding StorSimple Manager service.</span></span> <span data-ttu-id="d62ef-440">Эту команду можно выполнить в Windows PowerShell для StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-440">You can run this command on Windows PowerShell for StorSimple.</span></span> 

### <a name="to-run-the-test-hcsmconnection-cmdlet"></a><span data-ttu-id="d62ef-441">Выполнение командлета Test-HcsmConnection</span><span class="sxs-lookup"><span data-stu-id="d62ef-441">To run the Test-HcsmConnection cmdlet</span></span>
1. <span data-ttu-id="d62ef-442">Убедитесь, что устройство зарегистрировано.</span><span class="sxs-lookup"><span data-stu-id="d62ef-442">Make sure that the device is registered.</span></span>
2. <span data-ttu-id="d62ef-443">Проверьте состояние устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-443">Check the device status.</span></span> <span data-ttu-id="d62ef-444">Если устройство деактивировано, находится в режиме обслуживания или отключено от сети, могут возникнуть следующие ошибки:</span><span class="sxs-lookup"><span data-stu-id="d62ef-444">If the device is deactivated, in maintenance mode, or offline, you might see the following errors:</span></span> 
   
   * <span data-ttu-id="d62ef-445">ErrorCode.CiSDeviceDecommissioned: устройство деактивировано.</span><span class="sxs-lookup"><span data-stu-id="d62ef-445">ErrorCode.CiSDeviceDecommissioned – this indicates that the device is deactivated.</span></span>
   * <span data-ttu-id="d62ef-446">ErrorCode.DeviceNotReady: устройство находится в режиме обслуживания.</span><span class="sxs-lookup"><span data-stu-id="d62ef-446">ErrorCode.DeviceNotReady – this indicates that the device is in maintenance mode.</span></span>
   * <span data-ttu-id="d62ef-447">ErrorCode.DeviceNotReady: устройство не подключено к сети.</span><span class="sxs-lookup"><span data-stu-id="d62ef-447">ErrorCode.DeviceNotReady – this indicates that the device is not online.</span></span>
3. <span data-ttu-id="d62ef-448">Убедитесь, что запущена служба диспетчера StorSimple (воспользуйтесь командлетом [Get-ClusterResource](https://technet.microsoft.com/library/ee461004.aspx) ).</span><span class="sxs-lookup"><span data-stu-id="d62ef-448">Verify that the StorSimple Manager service is running (use the [Get-ClusterResource](https://technet.microsoft.com/library/ee461004.aspx) cmdlet).</span></span> <span data-ttu-id="d62ef-449">Если служба не запущена, возможны следующие ошибки:</span><span class="sxs-lookup"><span data-stu-id="d62ef-449">If the service is not running, you might see the following errors:</span></span>
   
   * <span data-ttu-id="d62ef-450">ErrorCode.CiSApplianceAgentNotOnline.</span><span class="sxs-lookup"><span data-stu-id="d62ef-450">ErrorCode.CiSApplianceAgentNotOnline</span></span>
   * <span data-ttu-id="d62ef-451">ErrorCode.CisPowershellScriptHcsError: при выполнении командлета Get-ClusterResource возникло исключение.</span><span class="sxs-lookup"><span data-stu-id="d62ef-451">ErrorCode.CisPowershellScriptHcsError – this indicates that there was an exception when you ran Get-ClusterResource.</span></span>
4. <span data-ttu-id="d62ef-452">Проверьте токен службы контроля доступа (ACS).</span><span class="sxs-lookup"><span data-stu-id="d62ef-452">Check the Access Control Service (ACS) token.</span></span> <span data-ttu-id="d62ef-453">Если возникает веб-исключение, причиной может быть проблема со шлюзом, непрохождение проверки подлинности на прокси-сервере, неверные параметры DNS или сбой проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="d62ef-453">If it throws a web exception, it might be the result of a gateway problem, a missing proxy authentication, an incorrect DNS, or an authentication failure.</span></span> <span data-ttu-id="d62ef-454">Возможны следующие ошибки:</span><span class="sxs-lookup"><span data-stu-id="d62ef-454">You might see the following errors:</span></span>
   
   * <span data-ttu-id="d62ef-455">ErrorCode.CiSApplianceGateway: исключение HttpStatusCode.BadGateway, указывающее, что службе разрешения имен не удалось разрешить имя узла.</span><span class="sxs-lookup"><span data-stu-id="d62ef-455">ErrorCode.CiSApplianceGateway – this indicates an HttpStatusCode.BadGateway exception: the name resolver service could not resolve the host name.</span></span> 
   * <span data-ttu-id="d62ef-456">ErrorCode.CiSApplianceProxy: исключение HttpStatusCode.ProxyAuthenticationRequired (код состояния HTTP 407): клиенту не удалось пройти проверку подлинности на прокси-сервере.</span><span class="sxs-lookup"><span data-stu-id="d62ef-456">ErrorCode.CiSApplianceProxy – this indicates an HttpStatusCode.ProxyAuthenticationRequired exception (HTTP status code 407): the client could not authenticate with the proxy server.</span></span> 
   * <span data-ttu-id="d62ef-457">ErrorCode.CiSApplianceDNSError: исключение WebExceptionStatus.NameResolutionFailure, указывающее, что службе разрешения имен не удалось разрешить имя узла.</span><span class="sxs-lookup"><span data-stu-id="d62ef-457">ErrorCode.CiSApplianceDNSError – this indicates a WebExceptionStatus.NameResolutionFailure exception: the name resolver service could not resolve the host name.</span></span>
   * <span data-ttu-id="d62ef-458">ErrorCode.CiSApplianceACSError: служба вернула ошибку проверки подлинности, однако подключение имеется.</span><span class="sxs-lookup"><span data-stu-id="d62ef-458">ErrorCode.CiSApplianceACSError – this indicates that the service returned an authentication error, but there is connectivity.</span></span>
     
     <span data-ttu-id="d62ef-459">Если веб-исключение не создается, проверьте, не появилась ли ошибка ErrorCode.CiSApplianceFailure.</span><span class="sxs-lookup"><span data-stu-id="d62ef-459">If it does not throw a web exception, check for ErrorCode.CiSApplianceFailure.</span></span> <span data-ttu-id="d62ef-460">Это означает, что в устройстве произошла ошибка.</span><span class="sxs-lookup"><span data-stu-id="d62ef-460">This indicates that the appliance failed.</span></span>
5. <span data-ttu-id="d62ef-461">Проверьте подключение к облачной службе.</span><span class="sxs-lookup"><span data-stu-id="d62ef-461">Check the cloud service connectivity.</span></span> <span data-ttu-id="d62ef-462">Если служба создает веб-исключение, возможны следующие ошибки:</span><span class="sxs-lookup"><span data-stu-id="d62ef-462">If the service throws a web exception, you might see the following errors:</span></span>
   
   * <span data-ttu-id="d62ef-463">ErrorCode.CiSApplianceGateway: исключение HttpStatusCode.BadGateway, указывающее, что промежуточный прокси-сервер получил недопустимый запрос от другого прокси-сервера или сервера-источника.</span><span class="sxs-lookup"><span data-stu-id="d62ef-463">ErrorCode.CiSApplianceGateway – this indicates an HttpStatusCode.BadGateway exception: an intermediate proxy server received a bad request from another proxy or from the original server.</span></span>
   * <span data-ttu-id="d62ef-464">ErrorCode.CiSApplianceProxy: исключение HttpStatusCode.ProxyAuthenticationRequired (код состояния HTTP 407): клиенту не удалось пройти проверку подлинности на прокси-сервере.</span><span class="sxs-lookup"><span data-stu-id="d62ef-464">ErrorCode.CiSApplianceProxy – this indicates an HttpStatusCode.ProxyAuthenticationRequired exception (HTTP status code 407): the client could not authenticate with the proxy server.</span></span> 
   * <span data-ttu-id="d62ef-465">ErrorCode.CiSApplianceDNSError: исключение WebExceptionStatus.NameResolutionFailure, указывающее, что службе разрешения имен не удалось разрешить имя узла.</span><span class="sxs-lookup"><span data-stu-id="d62ef-465">ErrorCode.CiSApplianceDNSError – this indicates a WebExceptionStatus.NameResolutionFailure exception: the name resolver service could not resolve the host name.</span></span>
   * <span data-ttu-id="d62ef-466">ErrorCode.CiSApplianceACSError: служба вернула ошибку проверки подлинности, однако подключение имеется.</span><span class="sxs-lookup"><span data-stu-id="d62ef-466">ErrorCode.CiSApplianceACSError – this indicates that the service returned an authentication error, but there is connectivity.</span></span>
     
     <span data-ttu-id="d62ef-467">Если веб-исключение не создается, проверьте, не появилась ли ошибка ErrorCode.CiSApplianceSaasServiceError.</span><span class="sxs-lookup"><span data-stu-id="d62ef-467">If it does not throw a web exception, check for ErrorCode.CiSApplianceSaasServiceError.</span></span> <span data-ttu-id="d62ef-468">Это указывает на проблему со службой диспетчера StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-468">This indicates a problem with the StorSimple Manager service.</span></span>
6. <span data-ttu-id="d62ef-469">Проверьте подключение к служебной шине Azure.</span><span class="sxs-lookup"><span data-stu-id="d62ef-469">Check Azure Service Bus connectivity.</span></span> <span data-ttu-id="d62ef-470">ErrorCode.CiSApplianceServiceBusError: устройству не удается подключиться к служебной шине.</span><span class="sxs-lookup"><span data-stu-id="d62ef-470">ErrorCode.CiSApplianceServiceBusError indicates that the device cannot connect to the Service Bus.</span></span>

<span data-ttu-id="d62ef-471">В файлах журналов CiSCommandletLog0Curr.errlog и CiSAgentsvc0Curr.errlog содержится больше информации, например сведения об исключениях.</span><span class="sxs-lookup"><span data-stu-id="d62ef-471">The log files CiSCommandletLog0Curr.errlog and CiSAgentsvc0Curr.errlog will have more information, such as exception details.</span></span> 

<span data-ttu-id="d62ef-472">Дополнительные сведения об использовании этого командлета см. в статье [Test-HcsmConnection](https://technet.microsoft.com/library/dn715782.aspx) в справочной документации по Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d62ef-472">For more information about how to use the cmdlet, go to [Test-HcsmConnection](https://technet.microsoft.com/library/dn715782.aspx) in the Windows PowerShell reference documentation.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d62ef-473">Этот командлет можно выполнять и для активного, и для пассивного контроллера.</span><span class="sxs-lookup"><span data-stu-id="d62ef-473">You can run this cmdlet for both the active and the passive controller.</span></span> 
> 
> 

<span data-ttu-id="d62ef-474">Примеры выходных данных командлета `Test-HcsmConnection` см. ниже.</span><span class="sxs-lookup"><span data-stu-id="d62ef-474">See the following samples of output from the `Test-HcsmConnection` cmdlet.</span></span> 

<span data-ttu-id="d62ef-475">**Образец вывода – успешно зарегистрированное устройство под управлением выпуска StorSimple (июль 2014 г.)**</span><span class="sxs-lookup"><span data-stu-id="d62ef-475">**Sample output – successfully registered device running StorSimple Release (July 2014)**</span></span>

<span data-ttu-id="d62ef-476">Первый пример — данные с устройства, которое было успешно зарегистрировано в службе диспетчера StorSimple и не имеет проблем с подключением.</span><span class="sxs-lookup"><span data-stu-id="d62ef-476">The first sample is from a device that is successfully registered with the StorSimple Manager service and has no connectivity issues.</span></span> 

     Controller1>Test-HcsmConnection -verbose
     Checking device state  ... Success.
     Device registered successfully
     Checking device authentication.  ... This operation will take few minutes to complete....
     Checking device authentication.  ... Success.
     Checking connectivity from device to StorSimple Manager service.  ... This operation will take few minutes to complete....
     Checking connectivity from device to StorSimple Manager service.  ... Success.
     Checking connectivity from StorSimple Manager service to StorSimple device. .... Success.
     Controller1>

<span data-ttu-id="d62ef-477">**Образец вывода — успешно зарегистрированное устройство под управлением обновления 1 для StorSimple**</span><span class="sxs-lookup"><span data-stu-id="d62ef-477">**Sample output – successfully registered device running StorSimple Update 1**</span></span>

<span data-ttu-id="d62ef-478">Если на устройстве StorSimple выполняется обновление 1, параметр подробного вывода указывать не нужно.</span><span class="sxs-lookup"><span data-stu-id="d62ef-478">If you are running Update 1 on your StorSimple device, you will not need to run it with the verbose switch.</span></span>

      Controller1>Test-HcsmConnection

      Checking device registration state  ... Success
      Device registered successfully

      Checking primary NTP server [time.windows.com] ... Success

      Checking web proxy  ... NOT SET

      Checking primary IPv4 DNS server [10.222.118.154] ... Success
      Checking primary IPv6 DNS server  ... NOT SET
      Checking secondary IPv4 DNS server [10.222.120.24] ... Success
      Checking secondary IPv6 DNS server  ... NOT SET

      Checking device online  ... Success

      Checking device authentication  ... This will take a few minutes.
      Checking device authentication  ... Success

      Checking connectivity from device to service  ... This will take a few minutes.

      Checking connectivity from device to service  ... Success

      Checking connectivity from service to device  ... Success

      Checking connectivity to Microsoft Update servers  ... Success
      Controller1>

<span data-ttu-id="d62ef-479">**Образец вывода – автономное устройство под управлением выпуска StorSimple (июль 2014 г.)**</span><span class="sxs-lookup"><span data-stu-id="d62ef-479">**Sample output – offline device running StorSimple Release (July 2014)**</span></span>

<span data-ttu-id="d62ef-480">Данный пример — это данные с устройства с состоянием **Вне сети** на классическом портале Azure.</span><span class="sxs-lookup"><span data-stu-id="d62ef-480">This sample is from a device that has a status of **Offline** in the Azure classic portal.</span></span>

     Checking device state: Success 
     Device is registered successfully 
     Checking connectivity from device to SaaS.. Failure

<span data-ttu-id="d62ef-481">Устройству не удалось подключиться с помощью текущей конфигурации веб-прокси.</span><span class="sxs-lookup"><span data-stu-id="d62ef-481">The device could not connect using the current web proxy configuration.</span></span> <span data-ttu-id="d62ef-482">Причиной может являться проблема в конфигурации веб-прокси или проблема с подключением к сети.</span><span class="sxs-lookup"><span data-stu-id="d62ef-482">This could be an issue with the web proxy configuration or a network connectivity problem.</span></span> <span data-ttu-id="d62ef-483">В этом случае следует убедиться в правильности параметров веб-прокси и в том, что веб-прокси-серверы подключены к сети и доступны.</span><span class="sxs-lookup"><span data-stu-id="d62ef-483">In this case, you should make sure that your web proxy settings are correct and your web proxy servers are online and reachable.</span></span> 

## <a name="troubleshoot-with-the-sync-hcstime-cmdlet"></a><span data-ttu-id="d62ef-484">Устранение неполадок с помощью командлета Sync-HcsTime</span><span class="sxs-lookup"><span data-stu-id="d62ef-484">Troubleshoot with the Sync-HcsTime cmdlet</span></span>
<span data-ttu-id="d62ef-485">Этот командлет используется для отображения времени на устройстве.</span><span class="sxs-lookup"><span data-stu-id="d62ef-485">Use this cmdlet to display the device time.</span></span> <span data-ttu-id="d62ef-486">Если время на устройстве не совпадает со временем на NTP-сервере, с помощью этого командлета можно выполнить принудительную синхронизацию с NTP-сервером.</span><span class="sxs-lookup"><span data-stu-id="d62ef-486">If the device time has an offset with the NTP server, you can then use this cmdlet to force-synchronize the time with your NTP server.</span></span> <span data-ttu-id="d62ef-487">Если временная разница между устройством и NTP-сервером составляет более 5 минут, появится предупреждение.</span><span class="sxs-lookup"><span data-stu-id="d62ef-487">If the offset between the device and NTP server is greater than 5 minutes, you will see a warning.</span></span> <span data-ttu-id="d62ef-488">Если эта разница превышает 15 минут, устройство перейдет в автономный режим.</span><span class="sxs-lookup"><span data-stu-id="d62ef-488">If the offset exceeds 15 minutes, then the device will go offline.</span></span> <span data-ttu-id="d62ef-489">Также этот командлет может выполнять принудительную синхронизацию времени.</span><span class="sxs-lookup"><span data-stu-id="d62ef-489">You can still use this cmdlet to force a time sync.</span></span> <span data-ttu-id="d62ef-490">Однако если разница превышает 15 часов, принудительная синхронизация невозможна. В этом случае появится сообщение об ошибке.</span><span class="sxs-lookup"><span data-stu-id="d62ef-490">However, if the offset exceeds 15 hours, then you will not be able to force-sync the time and an error message will be shown.</span></span>

<span data-ttu-id="d62ef-491">**Образец вывода – время принудительной синхронизации с помощью командлета Sync-HcsTime**</span><span class="sxs-lookup"><span data-stu-id="d62ef-491">**Sample output – forced time sync using Sync-HcsTime**</span></span>

     Controller0>Sync-HcsTime
     The current device time is 4/24/2015 4:05:40 PM UTC.

     Time difference between NTP server and appliance is 00.0824069 seconds. Do you want to resync time with NTP server?
     [Y] Yes [N] No (Default is "Y"): Y
     Controller0>

## <a name="troubleshoot-with-the-enable-hcsping-and-disable-hcsping-cmdlets"></a><span data-ttu-id="d62ef-492">Устранение неполадок с помощью командлетов Enable-HcsPing и Disable-HcsPing</span><span class="sxs-lookup"><span data-stu-id="d62ef-492">Troubleshoot with the Enable-HcsPing and Disable-HcsPing cmdlets</span></span>
<span data-ttu-id="d62ef-493">Эти командлеты следят за тем, чтобы сетевые интерфейсы на устройстве отвечали на запросы проверки связи ICMP.</span><span class="sxs-lookup"><span data-stu-id="d62ef-493">Use these cmdlets to ensure that the network interfaces on your device respond to ICMP ping requests.</span></span> <span data-ttu-id="d62ef-494">По умолчанию сетевые интерфейсы устройства StorSimple не отвечают на запросы проверки связи.</span><span class="sxs-lookup"><span data-stu-id="d62ef-494">By default the StorSimple network interfaces do not respond to ping requests.</span></span> <span data-ttu-id="d62ef-495">С помощью этого командлета вы сможете узнать, подключено ли ваше устройство к Интернету и доступно ли оно.</span><span class="sxs-lookup"><span data-stu-id="d62ef-495">Using this cmdlet is the easiest way to know if your device is online and reachable.</span></span>  

<span data-ttu-id="d62ef-496">**Пример выходных данных – Enable-HcsPing и Disable-HcsPing**</span><span class="sxs-lookup"><span data-stu-id="d62ef-496">**Sample output – Enable-HcsPing and Disable-HcsPing**</span></span>

     Controller0>
     Controller0>Enable-HcsPing
     Successfully enabled ping.
     Controller0>
     Controller0>
     Controller0>Disable-HcsPing
     Successfully disabled ping.
     Controller0>

## <a name="troubleshoot-with-the-trace-hcsroute-cmdlet"></a><span data-ttu-id="d62ef-497">Устранение неполадок с помощью командлета Trace-HcsRoute cmdlet</span><span class="sxs-lookup"><span data-stu-id="d62ef-497">Troubleshoot with the Trace-HcsRoute cmdlet</span></span>
<span data-ttu-id="d62ef-498">Этот командлет выполняет трассировку маршрута.</span><span class="sxs-lookup"><span data-stu-id="d62ef-498">Use this cmdlet as a route tracing tool.</span></span> <span data-ttu-id="d62ef-499">Он отправляет пакеты на все маршрутизаторы, расположенные на пути к конечной точке, а затем вычисляет результат, используя полученные из каждой точки перехода пакеты.</span><span class="sxs-lookup"><span data-stu-id="d62ef-499">It sends packets to each router on the way to a final destination over a period of time, and then computes results based on the packets returned from each hop.</span></span> <span data-ttu-id="d62ef-500">Поскольку этот командлет не исключает потерю некоторого количества пакетов для каждого маршрутизатора или линии связи, можно установить, какие именно маршрутизаторы или линии связи могут вызывать проблемы с сетью.</span><span class="sxs-lookup"><span data-stu-id="d62ef-500">Because the cmdlet shows the degree of packet loss at any given router or link, you can pinpoint which routers or links might be causing network problems.</span></span>

<span data-ttu-id="d62ef-501">**Вывод образца, демонстрирующий трассировку маршрута пакета с помощью Trace-HcsRoute**</span><span class="sxs-lookup"><span data-stu-id="d62ef-501">**Sample output showing how to trace the route of a packet with Trace-HcsRoute**</span></span>

     Controller0>Trace-HcsRoute -Target 10.126.174.25

     Tracing route to contoso.com [10.126.174.25]
     over a maximum of 30 hops:
       0  HCSNode0 [10.126.173.90]
       1  contoso.com [10.126.174.25]

     Computing statistics for 25 seconds...
                 Source to Here   This Node/Link
     Hop  RTT    Lost/Sent = Pct  Lost/Sent = Pct  Address
       0                                           HCSNode0 [10.126.173.90]
                                     0/ 100 =  0%   |
       1    0ms     0/ 100 =  0%     0/ 100 =  0%  contoso.com
      [10.126.174.25]

     Trace complete.

## <a name="troubleshoot-with-the-get-hcsroutingtable-cmdlet"></a><span data-ttu-id="d62ef-502">Устранение неполадок с помощью командлета Get-HcsRoutingTable</span><span class="sxs-lookup"><span data-stu-id="d62ef-502">Troubleshoot with the Get-HcsRoutingTable cmdlet</span></span>
<span data-ttu-id="d62ef-503">Этот командлет используется для просмотра таблицы маршрутизации для устройства StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-503">Use this cmdlet to view the routing table for your StorSimple device.</span></span> <span data-ttu-id="d62ef-504">Таблица маршрутизации — это набор правил, которые выполняют определение направления пакетов данных, передаваемых по сети, построенной по межсетевому протоколу (IP).</span><span class="sxs-lookup"><span data-stu-id="d62ef-504">A routing table is a set of rules that can help determine where data packets traveling over an Internet Protocol (IP) network will be directed.</span></span> 

<span data-ttu-id="d62ef-505">В таблице маршрутизации показаны интерфейсы и шлюз, который направляет данные по указанным сетям.</span><span class="sxs-lookup"><span data-stu-id="d62ef-505">The routing table shows the interfaces and the gateway that routes the data to the specified networks.</span></span> <span data-ttu-id="d62ef-506">Она также предоставляет метрики маршрутизации, которые имеют решающее значение при выборе пути, ведущего в заданную точку.</span><span class="sxs-lookup"><span data-stu-id="d62ef-506">It also gives the routing metric which is the decision maker for the path taken to reach a particular destination.</span></span> <span data-ttu-id="d62ef-507">Чем ниже метрика маршрутизации, тем выше приоритет.</span><span class="sxs-lookup"><span data-stu-id="d62ef-507">The lower the routing metric, the higher the preference.</span></span> 

<span data-ttu-id="d62ef-508">Например, у вас есть 2 сетевых интерфейса (DATA 2 и DATA 3), подключенных к Интернету.</span><span class="sxs-lookup"><span data-stu-id="d62ef-508">For example, if you have 2 network interfaces, DATA 2 and DATA 3, connected to the Internet.</span></span> <span data-ttu-id="d62ef-509">Если метрики маршрутизации для интерфейсов DATA 2 и DATA 3 составляют 15 и 261 соответственно, в этом случае интерфейс DATA 2 с меньшей метрикой маршрутизации является предпочтительным для доступа в Интернет.</span><span class="sxs-lookup"><span data-stu-id="d62ef-509">If the routing metrics for DATA 2 and DATA 3 are 15 and 261 respectively, then DATA 2 with the lower routing metric is the preferred interface used to reach the Internet.</span></span>

<span data-ttu-id="d62ef-510">Если на устройстве StorSimple выполняется обновление 1, для облачного трафика сетевой интерфейс DATA 0 имеет наивысший приоритет.</span><span class="sxs-lookup"><span data-stu-id="d62ef-510">If you are running Update 1 on your StorSimple device, your DATA 0 network interface has the highest preference for the cloud traffic.</span></span> <span data-ttu-id="d62ef-511">Это означает, что даже при наличии других поддерживающих облако интерфейсов облачный трафик будет проходить через интерфейс DATA 0.</span><span class="sxs-lookup"><span data-stu-id="d62ef-511">This implies that even if there are other cloud-enabled interfaces, the cloud traffic would be routed through DATA 0.</span></span> 

<span data-ttu-id="d62ef-512">Если при запуске командлета `Get-HcsRoutingTable` не задать параметры (как показано в следующем примере), командлет будет выводить таблицы маршрутизации IPv4 и IPv6.</span><span class="sxs-lookup"><span data-stu-id="d62ef-512">If you run the `Get-HcsRoutingTable` cmdlet without specifying any parameters (as the following example shows), the cmdlet will output both IPv4 and IPv6 routing tables.</span></span> <span data-ttu-id="d62ef-513">Для получения соответствующей таблицы маршрутизации также можно указать `Get-HcsRoutingTable -IPv4` или `Get-HcsRoutingTable -IPv6`.</span><span class="sxs-lookup"><span data-stu-id="d62ef-513">Alternatively, you can specify `Get-HcsRoutingTable -IPv4` or `Get-HcsRoutingTable -IPv6`  to get a relevant routing table.</span></span>

      Controller0>
      Controller0>Get-HcsRoutingTable
      ===========================================================================
      Interface List
       14...00 50 cc 79 63 40 ......Intel(R) 82574L Gigabit Network Connection
       12...02 9a 0a 5b 98 1f ......Microsoft Failover Cluster Virtual Adapter
       13...28 18 78 bc 4b 85 ......HCS VNIC
        1...........................Software Loopback Interface 1
       21...00 00 00 00 00 00 00 e0 Microsoft ISATAP Adapter #2
       22...00 00 00 00 00 00 00 e0 Microsoft ISATAP Adapter #3
      ===========================================================================

      IPv4 Route Table
      ===========================================================================
      Active Routes:
      Network Destination        Netmask          Gateway       Interface  Metric
                0.0.0.0          0.0.0.0  192.168.111.100  192.168.111.101     15
              127.0.0.0        255.0.0.0         On-link         127.0.0.1    306
              127.0.0.1  255.255.255.255         On-link         127.0.0.1    306
        127.255.255.255  255.255.255.255         On-link         127.0.0.1    306
            169.254.0.0      255.255.0.0         On-link     169.254.1.235    261
          169.254.1.235  255.255.255.255         On-link     169.254.1.235    261
        169.254.255.255  255.255.255.255         On-link     169.254.1.235    261
          192.168.111.0    255.255.255.0         On-link   192.168.111.101    266
        192.168.111.101  255.255.255.255         On-link   192.168.111.101    266
        192.168.111.255  255.255.255.255         On-link   192.168.111.101    266
              224.0.0.0        240.0.0.0         On-link         127.0.0.1    306
              224.0.0.0        240.0.0.0         On-link     169.254.1.235    261
              224.0.0.0        240.0.0.0         On-link   192.168.111.101    266
        255.255.255.255  255.255.255.255         On-link         127.0.0.1    306
        255.255.255.255  255.255.255.255         On-link     169.254.1.235    261
        255.255.255.255  255.255.255.255         On-link   192.168.111.101    266
      ===========================================================================
      Persistent Routes:
        Network Address          Netmask  Gateway Address  Metric
                0.0.0.0          0.0.0.0  192.168.111.100       5
      ===========================================================================

      IPv6 Route Table
      ===========================================================================
      Active Routes:
       If Metric Network Destination      Gateway
        1    306 ::1/128                  On-link
       13    276 fd99:4c5b:5525:d80b::/64 On-link
       13    276 fd99:4c5b:5525:d80b::1/128
                                          On-link
       13    276 fd99:4c5b:5525:d80b::3/128
                                          On-link
       13    276 fe80::/64                On-link
       12    261 fe80::/64                On-link
       13    276 fe80::17a:4eba:7c80:727f/128
                                          On-link
       12    261 fe80::fc97:1a53:e81a:3454/128
                                          On-link
        1    306 ff00::/8                 On-link
       13    276 ff00::/8                 On-link
       12    261 ff00::/8                 On-link
       14    266 ff00::/8                 On-link
      ===========================================================================
      Persistent Routes:
        None

      Controller0>

## <a name="step-by-step-storsimple-troubleshooting-example"></a><span data-ttu-id="d62ef-514">Пример с пошаговыми инструкциями по устранению неполадок в устройстве StorSimple</span><span class="sxs-lookup"><span data-stu-id="d62ef-514">Step-by-step StorSimple troubleshooting example</span></span>
<span data-ttu-id="d62ef-515">В следующем примере показано пошаговое устранение неполадок в развертывании StorSimple.</span><span class="sxs-lookup"><span data-stu-id="d62ef-515">The following example shows step-by-step troubleshooting of a StorSimple deployment.</span></span> <span data-ttu-id="d62ef-516">В этом сценарии регистрация устройства завершается сбоем с сообщением об ошибке, которое указывает, что параметры сети или DNS-имя неверны.</span><span class="sxs-lookup"><span data-stu-id="d62ef-516">In the example scenario, device registration fails with an error message indicating that the network settings or the DNS name is incorrect.</span></span>

<span data-ttu-id="d62ef-517">Возвращаемое сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="d62ef-517">The error message returned is:</span></span>

     Invoke-HcsSetupWizard: An error has occurred while registering the device. This could be due to incorrect IP address or DNS name. Please check your network settings and try again. If the problems persist, contact Microsoft Support.
     +CategoryInfo: Not specified
     +FullyQualifiedErrorID: CiSClientCommunicationErros, Microsoft.HCS.Management.PowerShell.Cmdlets.InvokeHcsSetupWizardCommand

<span data-ttu-id="d62ef-518">Ошибка может быть вызвана следующими причинами:</span><span class="sxs-lookup"><span data-stu-id="d62ef-518">The error could be caused by any of the following:</span></span>

* <span data-ttu-id="d62ef-519">Неверная установка оборудования.</span><span class="sxs-lookup"><span data-stu-id="d62ef-519">Incorrect hardware installation</span></span>
* <span data-ttu-id="d62ef-520">Неисправные сетевые интерфейсы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-520">Faulty network interface(s)</span></span>
* <span data-ttu-id="d62ef-521">Неправильный IP-адрес, маска подсети, шлюз, основной DNS-сервер или веб-прокси.</span><span class="sxs-lookup"><span data-stu-id="d62ef-521">Incorrect IP address, subnet mask, gateway, primary DNS server, or web proxy</span></span>
* <span data-ttu-id="d62ef-522">Неверный ключ регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-522">Incorrect registration key</span></span>
* <span data-ttu-id="d62ef-523">Неверные настройки брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="d62ef-523">Incorrect firewall settings</span></span>

### <a name="to-locate-and-fix-the-device-registration-problem"></a><span data-ttu-id="d62ef-524">Поиск и устранение проблем с регистрацией устройства</span><span class="sxs-lookup"><span data-stu-id="d62ef-524">To locate and fix the device registration problem</span></span>
1. <span data-ttu-id="d62ef-525">Проверьте конфигурацию устройств: на активном контроллере выполните командлет `Invoke-HcsSetupWizard`.</span><span class="sxs-lookup"><span data-stu-id="d62ef-525">Check your device configuration: on the active controller, run `Invoke-HcsSetupWizard`.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="d62ef-526">Мастер установки необходимо выполнять на активном контроллере.</span><span class="sxs-lookup"><span data-stu-id="d62ef-526">The setup wizard must run on the active controller.</span></span> <span data-ttu-id="d62ef-527">Чтобы убедиться, что вы подключены к активному контроллеру, посмотрите на баннер на последовательной консоли.</span><span class="sxs-lookup"><span data-stu-id="d62ef-527">To verify that you are connected to the active controller, look at the banner presented in the serial console.</span></span> <span data-ttu-id="d62ef-528">Баннер показывает, к какому контроллеру вы подключены (0 или 1) и является ли контроллер активным или пассивным.</span><span class="sxs-lookup"><span data-stu-id="d62ef-528">The banner indicates whether you are connected to controller 0 or controller 1, and whether the controller is active or passive.</span></span> <span data-ttu-id="d62ef-529">Дополнительные сведения см. в разделе [Определение активного контроллера устройства](storsimple-controller-replacement.md#identify-the-active-controller-on-your-device).</span><span class="sxs-lookup"><span data-stu-id="d62ef-529">For more information, go to [Identify an active controller on your device](storsimple-controller-replacement.md#identify-the-active-controller-on-your-device).</span></span>
   > 
   > 
2. <span data-ttu-id="d62ef-530">Убедитесь, что устройство правильно подключено: проверьте подключение сетевых кабелей на задней панели устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-530">Make sure that the device is cabled correctly: check the network cabling on the device back plane.</span></span> <span data-ttu-id="d62ef-531">Схема подключения кабелей различается в зависимости от модели устройства.</span><span class="sxs-lookup"><span data-stu-id="d62ef-531">The cabling is specific to the device model.</span></span> <span data-ttu-id="d62ef-532">Дополнительные сведения см. в разделах [Установка устройства StorSimple 8100](storsimple-8100-hardware-installation.md) или [Установка устройства StorSimple 8600](storsimple-8600-hardware-installation.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-532">For more information, go to [Install your StorSimple 8100 device](storsimple-8100-hardware-installation.md) or [Install your StorSimple 8600 device](storsimple-8600-hardware-installation.md).</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="d62ef-533">При использовании сетевых портов 10 GbE, необходимо будет использовать поставляемые в комплекте адаптеры QSFP-SFP и кабели SFP.</span><span class="sxs-lookup"><span data-stu-id="d62ef-533">If you are using 10 GbE network ports, you will need to use the provided QSFP-SFP adapters and SFP cables.</span></span> <span data-ttu-id="d62ef-534">Вы можете найти список кабелей, коммутаторов и приемопередатчиков, рекомендуемых для портов 10 GbE на [этой странице](storsimple-supported-hardware-for-10-gbe-network-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-534">For more information, see the [list of cables, switches, and transceivers recommended for the 10 GbE ports](storsimple-supported-hardware-for-10-gbe-network-interfaces.md).</span></span>
   > 
   > 
3. <span data-ttu-id="d62ef-535">Убедитесь в работоспособности сетевого интерфейса:</span><span class="sxs-lookup"><span data-stu-id="d62ef-535">Verify the health of the network interface:</span></span>
   
   * <span data-ttu-id="d62ef-536">Воспользуйтесь командлетом Get-NetAdapter, чтобы определить работоспособность сетевых интерфейсов для DATA 0.</span><span class="sxs-lookup"><span data-stu-id="d62ef-536">Use the Get-NetAdapter cmdlet to detect the health of the network interfaces for DATA 0.</span></span> 
   * <span data-ttu-id="d62ef-537">Если связь не работает, состояние **ifindex** укажет на то, что интерфейс не работает.</span><span class="sxs-lookup"><span data-stu-id="d62ef-537">If the link isn't functioning, the **ifindex** status will indicate that the interface is down.</span></span> <span data-ttu-id="d62ef-538">Затем необходимо будет проверить сетевое подключение порта к устройству и коммутатору.</span><span class="sxs-lookup"><span data-stu-id="d62ef-538">You will then need to check the network connection of the port to the appliance and to the switch.</span></span> <span data-ttu-id="d62ef-539">Также необходимо будет исключить поврежденные кабели.</span><span class="sxs-lookup"><span data-stu-id="d62ef-539">You will also need to rule out bad cables.</span></span> 
   * <span data-ttu-id="d62ef-540">Если вы подозреваете, что произошел сбой порта DATA 0 на активном контроллере, это можно проверить, подключившись к порту DATA 0 на контроллере 1.</span><span class="sxs-lookup"><span data-stu-id="d62ef-540">If you suspect that the DATA 0 port on the active controller has failed, you can confirm this by connecting to the DATA 0 port on controller 1.</span></span> <span data-ttu-id="d62ef-541">Чтобы проверить это, отключите сетевой кабель на задней панели устройства от контроллера 0, подключите его к контроллеру 1 и снова выполните командлет Get-NetAdapter.</span><span class="sxs-lookup"><span data-stu-id="d62ef-541">To confirm this, disconnect the network cable from the back of the device from controller 0, connect the cable to controller 1, and then run the Get-NetAdapter cmdlet again.</span></span> 
     <span data-ttu-id="d62ef-542">Если происходит сбой порта DATA 0 на контроллере, [обратитесь в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) для получения дальнейших инструкций.</span><span class="sxs-lookup"><span data-stu-id="d62ef-542">If the DATA 0 port on a controller fails, [contact Microsoft Support](storsimple-contact-microsoft-support.md) for next steps.</span></span> <span data-ttu-id="d62ef-543">Возможно, потребуется заменить контроллер в системе.</span><span class="sxs-lookup"><span data-stu-id="d62ef-543">You might need to replace the controller on your system.</span></span>
4. <span data-ttu-id="d62ef-544">Проверьте подключение к коммутатору:</span><span class="sxs-lookup"><span data-stu-id="d62ef-544">Verify the connectivity to the switch:</span></span>
   
   * <span data-ttu-id="d62ef-545">Убедитесь что сетевые интерфейсы DATA 0 на контроллере 0 и контроллере 1 основного корпуса находятся в одной подсети.</span><span class="sxs-lookup"><span data-stu-id="d62ef-545">Make sure that DATA 0 network interfaces on controller 0 and controller 1 in your primary enclosure are on the same subnet.</span></span> 
   * <span data-ttu-id="d62ef-546">Проверьте концентратор или маршрутизатор.</span><span class="sxs-lookup"><span data-stu-id="d62ef-546">Check the hub or router.</span></span> <span data-ttu-id="d62ef-547">Как правило, необходимо подключить оба контроллера к одному и тому же концентратору или маршрутизатору.</span><span class="sxs-lookup"><span data-stu-id="d62ef-547">Typically, you should connect both controllers to the same hub or router.</span></span> 
   * <span data-ttu-id="d62ef-548">Убедитесь, что коммутаторы, используемые для подключения, настроены на размещение портов DATA 0 для обоих контроллеров в одной виртуальной ЛС.</span><span class="sxs-lookup"><span data-stu-id="d62ef-548">Make sure that the switches you use for the connection have DATA 0 for both controllers in the same vLAN.</span></span>
5. <span data-ttu-id="d62ef-549">Исключите ошибки пользователей:</span><span class="sxs-lookup"><span data-stu-id="d62ef-549">Eliminate any user errors:</span></span>
   
   * <span data-ttu-id="d62ef-550">Снова запустите мастер установки (выполните командлет **Invoke-HcsSetupWizard**) и снова введите значения, чтобы убедиться в отсутствии ошибок.</span><span class="sxs-lookup"><span data-stu-id="d62ef-550">Run the setup wizard again (run **Invoke-HcsSetupWizard**), and enter the values again to make sure that there are no errors.</span></span> 
   * <span data-ttu-id="d62ef-551">Проверьте используемый ключ регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-551">Verify the registration key used.</span></span> <span data-ttu-id="d62ef-552">Один и тот же ключ регистрации можно использовать для подключения к службе диспетчера StorSimple нескольких устройств.</span><span class="sxs-lookup"><span data-stu-id="d62ef-552">The same registration key can be used to connect multiple devices to a StorSimple Manager service.</span></span> <span data-ttu-id="d62ef-553">Воспользуйтесь процедурой, описанной в статье [Получение ключа регистрации службы](storsimple-manage-service.md#get-the-service-registration-key) , чтобы убедиться, что используется правильный ключ регистрации.</span><span class="sxs-lookup"><span data-stu-id="d62ef-553">Use the procedure in [Get the service registration key](storsimple-manage-service.md#get-the-service-registration-key) to ensure that you are using the correct registration key.</span></span>
     
     > [!IMPORTANT]
     > <span data-ttu-id="d62ef-554">Если выполняется несколько служб, необходимо убедиться, что для регистрации устройства используется ключ регистрации от правильной службы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-554">If you have multiple services running, you will need to ensure that the registration key for the appropriate service is used to register the device.</span></span> <span data-ttu-id="d62ef-555">Если устройство зарегистрировано в неверной службе диспетчера StorSimple, необходимо [обратиться в службу поддержки Майкрософт](storsimple-contact-microsoft-support.md) для получения дальнейших инструкций.</span><span class="sxs-lookup"><span data-stu-id="d62ef-555">If you have registered a device with the wrong StorSimple Manager service, you will need to [contact Microsoft Support](storsimple-contact-microsoft-support.md) for next steps.</span></span> <span data-ttu-id="d62ef-556">Возможно, потребуется восстановить на устройстве заводские настройки (что может привести к потере данных), чтобы подключить его к правильной службе.</span><span class="sxs-lookup"><span data-stu-id="d62ef-556">You may have to perform a factory reset of the device (which could result in data loss) to then connect it to the intended service.</span></span>
     > 
     > 
6. <span data-ttu-id="d62ef-557">Используйте командлет Test-Connection, чтобы убедиться в наличии подключения к внешней сети.</span><span class="sxs-lookup"><span data-stu-id="d62ef-557">Use the Test-Connection cmdlet to verify that you have connectivity to the outside network.</span></span> <span data-ttu-id="d62ef-558">Дополнительные сведения см. в разделе [Устранение неполадок с использованием командлета Test-Connection](#troubleshoot-with-the-test-connection-cmdlet).</span><span class="sxs-lookup"><span data-stu-id="d62ef-558">For more information, go to [Troubleshoot with the Test-Connection cmdlet](#troubleshoot-with-the-test-connection-cmdlet).</span></span>
7. <span data-ttu-id="d62ef-559">Проверьте на помехи со стороны брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="d62ef-559">Check for firewall interference.</span></span> <span data-ttu-id="d62ef-560">Если вы убедились в правильности настроек виртуального IP-адреса (VIP), подсети, шлюза и DNS, а проблемы подключения не устранены, возможно, ваш брандмауэр блокирует связь между устройством и внешней сетью.</span><span class="sxs-lookup"><span data-stu-id="d62ef-560">If you have verified that the virtual IP (VIP), subnet, gateway, and DNS settings are all correct, and you still see connectivity issues, then it is possible that your firewall is blocking communication between your device and the outside network.</span></span> <span data-ttu-id="d62ef-561">Необходимо убедиться, что порты 80 и 443 на устройстве StorSimple доступны для исходящего трафика.</span><span class="sxs-lookup"><span data-stu-id="d62ef-561">You need to ensure that ports 80 and 443 are available on your StorSimple device for outbound communication.</span></span> <span data-ttu-id="d62ef-562">Дополнительные сведения см. в разделе [Требования к сети для устройства StorSimple](storsimple-system-requirements.md#networking-requirements-for-your-storsimple-device).</span><span class="sxs-lookup"><span data-stu-id="d62ef-562">For more information, see [Networking requirements for your StorSimple device](storsimple-system-requirements.md#networking-requirements-for-your-storsimple-device).</span></span>
8. <span data-ttu-id="d62ef-563">Просмотрите журналы.</span><span class="sxs-lookup"><span data-stu-id="d62ef-563">Look at the logs.</span></span> <span data-ttu-id="d62ef-564">Перейдите в раздел [Пакеты поддержки и журналы устройств, доступные для устранения неполадок](#support-packages-and-device-logs-available-for-troubleshooting).</span><span class="sxs-lookup"><span data-stu-id="d62ef-564">Go to [Support packages and device logs available for troubleshooting](#support-packages-and-device-logs-available-for-troubleshooting).</span></span>
9. <span data-ttu-id="d62ef-565">Если разрешить проблему, выполнив предыдущие действия, не удалось, [обратитесь в службу технической поддержки Майкрософт](storsimple-contact-microsoft-support.md) за помощью.</span><span class="sxs-lookup"><span data-stu-id="d62ef-565">If the preceding steps do not solve the problem, [contact Microsoft Support](storsimple-contact-microsoft-support.md) for assistance.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d62ef-566">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="d62ef-566">Next steps</span></span>
<span data-ttu-id="d62ef-567">[Узнайте, как устранять неполадки в работающем устройстве](storsimple-troubleshoot-operational-device.md).</span><span class="sxs-lookup"><span data-stu-id="d62ef-567">[Learn how to troubleshoot an operational device](storsimple-troubleshoot-operational-device.md).</span></span>

<!--Link references-->

[1]: https://technet.microsoft.com/library/dd379547(v=ws.10).aspx
[2]: https://technet.microsoft.com/library/dd392266(v=ws.10).aspx 
