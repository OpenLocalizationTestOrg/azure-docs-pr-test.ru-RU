---
title: "Установка адаптера StorSimple для SharePoint | Документация Майкрософт"
description: "В статье описываются установка, настройка и удаление адаптера StorSimple для SharePoint в ферме серверов SharePoint."
services: storsimple
documentationcenter: NA
author: SharS
manager: timlt
editor: 
ms.assetid: 36c20b75-f2e5-4184-a6b5-9c5e618f79b2
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: TBD
ms.date: 06/06/2017
ms.author: v-sharos
ms.openlocfilehash: 8910471e09b9ecc797005818538ccfc6a91c68a9
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="install-and-configure-the-storsimple-adapter-for-sharepoint"></a><span data-ttu-id="aeb36-103">Установка и настройка адаптера StorSimple для SharePoint</span><span class="sxs-lookup"><span data-stu-id="aeb36-103">Install and configure the StorSimple Adapter for SharePoint</span></span>
## <a name="overview"></a><span data-ttu-id="aeb36-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="aeb36-104">Overview</span></span>
<span data-ttu-id="aeb36-105">Адаптер StorSimple для SharePoint — это компонент, который позволяет предоставить гибкие хранилища и защиту данных Microsoft Azure StorSimple для ферм серверов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-105">The StorSimple Adapter for SharePoint is a component that lets you provide Microsoft Azure StorSimple flexible storage and data protection to SharePoint server farms.</span></span> <span data-ttu-id="aeb36-106">Адаптер можно использовать для перемещения содержимого больших двоичных объектов из баз данных SQL Server в гибридное облачное хранилище Microsoft Azure StorSimple.</span><span class="sxs-lookup"><span data-stu-id="aeb36-106">You can use the adapter to move Binary Large Object (BLOB) content from the SQL Server content databases to the Microsoft Azure StorSimple hybrid cloud storage device.</span></span>

<span data-ttu-id="aeb36-107">Адаптер StorSimple для SharePoint работает как поставщик удаленного хранилища больших двоичных объектов (RBS) и использует функцию SQL-сервера удаленного хранилища больших двоичных объектов для хранения неструктурированного содержимого SharePoint (в виде больших двоичных объектов) на файловом сервере, который поддерживается устройством StorSimple.</span><span class="sxs-lookup"><span data-stu-id="aeb36-107">The StorSimple Adapter for SharePoint functions as a Remote BLOB Storage (RBS) provider and uses the SQL Server Remote BLOB Storage feature to store unstructured SharePoint content (in the form of BLOBs) on a file server that is backed by a StorSimple device.</span></span>

> [!NOTE]
> <span data-ttu-id="aeb36-108">Адаптер StorSimple для SharePoint поддерживает удаленное хранилище больших двоичных объектов SharePoint Server 2010 (RBS).</span><span class="sxs-lookup"><span data-stu-id="aeb36-108">The StorSimple Adapter for SharePoint supports SharePoint Server 2010 Remote BLOB Storage (RBS).</span></span> <span data-ttu-id="aeb36-109">Он не поддерживает внешнее хранилище больших двоичных объектов SharePoint Server 2010 (EBS).</span><span class="sxs-lookup"><span data-stu-id="aeb36-109">It does not support SharePoint Server 2010 External BLOB Storage (EBS).</span></span>


* <span data-ttu-id="aeb36-110">Чтобы скачать адаптер StorSimple для SharePoint, перейдите в раздел [Адаптер StorSimple для SharePoint][1] в центре загрузки Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="aeb36-110">To download the StorSimple Adapter for SharePoint, go to [StorSimple Adapter for SharePoint][1] in the Microsoft Download Center.</span></span>
* <span data-ttu-id="aeb36-111">Сведения о планировании для RBS и ограничениях RBS приведены в статьях [Принятие решения об использовании удаленного хранилища больших двоичных объектов в SharePoint 2013][2] и [Планирование использования удаленного хранилища больших двоичных объектов (SharePoint Server 2010)][3].</span><span class="sxs-lookup"><span data-stu-id="aeb36-111">For information about planning for RBS and RBS limitations, go to [Deciding to use RBS in SharePoint 2013][2] or [Plan for RBS (SharePoint Server 2010)][3].</span></span>

<span data-ttu-id="aeb36-112">В остальной части этой статьи кратко описана роль адаптера StorSimple для SharePoint и ограничения емкости и производительности SharePoint, которые следует учитывать перед установкой и настройкой адаптера.</span><span class="sxs-lookup"><span data-stu-id="aeb36-112">The rest of this overview briefly describes the role of the StorSimple Adapter for SharePoint and the SharePoint capacity and performance limits that you should be aware of before you install and configure the adapter.</span></span> <span data-ttu-id="aeb36-113">После просмотра этих сведений перейдите к разделу [Адаптер StorSimple для SharePoint](#storsimple-adapter-for-sharepoint-installation) , чтобы приступить к настройке адаптера.</span><span class="sxs-lookup"><span data-stu-id="aeb36-113">After you review this information, go to [StorSimple Adapter for SharePoint installation](#storsimple-adapter-for-sharepoint-installation) to begin setting up the adapter.</span></span>

### <a name="storsimple-adapter-for-sharepoint-benefits"></a><span data-ttu-id="aeb36-114">Преимущества адаптера StorSimple для SharePoint</span><span class="sxs-lookup"><span data-stu-id="aeb36-114">StorSimple Adapter for SharePoint benefits</span></span>
<span data-ttu-id="aeb36-115">На сайте SharePoint содержимое хранится в виде неструктурированных данных больших двоичных объектов в одной или нескольких базах данных содержимого.</span><span class="sxs-lookup"><span data-stu-id="aeb36-115">In a SharePoint site, content is stored as unstructured BLOB data in one or more content databases.</span></span> <span data-ttu-id="aeb36-116">По умолчанию эти базы данных размещаются на компьютерах, на которых работает SQL Server и которые расположены в ферме серверов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-116">By default, these databases are hosted on computers that are running SQL Server and are located in the SharePoint server farm.</span></span> <span data-ttu-id="aeb36-117">Большие двоичные объекты могут быстро увеличиваться в размерах, занимая огромный объем пространства в локальном хранилище.</span><span class="sxs-lookup"><span data-stu-id="aeb36-117">BLOBs can rapidly increase in size, consuming large amounts of on-premises storage.</span></span> <span data-ttu-id="aeb36-118">Поэтому вы можете предпочесть другие, более дешевые решения для хранилищ.</span><span class="sxs-lookup"><span data-stu-id="aeb36-118">For this reason, you might want to find another, less-expensive storage solution.</span></span> <span data-ttu-id="aeb36-119">SQL Server предоставляет технологию, которая называется удаленным хранилищем больших двоичных объектов (RBS), и позволяет хранить содержимое больших двоичных объектов в файловой системе вне базы данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="aeb36-119">SQL Server provides a technology called Remote Blob Storage (RBS) that lets you store BLOB content in the file system, outside the SQL Server database.</span></span> <span data-ttu-id="aeb36-120">При использовании RBS большие двоичные объекты можно разместить в файловой системе на компьютере, на котором работает SQL Server, или в файловой системе другого серверного компьютера.</span><span class="sxs-lookup"><span data-stu-id="aeb36-120">With RBS, BLOBs can reside in the file system on the computer that is running SQL Server, or they can be stored in the file system on another server computer.</span></span>

<span data-ttu-id="aeb36-121">Для RBS требуется использовать поставщик RBS, например адаптер StorSimple для SharePoint, с помощью которого можно воспользоваться RBS в SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-121">RBS requires that you use an RBS provider, such as the StorSimple Adapter for SharePoint, to enable RBS in SharePoint.</span></span> <span data-ttu-id="aeb36-122">Адаптер StorSimple для SharePoint работает с RBS, позволяя перемещать большие двоичные объекты на сервер, работающий под управлением системы Microsoft Azure StorSimple.</span><span class="sxs-lookup"><span data-stu-id="aeb36-122">The StorSimple Adapter for SharePoint works with RBS, letting you move BLOBs to a server backed up by the Microsoft Azure StorSimple system.</span></span> <span data-ttu-id="aeb36-123">Затем Microsoft Azure StorSimple сохраняет данные больших двоичных объектов локально, в облаке, на основе использования.</span><span class="sxs-lookup"><span data-stu-id="aeb36-123">Microsoft Azure StorSimple then stores the BLOB data locally or in the cloud, based on usage.</span></span> <span data-ttu-id="aeb36-124">Большие двоичные объекты, которые очень активны (их обычно называют "горячими данными" или уровнем 1), размещаются локально.</span><span class="sxs-lookup"><span data-stu-id="aeb36-124">BLOBs that are very active (typically referred to as Tier 1 or hot data) reside locally.</span></span> <span data-ttu-id="aeb36-125">Менее активные и архивные данные размещаются в облаке.</span><span class="sxs-lookup"><span data-stu-id="aeb36-125">Less active data and archival data reside in the cloud.</span></span> <span data-ttu-id="aeb36-126">После включения RBS для базы данных содержимого все новое содержимое больших двоичных объектов, создаваемых в SharePoint, будет храниться на устройстве StorSimple, а не в базе данных содержимого.</span><span class="sxs-lookup"><span data-stu-id="aeb36-126">After you enable RBS on a content database, any new BLOB content created in SharePoint is stored on the StorSimple device and not in the content database.</span></span>

<span data-ttu-id="aeb36-127">Реализация RBS в Microsoft Azure StorSimple обладает следующими преимуществами.</span><span class="sxs-lookup"><span data-stu-id="aeb36-127">The Microsoft Azure StorSimple implementation of RBS provides the following benefits:</span></span>

* <span data-ttu-id="aeb36-128">Путем перемещения содержимого больших двоичных объектов на отдельный сервер можно уменьшить нагрузку по запросам на SQL Server, что может уменьшить время отклика SQL Server.</span><span class="sxs-lookup"><span data-stu-id="aeb36-128">By moving BLOB content to a separate server, you can reduce the query load on SQL Server, which can improve SQL Server responsiveness.</span></span> 
* <span data-ttu-id="aeb36-129">В Azure StorSimple используются дедупликация и сжатие для уменьшения размера данных.</span><span class="sxs-lookup"><span data-stu-id="aeb36-129">Azure StorSimple uses deduplication and compression to reduce data size.</span></span>
* <span data-ttu-id="aeb36-130">Azure StorSimple предоставляет защиту данных в форме локальных и облачных моментальных снимков.</span><span class="sxs-lookup"><span data-stu-id="aeb36-130">Azure StorSimple provides data protection in the form of local and cloud snapshots.</span></span> <span data-ttu-id="aeb36-131">Кроме того, если поместить саму базу данных на устройство StorSimple, можно выполнять совместное резервное копирование базы данных содержимого и больших двоичных объектов отказоустойчивым способом.</span><span class="sxs-lookup"><span data-stu-id="aeb36-131">Also, if you place the database itself on the StorSimple device, you can back up the content database and BLOBs together in a crash consistent way.</span></span> <span data-ttu-id="aeb36-132">(Перемещение базы данных содержимого на устройство поддерживается только для устройств серии StorSimple 8000.</span><span class="sxs-lookup"><span data-stu-id="aeb36-132">(Moving the content database to the device is only supported for the StorSimple 8000 series device.</span></span> <span data-ttu-id="aeb36-133">Эта возможность не поддерживается для устройств серий 5000 и 7000.)</span><span class="sxs-lookup"><span data-stu-id="aeb36-133">This feature is not supported for the 5000 or 7000 series.)</span></span>
* <span data-ttu-id="aeb36-134">Azure StorSimple включает функции аварийного восстановления, включая отработку отказа, восстановление файлов и томов (включая тестовое восстановление) и быстрое восстановление данных.</span><span class="sxs-lookup"><span data-stu-id="aeb36-134">Azure StorSimple includes disaster recovery features including failover, file and volume recovery (including test recovery), and rapid restoration of data.</span></span>
* <span data-ttu-id="aeb36-135">К моментальным снимкам StorSimple данных больших двоичных объектов можно применить программное обеспечение для восстановления данных, например Kroll Ontrack PowerControls, для восстановления содержимого SharePoint на уровне элементов.</span><span class="sxs-lookup"><span data-stu-id="aeb36-135">You can use data recovery software, such as Kroll Ontrack PowerControls, with StorSimple snapshots of BLOB data to perform item-level recovery of SharePoint content.</span></span> <span data-ttu-id="aeb36-136">(Это программное обеспечение восстановления данных приобретается отдельно.)</span><span class="sxs-lookup"><span data-stu-id="aeb36-136">(This data recovery software is a separate purchase.)</span></span>
* <span data-ttu-id="aeb36-137">Адаптер StorSimple для SharePoint подключается к порталу центра администрирования SharePoint, позволяя централизованно управлять всем решением SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-137">The StorSimple Adapter for SharePoint plugs into the SharePoint Central Administration portal, allowing you to manage your entire SharePoint solution from a central location.</span></span>

<span data-ttu-id="aeb36-138">Перемещение содержимого больших двоичных объектов в файловую систему может предоставить другие преимущества и сэкономить затраты.</span><span class="sxs-lookup"><span data-stu-id="aeb36-138">Moving BLOB content to the file system can provide other cost savings and benefits.</span></span> <span data-ttu-id="aeb36-139">Например, с помощью RBS можно снизить потребность в дорогостоящих хранилищах уровня 1. RBS также позволяет уменьшить количество баз данных, необходимых для фермы серверов SharePoint, так как в RBS базы данных содержимого сжимаются.</span><span class="sxs-lookup"><span data-stu-id="aeb36-139">For example, using RBS can reduce the need for expensive Tier 1 storage and, because it shrinks the content database, RBS can reduce the number of databases required in the SharePoint server farm.</span></span> <span data-ttu-id="aeb36-140">Однако на требования к хранилищу также могут повлиять и другие факторы, такие как максимальный размер базы данных и объем содержимого, не находящегося в RBS.</span><span class="sxs-lookup"><span data-stu-id="aeb36-140">However, other factors, such as database size limits and the amount of non-RBS content, can also affect storage requirements.</span></span> <span data-ttu-id="aeb36-141">Дополнительные сведения о затратах и преимуществах при использовании RBS приведены в статьях [Планирование удаленного хранилища больших двоичных объектов (SharePoint Foundation 2010)][4] и [Принятие решения об использовании удаленного хранилища больших двоичных объектов в SharePoint 2013][5].</span><span class="sxs-lookup"><span data-stu-id="aeb36-141">For more information about the costs and benefits of using RBS, see [Plan for RBS (SharePoint Foundation 2010)][4] and [Deciding to use RBS in SharePoint 2013][5].</span></span>

### <a name="capacity-and-performance-limits"></a><span data-ttu-id="aeb36-142">Ограничения емкости и производительности</span><span class="sxs-lookup"><span data-stu-id="aeb36-142">Capacity and performance limits</span></span>
<span data-ttu-id="aeb36-143">Прежде чем рассматривать использование RBS в решении SharePoint, следует ознакомиться с тестовой производительностью и ограничениями емкости SharePoint Server 2010 и SharePoint Server 2013 и влиянием этих ограничений на допустимую производительность.</span><span class="sxs-lookup"><span data-stu-id="aeb36-143">Before you consider using RBS in your SharePoint solution, you should be aware of the tested performance and capacity limits of SharePoint Server 2010 and SharePoint Server 2013, and how these limits relate to acceptable performance.</span></span> <span data-ttu-id="aeb36-144">Дополнительные сведения см. в статье [Ограничения, связанные с программным обеспечением, в SharePoint 2013](https://technet.microsoft.com/library/cc262787.aspx).</span><span class="sxs-lookup"><span data-stu-id="aeb36-144">For more information, see [Software Boundaries and Limits for SharePoint 2013](https://technet.microsoft.com/library/cc262787.aspx).</span></span>

<span data-ttu-id="aeb36-145">Перед настройкой RBS сделайте следующее.</span><span class="sxs-lookup"><span data-stu-id="aeb36-145">Review the following before you configure RBS:</span></span>

* <span data-ttu-id="aeb36-146">Убедитесь, что общий размер содержимого (суммарный размер базы данных содержимого и всех связанных внешних больших двоичных объектов) не превышает предельный размер RBS, поддерживаемый SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-146">Make sure that the total size of the content (the size of a content database plus the size of any associated externalized BLOBs) does not exceed the RBS size limit supported by SharePoint.</span></span> <span data-ttu-id="aeb36-147">Он составляет 200 Гб.</span><span class="sxs-lookup"><span data-stu-id="aeb36-147">This limit is 200 GB.</span></span> 
  
    <span data-ttu-id="aeb36-148">**Для измерения размера базы данных содержимого и больших двоичных объектов**</span><span class="sxs-lookup"><span data-stu-id="aeb36-148">**To measure content database and BLOB size**</span></span>
  
  1. <span data-ttu-id="aeb36-149">Выполните этот запрос в клиентском веб-интерфейсе центра администрирования.</span><span class="sxs-lookup"><span data-stu-id="aeb36-149">Run this query on the Central Administration WFE.</span></span> <span data-ttu-id="aeb36-150">Запустите консоль управления SharePoint, затем введите следующую команду Windows PowerShell для получения размера баз данных содержимого:</span><span class="sxs-lookup"><span data-stu-id="aeb36-150">Start the SharePoint Management Shell, and then enter the following Windows PowerShell command to get the size of the content databases:</span></span>
     
     `Get-SPContentDatabase | Select-Object -ExpandProperty DiskSizeRequired`
     
      <span data-ttu-id="aeb36-151">На этом этапе мы получаем размер базы данных содержимого на диске.</span><span class="sxs-lookup"><span data-stu-id="aeb36-151">This step gets the size of the content database on the disk.</span></span>
  2. <span data-ttu-id="aeb36-152">Выполните один из следующих SQL-запросов в SQL Management Studio в поле "SQL-сервер" для каждой базы данных содержимого и добавьте результат к значению, полученному на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="aeb36-152">Run one of the following SQL queries in SQL Management Studio on the SQL server box on each content database, and add the result to the number obtained in step 1.</span></span>
     
     <span data-ttu-id="aeb36-153">Для баз данных содержимого SharePoint 2013 введите:</span><span class="sxs-lookup"><span data-stu-id="aeb36-153">On SharePoint 2013 content databases, enter:</span></span>
     
     `SELECT SUM([Size]) FROM [ContentDatabaseName].[dbo].[DocStreams] WHERE [Content] IS NULL`
     
     <span data-ttu-id="aeb36-154">Для баз данных содержимого SharePoint 2010 введите:</span><span class="sxs-lookup"><span data-stu-id="aeb36-154">On SharePoint 2010 content databases, enter:</span></span>
     
     `SELECT SUM([Size]) FROM [ContentDatabaseName].[dbo].[AllDocs] WHERE [Content] IS NULL`
     
     <span data-ttu-id="aeb36-155">На этом этапе мы получаем размер внешних больших двоичных объектов.</span><span class="sxs-lookup"><span data-stu-id="aeb36-155">This step gets the size of the BLOBs that have been externalized.</span></span>
* <span data-ttu-id="aeb36-156">Рекомендуется хранить все большие двоичные объекты и базы данных содержимого локально на устройстве StorSimple.</span><span class="sxs-lookup"><span data-stu-id="aeb36-156">We recommend that you store all BLOB and database content locally on the StorSimple device.</span></span> <span data-ttu-id="aeb36-157">Устройство StorSimple предоставляет собой кластер, состоящий из двух узлов для обеспечения высокой доступности.</span><span class="sxs-lookup"><span data-stu-id="aeb36-157">The StorSimple device is a two-node cluster for high availability.</span></span> <span data-ttu-id="aeb36-158">Размещение баз данных содержимого и больших двоичных объектов на устройстве StorSimple обеспечивает высокий уровень доступности.</span><span class="sxs-lookup"><span data-stu-id="aeb36-158">Placing the content databases and BLOBs on the StorSimple device provides high availability.</span></span>
  
    <span data-ttu-id="aeb36-159">Используйте традиционные рекомендации по миграции SQL Server для перемещения базы данных содержимого на устройство StorSimple.</span><span class="sxs-lookup"><span data-stu-id="aeb36-159">Use traditional SQL Server migration best practices to move the content database to the StorSimple device.</span></span> <span data-ttu-id="aeb36-160">Выполняйте перемещение базы данных только после перемещения всего содержимого больших двоичных объектов из базы данных в файловый ресурс через RBS.</span><span class="sxs-lookup"><span data-stu-id="aeb36-160">Move the database only after all BLOB content from the database has been moved to the file share via RBS.</span></span> <span data-ttu-id="aeb36-161">Если необходимо переместить базу данных содержимого на устройство StorSimple, рекомендуется настроить хранилище базы данных содержимого на устройстве как первичный том.</span><span class="sxs-lookup"><span data-stu-id="aeb36-161">If you choose to move the content database to the StorSimple device, we recommend that you configure the content database storage on the device as a primary volume.</span></span>
* <span data-ttu-id="aeb36-162">При использовании многоуровневых томов в Microsoft Azure StorSimple нельзя гарантировать, что содержимое, которое хранится локально на устройстве StorSimple, не будет перемещено на различные уровни в облачном хранилище Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="aeb36-162">In Microsoft Azure StorSimple, if using tiered volumes, there is no way to guarantee that content stored locally on the StorSimple device will not be tiered to Microsoft Azure cloud storage.</span></span> <span data-ttu-id="aeb36-163">Следовательно, мы рекомендуем использовать локально закрепленные тома StorSimple в сочетании с SharePoint RBS.</span><span class="sxs-lookup"><span data-stu-id="aeb36-163">Hence, we recommend using StorSimple locally pinned volumes in conjunction with SharePoint RBS.</span></span> <span data-ttu-id="aeb36-164">Это гарантирует, что все содержимое больших двоичных объектов будет храниться локально на устройстве StorSimple и не будет перемещено в Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="aeb36-164">This will ensure that all BLOB content remains locally on the StorSimple device, and is not moved to Microsoft Azure.</span></span>
* <span data-ttu-id="aeb36-165">Если вы не храните базы данных содержимого на устройстве StorSimple, используйте традиционные практики обеспечения высокой доступности SQL Server, поддерживающие RBS.</span><span class="sxs-lookup"><span data-stu-id="aeb36-165">If you do not store the content databases on the StorSimple device, use traditional SQL Server high availability best practices that support RBS.</span></span> <span data-ttu-id="aeb36-166">Кластеризация SQL Server поддерживает RBS, а зеркальное отображение SQL Server не поддерживает.</span><span class="sxs-lookup"><span data-stu-id="aeb36-166">SQL Server clustering supports RBS, while SQL Server mirroring does not.</span></span> 

> [!WARNING]
> <span data-ttu-id="aeb36-167">Если RBS не включена, перемещать базу данных содержимого на устройство StorSimple не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="aeb36-167">If you have not enabled RBS, we do not recommend moving the content database to the StorSimple device.</span></span> <span data-ttu-id="aeb36-168">Эта конфигурация не тестировалась.</span><span class="sxs-lookup"><span data-stu-id="aeb36-168">This is an untested configuration.</span></span>

## <a name="storsimple-adapter-for-sharepoint-installation"></a><span data-ttu-id="aeb36-169">Адаптер StorSimple для SharePoint</span><span class="sxs-lookup"><span data-stu-id="aeb36-169">StorSimple Adapter for SharePoint installation</span></span>
<span data-ttu-id="aeb36-170">Перед установкой адаптера StorSimple для SharePoint необходимо настроить устройство StorSimple и убедиться, что ферма серверов SharePoint и создание экземпляров SQL Server соответствуют всем предварительным требованиям.</span><span class="sxs-lookup"><span data-stu-id="aeb36-170">Before you can install the StorSimple Adapter for SharePoint, you must configure the StorSimple device and make sure that the SharePoint server farm and SQL Server instantiation meet all prerequisites.</span></span> <span data-ttu-id="aeb36-171">В этом учебнике описываются требования к конфигурации, а также процедуры установки и обновления адаптера StorSimple для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-171">This tutorial describes configuration requirements, as well as procedures for installing and upgrading the StorSimple Adapter for SharePoint.</span></span>

## <a name="configure-prerequisites"></a><span data-ttu-id="aeb36-172">Настройка необходимых компонентов</span><span class="sxs-lookup"><span data-stu-id="aeb36-172">Configure prerequisites</span></span>
<span data-ttu-id="aeb36-173">Перед установкой адаптера StorSimple для SharePoint необходимо убедиться, что устройство StorSimple, ферма серверов SharePoint и создание экземпляров SQL Server соответствуют всем предварительным требованиям.</span><span class="sxs-lookup"><span data-stu-id="aeb36-173">Before you can install the StorSimple Adapter for SharePoint, make sure that the StorSimple device, SharePoint server farm, and SQL Server instantiation meet the following prerequisites.</span></span>

### <a name="system-requirements"></a><span data-ttu-id="aeb36-174">Требования к системе</span><span class="sxs-lookup"><span data-stu-id="aeb36-174">System requirements</span></span>
<span data-ttu-id="aeb36-175">Адаптер StorSimple для SharePoint работает со следующим аппаратным и программным обеспечением.</span><span class="sxs-lookup"><span data-stu-id="aeb36-175">The StorSimple Adapter for SharePoint works with the following hardware and software:</span></span>

* <span data-ttu-id="aeb36-176">Поддерживаемые операционные системы — Windows Server 2008 R2 с пакетом обновления 1, Windows Server 2012 и Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="aeb36-176">Supported operating system – Windows Server 2008 R2 SP1, Windows Server 2012, or Windows Server 2012 R2</span></span>
* <span data-ttu-id="aeb36-177">Поддерживаемые версии SharePoint — SharePoint Server 2010 и SharePoint Server 2013.</span><span class="sxs-lookup"><span data-stu-id="aeb36-177">Supported SharePoint versions – SharePoint Server 2010 or SharePoint Server 2013</span></span>
* <span data-ttu-id="aeb36-178">Поддерживаемые версии SQL Server — SQL Server 2008 Enterprise Edition, SQL Server 2008 R2 Enterprise Edition и SQL Server 2012 Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="aeb36-178">Supported SQL Server versions – SQL Server 2008 Enterprise Edition, SQL Server 2008 R2 Enterprise Edition, or SQL Server 2012 Enterprise Edition</span></span>
* <span data-ttu-id="aeb36-179">Поддерживаемые устройства StorSimple — устройства StorSimple серий 8000, 7000 и 5000.</span><span class="sxs-lookup"><span data-stu-id="aeb36-179">Supported StorSimple devices – StorSimple 8000 series, StorSimple 7000 series, or StorSimple 5000 series.</span></span>

### <a name="storsimple-device-configuration-prerequisites"></a><span data-ttu-id="aeb36-180">Предварительные требования для настройки устройства StorSimple</span><span class="sxs-lookup"><span data-stu-id="aeb36-180">StorSimple device configuration prerequisites</span></span>
<span data-ttu-id="aeb36-181">Устройство StorSimple является блочным устройством, и поэтому ему требуется файловый сервер, на котором можно размещать данные.</span><span class="sxs-lookup"><span data-stu-id="aeb36-181">The StorSimple device is a block device and as such requires a file server on which the data can be hosted.</span></span> <span data-ttu-id="aeb36-182">Рекомендуется использовать отдельный сервер, а не существующий сервер из фермы SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-182">We recommend that you use a separate server rather than an existing server from the SharePoint farm.</span></span> <span data-ttu-id="aeb36-183">Этот файловый сервер должен находиться в той же локальной сети, что и компьютер SQL Server, на котором размещена база данных содержимого.</span><span class="sxs-lookup"><span data-stu-id="aeb36-183">This file server must be on the same local area network (LAN) as the SQL Server computer that hosts the content databases.</span></span>

> [!TIP]
> * <span data-ttu-id="aeb36-184">При настройке фермы SharePoint для обеспечения высокой доступности следует также развернуть файловый сервер для обеспечения высокой доступности.</span><span class="sxs-lookup"><span data-stu-id="aeb36-184">If you configure your SharePoint farm for high availability, you should deploy the file server for high availability also.</span></span>
> * <span data-ttu-id="aeb36-185">Если вы не храните базы данных содержимого на устройстве StorSimple, используйте традиционные практики обеспечения высокой доступности, поддерживающие RBS.</span><span class="sxs-lookup"><span data-stu-id="aeb36-185">If you do not store the content database on the StorSimple device, use traditional high availability best practices that support RBS.</span></span> <span data-ttu-id="aeb36-186">Кластеризация SQL Server поддерживает RBS, а зеркальное отображение SQL Server не поддерживает.</span><span class="sxs-lookup"><span data-stu-id="aeb36-186">SQL Server clustering supports RBS, while SQL Server mirroring does not.</span></span> 


<span data-ttu-id="aeb36-187">Убедитесь в том, что устройство StorSimple настроено правильно и что соответствующие тома для поддержки развертывания SharePoint настроены и доступны с компьютера SQL Server.</span><span class="sxs-lookup"><span data-stu-id="aeb36-187">Make sure that your StorSimple device is configured correctly, and that appropriate volumes to support your SharePoint deployment are configured and accessible from your SQL Server computer.</span></span> <span data-ttu-id="aeb36-188">Если вы еще не развернули и не настроили свое устройство StorSimple, перейдите к разделу [Развертывание локального устройства StorSimple](storsimple-8000-deployment-walkthrough-u2.md) .</span><span class="sxs-lookup"><span data-stu-id="aeb36-188">Go to [Deploy your on-premises StorSimple device](storsimple-8000-deployment-walkthrough-u2.md) if you have not yet deployed and configured your StorSimple device.</span></span> <span data-ttu-id="aeb36-189">Запишите IP-адрес устройства StorSimple; он понадобится во время установки адаптера StorSimple для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-189">Note the IP address of the StorSimple device; you will need it during StorSimple Adapter for SharePoint installation.</span></span>

<span data-ttu-id="aeb36-190">Также убедитесь, что тома, используемые для перемещения больших двоичных объектов, соответствуют следующим требованиям.</span><span class="sxs-lookup"><span data-stu-id="aeb36-190">In addition, make sure that the volume to be used for BLOB externalization meets the following requirements:</span></span>

* <span data-ttu-id="aeb36-191">Том должен быть отформатирован с размером кластера 64 Кб.</span><span class="sxs-lookup"><span data-stu-id="aeb36-191">The volume must be formatted with a 64 KB allocation unit size.</span></span>
* <span data-ttu-id="aeb36-192">Клиентский веб-интерфейс (WFE) и серверы приложений должны иметь доступ к тому по универсальному пути (UNC).</span><span class="sxs-lookup"><span data-stu-id="aeb36-192">Your web front end (WFE) and application servers must be able to access the volume via a Universal Naming Convention (UNC) path.</span></span>
* <span data-ttu-id="aeb36-193">Ферма серверов SharePoint должна быть настроена для записи в том.</span><span class="sxs-lookup"><span data-stu-id="aeb36-193">The SharePoint server farm must be configured to write to the volume.</span></span>

> [!NOTE]
> <span data-ttu-id="aeb36-194">После установки и настройки адаптера перемещение всех больших двоичных объектов должно выполняться через устройство StorSimple (устройство будет представлять тома SQL Server и управлять уровнями хранилища).</span><span class="sxs-lookup"><span data-stu-id="aeb36-194">After you install and configure the adapter, all BLOB externalization must go through the StorSimple device (the device will present the volumes to SQL Server and manage the storage tiers).</span></span> <span data-ttu-id="aeb36-195">Другие целевые устройства для перемещения больших двоичных объектов не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="aeb36-195">You cannot use any other targets for BLOB externalization.</span></span>


<span data-ttu-id="aeb36-196">Если планируется использовать диспетчер моментальных снимков StorSimple для создания моментальных снимков больших двоичных объектов и данных базы данных, установите диспетчер моментальных снимков StorSimple на сервер базы данных, чтобы он мог использовать службу записи SQL для реализации службы теневого копирования томов Windows (VSS).</span><span class="sxs-lookup"><span data-stu-id="aeb36-196">If you plan to use StorSimple Snapshot Manager to take snapshots of the BLOB and database data, be sure to install StorSimple Snapshot Manager on the database server so that it can use the SQL Writer Service to implement the Windows Volume Shadow Copy Service (VSS).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="aeb36-197">Диспетчер моментальных снимков StorSimple не поддерживает модуль записи VSS SharePoint и не принимает моментальные снимки приложений данных SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-197">StorSimple Snapshot Manager does not support the SharePoint VSS Writer and cannot take application-consistent snapshots of SharePoint data.</span></span> <span data-ttu-id="aeb36-198">В сценарии SharePoint диспетчер моментальных снимков StorSimple предоставляет только отказоустойчивые резервные копии.</span><span class="sxs-lookup"><span data-stu-id="aeb36-198">In a SharePoint scenario, StorSimple Snapshot Manager provides only crash-consistent backups.</span></span>


## <a name="sharepoint-farm-configuration-prerequisites"></a><span data-ttu-id="aeb36-199">Предварительные требования для настройки фермы SharePoint</span><span class="sxs-lookup"><span data-stu-id="aeb36-199">SharePoint farm configuration prerequisites</span></span>
<span data-ttu-id="aeb36-200">Убедитесь, что ферма серверов SharePoint настроена правильно, как описано ниже.</span><span class="sxs-lookup"><span data-stu-id="aeb36-200">Make sure that your SharePoint server farm is correctly configured, as follows:</span></span>

* <span data-ttu-id="aeb36-201">Проверьте, что ферма серверов SharePoint находится в работоспособном состоянии, и проверьте следующее.</span><span class="sxs-lookup"><span data-stu-id="aeb36-201">Verify that your SharePoint server farm is in a healthy state, and check the following:</span></span>
* <span data-ttu-id="aeb36-202">Все клиентские веб-интерфейсы SharePoint и зарегистрированные в ферме серверы приложений работают и доступны с сервера, на котором будет устанавливаться адаптер StorSimple для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-202">All SharePoint WFE and application servers registered in the farm are running and can be pinged from the server on which you will be installing the StorSimple Adapter for SharePoint.</span></span>
* <span data-ttu-id="aeb36-203">Служба таймера SharePoint (SPTimerV3 или SPTimerV4) работает на каждом сервере клиентского веб-интерфейса и сервере приложений.</span><span class="sxs-lookup"><span data-stu-id="aeb36-203">The SharePoint Timer service (SPTimerV3 or SPTimerV4) is running on each WFE server and application server.</span></span>
* <span data-ttu-id="aeb36-204">Служба таймера SharePoint и пул приложений IIS, в котором работает сайт центра администрирования SharePoint, имеют административные привилегии.</span><span class="sxs-lookup"><span data-stu-id="aeb36-204">Both the SharePoint Timer service and the IIS application pool under which the SharePoint Central Administration site is running have administrative privileges.</span></span>
* <span data-ttu-id="aeb36-205">Убедитесь, что конфигурация усиленной безопасности Internet Explorer (IE ESC) отключена.</span><span class="sxs-lookup"><span data-stu-id="aeb36-205">Make sure that Internet Explorer Enhanced Security Context (IE ESC) is disabled.</span></span> <span data-ttu-id="aeb36-206">Выполните следующие действия для отключения IE ESC.</span><span class="sxs-lookup"><span data-stu-id="aeb36-206">Follow these steps to disable IE ESC:</span></span>
  
  1. <span data-ttu-id="aeb36-207">Закройте все экземпляры Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="aeb36-207">Close all instances of Internet Explorer.</span></span>
  2. <span data-ttu-id="aeb36-208">Запустите диспетчер серверов.</span><span class="sxs-lookup"><span data-stu-id="aeb36-208">Start the Server Manager.</span></span>
  3. <span data-ttu-id="aeb36-209">На левой панели нажмите **Локальный сервер**.</span><span class="sxs-lookup"><span data-stu-id="aeb36-209">In the left pane, click **Local Server**.</span></span>
  4. <span data-ttu-id="aeb36-210">На правой панели рядом с разделом **Конфигурация усиленной безопасности Internet Explorer** нажмите **Вкл.**</span><span class="sxs-lookup"><span data-stu-id="aeb36-210">On the right pane, next to **IE Enhanced Security Configuration**, click **On**.</span></span>
  5. <span data-ttu-id="aeb36-211">В разделе **Администраторы** нажмите **Выкл.**</span><span class="sxs-lookup"><span data-stu-id="aeb36-211">Under **Administrators**, click **Off**.</span></span>
  6. <span data-ttu-id="aeb36-212">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="aeb36-212">Click **OK**.</span></span>

## <a name="remote-blob-storage-rbs-prerequisites"></a><span data-ttu-id="aeb36-213">Необходимые компоненты удаленного хранилища больших двоичных объектов (RBS)</span><span class="sxs-lookup"><span data-stu-id="aeb36-213">Remote BLOB Storage (RBS) prerequisites</span></span>
<span data-ttu-id="aeb36-214">Убедитесь, что используется поддерживаемая версия SQL Server.</span><span class="sxs-lookup"><span data-stu-id="aeb36-214">Make sure that you are using a supported version of SQL Server.</span></span> <span data-ttu-id="aeb36-215">Для использования с RBS поддерживаются только следующие версии.</span><span class="sxs-lookup"><span data-stu-id="aeb36-215">Only the following versions are supported and able to use RBS:</span></span>

* <span data-ttu-id="aeb36-216">SQL Server 2008 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="aeb36-216">SQL Server 2008 Enterprise Edition</span></span>
* <span data-ttu-id="aeb36-217">SQL Server 2008 R2 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="aeb36-217">SQL Server 2008 R2 Enterprise Edition</span></span>
* <span data-ttu-id="aeb36-218">SQL Server 2012 Enterprise Edition</span><span class="sxs-lookup"><span data-stu-id="aeb36-218">SQL Server 2012 Enterprise Edition</span></span>

<span data-ttu-id="aeb36-219">Большие двоичные объекты можно переместить только на те тома, которые устройство StorSimple предоставляет SQL Server.</span><span class="sxs-lookup"><span data-stu-id="aeb36-219">BLOBs can be externalized on only those volumes that the StorSimple device presents to SQL Server.</span></span> <span data-ttu-id="aeb36-220">Другие целевые устройства для перемещения больших двоичных объектов не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="aeb36-220">No other targets for BLOB externalization are supported.</span></span>

<span data-ttu-id="aeb36-221">После завершения всех шагов настройки необходимых компонентов перейдите к разделу [Установка адаптера StorSimple для SharePoint](#install-the-storsimple-adapter-for-sharepoint).</span><span class="sxs-lookup"><span data-stu-id="aeb36-221">When you have completed all prerequisite configuration steps, go to [Install the StorSimple Adapter for SharePoint](#install-the-storsimple-adapter-for-sharepoint).</span></span>

## <a name="install-the-storsimple-adapter-for-sharepoint"></a><span data-ttu-id="aeb36-222">Установка адаптера StorSimple для SharePoint</span><span class="sxs-lookup"><span data-stu-id="aeb36-222">Install the StorSimple Adapter for SharePoint</span></span>
<span data-ttu-id="aeb36-223">Выполните следующие действия для установки адаптера StorSimple для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-223">Use the following steps to install the StorSimple Adapter for SharePoint.</span></span> <span data-ttu-id="aeb36-224">При переустановке программного обеспечения см. раздел [Обновление или переустановка адаптера StorSimple для SharePoint](#upgrade-or-reinstall-the-storsimple-adapter-for-sharepoint).</span><span class="sxs-lookup"><span data-stu-id="aeb36-224">If you are reinstalling the software, see [Upgrade or reinstall the StorSimple Adapter for SharePoint](#upgrade-or-reinstall-the-storsimple-adapter-for-sharepoint).</span></span> <span data-ttu-id="aeb36-225">Время, необходимое для установки, зависит от общего количества баз данных SharePoint в ферме серверов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-225">The time required for the installation depends on the total number of SharePoint databases in your SharePoint server farm.</span></span>

[!INCLUDE [storsimple-install-sharepoint-adapter](../../includes/storsimple-install-sharepoint-adapter.md)]

## <a name="configure-rbs"></a><span data-ttu-id="aeb36-226">Настройка RBS</span><span class="sxs-lookup"><span data-stu-id="aeb36-226">Configure RBS</span></span>
<span data-ttu-id="aeb36-227">После установки адаптера StorSimple для SharePoint выполните настройку RBS как описано в следующей процедуре.</span><span class="sxs-lookup"><span data-stu-id="aeb36-227">After you install the StorSimple Adapter for SharePoint, configure RBS as described in the following procedure.</span></span>

> [!TIP]
> <span data-ttu-id="aeb36-228">Адаптер StorSimple для SharePoint подключается к странице центра администрирования SharePoint, позволяя включить или отключить RBS для каждой базы данных содержимого в ферме SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-228">The StorSimple Adapter for SharePoint plugs into the SharePoint Central Administration page, allowing RBS to be enabled or disabled on each content database in the SharePoint farm.</span></span> <span data-ttu-id="aeb36-229">Однако включение или отключение RBS для базы данных содержимого вызывает сброс IIS, который, в зависимости от конфигурации фермы, может ненадолго сделать недоступным веб-интерфейс SharePoint (WFE).</span><span class="sxs-lookup"><span data-stu-id="aeb36-229">However, enabling or disabling RBS on the content database causes an IIS reset, which, depending on your farm configuration, can momentarily disrupt the availability of the SharePoint web front end (WFE).</span></span> <span data-ttu-id="aeb36-230">(Ограничить или устранить это явление могут такие факторы, как использование балансировщика нагрузки клиента, текущая рабочая нагрузка сервера и т. д.) Для защиты пользователей от прерывания доступа рекомендуется включать и отключать RBS только во время запланированного обслуживания.</span><span class="sxs-lookup"><span data-stu-id="aeb36-230">(Factors such as the use of a front-end load balancer, the current server workload, and so on, can limit or eliminate this disruption.) To protect users from a disruption, we recommend that you enable or disable RBS only during a planned maintenance window.</span></span>


[!INCLUDE [storsimple-sharepoint-adapter-configure-rbs](../../includes/storsimple-sharepoint-adapter-configure-rbs.md)]

## <a name="configure-garbage-collection"></a><span data-ttu-id="aeb36-231">Настройка сбора мусора</span><span class="sxs-lookup"><span data-stu-id="aeb36-231">Configure garbage collection</span></span>
<span data-ttu-id="aeb36-232">При удалении объектов с сайта SharePoint они не удаляются из тома хранилища RBS автоматически.</span><span class="sxs-lookup"><span data-stu-id="aeb36-232">When objects are deleted from a SharePoint site, they are not automatically deleted from the RBS store volume.</span></span> <span data-ttu-id="aeb36-233">Вместо этого асинхронная фоновая программа обслуживания удаляет потерянные большие двоичные объекты из файлового хранилища.</span><span class="sxs-lookup"><span data-stu-id="aeb36-233">Instead, an asynchronous, background maintenance program deletes orphaned BLOBs from the file store.</span></span> <span data-ttu-id="aeb36-234">Системные администраторы могут запланировать периодический запуск этого процесса или запускать его при необходимости.</span><span class="sxs-lookup"><span data-stu-id="aeb36-234">System administrators can schedule this process to run periodically or they can start it whenever necessary.</span></span>

<span data-ttu-id="aeb36-235">Программа обслуживания (Microsoft.Data.SqlRemoteBlobs.Maintainer.exe) автоматически устанавливается на всех интерфейсных веб-серверах SharePoint и серверах приложений при включении RBS.</span><span class="sxs-lookup"><span data-stu-id="aeb36-235">This maintenance program (Microsoft.Data.SqlRemoteBlobs.Maintainer.exe) is automatically installed on all SharePoint WFE servers and application servers when you enable RBS.</span></span> <span data-ttu-id="aeb36-236">Программа устанавливается в следующий каталог: *загрузочный диск*:\Program Files\Microsoft SQL Remote Blob Storage 10.50\Maintainer\.</span><span class="sxs-lookup"><span data-stu-id="aeb36-236">The program is installed in the following location: *boot drive*:\Program Files\Microsoft SQL Remote Blob Storage 10.50\Maintainer\\</span></span>

<span data-ttu-id="aeb36-237">Сведения о настройке и использовании программы обслуживания см. в статье [Обслуживание удаленного хранилища больших двоичных объектов в SharePoint Server 2013][8].</span><span class="sxs-lookup"><span data-stu-id="aeb36-237">For information about configuring and using the maintenance program, see [Maintain RBS in SharePoint Server 2013][8].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="aeb36-238">Программа обслуживания RBS является ресурсоемкой.</span><span class="sxs-lookup"><span data-stu-id="aeb36-238">The RBS maintainer program is resource intensive.</span></span> <span data-ttu-id="aeb36-239">Ее запуск следует планировать только в периоды низкой активности на ферме SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-239">You should schedule it to run only during periods of light activity on the SharePoint farm.</span></span>


### <a name="delete-orphaned-blobs-immediately"></a><span data-ttu-id="aeb36-240">Немедленное удаление потерянных больших двоичных объектов</span><span class="sxs-lookup"><span data-stu-id="aeb36-240">Delete orphaned BLOBs immediately</span></span>
<span data-ttu-id="aeb36-241">Если требуется немедленно удалить потерянные большие двоичные объекты, можно использовать следующие инструкции.</span><span class="sxs-lookup"><span data-stu-id="aeb36-241">If you need to delete orphaned BLOBs immediately, you can use the following instructions.</span></span> <span data-ttu-id="aeb36-242">Обратите внимание, что эти инструкции относятся к среде SharePoint 2013 со следующими компонентами.</span><span class="sxs-lookup"><span data-stu-id="aeb36-242">Note that these instructions are an example of how this can be done in a SharePoint 2013 environment with the following components:</span></span>

* <span data-ttu-id="aeb36-243">Имя базы данных содержимого — WSS_Content.</span><span class="sxs-lookup"><span data-stu-id="aeb36-243">The content database name is WSS_Content.</span></span>
* <span data-ttu-id="aeb36-244">Имя SQL Server — SHRPT13-SQL12\SHRPT13.</span><span class="sxs-lookup"><span data-stu-id="aeb36-244">The SQL Server name is SHRPT13-SQL12\SHRPT13.</span></span>
* <span data-ttu-id="aeb36-245">Имя веб-приложения — SharePoint – 80.</span><span class="sxs-lookup"><span data-stu-id="aeb36-245">The web application name is SharePoint – 80.</span></span>

[!INCLUDE [storsimple-sharepoint-adapter-garbage-collection](../../includes/storsimple-sharepoint-adapter-garbage-collection.md)]

## <a name="upgrade-or-reinstall-the-storsimple-adapter-for-sharepoint"></a><span data-ttu-id="aeb36-246">Обновление или переустановка адаптера StorSimple для SharePoint</span><span class="sxs-lookup"><span data-stu-id="aeb36-246">Upgrade or reinstall the StorSimple Adapter for SharePoint</span></span>
<span data-ttu-id="aeb36-247">Используйте следующую процедуру для обновления сервера SharePoint и последующей переустановки адаптера StorSimple для SharePoint или для обновления или переустановки адаптера в существующую ферму серверов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-247">Use the following procedure to upgrade SharePoint server and then reinstall StorSimple Adapter for SharePoint or to simply upgrade or reinstall the adapter in an existing SharePoint server farm.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="aeb36-248">Перед попыткой обновления программного обеспечения SharePoint и/или обновления или переустановки адаптера StorSimple для SharePoint ознакомьтесь со следующими сведениями.</span><span class="sxs-lookup"><span data-stu-id="aeb36-248">Review the following information before you attempt to upgrade your SharePoint software and/or upgrade or reinstall the StorSimple Adapter for SharePoint:</span></span>
> 
> * <span data-ttu-id="aeb36-249">Все файлы, перемещенные ранее во внешнее хранилище через RBS, будут недоступны, пока не завершится переустановка и снова не будет включена функция RBS.</span><span class="sxs-lookup"><span data-stu-id="aeb36-249">Any files that were previously moved to external storage via RBS will not be available until the reinstallation is finished and the RBS feature is enabled again.</span></span> <span data-ttu-id="aeb36-250">Для ограничения влияния на пользователей выполняйте все процедуры обновления или переустановки во время запланированного обслуживания.</span><span class="sxs-lookup"><span data-stu-id="aeb36-250">To limit user impact, perform any upgrade or reinstallation during a planned maintenance window.</span></span>
> * <span data-ttu-id="aeb36-251">Время, необходимое для обновления/переустановки, зависит от общего количества баз данных SharePoint в ферме серверов SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-251">The time required for the upgrade/reinstallation can vary, depending on the total number of SharePoint databases in the SharePoint server farm.</span></span>
> * <span data-ttu-id="aeb36-252">После завершения обновления и повторной установки необходимо включить RBS для баз данных содержимого.</span><span class="sxs-lookup"><span data-stu-id="aeb36-252">After the upgrade/reinstallation is complete, you need to enable RBS for the content databases.</span></span> <span data-ttu-id="aeb36-253">Дополнительные сведения см. в разделе [Настройка RBS](#configure-rbs).</span><span class="sxs-lookup"><span data-stu-id="aeb36-253">See [Configure RBS](#configure-rbs) for more information.</span></span>
> * <span data-ttu-id="aeb36-254">При настройке RBS для фермы SharePoint с очень большим количеством баз данных (более 200), тайм-аут страницы **центра администрирования SharePoint** может истечь.</span><span class="sxs-lookup"><span data-stu-id="aeb36-254">If you are configuring RBS for a SharePoint farm that has a very large number of databases (greater than 200), the **SharePoint Central Administration** page might time out.</span></span> <span data-ttu-id="aeb36-255">Если это произошло, обновите страницу.</span><span class="sxs-lookup"><span data-stu-id="aeb36-255">If that occurs, refresh the page.</span></span> <span data-ttu-id="aeb36-256">Это не влияет на процесс настройки.</span><span class="sxs-lookup"><span data-stu-id="aeb36-256">This does not affect the configuration process.</span></span>


[!INCLUDE [storsimple-upgrade-sharepoint-adapter](../../includes/storsimple-upgrade-sharepoint-adapter.md)]

## <a name="storsimple-adapter-for-sharepoint-removal"></a><span data-ttu-id="aeb36-257">Удаление адаптера StorSimple для SharePoint</span><span class="sxs-lookup"><span data-stu-id="aeb36-257">StorSimple Adapter for SharePoint removal</span></span>
<span data-ttu-id="aeb36-258">Ниже описана процедура перемещения больших двоичных объектов обратно в базы данных содержимого SQL Server и последующего удаления адаптера StorSimple для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-258">The following procedures describe how to move the BLOBs back to the SQL Server content databases and then uninstall the StorSimple Adapter for SharePoint.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="aeb36-259">Большие двоичные объекты необходимо вернуть в базы данных содержимого до удаления программного обеспечения адаптера.</span><span class="sxs-lookup"><span data-stu-id="aeb36-259">You have to move the BLOBs back to the content databases before you uninstall the adapter software.</span></span>


### <a name="before-you-begin"></a><span data-ttu-id="aeb36-260">Перед началом работы</span><span class="sxs-lookup"><span data-stu-id="aeb36-260">Before you begin</span></span>
<span data-ttu-id="aeb36-261">Прежде чем возвращать данные в базы данных содержимого SQL Server и начинать процесс удаления адаптера, соберите следующие сведения.</span><span class="sxs-lookup"><span data-stu-id="aeb36-261">Collect the following information before you move the data back to the SQL Server content databases and begin the adapter removal process:</span></span>

* <span data-ttu-id="aeb36-262">Имена всех баз данных, для которых включен RBS.</span><span class="sxs-lookup"><span data-stu-id="aeb36-262">The names of all the databases for which RBS is enabled</span></span>
* <span data-ttu-id="aeb36-263">UNC-путь настроенного хранилища больших двоичных объектов.</span><span class="sxs-lookup"><span data-stu-id="aeb36-263">The UNC path of the configured BLOB store</span></span>

### <a name="move-the-blobs-back-to-the-content-databases"></a><span data-ttu-id="aeb36-264">Возврат больших двоичных объектов в базы данных содержимого</span><span class="sxs-lookup"><span data-stu-id="aeb36-264">Move the BLOBs back to the content databases</span></span>
<span data-ttu-id="aeb36-265">Перед удалением программного обеспечения адаптера StorSimple для SharePoint необходимо перенести все экспортированные большие двоичные объекты обратно в базы данных содержимого SQL Server.</span><span class="sxs-lookup"><span data-stu-id="aeb36-265">Before you uninstall the StorSimple Adapter for SharePoint software, you must migrate all of the BLOBs that were externalized back to the SQL Server content databases.</span></span> <span data-ttu-id="aeb36-266">Если вы попытаетесь удалить адаптер StorSimple для SharePoint до того, как вернете все большие двоичные объекты в базы данных содержимого, появится следующее предупреждающее сообщение:</span><span class="sxs-lookup"><span data-stu-id="aeb36-266">If you attempt to uninstall the StorSimple Adapter for SharePoint before you move all the BLOBs back to the content databases, you will see the following warning message.</span></span>

![Предупреждение](./media/storsimple-adapter-for-sharepoint/sasp1.png)

#### <a name="to-move-the-blobs-back-to-the-content-databases"></a><span data-ttu-id="aeb36-268">Возврат больших двоичных объектов в базы данных содержимого</span><span class="sxs-lookup"><span data-stu-id="aeb36-268">To move the BLOBs back to the content databases</span></span>
1. <span data-ttu-id="aeb36-269">Скачайте все экспортированные объекты.</span><span class="sxs-lookup"><span data-stu-id="aeb36-269">Download each of the externalized objects.</span></span>
2. <span data-ttu-id="aeb36-270">Откройте страницу **центра администрирования SharePoint** и перейдите к странице **Параметры системы**.</span><span class="sxs-lookup"><span data-stu-id="aeb36-270">Open the **SharePoint Central Administration** page, and browse to **System Settings**.</span></span>
3. <span data-ttu-id="aeb36-271">В разделе **Azure StorSimple** щелкните **Configure StorSimple Adapter** (Настроить адаптер StorSimple).</span><span class="sxs-lookup"><span data-stu-id="aeb36-271">Under **Azure StorSimple**, click **Configure StorSimple Adapter**.</span></span>
4. <span data-ttu-id="aeb36-272">На странице **Configure StorSimple Adapter** (Настройка адаптера StorSimple) нажмите кнопку **Отключить** под каждой из баз данных содержимого, которую нужно удалить из внешнего хранилища BLOB-объектов.</span><span class="sxs-lookup"><span data-stu-id="aeb36-272">On the **Configure StorSimple Adapter** page, click the **Disable** button below each of the content databases that you want to remove from external BLOB storage.</span></span> 
5. <span data-ttu-id="aeb36-273">Удалите объекты из SharePoint, а затем загрузите их снова.</span><span class="sxs-lookup"><span data-stu-id="aeb36-273">Delete the objects from SharePoint, and then upload them again.</span></span>

<span data-ttu-id="aeb36-274">Также можно использовать командлет Microsoft` RBS Migrate()` PowerShell, входящий в SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-274">Alternatively, you can use the Microsoft` RBS Migrate()` PowerShell cmdlet included with SharePoint.</span></span> <span data-ttu-id="aeb36-275">Дополнительные сведения см. в статье о [переносе содержимого в RBS и из RBS](https://technet.microsoft.com/library/ff628255.aspx).</span><span class="sxs-lookup"><span data-stu-id="aeb36-275">For more information, see [Migrate content into or out of RBS](https://technet.microsoft.com/library/ff628255.aspx).</span></span>

<span data-ttu-id="aeb36-276">После возврата больших двоичных объектов в базу данных содержимого перейдите к следующему шагу: [Удаление адаптера](#uninstall-the-adapter).</span><span class="sxs-lookup"><span data-stu-id="aeb36-276">After you move the BLOBs back to the content database, go to the next step: [Uninstall the adapter](#uninstall-the-adapter).</span></span>

### <a name="uninstall-the-adapter"></a><span data-ttu-id="aeb36-277">Удаление адаптера</span><span class="sxs-lookup"><span data-stu-id="aeb36-277">Uninstall the adapter</span></span>
<span data-ttu-id="aeb36-278">Вернув большие двоичные объекты в базы данных содержимого SQL Server, удалите адаптер StorSimple для SharePoint одним из указанных ниже способов.</span><span class="sxs-lookup"><span data-stu-id="aeb36-278">After you move the BLOBs back to the SQL Server content databases, use one of the following options to uninstall the StorSimple Adapter for SharePoint.</span></span>

#### <a name="to-use-the-installation-program-to-uninstall-the-adapter"></a><span data-ttu-id="aeb36-279">Удаление адаптера с помощью программы установки</span><span class="sxs-lookup"><span data-stu-id="aeb36-279">To use the installation program to uninstall the adapter</span></span>
1. <span data-ttu-id="aeb36-280">Войдите на сервер через веб-интерфейс, воспользовавшись учетной записью с правами администратора.</span><span class="sxs-lookup"><span data-stu-id="aeb36-280">Use an account with administrator privileges to log on to the web front-end (WFE) server.</span></span>
2. <span data-ttu-id="aeb36-281">Дважды щелкните программу установки адаптера StorSimple для SharePoint.</span><span class="sxs-lookup"><span data-stu-id="aeb36-281">Double-click the StorSimple Adapter for SharePoint installer.</span></span> <span data-ttu-id="aeb36-282">Откроется мастер установки.</span><span class="sxs-lookup"><span data-stu-id="aeb36-282">The Setup Wizard starts.</span></span>
   
    ![Мастер установки](./media/storsimple-adapter-for-sharepoint/sasp2.png)
3. <span data-ttu-id="aeb36-284">Щелкните **Далее**.</span><span class="sxs-lookup"><span data-stu-id="aeb36-284">Click **Next**.</span></span> <span data-ttu-id="aeb36-285">Откроется следующая страница.</span><span class="sxs-lookup"><span data-stu-id="aeb36-285">The following page appears.</span></span>
   
    ![Мастер установки: страница удаления](./media/storsimple-adapter-for-sharepoint/sasp3.png)
4. <span data-ttu-id="aeb36-287">Щелкните **Удалить** , чтобы выбрать процесс удаления.</span><span class="sxs-lookup"><span data-stu-id="aeb36-287">Click **Remove** to select the removal process.</span></span> <span data-ttu-id="aeb36-288">Откроется следующая страница.</span><span class="sxs-lookup"><span data-stu-id="aeb36-288">The following page appears.</span></span>
   
    ![Мастер установки: страница подтверждения](./media/storsimple-adapter-for-sharepoint/sasp4.png)
5. <span data-ttu-id="aeb36-290">Щелкните **Удалить** , чтобы подтвердить удаление.</span><span class="sxs-lookup"><span data-stu-id="aeb36-290">Click **Remove** to confirm the removal.</span></span> <span data-ttu-id="aeb36-291">Откроется показанная ниже страница хода выполнения.</span><span class="sxs-lookup"><span data-stu-id="aeb36-291">The following progress page appears.</span></span>
   
    ![Мастер установки: страница хода выполнения](./media/storsimple-adapter-for-sharepoint/sasp5.png)
6. <span data-ttu-id="aeb36-293">После завершения процесса удаления появится страница «Готово».</span><span class="sxs-lookup"><span data-stu-id="aeb36-293">When the removal is complete, the finish page appears.</span></span> <span data-ttu-id="aeb36-294">Нажмите кнопку **Готово** , чтобы закрыть мастер установки.</span><span class="sxs-lookup"><span data-stu-id="aeb36-294">Click **Finish** to close the Setup Wizard.</span></span>

#### <a name="to-use-the-control-panel-to-uninstall-the-adapter"></a><span data-ttu-id="aeb36-295">Удаление адаптера с помощью панели управления</span><span class="sxs-lookup"><span data-stu-id="aeb36-295">To use the Control Panel to uninstall the adapter</span></span>
1. <span data-ttu-id="aeb36-296">Откройте панель управления и выберите **Программы и компоненты**.</span><span class="sxs-lookup"><span data-stu-id="aeb36-296">Open the Control Panel, and then click **Programs and Features**.</span></span>
2. <span data-ttu-id="aeb36-297">Выберите **Адаптер StorSimple для SharePoint** и щелкните **Удалить**.</span><span class="sxs-lookup"><span data-stu-id="aeb36-297">Select **StorSimple Adapter for SharePoint**, and then click **Uninstall**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="aeb36-298">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="aeb36-298">Next steps</span></span>
<span data-ttu-id="aeb36-299">[Узнайте больше о StorSimple](storsimple-overview.md).</span><span class="sxs-lookup"><span data-stu-id="aeb36-299">[Learn more about StorSimple](storsimple-overview.md).</span></span>

<!--Reference links-->
[1]: https://www.microsoft.com/download/details.aspx?id=44073
[2]: https://technet.microsoft.com/library/ff628583(v=office.15).aspx
[3]: https://technet.microsoft.com/library/ff628583(v=office.14).aspx
[4]: https://technet.microsoft.com/library/ff628569(v=office.14).aspx
[5]: https://technet.microsoft.com/library/ff628583(v=office.15).aspx
[8]: https://technet.microsoft.com/en-us/library/ff943565.aspx
