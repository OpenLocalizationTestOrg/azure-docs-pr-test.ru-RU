---
title: "aaaBest и рекомендации по StorSimple Virtual Array | Документы Microsoft"
description: "Описывает рекомендации по развертыванию и управлению hello StorSimple Virtual Array hello."
services: storsimple
documentationcenter: NA
author: alkohli
manager: timlt
editor: 
ms.assetid: 57ac6eeb-c47c-442d-a5f4-b360d81a76a6
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/08/2017
ms.author: alkohli
ms.openlocfilehash: f242364365e07f86b78e2f9bb2acfb3aa98e83e2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="storsimple-virtual-array-best-practices"></a><span data-ttu-id="77a4c-103">Рекомендации по использованию виртуального массива StorSimple</span><span class="sxs-lookup"><span data-stu-id="77a4c-103">StorSimple Virtual Array best practices</span></span>
## <a name="overview"></a><span data-ttu-id="77a4c-104">Обзор</span><span class="sxs-lookup"><span data-stu-id="77a4c-104">Overview</span></span>
<span data-ttu-id="77a4c-105">Виртуальный массив Microsoft Azure StorSimple — это интегрированное решение хранилища, которое управляет задачами хранилища на локальном виртуальном устройстве, выполняющемся в низкоуровневой оболочке, и в облачном хранилище Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="77a4c-105">Microsoft Azure StorSimple Virtual Array is an integrated storage solution that manages storage tasks between an on-premises virtual device running in a hypervisor and Microsoft Azure cloud storage.</span></span> <span data-ttu-id="77a4c-106">StorSimple Virtual Array — физический массив ряда эффективное и экономичное альтернативных toohello 8000.</span><span class="sxs-lookup"><span data-stu-id="77a4c-106">StorSimple Virtual Array is an efficient, cost-effective alternative toohello 8000 series physical array.</span></span> <span data-ttu-id="77a4c-107">Hello виртуального массива можно запускать на существующей инфраструктуре низкоуровневой оболочки, поддерживает hello iSCSI и протоколы SMB hello и хорошо подходит для удаленного office или филиалах.</span><span class="sxs-lookup"><span data-stu-id="77a4c-107">hello virtual array can run on your existing hypervisor infrastructure, supports both hello iSCSI and hello SMB protocols, and is well-suited for remote office/branch office scenarios.</span></span> <span data-ttu-id="77a4c-108">Дополнительные сведения о решениях StorSimple hello go слишком[Общие сведения о Microsoft Azure StorSimple](https://www.microsoft.com/en-us/server-cloud/products/storsimple/overview.aspx).</span><span class="sxs-lookup"><span data-stu-id="77a4c-108">For more information on hello StorSimple solutions, go too[Microsoft Azure StorSimple Overview](https://www.microsoft.com/en-us/server-cloud/products/storsimple/overview.aspx).</span></span>

<span data-ttu-id="77a4c-109">В этой статье приведены рекомендации hello реализована во время начальной настройки hello, развертывания и управления hello StorSimple Virtual Array.</span><span class="sxs-lookup"><span data-stu-id="77a4c-109">This article covers hello best practices implemented during hello initial setup, deployment, and management of hello StorSimple Virtual Array.</span></span> <span data-ttu-id="77a4c-110">Эти советы и рекомендации представлены рекомендации, проверенные для hello настройки и управления виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-110">These best practices provide validated guidelines for hello setup and management of your virtual array.</span></span> <span data-ttu-id="77a4c-111">В этой статье предназначена сторону hello ИТ администраторы, развертывание и управление ими hello виртуальных массивов в своих центров обработки данных.</span><span class="sxs-lookup"><span data-stu-id="77a4c-111">This article is targeted towards hello IT administrators who deploy and manage hello virtual arrays in their datacenters.</span></span>

<span data-ttu-id="77a4c-112">Корпорация Майкрософт рекомендует периодической проверки hello лучшие методики toohelp убедитесь, что устройство по-прежнему в соответствие при изменении настройки toohello или операции потока.</span><span class="sxs-lookup"><span data-stu-id="77a4c-112">We recommend a periodic review of hello best practices toohelp ensure your device is still in compliance when changes are made toohello setup or operation flow.</span></span> <span data-ttu-id="77a4c-113">Если у вас возникнут проблемы при реализации этих рекомендаций для виртуального массива, [обратитесь за помощью в службу технической поддержки Майкрософт](storsimple-virtual-array-log-support-ticket.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-113">Should you encounter any issues while implementing these best practices on your virtual array, [contact Microsoft Support](storsimple-virtual-array-log-support-ticket.md) for assistance.</span></span>

## <a name="configuration-best-practices"></a><span data-ttu-id="77a4c-114">Рекомендации по настройке</span><span class="sxs-lookup"><span data-stu-id="77a4c-114">Configuration best practices</span></span>
<span data-ttu-id="77a4c-115">Эти рекомендации охватывают hello рекомендации, которым требуется toobe, а затем во время начальной настройки hello и развертывания виртуальных массивов hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-115">These best practices cover hello guidelines that need toobe followed during hello initial setup and deployment of hello virtual arrays.</span></span> <span data-ttu-id="77a4c-116">Эти рекомендации включают эти связанные toohello подготовки виртуальной машины hello, параметры групповой политики, изменение размера, Настройка hello сети, Настройка учетных записей хранения и создание общих папок и томов для hello виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-116">These best practices include those related toohello provisioning of hello virtual machine, group policy settings, sizing, setting up hello networking, configuring storage accounts, and creating shares and volumes for hello virtual array.</span></span> 

### <a name="provisioning"></a><span data-ttu-id="77a4c-117">Подготовка</span><span class="sxs-lookup"><span data-stu-id="77a4c-117">Provisioning</span></span>
<span data-ttu-id="77a4c-118">StorSimple Virtual Array имеет сервер узла виртуальной машины (VM) на hello низкоуровневой оболочки (Hyper-V или VMware).</span><span class="sxs-lookup"><span data-stu-id="77a4c-118">StorSimple Virtual Array is a virtual machine (VM) provisioned on hello hypervisor (Hyper-V or VMware) of your host server.</span></span> <span data-ttu-id="77a4c-119">При подготовке виртуальной машины hello, убедитесь в наличии достаточных ресурсов может toodedicate вашего узла.</span><span class="sxs-lookup"><span data-stu-id="77a4c-119">When provisioning hello virtual machine, ensure that your host is able toodedicate sufficient resources.</span></span> <span data-ttu-id="77a4c-120">Дополнительные сведения см. слишком[минимальным требованиям к ресурсам](storsimple-virtual-array-deploy2-provision-hyperv.md#step-1-ensure-that-the-host-system-meets-minimum-virtual-array-requirements) tooprovision массив.</span><span class="sxs-lookup"><span data-stu-id="77a4c-120">For more information, go too[minimum resource requirements](storsimple-virtual-array-deploy2-provision-hyperv.md#step-1-ensure-that-the-host-system-meets-minimum-virtual-array-requirements) tooprovision an array.</span></span>

<span data-ttu-id="77a4c-121">Реализованы следующие рекомендации при подготовке виртуального массива hello hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-121">Implement hello following best practices when provisioning hello virtual array:</span></span>

|  | <span data-ttu-id="77a4c-122">Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="77a4c-122">Hyper-V</span></span> | <span data-ttu-id="77a4c-123">VMware</span><span class="sxs-lookup"><span data-stu-id="77a4c-123">VMware</span></span> |
| --- | --- | --- |
| <span data-ttu-id="77a4c-124">**Тип виртуальной машины**</span><span class="sxs-lookup"><span data-stu-id="77a4c-124">**Virtual machine type**</span></span> |<span data-ttu-id="77a4c-125">**поколения 2** для Windows Server 2012 или более поздней версии и *VHDX* -файла образа.</span><span class="sxs-lookup"><span data-stu-id="77a4c-125">**Generation 2** VM for use with Windows Server 2012 or later and a *.vhdx* image.</span></span> <br></br> <span data-ttu-id="77a4c-126">**поколения 1** для Windows Server 2008 или более поздней версии и *VHD* -файла образа.</span><span class="sxs-lookup"><span data-stu-id="77a4c-126">**Generation 1** VM for use with a Windows Server 2008 or later and a *.vhd* image.</span></span> |<span data-ttu-id="77a4c-127">Используйте виртуальную машину версии 8–11 для *VMDK* -файла образа</span><span class="sxs-lookup"><span data-stu-id="77a4c-127">Use virtual machine version 8 - 11 when using *.vmdk* image.</span></span> |
| <span data-ttu-id="77a4c-128">**Тип памяти**</span><span class="sxs-lookup"><span data-stu-id="77a4c-128">**Memory type**</span></span> |<span data-ttu-id="77a4c-129">Задайте тип памяти **Статическая**.</span><span class="sxs-lookup"><span data-stu-id="77a4c-129">Configure as **static memory**.</span></span> <br></br> <span data-ttu-id="77a4c-130">Не используйте hello **динамической памяти** параметр.</span><span class="sxs-lookup"><span data-stu-id="77a4c-130">Do not use hello **dynamic memory** option.</span></span> | |
| <span data-ttu-id="77a4c-131">**Тип диска данных**</span><span class="sxs-lookup"><span data-stu-id="77a4c-131">**Data disk type**</span></span> |<span data-ttu-id="77a4c-132">При подготовке настройте диск как **динамически расширяемый**.</span><span class="sxs-lookup"><span data-stu-id="77a4c-132">Provision as **dynamically expanding**.</span></span><br></br> <span data-ttu-id="77a4c-133">**фиксированного размера** занимает много времени.</span><span class="sxs-lookup"><span data-stu-id="77a4c-133">**Fixed size** takes a long time.</span></span> <br></br> <span data-ttu-id="77a4c-134">Не используйте hello **разностных** параметр.</span><span class="sxs-lookup"><span data-stu-id="77a4c-134">Do not use hello **differencing** option.</span></span> |<span data-ttu-id="77a4c-135">Используйте hello **тонкой подготовки** параметр.</span><span class="sxs-lookup"><span data-stu-id="77a4c-135">Use hello **thin provision** option.</span></span> |
| <span data-ttu-id="77a4c-136">**Изменение диска данных**</span><span class="sxs-lookup"><span data-stu-id="77a4c-136">**Data disk modification**</span></span> |<span data-ttu-id="77a4c-137">Расширение и сжатие не допускаются.</span><span class="sxs-lookup"><span data-stu-id="77a4c-137">Expansion or shrinking is not allowed.</span></span> <span data-ttu-id="77a4c-138">Попытка toodo поэтому приводит к потере hello все hello локальных данных на устройстве.</span><span class="sxs-lookup"><span data-stu-id="77a4c-138">An attempt toodo so results in hello loss of all hello local data on device.</span></span> |<span data-ttu-id="77a4c-139">Расширение и сжатие не допускаются.</span><span class="sxs-lookup"><span data-stu-id="77a4c-139">Expansion or shrinking is not allowed.</span></span> <span data-ttu-id="77a4c-140">Попытка toodo поэтому приводит к потере hello все hello локальных данных на устройстве.</span><span class="sxs-lookup"><span data-stu-id="77a4c-140">An attempt toodo so results in hello loss of all hello local data on device.</span></span> |

### <a name="sizing"></a><span data-ttu-id="77a4c-141">Определение размера</span><span class="sxs-lookup"><span data-stu-id="77a4c-141">Sizing</span></span>
<span data-ttu-id="77a4c-142">При изменения размера виртуального массива StorSimple, необходимо учитывайте следующие факторы hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-142">When sizing your StorSimple Virtual Array, consider hello following factors:</span></span>

* <span data-ttu-id="77a4c-143">Зарезервированное пространство для общих папок или томов на локальном уровне.</span><span class="sxs-lookup"><span data-stu-id="77a4c-143">Local reservation for volumes or shares.</span></span> <span data-ttu-id="77a4c-144">Приблизительно 12% hello места резервируется на hello локального уровня для каждого подготовленного многоуровневого тома или общей папки.</span><span class="sxs-lookup"><span data-stu-id="77a4c-144">Approximately 12% of hello space is reserved on hello local tier for each provisioned tiered volume or share.</span></span> <span data-ttu-id="77a4c-145">Примерно 10% hello пространства является также зарезервированным для локально закрепленного тома для файловой системы.</span><span class="sxs-lookup"><span data-stu-id="77a4c-145">Roughly 10% of hello space is also reserved for a locally pinned volume for file system.</span></span>
* <span data-ttu-id="77a4c-146">Пространство для моментальных снимков.</span><span class="sxs-lookup"><span data-stu-id="77a4c-146">Snapshot overhead.</span></span> <span data-ttu-id="77a4c-147">Примерно 15% место на локальном уровне hello резервируется для моментальных снимков.</span><span class="sxs-lookup"><span data-stu-id="77a4c-147">Roughly 15% space on hello local tier is reserved for snapshots.</span></span>
* <span data-ttu-id="77a4c-148">Необходимость в восстановлении.</span><span class="sxs-lookup"><span data-stu-id="77a4c-148">Need for restores.</span></span> <span data-ttu-id="77a4c-149">Если восстановление в новые операции, следует учитывать изменения размера hello пространства, необходимого для восстановления.</span><span class="sxs-lookup"><span data-stu-id="77a4c-149">If doing restore as a new operation, sizing should account for hello space needed for restore.</span></span> <span data-ttu-id="77a4c-150">Восстановление выполняется tooa папки или тома из hello одинакового размера.</span><span class="sxs-lookup"><span data-stu-id="77a4c-150">Restore is done tooa share or volume of hello same size.</span></span>
* <span data-ttu-id="77a4c-151">Необходимо выделить некоторый объем пространства на случай непредвиденного роста.</span><span class="sxs-lookup"><span data-stu-id="77a4c-151">Some buffer should be allocated for any unexpected growth.</span></span>

<span data-ttu-id="77a4c-152">На основании hello предшествующий факторов, hello, изменение размера требования могут быть представлены hello, следующая формула:</span><span class="sxs-lookup"><span data-stu-id="77a4c-152">Based on hello preceding factors, hello sizing requirements can be represented by hello following equation:</span></span>

`Total usable local disk size = (Total provisioned locally pinned volume/share size including space for file system) + (Max (local reservation for a volume/share) for all tiered volumes/share) + (Local reservation for all tiered volumes/shares)`

`Data disk size = Total usable local disk size + Snapshot overhead + buffer for unexpected growth or new share or volume`

<span data-ttu-id="77a4c-153">Hello следующие примеры иллюстрируют размера виртуального массива, на основе требований.</span><span class="sxs-lookup"><span data-stu-id="77a4c-153">hello following examples illustrate how you can size a virtual array based on your requirements.</span></span>

#### <a name="example-1"></a><span data-ttu-id="77a4c-154">Пример 1</span><span class="sxs-lookup"><span data-stu-id="77a4c-154">Example 1:</span></span>
<span data-ttu-id="77a4c-155">Для виртуального массива нужно toobe возможность</span><span class="sxs-lookup"><span data-stu-id="77a4c-155">On your virtual array, you want toobe able to</span></span>

* <span data-ttu-id="77a4c-156">подготовить многоуровневый том или общую папку объемом 2 ТБ;</span><span class="sxs-lookup"><span data-stu-id="77a4c-156">provision a 2 TB tiered volume or share.</span></span>
* <span data-ttu-id="77a4c-157">подготовить многоуровневый том или общую папку объемом 1 ТБ;</span><span class="sxs-lookup"><span data-stu-id="77a4c-157">provision a 1 TB tiered volume or share.</span></span>
* <span data-ttu-id="77a4c-158">подготовить локально закрепленный том или общую папку объемом 300 ГБ.</span><span class="sxs-lookup"><span data-stu-id="77a4c-158">provision a 300 GB of locally pinned volume or share.</span></span>

<span data-ttu-id="77a4c-159">Для hello выше папки или тома, сообщите нам вычисления hello требования к свободному месту на локальном уровне hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-159">For hello preceding volumes or shares, let us calculate hello space requirements on hello local tier.</span></span>

<span data-ttu-id="77a4c-160">Во-первых для каждого многоуровневого тома или общего файлового ресурса, локальном зарезервированном будет равно too12% от размера тома, общего доступа hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-160">First, for each tiered volume/share, local reservation would be equal too12% of hello volume/share size.</span></span> <span data-ttu-id="77a4c-161">Для hello локально закрепленный том или ресурс локальном зарезервированном будет 10% от hello локально закрепленный том или ресурс размер (в дополнение к этому toohello Подготовка размер).</span><span class="sxs-lookup"><span data-stu-id="77a4c-161">For hello locally pinned volume/share, local reservation is 10 % of hello locally pinned volume/share size (in addition toohello provisioned size).</span></span> <span data-ttu-id="77a4c-162">В этом примере требуется:</span><span class="sxs-lookup"><span data-stu-id="77a4c-162">In this example, you need</span></span>

* <span data-ttu-id="77a4c-163">240 ГБ локально зарезервированного пространства (для многоуровневого тома и общей папки объемом 2 ТБ);</span><span class="sxs-lookup"><span data-stu-id="77a4c-163">240 GB local reservation (for a 2 TB tiered volume/share)</span></span>
* <span data-ttu-id="77a4c-164">120 ГБ локально зарезервированного пространства (для многоуровневого тома и общей папки объемом 1 ТБ);</span><span class="sxs-lookup"><span data-stu-id="77a4c-164">120 GB local reservation (for a 1 TB tiered volume/share)</span></span>
* <span data-ttu-id="77a4c-165">330 ГБ для локально закрепленного тома или общей папки, (10% от размера 300 ГБ подготовить toohello локальном зарезервированном добавления)</span><span class="sxs-lookup"><span data-stu-id="77a4c-165">330 GB for locally pinned volume or share (adding 10 % of local reservation toohello 300 GB provisioned size)</span></span>

<span data-ttu-id="77a4c-166">Hello общий объем занятого места на локальном уровне hello пока является: 240 ГБ + 120 ГБ + 330 = 690 ГБ.</span><span class="sxs-lookup"><span data-stu-id="77a4c-166">hello total space required on hello local tier so far is: 240 GB + 120 GB + 330 GB = 690 GB.</span></span>

<span data-ttu-id="77a4c-167">Во-вторых мы требуется по крайней мере столько же места на локальном уровне hello как наибольшее одно резервирование hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-167">Second, we need at least as much space on hello local tier as hello largest single reservation.</span></span> <span data-ttu-id="77a4c-168">Этот дополнительный объем используется при необходимости toorestore из облачного моментального снимка.</span><span class="sxs-lookup"><span data-stu-id="77a4c-168">This extra amount is used in case you need toorestore from a cloud snapshot.</span></span> <span data-ttu-id="77a4c-169">В этом примере hello наибольшее локальном зарезервированном — 330 ГБ (включая резервирование для файловой системы), поэтому необходимо добавить этот toohello 690 ГБ: 690 + 330 ГБ = 1020 ГБ.</span><span class="sxs-lookup"><span data-stu-id="77a4c-169">In this example, hello largest local reservation is 330 GB (including reservation for file system), so you would add that toohello 690 GB: 690 GB + 330 GB = 1020 GB.</span></span>
<span data-ttu-id="77a4c-170">Если мы выполнили последующие дополнительные операции восстановления, мы всегда можно освободить дополнительное место hello hello предыдущей операции восстановления.</span><span class="sxs-lookup"><span data-stu-id="77a4c-170">If we performed subsequent additional restores, we can always free up hello space from hello previous restore operation.</span></span>

<span data-ttu-id="77a4c-171">В-третьих, нам нужно 15% локальной общее toostore локальные моментальные снимки, пока пространства, чтобы было доступно только 85% от ее.</span><span class="sxs-lookup"><span data-stu-id="77a4c-171">Third, we need 15 % of your total local space so far toostore local snapshots, so that only 85% of it is available.</span></span> <span data-ttu-id="77a4c-172">В этом примере это составит около 1020 ГБ — 0,85&ast; ТБ на подготовленном диске данных.</span><span class="sxs-lookup"><span data-stu-id="77a4c-172">In this example, that would be around 1020 GB = 0.85&ast;provisioned data disk TB.</span></span> <span data-ttu-id="77a4c-173">Таким образом, будет диск подготовленных данных hello (1020&ast;(1/0,85)) = 1200 ГБ = 1,20 ТБ ~ 1,25 ТБ (округление toonearest квартиль)</span><span class="sxs-lookup"><span data-stu-id="77a4c-173">So, hello provisioned data disk would be (1020&ast;(1/0.85))= 1200 GB = 1.20 TB ~ 1.25 TB (rounding off toonearest quartile)</span></span>

<span data-ttu-id="77a4c-174">Учитывая возможность непредвиденного роста и дополнительные операции восстановления, следует подготовить локальный диск емкостью примерно 1,25–1,5 ТБ.</span><span class="sxs-lookup"><span data-stu-id="77a4c-174">Factoring in unexpected growth and new restores, you should provision a local disk of around 1.25 - 1.5 TB.</span></span>

> [!NOTE]
> <span data-ttu-id="77a4c-175">Кроме того, мы рекомендуем локальный диск, hello тонкая подготовка.</span><span class="sxs-lookup"><span data-stu-id="77a4c-175">We also recommend that hello local disk is thinly provisioned.</span></span> <span data-ttu-id="77a4c-176">Эта рекомендация — поскольку hello место восстановления требуется только при необходимости toorestore данные, которые старше пяти дней.</span><span class="sxs-lookup"><span data-stu-id="77a4c-176">This recommendation is because hello restore space is only needed when you want toorestore data that is older than five days.</span></span> <span data-ttu-id="77a4c-177">Восстановление на уровне элементов позволяет toorestore данные для hello последние пять дней без необходимости hello дополнительное пространство для восстановления.</span><span class="sxs-lookup"><span data-stu-id="77a4c-177">Item-level recovery allows you toorestore data for hello last five days without requiring hello extra space for restore.</span></span>


#### <a name="example-2"></a><span data-ttu-id="77a4c-178">Пример 2</span><span class="sxs-lookup"><span data-stu-id="77a4c-178">Example 2:</span></span>
<span data-ttu-id="77a4c-179">Для виртуального массива нужно toobe возможность</span><span class="sxs-lookup"><span data-stu-id="77a4c-179">On your virtual array, you want toobe able to</span></span>

* <span data-ttu-id="77a4c-180">подготовить многоуровневый том объемом 2 ТБ;</span><span class="sxs-lookup"><span data-stu-id="77a4c-180">provision a 2 TB tiered volume</span></span>
* <span data-ttu-id="77a4c-181">подготовить локально закрепленный том объемом 300 ГБ.</span><span class="sxs-lookup"><span data-stu-id="77a4c-181">provision a 300 GB locally pinned volume</span></span>

<span data-ttu-id="77a4c-182">Так как 12 % локального пространства зарезервировано для многоуровневых томов и общих папок, а 10 % — для локально закрепленных томов и общих папок, нам понадобится:</span><span class="sxs-lookup"><span data-stu-id="77a4c-182">Based on 12 % of local space reservation for tiered volumes/shares and 10 % for locally pinned volumes/shares, we need</span></span>

* <span data-ttu-id="77a4c-183">240 ГБ локально зарезервированного пространства (для многоуровневого тома и общей папки объемом 2 ТБ);</span><span class="sxs-lookup"><span data-stu-id="77a4c-183">240 GB local reservation (for 2 TB tiered volume/share)</span></span>
* <span data-ttu-id="77a4c-184">330 ГБ для локально закрепленного тома или общей папки, (10% от локального резервирования toohello подготовить 300 ГБ места добавления)</span><span class="sxs-lookup"><span data-stu-id="77a4c-184">330 GB for locally pinned volume or share (adding 10% of local reservation toohello 300 GB provisioned space)</span></span>

<span data-ttu-id="77a4c-185">— Общий объем занятого места на локальном уровне hello: 240 ГБ + 330 = 570 ГБ</span><span class="sxs-lookup"><span data-stu-id="77a4c-185">Total space required on hello local tier is: 240 GB + 330 GB = 570 GB</span></span>

<span data-ttu-id="77a4c-186">Hello минимального локального пространства для восстановления — 330 ГБ.</span><span class="sxs-lookup"><span data-stu-id="77a4c-186">hello minimum local space needed for restore is 330 GB.</span></span>

<span data-ttu-id="77a4c-187">15% общего диска — моментальные снимки toostore используется, чтобы было доступно только 0,85.</span><span class="sxs-lookup"><span data-stu-id="77a4c-187">15 % of your total disk is used toostore snapshots so that only 0.85 is available.</span></span> <span data-ttu-id="77a4c-188">Таким образом, является размер диска hello (900&ast;(1/0,85)) = 1,06 ТБ ~ 1,25 ТБ (округление toonearest квартиль)</span><span class="sxs-lookup"><span data-stu-id="77a4c-188">So, hello disk size is (900&ast;(1/0.85)) = 1.06 TB ~ 1.25 TB (rounding off toonearest quartile)</span></span>

<span data-ttu-id="77a4c-189">Учитывая непредвиденный рост, можно подготовить локальный диск объемом 1,25–1,5 ТБ.</span><span class="sxs-lookup"><span data-stu-id="77a4c-189">Factoring in any unexpected growth, you can provision a 1.25 - 1.5 TB local disk.</span></span>

### <a name="group-policy"></a><span data-ttu-id="77a4c-190">Групповая политика</span><span class="sxs-lookup"><span data-stu-id="77a4c-190">Group policy</span></span>
<span data-ttu-id="77a4c-191">Групповая политика — это инфраструктура, которая позволяет вам tooimplement определенных конфигураций для пользователей и компьютеров.</span><span class="sxs-lookup"><span data-stu-id="77a4c-191">Group Policy is an infrastructure that allows you tooimplement specific configurations for users and computers.</span></span> <span data-ttu-id="77a4c-192">Параметры групповой политики содержатся в объектах групповой политики (GPO), являющиеся связанного toohello следующие контейнеры доменных служб Active Directory (AD DS): сайты, домены или подразделения (OU).</span><span class="sxs-lookup"><span data-stu-id="77a4c-192">Group Policy settings are contained in Group Policy objects (GPOs), which are linked toohello following Active Directory Domain Services (AD DS) containers: sites, domains, or organizational units (OUs).</span></span> 

<span data-ttu-id="77a4c-193">Если виртуального массива, присоединенных к домену, объекты групповой политики может быть применен tooit.</span><span class="sxs-lookup"><span data-stu-id="77a4c-193">If your virtual array is domain-joined, GPOs can be applied tooit.</span></span> <span data-ttu-id="77a4c-194">Эти объекты групповой политики могут устанавливать приложения, таких как антивирусная программа, которая может неблагоприятно повлиять на работу hello hello StorSimple Virtual Array.</span><span class="sxs-lookup"><span data-stu-id="77a4c-194">These GPOs can install applications such as an antivirus software that can adversely impact hello operation of hello StorSimple Virtual Array.</span></span>

<span data-ttu-id="77a4c-195">Поэтому следует учитывать следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="77a4c-195">Therefore, we recommend that you:</span></span>

* <span data-ttu-id="77a4c-196">Убедитесь, что виртуальный массив находится в собственном подразделении Active Directory.</span><span class="sxs-lookup"><span data-stu-id="77a4c-196">Ensure that your virtual array is in its own organizational unit (OU) for Active Directory.</span></span>
* <span data-ttu-id="77a4c-197">Убедитесь примененных tooyour виртуального массива не объектов групповой политики (GPO).</span><span class="sxs-lookup"><span data-stu-id="77a4c-197">Make sure that no group policy objects (GPOs) are applied tooyour virtual array.</span></span> <span data-ttu-id="77a4c-198">Можно блокировать наследование tooensure, hello виртуального массива (дочерний узел), необязательно автоматически унаследует объектами групповой политики от родительского hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-198">You can block inheritance tooensure that hello virtual array (child node) does not automatically inherit any GPOs from hello parent.</span></span> <span data-ttu-id="77a4c-199">Дополнительные сведения см. слишком[блокировать наследование](https://technet.microsoft.com/library/cc731076.aspx).</span><span class="sxs-lookup"><span data-stu-id="77a4c-199">For more information, go too[block inheritance](https://technet.microsoft.com/library/cc731076.aspx).</span></span>

### <a name="networking"></a><span data-ttu-id="77a4c-200">Сеть</span><span class="sxs-lookup"><span data-stu-id="77a4c-200">Networking</span></span>
<span data-ttu-id="77a4c-201">Сетевая конфигурация Hello виртуального массива осуществляется посредством hello локального пользовательского веб-интерфейса.</span><span class="sxs-lookup"><span data-stu-id="77a4c-201">hello network configuration for your virtual array is done through hello local web UI.</span></span> <span data-ttu-id="77a4c-202">Виртуальном сетевом интерфейсе осуществляется за счет hello низкоуровневой оболочки, в котором подготавливается hello виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-202">A virtual network interface is enabled through hello hypervisor in which hello virtual array is provisioned.</span></span> <span data-ttu-id="77a4c-203">Используйте hello [параметры сети](storsimple-virtual-array-deploy3-fs-setup.md) страницы IP-адрес виртуального сетевого интерфейса tooconfigure hello, подсети и шлюз.</span><span class="sxs-lookup"><span data-stu-id="77a4c-203">Use hello [Network Settings](storsimple-virtual-array-deploy3-fs-setup.md) page tooconfigure hello virtual network interface IP address, subnet, and gateway.</span></span>  <span data-ttu-id="77a4c-204">Можно также настроить hello основного и дополнительного DNS-сервера, параметры времени и параметры прокси-сервера для вашего устройства.</span><span class="sxs-lookup"><span data-stu-id="77a4c-204">You can also configure hello primary and secondary DNS server, time settings, and optional proxy settings for your device.</span></span> <span data-ttu-id="77a4c-205">Большая часть конфигурации сети hello находится однократная настройка.</span><span class="sxs-lookup"><span data-stu-id="77a4c-205">Most of hello network configuration is a one-time setup.</span></span> <span data-ttu-id="77a4c-206">Просмотрите hello [StorSimple, требования к сети](storsimple-ova-system-requirements.md#networking-requirements) предыдущих toodeploying hello виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-206">Review hello [StorSimple networking requirements](storsimple-ova-system-requirements.md#networking-requirements) prior toodeploying hello virtual array.</span></span>

<span data-ttu-id="77a4c-207">При развертывании виртуального массива нужно следовать таким рекомендациям:</span><span class="sxs-lookup"><span data-stu-id="77a4c-207">When deploying your virtual array, we recommend that you follow these best practices:</span></span>

* <span data-ttu-id="77a4c-208">Убедитесь, что эту сеть hello, в какие hello виртуального массива развертывается всегда доступно hello емкость toodedicate 5 пропускной способности Интернета Мбит/с (или более).</span><span class="sxs-lookup"><span data-stu-id="77a4c-208">Ensure that hello network in which hello virtual array is deployed always has hello capacity toodedicate 5 Mbps Internet bandwidth (or more).</span></span>
  
  * <span data-ttu-id="77a4c-209">Необходимость пропускной способности Интернета зависит от характеристик рабочей нагрузки и hello скорости изменения данных.</span><span class="sxs-lookup"><span data-stu-id="77a4c-209">Internet bandwidth need varies depending on your workload characteristics and hello rate of data change.</span></span>
  * <span data-ttu-id="77a4c-210">Hello изменения данных, которая может быть обработана является прямо пропорциональным tooyour пропускной способности Интернета.</span><span class="sxs-lookup"><span data-stu-id="77a4c-210">hello data change that can be handled is directly proportional tooyour Internet bandwidth.</span></span> <span data-ttu-id="77a4c-211">Например, при создании резервной копии интернет-канал с пропускной способностью 5 Мбит/с позволяет выполнить операцию изменения данных объемом 18 ГБ за 8 часов.</span><span class="sxs-lookup"><span data-stu-id="77a4c-211">As an example when taking a backup, a 5 Mbps bandwidth can accommodate a data change of around 18 GB in 8 hours.</span></span> <span data-ttu-id="77a4c-212">Если пропускная способность будет выше в четыре раза (20 Мбит/с), можно будет обработать изменение данных с четырехкратным объемом (72 ГБ).</span><span class="sxs-lookup"><span data-stu-id="77a4c-212">With four times more bandwidth (20 Mbps), you can handle four times more data change (72 GB).</span></span>
* <span data-ttu-id="77a4c-213">Убедитесь, что доступна всегда toohello подключения к Интернету.</span><span class="sxs-lookup"><span data-stu-id="77a4c-213">Ensure connectivity toohello Internet is always available.</span></span> <span data-ttu-id="77a4c-214">Ненадежное Интернет подключений устройств toohello может привести к потере toodata доступа в облаке hello и может привести к Неподдерживаемая конфигурация.</span><span class="sxs-lookup"><span data-stu-id="77a4c-214">Sporadic or unreliable Internet connections toohello devices may result in a loss of access toodata in hello cloud and could result in an unsupported configuration.</span></span>
* <span data-ttu-id="77a4c-215">Если планируется toodeploy ваше устройство как iSCSI-сервера:</span><span class="sxs-lookup"><span data-stu-id="77a4c-215">If you plan toodeploy your device as an iSCSI server:</span></span>
  
  * <span data-ttu-id="77a4c-216">Мы рекомендуем отключить hello **получить IP-адрес автоматически** параметр (DHCP).</span><span class="sxs-lookup"><span data-stu-id="77a4c-216">We recommend that you disable hello **Get IP address automatically** option (DHCP).</span></span>
  * <span data-ttu-id="77a4c-217">Настройте статические IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="77a4c-217">Configure static IP addresses.</span></span> <span data-ttu-id="77a4c-218">Необходимо настроить основной и дополнительный DNS-серверы.</span><span class="sxs-lookup"><span data-stu-id="77a4c-218">You must configure a primary and a secondary DNS server.</span></span>
  * <span data-ttu-id="77a4c-219">Если определить несколько сетевых интерфейсов на виртуальных массива, hello только первый сетевой интерфейс (по умолчанию этот интерфейс является **Ethernet**) может достичь облака hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-219">If defining multiple network interfaces on your virtual array, only hello first network interface (by default, this interface is **Ethernet**) can reach hello cloud.</span></span> <span data-ttu-id="77a4c-220">toocontrol hello тип трафика, можно создать несколько виртуальных сетевых интерфейсов на виртуальных массива (настраивается как сервер iSCSI) и подключиться этих подсетей toodifferent интерфейсов.</span><span class="sxs-lookup"><span data-stu-id="77a4c-220">toocontrol hello type of traffic, you can create multiple virtual network interfaces on your virtual array (configured as an iSCSI server) and connect those interfaces toodifferent subnets.</span></span>
* <span data-ttu-id="77a4c-221">toothrottle hello полоса пропускания облака только (используется проигрывателем hello виртуального массива), регулирование полосы пропускания на hello маршрутизатор или брандмауэр hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-221">toothrottle hello cloud bandwidth only (used by hello virtual array), configure throttling on hello router or hello firewall.</span></span> <span data-ttu-id="77a4c-222">При определении регулирования в вашей низкоуровневой оболочке, он будет регулировать все протоколы hello, включая iSCSI и SMB вместо просто полоса пропускания облака hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-222">If you define throttling in your hypervisor, it will throttle all hello protocols including iSCSI and SMB instead of just hello cloud bandwidth.</span></span>
* <span data-ttu-id="77a4c-223">Включите синхронизацию времени для низкоуровневых оболочек.</span><span class="sxs-lookup"><span data-stu-id="77a4c-223">Ensure that time synchronization for hypervisors is enabled.</span></span> <span data-ttu-id="77a4c-224">Если с помощью Hyper-V, выберите виртуального массива в hello диспетчера Hyper-V, перейдите в слишком**параметры &gt; службы Integration Services**и убедитесь, что hello **синхронизация времени** проверяется.</span><span class="sxs-lookup"><span data-stu-id="77a4c-224">If using Hyper-V, select your virtual array in hello Hyper-V Manager, go too**Settings &gt; Integration Services**, and ensure that hello **Time synchronization** is checked.</span></span>

### <a name="storage-accounts"></a><span data-ttu-id="77a4c-225">учетные записи хранения;</span><span class="sxs-lookup"><span data-stu-id="77a4c-225">Storage accounts</span></span>
<span data-ttu-id="77a4c-226">Виртуальный массив StorSimple можно связать с одной учетной записью хранения.</span><span class="sxs-lookup"><span data-stu-id="77a4c-226">StorSimple Virtual Array can be associated with a single storage account.</span></span> <span data-ttu-id="77a4c-227">Эта учетная запись может быть автоматически созданную учетную запись хранения, учетная запись в hello tooanother подписки, связанные с той же подписке, hello службы или учетной записи хранилища.</span><span class="sxs-lookup"><span data-stu-id="77a4c-227">This storage account could be an automatically generated storage account, an account in hello same subscription as hello service, or a storage account related tooanother subscription.</span></span> <span data-ttu-id="77a4c-228">Дополнительные сведения см. в разделе как слишком[управление учетными записями хранилища для виртуального массива](storsimple-virtual-array-manage-storage-accounts.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-228">For more information, see how too[manage storage accounts for your virtual array](storsimple-virtual-array-manage-storage-accounts.md).</span></span>

<span data-ttu-id="77a4c-229">Используйте hello следующих рекомендаций для учетных записей хранения, связанный с виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-229">Use hello following recommendations for storage accounts associated with your virtual array.</span></span>

* <span data-ttu-id="77a4c-230">При связывании нескольких виртуальных массивов с одной учетной записи хранения, учитывайте hello максимальной емкости (до 64 ТБ) для виртуального массива и максимальный размер hello (500 ТБ) для учетной записи хранения.</span><span class="sxs-lookup"><span data-stu-id="77a4c-230">When linking multiple virtual arrays with a single storage account, factor in hello maximum capacity (64 TB) for a virtual array and hello maximum size (500 TB) for a storage account.</span></span> <span data-ttu-id="77a4c-231">Это ограничивает число hello полноразмерное виртуальных массивов, которые могут быть связаны с этой tooabout учетной записи хранения 7.</span><span class="sxs-lookup"><span data-stu-id="77a4c-231">This limits hello number of full-sized virtual arrays that can be associated with that storage account tooabout 7.</span></span>
* <span data-ttu-id="77a4c-232">При создании учетной записи хранения учитывайте следующее:</span><span class="sxs-lookup"><span data-stu-id="77a4c-232">When creating a new storage account</span></span>
  
  * <span data-ttu-id="77a4c-233">Рекомендуется создавать в hello области ближайший toohello удаленный офис/филиал office где виртуального массива StorSimple — развернутой toominimize задержки.</span><span class="sxs-lookup"><span data-stu-id="77a4c-233">We recommend that you create it in hello region closest toohello remote office/branch office where your StorSimple Virtual Array is deployed toominimize latencies.</span></span>
  * <span data-ttu-id="77a4c-234">Обратите внимание, что учетные записи хранения нельзя переносить из одного региона в другой.</span><span class="sxs-lookup"><span data-stu-id="77a4c-234">Bear in mind that you cannot move a storage account across different regions.</span></span> <span data-ttu-id="77a4c-235">То же самое касается переноса службы в другую подписку.</span><span class="sxs-lookup"><span data-stu-id="77a4c-235">Also you cannot move a service across subscriptions.</span></span>
  * <span data-ttu-id="77a4c-236">Используйте учетную запись хранения, который реализует избыточности между центрами обработки данных hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-236">Use a storage account that implements redundancy between hello datacenters.</span></span> <span data-ttu-id="77a4c-237">Для виртуального массива можно использовать геоизбыточное хранилище (GRS), хранилище, избыточное в пределах зоны, (ZRS) и локально избыточное хранилище (LRS).</span><span class="sxs-lookup"><span data-stu-id="77a4c-237">Geo-Redundant Storage (GRS), Zone Redundant Storage (ZRS), and Locally Redundant Storage (LRS) are all supported for use with your virtual array.</span></span> <span data-ttu-id="77a4c-238">Дополнительные сведения о различных типах учетных записей хранения hello go слишком[репликации хранилища Azure](../storage/common/storage-redundancy.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-238">For more information on hello different types of storage accounts, go too[Azure storage replication](../storage/common/storage-redundancy.md).</span></span>

### <a name="shares-and-volumes"></a><span data-ttu-id="77a4c-239">Общие папки и тома</span><span class="sxs-lookup"><span data-stu-id="77a4c-239">Shares and volumes</span></span>
<span data-ttu-id="77a4c-240">Общие папки для виртуального массива StorSimple можно подготовить, если он настроен как файловый сервер, а тома — если он настроен как сервер iSCSI.</span><span class="sxs-lookup"><span data-stu-id="77a4c-240">For your StorSimple Virtual Array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span></span> <span data-ttu-id="77a4c-241">Hello рекомендации по созданию общих папок и томов связаны toohello тип размер и hello настроен.</span><span class="sxs-lookup"><span data-stu-id="77a4c-241">hello best practices for creating shares and volumes are related toohello size and hello type configured.</span></span>

#### <a name="volumeshare-size"></a><span data-ttu-id="77a4c-242">Размер томов и общих папок</span><span class="sxs-lookup"><span data-stu-id="77a4c-242">Volume/Share size</span></span>
<span data-ttu-id="77a4c-243">Общие папки для виртуального массива можно подготовить, если он настроен как файловый сервер, а для тома — если он настроен как сервер iSCSI.</span><span class="sxs-lookup"><span data-stu-id="77a4c-243">On your virtual array, you can provision shares when it is configured as a file server and volumes when configured as an iSCSI server.</span></span> <span data-ttu-id="77a4c-244">Hello рекомендации по созданию общих папок и томов связаны toohello размер и hello типа, который настроен.</span><span class="sxs-lookup"><span data-stu-id="77a4c-244">hello best practices for creating shares and volumes relate toohello size and hello type configured.</span></span> 

<span data-ttu-id="77a4c-245">Имейте в виду hello следующие рекомендации при подготовке папок или томов, на виртуальное устройство.</span><span class="sxs-lookup"><span data-stu-id="77a4c-245">Keep in mind hello following best practices when provisioning shares or volumes on your virtual device.</span></span>

* <span data-ttu-id="77a4c-246">Hello размеры относительный toohello подготовить размер файла многоуровневого общего файлового ресурса может повлиять на производительность уровней hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-246">hello file sizes relative toohello provisioned size of a tiered share can impact hello tiering performance.</span></span> <span data-ttu-id="77a4c-247">Иногда при работе с большими файлами распределение по уровням выполняется очень медленно. При работе с большими файлами, мы рекомендуем, hello большого файла меньше 3% от размера общего файлового ресурса hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-247">Working with large files could result in a slow tier out. When working with large files, we recommend that hello largest file is smaller than 3% of hello share size.</span></span>
* <span data-ttu-id="77a4c-248">Можно создать более 16 томов/общих ресурсов на hello виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-248">A maximum of 16 volumes/shares can be created on hello virtual array.</span></span> <span data-ttu-id="77a4c-249">Для ограничения размера hello hello локально закрепленные и многоуровневого томов/общих ресурсов, всегда относятся toohello [StorSimple Virtual Array ограничивает](storsimple-ova-limits.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-249">For hello size limits of hello locally pinned and tiered volumes/shares, always refer toohello [StorSimple Virtual Array limits](storsimple-ova-limits.md).</span></span>
* <span data-ttu-id="77a4c-250">При создании тома, учитывайте hello ожидается потребления данных, а также увеличение в будущем.</span><span class="sxs-lookup"><span data-stu-id="77a4c-250">When creating a volume, factor in hello expected data consumption as well as future growth.</span></span> <span data-ttu-id="77a4c-251">Hello тома не могут быть развернуты в более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="77a4c-251">hello volume cannot be expanded later.</span></span>
* <span data-ttu-id="77a4c-252">После создания тома hello не удалось сжать hello размер тома hello на StorSimple.</span><span class="sxs-lookup"><span data-stu-id="77a4c-252">Once hello volume has been created, you cannot shrink hello size of hello volume on StorSimple.</span></span>
* <span data-ttu-id="77a4c-253">При записи tooa многоуровневого тома в StorSimple, когда hello тома данных достигает определенного порога (относительный toohello локального пространства, зарезервированного для hello тома), регулируется hello операции ввода-ВЫВОДА.</span><span class="sxs-lookup"><span data-stu-id="77a4c-253">When writing tooa tiered volume on StorSimple, when hello volume data reaches a certain threshold (relative toohello local space reserved for hello volume), hello IO is throttled.</span></span> <span data-ttu-id="77a4c-254">Продолжение toowrite toothis тома замедляет hello операции ввода-ВЫВОДА значительно.</span><span class="sxs-lookup"><span data-stu-id="77a4c-254">Continuing toowrite toothis volume slows down hello IO significantly.</span></span> <span data-ttu-id="77a4c-255">Хотя можно записывать tooa многоуровневого тома после его подготовленная емкость (мы не останавливайте активно hello пользователя из записи превышена максимальная емкость hello подготовить) см. в разделе эффект toohello уведомления о предупреждении, лимита подписки.</span><span class="sxs-lookup"><span data-stu-id="77a4c-255">Though you can write tooa tiered volume beyond its provisioned capacity (we do not actively stop hello user from writing beyond hello provisioned capacity), you see an alert notification toohello effect that you have oversubscribed.</span></span> <span data-ttu-id="77a4c-256">Как только вы увидите предупреждение hello, крайне важно, предпринять корректирующие меры, такие как delete hello тома данных (расширения тома в настоящее время не поддерживается).</span><span class="sxs-lookup"><span data-stu-id="77a4c-256">Once you see hello alert, it is imperative that you take remedial measures such as delete hello volume data (volume expansion is currently not supported).</span></span>
* <span data-ttu-id="77a4c-257">В целях аварийного восстановления как hello количество допустимых общих папок или томов составляет 16 и hello максимальное число общих папок или томов, которые могут обрабатываться параллельно также равно 16, hello число общих папок или томов не влияют на RPO и RTO.</span><span class="sxs-lookup"><span data-stu-id="77a4c-257">For disaster recovery use cases, as hello number of allowable shares/volumes is 16 and hello maximum number of shares/volumes that can be processed in parallel is also 16, hello number of shares/volumes does not have a bearing on your RPO and RTOs.</span></span>

#### <a name="volumeshare-type"></a><span data-ttu-id="77a4c-258">Тип томов и общих папок</span><span class="sxs-lookup"><span data-stu-id="77a4c-258">Volume/Share type</span></span>
<span data-ttu-id="77a4c-259">StorSimple поддерживает два типа том или ресурс, в зависимости от использования hello: локально закрепленные и многоуровневыми.</span><span class="sxs-lookup"><span data-stu-id="77a4c-259">StorSimple supports two volume/share types based on hello usage: locally pinned and tiered.</span></span> <span data-ttu-id="77a4c-260">Локально закрепленных томов/общих ресурсов "толстую" подготовку, тогда как hello многоуровневых томов/общих ресурсов подготавливаются по мере необходимости.</span><span class="sxs-lookup"><span data-stu-id="77a4c-260">Locally pinned volumes/shares are thickly provisioned whereas hello tiered volumes/shares are thinly provisioned.</span></span> <span data-ttu-id="77a4c-261">Не удается преобразовать tootiered локально закрепленных томов и общих папок или *наоборот* после ее создания.</span><span class="sxs-lookup"><span data-stu-id="77a4c-261">You cannot convert a locally pinned volume/share tootiered or *vice versa* once created.</span></span>

<span data-ttu-id="77a4c-262">Рекомендуется, чтобы реализовать hello, при настройке StorSimple томов/общих ресурсов следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="77a4c-262">We recommend that you implement hello following best practices when configuring StorSimple volumes/shares:</span></span>

* <span data-ttu-id="77a4c-263">Укажите тип hello тома, на основе нагрузок hello планировалось toodeploy, прежде чем создавать тома.</span><span class="sxs-lookup"><span data-stu-id="77a4c-263">Identify hello volume type based on hello workloads that you intend toodeploy before you create a volume.</span></span> <span data-ttu-id="77a4c-264">Локально закрепленные тома подходят для рабочих нагрузок, данные для которых должны все время быть доступными локально (даже при сбое в облаке) и которые требуют низкой задержки в облаке.</span><span class="sxs-lookup"><span data-stu-id="77a4c-264">Use locally pinned volumes for workloads that require local guarantees of data (even during a cloud outage) and that require low cloud latencies.</span></span> <span data-ttu-id="77a4c-265">После создания тома в виртуального массива, нельзя изменить тип hello тома из локально закрепленные tootiered или *наоборот*.</span><span class="sxs-lookup"><span data-stu-id="77a4c-265">Once you create a volume on your virtual array, you cannot change hello volume type from locally pinned tootiered or *vice-versa*.</span></span> <span data-ttu-id="77a4c-266">Например, локально закрепленные тома следует использовать при развертывании рабочих нагрузок SQL или размещении виртуальных машин, а многоуровневые тома — для рабочих нагрузок файловых ресурсов.</span><span class="sxs-lookup"><span data-stu-id="77a4c-266">As an example, create locally pinned volumes when deploying SQL workloads or workloads hosting virtual machines (VMs); use tiered volumes for file share workloads.</span></span>
* <span data-ttu-id="77a4c-267">Установите флажок hello для архивных данных, часто используемых при работе с большой размер.</span><span class="sxs-lookup"><span data-stu-id="77a4c-267">Check hello option for less frequently used archival data when dealing with large file sizes.</span></span> <span data-ttu-id="77a4c-268">Если этот параметр включен, используется блок дедупликации большего размера 512 КБ передачи данных hello tooexpedite toohello облака.</span><span class="sxs-lookup"><span data-stu-id="77a4c-268">A larger deduplication chunk size of 512 K is used when this option is enabled tooexpedite hello data transfer toohello cloud.</span></span>

#### <a name="volume-format"></a><span data-ttu-id="77a4c-269">Формат тома</span><span class="sxs-lookup"><span data-stu-id="77a4c-269">Volume format</span></span>
<span data-ttu-id="77a4c-270">После создания томов StorSimple на вашем сервере iSCSI, необходимо tooinitialize, подключения и формат hello тома.</span><span class="sxs-lookup"><span data-stu-id="77a4c-270">After you create StorSimple volumes on your iSCSI server, you need tooinitialize, mount, and format hello volumes.</span></span> <span data-ttu-id="77a4c-271">Эта операция выполняется на устройстве StorSimple tooyour главный hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-271">This operation is performed on hello host connected tooyour StorSimple device.</span></span> <span data-ttu-id="77a4c-272">Рекомендуется использовать следующие рекомендации при монтировании и форматирование тома StorSimple узла hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-272">Following best practices are recommended when mounting and formatting volumes on hello StorSimple host.</span></span>

* <span data-ttu-id="77a4c-273">Выполняйте для всех томов StorSimple быстрое форматирование.</span><span class="sxs-lookup"><span data-stu-id="77a4c-273">Perform a quick format on all StorSimple volumes.</span></span>
* <span data-ttu-id="77a4c-274">При форматировании тома StorSimple рекомендуемый размер единицы выделения — 64 КБ (размер по умолчанию — 4 КБ).</span><span class="sxs-lookup"><span data-stu-id="77a4c-274">When formatting a StorSimple volume, use an allocation unit size (AUS) of 64 KB (default is 4 KB).</span></span> <span data-ttu-id="77a4c-275">Hello 64 КБ Сиднейское основан на тестирование, подготовленный самостоятельно для общих рабочих нагрузок StorSimple и других рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="77a4c-275">hello 64 KB AUS is based on testing done in-house for common StorSimple workloads and other workloads.</span></span>
* <span data-ttu-id="77a4c-276">При с помощью hello StorSimple Virtual Array, настроенный в качестве сервера iSCSI, не используйте составные тома или динамических дисков как эти тома или диски не поддерживаются StorSimple.</span><span class="sxs-lookup"><span data-stu-id="77a4c-276">When using hello StorSimple Virtual Array configured as an iSCSI server, do not use spanned volumes or dynamic disks as these volumes or disks are not supported by StorSimple.</span></span>

#### <a name="share-access"></a><span data-ttu-id="77a4c-277">Общий доступ</span><span class="sxs-lookup"><span data-stu-id="77a4c-277">Share access</span></span>
<span data-ttu-id="77a4c-278">При создании общих папок на виртуальном массиве, настроенном в качестве файлового сервера, следует придерживаться приведенных ниже рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="77a4c-278">When creating shares on your virtual array file server, follow these guidelines:</span></span>

* <span data-ttu-id="77a4c-279">При создании общей папки настройте администраторские права не для одного пользователя, а для группы пользователей.</span><span class="sxs-lookup"><span data-stu-id="77a4c-279">When creating a share, assign a user group as a share administrator instead of a single user.</span></span>
* <span data-ttu-id="77a4c-280">После создания общей папки hello, изменив hello общим папкам с помощью проводника Windows, вы можете управлять hello разрешения NTFS.</span><span class="sxs-lookup"><span data-stu-id="77a4c-280">You can manage hello NTFS permissions after hello share is created by editing hello shares through Windows Explorer.</span></span>

#### <a name="volume-access"></a><span data-ttu-id="77a4c-281">Доступ к тому</span><span class="sxs-lookup"><span data-stu-id="77a4c-281">Volume access</span></span>
<span data-ttu-id="77a4c-282">При настройке тома hello iSCSI для вашей StorSimple Virtual Array, является важным toocontrol доступа везде, где необходимо.</span><span class="sxs-lookup"><span data-stu-id="77a4c-282">When configuring hello iSCSI volumes on your StorSimple Virtual Array, it is important toocontrol access wherever necessary.</span></span> <span data-ttu-id="77a4c-283">toodetermine, на которых размещены серверы можно получать доступ к томам, создать и связать записи управления доступом (ACR) для томов StorSimple.</span><span class="sxs-lookup"><span data-stu-id="77a4c-283">toodetermine which host servers can access volumes, create, and associate access control records (ACRs) with StorSimple volumes.</span></span>

<span data-ttu-id="77a4c-284">Используйте следующие рекомендации при настройке записи контроля доступа для томов StorSimple hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-284">Use hello following best practices when configuring ACRs for StorSimple volumes:</span></span>

* <span data-ttu-id="77a4c-285">Всегда связывайте с томом по крайней мере одну запись контроля доступа.</span><span class="sxs-lookup"><span data-stu-id="77a4c-285">Always associate at least one ACR with a volume.</span></span>

* <span data-ttu-id="77a4c-286">При назначении нескольких томов tooa контроля доступа, убедитесь, что тома hello не в виде, где он одновременно обращаются более чем одного некластеризованного узла.</span><span class="sxs-lookup"><span data-stu-id="77a4c-286">When assigning more than one ACR tooa volume, ensure that hello volume is not exposed in a way where it can be concurrently accessed by more than one non-clustered host.</span></span> <span data-ttu-id="77a4c-287">При назначении нескольких записей контроля доступа tooa тома, предупреждающее сообщение появится окно для вас tooreview конфигурации.</span><span class="sxs-lookup"><span data-stu-id="77a4c-287">If you have assigned multiple ACRs tooa volume, a warning message pops up for you tooreview your configuration.</span></span>

### <a name="data-security-and-encryption"></a><span data-ttu-id="77a4c-288">Шифрование и обеспечение защиты данных</span><span class="sxs-lookup"><span data-stu-id="77a4c-288">Data security and encryption</span></span>
<span data-ttu-id="77a4c-289">Виртуальный массив StorSimple имеет функции безопасности и шифрования данных, обеспечивающие hello конфиденциальность и целостность данных.</span><span class="sxs-lookup"><span data-stu-id="77a4c-289">Your StorSimple Virtual Array has data security and encryption features that ensure hello confidentiality and integrity of your data.</span></span> <span data-ttu-id="77a4c-290">При использовании этих функций следует учитывать приведенные ниже рекомендации.</span><span class="sxs-lookup"><span data-stu-id="77a4c-290">When using these features, it is recommended that you follow these best practices:</span></span> 

* <span data-ttu-id="77a4c-291">Определите шифрования облачного хранилища шифрования toogenerate ключа AES-256, перед отправкой данных hello в облаке toohello виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-291">Define a cloud storage encryption key toogenerate AES-256 encryption before hello data is sent from your virtual array toohello cloud.</span></span> <span data-ttu-id="77a4c-292">Этот ключ не требуется, если данные хранятся зашифрованные toobegin с.</span><span class="sxs-lookup"><span data-stu-id="77a4c-292">This key is not required if your data is encrypted toobegin with.</span></span> <span data-ttu-id="77a4c-293">Hello ключ может создавать и хранить безопасно, например с помощью системы управления ключами [хранилища ключей Azure](../key-vault/key-vault-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-293">hello key can be generated and kept safe using a key management system such as [Azure key vault](../key-vault/key-vault-whatis.md).</span></span>
* <span data-ttu-id="77a4c-294">При настройке учетной записи хранилища hello через службу StorSimple Manager hello, убедитесь, что включен режим toocreate hello SSL защищенный канал сетевого взаимодействия между устройством StorSimple и hello облака.</span><span class="sxs-lookup"><span data-stu-id="77a4c-294">When configuring hello storage account via hello StorSimple Manager service, make sure that you enable hello SSL mode toocreate a secure channel for network communication between your StorSimple device and hello cloud.</span></span>
* <span data-ttu-id="77a4c-295">Hello повторное создание ключей для учетных записей хранилища (путем доступа к службе хранилища Azure hello) периодически tooaccount для любого изменения tooaccess на основе hello изменения списка администраторов.</span><span class="sxs-lookup"><span data-stu-id="77a4c-295">Regenerate hello keys for your storage accounts (by accessing hello Azure Storage service) periodically tooaccount for any changes tooaccess based on hello changed list of administrators.</span></span>
* <span data-ttu-id="77a4c-296">Данные на виртуальный массив сжимаются и дедупликации перед отправкой tooAzure.</span><span class="sxs-lookup"><span data-stu-id="77a4c-296">Data on your virtual array is compressed and deduplicated before it is sent tooAzure.</span></span> <span data-ttu-id="77a4c-297">Не рекомендуется использовать служба роли дедупликации hello на узле Windows Server.</span><span class="sxs-lookup"><span data-stu-id="77a4c-297">We don't recommend using hello Data Deduplication role service on your Windows Server host.</span></span>

## <a name="operational-best-practices"></a><span data-ttu-id="77a4c-298">Рекомендации по использованию</span><span class="sxs-lookup"><span data-stu-id="77a4c-298">Operational best practices</span></span>
<span data-ttu-id="77a4c-299">Hello рекомендации по использованию приведены рекомендации, которых следует придерживаться во время операции hello виртуального массива или повседневного управления hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-299">hello operational best practices are guidelines that should be followed during hello day-to-day management or operation of hello virtual array.</span></span> <span data-ttu-id="77a4c-300">Эти методы охватывать задач управления, таких как резервное копирование, восстановление из резервного набора данных, отработка отказа, деактивация и удаление hello массива, мониторинга использования системы и работоспособности, и выполнения вирусов проверок на виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-300">These practices cover specific management tasks such as taking backups, restoring from a backup set, performing a failover, deactivating and deleting hello array, monitoring system usage and health, and running virus scans on your virtual array.</span></span>

### <a name="backups"></a><span data-ttu-id="77a4c-301">Резервные копии</span><span class="sxs-lookup"><span data-stu-id="77a4c-301">Backups</span></span>
<span data-ttu-id="77a4c-302">Hello на виртуальный массив резервное копирование данных облака toohello двумя способами, значение по умолчанию автоматическое ежедневное резервное копирование начиная все устройство hello в 22:30 или с помощью резервной копии вручную по требованию.</span><span class="sxs-lookup"><span data-stu-id="77a4c-302">hello data on your virtual array is backed up toohello cloud in two ways, a default automated daily backup of hello entire device starting at 22:30 or via a manual on-demand backup.</span></span> <span data-ttu-id="77a4c-303">По умолчанию hello устройство автоматически создает ежедневные облачные моментальные снимки всех данных hello, установленными на нем.</span><span class="sxs-lookup"><span data-stu-id="77a4c-303">By default, hello device automatically creates daily cloud snapshots of all hello data residing on it.</span></span> <span data-ttu-id="77a4c-304">Дополнительные сведения см. слишком[резервное копирование виртуального массива StorSimple](storsimple-virtual-array-backup.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-304">For more information, go too[back up your StorSimple Virtual Array](storsimple-virtual-array-backup.md).</span></span>

<span data-ttu-id="77a4c-305">Hello частоты и хранения, связанный с резервных копий по умолчанию hello нельзя изменить, но можно настроить время hello, на какие hello ежедневное резервное копирование инициируются каждый день.</span><span class="sxs-lookup"><span data-stu-id="77a4c-305">hello frequency and retention associated with hello default backups cannot be changed but you can configure hello time at which hello daily backups are initiated every day.</span></span> <span data-ttu-id="77a4c-306">При настройке времени начала hello hello автоматическое резервное копирование, рекомендуется, чтобы:</span><span class="sxs-lookup"><span data-stu-id="77a4c-306">When configuring hello start time for hello automated backups, we recommend that:</span></span>

* <span data-ttu-id="77a4c-307">Планируйте архивацию на часы наименьшей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="77a4c-307">Schedule your backups for off-peak hours.</span></span> <span data-ttu-id="77a4c-308">Время начала резервного копирования не должно совпадать с периодом интенсивных рабочих нагрузок ввода-вывода на узле.</span><span class="sxs-lookup"><span data-stu-id="77a4c-308">Backup start time should not coincide with numerous host IO.</span></span>
* <span data-ttu-id="77a4c-309">Инициировать резервной копии вручную по требованию при планировании tooperform отработки отказа устройства или периода обслуживания предыдущих toohello, tooprotect hello данные виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-309">Initiate a manual on-demand backup when planning tooperform a device failover or prior toohello maintenance window, tooprotect hello data on your virtual array.</span></span>

### <a name="restore"></a><span data-ttu-id="77a4c-310">восстановление;</span><span class="sxs-lookup"><span data-stu-id="77a4c-310">Restore</span></span>
<span data-ttu-id="77a4c-311">Можно восстановить из резервного набора данных двумя способами: восстановления tooanother тома или общей папки или выполнить восстановление на уровне элементов (доступно только для виртуальных массивов, настроенных как файловый сервер).</span><span class="sxs-lookup"><span data-stu-id="77a4c-311">You can restore from a backup set in two ways: restore tooanother volume or share or perform an item-level recovery (available only on a virtual array configured as a file server).</span></span> <span data-ttu-id="77a4c-312">Восстановление на уровне элементов позволяет toodo детальное восстановление файлов и папок из резервной копии все общие папки hello облака на устройство StorSimple hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-312">Item-level recovery allows you toodo a granular recovery of files and folders from a cloud backup of all hello shares on hello StorSimple device.</span></span> <span data-ttu-id="77a4c-313">Дополнительные сведения см. слишком[восстановить из резервной копии](storsimple-virtual-array-clone.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-313">For more information, go too[restore from a backup](storsimple-virtual-array-clone.md).</span></span>

<span data-ttu-id="77a4c-314">При выполнении восстановления, необходимо следовать рекомендациям помнить hello:</span><span class="sxs-lookup"><span data-stu-id="77a4c-314">When performing a restore, keep hello following guidelines in mind:</span></span>

* <span data-ttu-id="77a4c-315">Виртуальный массив StorSimple не поддерживает восстановление на месте.</span><span class="sxs-lookup"><span data-stu-id="77a4c-315">Your StorSimple Virtual Array does not support in-place restore.</span></span> <span data-ttu-id="77a4c-316">Однако это можно легко обеспечивается в два этапа: Освободите место на hello виртуального массива, а затем восстановите tooanother том или ресурс.</span><span class="sxs-lookup"><span data-stu-id="77a4c-316">This can however be readily achieved by a two-step process: make space on hello virtual array and then restore tooanother volume/share.</span></span>
* <span data-ttu-id="77a4c-317">При восстановлении из локального тома, имейте в виду hello восстановления будет длительных операций.</span><span class="sxs-lookup"><span data-stu-id="77a4c-317">When restoring from a local volume, keep in mind hello restore will be a long running operation.</span></span> <span data-ttu-id="77a4c-318">Хотя hello тома может быстро переходит в оперативный режим, данные hello продолжается toobe структура данных в фоновом режиме hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-318">Though hello volume may quickly come online, hello data continues toobe hydrated in hello background.</span></span>
* <span data-ttu-id="77a4c-319">Hello тома типа остается таким же hello в процессе восстановления hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-319">hello volume type remains hello same during hello restore process.</span></span> <span data-ttu-id="77a4c-320">Восстанавливается многоуровневого тома tooanother многоуровневого тома и тома локально закрепленный tooanother локально закрепленного тома.</span><span class="sxs-lookup"><span data-stu-id="77a4c-320">A tiered volume is restored tooanother tiered volume and a locally pinned volume tooanother locally pinned volume.</span></span>
* <span data-ttu-id="77a4c-321">При попытке toorestore тома или папки из резервной копии, при сбое задания восстановления hello, на целевом томе или общий ресурс по-прежнему можно создать на портале hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-321">When trying toorestore a volume or a share from a backup set, if hello restore job fails, a target volume or share may still be created in hello portal.</span></span> <span data-ttu-id="77a4c-322">Очень важно, удаление этого неиспользуемого целевого тома или общей папки в toominimize портала hello будущих вопросов, связанных с данным элементом.</span><span class="sxs-lookup"><span data-stu-id="77a4c-322">It is important that you delete this unused target volume or share in hello portal toominimize any future issues arising from this element.</span></span>

### <a name="failover-and-disaster-recovery"></a><span data-ttu-id="77a4c-323">Отработка отказа и аварийное восстановление</span><span class="sxs-lookup"><span data-stu-id="77a4c-323">Failover and disaster recovery</span></span>
<span data-ttu-id="77a4c-324">Отработки отказа устройства позволяет toomigrate данные из *источника* устройство в hello datacenter tooanother *целевой* устройства находятся в hello того же или другом географическом расположении.</span><span class="sxs-lookup"><span data-stu-id="77a4c-324">A device failover allows you toomigrate your data from a *source* device in hello datacenter tooanother *target* device located in hello same or a different geographical location.</span></span> <span data-ttu-id="77a4c-325">отработка отказа устройства Hello — для всей устройства hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-325">hello device failover is for hello entire device.</span></span> <span data-ttu-id="77a4c-326">Во время отработки отказа hello облачных данных для исходного устройства hello изменяет toothat владения hello целевого устройства.</span><span class="sxs-lookup"><span data-stu-id="77a4c-326">During failover, hello cloud data for hello source device changes ownership toothat of hello target device.</span></span>

<span data-ttu-id="77a4c-327">Для виртуального массива StorSimple, вы можете только отработка отказа tooanother виртуальный массив управляется hello же в службе StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="77a4c-327">For your StorSimple Virtual Array, you can only fail over tooanother virtual array managed by hello same StorSimple Manager service.</span></span> <span data-ttu-id="77a4c-328">Устройства серии tooan 8000 отработки отказа или массив управляется другой службой диспетчера StorSimple (чем hello одно для hello исходного устройства) не допускается.</span><span class="sxs-lookup"><span data-stu-id="77a4c-328">A failover tooan 8000 series device or an array managed by a different StorSimple Manager service (than hello one for hello source device) is not allowed.</span></span> <span data-ttu-id="77a4c-329">toolearn более о вопросах hello перехода на другой ресурс, переход слишком[необходимые условия для отработки отказа устройства hello](storsimple-virtual-array-failover-dr.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-329">toolearn more about hello failover considerations, go too[prerequisites for hello device failover](storsimple-virtual-array-failover-dr.md).</span></span>

<span data-ttu-id="77a4c-330">При выполнении сбой через виртуального массива, учитывайте следующие hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-330">When performing a fail over for your virtual array, keep hello following in mind:</span></span>

* <span data-ttu-id="77a4c-331">Для запланированной отработки отказа это рекомендуемое рекомендуется так сделать, tootake hello томов/общих ресурсов автономного предыдущих tooinitiating hello отработка отказа всех.</span><span class="sxs-lookup"><span data-stu-id="77a4c-331">For a planned failover, it is a recommended best practice tootake all hello volumes/shares offline prior tooinitiating hello failover.</span></span> <span data-ttu-id="77a4c-332">Выполните инструкции, относящиеся к операционной системе hello tootake hello томов/общих ресурсов вне сети на hello сначала размещения и затем отключить те, на виртуальное устройство.</span><span class="sxs-lookup"><span data-stu-id="77a4c-332">Follow hello operating system-specific instructions tootake hello volumes/shares offline on hello host first and then take those offline on your virtual device.</span></span>
* <span data-ttu-id="77a4c-333">Файл сервера аварийного восстановления (DR) Корпорация Майкрософт рекомендует присоединения hello целевого устройства toohello домену, в котором hello источника, который hello разрешения для общей папки разрешаются автоматически.</span><span class="sxs-lookup"><span data-stu-id="77a4c-333">For a file server disaster recovery (DR), we recommend that you join hello target device toohello same domain as hello source so that hello share permissions are automatically resolved.</span></span> <span data-ttu-id="77a4c-334">Только hello отработки отказа tooa целевое устройство в hello в этом выпуске поддерживается в том же домене.</span><span class="sxs-lookup"><span data-stu-id="77a4c-334">Only hello failover tooa target device in hello same domain is supported in this release.</span></span>
* <span data-ttu-id="77a4c-335">По окончании hello аварийного восстановления успешно hello исходное устройство удаляется автоматически.</span><span class="sxs-lookup"><span data-stu-id="77a4c-335">Once hello DR is successfully completed, hello source device is automatically deleted.</span></span> <span data-ttu-id="77a4c-336">Хотя hello устройство больше не доступно, hello виртуальной машины, которое предоставляется в компьютерной системе hello по-прежнему использует ресурсы.</span><span class="sxs-lookup"><span data-stu-id="77a4c-336">Though hello device is no longer available, hello virtual machine that you provisioned on hello host system is still consuming resources.</span></span> <span data-ttu-id="77a4c-337">Рекомендуется удалить эту виртуальную машину из вашего узла системы tooprevent всех счетов из начисляться.</span><span class="sxs-lookup"><span data-stu-id="77a4c-337">We recommend that you delete this virtual machine from your host system tooprevent any charges from accruing.</span></span>
* <span data-ttu-id="77a4c-338">Обратите внимание, что даже если отработки отказа hello завершается неудачно, **hello данных в облаке hello безопасна**.</span><span class="sxs-lookup"><span data-stu-id="77a4c-338">Do note that even if hello failover is unsuccessful, **hello data is always safe in hello cloud**.</span></span> <span data-ttu-id="77a4c-339">Примите во внимание следующие три сценария, в которых hello отработки отказа не была успешно завершена hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-339">Consider hello following three scenarios in which hello failover did not complete successfully:</span></span>
  
  * <span data-ttu-id="77a4c-340">Ошибка в начальной стадии hello hello перехода на другой ресурс, например при выполнении предварительная проверка hello аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="77a4c-340">A failure occurred in hello initial stages of hello failover such as when hello DR pre-checks are being performed.</span></span> <span data-ttu-id="77a4c-341">В этом случае целевое устройство все еще можно использовать.</span><span class="sxs-lookup"><span data-stu-id="77a4c-341">In this situation, your target device is still usable.</span></span> <span data-ttu-id="77a4c-342">Можно повторить попытку hello переход на другой ресурс hello того же целевого устройства.</span><span class="sxs-lookup"><span data-stu-id="77a4c-342">You can retry hello failover on hello same target device.</span></span>
  * <span data-ttu-id="77a4c-343">Произошла ошибка во время процесса hello фактического перехода на другой ресурс.</span><span class="sxs-lookup"><span data-stu-id="77a4c-343">A failure occurred during hello actual failover process.</span></span> <span data-ttu-id="77a4c-344">В этом случае hello целевое устройство помечается непригодным для использования.</span><span class="sxs-lookup"><span data-stu-id="77a4c-344">In this case, hello target device is marked unusable.</span></span> <span data-ttu-id="77a4c-345">Необходимо подготовить и настроить для отработки отказа другой целевой виртуальный массив.</span><span class="sxs-lookup"><span data-stu-id="77a4c-345">You must provision and configure another target virtual array and use that for failover.</span></span>
  * <span data-ttu-id="77a4c-346">Hello перехода на другой ресурс был завершен, после того, какие hello исходное устройство было удалено, но hello целевое устройство имеет проблемы и не доступ к данным.</span><span class="sxs-lookup"><span data-stu-id="77a4c-346">hello failover was complete following which hello source device was deleted but hello target device has issues and you cannot access any data.</span></span> <span data-ttu-id="77a4c-347">Hello данные по-прежнему безопасно в облаке hello и легко найти, создав другого виртуального массива и использовать ее в качестве целевого устройства для hello аварийного восстановления.</span><span class="sxs-lookup"><span data-stu-id="77a4c-347">hello data is still safe in hello cloud and can be easily retrieved by creating another virtual array and then using it as a target device for hello DR.</span></span>

### <a name="deactivate"></a><span data-ttu-id="77a4c-348">Отключение</span><span class="sxs-lookup"><span data-stu-id="77a4c-348">Deactivate</span></span>
<span data-ttu-id="77a4c-349">При отключении StorSimple Virtual Array, вы сервера hello соединения между устройством hello и hello соответствующей службы диспетчера StorSimple.</span><span class="sxs-lookup"><span data-stu-id="77a4c-349">When you deactivate a StorSimple Virtual Array, you sever hello connection between hello device and hello corresponding StorSimple Manager service.</span></span> <span data-ttu-id="77a4c-350">Отключение является **необратимой** операцией.</span><span class="sxs-lookup"><span data-stu-id="77a4c-350">Deactivation is a **permanent** operation and cannot be undone.</span></span> <span data-ttu-id="77a4c-351">Деактивированное устройство нельзя зарегистрировать с hello в службе StorSimple Manager еще раз.</span><span class="sxs-lookup"><span data-stu-id="77a4c-351">A deactivated device cannot be registered with hello StorSimple Manager service again.</span></span> <span data-ttu-id="77a4c-352">Дополнительные сведения см. слишком[деактивация и удаление виртуального массива StorSimple](storsimple-virtual-array-deactivate-and-delete-device.md).</span><span class="sxs-lookup"><span data-stu-id="77a4c-352">For more information, go too[deactivate and delete your StorSimple Virtual Array](storsimple-virtual-array-deactivate-and-delete-device.md).</span></span>

<span data-ttu-id="77a4c-353">Сохранить hello следующие рекомендации в виду при деактивации виртуального массива:</span><span class="sxs-lookup"><span data-stu-id="77a4c-353">Keep hello following best practices in mind when deactivating your virtual array:</span></span>

* <span data-ttu-id="77a4c-354">Снимок облака все hello данных предыдущих toodeactivating виртуального устройства.</span><span class="sxs-lookup"><span data-stu-id="77a4c-354">Take a cloud snapshot of all hello data prior toodeactivating a virtual device.</span></span> <span data-ttu-id="77a4c-355">При отключении виртуальных массивов, все данные hello локального устройства будут утеряны.</span><span class="sxs-lookup"><span data-stu-id="77a4c-355">When you deactivate a virtual array, all hello local device data is lost.</span></span> <span data-ttu-id="77a4c-356">Снимок облака позволит вам toorecover данных в дальнейшем.</span><span class="sxs-lookup"><span data-stu-id="77a4c-356">Taking a cloud snapshot will allow you toorecover data at a later stage.</span></span>
* <span data-ttu-id="77a4c-357">Перед отключением StorSimple Virtual Array, убедитесь, что toostop или удалить клиенты и узлы, зависящих от данного устройства.</span><span class="sxs-lookup"><span data-stu-id="77a4c-357">Before you deactivate a StorSimple Virtual Array, make sure toostop or delete clients and hosts that depend on that device.</span></span>
* <span data-ttu-id="77a4c-358">Если отключенное устройство больше не используется, удалите его, чтобы с вас не взималась плата.</span><span class="sxs-lookup"><span data-stu-id="77a4c-358">Delete a deactivated device if you are no longer using so that it doesn't accrue charges.</span></span>

### <a name="monitoring"></a><span data-ttu-id="77a4c-359">Мониторинг</span><span class="sxs-lookup"><span data-stu-id="77a4c-359">Monitoring</span></span>
<span data-ttu-id="77a4c-360">tooensure непрерывного Исправен, виртуального массива StorSimple требуется toomonitor hello массива и получить сведения из системы hello, включая предупреждения об изменении.</span><span class="sxs-lookup"><span data-stu-id="77a4c-360">tooensure that your StorSimple Virtual Array is in a continuous healthy state, you need toomonitor hello array and ensure that you receive information from hello system including alerts.</span></span> <span data-ttu-id="77a4c-361">toomonitor hello общую работоспособность hello виртуального массива, реализуйте hello следующие рекомендации:</span><span class="sxs-lookup"><span data-stu-id="77a4c-361">toomonitor hello overall health of hello virtual array, implement hello following best practices:</span></span>

* <span data-ttu-id="77a4c-362">Настройка мониторинга tootrack hello дискового массива виртуальный диск данных, а также диск ОС hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-362">Configure monitoring tootrack hello disk usage of your virtual array data disk as well as hello OS disk.</span></span> <span data-ttu-id="77a4c-363">Если под управлением Hyper-V, можно использовать сочетание toomonitor диспетчера виртуальных машин System Center (SCVMM) и System Center Operations Manager (SCOM) узлов виртуализации.</span><span class="sxs-lookup"><span data-stu-id="77a4c-363">If running Hyper-V, you can use a combination of System Center Virtual Machine Manager (SCVMM) and System Center Operations Manager (SCOM) toomonitor your virtualization hosts.</span></span>
* <span data-ttu-id="77a4c-364">Настройте уведомления по электронной почте на оповещения toosend виртуального массива на определенных уровнях использования.</span><span class="sxs-lookup"><span data-stu-id="77a4c-364">Configure email notifications on your virtual array toosend alerts at certain usage levels.</span></span>                                                                                                                                                                                                

### <a name="index-search-and-virus-scan-applications"></a><span data-ttu-id="77a4c-365">Приложения поиска по индексу и проверки на вирусы</span><span class="sxs-lookup"><span data-stu-id="77a4c-365">Index search and virus scan applications</span></span>
<span data-ttu-id="77a4c-366">StorSimple Virtual Array можно автоматически уровня данных из локального уровня hello toohello облако Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="77a4c-366">A StorSimple Virtual Array can automatically tier data from hello local tier toohello Microsoft Azure cloud.</span></span> <span data-ttu-id="77a4c-367">При разработке приложения, такие как поиска по индексу или поиска вирусов используется tooscan hello данные, хранящиеся на StorSimple, необходимо следить за tootake, hello облачные данные не получить доступ к и обратно извлечено toohello локального уровня.</span><span class="sxs-lookup"><span data-stu-id="77a4c-367">When an application such as an index search or a virus scan is used tooscan hello data stored on StorSimple, you need tootake care that hello cloud data does not get accessed and pulled back toohello local tier.</span></span>

<span data-ttu-id="77a4c-368">Рекомендуется реализовать следующие рекомендации при настройке просмотра индекса поиска или вирусов hello для виртуального массива hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-368">We recommend that you implement hello following best practices when configuring hello index search or virus scan on your virtual array:</span></span>

* <span data-ttu-id="77a4c-369">Отключите все автоматически настроенные операции полной проверки.</span><span class="sxs-lookup"><span data-stu-id="77a4c-369">Disable any automatically configured full scan operations.</span></span>
* <span data-ttu-id="77a4c-370">Для многоуровневых томов настройте hello индекса поиска или вирусов сканирования приложения tooperform дополнительное сканирование.</span><span class="sxs-lookup"><span data-stu-id="77a4c-370">For tiered volumes, configure hello index search or virus scan application tooperform an incremental scan.</span></span> <span data-ttu-id="77a4c-371">Это будет проверять только hello новых данных скорее всего, установленными на локальном уровне hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-371">This would scan only hello new data likely residing on hello local tier.</span></span> <span data-ttu-id="77a4c-372">во время операции добавочного данные Hello, многоуровневых toohello облака не доступно.</span><span class="sxs-lookup"><span data-stu-id="77a4c-372">hello data that is tiered toohello cloud is not accessed during an incremental operation.</span></span>
* <span data-ttu-id="77a4c-373">Убедитесь, hello поиска правильные фильтры и настройки параметров, чтобы получить просматриваются только hello предназначен типа файлов.</span><span class="sxs-lookup"><span data-stu-id="77a4c-373">Ensure hello correct search filters and settings are configured so that only hello intended types of files get scanned.</span></span> <span data-ttu-id="77a4c-374">Например, образ файлов (JPEG, GIF и TIFF) и инженерные рисунки не будет сканироваться во время перестроения индекса добавочным или полным hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-374">For example, image files (JPEG, GIF, and TIFF) and engineering drawings should not be scanned during hello incremental or full index rebuild.</span></span>

<span data-ttu-id="77a4c-375">Если используется индексирование Windows, придерживайтесь следующих рекомендаций.</span><span class="sxs-lookup"><span data-stu-id="77a4c-375">If using Windows indexing process, follow these guidelines:</span></span>

* <span data-ttu-id="77a4c-376">Не следует использовать индексатор Windows hello для многоуровневых томов, как из облака hello отзывает большие объемы данных (TBs), если hello индекс необходимо перестроить часто toobe.</span><span class="sxs-lookup"><span data-stu-id="77a4c-376">Do not use hello Windows Indexer for tiered volumes as it recalls large amounts of data (TBs) from hello cloud if hello index needs toobe rebuilt frequently.</span></span> <span data-ttu-id="77a4c-377">Перестроение индекса hello будет получать все tooindex файл типы их содержимого.</span><span class="sxs-lookup"><span data-stu-id="77a4c-377">Rebuilding hello index would retrieve all file types tooindex their content.</span></span>
* <span data-ttu-id="77a4c-378">Используйте Windows hello процесс для локально закрепленных томов индексации, как это будет только доступ к данным на hello локального уровней toobuild hello индекса (hello облачные данные не доступны).</span><span class="sxs-lookup"><span data-stu-id="77a4c-378">Use hello Windows indexing process for locally pinned volumes as this would only access data on hello local tiers toobuild hello index (hello cloud data will not be accessed).</span></span>

### <a name="byte-range-locking"></a><span data-ttu-id="77a4c-379">Блокировка диапазона байтов</span><span class="sxs-lookup"><span data-stu-id="77a4c-379">Byte range locking</span></span>
<span data-ttu-id="77a4c-380">Приложения могут блокировать указанному диапазону байтов внутри файлов hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-380">Applications can lock a specified range of bytes within hello files.</span></span> <span data-ttu-id="77a4c-381">Если блокировка диапазона байтов будет включен в приложения hello, создающих tooyour StorSimple, затем уровнями не работает на виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-381">If byte range locking is enabled on hello applications that are writing tooyour StorSimple, then tiering does not work on your virtual array.</span></span> <span data-ttu-id="77a4c-382">Для многоуровневого toowork hello необходимо разблокировать hello файлов, доступных всем областям.</span><span class="sxs-lookup"><span data-stu-id="77a4c-382">For hello tiering toowork, all areas of hello files accessed should be unlocked.</span></span> <span data-ttu-id="77a4c-383">Блокировка диапазона байтов не поддерживается для многоуровневых томов на виртуальном массиве.</span><span class="sxs-lookup"><span data-stu-id="77a4c-383">Byte range locking is not supported with tiered volumes on your virtual array.</span></span>

<span data-ttu-id="77a4c-384">Рекомендуемые меры блокировки диапазона байтов tooalleviate включают:</span><span class="sxs-lookup"><span data-stu-id="77a4c-384">Recommended measures tooalleviate byte range locking include:</span></span>

* <span data-ttu-id="77a4c-385">Отключите блокировку диапазона байтов в логике приложения.</span><span class="sxs-lookup"><span data-stu-id="77a4c-385">Turn off byte range locking in your application logic.</span></span>
* <span data-ttu-id="77a4c-386">Используйте локально закрепленные тома (вместо многоуровневая) для hello данные, связанные с этим приложением.</span><span class="sxs-lookup"><span data-stu-id="77a4c-386">Use locally pinned volumes (instead of tiered) for hello data associated with this application.</span></span> <span data-ttu-id="77a4c-387">Локально закрепленные тома не уровня в облако hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-387">Locally pinned volumes do not tier into hello cloud.</span></span>
* <span data-ttu-id="77a4c-388">Если локально с помощью закрепленных томов с блокировки диапазона байтов включена, hello тома с подключением к сети до завершения восстановления hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-388">When using locally pinned volumes with byte range locking enabled, hello volume can come online before hello restore is complete.</span></span> <span data-ttu-id="77a4c-389">В таких случаях необходимо дождаться завершения toobe восстановления hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-389">In these instances, you must wait for hello restore toobe complete.</span></span>

## <a name="multiple-arrays"></a><span data-ttu-id="77a4c-390">Несколько массивов</span><span class="sxs-lookup"><span data-stu-id="77a4c-390">Multiple arrays</span></span>
<span data-ttu-id="77a4c-391">Несколько виртуальных массивов может понадобиться развернуть toobe tooaccount растущих рабочего набора данных, который может сбрасывать в облаке hello, тем самым влияя на производительность hello hello устройства.</span><span class="sxs-lookup"><span data-stu-id="77a4c-391">Multiple virtual arrays may need toobe deployed tooaccount for a growing working set of data that could spill onto hello cloud thus affecting hello performance of hello device.</span></span> <span data-ttu-id="77a4c-392">В таких случаях это наиболее tooscale устройства по мере роста hello рабочего набора.</span><span class="sxs-lookup"><span data-stu-id="77a4c-392">In these instances, it is best tooscale devices as hello working set grows.</span></span> <span data-ttu-id="77a4c-393">Это требует одного или нескольких устройств toobe добавлен в центре обработки данных в локальной среде hello.</span><span class="sxs-lookup"><span data-stu-id="77a4c-393">This requires one or more devices toobe added in hello on-premises data center.</span></span> <span data-ttu-id="77a4c-394">При добавлении hello устройств, можно выполнить следующее.</span><span class="sxs-lookup"><span data-stu-id="77a4c-394">When adding hello devices, you could:</span></span>

* <span data-ttu-id="77a4c-395">Разбиение hello текущего набора данных.</span><span class="sxs-lookup"><span data-stu-id="77a4c-395">Split hello current set of data.</span></span>
* <span data-ttu-id="77a4c-396">Развертывание новых устройств toonew рабочих нагрузок.</span><span class="sxs-lookup"><span data-stu-id="77a4c-396">Deploy new workloads toonew device(s).</span></span>
* <span data-ttu-id="77a4c-397">Если развертывание нескольких виртуальных массивов, мы рекомендуем из балансировки нагрузки перспективы, распределяют hello массив узлов другой низкоуровневой оболочки.</span><span class="sxs-lookup"><span data-stu-id="77a4c-397">If deploying multiple virtual arrays, we recommend that from load-balancing perspective, distribute hello array across different hypervisor hosts.</span></span>
* <span data-ttu-id="77a4c-398">В пространстве имен распределенной файловой системы можно развернуть несколько виртуальных массивов (настроенных в качестве файлового сервера или сервера iSCSI).</span><span class="sxs-lookup"><span data-stu-id="77a4c-398">Multiple virtual arrays (when configured as a file server or an iSCSI server) can be deployed in a Distributed File System Namespace.</span></span> <span data-ttu-id="77a4c-399">Подробные инструкции см. слишком[распределенных файл системы имен решение с руководство по развертыванию гибридного облака хранилища](https://www.microsoft.com/download/details.aspx?id=45507).</span><span class="sxs-lookup"><span data-stu-id="77a4c-399">For detailed steps, go too[Distributed File System Namespace Solution with Hybrid Cloud Storage Deployment Guide](https://www.microsoft.com/download/details.aspx?id=45507).</span></span> <span data-ttu-id="77a4c-400">Репликации распределенной файловой системы в настоящее время не рекомендуется для использования с hello виртуального массива.</span><span class="sxs-lookup"><span data-stu-id="77a4c-400">Distributed File System Replication is currently not recommended for use with hello virtual array.</span></span> 

## <a name="see-also"></a><span data-ttu-id="77a4c-401">См. также</span><span class="sxs-lookup"><span data-stu-id="77a4c-401">See also</span></span>
<span data-ttu-id="77a4c-402">Узнайте, каким образом слишком[администрирования виртуального массива StorSimple](storsimple-virtual-array-manager-service-administration.md) через hello в службе StorSimple Manager.</span><span class="sxs-lookup"><span data-stu-id="77a4c-402">Learn how too[administer your StorSimple Virtual Array](storsimple-virtual-array-manager-service-administration.md) via hello StorSimple Manager service.</span></span>

