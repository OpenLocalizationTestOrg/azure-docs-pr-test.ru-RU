---
title: "aaaReplace контроллер устройства StorSimple | Документы Microsoft"
description: "Объясняет, как tooremove и заменить один или оба модуля контроллеров на устройстве StorSimple."
services: storsimple
documentationcenter: 
author: alkohli
manager: timlt
editor: 
ms.assetid: e25b52b7-60f5-47f3-bffc-6c157d57ab5d
ms.service: storsimple
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: TBD
ms.date: 03/03/2017
ms.author: alkohli
ms.openlocfilehash: ebf5c5830120857f69909113e3a111f4dda30e57
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="replace-a-controller-module-on-your-storsimple-device"></a>Замена модуля контроллера на устройстве StorSimple
## <a name="overview"></a>Обзор
В этом учебнике описано как tooremove и заменить один или оба модуля контроллеров устройства StorSimple. Также в нем описывается базовый логику для сценариев замены одного и обоих контроллеров hello hello.

> [!NOTE]
> Предыдущий tooperforming замены контроллера рекомендуется всегда обновлять ваш встроенного ПО контроллера toohello последнюю версию.
> 
> tooprevent повреждения устройства StorSimple tooyour, извлекайте контроллер hello только hello индикаторы будут иметь одно из следующих hello:
> 
> * Все индикаторы ПОГАСЛИ.
> * Индикатор 3, ![зеленый значок галочки](./media/storsimple-controller-replacement/HCS_GreenCheckIcon.png) и ![красный значок перекрестия](./media/storsimple-controller-replacement/HCS_RedCrossIcon.png) мигают, а индикаторы 0 и 7 **горят**.
> 
> 

Привет, в следующей таблице приведены сценарии замены контроллера hello поддерживается.

| Случай | Сценарий замены | Используемая процедура |
|:--- |:--- |:--- |
| 1 |Один контроллер находится в неисправном состоянии, hello другой контроллер Исправен и активен. |[Единый замены контроллера](#replace-a-single-controller), которое описывает hello [логика замены одного контроллера](#single-controller-replacement-logic), а также hello [действия по замене](#single-controller-replacement-steps). |
| 2 |Оба контроллера hello неисправны и подлежат замене. Hello шасси, диски и дисковые модули находятся в работоспособном состоянии. |[Замены обоих контроллеров](#replace-both-controllers), которое описывает hello [логика замены обоих контроллеров](#dual-controller-replacement-logic), а также hello [действия по замене](#dual-controller-replacement-steps). |
| 3 |Контроллеры из hello одного устройства или с помощью различных устройств, меняются местами. Hello шасси, диски и корпуса диске находятся в работоспособном состоянии. |Появится предупреждение о несоответствии слота. |
| 4. |Один контроллер отсутствует, hello других контроллера завершается с ошибкой. |[Замены обоих контроллеров](#replace-both-controllers), которое описывает hello [логика замены обоих контроллеров](#dual-controller-replacement-logic), а также hello [действия по замене](#dual-controller-replacement-steps). |
| 5 |Один или оба контроллера вышли из строя. Hello устройства недоступны через hello последовательной консоли или удаленного взаимодействия Windows PowerShell. |[Обратитесь в службу поддержки Microsoft](storsimple-contact-microsoft-support.md) для замены контроллеров вручную. |
| 6 |Hello контроллеры имеют разную версию сборки, который, возможно из-за:<ul><li>Используются контроллеры с разными версиями ПО.</li><li>Используются контроллеры с разными версиями встроенного ПО.</li></ul> |Если имеют разные версии программного обеспечения контроллера hello, логика замены hello обнаруживает, что и версию программного обеспечения на запасной контроллер hello hello обновлений.<br><br>Если имеют разные версии встроенного ПО контроллера hello и hello старая версия встроенного по **не** автоматически обновляемый предупреждающее сообщение появится в hello классический портал Azure. Необходимо проверять наличие обновлений и установить обновления встроенного по hello.</br></br>Если имеют разные версии встроенного ПО контроллера hello и hello старая версия встроенного по автоматически обновляется, hello логика замены контроллера обнаружит это и после запуска контроллера hello hello встроенного по автоматически обновляется. |

Требуется tooremove модуля контроллера, если его не удалось. Один или оба модуля контроллеров hello может завершиться сбоем, что приведет к замене одного контроллера или замены обоих контроллеров. Для замены процедур и логику hello за ними см. ниже hello:

* [Замена одного контроллера](#replace-a-single-controller)
* [Замена двух контроллеров](#replace-both-controllers)
* [Снятие контроллера](#remove-a-controller)
* [Установка контроллера](#insert-a-controller)
* [Определение активного контроллера hello на устройстве](#identify-the-active-controller-on-your-device)

> [!IMPORTANT]
> До удаления и замены контроллера, просмотрите сведения о безопасности hello в [замена компонентов оборудования StorSimple](storsimple-hardware-component-replacement.md).
> 
> 

## <a name="replace-a-single-controller"></a>Замена одного контроллера
Когда один из hello двух контроллеров в устройство Microsoft Azure StorSimple hello произошел сбой, неисправен или отсутствует, вам нужно tooreplace один контроллер. 

### <a name="single-controller-replacement-logic"></a>Логика замены одного контроллера
При замене одного контроллера сначала следует удалить неисправный контроллер hello. (hello оставшийся контроллер в устройстве hello — hello активного контроллера). При вставке hello запасной контроллер hello выполняются следующие действия.

1. Hello запасной контроллер сразу устанавливает связь с устройством StorSimple hello.
2. Моментальный снимок hello виртуального жесткого диска (VHD) для hello активного контроллера копируется на запасной контроллер hello.
3. Hello моментального снимка изменяется, чтобы при запуске hello запасного контроллера с этого виртуального жесткого диска, он будет распознан как резервный контроллер.
4. После внесения изменений hello, hello запасной контроллер будет запускаться как резервный контроллер hello.
5. Когда работают оба контроллера hello, hello кластер переходит в оперативный режим.

### <a name="single-controller-replacement-steps"></a>Действия для замены одного контроллера
Выполните следующие действия при сбое одного из контроллеров hello в Microsoft Azure StorSimple устройство hello. (hello другой контроллер должен быть активен и выполняется. Если оба контроллера строя, перейдите в слишком[действия по замене сдвоенного контроллера](#dual-controller-replacement-steps).)

> [!NOTE]
> Он может занять 30 – 45 минут toorestart контроллера hello и полностью восстановиться после процедуры замены одного контроллера hello. Общая длительность всей процедуры hello, включая присоединение кабелей hello Hello составляет около 2 часов.
> 
> 

#### <a name="tooremove-a-single-failed-controller-module"></a>tooremove один неисправного модуля
1. В hello классический портал Azure, перейдите в службе StorSimple Manager toohello, щелкните hello **устройств** и нажмите кнопку hello имя устройства hello, что требуется toomonitor.
2. Go слишком**обслуживания > состояние оборудования**. состояние Hello контроллер 0 или контроллер 1 должен быть красным, который указывает на сбой.
   
   > [!NOTE]
   > Hello отказавшим контроллером при замене одного контроллера всегда является резервный контроллер.
   > 
   > 
3. Используйте на рис. 1 и hello следующие таблицы toolocate hello неисправного модуля.  
   
    ![Задняя панель модулей основного корпуса устройства](./media/storsimple-controller-replacement/IC740994.png)
   
    **Рис. 1.** Задняя поверхность устройства StorSimple
   
   | Метка | Описание |
   |:--- |:--- |
   | 1 |PCM 0 |
   | 2 |PCM 1 |
   | 3 |Контроллер 0 |
   | 4. |Контроллер 1 |
4. На отказавшем контроллере hello удалите все сетевые кабели подключены hello из портов данных hello. При использовании модели служб 8600 также удалите приветствия кабели SAS контроллера EBOD toohello контроллера hello подключении.
5. Следуйте указаниям hello [удаление контроллера](#remove-a-controller) tooremove hello сбой контроллера. 
6. Установка hello фабричную замену в hello же слот, из какой hello отказавшего контроллера был удален. При этом запускается логика замены одного контроллера hello. Дополнительные сведения см. в разделе [Логика замены одного контроллера](#single-controller-replacement-logic).
7. Пока логика замены одного контроллера hello работает в фоновом режиме hello, подключите кабели hello. Принимать tooconnect осторожность, все hello кабели точно hello так же, что они были подключены до замены hello.
8. После перезапуска контроллера hello проверьте hello **состояние контроллера** и hello **кластера состояние** в hello Azure классического портала tooverify, hello контроллер находится в рабочем состоянии назад tooa и находится в режиме ожидания .

> [!NOTE]
> Если вы наблюдаете hello устройству через последовательную консоль hello, можно заметить несколько перезапусков, пока hello контроллер восстанавливается после процедуры замены hello. При появлении меню последовательной консоли hello затем вы знаете о завершении замены hello. Если в течение двух часов после начала замены контроллера hello hello меню не отображается, обратитесь за помощью [обратитесь в службу поддержки корпорации Майкрософт](storsimple-contact-microsoft-support.md).
>
> Начиная с обновления 4, можно также использовать командлет hello `Get-HCSControllerReplacementStatus` в интерфейсе Windows PowerShell hello hello toomonitor hello состояние устройства процесс замены контроллера hello.
> 

## <a name="replace-both-controllers"></a>Замена двух контроллеров
Когда оба контроллера на устройстве Microsoft Azure StorSimple hello произошел сбой, функционируют или отсутствуют, вам нужно tooreplace обоих контроллеров. 

### <a name="dual-controller-replacement-logic"></a>Логика замены двух контроллеров
При замене двух контроллеров сначала снимите оба контроллера и затем установите новые. После вставки двух запасных контроллеров hello hello выполняются следующие действия.

1. Hello запасной контроллер в слоте 0 проверяет hello следующее:
   
   1. Он использует текущие версии встроенного по hello и программного обеспечения?
   2. Он является частью кластера hello?
   3. Такое hello одноранговый контроллер и он кластер?
      
      Если ни одно из этих условий не выполнено, hello контроллер ищет последнюю ежедневную резервную копию hello (расположенный в hello **nonDOMstorage** на диске S). Hello контроллер копирует hello последний моментальный снимок hello виртуального жесткого диска из резервной копии hello.
2. Hello контроллер в слоте 0 использует tooimage hello моментальных снимков самой.
3. В свою очередь hello контроллер в слоте 1 ждет imaging hello toocomplete контроллера 0 и начала.
4. После запуска контроллера 0 контроллер 1 обнаруживает hello кластера, созданный контроллером 0, который запускается логика замены одного контроллера hello. Дополнительные сведения см. в разделе [Логика замены одного контроллера](#single-controller-replacement-logic).
5. После этого оба контроллера начинают работу и hello кластера будет подключена.

> [!IMPORTANT]
> После замены обоих контроллеров после настройки устройства StorSimple hello, очень важно выполнять ручное резервное устройство hello. Ежедневное резервное копирование конфигурации устройства будет запущено только по истечении 24 часов. Работать с [поддержки Майкрософт](storsimple-contact-microsoft-support.md) toomake архивации вручную на устройстве.
> 
> 

### <a name="dual-controller-replacement-steps"></a>Действия для замены двух контроллеров
Этот процесс требуется в случае отказа обоих контроллеров hello в Microsoft Azure StorSimple устройство. Это может произойти в центре обработки данных, в котором отказе системы охлаждения hello, и в результате обоих контроллеров hello ошибкой в течение короткого периода времени. В зависимости от ли устройство StorSimple hello включить или отключить и вы используете 8600 ли модель 8100 разная последовательность действий не требуется.

> [!IMPORTANT]
> Он может принимать час too1 45 минут для контроллера toorestart hello и полностью восстановиться после процедуры замены обоих контроллеров. Общая длительность всей процедуры hello, включая присоединение кабелей hello Hello составляет около 2,5 часов.
> 
> 

#### <a name="tooreplace-both-controller-modules"></a>tooreplace оба модуля контроллера
1. Если устройство hello выключено, пропустите этот шаг и перейдите toohello следующий шаг. Если hello устройство включено, выключите hello устройства.
   
   1. При использовании модели служб 8600 выключите основной корпус hello первый и отключите hello корпусе.
   2. Дождитесь полного выключения устройства hello. Все индикаторы hello в hello задняя сторона устройства hello будут отключены.
2. Удалите все сетевые кабели hello, порты подключенного toohello данных. При использовании модели служб 8600 также удалите приветствия кабели SAS подключении hello основного корпуса toohello корпусе.
3. Удалите оба контроллера из устройства StorSimple hello. Дополнительные сведения см. в разделе [Снятие контроллера](#remove-a-controller).
4. Сначала вставьте фабричную замену контроллера 0 hello, а затем вставьте контроллер 1. Дополнительные сведения см. в разделе [Установка контроллера](#insert-a-controller). При этом запускается логика замены двух контроллеров hello. Дополнительные сведения см. в разделе [Логика замены двух контроллеров](#dual-controller-replacement-logic).
5. Пока логика замены контроллера hello работает в фоновом режиме hello, подключите кабели hello. Принимать tooconnect осторожность, все hello кабели точно hello так же, что они были подключены до замены hello. В разделе hello подробные инструкции по модели в hello кабель разделе вашего устройства [установки устройства StorSimple 8100](storsimple-8100-hardware-installation.md) или [установки устройства StorSimple 8600](storsimple-8600-hardware-installation.md).
6. Включите устройство StorSimple hello. При использовании модели 8600:
   
   1. Убедитесь в том, что этого hello корпуса EBOD включен в первую очередь.
   2. Подождите, пока выполняется hello корпусе.
   3. Включите основной корпус hello.
   4. После первого контроллера hello перезапускается и находится в работоспособном состоянии, будет выполняться hello системы.
      
      > [!NOTE]
      > Если вы наблюдаете hello устройству через последовательную консоль hello, можно заметить несколько перезапусков, пока hello контроллер восстанавливается после процедуры замены hello. В появившемся меню последовательной консоли hello затем известно, что выполнена замена hello. Если в течение 2,5 часов после начала замены контроллера hello hello меню не отображается, обратитесь за помощью [обратитесь в службу поддержки корпорации Майкрософт](storsimple-contact-microsoft-support.md).
      > 
      > 

## <a name="remove-a-controller"></a>Снятие контроллера
Используйте следующую процедуру tooremove отказавший модуль контроллера из устройства StorSimple hello.

> [!NOTE]
> следующие иллюстрации Hello предназначены для контроллера 0. Для контроллера 1 их нужно изменить на обратные.
> 
> 

#### <a name="tooremove-a-controller-module"></a>tooremove модуля контроллера
1. Возьмитесь за защелку модуля hello между большим и указательным пальцами.
2. Плавно Сведите к большим и указательным вместе toorelease hello кратковременной блокировки контроллера.
   
    ![Освобождение защелки контроллера](./media/storsimple-controller-replacement/IC741047.png)
   
    **Рис. 2.** Освобождение защелки контроллера
3. Используйте кратковременной блокировки hello как дескриптор tooslide hello контроллера из шасси hello.
   
    ![Извлечение контроллера из корпуса](./media/storsimple-controller-replacement/IC741048.png)
   
    **Рис. 3** скользящий hello контроллера из шасси hello

## <a name="insert-a-controller"></a>Установка контроллера
Используйте следующие процедуры tooinstall модуля запасного контроллера после удаления неисправный модуль из устройства StorSimple hello.

#### <a name="tooinstall-a-controller-module"></a>tooinstall модуля контроллера
1. Проверьте toosee при наличии любой toohello повреждения соединителях интерфейса. Если любой из hello штырьки поврежден или погнут, не устанавливайте модуль hello.
2. Модуль контроллера hello слайд в корпус hello при кратковременных блокировок hello полностью освобождается. 
   
    ![Установка контроллера в корпус](./media/storsimple-controller-replacement/IC741053.png)
   
    **Рис. 4** Вставка контроллера в шасси hello
3. С модулем контроллера hello вставлены начните закрытие защелки hello, а продолжение модуль контроллера toopush hello в корпус hello. Hello защелка сработает и зафиксирует контроллер hello tooguide на месте.
   
    ![Закрытие защелки контроллера](./media/storsimple-controller-replacement/IC741054.png)
   
    **Рис. 5** закрытие кратковременной блокировки контроллера hello
4. Завершения при hello защелки на месте. Hello **ОК** Индикатора должна появиться на.  
   
   > [!NOTE]
   > Он может занять too5 минут для контроллера hello и hello tooactivate Индикатора.
   > 
   > 
5. tooverify, hello замена выполнена успешно, в слишком hello Azure классические перейдите в меню**устройств** > **обслуживания** > **состояние оборудования**и убедитесь в том, что контроллер 0 и контроллера 1 работоспособны (состояние отображается зеленым цветом).

## <a name="identify-hello-active-controller-on-your-device"></a>Определение активного контроллера hello на устройстве
Существует множество ситуаций, таких как устройства первоначальной регистрации или замена контроллера, требующие toolocate hello активный контроллер на устройстве StorSimple. Hello активный контроллер обрабатывает все hello диска встроенного по и сетевые операции. Можно использовать любой из hello следующие методы tooidentify hello активного контроллера:

* [Используйте hello Azure классического портала tooidentify hello активного контроллера](#use-the-azure-classic-portal-to-identify-the-active-controller)
* [С помощью Windows PowerShell для StorSimple tooidentify hello активного контроллера](#use-windows-powershell-for-storsimple-to-identify-the-active-controller)
* [Проверьте hello физическое устройство tooidentify hello активного контроллера](#check-the-physical-device-to-identify-the-active-controller)

Каждая из этих процедур описана ниже.

### <a name="use-hello-azure-classic-portal-tooidentify-hello-active-controller"></a>Используйте hello Azure классического портала tooidentify hello активного контроллера
В hello классический портал Azure, перейдите в слишком**устройств** > **обслуживания**и прокрутите toohello **контроллеров** раздела. Здесь можно проверить, какой контроллер активен.

![Определение активного контроллера с помощью классического портала Azure](./media/storsimple-controller-replacement/IC752072.png)

**Рис. 6** Azure классического портала отображение hello активного контроллера

### <a name="use-windows-powershell-for-storsimple-tooidentify-hello-active-controller"></a>С помощью Windows PowerShell для StorSimple tooidentify hello активного контроллера
Когда для доступа к вашему устройству через последовательную консоль hello, выводится текст заголовка. текст заголовка Hello содержит базовую информацию об устройстве, таких как hello модели, имя, версию установленного программного обеспечения и состояния hello контроллера, к которому выполняется подключение. Следующие изображения Hello показан пример текста заголовка.

![Заглавное сообщение в последовательной консоли](./media/storsimple-controller-replacement/IC741098.png)

**Рис. 7.** Заглавное сообщение с активным контроллером 0

Можно использовать toodetermine сообщение hello баннера, контроллер hello ли подключение toois активный или пассивный.

### <a name="check-hello-physical-device-tooidentify-hello-active-controller"></a>Проверьте hello физическое устройство tooidentify hello активного контроллера
tooidentify hello активный контроллер на вашем устройстве найдите hello синий светодиодный Индикатор над портом DATA 5 hello на hello задняя сторона основного корпуса hello.

Если этот Индикатор мигает, hello контроллер активен и hello другой контроллер находится в режиме ожидания. Используйте следующие схемы hello и таблицу для помощи.

![Задняя панель основного корпуса устройства с портами данных](./media/storsimple-controller-replacement/IC741055.png)

**Рис. 8.** Задняя поверхность основного корпуса с портами данных и индикаторами

| Метка | Описание |
|:--- |:--- |
| 1–6 |сетевые порты ДАННЫЕ 0–5  |
| 7 |Синий индикатор |

## <a name="next-steps"></a>Дальнейшие действия
Узнайте подробнее о [замене компонентов оборудования StorSimple](storsimple-hardware-component-replacement.md).

