---
title: "aaaCreate Azure виртуальные сети пиринга - развертывания моделей - одной подписке | Документы Microsoft"
description: "Узнайте, как toocreate пиринг виртуальной сети между виртуальными сетями создана с помощью различных развертывания Azure существующие в модели, hello же подписки Azure."
services: virtual-network
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/17/2017
ms.author: jdial;narayan;annahar
ms.openlocfilehash: 365156d651c9042ed52baeb15bf629fcc5329af8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-virtual-network-peering---different-deployment-models-same-subscription"></a><span data-ttu-id="7c6d0-103">Создание пиринга виртуальных сетей с разными моделями развертывания в одной подписке</span><span class="sxs-lookup"><span data-stu-id="7c6d0-103">Create a virtual network peering - different deployment models, same subscription</span></span> 

<span data-ttu-id="7c6d0-104">В этом учебнике вы узнаете, toocreate виртуальную сеть пиринга между виртуальными сетями, созданные с помощью модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-104">In this tutorial, you learn toocreate a virtual network peering between virtual networks created through different deployment models.</span></span> <span data-ttu-id="7c6d0-105">Обе виртуальные сети существуют в hello же подписки.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-105">Both virtual networks exist in hello same subscription.</span></span> <span data-ttu-id="7c6d0-106">Пиринг два ресурса включает виртуальные сети в разных виртуальных сетей toocommunicate друг с другом и с hello же полосы пропускания и задержки, как будто hello ресурсы в hello одной виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-106">Peering two virtual networks enables resources in different virtual networks toocommunicate with each other with hello same bandwidth and latency as though hello resources were in hello same virtual network.</span></span> <span data-ttu-id="7c6d0-107">Узнайте больше о [пиринге виртуальных сетей](virtual-network-peering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-107">Learn more about [Virtual network peering](virtual-network-peering-overview.md).</span></span> 

<span data-ttu-id="7c6d0-108">Hello действия toocreate виртуальную сеть пиринга различаются, в зависимости от того, являются ли виртуальные сети hello hello в одном или разных, подписки и который [модели развертывания Azure](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello виртуальные сети создаются через.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-108">hello steps toocreate a virtual network peering are different, depending on whether hello virtual networks are in hello same, or different, subscriptions, and which [Azure deployment model](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello virtual networks are created through.</span></span> <span data-ttu-id="7c6d0-109">Узнайте, как toocreate в виртуальной сети пиринг в других сценариях, щелкнув hello сценарий из hello в следующей таблице:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-109">Learn how toocreate a virtual network peering in other scenarios by clicking hello scenario from hello following table:</span></span>

|<span data-ttu-id="7c6d0-110">Модель развертывания Azure</span><span class="sxs-lookup"><span data-stu-id="7c6d0-110">Azure deployment model</span></span>  | <span data-ttu-id="7c6d0-111">Подписка Azure.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-111">Azure subscription</span></span>  |
|--------- |---------|
|[<span data-ttu-id="7c6d0-112">Обе виртуальные сети Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7c6d0-112">Both Resource Manager</span></span>](virtual-network-create-peering.md) |<span data-ttu-id="7c6d0-113">Аналогично</span><span class="sxs-lookup"><span data-stu-id="7c6d0-113">Same</span></span>|
|[<span data-ttu-id="7c6d0-114">Обе виртуальные сети Resource Manager</span><span class="sxs-lookup"><span data-stu-id="7c6d0-114">Both Resource Manager</span></span>](create-peering-different-subscriptions.md) |<span data-ttu-id="7c6d0-115">Разные</span><span class="sxs-lookup"><span data-stu-id="7c6d0-115">Different</span></span>|
|[<span data-ttu-id="7c6d0-116">Одна виртуальная сеть Resource Manager, одна классическая виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="7c6d0-116">One Resource Manager, one classic</span></span>](create-peering-different-deployment-models-subscriptions.md) |<span data-ttu-id="7c6d0-117">Разные</span><span class="sxs-lookup"><span data-stu-id="7c6d0-117">Different</span></span>|

<span data-ttu-id="7c6d0-118">Невозможно создать виртуальную сеть пиринга между двумя виртуальными сетями, развернутые с помощью hello классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-118">A virtual network peering cannot be created between two virtual networks deployed through hello classic deployment model.</span></span> <span data-ttu-id="7c6d0-119">Пиринг виртуальной сети могут быть созданы только между двумя виртуальными сетями, существующие в hello же регионе Azure.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-119">A virtual network peering can only be created between two virtual networks that exist in hello same Azure region.</span></span> <span data-ttu-id="7c6d0-120">Если вам требуется tooconnect виртуальных сетей, оба созданным с помощью hello классической модели развертывания или существуют в разных регионах Azure, можно использовать Azure [VPN-шлюз](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) tooconnect hello виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-120">If you need tooconnect virtual networks that were both created through hello classic deployment model, or that exist in different Azure regions, you can use an Azure [VPN Gateway](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) tooconnect hello virtual networks.</span></span> 

<span data-ttu-id="7c6d0-121">Можно использовать hello [портал Azure](#portal), hello Azure [интерфейс командной строки](#cli) (CLI), или Azure [PowerShell](#powershell) toocreate пиринг виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-121">You can use hello [Azure portal](#portal), hello Azure [command-line interface](#cli) (CLI), or Azure [PowerShell](#powershell) toocreate a virtual network peering.</span></span> <span data-ttu-id="7c6d0-122">Щелкните любой hello предыдущего средства ссылки toogo напрямую toohello шаги для создания виртуальной сети пиринг с помощью нравятся.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-122">Click any of hello previous tool links toogo directly toohello steps for creating a virtual network peering using your tool of choice.</span></span>

## <span data-ttu-id="7c6d0-123"><a name="cli"></a>Создание пиринга с помощью портала</span><span class="sxs-lookup"><span data-stu-id="7c6d0-123"><a name="cli"></a>Create peering - Portal</span></span>

1. <span data-ttu-id="7c6d0-124">Войдите в toohello [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-124">Log in toohello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="7c6d0-125">Hello учетной записи, использованной для входа в систему должен иметь необходимые разрешения toocreate hello пиринг виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-125">hello account you log in with must have hello necessary permissions toocreate a virtual network peering.</span></span> <span data-ttu-id="7c6d0-126">В разделе hello [разрешения](#permissions) Дополнительные сведения см.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-126">See hello [Permissions](#permissions) section of this article for details.</span></span>
2. <span data-ttu-id="7c6d0-127">Щелкните **+ Создать**, выберите **Сети** и щелкните **Виртуальная сеть**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-127">Click **+ New**, click **Networking**, then click **Virtual network**.</span></span>
3. <span data-ttu-id="7c6d0-128">В hello **Создание виртуальной сети** колонки, введите, или выбрать значения для hello следующие параметры, а затем нажмите кнопку **создать**:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-128">In hello **Create virtual network** blade, enter, or select values for hello following settings, then click **Create**:</span></span>
    - <span data-ttu-id="7c6d0-129">**Имя**: *myVnet1*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-129">**Name**: *myVnet1*</span></span>
    - <span data-ttu-id="7c6d0-130">**Адресное пространство**: *10.0.0.0/16*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-130">**Address space**: *10.0.0.0/16*</span></span>
    - <span data-ttu-id="7c6d0-131">**Имя подсети**: *по умолчанию*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-131">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="7c6d0-132">**Диапазон адресов подсети**: *10.0.0.0/24*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-132">**Subnet address range**: *10.0.0.0/24*</span></span>
    - <span data-ttu-id="7c6d0-133">**Подписка**: выберите свою подписку.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-133">**Subscription**: Select your subscription</span></span>
    - <span data-ttu-id="7c6d0-134">**Группа ресурсов**: установите флажок **Создать** и введите *myResourceGroup*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-134">**Resource group**: Select **Create new** and enter *myResourceGroup*</span></span>
    - <span data-ttu-id="7c6d0-135">**Расположение**: *Восточная часть США*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-135">**Location**: *East US*</span></span>
4. <span data-ttu-id="7c6d0-136">Щелкните **+ Создать**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-136">Click **+ New**.</span></span> <span data-ttu-id="7c6d0-137">В hello **поиска hello Marketplace** введите *виртуальная сеть*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-137">In hello **Search hello Marketplace** box, type *Virtual network*.</span></span> <span data-ttu-id="7c6d0-138">Нажмите кнопку **виртуальная сеть** когда он появится в результатах поиска hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-138">Click **Virtual network** when it appears in hello search results.</span></span> 
5. <span data-ttu-id="7c6d0-139">В hello **виртуальная сеть** колонке выберите **классический** в hello **выберите модель развертывания** , а затем щелкните **создать**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-139">In hello **Virtual network** blade, select **Classic** in hello **Select a deployment model** box, and then click **Create**.</span></span>
6. <span data-ttu-id="7c6d0-140">В hello **Создание виртуальной сети** колонки, введите, или выбрать значения для hello следующие параметры, а затем нажмите кнопку **создать**:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-140">In hello **Create virtual network** blade, enter, or select values for hello following settings, then click **Create**:</span></span>
    - <span data-ttu-id="7c6d0-141">**Имя**: *myVnet2*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-141">**Name**: *myVnet2*</span></span>
    - <span data-ttu-id="7c6d0-142">**Адресное пространство**: *10.1.0.0/16*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-142">**Address space**: *10.1.0.0/16*</span></span>
    - <span data-ttu-id="7c6d0-143">**Имя подсети**: *по умолчанию*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-143">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="7c6d0-144">**Диапазон адресов подсети:** *10.1.0.0/24*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-144">**Subnet address range**: *10.1.0.0/24*</span></span>
    - <span data-ttu-id="7c6d0-145">**Подписка**: выберите свою подписку.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-145">**Subscription**: Select your subscription</span></span>
    - <span data-ttu-id="7c6d0-146">**Группа ресурсов**: установите флажок **Использовать существующий** и выберите *myResourceGroup*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-146">**Resource group**: Select **Use existing** and select *myResourceGroup*</span></span>
    - <span data-ttu-id="7c6d0-147">**Расположение**: *Восточная часть США*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-147">**Location**: *East US*</span></span>
7. <span data-ttu-id="7c6d0-148">В hello **Найдите ресурсы** поле вверху hello портала hello, тип *myResourceGroup*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-148">In hello **Search resources** box at hello top of hello portal, type *myResourceGroup*.</span></span> <span data-ttu-id="7c6d0-149">Нажмите кнопку **myResourceGroup** когда он появится в результатах поиска hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-149">Click **myResourceGroup** when it appears in hello search results.</span></span> <span data-ttu-id="7c6d0-150">Стоечный модуль появится для hello **myresourcegroup** группы ресурсов.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-150">A blade appears for hello **myresourcegroup** resource group.</span></span> <span data-ttu-id="7c6d0-151">Группа ресурсов Hello содержит hello двух виртуальных сетей в предыдущих шагах.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-151">hello resource group contains hello two virtual networks created in previous steps.</span></span>
8. <span data-ttu-id="7c6d0-152">Щелкните сеть **myVNet1**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-152">Click **myVNet1**.</span></span>
9. <span data-ttu-id="7c6d0-153">В hello **myVnet1** колонки, отображается, нажмите кнопку **Пиринги** из hello вертикальной список параметров в hello левая сторона колонка hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-153">In hello **myVnet1** blade that appears, click **Peerings** from hello vertical list of options on hello left side of hello blade.</span></span>
10. <span data-ttu-id="7c6d0-154">В hello **myVnet1 - Пиринги** колонки, которое было открыто, нажмите кнопку **+ добавить**</span><span class="sxs-lookup"><span data-stu-id="7c6d0-154">In hello **myVnet1 - Peerings** blade that appeared, click **+ Add**</span></span>
11. <span data-ttu-id="7c6d0-155">В hello **пиринг добавить** колонки, отображается, введите, или выберите hello следующие параметры, а затем нажмите кнопку **ОК**:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-155">In hello **Add peering** blade that appears, enter, or select hello following options, then click **OK**:</span></span>
     - <span data-ttu-id="7c6d0-156">**Имя**: *myVnet1ToMyVnet2*.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-156">**Name**: *myVnet1ToMyVnet2*</span></span>
     - <span data-ttu-id="7c6d0-157">**Модель развертывания виртуальной сети**: выберите **Классический**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-157">**Virtual network deployment model**:  Select **Classic**.</span></span> 
     - <span data-ttu-id="7c6d0-158">**Подписка**: выберите свою подписку.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-158">**Subscription**: Select your subscription</span></span>
     - <span data-ttu-id="7c6d0-159">**Виртуальная сеть**: щелкните **Выбор виртуальной сети**, затем выберите **myVnet2**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-159">**Virtual network**:  Click **Choose a virtual network**, then click **myVnet2**.</span></span>
     - <span data-ttu-id="7c6d0-160">**Разрешить доступ к виртуальным сетям**: убедитесь, что выбрано значение **Включено**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-160">**Allow virtual network access:** Ensure that **Enabled** is selected.</span></span>
    <span data-ttu-id="7c6d0-161">Другие параметры в этом руководстве не используются.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-161">No other settings are used in this tutorial.</span></span> <span data-ttu-id="7c6d0-162">чтение toolearn обо всех параметрах пиринга, [управления пиринги виртуальных сетей](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-162">toolearn about all peering settings, read [Manage virtual network peerings](virtual-network-manage-peering.md#create-a-peering).</span></span>
12. <span data-ttu-id="7c6d0-163">После нажатия кнопки **ОК** hello в предыдущем шаге, hello **пиринг добавить** колонке закрывается, и вы увидите hello **myVnet1 - Пиринги** колонке еще раз.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-163">After clicking **OK** in hello previous step, hello **Add peering** blade closes and you see hello **myVnet1 - Peerings** blade again.</span></span> <span data-ttu-id="7c6d0-164">Через несколько секунд hello пиринг был создан появится в колонке hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-164">After a few seconds, hello peering you created appears in hello blade.</span></span> <span data-ttu-id="7c6d0-165">**Подключение** перечисленные в hello **ПИРИНГ состояние** столбца для hello **myVnet1ToMyVnet2** пиринг можно создать.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-165">**Connected** is listed in hello **PEERING STATUS** column for hello **myVnet1ToMyVnet2** peering you created.</span></span>

    <span data-ttu-id="7c6d0-166">Hello пиринг установлен.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-166">hello peering is now established.</span></span> <span data-ttu-id="7c6d0-167">Все ресурсы Azure, созданные в любой виртуальной сети, теперь может toocommunicate друг с другом через свои IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-167">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="7c6d0-168">При использовании разрешение имен Azure по умолчанию для виртуальных сетей hello hello ресурсы в виртуальных сетях hello не может tooresolve имен между виртуальными сетями hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-168">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="7c6d0-169">Если требуется tooresolve имен между виртуальными сетями в пиринге необходимо создать собственный DNS-сервер.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-169">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="7c6d0-170">Узнайте, как tooset копирование [разрешение имен с помощью DNS-сервере](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-170">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
13. <span data-ttu-id="7c6d0-171">**Необязательный**: хотя Создание виртуальных машин не освещены в учебнике, можно создать виртуальную машину в каждой виртуальной сети и подключение из одной виртуальной машины toohello других, toovalidate подключения.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-171">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
14. <span data-ttu-id="7c6d0-172">**Необязательный**: ресурсов hello toodelete, созданных в этом учебнике, hello завершения шагов в hello [удаление ресурсов](#delete-portal) этой статьи.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-172">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in hello [Delete resources](#delete-portal) section of this article.</span></span>

## <span data-ttu-id="7c6d0-173"><a name="cli"></a>Создание пиринга с помощью Azure CLI</span><span class="sxs-lookup"><span data-stu-id="7c6d0-173"><a name="cli"></a>Create peering - Azure CLI</span></span>

1. <span data-ttu-id="7c6d0-174">[Установка](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello Azure CLI 1.0 toocreate hello виртуальной сети (классические).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-174">[Install](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) hello Azure CLI 1.0 toocreate hello virtual network (classic).</span></span>
2. <span data-ttu-id="7c6d0-175">Откройте окно командной строки и выполните вход с помощью hello tooAzure `azure login` команды.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-175">Open a command session and log in tooAzure using hello `azure login` command.</span></span>
3. <span data-ttu-id="7c6d0-176">Запустите hello CLI в режиме управления службой, введя hello `azure config mode asm` команды.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-176">Run hello CLI in Service Management mode by entering hello `azure config mode asm` command.</span></span>
4. <span data-ttu-id="7c6d0-177">Введите следующую команду, toocreate hello виртуальной сети (классические) hello:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-177">Enter hello following command toocreate hello virtual network (classic):</span></span>
 
    ```azurecli
    azure network vnet create --vnet myVnet2 --address-space 10.1.0.0 --cidr 16 --location "East US"
    ```

5. <span data-ttu-id="7c6d0-178">Создайте группу ресурсов и виртуальную сеть Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-178">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="7c6d0-179">Можно использовать hello CLI 1.0 или 2.0 ([установить](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-179">You can use either hello CLI 1.0 or 2.0 ([install](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)).</span></span> <span data-ttu-id="7c6d0-180">В этом учебнике hello CLI 2.0 является виртуальной сети используется toocreate hello (диспетчера ресурсов), поскольку 2.0 должен быть пиринг используется toocreate hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-180">In this tutorial, hello CLI 2.0 is used toocreate hello virtual network (Resource Manager), since 2.0 must be used toocreate hello peering.</span></span> <span data-ttu-id="7c6d0-181">Выполнение hello следующие bash CLI сценария с локального компьютера с hello CLI 2.0.4 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-181">Execute hello following bash CLI script from your local machine with hello CLI 2.0.4 or later installed.</span></span> <span data-ttu-id="7c6d0-182">Параметры, на котором установлена bash сценариев CLI на клиенте Windows, см. в разделе [работающих в Windows Azure CLI hello](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-182">For options on running bash CLI scripts on Windows client, see [Running hello Azure CLI in Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="7c6d0-183">Можно также запустить скрипт hello, используя hello оболочки облако Azure.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-183">You can also run hello script using hello Azure Cloud Shell.</span></span> <span data-ttu-id="7c6d0-184">Hello оболочки облако Azure — это бесплатные Bash, который выполняется непосредственно в hello портал Azure.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-184">hello Azure Cloud Shell is a free Bash shell that you can run directly within hello Azure portal.</span></span> <span data-ttu-id="7c6d0-185">Он имеет hello Azure CLI предварительно установить и настроить toouse с вашей учетной записью.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-185">It has hello Azure CLI preinstalled and configured toouse with your account.</span></span> <span data-ttu-id="7c6d0-186">Нажмите кнопку hello **опробовать** кнопку в скрипте hello, показано ниже, которые вызывает облака оболочке, которая будет входить tooyour учетная запись Azure с.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-186">Click hello **Try it** button in hello script that follows, which invokes a Cloud Shell that logs you can log in tooyour Azure account with.</span></span> <span data-ttu-id="7c6d0-187">tooexecute Здравствуйте сценарий, нажмите кнопку hello **копирования** кнопки и вставить содержимое hello в оболочка облака, нажмите клавишу `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-187">tooexecute hello script, click hello **Copy** button and paste, hello contents into your Cloud Shell, then press `Enter`.</span></span>

    ```azurecli-interactive
    #!/bin/bash

    # Create a resource group.
    az group create \
      --name myResourceGroup \
      --location eastus

    # Create hello virtual network (Resource Manager).
    az network vnet create \
      --name myVnet1 \
      --resource-group myResourceGroup \
      --location eastus \
      --address-prefix 10.0.0.0/16
    ```

6. <span data-ttu-id="7c6d0-188">Создайте виртуальную сеть пиринга между hello двух виртуальных сетей создана с помощью модели развертывания hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-188">Create a virtual network peering between hello two virtual networks created through hello different deployment models.</span></span> <span data-ttu-id="7c6d0-189">Скопируйте следующий скрипт tooa текстовый редактор на вашем ПК hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-189">Copy hello following script tooa text editor on your PC.</span></span> <span data-ttu-id="7c6d0-190">Замените `<subscription id>` идентификатором своей подписки. Если вы не знаете идентификатор подписки, введите hello `az account show` команды.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-190">Replace `<subscription id>` with your subscription Id. If you don't know your subscription Id, enter hello `az account show` command.</span></span> <span data-ttu-id="7c6d0-191">Здравствуйте, значение для **идентификатор** в hello выходные данные являются идентификатор вашей подписки. Вставьте скрипт hello изменен в сеансе tooyour CLI и нажмите клавишу `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-191">hello value for **id** in hello output is your subscription Id. Paste hello modified script in tooyour CLI session, and then press `Enter`.</span></span>

    ```azurecli-interactive
    # Get hello id for VNet1.
    vnet1Id=$(az network vnet show \
      --resource-group myResourceGroup \
      --name myVnet1 \
      --query id --out tsv)

    # Peer VNet1 tooVNet2.
    az network vnet peering create \
      --name myVnet1ToMyVnet2 \
      --resource-group myResourceGroup \
      --vnet-name myVnet1 \
      --remote-vnet-id /subscriptions/<subscription id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnet2 \
      --allow-vnet-access
    ```
7. <span data-ttu-id="7c6d0-192">После выполнения скрипта hello, просмотрите hello пиринг для hello виртуальной сети (диспетчера ресурсов).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-192">After hello script executes, review hello peering for hello virtual network (Resource Manager).</span></span> <span data-ttu-id="7c6d0-193">Копировать hello следующие команды, вставьте его в текущем сеансе CLI и нажмите клавишу `Enter`:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-193">Copy hello following command, paste it in your CLI session, and then press `Enter`:</span></span>

    ```azurecli-interactive
    az network vnet peering list \
      --resource-group myResourceGroup \
      --vnet-name myVnet1 \
      --output table
    ```
    
    <span data-ttu-id="7c6d0-194">Hello выходных данных указывается **подключен** в hello **PeeringState** столбца.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-194">hello output shows **Connected** in hello **PeeringState** column.</span></span> 

    <span data-ttu-id="7c6d0-195">Все ресурсы Azure, созданные в любой виртуальной сети, теперь может toocommunicate друг с другом через свои IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-195">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="7c6d0-196">При использовании разрешение имен Azure по умолчанию для виртуальных сетей hello hello ресурсы в виртуальных сетях hello не может tooresolve имен между виртуальными сетями hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-196">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="7c6d0-197">Если требуется tooresolve имен между виртуальными сетями в пиринге необходимо создать собственный DNS-сервер.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-197">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="7c6d0-198">Узнайте, как tooset копирование [разрешение имен с помощью DNS-сервере](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-198">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
8. <span data-ttu-id="7c6d0-199">**Необязательный**: хотя Создание виртуальных машин не освещены в учебнике, можно создать виртуальную машину в каждой виртуальной сети и подключение из одной виртуальной машины toohello других, toovalidate подключения.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-199">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
9. <span data-ttu-id="7c6d0-200">**Необязательный**: ресурсов hello toodelete, созданных в этом учебнике, hello завершения шагов в [удаление ресурсов](#delete-cli) в этой статье.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-200">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in [Delete resources](#delete-cli) in this article.</span></span>

## <span data-ttu-id="7c6d0-201"><a name="powershell"></a>Создание пиринга с помощью PowerShell</span><span class="sxs-lookup"><span data-stu-id="7c6d0-201"><a name="powershell"></a>Create peering - PowerShell</span></span>

1. <span data-ttu-id="7c6d0-202">Установите последнюю версию hello hello PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) и [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) модулей.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-202">Install hello latest version of hello PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) and [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modules.</span></span> <span data-ttu-id="7c6d0-203">Если у вас отсутствует новый tooAzure PowerShell, [Обзор Azure PowerShell](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-203">If you're new tooAzure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="7c6d0-204">Запустите сеанс PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-204">Start a PowerShell session.</span></span>
3. <span data-ttu-id="7c6d0-205">В PowerShell, войдите в tooAzure, указав hello `Add-AzureAccount` команды.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-205">In PowerShell, log in tooAzure by entering hello `Add-AzureAccount` command.</span></span>
4. <span data-ttu-id="7c6d0-206">toocreate виртуальной сети (классической) с помощью PowerShell, необходимо создать новую или изменить существующий файл конфигурации сети.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-206">toocreate a virtual network (classic) with PowerShell, you must create a new, or modify an existing, network configuration file.</span></span> <span data-ttu-id="7c6d0-207">Узнайте, каким образом слишком[экспорт, обновления и импорт файлов конфигурации сети](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-207">Learn how too[export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="7c6d0-208">Hello файл должен содержать следующие hello **VirtualNetworkSite** элемент для hello виртуальной сети, используемые в этом учебнике:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-208">hello file should include hello following **VirtualNetworkSite** element for hello virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnet2" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="7c6d0-209">Импорт файла конфигурации сети измененные может привести к изменения tooexisting виртуальные сети (классической) для вашей подписки.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-209">Importing a changed network configuration file can cause changes tooexisting virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="7c6d0-210">Убедитесь в добавлении hello предыдущих виртуальной сети и не изменить или удалить все существующие виртуальные сети из подписки.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-210">Ensure you only add hello previous virtual network and that you don't change or remove any existing virtual networks from your subscription.</span></span> 
5. <span data-ttu-id="7c6d0-211">Войдите в tooAzure toocreate hello виртуальной сети (диспетчера ресурсов), указав hello `login-azurermaccount` команды.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-211">Log in tooAzure toocreate hello virtual network (Resource Manager) by entering hello `login-azurermaccount` command.</span></span> <span data-ttu-id="7c6d0-212">Hello учетной записи, использованной для входа в систему должен иметь необходимые разрешения toocreate hello пиринг виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-212">hello account you log in with must have hello necessary permissions toocreate a virtual network peering.</span></span> <span data-ttu-id="7c6d0-213">В разделе hello [разрешения](#permissions) Дополнительные сведения см.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-213">See hello [Permissions](#permissions) section of this article for details.</span></span>
6. <span data-ttu-id="7c6d0-214">Создайте группу ресурсов и виртуальную сеть Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-214">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="7c6d0-215">Скопируйте сценарий hello, вставьте его в PowerShell и нажмите клавишу `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-215">Copy hello script, paste it into PowerShell, and then press `Enter`.</span></span>

    ```powershell
    # Create a resource group.
      New-AzureRmResourceGroup -Name myResourceGroup -Location eastus

    # Create hello virtual network (Resource Manager).
      $vnet1 = New-AzureRmVirtualNetwork `
      -ResourceGroupName myResourceGroup `
      -Name 'myVnet1' `
      -AddressPrefix '10.0.0.0/16' `
      -Location eastus
    ```

7. <span data-ttu-id="7c6d0-216">Создайте виртуальную сеть пиринга между hello двух виртуальных сетей создана с помощью модели развертывания hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-216">Create a virtual network peering between hello two virtual networks created through hello different deployment models.</span></span> <span data-ttu-id="7c6d0-217">Скопируйте следующий скрипт tooa текстовый редактор на вашем ПК hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-217">Copy hello following script tooa text editor on your PC.</span></span> <span data-ttu-id="7c6d0-218">Замените `<subscription id>` идентификатором своей подписки. Если вы не знаете идентификатор подписки, введите hello `Get-AzureRmSubscription` команда tooview его.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-218">Replace `<subscription id>` with your subscription Id. If you don't know your subscription Id, enter hello `Get-AzureRmSubscription` command tooview it.</span></span> <span data-ttu-id="7c6d0-219">Здравствуйте, значение для **идентификатор** в hello возвращаются выводится идентификатор вашей подписки.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-219">hello value for **Id** in hello returned output is your subscription ID.</span></span> <span data-ttu-id="7c6d0-220">сценарий tooexecute hello, hello копирования изменить скрипт из текстового редактора, щелкните правой кнопкой мыши в сеансе PowerShell и нажмите клавишу `Enter`.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-220">tooexecute hello script, copy hello modified script from your text editor, then right-click in your PowerShell session, and then press `Enter`.</span></span>

    ```powershell
    # Peer VNet1 tooVNet2.
    Add-AzureRmVirtualNetworkPeering `
      -Name myVnet1ToMyVnet2 `
      -VirtualNetwork $vnet1 `
      -RemoteVirtualNetworkId /subscriptions/<subscription Id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnet2
    ```

8. <span data-ttu-id="7c6d0-221">После выполнения скрипта hello, просмотрите hello пиринг для hello виртуальной сети (диспетчера ресурсов).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-221">After hello script executes, review hello peering for hello virtual network (Resource Manager).</span></span> <span data-ttu-id="7c6d0-222">Копировать hello следующие команды, вставьте его в сеансе PowerShell и нажмите клавишу `Enter`:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-222">Copy hello following command, paste it in your PowerShell session, and then press `Enter`:</span></span>

    ```powershell
    Get-AzureRmVirtualNetworkPeering `
      -ResourceGroupName myResourceGroup `
      -VirtualNetworkName myVnet1 `
      | Format-Table VirtualNetworkName, PeeringState
    ```

    <span data-ttu-id="7c6d0-223">Hello выходных данных указывается **подключен** в hello **PeeringState** столбца.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-223">hello output shows **Connected** in hello **PeeringState** column.</span></span>

    <span data-ttu-id="7c6d0-224">Все ресурсы Azure, созданные в любой виртуальной сети, теперь может toocommunicate друг с другом через свои IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-224">Any Azure resources you create in either virtual network are now able toocommunicate with each other through their IP addresses.</span></span> <span data-ttu-id="7c6d0-225">При использовании разрешение имен Azure по умолчанию для виртуальных сетей hello hello ресурсы в виртуальных сетях hello не может tooresolve имен между виртуальными сетями hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-225">If you're using default Azure name resolution for hello virtual networks, hello resources in hello virtual networks are not able tooresolve names across hello virtual networks.</span></span> <span data-ttu-id="7c6d0-226">Если требуется tooresolve имен между виртуальными сетями в пиринге необходимо создать собственный DNS-сервер.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-226">If you want tooresolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="7c6d0-227">Узнайте, как tooset копирование [разрешение имен с помощью DNS-сервере](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-227">Learn how tooset up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

9. <span data-ttu-id="7c6d0-228">**Необязательный**: хотя Создание виртуальных машин не освещены в учебнике, можно создать виртуальную машину в каждой виртуальной сети и подключение из одной виртуальной машины toohello других, toovalidate подключения.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-228">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine toohello other, toovalidate connectivity.</span></span>
10. <span data-ttu-id="7c6d0-229">**Необязательный**: ресурсов hello toodelete, созданных в этом учебнике, hello завершения шагов в [удаление ресурсов](#delete-powershell) в этой статье.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-229">**Optional**: toodelete hello resources that you create in this tutorial, complete hello steps in [Delete resources](#delete-powershell) in this article.</span></span>
 
## <span data-ttu-id="7c6d0-230"><a name="permissions"></a>Разрешения</span><span class="sxs-lookup"><span data-stu-id="7c6d0-230"><a name="permissions"></a>Permissions</span></span>

<span data-ttu-id="7c6d0-231">Привет, используется toocreate пиринг виртуальной сети должны иметь hello необходимые роли и разрешения.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-231">hello accounts you use toocreate a virtual network peering must have hello necessary role or permissions.</span></span> <span data-ttu-id="7c6d0-232">Например если две виртуальные сети с именем myVnet1 и myVnet2 пиринг, учетной записи должно быть назначено hello следующие минимальные роли или разрешения для каждой виртуальной сети:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-232">For example, if you were peering two virtual networks named myVnet1 and myVnet2, your account must be assigned hello following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="7c6d0-233">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="7c6d0-233">Virtual network</span></span>|<span data-ttu-id="7c6d0-234">Модель развертывания</span><span class="sxs-lookup"><span data-stu-id="7c6d0-234">Deployment model</span></span>|<span data-ttu-id="7c6d0-235">Роль</span><span class="sxs-lookup"><span data-stu-id="7c6d0-235">Role</span></span>|<span data-ttu-id="7c6d0-236">Разрешения</span><span class="sxs-lookup"><span data-stu-id="7c6d0-236">Permissions</span></span>|
|---|---|---|---|
|<span data-ttu-id="7c6d0-237">myVnet1</span><span class="sxs-lookup"><span data-stu-id="7c6d0-237">myVnet1</span></span>|<span data-ttu-id="7c6d0-238">Диспетчер ресурсов</span><span class="sxs-lookup"><span data-stu-id="7c6d0-238">Resource Manager</span></span>|[<span data-ttu-id="7c6d0-239">Участник сети</span><span class="sxs-lookup"><span data-stu-id="7c6d0-239">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="7c6d0-240">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="7c6d0-240">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
| |<span data-ttu-id="7c6d0-241">Классический</span><span class="sxs-lookup"><span data-stu-id="7c6d0-241">Classic</span></span>|[<span data-ttu-id="7c6d0-242">Участник классической сети</span><span class="sxs-lookup"><span data-stu-id="7c6d0-242">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="7c6d0-243">Недоступно</span><span class="sxs-lookup"><span data-stu-id="7c6d0-243">N/A</span></span>|
|<span data-ttu-id="7c6d0-244">myVnet2</span><span class="sxs-lookup"><span data-stu-id="7c6d0-244">myVnet2</span></span>|<span data-ttu-id="7c6d0-245">Диспетчер ресурсов</span><span class="sxs-lookup"><span data-stu-id="7c6d0-245">Resource Manager</span></span>|[<span data-ttu-id="7c6d0-246">Участник сети</span><span class="sxs-lookup"><span data-stu-id="7c6d0-246">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="7c6d0-247">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="7c6d0-247">Microsoft.Network/virtualNetworks/peer</span></span>|
||<span data-ttu-id="7c6d0-248">Классический</span><span class="sxs-lookup"><span data-stu-id="7c6d0-248">Classic</span></span>|[<span data-ttu-id="7c6d0-249">Участник классической сети</span><span class="sxs-lookup"><span data-stu-id="7c6d0-249">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="7c6d0-250">Microsoft.ClassicNetwork/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="7c6d0-250">Microsoft.ClassicNetwork/virtualNetworks/peer</span></span>|

<span data-ttu-id="7c6d0-251">Дополнительные сведения о [встроенные роли](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) и назначение разрешений для конкретного слишком[пользовательские роли](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (только для диспетчера ресурсов).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-251">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions too[custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="7c6d0-252"><a name="delete"></a>Удаление ресурсов</span><span class="sxs-lookup"><span data-stu-id="7c6d0-252"><a name="delete"></a>Delete resources</span></span>
<span data-ttu-id="7c6d0-253">После завершения этого учебника вы можете toodelete hello ресурсы, созданный в учебнике hello, поэтому не приводит к дополнительным расходам.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-253">When you've finished this tutorial, you might want toodelete hello resources you created in hello tutorial, so you don't incur usage charges.</span></span> <span data-ttu-id="7c6d0-254">При удалении группы ресурсов также удаляются все ресурсы, которые находятся в группе ресурсов hello.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-254">Deleting a resource group also deletes all resources that are in hello resource group.</span></span>

### <span data-ttu-id="7c6d0-255"><a name="delete-portal"></a>Портал Azure</span><span class="sxs-lookup"><span data-stu-id="7c6d0-255"><a name="delete-portal"></a>Azure portal</span></span>

1. <span data-ttu-id="7c6d0-256">Введите в поле поиска портала hello, **myResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-256">In hello portal search box, enter **myResourceGroup**.</span></span> <span data-ttu-id="7c6d0-257">В результатах поиска hello, нажмите кнопку **myResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-257">In hello search results, click **myResourceGroup**.</span></span>
2. <span data-ttu-id="7c6d0-258">На hello **myResourceGroup** колонка, щелкните hello **удалить** значок.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-258">On hello **myResourceGroup** blade, click hello **Delete** icon.</span></span>
3. <span data-ttu-id="7c6d0-259">Удаление hello tooconfirm, в hello **ТИПА hello имя группы РЕСУРСОВ** введите **myResourceGroup**и нажмите кнопку **удалить**.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-259">tooconfirm hello deletion, in hello **TYPE hello RESOURCE GROUP NAME** box, enter **myResourceGroup**, and then click **Delete**.</span></span>

### <span data-ttu-id="7c6d0-260"><a name="delete-cli"></a>Интерфейс командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="7c6d0-260"><a name="delete-cli"></a>Azure CLI</span></span>

1. <span data-ttu-id="7c6d0-261">Используйте hello Azure CLI 2.0 toodelete hello виртуальной сети (диспетчера ресурсов) hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-261">Use hello Azure CLI 2.0 toodelete hello virtual network (Resource Manager) with hello following command:</span></span>

    ```azurecli-interactive
    az group delete --name myResourceGroup --yes
    ```

2. <span data-ttu-id="7c6d0-262">Используйте hello Azure CLI 1.0 toodelete hello виртуальной сети (классические) hello, следующие команды:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-262">Use hello Azure CLI 1.0 toodelete hello virtual network (classic) with hello following commands:</span></span>

    ```azurecli
    azure config mode asm

    azure network vnet delete --vnet myVnet2 --quiet
    ```

### <span data-ttu-id="7c6d0-263"><a name="delete-powershell"></a>PowerShell</span><span class="sxs-lookup"><span data-stu-id="7c6d0-263"><a name="delete-powershell"></a>PowerShell</span></span>

1. <span data-ttu-id="7c6d0-264">Введите следующую команду, toodelete hello виртуальной сети (диспетчера ресурсов) hello:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-264">Enter hello following command toodelete hello virtual network (Resource Manager):</span></span>

    ```powershell
    Remove-AzureRmResourceGroup -Name myResourceGroup -Force
    ```

2. <span data-ttu-id="7c6d0-265">toodelete hello виртуальной сети (классической) с помощью PowerShell, необходимо изменить существующий файл конфигурации сети.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-265">toodelete hello virtual network (classic) with PowerShell, you must modify an existing network configuration file.</span></span> <span data-ttu-id="7c6d0-266">Узнайте, каким образом слишком[экспорт, обновления и импорт файлов конфигурации сети](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-266">Learn how too[export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="7c6d0-267">Удалите следующий элемент VirtualNetworkSite для hello виртуальной сети, используемые в этом учебнике hello:</span><span class="sxs-lookup"><span data-stu-id="7c6d0-267">Remove hello following VirtualNetworkSite element for hello virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnet2" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="7c6d0-268">Импорт файла конфигурации сети измененные может привести к изменения tooexisting виртуальные сети (классической) для вашей подписки.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-268">Importing a changed network configuration file can cause changes tooexisting virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="7c6d0-269">Убедитесь в удалении hello предыдущих виртуальной сети и не изменить или удалить любые другие существующие виртуальные сети из подписки.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-269">Ensure you only remove hello previous virtual network and that you don't change or remove any other existing virtual networks from your subscription.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="7c6d0-270">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="7c6d0-270">Next steps</span></span>

- <span data-ttu-id="7c6d0-271">Внимательно ознакомьтесь с важными [ограничениями и особенностями работы пиринга виртуальных сетей](virtual-network-manage-peering.md#requirements-and-constraints), прежде чем создавать пиринг виртуальных сетей для рабочей среды.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-271">Thoroughly familiarize yourself with important [virtual network peering constraints and behaviors](virtual-network-manage-peering.md#requirements-and-constraints) before creating a virtual network peering for production use.</span></span>
- <span data-ttu-id="7c6d0-272">Узнайте о [параметрах пиринга виртуальных сетей](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="7c6d0-272">Learn about all [virtual network peering settings](virtual-network-manage-peering.md#create-a-peering).</span></span>
- <span data-ttu-id="7c6d0-273">Узнайте, каким образом слишком[создать концентратор и топология сети резервный](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) с пиринг виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="7c6d0-273">Learn how too[create a hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) with virtual network peering.</span></span>
