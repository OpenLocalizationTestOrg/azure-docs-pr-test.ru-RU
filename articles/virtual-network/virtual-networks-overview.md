---
title: "Виртуальная сеть Azure | Документация Майкрософт"
description: "Узнайте об основных понятиях и функциях виртуальной сети Azure."
services: virtual-network
documentationcenter: na
author: jimdial
manager: jeconnoc
editor: 
tags: azure-resource-manager
ms.assetid: 9633de4b-a867-4ddf-be3c-a332edf02e24
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 12/12/2017
ms.author: jdial
ms.openlocfilehash: 6cc7035e798ef72f69958a7536a741f80939d4fe
ms.sourcegitcommit: 3f33787645e890ff3b73c4b3a28d90d5f814e46c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/03/2018
---
# <a name="azure-virtual-network"></a>Виртуальная сеть Azure

Служба виртуальной сети Microsoft Azure позволяет безопасно взаимодействовать друг с другом в виртуальной сети Azure ресурсам. Это логическая изоляция облака Azure, выделенного для вашей подписки. Виртуальные сети можно подключить к другим виртуальным сетям, а также к локальной сети. На следующем рисунке показаны некоторые возможности службы виртуальной сети Azure:

![Схема сети](./media/virtual-networks-overview/virtual-network-overview.png)

Чтобы получить дополнительные сведения о следующих возможностях виртуальной сети Azure, щелкните их:
- **[Изоляция.](#isolation)** Виртуальные сети полностью изолированы друг от друга. Это позволяет создавать отдельные виртуальные сети для разработки, тестирования и эксплуатации, использующие одинаковые блоки адресов CIDR (например, 10.0.0.0/0). И наоборот, можно создать несколько виртуальных сетей, использующих различные блоки адресов CIDR, и соединить их. Виртуальную сеть можно разделить на несколько подсетей. Azure предоставляет внутреннее разрешение имен для ресурсов, развернутых в виртуальной сети. При необходимости можно настроить виртуальную сеть для использования собственного DNS-серверы, вместо того чтобы использовать Azure внутреннее разрешение имен.
- **[Обмен данными через Интернет:](#internet)**  ресурсы, такие как виртуальные машины, развернутые в виртуальной сети, имеют доступ к Интернету по умолчанию. При необходимости можно также включить входящий доступ к определенным ресурсам.
- **[Обмен данными ресурсов Azure:](#within-vnet)**  ресурсы Azure, развернутых в виртуальной сети могут взаимодействовать друг с другом с помощью частных IP-адресов, даже если ресурсы развертываются в разных подсетях. Azure предоставляет Маршрутизация по умолчанию между подсетями, подключенных виртуальных сетей и в локальной сети, поэтому не нужно настраивать и управлять маршрутов. При желании вы можете настроить Azure по маршрутизация.
- **[Подключение к виртуальной сети.](#connect-vnets)** Виртуальные сети можно подключить между собой. Таким образом ресурсы в этих виртуальных сетях смогут взаимодействовать с ресурсами в других виртуальных сетях.
- **[Локальные подключения:](#connect-on-premises)**  виртуальная сеть может подключаться к локальной сети, включение ресурсов для взаимодействия друг с другом.
- **[Фильтрация трафика:](#filtering)**  можно фильтровать сетевой трафик к и из ресурсов в виртуальной сети с IP-адреса источника и порт, конечный IP-адрес и порт и протокол.
- **[Маршрутизация.](#routing)** При необходимости можно переопределить маршрутизацию Azure по умолчанию, настроив собственные правила или распространив маршруты BGP через сетевой шлюз.

## <a name = "isolation"></a>Изоляция и сегментирование сети

Вы можете реализовать несколько виртуальных сетей в пределах [подписки](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#subscription) и [региона](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#region) Azure. Все виртуальные сети изолированы друг от друга. Для каждой виртуальной сети можно сделать следующее:
- Указать пользовательское пространство частных IP-адресов, в котором используются общедоступные и частные адреса (RFC 1918). Azure назначает ресурсам в виртуальной сети частный IP-адрес из определенного адресного пространства.
- Разделить виртуальную сеть на подсети и выделить каждой из них часть адресного пространства виртуальной сети.
- Использовать разрешение имен Azure или указать собственный DNS-сервер для использования ресурсов в виртуальной сети. Дополнительные сведения о разрешении имен в виртуальных сетях см. в разделе [разрешение имен для ресурсов в виртуальные сети](virtual-networks-name-resolution-for-vms-and-role-instances.md) статьи.

## <a name = "internet"></a>Взаимодействие через Интернет
Все ресурсы в виртуальной сети могут взаимодействовать в Интернет. По умолчанию частный IP-адрес ресурса является сетевой адрес источника перевести (SNAT) общедоступный IP-адрес, выбранные с помощью инфраструктуры Azure. Дополнительные сведения об исходящих интернет-подключениях см. в статье [Общие сведения об исходящих подключениях в Azure](..\load-balancer\load-balancer-outbound-connections.md?toc=%2fazure%2fvirtual-network%2ftoc.json#standalone-vm-with-no-instance-level-public-ip-address). Чтобы предотвратить исходящие подключения к Интернету, можно реализовать пользовательскую маршрутизацию или фильтрацию трафика.

Для входящего подключения к ресурсам Azure из Интернета или исходящего подключения к Интернету без SNAT ресурсу необходимо назначить общедоступный IP-адрес. Дополнительные сведения об общедоступных IP-адресах см. в [этой статье](virtual-network-public-ip-address.md).

## <a name="within-vnet"></a>Безопасный обмен данными между ресурсами Azure

Виртуальные машины можно развернуть в виртуальной сети. Виртуальные машины взаимодействуют с другими ресурсами в виртуальной сети с помощью сетевого интерфейса. Дополнительные сведения о сетевых интерфейсах см. в [этой статье](virtual-network-network-interface.md).

Также можно развернуть несколько других типов ресурсов Azure для виртуальной сети, например среды службы приложений Azure и наборы масштабирования виртуальных машин Azure. Полный список ресурсов Azure, которые можно развернуть в виртуальной сети, см. в статье [Интеграция виртуальной сети для служб Azure](virtual-network-for-azure-services.md).

Некоторые ресурсы не может быть развернута в виртуальной сети, но позволяют ограничить подключения к ресурсам в виртуальной сети. Дополнительные сведения о том, как ограничить доступ к ресурсам см. в разделе [конечных точек службы виртуальной сети](virtual-network-service-endpoints-overview.md). 

## <a name="connect-vnets"></a>Подключение виртуальных сетей

Виртуальные сети можно подключать между собой. Таким образом, ресурсы в этих виртуальных сетях могут взаимодействовать, используя пиринговую связь между этими сетями. Пропускная способность и задержка при обмене данных между ресурсами в разных виртуальных сетях такая же, как если бы ресурсы находились в одной виртуальной сети. Дополнительные сведения о пиринге между виртуальными сетями см. в [этой статье](virtual-network-peering-overview.md).

## <a name="connect-on-premises"></a>Подключение к локальной сети

Локальную сеть можно подключить к виртуальной, используя сочетание следующих способов:
- **VPN типа "точка — сеть".** Устанавливается между виртуальной сетью и компьютером в вашей сети. Каждый компьютер, который хочет установить подключение к виртуальной сети необходимо настроить его подключение независимо друг от друга. Этот тип подключения идеально подходит для новичков, не умеющих работать в Azure, или для разработчиков, так как при его использовании существующую сеть почти не нужно менять. Подключение осуществляется по протоколу SSTP для обеспечения зашифрованного обмена данными между компьютером и виртуальной сетью через Интернет. Задержку VPN типа "точка — сеть" невозможно спрогнозировать, так как трафик проходит через Интернет.
- **VPN типа "сеть — сеть".** Устанавливается между VPN-устройством и VPN-шлюзом Azure, развернутым в виртуальной сети. Используя такое подключение, авторизованные локальные ресурсы могут получить доступ к виртуальной сети. Это VPN-подключение по протоколу IPSec/IKE, благодаря которому локальные устройства и VPN-шлюз Azure могут взаимодействовать по зашифрованному каналу через Интернет. Задержку VPN типа "сеть — сеть" невозможно спрогнозировать, так как трафик проходит через Интернет.
- **Azure ExpressRoute.** Устанавливается между вашей сетью и Azure через партнера ExpressRoute. Это подключение является закрытым. Трафик не передается через Интернет. Задержку для подключения ExpressRoute можно спрогнозировать, так как трафик не передается через Интернет.

Дополнительные сведения о предыдущих параметрах соединения см. в разделе [схемы топологии соединения](../vpn-gateway/vpn-gateway-about-vpngateways.md?toc=%2fazure%2fvirtual-network%2ftoc.json#diagrams).

## <a name="filtering"></a>Фильтрация сетевого трафика
Сетевой трафик между подсетями можно фильтровать следующими способами:
- **Группы безопасности сети.** Каждая группа безопасности сети может содержать несколько правил безопасности относительно входящего и исходящего трафика для его фильтрации по исходному и конечному IP-адресу, порту и протоколу. Группы безопасности сети можно применять к любому сетевому интерфейсу в виртуальной машине, а также к подсети, к которой подключен сетевой интерфейс или другой ресурс Azure. Дополнительные сведения о группах безопасности сети см. в статье [Фильтрация сетевого трафика с помощью групп безопасности сети](security-overview.md#network-security-groups).
- **Виртуальные сетевые модули.** Виртуальный сетевой модуль представляет собой виртуальную машину, на которой выполняется программное обеспечение, выступающее в роли сети, такое как брандмауэр. Список доступных виртуальных сетевых модулей см. в [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/category/networking?page=1&subcategories=appliances). Кроме того, доступны виртуальные сетевые модули, обеспечивающие оптимизацию WAN, а также предоставляющие другие возможности для сетевого трафика. Виртуальные сетевые модули обычно используются с определяемыми пользователем маршрутами или с маршрутами BGP. С помощью виртуальных сетевых модулей можно фильтровать трафик между виртуальными сетями.

## <a name="routing"></a>Маршрутизация сетевого трафика

Azure создает таблицы маршрутов, позволяющие ресурсам, подключенным к какой-либо подсети в любой виртуальной сети для взаимодействия друг с другом и Интернета, по умолчанию. Чтобы переопределить маршруты по умолчанию, создаваемые в Azure, используйте следующие варианты:
- **Определяемые пользователем маршруты.** Вы можете создать пользовательские таблицы маршрутов с маршрутами, определяющими направление передачи трафика для каждой подсети. Дополнительные сведения об определяемых пользователем маршрутах см. в [этой статье](virtual-networks-udr-overview.md#user-defined).
- **Маршруты BGP.** При подключении виртуальной сети к локальной сети с помощью VPN-шлюза или канала ExpressRoute Azure можно распространить маршруты BGP в виртуальных сетях.

## <a name="pricing"></a>Цены

За использование виртуальных сетей, подсетей, таблиц маршрутов или групп безопасности сети плата не взимается. Для использования пропускной способности при исходящем подключении к Интернету, общедоступных IP-адресов, пиринга между виртуальными сетями, VPN-шлюзов и ExpressRoute имеются собственные структуры ценообразования. Дополнительные сведения см. на страницах о ценах на [виртуальную сеть](https://azure.microsoft.com/pricing/details/virtual-network), [VPN-шлюз](https://azure.microsoft.com/pricing/details/vpn-gateway) и [ExpressRoute](https://azure.microsoft.com/pricing/details/expressroute).

## <a name="faq"></a>Часто задаваемые вопросы

Чтобы просмотреть часто задаваемые вопросы о виртуальной сети Azure, ознакомьтесь с [этой статьей](virtual-networks-faq.md).

## <a name="next-steps"></a>Дальнейшие действия

- Создайте первую виртуальную сеть и разверните в ней несколько виртуальных машин, выполнив действия, описанные в [этой статье](virtual-network-get-started-vnet-subnet.md).
- Установите подключение типа "точка — сеть" к виртуальной сети, выполнив действия, описанные в статье [Настройка подключения типа "точка — сеть" к виртуальной сети с использованием собственной аутентификации Azure на основе сертификата и портала Azure](../vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json).
- Изучите другие ключевые [сетевые возможности](../networking/networking-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json) Azure.
