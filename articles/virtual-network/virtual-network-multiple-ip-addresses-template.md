---
title: "Назначение виртуальным машинам Azure нескольких IP-адресов с помощью шаблона | Документация Майкрософт"
description: "Узнайте, как назначить виртуальной машине несколько IP-адресов с использованием шаблона Azure Resource Manager."
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 12/08/2016
ms.author: jdial
ms.openlocfilehash: d4b189fb23dda1167c4f6b17b618c718d32dd98f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="assign-multiple-ip-addresses-to-virtual-machines-using-an-azure-resource-manager-template"></a><span data-ttu-id="6b4ad-103">Назначение виртуальным машинам Azure нескольких IP-адресов с помощью шаблона Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="6b4ad-103">Assign multiple IP addresses to virtual machines using an Azure Resource Manager template</span></span>

[!INCLUDE [virtual-network-multiple-ip-addresses-intro.md](../../includes/virtual-network-multiple-ip-addresses-intro.md)]

<span data-ttu-id="6b4ad-104">В этой статье описывается создание виртуальной машины с помощью модели развертывания Azure Resource Manager и шаблона Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-104">This article explains how to create a virtual machine (VM) through the Azure Resource Manager deployment model using a Resource Manager template.</span></span> <span data-ttu-id="6b4ad-105">Несколько общедоступных и частных IP-адресов нельзя назначить одной и той же сетевой карте при развертывании виртуальной машины с помощью классической модели развертывания.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-105">Multiple public and private IP addresses cannot be assigned to the same NIC when deploying a VM through the classic deployment model.</span></span> <span data-ttu-id="6b4ad-106">Дополнительные сведения о моделях развертывания Azure см. в статье [Azure Resource Manager vs. classic deployment: Understand deployment models and the state of your resources](../resource-manager-deployment-model.md) (Развертывание с помощью Azure Resource Manager и классическое развертывание. Общие сведения о моделях развертывания и состоянии ресурсов).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-106">To learn more about Azure deployment models, read the [Understand deployment models](../resource-manager-deployment-model.md) article.</span></span>

[!INCLUDE [virtual-network-multiple-ip-addresses-template-scenario.md](../../includes/virtual-network-multiple-ip-addresses-scenario.md)]

## <a name="template-description"></a><span data-ttu-id="6b4ad-107">Описание шаблона</span><span class="sxs-lookup"><span data-stu-id="6b4ad-107">Template description</span></span>

<span data-ttu-id="6b4ad-108">Развертывание шаблона позволяет быстро и согласованно создавать ресурсы Azure с использованием разных значений конфигурации.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-108">Deploying a template enables you to quickly and consistently create Azure resources with different configuration values.</span></span> <span data-ttu-id="6b4ad-109">Если вы не работали с шаблонами Azure Resource Manager, ознакомьтесь со статьей [Пошаговое руководство по созданию шаблона Resource Manager](../azure-resource-manager/resource-manager-template-walkthrough.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-109">Read the [Resource Manager template walkthrough](../azure-resource-manager/resource-manager-template-walkthrough.md?toc=%2fazure%2fvirtual-network%2ftoc.json) article if you're not familiar with Azure Resource Manager templates.</span></span> <span data-ttu-id="6b4ad-110">В этой статье используется шаблон [развертывания виртуальной машины с использованием нескольких IP-адресов](https://azure.microsoft.com/resources/templates/101-vm-multiple-ipconfig).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-110">The [Deploy a VM with multiple IP addresses](https://azure.microsoft.com/resources/templates/101-vm-multiple-ipconfig) template is utilized in this article.</span></span>

<span data-ttu-id="6b4ad-111"><a name="resources"></a>При развертывании шаблона создаются следующие ресурсы:</span><span class="sxs-lookup"><span data-stu-id="6b4ad-111"><a name="resources"></a>Deploying the template creates the following resources:</span></span>

|<span data-ttu-id="6b4ad-112">Ресурс</span><span class="sxs-lookup"><span data-stu-id="6b4ad-112">Resource</span></span>|<span data-ttu-id="6b4ad-113">Имя</span><span class="sxs-lookup"><span data-stu-id="6b4ad-113">Name</span></span>|<span data-ttu-id="6b4ad-114">Описание</span><span class="sxs-lookup"><span data-stu-id="6b4ad-114">Description</span></span>|
|---|---|---|
|<span data-ttu-id="6b4ad-115">Сетевой интерфейс</span><span class="sxs-lookup"><span data-stu-id="6b4ad-115">Network interface</span></span>|<span data-ttu-id="6b4ad-116">*myNic1*</span><span class="sxs-lookup"><span data-stu-id="6b4ad-116">*myNic1*</span></span>|<span data-ttu-id="6b4ad-117">Три IP-конфигурации (см. раздел этой статьи с описанием сценария) создаются и назначаются этой сетевой карте.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-117">The three IP configurations described in the scenario section of this article are created and assigned to this NIC.</span></span>|
|<span data-ttu-id="6b4ad-118">Ресурс общедоступного IP-адреса</span><span class="sxs-lookup"><span data-stu-id="6b4ad-118">Public IP address resource</span></span>|<span data-ttu-id="6b4ad-119">Создаются два имени: *myPublicIP* и *myPublicIP2*</span><span class="sxs-lookup"><span data-stu-id="6b4ad-119">2 are created: *myPublicIP* and *myPublicIP2*</span></span>|<span data-ttu-id="6b4ad-120">Эти ресурсы представлены общедоступными статическими IP-адресами. Они назначаются IP-конфигурациям *IPConfig 1* и *IPConfig 2*, описанным в сценарии.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-120">These resources are assigned static public IP addresses and are assigned to the  *IPConfig-1* and *IPConfig-2* IP configurations described in the scenario.</span></span>|
|<span data-ttu-id="6b4ad-121">ВМ</span><span class="sxs-lookup"><span data-stu-id="6b4ad-121">VM</span></span>|<span data-ttu-id="6b4ad-122">*myVM1*</span><span class="sxs-lookup"><span data-stu-id="6b4ad-122">*myVM1*</span></span>|<span data-ttu-id="6b4ad-123">Виртуальная машина Standard DS3.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-123">A Standard DS3 VM.</span></span>|
|<span data-ttu-id="6b4ad-124">Виртуальная сеть</span><span class="sxs-lookup"><span data-stu-id="6b4ad-124">Virtual network</span></span>|<span data-ttu-id="6b4ad-125">*myVNet1*</span><span class="sxs-lookup"><span data-stu-id="6b4ad-125">*myVNet1*</span></span>|<span data-ttu-id="6b4ad-126">Виртуальная сеть с одной подсетью с именем *mySubnet*.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-126">A virtual network with one subnet named *mySubnet*.</span></span>|
|<span data-ttu-id="6b4ad-127">Учетная запись хранения</span><span class="sxs-lookup"><span data-stu-id="6b4ad-127">Storage account</span></span>|<span data-ttu-id="6b4ad-128">Уникальная для развертывания</span><span class="sxs-lookup"><span data-stu-id="6b4ad-128">Unique to the deployment</span></span>|<span data-ttu-id="6b4ad-129">Учетная запись хранения.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-129">A storage account.</span></span>|

<span data-ttu-id="6b4ad-130"><a name="parameters"></a>При развертывании шаблона необходимо указать значения для следующих параметров:</span><span class="sxs-lookup"><span data-stu-id="6b4ad-130"><a name="parameters"></a>When deploying the template, you must specify values for the following parameters:</span></span>

|<span data-ttu-id="6b4ad-131">Имя</span><span class="sxs-lookup"><span data-stu-id="6b4ad-131">Name</span></span>|<span data-ttu-id="6b4ad-132">Описание</span><span class="sxs-lookup"><span data-stu-id="6b4ad-132">Description</span></span>|
|---|---|
|<span data-ttu-id="6b4ad-133">adminUsername</span><span class="sxs-lookup"><span data-stu-id="6b4ad-133">adminUsername</span></span>|<span data-ttu-id="6b4ad-134">Имя пользователя администратора.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-134">Admin username.</span></span> <span data-ttu-id="6b4ad-135">Оно должно удовлетворять [соответствующим требованиям Azure](../virtual-machines/windows/faq.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-135">The username must comply with [Azure username requirements](../virtual-machines/windows/faq.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>|
|<span data-ttu-id="6b4ad-136">adminPassword</span><span class="sxs-lookup"><span data-stu-id="6b4ad-136">adminPassword</span></span>|<span data-ttu-id="6b4ad-137">Пароль администратора. Он должен удовлетворять соответствующим [требованиям Azure](../virtual-machines/windows/faq.md?toc=%2fazure%2fvirtual-network%2ftoc.json#what-are-the-password-requirements-when-creating-a-vm).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-137">Admin password The password must comply with [Azure password requirements](../virtual-machines/windows/faq.md?toc=%2fazure%2fvirtual-network%2ftoc.json#what-are-the-password-requirements-when-creating-a-vm).</span></span>|
|<span data-ttu-id="6b4ad-138">dnsLabelPrefix</span><span class="sxs-lookup"><span data-stu-id="6b4ad-138">dnsLabelPrefix</span></span>|<span data-ttu-id="6b4ad-139">DNS-имя для PublicIPAddressName1.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-139">DNS name for PublicIPAddressName1.</span></span> <span data-ttu-id="6b4ad-140">DNS-имя будет разрешено на один из общедоступных IP-адресов, назначенных виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-140">The DNS name will resolve to one of the public IP addresses assigned to the VM.</span></span> <span data-ttu-id="6b4ad-141">Имя должно быть уникальным в пределах региона Azure (расположения), в котором создается виртуальная машина.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-141">The name must be unique within the Azure region (location) you create the VM in.</span></span>|
|<span data-ttu-id="6b4ad-142">dnsLabelPrefix1</span><span class="sxs-lookup"><span data-stu-id="6b4ad-142">dnsLabelPrefix1</span></span>|<span data-ttu-id="6b4ad-143">DNS-имя для PublicIPAddressName2.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-143">DNS name for PublicIPAddressName2.</span></span> <span data-ttu-id="6b4ad-144">DNS-имя будет разрешено на один из общедоступных IP-адресов, назначенных виртуальной машине.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-144">The DNS name will resolve to one of the public IP addresses assigned to the VM.</span></span> <span data-ttu-id="6b4ad-145">Имя должно быть уникальным в пределах региона Azure (расположения), в котором создается виртуальная машина.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-145">The name must be unique within the Azure region (location) you create the VM in.</span></span>|
|<span data-ttu-id="6b4ad-146">OSVersion</span><span class="sxs-lookup"><span data-stu-id="6b4ad-146">OSVersion</span></span>|<span data-ttu-id="6b4ad-147">Версия ОС Windows или Linux для виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-147">The Windows/Linux version for the VM.</span></span> <span data-ttu-id="6b4ad-148">Операционная система — это исправленный образ выбранной версии ОС Windows или Linux.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-148">The operating system is a fully patched image of the given Windows/Linux version selected.</span></span>|
|<span data-ttu-id="6b4ad-149">imagePublisher</span><span class="sxs-lookup"><span data-stu-id="6b4ad-149">imagePublisher</span></span>|<span data-ttu-id="6b4ad-150">Издатель образа Windows и Linux для выбранной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-150">The Windows/Linux image publisher for the selected VM.</span></span>|
|<span data-ttu-id="6b4ad-151">imageOffer</span><span class="sxs-lookup"><span data-stu-id="6b4ad-151">imageOffer</span></span>|<span data-ttu-id="6b4ad-152">Образ Windows и Linux для выбранной виртуальной машины.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-152">The Windows/Linux image for the selected VM.</span></span>|

<span data-ttu-id="6b4ad-153">Каждый из ресурсов, развернутый с помощью шаблона, настраивается с несколькими параметрами по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-153">Each of the resources deployed by the template is configured with several default settings.</span></span> <span data-ttu-id="6b4ad-154">Просмотреть эти параметры можно одним из следующих способов.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-154">You can view these settings through either of the following methods:</span></span>

- <span data-ttu-id="6b4ad-155">**Просмотрев шаблон на GitHub.** Если вы работали с шаблонами, вы можете просмотреть параметры в самом [шаблоне](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-155">**View the template on GitHub:** If you're familiar with templates, you can view the settings within the [template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json).</span></span>
- <span data-ttu-id="6b4ad-156">**Просмотрев параметры после развертывания.** Если вы не работали с шаблонами, вы можете развернуть шаблон, выполнив действия, описанные в следующих разделах, а затем просмотреть параметры после развертывания.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-156">**View the settings after deploying:** If you're not familiar with templates, you can deploy the template using steps in one of the following sections and then view the settings after deployment.</span></span>

<span data-ttu-id="6b4ad-157">Чтобы развернуть шаблон, можно использовать портал Azure или интерфейс командной строки Azure.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-157">You can use the Azure portal, PowerShell, or the Azure command-line interface (CLI) to deploy the template.</span></span> <span data-ttu-id="6b4ad-158">Все методы приводят к одному результату.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-158">All methods produce the same result.</span></span> <span data-ttu-id="6b4ad-159">Выполните действия, описанные в одном из следующих разделов.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-159">To deploy the template, complete the steps in one of the following sections :</span></span>

## <a name="deploy-using-the-azure-portal"></a><span data-ttu-id="6b4ad-160">Развертывание с помощью портала Azure</span><span class="sxs-lookup"><span data-stu-id="6b4ad-160">Deploy using the Azure portal</span></span>

<span data-ttu-id="6b4ad-161">Чтобы развернуть шаблон с помощью портала Azure, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-161">To deploy the template using the Azure portal, complete the following steps:</span></span>

1. <span data-ttu-id="6b4ad-162">При желании шаблон можно изменить.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-162">Modify the template, if desired.</span></span> <span data-ttu-id="6b4ad-163">Шаблон развертывает ресурсы и параметры, перечисленные в разделе с описанием [ресурсов](#resources).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-163">The template deploys the resources and settings listed in the [resources](#resources) section of this article.</span></span> <span data-ttu-id="6b4ad-164">Дополнительные сведения о шаблонах и способах их создания см. в статье [Создание шаблонов Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-164">To learn more about templates and how to author them, read the [Authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md?toc=%2fazure%2fvirtual-network%2ftoc.json)article.</span></span>
2. <span data-ttu-id="6b4ad-165">Разверните шаблон одним из следующих способов.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-165">Deploy the template with one of the following methods:</span></span>
    - <span data-ttu-id="6b4ad-166">**Выбрав шаблон на портале.** Выполните действия описанные в [этом разделе](../azure-resource-manager/resource-group-template-deploy-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json#deploy-resources-from-custom-template).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-166">**Select the template in the portal:** Complete the steps in the [Deploy resources from custom template](../azure-resource-manager/resource-group-template-deploy-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json#deploy-resources-from-custom-template) article.</span></span> <span data-ttu-id="6b4ad-167">Выберите существующий шаблон с именем *101-vm-multiple-ipconfig*.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-167">Choose the pre-existing template named *101-vm-multiple-ipconfig*.</span></span>
    - <span data-ttu-id="6b4ad-168">**Непосредственно.** Нажмите эту кнопку, чтобы открыть шаблон прямо на портале: <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2F101-vm-multiple-ipconfig%2Fazuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a></span><span class="sxs-lookup"><span data-stu-id="6b4ad-168">**Directly:** Click the following button to open the template directly in the portal: <a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2F101-vm-multiple-ipconfig%2Fazuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a></span></span>

<span data-ttu-id="6b4ad-169">Независимо от выбранного варианта вам нужно указать значения для [параметров](#parameters), перечисленных выше в этой статье.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-169">Regardless of the method you choose, you'll need to supply values for the [parameters](#parameters) listed previously in this article.</span></span> <span data-ttu-id="6b4ad-170">Развернув виртуальную машину, подключитесь к ней и добавьте в развернутую операционную систему частные IP-адреса, выполнив действия, описанные в этой статье в разделе [Добавление IP-адреса в операционную систему виртуальной машины](#os-config).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-170">After the VM is deployed, connect to the VM and add the private IP addresses to the operating system you deployed by completing the steps in the [Add IP addresses to a VM operating system](#os-config) section of this article.</span></span> <span data-ttu-id="6b4ad-171">Не добавляйте в операционную систему общедоступные IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-171">Do not add the public IP addresses to the operating system.</span></span>

## <a name="deploy-using-powershell"></a><span data-ttu-id="6b4ad-172">Развертывание с помощью PowerShell</span><span class="sxs-lookup"><span data-stu-id="6b4ad-172">Deploy using PowerShell</span></span>

<span data-ttu-id="6b4ad-173">Чтобы развернуть шаблон с помощью PowerShell, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-173">To deploy the template using PowerShell, complete the following steps:</span></span>

1. <span data-ttu-id="6b4ad-174">Разверните шаблон, выполнив действия, описанные в [этом разделе](../azure-resource-manager/resource-group-template-deploy-cli.md).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-174">Deploy the template by completing the steps in the [Deploy a template with PowerShell](../azure-resource-manager/resource-group-template-deploy-cli.md) article.</span></span> <span data-ttu-id="6b4ad-175">В статье описывается несколько вариантов развертывания шаблона.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-175">The article describes multiple options for deploying a template.</span></span> <span data-ttu-id="6b4ad-176">Если требуется выполнить развертывание с помощью параметра `-TemplateUri parameter`, URI для этого шаблона будет выглядеть так: *https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json*.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-176">If you choose to deploy using the `-TemplateUri parameter`, the URI for this template is *https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json*.</span></span> <span data-ttu-id="6b4ad-177">Если требуется выполнить развертывание с помощью параметра `-TemplateFile`, скопируйте содержимое [файла шаблона](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json) из GitHub в новый файл на компьютере.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-177">If you choose to deploy using the `-TemplateFile` parameter, copy the contents of the [template file](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json) from GitHub into a new file on your machine.</span></span> <span data-ttu-id="6b4ad-178">При желании можно изменить содержимое шаблона.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-178">Modify the template contents, if desired.</span></span> <span data-ttu-id="6b4ad-179">Шаблон развертывает ресурсы и параметры, перечисленные в разделе с описанием [ресурсов](#resources).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-179">The template deploys the resources and settings listed in the [resources](#resources) section of this article.</span></span> <span data-ttu-id="6b4ad-180">Дополнительные сведения о шаблонах и способах их создания см. в статье [Создание шаблонов Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-180">To learn more about templates and how to author them, read the [Authoring Azure Resource Manager templates ](../azure-resource-manager/resource-group-authoring-templates.md)article.</span></span>

    <span data-ttu-id="6b4ad-181">Независимо от выбранного варианта развертывания шаблона вам нужно указать значения для параметров, перечисленных в разделе с описанием [параметров](#parameters).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-181">Regardless of the option you choose to deploy the template with, you must supply values for the parameter values listed in the [parameters](#parameters) section of this article.</span></span> <span data-ttu-id="6b4ad-182">Если вы хотите указать параметры с помощью [файла параметров](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.parameters.json), скопируйте его содержимое из GitHub в новый файл на компьютере.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-182">If you choose to supply parameters using a parameters file, copy the contents of the [parameters file](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.parameters.json) from GitHub into a new file on your computer.</span></span> <span data-ttu-id="6b4ad-183">Измените значения в файле.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-183">Modify the values in the file.</span></span> <span data-ttu-id="6b4ad-184">Используйте созданный файл в качестве значения для параметра `-TemplateParameterFile`.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-184">Use the file you created as the value for the `-TemplateParameterFile` parameter.</span></span>

    <span data-ttu-id="6b4ad-185">Чтобы определить допустимые значения для параметров OSVersion, ImagePublisher и imageOffer, выполните шаги, описанные в статье [Просмотр и выбор образов виртуальных машин Windows в Azure с помощью оболочки PowerShell или интерфейса командной строки](../virtual-machines/windows/cli-ps-findimage.md).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-185">To determine valid values for the OSVersion, ImagePublisher, and imageOffer parameters, complete the steps in the [Navigate and select Windows VM images article](../virtual-machines/windows/cli-ps-findimage.md) article.</span></span>

    >[!TIP]
    ><span data-ttu-id="6b4ad-186">Если вы не знаете, доступен ли параметр dnslabelprefix, введите `Test-AzureRmDnsAvailability -DomainNameLabel <name-you-want-to-use> -Location <location>` команду.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-186">If you're not sure whether a dnslabelprefix is available, enter the `Test-AzureRmDnsAvailability -DomainNameLabel <name-you-want-to-use> -Location <location>` command to find out.</span></span> <span data-ttu-id="6b4ad-187">Если параметр доступен, команда вернет значение `True`.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-187">If it is available, the command will return `True`.</span></span>

2. <span data-ttu-id="6b4ad-188">Развернув виртуальную машину, подключитесь к ней и добавьте в развернутую операционную систему частные IP-адреса, выполнив действия, описанные в этой статье в разделе [Добавление IP-адреса в операционную систему виртуальной машины](#os-config).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-188">After the VM is deployed, connect to the VM and add the private IP addresses to the operating system you deployed by completing the steps in the [Add IP addresses to a VM operating system](#os-config) section of this article.</span></span> <span data-ttu-id="6b4ad-189">Не добавляйте в операционную систему общедоступные IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-189">Do not add the public IP addresses to the operating system.</span></span>

## <a name="deploy-using-the-azure-cli"></a><span data-ttu-id="6b4ad-190">Развертывание с помощью интерфейса командной строки Azure</span><span class="sxs-lookup"><span data-stu-id="6b4ad-190">Deploy using the Azure CLI</span></span>

<span data-ttu-id="6b4ad-191">Чтобы развернуть шаблон с помощью Azure CLI 1.0, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-191">To deploy the template using the Azure CLI 1.0, complete the following steps:</span></span>

1. <span data-ttu-id="6b4ad-192">Разверните шаблон, выполнив действия, описанные в [этом разделе](../azure-resource-manager/resource-group-template-deploy-cli.md).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-192">Deploy the template by completing the steps in the [Deploy a template with the Azure CLI](../azure-resource-manager/resource-group-template-deploy-cli.md) article.</span></span> <span data-ttu-id="6b4ad-193">В статье описывается несколько вариантов развертывания шаблона.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-193">The article describes multiple options for deploying the template.</span></span> <span data-ttu-id="6b4ad-194">Если требуется выполнить развертывание с помощью параметра `--template-uri` (-f), URI для этого шаблона будет выглядеть так: *https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json*.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-194">If you choose to deploy using the `--template-uri` (-f), the URI for this template is *https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json*.</span></span> <span data-ttu-id="6b4ad-195">Если требуется выполнить развертывание с помощью параметра `--template-file` (-f) , скопируйте содержимое [файла шаблона](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json) из GitHub в новый файл на компьютере.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-195">If you choose to deploy using the `--template-file` (-f) parameter, copy the contents of the [template file](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.json) from GitHub into a new file on your machine.</span></span> <span data-ttu-id="6b4ad-196">При желании можно изменить содержимое шаблона.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-196">Modify the template contents, if desired.</span></span> <span data-ttu-id="6b4ad-197">Шаблон развертывает ресурсы и параметры, перечисленные в разделе с описанием [ресурсов](#resources).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-197">The template deploys the resources and settings listed in the [resources](#resources) section of this article.</span></span> <span data-ttu-id="6b4ad-198">Дополнительные сведения о шаблонах и способах их создания см. в статье [Создание шаблонов Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-198">To learn more about templates and how to author them, read the [Authoring Azure Resource Manager templates ](../azure-resource-manager/resource-group-authoring-templates.md)article.</span></span>

    <span data-ttu-id="6b4ad-199">Независимо от выбранного варианта развертывания шаблона вам нужно указать значения для параметров, перечисленных в разделе с описанием [параметров](#parameters).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-199">Regardless of the option you choose to deploy the template with, you must supply values for the parameter values listed in the [parameters](#parameters) section of this article.</span></span> <span data-ttu-id="6b4ad-200">Если вы хотите указать параметры с помощью [файла параметров](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.parameters.json), скопируйте его содержимое из GitHub в новый файл на компьютере.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-200">If you choose to supply parameters using a parameters file, copy the contents of the [parameters file](https://raw.githubusercontent.com/azure/azure-quickstart-templates/master/101-vm-multiple-ipconfig/azuredeploy.parameters.json) from GitHub into a new file on your computer.</span></span> <span data-ttu-id="6b4ad-201">Измените значения в файле.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-201">Modify the values in the file.</span></span> <span data-ttu-id="6b4ad-202">Используйте созданный файл в качестве значения для параметра `--parameters-file` (-e).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-202">Use the file you created as the value for the `--parameters-file` (-e) parameter.</span></span>

    <span data-ttu-id="6b4ad-203">Чтобы определить допустимые значения для параметров OSVersion, ImagePublisher и imageOffer, выполните шаги, описанные в статье [Просмотр и выбор образов виртуальных машин Windows в Azure с помощью оболочки PowerShell или интерфейса командной строки](../virtual-machines/windows/cli-ps-findimage.md).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-203">To determine valid values for the OSVersion, ImagePublisher, and imageOffer parameters, complete the steps in the [Navigate and select Windows VM images article](../virtual-machines/windows/cli-ps-findimage.md) article.</span></span>

2. <span data-ttu-id="6b4ad-204">Развернув виртуальную машину, подключитесь к ней и добавьте в развернутую операционную систему частные IP-адреса, выполнив действия, описанные в этой статье в разделе [Добавление IP-адреса в операционную систему виртуальной машины](#os-config).</span><span class="sxs-lookup"><span data-stu-id="6b4ad-204">After the VM is deployed, connect to the VM and add the private IP addresses to the operating system you deployed by completing the steps in the [Add IP addresses to a VM operating system](#os-config) section of this article.</span></span> <span data-ttu-id="6b4ad-205">Не добавляйте в операционную систему общедоступные IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="6b4ad-205">Do not add the public IP addresses to the operating system.</span></span>

[!INCLUDE [virtual-network-multiple-ip-addresses-os-config.md](../../includes/virtual-network-multiple-ip-addresses-os-config.md)]
