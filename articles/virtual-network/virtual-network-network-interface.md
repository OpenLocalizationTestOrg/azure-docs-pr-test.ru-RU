---
title: "Создание, изменение или удаление сетевых интерфейсов Azure | Документация Майкрософт"
description: "Узнайте, что такое сетевой интерфейс, как создать и удалить сетевые интерфейсы, а также изменить их параметры."
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/24/2017
ms.author: jdial
ms.openlocfilehash: 7dafb491cec908ffbb3683991919654f3d3eb452
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/11/2017
---
# <a name="create-change-or-delete-a-network-interface"></a>Создание, изменение или удаление сетевых интерфейсов

Узнайте, как создать и удалить сетевые интерфейсы, а также изменить их параметры. Сетевой интерфейс позволяет виртуальной машине Azure взаимодействовать с Интернетом, Azure и локальными ресурсами. При создании виртуальной машины с помощью портала Azure создается один сетевой интерфейс с параметрами по умолчанию. Вместо этого можно создать сетевые интерфейсы с пользовательскими параметрами и добавить один или несколько сетевых интерфейсов для виртуальной машины при ее создании. Кроме того, можно изменить параметры имеющегося сетевого интерфейса по умолчанию. В этой статье объясняется, как создавать сетевые интерфейсы с пользовательскими параметрами, изменять имеющиеся параметры, такие как назначенный сетевой фильтр (группы безопасности сети), назначенная подсеть, параметры DNS-сервера и IP-пересылка, и как удалять сетевые интерфейсы.

При необходимости см. инструкции по [добавлению, изменению и удалению IP-адресов для сетевых интерфейсов Azure](virtual-network-network-interface-addresses.md). Если нужно добавить или удалить сетевые интерфейсы на виртуальных машинах, ознакомьтесь со статьей [Добавление или удаление сетевых интерфейсов виртуальных машин](virtual-network-network-interface-vm.md).


## <a name="before-you-begin"></a>Перед началом работы

Перед выполнением действий, описанных в любом разделе этой статьи, выполните следующие задачи.

- Ознакомьтесь с разделом [Ограничения сети — Azure Resource Manager](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits), чтобы узнать об ограничениях для сетевых интерфейсов.
- Войдите на [портал](https://portal.azure.com) Azure, в интерфейс командной строки Azure (Azure CLI) или Azure PowerShell с помощью учетной записи Azure. Если у вас нет учетной записи Azure, зарегистрируйтесь для получения [бесплатной пробной учетной записи](https://azure.microsoft.com/free).
- Чтобы использовать команды PowerShell для выполнения задач в этой статье, [установите и настройте Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json). Убедитесь, что у вас установлена самая последняя версия командлетов Azure PowerShell. Для получения справки по командам PowerShell с примерами введите `get-help <command> -full`.
- Чтобы использовать команды интерфейса командной строки Azure (Azure CLI) для выполнения задач в этой статье, [установите и настройте Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json). Убедитесь, что у вас установлена самая последняя версия Azure CLI. Для получения справки по командам интерфейса командной строки введите `az <command> --help`. Вы можете не устанавливать интерфейс командной строки и его зависимости, а воспользоваться Azure Cloud Shell. Azure Cloud Shell — это бесплатная оболочка Bash, которую можно запускать непосредственно на портале Azure. Она включает предварительно установленный интерфейс Azure CLI и настроена для использования с вашей учетной записью. Чтобы использовать Cloud Shell, нажмите кнопку **>_** в верхней части [портала](https://portal.azure.com).

## <a name="create-a-network-interface"></a>Создание сетевого интерфейса

При создании виртуальной машины с помощью портала Azure создается один сетевой интерфейс с параметрами по умолчанию. Если нужно указать все параметры сетевого интерфейса, можно создать сетевой интерфейс с пользовательскими параметрами и подключить его к виртуальной машине при ее создании (с помощью PowerShell или Azure CLI). Кроме того, можно создать сетевой интерфейс и добавить его к имеющейся виртуальной машине (с помощью PowerShell или Azure CLI). Дополнительные сведения о создании виртуальной машины с имеющимся сетевым интерфейсом, добавлении и удалении сетевых интерфейсов на имеющейся виртуальной машине см. в [этой статье](virtual-network-network-interface-vm.md). Перед созданием сетевого интерфейса необходимо, чтобы в расположении и подписке, в которых он будет создана, была настроена [виртуальная сеть](virtual-networks-create-vnet-arm-pportal.md).

1. Войдите на [портал Azure](https://portal.azure.com) с помощью учетной записи, которой назначены как минимум разрешения на роль "Участник сети" для подписки. Сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).
2. В верхней части портала Azure в поле с текстом *Поиск ресурсов* введите *сетевые интерфейсы*. Когда **сетевые интерфейсы** появятся в результатах поиска, щелкните их.
3. В появившейся колонке **Сетевые интерфейсы** щелкните **+ Add** (+ Добавить).
4. В появившейся колонке **Создать сетевой интерфейс** введите или выберите значения следующих параметров и щелкните **Создать**.

    |Настройка|Обязательный?|Сведения|
    |---|---|---|
    |Имя|Да|Имя должно быть уникальным в пределах выбранной группы ресурсов. Со временем в вашей подписке Azure скорее всего появится несколько сетевых интерфейсов. Ознакомьтесь со статьей [Naming conventions](/azure/architecture/best-practices/naming-conventions?toc=%2fazure%2fvirtual-network%2ftoc.json#naming-rules-and-restrictions) (Соглашения об именовании), чтобы изучить рекомендации по созданию соглашения об именовании, упрощающего управление несколькими сетевыми интерфейсами. Имя невозможно изменить после создания сетевого интерфейса.|
    |Виртуальная сеть|Да|Выберите виртуальную сеть для сетевого интерфейса. Сетевой интерфейс можно назначить только той виртуальной сети, которая находится в той же подписке и расположении, что и сетевой интерфейс. После создания сетевого интерфейса невозможно изменить виртуальную сеть, которой он назначен. Виртуальная машина, в которую добавляется сетевой интерфейс, также должна находится в том же расположении и подписке, что и сетевой интерфейс.|
    |Подсеть|Да|Выберите подсеть в выбранной виртуальной сети. Подсеть, которой назначен сетевой интерфейс, можно изменить после его создания.|
    |Назначение частного IP-адреса|Да| Здесь вы выбираете метода назначения IPv4-адреса. Выберите один из приведенных ниже методов назначения. **Динамический**. При выборе этого параметра Azure автоматически назначает доступный адрес из адресного пространства выбранной подсети. Azure может назначить сетевому интерфейсу другой адрес, если виртуальная машина, к которой она подключена, запускается после того, как была остановлена (освобождена). Адрес не меняется, если до перезапуска виртуальная машины не была остановлена (освобождена). **Статический**. При выборе этого параметра необходимо вручную назначить доступный IP-адрес из адресного пространства подсети, которую вы выбрали. Статические адреса меняются только по требованию или при удалении сетевого интерфейса. Метод назначения можно изменить после создания сетевого интерфейса. DHCP-сервер Azure назначает этот адрес сетевому интерфейсу в операционной системе виртуальной машины.|
    |Группа безопасности сети|Нет| Оставьте значение **Нет**, выберите имеющуюся [группу безопасности сети](virtual-networks-nsg.md) или [создайте новую](virtual-networks-create-nsg-arm-pportal.md). Группы безопасности сети позволяют фильтровать передачу исходящего и входящего сетевого трафика сетевого интерфейса. К сетевому интерфейсу можно применить одну группу безопасности сети или не применять их вообще. К подсети, к которой назначен сетевой интерфейс, также можно применить одну группу безопасности сети или не применять их вообще. Применение группы безопасности сети к сетевому интерфейсу и подсети, которой назначен сетевой интерфейс, иногда может приводить к неожиданным результатам. Чтобы устранить такие проблемы, см. раздел [Просмотр действующих правил безопасности NSG](virtual-network-nsg-troubleshoot-portal.md#nsg).|
    |Подписки|Да|Выберите одну из [подписок](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#subscription) Azure. Виртуальная машина и виртуальная сеть, к которой подключен сетевой интерфейс, должна находится в одной подписке.|
    |"Private IP address (IPv6)" (Частный IP-адрес (IPv6))|Нет| Если этот флажок установлен, кроме IPv4-адреса сетевому интерфейсу назначается IPv6-адрес. Важные сведения об использовании IPv6 с сетевыми интерфейсами см. в [этом разделе](#IPv6) статьи. Выбрать метод назначения IPv6-адреса невозможно. IPv6-адрес назначается динамическим методом.
    |"IPv6 name" (Имя IPv6) (отображается только если установлен флажок **Private IP address (IPv6)** (Частный IP-адрес (IPv6))). |Да, если установлен флажок **Private IP address (IPv6)** (Частный IP-адрес (IPv6)).| Это имя присваивается дополнительной IP-конфигурации сетевого интерфейса. Дополнительные сведения об IP-конфигурации см. в разделе [Просмотр параметров сетевого интерфейса](#view-network-interface-settings) этой статьи.|
    |Группа ресурсов|Да|Выберите существующую [группу ресурсов](../azure-glossary-cloud-terminology.md?toc=%2fazure%2fvirtual-network%2ftoc.json#resource-group) или создайте новую. Сетевой интерфейс может находится в одной группе ресурсов с виртуальной машиной, к которой он подключен, и с виртуальной сетью или в разных.|
    |Расположение|Да|Виртуальная машина и виртуальная сеть, к которой подключен сетевой интерфейс, должна находится в одном [расположении](https://azure.microsoft.com/regions) (регионе).|

На портале невозможно назначить общедоступный IP-адрес сетевому интерфейсу при его создании, но портал создает общедоступный IP-адрес и назначает его сетевому интерфейсу при создании виртуальной машины с помощью портала. Чтобы узнать, как добавить общедоступный IP-адрес для созданного сетевого интерфейса, см. статью [Добавление, изменение и удаление IP-адресов для сетевых интерфейсов Azure](virtual-network-network-interface-addresses.md). Если вы хотите создать сетевой интерфейс с общедоступным IP-адресом, для этого необходимо использовать интерфейс командной строки или PowerShell.

>[!Note]
> Azure назначает MAC-адрес сетевому интерфейсу только после его подключения к виртуальной машине и ее первого запуска. Невозможно указать MAC-адрес, который Azure назначает сетевому интерфейсу. MAC-адрес остается назначенным сетевому интерфейсу, пока сетевой интерфейс не будет удален или пока не будет изменен частный IP-адрес, назначенный основной IP-конфигурации основного сетевого интерфейса. Дополнительные сведения об IP-адресах и IP-конфигурациях см. в статье [Добавление, изменение и удаление IP-адресов для сетевых интерфейсов Azure](virtual-network-network-interface-addresses.md).

**Команды**

|Средство|Команда|
|---|---|
|Интерфейс командной строки|[az network nic create](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|PowerShell|[New-AzureRmNetworkInterface](/powershell/module/azurerm.network/new-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|

## <a name="view-network-interface-settings"></a>Просмотр параметров сетевого интерфейса

Большинство параметров сетевого интерфейса можно просматривать и изменять после его создания.

1. Войдите на [портал Azure](https://portal.azure.com) с помощью учетной записи, которой назначены как минимум разрешения на роль "Участник сети" для подписки. Сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).
2. В верхней части портала Azure в поле с текстом *Поиск ресурсов* введите *сетевые интерфейсы*. Когда **сетевые интерфейсы** появятся в результатах поиска, щелкните их.
3. В появившейся колонке **Сетевые интерфейсы** щелкните сетевой интерфейс, который нужно просмотреть или параметры которого нужно изменить.
4. Следующие параметры указаны в колонке, отображаемой для выбранного сетевого интерфейса.
    - **Обзор.** Здесь содержатся сведения о сетевом интерфейсе, такие как назначенные IP-адреса, виртуальная сеть и подсеть, к которой назначен сетевой интерфейс, и виртуальная машина, к которой подключен сетевой интерфейс (если таковая имеется). На следующем рисунке показан обзор параметров сетевого интерфейса **mywebserver256**: ![Обзор сетевого интерфейса](./media/virtual-network-network-interface/nic-overview.png). Сетевой интерфейс можно переместить в другую группу ресурсов или подписку, щелкнув (**Изменить**) рядом с пунктом **Группа ресурсов** или **Имя подписки**. При перемещении сетевого интерфейса необходимо переместить все ресурсы, связанные с ним. Если сетевой интерфейс подключен, например, к виртуальной машине, также необходимо переместить виртуальную машину и другие ресурсы, связанные с ней. Сведения о перемещении сетевого интерфейса см. в разделе [С помощью портала](../azure-resource-manager/resource-group-move-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json#use-portal). В ней указаны необходимые условия для перемещения, а также процедура перемещения с использованием портала Azure, PowerShell и Azure CLI.
    - **IP configurations** (IP-конфигурации). Здесь перечислены общедоступные и частные IPv4- и IPv6-адреса, назначенные IP-конфигурации. Если IPv6-адрес назначен IP-конфигурации, он не отображается. Дополнительные сведения об IP-конфигурациях, а также о добавлении и удалении IP-адресов см. в статье [Добавление, изменение и удаление IP-адресов для сетевых интерфейсов Azure](virtual-network-network-interface-addresses.md). В этом разделе также настраиваются IP-пересылка и назначение подсетей. Дополнительные сведения об этих параметрах см. в разделах [Включение и отключение IP-пересылки](#enable-or-disable-ip-forwarding) и [Изменение назначения подсети](#change-subnet-assignment) данной статьи.
    - **DNS-серверы.** Вы можете указать, какому DNS-серверу назначен сетевой интерфейс с использованием DHCP-серверов Azure. Сетевой интерфейс может наследовать параметр от виртуальной сети, которой он назначен, или использовать пользовательский параметр, переопределяющий параметр этой виртуальной сети. Чтобы изменить отображаемые элементы, выполните инструкции в разделе [Изменение DNS-серверов](#change-dns-servers) этой статьи.
    - **Network security group (NSG)** (Группа безопасности сети (NSG)). Указывает, связана ли с сетевым интерфейсом группа безопасности сети. NSG содержит правила входящего и исходящего трафика, фильтрующие трафик сетевого интерфейса. Если группа безопасности сети связана с сетевым интерфейсом, отображается имя этой группы. Чтобы изменить отображаемое имя, выполните инструкции в разделе [Управление связями](virtual-network-manage-nsg-arm-portal.md#manage-associations).
    - **Свойства.** Здесь отображаются основные параметры сетевого интерфейса, включая MAC-адрес (остается пустым, если сетевой интерфейс не подключен к виртуальной машине), а также подписка, в которой он находится.
    - **Effective security rules** (Действующие правила безопасности). Правила безопасности указываются, если сетевой интерфейс подключен к работающей виртуальной машине, а NSG связана с сетевым интерфейсом, подсетью, которой он назначен, или и с тем, и с другим. Дополнительные сведения об отображаемых элементах см. в статье [Устранение проблем с группами безопасности сети на портале Azure](virtual-network-nsg-troubleshoot-portal.md#nsg). Дополнительные сведения о группах безопасности сети см. в [этой статье](virtual-networks-nsg.md).
    - **Effective routes** (Действующие маршруты). Маршруты указываются, если сетевой интерфейс подключен к работающей виртуальной машине. Маршруты представляют собой сочетание маршрутов Azure по умолчанию, любых определяемых пользователем маршрутов (UDR) и всех маршрутов BGP, которые могут существовать для подсети, к которой подключен сетевой интерфейс. Дополнительные сведения об отображаемых элементах см. в статье [Устранение проблем с маршрутами на портале Azure](virtual-network-routes-troubleshoot-portal.md#view-effective-routes-for-a-network-interface). Дополнительные сведения о маршрутах по умолчанию Azure и определяемых пользователем маршрутах см. в статье [Определяемые пользователем маршруты и IP-пересылка](virtual-networks-udr-overview.md).
    - **Common Azure Resource Manager settings** (Общие параметры диспетчера ресурсов Azure). Дополнительные сведения об общих параметрах диспетчера ресурсов Azure см. в статьях о [журнале действий](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#activity-logs), [контроле доступа (IAM)](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#access-control), [тегах](../azure-resource-manager/resource-group-overview.md?toc=%2fazure%2fvirtual-network%2ftoc.json#tags), [блокировках](../azure-resource-manager/resource-group-lock-resources.md?toc=%2fazure%2fvirtual-network%2ftoc.json) и [скрипте службы автоматизации](../azure-resource-manager/resource-manager-export-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json#export-the-template-from-resource-group).

**Команды**

Если IPv6-адрес назначается сетевому интерфейсу, в выходных данных PowerShell указывается, что адрес назначен, но сам назначенный адрес не возвращается. Аналогично в выходных данных интерфейса командной строки указывается, что адрес назначен, но для адреса возвращается значение *null*.

|Средство|Команда|
|---|---|
|Интерфейс командной строки|[az network nic list](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#list) для просмотра сетевых интерфейсов в подписке, [az network nic show](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#show) для просмотра параметров сетевого интерфейса.|
|PowerShell|[Get-AzureRmNetworkInterface](/powershell/module/azurerm.network/get-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json) для просмотра сетевых интерфейсов в подписке или для просмотра параметров сетевого интерфейса.|

## <a name="change-dns-servers"></a>Изменение DNS-серверов

DNS-сервер для сетевого интерфейса в ОС виртуальной машины назначает DHCP-сервер Azure в соответствии с параметром DNS-сервера для сетевого интерфейса. Дополнительные сведения о параметрах разрешении имен для сетевого интерфейса см. в статье [Разрешение имен для ВМ и экземпляров ролей](virtual-networks-name-resolution-for-vms-and-role-instances.md). Сетевой интерфейс может наследовать параметры виртуальной сети или использовать собственные уникальные параметры, переопределяющие параметры для виртуальной сети.

1. Войдите на [портал Azure](https://portal.azure.com) с помощью учетной записи, которой назначены как минимум разрешения на роль "Участник сети" для подписки. Сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).
2. В верхней части портала Azure в поле с текстом *Поиск ресурсов* введите *сетевые интерфейсы*. Когда **сетевые интерфейсы** появятся в результатах поиска, щелкните их.
3. В появившейся колонке **Сетевые интерфейсы** щелкните сетевой интерфейс, который нужно просмотреть или параметры которого нужно изменить.
4. В разделе **Параметры** колонки выбранного сетевого интерфейса щелкните **DNS-серверы**.
5. Щелкните один из следующих параметров:
    - **Inherit from virtual network (default)** (Наследовать от виртуальной сети (по умолчанию)). Выберите этот вариант, чтобы наследовать параметры DNS-сервера, определенные для виртуальной сети, к которой подключен сетевой интерфейс. На уровне виртуальной сети определяется пользовательский DNS-сервер или DNS-сервер, предоставленный Azure. DNS-сервер, предоставленной Azure, может разрешать имена узлов для ресурсов, назначенных той же виртуальной сети. Для разрешения ресурсов, назначенных для разным виртуальным сетям, нужно использовать FQDN.
    - **Custom** (Пользовательские). Вы можете настроить собственный DNS-сервер для разрешения имен в нескольких виртуальных сетях. Введите IP-адрес сервера, который будет использоваться в качестве DNS-сервера. Указанный адрес DNS-сервера назначается только этому сетевому интерфейсу и переопределяет любые параметры DNS для виртуальной сети, которой назначен сетевой интерфейс.
6. Щелкните **Сохранить**.

**Команды**

|Средство|Команда|
|---|---|
|Интерфейс командной строки|[az network nic update](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|PowerShell|[Set-AzureRmNetworkInterface](/powershell/module/azurerm.network/set-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="enable-or-disable-ip-forwarding"></a>Включение и отключение IP-пересылки

Благодаря IP-пересылке виртуальная машина, к которой подключен сетевой интерфейс, получает следующие возможности:
- Получать сетевой трафик, не предназначенный для одного из IP-адресов, назначенных какой-либо IP-конфигурации, которая назначена сетевому интерфейсу.
- Отправлять сетевой трафик с исходным IP-адресом, который отличается от одного из присвоенных IP-конфигурации сетевого интерфейса.

Параметр нужно включить для каждого сетевого интерфейса, подключенного к виртуальной машине, принимающей трафик, который ей нужно переслать. Трафик может перенаправить виртуальная машина, к которой подключен один или несколько сетевых интерфейсов. Хотя IP-пересылка и является параметром Azure, на виртуальной машине также должно выполняться приложение с такой возможностью, например брандмауэр, приложения для оптимизации глобальной сети и балансировки нагрузки. Если на виртуальной машине выполняются сетевые приложения, ее часто называют виртуальным сетевым устройством. Список готовых к развертыванию виртуальных сетевых устройств см. в [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/category/networking?page=1&subcategories=appliances). IP-пересылка обычно используется в определяемых пользователем маршрутах. Дополнительные сведения об определяемых пользователем маршрутах см. в [этой статье](virtual-networks-udr-overview.md).

1. Войдите на [портал Azure](https://portal.azure.com) с помощью учетной записи, которой назначены как минимум разрешения на роль "Участник сети" для подписки. Сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).
2. В верхней части портала Azure в поле с текстом *Поиск ресурсов* введите *сетевые интерфейсы*. Когда **сетевые интерфейсы** появятся в результатах поиска, щелкните их.
3. В появившейся колонке **Сетевые интерфейсы** щелкните сетевой интерфейс, для которого нужно включить или отключить IP-переадресацию.
4. В разделе **Параметры** колонки выбранного сетевого интерфейса щелкните **IP configurations** (IP-конфигурации).
5. Щелкните **Включено** или **Отключено** (параметр по умолчанию), чтобы изменить параметр.
6. Щелкните **Сохранить**.

**Команды**

|Средство|Команда|
|---|---|
|Интерфейс командной строки|[az network nic update](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|PowerShell|[Set-AzureRmNetworkInterface](/powershell/module/azurerm.network/set-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="change-subnet-assignment"></a>Изменение назначения подсети

Вы можете изменить подсеть, но не виртуальную сеть, которой назначен сетевой интерфейс.

1. Войдите на [портал Azure](https://portal.azure.com) с помощью учетной записи, которой назначены как минимум разрешения на роль "Участник сети" для подписки. Сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).
2. В верхней части портала Azure в поле с текстом *Поиск ресурсов* введите *сетевые интерфейсы*. Когда **сетевые интерфейсы** появятся в результатах поиска, щелкните их.
3. В появившейся колонке **Сетевые интерфейсы** щелкните сетевой интерфейс, который нужно просмотреть или параметры которого нужно изменить.
4. В разделе **Параметры** колонки выбранного сетевого интерфейса щелкните **IP configurations** (IP-конфигурации). Если возле каких-либо частных IP-адресов в любой IP-конфигурации имеется подпись **(Статический)**, необходимо изменить способ назначения этих адресов на динамический, выполнив приведенные ниже инструкции. Для изменения назначения подсети сетевого интерфейса все частные IP-адреса должны быть назначены динамически. Если адреса назначаются динамическим способом, перейдите к шагу 5. Если IPv4-адреса назначены статически, выполните следующие действия, чтобы изменить их способ назначения на динамический.
    - В списке IP-конфигураций щелкните IP-конфигурацию, в которой нужно изменить способ назначения IPv4-адреса.
    - В появившейся колонке IP-конфигурации щелкните значение **Динамический** в качестве способа **назначения**. Невозможно назначить IPv6-адрес статическим методом.
    - Щелкните **Сохранить**.
5. В раскрывающемся списке **Подсеть** выберите подсеть, к которой нужно подключить сетевой интерфейс.
6. Щелкните **Сохранить**. Новые динамические адреса назначаются из диапазона адресов новой подсети. После назначения сетевого интерфейса в новую подсеть ей можно будет назначить статический IPv4-адрес из диапазона адресов новой подсети, если это требуется. Дополнительные сведения о добавлении, изменении и удалении IP-адресов сетевого интерфейса Azure см. в [этой статье](virtual-network-network-interface-addresses.md).

**Команды**

|Средство|Команда|
|---|---|
|Интерфейс командной строки|[az network nic ip-config update](/cli/azure/network/nic/ip-config?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|PowerShell|[Set-AzureRmNetworkInterfaceIpConfig](/powershell/module/azurerm.network/set-azurermnetworkinterfaceipconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|


## <a name="delete-a-network-interface"></a>Удаление сетевого интерфейса

Сетевой интерфейс можно удалить, если он не подключен к виртуальной машине. Если он подключен к виртуальной машине, необходимо сначала изменить состояние виртуальной машины на "Остановлена" (освобождена), а затем отключить сетевой интерфейс от виртуальной машины, прежде чем удалять его. Чтобы отключить сетевой интерфейс от виртуальной машины, выполните действия из раздела [Удаление сетевых карт из виртуальной машины](virtual-network-network-interface-vm.md#vm-remove-nic) статьи [Добавление или удаление сетевых интерфейсов виртуальных машин](virtual-network-network-interface-vm.md). При удалении виртуальной машины все подключенные к ней сетевые интерфейсы отключаются, но не удаляются.

1. Войдите на [портал Azure](https://portal.azure.com) с помощью учетной записи, которой назначены как минимум разрешения на роль "Участник сети" для подписки. Сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).
2. В верхней части портала Azure в поле с текстом *Поиск ресурсов* введите *сетевые интерфейсы*. Когда **сетевые интерфейсы** появятся в результатах поиска, щелкните их.
3. Щелкните правой кнопкой мыши сетевой интерфейс, который необходимо удалить, и выберите **Удалить**.
4. Нажмите кнопку **Да**, чтобы подтвердить удаление сетевого интерфейса.

При удалении сетевого интерфейса MAC- или IP-адреса, назначенные ему, освобождаются.

**Команды**

|Средство|Команда|
|---|---|
|Интерфейс командной строки|[az network nic delete](/cli/azure/network/nic?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|PowerShell|[Remove-AzureRmNetworkInterface](/powershell/module/azurerm.network/remove-azurermnetworkinterface?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <a name="next-steps"></a>Дальнейшие действия
Чтобы создать виртуальную машину с несколькими сетевыми интерфейсами или IP-адресами, прочитайте приведенные ниже статьи.

**Команды**

|Задача|Средство|
|---|---|
|Создание виртуальной машины с несколькими сетевыми адаптерами|[Интерфейс командной строки](../virtual-machines/linux/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [PowerShell](../virtual-machines/windows/multiple-nics.md?toc=%2fazure%2fvirtual-network%2ftoc.json)|
|Создание виртуальной машины с одним сетевым адаптером, которому назначено несколько IPv4-адресов|[Интерфейс командной строки](virtual-network-multiple-ip-addresses-cli.md), [PowerShell](virtual-network-multiple-ip-addresses-powershell.md)|
|Создание виртуальной машины с одним сетевым адаптером, которому назначен частный IPv6-адрес (обслуживаемый Azure Load Balancer).|[Интерфейс командной строки](../load-balancer/load-balancer-ipv6-internet-cli.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [PowerShell](../load-balancer/load-balancer-ipv6-internet-ps.md?toc=%2fazure%2fvirtual-network%2ftoc.json), [шаблон Azure Resource Manager](../load-balancer/load-balancer-ipv6-internet-template.md?toc=%2fazure%2fvirtual-network%2ftoc.json)|
