---
title: "Создание, изменение или удаление виртуальной сети Azure | Документация Майкрософт"
description: "Сведения о создании, изменении и удалении виртуальной сети в Azure."
services: virtual-network
documentationcenter: na
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/10/2017
ms.author: jdial
ms.openlocfilehash: 85ba6ef3e51c339a77eb9b4198c4f87e2a64cf09
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="add-change-or-delete-a-virtual-network-subnet"></a><span data-ttu-id="242ac-103">Создание, изменение или удаление виртуальной сети</span><span class="sxs-lookup"><span data-stu-id="242ac-103">Add, change, or delete a virtual network subnet</span></span>

<span data-ttu-id="242ac-104">Сведения о создании, изменении и удалении подсетей виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-104">Learn how to add, change, or delete a virtual network subnet.</span></span> 

<span data-ttu-id="242ac-105">Если вы не работали с виртуальными сетями, прежде чем создавать, изменять и удалять подсеть, мы рекомендуем прочитать [обзор виртуальных сетей Azure ](virtual-networks-overview.md), а также статью [Создание, изменение и удаление виртуальной сети](virtual-network-manage-network.md).</span><span class="sxs-lookup"><span data-stu-id="242ac-105">If you're not familiar with virtual networks, before you add, change, or delete a subnet, we recommend that you read [Azure Virtual Network overview](virtual-networks-overview.md) and [Create, change, or delete a virtual network](virtual-network-manage-network.md).</span></span> <span data-ttu-id="242ac-106">Все ресурсы Azure, развернутые в виртуальной сети, также развертываются в подсети виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-106">All Azure resources deployed into a virtual network are deployed into a subnet within a virtual network.</span></span> <span data-ttu-id="242ac-107">Как правило, в виртуальной сети создается несколько подсетей для решения следующих задач.</span><span class="sxs-lookup"><span data-stu-id="242ac-107">Usually, multiple subnets are created within a virtual network to:</span></span>
- <span data-ttu-id="242ac-108">**Фильтрация трафика между подсетями**.</span><span class="sxs-lookup"><span data-stu-id="242ac-108">**Filter traffic between subnets**.</span></span> <span data-ttu-id="242ac-109">К подсетям можно применить группы безопасности сети для фильтрации входящего и исходящего сетевого трафика для всех ресурсов (например, виртуальных машин), подключенных к виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-109">You can apply network security groups to subnets to filter inbound and outbound network traffic for all resources (like virtual machines) that are in the virtual network.</span></span> <span data-ttu-id="242ac-110">Подробнее о создании группы безопасности сети см. в статье [Создание групп безопасности сети](virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="242ac-110">To learn more about how to create a network security group, see [Create network security groups](virtual-networks-create-nsg-arm-pportal.md).</span></span>
- <span data-ttu-id="242ac-111">**Управление маршрутизацией между подсетями**.</span><span class="sxs-lookup"><span data-stu-id="242ac-111">**Control routing between subnets**.</span></span> <span data-ttu-id="242ac-112">Azure создает маршруты по умолчанию, чтобы трафик автоматически направлялся между подсетями.</span><span class="sxs-lookup"><span data-stu-id="242ac-112">Azure creates default routes so that traffic is automatically routed between subnets.</span></span> <span data-ttu-id="242ac-113">Вы можете переопределить стандартные маршруты Azure, создав определяемые пользователем маршруты.</span><span class="sxs-lookup"><span data-stu-id="242ac-113">You can override Azure default routes by creating user-defined routes.</span></span> <span data-ttu-id="242ac-114">Дополнительные сведения об определяемых пользователем маршрутах см. в статье [Создание определяемых пользователем маршрутов](virtual-network-create-udr-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="242ac-114">To learn more about user-defined routes, see [Create user-defined routes](virtual-network-create-udr-arm-ps.md).</span></span> 

<span data-ttu-id="242ac-115">В этой статье объясняется, как создавать, изменять и удалять подсети для виртуальных сетей, созданных на основе модели развертывания с помощью Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="242ac-115">This article explains how to add, change, and delete a subnet for virtual networks that were created by using the Azure Resource Manager deployment model.</span></span>
 
## <span data-ttu-id="242ac-116"><a name="before"></a>Перед началом работы</span><span class="sxs-lookup"><span data-stu-id="242ac-116"><a name="before"></a>Before you begin</span></span>

<span data-ttu-id="242ac-117">Прежде чем перейти к задачам, приведенным в этой статье, выполните следующие условия.</span><span class="sxs-lookup"><span data-stu-id="242ac-117">Before you begin the tasks that are described in this article, complete the following prerequisites:</span></span>

- <span data-ttu-id="242ac-118">Если вы впервые работаете с виртуальными сетями, рекомендуется просмотреть упражнения в руководстве [Создание первой собственной виртуальной сети](virtual-network-get-started-vnet-subnet.md).</span><span class="sxs-lookup"><span data-stu-id="242ac-118">If you're new to working with virtual networks, we recommend that you review the exercise in [Create your first Azure virtual network](virtual-network-get-started-vnet-subnet.md).</span></span> <span data-ttu-id="242ac-119">Это руководство поможет вам ознакомиться с принципами работы виртуальных сетей.</span><span class="sxs-lookup"><span data-stu-id="242ac-119">This exercise can help you become more familiar with virtual networks.</span></span>
- <span data-ttu-id="242ac-120">Сведения об ограничениях для виртуальных сетей cм. в разделе [ограничений Azure](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).</span><span class="sxs-lookup"><span data-stu-id="242ac-120">To learn about limits for virtual networks, review [Azure limits](../azure-subscription-service-limits.md?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).</span></span>
- <span data-ttu-id="242ac-121">Войдите на портал Azure, в программу командной строки Azure (Azure CLI) или Azure PowerShell с помощью учетной записи Azure.</span><span class="sxs-lookup"><span data-stu-id="242ac-121">Sign in to the Azure portal, the Azure command-line tool (Azure CLI), or Azure PowerShell by using your Azure account.</span></span> <span data-ttu-id="242ac-122">Если у вас нет учетной записи Azure, зарегистрируйтесь, чтобы получить [бесплатную пробную учетную запись](https://azure.microsoft.com/free).</span><span class="sxs-lookup"><span data-stu-id="242ac-122">If you don't have an Azure account, sign up for a [free trial account](https://azure.microsoft.com/free).</span></span>
- <span data-ttu-id="242ac-123">Если вы планируете использовать команды PowerShell для выполнения задач в этой статье, сначала необходимо [установить и настроить Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="242ac-123">If you plan to use PowerShell commands to complete the tasks described in this article, you must first [install and configure Azure PowerShell](/powershell/azureps-cmdlets-docs?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="242ac-124">Убедитесь, что у вас установлена последняя версия командлетов Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="242ac-124">Ensure that you have the most recent version of the Azure PowerShell cmdlets installed.</span></span> <span data-ttu-id="242ac-125">Чтобы получить справку по командам PowerShell в этих примерах, введите `get-help <command> -full`.</span><span class="sxs-lookup"><span data-stu-id="242ac-125">To get help for PowerShell commands in the examples, enter `get-help <command> -full`.</span></span>
- <span data-ttu-id="242ac-126">Если вы планируете использовать команды Azure CLI для выполнения задач, описанных в этой статье, сначала необходимо:</span><span class="sxs-lookup"><span data-stu-id="242ac-126">If you plan to use Azure CLI commands to complete the tasks described in this article, you must either:</span></span>
    - <span data-ttu-id="242ac-127">[Установить и настроить Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="242ac-127">[Install and configure the Azure CLI](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="242ac-128">Убедитесь, что у вас установлена последняя версия Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="242ac-128">Ensure that you have the most recent version of Azure CLI installed.</span></span>
    - <span data-ttu-id="242ac-129">Использовать Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="242ac-129">Use the Azure Cloud Shell.</span></span> <span data-ttu-id="242ac-130">Вместо установки интерфейса командной строки и его зависимостей вы можете использовать Azure Cloud Shell.</span><span class="sxs-lookup"><span data-stu-id="242ac-130">Instead of installing the CLI and its dependencies, you can use the Azure Cloud Shell.</span></span> <span data-ttu-id="242ac-131">Azure Cloud Shell — это бесплатная оболочка Bash, которую можно запускать непосредственно на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="242ac-131">The Azure Cloud Shell is a free Bash shell that you can run directly within the Azure portal.</span></span> <span data-ttu-id="242ac-132">Она включает предварительно установленный интерфейс Azure CLI и настроена для использования с вашей учетной записью.</span><span class="sxs-lookup"><span data-stu-id="242ac-132">It has the Azure CLI preinstalled and configured to use with your account.</span></span> <span data-ttu-id="242ac-133">Чтобы использовать Azure Cloud Shell, нажмите кнопку(**>_**) вверху портала.</span><span class="sxs-lookup"><span data-stu-id="242ac-133">To use the Cloud Shell, click the Cloud Shell (**>_**) icon at the top of the Azure portal.</span></span> 

  <span data-ttu-id="242ac-134">Чтобы получить справку по командам Azure CLI, введите `az <command> --help`.</span><span class="sxs-lookup"><span data-stu-id="242ac-134">To get help with Azure CLI commands, enter `az <command> --help`.</span></span>

## <span data-ttu-id="242ac-135"><a name="create-subnet"></a>Создание подсети</span><span class="sxs-lookup"><span data-stu-id="242ac-135"><a name="create-subnet"></a>Add a subnet</span></span>

<span data-ttu-id="242ac-136">Чтобы создать подсеть, сделайте следующее:</span><span class="sxs-lookup"><span data-stu-id="242ac-136">To add a subnet:</span></span>

1. <span data-ttu-id="242ac-137">Войдите на [портал](https://portal.azure.com), используя учетную запись, которой назначены разрешения роли "Участник сетей" (как минимум) для подписки.</span><span class="sxs-lookup"><span data-stu-id="242ac-137">Sign in to the [portal](https://portal.azure.com) with an account that is assigned permissions for the Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="242ac-138">Дополнительные сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span><span class="sxs-lookup"><span data-stu-id="242ac-138">To learn more about assigning roles and permissions to accounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="242ac-139">В поле поиска на портале введите **виртуальные сети**.</span><span class="sxs-lookup"><span data-stu-id="242ac-139">In the portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="242ac-140">В результатах поиска щелкните **виртуальные сети**.</span><span class="sxs-lookup"><span data-stu-id="242ac-140">In the search results, click **Virtual networks**.</span></span>
3. <span data-ttu-id="242ac-141">В колонке **Виртуальные сети** щелкните виртуальную сеть, в которую требуется добавить подсеть.</span><span class="sxs-lookup"><span data-stu-id="242ac-141">On the **Virtual networks** blade, click the virtual network you want to add a subnet to.</span></span>
4. <span data-ttu-id="242ac-142">В колонке виртуальной сети щелкните **Подсети**.</span><span class="sxs-lookup"><span data-stu-id="242ac-142">On the virtual network blade, click **Subnets**.</span></span>
5. <span data-ttu-id="242ac-143">Щелкните **Добавить подсеть**.</span><span class="sxs-lookup"><span data-stu-id="242ac-143">Click **+Subnet**.</span></span>
6. <span data-ttu-id="242ac-144">В колонке **Добавление подсети** введите значения для следующих параметров.</span><span class="sxs-lookup"><span data-stu-id="242ac-144">On the **Add subnet** blade, enter values for the following parameters:</span></span>
    - <span data-ttu-id="242ac-145">**Имя**. Имя должно быть уникальным в пределах виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-145">**Name**: The name must be unique within the virtual network.</span></span>
    - <span data-ttu-id="242ac-146">**Диапазон адресов**. Диапазон должен быть уникальным в пределах адресного пространства виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-146">**Address range**: The range must be unique within the address space for the virtual network.</span></span> <span data-ttu-id="242ac-147">Диапазон не должен перекрываться с другими диапазонами адресов подсетей в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-147">The range cannot overlap with other subnet address ranges within the virtual network.</span></span> <span data-ttu-id="242ac-148">Адресное пространство должно быть указано с помощью нотации CIDR.</span><span class="sxs-lookup"><span data-stu-id="242ac-148">The address space must be specified by using Classless Inter-Domain Routing (CIDR) notation.</span></span> <span data-ttu-id="242ac-149">Например, в виртуальной сети с адресным пространством 10.0.0.0/16 можно определить адресное пространство подсети 10.0.0.0/24.</span><span class="sxs-lookup"><span data-stu-id="242ac-149">For example, in a virtual network with address space 10.0.0.0/16, you might define a subnet address space of 10.0.0.0/24.</span></span> <span data-ttu-id="242ac-150">Наименьший допустимый диапазон — /29. Он обеспечивает восемь IP-адресов для подсети.</span><span class="sxs-lookup"><span data-stu-id="242ac-150">The smallest range you can specify is /29, which provides eight IP addresses for the subnet.</span></span> <span data-ttu-id="242ac-151">Azure резервирует первый и последний адреса в каждой подсети для соответствия требованиям протоколов.</span><span class="sxs-lookup"><span data-stu-id="242ac-151">Azure reserves the first and last address in each subnet for protocol conformance.</span></span> <span data-ttu-id="242ac-152">Еще три адреса резервируются для служб Azure.</span><span class="sxs-lookup"><span data-stu-id="242ac-152">Three additional addresses are reserved for Azure service usage.</span></span> <span data-ttu-id="242ac-153">Следовательно, если определить подсеть с диапазоном адресов /29, то в ней будет только три пригодных для использования IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="242ac-153">As a result, defining a subnet with a /29 address range results in three usable IP addresses in the subnet.</span></span> <span data-ttu-id="242ac-154">Если вы планируете подключать виртуальную сеть к VPN-шлюзу, необходимо создать подсеть шлюза.</span><span class="sxs-lookup"><span data-stu-id="242ac-154">If you plan to connect a virtual network to a VPN gateway, you must create a gateway subnet.</span></span> <span data-ttu-id="242ac-155">Узнайте больше о [рекомендациях по диапазонам адресов для подсетей шлюза](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span><span class="sxs-lookup"><span data-stu-id="242ac-155">Learn more about [specific address range considerations for gateway subnets](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span></span> <span data-ttu-id="242ac-156">При определенных условиях после создания подсети можно изменить диапазон адресов.</span><span class="sxs-lookup"><span data-stu-id="242ac-156">You can change the address range after the subnet is added, under specific conditions.</span></span> <span data-ttu-id="242ac-157">Сведения об изменении диапазона адресов подсети см. в разделе [Изменение параметров подсети](#change-subnet) этой статьи.</span><span class="sxs-lookup"><span data-stu-id="242ac-157">To learn how to change a subnet address range, see [Change subnet settings](#change-subnet) in this article.</span></span>
    - <span data-ttu-id="242ac-158">**Группа безопасности сети** (NSG). При необходимости вы можете связать с подсетью существующую группу безопасности сети, чтобы управлять фильтрацией входящего и исходящего сетевого трафика подсети.</span><span class="sxs-lookup"><span data-stu-id="242ac-158">**Network security group**: Optionally, you can associate an existing network security group with the subnet to control inbound and outbound network traffic filtering for the subnet.</span></span> <span data-ttu-id="242ac-159">Группа безопасности сети должна существовать в той же подписке и расположении, что и виртуальная сеть.</span><span class="sxs-lookup"><span data-stu-id="242ac-159">The network security group must exist in the same subscription and location as the virtual network.</span></span> <span data-ttu-id="242ac-160">Кроме того, она должна быть создана с использованием модели развертывания Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="242ac-160">It also must be created by using the Resource Manager deployment model.</span></span> <span data-ttu-id="242ac-161">Подробнее о создании группы безопасности сети см. в статье [Группы безопасности сети](virtual-networks-create-nsg-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="242ac-161">To learn more about how to create a network security group, see [Network security groups](virtual-networks-create-nsg-arm-pportal.md).</span></span>
    - <span data-ttu-id="242ac-162">**Таблица маршрутов**. С подсетью можно связать существующую таблицу маршрутов, чтобы управлять маршрутизацией сетевого трафика в другие сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-162">**Route table**: Optionally, you can associate an existing route table with the subnet to control network traffic routing to other networks.</span></span> <span data-ttu-id="242ac-163">Таблица маршрутов должна существовать в той же подписке и расположении, что и виртуальная сеть.</span><span class="sxs-lookup"><span data-stu-id="242ac-163">The route table must exist in the same subscription and location as the virtual network.</span></span> <span data-ttu-id="242ac-164">Кроме того, она должна быть создана с использованием модели развертывания Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="242ac-164">It also must be created by using the Resource Manager deployment model.</span></span> <span data-ttu-id="242ac-165">Подробнее о создании таблиц маршрутов см. в статье [Определяемые пользователем маршруты](virtual-network-create-udr-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="242ac-165">To learn more about how to create route tables, see [User-defined routes](virtual-network-create-udr-arm-ps.md).</span></span>
    - <span data-ttu-id="242ac-166">**Пользователи**. Можно управлять доступом к подсети, используя встроенные роли или собственные настраиваемые роли.</span><span class="sxs-lookup"><span data-stu-id="242ac-166">**Users**: You can control access to the subnet by using built-in roles or your own custom roles.</span></span> <span data-ttu-id="242ac-167">Подробнее о назначении ролей и пользователей для доступа к подсети см. в статье [Использование управления доступом на основе ролей для контроля доступа к ресурсам в подписке Azure](../active-directory/role-based-access-control-configure.md?toc=%2fazure%2fvirtual-network%2ftoc.json#add-access).</span><span class="sxs-lookup"><span data-stu-id="242ac-167">To learn more about assigning roles and users to access the subnet, see [Use role assignment to manage access to your Azure resources](../active-directory/role-based-access-control-configure.md?toc=%2fazure%2fvirtual-network%2ftoc.json#add-access).</span></span>
7. <span data-ttu-id="242ac-168">Чтобы добавить подсеть в выбранную виртуальную сеть, нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="242ac-168">To add the subnet to the virtual network that you selected, click **OK**.</span></span>

<span data-ttu-id="242ac-169">**Команды**</span><span class="sxs-lookup"><span data-stu-id="242ac-169">**Commands**</span></span>

|<span data-ttu-id="242ac-170">Средство</span><span class="sxs-lookup"><span data-stu-id="242ac-170">Tool</span></span>|<span data-ttu-id="242ac-171">Команда</span><span class="sxs-lookup"><span data-stu-id="242ac-171">Command</span></span>|
|---|---|
|<span data-ttu-id="242ac-172">Инфраструктура CLI Azure</span><span class="sxs-lookup"><span data-stu-id="242ac-172">Azure CLI</span></span>|[<span data-ttu-id="242ac-173">az network vnet subnet create</span><span class="sxs-lookup"><span data-stu-id="242ac-173">az network vnet subnet create</span></span>](/cli/azure/network/vnet/subnet?toc=%2fazure%2fvirtual-network%2ftoc.json#create)|
|<span data-ttu-id="242ac-174">PowerShell</span><span class="sxs-lookup"><span data-stu-id="242ac-174">PowerShell</span></span>|<span data-ttu-id="242ac-175">[New-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/new-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json), [Add-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/add-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)</span><span class="sxs-lookup"><span data-stu-id="242ac-175">[New-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/new-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json), [Add-AzureRmVirtualNetworkSubnetConfig](/powershell/module/azurerm.network/add-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)</span></span>|

## <span data-ttu-id="242ac-176"><a name="change-subnet"></a>Изменение параметров подсети</span><span class="sxs-lookup"><span data-stu-id="242ac-176"><a name="change-subnet"></a>Change subnet settings</span></span>

<span data-ttu-id="242ac-177">Вы можете изменить группы безопасности сети, таблицы маршрутов и уровень доступа пользователя к подсети, управляя ресурсами, подключенными к подсети.</span><span class="sxs-lookup"><span data-stu-id="242ac-177">You can change network security groups, route tables, and user access to a subnet by managing resources that are in a subnet.</span></span> <span data-ttu-id="242ac-178">Подробнее об этих параметрах см. в шаге 6 [Создание подсети](#create-subnet).</span><span class="sxs-lookup"><span data-stu-id="242ac-178">To learn about these settings, in [Add a subnet](#create-subnet), see step 6.</span></span> <span data-ttu-id="242ac-179">Если вам нужно изменить адресное пространство подсети, сначала необходимо удалить все подключенные к этой сети ресурсы.</span><span class="sxs-lookup"><span data-stu-id="242ac-179">If you want to change the address space of a subnet, you must first delete any resources that are in the subnet.</span></span> <span data-ttu-id="242ac-180">Конкретная процедура удаления ресурса зависит от его типа.</span><span class="sxs-lookup"><span data-stu-id="242ac-180">The steps you take to delete a resource vary depending on the resource.</span></span> <span data-ttu-id="242ac-181">Чтобы узнать, как удалить ресурсы, подключенные к подсети, прочтите документацию по всем типам ресурсов, которые вам необходимо удалить.</span><span class="sxs-lookup"><span data-stu-id="242ac-181">To learn how to delete resources that are in subnets, read the documentation for each resource type that you want to delete.</span></span> <span data-ttu-id="242ac-182">Изменение диапазона адресов для подсети</span><span class="sxs-lookup"><span data-stu-id="242ac-182">To change the address range for a subnet:</span></span>

1. <span data-ttu-id="242ac-183">Войдите на [портал](https://portal.azure.com) с помощью учетной записи, которой назначены разрешения роли "Участник сети" (как минимум) для подписки.</span><span class="sxs-lookup"><span data-stu-id="242ac-183">Sign in to the [portal](https://portal.azure.com) with an account that is assigned permissions for the Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="242ac-184">Дополнительные сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span><span class="sxs-lookup"><span data-stu-id="242ac-184">To learn more about assigning roles and permissions to accounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="242ac-185">В поле поиска на портале введите **виртуальные сети**.</span><span class="sxs-lookup"><span data-stu-id="242ac-185">In the portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="242ac-186">В результатах поиска щелкните **виртуальные сети**.</span><span class="sxs-lookup"><span data-stu-id="242ac-186">In the search results, click **Virtual networks**.</span></span>
3. <span data-ttu-id="242ac-187">В колонке **Виртуальные сети** щелкните виртуальную сеть, для подсети которой требуется изменить диапазон адресов.</span><span class="sxs-lookup"><span data-stu-id="242ac-187">On the **Virtual networks** blade, click the virtual network for which you want to change a subnet address range.</span></span>
4. <span data-ttu-id="242ac-188">Выберите подсеть, для которой нужно изменить диапазон адресов.</span><span class="sxs-lookup"><span data-stu-id="242ac-188">Click the subnet for which you want to change the address range.</span></span>
5. <span data-ttu-id="242ac-189">В колонке подсети в поле **Диапазон адресов** введите новый диапазон адресов.</span><span class="sxs-lookup"><span data-stu-id="242ac-189">On the subnet blade, in the **Address range** box, enter the new address range.</span></span> <span data-ttu-id="242ac-190">Диапазон должен быть уникальным в пределах адресного пространства виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-190">The range must be unique within the address space for the virtual network.</span></span> <span data-ttu-id="242ac-191">Диапазон не должен перекрываться с другими диапазонами адресов подсетей в виртуальной сети.</span><span class="sxs-lookup"><span data-stu-id="242ac-191">The range cannot overlap with other subnet address ranges within the virtual network.</span></span> <span data-ttu-id="242ac-192">Адресное пространство должно быть указано с помощью нотации CIDR.</span><span class="sxs-lookup"><span data-stu-id="242ac-192">The address space must be specified by using CIDR notation.</span></span> <span data-ttu-id="242ac-193">Например, в виртуальной сети с адресным пространством 10.0.0.0/16 можно определить адресное пространство подсети 10.0.0.0/24.</span><span class="sxs-lookup"><span data-stu-id="242ac-193">For example, in a virtual network with address space 10.0.0.0/16, you might define a subnet address space of 10.0.0.0/24.</span></span> <span data-ttu-id="242ac-194">Наименьший допустимый диапазон — /29. Он обеспечивает восемь IP-адресов для подсети.</span><span class="sxs-lookup"><span data-stu-id="242ac-194">The smallest range you can specify is /29, which provides eight IP addresses for the subnet.</span></span> <span data-ttu-id="242ac-195">Azure резервирует первый и последний адреса в каждой подсети для соответствия требованиям протоколов.</span><span class="sxs-lookup"><span data-stu-id="242ac-195">Azure reserves the first and last address in each subnet for protocol conformance.</span></span> <span data-ttu-id="242ac-196">Еще три адреса резервируются для служб Azure.</span><span class="sxs-lookup"><span data-stu-id="242ac-196">Three additional addresses are reserved for Azure service usage.</span></span> <span data-ttu-id="242ac-197">В результате подсеть с диапазоном адресов /29 содержит только три пригодных для использования IP-адреса.</span><span class="sxs-lookup"><span data-stu-id="242ac-197">As a result, a subnet with a /29 address range has three usable IP addresses.</span></span> <span data-ttu-id="242ac-198">Если вы планируете подключать виртуальную сеть к VPN-шлюзу, необходимо создать подсеть шлюза.</span><span class="sxs-lookup"><span data-stu-id="242ac-198">If you plan to connect a virtual network to a VPN gateway, you must create a gateway subnet.</span></span> <span data-ttu-id="242ac-199">Узнайте больше о [рекомендациях по диапазонам адресов для подсетей шлюза](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span><span class="sxs-lookup"><span data-stu-id="242ac-199">Learn more about [specific address range considerations for gateway subnets](../vpn-gateway/vpn-gateway-about-vpn-gateway-settings.md?toc=%2fazure%2fvirtual-network%2ftoc.json#gwsub).</span></span> <span data-ttu-id="242ac-200">При определенных условиях диапазон адресов после создания подсети можно изменить.</span><span class="sxs-lookup"><span data-stu-id="242ac-200">You can change the address range after the subnet is created, under specific conditions.</span></span> <span data-ttu-id="242ac-201">Сведения об изменении диапазона адресов подсети см. в разделе [Изменение параметров подсети](#change-subnet) этой статьи.</span><span class="sxs-lookup"><span data-stu-id="242ac-201">To learn how to change a subnet address range, see [Change subnet settings](#change-subnet) in this article.</span></span>
6. <span data-ttu-id="242ac-202">Щелкните **Сохранить**.</span><span class="sxs-lookup"><span data-stu-id="242ac-202">Click **Save**.</span></span>

<span data-ttu-id="242ac-203">**Команды**</span><span class="sxs-lookup"><span data-stu-id="242ac-203">**Commands**</span></span>

|<span data-ttu-id="242ac-204">Средство</span><span class="sxs-lookup"><span data-stu-id="242ac-204">Tool</span></span>|<span data-ttu-id="242ac-205">Команда</span><span class="sxs-lookup"><span data-stu-id="242ac-205">Command</span></span>|
|---|---|
|<span data-ttu-id="242ac-206">Инфраструктура CLI Azure</span><span class="sxs-lookup"><span data-stu-id="242ac-206">Azure CLI</span></span>|[<span data-ttu-id="242ac-207">az network vnet subnet update</span><span class="sxs-lookup"><span data-stu-id="242ac-207">az network vnet subnet update</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#update)|
|<span data-ttu-id="242ac-208">PowerShell</span><span class="sxs-lookup"><span data-stu-id="242ac-208">PowerShell</span></span>|[<span data-ttu-id="242ac-209">Set-AzureRmVirtualNetworkSubnetConfig</span><span class="sxs-lookup"><span data-stu-id="242ac-209">Set-AzureRmVirtualNetworkSubnetConfig</span></span>](/powershell/module/azurerm.network/set-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|


## <span data-ttu-id="242ac-210"><a name="delete-subnet"></a>Удаление подсети</span><span class="sxs-lookup"><span data-stu-id="242ac-210"><a name="delete-subnet"></a>Delete a subnet</span></span>

<span data-ttu-id="242ac-211">Подсеть можно удалить только если, к ней не подключены какие-либо ресурсы.</span><span class="sxs-lookup"><span data-stu-id="242ac-211">You can delete a subnet only if there are no resources in the subnet.</span></span> <span data-ttu-id="242ac-212">Если в подсети есть подключенные ресурсы, их необходимо удалить, и только потом — саму подсеть.</span><span class="sxs-lookup"><span data-stu-id="242ac-212">If there are resources in the subnet, you must delete the resources that are in the subnet before you can delete the subnet.</span></span> <span data-ttu-id="242ac-213">Конкретная процедура удаления ресурса зависит от его типа.</span><span class="sxs-lookup"><span data-stu-id="242ac-213">The steps you take to delete a resource vary depending on the resource.</span></span> <span data-ttu-id="242ac-214">Чтобы узнать, как удалить ресурсы, подключенные к подсети, прочтите документацию по всем типам ресурсов, которые вам необходимо удалить.</span><span class="sxs-lookup"><span data-stu-id="242ac-214">To learn how to delete resources that are in subnets, read the documentation for each resource type that you want to delete.</span></span> <span data-ttu-id="242ac-215">Удаление подсети</span><span class="sxs-lookup"><span data-stu-id="242ac-215">To delete a subnet:</span></span>

1. <span data-ttu-id="242ac-216">Войдите на [портал](https://portal.azure.com) с помощью учетной записи, которой назначены разрешения роли "Участник сети" (как минимум) для подписки.</span><span class="sxs-lookup"><span data-stu-id="242ac-216">Sign in to the [portal](https://portal.azure.com) with an account that is assigned permissions for the Network Contributor role (at a minimum) for your subscription.</span></span> <span data-ttu-id="242ac-217">Дополнительные сведения о назначении ролей и разрешений учетным записям см. в статье [Встроенные роли для управления доступом на основе ролей в Azure](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span><span class="sxs-lookup"><span data-stu-id="242ac-217">To learn more about assigning roles and permissions to accounts, see [Built-in roles for Azure role-based access control](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor).</span></span>
2. <span data-ttu-id="242ac-218">В поле поиска на портале введите **виртуальные сети**.</span><span class="sxs-lookup"><span data-stu-id="242ac-218">In the portal search box, enter **virtual networks**.</span></span> <span data-ttu-id="242ac-219">В результатах поиска щелкните **виртуальные сети**.</span><span class="sxs-lookup"><span data-stu-id="242ac-219">In the search results, click **Virtual networks**.</span></span>
3. <span data-ttu-id="242ac-220">В колонке **Виртуальные сети** щелкните виртуальную сеть, из которой требуется удалить подсеть.</span><span class="sxs-lookup"><span data-stu-id="242ac-220">On the **Virtual networks** blade, click the virtual network you want to delete a subnet from.</span></span>
4. <span data-ttu-id="242ac-221">В колонке виртуальной сети в разделе **ПАРАМЕТРЫ** выберите **Подсети**.</span><span class="sxs-lookup"><span data-stu-id="242ac-221">On the virtual network blade, under **SETTINGS**, click **Subnets**.</span></span>
5. <span data-ttu-id="242ac-222">В отобразившемся списке подсетей в колонке "Подсети" щелкните правой кнопкой мыши подсеть, которую нужно удалить, щелкните **Удалить**, затем щелкните **Да**, чтобы удалить подсеть.</span><span class="sxs-lookup"><span data-stu-id="242ac-222">In the list of subnets that appears on the subnets blade, right-click the subnet you want to delete, click **Delete**, and then click **Yes** to delete the subnet.</span></span>

<span data-ttu-id="242ac-223">**Команды**</span><span class="sxs-lookup"><span data-stu-id="242ac-223">**Commands**</span></span>

|<span data-ttu-id="242ac-224">Средство</span><span class="sxs-lookup"><span data-stu-id="242ac-224">Tool</span></span>|<span data-ttu-id="242ac-225">Команда</span><span class="sxs-lookup"><span data-stu-id="242ac-225">Command</span></span>|
|---|---|
|<span data-ttu-id="242ac-226">Инфраструктура CLI Azure</span><span class="sxs-lookup"><span data-stu-id="242ac-226">Azure CLI</span></span>|[<span data-ttu-id="242ac-227">az network vnet delete</span><span class="sxs-lookup"><span data-stu-id="242ac-227">az network vnet delete</span></span>](/cli/azure/network/vnet?toc=%2fazure%2fvirtual-network%2ftoc.json#delete)|
|<span data-ttu-id="242ac-228">PowerShell</span><span class="sxs-lookup"><span data-stu-id="242ac-228">PowerShell</span></span>|[<span data-ttu-id="242ac-229">Remove-AzureRmVirtualNetworkSubnetConfig</span><span class="sxs-lookup"><span data-stu-id="242ac-229">Remove-AzureRmVirtualNetworkSubnetConfig</span></span>](/powershell/module/azurerm.network/remove-azurermvirtualnetworksubnetconfig?toc=%2fazure%2fvirtual-network%2ftoc.json)|

## <span data-ttu-id="242ac-230"><a name="next-steps"></a>Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="242ac-230"><a name="next-steps"></a>Next steps</span></span>

<span data-ttu-id="242ac-231">Сведения о создании виртуальной машины в подсети см. в разделе [Создание виртуальных машин](virtual-network-get-started-vnet-subnet.md#create-vms).</span><span class="sxs-lookup"><span data-stu-id="242ac-231">To create a virtual machine in a subnet, see [Create a virtual network and deploy VMs in the subnet](virtual-network-get-started-vnet-subnet.md#create-vms).</span></span>
