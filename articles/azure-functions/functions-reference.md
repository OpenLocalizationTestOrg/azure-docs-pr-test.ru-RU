---
title: "Руководство по разработке для Функций Azure | Документация Майкрософт"
description: "Узнайте о концепциях и методах Функций Azure, необходимых для разработки функции в Azure, для всех языков программирования и привязок."
services: functions
documentationcenter: na
author: tdykstra
manager: cfowler
editor: 
tags: 
keywords: "руководство разработчика, Функции Azure, функции, обработка событий, объекты webhook, динамические вычисления, независимая архитектура"
ms.assetid: d8efe41a-bef8-4167-ba97-f3e016fcd39e
ms.service: functions
ms.devlang: multiple
ms.topic: reference
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 10/12/2017
ms.author: tdykstra
ms.openlocfilehash: 80996c8bc6e40665201057ed185700ddaeea170a
ms.sourcegitcommit: 29bac59f1d62f38740b60274cb4912816ee775ea
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/29/2017
---
# <a name="azure-functions-developers-guide"></a>Руководство для разработчиков по Функциям Azure
Некоторые из Функций Azure имеют ряд общих технических особенностей и компонентов вне зависимости от используемого языка или привязки. Прежде чем приступать к детальному изучению особенностей, характерных для определенного языка или привязки, ознакомьтесь с этими общими сведениями.

В этой статье предполагается, что вы уже прочитали [обзор функций Azure](functions-overview.md) и знакомы с [понятиями, связанными с пакетом SDK веб-заданий, такими как триггеры, привязки и среда выполнения JobHost](https://github.com/Azure/azure-webjobs-sdk/wiki). Функции Azure основаны на пакете SDK веб-заданий. 

## <a name="function-code"></a>Код функции
Ключевым элементом решения "Функции Azure" является *функция* . Вы пишете код функции на любом языке на свой выбор, а затем сохраняете файлы кода и конфигурации в одной папке. Файл конфигурации называется `function.json`. Он содержит данные конфигурации JSON. Поддерживаются различные языки, и способы работы с каждым из них немного различаются в целях удобства. 

Файл function.json определяет привязки функций и другие параметры конфигурации. В среде выполнения этот файл используется для определения событий, которые необходимо отслеживать, и способа передачи данных в выполнение функции и возвращения данных из него. Ниже приведен пример файла function.json.

```json
{
    "disabled":false,
    "bindings":[
        // ... bindings here
        {
            "type": "bindingType",
            "direction": "in",
            "name": "myParamName",
            // ... more depending on binding
        }
    ]
}
```

Чтобы функция не выполнялась, задайте для свойства `disabled` значение `true`.

В свойстве `bindings` указываются свойства триггеров и привязок. Каждая привязка имеет ряд общих параметров и некоторые параметры, характерные для этого типа привязки. Для каждой привязки требуются указанные ниже параметры.

| Свойство | Значения и типы | Комментарии |
| --- | --- | --- |
| `type` |string |Тип привязки. Пример: `queueTrigger`. |
| `direction` |"in", "out" |Указывает, служит ли привязка для получения данных в функции или для отправки их из функции. |
| `name` |строка |Имя, используемое для связанных данных в функции. Для C# это имя аргумента, а для JavaScript — ключ в списке ключей и значений. |

## <a name="function-app"></a>Приложение-функция
Приложение-функция состоит из одной или нескольких независимых функций, совместно управляемых службой приложений Azure. Для всех функций в приложении-функции действует один ценовой план, непрерывное развертывание и версия среды выполнения. В одном приложении-функции можно объединить функции, написанные на разных языках. Приложение-функцию можно рассматривать как способ упорядочения функций и совместного управления ими. 

## <a name="runtime-script-host-and-web-host"></a>Среда выполнения (средство обработки сценариев и веб-узел)
Среда выполнения (также называемая средством обработки сценариев) является базовым узлом пакета SDK веб-заданий, который прослушивает события, собирает и отправляет данные и, самое главное, выполняет ваш код. 

Чтобы упростить инициацию триггеров HTTP, также используется веб-узел, который размещается перед средством обработки сценариев в рабочих средах. Два узла обеспечивают изоляцию средств обработки скриптов от трафика переднего плана, которым управляет веб-узел.

## <a name="folder-structure"></a>Структура папок
[!INCLUDE [functions-folder-structure](../../includes/functions-folder-structure.md)]

При разработке проекта по развертыванию функций в приложении-функции в службе приложений Azure эту структуру папок можно рассматривать как код сайта. Для установки пакетов или транспиляции кода во время развертывания можно использовать существующие средства, такие как непрерывная интеграция и развертывание, или пользовательские сценарии развертывания.

> [!NOTE]
> Разверните свой файл `host.json` и папки функции непосредственно в папку `wwwroot`. Не включайте папку `wwwroot` в развертывания. В противном случае вы получите папки `wwwroot\wwwroot`. 
> 
> 

## <a id="fileupdate"></a> Как обновить файлы приложения-функции
Редактор функций на портале Azure позволяет обновлять файл *function.json* и файл кода для функции. Чтобы передавать или обновлять другие файлы (например, *package.json* и *project.json*) или зависимости, необходимо использовать другие методы развертывания.

Приложения-функции создаются на базе службы приложений, поэтому для этих приложений доступны все [параметры развертывания, доступные для стандартных веб-приложений](../app-service/app-service-deploy-local-git.md). Ниже перечислены методы, с помощью которых можно передавать или обновлять файлы приложения-функции. 

#### <a name="to-use-app-service-editor"></a>Использование редактора службы приложений
1. На портале службы "Функции Azure" щелкните **Функции платформы**.
2. В разделе **Средства разработки** щелкните **Редактор службы приложений**.   
   После загрузки редактора службы приложений файл *host.json* и папки функций отобразятся в разделе *wwwroot*. 
5. Откройте файлы, чтобы изменить их, или передайте файлы, перетащив их с компьютера, на котором ведется разработка.

#### <a name="to-use-the-function-apps-scm-kudu-endpoint"></a>Использование конечной точки SCM (Kudu) приложения-функции
1. Перейдите на страницу `https://<function_app_name>.scm.azurewebsites.net`.
2. Щелкните **Консоль отладки > CMD**.
3. Перейдите по пути `D:\home\site\wwwroot\`, чтобы обновить файл *host.json*, или `D:\home\site\wwwroot\<function_name>`, чтобы обновить файлы функции.
4. Перетащите файл, который необходимо передать, в соответствующую папку на файловой сетке. В файловой сетке есть две области, куда можно перетащить файл. Для *ZIP* -файлов появится поле "Drag here to upload and unzip" (Перетащите сюда, чтобы передать и распаковать). Файлы других типов следует перетаскивать на сетку, но за пределами поля для распаковки.

<!--NOTE: I've removed documentation on FTP, because it does not sync triggers on the consumption plan --glenga -->

#### <a name="to-use-continuous-deployment"></a>Включение непрерывного развертывания
Выполните инструкции из статьи [о непрерывном развертывании для функций Azure](functions-continuous-deployment.md).

## <a name="parallel-execution"></a>Параллельное выполнение
Если однопотоковая среда выполнения функций не успевает обрабатывать активируемые события, она может вызывать функцию несколько раз в параллельном режиме.  Если для приложения-функции используется [план потребления](functions-scale.md#how-the-consumption-plan-works), это приложение может автоматически развертываться.  Каждый экземпляр приложения-функции, как при использовании плана потребления, так и при использовании обычного [плана размещения службы приложений](../app-service/azure-web-sites-web-hosting-plans-in-depth-overview.md), может обрабатывать несколько параллельных вызовов функции с помощью нескольких потоков.  Максимальное количество одновременных вызовов функции в каждом экземпляре приложения-функции зависит от типа триггера и ресурсов, используемых функциями в приложении-функции.

## <a name="functions-runtime-versioning"></a>Управление версиями среды выполнения Функций

Версию среды выполнения Функций можно настроить с помощью параметра приложения `FUNCTIONS_EXTENSION_VERSION`. Например, значение "~1" указывает на то, что приложение-функция будет использовать 1 в качестве основного номера версии. При выпуске приложения-функции обновляются до версии с новым дополнительным номером. Дополнительные сведения, в том числе инструкции по просмотру точной версии приложения-функции см. в статье [Выбор целевых версий среды выполнения Функций Azure](functions-versions.md).

## <a name="repositories"></a>Репозитории
Код функций Azure имеет вид открытого исходного кода и хранится в репозиториях GitHub:

* [среда выполнения функций Azure;](https://github.com/Azure/azure-webjobs-sdk-script/)
* [портал функций Azure;](https://github.com/projectkudu/AzureFunctionsPortal)
* [шаблоны функций Azure;](https://github.com/Azure/azure-webjobs-sdk-templates/)
* [пакет Azure SDK для веб-заданий;](https://github.com/Azure/azure-webjobs-sdk/)
* [расширения пакета Azure SDK для веб-заданий.](https://github.com/Azure/azure-webjobs-sdk-extensions/)

## <a name="bindings"></a>Привязки
В таблице ниже приведены все поддерживаемые привязки.

[!INCLUDE [dynamic compute](../../includes/functions-bindings.md)]

## <a name="reporting-issues"></a>Создание отчетов о проблемах
[!INCLUDE [Reporting Issues](../../includes/functions-reporting-issues.md)]

## <a name="next-steps"></a>Дальнейшие действия
Для получения дополнительных сведений см. следующие ресурсы:

* [Best Practices for Azure Functions](functions-best-practices.md) (Рекомендации по Функциям Azure)
* [Справочник разработчика C# по функциям Azure](functions-reference-csharp.md)
* [Справочник разработчика F# по функциям Azure](functions-reference-fsharp.md)
* [Справочник разработчика NodeJS по функциям Azure](functions-reference-node.md)
* [Azure Functions triggers and bindings (Триггеры и привязки в Функциях Azure)](functions-triggers-bindings.md)
* [Azure Functions: The Journey](https://blogs.msdn.microsoft.com/appserviceteam/2016/04/27/azure-functions-the-journey/) (Функции Azure: путешествие) в блоге группы разработчиков службы приложений Azure. В этой статье рассказывается история создания функций Azure.

