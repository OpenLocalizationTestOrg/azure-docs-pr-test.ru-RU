---
title: "Как добавить источник событий Центра Интернета вещей в среду Azure Time Series Insights | Документация Майкрософт"
description: "В этом руководстве описывается, как добавить источник события, подключенный к Центру Интернета вещей и к среде Time Series Insights."
keywords: 
services: time-series-insights
documentationcenter: 
author: sandshadow
manager: almineev
editor: cgronlun
ms.assetid: 
ms.service: time-series-insights
ms.devlang: na
ms.topic: how-to-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/19/2017
ms.author: edett
ms.openlocfilehash: 72037677fac528ff8174d25b474ca7e70826a7b0
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-add-an-iot-hub-event-source"></a><span data-ttu-id="cbe9d-103">Как создать источник событий Центра Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="cbe9d-103">How to add an IoT Hub event source</span></span>

<span data-ttu-id="cbe9d-104">В этом руководстве описывается, как добавить источник события, считывающий данные из Центра Интернета вещей в среду Time Series Insights, с помощью портала Azure.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-104">This tutorial covers how to use the Azure portal to add an event source that reads from an IoT Hub to your Time Series Insights environment.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="cbe9d-105">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="cbe9d-105">Prerequisites</span></span>

<span data-ttu-id="cbe9d-106">Вы создали Центр Интернета вещей и записываете события в него.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-106">You have created an IoT Hub and are writing events to it.</span></span> <span data-ttu-id="cbe9d-107">Дополнительные сведения о Центрах Интернета вещей см. по адресу <https://azure.microsoft.com/services/iot-hub/>.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-107">For more information on IoT Hubs, see <https://azure.microsoft.com/services/iot-hub/></span></span>

> <span data-ttu-id="cbe9d-108">[Групп потребителей] Каждый источник событий Time Series Insights должен иметь собственную выделенную группу потребителей, не используемую другими потребителями.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-108">[Consumer Groups] Each Time Series Insights event source needs to have its own dedicated consumer group that is not shared with any other consumers.</span></span> <span data-ttu-id="cbe9d-109">Если несколько модулей чтения используют события из одной группы потребителей, как правило, во всех модулях могут произойти сбои.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-109">If multiple readers consume events from the same consumer group, all readers are likely to see failures.</span></span> <span data-ttu-id="cbe9d-110">Дополнительные сведения см. в статье [Руководство разработчика по центру Azure IoT (IoT — Интернет вещей)](../iot-hub/iot-hub-devguide.md).</span><span class="sxs-lookup"><span data-stu-id="cbe9d-110">For details, see the [IoT Hub developer guide](../iot-hub/iot-hub-devguide.md).</span></span>

## <a name="choose-an-import-option"></a><span data-ttu-id="cbe9d-111">Выбор параметра импорта</span><span class="sxs-lookup"><span data-stu-id="cbe9d-111">Choose an Import option</span></span>

<span data-ttu-id="cbe9d-112">Параметры источника событий можно ввести вручную или же можно выбрать Центр Интернета вещей из списка доступных.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-112">The settings for the event source can be entered manually or an IoT hub can be selected from the IoT hubs that are available to you.</span></span>
<span data-ttu-id="cbe9d-113">В инструменте выбора **Параметр импорта** выберите один из следующих вариантов:</span><span class="sxs-lookup"><span data-stu-id="cbe9d-113">In the **Import Option** selector, choose one of the following options:</span></span>

* <span data-ttu-id="cbe9d-114">Указать параметры Центра Интернета вещей вручную.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-114">Provide IoT Hub settings manually</span></span>
* <span data-ttu-id="cbe9d-115">Использовать Центр Интернета вещей из доступных подписок.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-115">Use IoT Hub from available subscriptions</span></span>

### <a name="select-an-available-iot-hub"></a><span data-ttu-id="cbe9d-116">Выбор доступного Центра Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="cbe9d-116">Select an available IoT Hub</span></span>

<span data-ttu-id="cbe9d-117">В следующей таблице представлены все параметры на вкладке "Новый источник событий" с описанием при выборе доступного Центра Интернета вещей в качестве источника событий:</span><span class="sxs-lookup"><span data-stu-id="cbe9d-117">The following table explains each option in the New Event Source tab with its description when selecting an available IoT Hub as an event source:</span></span>

| <span data-ttu-id="cbe9d-118">Имя свойства</span><span class="sxs-lookup"><span data-stu-id="cbe9d-118">PROPERTY NAME</span></span> | <span data-ttu-id="cbe9d-119">Описание</span><span class="sxs-lookup"><span data-stu-id="cbe9d-119">DESCRIPTION</span></span> |
| --- | --- |
| <span data-ttu-id="cbe9d-120">Имя источника события</span><span class="sxs-lookup"><span data-stu-id="cbe9d-120">Event source name</span></span> | <span data-ttu-id="cbe9d-121">Имя источника события.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-121">The name of your event source.</span></span> <span data-ttu-id="cbe9d-122">Это имя должно быть уникальным в среде Time Series Insights.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-122">This name must be unique within your Time Series Insights environment.</span></span>
| <span data-ttu-id="cbe9d-123">Источник</span><span class="sxs-lookup"><span data-stu-id="cbe9d-123">Source</span></span> | <span data-ttu-id="cbe9d-124">Выберите **Центр Интернета вещей** для создания такого источника событий, как Центр Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-124">Choose **IoT Hub** to create an IoT Hub event source.</span></span>
| <span data-ttu-id="cbe9d-125">идентификатор подписки;</span><span class="sxs-lookup"><span data-stu-id="cbe9d-125">Subscription Id</span></span> | <span data-ttu-id="cbe9d-126">Выберите подписку, в которой был создан этот Центр Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-126">Select the subscription in which this IoT hub was created.</span></span>
| <span data-ttu-id="cbe9d-127">IoT hub name (Имя Центра Интернета вещей)</span><span class="sxs-lookup"><span data-stu-id="cbe9d-127">IoT hub name</span></span> | <span data-ttu-id="cbe9d-128">Выберите имя Центра Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-128">Select the name of the IoT Hub.</span></span>
| <span data-ttu-id="cbe9d-129">IoT hub policy name (Имя политики Центра Интернета вещей)</span><span class="sxs-lookup"><span data-stu-id="cbe9d-129">IoT hub policy name</span></span> | <span data-ttu-id="cbe9d-130">Выберите политику общего доступа, которую можно найти на вкладке "Параметры" Центра Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-130">Select the shared access policy, which can be found on the IoT Hub settings tab.</span></span> <span data-ttu-id="cbe9d-131">Каждой политике общего доступа присваивается имя, а также для нее задаются разрешения и ключи доступа.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-131">Each shared access policy has a name, permissions that you set, and access keys.</span></span> <span data-ttu-id="cbe9d-132">Политика общего доступа для источника событий *должна* иметь разрешения на **подключение службы**.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-132">The shared access policy for your event source *must* have **service connect** permissions.</span></span>
| <span data-ttu-id="cbe9d-133">Группа потребителей Центра Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="cbe9d-133">IoT hub consumer group</span></span> | <span data-ttu-id="cbe9d-134">Группа потребителей для чтения событий из Центра Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-134">The Consumer Group to read events from the IoT Hub.</span></span> <span data-ttu-id="cbe9d-135">Мы настоятельно рекомендуем использовать выделенную группу потребителей для источника событий.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-135">It is highly recommended to use a dedicated consumer group for your event source.</span></span>

### <a name="provide-iot-hub-settings-manually"></a><span data-ttu-id="cbe9d-136">Указать параметры Центра Интернета вещей вручную.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-136">Provide IoT Hub settings manually</span></span>

<span data-ttu-id="cbe9d-137">В следующей таблице представлены все свойства на вкладке "Новый источник событий" с описанием при вводе параметров вручную:</span><span class="sxs-lookup"><span data-stu-id="cbe9d-137">The following table explains each property in the New Event Source tab with its description when entering settings manually:</span></span>

| <span data-ttu-id="cbe9d-138">Имя свойства</span><span class="sxs-lookup"><span data-stu-id="cbe9d-138">PROPERTY NAME</span></span> | <span data-ttu-id="cbe9d-139">Описание</span><span class="sxs-lookup"><span data-stu-id="cbe9d-139">DESCRIPTION</span></span> |
| --- | --- |
| <span data-ttu-id="cbe9d-140">Имя источника события</span><span class="sxs-lookup"><span data-stu-id="cbe9d-140">Event source name</span></span> | <span data-ttu-id="cbe9d-141">Имя источника события.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-141">The name of your event source.</span></span> <span data-ttu-id="cbe9d-142">Это имя должно быть уникальным в среде Time Series Insights.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-142">This name must be unique within your Time Series Insights environment.</span></span>
| <span data-ttu-id="cbe9d-143">Источник</span><span class="sxs-lookup"><span data-stu-id="cbe9d-143">Source</span></span> | <span data-ttu-id="cbe9d-144">Выберите **Центр Интернета вещей** для создания такого источника событий, как Центр Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-144">Choose **IoT Hub** to create an IoT Hub event source.</span></span>
| <span data-ttu-id="cbe9d-145">идентификатор подписки;</span><span class="sxs-lookup"><span data-stu-id="cbe9d-145">Subscription Id</span></span> | <span data-ttu-id="cbe9d-146">Подписка, в которой был создан этот Центр Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-146">The subscription in which this IoT hub was created.</span></span>
| <span data-ttu-id="cbe9d-147">Группа ресурсов</span><span class="sxs-lookup"><span data-stu-id="cbe9d-147">Resource group</span></span> | <span data-ttu-id="cbe9d-148">Подписка, в которой был создан этот Центр Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-148">The subscription in which this IoT hub was created.</span></span>
| <span data-ttu-id="cbe9d-149">IoT hub name (Имя Центра Интернета вещей)</span><span class="sxs-lookup"><span data-stu-id="cbe9d-149">IoT hub name</span></span> | <span data-ttu-id="cbe9d-150">Имя Центра Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-150">The name of your IoT Hub.</span></span> <span data-ttu-id="cbe9d-151">При создании вы также дали Центру Интернета вещей определенное имя.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-151">When you created your IoT hub, you also gave it a specific name</span></span>
| <span data-ttu-id="cbe9d-152">IoT hub policy name (Имя политики Центра Интернета вещей)</span><span class="sxs-lookup"><span data-stu-id="cbe9d-152">IoT hub policy name</span></span> | <span data-ttu-id="cbe9d-153">Политика общего доступа, которую можно создать на вкладке "Параметры" Центра Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-153">The shared access policy, which can be created on the IoT Hub settings tab.</span></span> <span data-ttu-id="cbe9d-154">Каждой политике общего доступа присваивается имя, а также для нее задаются разрешения и ключи доступа.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-154">Each shared access policy has a name, permissions that you set, and access keys.</span></span> <span data-ttu-id="cbe9d-155">Политика общего доступа для источника событий *должна* иметь разрешения на **подключение службы**.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-155">The shared access policy for your event source *must* have **service connect** permissions.</span></span>
| <span data-ttu-id="cbe9d-156">Ключ политики Центра Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="cbe9d-156">IoT hub policy key</span></span> | <span data-ttu-id="cbe9d-157">Ключ общего доступа, используемый для проверки подлинности при получении доступа к пространству имен служебной шины.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-157">The Shared Access key used to authenticate access to the Service Bus namespace.</span></span> <span data-ttu-id="cbe9d-158">Введите первичный или вторичный ключ здесь.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-158">Type the primary or secondary key here.</span></span>
| <span data-ttu-id="cbe9d-159">Группа потребителей Центра Интернета вещей</span><span class="sxs-lookup"><span data-stu-id="cbe9d-159">IoT hub consumer group</span></span> | <span data-ttu-id="cbe9d-160">Группа потребителей для чтения событий из Центра Интернета вещей.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-160">The Consumer Group to read events from the IoT Hub.</span></span> <span data-ttu-id="cbe9d-161">Мы настоятельно рекомендуем использовать выделенную группу потребителей для источника событий.</span><span class="sxs-lookup"><span data-stu-id="cbe9d-161">It is highly recommended to use a dedicated consumer group for your event source.</span></span>

## <a name="next-steps"></a><span data-ttu-id="cbe9d-162">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="cbe9d-162">Next steps</span></span>

1. <span data-ttu-id="cbe9d-163">Добавьте политику доступа к данным в среде ([Предоставление доступа к данным для среды Time Series Insights с помощью портала Azure](time-series-insights-data-access.md)).</span><span class="sxs-lookup"><span data-stu-id="cbe9d-163">Add a data access policy to your environment [Define data access policies](time-series-insights-data-access.md)</span></span>
1. <span data-ttu-id="cbe9d-164">Получите доступ к своей среде на [портале Time Series Insights](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="cbe9d-164">Access your environment in the [Time Series Insights Portal](https://insights.timeseries.azure.com)</span></span>