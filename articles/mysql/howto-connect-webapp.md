---
title: "Подключение существующей службы приложений Azure к базе данных Azure для MySQL | Документы Майкрософт"
description: "Инструкции по правильному подключению существующей службы приложений Azure к базе данных Azure для MySQL"
services: mysql
author: v-chenyh
ms.author: v-chenyh
editor: jasonwhowell
manager: jhubbard
ms.service: mysql-database
ms.topic: article
ms.date: 05/23/2017
ms.openlocfilehash: 735e21e8135d67405ec6b88d75be1711a2f071f0
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="connect-an-existing-azure-app-service-to-azure-database-for-mysql-server"></a>Подключение существующей службы приложений Azure к базе данных Azure для сервера MySQL
В этом документе объясняется, как подключить существующую службу приложений Azure к базе данных Azure для сервера MySQL.

## <a name="before-you-begin"></a>Перед началом работы
Войдите на [портал Azure](https://portal.azure.com). Создайте базу данных Azure для сервера MySQL. Дополнительные сведения см. в статье [Создание базы данных Azure для сервера MySQL с помощью портала Azure](quickstart-create-mysql-server-database-using-azure-portal.md) или [Создание сервера базы данных Azure для MySQL с помощью Azure CLI](quickstart-create-mysql-server-database-using-azure-cli.md).

В настоящее время существует два решения предоставления доступа из службы приложений Azure к базе данных Azure для MySQL. Оба решения включают настройку правил брандмауэра уровня сервера.

## <a name="solution-1---create-a-firewall-rule-to-allow-all-ips"></a>Решение 1. Создание правила брандмауэра, разрешающего все IP-адреса
База данных Azure для MySQL обеспечивает безопасность доступа, используя брандмауэр для защиты данных. При настройке подключения из службы приложений Azure к базе данных Azure для сервера MySQL имейте в виду, что исходящие IP-адреса службы приложений являются динамическими по своей природе. 

Чтобы обеспечить доступность службы приложений Azure, рекомендуется выбрать это решение, разрешив ВСЕ IP-адреса.

> [!NOTE]
> Специалисты Майкрософт находятся в поиске долгосрочного решения, которое позволит отказаться от разрешения всех IP-адресов, предоставляя доступ службы приложений Azure к базе данных Azure для MySQL.

1. В колонке сервера MySQL в разделе "Параметры" щелкните **Безопасность подключения**, чтобы открыть колонку "Безопасность подключения" базы данных Azure для MySQL.

   ![Портал Azure: щелчок пункта "Безопасность подключения"](./media/howto-manage-firewall-using-portal/1-connection-security.png)

2. Введите значения в полях **ИМЯ ПРАВИЛА**, **НАЧАЛЬНЫЙ IP-АДРЕС** и **КОНЕЧНЫЙ IP-АДРЕС**. Нажмите кнопку **Сохранить**.
   - Имя правила: Allow-All-IPs
   - Начальный IP-адрес: 0.0.0.0
   - Конечный IP-адрес: 255.255.255.255

   ![Портал Azure — добавление всех IP-адресов](./media/howto-connect-webapp/1_2-add-all-ips.png)

## <a name="solution-2---create-a-firewall-rule-to-explicitly-allow-outbound-ips"></a>Решение 2. Создание правила брандмауэра, явно разрешающего исходящие IP-адреса
Вы можете явно добавить все исходящие IP-адреса службы приложений Azure.

1. В колонке "Свойства службы приложений" обратите внимание на поле **ИСХОДЯЩИЙ IP-АДРЕС**.

   ![Портал Azure — просмотр исходящих IP-адресов](./media/howto-connect-webapp/2_1-outbound-ip-address.png)

2. В колонке "Безопасность подключения" для MySQL добавьте исходящие IP-адреса по одному.

   ![Портал Azure — добавление явных IP-адресов](./media/howto-connect-webapp/2_2-add-explicit-ips.png)

3. Не забывайте **сохранять** правила брандмауэра.

Хотя служба приложений Azure пытается поддерживать постоянные IP-адреса, бывают случаи, когда IP-адреса могут измениться. Например, это происходит, когда приложение выполняет очистку или возникает операция масштабирования, а также при добавлении новых виртуальных машин в региональные центры обработки данных Azure для повышения емкости. При изменении IP-адресов может наблюдаться простой приложения, если оно больше не может подключиться к серверу MySQL. Учтите эту вероятность при выборе решения.

## <a name="ssl-configuration"></a>Настройка SSL
Протокол SSL по умолчанию включен для базы данных Azure для MySQL. Если приложение не использует SSL для подключения к базе данных, необходимо отключить SSL для сервера MySQL. Дополнительные сведения о настройке SSL см. в статье, посвященной [использованию SSL-подключений с базой данных Azure для MySQL](howto-configure-ssl.md).

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения о строках подключения см. в [соответствующей статье](howto-connection-string.md).
