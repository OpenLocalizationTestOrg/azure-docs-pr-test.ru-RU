---
title: "aaaUnderstanding предупреждения в службе анализа журналов Azure | Документы Microsoft"
description: "Предупреждения в службе анализа журналов определить важную информацию в репозитории OMS и можно заранее уведомлять вас о проблемах или вызова действия tooattempt toocorrect их.  В этой статье описываются hello различные виды правил оповещений и как они определяются."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6cfd2a46-b6a2-4f79-a67b-08ce488f9a91
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: bwren
ms.openlocfilehash: bfa0a5aaeca81674e79a6d647f36d937efeeb439
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="understanding-alerts-in-log-analytics"></a><span data-ttu-id="29dba-104">Общие сведения об оповещениях в Log Analytics</span><span class="sxs-lookup"><span data-stu-id="29dba-104">Understanding alerts in Log Analytics</span></span>

<span data-ttu-id="29dba-105">Оповещения в Log Analytics содержат важную информацию о вашем репозитории Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="29dba-105">Alerts in Log Analytics identify important information in your Log Analytics repository.</span></span>  <span data-ttu-id="29dba-106">В этой статье подробно описаны правила, как оповещения в работе службы анализа журналов и описание hello различия между различными типами правил оповещения.</span><span class="sxs-lookup"><span data-stu-id="29dba-106">This article provides details of how alert rules in Log Analytics work and describes hello differences between different types of alert rules.</span></span>

<span data-ttu-id="29dba-107">Hello процесс создания правила оповещения см. следующие статьи hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-107">For hello process of creating alert rules, see hello following articles:</span></span>

- <span data-ttu-id="29dba-108">создание правил генерации оповещений на [портале Azure](log-analytics-alerts-creating.md);</span><span class="sxs-lookup"><span data-stu-id="29dba-108">Create alert rules using [Azure portal](log-analytics-alerts-creating.md)</span></span>
- <span data-ttu-id="29dba-109">создание правил генерации оповещений с помощью [шаблона Resource Manager](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md);</span><span class="sxs-lookup"><span data-stu-id="29dba-109">Create alert rules using [Resource Manager template](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span></span>
- <span data-ttu-id="29dba-110">создание правил генерации оповещений с помощью [REST API](log-analytics-api-alerts.md).</span><span class="sxs-lookup"><span data-stu-id="29dba-110">Create alert rules using [REST API](log-analytics-api-alerts.md)</span></span>


## <a name="alert-rules"></a><span data-ttu-id="29dba-111">Правила оповещения</span><span class="sxs-lookup"><span data-stu-id="29dba-111">Alert rules</span></span>

<span data-ttu-id="29dba-112">Оповещения создаются с помощью правил оповещения, которые автоматически выполняют поиск по журналам через регулярные интервалы.</span><span class="sxs-lookup"><span data-stu-id="29dba-112">Alerts are created by alert rules that automatically run log searches at regular intervals.</span></span>  <span data-ttu-id="29dba-113">Если результаты поиска журналов hello hello соответствует конкретным условиям, создается запись предупреждений.</span><span class="sxs-lookup"><span data-stu-id="29dba-113">If hello results of hello log search match particular criteria then an alert record is created.</span></span>  <span data-ttu-id="29dba-114">правило Hello можно автоматически выполните одну или дополнительные действия tooproactively уведомит hello предупреждения или вызвать другой процесс.</span><span class="sxs-lookup"><span data-stu-id="29dba-114">hello rule can then automatically run one or more actions tooproactively notify you of hello alert or invoke another process.</span></span>  <span data-ttu-id="29dba-115">Этот анализ различных типов правил оповещения используется tooperform другой логикой.</span><span class="sxs-lookup"><span data-stu-id="29dba-115">Different types of alert rules use different logic tooperform this analysis.</span></span>

![Оповещения Log Analytics](media/log-analytics-alerts/overview.png)

<span data-ttu-id="29dba-117">Правила оповещения определяются hello, приведенные ниже сведения.</span><span class="sxs-lookup"><span data-stu-id="29dba-117">Alert Rules are defined by hello following details:</span></span>

- <span data-ttu-id="29dba-118">**Поиск по журналам**.</span><span class="sxs-lookup"><span data-stu-id="29dba-118">**Log search**.</span></span>  <span data-ttu-id="29dba-119">Hello запрос, который выполняется каждый раз, срабатывает правило генерации оповещений hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-119">hello query that runs every time hello alert rule fires.</span></span>  <span data-ttu-id="29dba-120">Hello записей, возвращаемых этим запросом является используется toodetermine ли создаваться оповещение.</span><span class="sxs-lookup"><span data-stu-id="29dba-120">hello records returned by this query is used toodetermine whether an alert is created.</span></span>
- <span data-ttu-id="29dba-121">**Временное окно**.</span><span class="sxs-lookup"><span data-stu-id="29dba-121">**Time window**.</span></span>  <span data-ttu-id="29dba-122">Указывает диапазон времени hello для запроса hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-122">Specifies hello time range for hello query.</span></span>  <span data-ttu-id="29dba-123">Hello запрос возвращает только те записи, которые были созданы в течение этого интервала hello текущее время.</span><span class="sxs-lookup"><span data-stu-id="29dba-123">hello query returns only records that were created within this range of hello current time.</span></span>  <span data-ttu-id="29dba-124">Это значение может составлять от 5 минут до 24 часов.</span><span class="sxs-lookup"><span data-stu-id="29dba-124">This can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="29dba-125">Например если hello время устанавливается окна too60 минут, а hello запрос выполняется в 13:15, возвращается только записи, созданные между 12:15 PM и 1:15 PM.</span><span class="sxs-lookup"><span data-stu-id="29dba-125">For example, If hello time window is set too60 minutes, and hello query is run at 1:15 PM, only records created between 12:15 PM and 1:15 PM is returned.</span></span>
- <span data-ttu-id="29dba-126">**Частота**.</span><span class="sxs-lookup"><span data-stu-id="29dba-126">**Frequency**.</span></span>  <span data-ttu-id="29dba-127">Указывает, как часто hello должен выполняться запрос.</span><span class="sxs-lookup"><span data-stu-id="29dba-127">Specifies how often hello query should be run.</span></span> <span data-ttu-id="29dba-128">Это значение может составлять от 5 минут до 24 часов.</span><span class="sxs-lookup"><span data-stu-id="29dba-128">Can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="29dba-129">Должно быть равно tooor меньше временного окна hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-129">Should be equal tooor less than hello time window.</span></span>  <span data-ttu-id="29dba-130">Если значение hello превышает временное окно приветствия, существует риск записей будет пропущено.</span><span class="sxs-lookup"><span data-stu-id="29dba-130">If hello value is greater than hello time window, then you risk records being missed.</span></span><br><span data-ttu-id="29dba-131">Например, рассмотрим временное окно в 30 минут и частоту в 60 минут.</span><span class="sxs-lookup"><span data-stu-id="29dba-131">For example, consider a time window of 30 minutes and a frequency of 60 minutes.</span></span>  <span data-ttu-id="29dba-132">Если hello запрос выполняется в 1:00, он возвращает записи от 12:30 до 1:00 PM.</span><span class="sxs-lookup"><span data-stu-id="29dba-132">If hello query is run at 1:00, it returns records between 12:30 and 1:00 PM.</span></span>  <span data-ttu-id="29dba-133">Hello очередного запроса hello запустит — 2:00, когда она возвратит записей от 1:30 до 2:00.</span><span class="sxs-lookup"><span data-stu-id="29dba-133">hello next time hello query would run is 2:00 when it would return records between 1:30 and 2:00.</span></span>  <span data-ttu-id="29dba-134">Записи, созданные между 13:00 и 13:30, не будут учитываться.</span><span class="sxs-lookup"><span data-stu-id="29dba-134">Any records created between 1:00 and 1:30 would never be evaluated.</span></span>
- <span data-ttu-id="29dba-135">**Пороговое значение**.</span><span class="sxs-lookup"><span data-stu-id="29dba-135">**Threshold**.</span></span>  <span data-ttu-id="29dba-136">Hello результаты поиска журналов hello, вычисленное toodetermine ли создаваться оповещение.</span><span class="sxs-lookup"><span data-stu-id="29dba-136">hello results of hello log search are evaluated toodetermine whether an alert should be created.</span></span>  <span data-ttu-id="29dba-137">Пороговое значение Hello отличается для различных типов hello правил оповещения.</span><span class="sxs-lookup"><span data-stu-id="29dba-137">hello threshold is different for hello different types of alert rules.</span></span>

<span data-ttu-id="29dba-138">Каждое правило генерации оповещений в Log Analytics относится к одному из двух типов.</span><span class="sxs-lookup"><span data-stu-id="29dba-138">Each alert rule in Log Analytics is one of two types.</span></span>  <span data-ttu-id="29dba-139">Каждый из этих типов подробно описан в последующих разделах hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-139">Each of these types is described in detail in hello sections that follow.</span></span>

- <span data-ttu-id="29dba-140">**[Число результатов](#number-of-results-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="29dba-140">**[Number of results](#number-of-results-alert-rules)**.</span></span> <span data-ttu-id="29dba-141">Одно предупреждение, созданные при возврате hello число записей поиска журналов hello превышать указанного числа.</span><span class="sxs-lookup"><span data-stu-id="29dba-141">Single alert created when hello number records returned by hello log search exceed a specified number.</span></span>
- <span data-ttu-id="29dba-142">**[Измерение метрик](#metric-measurement-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="29dba-142">**[Metric measurement](#metric-measurement-alert-rules)**.</span></span>  <span data-ttu-id="29dba-143">Предупреждение создано для каждого объекта в hello результатов поиска журналов hello со значениями, которые превышают заданное пороговое значение.</span><span class="sxs-lookup"><span data-stu-id="29dba-143">Alert created for each object in hello results of hello log search with values that exceed specified threshold.</span></span>

<span data-ttu-id="29dba-144">Ниже приведены Hello различия между типами правило оповещения.</span><span class="sxs-lookup"><span data-stu-id="29dba-144">hello differences between alert rule types are as follows.</span></span>

- <span data-ttu-id="29dba-145">**Количество результатов** правило генерации оповещений всегда создается один предупреждения while **метрической** оповещения правило создает оповещение для каждого объекта, превышающий пороговое значение hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-145">**Number of results** alert rule will always create a single alert while **Metric measurement** alert rule creates an alert for each object that exceeds hello threshold.</span></span>
- <span data-ttu-id="29dba-146">**Количество результатов** правила оповещения создавать оповещения при превышении порогового значения hello один раз.</span><span class="sxs-lookup"><span data-stu-id="29dba-146">**Number of results** alert rules create an alert when hello threshold is exceeded a single time.</span></span> <span data-ttu-id="29dba-147">**Метрической** правил оповещений можно создать предупреждение при превышении порогового значения hello определенное число раз за определенный временной интервал.</span><span class="sxs-lookup"><span data-stu-id="29dba-147">**Metric measurement** alert rules can create an alert when hello threshold is exceeded a certain number of times over a particular time interval.</span></span>

## <a name="number-of-results-alert-rules"></a><span data-ttu-id="29dba-148">Правило генерации оповещений "Число результатов"</span><span class="sxs-lookup"><span data-stu-id="29dba-148">Number of results alert rules</span></span>
<span data-ttu-id="29dba-149">**Количество результатов** правила оповещения создать одно оповещение при hello количество записей, возвращаемых запросом поиска hello превышает заданное пороговое значение hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-149">**Number of results** alert rules create a single alert when hello number of records returned by hello search query exceed hello specified threshold.</span></span>

### <a name="threshold"></a><span data-ttu-id="29dba-150">Пороговое значение</span><span class="sxs-lookup"><span data-stu-id="29dba-150">Threshold</span></span>
<span data-ttu-id="29dba-151">Пороговое значение Hello для **число результатов** правило генерации оповещений, просто больше или меньше, чем определенное значение.</span><span class="sxs-lookup"><span data-stu-id="29dba-151">hello threshold for a **Number of results** alert rule is simply greater than or less than a particular value.</span></span>  <span data-ttu-id="29dba-152">Если hello число записей, возвращаемых поиска журналов hello соответствует этому критерию, создается предупреждение.</span><span class="sxs-lookup"><span data-stu-id="29dba-152">If hello number of records returned by hello log search match this criteria, then an alert is created.</span></span>

### <a name="scenarios"></a><span data-ttu-id="29dba-153">Сценарии</span><span class="sxs-lookup"><span data-stu-id="29dba-153">Scenarios</span></span>

#### <a name="events"></a><span data-ttu-id="29dba-154">События</span><span class="sxs-lookup"><span data-stu-id="29dba-154">Events</span></span>
<span data-ttu-id="29dba-155">Этот тип правила генерации оповещений идеально подходит для работы с такими событиями, как журналы событий Windows, системный журнал и настраиваемые журналы.</span><span class="sxs-lookup"><span data-stu-id="29dba-155">This type of alert rule is ideal for working with events such as Windows event logs, Syslog, and Custom logs.</span></span>  <span data-ttu-id="29dba-156">Вы можете toocreate оповещение, когда создается событие конкретной ошибки или при создании нескольких событий ошибки в окне определенный момент времени.</span><span class="sxs-lookup"><span data-stu-id="29dba-156">You may want toocreate an alert when a particular error event gets created, or when multiple error events are created within a particular time window.</span></span>

<span data-ttu-id="29dba-157">tooalert по одному событию набору hello toogreater результаты, чем 0 как hello частоту и время окна too5 минут.</span><span class="sxs-lookup"><span data-stu-id="29dba-157">tooalert on a single event, set hello number of results toogreater than 0 and both hello frequency and time window too5 minutes.</span></span>  <span data-ttu-id="29dba-158">Которое будет выполняться запрос hello каждые 5 минут и проверить наличие вхождения hello одиночного события, созданного с момента последнего запуска запроса hello во время последнего hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-158">That runs hello query every 5 minutes and check for hello occurrence of a single event that was created since hello last time hello query was run.</span></span>  <span data-ttu-id="29dba-159">В первом случае периодичность может задержать hello время между собранных выполняется событие hello и создается предупреждение hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-159">A longer frequency may delay hello time between hello event being collected and hello alert being created.</span></span>

<span data-ttu-id="29dba-160">Некоторые приложения могут вносить в журнал нерегулярную ошибку, которая не обязательно должна вызывать оповещение.</span><span class="sxs-lookup"><span data-stu-id="29dba-160">Some applications may log an occasional error that shouldn't necessarily raise an alert.</span></span>  <span data-ttu-id="29dba-161">Например приложение hello может повторите hello процесса, который создал событие ошибки hello и затем успешно hello следующем.</span><span class="sxs-lookup"><span data-stu-id="29dba-161">For example, hello application may retry hello process that created hello error event and then succeed hello next time.</span></span>  <span data-ttu-id="29dba-162">В этом случае может не должны toocreate hello предупреждения, если несколько событий создаются в течение определенного временного окна.</span><span class="sxs-lookup"><span data-stu-id="29dba-162">In this case, you may not want toocreate hello alert unless multiple events are created within a particular time window.</span></span>  

<span data-ttu-id="29dba-163">В некоторых случаях может потребоваться toocreate оповещение при отсутствии hello события.</span><span class="sxs-lookup"><span data-stu-id="29dba-163">In some cases, you may want toocreate an alert in hello absence of an event.</span></span>  <span data-ttu-id="29dba-164">Например процесс может войти tooindicate регулярные события, в которой он работает правильно.</span><span class="sxs-lookup"><span data-stu-id="29dba-164">For example, a process may log regular events tooindicate that it's working properly.</span></span>  <span data-ttu-id="29dba-165">Если он не регистрирует одно из таких событий в пределах определенного временного окна, следует создать оповещение.</span><span class="sxs-lookup"><span data-stu-id="29dba-165">If it doesn't log one of these events within a particular time window, then an alert should be created.</span></span>  <span data-ttu-id="29dba-166">В этом случае будет задать пороговое значение hello слишком**менее 1**.</span><span class="sxs-lookup"><span data-stu-id="29dba-166">In this case you would set hello threshold too**less than 1**.</span></span>

#### <a name="performance-alerts"></a><span data-ttu-id="29dba-167">Оповещения производительности</span><span class="sxs-lookup"><span data-stu-id="29dba-167">Performance alerts</span></span>
<span data-ttu-id="29dba-168">[Данные о производительности](log-analytics-data-sources-performance-counters.md) хранится в виде записи в hello аналогичные tooevents репозиторий OMS.</span><span class="sxs-lookup"><span data-stu-id="29dba-168">[Performance data](log-analytics-data-sources-performance-counters.md) is stored as records in hello OMS repository similar tooevents.</span></span>  <span data-ttu-id="29dba-169">Если требуется tooalert счетчика производительности превышает определенный порог, пороговое значение должен включаться в запросе hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-169">If you want tooalert when a performance counter exceeds a particular threshold, then that threshold should be included in hello query.</span></span>

<span data-ttu-id="29dba-170">Например, если требуется tooalert при hello обработчик запросов производит 90%, используйте запрос наподобие следующих с пороговым значением hello для правила оповещения hello hello **больше 0**.</span><span class="sxs-lookup"><span data-stu-id="29dba-170">For example, if you wanted tooalert when hello processor runs over 90%, you would use a query like hello following with hello threshold for hello alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" CounterValue>90

<span data-ttu-id="29dba-171">Если требуется tooalert процессора hello усредненный более 90% для окна определенный момент времени, используется запрос с помощью hello [измерения команда](log-analytics-search-reference.md#commands) как следующем hello с пороговым значением hello для правила оповещения hello **больше 0** .</span><span class="sxs-lookup"><span data-stu-id="29dba-171">If you wanted tooalert when hello processor averaged over 90% for a particular time window, you would use a query using hello [measure command](log-analytics-search-reference.md#commands) like hello following with hello threshold for hello alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer | where AggregatedValue>90

>[!NOTE]
> <span data-ttu-id="29dba-172">Если рабочую область был обновленного toohello [языка запросов новый журнал аналитики](log-analytics-log-search-upgrade.md), то hello выше запросы будут изменены следующие toohello:`Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span><span class="sxs-lookup"><span data-stu-id="29dba-172">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following: `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span></span>


## <a name="metric-measurement-alert-rules"></a><span data-ttu-id="29dba-173">Metric measurement alert rules (Измерение метрики для правила генерации оповещений)</span><span class="sxs-lookup"><span data-stu-id="29dba-173">Metric measurement alert rules</span></span>

>[!NOTE]
> <span data-ttu-id="29dba-174">Сейчас правила генерации оповещений "Измерение метрик" находятся на этапе общедоступной предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="29dba-174">Metric measurement alert rules are currently in public preview.</span></span>

<span data-ttu-id="29dba-175">Правила генерации оповещений **Измерение метрик** создают оповещение для каждого объекта в запросе со значением, превышающим указанное пороговое значение.</span><span class="sxs-lookup"><span data-stu-id="29dba-175">**Metric measurement** alert rules create an alert for each object in a query with a value that exceeds a specified threshold.</span></span>  <span data-ttu-id="29dba-176">Они имеют следующие уникальные отличия от hello **число результатов** правила оповещения.</span><span class="sxs-lookup"><span data-stu-id="29dba-176">They have hello following distinct differences from **Number of results** alert rules.</span></span>

#### <a name="log-search"></a><span data-ttu-id="29dba-177">Поиск по журналам</span><span class="sxs-lookup"><span data-stu-id="29dba-177">Log search</span></span>
<span data-ttu-id="29dba-178">Хотя можно использовать для любого запроса **число результатов** правило оповещения, существуют особые требования hello запроса для правила оповещений метрической.</span><span class="sxs-lookup"><span data-stu-id="29dba-178">While you can use any query for a **Number of results** alert rule, there are specific requirements hello query for a metric measurement alert rule.</span></span>  <span data-ttu-id="29dba-179">Она должна включать [измерения команда](log-analytics-search-reference.md#commands) toogroup hello результаты для определенного поля.</span><span class="sxs-lookup"><span data-stu-id="29dba-179">It must include a [Measure command](log-analytics-search-reference.md#commands) toogroup hello results on a particular field.</span></span> <span data-ttu-id="29dba-180">Эта команда должен включать следующие элементы hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-180">This command must include hello following elements.</span></span>

- <span data-ttu-id="29dba-181">**Агрегатная функция**.</span><span class="sxs-lookup"><span data-stu-id="29dba-181">**Aggregate function**.</span></span>  <span data-ttu-id="29dba-182">Определяет hello вычисление, которое выполняется и потенциально tooaggregate числового поля.</span><span class="sxs-lookup"><span data-stu-id="29dba-182">Determines hello calculation that is performed and potentially a numeric field tooaggregate.</span></span>  <span data-ttu-id="29dba-183">Например **count()** вернет hello количество записей в запросе hello **avg(CounterValue)** будут возвращены hello среднего значения CounterValue поля hello за интервал приветствия.</span><span class="sxs-lookup"><span data-stu-id="29dba-183">For example, **count()** will return hello number of records in hello query, **avg(CounterValue)** will return hello average of hello CounterValue field over hello interval.</span></span>
- <span data-ttu-id="29dba-184">**Группировка по полю**.</span><span class="sxs-lookup"><span data-stu-id="29dba-184">**Group Field**.</span></span>  <span data-ttu-id="29dba-185">Для каждого экземпляра этого поля будет создана запись с агрегированным значением, и для каждого из них можно создать оповещение.</span><span class="sxs-lookup"><span data-stu-id="29dba-185">A record with an aggregated value is created for each instance of this field, and an alert can be generated for each.</span></span>  <span data-ttu-id="29dba-186">Например, если требуется toogenerate оповещения для каждого компьютера, используется **компьютером**.</span><span class="sxs-lookup"><span data-stu-id="29dba-186">For example, if you wanted toogenerate an alert for each computer, you would use **by Computer**.</span></span>   
- <span data-ttu-id="29dba-187">**Интервал**.</span><span class="sxs-lookup"><span data-stu-id="29dba-187">**Interval**.</span></span>  <span data-ttu-id="29dba-188">Определяет интервал времени hello, по которому выполняется статистическое вычисление данных hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-188">Defines hello time interval over which hello data is aggregated.</span></span>  <span data-ttu-id="29dba-189">Например, если вы указали **5 минут**, записи будут создаваться для каждого экземпляра поля группы hello агрегируются каждые 5 минут за период времени hello, указанные для оповещения hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-189">For example, if you specified **5minutes**, a record would be created for each instance of hello group field aggregated at 5 minute intervals over hello time window specified for hello alert.</span></span>

#### <a name="threshold"></a><span data-ttu-id="29dba-190">Пороговое значение</span><span class="sxs-lookup"><span data-stu-id="29dba-190">Threshold</span></span>
<span data-ttu-id="29dba-191">Hello пороговое значение для правил генерации оповещений метрической определяется статистическое значение и число нарушений.</span><span class="sxs-lookup"><span data-stu-id="29dba-191">hello threshold for Metric measurement alert rules is defined by an aggregate value and a number of breaches.</span></span>  <span data-ttu-id="29dba-192">Если все точки данных в поиске по журналам hello превышает это значение, он считается нарушения безопасности.</span><span class="sxs-lookup"><span data-stu-id="29dba-192">If any data point in hello log search exceeds this value, it's considered a breach.</span></span>  <span data-ttu-id="29dba-193">Если превышает hello количество нарушений в для любого объекта в результатах hello hello указанное значение, то для этого объекта создается предупреждение.</span><span class="sxs-lookup"><span data-stu-id="29dba-193">If hello number of breaches in for any object in hello results exceeds hello specified value, then an alert is created for that object.</span></span>

#### <a name="example"></a><span data-ttu-id="29dba-194">Пример</span><span class="sxs-lookup"><span data-stu-id="29dba-194">Example</span></span>
<span data-ttu-id="29dba-195">Рассмотрим ситуацию, где оповещение должно создаваться, когда использование процессора на компьютере превышает 90 % три раза в течение 30 минут.</span><span class="sxs-lookup"><span data-stu-id="29dba-195">Consider a scenario where you wanted an alert if any computer exceeded processor utilization of 90% three times over 30 minutes.</span></span>  <span data-ttu-id="29dba-196">Вы создадите правило генерации оповещений с hello, приведенные ниже сведения.</span><span class="sxs-lookup"><span data-stu-id="29dba-196">You would create an alert rule with hello following details.</span></span>  

<span data-ttu-id="29dba-197">**Запрос:** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute.</span><span class="sxs-lookup"><span data-stu-id="29dba-197">**Query:** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span></span><br><span data-ttu-id="29dba-198">
**Временное окно:** 30 минут.</span><span class="sxs-lookup"><span data-stu-id="29dba-198">
**Time window:** 30 minutes</span></span><br><span data-ttu-id="29dba-199">
**Периодичность предупреждений:** 5 минут.</span><span class="sxs-lookup"><span data-stu-id="29dba-199">
**Alert frequency:** 5 minutes</span></span><br><span data-ttu-id="29dba-200">
**Объединенное значение:** больше 90.</span><span class="sxs-lookup"><span data-stu-id="29dba-200">
**Aggregate value:** Great than 90</span></span><br><span data-ttu-id="29dba-201">
**Активировать оповещение на основе:** общее число нарушений превышает 5.</span><span class="sxs-lookup"><span data-stu-id="29dba-201">
**Trigger alert based on:** Total breaches Greater than 5</span></span><br>

<span data-ttu-id="29dba-202">создать запрос Hello среднее значение для каждого компьютера каждые 5 минут.</span><span class="sxs-lookup"><span data-stu-id="29dba-202">hello query would create an average value for each computer at 5 minute intervals.</span></span>  <span data-ttu-id="29dba-203">Этот запрос будут выполняться каждые 5 минут для данных, собранных за hello предшествующие 30 минут.</span><span class="sxs-lookup"><span data-stu-id="29dba-203">This query would be run every 5 minutes for data collected over hello previous 30 minutes.</span></span>  <span data-ttu-id="29dba-204">Ниже приведен пример данных для трех компьютеров.</span><span class="sxs-lookup"><span data-stu-id="29dba-204">Sample data is shown below for three computers.</span></span>

![Результаты выполнения примера запроса](media/log-analytics-alerts/metrics-measurement-sample-graph.png)

<span data-ttu-id="29dba-206">В этом примере отдельные предупреждения будут создаваться для srv02 и srv03, так как они нарушения порога 90% hello 3 раза за период времени hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-206">In this example, separate alerts would be created for srv02 and srv03 since they breached hello 90% threshold 3 times over hello time window.</span></span>  <span data-ttu-id="29dba-207">Если hello **на основе триггера предупреждение:** были изменены слишком**Фальцовка** то оповещения будут создаваться только для srv03, так как он нарушения порога hello для 3 последовательных выборок.</span><span class="sxs-lookup"><span data-stu-id="29dba-207">If hello **Trigger alert based on:** were changed too**Consecutive** then an alert would be created only for srv03 since it breached hello threshold for 3 consecutive samples.</span></span>

## <a name="alert-records"></a><span data-ttu-id="29dba-208">Записи оповещений</span><span class="sxs-lookup"><span data-stu-id="29dba-208">Alert records</span></span>
<span data-ttu-id="29dba-209">Записи оповещений, созданные правилами генерации оповещений в Log Analytics, имеют значение **Alert** для **Type** и значение **OMS** для **SourceSystem**.</span><span class="sxs-lookup"><span data-stu-id="29dba-209">Alert records created by alert rules in Log Analytics have a **Type** of **Alert** and a **SourceSystem** of **OMS**.</span></span>  <span data-ttu-id="29dba-210">Они имеют свойства hello в hello в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="29dba-210">They have hello properties in hello following table.</span></span>

| <span data-ttu-id="29dba-211">Свойство</span><span class="sxs-lookup"><span data-stu-id="29dba-211">Property</span></span> | <span data-ttu-id="29dba-212">Описание</span><span class="sxs-lookup"><span data-stu-id="29dba-212">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="29dba-213">Тип</span><span class="sxs-lookup"><span data-stu-id="29dba-213">Type</span></span> |<span data-ttu-id="29dba-214">*Предупреждение*</span><span class="sxs-lookup"><span data-stu-id="29dba-214">*Alert*</span></span> |
| <span data-ttu-id="29dba-215">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="29dba-215">SourceSystem</span></span> |<span data-ttu-id="29dba-216">*OMS*</span><span class="sxs-lookup"><span data-stu-id="29dba-216">*OMS*</span></span> |
| <span data-ttu-id="29dba-217">*Объект*</span><span class="sxs-lookup"><span data-stu-id="29dba-217">*Object*</span></span>  | <span data-ttu-id="29dba-218">[Оповещения метрической](#metric-measurement-alert-rules) будет иметь свойство, поле группы hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-218">[Metric measurement alerts](#metric-measurement-alert-rules) will have a property for hello group field.</span></span>  <span data-ttu-id="29dba-219">Например при поиске по журналам hello группы на компьютере, hello предупреждения запись с иметь поле компьютера с именем hello hello компьютера как значение hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-219">For example, if hello log search groups on Computer, hello alert record with have a Computer field with hello name of hello computer as hello value.</span></span>
| <span data-ttu-id="29dba-220">AlertName</span><span class="sxs-lookup"><span data-stu-id="29dba-220">AlertName</span></span> |<span data-ttu-id="29dba-221">Имя предупреждения hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-221">Name of hello alert.</span></span> |
| <span data-ttu-id="29dba-222">AlertSeverity</span><span class="sxs-lookup"><span data-stu-id="29dba-222">AlertSeverity</span></span> |<span data-ttu-id="29dba-223">Уровень серьезности предупреждения hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-223">Severity level of hello alert.</span></span> |
| <span data-ttu-id="29dba-224">LinkToSearchResults</span><span class="sxs-lookup"><span data-stu-id="29dba-224">LinkToSearchResults</span></span> |<span data-ttu-id="29dba-225">Свяжите tooLog поиска журналов для аналитики, возвращающий hello записи из hello запрос, созданный hello предупреждение.</span><span class="sxs-lookup"><span data-stu-id="29dba-225">Link tooLog Analytics log search that returns hello records from hello query that created hello alert.</span></span> |
| <span data-ttu-id="29dba-226">Запрос</span><span class="sxs-lookup"><span data-stu-id="29dba-226">Query</span></span> |<span data-ttu-id="29dba-227">Текст hello запрос, который был запущен.</span><span class="sxs-lookup"><span data-stu-id="29dba-227">Text of hello query that was run.</span></span> |
| <span data-ttu-id="29dba-228">QueryExecutionEndTime</span><span class="sxs-lookup"><span data-stu-id="29dba-228">QueryExecutionEndTime</span></span> |<span data-ttu-id="29dba-229">Конец диапазона времени hello для запроса hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-229">End of hello time range for hello query.</span></span> |
| <span data-ttu-id="29dba-230">QueryExecutionStartTime</span><span class="sxs-lookup"><span data-stu-id="29dba-230">QueryExecutionStartTime</span></span> |<span data-ttu-id="29dba-231">Начало диапазона времени hello для запроса hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-231">Start of hello time range for hello query.</span></span> |
| <span data-ttu-id="29dba-232">ThresholdOperator</span><span class="sxs-lookup"><span data-stu-id="29dba-232">ThresholdOperator</span></span> | <span data-ttu-id="29dba-233">Оператор, который был использован правилом оповещения hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-233">Operator that was used by hello alert rule.</span></span> |
| <span data-ttu-id="29dba-234">ThresholdValue</span><span class="sxs-lookup"><span data-stu-id="29dba-234">ThresholdValue</span></span> | <span data-ttu-id="29dba-235">Значение, которое было использовано правилом оповещения hello.</span><span class="sxs-lookup"><span data-stu-id="29dba-235">Value that was used by hello alert rule.</span></span> |
| <span data-ttu-id="29dba-236">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="29dba-236">TimeGenerated</span></span> |<span data-ttu-id="29dba-237">Создания предупреждения hello даты и времени.</span><span class="sxs-lookup"><span data-stu-id="29dba-237">Date and time hello alert was created.</span></span> |

<span data-ttu-id="29dba-238">Существуют другие виды записи оповещений, созданных hello [решения по управлению предупреждение](log-analytics-solution-alert-management.md) и [экспортирует Power BI](log-analytics-powerbi.md).</span><span class="sxs-lookup"><span data-stu-id="29dba-238">There are other kinds of alert records created by hello [Alert Management solution](log-analytics-solution-alert-management.md) and by [Power BI exports](log-analytics-powerbi.md).</span></span>  <span data-ttu-id="29dba-239">Все они имеют значение **Alert** для **Type**, но различаются по **SourceSystem**.</span><span class="sxs-lookup"><span data-stu-id="29dba-239">These all have a **Type** of **Alert** but are distinguished by their **SourceSystem**.</span></span>


## <a name="next-steps"></a><span data-ttu-id="29dba-240">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="29dba-240">Next steps</span></span>
* <span data-ttu-id="29dba-241">Установка hello [решение для управления оповещениями](log-analytics-solution-alert-management.md) tooanalyze предупреждения, созданные в службе анализа журналов вместе с оповещениями, собранных с System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="29dba-241">Install hello [Alert Management solution](log-analytics-solution-alert-management.md) tooanalyze alerts created in Log Analytics along with alerts collected from System Center Operations Manager.</span></span>
* <span data-ttu-id="29dba-242">Вы можете ознакомиться с дополнительными сведениями о [поисках журналов](log-analytics-log-searches.md) , которые могут создавать оповещения.</span><span class="sxs-lookup"><span data-stu-id="29dba-242">Read more about [log searches](log-analytics-log-searches.md) that can generate alerts.</span></span>
* <span data-ttu-id="29dba-243">Вы можете выполнить пошаговое руководство по [настройке webook](log-analytics-alerts-webhooks.md) с использованием правила генерации оповещений.</span><span class="sxs-lookup"><span data-stu-id="29dba-243">Complete a walkthrough for [configuring a webook](log-analytics-alerts-webhooks.md) with an alert rule.</span></span>  
* <span data-ttu-id="29dba-244">Узнайте, как toowrite [Runbook в автоматизации Azure](https://azure.microsoft.com/documentation/services/automation) tooremediate проблемы определяется предупреждения.</span><span class="sxs-lookup"><span data-stu-id="29dba-244">Learn how toowrite [runbooks in Azure Automation](https://azure.microsoft.com/documentation/services/automation) tooremediate problems identified by alerts.</span></span>
