---
title: "Log Analytics в Operations Management Suite (OMS) | Документация Майкрософт"
description: "Log Analytics — это служба в Operations Management Suite (OMS), которая помогает собирать и анализировать операционные данные, формируемые ресурсами в облачных и локальных средах.  В этой статье приводится краткий обзор различных компонентов службы Log Analytics и ссылки на подробные материалы."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: bd90b460-bacf-4345-ae31-26e155beac0e
ms.service: log-analytics
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/12/2017
ms.author: bwren
ms.openlocfilehash: 9fcf23f5ff47bd7457e5afa69eb2b9b33e0bf0fe
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="what-is-log-analytics"></a><span data-ttu-id="62824-105">Что такое Log Analytics?</span><span class="sxs-lookup"><span data-stu-id="62824-105">What is Log Analytics?</span></span>
<span data-ttu-id="62824-106">Log Analytics — это служба в [Operations Management Suite \(OMS\)](../operations-management-suite/operations-management-suite-overview.md), которая отслеживает облачные и локальные среды, чтобы поддерживать уровень их доступности и производительности.</span><span class="sxs-lookup"><span data-stu-id="62824-106">Log Analytics is a service in [Operations Management Suite \(OMS\)](../operations-management-suite/operations-management-suite-overview.md) that monitors your cloud and on-premises environments to maintain their availability and performance.</span></span>  <span data-ttu-id="62824-107">Она собирает данные, формируемые ресурсами в облачных и локальных средах, а также другими средствами мониторинга, и на их основе предоставляет аналитические сведения для нескольких источников.</span><span class="sxs-lookup"><span data-stu-id="62824-107">It collects data generated by resources in your cloud and on-premises environments and from other monitoring tools to provide analysis across multiple sources.</span></span>  <span data-ttu-id="62824-108">В этой статье кратко описано значение Log Analytics, представлены общие сведения о работе этой службы, а также содержатся ссылки на более подробные источники.</span><span class="sxs-lookup"><span data-stu-id="62824-108">This article provides a brief discussion of the value that Log Analytics provides, an overview of how it operates, and links to more detailed content so you can dig further.</span></span>

## <a name="is-log-analytics-for-you"></a><span data-ttu-id="62824-109">Подходит ли вам Log Analytics?</span><span class="sxs-lookup"><span data-stu-id="62824-109">Is Log Analytics for you?</span></span>
<span data-ttu-id="62824-110">Если у вас нет средства мониторинга среды Azure, мы рекомендуем использовать [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md). Эта платформа собирает и анализирует данные мониторинга для ресурсов Azure.</span><span class="sxs-lookup"><span data-stu-id="62824-110">If you have no current monitoring in place for your Azure environment, you should start with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) which collects and analyzes monitoring data for your Azure resources.</span></span>  <span data-ttu-id="62824-111">Log Analytics может [собирать данные Azure Monitor](log-analytics-azure-storage.md), сопоставлять их с другими данными и на основе полученных результатов выполнять дополнительный анализ.</span><span class="sxs-lookup"><span data-stu-id="62824-111">Log Analytics can [collect data from Azure Monitor](log-analytics-azure-storage.md) to correlate it with other data and provide additional analysis.</span></span>

<span data-ttu-id="62824-112">Если вы хотите отслеживать локальную среду или у вас уже есть средства мониторинга, использующие такие решения, как Azure Monitor или System Center Operations Manager, служба Log Analytics может быть особенно полезной.</span><span class="sxs-lookup"><span data-stu-id="62824-112">If you want to monitor your on-premises environment or you have existing monitoring using services such as Azure Monitor or System Center Operations Manager, then Log Analytics can add significant value.</span></span>  <span data-ttu-id="62824-113">Эта служба собирает данные непосредственно из агентов, а также из других средств в едином репозитории.</span><span class="sxs-lookup"><span data-stu-id="62824-113">It can collect data directly from your agents and also from these other tools into a single repository.</span></span>  <span data-ttu-id="62824-114">Средства анализа в Log Analytics, такие как поиск по журналам, представления и решения, обрабатывают все собранные данные, предоставляя централизованный анализ всей среды.</span><span class="sxs-lookup"><span data-stu-id="62824-114">Analysis tools in Log Analytics such as log searches, views, and solutions work against all collected data providing you with centralized analysis of your entire environment.</span></span>


## <a name="using-log-analytics"></a><span data-ttu-id="62824-115">Использование Log Analytics</span><span class="sxs-lookup"><span data-stu-id="62824-115">Using Log Analytics</span></span>
<span data-ttu-id="62824-116">Доступ к Log Analytics осуществляется через портал OMS или портал Azure, которые работают в любом браузере и обеспечивают доступ к параметрам конфигурации и многочисленным средствам для анализа собранных данных и принятия необходимых мер.</span><span class="sxs-lookup"><span data-stu-id="62824-116">You can access Log Analytics through the OMS portal or the Azure portal which run in any browser and provide you with access to configuration settings and multiple tools to analyze and act on collected data.</span></span>  <span data-ttu-id="62824-117">На портале можно использовать [поиск по журналам](log-analytics-log-searches.md), при котором формируются запросы для анализа собранных данных, [панели мониторинга](log-analytics-dashboards.md), которые можно настраивать, используя графические представления большинства значимых поисковых запросов, и [решения](log-analytics-add-solutions.md), предоставляющие дополнительные функции и средства анализа.</span><span class="sxs-lookup"><span data-stu-id="62824-117">From the portal you can leverage [log searches](log-analytics-log-searches.md) where you construct queries to analyze collected data, [dashboards](log-analytics-dashboards.md) which you can customize with graphical views of your most valuable searches, and [solutions](log-analytics-add-solutions.md) which provide additional functionality and analysis tools.</span></span>

<span data-ttu-id="62824-118">На рисунке ниже показана панель мониторинга на портале OMS со сводными сведениями о [решениях](#add-functionality-with-management-solutions), установленных в рабочей области.</span><span class="sxs-lookup"><span data-stu-id="62824-118">The image below is from the OMS portal which shows the dashboard that displays summary information for the [solutions](#add-functionality-with-management-solutions) that are installed in the workspace.</span></span>  <span data-ttu-id="62824-119">Чтобы просмотреть подробные сведения об этом решении, щелкните любую из плиток.</span><span class="sxs-lookup"><span data-stu-id="62824-119">You can click on any tile to drill further into the data for that solution.</span></span>

![Портал OMS](media/log-analytics-overview/portal.png)

<span data-ttu-id="62824-121">Служба Log Analytics поддерживает язык запросов для быстрого получения и консолидации данных в репозитории.</span><span class="sxs-lookup"><span data-stu-id="62824-121">Log Analytics includes a query language to quickly retrieve and consolidate data in the repository.</span></span>  <span data-ttu-id="62824-122">Вы можете создать и сохранить запрос для [поиска по журналам](log-analytics-log-searches.md) для прямого анализа данных на портале или настроить автоматическое выполнение запросов для поиска по журналам таким образом, чтобы в случае, если запрос указывает на важное условие, создавалось оповещение.</span><span class="sxs-lookup"><span data-stu-id="62824-122">You can create and save [Log Searches](log-analytics-log-searches.md) to directly analyze data in the portal or have log searches run automatically to create an alert if the results of the query indicate an important condition.</span></span>

![Поиск по журналам](media/log-analytics-overview/log-search.png)

<span data-ttu-id="62824-124">Чтобы получить быстрое графическое представление о работоспособности всей среды в целом, можно добавить на [панель мониторинга](log-analytics-dashboards.md) визуализации для сохраненных запросов поиска по журналам.</span><span class="sxs-lookup"><span data-stu-id="62824-124">To get a quick graphical view of the health of your overall environment, you can add visualizations for saved log searches to your [dashboard](log-analytics-dashboards.md).</span></span>   

![Панель мониторинга](media/log-analytics-overview/dashboard.png)

<span data-ttu-id="62824-126">Для анализа данных за пределами службы Log Analytics можно экспортировать данные из репозитория OMS в такие средства как [Power BI](log-analytics-powerbi.md) или Excel.</span><span class="sxs-lookup"><span data-stu-id="62824-126">In order to analyze data outside of Log Analytics, you can export the data from the OMS repository into tools such as [Power BI](log-analytics-powerbi.md) or Excel.</span></span>  <span data-ttu-id="62824-127">Кроме того, используя [API поиска по журналам](log-analytics-log-search-api.md) , можно создать настраиваемые решения на основе данных Log Analytics или добиться интеграции с другими системами.</span><span class="sxs-lookup"><span data-stu-id="62824-127">You can also leverage the [Log Search API](log-analytics-log-search-api.md) to build custom solutions that leverage Log Analytics data or to integrate with other systems.</span></span>

## <a name="add-functionality-with-management-solutions"></a><span data-ttu-id="62824-128">Добавление возможностей с помощью решений по управлению</span><span class="sxs-lookup"><span data-stu-id="62824-128">Add functionality with management solutions</span></span>
<span data-ttu-id="62824-129">[Решения по управлению](log-analytics-add-solutions.md) добавляют функциональные возможности в OMS, предоставляя тем самым дополнительные средства анализа и работы с данными в Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="62824-129">[Management solutions](log-analytics-add-solutions.md) add functionality to OMS, providing additional data and analysis tools to Log Analytics.</span></span>  <span data-ttu-id="62824-130">Кроме того, они могут определять новые типы записей, которые нужно собирать и которые можно анализировать, используя запросы поиска по журналам или дополнительный пользовательский интерфейс, предоставляемый решением на панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="62824-130">They may also define new record types to be collected that can be analyzed with Log Searches or by additional user interface provided by the solution in the dashboard.</span></span>  <span data-ttu-id="62824-131">На приведенном ниже рисунке показано [решение для отслеживания изменений](log-analytics-change-tracking.md).</span><span class="sxs-lookup"><span data-stu-id="62824-131">The example image below shows the [Change Tracking solution](log-analytics-change-tracking.md)</span></span>

![Решение для отслеживания изменений](media/log-analytics-overview/change-tracking.png)

<span data-ttu-id="62824-133">Существуют решения для самых разных функций. Но помимо доступных решений постоянно добавляются также и новые.</span><span class="sxs-lookup"><span data-stu-id="62824-133">Solutions are available for a variety of functions, and additional solutions are consistently being added.</span></span>  <span data-ttu-id="62824-134">Вы можете легко найти все доступные решения и [добавить их в рабочую область OMS](log-analytics-add-solutions.md) из коллекции решений или Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="62824-134">You can easily browse available solutions and [add them to your OMS workspace](log-analytics-add-solutions.md) from the Solutions Gallery or Azure Marketplace.</span></span>  <span data-ttu-id="62824-135">Многие из них развертываются автоматически и начинают работать сразу, а другие требуют определенной настройки.</span><span class="sxs-lookup"><span data-stu-id="62824-135">Many will be automatically deployed and start working immediately while others may require moderate configuration.</span></span>

![Коллекция решений](media/log-analytics-overview/solution-gallery.png)

## <a name="log-analytics-components"></a><span data-ttu-id="62824-137">Компоненты службы Log Analytics</span><span class="sxs-lookup"><span data-stu-id="62824-137">Log Analytics components</span></span>
<span data-ttu-id="62824-138">Центральное место в службе Log Analytics занимает репозиторий OMS, который размещается в облаке Azure.</span><span class="sxs-lookup"><span data-stu-id="62824-138">At the center of Log Analytics is the OMS repository which is hosted in the Azure cloud.</span></span>  <span data-ttu-id="62824-139">Данные собираются в репозиторий из подключенных источников в результате настройки источников данных и добавления решений в подписку.</span><span class="sxs-lookup"><span data-stu-id="62824-139">Data is collected into the repository from connected sources by configuring data sources and adding solutions to your subscription.</span></span>  <span data-ttu-id="62824-140">Источники данных и решения каждого создают различные типы записей, которые имеют собственные наборы свойств, но в запросах к репозиторию могут анализироваться вместе.</span><span class="sxs-lookup"><span data-stu-id="62824-140">Data sources and solutions will each create different record types that have their own set of properties but may still be analyzed together in queries to the repository.</span></span>  <span data-ttu-id="62824-141">Это позволяет использовать одни и те же средства и методы для работы с разными видами данных, собранными из различных источников.</span><span class="sxs-lookup"><span data-stu-id="62824-141">This allows you to use the same tools and methods to work with different kinds of data collected by different sources.</span></span>

![Репозиторий OMS](media/log-analytics-overview/overview.png)

<span data-ttu-id="62824-143">Подключенные источники — это компьютеры и другие ресурсы, создающие данные, которые собираются службой Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="62824-143">Connected sources are the computers and other resources that generate data collected by Log Analytics.</span></span>  <span data-ttu-id="62824-144">К этим источникам относятся агенты, установленные на компьютеры [Windows](log-analytics-windows-agents.md) и [Linux](log-analytics-linux-agents.md), подключенные напрямую, или агенты в [подключенной группе управления System Center Operations Manager](log-analytics-om-agents.md).</span><span class="sxs-lookup"><span data-stu-id="62824-144">This can include agents installed on [Windows](log-analytics-windows-agents.md) and [Linux](log-analytics-linux-agents.md) computers that connect directly or agents in a [connected System Center Operations Manager management group](log-analytics-om-agents.md).</span></span>  <span data-ttu-id="62824-145">Log Analytics собирает данные ресурсов Azure с [Azure Monitor и системы диагностики Azure](log-analytics-azure-storage.md).</span><span class="sxs-lookup"><span data-stu-id="62824-145">For Azure resources, Log Analytics collects data from [Azure Monitor and Azure Diagnostics](log-analytics-azure-storage.md).</span></span>

<span data-ttu-id="62824-146">[Источники данных](log-analytics-data-sources.md) — это различные виды данных, собираемые из каждого подключенного источника.</span><span class="sxs-lookup"><span data-stu-id="62824-146">[Data sources](log-analytics-data-sources.md) are the different kinds of data collected from each connected source.</span></span>  <span data-ttu-id="62824-147">К этим источникам относятся [события](log-analytics-data-sources-windows-events.md) и [данные о производительности](log-analytics-data-sources-performance-counters.md) из агентов [Windows](log-analytics-data-sources-windows-events.md) и Linux, а также такие источники, как [журналы IIS](log-analytics-data-sources-iis-logs.md) и [журналы пользовательских текстов](log-analytics-data-sources-custom-logs.md).</span><span class="sxs-lookup"><span data-stu-id="62824-147">This includes [events](log-analytics-data-sources-windows-events.md) and [performance data](log-analytics-data-sources-performance-counters.md) from [Windows](log-analytics-data-sources-windows-events.md) and Linux agents in addition to sources such as [IIS logs](log-analytics-data-sources-iis-logs.md), and [custom text logs](log-analytics-data-sources-custom-logs.md).</span></span>  <span data-ttu-id="62824-148">Вы настраиваете каждый источник, с которого нужно получать данные, и конфигурация передается на каждый подключенный источник автоматически.</span><span class="sxs-lookup"><span data-stu-id="62824-148">You configure each data source that you want to collect, and the configuration is automatically delivered to each connected source.</span></span>

<span data-ttu-id="62824-149">При наличии особых требований вы можете использовать [API сборщика данных HTTP](log-analytics-data-collector-api.md), чтобы записывать данные в репозиторий из клиента REST API.</span><span class="sxs-lookup"><span data-stu-id="62824-149">If you have custom requirements, then you can use the [HTTP Data Collector API](log-analytics-data-collector-api.md) to write data to the repository from a REST API client.</span></span>

## <a name="log-analytics-architecture"></a><span data-ttu-id="62824-150">Архитектура службы Log Analytics</span><span class="sxs-lookup"><span data-stu-id="62824-150">Log Analytics architecture</span></span>
<span data-ttu-id="62824-151">Log Analytics предъявляет минимальные требования к развертыванию, поскольку центральные компоненты размещаются в облаке Azure.</span><span class="sxs-lookup"><span data-stu-id="62824-151">The deployment requirements of Log Analytics are minimal since the central components are hosted in the Azure cloud.</span></span>  <span data-ttu-id="62824-152">В их число входит репозиторий, а также службы, позволяющие соотносить и анализировать собранные данные.</span><span class="sxs-lookup"><span data-stu-id="62824-152">This includes the repository in addition to the services that allow you to correlate and analyze collected data.</span></span>  <span data-ttu-id="62824-153">Доступ к порталу можно получить из любого браузера, поэтому никакие требования к клиентскому ПО не предъявляются.</span><span class="sxs-lookup"><span data-stu-id="62824-153">The portal can be accessed from any browser so there is no requirement for client software.</span></span>

<span data-ttu-id="62824-154">Агенты необходимо устанавливать на компьютеры [Windows](log-analytics-windows-agents.md) и [Linux](log-analytics-linux-agents.md), но для компьютеров, которые уже входят в [подключенную группу управления SCOM](log-analytics-om-agents.md), дополнительный агент не требуется.</span><span class="sxs-lookup"><span data-stu-id="62824-154">You must install agents on [Windows](log-analytics-windows-agents.md) and [Linux](log-analytics-linux-agents.md) computers, but there is no additional agent required for computers that are already members of a [connected SCOM management group](log-analytics-om-agents.md).</span></span>  <span data-ttu-id="62824-155">Агенты SCOM продолжают взаимодействовать с серверами управления, пересылающими данные в службу Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="62824-155">SCOM agents will continue to communicate with management servers which will forward their data to Log Analytics.</span></span>  <span data-ttu-id="62824-156">Однако некоторым решениям для прямого взаимодействия со службой Log Analytics требуются агенты.</span><span class="sxs-lookup"><span data-stu-id="62824-156">Some solutions though will require agents to communicate directly with Log Analytics.</span></span>  <span data-ttu-id="62824-157">Соответствующие требования будут указаны в документации к каждому решению.</span><span class="sxs-lookup"><span data-stu-id="62824-157">The documentation for each solution will specify its communication requirements.</span></span>

<span data-ttu-id="62824-158">[Регистрируясь в службе Log Analytics](log-analytics-get-started.md), вы создаете рабочую область OMS.</span><span class="sxs-lookup"><span data-stu-id="62824-158">When you [sign up for Log Analytics](log-analytics-get-started.md), you will create an OMS workspace.</span></span>  <span data-ttu-id="62824-159">Рабочую область можно представить как уникальную среду Log Analytics со своим собственным репозиторием данных, источниками данных и решениями.</span><span class="sxs-lookup"><span data-stu-id="62824-159">You can think of the workspace as a unique Log Analytics environment with its own data repository, data sources, and solutions.</span></span> <span data-ttu-id="62824-160">В подписке можно создать сразу несколько рабочих областей для поддержки нескольких сред, например рабочей среды и среды тестирования.</span><span class="sxs-lookup"><span data-stu-id="62824-160">You may create multiple workspaces in your subscription to support multiple environments such as production and test.</span></span>

![Архитектура службы Log Analytics](media/log-analytics-overview/architecture.png)

## <a name="next-steps"></a><span data-ttu-id="62824-162">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="62824-162">Next steps</span></span>
* <span data-ttu-id="62824-163">[Создайте бесплатную учетную запись Log Analytics](log-analytics-get-started.md) для тестирования в собственной среде.</span><span class="sxs-lookup"><span data-stu-id="62824-163">[Sign up for a free Log Analytics account](log-analytics-get-started.md) to test in your own environment.</span></span>
* <span data-ttu-id="62824-164">Просмотрите различные [источники данных](log-analytics-data-sources.md) , доступные для сбора данных в репозиторий OMS.</span><span class="sxs-lookup"><span data-stu-id="62824-164">View the different [Data Sources](log-analytics-data-sources.md) available to collect data into the OMS repository.</span></span>
* <span data-ttu-id="62824-165">[найдите доступные решения в коллекции решений](log-analytics-add-solutions.md) .</span><span class="sxs-lookup"><span data-stu-id="62824-165">[Browse the available solutions in the Solutions Gallery](log-analytics-add-solutions.md) to add functionality to Log Analytics.</span></span>

