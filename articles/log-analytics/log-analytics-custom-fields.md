---
title: "поля aaaCustom в службе анализа журналов | Документы Microsoft"
description: "Hello настраиваемые поля аналитики журналов позволяет toocreate собственные поддерживающие поиск поля на основе данных OMS, добавляющий свойства toohello собранные записи.  В этой статье описывается процесс hello toocreate пользовательское поле и предоставляет Подробное пошаговое руководство события выборки."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 31572b51-6b57-4945-8208-ecfc3b5304fc
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 10/18/2016
ms.author: bwren
ms.openlocfilehash: 1aa0e497d5b1d7898b0da6a5ef40f568e63bc589
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="custom-fields-in-log-analytics"></a>Настраиваемые поля в службе Log Analytics
Hello **настраиваемые поля** аналитики журналов позволяет tooextend существующие записи в репозиторий OMS hello, добавив собственные поддерживающие поиск поля.  Настраиваемые поля автоматически заполняются данными, извлекаемыми из других свойств hello одной записи.

![Обзор настраиваемых полей](media/log-analytics-custom-fields/overview.png)

Например образец hello записи ниже содержит полезные данные содержатся в описании события hello.  Если извлечь эти данные в отдельные свойства, они станут доступными для сортировки и фильтрации.

![Кнопка поиска по журналу](media/log-analytics-custom-fields/sample-extract.png)

> [!NOTE]
> В hello предварительной версии не ограниченной too100 настраиваемые поля в рабочей области.  С выходом общедоступной версии это число увеличится.
> 
> 

## <a name="creating-a-custom-field"></a>Создание настраиваемого поля
При создании настраиваемого поля Служба аналитики журналов необходимо понимать toopopulate toouse какие данные его значение.  Применяет технологию из Microsoft Research вызывается FlashExtract tooquickly определения таких данных.  Вместо необходимости tooprovide явные инструкции, аналитика журналов узнает о данных hello требуется tooextract из предоставляемых вами примеров.

Hello в следующих разделах предоставляют hello процедуры для создания настраиваемого поля.  Пошаговое руководство по извлечения образца hello является нижней части этой статьи.

> [!NOTE]
> Hello настраиваемое поле заполняется значением записи сопоставления hello указанное условие добавляется toohello хранилища данных OMS, поэтому он будет отображаться только для записи, собранных после создания настраиваемого поля hello.  настраиваемое поле Hello не будут добавляться toorecords, уже находятся в хранилище данных hello при его создании.
> 
> 

### <a name="step-1--identify-records-that-will-have-hello-custom-field"></a>Шаг 1 – Определение записей, которые будут иметь настраиваемое поле hello
Hello первым шагом является tooidentify hello записей, которые будут hello настраиваемые поля.  Начать работу с [поиска стандартных журналов](log-analytics-log-searches.md) и выберите модель hello, аналитика журналов узнаете из tooact записи.  При указании будет tooextract данные для настраиваемого поля, hello **мастер извлечения полей** открыт проверки и уточнения условий hello.

1. Go слишком**поиска журналов** и использовать [запрашивать записи hello tooretrieve](log-analytics-log-searches.md) , будут иметь настраиваемое поле hello.
2. Выберите запись, что служба аналитики журналов будет использовать tooact как модель для извлечения данных toopopulate hello настраиваемое поле.  Вы определите данные hello, требуется tooextract из этой записи, и служба аналитики журналов будет использовать это сведения toodetermine hello логику toopopulate hello настраиваемое поле для всех подобных записей.
3. Щелкните hello кнопка toohello слева от любого свойства hello записи и выберите **извлекать поля из**.
4. Hello **открывается мастер извлечения полей**, и вы выбрали запись hello отображается в hello **основной пример** столбца.  Hello настраиваемое поле будет определено для записи с таким же значения в выбранных свойств hello hello.  
5. В случае выбора hello ровно то, что его нужно выбрать дополнительные поля toonarrow hello критериев.  В порядке toochange hello значения поля для критериев hello необходимо отменить и выберите другую запись сопоставления нужные критерии hello.

### <a name="step-2---perform-initial-extract"></a>Шаг 2. Выполнение начального извлечения
После определения hello записей, которые будут иметь настраиваемое поле hello, определения, которые должны tooextract данных hello.  Служба аналитики журналов будет использовать похожие шаблоны tooidentify этой информации в похожих записей.  На шаге hello после этого будет быть может toovalidate hello результаты и указать дополнительные сведения для анализа журналов toouse в операциях анализа.

1. Выделите текст hello в hello образец записи, что требуется toopopulate hello настраиваемого поля.  Затем откроется с tooprovide поле диалогового окна имя hello поля и tooperform hello начального извлечения.  Здравствуйте, символы  **\_CF** добавятся автоматически.
2. Нажмите кнопку **извлечь** tooperform анализ собранных записей.  
3. Hello **Сводка** и **результатов поиска** разделы отображают hello результаты извлечения hello, чтобы вы смогли проверить его точность.  **Сводка** отображает hello критерии, используемые tooidentify записей и счетчик для каждого hello данных определенных значений.  **Результаты поиска** предоставляет подробный список записей, соответствующих критериям hello.

### <a name="step-3--verify-accuracy-of-hello-extract-and-create-custom-field"></a>Шаг 3 – Проверка точности извлечения hello и создать настраиваемое поле
После выполнения hello начального извлечения Служба аналитики журналов выведет результаты на основе данных, которые уже были собраны.  Если отображаются точные результаты hello можно создать настраиваемое поле hello без без дополнительных действий.  В противном случае следует уточнить результаты hello, чтобы служба аналитики журналов смогла улучшить логику.

1. Если все значения в начальном извлечении hello неверны, нажмите кнопку hello **изменить** следующей записи неточной значок tooan и выберите **изменить выделенное** в выделенном фрагменте hello toomodify заказа.
2. Hello запись является скопированный toohello **Дополнительные примеры** раздела внизу hello **основной пример**.  Можно изменить подсветки hello здесь toohelp аналитики журналов понять hello нужно было выбрать.
3. Нажмите кнопку **извлечь** toouse этот новый сведения tooevaluate все hello существующих записей.  результаты Hello может быть изменен для записей, отличных от приветствия, который вы только что изменили придерживаясь новой аналитики.
4. Продолжайте tooadd исправления, пока не будет правильно извлечь все записи в hello идентификации hello данных toopopulate hello нового настраиваемого поля.
5. Нажмите кнопку **сохранить извлечение** Если вы удовлетворены результатами hello.  настраиваемое поле Hello определен, но он пока не добавлено tooany записей.
6. Ожидания для новых записей, соответствующих hello указан toobe критерии собираются и затем снова запустите hello поиска журналов. Новые записи должны иметь настраиваемое поле hello.
7. Используйте настраиваемое поле hello как любые другие записи свойства.  Можно использовать его tooaggregate и как группировать данные и даже использовать tooproduce новых аналитических данных.

## <a name="viewing-custom-fields"></a>Просмотр настраиваемых полей
Можно просмотреть список всех настраиваемых полей в группе управления из hello **параметры** панели мониторинга OMS hello.  Выберите вкладку **Данные**, а затем — раздел **Настраиваемые поля**, чтобы просмотреть список всех настраиваемых полей в рабочей области.  

![Настраиваемые поля](media/log-analytics-custom-fields/list.png)

## <a name="removing-a-custom-field"></a>Удаление настраиваемого поля
Существует два способа tooremove настраиваемого поля.  Hello сначала — hello **удалить** для каждого поля при просмотре полного списка hello, как описано выше.  Hello другим методом является tooretrieve, запись и нажмите кнопку toohello hello кнопку слева от поля hello.  Hello меню будет иметь tooremove параметр hello настраиваемого поля.

## <a name="sample-walkthrough"></a>Пример пошагового руководства
Hello следующем разделе вы научитесь полный пример создания настраиваемого поля.  В этом примере извлекается имя службы hello в событиях Windows, которые указывают на изменение состояния службы.  В качестве основы используются события, созданные диспетчером управления службами в системном журнале hello на компьютерах Windows.  Если вы хотите toofollow в этом примере, должен быть [собирать информационные события в системном журнале hello](log-analytics-data-sources-windows-events.md).

Мы вводим следующий запрос tooreturn hello все события из диспетчера управления службами, имеющих идентификатор события 7036, который hello событие, которое указывает на запуск или остановка службы.

![Запрос](media/log-analytics-custom-fields/query.png)

Затем мы выберем любую запись с идентификатором события 7036.

![Исходная запись](media/log-analytics-custom-fields/source-record.png)

Мы хотим hello имя службы, которое отображается в hello **RenderedDescription** свойство и выберите hello кнопку Далее toothis свойство.

![Извлечение полей](media/log-analytics-custom-fields/extract-fields.png)

Hello **мастер извлечения полей** открывается и hello **EventLog** и **EventID** поля выбираются в hello **основной пример** столбца.  Это означает, что этот hello настраиваемое поле будет определено для событий из системного журнала hello с кодом события 7036.  Этого достаточно, поэтому нам не нужен tooselect все остальные поля.

![Main Example](media/log-analytics-custom-fields/main-example.png)

Мы выделите имя hello службы hello в hello **RenderedDescription** и используйте **службы** имя службы tooidentify hello.  Hello настраиваемое поле будет вызываться **Service_CF**.

![Заголовок поля](media/log-analytics-custom-fields/field-title.png)

Мы увидим, что это имя службы hello идентифицируется должным образом для некоторых записей, но не для остальных.   Hello **результатов поиска** Показать эту часть имени hello hello **адаптера производительности WMI** не была выбрана.  Hello **Сводка** показывают, что четыре записи с **DPRMA** служба неправильно включена лишнему слову, а также определены две записи **установщик модулей** вместо **Установщик модулей Windows**.  

![Результаты поиска](media/log-analytics-custom-fields/search-results-01.png)

Мы начнем с hello **адаптера производительности WMI** записи.  Щелкнем рядом с ней значок изменения, а затем — **Modify this highlight**(Изменить это выделение).  

![Изменение выделения](media/log-analytics-custom-fields/modify-highlight.png)

Мы расширяем слово hello tooinclude выделения hello **WMI** , а затем перезапустите извлечения hello.  

![Дополнительный пример](media/log-analytics-custom-fields/additional-example-01.png)

Мы видим, что hello записи для **адаптера производительности WMI** были исправлены, и служба аналитики журналов использовала, записываемых hello сведения toocorrect для **установщика модулей Windows**.  Мы видим в hello **Сводка** разделе, **DPMRA** -по-прежнему не идентифицируется должным образом.

![Результаты поиска](media/log-analytics-custom-fields/search-results-02.png)

Мы прокручивать записи tooa со службой DPMRA hello и использовать же процесс toocorrect, запишите hello.

![Дополнительный пример](media/log-analytics-custom-fields/additional-example-02.png)

 При выполнении извлечения hello, мы видим, что все результаты точны теперь.

![Результаты поиска](media/log-analytics-custom-fields/search-results-03.png)

Можно видеть, что **Service_CF** создается, но еще не добавлено tooany записей.

![Начальное количество](media/log-analytics-custom-fields/initial-count.png)

После некоторых времени таким образом, новые события собираются, мы видим, hello **Service_CF** поле добавляется toorecords, которые соответствуют нашим условиям.

![Окончательные результаты](media/log-analytics-custom-fields/final-results.png)

Теперь можно использовать пользовательское поле hello как любые другие свойства записи.  tooillustrate это, мы создаем запрос, который группирует по hello новый **Service_CF** tooinspect поле службы, наиболее активные hello.

![Группировка по запросу](media/log-analytics-custom-fields/query-group.png)

## <a name="next-steps"></a>Дальнейшие действия
* Дополнительные сведения о [входа выполняет](log-analytics-log-searches.md) toobuild запросы, использующие настраиваемые поля для критериев.
* Отслеживайте [пользовательские файлы журналов](log-analytics-data-sources-custom-logs.md), которые можно анализировать с помощью настраиваемых полей.

