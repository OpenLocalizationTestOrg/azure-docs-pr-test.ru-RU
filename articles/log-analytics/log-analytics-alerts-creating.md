---
title: "оповещения aaaCreating в аналитику журнала OMS | Документы Microsoft"
description: "Предупреждения в службе анализа журналов определить важную информацию в репозитории OMS и можно заранее уведомлять вас о проблемах или вызова действия tooattempt toocorrect их.  В этой статье описывается, как toocreate правила оповещения и сведения о hello различные действия они могут получить."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6cfd2a46-b6a2-4f79-a67b-08ce488f9a91
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/23/2017
ms.author: bwren
ms.openlocfilehash: 3d035b2426dda9645b19e6c993dc26a2d95a2a78
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="working-with-alert-rules-in-log-analytics"></a>Работа с правилами генерации оповещений в Log Analytics
Оповещения создаются с помощью правил оповещения, которые автоматически выполняют поиск по журналам через регулярные интервалы.  Они создают запись предупреждения, если результаты hello соответствует конкретным условиям.  правило Hello можно автоматически выполните одну или дополнительные действия tooproactively уведомит hello предупреждения или вызвать другой процесс.   

В этой статье описываются процессы toocreate hello и изменение правил оповещений с помощью портала OMS hello.  Дополнительные сведения о различных параметрах hello и как tooimplement требуется логика см. в разделе [основные сведения о предупреждениях в службе анализа журналов](log-analytics-alerts.md).

>[!NOTE]
> В настоящее время, нельзя создавать или изменять с помощью портала Azure hello правила оповещения. 

## <a name="create-an-alert-rule"></a>Создание правила оповещения

правило генерации оповещений с помощью портала OMS hello, начните с создания поиска журналов для записи hello, следует вызвать предупреждение hello toocreate.  Hello **предупреждение** кнопки будут доступны, можно создать и настроить правила оповещений hello.

>[!NOTE]
> В рабочей области OMS сейчас можно создать максимум 250 правил оповещения. 

1. На странице обзора OMS hello нажмите **поиска журналов**.
2. Создайте новый запрос поиска журналов или выберите сохраненный поиск. 
3. Нажмите кнопку **предупреждения** вверху hello hello tooopen страницы приветствия **добавить правило оповещения** экрана.
4. Настроить правила оповещений hello, используя информацию в [сведения о правилах оповещений](#details-of-alert-rules) ниже.
6. Нажмите кнопку **Сохранить** правило оповещения toocomplete hello.  Оно запускается немедленно.


## <a name="edit-an-alert-rule"></a>Изменение правила генерации оповещений
Список всех правил оповещений можно получить в hello **оповещения** меню в службе анализа журналов **параметры**.  

![Управление оповещениями](./media/log-analytics-alerts/configure.png)

1. В выберите hello hello OMS консоли **параметры** плитки.
2. Выберите **Оповещения**.

В этом представлении можно выполнить несколько действий.

* Отключение правила, выбрав **Off** tooit Далее.
* Измените правило генерации оповещений, щелкнув tooit Далее значок карандаша hello.
* Удалить правило оповещения, щелкнув hello **X** Далее tooit значок. 

## <a name="details-of-alert-rules"></a>Сведения о правилах генерации оповещений
При создании или изменении правила оповещения на портале OMS hello, необходимо работать с hello **добавить правило оповещения о** или **изменение правила оповещения** страницы.  Привет, следующие таблицы описывают поля hello на этом экране.

![Правило генерации оповещений](media/log-analytics-alerts/add-alert-rule.png)

### <a name="alert-information"></a>Alert information (Сведения об оповещении)
Это основные параметры для правила оповещения hello и hello оповещения, созданные им.

| Свойство | Описание |
|:--- |:---|
| Имя | Уникальное имя tooidentify hello правило оповещения. Это имя включается в предупреждениях, созданная правилом hello.  |
| Описание | Необязательное описание правила оповещений hello. |
| Severity |Уровень серьезности оповещений, созданных этим правилом. |

### <a name="search-query-and-time-window"></a>Поисковый запрос и временное окно
окно запроса и время поиска Hello, возвращающий записей hello, вычисленное toodetermine, если должны быть созданы все оповещения.

| Свойство | Описание |
|:--- |:---|
| Поисковый запрос | Это hello запрос, который будет выполняться.  Hello записей, возвращаемых этим запросом будет использоваться toodetermine ли создаваться оповещение.<br><br>Выберите **использовать текущий поисковый запрос** toouse hello текущего запроса, или выберите существующий сохраненного поиска из списка hello.  синтаксис запроса Hello предоставляется в hello текстовое поле, в котором можно изменить его при необходимости. |
| Time window (Временное окно) |Указывает диапазон времени hello для запроса hello.  Hello запрос возвращает только те записи, которые были созданы в течение этого интервала hello текущее время.  Это значение может составлять от 5 минут до 24 часов.  Он должен быть больше или равно toohello частота оповещений.  <br><br> Например если hello время устанавливается окна too60 минут, а hello запрос выполняется в 13:15, будет возвращаться только записи, созданные между 12:15 PM и 1:15 PM. |

При предоставлении hello интервал времени для правила оповещения hello, будет отображаться hello число существующих записей, соответствующих условиям поиска hello для этого периода времени.  Это может помочь определить частоту hello, которая даст количество ожидаемых результатов hello.

### <a name="schedule"></a>Расписание
Определяет, как часто hello поиска выполняется запрос.

| Свойство | Описание |
|:--- |:---|
| Alert frequency (Частота оповещений) | Указывает, как часто hello должен выполняться запрос. Это значение может составлять от 5 минут до 24 часов. Должно быть равно tooor меньше временного окна hello.  Если значение hello превышает временное окно приветствия, существует риск записей будет пропущено.<br><br>Например, рассмотрим временное окно в 30 минут и частоту в 60 минут.  Если hello запрос выполняется в 1:00, он возвращает записи от 12:30 до 1:00 PM.  Hello очередного запроса hello запустит — 2:00, когда она возвратит записей от 1:30 до 2:00.  Записи, созданные между 13:00 и 13:30, не будут учитываться. |


### <a name="generate-alert-based-on"></a>Создать оповещение на основе
Определяет критерии, которые будут вычисляться hello результаты запроса toodetermine hello поиска при создании предупреждения должны создаваться приветствия.  Эти сведения будут отличаться в зависимости от типа hello правило оповещения, который выбран.  Вы можете получить сведения для hello типы другое правило генерации оповещений из [основные сведения о предупреждениях в службе анализа журналов](log-analytics-alerts.md).

| Свойство | Описание |
|:--- |:---|
| Отменить вывод оповещений | При включении подавления для правила оповещения hello действия для правила hello отключены для определенного промежутка времени, после создания нового оповещения. правило Hello продолжает работать и создаст записи оповещений, если критерию hello. Это tooallow время toocorrect hello проблемы без запуска повторяющиеся действия. |

#### <a name="number-of-results-alert-rules"></a>Правило генерации оповещений "Число результатов"

| Свойство | Описание |
|:--- |:---|
| Количество результатов |Предупреждение создается в том случае, если число записей, возвращаемых запросом hello hello **больше** или **меньше, чем** hello значения.  |

#### <a name="metric-measurement-alert-rules"></a>Metric measurement alert rules (Измерение метрики для правила генерации оповещений)

| Свойство | Описание |
|:--- |:---|
| Статистическое значение | Пороговое значение, что каждый статистическое значение в результатах hello должно превышать toobe считается нарушением. |
| Активировать оповещение на основе | число нарушений для предупреждения toobe создан Hello.  Можно указать **общее число нарушений** любое сочетание угроз в результатах hello задать или **последовательных нарушений** toorequire, hello нарушений должно находиться в последовательных выборок. |

### <a name="actions"></a>Действия
Правила генерации оповещений всегда будет создаваться [предупреждения записи](#alert-records) при достижении порогового значения hello.  Также можно определить один или несколько ответов toobe запуска, например отправка сообщения электронной почты или запуск runbook.



#### <a name="email-actions"></a>Действия электронной почты
Действия по электронной почте Отправить электронное письмо с подробными сведениями hello предупреждения tooone hello или нескольких получателей.

| Свойство | Описание |
|:--- |:---|
| Уведомление по электронной почте |Укажите **Да** Если toobe электронной почты, отправленного при запуске hello предупреждение. |
| Субъект |Темы в сообщении электронной почты hello.  Не удается изменить текст hello почты hello. |
| Recipients |Адреса всех получателей электронной почты.  Если указать более одного адреса, а затем отдельной hello адреса точкой с запятой (;). |

#### <a name="webhook-actions"></a>Действия webhook
Веб-перехватчика действия позволяют проводить tooinvoke внешний процесс с помощью одного запроса HTTP POST.

| Свойство | Описание |
|:--- |:---|
| webhook |Укажите **Да** собирать toocall веб-перехватчика, когда hello оповещения. |
| URL-адрес Webhook |Hello URL-адрес веб-перехватчика hello. |
| Include custom JSON payload (Включить пользовательские полезные данные JSON) |Выберите этот параметр, если требуется полезных данных по умолчанию hello tooreplace с настраиваемые полезные данные. |
| Enter your custom JSON payload (Введите пользовательские полезные данные JSON) |Hello настраиваемые полезные данные для веб-перехватчика hello.  Подробности приведены в предыдущем разделе. |

#### <a name="runbook-actions"></a>Действия Runbook
Действия Runbook запускают модуль Runbook в службе автоматизации Azure. 

>[!NOTE]
> Необходимо установить решение автоматизации hello в рабочей области для этого toobe действие включено. 


| Свойство | Описание |
|:--- |:---|
| Модуль Runbook | Укажите **Да** собирать toostart runbook службы автоматизации Azure, когда hello оповещения.  |
| Учетная запись службы автоматизации | Указывает hello учетной записи автоматизации, выбранные из модулей Runbook.  Это учетная запись действия hello со связанными toohello рабочей области. |
| Выберите Runbook | Выберите runbook hello требуется toostart при создании оповещения. |
| Запуск на | Выберите **Azure** toorun hello runbook в облаке hello.  Выберите **гибридной рабочей роли** toorun runbook hello на агенте с [гибридной рабочей ролью Runbook](../automation/automation-hybrid-runbook-worker.md ) установлен.  |




## <a name="next-steps"></a>Дальнейшие действия
* Установка hello [решение для управления оповещениями](log-analytics-solution-alert-management.md) tooanalyze предупреждения, созданные в службе анализа журналов вместе с оповещениями, собранные из System Center Operations Manager (SCOM).
* Вы можете ознакомиться с дополнительными сведениями о [поисках журналов](log-analytics-log-searches.md) , которые могут создавать оповещения.
* Вы можете выполнить пошаговое руководство по [настройке webook](log-analytics-alerts-webhooks.md) с использованием правила генерации оповещений.  
* Узнайте, как toowrite [Runbook в автоматизации Azure](https://azure.microsoft.com/documentation/services/automation) tooremediate проблемы определяется предупреждения.

