---
title: "Настройка источников данных в OMS Log Analytics | Документация Майкрософт"
description: "Источники данных определяют, какие данные Log Analytics будет собирать из агентов и других подключенных источников.  В этой статье описывается, каким образом служба Log Analytics использует источники данных, и рассказывается, как их настраивать, а также приводятся общие сведения о различных доступных источниках данных."
services: log-analytics
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: 67710115-c861-40f8-a377-57c7fa6909b4
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/23/2017
ms.author: bwren
ms.openlocfilehash: 00d030a502cf70ea9a5dea767f560cdf2919573e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/11/2017
---
# <a name="data-sources-in-log-analytics"></a><span data-ttu-id="fbec9-104">Источники данных в Log Analytics</span><span class="sxs-lookup"><span data-stu-id="fbec9-104">Data sources in Log Analytics</span></span>
<span data-ttu-id="fbec9-105">Служба Log Analytics собирает данные из подключенных источников в рабочую область OMS и сохраняет их в репозитории OMS.</span><span class="sxs-lookup"><span data-stu-id="fbec9-105">Log Analytics collects data from the Connected Sources in your OMS workspace and stores it in OMS repository.</span></span>  <span data-ttu-id="fbec9-106">Собираемые данные зависят от заданного вами источника данных.</span><span class="sxs-lookup"><span data-stu-id="fbec9-106">The data that is collected from each is defined by the Data Sources that you configure.</span></span>  <span data-ttu-id="fbec9-107">Данные в репозитории OMS хранятся как набор записей.</span><span class="sxs-lookup"><span data-stu-id="fbec9-107">Data in the OMS repository is stored as a set of records.</span></span>  <span data-ttu-id="fbec9-108">Каждый источник данных создает записи определенного типа, а каждый тип обладает собственным набором свойств.</span><span class="sxs-lookup"><span data-stu-id="fbec9-108">Each data source creates records of a particular type with each type having its own set of properties.</span></span>

![Сбор данных в службе Log Analytics](./media/log-analytics-data-sources/overview.png)

<span data-ttu-id="fbec9-110">Источники данных могут отличаться от решений OMS, которые также собирают данные с подключенных источников и создают записи в репозитории OMS.</span><span class="sxs-lookup"><span data-stu-id="fbec9-110">Data Sources are different than OMS Solutions which also collect data from Connected Sources and create records in the OMS repository.</span></span>  <span data-ttu-id="fbec9-111">Решения могут добавляться в рабочую область из коллекции решений и обычно предоставляют дополнительные средства анализа на портале OMS.</span><span class="sxs-lookup"><span data-stu-id="fbec9-111">Solutions can be added to your workspace from the Solutions Gallery and will typically provide additional analysis tools in the OMS portal.</span></span>  

## <a name="summary-of-data-sources"></a><span data-ttu-id="fbec9-112">Сводка источников данных</span><span class="sxs-lookup"><span data-stu-id="fbec9-112">Summary of data sources</span></span>
<span data-ttu-id="fbec9-113">Источники данных, доступные в службе Log Analytics на данный момент, перечислены в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="fbec9-113">The data sources that are currently available in Log Analytics are listed in the following table.</span></span>  <span data-ttu-id="fbec9-114">Для каждого дается ссылка на отдельную статью, содержащую сведения об этом источнике данных.</span><span class="sxs-lookup"><span data-stu-id="fbec9-114">Each has a link to a separate article providing detail for that data source.</span></span>

| <span data-ttu-id="fbec9-115">Источник данных</span><span class="sxs-lookup"><span data-stu-id="fbec9-115">Data Source</span></span> | <span data-ttu-id="fbec9-116">Тип события</span><span class="sxs-lookup"><span data-stu-id="fbec9-116">Event Type</span></span> | <span data-ttu-id="fbec9-117">Описание</span><span class="sxs-lookup"><span data-stu-id="fbec9-117">Description</span></span> |
|:--- |:--- |:--- |
| [<span data-ttu-id="fbec9-118">Пользовательские журналы</span><span class="sxs-lookup"><span data-stu-id="fbec9-118">Custom logs</span></span>](log-analytics-data-sources-custom-logs.md) |<span data-ttu-id="fbec9-119">\<LogName\>_CL</span><span class="sxs-lookup"><span data-stu-id="fbec9-119">\<LogName\>_CL</span></span> |<span data-ttu-id="fbec9-120">Текстовые файлы на агентах Windows или Linux, содержащие сведения о журналах.</span><span class="sxs-lookup"><span data-stu-id="fbec9-120">Text files on Windows or Linux agents containing log information.</span></span> |
| [<span data-ttu-id="fbec9-121">Журналы событий Windows</span><span class="sxs-lookup"><span data-stu-id="fbec9-121">Windows Event logs</span></span>](log-analytics-data-sources-windows-events.md) |<span data-ttu-id="fbec9-122">Событие</span><span class="sxs-lookup"><span data-stu-id="fbec9-122">Event</span></span> |<span data-ttu-id="fbec9-123">События, сведения о которых собраны из журналов событий на компьютерах с ОС Windows.</span><span class="sxs-lookup"><span data-stu-id="fbec9-123">Events collected from the event log on Windows computers.</span></span> |
| [<span data-ttu-id="fbec9-124">Счетчики производительности Windows</span><span class="sxs-lookup"><span data-stu-id="fbec9-124">Windows Performance counters</span></span>](log-analytics-data-sources-performance-counters.md) |<span data-ttu-id="fbec9-125">Perf</span><span class="sxs-lookup"><span data-stu-id="fbec9-125">Perf</span></span> |<span data-ttu-id="fbec9-126">Счетчики производительности, сведения о которых собраны на компьютерах с ОС Windows.</span><span class="sxs-lookup"><span data-stu-id="fbec9-126">Performance counters collected from Windows computers.</span></span> |
| [<span data-ttu-id="fbec9-127">Счетчики производительности Linux</span><span class="sxs-lookup"><span data-stu-id="fbec9-127">Linux Performance counters</span></span>](log-analytics-data-sources-performance-counters.md) |<span data-ttu-id="fbec9-128">Perf</span><span class="sxs-lookup"><span data-stu-id="fbec9-128">Perf</span></span> |<span data-ttu-id="fbec9-129">Счетчики производительности, сведения о которых собраны на компьютерах с ОС Linux.</span><span class="sxs-lookup"><span data-stu-id="fbec9-129">Performance counters collected from Linux computers.</span></span> |
| [<span data-ttu-id="fbec9-130">Журналы IIS</span><span class="sxs-lookup"><span data-stu-id="fbec9-130">IIS logs</span></span>](log-analytics-data-sources-iis-logs.md) |<span data-ttu-id="fbec9-131">W3CIISLog</span><span class="sxs-lookup"><span data-stu-id="fbec9-131">W3CIISLog</span></span> |<span data-ttu-id="fbec9-132">Журналы служб IIS в формате W3C.</span><span class="sxs-lookup"><span data-stu-id="fbec9-132">Internet Information Services logs in W3C format.</span></span> |
| [<span data-ttu-id="fbec9-133">Системный журнал</span><span class="sxs-lookup"><span data-stu-id="fbec9-133">Syslog</span></span>](log-analytics-data-sources-syslog.md) |<span data-ttu-id="fbec9-134">syslog</span><span class="sxs-lookup"><span data-stu-id="fbec9-134">Syslog</span></span> |<span data-ttu-id="fbec9-135">События системного журнала на компьютерах с ОС Windows или Linux.</span><span class="sxs-lookup"><span data-stu-id="fbec9-135">Syslog events on Windows or Linux computers.</span></span> |

## <a name="configuring-data-sources"></a><span data-ttu-id="fbec9-136">Настройка источников данных</span><span class="sxs-lookup"><span data-stu-id="fbec9-136">Configuring data sources</span></span>
<span data-ttu-id="fbec9-137">Источники данных можно настроить в Log Analytics в меню **Данные** в разделе **Параметры**.</span><span class="sxs-lookup"><span data-stu-id="fbec9-137">You configure data sources from the **Data** menu in Log Analytics **Settings**.</span></span>  <span data-ttu-id="fbec9-138">Конфигурация передается на все подключенные источники в рабочей области OMS.</span><span class="sxs-lookup"><span data-stu-id="fbec9-138">Any configuration is delivered to all connected sources in your OMS workspace.</span></span>  <span data-ttu-id="fbec9-139">В настоящее время исключать агенты из этой конфигурации нельзя.</span><span class="sxs-lookup"><span data-stu-id="fbec9-139">You cannot currently exclude any agents from this configuration.</span></span>

![Настройка событий Windows](./media/log-analytics-data-sources/configure-events.png)

1. <span data-ttu-id="fbec9-141">В консоли OMS щелкните плитку **Параметры** или нажмите кнопку **Параметры** в верхней части экрана.</span><span class="sxs-lookup"><span data-stu-id="fbec9-141">In the OMS console click the **Settings** tile or the **Settings** button at the top of the screen.</span></span>
2. <span data-ttu-id="fbec9-142">Выберите **Данные**.</span><span class="sxs-lookup"><span data-stu-id="fbec9-142">Select **Data**.</span></span>
3. <span data-ttu-id="fbec9-143">Щелкните источник данных для настройки.</span><span class="sxs-lookup"><span data-stu-id="fbec9-143">Click on the data source to configure.</span></span>
4. <span data-ttu-id="fbec9-144">Перейдите по ссылке на документацию для каждого источника данных в приведенной выше таблице и найдите сведения об их настройке.</span><span class="sxs-lookup"><span data-stu-id="fbec9-144">Follow the link to the documentation for each data source in the above table for details on their configuration.</span></span>

> [!NOTE]
> <span data-ttu-id="fbec9-145">Пока нет возможности настроить источники данных Log Analytics на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="fbec9-145">You cannot currently configure Log Analytics data sources in the Azure portal.</span></span>

## <a name="data-collection"></a><span data-ttu-id="fbec9-146">Сбор данных</span><span class="sxs-lookup"><span data-stu-id="fbec9-146">Data collection</span></span>
<span data-ttu-id="fbec9-147">Конфигурации источников данных передаются в агенты, подключенные к Log Analytics напрямую, в течение нескольких минут.</span><span class="sxs-lookup"><span data-stu-id="fbec9-147">Data source configurations are delivered to agents that are directly connected to Log Analytics within a few minutes.</span></span>  <span data-ttu-id="fbec9-148">Указанные данные собираются из агента и передаются непосредственно в службу Log Analytics с периодичностью, указанной для каждого источника данных.</span><span class="sxs-lookup"><span data-stu-id="fbec9-148">The specified data is collected from the agent and delivered directly to Log Analytics at intervals specific to each data source.</span></span>  <span data-ttu-id="fbec9-149">Особенности каждого источника данных см. в соответствующей документации.</span><span class="sxs-lookup"><span data-stu-id="fbec9-149">See the documentation for each data source for these specifics.</span></span>

<span data-ttu-id="fbec9-150">Для агентов System Center Operations Manager (SCOM) в подключенной группе управления конфигурации источников данных преобразуются в пакеты управления и по умолчанию передаются в группу управления через каждые пять минут.</span><span class="sxs-lookup"><span data-stu-id="fbec9-150">For System Center Operations Manager (SCOM) agents in a connected management group, data source configurations are translated into management packs and delivered to the management group every 5 minutes by default.</span></span>  <span data-ttu-id="fbec9-151">Агент загружает пакет управления обычным способом и собирает указанные данные.</span><span class="sxs-lookup"><span data-stu-id="fbec9-151">The agent downloads the management pack like any other and collects the specified data.</span></span> <span data-ttu-id="fbec9-152">В зависимости от источника данных возможны два сценария: либо данные будут отправляться на сервер управления, который перенаправляет их в службу Log Analytics, либо агент будет отправлять данные в службу Log Analytics, минуя сервер управления.</span><span class="sxs-lookup"><span data-stu-id="fbec9-152">Depending on the data source the data will be either sent to a management server which forwards the data to the Log Analytics, or the agent will send the data to Log Analytics without going through the management server.</span></span> <span data-ttu-id="fbec9-153">Дополнительные сведения см. в разделе [Сведения о сборе данных для компонентов и решений OMS](log-analytics-add-solutions.md#data-collection-details).</span><span class="sxs-lookup"><span data-stu-id="fbec9-153">Refer to [data collection details for OMS features and solutions](log-analytics-add-solutions.md#data-collection-details) for details.</span></span>  <span data-ttu-id="fbec9-154">Подробные сведения о подключении SCOM и OMS и изменении частоты доставки конфигурации см. в статье о [настройке интеграции с System Center Operations Manager](log-analytics-om-agents.md).</span><span class="sxs-lookup"><span data-stu-id="fbec9-154">You can read about details of connecting SCOM and OMS and modifying the frequency that configuration is delivered at [Configure Integration with System Center Operations Manager](log-analytics-om-agents.md).</span></span>

<span data-ttu-id="fbec9-155">Если агенту не удается подключиться к Log Analytics или Operations Manager, он будет продолжать собирать данные, чтобы передать их после успешного подключения.</span><span class="sxs-lookup"><span data-stu-id="fbec9-155">If the agent is unable to connect to Log Analytics or Operations Manager, it will continue to collect data that it will deliver when it establishes a connection.</span></span>  <span data-ttu-id="fbec9-156">Данные могут быть потеряны, если их объем достигнет максимального размера кэша для клиента или агент не сможет установить подключение в течение 24 часов.</span><span class="sxs-lookup"><span data-stu-id="fbec9-156">Data can be lost if the amount of data reaches the maximum cache size for the client, or if the agent is not able to establish a connection within 24 hours.</span></span>

## <a name="log-analytics-records"></a><span data-ttu-id="fbec9-157">Записи Log Analytics</span><span class="sxs-lookup"><span data-stu-id="fbec9-157">Log Analytics records</span></span>
<span data-ttu-id="fbec9-158">Все данные, собранные службой Log Analytics, хранятся в репозитории OMS в виде записей.</span><span class="sxs-lookup"><span data-stu-id="fbec9-158">All data collected by Log Analytics is stored in the OMS repository as records.</span></span>  <span data-ttu-id="fbec9-159">Записи, собираемые различными источниками данных, получают собственный набор свойств и идентифицируются по свойству **Тип**.</span><span class="sxs-lookup"><span data-stu-id="fbec9-159">Records collected by different data sources will have their own set of properties and be identified by their **Type** property.</span></span>  <span data-ttu-id="fbec9-160">Подробные сведения о каждом типе записей см. в документации по каждому типу источников и решению.</span><span class="sxs-lookup"><span data-stu-id="fbec9-160">See the documentation for each data source and solution for details on each record type.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fbec9-161">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="fbec9-161">Next Steps</span></span>
* <span data-ttu-id="fbec9-162">Узнайте больше о [решениях](log-analytics-add-solutions.md) , которые расширяют функции службы Log Analytics и собирают данные в репозиторий OMS.</span><span class="sxs-lookup"><span data-stu-id="fbec9-162">Learn about [solutions](log-analytics-add-solutions.md) that add functionality to Log Analytics and also collect data into the OMS repository.</span></span>
* <span data-ttu-id="fbec9-163">Узнайте больше об [операциях поиска по журналу](log-analytics-log-searches.md) , которые можно применять для анализа данных, собираемых из источников данных и решений.</span><span class="sxs-lookup"><span data-stu-id="fbec9-163">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span>  
* <span data-ttu-id="fbec9-164">Настройте [оповещения](log-analytics-alerts.md) для получения заблаговременных уведомлений о получении критически важных данных из источников данных и решений.</span><span class="sxs-lookup"><span data-stu-id="fbec9-164">Configure [alerts](log-analytics-alerts.md) to proactively notify you of critical data collected from data sources and solutions.</span></span>
