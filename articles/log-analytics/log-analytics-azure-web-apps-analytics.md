---
title: "Просмотр аналитических данных веб-приложений Azure | Документация Майкрософт"
description: "Аналитику веб-приложений Azure можно использовать для углубленного анализа данных веб-приложений Azure при сборе разных метрик ресурсов веб-приложений Azure."
services: log-analytics
documentationcenter: 
author: bandersmsft
manager: carmonm
editor: 
ms.assetid: 20ff337f-b1a3-4696-9b5a-d39727a94220
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/11/2017
ms.author: banders
ms.openlocfilehash: f480188c46f16473bf294c857cd07e3cec5dc0ba
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="view-analytic-data-for-metrics-across-all-your-azure-web-app-resources"></a><span data-ttu-id="85de1-103">Просмотр аналитических данных для метрик ресурсов веб-приложений Azure</span><span class="sxs-lookup"><span data-stu-id="85de1-103">View analytic data for metrics across all your Azure Web App resources</span></span>

<span data-ttu-id="85de1-104">![Символ веб-приложений](./media/log-analytics-azure-web-apps-analytics/azure-web-apps-analytics-symbol.png)</span><span class="sxs-lookup"><span data-stu-id="85de1-104">![Web Apps symbol](./media/log-analytics-azure-web-apps-analytics/azure-web-apps-analytics-symbol.png)</span></span>  
<span data-ttu-id="85de1-105">Аналитику веб-приложений Azure (предварительная версия) можно использовать для углубленного анализа данных [веб-приложений Azure](../app-service-web/app-service-web-overview.md) при сборе разных метрик ресурсов веб-приложений Azure.</span><span class="sxs-lookup"><span data-stu-id="85de1-105">The Azure Web Apps Analytics (Preview) solution provides insights into your [Azure Web Apps](../app-service-web/app-service-web-overview.md) by collecting different metrics across all your Azure Web App resources.</span></span> <span data-ttu-id="85de1-106">Это решение позволяет анализировать и искать данные метрик ресурсов веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-106">With the solution, you can analyze and search for web app resource metric data.</span></span>

<span data-ttu-id="85de1-107">Это решение позволяет просматривать:</span><span class="sxs-lookup"><span data-stu-id="85de1-107">Using the solution, you can view the:</span></span>

- <span data-ttu-id="85de1-108">основные веб-приложения с наибольшим временем отклика;</span><span class="sxs-lookup"><span data-stu-id="85de1-108">Top Web Apps with the highest response time</span></span>
- <span data-ttu-id="85de1-109">число запросов в веб-приложениях, включая успешные и неудачные попытки запросов;</span><span class="sxs-lookup"><span data-stu-id="85de1-109">Number of requests across your Web Apps, including successful and failed requests</span></span>
- <span data-ttu-id="85de1-110">основные веб-приложения с самым высоким входящим и исходящим трафиком;</span><span class="sxs-lookup"><span data-stu-id="85de1-110">Top Web Apps with highest incoming and outgoing traffic</span></span>
- <span data-ttu-id="85de1-111">основные планы обслуживания с высокой загрузкой ЦП и использованием памяти;</span><span class="sxs-lookup"><span data-stu-id="85de1-111">Top service plans with high CPU and memory utilization</span></span>
- <span data-ttu-id="85de1-112">операции журнала действий веб-приложений Azure;</span><span class="sxs-lookup"><span data-stu-id="85de1-112">Azure Web Apps activity log operations</span></span>

## <a name="connected-sources"></a><span data-ttu-id="85de1-113">Подключенные источники</span><span class="sxs-lookup"><span data-stu-id="85de1-113">Connected sources</span></span>

<span data-ttu-id="85de1-114">В отличие от большинства других решений Log Analytics, данные для веб-приложений Azure не собираются агентами.</span><span class="sxs-lookup"><span data-stu-id="85de1-114">Unlike most other Log Analytics solutions, data isn't collected for Azure Web Apps by agents.</span></span> <span data-ttu-id="85de1-115">Все данные, используемые решением, поступают непосредственно из Azure.</span><span class="sxs-lookup"><span data-stu-id="85de1-115">All data used by the solution comes directly from Azure.</span></span>

| <span data-ttu-id="85de1-116">Подключенный источник</span><span class="sxs-lookup"><span data-stu-id="85de1-116">Connected Source</span></span> | <span data-ttu-id="85de1-117">Поддерживаются</span><span class="sxs-lookup"><span data-stu-id="85de1-117">Supported</span></span> | <span data-ttu-id="85de1-118">Описание</span><span class="sxs-lookup"><span data-stu-id="85de1-118">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="85de1-119">Агенты Windows</span><span class="sxs-lookup"><span data-stu-id="85de1-119">Windows agents</span></span>](log-analytics-windows-agents.md) | <span data-ttu-id="85de1-120">Нет</span><span class="sxs-lookup"><span data-stu-id="85de1-120">No</span></span> | <span data-ttu-id="85de1-121">Решение не собирает сведения из агентов Windows.</span><span class="sxs-lookup"><span data-stu-id="85de1-121">The solution does not collect information from Windows agents.</span></span> |
| [<span data-ttu-id="85de1-122">Агенты Linux</span><span class="sxs-lookup"><span data-stu-id="85de1-122">Linux agents</span></span>](log-analytics-linux-agents.md) | <span data-ttu-id="85de1-123">Нет</span><span class="sxs-lookup"><span data-stu-id="85de1-123">No</span></span> | <span data-ttu-id="85de1-124">Решение не собирает сведения из агентов Linux.</span><span class="sxs-lookup"><span data-stu-id="85de1-124">The solution does not collect information from Linux agents.</span></span> |
| [<span data-ttu-id="85de1-125">Группы управления SCOM</span><span class="sxs-lookup"><span data-stu-id="85de1-125">SCOM management group</span></span>](log-analytics-om-agents.md) | <span data-ttu-id="85de1-126">Нет</span><span class="sxs-lookup"><span data-stu-id="85de1-126">No</span></span> | <span data-ttu-id="85de1-127">Решение не собирает сведения из агентов в подключенной группе управления SCOM.</span><span class="sxs-lookup"><span data-stu-id="85de1-127">The solution does not collect information from agents in a connected SCOM management group.</span></span> |
| [<span data-ttu-id="85de1-128">Учетная запись хранения Azure</span><span class="sxs-lookup"><span data-stu-id="85de1-128">Azure storage account</span></span>](log-analytics-azure-storage.md) | <span data-ttu-id="85de1-129">Нет</span><span class="sxs-lookup"><span data-stu-id="85de1-129">No</span></span> | <span data-ttu-id="85de1-130">Решение не собирает сведения из службы хранилища Azure.</span><span class="sxs-lookup"><span data-stu-id="85de1-130">The solution does not collection information from Azure storage.</span></span> |

## <a name="prerequisites"></a><span data-ttu-id="85de1-131">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="85de1-131">Prerequisites</span></span>

- <span data-ttu-id="85de1-132">Для доступа к данным метрик веб-приложений Azure необходима подписка Azure.</span><span class="sxs-lookup"><span data-stu-id="85de1-132">To access Azure Web App resource metric information, you must have an Azure subscription.</span></span>

## <a name="configuration"></a><span data-ttu-id="85de1-133">Конфигурация</span><span class="sxs-lookup"><span data-stu-id="85de1-133">Configuration</span></span>

<span data-ttu-id="85de1-134">Выполните следующие действия, чтобы настроить решение "Аналитика веб-приложений Azure" в рабочих областях.</span><span class="sxs-lookup"><span data-stu-id="85de1-134">Perform the following steps to configure the Azure Web Apps Analytics solution for your workspaces.</span></span>

1. <span data-ttu-id="85de1-135">Включите решение "Аналитика веб-приложений Azure" из [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.AzureWebAppsAnalyticsOMS?tab=Overview) или выполните инструкции по [добавлению решений Log Analytics из коллекции решений](log-analytics-add-solutions.md).</span><span class="sxs-lookup"><span data-stu-id="85de1-135">Enable the Azure Web Apps Analytics solution from [Azure marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.AzureWebAppsAnalyticsOMS?tab=Overview) or by using the process described in [Add Log Analytics solutions from the Solutions Gallery](log-analytics-add-solutions.md).</span></span>
2. <span data-ttu-id="85de1-136">[Включите ведение журнала метрик ресурсов Azure для OMS с помощью PowerShell](https://blogs.technet.microsoft.com/msoms/2017/01/17/enable-azure-resource-metrics-logging-using-powershell).</span><span class="sxs-lookup"><span data-stu-id="85de1-136">[Enable Azure resource metrics logging to OMS using PowerShell](https://blogs.technet.microsoft.com/msoms/2017/01/17/enable-azure-resource-metrics-logging-using-powershell).</span></span>

<span data-ttu-id="85de1-137">Решение "Аналитика веб-приложений Azure" собирает два набора метрик из Azure:</span><span class="sxs-lookup"><span data-stu-id="85de1-137">The Azure Web Apps Analytics solution collects two set of metrics from Azure:</span></span>

- <span data-ttu-id="85de1-138">метрики веб-приложений Azure;</span><span class="sxs-lookup"><span data-stu-id="85de1-138">Azure Web Apps metrics</span></span>
  - <span data-ttu-id="85de1-139">средний размер рабочего набора памяти;</span><span class="sxs-lookup"><span data-stu-id="85de1-139">Average Memory Working Set</span></span>
  - <span data-ttu-id="85de1-140">Среднее время ответа:</span><span class="sxs-lookup"><span data-stu-id="85de1-140">Average Response Time</span></span>
  - <span data-ttu-id="85de1-141">полученные и отправленные байты;</span><span class="sxs-lookup"><span data-stu-id="85de1-141">Bytes Received/Sent</span></span>
  - <span data-ttu-id="85de1-142">Время ЦП:</span><span class="sxs-lookup"><span data-stu-id="85de1-142">CPU Time</span></span>
  - <span data-ttu-id="85de1-143">Requests (Запросы)</span><span class="sxs-lookup"><span data-stu-id="85de1-143">Requests</span></span>
  - <span data-ttu-id="85de1-144">рабочий набор памяти;</span><span class="sxs-lookup"><span data-stu-id="85de1-144">Memory Working Set</span></span>
  - <span data-ttu-id="85de1-145">Httpxxx.</span><span class="sxs-lookup"><span data-stu-id="85de1-145">Httpxxx</span></span>
- <span data-ttu-id="85de1-146">Метрики плана службы приложений</span><span class="sxs-lookup"><span data-stu-id="85de1-146">App Service Plan metrics</span></span>
  - <span data-ttu-id="85de1-147">полученные и отправленные байты;</span><span class="sxs-lookup"><span data-stu-id="85de1-147">Bytes Received/Sent</span></span>
  - <span data-ttu-id="85de1-148">Процент использования ЦП</span><span class="sxs-lookup"><span data-stu-id="85de1-148">CPU Percentage</span></span>
  - <span data-ttu-id="85de1-149">Длина дисковой очереди</span><span class="sxs-lookup"><span data-stu-id="85de1-149">Disk Queue Length</span></span>
  - <span data-ttu-id="85de1-150">Длина очереди HTTP:</span><span class="sxs-lookup"><span data-stu-id="85de1-150">Http Queue Length</span></span>
  - <span data-ttu-id="85de1-151">Процент использования памяти</span><span class="sxs-lookup"><span data-stu-id="85de1-151">Memory Percentage</span></span>

<span data-ttu-id="85de1-152">Метрики плана службы приложения собираются, только если вы используете выделенный план службы.</span><span class="sxs-lookup"><span data-stu-id="85de1-152">App Service Plan metrics are only collected if you are using a dedicated service plan.</span></span> <span data-ttu-id="85de1-153">Это не относится к планам службы приложений категории "Бесплатный" или "Общий".</span><span class="sxs-lookup"><span data-stu-id="85de1-153">This doesn't apply to free or shared App Service plans.</span></span>

<span data-ttu-id="85de1-154">При добавлении решения с помощью портала OMS отображается следующая плитка.</span><span class="sxs-lookup"><span data-stu-id="85de1-154">If you add the solution using the OMS portal, you'll see the following tile.</span></span> <span data-ttu-id="85de1-155">Вам нужно [включить ведение журнала метрик ресурсов Azure для OMS с помощью PowerShell](https://blogs.technet.microsoft.com/msoms/2017/01/17/enable-azure-resource-metrics-logging-using-powershell).</span><span class="sxs-lookup"><span data-stu-id="85de1-155">You need to [enable Azure resource metrics logging to OMS using PowerShell](https://blogs.technet.microsoft.com/msoms/2017/01/17/enable-azure-resource-metrics-logging-using-powershell).</span></span>

![Уведомление "Выполнение оценки"](./media/log-analytics-azure-web-apps-analytics/performing-assessment.png)

<span data-ttu-id="85de1-157">После настройки решения данные начнут поступать в рабочую область в течение 15 минут.</span><span class="sxs-lookup"><span data-stu-id="85de1-157">After you configure the solution, data should start flowing to your workspace within 15 minutes.</span></span>

## <a name="using-the-solution"></a><span data-ttu-id="85de1-158">Использование решения</span><span class="sxs-lookup"><span data-stu-id="85de1-158">Using the solution</span></span>

<span data-ttu-id="85de1-159">Когда вы добавляете решение "Аналитика веб-приложений Azure" в рабочую область, на панель мониторинга "Обзор" добавляется плитка **Аналитика веб-приложений Azure**.</span><span class="sxs-lookup"><span data-stu-id="85de1-159">When you add the Azure Web Apps Analytics solution to your workspace, the **Azure Web Apps Analytics** tile is added to your Overview dashboard.</span></span> <span data-ttu-id="85de1-160">На этой плитке отображается число веб-приложений Azure для подписки Azure, которая доступна для решения.</span><span class="sxs-lookup"><span data-stu-id="85de1-160">This tile displays a count of the number of Azure Web Apps that the solution has access to in your Azure subscription.</span></span>

![Плитка "Аналитика веб-приложений Azure"](./media/log-analytics-azure-web-apps-analytics/azure-web-apps-analytics-tile.png)

### <a name="view-azure-web-apps-analytics-information"></a><span data-ttu-id="85de1-162">Просмотр сведений решения "Аналитика веб-приложений Azure"</span><span class="sxs-lookup"><span data-stu-id="85de1-162">View Azure Web Apps Analytics information</span></span>

<span data-ttu-id="85de1-163">Щелкните плитку **Аналитика веб-приложений Azure**, чтобы открыть панель мониторинга **Аналитика веб-приложений Azure**.</span><span class="sxs-lookup"><span data-stu-id="85de1-163">Click the **Azure Web Apps Analytics** tile to open the **Azure Web Apps Analytics** dashboard.</span></span> <span data-ttu-id="85de1-164">Панель мониторинга содержит колонки, перечисленные в приведенной ниже таблице.</span><span class="sxs-lookup"><span data-stu-id="85de1-164">The dashboard includes the blades in the following table.</span></span> <span data-ttu-id="85de1-165">В каждой колонке содержится до 10 элементов, соответствующих критериям для определенных области действия и диапазона времени.</span><span class="sxs-lookup"><span data-stu-id="85de1-165">Each blade lists up to ten items matching that blade's criteria for the specified scope and time range.</span></span> <span data-ttu-id="85de1-166">Вы можете выполнить поиск по журналам, в результате которого возвращаются все записи, если щелкнуть заголовок колонки или **Показать все** в ее нижней части.</span><span class="sxs-lookup"><span data-stu-id="85de1-166">You can run a log search that returns all records by clicking **See all** at the bottom of the blade or by clicking the blade header.</span></span>

[!include[log-analytics-log-search-nextgeneration](../../includes/log-analytics-log-search-nextgeneration.md)]

| <span data-ttu-id="85de1-167">столбец</span><span class="sxs-lookup"><span data-stu-id="85de1-167">Column</span></span> | <span data-ttu-id="85de1-168">Описание</span><span class="sxs-lookup"><span data-stu-id="85de1-168">Description</span></span> |
| --- | --- |
| <span data-ttu-id="85de1-169">Веб-приложения Azure</span><span class="sxs-lookup"><span data-stu-id="85de1-169">Azure Webapps</span></span> |   |
| <span data-ttu-id="85de1-170">Тенденции в запросах веб-приложений</span><span class="sxs-lookup"><span data-stu-id="85de1-170">Web Apps Request Trends</span></span> | <span data-ttu-id="85de1-171">Показывает график тенденций в запросах веб-приложений для выбранного диапазона дат, а также список из десяти основных веб-запросов.</span><span class="sxs-lookup"><span data-stu-id="85de1-171">Shows a line chart of the Web Apps request trend for the date range that you have selected and shows a list of the top ten web requests.</span></span> <span data-ttu-id="85de1-172">Щелкните график, чтобы выполнить поиск по журналам: <code>Type=AzureMetrics ResourceId=*"/MICROSOFT.WEB/SITES/"* (MetricName=Requests OR MetricName=Http*) &#124; measure avg(Average) by MetricName interval 1HOUR</code></span><span class="sxs-lookup"><span data-stu-id="85de1-172">Click the line chart to run a log search for <code>Type=AzureMetrics ResourceId=*"/MICROSOFT.WEB/SITES/"* (MetricName=Requests OR MetricName=Http*) &#124; measure avg(Average) by MetricName interval 1HOUR</code></span></span> <br><span data-ttu-id="85de1-173">Щелкните элемент веб-запроса, чтобы выполнить поиск по журналам, который вернет тенденции в метриках веб-запросов.</span><span class="sxs-lookup"><span data-stu-id="85de1-173">Click a web request item to run a log search for the web request metric trend that request.</span></span> |
| <span data-ttu-id="85de1-174">Время отклика веб-приложений</span><span class="sxs-lookup"><span data-stu-id="85de1-174">Web Apps Response Time</span></span> | <span data-ttu-id="85de1-175">Показывает график времени отклика веб-приложений для выбранного диапазона дат.</span><span class="sxs-lookup"><span data-stu-id="85de1-175">Shows a line chart of the Web Apps response time for the date range that you have selected.</span></span> <span data-ttu-id="85de1-176">Также показывает список из десяти основных записей о времени отклика веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-176">Also shows a list a list of the top ten Web Apps response times.</span></span> <span data-ttu-id="85de1-177">Щелкните диаграмму, чтобы выполнить поиск по журналам: <code>Type:AzureMetrics ResourceId=*"/MICROSOFT.WEB/SITES/"* MetricName="AverageResponseTime" &#124; measure avg(Average) by Resource interval 1HOUR</code>.</span><span class="sxs-lookup"><span data-stu-id="85de1-177">Click the chart to run a log search for <code>Type:AzureMetrics ResourceId=*"/MICROSOFT.WEB/SITES/"* MetricName="AverageResponseTime" &#124; measure avg(Average) by Resource interval 1HOUR</code></span></span><br> <span data-ttu-id="85de1-178">Щелкните веб-приложение, чтобы выполнить поиск по журналам, который вернет время отклика для веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-178">Click on a Web App to run a log search returning response times for the Web App.</span></span> |
| <span data-ttu-id="85de1-179">Трафик веб-приложений</span><span class="sxs-lookup"><span data-stu-id="85de1-179">Web Apps Traffic</span></span> | <span data-ttu-id="85de1-180">Показывает график трафика веб-приложений (в МБ), а также самый большой трафик веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-180">Shows a line chart for Web Apps traffic, in MB and lists the top Web Apps traffic.</span></span> <span data-ttu-id="85de1-181">Щелкните диаграмму, чтобы выполнить поиск по журналам: <code>Type:AzureMetrics ResourceId=*"/MICROSOFT.WEB/SITES/"*  MetricName=BytesSent OR BytesReceived &#124; measure sum(Average) by Resource interval 1HOUR</code>.</span><span class="sxs-lookup"><span data-stu-id="85de1-181">Click the chart to run a log search for <code>Type:AzureMetrics ResourceId=*"/MICROSOFT.WEB/SITES/"*  MetricName=BytesSent OR BytesReceived &#124; measure sum(Average) by Resource interval 1HOUR</code></span></span><br> <span data-ttu-id="85de1-182">Показывает все веб-приложения с трафиком за последнюю минуту.</span><span class="sxs-lookup"><span data-stu-id="85de1-182">It shows all Web Apps with traffic for the last minute.</span></span> <span data-ttu-id="85de1-183">Щелкните веб-приложение, чтобы выполнить поиск по журналам, который вернет число получаемых и отправляемых для веб-приложения байт.</span><span class="sxs-lookup"><span data-stu-id="85de1-183">Click a Web App to run a log search showing bytes received and sent for the Web App.</span></span> |
| <span data-ttu-id="85de1-184">Планы службы приложений Azure</span><span class="sxs-lookup"><span data-stu-id="85de1-184">Azure App Service Plans</span></span> |   |
| <span data-ttu-id="85de1-185">Планы службы приложений с использованием ЦП на уровне &gt; 80 %</span><span class="sxs-lookup"><span data-stu-id="85de1-185">App Service Plans with CPU utilization &gt; 80%</span></span> | <span data-ttu-id="85de1-186">Показывает общее число планов службы приложений, использующих ЦП на уровне более 80 %, а также список из 10 основных планов службы приложений по использованию ЦП.</span><span class="sxs-lookup"><span data-stu-id="85de1-186">Shows the total number of App Service Plans that have CPU utilization greater than 80% and lists the top 10 App Service Plans by CPU utilization.</span></span> <span data-ttu-id="85de1-187">Щелкните всю область, чтобы выполнить поиск по журналам: <code>Type=AzureMetrics ResourceId=*"/MICROSOFT.WEB/SERVERFARMS/"* MetricName=CpuPercentage &#124; measure Avg(Average) by Resource</code></span><span class="sxs-lookup"><span data-stu-id="85de1-187">Click the total area to run a log search for <code>Type=AzureMetrics ResourceId=*"/MICROSOFT.WEB/SERVERFARMS/"* MetricName=CpuPercentage &#124; measure Avg(Average) by Resource</code></span></span><br> <span data-ttu-id="85de1-188">Показывает список планов службы приложений и их средней показатель использования ЦП.</span><span class="sxs-lookup"><span data-stu-id="85de1-188">It shows a list of your App Service Plans and their average CPU utilization.</span></span> <span data-ttu-id="85de1-189">Щелкните план службы приложений, чтобы выполнить поиск по журналам, который вернет его средний показатель использования ЦП.</span><span class="sxs-lookup"><span data-stu-id="85de1-189">Click an App Service Plan to run a log search showing its average CPU utilization.</span></span> |
| <span data-ttu-id="85de1-190">Планы службы приложений с использованием памяти на уровне &gt; 80 %</span><span class="sxs-lookup"><span data-stu-id="85de1-190">App Service Plans with memory utilization &gt; 80%</span></span> | <span data-ttu-id="85de1-191">Показывает общее число планов службы приложений, использующих память на уровне более 80 %, а также список из 10 основных планов службы приложений по использованию памяти.</span><span class="sxs-lookup"><span data-stu-id="85de1-191">Shows the total number of App Service Plans that have memory utilization greater than 80% and lists the top 10 App Service Plans by memory utilization.</span></span> <span data-ttu-id="85de1-192">Щелкните всю область, чтобы выполнить поиск по журналам: <code>Type=AzureMetrics ResourceId=*"/MICROSOFT.WEB/SERVERFARMS/"* MetricName=MemoryPercentage &#124; measure Avg(Average) by Resource</code></span><span class="sxs-lookup"><span data-stu-id="85de1-192">Click the total area to run a log search for <code>Type=AzureMetrics ResourceId=*"/MICROSOFT.WEB/SERVERFARMS/"* MetricName=MemoryPercentage &#124; measure Avg(Average) by Resource</code></span></span><br> <span data-ttu-id="85de1-193">Показывает список планов службы приложений и их средний показатель использования памяти.</span><span class="sxs-lookup"><span data-stu-id="85de1-193">It shows a list of your App Service Plans and their average memory utilization.</span></span> <span data-ttu-id="85de1-194">Щелкните план службы приложений, чтобы выполнить поиск по журналам, который вернет его средний показатель использования памяти.</span><span class="sxs-lookup"><span data-stu-id="85de1-194">Click an App Service Plan to run a log search showing its average memory utilization.</span></span> |
| <span data-ttu-id="85de1-195">Журналы действий веб-приложений Azure</span><span class="sxs-lookup"><span data-stu-id="85de1-195">Azure Web Apps Activity Logs</span></span> |   |
| <span data-ttu-id="85de1-196">Аудит действий веб-приложений Azure</span><span class="sxs-lookup"><span data-stu-id="85de1-196">Azure Web Apps Activity Audit</span></span> | <span data-ttu-id="85de1-197">Показывает общее число веб-приложений с [журналами действий](log-analytics-activity.md), а также список из 10 основных операций журнала действий.</span><span class="sxs-lookup"><span data-stu-id="85de1-197">Shows the total number of Web Apps with [activity logs](log-analytics-activity.md) and lists the top 10 activity log operations.</span></span> <span data-ttu-id="85de1-198">Щелкните всю область, чтобы выполнить поиск по журналам: <code>Type=AzureActivity ResourceProvider= "Azure Web Sites" &#124; measure count() by OperationName</code></span><span class="sxs-lookup"><span data-stu-id="85de1-198">Click the total area to run a log search for <code>Type=AzureActivity ResourceProvider= "Azure Web Sites" &#124; measure count() by OperationName</code></span></span><br> <span data-ttu-id="85de1-199">Показывает список операций журнала действий.</span><span class="sxs-lookup"><span data-stu-id="85de1-199">It shows a list of the activity log operations.</span></span> <span data-ttu-id="85de1-200">Щелкните операцию журнала действий, чтобы выполнить поиск по журналам, который возвращает список записей для операции.</span><span class="sxs-lookup"><span data-stu-id="85de1-200">Click an activity log operation to run a log search that lists the records for the operation.</span></span> |



### <a name="azure-web-apps"></a><span data-ttu-id="85de1-201">Веб-приложения Azure.</span><span class="sxs-lookup"><span data-stu-id="85de1-201">Azure Web Apps</span></span>

<span data-ttu-id="85de1-202">На панели мониторинга можно отобразить подробные сведения, которые помогут проанализировать метрики веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-202">In the dashboard, you can drill down to get more insight into your Web Apps metrics.</span></span> <span data-ttu-id="85de1-203">В первом наборе колонок отображаются тенденции в запросах веб-приложений, номера ошибок (например, HTTP404), показатели трафика и среднее время отклика.</span><span class="sxs-lookup"><span data-stu-id="85de1-203">This first set of blades show the trend of the Web Apps requests, number of errors (for example, HTTP404), traffic, and average response time over time.</span></span> <span data-ttu-id="85de1-204">Здесь также показано распределение этих метрик для разных веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-204">It also shows a breakdown of those metrics for different Web Apps.</span></span>

![Колонки веб-приложений Azure](./media/log-analytics-azure-web-apps-analytics/web-apps-dash01.png)

<span data-ttu-id="85de1-206">Все эти данные отображаются главным образом для того, чтобы вы могли определить веб-приложение с высокими показателями времени отклика, а затем выяснить причину.</span><span class="sxs-lookup"><span data-stu-id="85de1-206">A primary reason for showing you that data is so that you can identify a Web App with high response time and investigate to find the root cause.</span></span> <span data-ttu-id="85de1-207">Также можно использовать показатели пороговых значений. Это простой способ определения проблемных веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-207">A threshold limit is also applied to help you more easily identify the ones with issues.</span></span>

- <span data-ttu-id="85de1-208">У веб-приложений, выделенных красным цветом, время отклика превышает 1 секунду.</span><span class="sxs-lookup"><span data-stu-id="85de1-208">Web Apps shown in red have response time higher than 1 second.</span></span>
- <span data-ttu-id="85de1-209">У веб-приложений, выделенных оранжевым цветом, время отклика составляет более 0,7 секунды, но менее 1 секунды.</span><span class="sxs-lookup"><span data-stu-id="85de1-209">Web Apps shown in orange have a response time higher than 0.7 second and less than 1 second.</span></span>
- <span data-ttu-id="85de1-210">У веб-приложений, выделенных зеленым цветом, время отклика составляет менее 0,7 секунды.</span><span class="sxs-lookup"><span data-stu-id="85de1-210">Web Apps shown in green have a response time less than 0.7 second.</span></span>

<span data-ttu-id="85de1-211">На следующем рисунке с поиском по журналам можно видеть, что у веб-приложения *anugup3* время отклика гораздо выше, чем у других веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-211">In the following log search example image, you can see that the *anugup3* web app had a much higher response time than the other web apps.</span></span>

![Пример поиска по журналам](./media/log-analytics-azure-web-apps-analytics/web-app-search-example.png)

### <a name="app-service-plans"></a><span data-ttu-id="85de1-213">Планы службы приложений</span><span class="sxs-lookup"><span data-stu-id="85de1-213">App Service Plans</span></span>

<span data-ttu-id="85de1-214">Если вы используете выделенные планы службы, вы также можете собирать метрики для своих планов службы приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-214">If you are using dedicated Service Plans, you can also collect metrics for your App Service Plans.</span></span> <span data-ttu-id="85de1-215">В этом представлении отображаются планы службы приложений с высокими показателями использования ЦП или памяти (&gt; 80 %).</span><span class="sxs-lookup"><span data-stu-id="85de1-215">In this view, you see your App Service Plans with high CPU or Memory utilization (&gt; 80%).</span></span> <span data-ttu-id="85de1-216">Здесь также перечислены основные службы приложений, которые потребляют больше всего памяти или ресурсов ЦП.</span><span class="sxs-lookup"><span data-stu-id="85de1-216">It also shows you the top App services with high Memory or CPU utilization.</span></span> <span data-ttu-id="85de1-217">Точно так же можно использовать показатели пороговых значений. Это простой способ определения проблемных служб веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-217">Similarly, a threshold limit is applied to help you more easily identify the ones with issues.</span></span>

- <span data-ttu-id="85de1-218">У планов службы приложений, выделенных красным цветом, показатели использования ЦП и памяти превышают 80 %.</span><span class="sxs-lookup"><span data-stu-id="85de1-218">App Service Plans shown in red have a CPU/Memory utilization higher than 80%.</span></span>
- <span data-ttu-id="85de1-219">У планов службы приложений, выделенных оранжевым цветом, показатели использования ЦП и памяти составляют более 60 %, но менее 80 %.</span><span class="sxs-lookup"><span data-stu-id="85de1-219">App Service Plans shown in orange have a CPU/Memory utilization higher than 60% and lower than 80%.</span></span>
- <span data-ttu-id="85de1-220">У планов службы приложений, выделенных зеленым цветом, показатели использования ЦП и памяти составляют менее 60 %.</span><span class="sxs-lookup"><span data-stu-id="85de1-220">App Service Plans shown in green have a CPU/Memory utilization lower than 60%.</span></span>

![Колонки планов службы приложений Azure](./media/log-analytics-azure-web-apps-analytics/web-apps-dash02.png)

## <a name="azure-web-apps-log-searches"></a><span data-ttu-id="85de1-222">Поиск по журналам веб-приложений Azure</span><span class="sxs-lookup"><span data-stu-id="85de1-222">Azure Web Apps log searches</span></span>

<span data-ttu-id="85de1-223">В **списке популярных запросов поиска веб-приложений Azure** показаны все связанные журналы действий для веб-приложений. В них представлены аналитические сведения об операциях, которые выполнялись с ресурсами веб-приложений.</span><span class="sxs-lookup"><span data-stu-id="85de1-223">The **List of Popular Azure Web Apps Search queries** shows you all the related activity logs for Web Apps, which provides insights into the operations that were performed on your Web Apps resources.</span></span> <span data-ttu-id="85de1-224">Здесь также перечислены все связанные операции и указано количество выполнений этих операций.</span><span class="sxs-lookup"><span data-stu-id="85de1-224">It also lists all the related operations and the number of times they have occurred.</span></span>

<span data-ttu-id="85de1-225">Используя любой из запросов поиска по журналам в качестве отправной точки, можно легко создать оповещение.</span><span class="sxs-lookup"><span data-stu-id="85de1-225">Using any of the log search queries as a starting point, you can easily create an alert.</span></span> <span data-ttu-id="85de1-226">Например, можно создать оповещение, если среднее время отклика для метрики превышает 1 секунду.</span><span class="sxs-lookup"><span data-stu-id="85de1-226">For example, you might want to create an alert when a metric's average response time is greater than every 1 second.</span></span>

## <a name="next-steps"></a><span data-ttu-id="85de1-227">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="85de1-227">Next steps</span></span>

- <span data-ttu-id="85de1-228">Создание [оповещения](log-analytics-alerts-creating.md) для определенной метрики.</span><span class="sxs-lookup"><span data-stu-id="85de1-228">Create an [alert](log-analytics-alerts-creating.md) for a specific metric.</span></span>
- <span data-ttu-id="85de1-229">Использование [поиска по журналам](log-analytics-log-searches.md) для просмотра подробных сведений из журналов действий.</span><span class="sxs-lookup"><span data-stu-id="85de1-229">Use [Log Search](log-analytics-log-searches.md) to view detailed information from your activity logs.</span></span>
