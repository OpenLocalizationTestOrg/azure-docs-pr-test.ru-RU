---
title: "производительность приложения Linux в аналитику журнала OMS aaaCollect | Документы Microsoft"
description: "Эта статья содержит сведения по настройке hello агента OMS для счетчиков производительности Linux toocollect для MySQL и HTTP-сервера Apache."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: f1d5bde4-6b86-4b8e-b5c1-3ecbaba76198
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 51105c6add5c7941a004570a76a4d94c02fc8a71
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/06/2017
---
# <a name="collect-performance-counters-for-linux-applications-in-log-analytics"></a><span data-ttu-id="07e22-103">Сбор данных производительности приложений Linux в Log Analytics</span><span class="sxs-lookup"><span data-stu-id="07e22-103">Collect performance counters for Linux applications in Log Analytics</span></span> 
<span data-ttu-id="07e22-104">Эта статья содержит сведения по настройке hello [агента OMS для Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) toocollect счетчики производительности для конкретных приложений.</span><span class="sxs-lookup"><span data-stu-id="07e22-104">This article provides details for configuring hello [OMS Agent for Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) toocollect performance counters for specific applications.</span></span>  <span data-ttu-id="07e22-105">в данной статье приложения Hello является:</span><span class="sxs-lookup"><span data-stu-id="07e22-105">hello applications included in this article are:</span></span>  

- [<span data-ttu-id="07e22-106">MySQL</span><span class="sxs-lookup"><span data-stu-id="07e22-106">MySQL</span></span>](#MySQL)
- [<span data-ttu-id="07e22-107">HTTP-сервер Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-107">Apache HTTP Server</span></span>](#apache-http-server)

## <a name="mysql"></a><span data-ttu-id="07e22-108">MySQL</span><span class="sxs-lookup"><span data-stu-id="07e22-108">MySQL</span></span>
<span data-ttu-id="07e22-109">Если сервер MySQL или MariaDB Server обнаруживается hello компьютера при установке агента OMS hello, поставщик для сервера MySQL наблюдения за производительностью устанавливается автоматически.</span><span class="sxs-lookup"><span data-stu-id="07e22-109">If MySQL Server or MariaDB Server is detected on hello computer when hello OMS agent is installed, a performance monitoring provider for MySQL Server will be automatically installed.</span></span> <span data-ttu-id="07e22-110">Этот поставщик подключается toohello локального MySQL или MariaDB tooexpose статистики производительности сервера.</span><span class="sxs-lookup"><span data-stu-id="07e22-110">This provider connects toohello local MySQL/MariaDB server tooexpose performance statistics.</span></span> <span data-ttu-id="07e22-111">Необходимо настроить учетные данные пользователя MySQL, чтобы hello поставщик можно получить доступ к MySQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-111">MySQL user credentials must be configured so that hello provider can access hello MySQL Server.</span></span>

### <a name="configure-mysql-credentials"></a><span data-ttu-id="07e22-112">Настройка учетных данных MySQL</span><span class="sxs-lookup"><span data-stu-id="07e22-112">Configure MySQL credentials</span></span>
<span data-ttu-id="07e22-113">Hello поставщик MySQL OMI требуется предварительно настроенный пользователь MySQL и установленные клиентские библиотеки MySQL в порядке tooquery hello производительности и сведения о работоспособности из экземпляра MySQL hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-113">hello MySQL OMI provider requires a preconfigured MySQL user and installed MySQL client libraries in order tooquery hello performance and health information from hello MySQL instance.</span></span>  <span data-ttu-id="07e22-114">Эти учетные данные хранятся в файле проверки подлинности, который хранится на агенте Linux hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-114">These credentials are stored in an authentication file that's stored on hello Linux agent.</span></span>  <span data-ttu-id="07e22-115">файл проверки подлинности Hello указывает адреса привязки и выполняет прослушивание экземпляр MySQL порт hello и новые учетные данные toouse toogather метрики.</span><span class="sxs-lookup"><span data-stu-id="07e22-115">hello authentication file specifies what bind-address and port hello MySQL instance is listening on and what credentials toouse toogather metrics.</span></span>  

<span data-ttu-id="07e22-116">Во время установки hello агента OMS для Linux hello MySQL OMI поставщика будет проверять файлы конфигурации my.cnf MySQL (расположения по умолчанию) для адреса привязки и порта и частично набор hello файл проверки подлинности MySQL OMI.</span><span class="sxs-lookup"><span data-stu-id="07e22-116">During installation of hello OMS Agent for Linux hello MySQL OMI provider will scan MySQL my.cnf configuration files (default locations) for bind-address and port and partially set hello MySQL OMI authentication file.</span></span>

<span data-ttu-id="07e22-117">файл проверки подлинности MySQL Hello хранится по `/var/opt/microsoft/mysql-cimprov/auth/omsagent/mysql-auth`.</span><span class="sxs-lookup"><span data-stu-id="07e22-117">hello MySQL authentication file is stored at `/var/opt/microsoft/mysql-cimprov/auth/omsagent/mysql-auth`.</span></span>


### <a name="authentication-file-format"></a><span data-ttu-id="07e22-118">Формат файла аутентификации</span><span class="sxs-lookup"><span data-stu-id="07e22-118">Authentication file format</span></span>
<span data-ttu-id="07e22-119">Ниже приведен формат hello hello файл проверки подлинности MySQL OMI</span><span class="sxs-lookup"><span data-stu-id="07e22-119">Following is hello format for hello MySQL OMI authentication file</span></span>

    [Port]=[Bind-Address], [username], [Base64 encoded Password]
    (Port)=(Bind-Address), (username), (Base64 encoded Password)
    (Port)=(Bind-Address), (username), (Base64 encoded Password)
    AutoUpdate=[true|false]

<span data-ttu-id="07e22-120">в hello в следующей таблице описываются записи Hello в файле проверки подлинности hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-120">hello entries in hello authentication file are described in hello following table.</span></span>

| <span data-ttu-id="07e22-121">Свойство</span><span class="sxs-lookup"><span data-stu-id="07e22-121">Property</span></span> | <span data-ttu-id="07e22-122">Описание</span><span class="sxs-lookup"><span data-stu-id="07e22-122">Description</span></span> |
|:--|:--|
| <span data-ttu-id="07e22-123">Порт</span><span class="sxs-lookup"><span data-stu-id="07e22-123">Port</span></span> | <span data-ttu-id="07e22-124">Представляет hello текущий порт hello выполняет прослушивание экземпляр MySQL.</span><span class="sxs-lookup"><span data-stu-id="07e22-124">Represents hello current port hello MySQL instance is listening on.</span></span> <span data-ttu-id="07e22-125">Порт 0 указывает, что для экземпляра по умолчанию используются следующие свойства hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-125">Port 0 specifies that hello properties following are used for default instance.</span></span> |
| <span data-ttu-id="07e22-126">адрес привязки;</span><span class="sxs-lookup"><span data-stu-id="07e22-126">Bind-Address</span></span>| <span data-ttu-id="07e22-127">Текущий адрес привязки MySQL.</span><span class="sxs-lookup"><span data-stu-id="07e22-127">Current MySQL bind-address.</span></span> |
| <span data-ttu-id="07e22-128">Имя пользователя</span><span class="sxs-lookup"><span data-stu-id="07e22-128">username</span></span>| <span data-ttu-id="07e22-129">Пользователь MySQL использовать экземпляр сервера MySQL hello toomonitor toouse.</span><span class="sxs-lookup"><span data-stu-id="07e22-129">MySQL user used toouse toomonitor hello MySQL server instance.</span></span> |
| <span data-ttu-id="07e22-130">пароль в кодировке Base64.</span><span class="sxs-lookup"><span data-stu-id="07e22-130">Base64 encoded Password</span></span>| <span data-ttu-id="07e22-131">Пароль hello пользователя MySQL, закодированный в Base64.</span><span class="sxs-lookup"><span data-stu-id="07e22-131">Password of hello MySQL monitoring user encoded in Base64.</span></span> |
| <span data-ttu-id="07e22-132">Автоматическое обновление</span><span class="sxs-lookup"><span data-stu-id="07e22-132">AutoUpdate</span></span>| <span data-ttu-id="07e22-133">Указывает, является ли toorescan для изменения в файле my.cnf hello и перезаписать файл проверки подлинности OMI MySQL hello в том случае, когда hello поставщик OMI MySQL обновляется.</span><span class="sxs-lookup"><span data-stu-id="07e22-133">Specifies whether toorescan for changes in hello my.cnf file and overwrite hello MySQL OMI Authentication file when hello MySQL OMI Provider is upgraded.</span></span> |

### <a name="default-instance"></a><span data-ttu-id="07e22-134">Экземпляр по умолчанию</span><span class="sxs-lookup"><span data-stu-id="07e22-134">Default instance</span></span>
<span data-ttu-id="07e22-135">файл проверки подлинности MySQL OMI Hello можно определить экземпляр по умолчанию и toomake номеров портов, управление несколькими экземплярами MySQL на одном узле Linux проще.</span><span class="sxs-lookup"><span data-stu-id="07e22-135">hello MySQL OMI authentication file can define a default instance and port number toomake managing multiple MySQL instances on one Linux host easier.</span></span>  <span data-ttu-id="07e22-136">экземпляр по умолчанию Hello обозначается экземпляром с портом 0.</span><span class="sxs-lookup"><span data-stu-id="07e22-136">hello default instance is denoted by an instance with port 0.</span></span> <span data-ttu-id="07e22-137">Все дополнительные экземпляры наследуют свойства от экземпляра по умолчанию hello если они не заданы разные значения.</span><span class="sxs-lookup"><span data-stu-id="07e22-137">All additional instances will inherit properties set from hello default instance unless they specify different values.</span></span> <span data-ttu-id="07e22-138">Например при добавлении экземпляра MySQL, прослушивает порт «3308», адрес привязки, имя пользователя и пароль в кодировке Base64 экземпляра по умолчанию hello достигается используется tootry и отслеживать экземпляр hello прослушивание на порту 3308.</span><span class="sxs-lookup"><span data-stu-id="07e22-138">For example, if MySQL instance listening on port ‘3308’ is added, hello default instance’s bind-address, username, and Base64 encoded password will be used tootry and monitor hello instance listening on 3308.</span></span> <span data-ttu-id="07e22-139">Если hello экземпляр в порту 3308 является адресом привязанного tooanother и использует hello же имя пользователя MySQL требуется пароль пары только hello адреса привязки и hello другие свойства будут унаследованы.</span><span class="sxs-lookup"><span data-stu-id="07e22-139">If hello instance on 3308 is bound tooanother address and uses hello same MySQL username and password pair only hello bind-address is needed, and hello other properties will be inherited.</span></span>

<span data-ttu-id="07e22-140">в следующей таблице Hello имеет пример настройки экземпляра</span><span class="sxs-lookup"><span data-stu-id="07e22-140">hello following table has example instance settings</span></span> 

| <span data-ttu-id="07e22-141">Описание</span><span class="sxs-lookup"><span data-stu-id="07e22-141">Description</span></span> | <span data-ttu-id="07e22-142">Файл</span><span class="sxs-lookup"><span data-stu-id="07e22-142">File</span></span> |
|:--|:--|
| <span data-ttu-id="07e22-143">Экземпляр по умолчанию и экземпляр с портом 3308.</span><span class="sxs-lookup"><span data-stu-id="07e22-143">Default instance and instance with port 3308.</span></span> | `0=127.0.0.1, myuser, cnBwdA==`<br>`3308=, ,`<br>`AutoUpdate=true` |
| <span data-ttu-id="07e22-144">Экземпляр по умолчанию и экземпляр с портом 3308 и другими именем пользователя и паролем.</span><span class="sxs-lookup"><span data-stu-id="07e22-144">Default instance and instance with port 3308 and different user name and password.</span></span> | `0=127.0.0.1, myuser, cnBwdA==`<br>`3308=127.0.1.1, myuser2,cGluaGVhZA==`<br>`AutoUpdate=true` |


### <a name="mysql-omi-authentication-file-program"></a><span data-ttu-id="07e22-145">Программа для изменения файла проверки подлинности OMI MySQL</span><span class="sxs-lookup"><span data-stu-id="07e22-145">MySQL OMI Authentication File Program</span></span>
<span data-ttu-id="07e22-146">Поставщик, включенных hello установку hello MySQL OMI является программы файла проверки подлинности MySQL OMI, который может быть файл проверки подлинности OMI MySQL используется tooedit hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-146">Included with hello installation of hello MySQL OMI provider is a MySQL OMI authentication file program which can be used tooedit hello MySQL OMI Authentication file.</span></span> <span data-ttu-id="07e22-147">Hello программы файла проверки подлинности можно найти в следующие расположения hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-147">hello authentication file program can be found at hello following location.</span></span>

    /opt/microsoft/mysql-cimprov/bin/mycimprovauth

> [!NOTE]
> <span data-ttu-id="07e22-148">Hello учетных данных файл должен быть доступен для чтения для учетной записи omsagent hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-148">hello credentials file must be readable by hello omsagent account.</span></span> <span data-ttu-id="07e22-149">Выполнение hello выполнить команду mycimprovauth от имени omsgent рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="07e22-149">Running hello mycimprovauth command as omsgent is recommended.</span></span>

<span data-ttu-id="07e22-150">Hello следующей таблице приведены сведения о синтаксисе hello использования mycimprovauth.</span><span class="sxs-lookup"><span data-stu-id="07e22-150">hello following table provides details on hello syntax for using mycimprovauth.</span></span>

| <span data-ttu-id="07e22-151">Операция</span><span class="sxs-lookup"><span data-stu-id="07e22-151">Operation</span></span> | <span data-ttu-id="07e22-152">Пример</span><span class="sxs-lookup"><span data-stu-id="07e22-152">Example</span></span> | <span data-ttu-id="07e22-153">Описание</span><span class="sxs-lookup"><span data-stu-id="07e22-153">Description</span></span>
|:--|:--|:--|
| <span data-ttu-id="07e22-154">autoupdate *false\\</span><span class="sxs-lookup"><span data-stu-id="07e22-154">autoupdate *false\\</span></span>|<span data-ttu-id="07e22-155">true*</span><span class="sxs-lookup"><span data-stu-id="07e22-155">true*</span></span> | <span data-ttu-id="07e22-156">mycimprovauth autoupdate false</span><span class="sxs-lookup"><span data-stu-id="07e22-156">mycimprovauth autoupdate false</span></span> | <span data-ttu-id="07e22-157">Задает ли hello файл проверки подлинности будут автоматически обновляться на перезапуск или обновить.</span><span class="sxs-lookup"><span data-stu-id="07e22-157">Sets whether or not hello authentication file will be automatically updated on restart or update.</span></span> |
| <span data-ttu-id="07e22-158">default *bind-address username password*</span><span class="sxs-lookup"><span data-stu-id="07e22-158">default *bind-address username password*</span></span> | <span data-ttu-id="07e22-159">mycimprovauth default 127.0.0.1 root pwd</span><span class="sxs-lookup"><span data-stu-id="07e22-159">mycimprovauth default 127.0.0.1 root pwd</span></span> | <span data-ttu-id="07e22-160">Задает hello экземпляр по умолчанию в hello файл проверки подлинности MySQL OMI.</span><span class="sxs-lookup"><span data-stu-id="07e22-160">Sets hello default instance in hello MySQL OMI authentication file.</span></span><br><span data-ttu-id="07e22-161">поле пароля Hello следует вводить в формате обычного текста - пароль hello в hello файл проверки подлинности MySQL OMI будет использоваться в кодировке Base 64.</span><span class="sxs-lookup"><span data-stu-id="07e22-161">hello password field should be entered in plain text - hello password in hello MySQL OMI authentication file will be Base 64 encoded.</span></span> |
| <span data-ttu-id="07e22-162">delete *default\\</span><span class="sxs-lookup"><span data-stu-id="07e22-162">delete *default\\</span></span>|<span data-ttu-id="07e22-163">port_num*</span><span class="sxs-lookup"><span data-stu-id="07e22-163">port_num*</span></span> | <span data-ttu-id="07e22-164">mycimprovauth 3308</span><span class="sxs-lookup"><span data-stu-id="07e22-164">mycimprovauth 3308</span></span> | <span data-ttu-id="07e22-165">Удаляет указанный экземпляр hello, либо по умолчанию или номер порта.</span><span class="sxs-lookup"><span data-stu-id="07e22-165">Deletes hello specified instance by either default or by port number.</span></span> |
| <span data-ttu-id="07e22-166">help</span><span class="sxs-lookup"><span data-stu-id="07e22-166">help</span></span> | <span data-ttu-id="07e22-167">mycimprov help</span><span class="sxs-lookup"><span data-stu-id="07e22-167">mycimprov help</span></span> | <span data-ttu-id="07e22-168">Печать списка toouse команд.</span><span class="sxs-lookup"><span data-stu-id="07e22-168">Prints out a list of commands toouse.</span></span> |
| <span data-ttu-id="07e22-169">print</span><span class="sxs-lookup"><span data-stu-id="07e22-169">print</span></span> | <span data-ttu-id="07e22-170">mycimprov print</span><span class="sxs-lookup"><span data-stu-id="07e22-170">mycimprov print</span></span> | <span data-ttu-id="07e22-171">Печать легко tooread файл проверки подлинности MySQL OMI.</span><span class="sxs-lookup"><span data-stu-id="07e22-171">Prints out an easy tooread MySQL OMI authentication file.</span></span> |
| <span data-ttu-id="07e22-172">update port_num *bind-address username password*</span><span class="sxs-lookup"><span data-stu-id="07e22-172">update port_num *bind-address username password*</span></span> | <span data-ttu-id="07e22-173">mycimprov update 3307 127.0.0.1 root pwd</span><span class="sxs-lookup"><span data-stu-id="07e22-173">mycimprov update 3307 127.0.0.1 root pwd</span></span> | <span data-ttu-id="07e22-174">Обновляет указанный экземпляр hello или добавляет hello экземпляр в том случае, если он не существует.</span><span class="sxs-lookup"><span data-stu-id="07e22-174">Updates hello specified instance or adds hello instance if it does not exist.</span></span> |

<span data-ttu-id="07e22-175">Hello следующие примеры команд определить учетную запись пользователя по умолчанию hello MySQL server в localhost.</span><span class="sxs-lookup"><span data-stu-id="07e22-175">hello following example commands define a default user account for hello MySQL server on localhost.</span></span>  <span data-ttu-id="07e22-176">поле пароля Hello следует вводить в формате обычного текста — пароль hello в hello файл проверки подлинности MySQL OMI будет использоваться в кодировке Base 64</span><span class="sxs-lookup"><span data-stu-id="07e22-176">hello password field should be entered in plain text - hello password in hello MySQL OMI authentication file will be Base 64 encoded</span></span>

    sudo su omsagent -c '/opt/microsoft/mysql-cimprov/bin/mycimprovauth default 127.0.0.1 <username> <password>'
    sudo /opt/omi/bin/service_control restart

### <a name="database-permissions-required-for-mysql-performance-counters"></a><span data-ttu-id="07e22-177">Разрешения базы данных, необходимые для счетчиков производительности MySQL</span><span class="sxs-lookup"><span data-stu-id="07e22-177">Database Permissions Required for MySQL Performance Counters</span></span>
<span data-ttu-id="07e22-178">Hello пользователю MySQL требуется доступ toohello следующие запросы toocollect данных производительности MySQL Server.</span><span class="sxs-lookup"><span data-stu-id="07e22-178">hello MySQL User requires access toohello following queries toocollect MySQL Server performance data.</span></span> 

    SHOW GLOBAL STATUS;
    SHOW GLOBAL VARIABLES:


<span data-ttu-id="07e22-179">пользователь MySQL Hello также требует доступ SELECT toohello следующие таблицы по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="07e22-179">hello MySQL user also requires SELECT access toohello following default tables.</span></span>

- <span data-ttu-id="07e22-180">information_schema;</span><span class="sxs-lookup"><span data-stu-id="07e22-180">information_schema</span></span>
- <span data-ttu-id="07e22-181">mysql.</span><span class="sxs-lookup"><span data-stu-id="07e22-181">mysql.</span></span> 

<span data-ttu-id="07e22-182">Эти права можно предоставить, запустив hello следующих команд grant.</span><span class="sxs-lookup"><span data-stu-id="07e22-182">These privileges can be granted by running hello following grant commands.</span></span>

    GRANT SELECT ON information_schema.* too‘monuser’@’localhost’;
    GRANT SELECT ON mysql.* too‘monuser’@’localhost’;


> [!NOTE]
> <span data-ttu-id="07e22-183">tooa toogrant разрешения мониторинга пользователя hello, давая пользователю MySQL требуется hello привилегию «предоставление», а также hello предоставляемое право.</span><span class="sxs-lookup"><span data-stu-id="07e22-183">toogrant permissions tooa MySQL monitoring user hello granting user must have hello ‘GRANT option’ privilege as well as hello privilege being granted.</span></span>

### <a name="define-performance-counters"></a><span data-ttu-id="07e22-184">Определение счетчиков производительности</span><span class="sxs-lookup"><span data-stu-id="07e22-184">Define performance counters</span></span>

<span data-ttu-id="07e22-185">После настройки hello агента OMS для Linux toosend данных tooLog аналитики, необходимо настроить toocollect счетчики производительности hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-185">Once you configure hello OMS Agent for Linux toosend data tooLog Analytics, you must configure hello performance counters toocollect.</span></span>  <span data-ttu-id="07e22-186">Используйте процедуру hello в [Windows и Linux источников данных производительности в службе анализа журналов](log-analytics-data-sources-windows-events.md) со счетчиками hello в hello в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="07e22-186">Use hello procedure in [Windows and Linux performance data sources in Log Analytics](log-analytics-data-sources-windows-events.md) with hello counters in hello following table.</span></span>

| <span data-ttu-id="07e22-187">Имя объекта</span><span class="sxs-lookup"><span data-stu-id="07e22-187">Object Name</span></span> | <span data-ttu-id="07e22-188">Имя счетчика</span><span class="sxs-lookup"><span data-stu-id="07e22-188">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="07e22-189">База данных MySQL</span><span class="sxs-lookup"><span data-stu-id="07e22-189">MySQL Database</span></span> | <span data-ttu-id="07e22-190">Дисковое пространство в байтах</span><span class="sxs-lookup"><span data-stu-id="07e22-190">Disk Space in Bytes</span></span> |
| <span data-ttu-id="07e22-191">База данных MySQL</span><span class="sxs-lookup"><span data-stu-id="07e22-191">MySQL Database</span></span> | <span data-ttu-id="07e22-192">Таблицы</span><span class="sxs-lookup"><span data-stu-id="07e22-192">Tables</span></span> |
| <span data-ttu-id="07e22-193">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-193">MySQL Server</span></span> | <span data-ttu-id="07e22-194">Счетчик производительности "Прерванные подключения"</span><span class="sxs-lookup"><span data-stu-id="07e22-194">Aborted Connection Pct</span></span> |
| <span data-ttu-id="07e22-195">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-195">MySQL Server</span></span> | <span data-ttu-id="07e22-196">Счетчик производительности "Использование подключения"</span><span class="sxs-lookup"><span data-stu-id="07e22-196">Connection Use Pct</span></span> |
| <span data-ttu-id="07e22-197">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-197">MySQL Server</span></span> | <span data-ttu-id="07e22-198">Используемое дисковое пространство в байтах</span><span class="sxs-lookup"><span data-stu-id="07e22-198">Disk Space Use in Bytes</span></span> |
| <span data-ttu-id="07e22-199">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-199">MySQL Server</span></span> | <span data-ttu-id="07e22-200">Счетчик производительности "Сканирование всей таблицы"</span><span class="sxs-lookup"><span data-stu-id="07e22-200">Full Table Scan Pct</span></span> |
| <span data-ttu-id="07e22-201">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-201">MySQL Server</span></span> | <span data-ttu-id="07e22-202">Счетчик производительности "Попадания в буферный пул InnoDB"</span><span class="sxs-lookup"><span data-stu-id="07e22-202">InnoDB Buffer Pool Hit Pct</span></span> |
| <span data-ttu-id="07e22-203">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-203">MySQL Server</span></span> | <span data-ttu-id="07e22-204">Счетчик производительности "Использование буферного пула InnoDB"</span><span class="sxs-lookup"><span data-stu-id="07e22-204">InnoDB Buffer Pool Use Pct</span></span> |
| <span data-ttu-id="07e22-205">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-205">MySQL Server</span></span> | <span data-ttu-id="07e22-206">Счетчик производительности "Использование буферного пула InnoDB"</span><span class="sxs-lookup"><span data-stu-id="07e22-206">InnoDB Buffer Pool Use Pct</span></span> |
| <span data-ttu-id="07e22-207">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-207">MySQL Server</span></span> | <span data-ttu-id="07e22-208">Счетчик производительности "Попадания в кэш ключей"</span><span class="sxs-lookup"><span data-stu-id="07e22-208">Key Cache Hit Pct</span></span> |
| <span data-ttu-id="07e22-209">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-209">MySQL Server</span></span> | <span data-ttu-id="07e22-210">Счетчик производительности "Использование кэша ключей"</span><span class="sxs-lookup"><span data-stu-id="07e22-210">Key Cache Use Pct</span></span> |
| <span data-ttu-id="07e22-211">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-211">MySQL Server</span></span> | <span data-ttu-id="07e22-212">Счетчик производительности "Запись в кэш ключей"</span><span class="sxs-lookup"><span data-stu-id="07e22-212">Key Cache Write Pct</span></span> |
| <span data-ttu-id="07e22-213">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-213">MySQL Server</span></span> | <span data-ttu-id="07e22-214">Счетчик производительности "Попадания в кэш запросов"</span><span class="sxs-lookup"><span data-stu-id="07e22-214">Query Cache Hit Pct</span></span> |
| <span data-ttu-id="07e22-215">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-215">MySQL Server</span></span> | <span data-ttu-id="07e22-216">Счетчик производительности "Очистка кэша запросов"</span><span class="sxs-lookup"><span data-stu-id="07e22-216">Query Cache Prunes Pct</span></span> |
| <span data-ttu-id="07e22-217">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-217">MySQL Server</span></span> | <span data-ttu-id="07e22-218">Счетчик производительности "Использование кэша запросов"</span><span class="sxs-lookup"><span data-stu-id="07e22-218">Query Cache Use Pct</span></span> |
| <span data-ttu-id="07e22-219">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-219">MySQL Server</span></span> | <span data-ttu-id="07e22-220">Счетчик производительности "Попадания в кэш таблиц"</span><span class="sxs-lookup"><span data-stu-id="07e22-220">Table Cache Hit Pct</span></span> |
| <span data-ttu-id="07e22-221">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-221">MySQL Server</span></span> | <span data-ttu-id="07e22-222">Счетчик производительности "Использование кэша таблиц"</span><span class="sxs-lookup"><span data-stu-id="07e22-222">Table Cache Use Pct</span></span> |
| <span data-ttu-id="07e22-223">MySQL Server</span><span class="sxs-lookup"><span data-stu-id="07e22-223">MySQL Server</span></span> | <span data-ttu-id="07e22-224">Счетчик производительности "Блокировка подключения к таблице"</span><span class="sxs-lookup"><span data-stu-id="07e22-224">Table Lock Contention Pct</span></span> |

## <a name="apache-http-server"></a><span data-ttu-id="07e22-225">HTTP-сервер Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-225">Apache HTTP Server</span></span> 
<span data-ttu-id="07e22-226">Если при установке пакета omsagent hello HTTP-сервера Apache обнаружен на компьютере hello, будет автоматически устанавливается поставщик для HTTP-сервера Apache наблюдения за производительностью.</span><span class="sxs-lookup"><span data-stu-id="07e22-226">If Apache HTTP Server is detected on hello computer when hello omsagent bundle is installed, a performance monitoring provider for Apache HTTP Server will be automatically installed.</span></span> <span data-ttu-id="07e22-227">Этот поставщик использует модуль Apache, который должен быть загружен в hello HTTP-сервера Apache в порядке tooaccess данных о производительности.</span><span class="sxs-lookup"><span data-stu-id="07e22-227">This provider relies on an Apache module that must be loaded into hello Apache HTTP Server in order tooaccess performance data.</span></span> <span data-ttu-id="07e22-228">может быть загружен модуль Hello hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="07e22-228">hello module can be loaded with hello following command:</span></span>
```
sudo /opt/microsoft/apache-cimprov/bin/apache_config.sh -c
```

<span data-ttu-id="07e22-229">toounload hello Apache модуль мониторинга, запустите hello следующую команду:</span><span class="sxs-lookup"><span data-stu-id="07e22-229">toounload hello Apache monitoring module, run hello following command:</span></span>
```
sudo /opt/microsoft/apache-cimprov/bin/apache_config.sh -u
```

### <a name="define-performance-counters"></a><span data-ttu-id="07e22-230">Определение счетчиков производительности</span><span class="sxs-lookup"><span data-stu-id="07e22-230">Define performance counters</span></span>

<span data-ttu-id="07e22-231">После настройки hello агента OMS для Linux toosend данных tooLog аналитики, необходимо настроить toocollect счетчики производительности hello.</span><span class="sxs-lookup"><span data-stu-id="07e22-231">Once you configure hello OMS Agent for Linux toosend data tooLog Analytics, you must configure hello performance counters toocollect.</span></span>  <span data-ttu-id="07e22-232">Используйте процедуру hello в [Windows и Linux источников данных производительности в службе анализа журналов](log-analytics-data-sources-windows-events.md) со счетчиками hello в hello в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="07e22-232">Use hello procedure in [Windows and Linux performance data sources in Log Analytics](log-analytics-data-sources-windows-events.md) with hello counters in hello following table.</span></span>

| <span data-ttu-id="07e22-233">Имя объекта</span><span class="sxs-lookup"><span data-stu-id="07e22-233">Object Name</span></span> | <span data-ttu-id="07e22-234">Имя счетчика</span><span class="sxs-lookup"><span data-stu-id="07e22-234">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="07e22-235">HTTP-сервер Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-235">Apache HTTP Server</span></span> | <span data-ttu-id="07e22-236">Занятые рабочие роли</span><span class="sxs-lookup"><span data-stu-id="07e22-236">Busy Workers</span></span> |
| <span data-ttu-id="07e22-237">HTTP-сервер Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-237">Apache HTTP Server</span></span> | <span data-ttu-id="07e22-238">Бездействующие рабочие роли</span><span class="sxs-lookup"><span data-stu-id="07e22-238">Idle Workers</span></span> |
| <span data-ttu-id="07e22-239">HTTP-сервер Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-239">Apache HTTP Server</span></span> | <span data-ttu-id="07e22-240">Счетчик производительности "Занятые рабочие роли"</span><span class="sxs-lookup"><span data-stu-id="07e22-240">Pct Busy Workers</span></span> |
| <span data-ttu-id="07e22-241">HTTP-сервер Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-241">Apache HTTP Server</span></span> | <span data-ttu-id="07e22-242">Счетчик производительности "Общее использование ЦП"</span><span class="sxs-lookup"><span data-stu-id="07e22-242">Total Pct CPU</span></span> |
| <span data-ttu-id="07e22-243">Виртуальный узел Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-243">Apache Virtual Host</span></span> | <span data-ttu-id="07e22-244">Ошибок в минуту (клиент)</span><span class="sxs-lookup"><span data-stu-id="07e22-244">Errors per Minute - Client</span></span> |
| <span data-ttu-id="07e22-245">Виртуальный узел Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-245">Apache Virtual Host</span></span> | <span data-ttu-id="07e22-246">Ошибок в минуту (сервер)</span><span class="sxs-lookup"><span data-stu-id="07e22-246">Errors per Minute - Server</span></span> |
| <span data-ttu-id="07e22-247">Виртуальный узел Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-247">Apache Virtual Host</span></span> | <span data-ttu-id="07e22-248">КБ на запрос</span><span class="sxs-lookup"><span data-stu-id="07e22-248">KB per Request</span></span> |
| <span data-ttu-id="07e22-249">Виртуальный узел Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-249">Apache Virtual Host</span></span> | <span data-ttu-id="07e22-250">КБ в запросах в секунду</span><span class="sxs-lookup"><span data-stu-id="07e22-250">Requests KB per Second</span></span> |
| <span data-ttu-id="07e22-251">Виртуальный узел Apache</span><span class="sxs-lookup"><span data-stu-id="07e22-251">Apache Virtual Host</span></span> | <span data-ttu-id="07e22-252">Запросов в секунду</span><span class="sxs-lookup"><span data-stu-id="07e22-252">Requests per Second</span></span> |



## <a name="next-steps"></a><span data-ttu-id="07e22-253">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="07e22-253">Next steps</span></span>
* <span data-ttu-id="07e22-254">[Сбор счетчиков производительности](log-analytics-data-sources-performance-counters.md) с агентов Linux.</span><span class="sxs-lookup"><span data-stu-id="07e22-254">[Collect performance counters](log-analytics-data-sources-performance-counters.md) from Linux agents.</span></span>
* <span data-ttu-id="07e22-255">Дополнительные сведения о [входа выполняет](log-analytics-log-searches.md) tooanalyze hello данные, собранные из источников данных и решений.</span><span class="sxs-lookup"><span data-stu-id="07e22-255">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span> 
