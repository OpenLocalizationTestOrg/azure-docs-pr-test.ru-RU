---
title: "Часто задаваемые вопросы об управлении API Azure | Документация Майкрософт"
description: "Ознакомьтесь с ответами на часто задаваемые вопросы, шаблонами и рекомендациями относительно службы управления API Azure."
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 2fa193cd-ea71-4b33-a5ca-1f55e5351e23
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: apimpm
ms.openlocfilehash: a0bf8995913511b0e14304a1259f13de4aa9e04b
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/03/2017
---
# <a name="azure-api-management-faqs"></a><span data-ttu-id="cd26a-103">Часто задаваемые вопросы о службе управления API Azure</span><span class="sxs-lookup"><span data-stu-id="cd26a-103">Azure API Management FAQs</span></span>
<span data-ttu-id="cd26a-104">Ознакомьтесь с ответами на часто задаваемые вопросы, шаблонами и рекомендациями относительно службы управления API Azure.</span><span class="sxs-lookup"><span data-stu-id="cd26a-104">Get the answers to common questions, patterns, and best practices for Azure API Management.</span></span>

## <a name="contact-us"></a><span data-ttu-id="cd26a-105">Свяжитесь с нами</span><span class="sxs-lookup"><span data-stu-id="cd26a-105">Contact us</span></span>
* [<span data-ttu-id="cd26a-106">Как задать вопрос рабочей группе службы управления API Microsoft Azure?</span><span class="sxs-lookup"><span data-stu-id="cd26a-106">How can I ask the Microsoft Azure API Management team a question?</span></span>](#how-can-i-ask-the-microsoft-azure-api-management-team-a-question)


## <a name="frequently-asked-questions"></a><span data-ttu-id="cd26a-107">Часто задаваемые вопросы</span><span class="sxs-lookup"><span data-stu-id="cd26a-107">Frequently asked questions</span></span>
* [<span data-ttu-id="cd26a-108">Что означает, если функция пребывает в предварительной версии?</span><span class="sxs-lookup"><span data-stu-id="cd26a-108">What does it mean when a feature is in preview?</span></span>](#what-does-it-mean-when-a-feature-is-in-preview)
* [<span data-ttu-id="cd26a-109">Как защитить подключение шлюза управления API к внутренним службам?</span><span class="sxs-lookup"><span data-stu-id="cd26a-109">How can I secure the connection between the API Management gateway and my back-end services?</span></span>](#how-can-i-secure-the-connection-between-the-api-management-gateway-and-my-back-end-services)
* [<span data-ttu-id="cd26a-110">Как скопировать экземпляр службы управления API в новый экземпляр?</span><span class="sxs-lookup"><span data-stu-id="cd26a-110">How do I copy my API Management service instance to a new instance?</span></span>](#how-do-i-copy-my-api-management-service-instance-to-a-new-instance)
* [<span data-ttu-id="cd26a-111">Можно ли управлять экземпляром службы управления API программными средствами?</span><span class="sxs-lookup"><span data-stu-id="cd26a-111">Can I manage my API Management instance programmatically?</span></span>](#can-i-manage-my-api-management-instance-programmatically)
* [<span data-ttu-id="cd26a-112">Как добавить пользователя в группу администраторов?</span><span class="sxs-lookup"><span data-stu-id="cd26a-112">How do I add a user to the Administrators group?</span></span>](#how-do-i-add-a-user-to-the-administrators-group)
* [<span data-ttu-id="cd26a-113">Почему политика, которую я хочу добавить, недоступна в редакторе политик?</span><span class="sxs-lookup"><span data-stu-id="cd26a-113">Why is the policy that I want to add unavailable in the policy editor?</span></span>](#why-is-the-policy-that-i-want-to-add-unavailable-in-the-policy-editor)
* [<span data-ttu-id="cd26a-114">Как использовать управление версиями в службе управления API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-114">How do I use API versioning in API Management?</span></span>](#how-do-i-use-api-versioning-in-api-management)
* [<span data-ttu-id="cd26a-115">Как настроить несколько сред в одном API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-115">How do I set up multiple environments in a single API?</span></span>](#how-do-i-set-up-multiple-environments-in-a-single-api)
* [<span data-ttu-id="cd26a-116">Можно ли использовать SOAP в управлении API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-116">Can I use SOAP with API Management?</span></span>](#can-i-use-soap-with-api-management)
* [<span data-ttu-id="cd26a-117">Является ли IP-адрес шлюза управления API постоянным? Можно ли использовать его в правилах брандмауэра?</span><span class="sxs-lookup"><span data-stu-id="cd26a-117">Is the API Management gateway IP address constant? Can I use it in firewall rules?</span></span>](#is-the-api-management-gateway-ip-address-constant-can-i-use-it-in-firewall-rules)
* [<span data-ttu-id="cd26a-118">Можно ли настроить на сервере авторизации OAuth 2.0 систему безопасности служб федерации Active Directory?</span><span class="sxs-lookup"><span data-stu-id="cd26a-118">Can I configure an OAuth 2.0 authorization server with AD FS security?</span></span>](#can-i-configure-an-oauth-20-authorization-server-with-adfs-security)
* [<span data-ttu-id="cd26a-119">Какой метод маршрутизации использует служба управления API при развертывании в нескольких географических расположениях?</span><span class="sxs-lookup"><span data-stu-id="cd26a-119">What routing method does API Management use in deployments to multiple geographic locations?</span></span>](#what-routing-method-does-api-management-use-in-deployments-to-multiple-geographic-locations)
* [<span data-ttu-id="cd26a-120">Можно ли использовать шаблон Azure Resource Manager, чтобы создать экземпляр службы управления API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-120">Can I use an Azure Resource Manager template to create an API Management service instance?</span></span>](#can-i-use-an-azure-resource-manager-template-to-create-an-api-management-service-instance)
* [<span data-ttu-id="cd26a-121">Можно ли использовать самозаверяющий сертификат SSL для сервера?</span><span class="sxs-lookup"><span data-stu-id="cd26a-121">Can I use a self-signed SSL certificate for a back end?</span></span>](#can-i-use-a-self-signed-ssl-certificate-for-a-back-end)
* [<span data-ttu-id="cd26a-122">Почему происходит ошибка проверки подлинности при попытке клонировать репозиторий Git?</span><span class="sxs-lookup"><span data-stu-id="cd26a-122">Why do I get an authentication failure when I try to clone a GIT repository?</span></span>](#why-do-i-get-an-authentication-failure-when-i-try-to-clone-a-git-repository)
* [<span data-ttu-id="cd26a-123">Работает ли управление API с Azure ExpressRoute?</span><span class="sxs-lookup"><span data-stu-id="cd26a-123">Does API Management work with Azure ExpressRoute?</span></span>](#does-api-management-work-with-azure-expressroute)
* [<span data-ttu-id="cd26a-124">Зачем требуется выделенная подсеть в виртуальных сетях типа Resource Manager, если в них развернута служба управления API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-124">Why do we require a dedicated subnet in Resource Manager style VNETs when API Management is deployed into them?</span></span>](#why-do-we-require-a-dedicated-subnet-in-resource-manager-style-vnets-when-api-management-is-deployed-into-them)
* [<span data-ttu-id="cd26a-125">Каков минимальный размер подсети, требуемый при развертывании службы управления API в виртуальной сети?</span><span class="sxs-lookup"><span data-stu-id="cd26a-125">What is the minimum subnet size needed when deploying API Management into a VNET?</span></span>](#what-is-the-minimum-subnet-size-needed-when-deploying-api-management-into-a-vnet)
* [<span data-ttu-id="cd26a-126">Можно ли перенести экземпляр службы управления API из одной подписки в другую?</span><span class="sxs-lookup"><span data-stu-id="cd26a-126">Can I move an API Management service from one subscription to another?</span></span>](#can-i-move-an-api-management-service-from-one-subscription-to-another)
* [<span data-ttu-id="cd26a-127">Существуют ли ограничения на импорт API или известные проблемы, связанные с этим процессом?</span><span class="sxs-lookup"><span data-stu-id="cd26a-127">Are there restrictions on or known issues with importing my API?</span></span>](#are-there-restrictions-on-or-known-issues-with-importing-my-api)

### <a name="how-can-i-ask-the-microsoft-azure-api-management-team-a-question"></a><span data-ttu-id="cd26a-128">Как задать вопрос рабочей группе службы управления API Microsoft Azure?</span><span class="sxs-lookup"><span data-stu-id="cd26a-128">How can I ask the Microsoft Azure API Management team a question?</span></span>
<span data-ttu-id="cd26a-129">С нами можно связаться одним из следующих способов:</span><span class="sxs-lookup"><span data-stu-id="cd26a-129">You can contact us by using one of these options:</span></span>

* <span data-ttu-id="cd26a-130">Свои вопросы вы можете разместить на нашем [форуме MSDN для службы управления API](https://social.msdn.microsoft.com/forums/azure/home?forum=azureapimgmt).</span><span class="sxs-lookup"><span data-stu-id="cd26a-130">Post your questions in our [API Management MSDN forum](https://social.msdn.microsoft.com/forums/azure/home?forum=azureapimgmt).</span></span>
* <span data-ttu-id="cd26a-131">Отправьте сообщение электронной почты по адресу <mailto:apimgmt@microsoft.com>.</span><span class="sxs-lookup"><span data-stu-id="cd26a-131">Send an email to <mailto:apimgmt@microsoft.com>.</span></span>
* <span data-ttu-id="cd26a-132">Отправьте нам запрос на функцию на [форуме отзывов Azure](https://feedback.azure.com/forums/248703-api-management).</span><span class="sxs-lookup"><span data-stu-id="cd26a-132">Send us a feature request in the [Azure feedback forum](https://feedback.azure.com/forums/248703-api-management).</span></span>

### <a name="what-does-it-mean-when-a-feature-is-in-preview"></a><span data-ttu-id="cd26a-133">Что означает, если функция пребывает в предварительной версии?</span><span class="sxs-lookup"><span data-stu-id="cd26a-133">What does it mean when a feature is in preview?</span></span>
<span data-ttu-id="cd26a-134">Это значит, что мы активно изучаем отзывы пользователей о работе функции.</span><span class="sxs-lookup"><span data-stu-id="cd26a-134">When a feature is in preview, it means that we're actively seeking feedback on how the feature is working for you.</span></span> <span data-ttu-id="cd26a-135">Функция в предварительной версии фактически завершена, но, возможно, мы внесем важные изменения в ответ на отзывы клиентов.</span><span class="sxs-lookup"><span data-stu-id="cd26a-135">A feature in preview is functionally complete, but it's possible that we'll make a breaking change in response to customer feedback.</span></span> <span data-ttu-id="cd26a-136">Мы рекомендуем не закладывать в основу рабочей среды функции в предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="cd26a-136">We recommend that you don't depend on a feature that is in preview in your production environment.</span></span> <span data-ttu-id="cd26a-137">Если вы хотите оставить отзыв о функциях, доступных в предварительной версии, отправьте нам его одним из способов, описанных в разделе [Как задать вопрос рабочей группе службы управления API Microsoft Azure?](#how-can-i-ask-the-microsoft-azure-api-management-team-a-question).</span><span class="sxs-lookup"><span data-stu-id="cd26a-137">If you have any feedback on preview features, please let us know through one of the contact options in [How can I ask the Microsoft Azure API Management team a question?](#how-can-i-ask-the-microsoft-azure-api-management-team-a-question).</span></span>

### <a name="how-can-i-secure-the-connection-between-the-api-management-gateway-and-my-back-end-services"></a><span data-ttu-id="cd26a-138">Как защитить подключение шлюза управления API к внутренним службам?</span><span class="sxs-lookup"><span data-stu-id="cd26a-138">How can I secure the connection between the API Management gateway and my back-end services?</span></span>
<span data-ttu-id="cd26a-139">Существует несколько способов защитить такое подключение.</span><span class="sxs-lookup"><span data-stu-id="cd26a-139">You have several options to secure the connection between the API Management gateway and your back-end services.</span></span> <span data-ttu-id="cd26a-140">Вы можете:</span><span class="sxs-lookup"><span data-stu-id="cd26a-140">You can:</span></span>

* <span data-ttu-id="cd26a-141">Использование обычной проверки подлинности HTTP.</span><span class="sxs-lookup"><span data-stu-id="cd26a-141">Use HTTP basic authentication.</span></span> <span data-ttu-id="cd26a-142">Дополнительные сведения см. в разделе [Настройка параметров API](api-management-howto-create-apis.md#configure-api-settings).</span><span class="sxs-lookup"><span data-stu-id="cd26a-142">For more information, see [Configure API settings](api-management-howto-create-apis.md#configure-api-settings).</span></span>
* <span data-ttu-id="cd26a-143">использовать взаимную проверку подлинности SSL, как описано в статье [Защита фоновых служб посредством проверки подлинности с помощью сертификата клиента в службе Azure API Management](api-management-howto-mutual-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="cd26a-143">Use SSL mutual authentication as described in [How to secure back-end services by using client certificate authentication in Azure API Management](api-management-howto-mutual-certificates.md).</span></span>
* <span data-ttu-id="cd26a-144">использовать разрешенный список IP-адресов во внутренних службах.</span><span class="sxs-lookup"><span data-stu-id="cd26a-144">Use IP whitelisting on your back-end service.</span></span> <span data-ttu-id="cd26a-145">Если у вас есть экземпляр службы управления API уровня "Стандартный" или "Премиум", IP-адрес шлюза остается неизменным.</span><span class="sxs-lookup"><span data-stu-id="cd26a-145">If you have a Standard or Premium tier API Management instance, the IP address of the gateway remains constant.</span></span> <span data-ttu-id="cd26a-146">Можно задать список разрешений и включить в него этот IP-адрес.</span><span class="sxs-lookup"><span data-stu-id="cd26a-146">You can set your whitelist to allow this IP address.</span></span> <span data-ttu-id="cd26a-147">IP-адрес экземпляра службы управления API можно узнать на панели мониторинга на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="cd26a-147">You can get the IP address of your API Management instance on the Dashboard in the Azure portal.</span></span>
* <span data-ttu-id="cd26a-148">подключить экземпляр службы управления API к виртуальной сети Azure.</span><span class="sxs-lookup"><span data-stu-id="cd26a-148">Connect your API Management instance to an Azure Virtual Network.</span></span>

### <a name="how-do-i-copy-my-api-management-service-instance-to-a-new-instance"></a><span data-ttu-id="cd26a-149">Как скопировать экземпляр службы управления API в новый экземпляр?</span><span class="sxs-lookup"><span data-stu-id="cd26a-149">How do I copy my API Management service instance to a new instance?</span></span>
<span data-ttu-id="cd26a-150">Существует несколько способов сделать это.</span><span class="sxs-lookup"><span data-stu-id="cd26a-150">You have several options if you want to copy an API Management instance to a new instance.</span></span> <span data-ttu-id="cd26a-151">Вы можете:</span><span class="sxs-lookup"><span data-stu-id="cd26a-151">You can:</span></span>

* <span data-ttu-id="cd26a-152">использовать функцию архивации и восстановления в службе управления API.</span><span class="sxs-lookup"><span data-stu-id="cd26a-152">Use the backup and restore function in API Management.</span></span> <span data-ttu-id="cd26a-153">Дополнительные сведения см. в статье [Реализация аварийного восстановления с помощью функций резервного копирования и восстановления службы в Azure API Management](api-management-howto-disaster-recovery-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="cd26a-153">For more information, see [How to implement disaster recovery by using service backup and restore in Azure API Management](api-management-howto-disaster-recovery-backup-restore.md).</span></span>
* <span data-ttu-id="cd26a-154">создать функцию архивации и восстановления с помощью [REST API управления API](https://msdn.microsoft.com/library/azure/dn776326.aspx).</span><span class="sxs-lookup"><span data-stu-id="cd26a-154">Create your own backup and restore feature by using the [API Management REST API](https://msdn.microsoft.com/library/azure/dn776326.aspx).</span></span> <span data-ttu-id="cd26a-155">Используйте REST API, чтобы сохранить и восстановить сущности из необходимого экземпляра службы.</span><span class="sxs-lookup"><span data-stu-id="cd26a-155">Use the REST API to save and restore the entities from the service instance that you want.</span></span>
* <span data-ttu-id="cd26a-156">Скачайте файл конфигурации службы с помощью Git и загрузите этот файл в новый экземпляр.</span><span class="sxs-lookup"><span data-stu-id="cd26a-156">Download the service configuration by using Git, and then upload it to a new instance.</span></span> <span data-ttu-id="cd26a-157">Дополнительные сведения см. в статье [Сохранение и настройка конфигурации службы управления API с помощью Git](api-management-configuration-repository-git.md).</span><span class="sxs-lookup"><span data-stu-id="cd26a-157">For more information, see [How to save and configure your API Management service configuration by using Git](api-management-configuration-repository-git.md).</span></span>

### <a name="can-i-manage-my-api-management-instance-programmatically"></a><span data-ttu-id="cd26a-158">Можно ли управлять экземпляром службы управления API программными средствами?</span><span class="sxs-lookup"><span data-stu-id="cd26a-158">Can I manage my API Management instance programmatically?</span></span>
<span data-ttu-id="cd26a-159">Да, вы можете управлять службой управления API с помощью программных средств:</span><span class="sxs-lookup"><span data-stu-id="cd26a-159">Yes, you can manage API Management programmatically by using:</span></span>

* <span data-ttu-id="cd26a-160">[REST API службы управления API](https://msdn.microsoft.com/library/azure/dn776326.aspx);</span><span class="sxs-lookup"><span data-stu-id="cd26a-160">The [API Management REST API](https://msdn.microsoft.com/library/azure/dn776326.aspx).</span></span>
* <span data-ttu-id="cd26a-161">[SDK для библиотеки управления службой ApiManagement Microsoft Azure](http://aka.ms/apimsdk);</span><span class="sxs-lookup"><span data-stu-id="cd26a-161">The [Microsoft Azure ApiManagement Service Management Library SDK](http://aka.ms/apimsdk).</span></span>
* <span data-ttu-id="cd26a-162">командлетов PowerShell для [развертывания служб](https://msdn.microsoft.com/library/mt619282.aspx) и [управления ими](https://msdn.microsoft.com/library/mt613507.aspx).</span><span class="sxs-lookup"><span data-stu-id="cd26a-162">The [Service deployment](https://msdn.microsoft.com/library/mt619282.aspx) and [Service management](https://msdn.microsoft.com/library/mt613507.aspx) PowerShell cmdlets.</span></span>

### <a name="how-do-i-add-a-user-to-the-administrators-group"></a><span data-ttu-id="cd26a-163">Как добавить пользователя в группу администраторов?</span><span class="sxs-lookup"><span data-stu-id="cd26a-163">How do I add a user to the Administrators group?</span></span>
<span data-ttu-id="cd26a-164">Есть несколько способов добавления пользователя в эту группу:</span><span class="sxs-lookup"><span data-stu-id="cd26a-164">Here's how you can add a user to the Administrators group:</span></span>

1. <span data-ttu-id="cd26a-165">Войдите на [портал Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="cd26a-165">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="cd26a-166">Перейдите в группу ресурсов, где содержится экземпляр службы управления API, который нужно обновить.</span><span class="sxs-lookup"><span data-stu-id="cd26a-166">Go to the resource group that has the API Management instance you want to update.</span></span>
3. <span data-ttu-id="cd26a-167">В службе управления API назначьте роль **Api Management Contributor** (Участник управления API) пользователю.</span><span class="sxs-lookup"><span data-stu-id="cd26a-167">In API Management, assign the **Api Management Contributor** role to the user.</span></span>

<span data-ttu-id="cd26a-168">Теперь добавленный участник сможет использовать [командлеты](https://msdn.microsoft.com/library/mt613507.aspx) Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="cd26a-168">Now the newly added contributor can use Azure PowerShell [cmdlets](https://msdn.microsoft.com/library/mt613507.aspx).</span></span> <span data-ttu-id="cd26a-169">Войдите в систему от имени администратора:</span><span class="sxs-lookup"><span data-stu-id="cd26a-169">Here's how to sign in as an administrator:</span></span>

1. <span data-ttu-id="cd26a-170">Используйте командлет `Login-AzureRmAccount`, чтобы войти.</span><span class="sxs-lookup"><span data-stu-id="cd26a-170">Use the `Login-AzureRmAccount` cmdlet to sign in.</span></span>
2. <span data-ttu-id="cd26a-171">Задайте контекст для подписки, содержащей службу, используя `Set-AzureRmContext -SubscriptionID <subscriptionGUID>`.</span><span class="sxs-lookup"><span data-stu-id="cd26a-171">Set the context to the subscription that has the service by using `Set-AzureRmContext -SubscriptionID <subscriptionGUID>`.</span></span>
3. <span data-ttu-id="cd26a-172">Получите URL-адрес единого входа, выполнив `Get-AzureRmApiManagementSsoToken -ResourceGroupName <rgName> -Name <serviceName>`.</span><span class="sxs-lookup"><span data-stu-id="cd26a-172">Get a single sign-on URL by using `Get-AzureRmApiManagementSsoToken -ResourceGroupName <rgName> -Name <serviceName>`.</span></span>
4. <span data-ttu-id="cd26a-173">Используйте этот URL-адрес, чтобы войти на портал администрирования.</span><span class="sxs-lookup"><span data-stu-id="cd26a-173">Use the URL to access the admin portal.</span></span>

### <a name="why-is-the-policy-that-i-want-to-add-unavailable-in-the-policy-editor"></a><span data-ttu-id="cd26a-174">Почему политика, которую я хочу добавить, недоступна в редакторе политик?</span><span class="sxs-lookup"><span data-stu-id="cd26a-174">Why is the policy that I want to add unavailable in the policy editor?</span></span>
<span data-ttu-id="cd26a-175">Если в редакторе политик нужная политика отображается серым цветом или недоступна, убедитесь в правильности области ее действия.</span><span class="sxs-lookup"><span data-stu-id="cd26a-175">If the policy that you want to add appears dimmed or shaded in the policy editor, be sure that you are in the correct scope for the policy.</span></span> <span data-ttu-id="cd26a-176">Каждый оператор предназначен для использования в конкретной области и разделе политики.</span><span class="sxs-lookup"><span data-stu-id="cd26a-176">Each policy statement is designed for you to use in specific scopes and policy sections.</span></span> <span data-ttu-id="cd26a-177">Разделы политики и области ее действия см. в подразделе об использовании в разделе [API Management policies](https://msdn.microsoft.com/library/azure/dn894080.aspx) (Политики управления API).</span><span class="sxs-lookup"><span data-stu-id="cd26a-177">To review the policy sections and scopes for a policy, see the policy's Usage section in [API Management policies](https://msdn.microsoft.com/library/azure/dn894080.aspx).</span></span>

### <a name="how-do-i-use-api-versioning-in-api-management"></a><span data-ttu-id="cd26a-178">Как использовать управление версиями в службе управления API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-178">How do I use API versioning in API Management?</span></span>
<span data-ttu-id="cd26a-179">Управление версиями в службе управлении API предполагает несколько способов:</span><span class="sxs-lookup"><span data-stu-id="cd26a-179">You have a few options to use API versioning in API Management:</span></span>

* <span data-ttu-id="cd26a-180">В службе управления API вы можете настроить отдельные API, представляющие разные версии.</span><span class="sxs-lookup"><span data-stu-id="cd26a-180">In API Management, you can configure APIs to represent different versions.</span></span> <span data-ttu-id="cd26a-181">Например, может понадобиться настроить два разных API, MyAPIv1 и MyAPIv2.</span><span class="sxs-lookup"><span data-stu-id="cd26a-181">For example, you might have two different APIs, MyAPIv1 and MyAPIv2.</span></span> <span data-ttu-id="cd26a-182">Разработчик может выбрать версию, которую необходимо использовать.</span><span class="sxs-lookup"><span data-stu-id="cd26a-182">A developer can choose the version that the developer wants to use.</span></span>
* <span data-ttu-id="cd26a-183">Вы также можете настроить для API URL-адрес службы без учета версии, например https://my.api.</span><span class="sxs-lookup"><span data-stu-id="cd26a-183">You also can configure your API with a service URL that doesn't include a version segment, for example, https://my.api.</span></span> <span data-ttu-id="cd26a-184">Затем необходимо настроить сегмент версии для шаблона [перезаписи URL-адреса](https://msdn.microsoft.com/library/azure/dn894083.aspx#RewriteURL) каждой операции.</span><span class="sxs-lookup"><span data-stu-id="cd26a-184">Then, configure a version segment on each operation's [Rewrite URL](https://msdn.microsoft.com/library/azure/dn894083.aspx#RewriteURL) template.</span></span> <span data-ttu-id="cd26a-185">Например, есть операция, в которой используется [шаблон URL-адреса](api-management-howto-add-operations.md#url-template) /resource и [перезаписи URL-адреса](api-management-howto-add-operations.md#rewrite-url-template) /v1/Resource.</span><span class="sxs-lookup"><span data-stu-id="cd26a-185">For example, you can have an operation with a [URL template](api-management-howto-add-operations.md#url-template) called /resource and a [Rewrite URL](api-management-howto-add-operations.md#rewrite-url-template) template called /v1/Resource.</span></span> <span data-ttu-id="cd26a-186">Вы можете изменить значение сегмента версии для каждой операции по отдельности.</span><span class="sxs-lookup"><span data-stu-id="cd26a-186">You can change the version segment value separately for each operation.</span></span>
* <span data-ttu-id="cd26a-187">Если вы хотите оставить в URL-адресе службы API сегмент версии по умолчанию, задайте для выбранных операций политику, использующую политику [задания внутренней службы](https://msdn.microsoft.com/library/azure/dn894083.aspx#SetBackendService), изменяющую путь запроса к внутренней службе.</span><span class="sxs-lookup"><span data-stu-id="cd26a-187">If you'd like to keep a "default" version segment in the API's service URL, on selected operations, set a policy that uses the [Set backend service](https://msdn.microsoft.com/library/azure/dn894083.aspx#SetBackendService) policy to change the back-end request path.</span></span>

### <a name="how-do-i-set-up-multiple-environments-in-a-single-api"></a><span data-ttu-id="cd26a-188">Как настроить несколько сред в одном API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-188">How do I set up multiple environments in a single API?</span></span>
<span data-ttu-id="cd26a-189">Чтобы настроить несколько сред, например тестовую и рабочую, в одном API, используйте один из двух способов.</span><span class="sxs-lookup"><span data-stu-id="cd26a-189">To set up multiple environments, for example, a test environment and a production environment, in a single API, you have two options.</span></span> <span data-ttu-id="cd26a-190">Вы можете:</span><span class="sxs-lookup"><span data-stu-id="cd26a-190">You can:</span></span>

* <span data-ttu-id="cd26a-191">разместить различные API в одном клиенте;</span><span class="sxs-lookup"><span data-stu-id="cd26a-191">Host different APIs on the same tenant.</span></span>
* <span data-ttu-id="cd26a-192">разместить один и тот же API в разных клиентах.</span><span class="sxs-lookup"><span data-stu-id="cd26a-192">Host the same APIs on different tenants.</span></span>

### <a name="can-i-use-soap-with-api-management"></a><span data-ttu-id="cd26a-193">Можно ли использовать SOAP в управлении API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-193">Can I use SOAP with API Management?</span></span>
<span data-ttu-id="cd26a-194">Сейчас поддерживается [сквозная передача SOAP](http://blogs.msdn.microsoft.com/apimanagement/2016/10/13/soap-pass-through/).</span><span class="sxs-lookup"><span data-stu-id="cd26a-194">[SOAP pass-through](http://blogs.msdn.microsoft.com/apimanagement/2016/10/13/soap-pass-through/) support is now available.</span></span> <span data-ttu-id="cd26a-195">Администраторы могут импортировать WSDL-файл своей службы SOAP, и служба управления API Azure создаст внешний интерфейс SOAP.</span><span class="sxs-lookup"><span data-stu-id="cd26a-195">Administrators can import the WSDL of their SOAP service, and Azure API Management will create a SOAP front end.</span></span> <span data-ttu-id="cd26a-196">Для служб SOAP доступны документация портала для разработчиков, консоль тестирования, политики и средства анализа.</span><span class="sxs-lookup"><span data-stu-id="cd26a-196">Developer portal documentation, test console, policies and analytics are all available for SOAP services.</span></span>

### <a name="is-the-api-management-gateway-ip-address-constant-can-i-use-it-in-firewall-rules"></a><span data-ttu-id="cd26a-197">Является ли IP-адрес шлюза управления API постоянным?</span><span class="sxs-lookup"><span data-stu-id="cd26a-197">Is the API Management gateway IP address constant?</span></span> <span data-ttu-id="cd26a-198">Можно ли использовать его в правилах брандмауэра?</span><span class="sxs-lookup"><span data-stu-id="cd26a-198">Can I use it in firewall rules?</span></span>
<span data-ttu-id="cd26a-199">На уровнях "Стандартный" и "Премиум" общедоступный (виртуальный) IP-адрес клиента управления API является статическим в течение всего времени существования клиента, кроме исключений ниже.</span><span class="sxs-lookup"><span data-stu-id="cd26a-199">At the Standard and Premium tiers, the public IP address (VIP) of the API Management tenant is static for the lifetime of the tenant, with some exceptions.</span></span> <span data-ttu-id="cd26a-200">IP-адрес изменяется в таких случаях:</span><span class="sxs-lookup"><span data-stu-id="cd26a-200">The IP address changes in these circumstances:</span></span>

* <span data-ttu-id="cd26a-201">Служба удалена или создана повторно.</span><span class="sxs-lookup"><span data-stu-id="cd26a-201">The service is deleted and then re-created.</span></span>
* <span data-ttu-id="cd26a-202">Подписка на службу переведена в состояние [Приостановлено](https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/subscription-lifecycle-api-reference.md#subscription-states) или [С предупреждением](https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/subscription-lifecycle-api-reference.md#subscription-states) (например, из-за неуплаты), а затем ее действие восстановлено.</span><span class="sxs-lookup"><span data-stu-id="cd26a-202">The service subscription is [suspended](https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/subscription-lifecycle-api-reference.md#subscription-states) or [warned](https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/subscription-lifecycle-api-reference.md#subscription-states) (for example, for nonpayment) and then reinstated.</span></span>
* <span data-ttu-id="cd26a-203">Вы добавили или удалили виртуальную сеть Azure (ее можно использовать только на уровне "Разработчик" или "Премиум").</span><span class="sxs-lookup"><span data-stu-id="cd26a-203">You add or remove Azure Virtual Network (you can use Virtual Network only at the Developer and Premium tier).</span></span>

<span data-ttu-id="cd26a-204">При развертывании в нескольких регионах региональный адрес изменяется, если остановить работу региона, а затем восстановить ее (развертывание в нескольких регионах можно использовать только на только на уровне "Премиум").</span><span class="sxs-lookup"><span data-stu-id="cd26a-204">For multi-region deployments, the regional address changes if the region is vacated and then reinstated (you can use multi-region deployment only at the Premium tier).</span></span>

<span data-ttu-id="cd26a-205">Клиентам уровня "Премиум", для которых настроено развертывание в нескольких регионах, назначается один общедоступный IP-адрес на регион.</span><span class="sxs-lookup"><span data-stu-id="cd26a-205">Premium tier tenants that are configured for multi-region deployment are assigned one public IP address per region.</span></span>

<span data-ttu-id="cd26a-206">IP-адрес (или адреса в случае развертывания в нескольких регионах) есть на странице клиента на портале Azure.</span><span class="sxs-lookup"><span data-stu-id="cd26a-206">You can get your IP address (or addresses, in a multi-region deployment) on the tenant page in the Azure portal.</span></span>

### <a name="can-i-configure-an-oauth-20-authorization-server-with-ad-fs-security"></a><span data-ttu-id="cd26a-207">Можно ли настроить на сервере авторизации OAuth 2.0 систему безопасности служб федерации Active Directory?</span><span class="sxs-lookup"><span data-stu-id="cd26a-207">Can I configure an OAuth 2.0 authorization server with AD FS security?</span></span>
<span data-ttu-id="cd26a-208">Дополнительные сведения о настройке системы безопасности служб федерации Active Directory (AD FS) на сервере авторизации OAuth 2.0 см. в записи блога [Using ADFS in API Management](https://phvbaars.wordpress.com/2016/02/06/using-adfs-in-api-management/) (Использование служб федерации Active Directory в службе управления API).</span><span class="sxs-lookup"><span data-stu-id="cd26a-208">To learn how to configure an OAuth 2.0 authorization server with Active Directory Federation Services (AD FS) security, see [Using ADFS in API Management](https://phvbaars.wordpress.com/2016/02/06/using-adfs-in-api-management/).</span></span>

### <a name="what-routing-method-does-api-management-use-in-deployments-to-multiple-geographic-locations"></a><span data-ttu-id="cd26a-209">Какой метод маршрутизации использует служба управления API при развертывании в нескольких географических расположениях?</span><span class="sxs-lookup"><span data-stu-id="cd26a-209">What routing method does API Management use in deployments to multiple geographic locations?</span></span>
<span data-ttu-id="cd26a-210">При развертывании в нескольких географических расположениях служба управления API применяет [маршрутизацию трафика для повышения производительности](../traffic-manager/traffic-manager-routing-methods.md#priority).</span><span class="sxs-lookup"><span data-stu-id="cd26a-210">API Management uses the [performance traffic routing method](../traffic-manager/traffic-manager-routing-methods.md#priority) in deployments to multiple geographic locations.</span></span> <span data-ttu-id="cd26a-211">Входящий трафик направляется на ближайший шлюз API.</span><span class="sxs-lookup"><span data-stu-id="cd26a-211">Incoming traffic is routed to the closest API gateway.</span></span> <span data-ttu-id="cd26a-212">Если регион становится недоступен, входящий трафик автоматически маршрутизируется на следующий ближайший шлюз.</span><span class="sxs-lookup"><span data-stu-id="cd26a-212">If one region goes offline, incoming traffic is automatically routed to the next closest gateway.</span></span> <span data-ttu-id="cd26a-213">Дополнительные сведения о методах маршрутизации см. в статье [Методы маршрутизации трафика диспетчером трафика](../traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="cd26a-213">Learn more about routing methods in [Traffic Manager routing methods](../traffic-manager/traffic-manager-routing-methods.md).</span></span>

### <a name="can-i-use-an-azure-resource-manager-template-to-create-an-api-management-service-instance"></a><span data-ttu-id="cd26a-214">Можно ли использовать шаблон Azure Resource Manager, чтобы создать экземпляр службы управления API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-214">Can I use an Azure Resource Manager template to create an API Management service instance?</span></span>
<span data-ttu-id="cd26a-215">Да.</span><span class="sxs-lookup"><span data-stu-id="cd26a-215">Yes.</span></span> <span data-ttu-id="cd26a-216">Чтобы получить шаблоны быстрого запуска, посетите страницу [службы управления API Azure](http://aka.ms/apimtemplate).</span><span class="sxs-lookup"><span data-stu-id="cd26a-216">See the [Azure API Management Service](http://aka.ms/apimtemplate) QuickStart templates.</span></span>

### <a name="can-i-use-a-self-signed-ssl-certificate-for-a-back-end"></a><span data-ttu-id="cd26a-217">Можно ли использовать самозаверяющий сертификат SSL для сервера?</span><span class="sxs-lookup"><span data-stu-id="cd26a-217">Can I use a self-signed SSL certificate for a back end?</span></span>
<span data-ttu-id="cd26a-218">Да.</span><span class="sxs-lookup"><span data-stu-id="cd26a-218">Yes.</span></span> <span data-ttu-id="cd26a-219">Вот как можно использовать его для серверной части:</span><span class="sxs-lookup"><span data-stu-id="cd26a-219">Here's how to use a self-signed Secure Sockets Layer (SSL) certificate for a back end:</span></span>

1. <span data-ttu-id="cd26a-220">Создайте [серверную](https://msdn.microsoft.com/library/azure/dn935030.aspx) сущность с помощью службы управления API.</span><span class="sxs-lookup"><span data-stu-id="cd26a-220">Create a [Backend](https://msdn.microsoft.com/library/azure/dn935030.aspx) entity by using API Management.</span></span>
2. <span data-ttu-id="cd26a-221">Задайте для свойства **skipCertificateChainValidation** значение **true**.</span><span class="sxs-lookup"><span data-stu-id="cd26a-221">Set the **skipCertificateChainValidation** property to **true**.</span></span>
3. <span data-ttu-id="cd26a-222">Если вы хотите запретить использование самозаверяющего сертификата, удалите серверную сущность или задайте для свойства **skipCertificateChainValidation** значение **false**.</span><span class="sxs-lookup"><span data-stu-id="cd26a-222">If you no longer want to allow self-signed certificates, delete the Backend entity, or set the **skipCertificateChainValidation** property to **false**.</span></span>

### <a name="why-do-i-get-an-authentication-failure-when-i-try-to-clone-a-git-repository"></a><span data-ttu-id="cd26a-223">Почему происходит ошибка проверки подлинности при попытке клонировать репозиторий Git?</span><span class="sxs-lookup"><span data-stu-id="cd26a-223">Why do I get an authentication failure when I try to clone a Git repository?</span></span>
<span data-ttu-id="cd26a-224">Если вы используете диспетчер учетных данных Git или пытаетесь клонировать репозиторий с помощью Visual Studio, вы можете столкнуться с известной проблемой в диалоговом окне учетных данных Windows.</span><span class="sxs-lookup"><span data-stu-id="cd26a-224">If you use Git Credential Manager, or if you're trying to clone a Git repository by using Visual Studio, you might run into a known issue with the Windows credentials dialog box.</span></span> <span data-ttu-id="cd26a-225">Это диалоговое окно ограничивает длину пароля до 127 символов и усекает пароль, созданный корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="cd26a-225">The dialog box limits password length to 127 characters, and it truncates the Microsoft-generated password.</span></span> <span data-ttu-id="cd26a-226">Мы работаем над сокращением пароля.</span><span class="sxs-lookup"><span data-stu-id="cd26a-226">We are working on shortening the password.</span></span> <span data-ttu-id="cd26a-227">Пока для клонирования используйте Git Bash.</span><span class="sxs-lookup"><span data-stu-id="cd26a-227">For now, please use Git Bash to clone your Git repository.</span></span>

### <a name="does-api-management-work-with-azure-expressroute"></a><span data-ttu-id="cd26a-228">Работает ли управление API с Azure ExpressRoute?</span><span class="sxs-lookup"><span data-stu-id="cd26a-228">Does API Management work with Azure ExpressRoute?</span></span>
<span data-ttu-id="cd26a-229">Да.</span><span class="sxs-lookup"><span data-stu-id="cd26a-229">Yes.</span></span> <span data-ttu-id="cd26a-230">Служба управления API работает с Azure ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="cd26a-230">API Management works with Azure ExpressRoute.</span></span>

### <a name="why-do-we-require-a-dedicated-subnet-in-resource-manager-style-vnets-when-api-management-is-deployed-into-them"></a><span data-ttu-id="cd26a-231">Зачем требуется выделенная подсеть в виртуальных сетях типа Resource Manager, если в них развернута служба управления API?</span><span class="sxs-lookup"><span data-stu-id="cd26a-231">Why do we require a dedicated subnet in Resource Manager style VNETs when API Management is deployed into them?</span></span>
<span data-ttu-id="cd26a-232">Выделенная подсеть для службы управления API требуется по той причине, что служба основана на классической модели развертывания (уровень PAAS V1).</span><span class="sxs-lookup"><span data-stu-id="cd26a-232">The dedicated subnet requirement for API Management comes from the fact, that it is built on Classic (PAAS V1 layer) deployment model.</span></span> <span data-ttu-id="cd26a-233">Хотя ее можно развернуть в виртуальной сети Resource Manager (уровень V2), имеются последствия.</span><span class="sxs-lookup"><span data-stu-id="cd26a-233">While we can deploy into a Resource Manager VNET (V2 layer), there are consequences to that.</span></span> <span data-ttu-id="cd26a-234">Классическая модель развертывания в Azure не связана тесно с моделью развертывания с помощью Resource Manager. Поэтому при создании ресурса на уровне V2 уровень V1 не знает об этом, и возможны проблемы. Например, служба управления API может попытаться использовать IP-адрес, который уже выделен сетевому адаптеру (основанному на уровне V2).</span><span class="sxs-lookup"><span data-stu-id="cd26a-234">The Classic deployment model in Azure is not tightly coupled with the Resource Manager model and so if you create a resource in V2 layer, the V1 layer doesn't know about it and problems can happen, such as API Management trying to use an IP that is already allocated to a NIC (built on V2).</span></span>
<span data-ttu-id="cd26a-235">Дополнительные сведения о различиях между классической моделью и моделью Resource Manager в Azure см. в разделе [Развертывание с помощью Azure Resource Manager и классическое развертывание](../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="cd26a-235">To learn more about difference of Classic and Resource Manager models in Azure refer to [difference in deployment models](../azure-resource-manager/resource-manager-deployment-model.md).</span></span>

### <a name="what-is-the-minimum-subnet-size-needed-when-deploying-api-management-into-a-vnet"></a><span data-ttu-id="cd26a-236">Каков минимальный размер подсети, требуемый при развертывании службы управления API в виртуальной сети?</span><span class="sxs-lookup"><span data-stu-id="cd26a-236">What is the minimum subnet size needed when deploying API Management into a VNET?</span></span>
<span data-ttu-id="cd26a-237">Минимальный размер подсети, необходимой для развертывания службы управления API, — [/29](../virtual-network/virtual-networks-faq.md#configuration) (это минимальный размер подсети, поддерживаемый в Azure).</span><span class="sxs-lookup"><span data-stu-id="cd26a-237">The minimum subnet size needed to deploy API Management is [/29](../virtual-network/virtual-networks-faq.md#configuration), which is the minimum subnet size that Azure supports.</span></span>

### <a name="can-i-move-an-api-management-service-from-one-subscription-to-another"></a><span data-ttu-id="cd26a-238">Можно ли перенести экземпляр службы управления API из одной подписки в другую?</span><span class="sxs-lookup"><span data-stu-id="cd26a-238">Can I move an API Management service from one subscription to another?</span></span>
<span data-ttu-id="cd26a-239">Да.</span><span class="sxs-lookup"><span data-stu-id="cd26a-239">Yes.</span></span> <span data-ttu-id="cd26a-240">Чтобы узнать, как это сделать, см. статью [Перемещение ресурсов в новую группу ресурсов или подписку](../azure-resource-manager/resource-group-move-resources.md).</span><span class="sxs-lookup"><span data-stu-id="cd26a-240">To learn how, see [Move resources to a new resource group or subscription](../azure-resource-manager/resource-group-move-resources.md).</span></span>

### <a name="are-there-restrictions-on-or-known-issues-with-importing-my-api"></a><span data-ttu-id="cd26a-241">Существуют ли ограничения на импорт API или известные проблемы, связанные с этим процессом?</span><span class="sxs-lookup"><span data-stu-id="cd26a-241">Are there restrictions on or known issues with importing my API?</span></span>
<span data-ttu-id="cd26a-242">[Известные проблемы и ограничения](api-management-api-import-restrictions.md) для форматов Open API (Swagger), WSDL и WADL.</span><span class="sxs-lookup"><span data-stu-id="cd26a-242">[Known issues and restrictions](api-management-api-import-restrictions.md) for Open API(Swagger), WSDL and WADL formats.</span></span>
