---
title: "Импорт приложения-функции в качестве API с помощью портала Azure | Документация Майкрософт"
description: "В этом руководстве показано, как импортировать приложение-функцию в качестве API с помощью службы управления API."
services: api-management
documentationcenter: 
author: juliako
manager: cfowler
editor: 
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: tutorial
ms.date: 11/22/2017
ms.author: apimpm
ms.openlocfilehash: c6c7b1f3c2cba9d9f99f7ee1a8e0518bc30f0d27
ms.sourcegitcommit: b854df4fc66c73ba1dd141740a2b348de3e1e028
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2017
---
# <a name="import-a-function-app-as-an-api"></a>Импорт приложения-функции в качестве API

В этой статье объясняется, как импортировать приложение-функцию в качестве интерфейса API. Также здесь показано, как проверить API службы управления API.

В этой статье раскрываются следующие темы:

> [!div class="checklist"]
> * импорт приложения-функции в качестве API;
> * проверка API на портале Azure;
> * проверка API на портале разработчика.

## <a name="prerequisites"></a>Предварительные требования

+ Выполните задачи в кратком руководстве по [созданию экземпляра службы управления API Azure](get-started-create-service-instance.md).
+ Убедитесь, что в вашей подписке есть приложение-функция. Дополнительные сведения см. в разделе [Создание приложения-функции](../azure-functions/functions-create-first-azure-function.md#create-a-function-app).

[!INCLUDE [api-management-navigate-to-instance.md](../../includes/api-management-navigate-to-instance.md)]

## <a name="create-api"></a>Импорт и публикация API серверной части

1. Выберите **Интерфейсы API** в разделе **Управление API**.
2. Выберите **Приложение-функция** в списке **Add a new API** (Добавление нового API).

    ![Приложение-функция](./media/import-function-app-as-api/function-app-api.png)
3. Нажмите кнопку **Обзор**, чтобы просмотреть список приложений-функций в вашей подписке.
4. Выберите приложение. Служба управления API найдет файл Swagger, связанный с выбранным приложением, извлечет и импортирует его. 
5. Добавьте суффикс URL-адреса API. Суффиксом называется имя, которое идентифицирует конкретный API в экземпляре службы управления API. Он должен быть уникальным в пределах экземпляра службы управления API.
6. Чтобы опубликовать API, его нужно связать с определенным продуктом. В нашем случае используется продукт *Без ограничений*.  Если вы намерены опубликовать API и предоставить разработчикам доступ к нему, добавьте его к продукту. Это можно сделать во время создания API или позже.

    Продуктами называют ассоциации из одного или нескольких API. Вы можете объединить в них некоторое количество API и предлагать их разработчикам через портал разработчика. Чтобы получить доступ к API, разработчику нужно подписаться на соответствующий продукт. Затем он получит ключ подписки, что является необходимым для любого API этого продукта. Создавая экземпляр службы управления API, вы автоматически становитесь его администратором. Поэтому вы по умолчанию будете подписаны на все продукты.

    По умолчанию каждый экземпляр API управления поставляется с двумя демонстрационными продуктами:

    * **Starter**
    * **Unlimited**   
7. Нажмите кнопку **Создать**.

## <a name="test-the-new-apim-api-in-the-azure-portal"></a>Проверка нового API службы управления API на портале Azure

Операции могут быть вызваны из портала Azure, где предоставляется удобный способ для просмотра и проверки операций API.  

1. Выберите API, созданный на предыдущем шаге.
2. Откройте вкладку **Тест**.
3. Выберите какую-либо операцию.

    На странице отобразятся поля для параметров запроса и для заголовков. Один из заголовков, Ocp-Apim-Subscription-Key, содержит ключ подписки для продукта, связанного с этим API. Как создатель экземпляра службы управления API, вы автоматически являетесь администратором, поэтому сведения о ключе будут заполнены автоматически. 
1. Нажмите кнопку **Отправить**.

    Служба серверной части вернет ответ **200 ОК** и некоторые данные.

## <a name="call-operation"> </a>Вызов операции с портала разработчика

Также операции можно вызвать через **портал разработчиков**, чтобы проверить API. 

1. Выберите API, созданный на шаге "Импорт и публикация API серверной части".
2. Щелкните **Портал разработчика**.

    Откроется сайт портала разработчика.
3. Выберите созданный **API**.
4. Выберите операцию, которую необходимо проверить.
5. Щелкните **Попробовать**.
6. Нажмите кнопку **Отправить**.
    
    После вызова операции портал разработчика отображает **состояние ответа**, **заголовки ответа** и **содержимое ответа**.

[!INCLUDE [api-management-navigate-to-instance.md](../../includes/api-management-append-apis.md)]

[!INCLUDE [api-management-define-api-topics.md](../../includes/api-management-define-api-topics.md)]

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Преобразование и защита опубликованного API](transform-api.md)